$gwx_XC_2=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_2 || [];
function gz$gwx_XC_2_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_2_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'wf-wrap '],[[7],[3,'className']]])
Z([[7],[3,'cStyle']])
Z([[2,'>'],[[6],[[7],[3,'tabs']],[3,'length']],[1,1]])
Z([[7],[3,'tabs']])
Z([3,'tabItem'])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'name']]]])
Z([3,'handleTabClick'])
Z([a,[3,'wf-tab-item '],[[2,'?:'],[[2,'=='],[[7],[3,'selectedTabIndex']],[[7],[3,'index']]],[1,'active'],[1,'']]])
Z([[7],[3,'index']])
Z([a,[3,'padding-left: '],[[6],[[7],[3,'tabGapConfig']],[3,'titleMiddleGap']],[3,'rpx;padding-right: '],[[6],[[7],[3,'tabGapConfig']],[3,'titleMiddleGap']],[3,'rpx;']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'picIcon']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'subName']]]])
Z([[2,'||'],[[6],[[7],[3,'waterfallLeftList']],[3,'length']],[[6],[[7],[3,'waterfallRightList']],[3,'length']]])
Z([3,'itemName'])
Z([[4],[[5],[[5],[1,1]],[1,2]]])
Z(z[13])
Z([[2,'?:'],[[2,'=='],[[7],[3,'itemName']],[1,1]],[[7],[3,'waterfallLeftList']],[[7],[3,'waterfallRightList']]])
Z(z[13])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'pictxt']])
Z([3,'jumpToDetail'])
Z([3,'wf-item-inner wf-item-left'])
Z([[6],[[7],[3,'item']],[3,'biztype']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([[6],[[7],[3,'item']],[3,'jumpUrl']])
Z([a,[[2,'?:'],[[2,'=='],[[7],[3,'itemName']],[1,1]],[1,'left-'],[1,'right-']],z[8]])
Z([[6],[[7],[3,'item']],[3,'title']])
Z([3,'id'])
Z([3,'itemimg'])
Z([[6],[[7],[3,'item']],[3,'protag']])
Z([[6],[[7],[3,'item']],[3,'poiName']])
Z(z[29])
Z([[6],[[7],[3,'item']],[3,'isVideo']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'isadvert']],[1,'1']])
Z([3,'infotext'])
Z([[2,'||'],[[2,'||'],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'itag']]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'stag']]]]],[[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'tag']]]]])
Z([3,'tagView'])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'itag']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'stag']]]])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'item']],[3,'tag']]]])
Z([[6],[[7],[3,'item']],[3,'subtitle1']])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'price']],[1,undefined]])
Z([3,'price-num'])
Z([[2,'>'],[[6],[[7],[3,'item']],[3,'price']],[1,0]])
Z(z[42])
Z(z[42])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'price']],[1,undefined]],[[6],[[7],[3,'item']],[3,'author']]],[[6],[[6],[[7],[3,'item']],[3,'author']],[3,'avatUrl']]],[[6],[[6],[[7],[3,'item']],[3,'author']],[3,'nickName']]])
Z([3,'linewrap'])
Z([[6],[[6],[[7],[3,'item']],[3,'author']],[3,'vicon']])
Z([[6],[[6],[[7],[3,'item']],[3,'author']],[3,'identitycomment']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'destcard']])
Z(z[19])
Z([3,'wf-item-inner wf-item-left wf-item-inner_local'])
Z(z[21])
Z(z[22])
Z(z[23])
Z([a,z[24][1],z[8]])
Z(z[25])
Z(z[26])
Z(z[33])
Z(z[34])
Z(z[35])
Z(z[36])
Z(z[37])
Z(z[38])
Z(z[39])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'simplepic']])
Z(z[19])
Z([3,'wf-item-inner wf-item-left    wf-item-inner_simplepic'])
Z(z[21])
Z(z[22])
Z(z[23])
Z([a,z[24][1],z[8]])
Z(z[25])
Z(z[26])
Z(z[32])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'channel']])
Z(z[19])
Z([3,'wf-item-inner wf-item-left wf-item-channel'])
Z(z[21])
Z(z[22])
Z(z[23])
Z([a,z[24][1],z[8]])
Z(z[25])
Z(z[26])
Z([3,'itemimg-wapper'])
Z([a,[3,'background-color:'],[[7],[3,'defaultImgBgColor']],[3,';']])
Z([[6],[[7],[3,'item']],[3,'showLive']])
Z([3,'info-flow_label-list'])
Z([[6],[[7],[3,'item']],[3,'showUser']])
Z([[6],[[6],[[7],[3,'item']],[3,'user']],[3,'vIcon']])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'liveStatus']],[1,0]],[[6],[[7],[3,'item']],[3,'icon']]])
Z(z[33])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'item']],[3,'shouldAddItagToTitle']],[[6],[[7],[3,'item']],[3,'itag']]],[[6],[[6],[[7],[3,'item']],[3,'itag']],[3,'text']]])
Z([[2,'!'],[[2,'!'],[[6],[[6],[[7],[3,'item']],[3,'itag']],[3,'icon']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'item']],[3,'shouldAddItagToTitle']]],[[6],[[7],[3,'item']],[3,'itag']]],[[6],[[6],[[7],[3,'item']],[3,'itag']],[3,'text']]])
Z(z[93])
Z([[6],[[7],[3,'item']],[3,'showChannelInfo']])
Z([3,'channel-info-wrap'])
Z([a,[3,'background-image: linear-gradient(180deg, '],[[2,'+'],[1,'#'],[[6],[[6],[[7],[3,'item']],[3,'channelView']],[3,'startcolor']]],[3,' 0%, '],[[2,'+'],[1,'#'],[[6],[[6],[[7],[3,'item']],[3,'channelView']],[3,'endcolor']]],[3,' 99%)']])
Z([[6],[[6],[[7],[3,'item']],[3,'channelInfo']],[3,'jumpurl']])
Z(z[19])
Z([3,'info-wrap-content'])
Z(z[99])
Z([3,'channelInfo'])
Z([a,z[24][1],z[8]])
Z([3,'info-left'])
Z([3,'info-icon-wrap'])
Z([[6],[[6],[[7],[3,'item']],[3,'channelInfo']],[3,'iconUrl']])
Z([[6],[[6],[[7],[3,'item']],[3,'channelInfo']],[3,'image1']])
Z([[2,'!'],[[6],[[6],[[7],[3,'item']],[3,'channelInfo']],[3,'image1']]])
Z([[6],[[6],[[7],[3,'item']],[3,'channelInfo']],[3,'text']])
Z([[6],[[6],[[7],[3,'item']],[3,'channelView']],[3,'url']])
Z(z[101])
Z(z[105])
Z(z[106])
Z(z[107])
Z(z[108])
Z(z[109])
Z(z[110])
Z(z[111])
Z([[2,'&&'],[[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'wxsdk']],[[2,'!'],[[6],[[7],[3,'hideItemIds']],[[6],[[7],[3,'item']],[3,'innerId']]]]])
Z([3,'wf-item-inner wf-item-left wf-item-inner_wxsdk'])
Z(z[21])
Z(z[22])
Z([a,z[24][1],z[8]])
Z(z[25])
Z(z[26])
Z([3,'getWXAdData'])
Z([[6],[[7],[3,'item']],[3,'extension']])
Z([3,'100%'])
Z(z[22])
Z([[6],[[7],[3,'item']],[3,'pageIndex']])
Z(z[129])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_2_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_2=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_2=true;
var x=['./commonComponent/cwaterfall/cwaterfall.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_2_1()
var oP=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var xQ=_v()
_(oP,xQ)
if(_oz(z,2,e,s,gg)){xQ.wxVkey=1
var fS=_v()
_(xQ,fS)
var cT=function(oV,hU,cW,gg){
var lY=_v()
_(cW,lY)
if(_oz(z,5,oV,hU,gg)){lY.wxVkey=1
var aZ=_mz(z,'view',['bindtap',6,'class',1,'data-index',2,'style',3],[],oV,hU,gg)
var t1=_v()
_(aZ,t1)
if(_oz(z,10,oV,hU,gg)){t1.wxVkey=1
}
var e2=_v()
_(aZ,e2)
if(_oz(z,11,oV,hU,gg)){e2.wxVkey=1
}
t1.wxXCkey=1
e2.wxXCkey=1
_(lY,aZ)
}
lY.wxXCkey=1
return cW
}
fS.wxXCkey=2
_2z(z,3,cT,e,s,gg,fS,'item','index','tabItem')
}
var oR=_v()
_(oP,oR)
if(_oz(z,12,e,s,gg)){oR.wxVkey=1
var b3=_v()
_(oR,b3)
var o4=function(o6,x5,f7,gg){
var h9=_v()
_(f7,h9)
var o0=function(oBB,cAB,lCB,gg){
var tEB=_v()
_(lCB,tEB)
if(_oz(z,18,oBB,cAB,gg)){tEB.wxVkey=1
var eFB=_mz(z,'view',['bindtap',19,'class',1,'data-biztype',2,'data-id',3,'data-jump',4,'data-location',5,'data-title',6],[],oBB,cAB,gg)
var bGB=_n('view')
_rz(z,bGB,'class',27,oBB,cAB,gg)
var oHB=_v()
_(bGB,oHB)
if(_oz(z,28,oBB,cAB,gg)){oHB.wxVkey=1
}
var xIB=_v()
_(bGB,xIB)
if(_oz(z,29,oBB,cAB,gg)){xIB.wxVkey=1
}
var oJB=_v()
_(bGB,oJB)
if(_oz(z,30,oBB,cAB,gg)){oJB.wxVkey=1
}
var fKB=_v()
_(bGB,fKB)
if(_oz(z,31,oBB,cAB,gg)){fKB.wxVkey=1
}
var cLB=_v()
_(bGB,cLB)
if(_oz(z,32,oBB,cAB,gg)){cLB.wxVkey=1
}
oHB.wxXCkey=1
xIB.wxXCkey=1
oJB.wxXCkey=1
fKB.wxXCkey=1
cLB.wxXCkey=1
_(eFB,bGB)
var hMB=_n('view')
_rz(z,hMB,'class',33,oBB,cAB,gg)
var oNB=_v()
_(hMB,oNB)
if(_oz(z,34,oBB,cAB,gg)){oNB.wxVkey=1
var aRB=_n('view')
_rz(z,aRB,'class',35,oBB,cAB,gg)
var tSB=_v()
_(aRB,tSB)
if(_oz(z,36,oBB,cAB,gg)){tSB.wxVkey=1
}
var eTB=_v()
_(aRB,eTB)
if(_oz(z,37,oBB,cAB,gg)){eTB.wxVkey=1
}
var bUB=_v()
_(aRB,bUB)
if(_oz(z,38,oBB,cAB,gg)){bUB.wxVkey=1
}
tSB.wxXCkey=1
eTB.wxXCkey=1
bUB.wxXCkey=1
_(oNB,aRB)
}
var cOB=_v()
_(hMB,cOB)
if(_oz(z,39,oBB,cAB,gg)){cOB.wxVkey=1
}
var oPB=_v()
_(hMB,oPB)
if(_oz(z,40,oBB,cAB,gg)){oPB.wxVkey=1
var oVB=_n('view')
_rz(z,oVB,'class',41,oBB,cAB,gg)
var xWB=_v()
_(oVB,xWB)
if(_oz(z,42,oBB,cAB,gg)){xWB.wxVkey=1
}
var oXB=_v()
_(oVB,oXB)
if(_oz(z,43,oBB,cAB,gg)){oXB.wxVkey=1
}
var fYB=_v()
_(oVB,fYB)
if(_oz(z,44,oBB,cAB,gg)){fYB.wxVkey=1
}
xWB.wxXCkey=1
oXB.wxXCkey=1
fYB.wxXCkey=1
_(oPB,oVB)
}
var lQB=_v()
_(hMB,lQB)
if(_oz(z,45,oBB,cAB,gg)){lQB.wxVkey=1
var cZB=_n('view')
_rz(z,cZB,'class',46,oBB,cAB,gg)
var h1B=_v()
_(cZB,h1B)
if(_oz(z,47,oBB,cAB,gg)){h1B.wxVkey=1
}
var o2B=_v()
_(cZB,o2B)
if(_oz(z,48,oBB,cAB,gg)){o2B.wxVkey=1
}
h1B.wxXCkey=1
o2B.wxXCkey=1
_(lQB,cZB)
}
oNB.wxXCkey=1
cOB.wxXCkey=1
oPB.wxXCkey=1
lQB.wxXCkey=1
_(eFB,hMB)
_(tEB,eFB)
}
else if(_oz(z,49,oBB,cAB,gg)){tEB.wxVkey=2
var c3B=_mz(z,'view',['bindtap',50,'class',1,'data-biztype',2,'data-id',3,'data-jump',4,'data-location',5,'data-title',6],[],oBB,cAB,gg)
var o4B=_n('view')
_rz(z,o4B,'class',58,oBB,cAB,gg)
var l5B=_v()
_(o4B,l5B)
if(_oz(z,59,oBB,cAB,gg)){l5B.wxVkey=1
var t7B=_n('view')
_rz(z,t7B,'class',60,oBB,cAB,gg)
var e8B=_v()
_(t7B,e8B)
if(_oz(z,61,oBB,cAB,gg)){e8B.wxVkey=1
}
var b9B=_v()
_(t7B,b9B)
if(_oz(z,62,oBB,cAB,gg)){b9B.wxVkey=1
}
var o0B=_v()
_(t7B,o0B)
if(_oz(z,63,oBB,cAB,gg)){o0B.wxVkey=1
}
e8B.wxXCkey=1
b9B.wxXCkey=1
o0B.wxXCkey=1
_(l5B,t7B)
}
var a6B=_v()
_(o4B,a6B)
if(_oz(z,64,oBB,cAB,gg)){a6B.wxVkey=1
}
l5B.wxXCkey=1
a6B.wxXCkey=1
_(c3B,o4B)
_(tEB,c3B)
}
else if(_oz(z,65,oBB,cAB,gg)){tEB.wxVkey=3
var xAC=_mz(z,'view',['bindtap',66,'class',1,'data-biztype',2,'data-id',3,'data-jump',4,'data-location',5,'data-title',6],[],oBB,cAB,gg)
var oBC=_v()
_(xAC,oBC)
if(_oz(z,74,oBB,cAB,gg)){oBC.wxVkey=1
}
oBC.wxXCkey=1
_(tEB,xAC)
}
else if(_oz(z,75,oBB,cAB,gg)){tEB.wxVkey=4
var fCC=_mz(z,'view',['bindtap',76,'class',1,'data-biztype',2,'data-id',3,'data-jump',4,'data-location',5,'data-title',6],[],oBB,cAB,gg)
var hEC=_mz(z,'view',['class',84,'style',1],[],oBB,cAB,gg)
var oFC=_v()
_(hEC,oFC)
if(_oz(z,86,oBB,cAB,gg)){oFC.wxVkey=1
}
var cGC=_n('view')
_rz(z,cGC,'class',87,oBB,cAB,gg)
var oHC=_v()
_(cGC,oHC)
if(_oz(z,88,oBB,cAB,gg)){oHC.wxVkey=1
var aJC=_v()
_(oHC,aJC)
if(_oz(z,89,oBB,cAB,gg)){aJC.wxVkey=1
}
aJC.wxXCkey=1
}
var lIC=_v()
_(cGC,lIC)
if(_oz(z,90,oBB,cAB,gg)){lIC.wxVkey=1
}
oHC.wxXCkey=1
lIC.wxXCkey=1
_(hEC,cGC)
oFC.wxXCkey=1
_(fCC,hEC)
var tKC=_n('view')
_rz(z,tKC,'class',91,oBB,cAB,gg)
var eLC=_v()
_(tKC,eLC)
if(_oz(z,92,oBB,cAB,gg)){eLC.wxVkey=1
var oNC=_v()
_(eLC,oNC)
if(_oz(z,93,oBB,cAB,gg)){oNC.wxVkey=1
}
oNC.wxXCkey=1
}
var bMC=_v()
_(tKC,bMC)
if(_oz(z,94,oBB,cAB,gg)){bMC.wxVkey=1
var xOC=_v()
_(bMC,xOC)
if(_oz(z,95,oBB,cAB,gg)){xOC.wxVkey=1
}
xOC.wxXCkey=1
}
eLC.wxXCkey=1
bMC.wxXCkey=1
_(fCC,tKC)
var cDC=_v()
_(fCC,cDC)
if(_oz(z,96,oBB,cAB,gg)){cDC.wxVkey=1
var oPC=_mz(z,'view',['class',97,'style',1],[],oBB,cAB,gg)
var fQC=_v()
_(oPC,fQC)
if(_oz(z,99,oBB,cAB,gg)){fQC.wxVkey=1
var cRC=_mz(z,'view',['catchtap',100,'class',1,'data-jump',2,'data-jumptype',3,'data-location',4],[],oBB,cAB,gg)
var oTC=_n('view')
_rz(z,oTC,'class',105,oBB,cAB,gg)
var oVC=_n('view')
_rz(z,oVC,'class',106,oBB,cAB,gg)
var lWC=_v()
_(oVC,lWC)
if(_oz(z,107,oBB,cAB,gg)){lWC.wxVkey=1
}
var aXC=_v()
_(oVC,aXC)
if(_oz(z,108,oBB,cAB,gg)){aXC.wxVkey=1
}
var tYC=_v()
_(oVC,tYC)
if(_oz(z,109,oBB,cAB,gg)){tYC.wxVkey=1
}
lWC.wxXCkey=1
aXC.wxXCkey=1
tYC.wxXCkey=1
_(oTC,oVC)
var cUC=_v()
_(oTC,cUC)
if(_oz(z,110,oBB,cAB,gg)){cUC.wxVkey=1
}
cUC.wxXCkey=1
_(cRC,oTC)
var hSC=_v()
_(cRC,hSC)
if(_oz(z,111,oBB,cAB,gg)){hSC.wxVkey=1
}
hSC.wxXCkey=1
_(fQC,cRC)
}
else{fQC.wxVkey=2
var eZC=_n('view')
_rz(z,eZC,'class',112,oBB,cAB,gg)
var o2C=_n('view')
_rz(z,o2C,'class',113,oBB,cAB,gg)
var o4C=_n('view')
_rz(z,o4C,'class',114,oBB,cAB,gg)
var f5C=_v()
_(o4C,f5C)
if(_oz(z,115,oBB,cAB,gg)){f5C.wxVkey=1
}
var c6C=_v()
_(o4C,c6C)
if(_oz(z,116,oBB,cAB,gg)){c6C.wxVkey=1
}
var h7C=_v()
_(o4C,h7C)
if(_oz(z,117,oBB,cAB,gg)){h7C.wxVkey=1
}
f5C.wxXCkey=1
c6C.wxXCkey=1
h7C.wxXCkey=1
_(o2C,o4C)
var x3C=_v()
_(o2C,x3C)
if(_oz(z,118,oBB,cAB,gg)){x3C.wxVkey=1
}
x3C.wxXCkey=1
_(eZC,o2C)
var b1C=_v()
_(eZC,b1C)
if(_oz(z,119,oBB,cAB,gg)){b1C.wxVkey=1
}
b1C.wxXCkey=1
_(fQC,eZC)
}
fQC.wxXCkey=1
_(cDC,oPC)
}
cDC.wxXCkey=1
_(tEB,fCC)
}
else if(_oz(z,120,oBB,cAB,gg)){tEB.wxVkey=5
var o8C=_mz(z,'view',['class',121,'data-biztype',1,'data-id',2,'data-location',3,'data-title',4],[],oBB,cAB,gg)
var c9C=_mz(z,'ad-sdk',['bindgetExtensionAdData',127,'extension',1,'height',2,'impId',3,'sequence',4,'width',5],[],oBB,cAB,gg)
_(o8C,c9C)
_(tEB,o8C)
}
tEB.wxXCkey=1
tEB.wxXCkey=3
return lCB
}
h9.wxXCkey=4
_2z(z,16,o0,o6,x5,gg,h9,'item','index','itemName')
return f7
}
b3.wxXCkey=4
_2z(z,14,o4,e,s,gg,b3,'itemName','index','itemName')
}
xQ.wxXCkey=1
oR.wxXCkey=1
oR.wxXCkey=3
_(r,oP)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_2";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_2();	if (__vd_version_info__.delayedGwx) __wxAppCode__['commonComponent/cwaterfall/cwaterfall.wxml'] = [$gwx_XC_2, './commonComponent/cwaterfall/cwaterfall.wxml'];else __wxAppCode__['commonComponent/cwaterfall/cwaterfall.wxml'] = $gwx_XC_2( './commonComponent/cwaterfall/cwaterfall.wxml' );
	;__wxRoute = "commonComponent/cwaterfall/cwaterfall";__wxRouteBegin = true;__wxAppCurrentFile__="commonComponent/cwaterfall/cwaterfall.js";define("commonComponent/cwaterfall/cwaterfall.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault"),e=require("../../@babel/runtime/helpers/interopRequireWildcard"),a=require("../../@babel/runtime/helpers/objectSpread2"),i=require("../../cwx/cwx"),n=require("./utils"),r=e(require("./tripInfo")),s=require("./infoCollect"),o=t(require("./getDeviceInfo")),l=t(require("./advertiseAspect"));Component({properties:{url:{type:String},source:{type:String},appId:{type:String},tripStatus:{type:String},globalInfo:{type:Object},hotelInfo:{type:Object},ignoreLocation:{type:Boolean},extra:{type:[String,Object]},className:{type:String},cStyle:{type:String},callback:{type:Function},isNeedCallback:{type:Boolean,value:!1},defaultImgBgColor:{type:String},tabThemeConfig:{type:Object,value:{}},tabGapConfig:{type:Object,value:{}}},observers:{"globalInfo, hotelInfo":function(){this.attached&&this.init()}},data:{tabs:[],waterfallLeftList:[],waterfallRightList:[],loadingState:1,windowHeight:i.cwx.wxSystemInfo.windowHeight,tabFixed:!1,selectedTabIndex:0,hideItemIds:{}},lifetimes:{created:function(){console.log("---cwaterfall----created--------"),this.resetInnerData()},attached:function(){var t=this;this.cProps=this.props||this.properties||{};var e=this.cProps;console.log("---cwaterfall----attached--------"),(0,r.clearTripStatus)(),(0,r.setTripStatus)({sourceid:e.source,appId:e.appId}),""!=e.tripStatus&&(0,r.setTripStatus)({tripStatus:e.tripStatus}),(0,o.default)((function(e){t.innerData.deviceInfo=e})),this.initRelevantData(),this.attached=!0},detached:function(){console.log("---cwaterfall----detached--------"),this._observer&&this._observer.disconnect(),this.attached=!1}},ready:function(){this.triggerEvent&&this.triggerEvent("getref",this)},methods:{resetInnerData:function(){this.innerData={currentWaterfallList:[],waterfallLeftList:[],waterfallRightList:[],waterfallLeftHeight:0,waterfallRightHeight:0,pageIndex:1,coordinate:{coordsInfo:{type:null,latitude:null,longitude:null,overSea:!1},time:0},tabs:[],tabIndex:0,deviceInfo:null,startRenderTime:0}},init:function(){this.setData({waterfallLeftList:[],waterfallRightList:[],loadingState:1,tabs:[],tabFixed:!1,selectedTabIndex:0}),this.resetInnerData(),this.initRelevantData()},checkShouldRenderData:function(t){var e=this.cProps.globalInfo,a=e&&e.id||"",i=t&&t.globalID||"";return String(a)===String(i)},getWaterList:function(){var t=this,e=[],a=1,i=this;this.getWaterflowInfo((function(n){var r=n&&n.data&&n.data.data&&n.data.data.ext||{};t.checkShouldRenderData(r)&&(n&&200==n.statusCode&&n.data&&"Success"==n.data.ResponseStatus.Ack&&n.data.data&&n.data.data.items&&n.data.data.items.length>0?(t.innerData.tabs&&0!==t.innerData.tabs.length||(t.innerData.tabs=n.data.data.tabs),n.data.data.items.map((function(a,n){try{var r=a.replace(/\n/g,"").replace(/\r/g,""),o=JSON.parse(r);o.posIndex=t.innerData.pageIndex+"_"+n,o.pageIndex=t.innerData.pageIndex;var l=i.getTemplateFunc(o.type)(o,e.length);l&&e.push(l)}catch(e){console.log("[getWaterflowInfo]error:",e),(0,s.sendDevTrace)("waterFlow_data_error",{item:a,pageIndex:t.innerData.pageIndex,index:n})}})),a=0,t.innerData.pageIndex+=1,e&&e.length&&(t.innerData.currentWaterfallList=e,t.getWaterFallList()),t.setData({loadingState:a})):n&&n.data&&n.data.data&&(n.data.data.items&&0==n.data.data.items.length||"1"==n.data.data.done)?t.setData({loadingState:2}):t.setData({loadingState:3}))}))},getTemplateFunc:function(t){switch(t){case"pictxt":return this.createPictxtItem;case"destcard":return this.createDestcardItem;case"simplepic":return this.createSimplepicItem;case"channel":return this.createChannelItem;case"wxsdk":return this.createWxsdkItem;default:return function(){return null}}},createWxsdkItem:function(t,e){var i=a({},t);return i.image||(i.image={width:343,height:257}),i.innerId=t.pageIndex+"-"+t.id,i.extension=[{name:"customData",value:{id:i.innerId}}],i.index=e,i.infoHeight=-20,i},createChannelItem:function(t,e){var i=a({},t);if(i.ext=t.ext,i.image=(0,n.handleImageInfo)(t.img&&t.img.img3),i.channelInfo=t.channelInfo||{},i.showChannelInfo=i.channelInfo.name||i.channelInfo.image1,i.channelInfo.image1){var r=i.channelInfo.image1,s=r.height,o=r.width;i.channelInfo.image1.realWidth=s&&o&&Number(s)>0?Number(o)/Number(s)*40+"rpx":"calc(100% - 40rpx)"}i.channelInfo.fontColor=i.channelInfo.fontColor?"#"+i.channelInfo.fontColor:"#333";var l=t.viewStyle&&t.viewStyle.background||{};if(i.channelView={url:i.channelInfo.backgroundUrl,startcolor:l.startcolor||"FFFFFF",endcolor:l.endcolor||"D4F1E9"},i.showLive=void 0!==t.liveStatus,i.showLive){var c=0===t.liveStatus?"直播中":12===t.liveStatus?"直播预告":"直播回放";i.liveStatusText=t.liveStatusText||c}i.showUser=t.user&&t.user.icon&&t.user.nickname,i.biztype=t.ext&&t.ext.biztype,i.jumpUrl=t.jumpurl||t.bus,i.index=e;var d=0,h=!!i.itag&&(0,n.addItagToTitle)(i.title,i.itag.text,!!i.itag.icon);return i.shouldAddItagToTitle=h,i.title&&(d+=(0,n.caclTitleHeight)(i.title,12)),i.itag&&i.itag.text&&!h&&(d+=40),i.showChannelInfo&&(d+=138,i.channelInfo.text||(d-=36)),i.infoHeight=d,i},createSimplepicItem:function(t,e){var i=a({},t);return i.isadvert=t.isadvert,i.videoUrl=t.videourl,i.image=(0,n.handleImageInfo)(t.img&&t.img.img3),i.ext=t.ext,i.biztype=t.ext&&t.ext.biztype,i.jumpUrl=t.jumpurl,i.index=e,i.infoHeight=-20,i},createDestcardItem:function(t,e){var i=a({},t);i.subtitle1=t.subtitle,i.videoUrl=t.videourl,i.jumpUrl=t.jumpurl,i.ext=t.ext,i.biztype=t.ext&&t.ext.biztype;var r={};r.url=(0,n.concatImgSuffix)(t.imageUrl,!0),i.image=r,i.index=e;var s=0;return i.title&&(s+=(0,n.caclTitleHeight)(i.title,64)),(i.itag||i.stag||i.tag)&&(s+=38),i.subtitle1&&(s+=38),s+=4,i.infoHeight=s,i},createPictxtItem:function(t,e){var i=a({},t),r=0;i.type=t.type,i.id=t.id,i.price=t.price?Math.round(t.price):void 0,i.text=t.text,i.jumpUrl=t.jumpurl,i.ext=t.ext,i.biztype=t.ext?t.ext.biztype:"",i.isadvert=t.isadvert,i.protag=t.protag;var s={};s.url=t.img.img3?t.img.img3.url:"",s.width=t.img.img3?t.img.img3.width:"",s.height=t.img.img3?t.img.img3.height:"";var o=Number(s.width)>=Number(s.height);if(s.height=o?s.width:""+4*Number(s.width)/3,s.url=(0,n.concatImgSuffix)(s.url,o),i.image=s,t.user){var l=t.user.identitycomment&&t.user.identitycomment.length?"0"===t.user.isbusinessuser?"https://pic.c-ctrip.com/platform/h5/mini_programe/v2021.1.7/home/C-user.png":"1"===t.user.isbusinessuser?"https://pic.c-ctrip.com/platform/h5/mini_programe/v2021.1.7/home/B-user.png":"":"";i.author={isbusinessuser:t.user.isbusinessuser,nickName:t.user.nickname,avatUrl:(0,n.concatImgSize)(t.user.icon,"_D_68_68"),vicon:l,identitycomment:t.user.identitycomment}}return i.title=t.title,i.subtitle1=t.subtitle1,i.itag=t.itag,i.stag=t.stag,i.tag=t.tag,i.poiName=t.ext?t.ext.cityname:"",i.isVideo="1"==t.showvideoicon,i.videoUrl=t.preloadVideoUrl,i.isVip=t.author?t.author.isVip:"",i.index=e,i.title&&(r+=(0,n.caclTitleHeight)(i.title,32)),(i.itag||i.stag||i.tag)&&(r+=38),i.subtitle1&&(r+=38),i.price?r+=52:i.author&&i.author.avatUrl&&i.author.nickName&&(r+=68,i.author.identitycomment&&(r+=10)),i.infoHeight=r,i},getWaterFallList:function(){var t=this,e=this.innerData.waterfallLeftList,i=this.innerData.waterfallRightList,n=this.innerData.waterfallLeftHeight,r=this.innerData.waterfallRightHeight;this.innerData.currentWaterfallList.forEach((function(a,s){a.image&&!a.image.width&&(a.image.width=343),a.image&&!a.image.height&&(a.image.height=343);var o=Number(a.image.width)>=Number(a.image.height)?343:1372/3;o=parseInt(o),a.image.picWidth=343,a.image.picHeight=o,n<=r?(e.push(a),n=n+a.image.picHeight+a.infoHeight,t.innerData.waterfallLeftHeight=n):(i.push(a),r=r+a.image.picHeight+a.infoHeight,t.innerData.waterfallRightHeight=r)}));var s=this.data.tabs||[];0===s.length&&this.innerData.tabs.forEach((function(t,e){if(t.name){var i=a({},t);if(t.name.length>12){var n=t.name;i.name=n.substring(0,6)+"..."+n.substring(n.length-5)}if(t.subName&&t.subName.length>12){var r=t.subName;i.subName=r.substring(0,6)+"..."+r.substring(r.length-5)}i.picIcon2=t.picIcon2||t.picIcon,s.push(i)}})),this.innerData.startRenderTime=Date.now(),this.setData({waterfallLeftList:e,waterfallRightList:i,tabs:s},(function(){t.interSection()}))},getListMore:function(){console.log("=========getListMore翻页==============");var t=this.data.loadingState;0!=t&&3!=t||(this.setData({loadingState:1}),this.getWaterList())},refreshList:function(){this.setData({loadingState:1}),this.getWaterList()},initRelevantData:function(){this.getWaterList()},jumpToDetail:function(t){var e=this.cProps,n=t.currentTarget.dataset.jump,r=t.currentTarget.dataset.location,o=this.getProductFromPosIndex(r)||{},c=t.currentTarget.dataset.jumptype;o.isAlreadyExposure||(o.isAlreadyExposure=!0,(0,s.productExposureLog)(o,this.innerData.tabs&&this.innerData.tabs[this.innerData.tabIndex]&&this.innerData.tabs[this.innerData.tabIndex].id),o&&o.ext&&o.ext.mktmoniterlinks&&(0,l.default)({moniterLinkList:o.ext.mktmoniterlinks},"show"));var d="channelInfo"===c?a(a({},o),{},{ext:a(a({},o.ext||{}),{},{channelJumpurl:n,itemext:o.channelInfo&&o.channelInfo.ext})}):o;if((0,s.productClickLog)(d,this.innerData.tabs&&this.innerData.tabs[this.innerData.tabIndex]&&this.innerData.tabs[this.innerData.tabIndex].id),o&&o.ext&&o.ext.mktmoniterlinks&&(0,l.default)({moniterLinkList:o.ext.mktmoniterlinks},"click"),n){var h=a(a({},o),{},{jumpUrl:n,jumpurl:n});if("function"!=typeof e.callback)if(e.isNeedCallback)this.triggerEvent&&this.triggerEvent("callback",h,{});else if(/^(https?:)?\/\//.test(n)){var u={url:encodeURIComponent(n)};i.cwx.navigateTo({url:"/cwx/component/cwebview/cwebview?data="+JSON.stringify(u)})}else i.cwx.navigateTo({url:n});else e.callback(h)}},getCurrentPosition:function(){var t=this;return new Promise((function(e){var a=function(t){e(t)};t.innerData.coordinate.coordsInfo&&(new Date).getTime()-t.innerData.coordinate.time<6e4?a(t.innerData.coordinate.coordsInfo):i.cwx.locate.startGetGeoPoint({type:"gcj02",success:function(e){var n,r={latitude:e.latitude,longitude:e.longitude,type:"gcj02"};n=r,t.innerData.coordinate={coordsInfo:n,time:(new Date).getTime()},i.cwx.setStorage({key:"m_Locate_Cache",data:t.innerData.coordinate,success:function(t){console.log("cwaterfall set locate cache success res:",t)},fail:function(t){console.log("cwaterfall set locate cache  fail err:",t)}}),a(r)},fail:function(t){console.log("====== fail err:",t),a({})}})}))},getWaterflowInfo:function(t){var e=this,n=this.cProps,l=n.url||"/restapi/soa2/13012/getWaterflowInfo",c=this.innerData.tabs&&this.innerData.tabs[this.innerData.tabIndex]||{},d=function(d){var h=(new Date).getTime(),u=(0,r.default)();e.innerData.deviceInfo||(0,o.default)((function(t){e.innerData.deviceInfo=t})),i.cwx.request({url:l,data:a(a({},u),{},{appId:n.appId||"99999999",source:n.source||"wxhome",componentType:"miniapp",tabType:c.type||"",tabId:c.id||"",pageInfo:{index:e.innerData.pageIndex,size:n.pageSize||20},globalInfo:n.globalInfo||{},hotelInfo:n.hotelInfo||{},deviceInfo:e.innerData.deviceInfo||{},coordinate:d,ext:{cver:"9999.000",extra:n.extra},head:{syscode:"30"}}),success:function(i){var n=i.data.data||{};try{var o=n.ext||{};(0,r.setTripStatus)(a({tripStatus:n.tripStatus},o))}catch(t){console.warn(t)}if(1==e.innerData.pageIndex){var l={length:n.items&&n.items.length,item:n.items&&n.items[0]},c=(new Date).getTime()-h;(0,s.fetchDataLog)(l,null,{waterFlow_fetch_time:c})}t(i)},fail:function(a){var i=(new Date).getTime()-h,r={source:n.source,pageIndex:e.innerData.pageIndex,waterFlow_fetch_time:i};(0,s.fetchFailLog)(a,r),t(a)}})};n.ignoreLocation?d({}):this.getCurrentPosition().then((function(t){d(t)}))},getProductFromPosIndex:function(t){if(!t)return{};var e=t.split("-"),a=e[0],i=e[1];return("left"==a?this.innerData.waterfallLeftList:this.innerData.waterfallRightList)[i]},interSection:function(){var t=this,e=this;e._observer&&e._observer.disconnect(),e._observer=e.createIntersectionObserver({thresholds:[1],observeAll:!0}).relativeToViewport({bottom:0}).observe(".wf-item-inner",(function(a){var i=a;if(1==i.intersectionRatio){var n=(i.dataset||{}).location,r=void 0===n?"":n;if(!r)return;var o=e.getProductFromPosIndex(r);o&&!o.isAlreadyExposure&&(o.isAlreadyExposure=!0,(0,s.productExposureLog)(o,t.innerData.tabs&&t.innerData.tabs[t.innerData.tabIndex]&&t.innerData.tabs[t.innerData.tabIndex].id),o&&o.ext&&o.ext.mktmoniterlinks&&(0,l.default)({moniterLinkList:o.ext.mktmoniterlinks},"show"))}}))},checkTabFixed:function(t){var e=this,a=this.createSelectorQuery().in(this);a.select("#cwaterfall-tab-container").boundingClientRect(),a.exec((function(a){a[0]&&parseInt(a[0].top)<=t.target.offsetTop?!e.data.tabFixed&&e.setData({tabFixed:!0}):e.data.tabFixed&&e.setData({tabFixed:!1})}))},resetState:function(){this.setData({waterfallLeftList:[],waterfallRightList:[],loadingState:1}),this.innerData.currentWaterfallList=[],this.innerData.waterfallLeftList=[],this.innerData.waterfallRightList=[],this.innerData.waterfallLeftHeight=0,this.innerData.waterfallRightHeight=0,this.innerData.pageIndex=1},handleTabClick:function(t){var e=t.currentTarget.dataset.index;this.data.selectedTabIndex!==e&&(this.setData({selectedTabIndex:e}),this.innerData.tabIndex=e,this.resetState(),this.initRelevantData())},getWXAdData:function(t){console.log("---getWXAdData e:",t);var e=t.detail,i="",n=a({},this.data.hideItemIds);if(e.extension&&e.extension[0]&&"customData"===e.extension[0].name&&(i=e.extension[0].value.id,Date.now()-this.innerData.startRenderTime>1e3))return console.log("[getWXAdData]: 1s超时!"),n[i]=!0,void this.setData({hideItemIds:n});e.adData&&0!==e.adData.length||!i||(console.log("[getWXAdData]: empty ad data:",i),n[i]=!0,this.setData({hideItemIds:n}),console.log("====hideItemIds:",this.data.hideItemIds))}}});
},{isPage:false,isComponent:true,currentFile:'commonComponent/cwaterfall/cwaterfall.js'});require("commonComponent/cwaterfall/cwaterfall.js");