__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/market/advertiseNew/components/adSlider/adSlider':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c;var M=R.m;var O=R.r;var A={"autoplay":new Array(1),"wraperStyle":new Array(1),"swiperStyle":new Array(1)};var K=U===true;return {C:(C,T,E)=>{E("view",{},(N,C)=>{if(C||K||U.wraperStyle)R.y(N,D.wraperStyle);A["wraperStyle"][0]=(D,E,T)=>{R.y(N,D.wraperStyle)}},(C,T,E,B)=>{E("swiper",{},(N,C)=>{if(C||K||U.swiperStyle)R.y(N,D.swiperStyle);A["swiperStyle"][0]=(D,E,T)=>{R.y(N,D.swiperStyle)};if(C||K||U.currentSwiper)O(N,"current",D.currentSwiper);if(C||K||U.autoplay)O(N,"autoplay",D.autoplay);A["autoplay"][0]=(D,E,T)=>{O(N,"autoplay",D.autoplay);E(N)};if(C||K||Z(U.swiperData,"delayTime"))O(N,"interval",X(D.swiperData).delayTime);if(C)O(N,"circular","true");if(C)O(N,"bindchange","swiperChange")},(C,T,E,B,F)=>{F(D.adOpeData,"creativeId",U?U.adOpeData:undefined,[0,"adOpeData"],(C,a,b,c,d,e,T,E,B)=>{var f=X(a).isuse&&X(a).unionCode?1:0;B(f,(C,T,E)=>{if(f===1){E("swiper-item",{},(N,C)=>{if(C||K||!!Z(c,"top")||undefined)R.y(N,"top:"+Y(X(a).top));if(C)L(N,"wxadsdk_tranformstyle")},(C,T,E)=>{E("ad-custom",{},(N,C)=>{if(C||K||Z(c,"unionCode"))O(N,"unit-id",X(a).unionCode)},(C)=>{})})}else{E("swiper-item",{},(N,C)=>{},(C,T,E)=>{E("ad-background",{},(N,C)=>{if(C||K||c)O(N,"adData",a);if(C||K||U.trackingid)O(N,"trackingid",D.trackingid);if(C||K||U.header)O(N,"header",D.header);if(C||K||U.adType)O(N,"adType",D.adType);if(C||K||U.whObj)O(N,"whObj",D.whObj);if(C||K||U.showSign)O(N,"showSign",D.showSign);if(C||K||d)O(N,"adIndex",b);if(C||K||U.currentSwiper)O(N,"currentSwiper",D.currentSwiper);if(C)R.v(N,"videoChange","handleVideo",!1,!1,!1,!1)},(C)=>{})})}})})});var a=X(D.swiperData).dotShow?1:0;B(a,(C,T,E)=>{if(a===1){E("view",{},(N,C)=>{if(C||K||U.dotWrapStyle)R.y(N,D.dotWrapStyle)},(C,T,E,B,F)=>{F(D.adOpeData,"creativeId",U?U.adOpeData:undefined,[0,"adOpeData"],(C,b,c,d,e,f,T,E)=>{E("view",{},(N,C)=>{if(C||K||!!(e||U.currentSwiper||U.dotCurrentStyle||U.dotStyle)||undefined)R.y(N,c==D.currentSwiper?D.dotCurrentStyle:D.dotStyle)},(C)=>{})})})}})})},B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/market/advertiseNew/components/adSlider/adSlider";__wxRouteBegin = true;__wxAppCurrentFile__="pages/market/advertiseNew/components/adSlider/adSlider.js";define("pages/market/advertiseNew/components/adSlider/adSlider.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../../cwx/cwx.js"),a=require("../../ad-utils.js");Component({properties:{adData:Array,whObj:Object,slideVideo:Object,showSign:Object,adType:String,borderRadius:String,header:Object,trackingid:String},data:{swiperData:{},dotStyle:"",dotCurrentStyle:"",dotWrapStyle:"",swiperStyle:"",wraperStyle:"",transformX:0,transformY:0,scaleRadio:1,currentSwiper:0,autoplay:!0,bgflag:[],snum:0,adOpeData:[]},lifetimes:{attached:function(){var t,a,e,i=Object.assign({},{delayTime:3e3,dotShow:!0,dotWidthAndHeight:[4,4],dotMargin:2,dotCurrentColor:"#fff",dotCurrentType:"pencil",dotColor:"#fff",dotOpacity:.4,dotCurrentOpacity:1,dotPosition:"right",bottom:0,left:12,right:12},this.data.slideVideo);t="left"==i.dotPosition?"position:absolute;left:".concat(i.left,"px;bottom:").concat(i.bottom,"px;display:inline-block;"):"right"==i.dotPosition?"position:absolute;right:".concat(i.left,"px;bottom:").concat(i.bottom,"px;display:inline-block;"):"position:absolute;left:50%;bottom:".concat(i.bottom,"px;display:inline-block;transform:translateX(-50%)"),a="display:inline-block;width:".concat(i.dotWidthAndHeight[0],"px;height:").concat(i.dotWidthAndHeight[1],"px;margin:").concat(i.dotMargin,"px;background-color:").concat(i.dotColor,";opacity:").concat(i.dotOpacity,";border-radius:").concat(i.dotWidthAndHeight[0],"px");var d="pencil"==i.dotCurrentType?3*i.dotWidthAndHeight[0]:i.dotWidthAndHeight[0];e="display:inline-block;width:".concat(d,"px;height:").concat(i.dotWidthAndHeight[1],"px;margin:").concat(i.dotMargin,"px;background-color:").concat(i.dotCurrentColor,";opacity:").concat(i.dotCurrentOpacity,";border-radius:").concat(i.dotWidthAndHeight[0],"px"),this.setData({swiperData:i,dotStyle:a,dotCurrentStyle:e,dotWrapStyle:t}),this.setSwiperStyle(),this.operateAdData()},moved:function(){},detached:function(){}},pageLifetimes:{show:function(){this.setData({autoplay:!0,snum:0})},hide:function(){this.setData({autoplay:!1})},resize:function(){}},methods:{operateAdData:function(){var t=this;if(wx.j("tn4"),this.data.adData.length>0){var e=[];this.data.adData.forEach((function(i){wx.j("foy");var d=(0,a.isuseWechatAd)(i),o=d.isuse,r=d.unionCode,s=d.sdkType,n=d.sdkGroupType,c="-12%",h=t.data.whObj,p=h.crHeight,l=h.crWidth;-1!=p.indexOf("%")&&-1!=l.indexOf("%")&&(c="-4.3%"),o&&(i=Object.assign({},i,{isuse:o,unionCode:r,sdkType:s,sdkGroupType:n,top:c})),e.push(i)})),this.setData({adOpeData:e})}},swiperChange:function(e){wx.j("ip4");var i=e.detail.current,d=this.data.snum;if(!this.data.bgflag.includes(i)){if(!this.data.adData[i].creativeMaterial)return!1;this.data.adData[i].creativeMaterial.metricLogs.forEach((function(a){wx.j("2fo"),"102842"==a.key&&t.cwx.sendUbtByPage.ubtTrace&&t.cwx.sendUbtByPage.ubtTrace(a.key,a.value)})),this.data.bgflag.push(i),(0,a.sendExposefn)(this.data.adData[i],"show",0==i?"second":"first")}d++,e.detail&&"touch"==e.detail.source?this.setData({currentSwiper:i}):d<500?this.setData({currentSwiper:i,snum:d}):this.setData({autoplay:!1})},setSwiperStyle:function(){wx.j("L1J");var t={fwWidth:this.data.adData[0]&&this.data.adData[0].width,fwHeight:this.data.adData[0]&&this.data.adData[0].height},e=(0,a.mainClipfn)(this.data.whObj,t),i=e.wraperStyle;this.data.borderRadius&&(i+="border-radius:".concat(this.data.borderRadius,";")),this.setData({swiperStyle:e.swiperStyle,wraperStyle:i,transformX:e._transformX,transformY:e._transformY,scaleRadio:e.scaleRadio})},handleVideo:function(a){wx.j("0hO");var e=a.detail,i=e.type,d=e.isPlay;"play"===i?d?(this.data.videoTimer&&clearTimeout(this.data._videoTimer),this.setData({autoplay:!1}),t.cwx.sendUbtByPage&&t.cwx.sendUbtByPage.ubtTrace&&t.cwx.sendUbtByPage.ubtTrace("mkt_adsdk_videostatus",{type:"feed_play"})):(this.setData({autoplay:!0}),t.cwx.sendUbtByPage&&t.cwx.sendUbtByPage.ubtTrace&&t.cwx.sendUbtByPage.ubtTrace("mkt_adsdk_videostatus",{type:"feed_break"})):"error"===i?t.cwx.sendUbtByPage&&t.cwx.sendUbtByPage.ubtTrace&&t.cwx.sendUbtByPage.ubtTrace("mkt_adsdk_videostatus",{type:"feed_error"}):"end"===i&&(this.setData({autoplay:!0}),t.cwx.sendUbtByPage&&t.cwx.sendUbtByPage.ubtTrace&&t.cwx.sendUbtByPage.ubtTrace("mkt_adsdk_videostatus",{type:"feed_over"}))}}});
},{isPage:false,isComponent:true,currentFile:'pages/market/advertiseNew/components/adSlider/adSlider.js'});require("pages/market/advertiseNew/components/adSlider/adSlider.js");