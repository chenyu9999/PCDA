$gwx_XC_18=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_18 || [];
function gz$gwx_XC_18_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_18_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([1,true])
Z([[2,'!'],[[7],[3,'skipLoad']]])
Z([[7],[3,'isSupportCustom']])
Z([a,[3,'home-navigation-bar__inner '],[[2,'?:'],[[7],[3,'ios']],[1,'ios'],[1,'android']]])
Z([a,[3,'padding-top: '],[[7],[3,'statusBarHeight']],[3,'px;'],[[7],[3,'innerPaddingRight']],[3,';'],[[7],[3,'innerWidth']]])
Z([3,'center'])
Z([3,'flex: auto;height: 100%;'])
Z([3,'clickGridAction'])
Z([3,'signin-box'])
Z([[7],[3,'titleItem']])
Z([3,'signin'])
Z([3,'signin-img'])
Z([3,'aspectFill'])
Z([a,[3,'http://pic.c-ctrip.com/platform/h5/mini_programe/'],[[2,'?:'],[[7],[3,'defaultSign']],[1,'v2021.1.7/home/signin.png'],[1,'signToday.gif']]])
Z([[7],[3,'equityShow']])
Z([3,'homeADeve'])
Z([3,'05FXNABO0589FXXNJMWXLWYD'])
Z([[7],[3,'lonAndLat']])
Z([3,'60'])
Z([3,'05FXNABO0589FXXNJMWXFSYK'])
Z(z[17])
Z(z[18])
Z([3,'getWaterfallListMore'])
Z([a,[3,'body-container '],[[2,'?:'],[[7],[3,'homeBgGray']],[1,'home-bg-gray'],[1,'']]])
Z(z[0])
Z([3,'100'])
Z([3,'true'])
Z(z[0])
Z([3,'swiperAnimationFinish'])
Z([a,[3,'bu-list-content '],[[2,'?:'],[[7],[3,'fakeData']],[1,'local'],[1,'online']]])
Z(z[25])
Z([3,'linear'])
Z([a,[3,'height:'],[[7],[3,'swiperHeight']],[3,'rpx']])
Z([[7],[3,'items']])
Z([3,'buName'])
Z(z[7])
Z([a,[3,'bu-list_item bu-list_item_'],[[6],[[7],[3,'item']],[3,'bu']]])
Z([[7],[3,'item']])
Z([3,'grid'])
Z([3,'bu-icon'])
Z([[6],[[7],[3,'item']],[3,'imgUrl']])
Z([[6],[[7],[3,'item']],[3,'tip']])
Z([[7],[3,'cusitems']])
Z(z[34])
Z(z[7])
Z([a,[3,'bu-list_cusitem bu-list_cusitem_'],z[36][2]])
Z(z[37])
Z([3,'second-grid'])
Z(z[39])
Z(z[40])
Z(z[41])
Z([[2,'&&'],[[7],[3,'AdvertiseDataWidth']],[[7],[3,'AdvertiseDataHeight']]])
Z([[7],[3,'AdvertiseDataHeight']])
Z([3,'05FXNABO0589FXXNJM1121'])
Z(z[17])
Z([[7],[3,'slideVideo']])
Z([[7],[3,'AdvertiseDataWidth']])
Z([[2,'!=='],[[7],[3,'secondScreenVersion']],[1,'B']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'secondScreenHotSaleData']],[[6],[[7],[3,'secondScreenLiveData']],[3,'items']]],[[7],[3,'secondScreenLiveData']]],[[6],[[7],[3,'secondScreenLiveData']],[3,'items']]])
Z([3,'hot-sale'])
Z([3,'hot-special-item'])
Z([3,'secondScreenTap'])
Z([3,'hot-special-head'])
Z([3,'second'])
Z([3,'hotelsale_2nd'])
Z([[6],[[7],[3,'secondScreenHotSaleData']],[3,'blockUrl']])
Z([[2,'&&'],[[6],[[7],[3,'secondScreenHotSaleData']],[3,'blockTitleImage']],[[2,'>'],[[6],[[6],[[7],[3,'secondScreenHotSaleData']],[3,'blockTitleImage']],[3,'length']],[1,0]]])
Z([3,'image'])
Z(z[12])
Z([[6],[[7],[3,'secondScreenHotSaleData']],[3,'blockTitleImage']])
Z([3,'hot-special-content'])
Z(z[26])
Z([3,'changeSpecialDot'])
Z(z[26])
Z([3,'hot-special-content-group'])
Z([[6],[[7],[3,'secondScreenHotSaleData']],[3,'items']])
Z([3,'id'])
Z(z[61])
Z([3,'hot-special-box-content'])
Z(z[63])
Z(z[64])
Z([[6],[[7],[3,'item']],[3,'url']])
Z([3,'hot-special-box-top'])
Z([[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'text']],[3,'length']],[1,0]])
Z([[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'icon']],[3,'length']],[1,0]])
Z([3,'hot-special-box-tag-icon'])
Z(z[12])
Z([[6],[[6],[[7],[3,'item']],[3,'tag']],[3,'icon']])
Z([3,'hot-special-box-image'])
Z(z[12])
Z([[6],[[7],[3,'item']],[3,'image']])
Z([[6],[[7],[3,'item']],[3,'title']])
Z([[6],[[7],[3,'item']],[3,'price']])
Z([3,'hot-special-box-bottom'])
Z([[2,'>'],[[6],[[7],[3,'item']],[3,'price']],[1,0]])
Z([[6],[[7],[3,'item']],[3,'originPrice']])
Z([[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'subTitle']],[3,'text']],[3,'length']],[1,0]])
Z([[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'subTitle']],[3,'icon']],[3,'length']],[1,0]])
Z([3,'hot-special-box-subtitle-icon'])
Z(z[12])
Z([[6],[[6],[[7],[3,'item']],[3,'subTitle']],[3,'icon']])
Z([[2,'>'],[[6],[[6],[[7],[3,'secondScreenHotSaleData']],[3,'items']],[3,'length']],[1,1]])
Z([3,'hot-live-item'])
Z(z[61])
Z([3,'hot-live-head'])
Z(z[63])
Z([3,'live_2nd'])
Z([[6],[[7],[3,'secondScreenLiveData']],[3,'blockUrl']])
Z(z[66])
Z(z[67])
Z(z[12])
Z([[6],[[7],[3,'secondScreenLiveData']],[3,'blockTitleImage']])
Z([[6],[[7],[3,'secondScreenLiveData']],[3,'items']])
Z(z[76])
Z(z[61])
Z([3,'hot-live-content-group'])
Z(z[63])
Z(z[106])
Z(z[81])
Z([3,'hot-live-content-left'])
Z(z[67])
Z(z[12])
Z(z[90])
Z([3,'hot-live-content-tag'])
Z([3,'hot-live-content-tag-icon'])
Z(z[12])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z(z[84])
Z([3,'hot-live-content-tag-icon-location'])
Z(z[12])
Z(z[87])
Z(z[83])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'liveStatus']],[1,0]])
Z(z[67])
Z(z[12])
Z([3,'https://pic.c-ctrip.com/platform/h5/mini_programe/v2021.1.7/home/iSpt.gif'])
Z([3,'hot-live-content-right'])
Z([[6],[[7],[3,'item']],[3,'stag']])
Z([3,'hot-live-content-name-icon'])
Z([3,'hot-live-content-name-headphoto'])
Z(z[12])
Z([[6],[[6],[[7],[3,'item']],[3,'user']],[3,'icon']])
Z([[6],[[6],[[7],[3,'item']],[3,'user']],[3,'vicon']])
Z([3,'hot-live-content-name-vicon'])
Z(z[12])
Z(z[142])
Z([[2,'>'],[[6],[[7],[3,'activities']],[3,'length']],[1,1]])
Z([3,'activity'])
Z([3,'clickMoreActivityAction'])
Z([3,'activity-title-more'])
Z([3,'icon-activity-title-more'])
Z(z[12])
Z([3,'https://pic.c-ctrip.com/platform/h5/mini_programe/icon-arrow-right.png'])
Z([[7],[3,'activities']])
Z([3,'actTitle'])
Z(z[7])
Z([a,[3,'activity-item item-'],[[6],[[7],[3,'activities']],[3,'length']]])
Z(z[37])
Z(z[147])
Z([[6],[[6],[[7],[3,'item']],[3,'imgUrl']],[3,'length']])
Z([3,'activity-item-icon'])
Z(z[12])
Z([a,z[40],[3,' ']])
Z([[7],[3,'appId']])
Z([3,'getWaterfallRef'])
Z([3,'margin-bottom:120rpx;'])
Z([[7],[3,'extra']])
Z([3,'waterfall'])
Z([[7],[3,'ignoreLocation']])
Z([[7],[3,'source']])
Z([3,'_ToOpenApp'])
Z([3,'_ToReturnHome'])
Z([3,'redcom'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_18_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_18=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_18=true;
var x=['./pages/home/homepage.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_18_1()
var fUF=_n('perinfo-protect-float')
_rz(z,fUF,'forceExitMiniapp',0,e,s,gg)
_(r,fUF)
var cVF=_n('timelineFloat')
_(r,cVF)
var oTF=_v()
_(r,oTF)
if(_oz(z,1,e,s,gg)){oTF.wxVkey=1
var hWF=_v()
_(oTF,hWF)
if(_oz(z,2,e,s,gg)){hWF.wxVkey=1
var oXF=_mz(z,'view',['class',3,'style',1],[],e,s,gg)
var cYF=_mz(z,'search',['slot',5,'style',1],[],e,s,gg)
_(oXF,cYF)
var oZF=_mz(z,'view',['bindtap',7,'class',1,'data-item',2,'data-position',3],[],e,s,gg)
var l1F=_mz(z,'cimage',['c_className',11,'mode',1,'src',2],[],e,s,gg)
_(oZF,l1F)
_(oXF,oZF)
_(hWF,oXF)
}
var a2F=_n('equity')
_rz(z,a2F,'equityShowStatus',14,e,s,gg)
_(oTF,a2F)
var t3F=_mz(z,'ad-sdk',['bindgetAdData',15,'impId',1,'lonAndLat',2],[],e,s,gg)
_(oTF,t3F)
var e4F=_mz(z,'ad-sdk',['height',18,'impId',1,'lonAndLat',2,'width',3],[],e,s,gg)
_(oTF,e4F)
var b5F=_mz(z,'scroll-view',['bindscrolltolower',22,'class',1,'enableBackToTop',2,'lowerThreshold',3,'scrollY',4],[],e,s,gg)
var f9F=_n('collection')
_rz(z,f9F,'isCustomNav',27,e,s,gg)
_(b5F,f9F)
var c0F=_mz(z,'swiper',['bindanimationfinish',28,'class',1,'duration',2,'easingFunction',3,'style',4],[],e,s,gg)
var hAG=_v()
_(c0F,hAG)
var oBG=function(oDG,cCG,lEG,gg){
var tGG=_mz(z,'view',['bindtap',35,'class',1,'data-item',2,'data-position',3],[],oDG,cCG,gg)
var bIG=_mz(z,'cimage',['c_className',39,'src',1],[],oDG,cCG,gg)
_(tGG,bIG)
var eHG=_v()
_(tGG,eHG)
if(_oz(z,41,oDG,cCG,gg)){eHG.wxVkey=1
}
eHG.wxXCkey=1
_(lEG,tGG)
return lEG
}
hAG.wxXCkey=4
_2z(z,33,oBG,e,s,gg,hAG,'item','index','buName')
var oJG=_v()
_(c0F,oJG)
var xKG=function(fMG,oLG,cNG,gg){
var oPG=_mz(z,'view',['bindtap',44,'class',1,'data-item',2,'data-position',3],[],fMG,oLG,gg)
var oRG=_mz(z,'cimage',['c_className',48,'src',1],[],fMG,oLG,gg)
_(oPG,oRG)
var cQG=_v()
_(oPG,cQG)
if(_oz(z,50,fMG,oLG,gg)){cQG.wxVkey=1
}
cQG.wxXCkey=1
_(cNG,oPG)
return cNG
}
oJG.wxXCkey=4
_2z(z,42,xKG,e,s,gg,oJG,'item','index','buName')
_(b5F,c0F)
var o6F=_v()
_(b5F,o6F)
if(_oz(z,51,e,s,gg)){o6F.wxVkey=1
var lSG=_mz(z,'ad-sdk',['height',52,'impId',1,'lonAndLat',2,'slideVideo',3,'width',4],[],e,s,gg)
_(o6F,lSG)
}
var x7F=_v()
_(b5F,x7F)
if(_oz(z,57,e,s,gg)){x7F.wxVkey=1
var aTG=_v()
_(x7F,aTG)
if(_oz(z,58,e,s,gg)){aTG.wxVkey=1
var tUG=_n('view')
_rz(z,tUG,'class',59,e,s,gg)
var eVG=_n('view')
_rz(z,eVG,'class',60,e,s,gg)
var bWG=_mz(z,'view',['bindtap',61,'class',1,'data-position',2,'data-ubt',3,'data-url',4],[],e,s,gg)
var oXG=_v()
_(bWG,oXG)
if(_oz(z,66,e,s,gg)){oXG.wxVkey=1
var xYG=_mz(z,'cimage',['c_className',67,'mode',1,'src',2],[],e,s,gg)
_(oXG,xYG)
}
oXG.wxXCkey=1
oXG.wxXCkey=3
_(eVG,bWG)
var oZG=_n('view')
_rz(z,oZG,'class',70,e,s,gg)
var c2G=_mz(z,'swiper',['autoplay',71,'bindchange',1,'circular',2,'class',3],[],e,s,gg)
var h3G=_v()
_(c2G,h3G)
var o4G=function(o6G,c5G,l7G,gg){
var t9G=_mz(z,'view',['bindtap',77,'class',1,'data-position',2,'data-ubt',3,'data-url',4],[],o6G,c5G,gg)
var bAH=_n('view')
_rz(z,bAH,'class',82,o6G,c5G,gg)
var oBH=_v()
_(bAH,oBH)
if(_oz(z,83,o6G,c5G,gg)){oBH.wxVkey=1
var oDH=_v()
_(oBH,oDH)
if(_oz(z,84,o6G,c5G,gg)){oDH.wxVkey=1
var fEH=_mz(z,'cimage',['c_className',85,'mode',1,'src',2],[],o6G,c5G,gg)
_(oDH,fEH)
}
oDH.wxXCkey=1
oDH.wxXCkey=3
}
var cFH=_mz(z,'cimage',['c_className',88,'mode',1,'src',2],[],o6G,c5G,gg)
_(bAH,cFH)
var xCH=_v()
_(bAH,xCH)
if(_oz(z,91,o6G,c5G,gg)){xCH.wxVkey=1
}
oBH.wxXCkey=1
oBH.wxXCkey=3
xCH.wxXCkey=1
_(t9G,bAH)
var e0G=_v()
_(t9G,e0G)
if(_oz(z,92,o6G,c5G,gg)){e0G.wxVkey=1
var hGH=_n('view')
_rz(z,hGH,'class',93,o6G,c5G,gg)
var oHH=_v()
_(hGH,oHH)
if(_oz(z,94,o6G,c5G,gg)){oHH.wxVkey=1
var oJH=_v()
_(oHH,oJH)
if(_oz(z,95,o6G,c5G,gg)){oJH.wxVkey=1
}
oJH.wxXCkey=1
}
else{oHH.wxVkey=2
}
var cIH=_v()
_(hGH,cIH)
if(_oz(z,96,o6G,c5G,gg)){cIH.wxVkey=1
var lKH=_v()
_(cIH,lKH)
if(_oz(z,97,o6G,c5G,gg)){lKH.wxVkey=1
var aLH=_mz(z,'cimage',['c_className',98,'mode',1,'src',2],[],o6G,c5G,gg)
_(lKH,aLH)
}
lKH.wxXCkey=1
lKH.wxXCkey=3
}
oHH.wxXCkey=1
cIH.wxXCkey=1
cIH.wxXCkey=3
_(e0G,hGH)
}
e0G.wxXCkey=1
e0G.wxXCkey=3
_(l7G,t9G)
return l7G
}
h3G.wxXCkey=4
_2z(z,75,o4G,e,s,gg,h3G,'item','index','id')
_(oZG,c2G)
var f1G=_v()
_(oZG,f1G)
if(_oz(z,101,e,s,gg)){f1G.wxVkey=1
}
f1G.wxXCkey=1
_(eVG,oZG)
_(tUG,eVG)
var tMH=_n('view')
_rz(z,tMH,'class',102,e,s,gg)
var eNH=_mz(z,'view',['bindtap',103,'class',1,'data-position',2,'data-ubt',3,'data-url',4],[],e,s,gg)
var bOH=_v()
_(eNH,bOH)
if(_oz(z,108,e,s,gg)){bOH.wxVkey=1
var oPH=_mz(z,'cimage',['c_className',109,'mode',1,'src',2],[],e,s,gg)
_(bOH,oPH)
}
bOH.wxXCkey=1
bOH.wxXCkey=3
_(tMH,eNH)
var xQH=_v()
_(tMH,xQH)
var oRH=function(cTH,fSH,hUH,gg){
var cWH=_mz(z,'view',['bindtap',114,'class',1,'data-position',2,'data-ubt',3,'data-url',4],[],cTH,fSH,gg)
var oXH=_n('view')
_rz(z,oXH,'class',119,cTH,fSH,gg)
var aZH=_mz(z,'cimage',['c_className',120,'mode',1,'src',2],[],cTH,fSH,gg)
_(oXH,aZH)
var t1H=_n('view')
_rz(z,t1H,'class',123,cTH,fSH,gg)
var o4H=_mz(z,'cimage',['c_className',124,'mode',1,'src',2],[],cTH,fSH,gg)
_(t1H,o4H)
var e2H=_v()
_(t1H,e2H)
if(_oz(z,127,cTH,fSH,gg)){e2H.wxVkey=1
var x5H=_mz(z,'cimage',['c_className',128,'mode',1,'src',2],[],cTH,fSH,gg)
_(e2H,x5H)
}
var b3H=_v()
_(t1H,b3H)
if(_oz(z,131,cTH,fSH,gg)){b3H.wxVkey=1
}
e2H.wxXCkey=1
e2H.wxXCkey=3
b3H.wxXCkey=1
_(oXH,t1H)
var lYH=_v()
_(oXH,lYH)
if(_oz(z,132,cTH,fSH,gg)){lYH.wxVkey=1
var o6H=_mz(z,'cimage',['c_className',133,'mode',1,'src',2],[],cTH,fSH,gg)
_(lYH,o6H)
}
lYH.wxXCkey=1
lYH.wxXCkey=3
_(cWH,oXH)
var f7H=_n('view')
_rz(z,f7H,'class',136,cTH,fSH,gg)
var c8H=_v()
_(f7H,c8H)
if(_oz(z,137,cTH,fSH,gg)){c8H.wxVkey=1
}
var h9H=_n('view')
_rz(z,h9H,'class',138,cTH,fSH,gg)
var cAI=_mz(z,'cimage',['c_className',139,'mode',1,'src',2],[],cTH,fSH,gg)
_(h9H,cAI)
var o0H=_v()
_(h9H,o0H)
if(_oz(z,142,cTH,fSH,gg)){o0H.wxVkey=1
var oBI=_mz(z,'cimage',['c_className',143,'mode',1,'src',2],[],cTH,fSH,gg)
_(o0H,oBI)
}
o0H.wxXCkey=1
o0H.wxXCkey=3
_(f7H,h9H)
c8H.wxXCkey=1
_(cWH,f7H)
_(hUH,cWH)
return hUH
}
xQH.wxXCkey=4
_2z(z,112,oRH,e,s,gg,xQH,'item','index','id')
_(tUG,tMH)
_(aTG,tUG)
}
aTG.wxXCkey=1
aTG.wxXCkey=3
}
var o8F=_v()
_(b5F,o8F)
if(_oz(z,146,e,s,gg)){o8F.wxVkey=1
var lCI=_n('view')
_rz(z,lCI,'class',147,e,s,gg)
var aDI=_mz(z,'view',['bindtap',148,'class',1],[],e,s,gg)
var tEI=_mz(z,'cimage',['c_className',150,'mode',1,'src',2],[],e,s,gg)
_(aDI,tEI)
_(lCI,aDI)
var eFI=_v()
_(lCI,eFI)
var bGI=function(xII,oHI,oJI,gg){
var cLI=_mz(z,'view',['bindtap',155,'class',1,'data-item',2,'data-position',3],[],xII,oHI,gg)
var hMI=_v()
_(cLI,hMI)
if(_oz(z,159,xII,oHI,gg)){hMI.wxVkey=1
var oNI=_mz(z,'cimage',['c_className',160,'mode',1,'src',2],[],xII,oHI,gg)
_(hMI,oNI)
}
else{hMI.wxVkey=2
}
hMI.wxXCkey=1
hMI.wxXCkey=3
_(oJI,cLI)
return oJI
}
eFI.wxXCkey=4
_2z(z,153,bGI,e,s,gg,eFI,'item','index','actTitle')
_(o8F,lCI)
}
var cOI=_mz(z,'waterfall',['appId',163,'bindgetref',1,'cStyle',2,'extra',3,'id',4,'ignoreLocation',5,'source',6],[],e,s,gg)
_(b5F,cOI)
var oPI=_mz(z,'redcom',['bind:openApp',170,'bind:returnHome',1,'id',2],[],e,s,gg)
_(b5F,oPI)
o6F.wxXCkey=1
o6F.wxXCkey=3
x7F.wxXCkey=1
x7F.wxXCkey=3
o8F.wxXCkey=1
o8F.wxXCkey=3
_(oTF,b5F)
hWF.wxXCkey=1
hWF.wxXCkey=3
}
oTF.wxXCkey=1
oTF.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_18";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_18();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/home/homepage.wxml'] = [$gwx_XC_18, './pages/home/homepage.wxml'];else __wxAppCode__['pages/home/homepage.wxml'] = $gwx_XC_18( './pages/home/homepage.wxml' );
	;__wxRoute = "pages/home/homepage";__wxRouteBegin = true;__wxAppCurrentFile__="pages/home/homepage.js";define("pages/home/homepage.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault"),e=require("../../@babel/runtime/helpers/objectWithoutProperties"),i=require("../../@babel/runtime/helpers/objectSpread2"),n=require("../../cwx/cwx.js"),a=t(require("./tips")),o=t(require("./defaultHomePage")),s=require("./common/utils"),c=require("./common/confs/fetchConfs"),r=["appId"],l=n.cwx.canIUse("web-view"),u={type:null,latitude:null,longitude:null,overSea:!1};(0,n.CPage)({pageId:"10320613574",checkPerformance:!0,data:{source:"wxhome",appId:"99999999",ignoreLocation:!0,skipLoad:!0,fakeData:!0,isSupportCustom:!0,AdvertiseDataWidth:0,AdvertiseDataHeight:0,activities:[],equityShow:!1,indicatorDots:!0,vertical:!1,autoplay:!1,interval:2e3,duration:500,slideVideo:{dotPosition:"center",dotColor:"#FFF",dotCurrentColor:"#FFF"},secondScreenHotSaleData:null,secondScreenLiveData:null,currentSpecialDot:0,swiperHeight:350,swiperPoint:0,lonAndLat:{isEnable:!1},secondScreenVersion:"B",extra:'{"getCardListRequest":"{\\"ext\\": {\\"cver\\": \\"9999.000\\"}}"}',defaultSign:!0,homeBgGray:!1},onShareTimeline:function(){},onShareAppMessage:function(){return{title:"携程旅行--酒店机票火车票汽车票预订",desc:"欢迎使用携程旅行，预定酒店机票火车票汽车票！",path:"/pages/home/homepage"}},onLoad:function(t){var e=this,i=wx.getMenuButtonBoundingClientRect?wx.getMenuButtonBoundingClientRect():null,a=!(!i||!i.left);wx.getSystemInfo({success:function(t){wx.j("gQ6");var n=!!(t.system.toLowerCase().search("ios")+1);e.setData({ios:n,barHeight:i.height,statusBarHeight:t.statusBarHeight,innerWidth:a?"width:".concat(i.left,"px"):"",innerPaddingRight:a?"padding-right:".concat(t.windowWidth-i.left,"px"):"",isSupportCustom:!!(0,s.version)(t.version,"7.0.3")})}});try{t.toUrl?(this.setData({skipLoad:!0}),n.cwx.__firstToUrl&&(n.cwx.__firstToUrl=null),this.navigateTo({url:decodeURIComponent(t.toUrl),complete:function(){wx.j("Dsd"),setTimeout(function(){wx.j("5WS"),this.setData({skipLoad:!1}),t.toUrl=null,this._onLoad(t)}.bind(this),3e3)}.bind(this)})):e.setData({skipLoad:!1})}catch(t){e.setData({skipLoad:!1}),console.error(t)}try{var o=wx.createSelectorQuery();o.select(".slider-show").boundingClientRect(),o.exec((function(t){wx.j("PsJ"),e.setData({AdvertiseDataWidth:t[0]&&t[0].width||n.cwx.wxSystemInfo.windowWidth-24,AdvertiseDataHeight:t[0]&&t[0].height||.25*(n.cwx.wxSystemInfo.windowWidth-24)})}))}catch(t){e.setData({AdvertiseDataWidth:n.cwx.wxSystemInfo.windowWidth-24,AdvertiseDataHeight:.25*(n.cwx.wxSystemInfo.windowWidth-24)})}"A"==t.customAB?e._homeABTest="A":"B"==t.customAB||"B"==n.cwx._homeABTest?e._homeABTest="B":e._homeABTest="A",e.data.skipLoad||e._onLoad(t)},_onLoad:function(t){wx.j("fbP");var e=this;console.log("用户的clientId",n.cwx.clientID),null==e._homeABTest&&(e._homeABTest=n.cwx._homeABTest),e.initGridInfo(),e.getActivityInfo(),n.cwx.configService.watch("More",(function(t){if(wx.j("7qb"),t&&t.length){var i=e.data.cusitems;t.forEach((function(t){(wx.j("POO"),t.bu&&t.buName&&t.ubt)&&(i.find((function(e){return e.bu==t.bu}))&&(i=i.filter((function(e){return e.bu!==t.bu}))),t.delete||(t.position?i.splice(t.position-1,0,t):i.push(t)))})),e.setData({cusitems:i})}})),n.cwx.configService.watch("homeBgColor",(function(t){wx.j("Lkf"),t&&"gray"===t.backgroundColor&&e.setData({homeBgGray:!0})}))},onShow:function(){var t=this;t.getSignTodayInfoProxy((function(e){wx.j("LPt"),t.setData({defaultSign:e})})),t.Selected=!1,(0,s.logWithUbtMetric)({type:"explore",position:"grid"})},onUnload:function(){this.endSetInter()},onHide:function(){this.endSetInter()},homeADeve:function(t){wx.j("5Jl"),this.setData({equityShow:!t.detail.length})},initGridInfo:function(){wx.j("RRG"),this.setData(i(i({},o.default),{},{fakeData:!0})),this._tipsFill(),this.Selected=!1},_tipsFill:function(){wx.j("MNY"),a.default.init(function(t){wx.j("e0b");var e=a.default.arrange(t);[this.data.items,this.data.cusitems].forEach((function(t){wx.j("ZAc"),t&&t.length&&t.forEach((function(t){wx.j("bIt"),t.buName in e&&(t.tip=e[t.buName])}))})),this.setData({items:this.data.items,cusitems:this.data.cusitems})}.bind(this))},swiperAnimationFinish:function(t){wx.j("61f"),0===t.detail.current&&this.setData({swiperHeight:118*Math.ceil(this.data.items.length/5)-4,swiperPoint:0}),1===t.detail.current&&(this.setData({swiperHeight:118*Math.ceil(this.data.cusitems.length/5)-4,swiperPoint:1}),(0,s.logWithUbtMetric)({type:"explore",position:"second-grid"}))},initSecondScreenInfo:function(){var t=this;wx.j("SwC"),this.getSecondScreenInfo((function(e){wx.j("V7C");var i=null;if(200==e.statusCode&&"Success"==e.data.ResponseStatus.Ack&&e.data.items&&e.data.items.length>0){var n,a,o=(i=JSON.parse(e.data.items[0]).items)[0],c=(null==o||null===(n=o.items)||void 0===n?void 0:n.filter((function(t){return t.title&&t.url})).splice(0,3))||[],r=!1;c.map((function(t){if(wx.j("mYT"),t.showSlogan=t.slogan,t.secKill&&t.secKill.beginTime&&t.secKill.endTime&&t.secKill.beginTime.length&&t.secKill.endTime.length){var e=new Date(t.secKill.beginTime).getTime(),i=new Date(t.secKill.endTime).getTime(),n=(new Date).getTime();n<e&&(t.showSlogan="距开始".concat((0,s.formatDuring)(e-n))),n>e&&n<i&&(t.showSlogan="距结束".concat((0,s.formatDuring)(i-n))),r=!0}})),o.items=c,r&&t.startSetInter();var l=i[1],u=(null==l||null===(a=l.items)||void 0===a?void 0:a.filter((function(t){return t.title&&t.url})).splice(0,1))||[];if(u.length&&u[0].user){var d=u[0].user.isbusinessuser;u[0].user.vicon="0"===d?"https://pic.c-ctrip.com/platform/h5/mini_programe/v2021.1.7/home/C-user.png":"1"===d?"https://pic.c-ctrip.com/platform/h5/mini_programe/v2021.1.7/home/B-user.png":""}l.items=u,t.setData({secondScreenHotSaleData:c.length?o:[],secondScreenLiveData:u.length?l:[]})}else t.setData({secondScreenHotSaleData:[],secondScreenLiveData:[]})}))},getSecondScreenInfo:function(t){wx.j("ejT"),n.cwx.request({url:c.URL_MAP.getSecondScreenInfo,data:{coordinate:u,ext:{cver:"9999.000"}},success:function(e){wx.j("Rk5"),t(e)},fail:function(e){wx.j("ia1"),t(e)}})},changeSpecialDot:function(t){wx.j("cgN"),this.setData({currentSpecialDot:t.detail.current})},startSetInter:function(){wx.j("dOf");var t=this;t.data.setInter=setInterval((function(){wx.j("QyW");var e=t.data.secondScreenHotSaleData;t.setData({secondScreenHotSaleData:e})}),1e3)},endSetInter:function(){wx.j("p5Q");clearInterval(this.data.setInter)},secondScreenTap:function(t){},getActivityInfo:function(){var t=this;wx.j("ixE");var e=this;n.cwx.request({url:c.URL_MAP.getActivityInfo,data:{activityId:"CTRIP_HomePage"},success:function(i){if(wx.j("Jvr"),i&&i.data&&i.data.ResponseStatus&&"Success"==i.data.ResponseStatus.Ack&&i.data.list&&i.data.list.length){var n=i.data.list;e.setData({activities:t.mapActivityInfo(n).slice(0,6)})}else e.setData({activities:[]})},fail:function(t){wx.j("9lT"),e.setData({activities:[]})}})},mapActivityInfo:function(t){wx.j("Iaw");var i=[];return t.forEach((function(t){wx.j("q2g");var n=t.actTitle,a=t.actSubTitle,o=t.actImgUrl,s=t.actUrl,c=t.ubt,l=t.customInfo;try{var u=JSON.parse(l||"{}"),d=u.appId,h=void 0===d?"":d,f=e(u,r),p="",g="",w="";n&&s&&(h?p=s:/^https?:\/\//i.test(s)?g=s:w=s,i.push({ubt:c,title:n,subTitle:a,imgUrl:o,h5url:g,url:w,appId:h,path:p,configure:f}))}catch(t){}})),i},clickGridAction:function(t){wx.j("hli");var e=t.currentTarget.dataset,i=e.item,n=e.position,a=(0,s.getHomePageItem)(i);this.goToTap(a,n)},goToTap:function(t,e){wx.j("nbP");var i=this;if(1!=i.Selected){i.Selected=!0,(0,s.logWithUbtTrace)({block:t.ubt});var a="";try{a=JSON.stringify(t)}catch(t){}(0,s.logWithUbtDevTrace)({tinyapp:"weixin",stage:"goToTap click",item:a,position:e||"home"}),(0,s.logWithUbtMetric)({bu:t.ubt,type:"click",position:e||"home"}),t.appId?n.cwx.user.getToken((function(e){wx.j("4S9");var a=t.path;a+=a.indexOf("?")>-1?"&":"?",a+="__userToken=".concat(e),n.cwx.cwx_navigateToMiniProgram({appId:t.appId,path:a,envVersion:"release",openEmbedded:!0,extraData:{__userToken:e},complete:function(){wx.j("VND"),i.Selected=!1}})})):l&&t.h5url?(i._itemH5UrlHandle(t),i.Selected=!1):i.navigateTo({url:t.url,complete:function(){wx.j("B4V"),i.Selected=!1}})}},_itemH5UrlHandle:function(t){wx.j("jDZ");var e=t.configure,a="prd"===s.currentEnv?t.h5url:t.testh5url||t.h5url;a=a.replace(/[\u4e00-\u9fa5]+/g,(function(t){return wx.j("0I3"),encodeURIComponent(t)})),n.cwx.component.cwebview({data:i({url:encodeURIComponent(a)},e)})},getWaterfallRef:function(t){wx.j("e8N"),this.waterfall=t.detail},getWaterfallListMore:function(){wx.j("XfW"),this.waterfall&&this.waterfall.getListMore()},getSignTodayInfoProxy:function(t){wx.j("33Y"),n.cwx.user.auth?n.cwx.request({url:c.URL_MAP.getSignTodayInfoProxy,success:function(e){wx.j("m0E");try{if(e&&e.data&&e.data.ResponseStatus&&"Success"==e.data.ResponseStatus.Ack&&e.data.responseJson&&e.data.responseJson.length){var i=e.data.responseJson,n=JSON.parse(i);n&&n.ResponseStatus&&"Success"==n.ResponseStatus.Ack&&n.message&&"成功"===n.message&&!n.sign?t(!1):t(!0)}else t(!0)}catch(e){t(!0)}},fail:function(e){wx.j("uxo"),t(!0)}}):t(!0)},clickMoreActivityAction:function(){wx.j("fcE");this.goToTap({ubt:"more_activity",url:"/pages/market/web/index?from=https%3A%2F%2Fcontents.ctrip.com%2Factivitysetupapp%2Fmkt%2Findex%2Fmoreactivities%3Finnersid%3Dwxgd"},"more_activity")}});
},{isPage:true,isComponent:true,currentFile:'pages/home/homepage.js'});require("pages/home/homepage.js");