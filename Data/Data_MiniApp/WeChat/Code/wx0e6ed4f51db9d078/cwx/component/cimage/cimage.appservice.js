__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'cwx/component/cimage/cimage':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c;var M=R.m;var O=R.r;var A={"c_src":new Array(1),"mode":new Array(1),"lazyLoad":new Array(1),"fadeIn":new Array(1),"showMenuByLongpress":new Array(1),"style":new Array(1),"webp":new Array(1),"className":new Array(1)};var K=U===true;return {C:(C,T,E)=>{E("image",{},(N,C)=>{if(C||K||U.c_src)O(N,"src",D.c_src);A["c_src"][0]=(D,E,T)=>{O(N,"src",D.c_src);E(N)};if(C||K||U.mode)O(N,"mode",D.mode);A["mode"][0]=(D,E,T)=>{O(N,"mode",D.mode);E(N)};if(C||K||U.showMenuByLongpress)O(N,"show-menu-by-longpress",D.showMenuByLongpress);A["showMenuByLongpress"][0]=(D,E,T)=>{O(N,"show-menu-by-longpress",D.showMenuByLongpress);E(N)};if(C)O(N,"binderror","c_binderror");if(C)O(N,"bindload","c_bindload");if(C||K||U.fadeIn)O(N,"fade-in",D.fadeIn);A["fadeIn"][0]=(D,E,T)=>{O(N,"fade-in",D.fadeIn);E(N)};if(C||K||U.webp)O(N,"webp",D.webp);A["webp"][0]=(D,E,T)=>{O(N,"webp",D.webp);E(N)};if(C||K||U.lazyLoad)O(N,"lazy-load",D.lazyLoad);A["lazyLoad"][0]=(D,E,T)=>{O(N,"lazy-load",D.lazyLoad);E(N)};if(C||K||U.style)R.y(N,D.style);A["style"][0]=(D,E,T)=>{R.y(N,D.style)};if(C||K||!!U.className||undefined)L(N,Y(D.className)+" cimageWrapper");A["className"][0]=(D,E,T)=>{L(N,Y(D.className)+" cimageWrapper")};if(C)O(N,"bindtap","c_onTap")},(C)=>{})},B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "cwx/component/cimage/cimage";__wxRouteBegin = true;__wxAppCurrentFile__="cwx/component/cimage/cimage.js";define("cwx/component/cimage/cimage.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../ext/cdnDowngrade/index");Component({properties:{src:{type:String,value:""},c_className:{type:String,value:""},mode:{type:String,value:"scaleToFill"},showMenuByLongpress:{type:Boolean,value:!1},onImageload:{type:Function,value:null},onImageerror:{type:Function,value:null},fadeIn:{type:Boolean,value:!1},webp:{type:Boolean,value:!1},lazyLoad:{type:Boolean,value:!1},style:{type:String,value:""}},data:{className:""},observers:{src:function(e){this.initVendorUrl(e)},c_className:function(e){this.setData({className:e})}},lifetimes:{created:function(){},attached:function(){this.cProps=this.props||this.properties||{},"string"!=typeof this.cProps.src&&(this.cProps.src=""),"string"!=typeof this.cProps.c_className&&(this.cProps.c_className=""),this.initVendorUrl(this.cProps.src),this.cProps.c_className&&this.setData({className:this.cProps.c_className})},ready:function(){},moved:function(){},detached:function(){}},methods:{initVendorUrl:function(t){if(t&&t!==this.src){this.beginTime=(new Date).getTime(),this.vendor=!0,this.downgradeList=[],this.retry=0,this.rDomain="",this.oDomain="";var s=(0,e.getUrl)(t),r=s.hostname,i=s.domain,o=s.url;this.src=t,i&&r!==i&&(0,e.addImageVendorTotal)(),this.setData({c_src:o})}},c_binderror:function(t){console.error("[c_binderror] err:",t);var s=this.downgradeList||[];if(this.vendor&&(this.vendor=!1,s=(0,e.getDowngrade)(this.src),this.downgradeList=s,this.downgradeList.length>0&&(0,e.addImageDowngradeTotal)(),delete this.vendor),s&&s.length){var r=s.shift(),i=r.url,o=r.domain,n=r.originDomain;return this.retry++,this.rDomain=o,this.oDomain=n,this.beginTime=(new Date).getTime(),console.log("%c [c_binderror] set c_src:","color: green",i),void this.setData({c_src:i})}(0,e.addImageDowngradeErrorTotal)(),this.cProps&&"function"==typeof this.cProps.onImageerror?this.cProps.onImageerror({detail:t||{}}):this.triggerEvent&&this.triggerEvent("imageerror",t,{})},c_bindload:function(e){this.cProps&&"function"==typeof this.cProps.onImageload?this.cProps.onImageload({detail:e||{}}):this.triggerEvent&&this.triggerEvent("imageload",e,{})},c_onTap:function(e){console.log("[c_onTap] res:",e),this.cProps&&"function"==typeof this.cProps.onImagetap?this.cProps.onImagetap({detail:e||{}}):this.triggerEvent&&this.triggerEvent("imagetap",e,{})}}});
},{isPage:false,isComponent:true,currentFile:'cwx/component/cimage/cimage.js'});require("cwx/component/cimage/cimage.js");