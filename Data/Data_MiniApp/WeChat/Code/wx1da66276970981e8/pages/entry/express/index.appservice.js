$gwx_XC_131=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_131 || [];
function gz$gwx_XC_131_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_131_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page myexpress'])
Z([[7],[3,'M']])
Z([[7],[3,'a']])
Z([3,'__l'])
Z([3,'c9f3ed84-0'])
Z(z[2])
Z([[7],[3,'b']])
Z(z[3])
Z([3,'c9f3ed84-1'])
Z(z[6])
Z([[7],[3,'y']])
Z([3,'kdcs-status'])
Z([[7],[3,'k']])
Z([[7],[3,'j']])
Z([1,1])
Z([[7],[3,'i']])
Z([[7],[3,'n']])
Z([[7],[3,'m']])
Z([1,99])
Z([[7],[3,'l']])
Z([[7],[3,'q']])
Z([[7],[3,'p']])
Z([1,2])
Z([[7],[3,'o']])
Z([[7],[3,'r']])
Z([[7],[3,'v']])
Z([3,'item'])
Z([[7],[3,'w']])
Z([3,'B'])
Z([3,'content-item'])
Z([[6],[[7],[3,'item']],[3,'k']])
Z([3,'item-header'])
Z([[6],[[7],[3,'item']],[3,'j']])
Z([[6],[[7],[3,'item']],[3,'d']])
Z([[6],[[7],[3,'item']],[3,'f']])
Z([[6],[[7],[3,'item']],[3,'g']])
Z([[6],[[7],[3,'item']],[3,'h']])
Z([[6],[[7],[3,'item']],[3,'i']])
Z([[6],[[7],[3,'item']],[3,'r']])
Z([3,'item-con'])
Z([[6],[[7],[3,'item']],[3,'q']])
Z([[6],[[7],[3,'item']],[3,'m']])
Z([[6],[[7],[3,'item']],[3,'s']])
Z([[6],[[7],[3,'item']],[3,'w']])
Z([[6],[[7],[3,'item']],[3,'z']])
Z([[7],[3,'F']])
Z([[7],[3,'z']])
Z([[7],[3,'C']])
Z(z[26])
Z([[7],[3,'D']])
Z([3,'n'])
Z(z[31])
Z(z[33])
Z(z[34])
Z(z[35])
Z([[7],[3,'J']])
Z(z[3])
Z([[7],[3,'H']])
Z([[7],[3,'I']])
Z([3,'r'])
Z([3,'privacy'])
Z([3,'c9f3ed84-2'])
Z(z[55])
Z([3,'privacyRef'])
Z([[7],[3,'K']])
Z(z[3])
Z([3,'c9f3ed84-3'])
Z(z[64])
Z(z[3])
Z([3,'c9f3ed84-4'])
Z(z[3])
Z([3,'c9f3ed84-5'])
Z(z[3])
Z(z[59])
Z([3,'c9f3ed84-6'])
Z([3,'subscribeTipRef'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_131_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_131=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_131=true;
var x=['./pages/entry/express/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_131_1()
var o03=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var cA4=_v()
_(o03,cA4)
if(_oz(z,2,e,s,gg)){cA4.wxVkey=1
var tE4=_mz(z,'custom-service-button',['bind:__l',3,'uI',1,'uP',2],[],e,s,gg)
_(cA4,tE4)
}
var oB4=_v()
_(o03,oB4)
if(_oz(z,6,e,s,gg)){oB4.wxVkey=1
var eF4=_mz(z,'ad-banner',['bind:__l',7,'uI',1,'uP',2],[],e,s,gg)
_(oB4,eF4)
}
var bG4=_n('view')
_rz(z,bG4,'class',10,e,s,gg)
var xI4=_n('view')
_rz(z,xI4,'class',11,e,s,gg)
var oJ4=_mz(z,'view',['bindtap',12,'class',1,'data-current',2],[],e,s,gg)
var fK4=_v()
_(oJ4,fK4)
if(_oz(z,15,e,s,gg)){fK4.wxVkey=1
}
fK4.wxXCkey=1
_(xI4,oJ4)
var cL4=_mz(z,'view',['bindtap',16,'class',1,'data-current',2],[],e,s,gg)
var hM4=_v()
_(cL4,hM4)
if(_oz(z,19,e,s,gg)){hM4.wxVkey=1
}
hM4.wxXCkey=1
_(xI4,cL4)
var oN4=_mz(z,'view',['bindtap',20,'class',1,'data-current',2],[],e,s,gg)
var cO4=_v()
_(oN4,cO4)
if(_oz(z,23,e,s,gg)){cO4.wxVkey=1
}
cO4.wxXCkey=1
_(xI4,oN4)
_(bG4,xI4)
var oH4=_v()
_(bG4,oH4)
if(_oz(z,24,e,s,gg)){oH4.wxVkey=1
}
else if(_oz(z,25,e,s,gg)){oH4.wxVkey=2
var oP4=_v()
_(oH4,oP4)
var lQ4=function(tS4,aR4,eT4,gg){
var oV4=_n('view')
_rz(z,oV4,'class',29,tS4,aR4,gg)
var fY4=_mz(z,'view',['bindtap',30,'class',1,'data-index',2],[],tS4,aR4,gg)
var cZ4=_v()
_(fY4,cZ4)
if(_oz(z,33,tS4,aR4,gg)){cZ4.wxVkey=1
}
var h14=_v()
_(fY4,h14)
if(_oz(z,34,tS4,aR4,gg)){h14.wxVkey=1
}
var o24=_v()
_(fY4,o24)
if(_oz(z,35,tS4,aR4,gg)){o24.wxVkey=1
}
var c34=_v()
_(fY4,c34)
if(_oz(z,36,tS4,aR4,gg)){c34.wxVkey=1
}
var o44=_v()
_(fY4,o44)
if(_oz(z,37,tS4,aR4,gg)){o44.wxVkey=1
}
cZ4.wxXCkey=1
h14.wxXCkey=1
o24.wxXCkey=1
c34.wxXCkey=1
o44.wxXCkey=1
_(oV4,fY4)
var l54=_mz(z,'view',['bindtap',38,'class',1,'data-index',2],[],tS4,aR4,gg)
var a64=_v()
_(l54,a64)
if(_oz(z,41,tS4,aR4,gg)){a64.wxVkey=1
}
a64.wxXCkey=1
_(oV4,l54)
var xW4=_v()
_(oV4,xW4)
if(_oz(z,42,tS4,aR4,gg)){xW4.wxVkey=1
}
var oX4=_v()
_(oV4,oX4)
if(_oz(z,43,tS4,aR4,gg)){oX4.wxVkey=1
var t74=_v()
_(oX4,t74)
if(_oz(z,44,tS4,aR4,gg)){t74.wxVkey=1
}
t74.wxXCkey=1
}
xW4.wxXCkey=1
oX4.wxXCkey=1
_(eT4,oV4)
return eT4
}
oP4.wxXCkey=2
_2z(z,27,lQ4,e,s,gg,oP4,'item','index','B')
}
else{oH4.wxVkey=3
}
oH4.wxXCkey=1
_(o03,bG4)
var e84=_n('view')
_rz(z,e84,'class',45,e,s,gg)
var b94=_v()
_(e84,b94)
if(_oz(z,46,e,s,gg)){b94.wxVkey=1
}
else if(_oz(z,47,e,s,gg)){b94.wxVkey=2
var o04=_v()
_(b94,o04)
var xA5=function(fC5,oB5,cD5,gg){
var oF5=_n('view')
_rz(z,oF5,'class',51,fC5,oB5,gg)
var cG5=_v()
_(oF5,cG5)
if(_oz(z,52,fC5,oB5,gg)){cG5.wxVkey=1
}
var oH5=_v()
_(oF5,oH5)
if(_oz(z,53,fC5,oB5,gg)){oH5.wxVkey=1
}
var lI5=_v()
_(oF5,lI5)
if(_oz(z,54,fC5,oB5,gg)){lI5.wxVkey=1
}
cG5.wxXCkey=1
oH5.wxXCkey=1
lI5.wxXCkey=1
_(cD5,oF5)
return cD5
}
o04.wxXCkey=2
_2z(z,49,xA5,e,s,gg,o04,'item','index','n')
}
else{b94.wxVkey=3
}
b94.wxXCkey=1
_(o03,e84)
var lC4=_v()
_(o03,lC4)
if(_oz(z,55,e,s,gg)){lC4.wxVkey=1
var aJ5=_mz(z,'zec-privacy',['bind:__l',56,'bindalertCancel',1,'bindopen',2,'class',3,'id',4,'uI',5,'uP',6,'uR',7],[],e,s,gg)
_(lC4,aJ5)
}
var aD4=_v()
_(o03,aD4)
if(_oz(z,64,e,s,gg)){aD4.wxVkey=1
var tK5=_mz(z,'mpweixin',['bind:__l',65,'uI',1,'uP',2],[],e,s,gg)
_(aD4,tK5)
}
var eL5=_mz(z,'c-page-tracer',['bind:__l',68,'uI',1],[],e,s,gg)
_(o03,eL5)
var bM5=_mz(z,'c-page-pop',['bind:__l',70,'uI',1],[],e,s,gg)
_(o03,bM5)
var oN5=_mz(z,'subscribe-tip',['bind:__l',72,'class',1,'uI',2,'uR',3],[],e,s,gg)
_(o03,oN5)
cA4.wxXCkey=1
cA4.wxXCkey=3
oB4.wxXCkey=1
oB4.wxXCkey=3
lC4.wxXCkey=1
lC4.wxXCkey=3
aD4.wxXCkey=1
aD4.wxXCkey=3
_(r,o03)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_131";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_131();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/entry/express/index.wxml'] = [$gwx_XC_131, './pages/entry/express/index.wxml'];else __wxAppCode__['pages/entry/express/index.wxml'] = $gwx_XC_131( './pages/entry/express/index.wxml' );
	;__wxRoute = "pages/entry/express/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/entry/express/index.js";define("pages/entry/express/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault")(require("../../../@babel/runtime/helpers/defineProperty")),t=require("../../../common/vendor.js"),o=require("../../../utils/kdcs/theme.js"),n=require("../../../utils/kdcs/getData.js"),a=require("../../../utils/kdcs/util.js"),i=require("../../../hooks/app/useApp.js");require("../../../hooks/order/useOrder.js"),require("../../../config/options.js"),require("../../../config/theme.js"),require("../../../hooks/products/useProductsSearch.js"),require("../../../consts.js"),require("../../../utils/kdcs/ad.js"),require("../../../config/env.js"),require("../../../config/env.ci.js"),require("../../../config/enums.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/app/useAreas.js"),require("../../../hooks/products/useShopCoupons.js"),require("../../../hooks/products/useDefaultRegionInfo.js");var s=i.useApp(),r=s.commonConfig,c=s.getSharePath,d=getApp(),l={components:{SubscribeTip:function(){return"./subscribe-tip.js"},mpweixin:function(){return"../../../components/kdcs/mpweixin/index.js"},adBanner:function(){return"../../../components/kdcs/adBanner/adBanner.js"},customServiceButton:function(){return"../../../components/kdcs/customServiceButton/customServiceButton.js"}},data:function(){return{images:o.images,isLogin:d.globalData.authStatus&&d.globalData.bindMobile,statusBarHeight:20,top:20,isloading:!1,haveMoreData:!0,currentTab:0,status:1,takeoutPicShow:!1,kdcsList:[],kdgList:[],pageIndex:1,pageSize:20,recordCount:0,indicatorDots:!0,vertical:!1,autoplay:!0,interval:2e3,duration:500,indicatorColor:"rgba(0,0,0,0.1)",indicatorActivecolor:"rgba(0,0,0,0.2)",imgList:[],adListInfo:[],show:!1}},onReady:function(){},onLoad:function(e){if(d.globalData.currentTabRoute=getCurrentPages()[0].route,this.setData({statusBarHeight:d.globalData.menuButtonInfo.height,top:d.globalData.menuButtonInfo.top}),r.value.homeLifeViewSort)try{var o=JSON.parse(r.value.homeLifeViewSort);o&&(this.takeoutPicShow=o.expressListCoupon,console.log("takeoutPicShow.value>>>",this.takeoutPicShow))}catch(e){}d.globalData.promiseObj.then((function(){if(e&&e.depotCode){d.globalData.depotCode=e.depotCode;try{t.index.setStorageSync("globalDataDepotCode",d.globalData.depotCode)}catch(e){console.log("CatchClause",e),console.log("CatchClause",e)}}else if(e&&e.scene){var o,n=decodeURIComponent(e.scene);console.log("code",n),o=n.indexOf("=")>-1?n.substring(10):n,d.globalData.depotCode=o;try{t.index.setStorageSync("globalDataDepotCode",d.globalData.depotCode)}catch(e){console.log("CatchClause",e),console.log("CatchClause",e)}}else t.index.getStorage({key:"globalDataDepotCode",success:function(e){d.globalData.depotCode=e.data}})}))},onShow:function(){var e=d.globalData.authStatus&&d.globalData.bindMobile;this.setData({isLogin:e}),e&&(this.setData({currentTab:0,kdcsList:[],kdgList:[],recordCount:0,pageIndex:1,pageSize:20}),this.getKDCSList())},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){0==this.currentTab?this.haveMoreData&&this.getKDCSList():1==this.currentTab&&this.haveMoreData&&this.getKDGList()},onTabItemTap:function(e){this.$refs.subscribeTipRef.toCheck("",(function(){}))},onShareAppMessage:function(e){var o,n;return"takeout"===(null==(n=null==(o=null==e?void 0:e.target)?void 0:o.dataset)?void 0:n.id)?{title:"特价外卖会场来袭，快来囤券吧~",path:c(t.PagePaths.coupon),imageUrl:"https://fscdn.zto.com/fs8/M05/04/FA/CgRfYWUAKNSAOrwEAAJOkCuWg4E567.png",success:function(){}}:{title:"你的好友邀请你领取大额外卖红包，快来薅羊毛",path:c(t.PagePaths.home),imageUrl:"https://fscdn.zto.com/fs8/M03/C9/B4/CgRfYWS6LIaAPZrjAAIQJchSsk0439.png",success:function(){}}},methods:{refreshList:function(){d.globalData.authStatus&&d.globalData.bindMobile&&(1==this.currentTab?this.getKDGList():0==this.currentTab&&this.getKDCSList())},getPhoneNumber:function(e){var o=this,a=this;e.detail.errMsg.indexOf("ok")>-1&&n.bindWxPhone({unionId:d.globalData.unionId,iv:e.detail.iv,encryptedData:e.detail.encryptedData}).then((function(e){d.globalData.getWeChatUserInfo(d.globalData.unionId).then((function(e){a.setData({isLogin:!0}),d.globalData.authStatus=!0,d.globalData.bindMobile=!0,1==o.currentTab?o.getKDGList():0==o.currentTab&&o.getKDCSList()})).catch((function(e){console.log("setData>>>catch>"),a.setData({isLogin:!1})}))})).catch((function(e){t.index.showToast({title:e.message,icon:"none"})}))},copyTakeCode:function(e){var o=this,n=e.currentTarget.dataset.code||"";t.index.setClipboardData({data:n,fail:function(e){104===e.errno&&o.handleOpenPrivacy()}})},handleOpenPrivacy:function(){this.$refs.privacyRef.setData({show:!0})},goAdvertDetail:function(e){console.log(e);var o=this.imgList[e.currentTarget.dataset.id];if(console.log(o),this.getClickNum(o),o.exteriorUrl.indexOf("miniProgram")>-1){var n=o.exteriorUrl.substring(0,o.exteriorUrl.indexOf("?tag=miniProgram")),i=a.getQueryString(o.exteriorUrl,"appId");console.log(n,i),console.log("跳转小程序"),t.index.navigateToMiniProgram({appId:i,path:n,extraData:{},envVersion:"",success:function(e){}})}else if(console.log("跳转URL地址"),o.exteriorUrl){var s=encodeURIComponent(o.exteriorUrl);console.log(s),t.index.navigateTo({url:"/kdcs/pages/advertDetail/index?url="+s})}},clickBannerItem:function(e){var o=this.adListInfo[e.currentTarget.dataset.id];console.log(o),n.trackBannerItemInfo({imageName:o.imageName,source:"miniprog"}).then((function(e){console.log("点击Banner 埋点成功")})).catch((function(e){console.log("点击Banner 埋点失败")})),o.appId&&o.miniprogPage&&t.index.navigateToMiniProgram({appId:o.appId,path:o.miniprogPage,extraData:{},envVersion:"",success:function(e){}})},reportEvent:function(e){var o=this.adListInfo[e.currentTarget.dataset.id];console.log(o),n.reportEvent({mediaCode:o.mediaCode,adSpaceCode:o.adSpaceCode,adId:o.adId,eventType:"click",context:{mobile:d.globalData.mobile}}).then((function(e){if(2===o.actionType)t.index.navigateToMiniProgram({appId:o.adInfo[0].appId,path:o.adInfo[0].path,extraData:{},envVersion:"",success:function(e){}});else if(1===o.actionType&&o.adInfo[0].url){var n=encodeURIComponent(o.adInfo[0].url);console.log(n),t.index.navigateTo({url:"/kdcs/pages/advertDetail/index?url="+n})}})).catch((function(e){console.log("广告err",e),t.index.showToast({title:e.message,icon:"none"})}))},getClickNum:function(e){n.countClickVolume({type:e.type,id:e.id}).then((function(e){console.log(e)})).catch((function(e){t.index.showToast({title:e.message,icon:"none"})}))},queryAdminAdvertiseList:function(e){var o=this;e&&n.queryAdminAdvertiseList({depotCode:e,type:5}).then((function(e){console.log("广告成功=>",e),o.setData({imgList:e})})).catch((function(e){console.log("广告err",e),t.index.showToast({title:e.message,icon:"none"})}))},getListAdInfo:function(){var e=this;n.getListAdInfo({source:"wechat",adInfoKeyList:[{mediaCode:"zto_kdcs",adSpaceCode:"kdcs_index_top_1"},{mediaCode:"zto_kdcs",adSpaceCode:"kdcs_index_top_2"}],context:{mobile:d.globalData.mobile}}).then((function(t){var o=2e3;o&&"number"==typeof t.switchTime&&(o=1e3*t.switchTime),e.setData({adListInfo:t.bannerImageVOList,interval:o}),console.log("广告成功=O>",t.bannerImageVOList)})).catch((function(e){console.log("广告err",e),t.index.showToast({title:e.message,icon:"none"})}))},clickTab:function(e){if(this.currentTab===e.target.dataset.current)return!1;this.setData({currentTab:e.target.dataset.current,isloading:!1,haveMoreData:!0,kdcsList:[],kdgList:[],pageIndex:1,pageSize:20,recordCount:0}),this.isLogin&&(1==e.target.dataset.current?this.getKDGList():0==e.target.dataset.current&&this.getKDCSList())},clickSubTab:function(e){this.status!==e.target.dataset.current&&(this.setData({status:e.target.dataset.current,isloading:!1,haveMoreData:!0,kdcsList:[],pageIndex:1,pageSize:20,recordCount:0}),this.getKDCSList())},needLogin:function(e){a.needLogin((function(){t.index.navigateTo({url:"/kdcs/pages/login/index"})}),(function(){e&&e()}))},getKDCSList:function(){var e=this;this.isLogin&&(t.index.showLoading({title:"数据加载中"}),n.getMyExpress({pageIndex:this.pageIndex,pageSize:this.pageSize,unionId:d.globalData.unionId,status:"ALL"===this.status?void 0:this.status}).then((function(o){if(null==o||0==o.items.length)return e.setData({haveMoreData:!1}),void t.index.hideLoading();var n=e.kdcsList.concat(o.items);e.recordCount=o.recordCount,e.recordCount>e.pageIndex*e.pageSize?(e.pageIndex++,e.setData({kdcsList:n,recordCount:o.recordCount,pageIndex:e.pageIndex,haveMoreData:!0,isloading:!1})):e.setData({kdcsList:n,recordCount:o.recordCount,haveMoreData:!1,isloading:!1}),t.index.hideLoading()})).catch((function(e){t.index.hideLoading()})))},getKDGList:function(){var e=this;t.index.showLoading({title:"数据加载中"}),n.getMyParcelForBoxList({pageIndex:this.pageIndex,pageSize:this.pageSize,unionId:d.globalData.unionId}).then((function(o){if(null==o||0==o.items.length)return e.setData({haveMoreData:!1}),void t.index.hideLoading();var n=e.kdgList.concat(o.items);e.recordCount=o.totalCount,e.recordCount>e.pageIndex*e.pageSize?(e.pageIndex++,e.setData({kdgList:n,recordCount:o.totalCount,pageIndex:e.pageIndex,haveMoreData:!0,isloading:!1})):e.setData({kdgList:n,recordCount:o.totalCount,haveMoreData:!1,isloading:!1}),t.index.hideLoading()})).catch((function(e){t.index.hideLoading()}))},goRemindDetailPre:function(e){var t=this,o=e.currentTarget.dataset.index,n=t.kdcsList[o];this.$refs.subscribeTipRef.toCheck(n.billCode,(function(){t.goRemindDetail(e)}))},goRemindDetail:function(e){var o=e.currentTarget.dataset.index,n=this.kdcsList[o];console.log("data",n);var a={billCode:n.billCode,companyCodeUrl:n.expressLogo,depotCode:n.depotCode,expressCompanyCode:n.expressComapnyCode,toDoorFlag:n.deliveryFlag,estimatedTime:n.estimatedTime,takeStatus:n.signType};d.globalData.requestSubscribeMsgAction(),t.index.setStorage({key:"billcodeInfo",data:a,success:function(e){console.log(1),t.index.navigateTo({url:"/kdcs/pages/pickupReminderDetail/index?depotName=".concat(n.takeDepotName,"&depotCode=").concat(n.depotCode,"&mobile=").concat(n.takeMobile,"&address=").concat(n.takeAddress)})},fail:function(e){console.log(2)}})},showTips:function(e){console.log("11111111"),t.index.showModal({title:"提示",content:"1、门店如果参加了送货上门活动，则收件人可选择【送货上门】服务；详见《兔喜生活上门服务协议》\n2、当前仅支持对中通包裹进行送货上门服务",confirmText:"查看协议",success:function(e){e.confirm&&t.index.navigateTo({url:"/kdcs/pages/tuxiProtocol/index"})}})},goDeliveryToDoor:function(e){var o=e.currentTarget.dataset.index,a=this.kdcsList[o];console.log("data",a);var i={billCode:a.billCode,companyCodeUrl:a.expressLogo,depotCode:a.depotCode,expressCompanyCode:a.expressComapnyCode,takeCode:a.takeCode,friendExpressFlag:a.friendExpressFlag,friendNickname:a.friendNickname};n.checkIsSign({billCode:a.billCode}).then((function(e){console.log(e),1==e?t.index.showModal({title:"包裹疑似签收",content:"当前包裹轨迹显示已签收，请确认包裹是否已签收取走，或联系门店确认包裹是否在门店暂存",confirmText:"确认签收",cancelText:"取消",success:function(e){e.confirm?t.index.setStorage({key:"billcodeInfo",data:i,success:function(e){console.log(1),t.index.navigateTo({url:"/kdcs/pages/signature/index"})},fail:function(e){console.log(2)}}):e.cancel&&console.log("去联系")}}):t.index.setStorage({key:"toDoorBillInfo",data:i,success:function(e){console.log(1),t.index.navigateTo({url:"/kdcs/pages/deliveryHome/index"})},fail:function(e){console.log(2)}})})).catch((function(e){t.index.showToast({title:e.message,icon:"none"})}))},cancelToDoor:function(e){var o=e.currentTarget.dataset.index,a=this.kdcsList[o];console.log("data",a);var i={billCode:a.billCode,companyCodeUrl:a.expressLogo,depotCode:a.depotCode,expressCompanyCode:a.expressComapnyCode,takeCode:a.takeCode,friendExpressFlag:a.friendExpressFlag,friendNickname:a.friendNickname};n.checkIsSign({billCode:a.billCode}).then((function(e){console.log(e),1==e?t.index.showModal({title:"包裹疑似签收",content:"当前包裹轨迹显示已签收，请确认包裹是否已签收取走，或联系门店确认包裹是否在门店暂存",confirmText:"确认签收",cancelText:"取消",success:function(e){e.confirm?t.index.setStorage({key:"billcodeInfo",data:i,success:function(e){console.log(1),t.index.navigateTo({url:"/kdcs/pages/signature/index"})},fail:function(e){console.log(2)}}):e.cancel&&console.log("去联系")}}):t.index.setStorage({key:"cancelToDoorBillInfo",data:i,success:function(e){console.log(1),t.index.navigateTo({url:"/kdcs/pages/cancelDeliveryHome/index"})},fail:function(e){console.log(2)}})})).catch((function(e){t.index.showToast({title:e.message,icon:"none"})}))},handleComment:function(o){var a=this,i=o.target.dataset.evaluation;if(null!=i){var s=o.currentTarget.dataset.bill,r={billCode:s.billCode,depotCode:s.depotCode,expressCompanyCode:s.expressComapnyCode,unionId:d.globalData.unionId,evaluation:i};t.index.showLoading({mask:!0}),n.commentService(r).then((function(){var o=a.kdcsList.findIndex((function(e,t){return e.billCode===r.billCode}));a.setData((0,e.default)({},"kdcsList["+o+"].evaluation",r.evaluation)),t.index.hideLoading()})).catch((function(e){var o=e.message,n=void 0===o?"请求失败，请重试":o;t.index.showToast({title:n,icon:"none"})}))}},handleEvent:function(){console.log("占位：函数 handleEvent 未声明")},handleOpen:function(){console.log("占位：函数 handleOpen 未声明")}}};Array||(t.resolveComponent("customServiceButton")+t.resolveComponent("adBanner")+t.resolveComponent("zec-privacy")+t.resolveComponent("mpweixin")+t.resolveComponent("c-page-tracer")+t.resolveComponent("c-page-pop")+t.resolveComponent("subscribe-tip"))(),Math||(function(){return"../../../components/kdcs/zec-privacy/zec-privacy.js"}+function(){return"../../../components/kdcs/mpweixin/index.js"}+function(){return"../../../components/c-page-tracer/c-page-tracer.js"}+function(){return"../../../components/c-page-pop/c-page-pop.js"})();var u=t._export_sfc(l,[["render",function(e,o,n,a,i,s){return t.e({a:t.p({visible:0==i.currentTab}),b:t.p({placeType:"MY","show-red-pack":!0,showRedPack:!0}),c:t.n("header-tab-item  "+(0==i.currentTab?"active":"")),d:t.o((function(){return s.clickTab&&s.clickTab.apply(s,arguments)})),e:t.n("header-tab-item  "+(1==i.currentTab?"active":"")),f:t.o((function(){return s.clickTab&&s.clickTab.apply(s,arguments)})),g:i.images.askIcon,h:t.o((function(){return s.showTips&&s.showTips.apply(s,arguments)})),i:1==i.status},(i.status,{}),{j:t.n("kdcs-status-item  "+(1==i.status?"active":"")),k:t.o((function(){return s.clickSubTab&&s.clickSubTab.apply(s,arguments)})),l:99==i.status},(i.status,{}),{m:t.n("kdcs-status-item  "+(99==i.status?"active":"")),n:t.o((function(){return s.clickSubTab&&s.clickSubTab.apply(s,arguments)})),o:2==i.status},(i.status,{}),{p:t.n("kdcs-status-item  "+(2==i.status?"active":"")),q:t.o((function(){return s.clickSubTab&&s.clickSubTab.apply(s,arguments)})),r:!i.isLogin},i.isLogin?i.kdcsList.length>0?{w:t.f(i.kdcsList,(function(e,o,n){return t.e({a:e.expressLogo,b:t.t(e.expressName),c:t.t(e.billCode),d:e.friendNickname},e.friendNickname?{e:t.t(e.friendNickname)}:{},{f:1==e.signType},(e.signType,{}),{g:2==e.signType},(e.signType,{}),{h:3==e.signType},(e.signType,{}),{i:99==e.signType},(e.signType,{}),{j:o,k:t.o((function(){return s.goRemindDetailPre&&s.goRemindDetailPre.apply(s,arguments)}),o),l:t.t(e.takeDepotName),m:99!=e.signType},99!=e.signType?{n:t.t(e.takeCode),o:t.o((function(){return s.copyTakeCode&&s.copyTakeCode.apply(s,arguments)}),o),p:e.takeCode}:{},{q:o,r:t.o((function(){return s.goRemindDetailPre&&s.goRemindDetailPre.apply(s,arguments)}),o),s:e.deliveryFlag},e.deliveryFlag?{t:o,v:t.o((function(){return s.goDeliveryToDoor&&s.goDeliveryToDoor.apply(s,arguments)}),o)}:{},{w:99==e.signType},99==e.signType?t.e({x:o,y:t.o((function(){return s.cancelToDoor&&s.cancelToDoor.apply(s,arguments)}),o),z:e.estimatedTime},e.estimatedTime?{A:t.t(e.estimatedTime)}:{}):{},{B:o})}))}:{x:i.images.noData}:{s:i.images.noData,t:t.o((function(){return s.getPhoneNumber&&s.getPhoneNumber.apply(s,arguments)}))},{v:i.kdcsList.length>0,y:t.n(0==i.currentTab?"my-show":"my-hidden"),z:!i.isLogin},i.isLogin?i.kdgList.length>0?{D:t.f(i.kdgList,(function(e,o,n){return t.e({a:e.expressCompanyLogoUrl,b:t.t(e.expressCompanyName),c:t.t(e.billCode),d:e.friendNickname},e.friendNickname?{e:t.t(e.friendNickname)}:{},{f:1==e.status},(e.status,{}),{g:2==e.status},(e.status,{}),{h:t.t(e.expressManMobile),i:t.t(e.takeCode),j:t.o((function(){return s.copyTakeCode&&s.copyTakeCode.apply(s,arguments)}),e.index),k:e.takeCode,l:t.t(e.gmtCreated),m:t.t(e.deviceName),n:e.index})}))}:{E:i.images.noData}:{A:i.images.noData,B:t.o((function(){return s.getPhoneNumber&&s.getPhoneNumber.apply(s,arguments)}))},{C:i.kdgList.length>0,F:t.n(1==i.currentTab?"my-show":"my-hidden"),G:t.sr("privacyRef","c9f3ed84-2"),H:t.o(s.handleEvent),I:t.o(s.handleOpen),J:t.p({id:"privacy"}),K:t.p({"tag-class":"mp-weixin"}),L:t.sr("subscribeTipRef","c9f3ed84-6"),M:t.s("--statusBarHeight--:"+i.statusBarHeight+"px;--top--:"+i.top+"px")})}]]);l.__runtimeHooks=2,wx.createPage(u);
},{isPage:true,isComponent:true,currentFile:'pages/entry/express/index.js'});require("pages/entry/express/index.js");