$gwx_XC_154=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_154 || [];
function gz$gwx_XC_154_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_154_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'m']])
Z([3,'__l'])
Z([[7],[3,'l']])
Z([3,'data-v-71a1c602'])
Z([3,'71a1c602-0'])
Z(z[0])
Z([[4],[[5],[1,'d']]])
Z([[7],[3,'a']])
Z([[7],[3,'c']])
Z(z[3])
Z([3,'margin-left:12px;margin-right:12px;margin-top:12px;position:relative;min-height:92vh'])
Z([[7],[3,'d']])
Z([[7],[3,'e']])
Z(z[1])
Z(z[3])
Z([3,'71a1c602-1,71a1c602-0'])
Z(z[12])
Z([[7],[3,'f']])
Z([3,'item'])
Z([[7],[3,'g']])
Z([[7],[3,'h']])
Z(z[1])
Z(z[3])
Z([[6],[[7],[3,'item']],[3,'a']])
Z(z[20])
Z(z[18])
Z([[7],[3,'i']])
Z([3,'c'])
Z([[6],[[7],[3,'item']],[3,'b']])
Z(z[1])
Z(z[3])
Z(z[23])
Z(z[28])
Z([[7],[3,'j']])
Z([[7],[3,'k']])
Z(z[1])
Z(z[3])
Z([3,'71a1c602-4,71a1c602-0'])
Z(z[34])
Z(z[1])
Z(z[3])
Z([3,'71a1c602-5,71a1c602-0'])
Z(z[1])
Z(z[3])
Z([3,'71a1c602-6,71a1c602-0'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_154_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_154=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_154=true;
var x=['./pages/entry/menu/ka.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_154_1()
var xQ0=_v()
_(r,xQ0)
if(_oz(z,0,e,s,gg)){xQ0.wxVkey=1
var oR0=_mz(z,'c-page',['bind:__l',1,'bindscroll',1,'class',2,'uI',3,'uP',4,'uS',5],[],e,s,gg)
var fS0=_v()
_(oR0,fS0)
if(_oz(z,7,e,s,gg)){fS0.wxVkey=1
}
var cT0=_v()
_(oR0,cT0)
if(_oz(z,8,e,s,gg)){cT0.wxVkey=1
}
var hU0=_mz(z,'view',['class',9,'style',1],[],e,s,gg)
var oV0=_v()
_(hU0,oV0)
if(_oz(z,11,e,s,gg)){oV0.wxVkey=1
var oX0=_v()
_(oV0,oX0)
if(_oz(z,12,e,s,gg)){oX0.wxVkey=1
var lY0=_mz(z,'u-empty',['bind:__l',13,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oX0,lY0)
}
oX0.wxXCkey=1
oX0.wxXCkey=3
}
else if(_oz(z,17,e,s,gg)){oV0.wxVkey=2
var aZ0=_v()
_(oV0,aZ0)
var t10=function(b30,e20,o40,gg){
var o60=_v()
_(o40,o60)
if(_oz(z,20,b30,e20,gg)){o60.wxVkey=1
var f70=_mz(z,'u-skeleton',['bind:__l',21,'class',1,'uI',2,'uP',3],[],b30,e20,gg)
_(o60,f70)
}
o60.wxXCkey=1
o60.wxXCkey=3
return o40
}
aZ0.wxXCkey=4
_2z(z,19,t10,e,s,gg,aZ0,'item','index','')
}
var c80=_v()
_(hU0,c80)
var h90=function(cAAB,o00,oBAB,gg){
var aDAB=_v()
_(oBAB,aDAB)
if(_oz(z,28,cAAB,o00,gg)){aDAB.wxVkey=1
var tEAB=_mz(z,'c-product-card',['bind:__l',29,'class',1,'uI',2,'uP',3],[],cAAB,o00,gg)
_(aDAB,tEAB)
}
aDAB.wxXCkey=1
aDAB.wxXCkey=3
return oBAB
}
c80.wxXCkey=4
_2z(z,26,h90,e,s,gg,c80,'item','index','c')
var cW0=_v()
_(hU0,cW0)
if(_oz(z,33,e,s,gg)){cW0.wxVkey=1
var eFAB=_v()
_(cW0,eFAB)
if(_oz(z,34,e,s,gg)){eFAB.wxVkey=1
var bGAB=_mz(z,'u-loadmore',['bind:__l',35,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(eFAB,bGAB)
}
eFAB.wxXCkey=1
eFAB.wxXCkey=3
}
else{cW0.wxVkey=2
}
oV0.wxXCkey=1
oV0.wxXCkey=3
oV0.wxXCkey=3
cW0.wxXCkey=1
cW0.wxXCkey=3
_(oR0,hU0)
var oHAB=_mz(z,'c-location-picker',['bind:__l',39,'class',1,'uI',2],[],e,s,gg)
_(oR0,oHAB)
var xIAB=_mz(z,'c-privacy-dialog',['bind:__l',42,'class',1,'uI',2],[],e,s,gg)
_(oR0,xIAB)
fS0.wxXCkey=1
cT0.wxXCkey=1
_(xQ0,oR0)
}
xQ0.wxXCkey=1
xQ0.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_154";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_154();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/entry/menu/ka.wxml'] = [$gwx_XC_154, './pages/entry/menu/ka.wxml'];else __wxAppCode__['pages/entry/menu/ka.wxml'] = $gwx_XC_154( './pages/entry/menu/ka.wxml' );
	;__wxRoute = "pages/entry/menu/ka";__wxRouteBegin = true;__wxAppCurrentFile__="pages/entry/menu/ka.js";define("pages/entry/menu/ka.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault"),r=e(require("../../../@babel/runtime/helpers/toConsumableArray")),t=e(require("../../../@babel/runtime/regenerator")),u=e(require("../../../@babel/runtime/helpers/asyncToGenerator")),n=require("../../../common/vendor.js"),a=require("../../../hooks/app/useApp.js");require("../../../hooks/order/useOrder.js");var o=require("../../../config/enums.js");require("../../../config/options.js");var l=require("../../../config/theme.js");require("../../../hooks/products/useProductsSearch.js"),require("../../../consts.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/app/useAreas.js"),require("../../../hooks/products/useShopCoupons.js"),require("../../../hooks/products/useDefaultRegionInfo.js"),Array||(n.resolveComponent("u-empty")+n.resolveComponent("u-skeleton")+n.resolveComponent("c-product-card")+n.resolveComponent("u-loadmore")+n.resolveComponent("c-location-picker")+n.resolveComponent("c-privacy-dialog")+n.resolveComponent("c-page"))(),Math||(function(){return"../../../node-modules/uview-plus/components/u-empty/u-empty.js"}+function(){return"../../../node-modules/uview-plus/components/u-skeleton/u-skeleton.js"}+function(){return"../../../components/c-product-card/c-product-card.js"}+function(){return"../../../node-modules/uview-plus/components/u-loadmore/u-loadmore.js"}+function(){return"../../../components/c-location-picker/c-location-picker.js"}+function(){return"../../../components/c-privacy-dialog/c-privacy-dialog.js"}+function(){return"../../../components/c-page/c-page.js"})();var i=n.defineComponent({__name:"ka",setup:function(e){var i=a.useApp(),s=i.systemInfo,c=i.app,p=i.currentLocation,f=i.onShareAppMessage,d=i.onShareAppMessageHook,v=i.theme,m=i.ensureCurrentLocation,g=i.isAccurateLocation,h=i.onReachBottom,k=i.onShow,y=i.onHide,x=i.onPageScroll,P=i.onPullDownRefresh;i.commonConfig,i.onBackPress;s.value,n.computed((function(){return!0})),n.ref(),n.computed((function(){return 90+s.value.headerHeight}));var I=n.ref(),q=n.ref();function b(e){return j.apply(this,arguments)}function j(){return(j=(0,u.default)(t.default.mark((function e(r){var u;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=r.options,I.value=u.title,q.value=u.bg,n.index.setNavigationBarTitle({title:u.title}),G.value=u.title,V(),n.watch((function(){return p.value.latitude}),(function(){G.value="",B.value=!1,0===F.value?V():_()})),n.watch((function(){return G.value}),(function(){if(!G.value||0===G.value.length){if(!B.value)return;B.value=!1,0===F.value?V():_()}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.computed((function(){return 0===F.value?!U:!H})),f(d((function(e){var r,t,u,n,a="home",o="吃喝玩乐购,就上【兔喜生活】,既能省钱又能赚钱",l=v.images.shareIcon;return"redPacket"===(null==(t=null==(r=null==e?void 0:e.target)?void 0:r.dataset)?void 0:t.id)?(a="red_packet",o="你的好友邀请你领取大额外卖红包，快来薅羊毛",l="https://fscdn.zto.com/fs8/M03/C9/B4/CgRfYWS6LIaAPZrjAAIQJchSsk0439.png"):"takeout"===(null==(n=null==(u=null==e?void 0:e.target)?void 0:u.dataset)?void 0:n.id)&&(a="takeout",o="特价外卖会场来袭，快来囤券吧~",l=v.images.shareTakeoutIcon),{name:a,title:o,image:l,query:"number=1"}}))),k((0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})))),y((function(){})),n.ref(!1);var w=n.ref({platformId:o.PubPlatform.ELE,currentCityId:10});n.ref({label:"销量优先",type:7});var S={positionValue:""},T=n.ref([]),C=n.ref(!1),A=n.ref(!1),L=n.ref(!1),M=n.ref("nomore");function _(){return D.apply(this,arguments)}function D(){return(D=(0,u.default)(t.default.mark((function e(){var u,a,o,l=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.length>0&&void 0!==l[0]&&l[0],L.value=!0,M.value="loading",C.value=!1,u||(S.positionValue="",T.value=[],A.value=!0),e.next=4,n.tryExec(c.request,{api:"tuxi.txsh.elm.queryELMShopInfoPage",params:{lng:p.value.longitude+"",lat:p.value.latitude+"",pageSize:10,keyWords:B.value?G.value:"",positionValue:S.positionValue,cat1Ids:w.value.cat1Ids?w.value.cat1Ids:[],sortType:R.value.type,traceType:c.tracer.getTraceType()}});case 4:a=e.sent,a.success,0===(o=a.result).data.length&&(M.value="nomore",u||(C.value=!0),u&&0===T.value.length&&(C.value=!0)),T.value=u?[].concat((0,r.default)(T.value),(0,r.default)(o.data)):o.data,S.positionValue=o.positionValue,n.index.stopPullDownRefresh();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){}P((function(){G.value="",B.value=!1,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),H.value=!1}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),U.value=!1}(),0===F.value?V():_()})),x((function(e){}));var N={mtzPageIndex:1,pushedGoodsMode:!0};function V(){return E.apply(this,arguments)}function E(){return(E=(0,u.default)(t.default.mark((function e(){var a,o,l,i,s,f=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>0&&void 0!==f[0]&&f[0],B.value=!0,M.value="loading",C.value=!1,L.value=!0,a||(N.mtzPageIndex=1,N.pushedGoodsMode=!0,T.value=[],A.value=!0),l=[],e.next=5,(0,u.default)(t.default.mark((function e(){var r,u,a,o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"tuxi.txsh.goods.core.queryGoodsInfoListByBrandName",r={brandName:G.value,pageIndex:N.mtzPageIndex,pageSize:10},e.next=3,n.tryExec(c.request,{api:"tuxi.txsh.goods.core.queryGoodsInfoListByBrandName",params:r});case 3:return u=e.sent,a=u.success,o=u.result,e.abrupt("return",a&&o&&0!==o.length?{data:o.map((function(e){return e.headUrl=e.logoUrl,e.name=e.spuName,e.couponNum=e.packageNum,e.saleVolume=e.buyNum,e.deliveryDuration=null,e.sellPrice=e.minSellingPrice,e.originalPrice=e.originalSpuPrice,e.singleDayPurchaseLimit=e.buyLimiter,e.singleDayPurchaseLimit=e.packageNum,e.commissionPrice=0,e.skuViewId=e.externalSpuId,e}))}:{data:[]});case 7:case"end":return e.stop()}}),e)})))();case 5:i=e.sent,l=i.data,o=i.pageIndex,l&&0!==l.length||(M.value="nomore",a||(C.value=!0),a&&0===T.value.length&&(C.value=!0)),s=[],s=a?[].concat((0,r.default)(T.value),(0,r.default)(l)):l,T.value=s.map((function(e,r){return e.mtIndex=r,e.mIndex=r,e.headUrl=e.logoUrl?e.logoUrl:e.headUrl,e.skuViewId=e.skuId?e.skuId:e.skuViewId,e.locationStr=g.value?p.value.ztoDistrict:p.value.cityName,e})),N.mtzPageIndex=o||N.mtzPageIndex+1,A.value=!1,n.index.stopPullDownRefresh();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=n.ref(!0),R=n.ref({label:"综合排序",type:"normal"});h((function(){V(!0)})),n.computed((function(){return{noPadding:!0,popupTop:66,popupZIndex:99999,onScrollToTop:100,popupWidth:"100vw"}})),o.MtShopSortType.PRICE,o.PubPlatform.MT_TakeOut,o.PubPlatform.MT_TakeOut;var U=n.ref(!1),G=n.ref(""),F=n.ref(0),H=n.ref(!1);return function(e,r){return n.e({a:n.unref(q)},n.unref(q)?{b:n.unref(q)}:{},{c:n.unref(q)},(n.unref(q),{}),{d:n.unref(C)},n.unref(C)?{e:n.p({mode:"data",text:"周边暂无品质好物，我们会尽快更新",icon:n.unref(l.icons).EMPTY_DATA})}:n.unref(A)?{g:n.f(Array(5),(function(e,r,t){return{a:"71a1c602-2-"+t+",71a1c602-0"}})),h:n.p({rows:"4",loading:!0,avatar:!0,title:!1,avatarSize:"100px",avatarShape:"square"})}:{},{f:n.unref(A),i:n.f(n.unref(T),(function(e,r,t){return{a:"71a1c602-3-"+t+",71a1c602-0",b:n.p({item:e,takeout:0===n.unref(F),"platform-id":0===n.unref(F)?n.unref(o.PubPlatform).MT_TakeOut:n.unref(o.PubPlatform).ELE}),c:r}})),j:!n.unref(C)&&n.unref(L)},!n.unref(C)&&n.unref(L)?{k:n.p({status:n.unref(M)})}:{},{l:n.o(z),m:n.p({"no-padding":!0,"bg-color":"#F5F5F5",title:n.unref(I),"on-load":b})})}}});i.__runtimeHooks=3;var s=n._export_sfc(i,[["__scopeId","data-v-71a1c602"]]);wx.createPage(s);
},{isPage:true,isComponent:true,currentFile:'pages/entry/menu/ka.js'});require("pages/entry/menu/ka.js");