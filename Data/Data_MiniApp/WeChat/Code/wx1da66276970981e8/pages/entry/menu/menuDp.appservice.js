$gwx_XC_156=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_156 || [];
function gz$gwx_XC_156_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_156_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'R']])
Z([3,'__l'])
Z([3,'data-v-81c62ecd'])
Z([3,'81c62ecd-0'])
Z(z[0])
Z([[4],[[5],[1,'d']]])
Z(z[2])
Z([3,'display:flex;flex-direction:row;align-items:center'])
Z([[7],[3,'j']])
Z(z[2])
Z([3,'padding:2px 6px;border-radius:3px;background:white;display:flex;flex-direction:row;align-items:center'])
Z([[7],[3,'g']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-1,81c62ecd-0'])
Z([[7],[3,'h']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-2,81c62ecd-0'])
Z([[2,'||'],[[7],[3,'i']],[1,'']])
Z([[7],[3,'k']])
Z([[7],[3,'l']])
Z([[7],[3,'q']])
Z(z[2])
Z(z[10])
Z([[7],[3,'n']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-3,81c62ecd-0'])
Z([[7],[3,'o']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-4,81c62ecd-0'])
Z([[2,'||'],[[7],[3,'p']],[1,'']])
Z([[7],[3,'w']])
Z(z[2])
Z(z[10])
Z([[7],[3,'s']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-5,81c62ecd-0'])
Z([[7],[3,'t']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-6,81c62ecd-0'])
Z([[2,'||'],[[7],[3,'v']],[1,'']])
Z(z[2])
Z([3,'margin-left:12px;margin-right:12px;margin-top:12px;min-height:92vh'])
Z([[7],[3,'x']])
Z([[7],[3,'y']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-7,81c62ecd-0'])
Z(z[49])
Z([[7],[3,'z']])
Z([3,'item'])
Z([[7],[3,'A']])
Z([[7],[3,'B']])
Z(z[1])
Z(z[2])
Z([[6],[[7],[3,'item']],[3,'a']])
Z(z[57])
Z(z[55])
Z([[7],[3,'C']])
Z([3,'c'])
Z([[6],[[7],[3,'item']],[3,'b']])
Z(z[1])
Z(z[2])
Z(z[60])
Z(z[65])
Z([[7],[3,'D']])
Z([[7],[3,'E']])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-10,81c62ecd-0'])
Z(z[71])
Z([[7],[3,'F']])
Z([[7],[3,'Q']])
Z(z[1])
Z([[7],[3,'P']])
Z(z[2])
Z([3,'81c62ecd-11,81c62ecd-0'])
Z(z[77])
Z(z[5])
Z([[7],[3,'L']])
Z(z[1])
Z([[7],[3,'K']])
Z(z[2])
Z([[2,'!'],[[7],[3,'J']]])
Z([3,'81c62ecd-12,81c62ecd-11'])
Z(z[84])
Z([[7],[3,'N']])
Z(z[1])
Z([[7],[3,'M']])
Z(z[2])
Z([3,'81c62ecd-13,81c62ecd-11'])
Z(z[91])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-14,81c62ecd-0'])
Z(z[1])
Z(z[2])
Z([3,'81c62ecd-15,81c62ecd-0'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_156_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_156=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_156=true;
var x=['./pages/entry/menu/menuDp.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_156_1()
var o2AB=_v()
_(r,o2AB)
if(_oz(z,0,e,s,gg)){o2AB.wxVkey=1
var c3AB=_mz(z,'c-page',['bind:__l',1,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var a6AB=_mz(z,'view',['class',6,'style',1],[],e,s,gg)
var b9AB=_mz(z,'view',['bindtap',8,'class',1,'style',2],[],e,s,gg)
var o0AB=_v()
_(b9AB,o0AB)
if(_oz(z,11,e,s,gg)){o0AB.wxVkey=1
var xABB=_mz(z,'u-icon',['bind:__l',12,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(o0AB,xABB)
}
else{o0AB.wxVkey=2
var oBBB=_mz(z,'u-icon',['bind:__l',16,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(o0AB,oBBB)
}
o0AB.wxXCkey=1
o0AB.wxXCkey=3
o0AB.wxXCkey=3
_(a6AB,b9AB)
var t7AB=_v()
_(a6AB,t7AB)
if(_oz(z,20,e,s,gg)){t7AB.wxVkey=1
}
var e8AB=_v()
_(a6AB,e8AB)
if(_oz(z,21,e,s,gg)){e8AB.wxVkey=1
var fCBB=_mz(z,'view',['bindtap',22,'class',1,'style',2],[],e,s,gg)
var cDBB=_v()
_(fCBB,cDBB)
if(_oz(z,25,e,s,gg)){cDBB.wxVkey=1
var hEBB=_mz(z,'u-icon',['bind:__l',26,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(cDBB,hEBB)
}
else{cDBB.wxVkey=2
var oFBB=_mz(z,'u-icon',['bind:__l',30,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(cDBB,oFBB)
}
cDBB.wxXCkey=1
cDBB.wxXCkey=3
cDBB.wxXCkey=3
_(e8AB,fCBB)
}
var cGBB=_mz(z,'view',['bindtap',34,'class',1,'style',2],[],e,s,gg)
var oHBB=_v()
_(cGBB,oHBB)
if(_oz(z,37,e,s,gg)){oHBB.wxVkey=1
var lIBB=_mz(z,'u-icon',['bind:__l',38,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oHBB,lIBB)
}
else{oHBB.wxVkey=2
var aJBB=_mz(z,'u-icon',['bind:__l',42,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oHBB,aJBB)
}
oHBB.wxXCkey=1
oHBB.wxXCkey=3
oHBB.wxXCkey=3
_(a6AB,cGBB)
t7AB.wxXCkey=1
e8AB.wxXCkey=1
e8AB.wxXCkey=3
_(c3AB,a6AB)
var tKBB=_mz(z,'view',['class',46,'style',1],[],e,s,gg)
var eLBB=_v()
_(tKBB,eLBB)
if(_oz(z,48,e,s,gg)){eLBB.wxVkey=1
var oNBB=_v()
_(eLBB,oNBB)
if(_oz(z,49,e,s,gg)){oNBB.wxVkey=1
var xOBB=_mz(z,'u-empty',['bind:__l',50,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oNBB,xOBB)
}
oNBB.wxXCkey=1
oNBB.wxXCkey=3
}
else if(_oz(z,54,e,s,gg)){eLBB.wxVkey=2
var oPBB=_v()
_(eLBB,oPBB)
var fQBB=function(hSBB,cRBB,oTBB,gg){
var oVBB=_v()
_(oTBB,oVBB)
if(_oz(z,57,hSBB,cRBB,gg)){oVBB.wxVkey=1
var lWBB=_mz(z,'u-skeleton',['bind:__l',58,'class',1,'uI',2,'uP',3],[],hSBB,cRBB,gg)
_(oVBB,lWBB)
}
oVBB.wxXCkey=1
oVBB.wxXCkey=3
return oTBB
}
oPBB.wxXCkey=4
_2z(z,56,fQBB,e,s,gg,oPBB,'item','index','')
}
var aXBB=_v()
_(tKBB,aXBB)
var tYBB=function(b1BB,eZBB,o2BB,gg){
var o4BB=_v()
_(o2BB,o4BB)
if(_oz(z,65,b1BB,eZBB,gg)){o4BB.wxVkey=1
var f5BB=_mz(z,'c-product-card',['bind:__l',66,'class',1,'uI',2,'uP',3],[],b1BB,eZBB,gg)
_(o4BB,f5BB)
}
o4BB.wxXCkey=1
o4BB.wxXCkey=3
return o2BB
}
aXBB.wxXCkey=4
_2z(z,63,tYBB,e,s,gg,aXBB,'item','index','c')
var bMBB=_v()
_(tKBB,bMBB)
if(_oz(z,70,e,s,gg)){bMBB.wxVkey=1
var c6BB=_v()
_(bMBB,c6BB)
if(_oz(z,71,e,s,gg)){c6BB.wxVkey=1
var h7BB=_mz(z,'u-loadmore',['bind:__l',72,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(c6BB,h7BB)
}
c6BB.wxXCkey=1
c6BB.wxXCkey=3
}
else{bMBB.wxVkey=2
}
eLBB.wxXCkey=1
eLBB.wxXCkey=3
eLBB.wxXCkey=3
bMBB.wxXCkey=1
bMBB.wxXCkey=3
_(c3AB,tKBB)
var o4AB=_v()
_(c3AB,o4AB)
if(_oz(z,76,e,s,gg)){o4AB.wxVkey=1
}
var l5AB=_v()
_(c3AB,l5AB)
if(_oz(z,77,e,s,gg)){l5AB.wxVkey=1
var o8BB=_mz(z,'c-drop-down',['bind:__l',78,'bindupdateModelValue',1,'class',2,'uI',3,'uP',4,'uS',5],[],e,s,gg)
var c9BB=_v()
_(o8BB,c9BB)
if(_oz(z,84,e,s,gg)){c9BB.wxVkey=1
var lACB=_mz(z,'search-categories',['bind:__l',85,'bindchange',1,'class',2,'data-c-h',3,'uI',4,'uP',5],[],e,s,gg)
_(c9BB,lACB)
}
var o0BB=_v()
_(o8BB,o0BB)
if(_oz(z,91,e,s,gg)){o0BB.wxVkey=1
var aBCB=_mz(z,'search-area',['bind:__l',92,'bindchange',1,'class',2,'uI',3,'uP',4],[],e,s,gg)
_(o0BB,aBCB)
}
c9BB.wxXCkey=1
c9BB.wxXCkey=3
o0BB.wxXCkey=1
o0BB.wxXCkey=3
_(l5AB,o8BB)
}
var tCCB=_mz(z,'c-location-picker',['bind:__l',97,'class',1,'uI',2],[],e,s,gg)
_(c3AB,tCCB)
var eDCB=_mz(z,'c-privacy-dialog',['bind:__l',100,'class',1,'uI',2],[],e,s,gg)
_(c3AB,eDCB)
o4AB.wxXCkey=1
l5AB.wxXCkey=1
l5AB.wxXCkey=3
_(o2AB,c3AB)
}
o2AB.wxXCkey=1
o2AB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_156";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_156();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/entry/menu/menuDp.wxml'] = [$gwx_XC_156, './pages/entry/menu/menuDp.wxml'];else __wxAppCode__['pages/entry/menu/menuDp.wxml'] = $gwx_XC_156( './pages/entry/menu/menuDp.wxml' );
	;__wxRoute = "pages/entry/menu/menuDp";__wxRouteBegin = true;__wxAppCurrentFile__="pages/entry/menu/menuDp.js";define("pages/entry/menu/menuDp.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault"),r=e(require("../../../@babel/runtime/helpers/toConsumableArray")),t=e(require("../../../@babel/runtime/regenerator")),u=e(require("../../../@babel/runtime/helpers/asyncToGenerator")),n=e(require("../../../@babel/runtime/helpers/defineProperty"));function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,u)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var s=require("../../../common/vendor.js"),l=require("../../../config/enums.js");require("../../../config/options.js");var c=require("../../../config/theme.js"),i=require("../../../hooks/app/useApp.js"),p=require("../../../hooks/app/useAreas.js");require("../../../hooks/order/useOrder.js");var f=require("../../../hooks/products/useProducts.js");require("../../../hooks/products/useProductsSearch.js");var d=require("../../../hooks/products/useShopCoupons.js"),v=require("../../../hooks/products/useDefaultRegionInfo.js"),h=require("../home/useDefaultDpList.js");require("../../../consts.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/products/useDistricts.js"),require("../../../hooks/products/useCategories.js"),require("../../../hooks/products/usePromotion.js"),Array||(s.resolveComponent("u-icon")+s.resolveComponent("u-empty")+s.resolveComponent("u-skeleton")+s.resolveComponent("c-product-card")+s.resolveComponent("u-loadmore")+s.resolveComponent("c-drop-down")+s.resolveComponent("c-location-picker")+s.resolveComponent("c-privacy-dialog")+s.resolveComponent("c-page"))(),Math||(function(){return"../../../node-modules/uview-plus/components/u-icon/u-icon.js"}+function(){return"../../../node-modules/uview-plus/components/u-empty/u-empty.js"}+function(){return"../../../node-modules/uview-plus/components/u-skeleton/u-skeleton.js"}+function(){return"../../../components/c-product-card/c-product-card.js"}+function(){return"../../../node-modules/uview-plus/components/u-loadmore/u-loadmore.js"}+m+b+function(){return"../../../components/c-drop-down/c-drop-down.js"}+function(){return"../../../components/c-location-picker/c-location-picker.js"}+function(){return"../../../components/c-privacy-dialog/c-privacy-dialog.js"}+function(){return"../../../components/c-page/c-page.js"})();var m=function(){return"../../../components/c-products-search/search-categories.js"},b=function(){return"../../../components/c-products-search/search-area.js"},g=s.defineComponent({__name:"menuDp",setup:function(e){var n=i.useApp(),o=n.app,m=n.commonConfig,b=n.isAccurateLocation,g=n.currentLocation,y=n.ensureLogin,x=n.ensureCurrentLocation,I=n.onReachBottom,w=n.onPullDownRefresh,j=n.systemInfo.value.navTop;p.useAreas(),f.useProducts();var k=v.useDefaultRegionInfo().queryDefaultRegionInfo,S=d.useShopCoupons(),q=s.ref(""),P=s.ref(!1),T=s.ref(!1),L=s.ref(""),D=s.ref(!1),O=s.ref(!1),C=[],A=s.ref(!1),M=s.ref(!1),E=s.ref(!1),R=s.ref(!1),z=s.ref(""),N=s.ref(6);function _(){M.value=!1,R.value=!1,E.value=!1}var V=s.ref({platformId:l.PubPlatform.MEITUAN,currentCityId:10}),F=s.computed((function(){return"true"===m.value.sortShowEnable})),U=s.ref(a({},g.value));function B(){_(),pe()}w((function(){q.value="",P.value=!1,_(),$(),X.resetDpInfo(),pe()}));var G=s.computed((function(){return{noPadding:!0,popupTop:84,popupZIndex:99999,onScrollToTop:100,popupWidth:"100vw"}}));function K(){M.value?_():(J(),R.value=!1,M.value=!0,E.value=!0)}function H(){M.value?_():(J(),M.value=!0,R.value=!0)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.nextTick$1();case 2:return e.next=4,s.index.pageScrollTo({scrollTop:0,duration:10});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=s.computed((function(){return b.value?[{label:"综合排序",value:l.MtShopSortType.AUTO},{label:"销量优先",value:l.MtShopSortType.SALES},{label:"距离优先",value:l.MtShopSortType.DISTANCE},{label:"好评优先",value:l.MtShopSortType.POINT}]:[{label:"综合排序",value:l.MtShopSortType.AUTO},{label:"销量优先",value:l.MtShopSortType.SALES},{label:"好评优先",value:l.MtShopSortType.POINT}]}));function Y(){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:M.value?(_(),$()):(R.value=!1,A.value=!0,M.value=!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){A.value=!1}var X,ee=s.ref({tab1Label:"附近",tab2Label:"好评优先",tab2Value:l.MtShopSortType.POINT,tab3Label:"分类"}),re=s.ref("loading"),te=s.ref([]),ue={dpPageIndex:1},ne={};function oe(){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.value.cityId!==g.value.cityId&&(U.value=a({},g.value));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=(0,u.default)(t.default.mark((function e(r){var n;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.options,ne=n,z.value=n.catId,n.size&&(N.value=Number(n.size)),e.next=6,x();case 6:return L.value=ne.name,V.value.catId=z.value,e.next=10,k(!0);case 10:X=h.useDefaultDpList(z.value,N.value,"tuxi.txsh.goods.mt.shop.shopListPage"),pe(),s.watch((function(){return[U.value.cityId,U.value.latitude]}),(0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:q.value="",P.value=!1,pe();case 5:case"end":return e.stop()}}),e)})))),s.watch((function(){return q.value}),(function(){if(!q.value||0===q.value.length){if(!P.value)return;P.value=!1,pe()}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,u.default)(t.default.mark((function e(r){var u,n,c,i,p,f,d,v;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==(u=V.value.cat1Ids)?void 0:u[0])&&(n=V.value.cat1Ids),c=ee.value.tab2Value||void 0,P.value&&b.value&&(c=l.MtShopSortType.DISTANCE),i=a(a({lng:String(U.value.longitude||""),lat:String(U.value.latitude||""),cityId:U.value.cityId||"",queryKeywords:q.value||"",sortType:c,pageIndex:ue.dpPageIndex},V.value),{},{cat0Id:z.value+"",cat1Ids:n,pageSize:6}),e.next=6,s.tryExec(o.request,{api:r,params:i});case 6:return p=e.sent,f=p.success,d=p.result,v=p.error,e.abrupt("return",{success:f,result:d,error:v});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.default)(t.default.mark((function e(){var u,n,o,a,l,c,i=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=i.length>0&&void 0!==i[0]&&i[0],e.next=3,y();case 3:return e.next=5,x();case 5:if(re.value="loading",D.value=!1,T.value=!0,u||(ue.dpPageIndex=1,te.value=[],O.value=!0),!P.value){e.next=16;break}return console.log("search"),e.next=13,ce("tuxi.txsh.goods.mt.shop.searchShopListPage");case 13:n=e.sent,e.next=28;break;case 16:if(!(V.value.districtId||V.value.regionId||V.value.cat1Ids)){e.next=23;break}return console.log("has districtId or regionId"),e.next=20,ce("tuxi.txsh.goods.mt.shop.shopListPage");case 20:n=e.sent,e.next=28;break;case 23:return console.log("fetchDefault"),X||(X=h.useDefaultDpList(z.value,N.value,"tuxi.txsh.goods.mt.shop.shopListPage")),e.next=27,X.fetchDpRequest(ee.value.tab2Value);case 27:n=e.sent;case 28:if(a=(o=n).result,o.success,0!==(null==a?void 0:a.shopInfoList.length)){e.next=33;break}re.value="nomore",u||(D.value=!0),u&&0===te.value.length&&(D.value=!0),e.next=37;break;case 33:if(l=[],c=[],(null==a?void 0:a.shopInfoList)&&0!==a.shopInfoList.length){e.next=36;break}return e.abrupt("return",(te.value=[],O.value=!1,T.value=!1,D.value=!0,void s.index.stopPullDownRefresh()));case 36:a.shopInfoList.forEach((function(e){l.push(e.shopId);var r=e.shopId+e.shopName;-1===C.indexOf(r)?(C.push(r),c.push(e)):console.log("has duplicate item>>"+r)})),a.shopInfoList=c,S.batchToShopIds(l,{cityId:U.value.cityId,lng:String(U.value.longitude||""),lat:String(U.value.latitude||""),cat0Id:z.value});case 37:te.value=u?[].concat((0,r.default)(te.value),(0,r.default)(a.shopInfoList)):a.shopInfoList,ue.dpPageIndex=a.pageIndex,O.value=!1,T.value=!1,s.index.stopPullDownRefresh();case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){q.value?P.value=!0:P.value=!1,pe()}return I((function(){pe(!0)})),function(e,r){var t;return s.e({a:"".concat(s.unref(j)+48,"px"),b:s.o(de),c:s.unref(q),d:s.o((function(e){return s.isRef(q)?q.value=e.detail.value:null})),e:s.o(de),f:s.t(s.unref(ee).tab1Label),g:!s.unref(E)},s.unref(E)?{i:s.p({name:"arrow-up",size:"10",color:"black"})}:{h:s.p({name:"arrow-down",size:"10",color:"black"})},{j:s.o(K),k:s.unref(F)},(s.unref(F),{}),{l:s.unref(F)},s.unref(F)?s.e({m:s.t(s.unref(ee).tab2Label),n:!s.unref(A)},s.unref(A)?{p:s.p({name:"arrow-up",size:"10",color:"black"})}:{o:s.p({name:"arrow-down",size:"10",color:"black"})},{q:s.o(Y)}):{},{r:s.t(s.unref(ee).tab3Label),s:!s.unref(R)},s.unref(R)?{v:s.p({name:"arrow-up",size:"10",color:"black"})}:{t:s.p({name:"arrow-down",size:"10",color:"black"})},{w:s.o(H),x:s.unref(D)},s.unref(D)?{y:s.p({mode:"data",text:"周边暂无品质好物，我们会尽快更新",icon:s.unref(c.icons).EMPTY_DATA})}:s.unref(O)?{A:s.f(Array(5),(function(e,r,t){return{a:"81c62ecd-8-"+t+",81c62ecd-0"}})),B:s.p({rows:"4",loading:!0,avatar:!0,title:!1,avatarSize:"100px",avatarShape:"square"})}:{},{z:s.unref(O),C:s.f(s.unref(te),(function(e,r,t){return{a:"81c62ecd-9-"+t+",81c62ecd-0",b:s.p({item:e,takeout:!1,"platform-id":s.unref(l.PubPlatform).MEITUAN}),c:r}})),D:!s.unref(D)&&s.unref(T)},!s.unref(D)&&s.unref(T)?{E:s.p({status:s.unref(re)})}:{},{F:s.unref(A)},s.unref(A)?{G:s.f(s.unref(W),(function(e,r,t){return{a:s.t(e.label),b:e.value===s.unref(ee).tab2Value?"red":"#222222",c:s.o((function(r){return function(e){ee.value.tab2Value=e.value,ee.value.tab2Label=e.label,pe()}(e)}),r),d:r}})),H:"80px",I:s.o($)}:{},{J:s.unref(R)&&!s.unref(E),K:s.o(B),L:s.p({model:s.unref(V)}),M:s.o(B),N:s.p({model:s.unref(V),"city-id":s.unref(U).cityId}),O:s.unref(E),P:s.o((function(e){return s.isRef(M)?M.value=e:null})),Q:s.p(a(a({},s.unref(G)),{},{modelValue:s.unref(M)})),R:s.p({"no-padding":!0,"bg-color":"#F5F5F5","on-show":oe,"need-nav":!0,title:s.unref(L),"on-load":se,"trace-data":{pageCode:"dp_".concat(s.unref(z)||0),pageName:(null==(t=s.unref(ne))?void 0:t.name)||"到店点评",tags:a({},s.unref(V))}})})}}}),y=s._export_sfc(g,[["__scopeId","data-v-81c62ecd"]]);wx.createPage(y);
},{isPage:true,isComponent:true,currentFile:'pages/entry/menu/menuDp.js'});require("pages/entry/menu/menuDp.js");