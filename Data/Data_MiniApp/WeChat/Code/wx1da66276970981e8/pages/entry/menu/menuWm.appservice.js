$gwx_XC_158=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_158 || [];
function gz$gwx_XC_158_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_158_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'T']])
Z([3,'__l'])
Z([[7],[3,'S']])
Z([3,'data-v-a2e8c205'])
Z([3,'a2e8c205-0'])
Z(z[0])
Z([[4],[[5],[1,'d']]])
Z(z[1])
Z(z[3])
Z([3,'margin-left:12px;margin-right:12px;margin-top:12px'])
Z([3,'a2e8c205-1,a2e8c205-0'])
Z(z[1])
Z([[7],[3,'g']])
Z([3,'r data-v-a2e8c205'])
Z([3,'a2e8c205-2,a2e8c205-0'])
Z([3,'kaTabRef'])
Z(z[3])
Z([3,'display:flex;flex-direction:row;margin-left:12px;margin-right:12px;align-items:center'])
Z([[7],[3,'h']])
Z(z[1])
Z([[7],[3,'j']])
Z(z[13])
Z([3,'display:flex;flex:1'])
Z([3,'a2e8c205-3,a2e8c205-0'])
Z([3,'takeoutSelectRef'])
Z([[7],[3,'k']])
Z([[7],[3,'r']])
Z(z[3])
Z([3,'padding:2px 6px;border-radius:3px;background:white;display:flex;flex-direction:row;align-items:center'])
Z([[7],[3,'m']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-4,a2e8c205-0'])
Z([[7],[3,'n']])
Z([[7],[3,'o']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-5,a2e8c205-0'])
Z([[7],[3,'p']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-6,a2e8c205-0'])
Z([[2,'||'],[[7],[3,'q']],[1,'']])
Z([[7],[3,'s']])
Z([[7],[3,'x']])
Z(z[3])
Z(z[28])
Z([[7],[3,'t']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-7,a2e8c205-0'])
Z([[7],[3,'v']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-8,a2e8c205-0'])
Z([[2,'||'],[[7],[3,'w']],[1,'']])
Z([[7],[3,'y']])
Z([[7],[3,'C']])
Z([[7],[3,'J']])
Z(z[1])
Z([[7],[3,'I']])
Z(z[3])
Z([3,'a2e8c205-9,a2e8c205-0'])
Z(z[58])
Z(z[6])
Z([[7],[3,'H']])
Z(z[1])
Z([[7],[3,'G']])
Z(z[3])
Z([[2,'!'],[1,true]])
Z([3,'a2e8c205-10,a2e8c205-9'])
Z(z[65])
Z(z[3])
Z([3,'margin-left:12px;margin-right:12px;margin-top:12px;min-height:92vh'])
Z([[7],[3,'K']])
Z([[7],[3,'L']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-11,a2e8c205-0'])
Z(z[75])
Z([[7],[3,'M']])
Z([3,'item'])
Z([[7],[3,'N']])
Z([[7],[3,'O']])
Z(z[1])
Z(z[3])
Z([[6],[[7],[3,'item']],[3,'a']])
Z(z[83])
Z(z[81])
Z([[7],[3,'P']])
Z([3,'c'])
Z([[6],[[7],[3,'item']],[3,'b']])
Z(z[1])
Z(z[3])
Z(z[86])
Z(z[91])
Z([[7],[3,'Q']])
Z([[7],[3,'R']])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-14,a2e8c205-0'])
Z(z[97])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-15,a2e8c205-0'])
Z(z[1])
Z(z[3])
Z([3,'a2e8c205-16,a2e8c205-0'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_158_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_158=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_158=true;
var x=['./pages/entry/menu/menuWm.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_158_1()
var bYDB=_v()
_(r,bYDB)
if(_oz(z,0,e,s,gg)){bYDB.wxVkey=1
var oZDB=_mz(z,'c-page',['bind:__l',1,'bindscroll',1,'class',2,'uI',3,'uP',4,'uS',5],[],e,s,gg)
var c4DB=_mz(z,'red-banner',['bind:__l',7,'class',1,'style',2,'uI',3],[],e,s,gg)
_(oZDB,c4DB)
var h5DB=_mz(z,'ka-tab',['bind:__l',11,'bindkaShow',1,'class',2,'uI',3,'uR',4],[],e,s,gg)
_(oZDB,h5DB)
var o6DB=_mz(z,'view',['class',16,'style',1],[],e,s,gg)
var c7DB=_v()
_(o6DB,c7DB)
if(_oz(z,18,e,s,gg)){c7DB.wxVkey=1
var a0DB=_mz(z,'takeout-select',['bind:__l',19,'bindconfirm',1,'class',2,'style',3,'uI',4,'uR',5],[],e,s,gg)
_(c7DB,a0DB)
}
else{c7DB.wxVkey=2
}
var o8DB=_v()
_(o6DB,o8DB)
if(_oz(z,25,e,s,gg)){o8DB.wxVkey=1
var tAEB=_mz(z,'view',['bindtap',26,'class',1,'style',2],[],e,s,gg)
var eBEB=_v()
_(tAEB,eBEB)
if(_oz(z,29,e,s,gg)){eBEB.wxVkey=1
var bCEB=_mz(z,'u-icon',['bind:__l',30,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(eBEB,bCEB)
}
else if(_oz(z,34,e,s,gg)){eBEB.wxVkey=2
var oDEB=_mz(z,'u-icon',['bind:__l',35,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(eBEB,oDEB)
}
else{eBEB.wxVkey=3
var xEEB=_mz(z,'u-icon',['bind:__l',39,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(eBEB,xEEB)
}
eBEB.wxXCkey=1
eBEB.wxXCkey=3
eBEB.wxXCkey=3
eBEB.wxXCkey=3
_(o8DB,tAEB)
}
var l9DB=_v()
_(o6DB,l9DB)
if(_oz(z,43,e,s,gg)){l9DB.wxVkey=1
var oFEB=_mz(z,'view',['bindtap',44,'class',1,'style',2],[],e,s,gg)
var fGEB=_v()
_(oFEB,fGEB)
if(_oz(z,47,e,s,gg)){fGEB.wxVkey=1
var cHEB=_mz(z,'u-icon',['bind:__l',48,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(fGEB,cHEB)
}
else{fGEB.wxVkey=2
var hIEB=_mz(z,'u-icon',['bind:__l',52,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(fGEB,hIEB)
}
fGEB.wxXCkey=1
fGEB.wxXCkey=3
fGEB.wxXCkey=3
_(l9DB,oFEB)
}
c7DB.wxXCkey=1
c7DB.wxXCkey=3
o8DB.wxXCkey=1
o8DB.wxXCkey=3
l9DB.wxXCkey=1
l9DB.wxXCkey=3
_(oZDB,o6DB)
var x1DB=_v()
_(oZDB,x1DB)
if(_oz(z,56,e,s,gg)){x1DB.wxVkey=1
}
var o2DB=_v()
_(oZDB,o2DB)
if(_oz(z,57,e,s,gg)){o2DB.wxVkey=1
}
var f3DB=_v()
_(oZDB,f3DB)
if(_oz(z,58,e,s,gg)){f3DB.wxVkey=1
var oJEB=_mz(z,'c-drop-down',['bind:__l',59,'bindupdateModelValue',1,'class',2,'uI',3,'uP',4,'uS',5],[],e,s,gg)
var cKEB=_v()
_(oJEB,cKEB)
if(_oz(z,65,e,s,gg)){cKEB.wxVkey=1
var oLEB=_mz(z,'search-categories',['bind:__l',66,'bindchange',1,'class',2,'data-c-h',3,'uI',4,'uP',5],[],e,s,gg)
_(cKEB,oLEB)
}
cKEB.wxXCkey=1
cKEB.wxXCkey=3
_(f3DB,oJEB)
}
var lMEB=_mz(z,'view',['class',72,'style',1],[],e,s,gg)
var aNEB=_v()
_(lMEB,aNEB)
if(_oz(z,74,e,s,gg)){aNEB.wxVkey=1
var ePEB=_v()
_(aNEB,ePEB)
if(_oz(z,75,e,s,gg)){ePEB.wxVkey=1
var bQEB=_mz(z,'u-empty',['bind:__l',76,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(ePEB,bQEB)
}
ePEB.wxXCkey=1
ePEB.wxXCkey=3
}
else if(_oz(z,80,e,s,gg)){aNEB.wxVkey=2
var oREB=_v()
_(aNEB,oREB)
var xSEB=function(fUEB,oTEB,cVEB,gg){
var oXEB=_v()
_(cVEB,oXEB)
if(_oz(z,83,fUEB,oTEB,gg)){oXEB.wxVkey=1
var cYEB=_mz(z,'u-skeleton',['bind:__l',84,'class',1,'uI',2,'uP',3],[],fUEB,oTEB,gg)
_(oXEB,cYEB)
}
oXEB.wxXCkey=1
oXEB.wxXCkey=3
return cVEB
}
oREB.wxXCkey=4
_2z(z,82,xSEB,e,s,gg,oREB,'item','index','')
}
var oZEB=_v()
_(lMEB,oZEB)
var l1EB=function(t3EB,a2EB,e4EB,gg){
var o6EB=_v()
_(e4EB,o6EB)
if(_oz(z,91,t3EB,a2EB,gg)){o6EB.wxVkey=1
var x7EB=_mz(z,'c-product-card',['bind:__l',92,'class',1,'uI',2,'uP',3],[],t3EB,a2EB,gg)
_(o6EB,x7EB)
}
o6EB.wxXCkey=1
o6EB.wxXCkey=3
return e4EB
}
oZEB.wxXCkey=4
_2z(z,89,l1EB,e,s,gg,oZEB,'item','index','c')
var tOEB=_v()
_(lMEB,tOEB)
if(_oz(z,96,e,s,gg)){tOEB.wxVkey=1
var o8EB=_v()
_(tOEB,o8EB)
if(_oz(z,97,e,s,gg)){o8EB.wxVkey=1
var f9EB=_mz(z,'u-loadmore',['bind:__l',98,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(o8EB,f9EB)
}
o8EB.wxXCkey=1
o8EB.wxXCkey=3
}
else{tOEB.wxVkey=2
}
aNEB.wxXCkey=1
aNEB.wxXCkey=3
aNEB.wxXCkey=3
tOEB.wxXCkey=1
tOEB.wxXCkey=3
_(oZDB,lMEB)
var c0EB=_mz(z,'c-location-picker',['bind:__l',102,'class',1,'uI',2],[],e,s,gg)
_(oZDB,c0EB)
var hAFB=_mz(z,'c-privacy-dialog',['bind:__l',105,'class',1,'uI',2],[],e,s,gg)
_(oZDB,hAFB)
x1DB.wxXCkey=1
o2DB.wxXCkey=1
f3DB.wxXCkey=1
f3DB.wxXCkey=3
_(bYDB,oZDB)
}
bYDB.wxXCkey=1
bYDB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_158";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_158();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/entry/menu/menuWm.wxml'] = [$gwx_XC_158, './pages/entry/menu/menuWm.wxml'];else __wxAppCode__['pages/entry/menu/menuWm.wxml'] = $gwx_XC_158( './pages/entry/menu/menuWm.wxml' );
	;__wxRoute = "pages/entry/menu/menuWm";__wxRouteBegin = true;__wxAppCurrentFile__="pages/entry/menu/menuWm.js";define("pages/entry/menu/menuWm.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault"),r=e(require("../../../@babel/runtime/helpers/toConsumableArray")),n=e(require("../../../@babel/runtime/helpers/defineProperty")),t=e(require("../../../@babel/runtime/regenerator")),u=e(require("../../../@babel/runtime/helpers/asyncToGenerator"));function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,n.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=require("../../../common/vendor.js"),s=require("../../../hooks/app/useApp.js");require("../../../hooks/order/useOrder.js");var c=require("../../../config/enums.js");require("../../../config/options.js");var i=require("../../../config/theme.js");require("../../../hooks/products/useProductsSearch.js");var p=require("../../../hooks/products/useScroller.js");require("../../../consts.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/app/useAreas.js"),require("../../../hooks/products/useShopCoupons.js"),require("../../../hooks/products/useDefaultRegionInfo.js"),Array||(l.resolveComponent("u-icon")+l.resolveComponent("c-drop-down")+l.resolveComponent("u-empty")+l.resolveComponent("u-skeleton")+l.resolveComponent("c-product-card")+l.resolveComponent("u-loadmore")+l.resolveComponent("c-location-picker")+l.resolveComponent("c-privacy-dialog")+l.resolveComponent("c-page"))(),Math||(f+m+d+function(){return"../../../node-modules/uview-plus/components/u-icon/u-icon.js"}+v+function(){return"../../../components/c-drop-down/c-drop-down.js"}+function(){return"../../../node-modules/uview-plus/components/u-empty/u-empty.js"}+function(){return"../../../node-modules/uview-plus/components/u-skeleton/u-skeleton.js"}+function(){return"../../../components/c-product-card/c-product-card.js"}+function(){return"../../../node-modules/uview-plus/components/u-loadmore/u-loadmore.js"}+function(){return"../../../components/c-location-picker/c-location-picker.js"}+function(){return"../../../components/c-privacy-dialog/c-privacy-dialog.js"}+function(){return"../../../components/c-page/c-page.js"})();var f=function(){return"../home/components/red-banner.js"},d=function(){return"../../entry2/home/components/takeout-select.js"},v=function(){return"../../../components/c-products-search/search-categories.js"},m=function(){return"./kaTab.js"},h=l.defineComponent({__name:"menuWm",setup:function(e){var n=p.useScroller(),a=s.useApp(),f=a.systemInfo,d=a.app,v=a.currentLocation,m=a.onShareAppMessage,h=a.onShareAppMessageHook,g=a.theme,b=a.ensureCurrentLocation,k=a.isAccurateLocation,x=a.onReachBottom,y=a.onShow,w=a.onHide,j=a.onPageScroll,P=a.onPullDownRefresh,I=(a.commonConfig,a.onBackPress,f.value.navTop),q=l.ref(),T=l.computed((function(){return!0})),S=l.ref(),C=l.ref(!1);function O(){C.value=!0}l.computed((function(){return 90+f.value.headerHeight})),l.computed((function(){return 0===ae.value?!te:!ie})),m(h((function(e){var r,n,t,u,a="home",o="吃喝玩乐购,就上【兔喜生活】,既能省钱又能赚钱",l=g.images.shareIcon;return"redPacket"===(null==(n=null==(r=null==e?void 0:e.target)?void 0:r.dataset)?void 0:n.id)?(a="red_packet",o="你的好友邀请你领取大额外卖红包，快来薅羊毛",l="https://fscdn.zto.com/fs8/M03/C9/B4/CgRfYWS6LIaAPZrjAAIQJchSsk0439.png"):"takeout"===(null==(u=null==(t=null==e?void 0:e.target)?void 0:t.dataset)?void 0:u.id)&&(a="takeout",o="特价外卖会场来袭，快来囤券吧~",l=g.images.shareTakeoutIcon),{name:a,title:o,image:l,query:"number=1"}}))),y((0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:n.startMtTimer();case 3:case"end":return e.stop()}}),e)})))),w((function(){n.endMtTimer()}));var z=l.ref(!1),M=l.computed((function(){return 0===ae.value}));function A(){z.value?z.value=!1:(de(),z.value=!0)}var D=l.ref({platformId:c.PubPlatform.ELE,currentCityId:10}),R=l.ref({label:"销量优先",type:7}),E={positionValue:""},_=l.ref([]),L=l.ref(!1),V=l.ref(!1),G=l.ref(!1),F=l.ref("nomore");function H(){ue.value?K.value=!0:K.value=!1,0===ae.value?Y():W()}function W(){return B.apply(this,arguments)}function B(){return(B=(0,u.default)(t.default.mark((function e(){var n,u,a,o=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]&&o[0],G.value=!0,F.value="loading",L.value=!1,n||(E.positionValue="",_.value=[],V.value=!0),e.next=4,l.tryExec(d.request,{api:"tuxi.txsh.elm.queryELMShopInfoPage",params:{lng:v.value.longitude+"",lat:v.value.latitude+"",pageSize:10,keyWords:K.value?ue.value:"",positionValue:E.positionValue,cat1Ids:D.value.cat1Ids?D.value.cat1Ids:[],sortType:$.value.type,traceType:d.tracer.getTraceType()}});case 4:u=e.sent,u.success,0===(a=u.result).data.length&&(F.value="nomore",n||(L.value=!0),n&&0===_.value.length&&(L.value=!0)),_.value=n?[].concat((0,r.default)(_.value),(0,r.default)(a.data)):a.data,E.positionValue=a.positionValue,V.value=!1,G.value=!1,l.index.stopPullDownRefresh();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){n.changeIndexScrollTop(e)}P((function(){ue.value="",K.value=!1,ce(),se(),q.value&&q.value.queryMenuList(),0===ae.value?Y():W()})),j((function(e){}));var J={mtzPageIndex:1,pushedGoodsMode:!0};function N(){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.default)(t.default.mark((function e(){var r,n,u,a,o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K.value?(r="tuxi.txsh.goods.mt.search.searchGoodsList",n={keyWord:ue.value,cityCode:v.value.ztoCityId,pageIndex:J.mtzPageIndex,pageSize:10}):(r="tuxi.txsh.goods.queryTakeoutCoupon",n={lng:v.value.longitude+"",lat:v.value.latitude+"",pageIndex:J.mtzPageIndex,pageSize:10,sorted:R.value.type}),e.next=3,l.tryExec(d.request,{api:r,params:n});case 3:if(u=e.sent,a=u.success,o=u.result,a){e.next=8;break}return e.abrupt("return",[]);case 8:return e.abrupt("return",{data:K.value?o:o.data});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.default)(t.default.mark((function e(){var n,a,o,s,c,i,p=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>0&&void 0!==p[0]&&p[0],T.value){e.next=3;break}return e.abrupt("return",(ae.value=1,void W(n)));case 3:if(F.value="loading",L.value=!1,G.value=!0,n||(J.mtzPageIndex=1,J.pushedGoodsMode=!0,_.value=[],V.value=!0),o=[],!J.pushedGoodsMode||K.value){e.next=17;break}return e.next=8,(0,u.default)(t.default.mark((function e(){var r,n,u;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.tryExec(d.request,{api:"tuxi.txsh.goods.takeout.queryTakeOutPushedGoods",params:{pageIndex:J.mtzPageIndex,pageSize:10}});case 2:return r=e.sent,n=r.success,u=r.result,e.abrupt("return",n?u:[]);case 6:case"end":return e.stop()}}),e)})))();case 8:if(0!==(o=e.sent).length){e.next=15;break}return J.pushedGoodsMode=!1,J.mtzPageIndex=1,e.next=13,N();case 13:s=e.sent,o=s.data,a=s.pageIndex;case 15:e.next=21;break;case 17:return e.next=19,N();case 19:c=e.sent,o=c.data,a=c.pageIndex;case 21:0===o.length&&(F.value="nomore",n||(L.value=!0),n&&0===_.value.length&&(L.value=!0)),i=[],i=n?[].concat((0,r.default)(_.value),(0,r.default)(o)):o,_.value=i.map((function(e,r){return e.mtIndex=r,e.mIndex=r,e.headUrl=e.logoUrl?e.logoUrl:e.headUrl,e.skuViewId=e.skuId?e.skuId:e.skuViewId,e.locationStr=k.value?v.value.ztoDistrict:v.value.cityName,e})),J.mtzPageIndex=a||J.mtzPageIndex+1,V.value=!1,G.value=!1,l.index.stopPullDownRefresh();case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=l.ref(!1);l.onMounted((0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(),l.watch((function(){return v.value.latitude}),(function(){ue.value="",K.value=!1,0===ae.value?Y():W()})),l.watch((function(){return ue.value}),(function(){if(!ue.value||0===ue.value.length){if(!K.value)return;K.value=!1,0===ae.value?Y():W()}}));case 1:case"end":return e.stop()}}),e)}))));var $=l.ref({label:"综合排序",type:"normal"});function X(){z.value=!1,W(),console.log("searchModel>>>",D.value)}x((function(){0===ae.value?Y(!0):W(!0)}));var ee=l.computed((function(){return{noPadding:!0,popupTop:66,popupZIndex:99999,onScrollToTop:100,popupWidth:"100vw"}})),re=[{label:"销量优先",value:7},{label:"价格最低",value:c.MtShopSortType.PRICE,platformId:c.PubPlatform.MT_TakeOut},{label:"返现最多",value:1008,platformId:c.PubPlatform.MT_TakeOut}],ne=[{label:"综合排序",value:"normal"},{label:"销量优先",value:"monthlySale"},{label:"距离优先",value:"distance"},{label:"佣金比例",value:"commissionRate"}],te=l.ref(!1),ue=l.ref(""),ae=l.ref(0);function oe(){return le.apply(this,arguments)}function le(){return(le=(0,u.default)(t.default.mark((function e(){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:0===ae.value?(te.value=!0,z.value=!1):setTimeout((function(){ie.value=!0,z.value=!1}),0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),te.value=!1}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),ie.value=!1}var ie=l.ref(!1);function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.default)(t.default.mark((function e(r){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae.value=r,0===r?Y():W();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.default)(t.default.mark((function e(){var r;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.nextTick$1();case 2:return r=C.value?322:240,e.next=5,l.index.pageScrollTo({scrollTop:r,duration:10});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e,r){return l.e({a:"".concat(l.unref(I)+48,"px"),b:l.o(H),c:l.unref(ue),d:l.o((function(e){return l.isRef(ue)?ue.value=e.detail.value:null})),e:l.o(H),f:l.sr(q,"a2e8c205-2,a2e8c205-0",{k:"kaTabRef"}),g:l.o(O),h:l.unref(T)},l.unref(T)?{i:l.sr(S,"a2e8c205-3,a2e8c205-0",{k:"takeoutSelectRef"}),j:l.o(pe)}:{},{k:!l.unref(M)},l.unref(M)?{}:l.e({l:l.t(0===l.unref(ae)?l.unref(R).label:l.unref($).label),m:0===l.unref(ae)&&!l.unref(te)},0!==l.unref(ae)||l.unref(te)?1!==l.unref(ae)||l.unref(ie)?{q:l.p({name:"arrow-up",size:"10",color:"black"})}:{p:l.p({name:"arrow-down",size:"10",color:"black"})}:{n:l.p({name:"arrow-down",size:"10",color:"black"})},{o:1===l.unref(ae)&&!l.unref(ie),r:l.o(oe)}),{s:1===l.unref(ae)},1===l.unref(ae)?l.e({t:!l.unref(z)},l.unref(z)?{w:l.p({name:"arrow-up",size:"10",color:"black"})}:{v:l.p({name:"arrow-down",size:"10",color:"black"})},{x:l.o(A)}):{},{y:l.unref(te)},l.unref(te)?{z:l.f(re,(function(e,r,n){var t;return{a:l.t(e.label),b:e.value===(null==(t=l.unref(R))?void 0:t.type)?"red":"#222222",c:l.o((function(r){return function(e){console.log("item>>>",e),R.value={label:e.label,type:e.value},se(),Y()}(e)}),r),d:r}})),A:l.unref(C)?"780rpx":"640rpx",B:l.o(se)}:{},{C:l.unref(ie)},l.unref(ie)?{D:l.f(ne,(function(e,r,n){var t;return{a:l.t(e.label),b:e.value===(null==(t=l.unref($))?void 0:t.type)?"red":"#222222",c:l.o((function(r){return function(e){console.log("item>>>",e),$.value={label:e.label,type:e.value},ce(),W()}(e)}),r),d:r}})),E:l.unref(C)?"780rpx":"640rpx",F:l.o(ce)}:{},{G:l.o(X),H:l.p({model:l.unref(D)}),I:l.o((function(e){return l.isRef(z)?z.value=e:null})),J:l.p(o(o({},l.unref(ee)),{},{modelValue:l.unref(z)})),K:l.unref(L)},l.unref(L)?{L:l.p({mode:"data",text:"周边暂无品质好物，我们会尽快更新",icon:l.unref(i.icons).EMPTY_DATA})}:l.unref(V)?{N:l.f(Array(5),(function(e,r,n){return{a:"a2e8c205-12-"+n+",a2e8c205-0"}})),O:l.p({rows:"4",loading:!0,avatar:!0,title:!1,avatarSize:"100px",avatarShape:"square"})}:{},{M:l.unref(V),P:l.f(l.unref(_),(function(e,r,n){return{a:"a2e8c205-13-"+n+",a2e8c205-0",b:l.p({item:e,takeout:0===l.unref(ae),"platform-id":0===l.unref(ae)?l.unref(c.PubPlatform).MT_TakeOut:l.unref(c.PubPlatform).ELE}),c:r}})),Q:!l.unref(L)&&l.unref(G)},!l.unref(L)&&l.unref(G)?{R:l.p({status:l.unref(F)})}:{},{S:l.o(U),T:l.p({"no-padding":!0,"bg-color":"#F5F5F5","need-nav":!0,title:"点外卖"})})}}});h.__runtimeHooks=3;var g=l._export_sfc(h,[["__scopeId","data-v-a2e8c205"]]);wx.createPage(g);
},{isPage:true,isComponent:true,currentFile:'pages/entry/menu/menuWm.js'});require("pages/entry/menu/menuWm.js");