$gwx_XC_223=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_223 || [];
function gz$gwx_XC_223_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_223_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'a']])
Z([[7],[3,'b']])
Z([[7],[3,'d']])
Z([3,'data-v-d172e4ea'])
Z([3,'position:absolute;right:0px;top:0px;padding-right:22px;padding-top:22px;z-index:999'])
Z([[7],[3,'c']])
Z([3,'__l'])
Z(z[3])
Z([3,'d172e4ea-0'])
Z(z[5])
Z([[7],[3,'e']])
Z([[7],[3,'f']])
Z([3,'header-wrap data-v-d172e4ea'])
Z([[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[1,'margin-top:'],[[7],[3,'A']]],[1,';']],[[2,'+'],[1,'padding-bottom:'],[1,'16px']]],[1,';']],[[2,'+'],[1,'padding-top:'],[1,'16px']]])
Z([[7],[3,'h']])
Z([3,'shop-info data-v-d172e4ea'])
Z(z[3])
Z([3,'display:flex;flex-direction:row;align-items:center;margin-top:2px'])
Z([[7],[3,'j']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-1'])
Z(z[18])
Z([[7],[3,'k']])
Z([[7],[3,'n']])
Z([[7],[3,'p']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-2'])
Z(z[25])
Z([[7],[3,'r']])
Z([[7],[3,'y']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-3'])
Z([[7],[3,'B']])
Z([3,'item'])
Z([[7],[3,'C']])
Z([3,'g'])
Z([[6],[[7],[3,'item']],[3,'h']])
Z([3,'info data-v-d172e4ea'])
Z([[6],[[7],[3,'item']],[3,'b']])
Z(z[6])
Z(z[3])
Z([[6],[[7],[3,'item']],[3,'a']])
Z(z[41])
Z([[6],[[7],[3,'item']],[3,'e']])
Z([[7],[3,'D']])
Z([[7],[3,'E']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-5'])
Z([[7],[3,'L']])
Z([[4],[[5],[1,'d']]])
Z([[7],[3,'K']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-6,d172e4ea-5'])
Z(z[54])
Z(z[53])
Z([[7],[3,'H']])
Z(z[6])
Z([3,'action-col data-v-d172e4ea'])
Z([3,'d172e4ea-7,d172e4ea-6'])
Z(z[60])
Z(z[53])
Z([[7],[3,'G']])
Z(z[6])
Z([[7],[3,'F']])
Z(z[3])
Z([3,'d172e4ea-8,d172e4ea-7'])
Z(z[66])
Z([[7],[3,'J']])
Z(z[6])
Z(z[62])
Z([3,'d172e4ea-9,d172e4ea-6'])
Z(z[72])
Z(z[53])
Z([[7],[3,'I']])
Z(z[6])
Z(z[3])
Z([3,'d172e4ea-10,d172e4ea-9'])
Z(z[78])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_223_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_223=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_223=true;
var x=['./pages/shop/detail2/shop-detail.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_223_1()
var oHVB=_v()
_(r,oHVB)
if(_oz(z,0,e,s,gg)){oHVB.wxVkey=1
}
var xIVB=_v()
_(r,xIVB)
if(_oz(z,1,e,s,gg)){xIVB.wxVkey=1
var cOVB=_mz(z,'view',['bindtap',2,'class',1,'style',2],[],e,s,gg)
var oPVB=_v()
_(cOVB,oPVB)
if(_oz(z,5,e,s,gg)){oPVB.wxVkey=1
var lQVB=_mz(z,'u-image',['bind:__l',6,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oPVB,lQVB)
}
oPVB.wxXCkey=1
oPVB.wxXCkey=3
_(xIVB,cOVB)
}
var oJVB=_v()
_(r,oJVB)
if(_oz(z,10,e,s,gg)){oJVB.wxVkey=1
}
var fKVB=_v()
_(r,fKVB)
if(_oz(z,11,e,s,gg)){fKVB.wxVkey=1
var aRVB=_mz(z,'view',['class',12,'style',1],[],e,s,gg)
var tSVB=_v()
_(aRVB,tSVB)
if(_oz(z,14,e,s,gg)){tSVB.wxVkey=1
var bUVB=_n('view')
_rz(z,bUVB,'class',15,e,s,gg)
var oXVB=_mz(z,'view',['class',16,'style',1],[],e,s,gg)
var fYVB=_v()
_(oXVB,fYVB)
if(_oz(z,18,e,s,gg)){fYVB.wxVkey=1
var h1VB=_mz(z,'u-rate',['bind:__l',19,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(fYVB,h1VB)
}
var cZVB=_v()
_(oXVB,cZVB)
if(_oz(z,23,e,s,gg)){cZVB.wxVkey=1
}
fYVB.wxXCkey=1
fYVB.wxXCkey=3
cZVB.wxXCkey=1
_(bUVB,oXVB)
var oVVB=_v()
_(bUVB,oVVB)
if(_oz(z,24,e,s,gg)){oVVB.wxVkey=1
}
var xWVB=_v()
_(bUVB,xWVB)
if(_oz(z,25,e,s,gg)){xWVB.wxVkey=1
var o2VB=_mz(z,'u-image',['bind:__l',26,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(xWVB,o2VB)
}
oVVB.wxXCkey=1
xWVB.wxXCkey=1
xWVB.wxXCkey=3
_(tSVB,bUVB)
}
var eTVB=_v()
_(aRVB,eTVB)
if(_oz(z,30,e,s,gg)){eTVB.wxVkey=1
var c3VB=_v()
_(eTVB,c3VB)
if(_oz(z,31,e,s,gg)){c3VB.wxVkey=1
}
c3VB.wxXCkey=1
}
tSVB.wxXCkey=1
tSVB.wxXCkey=3
eTVB.wxXCkey=1
_(fKVB,aRVB)
}
else{fKVB.wxVkey=2
var o4VB=_mz(z,'u-loading-icon',['bind:__l',32,'class',1,'uI',2],[],e,s,gg)
_(fKVB,o4VB)
}
var cLVB=_v()
_(r,cLVB)
if(_oz(z,35,e,s,gg)){cLVB.wxVkey=1
var l5VB=_v()
_(cLVB,l5VB)
var a6VB=function(e8VB,t7VB,b9VB,gg){
var xAWB=_mz(z,'view',['bindtap',39,'class',1],[],e8VB,t7VB,gg)
var oBWB=_v()
_(xAWB,oBWB)
if(_oz(z,41,e8VB,t7VB,gg)){oBWB.wxVkey=1
var cDWB=_mz(z,'u-image',['bind:__l',42,'class',1,'uI',2,'uP',3],[],e8VB,t7VB,gg)
_(oBWB,cDWB)
}
var fCWB=_v()
_(xAWB,fCWB)
if(_oz(z,46,e8VB,t7VB,gg)){fCWB.wxVkey=1
}
oBWB.wxXCkey=1
oBWB.wxXCkey=3
fCWB.wxXCkey=1
_(b9VB,xAWB)
return b9VB
}
l5VB.wxXCkey=4
_2z(z,37,a6VB,e,s,gg,l5VB,'item','index','g')
}
var hMVB=_v()
_(r,hMVB)
if(_oz(z,47,e,s,gg)){hMVB.wxVkey=1
}
var oNVB=_v()
_(r,oNVB)
if(_oz(z,48,e,s,gg)){oNVB.wxVkey=1
var hEWB=_mz(z,'c-section',['bind:__l',49,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var oFWB=_v()
_(hEWB,oFWB)
if(_oz(z,54,e,s,gg)){oFWB.wxVkey=1
var cGWB=_mz(z,'u-row',['bind:__l',55,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var oHWB=_v()
_(cGWB,oHWB)
if(_oz(z,60,e,s,gg)){oHWB.wxVkey=1
var aJWB=_mz(z,'u-col',['bind:__l',61,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var tKWB=_v()
_(aJWB,tKWB)
if(_oz(z,66,e,s,gg)){tKWB.wxVkey=1
var eLWB=_mz(z,'c-action',['bind:__l',67,'bindtrigger',1,'class',2,'uI',3,'uP',4],[],e,s,gg)
_(tKWB,eLWB)
}
tKWB.wxXCkey=1
tKWB.wxXCkey=3
_(oHWB,aJWB)
}
var lIWB=_v()
_(cGWB,lIWB)
if(_oz(z,72,e,s,gg)){lIWB.wxVkey=1
var bMWB=_mz(z,'u-col',['bind:__l',73,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var oNWB=_v()
_(bMWB,oNWB)
if(_oz(z,78,e,s,gg)){oNWB.wxVkey=1
var xOWB=_mz(z,'c-action',['bind:__l',79,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(oNWB,xOWB)
}
oNWB.wxXCkey=1
oNWB.wxXCkey=3
_(lIWB,bMWB)
}
oHWB.wxXCkey=1
oHWB.wxXCkey=3
lIWB.wxXCkey=1
lIWB.wxXCkey=3
_(oFWB,cGWB)
}
oFWB.wxXCkey=1
oFWB.wxXCkey=3
_(oNVB,hEWB)
}
oHVB.wxXCkey=1
xIVB.wxXCkey=1
xIVB.wxXCkey=3
oJVB.wxXCkey=1
fKVB.wxXCkey=1
fKVB.wxXCkey=3
fKVB.wxXCkey=3
cLVB.wxXCkey=1
cLVB.wxXCkey=3
hMVB.wxXCkey=1
oNVB.wxXCkey=1
oNVB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_223";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_223();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/shop/detail2/shop-detail.wxml'] = [$gwx_XC_223, './pages/shop/detail2/shop-detail.wxml'];else __wxAppCode__['pages/shop/detail2/shop-detail.wxml'] = $gwx_XC_223( './pages/shop/detail2/shop-detail.wxml' );
	;__wxRoute = "pages/shop/detail2/shop-detail";__wxRouteBegin = true;__wxAppCurrentFile__="pages/shop/detail2/shop-detail.js";define("pages/shop/detail2/shop-detail.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault"),o=e(require("../../../@babel/runtime/regenerator")),r=e(require("../../../@babel/runtime/helpers/defineProperty")),n=e(require("../../../@babel/runtime/helpers/asyncToGenerator"));function u(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,n)}return r}function t(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?u(Object(n),!0).forEach((function(o){(0,r.default)(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}var i=require("../../../common/vendor.js"),l=require("../../../config/enums.js");require("../../../config/options.js");var s=require("../../../config/theme.js"),a=require("../../../hooks/app/useApp.js");require("../../../hooks/order/useOrder.js"),require("../../../hooks/products/useProductsSearch.js"),require("../../../consts.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/app/useAreas.js"),require("../../../hooks/products/useShopCoupons.js"),require("../../../hooks/products/useDefaultRegionInfo.js"),Array||(i.resolveComponent("u-image")+i.resolveComponent("u-rate")+i.resolveComponent("u-loading-icon")+i.resolveComponent("c-action")+i.resolveComponent("u-col")+i.resolveComponent("u-row")+i.resolveComponent("c-section"))(),Math||(function(){return"../../../node-modules/uview-plus/components/u-image/u-image.js"}+function(){return"../../../node-modules/uview-plus/components/u-rate/u-rate.js"}+function(){return"../../../node-modules/uview-plus/components/u-loading-icon/u-loading-icon.js"}+function(){return"../../../components/c-action/c-action.js"}+function(){return"../../../node-modules/uview-plus/components/u-col/u-col.js"}+function(){return"../../../node-modules/uview-plus/components/u-row/u-row.js"}+function(){return"../../../components/c-section/c-section.js"})();var p=i.defineComponent({__name:"shop-detail",emits:["gotoGoods","gotoClose"],setup:function(e,r){var u=r.expose,p=r.emit,c=a.useApp(),f=c.app,d=c.ensureLogin,v=c.currentShareId,m=c.onShareAppMessage,h=c.onShareAppMessageHook,g=i.ref({}),b=i.reactive({}),y=i.reactive({});function w(){var e={appId:b.value.link.miniProgramAppId,path:b.value.link.miniProgramPath};i.navigateToEmbeddedMiniProgram(e)}var j=i.ref({"border-radius":"50px",overflow:"hidden",width:"154px",height:"41px"}),q=i.ref({"border-radius":"50px",overflow:"hidden",background:"#fff",color:"#FD3E53",border:"1px solid #FD3E53",width:"154px",height:"41px"});function P(){y.value={},b.value={},p("gotoClose")}m(h((function(){var e=b.value,o=g.value;return{title:e.shopName+", 下单即返"+(null==e?void 0:e.commissionRate)+"%佣金",query:"platformId=".concat(o.platformId,"&shopId=").concat(o.shopId,"&takeout=true"),imageUrl:(null==e?void 0:e.shopLogo)?null==e?void 0:e.shopLogo:s.images.defaultShopLogo}})));var k,D=i.computed((function(){return g.value.platformId})),C=i.ref(!0),O=i.computed((function(){return g.value.shopId}));return i.computed((function(){return D.value===String(l.PubPlatform.ELE)})),u({doFetch:(k=(0,n.default)(o.default.mark((function e(r){var n,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.options,e.next=3,d();case 3:return b.value={},y.value={},g.value=t({},n),C.value=!0,e.next=9,f.request({api:"tuxi.spm.shop.queryShopInfo",params:{platformId:D.value,shopId:O.value,utmMedium:v.value}}).finally((function(){C.value=!1}));case 9:u=e.sent,b.value=u.shopInfo,y.value=u.goodsList,console.log("getRes>>>",y.value);case 11:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})}),function(e,o){var r,n,u,t,l,a,c,f,d,v,m,h,k,O,S,x,A,I,R,E,L,M,T,F;return i.e({a:null==(r=i.unref(g))?void 0:r.showTitle},(null==(n=i.unref(g))||n.showTitle,{}),{b:null==(u=i.unref(g))?void 0:u.showTitle},(null==(t=i.unref(g))?void 0:t.showTitle)?{c:i.p({src:"https://fscdn.zto.com/fs41/M03/5D/90/CgRRbWSJmt-AY1gRAAACQewyCFo196.png",width:"15",height:"15"}),d:i.o(P)}:{},{e:null==(l=i.unref(g))?void 0:l.showTitle},(null==(a=i.unref(g))||a.showTitle,{}),{f:!i.unref(C)},i.unref(C)?{}:i.e({g:(null==(c=i.unref(b).value)?void 0:c.shopLogo)?null==(f=i.unref(b).value)?void 0:f.shopLogo:i.unref(s.images).defaultShopLogo,h:"2"===i.unref(D)},"2"===i.unref(D)?i.e({i:i.t(null==(d=i.unref(b).value)?void 0:d.shopName),j:i.p({count:"5","model-value":null==(v=i.unref(b).value)?void 0:v.shopPower,allowHalf:!0,readonly:!0,size:18}),k:i.unref(b).value.pricePerson},i.unref(b).value.pricePerson?{l:i.t(i.unref(i.formatMoney)(i.unref(b).value.pricePerson))}:{},{m:i.t(i.unref(b).value.bizHourDesc),n:i.unref(b).value.deliveryDistance},i.unref(b).value.deliveryDistance?{o:i.t(i.unref(b).value.deliveryDistance)}:{},{p:i.p({src:"https://fscdn.zto.com/fs21/M02/9E/E3/CgRRhGSJoy2ADKgtAAAF7s3VRvc167.png",width:"14",height:"14",customStyle:"margin-top:2px;"}),q:i.t(i.unref(b).value.address)}):{},{r:"3"===i.unref(D)},"3"===i.unref(D)?i.e({s:i.t(null==(m=i.unref(b).value)?void 0:m.shopName),t:i.t(null==(h=i.unref(b).value)?void 0:h.shopPower),v:i.t(null==(k=i.unref(b).value)?void 0:k.recentSales),w:i.t(null==(O=i.unref(b).value)?void 0:O.deliveryPrice),x:i.t(null==(S=i.unref(b).value)?void 0:S.deliveryTime),y:null==(x=i.unref(b).value)?void 0:x.deliveryDistance},(null==(A=i.unref(b).value)?void 0:A.deliveryDistance)?{z:i.t(null==(I=i.unref(b).value)?void 0:I.deliveryDistance)}:{}):{},{A:(null==(R=i.unref(g))||R.showTitle,"0")}),{B:!i.unref(C)},i.unref(C)?{}:{C:i.f(i.unref(y).value,(function(e,o,r){return i.e({a:"d172e4ea-4-"+r,b:i.p({src:e.picture,width:"76",height:"57",shape:"square"}),c:i.t(e.title),d:i.t(i.unref(i.formatMoney)(e.finalPrice)),e:e.originPrice},e.originPrice?{f:i.t(i.unref(i.formatMoney)(e.originPrice))}:{},{g:o,h:i.o((function(o){return function(e){p("gotoGoods",e)}(e)}),o)})}))},{D:!i.unref(C)},(i.unref(C),{}),{E:null==(E=i.unref(g))?void 0:E.takeout},(null==(L=i.unref(g))?void 0:L.takeout)?{F:i.o(w),G:i.p({name:"shop-detail-buy","button-type":"normal",buttonStyle:i.unref(q),width:"full",color:"#fff",label:"自买返 ".concat(null==(T=null==(M=i.unref(b))?void 0:M.value)?void 0:T.commissionRate,"%")}),H:i.p({span:"6"}),I:i.p({name:"shop-detail-share","button-type":"normal",buttonStyle:i.unref(j),width:"full",color:"#FD3E53",label:"分享赚 ".concat(null==(F=i.unref(b).value)?void 0:F.commissionRate,"%"),"action-type":"share"}),J:i.p({span:"6"}),K:i.p({gutter:"30"}),L:i.p({margin:"none",radius:"none","fixed-bottom":!0})}:{})}}});p.__runtimeHooks=2;var c=i._export_sfc(p,[["__scopeId","data-v-d172e4ea"]]);wx.createComponent(c);
},{isPage:false,isComponent:true,currentFile:'pages/shop/detail2/shop-detail.js'});require("pages/shop/detail2/shop-detail.js");