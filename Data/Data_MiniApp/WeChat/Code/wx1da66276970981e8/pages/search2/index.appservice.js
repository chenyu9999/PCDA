$gwx_XC_217=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_217 || [];
function gz$gwx_XC_217_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_217_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'T']])
Z([3,'__l'])
Z([3,'search-page data-v-571be1bd'])
Z([3,'571be1bd-0'])
Z(z[0])
Z([[4],[[5],[1,'d']]])
Z([3,'search-bar__wrapper data-v-571be1bd'])
Z([[7],[3,'a']])
Z(z[1])
Z([3,'data-v-571be1bd'])
Z([3,'571be1bd-1,571be1bd-0'])
Z(z[7])
Z([[7],[3,'g']])
Z([3,'item'])
Z([[7],[3,'h']])
Z([3,'c'])
Z([[6],[[7],[3,'item']],[3,'e']])
Z([[4],[[5],[[5],[[5],[1,'tabs__nav__item']],[1,'data-v-571be1bd']],[[2,'&&'],[[6],[[7],[3,'item']],[3,'d']],[1,'active']]]])
Z([[6],[[7],[3,'item']],[3,'b']])
Z(z[1])
Z(z[9])
Z([[6],[[7],[3,'item']],[3,'a']])
Z(z[18])
Z([[7],[3,'j']])
Z([3,'search-items data-v-571be1bd'])
Z([[7],[3,'k']])
Z([[7],[3,'w']])
Z(z[1])
Z([[7],[3,'v']])
Z(z[9])
Z([3,'571be1bd-3,571be1bd-0'])
Z(z[26])
Z([[4],[[5],[[5],[1,'header']],[1,'d']]])
Z(z[1])
Z([[7],[3,'l']])
Z(z[9])
Z([3,'header'])
Z([3,'571be1bd-4,571be1bd-3'])
Z([[7],[3,'m']])
Z([3,'cat-select__wrapper data-v-571be1bd'])
Z([[2,'+'],[1,'top:'],[1,100]])
Z([[7],[3,'n']])
Z(z[1])
Z([[7],[3,'o']])
Z([[7],[3,'p']])
Z(z[9])
Z([3,'571be1bd-5,571be1bd-3'])
Z([[7],[3,'q']])
Z(z[1])
Z([[7],[3,'r']])
Z([[7],[3,'s']])
Z(z[9])
Z([3,'571be1bd-6,571be1bd-3'])
Z([[2,'||'],[[7],[3,'t']],[1,'']])
Z([[7],[3,'x']])
Z([3,'list__wrapper data-v-571be1bd'])
Z([[2,'+'],[1,'margin-top:'],[[7],[3,'O']]])
Z([[7],[3,'D']])
Z(z[1])
Z([3,'r data-v-571be1bd'])
Z([[2,'!'],[[7],[3,'C']]])
Z([3,'571be1bd-7,571be1bd-0'])
Z(z[57])
Z([3,'takeoutRef'])
Z([[7],[3,'G']])
Z(z[1])
Z(z[59])
Z([[2,'!'],[[7],[3,'F']]])
Z([3,'571be1bd-8,571be1bd-0'])
Z(z[64])
Z([3,'mtTakeoutRef'])
Z([[7],[3,'J']])
Z(z[1])
Z(z[59])
Z([[2,'!'],[[7],[3,'I']]])
Z([3,'571be1bd-9,571be1bd-0'])
Z(z[71])
Z([3,'goodsRef'])
Z(z[1])
Z(z[59])
Z([[2,'!'],[[7],[3,'L']]])
Z([3,'571be1bd-10,571be1bd-0'])
Z([3,'filmRef'])
Z(z[1])
Z(z[59])
Z([[2,'!'],[[7],[3,'N']]])
Z([3,'571be1bd-11,571be1bd-0'])
Z([3,'hotelRef'])
Z([[7],[3,'Q']])
Z(z[13])
Z([[7],[3,'R']])
Z([[7],[3,'S']])
Z(z[1])
Z(z[9])
Z(z[21])
Z(z[91])
Z(z[1])
Z(z[9])
Z([3,'571be1bd-13,571be1bd-0'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_217_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_217=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_217=true;
var x=['./pages/search2/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_217_1()
var oXSB=_v()
_(r,oXSB)
if(_oz(z,0,e,s,gg)){oXSB.wxVkey=1
var cYSB=_mz(z,'c-page',['bind:__l',1,'class',1,'uI',2,'uP',3,'uS',4],[],e,s,gg)
var l1SB=_n('view')
_rz(z,l1SB,'class',6,e,s,gg)
var a2SB=_v()
_(l1SB,a2SB)
if(_oz(z,7,e,s,gg)){a2SB.wxVkey=1
var b5SB=_mz(z,'u-icon',['bind:__l',8,'class',1,'uI',2,'uP',3],[],e,s,gg)
_(a2SB,b5SB)
}
var t3SB=_v()
_(l1SB,t3SB)
if(_oz(z,12,e,s,gg)){t3SB.wxVkey=1
var o6SB=_v()
_(t3SB,o6SB)
var x7SB=function(f9SB,o8SB,c0SB,gg){
var oBTB=_mz(z,'view',['bindtap',16,'class',1],[],f9SB,o8SB,gg)
var cCTB=_v()
_(oBTB,cCTB)
if(_oz(z,18,f9SB,o8SB,gg)){cCTB.wxVkey=1
var oDTB=_mz(z,'u-icon',['bind:__l',19,'class',1,'uI',2,'uP',3],[],f9SB,o8SB,gg)
_(cCTB,oDTB)
}
cCTB.wxXCkey=1
cCTB.wxXCkey=3
_(c0SB,oBTB)
return c0SB
}
o6SB.wxXCkey=4
_2z(z,14,x7SB,e,s,gg,o6SB,'item','index','c')
}
var e4SB=_v()
_(l1SB,e4SB)
if(_oz(z,23,e,s,gg)){e4SB.wxVkey=1
var lETB=_n('view')
_rz(z,lETB,'class',24,e,s,gg)
var aFTB=_v()
_(lETB,aFTB)
if(_oz(z,25,e,s,gg)){aFTB.wxVkey=1
var eHTB=_v()
_(aFTB,eHTB)
if(_oz(z,26,e,s,gg)){eHTB.wxVkey=1
var bITB=_mz(z,'c-drop-down',['bind:__l',27,'bindupdateModelValue',1,'class',2,'uI',3,'uP',4,'uS',5],[],e,s,gg)
var oJTB=_mz(z,'c-toggle-button',['bind:__l',33,'bindupdateModelValue',1,'class',2,'slot',3,'uI',4,'uP',5],[],e,s,gg)
_(bITB,oJTB)
var xKTB=_mz(z,'view',['class',39,'style',1],[],e,s,gg)
var oLTB=_v()
_(xKTB,oLTB)
if(_oz(z,41,e,s,gg)){oLTB.wxVkey=1
var fMTB=_mz(z,'c-list-select',['bind:__l',42,'bindselect',1,'bindupdateModelValue',2,'class',3,'uI',4,'uP',5],[],e,s,gg)
_(oLTB,fMTB)
}
else{oLTB.wxVkey=2
var cNTB=_mz(z,'c-list-select',['bind:__l',48,'bindselect',1,'bindupdateModelValue',2,'class',3,'uI',4,'uP',5],[],e,s,gg)
_(oLTB,cNTB)
}
oLTB.wxXCkey=1
oLTB.wxXCkey=3
oLTB.wxXCkey=3
_(bITB,xKTB)
_(eHTB,bITB)
}
eHTB.wxXCkey=1
eHTB.wxXCkey=3
}
var tGTB=_v()
_(lETB,tGTB)
if(_oz(z,54,e,s,gg)){tGTB.wxVkey=1
}
aFTB.wxXCkey=1
aFTB.wxXCkey=3
tGTB.wxXCkey=1
_(e4SB,lETB)
}
a2SB.wxXCkey=1
a2SB.wxXCkey=3
t3SB.wxXCkey=1
t3SB.wxXCkey=3
e4SB.wxXCkey=1
e4SB.wxXCkey=3
_(cYSB,l1SB)
var hOTB=_mz(z,'view',['class',55,'style',1],[],e,s,gg)
var oPTB=_v()
_(hOTB,oPTB)
if(_oz(z,57,e,s,gg)){oPTB.wxVkey=1
var lSTB=_mz(z,'product-list',['bind:__l',58,'class',1,'data-c-h',2,'uI',3,'uP',4,'uR',5],[],e,s,gg)
_(oPTB,lSTB)
}
var cQTB=_v()
_(hOTB,cQTB)
if(_oz(z,64,e,s,gg)){cQTB.wxVkey=1
var aTTB=_mz(z,'product-list',['bind:__l',65,'class',1,'data-c-h',2,'uI',3,'uP',4,'uR',5],[],e,s,gg)
_(cQTB,aTTB)
}
var oRTB=_v()
_(hOTB,oRTB)
if(_oz(z,71,e,s,gg)){oRTB.wxVkey=1
var tUTB=_mz(z,'product-list',['bind:__l',72,'class',1,'data-c-h',2,'uI',3,'uP',4,'uR',5],[],e,s,gg)
_(oRTB,tUTB)
}
var eVTB=_mz(z,'film-list',['bind:__l',78,'class',1,'data-c-h',2,'uI',3,'uR',4],[],e,s,gg)
_(hOTB,eVTB)
var bWTB=_mz(z,'hotel-list',['bind:__l',83,'class',1,'data-c-h',2,'uI',3,'uR',4],[],e,s,gg)
_(hOTB,bWTB)
oPTB.wxXCkey=1
oPTB.wxXCkey=3
cQTB.wxXCkey=1
cQTB.wxXCkey=3
oRTB.wxXCkey=1
oRTB.wxXCkey=3
_(cYSB,hOTB)
var oZSB=_v()
_(cYSB,oZSB)
if(_oz(z,88,e,s,gg)){oZSB.wxVkey=1
var oXTB=_v()
_(oZSB,oXTB)
var xYTB=function(f1TB,oZTB,c2TB,gg){
var o4TB=_v()
_(c2TB,o4TB)
if(_oz(z,91,f1TB,oZTB,gg)){o4TB.wxVkey=1
var c5TB=_mz(z,'u-skeleton',['bind:__l',92,'class',1,'uI',2,'uP',3],[],f1TB,oZTB,gg)
_(o4TB,c5TB)
}
o4TB.wxXCkey=1
o4TB.wxXCkey=3
return c2TB
}
oXTB.wxXCkey=4
_2z(z,90,xYTB,e,s,gg,oXTB,'item','index','')
}
var o6TB=_mz(z,'c-privacy-dialog',['bind:__l',96,'class',1,'uI',2],[],e,s,gg)
_(cYSB,o6TB)
oZSB.wxXCkey=1
oZSB.wxXCkey=3
_(oXSB,cYSB)
}
oXSB.wxXCkey=1
oXSB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_217";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_217();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/search2/index.wxml'] = [$gwx_XC_217, './pages/search2/index.wxml'];else __wxAppCode__['pages/search2/index.wxml'] = $gwx_XC_217( './pages/search2/index.wxml' );
	;__wxRoute = "pages/search2/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/search2/index.js";define("pages/search2/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var t=e(require("../../@babel/runtime/helpers/defineProperty")),r=e(require("../../@babel/runtime/regenerator")),u=e(require("../../@babel/runtime/helpers/asyncToGenerator")),o=e(require("../../@babel/runtime/helpers/toConsumableArray"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,u)}return r}function n(e){for(var r=1;r<arguments.length;r++){var u=null!=arguments[r]?arguments[r]:{};r%2?a(Object(u),!0).forEach((function(r){(0,t.default)(e,r,u[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):a(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var l=require("../../common/vendor.js"),s=require("../../consts.js"),c=require("../../config/enums.js");require("../../config/options.js");var f=require("../../config/theme.js"),i=require("../../hooks/app/useApp.js"),p=require("../../hooks/app/useLocation.js");require("../../hooks/order/useOrder.js");var d=require("../../hooks/products/useProducts.js");require("../../hooks/products/useProductsSearch.js");var v=require("../../hooks/products/useScroller.js");require("../../config/routes.js"),require("../../utils/upgrade.js"),require("../../hooks/app/useConfig.js"),require("../../hooks/app/useSubscribeMsg.js"),require("../../hooks/products/useFilm.js"),require("../../utils/num-util.js"),require("../../hooks/app/useAreas.js"),require("../../hooks/products/useDistricts.js"),require("../../hooks/products/useCategories.js"),require("../../hooks/products/usePromotion.js"),require("../../hooks/products/useShopCoupons.js"),require("../../hooks/products/useDefaultRegionInfo.js"),Array||(l.resolveComponent("u-icon")+l.resolveComponent("c-toggle-button")+l.resolveComponent("c-list-select")+l.resolveComponent("c-drop-down")+l.resolveComponent("u-skeleton")+l.resolveComponent("c-privacy-dialog")+l.resolveComponent("c-page"))(),Math||(function(){return"../../node-modules/uview-plus/components/u-icon/u-icon.js"}+function(){return"../../components/c-toggle-button/c-toggle-button.js"}+function(){return"../../components/c-list-select/c-list-select.js"}+function(){return"../../components/c-drop-down/c-drop-down.js"}+b+m+P+function(){return"../../node-modules/uview-plus/components/u-skeleton/u-skeleton.js"}+function(){return"../../components/c-privacy-dialog/c-privacy-dialog.js"}+function(){return"../../components/c-page/c-page.js"})();var m=function(){return"./film-list.js"},b=function(){return"./product-list.js"},P=function(){return"./hotel-list.js"},h=l.defineComponent({__name:"index",setup:function(e){var t=i.useApp(),a=t.app,m=t.ensureCurrentLocation,b=t.currentCityId,P=t.currentLocation,h=t.onShow,T=t.onHide,y=t.onShareAppMessage,g=t.onShareAppMessageHook,I=t.commonConfig,A=d.useProducts(),S=A.goodsCat0Options,k=A.retrieveCategories,E=p.useLocation().isAccurateLocation,O=l.ref([]),M=l.ref(),j=l.ref(!1),C=l.ref([]),L=l.ref(c.PubPlatform.MT_TakeOut),w=l.ref(0),q=l.ref(),D=l.ref(),x=l.ref(),N=l.ref(),R=l.ref(),U=v.useScroller(),W=l.ref(!1),_=l.ref(!1),z=l.reactive({platformId:c.PubPlatform.MEITUAN,catId:c.ProductsCatType.ALL,cat1Ids:[],sortType:c.MtShopSortType.AUTO,eleSortType:c.ProductsSortType.AUTO});function F(e){return e.value===L.value}function H(e){var t=F(e),r=t?e.activeIcon:e.icon,u=t?"#FD3E53":"#222222";return{label:e.label,name:r,labelColor:u}}var K=l.ref([]),V=l.computed((function(){return[{label:"美团外卖",value:c.PubPlatform.MT_TakeOut,icon:"https://fscdn.zto.com/fs8/M01/86/C8/CgRUnWT-0xOAH-f8AAAQYNWEFJg620.png",activeIcon:"https://fscdn.zto.com/fs8/M01/86/C8/CgRUnWT-0xOAH-f8AAAQYNWEFJg620.png"},{label:"美团到店",value:c.PubPlatform.MEITUAN,icon:"https://fscdn.zto.com/fs8/M01/03/AD/CgRfYWT-0xOAXL01AAAKQeVUkhE809.png",activeIcon:"https://fscdn.zto.com/fs8/M01/03/AD/CgRfYWT-0xOAXL01AAAKQeVUkhE809.png"},{label:"饿了么",value:c.PubPlatform.ELE,icon:"https://fscdn.zto.com/fs21/M02/7B/A1/CgRRhGSX5lSABaD8AAASm2n8AEI251.png",activeIcon:"https://fscdn.zto.com/fs41/M00/EF/DE/CgRReWSX5lSATAWBAAAJduynncE365.png"},{label:"电影",value:c.PubPlatform.FILM,icon:f.icons.ProductCatFilm,activeIcon:f.icons.ProductCatFilm_1},{label:"酒店旅游",value:c.PubPlatform.HOTEL,icon:"https://fscdn.zto.com/pubucket/dfs1407360564386406401/named/a63f88db70e445bfa9ac226c5ac195b6.png",activeIcon:"https://fscdn.zto.com/pubucket/dfs1407360564386406401/named/a63f88db70e445bfa9ac226c5ac195b6.png"}]}));l.computed((function(){return l.getOptionItem(V.value,z.platformId,"icon")}));var Q=l.computed((function(){var e=X.value?C.value:S.value;return[{label:"全部",value:c.ProductsCatType.ALL}].concat((0,o.default)(e))})),B=l.computed((function(){var e="",t=X.value?z.cat1Ids[0]:z.catId;return t!==c.ProductsCatType.ALL&&(e=l.getOptionItem(Q.value,t,"label")),e||"分类"})),J=l.computed((function(){var e;return L.value===c.PubPlatform.HOTEL?[]:(e=L.value!==c.PubPlatform.MEITUAN||ce.value?E.value?[{value:c.ProductsSortType.AUTO,label:"综合排序",mm:c.MtShopSortType.AUTO},{value:c.ProductsSortType.DISTANCE,label:"离我最近",mm:c.MtShopSortType.DISTANCE},{value:c.ProductsSortType.SALES,label:"销量最多",mm:c.MtShopSortType.SALES},{value:c.ProductsSortType.POINTS,label:"好评最多",mm:c.MtShopSortType.POINT}]:[{value:c.ProductsSortType.AUTO,label:"综合排序",mm:c.MtShopSortType.AUTO},{value:c.ProductsSortType.SALES,label:"销量最多",mm:c.MtShopSortType.SALES},{value:c.ProductsSortType.POINTS,label:"好评最多",mm:c.MtShopSortType.POINT}]:[],X.value?e.push({value:c.ProductsSortType.REWARD,label:"佣金比例"}):z.platformId===c.PubPlatform.MEITUAN||e.push({value:c.ProductsSortType.PRICE,label:"价格最低",mm:c.MtShopSortType.PRICE}),G.value?(E.value,[{value:c.ProductsSortType.SALES,label:"销量最多"}]):e)})),X=l.computed((function(){return z.platformId===c.PubPlatform.ELE})),Y=l.computed((function(){return z.platformId===c.PubPlatform.MEITUAN})),G=l.computed((function(){return z.platformId===c.PubPlatform.MT_TakeOut})),Z=l.computed((function(){return z.platformId===c.PubPlatform.FILM})),$=l.computed((function(){return z.platformId===c.PubPlatform.HOTEL})),ee=l.computed((function(){var e=!M.value||!W.value;return _.value&&(e=!1),e})),te=l.computed((function(){return ee.value?65:Z.value?102:140})),re=l.computed((function(){return X.value?q.value:D.value}));function ue(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.default)(r.default.mark((function e(t){var u,o,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=t.options).keyword&&ae(u.keyword),(o=a.storage.get(s.AppStorageKeys.SearchHistories))&&(O.value=o),e.next=6,k(c.PubPlatform.ELE);case 6:n=e.sent,C.value=n||[];case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){M.value=e,fe()}function ne(){fe()}function le(e){e.value&&(z.platformId=e.value,L.value=e.value,L.value===c.PubPlatform.ELE?w.value=66:L.value===c.PubPlatform.FILM?w.value=266:L.value!==c.PubPlatform.MT_TakeOut&&L.value!==c.PubPlatform.MEITUAN||(w.value=0),ve())}function se(){j.value=!1,pe()}l.watch((function(){return M.value}),(function(e){e&&0!==e.length||(console.log("onClear>>>>"),W.value=!1)})),l.watch((function(){return K.value}),(function(){var e;1===(null==(e=K.value)?void 0:e.length)&&(console.log("innerPlatform>>>>WWWWw",K.value[0]),L.value=K.value[0].value)})),l.watch((function(){return X.value}),(function(e,t){var r;if(e!==t){var u=null==(r=re.value)?void 0:r.searchModel;u&&(z.sortType=u.sortType,console.log("重设排序>>>>",z.sortType),X.value?(z.catId=c.ProductsCatType.ALL,z.cat1Ids=u.cat1Ids):(z.catId=u.catId,z.cat1Ids=[]))}})),h((0,u.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:U.startMtTimer();case 3:case"end":return e.stop()}}),e)})))),T((function(){U.endMtTimer()})),l.onMounted((function(){K.value=[]})),y(g((function(){return{name:"search",title:"搜索"}})));var ce=l.computed((function(){return"true"===I.value.sortShowEnable}));function fe(){return ie.apply(this,arguments)}function ie(){return(ie=(0,u.default)(r.default.mark((function e(){var t,u,o,f,i,p;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.value){e.next=2;break}return e.abrupt("return");case 2:return u={platformId:z.platformId},K.value=[],Object.assign(z,n({platformId:c.PubPlatform.MEITUAN,catId:c.ProductsCatType.ALL,cat1Ids:[],sortType:c.MtShopSortType.AUTO},u)),o={keyWords:M.value,catId:c.ProductsCatType.ALL,cat1Ids:[],sortType:c.ProductsSortType.AUTO,searchFlag:!0},f={cityId:b.value,lng:P.value.longitude+"",lat:P.value.latitude+"",pageSize:150,queryKeywords:M.value||void 0,pageIndex:1},null==(t=re.value)||t.reset(),_.value=!0,function(){var e=a.storage.get(s.AppStorageKeys.SearchHistories)||[];e.includes(M.value)||(e.unshift(M.value),a.storage.set(s.AppStorageKeys.SearchHistories,e))}(),e.next=10,Promise.all([q.value&&q.value.loadData(o),D.value&&D.value.loadData(o),x.value&&x.value.loadData(o),N.value&&N.value.loadData(o),R.value&&R.value.loadData(f)]);case 10:W.value=!0,i=[],p=!1,N.value.isNoData||(i.push(V.value[0]),le({value:c.PubPlatform.MT_TakeOut}),p=!0),D.value.isNoData||(i.push(V.value[1]),p||(le({value:c.PubPlatform.MEITUAN}),p=!0)),q.value.isNoData||(i.push(V.value[2]),p||(le({value:c.PubPlatform.ELE}),p=!0)),console.log("filmRef.value.isNoData>>>>",x.value.isNoData),x.value.isNoData||(i.push(V.value[3]),p||(le({value:c.PubPlatform.FILM}),p=!0)),R.value.isNoData||(i.push(V.value[4]),p||(le({value:c.PubPlatform.HOTEL}),p=!0)),console.log("tabOptions>>>",i),K.value=i,_.value=!1,l.index.stopPullDownRefresh();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return de.apply(this,arguments)}function de(){return(de=(0,u.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re.value){e.next=2;break}return e.abrupt("return");case 2:if(ve(),t={keyWords:M.value,catId:z.catId,cat1Ids:z.cat1Ids,sortType:z.sortType},!G.value){e.next=8;break}return e.next=7,N.value.loadData(t);case 7:return e.abrupt("return",void l.index.stopPullDownRefresh());case 8:return X.value?t.catId=c.ProductsCatType.ALL:t.cat1Ids=[],e.next=11,re.value.loadData(t);case 11:l.index.stopPullDownRefresh();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return me.apply(this,arguments)}function me(){return(me=(0,u.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.index.pageScrollTo({scrollTop:0,duration:10});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=l.computed((function(){return 0}));return function(e,t){var r,u;return l.e({a:l.p({name:"search",size:"30",color:"#aeaeae"}),b:l.o(ne),c:l.unref(M),d:l.o((function(e){return l.isRef(M)?M.value=e.detail.value:null})),e:l.o(ne),f:"".concat(l.unref(be),"px"),g:!l.unref(ee)&&!l.unref(_).value},l.unref(ee)||l.unref(_).value?{}:{h:l.f(l.unref(K),(function(e,t,r){return{a:"571be1bd-2-"+r+",571be1bd-0",b:l.p(n({bold:!0,width:28,height:28,space:5,"label-size":18},H(e))),c:e.value,d:F(e)?1:"",e:l.o((function(t){return function(e,t){le({value:e.value})}(e)}),e.value)}})),i:l.unref(w)},{j:!l.unref(ee)&&!l.unref(Z)&&!l.unref(_)&&(null==(r=l.unref(K))?void 0:r.length)>0&&!l.unref($)},l.unref(ee)||l.unref(Z)||l.unref(_)||!((null==(u=l.unref(K))?void 0:u.length)>0)||l.unref($)?{}:l.e({k:!l.unref(G)},l.unref(G)?{}:l.e({l:l.o((function(e){return l.isRef(j)?j.value=e:null})),m:l.p({label:l.unref(B),"no-padding":!0,modelValue:l.unref(j)}),n:l.unref(X)},l.unref(X)?{o:l.o(se),p:l.o((function(e){return l.unref(z).cat1Ids=e})),q:l.p({options:l.unref(Q),dataType:"array",modelValue:l.unref(z).cat1Ids})}:{r:l.o(se),s:l.o((function(e){return l.unref(z).catId=e})),t:l.p({options:l.unref(Q),modelValue:l.unref(z).catId})},{v:l.o((function(e){return l.isRef(j)?j.value=e:null})),w:l.p({"popup-top":100,modelValue:l.unref(j)})}),{x:!l.unref(_)},l.unref(_)?{}:{y:l.f(l.unref(J),(function(e,t,r){return{a:l.t(e.label),b:(l.unref(z).platformId===l.unref(c.PubPlatform).MEITUAN?e.mm===l.unref(z).sortType:e.value===l.unref(z).sortType)?1:"",c:t,d:l.o((function(t){return function(e){console.log("handleOrderClick",e),j.value=!1,z.platformId===c.PubPlatform.MEITUAN?z.sortType=e.mm:z.sortType=e.value,pe()}(e)}),t)}}))}),{z:l.f(l.unref(O),(function(e,t,r){return{a:l.t(e),b:t,c:l.o((function(t){return ae(e)}),t)}})),A:l.unref(ee),B:l.sr(q,"571be1bd-7,571be1bd-0",{k:"takeoutRef"}),C:l.unref(X),D:l.p({platformId:l.unref(c.PubPlatform).ELE,immediate:!1}),E:l.sr(N,"571be1bd-8,571be1bd-0",{k:"mtTakeoutRef"}),F:l.unref(G),G:l.p({platformId:l.unref(c.PubPlatform).MT_TakeOut,immediate:!1}),H:l.sr(D,"571be1bd-9,571be1bd-0",{k:"goodsRef"}),I:l.unref(Y),J:l.p({platformId:l.unref(c.PubPlatform).MEITUAN,immediate:!1}),K:l.sr(x,"571be1bd-10,571be1bd-0",{k:"filmRef"}),L:l.unref(Z),M:l.sr(R,"571be1bd-11,571be1bd-0",{k:"hotelRef"}),N:l.unref($),O:(l.unref(L),l.unref(c.PubPlatform).MEITUAN,"0px"),P:!l.unref(ee)&&!l.unref(_),Q:l.unref(_)},l.unref(_)?{R:l.f(Array(5),(function(e,t,r){return{a:"571be1bd-12-"+r+",571be1bd-0"}})),S:l.p({rows:"4",loading:l.unref(_),avatar:!0,title:!1,avatarSize:"100px",avatarShape:"square"})}:{},{T:l.p({title:"兔喜生活","padding-top":l.unref(te),"on-load":ue})})}}});h.__runtimeHooks=2;var T=l._export_sfc(h,[["__scopeId","data-v-571be1bd"]]);wx.createPage(T);
},{isPage:true,isComponent:true,currentFile:'pages/search2/index.js'});require("pages/search2/index.js");