$gwx_XC_35=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_35 || [];
function gz$gwx_XC_35_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_35_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'height:100%'])
Z([[7],[3,'e']])
Z([3,'__l'])
Z([[7],[3,'d']])
Z([[7],[3,'c']])
Z([[7],[3,'b']])
Z([3,'r'])
Z([3,'privacy'])
Z([3,'efe389d6-0'])
Z(z[1])
Z([3,'privacyRef'])
Z([[7],[3,'f']])
Z([3,'advertise-wrapper'])
Z([[7],[3,'g']])
Z([[7],[3,'k']])
Z([[7],[3,'r']])
Z(z[2])
Z([3,'efe389d6-2'])
Z([[7],[3,'s']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_35_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_35=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_35=true;
var x=['./components/kdcs/adBanner/adBanner.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_35_1()
var t1H=_n('view')
_rz(z,t1H,'style',0,e,s,gg)
var e2H=_v()
_(t1H,e2H)
if(_oz(z,1,e,s,gg)){e2H.wxVkey=1
var o4H=_mz(z,'zec-privacy',['bind:__l',2,'bindalertCancel',1,'bindalertConfirm',2,'bindopen',3,'class',4,'id',5,'uI',6,'uP',7,'uR',8],[],e,s,gg)
_(e2H,o4H)
}
var b3H=_v()
_(t1H,b3H)
if(_oz(z,11,e,s,gg)){b3H.wxVkey=1
var x5H=_n('view')
_rz(z,x5H,'class',12,e,s,gg)
var o6H=_v()
_(x5H,o6H)
if(_oz(z,13,e,s,gg)){o6H.wxVkey=1
}
var f7H=_v()
_(x5H,f7H)
if(_oz(z,14,e,s,gg)){f7H.wxVkey=1
}
o6H.wxXCkey=1
f7H.wxXCkey=1
_(b3H,x5H)
}
else if(_oz(z,15,e,s,gg)){b3H.wxVkey=2
var c8H=_mz(z,'red-banner',['bind:__l',16,'uI',1,'uP',2],[],e,s,gg)
_(b3H,c8H)
}
e2H.wxXCkey=1
e2H.wxXCkey=3
b3H.wxXCkey=1
b3H.wxXCkey=3
_(r,t1H)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_35";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_35();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/kdcs/adBanner/adBanner.wxml'] = [$gwx_XC_35, './components/kdcs/adBanner/adBanner.wxml'];else __wxAppCode__['components/kdcs/adBanner/adBanner.wxml'] = $gwx_XC_35( './components/kdcs/adBanner/adBanner.wxml' );
	;__wxRoute = "components/kdcs/adBanner/adBanner";__wxRouteBegin = true;__wxAppCurrentFile__="components/kdcs/adBanner/adBanner.js";define("components/kdcs/adBanner/adBanner.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/interopRequireDefault"),t=e(require("../../../@babel/runtime/regenerator")),n=e(require("../../../@babel/runtime/helpers/asyncToGenerator")),o=require("../../../common/vendor.js"),r=require("../../../utils/kdcs/getData.js"),a=require("../../../utils/kdcs/ad.js"),i=require("../../../hooks/app/useApp.js");require("../../../hooks/order/useOrder.js"),require("../../../config/options.js"),require("../../../config/theme.js"),require("../../../hooks/products/useProductsSearch.js"),require("../../../consts.js"),require("../../../config/env.js"),require("../../../config/env.ci.js"),require("../../../config/enums.js"),require("../../../config/routes.js"),require("../../../utils/upgrade.js"),require("../../../hooks/app/useLocation.js"),require("../../../hooks/app/useConfig.js"),require("../../../hooks/app/useSubscribeMsg.js"),require("../../../hooks/products/useFilm.js"),require("../../../utils/num-util.js"),require("../../../hooks/app/useAreas.js"),require("../../../hooks/products/useShopCoupons.js"),require("../../../hooks/products/useDefaultRegionInfo.js");var d=getApp(),u=i.useApp().commonConfig,s={components:{RedBanner:function(){return"../../../pages/entry/home/components/red-banner.js"}},data:function(){return{adSource:0,adList:[],takeoutPicShow:!1,coralAdApId:a.CoreAdAppId,coralAdTarget:0,indicatorDots:!0,indicatorColor:"rgba(0,0,0,0.1)",indicatorActivecolor:"rgba(0,0,0,0.2)",coordinateType:"gcj02",latitude:null,longitude:null,interval:3e3,isAdLoaded:!1,show:!1}},props:{placeType:{type:String},showRedPack:{type:Boolean}},mounted:function(){this.loadAdList()},methods:{handleBannerChange:function(e){var t=this.adList[e.detail.current];t&&this.changeAdInterval(t)},handleCoralAdLoad:function(e){console.log("loadCb",e.detail)},handleCoralAdError:function(e){console.log("errorCb",e.detail)},handleItemClick:function(e){var t=this.adList[e.currentTarget.dataset.id];t&&t.jumpAppId&&t.landingPageJumpUrl&&(this.reportBannerClickEvent(t),o.index.navigateToMiniProgram({appId:t.jumpAppId,path:t.landingPageJumpUrl,extraData:{},envVersion:""}))},reportBannerClickEvent:function(e){if(e){var t=this.longitude,n=this.latitude,o=this.coordinateType,a=this.placeType;r.reportAdEvent({groundJump:!0,placeType:a,eventCode:"XCX_BANNER_CLICK",userId:d.globalData.unionId,longitude:t,latitude:n,coordinateType:o,adPlanCode:e.adPlanCode})}},reportBannerShowEvent:function(){if(this.adList){var e=this.longitude,t=this.latitude,n=this.coordinateType,o=this.placeType;r.reportAdEvent({placeType:o,eventCode:"XCX_BANNER_SHOW",userId:d.globalData.unionId,longitude:e,latitude:t,coordinateType:n})}},changeAdInterval:function(e){if(e&&e.carouselInterval){var t=1e3*(e.carouselInterval||3);this.setData({interval:t})}},loadAdList:function(){var e=this;this.getLocation((function(){if(e.reportBannerShowEvent(),u.value.homeLifeViewSort)try{var t=JSON.parse(u.value.homeLifeViewSort);t&&(e.takeoutPicShow=t.expressListCoupon,console.log("takeoutPicShow.value>>>",e.takeoutPicShow))}catch(e){}e.loadAdListFun()}))},loadAdListFun:function(){var e=this,t=e.placeType,n=a.CoralAdTargetMap[t],o="WX_".concat(t,"_BANNER"),i=this.longitude,d=this.latitude,u=this.coordinateType;r.getListAdInfo({eventType:o,coordinateType:u,latitude:d,longitude:i}).then((function(t){e.setData({adSource:t.adSource,adList:t.adList,coralAdTarget:n}),e.changeAdInterval(t.adList[0])})),setTimeout((function(){e.setData({isAdLoaded:!0})}),1e3)},handleEvent:function(){this.loadAdList()},handleEventConfirm:function(){this.$emit("alertConfirmPrivacy"),this.loadAdList()},handleEventCancel:function(){this.$emit("alertCancelPrivacy")},handleOpen:function(){console.log("占位：函数 handleOpen 未声明")},handleOpenPrivacy:function(){this.$emit("openPrivacy"),this.$refs.privacyRef.setData({show:!0})},getLocation:function(e){if(e){var r=this;this.checkPrivacySetting(function(){var a=(0,n.default)(t.default.mark((function n(a){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.needAuthorization){t.next=4;break}r.handleOpenPrivacy(),t.next=7;break;case 4:return t.next=6,new Promise((function(e){o.index.getLocation({type:r.coordinateType,success:function(t){var n=t.latitude?t.latitude:null,o=t.longitude?t.longitude:null;r.setData({latitude:n,longitude:o}),e({latitude:n,longitude:o})},fail:function(t){104!==t.errno?e(t):r.handleOpenPrivacy()}})}));case 6:e();case 7:case"end":return t.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}())}},checkPrivacySetting:function(e){if(e=e||function(){},!o.index.canIUse("getPrivacySetting"))return e({});o.index.getPrivacySetting({success:function(t){e(t)},fail:function(){},complete:function(){}})}},created:function(){}};Array||(o.resolveComponent("zec-privacy")+o.resolveComponent("coral-adv")+o.resolveComponent("red-banner"))(),Math;var c=o._export_sfc(s,[["render",function(e,t,n,r,a,i){return o.e({a:o.sr("privacyRef","efe389d6-0"),b:o.o(i.handleOpen),c:o.o((function(e){return i.handleEventConfirm()})),d:o.o((function(e){return i.handleEventCancel()})),e:o.p({id:"privacy"}),f:a.adList.length>0||1===a.adSource},a.adList.length>0||1===a.adSource?o.e({g:1===a.adSource},1===a.adSource?{h:o.o(i.handleCoralAdLoad),i:o.o(i.handleCoralAdError),j:o.p({appid:a.coralAdApId,target:a.coralAdTarget,type:1,isshow:!0})}:{},{k:1!==a.adSource&&a.adList.length>0},1!==a.adSource&&a.adList.length>0?{l:o.f(a.adList,(function(e,t,n){return{a:e.imageUrl,b:o.o((function(){return i.handleItemClick&&i.handleItemClick.apply(i,arguments)}),t),c:t,d:t}})),m:a.indicatorDots,n:a.indicatorColor,o:a.indicatorActivecolor,p:a.interval,q:o.o((function(){return i.handleBannerChange&&i.handleBannerChange.apply(i,arguments)}))}:{}):a.isAdLoaded&&n.showRedPack?{s:o.p({"takeout-pic-show":a.takeoutPicShow})}:{},{r:a.isAdLoaded&&n.showRedPack})}]]);wx.createComponent(c);
},{isPage:false,isComponent:true,currentFile:'components/kdcs/adBanner/adBanner.js'});require("components/kdcs/adBanner/adBanner.js");