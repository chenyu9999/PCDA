var __wxAppData=__wxAppData||{};var __wxRoute=__wxRoute||"";var __wxRouteBegin=__wxRouteBegin||"";var __wxAppCode__=__wxAppCode__||{};var global=global||{};var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};var __wxAppCurrentFile__=__wxAppCurrentFile__||"";var Component=Component||function(){};var definePlugin=definePlugin||function(){};var requirePlugin=requirePlugin||function(){};var Behavior=Behavior||function(){};var __vd_version_info__=__vd_version_info__||{};var __GWX_GLOBAL__=__GWX_GLOBAL__||{};
	var __wxAppConsole__ = console;definePlugin("plugin://wxf3f436ba9bd4be7b", function(define, require, module, exports, global, wx, App, Page, Component, Behavior, getApp, getCurrentPages, console, requireMiniProgram) {            var __vd_version_info__=__vd_version_info__||{};            if (typeof console === 'undefined') {console=__wxAppConsole__; };			
			/*v0.5vv_20200413_syb_scopedata*/global.__wcc_version__='v0.5vv_20200413_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx_wxf3f436ba9bd4be7b=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx_wxf3f436ba9bd4be7b:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_wxf3f436ba9bd4be7b || [];
function gz$gwx_wxf3f436ba9bd4be7b_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wxf3f436ba9bd4be7b_1)return __WXML_GLOBAL__.ops_cached.$gwx_wxf3f436ba9bd4be7b_1
__WXML_GLOBAL__.ops_cached.$gwx_wxf3f436ba9bd4be7b_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'getcoupon'])
})(__WXML_GLOBAL__.ops_cached.$gwx_wxf3f436ba9bd4be7b_1);return __WXML_GLOBAL__.ops_cached.$gwx_wxf3f436ba9bd4be7b_1
}
__WXML_GLOBAL__.ops_set.$gwx_wxf3f436ba9bd4be7b=z;
__WXML_GLOBAL__.ops_init.$gwx_wxf3f436ba9bd4be7b=true;
var nv_require=function(){var nnm={};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./components/send-coupon/send-coupon.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_wxf3f436ba9bd4be7b_1()
var oB=_n('view')
_rz(z,oB,'bindtap',0,e,s,gg)
var xC=_n('slot')
_(oB,xC)
_(r,oB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}

				global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/components/send-coupon/send-coupon.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/components/send-coupon/send-coupon.wxml'] = [$gwx_wxf3f436ba9bd4be7b, './components/send-coupon/send-coupon.wxml' ];else global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/components/send-coupon/send-coupon.wxml'] = $gwx_wxf3f436ba9bd4be7b( './components/send-coupon/send-coupon.wxml' );
		global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/plugin.json'] = {"publicComponents":{"send-coupon":"components/send-coupon/send-coupon"},"main":"index.js"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/plugin.wxml'] = [$gwx_wxf3f436ba9bd4be7b, './plugin.wxml' ];else global.__wxAppCode__['plugin-private://wxf3f436ba9bd4be7b/plugin.wxml'] = $gwx_wxf3f436ba9bd4be7b( './plugin.wxml' );
	
				define("@babel/runtime/helpers/classCallCheck.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck; 
 			}); 
		define("@babel/runtime/helpers/interopRequireDefault.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

module.exports = _interopRequireDefault; 
 			}); 
		define("index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict"; 
 			}); 
		define("util/config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.version=exports.errcodeMap=void 0;exports.errcodeMap={272758294:"PARAM_ERROR",272758283:"PARAM_ERROR",272758292:"USER_NOT_EXISTS",272758293:"SIGN_ERROR",272758295:"SYSTEMERROR",0:"OK","-1":"USER_GET_FAILED",268435461:"PARAM_ERROR",268435472:"FREQUENCY_LIMITED"};exports.version="1.1.4"; 
 			}); 
		define("util/log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=arguments,t=wx.getRealtimeLogManager?wx.getRealtimeLogManager():null;module.exports={debug:function(){t&&t.debug.apply(t,e)},info:function(){t&&t.info.apply(t,e)},warn:function(){t&&t.warn.apply(t,e)},error:function(){t&&t.error.apply(t,e)},setFilterMsg:function(e){t&&t.setFilterMsg&&"string"==typeof e&&t.setFilterMsg(e)},addFilterMsg:function(e){t&&t.addFilterMsg&&"string"==typeof e&&t.addFilterMsg(e)}}; 
 			}); 
		define("util/tool.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeVersion=exports.promisify=void 0;exports.promisify=function(r){if(r)return function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return new Promise(function(n,o){r.apply(void 0,[Object.assign({},e,{success:n,fail:o})].concat(t))})}};exports.changeVersion=function(e){console.log(e);try{for(var n=e.split("."),t="0x",o=0;o<n.length;o++){var i=n[o].toString(16);t+=r(i,2,0)}return parseInt(t,16)}catch(r){return 0}};var r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";if(!e)throw new Error("请输入需要填充到的长度");var t=r.length;if(t>=e)return r;for(var o=e-t,i=0;i<o;i++){for(var a=0;a<n.length&&r.length!==e;a++)r="".concat(n[a]).concat(r);if(r.length===e)break}return r}; 
 			}); 
		global.__wxAppCurrentFile__ = 'plugin-private://wxf3f436ba9bd4be7b/components/send-coupon/send-coupon.js';global.__wxRouteBegin = true; 	define("components/send-coupon/send-coupon.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../@babel/runtime/helpers/classCallCheck")),t=require("../../util/tool"),n=require("../../util/config"),s=function e(t,n){return new Promise(function(s,o){return t().then(s).catch(function(a){return n-1>0?e(t,n-1).then(s).catch(o):o(a)})})},o=function t(s){var o=s.errcode,a=void 0===o?"SYSTEMERROR":o,r=s.msg,i=void 0===r?"系统繁忙，请稍后重试":r,c=s.send_coupon_result,u=void 0===c?[]:c;(0,e.default)(this,t),this.errcode=n.errcodeMap[a]||"SYSTEMERROR",this.msg=i,this.send_coupon_result=u};Component({options:{multipleSlots:!0},properties:{voucher:String,send_coupon_params:Array,sign:String,send_coupon_merchant:String},data:{pass_ticket:"",version:"",isLoading:!1},methods:{getPasskey:function(){var e=this;return new Promise(function(t,n){e.data.pass_ticket?t(e.data.pass_ticket):wx.operateWXData({apiName:"getGetPasskey",success:function(e){console.log(e);try{var s=JSON.parse(!!e&&(e.rawData?e.rawData:!!e.respData&&e.respData.data));if(s&&s.pass_ticket){var o=encodeURIComponent(s.pass_ticket);wx.reportAnalytics&&wx.reportAnalytics("get_passkey_suc",{}),t&&t(o)}else n({errcode:-1,msg:"解析登录态失败",realMsg:"pass_ticket为空"})}catch(e){n({errcode:-1,msg:"解析登录态失败",realMsg:e})}},fail:function(e){n({errcode:-1,msg:"解析登录态失败",realMsg:e})}})})},getCouponRequest:function(e,t){return new Promise(function(n,s){wx.request({url:"https://action.weixin.qq.com/busifavor/sendcoupon?pass_ticket="+e,method:"POST",data:t,success:function(e){e&&e.data&&0===e.data.errcode?(console.log("getCouponRequestsucc",e),n(e)):(console.log("getCouponRequestfail",e),s(e.data))},fail:function(e){console.error("requestError",err),s(e.data)}})})},getcoupon:function(){var e=this;if(!this.data.isLoading){console.log(this.data.isLoading),this.data.isLoading=!0;var n=this.checkParam();if("OK"!==n.errcode)return void this.triggerEvent("customevent",n);var a=this.data.version||this.getVersion(),r={voucher:this.data.voucher,send_coupon_params:this.data.send_coupon_params,sign:this.data.sign,send_coupon_merchant:this.data.send_coupon_merchant,version:(0,t.changeVersion)(a)};s(this.getPasskey.bind(this),3).then(function(t){e.data.pass_ticket=t,s(e.getCouponRequest.bind(e,t,r),3).then(function(t){console.log("getCouponRequest",t),e.triggerEvent("customevent",new o({errcode:0,msg:"发券请求发送成功，具体发券结果请查看send_coupon_result参数",send_coupon_result:t.data.data.send_coupon_result}));var n=!0;if(t.data.data.send_coupon_result)for(var s=0;s<t.data.data.send_coupon_result.length;s++){"SUCCESS"!=t.data.data.send_coupon_result[s].code&&(n=!1)}n&&wx.showToast({title:"已加入卡包",icon:"success",duration:1e3,mask:!0,success:function(e){}}),e.data.isLoading=!1})}).catch(function(t){console.log("getCouponRequest",t),wx.reportAnalytics&&wx.reportAnalytics("get_passkey_fail",{fail_msg:JSON.stringify(t.realMsg),merchant:e.data.send_coupon_merchant}),e.triggerEvent("customevent",new o(t)),e.data.isLoading=!1})}},getVersion:function(){var e=wx.getAccountInfoSync();return e&&e.plugin?(this.data.version=e.plugin.version||n.version,e.plugin.version||n.version):(this.data.version=n.version,n.version)},checkParam:function(){var e=this.data,t=(e.voucher,e.send_coupon_params),n=void 0===t?[]:t,s=e.sign,a=void 0===s?"":s,r=e.send_coupon_merchant,i=void 0===r?"":r;return n&&0!==n.length?new o(a?i?{errcode:0,msg:""}:{errcode:"272758294",msg:"缺少必传参数send-coupon-merchant"}:{errcode:"272758294",msg:"缺少必传参数sign"}):new o({errcode:"272758294",msg:"缺少必传参数send-coupon-params"})}}}); 
 			}); 	require("components/send-coupon/send-coupon.js");
 	
				global.publishDomainComponents({
			"plugin://wxf3f436ba9bd4be7b/send-coupon":"plugin-private://wxf3f436ba9bd4be7b/components/send-coupon/send-coupon"
	})
				module.exports = function() {
		return require('index.js')
	}
			});
	requirePlugin("plugin://wxf3f436ba9bd4be7b");
/*v0.5vv_20211229_syb_scopedata*/global.__wcc_version__='v0.5vv_20211229_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-exchange'])
Z([[7],[3,'isShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
function gz$gwx_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_2)return __WXML_GLOBAL__.ops_cached.$gwx_2
__WXML_GLOBAL__.ops_cached.$gwx_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-integral-price'])
Z([a,[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-integral-price']]],[3,' '],[[2,'?:'],[[2,'==='],[[7],[3,'size']],[1,'large']],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-integral-price--large']]],[[2,'?:'],[[2,'==='],[[7],[3,'size']],[1,'small']],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-integral-price--small']]],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-integral-price--middle']]]]]])
Z([3,'cosuge_2'])
Z([a,[3,'color: '],[[7],[3,'color']]])
Z([[2,'||'],[[2,'=='],[[7],[3,'priceType']],[1,2]],[[2,'=='],[[7],[3,'priceType']],[1,3]]])
Z([[2,'==='],[[7],[3,'size']],[1,'small']])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-integral-price__price']]])
Z([3,'cosuge_5'])
Z([[6],[[7],[3,'integralPrice']],[3,'dp']])
Z([[6],[[7],[3,'integralPrice']],[3,'unit']])
Z(z[6])
Z([3,'cosuge_b'])
Z(z[8])
Z(z[9])
Z([[2,'||'],[[2,'=='],[[7],[3,'priceType']],[1,1]],[[2,'=='],[[7],[3,'priceType']],[1,3]]])
Z([[2,'=='],[[7],[3,'priceType']],[1,3]])
Z(z[3][2])
Z([a,[3,'margin-right: 4rpx;top: '],[[2,'?:'],[[2,'=='],[[7],[3,'size']],[1,'small']],[1,'2rpx'],[1,'4rpx']],[3,';margin-left:'],[[2,'?:'],[[2,'||'],[[2,'==='],[[7],[3,'size']],[1,'small']],[[2,'>'],[[6],[[7],[3,'integralUnit']],[3,'length']],[1,3]]],[1,0],[1,4]],[3,'rpx;display:inline-block;line-height: '],[[2,'?:'],[[2,'==='],[[7],[3,'size']],[1,'small']],[1,'26rpx'],[1,'36rpx']]])
Z([3,'cosuge_j'])
Z([3,'stepper-plus'])
Z([3,'16'])
Z([[7],[3,'showIntegralMarketingPrice']])
})(__WXML_GLOBAL__.ops_cached.$gwx_2);return __WXML_GLOBAL__.ops_cached.$gwx_2
}
function gz$gwx_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_3)return __WXML_GLOBAL__.ops_cached.$gwx_3
__WXML_GLOBAL__.ops_cached.$gwx_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'marketing-data'])
Z([[2,'||'],[[7],[3,'isTagShow']],[[7],[3,'isSaleNumShow']]])
Z([a,[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-marketing']]],[3,' ecdc-market-'],[[7],[3,'listCls']]])
Z([3,'cosuea_2'])
Z([[7],[3,'isTagShow']])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'tagLists']])
Z(z[5])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-marketing-tag__item']]])
Z([[7],[3,'color']])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'tag']]])
Z([a,[3,'--tag-radius: '],[[6],[[7],[3,'themeRadiusData']],[3,'borderRadiusVal']],[3,';']])
Z([a,[3,'cosuea_'],[[7],[3,'index']],[3,'_5']])
Z([[2,'?:'],[[7],[3,'icon']],[[7],[3,'icon']],[1,'']])
Z([3,'small'])
Z([[2,'?:'],[[7],[3,'TagFace']],[[7],[3,'TagFace']],[1,'outlined']])
Z([[7],[3,'isSaleNumShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_3);return __WXML_GLOBAL__.ops_cached.$gwx_3
}
function gz$gwx_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_4)return __WXML_GLOBAL__.ops_cached.$gwx_4
__WXML_GLOBAL__.ops_cached.$gwx_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-price'])
Z([a,[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price']]],[3,' '],[[2,'?:'],[[2,'&&'],[[7],[3,'hasHistoryPriceText']],[[2,'!=='],[[7],[3,'align']],[1,'center']]],[1,'price-has-history-price-text '],[1,'']],[3,' '],[[2,'?:'],[[2,'!'],[[7],[3,'isShowPriceshorthand']]],[1,'no-shorthand'],[1,'']],[3,' '],[[2,'?:'],[[2,'==='],[[7],[3,'size']],[1,'large']],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price--large']]],[[2,'?:'],[[2,'==='],[[7],[3,'size']],[1,'small']],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price--small']]],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price--middle']]]]]])
Z([3,'cosu-e_2'])
Z([a,[3,'--tag-radius: '],[[6],[[7],[3,'themeTagRadius']],[3,'borderRadiusVal']],[3,'; --price-color: '],[[7],[3,'color']],[3,';']])
Z([[2,'!'],[[2,'!'],[[6],[[6],[[7],[3,'expectPrice']],[3,'price']],[3,'ip']]]])
Z([[6],[[6],[[7],[3,'expectPrice']],[3,'price']],[3,'unit']])
Z([[6],[[6],[[7],[3,'expectPrice']],[3,'price']],[3,'ip']])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price__salesPrice']]])
Z([3,'cosu-e_d'])
Z([a,[3,'color: '],z[3][4]])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-price__shipPrice']]])
Z([3,'cosu-e_e'])
Z([[6],[[7],[3,'price']],[3,'dp']])
Z([[6],[[7],[3,'price']],[3,'unit']])
Z([[2,'&&'],[[7],[3,'showMarketingPrice']],[[2,'!'],[[7],[3,'recommendMemberPrice']]]])
Z([[2,'&&'],[[7],[3,'hasHistoryPriceText']],[[2,'!=='],[[7],[3,'align']],[1,'center']]])
Z([[2,'&&'],[[2,'!'],[[2,'!'],[[7],[3,'recommendMemberPrice']]]],[[2,'!'],[[6],[[6],[[7],[3,'expectPrice']],[3,'price']],[3,'ip']]]])
Z([[7],[3,'isMultiSku']])
Z([[2,'&&'],[[7],[3,'hasHistoryPriceText']],[[2,'=='],[[7],[3,'align']],[1,'center']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_4);return __WXML_GLOBAL__.ops_cached.$gwx_4
}
function gz$gwx_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_5)return __WXML_GLOBAL__.ops_cached.$gwx_5
__WXML_GLOBAL__.ops_cached.$gwx_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-progress'])
Z([[7],[3,'isShow']])
Z([[2,'||'],[[7],[3,'color']],[[7],[3,'mainColor']]])
Z([3,'cosurs_4'])
Z([[2,'||'],[[7],[3,'trackColor']],[1,'rgba(245, 245, 245, 1)']])
Z([[2,'||'],[[7],[3,'strokeWidth']],[1,'8']])
Z([[2,'||'],[[7],[3,'percentage']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_5);return __WXML_GLOBAL__.ops_cached.$gwx_5
}
function gz$gwx_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_6)return __WXML_GLOBAL__.ops_cached.$gwx_6
__WXML_GLOBAL__.ops_cached.$gwx_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-sales'])
Z([[2,'&&'],[[7],[3,'showSalesTemp']],[[2,'!'],[[7],[3,'isFilterSales']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_6);return __WXML_GLOBAL__.ops_cached.$gwx_6
}
function gz$gwx_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx_7)return __WXML_GLOBAL__.ops_cached.$gwx_7
__WXML_GLOBAL__.ops_cached.$gwx_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-sub-title'])
})(__WXML_GLOBAL__.ops_cached.$gwx_7);return __WXML_GLOBAL__.ops_cached.$gwx_7
}
function gz$gwx_8(){
if( __WXML_GLOBAL__.ops_cached.$gwx_8)return __WXML_GLOBAL__.ops_cached.$gwx_8
__WXML_GLOBAL__.ops_cached.$gwx_8=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-tag'])
Z([[7],[3,'showTagTemp']])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-tag-list']]])
Z([3,'cosutg_3'])
Z([[7],[3,'showMemberTag']])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-tag-list--item']]])
Z([3,'#5A4D54'])
Z([[12],[[7],[3,'getPrefixCls']],[[5],[1,'tag']]])
Z([a,[3,'background: #4A4A58; border-radius: '],[[6],[[7],[3,'themeRadiusData']],[3,'borderRadiusVal']],[3,';']])
Z([3,'cosutg_5'])
Z([3,'small'])
Z([3,'emphasis'])
Z([3,'#FFD19C'])
Z([[7],[3,'vipStyle']])
Z([3,'cosutg_6'])
Z([3,'vip'])
Z([3,'16'])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'tagList']])
Z(z[17])
Z([[6],[[7],[3,'item']],[3,'text']])
Z(z[5])
Z([[7],[3,'color']])
Z(z[7])
Z([a,[3,'--tag-radius: '],z[8][2],z[8][3]])
Z([a,[3,'cosutg_'],[[7],[3,'index']],[3,'_9']])
Z(z[10])
Z([3,'outlined'])
})(__WXML_GLOBAL__.ops_cached.$gwx_8);return __WXML_GLOBAL__.ops_cached.$gwx_8
}
function gz$gwx_9(){
if( __WXML_GLOBAL__.ops_cached.$gwx_9)return __WXML_GLOBAL__.ops_cached.$gwx_9
__WXML_GLOBAL__.ops_cached.$gwx_9=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'unit-title'])
Z([a,[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-title']]],[3,' '],[[2,'?:'],[[2,'==='],[[7],[3,'line']],[1,1]],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-title--line-1']]],[[12],[[7],[3,'getPrefixCls']],[[5],[1,'good-title--line-2']]]]])
Z([3,'cosu-e_2'])
Z([[2,'>'],[[6],[[7],[3,'text']],[3,'length']],[1,0]])
Z([[2,'=='],[[7],[3,'drugGoodsType']],[1,1]])
Z(z[4])
})(__WXML_GLOBAL__.ops_cached.$gwx_9);return __WXML_GLOBAL__.ops_cached.$gwx_9
}
function gz$gwx_10(){
if( __WXML_GLOBAL__.ops_cached.$gwx_10)return __WXML_GLOBAL__.ops_cached.$gwx_10
__WXML_GLOBAL__.ops_cached.$gwx_10=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'load-more'])
Z([[7],[3,'isLoadMore']])
Z([[7],[3,'hasNextPage']])
Z([a,[3,'loadMore-js ecdc-de-infinite-scroll--'],[[12],[[6],[[7],[3,'map']],[3,'style']],[[5],[[7],[3,'styleGroup']]]]])
Z([3,'wotl-e_3'])
Z([[2,'&&'],[[7],[3,'isManualLoadMore']],[[7],[3,'showLoadMoreTip']]])
Z([[2,'!'],[[7],[3,'isAddManualLoadMore']]])
Z([3,'onTapLoadMore'])
Z([3,'ecdc-de-infinite-scroll__loading-text ecde-de-loadmore-manual ecde-de-loadmore-manual-style'])
Z([3,'wotl-e_5'])
Z([3,'wotl-e_6'])
Z([3,'arrow-down'])
Z([3,'28rpx'])
Z([3,'loading'])
Z([3,'wotl-e_8'])
Z([1,24])
Z(z[13])
Z([3,'wotl-e_c'])
Z(z[15])
})(__WXML_GLOBAL__.ops_cached.$gwx_10);return __WXML_GLOBAL__.ops_cached.$gwx_10
}
function gz$gwx_11(){
if( __WXML_GLOBAL__.ops_cached.$gwx_11)return __WXML_GLOBAL__.ops_cached.$gwx_11
__WXML_GLOBAL__.ops_cached.$gwx_11=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'more'])
Z([[2,'&&'],[[7],[3,'slotData']],[[6],[[7],[3,'slotData']],[3,'text']]])
Z([[7],[3,'isSlideRight']])
Z([3,'slotEventHandle'])
Z([3,'ecdc-slide-more ecdc-slide-more-right'])
Z([3,'wotmoe_3'])
Z([a,[[6],[[7],[3,'moreBlockStyle']],[3,'borderRadius']],[3,';'],[[6],[[7],[3,'moreBlockStyle']],[3,'height']]])
Z([[2,'!'],[[7],[3,'isSlideRight']]])
Z([3,'wotmoe_6'])
Z([3,'arrow-right'])
Z([3,'24'])
Z(z[3])
Z([3,'ecdc-more'])
Z([3,'wotmoe_7'])
Z([3,'wotmoe_9'])
Z(z[9])
Z(z[10])
})(__WXML_GLOBAL__.ops_cached.$gwx_11);return __WXML_GLOBAL__.ops_cached.$gwx_11
}
function gz$gwx_12(){
if( __WXML_GLOBAL__.ops_cached.$gwx_12)return __WXML_GLOBAL__.ops_cached.$gwx_12
__WXML_GLOBAL__.ops_cached.$gwx_12=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'app'])
Z([a,[[2,'?:'],[[2,'==='],[[7],[3,'mode']],[1,3]],[1,''],[1,'area-box']],[3,' '],[[2,'?:'],[[2,'==='],[[7],[3,'mode']],[1,1]],[1,'area-border'],[1,'']],[3,' radius-'],[[7],[3,'bgRadius']]])
Z([3,'tpsapp_4'])
Z([a,[3,'background-color: '],[[2,'?:'],[[2,'&&'],[[2,'!=='],[[7],[3,'mode']],[1,3]],[[7],[3,'bgColor']]],[[7],[3,'bgColor']],[1,'']],[3,';']])
Z([[7],[3,'list']])
Z([3,'id'])
Z([3,'tapItem'])
Z([a,[3,'nav-item '],[[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[7],[3,'item']],[3,'id']]],[1,'active'],[1,'']],[3,' size-'],[[6],[[7],[3,'item']],[3,'iconSize']],z[1][2],[[2,'?:'],[[6],[[7],[3,'item']],[3,'isCentreIcon']],[1,'is-center'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'customerServiceStatus']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'tpsapp_6'])
Z([a,[3,'width:'],[[6],[[7],[3,'itemWidth']],[[6],[[7],[3,'item']],[3,'id']]],[3,'%;color:'],[[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[7],[3,'item']],[3,'id']]],[[6],[[7],[3,'item']],[3,'activeColor']],[[6],[[7],[3,'item']],[3,'color']]],z[3][3]])
Z([[9],[[9],[[9],[[8],'item',[[7],[3,'item']]],[[8],'active',[[7],[3,'active']]]],[[8],'innerType',[[7],[3,'innerType']]]],[[8],'imConfig',[[7],[3,'imConfig']]]])
Z([3,'icon'])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'text'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'customerServiceStatus']],[1,'customer']])
Z([3,'imCallback'])
Z([3,'imEntryTap'])
Z([[7],[3,'imConfig']])
Z(z[8])
Z(z[9])
Z([[7],[3,'index']])
Z([3,'im-entry-button'])
Z([[7],[3,'imEntryStyle']])
Z([a,[3,'tpsapp_'],z[22],[3,'_a']])
Z([[7],[3,'safeArea']])
})(__WXML_GLOBAL__.ops_cached.$gwx_12);return __WXML_GLOBAL__.ops_cached.$gwx_12
}
function gz$gwx_13(){
if( __WXML_GLOBAL__.ops_cached.$gwx_13)return __WXML_GLOBAL__.ops_cached.$gwx_13
__WXML_GLOBAL__.ops_cached.$gwx_13=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'collapse'])
Z([a,[3,'wmsdk-navmenu-container is-collapse mode-'],[[7],[3,'mode']],[3,' '],[[2,'?:'],[[7],[3,'isOpen']],[1,'is-open'],[1,'']]])
Z([3,'tpscle_4'])
Z([[7],[3,'isOpen']])
Z([[7],[3,'list']])
Z([3,'id'])
Z([3,'tapItem'])
Z([3,'item-body'])
Z([[6],[[7],[3,'item']],[3,'customerServiceStatus']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([a,[3,'tpscle_'],[[7],[3,'index']],[3,'_9']])
Z([[2,'?:'],[[7],[3,'isOpen']],[[6],[[7],[3,'item']],[3,'mpOpenedBodyCssStyle']],[[6],[[7],[3,'item']],[3,'mpBodyCssStyle']]])
Z([[9],[[8],'item',[[7],[3,'item']]],[[8],'active',[[7],[3,'active']]]])
Z([3,'icon'])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'text'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'customerServiceStatus']],[1,'customer']])
Z([3,'imCallback'])
Z([3,'imEntryTap'])
Z([[7],[3,'imConfig']])
Z(z[8])
Z(z[9])
Z(z[10][2])
Z([3,'im-entry-button'])
Z([[7],[3,'imEntryStyle']])
Z([a,z[10][1],z[10][2],[3,'_d']])
})(__WXML_GLOBAL__.ops_cached.$gwx_13);return __WXML_GLOBAL__.ops_cached.$gwx_13
}
function gz$gwx_14(){
if( __WXML_GLOBAL__.ops_cached.$gwx_14)return __WXML_GLOBAL__.ops_cached.$gwx_14
__WXML_GLOBAL__.ops_cached.$gwx_14=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'icon'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'badgeType']],[1,'text']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'iconType']],[1,'iconfont']])
Z([3,'tpsicn_4'])
Z([[6],[[7],[3,'item']],[3,'iconStyleType']])
Z([[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[7],[3,'item']],[3,'id']]],[[6],[[7],[3,'item']],[3,'activeIcon']],[[6],[[7],[3,'item']],[3,'icon']]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'iconType']],[1,'img']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'innerType']],[1,1]],[[2,'==='],[[6],[[7],[3,'item']],[3,'customerServiceStatus']],[1,'customer']]])
Z([3,'imEntryTap'])
Z([[7],[3,'imConfig']])
Z([[6],[[7],[3,'item']],[3,'customerServiceStatus']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'im-entry-button'])
Z([3,'tpsicn_7'])
})(__WXML_GLOBAL__.ops_cached.$gwx_14);return __WXML_GLOBAL__.ops_cached.$gwx_14
}
function gz$gwx_15(){
if( __WXML_GLOBAL__.ops_cached.$gwx_15)return __WXML_GLOBAL__.ops_cached.$gwx_15
__WXML_GLOBAL__.ops_cached.$gwx_15=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'submenu'])
Z([[2,'&&'],[[7],[3,'list']],[[6],[[7],[3,'list']],[3,'length']]])
Z([3,'area-box area-border'])
Z([3,'tpssmu_4'])
Z([3,'wmsdk-navmenu-container is-submenu'])
Z([3,'tpssmu_5'])
Z([3,'tapItem'])
Z([3,'nav-home'])
Z([3,'0'])
Z([3,'tpssmu_6'])
Z([a,[3,'color:'],[[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'id']]],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'activeColor']],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'color']]],[3,';']])
Z([3,'tpssmu_9'])
Z([[6],[[6],[[7],[3,'list']],[1,0]],[3,'iconStyleType']])
Z([[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'id']]],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'activeIcon']],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'icon']]])
Z([3,'navItem'])
Z([[7],[3,'list']])
Z([3,'id'])
Z([[2,'!'],[[7],[3,'index']]])
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'navItem']],[3,'children']]],[[2,'!'],[[6],[[6],[[7],[3,'navItem']],[3,'children']],[3,'length']]]])
Z(z[6])
Z([3,'main-menu'])
Z([[6],[[7],[3,'navItem']],[3,'customerServiceStatus']])
Z([[6],[[7],[3,'navItem']],[3,'id']])
Z([a,[3,'tpssmu_'],[[7],[3,'index']],[3,'_d']])
Z([a,z[10][1],[[2,'?:'],[[2,'==='],[[7],[3,'active']],[[6],[[7],[3,'navItem']],[3,'id']]],[[6],[[7],[3,'navItem']],[3,'activeColor']],[[6],[[7],[3,'navItem']],[3,'color']]],[3,'; width:'],[[6],[[7],[3,'itemWidth']],[[6],[[7],[3,'navItem']],[3,'id']]],[3,'%;']])
Z(z[16])
Z([[2,'==='],[[6],[[7],[3,'navItem']],[3,'badgeType']],[1,'text']])
Z([[2,'==='],[[6],[[7],[3,'navItem']],[3,'customerServiceStatus']],[1,'customer']])
Z([3,'imCallback'])
Z([3,'imEntryTap'])
Z([[7],[3,'imConfig']])
Z(z[21])
Z(z[22])
Z([[2,'+'],[[7],[3,'index']],[1,1]])
Z([3,'im-entry-button'])
Z([[7],[3,'imEntryStyle']])
Z([a,z[23][1],z[23][2],[3,'_h']])
Z([3,'#FFFFFF'])
Z([3,'togglePopover'])
Z([3,'#F2F2F2'])
Z([3,'main-menu main-menu-popover'])
Z([3,'width:100%;max-width:100%;'])
Z(z[22])
Z([a,z[23][1],z[23][2],[3,'_i']])
Z([[6],[[7],[3,'popoverVisible']],[[6],[[7],[3,'navItem']],[3,'id']]])
Z([3,'top'])
Z([3,'left:8rpx;right:0;transform:none;'])
Z([a,[3,'width:'],z[24][4],z[24][5]])
Z([3,'width:100%;max-width:100%;height:100rpx;display:flex;align-items: center;justify-content: center;font-size:28rpx;'])
Z(z[26])
Z([a,[3,'sub-menus '],[[2,'?:'],[[6],[[7],[3,'popoverVisible']],[[6],[[7],[3,'navItem']],[3,'id']]],[1,'is-valid'],[1,'']]])
Z([a,z[23][1],z[23][2],[3,'_n']])
Z([3,'popover'])
Z([3,'childIndex'])
Z([3,'child'])
Z([[6],[[7],[3,'navItem']],[3,'children']])
Z(z[16])
Z(z[6])
Z([a,[3,'sub-menu '],[[2,'?:'],[[2,'==='],[[7],[3,'childIndex']],[1,0]],[1,'first-child'],[[2,'?:'],[[2,'==='],[[7],[3,'childIndex']],[[2,'-'],[[6],[[6],[[7],[3,'navItem']],[3,'children']],[3,'length']],[1,1]]],[1,'last-child'],[1,'']]]])
Z([[6],[[7],[3,'child']],[3,'customerServiceStatus']])
Z([[6],[[7],[3,'child']],[3,'id']])
Z(z[22])
Z([a,z[23][1],z[23][2],[3,'_o']])
Z([a,z[10][1],[[2,'?:'],[[2,'==='],[[7],[3,'activeSub']],[[6],[[7],[3,'child']],[3,'id']]],[[6],[[7],[3,'child']],[3,'activeColor']],[[6],[[7],[3,'child']],[3,'color']]]])
Z([[2,'==='],[[6],[[7],[3,'child']],[3,'badgeType']],[1,'text']])
Z([[2,'==='],[[6],[[7],[3,'child']],[3,'customerServiceStatus']],[1,'customer']])
Z(z[28])
Z(z[29])
Z(z[30])
Z(z[59])
Z(z[60])
Z([[7],[3,'childIndex']])
Z(z[22])
Z(z[33])
Z(z[34])
Z(z[35])
Z([a,z[23][1],z[23][2],[3,'_'],z[71],[3,'_s']])
Z([[7],[3,'safeArea']])
})(__WXML_GLOBAL__.ops_cached.$gwx_15);return __WXML_GLOBAL__.ops_cached.$gwx_15
}
function gz$gwx_16(){
if( __WXML_GLOBAL__.ops_cached.$gwx_16)return __WXML_GLOBAL__.ops_cached.$gwx_16
__WXML_GLOBAL__.ops_cached.$gwx_16=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'text'])
Z([[6],[[7],[3,'item']],[3,'text']])
})(__WXML_GLOBAL__.ops_cached.$gwx_16);return __WXML_GLOBAL__.ops_cached.$gwx_16
}
function gz$gwx_17(){
if( __WXML_GLOBAL__.ops_cached.$gwx_17)return __WXML_GLOBAL__.ops_cached.$gwx_17
__WXML_GLOBAL__.ops_cached.$gwx_17=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_17);return __WXML_GLOBAL__.ops_cached.$gwx_17
}
function gz$gwx_18(){
if( __WXML_GLOBAL__.ops_cached.$gwx_18)return __WXML_GLOBAL__.ops_cached.$gwx_18
__WXML_GLOBAL__.ops_cached.$gwx_18=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[7],[3,'pagePath']])
Z([[7],[3,'enablePullDownRefresh']])
Z([[4],[[5],[[8],'key',[[7],[3,'version']]]]])
Z([3,'key'])
Z([[7],[3,'enableRender']])
Z([3,'onPageAttached'])
Z(z[1])
Z([[7],[3,'tabbarState']])
Z([[6],[[7],[3,'_t_']],[3,'onPageScroll']])
Z([[6],[[7],[3,'_t_']],[3,'onScrollToLower']])
Z([1,false])
Z([1,true])
Z(z[12])
Z([[2,'?:'],[[2,'=='],[[6],[[7],[3,'pageScrollParams']],[3,'scrollTop']],[1,null]],[1,undefined],[[6],[[7],[3,'pageScrollParams']],[3,'scrollTop']]])
Z(z[12])
Z([3,'height: 100vh'])
Z([3,'min-height: calc(100% + 1px)'])
Z(z[3])
Z(z[4])
Z(z[5])
Z(z[6])
Z(z[1])
Z(z[8])
})(__WXML_GLOBAL__.ops_cached.$gwx_18);return __WXML_GLOBAL__.ops_cached.$gwx_18
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"p_./@titan/config.wxs":np_0,"p_./@titan/cs/pd/tools.wxs":np_1,"p_./@titan/utils.wxs":np_2,"p_./cms/RAW/utils/picFilter.wxs":np_3,"p_./cms_design/RAW/components/design-components/index_$1.wxs":np_4,"p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs":np_5,"p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/sliderStyle.wxs":np_6,"p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs":np_7,"p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs":np_8,"p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.wxs":np_9,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$1.wxs":np_10,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$2.wxs":np_11,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index_$1.wxs":np_12,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index_$1.wxs":np_13,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs":np_14,"p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs":np_15,"p_./ec/RAW/wxs/picFilter.wxs":np_16,"p_./titian-mp/RAW/button/index.wxs":np_17,"p_./titian-mp/RAW/cell/index.wxs":np_18,"p_./titian-mp/RAW/checkbox/index.wxs":np_19,"p_./titian-mp/RAW/common/utils/wxs/borderRadius.wxs":np_20,"p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs":np_21,"p_./titian-mp/RAW/common/utils/wxs/index.wxs":np_22,"p_./titian-mp/RAW/common/utils/wxs/namespace.wxs":np_23,"p_./titian-mp/RAW/common/utils/wxs/suffix.wxs":np_24,"p_./titian-mp/RAW/common/utils/wxs/wxUtils.wxs":np_25,"p_./titian-mp/RAW/divider/index.wxs":np_26,"p_./titian-mp/RAW/icon/index.wxs":np_27,"p_./titian-mp/RAW/image/index.wxs":np_28,"p_./titian-mp/RAW/input-number/index.wxs":np_29,"p_./titian-mp/RAW/loading/index.wxs":np_30,"p_./titian-mp/RAW/popup-title-bar/index.wxs":np_31,"p_./titian-mp/RAW/popup/index.wxs":np_32,"p_./titian-mp/RAW/radio/index.wxs":np_33,"p_./titian-mp/RAW/sticky/index.wxs":np_34,"p_./titian-mp/RAW/tabs/index.wxs":np_35,"p_./titian-mp/RAW/transition/index.wxs":np_36,};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./@titan/config.wxs'] = nv_require("p_./@titan/config.wxs");
function np_0(){var nv_module={nv_exports:{}};nv_module.nv_exports = [[0,"rprm",["heatmap",""],0],[0,"cms",["auth","","new","","transform",""],0],[0,"ec",["goods_detail","/pages/goods/detail","order_detail",""],0],[1,"cms_debug",["nothing","","version","","open_api","","api_detail","","door","","trace","","check-location",""],0],[1,"liveChennels",["share","","promotion","","promotionStoreList","","promotionResult",""],0],[1,"cms_vidsearchlist",["index",""],0],[1,"zhan",["home",""],0],[1,"ec_goodsAbout",["commentList","","commentCreate","","commentSuccess","","commentMine","","poster","","noDetail","","join",""],0],[1,"ec_scan_shopping",["entry_index","","scan_cart_order","","outlet_code",""],0],[1,"ec_communityGroupon",["customer__grouponList","","customer__grouponDetail","","customer__grouponShop","","customer__twitterAllGroupon","","customer__grouponDoor","","twitter__logisticsDetails","","twitter__mainGrouponPromotion","","twitter__grouponList","","twitter__grouponDetail","","twitter__grouponOrder","","twitter__searchOrder","","twitter__verifyOrder","","twitter__manualVerify","","twitter__grouponEdit","","twitter__editGoodsList","","twitter__editCommunity","","twitter__editCommunityList","","twitter__editCommunitySearch",""],0],[1,"ec_user",["collect","","consume","","consume__result","","mention__list","","mention__area","","mention__site","","address__list","","address__edit","","idcardedit","","invoice__list","","invoice__detail","","order__goods","","service__store__list","","halfscreen",""],0],[1,"ec_posterResult",["index","","multiCommodity","","posterShare",""],0],[1,"ec_exchange",["index","","price",""],0],[1,"ec_guider",["myguider","","guiderlist","","authorize","","recommend_guider__list","","recommend_guider__info","","recommend_guider__temp","","active_code","","active_code__vidlist",""],0],[1,"ec_combination",["index","","all",""],0],[1,"ec_article",["list","","detail","","ugcPublish","","ugcMyArticles","","ugcDetail",""],0],[1,"payment_cashier",["webview_payment",""],0],[1,"ec_store",["store__list","","store__service","","store__scanbuy","","store__reachstore","","sale_point__list","","sale_point__detail","","sale_point__nearlist","","sale_point__evaluatelist","","sale_point__evaluateedit","","sale_point__virtualgoodslist",""],0],[1,"ec_market",["index","","lottery","","cpsCoupon",""],0],[1,"ec_groupon",["index","","mine","","result",""],0],[1,"ec_cart",["index",""],0],[1,"ec_twitter",["home__index","","home__team","","home__level","","home__teamlist","","home__teamedit","","account__setup","","account__squareapply","","account__detail","","account__detailpoints","","account__bill","","account__withdraw","","account__operationTips","","account__settleList","","promotion__poster","","promotion__goodslist","","promotion__material","","sysfun__apply","","sysfun__applystatus","","sysfun__applyList","","data__index","","customer__list","","order__list","","order__detail","","mine__invited","","teamapply__index","","memberManage__index","","inviteMemberList__index","","freeze__index","","applyPromotion_index",""],0],[1,"ec_shop",["classify","","goods","","pointGoods","","personalized_recommendation",""],0],[1,"ec_order",["order__create","","invoice","","screen_parse","","goodsPlugin",""],0],[1,"ec_orderDetail",["orderlist","","orderSearch","","detail","","paidstatus","","orderpathlist","","userInquiry","","userInquiryList","","orderRelate","","mentioncertificate","","mentioncertificateCycle","","logistics","","logisticsCycle","","insurance","","insuranceForm","","extarinfo","","createRights","","editlogistical","","editaccount","","detailRights","","applyrefund","","applyexchange","","applyexchangetime","","arbitrateHistory","","payByOthers","","indexRights","","patchOrderCheck",""],0],[1,"ec_goods",["detail","","detail_old","","detail_new",""],0],[1,"hd_bargain",["index","","mine","","product",""],0],[1,"hd_giftcard",["home","","bind","","buy","","cardDetail","","exchange","","history","","mine","","receive","","recordDetail","","refund","","send","","useRecord","","bindByQR","","applyGoods","","applyStoreList","","invoiceApply","","invoiceDetail",""],0],[1,"hd_recommend",["detail","","mine","","rewards","","share","","rank",""],0],[1,"hd_vote",["detail","","home","","prize","","rank","","search","","signUp",""],0],[1,"hd_lego",["index","","prize","","activityList","","guest","","result","","shop","","middle",""],0],[1,"cms_webview",["index","","webview_payment",""],0],[1,"cms_vidlist",["index",""],0],[1,"cms_shopinfo",["index",""],0],[1,"cms_vidsearch",["index",""],0],[1,"cms_search",["index","","result",""],0],[1,"hd_survey",["main","","headoff","","presuccess","","success","","prize",""],0],[1,"hd_message",["detail","","index","","mine","","prize","","report","","search",""],0],[1,"ec_fissionBuyIn",["index","","mustBuyCode","","myMustBuyCode",""],0],[1,"hd_card",["home","","none",""],0],[1,"hd_taskCard",["index","","upload","","timetest",""],0],[1,"hd_stepPlanet",["energy","","exchange_record","","index","","prize","","test",""],0],[1,"hd_answer",["des","","index","","prize","","prize_detail","","ranking","","record","","result","","start",""],0],[1,"hd_yuyue",["chooseDate","","detail","","index","","mine","","subInfo",""],0],[1,"hd_ricepudding",["index","","skin2",""],0],[1,"cms_gamelife",["index",""],0],[1,"ec_buyShow",["list","","detail","","publish",""],0],[1,"cms_finance",["set-account",""],0],[1,"passport",["home","","user-account-safe","","user-protocol-detail","","user-cancellation","","user-permissions","","user-permissions-status","","user-security-center","","user-change-phone","","user-address-list","","user-address-edit","","user-idcard-edit","","user-idcard-camera","","user-agreement","","pdfView","","user-login","","user-medicine-list","","user-medicine-edit","","user-choose-medicine",""],0],[1,"onecrm_membership",["membership-growth","/onecrm/membership-growth","membership-growth-detail","/onecrm/membership-growth-detail","membership-userQrcode","/onecrm/membership-userQrcode","membership-result","/onecrm/membership-result","membership-card-list","/onecrm/membership-card-list"],0],[1,"onecrm_coupon",["coupon-packet","/onecrm/coupon-packet","coupon-goods-list","/onecrm/coupon-goods-list","coupon-receiving","/onecrm/coupon-receiving","coupon-passing","/onecrm/coupon-passing","token-detail","/onecrm/token-detail"],0],[1,"onecrm_user",["user-my-guide","/onecrm/user-my-guide","user-change-store","/onecrm/user-change-store","user-asset-safe","/onecrm/user-asset-safe","user-account-safe-check","/onecrm/user-account-safe-check","app-auth","/onecrm/app-auth"],0],[1,"onecrm_balance",["user-amount-detail","/onecrm/user-amount-detail","user-amount-recharge-result","/onecrm/user-amount-recharge-result"],0],[1,"onecrm_order",["memberorder","/onecrm/memberorder","orderdetail","/onecrm/orderdetail","order-list","/onecrm/order-list","order-sale-detail","/onecrm/order-sale-detail","order-after-sale-detail","/onecrm/order-after-sale-detail","order-search","/onecrm/order-search"],0],[1,"onecrm",["home","","membership","","membership-rights","","transform","","auto-point-transform","","user-amount-recharge","","coupon-list","","coupon-detail","","coupon-centre","","signgift","","user-point-detail","","user-info","","self-service-point",""],0],[1,"hd_facebattle",["explain","","group","","myPrizes","","partake","","pk",""],0],[1,"hd_orchard",["index","","bigWheel","","buyRecommend","","goodsRecommend",""],0],[1,"cms_design_pc",["design","","index","","usercenter",""],0],[1,"cms_design",["design","","index","","usercenter",""],0]];return nv_module.nv_exports;}

f_['./@titan/cs/pd/i.wxml']={};
f_['./@titan/cs/pd/i.wxml']['tools'] =f_['./@titan/cs/pd/tools.wxs'] || nv_require("p_./@titan/cs/pd/tools.wxs");
f_['./@titan/cs/pd/i.wxml']['tools']();

f_['./@titan/cs/pd/tools.wxs'] = nv_require("p_./@titan/cs/pd/tools.wxs");
function np_1(){var nv_module={nv_exports:{}};function nv_onTouchStart(nv_event,nv_instance){var nv_state = nv_instance.nv_getState();nv_state.nv_x = nv_event.nv_touches[(0)].nv_clientX;nv_state.nv_y = nv_event.nv_touches[(0)].nv_clientY};function nv_onTouchMove(nv_event,nv_instance){var nv_state = nv_instance.nv_getState();var nv_x = nv_event.nv_touches[(0)].nv_clientX;var nv_y = nv_event.nv_touches[(0)].nv_clientY;nv_state.nv_diffX = (nv_state.nv_diffX || 0) + Math.nv_round(nv_x - nv_state.nv_x);nv_state.nv_diffY = (nv_state.nv_diffY || 0) + Math.nv_round(nv_y - nv_state.nv_y);nv_state.nv_x = nv_x;nv_state.nv_y = nv_y;var nv_wrapper = nv_state.nv_wrapper;if (!nv_wrapper){nv_wrapper = nv_instance.nv_selectComponent('.perf-dog-button-wrapper');nv_state.nv_wrapper = nv_wrapper};var nv_style = 'transform: translate(' + nv_state.nv_diffX + 'px, ' + nv_state.nv_diffY + 'px)';if (nv_wrapper){nv_wrapper.nv_setStyle(nv_style)} else {nv_instance.nv_callMethod('updateBtnPosSty',nv_style)};return(false)};nv_module.nv_exports = ({nv_onTouchStart:nv_onTouchStart,nv_onTouchMove:nv_onTouchMove,});return nv_module.nv_exports;}

f_['./@titan/utils.wxs'] = nv_require("p_./@titan/utils.wxs");
function np_2(){var nv_module={nv_exports:{}};var nv_minifiedTitanConfig = nv_require("p_./@titan/config.wxs")();var nv_PLATFORM_PATH_PREFIX = 'platform://';var nv_PACKAGE_PATH_PREFIX = 'package://';var nv_EMPTY_OBJECT = ({});function nv_once(nv_fn){var nv_called = false;var nv_result;return((function (){if (nv_called){return(nv_result)};nv_result = nv_fn();nv_called = true;return(nv_result)}))};var nv_getTitanConfig = nv_once((function (){var nv_titanConfig = ({nv_platforms:({}),nv_packages:({}),});var nv_processPages = (function (nv_result,nv_moduleName,nv_pages){for(var nv_i = 0;nv_i < nv_pages.nv_length;nv_i += 2){var nv_alias = nv_pages[((nt_0=(nv_i),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))];var nv_path = nv_pages[((nt_1=(nv_i + 1),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))];if (nv_path === ''){nv_path = '/' + nv_moduleName + '/' + nv_alias};nv_result[((nt_2=(nv_alias),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))] = nv_path}});nv_minifiedTitanConfig.nv_forEach((function (nv_item){var nv_type = nv_item[(0)];var nv_moduleName = nv_item[(1)];var nv_pages = nv_item[(2)];var nv_platformExts = nv_item[(3)];var nv_mc = ({nv_pages:({}),});if (nv_type === 0){nv_titanConfig.nv_platforms[((nt_7=(nv_moduleName),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))] = nv_mc} else {nv_titanConfig.nv_packages[((nt_8=(nv_moduleName),null==nt_8?undefined:'number'=== typeof nt_8?nt_8:"nv_"+nt_8))] = nv_mc};nv_processPages(nv_mc.nv_pages,nv_moduleName,nv_pages);if (nv_platformExts !== 0){nv_mc.nv_platformExts = ({});nv_platformExts.nv_forEach((function (nv_ext){var nv_platformName = nv_ext[(0)];var nv_platformPages = nv_ext[(1)];var nv_pc = ({nv_pages:({}),});nv_mc.nv_platformExts[((nt_11=(nv_platformName),null==nt_11?undefined:'number'=== typeof nt_11?nt_11:"nv_"+nt_11))] = nv_pc;nv_processPages(nv_pc.nv_pages,nv_platformName,nv_platformPages)}))}}));return(nv_titanConfig)}));var nv_utils = ({nv_once:nv_once,nv_getTitanConfig:nv_getTitanConfig,nv_getPath:(function (nv_url,nv_currModuleType,nv_currModuleName){var nv_titanConfig = nv_getTitanConfig();if (!nv_url){return(nv_url)};var nv_origUrl = nv_url;var nv_targetModuleType = '';if (nv_url.nv_indexOf(nv_PLATFORM_PATH_PREFIX) === 0){nv_url = nv_url.nv_slice(nv_PLATFORM_PATH_PREFIX.nv_length);nv_targetModuleType = 'platform'} else if (nv_url.nv_indexOf(nv_PACKAGE_PATH_PREFIX) === 0){nv_url = nv_url.nv_slice(nv_PACKAGE_PATH_PREFIX.nv_length);nv_targetModuleType = 'package'};if (nv_targetModuleType){var nv_sepIdx = nv_url.nv_indexOf('/');if (nv_sepIdx === -1){nv_console.nv_error(nv_origUrl + '不存在或不支持该用法');return(nv_origUrl)};var nv_targetModuleName = nv_url.nv_slice(0,nv_sepIdx);var nv_targetPageAlias = nv_url.nv_slice(nv_sepIdx + 1);var nv_query = '';if (nv_targetPageAlias.nv_indexOf('?') !== -1){var nv_splitResult = nv_targetPageAlias.nv_split('?');nv_targetPageAlias = nv_splitResult[(0)];nv_query = nv_splitResult[(1)]};var nv_realPath;var nv_globalConfig = nv_targetModuleType === 'platform' ? nv_titanConfig.nv_platforms[((nt_14=(nv_targetModuleName),null==nt_14?undefined:'number'=== typeof nt_14?nt_14:"nv_"+nt_14))]:nv_titanConfig.nv_packages[((nt_15=(nv_targetModuleName),null==nt_15?undefined:'number'=== typeof nt_15?nt_15:"nv_"+nt_15))];var nv_scopedPlatforms = nv_titanConfig[((nt_16=(nv_currModuleType + 's'),null==nt_16?undefined:'number'=== typeof nt_16?nt_16:"nv_"+nt_16))][((nt_16=(nv_currModuleName),null==nt_16?undefined:'number'=== typeof nt_16?nt_16:"nv_"+nt_16))].nv_platformExts;if (nv_scopedPlatforms && nv_scopedPlatforms[((nt_17=(nv_targetModuleName),null==nt_17?undefined:'number'=== typeof nt_17?nt_17:"nv_"+nt_17))] && nv_scopedPlatforms[((nt_18=(nv_targetModuleName),null==nt_18?undefined:'number'=== typeof nt_18?nt_18:"nv_"+nt_18))].nv_pages){nv_realPath = nv_scopedPlatforms[((nt_19=(nv_targetModuleName),null==nt_19?undefined:'number'=== typeof nt_19?nt_19:"nv_"+nt_19))].nv_pages[((nt_20=(nv_targetPageAlias),null==nt_20?undefined:'number'=== typeof nt_20?nt_20:"nv_"+nt_20))]};if (!nv_realPath && nv_globalConfig.nv_pages){nv_realPath = nv_globalConfig.nv_pages[((nt_21=(nv_targetPageAlias),null==nt_21?undefined:'number'=== typeof nt_21?nt_21:"nv_"+nt_21))]};if (nv_realPath){return(nv_realPath + (nv_query ? '?' + nv_query:''))} else {nv_console.nv_error(nv_origUrl + '不存在或不支持该用法');return(nv_origUrl)}};return(nv_url)}),nv_onScrollToLower:(function (nv_event,nv_ownerInstance){nv_ownerInstance.nv_callMethod('onReachBottom')}),nv_onPageScroll:(function (nv_event,nv_ownerInstance){var nv_pageFnsMap = nv_ownerInstance.nv_getState().nv_pageFnsMap || nv_EMPTY_OBJECT;if (nv_pageFnsMap.nv_onPageScroll){nv_ownerInstance.nv_callMethod('onPageScroll__',({nv_scrollTop:nv_event.nv_detail.nv_scrollTop,}))}}),nv_onResize:(function (nv_event,nv_ownerInstance){var nv_pageFnsMap = nv_ownerInstance.nv_getState().nv_pageFnsMap || nv_EMPTY_OBJECT;if (nv_pageFnsMap.nv_onResize){nv_ownerInstance.nv_callMethod('onResize__',nv_event.nv_detail)}}),nv_onPageFnsChange:(function (nv_newValue,nv_oldValue,nv_ownerInstance){if (!nv_newValue || nv_newValue.nv_constructor !== 'Array'){return};nv_ownerInstance.nv_getState().nv_pageFnsMap = (nv_newValue || []).nv_reduce((function (nv_res,nv_item){nv_res[((nt_22=(nv_item),null==nt_22?undefined:'number'=== typeof nt_22?nt_22:"nv_"+nt_22))] = true;return(nv_res)}),({}))}),nv_noop:(function (){}),});nv_module.nv_exports = nv_utils;return nv_module.nv_exports;}

f_['./cms/RAW/components/registLogin/common/changePhoneModal/index.wxml']={};
f_['./cms/RAW/components/registLogin/common/changePhoneModal/index.wxml']['picFilter'] =f_['./cms/RAW/utils/picFilter.wxs'] || nv_require("p_./cms/RAW/utils/picFilter.wxs");
f_['./cms/RAW/components/registLogin/common/changePhoneModal/index.wxml']['picFilter']();

f_['./cms/RAW/components/registLogin/common/mergewidalert/index.wxml']={};
f_['./cms/RAW/components/registLogin/common/mergewidalert/index.wxml']['picFilter'] =f_['./cms/RAW/utils/picFilter.wxs'] || nv_require("p_./cms/RAW/utils/picFilter.wxs");
f_['./cms/RAW/components/registLogin/common/mergewidalert/index.wxml']['picFilter']();

f_['./cms/RAW/components/verifyAuth/index.wxml']={};
f_['./cms/RAW/components/verifyAuth/index.wxml']['picFilter'] =f_['./cms/RAW/utils/picFilter.wxs'] || nv_require("p_./cms/RAW/utils/picFilter.wxs");
f_['./cms/RAW/components/verifyAuth/index.wxml']['picFilter']();

f_['./cms/RAW/utils/picFilter.wxs'] = nv_require("p_./cms/RAW/utils/picFilter.wxs");
function np_3(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_src,nv_size,nv_pictureRatio){if (!nv_src){return('//:0')};var nv_picSize = ({nv_lg:'750',nv_md:'380',nv_sm:'260',nv_xs:'200',nv_ms:'100',nv_xxs:'45',});var nv_reg1 = nv_getRegExp('\x5c/\x5c/c.weimobwmc.com','ig');var nv_reg1_dev = nv_getRegExp('\x5c/\x5c/dev.weimobwmc.com','ig');var nv_reg2 = nv_getRegExp('\x5c/\x5c/image-c-dev.weimobwmc.com|\x5c/\x5c/image-c.weimobwmc.com','ig');var nv_reg3 = nv_getRegExp('(\x5c?)|(\x5c@)|(\x5c.gif)','ig');if (nv_reg3.nv_test(nv_src)){return(nv_src)};if (nv_reg1.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1,'//image-c.weimobwmc.com')};if (nv_reg1_dev.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1_dev,'//image-c-dev.weimobwmc.com')};return(nv_reg2.nv_test(nv_src) ? [nv_src,'?imageView2/2/w/',nv_picSize[((nt_0=(nv_size || 'lg'),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))],'/q/',nv_pictureRatio || 100,'/interlace/1'].nv_join(""):nv_src)});return nv_module.nv_exports;}

f_['./cms/auth.wxml']={};
f_['./cms/auth.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms/auth.wxml']['_t_']();

f_['./cms/new.wxml']={};
f_['./cms/new.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms/new.wxml']['_t_']();

f_['./cms/transform.wxml']={};
f_['./cms/transform.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms/transform.wxml']['_t_']();

f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponMultiple/index.wxml']={};
f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponMultiple/index.wxml']['picFilter'] =f_['./ec/RAW/wxs/picFilter.wxs'] || nv_require("p_./ec/RAW/wxs/picFilter.wxs");
f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponMultiple/index.wxml']['picFilter']();

f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponSigle/index.wxml']={};
f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponSigle/index.wxml']['picFilter'] =f_['./ec/RAW/wxs/picFilter.wxs'] || nv_require("p_./ec/RAW/wxs/picFilter.wxs");
f_['./cms_design/RAW/EXTS/ec/components/couponPopup/couponSigle/index.wxml']['picFilter']();

f_['./cms_design/RAW/components/design-components/index.wxml']={};
f_['./cms_design/RAW/components/design-components/index.wxml']['util'] =f_['./cms_design/RAW/components/design-components/index_$1.wxs'] || nv_require("p_./cms_design/RAW/components/design-components/index_$1.wxs");
f_['./cms_design/RAW/components/design-components/index.wxml']['util']();

f_['./cms_design/RAW/components/design-components/index_$1.wxs'] = nv_require("p_./cms_design/RAW/components/design-components/index_$1.wxs");
function np_4(){var nv_module={nv_exports:{}};function nv_getClassName(nv_moduleName){return(nv_moduleName.nv_replace('@','').nv_replace('/','-'))};function nv_getModuleExData(nv_module,nv_exData){nv_exData.nv_grayEnabled = nv_module.nv_grayEnabled;return(nv_exData)};nv_module.nv_exports = ({nv_getClassName:nv_getClassName,nv_getModuleExData:nv_getModuleExData,});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['picFilter'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['picFilter']();
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['map'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['map']();
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/goods-image/index.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/seckill-progress/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/seckill-progress/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/seckill-progress/index.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-cart/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-cart/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-cart/index.wxml']['getPrefixCls']();
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-cart/index.wxml']['styleModule'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-cart/index.wxml']['styleModule']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-name/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-name/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-name/index.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-takeawaycart/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-takeawaycart/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-takeawaycart/index.wxml']['getPrefixCls']();
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-takeawaycart/index.wxml']['styleModule'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/shop-takeawaycart/index.wxml']['styleModule']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/index.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/wxs-utils/styleModule.wxs");
function np_5(){var nv_module={nv_exports:{}};var nv_getButtonSize = (function (nv_typeset,nv_size,nv_align){if (nv_typeset === "vertical"){if (nv_align === "center"){if (nv_size === "large"){return("large")} else if (nv_size === "middle"){return("small")} else {return("small")}} else {if (nv_size === "large"){return("small")} else if (nv_size === "middle"){return("small")} else {return("small")}}} else if (nv_typeset === "horizontal"){return("normal")}});var nv_getIconSize = (function (nv_typeset,nv_size){if (nv_typeset === "vertical" && nv_size === "large"){return("44rpx")} else if (nv_typeset === "horizontal"){return("36rpx")} else {return("36rpx")}});nv_module.nv_exports = ({nv_getButtonSize:nv_getButtonSize,nv_getIconSize:nv_getIconSize,});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/index.wxml']['map'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/index.wxml']['map']();
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/index.wxml']['sliderStyle'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/sliderStyle.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/sliderStyle.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/index.wxml']['sliderStyle']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml']['map'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml']['map']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/sliderStyle.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/sliderStyle.wxs");
function np_6(){var nv_module={nv_exports:{}};function nv_getStyles(nv_obj){var nv_leftMarginStyle = '';var nv_rightMarginStyle = '';var nv_lastIndex = nv_obj.nv_goodList.nv_length - 1;if (nv_obj.nv_index === 0){nv_leftMarginStyle = 'margin-left:' + nv_obj.nv_leftMargin + 'rpx;'};if (nv_lastIndex === nv_obj.nv_index && !nv_obj.nv_slotData && !(nv_obj.nv_isLoadMore && nv_obj.nv_hasNextPage)){nv_rightMarginStyle = 'margin-right:' + nv_obj.nv_rightMargin + 'rpx;'};return(nv_leftMarginStyle + nv_rightMarginStyle)};nv_module.nv_exports.nv_getStyles = nv_getStyles;return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/components/goods-classify/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/components/goods-classify/index.wxml']['getPrefixCls'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/components/goods-classify/index.wxml']['getPrefixCls']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/index.wxml']['map'] =f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-goods/index.wxml']['map']();

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.wxs");
function np_7(){var nv_module={nv_exports:{}};var nv_defaultPrefixCls = "ecdc-ec";function nv_getGlobalPrefixCls(){return(nv_defaultPrefixCls)};nv_module.nv_exports = (function (nv_suffixCls,nv_customizePrefixCls){if (nv_customizePrefixCls)return(nv_customizePrefixCls);;return(nv_suffixCls ? nv_getGlobalPrefixCls() + '-' + nv_suffixCls:nv_getGlobalPrefixCls())});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/map.wxs");
function np_8(){var nv_module={nv_exports:{}};var nv_layout = (function (nv_style){var nv_MAP_LAYOUT = ['','flat','shadow','border'];return(nv_MAP_LAYOUT[((nt_0=(nv_style),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] ? 'ec-merchandise-item--' + nv_MAP_LAYOUT[((nt_1=(nv_style),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))]:'')});var nv_layoutList = function nv_style(nv_style){var nv_MAP_LAYOUT = ['','flat','shadow','border'];return(nv_MAP_LAYOUT[((nt_2=(nv_style),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))] ? 'ecdc-ec--item--' + nv_MAP_LAYOUT[((nt_3=(nv_style),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))]:'')};var nv_shopCart = (function (nv_style){return(['','icon','plus','radius','style5'][((nt_4=(nv_style),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))])});var nv_style = (function (nv_style){return(['','line1','line2','line3','slide','list'][((nt_5=(nv_style),null==nt_5?undefined:'number'=== typeof nt_5?nt_5:"nv_"+nt_5))])});var nv_image = (function (nv_style){return(['','100%','133.33%','147%','56.54%'][((nt_6=(nv_style),null==nt_6?undefined:'number'=== typeof nt_6?nt_6:"nv_"+nt_6))])});var nv_align = (function (nv_goodsAlign){return(['','left','center'][((nt_7=(nv_goodsAlign),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))])});var nv_cardCls = (function (nv_cardStyle,nv_goodsAlign){var nv_cardSize = '';if (nv_style(nv_cardStyle) === 'line1'){nv_cardSize = 'large'} else if (nv_style(nv_cardStyle) === 'line2'){nv_cardSize = 'middle'} else if (nv_style(nv_cardStyle) === 'line3' || nv_style(nv_cardStyle) === 'slide'){nv_cardSize = 'small'};return(({nv_align:nv_align(nv_goodsAlign),nv_size:nv_cardSize,}))});function nv_getImageAspectRatio(nv_styleGroup,nv_mainImgSize,nv_imageLayout){var nv_imageRatio = ['100%','52.17%'];if (nv_styleGroup === 1){return(nv_imageRatio[((nt_8=(nv_mainImgSize),null==nt_8?undefined:'number'=== typeof nt_8?nt_8:"nv_"+nt_8))])};if (nv_styleGroup == 5 && nv_imageLayout == 4){return('56.45%')};return(nv_image(nv_imageLayout))};var nv_sliceHint = (function (nv_tip){if (!nv_tip)return([]);;return([nv_tip[(0)],nv_tip.nv_slice(1)])});nv_module.nv_exports = ({nv_layout:nv_layout,nv_shopCart:nv_shopCart,nv_style:nv_style,nv_image:nv_image,nv_align:nv_align,nv_cardCls:nv_cardCls,nv_getImageAspectRatio:nv_getImageAspectRatio,nv_sliceHint:nv_sliceHint,nv_layoutList:nv_layoutList,});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.wxs");
function np_9(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_src,nv_size,nv_pictureRatio){if (!nv_src){return('//:0')};var nv_Ratio = [90,80,90,100];var nv_picSize = ({nv_lg:'750',nv_md:'380',nv_sm:'260',nv_xs:'200',nv_xxs:'45',});var nv_reg1 = nv_getRegExp('\x5c/\x5c/c.weimobwmc.com','ig');var nv_reg1_dev = nv_getRegExp('\x5c/\x5c/dev.weimobwmc.com','ig');var nv_reg2 = nv_getRegExp('\x5c/\x5c/image-c-dev.weimobwmc.com|\x5c/\x5c/image-c.weimobwmc.com','ig');if (nv_getRegExp('(\x5c?)|(\x5c@)|(\x5c.gif)','ig').nv_test(nv_src)){return(nv_src)};if (nv_reg1.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1,'//image-c.weimobwmc.com')};if (nv_reg1_dev.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1_dev,'//image-c-dev.weimobwmc.com')};return(nv_reg2.nv_test(nv_src) ? [nv_src,'?imageView2/2/w/',nv_picSize[((nt_0=(nv_size || 'lg'),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))],'/q/',nv_Ratio[((nt_1=(nv_pictureRatio),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] || 90,'/interlace/1'].nv_join(""):nv_src)});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['picFilter'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['picFilter']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['CS'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['CS']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['substrText'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$1.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$1.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['substrText']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['padNodes'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$2.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$2.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index.wxml']['padNodes']();

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$1.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$1.wxs");
function np_10(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_title,nv_len){return(nv_title && nv_title.nv_length > nv_len ? nv_title.nv_substring(0,nv_len).nv_concat('...'):nv_title)});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$2.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-img-nav/index_$2.wxs");
function np_11(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_items){var nv_p = [];for(var nv_i = 0;nv_i < 10 - nv_items.nv_length;nv_i++){nv_p.nv_push(({nv_imgUrl:'',nv_name:'',}))};return(nv_items.nv_concat(nv_p))});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-location/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-location/index.wxml']['picFilter'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-location/index.wxml']['picFilter']();

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index.wxml']['CS'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index.wxml']['CS']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index.wxml']['substrText'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index_$1.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index_$1.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index.wxml']['substrText']();

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index_$1.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-title/index_$1.wxs");
function np_12(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_title,nv_len){return(nv_title && nv_title.nv_length > nv_len ? nv_title.nv_substring(0,nv_len).nv_concat('...'):nv_title)});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-top-custom-navbar/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-top-custom-navbar/index.wxml']['picFilter'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-top-custom-navbar/index.wxml']['picFilter']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-top-custom-navbar/index.wxml']['CS'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-top-custom-navbar/index.wxml']['CS']();

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']={};
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['picFilter'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['picFilter']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['CS'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['CS']();
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['hotZone'] =f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index_$1.wxs'] || nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index_$1.wxs");
f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index.wxml']['hotZone']();

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index_$1.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-ui-image/index_$1.wxs");
function np_13(){var nv_module={nv_exports:{}};function nv_wrapperStyle(nv_scaleRate,nv_width,nv_height,nv_scopeWidth,nv_scopeHeight,nv_windowWidth){var nv_toRpxRate = 750 / nv_windowWidth;var nv_wrapperWidth = nv_scopeWidth * nv_scaleRate * nv_toRpxRate;var nv_wrapperHeight = nv_scopeHeight * nv_scaleRate * nv_toRpxRate;var nv__top = 'top:' + Math.nv_floor((nv_height - nv_wrapperHeight) / 2 * 1000) / 1000 + 'rpx';var nv__left = 'left:' + Math.nv_floor((nv_width - nv_wrapperWidth) / 2 * 1000) / 1000 + 'rpx';var nv__width = 'width:' + nv_wrapperWidth + 'rpx';var nv__height = 'height:' + nv_wrapperHeight + 'rpx';return([nv__top,nv__left,nv__width,nv__height].nv_join(';'))};function nv_itemStyle(nv_citem,nv_scaleRate,nv_windowWidth){var nv_toRpxRate = 750 / nv_windowWidth;var nv_displayTop = (nv_citem.nv_top || (nv_citem.nv_topY ? nv_citem.nv_topY:0)) * nv_scaleRate * nv_toRpxRate;var nv_displayLeft = (nv_citem.nv_left || (nv_citem.nv_leftX ? nv_citem.nv_leftX:0)) * nv_scaleRate * nv_toRpxRate;var nv_displaywidth = nv_citem.nv_width * nv_scaleRate * nv_toRpxRate;var nv_displayheight = nv_citem.nv_height * nv_scaleRate * nv_toRpxRate;if (!nv_citem.nv_width && !nv_citem.nv_height){nv_displaywidth = (nv_citem.nv_rightX - nv_citem.nv_leftX) * nv_scaleRate * nv_toRpxRate;nv_displaywidth = (nv_citem.nv_bottomY - nv_citem.nv_topY) * nv_scaleRate * nv_toRpxRate};var nv__top = 'top:' + nv_displayTop + 'rpx';var nv__left = 'left:' + nv_displayLeft + 'rpx';var nv__width = 'width:' + nv_displaywidth + 'rpx';var nv__height = 'height:' + nv_displayheight + 'rpx';return([nv__top,nv__left,nv__width,nv__height].nv_join(';'))};nv_module.nv_exports = ({nv_wrapperStyle:nv_wrapperStyle,nv_itemStyle:nv_itemStyle,});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/customerService.wxs");
function np_14(){var nv_module={nv_exports:{}};function nv_showCustomerService(nv_link){nv_link=undefined===nv_link?({}):nv_link;if (nv_link && nv_link.nv_refer === undefined){return(false)};return(!!(nv_link && nv_link.nv_refer && nv_link.nv_refer.nv_toUpperCase() === 'WOS-CS-CHAT'))};nv_module.nv_exports = ({nv_showCustomerService:nv_showCustomerService,});return nv_module.nv_exports;}

f_['./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs'] = nv_require("p_./cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/picFilter.wxs");
function np_15(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_src,nv_size,nv_pictureRatio){if (!nv_src){return('//:0')};var nv_Ratio = [90,80,90,100];var nv_picSize = ({nv_lg:'750',nv_md:'380',nv_sm:'260',nv_xs:'200',nv_xxs:'45',});var nv_reg = nv_getRegExp('(\x5c.svg)|(\x5c.gif)','ig');var nv_reg1 = nv_getRegExp('\x5c/\x5c/c.weimobwmc.com','ig');var nv_reg1_dev = nv_getRegExp('\x5c/\x5c/dev.weimobwmc.com','ig');var nv_reg2 = nv_getRegExp('\x5c/\x5c/image-c-dev.weimobwmc.com|\x5c/\x5c/image-c.weimobwmc.com','ig');var nv_reg3 = nv_getRegExp('(\x5c?)|(\x5c@)|(\x5c.gif)','ig');if (nv_reg.nv_test(nv_src) || nv_reg3.nv_test(nv_src)){return(nv_src)};if (nv_reg1.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1,'//image-c.weimobwmc.com')};if (nv_reg1_dev.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1_dev,'//image-c-dev.weimobwmc.com')};return(nv_reg2.nv_test(nv_src) ? [nv_src,'?imageView2/2/w/',nv_picSize[((nt_0=(nv_size || 'lg'),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))],'/q/',nv_Ratio[((nt_1=(nv_pictureRatio),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] || 90,'/interlace/1'].nv_join(""):nv_src)});return nv_module.nv_exports;}

f_['./cms_design/design.wxml']={};
f_['./cms_design/design.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms_design/design.wxml']['_t_']();

f_['./cms_design/index.wxml']={};
f_['./cms_design/index.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms_design/index.wxml']['_t_']();

f_['./cms_design/usercenter.wxml']={};
f_['./cms_design/usercenter.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms_design/usercenter.wxml']['_t_']();

f_['./cms_webview/index.wxml']={};
f_['./cms_webview/index.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms_webview/index.wxml']['_t_']();

f_['./cms_webview/webview_payment.wxml']={};
f_['./cms_webview/webview_payment.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./cms_webview/webview_payment.wxml']['_t_']();

f_['./ec/RAW/wxs/picFilter.wxs'] = nv_require("p_./ec/RAW/wxs/picFilter.wxs");
function np_16(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_src,nv_size,nv_pictureRatio){if (!nv_src){return('//:0')};var nv_Ratio = [90,80,90,100];var nv_picSize = ({nv_lg:'750',nv_xl:'510',nv_md:'380',nv_sm:'260',nv_xs:'200',nv_ms:'100',nv_xxs:'45',});var nv_reg1 = nv_getRegExp('\x5c/\x5c/c.weimobwmc.com','ig');var nv_reg1_dev = nv_getRegExp('\x5c/\x5c/dev.weimobwmc.com','ig');var nv_reg2 = nv_getRegExp('\x5c/\x5c/image-c-dev.weimobwmc.com|\x5c/\x5c/image-c.weimobwmc.com','ig');if (nv_getRegExp('(\x5c?)|(\x5c@)|(\x5c.gif)|(\x5c.svg)','ig').nv_test(nv_src)){return(nv_src)};if (nv_reg1.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1,'//image-c.weimobwmc.com')};if (nv_reg1_dev.nv_test(nv_src)){nv_src = nv_src.nv_replace(nv_reg1_dev,'//image-c-dev.weimobwmc.com')};return(nv_reg2.nv_test(nv_src) ? [nv_src,'?imageView2/2/w/',nv_picSize[((nt_0=(nv_size || 'lg'),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))],'/q/',nv_Ratio[((nt_1=(nv_pictureRatio),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] || 90,'/interlace/1'].nv_join(""):nv_src)});return nv_module.nv_exports;}

f_['./ec/order_detail.wxml']={};
f_['./ec/order_detail.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./ec/order_detail.wxml']['_t_']();

f_['./pages/goods/detail.wxml']={};
f_['./pages/goods/detail.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./pages/goods/detail.wxml']['_t_']();

f_['./rprm/heatmap.wxml']={};
f_['./rprm/heatmap.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./rprm/heatmap.wxml']['_t_']();

f_['./t/1.wxml']={};
f_['./t/1.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/1.wxml']['_t_']();

f_['./t/2.wxml']={};
f_['./t/2.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/2.wxml']['_t_']();

f_['./t/3.wxml']={};
f_['./t/3.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/3.wxml']['_t_']();

f_['./t/4.wxml']={};
f_['./t/4.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/4.wxml']['_t_']();

f_['./t/5.wxml']={};
f_['./t/5.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/5.wxml']['_t_']();

f_['./t/page-template.wxml']={};
f_['./t/page-template.wxml']['_t_'] =f_['./@titan/utils.wxs'] || nv_require("p_./@titan/utils.wxs");
f_['./t/page-template.wxml']['_t_']();

f_['./titian-mp/RAW/button/index.wxml']={};
f_['./titian-mp/RAW/button/index.wxml']['utils'] =f_['./titian-mp/RAW/button/index.wxs'] || nv_require("p_./titian-mp/RAW/button/index.wxs");
f_['./titian-mp/RAW/button/index.wxml']['utils']();
f_['./titian-mp/RAW/button/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/button/index.wxml']['namespace']();

f_['./titian-mp/RAW/button/index.wxs'] = nv_require("p_./titian-mp/RAW/button/index.wxs");
function np_17(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_computedStyle(nv_type,nv_color,nv_variant,nv_subBgColor,nv_bgColorActive,nv_shape,nv_extStyle){var nv_style = ({'nv_--text-color':'var(--button-text-color,' + nv_color + ')','nv_--loading-color':'var(--button-loading-color, --text-color)','nv_--background-color':'var(--button-background-color,' + nv_color + ')','nv_--active-color':'var(--button-active-color,' + nv_bgColorActive + ')',});if (nv_variant === 'contained'){nv_style[("nv_"+'--text-color')] = 'var(--button-text-color, #fff)'} else if (nv_variant === 'filled'){nv_style[("nv_"+'--background-color')] = 'var(--button-background-color,' + nv_subBgColor + ')'} else if (nv_variant === 'outlined'){nv_style[("nv_"+'--background-color')] = 'transparent';nv_style[("nv_"+'--button-border-color')] = nv_style[("nv_"+'--text-color')];if (nv_type === 'simple'){nv_style[("nv_"+'--button-border-color')] = '#c4c4c4'}} else if (nv_variant === 'text'){nv_style[("nv_"+'--background-color')] = 'transparent';nv_style[("nv_"+'--active-color')] = 'transparent'};if (nv_shape === 'capsule'){nv_style[("nv_"+'--button-radius')] = '999px'} else if (nv_shape === 'rect'){nv_style[("nv_"+'--button-radius')] = '0px'};return(nv_tools.nv_convertStyles([nv_style,nv_extStyle]))};nv_module.nv_exports = ({nv_computedStyle:nv_computedStyle,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/cell-group/index.wxml']={};
f_['./titian-mp/RAW/cell-group/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/cell-group/index.wxml']['namespace']();

f_['./titian-mp/RAW/cell/index.wxml']={};
f_['./titian-mp/RAW/cell/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/cell/index.wxml']['namespace']();
f_['./titian-mp/RAW/cell/index.wxml']['utils'] =f_['./titian-mp/RAW/cell/index.wxs'] || nv_require("p_./titian-mp/RAW/cell/index.wxs");
f_['./titian-mp/RAW/cell/index.wxml']['utils']();

f_['./titian-mp/RAW/cell/index.wxs'] = nv_require("p_./titian-mp/RAW/cell/index.wxs");
function np_18(){var nv_module={nv_exports:{}};var nv__require = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_convertStyles = nv__require.nv_convertStyles;var nv_wxsUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/index.wxs')();var nv_completedStyles = (function (nv_data){return(nv_convertStyles([({'nv_align-items':nv_data.nv_alignItems,}),nv_data[("nv_"+'extStyle')]]))});var nv_completedArrow = (function (nv_data){if (nv_wxsUtils.nv_isString(nv_data.nv_rightIcon) && nv_wxsUtils.nv_isNotEmpty(nv_data.nv_rightIcon)){return(nv_data.nv_rightIcon)};return('arrow-right')});function nv_completedSubDescStyles(nv_data){if (!nv_data.nv_desc){return('display:flex')};if (nv_data.nv_rightIcon || nv_data.nv_arrow || nv_data.nv_link){return('padding-right: 32rpx;')}};nv_module.nv_exports = ({nv_completedSubDescStyles:nv_completedSubDescStyles,nv_completedStyles:nv_completedStyles,nv_completedArrow:nv_completedArrow,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/checkbox-group/index.wxml']={};
f_['./titian-mp/RAW/checkbox-group/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/checkbox-group/index.wxml']['namespace']();

f_['./titian-mp/RAW/checkbox/index.wxml']={};
f_['./titian-mp/RAW/checkbox/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/checkbox/index.wxml']['namespace']();
f_['./titian-mp/RAW/checkbox/index.wxml']['utils'] =f_['./titian-mp/RAW/checkbox/index.wxs'] || nv_require("p_./titian-mp/RAW/checkbox/index.wxs");
f_['./titian-mp/RAW/checkbox/index.wxml']['utils']();

f_['./titian-mp/RAW/checkbox/index.wxs'] = nv_require("p_./titian-mp/RAW/checkbox/index.wxs");
function np_19(){var nv_module={nv_exports:{}};var nv_stylesUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_borderRadiusUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/borderRadius.wxs')();function nv_completedStyles(nv_data){nv_data.nv_size = nv_data.nv_size || 32;if (nv_data.nv_shape === 'circle' || nv_data.nv_shape === 'square'){return(nv_borderRadiusUtils.nv_handler(nv_data.nv_shape) + '; height: ' + nv_data.nv_size + 'rpx')};var nv_style = ({nv_height:nv_data.nv_size + 'rpx',});nv_style[("nv_"+'--base-radius-size')] = (nv_data.nv_shape ? nv_data.nv_shape:nv_data.nv_size) + 'rpx';return(nv_stylesUtils.nv_convertStyles(nv_style))};function nv_completedIconStyles(nv_data){var nv_style = ({});if (nv_data.nv_color){nv_style[("nv_"+'background-color')] = nv_data.nv_color};if (nv_data.nv_size){nv_style[("nv_"+'width')] = nv_style[("nv_"+'height')] = nv_style[("nv_"+'line-height')] = nv_data.nv_size + 'rpx'};return(nv_stylesUtils.nv_convertStyles(nv_style))};nv_module.nv_exports = ({nv_completedStyles:nv_completedStyles,nv_completedIconStyles:nv_completedIconStyles,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/borderRadius.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/borderRadius.wxs");
function np_20(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_computedStyle(nv_shape){var nv_style = ({});if (nv_shape === 'capsule' || nv_shape === 'circle'){nv_style[("nv_"+'--base-radius-size')] = '999px'} else if (nv_shape === 'rect' || nv_shape === 'square'){nv_style[("nv_"+'--base-radius-size')] = '-999px'};return(nv_tools.nv_convertStyles(nv_style))};nv_module.nv_exports = ({nv_handler:nv_computedStyle,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/convertStyles.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs");
function np_21(){var nv_module={nv_exports:{}};'use strict';var nv_utils = nv_require('p_./titian-mp/RAW/common/utils/wxs/index.wxs')();function nv_convertStylesWxs(nv_styles){if (nv_utils.nv_isPlainArray(nv_styles)){return(nv_styles.nv_filter((function (nv_item){return(nv_item != null && nv_item !== '')})).nv_map((function (nv_item){return(nv_convertStylesWxs(nv_item))})).nv_join(';'))};if (nv_styles.nv_constructor === 'Object'){return(nv_utils.nv_keys(nv_styles).nv_filter((function (nv_key){return(nv_styles[((nt_0=(nv_key),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] != null && nv_styles[((nt_1=(nv_key),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] !== '')})).nv_map((function (nv_key){return([nv_key,[nv_styles[((nt_2=(nv_key),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))]]].nv_join(':'))})).nv_join(';'))};return(nv_styles)};nv_module.nv_exports = ({nv_convertStyles:nv_convertStylesWxs,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/index.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/index.wxs");
function np_22(){var nv_module={nv_exports:{}};var nv_wxUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/wxUtils.wxs')();var nv_isPlainObject = function nv_isPlainArray(nv_obj){return(nv_wxUtils.nv_toTypeString(nv_obj) === 'Object')};var nv_isPlainArray = function nv_isPlainArray(nv_obj){return(nv_wxUtils.nv_toTypeString(nv_obj) === 'Array')};var nv_isBoolean = (function (nv_val){return(nv_wxUtils.nv_toTypeString(nv_val) === 'Boolean')});var nv_isString = (function (nv_val){return(nv_wxUtils.nv_toTypeString(nv_val) === 'String')});var nv_isEmpty = (function (nv_val){if (nv_isString(nv_val)){return(nv_val === '')};if (nv_isPlainArray(nv_val)){return(nv_val.nv_length === 0)}});var nv_isNotEmpty = (function (nv_val){return(!nv_isEmpty(nv_val))});function nv_keys(nv_obj){return(nv_JSON.nv_stringify(nv_obj).nv_replace(nv_wxUtils.nv_REGEXP,'').nv_split(',').nv_map((function (nv_item){return(nv_item.nv_split(':')[(0)])})))};function nv_includes(nv_array,nv_searchElement){return(nv_array.nv_indexOf(nv_searchElement) !== -1)};nv_module.nv_exports = ({nv_isPlainObject:nv_isPlainObject,nv_isPlainArray:nv_isPlainArray,nv_isBoolean:nv_isBoolean,nv_isString:nv_isString,nv_isNotEmpty:nv_isNotEmpty,nv_isEmpty:nv_isEmpty,nv_keys:nv_keys,nv_includes:nv_includes,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
function np_23(){var nv_module={nv_exports:{}};'use strict';var nv_utils = nv_require('p_./titian-mp/RAW/common/utils/wxs/index.wxs')();var nv_PREFIX = 'titian';function nv_filterRealKey(nv_obj){if (nv_utils.nv_isPlainObject(nv_obj)){return(nv_utils.nv_keys(nv_obj).nv_filter((function (nv_value){return(!!nv_obj[((nt_0=(nv_value),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))])})))};return(nv_obj)};function nv_mappingRealValue(nv_obj,nv_name){var nv_array = [nv_PREFIX,nv_name];return(nv_obj.nv_filter((function (nv_item){nv_item = ''.nv_concat(nv_item).nv_trim();return(nv_item != null && nv_item !== '')})).nv_map((function (nv_item){return([].nv_concat(nv_array,[nv_item]).nv_join('-'))})))};nv_module.nv_exports = ({nv_join:function nv_join(nv_name,nv_mods){var nv_array = [nv_PREFIX,nv_name];if (typeof nv_mods === 'undefined'){return(nv_array.nv_join('-'))};if (nv_utils.nv_isPlainObject(nv_mods)){nv_mods = nv_filterRealKey(nv_mods)};if (nv_utils.nv_isPlainArray(nv_mods)){nv_mods = nv_mods.nv_reduce((function (nv_prev,nv_curr){return(nv_prev.nv_concat(nv_filterRealKey(nv_curr)))}),[]);nv_mods = nv_mappingRealValue(nv_mods,nv_name);return(nv_mods.nv_concat(nv_array.nv_join('-')).nv_join(' '))};nv_array = nv_array.nv_concat(nv_mods);return(nv_array.nv_join('-'))},nv_handle:function nv_handle(nv_name,nv_mods){if (!(nv_utils.nv_isPlainObject(nv_mods) || nv_utils.nv_isPlainArray(nv_mods))){return('')};if (nv_utils.nv_isPlainObject(nv_mods)){nv_mods = nv_filterRealKey(nv_mods)} else if (nv_utils.nv_isPlainArray(nv_mods)){nv_mods = nv_mods.nv_reduce((function (nv_prev,nv_curr){return(nv_prev.nv_concat(nv_filterRealKey(nv_curr)))}),[])};nv_mods = nv_mappingRealValue(nv_mods,nv_name);return(nv_mods.nv_join(' '))},});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/suffix.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/suffix.wxs");
function np_24(){var nv_module={nv_exports:{}};var nv_REGEXP = nv_getRegExp('^-?[0-9]+(\x5c.[0-9]+)?$');function nv_addUnit(nv_value){if (nv_REGEXP.nv_test(nv_value)){return(nv_value + 'rpx')};return(nv_value)};nv_module.nv_exports = ({nv_addUnit:nv_addUnit,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/common/utils/wxs/wxUtils.wxs'] = nv_require("p_./titian-mp/RAW/common/utils/wxs/wxUtils.wxs");
function np_25(){var nv_module={nv_exports:{}};var nv_REGEXP = nv_getRegExp('{|}|\x22','g');var nv_toTypeString = function nv_toTypeString(nv_val){return(nv_val && nv_val.nv_constructor)};nv_module.nv_exports = ({nv_toTypeString:nv_toTypeString,nv_REGEXP:nv_REGEXP,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/dialog/index.wxml']={};
f_['./titian-mp/RAW/dialog/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/dialog/index.wxml']['namespace']();

f_['./titian-mp/RAW/divider/index.wxml']={};
f_['./titian-mp/RAW/divider/index.wxml']['utils'] =f_['./titian-mp/RAW/divider/index.wxs'] || nv_require("p_./titian-mp/RAW/divider/index.wxs");
f_['./titian-mp/RAW/divider/index.wxml']['utils']();
f_['./titian-mp/RAW/divider/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/divider/index.wxml']['namespace']();

f_['./titian-mp/RAW/divider/index.wxs'] = nv_require("p_./titian-mp/RAW/divider/index.wxs");
function np_26(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_computedStyle(nv_color,nv_borderColor,nv_borderWidth,nv_dashed,nv_extStyle){var nv_style = ({nv_color:nv_color,'nv_--divider-color':nv_color,});if (nv_dashed){nv_style[("nv_"+'--divider-style')] = 'dashed'} else {nv_style[("nv_"+'--divider-background')] = nv_borderColor};if (nv_borderColor){nv_style[("nv_"+'--divider-color')] = nv_borderColor};if (nv_borderWidth){nv_borderWidth = nv_borderWidth > 2 ? nv_borderWidth:2;nv_style[("nv_"+'--divider-width')] = nv_borderWidth + 'rpx'};return(nv_tools.nv_convertStyles([nv_style,nv_extStyle]))};nv_module.nv_exports = ({nv_computedStyle:nv_computedStyle,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/empty/index.wxml']={};
f_['./titian-mp/RAW/empty/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/empty/index.wxml']['namespace']();

f_['./titian-mp/RAW/icon/index.wxml']={};
f_['./titian-mp/RAW/icon/index.wxml']['utils'] =f_['./titian-mp/RAW/icon/index.wxs'] || nv_require("p_./titian-mp/RAW/icon/index.wxs");
f_['./titian-mp/RAW/icon/index.wxml']['utils']();

f_['./titian-mp/RAW/icon/index.wxs'] = nv_require("p_./titian-mp/RAW/icon/index.wxs");
function np_27(){var nv_module={nv_exports:{}};'use strict';var nv_suffix = nv_require('p_./titian-mp/RAW/common/utils/wxs/suffix.wxs')();var nv_namespace = nv_require('p_./titian-mp/RAW/common/utils/wxs/namespace.wxs')();function nv_completedStyles(nv_data){var nv_style = [];if (nv_data.nv_extStyle){nv_style.nv_push(nv_data.nv_extStyle)};if (nv_data.nv_rotate){nv_style.nv_push('transform:rotate(' + nv_data.nv_rotate + ')')};if (nv_data.nv_size){if (nv_data.nv_size.nv_constructor === 'Number'){nv_style.nv_push('font-size:' + nv_data.nv_size + 'rpx')} else if (nv_data.nv_size.nv_constructor === 'String'){nv_style.nv_push('font-size:' + nv_suffix.nv_addUnit(nv_data.nv_size))}};if (nv_data.nv_iconStyle && ['lovely','popular'].nv_indexOf(nv_data.nv_iconStyle) !== -1){nv_style.nv_push('--icon-family:' + nv_namespace.nv_handle('icon',[nv_data.nv_iconStyle]))};if (nv_data.nv_color){nv_style.nv_push('color:' + nv_data.nv_color)};return(nv_style.nv_join(';'))};function nv_completedClasses(nv_data){var nv_root = nv_namespace.nv_join('icon-base');var nv_fontFamily = '';var nv_className = [nv_root];if (nv_data.nv_prefix){nv_fontFamily = nv_data.nv_prefix} else {nv_fontFamily = nv_namespace.nv_join('icon')};nv_className.nv_push(nv_fontFamily);if (nv_data.nv_name){nv_className.nv_push(nv_fontFamily + nv_data.nv_hyphen + nv_data.nv_name)};if (nv_data.nv_spin){nv_className.nv_push(nv_root + '-spin')};return(nv_className.nv_join(' '))};nv_module.nv_exports = ({nv_completedStyles:nv_completedStyles,nv_completedClasses:nv_completedClasses,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/image/index.wxml']={};
f_['./titian-mp/RAW/image/index.wxml']['utils'] =f_['./titian-mp/RAW/image/index.wxs'] || nv_require("p_./titian-mp/RAW/image/index.wxs");
f_['./titian-mp/RAW/image/index.wxml']['utils']();
f_['./titian-mp/RAW/image/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/image/index.wxml']['namespace']();

f_['./titian-mp/RAW/image/index.wxs'] = nv_require("p_./titian-mp/RAW/image/index.wxs");
function np_28(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_suffix = nv_require('p_./titian-mp/RAW/common/utils/wxs/suffix.wxs')();function nv_computedStyle(nv_width,nv_height,nv_aspectRatio,nv_radius,nv_useGlobalStyle,nv_extStyle){var nv_style = ({});if (nv_useGlobalStyle){nv_radius = nv_radius || 0;nv_style[("nv_"+'border-radius')] = 'calc(var(--base-radius-size, 0px) + ' + nv_suffix.nv_addUnit(nv_radius) + ')'} else {nv_style[("nv_"+'border-radius')] = nv_suffix.nv_addUnit(nv_radius)};if (nv_aspectRatio > 0){nv_style[("nv_"+'--image-aspect-ratio')] = nv_aspectRatio};if (nv_width){nv_style[("nv_"+'width')] = nv_suffix.nv_addUnit(nv_width)};if (nv_height){nv_style[("nv_"+'height')] = nv_suffix.nv_addUnit(nv_height);var nv_useAspectRatio = nv_aspectRatio > 0 || nv_aspectRatio === 'inherit';if (nv_useAspectRatio && !nv_width && nv_height.nv_indexOf('%') === -1 && nv_height.nv_indexOf('auto') === -1){nv_style[("nv_"+'width')] = 'calc(' + nv_suffix.nv_addUnit(nv_height) + ' * var(--image-aspect-ratio, 1))'}};return(nv_tools.nv_convertStyles([nv_style,nv_extStyle]))};var nv_MODE_MAP = ({nv_none:'center',nv_fill:'scaleToFill',nv_cover:'aspectFill',nv_contain:'aspectFit',});function nv_computedMode(nv_mode,nv_width,nv_height){if (nv_width && nv_height === 'auto'){nv_mode = 'widthFix'};if (nv_height && nv_width === 'auto'){nv_mode = 'heightFix'};return(nv_MODE_MAP[((nt_6=(nv_mode),null==nt_6?undefined:'number'=== typeof nt_6?nt_6:"nv_"+nt_6))] || nv_mode || 'scaleToFill')};nv_module.nv_exports = ({nv_computedStyle:nv_computedStyle,nv_computedMode:nv_computedMode,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/input-number/index.wxml']={};
f_['./titian-mp/RAW/input-number/index.wxml']['utils'] =f_['./titian-mp/RAW/input-number/index.wxs'] || nv_require("p_./titian-mp/RAW/input-number/index.wxs");
f_['./titian-mp/RAW/input-number/index.wxml']['utils']();
f_['./titian-mp/RAW/input-number/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/input-number/index.wxml']['namespace']();

f_['./titian-mp/RAW/input-number/index.wxs'] = nv_require("p_./titian-mp/RAW/input-number/index.wxs");
function np_29(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_computedSize(nv_size,nv_extStyle){var nv_style = ({});if (nv_size === 'big'){nv_style = ({'nv_--input-number-size':56 + 'rpx',})};return(nv_tools.nv_convertStyles([nv_style,nv_extStyle]))};function nv_computedInputWidth(nv_size,nv_inputWidth,nv_autoWidth,nv_variant){var nv_curInputWidth = 60;if (nv_size === 'big'){nv_curInputWidth = 64};if (nv_variant === 'bright'){nv_curInputWidth = 36};if (nv_inputWidth){nv_curInputWidth = nv_inputWidth};if (nv_autoWidth){return('width: 100%;' + 'min-width:' + nv_curInputWidth + 'rpx')} else {return('width:' + nv_curInputWidth + 'rpx')}};nv_module.nv_exports = ({nv_computedSize:nv_computedSize,nv_computedInputWidth:nv_computedInputWidth,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/input/index.wxml']={};
f_['./titian-mp/RAW/input/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/input/index.wxml']['namespace']();

f_['./titian-mp/RAW/loading/index.wxml']={};
f_['./titian-mp/RAW/loading/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/loading/index.wxml']['namespace']();
f_['./titian-mp/RAW/loading/index.wxml']['utils'] =f_['./titian-mp/RAW/loading/index.wxs'] || nv_require("p_./titian-mp/RAW/loading/index.wxs");
f_['./titian-mp/RAW/loading/index.wxml']['utils']();

f_['./titian-mp/RAW/loading/index.wxs'] = nv_require("p_./titian-mp/RAW/loading/index.wxs");
function np_30(){var nv_module={nv_exports:{}};var nv_utils = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_proportion = 1.2;function nv_completedLoadingWrapStyles(nv_data){var nv_loadingSize = nv_data.nv_size / nv_proportion;return(nv_utils.nv_convertStyles(({nv_padding:Math.nv_ceil((nv_data.nv_size - nv_loadingSize) / 2) + 'rpx',nv_width:nv_loadingSize + 'rpx',nv_height:nv_loadingSize + 'rpx',})))};function nv_completedLoadingStyles(nv_data){var nv_loadingSize = nv_data.nv_size / nv_proportion;return(nv_utils.nv_convertStyles(({nv_width:nv_loadingSize + 'rpx',nv_height:nv_loadingSize + 'rpx',})))};function nv_completedLoadingItemStyles(nv_data){var nv_loadingSize = nv_data.nv_size / nv_proportion;return(nv_completedLoadingStyles(nv_data) + ';' + nv_utils.nv_convertStyles(({'nv_border-width':Math.nv_max(nv_loadingSize / 12,2) + 'rpx','nv_border-top-color':nv_data.nv_color,})))};function nv_completedSpinnerStyles(nv_data){var nv_loadingSize = nv_data.nv_size / nv_proportion;return(nv_utils.nv_convertStyles(({nv_height:nv_loadingSize / 2 + 'rpx',})))};nv_module.nv_exports = ({nv_completedLoadingStyles:nv_completedLoadingStyles,nv_completedSpinnerStyles:nv_completedSpinnerStyles,nv_completedLoadingWrapStyles:nv_completedLoadingWrapStyles,nv_completedLoadingItemStyles:nv_completedLoadingItemStyles,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/popup-title-bar/index.wxml']={};
f_['./titian-mp/RAW/popup-title-bar/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/popup-title-bar/index.wxml']['namespace']();
f_['./titian-mp/RAW/popup-title-bar/index.wxml']['utils'] =f_['./titian-mp/RAW/popup-title-bar/index.wxs'] || nv_require("p_./titian-mp/RAW/popup-title-bar/index.wxs");
f_['./titian-mp/RAW/popup-title-bar/index.wxml']['utils']();

f_['./titian-mp/RAW/popup-title-bar/index.wxs'] = nv_require("p_./titian-mp/RAW/popup-title-bar/index.wxs");
function np_31(){var nv_module={nv_exports:{}};var nv_namespace = nv_require('p_./titian-mp/RAW/common/utils/wxs/namespace.wxs')();var nv_EPopupTitleBarVariantType = ({nv_WithConfirm:'with-confirm',nv_CancelOnly:'cancel-only',nv_BackTitleClose:'back-title-cancel',nv_MiniClose:'mini-close',nv_LeftTitleClose:'left-title-close',});nv_module.nv_exports = ({nv_getLeftClass:(function (nv_type){if (nv_type === nv_EPopupTitleBarVariantType.nv_WithConfirm){return(nv_namespace.nv_handle('popup-titlebar',['cancel']))} else if (nv_type === nv_EPopupTitleBarVariantType.nv_BackTitleClose){return(nv_namespace.nv_handle('popup-titlebar',['back']))};return('')}),nv_getRightClass:(function (nv_type){if (nv_type === nv_EPopupTitleBarVariantType.nv_WithConfirm){return(nv_namespace.nv_handle('popup-titlebar',['confirm']))};if (nv_type === nv_EPopupTitleBarVariantType.nv_CancelOnly || nv_type === nv_EPopupTitleBarVariantType.nv_BackTitleClose || nv_type === nv_EPopupTitleBarVariantType.nv_LeftTitleClose){return(nv_namespace.nv_handle('popup-titlebar',['close']))};if (nv_type === nv_EPopupTitleBarVariantType.nv_MiniClose){return(nv_namespace.nv_handle('popup-titlebar',['mini-close']) + ' ext-class')};return('')}),nv_getRightClassIcon:(function (nv_type){if (nv_type === nv_EPopupTitleBarVariantType.nv_MiniClose){return(nv_namespace.nv_handle('popup-titlebar',['mini-close-icon']))};return('')}),nv_getTitleClass:(function (nv_type){if (nv_type === nv_EPopupTitleBarVariantType.nv_LeftTitleClose){return(nv_namespace.nv_handle('popup-titlebar',['space-between']))};return('')}),});return nv_module.nv_exports;}

f_['./titian-mp/RAW/popup/index.wxml']={};
f_['./titian-mp/RAW/popup/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/popup/index.wxml']['namespace']();
f_['./titian-mp/RAW/popup/index.wxml']['utils'] =f_['./titian-mp/RAW/popup/index.wxs'] || nv_require("p_./titian-mp/RAW/popup/index.wxs");
f_['./titian-mp/RAW/popup/index.wxml']['utils']();

f_['./titian-mp/RAW/popup/index.wxs'] = nv_require("p_./titian-mp/RAW/popup/index.wxs");
function np_32(){var nv_module={nv_exports:{}};var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_suffix = nv_require('p_./titian-mp/RAW/common/utils/wxs/suffix.wxs')();var nv_plainUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/index.wxs')();var nv_EPosition = ({nv_TOP:'top',nv_BOTTOM:'bottom',nv_LEFT:'left',nv_RIGHT:'right',nv_CENTER:'center',});function nv_computedContentStyle(nv_contentZIndex,nv_radius,nv_extContentStyle,nv_timeout){var nv_style = ({'nv_z-index':nv_contentZIndex,'nv_--popup-radius':nv_suffix.nv_addUnit(nv_radius),});if (nv_timeout){if (nv_timeout.nv_constructor === 'number'){nv_style[("nv_"+'--private-start-duration')] = nv_timeout + 'ms';nv_style[("nv_"+'--private-end-duration')] = nv_timeout + 'ms'} else if (nv_plainUtils.nv_isPlainObject(nv_timeout) && nv_timeout.nv_appear && nv_timeout.nv_exit){nv_style[("nv_"+'--private-start-duration')] = nv_timeout.nv_appear + 'ms';nv_style[("nv_"+'--private-end-duration')] = nv_timeout.nv_exit + 'ms'}};return(nv_tools.nv_convertStyles([nv_style,nv_extContentStyle]))};function nv_computedTimeOut(nv_timeOut){if (nv_timeOut){return(nv_timeOut)};return(({nv_appear:300,nv_exit:200,}))};function nv_computedPositionClass(nv_position,nv_transitionClass){return(nv_position === 'center' && nv_transitionClass !== 'fade' ? 'center':nv_position)};nv_module.nv_exports = ({nv_computedContentStyle:nv_computedContentStyle,nv_computedPositionClass:nv_computedPositionClass,nv_computedTimeOut:nv_computedTimeOut,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/price/index.wxml']={};
f_['./titian-mp/RAW/price/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/price/index.wxml']['namespace']();

f_['./titian-mp/RAW/radio-group/index.wxml']={};
f_['./titian-mp/RAW/radio-group/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/radio-group/index.wxml']['namespace']();

f_['./titian-mp/RAW/radio/index.wxml']={};
f_['./titian-mp/RAW/radio/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/radio/index.wxml']['namespace']();
f_['./titian-mp/RAW/radio/index.wxml']['radius'] =f_['./titian-mp/RAW/common/utils/wxs/borderRadius.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/borderRadius.wxs");
f_['./titian-mp/RAW/radio/index.wxml']['radius']();
f_['./titian-mp/RAW/radio/index.wxml']['utils'] =f_['./titian-mp/RAW/radio/index.wxs'] || nv_require("p_./titian-mp/RAW/radio/index.wxs");
f_['./titian-mp/RAW/radio/index.wxml']['utils']();

f_['./titian-mp/RAW/radio/index.wxs'] = nv_require("p_./titian-mp/RAW/radio/index.wxs");
function np_33(){var nv_module={nv_exports:{}};var nv_stylesUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_borderRadiusUtils = nv_require('p_./titian-mp/RAW/common/utils/wxs/borderRadius.wxs')();function nv_completedStyles(nv_data){if (nv_data.nv_shape === 'circle' || nv_data.nv_shape === 'square'){return(nv_borderRadiusUtils.nv_handler(nv_data.nv_shape) + '; height: ' + nv_data.nv_size + 'rpx')};var nv_style = ({nv_height:nv_data.nv_size + 'rpx',});nv_style[("nv_"+'--base-radius-size')] = (nv_data.nv_shape ? nv_data.nv_shape:nv_data.nv_size) + 'rpx';return(nv_stylesUtils.nv_convertStyles(nv_style))};function nv_completedIconStyles(nv_data){var nv_style = ({});if (nv_data.nv_color){nv_style[("nv_"+'background-color')] = nv_data.nv_color};if (nv_data.nv_size){nv_style[("nv_"+'width')] = nv_style[("nv_"+'height')] = nv_style[("nv_"+'line-height')] = nv_data.nv_size + 'rpx'};return(nv_stylesUtils.nv_convertStyles(nv_style))};nv_module.nv_exports = ({nv_completedStyles:nv_completedStyles,nv_completedIconStyles:nv_completedIconStyles,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/safe-area/index.wxml']={};
f_['./titian-mp/RAW/safe-area/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/safe-area/index.wxml']['namespace']();

f_['./titian-mp/RAW/search/index.wxml']={};
f_['./titian-mp/RAW/search/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/search/index.wxml']['namespace']();

f_['./titian-mp/RAW/sticky/index.wxml']={};
f_['./titian-mp/RAW/sticky/index.wxml']['utils'] =f_['./titian-mp/RAW/sticky/index.wxs'] || nv_require("p_./titian-mp/RAW/sticky/index.wxs");
f_['./titian-mp/RAW/sticky/index.wxml']['utils']();
f_['./titian-mp/RAW/sticky/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/sticky/index.wxml']['namespace']();

f_['./titian-mp/RAW/sticky/index.wxs'] = nv_require("p_./titian-mp/RAW/sticky/index.wxs");
function np_34(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_outStyle(nv_fixed,nv_width,nv_height){if (!nv_fixed)return('');;var nv_style = ({nv_height:nv_height + 'px',nv_width:nv_width + 'px',});return(nv_tools.nv_convertStyles([nv_style]))};function nv_innerStyle(nv_fixed,nv_offsetTop){if (!nv_fixed)return('');;var nv_style = ({nv_top:nv_offsetTop + 'px',});return(nv_tools.nv_convertStyles([nv_style]))};function nv_setPureCss(nv_disabled,nv_offsetTop){if (nv_disabled)return('');;var nv_style = ({nv_position:'sticky',nv_top:nv_offsetTop + 'px',});return(nv_tools.nv_convertStyles([nv_style]))};nv_module.nv_exports = ({nv_outStyle:nv_outStyle,nv_innerStyle:nv_innerStyle,nv_setPureCss:nv_setPureCss,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/tabs/index.wxml']={};
f_['./titian-mp/RAW/tabs/index.wxml']['utils'] =f_['./titian-mp/RAW/tabs/index.wxs'] || nv_require("p_./titian-mp/RAW/tabs/index.wxs");
f_['./titian-mp/RAW/tabs/index.wxml']['utils']();
f_['./titian-mp/RAW/tabs/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/tabs/index.wxml']['namespace']();
f_['./titian-mp/RAW/tabs/index.wxml']['tool'] =f_['./titian-mp/RAW/common/utils/wxs/index.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/index.wxs");
f_['./titian-mp/RAW/tabs/index.wxml']['tool']();

f_['./titian-mp/RAW/tabs/index.wxs'] = nv_require("p_./titian-mp/RAW/tabs/index.wxs");
function np_35(){var nv_module={nv_exports:{}};'use strict';var nv_tools = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();function nv_computedMarkLeft(nv_index,nv_tabWidth,nv_unit,nv_translateList){nv_unit = nv_unit || 'px';var nv_left = (nv_index + 1 / 2) * nv_tabWidth + '';var nv_style = ({nv_transform:'translateX(' + nv_left + nv_unit + ')',});if (nv_translateList.nv_length > 0){nv_style.nv_transform = ' translateX(' + nv_translateList[((nt_0=(nv_index),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] + 'px)'};return(nv_tools.nv_convertStyles([nv_style]))};function nv_computedIntoView(nv_activeIndex,nv_count){var nv_id = nv_activeIndex - nv_parseInt(nv_count / 2);if (nv_id < 0 || !nv_count){nv_id = 0};if (nv_count === 2){nv_id = nv_activeIndex};return('item-' + nv_id)};function nv_computedNavStyle(nv_tabWidth,nv_unit,nv_gap){nv_unit = nv_unit || 'rpx';var nv_style = ({'nv_--tabs-tab-width':nv_tabWidth + nv_unit,'nv_--tabs-tab-gap':nv_gap / 2 + nv_unit,});return(nv_tools.nv_convertStyles([nv_style]))};function nv_isCurrentDay(nv_date){var nv_getDay = (function (nv_timestamp){return(Math.nv_floor(nv_timestamp / 86400000))});return(nv_getDay(nv_getDate(nv_date).nv_getTime()) === nv_getDay(nv_getDate()))};nv_module.nv_exports = ({nv_computedMarkLeft:nv_computedMarkLeft,nv_computedIntoView:nv_computedIntoView,nv_computedNavStyle:nv_computedNavStyle,nv_isCurrentDay:nv_isCurrentDay,});return nv_module.nv_exports;}

f_['./titian-mp/RAW/tag/index.wxml']={};
f_['./titian-mp/RAW/tag/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/tag/index.wxml']['namespace']();

f_['./titian-mp/RAW/textarea/index.wxml']={};
f_['./titian-mp/RAW/textarea/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/textarea/index.wxml']['namespace']();

f_['./titian-mp/RAW/title-bar/index.wxml']={};
f_['./titian-mp/RAW/title-bar/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/title-bar/index.wxml']['namespace']();

f_['./titian-mp/RAW/toast/index.wxml']={};
f_['./titian-mp/RAW/toast/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/toast/index.wxml']['namespace']();

f_['./titian-mp/RAW/transition/index.wxml']={};
f_['./titian-mp/RAW/transition/index.wxml']['namespace'] =f_['./titian-mp/RAW/common/utils/wxs/namespace.wxs'] || nv_require("p_./titian-mp/RAW/common/utils/wxs/namespace.wxs");
f_['./titian-mp/RAW/transition/index.wxml']['namespace']();
f_['./titian-mp/RAW/transition/index.wxml']['utils'] =f_['./titian-mp/RAW/transition/index.wxs'] || nv_require("p_./titian-mp/RAW/transition/index.wxs");
f_['./titian-mp/RAW/transition/index.wxml']['utils']();

f_['./titian-mp/RAW/transition/index.wxs'] = nv_require("p_./titian-mp/RAW/transition/index.wxs");
function np_36(){var nv_module={nv_exports:{}};'use strict';var nv__require = nv_require('p_./titian-mp/RAW/common/utils/wxs/convertStyles.wxs')();var nv_convertStyles = nv__require.nv_convertStyles;var nv_completedTransitionStyle = function nv_completedTransitionStyle(nv_data){return(nv_convertStyles([({'nv_-webkit-transition-duration':''.nv_concat(nv_data.nv_duration,'ms'),'nv_transition-duration':''.nv_concat(nv_data.nv_duration,'ms'),'nv_-webkit-transition-timing-function':nv_data.nv_timingFunction,'nv_transition-timing-function':nv_data.nv_timingFunction,}),nv_data.nv_display ? null:'display: none',nv_data.nv_extStyle]))};nv_module.nv_exports = ({nv_completedTransitionStyle:nv_completedTransitionStyle,});return nv_module.nv_exports;}

var x=['./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml','./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml','./cms_sdk/RAW/mats/nav-menu/tpls/app.wxml','./icon.wxml','./text.wxml','./cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml','./cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml','./cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml','./cms_sdk/RAW/mats/nav-menu/tpls/text.wxml','./custom-tab-bar/index.wxml','./t/page-template.wxml'];d_[x[0]]={}
d_[x[0]]["unit-exchange"]=function(e,s,r,gg){
var z=gz$gwx_1()
var b=x[0]+':unit-exchange'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
d_[x[1]]["unit-integral-price"]=function(e,s,r,gg){
var z=gz$gwx_2()
var b=x[1]+':unit-integral-price'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml"],"",1)
if(p_[b]){_wl(b,x[1]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['class',1,'id',1,'style',2],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,4,e,s,gg)){xC.wxVkey=1
var cF=_v()
_(xC,cF)
if(_oz(z,5,e,s,gg)){cF.wxVkey=1
var hG=_mz(z,'text',['class',6,'id',1],[],e,s,gg)
var oH=_v()
_(hG,oH)
if(_oz(z,8,e,s,gg)){oH.wxVkey=1
}
var cI=_v()
_(hG,cI)
if(_oz(z,9,e,s,gg)){cI.wxVkey=1
}
oH.wxXCkey=1
cI.wxXCkey=1
_(cF,hG)
}
else{cF.wxVkey=2
var oJ=_mz(z,'view',['class',10,'id',1],[],e,s,gg)
var lK=_v()
_(oJ,lK)
if(_oz(z,12,e,s,gg)){lK.wxVkey=1
}
var aL=_v()
_(oJ,aL)
if(_oz(z,13,e,s,gg)){aL.wxVkey=1
}
lK.wxXCkey=1
aL.wxXCkey=1
_(cF,oJ)
}
cF.wxXCkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,14,e,s,gg)){oD.wxVkey=1
var tM=_v()
_(oD,tM)
if(_oz(z,15,e,s,gg)){tM.wxVkey=1
var eN=_mz(z,'ti-icon',['color',16,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(tM,eN)
}
tM.wxXCkey=1
tM.wxXCkey=3
}
var fE=_v()
_(oB,fE)
if(_oz(z,21,e,s,gg)){fE.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
oD.wxXCkey=3
fE.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m1=function(e,s,r,gg){
var z=gz$gwx_2()
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
d_[x[2]]["marketing-data"]=function(e,s,r,gg){
var z=gz$gwx_3()
var b=x[2]+':marketing-data'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml"],"",1)
if(p_[b]){_wl(b,x[2]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['class',2,'id',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
var cF=_v()
_(oD,cF)
var hG=function(cI,oH,oJ,gg){
var aL=_mz(z,'ti-tag',['class',9,'color',1,'extClass',2,'extStyle',3,'id',4,'leftIcon',5,'size',6,'variant',7],[],cI,oH,gg)
_(oJ,aL)
return oJ
}
cF.wxXCkey=4
_2z(z,7,hG,e,s,gg,cF,'item','index','index')
}
var fE=_v()
_(xC,fE)
if(_oz(z,17,e,s,gg)){fE.wxVkey=1
}
oD.wxXCkey=1
oD.wxXCkey=3
fE.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m2=function(e,s,r,gg){
var z=gz$gwx_3()
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
d_[x[3]]["unit-price"]=function(e,s,r,gg){
var z=gz$gwx_4()
var b=x[3]+':unit-price'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml"],"",1)
if(p_[b]){_wl(b,x[3]);return}
p_[b]=true
try{
var xC=_mz(z,'view',['class',1,'id',1,'style',2],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
var hG=_v()
_(oD,hG)
if(_oz(z,5,e,s,gg)){hG.wxVkey=1
}
hG.wxXCkey=1
}
var fE=_v()
_(xC,fE)
if(_oz(z,6,e,s,gg)){fE.wxVkey=1
}
else{fE.wxVkey=2
var oH=_mz(z,'view',['class',7,'id',1,'style',2],[],e,s,gg)
var lK=_mz(z,'view',['class',10,'id',1],[],e,s,gg)
var aL=_v()
_(lK,aL)
if(_oz(z,12,e,s,gg)){aL.wxVkey=1
}
var tM=_v()
_(lK,tM)
if(_oz(z,13,e,s,gg)){tM.wxVkey=1
}
aL.wxXCkey=1
tM.wxXCkey=1
_(oH,lK)
var cI=_v()
_(oH,cI)
if(_oz(z,14,e,s,gg)){cI.wxVkey=1
}
var oJ=_v()
_(oH,oJ)
if(_oz(z,15,e,s,gg)){oJ.wxVkey=1
}
cI.wxXCkey=1
oJ.wxXCkey=1
_(fE,oH)
}
var cF=_v()
_(xC,cF)
if(_oz(z,16,e,s,gg)){cF.wxVkey=1
var eN=_v()
_(cF,eN)
if(_oz(z,17,e,s,gg)){eN.wxVkey=1
}
eN.wxXCkey=1
}
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
_(r,xC)
var oB=_v()
_(r,oB)
if(_oz(z,18,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m3=function(e,s,r,gg){
var z=gz$gwx_4()
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
d_[x[4]]["unit-progress"]=function(e,s,r,gg){
var z=gz$gwx_5()
var b=x[4]+':unit-progress'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml"],"",1)
if(p_[b]){_wl(b,x[4]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'ti-progress',['round',-1,'color',2,'id',1,'strokeColor',2,'strokeWidth',3,'value',4],[],e,s,gg)
_(oB,xC)
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m4=function(e,s,r,gg){
var z=gz$gwx_5()
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
d_[x[5]]["unit-sales"]=function(e,s,r,gg){
var z=gz$gwx_6()
var b=x[5]+':unit-sales'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml"],"",1)
if(p_[b]){_wl(b,x[5]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m5=function(e,s,r,gg){
var z=gz$gwx_6()
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[],ic:[]}
d_[x[6]]={}
d_[x[6]]["unit-sub-title"]=function(e,s,r,gg){
var z=gz$gwx_7()
var b=x[6]+':unit-sub-title'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml"],"",1)
if(p_[b]){_wl(b,x[6]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m6=function(e,s,r,gg){
var z=gz$gwx_7()
return r
}
e_[x[6]]={f:m6,j:[],i:[],ti:[],ic:[]}
d_[x[7]]={}
d_[x[7]]["unit-tag"]=function(e,s,r,gg){
var z=gz$gwx_8()
var b=x[7]+':unit-tag'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml"],"",1)
if(p_[b]){_wl(b,x[7]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['class',2,'id',1],[],e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
var fE=_mz(z,'ti-tag',['class',5,'color',1,'extClass',2,'extStyle',3,'id',4,'size',5,'type',6],[],e,s,gg)
var cF=_mz(z,'ti-icon',['color',12,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(fE,cF)
_(oD,fE)
}
var hG=_v()
_(xC,hG)
var oH=function(oJ,cI,lK,gg){
var tM=_v()
_(lK,tM)
if(_oz(z,21,oJ,cI,gg)){tM.wxVkey=1
var eN=_mz(z,'ti-tag',['round',-1,'class',22,'color',1,'extClass',2,'extStyle',3,'id',4,'size',5,'variant',6],[],oJ,cI,gg)
_(tM,eN)
}
tM.wxXCkey=1
tM.wxXCkey=3
return lK
}
hG.wxXCkey=4
_2z(z,19,oH,e,s,gg,hG,'item','index','index')
oD.wxXCkey=1
oD.wxXCkey=3
_(oB,xC)
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m7=function(e,s,r,gg){
var z=gz$gwx_8()
return r
}
e_[x[7]]={f:m7,j:[],i:[],ti:[],ic:[]}
d_[x[8]]={}
d_[x[8]]["unit-title"]=function(e,s,r,gg){
var z=gz$gwx_9()
var b=x[8]+':unit-title'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml"],"",1)
if(p_[b]){_wl(b,x[8]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['class',1,'id',1],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,3,e,s,gg)){xC.wxVkey=1
var oD=_v()
_(xC,oD)
if(_oz(z,4,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
}
else{xC.wxVkey=2
var fE=_v()
_(xC,fE)
if(_oz(z,5,e,s,gg)){fE.wxVkey=1
}
fE.wxXCkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m8=function(e,s,r,gg){
var z=gz$gwx_9()
return r
}
e_[x[8]]={f:m8,j:[],i:[],ti:[],ic:[]}
d_[x[9]]={}
d_[x[9]]["load-more"]=function(e,s,r,gg){
var z=gz$gwx_10()
var b=x[9]+':load-more'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml"],"",1)
if(p_[b]){_wl(b,x[9]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var oD=_mz(z,'view',['class',3,'id',1],[],e,s,gg)
var fE=_v()
_(oD,fE)
if(_oz(z,5,e,s,gg)){fE.wxVkey=1
var cF=_v()
_(fE,cF)
if(_oz(z,6,e,s,gg)){cF.wxVkey=1
var hG=_mz(z,'view',['bindtap',7,'class',1,'id',2],[],e,s,gg)
var oH=_mz(z,'ti-icon',['id',10,'name',1,'size',2],[],e,s,gg)
_(hG,oH)
_(cF,hG)
}
else{cF.wxVkey=2
var cI=_mz(z,'ti-loading',['visible',-1,'extClass',13,'id',1,'size',2],[],e,s,gg)
_(cF,cI)
}
cF.wxXCkey=1
cF.wxXCkey=3
cF.wxXCkey=3
}
else{fE.wxVkey=2
var oJ=_mz(z,'ti-loading',['visible',-1,'extClass',16,'id',1,'size',2],[],e,s,gg)
_(fE,oJ)
}
fE.wxXCkey=1
fE.wxXCkey=3
fE.wxXCkey=3
_(xC,oD)
}
xC.wxXCkey=1
xC.wxXCkey=3
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m9=function(e,s,r,gg){
var z=gz$gwx_10()
return r
}
e_[x[9]]={f:m9,j:[],i:[],ti:[],ic:[]}
d_[x[10]]={}
d_[x[10]]["more"]=function(e,s,r,gg){
var z=gz$gwx_11()
var b=x[10]+':more'
r.wxVkey=b
gg.f=$gdc(f_["./cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml"],"",1)
if(p_[b]){_wl(b,x[10]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var oD=_mz(z,'view',['catchtap',3,'class',1,'id',2,'style',3],[],e,s,gg)
var fE=_v()
_(oD,fE)
if(_oz(z,7,e,s,gg)){fE.wxVkey=1
var cF=_mz(z,'ti-icon',['id',8,'name',1,'size',2],[],e,s,gg)
_(fE,cF)
}
fE.wxXCkey=1
fE.wxXCkey=3
_(xC,oD)
}
else{xC.wxVkey=2
var hG=_mz(z,'view',['catchtap',11,'class',1,'id',2],[],e,s,gg)
var oH=_mz(z,'ti-icon',['id',14,'name',1,'size',2],[],e,s,gg)
_(hG,oH)
_(xC,hG)
}
xC.wxXCkey=1
xC.wxXCkey=3
xC.wxXCkey=3
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m10=function(e,s,r,gg){
var z=gz$gwx_11()
return r
}
e_[x[10]]={f:m10,j:[],i:[],ti:[],ic:[]}
d_[x[11]]={}
d_[x[11]]["app"]=function(e,s,r,gg){
var z=gz$gwx_12()
var b=x[11]+':app'
r.wxVkey=b
gg.f=$gdc(f_["./cms_sdk/RAW/mats/nav-menu/tpls/app.wxml"],"",1)
if(p_[b]){_wl(b,x[11]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['class',1,'id',1,'style',2],[],e,s,gg)
var oD=_v()
_(oB,oD)
var fE=function(hG,cF,oH,gg){
var oJ=_mz(z,'view',['bind:tap',6,'class',1,'data-customer-service-status',2,'data-id',3,'id',4,'style',5],[],hG,cF,gg)
var aL=_v()
_(oJ,aL)
var tM=_oz(z,13,hG,cF,gg)
var eN=_gd(x[11],tM,e_,d_)
if(eN){
var bO=_1z(z,12,hG,cF,gg) || {}
var cur_globalf=gg.f
aL.wxXCkey=3
eN(bO,bO,aL,gg)
gg.f=cur_globalf
}
else _w(tM,x[11],1,771)
var oP=_v()
_(oJ,oP)
var xQ=_oz(z,15,hG,cF,gg)
var oR=_gd(x[11],xQ,e_,d_)
if(oR){
var fS=_1z(z,14,hG,cF,gg) || {}
var cur_globalf=gg.f
oP.wxXCkey=3
oR(fS,fS,oP,gg)
gg.f=cur_globalf
}
else _w(xQ,x[11],1,854)
var lK=_v()
_(oJ,lK)
if(_oz(z,16,hG,cF,gg)){lK.wxVkey=1
var cT=_mz(z,'CMSSDKIMEntry',['bind:onCallback',17,'bind:onTapEvent',1,'config',2,'data-customer-service-status',3,'data-id',4,'data-index',5,'extClass',6,'extStyle',7,'id',8],[],hG,cF,gg)
_(lK,cT)
}
lK.wxXCkey=1
lK.wxXCkey=3
_(oH,oJ)
return oH
}
oD.wxXCkey=4
_2z(z,4,fE,e,s,gg,oD,'item','index','id')
var xC=_v()
_(oB,xC)
if(_oz(z,26,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m11=function(e,s,r,gg){
var z=gz$gwx_12()
var cOB=e_[x[11]].i
_ai(cOB,x[12],e_,x[11],1,1)
_ai(cOB,x[13],e_,x[11],1,28)
cOB.pop()
cOB.pop()
return r
}
e_[x[11]]={f:m11,j:[],i:[],ti:[x[12],x[13]],ic:[]}
d_[x[14]]={}
d_[x[14]]["collapse"]=function(e,s,r,gg){
var z=gz$gwx_13()
var b=x[14]+':collapse'
r.wxVkey=b
gg.f=$gdc(f_["./cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml"],"",1)
if(p_[b]){_wl(b,x[14]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['class',1,'id',1],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,3,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
var fE=function(hG,cF,oH,gg){
var oJ=_mz(z,'view',['bind:tap',6,'class',1,'data-customer-service-status',2,'data-id',3,'id',4,'style',5],[],hG,cF,gg)
var aL=_v()
_(oJ,aL)
var tM=_oz(z,13,hG,cF,gg)
var eN=_gd(x[14],tM,e_,d_)
if(eN){
var bO=_1z(z,12,hG,cF,gg) || {}
var cur_globalf=gg.f
aL.wxXCkey=3
eN(bO,bO,aL,gg)
gg.f=cur_globalf
}
else _w(tM,x[14],1,945)
var oP=_v()
_(oJ,oP)
var xQ=_oz(z,15,hG,cF,gg)
var oR=_gd(x[14],xQ,e_,d_)
if(oR){
var fS=_1z(z,14,hG,cF,gg) || {}
var cur_globalf=gg.f
oP.wxXCkey=3
oR(fS,fS,oP,gg)
gg.f=cur_globalf
}
else _w(xQ,x[14],1,997)
var lK=_v()
_(oJ,lK)
if(_oz(z,16,hG,cF,gg)){lK.wxVkey=1
var cT=_mz(z,'CMSSDKIMEntry',['bind:onCallback',17,'bind:onTapEvent',1,'config',2,'data-customer-service-status',3,'data-id',4,'data-index',5,'extClass',6,'extStyle',7,'id',8],[],hG,cF,gg)
_(lK,cT)
}
lK.wxXCkey=1
lK.wxXCkey=3
_(oH,oJ)
return oH
}
oD.wxXCkey=4
_2z(z,4,fE,e,s,gg,oD,'item','index','id')
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m12=function(e,s,r,gg){
var z=gz$gwx_13()
var lQB=e_[x[14]].i
_ai(lQB,x[12],e_,x[14],1,1)
_ai(lQB,x[13],e_,x[14],1,28)
lQB.pop()
lQB.pop()
return r
}
e_[x[14]]={f:m12,j:[],i:[],ti:[x[12],x[13]],ic:[]}
d_[x[15]]={}
d_[x[15]]["icon"]=function(e,s,r,gg){
var z=gz$gwx_14()
var b=x[15]+':icon'
r.wxVkey=b
gg.f=$gdc(f_["./cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml"],"",1)
if(p_[b]){_wl(b,x[15]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var fE=_mz(z,'FontIcon',['block',-1,'id',3,'type',1,'value',2],[],e,s,gg)
_(xC,fE)
}
var oD=_v()
_(r,oD)
if(_oz(z,6,e,s,gg)){oD.wxVkey=1
var cF=_v()
_(oD,cF)
if(_oz(z,7,e,s,gg)){cF.wxVkey=1
var hG=_mz(z,'CMSSDKIMEntry',['bind:onTapEvent',8,'config',1,'data-customer-service-status',2,'data-id',3,'extClass',4,'id',5],[],e,s,gg)
_(cF,hG)
}
cF.wxXCkey=1
cF.wxXCkey=3
}
oB.wxXCkey=1
xC.wxXCkey=1
xC.wxXCkey=3
oD.wxXCkey=1
oD.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m13=function(e,s,r,gg){
var z=gz$gwx_14()
return r
}
e_[x[15]]={f:m13,j:[],i:[],ti:[],ic:[]}
d_[x[16]]={}
d_[x[16]]["submenu"]=function(e,s,r,gg){
var z=gz$gwx_15()
var b=x[16]+':submenu'
r.wxVkey=b
gg.f=$gdc(f_["./cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml"],"",1)
if(p_[b]){_wl(b,x[16]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_mz(z,'view',['class',2,'id',1],[],e,s,gg)
var fE=_mz(z,'view',['class',4,'id',1],[],e,s,gg)
var cF=_mz(z,'view',['bind:tap',6,'class',1,'data-id',2,'id',3,'style',4],[],e,s,gg)
var hG=_mz(z,'FontIcon',['block',-1,'id',11,'type',1,'value',2],[],e,s,gg)
_(cF,hG)
_(fE,cF)
var oH=_v()
_(fE,oH)
var cI=function(lK,oJ,aL,gg){
var eN=_v()
_(aL,eN)
if(_oz(z,17,lK,oJ,gg)){eN.wxVkey=1
}
else if(_oz(z,18,lK,oJ,gg)){eN.wxVkey=2
var bO=_mz(z,'view',['bind:tap',19,'class',1,'data-customer-service-status',2,'data-id',3,'id',4,'style',5],[],lK,oJ,gg)
var oP=_v()
_(bO,oP)
if(_oz(z,26,lK,oJ,gg)){oP.wxVkey=1
}
var xQ=_v()
_(bO,xQ)
if(_oz(z,27,lK,oJ,gg)){xQ.wxVkey=1
var oR=_mz(z,'CMSSDKIMEntry',['bind:onCallback',28,'bind:onTapEvent',1,'config',2,'data-customer-service-status',3,'data-id',4,'data-index',5,'extClass',6,'extStyle',7,'id',8],[],lK,oJ,gg)
_(xQ,oR)
}
oP.wxXCkey=1
xQ.wxXCkey=1
xQ.wxXCkey=3
_(eN,bO)
}
else{eN.wxVkey=3
var fS=_mz(z,'Popover',['bgColor',37,'bind:toggle',1,'borderColor',2,'class',3,'containerStyle',4,'data-id',5,'id',6,'open',7,'placement',8,'popoverStyle',9,'style',10,'toggleStyle',11],[],lK,oJ,gg)
var cT=_v()
_(fS,cT)
if(_oz(z,49,lK,oJ,gg)){cT.wxVkey=1
}
var hU=_mz(z,'view',['class',50,'id',1,'slot',2],[],lK,oJ,gg)
var oV=_v()
_(hU,oV)
var cW=function(lY,oX,aZ,gg){
var e2=_mz(z,'view',['bind:tap',57,'class',1,'data-customer-service-status',2,'data-id',3,'data-parent',4,'id',5,'style',6],[],lY,oX,gg)
var b3=_v()
_(e2,b3)
if(_oz(z,64,lY,oX,gg)){b3.wxVkey=1
}
var o4=_v()
_(e2,o4)
if(_oz(z,65,lY,oX,gg)){o4.wxVkey=1
var x5=_mz(z,'CMSSDKIMEntry',['bind:onCallback',66,'bind:onTapEvent',1,'config',2,'data-customer-service-status',3,'data-id',4,'data-index',5,'data-parent',6,'data-parent-index',7,'extClass',8,'extStyle',9,'id',10],[],lY,oX,gg)
_(o4,x5)
}
b3.wxXCkey=1
o4.wxXCkey=1
o4.wxXCkey=3
_(aZ,e2)
return aZ
}
oV.wxXCkey=4
_2z(z,55,cW,lK,oJ,gg,oV,'child','childIndex','id')
_(fS,hU)
cT.wxXCkey=1
_(eN,fS)
}
eN.wxXCkey=1
eN.wxXCkey=3
eN.wxXCkey=3
return aL
}
oH.wxXCkey=4
_2z(z,15,cI,e,s,gg,oH,'navItem','index','id')
_(xC,fE)
var oD=_v()
_(xC,oD)
if(_oz(z,77,e,s,gg)){oD.wxVkey=1
}
oD.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m14=function(e,s,r,gg){
var z=gz$gwx_15()
var eTB=e_[x[16]].i
_ai(eTB,x[12],e_,x[16],1,1)
_ai(eTB,x[13],e_,x[16],1,28)
eTB.pop()
eTB.pop()
return r
}
e_[x[16]]={f:m14,j:[],i:[],ti:[x[12],x[13]],ic:[]}
d_[x[17]]={}
d_[x[17]]["text"]=function(e,s,r,gg){
var z=gz$gwx_16()
var b=x[17]+':text'
r.wxVkey=b
gg.f=$gdc(f_["./cms_sdk/RAW/mats/nav-menu/tpls/text.wxml"],"",1)
if(p_[b]){_wl(b,x[17]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m15=function(e,s,r,gg){
var z=gz$gwx_16()
return r
}
e_[x[17]]={f:m15,j:[],i:[],ti:[],ic:[]}
d_[x[18]]={}
var m16=function(e,s,r,gg){
var z=gz$gwx_17()
return r
}
e_[x[18]]={f:m16,j:[],i:[],ti:[],ic:[]}
d_[x[19]]={}
d_[x[19]]["page"]=function(e,s,r,gg){
var z=gz$gwx_18()
var b=x[19]+':page'
r.wxVkey=b
gg.f=$gdc(f_["./t/page-template.wxml"],"",1)
if(p_[b]){_wl(b,x[19]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
var oD=_v()
_(xC,oD)
var fE=function(hG,cF,oH,gg){
var oJ=_v()
_(oH,oJ)
if(_oz(z,5,hG,cF,gg)){oJ.wxVkey=1
var lK=_mz(z,'container',['bind:titanpageattached',6,'pagePath',1],[],hG,cF,gg)
_(oJ,lK)
}
oJ.wxXCkey=1
oJ.wxXCkey=3
return oH
}
oD.wxXCkey=4
_2z(z,3,fE,e,s,gg,oD,'item','index','key')
var aL=_n('tab-bar')
_rz(z,aL,'tabbarState',8,e,s,gg)
_(xC,aL)
}
else{xC.wxVkey=2
var tM=_mz(z,'scroll-view',['bindscroll',9,'bindscrolltolower',1,'bounces',2,'enableBackToTop',3,'enhanced',4,'scrollTop',5,'scrollY',6,'style',7],[],e,s,gg)
var eN=_n('view')
_rz(z,eN,'style',17,e,s,gg)
var bO=_v()
_(eN,bO)
var oP=function(oR,xQ,fS,gg){
var hU=_v()
_(fS,hU)
if(_oz(z,20,oR,xQ,gg)){hU.wxVkey=1
var oV=_mz(z,'container',['bind:titanpageattached',21,'pagePath',1],[],oR,xQ,gg)
_(hU,oV)
}
hU.wxXCkey=1
hU.wxXCkey=3
return fS
}
bO.wxXCkey=4
_2z(z,18,oP,e,s,gg,bO,'item','index','key')
var cW=_n('tab-bar')
_rz(z,cW,'tabbarState',23,e,s,gg)
_(eN,cW)
_(tM,eN)
_(xC,tM)
}
xC.wxXCkey=1
xC.wxXCkey=3
xC.wxXCkey=3
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m17=function(e,s,r,gg){
var z=gz$gwx_18()
return r
}
e_[x[19]]={f:m17,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||true)$gwx();	if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-exchange.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-integral-price.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-marketing-data.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-price.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-progress.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sales.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-sub-title.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-tag.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-card/components/unit-title.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/load-more.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml'] = [$gwx, './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml'] = $gwx( './cms_design/RAW/miniprogram_npm/@design-ec/wx-good-list/more.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/app.wxml'] = [$gwx, './cms_sdk/RAW/mats/nav-menu/tpls/app.wxml'];else __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/app.wxml'] = $gwx( './cms_sdk/RAW/mats/nav-menu/tpls/app.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml'] = [$gwx, './cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml'];else __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml'] = $gwx( './cms_sdk/RAW/mats/nav-menu/tpls/collapse.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml'] = [$gwx, './cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml'];else __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml'] = $gwx( './cms_sdk/RAW/mats/nav-menu/tpls/icon.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml'] = [$gwx, './cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml'];else __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml'] = $gwx( './cms_sdk/RAW/mats/nav-menu/tpls/submenu.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/text.wxml'] = [$gwx, './cms_sdk/RAW/mats/nav-menu/tpls/text.wxml'];else __wxAppCode__['cms_sdk/RAW/mats/nav-menu/tpls/text.wxml'] = $gwx( './cms_sdk/RAW/mats/nav-menu/tpls/text.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['custom-tab-bar/index.wxml'] = [$gwx, './custom-tab-bar/index.wxml'];else __wxAppCode__['custom-tab-bar/index.wxml'] = $gwx( './custom-tab-bar/index.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['t/page-template.wxml'] = [$gwx, './t/page-template.wxml'];else __wxAppCode__['t/page-template.wxml'] = $gwx( './t/page-template.wxml' );
	;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Arrayincludes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(0==n)return!1;for(var i,o,a=0|e,u=Math.max(0<=a?a:n-Math.abs(a),0);u<n;){if((i=t[u])===(o=r)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;u++}return!1}});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Arrayincludes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Objectentries.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Object.entries||(Object.entries=function(e){for(var r=Object.keys(e),t=r.length,n=new Array(t);t--;)n[t]=[r[t],e[r[t]]];return n});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Objectentries.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Objectvalues.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(e[t]);return r});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Objectvalues.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayLikeToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}module.exports=_arrayLikeToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayLikeToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayWithHoles(r){if(Array.isArray(r))return r}module.exports=_arrayWithHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithoutHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _arrayWithoutHoles(r){if(Array.isArray(r))return arrayLikeToArray(r)}module.exports=_arrayWithoutHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithoutHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/assertThisInitialized.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=_assertThisInitialized;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/assertThisInitialized.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/classCallCheck.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _classCallCheck(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/classCallCheck.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/construct.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var setPrototypeOf=require("./setPrototypeOf"),isNativeReflectConstruct=require("./isNativeReflectConstruct");function _construct(t,e,r){return isNativeReflectConstruct()?module.exports=_construct=Reflect.construct.bind():module.exports=_construct=function(t,e,r){var o=[null];o.push.apply(o,e);var c=new(Function.bind.apply(t,o));return r&&setPrototypeOf(c,r.prototype),c},_construct.apply(null,arguments)}module.exports=_construct;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/construct.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createClass.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var toPropertyKey=require("./toPropertyKey");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}module.exports=_createClass;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createClass.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createForOfIteratorHelper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var unsupportedIterableToArray=require("./unsupportedIterableToArray");function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return u=r.done,r},e:function(r){i=!0,a=r},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}module.exports=_createForOfIteratorHelper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createForOfIteratorHelper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createSuper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var getPrototypeOf=require("./getPrototypeOf"),isNativeReflectConstruct=require("./isNativeReflectConstruct"),possibleConstructorReturn=require("./possibleConstructorReturn");function _createSuper(t){var e=isNativeReflectConstruct();return function(){var r,o=getPrototypeOf(t);if(e){var s=getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return possibleConstructorReturn(this,r)}}module.exports=_createSuper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createSuper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/defineProperty.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var toPropertyKey=require("./toPropertyKey");function _defineProperty(e,r,t){return(r=toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}module.exports=_defineProperty;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/defineProperty.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/extends.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _extends(){return module.exports=_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}module.exports=_extends;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/extends.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/get.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var superPropBase=require("./superPropBase");function _get(){return"undefined"!=typeof Reflect&&Reflect.get?module.exports=_get=Reflect.get.bind():module.exports=_get=function(e,t,r){var o=superPropBase(e,t);if(o){var p=Object.getOwnPropertyDescriptor(o,t);return p.get?p.get.call(arguments.length<3?e:r):p.value}},_get.apply(this,arguments)}module.exports=_get;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/get.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/getPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _getPrototypeOf(t){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}module.exports=_getPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/getPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/inherits.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var setPrototypeOf=require("./setPrototypeOf");function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&setPrototypeOf(e,t)}module.exports=_inherits;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/inherits.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/isNativeFunction.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _isNativeFunction(n){return-1!==Function.toString.call(n).indexOf("[native code]")}module.exports=_isNativeFunction;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/isNativeFunction.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/isNativeReflectConstruct.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}module.exports=_isNativeReflectConstruct;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/isNativeReflectConstruct.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}module.exports=_iterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArrayLimit.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArrayLimit(r,e){var l=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=l){var t,n,i,a,u=[],o=!0,f=!1;try{if(i=(l=l.call(r)).next,0===e){if(Object(l)!==l)return;o=!1}else for(;!(o=(t=i.call(l)).done)&&(u.push(t.value),u.length!==e);o=!0);}catch(r){f=!0,n=r}finally{try{if(!o&&null!=l.return&&(a=l.return(),Object(a)!==a))return}finally{if(f)throw n}}return u}}module.exports=_iterableToArrayLimit;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArrayLimit.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableRest.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableRest.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableSpread.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableSpread;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableSpread.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectDestructuringEmpty.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}module.exports=_objectDestructuringEmpty;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectDestructuringEmpty.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectSpread2.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var defineProperty=require("./defineProperty");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}module.exports=_objectSpread2;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectSpread2.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectWithoutProperties.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var objectWithoutPropertiesLoose=require("./objectWithoutPropertiesLoose");function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(r=0;r<p.length;r++)o=p[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}module.exports=_objectWithoutProperties;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectWithoutProperties.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectWithoutPropertiesLoose.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};var t,r,i={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],o.indexOf(t)>=0||(i[t]=e[t]);return i}module.exports=_objectWithoutPropertiesLoose;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectWithoutPropertiesLoose.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/possibleConstructorReturn.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),assertThisInitialized=require("./assertThisInitialized");function _possibleConstructorReturn(e,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(e)}module.exports=_possibleConstructorReturn;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/possibleConstructorReturn.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/regeneratorRuntime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var t=require("./typeof");function r(){module.exports=r=function(){return e},module.exports.__esModule=!0,module.exports.default=module.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{h({},"")}catch(t){h=function(t,r,e){return t[r]=e}}function f(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,a=Object.create(o.prototype),c=new k(n||[]);return i(a,"_invoke",{value:E(t,e,c)}),a}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p={};function d(){}function v(){}function y(){}var g={};h(g,c,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(G([])));w&&w!==n&&o.call(w,c)&&(g=w);var x=y.prototype=d.prototype=Object.create(g);function L(t){["next","throw","return"].forEach((function(r){h(t,r,(function(t){return this._invoke(r,t)}))}))}function b(r,e){function n(i,a,c,u){var l=s(r[i],r,a);if("throw"!==l.type){var h=l.arg,f=h.value;return f&&"object"==t(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){h.value=t,c(h)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}function _(t,r){var e=r.method,n=t.iterator[e];if(void 0===n)return r.delegate=null,"throw"===e&&t.iterator.return&&(r.method="return",r.arg=void 0,_(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),p;var o=s(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function j(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(t){if(t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(o.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return n.next=n}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=h(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===v||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,h(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(b.prototype),h(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(x),h(x,l,"Generator"),h(x,c,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),j(e),p}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;j(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:G(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),p}},e}module.exports=r,module.exports.__esModule=!0,module.exports.default=module.exports;

},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/regeneratorRuntime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/setPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _setPrototypeOf(t,e){return module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}module.exports=_setPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/setPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/slicedToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithHoles=require("./arrayWithHoles"),iterableToArrayLimit=require("./iterableToArrayLimit"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableRest=require("./nonIterableRest");function _slicedToArray(r,e){return arrayWithHoles(r)||iterableToArrayLimit(r,e)||unsupportedIterableToArray(r,e)||nonIterableRest()}module.exports=_slicedToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/slicedToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/superPropBase.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var getPrototypeOf=require("./getPrototypeOf");function _superPropBase(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=getPrototypeOf(e)););return e}module.exports=_superPropBase;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/superPropBase.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithHoles=require("./arrayWithHoles"),iterableToArray=require("./iterableToArray"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableRest=require("./nonIterableRest");function _toArray(r){return arrayWithHoles(r)||iterableToArray(r)||unsupportedIterableToArray(r)||nonIterableRest()}module.exports=_toArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toConsumableArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithoutHoles=require("./arrayWithoutHoles"),iterableToArray=require("./iterableToArray"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableSpread=require("./nonIterableSpread");function _toConsumableArray(r){return arrayWithoutHoles(r)||iterableToArray(r)||unsupportedIterableToArray(r)||nonIterableSpread()}module.exports=_toConsumableArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toConsumableArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPrimitive.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof");function _toPrimitive(r,t){if("object"!==_typeof(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}module.exports=_toPrimitive;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPrimitive.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPropertyKey.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),toPrimitive=require("./toPrimitive");function _toPropertyKey(r){var t=toPrimitive(r,"string");return"symbol"===_typeof(t)?t:String(t)}module.exports=_toPropertyKey;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPropertyKey.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/typeof.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _typeof(o){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=_typeof;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/typeof.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/unsupportedIterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/unsupportedIterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/wrapNativeSuper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var getPrototypeOf=require("./getPrototypeOf"),setPrototypeOf=require("./setPrototypeOf"),isNativeFunction=require("./isNativeFunction"),construct=require("./construct");function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return module.exports=_wrapNativeSuper=function(t){if(null===t||!isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return construct(t,arguments,getPrototypeOf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),setPrototypeOf(r,t)},_wrapNativeSuper(t)}module.exports=_wrapNativeSuper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/wrapNativeSuper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/base-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../@babel/runtime/helpers/Objectvalues"),require("../@babel/runtime/helpers/Arrayincludes"),require("../@babel/runtime/helpers/Objectentries");var t=require("../@babel/runtime/helpers/inherits"),e=require("../@babel/runtime/helpers/createSuper"),n=require("../@babel/runtime/helpers/regeneratorRuntime"),r=require("../@babel/runtime/helpers/toConsumableArray"),a=require("../@babel/runtime/helpers/defineProperty"),o=require("../@babel/runtime/helpers/classCallCheck"),i=require("../@babel/runtime/helpers/createClass"),u=require("../@babel/runtime/helpers/slicedToArray"),c=require("../@babel/runtime/helpers/createForOfIteratorHelper"),s=require("../@babel/runtime/helpers/typeof");module.exports=function(f){var l=f.global,p=f.externalData,h=f.requireExternal,g=f.PLATFORM_OBJECT,d=Promise,v=function(){var f=Object.defineProperty,v=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,b=function(t,e){return function(){return t&&(e=t(t=0)),e}},w=function(t,e){for(var n in e)f(t,n,{get:e[n],enumerable:!0})},P=function(t){return function(t,e,n,r){if(e&&"object"==s(e)||"function"==typeof e){var a,o=c(m(e));try{var i=function(){var n=a.value;!y.call(t,n)&&void 0!==n&&f(t,n,{get:function(){return e[n]},enumerable:!(r=v(e,n))||r.enumerable})};for(o.s();!(a=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}return t}(f({},"__esModule",{value:!0}),t)};function S(t,e,n){var r="function"==typeof e?e:function(){return arguments[0]};function a(){var e=arguments,n=r.apply(this,e),o=a.cache;if(o.has(n))return o.get(n);var i=t.apply(this,e);return o.set(n,i),i}return D(a,"cache",(function(){return"boolean"==typeof e&&e||n?new WeakMap:new Map})),a.resolver=r,a.raw=t,a}function k(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}function x(t){setTimeout((function(){throw t}))}function O(t,e){if("function"==typeof e)try{return e.apply(t,Array.prototype.slice.call(arguments,2))}catch(t){x(t)}}function C(t){for(var e in t)return!1;return!0}function T(t,e){try{var n=decodeURIComponent(t);return n===t||M.test(n)?n||t:T(n,t)}catch(n){return e||t}}function I(){}function E(t,e){return q.call(t,e)}function j(t){return"[object Object]"===Object.prototype.toString.call(t)}function _(){var t,e,n,r,a,o=arguments;2===o.length?(n=!1,r=(t=u(o,2))[0],a=t[1]):(n=(e=u(o,3))[0],r=e[1],a=e[2]),n&&(r="".concat(l.envName||"default","_").concat(r));var i=U[r];return null==i&&(i=a(),U[r]=i),i}var D,R,A,M,q,N,L,B,W,$,F,U,V,z,K,H,J,G,Q,X,Y,Z,tt,et,nt,rt,at,ot,it,ut,ct,st,ft,lt,pt,ht,gt,dt,vt,mt,yt,bt,wt,Pt,St,kt,xt,Ot,Ct,Tt,It,Et=b((function(){D=function(t,e,n){var r=function(n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:n})};return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,set:r,get:function(){var a=n(t,e);return r(a),a}}),t},R=function(t,e){for(var n in e)D(t,n,e[n]);return t},A=function(t){return D({},"value",t)},M=/(?:^|&)([^&]+)=([^&]+)(?=&|$)/,q=Object.prototype.hasOwnProperty,N=A((function(){return l.PromiseExt.resolve()})),L=function(t){N.value.then(t)},B=function(t,e,n){var r,a,o=t.indexOf("?");return-1!==o?(r=t.slice(0,o),a=t.slice(e?o:o+1)):(r=t,a=""),n&&"/"!==r[0]&&(r="/".concat(r)),[r,a]},S((function(t){return function(e){return t(e)}}),!0),W=function(t){return t},$=function(t){return t},(U=g[F="u0mzkrkr9lc10"])||(U=Object.create(null),g[F]=U)})),jt=b((function(){V=function(t){return!!(8&t)}})),_t=b((function(){z="_fkap",K=["platforms","packages"],H=function(t,e){for(var n=!1,r=function(){n=!0},a=0;a<K.length;a+=1){var o=K[a],i=o.slice(0,-1),u=t[o];for(var c in u){if(e(i,c,u[c],r),n)break}if(n)break}}})),Dt=b((function(){Et(),J=function(){return!!l.independentPackageInfo},G=k((function(){return l.independentPackageInfo?l.independentPackageInfo:null}))})),Rt=b((function(){Et(),Q=A((function(){var t=_("b5h8mq5vvghu",(function(){var t=Object.assign({},require("./env-adapter"));return t.wx=t.default,"function"!=typeof t.getCurrentPages&&(t.getCurrentPages=function(){return getCurrentPages().filter(Boolean)}),"function"!=typeof t.getApp&&(t.getApp=getApp),t}));return l.origEnv=Object.freeze(t),"function"==typeof l.envTransform&&(t=l.envTransform(t)),t})),X=R({},{wx:function(){return Q.value.wx},App:function(){return Q.value.App},Page:function(){return Q.value.Page},Component:function(){return Q.value.Component},Behavior:function(){return Q.value.Behavior},getCurrentPages:function(){return Q.value.getCurrentPages},getApp:function(){return Q.value.getApp}}),(Y=S((function(t){return Symbol(t)}))).cache=_("98bhju57mpnv",(function(){return new Map})),Z=new Set(["platform:rprm"]),tt={"platform:cms_sdk":{Page:!0,Component:!0,"titan.setPageInjections":!0,"wx.showToast":!0}},et=["then","catch","finally"],nt="get_target_page",rt="reload_page",at="page_context__",ot="get_page_context__",it="disable_page_show__",ut="page_showing__",ct="page_onload_called__",st="module_name__",ft="get_component_opts__",lt="construct_by_component__",pt="behavior_options_arr__",ht="is_tab_page__",gt="page_key__",dt="page_options__",vt="__get_raw_page_id__",mt=p.MAX_PAGE_STACK_LENGTH||10,yt="titan:transformPageOptions",bt="titan:transformComponentOptions",wt="titan:onAppLaunch",Pt="titan:fillPageInfos",St="37bxk7v35nxx",kt=["created","attached","ready","moved","detached","error"],xt=["show","hide","resize","routeDone"],Ot="wpyobm56y6y",Ct=Y("deleted"),Tt="callOnThisvg0pbxu7yyz",It={},["log","warn","error"].forEach((function(t){It[t]=function(){var e;(e=console)[t].apply(e,["[titan:core]"].concat(Array.prototype.slice.call(arguments)))}}))}));function At(t,e,n){if("string"==typeof n&&(n={errMsg:n}),t&&("success"in t||"fail"in t||"complete"in t))return O(t,e?t.success:t.fail,n),void O(t,t.complete,n);var r=e?l.PromiseExt.resolve(n):l.PromiseExt.reject(n);return r.catch((function(){})),r}var Mt,qt,Nt,Lt,Bt,Wt,$t,Ft,Ut,Vt,zt,Kt,Ht,Jt,Gt,Qt,Xt,Yt,Zt,te=b((function(){_t(),Et(),Rt(),Mt=function(t,e){var n=t.findIndex(e);-1!==n&&t.splice(n,1)},qt=function(t,e){for(var n=t.length-1;n>=0;n-=1)e(t[n],n,t)&&t.splice(n,1)},Nt=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},Lt=function(t){return!!t&&"object"==s(t)},Bt=function(t,e){return e(t)},Wt=function(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)},$t=function(t,e){if(Z.has(t))return!0;var n=tt[t];return n&&n[e]},Ft=function(t,e){if(!t||!(t.success||t.fail||t.complete))return e;(t.success||t.fail)&&e.then(t.success,t.fail),t.complete&&e.then(t.complete,t.complete).catch(I)},Ut=function(t,e){return t.then((function(t){return l.PromiseExt.resolve(e()).then((function(){return t}))}),(function(t){return l.PromiseExt.resolve(e()).then((function(){return l.PromiseExt.reject(t)}))}))},Vt=function(t,e){var n=setTimeout((function(){It.error("timeout",t)}),5e3);return Ut(e,(function(){clearTimeout(n)}))},zt=function(t){Array.isArray(t.behaviors)&&qt(t.behaviors,(function(t){return!t}))},k((function(){var t={};return H(l.titanConfig,(function(e,n,r){var a=r.pageFlags||{};Object.keys(r.pages).forEach((function(o){t[r.pages[o]]={moduleType:e,moduleName:n,alias:o,pageFlag:a[o]||0}}))})),t})),Kt=function(t,e){var n,r=I,a=null===(n=t.lifetimes)||void 0===n?void 0:n[e];return"function"==typeof a?r=a:"function"==typeof t[e]&&(r=t[e],delete t[e]),t.lifetimes=t.lifetimes||{},t.lifetimes[e]=r,r},Ht=function(t){var e;return(null===(e=null==t?void 0:t[vt])||void 0===e?void 0:e.call(t))||(null==t?void 0:t.getPageId())},Jt=function(t){return Lt(t)&&"string"==typeof t.is&&"function"==typeof t.setData&&"function"==typeof t.selectComponent&&"function"==typeof t.getPageId},Gt=function(t){return Jt(t)&&t.route===t.is}})),ee=b((function(){Et(),Rt(),Qt=A((function(){return X.wx.getSystemInfoSync()})),Xt=k((function(){return(Qt.value.system||"").toLowerCase().includes("ios")})),Yt=k((function(){return(Qt.value.system||"").toLowerCase().includes("android")})),Zt=k((function(){return"devtools"===Qt.value.platform}))}));function ne(t,e){if(t===e)return 0;for(var n=(t||"").split("."),r=(e||"").split("."),a=0,o=Math.min(n.length,r.length);a<o;a+=1){var i=n[a],u=r[a];if(de(i)&&de(u)){var c=parseInt(i,10)-parseInt(u,10);if(0!==c)return ve(c)}else if(i!==u)return i>u?1:-1}return ve(n.length-r.length)}function re(t,e,n){var r=null==t?void 0:t[e];if("function"==typeof r)return r.apply(t,n)}var ae,oe,ie,ue,ce,se,fe,le,pe,he,ge,de,ve,me,ye,be,we,Pe,Se,ke,xe,Oe,Ce,Te,Ie,Ee,je,_e,De,Re,Ae,Me,qe,Ne,Le,Be,We,$e,Fe,Ue,Ve,ze,Ke,He,Je,Ge,Qe,Xe,Ye,Ze,tn,en,nn,rn,an,on,un,cn,sn,fn,ln=b((function(){Et(),Rt(),te(),jt(),ee(),_t(),ae=new WeakMap,oe=function(t){var e=ae.get(t);return e||(e={watchers:{}},ae.set(t,e)),e},ue=new(ie=function(){function t(){o(this,t)}return i(t,[{key:"watch",value:function(t,e){var n=oe(this).watchers,r=n[t];return r||(r=[],n[t]=r),r.push(e),this}},{key:"unwatch",value:function(t,e){var n=oe(this).watchers[t];return n?(Nt(n,e),this):this}},{key:"notify",value:function(t,e){var n=oe(this).watchers[t];return n?(n.forEach((function(t){try{t(e)}catch(t){x(t)}})),this):this}},{key:"teardown",value:function(){oe(this).watchers={}}},{key:"isWatched",value:function(t){var e=oe(this).watchers[t];return null!=e&&0!==e.length}}]),t}()),ce=function(t){ue.watch("*",t)},se=function(t){ue.notify("*",t)},fe=S((function(t){var e=["created","attached","ready","detached","moved"].reduce((function(e,n){return e[n]=function(){se({type:t,instance:this,lifetime:n})},e}),{});return X.Behavior({lifetimes:e})})),le=new WeakMap,pe=function(){return I},he=function(){function t(e){var n=this;o(this,t),this.interceptors=[],this.teardown=I,this.getOrigSetData=function(){var t=Object.getOwnPropertyDescriptor(e,"setData");if(t){var n=t.get,r=t.value;return n||function(){return r}}var a=e.setData;return function(){return a}}();var r=this;Object.defineProperty(e,"setData",{configurable:!0,enumerable:!1,writable:!0,value:function(){var t=this,n=Array.prototype.slice.call(arguments),a=n[0],o=n[1],i={setData:r.getOrigSetData(),callback:o},u=r.interceptors.reduceRight((function(e,n){if(n.before)try{var r=n.before(t,a,i);null!=r&&(e=r)}catch(t){x(t)}return e}),a),c=i.setData.call(e,u,(function(){var t,e=this;return r.interceptors.forEach((function(t){if(t.callback)try{t.callback(e,u,i)}catch(t){x(t)}})),null===(t=i.callback)||void 0===t?void 0:t.apply(this,arguments)}));try{r.interceptors.forEach((function(e){if(e.after)try{e.after(t,u,i)}catch(t){x(t)}}))}catch(t){x(t)}return c}}),this.teardown=function(){le.delete(e);try{Object.defineProperty(e,"setData",{configurable:!0,enumerable:!1,writable:!0,value:n.getOrigSetData()})}catch(t){}e=null,n.getOrigSetData=pe,n.interceptors=[],n.teardown=I}}return i(t,[{key:"addInterceptor",value:function(t){return this.interceptors.push(t),this}},{key:"removeInterceptor",value:function(t){return Nt(this.interceptors,t),this}}],[{key:"from",value:function(e){var n=le.get(e);return n||(n=new t(e),le.set(e,n)),n}}]),t}(),ce((function(t){var e=t.lifetime,n=t.instance;"detached"===e&&le.has(n)&&le.get(n).teardown()})),ge=/^\d+$/,de=function(t){return ge.test(t)},ve=function(t){if(0===t)return 0;if(t>0)return 1;if(t<0)return-1;throw new Error("NaN")},me="TITAN_DISABLE_ASYNC_PACKAGE",ye=A((function(){try{if(ne(Qt.value.SDKVersion,"2.17.3")>=0)return!0;if(Yt()||Xt()&&"wxwork"!==Qt.value.environment)return ne(Qt.value.SDKVersion,"2.11.2")>=0}catch(t){}return!1})),be=A((function(){var t=X.wx.getStorageSync(me);return"boolean"!=typeof t&&(t=!ye.value),t})),we=function(t){be.value=!t,X.wx.setStorageSync(me,be.value)},Pe=function(){var t=!be.value&&ye.value;return(!t||1203!==X.wx.getLaunchOptionsSync().scene)&&t},Se=A((function(){var t=X.wx.getExtConfigSync()||{};if(C(t))try{t=h("mockExt")}catch(t){}return t||{}})),ke=function(t,e){return{stringify:function(e){return Object.keys(e).filter((function(t){return null!=e[t]})).map((function(n){return"".concat(t(n),"=").concat(t(e[n]))})).join("&")},parse:function(t){"?"===t[0]&&(t=t.slice(1));var n={};return t.split("&").forEach((function(t){var r=t.split("="),a=u(r,2),o=a[0],i=a[1];o&&i&&(n[e(o)]=e(i))})),n}}}(encodeURIComponent,T),xe="__impossible_route__",Oe={cms_design:"cms_design_pc"},Ce=A((function(){return K.reduce((function(t,e){var n=l.titanConfig[e];for(var r in n)n[r].hasCompatiblePackage&&(t[r]="".concat(r).concat(z));return t}),Object.assign(a({},xe,xe),Oe))})),Te=k((function(){return new RegExp("^\\/?(".concat(Object.keys(Ce.value).join("|"),")\\/"))})),Ie=k((function(){return new Set(Object.values(Oe))})),Ee=k((function(){var t={};for(var e in Ce.value)t[Ce.value[e]]=e;return[t,new RegExp("^\\/?(".concat(Object.keys(t).join("|"),")\\/"))]})),je=function(t){return Te().test(t)},_e=function(t){var e=Ee(),n=u(e,2),r=n[0],a=n[1];return t.replace(a,(function(t,e){var n=r[e];return n?"".concat(t.startsWith("/")?"/":"").concat(n,"/"):t}))},De=function(t){return Pe()?t:t.replace(Te(),(function(t,e){var n=Ce.value[e];return(!n||Ie().has(n)&&!l.titanConfig.platforms[n]&&!l.titanConfig.packages[n])&&(n=e),"".concat(t.startsWith("/")?"/":"").concat(n,"/")}))},Re=_(!0,"1hqfqu2or31l",(function(){return{}})),Ae=_(!0,"ah4ysa194lpm",(function(){return{}})),Me=function(t){if(t){var e=Ae[t];e instanceof Set&&e.clear(),Ae[t]=Ct}},qe=function(t){if(!t)return null;var e=Ae[t];return e===Ct?null:(null==e&&(e=new Set,Ae[t]=e),e)},Ne=_(!0,"hfw2nj1o3hcn",(function(){return new Map})),Le=_(!0,"tv3z3gjktjo",(function(){return new Map})),Be=_(!0,"i1s51a3hbipp",(function(){return{show:!1,hide:!1}})),We=_(!0,"z25ro5gfz8oq",(function(){return{}})),$e=["onPageScroll","onResize"],Fe="__raw_is__",Ue=k((function(){return X.Behavior({lifetimes:{attached:function(){var t;null===(t=qe(this.getPageId()))||void 0===t||t.add(this)},detached:function(){var t;null===(t=qe(this.getPageId()))||void 0===t||t.delete(this)}}})})),Ve=function(t,e){var n=[];t?e||n.push("shareTimeline"):n.push("shareAppMessage","shareTimeline"),0!==n.length&&X.wx.hideShareMenu({menus:n,complete:function(){}})},ze=function(t,e){for(var n in Ve(!!e.onShareAppMessage,!!e.onShareTimeline),t)"options"!==n&&!(n in e)&&"function"!=typeof t[n]&&(e[n]=t[n])},Ke=function(t,e){var n=qe(t);if(n)try{Be[e]=!0,n.forEach((function(t){var n,r,a;t[pt]&&t[pt].forEach((function(n){var r,a=null===(r=n.pageLifetimes)||void 0===r?void 0:r[e];a&&O(t,a)}));var o=null===(a=null===(r=null===(n=t[ft])||void 0===n?void 0:n.call(t))||void 0===r?void 0:r.pageLifetimes)||void 0===a?void 0:a[e];o&&O(t,o)}))}finally{Be[e]=!1}},He=A((function(){try{var t=Se.value.customNavTabCount;if("number"==typeof t&&!Number.isNaN(t)&&t>=0&&t<=5)return t}catch(t){}return 3})),Je=_(!0,"nupb5j1m7gdr",(function(){return A((function(){return Array.from({length:He.value},(function(t,e){return{targetPath:"/t/".concat(e+1),count:0}})).reduce((function(t,e){return t[e.targetPath]=e,t}),{})}))})),Ge=_(!0,"bgtsfxpj6ofs",(function(){return A((function(){return Array.from({length:5-He.value},(function(t,e){return{targetPath:"/t/".concat(e+He.value+1),count:0}})).reduce((function(t,e){return t[e.targetPath]=e,t}),{})}))})),Qe=new Set(["/cms_design/index","/cms_design/design"]),Xe=function(t,e){var n=t;if(e){var a,o=[];Qe.has(t)&&o.push("pageid","vid","bizVid");var i=e.__uniqueKeys;"string"==typeof i&&(a=o).push.apply(a,r(i.split(",").map((function(t){return t.trim()})).filter(Boolean))),0!==(o=r(new Set(o)).sort()).length&&o.forEach((function(t){var r=e[t];null!=r&&""!==r&&(n+="|".concat(t,":").concat(r))}))}return n},Ye=function(t){var e,n=t,r=B(t),a=u(r,2);t=a[0],e=a[1];var o=l.titanConfig.pageInfos[t];if(o&&V(o.pageFlag)){var i=ke.parse(e),c=function(t,e){var n,r,a="custom"===l.titanConfig.pageInfos[t].navigationStyle?Je.value:Ge.value;C(a)&&(a=a===Je.value?Ge.value:Je.value);for(var o=Object.keys(a),i="",c=Xe(t,e),s=0,f=o.length;s<f;s+=1){var p=o[s];if(a[p].key===c){i=p;break}}if(!i)for(var h="/".concat(null===(r=null===(n=X.getCurrentPages())||void 0===n?void 0:n[0])||void 0===r?void 0:r.route),g=Number.MAX_SAFE_INTEGER,d=0,v=o.length;d<v;d+=1){var m=o[d];if(m!==h){var y=a[m];y.count<g&&(g=y.count,i=m)}}i||(i=u(o,1)[0]);var b=a[i];return b.targetPath=t,b.key=c,[i,c]}(t,i),s=u(c,2),f=s[0],p=s[1];n=f,Re[f]={targetPath:t,key:p,query:i,moduleType:o.moduleType,moduleName:o.moduleName}}return n},Ze=function(t){if(!X.wx.canIUse("page-meta"))for(var e=0;e<t.length;e+=1){var n=t[e];n.endsWith("__")&&(t[e]=n.slice(0,-2))}return t},tn="titanPageRoute",en=function(t,e){var n,r=null==e?void 0:e[tn],a="/".concat(t),o=!0,i=Je.value[a];if(i||(i=Ge.value[a],o=!1),!r&&!Re[a]&&(r=l.titanConfig.defaultEntryPath,i.targetPath=r,i.key=r),r){var u=l.titanConfig.pageInfos[r];u&&V(u.pageFlag)&&(n={targetPath:r,query:e||{},moduleType:u.moduleType,moduleName:u.moduleName,key:Xe(r,e)},Re[a]=n)}return n||(n=Re[a]),i.count=Math.max.apply(null,Object.values(o?Je.value:Ge.value).map((function(t){return t.count})))+1,n},nn=function(t,e){setTimeout((function(){t.setData({pageFns:$e.reduce((function(t,n){return"function"==typeof e[n]&&t.push(n),t}),[])})}))},rn=function(t,e){return e.path||(e.path=t),e.path=_e(e.path),e.promise&&"function"==typeof e.promise.then&&(e.promise=e.promise.then(rn.bind(null,t))),e},an=S((function(t){var e,n,r=null===(e=t.getPageId)||void 0===e?void 0:e.call(t);return r&&(n=Ne.get(r)),n||(n=(X.getCurrentPages()||[]).find((function(t){var e;return(null===(e=t.getPageId)||void 0===e?void 0:e.call(t))===r}))),n}),!0),on=function(t){var e={},n=t.getPageId();e.getPageId=function(){return n};var r=new Set(["data","dataset","options","properties"]);return["route","is","id","data","dataset","options","properties",vt,Ot,st,"$cmsVidResult","$cmsVidPromiseDone","$cmsVidPromise","$cmsNotRecommendVid"].forEach((function(n){if(r.has(n)){var a={};for(var o in e[n]=a,t[n])try{a[o]=JSON.parse(JSON.stringify(t[n][o]))}catch(t){a[o]=null}}else e[n]=t[n]})),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),t=null,e},un=function(t){var e=null,n=Ht(t);return n&&((e=Le.get(n))||(e=X.getCurrentPages().find((function(t){return Ht(t)===n})))),e},cn="z9wkghg8hfbt",sn=$({callChildPageMethod:function(t){for(var e=this[nt](),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return re(e,t,r)},callAfterReady:function(t){var e=this[cn];e?0===e.length?t():e.push(t):this[cn]=[t]},flushAfterReadyFns:function(){this[cn]||(this[cn]=[]),this[cn].splice(0).forEach((function(t){O(null,t)}))},callPageInitLifetimes:function(t,e,n){var r=this;[["onLoad",function(){return re(t,"onLoad",[e])}],["onShow",function(){return re(t,"onShow",[])}],["onReady",function(){return re(t,"onReady",[])}]].forEach((function(t){var e,a,o=u(t,2),i=o[0],c=o[1];try{null===(e=null==n?void 0:n["before:".concat(i)])||void 0===e||e.call(n),c(),null===(a=null==n?void 0:n["after:".concat(i)])||void 0===a||a.call(n)}catch(t){x(t)}"onReady"===i&&r.flushAfterReadyFns()}))}})})),pn=b((function(){Et(),(fn=function(){function t(){o(this,t),this.listeners={},this.removedListeners=new WeakSet}return i(t,[{key:"on",value:function(t,e){this.removedListeners.delete(e),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)}},{key:"once",value:function(t,e){var n=this;this.on(t,(function r(a){n.off(t,r),e(a)}))}},{key:"off",value:function(t,e){if(t&&e){var n=this.listeners[t];if(n){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),this.removedListeners.add(e))}}}},{key:"emit",value:function(t,e,n,r){var a=this;n?L((function(){a.internalEmit(t,e,r)})):this.internalEmit(t,e,r)}},{key:"internalEmit",value:function(t,e,n){var r,a=this,o=n?this.listeners[t]:null===(r=this.listeners[t])||void 0===r?void 0:r.slice(0);null==o||o.forEach((function(t){if(!a.removedListeners.has(t))try{t(e)}catch(t){x(t)}}))}}],[{key:"getDefault",value:function(){return this.defaultEventBus}}]),t}()).defaultEventBus=new fn}));function hn(t,e,n){var a={},o=new Proxy(t,{get:function(t,r){var i=a[r];if(i!==Ct)return void 0===i&&!E(a,r)&&(i=e[r],E(e,r)||(i=t[r]),n&&(i=n(r,i,o)),a[r]=i),i},set:function(t,e,n){return a[e]=n,!0},deleteProperty:function(t,e){try{return a[e]=Ct,!0}catch(t){var n=Reflect.deleteProperty(a,e);return n&&(a[e]=Ct),n}},has:function(t,n){var r=E(a,n);return(!r||a[n]!==Ct)&&(r||E(e,n)||E(t,n))},getOwnPropertyDescriptor:function(t,n){var r=Reflect.getOwnPropertyDescriptor(t,n),o=Reflect.getOwnPropertyDescriptor(a,n)||Reflect.getOwnPropertyDescriptor(e,n);return o?(r&&r.configurable&&(o.configurable=r.configurable),o):r},defineProperty:function(t,e,n){var r=Reflect.getOwnPropertyDescriptor(o,e);if(r){var i=Object.assign(Object.assign({},r),n);return E(n,"get")||E(n,"set")?(delete i.writable,delete i.value):E(n,"value")&&(delete i.get,delete i.set),Reflect.defineProperty(a,e,i)}return Reflect.defineProperty(a,e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(a)},setPrototypeOf:function(t,e){return Reflect.setPrototypeOf(a,e)},ownKeys:function(t){return r(new Set(Reflect.ownKeys(a).concat(Reflect.ownKeys(e),Reflect.ownKeys(t)).filter((function(t){return a[t]!==Ct}))))}});return o}function gn(t,e){t&&"object"==s(t)&&_n.set(t,e)}function dn(t){if(t&&"object"==s(t))return _n.get(t)}function vn(t,e,n){var r=En[En.length-1];if(r&&r.moduleType===e&&r.name===n)return null;var a=Kn(e,n);En.push(a);var o=Object.create(An());return o[Fn]=t,jn.push(o),a}function mn(t){if(t){var e=En.pop();if(jn.pop(),e!==t)for(var n=En.length-1;n>=0;n-=1)if(En[n]===t){En.splice(n);break}}}function yn(){return En[En.length-1]}function bn(){var t=En[En.length-1];return t?t.group||zn(t.moduleType,t.name):null}function wn(){var t=En[En.length-1];return t?Hn(t.moduleType,t.name):{}}function Pn(t){if("function"!=typeof t||t[On])return t;var e=jn[jn.length-1],n=En[En.length-1],r=function(){var r=null;this&&"string"==typeof this.is&&"function"==typeof this.getPageId&&(r=this);var a=Object.create(e);return r&&Ln(r,a,!1),Jn(a,dn(this)||n,t,this,arguments)};return r[On]=t,t[Cn]=r,r}function Sn(t,e){if(!t||"object"!=s(t)||Jt(t))return t;for(var n in t){var r=t[n];if(e&&"getPageId"===n)console.error("存在页面或组件声明了 getPageId 方法，可能导致功能报错，请检查!!!");else if("function"==typeof r)try{t[n]=Pn(r)}catch(t){}}return t}function kn(t){return t instanceof l.PromiseExt&&function t(e,n,r){tr.has(e)||(tr.add(e),r(e),et.forEach((function(a){var o=e[a];!o&&"finally"===a&&(o=Ut.bind(null,e)),e[a]=function(){for(var a=0,i=arguments.length;a<i;a+=1)arguments[a]=n(arguments[a]);var u=o.apply(e,arguments);return t(u,n,r),u}})))}(t,Pn,(function(t){var e=An(),n=yn();n&&e&&Zn.set(t,{metadata:e,moduleInfo:n})})),t}function xn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn;if("string"==typeof t){if(Qn.test(t))return function(){return arguments[0]=Pn(arguments[0]),e.apply(this,arguments)};if(Xn.test(t))return function(){var t;return arguments[0]=(null===(t=arguments[0])||void 0===t?void 0:t[Cn])||arguments[0],e.apply(this,arguments)}}return function(){for(var r=0;r<arguments.length;r+=1){var a=arguments[r];arguments[r]="function"==typeof a?Pn(a):Sn(a)}var o=e.apply(this,arguments);if(Jt(o))return o;if(o&&"object"==s(o)){if(!0===n)return nr(o,!0);if(n&&n[t])return nr(o,n[t])}return kn(o)}}var On,Cn,Tn,In,En,jn,_n,Dn,Rn,An,Mn,qn,Nn,Ln,Bn,Wn,$n,Fn,Un,Vn,zn,Kn,Hn,Jn,Gn,Qn,Xn,Yn,Zn,tr,er,nr,rr,ar=b((function(){Et(),Rt(),te(),pn(),Dt(),On=Y("originFn"),Cn=Y("wrapperFn"),Tn=Y("boundComponent"),In=_("t5jw67tjgmqk",(function(){return{contextStack:[],metadataStack:[{}],thisPtrContextMap:new WeakMap,componentBoundMetadataMap:new WeakMap}})),En=In.contextStack,jn=In.metadataStack,_n=In.thisPtrContextMap,Dn=In.componentBoundMetadataMap,Rn=[],An=function(){return jn[jn.length-1]},Mn=function(t){return An()[t]},qn=function(t,e){An()[t]=e},Nn=function(){return Mn(Tn)},Ln=function(t,e,n){var r=n?Object.create(e):e;Rn.forEach((function(e){e(r,t)}));var a=Dn.get(t);return a?a.push(r):Dn.set(t,[r]),r},Wn=function(t){Nt(Rn,t)},(Bn=function(t){Rn.push(t)})((function(t,e){t[Tn]=e,t.PAGE_ID=e.getPageId(),t.COMPONENT_IS=e.is;try{t.COMPONENT_NODE_ID=e.__wxExparserNodeId__}catch(t){}})),$n=0,Fn="GET_CURRENT_CORE_ENV",Vn=S((function(t,e){return Object.freeze({type:t,name:e})}),Un=function(t,e){return"".concat(t,":").concat(e)}),zn=S((function(t,e){var n,r=null===(n=l.titanConfig["".concat(t,"s")])||void 0===n?void 0:n[e],a=t,o=e;return r?r.group?(a="group",o=r.group):r.namespace?(a="namespace",o=r.namespace):"platform"===t&&(a="namespace",o=e):(a="platform"===t?"namespace":"unknown",o=e),Vn(a,o)}),Un),Kn=S((function(t,e){var n;return Object.freeze({uid:++$n,moduleType:t,name:e,group:zn(t,e),independent:null===(n=G())||void 0===n?void 0:n.name})}),Un),Hn=S((function(t,e){var n,r;return(null===(r=null===(n=l.titanConfig["".concat(t,"s")])||void 0===n?void 0:n[e])||void 0===r?void 0:r.context)||{}}),Un),Jn=function(t,e,n,r,a){var o=!1,i=!1;try{return jn[jn.length-1]!==t&&(jn.push(t),o=!0),En[En.length-1]!==e&&(En.push(e),i=!0),n.apply(r,a||[])}catch(o){throw fn.getDefault().emit("titan:callWithContextError",{metadata:t,moduleInfo:e,that:r,args:a,fn:n,error:o}),o}finally{i&&En.pop(),o&&jn.pop()}},Gn=function(t,e){var n=t[Tt];return n?n.call(t,e):e()},Qn=/^on/,Xn=/^off/,Yn={createSelectorQuery:{select:!0,selectAll:!0,selectViewport:!0},createIntersectionObserver:!0,getFileSystemManager:!0},Zn=new WeakMap,tr=new WeakSet,er=function(t){return Zn.get(t)},nr=S((function(t,e){var n=hn(t,{},(function(t,n){if("function"==typeof n){if(!0===e)return xn(t,n,!1);if(e&&e[t])return xn(t,n,e[t])}return n}));return nr.cache.set(n,n),n}),!0),rr=function(t,e){function n(){var n=Object.create(jn[jn.length-1]);return this&&"string"==typeof this.is&&"function"==typeof this.getPageId&&Ln(this,n,!1),Jn(n,t,e,this,arguments)}return Object.defineProperty(n,"__context_target_fn__",{configurable:!0,enumerable:!1,value:e,writable:!0}),n}}));function or(t,e,n,r){return new(n||(n=l.PromiseExt))((function(a,o){function i(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?a(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(i,u)}c((r=r.apply(t,e||[])).next())}))}var ir,ur,cr,sr,fr,lr,pr,hr,gr,dr,vr,mr,yr,br=b((function(){ln(),ar(),ir=["createSelectorQuery","createIntersectionObserver"],ur={before:function(t,e,n){n.callback&&(n.callback=Pn(n.callback))}},ce((function(t){var e=t.instance,n=t.lifetime;if("created"===n)he.from(e).addInterceptor(ur),ir.forEach((function(t){var n=e[t];"function"==typeof n&&(e["__".concat(t,"__")]=n,e[t]=xn(t,n))}));else if("detached"===n){var r=Dn.get(e);r&&(Dn.delete(e),r.forEach((function(t){t[Tn]=null}))),ir.forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=e["__".concat(t,"__")]||n)}))}})),cr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new l.PromiseExt((function(e){setTimeout(e,t)}))}})),wr=b((function(){Et(),Rt(),ln(),sr=function(t,e){if(!j(t)||!Array.isArray(e)||0===e.length)return t;var n=new Set(e),r={};for(var a in t)n.has(a)||(r[a]=t[a]);return r},fr=function(t,e){if(!j(t)||!Array.isArray(e))return t;if(0===e.length)return{};for(var n={},r=0;r<e.length;r+=1){var a=e[r];a in t&&void 0!==t[a]&&(n[a]=t[a])}return n},lr=function(t,e){if(t.includes("[")&&(t=t.replace(/\[\w+]/g,"")),t.includes(".")){for(var n,r=t.split("."),a=0;a<r.length&&j(n=e[r[a]]);a+=1)e=n;return[e,n]}return[e,e[t]]},pr=function(t,e){var n={},r=function(){var r=t[a],o=lr(a,e),i=u(o,2),c=i[0],s=i[1];!0===s?n[a]=r:j(s)?null===r?n[a]=r:Array.isArray(r)?n[a]=r.map((function(t){return pr(t,s)})):j(r)&&(n[a]=pr(r,s)):!1!==s&&c.__ALL__&&(n[a]=r)};for(var a in t)r();return n},hr=function(t,e,n,r){if(n!==r&&void 0!==n)if(null==n||null==r||s(n)!=s(r))t[e]=n;else if(Array.isArray(n)&&Array.isArray(r))if(n.length===r.length)for(var a=0,o=n.length;a<o;a+=1)hr(t,"".concat(e,"[").concat(a,"]"),n[a],r[a]);else t[e]=n;else if(j(n)&&j(r)){var i=Object.keys(n),u=Object.keys(r);if(i.length!==u.length)t[e]=n;else{for(var c=Object.create(null),f=0,l=i.length;f<l;f+=1)c[i[f]]=!0,c[u[f]]=!0;if(Object.keys(c).length!==i.length)t[e]=n;else for(var p=0,h=i.length;p<h;p+=1){var g=i[p];hr(t,"".concat(e,".").concat(g),n[g],r[g])}}}else n!==r&&(t[e]=n)},gr=function(t,e){if(!j(e))return t;var n={},r={};for(var a in t)r[a]=!0,hr(n,a,t[a],e[a]);for(var o in e)r[o]||(n[o]=null);return n},dr=S((function(){var t=l.titanEnvs.titan.getCurrentPages();return L((function(){dr.cache.clear()})),t})),vr=S((function(t){var e=JSON.stringify(t).length;return L((function(){vr.cache.delete(t)})),e})),S((function(t){var e=an(t);if(!e){var n=dr();e=n[n.length-1]}return e}),!0)})),Pr=b((function(){mr=0,yr=function(t){return mr+=1,"".concat(null!=t?t:"").concat(Math.random().toString(36).slice(2)).concat(mr.toString(36))}}));function Sr(){return X.Page({additionalPageStack:[],showCount:0,onLoad:function(t){var e=(t||this.options||{}).targetKey;if(e){var n=ga[e];if(n){delete ga[e],this.onAdditionalPageUpdated();!function t(e){X.wx.navigateTo({url:n,fail:function(){"/"!==n[0]&&(n="/".concat(n)),e<1?setTimeout((function(){t(e+1)}),100):X.wx.navigateBack()}})}(0)}else X.wx.navigateBack()}else X.wx.navigateBack()},onShow:function(){var t=this;this.showCount+=1,this.showCount>1&&setTimeout((function(){var e=t.additionalPageStack.pop();e?(Yr(),X.wx.navigateTo({url:e.targetUrl,fail:function(){setTimeout((function(){Yr(),X.wx.navigateTo({url:e.targetUrl,fail:function(){X.wx.navigateBack()}})}),100)}})):X.wx.navigateBack()}),200)},onAdditionalPageUpdated:function(){var t;(t=this.additionalPageStack).push.apply(t,r(da.splice(0)))}})}function kr(t,e,n){var r=Object.assign({},e?wa():null);return r.switchTab=function(){if(!Pe()||"windows"===Qt.value.platform)return t.navigateTo.apply(this,arguments);var e,n=arguments[0];if(null!=n&&n.url){var r=n.url;n.url=Ye(r),n.url!==r&&(n.rawUrl=r);var a=X.getCurrentPages()[0];if(a&&n.url==="/".concat(a.route)&&a.route.startsWith("t/")&&Re[n.url].key!==a[gt])return a.onShow(),At(arguments[0]||{},!0,"switchTab:ok");if(n.url.startsWith("/t/")){var o=Je.value[n.url]||Ge.value[n.url];if(o.pageInstance&&o.pageInstance[gt]!==Re[n.url].key){var i=xr();o.pageInstance.destroyPage(!0,i.resolve),e=e?e.then((function(){return i.promise})):i.promise}}}return e?(e=l.PromiseExt.race([e,cr(500)]),Ft(n,e.then((function(){return new l.PromiseExt((function(e,r){t.switchTab(Object.assign(Object.assign({},n),{success:e,fail:r,complete:void 0}))}))})))):t.switchTab.apply(this,arguments)},e&&Ta(r,t),Sa.forEach((function(e){var a=r[e];r[e]=function(){var r=a||t[e],o=arguments[0];if(o){if(!o.url&&"string"==typeof o.page){var i="/"===o.page[0]?o.page.replace(/\/+/g,""):o.page,u="string"==typeof o.query?o.query:ke.stringify(o.query||{});"string"==typeof o.platform?o.url="platform://".concat(o.platform,"/").concat(i).concat(u?"?".concat(u):""):"string"==typeof o.package&&(o.url="package://".concat(o.package,"/").concat(i).concat(u?"?".concat(u):""))}o.url&&(null==o.originalUrl&&(o.originalUrl=o.url),o.url=Ca(o.url,n),o.url=De(o.url))}return r.apply(this,arguments)}})),r}var xr,Or,Cr,Tr,Ir,Er,jr,_r,Dr,Rr,Ar,Mr,qr,Nr,Lr,Br,Wr,$r,Fr,Ur,Vr,zr,Kr,Hr,Jr,Gr,Qr,Xr,Yr,Zr,ta,ea,na,ra,aa,oa,ia,ua,ca,sa,fa,la,pa,ha,ga,da,va,ma,ya,ba,wa,Pa,Sa,ka,xa,Oa,Ca,Ta,Ia,Ea,ja,_a=b((function(){Et(),br(),Rt(),te(),ln(),wr(),pn(),ee(),ar(),Pr(),xr=function(t){var e={};return e.promise=new l.PromiseExt((function(t,n){e.resolve=t,e.reject=n})),t&&e.promise.catch((function(){})),e},Or="titan:moduleReady:",Cr=function(t,e){if("*"!==t){if(l.titanEnvs["platform:".concat(t)])return void L((function(){e(t)}));if(l.titanEnvs["package:".concat(t)])return void L((function(){e(t)}));fn.getDefault().once("".concat(Or).concat(t),e)}else fn.getDefault().on("".concat(Or).concat(t),e)},Tr=_(!0,"fy8bnfrqa4dg",(function(){return new Set})),Ir=k((function(){var t=l.titanConfig.packages;return Object.keys(t).reduce((function(e,n){return Object.values(t[n].pages).forEach((function(t){e[t]=n})),e}),{})})),Cr("*",(function(t){Tr.add(t)})),Er=k((function(){return h("preloadModule")})),jr=function(t){var e;null!==(e=l.titanConfig.packages[t])&&void 0!==e&&e.disablePreload||setTimeout(Er().bind(null,t),500)},_r=function(t){var e=Ir()[t];e&&jr(e)},Dr=/^(platform|package):\/\/((?:\w|-|_)+)\/((?:\w|-|_)+)(\?.*)?$/,Rr=function(t){return"string"==typeof t&&"p"===t[0]},Ar=S((function(t){return t.match(Dr)})),Mr=S((function(t){var e=Ar(t);if(!e)return null;var n=u(e,5),r=n[1],a=n[2],o=n[3],i=n[4];return{moduleType:r,moduleName:a,alias:o,query:void 0===i?"":i}})),qr=function(t){return Rr(t)?Mr(t):null},Nr=function(t){var e=an(t);return!!e&&!!e[ht]},Lr=_("oqg8py9cvkhh",(function(){return k((function(){var t="TITAN_APP_FIRST_OPEN_TIME";try{if(X.wx.getStorageSync(t))return!1;X.wx.setStorage({key:t,data:Date.now(),complete:I})}catch(t){}return!0}))})),Br=k((function(){var t=Qt.value,e=t.benchmarkLevel,n=t.model;if("number"==typeof e&&!Number.isNaN(e))return e;for(var r=["iPhone1,","iPhone2,","iPhone3,","iPhone4,","iPhone5,","iPhone6,1","iPhone6,2","iPod7,"],a=["iPhone6","iPhone7,","iPhone8,"],o=["iPhone9,","iPhone10,"],i=["iPhone11,","iPhone 11,","iPhone12,","iPhone14,"],u=0;u<r.length;u+=1)if(n.indexOf(r[u])>=0)return 5;for(var c=0;c<a.length;c+=1)if(n.indexOf(a[c])>=0)return 10;for(var s=0;s<o.length;s+=1)if(n.indexOf(o[s])>=0)return 20;for(var f=0;f<i.length;f+=1)if(n.indexOf(i[f])>=0)return 30;return-1})),Wr=k((function(){var t=Br();return 0===t||-2===t?"none":t>24?"high":t>20?"middle":t>=1?"low":"unknown"})),$r={requestUrlBlacklist:[]},Fr=function(t){var e;Array.isArray(t)?(e=$r.requestUrlBlacklist).push.apply(e,r(t)):$r.requestUrlBlacklist.push(t),$r.requestUrlBlacklist=Array.from(new Set($r.requestUrlBlacklist))},Ur=function(t){var e=new Set(Array.isArray(t)?t:[t]);qt($r.requestUrlBlacklist,(function(t){return e.has(t)}))},Vr=function(t){if(0===$r.requestUrlBlacklist.length)return!0;for(var e=0,n=$r.requestUrlBlacklist.length;e<n;e+=1){var r=$r.requestUrlBlacklist[e];if("string"==typeof r){if(t.includes(r))return!1}else if(r instanceof RegExp){if(r.test(t))return!1}else if("function"==typeof r&&r(t))return!1}return!0},zr=k((function(){return{firstRender:{desc:"开始加载时间",unit:"ms",maxScore:10,levels:[{weight:.4,value:250,color:"red"},{weight:.7,value:200,color:"orange"}]},whiteScreen:{desc:"白屏时间",unit:"ms",maxScore:25,levels:[{weight:.4,value:600,color:"red"},{weight:.7,value:300,color:"orange"}]},pageContent:{desc:"页面内容展示时间",unit:"ms",maxScore:20,levels:[{weight:.4,value:1e3,color:"red"},{weight:.7,value:800,color:"orange"}]},interactive:{desc:"可交互时间",unit:"ms",maxScore:20,levels:[{weight:.4,value:1400,color:"red"},{weight:.7,value:850,color:"orange"}]},requestCount:{desc:"接口请求数量",unit:"",maxScore:15,levels:[{weight:.4,value:9,color:"red"},{weight:.7,value:5,color:"orange"}]},setDataSize:{desc:"页面数据量",unit:"byte",maxScore:10,levels:[{weight:.4,value:262144,color:"red"},{weight:.7,value:131072,color:"orange"}]}}})),Kr=function(t,e){for(var n=zr()[t],r=n.levels,a=n.maxScore,o=0;o<r.length;o+=1){var i=r[o];if(e>i.value)return[i.weight*a,i.color]}return[a,"green"]},Hr=function(t){return"number"==typeof t&&!Number.isNaN(t)&&t>=0},Jr=function(t){var e,n,r,a,o,i,c,s;if(!(t.beginTime&&t.firstComponentCreated&&(t.firstComponentSetData||t.firstPageSetData)&&t.firstRequestSetData&&t.pageOnReady&&null!=t.status.requestCount))return null;var f=null===(e=t.status.custom)||void 0===e?void 0:e.interactive;return[["firstRender",t.firstComponentCreated.time-t.beginTime],["whiteScreen",Math.min((null===(n=t.firstComponentSetData)||void 0===n?void 0:n.time)||Number.MAX_SAFE_INTEGER,(null===(r=t.firstPageSetData)||void 0===r?void 0:r.time)||Number.MAX_SAFE_INTEGER)-t.beginTime],["pageContent",t.firstRequestSetData.time-t.beginTime],["interactive",(Hr(f)?f:Math.max(t.pageOnReady.time,(null===(a=t.latestRequestSetData)||void 0===a?void 0:a.time)||0))-t.beginTime,Hr(f)],["requestCount",t.status.requestCount],["setDataSize",Math.max((null===(o=t.firstComponentSetData)||void 0===o?void 0:o.size)||0,(null===(i=t.firstPageSetData)||void 0===i?void 0:i.size)||0,(null===(c=t.firstRequestSetData)||void 0===c?void 0:c.size)||0,(null===(s=t.latestRequestSetData)||void 0===s?void 0:s.size)||0)]].reduce((function(t,e){var n=u(e,3),r=n[0],a=n[1],o=n[2],i=Kr(r,a),c=u(i,2),s=c[0],f=c[1],l=zr()[r],p=l.desc,h=l.unit,g=l.maxScore;return t.category.push({type:r,desc:p,unit:h,value:a,score:s,color:f,weight:g,custom:o?1:void 0}),t.total+=s,t}),{category:[],total:0})},Gr="titan:updatePerfDog",Qr=new Map,Xr=_("0tbi88akjx5i",(function(){return{appLaunchTime:0,appShowTime:0,navigateTime:0,loadingPackage:!1}})),Yr=function(){Xr.navigateTime=Date.now()},Zr=A((function(){return l.titanConfig.debugMode||"1"===X.wx.getLaunchOptionsSync().query.perfdog})),ta=new Set,ea=function(t){var e,n,r="string"==typeof t?t:null===(e=t.getPageId)||void 0===e?void 0:e.call(t),a=Qr.get(r);if(!a){var o=X.wx.getLaunchOptionsSync()===X.wx.getEnterOptionsSync()?Xr.appLaunchTime:Xr.appShowTime;a={pageId:r,firstOpenApp:Lr(),beginTime:Math.max(o||0,Xr.navigateTime),jumpSubPackage:Xr.loadingPackage,tabBarPage:!1,status:{componentCount:0,$requests$:[],$components$:new WeakMap,pageInjections:[],$systemInfo$:Object.assign(fr(Qt.value,["platform","brand","benchmarkLevel","environment","system","version","SDKVersion","mode","abi","networkType"]),{benchmarkLevel:Br(),benchmarkLevelAlias:Wr(),mpVersion:null===(n=l.titanConfig.external)||void 0===n?void 0:n.version})}},X.wx.getNetworkType({success:function(t){var e=a.status.$systemInfo$;e.networkType=t.networkType,e.signalStrength=t.signalStrength,e.hasSystemProxy=t.hasSystemProxy}}),Xr.loadingPackage=!1,Qr.set(r,a)}return a},na=S((function(t){return setTimeout((function(){var e;if(null!==(e=t.pageOnLoad)&&void 0!==e&&e.is&&!ta.has(t.pageId)){ta.add(t.pageId),t.pageOnReady&&(t.pageOnLoad.is=t.pageOnReady.is),It.log("[PerfDog] ".concat(t.pageOnLoad.is),t);var n=l.titan.hound;if(n){var r=Jr(t),a=null==r?void 0:r.category.reduce((function(t,e){return t[e.type]={value:e.value,color:e.color,desc:"".concat(e.desc,"/").concat(zr()[e.type].unit),score:e.score,custom:e.custom},t}),{});n.debug({method:"PerfDog",url:t.pageOnLoad.is,data:JSON.parse(JSON.stringify(t,(function(t,e){if(!t.startsWith("$")||!t.endsWith("$"))return e}))),meta:{perfdog:{records:a,totalScore:null==r?void 0:r.total,jumpSubPackage:t.jumpSubPackage,tabBarPage:t.tabBarPage,channel:"MP-WEIXIN",componentCount:t.status.componentCount,latestComponent:t.status.latestComponent,firstOpenApp:t.firstOpenApp},system_info:t.status.$systemInfo$}})}}}),5e3)}),!0),ra=function(t){var e,n="string"==typeof t?t:null===(e=t.getPageId)||void 0===e?void 0:e.call(t),r=Qr.get(n);if(r){fn.getDefault().emit("".concat(Gr,":").concat(n),r);var a=na.cache.get(r);a&&(clearTimeout(a),na.cache.delete(r)),na(r)}},aa=function(t,e){var n=ea(t),r=n.status,a=r.$requests$,o=r.firstRequest,i=r.latestRequest,u=r.$latestRequestTimeoutId$;if(!n.firstRequestSetData){var c=a.find((function(e){return e.component===t.is}));c&&(n.firstRequestSetData={time:Date.now(),is:t.is,url:c.url,requestCompleteTime:c.time},Zr.value?L((function(){n.firstRequestSetData.data=e,n.firstRequestSetData.size=vr(e),ra(t)})):ra(t))}if(i&&o&&i.time>o.time){var s=Date.now(),f=i.time+200-s;f>=0&&(clearTimeout(u),n.status.$latestRequestTimeoutId$=setTimeout((function(){n.latestRequestSetData={time:s,is:t.is,url:n.status.latestRequest.url,requestCompleteTime:n.status.latestRequest.time},Zr.value&&(n.latestRequestSetData.size=vr(e),n.latestRequestSetData.data=e),ra(t)}),f))}},oa=function(t){var e=!1;if(!t)return e;if("/"!==t[0]&&(t="/".concat(t)),t){if(t.startsWith("/t/")){var n=Re[t];n&&(t=n.targetPath)}var r=B(t);t=u(r,1)[0];var a=Ir()[t];a&&!Tr.has(a)&&(e=!0)}return e},ia={before:function(t,e){var n=ea(t);n.firstComponentSetData||(n.firstComponentSetData={time:Date.now(),is:t.is},Zr.value?L((function(){n.firstComponentSetData.data=e,n.firstComponentSetData.size=vr(e),ra(t)})):ra(t)),aa(t,e)}},ua={before:function(t,e){var n=ea(t);n.firstPageSetData||(n.firstPageSetData={time:Date.now(),is:t.is},Zr.value?L((function(){n.firstPageSetData.data=e,n.firstPageSetData.size=vr(e),ra(t)})):ra(t)),aa(t,e)}},ca={beforeInvoke:function(t){Xr.loadingPackage=oa(t.url),Xr.navigateTime=Date.now()}},sa=function(t){var e=t.request,n=function(t){return e(t)};t.request=function(e){var r,a;if(null!==(a=null===(r=t.hound)||void 0===r?void 0:r.whitelist)&&void 0!==a&&a.some((function(t){return e.url.includes(t)})))return n(e);var o=Nn();if(!o||!Vr(e.url))return n(e);var i=ea(o);if(!i.pageOnReady||Date.now()-i.pageOnReady.time<2e3){i.status.requestCount=(i.status.requestCount||0)+1;var c=e.complete;e.complete=function(){var t,n;if(c)try{c.apply(this,arguments)}catch(t){x(t)}if(!e.ignorePerfDog){var r=Date.now();i.status.$requests$.push({time:r,url:e.url,component:o.is}),i.status.completeRequestCount=(i.status.completeRequestCount||0)+1,1===i.status.completeRequestCount&&(t=i.status.$requests$,n=u(t,1),i.status.firstRequest=n[0]),i.status.latestRequest=i.status.$requests$[i.status.$requests$.length-1]}}}return n(e)}},fa=function(t){try{t.getPerformance().createObserver((function(t){var e=dr(),n=e[e.length-1];if(n){var a,o=ea(n);o.performance=o.performance||[],(a=o.performance).push.apply(a,r(t.getEntries())),ra(n)}})).observe({entryTypes:["render","script","navigation","loadPackage"]})}catch(t){}},la=function(){ce((function(t){var e=t.instance,n=t.lifetime,r=t.type;if("custom-tab-bar/index"!==e.is){var a=ea(e);if("component"===r){var o=Date.now();if("created"===n)he.from(e).addInterceptor(ia),a.firstComponentCreated||(a.firstComponentCreated={time:o,is:e.is},ra(e)),a.pageOnLoad||(a.status.componentCount+=1,a.status.$components$.set(e,{createdTime:o,attachedTime:o}));else if("attached"===n){var i=a.status.$components$.get(e);i&&(i.attachedTime=Date.now(),(!a.status.latestComponent||i.attachedTime>a.status.latestComponent.attachedTime)&&(a.status.latestComponent=Object.assign({is:e.is},i)),(!a.status.heavyComponent||i.attachedTime-i.createdTime>a.status.heavyComponent.attachedTime-a.status.heavyComponent.createdTime)&&(a.status.heavyComponent=Object.assign({is:e.is},i)))}}else"created"===n?he.from(e).addInterceptor(ua):"attached"!==n||a.pageOnLoad?"ready"!==n||a.pageOnReady&&a.pageOnReady.is!==e.is?"detached"===n&&Qr.delete(e.getPageId()):(a.pageOnReady={time:Date.now(),is:e.is},a.tabBarPage=Nr(e),ra(e)):(a.pageOnLoad={time:Date.now(),is:e.is},ra(e))}}))},pa=k((function(t){["navigateTo","switchTab","redirectTo","reLaunch"].forEach((function(e){t.addRouteInterceptor(e,ca)})),sa(t),fa(t),la();var e=function(t,e){Xr.loadingPackage=oa(e.path||l.titanConfig.firstPagePath),"launch"===t?Xr.appLaunchTime=Date.now():Xr.appShowTime=Date.now()};t.onAppLaunch(e.bind(null,"launch")),t.onAppShow(e.bind(null,"show"))})),ha=function(t){return(null==t?void 0:t[Ot])||"default"},ga={},da=_(!0,"rsw7q1szgoj",(function(){return[]})),va=function(){return X.getCurrentPages().filter((function(t){return"easyHalfScreen"!==ha(t)}))},ma="pages/titan-route-midway/index",ya=function(t){var e;return{targetUrl:"/".concat(t.route,"?").concat(ke.stringify(t.options)),page:on((null===(e=t[nt])||void 0===e?void 0:e.call(t))||t)}},ba=function(t){return or(void 0,void 0,void 0,n().mark((function e(){var a,o,i,u,c,s,f,p,h,g,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=xr(),o=Object.assign(Object.assign({},t),{success:a.resolve,fail:a.reject,complete:void 0}),i=o.url,u=va(),c="navigateTo",!(i&&u.length>=mt-2)){e.next=15;break}if((null==(p=u[f=mt-2])?void 0:p.route)!==ma){e.next=7;break}c="redirectTo",(s=da).push.apply(s,r(u.slice(f+1).map(ya))),p.onAdditionalPageUpdated(),e.next=14;break;case 7:if(g=yr(),ga[g]=i,i="/".concat(ma,"?targetKey=").concat(g),(h=da).push.apply(h,r(u.slice(f).map(ya))),d=u.length-f,e.t0=d>0,!e.t0){e.next=14;break}return e.next=14,new l.PromiseExt((function(t,e){X.wx.navigateBack({delta:d,success:function(e){setTimeout((function(){return t(e)}),300)},fail:e})}));case 14:o.url=i;case 15:return e.abrupt("return",(Yr(),X.wx[c](o),a.promise));case 16:case"end":return e.stop()}}),e)})))},wa=function(){return{navigateTo:function(){var t=arguments[0]||{};return Ft(t,ba(t))},navigateBack:function(){var t=arguments[0];if((null==t?void 0:t.delta)>1){var e=va(),n=e.findIndex((function(t){return t.route===ma}));if(-1!==n&&n!==e.length-1){var r=e[n],a=e.length-1-n+(t.delta-1)-1;a>0&&(a>=r.additionalPageStack.length?t.delta-=r.additionalPageStack.length-1:(r.additionalPageStack.splice(-a),t.delta=1))}}return X.wx.navigateBack.apply(this,arguments)}}},Pa=function(t,e){if("string"==typeof t)return t;if(t instanceof Error)return"Error:".concat(t.message);try{return JSON.stringify(t)}catch(n){try{return t.toString()}catch(n){try{return"".concat(t)}catch(t){return"string"==typeof e?e:""}}}},Sa=["switchTab","reLaunch","redirectTo","navigateTo"],ka=new WeakSet,xa=new WeakMap,Oa=function(){function t(e){var n=this;o(this,t),this.wx=e,this.interceptorMap={},this.navigator={},Sa.forEach((function(t){n.navigator[t]=n.buildRouteFn(t).bind(n)}))}return i(t,[{key:"addInterceptor",value:function(t,e){var n;(n=this.interceptorMap)[t]||(n[t]=[]),this.interceptorMap[t].push(e),ka.delete(e),xa.set(e,yn())}},{key:"removeInterceptor",value:function(t,e){var n=this.interceptorMap[t];if(e){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),ka.add(e))}}},{key:"callWithInterceptors",value:function(t,e){return or(this,void 0,void 0,n().mark((function r(){var a,o,i,c,s,f,p,h,g,d,v,m,y,b,w,P,S,k,x,O=this;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:It.log(t,e.url),a=An(),o=yn(),i=(this.interceptorMap[t]||[]).slice(0),c=e,s=t,f=function(t){s=t},p=n().mark((function t(){var e,r,u,p,h,d;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i[g],!ka.has(e)&&e.beforeInvoke){t.next=3;break}return t.abrupt("return",0);case 3:if(r=xa.get(e),u=(null==r?void 0:r.name)||"unknown",It.log("执行由".concat(u,"注册的拦截器:before")),p=!1,h=Object.freeze({routeType:s,updateRouteType:f,skipFollowingSteps:function(){p=!0}}),s===h.routeType){t.next=8;break}return t.abrupt("return",{v:Jn(a,o,O.callWithInterceptors,O,[s,c])});case 8:return t.prev=8,t.next=11,Vt("".concat(u,"拦截器超时\n").concat(e.beforeInvoke),l.PromiseExt.resolve(Jn(Object.create(a),o,e.beforeInvoke,e,[c,h])));case 11:d=t.sent,Lt(d)&&(c=d),t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(8),O.convertError(s,{},t.t0);case 18:if(!p){t.next=20;break}throw{errMsg:"".concat(s,':fail interrupted by "').concat(u,'注册的拦截器:before"')};case 20:case"end":return t.stop()}}),t,null,[[8,15]])})),g=0;case 4:if(!(g<i.length)){r.next=14;break}return r.delegateYield(p(),"t0",6);case 6:if(0!==(h=r.t0)){r.next=9;break}return r.abrupt("continue",11);case 9:if(!h){r.next=11;break}return r.abrupt("return",h.v);case 11:g+=1,r.next=4;break;case 14:return r.next=16,new l.PromiseExt((function(t){O.wx[s](Object.assign(Object.assign({},c),{success:function(e){t(["success",e])},fail:function(e){t(["fail",e])},complete:void 0}))}));case 16:d=r.sent,v=d,m=0;case 19:if(!(m<i.length)){r.next=38;break}if(y=i[m],!ka.has(y)&&y.afterInvoke){r.next=23;break}return r.abrupt("continue",35);case 23:return b=xa.get(y),w=(null==b?void 0:b.name)||"unknown",It.log("执行由".concat(w,"注册的拦截器:after")),r.prev=25,r.next=28,Vt("".concat(w,"拦截器超时\n").concat(y.afterInvoke.toString()),l.PromiseExt.resolve(Jn(Object.create(a),o,y.afterInvoke,y,[c].concat(v))));case 28:void 0!==(P=r.sent)&&(v=["success",P]),r.next=35;break;case 32:r.prev=32,r.t1=r.catch(25),v=["fail",this.convertError(s,d[1],r.t1)];case 35:m+=1,r.next=19;break;case 38:if(S=u(v,2),k=S[0],x=S[1],"success"!==k){r.next=41;break}return r.abrupt("return",x);case 41:throw x;case 42:case"end":return r.stop()}}),r,this,[[25,32]])})))}},{key:"buildRouteFn",value:function(t){var e=this;return function(){var n=arguments[0]||{};return Ft(n,e.callWithInterceptors(t,n))}}},{key:"convertError",value:function(t,e,n){return Lt(n)&&"string"==typeof n.errMsg?n:{errMsg:"".concat(t,":fail"),rawResult:e,rawError:n,message:Pa(n)}}}]),t}(),Ca=function(t,e){var n,r,a,o,i;if(!t)return"";var c,s,f=qr(t);if(f){var p=f.moduleType,h=f.moduleName,g=f.alias,d=f.query;c="platform"===p&&e&&(null===(a=null===(r=null===(n=l.titanConfig.packages[e])||void 0===n?void 0:n.platformExts)||void 0===r?void 0:r[h])||void 0===a?void 0:a.pages[g])||(null===(i=null===(o=l.titanConfig["".concat(p,"s")])||void 0===o?void 0:o[h])||void 0===i?void 0:i.pages[g]),s=d}else{var v=B(t,!0),m=u(v,2);c=m[0],s=m[1]}return c?(c=l.titanConfig.routes[c]||c,"".concat(c).concat(s)):(It.warn("".concat(t,"错误")),"")},Ta=function(t,e){var n,r=!0,a=[];e.onAppShow((function(){r=!0,n=setTimeout((function(){a.splice(0).forEach((function(t){var e=t.fn,n=t.ctx,r=t.opts,a=t.deferred;e.call(n,Object.assign(Object.assign({},r),{success:a.resolve,fail:a.reject,complete:void 0}))}))}),200)})),e.onAppHide((function(){r=!1})),ce((function(t){var e=t.type,r=t.lifetime;"page"===e&&"created"===r&&(clearTimeout(n),a.splice(0).forEach((function(t){t.deferred.reject({errMsg:"".concat(t.fnName,":fail interrupted by titan")})})))})),Sa.forEach((function(n){var o=t[n];t[n]=function(){var t=o||e[n],i=arguments[0];if(null!=i&&i.preventHangup&&!r){var u=xr();return a.push({ctx:this,fnName:n,fn:t,opts:i,deferred:u}),Ft(i,u.promise)}return t.apply(this,arguments)}}))},Ia=function(){var t=new WeakMap,e=S((function(e){return function(){var n=this,r=t.get(this);if(null==r&&(r={tasks:[],executed:!1},t.set(this,r)),r.executed)e.apply(this,arguments);else{var a=arguments;r.tasks.push((function(){return e.apply(n,a)}))}}}),!0);return{wrapMethod:e,wrapObservers:function(t){t.observers&&Object.keys(t.observers).forEach((function(n){t.observers[n]=e(t.observers[n])})),t.properties&&Object.values(t.properties).forEach((function(t){if(j(t)&&t.observer)if("string"==typeof t.observer){var n=t.observer;t.observer=function(){var t=this[n];"function"==typeof t&&e(t).apply(this,arguments)}}else"function"==typeof t.observer&&(t.observer=e(t.observer))}))},wrapLifetimes:function(t){kt.forEach((function(n){var r=Kt(t,n);t.lifetimes[n]=e(r)}))},wrapPageLifetimes:function(t){t.pageLifetimes&&xt.forEach((function(n){var r=t.pageLifetimes[n];"function"==typeof r&&(t.pageLifetimes[n]=e(r))}))},execute:function(e){var n=t.get(e);null==n?(n={tasks:[],executed:!0},t.set(e,n)):n.executed=!0,0!==n.tasks.length&&n.tasks.splice(0).forEach((function(t){try{t()}catch(t){x(t)}}))},isExecuted:function(e){var n=t.get(e);return!(null==n||!n.executed)}}}})),Da=b((function(){ln(),Ea=null,ja=function(n){t(a,n);var r=e(a);function a(t,e){var n;return o(this,a),(n=r.call(this)).name=t,n}return i(a,[{key:"updateConfig",value:function(t){return this}},{key:"link",value:function(t){return this}},{key:"unlink",value:function(t){return this}},{key:"unlinkAll",value:function(){return this}}],[{key:"getDefault",value:function(){return Ea||(Ea=new a("default")),Ea}}]),a}(ie)})),Ra={};function Aa(){}function Ma(t,e){for(t=t[e[0]];e.length>2;)e.shift(),t=t[e[0]];return t}function qa(t){return t||Object.create(null)}function Na(t,e){var n;console&&(1===e.length?console[t]("["+Qa+"]",e[0]):2===e.length?console[t]("["+Qa+"."+e[0]+"]",e[1]):(n=console)[t].apply(n,["["+Qa+"."+e[0]+"]",e[1]].concat(e.slice(2))))}function La(t){var e,n,r;if(null!==(e=t)&&"object"==s(e))return Ha(t,"__observe__")&&t.__observe__ instanceof to?n=t.__observe__:(r=t,("[object Object]"===Ja.call(r)||Array.isArray(t))&&(n=new to(t))),n}function Ba(t){var e=this;return Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];t[n]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];e.commitMap.getMap(n)?(r.apply(e,a),e.commitMap.delMap(n)):Xa("非正常的数据变更操作，请使用dispatch或commit执行变更数据。")}})),t}function Wa(t){var e=this,n=Object.getOwnPropertyNames(t);return t.__watchers=new Set,n.forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!1!==r.configurable){var a=t[n],o=new Za(n,(function(){return o.dirty=!0,t[n]}));Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){try{Ya.target=o,o.dirty&&(o.oldValue=o.newValue,o.newValue=a.apply(e,[e.state]))}finally{o.dirty=!1,t.__watchers.add(Ya.target),Ya.target=null}return o.newValue}})}})),t}function $a(t,e,n){void 0===n&&(n=!1);var r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var a=r.get,o=r.set,i=t[e],u=new Ya,c=!n&&La(i);Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var e=a?a.call(t):i;return i=e,Ya.target&&(u.depend(),c&&c.dep.depend()),e},set:function(e){e!==i&&(o?o.call(t,e):i=e,c=!n&&La(i),u.notify())}})}}function Fa(t){var e=this;Object.getOwnPropertyNames(t).forEach((function(n){"modules"!==n&&(e[n]=new eo(t[n]),"modules"in t&&Fa.apply(e[n],[t.modules]))}))}function Ua(t,e){var n=this,r=this.setData,a=!0;Object.defineProperty(this,"setData",{configurable:!0,enumerable:!0,get:function(){return function(e,n){var o=this;Object.keys(e).forEach((function(n){n in t&&(o.data[n]=e[n],e[n]=o.data[n],a=!0)})),r.apply(this,[e,n])}}}),Object.getOwnPropertyNames(t).forEach((function(r){r in n.data?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Na("warn",e)}("computed中的属性名"+r+"与注册页data的属性名重复了。"):e.__proxyComputed(n.data,r,t[r],{watchCallback:function(t,e){var r;a&&(a=!1,n.setData(((r={})[t]=e,r)))}})}))}function Va(t,e){var n=this;if(!this.$watch)return Xa("未检测到$watch对象，无法回收watch。");Object.getOwnPropertyNames(t).forEach((function(r){return n.data&&r in n.data?"function"!=typeof t[r]?Xa("watch中的"+r+"必须是一个function类型。"):(e.$set(n.data,r),void n.$watch.unwatched.add(e.watch((function(){return n.data[r]}),t[r].bind(n)))):Xa("当前注册页中的data未找到名为"+r+"的属性，所以不能进行watch监听。")}))}w(Ra,{default:function(){return ro}});var za,Ka,Ha,Ja,Ga,Qa,Xa,Ya,Za,to,eo,no,ro,ao=b((function(){za=l.titanEnvs.titan,Ka=0,Ha=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Ja=Object.prototype.toString,Ga=function(){function t(){this.map={}}var e=t.prototype;return e.setMap=function(t){this.map[t]="pending"},e.getMap=function(t){return this.map[t]},e.delMap=function(t){delete this.map[t]},t}(),Qa="Titan-X",Xa=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Na("error",e)},(Ya=function(){function t(){this.subs=new Set}var e=t.prototype;return e.addSub=function(t){this.subs.add(t)},e.depend=function(){t.target&&t.target.addDep(this)},e.notify=function(){this.subs.forEach((function(t){t.update()}))},t}()).target=null,Za=function(){function t(t,e){void 0===e&&(e=Aa),this.name=t,this.cb=e,this.oldValue=void 0,this.newValue=void 0,this.dirty=!0,this.deps=new Set}var e=t.prototype;return e.run=function(){this.update()},e.update=function(){this.cb()},e.addDep=function(t){Ya.target&&(t.addSub(Ya.target),this.deps.add(t))},t}(),to=function(){function t(t){var e;this.value=t,this.dep=new Ya,e=t,Object.defineProperty(e,"__observe__",{value:this,enumerable:!1,writable:!0,configurable:!0}),Array.isArray(t)?this.observeArray(t):this.walk(t)}var e=t.prototype;return e.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)$a(t,e[n])},e.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)La(t[e])},t}(),eo=function(){function t(t){var e;this.state=(La(e=qa(t.state)),e),this.actions=qa(t.actions),this.mutations=Ba.apply(this,[qa(t.mutations)]),this.getters=Wa.apply(this,[qa(t.getters)]),this.commitMap=new Ga,"object"==s(t.modules)&&Fa.apply(this,[t.modules])}var e=t.prototype;return e.dispatch=function(t,e){if(t.indexOf("/")>-1){var n=t.split("/");if(n.length>=2){var r=Ma(this,n),a=r.commit;r.actions[n[1]].apply(this,[{commit:a.bind(this)},e])}else Xa("[Titan-X]模块驱动的指令字符串格式可能有错误，请参考格式：moduleA/actionName。")}else this.actions[t].apply(this,[{commit:this.commit.bind(this)},e])},e.commit=function(t,e){if(t.indexOf("/")>-1){var n=t.split("/");if(n.length>=2){var r=Ma(this,n),a=r.state;r.commitMap.setMap(n[1]),r.mutations[n[1]].apply(this,[{state:a},e])}else Xa("[Titan-X]模块驱动的指令字符串格式可能有错误，请参考格式：moduleA/actionName。")}else this.commitMap.setMap(t),this.mutations[t].apply(this,[{state:this.state},e])},t}(),function(t){if(!t)return Xa("未检测到TitanX对象。");var e,n;e=t,n=za.Component,za.Component=function(t){return void 0===t&&(t={}),t.lifetimes||(t.lifetimes={}),[["detached",function(t,e){this.$watch&&this.$watch.unwatched&&this.$watch.unwatched.forEach((function(t){t()})),"function"==typeof t&&t.apply(this,e)}],["created",function(t,n){var r=new Set;this.$watch=function(t,n){r.add(e.watch(t,n))},this.$watch.unwatched=r,"function"==typeof t&&t.apply(this,n)}],["attached",function(n,r){var a=this;t&&t.watch&&Va.apply(this,[t.watch,e]),t&&t.computed&&(Ua.apply(this,[t.computed,e]),Object.keys(t.computed).forEach((function(t){a.data[t]=a.data[t]}))),"function"==typeof n&&n.apply(this,r)}]].forEach((function(e){var n=e[0],r=e[1],a=t.lifetimes[n];"function"==typeof a?t.lifetimes[n]=function(){r.call(this,a,arguments)}:"function"==typeof(a=t[n])?t[n]=function(){r.call(this,a,arguments)}:t.lifetimes[n]=function(){r.call(this,null,arguments)}})),n(t)},za.Component,function(t){var e=za.Page;za.Page=function(n){var r=function(t,e){this.$watch&&this.$watch.unwatched&&this.$watch.unwatched.forEach((function(t){t()})),"function"==typeof t&&t.apply(this,e)},a=function(e,r){var a=new Set;this.$watch=function(e,n,r){a.add(t.watch(e,n))},this.$watch.unwatched=a,n&&n.watch&&Va.apply(this,[n.watch,t]),n&&n.computed&&Ua.apply(this,[n.computed,t]),"function"==typeof e&&e.apply(this,r)},o=n.onLoad,i=n.onUnload;return n.onLoad=function(){a.apply(this,[o,arguments])},n.onUnload=function(){r.apply(this,[i,arguments])},e(n)},za.Page}(t)}(no={Store:eo,watch:function(t,e){void 0===t&&(t=Aa),void 0===e&&(e=Aa);var n=function(t,e){void 0===t&&(t=Aa),void 0===e&&(e=Aa);var n=new Za(++Ka,(function(){n.dirty=!0,n.dirty&&(n.oldValue=n.newValue,n.newValue=t.apply(null),n.dirty=!1),e(n.newValue,n.oldValue)}));return Ya.target=n,n.newValue=t.apply(null),Ya.target=null,n}(t,e);return no.__watchers.add(n),function(){n&&(n.deps.forEach((function(t){t.subs.clear()})),no.__watchers.delete(n),n=null)}},$set:function(t,e){$a(t,e)},__proxyComputed:function(t,e,n,r){!function(t,e,n,r){void 0===r&&(r={}),Ha(t,"__watchers")||(t.__watchers=new Set);var a,o,i=(a=function(){r&&"function"==typeof r.watchCallback&&r.watchCallback.apply(null,[e,u()])},o=!1,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o||(o=!0,a.apply(this,e))}),u=function(){return"function"==typeof n?n.apply(this):n.get.apply(this)},c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var s=new Za(e,(function(){return s.dirty=!0,s.newValue=t[e],r&&"function"==typeof r.watchCallback&&r.watchCallback.apply(null,[e,s.newValue]),s.newValue}));Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){try{Ya.target=s,s.dirty&&(s.oldValue=s.newValue,s.newValue=u()),i()}finally{s.dirty=!1,t.__watchers.add(Ya.target),Ya.target=null}return s.newValue},set:function(t){s.newValue!==t&&(n.set?n.set.call(null,t):s.newValue=t)}})}}(t,e,n,r)},__watchers:new Set}),ro=no})),oo={};function io(t){if(function(t){var e;if(!Ao.callFromNext){t.header||(t.header={});var n=yn();if(n?n.independent&&n.independent!==n.name?t.header[To]="".concat(n.independent,":").concat(n.name):t.header[To]=n.name:t.header[To]=(null===(e=G())||void 0===e?void 0:e.name)||"default",!(Co in t.header)){var r=Mo(),a=u(r,2),o=a[0],i=a[1];i&&(t.header[Co]=i.is),o&&(t.header[Oo]=o.route)}}}(t),Ao.concurrent>=Do){var e=new _o;return qo(t,"enqueue","titan"),Ao.queue.push({that:this,task:e,opts:t,priority:Wt(t.priority)?t.priority:Io,requestFn:io}),e}return Ao.concurrent+=1,Ro.call(this,function(t){var e=(t||{}).complete,n=Date.now(),r=Eo(),a=jo();return Object.assign(Object.assign({},t),{header:r||a?Object.assign(Object.assign(Object.assign({},r),null==t?void 0:t.header),a):null==t?void 0:t.header,complete:function(){try{arguments[0]&&(arguments[0].__titan_begin_time__=n),"function"==typeof e&&e.apply(this,arguments)}finally{!function(){Ao.concurrent-=1;var t=function(){var t=Ao.queue;if(0!==t.length){for(var e=0,n=1;n<t.length;n+=1)t[n].priority<t[e].priority&&(e=n);return 0===e?t.shift():e===t.length-1?t.pop():t.splice(e,1)[0]}}();if(t){var e=t.that,n=t.task,r=t.opts,a=t.requestFn;qo(r,"dequeue","titan");try{Ao.callFromNext=!0,n.setRequestTask(a.call(e,r))}finally{Ao.callFromNext=!1}}}()}}})}(t))}function uo(t){var e,n=null==t?void 0:t[st];return n?null===(e=l.titanEnvs[n])||void 0===e?void 0:e.titan:null}function co(t){t=Lo()(t);var e=No[t];return e||(e={},No[t]=e),e}function so(t,e,n,r){var a,o=this,i=null===(a=t[nt])||void 0===a?void 0:a.call(t);if(i){var u=xr();return i.createSelectorQuery().select(n.selector).boundingClientRect((function(e){e?r?Bo.call(o,{scrollTop:e.top,duration:n.duration}).then(u.resolve,u.reject):(t.setData({pageScrollParams:{scrollTop:e.top}}),u.resolve({errMsg:"pageScrollTo:ok"})):u.reject({errMsg:"pageScrollTo:fail"})})).exec(),Ft(n,u.promise)}return kn(Bo.call(this,n))}function fo(){var t=arguments[0],e=X.getCurrentPages()||[],n=e[e.length-1];if(t&&n&&n[ht]){var r=l.titanConfig.pageInfos[n.data.pagePath];if(r&&V(r.pageFlag)&&!r.enablePullDownRefresh)return"number"==typeof t.scrollTop?(n.setData({pageScrollParams:{scrollTop:t.scrollTop}}),At(t,!0,"pageScrollTo:ok")):"string"==typeof t.selector?so.call(this,n,t.selector,t,!1):At(t,!1,"pageScrollTo:fail")}else if(t&&"number"!=typeof t.scrollTop&&"string"==typeof t.selector)return so.call(this,n,t.selector,t,!0);return Bo.apply(this,arguments)}function lo(){if(0!==Wo.queue.length){var t=Wo.queue.splice(0,10);this.debug({method:"TITAN_STAMP2",start:t[0][1],data:t.map((function(t){var e=u(t,2),n=e[0];return{time:e[1],order:Wo.order++,msg:n}}))})}}function po(t){fn.getDefault().on(wt,t)}function ho(t){fn.getDefault().off(wt,t)}function go(t,e){return{requirePlatform:function(t){return{main:Si()(t),ext:(null==e?void 0:e(t))||null}},requirePackage:wi}}function vo(t,e){var n=t;if(n.behaviors=t.behaviors||[],Sn(n),uu.forEach((function(e){n[e]&&(n[e]=Sn(t[e],"methods"===e))})),t.relations)for(var r in t.relations)t.relations[r]=Sn(t.relations[r]);if(hu.wrapObservers(t),!e){var a=Kt(t,"created");t.lifetimes.created=function(){return hu.execute(this),a.apply(this,arguments)}}if(lu(t.lifetimes,cu),lu(t,cu),lu(t.pageLifetimes,["show"]),t.pageLifetimes&&["show","hide"].forEach((function(e){var n=t.pageLifetimes[e];"function"==typeof n&&(t.pageLifetimes[e]=function(){var t;(Be[e]||null===(t=qe(this.getPageId()))||void 0===t||!t.has(this))&&n.apply(this,arguments)})})),e){var o=Kt(t,"created");t.lifetimes.created=function(){return(this[pt]||(this[pt]=[])).push(t),o.apply(this,arguments)}}return t}function mo(t){var e,n=Object.assign(Object.assign({titan:t,wx:t,global:{},Promise:l.PromiseExt,clearTimeout:clearTimeout,clearInterval:clearInterval,TitanTools:Ai},go()),function(){var t={};return"undefined"!=typeof my&&(t.my=ki(my)),"undefined"!=typeof xhs&&(t.xhs=ki(xhs)),"undefined"!=typeof qq&&(t.qq=ki(qq)),"undefined"!=typeof ks&&(t.ks=ki(ks)),"undefined"!=typeof swan&&(t.swan=ki(swan)),t}());return R(n,Object.assign({WOS:function(){return function(){var t=l.titanConfig.wosVars;return new Proxy({},{get:function(e,n){var r=t[n];if(r){var a=Si()(r.platform);return a?r.mapping?null==a?void 0:a[r.mapping]:a:void 0}}})}()},getApp:function(t){return J()?k((function(){var e={WOS:t.WOS,globalData:{}};return["onLaunch","onShow","onHide","onError","onPageNotFound","onUnhandledRejection","onThemeChange"].forEach((function(t){e[t]=I})),e})):X.getApp},App:function(e){return yu({titan:t,App:X.App,WOS:e.WOS})},Component:function(){return function(t){return function(e){var n,r,a=e;e.methods=e.methods||{},e.behaviors=e.behaviors||[];var o=yn();if(o&&e.behaviors.push(pu(o.moduleType,o.name)),!a[xi]){var i,u=[Zi(),Ue(),eu()];if(l.beginDefinePage){a[lt]=!0,u.push(Yi(),fe("page"));var c=e.usingPageInjections;Array.isArray(c)&&c.length>0&&Hi(c,e.methods||{},yn(),An())}else{u.push(fu(),fe("component")),l.beginDefineTabBarComponent&&u.push(au());var s=a.inheritPageContext;null==s&&o&&(s=null===(r=null===(n=l.titanConfig["".concat(o.moduleType,"s")])||void 0===n?void 0:n[o.name])||void 0===r?void 0:r.inheritPageContext),s&&u.push(iu())}0!==u.length&&(i=e.behaviors).unshift.apply(i,u),e.methods[ft]=function(){return e},e.methods[Tt]=function(t){return t()},nu(e.methods),Ii(e,!1)}return zt(e),t(vo(e,!1))}}(X.Component)},Page:function(t){return ru(X.Page,t.Component)},Behavior:function(){return function(t){return function(e){return zt(e),t(vo(e,!0))}}(X.Behavior)},getCurrentPages:function(){return function(t){return function(){return t().map((function(t){var e;return t&&(t.route===ma?(t.additionalPageStack||[]).map((function(t){return t.page})):(null===(e=t[nt])||void 0===e?void 0:e.call(t))||t)})).flat(1/0).filter(Boolean)}}(X.getCurrentPages)},setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return bu(setTimeout)})),setInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return bu(setInterval)}))},null===(e=h("globalVars"))||void 0===e?void 0:e()))}function yo(){var t=this;if(this[ct]){var e=this[nt]();this.closeLoading(),e&&(this.onPageAttached=I,ea(this).pageOnLoad={is:e[Fe]||e.is,time:Date.now()},ra(this),vu(e,this),ju(this,e),nn(this,e),this.callPageInitLifetimes(e,this.options,{"after:onReady":function(){ea(t).pageOnReady={is:e.is,time:Date.now()},ra(t)}}),this[it]&&setTimeout((function(){t[it]=!1})))}else setTimeout(this.onPageAttached.bind(this))}function bo(){var t=this,e=l.titan,n=this[nt]();this.closeLoading(),n&&(e.stamp("Tab页 ".concat(this.is," 加载 ").concat(this.data.pagePath," 成功")),ea(this).pageOnLoad={is:n[Fe]||n.is,time:Date.now()},this.notifyPerfDogCount<2&&ra(this),this.notifyPerfDogCount+=1,vu(n,this),nn(this,n),this.callPageInitLifetimes(n,n.options,{"after:onReady":function(){ea(t).pageOnReady={is:n.is,time:Date.now()},t.notifyPerfDogCount<2&&ra(t),t.notifyPerfDogCount+=1}}),this[it]&&setTimeout((function(){t[it]=!1})))}w(oo,{Promise:function(){return pc},createCustomTabBar:function(){return ou},createLandingPage:function(){return Nu},createModuleEnv:function(){return Tu},createModuleRegisterPage:function(){return Pi},createPageContainer:function(){return Lu},createPageProxy:function(){return Du},createPerfDogComponent:function(){return Ei},createRouteMidwayPage:function(){return Sr},createTabBarPage:function(){return qu},getCoreTitan:function(){return sc},getCoreTitanEnv:function(){return fc},wrapContextForPromise:function(){return kn}});var wo,Po,So,ko,xo,Oo,Co,To,Io,Eo,jo,_o,Do,Ro,Ao,Mo,qo,No,Lo,Bo,Wo,$o,Fo,Uo,Vo,zo,Ko,Ho,Jo,Go,Qo,Xo,Yo,Zo,ti,ei,ni,ri,ai,oi,ii,ui,ci,si,fi,li,pi,hi,gi,di,vi,mi,yi,bi,wi,Pi,Si,ki,xi,Oi,Ci,Ti,Ii,Ei,ji,_i,Di,Ri,Ai,Mi,qi,Ni,Li,Bi,Wi,$i,Fi,Ui,Vi,zi,Ki,Hi,Ji,Gi,Qi,Xi,Yi,Zi,tu,eu,nu,ru,au,ou,iu,uu,cu,su,fu,lu,pu,hu,gu,du,vu,mu,yu,bu,wu,Pu,Su,ku,xu,Ou,Cu,Tu,Iu,Eu,ju,_u,Du,Ru,Au,Mu,qu,Nu,Lu,Bu,Wu,$u,Fu,Uu,Vu,zu,Ku,Hu,Ju,Gu,Qu,Xu,Yu,Zu,tc,ec,nc,rc,ac,oc,ic,uc,cc,sc,fc,lc,pc,hc=b((function(){Dt(),Rt(),Et(),_t(),ln(),br(),ar(),pn(),_a(),_a(),te(),Pr(),jt(),wr(),Da(),ee(),J()||X.wx.onAppShow((function(t){if(1177!==t.scene&&1175!==t.scene){console.log("检查小程序更新");try{!function(){var t=X.wx;if("function"==typeof t.getUpdateManager){var e=t.getUpdateManager();e&&e.onCheckForUpdate&&e.onCheckForUpdate((function(n){var r;n.hasUpdate&&(e.onUpdateReady((function(){t.showModal({title:"小程序更新提示",content:"新版本已经准备好了，更新并重启",showCancel:!1,confirmText:"自动更新",success:function(t){t.confirm&&(clearTimeout(r),e.applyUpdate())}}),r=setTimeout((function(){clearTimeout(r),e.applyUpdate()}),3e3)})),e.onUpdateFailed((function(){console.log("新版本下载失败")})))}))}}()}catch(t){console.warn("检查更新失败")}}})),wo=k((function(){var t=l.titanConfig;return Object.assign(Object.assign(Object.assign({},t.external),{env:t.envName,titanVersion:t.titanVersion,buildTime:t.buildTime}),K.reduce((function(e,n){return e[n]=[],Object.entries(t[n]).forEach((function(t){var r=u(t,2),a=r[0],o=r[1].version;e[n].push({moduleName:a,version:o})})),e}),{}))})),X.wx.onAppShow(_(!0,"m4259n5jdfn2",(function(){return k((function(){var t,e=wo();It.log("appInfo:",JSON.stringify(e,null,2)),null===(t=l.titan.hound)||void 0===t||t.debug({method:"MINI_PROGRAM_INFO",data:e})}))}))),Po=S((function(t){return t.split(/\|/).map((function(t){return t.trim()}))})),So=function(t,e){var n=Object.assign({},t[e]);for(var r in t)if(r!==e&&Po(r).includes(e)){n=Object.assign(Object.assign({},t[r]),n);break}return n},ko=A((function(){return new Set(["getLocation","onLocationChange","chooseAddress","chooseLocation","choosePoi","getFuzzyLocation"])})),xo=function(t){return Le.get(t)},Oo="x-page-route",Co="x-component-is",To="x-req-from",Io=5,Eo=k((function(){var t=l.titanConfig,e=t.envName,n=t.moduleInitParams,r=null,a=function(t){j(t)&&(r||(r={}),Object.assign(r,t))};return a(So(n,"titan").customRequestHeader),"default"!==e&&a(So(n,"titan@".concat(e)).customRequestHeader),r})),jo=k((function(){var t=l.titanConfig.external,e=null;return t&&(t.customRequestHeader&&"object"==s(t.customRequestHeader)&&(e={},Object.assign(e,t.customRequestHeader)),t.xChannel&&(e||(e={}),e["wos-x-channel"]=t.xChannel)),e})),_o=function(){function t(){o(this,t),this._ops=[]}return i(t,[{key:"_exec",value:function(t){this._realTask?(0!==this._ops.length&&this._flush(),t(this._realTask)):this._ops.push(t)}},{key:"_flush",value:function(){var t=this;this._ops.splice(0).forEach((function(e){return e(t._realTask)}))}},{key:"setRequestTask",value:function(t){this._realTask=t,t&&0!==this._ops.length&&this._flush()}}]),t}(),Object.assign(_o.prototype,["abort","onHeadersReceived","offHeadersReceived","offProgressUpdate","onProgressUpdate"].reduce((function(t,e){return t[e]=function(){var t=arguments;this._exec((function(n){n[e]&&n[e].apply(n,t)}))},t}),{})),Do=10;try{Do=__wxConfig.wxAppInfo.maxRequestConcurrent}catch(t){}Ro=X.wx.request,Ao=_("zcci52wzknf3",(function(){return{key:yr(),concurrent:0,queue:[],callFromNext:!1}})),Mo=function(){var t=Nn();return null!=t&&t.getPageId?[xo(t.getPageId()),t]:[null,t]},qo=function(t,e,n){var r=t.__on__;if(Array.isArray(r))try{r.forEach((function(t){t(e,n)}))}catch(t){}},No=_("oa2ft3a2d8k4",(function(){return Object.create(null)})),Lo=k((function(){var t=l.envName||"default",e=l.titanConfig.isolateSharedObject;if(null==e||!e.enable)return function(t){return t};var n=(e.sharedKeys||[]).reduce((function(t,e){return"string"==typeof e?t[e]="all":t[e.key]=e.envs||"all",t}),{});return S((function(e){var r=n[e];if(r){if("all"===r)return"all:".concat(e);if(r.includes(t))return"".concat(r.join("|"),":").concat(e)}return"".concat(t,":").concat(e)}))})),Bo=X.wx.pageScrollTo,Wo=_("i1rfy02u095",(function(){return{queue:[],timeoutId:void 0,order:0}})),$o=function(){var t=l.titan.hound;lo.apply(t),0!==Wo.queue.length&&Fo()},Fo=function(){clearTimeout(Wo.timeoutId);var t=l.titan.hound;Wo.timeoutId=t?setTimeout($o,5e3):setTimeout(Fo,2e3)},Uo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();console.log("[TITAN_STAMP]",e,t),Wo.queue.push([t,e]),Fo()},Vo=_(!0,"xy101nh47e6",(function(){return{pageLoading:!1,tmpPageLoading:!1,timeoutId:void 0}})),zo=function(){var t=X.getCurrentPages(),e=t[t.length-1];return null!=e&&e[nt]?e:null},Ko=function(){if(!Vo.tmpPageLoading){Vo.pageLoading=!1;var t=zo();t&&t.data.loading&&t.setData({loading:!1})}},Jo=function(){return Vo.pageLoading},Go={showPageLoading:(Ho=function(t){if(clearTimeout(Vo.timeoutId),Vo.tmpPageLoading=t,t){Vo.pageLoading=!0;var e=zo();e&&!e.data.loading&&e.setData({loading:!0})}else Vo.timeoutId=setTimeout(Ko,100)}).bind(null,!0),hidePageLoading:Ho.bind(null,!1)},Qo=function(t,e){var n;if(null===(n=null==t?void 0:t.getPageId)||void 0===n?void 0:n.call(t)){var r=an(t);!r||"function"!=typeof r[rt]||r[rt](e,t)}},Xo=S((function(t){var e=null;return H(l.titanConfig,(function(n,r,a,o){for(var i in a.pages)a.pages[i]===t&&(e=a,o())})),e})),Yo=function(t){var e;return"string"!=typeof t?null:(e=B(t,!1,!0),t=u(e,1)[0],Xo(t))},Zo=function(t){if(!t)return"";var e=t.product_id||t.prodId||t.pro_id||t.prod_id;return null!=e?String(e):""},ti=function(t){var e=Yo(t);return Zo(null==e?void 0:e.context)},ei=new WeakMap,ni=function(t){var e;if(!t.name)throw new Error("请提供 name 属性");var n="[代理组件(".concat(t.name,")]"),r={properties:t.properties,methods:{}},a=r.methods,o=function(t){if(a[t])throw new Error("".concat(n).concat(t," 重复了，请更换"))};if(t.forwardEvents&&Object.entries(t.forwardEvents).forEach((function(t){var e,n,r=u(t,2),i=r[0],c=r[1];"string"==typeof c?e=c:(e=c.handler,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(c,["handler"])),o(e),a[e]=function(t){this.triggerEvent(i,t.detail,n)}})),null!==(e=t.exposedMethods)&&void 0!==e&&e.length){if(!t.onAttachedHandler||!t.id){var i="".concat(n,"定义 exposedMethods 的同时请同时提供 id 和 onAttachedHandler 属性");throw new Error(i)}r.lifetimes={created:function(){ei.set(this,{deferred:xr(!0)})},attached:function(){var t=ei.get(this);t?clearTimeout(t.timeoutId):ei.set(this,{deferred:xr(!0)})},detached:function(){var t=this,e=ei.get(this);e||(e={},ei.set(this,e)),e.timeoutId=setTimeout((function(){var r;null===(r=e.deferred)||void 0===r||r.reject(new Error("".concat(n,"detached"))),ei.get(t)===e&&ei.delete(t)}),500)}},o(t.onAttachedHandler),a[t.onAttachedHandler]=function(){var t,e;null===(e=null===(t=ei.get(this))||void 0===t?void 0:t.deferred)||void 0===e||e.resolve()},t.exposedMethods.forEach((function(e){o(e),a[e]=function(){var r=this,a=arguments,o=new l.PromiseExt((function(o,i){var u,c=null===(u=ei.get(r))||void 0===u?void 0:u.deferred;c?c.promise.then((function(){var o=r.selectComponent("#".concat(t.id));if(!o)throw new Error("".concat(n,"执行错误，找不到真实组件，请检查id是否拼写正确"));return o[e].apply(o,a)})).then(o,i):i(new Error("".concat(n,"已卸载")))}));return o.catch(I),o}}))}return X.Component(r)},ri=function(t,e){var n,r=null===(n=l["env_".concat(t)])||void 0===n?void 0:n.titanEnvs;if(r){var a=r[e];return a||(a=r["platform:".concat(e)])||(a=r["package:".concat(e)])?a:void 0}},ai=S((function(t,e,n){var r;(r=g[St]||(g[St]={}))[t]||(r[t]=n||{});var a=ri(t,e);if(a)return l.PromiseExt.resolve(a);var o=h("loadSubEnv:".concat(t));return o?l.PromiseExt.resolve(o).then((function(t){return null==t?void 0:t(e)})).then((function(){return ri(t,e)})):l.PromiseExt.resolve(null)}),(function(t,e){return"".concat(t,":").concat(e)})),oi=_("3s18buu7z137",(function(){return A((function(){var t=X.wx["_getLocation_".slice(1,-1)];if("release"===X.wx.getAccountInfoSync().miniProgram.envVersion)return t;var e,n=null;return function(r){return n||(n=new l.PromiseExt((function(a,o){var i=!1;t(Object.assign(Object.assign({},r),{success:a,fail:function(t){n=null,i=!0,clearTimeout(e),o(t)},complete:function(){i||(clearTimeout(e),e=setTimeout((function(){n=null}),3e4))}}))}))),Ft(r,n)}}))})),ii=function(t,e,n){var r=t[e];return r?a({},e,(function(){var a=X.getCurrentPages(),o=a[a.length-1];if(null==o||!o[ht])return r.apply(t,arguments);var i=arguments[0]||{};return Ft(i,o.updatePageStyle(n(i)).then((function(){return{errMsg:"".concat(e,":ok")}})))})):{}},ui=function(t){return Object.assign(ii(t,"setNavigationBarColor",(function(t){return{navigationBarBackgroundColor:t.backgroundColor,navigationBarTextStyle:t.frontColor}})),ii(t,"setNavigationBarTitle",(function(t){return{navigationBarTitleText:t.title}})),ii(t,"setBackgroundColor",(function(t){return{backgroundColor:t.backgroundColor,backgroundColorTop:t.backgroundColorTop,backgroundColorBottom:t.backgroundColorBottom}})),ii(t,"setBackgroundTextStyle",(function(t){return{backgroundTextStyle:t.textStyle}})))},ci=function(t){X.Component({data:{initState:null,initError:null},lifetimes:{attached:function(){var e=this;this.passObj={},this.onParentPageReady((function(n,r){t.onInit(r,e.passObj).then((function(t){e.setData({initState:t})})).catch((function(t){e.setData({initError:t})}))}))},detached:function(){clearTimeout(this.loopTimeoutId),t.onDestroy&&t.onDestroy(this.pageInstance,this.passObj)}},methods:{onPageAttached:function(t){var e=t.detail;this.triggerEvent("titanpageattached",e),this.pageInstance=xo(this.getPageId())},onParentPageReady:function(t){var e=this;!function n(){var r,a=an(e);a&&(r=a[dt]||a.options),r?t(a,r):e.loopTimeoutId=setTimeout(n,100)}()}}})},si=k((function(){try{return h("mockExt")||{}}catch(t){}return{}})),fi=k((function(){var t;return(null===(t=g.getExtConfigSync)||void 0===t?void 0:t.call(g))||{}})),li=k((function(){return new Set(Se.value.disableAPIs||[])})),pi=function(t,e){if("string"!=typeof t)return e;if(ko.value.has(t)&&li().has(t)){if(t.startsWith("on"))return I;var n="".concat(t,":fail No permission detected by Titan");return function(t){return At(t,!1,n)}}return e},hi=_(!0,"ku3gxq7j5w8",(function(){return{}})),gi=_(!0,"2u550xn4fqy9",(function(){return[]})),di=function(t){Nt(gi,t),0!==gi.length?yi():l.titan.navigateBack({complete:function(){}})},vi=function(t,e){hi[t].resolve(e),di(t)},mi=function(t,e){hi[t].reject(e),di(t)},yi=function(){var t=gi[0];if(t){var e,n=X.getCurrentPages(),r=n[n.length-1];e=r&&r.route.endsWith("module-register/index")?"redirectTo":"navigateTo",l.titan[e]({url:"/".concat(t,"/module-register/index"),fail:function(e){mi(t,e)}})}},bi=k((function(){var t=Pe()?h("requirePackageAsync"):null;return t||(t=function(t){var e=hi[t];if(!e){e=xr(!0),hi[t]=e;var n=0===gi.length;gi.push(t),n&&setTimeout((function(){yi()}))}return kn(e.promise)}),t})),D(wi=function(t,e){bi()(t).catch((function(){return null})).then((function(t){"function"==typeof e&&e(t)}))},"async",bi),Pi=function(t,e){var n=null;try{n=e()}catch(t){}hi[t]||(hi[t]=xr(),hi[t].resolve(n)),X.Page({onLoad:function(){vi(t,n)}})},Si=k((function(){return h("requirePlatformMain")})),ki=function(t){return hn(t,{},(function(t,e){return"function"==typeof e?xn(t,e):e}))},xi="__from_page__",Oi=function(t){if(!t||"function"==typeof t)return t;var e=t;switch(function(t){return Object.prototype.toString.call(t).toLowerCase().slice(8,-1)}(t)){case"date":e=new Date(e.getMilliseconds());break;case"array":e=e.map((function(t){return Oi(t)}));break;case"regexp":e=new RegExp(e.source,e.flags);break;case"object":e=Object.keys(e).reduce((function(t,e){return t[e]=Oi(t[e]),t}),{})}return e},Ci=function(t,e){Object.keys(e).forEach((function(n){if(!(n in t)&&"function"!=typeof e[n])try{t[n]=Oi(e[n])}catch(r){t[n]=e[n],It.error("clone 属性失败: ",n,t.route)}}))},Ti=function(t){var e=a(a(a(a(a({},xi,!0),"options",t.options||{}),"data",t.data),"behaviors",t.behaviors),"methods",{});return e.options.styleIsolation||(e.options.styleIsolation="shared"),Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(X.Behavior({lifetimes:{created:function(){Ci(this,t)}}})),Object.keys(t).forEach((function(n){var r=t[n];"function"==typeof r&&(e.methods[n]=r)})),e},Ii=function(t,e){return fn.getDefault().emit(e?yt:bt,t,!1,!0),t},Ei=function(){var t,e={data:{top:(null===(t=Qt.value.safeArea)||void 0===t?void 0:t.top)||0,visible:!1,record:null,score:null,btnPosSty:""},lifetimes:{attached:function(){this.receive=this.receive.bind(this),fn.getDefault().on("".concat(Gr,":").concat(this.getPageId()),this.receive)},detached:function(){fn.getDefault().off("".concat(Gr,":").concat(this.getPageId()),this.receive)}},pageLifetimes:{show:function(){this.pause=!1,this.tempRecord&&(this.setData({record:this.tempRecord,score:Jr(this.tempRecord)}),this.tempRecord=null)},hide:function(){this.pause=!0}},methods:{receive:function(t){if(Zr.value){if(this.pause)return void(this.tempRecord=t);this.setData({record:t,score:Jr(t)})}},onTapButton:function(){this.setData({visible:!this.data.visible})},copyScore:function(){var t=this.data.score;if(t){var e=["类别,值,分数"];t.category.forEach((function(t){var n=t.desc,r=t.value,a=t.score;e.push("".concat(n,",").concat(r,",").concat(a))})),X.wx.setClipboardData({data:e.join("\n"),complete:function(t){var e=t.errMsg;X.wx.showToast({icon:"none",title:"复制"+(e.includes("ok")?"成功":"失败"),complete:I})}})}},updateBtnPosSty:function(t){this.setData({btnPosSty:t})}}};Ii(e,!1),X.Component(e)},ji=function(){function t(e){o(this,t),this.pageId=e}return i(t,[{key:"markInteractive",value:function(){var t=ea(this.pageId);t?(t.status.custom=t.status.custom||{},t.status.custom.interactive=Date.now(),ra(this.pageId)):It.warn("PerfDog 数据已上传，标记无效")}}]),t}(),_i=S((function(t){return new ji(t.getPageId())}),(function(t){return t.getPageId()})),ce((function(t){var e=t.type,n=t.instance,r=t.lifetime;"page"===e&&"detached"===r&&_i.cache.delete(n.getPageId())})),Di=Object.freeze({addRequestUrlBlacklist:Fr,removeRequestUrlBlacklist:Ur,of:_i}),Ri=k((function(){var t;return(null===(t=l.optional)||void 0===t?void 0:t.PerformanceMonitor)||ja})),Ai=Object.freeze({pick:fr,omit:sr,diff:gr,filterData:pr,get PerformanceMonitor(){return Ri()},PerfDog:Di}),Mi=Y("injection_name"),qi="...injections",Ni={},Li=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,$i=["onLoad","onShow","onReady","onHide","onUnload"],Fi=["onShareAppMessage","onShareTimeline"],Ui={},Vi=new WeakSet,zi=function(t,e){var n="[pageInjection:".concat(e,"]: ");return{emit:function(r,a){if("$"===(null==r?void 0:r[0])){var o=Li.get(t);o&&o.concat(t).forEach((function(n){var o=n[r];if("function"==typeof o)try{o.call(t,a,e)}catch(t){x(t)}}))}else It.warn(n,"emit 事件名称必须以 $ 开头")},skipFollowingInjections:function(){var e=Wi.get(t);if(null!=e){var r=Li.get(t);r&&(It.warn(n,"调用 skipFollowingInjections 成功，将跳过后续生命周期"),r.splice(e+1))}else It.warn(n,"请勿在injection生命周期外调用")}}},Ki=S((function(){return Object.values(Ui).sort((function(t,e){return t.priority-e.priority})).map((function(t){return t.injections})).flat(1/0)})),Hi=function(t,e,r,o){var i=t.map((function(t){return Ni[t]})).filter(Boolean);if(0!==i.length){var u={};$i.forEach((function(t){var n=e[t];n&&(u[t]=function(){var e=Ne.get(this.getPageId());e&&!Vi.has(e)&&("onLoad"===t||"onShow"===t)&&(Vi.add(e),ea(this).status["bizPageO".concat(t.slice(1),"Time")]=Date.now(),ra(this)),n.apply(this,arguments)})})),Fi.forEach((function(t){u[t]=e[t]}));var c=function(t){var e=Li.get(t);return e||((e=i.map((function(e){var n=zi(t,e.name);return Object.assign(e.fn(n),a({},Mi,e.name))}))).push(u),Li.set(t,e)),e},s=function(t,e){return function(){var a=this,i=arguments,u=c(this),s=Bi.get(this);s||(s={},Bi.set(this,s));var f=e?s[e]:null;s[t]=or(a,void 0,void 0,n().mark((function e(){var a,c,p,h=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=9;break}return e.prev=1,e.next=4,f;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),x(e.t0);case 9:a=l.titan.hound,c=n().mark((function e(){var c,s,f,g,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Date.now(),Wi.set(h,p),s=u[p],!(f=s[t])){e.next=19;break}if(g=setTimeout((function(){It.error("PageInjection执行超时，执行函数为: ".concat(s[Mi],":").concat(t)),a&&a.debug({method:"PageInjectionTimeout",url:"/".concat(h.route),data:{name:s[Mi],fn:t}})}),5e3),e.prev=5,d=Jn(Ln(h,o,!0),r,f,h,i),e.t0=d instanceof l.PromiseExt,!e.t0){e.next=11;break}return e.next=11,d;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(5),x(e.t1);case 16:return e.prev=16,clearTimeout(g),s[Mi]&&(ea(h).status.pageInjections.push({name:s[Mi],pageLifetime:t,start:c,end:Date.now()}),ra(h)),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})),p=0;case 12:if(!(p<u.length)){e.next=17;break}return e.delegateYield(c(),"t1",14);case 14:p+=1,e.next=12;break;case 17:s[t]=null;case 18:case"end":return e.stop()}}),e,null,[[1,6]])})))}};$i.forEach((function(t,n,r){e[t]=s(t,r[n-1])})),Fi.forEach((function(t){e[t]=function(t){return function(){for(var e,n=arguments,a=c(this),i=0;i<a.length;i+=1){Wi.set(this,i);var u=a[i][t];if(u)try{e=Jn(Ln(this,o,!0),r,u,this,n)}catch(t){x(t)}}return e}}(t)}));var f=e.onLoad;e.onLoad=function(){try{var t=[],e=c(this);e.every((function(t){return!t.onShareAppMessage}))?t.push("shareAppMessage","shareTimeline"):e.every((function(t){return!t.onShareTimeline}))&&t.push("shareTimeline"),0!==t.length&&X.wx.hideShareMenu({menus:t,complete:function(){}})}catch(t){}return null==f?void 0:f.apply(this,arguments)}}},Ji=function(t,e,n){var a="".concat(t,":").concat(e),o=A((function(){var n,r,a,o=(null===(n=l.titanConfig["".concat(t,"s")])||void 0===n?void 0:n[e])||{},i=o.usingPageInjections;if(!i&&"package"===t&&o.namespace){var u=null===(r=l.titanEnvs["platform:".concat(o.namespace)])||void 0===r?void 0:r.titan;i=null===(a=null==u?void 0:u.getCurrentInjections)||void 0===a?void 0:a.call(u)}return new Set(i||[])})),i=function(t){for(var e=t.indexOf(qi);-1!==e;)t.splice.apply(t,[e,1].concat(r(o.value))),e=t.indexOf(qi)},u=function(){var t;return(t=Ki()).concat.apply(t,r(o.value))};return["Page","Component"].forEach((function(t){var e=n[t];n[t]=Object.defineProperty((function(){if(l.beginDefinePage){var t,n=arguments[0]||(arguments[0]={});Array.isArray(n.usingPageInjections)?(t=n.usingPageInjections).unshift.apply(t,r(Ki())):n.usingPageInjections=u(),n.usingPageInjections=r(new Set(n.usingPageInjections)),i(n.usingPageInjections)}return e.apply(null,arguments)}),"name",{value:t})})),{definePageInjection:function(t,n){var r="".concat(e,":").concat(t);if(Ni[r])throw new Error("已存在相同名称的injection: ".concat(t,", 模块: ").concat(e));return Ni[r]={name:r,fn:n},r},getCurrentInjections:u,setPageInjections:function(n,r,u){var c,s,f;l.beginDefineBootstrap?(i(n),$t(a,"titan.setPageInjections")&&r?(Ui[a]={injections:n,priority:null!==(f=null!=u?u:null===(s=null===(c=l.titanConfig["".concat(t,"s")])||void 0===c?void 0:c[e])||void 0===s?void 0:s.priority)&&void 0!==f?f:1e4},Ki.cache.clear()):(o.value.clear(),n.forEach((function(t){o.value.add(t)})))):It.warn("请勿在 titan.bootstrap 之外调用 titan.setPageInjections")}}},Gi=function(t){var e=t.getPageId();Le.get(e)||Le.set(e,t)},Qi=function(t){var e=t.selectComponent,n=t.selectAllComponents,r=!1;t.selectComponent=function(){var t=arguments;if(r)return e.apply(this,t);r=!0;try{var n=e.apply(this,t);if(null==n){var a=e.call(this,"#titan-one-component");null!=a&&(n=a.selectComponent.apply(a,t))}return n}finally{r=!1}},t.selectAllComponents=function(){var t,a=arguments;if(r)return n.apply(this,a);r=!0;try{t=n.apply(this,a);var o=e.call(this,"#titan-one-component");if(o){var i=o.selectAllComponents.apply(o,a);if(0!==i.length){var u=new Set(t);i.forEach((function(t){u.add(t)})),t=Array.from(u)}}}finally{r=!1}return t}},Xi=function(t){var e=t.options||{},n=null;Object.defineProperty(t,"options",{configurable:!0,enumerable:!1,get:function(){var t=an(this);return t?t===this?e:t[dt]||t.options:(n||(n={}),n)},set:function(t){Object.defineProperty(this,"options",{configurable:!0,enumerable:!1,writable:!0,value:t})}})},Yi=k((function(){return X.Behavior({lifetimes:{created:function(){Xi(this),Gi(this),Qi(this)},attached:function(){var t,e,n=this;Gi(this),Le.get(this.getPageId())===this&&(null!==(e=null===(t=this[ft])||void 0===t?void 0:t.call(this))&&void 0!==e&&e[lt]?setTimeout((function(){n.triggerEvent("titanpageattached")})):this.triggerEvent("titanpageattached"))},detached:function(){var t=this,e=this.getPageId();Le.get(e)===this&&setTimeout((function(){Le.get(e)===t&&Le.delete(e)}))}},methods:{setBizPageId:function(t){var e=an(this);if(null!=e&&e.route.startsWith("t/")){var n="/".concat(e.route),r=Je.value[n]||Ge.value[n];if((null==r?void 0:r.targetPath)==="/".concat(this.route)){var a="string"==typeof t?{pageid:t,vid:this.options.vid,bizVid:this.options.bizVid}:t;r.key=Xe(r.targetPath,a),r.pageInstance&&(r.pageInstance[gt]=r.key);var o=Re[n];o&&(o.key=r.key)}}}}})})),Zi=k((function(){return X.Behavior({lifetimes:{created:function(){Object.defineProperty(this,"$vm",{configurable:!0,enumerable:!0,set:function(t){Sn(t),Object.defineProperty(this,"$vm",{configurable:!0,enumerable:!0,writable:!0,value:t})},get:function(){}})}}})})),tu=0,eu=k((function(){var t=S((function(t){return{timeoutId:void 0,tasks:[]}}),!0);return X.Behavior({lifetimes:{attached:function(){clearTimeout(t(this).timeoutId)},detached:function(){var e=t(this);e.timeoutId=setTimeout((function(){e.tasks.splice(0).forEach((function(t){return(0,t.cancel)()}))}),100)}},methods:{selectComponentAsync:function(e){for(var n,r,a=this,o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];var s,f,p,h,g,d=i[0];j(d)?(s=(n=d).attempts,f=n.delay,p=n.throwError,h=n.verify):(r=u(i,4),s=r[0],f=r[1],p=r[2],h=r[3]),("number"!=typeof s||Number.isNaN(s)||s<0)&&(s=10),("number"!=typeof f||Number.isNaN(f)||f<0)&&(f=500),p&&(g=new Error("####"));var v="(".concat(this.is,')[selectComponentAsync("').concat(e,'")]');return new l.PromiseExt((function(n,r){var o,i=++tu,u=function(){clearInterval(o),Mt(t(a).tasks,(function(t){return t.id===i}))},c=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(v," canceled");u(),p?(g.message=e,null===(t=g.stack)||void 0===t||t.replace("####",e),r(g)):n(null)},l=function(){s-=1;var t=a.selectComponent(e);return t?!(t.is.startsWith("@titan/cs")||h&&!h(t)||(u(),n(t),0)):(s<=0&&c("".concat(v," not found")),!1)};l()||(o=setInterval(l,f),t(a).tasks.push({id:i,cancel:c}))}))}}})})),nu=function(t){t.onLoad=Bt(t.onLoad,(function(t){return function(){var e=arguments;return Gt(this)&&C(e[0])&&(e[0]=function(t){var e,n=null===(e=l.titanConfig.tabBar)||void 0===e?void 0:e.list;if(Array.isArray(n)){var r=n.find((function(e){return e.pagePath===t}));return r&&r.query||{}}return{}}(this.route)),null==t?void 0:t.apply(this,e)}})),t.onShow=Bt(t.onShow,(function(t){return function(){var e;if(Gt(this)){var n=this.getPageId();if(null!==(e=We[n])&&void 0!==e&&e.show)return;Ke(n,"show")}return null==t?void 0:t.apply(this,arguments)}})),t.onHide=Bt(t.onHide,(function(t){return function(){var e;if(Gt(this)){var n=this.getPageId();if(null!==(e=We[n])&&void 0!==e&&e.hide)return;Ke(n,"hide")}return null==t?void 0:t.apply(this,arguments)}})),t.onUnload=Bt(t.onUnload,(function(t){return function(){if(Gt(this)){var e=this.getPageId();We[e]&&delete We[e],setTimeout((function(){Me(e)}))}return null==t?void 0:t.apply(this,arguments)}}))},ru=function(t,e){return function(n){n.behaviors||(n.behaviors=[]);var r=yn();n.behaviors.unshift(X.Behavior({lifetimes:{created:function(){r&&gn(this,r),Ci(this,n)}}}),Zi(),Ue(),Yi(),fe("page"),eu()),r&&(n[st]="".concat(r.moduleType,":").concat(r.name));var a=n.usingPageInjections;return Array.isArray(a)&&a.length>0&&Hi(a,n,r,An()),n[ft]=function(){return n},n[Tt]=function(t){return t()},Sn(n,!0),nu(n),Ii(n,!0),l.beginDefinePage?e(Ti(n)):(zt(n),t(n))}},au=k((function(){var t=S((function(t,e){return new Set}),(function(t,e){return"".concat(t,":").concat(e)})),e=yr("_"),n=yr("_"),r=yr("_");return X.Behavior({properties:{tabbarState:{type:Object,value:null}},data:{hasAnotherInstance:!1},lifetimes:{created:function(){this[n]=!0,this[r]=null},attached:function(){var n=t(this.getPageId(),this.is);n.add(this),n.forEach((function(t){t[e]()}))},detached:function(){var n=t(this.getPageId(),this.is);n.delete(this),n.forEach((function(t){t[e]()})),0===n.size&&t.cache.delete(t.resolver(this.getPageId(),this.is))}},methods:a({getAnotherInstance:function(){if(this[n]){this[n]=!1;for(var e=t(this.getPageId(),this.is)[Symbol.iterator](),a=e.next();!a.done;){if(a.value!==this){this[r]=a.value;break}a=e.next()}}return this[r]}},e,(function(){this[n]=!0,this[r]=null;var t=!!this.getAnotherInstance();this.data.hasAnotherInstance!==t&&this.setData({hasAnotherInstance:t})}))})})),ou=function(){X.Component({properties:{tabbarState:{type:Object}}})},iu=k((function(){return X.Behavior({lifetimes:{attached:function(){var t,e,n=an(this);if(n){var r=(null===(t=n[nt])||void 0===t?void 0:t.call(n))||n,a=(null===(e=n[ot])||void 0===e?void 0:e.call(n))||r[at]||dn(r);a&&(gn(this,a),this[st]="".concat(a.moduleType,":").concat(a.name))}}}})})),uu=["observers","methods","lifetimes","pageLifetimes"],cu=["created","attached","ready"],su=new WeakSet,fu=k((function(){return X.Behavior({lifetimes:{created:function(){var t=this.getPageId();Le.has(t)||su.add(this)}}})})),lu=function(t,e){t&&e.forEach((function(e){var n=t[e];n&&(t[e]=function(){var t=this,e=arguments;su.has(this)&&!this.data.__uni__?setTimeout((function(){n.apply(t,e)})):n.apply(this,e)})}))},pu=S((function(t,e){return X.Behavior({lifetimes:{created:function(){this[st]="".concat(t,":").concat(e)}}})}),(function(t,e){return"".concat(t,":").concat(e)})),hu=Ia(),gu="q55yz2hr1gba",du=_("a4voqgyf366b",(function(){return{value:!1}})),vu=function(t,e){t[gu]||(du.value||Zt())&&(t[gu]=!0,e.setData({pageData:t.data}),he.from(t).addInterceptor({before:function(t,n){L((function(){var t={};for(var r in n)t["pageData.".concat(r)]=n[r];e.setData(t)}))}}))},mu=function(){du.value=!0,Le.forEach((function(t,e){if(!t[gu]){var n=Ne.get(e);n&&vu(t,n)}}))},yu=function(t){if(J())return function(t){"function"==typeof(t=t||{}).onLaunch&&t.onLaunch(X.wx.getLaunchOptionsSync()),"function"==typeof t.onShow&&("function"==typeof X.wx.onAppShow?X.wx.onAppShow(t.onShow):"function"==typeof X.wx.getEnterOptionsSync?t.onShow(X.wx.getEnterOptionsSync()):t.onShow(X.wx.getLaunchOptionsSync())),[["onHide","onAppHide"],["onError","onError"],["onUnhandledRejection","onUnhandledRejection"],["onPageNotFound","onPageNotFound"],["onThemeChange","onThemeChange"]].forEach((function(e){var n=u(e,2),r=n[0],a=n[1];"function"==typeof t[r]&&"function"==typeof X.wx[a]&&X.wx[a](t[r])}))};var e=t.WOS,n=t.titan,r=t.App;return function(t){(t=t||{}).WOS=e,t.enablePageDataProjection=mu,t.globalData||(t.globalData={});var a=0;return["onLaunch","onShow"].forEach((function(e){var r=t[e],o="onShow"===e;t[e]=function(t){"onLaunch"===e&&(l.titan.stamp("App.onLaunch"),fn.getDefault().emit(wt,t)),o&&(a+=1);var i=t.path||l.titanConfig.firstPagePath;if(!Pe()&&(i.startsWith("t/")||je(i))){if(o&&a<=1)return null==r?void 0:r.apply(this,arguments);try{var u;if(i.startsWith("t/")){var c=en(i,t.query);u=c?"".concat(c.targetPath,"?").concat(ke.stringify(c.query)):l.titanConfig.defaultEntryPath}else u="".concat(De(i),"?").concat(ke.stringify(t.query||{}));u.startsWith("/")||(u="/".concat(u)),u.endsWith("?")&&(u=u.slice(0,-1));var s=X.getCurrentPages();s[s.length-1]?setTimeout((function(){n.redirectTo({url:u})}),200):n.reLaunch({url:u})}catch(t){x(t)}}return null==r?void 0:r.apply(this,arguments)}})),r(Sn(t))}},bu=function(t){return function(){return arguments[0]=Pn(arguments[0]),t.apply(null,arguments)}},wu=_("t6t81t0bqvc",(function(){return new Set})),Pu={},Su={},ku=function(t,e,n,a){var o,i,u=null==e?void 0:e.group,c=null==e?void 0:e.namespace,s="package"===n&&c?"platform:".concat(c):"";u?i=Pu[u]:s&&(i=Su[s]||(null===(o=l.titanEnvs[s])||void 0===o?void 0:o.titan)),i||(i=Object.assign({},function(t,e){var n={},r=new Set(Object.keys(l.titanConfig.publicStorageKeys).map((function(t){var e=l.titanConfig.publicStorageKeys[t];return"string"==typeof e?e:t}))),a="".concat(e,"$"),o=function(n){var r=l.titanConfig.publicStorageKeys[n];if(!r)return"".concat(a).concat(n);if("string"==typeof r){try{var o="应该使用".concat(r,"代替").concat(n,"，模块：").concat(e);if(It.warn(o),!wu.has(o)){wu.add(o);var i=t.hound;i&&"production"!==i.environment&&i.debug({method:"STORAGE WARNING",data:{msg:o}})}}catch(t){}return r}return n};["getStorage","setStorage","removeStorage"].forEach((function(e){n[e]=function(){var n=arguments[0],r=n&&n.key;return r&&(n.key=o(r)),t[e].apply(this,arguments)}})),["getStorageSync","setStorageSync","removeStorageSync"].forEach((function(e){n[e]=function(){var n=arguments[0];return n&&(arguments[0]=o(n)),t[e].apply(this,arguments)}}));var i=function(t){var e;return!(null===(e=null==t?void 0:t.keys)||void 0===e)&&e.length&&(t.keys=t.keys.reduce((function(t,e){return r.has(e)?t.push(e):e.startsWith(a)&&t.push(e.slice(a.length)),t}),[])),t},u=t.getStorageInfoSync,c=t.getStorageInfo;return n.getStorageInfoSync=function(){var t=u.apply(this,arguments);return i(t),t},n.getStorageInfo=function(){var t=this,e=arguments[0];return Ft(e,new l.PromiseExt((function(n,r){c.call(t,Object.assign(Object.assign({},e),{success:n,fail:r,complete:void 0}))})).then(i))},n}(t,u||c||a)),t.cloud&&(i.cloud=Object.create(t.cloud)),u?Pu[u]=i:s&&(Su[s]=i));var f=Object.assign({},kr(t,!1,"package"===n?a:void 0)),p=!(u||s),h=i;return new Proxy(f,{get:function(t,e){return E(t,e)?t[e]:h[e]},set:function(t,e,n){return p||E(t,e)?(t[e]=n,!0):(h[e]=n,!0)},defineProperty:function(t,e,n){return p||E(t,e)?Reflect.defineProperty(t,e,n):Reflect.defineProperty(h,e,n)},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t,e)||Reflect.getOwnPropertyDescriptor(h,e)},deleteProperty:function(t,e){return p||E(t,e)?Reflect.deleteProperty(t,e):Reflect.deleteProperty(h,e)},has:function(t,e){return Reflect.has(t,e)||Reflect.has(h,e)},ownKeys:function(t){return r(new Set(Reflect.ownKeys(t).concat(Reflect.ownKeys(h))))}})},xu=k((function(){var t=(ao(),P(Ra));t.default&&(t=t.default),l.titanEnvs.titan.TitanX=t})),Ou={},Cu=new Set(["global"]),Tu=function(t,e,n){xu(),pa(l.titan);var a=l.titanEnvs,o=l.titan,i="".concat(t,":").concat(e),u=a[i],c=a.titan;if(!u){var s=Z.has(i),f=A((function(){return function(t,e,n,a){var o,i="".concat(n,":").concat(a),u=Z.has("".concat(n,":").concat(a)),c=null===(o=l.titanConfig["".concat(n,"s")])||void 0===o?void 0:o[a],s=Hn(n,a),f=Kn(n,a),p=zn(n,a),h=Object.assign({getContext:function(){return s},getModuleInfo:function(){return f},getGroupInfo:function(){return p},getTitanEnv:function(){return t},getModuleInitParams:k(So.bind(null,l.titanConfig.moduleInitParams,a))},Ji(n,a,t)),g=A((function(){return ku(e,c,n,a)})),d=tt[i]?S((function(t){return"string"==typeof t&&$t(i,"wx.".concat(t))})):function(){return!1};return new Proxy(e,{get:function(t,e){return E(h,e)?h[e]:u||d(e)?t[e]:g.value[e]||t[e]},set:function(t,e,n){return!E(h,e)&&("function"==typeof n&&(n=xn(e,n)),u||d(e)?(t[e]=n,!0):(g.value[e]=n,!0))},defineProperty:function(t,e,n){return!E(h,e)&&(u||d(e)?Reflect.defineProperty(t,e,n):Reflect.defineProperty(g.value,e,n))},getOwnPropertyDescriptor:function(t,e){return E(h,e)?{configurable:!0,enumerable:!1,value:h[e],writable:!1}:u||d(e)?Reflect.getOwnPropertyDescriptor(t,e):Reflect.getOwnPropertyDescriptor(g.value,e)||Reflect.getOwnPropertyDescriptor(t,e)},ownKeys:function(t){return u?Reflect.ownKeys(t):r(new Set(Reflect.ownKeys(g.value).concat(Reflect.ownKeys(t))))},has:function(t,e){return!!E(h,e)||(u||d(e)?Reflect.has(t,e):Reflect.has(g.value,e)||Reflect.has(t,e))},deleteProperty:function(t,e){return!E(h,e)&&(u||d(e)?Reflect.deleteProperty(t,e):Reflect.deleteProperty(g.value,e))}})}(u,o,t,e)})),p=A((function(){return Iu(c,t,e,n)}));u=new Proxy(c,{get:function(t,e){return"wx"===e||"titan"===e?f.value:s||$t(i,e)?t[e]:p.value[e]},set:function(t,e,n){return"wx"!==e&&"titan"!==e&&((s||$t(i,e))&&(t[e]=n),p.value[e]=n,!0)}}),a[i]=u,f.value}return u},Iu=function(t,e,n,r){var a,o,i=null===(a=l.titanConfig["".concat(e,"s")])||void 0===a?void 0:a[n],u=null==i?void 0:i.group,c=null==i?void 0:i.namespace,s="package"===e&&c?"platform:".concat(c):"";u?o=Ou[u]:s&&(o=l.titanEnvs[s]),o||(o=hn(t,{titan:void 0,wx:void 0,global:{}}),u?Ou[u]=o:s&&(l.titanEnvs[s]=o));var f=hn(o,Object.assign({},go(0,r)));return u||s?new Proxy(o,{get:function(t,e){return Cu.has(e)?t[e]:f[e]},set:function(t,e,n){return Cu.has(e)&&(t[e]=n),f[e]=n,!0}}):f},Eu=A((function(){return Ze(["onPullDownRefresh","onReachBottom","onShareTimeline","onAddToFavorites","onPageScroll__","onResize__","onTabItemTap","onSaveExitState"])})),ju=function(t,e,n){var r=_e(t.route);e[Fe]=e.is;var a=[["route",r],["is",r]];if(!n){var o=Object.assign({},t.options);Lt(e.options)&&Object.keys(e.options).forEach((function(t){t in o||(o[t]=e.options[t])})),a.push(["options",JSON.parse(JSON.stringify(o))])}a.forEach((function(t){var n=u(t,2),r=n[0],a=n[1];try{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,writable:!0,value:a})}catch(t){}}))},_u=new WeakSet,Du=function(t,e,n){var r=W(Object.assign(Object.assign({},sn),a(a(a({data:{ios:Xt(),loading:!1,pageFns:[],pageData:{},version:0,rendered:!n},onLoad:function(){l.externalPageStack&&l.externalPageStack.push(this),this.pageVersion=this.data.version,Ne.set(this.getPageId(),this),this[at]=Kn(t,e),this[ct]=!0,this[it]=!0,n&&this.setData({rendered:!0})},onShow:function(){if(this[ut]=!0,this.data.version!==this.pageVersion&&this.setData({version:this.pageVersion}),!this[it]){var t=Jo();t!==this.data.loading&&this.setData({loading:t}),this.callChildPageMethod("onShow")}},onReady:function(){this[it]=!1},onHide:function(){var t=this;this[ut]=!1,this.callAfterReady((function(){t.callChildPageMethod("onHide")}))},onPageAttached:yo,onShareAppMessage:function(){var t,e=this[nt]();if(e){var n=Object.assign({},null===(t=null==e?void 0:e.onShareAppMessage)||void 0===t?void 0:t.apply(e,arguments));return rn("/".concat(this.route),n),n}return{path:"/pages/landing/index"}},closeLoading:function(){Go.hidePageLoading()},onUnload:function(){var t=this;l.externalPageStack&&Nt(l.externalPageStack,this),this.callAfterReady((function(){t.destroyPage();var e=t.getPageId();Ne.delete(e)}))},destroyPage:function(){try{this.callChildPageMethod("onUnload")}catch(t){x(t)}var t=this.getPageId(),e=this[nt]();Le.delete(t),_u.delete(e)}},nt,(function(){var t=Le.get(this.getPageId());return t&&!_u.has(t)&&(_u.add(t),ze(this,t),ju(this,t,!0)),t})),ot,(function(){return Kn(t,e)})),rt,(function(t){this.destroyPage(),t&&(this.options=JSON.parse(JSON.stringify(t))),this.onPageAttached=yo,this.pageVersion+=1,this[ut]?this.setData({version:this.pageVersion}):this[it]=!0}))));Eu.value.forEach((function(t){var e=t.endsWith("__")?t.slice(0,-2):t;r[t]=function(){var t,n=this[nt]();return null===(t=null==n?void 0:n[e])||void 0===t?void 0:t.apply(n,arguments)}})),Ii(r,!0),X.Page(r)},Ru=new WeakMap,Au=function(t){var e,n;t="/"===t[0]?t.slice(1):t,null===(n=null===(e=l.titanConfig.preloadRule)||void 0===e?void 0:e[t])||void 0===n||n.packages.forEach((function(t){jr(t)}))},Mu=A((function(){return Ze(["onReachBottom","onPageScroll__","onResize__","onTabItemTap","onSaveExitState"])})),qu=function(t){var e=l.titan,n=Object.assign(Object.assign({},sn),a(a({data:{ios:Xt(),pagePath:"",version:0,loading:!0,pageMeta:{},disableScroll:!1,enablePullDownRefresh:!1,pageScrollParams:{},pageFns:[],pageData:{},enableRender:!0,tabbarState:{loading:!0,virtualRoute:t,currentRealRoute:"",prevRealRoute:"",getPageInstance:function(){return null}}},notifyPerfDogCount:0,onLoad:function(t){this[ht]=!0,this[it]=!0,this[gt]="";var n="/".concat(this.route);(Je.value[n]||Ge.value[n]).pageInstance=this,Ne.set(this.getPageId(),this),e.stamp("进入Tab页 ".concat(this.is)),this.showTargetPage(t),this.onPageInfoUpdate=this.onPageInfoUpdate.bind(this),fn.getDefault().on(Pt,this.onPageInfoUpdate)},onShow:function(){if(this[ut]=!0,this.retentiveData&&(this[gt]=this.retentiveData.pageKey,delete this.retentiveData.pageKey,this.setData(this.retentiveData),this.retentiveData=null),!this[it]&&this.showTargetPage()){var t=Jo();t!==this.data.loading&&this.setData({loading:t});var e=Re["/".concat(this.route)],n=Ru.get(this);n&&e&&this.currentQuery!==e.query&&e.targetPath==="/".concat(n.route)&&(n.options=JSON.parse(JSON.stringify(e.query)),this.currentQuery=e.query),this.callChildPageMethod("onShow")}},onHide:function(){return this[ut]=!1,this.callChildPageMethod("onHide")},showTargetPage:function(t){var n,r=this,a=en(this.route,t);if(!a||a.targetPath===this.data.pagePath&&a.key===this[gt])return!0;if(this.destroyPage(),!Pe()){var o="".concat(a.targetPath,"?").concat(ke.stringify(a.query));return e.redirectTo({url:o,fail:function(){e.reLaunch({url:o,complete:I})}}),this.onShow=I,!1}var i=l.titanConfig.pageInfos[a.targetPath];return i&&(this[at]=Kn(i.moduleType,i.moduleName),this.updatePageStyle(i)),Au(a.targetPath),It.log("使用".concat(this.route,"加载").concat(a.targetPath)),Go.showPageLoading(),this[gt]=a.key,this[dt]=JSON.parse(JSON.stringify(a.query)),this.setData({pagePath:a.targetPath,version:this.data.version+1,disableScroll:(null==i?void 0:i.disableScroll)||!1,enablePullDownRefresh:(null==i?void 0:i.enablePullDownRefresh)||!1,pageScrollParams:{},pageData:{},tabbarState:{virtualRoute:"/".concat(this.route),currentRealRoute:function(){var t=ke.stringify(a.query);return t?"".concat(a.targetPath,"?").concat(t):a.targetPath}(),prevRealRoute:(null===(n=this.data.tabbarState)||void 0===n?void 0:n.currentRealRoute)||"",loading:!0,getPageInstance:function(){return r[nt]()}}},(function(){})),!1},onPageAttached:function(){setTimeout(bo.bind(this))},closeLoading:function(){this.setData({"tabbarState.loading":!1}),Go.hidePageLoading()},updatePageStyle:function(t){var e=this;if(this.pendingPageConfigs)return new l.PromiseExt((function(n){e.pendingPageConfigs.push([t,n])}));var n=Object.assign({},this.data.pageMeta);if(["navigationBarTitleText","navigationBarBackgroundColor","backgroundColor","backgroundTextStyle","backgroundColorTop","backgroundColorBottom"].forEach((function(e){var r=t[e];"string"==typeof r&&(n[e]=r)})),"string"==typeof t.navigationBarTextStyle){var r=t.navigationBarTextStyle;(r="white"===r||"#ffffff"===r?"#ffffff":"black"===r||"#000000"===r?"#000000":"")&&(n.navigationBarTextStyle=r)}return this.pendingPageConfigs=[],new l.PromiseExt((function(t){e.setData({pageMeta:n},(function(){t();var n=e.pendingPageConfigs;null!=n&&n.length?setTimeout((function(){e.pendingPageConfigs=null;var t=n.reduce((function(t,e){var n=u(e,1)[0];return Object.assign(t,n)}),{});e.updatePageStyle(t).then((function(){n.forEach((function(t){(0,u(t,2)[1])()}))}))}),10):e.pendingPageConfigs=null}))}))},onPullDownRefresh:function(){var t,n=Ru.get(this);if(n){var r=l.titanConfig.pageInfos["/".concat(n.route)]||{},a=r.enablePullDownRefresh;if(a)return null===(t=null==n?void 0:n.onPullDownRefresh)||void 0===t?void 0:t.apply(n,arguments);setTimeout((function(){e.stopPullDownRefresh({complete:function(){}})}))}},onShareAppMessage:function(){var t,e=Ru.get(this);if(e){var n=Object.assign({},null===(t=null==e?void 0:e.onShareAppMessage)||void 0===t?void 0:t.apply(e,arguments));return rn(this.data.pagePath,n),n}return{path:"/pages/landing/index"}},onUnload:function(){var t;null===(t=this.pendingPageConfigs)||void 0===t||t.forEach((function(t){(0,u(t,2)[1])()})),this.pendingPageConfigs=null,this.destroyPage();var e=this.getPageId();Ne.delete(e),fn.getDefault().off(Pt,this.onPageInfoUpdate);var n="/".concat(this.route);(Je.value[n]||Ge.value[n]).pageInstance=void 0},destroyPage:function(t,e){var n=!1;if(Ru.get(this)){try{this.callChildPageMethod("onUnload")}catch(t){x(t)}n=!0}var r=this.getPageId();Ru.delete(this),Le.delete(r),t&&(n?this.setData({pagePath:""},e):e&&e())},onPageInfoUpdate:function(t){var e=l.titanConfig.pageInfos[this.data.pagePath];e&&t[this.data.pagePath]&&this.updatePageStyle(e)}},rt,(function(t){this.destroyPage();var e={version:this.data.version+1},n=Re["/".concat(this.route)];n&&(t||(t=n.query||{}),n.query=t,n.key=Xe(n.targetPath,t),e.pageKey=n.key),this[ut]?(this[gt]=e.pageKey,delete e.pageKey,this.setData(e)):(this[it]=!0,this.retentiveData=e)})),nt,(function(){var t=Ru.get(this);if(!t){var e=Re["/".concat(this.route)];if(!e||e.targetPath!==this.data.pagePath||e.key!==this[gt])return null;if(t=Le.get(this.getPageId())){if(t.is.startsWith("@titan/cs/"))return null;ze(this,t),Ru.set(this,t);var n=this.data.pagePath.slice(1);t[Fe]=t.is,[["route",n],["is",n],["options",JSON.parse(JSON.stringify(e.query))]].forEach((function(e){var n=u(e,2),r=n[0],a=n[1];try{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:!0,value:a})}catch(t){}})),this.currentQuery=e.query}}return t})));["onShareTimeline","onAddToFavorites"].forEach((function(t){n[t]=function(){var e,n=Ru.get(this),r=Object.assign({},null===(e=null==n?void 0:n[t])||void 0===e?void 0:e.apply(n,arguments));return r.query="".concat(r.query||"").concat(r.query?"&":"").concat(tn,"=").concat(this.data.pagePath),r}})),Mu.value.forEach((function(t){var e=t.endsWith("__")?t.slice(0,-2):t;n[t]=function(){var t,n=Ru.get(this);return null===(t=null==n?void 0:n[e])||void 0===t?void 0:t.apply(n,arguments)}})),Ii(n,!0),X.Page(n)},Nu=function(){var t=l.titanEnvs.titan.titan,e=l.titanConfig.defaultEntryPath;return X.Page({onLoad:function(){Pe()?t.switchTab({url:e,fail:function(){t.redirectTo({url:e})}}):t.redirectTo({url:e})}})},Lu=function(){X.Component({properties:{pagePath:{type:String}},methods:{onPageAttached:function(t){var e=t.detail;this.triggerEvent("titanpageattached",e)}}})},Bu=function(t){for(var e in t){var n=l.titanConfig.pageInfos[e];n&&Object.assign(n,t[e])}fn.getDefault().emit(Pt,t,!1)},Wu=_("5de70l2ygood",(function(){return{}})),$u=S((function(t){setTimeout((function(){var e,n;$u.cache.delete(t);var r=null===(e=Wu[t])||void 0===e?void 0:e.splice(0);null!=r&&r.length&&l.titan.hound.debug({method:"MEM_LEAK",url:t,data:r});null!==(n=Wu[t])&&void 0!==n&&n.length&&$u(t)}),8e3)})),Fu=function(t){var e;It.error("[MEM_LEAK] 内存泄漏警告: ",t),l.titan.hound&&((Wu[e=t.route]||(Wu[e]=[])).push(t),$u(t.route))},Uu=function(t,e,n,r){r>2||setTimeout((function(){t.deref()?(Fu({route:e,is:e,pageId:n,msg:"页面未回收，请检查是否有内存泄漏问题 (第".concat(r+1,"次检查)")}),Uu(t,e,n,r+1)):It.log("页面(".concat(e,")已回收"))}),5e3*Math.pow(2,r))},Vu=function(t){var e=new WeakRef(t);Uu(e,t.is,t.getPageId(),0)},zu="undefined"==typeof WeakRef?I:Vu,Ku=new WeakMap,Hu=new Map,Ju=new Map,Gu=new WeakMap,Qu=function(t){return t&&"object"==s(t)&&"function"==typeof t.setData&&"string"==typeof t.is?t:null},Xu=function(t,e,n){var r=Ku.get(t);return r||(r={},Ku.set(t,r)),r[e]=r[e]||[],r[e].push(n),n},Yu=function(t,e,n){var r=Ku.get(t);r&&r[e]&&Nt(r[e],n)},Zu=function(){var t=Nn();if(!t){var e=dr();t=e[e.length-1]}return t},tc=function(t,e,n,r){r&&setTimeout((function(){var a=[];for(var o in r){var i=r[o];0!==i.length&&a.push({fn:o,positions:Array.from(new Set(i.map((function(t){var e;return null===(e=t.stack)||void 0===e?void 0:e.split("\n").slice(0,5).join("\n")})).filter(Boolean)))})}0!==a.length&&Fu({route:e,is:n,pageId:t,msg:"存在未释放的对象",fns:a})}),2e3)},ec=function(t){var e=t.getPageId();tc(e,Ju.get(e)||t.is,t.is,Ku.get(t))},nc=function(t,e,n){return"function"!=typeof e?e:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.disconnect){var a=n||Qu(arguments[0])||Zu();if(!a)return r;var o=Xu(a,t,new Error),i=Gu.get(a);i||(i=[],Gu.set(a,i)),i.push(r);var u=r.disconnect;r.disconnect=function(){Yu(a,t,o),Nt(i,r);try{return u.apply(this,arguments)}finally{r.disconnect=u}}}return r}},rc=function(t){["setTimeout","setInterval"].forEach((function(e){var n=t[e],r="setTimeout"===e;t[e]=function(){var t=n.apply(null,arguments);if(r&&+arguments[1]>5e3||!r){var a=Nn()||Zu();if(a){var o=Xu(a,e,new Error);Hu.set(t,[a,o])}}return t}})),["clearTimeout","clearInterval"].forEach((function(e){var n=t[e],r="set".concat(e.slice(5));t[e]=function(){var t=n.apply(null,arguments),e=arguments[0],a=Hu.get(e);if(a){var o=u(a,2),i=o[0],c=o[1];Yu(i,r,c),Hu.delete(e)}return t}}))},ac=function(t){setTimeout((function(){Ju.delete(t)}),2e3)},oc=function(t){var e=Gu.get(t);e&&(e.forEach((function(t){try{t.disconnect()}catch(t){x(t)}})),Gu.delete(t))},ic=function(){ce((function(t){var e=t.type,n=t.instance,r=t.lifetime;"created"===r?("page"===e&&Ju.set(n.getPageId(),n.route||n.is),n.createIntersectionObserver=nc("createIntersectionObserver",n.createIntersectionObserver)):"ready"===r||"attached"===r?"page"===e&&Ju.set(n.getPageId(),n.route||n.is):"detached"===r&&("page"===e&&(ac(n.getPageId()),zu(n)),oc(n),ec(n))}))},uc=function(t){t.createIntersectionObserver=nc("createIntersectionObserver",t.createIntersectionObserver)},cc=function(t){ic(),uc(t.titan),rc(t)},sc=k((function(){return function(t){var e=A((function(){return kr(t,!0)})),n=A((function(){return new Oa(e.value)})),r=new Set(["bindModuleContext","callWithContext","getContextInfoForPromise","callOnComponent"]),a=R(Object.assign(Object.assign(Object.assign({stamp:Uo,onModuleReady:Cr,request:io,pageScrollTo:fo,getCurrentContext:wn,getCurrentModuleInfo:yn,getCurrentGroupInfo:bn,bindModuleContext:rr,getCurrentComponent:Nn,getTitanConfig:function(){return l.titanConfig},getTitanFromInstance:uo,acquireSharedObject:co,preloadModule:jr,preloadModuleByPath:_r,getRawStorage:t.getStorage,getRawStorageSync:t.getStorageSync,setRawStorage:t.setStorage,setRawStorageSync:t.setStorageSync,isAsyncPackageEnabled:Pe,enableAsyncPackage:we,onAppLaunch:po,offAppLaunch:ho,reloadPage:Qo,isTabBarPage:Nr,getPageById:xo,getModuleConfigByPath:Yo,getProductIdByPath:ti,resolveRoutePath:Ca,getModuleInitParams:function(){var t=yn();return t?So(l.titanConfig.moduleInitParams,t.name):{}},getContext:function(){return wn()},getModuleInfo:function(){return yn()},getGroupInfo:function(){return bn()},getCurrentMetadata:Mn,setCurrentMetadata:qn,callWithContext:Jn,getCurrentFullMetadata:An,getContextInfoForPromise:er,callOnComponent:Gn,getCurrentInjections:function(){return[]},definePageInjection:function(){return""},registerMetadataBinder:Bn,unregisterMetadataBinder:Wn,setPageInjections:I,defineComponentProxy:ni,isIndependentPackage:J,getIndependentPackageInfo:G,getSubEnv:ri,getSubEnvAsync:ai,getPageProxy:an,getHostPageInstance:un,definePageContainer:ci,getActualExtConfigSync:fi,getMockExtConfigSync:si,getContainerType:ha},{createSelectorQuery:function(){var t,e,n=X.getCurrentPages(),r=n[n.length-1],a=(null===(t=null==r?void 0:r[nt])||void 0===t?void 0:t.call(r))||r,o=null===(e=null==a?void 0:a.createSelectorQuery)||void 0===e?void 0:e.call(a);o||(o=X.wx.createSelectorQuery());var i=o.in;return i&&(o.in=function(t){return t&&t.getPageId&&t.createSelectorQuery&&t.getPageId()!==(null==a?void 0:a.getPageId())?(o=null,t.createSelectorQuery()):i.apply(this,arguments)}),o}}),ui(X.wx)),Go),Object.assign(Object.assign({eventBus:function(){var t=fn.getDefault();return{on:t.on.bind(t),off:t.off.bind(t),emit:t.emit.bind(t)}},getLocation:function(){return oi.value},addRouteInterceptor:function(){return n.value.addInterceptor.bind(n.value)},removeRouteInterceptor:function(){return n.value.removeInterceptor.bind(n.value)}},Sa.reduce((function(t,r){return t[r]=function(){return n.value.navigator[r]||e.value[r]},t}),{})),{openEasyHalfScreen:function(e){var n=t.openEasyHalfScreen;return"function"==typeof n?n:e.navigateTo},registerEhsDefaultAllowPages:function(){var e=t.registerEhsDefaultAllowPages;return"function"==typeof e?e:I},getReactiveSystemInfoSync:function(){var e=t.getReactiveSystemInfoSync;return"function"==typeof e?e:t.getSystemInfoSync}}));return hn(t,a,(function(t,e,n){return"string"==typeof t&&t.startsWith("_$")&&t.endsWith("$_")?n[t.slice(2,-2)]:"function"!=typeof e||r.has(t)?e:xn(t,pi(t,e))}))}(X.wx)})),fc=k((function(){var t=mo(sc());return cc(t),t})),(lc=l).bc=vn.bind(null,fc),lc.ec=mn,lc.emr=S((function(t){fn.getDefault().emit("".concat(Or).concat(t),t,!0),fn.getDefault().emit("".concat(Or,"*"),t,!0)})),lc.ftpi=Bu,pc=l.PromiseExt})),gc={};w(gc,{PromiseExt:function(){return mc},proxyStaticFn:function(){return vc}});var dc,vc,mc,yc,bc,wc=b((function(){Et(),ar(),dc=new Set(["resolve","reject","all","any","race","allSettled"]),vc=S((function(t){return new Proxy(t,{apply:function(t,e,n){return kn(Reflect.apply(t,d,n))}})}),!0),mc=new Proxy(d,{construct:function(t,e,n){return kn(Reflect.construct(t,e,n))},get:function(t,e,n){var r=Reflect.get(t,e,n);return"function"==typeof r&&dc.has(e)?vc(r):r}})})),Pc=(function(){},function(){return yc||(yc={exports:{}}),yc.exports}),Sc=b((function(){Et(),te(),bc=function(){try{return h("mockExt")||{}}catch(t){}return{}}(),function(t){try{var e=t.getExtConfigSync();if(!e.api||!e.form)throw new Error}catch(e){try{var n=function(){return bc},r=function(t){return At(t,!0,{errMsg:"getExtConfig: ok",extConfig:bc})};Object.defineProperty(t,"getExtConfigSync",{configurable:!0,enumerable:!0,get:function(){return n}}),Object.defineProperty(t,"getExtConfig",{configurable:!0,enumerable:!0,get:function(){return r}})}catch(t){console.log("劫持 getExtConfig 失败",t)}}}(l.titanEnvs.titan.wx)})),kc=b((function(){Sc()})),xc={};w(xc,{Promise:function(){return pc},TitanX:function(){return ro},babel_coroutine:function(){return Nc},createCustomTabBar:function(){return ou},createLandingPage:function(){return Nu},createModuleEnv:function(){return Tu},createModuleRegisterPage:function(){return Pi},createPageContainer:function(){return Lu},createPageProxy:function(){return Du},createPerfDogComponent:function(){return Ei},createRouteMidwayPage:function(){return Sr},createTabBarPage:function(){return qu},getCoreTitan:function(){return sc},getCoreTitanEnv:function(){return fc},wrapContextForPromise:function(){return kn}}),Et(),jt(),_t(),Dt();var Oc=function(t){if(null==t)throw new TypeError("Cannot call method on ".concat(t));return t},Cc=Object.prototype.propertyIsEnumerable,Tc=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r=String(Oc(t));if(0===(n=String(n)).length)return[r,""];var a=r.length;if((e=function(t){return(t=+t)<0&&(t=0),t}(e))<=a)return[r,""];var o=e-a;return(n=n.repeat(Math.ceil(o/n.length))).length>o&&(n=n.slice(0,o)),[r,n]},Ic=function(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})},Ec=function(t,e){for(var n in e)"function"!=typeof t[n]&&Ic(t,n,e[n])};Ec(Array.prototype,{flat:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=+e,Number.isNaN(e)&&(e=1),e>0?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},flatMap:function(t,e){return Array.prototype.map.call(this,t,e).flat()}}),Ec(Object,{entries:function(t){t=Oc(t);var e=[];for(var n in t)Cc.call(t,n)&&e.push([n,t[n]]);return e},fromEntries:function(t){return Array.from(t).reduce((function(t,e){var n=u(e,2),r=n[0],a=n[1];return t[r]=a,t}),{})}}),Ec(String.prototype,{padStart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=Tc(this,t,e),r=u(n,2),a=r[0],o=r[1];return o.concat(a)},padEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=Tc(this,t,e),r=u(n,2),a=r[0],o=r[1];return a.concat(o)}});var jc=Date.now();l.envName||(l.envName="default"),l.titanEnvs={};var _c=k((function(){return hc(),P(oo)}));if(R(l,{titanConfig:function(){return _(!0,"yiqzl70gh7j1",(function(){return function(t){var e={titanVersion:t.v,buildTime:t.t,buildMode:t.b,debugMode:t.d,miniProgramType:t.m,defaultEntryPath:t.p,firstPagePath:t.f,envName:t.n,publicStorageKeys:t.s,platforms:{},packages:{},tabBar:t.tb,routes:t.r,wosVars:t.w,preloadRule:t.pr,moduleInitParams:t.mi,isolateSharedObject:t.i,pageInfos:{}};t.ms.forEach((function(t){var n,r=u(t,7),a=r[0],o=r[1],i=r[2],c=r[3],s=r[4],f=r[5],l=r[6],p={version:o,pages:{},context:c,group:l.g,usingPageInjections:l.i,priority:i,pageFlags:{},moduleFlag:s,namespace:l.n,platformExts:null===(n=l.p)||void 0===n?void 0:n.reduce((function(t,e){var n=u(e,4),r=n[0],a=n[1],o=n[2],i=n[3];return t[r]={version:a,priority:o,pages:i},t}),{})};f.forEach((function(t){var e=u(t,3),n=e[0],r=e[1],a=e[2];p.pages[n]=a,p.pageFlags[n]=r})),1&s?e.packages[a]=p:e.platforms[a]=p}));var n=k((function(){var t={};return Object.values(e.platforms).forEach((function(e){e.group&&(t[e.group]=e)})),t}));H(e,(function(t,e,n){var r=n.pages;for(var a in r)""===r[a]&&(r[a]="/".concat(e,"/").concat(a));var o=n.moduleFlag;null!=o&&(n.hasCompatiblePackage=!!(2&o),n.inheritPageContext=!!(4&o),n.disablePreload=!!(8&o))}));var r={};e.tabBarPages=r;var a=e.pageInfos;return H(e,(function(t,e,n){var o=n.pageFlags,i=n.pages;if(o)for(var u in i){var c=o[u],s=i[u],f={moduleType:t,moduleName:e,pageAlias:u,pageFlag:c,navigationStyle:1&c?"custom":"default",enablePullDownRefresh:!!(2&c),disableScroll:!!(4&c)};a[s]=f,V(c)&&(r[s]=f)}})),e.external=h("external"),Object.values(e.packages).forEach((function(t){if(t.namespace){var r=e.platforms[t.namespace];r&&Object.setPrototypeOf(t.context,r.context)}else if(t.group){var a=n()[t.group];a&&Object.setPrototypeOf(t.context,a.context)}})),e.envName=l.envName||"default",e}(h("config"))}))},titan:function(){return _c().getCoreTitan()},PromiseExt:function(){return(wc(),P(gc)).PromiseExt}}),R(l.titanEnvs,{titan:function(){return _c().getCoreTitanEnv()}}),l.appCtorCalled=!1,!J()){var Dc=App;App=function(){return l.appCtorCalled=!0,Dc.apply(this,arguments)}}Pc(),h("titan-libs");var Rc=Date.now();_c();var Ac=Date.now(),Mc=l.titan;function qc(t,e,n,r,a,o,i){var u,c;try{c=(u=t[o](i)).value}catch(t){return void n(t)}u.done?e(c):l.PromiseExt.resolve(c).then(r,a)}function Nc(t){return function(){var e=this,n=arguments;return new l.PromiseExt((function(r,a){var o=t.apply(e,n);function i(t){qc(o,r,a,i,u,"next",t)}function u(t){qc(o,r,a,i,u,"throw",t)}i(void 0)}))}}return Mc.stamp("进入小程序",jc),Mc.stamp("LIBS 加载成功",Rc),Mc.stamp("TITAN 加载成功",Ac),kc(),hc(),ao(),P(xc)}();return Object.assign(v,{requireExternal:h,global:l})};
},{isPage:false,isComponent:false,currentFile:'@titan/base-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={v:"0.3.94",t:1705905710852,b:"production",d:!1,m:"MP-WEIXIN",p:"/cms_design/index",f:"t/1",n:"default",s:{WOS_WXAPP_SESSION:!0,WX_SESSION_WXAPP_SESSION:"WOS_WXAPP_SESSION",WX_USER_PROFILE:!0,WOS_USERINFO_DATA:!0},ms:[["rprm","1.4.83",20,{},0,[["heatmap",0,""]],{}],["cms_sdk","1.5.21",40,{},0,[],{}],["titan-media","0.1.13",60,{},0,[],{}],["titian-mp","0.2.26-rc.0",80,{},4,[],{}],["onecrm_public_register","1.0.106",100,{},0,[],{}],["cms","0.64.2",120,{pro_id:"1"},0,[["auth",0,""],["new",8,""],["transform",8,""]],{}],["onecrm_public_couponing","1.2.32",140,{},0,[],{}],["ec","1.26.4-module",160,{pro_id:"145",source:1,platform:"MP-WEIXIN",authPlatform:"微信",posterChannel:1},0,[["goods_detail",0,"/pages/goods/detail"],["order_detail",8,""]],{}],["hudong","1.0.18",180,{pro_id:"490003"},0,[],{}],["cloud-fe-yunsdk-platform","0.2.1",200,{},0,[],{}],["cms_debug","0.64.0",220,{pro_id:"1"},1,[["nothing",0,""],["version",0,""],["open_api",0,""],["api_detail",0,""],["door",0,""],["trace",0,""],["check-location",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["liveChennels","2.0.3",240,{pro_id:"152"},1,[["share",0,""],["promotion",0,""],["promotionStoreList",0,""],["promotionResult",0,""]],{p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["cms_vidsearchlist","0.64.0",260,{pro_id:"1"},1,[["index",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["zhan","0.0.4",280,{pro_id:"507722"},1,[["home",8,""]],{p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["ec_goodsAbout","1.25.19",300,{pro_id:"145"},1,[["commentList",8,""],["commentCreate",8,""],["commentSuccess",9,""],["commentMine",8,""],["poster",8,""],["noDetail",8,""],["join",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["minispi","0.64.0",320,{},1,[],{p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_scan_shopping","1.25.19",340,{pro_id:"145"},1,[["entry_index",8,""],["scan_cart_order",8,""],["outlet_code",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_communityGroupon","1.25.21",360,{pro_id:334},1,[["customer__grouponList",8,""],["customer__grouponDetail",9,""],["customer__grouponShop",9,""],["customer__twitterAllGroupon",9,""],["customer__grouponDoor",8,""],["twitter__logisticsDetails",8,""],["twitter__mainGrouponPromotion",9,""],["twitter__grouponList",8,""],["twitter__grouponDetail",9,""],["twitter__grouponOrder",8,""],["twitter__searchOrder",8,""],["twitter__verifyOrder",8,""],["twitter__manualVerify",8,""],["twitter__grouponEdit",9,""],["twitter__editGoodsList",8,""],["twitter__editCommunity",8,""],["twitter__editCommunityList",8,""],["twitter__editCommunitySearch",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_extension_package","1.25.20",380,{pro_id:"145"},1,[],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_user","1.25.20",400,{pro_id:"145"},1,[["collect",8,""],["consume",8,""],["consume__result",8,""],["mention__list",8,""],["mention__area",8,""],["mention__site",8,""],["address__list",8,""],["address__edit",8,""],["idcardedit",8,""],["invoice__list",8,""],["invoice__detail",8,""],["order__goods",8,""],["service__store__list",8,""],["halfscreen",0,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["cms_extension_package","0.64.2",420,{},1,[],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["ec_posterResult","1.25.19",440,{pro_id:"145"},1,[["index",8,""],["multiCommodity",8,""],["posterShare",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["onecrm_extension_package","0.0.47",460,{pro_id:"146",accessKey:""},1,[],{n:"onecrm",p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["ec_exchange","1.25.19",480,{pro_id:"145"},1,[["index",8,""],["price",9,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_guider","1.25.19",520,{pro_id:150},1,[["myguider",8,""],["guiderlist",8,""],["authorize",8,""],["recommend_guider__list",8,""],["recommend_guider__info",8,""],["recommend_guider__temp",8,""],["active_code",9,""],["active_code__vidlist",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_combination","1.25.19",540,{pro_id:"145"},1,[["index",9,""],["all",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_article","1.25.19",560,{pro_id:"205"},1,[["list",8,""],["detail",8,""],["ugcPublish",8,""],["ugcMyArticles",8,""],["ugcDetail",9,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["payment_cashier","1.0.20",580,{pro_id:"145"},1,[["webview_payment",8,""]],{n:"payment_cashier",p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["ec_store","1.25.19",600,{pro_id:145},1,[["store__list",0,""],["store__service",0,""],["store__scanbuy",8,""],["store__reachstore",8,""],["sale_point__list",8,""],["sale_point__detail",8,""],["sale_point__nearlist",8,""],["sale_point__evaluatelist",8,""],["sale_point__evaluateedit",8,""],["sale_point__virtualgoodslist",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_market","1.25.20",620,{pro_id:"145"},1,[["index",10,""],["lottery",8,""],["cpsCoupon",9,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_groupon","1.25.19",640,{pro_id:"145"},1,[["index",8,""],["mine",8,""],["result",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_cart","1.25.25",660,{pro_id:"145"},1,[["index",10,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_twitter","1.25.26",680,{pro_id:334},1,[["home__index",8,""],["home__team",8,""],["home__level",9,""],["home__teamlist",8,""],["home__teamedit",8,""],["account__setup",8,""],["account__squareapply",8,""],["account__detail",8,""],["account__detailpoints",8,""],["account__bill",8,""],["account__withdraw",8,""],["account__operationTips",8,""],["account__settleList",8,""],["promotion__poster",8,""],["promotion__goodslist",8,""],["promotion__material",8,""],["sysfun__apply",9,""],["sysfun__applystatus",9,""],["sysfun__applyList",8,""],["data__index",8,""],["customer__list",8,""],["order__list",8,""],["order__detail",9,""],["mine__invited",8,""],["teamapply__index",8,""],["memberManage__index",8,""],["inviteMemberList__index",8,""],["freeze__index",8,""],["applyPromotion_index",9,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_shop","1.25.21",700,{pro_id:"145"},1,[["classify",12,""],["goods",10,""],["pointGoods",10,""],["personalized_recommendation",10,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_order","1.25.24",720,{pro_id:"145"},1,[["order__create",9,""],["invoice",8,""],["screen_parse",8,""],["goodsPlugin",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_orderDetail","1.25.26",740,{pro_id:"145"},1,[["orderlist",8,""],["orderSearch",8,""],["detail",9,""],["paidstatus",9,""],["orderpathlist",8,""],["userInquiry",8,""],["userInquiryList",8,""],["orderRelate",8,""],["mentioncertificate",8,""],["mentioncertificateCycle",8,""],["logistics",9,""],["logisticsCycle",9,""],["insurance",8,""],["insuranceForm",8,""],["extarinfo",8,""],["createRights",8,""],["editlogistical",8,""],["editaccount",8,""],["detailRights",8,""],["applyrefund",8,""],["applyexchange",8,""],["applyexchangetime",8,""],["arbitrateHistory",8,""],["payByOthers",8,""],["indexRights",8,""],["patchOrderCheck",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["ec_goods","1.26.4-module",760,{pro_id:"145"},1,[["detail",0,""],["detail_old",9,""],["detail_new",9,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["hd_bargain","1.0.20",780,{pro_id:"224",productId:224},1,[["index",8,""],["mine",8,""],["product",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_giftcard","1.5.5",800,{pro_id:"217",productId:217},1,[["home",8,""],["bind",8,""],["buy",8,""],["cardDetail",8,""],["exchange",8,""],["history",8,""],["mine",8,""],["receive",8,""],["recordDetail",8,""],["refund",8,""],["send",8,""],["useRecord",8,""],["bindByQR",8,""],["applyGoods",8,""],["applyStoreList",8,""],["invoiceApply",8,""],["invoiceDetail",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}],["hudong","1.0.18",180,{}]]}],["hd_recommend","1.0.26",820,{productId:"216",pro_id:"216"},1,[["detail",8,""],["mine",8,""],["rewards",8,""],["share",8,""],["rank",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_vote","1.0.29",840,{pro_id:"225",productId:"225"},1,[["detail",10,""],["home",10,""],["prize",8,""],["rank",10,""],["search",8,""],["signUp",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_lego","2.0.8",860,{pro_id:"214"},1,[["index",8,""],["prize",8,""],["activityList",8,""],["guest",8,""],["result",8,""],["shop",8,""],["middle",8,""]],{p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["cms_webview","0.64.0",880,{pro_id:"1"},1,[["index",0,""],["webview_payment",0,""]],{n:"cms",p:[["cms","0.64.2",120,{}]]}],["cms_vidlist","0.64.0",900,{pro_id:"1"},1,[["index",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["cms_shopinfo","0.64.0",920,{pro_id:"1"},1,[["index",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["cms_vidsearch","0.64.0",940,{pro_id:"1"},1,[["index",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["cms_search","0.64.0",960,{pro_id:"1"},1,[["index",8,""],["result",8,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}],["ec","1.26.4-module",160,{}]]}],["hd_survey","1.0.28",980,{pro_id:"425",productId:"425"},1,[["main",10,""],["headoff",8,""],["presuccess",8,""],["success",8,""],["prize",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_message","1.3.19",1e3,{productId:"322",pro_id:"322"},1,[["detail",8,""],["index",8,""],["mine",8,""],["prize",8,""],["report",8,""],["search",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["ec_fissionBuyIn","1.25.19",1020,{pro_id:"145"},1,[["index",8,""],["mustBuyCode",8,""],["myMustBuyCode",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["cms_sdk_extension_package","1.5.21",1040,{},1,[],{n:"cms_sdk",p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["hd_card","1.2.27",1060,{productId:"165646",pro_id:"165646"},1,[["home",8,""],["none",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_taskCard","1.0.21",1080,{productId:"165600",pro_id:"165600"},1,[["index",10,""],["upload",10,""],["timetest",10,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_stepPlanet","1.1.4",1100,{productId:"165635",pro_id:"165635"},1,[["energy",8,""],["exchange_record",8,""],["index",10,""],["prize",8,""],["test",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_answer","1.0.24",1120,{productId:"165636",pro_id:"165636"},1,[["des",8,""],["index",8,""],["prize",8,""],["prize_detail",8,""],["ranking",8,""],["record",8,""],["result",8,""],["start",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_yuyue","1.0.23",1140,{productId:"165527",pro_id:"165527"},1,[["chooseDate",8,""],["detail",8,""],["index",8,""],["mine",8,""],["subInfo",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_ricepudding","1.1.9",1160,{productId:"165544",pro_id:"165544"},1,[["index",8,""],["skin2",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["cms_gamelife","0.64.0",1180,{pro_id:"1"},1,[["index",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["ec_buyShow","1.25.19",1200,{pro_id:"145"},1,[["list",8,""],["detail",9,""],["publish",8,""]],{n:"ec",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["mojo-mp","1.8.1",1220,{},1,[],{p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["cms_finance","0.64.0",1260,{pro_id:"1"},1,[["set-account",0,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}]]}],["passport","1.2.28",1280,{pro_id:"1",accessKey:""},1,[["home",8,""],["user-account-safe",8,""],["user-protocol-detail",8,""],["user-cancellation",8,""],["user-permissions",8,""],["user-permissions-status",8,""],["user-security-center",8,""],["user-change-phone",8,""],["user-address-list",8,""],["user-address-edit",8,""],["user-idcard-edit",8,""],["user-idcard-camera",9,""],["user-agreement",8,""],["pdfView",9,""],["user-login",8,""],["user-medicine-list",8,""],["user-medicine-edit",8,""],["user-choose-medicine",8,""]],{p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm_membership","1.3.84",1301,{pro_id:"146",accessKey:""},9,[["membership-growth",0,"/onecrm/membership-growth"],["membership-growth-detail",0,"/onecrm/membership-growth-detail"],["membership-userQrcode",0,"/onecrm/membership-userQrcode"],["membership-result",0,"/onecrm/membership-result"],["membership-card-list",0,"/onecrm/membership-card-list"]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm_coupon","1.3.84",1302,{pro_id:"146",accessKey:""},9,[["coupon-packet",0,"/onecrm/coupon-packet"],["coupon-goods-list",0,"/onecrm/coupon-goods-list"],["coupon-receiving",0,"/onecrm/coupon-receiving"],["coupon-passing",0,"/onecrm/coupon-passing"],["token-detail",0,"/onecrm/token-detail"]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm_user","1.3.84",1303,{pro_id:"146",accessKey:""},9,[["user-my-guide",0,"/onecrm/user-my-guide"],["user-change-store",0,"/onecrm/user-change-store"],["user-asset-safe",0,"/onecrm/user-asset-safe"],["user-account-safe-check",0,"/onecrm/user-account-safe-check"],["app-auth",0,"/onecrm/app-auth"]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm_balance","1.3.84",1304,{pro_id:"146",accessKey:""},9,[["user-amount-detail",0,"/onecrm/user-amount-detail"],["user-amount-recharge-result",0,"/onecrm/user-amount-recharge-result"]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm_order","1.3.84",1305,{pro_id:"146",accessKey:""},9,[["memberorder",0,"/onecrm/memberorder"],["orderdetail",0,"/onecrm/orderdetail"],["order-list",0,"/onecrm/order-list"],["order-sale-detail",0,"/onecrm/order-sale-detail"],["order-after-sale-detail",0,"/onecrm/order-after-sale-detail"],["order-search",0,"/onecrm/order-search"]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["onecrm","1.3.84",1306,{pro_id:"146",accessKey:""},1,[["home",8,""],["membership",9,""],["membership-rights",9,""],["transform",8,""],["auto-point-transform",8,""],["user-amount-recharge",9,""],["coupon-list",8,""],["coupon-detail",8,""],["coupon-centre",8,""],["signgift",9,""],["user-point-detail",9,""],["user-info",8,""],["self-service-point",8,""]],{g:"onecrm",i:["cms:authLogin"],p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["hd_facebattle","1.0.20",1320,{pro_id:"165876",productId:"165876"},1,[["explain",12,""],["group",8,""],["myPrizes",8,""],["partake",8,""],["pk",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["hd_orchard","1.0.5",1340,{productId:"165875",pro_id:"165875"},1,[["index",8,""],["bigWheel",8,""],["buyRecommend",8,""],["goodsRecommend",8,""]],{n:"hudong",p:[["titian-mp","0.2.26-rc.0",80,{}],["hudong","1.0.18",180,{}]]}],["cms_design_components","0.64.1",1360,{pro_id:"1"},1,[],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["cms","0.64.2",120,{}],["ec","1.26.4-module",160,{}]]}],["cms_design_pc","0.64.0",1380,{pro_id:"1"},1,[["design",8,""],["index",8,""],["usercenter",8,""]],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}]]}],["cms_design_wc","0.64.0",1400,{pro_id:"1"},1,[],{n:"cms",p:[["titian-mp","0.2.26-rc.0",80,{}],["ec","1.26.4-module",160,{}]]}],["cms_design","0.64.1",1420,{pro_id:"1"},1,[["design",11,""],["index",11,""],["usercenter",11,""]],{n:"cms",p:[["cms","0.64.2",120,{}],["ec","1.26.4-module",160,{}]]}]],r:{},w:{CMS:{platform:"cms",mapping:"CMS"},YUNSDK:{platform:"cloud-fe-yunsdk-platform"}},pr:{"ec_orderDetail/paidstatus":{packages:["ec_scan_shopping"]},"ec_orderDetail/detail":{packages:["ec_scan_shopping","payment_cashier"]},"ec_orderDetail/orderlist":{packages:["ec_scan_shopping","payment_cashier"]},"cms_design/index":{packages:["cms_extension_package","ec_shop","ec_goods"]},"cms_design/design":{packages:["cms_extension_package","ec_shop","ec_goods"]},"ec_shop/goods":{packages:["cms_extension_package","ec_goods"]},"ec_cart/index":{packages:["cms_extension_package","ec_order"]},"ec_goods/detail":{packages:["cms_extension_package","payment_cashier","ec_cart","ec_order"]},"ec_order/order__create":{packages:["cms_extension_package","payment_cashier","ec_goods"]},"ec_orderDetail/payByOthers":{packages:["payment_cashier"]},"ec_user/consume":{packages:["payment_cashier"]},"ec_scan_shopping/scan_cart_order":{packages:["payment_cashier"]},"ec_scan_shopping/entry_index":{packages:["ec_order"]},"ec_shop/classify":{packages:["ec_goods"]},"t/1":{packages:["cms_extension_package","ec_shop","ec_goods"]}},mi:{}};
},{isPage:false,isComponent:false,currentFile:'@titan/config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/env-adapter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Page=exports.Component=exports.Behavior=exports.App=void 0;exports.Page=Page,exports.App=App,exports.Component=Component,exports.Behavior=Behavior,exports.default=wx;
},{isPage:false,isComponent:false,currentFile:'@titan/env-adapter.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global,r=wx;r.__current_global&&(e=r.__current_global,r.__current_global=null),e.envName="default";var a={};module.exports=require("./base-env")({global:e,PLATFORM_OBJECT:r,externalData:{},requireExternal:function(e){if(a.hasOwnProperty(e))return a[e];switch(e){case"mockExt":return a[e]=require("./mock-ext/mockExt.js");case"requirePlatformMain":return a[e]=require("./requirePlatformMain.js");case"requirePackageAsync":return a[e]=require("./requirePackageAsync.js");case"external":return a[e]=require("./external.js");case"config":return a[e]=require("./config.js");case"titan-libs":return a[e]=require("../titan-libs");case"titan-boot":return a[e]=require("../titan-boot");case"preloadModule":return a[e]=require("./preloadModule.js");case"globalVars":return a[e]=require("./globalVars.js")}return null}});
},{isPage:false,isComponent:false,currentFile:'@titan/env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/external.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={version:"v1.6.8.2-20240117-module",desc:"v1.6.8.2-20240117-module",xChannel:"0:TITAN"};
},{isPage:false,isComponent:false,currentFile:'@titan/external.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/globalVars.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=function(){return{}};
},{isPage:false,isComponent:false,currentFile:'@titan/globalVars.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/init.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("./env"),a=t.requireExternal,e=t.global;a("titan-boot"),e.titan.stamp("PLATFORMS 加载成功"),e.appCtorCalled||e.titanEnvs.titan.App({});
},{isPage:false,isComponent:false,currentFile:'@titan/init.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/mock-ext/mockExt.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={form:{basicInfo:{tcode:"weimob"}}};
},{isPage:false,isComponent:false,currentFile:'@titan/mock-ext/mockExt.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/preloadModule.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e={cms_debug:function(){return require.async("../cms_debug/titan-preload-module.js")},liveChennels:function(){return require.async("../liveChennels/titan-preload-module.js")},cms_vidsearchlist:function(){return require.async("../cms_vidsearchlist/titan-preload-module.js")},zhan:function(){return require.async("../zhan/titan-preload-module.js")},ec_goodsAbout:function(){return require.async("../ec_goodsAbout/titan-preload-module.js")},minispi:function(){return require.async("../minispi/titan-preload-module.js")},ec_scan_shopping:function(){return require.async("../ec_scan_shopping/titan-preload-module.js")},ec_communityGroupon:function(){return require.async("../ec_communityGroupon/titan-preload-module.js")},ec_extension_package:function(){return require.async("../ec_extension_package/titan-preload-module.js")},ec_user:function(){return require.async("../ec_user/titan-preload-module.js")},cms_extension_package:function(){return require.async("../cms_extension_package/titan-preload-module.js")},ec_posterResult:function(){return require.async("../ec_posterResult/titan-preload-module.js")},onecrm_extension_package:function(){return require.async("../onecrm_extension_package/titan-preload-module.js")},ec_exchange:function(){return require.async("../ec_exchange/titan-preload-module.js")},ec_guider:function(){return require.async("../ec_guider/titan-preload-module.js")},ec_combination:function(){return require.async("../ec_combination/titan-preload-module.js")},ec_article:function(){return require.async("../ec_article/titan-preload-module.js")},payment_cashier:function(){return require.async("../payment_cashier/titan-preload-module.js")},ec_store:function(){return require.async("../ec_store/titan-preload-module.js")},ec_market:function(){return require.async("../ec_market/titan-preload-module.js")},ec_groupon:function(){return require.async("../ec_groupon/titan-preload-module.js")},ec_cart:function(){return require.async("../ec_cart/titan-preload-module.js")},ec_twitter:function(){return require.async("../ec_twitter/titan-preload-module.js")},ec_shop:function(){return require.async("../ec_shop/titan-preload-module.js")},ec_order:function(){return require.async("../ec_order/titan-preload-module.js")},ec_orderDetail:function(){return require.async("../ec_orderDetail/titan-preload-module.js")},ec_goods:function(){return require.async("../ec_goods/titan-preload-module.js")},hd_bargain:function(){return require.async("../hd_bargain/titan-preload-module.js")},hd_giftcard:function(){return require.async("../hd_giftcard/titan-preload-module.js")},hd_recommend:function(){return require.async("../hd_recommend/titan-preload-module.js")},hd_vote:function(){return require.async("../hd_vote/titan-preload-module.js")},hd_lego:function(){return require.async("../hd_lego/titan-preload-module.js")},cms_webview:function(){return require.async("../cms_webview/titan-preload-module.js")},cms_vidlist:function(){return require.async("../cms_vidlist/titan-preload-module.js")},cms_shopinfo:function(){return require.async("../cms_shopinfo/titan-preload-module.js")},cms_vidsearch:function(){return require.async("../cms_vidsearch/titan-preload-module.js")},cms_search:function(){return require.async("../cms_search/titan-preload-module.js")},hd_survey:function(){return require.async("../hd_survey/titan-preload-module.js")},hd_message:function(){return require.async("../hd_message/titan-preload-module.js")},ec_fissionBuyIn:function(){return require.async("../ec_fissionBuyIn/titan-preload-module.js")},cms_sdk_extension_package:function(){return require.async("../cms_sdk_extension_package/titan-preload-module.js")},hd_card:function(){return require.async("../hd_card/titan-preload-module.js")},hd_taskCard:function(){return require.async("../hd_taskCard/titan-preload-module.js")},hd_stepPlanet:function(){return require.async("../hd_stepPlanet/titan-preload-module.js")},hd_answer:function(){return require.async("../hd_answer/titan-preload-module.js")},hd_yuyue:function(){return require.async("../hd_yuyue/titan-preload-module.js")},hd_ricepudding:function(){return require.async("../hd_ricepudding/titan-preload-module.js")},cms_gamelife:function(){return require.async("../cms_gamelife/titan-preload-module.js")},ec_buyShow:function(){return require.async("../ec_buyShow/titan-preload-module.js")},"mojo-mp":function(){return require.async("../mojo-mp/titan-preload-module.js")},cms_finance:function(){return require.async("../cms_finance/titan-preload-module.js")},passport:function(){return require.async("../passport/titan-preload-module.js")},onecrm:function(){return require.async("../onecrm/titan-preload-module.js")},hd_facebattle:function(){return require.async("../hd_facebattle/titan-preload-module.js")},hd_orchard:function(){return require.async("../hd_orchard/titan-preload-module.js")},cms_design_components:function(){return require.async("../cms_design_components/titan-preload-module.js")},cms_design_pc:function(){return require.async("../cms_design_pc/titan-preload-module.js")},cms_design_wc:function(){return require.async("../cms_design_wc/titan-preload-module.js")},cms_design:function(){return require.async("../cms_design/titan-preload-module.js")}};module.exports=function(n){try{var r=e[n];r&&r().catch((function(){}))}catch(e){}};
},{isPage:false,isComponent:false,currentFile:'@titan/preloadModule.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/requirePackageAsync.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=function(e){switch(e){case"onecrm_extension_package":return require.async("../onecrm_extension_package/RAW/index.js");case"mojo-mp":return require.async("../mojo-mp/RAW/index.js");default:return Promise.resolve(null)}};
},{isPage:false,isComponent:false,currentFile:'@titan/requirePackageAsync.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/requirePlatformMain.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=function(e){switch(e){case"rprm":return require("../rprm/RAW/index");case"cms_sdk":return require("../cms_sdk/RAW/index");case"titan-media":return require("../titan-media/RAW/index");case"titian-mp":return require("../titian-mp/RAW/index");case"cms":return require("../cms/RAW/index");case"ec":return require("../ec/RAW/index");case"hudong":return require("../hudong/RAW/index");case"cloud-fe-yunsdk-platform":return require("../cloud-fe-yunsdk-platform/RAW/index");default:return null}};
},{isPage:false,isComponent:false,currentFile:'@titan/requirePlatformMain.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@titan/titan-x.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("./env").TitanX;
},{isPage:false,isComponent:false,currentFile:'@titan/titan-x.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/cloud.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cloud-fe-yunsdk-platform");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={appInit:function(){},appOnLaunch:function(){},appOnShow:function(){},appOnHide:function(){}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/cloud.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=require("../../@babel/runtime/helpers/toConsumableArray"),n=require("../../@babel/runtime/helpers/classCallCheck"),r=require("../../@babel/runtime/helpers/createClass"),o=require("../../@babel/runtime/helpers/typeof");require("./titan.bootstrap.js");var i=global.bc("platform","cloud-fe-yunsdk-platform"),a=require("./titan-scoped-env.js"),u=require("./utils/retail.api"),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(require("./cloud.bootstrap"));var c=s.default||s,l=c.appOnShow,p=c.appOnLaunch,h=c.appInit,f=c.appOnHide,g=require("./utils/auth"),d=g.login,m=g.loginByAuth,y=g.loginByPhone,b=g.loginByMember,w=g.updateUserInfo,P=g.getUserPhone,S=g.getProtocolModelInfoWithTypes,v=g.loginCheck,_=require("./utils/core"),k=require("./utils/request"),q=a.requirePlatform("cms").main,A=q.CMS,x=q.wm,I=require("./utils/navigator"),C=require("./utils/file"),O=C.getImageInfo,D=C.uploadFile,j=C.downloadFile,M=require("./utils/rprm").rprmProxy,E=require("./template/init").templateSdkMount;try{h&&h()}catch(e){}a.wx&&a.wx.onAppLaunch&&a.wx.onAppLaunch((function(){try{p&&p()}catch(e){}})),a.wx&&a.wx.onAppShow((function(){l&&l()})),a.wx&&a.wx.onAppHide((function(){f&&f()}));var B=new(function(){function o(){var r=this;n(this,o),this.setCommonMethod=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]?console.error("".concat(t,"已被注册")):r[t]=e[t])},this.setExtendsPageList=function(e){var n;(n=r.EXTENDS_PAGE_LIST).push.apply(n,t(e))},this.$setGlobalData=function(e,t){r._globalData[e]=t},this.$getGlobalData=function(e){return r._globalData[e]},this.login=d,this.loginByAuth=m,this.loginByPhone=y,this.loginByMember=b,this.updateUserInfo=w,this.loginCheck=v,this.pages={},this.request=k,this.navigator=I,this.toPage=I.navigate,this.baseData=A.getBusinessData(),this.common=A,this.templateSdk=x,this.stat=M,this.OS="WOS",this._globalData={},this.getRetailData=u.retailApi,this.relationChain=u.cacheRelationship,this.userPhone=P,this.getProtocolModelInfoWithTypes=S,this.downloadFile=j,this.uploadFile=D,this.getImageInfo=O,this.openEasyHalfScreen=a.wx.openEasyHalfScreen,this.getStoreId=function(){var e=A.getVidInfoSync();return e?e.vid:0},this.recommendStoreId=function(){return new a.Promise((function(e,t){r.getRetailData("store_recommend_one",{queryParameter:{needGvid:!0,operationSource:4,url:"/weimob-cloud/some-index",whichCall:1}}).then((function(t){t.storeId=t.pvid,e({errcode:0,data:t})})).catch((function(e){t()}))}))},this.getStoreList=function(t){return(0,u.defaultApi)("store_list",{queryParameter:e({needGvid:!0,operationSource:4,url:"/weimob-cloud/some-index",whichCall:1},t)})},this.jumpToStoreList=function(e){var t="/ec_store/sale_point__list?callBackUrl=".concat(encodeURIComponent(e));A.navigator(t)},this.EXTENDS_PAGE_LIST=["t/1","t/2","cms_design/index","ec_store/store__list"],Object.defineProperty(this,"page",{get:function(){return this.$getCurrentPage()}})}return r(o,[{key:"$getCurrentPage",value:function(){var t=a.getCurrentPages(),n=t[t.length-1];if(n){if(n.core||(n.core=new _(n)),n.$designPage){var r=n.$designPage;return e(e(e({},r.store),r.hooks),{},{data:r.store,setData:r.store.set,dependsPush:function(){},emit:function(e,t){return n.core.emit(e,t)},on:function(e,t){return n.core.on(e,t)},getFunction:function(e){return r.hooks[e]},setFunction:function(e,t){return r.hooks.add(e,t)}})}return n.core}}}]),o}());a.wx&&a.wx.onAppShow((function(){try{a.getApp().getSdk||(a.getApp().getSdk=function(){return B},a.getApp().getSdkAsync=function(){return new a.Promise((function(e){e(B)}))},a.getApp().getSdkSync=function(){return new a.Promise((function(e){e(B)}))})}catch(e){}})),E(B,A),module.exports={getSdkAsync:function(e){return new a.Promise((function(t){e?t(B):B.page?B.page.checkReady().then((function(){t(B)})):t()}))},getSdk:function(){return B}},global.ec(i);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/template/init.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/toConsumableArray"),t=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/typeof"),n=global.bc("platform","cloud-fe-yunsdk-platform"),o=require("../titan-scoped-env.js"),i=o.requirePlatform("cms_sdk").main.wm,a=require("../utils/request"),s=(require("../utils/core"),"object"==r(o.titan)&&"function"==typeof o.titan.acquireSharedObject?o.titan.acquireSharedObject("__$CloudScope$__")||{}:"object"==("undefined"==typeof globalThis?"undefined":r(globalThis))?(globalThis.__$CloudScope$__={},globalThis.__$CloudScope$__):{}),u=["toPage","getCurrentBosBasicInfo","getCurrentUserInfo","getCurrentVidInfo","getGuideInfo","getStyleInfo","getLocation","design.getPageData","design.watchPageData","design.unwatchPageData","design.callFunction","design.injectFunction"],l={};u.map((function(e){l[e]=!0}));var c=(s.forkInstance||(s.forkInstance=i.fork({name:"WeimobCloudSDK",author:"微盟云团队",apiList:u}),s.IsvPermissionMap={}),s.forkInstance);module.exports={templateSdkMount:function(n,i){var u={init:function(n){var i=JSON.stringify(n);return n&&"object"==r(n)&&n.tk?void 0===s.IsvPermissionMap[n.tk]?new o.Promise((function(o,u){var d=c.createPermission({name:"ISV"+n.tk,author:i,apiPermissionRange:t({},l)});Object.defineProperty(d,"request",{get:function(){return function(){var t=Array.prototype.slice.call(arguments);return"object"==r(t[0])&&t[0]&&(t[0].weimobCloudISVId=n.tk||"?"),a.call.apply(a,[null].concat(e(t)))}}}),s.IsvPermissionMap[n.tk]=d,o(d)})):o.Promise.resolve(s.IsvPermissionMap[n.tk]):o.Promise.reject(new Error("请使用正确的入参"))}};"undefined"!=typeof globalThis&&Object.defineProperty(globalThis,"Cloud",{get:function(){return u}})}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/template/init.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","cloud-fe-yunsdk-platform",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var l=global.bc("platform","cloud-fe-yunsdk-platform");global.ec(l),global.beginDefineBootstrap=!1,global.emr("cloud-fe-yunsdk-platform"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/auth.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=require("../../../@babel/runtime/helpers/objectSpread2"),n=global.bc("platform","cloud-fe-yunsdk-platform"),o=require("../titan-scoped-env.js"),i=require("./retail.api"),r=(e=require("./session"))&&e.__esModule?e:{default:e},u=o.requirePlatform("cms").main.auth;module.exports={login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.isVerifyAuth(e,{weimobOS:!1})},loginByAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.login(e,{weimobOS:!1})},loginByPhone:function(e){if(void 0===e){var t=r.default.get("WOS_WXAPP_SESSION")||{};return(0,i.defaultApi)("login",{wid:t.wid,type:2}).then((function(e){return!(e&&e.errmsg)}))}var n=e.detail?e:{detail:e};return new o.Promise((function(e,t){u.getUserPhone(n,{weimobOS:!1}).then((function(n){if(0==n.errcode){var o=n.data;o.phone=o.phoneNumber,e(o)}else t()})).catch((function(e){t()}))}))},loginByMember:function(){var e=r.default.get("WOS_WXAPP_SESSION")||{};return(0,i.defaultApi)("login",{wid:e.wid,type:3})},loginCheck:function(e){return(0,i.defaultApi)("loginCheck",{bizType:e}).then((function(e){return{loginStatus:2!==e.loginStatus,isMember:e.isMember,loginType:e.loginType}}))},getProtocolModelInfoWithTypes:function(e){return(0,i.defaultApi)("protocolDetail",{displayScene:e}).then((function(e){return t(t({},e),{},{isAutoAgree:0===e.prompt.agreeType,content:e.prompt.content||"",isSigned:e.prompt.isSigned,protocolFileInfos:e.protocolList})}))},updateUserInfo:function(e){return u.updateUserInfo(e||{},{weimobOS:!1})},getUserPhone:function(e){var t=e.detail?e:{detail:e};return new o.Promise((function(e,n){u.getUserPhone(t,{weimobOS:!1}).then((function(t){if(0==t.errcode){var o=t.data;o.phone=o.phoneNumber,e(o)}else n()})).catch((function(e){n()}))}))}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/auth.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/core.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../@babel/runtime/helpers/defineProperty"),t=require("../../../@babel/runtime/helpers/classCallCheck"),n=require("../../../@babel/runtime/helpers/createClass"),s=global.bc("platform","cloud-fe-yunsdk-platform"),r=require("../titan-scoped-env.js"),i=function e(t,n,s,i,a,u){var o=t.pageId;if((u=u||1)<3){if(t.events()[o]&&t.events()[o][n])return t.events()[o][n](s,i,a);r.setTimeout((function(){e(t,n,s,i,a,u+1)}),250)}else i(s)};module.exports=function(){function s(e){t(this,s),this.functions={},this.data={},this._watchers={},this._depends=[],this._dependsIds=[],this.pageId=e.__wxExparserNodeId__,this.pageRoute=e.route||"",this.pageOptions=e.options||{},this.allReady=!1}return n(s,[{key:"events",value:function(){return{}}},{key:"emit",value:function(e,t){var n=this;try{var s=this.pageId,a=this.pageRoute;return new r.Promise((function(r,u){if(-1!==a.indexOf("cms_search/result"))i(n,e,t,r,u);else{if(n.events()[s]&&n.events()[s][e])return n.events()[s][e](t,r,u);r(t)}}))}catch(s){return r.Promise.resolve()}}},{key:"on",value:function(t,n){var s=this.pageId,r=this.events()[s]||{};r[t]=n,this.events=function(){return e({},s,r)}}},{key:"setFunction",value:function(e,t){"string"==typeof e?"function"==typeof t?this.functions[e]=t:console.error("函数体类型只能为function"):console.error("函数名称类型只能为string")}},{key:"getFunction",value:function(e){return this.functions[e]?this.functions[e]:(console.error("无此方法，请检查方法名"),null)}},{key:"setData",value:function(e,t){if("string"==typeof e||"number"==typeof e){if(0===e.indexOf("_"))return console.error("设置数据失败：setData 的 key 不可以以下划线开头。异常的key:",e),!1;if(["data","pageId","functions","allReady"].includes(e))return console.error("设置数据失败：setData 的 key 违法，请使用其他的key。异常的key: ",e),!1;var n=this[e];this.data[e]=t,Object.defineProperty(this,e,{configurable:!0,get:function(){return t}}),this._update(e,t,n)}else console.error("字段key类型只能为string或者number。异常的key:",e)}},{key:"_update",value:function(t,n,s){this._watchers[t]&&this._watchers[t].forEach((function(e){e(n,s)})),this._depends.forEach((function(s){s.setData(e({},t,n))}))}},{key:"watch",value:function(e,t){return"function"!=typeof t?(console.error("订阅数据变化的回调函数类型异常！",e),!1):(this._watchers[e]=this._watchers[e]||[],this._watchers[e].push(t),this._unwatchWait(e,t))}},{key:"unwatch",value:function(e,t){"function"==typeof t?this._watchers[e].includes(t)?this._watchers[e].splice(this._watchers[e].indexOf(t),1):console.error("没有此回调函数，取消订阅数据失败"):this._watchers[e]=[]}},{key:"_unwatchWait",value:function(e,t){var n=this;return function(){n.unwatch(e,t)}}},{key:"dependsPush",value:function(e){this._dependsIds.includes(e.__wxExparserNodeId__)?console.warn("[cloud.sdk]该组件已存在",e.__wxExparserNodeId__):(this._dependsIds.push(e.__wxExparserNodeId__),this._depends.push(e),this.bandDataOnece(e))}},{key:"bandDataOnece",value:function(t){for(var n in this.data)t.setData(e({},n,this.data[n]))}},{key:"setReady",value:function(){this.allReady=!0}},{key:"checkReady",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new r.Promise((function(s){!t.allReady&&n>0?r.setTimeout(t.checkReady.bind(t,e||s,n-1),0):e?e():s()}))}}]),s}(),global.ec(s);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/core.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/file.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,o,a,t=require("../../../@babel/runtime/helpers/objectSpread2"),l=global.bc("platform","cloud-fe-yunsdk-platform"),n=require("../titan-scoped-env.js"),r=(a=require("./session"))&&a.__esModule?a:{default:a},d=n.wx.getExtConfigSync(),c=d.weimobCloud||{},u={};u["cloud-bosid"]=null==d||null===(e=d.form)||void 0===e?void 0:e.bosId,c.isTest&&(u["cloud-dev-bosid"]=null==d||null===(o=d.form)||void 0===o?void 0:o.bosId),c.projectName&&(u["cloud-project-name"]=c.projectName),module.exports={getImageInfo:function(e){var o=r.default.get("WOS_WXAPP_SESSION");o&&o.token&&(u["x-wx-token"]=o.token),n.wx.getImageInfo(t(t({},e),{},{header:t(t({},e.header),u),src:"".concat(c.host,"/api3").concat(e.src.replace(/^\/api3/,""))}))},uploadFile:function(e){var o=r.default.get("WOS_WXAPP_SESSION");o&&o.token&&(u["x-wx-token"]=o.token),n.wx.uploadFile(t(t({},e),{},{header:t(t({},e.header),u),url:"".concat(c.host,"/api3").concat(e.url.replace(/^\/api3/,""))}))},downloadFile:function(e){var o=r.default.get("WOS_WXAPP_SESSION");o&&o.token&&(u["x-wx-token"]=o.token),n.wx.downloadFile(t(t({},e),{},{header:t(t({},e.header),u),url:"".concat(c.host,"/api3").concat(e.url.replace(/^\/api3/,""))}))}},global.ec(l);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/file.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/navigator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/classCallCheck"),a=require("../../../@babel/runtime/helpers/createClass"),t=global.bc("platform","cloud-fe-yunsdk-platform"),r=require("../titan-scoped-env.js");module.exports=new(function(){function t(){var a=this;e(this,t),this.setSystemPagePathList=function(e){e.forEach((function(e){a.SYSTEM_PAGE_NAME_LIST.push(e.name),a.SYSTEM_PAGE_LIST[e.name]=e}))},this.navigate=function(e){if("navigateBack"===e.method)r.titan.navigateBack();else{var t=a.SYSTEM_PAGE_LIST[e.url];if(void 0===t)return console.error("[cloud.topage]暂不支持跳转到当前页面:".concat(e.url)),!1;e.query=e.query||{};var o=t.params,s=!0;for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];if(1==i.required&&(null==e||!e.query[n])){console.error("[cloud.topage]".concat(i.desc,"为必传参数")),s=!1;break}}if(s)if(r.wx[e.method]){var u=(null==t?void 0:t.path)||"";e.query&&(u=u+"?"+a.toQueryString(e.query)),r.wx[e.method]({url:u,fail:function(){r.titan[e.method]({url:null==t?void 0:t.path,query:e.query})}})}else console.error("[cloud.topage]暂不支持此跳转方式:".concat(e.method))}},this.SYSTEM_PAGE_NAME_LIST=["goodsDetail","userSettings","accountSettings","userCouponList","pointMall","userCenter","searchResult","tabbarGoodsList","tabbarGoodsClassify","home","openCard","auth","authByWebview"],this.SYSTEM_PAGE_LIST={goodsDetail:{name:"goodsDetail",path:"ec_goods/detail",params:{}},userSettings:{name:"userSettings",path:"/onecrm/user-info",params:{}},accountSettings:{name:"accountSettings",path:"/onecrm/user-info?type=gift",params:{}},userCouponList:{name:"userCouponList",path:"/onecrm/coupon-list",params:{}},pointMall:{name:"pointMall",path:"/ec_shop/pointGoods",params:{}},userCenter:{name:"userCenter",path:"/cms_design/usercenter",params:{}},searchResult:{name:"searchResult",path:"/cms_search/result",params:{}},tabbarGoodsList:{name:"tabbarGoodsList",path:"/ec_shop/goods",params:{}},tabbarGoodsClassify:{name:"tabbarGoodsClassify",path:"/ec_shop/classify",params:{}},home:{name:"home",path:"/cms_design/index",params:{}},openCard:{name:"openCard",path:"/onecrm/membership",params:{}},orderCreate:{name:"orderCreate",path:"/ec_order/order__create",params:{}},auth:{name:"auth",path:"/cms/auth",params:{}},changePhone:{name:"changePhone",path:"/passport/user-change-phone",params:{}},authByWebview:{name:"authByWebview",path:"/cms_webview/auth",params:{}}}}return a(t,[{key:"cleanArray",value:function(e){for(var a=[],t=0;t<e.length;t++)e[t]&&a.push(e[t]);return a}},{key:"toQueryString",value:function(e){return this.cleanArray(Object.keys(e).map((function(a){return void 0===e[a]?"":encodeURIComponent(a)+"="+encodeURIComponent(e[a])}))).join("&")}}]),t}()),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/navigator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),o=global.bc("platform","cloud-fe-yunsdk-platform"),t=require("../titan-scoped-env.js"),r=t.requirePlatform("cms").main.CMS,n=(t.requirePlatform("rprm").main,r.createRequester({weimobOS:!1,dataToWeimobOSInner:!1,foreverResolve:!0,weimobOSErrorStrategie:"console"}));module.exports=function(o){var r=t.wx.getExtConfigSync(),i=r.weimobCloud?r.weimobCloud.host:"https://capi.weimobcloud.com";r.form&&"qa"===r.form.env&&(i=r.weimobCloud?r.weimobCloud.host:"https://capi.weimobcloudqa.com");var u="".concat(i,"/api3");(o.requestOption=o.requestOption||{},o.requestOption.weimobCloudISVId=o.requestOption.weimobCloudISVId||o.weimobCloudISVId||"?",o.requestOption.method=o.requestOption.method||"POST",!0===o.requestOption.anonymous&&(o.requestOption.header=e(e({},o.requestOption.header),{},{"x-mapitoken-bypass":"true","cloud-ntc":"1"})),t.wx.getLaunchOptionsSync)&&(1154===t.wx.getLaunchOptionsSync().scene&&(o.requestOption.header=e(e({},o.requestOption.header),{},{"x-mapitoken-bypass":"true","cloud-ntc":"1"})));var a=o.requestOption.method.toUpperCase();return a="POST"==a?"post":"get",new t.Promise((function(e,t){n[a](u+o.url,o.data||{},o.requestOption).then((function(o){o&&200===o.statusCode?e(o.data):t(o)})).catch((function(e){t(e)}))}))},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/retail.api.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,o=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../@babel/runtime/helpers/objectSpread2"),n=require("../../../@babel/runtime/helpers/typeof"),t=global.bc("platform","cloud-fe-yunsdk-platform"),a=require("../titan-scoped-env.js"),i=require("../../../@titan/env.js"),s=(e=require("./session"))&&e.__esModule?e:{default:e},u=a.requirePlatform("cms").main.CMS,c=(a.requirePlatform("rprm").main,u.createRequester({weimobOS:!1,dataToWeimobOSInner:!1,foreverResolve:!0,weimobOSErrorStrategie:"console"})),d={vid:0,cid:null,onecrm:{productId:146,productInstanceId:null},mallguide:{productId:150,productInstanceId:null},mall:{productId:145,productInstanceId:null},promotion:{productId:224,productInstanceId:null}},l={protocolDetail:"/passport/access/v2.0/protocol/getLatest",login:"/passport/access/access",loginStatus:"/passport/access/checkCustomize",loginCheck:"/passport/access/check",wm_app_session:"storage",wx_cryption_info:"/cloudpub/open/cloud/mini/decryption",wx_user_info:"/cloudpub/open/cloud/mini/gen3rdSessionKeyByCode2Session",user_base_info:"/onecrm/user/center/usercenter/queryUserInfo",user_asset_info:"/onecrm/point/ec/mbp/userInfo/queryUserAssetInfo",user_card_info:"/onecrm/user/center/usercenter/queryCardInfo",user_guider_info:"/mall/guide/app/getGuiderAndRelationshipInfo",user_guider_relate:"/mall/guide/app/cacheRelationship",store_recommend_one:"/mall/base/global/getRecommendVidInfo",store_list:"/mall/navigation/newsale/getStoreListPageStoreList",user_coupon_list:"/onecrm/coupon/v1/custom/adapter/getUserCouponFlowPage",user_coupon_detail:"/onecrm/coupon/v1/custom/adapter/getUserCouponDetail",user_coupon_packagelist:"/onecrm/coupon/v1/custom/adapter/availableCouponPackageList2C",user_coupon_get:"/onecrm/coupon/v1/custom/adapter/receiveCoupon",user_sdp_info:"/mall/sdp/mgr/weike/base/getUcSdpInfo",user_purchase_list:"/mall/mgr/purchaseCode/open/list",user_purchase_receive:"/mall/front/purchasecode/open/value/receive",shop_goods_detail_main:"/mall/navigation/goods/goodsDetail/pass/queryPageInfo",shop_goods_detail_module:"/mall/navigation/goods/goodsDetail/pass/queryModuleData",shop_goods_detail_sku:"/mall/navigation/goods/goodsDetail/pass/skuInfo",bargain_check_goods:"/promotion/qxbargain/client/check_goods_join",bargain_join_status:"/promotion/qxbargain/client/join_status",bargain_validate_pre_open:"/promotion/qxbargain/client/validate_pre_open",bargain_target_skus:"/promotion/qxbargain/client/target_skus",bargain_master_open:"/promotion/qxbargain/client/master_open",bargain_assis_hit:"/promotion/qxbargain/client/assis_hit"},p=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof e&&(e="user_base_info"),"object"!=n(o)&&(o={});var t=s.default.get("WOS_WXAPP_SESSION")||{};if("wm_app_session"==e){var i,c,p=a.wx.getExtConfigSync(),_=p.form||{};return t.pid=_.pid||t.pid||t.bosId||(null===(i=_.basicInfo)||void 0===i?void 0:i.bosId),t.bosId=t.bosId||(null===(c=_.basicInfo)||void 0===c?void 0:c.bosId),a.Promise.resolve(t)}"user_guider_info"==e&&(o.customerWid=t&&t.wid||"");var m=l[e]&&l[e].split("/")[1];if("mall"===m&&-1!==l[e].indexOf("mall/guide")&&(m="mallguide"),d[m]){if(o.request=o.request||{},!d[m].productInstanceId)return u.getVidInfo().then((function(n){var t=u.getBusinessData();return d.vid=n&&n.vid||t.extVid||0,d.cid=n?n.cid:t.cid,u.findProductInstanceIdByCID({cid:n?n.cid:t.cid,productId:d[m].productId,ignoreCache:!1}).then((function(n){return d[m].productId,void 0===n?a.Promise.resolve({errmsg:"该店铺未购买相关产品，无法使用".concat(e,"能力")}):(d[m].productInstanceId=n,o.targetBasicInfo=o.targetBasicInfo||{},o.targetBasicInfo.productInstanceId=n,o.targetBasicInfo.productId=d[m].productId,o.basicInfo=r(r({vid:d.vid},o.basicInfo),d[m]),g(e,o))})).catch((function(r){return g(e,o)}))}));o.basicInfo=r(r({vid:d.vid},o.basicInfo),d[m])}return g(e,o)},g=function(e,o){return"user_base_info"==e?m(o):_(e,o)},_=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l[e]?c.post(l[e],o,{weimobCloudISVId:"?"}).then((function(o){if(o){var r=o.data||{};return 0==r.errcode?"user_card_info"==e?r.data.items||[]:r.data:(r.globalTicket,{errmsg:"get ".concat(e," data error! because: ").concat(r.errmsg)})}return{errmsg:"get ".concat(e," data error! please contact us")}})):(console.error("[cloud.data]您所查询的接口不存在，请核对后再调用！"),!1)},m=function(){var e=(0,i.babel_coroutine)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o().mark((function n(){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",_("user_base_info",e).then((function(e){var o,n,t=s.default.get("WOS_WXAPP_SESSION")||{};return r(r({wid:t.wid,appId:t.appid,openId:t.openId,headurl:e.headurl||(null===(o=t.userInfo)||void 0===o?void 0:o.headurl)||""},e),{},{nickname:e.nickname||(null===(n=t.userInfo)||void 0===n?void 0:n.nickname)||"匿名"})})));case 1:case"end":return o.stop()}}),n)}))()}));return function(){return e.apply(this,arguments)}}();module.exports={retailApi:p,defaultApi:_,cacheRelationship:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p("user_guider_relate",e).then((function(e){return 0==e.errcode}))}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/retail.api.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/rprm.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","cloud-fe-yunsdk-platform"),e=require("../titan-scoped-env.js");e.wx.rprm.pub({stattype:4113143141},"new");var t=function(r,t){r.stattype=4113143141,e.wx.rprm.rec(r)},o=new Proxy({},{get:function(r,o,p){return"rec"===o?t:e.wx.rprm[o]||{}}});module.exports={rprmProxy:o},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/rprm.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cloud-fe-yunsdk-platform/RAW/utils/session.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cloud-fe-yunsdk-platform"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a={cacheMap:{},get:function(e){return t.wx.getStorageSync(e)||null},set:function(e,c){delete a.cacheMap[e],t.wx.setStorageSync(e,c)},clear:function(e){delete a.cacheMap[e],t.wx.removeStorageSync(e)}};exports.default=a,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cloud-fe-yunsdk-platform/RAW/utils/session.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/auth.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../@babel/runtime/helpers/slicedToArray"),t=require("../../../@babel/runtime/helpers/regeneratorRuntime"),n=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/createClass"),o=require("../../../@babel/runtime/helpers/classCallCheck"),a=require("../../../@babel/runtime/helpers/inherits"),i=require("../../../@babel/runtime/helpers/createSuper"),s=require("../../../@babel/runtime/helpers/wrapNativeSuper"),u=global.bc("platform","cms"),c=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Auth=void 0;var l,f=require("../../../@titan/env.js"),d=require("./constants"),h=require("./session"),v=require("./utils"),g=require("../utils/util"),m=(l=require("./wxApiPromise"))&&l.__esModule?l:{default:l},p=require("../utils/ext"),I=require("../utils/warning"),S=c.requirePlatform("cms_sdk").main.SDK,w=(0,g.getPlatFormChannel)(),_=(0,g.getPlatFormSource)(),b=function(e){a(n,e);var t=i(n);function n(e,r){var a;return o(this,n),(a=t.call(this,r)).type=e,a.message=r,a}return r(n)}(s(Error)),E=[],P=!1;exports.Auth=function(){function a(e){o(this,a),this._authTicketBase=0,this._authEventsHolder={},this.userInfoExpirationDays=30,this.userInfoPromptText="需要用户授权",this.request=null,this._wxApi=m.default,this.authRejectScene={},this.getLoginResult=(0,v.sharedFn)((0,v.retry)((function(){return new c.Promise((function(e,t){c.wx.login({success:function(n){var r,o;(o=[g.Xhs,g.WeiXin,g.KS,g.QQ].includes(w)?null==n?void 0:n.code:w===g.AliPay?Array.isArray(n)?null===(r=n[1])||void 0===r?void 0:r.authCode:null==n?void 0:n.authCode:null==n?void 0:n.code)?e({code:o}):t("获取code失败")},fail:function(e){var n=new b(d.ERR_WX_LOGIN_FAILED,"登录失败，请检查网络状态");t(n)}})}))}))),this.login=(0,v.sharedFn)((function(){var e=this;return new c.Promise((function(t,n){var r;1154!==(null===(r=c.wx.getEnterOptionsSync())||void 0===r?void 0:r.scene)?e.getResultToLogin().then((function(r){var o=r.data;if(0===o.errcode){var a=o.data,i=a.status,s=a.relations,u=a.uuid;if(1===i)e.mergeWidInfo({uuid:u,relations:s}).then((function(e){t(e.data)})).catch(n);else{var c=(0,p.getExtForm)().pid;void 0!==c&&o.data&&(o.data.pid=c),h.session.set(d.WOS_WXAPP_SESSION,o.data),t(o.data)}}else{var l="登录失败("+o.errcode+")："+(o.errormsg||o.errmsg||"未知错误"),f=new b(d.ERR_LOGIN_SESSION_NOT_RECEIVED,l);(0,I.warningFn)("LOGIN_ERROR",o,"loginX is  failed"),n(f)}})).catch((function(e){var t=new b(d.WX_DOMAIN_URL_FAILED,e.errMsg||"request:fail");n(t)})):t({})})).then((function(e){var t=(0,v.formatLoginData)(e);return h.session.set(d.WOS_WXAPP_SESSION,t),S.hideLoading(),t}))})),this.request=e.request,this.userInfoExpirationDays=e.userInfoExpirationDays,this.userInfoPromptText=e.userInfoPromptText}return r(a,[{key:"setConfig",value:function(e){this.userInfoExpirationDays=e.userInfoExpirationDays,this.userInfoPromptText=e.userInfoPromptText}},{key:"isAuthRejectByType",value:function(e){return!!this.authRejectScene[e]}},{key:"setAuthRejectByType",value:function(e){e&&"string"==typeof e?this.authRejectScene[e]=!0:console.error("CMS-AUTH:setAuthRejectByType 失败",e,"需要是string")}},{key:"getResultToLogin",value:function(){var e=this;return new c.Promise(function(){var r=(0,f.babel_coroutine)(t().mark((function r(o,a){var i,s,u;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((new Date).getTime(),null===(i=c.titan)||void 0===i||i.showPageLoading(),t.prev=2,!(s=c.titan.acquireSharedObject("passport-preFetchData").loginData)){t.next=8;break}return(new Date).getTime(),null===(u=c.titan)||void 0===u||u.hidePageLoading(),t.abrupt("return",o({data:{data:s,errcode:0}}));case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:e.getLoginResult().then((function(e){var t,r,i=(0,p.getLoginUrl)()[w]||"";i||a(new Error("登录url为空"));var s=n(n({},(0,p.getExtForm)()),{},{code:e.code,extendInfo:{source:_},queryAuthConfig:!0});if("MP-DOUYIN"==w){var u=tt.getSystemInfoSync();s.hostName=u.appName}var l=c.wx.getExtConfigSync?c.wx.getExtConfigSync():{};c.wx.request({method:"POST",url:i,data:s,header:{"weimob-bosId":null==l||null===(t=l.form)||void 0===t?void 0:t.basicInfo.bosId,"weimob-cid":null==l||null===(r=l.form)||void 0===r?void 0:r.basicInfo.cid}}).then((function(e){o(e)})).catch(a)})).catch(a).finally((function(){var e;!(0,g.currentIsDecoratePage)()&&(null===(e=c.titan)||void 0===e||e.hidePageLoading())}));case 13:case"end":return t.stop()}}),r,null,[[2,10]])})));return function(e,t){return r.apply(this,arguments)}}())}},{key:"isVerifyAuth",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weimobOS:!0},r=this;return(0,f.babel_coroutine)(t().mark((function o(){var a,i,s,u,l,f,v;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null!=e&&null!==(a=e.detail)&&void 0!==a&&a.userInfo?e:void 0,u=h.session.get(d.WOS_WXAPP_SESSION),l=r.getSessionUserInfo(),f="livePlay"===(null===(i=c.titan.getCurrentModuleInfo())||void 0===i?void 0:i.name),t.next=3,r.getWidUserInfo();case 3:return v=t.sent,t.abrupt("return",u&&l||u&&v||f?c.Promise.resolve(!0):r.updateUserInfo(s,n).then((function(e){return c.wx.hideLoading(),e&&e.userInfo?c.Promise.resolve(!0):c.Promise.reject(e)})).catch((function(e){return c.wx.hideLoading(),c.Promise.reject(e)})));case 5:case"end":return t.stop()}}),o)})))()}},{key:"checkUserProfile",value:function(){var e=h.session.get(d.WOS_WXAPP_SESSION),t=this.getSessionUserInfo();return e&&t}},{key:"checkUserInfo",value:function(e){var t=this,n=e.promptRegardless,r=void 0!==n&&n;return(0,v.getUserInfo)(this).catch((function(e){if((0,I.warningFn)("VERIFYAUTH_ERROR",e,"getUserInfo api fail"),!r){var n=t.getSessionUserInfo();if(n)return{isStale:!0,userInfo:n}}var o=++t._authTicketBase,a=new c.Promise((function(e,n){t._authEventsHolder[o]={resolve:e,reject:n}}));return c.wx.navigateTo({url:"/cms/auth?authTicket=".concat(o),fail:function(e){t.completeAuthRequest(o,e)}}),a.then((function(){return(0,v.getUserInfo)(t)}))})).catch((function(){var e=new b(d.ERR_WX_GET_USER_INFO,"获取用户信息失败，请检查网络状态或是否授权");return c.Promise.reject(e)}))}},{key:"completeAuthRequest",value:function(e,t){var n=e&&this._authEventsHolder[e];n&&(t?n.reject(t):n.resolve(),delete this._authEventsHolder[e])}},{key:"emitLogin",value:function(){var e=this;return new c.Promise((function(t,n){e.request.post("".concat((0,p.getExtHost)(),"/abcabc"),{}).catch((function(e){t()}))}))}},{key:"getSessionUserInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{var n=h.session.get(d.WX_USER_PROFILE),r=24*(this.userInfoExpirationDays||30)*60*60*1e3;Date.now()-(n.createTime||0)<r&&(t=n.data,e||n.loginSucceeded||(t=null))}catch(e){}return t}},{key:"getAuthInfo",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weimobOS:!0},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new c.Promise((function(a,i){var s=(0,p.getLoginUserInfoUrl)()[w]||"";if(s){var u=t.getCurrentPage().selectComponent(".cms_auth_button"),l=function(e){if(0==e.data.errcode){var n=e.data.data,r=n.status,o=n.relations,s=n.uuid;1===r?t.mergeWidInfo({uuid:s,relations:o}).then((function(){return a(e.data)})).catch(i):a(e.data)}else i(e.data.errmsg)};if(w===g.AliPay){var f=c.wx.getExtConfigSync?c.wx.getExtConfigSync():{};o?c.my.getAuthCode({scopes:"auth_user",success:function(e){var t,o,a=n(n({},(0,p.getExtForm)()),{},{code:e.authCode,extendInfo:{source:_}});c.wx.request({method:"post",url:s,data:a,header:{"weimob-bosId":null==f||null===(t=f.form)||void 0===t?void 0:t.basicInfo.bosId,"weimob-cid":null==f||null===(o=f.form)||void 0===o?void 0:o.basicInfo.cid}},n({},r)).then(l).catch(i)},fail:i}):t.getLoginResult().then((function(e){var t=function(e,t){var o,a,u=t.avatar,d=t.nickName,h=u||"https://cdn2.weimob.com/static/saas-fe-zhan-xapp-stc/images/4.49.0/default_photo.png",v=n(n({},(0,p.getExtForm)()),{},{code:e.code,nickName:d,avatarUrl:h,extendInfo:{source:_}});c.wx.request({method:"post",url:s,data:v,header:{"weimob-bosId":null==f||null===(o=f.form)||void 0===o?void 0:o.basicInfo.bosId,"weimob-cid":null==f||null===(a=f.form)||void 0===a?void 0:a.basicInfo.cid}},n({},r)).then(l).catch(i)};c.my.getOpenUserInfo({fail:i,success:function(n){var r=JSON.parse(n.response).response,o=r.code,a=(r.subMsg,r.avatar),s=void 0===a?"":a,l=r.nickName,f=void 0===l?"":l;"10000"==o?t(e,{avatar:s=s||"https://image-c.weimobwmc.com/ol-6LF7L/b16e3278a84a4cd1980fcb1c18ca25ac.png",nickName:f=f||"支付宝用户"}):"40003"==o?u&&u.showAuthButtonPopup&&u.showAuthButtonPopup().then((function(){c.my.getOpenUserInfo({fail:i,success:function(n){var r=JSON.parse(n.response).response,o=r.code,a=(r.subMsg,r.avatar),s=void 0===a?"":a,u=r.nickName,c=void 0===u?"":u;"10000"==o?t(e,{avatar:s=s||"https://image-c.weimobwmc.com/ol-6LF7L/b16e3278a84a4cd1980fcb1c18ca25ac.png",nickName:c=c||"支付宝用户"}):"40006"==o?S.toast("请到小程序控制台绑定产品"):i()}})})).catch(i):"40006"==o?S.toast("请到小程序控制台绑定产品"):i()}})}))}else[g.Xhs,g.QQ,g.KS].includes(w)?t.getLoginResult().then((function(o){var a=function(e,o){var a={};w===g.Xhs?a={userData:o.userInfo}:[g.QQ,g.KS].includes(w)&&(a={code:e.code,encryptedData:o.encryptedData,iv:o.iv}),t.request.post(s,a,n({},r)).then(l)};e?a(o,e):u&&u.showAuthButtonPopup?u.showAuthButtonPopup().then((function(e){a(o,e.detail)})).catch(i):c.wx.getUserInfo({withCredentials:!0,success:function(e){a(o,e.detail)},fail:i})})).catch((function(e){return i})):w===g.DouYin&&tt.getUserProfile({success:function(e){t.getLoginResult().then((function(t){var o,a,u=tt.getSystemInfoSync(),f=c.wx.getExtConfigSync?c.wx.getExtConfigSync():{},d=n(n({},(0,p.getExtForm)()),{},{hostName:u.appName,code:t.code,encryptedData:e.encryptedData,iv:e.iv,extendInfo:{source:_}});c.wx.request({method:"post",url:s,data:d,header:{"weimob-bosId":null==f||null===(o=f.form)||void 0===o?void 0:o.basicInfo.bosId,"weimob-cid":null==f||null===(a=f.form)||void 0===a?void 0:a.basicInfo.cid}},n({},r)).then(l).catch(i)}))},fail:i})}else i(new Error("登录url为空"))}))}},{key:"updateUserInfo",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.promptRegardless,a=void 0!==o&&o,i=r.blockIfFailed,s=void 0===i||i,u=r.detail,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weimobOS:!0};return[g.Xhs,g.AliPay,g.QQ,g.KS,g.DouYin].includes(w)?this.getAuthInfo(u,l,!1).then((function(e){var t=e||{},n=t.errcode,r=t.errmsg,o=t.data;if(0==n){var a=(0,v.formatLoginData)(o,!0);return a&&(h.session.set(d.WOS_WXAPP_SESSION,a),h.session.set(d.WX_USER_PROFILE,{createTime:Date.now(),data:a.userInfo,loginSucceeded:!0}),h.session.set(d.WOS_USERINFO_DATA,{createTime:Date.now(),data:a.userInfo})),a}return new b(d.ERR_LOGIN_SESSION_NOT_RECEIVED,"授权失败("+n+")："+(r||"未知错误"))})).catch((function(e){var t=h.session.get(d.WX_USER_PROFILE);return t&&(h.session.set(d.WX_USER_PROFILE,n(n({},t),{},{loginSucceeded:!1})),h.session.set(d.WOS_USERINFO_DATA,n({createTime:Date.now()},t))),s?c.Promise.reject(e):c.Promise.resolve(e)})):w===g.WeiXin?new c.Promise((function(r,o){var i=null,u="function"==typeof c.wx.getUserProfile,f=(0,v.compareVersion)(c.wx.getSystemInfoSync().SDKVersion,"2.21.2")>=0;a||(i=t.getSessionUserInfo()),(i?c.Promise.resolve({userInfo:i}):f||u?c.Promise.all([t.getLoginResult().catch((function(){return{}})),new c.Promise((function(e,n){if(f){var r=(0,v.getInstanceById)("#cms:verifyAuth");r?r.start(e,n):n()}else c.wx.getUserProfile({lang:"zh_CN",desc:t.userInfoPromptText||"需要您的授权才能获取公开信息",success:e,fail:n})})).then((function(e){return h.session.set(d.WX_USER_PROFILE,{createTime:Date.now(),data:e.userInfo}),h.session.set(d.WOS_USERINFO_DATA,{createTime:Date.now(),data:e.userInfo}),e}))]).then((function(t){var n=e(t,2),r=n[0],o=n[1];return o.code=r.code,o})):c.Promise.all([t.getLoginResult().catch((function(){return{}})),t.checkUserInfo({promptRegardless:a}).then((function(e){return e.isStale||(h.session.set(d.WX_USER_PROFILE,{createTime:Date.now(),data:e.userInfo}),h.session.set(d.WOS_USERINFO_DATA,{createTime:Date.now(),data:e.userInfo})),e}))]).then((function(t){var n=e(t,2),r=n[0],o=n[1];return o.code=r.code,o}))).then((function(e){var r=e.userInfo,o=e.encryptedData,a=e.iv,i=e.code,s=r||{},u=s.nickName,f=s.avatarUrl;return new c.Promise((function(e,s){if(o&&a&&i||u&&f){if(c.wx.hound.debug({url:"/cms/verifyAuth/saveuserinfo",data:{status:"step5"}}),P)return;P=!0;var d=(0,p.getLoginUserInfoUrl)()[w]||"";t.request.request(n({method:"POST",url:d,data:{encryptedData:o,iv:a,code:i,getUserProfile:!0,nickName:u,avatarUrl:f}},l)).then((function(n){var r=n.data,o=r.status,a=r.relations,i=r.uuid;1===o?t.mergeWidInfo({uuid:i,relations:a}).then((function(){return e(n.data)})).catch(s):e(n.data)}),s).finally((function(){c.wx.hound.debug({url:"/cms/verifyAuth/saveuserinfo",data:{status:"step6"}}),P=!1}))}else t.login().catch((function(){})).then((function(){t.getLoginResult().catch((function(){return{}})).then((function(o){t.request.post("".concat((0,p.getExtHost)(),"/fe/mapi/user/userProfile"),{userInfo:r,code:o.code},n({encryption:!0,uuid:!0},l)).then((function(t){return e(t.data)})).catch(s)}))}))})).then((function(o){if(0!=o.errcode&&S.reportErrCode({code:"2-120101",data:{data:o},title:"头像昵称授权登录",level:"FATAL"}),0==o.errcode){var a=h.session.get(d.WX_USER_PROFILE);return a&&(h.session.set(d.WX_USER_PROFILE,n(n({},a),{},{loginSucceeded:!0})),h.session.set(d.WOS_USERINFO_DATA,n({createTime:Date.now()},a))),(0,v.isObject)(o.data)&&h.session.set(d.WOS_WXAPP_SESSION,o.data),e}if(100001==o.errcode)return new c.Promise((function(e,o){t.login().then((function(){t.getLoginResult().catch((function(){return{}})).then((function(a){t.request.post("".concat((0,p.getExtHost)(),"/fe/mapi/user/userProfile"),{userInfo:r,code:a.code},n({},l)).then((function(t){return e(t.data)})).catch(o)}))}))})).then((function(t){return e}),(function(e){return e}));throw new b(d.ERR_LOGIN_SESSION_NOT_RECEIVED,"授权失败("+o.errcode+")："+(o.errormsg||"未知错误"))})).catch((function(e){var t=h.session.get(d.WX_USER_PROFILE);return t&&(h.session.set(d.WX_USER_PROFILE,n(n({},t),{},{loginSucceeded:!1})),h.session.set(d.WOS_USERINFO_DATA,n({createTime:Date.now()},t))),c.Promise.reject(e)}))})).then(r,(function(e){s?o(e):r(e)}))})):void 0}},{key:"getUserPhone",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weimobOS:!0};return new c.Promise((function(o,a){var i;(i=w===g.AliPay?e:e.detail)?t.request.post("".concat((0,p.getExtHost)(),"/api3/user/getPhoneNumber"),n({},i),n({},r)).then((function(e){if(0!=(e=e.data).errcode)throw e.errmsg;o(e)})).catch((function(e){t.login(),a(e)})):a(new Error("未找到有效的 e.detail.encryptedData"))}))}},{key:"userInfoCheck",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="onLoad",n=function(){var n=o[r],a=e[n];e[n]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getCurrentPage();if(E.indexOf(r.route)>-1){var o=h.session.get(d.WOS_WXAPP_SESSION),i=this.getSessionUserInfo();if(!(0,v.isObject)(o)||!(0,v.isObject)(i)){if(n===t){var s="/".concat(r.route);S.navigator({url:"/cms/auth?url=".concat(encodeURIComponent(s+(0,v.formatOptionsUrl)(r.options||{}))),mode:"redirect"})}return}}return a&&a.call(this,e)}},r=0,o=[t,"onShow","onReady"];r<o.length;r++)n();return e}},{key:"pageAuthCheck",value:function(){var e=h.session.get(d.WOS_WXAPP_SESSION),t=this.getSessionUserInfo();if((0,v.isObject)(e)&&(0,v.isObject)(t))return!0;var n=this.getCurrentPage(),r="/".concat(n.route);S.navigator({url:"/cms/auth?url=".concat(encodeURIComponent(r+(0,v.formatOptionsUrl)(n.options||{}))),mode:"redirect"})}},{key:"checkLoginStatus",value:function(){var e=h.session.get(d.WOS_WXAPP_SESSION),t=this.getSessionUserInfo();return!!(0,v.isObject)(e)&&(e.scope,!!(0,v.isObject)(t))}},{key:"checkIsHaveUserInfo",value:function(){var e=this;return(0,f.babel_coroutine)(t().mark((function n(){var r,o,a,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getSessionUserInfo(),t.next=3,e.getWidUserInfo();case 3:o=t.sent,(0,v.isObject)(r)?h.session.set(d.WOS_USERINFO_DATA,{createTime:Date.now(),data:r}):(0,v.isObject)(r)||o||(a=e.getCurrentPage(),i="/".concat(a.route),S.navigator({url:"/cms/auth?url=".concat(encodeURIComponent(i+(0,v.formatOptionsUrl)(a.options||{}))),mode:"redirect"}));case 5:case"end":return t.stop()}}),n)})))()}},{key:"getWidUserInfo",value:function(){var e,t=c.wx.getExtConfigSync?c.wx.getExtConfigSync():{},n=null==t||null===(e=t.form)||void 0===e?void 0:e.basicInfo.bosId,r=!1;return this.request.post("/user/info/web/queryNicknameAndPhone",{bosId:n}).then((function(e){if("0"==e.data.errcode){var t,n,o=(null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.nicknamePhoneAvatarInfoVo)||{};null!=o&&o.avatarUrl&&null!=o&&o.nickname&&("匿名用户"===o.nickname&&"https://image-c.weimobwmc.com/wrz/35389c90f9254cdd811561c18ab95daa.png"===o.avatarUrl?r=!1:(r=!0,h.session.set(d.WOS_USERINFO_DATA,{createTime:Date.now(),data:{avatarUrl:o.avatarUrl,nickName:o.nickname}}),h.session.set(d.WX_USER_PROFILE,{createTime:Date.now(),data:{avatarUrl:o.avatarUrl,nickName:o.nickname},loginSucceeded:!0})))}return r}))}},{key:"getCurrentPage",value:function(){var e=c.getCurrentPages();return e.length>0?e[e.length-1]:null}},{key:"getUserBasicInfo",value:function(){var e=h.session.get(d.WX_USER_PROFILE);if(e){var t=e.data;return{nickName:t.nickName,headImg:t.avatarUrl}}return null}},{key:"mergeWidInfo",value:function(e){var n=this;return(0,f.babel_coroutine)(t().mark((function r(){var o,a,i;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(){var e=n.getCurrentPage();return e&&e.selectComponent("#cms:mergeWidInfos")||null},a=function(){var e=(0,f.babel_coroutine)(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<10)){e.next=10;break}if(!(r=o())){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,new c.Promise((function(e){c.setTimeout(e,100)}));case 7:n++,e.next=1;break;case 10:throw new Error("#cms:mergeWidInfos not found in auth");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.next=4,a();case 4:return i=r.sent,r.abrupt("return",i.open(e));case 6:case"end":return r.stop()}}),r)})))()}}]),a}(),global.ec(u);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/auth.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/constants.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var _=global.bc("platform","cms");Object.defineProperty(exports,"__esModule",{value:!0}),exports.X_MAPITOKEN_BYPASS=exports.WX_USER_PROFILE=exports.WX_HEADER_TOKEN=exports.WX_DOMAIN_URL_FAILED=exports.WOS_WXAPP_SESSION=exports.WOS_USERINFO_DATA=exports.WEIMOB_BOSID=exports.UPDATE_SDK_MSG=exports.ERR_WX_LOGIN_FAILED=exports.ERR_WX_GET_USER_INFO=exports.ERR_LOGIN_SESSION_NOT_RECEIVED=exports.ERR_CHECK_LOGIN_FAILED=void 0;var E=(0,require("../utils/util").getPlatFormLabel)();exports.WX_HEADER_TOKEN="X-WX-Token",exports.ERR_WX_LOGIN_FAILED="ERR_WX_LOGIN_FAILED",exports.ERR_WX_GET_USER_INFO="ERR_WX_GET_USER_INFO",exports.ERR_LOGIN_SESSION_NOT_RECEIVED="ERR_LOGIN_MISSING_SESSION",exports.ERR_CHECK_LOGIN_FAILED="ERR_CHECK_LOGIN_FAILED",exports.WX_DOMAIN_URL_FAILED="WX_DOMAIN_URL_FAILED",exports.WOS_WXAPP_SESSION="WOS_WXAPP_SESSION",exports.UPDATE_SDK_MSG="当前".concat(E,"版本过低，请升级到最新").concat(E,"版本后重试。"),exports.WX_USER_PROFILE="WX_USER_PROFILE",exports.WEIMOB_BOSID="weimob-bosId",exports.X_MAPITOKEN_BYPASS="x-mapitoken-bypass",exports.WOS_USERINFO_DATA="WOS_USERINFO_DATA",global.ec(_);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/constants.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),t=global.bc("platform","cms");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Auth",{enumerable:!0,get:function(){return r.Auth}}),exports.constants=void 0,Object.defineProperty(exports,"session",{enumerable:!0,get:function(){return n.session}});var r=require("./auth"),n=require("./session"),o=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=e(t)&&"function"!=typeof t)return{default:t};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=u?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=t[s]}return o.default=t,n&&n.set(t,o),o}(require("./constants"));exports.constants=o,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/lib/es6-promise.min.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),t=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=t.Promise,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/lib/es6-promise.min.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/lib/promisify.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,r=(t=require("./es6-promise.min"))&&t.__esModule?t:{default:t};r.default.prototype.finally=r.default.prototype.finally||function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},exports.default=r.default,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/lib/promisify.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/session.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.session=void 0;var c=require("./utils"),t=exports.session={cacheMap:{},get:function(e){var r=(0,c.hasOwn)(t.cacheMap,e),o=r?t.cacheMap[e]:a.wx.getStorageSync(e);return!r&&o&&(t.cacheMap[e]=o),o||null},set:function(e,c){delete t.cacheMap[e],a.wx.setStorageSync(e,c)},clear:function(e){delete t.cacheMap[e],a.wx.removeStorageSync(e)}};global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/session.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),r=require("../../../@babel/runtime/helpers/objectSpread2");require("../../../@babel/runtime/helpers/Arrayincludes");var n=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareVersion=function(e,r){e=e.split("."),r=r.split(".");for(var n=Math.max(e.length,r.length);e.length<n;)e.push("0");for(;r.length<n;)r.push("0");for(var t=0;t<n;t++){var o=parseInt(e[t]),i=parseInt(r[t]);if(o>i)return 1;if(o<i)return-1}return 0},exports.formatAuthLoginData=s,exports.formatLoginData=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a(e))return e;var t=(0,i.getExtForm)(),c=t.pid;void 0!==c&&(e.pid=c);var l=n?s(e).userInfo:e.userInfo;return l=l||{},u===o.WeiXin?e:[o.AliPay,o.Xhs].includes(u)?r(r({isLiveStreaming:!1,unionId:"",unionid:""},e),{},{source:e.authSource,userInfo:r({unionId:"",sessionKey:"",openId:e.openId||l.openId||"",openid:e.openid||l.openid||""},l)}):e},exports.formatOptionsUrl=function(e){var r=[];for(var n in e)"isQuerst"!=n&&r.push(n+"="+e[n]);return r.length>0?"?"+r.join("&"):""},exports.getInstanceById=function(e){var r;if("function"==typeof t.getCurrentPages){var n=t.getCurrentPages();r=n[n.length-1].selectComponent(e)}return r||(r=this.selectComponent(e)),r},exports.getUserInfo=function(e){return e._wxApi.getUserInfo({lang:"zh_CN",withCredentials:!0}).then((function(e){if(!e.encryptedData||!e.iv)throw new Error;return e}))},exports.hasOwn=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},exports.isObject=a,exports.retry=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=0;return function i(){var u=o;o=0;var a=this,s=arguments;return e.apply(this,s).catch((function(e){return u<r?new t.Promise((function(e){t.setTimeout(e,n)})).then((function(){return o=u+1,i.apply(a,s)})):t.Promise.reject(e)}))}},exports.sharedFn=function(e){var r=null;return function(){return r||(r=e.apply(this,arguments).then((function(e){return r=null,e}),(function(e){return r=null,t.Promise.reject(e)}))),r}};var o=require("../utils/util"),i=require("../utils/ext"),u=(0,o.getPlatFormChannel)();function a(r){return null!==r&&"object"==e(r)}function s(e){if(!a(e))return e;var n=(e||{}).userInfo,t=void 0===n?{}:n;if(u===o.WeiXin)return e;if(u===o.AliPay){return r(r({},e),{},{userInfo:r(r({language:t.language||"zh_CN"},t),{},{avatarUrl:t.avatar||"",country:e.country||t.country||"",province:e.province||t.province||"",city:e.city||t.city||"",gender:{m:1,f:2}[t.gender||void 0]||0})})}return u===o.Xhs?r(r({},e),{},{userInfo:r(r({language:t.language||"zh_CN"},t),{},{avatarUrl:t.avatar||"",country:e.country||t.country||"",province:e.province||t.province||"",city:e.city||t.city||"",gender:Number(t.gender||"0")})}):e}global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/auth/wxApiPromise.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/classCallCheck"),r=require("../../../@babel/runtime/helpers/createClass"),a=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i,n=(i=require("./lib/promisify"))&&i.__esModule?i:{default:i},s=["clearStorage","hideToast","showNavigationBarLoading","hideNavigationBarLoading","drawCanvas","canvasToTempFilePath","hideKeyboard"];exports.default=(new(function(){function a(){e(this,a),this._wxApi=t.wx,this._wrappedApi={},this._wrapperApi()}return r(a,[{key:"WxApi",get:function(){return this._wrappedApi}},{key:"_canNotPromisable",value:function(e){return-1!==s.indexOf(e)||/^(on|create|stop|pause|close)/.test(e)||/\w+Sync$/.test(e)}},{key:"_wrapperApi",value:function(){var e=this;Object.keys(this._wxApi).forEach((function(r){e._canNotPromisable(r)?e._wrappedApi[r]=function(){try{for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];e._wxApi[r].apply(e._wrappedApi,t)}catch(e){reject({msg:"wx接口调用异常"})}}:e._wrappedApi[r]=function(a){var t=a||{};return new n.default((function(a,i){t.success=a,t.fail=function(e){e&&e.errMsg?i(new Error(e.errMsg)):i(e)};try{e._wxApi[r](t)}catch(e){i({msg:"wx接口调用异常"})}}))}}))}}]),a}())).WxApi,global.ec(a);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/auth/wxApiPromise.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/cmsRPRM.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),n=global.bc("platform","cms"),i=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCMSCommonRPRMParams=void 0;var s=i.requirePlatform("cms_sdk").main.SDK,r={};exports.setCMSCommonRPRMParams=function(n){var t,d;if("object"==e(n)&&n&&!r[n.name]){r[n.name]=!0;var o=null===(t=(d=i.titan).bindModuleContext)||void 0===t?void 0:t.call(d,n,(function(){var e=i.titan.bindModuleContext(n,(function(e){var n,s;if(null!=e&&e[0]){var r=(null===(n=e[0])||void 0===n?void 0:n.pvidInfo)||(null===(s=e[0])||void 0===s?void 0:s.gvidInfo);r&&i.wx.rprm.pub({vid:r.vid,vid_type:r.vidType,bos_id:r.bosId,cid:r.cid,product_id:r.productId,product_instance_id:r.productInstanceId,product_version_id:r.productVersionId},"new")}}));i.wx.rprm.pub({product_instance_id:"1",source_end:s.getCurrentChannel(),scene_h5:s.getCurrentChannelScene(),stattype:s.getProductBIStatType(1)},"new"),i.wx.rprm.setConfig({bi:{pagenames:{"cms_design/index":"cms-index","cms_design/design":"cms-design","cms_design/usercenter":"cms-usercenter","cms_search/index":"cms-search","cms_search/result":"cms-search-result","cms_shopinfo/index":"cms-shopinfo","cms_vidlist/index":"cms-vidlist","cms_webview/index":"cms-webview"}}}),s.on("VID_READY",e)}));null==o||o()}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/cmsRPRM.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/cmsSdk.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e,n,r,t=require("../../@babel/runtime/helpers/regeneratorRuntime"),o=require("../../@babel/runtime/helpers/objectSpread2"),i=global.bc("platform","cms"),a=require("./titan-scoped-env.js"),u=require("../../@titan/env.js"),s=require("./auth/index"),l=require("./utils/util"),c=require("./utils/env-live"),d=require("./utils/fetchData"),f=require("./fengtree"),v=require("./utils/ext"),p=a.requirePlatform("cms_sdk").main.SDK,m=function(){var e,n,r=s.session.get(s.constants.WOS_WXAPP_SESSION);p.callYouShuMethod("setUser",{app_id:(null===(e=p.lib.getExtConfigSync())||void 0===e||null===(n=e.form)||void 0===n?void 0:n.appid)||(null==r?void 0:r.appId)||"",open_id:null==r?void 0:r.openId,union_id:null==r?void 0:r.unionId,user_id:String((null==r?void 0:r.wid)||"")}),p.callYouShuMethod("setChan",{chan_wxapp_scene:p.lib.getEnterOptionsSync().scene})},g=[],h=function(){if(!n){var t,i;if(!r)t=r=!0,null===(i=a.titan)||void 0===i||i.stamp("CMS:Login:开始");n=E.login().then((function(n){var r,i;for(t&&(null===(r=a.titan)||void 0===r||r.stamp("CMS:Login:成功")),e=n,m();i=g.shift();){var u={};u[s.constants.WX_HEADER_TOKEN]=e.token,i[0].header=o(o({},i[0].header||{}),u),i[1]()}})).catch((function(e){var n,r;for(t&&(null===(n=a.titan)||void 0===n||n.stamp("CMS:Login:异常"));r=g.shift();)r[2](e);p.showRequestErrorModal({url:"mapi/user/login",code:"error",tip:"2-120100",detail:{list:["login失败",(null==e?void 0:e.message)||"登录失败"]}})})).finally((function(){n=null}))}};p.config("request",{requestTransforms:[[function(n){var r,t,i,u={};if(null!=n&&null!==(r=n.data)&&void 0!==r&&null!==(t=r.extendInfo)&&void 0!==t&&t.source){var d=(0,l.getPlatFormSource)();n.data.extendInfo.source=d}if(n.header=o(o({},n.header||{}),(0,f.getFengTreeField)(n)||{}),e=s.session.get(s.constants.WOS_WXAPP_SESSION))u[s.constants.WX_HEADER_TOKEN]=e.token,1154===(null===(i=a.wx.getEnterOptionsSync())||void 0===i?void 0:i.scene)&&(u[s.constants.X_MAPITOKEN_BYPASS]="true"),n.header=o(o({},n.header||{}),u);else if(!(0,c.isWeimobLiveEnv)()){var v;if(1154!==(null===(v=a.wx.getEnterOptionsSync())||void 0===v?void 0:v.scene))return new a.Promise((function(e,r){n.header=o(o({},n.header||{}),u),g.push([n,e,r]),h()}));u[s.constants.X_MAPITOKEN_BYPASS]="true",n.header=o(o({},n.header||{}),u)}},{name:"login"}]],responseTransforms:[[function(){var r=(0,u.babel_coroutine)(t().mark((function r(i,a,u,l){var f,v,p,m;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(v=(f=l||{}).data,200!==f.status||(0,c.isWeimobLiveEnv)()||!v||1041!=v.errcode){r.next=17;break}return e=null,s.session.clear(s.constants.WOS_WXAPP_SESSION),s.session.clear(s.constants.WX_USER_PROFILE),(0,d.clearPreFetchData)(),n=E.login().finally((function(){n=null})),r.next=9,n;case 9:return p=r.sent,e=p,r.next=13,_(i);case 13:return m=r.sent,function(){var n;for(e=s.session.get(s.constants.WOS_WXAPP_SESSION);n=g.shift();){var r={};r[s.constants.WX_HEADER_TOKEN]=e.token,n[0].header=o(o({},n[0].header||{}),r),n[1]()}}(),l.data=m,r.abrupt("return",l);case 17:case"end":return r.stop()}}),r)})));return function(e,n,t,o){return r.apply(this,arguments)}}(),{name:"login"}]]});var S=function(e){return new a.Promise((function(n){a.setTimeout(n,e)}))};p.fillSDKApi("showUserAgreementModal",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.lib.getCurrentPage().then((function(e){return e||(a.wx.hound.debug({url:"showUserAgreementModalFun",data:{line:"in line 211 no currentPage"}}),a.Promise.reject(new Error("无法在页面上找到【隐私协议弹框】组件，请确认你已经引入currentPage！")))})).then((function(e){var n=e.getPageId(),r=p.getLocalSessionState("userAgreement_".concat(n));return a.wx.hound.debug({url:"showUserAgreementModalFun",data:{pageId:n,line:"in line 226"}}),r||p.lib.whileDone((function(){return new a.Promise((function(e){a.setTimeout((function(){e(p.getLocalSessionState("userAgreement_".concat(n)))}),100)}))}),5)})).then((function(n){return n?n.showModal(e):(a.wx.hound.debug({url:"showUserAgreementModalFun",data:{line:"in line 246 no agreement"}}),a.Promise.reject(new Error("无法在页面上找到【隐私协议弹框】组件，请确认你已经引入agreement！")))})).catch((function(e){return p.reportErrCode({code:"2-120302",data:{data:e},title:"隐私政策组件找不到",level:3}),a.Promise.reject(new Error("无法在页面上找到【隐私协议弹框】组件，请确认你已经引入！"))}))}));var b=function(){var e=(0,u.babel_coroutine)(t().mark((function e(n){var r,o,i,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof a.getCurrentPages){e.next=26;break}if(r=a.getCurrentPages()||[],o=r[r.length-1],e.prev=2,i=null,"function"!=typeof o.selectComponentAsync){e.next=10;break}return e.next=7,null==o?void 0:o.selectComponentAsync("#cms:bindPhone");case 7:i=e.sent,e.next=20;break;case 10:u=0;case 11:if(!(u<5)){e.next=20;break}return e.next=14,S(100);case 14:if(!(i=null==o?void 0:o.selectComponent("#cms:bindPhone"))){e.next=17;break}return e.abrupt("break",20);case 17:u++,e.next=11;break;case 20:return e.abrupt("return",i?i.bindPhone(n):a.Promise.reject(new Error("无法在页面上找到 【手机号绑定】组件，请确认你已经引入！")));case 23:return e.prev=23,e.t0=e.catch(2),e.abrupt("return",a.Promise.reject(new Error("无法在页面上找到【手机号绑定】组件，请确认你已经引入！")));case 26:return e.abrupt("return",a.Promise.reject(new Error("当前小程序环境找不到 getCurrentPages 方法，无法唤起【手机号绑定】组件")));case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(n){return e.apply(this,arguments)}}();p.fillSDKApi("bindPhoneFn",b);var w=function(){var e=(0,u.babel_coroutine)(t().mark((function e(){var n,r,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.wx.getStorageSync("WOS_WXAPP_SESSION"),e.t0=r,e.t0){e.next=6;break}return e.next=5,E.login();case 5:r=e.sent;case 6:if(o=(null===(n=r)||void 0===n?void 0:n.wid)||null){e.next=9;break}throw new Error("no wid");case 9:return e.abrupt("return",{wid:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();p.fillSDKApi("getCurrentUserInfo",w),a.wx.rprm.addInterceptor("apm",(function(e,n){if("wx.request"===e.name){var r,t,i,a,u=(null==n?void 0:n.options)||{},s=u.url,l=u.level,c=u.$level,d=!1,f=(null==n||null===(r=n.result)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.errcode)||0;if("GET"===n.options.method){var v=decodeURIComponent(s.split("?")[1]||"");d=v.includes("level=1")||v.includes("$level=1")}else d=[l,c,null==n||null===(i=n.data)||void 0===i?void 0:i.level,null==n||null===(a=n.data)||void 0===a?void 0:a.$level].some((function(e){return 1===e}));if(0!==Number(f))if(d)e.meta||(e.meta={}),e.meta.error=o(o({},e.meta.error||{}),{},{level:999});else{["/mapi/user/login","/user/loginUserInfo","/mall/base/global/getRecommendVidInfo","/api3/mp-decoration/web/page/queryPageInfo"].some((function(e){return s.includes(e)}))&&(e.meta||(e.meta={}),e.meta.error=o(o({},e.meta.error||{}),{},{level:999}))}}}));var P=p.createRequester({weimobOS:!0}),_=function(e){return p.request(e)},E=new s.Auth({request:P});if(!(0,c.isWeimobLiveEnv)()){var x=function(){var e;(null===(e=s.session.get(s.constants.WOS_WXAPP_SESSION))||void 0===e?void 0:e.token)||h()};(0,v.getExtForm)().is_pre_fetch_open?(0,d.getPreFetchData)().finally((function(){x()})):x(),m(),a.wx.onAppShow((function(e){p.callYouShuMethod("setChan",{chan_wxapp_scene:e.scene})}))}module.exports={CMS:p,auth:E},global.ec(i);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/cmsSdk.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/components/registLogin/api.config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={loginCheck:"/passport/access/check",authLoginEnter:"/passport/access/access",getProtocolModelInfoWithTypes:"/passport/access/v2.0/protocol/getLatest",validateUserPhone:"/passport/v2.0/paas/validateUserPhone",validateUserDecyptPhone:"/passport/v2.0/paas/validateUserPhone",bindPhone:"/passport/v2.0/paas/bindPhone",bindPhoneForLogin:"/passport/v2.0/paas/bindPhoneForLogin",getPhoneAreaCode:"/passport/common/zoneInfoList",forceBndPhone:"/passport/v2.0/paas/forceBndPhone",sendCaptchaCode:"/passport/common/getCode",validateWidWithCodeV2:"/ec/mbp/card/validateWidWithCodeV2",uploadImage:"https://api.weimobwmc.com/media/upload",agreeRecord:"/ec/protocol/agreeRecord",agree:"/passport/access/v2.0/protocol/batchSign",loginout:"/passport/access/exit",authAndLogin:"/passport/v2.0/customer/phone/auth",loginByPhone:"/fe/mapi/user/loginByPhone",getPhoneNumber:"/fe/mapi/user/getPhoneNumber",confirmForAuth:"/fe/mapi/user/confirmForAuth",checkCustomize:"/passport/access/checkCustomize",isAgreeLatest:"/passport/access/v2.0/protocol/hadSignedLatest",confirmChangePhone:"/passport/v4.0/customer/confirmChangePhone"},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/components/registLogin/api.config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/fengtree.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),n=require("./titan-scoped-env.js"),r=n.requirePlatform("cms_sdk").main.SDK,t=n.wx.getLaunchOptionsSync(),i=!1,a=!0,o=0,l=(n.wx.getAccountInfoSync()||{}).version||"",u=t.query.fengTreeVersion||t.query.fengtreeversion,s=t.query.miniVersion,d=r.env();module.exports={getFengTreeField:function(e){var r,c={};if(u&&null!=e&&null!==(r=e.data)&&void 0!==r&&r.basicInfo&&!e.url.includes("getRecommendVidInfo")){var g,m=n.getCurrentPages(),v=m[m.length-1],f=t.path===v.route;if(f&&Number(v.options.vid)&&a)o=m.length,i=!0,c={fengtreeversion:u,miniVersion:"qa"===d&&s||l},(null==e?void 0:e.data)&&(null==e||null===(g=e.data)||void 0===g||!g.queryParameter)&&delete e.data.queryParameter;else!i||o===m.length&&f||(a=!1)}return c}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/fengtree.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/globalPageRprmPub.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2");require("../../@babel/runtime/helpers/Arrayincludes");var r=global.bc("platform","cms"),i=require("./titan-scoped-env.js"),t=require("./utils/env-live"),n=i.requirePlatform("cms_sdk").main.SDK;if(!(0,t.isWeimobLiveEnv)()){n.onUrlChange((function(){var r=i.getCurrentPages()[i.getCurrentPages().length-1].options||{},t={txAd:"txad",chan_id:"chan_id",tx_cps_id:"tx_cps_id",room_id:"room_id",tracepromotionid:"tracepromotionid"},n=Object.keys(t),o={};Object.keys(r).forEach((function(e){n.includes(e)&&(o[t[e]]=r[e])})),Object.keys(o).length&&i.wx.rprm.pubGlobal(e({},o),"new")}))}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/globalPageRprmPub.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof");require("./titan.bootstrap.js");var r=global.bc("platform","cms"),t=require("./cmsSdk"),n=P(require("./weimobopenid/sdk")),o=require("./weimobopenid/index"),i=P(require("./injection")),a=g(require("./injectionLogin"));require("./globalPageRprmPub");var u=require("./cmsRPRM"),l=require("./utils/pathsManage"),s=require("./utils/changeRouteUrl"),c=require("./utils/util"),f=g(require("./utils/request")),d=require("./auth/session"),p=g(require("./utils/cmsWebview"));function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(b=function(e){return e?t:r})(e)}function P(r,t){if(!t&&r&&r.__esModule)return r;if(null===r||"object"!=e(r)&&"function"!=typeof r)return{default:r};var n=b(t);if(n&&n.has(r))return n.get(r);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if("default"!==a&&Object.prototype.hasOwnProperty.call(r,a)){var u=i?Object.getOwnPropertyDescriptor(r,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=r[a]}return o.default=r,n&&n.set(r,o),o}module.exports={innerUtil:{fileDownloadAndOpen:c.fileDownloadAndOpen,closeProtocolModal:c.closeProtocolModal,isCloseProtocolModal:c.isCloseProtocolModal,cmsRequest:f.default},setCMSCommonRPRMParams:u.setCMSCommonRPRMParams,CMS:t.CMS,auth:t.auth,session:d.session,WeimobOpenid:n.default,webviewHandler:n.webviewHandler,weimobOpenidConfig:o.weimobOpenidConfig,injectionCMS:i.default,injectionUserInfo:i.injectionUserInfo,injectionLogin:a.default,throttle:c.throttle,debounce:c.debounce,getCurrentChannelLink:c.getCurrentChannelLink,setPathTransferConfig:l.setPathTransferConfig,getPathTransferConfig:l.getPathTransferConfig,changeRouteUrl:s.changeRouteUrl,getH5Path:s.getH5Path,cmsWebview:p.default},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/injection.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/regeneratorRuntime"),t=global.bc("platform","cms"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.injectionUserInfo=exports.default=void 0;var r=require("../../@titan/env.js"),o=require("./cmsSdk"),a=["cms/auth"],i=n.titan.definePageInjection("auth",(function(t){return{onLoad:function(t){var n=this;return(0,r.babel_coroutine)(e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.indexOf(n.route)>-1||o.auth.pageAuthCheck();case 1:case"end":return e.stop()}}),t)})))()}}}));exports.injectionUserInfo=n.titan.definePageInjection("authUserInfo",(function(t){return{onLoad:function(t){var n=this;return(0,r.babel_coroutine)(e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.indexOf(n.route)>-1)){e.next=4;break}!0,e.next=6;break;case 4:return e.next=6,o.auth.checkIsHaveUserInfo();case 6:case"end":return e.stop()}}),t)})))()}}})),exports.default=i,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/injection.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/injectionLogin.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/regeneratorRuntime"),t=global.bc("platform","cms"),i=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../@titan/env.js"),r=require("./cmsSdk"),o=["cms/auth","cms/new","cms/transform","cms_webview/auth","onecrm/membership","ec_order/order__create","cms_vidlist/index","cms_webview/index","onecrm/membership-rights","ec_quickdeliver/detail","ec_quickdeliver/aggregation","ec_quickdeliver/qrcode_transform","ec_order/goodsPlugin"];i.titan.acquireSharedObject("passport-islogin-status").isLogin=!1;var a=i.titan.definePageInjection("authLogin",(function(t){return{onShow:function(){var t=this,a=this,s=i.titan.acquireSharedObject("passport-islogin-status").isLogin,c=r.CMS.lib.newHoopId().next(),u=function(e,i){r.CMS.addBreadCrumb({type:11,label:3,val:e,belong:t.getPageId(),hoop:c,code:s,data:i})};u(1);var d=function(e){return new i.Promise((function(t){i.setTimeout(t,e)}))},l=function(){var t=(0,n.babel_coroutine)(e().mark((function t(){var i,n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<20)){e.next=10;break}if(!(n=a.selectComponent("#cms:registLogin"))){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,d(100);case 7:i++,e.next=1;break;case 10:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o.indexOf(this.route)<0&&!s?l().then((function(e){u(3),e&&e.loginCheck({bizType:1}).then((function(e){i.getCurrentPages()[i.getCurrentPages().length-1].options.tracepromotionid||(i.titan.acquireSharedObject("passport-islogin-status").isLogin=!0),u(4,e),"notClick"==e?r.CMS.emit("isAuthEndClick",{isClickLogin:!1}):r.CMS.emit("isAuthEndClick",{isClickLogin:!0}),r.CMS.emit("authEnd",!0)})).catch((function(e){u(5,e),r.CMS.emit("authEnd",!1),i.wx.hound.debug({url:"injectionLogin",data:{status:"".concat(e," line75")}})}))})):(u(2),r.CMS.emit("authEnd",!0))}}}));exports.default=a,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/injectionLogin.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'cms/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","cms",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cms/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,n;global.beginDefineBootstrap=!0;var t=global.bc("platform","cms"),o=require("./titan-scoped-env.js"),a=require("./cmsRPRM"),i=require("./utils/env-live"),r=require("./utils/swap"),c=(require("./utils/changeRouteUrl"),require("./cmsSdk"));null===(e=o.titan)||void 0===e||e.stamp("CMS:开始装载"),(0,i.isWeimobLiveEnv)()||(o.titan.setPageInjections(["cms:authLogin"]),o.wx.onPageNotFound((function(e){var n;1154!==(null===(n=o.wx.getEnterOptionsSync())||void 0===n?void 0:n.scene)&&function(){var n=Object.keys(e.query).reduce((function(n,t){return n.push("".concat(t,"=").concat(decodeURIComponent(e.query[t]))),n}),[]).join("&"),t="/"+e.path+"".concat(n?"?":"").concat(n);c.CMS.navigator("=/cms/new?url=".concat(encodeURIComponent(t)))}()})),(0,a.setCMSCommonRPRMParams)(o.titan.getCurrentModuleInfo())),["switchTab","reLaunch","redirectTo","navigateTo"].forEach((function(e){o.titan.addRouteInterceptor(e,{afterInvoke:r.swapUrl.bind(null,e)})})),null===(n=o.titan)||void 0===n||n.stamp("CMS:装载结束"),global.ec(t),global.beginDefineBootstrap=!1,global.emr("cms"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'cms/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/changeRouteUrl.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../@babel/runtime/helpers/objectSpread2"),a=require("../../../@babel/runtime/helpers/toArray"),r=require("../../../@babel/runtime/helpers/slicedToArray"),n=global.bc("platform","cms"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeRouteUrl=p,exports.getH5Path=function(e){return P.apply(this,arguments)};var c=require("../../../@titan/env.js"),l=require("./pathsManage"),o="needWebviewRender=true",u="pathsManage:",s=0,d="MP-WEIXIN";function p(e,t,a,r,n){return h.apply(this,arguments)}function h(){return(h=(0,c.babel_coroutine)(e().mark((function n(c,p,h,P,b){var v,m,f,g,y,x,w,k,U,q,A,I,E,F,T,M,N,Q,R,_,S,W,X,j,B,C,L,H,$,z,O,V,G,Y,D,K,J,Z,ee,te,ae,re,ne,ie,ce,le,oe,ue,se,de,pe,he,Pe,be,ve,me,fe;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=function(){return P?i.Promise.resolve(p.url):i.Promise.resolve()},e.prev=1,m=(0,l.getPathTransferConfig)(),!(f=p.url||"")&&p.originalUrl&&/^package:|platform:/.test(p.originalUrl)&&(g=m.find((function(e){return e.appPathAlias===p.originalUrl})),y=p.originalUrl.split("://")[1],x=(0,l.getUrlPathAndQuery)(y),w=r(x,2),k=w[0],U=w[1],g&&g.appPath&&(k=g.appPath),k=(0,l.getTruePath)(k),m.find((function(e){return e.appPath===k}))&&(f=(0,l.getFullPathByPathAndQuery)(k,U))),q=(0,l.getUrlPathAndQuery)(f),A=r(q,2),I=A[0],E=A[1],I=(0,l.getTruePath)(I),b||!I.startsWith("/pages/")&&["MP-ALIPAY","MP-KS","LIVE_XCX","MP-XHS","MP-DOUYIN"].includes(d)){e.next=9;break}return e.abrupt("return",v());case 9:if(!I.includes("/cms_webview/index")||!E){e.next=33;break}if(F=(0,l.getUrlParams)(f).url||"",!b){e.next=15;break}p.url=F?(0,l.getTrueUrl)(F):F,e.next=31;break;case 15:if(!F){e.next=31;break}if(T=(0,l.getTrueUrl)(F),M=(0,l.getUrlPathAndQuery)(T),N=r(M,2),Q=N[0],R=N[1],!/(weimob|weimobqa|weimobdev)\.com/.test(Q)&&!/qa\.xuprise\.com|wmzhyy\.com/.test(Q)||R.includes(o)){e.next=31;break}if(s=0,!Q.includes(".com/bos")){e.next=30;break}if(_=Q.split(".com/bos/")[1].split("/"),S=a(_),W=S[0],X=S[1],j=S[2],B=S[3],C=S.slice(4),L=(0,l.getTruePath)(C.join("/")),H=(0,l.getUrlParams)(R),!($=m.find((function(e){if(e&&![void 0,null].includes(e.h5Path)){var t,a,r=(null==e?void 0:e.h5ProductName)||(null==e||null===(t=e.parent)||void 0===t?void 0:t.h5ProductName),n=e.h5Path;return e.h5Path.includes("${")&&((null==e?void 0:e.h5PathFields)||(null==e||null===(a=e.parent)||void 0===a?void 0:a.h5PathFields)||[]).forEach((function(e){n=n.replace("${"+e+"}",H[e])})),W===r&&L===n}return!1})))){e.next=28;break}if(!$.notAllowH5ToAppRender){e.next=27;break}return e.abrupt("return");case 27:$&&$.appPath&&!($.webviewRenderChannel||[]).includes(d)&&l.appPathList.includes($.appPath)&&(z=(0,l.getUrlParams)(R),O=z.cmsWebviewVid,R=(0,l.getUrlParamsStr)(t(t({cid:X,productInstanceId:B},z),{},{vid:j&&"0"!==j||!O?j:O})),p.url=(0,l.getFullPathByPathAndQuery)($.appPath,R));case 28:e.next=31;break;case 30:Q.includes(".com/saas/payment/weixinpay")&&(V=m.find((function(e){return(e.isPay||e.isPayPath)&&Q.includes(e.payPath)})))&&l.appPathList.includes(V.appPath)&&(s=1,G=(0,l.getUrlParams)(R),Y=G.vid,D=G.cid,K=G.piid,J=G.cmsWebviewVid,R=(0,l.getUrlParamsStr)(t(t({cid:D,productInstanceId:K},G),{},{vid:Y&&"0"!==Y||!J?Y:J})),p.url=(0,l.getFullPathByPathAndQuery)(V.appPath,R));case 31:e.next=64;break;case 33:if(!(Z=m.find((function(e){return e.appPath===I})))||[void 0,null].includes(Z.h5Path)||!(Z.webviewRenderChannel||[]).includes(d)&&!b){e.next=63;break}return le=(0,l.getUrlParams)(E),oe=(null==Z?void 0:Z.productId)||(null==Z||null===(ee=Z.getProductId)||void 0===ee?void 0:ee.call(Z,le))||(null==Z||null===(te=Z.parent)||void 0===te?void 0:te.productId)||(null==Z||null===(ae=Z.parent)||void 0===ae||null===(re=ae.getProductId)||void 0===re?void 0:re.call(ae,le)),ue=(null==Z?void 0:Z.domainProductName)||(null==Z||null===(ne=Z.parent)||void 0===ne?void 0:ne.domainProductName),se=(null==Z?void 0:Z.h5ProductName)||(null==Z||null===(ie=Z.parent)||void 0===ie?void 0:ie.h5ProductName),(de=Z.h5Path).includes("${")&&((null==Z?void 0:Z.h5PathFields)||(null==Z||null===(ce=Z.parent)||void 0===ce?void 0:ce.h5PathFields)||[]).forEach((function(e){de=de.replace("${"+e+"}",le[e])})),e.next=40,(0,l.getH5LinkField)(f,oe);case 40:if(pe=e.sent,he=pe.cid,Pe=pe.vid,be=pe.piid,le.productInstanceId&&!be&&(be=le.productInstanceId),ve="",ve=(Z.isPay||Z.isPayPath)&&2===s?(0,l.isXuprise)()?"qa"===(0,l.getEnv)()?"https://n.qa.xuprise.com/".concat(Z.payPath):"https://n.wmzhyy.com/".concat(Z.payPath):"https://n".concat("qa"===(0,l.getEnv)()?".saas":"",".weimob").concat("qa"===(0,l.getEnv)()?"qa":"",".com/").concat(Z.payPath):(0,l.isXuprise)()?"qa"===(0,l.getEnv)()?"https://".concat(he,".").concat(ue,".n.qa.xuprise.com/bos/").concat(se,"/").concat(he,"/").concat(Pe,"/").concat(be).concat(de):"https://".concat(he,".").concat(ue,".n.wmzhyy.com/bos/").concat(se,"/").concat(he,"/").concat(Pe,"/").concat(be).concat(de):"https://".concat(he,".").concat(ue,".n").concat("qa"===(0,l.getEnv)()?".saas":"",".weimob").concat("qa"===(0,l.getEnv)()?"qa":"",".com/bos/").concat(se,"/").concat(he,"/").concat(Pe,"/").concat(be).concat(de),Array.isArray(Z.paramsTransfer))try{Z.paramsTransfer.forEach((function(e){le[e[1]]=le[e[0]]}))}catch(e){console.error(u+"转换参数出错",e)}if(void 0!==le.vid&&(le.vid=Pe),E=(0,l.getUrlParamsStr)(t({vid:Pe,cid:he,piid:be,needWebviewRender:!0},le)),!b){e.next=54;break}p.url=(0,l.getFullPathByPathAndQuery)(ve,E),e.next=61;break;case 54:if(me="/cms_webview/index?url=",!1,fe=(0,l.getFullPathByPathAndQuery)(ve,E),e.t0=!1,!e.t0){e.next=60;break}return e.next=59,(0,l.addGlobalPmc)(fe);case 59:fe=e.sent;case 60:p.url=me+encodeURIComponent(fe);case 61:e.next=64;break;case 63:Z||(s=1===s?2:0,console.warn(u+"没有对应的路由配置，检查是否需要配置",p));case 64:e.next=69;break;case 66:e.prev=66,e.t1=e.catch(1),console.error(u+"出错",e.t1);case 69:return e.abrupt("return",v());case 70:case"end":return e.stop()}}),n,null,[[1,66]])})))).apply(this,arguments)}function P(){return(P=(0,c.babel_coroutine)(e().mark((function t(a){var r,n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.url){e.next=14;break}return r=a.url,e.next=4,p("",a,null,!0,!0);case 4:if((n=e.sent)!==r){e.next=7;break}throw new Error("获取h5地址失败");case 7:if((a.isToFusion||null==a.isToFusion)&&(n=(0,l.translateUrlOrigin)(n)),e.t0=a.needPmc||void 0===a.needPmc,!e.t0){e.next=13;break}return e.next=12,(0,l.addGlobalPmc)(n);case 12:n=e.sent;case 13:return e.abrupt("return",n);case 14:return e.abrupt("return","");case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/changeRouteUrl.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/cmsWebview.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/toArray"),r=require("../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../@babel/runtime/helpers/classCallCheck"),n=require("../../../@babel/runtime/helpers/createClass"),a=require("../../../@babel/runtime/helpers/typeof"),i=require("../../../@babel/runtime/helpers/createForOfIteratorHelper"),o=require("../../../@babel/runtime/helpers/slicedToArray"),s=global.bc("platform","cms"),u=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=require("../../../@titan/env.js"),h=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console[e]("cmsWebview:",r,t)},l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return u.Promise.race([e,new u.Promise((function(e,t){u.setTimeout((function(){return t(new Error("超时了!"))}),r)}))])};function f(e){if(e&&"string"==typeof e){var r=e.split("?"),t=o(r,2),n=t[0],a=t[1],s={};if(a){var u,c=a.split("&"),h=i(c);try{for(h.s();!(u=h.n()).done;){var l=u.value;if(""!==l){var f=l.split("=")[0],p=l.slice(f.length+1);-1===l.indexOf("=")?s[f]=void 0:s[f]=p}}}catch(e){h.e(e)}finally{h.f()}}return{path:n,params:s}}}function p(e,r){var t;"object"==a(e)&&(e=(t=e).path,r=t.params);var n=-1===(e=e||"").indexOf("?")?"?":"&";return"object"==a(r)&&(r=Object.keys(r).map((function(e){return void 0===r[e]?"".concat(e):"".concat(e,"=").concat(r[e])})).join("&")),r?[e,r].join(n):e}var v=new(function(){function o(){t(this,o),this.handlerList=[],this.pageOnShowPathConfig={},this.pageRefreshOnShowConfig={}}return n(o,[{key:"addHandler",value:function(e){var r=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){"object"==a(e)&&e.type&&"function"==typeof e.hook?r.handlerList.push(e):h("error","收集勾子失败，确保勾子格式正确",e)}))}},{key:"pageOnShow",value:function(e,r){var t=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){if("object"==a(e)&&e.productName){var n=t[r];n[e.productName]||(n[e.productName]=[]);var i=e.pagePathList||e.h5PathList;(i=Array.isArray(i)?i:[i]).forEach((function(r){"string"==typeof r?n[e.productName].push(r.startsWith("/")?r:"/".concat(r)):h("error","收集需要页面onShow的页面失败，确保格式正确",{config:e,pagePath:r})}))}else h("error","收集需要页面onShow的页面失败，确保格式正确",e)}))}},{key:"notifyPageOnShow",value:function(e){this.pageOnShow(e,"pageOnShowPathConfig")}},{key:"refreshPageOnShow",value:function(e){this.pageOnShow(e,"pageRefreshOnShowConfig")}},{key:"fireSetUrlHandler",value:function(e){var t=this;return(0,c.babel_coroutine)(r().mark((function n(){var a,o,s,u,c,v;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e,(o=t.handlerList.filter((function(e){return"setUrl"===e.type})).map((function(e){return e.hook}))).length){r.next=4;break}return r.abrupt("return",a);case 4:s=i(o),r.prev=5,s.s();case 7:if((u=s.n()).done){r.next=21;break}return c=u.value,r.prev=9,r.next=12,l(c(e,a,{parseFullPath:f,getFullPath:p}));case 12:"string"==typeof(v=r.sent)?(h("log","setUrl勾子执行成功",{originFullPath:e,returnPath:v,hook:c}),a=v):h("warn","setUrl勾子执行成功，但返回undefined或数据类型不对，检查是否正常",{originPath:a,returnPath:v,hook:c}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(9),h("error","setUrl勾子执行异常",{error:r.t0,hook:c});case 19:r.next=7;break;case 21:r.next=26;break;case 23:r.prev=23,r.t1=r.catch(5),s.e(r.t1);case 26:return r.prev=26,s.f(),r.finish(26);case 29:return r.abrupt("return",a);case 30:case"end":return r.stop()}}),n,null,[[5,23,26,29],[9,16]])})))()}},{key:"fireExtendHandler",value:function(e,t,n){var a=this;return(0,c.babel_coroutine)(r().mark((function o(){var s,u,c,l,f;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a.handlerList.filter((function(e){return"extend"===e.type})).map((function(e){return e.hook})),u=!0,s.length){r.next=5;break}return h("error","没用找到extend勾子"),r.abrupt("return",u);case 5:c=i(s),r.prev=6,c.s();case 8:if((l=c.n()).done){r.next=21;break}return f=l.value,r.prev=10,r.next=13,f(e,t,n);case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(10),u=!1,h("error","extend勾子执行异常",{error:r.t0,hook:f});case 19:r.next=8;break;case 21:r.next=26;break;case 23:r.prev=23,r.t1=r.catch(6),c.e(r.t1);case 26:return r.prev=26,c.f(),r.finish(26);case 29:return r.abrupt("return",u);case 30:case"end":return r.stop()}}),o,null,[[6,23,26,29],[10,15]])})))()}},{key:"isExecPageOnShow",value:function(r,t){var n=this[t];if(n&&Object.keys(n).length&&r){var a=f(r),i=a.path,o=a.params;if(-1!==i.indexOf(".com/bos")){var s=i.split(".com/bos/")[1].split("/"),u=e(s),c=u[0],l=(u[1],u[2],u[3],"/"+u.slice(4).join("/"));if(c&&n[c]&&n[c].includes(l))return!0}else if(i.indexOf("/payment/weixinpay")){var p=i.split("/payment/weixinpay")[1];if(n.shop&&n.shop.includes(p))return!0}else h("log","onShow通知，匹配当前页面失败",{path:i,params:o});return!1}return!1}},{key:"isNotifyPageOnShow",value:function(e){return this.isExecPageOnShow(e,"pageOnShowPathConfig")}},{key:"isRefreshPageOnShow",value:function(e){return this.isExecPageOnShow(e,"pageRefreshOnShowConfig")}}]),o}());exports.default=v,global.ec(s);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/cmsWebview.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/env-live.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWeimobLiveEnv=void 0,exports.isWeimobLiveEnv=function(){var e,o,l;return"live"===(null===(e=(o=i.titan).acquireSharedObject)||void 0===e||null===(l=e.call(o,"liveMini"))||void 0===l?void 0:l.name)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/env-live.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/ext.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=require("../../../@babel/runtime/helpers/objectSpread2"),e=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getZfbLoginUserInfo=exports.getLoginUserInfoUrl=exports.getLoginUrl=exports.getExtHost=exports.getExtForm=exports.getExtConfig=void 0;var r=function(){var o,e=t.wx.getExtConfigSync(),r=(function(o){try{var e=o||{},t=e.api,r=e.service;return{mainHost:null==t?void 0:t["host-".concat(r)],mainPrefix:null==t?void 0:t["prefix-".concat(r)]}}catch(o){return{}}}(e)||{}).mainHost;return r||(null==e||null===(o=e.api)||void 0===o?void 0:o.host)};exports.getExtHost=r,exports.getExtForm=function(){var o=t.wx.getExtConfigSync();return(null==o?void 0:o.form)||{}},exports.getExtConfig=function(){var e=t.wx.getExtConfigSync()||{form:{}},r=o({},e);return e&&e.extConfig&&(r=e.extConfig),r.form||(r.form={}),r},exports.getLoginUrl=function(){var o="".concat(r(),"/fe/mapi/all/user/login");return{"MP-WEIXIN":"".concat(r(),"/fe/mapi/user/loginX"),"MP-ALIPAY":"".concat(r(),"/fe/mapi/alipay/user/login"),"MP-XHS":"".concat(r(),"/fe/mapi/xhs/user/login"),"MP-QQ":o,"MP-KS":o,"MP-DOUYIN":o}},exports.getLoginUserInfoUrl=function(){var o="".concat(r(),"/fe/mapi/all/user/loginUserInfo");return{"MP-WEIXIN":"".concat(r(),"/fe/mapi/user/loginUserInfoX"),"MP-ALIPAY":"".concat(r(),"/fe/mapi/alipay/user/loginUserInfo"),"MP-XHS":"".concat(r(),"/fe/mapi/xhs/user/loginUserInfo"),"MP-QQ":o,"MP-KS":o,"MP-DOUYIN":o}},exports.getZfbLoginUserInfo=function(){return"".concat(r(),"/api3/passport/v3.0/customer/miniProgram/commonAuth")},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/ext.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/fetchData.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),t=global.bc("platform","cms"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearPreFetchData=function(){return i.apply(this,arguments)},exports.formatPreFetchData=n,exports.getBackgroundFetchData=u,exports.getPreFetchData=function(){return o.apply(this,arguments)},exports.onBackPreFetchData=c;var a=require("../../../@titan/env.js");function n(e){if(e&&e.fetchedData)try{var t=JSON.parse(e.fetchedData);if("0"==t.errcode){var a=t.data;a&&(r.titan.acquireSharedObject("passport-preFetchData").all=a,Object.keys(a).forEach((function(e){r.titan.acquireSharedObject("passport-preFetchData")[e]=a[e]&&a[e]||null})))}}catch(e){}}function c(){return new r.Promise((function(e,t){if(!r.wx.canIUse("onBackgroundFetchData"))return t();r.wx.onBackgroundFetchData((function(r){r?e(r):t()}))}))}function u(){return new r.Promise((function(e,t){if(!r.wx.canIUse("getBackgroundFetchData"))return t();r.wx.getBackgroundFetchData({fetchType:"pre",success:function(r){r?e(r):t()},fail:function(e){t()}})}))}function o(){return(o=(0,a.babel_coroutine)((function(){return e().mark((function t(){var a;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.titan.acquireSharedObject("passport-preFetchData").all){e.next=2;break}return e.abrupt("return",null);case 2:return c().then((function(e){n(e)})),e.prev=3,e.next=6,u();case 6:(a=e.sent)&&n(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),t,null,[[3,10]])}))()}))).apply(this,arguments)}function i(){return(i=(0,a.babel_coroutine)((function(){return e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(r.titan.acquireSharedObject("passport-preFetchData")).forEach((function(e){r.titan.acquireSharedObject("passport-preFetchData")[e]=""}));case 1:case"end":return e.stop()}}),t)}))()}))).apply(this,arguments)}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/fetchData.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/fileDownloadAndOpen.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","cms"),t=require("../titan-scoped-env.js");function e(o){t.wx.downloadFile({url:o,success:function(o){!function(o){t.wx.openDocument({filePath:o,success:function(o){},fail:function(o){t.wx.showToast({title:"打开文件失败",icon:"none"})}})}(o.tempFilePath)},fail:n})}function n(){t.wx.showToast({title:"下载文件失败",icon:"none"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(o,n,i,s){if(!o)throw t.wx.showToast({title:"文件下载地址必填",icon:"none"}),new Error("文件下载地址必填");if(n&&!i)throw t.wx.showToast({title:"使用自定义文件名时，请指定文件类型",icon:"none"}),new Error("使用自定义文件名时，请指定文件类型");e(o)},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/fileDownloadAndOpen.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/media.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/objectDestructuringEmpty"),t=require("../../../@babel/runtime/helpers/extends"),n=global.bc("platform","cms"),a=require("../titan-scoped-env.js");function o(e,r){return r||(r=a.wx.getStorageSync("WOS_WXAPP_SESSION")),"".concat(e,"?accountType=9&fromType=1&uid=").concat(r.pid||"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={onChooseImage:function(n){var o=t({},(r(n),n));return new a.Promise((function(r,t){a.wx.chooseImage(e(e({count:1,sizeType:["compressed"],sourceType:["album","camera"]},o),{},{success:function(e){return r(e)}}))}))},onUploadImage:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.uploadFile(e(e({name:Math.ceil(1e5*Math.random())+"",header:{accessKey:10232771}},s),{},{success:function(e){return 200===e.statusCode?r(JSON.parse(e.data)):t({errmsg:"上传失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))},onProcessImage:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.rprm.request(e(e({method:"POST",header:{Accept:"application/json","Content-Type":"application/json; charset=utf-8",accessKey:10232771}},s),{},{success:function(e){200===e.statusCode&&0===e.data.code?r(e.data):t({errmsg:"图片调整失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))},onWatermark:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.rprm.request(e(e({method:"POST",header:{Accept:"application/json","Content-Type":"application/json; charset=utf-8",accessKey:10232771}},s),{},{success:function(e){200===e.statusCode&&0===e.data.code?r(e.data):t({errmsg:"水印添加失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/media.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/pathConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),a=require("../../../@babel/runtime/helpers/toConsumableArray"),n=global.bc("platform","cms");Object.defineProperty(exports,"__esModule",{value:!0}),exports.pathConfigList=void 0;var h={introduce:"cms",h5ProductName:"cms",domainProductName:"cms",namespace:"cms",productId:"1",pages:[{appPath:"/cms_design/design",h5Path:"/design/design"},{appPath:"/cms_design/index",h5Path:"/design/index"},{appPath:"/cms_design/usercenter",h5Path:"/design/usercenter"},{appPath:"/cms_vidlist/index",h5Path:"/vidlist"},{appPath:"/cms_vidsearch/index",h5Path:null},{appPath:"/cms_vidsearchlist/index",h5Path:null},{appPath:"/cms_search/index",h5Path:"/search"},{appPath:"/cms_search/result",h5Path:"/search/result"},{appPath:"/cms_shopinfo/index",h5Path:"/shopinfo",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/cms_debug/version",h5Path:null},{appPath:"/cms_debug/door",h5Path:null},{appPath:"/cms_debug/fusion",h5Path:null},{appPath:"/cms_webview/index",h5Path:null},{appPath:"/cms_webview/webview_payment",h5Path:null}]},t={h5ProductName:"onecrm",domainProductName:"crm",namespace:"crm",productId:"146",pages:[{appPath:"/onecrm/user-agreement",h5Path:null,webviewRenderChannel:[]},{appPath:"/onecrm/membership",h5Path:"/membership/index",webviewRenderChannel:[]},{appPath:"/onecrm/membership-rights",h5Path:"/membership/rights",webviewRenderChannel:[]},{appPath:"/onecrm/membership-growth",h5Path:"/membership/growth",webviewRenderChannel:[]},{appPath:"/onecrm/membership-growth-detail",h5Path:"/membership/growth-detail",webviewRenderChannel:[]},{appPath:"/onecrm/membership-userQrcode",h5Path:"/membership/userQrcode",webviewRenderChannel:[]},{appPath:"/onecrm/membership-result",h5Path:"/membership/result",webviewRenderChannel:[]},{appPath:"/onecrm/pdfView",h5Path:"/pdfView",webviewRenderChannel:[]},{appPath:"/onecrm/user-my-guide",h5Path:"/user/my-guide",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/onecrm/user-change-store",h5Path:"/user/change-store",webviewRenderChannel:[]},{appPath:"/onecrm/user-info",h5Path:"/user/info",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/onecrm/user-asset-safe",h5Path:"/user/asset-safe",webviewRenderChannel:[]},{appPath:"/onecrm/user-account-safe-check",h5Path:"/user/account-safe-check",webviewRenderChannel:[]},{appPath:"/onecrm/user-point-detail",h5Path:"/user/point/detail",webviewRenderChannel:[]},{appPath:"/onecrm/user-amount-detail",h5Path:"/user/amount/detail",webviewRenderChannel:[]},{appPath:"/onecrm/user-amount-recharge",h5Path:"/user/amount/recharge",webviewRenderChannel:[]},{appPath:"/onecrm/user-amount-recharge-result",h5Path:"/user/amount/recharge-result",webviewRenderChannel:[]},{appPath:"/onecrm/coupon-list",h5Path:"/coupons/coupon-list",webviewRenderChannel:[]},{appPath:"/onecrm/coupon-detail",h5Path:"/coupons/coupon-detail",webviewRenderChannel:[]},{appPath:"/onecrm/coupon-packet",h5Path:"/coupons/coupon-packet",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/onecrm/coupon-centre",h5Path:"/coupons/centre",webviewRenderChannel:[]},{appPath:"/onecrm/coupon-goods-list",h5Path:"/coupons/goods-list",webviewRenderChannel:[]},{appPath:"/onecrm/coupon-receiving",h5Path:"/coupons/coupon-receiving",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/onecrm/coupon-passing",h5Path:"/coupons/coupon-passing",webviewRenderChannel:[]},{appPath:"/onecrm/token-detail",h5Path:"/coupons/token-detail",webviewRenderChannel:["MP-ALIPAY"]},{appPath:"/onecrm/signgift",h5Path:"/signgift"},{appPath:"/onecrm/memberorder",h5Path:"/memberorder",webviewRenderChannel:[]},{appPath:"/onecrm/orderdetail",h5Path:"/orderdetail",webviewRenderChannel:[]},{appPath:"/onecrm/app-auth",h5Path:"/app-auth",webviewRenderChannel:[]},{appPath:"/onecrm/greetingcard",h5Path:"/birthday",webviewRenderChannel:[]}]},r={h5ProductName:"passport",domainProductName:"passport",namespace:"passport",productId:"1",pages:[{appPath:"/passport/user-account-safe",h5Path:"/user/account-safe",webviewRenderChannel:[]},{appPath:"/passport/user-protocol-detail",h5Path:"/user/protocol-detai",webviewRenderChannel:[]},{appPath:"/passport/user/cancellation",h5Path:"/user/cancellation",webviewRenderChannel:[]},{appPath:"/passport/user/security-center",h5Path:"/user/security-center",webviewRenderChannel:[]},{appPath:"/passport/user/change-phone",h5Path:"/user/change-phone",webviewRenderChannel:[]},{appPath:"/passport/user/address-list",h5Path:"/user/address-list",webviewRenderChannel:[]},{appPath:"/passport/user/address-edit",h5Path:"/user/address-edit",webviewRenderChannel:[]},{appPath:"/passport/user/idcard-edit",h5Path:"/user/idcard-edit",webviewRenderChannel:[]},{appPath:"/passport/user/agreement",h5Path:"/user/agreement",webviewRenderChannel:[]},{appPath:"/passport/user/login",h5Path:"/user/login",webviewRenderChannel:[]}]},p={introduce:"公共营销",h5ProductName:"survey",domainProductName:"survey2",namespace:"hudong",productId:"425",pages:[{appPath:"/hd_survey/main",h5Path:"/survey",webviewRenderChannel:[]},{appPath:"/hd_survey/headoff",h5Path:"/survey/headoff",webviewRenderChannel:[]},{appPath:"/hd_survey/presuccess",h5Path:"/survey",webviewRenderChannel:[]},{appPath:"/hd_survey/success",h5Path:"/survey/submitResult",webviewRenderChannel:[]},{appPath:"/hd_survey/prize",h5Path:"/survey/prizelist",webviewRenderChannel:[]}]},s={introduce:"微留言",h5ProductName:"message",domainProductName:"message2",namespace:"hudong",h5PathFields:["commentInfoId"],productId:"322",pages:[{appPath:"/hd_message/detail",h5Path:"/${commentInfoId}/detail",webviewRenderChannel:[]},{appPath:"/hd_message/index",h5Path:"/${commentInfoId}",webviewRenderChannel:[]},{appPath:"/hd_message/mine",h5Path:"/${commentInfoId}/prizes",webviewRenderChannel:[]},{appPath:"/hd_message/prize",h5Path:"/${commentInfoId}/prizes",webviewRenderChannel:[]},{appPath:"/hd_message/report",h5Path:"/${commentInfoId}/push",webviewRenderChannel:[]},{appPath:"/hd_message/search",h5Path:null,webviewRenderChannel:[]}]},o={h5ProductName:"lego",domainProductName:"lcode",namespace:"hd_lego",h5PathFields:["tmpKey"],getProductId:function(e){return{bigwheel:222,twistEgg:226,egg:207,scratch:210,elimination:214,shake:213,shakedice:212,assistance:337,box:340,redpacket:341,voice:165575,fool:165604,armbandit:344,teacher:165932}[(e||{}).tmpKey]||""},pages:[{appPath:"/hd_lego/index",h5Path:"/${tmpKey}",webviewRenderChannel:["MP-XHS","MP-ALIPAY"],paramsTransfer:[["actId","activityId"]]}]},i={h5ProductName:"bargain",domainProductName:"bargain",productId:224,namespace:"hd_bargain",pages:[{appPath:"/hd_bargain/product",h5Path:"/h5/product",webviewRenderChannel:["MP-XHS","MP-ALIPAY","MP-KS"]},{appPath:"/hd_bargain/index",h5Path:"/h5/index",webviewRenderChannel:["MP-XHS","MP-ALIPAY","MP-KS"]},{appPath:"/hd_bargain/mine",h5Path:"/h5/mine",webviewRenderChannel:["MP-XHS","MP-ALIPAY","MP-KS"]}]};exports.pathConfigList=[].concat(a((h.pages||[]).map((function(a){return e(e({},a),{},{parent:h})}))),a((t.pages||[]).map((function(a){return e(e({},a),{},{parent:t})}))),a((r.pages||[]).map((function(a){return e(e({},a),{},{parent:r})}))),a((p.pages||[]).map((function(a){return e(e({},a),{},{parent:p})}))),a((s.pages||[]).map((function(a){return e(e({},a),{},{parent:s})}))),a((o.pages||[]).map((function(a){return e(e({},a),{},{parent:o})}))),a((i.pages||[]).map((function(a){return e(e({},a),{},{parent:i})})))),global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/pathConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/pathsManage.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../@babel/runtime/helpers/regeneratorRuntime"),n=require("../../../@babel/runtime/helpers/typeof"),r=require("../../../@babel/runtime/helpers/createForOfIteratorHelper");require("../../../@babel/runtime/helpers/Objectvalues");var i=require("../../../@babel/runtime/helpers/toConsumableArray");require("../../../@babel/runtime/helpers/Arrayincludes");var a,o=global.bc("platform","cms"),c=require("../titan-scoped-env.js"),u=require("../../../@titan/env.js"),s=require("./ext"),l=require("./pathConfig"),p=c.requirePlatform("cms_sdk").main.SDK,f=function(){return(0,s.getExtConfig)().form.env||"prod"},d=function(){var e,t,n=(null===(e=(0,s.getExtConfig)())||void 0===e||null===(t=e.api)||void 0===t?void 0:t.host)||"";return n.includes("qa.xuprise.com")||n.includes("wmzhyy.com")},v=i(l.pathConfigList);function m(){var e=[],t=c.titan.getTitanConfig();return(null==t?void 0:t.packages)&&Object.keys(t.packages).forEach((function(n){var r=t.packages[n].pages||{},a=Object.values(r);e=[].concat(i(e),a)})),(null==t?void 0:t.platforms)&&Object.keys(t.platforms).forEach((function(n){var r=t.platforms[n].pages||{},a=Object.values(r);e=[].concat(i(e),a)})),e}function h(e){if(!e)return{};var t,n=e.slice(e.indexOf("?")+1).split("&"),i={},a=r(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(""!==o){var c=o.split("=")[0],u=o.slice(c.length+1);-1===o.indexOf("=")?i[c]=void 0:i[c]=u}}}catch(e){a.e(e)}finally{a.f()}return i}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!=n(e)||null===e)return"";var r=Object.keys(e);return r.length?r.map((function(n){return void 0===e[n]?n:"".concat(n,"=").concat(t?encodeURIComponent(e[n]):e[n])})).join("&"):""}function b(){return(b=(0,u.babel_coroutine)(t().mark((function e(n){var r,i,a,o,c,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getPMCMap(2);case 3:if(r=e.sent,i=n.split("?")[0]||"",a=n.substring(i.length),!(o=h(a)).vid||0===o.vid){e.next=11;break}r.vid&&(r.vid.value=o.vid),e.next=16;break;case 11:if(!r.vid){e.next=16;break}return e.next=14,p.getVidInfo().catch((function(e){return e}));case 14:(c=e.sent).vid?r.vid.value=c.vid:delete r.vid;case 16:return u="",Object.keys(r).forEach((function(e){var t=r[e];u&&(u+="-"),u+=t.type.join("|")+"."+e+"."+(t.ttl||0),void 0!==t.value&&(o[e]=t.value)})),o.pmc?(o.pmc=decodeURIComponent(o.pmc),o.pmc+="-"+u,o.pmc=encodeURIComponent(o.pmc)):(o.pmc=u,o.pmc=encodeURIComponent(o.pmc)),s=i+"?"+g(o),e.abrupt("return",s);case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}a=m(),module.exports={setPathTransferConfig:function(t){t&&Array.isArray(t.pages)?v=[].concat(i((t.pages||[]).map((function(n){return e(e({},n),{},{parent:t})}))),i(v)):console.error("pathsManage:setPathTransferConfig失败,参数格式为{,pages:[]}")},getPathTransferConfig:function(){return v},getAppPathList:m,appPathList:a,getEnv:f,getH5LinkField:function(e,t){var n,r,i,a,o,c=(null===(n=(0,s.getExtConfig)())||void 0===n||null===(r=n.form)||void 0===r||null===(i=r.basicInfo)||void 0===i?void 0:i.cid)||"0",u=null===(a=h(e))||void 0===a?void 0:a.vid;return"0"!==u&&u||(u=(null===(o=p.getVidInfoSync())||void 0===o?void 0:o.vid)||"0"),p.findProductInstanceIdByCID({cid:c,productId:t}).then((function(e){return{cid:c,vid:u,piid:e}}))},getTrueUrl:function e(t){var n="";if(/^http[s]?:\/\//i.test(t))return t;try{n=decodeURIComponent(t)}catch(e){n=t}return/^http[s]?:\/\//i.test(n)||n==t?n:e(n)},getTruePath:function(e){return e?0===e.indexOf("/")?e:"/"+e:e},getUrlParams:h,getUrlPathAndQuery:function(e){if(!e)return["",""];var t=e.split("?")[0],n=e.indexOf("?");return[t,-1===n?"":e.slice(n+1)]},getFullPathByPathAndQuery:function(e,t){return e?t?t.startsWith("?")?e+t:e+"?"+t:e:""},getUrlParamsStr:g,addGlobalPmc:function(e){return b.apply(this,arguments)},isXuprise:d,translateUrlOrigin:function(e){if(e){var t=e.split("?")[0]||"";if(![/\/saas\/payment/,/^https:\/\/n\./].some((function(e){return e.test(t)}))){var n=e.slice(e.indexOf(".com")+4);return"qa"===f()?d()?"https://fusion.n.qa.xuprise.com".concat(n):"https://fusion.n.saas.weimobqa.com".concat(n):d()?"https://fusion.n.wmzhyy.com".concat(n):"https://fusion.n.weimob.com".concat(n)}}return e}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/pathsManage.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t.requirePlatform("cms_sdk").main.SDK.createRequester({weimobOS:!0}),o=["/passport/access/v2.0/protocol/getLatest","/mall/activity/advertisement/queryUsableActivityList","/passport/access/check","/passport/access/checkCustomize","/interactive/qianxi/lcode/shareTicketExport/getOldShareTicketRecord"];r.config({foreverResolve:!0,foreverResolveResultStrategie:function(e,t,r){return r&&r.data?r.data:{}},responseTransforms:[[function(e,r,a,i){var s=i.data||{},n=s.errcode,c=s.errmsg;return"0"!==n&&o.every((function(t){return-1===e.url.indexOf(t)}))&&t.wx.showToast({title:c,icon:"none"}),i?i.data:{}},{name:"cmsRt1"}]],apiHostFromExt:function(e){var r,o,a,i=t.wx.getExtConfigSync();return 0===e.url.indexOf("/fe")?null==i||null===(r=i.api)||void 0===r?void 0:r.host:[null==i||null===(o=i.api)||void 0===o?void 0:o.host,null==i||null===(a=i.api)||void 0===a?void 0:a.prefix].join("")}}),exports.default=r,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/request2.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r.requirePlatform("cms_sdk").main.SDK.createRequester({});t.config({foreverResolve:!0,foreverResolveResultStrategie:function(e,r,t){return t?t.data:{}},responseTransforms:[[function(e,t,o,a){var s=a.data||{},n=s.errcode,c=s.errmsg;return"0"!==n&&r.wx.showToast({title:c,icon:"none"}),a?a.data:{}},{name:"cmsRt2"}]]}),exports.default=t,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/request2.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/swap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/regeneratorRuntime"),n=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loginAndSwapUrl=function(e,r,n){return s.apply(this,arguments)},exports.swapUrl=c;var a,o=require("../../../@titan/env.js"),l=(a=require("./request2"))&&a.__esModule?a:{default:a},i=require("./util"),u=require("../cmsSdk");function s(){return(s=(0,o.babel_coroutine)(r().mark((function e(n,a,o){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.titan.showPageLoading(),e.prev=1,e.next=4,auth.login();case 4:return e.next=6,c(a,{url:n},o);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u.CMS.navigator({url:"/cms_design/index",mode:"reLaunch"});case 11:t.titan.hidePageLoading();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function c(r,n,a,o){var s=(null==o?void 0:o.errMsg)||"";if(!("fail"!==a||s&&-1===s.indexOf("not found"))){if(1154===u.CMS.lib.getEnterOptionsSync().scene)return t.Promise.resolve();if((0,i.isLive)())return t.Promise.resolve();var c=u.CMS.lib.newHoopId().next(),f=function(e,r,n){u.CMS.addBreadCrumb({type:11,label:1,val:e,code:r,hoop:c,data:n})};f(1,n.url);var d=t.wx[r],p=function(r,t,a){var o=e(e({},n),{},{url:r,success:function(e){var a;f(11,r),null==n||null===(a=n.success)||void 0===a||a.call(n,e),t(e)},fail:function(e){var t;console.error("CMS(RouteAfterHook): <".concat(c,"> 执行jumpFunc失败"),e,o),f(12,r),null==n||null===(t=n.fail)||void 0===t||t.call(n,e),a(e)}});f(10,r),d(o)};return n.url&&"/"!==String(n.url).substring(0,1)?new t.Promise((function(e,r){var t=(0,i.getSwapUrl)(n.url);f(2,t),p(t,e,r)})):new t.Promise((function(r,a){var o=t.wx.getExtConfigSync();o.form||a("config.form unfefined"),l.default.post("/mall/base/global/swapUrl",e({queryParameter:{url:n.url}},o.form)).then((function(e){if(e&&"0"===e.errcode&&e.data){var n=e.data,t=n.newUrl,o=n.oldUrl;return t&&t!==o?(t=(0,i.getSwapUrl)(t),f(4,t),void p(t,r,a)):(f(3,t),r(),void p("/cms_design/index",r,a))}var l="CMS(RouteAfterHook): <".concat(c,"> 请求swapUrl报错：").concat((null==e?void 0:e.errmsg)||"未知错误");f(5),a({errMsg:l})})).catch((function(e){var r="CMS(RouteAfterHook): <".concat(c,"> 请求swapUrl报错：").concat((null==e?void 0:e.message)||"未知错误");f(6,void 0,e),a({errMsg:r})}))}))}if("getParams"===a)return new t.Promise((function(r,a){var o=t.wx.getExtConfigSync();o.form||a("config.form unfefined"),l.default.post("/mall/base/global/swapUrl",e({queryParameter:{url:n.url}},o.form)).then((function(e){if(e&&"0"===e.errcode&&e.data){var n=e.data,t=n.newUrl,o=n.oldUrl;t&&t!==o?r(t.split("?")[1]):a({errMsg:"swapUrl解析参数失败"})}else a({errMsg:"swapUrl解析参数失败"})})).catch((function(e){a({errMsg:"swapUrl解析参数失败"})}))}))}global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/swap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/defineProperty"),a=require("../../../@babel/runtime/helpers/typeof"),r=global.bc("platform","cms"),n=require("../titan-scoped-env.js"),t=u(require("./fileDownloadAndOpen")),o=u(require("./media")),i=u(require("./request")),l=require("./env-live");function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(e=e.toString())[1]?e:"0"+e}var c=[];function d(){if(c.length>0)return c;var e=n.titan.getTitanConfig(),a=e.packages,r=e.platforms,t=Object.assign({},a,r),o=[];for(var i in t){var l=t[i].pages;for(var u in l)o.push(l[u])}return c=o,o||[]}function m(){return n.titan?"MP-WEIXIN":window?"H5":void 0}var g="MP-WEIXIN",v="MP-ALIPAY",p="MP-XHS",f="MP-QQ",P="MP-KS",M="MP-BAIDU";module.exports={hexToRGB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null===e)return 0;if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var a="#",r=1;r<4;r+=1)a+=e.slice(r,r+1).concat(e.slice(r,r+1));e=a}for(var n=[],t=1;t<7;t+=2)n.push(parseInt("0x"+e.slice(t,t+2)));return n.join(",")}return e},currentIsDecoratePage:function(){var e,a,r,t=n.getCurrentPages()||[];return r=t.length?null===(e=t[t.length-1])||void 0===e?void 0:e.route:null===(a=n.wx.getLaunchOptionsSync())||void 0===a?void 0:a.path,"/cms_design/design"===(r=(r="/"===(r=String(r||""))[0]?r:"/"+r).split(".")[0])||"/cms_design/index"===r},getTracePromotionId:function(){var e=null;try{e=(n.getCurrentPages()[n.getCurrentPages().length-1]||{options:{}}).options.tracepromotionid}catch(e){}return e},dateFormat:function(e,a){var r=new Date((e||"").replace(/-/g,"/")),n={"M+":r.getMonth()+1,"D+":r.getDate(),"H+":r.getHours(),"i+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};for(var t in/(Y+)/.test(a)&&(a=a.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+t+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return a},fileDownloadAndOpen:t.default,formatDate:function(e){return[(e=new Date(e)).getFullYear(),e.getMonth()+1,e.getDate()].map(s).join("-")},onAssemblyRegionResults:function(e){var a=e.provinceCode,r=void 0===a?"":a,n=e.provinceName,t=void 0===n?"":n,o=e.cityCode,i=void 0===o?"":o,l=e.cityName,u=void 0===l?"":l,s=e.countyCode,c=void 0===s?"":s,d=e.countyName,m=void 0===d?"":d,g=e.areaCode,v=void 0===g?"":g,p=e.areaName,f=void 0===p?"":p;return(r||t)&&(i||u)&&(c||m)&&(v||f)?{num:3,hasResult:!0,results:[{areaCode:r,areaName:t,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:c,areaName:m,name:"area"},{areaCode:v,areaName:f,name:"town"}]}:(r||t)&&(i||u)&&(c||m)?{num:2,hasResult:!0,results:[{areaCode:r,areaName:t,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:c,areaName:m,name:"area"},{areaCode:"",areaName:"",name:"town"}]}:(r||t)&&(i||u)?{num:1,hasResult:!0,results:[{areaCode:r,areaName:t,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}:r||t?{num:0,hasResult:!0,results:[{areaCode:r,areaName:t,name:"province"},{areaCode:"",areaName:"",name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}:{num:0,hasResult:!1,results:[{areaCode:"",areaName:"",name:"province"},{areaCode:"",areaName:"",name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}},media:o.default,getAgreementText:function(e){var a=e.replace(/<[^>]+>/g,"");return a=(a=(a=a.replace(/↵/g,"")).replace(/[\r\n]/g,"")).replace(/&nbsp;/g," ")},getGlobalPages:d,navgatorTransforms:function(e){d().indexOf(e)<0&&i.default.post("/mall/base/global/swapUrl",{queryParameter:{url:e}}).then((function(e){var a=e.errcode,r=e.data;if("0"===a){var n=r.newUrl;CMS.navigator({url:n})}}))},debounce:function(e){var a,r,t,o,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,u=arguments.length>2?arguments[2]:void 0,s=function s(){var c=+new Date-o;c<l&&c>=0?a=n.setTimeout(s,l-c):(a=null,u||(i=e.apply(t,r),a||(t=null,r=null)))};return function(){t=this,r=arguments,o=+new Date;var c=u&&!a;return a||(a=n.setTimeout(s,l)),c&&(i=e.apply(t,r),t=null,r=null),i}},throttle:function(e){var a,r,t,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,l=0;return function(){var u=+new Date;a=this,r=arguments,(o=i-(u-l))<=0?(e.apply(a,r),l=u):(t&&n.clearTimeout(t),t=n.setTimeout((function(){e.apply(a,r),t=null,l=+new Date}),o))}},getSwapUrl:function(e){return e?"/"===e.substring(0,1)?e:"/"+e:""},formatOptionsUrl:function(e){var a=[];for(var r in e)"isQuerst"!=r&&a.push(r+"="+e[r]);return a.length>0?"?"+a.join("&"):""},deepClone:function e(r){var n=Array.isArray(r)?[]:{};if(r&&"object"==a(r))for(var t in r)r.hasOwnProperty(t)&&(r[t]&&"object"==a(r[t])?n[t]=e(r[t]):n[t]=r[t]);return n},getPlatFormChannel:m,getPlatFormSource:function(){var e=m();return e?{"MP-WEXIN":1,H5:2,WEIBO:4,HEADLINE:5,"ALIPAY-H5":6,WX_MINI_PROGRAM:13,"MP-QQ":19,"QQ-H5":20,"MP-ALIPAY":21,"MP-KS":23,"MP-XHS":25,"MP-DOUYIN":31}[e]||1:""},getPlatFormLabel:function(){var e=m();return e&&{"MP-WEXIN":"微信",H5:"H5",WEIBO:"微博",HEADLINE:"字节","ALIPAY-H5":"支付宝webview",WX_MINI_PROGRAM:"微信webview","MP-QQ":"QQ","QQ-H5":"QQ","MP-ALIPAY":"支付宝","MP-KS":"快手","MP-XHS":"小红书","MP-DOUYIN":"抖音"}[e]||""},WeiXin:g,AliPay:v,Xhs:p,QQ:f,KS:P,BaiDu:M,DouYin:"MP-DOUYIN",getCurrentChannelLink:function(r){if("object"==a(r)&&null!==r){var n=e(e(e(e(e(e({},g,"miniUrl"),v,"alipayMiniUrl"),p,"xhsMiniUrl"),M,"baiduMiniUrl"),f,"qqMiniUrl"),P,"ksMiniUrl");return{url:r[n[m()]]||r[n[g]]||"",appId:2===r.linkType&&r.appId?r.appId:void 0}}return{url:r||""}},isLive:function(){return(0,l.isWeimobLiveEnv)()},closeProtocolModal:function(e){var a,r,t=Date.parse(new Date)+60*e*60*1e3;null===(a=(r=n.titan).setRawStorageSync)||void 0===a||a.call(r,"CLOSE_PROTOCOL_MODAL",t)},isCloseProtocolModal:function(){var e,a,r=Date.parse(new Date),t=null===(e=(a=n.titan).getRawStorageSync)||void 0===e?void 0:e.call(a,"CLOSE_PROTOCOL_MODAL");return!!(t&&r<t)}},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/utils/warning.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","cms"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.warningFn=void 0,exports.warningFn=function(r,e,o){var i,c,a,l=t.getCurrentPages(),u=l.length?l[l.length-1]:null,s=t.wx.getExtConfigSync?t.wx.getExtConfigSync():{};t.wx.hound.debug({url:u.route,method:r,error:1,tags:{bosId:(null==s||null===(i=s.form)||void 0===i?void 0:i.basicInfo.bosId)||"",cid:(null==s||null===(c=s.form)||void 0===c||null===(a=c.basicInfo)||void 0===a?void 0:a.cid)||""},data:{err:n(e),location:o}})};var n=function(r,t){if("string"==typeof r)return r;if(r instanceof Error)return"Error:".concat(r.message);try{return JSON.stringify(r)}catch(n){try{return r.toString()}catch(n){try{return"".concat(r)}catch(r){return"string"==typeof t?t:""}}}};global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/utils/warning.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/weimobopenid/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t,n=require("../../../@babel/runtime/helpers/typeof"),r=global.bc("platform","cms"),o=require("../titan-scoped-env.js"),i=require("../cmsSdk"),u=(t=require("../utils/request"))&&t.__esModule?t:{default:t},d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var d=i?Object.getOwnPropertyDescriptor(e,u):null;d&&(d.get||d.set)?Object.defineProperty(o,u,d):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}(require("./sdk")),a=require("../auth/constants");var c={disable:!1};c.disable=null===(e=o.titan.getModuleInitParams())||void 0===e?void 0:e.disableWeimobOepndIdSDK,function(){var e,t;if(c.disable)return(0,d.debug)("未初始化,模块配置disableWeimobOepndIdSDK:true");var n=(null===(e=o.wx.rprm.pvars)||void 0===e?void 0:e.basicInfo)||{},r=n.bosId,s=n.cid;if(!r||!s)return(0,d.debug)("未初始化,未获取到cid或bosId");var f=new d.default({bosId:r,cid:s,env:null===(t=o.wx.rprm.pvars)||void 0===t?void 0:t.env,webviewUrl:"/cms_webview/index",isRetry:!1,whiteList:["/onecrm/coupon-list","/onecrm/coupon-detail","/cms_design/usercenter","/ec_cart/index","/onecrm/membership","/ec_order/order__create"],blackList:["/pages/landing/index","/pages/titan-route-midway/index","/cms/auth","/cms/transform","/cms_webview","/cms_vidlist"],webviewTimeout:1e4,backWhenTimeout:!0,beforeJump:function(){return o.wx.rprm.rec({turn:1,elementid:"pv",eventtype:"view"})},getSession:function(){return u.default.get("/user/check",{},{level:3,weimobOS:!1}).then((function(){return o.wx.getStorageSync(a.WOS_WXAPP_SESSION)}))}});i.CMS.addRecommendVidRequestBeforeHook((function(e){var t=e.currentPage;return new o.Promise((function(e){(0,d.waitLoginXInfo)().then((function(){if((0,d.debug)("CMS.addRecommendVidRequestBeforeHook"),"cms_webview/index"===t.route)return e();f.onPageLoad(t,!1,!0,"hook").then((function(){(0,d.debug)("addRecommendVidRequestBeforeHook resolve"),e()})).catch((function(t){(0,d.debug)("addRecommendVidRequestBeforeHook reject"),e()}))})).catch(e)}))}),{name:"weimobopenid"}),o.wx.onAppRouteDone((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.webviewId,n=e.path;if(!c.disable){if((0,d.debug)("onAppRouteDone ".concat(n)),"cms_webview/index"===n)return(0,d.debug)("当前页面为/cms_webview/index");o.wx.nextTick((function(){if(f.checkAuthed("onAppRoute"))return(0,d.debug)("checkAuthed:true");var e=o.getCurrentPages().pop();if(!e||!e.getPageId||1*e.getPageId().replace(/\D/g,"")!==t)return(0,d.debug)("跳过授权判断：最新页面id与获取时不同");if(f.isNeedAuth(e))try{(0,d.debug)("调用onPageLoad"),f.onPageLoad(e,!0,!1,"onAppRoute").then((function(){e.onLoad(e.options)})).catch((function(e){return(0,d.debug)("调用onPageLoad fail: ".concat(e))}))}catch(e){(0,d.debug)("授权 fail: ".concat(e))}}))}}))}(),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/weimobopenid/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms/RAW/weimobopenid/sdk.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),t=require("../../../@babel/runtime/helpers/classCallCheck"),n=require("../../../@babel/runtime/helpers/createClass"),o=require("../../../@babel/runtime/helpers/objectSpread2"),i=global.bc("platform","cms"),c=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=h,exports.webviewHandler=exports.waitLoginXInfo=exports.default=void 0;var r=Object.prototype.hasOwnProperty,a=wx.getSystemInfoSync()||{},u="https://n.weimob.com/bos/account/wechat/auth",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n="";return Object.keys(e).forEach((function(t){n&&(n+="&"),n+="".concat(t,"=").concat(e[t])})),t?t+(n?"?"+n:""):n},s=null;function h(e){return s?s.addSpan({method:"weimobOpenid",data:e}):s=c.wx.hound.debug({method:"weimobOpenid",data:e},{addSpan:!0}),"weimobOpenid: ".concat(e)}function d(e){var t,n;return h("getPageRoute: ".concat(/^t\//.test(e.route)," ? pagePath-").concat(null===(t=e.data)||void 0===t?void 0:t.pagePath," : route-").concat(e.route)),/^t\//.test(e.route)&&(null===(n=e.data)||void 0===n?void 0:n.pagePath)||e.route}function f(e){return/^\//.test(e)||(e="/"+e),e}var p,g=exports.webviewHandler={config:null,cache:null,loadResolve:null,loadReject:null,update:function(e){var t=this;Object.keys(e).forEach((function(n){return t[n]=e[n]}))},onWebviewLoad:function(e,t){var n,o=this;if(null!==(n=this.cache)&&void 0!==n&&n.currentPage){var i=this.config,r=i.isRetry,a=i.maxRetryCount,u=i.webviewTimeout;this.cache.retryCount++,c.clearTimeout(this.cache.timer),this.cache.timer=c.setTimeout((function(){!r||o.cache.retryCount>=a?("function"==typeof o.config.onFail&&o.config.onFail(),o.config.backWhenTimeout&&c.wx.navigateBack(),h("".concat(u,"ms超时返回原页面"))):(o.cache.retryCount++,e.$webviewRedirect=!0,c.wx.redirectTo({url:"/"+l(t,e.route)}))}),u)}},onWebviewUnload:function(e){var t;!e.$webviewRedirect&&null!==(t=this.cache)&&void 0!==t&&t.currentPage&&(c.clearTimeout(this.cache.timer),this.loadResolve(),this.update({config:null,cache:null,loadResolve:null,loadReject:null}))}},v=null,w={hasOpenId:!0,hasWeimobOpenId:!0,needOpenId:!1,isGlobalAllNeedOpenId:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!e&&p||(p=c.wx.getStorageSync("WOS_WXAPP_SESSION"))};exports.waitLoginXInfo=function(){return new c.Promise((function(e){if(b(),p)return e(p);var t=0,n=c.setInterval((function(){if(b(),p||t>=40)return c.clearInterval(n),e(p||null);t++}),50)}))};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return v||(b(),h("读取loginX缓存：".concat(JSON.stringify(p&&p.authConfig))),p&&p.authConfig?(p.h5AuthUrl&&(u=p.h5AuthUrl),e&&c.titan&&c.titan.setRawStorageSync&&(h("启用mock，数据写入缓存".concat(JSON.stringify(e))),p.authConfig=e,c.titan.setRawStorageSync("WOS_WXAPP_SESSION",p)),v=o({},p.authConfig)):(h("使用兜底数据：".concat(JSON.stringify(w))),w))};exports.default=function(){function o(n){if(t(this,o),this._config={mock:null,env:"production",bosId:null,cid:null,webviewUrl:"/cms_webview/index",webviewQueryName:"url",whiteList:null,blackList:null,authType:"snsapi_base",notSkipMerchantAppid:!1,isContinueWhenTimeout:!0,webviewTimeout:1e4,backWhenTimeout:!0,isRetry:!1,maxRetryCount:0,onFail:null,skipHandler:null,skipOnLive:!0,skipOnMoments:!0,beforeJump:null,getSession:function(){return c.Promise.resolve(c.wx.getStorageSync("cms$WOS_WXAPP_SESSION"))}},this._running=!1,this.cache={retryCount:0,currentPage:null,currentPageOptions:null,timer:null},!n.bosId)throw new Error("new WeimobOpenid() 参数缺少 bosId");for(var i in this._config)r.call(n,i)&&(this._config[i]=n[i]);return"object"!=e(n.mock)&&(this._config.mock=null),h("init"),this}return n(o,[{key:"config",get:function(){return this._config}},{key:"checkAuthed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=m(this._config.mock),n=t.needOpenId,o=t.hasWeimobOpenId,i=t.authed;return h("".concat(e," checkAuthed >> needOpenId:").concat(n,", hasWeimobOpenId:").concat(o,", authed:").concat(i)),!(n||!o)||!!i}},{key:"isNeedAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(c.wx.qy)throw"企业微信环境不授权";if(e.$skipWeimobOpenid)throw"page.$skipWeimobOpenid";var t=this.config,n=t.isRetry,o=t.maxRetryCount,i=t.skipHandler,r=t.skipOnMoments,u=t.skipOnLive,l=this.cache.retryCount,s=c.wx.getLaunchOptionsSync().scene;if(this.checkAuthed())throw"已经授权过或执行过流程";var f=d(e);if(!f)throw"未获取到route";if(!this.checkUrlIsNeedAuth(f))throw"checkUrlIsNeedAuth 页面无需授权";if(u&&"1177"==s)throw"视频号场景";if(r&&"1154"==s)throw"朋友圈场景";if("function"==typeof i&&i())throw"skipHandler";if(!n&&l)throw"放弃重试";if(n&&l>=o)throw"超过重试次数";if("devtools"===a.platform)throw"开发者工具场景";return h("isNeedAuth: true"),!0}catch(e){return h("isNeedAuth: 无需授权-".concat(e)),!1}}},{key:"onPageLoad",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new c.Promise((function(c,r){if(h("onPageLoad Start"),!e)return r("no page");var a=d(e);return t._running?o?(g.loadReject&&g.loadReject(i+"有新的流程覆盖当前回调"),void g.update({loadResolve:c,loadReject:r})):r({msg:"".concat(i," 已有授权流程正在执行"),notFinish:!0}):n||t.isNeedAuth(e)?(t._running=!0,t.cache.currentPage=e,t.cache.currentPageOptions=e.options,g.update({config:t.config,cache:t.cache,loadResolve:c,loadReject:r}),"function"==typeof t.config.beforeJump&&t.config.beforeJump(),void t.goAuth({route:a}).catch((function(e){return r(e)}))):r("".concat(i," 无需授权"))})).then((function(){t._running=!1,h("".concat(i," 授权已完成(webview onUnload)"))})).catch((function(e){throw e.notFinish&&(t._running=!1),h("".concat(i," 授权未完成:").concat(e.msg||e))}))}},{key:"checkUrlIsNeedAuth",value:function(e){var t=this.config,n=t.whiteList,o=t.blackList;if(e=f(e),o)for(var i=0,c=o.length;i<c;i++){var r=o[i];if(r instanceof RegExp?r.test(e):e.indexOf(r)>=0)return h("".concat(e," in black list")),!1}if(m().isGlobalAllNeedOpenId)return h("isGlobalAllNeedOpenId 全部页面开启"),!0;if(n)for(var a=0,u=n.length;a<u;a++){var l=n[a];if(l instanceof RegExp?l.test(e):e.indexOf(l)>=0)return h("".concat(e," white List")),!0}return h("页面判断兜底不授权"),!1}},{key:"goAuth",value:function(e){var t=this,n=e.route;return new c.Promise((function(e,o){n=f(n);var i=t.config,r=i.bosId,a=i.cid,l=i.authType,s=i.webviewUrl,d=i.webviewQueryName,g=i.notSkipMerchantAppid,w=m().needOpenId;h("准备发起网页授权: 获取token"),t.config.getSession().then((function(e){if(h("获取token: ".concat(e&&e.token)),!e||!e.token||!r)return o("未获取到token");var t="".concat(u,"?bosId=").concat(r,"&cid=").concat(a,"&xapptoken=").concat(e.token,"&authType=").concat(l);(w||g)&&(t+="&notSkipMerchantAppid=true"),h("H5 URL >>>: ".concat(t));var n="".concat(s,"?passpmcparams=true&$disableRecommendVid=1&").concat(d,"=").concat(encodeURIComponent(t));h("跳转webview"),c.wx.navigateTo({url:n,success:function(){v&&(v.authed=!0,b(!0),p&&p.authConfig&&(p.authConfig.authed=!0,c.titan.setRawStorageSync("WOS_WXAPP_SESSION",p)))}})})).catch((function(e){throw"获取token失败， ".concat(e)}))}))}}]),o}(),global.ec(i);
},{isPage:false,isComponent:false,currentFile:'cms/RAW/weimobopenid/sdk.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/cms/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../../../@titan/env.js").createModuleEnv("platform","cms",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/cms/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/components/couponPopup/api.config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={getPromotionConfigInfo:"/mall/promotion/exact/getPromotionConfigInfo",queryPromotionMessageList:"/mall/promotion/exact/queryPromotionMessageList"},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/components/couponPopup/api.config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/components/skuComponent/api.config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),a=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={queryIncreaseBuySku:(0,a.requirePlatform("ec").main.utils.getPrefix)("/mall/navigation/redemption/queryMutualPromotionDetail"),addCartGoods:"/mall/trade/cart/addCartGoods",initConfirmOrder:"/mall/trade/confirm/initConfirmOrder",getGoodsSkuInfo_v3:"/mall/navigation/goods/v3/skuInfo",getLatestFulfillDate:"/mall/navigation/cycle/getLatestFulfillDateStr",stockAvailableSubscribe:"/mall/navigation/goods/skuInfo/stockAvailableSubscribe",queryGoodsPreDelivery:"/mall/navigation/delivery/queryGoodsPreDelivery",getExpectedPriceForSku:"/mall/navigation/goods/queryExpectedPriceForSku"};exports.default=o,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/components/skuComponent/api.config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/components/skuComponent/types/base.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../../../@babel/runtime/helpers/slicedToArray"),r=require("../../../../../../../@babel/runtime/helpers/toArray"),t=require("../../../../../../../@babel/runtime/helpers/classCallCheck"),s=require("../../../../../../../@babel/runtime/helpers/createClass"),a=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseClass=void 0,exports.BaseClass=function(){function a(){t(this,a),this.__classArr=[],this.__getters=[]}return s(a,[{key:"init",value:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(e).forEach((function(t){var s=e[t];null!=s&&(r[t]=s)})),t&&this.transform(),this.setGetters()}},{key:"transform",value:function(){var e=this;this.__classArr.length>0&&(this.__classArr.forEach((function(t){var s=r(t),a=s[0],i=s[1],l=s.slice(2),n=e[a];l.length>0&&(n={},l.forEach((function(r){n[r]=e[r]||{}}))),e[a]=Array.isArray(n)?n.map((function(e){return new i(e,!0)})):new i(n||{},!0)})),delete this.__classArr)}},{key:"setGetters",value:function(){var r=this;this.__getters.length>0&&(this.__getters.forEach((function(t){var s=e(t,2),a=s[0],i=s[1];Object.defineProperty(r,a,{get:i,enumerable:!0})})),delete this.__getters)}}]),a}(),global.ec(a);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/components/skuComponent/types/base.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/components/skuComponent/types/class/installment.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../../../../@babel/runtime/helpers/createClass"),r=require("../../../../../../../../@babel/runtime/helpers/classCallCheck"),l=require("../../../../../../../../@babel/runtime/helpers/inherits"),t=require("../../../../../../../../@babel/runtime/helpers/createSuper"),s=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.InstallmentInfoRes=void 0;var a=function(s){l(i,s);var a=t(i);function i(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r(this,i),(e=a.call(this)).init(l,t),e}return e(i)}(require("../base").BaseClass);exports.InstallmentInfoRes=a,global.ec(s);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/components/skuComponent/types/class/installment.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/components/skuComponent/util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../../../../@babel/runtime/helpers/objectSpread2"),o=global.bc("platform","ec"),i=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.preAuth=exports.isValidNum=exports.isRMB=exports.isEmptyObject=exports.getSkuShowPrice=exports.getSkuNum=exports.getSkuInfo=exports.getLoginInstance=exports.getInstallmentParam=exports.getInstallmentInfo=exports.getIncreaseBuySku=exports.getExpectedPrice=exports.getCurrentPageOptions=exports.fetchCommon=exports.cartRprmRec=exports.buyRprmRec=void 0;var r,n=require("../../../../../../@titan/env.js"),d=(r=require("./api.config.js"))&&r.__esModule?r:{default:r},u=require("./types/class/installment"),a={storeVidMode:!0},s=i.requirePlatform("ec").main,l=s.ecStore.state.merchantSetting,c=s.ecRequest,p=s.utils,v=p.getMock,g=p.getPrefix,y=p.getTraceLabelList,m=i.requirePlatform("cms").main.CMS,I=function(){var e;return"CNY"===(null==l||null===(e=l.currencyVo)||void 0===e?void 0:e.code)};exports.isRMB=I;var x=function(e,t){var o,i,r,n,d;return e?e.currProduct?null===(o=e.currProduct)||void 0===o||null===(i=o.skuPrices)||void 0===i||null===(r=i[t])||void 0===r?void 0:r.value:null===(n=e.prices)||void 0===n||null===(d=n[t])||void 0===d?void 0:d.value:0};exports.getSkuShowPrice=x;var b=function(e){return(null!=e&&e.currProduct?e.currProduct.buyNum:e.buyNum)||1};exports.getSkuNum=b;var f=function(){var e=i.getCurrentPages();return e[e.length-1].options};exports.getCurrentPageOptions=f,exports.getInstallmentParam=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spuPrice",i=x(e,o)||0,r=b(e);return I()&&e.fenQiPayment&&!e.isDeleted&&i*r>1?{currency:null==l||null===(t=l.currencyVo)||void 0===t?void 0:t.code,b2cGoodsType:e.b2cGoodsType,goodsBizType:e.goodsBizType,amount:i,goodsNum:r}:null};var _=function(e){var t=e.url,o=e.param,i=void 0===o?{}:o,r=e.options,n=void 0===r?a:r,d=e.classname,u=void 0===d?null:d;return v()&&(i.mock="213"),c.post(g(t),i||{},n||{}).then((function(e){var t=e||{},o=t.errcode,i=t.data;if(0==o)return u&&i?new u(i,!0):i}))};exports.fetchCommon=_,exports.getInstallmentInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t({},a);return _({url:d.default.getInstallmentInfo,param:e,options:o,classname:u.InstallmentInfoRes})},exports.getSkuInfo=function(){var e,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=f(),u=t({basicInfo:t({productId:145},i.extra),queryParameter:{bizCode:null!==(e=null!==(o=i.bizCode)&&void 0!==o?o:n.bizCode)&&void 0!==e?e:"",goodsId:i.id||i.goodsId,activityId:i.activityId||"",activityType:i.activityType||"",extParameter:i.extParameter||{},ruleType:i.ruleType},bizVid:i.vid||""},r||{});return c.post(d.default.getGoodsSkuInfo_v3,u,{storeVidMode:!0})},exports.getIncreaseBuySku=function(){var e,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f(),u=t({basicInfo:t({productId:145},i.extra),queryParameter:{bizCode:null!==(e=null!==(o=i.bizCode)&&void 0!==o?o:n.bizCode)&&void 0!==e?e:"",goodsId:i.id||i.goodsId,activityId:i.activityId||"",activityType:i.activityType||"",extParameter:i.extParameter||{},ruleType:i.ruleType,skuId:i.skuId},bizVid:i.vid||""},r||{});return c.post(d.default.queryIncreaseBuySku,u,{storeVidMode:!0})},exports.getExpectedPrice=function(){var e,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=f(),s=t({basicInfo:t({productId:145},i.extra),skuId:r.id,bizCode:null!==(e=null!==(o=i.bizCode)&&void 0!==o?o:a.bizCode)&&void 0!==e?e:"",goodsId:i.id||i.goodsId,activityId:i.activityId||"",activityType:i.activityType||"",extParameter:i.extParameter||{},vid:i.vid||"",bizVid:i.vid||"",belongVid:i.belongVid||"",cycleGoodsBizId:(null==n?void 0:n.bizId)||""},u||{});return c.post(d.default.getExpectedPriceForSku,s,{storeVidMode:!0})},exports.buyRprmRec=function(e,o,r,n){var d=e.goodsId,u=e.goodsPromotionType,a=void 0===u?1:u,s=r.id,l=r.buyNumber,c=r.preSellGoodsInfo,p=void 0===c?{}:c;i.wx.rprm.rec(t({en:"buynow",eventtype:"tap",elementid:"buynow",goodsid:d,goods_type:1==(null==p?void 0:p.depositPayType)?"qkys":null!=p&&p.depositPayType?"djys":2==a?"zqg":"",skuid:s,vid:e.vid||"",bizVid:e.vid||"",cartskunum:l,bizcode:o.bizCode||"",groupBizId:n.groupBizId||"",groupBizType:n.groupBizType||"",activityid:e.activityId||"",activitytype:e.activityType||""},o.rprmInfo||{}))},exports.cartRprmRec=function(e,o,r,n){var d,u,a,s,l,c,p,v,g,I,x,b,f=e.goodsId,_=e.goodsPromotionType,P=void 0===_?1:_,h=e.title,k=e.categoryTree,T=r.id,z=r.buyNumber,C=r.preSellGoodsInfo,S=void 0===C?{}:C,q=r.skuId,R=(r.activityType,r.skuPrices),V=y("dcGuideTicket"),j=i.getCurrentPages()[i.getCurrentPages().length-1].options;null==m||null===(d=m.nativeReportEvent)||void 0===d||d.call(m,"wxdata_purchase_goods",{spu_id:T,spu_name:h||"",sku_id:q,sku_name:h||"",price_original:parseInt(String(100*((null==R||null===(u=R.deletePrice)||void 0===u?void 0:u.value)||0)),0),price_current:parseInt(String(100*((null==R||null===(a=R.showPrice)||void 0===a?void 0:a.value)||0)),0),action_type:0,action_num:z,is_goods_page:1,spu_catg_first_id:(null==k?void 0:k.categoryId)||"",spu_catg_first_name:(null==k?void 0:k.categoryName)||"",spu_catg_second_id:(null==k||null===(s=k.childrenCategory)||void 0===s?void 0:s.categoryId)||"",spu_catg_second_name:(null==k||null===(l=k.childrenCategory)||void 0===l?void 0:l.categoryName)||""},"we"),i.wx.rprm.rec(t(t({en:"cart",elementid:"cart",eventtype:"tap",action_type:"ADD_TO_CART",goodsid:f,skuid:T,cartskunum:z,vid:e.vid||"",bizVid:e.vid||"",activityid:e.activityId||"",activitytype:e.activityType||"",title:e.title||"",goods_type:1==(null==S?void 0:S.depositPayType)?"qkys":null!=S&&S.depositPayType?"djys":2==P?"zqg":"",guiderwid:(null===(c=V[0])||void 0===c?void 0:c.attachId)||"",mat_id:(null===(p=V[0])||void 0===p||null===(v=p.attachment)||void 0===v?void 0:v.mat_id)||"",cyclic_quest_id:(null===(g=V[0])||void 0===g||null===(I=g.attachment)||void 0===I?void 0:I.cyclic_quest_id)||"",guidergoodsid:(null===(x=V[0])||void 0===x||null===(b=x.attachment)||void 0===b?void 0:b.guidergoodsid)||"",tjindex:j.tjindex||"",tjtype:j.tjtype||"",pageid:j.pageid||"",bizcode:o.bizCode||""},o.rprmInfo||{}),o.extra||{})),m.callYouShuMethod("track","add_to_cart",{action_type:"append_to_cart",sku:{sku_id:T.toString(),sku_name:e.title||" "},spu:{spu_id:f.toString(),spu_name:e.title||" "},sku_num:z||n.cartSkuNum})},exports.isEmptyObject=function(e){return 0===Object.keys(e||{}).length},exports.isValidNum=function(e){return!(!e&&e+""!="0")},exports.preAuth=function(){return!0},exports.getLoginInstance=function(){var t=(0,n.babel_coroutine)(e().mark((function t(){var o,r,n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.getCurrentPages(),r=o[o.length-1],e.next=4,r.selectComponentAsync("#cms:registLogin");case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/components/skuComponent/util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../@babel/runtime/helpers/typeof");require("./titan.bootstrap.js");var r=global.bc("platform","ec"),i=T(require("./utils/calcDownTime")),n=T(require("./utils/downTime")),u=T(require("./utils/event")),a=m(require("./utils/getSDKVersion")),o=T(require("./utils/media")),l=require("./utils/titanMedia"),s=m(require("./utils/pageRequest")),c=m(require("./utils/validator")),f=require("./utils/goodsDetailUtils"),d=require("./utils/recommendGuider"),p=require("./components/skuComponent/util"),g=T(require("./utils/aliTokenInterceptor")),q=T(require("./utils/switchPageTraffic")),y=require("./utils/containerType");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function m(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=t(e)&&"function"!=typeof e)return{default:e};var i=b(r);if(i&&i.has(e))return i.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,i&&i.set(e,n),n}function T(e){return e&&e.__esModule?e:{default:e}}module.exports=e(e({calcDownTime:i.default,downTime:n.default,event:u.default,getSDKVersion:a.default,newerVersion:a.newerVersion},o.default),{},{titanMedia:l.titanMedia,validator:c.default,mobileVerify:c.mobileVerify,pageRequest:s,getCycleSendTimeStr:f.getCycleSendTimeStr,contactGuider:d.contactGuider,getSkuInfo:p.getSkuInfo,aliTokenInterceptor:g.default,switchPageTraffic:q.default,ContainerType:y.ContainerType,getContainerType:y.getContainerType}),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../../../@titan/env.js").createModuleEnv("platform","ec",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var e=global.bc("platform","ec");global.ec(e),global.beginDefineBootstrap=!1,global.emr("ec");
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/aliTokenInterceptor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;t.requirePlatform("cms").main.auth;t.getApp(),exports.default=function(e){return function(e){return e}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/aliTokenInterceptor.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/calcDownTime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Date.now()+t,n=e-r;if(n<=0)return{h:"00",m:"00",s:"00",d:"0",dh:"00",leftTime:n};function a(e){return e<10?"0"+e:e}return{h:a(parseInt(n/1e3/60/60,10)),m:a(parseInt(n/1e3/60%60,10)),s:a(parseInt(n/1e3%60,10)),d:parseInt(n/1e3/60/60/24,10),dh:a(parseInt(n/1e3/60/60%24,10)),leftTime:n}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/calcDownTime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/containerType.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),n=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContainerType=exports.ContainerType=void 0,exports.ContainerType=function(e){return e.easyHalfScreen="easyHalfScreen",e.halfScreen="halfScreen",e.halfScreenGrayscale="halfScreenGrayscale",e}({}),exports.getContainerType=function(e){var r;if("function"==typeof(null===(r=n.wx)||void 0===r?void 0:r.getContainerType))return n.wx.getContainerType(e);console.error("wx.getContainerType is not a function")},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/containerType.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/downTime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(e,b,s){var t=parseInt(e/1e3/60/60/24,10),a="day"==b?parseInt(e/1e3/60/60%24,10):parseInt(e/1e3/60/60,10),c=parseInt(e/1e3/60%60,10),n=parseInt(e/1e3%60,10);function r(e){return e<10&&(e="0"+e),e}return t=r(t),a=r(a),c=r(c),n=r(n),s?"day"==b?["<b class='theme-bgc'>",t,"</b>:<b class='theme-bgc'>",a,"</b>:<b class='theme-bgc'>",c,"</b>:<b>",n,"</b>"].join(""):["<b class='theme-bgc'>",a,"</b>:<b class='theme-bgc'>",c,"</b>:<b class='theme-bgc'>",n,"</b>"].join(""):"day"==b?["<b>",t,"</b><span>天</span><b>",a,"</b>时<b>",c,"</b>分<b>",n,"</b>秒"].join(""):["<b>",a,"</b>时<b>",c,"</b>分<b>",n,"</b>秒"].join("")},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/downTime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/event.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/classCallCheck"),l=require("../../../../../@babel/runtime/helpers/createClass"),t=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=new(function(){function t(){e(this,t),this.callbacks={}}return l(t,[{key:"set",value:function(e,l){e&&e in this.callbacks&&this.callbacks[e](l)}},{key:"on",value:function(e,l){return!(!e||"function"!=typeof l)&&(this.callbacks[e]=l,!0)}}]),t}()),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/event.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/getSDKVersion.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),r=require("../titan-scoped-env.js");function t(e,r){var t=e.split("."),n=r.split(".");return parseInt(t[0])>n[0]||!(parseInt(t[0])<n[0])&&(parseInt(t[1])>n[1]||!(parseInt(t[1])<n[1])&&parseInt(t[2])>=n[2])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var n=r.wx.rprm.systemInfo.SDKVersion;return n?e?t(n,e):n:null},exports.newerVersion=t,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/getSDKVersion.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/goodsDetailUtils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCycleSendTimeStr=void 0,exports.getCycleSendTimeStr=function(e,t){return-1!==[1].indexOf(t)?["每天"]:-1!==[3,4].indexOf(t)?e+"日":["周日","周一","周二","周三","周四","周五","周六","周日"][e]},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/goodsDetailUtils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/media.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../../../@babel/runtime/helpers/objectDestructuringEmpty"),t=require("../../../../../@babel/runtime/helpers/extends"),n=global.bc("platform","ec"),a=require("../titan-scoped-env.js");function o(e,r){return r||(r=a.wx.getStorageSync("WX_SESSION_WXAPP_SESSION")),"".concat(e,"?accountType=9&fromType=1&uid=").concat(r.pid||"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={onChooseImage:function(n){var o=t({},(r(n),n));return new a.Promise((function(r,t){a.wx.chooseImage(e(e({count:1,sizeType:["compressed"],sourceType:["album","camera"]},o),{},{success:function(e){return r(e)}}))}))},onUploadImage:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.uploadFile(e(e({name:Math.ceil(1e5*Math.random())+"",header:{accessKey:"10232771"}},s),{},{success:function(e){return 200==e.statusCode?r(JSON.parse(e.data)):t({errmsg:"上传失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))},onProcessImage:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.rprm.request(e(e({method:"POST",header:{Accept:"application/json","Content-Type":"application/json; charset=utf-8",accessKey:"10232771"}},s),{},{success:function(e){200==e.statusCode&&0===e.data.code?r(e.data):t({errmsg:"图片调整失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))},onWatermark:function(n,c){var s=t({},(r(n),n));return new a.Promise((function(r,t){s.url=o(s.url,c),a.wx.rprm.request(e(e({method:"POST",header:{Accept:"application/json","Content-Type":"application/json; charset=utf-8",accessKey:"10232771"}},s),{},{success:function(e){200==e.statusCode&&0===e.data.code?r(e.data):t({errmsg:"水印添加失败"})},fail:function(e){t({errcode:1,errmsg:e.errmsg,data:null})}}))}))}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/media.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/pageRequest.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),o=require("../../../../../@babel/runtime/helpers/objectWithoutProperties"),t=["bizVid"],r=global.bc("platform","ec"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearPageData=function(){s.dispatch("storeAction",{preFetch$:{gdMain:null,goodsData:null}})},exports.fetchMainData=c,exports.getGoodsDetailInfo=function(r){var i={},u=r.urls.indexOf("/goodsDetail/queryPageInfo")>=0;i[r.valKey]=null,u&&(i.gdMain=null);var p=r.params,f=p.bizVid,v=void 0===f?"":f,g=o(p,t),b=e(e({},g||{}),{},{newStyle:d,level:1,source:a.titan.getContext().source,mock:!1}),m={queryParameter:b,bizVid:v,basicInfo:{productId:145}};i[r.valKey]=new a.Promise((function(o,t){n.post(r.urls,m,{storeVidMode:!0,level:1}).then((function(t){if("0"===t.errcode){var n;if(null!==(n=t.data.goodsBasicInfo)&&void 0!==n&&n.isDelete)return void l.navigator("=/ec_goodsAbout/noDetail","redirectTo");o(t),r.valKey,u&&(i.gdMain=new a.Promise((function(o,t){var r=a.wx.storeId==a.wx.headStoreId?1:2,i=e(e({},b),{},{storeType:r,moduleId:1,moduleVersion:3}),n={bizVid:v,basicInfo:{productId:145}};c(e({queryParameter:e({},i)},n),o)})))}else o({}),r.valKey}))})),s.dispatch("storeAction",{preFetch$:i})},exports.getPageData=function(e,o){},exports.isGdNewStyle=void 0,exports.setPageData=function(e,o){};var i=a.requirePlatform("ec").main,n=i.ecRequest,s=i.ecStore,l=a.requirePlatform("cms").main.CMS,d=exports.isGdNewStyle=!0;function c(e,o){n.post("/mall/navigation/goods/goodsDetail/queryModuleData",e,{storeVidMode:!0,level:1}).then((function(e){"0"===e.errcode?o(e):o({})}))}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/pageRequest.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/recommendGuider.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.recommendGuider=exports.contactGuider=void 0;var n=require("../../../../../@titan/env.js"),i=t.requirePlatform("titian-mp").main.$tiToast,o=t.requirePlatform("cms").main.CMS,a=t.requirePlatform("ec").main,u=a.ecRequest,s=a.utils,c=s.isDiversionModeByCMS,d=s.getDiversionStoreVid,m=exports.recommendGuider=function(){var r=(0,n.babel_coroutine)(e().mark((function r(n){var i,o,a,s,m,l,p,v,f,g;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({mode:"goodsDetail"},n),i={},n.basicInfo&&(i.basicInfo=n.basicInfo),"diversion"!==n.mode){e.next=7;break}i.serviceVid=n.diversionVid,e.next=17;break;case 7:return e.next=9,c();case 9:if(!(o=e.sent)){e.next=17;break}if(a=d()){e.next=16;break}return s="/ec_store/store__service?mode=recommend-guider",n.goodsId&&(s+="&goodsId=".concat(n.goodsId)),e.abrupt("return",t.Promise.resolve({type:1,path:s}));case 16:i.serviceVid=a;case 17:return e.prev=17,e.next=20,function(e){return u.post("/mall/guide/app/queryRecommendGuiderRule",e).then((function(e){var r;return 0!=+e.errcode?t.Promise.reject(e):t.Promise.resolve(null!==(r=null==e?void 0:e.data)&&void 0!==r?r:{})}))}(i);case 20:if(m=e.sent,l=m.hasGuider,p=m.openBusinessType,v=m.guiderInfo,2!==p){e.next=35;break}if(!l){e.next=27;break}return e.abrupt("return",t.Promise.resolve({type:1,path:"/ec_guider/recommend_guider__list"}));case 27:if("recommendPage"!==n.mode){e.next=29;break}return e.abrupt("return",t.Promise.resolve({type:1,path:"/ec_guider/recommend_guider__list"}));case 29:return e.next=31,function(e){return u.post("/mall/guide/app/queryGuiderRoleName",e).then((function(e){var r;return t.Promise.resolve(null!==(r=null==e?void 0:e.data)&&void 0!==r?r:"导购")})).catch((function(){return t.Promise.resolve("导购")}))}(i);case 31:return f=e.sent,g="所在门店内无".concat(f),("diversion"===n.mode||o)&&(g="所选的服务门店内无".concat(f,"，请重新选择")),e.abrupt("return",t.Promise.resolve({type:2,toast:g}));case 35:if(3!==p||!v){e.next=37;break}return e.abrupt("return",t.Promise.resolve({type:1,path:"/ec_guider/recommend_guider__info?guiderWid=".concat(v.guiderWid,"&guiderVid=").concat(v.guiderVid)}));case 37:e.next=42;break;case 39:return e.prev=39,e.t0=e.catch(17),e.abrupt("return",t.Promise.reject(e.t0));case 42:case"end":return e.stop()}}),r,null,[[17,39]])})));return function(e){return r.apply(this,arguments)}}();exports.contactGuider=function(e){return o.showLoading(),m(e).then((function(r){if(1===r.type){var t=r.path;"recommendPage"===e.mode&&(t="="+t),o.navigator(t)}return 2===r.type&&i().info(r.toast),r})).catch((function(r){console.warn(r),"recommendPage"===e.mode&&o.navigator("<")})).finally((function(){o.hideLoading()}))},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/recommendGuider.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/switchPageTraffic.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t.requirePlatform("cms").main.CMS;exports.default=function(e,r,o){return a.post("/mall/navigation/system/page/switchResult",{queryParameter:e},{weimobOS:!1,disableBelongPageRequestTransforms:!0}).then((function(e){var a,i,c=(null==e||null===(a=e.data)||void 0===a?void 0:a.data)||{},s=c.switchResult;c.mode,c.templateId,c.templateType;r&&o&&(t.wx.setStorage({key:"switchPageTraffic-".concat(o),data:JSON.stringify((null==e||null===(i=e.data)||void 0===i?void 0:i.data)||{})}),t.wx.setStorage({key:"switchPageTraffic-".concat(o,"-timeStamp"),data:Date.now()}));return{switchResult:s||0}})).catch((function(e){return console.error("switchPageTraffic error!",e),r&&o&&(t.wx.removeStorage({key:"switchPageTraffic-".concat(o)}),t.wx.removeStorage({key:"switchPageTraffic-".concat(o,"-timeStamp")})),{switchResult:0}}))},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/switchPageTraffic.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/titanMedia.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,r=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../../../@babel/runtime/helpers/objectSpread2"),n=global.bc("platform","ec"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.titanMedia=void 0;var o,u,c,s,i=require("../../../../../@titan/env.js"),p=null===(e=a.requirePlatform("titan-media").main)||void 0===e?void 0:e.TitanMedia,l=a.requirePlatform("cms").main.CMS,f=null,d=function(){var e=(0,i.babel_coroutine)(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getVidInfo();case 2:return a=e.sent,e.abrupt("return",t({riskReq:{accountType:15,uid:a.bosId},basicInfo:t({},a)},n));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function m(e){return b.apply(this,arguments)}function b(){return(b=(0,i.babel_coroutine)(r().mark((function e(n){var o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return",f);case 2:return n=n||{},o=a.wx.getExtConfigSync().api.host,e.next=6,d();case 6:return u=e.sent,f=new p(t({token:!0,autoUpload:!1,preUploadUrl:"".concat(o,"/api3/mall/mgr/mallMerchantToC/preUpoload"),confirmUploadUrl:"".concat(o,"/api3/mall/mgr/mallMerchantToC/confirmUpoload"),header:{"weimob-bosid":u.basicInfo.bosId},formData:u,legacyAccessKey:"10232771"},n)),e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.titanMedia={getInstance:m,chooseImage:(s=(0,i.babel_coroutine)(r().mark((function e(n,a){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a);case 2:return o=e.sent,e.abrupt("return",o.chooseImage(t({autoUpload:!1,count:1,sizeType:["compressed"],sourceType:["album","camera"]},n)));case 4:case"end":return e.stop()}}),e)}))),function(e,r){return s.apply(this,arguments)}),uploadImage:(c=(0,i.babel_coroutine)(r().mark((function e(n,a){var o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a);case 2:return o=e.sent,e.next=5,d(t(t({},null==n?void 0:n.formData),{},{requireType:"IMAGE"}));case 5:return u=e.sent,e.abrupt("return",o.uploadImage(t(t({},n),{},{formData:u})));case 7:case"end":return e.stop()}}),e)}))),function(e,r){return c.apply(this,arguments)}),chooseVideo:(u=(0,i.babel_coroutine)(r().mark((function e(n,a){var o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a);case 2:return o=e.sent,e.next=5,d(null==n?void 0:n.formData);case 5:return u=e.sent,e.next=8,o.chooseVideo(t(t({},n),{},{formData:u}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),function(e,r){return u.apply(this,arguments)}),uploadVideo:(o=(0,i.babel_coroutine)(r().mark((function e(n,a){var o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a);case 2:return o=e.sent,e.next=5,d(t(t({},null==n?void 0:n.formData),{},{requireType:"VIDEO"}));case 5:return u=e.sent,e.next=8,o.uploadVideo(t(t({},n),{},{formData:u}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),function(e,r){return o.apply(this,arguments)})},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/titanMedia.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/EXTS/ec/utils/validator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/classCallCheck"),t=require("../../../../../@babel/runtime/helpers/createClass"),r=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.mobileVerify=function(e){var t=e.trim();return!!(!t||t.length<6||/^(13[0-9]|14[579]|15[012356789]|17[013678]|18[0-9]|166|19[13589])/.test(t)&&11!=t.length)},exports.default=new(function(){function r(){e(this,r)}return t(r,[{key:"isPhone",value:function(e){return this.regexp(e,/^1[0-9]{10}$/)}},{key:"isEmail",value:function(e){return this.regexp(e,/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)}},{key:"regexp",value:function(e,t){return t.test(e)}}]),r}()),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/EXTS/ec/utils/validator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/componentVersion.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");module.exports={"@design-platform/adv-play":"0.3.292","@design-platform/top-custom-navbar":"0.3.263","@design-platform/menu":"0.3.157","@design-platform/countdown":"0.3.170","@design-platform/directional-picture":"1.0.239","@design-platform/img-nav":"1.0.150","@design-platform/line":"0.3.137","@design-platform/location":"0.3.239","@design-platform/picture":"1.0.234","@design-platform/store-notice":"0.3.195","@design-platform/text":"0.3.149","@design-platform/title":"0.3.178","@design-platform/video":"0.3.243","@design-onecrm/member":"0.8.153","@design-onecrm/user-center-header":"0.8.185","@design-onecrm/coupon-list":"0.7.170","@design-ec/distribution":"0.1.100","@design-ec/super-goods-list":"0.1.282","@design-ec/mixture-market":"0.1.305","@design-ec/feature-article":"0.1.122","@design-ec/store-head":"0.4.72","@design-platform/store-group":"0.1.109","@design-platform/bg-flow-nav":"0.1.195","@design-platform/tag-navbar":"0.1.178","@design-platform/game-life":"0.1.180","@design-live/live":"0.2.32","@design-live/limited-time":"2.0.41","@design-platform/search":"2.0.187","@design-platform/store-list":"3.0.162","@design-platform/store-switch":"3.0.140","@design-ec/buy-show":"0.1.60","@design-ec/goods":"0.4.326","@design-ec/classify":"0.4.67","@design-ec/recommended-topics":"0.4.296","@design-ec/my-order":"0.2.124","@design-ec/limit-time":"0.4.283","@design-ec/group":"0.4.285","@design-ec/full-discount":"0.4.294","@design-ec/take-away":"0.1.329","@design-ec/nynj":"0.4.281","@design-ec/limit-quantity":"0.4.283","@design-ec/full-free":"0.4.294","@design-onecrm/collect-gift":"0.1.99","@design-live/small-game":"0.1.12","@design-ec/xjxz":"0.1.220","@design-ec/gift-marketing":"0.1.231","@design-ec/buy-mpayn":"0.1.245","@design-ec/distribution-community-group":"0.1.36","@design-platform/map":"0.1.55","@design-form/form-name":"0.1.7","@design-form/form-mobile":"0.1.7","@design-form/form-email":"0.1.10","@design-form/form-custom":"0.1.8","@design-form/form-location":"0.1.9","@design-form/form-date":"0.1.7","@design-form/form-time":"0.1.8","@design-form/form-single-picker":"0.1.7","@design-form/form-multiple-picker":"0.1.10","@design-form/form-upload":"0.1.8","@design-form/form-submit":"0.1.9","@design-ec/seckill":"0.1.116","@design-ec/match-buy":"0.1.13","@design-ec/changeless-buy":"0.1.13","@design-onecrm/universe-marketing":"0.1.26","@design-onecrm/rights-card":"0.8.103","@design-live/wm-live":"0.1.10","@design-live/mini-live":"0.1.8","@design-live/video-live":"0.1.6"},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/componentVersion.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/components/design/dealPageData.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageInfoFromServerData=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0,i=s.isHomePage,t=void 0!==i&&i,r=s.pageIndex,l=s.grayEnabled;if(!e)return{pageModules:[]};var u=e.pageModuleInfoList,g=e.sysTime,d=e.pagePropertyInfoList,m=e.pageId,p=e.lastPage,c={};d.forEach((function(e){c[e.fieldKey]=e.fieldValue}));var n=c.pageName,h=c.pageDescription,f=c.bgType,v=c.bgImage,I=c.bgColor,T=c.shareTitle,b=c.shareDescription,N=c.shareSmallPic,P=c.shareBigPic,y=c.sharePosterPic,D=c.fixNavs,M=c.hasFixNav,x=c.showNavTitle,S=c.supportShare,C=c.marketingAtmosphere,L=c.showFocusOfficialAccount,A=c.bgMusic,F=c.musicIcon,O={pageTitle:n,pageDescription:h,bgType:f,bgImage:v,bgColor:I,shareTitle:T,shareDescription:b||"这里有好货，快来瞧瞧吧",shareImage:N,sharePoster:P,sharePosterPic:y,fixNavs:D,hasFixNav:"1"===M,showNavTitle:x,supportShare:"1"===S,marketingAtmosphere:C,showFocusOfficialAccount:"1"===L,bgMusic:A,musicIcon:F},V=u.map((function(e,a){return e.moduleName&&o.default[e.moduleName]&&(e.moduleVersion=o.default[e.moduleName]),{moduleCode:e.moduleCode,moduleId:e.moduleId,moduleJSON:e.moduleJSON,moduleLocation:e.moduleLocation,moduleName:e.moduleName,moduleTag:e.moduleTag,hasDataSource:e.hasDataSource,isCustom:e.isCustom,customType:e.customType,pageModuleDataList:e.pageModuleDataList,moduleVersion:e.moduleVersion,grayEnabled:t&&l&&(0===r&&a<15||1===r&&a<5)}})),_={sysTime:g};return a&&(_.pageId=m,_.pageTitle=O.pageTitle),{pageModules:V||[],exData:_,pageAttr:O,pageInfoMaps:c,lastPage:p,pageId:m}};var a,o=(a=require("../../componentVersion"))&&a.__esModule?a:{default:a};global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/components/design/dealPageData.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/components/design/util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),r=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageUrl=function(){var e,r=t.lib.getCurrentPageSync();if(r)e=t.lib.getPageFullUrl(r);else{var a=t.lib.getEnterOptionsSync();e="".concat(a.path,"?").concat(t.lib.linkURISearch(a.query||{}))}return e},exports.rpxToPx=function(e){return e?parseFloat((e/(750/r.wx.rprm.systemInfo.windowWidth)).toFixed(2)):e};var t=r.requirePlatform("cms").main.CMS;global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/components/design/util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/awaitToJs.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(e,t){return e.then((function(e){return[null,e]})).catch((function(e){return t&&Object.assign(e,t),[e,void 0]}))},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/awaitToJs.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/behaviors.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=global.bc("package","cms_design"),r=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=n(require("./jumpUrl")),a=n(require("./request")),i=require("./themeStyle");function n(e){return e&&e.__esModule?e:{default:e}}var s=r.getApp();exports.default=r.Behavior({properties:{isIphoneX:Boolean,customTheme:Object,themeStele:String,exData:Object},data:{},methods:{rprm:function(t){var o,a,i;try{i=(r.getCurrentPages()[r.getCurrentPages().length-1].options||{}).id||0}catch(e){i=0}var n=(this.data.model||{}).id,s=e({statType:"saasecxcx",pagename:"home",eventtype:"tap",pageid:i,componentid:n},t);null===(o=this.data.exData)||void 0===o||null===(a=o.rprm)||void 0===a||a.rec(s)},formsubmit:function(e){var t=e.detail.formId;this.rprm.form({formid:t,extra:{}})},onAuthorization:function(e){var t=e.currentTarget.dataset,a=t.appid,i=t.url;s.auth.isVerifyAuth(e).then((function(e){a&&i?r.wx.navigateToMiniProgram({appId:a,path:i}):i&&(0,o.default)(i)}))},TapEvent:function(e){var t=e.currentTarget.dataset,r=t.url,a=t.appid,i=t.linktype,n=t.urlobj;r=(n=n||{}).businessCoverUrl?n.businessCoverUrl:r;var s=n.businessCoverUrl?"businessCover":"";(0,o.default)("".concat(r),"navigateTo",a,i,"",s)},chageActiveShow:function(e,t){return new r.Promise((function(r,o){if(!t||!Object.keys(t).length)return r();var i=e.currentTarget.dataset.index,n=t.content.items[i],s={queryParameter:{source:1,activityId:n.activityId,activityType:n.activityType,selectType:n.selectType,goodsCount:n.goodsCount,selectGoodsIds:n.selectGoodsIds,selectGoodsBizList:n.selectVidGoodsIds}};(null==t?void 0:t.extra.productId)&&(s.basicInfo={productId:null==t?void 0:t.extra.productId,productInstanceId:null==t?void 0:t.extra.productInstanceId,productVersionId:null==t?void 0:t.extra.productVersionId}),a.default.post("/mall/navigation/activity/getModuleGoodsInfo",s).then((function(e){return r(e)})).catch((function(e){return r(e)}))}))},getBorderRadius:i.getBorderRadius}}),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/behaviors.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/color2Rgb.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null===e)return 0;if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var t="#",r=1;r<4;r+=1)t+=e.slice(r,r+1).concat(e.slice(r,r+1));e=t}for(var o=[],n=1;n<7;n+=2)o.push(parseInt("0x"+e.slice(n,n+2)));return o.join(",")}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"rgba(".concat(r(e),", ").concat(t,")")}function n(e,t){var r=e.match(/[\d.]+/g);return r.length>=3?"rgba("+r[0]+","+r[1]+","+r[2]+","+t+")":e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.colorToRgba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?o(e,t):/^rgb/.test(e)?n(e,t):(/^rgba/.test(e),e)},exports.default=void 0,exports.getThemeColorRGB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,o={theme1:"#EF1033",theme2:"#F56FA6",theme3:"#E85A71",theme4:"#86B902",theme5:"#40BAFF",theme6:t.wx.customTheme&&t.wx.customTheme.colorStr};return"rgba(".concat(r(o[t.wx.themeStele||"theme1"]),", ").concat(e,")")},exports.hexToRGBA=o,exports.rgbToRgba=n,exports.default=r,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/color2Rgb.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/computedPrice.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports._computedPrice=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(!t)return"0";if(t>=1e8)return e(+(t=t.toString().split(".")[0])/1e8,"亿",n);if(t>=1e4)return e(+(t=t.toString().split(".")[0])/1e4,"万",n);var i=(+(t=Math.round(100*t)/100)).toPrecision(),o=i.toString().split(".");if("万"==r||"亿"==r){var l=o[1]&&o[1].split("")||[];l.length>=2?o[1]="."+l[0]+l[1]+r:1==l.length?o[1]="."+l[0]+"0"+r:0==l.length&&(o[1]=".00"+r)}else o[1]=o[1]?"."+o[1]+(r||""):r||"";return n?[o[0],o[1]]:o[0]+o[1]},exports.removeChinese=function(e){return null!=e&&""!=e?e.replace("万","").replace("亿",""):""},exports.unitPrice=function(e){return e?e>=1e8?"亿":e>=1e4?"万":void 0:""},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/computedPrice.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getFullVidInfoSync.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=global.bc("package","cms_design"),n=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../../../../../@titan/env.js"),u=n.requirePlatform("cms").main.CMS;function o(){return(o=(0,i.babel_coroutine)(e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new n.Promise((function(e,t){u.getFullVidInfo().then((function(t){var n,i,u=r(r({},t),{},{isStoreVidMode:(null==t||null===(n=t.guide)||void 0===n?void 0:n.isGuideMode)&&(null==t||null===(i=t.guide)||void 0===i?void 0:i.guideVid)==(null==t?void 0:t.pvid)});return e(u)})).catch((function(e){return t()}))})));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}exports.default=function(){return o.apply(this,arguments)},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getFullVidInfoSync.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getGlobalConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../../@babel/runtime/helpers/slicedToArray"),n=global.bc("package","cms_design"),i=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,a=require("../../../../../@titan/env.js"),u=(o=require("./awaitToJs"))&&o.__esModule?o:{default:o},l=i.requirePlatform("cms").main.CMS;function c(){return(c=(0,a.babel_coroutine)(e().mark((function n(){var i,o,a,c,s,p,b,d,m,f;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)(l.getMerchantStyleInfo());case 2:return i=e.sent,o=t(i,2),o[0],a=o[1],c=void 0===a?{}:a,e.next=9,(0,u.default)(l.getMerchantSettingInfo());case 9:return s=e.sent,p=t(s,2),p[0],b=p[1],d=void 0===b?{}:b,m=["weimob-icon-popular, weimob-icon","weimob-icon","weimob-icon-lovely, weimob-icon"],f=Number(null==c?void 0:c.iconStyleType),e.abrupt("return",r(r(r({},c),d),{},{iconFontFamily:m[f],iconFontFamilyMap:m}));case 17:case"end":return e.stop()}}),n)})))).apply(this,arguments)}exports.default=function(){return c.apply(this,arguments)},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getGlobalConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return t||(e?"".concat(c(),"-").concat(e):c())};function c(){return"ecdc-ec"}global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/getPrefixCls.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/global.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMenuButtonBoundingClientRect=function(){if(1175==t.wx.rprm.onLauchScene||1177==t.wx.rprm.onLauchScene){return{bottom:80,height:32,left:320,right:407,top:48,width:87}}return t.wx.getMenuButtonBoundingClientRect()};t.requirePlatform("cms").main.CMS;global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/global.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/jumpUrl.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),n=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var i,l,a,v,d,s,t,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,h=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;if(e||"channelLive"==f)if(f)switch(f){case"businessCover":if(!n.wx.canIUse("showRedPackage"))return void n.wx.showToast({title:"微信版本过低，无法领取红包封面",icon:"none"});o.navigator("$".concat(e));break;case"channelLive":if(!n.wx.openChannelsLive)return void n.wx.showToast({title:"微信版本过低，无法跳转视频号",icon:"none"});1!==(null===(i=n.wx)||void 0===i||null===(l=i.videoGlobalChannelsLiveInfo)||void 0===l?void 0:l.status)&&o.navigator({mode:"openChannelsLive",finderUserName:null===(a=n.wx)||void 0===a||null===(v=a.videoGlobalChannelsLiveInfo)||void 0===v?void 0:v.videoChannelsId,feedId:null===(d=n.wx)||void 0===d||null===(s=d.videoGlobalChannelsLiveInfo)||void 0===s?void 0:s.feedId,nonceId:null===(t=n.wx)||void 0===t||null===(r=t.videoGlobalChannelsLiveInfo)||void 0===r?void 0:r.nonceId})}else 2==u&&c?o.navigator({url:e,appId:c,extraData:h}):o.navigator({url:e})};var o=n.requirePlatform("cms").main.CMS;global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/jumpUrl.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/maps.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAP_STYLE=exports.MAP_SHOP_CART=exports.MAP_LAYOUT=exports.MAP_IMAGE_LAYOUT=exports.MAP_ALIGN=void 0,exports.MAP_LAYOUT=["","flat","shadow","border"],exports.MAP_SHOP_CART=["","icon","plus","radius","normal","trend"],exports.MAP_STYLE=["","line1","line2","line3","slide","list"],exports.MAP_IMAGE_LAYOUT=["","100%","133.33%","147%"],exports.MAP_ALIGN=["","left","center"],global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/maps.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,c,m){if(!e)return"//:0";var i=/\/\/c.weimobwmc.com/gi,o=/\/\/dev.weimobwmc.com/gi;return/(\?)|(@)|(\.gif)/gi.test(e)?e:(i.test(e)&&(e=e.replace(i,"//image-c.weimobwmc.com")),o.test(e)&&(e=e.replace(o,"//image-c-dev.weimobwmc.com")),/\/\/image-c-dev.weimobwmc.com|\/\/image-c.weimobwmc.com/gi.test(e)?[e,"?imageView2/2/w/",{lg:"750",md:"380",sm:"260",xs:"200",xxs:"45"}[c||"lg"],"/q/",[90,80,90,100][m]||90,"/interlace/1"].join(""):e)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/picFilter.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),r=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,a,o=(t=require("./version"))&&t.__esModule?t:{default:t},n=r.requirePlatform("cms").main.CMS.createRequester({weimobOS:!0,dataToWeimobOSInner:!1,foreverResolve:!0,weimobOSErrorStrategie:"console"});n.config({requestTransforms:[function(e){return e.data.openid||(e.data.openid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a||((a=r.wx.getStorageSync("WX_SESSION_WXAPP_SESSION"))||e)}().openid),e.data.templateId||(e.data.templateId=o.default),e}],responseTransforms:[function(e,r,t,a){return a.data}]}),exports.default=n,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/themeStyle.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../../../@babel/runtime/helpers/defineProperty"),t=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.THEME_STYLE_TYPE_MAP=void 0,exports.asyncGetBorderRadius=function(e){return c.apply(this,arguments)},exports.getBorderRadius=function(e){var t=e.themeStyle,n=e.elementType,u=e.defaultRadius||d[n],a=r(r(r({},o,u),i,0),s,u+8);return{isRound:l.includes(n)&&t===s,borderRadiusVal:"".concat(a[t]||0,"rpx"),borderRadiusStyleString:"border-radius: ".concat(a[t]||0,"rpx")}};var n,u=require("../../../../../@titan/env.js"),a=(n=require("./getGlobalConfig"))&&n.__esModule?n:{default:n},i=0,o=1,s=2,l=(exports.THEME_STYLE_TYPE_MAP=r(r(r({},o,"general"),i,"trend"),s,"cute"),["button","search"]),d={img:12,tag:4,button:8,imgCover:16};function c(){return(c=(0,u.babel_coroutine)((function(t){var n=t.themeStyle,u=t.elementType,c=t.defaultRadius,p=t.globalConfig;return e().mark((function t(){var b,f,g,y,m,v;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=null,e.t0=p,e.t0){e.next=6;break}return e.next=5,(0,a.default)();case 5:e.t0=e.sent;case 6:return f=e.t0,g=c||d[u],y="number"==typeof n?n:null===(b=f)||void 0===b?void 0:b.styleType,m=r(r(r({},o,g),i,0),s,g+8),v=l.includes(u)&&y===s,e.abrupt("return",{isRound:v,radius:m[y]||0,borderRadiusVal:"".concat(m[y]||0,"rpx"),borderRadiusStyleString:"border-radius: ".concat(m[y]||0,"rpx")});case 9:case"end":return e.stop()}}),t)}))()}))).apply(this,arguments)}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/themeStyle.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/version.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=10,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-ec/wx-utils/version.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),o=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.transfromDataSourceResponse=exports.transformDataSourceResponse=exports.transformDataSourceRequest=exports.getWcModuleExtra=exports.getWcModuleDomainMaps=exports.getWcModuleCodeMaps=exports.getModuleData=void 0;var a,n=require("../../../../../@titan/env.js"),u=(a=require("./transform"))&&a.__esModule?a:{default:a},d=[["goodsModuleV2","goods"],["classifyModuleV2","classify_goods"],["couponModuleV2","coupon"],["grouponModuleV2","group"],["nynjModuleV2","nynj"],["freeFreightModuleV2","full_free"],["limitDiscountsModuleV2","limit_discount"],["fullDiscountModuleV2","full_discount"],["bargainModuleV2","bargain"],["giftcardCanUseModule","gift_card"],["memberCardListModule","member_card"],["memberAssetModule","member_asset"],["mallOrderModule","mall_order"]],l={limit_discount:{productId:145},coupon:{productId:146},classify_goods:{productId:145},full_discount:{productId:145},goods:{productId:145},bargain:{productId:224},group:{productId:145},full_free:{productId:145},nynj:{productId:145},gift_card:{productId:217},member_card:{productId:146},member_asset:{productId:146},mall_order:{productId:145}},s={},c=function(){var e={};return d.forEach((function(o){e[o[1]]=o[0]})),e};exports.getWcModuleDomainMaps=c;var i=function(){var e={};return d.forEach((function(o){e[o[0]]=o[1]})),e};exports.getWcModuleCodeMaps=i,exports.getWcModuleExtra=function(e){var o={},r=i();for(var t in e){var a=r[t];a&&(o[a]=e[t].moduleExtra)}return o},exports.getModuleData=function(){var e=(0,n.babel_coroutine)((function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableTransformToNew:!0,enableTransformToOld:!0,pageId:null};return o().mark((function n(){var d,i,p,f,m,g,v,x,M,_,b,I,y;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return d=r.dataDomain,i={},i="goods"===d?{goodsSelectInfo:r.payload,items:[]}:"classify_goods"===d?{classifySelectInfo:r.payload,items:[]}:"mall_order"===d||"gift_card"===d||"member_asset"===d||"member_card"===d||"gift_card"===d?r.payload||{}:{items:r.payload||[]},p=s[d],f=c(),m=f[d],v=(g=a||{}).enableTransformToNew,x=g.enableTransformToOld,M=g.pageId,_=u.default[m],v&&null!=_&&_.toNew&&(b=_.toNew,i=b(i)),I=l[d]||null,y=p?r.payload:{content:i},o.abrupt("return",new t.Promise((function(o,t){if(!m)return o({isEmptyModule:!0});e({moduleCode:m,moduleExtra:I},y,{pageId:M,pageExParams:null,dataPageSize:r.dataPageSize,dataPageNum:r.dataPageNum}).then((function(e){var r,a;if(!e)return t();var n=e.hasNextPage,u=e.content,d=e.extra,l=u;x&&null!=_&&_.toOld&&(l=(0,_.toOld)(u));return(null===(r=l)||void 0===r||null===(a=r.items)||void 0===a?void 0:a.length)>0&&l.items.forEach((function(e){e.extra=d})),o({hasNextPage:n,payload:p?e:l,extra:d})})).catch((function(e){return t(e)}))})));case 7:case"end":return o.stop()}}),n)}))()}));return function(o,r){return e.apply(this,arguments)}}();var p=function(o,r){var t,a,n=u.default[r],d=o.content,l=o.extra,s=d;null!=n&&n.toOld&&(s=(0,n.toOld)(d));return(null===(t=s)||void 0===t||null===(a=t.items)||void 0===a?void 0:a.length)>0&&s.items.forEach((function(e){e.extra=l})),e(e({},o),{},{content:s})};exports.transformDataSourceResponse=p,exports.transfromDataSourceResponse=p,exports.transformDataSourceRequest=function(o,r){var t=u.default[r],a=o.content,n=a;null!=t&&t.toNew&&(n=(0,t.toNew)(a));return e(e({},o),{},{content:n})},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/transform-coupon.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformCouponToNew=function(e){var t=e.items;if(t.rows)return e;var o=[];return t&&t.length>0&&(o=(t||[]).map((function(e){return{couponTemplateId:e.cardTemplateId}}))),{items:{rows:o}}},exports.transformCouponToOld=function(e){var a=e.detailItems,c=[];return a&&a.length>0&&(c=(a||[]).map((function(e){var a,c=e.validDate||{};return 1===e.acceptGoodsType&&!1===e.existExcludeGoods?a=1:2===e.acceptGoodsType?a=2:1===e.acceptGoodsType&!0===e.existExcludeGoods?a=3:4===e.acceptGoodsType?a=5:3===e.acceptGoodsType&&(a=7),{acceptGoodsType:a,activityId:e.couponTemplateId,canReceive:Number(e.canReceive),cardTemplateId:e.couponTemplateId,cashTicketAmt:e.discountAmount,cashTicketCondition:e.useThreshold,couponOrigin:e.platformType,expDate:c.useEndTime,couponScopeText:e.couponScopeText,discount:e.discountAmount,expDayCount:c.validDays,expireDateType:c.useTimeType,left:e.left,maxCashTicketAmt:e.maxCashTicketAmt,minCashTicketAmt:e.minCashTicketAmt,name:e.name,publishCount:e.publishCount,startDate:c.useStartTime,startDayCount:c.useDelayDays,subCouponType:t[e.couponType],type:o[e.couponType],useNotice:e.explain,userTakeLimit:e.userTakeLimit,subName:"",weChatSendCoupon:""}}))),{items:c}};var t={1:1,5:2,4:4},o={1:0,4:0,5:0,2:1,3:2};global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/transform-coupon.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/transform.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../../@babel/runtime/helpers/objectSpread2"),e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("./transform-coupon"),o={classifyModuleV2:{toOld:function(e){return function(e){var r=e.classifySelectInfo,o=e.items;return r&&"[object Array]"===Object.prototype.toString.call(r.attributeInfo)&&(r.attributeInfo=r.attributeInfo.map((function(e){return t(t({},e),{},{classifyId:e.classifyId,title:e.name})}))),"[object Array]"===Object.prototype.toString.call(o)&&(o=o.map((function(e){return t(t({},e),{},{title:e.name})}))),t(t({},e),{},{classifySelectInfo:r,items:o})}(e)},toNew:function(e){return function(e){var r=e.classifySelectInfo;return r&&"[object Array]"===Object.prototype.toString.call(r.attributeInfo)&&(r.attributeInfo=r.attributeInfo.map((function(e){return t(t({},e),{},{classifyId:e.classifyId,name:e.title})}))),t(t({},e),{},{items:[]})}(e)}},couponModuleV2:{toOld:function(t){return(0,r.transformCouponToOld)(t)},toNew:function(t){return(0,r.transformCouponToNew)(t)}},goodsModuleV2:{toOld:function(e){return function(e){return"[object Array]"===Object.prototype.toString.call(e.items)&&(e.items=e.items.map((function(e){return t(t({},e),{},{defultImageUrl:e.defaultImageUrl})}))),e}(e)},toNew:function(e){return function(e){return"[object Array]"===Object.prototype.toString.call(e.items)&&(e.items=e.items.map((function(e){return t(t({},e),{},{defaultImageUrl:e.defultImageUrl})}))),e}(e)}},recommendedTopicsModuleV2:{toOld:function(e){return function(e){return"[object Array]"===Object.prototype.toString.call(e.items)&&(e.items=e.items.map((function(e){return t(t({},e),{},{defultImageUrl:e.defaultImageUrl})}))),e}(e)},toNew:function(e){return function(e){return"[object Array]"===Object.prototype.toString.call(e.items)&&(e.items=e.items.map((function(e){return t(t({},e),{},{defaultImageUrl:e.defultImageUrl})}))),e}(e)}}};exports.default=o,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/weimob-cloud-hooks/transform.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/addCartHooks.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),a=require("../../../../../@babel/runtime/helpers/typeof");require("../../../../../@babel/runtime/helpers/Arrayincludes");var r=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s,i=(s=require("../wx-utils/jumpUrl.js"))&&s.__esModule?s:{default:s},l=require("../wx-utils/global.js"),u=t.wx.getSystemInfoSync().system.toLowerCase(),o=u.includes("ios")||u.includes("android");exports.default=t.Behavior({data:{skuData:null},methods:{addCart:function(r){if(r&&(r.skuJump||l.WeiXin&&!o))(0,i.default)(r.url.miniUrl);else if(null!=(s=r)&&"object"==a(s)&&!1===Array.isArray(s)){var t=e(e({},r),{},{goodsId:r.id,request:!0,isShowSku:!0,rprmInfo:this.rprmInfo||{pagename:this.data.exData.pagename}});this.setData({skuData:t})}var s},hideSkuCallback:function(e){var a,r=null==e||null===(a=e.detail)||void 0===a?void 0:a.skuData;r&&this.setData({skuData:r})}}}),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/addCartHooks.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/dealPageModules.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),o=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWcModule=exports.dealPageComponents=void 0;var d=require("./util"),a=function(e,o){return{data:{content:e.content,style:e.styleGroup,styleSetting:e.style},pageInfo:o}};exports.getWcModule=a,exports.dealPageComponents=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.pageIndex,r=void 0===u?0:u,n=l.weimobCloudInfo,s=o.map((function(o){var l,u=o.moduleDsl,s=o.moduleTag,i=o.hasDataSource,m=o.moduleVersion,c=o.moduleName,p=o.moduleLocation,g=o.moduleId,v=o.pageModuleDataList,y=o.moduleJSON,f=o.isCustom,b=o.customType,I=o.moduleCode,h=o.grayEnabled;if(u)try{l="string"==typeof u?JSON.parse(u):u}catch(e){var x;console.error(e),null===(x=t.wx.hound)||void 0===x||x.reportError({moduleId:g,msg:"数据源接口返回moduleDsl异常",error:e})}else y&&(l=y);if(!l)return null;var C,D=!1;1===s&&(null==v?void 0:v.length)>0&&(v.forEach((function(o){var t=o.data;(null==t?void 0:t.isEmptyModule)&&(D=!0),l=e(e({},l),t),f&&(D=!1,l.isEmptyModule=!1)})),C=v),l.id=p,l.moduleId=g,l.moduleName=c,l.pageIndex=r,l.isCustom=f,l.customType=b,l.moduleCode=I,l.moduleVersion=m;var M={moduleData:l,moduleTag:s,hasDataSource:i,moduleVersion:m,moduleName:c,id:p,moduleId:g,isEmpty:D,isCustom:f,customType:b,pageIndex:r,moduleCode:I,grayEnabled:h,virtualAttached:!1};return M.needAsyncLoadData=(0,d.isNeedAsyncLoadData)(M,C),f&&(M.moduleId=p,M.wcModule=a(l,n)),M})).filter((function(e){return!!e}));return{pageModules:s}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/dealPageModules.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/deliveryHooks.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../../../@babel/runtime/helpers/typeof");require("../../../../../@babel/runtime/helpers/Arrayincludes");var l=global.bc("package","cms_design"),a=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i,t=(i=require("../wx-utils/jumpUrl.js"))&&i.__esModule?i:{default:i},s=require("../wx-utils/global.js"),u=a.wx.getSystemInfoSync().system.toLowerCase(),o=u.includes("ios")||u.includes("android");exports.default=a.Behavior({data:{deliveryData:null},methods:{delivery:function(l){if(l&&(l.skuJump||s.WeiXin&&!o))(0,t.default)(l.url.miniUrl);else if(null!=(i=l)&&"object"==r(i)&&!1===Array.isArray(i)){var a=e({},l);this.setData({deliveryData:a})}var i}}}),global.ec(l);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/deliveryHooks.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/global.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMenuButtonBoundingClientRect=function(){if(1175==t.wx.rprm.onLauchScene||1177==t.wx.rprm.onLauchScene){return{bottom:80,height:32,left:320,right:407,top:48,width:87}}return t.wx.getMenuButtonBoundingClientRect()},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/global.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/queryModuleDataSource.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../../../@babel/runtime/helpers/objectSpread2"),r=global.bc("package","cms_design"),a=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return s.apply(this,arguments)},exports.weimobCloudQueryModuleDataSource=function(e,t,r){return l.apply(this,arguments)};var o,u=require("../../../../../@titan/env.js"),n=require("../weimob-cloud-hooks/index.js"),d=(o=require("./request"))&&o.__esModule?o:{default:o},i=a.requirePlatform("cms").main.CMS;function s(){return(s=(0,u.babel_coroutine)(e().mark((function r(o,u,s){var l,p,c,m,g,b,f,x,v,y,I,h,q,S,C,P,k,w,D;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=o.moduleId,g=o.content,b=o.style,f=o.styleGroup,x=o.extra,v=o.moduleName,y=o.moduleVersion,I=i.getBusinessData(),!("@design-ec/distribution-community-group"===v)||u.longitude&&u.latitude){e.next=12;break}return e.prev=2,e.next=5,i.getLocation();case 5:q=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("getLocation Error!",e.t0);case 11:q&&(h={longitude:q.longitude,latitude:q.latitude});case 12:return S={style:b,styleGroup:f,content:g,extra:x},o.isCustom&&(S=(0,n.transformDataSourceRequest)(S,o.moduleCode)),C=t({bosId:null==I?void 0:I.bosId,moduleId:m,moduleName:v,moduleVersion:y,moduleLocation:o.id,params:JSON.stringify(S),requestType:i.getCurrentChannel(),exParams:{pageId:u.pageId,moduleVersion:y,longitude:(null===(l=h)||void 0===l?void 0:l.longitude)||u.longitude,latitude:(null===(p=h)||void 0===p?void 0:p.latitude)||u.latitude},dataPageSize:u.dataPageSize,dataPageNum:1,pageId:u.pageId},s),e.next=17,d.default.post("/mp-decoration/web/page/queryModuleDataSource",C);case 17:if(P=e.sent,k={moduleData:o,globalTicket:null==P?void 0:P.globalTicket},!P||0!==P.errcode){e.next=25;break}return P.data||null===(w=a.wx.hound)||void 0===w||w.reportError({pageId:u.pageId,moduleId:m,msg:"数据源接口返回数据异常",response:P}),D=P.data.data,o.isCustom&&D&&((D=(0,n.transformDataSourceResponse)(D,o.moduleCode)).isEmptyModule=!1),k.moduleData=t(t({},o),D),e.abrupt("return",k);case 25:return null===(c=a.wx.hound)||void 0===c||c.reportError({pageId:u.pageId,moduleId:m,msg:"数据源接口返回异常",response:P}),e.abrupt("return",k);case 27:case"end":return e.stop()}}),r,null,[[2,8]])})))).apply(this,arguments)}function l(){return(l=(0,u.babel_coroutine)(e().mark((function r(a,o,u){var n,s,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={moduleCode:a.moduleCode,pageId:u.pageId,params:JSON.stringify(t(t({},o),{},{extra:a.moduleExtra})),requestType:i.getCurrentChannel(),dataPageSize:u.dataPageSize||20,dataPageNum:u.dataPageNum||1,exParams:u.pageExParams},e.next=3,d.default.post("/mp-decoration/web/page/queryModuleDataSource",n);case 3:if(!(s=e.sent)||0!==s.errcode){e.next=7;break}return l=s.data,e.abrupt("return",t(t({},a),l.data));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),r)})))).apply(this,arguments)}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/queryModuleDataSource.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),r=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=r.requirePlatform("cms_sdk").main.SDK.createRequester({weimobOS:!0});s.config({responseTransforms:[function(e,r,s,t){return t&&t.data}]}),exports.default=s,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/store.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("package","cms_design"),e=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.watchStore=exports.unwatchStore=exports.setStore=exports.getStore=exports.clearStore=void 0;var o=[],a=new e.TitanX.Store({state:{store:{}},actions:{updateItem:function(t,e){(0,t.commit)("updateItem",e)}},mutations:{updateItem:function(t,e){var o=t.state,a=e.scope,c=e.payload;o.store[a]=c},clearStore:function(t){t.state.store={}}}});exports.setStore=function(t){var e=t.scope,o=t.key,c=t.payload;e&&o&&a.dispatch("updateItem",{scope:"".concat(e,"-").concat(o),payload:c})},exports.getStore=function(t){var e=t.scope,o=t.key,c=t.callback;e&&o&&c&&c(a.state.store["".concat(e,"-").concat(o)])},exports.watchStore=function(t){var c=t.scope,r=t.key,n=t.callback;if(c&&r){var s=e.TitanX.watch((function(){return a.state.store["".concat(c,"-").concat(r)]}),(function(t,e){n(t,e)}));o.push(s)}},exports.unwatchStore=function(){o.forEach((function(t){t()}))},exports.clearStore=function(){a.commit("clearStore")},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/store.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/typeof"),t=global.bc("package","cms_design"),r=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepCopy=function t(r){return Array.isArray(r)?r.map((function(e){return t(e)})):"object"==e(r)&&null!==r?Object.keys(r).reduce((function(e,a){return e[a]=t(r[a]),e}),{}):r},exports.getNavStickyHeight=function(e){var t=r.wx.rprm.systemInfo,a="";return t.statusBarHeight?a=function(){var r=e.top-t.statusBarHeight;return t.statusBarHeight+2*r+e.height}():(t.statusBarHeight=t.screenHeight-t.windowHeight-20,a=2*(e.top-t.statusBarHeight)+e.height,t.statusBarHeight=0),a},exports.isNeedAsyncLoadData=function(e,t){return!(null==e||!e.hasDataSource)&&(2===(null==e?void 0:e.moduleTag)||1===(null==e?void 0:e.moduleTag)&&!((null==t?void 0:t.length)>0))},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/weimobCloudHooks.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../../../@babel/runtime/helpers/typeof"),t=global.bc("package","cms_design"),o=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHooks=void 0,exports.getModuleData=p,Object.defineProperty(exports,"getWcModuleExtra",{enumerable:!0,get:function(){return a.getWcModuleExtra}}),exports.toQuerystring=void 0;var n,a=require("../weimob-cloud-hooks/index.js"),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var o=function(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return function(e){return e?t:r}(e)}(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}(require("../wx-utils/jumpUrl.js")),u=(n=require("../../@onecrm/design-cloud-pickcoupon/wx.js"))&&n.__esModule?n:{default:n},i=require("./queryModuleDataSource");var c=function(e){return null!=e&&"object"==r(e)&&!1===Array.isArray(e)},s=function(e,r){var t="";for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t+="".concat(t?"&":"").concat(o,"=").concat(e[o]));return r?t?"".concat(r,"?").concat(t):r:t};function p(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateComponent,l=t.enableTransformToNew,u=t.enableTransformToOld,c=t.pageId;return new o.Promise((function(t,o){(0,a.getModuleData)(i.weimobCloudQueryModuleDataSource,r,{enableTransformToNew:l,enableTransformToOld:u,pageId:c}).then((function(r){return null!=r&&r.isEmptyModule?(n&&n(e(e({},module),{},{status:0})),o(new Error("无权限！"))):t(r)})).catch((function(e){return o(e)}))}))}function d(e,r){var t={search:"/cms_search/result",storeList:"/ec_store/store__list",articleList:"/ec_article/list"};if("string"==typeof e){var o,n="",a="";c(r)&&r.query&&c(r.query)&&s(r.query)&&(n="?"+s(r.query)),o=t[e]?t[e]:e,c(r)?(a=r.type||"navigateTo",(0,l.default)(o+n,a,r.appid||"",r.linktype||"",r.extraData||"",r.linkName||"")):(0,l.default)(o)}}exports.toQuerystring=s,exports.getHooks=function(e){var r=e.root,t=e.exData;function n(e){var t=e.scrollTop,o=void 0===t?0:t;return r.scrollTopHeight=o,o}var a=function(e){return p(e,{enableTransformToNew:!0,enableTransformToOld:!0,pageId:null==t?void 0:t.pageId})};return{base:{getGoodsList:a,getModuleData:a,jumpUrl:d,jump:l.jumpUrlByLink,getPageScrollHight:function(){return r.page=o.getCurrentPages()[o.getCurrentPages().length-1],r.page.onPageScrollHandler||(r.page.onPageScrollHandler=[]),r.page.onPageScrollHandler.push(n)},onPageScroll:n,locationJump:function(e){return function(e,r){var t;(e.page||(e.page=o.getCurrentPages()[o.getCurrentPages().length-1]),r.moduleId)&&(r.locationModuleId&&o.wx.createSelectorQuery().select("#design-platform-page >>> #design_sdk >>> #design_components >>> #widget_"+r.locationModuleId).boundingClientRect((function(e){e&&(t=e.height)})).exec(),o.wx.createSelectorQuery().select("#design-platform-page >>> #design_sdk >>> #design_components >>> #widget_"+r.moduleId).boundingClientRect((function(n){if(n){var a=t,l=null!=r&&r.isFixedLocation?a:4,u=n.top+(e.scrollTopHeight||(null==r?void 0:r.scrollTop))-(e.data._sticky+l);o.wx.pageScrollTo({scrollTop:u,duration:300})}})).exec())}(r,e)},pickCoupon:u.default}}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-sdk/weimobCloudHooks.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/behaviors.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../../@babel/runtime/helpers/typeof"),r=global.bc("package","cms_design"),a=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("./global"),i=function(e,r){if(e&&e.__esModule)return e;if(null===e||"object"!=t(e)&&"function"!=typeof e)return{default:e};var a=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(r);if(a&&a.has(e))return a.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}(require("./jumpUrl"));a.requirePlatform("cms").main.CMS;var o=(0,n.getPlatFormChannel)(),s=(0,n.getPlatFormLabel)(),l=a.getApp();exports.default=a.Behavior({properties:{exData:{type:Object,value:{},observer:function(e){var t=e||{},r=t.iconStyleType,a=t.styleType;this.setData({iconStyleName:this.getIconStyleName(r),styleName:this.getIconStyleName(a)})}}},data:{iconStyleName:"type-general",styleName:"type-general",$platFormChannel:o,$platFormLabel:s,$platFormSource:(0,n.getPlatFormSource)(),$isWeiXin:o===n.WeiXin,$isAliPay:o===n.AliPay,$isXhs:o===n.Xhs,$isQQ:o===n.QQ,$isKs:o===n.Ks,$show:o!==n.Ks},attached:function(){var e=this;this.data.$isKs&&a.setTimeout((function(){e.fireShow()}),0)},methods:{fireShow:function(){this.setData({$show:!0})},showCustomerService:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(e&&void 0===e.refer||!e||!e.refer||"WOS-CS-CHAT"!==e.refer.toUpperCase())},rprm:function(t){var r,n,i;try{i=(a.getCurrentPages()[a.getCurrentPages().length-1].options||{}).id||0}catch(e){i=0}var o=(this.data.model||{}).id,s=e({statType:"saasecxcx",pagename:"home",eventtype:"tap",pageid:i,componentid:o},t);null===(r=this.data.exData)||void 0===r||null===(n=r.rprm)||void 0===n||n.rec(s)},formsubmit:function(e){var t=e.detail.formId;this.rprm.form({formid:t,extra:{}})},onAuthorization:function(e){var t=e.currentTarget.dataset,r=t.appid,n=t.url;l.auth.isVerifyAuth(e).then((function(e){r&&n?a.wx.navigateToMiniProgram({appId:r,path:n}):n&&(0,i.default)(n)}))},TapEvent:function(e){var t=e.currentTarget.dataset.urlobj;(0,i.jumpUrlByLink)(t,this.data.exData,this)},getIconStyleName:function(e){return{0:"type-trend",1:"type-general",2:"type-affinity"}[e]||"type-trend"}},ready:function(){var e=this.data.exData,t=e.iconStyleType,r=e.styleType;this.setData({iconStyleName:this.getIconStyleName(t),styleName:this.getIconStyleName(r)})}}),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/behaviors.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/color2Rgb.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),t=require("../../../titan-scoped-env.js");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null===e)return 0;if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var t="#",r=1;r<4;r+=1)t+=e.slice(r,r+1).concat(e.slice(r,r+1));e=t}for(var o=[],n=1;n<7;n+=2)o.push(parseInt("0x"+e.slice(n,n+2)));return o.join(",")}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getThemeColorRGB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,o={theme1:"#EF1033",theme2:"#F56FA6",theme3:"#E85A71",theme4:"#86B902",theme5:"#40BAFF",theme6:t.wx.customTheme&&t.wx.customTheme.colorStr};return"rgba(".concat(r(o[t.wx.themeStele||"theme1"]),", ").concat(e,")")},exports.hexToRGBA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"rgba(".concat(r(e),", ").concat(t,")")},exports.default=r,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/color2Rgb.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/colorRgbFn.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.colorRgbFn=function(){var e=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;String.prototype.colorRgb=function(){var r=this.toLowerCase();if(r&&e.test(r)){if(4===r.length){for(var o="#",t=1;t<4;t+=1)o+=r.slice(t,t+1).concat(r.slice(t,t+1));r=o}for(var a=[],c=1;c<7;c+=2)a.push(parseInt("0x"+r.slice(c,c+2)));return a.join(",")}return r}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/colorRgbFn.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/getLength.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=(e+"").trim(),r=/[\u2E80-\u9FFF]+/g,a=t.length;if(!r.test(e))return Math.round(a/2);var n=(t.match(r).join("")||"").length;return Math.round((a-n)/2)+n},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/getLength.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/global.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../../@babel/runtime/helpers/objectSpread2"),e=global.bc("package","cms_design"),o=require("../../../titan-scoped-env.js");function r(){return o.titan||window?"MP-WEIXIN":void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Xhs=exports.WeiXin=exports.QQ=exports.Ks=exports.H5=exports.BaiDu=exports.AliPay=void 0,exports.getMenuButtonBoundingClientRect=function(){if(1175==o.wx.rprm.onLauchScene||1177==o.wx.rprm.onLauchScene){return{bottom:80,height:32,left:320,right:407,top:48,width:87}}return o.wx.getMenuButtonBoundingClientRect()},exports.getPlatFormChannel=r,exports.getPlatFormLabel=function(){var t=r();return t&&{"MP-WEXIN":"微信",H5:"H5",WEIBO:"微博",HEADLINE:"字节","ALIPAY-H5":"支付宝webview",WX_MINI_PROGRAM:"微信webview","MP-QQ":"QQ","QQ-H5":"QQ","MP-ALIPAY":"支付宝","MP-KS":"快手","MP-XHS":"小红书","MP-BAIDU":"百度"}[t]||""},exports.getPlatFormSource=function(){var t=r();return t?{"MP-WEXIN":1,H5:2,WEIBO:4,HEADLINE:5,"ALIPAY-H5":6,WX_MINI_PROGRAM:13,"MP-QQ":19,"QQ-H5":20,"MP-ALIPAY":21,"MP-KS":23,"MP-XHS":25,"MP-BAIDU":10}[t]||1:""},exports.setAvailableViewportMargins=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.top,i=void 0===n?0:n,a=(r.bottom,r.left),s=void 0===a?0:a,l=(r.right,r.height),u=void 0===l?0:l,g=r.width,p=void 0===g?0:g,f=arguments.length>1?arguments[1]:void 0,M=o.getCurrentPages()[o.getCurrentPages().length-1],P=o.wx.getSystemInfoSync(),c=P.windowHeight,b=P.windowWidth,h=P.safeArea,x=P.screenHeight,d=null!=h&&h.bottom?x-(null==h?void 0:h.bottom):0,v={top:0,bottom:-d,left:0,right:0},w=function(e){var o={},r=b/2,n=c/2;return p>=b/2&&(i>c/2?o.bottom=-(Math.abs(e.bottom)+u):o.top=-(Math.abs(e.top)+u)),u>=n&&(s>r?o.right=-(Math.abs(e.right)+p):o.left=-(Math.abs(e.left)+p)),t(t({},e),o)};return e=w(null!=M&&M.availableViewportMargins?M.availableViewportMargins:f||v),M.availableViewportMargins=e,e},exports.setNavigationBarColor=function(e){var r=t(t({},e),{},{frontColor:e.frontColor&&e.frontColor.toLocaleLowerCase().indexOf("#fff")>=0?"#ffffff":"#000000",backgroundColor:e.backgroundColor&&e.backgroundColor.toLocaleLowerCase()||"#ffffff"});o.wx.setNavigationBarColor(r)},exports.WeiXin="MP-WEIXIN",exports.AliPay="MP-ALIPAY",exports.QQ="MP-QQ",exports.Xhs="MP-XHS",exports.BaiDu="MP-BAIDU",exports.Ks="MP-KS",exports.H5="H5",global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/global.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/jumpUrl.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../../../@babel/runtime/helpers/defineProperty"),n=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../../@babel/runtime/helpers/slicedToArray"),i=require("../../../../../@babel/runtime/helpers/createForOfIteratorHelper"),a=global.bc("package","cms_design"),o=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=v,exports.getJumpUrl=function(e,n){if(e){var r,t=i(["businessCoverUrl","videoChannelsId"]);try{for(t.s();!(r=t.n()).done;){var a=r.value;if(Object.prototype.hasOwnProperty.call(e,a)&&e[a])return e[a]}}catch(e){t.e(e)}finally{t.f()}}return n||""},exports.getUrlInfoFromLink=h,exports.jumpUrlByLink=function(e,n,r){return f.apply(this,arguments)},exports.makePhoneCall=p;var l=require("../../../../../@titan/env.js"),s=require("./global"),u=(0,s.getPlatFormChannel)(),c=o.requirePlatform("cms").main.CMS,d=null==c?void 0:c.createRequester({weimobOS:!0});function v(e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(e||"channelLive"==a&&"businessCover"==a)if(a)switch(a){case"businessCover":if(!o.wx.showRedPackage)return void o.wx.showToast({title:"微信版本过低，无法领取红包封面",icon:"none"});null===(n=o.wx)||void 0===n||n.showRedPackage({url:e,success:function(){},fail:function(e){}});break;case"channelLive":if(e||o.wx.showToast({title:"视频号id已删除",icon:"none"}),!o.wx.getChannelsLiveInfo||!o.wx.openChannelsLive)return void o.wx.showToast({title:"微信版本过低，无法跳转视频号",icon:"none"});(s=e,new o.Promise((function(e,n){var r;null===(r=o.wx)||void 0===r||r.getChannelsLiveInfo({finderUserName:s,success:e,fail:n})}))).then((function(n){var r=n.feedId,t=n.nonceId;c.navigator({mode:"openChannelsLive",finderUserName:e,feedId:r,nonceId:t})})).catch((function(e){}))}else{var s;"miniUrl"===l?2==t&&r?c.navigator({url:e,appId:r,extraData:i}):c.navigator({url:e}):"h5Url"===l&&e.startsWith("http")&&!e.includes("https://render.alipay.com")?c.navigator({url:"/cms_webview/index?url=".concat(encodeURIComponent(e))}):c.navigator({url:e})}}function p(e){var n,r=e.url;null===(n=o.wx)||void 0===n||n.makePhoneCall({phoneNumber:r,success:function(){}})}function f(){return(f=(0,l.babel_coroutine)(n().mark((function e(i,a,l){var d,f,b,y,m,k,x,g,w,U,C,T,I,L,P,D,R,A,M,j;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if("[object Object]"!==Object.prototype.toString.call(i.selectedData)||null===(d=i.selectedData)||void 0===d||!d.navigateType){e.next=5;break}return 25===i.linkType?(f=[],null==i||i.urlList.forEach((function(e){1===(null==e?void 0:e.channel)&&f.push(null==e?void 0:e.tmplId)})),c.navigator({navigateType:25,tmplIds:f})):c.navigator(i.selectedData),e.abrupt("return");case 5:if(9!==i.linkType){e.next=9;break}return(k=i.selectedData||[])instanceof Array&&k.length&&null!==(b=k[0])&&void 0!==b&&b.linkList&&(null===(y=k[0])||void 0===y?void 0:y.linkList)instanceof Array&&(null===(m=k[0])||void 0===m?void 0:m.linkList.length)>0&&(w=null===(x=k[0])||void 0===x||null===(g=x.linkList[0])||void 0===g?void 0:g.copy,2===(w.scene||1)?o.wx.setClipboardData({data:w.content,success:function(){var e;o.wx.hideToast();var n=(null==w||null===(e=w.tipList)||void 0===e?void 0:e.join(""))||"",r=(null==w?void 0:w.delayMsg)||"";o.wx.showToast({title:"".concat(n,"\r\n").concat(r),icon:"none",duration:2e3})},fail:function(e){e&&112===e.errno?o.wx.showToast({title:"未配置剪切板指引，无复制功能",icon:"none",duration:2e3}):o.wx.showToast({title:"复制失败",icon:"none",duration:2e3})}}):o.wx.setClipboardData({data:w.content,success:function(){o.wx.hideToast();var e=w.tipList||[],n=t(e,2),r=n[0],i=void 0===r?"":r,a=n[1],l=void 0===a?"":a;o.wx.showToast({title:l?"".concat(i,"\r\n").concat(l):"".concat(i),icon:"none",duration:2e3})},fail:function(e){e&&112===e.errno?o.wx.showToast({title:"未配置剪切板指引，无复制功能",icon:"none",duration:2e3}):o.wx.showToast({title:"复制失败",icon:"none",duration:2e3})}})),e.abrupt("return");case 9:if(![5,10,11,12].includes(i.linkType)){e.next=24;break}if(u===s.WeiXin){e.next=13;break}return o.wx.showToast({title:"当前渠道不支持视频号跳转",icon:"none"}),e.abrupt("return");case 13:I=null==i||null===(U=i.selectedData)||void 0===U||null===(C=U[0])||void 0===C||null===(T=C.linkList)||void 0===T?void 0:T[0],L=(null==I?void 0:I.live)||(null==I?void 0:I.liveVideoInfo)||{},P={linkType:i.linkType,finderUserName:(null==i?void 0:i.videoChannelsId)||(null==L?void 0:L.liveId)||""},e.t0=P.linkType,e.next=10===e.t0?18:11===e.t0?19:12===e.t0?21:18;break;case 18:return e.abrupt("break",22);case 19:return P=r(r({},P),{},{feedId:(null==L?void 0:L.videoId)||""}),e.abrupt("break",22);case 21:P=r(r({},P),{},{eventId:(null==L?void 0:L.activityId)||""});case 22:return c.navigator({link:P,mode:"cmsLink",state:{}}).then((function(e){})).catch((function(e){})),e.abrupt("return");case 24:return D={},e.prev=25,e.next=28,h(i);case 28:D=e.sent,e.next=33;break;case 31:e.prev=31,e.t1=e.catch(25);case 33:if(D&&D.url){e.next=35;break}return e.abrupt("return");case 35:if(4!==i.linkType){e.next=38;break}return a.showModal?null===(R=a.showModal)||void 0===R||R.call(a,D.url):null==l||null===(A=l.triggerEvent)||void 0===A||A.call(l,"moduleCallback",{type:"showModal",name:D.url}),e.abrupt("return");case 38:if(6!==i.linkType){e.next=41;break}return p(D),e.abrupt("return");case 41:if(15!==i.linkType){e.next=44;break}return c.navigator({url:i.alipayPluginId,mode:"alipayBenefit"}),e.abrupt("return");case 44:M=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{businessCoverUrl:"businessCover",videoChannelsId:"channelLive"},r=Object.keys(e),t=0,i=r.length;t<i;t+=1){var a=r[t];if(e[a]&&n[a])return n[a]}return null}(i),j=function(e){for(var n,r,t=e.sourceData,i=void 0===t?{}:t,a=e.sourceDataKeys,o=void 0===a?["videoChannelsId"]:a,l=e.returnDateKeys,s=void 0===l?["id"]:l,u={},c=Array.isArray(o)?o:[o],d=Array.isArray(s)?s:[s],v=0,p=d.length;v<p;v+=1){u[d[v]]=(n=i,r=c[v],void 0,(Array.isArray(r)?r:r.replace(/\[/g,".").replace(/\]/g,"").split(".")).reduce((function(e,n){return(e||{})[n]}),n)||void 0)}return u}({sourceData:i}),v(D.url,"navigateTo",i.appId,i.linkType,j,M,D.type);case 46:case"end":return e.stop()}}),e,null,[[25,31]])})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=(0,l.babel_coroutine)(n().mark((function r(t){var i,a,o,l,c,v,p,f,h,b,y,m,k,x,g,w,U,C,T,I;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={url:"",type:""},t){n.next=3;break}return n.abrupt("return",i);case 3:if(a=t.linkType,o=t.businessCoverUrl,l=t.videoChannelsId,c=t.h5Url,v=t.makeCallPhone,p=void 0===v?"":v,f=t.phoneType,h=void 0===f?"custom":f,b=t.forceRecommendVid,y=void 0===b?"":b,m=t.alipayPluginId,k=void 0===m?"":m,x=e(e(e(e(e(e({},s.WeiXin,"miniUrl"),s.AliPay,"alipayMiniUrl"),s.Xhs,"xhsMiniUrl"),s.BaiDu,"baiduMiniUrl"),s.QQ,"QQMiniUrl"),s.Ks,"ksMiniUrl"),g=t[x[u]]||t[x[s.WeiXin]],w=["/cms_design/index","/cms_design/design","/cms_design/usercenter"],4!==a){n.next=8;break}i={url:g,type:"miniUrl"},n.next=30;break;case 8:if(5!==a){n.next=12;break}i={url:l,type:"videoChannelsId"},n.next=30;break;case 12:if(6!==a){n.next=29;break}if("system"!==h){n.next=26;break}return n.prev=14,n.next=17,d.post("/cms/service/organ/getOrgInfoDetail",{});case 17:U=n.sent,C=U.data.telephone,i={url:C,type:"makeCallPhone"},n.next=24;break;case 22:n.prev=22,n.t0=n.catch(14);case 24:n.next=27;break;case 26:i={url:p,type:"makeCallPhone"};case 27:n.next=30;break;case 29:7===a?i={url:o,type:"businessCoverUrl"}:9===a?i={url:"copy",type:"copy"}:[5,10,11,12].includes(a)?i={url:"channelsLive",type:"channelsLive"}:15===a?i={url:k,type:"alipayBenefit"}:2===a?o?i={url:o,type:"businessCoverUrl"}:g&&u!==s.H5?y?(T=g.includes("?")?"".concat(g,"&forceRecommendVid=").concat(y):"".concat(g,"?forceRecommendVid=").concat(y),i={url:T,type:"miniUrl"}):i={url:g,type:"miniUrl"}:c&&(y?(I=c.includes("?")?"".concat(c,"&forceRecommendVid=").concat(y):"".concat(c,"?forceRecommendVid=").concat(y),i={url:I,type:"h5Url"}):i={url:c,type:"h5Url"}):i=25===a?{url:"SUBSCRIBE_MESSAGE",type:"h5Url"}:u===s.Ks?g&&(w.some((function(e){return g.startsWith(e)}))||g.startsWith("/cms_webview/index"))?{url:g,type:"miniUrl"}:{url:c,type:"h5Url"}:u===s.BaiDu||u===s.H5?{url:c,type:"h5Url"}:{url:g,type:"miniUrl"};case 30:return n.abrupt("return",i);case 31:case"end":return n.stop()}}),r,null,[[14,22]])})))).apply(this,arguments)}null==d||d.config({foreverResolve:!0,foreverResolveResultStrategie:function(e,n,r){return r?r.data:{}},responseTransforms:[function(e,n,r,t){var i=t.data||{},a=i.errcode,l=i.errmsg;return"0"!==a&&o.wx.showToast({title:l,icon:"none"}),t?t.data:{}}]}),global.ec(a);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-utils/jumpUrl.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/miniprogram_npm/@onecrm/design-cloud-pickcoupon/wx.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("package","cms_design"),n=require("../../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.crmRequest=void 0,exports.default=function(e){return d.apply(this,arguments)},exports.getBasicInfo=s,exports.httpRequest=void 0;var a=require("../../../../../@titan/env.js");function u(){return(u=(0,a.babel_coroutine)(t().mark((function e(r,n){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r({url:"/onecrm/coupon/v1/custom/receiveCoupon",data:{channel:1,subScene:915,couponTemplateId:n,needNextCheck:!0}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{errcode:-1,errmsg:e.t0&&e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(e){return e?e&&e.activityId?function(e){if(!e||!e.activityId)return null;try{var t=e.acceptGoodsType,r=e.activityId,n=e.canReceive,a=(e.cardTemplateId,e.cashTicketAmt),u=e.cashTicketCondition,c=e.couponOrigin,o=e.expDate,s=e.couponScopeText,i=e.discount,p=e.expDayCount,l=e.expireDateType,d=e.left,m=e.maxCashTicketAmt,f=e.minCashTicketAmt,b=e.name,v=e.publishCount,h=e.startDate,T=e.startDayCount,x=e.subCouponType,y=e.type,k=e.useNotice,I=e.userTakeLimit,q=(e.subName,e.weChatSendCoupon,{couponTemplateId:r,canReceive:Number(n),useThreshold:u,platformType:c,validDate:{useEndTime:o,validDays:p,useTimeType:l,useStartTime:h,useDelayDays:T},couponScopeText:s,left:d,maxCashTicketAmt:m,minCashTicketAmt:f,name:b,publishCount:v,explain:k,userTakeLimit:I,couponType:y,couponSubType:x});switch(t){case 7:q.acceptGoodsType=3;break;case 5:q.acceptGoodsType=4;break;case 3:q.acceptGoodsType=1,q.existExcludeGoods=!0;break;case 2:q.acceptGoodsType=2;break;case 1:q.acceptGoodsType=1,q.existExcludeGoods=!1}return 2===x&&(q.couponType=5),0===y?q.discountAmount=a:1===y?(q.couponType=2,q.discountAmount=i):q.discountAmount=a||i,2===y&&(q.couponType=3),8===c&&(q.platformType=3),q}catch(e){return{}}}(e):e&&e.couponTemplateId?e:null:null}var o=n.requirePlatform("cms").main.CMS;function s(){return i.apply(this,arguments)}function i(){return(i=(0,a.babel_coroutine)((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:146,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t().mark((function a(){var u,c;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.getVidInfo();case 3:if(null!=(u=t.sent)&&u.cid&&null!=u&&u.vid||!(n<2)){t.next=8;break}return t.next=7,s(r,++n);case 7:return t.abrupt("return",t.sent);case 8:return t.next=10,o.findProductInstanceIdByCID({cid:u.cid,productId:r});case 10:return c=t.sent,s.cache=e(e({},u),{},{piid:c}),t.abrupt("return",s.cache);case 15:if(t.prev=15,t.t0=t.catch(0),!(n<2)){t.next=23;break}return t.next=20,s(r,++n);case 20:t.t1=t.sent,t.next=24;break;case 23:t.t1=null;case 24:return t.abrupt("return",t.t1);case 25:case"end":return t.stop()}}),a,null,[[0,15]])}))()}))).apply(this,arguments)}var p=function e(){return e.instance||(e.instance=o.createRequester({weimobOS:!0,responseTransforms:[function(e,t,r,a){return n.Promise.resolve(a&&a.data)}]})),e.instance};exports.crmRequest=p;var l=exports.httpRequest=function(){var r=(0,a.babel_coroutine)(t().mark((function r(n){var a,u,c,o,i,l;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.url,u=n.data,c=n.pid,t.next=5,s(c);case 5:if((o=t.sent)&&o.piid){t.next=8;break}throw new Error("获取basicInfo失败");case 8:return t.prev=8,i=e({targetBasicInfo:{productInstanceId:o.piid}},u),t.next=12,p().request({method:"POST",url:a,data:i});case 12:return l=t.sent,t.abrupt("return",l);case 16:return t.prev=16,t.t0=t.catch(8),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),r,null,[[8,16]])})));return function(e){return r.apply(this,arguments)}}();function d(){return(d=(0,a.babel_coroutine)(t().mark((function e(r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=c(r))&&a.couponTemplateId){e.next=3;break}throw new Error("优惠券数据不正确，无法领取");case 3:return e.prev=3,e.next=6,function(e,t){return u.apply(this,arguments)}(l,a.couponTemplateId);case 6:return"0"===(o=e.sent).errcode&&o.data.code?n.requirePlatform&&n.requirePlatform("cms_sdk").main.SDK.toast("领券成功"):n.requirePlatform&&n.requirePlatform("cms_sdk").main.SDK.toast("领券失败"),e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(3),n.requirePlatform&&n.requirePlatform("cms_sdk").main.SDK.toast("领券失败"),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/miniprogram_npm/@onecrm/design-cloud-pickcoupon/wx.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/pages/onRefresh.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("package","cms_design"),o=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.onPullDownRefresh=function(){o.wx.showNavigationBarLoading(),this.onPageScrollHandler=[],this.selectComponent("#design-platform-page").loadData(!0)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/pages/onRefresh.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/pages/onShare.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=global.bc("package","cms_design"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.onShareAppMessage=function(e){var r=this;return i(e,{shareMessage:this.data.shareMessage,pageId:this.pageId},this.rec,(function(e){r.rec(e)}))},exports.onShareTimeline=function(e){var r=this;return i(e,{shareMessage:this.data.shareMessage,pageId:this.pageId},{isShareTimeline:!0},(function(e){r.rec(e)}))};var a=t.requirePlatform("cms").main.CMS;function n(e){return decodeURIComponent(e.replace(/\+/g," "))}function i(r,i){var s=i.shareMessage,o=i.pageId,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=c.isShareTimeline,p=void 0!==g&&g,h=arguments.length>3?arguments[3]:void 0,u={title:"",path:"",imageUrl:"",desc:""},l=t.getCurrentPages()[t.getCurrentPages().length-1],d=(l.options,function(){var e=t.getCurrentPages()[t.getCurrentPages().length-1],r=e.route,a=e.options,n=[];for(var i in a)n.push("".concat(i,"=").concat(a[i]));return"".concat(r,"?").concat(n.join("&"))}());s&&(u.title=s.shareTitle,u.content=s.shareDescription,u.imageUrl=p?s.shareImage:s.shareBigPic,u.path=d,p&&(u.query=d.split("?")[1]||""));var m="button"==r.from?"downshare":"forward",f=new t.Promise((function(r){a.appendPMCToURL({baseUrl:d,types:[3,4],kinds:[3,4]}).then((function(t){var a=t.indexOf("?")>0?function(e){for(var r,t=/([^=?&]+)=?([^&]*)/g,a={};r=t.exec(e);){var i=n(r[1]),s=n(r[2]);i in a||(a[i]=s)}return a}(t.split("?")[1]):{};h(e({en:"share",elementid:m,eventtype:"tap",pageid:o,pagename:l.pagename},a)),r(e(e({},u),{},{path:t.replace("mini_channel=mini_guider","")}))}))})),v=e(e({},u),{},{promise:f});return v}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/pages/onShare.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/pages/pageBehavior.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2");require("../../../@babel/runtime/helpers/Arrayincludes");var t=global.bc("package","cms_design"),i=require("../titan-scoped-env.js"),r=i.requirePlatform("cms").main,a=r.CMS;r.throttle,r.debounce;module.exports=i.Behavior({data:{shareMessage:{},$primaryNoDone:!0},methods:{shareMessage:function(e){var t=e.detail;this.setData({shareMessage:t})},pageReady:function(e){var t=e.detail||{},r=t.pageId,d=t.productId,s=t.productInstanceId,n=t.vid;this.pageId=r,this.productId=d,this.productInstanceId=s,this.vid=n;var c=i.getCurrentPages()[i.getCurrentPages().length-1],o=a.getTracePromotionInfoByPage(c);(null==o?void 0:o.tracePromotionId)&&i.wx.rprm.pub({tracepromotionid:o.tracePromotionId,isqdzz:o.isqdzz?1:0},"new");var u=this.data,p=u.isHome,h=u.isUserCenter;p||h||this.pvRec(),this.hideNavMenu()},getRecQuery:function(){var t=i.getCurrentPages()[i.getCurrentPages().length-1].options,r={isqdzz:"isqdzz",essharewid:"essharewid",activitytype:"activitytype",activityid:"activityid",articlesid:"articlesid",sdpTicket:"sdp_ticketid",dcGuideTicket:"dcguideticket",guiderWid:"guiderwid",mat_id:"mat_id",cyclic_quest_id:"cyclic_quest_id"},a=Object.keys(r),d={};return Object.keys(t).forEach((function(e){a.includes(e)&&(d[r[e]]=t[e])})),e({},d)},rec:function(t){i.wx.rprm.rec(e({product_id:this.productId,product_instance_id:this.productInstanceId},t))},pvRec:function(){var t={vid:this.vid,pageid:this.pageId,product_id:this.productId,product_instance_id:this.productInstanceId},r="自定义页面";this.data.isHome?(t.ishome=1,r="首页"):this.data.isUserCenter&&(r="个人中心"),t.page_title_bak=r,i.wx.rprm.rec(e(e({en:"pv",elementid:"pv",eventtype:"view",pagename:this.data.pagename},t),this.getRecQuery()))},hideNavMenu:function(){var e=i.getCurrentPages(),t=e[e.length-1].options.mini_channel;"wxwork"===i.wx.getSystemInfoSync().environment&&"mini_guider"===t&&a.hideNavMenu()},pageScroll:function(e){this.onPageScrollHandler.map((function(t){return t(e)}))},loadDataReady:function(e){this.$onPrimaryDone();var t=(e.detail||{}).pageId,i=this.data,r=i.isHome,a=i.isUserCenter;(r||a)&&(this.pageId=t,this.pvRec())}}}),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/pages/pageBehavior.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("package","cms_design",(function(e){switch(e){case"ec":return require("./EXTS/ec/index");default:return null}}));
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./EXTS/cms/titan-scoped-env.js"),require("./EXTS/ec/titan-scoped-env.js"),require("./EXTS/ec/index"),global.beginDefineBootstrap=!0;var e=global.bc("package","cms_design"),n=require("./titan-scoped-env.js"),i=n.requirePlatform("cms").main,a=i.CMS,o=i.setCMSCommonRPRMParams;a.addRecommendVidRequestBeforeHook((function(e){var n,i,a;-1!==(null===(n=e.currentPage)||void 0===n?void 0:n.route.indexOf("cms_design/index"))&&(null===(i=e.currentPage)||void 0===i||null===(a=i.options)||void 0===a?void 0:a.bizVid)&&(e.requestData.bizVid=e.currentPage.options.bizVid)}),{name:"cms_design_bootstrap"}),o(n.titan.getCurrentModuleInfo()),n.wx.rprm.addInterceptor("syncRec",(function(e,n){"pageshow"!==e.en&&"sdk_tap"!==e.en||"cms-index"!==n.pagename&&"cms-usercenter"!==n.pagename||!n.pageId||(e.pageid=n.pageId)})),global.ec(e),global.beginDefineBootstrap=!1,global.emr("cms_design"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'cms_design/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_design/titan-preload-module.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./RAW/titan.bootstrap"),console.log("[titan:core]","cms_design模块加载成功"),module.exports={};
},{isPage:false,isComponent:false,currentFile:'cms_design/titan-preload-module.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=require("../../@babel/runtime/helpers/defineProperty"),o=require("../../@babel/runtime/helpers/objectSpread2");require("./titan.bootstrap.js");var r=global.bc("platform","cms_sdk"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.wm=exports.versionCode=exports.version=exports.getInnerModules=exports.getInnerMats=exports.buildTime=exports.SDK=exports.CMSSDK=exports.CMS=void 0;var a=require("./mod.js"),n=require("./mat.js");t.global.wmsdk_start_ts=t.global.wmsdk_start_ts||Date.now(),(0,a.aV)("ImageMask",{showImageMask:n.b,closeImageMask:n.d});var s=function(e){var r=[],t=(0,a.bF)("Fork_".concat(e.forkName,"_").concat(e.name)),n=(0,a.bG)("Fork_".concat(e.forkName,"_").concat(e.name));r.push(o(o(o({},t),n),{},{asyncApiList:["setLocalStorageState","getLocalStorageState","getLocalStorageStateKeys","removeLocalStorageState","clearLocalStorageState"],name:"WMSDKLocalState"}));var s=(0,a.bH)({module:"WMSDKForkInstance",scope:e.forkName,group:e.name});return r.push(o(o({},(0,a.bA)(s,["log","debug","error","warn"])),{},{name:"WMSDKLogger"})),r},i=exports.version="1.5.21",c=exports.versionCode=parseInt("1005021000"),u=exports.buildTime=parseInt("1704423980810"),l=(0,a.s)("SDKInitState"),d=(0,a.s)("Main.SDKOptions",(function(){return{hooks:{before:[a.bJ.triggerHook.ApiTriggerBeforeMonitor],resolve:[a.bJ.triggerHook.ApiTriggerResolveMonitor],catch:[a.bJ.triggerHook.ApiTriggerCatchMonitor],reject:[a.bJ.triggerHook.ApiTriggerRejectMonitor]},forkHooks:{before:[a.bK.triggerHook.ApiTriggerBeforeMonitor],resolve:[a.bK.triggerHook.ApiTriggerResolveMonitor],catch:[a.bK.triggerHook.ApiTriggerCatchMonitor],reject:[a.bK.triggerHook.ApiTriggerRejectMonitor]},forkBaseGetter:s}})),g=(0,a.bI)(6,i,c,u,d);(0,a.H)("onAppHide",[function(){a.bJ.upload(),a.bK.upload()}]);var b=g.proxy;!function(r,s,i){var c,u;if(s.fired)a.M.log(s.from,"Main");else{var l=null===(c=(u=t.titan).getIndependentPackageInfo)||void 0===c?void 0:c.call(u);if(s.fired=!0,s.from="已在".concat(null!=l&&l.name?"独立分包"+l.name:"主包","（").concat((0,a.aW)(new Date,"YYYY-MM-DD HH:mm:ss.SSS"),"）中完成初始化!"),(0,a.aX)("onLoad",(function(){var e=this,r=e.onShareAppMessage;(0,a.ag)(r)?e.onShareAppMessage=function(){for(var t,n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];if(a.M.log("页面分享回调触发（".concat((0,a.L)(this),"）"),"Main",i),null!=i&&null!==(t=i[0])&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.dataset){var u=i[0].target.dataset,l=u["optimal-source"]||u.optimalSource,d=u["optimal-config"]||u.optimalConfig;if(l&&(0,a.m)(d)&&(0,a.n)(d.path))return a.M.warn("页面分享数据被【".concat(l,"】重写（").concat((0,a.L)(this),"）"),"Main",d,u,i),(0,a.a)({type:11,label:9,val:1,code:l,belong:e.getPageId(),data:d}),d}var g=Date.now(),b=r.apply(this,i),p=function(r,t){var n=Date.now();(0,a.a)({ts:g,type:11,label:9,val:2,belong:e.getPageId(),data:o({endTs:n,err:t},t?(0,a.bD)(r):r)})};return(0,a.ar)(b)?(b.then((function(e){p(e,0)})).catch((function(e){p(e,1)})),b):(p(b,0),b)}:(0,a.a)({type:11,label:8,belong:e.getPageId()})})),(0,a.aY)(a.bB),r.use(a.aZ),r.use(a.a_),r.use(a.a$),r.use(a.b0),r.use(a.b1),r.use(a.b2),r.use(a.b3),r.use(a.b4),r.use(a.b5),r.use(a.b6),r.use(a.b7),r.use(a.b8),r.use(a.b9),r.use(a.ba),r.use(a.bb),r.use(a.bc),r.use(a.bd),r.use(a.be),r.use(a.bf),r.use(a.bg),r.use(a.bh),r.use(a.bi),r.use(a.bj),r.use(a.bk),r.use(a.bl),r.use(a.bm),r.use(n.L),r.use(n.N),r.use(a.bn),r.use(a.bo),r.use(a.bp),r.use(n.E),r.use(a.bq),r.use(a.br),r.use(n.I),r.use(a.bs),r.use(a.bt),r.use({fillSDKApi:function(o,t){r.use(e({},o,t))}}),31!==(0,a.aH)()){var d=["navigate","reLaunch","redirect","switchTab"];r.config("navigator",{hooks:[{before:function(e,o,r,t){-1===d.indexOf(t.mode)||t.appId&&(0,a.x)()!==t.appId||(0,a.bC)(o.url),r()}}]})}r.config("request",{requestTransforms:[[function(e){(0,a.m)(e.data)&&((0,a.m)(e.data.extendInfo)||(e.data.extendInfo={}))},{name:"fillDefaultExtendInfo"}]],responseTransforms:[[function(e,o,r,t){var a,n,s;!e.weimobOS||null!==(a=e.header)&&void 0!==a&&a["x-cmssdk-vidticket"]||"1057"!==String(null==t||null===(n=t.data)||void 0===n?void 0:n.errcode)||(null===(s=e.logger)||void 0===s||s.log("当前请求报错打烊，但因其依赖进店且进店失败，故不弹出打烊弹框","Main",e.url,e),e.triggerErrorModal=!1)},{name:"closeStoreResp"}],[(0,a.bu)(r.showRequestErrorModal),{name:"errModal"}]]}),r.config("navigator",{hooks:[{before:a.bv,complete:a.bw}]}),r.config("navigator",{hooks:[{before:(0,a.bx)(r)}]}),(0,a.by)(),function(e){e.config("navigator",{hooks:[{complete:function(o,r,t,n,s){var i;if(null==o||null===(i=o.message)||void 0===i||!i.includes("is not found"))return n();if(!(0,a.m)(s.modeAdapter)||(0,a.f)(s.modeAdapter))return n();var c=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;e.emit("CMSSDK.NavigatorFail",{err:a,from:r,to:t,options:s})};e.request({url:"/mall/base/global/getChannelUrl",method:"POST",weimobOS:!0,data:{queryParameter:{url:s.url}}}).catch((function(){})).then((function(e){var o=(null==e?void 0:e.data)||{},r=o.data,t=o.errcode;if(void 0!==t&&0===Number(t)){var i=(r||{}).channelUrl;if(i===s.url)return n();var u=(0,a.au)({},s);delete u.hooks,u.uriAdapter.setSourceUrl(i),s.modeAdapter[u.mode](u).catch((function(e){c(e)})).finally((function(){n()}))}else c(),n()}))}}]})}(r),(0,a.bz)({scope:"Main",desc:"Mp WOS WMSDK Version: v".concat(i,", build time: ").concat((0,a.aW)(parseInt("1704423980810"),"YYYY/MM/DD HH:mm:ss.SSS"))}),(0,a.bz)({scope:"Env",desc:"环境标识=".concat(r.env())}),(0,a.bz)({scope:"ExtJSON",desc:JSON.stringify((0,a.ao)())});var g=t.titan.getTitanConfig();r.addBreadCrumb({type:8,label:3,val:i,data:(0,a.bA)(g||{},["buildTime","titanVersion"])}),r.reportPerformance("SDKInit",Date.now()-(t.global.wmsdk_start_ts||Date.now()))}}(b,l,i);var p=function(e){return(0,a.bL)(e,g.store,{logger:(0,a.bM)(e,a.M,b.isProductionEnv(),1703952e6)})};exports.SDK=p("SDK"),exports.CMSSDK=p("CMSSDK"),exports.CMS=p("CMS"),exports.wm=b,exports.getInnerModules=function(e){if("21c2fdc4377214854e6de450df218b8a"===e)return require("./mod.js");console.error("@cms-sdk/mp-sdk-subpackage与@cms-sdk/mp-sdk版本不一致，请检查你的titan.config.js文件，让两者的version字段值一致！"),"devtools"===t.wx.getSystemInfoSync().platform&&t.wx.showModal({title:"编译异常",content:"@cms-sdk/mp-sdk-subpackage与@cms-sdk/mp-sdk版本不一致，请检查你的titan.config.js文件，让两者的version字段值一致！"})},exports.getInnerMats=function(e){if("21c2fdc4377214854e6de450df218b8a"===e)return require("./mat.js");console.error("@cms-sdk/mp-sdk-subpackage与@cms-sdk/mp-sdk版本不一致，请检查你的titan.config.js文件，让两者的version字段值一致！"),"devtools"===t.wx.getSystemInfoSync().platform&&t.wx.showModal({title:"编译异常",content:"@cms-sdk/mp-sdk-subpackage与@cms-sdk/mp-sdk版本不一致，请检查你的titan.config.js文件，让两者的version字段值一致！"})},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/injection.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","cms_sdk"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ViewLifeTitanInjection",{enumerable:!0,get:function(){return r.V}});var r=require("./mod.js");t.global.wmsdk_start_ts=t.global.wmsdk_start_ts||Date.now(),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/injection.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/mat.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/regeneratorRuntime"),o=require("../../@babel/runtime/helpers/objectWithoutProperties");require("../../@babel/runtime/helpers/Arrayincludes");var t=require("../../@babel/runtime/helpers/slicedToArray"),n=require("../../@babel/runtime/helpers/objectSpread2"),r=["url","level"],i=["pageTitle","paramMap"],s=["customerBrowsePageName"],a=global.bc("platform","cms_sdk"),c=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.d=exports.c=exports.b=exports.a=exports.N=exports.L=exports.I=exports.E=void 0,exports.g=B,exports.s=exports.h=void 0;var l=require("../../@titan/env.js"),d=require("./mod.js");c.global.wmsdk_start_ts=c.global.wmsdk_start_ts||Date.now();var u=function(e,o){(0,d.a)(n({type:11,label:55,val:e},o||{}))};exports.a=u;var p=function(e,o){return(0,d.g)("ImageMask",null==o?void 0:o.belongPageId).then((function(t){t?t[e](o):u(3,n(n({},(null==o?void 0:o.breadCrumbInfo)||{}),{},{data:new Error("无法在当前页面找到ImageMask组件")}))})).catch((function(e){u(3,n(n({},(null==o?void 0:o.breadCrumbInfo)||{}),{},{data:e}))}))};exports.b=function(e){return p("show",e)},exports.d=function(e){return p("close",e)};var v=(0,d.s)("VidLoadingState"),f={1:{1:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/style-1.gif",2:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/loading-1.png"},2:{1:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/style-2.gif",2:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/loading-2.png"},3:{1:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/style-3.gif",2:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/mp/loading/loading-3.png"}},g=(0,d.s)("LoadingInstance",(function(){return function e(o,t){var r=(0,d.i)(o)&&o&&!(0,d.f)(o)?o:{},i={show:function(e){var o,i=(new Date).getTime(),s=n(n({},t?t.config():{}),r);return(0,d.n)(e)&&(s.text=e),null===(o=s.showBeforeHandler)||void 0===o||o.call(s,s),(0,d.g)("Landing").then((function(o){var t;if(o)return null===(t=s.insReadyHandler)||void 0===t||t.call(s,o,s),new c.Promise((function(t){e&&(s.text=e),o.show(s,t,i)}));d.M.warn(d.k,"Loading")}))},hide:function(){var e=(new Date).getTime();return(0,d.g)("Landing").then((function(o){if(o)return new c.Promise((function(t){o.hide(t,!1,e)}));d.M.warn(d.k,"Loading")}))},config:function(e){(0,d.i)(e)&&e&&!(0,d.f)(e)&&Object.assign(r,e);var o=n(n({},t?t.config():{}),r),i=(0,d.l)("Landing");if((0,d.m)(i))if(i.data.visible)i.show(o);else{var s={};o.animationIcon&&(s.animationIcon=o.icon),o.icon&&(s.icon=o.icon),i.setData({previewImage:s})}return r},createLoadingInstance:function(o){return e(o,i)}};return i}()})),m=g.show,b=g.hide,h=g.config;exports.h=b,exports.s=m,exports.L=Object.freeze({__proto__:null,config:h,hide:b,install:function(e){e.setMeta({asyncApiList:["showLoading","hideLoading"],apiInputMonitor:{showLoading:{fields:[["0",2,"options"],["0.icon",2,"icon"],["0.text",2,"text"],["0.zIndex",2,"zIndex"],["0.top",2,"top"],["0.right",2,"right"],["0.bottom",2,"bottom"],["0.left",2,"left"]]}}}),e.addApi({showLoading:m,hideLoading:b});var o,n=function(e){return e&&!/\.svg$/.test(e)?(0,d.h)(e,{size:"xs",pictureRatio:3}):e},r=function(){var e,t;return(null===(e=o)||void 0===e?void 0:e.icon)||2===(null===(t=o)||void 0===t?void 0:t.loadingType)},i="loading_options",s=(0,d.b)(i),a=function(e){var o,t,s,a,l,u;if(!r()&&((null==e||null===(o=e.pvidInfo)||void 0===o||null===(t=o.vidLogos)||void 0===t?void 0:t.length)&&(l=(null==e||null===(s=e.pvidInfo)||void 0===s||null===(a=s.vidLogos)||void 0===a?void 0:a[0])||""),l)){var p=e.pvid;v[p]={icon:n(l)},u=v[p].icon,(0,d.j)(i,u),c(p,{})}};h({showBeforeHandler:function(o){var t,n=null===(t=e.getVidInfoSync())||void 0===t?void 0:t.vid;if(!n){var r,i=(0,d.c)();n=null==i||null===(r=i.options)||void 0===r?void 0:r.vid}n&&"0"!==n&&(n=parseInt(n),c(n,o))},insReadyHandler:function(e){var o=(0,d.d)(e);(0,d.r)(null==o?void 0:o.$cmsVidPromise).then((function(){if(null!=o&&o.$cmsVidResult&&3!==e.$wmStatus){var t=o.$cmsVidResult.pvidInfo;a({pvidInfo:t})}}))}});var c=function(e,o){var t=v[e];t&&t.icon&&(h({icon:t.icon}),o.icon=t.icon)};(0,d.e)("style").then((function(e){return function(e){if(!o){e||(e={loadingType:1,logoType:1,logoCategory:2,logo:"",type:1,animationIcon:"1"});var t=e,i=t.animationIcon,a=t.loadingType,c=t.type;[1,2].includes(a)||(a=c);var l="";if(1===a){var d=e||{},u=d.logoType,p=d.logoCategory,v=d.logo;1===u&&1===p&&v&&(l=v),2===u&&(l=v),l&&!l.startsWith("http")&&(l="https:"+l)}(o=e).loadingType=a,o.icon=l,h({animationIcon:["1","2","3"].includes(i)?n(f[i][String(a)]):i,icon:n(l),iconClass:1===a&&"3"===i?"move-up":"",isCustomAnimationIcon:2===o.type,isCustomIcon:1===e.loadingType&&2===e.logoType}),r()||s.then((function(e){e&&h({icon:e})}))}}(null==e?void 0:e.animation)})),e.on("VID_READY",(function(e){var o=t(e,1)[0];(null==o?void 0:o.pvidInfo)&&a(o)}))},show:m});var w=function(e){return(e?c.Promise.resolve(e):(0,d.o)()).then((function(e){return new c.Promise((function(o){(0,d.p)(e,"CMS_NAV_MENU_RENDER",(function(e){o(e)}))}))}))};exports.c=w;var y=function(){return(0,d.a)(n({type:11,label:5},(0,d.q)())),(0,d.g)("NavMenu").then((function(e){var o;if(e)return null===(o=e.show)||void 0===o?void 0:o.call(e);d.M.warn(d.t,"NavMenu")}))},M=function(){return(0,d.a)(n({type:11,label:6},(0,d.q)())),(0,d.g)("NavMenu").then((function(e){var o;return null==e||null===(o=e.hide)||void 0===o?void 0:o.call(e)}))},I=function(e,o,n){var r=(0,d.u)(e,o,n);return"global"===r.scope||2===r.scope?function(e){return(0,d.v)("NavMenu").forEach((function(o){o.setBadge(e.comparer||e.url||e.index,e.text)})),c.Promise.resolve()}(r):function(e){return c.Promise.all([w(),(0,d.g)("NavMenu")]).then((function(o){var n=t(o,2),r=n[0],i=n[1];r.hasNav&&i&&i.setBadge(e.comparer||e.url||e.index,e.text)}))}(r)};exports.N=Object.freeze({__proto__:null,checkNavMenu:w,hideNavMenu:M,install:function(e){e.setMeta({asyncApiList:["checkNavMenu","showNavMenu","hideNavMenu","setNavMenuBadge"]}),e.addApi({checkNavMenu:w,showNavMenu:y,hideNavMenu:M,setNavMenuBadge:I}),e.config("navigator",{hooks:[{before:function(e,o,t,n){if(2===(0,d.w)())if(!o.url.startsWith("/cms_design/index")||n.appId&&(0,d.x)()!==n.appId)t();else if(o.url.includes("forceRecommendVid"))t();else{var r=(0,d.y)(o.url),i=(0,d.z)(),s="0"!==r.query.vid&&r.query.vid&&r.query.vid!==i.vid;(0,d.A)().then((function(e){var i,a,c,l,u=(null==e||null===(i=e.vidResponse)||void 0===i||null===(a=i.pvidInfo)||void 0===a?void 0:a.vid)||"";if((null==e||null===(c=e.vidResponse)||void 0===c||!c.shoppingMall||(null==e||null===(l=e.vidResponse)||void 0===l?void 0:l.shoppingMall)&&!r.query.bizVid)&&(0,d.B)("bizVid"),"0"!==r.query.vid&&r.query.vid){var p=o.url;if(u&&("0"===r.query.vid||!r.query.vid)){var v=(0,d.y)(o.url);v.query.vid=u,p=(0,d.C)(v)}(0,d.D)("路由跳转",void 0,p)}if(s)s&&(0,d.D)("路由跳转",void 0,(0,d.C)(r));else{delete r.query.vid;var f=(0,d.z)();f.vid&&(r.query.vid=f.vid),(0,d.D)("路由跳转",void 0,(0,d.C)(r))}n.url=(0,d.C)(r),t()}))}else t()}},{before:function(e,o,t,n){(0,d.E)(n)?(0,d.A)().then((function(e){var o,r;(0,d.F)(null==e?void 0:e.vidResponse,null===(o=n.uriAdapter)||void 0===o?void 0:o.getUrl())&&(n.mode="navigate",null===(r=n.uriAdapter)||void 0===r||r.setMode("navigate"),n.ignoreCheckTabBarRoutes=!0);t()})):t()}}]})},setNavMenuBadge:I,showNavMenu:y});var L,x,_,E={empty:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/client/status/empty.png",closed:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/shopClosed.png",envError:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/client/status/env_error.png",lost:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/nothing.png",error:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/sitBack.png",offline:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/offline.png",hot:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/hot1.png",error_popup:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/error_popup.png",offline_popup:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/offline_popup.png",hot_popup:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/err/hot_popup.png"},N="ERROR",P="INFO",k={error:{img:E.error,textList:["当前遇到问题，请稍后重试"],tip:"",reportLevel:N,actions:["reload"]},pageUnPublish:{img:E.lost,textList:["抱歉，页面未发布或已删除"],tip:"",reportLevel:P,actions:["goHome"]},envError:{img:E.envError,textList:["请在微信环境中打开"],tip:"",reportLevel:P,actions:[]},goHome:{img:E.lost,textList:["不好意思，没有找到此内容哦"],tip:"",reportLevel:P,actions:["goHome"]},pageNotFound:{img:E.lost,textList:["不好意思，没有找到此内容哦"],tip:"",reportLevel:P,actions:["goHome"]},pageEmpty:{img:E.lost,textList:["页面内容没有更多了，逛逛别的页面吧～"],tip:"",reportLevel:P,actions:[]},empty:{img:E.lost,textList:["内容没有更多了～"],tip:"",reportLevel:P,actions:[]},goUserCenter:{img:E.error,textList:["如需查看历史购买记录请查看个人中心"],tip:"",reportLevel:P,actions:["goUserCenter"]},busy:{img:E.error,textList:["当前遇到问题，请稍后重试"],tip:"",reportLevel:P,actions:["reload"]},noRight:{img:E.error,textList:["当前遇到问题，请稍后重试"],tip:"",reportLevel:P,actions:["reload"]},offNetwork:{img:E.offline,textList:["网络遇到问题，请检查后重试"],tip:"",reportLevel:N,actions:["reload"]},hot:{img:E.hot,textList:["店铺访问火爆，请稍后再试"],tip:"",actions:["reload"],reportLevel:N,noTip:!0}},R={error:{img:E.error_popup,textList:["前方网络拥挤","请稍后片刻再试试"],tip:"",reportLevel:N,actions:["tryLater"]},offNetwork:{img:E.offline_popup,textList:["前方网络拥挤","请稍后片刻再试试"],tip:"",reportLevel:N,actions:["tryLater"]},hot:{img:E.hot_popup,textList:["店铺访问火爆!","前方网络拥挤，请稍后片刻"],tip:"",reportLevel:N,actions:["tryLater"]}},q=function(e,o){return o&&"popup"===o.type?R[e]?R[e]:(d.M.warn("错误遮罩弹窗类型的code只有:".concat(Object.keys(R).join(" | "),",其它code会转换为error"),"ErrorModal"),R.error):k[e]?k[e]:(d.M.warn("错误遮罩的code只有:".concat(Object.keys(k).join(" | "),",其它code会转换为error"),"ErrorModal"),k.error)};c.setTimeout((function(){(0,d.G)().then((function(){(0,d.H)("downloadFile",[{url:E.offline,success:function(e){E.offline=e.tempFilePath||E.offline,k.offNetwork.img=e.tempFilePath||E.offline}}])}))}),5e3);var j=function(e){var o,t=e;"string"==typeof e&&(t=q(e));var r=t,i=r.img,s=r.textList,a=r.tip,l=r.actions,u=r.zIndex,p=void 0===u?11e3:u,v=r.auto,f=void 0===v?{actionIndex:0}:v,g={goHome:{label:"返回首页",cb:function(){(0,d.K)("!/cms_design/index")}},goUserCenter:{label:"前往个人中心",cb:function(){(0,d.K)("/cms_design/usercenter")}},reload:{label:"刷新",cb:function(){(0,d.o)().then((function(e){if(c.titan.isTabBarPage(e))c.titan.reloadPage(e);else{var o=(0,d.y)((0,d.L)(e));o.query.t=Date.now(),(0,d.K)("=".concat((0,d.C)(o)))}}))}},getIt:{label:"知道了",cb:function(){}},tryLater:{label:"稍后再试",cb:function(){}}},m=(null===(o=(0,d.c)())||void 0===o?void 0:o.route)||"",b=(l||[]).some((function(e){return"string"==typeof e?"goHome"===e:!!e.label&&"goHome"===e.label}))&&m.includes("cms_design/index"),h=n(n({},e),{},{img:E[i||""]||i||E.error,textList:Array.isArray(s)?s:[s||""],zIndex:p,auto:f});return h=n(n({},h),{},b?{auto:{},actions:[]}:{tip:a||"",actions:(l||[]).map((function(e){var o,t=function(){return d.M.warn("errorModal：没有回调执行，建议使用{label:按钮文案,cb:(vm)=>{}}来实现","ErrorModal")};return"string"==typeof e?e in g?g[e]:(d.M.warn("可选值为：".concat(Object.keys(g).join(" | ")),"ErrorModal"),{label:"",cb:t}):(0,d.m)(e)?("string"==typeof e.cb&&(e.cb=(null===(o=g[e.cb])||void 0===o?void 0:o.cb)||t),e.label=e.label||"",n(n({},e),{},{cb:e.cb||t})):{label:"",cb:t}}))})},A=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L=n(n({},j(e)),{},{show:!1});var r={show:function(){return L.show=!0,i(L)},hide:function(){return L.show=!1,i(L,"hide")},update:function(e){return i(L=n(n({},j(e)),{},{show:L.show}),"update")}};function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show";return c.Promise.all([(0,d.o)(),(0,d.g)("ErrorModal")]).then((function(i){var s=t(i,2),a=s[0],c=s[1];if(a&&3!==(0,d.N)((0,d.O)(a))){if(!c)return Error(d.P);if(!e.pageId||e.pageId===(0,d.O)(c))return c.update(e,o,n),_=c,r;d.M.log("需要显示遮罩的页面非当前页面，不予以显示","ErrorModal")}}))}return r},C=(0,d.I)("ErrorModalLAST_SHOW_KEY");function O(e,o){var t={};if((0,d.m)(e)){var n=e;n.code&&Object.assign(t,q(n.code,n)),Object.assign(t,n)}else(0,d.J)(e)&&Object.assign(t,q(e));return((0,d.J)(o)&&o||Array.isArray(o)&&o.length)&&(t.textList=o),C.value=t.key,t}function T(e){var t=e.url,n=void 0===t?"":t,i=e.level,s=void 0===i?5:i,a=o(e,r),c=s;if(isNaN(c))return d.M.warn("level必须是Number类型，接收到的是".concat(c),"ErrorModal");var l=n.toString().indexOf("?"),u=n;if(-1!==l&&(u=n.slice(0,l)),u)return 99===c?c=10:/mapi\/user\/login$/.test(u)?c=11:/\/base\/global\/getRecommendVidInfo$/.test(n)?c=9:s>8?c=8:s<3&&(c=3),a.key=a.key||n,(x=A(O(a,[]),c)).show();d.M.warn("errorModal：第一个参数是必须的,接收到的是".concat(n),"ErrorModal")}function S(e){var o=O(e,[]);return(x=A(o,0)).show()}function B(e){return j(O(e))}var z=function(){return C.value||""};function H(){var e,o;if(C.value="",null!==(e=x)&&void 0!==e&&e.hide)return null===(o=_)||void 0===o||o.setData({show:!1}),x.hide();d.M.warn("errorModal：找不到实例，是否已执行过showErrorModal?","ErrorModal")}exports.E=Object.freeze({__proto__:null,getErrorModalOptions:B,getLastErrorModalShowKey:z,hideErrorModal:H,install:function(e){e.addApi({getLastErrorModalShowKey:z,showRequestErrorModal:T,showErrorModal:S,hideErrorModal:H,getErrorModalOptions:B})},showErrorModal:S,showRequestErrorModal:T});var D={originProductId:"originProductId",originProductInstanceId:"originProductInstanceId"},V=function(){var t=(0,l.babel_coroutine)(e().mark((function t(r){var a,l,u,p,v,f,g,m,b,h,w,y,M,I,L;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Q)();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return a=e.t0,l=a.cid,u=a.vid,p=a.productId,v=a.productInstanceId,f=a.bosId,m=(g=r||{}).pageTitle,b=g.paramMap,h=void 0===b?{}:b,w=o(g,i),y=h.customerBrowsePageName,M=o(h,s),I={bosId:(null==w?void 0:w.bosId)||f,channel:2,originProductId:(null==w?void 0:w.originProductId)||p,originProductInstanceId:(null==w?void 0:w.originProductInstanceId)||v,customerId:null==w?void 0:w.wid,vid:(null==w?void 0:w.vid)||u,paramMap:n(n({},M),{},{customerBrowsePageName:y||m||""})},L="",(0,d.R)(D,(function(e,o){L+="".concat(I[o]?"":e)})),e.abrupt("return",L?c.Promise.reject(new Error("请传递有效的参数（".concat(L,"）"))):new c.Promise((function(e,o){(0,d.S)({bosId:I.bosId,cid:l,productId:"153"}).then((function(o){return I.targetProductInstanceId=o,(0,d.T)({method:"POST",url:"/kfc/user/sdk/getChannelInfo",weimobOS:!0,data:I}).then((function(o){var t,n=(null==o||null===(t=o.data)||void 0===t?void 0:t.data)||{},r=n.open,i=n.kfAbilityUrl;200===o.status&&0===o.data.errcode&&r?e(i):e("")}))})).catch(o)})));case 22:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();exports.I=Object.freeze({__proto__:null,getCustomerServiceURL:V,install:function(e){e.setMeta({asyncApiList:["getCustomerServiceURL"]}),e.addApi({getCustomerServiceURL:V})}}),global.ec(a);
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/mat.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/mod.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e,t,r,n=require("../../@babel/runtime/helpers/regeneratorRuntime"),o=require("../../@babel/runtime/helpers/get"),i=require("../../@babel/runtime/helpers/getPrototypeOf"),a=require("../../@babel/runtime/helpers/assertThisInitialized"),u=require("../../@babel/runtime/helpers/inherits"),c=require("../../@babel/runtime/helpers/createSuper"),s=require("../../@babel/runtime/helpers/toArray"),l=require("../../@babel/runtime/helpers/toConsumableArray"),d=require("../../@babel/runtime/helpers/slicedToArray"),f=require("../../@babel/runtime/helpers/classCallCheck"),p=require("../../@babel/runtime/helpers/createClass"),v=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),g=require("../../@babel/runtime/helpers/objectSpread2"),m=require("../../@babel/runtime/helpers/defineProperty"),h=require("../../@babel/runtime/helpers/typeof"),y=global.bc("platform","cms_sdk"),b=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.aJ=exports.aI=exports.aH=exports.aG=exports.aF=exports.aE=exports.aD=exports.aC=exports.aB=exports.aA=exports.a9=exports.a8=exports.a7=exports.a6=exports.a5=exports.a4=exports.a3=exports.a2=exports.a1=exports.a0=exports.a$=exports.a=exports._=exports.Z=exports.Y=exports.X=exports.W=exports.V=exports.U=exports.T=exports.S=exports.R=exports.Q=exports.P=exports.O=exports.N=exports.M=exports.L=exports.K=exports.J=exports.I=exports.H=exports.G=exports.F=exports.E=exports.D=exports.C=exports.B=exports.A=exports.$=void 0,exports.aK=Ct,exports.b5=exports.b4=exports.b3=exports.b2=exports.b1=exports.b0=exports.b=exports.az=exports.ay=exports.ax=exports.aw=exports.av=exports.au=exports.at=exports.as=exports.ar=exports.aq=exports.ap=exports.ao=exports.an=exports.am=exports.al=exports.ak=exports.aj=exports.ai=exports.ah=exports.ag=exports.af=exports.ae=exports.ad=exports.ac=exports.ab=exports.aa=exports.a_=exports.aZ=exports.aY=exports.aX=exports.aW=exports.aV=exports.aU=exports.aT=exports.aS=exports.aR=exports.aQ=exports.aP=exports.aO=exports.aN=exports.aM=exports.aL=void 0,exports.z=exports.y=exports.x=exports.w=exports.v=exports.u=exports.t=exports.s=exports.r=exports.q=exports.p=exports.o=exports.n=exports.m=exports.l=exports.k=exports.j=exports.i=exports.h=exports.g=exports.f=exports.e=exports.d=exports.c=exports.bz=exports.by=exports.bx=exports.bw=exports.bv=exports.bu=exports.bt=exports.bs=exports.br=exports.bq=exports.bp=exports.bo=exports.bn=exports.bm=exports.bl=exports.bk=exports.bj=exports.bi=exports.bh=exports.bg=exports.bf=exports.be=exports.bd=exports.bc=exports.bb=exports.ba=exports.bM=exports.bL=exports.bK=exports.bJ=exports.bI=exports.bH=exports.bG=exports.bF=exports.bE=exports.bD=exports.bC=exports.bB=exports.bA=exports.b9=exports.b8=exports.b7=exports.b6=void 0;var P=require("../../@titan/env.js");b.global.wmsdk_start_ts=b.global.wmsdk_start_ts||Date.now();var I=function(){var e;return function(){return e||(e="object"==h(b.titan)&&b.titan?1:2),1===e}}(),S=exports.w=function(){var e,t=function(e){return e&&"function"==typeof e.getSystemInfoSync};return function(){if(!e){var r="object"==h(b.wx)&&t(b.wx),n="object"==h(b.my)&&t(b.my),o="object"==h(b.xhs)&&t(b.xhs),i="object"==h(b.qq)&&t(b.qq),a="object"==h(b.ks)&&t(b.ks),u="object"==h(b.swan)&&t(b.swan),c="object"==("undefined"==typeof tt?"undefined":h(tt))&&t(tt);if(I()&&(r=!0,n=!1,o=!1,i=!1,a=!1,u=!1,c=!1),"function"==typeof b.App&&"function"==typeof b.Page){if(r)return e=2;if(n)return e=3;if(o)return e=4;if(i)return e=7;if(a)return e=6;if(u)return e=5;if(c)return e=8}return e=1}return e}}(),x=function(e,t){return e||(e="object"==("undefined"==typeof globalThis?"undefined":h(globalThis))&&globalThis?globalThis:{}),e[t]||(e[t]={}),e[t]},w=function(){var e;return function(){if(!e){var t="21c2fdc4377214854e6de450df218b8a",r=S();return e=1===r?x("object"==("undefined"==typeof window?"undefined":h(window))&&window&&window===window.self?window:null,t):I()&&"function"==typeof b.titan.acquireSharedObject?b.titan.acquireSharedObject(t)||{}:x("object"==h(b.global)&&b.global?b.global:null,t)}return e}}(),T=function(){return{platform:S(),globalObject:w()}};function k(){}exports._=T;var C=function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=-1,i=Math.min(e,1e4),a="number"==typeof t,u=n?e-1:0;(n?u>=0:u<e)&&!(++o>=i);n?u--:u++){var c=a?u+1:t[u];if(!1===r(c,u,t))break}},M=Object.prototype.hasOwnProperty,R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))return C(e.length,e,t,r);var n=h(e);if("number"===n&&!isNaN(e)&&e!==1/0){var o=Math.floor(e);return C(o,o,t,r)}if("string"===n)return C(e.length,e,t,r);if("object"===n&&e){var i=-1;for(var a in e){if(++i>=1e4)break;if(M.call(e,a)&&!1===t(e[a],a,e))break}}},O=function(e,t){return R(e,t)};exports.R=O;var A=function(e,t){return R(e,t,!0)},E=function(e,t){return h(e)===t},V=function(e){return E(e,"undefined")},L=function(e){return E(e,"string")};exports.J=L;var q=function(e){return E(e,"string")&&""!==e};exports.n=q;var j=function(e){return E(e,"number")};exports.aD=j;var D=function(e){return!!e&&($(e)||_(e))&&_(e.then)};exports.ar=D;var _=function(e){return E(e,"function")||e instanceof Function};exports.ag=_;var N=function(e){if(!B(e))return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},$=function(e){return"object"==h(e)};exports.i=$;var B=function(e){return $(e)&&null!==e};exports.m=B;var U=function(e){if(B(e)){var t=!0;return O(e,(function(){return t=!1,!1})),t}return!1};exports.f=U;var F=function(e){var t=h(e);return"undefined"===t||!("number"!==t||!isNaN(e))||null===e||""===e||!!U(e)};exports.a8=F;var W,H=function(e){return null==e||"number"==typeof e&&isNaN(e)},z=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},K={0:"",1:"0",2:"00",3:"000"},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=String(e);return r.length>=t?r:"".concat(K[t-r.length]).concat(r)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!j(e)||isNaN(e))return"";for(var r="";e>0;){var n=e%t;r=n>=10?String.fromCharCode(n+87)+r:n+r,e=Math.floor(e/t)}return r},J=function(e){if(e){if(j(e))return new Date(e);if(q(e)){var t=e.trim().split(" "),r=t[0].split("-");r.length>0&&!r[0]&&(r.splice(0,1),r[0]="-".concat(r[0])),r.length<2&&(r=t[0].split("/"));var n=[],o=0;if(t.length>1&&(n=t[1].split(":")).length>2){var i=n[2].split(".");n[2]=i[0],o=i[1]?parseInt(i[1]):0}return new Date(parseInt(r[0]),parseInt(r[1])||0,parseInt(r[2])||1,n.length?parseInt(n[0]):0,n.length?parseInt(n[1]):0,n.length?parseInt(n[2]):0,o)}return B(e)&&e instanceof Date?e:void 0}},Y=function(e,t){if(!t)return"";W||(W=[{matcher:/YYYY/g,replacer:function(e,t){return G(-1!==t.indexOf("BC")?Math.abs(e.getFullYear()):e.getFullYear(),4)}},{matcher:/Y/g,replacer:function(e,t){return String(-1!==t.indexOf("BC")?Math.abs(e.getFullYear()):e.getFullYear())}},{matcher:/MM/g,replacer:function(e){return G(e.getMonth()+1)}},{matcher:/M/g,replacer:function(e){return String(e.getMonth()+1)}},{matcher:/DD/g,replacer:function(e){return G(e.getDate())}},{matcher:/D/g,replacer:function(e){return String(e.getDate())}},{matcher:/HH/g,replacer:function(e){return G(e.getHours())}},{matcher:/H/g,replacer:function(e){return String(e.getHours())}},{matcher:/mm/g,replacer:function(e){return G(e.getMinutes())}},{matcher:/m/g,replacer:function(e){return String(e.getMinutes())}},{matcher:/ss/g,replacer:function(e){return G(e.getSeconds())}},{matcher:/s/g,replacer:function(e){return String(e.getSeconds())}},{matcher:/SSS/g,replacer:function(e){return G(e.getMilliseconds(),3)}},{matcher:/SS/g,replacer:function(e){return G(e.getMilliseconds())}},{matcher:/S/g,replacer:function(e){return String(e.getMilliseconds())}}]);var r=String(t),n=J(e);return n&&W.forEach((function(e){t=t.replace(e.matcher,e.replacer(n,r))})),t};exports.aW=Y;var X=function(e,t){return D(e)?e.catch((function(e){null==t||t(e)})):b.Promise.resolve(e)};exports.r=X;var Z=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.Promise.all(t.map((function(e){return X(e)})))};exports.as=Z;var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return null!=e},n=arguments.length>3?arguments[3]:void 0;return new b.Promise((function(o){var i=t;!function t(){--i<=0?o(void 0):e().then((function(e){r(e)?(null==n||n(e),o(e)):t()}),t)}()}))},te=function(e,t){return new b.Promise((function(r,n){var o=-1;!function i(){++o>=e.length?r():e[o]().then((function(){i()})).catch((function(e){t?n(e):i()}))}()}))},re=function(e,t){return new b.Promise((function(r){b.setTimeout((function(){r(),null==t||t()}),e)}))},ne=function e(t,r,n,o){if(Array.isArray(t))return t.map((function(t){return e(t,r,n,o)}));if(_(t))try{return t.apply(n,o||[])}catch(n){_(r)||Array.isArray(r)&&r.length?e(r,void 0,null,[n]):console.error("防爆桶（不会影响后续代码执行、不会导致程序崩溃）已经安全捕捉未处理的异常，捕捉的错误详情：",n,t)}else(_(r)||Array.isArray(r)&&r.length)&&e(r,void 0,null,[new Error("防爆桶（不会影响后续代码执行、不会导致程序崩溃）入参非函数，请检查！")])},oe=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];try{var i,a=t();return o&&(i=b.setTimeout((function(){null==n||n(new Error("timeout"))}),e)),D(a)?a.then((function(e){o&&b.clearTimeout(i),null==r||r(e)})).catch((function(e){o&&b.clearTimeout(i),null==n||n(e)})):(o&&b.clearTimeout(i),null==r||r(a)),a}catch(e){null==n||n(e)}},ie=function(e){var t=T().globalObject;return e in t||(t[e]={}),t[e]},ae=function(e,t,r){if(void 0===r||!B(r)){r=ie("21c2fdc4377214854e6de450df218b8a")}return e in r&&(Array.isArray(r[e])||B(r[e]))||(r[e]=(null==t?void 0:t())||{},B(r[e])||(r[e]={})),r[e]},ue=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(this,arguments)),t}},ce=function(e,t){var r,n={};return e.forEach((function(e){n[e]=function(){var n;return r||(r=t()),(n=r)[e].apply(n,arguments)}})),n},se=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return B(e)&&(e=g({message:e.message,name:e.name,stack:e.stack},le(e)),t||delete e.stack),e};exports.bD=se;var le=function(e){if(V(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}};exports.am=le;var de=function(e){if(e&&("["===(e=String(e).trim())[0]||"{"===e[0]))try{return JSON.parse(e)}catch(e){}},fe=function(){var e={number:1,boolean:1,string:1,undefined:1},t=function t(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=h(r);if(e[o])return r;if("object"===o){if(!r)return r;if(r instanceof Error)return se(r);if(Array.isArray(r))return r.map((function(e){return t(e)}));if(!N(r))return;var i={};return O(r,(function(e,r){i[r]=t(e,n),V(i[r])&&delete i[r]})),i}};return function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{return t(e,r)}catch(e){}}}(),pe=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={};return e&&Object.keys(e).forEach((function(o){if("all"===t||-1!==t.indexOf(o)){var i=e[o];if(r){if(null===i)return;if(void 0===i)return}n[o]=i}})),n};exports.bA=pe;var ve=function(e,t){if("object"==h(e)&&null!==e){"string"==typeof t&&(t=[t]);var r,n=g({},e),o=v(t);try{for(o.s();!(r=o.n()).done;){delete n[r.value]}}catch(e){o.e(e)}finally{o.f()}return n}return e},ge=function e(t,r,n,o){if(t=t||new WeakMap,r===n)return r;if(B(n)){if(t.get(n))return n;if(t.set(n,1),Array.isArray(n))r=Array.isArray(r)?r:[];else{if(!N(n))return B(r)?r:n;r=B(r)?r:{}}return Object.keys(n).forEach((function(o){r[o]=e(t,r[o],n[o])})),r}return n},me=function(e){try{for(var t=e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((function(e){t=ge(null,t,e)})),t}catch(t){return console.error("merge error:",t),e}};exports.au=me;var he=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return B(e)&&B(t)?(r.forEach((function(r,i){var a=e[r];o&&H(a)||(t[(null==n?void 0:n[i])||r]=a)})),t):t},ye=ue((function(){return Object.getOwnPropertyNames(Object.prototype).concat("undefined"!=typeof Symbol?Object.getOwnPropertyNames(Symbol).map((function(e){return Symbol[e]})):[])})),be=function e(t,r){return r=r||function(e){return e},Array.isArray(t)?r(t.map((function(t){return e(t,r)}))):B(t)?N(t)?r(Object.keys(t).reduce((function(n,o){return n[o]=e(t[o],r),n}),{})):t:r(t)},Pe=function(e,t){Object.keys(t).forEach((function(r){r in e||(e[r]=t[r])}))},Ie=function(e){if("string"==typeof e){var t=e.trim();return"null"===t||"undefined"===t?"":t}return"number"==typeof e?String(e):""},Se=Math.random,xe=Math.floor,we=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0===t&&(t=void 0===e?1:e,e=0),e=e||0,{_min:r?xe(e):e,_max:r?xe(t):t}},Te=function(e,t){var r=we(e,t,!0),n=r._min,o=r._max;return xe(Se()*(o-n+1)+n)},ke=function(){return"#"+Array.from({length:6}).map((function(){return"0123456789abcdef"[Te(0,15)]})).join("")},Ce=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Se()|0;return("x"===e?t:3&t|8).toString(16)}))},Me=function(){function e(t,r){f(this,e),this.result=void 0,this.promise=void 0,this.status=0,this.timer=void 0,this.getter=void 0,this.getter=t,r&&this.recycleCheck()}return p(e,[{key:"get",value:function(e){var t=this;return this.status&&3!==this.status&&!e||(this.promise=new b.Promise((function(e){var r;t.status=1;var n=null===(r=t.getter)||void 0===r?void 0:r.call(t);D(n)?n.then((function(r){t.status=2,t.result=r,e(le(r))})).catch((function(){t.status=3,t.result=void 0,e(void 0)})):(t.status=V(n)?3:2,t.result=n,e(le(n)))}))),this.promise}},{key:"getSync",value:function(e){return V(this.result)||e?(this.get(e),V(this.result)?void 0:le(this.result)):le(this.result)}},{key:"remove",value:function(){delete this.result,delete this.promise,this.status=0}},{key:"destroy",value:function(){this.status=4,this.timer&&b.clearTimeout(this.timer),delete this.result,delete this.getter,delete this.promise}},{key:"recycleCheck",value:function(){var e=this;this.timer&&b.clearTimeout(this.timer),this.timer=b.setTimeout((function(){2===e.status&&e.remove(),4!==e.status&&e.recycleCheck()}),1e4)}}]),e}(),Re=function(){function e(t,r){f(this,e),this.map={},this.lastGetTime={},this.destroyed=void 0,this.timer=void 0,this.getter=void 0,this.getter=t,r&&this.recycleCheck()}return p(e,[{key:"get",value:function(e,t){return this.destroyed?b.Promise.resolve(void 0):(this.initItem(e),this.lastGetTime[e]=Date.now(),X(this.map[e].get(t)))}},{key:"getSync",value:function(e,t){if(!this.destroyed)return this.initItem(e),this.lastGetTime[e]=Date.now(),this.map[e].getSync(t)}},{key:"remove",value:function(e){this.destroyed||(this.map[e]&&this.map[e].destroy(),delete this.map[e],delete this.lastGetTime[e])}},{key:"destroy",value:function(e){var t=this;if(!this.destroyed)if(e){var r;null===(r=this.map[e])||void 0===r||r.destroy(),delete this.map[e],delete this.lastGetTime[e]}else this.destroyed=!0,this.timer&&b.clearTimeout(this.timer),Object.keys(this.map).forEach((function(e){t.map[e].destroy()})),delete this.getter}},{key:"initItem",value:function(e){var t=this;this.map[e]||(this.map[e]=new Me((function(){var r;return null===(r=t.getter)||void 0===r?void 0:r.call(t,e)}),!1))}},{key:"recycleCheck",value:function(){var e=this;this.timer&&b.clearTimeout(this.timer),this.timer=b.setTimeout((function(){if(!e.destroyed){var t=Date.now();Object.keys(e.lastGetTime).forEach((function(r){t-e.lastGetTime[r]>=1e4&&e.destroy(r)}))}}),2e3)}}]),e}(),Oe=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];t.logger&&ne(t.logger[e],void 0,t.logger,n.concat([t.logger.state]))},Ae=function(e,t){return!_(e.allowGet)||e.allowGet(t)},Ee=function(e,t){return e>5&&"undefined"!=typeof Proxy?function(e){var t={},r=function(r,n,o,i){if(!t[r]){t[r]=[!1];var a=e[n.hasIndex].rewriteMethodHandler;_(a)&&(i&&_(o.value)||!i&&_(o))&&(t[r][0]=!0,t[r][1]=a(e[n.hasIndex],r))}return t[r][0]?i?(o.value=t[r][1],o):t[r][1]:o},n=function(t){var r,n,o,i=-1,a=-1;O(e,(function(e,u){if(!n&&e.allowSetProps&&(n=e.allowSetProps.includes(t),n&&(a=u)),!1!==o&&(o=Ae(e,t)),!r&&Reflect.has(e.target,t)&&(r=!0,i=u),r&&n)return!1}));var u={has:r||!1,hasIndex:i,allowSet:n||!1,allowSetIndex:a};return!1===o&&(u.has=!1,u.hasIndex=-1),u},o={},i=new Proxy(o,{set:function(t,r,a,u){if(u!==i)return Reflect.set(u,r,a,u);var c=n(r);return(c.has||c.allowSet)&&Oe("set",e[c.hasIndex],e[c.hasIndex].target,r,a,c.allowSet),c.allowSet?Reflect.set(e[c.allowSetIndex].target,r,a,u):!c.has&&Reflect.set(o,r,a,u)},defineProperty:function(t,r,i){var a=n(r);return a.allowSet?Reflect.defineProperty(e[a.allowSetIndex].target,r,i):!a.has&&Reflect.defineProperty(o,r,i)},deleteProperty:function(t,r){var i=n(r);return i.allowSet?Reflect.deleteProperty(e[i.allowSetIndex].target,r):!i.has&&Reflect.deleteProperty(o,r)},get:function(t,a,u){var c=n(a);return u!==i?!Reflect.has(u,a)&&c.has?(Oe("get",e[c.hasIndex],e[c.hasIndex].target,a),Reflect.get(e[c.hasIndex].target,a,u)):Reflect.get(u,a,u):c.has?(Oe("get",e[c.hasIndex],e[c.hasIndex].target,a),r(a,c,Reflect.get(e[c.hasIndex].target,a,u))):Reflect.get(o,a,u)},has:function(e,t){return!!n(t).has||Reflect.has(o,t)},getOwnPropertyDescriptor:function(t,i){var a=n(i);if(a.has){var u=Reflect.getOwnPropertyDescriptor(e[a.hasIndex].target,i);return u&&a.allowSet&&(u.writable=!0),r(i,a,u,!0)}return Reflect.getOwnPropertyDescriptor(o,i)},ownKeys:function(){var t=e.reduce((function(e,t){return!t.notReturnOwnKeys&&Reflect.ownKeys(t.target).forEach((function(r){!e.includes(r)&&Ae(t,r)&&e.push(r)})),e}),[]);return Reflect.ownKeys(o).forEach((function(e){t.includes(e)||t.push(e)})),t}});return{version:6,result:i,reload:k}}(t):function(e){var t={},r={},n=function(n,o){if(!(n in t)){var i={enumerable:!0,configurable:!1,get:function(){var t=function(t){var r;return O(e,(function(e){return!!Ae(e,t)&&(t in e.target?(r=e,!1):void 0)})),r}(n);if(t)return Oe("get",t,t.target,n),r[n]||(r[n]=[!1],t.rewriteMethodHandler&&_(t.target[n])&&(r[n][0]=!0,r[n][1]=t.rewriteMethodHandler(t,n))),r[n][0]?r[n][1]:t.target[n]},set:function(e){var t;Oe("set",o,o.target,n,e,!1),(null===(t=o.allowSetProps)||void 0===t?void 0:t.length)&&o.allowSetProps.includes(n)&&(o.target[n]=e)}};Object.defineProperty(t,n,i)}},o=function(){O(e,(function(e){!e.notReturnOwnKeys&&Object.keys(e.target).forEach((function(t){Ae(e,t)&&n(t,e)}))}))};return o(),{version:5,result:t,reload:o}}(t)},Ve=function(e){var t,r;if(Array.isArray(e)){var n,o=(null===(n=Object(e).constructor)||void 0===n?void 0:n.name)||"NoProtoArray";return"[".concat("Array"!==o?"Array>":"").concat(o,"(").concat(e.length?"*":"0",")]")}var i=h(e);if("string"===i)return"[String(".concat(e.length?"*":"0",")]");if("number"===i)return"[Number(".concat(e===1/0?"+Infinity":e===-1/0?"-Infinity":e>0?"+":0===e?"0":isNaN(e)?"NaN":"-",")]");if("boolean"===i)return"[Boolean(".concat(e,")]");if("undefined"===i)return"[Undefined]";if("function"===i)return"[Function]";if("object"!==i)return"[".concat((null===(t=Object(e).constructor)||void 0===t?void 0:t.name)||"NoProto"+i,"]");if(!e)return"[Object(null)]";if(e instanceof b.Promise)return"[Promise]";var a=(null===(r=Object(e).constructor)||void 0===r?void 0:r.name)||"NoProtoObject";return"[".concat("Object"!==a?"Object>":"").concat(a,"(").concat(U(e)?"0":"*",")]")},Le=function(e,t){return ae(e,t,ie("21c2fdc4377214854e6de450df218b8a 2"))};exports.s=Le;var qe=function(e,t){return Le(e,(function(){return{value:t}}))};exports.I=qe;var je=function(e,t){return function(e,t,r){return r=B(r)?r:ae("OnceFuncScopes"),e in r||(r[e]=m({func:t},e+"OnceScopeFunction",(function(){return r[e].fired||(r[e].fired=!0,r[e].result=r[e].func.apply(this,arguments)),r[e].result}))),r[e][e+"OnceScopeFunction"]}(e,t,Le("OnceFuncScopes"))},De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=["on","off","once","emit","destroy"],Ne=function(){function e(){var t=this;f(this,e),this.events={},O(_e,(function(e){t[e]=t[e].bind(t)}))}return p(e,[{key:"once",value:function(e,t){var r=this;this.on(e,(function n(){t.apply(void 0,arguments),r.off(e,n)}))}},{key:"destroy",value:function(){var e=this;this.emit("destroy"),O(this.events,(function(t,r){t.splice(0,t.length),delete e.events[r]}))}},{key:"on",value:function(e,t){this.events[e]||(this.events[e]=[]),-1===this.events[e].indexOf(t)&&this.events[e].push(t)}},{key:"off",value:function(e,t){if(this.events[e])if(t){var r=this.events[e].indexOf(t);-1!==r&&this.events[e].splice(r,1)}else delete this.events[e]}},{key:"emit",value:function(e,t){var r=this,n=[],o=0;!function i(){if(!(++o>1e4)){var a;if(r.events[e])for(var u=r.events[e],c=0,s=u.length;c<s&&r.events[e];c++)if(r.events[e]&&c in u&&u[c]){var l=u[c];if("function"!=typeof l&&!(l instanceof Function))continue;if(-1!==n.indexOf(l))continue;var d=c+1<s,f=u[c+1];if(n.push(l),l(t),!d)break;if(!u[c]||u[c]!==l||!u[c+1]||u[c+1]!==f){a=!0;break}}a&&i()}}()}}]),e}(),$e=Le("Ebus",(function(){return new Ne})),Be=$e.on,Ue=$e.off,Fe=$e.emit,We=$e.once,He=$e.destroy;exports.ah=Fe,exports.af=Ue,exports.ae=Be,exports.b0=Object.freeze({__proto__:null,EventEmitter:Ne,destroy:He,emit:Fe,off:Ue,on:Be,once:We,scope:"ebus"});var ze={toPage:1,getCurrentBosBasicInfo:1,getCurrentUserInfo:1,getCurrentVidInfo:1,getGuideInfo:1,getStyleInfo:1,getLocation:1,"design.getPageData":1,"design.watchPageData":1,"design.unwatchPageData":1,"design.callFunction":1,"design.injectFunction":1},Ke=function(e){return B(e)&&_(e.handler)},Ge=function(e,t){return r=e,n=function(){return"function ".concat(String(t),"() { [wmsdk code] }")},void Object.defineProperty(r,"toString",{value:n});var r,n},Qe=function(e,t,r,n){var o,i;r?(n&&!e[t][r]&&(e[t][r]={}),o=null===(i=e[t])||void 0===i?void 0:i[r]):o=e[t];return o},Je=function(e){var t,r=["none"];return e.allApiIsAsync?(r[0]="all",r):(null!==(t=e.asyncApiList)&&void 0!==t&&t.length&&(r[0]="some",r[1]=e.asyncApiList.concat([])),r)},Ye=function(e){var t,r=e.apiHandler,n=e.thisObj,o=e.inputArgs,i=e.resolve,a=e.reject,u=e.hitPromise;try{if(t=r.apply(n,o),D(t))return u(),void t.then((function(e){i(e)}),(function(e){a(e,!0)}))}catch(e){return void a(e)}i(t)},Xe=function(e,t){var r,n,o=function(e,t){return{ebus:e.ebus,addApi:function(e){1===t.status&&function e(t,r){B(r)&&(Ke(r)?t.apiNameMark[r.name]||(t.apiNameMark[r.name]=1,t.apiList.push(r)):O(r,(function(r,n){var o;if((o=_(r))||Ke(r)){var i={name:n};o?i.handler=r:Object.assign(i,r),e(t,i)}})))}(t,e)},setMeta:function(e){t.async||B(e)&&1===t.status&&Object.assign(t,e)},state:{},getCurrentFakeSnapshot:function(r){var n;return t.namespace?null===(n=e.fakeSnapshotMap[t.namespace])||void 0===n?void 0:n[r]:e.fakeSnapshotMap[r]},setConfigHandler:function(e){1===t.status&&(t.configHandler=e)}}}(e,t);return null===(r=e.createOptions)||void 0===r||null===(n=r.contextHandler)||void 0===n||n.call(r,o,e,t),Ee(e.sdkProxyVersion,[{target:o,allowSetProps:["state"]},{target:e.sdk}])};exports.bL=function(e,t,r){t.aliasConfigMap[e]=r,Ze(e,t);var n=Ee(t.sdkProxyVersion,t.aliasProxyMap[e]);return t.sdkProxyVersion<6&&t.addProxyReload(n.reload),n.result};var Ze=function(e,t){var r={};Object.keys(t.finalNamespace).forEach((function(n){if(e in t.aliasReadyNamespaceMap||(t.aliasReadyNamespaceMap[e]={}),!(n in t.aliasReadyNamespaceMap[e])){t.aliasReadyNamespaceMap[e][n]=1;var o=Ee(t.sdkProxyVersion,[{target:t.finalNamespace[n],logger:g(g({},t.aliasConfigMap[e].logger),{},{state:{namespace:n}})}]);r[n]=o.result,t.sdkProxyVersion<6&&t.addProxyReload(o.reload)}})),e in t.aliasProxyMap||(t.aliasProxyMap[e]=[{target:{toJSON:function(){return g(g({},t.sdk.toJSON()),{},{alias:e})},alias:e}},{target:t.sdk,logger:t.aliasConfigMap[e].logger}]),U(r)||t.aliasProxyMap[e].unshift({target:r,notReturnOwnKeys:!0,logger:t.aliasConfigMap[e].logger})};exports.bM=function(e,t,r,n){return Y(n,"YYYY年M月D日"),{get:function(e,t,r){if("alias"!==t&&"toJSON"!==t&&(n=t,!ye().includes(n)))var n}}};var et=function(e,t,r){var n=e[t];if(n)return ne(n,void 0,null,[r])},rt=function(e){var t,r,n,o,i,a,u=e.thisObj,c=e.inputArgs,s=e.apiHandler,l=e.hookBaseParam,d=e.hooks;d&&(l.inputArgs=c,l.execKey=l.execKey||Ce(),l.state=l.state||{}),d&&et(d,"before",l);var f=new b.Promise((function(e){a=e}));if(Ye({apiHandler:s,inputArgs:c,thisObj:u,hitPromise:function(){i=!0},resolve:function(e){r=e,t=function(e,t){var r;return d&&(d.resolve&&et(d,"resolve",g(g({},l),{},{result:e})),d.return&&(r=d.returnPiercePromise?et(d,"return",g(g({},l),{},{result:e,isPromise:i})):et(d,"return",g(g({},l),{},{result:t?b.Promise.resolve(e):e,isPromise:i})))),r}(e,i),a()},reject:function(e,u){n=!0,r=e,o=!u,t=function(e,t){var r;if(d&&(et(d,t?"reject":"catch",g(g({},l),{},{error:e})),d.return))if(d.returnPiercePromise)r=et(d,"return",g(g({},l),{},{result:e,fromReject:t,isThrow:!0,isPromise:i}));else{var n=t?b.Promise.reject(e):e;t&&n.then((function(){}),(function(){})),r=et(d,"return",g(g({},l),{},{result:n,fromReject:t,isThrow:!0,isPromise:i}))}return r}(e,u),a()}}),i)return new b.Promise((function(e,o){f.then((function(){!function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(B(e)){if(e.needThrow)return void n(e.value);r(e.value)}else o?n(t):r(t)}(t,r,e,o,n)}))}));if(B(t)){if(t.needThrow)throw t.value;return t.value}if(o)throw r;return r},nt=["init","install","destroy","contextHandler","config","configHandler"],ot=function e(t){return D(t)?t:t instanceof Error?b.Promise.reject(t):_(t)?e(t()):b.Promise.resolve(le(t))},it=function(e,t,r){var n={mock:!0,name:t.name,async:t.async,belongKey:e,handler:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var a=n.__catchCallback;if(delete n.__catchCallback,!t.async)return"fakeResult"in t?t.fakeResult:void 0;if("fakeResult"in t)return ot(t.fakeResult);var u=t.realFlow||"lastOne";return r[t.name]||(r[t.name]=[u]),new b.Promise((function(e,n){var i=r[t.name],c={resolve:e,reject:n,time:Date.now(),url:"",args:o,catch:a};if("lastOne"===u&&i.length>1){var s=i.pop();ot(t.lastOneFakeResult).then((function(e){return s.resolve(e)}),(function(e){return s.reject(e)}))}i.push(c)}))}};return n},at=function(){var e=function(e,r,n,o){Object.keys(r).forEach((function(i){if(!t(i,o)){var a={name:i,belongKey:e};if(_(r[i])?a.handler=r[i]:B(r[i])&&(a=g(g({},r[i]),a)),!_(a.handler))return;n(a)}}))},t=function(e,t){return!!Array.isArray(t)&&t.some((function(t){return t===e}))};return function(r,n,o){var i;if(r.lazy)null===(i=r.apiNames)||void 0===i||i.forEach((function(e){t(e,nt)||n({name:e,lazy:!0,belongKey:r.key,handler:k})}));else if(r.async)!function(e,t,r,n){if(!t.apiMeta||!B(t.apiMeta))return[];var o=Qe(r,"fakeApiQueueMap",t.namespace,!0);Object.keys(t.apiMeta).forEach((function(r){var i=t.apiMeta[r];B(i)&&("name"in i||"fakeResult"in i||"async"in i||"realFlow"in i)?(i.name=r,n(it(e,i,o))):n(it(e,{name:r},o))}))}(r.key,r,o,n);else{var a=r;B(a.exports)?e(r.key,a.exports,n,a.ignores||[]):e(a.key,a,n,nt.concat(a.ignores||[]))}}}(),ut=function(e,t,r,n,o,i){try{var a=e.handler.apply(r||null,t);return D(a)?n?void a.then(n).catch(o):a:(null==n||n(a),a)}catch(t){e.name,console.__unitest__,null==o||o(t),ne(i,void 0,null,[t])}},ct=function(e,t,r,n,o){var i={name:e,handler:t,author:"wmsdk",description:"系统API"},a=Object.freeze(pe(i,["async","author","name","inputMonitor","inputMonitorFields"])),u=Object.freeze(g({apiInputMonitor:r},o||{}));function c(){for(var e={apiMeta:a,moduleMeta:u},t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return rt({thisObj:this,inputArgs:r,apiHandler:i.handler,hookBaseParam:e,hooks:n})}return Ge(c,e),c},st=function(e,t,r,n){var o=t[e],i=Object.freeze(pe(o,["async","author","name","inputMonitor","inputMonitorFields"]));function a(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var s,l,d=this,f={apiMeta:i,moduleMeta:r,state:{},execKey:Ce()},p=function(){var r;return rt({thisObj:d,inputArgs:u,apiHandler:function(){if(s){if(o.async)return b.Promise.reject(s);throw s}o.lazy&&function(e,t){var r;if(t.moduleLazyMark||(t.moduleLazyMark={}),!t.moduleLazyMark[e]){t.moduleLazyMark[e]=1;var n=t.targets.find((function(t){return t.key===e})),o=null===(r=n.lazyHandler)||void 0===r?void 0:r.call(n);if(o){o.key=e,o.configHandler&&(n.configHandler=o.configHandler,n.scope&&(Array.isArray(n.scope)?n.scope:[n.scope]).forEach((function(e){t.scopeConfigHandlerMap[e]=o.configHandler})));var i=n.namespace?t.originalApiMap[n.namespace]:t.originalApiMap;at(o,(function(e){i[e.name]&&(Object.assign(i[e.name],e),delete i[e.name].lazy)}))}}}(o.belongKey,n);var r,i,a,c,f,p,v=o.handler;if(l){var g=t["".concat(e,"ForPaaS")];g&&(v=g.handler,r=Object.freeze({inputArgs:u,forkName:l.forkName,permissionName:l.name}),i=!0)}var m=new b.Promise((function(e){p=e}));if(Ye({apiHandler:v,inputArgs:i?[r]:u,thisObj:d,hitPromise:function(){f=!0},resolve:function(e){a=e,p()},reject:function(e){c=!0,a=e,p()}}),!f&&c&&o.async&&(f=!0),f)return new b.Promise((function(e,t){m.then((function(){c?t(a):e(a)}))}));if(c)throw a;return a},hookBaseParam:f,hooks:null===(r=n.createOptions)||void 0===r?void 0:r.hooks})};if(B(u[0])&&!0===u[0].$$callByPermission$$){var v,g=u.splice(0,1)[0];l=g,f.state.callByPermission=!0,f.state.permissionInfo=g;var m=n.permissionConfigMap["".concat(g.forkName,"_").concat(g.name)],h=null!==(v=r.namespace)&&void 0!==v?v:"",y="".concat(null!=h?h:"").concat(h?".":"").concat(String(i.name));return!1===m.apiPermissionRange[y]&&((s=new Error("No ".concat(y,"() permission."))).wmsdkNoPermission=!0),rt({thisObj:d,inputArgs:u,apiHandler:p,hookBaseParam:f,hooks:n.forkConfigMap[m.forkName].hooks})}return p()}return Ge(a,e),a},lt={},dt=function(e,t){var r=Object.freeze({$$callByPermission$$:!0,forkName:t.forkName,name:t.name});return function(e,t){function n(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.target[t].apply(this,[r].concat(o))}return Ge(n,t),n}},ft=function(e,t,r){var n;if(!(B(r)&&q(n=r.name)&&q(r.author)&&B(r.apiPermissionRange)))throw new Error("请传递有效的许可证配置");var o=t.name,i="".concat(o,"_").concat(n),a=e.permissionConfigMap;if(a[i])throw new Error("禁止在实例".concat(o,"下重复创建许可证：").concat(n));var u=function(e,t){return{forkName:t,name:e.name,author:e.author,apiPermissionRange:g({},e.apiPermissionRange)}}(r,o);a[i]=u;var c=Ee(e.sdkProxyVersion,function(e,t,r){var n="".concat(t,"_").concat(r);e.permissionProxySourcesMap[n]=[];var o=function(r){return e.forkConfigMap[t].apiList.some((function(e){return e===r||e.startsWith("".concat(r,"."))}))};return Object.keys(e.finalNamespace).forEach((function(r){var o=Ee(e.sdkProxyVersion,[{target:e.finalNamespace[r],rewriteMethodHandler:dt(0,e.permissionConfigMap[n]),allowGet:function(n){return e.forkConfigMap[t].apiList.some((function(e){return"".concat(r,".").concat(n)===e}))},state:{namespace:r}}]);e.addProxyReload(o.reload),e.permissionProxySourcesMap[n].push({target:m({},r,o.result)})})),function(e){var t,r;return((null===(t=e.store.createOptions)||void 0===t||null===(r=t.forkBaseGetter)||void 0===r?void 0:r.call(t,e.store.permissionConfigMap["".concat(e.forkName,"_").concat(e.insName)]))||[]).map((function(t){return function(e,t,r){var n,o={};r.name&&(n=t.targets.find((function(e){return e.name===r.name})))&&(n=pe(n,["namespace","apiInputMonitor"]));var i=Object.freeze(Object.freeze(g(g({},n||{}),pe(r,["namespace","apiInputMonitor"])))),a=Je(r),u=d(a,2),c=u[0],s=u[1];return Object.keys(r).forEach((function(e){_(r[e])?o[e]=g(g({},t.originalApiMap[e]||{}),{},{name:e,handler:r[e]}):B(r[e])&&_(r[e].handler)&&(o[e]=g(g(g({},t.originalApiMap[e]||{}),r[e]),{},{name:e})),o[e]&&void 0===o[e].async&&("all"===c||(null==s?void 0:s.find((function(t){return t===e}))))&&(o[e].async=!0)})),{target:Object.keys(o).reduce((function(e,r){return e[r]=st(r,o,i,t),e}),{})}}(e.store.permissionConfigMap["".concat(e.forkName,"_").concat(e.insName)],e.store,t)}))}({store:e,forkName:t,insName:r}).forEach((function(t){e.permissionProxySourcesMap[n].push(g(g({},t),{},{rewriteMethodHandler:dt(0,e.permissionConfigMap[n]),allowGet:o}))})),e.permissionProxySourcesMap[n].push({target:e.sdk,rewriteMethodHandler:dt(0,e.permissionConfigMap[n]),allowGet:o}),e.permissionProxySourcesMap[n]}(e,o,n));return e.addProxyReload(c.reload),c.result},pt=function(e,t,r){var n,o,i=e.sdk,a=Qe(e,"originalApiMap",t.namespace,!0),u=[],c=Je(t),s=d(c,2),l=s[0],f=s[1];t.apiList.forEach((function(e){if(!(e.name in a)||a[e.name].mock){if(void 0===e.async&&("all"===l||(null==f?void 0:f.find((function(t){return t===e.name}))))&&(e.async=!0),a[e.name]){var t=a[e.name];void 0===e.async&&(e.async=t.async),e.inputMonitor=e.inputMonitor||t.inputMonitor,e.inputMonitorFields=e.inputMonitorFields||t.inputMonitorFields}a[e.name]=e,u.push(e.name)}})),t.async||function e(t,r,n){if(Array.isArray(t))return t.forEach((function(t){e(t,r,n)}));var o=n?r.fakeApiQueueMap[n]:r.fakeApiQueueMap;if(o){var i=n?r.originalApiMap[n]:r.originalApiMap,a=Qe(r,"fakeSnapshotMap",n,!0);if(o[t]){var u=o[t][0],c=o[t].splice(1),s=i[t];if("lastOne"===u){var l=c[0];return l&&(a[t]=l,ut(s,l.args,null,l.resolve,l.reject,l.catch),delete a[t]),void delete o[t]}"together"===u&&(c.forEach((function(e){a[t]=e,ut(s,e.args,null,e.resolve,e.reject,e.catch),delete a[t]})),delete o[t]),"oneByOne"===u&&(te(c.map((function(e){return function(){a[t]=e;var r=ut(s,e.args,null,e.resolve,e.reject,e.catch);return delete a[t],r}})),!1),delete o[t])}}}(u,e,t.namespace),t.status=2,e.targets.push(t),t.scope&&_(t.configHandler)&&(Array.isArray(t.scope)?t.scope:[t.scope]).forEach((function(r){e.scopeConfigHandlerMap[r]=t.configHandler}));var p=Qe(e,"finalApiMap",t.namespace,!0),v=vt(u,a,t,e);if(Object.assign(p,v),t.namespace){if(!i[t.namespace]){e.finalNamespace[t.namespace]=p;var g=Ee(e.sdkProxyVersion,[{target:e.finalNamespace[t.namespace]}]);e.sdkProxyVersion<6&&e.addProxyReload(g.reload),i[t.namespace]=g.result,U(e.aliasProxyMap)||Object.keys(e.aliasProxyMap).forEach((function(t){Ze(t,e)})),U(e.permissionProxySourcesMap)||function(e,t){Object.keys(e.permissionProxySourcesMap).forEach((function(r){var n=e.permissionConfigMap[r].forkName,o=Ee(e.sdkProxyVersion,[{target:e.finalNamespace[t],rewriteMethodHandler:dt(0,e.permissionConfigMap[r]),allowGet:function(r){return e.forkConfigMap[n].apiList.some((function(e){return"".concat(t,".").concat(r)===e}))},state:{namespace:t}}]);e.addProxyReload(o.reload),e.permissionProxySourcesMap[r].unshift({target:m({},t,o.result)})}))}(e,t.namespace)}}else Object.assign(i,v);null===(n=e.createOptions)||void 0===n||null===(o=n.useModuleHandler)||void 0===o||o.call(n,e,t,r)},vt=function(e,t,r,n){var o={},i=Object.freeze(pe(r,["namespace","apiInputMonitor"]));return e.forEach((function(e){o[e]=st(e,t,i,n)})),o},gt="UNKNOWN_API_ERR",mt=function(e,t){if(e instanceof Error){if(!t){var r=e;r.errno=r.errno||gt,r.errmsg=r.errmsg||e.message}return e}if(t){var n=new Error(e.errmsg);return Pe(n,e),n}var o=new Error("API内部发生未知错误");return B(e)&&Pe(o,e),o.errno=o.errno||gt,o.errmsg=o.errmsg||o.message,o},ht=function(e){e.hooks||(e.hooks={});var t=e.hooks,r=t.return,n=t.returnPiercePromise,o=_(r);t.returnPiercePromise=!0,t.return=function(e){if(function(e){var t=e.apiMeta.name;"getCurrentBosBasicInfo"!==t&&"getCurrentUserInfo"!==t||(e.result.data=le(e.result),e.result.code="0",e.result.msg="成功")}(e),!e.isPromise&&!e.apiMeta.async)return o?ne(r,void 0,void 0,[e]):{value:e.result,needThrow:e.isThrow};var t,i,a=function(e,t){return function(e){return B(e)&&"errno"in e&&"errmsg"in e}(e)?t?mt(e,!0):"0"===String(e.errno)?e:mt(e,!0):t?mt(e,!1):B(e)&&"errno"in e&&void 0!==e.errno?"0"===String(e.errno)?(e.errmsg="成功",e):mt(e,!1):{errno:"0",errmsg:"成功",data:e}}(e.result,!!e.isThrow),u=e.isThrow||"0"!==String(a.errno);return o?(e.fromReject?t=!0:u&&(t=e.apiMeta.async),e.result=a,e.isThrow=u,e.fromReject=t,u||(e.result=a.data),n?ne(r,void 0,void 0,[e]):(t?(i=b.Promise.reject(e.result)).then((function(){}),(function(){})):i=e.isPromise?b.Promise.resolve(e.result):e.result,ne(r,void 0,void 0,[g(g({},e),{},{result:i})]))):u?{value:a,needThrow:u}:{value:a.data}}};exports.bI=function(e,t,r,n,o){return Le("SDK",(function(){return yt(e,t,r,n,o)}))};var yt=function(e,t,r,n,o){var i,a,u,c=[],s=new b.Promise((function(e){a=e})),l=function(){var e;for(i=!0,a();e=c.shift();)ne(e)},d={},f={config:{fields:[["0",1,"scope"],["1",2,"config"]]},fork:{fields:[["0",1,"config",void 0,!0],["0.name",1,"name",void 0,!0],["0.author",1,"author",void 0,!0],["0.apiList",3,"apiCount",function(e,t,r,n){return{$val:Array.isArray(n)?n.length:0}}],["0.apiList",3,"apiList",function(e,t,r,n){return{$val:Array.isArray(n)?n.join(","):Ve(n)}}],["0.hooks.before",1,"beforeHook",void 0,!0],["0.hooks.catch",1,"catchHook",void 0,!0],["0.hooks.resolve",1,"resolveHook",void 0,!0],["0.hooks.reject",1,"rejectHook",void 0,!0],["0.hooks.return",1,"returnHook",void 0,!0],["0.hooks.returnPiercePromise",1,"returnPiercePromise",void 0,!0]]}},p=null==o?void 0:o.hooks,v=null==o?void 0:o.forkHooks,m=(null==o?void 0:o.openApiMap)||{},h={toJSON:function(){return{version:t,name:"WMSDK",buildTime:n,versionCode:r}},version:t,buildTime:n,versionCode:r,getInitOptions:function(){return d},config:ct("config",(function(e,t){var r,n;return null===(r=(n=P.scopeConfigHandlerMap)[e])||void 0===r?void 0:r.call(n,t)}),f,p),use:function(e,t){!function(e,t,r){var n,o=function(e){var t={status:1,apiList:[],apiNameMark:{},key:Ce()};return Object.assign(t,e),t.status=1,t.apiList=[],t}(t),i=Xe(e,o),a=i.result;e.sdkProxyVersion<6&&e.addProxyReload(i.reload),_(o.install)?o.install(a,r):o.async&&!o.ready?at(o,(function(e){a.addApi(e)}),e):at(o,(function(e){a.addApi(e)})),null===(n=o.contextHandler)||void 0===n||n.call(o,a,r),pt(e,o,a),function(e){e.proxyReloadList.forEach((function(e){return e()}))}(e)}(P,e,t)},init:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(d=null==o||null===(e=o.initOptionsMerger)||void 0===e?void 0:e.call(o,d,r[0]),!i)if(o&&_(null==o?void 0:o.initHandler)){var a=ne((function(){return o.initHandler.apply(o,r)}),(function(e){console.error("SDK初始化异常！",e)}));if(!0===a)return void l();D(a)&&(a.then((function(e){e&&l()})),a.catch((function(e){console.error("SDK初始化异常！",e)})))}else l()},isReady:function(){return!!i},onReady:function(e){return i?(null==e||e(),b.Promise.resolve()):(_(e)&&c.push(e),s)},fork:ct("fork",(function(e){var t;if(!(B(e)&&q(t=e.name)&&q(e.author)&&Array.isArray(e.apiList)&&e.apiList.length))throw new Error("请传递有效的派生配置");var r=P.forkConfigMap;if(r[t])throw new Error("禁止重复派生SDK实例：".concat(t));var n=function(e,t,r){var n=g({},e);n.apiList=e.apiList.reduce((function(e,t){return ze[t]&&e.push(t),(null==r?void 0:r[t])&&e.push(t),e}),[]);var o={};if(t&&Object.assign(o,t),n.hooks=o,B(e.hooks)){var i=e.hooks;Object.keys(i).forEach((function(e){o[e]=Array.isArray(i[e])?(o[e]||[]).concat(i[e]):i[e]}))}return n}(e,v,m);return ht(n),r[t]=n,{createPermission:ct("createPermission",(function(e){return ft(P,n,e)}),lt,p,{namespace:"fork_".concat(t)})}}),f,p)},y=Ee(e,[{target:h}]),P=function(e,t){var r=new Ne,n={sdkProxyVersion:t,sdk:e,ebus:pe(r,["on","off","emit","once"]),targets:[],originalApiMap:{},finalApiMap:{},fakeApiQueueMap:{},fakeSnapshotMap:{},finalNamespace:{},scopeConfigHandlerMap:{},proxyReloadList:[],addProxyReload:function(e){t<6&&n.proxyReloadList.push(e)},aliasReadyNamespaceMap:{},aliasProxyMap:{},aliasConfigMap:{},forkConfigMap:{},permissionConfigMap:{},permissionProxySourcesMap:{}};return n}(h,y.version);o&&(null===(u=o.sourceHandler)||void 0===u||u.call(o,P),P.createOptions=o);return P.proxyReloadList.push(y.reload),{proxyVersion:y.version,proxy:y.result,store:P}},bt=function(e){var t,r=function(e){var t=[],r="";return r+=e.time?"[".concat(Y(new Date,"HH:mm:ss.SSS"),"] "):"",e.module&&(r+=e.module),e.scope&&(r+="(".concat(e.scope,"): ")),e.group&&(r+="<".concat(e.group,">")),r+=" {",t.push(r),e.desc&&t.push("\n\t"+e.desc),Array.isArray(e.body)&&e.body.length<10?e.body.forEach((function(e,r){t.push("\n\t"),t.push("".concat(r+1,").")),t.push(e)})):V(e.body)||(t.push("\n\t"),t.push(e.body)),t.push("\n}"),t}(e),n="warn"===e.type||"error"===e.type?e.type:"log";(t=console)[n].apply(t,l(r))},Pt=function(e,t){if(t)return{config:k,log:k,debug:k,warn:k,error:k};var r=g({},B(e)?e:{}),n=function(e){return function(t,n){var o=g({},r);L(t)?o.desc=t:B(t)&&N(t)?Object.assign(o,t):V(t)||(o.body=t);for(var i=arguments.length,a=new Array(i>2?i-2:0),u=2;u<i;u++)a[u-2]=arguments[u];L(n)?o.scope=n:V(n)||a.splice(0,0,n),Array.isArray(a)&&a.length&&(o.body=a),e&&(o.type=e),_(o.console)?o.console(o):o.console&&bt(o)}};return{config:function(e){return B(e)&&me(r,e),r},log:n(),debug:n("debug"),warn:n("warn"),error:n("error")}};Pt({console:!0,time:!0,module:"WMSDK"});var It=function(e,t,r,n){if(wt(e,n))try{var o=n?St():xt();return o[e].apply(o,l(t||[]))}catch(e){return void(null==r||r(e))}null==r||r()};exports.H=It;var St=function(){return"object"==h(b.wx)&&b.wx?b.wx:void 0},xt=function(){if(void 0!==b.titan)return St();var e=T().platform;return 2===e?St():3===e?"object"==h(b.my)&&b.my?b.my:void 0:4===e?"object"==h(b.xhs)&&b.xhs?b.xhs:void 0:5===e||6===e?"object"==h(b.ks)&&b.ks?b.ks:void 0:7===e?"object"==h(b.qq)&&b.qq?b.qq:void 0:8===e&&"object"==("undefined"==typeof tt?"undefined":h(tt))&&tt?tt:void 0},wt=function(e,t){var r;return _(null===(r=t?St():xt())||void 0===r?void 0:r[e])},Tt=function(e,t){var r=t?St():xt();return!!B(r)&&e in r},kt=function(e,t,r,n){var o="object"==h(e)&&e?e:{},i=[o.success,o.fail,o.complte],a=[t,r,n],u=["success","fail","complete"];return i.forEach((function(e,t){o[u[t]]=function(){for(var e,r,n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];var s=null===(e=a[t])||void 0===e?void 0:e.apply(o,u),l=null===(r=i[t])||void 0===r?void 0:r.apply(o,u);return l||s}})),o};function Ct(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new b.Promise((function(t,n){var o;if(e.endsWith("Sync"))t(It(e,r));else{var i=kt(r[0],t,(function(e){if(i&&!1===i.friendlyErrMsg)n(e);else{var t=function(e){if(e&&403===e.statusCode&&"string"==typeof e.data&&e.data.includes("非法访问"))return"waf拦截访问受限"}(e)||(null==e?void 0:e.errMsg)||"Unknown Error",r=new Error(t);(null==e?void 0:e.errno)&&(r.errno=e.errno),r.originalFailResult=e,n(r)}}));r[0]=i;var a=It(e,r,(function(t){var r;null===(r=i.fail)||void 0===r||r.call(i,{errMsg:(null==t?void 0:t.message)||"当前小程序环境不支持".concat(e," api")})}));null===(o=i.onResult)||void 0===o||o.call(i,a)}}))}var Mt=function(){return"function"==typeof b.getCurrentPages&&b.getCurrentPages()||[]},Rt=Le("NativeApiFontLoadMap");exports.U=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{global:!0},n=S();return 2!==n?b.Promise.reject(new Error("不支持")):(Rt[e]||(Rt[e]={status:0}),(!Rt[e].status||Rt[e].status>2)&&(Rt[e].status=1,Rt[e].promise=new b.Promise((function(n,o){St().loadFontFace(g(g({family:e,source:t},r),{},{success:n,fail:o}))}))),Rt[e].promise)};var Ot=exports.aR=function(){var e;return function(t){return e&&!t||(e=It("getSystemInfoSync")),e}}(),At=function(e){(e=g({console:!0,time:!0,module:"WMSDK"},e||{})).module=e.module||"WMSDK";var t=!0,r=Ot();return(r.enableDebug||"devtools"===r.platform)&&(t=!1),Pt(e,t)};exports.bH=At;var Et,Vt=exports.M=Le("MpLogger",(function(){return At({console:!0,time:!0,module:"WMSDK"})})),Lt=(Vt.log,Vt.debug);Vt.warn,Vt.error;exports.bz=Lt,exports.a_=(Et=Vt,{install:function(e){e.setMeta({name:"WMSDKLogger",scope:"Logger"}),e.addApi({log:Et.log,debug:Et.debug,error:Et.error,warn:Et.warn}),e.addApi({name:"createLogger",handler:Pt})}});var qt=Le("PrivateApi.PrivateApiMap"),jt=Le("PrivateApi.PrivateApiModuleMark"),Dt=Le("PrivateApi.PrivateApiModuleQueue");exports.aV=function(e,t){e in jt||Object.keys(t).forEach((function(e){if(_(t[e])&&(qt[e]=t[e],e in Dt))for(var r;r=Dt[e].shift();)r()}))};var _t=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e in qt?b.Promise.resolve().then((function(){return qt[e].apply(void 0,r)})):new b.Promise((function(t){e in Dt||(Dt[e]=[]),Dt[e].push(t)})).then((function(){return qt[e].apply(void 0,r)}))},Nt=["function"==typeof b.Page?b.Page:function(){},"function"==typeof b.Component?b.Component:function(){}],$t=function(e,t,r,n){r&&ne(r,(function(e){return console.error(e)}),e,t),n&&ne(n,(function(e){return console.error(e)}),e,t)},Bt=function(e,t,r){t=t||{};var n={};return Object.keys(r).forEach((function(o){var i,a=o;if(2===e&&0===o.indexOf("lifetimes."))return(a=o.substr(10))in t?null!==(i=t.lifetimes)&&void 0!==i&&i[a]?(n[a]=t.lifetimes[a],void(t.lifetimes[a]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $t(this,t,r[o],n[a])})):(n[a]=t[a],void(t[a]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $t(this,t,r[o],n[a])})):(t.lifetimes=t.lifetimes||{},n[a]=t.lifetimes[a],void(t.lifetimes[a]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $t(this,t,r[o],n[a])}));var u=a.indexOf(".");if(-1===u)n[o]=t[a],t[a]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $t(this,t,r[o],n[o])};else{var c=a.substr(0,u);a=a.substr(u+1),t[c]||(t[c]={}),n[o]=t[c][a],t[c][a]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return $t(this,t,r[o],n[o])}}})),t};"function"==typeof b.Page&&(b.Page=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]=Bt(1,t[0],Ft[0]),Nt[0].apply(null,t)},b.Component=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]=Bt(2,t[0],Ft[1]),Nt[1].apply(null,t)});var Ut=Le("InjectViewLifePageLifeHooks",(function(){return{}})),Ft=Le("InjectViewLifeViewLifes",(function(){return[{},{}]})),Wt=function(e,t,r){2!==e||t in Ut||(Ut[t]=[]),2===e||Ft[e][t]||(Ft[e][t]=[]),(2===e?Ut:Ft[e])[t].push(r)},Ht=function(e,t){Wt(0,e,t)},zt=function(e,t){Wt(2,e,t)};exports.aX=zt;var Kt=function(e,t){Wt(1,e,t)};exports.V=function(){return["onLoad","onShow","onHide","onReady","onUnload"].reduce((function(e,t){return e[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e,t,r){Gt(e)&&t in Ut&&ne(Ut[t],(function(e){Vt.error("页面".concat(t,"生命周期执行报错(").concat(e.message,")"),"LOG_SCOPE",e)}),e,r)}(this,t,r)},e}),{})};var Gt=function(e){return!!("object"==h(e)&&e&&e.route&&e.is&&e.route===e.is)},Qt=function e(t){if(B(t)){var r={};return O(t,(function(t,n){r[e(n)]=e(t)})),r}if("string"==typeof t)try{return decodeURIComponent(t)}catch(e){return t}return t},Jt=function(e,t){var r=t.indexOf("?"),n=t.indexOf("#");if(-1!==r||-1!==n)if(-1===r||-1===n)if(-1===r)e.path=t.substr(0,n),(t=t.substr(n+1))&&(e.hash=t);else{if(e.path=t.substr(0,r),!(t=t.substr(r+1)))return;e.search=t}else{if(r<n){if(e.path=t.substr(0,r),!(t=t.substr(r+1)))return;return n=t.indexOf("#"),e.search=t.substr(0,n),void(e.hash=t.substr(n+1))}if(e.path=t.substr(0,n),!(t=t.substr(n+1)))return;e.hash=t}else e.path=t},Yt=function e(t,r){if(r){if(!t.protocol&&!t.host){var n=r.indexOf("://"),o=r.indexOf("?"),i=r.indexOf("#");if(-1!==n&&function(e,t,r){return-1===t&&-1===r||(-1!==t&&-1!==r?e<t&&e<r:-1!==t?e<t:e<r)}(n,o,i)){t.protocol=r.substr(0,n);var a=r.substr(n+3),u=a.indexOf("/");return-1===u&&-1===a.indexOf("?")&&-1===a.indexOf("#")?void(t.host=a):(t.host=a.substr(0,u),void e(t,a.substr(u)))}var c=r.indexOf("/");if(c>0)return t.host=r.substr(0,c),void e(t,r.substr(c))}if(t.path||"/"!==r[0]||1!==r.length){if(!t.path&&"/"===r[0]&&"/"!==r[1])return Jt(t,r);if(!t.protocol&&!t.host){if("//"===r.substr(0,2)&&"/"!==r[2]){if(t.protocol="https",!(r=r.substr(2)))return}else if("h"===r[0]){var s=r.substr(0,7);"http://"===s?(t.protocol="http",r=r.substr(7)):"https:/"===s&&"/"===r[7]&&(t.protocol="https",r=r.substr(8))}if(!r)return;if(t.protocol){var l=r.indexOf("/");return-1===l?void(t.host=r):(t.host=r.substr(0,l),e(t,r.substr(l)))}}return t.path||"/"===r[0]?void 0:Jt(t,r)}t.path="/"}},Xt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={source:e};if(!e||"string"!=typeof e)return r;if(Yt(r,e),r.host){var n=r.host.split(":"),o=d(n,2),i=o[0],a=o[1];r.host=i,a&&(r.port=a)}return t&&(r.query=Zt(r.search||"")),r};exports.y=Xt;var Zt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n={};return O(String(e||"").split("&"),(function(e){var o=e.split("="),i=s(o),a=i[0],u=i.slice(1).join("=");if(a=a?t?Qt(a):a:"",u=u?t?Qt(u):u:"",a&&(n[a]=u),r&&!0===r(a,u,n))return!1})),n},er=function(e,t){var r;return Array.isArray(t)?(r={},t.forEach((function(e){r[e]=1}))):r=B(t)?t:{},Object.keys(e||{}).reduce((function(t,n){return r[n]||F(e[n])||t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n]))),t}),[]).join("&")};exports.ac=er;var tr=function(e){return F(e)||""===e?"":String(e)},rr={protocol:!0,port:!0,host:!0,path:!0,search:!0,hash:!0,hashInfoPath:!0,hashInfoSearch:!0},nr=function(e,t,r){if(r.hash&&t.hash){var n,o,i,a,u="#";if(!(null!==(n=t.hashInfo)&&void 0!==n&&n.search||null!==(o=t.hashInfo)&&void 0!==o&&o.path))return e+=u+t.hash;if(r.hashInfoPath&&(null===(i=t.hashInfo)||void 0===i?void 0:i.path)&&(u+="".concat(t.hashInfo.path)),r.hashInfoSearch&&null!==(a=t.hashInfo)&&void 0!==a&&a.search)if(B(r.hashInfoQuery)&&B(t.hashInfo.query)){var c={};Object.keys(r.hashInfoQuery).forEach((function(e){var n;r.hashInfoQuery[e]&&(c[e]=null===(n=t.hashInfo)||void 0===n?void 0:n.query[e])})),u+="?".concat(er(c))}else u+="?".concat(t.hashInfo.search);"#"!==u&&(e+=u)}return e},or=function(e,t){var r=g(g({},rr),B(t)?t:{}),n="";return n=function(e,t,r){if(r.search&&(t.search||B(t.query)))if(B(r.query)&&B(t.query)){var n={};Object.keys(r.query).forEach((function(e){r.query[e]&&(n[e]=t.query[e])})),U(n)||(e+="?".concat(er(n)))}else B(t.query)?U(t.query)||(e+="?".concat(er(t.query))):q(t.search)&&(e+="?".concat(t.search));return e}(n=function(e,t,r){return r.path&&t.path&&(!e||e.endsWith("/")||t.path.startsWith("/")||(e+="/"),e+="".concat(t.path)),e}(n=function(e,t,r){return r.host&&t.host&&(e+="".concat(t.host),r.port&&t.port&&(e+=":".concat(t.port))),e}(n=function(e,t,r){return r.protocol&&t.protocol&&(e+="".concat(t.protocol,"://")),e}(n,e,r),e,r),e,r),e,r),n=nr(n,e,r)};exports.C=or;var ir=function(){function e(t){f(this,e),this.spec=void 0,this.spec=Xt(t),this.parseSearch(),this.parseHashInfo()}return p(e,[{key:"getUrl",value:function(e){return or(this.spec,e)}},{key:"get",value:function(e){return this.spec[e]}},{key:"set",value:function(e,t){var r=this;"source"!==e?(this.spec[e]=tr(t),"search"===e&&this.parseSearch(),"hash"===e&&this.parseHashInfo()):(O(this.spec,(function(e,t){delete r.spec[t]})),this.spec[e]=tr(t),me(this.spec,Xt(this.spec[e]||"")),this.parseSearch(),this.parseHashInfo())}},{key:"getQuery",value:function(e){return F(e)?this.spec.query:this.spec.query[e]}},{key:"setQuery",value:function(e,t){var r=this;F(e)?(Object.keys(this.spec.query).forEach((function(e){delete r.spec.query[e]})),this.spec.search=this.linkSearch()):B(e)?(Object.keys(this.spec.query).forEach((function(t){t in e||delete r.spec.query[t]})),Object.keys(e).forEach((function(t){r.spec.query[t]=e[t]})),this.spec.search=this.linkSearch()):(this.spec.query[e]=tr(t),this.spec.search=this.linkSearch())}},{key:"getHashInfoItem",value:function(e){if(this.spec.hashInfo)return this.spec.hashInfo[e]}},{key:"setHashInfoItem",value:function(e,t){this.spec.hashInfo||(this.spec.hashInfo={}),this.spec.hashInfo[e]=tr(t),"search"===e&&this.parseHashInfoSearch(),this.spec.hash=this.linkHash()}},{key:"getHashInfoQuery",value:function(e){if(this.spec.hashInfo)return this.spec.hashInfo.query[e]}},{key:"setHashInfoQuery",value:function(e,t){var r=this;if(this.spec.hashInfo||(this.spec.hashInfo={}),this.spec.hashInfo.query||(this.spec.hashInfo.query={}),F(e)){var n;if(null===(n=this.spec.hashInfo)||void 0===n||!n.query)return;Object.keys(this.spec.hashInfo.query).forEach((function(e){var t;null===(t=r.spec.hashInfo)||void 0===t||delete t.query[e]})),this.spec.hashInfo.search=this.linkHashInfoSearch(),this.spec.hash=this.linkHash()}else B(e)?(this.spec.hashInfo||(this.spec.hashInfo={}),this.spec.hashInfo.query||(this.spec.hashInfo.query={}),Object.keys(this.spec.hashInfo.query).forEach((function(t){var n;t in e||null===(n=r.spec.hashInfo)||void 0===n||delete n.query[t]})),Object.keys(e).forEach((function(t){r.spec.hashInfo.query[t]=e[t]})),this.spec.hashInfo.search=this.linkHashInfoSearch(),this.spec.hash=this.linkHash()):(this.spec.hashInfo.query[e]=tr(t),this.spec.hashInfo.search=this.linkHashInfoSearch(),this.spec.hash=this.linkHash())}},{key:"parseHashInfo",value:function(){this.spec.hashInfo=Xt(this.spec.hash||""),this.parseHashInfoSearch()}},{key:"parseHashInfoSearch",value:function(){var e;this.spec.hashInfo||(this.spec.hashInfo={}),this.spec.hashInfo.query=Zt((null===(e=this.spec.hashInfo)||void 0===e?void 0:e.search)||"")}},{key:"parseSearch",value:function(){this.spec.query=Zt(this.spec.search||"")}},{key:"linkSearch",value:function(){return B(this.spec.query)?er(this.spec.query):""}},{key:"linkHash",value:function(){return nr("",this.spec,rr)}},{key:"linkHashInfoSearch",value:function(){var e;return B(null===(e=this.spec.hashInfo)||void 0===e?void 0:e.query)?er(this.spec.hashInfo.query):""}}]),e}(),ar=function(e){if(!Gt(e))return"";var t=e.route.endsWith(".html")?e.route.substr(0,e.route.length-5):e.route;return"".concat(0===t.indexOf("/")?"":"/").concat(t)};exports.a5=ar;var ur=function(e){if(!Gt(e))return"";var t,r=ar(e);return r?(B(e.options)&&(t=er(e.options)),"".concat(ar(e)).concat(t?"?":"").concat(t||"")):r};exports.L=ur;var cr=function(e){return!!Gt(e)&&!_(e.get_target_page)&&!sr(e)},sr=function(e){return"/pages/landing/index"===ar(e)},lr=function(e){if(e&&(!e.options||U(e.options))){if(e.$onLoadDone)return e;e.$optionsCheckTime||(e.$optionsCheckTime=Date.now());var t=0;return"ec_goods/detail"===e.route&&(t=2e3),Date.now()-e.$optionsCheckTime>=t?e:void 0}return e},dr=function(e){if(e){var t=Mt()||[];return t.length?lr(t.find((function(t){var r;return t&&(null===(r=t.getPageId)||void 0===r?void 0:r.call(t))===e&&!_(t.get_target_page)}))):void 0}},fr=function(e){return function(e){if(B(e)&&"getPageId"in e&&_(e.getPageId))return String(e.getPageId()||"")}(e)||""};exports.O=fr;var pr=function(e){var t;return e.pageName||e.pagename||(null===(t=e.data)||void 0===t?void 0:t.pagename)},vr=Le("PageInstanceCoreInfoMap"),gr=Le("PageNamePathMap"),mr=["$primaryNoDone"],hr=["$onLoadDone","$pisKey","$cmsNotRecommendVid","$cmsVidResult","$cmsVidRequestModel","$disableRecommendVid"],yr=function(e,t){var r=function(e){var t,r,n=fr(e),o=pr(e),i=e.$pisStatus,a=mr.concat(e.$coreDataKeys||[]).reduce((function(t,r){return r in e.data&&(t||(t={}),t[r]=e.data[r]),t}),void 0),u=hr.concat(e.$extendMapKeys||[]).reduce((function(t,r){return r in e&&(t||(t={}),t[r]=le(e[r])),t}),void 0),c=ar(e),s=ur(e),l=e.$wmProductId||e.data.$wmProductId||parseInt(null===(t=b.titan.getTitanFromInstance(e))||void 0===t||null===(r=t.getContext())||void 0===r?void 0:r.pro_id),d={id:n,route:c,url:s,pageName:o,status:i||0};return a&&(d.coreData=a),u&&(d.extendMap=u),l&&(d.productId=l),d}(e);r.pageName&&(gr[r.route]=r.pageName);var n=r.id,o="number"==typeof t?t:void 0,i=void 0===o?t:void 0,a=le((null==i?void 0:i.options)||e.options);a&&(a=Object.freeze(a)),n in vr?(Object.assign(vr[n],r),void 0!==o&&(vr[n].status=o),i&&Object.assign(vr[n],i),a&&(vr[n].options=a)):(r.options=a,i&&Object.assign(r,i),vr[n]=r)},br=function(e){return vr[e]},Pr=function(e){var t;return(null===(t=vr[e])||void 0===t?void 0:t.status)||0};exports.N=Pr;var Ir=function(e){var t;return(null===(t=vr[e])||void 0===t?void 0:t.url)||""},Sr=Le("ViewLifeLogs",(function(){return[]})),xr=function(){var e,t,r=Mt()||[];return r.length?null===(e=r[r.length-1])||void 0===e||null===(t=e.getPageId)||void 0===t?void 0:t.call(e):""},wr=function(){var e,t,r,n=Sr.splice(0,Sr.length);if(!n.length)return xr();var o={},i={};if(A(n,(function(e,t){var r=e.split("|"),n=d(r,5),a=n[0],u=n[1],c=n[2],s=n[4];"page"===a&&(i[c]||(i[c]=[]),i[c].push(t)),"component"===a&&(i[s]||(i[s]=[]),i[s].push(t)),"onUnload"===u&&(o[c]=!0),"detached"===u&&(o[s]=!0)})),Object.keys(o).forEach((function(e){i[e].forEach((function(e){n[e]=""}))})),!(n=n.filter((function(e){return e}))).length)return xr();var a=(null===(e=n.pop())||void 0===e?void 0:e.split("|")[2])||"",u=Mt()||[];if(!u.length)return a;var c=null===(t=u[u.length-1])||void 0===t||null===(r=t.getPageId)||void 0===r?void 0:r.call(t);return c!==a&&u.some((function(e){var t;return(null==e||null===(t=e.getPageId)||void 0===t?void 0:t.call(e))===a}))&&(a=c),a},Tr=function(){return dr(wr())},kr=function(e,t){if(cr(e))return e;if(B(e)){if(t&&B(e.$ownerPage))return e.$ownerPage;var r=Mt().find((function(t){return t&&fr(t)&&fr(t)===fr(e)}));if(r&&_(r.get_target_page)&&(r=r.get_target_page())&&!cr(r)&&(r=void 0),!r&&_(b.titan.getPageById)&&(r=b.titan.getPageById(fr(e)))&&!cr(r)&&(r=void 0),!r){for(var n,o=0;;){var i;if(o++,!(n=null===(i=e.selectOwnerComponent)||void 0===i?void 0:i.call(e))||cr(n)||o>=100)break}cr(n)&&(r=n)}return r&&t&&(e.$ownerPage=r),r||dr(fr(e))}};exports.d=kr;var Cr=function(e,t){var r=kr(e,t);return r?b.Promise.resolve(r):ee((function(){return new b.Promise((function(r){b.setTimeout((function(){r(kr(e,t))}),60)}))}),20)},Mr=function(){var e,t;return null===(e=(t=b.titan).getCurrentMetadata)||void 0===e?void 0:e.call(t,"PAGE_ID")},Rr=function(){var e=Mr();if(e)return br(e)},Or=function(){var e=b.titan.getCurrentComponent();if(e){var t=kr(e);if(cr(t))return lr(t)}},Ar=function(){return Mr()||wr()},Er=function(){var e=Or();return e||(e=Tr(),fr(e)!==Ar()&&(e=void 0)),e};exports.c=Er;var Vr=function(){return Rr()||function(){var e=wr();if(e)return br(e)}()},Lr=function(){var e=Er();return e?b.Promise.resolve(e):ee((function(){return new b.Promise((function(e){b.setTimeout((function(){e(Er())}),100)}))}),150,(function(e){return Boolean(cr(e)&&lr(e))}))};exports.o=Lr;var qr={onLoad:1,onShow:2,onUnload:3,onHide:4};(function(){var e;return function(){if(!e){e=!0;var t=function(e,t,r){r._cms_uuid_||(r._cms_uuid_=Ce()),Sr.push("".concat(e,"|").concat(t,"|").concat(fr(r),"|").concat(r.is,"|").concat(r._cms_uuid_))};["onLoad","onShow","onHide","onUnload"].forEach((function(e){zt(e,(function(){if(yr(this,qr[e]),t("page",e,this),"onLoad"===e&&(yr(this,{status:1,options:arguments.length<=0?void 0:arguments[0]}),this.$onLoadDone=!0),"onUnload"===e){yr(this,{destroyTime:Date.now()});var r=fr(this);r&&b.setTimeout((function(){!function(e){delete vr[e]}(r)}),2e3)}}))})),["created","attached","detached"].forEach((function(e){Kt("lifetimes.".concat(e),(function(){t("component",e,this)}))})),Ht("$syncPageCoreInfo",r),Kt("methods.$syncPageCoreInfo",r)}function r(){this.route&&yr(this)}}})()();var jr=exports.ak=je("Shared.insideTitan",(function(){return!("object"!=h(b.titan)||!b.titan)})),Dr=function(e){if(jr()){var t,r;if(e){if(t=(null===(r=b.titan.getTitanFromInstance(e))||void 0===r?void 0:r.getContext())||{},U(t)){var n=b.titan.getProductIdByPath(e.route);t.pro_id=n}}else t=b.titan.getCurrentContext(),t=g(g({},b.titan.getContext()),t||{});return t}},_r=function(e){jr()&&_(b.titan.stamp)&&b.titan.stamp("CMS_SDK:".concat(e))},Nr=exports.ao=function(e,t){var r,n,o=!1;return function(){o||(o=!0,r=null==t?void 0:t(),n=e(r));for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return n.apply(this,a)}}((function(e){var t=function(){return e=It("getExtConfigSync"),me({name:"",api:{host:"",prefix:""},service:"",form:{basicInfo:{bosId:"",cid:"",vid:""},appid:"",pid:"",storeId:"",parentVid:"",env:"production",extendInfo:{wxTemplateId:""}},local:!1},e);var e};return e?t:ue((function(){return Object.freeze(t())}))}),(function(){var e;return!!jr()&&"live"===(null===(e=b.titan.acquireSharedObject("liveMini"))||void 0===e?void 0:e.name)})),$r=exports.x=je("Shared.getCurrentAppIdSync",(function(){var e,t,r=(null===(e=Nr())||void 0===e||null===(t=e.form)||void 0===t?void 0:t.appid)||"";return r||Br().miniProgram.appId})),Br=je("Shared.getAccountInfoSync",(function(){return Object.freeze(It("getAccountInfoSync"))})),Ur=(exports.ad=je("Shared.isIPhoneX",(function(){var e=Ot(),t=e.system,r=e.screenHeight,n=e.screenWidth,o=e.safeArea,i=e.model;if(t&&n&&-1!==t.toLowerCase().indexOf("ios")){if(i&&-1!==i.toLowerCase().indexOf("iphone se"))return!1;if(2===T().platform&&(null==o?void 0:o.top)>20)return!0;var a,u;if(i&&-1!==i.toLowerCase().indexOf("iphone")&&-1!==(a=i.indexOf("<"))&&-1!==(u=i.indexOf(">"))){var c=i.substring(a+1,u).substring(6).split(",").map((function(e){return parseInt(e)}));if(c[0]>10)return!0;if(10===c[0]&&(3===c[1]||6===c[1]))return!1}return 100*Number(String(r/n).substring(0,4))==216}return!1})),je("Shared.getOSName",(function(){var e;return(e=Ot().system).startsWith("iOS")?"ios":e.startsWith("Windows")||e.startsWith("windows")?"windows":e.startsWith("macOS")||e.startsWith("MacOS")?"mac":e.startsWith("Android")||e.startsWith("android")?"android":void 0}))),Fr=je("Shared.getBenchmarkLevel",(function(){var e=Ur();if(!e)return 0;if("ios"===e){var t=Ot().model.replace("iPhone","").split(",").map((function(e){return parseInt(e)})),r=d(t,1)[0];return r<=5?5:r<=10?4:r<=12?3:r<=13?2:1}if("android"===e){var n=Ot(),o=n.benchmarkLevel;if("number"==typeof o)return-1===o?0:o<=15?5:o<=20?4:o<=25?3:o<=30?2:1;if("storage"in n){var i=parseInt(n.storage);return i<=100?4:i<200?3:i<300?2:1}}return 3})),Wr=Le("AppEnterCache"),Hr=Le("Shared.NetworkInfo"),zr=function(){Wr.watch||(Wr.watch=!0,It("onAppShow",[function(e){Wr.lastEnter=Object.freeze(le(e))}]))},Kr=exports.aE=ue((function(){return!Wr.watch&&zr(),Wr.lastLaunch||(Wr.lastLaunch=Object.freeze(It("getLaunchOptionsSync")||{})),Wr.lastLaunch})),Gr=function(){return!Wr.watch&&zr(),Wr.lastEnter||(Wr.lastEnter=Object.freeze(It("getEnterOptionsSync")||{})),Wr.lastEnter};exports.$=Gr;var Qr=["2g","3g","4g","5g","wifi","none"],Jr=function(e){e=String(e).toLowerCase(),Qr.includes(e)?Hr.type=e:"unknown"!==e?"wwan"!==e?"notreachable"===e&&(Hr.type="none"):Hr.type="wifi":Hr.type="0"},Yr=function(e){"number"==typeof e?(Hr.signalStrength=e,e?e>0?Hr.signalStrengthLevel=3:(e=Math.abs(e),Hr.signalStrengthLevel=e<=50?1:e<=70?2:e<=85?3:e<=100?4:5):Hr.signalStrengthLevel=0):(Hr.signalStrength=0,Hr.signalStrengthLevel=0)},Xr=function(e){Hr.promise||(Hr.promise=new b.Promise((function(e){Ct("getNetworkType").then((function(t){Jr(t.networkType),Yr(t.signalStrength),e()})),It("onNetworkStatusChange",[function(e){Jr(e.networkType),Ct("getNetworkType").then((function(e){Jr(e.networkType),Yr(e.signalStrength)}))}])}))),Hr.promise.then(e)},Zr=function(e){return function(){return e in Hr&&void 0!==Hr[e]?b.Promise.resolve(Hr[e]):new b.Promise((function(t){Xr((function(){t(Hr[e])}))}))}},en=function(e,t){return function(){return Xr(),e in Hr?Hr[e]:t}},tn=Zr("type"),rn=en("type","0"),nn=Zr("signalStrengthLevel"),on=en("signalStrengthLevel",0),an=function(e){return e?parseFloat((e/(750/Ot().windowWidth)).toFixed(2)):e};exports.Z=an;var un=function(e){return B(e)?cn(e.options):""};exports.ap=un;var cn=function(e){return B(e)?String(e.pageid||e.pageId||""):""},sn=function(e){return String(e).startsWith("/")?e:"/".concat(e||"")},ln=function(e){return"/cms_design/design"===sn(e)},dn=function(e){return"/cms_design/index"===sn(e)};exports.av=dn,exports.aw=function(e){return"/cms_design/usercenter"===sn(e)},exports.aq=function(e){var t;return(null==e?void 0:e.pagename)||(null==e||null===(t=e.data)||void 0===t?void 0:t.pagename)||""},exports.Y=function(){if(!wt("getImageInfo"))return function(e){return b.Promise.reject(new Error("当前小程序环境不支持getImageInfo api"))};var e=new Re((function(e){return e?Ct("getImageInfo",{src:e}).catch((function(){})):b.Promise.resolve(void 0)}));return function(t){return e.get(t)}}();var fn=Le("SharedPageComponentMap");exports.a3=function(e,t){var r=fr(t);r&&(e in fn||(fn[e]={}),fn[e][r]=t)},exports.a4=function(e,t){var r=fr(t);r&&e in fn&&delete fn[e][r]};var pn=function(e,t){if(e in fn){var r=fn[e];if(t||(t=Ar()),!t)return;return r[t]}};exports.l=pn,exports.v=function(e){e in fn||(fn[e]={});var t=fn[e];return Object.keys(t).map((function(e){return t[e]}))},exports.g=function(e,t){var r=pn(e,t);return t&&r?b.Promise.resolve(r):Lr().then((function(r){if(r&&(!t||t===fr(r)))return ee((function(){return new b.Promise((function(t){b.setTimeout((function(){t(pn(e,fr(r)))}))}))}))}))};var vn=function(){var e,t,r;return"live"===(null===(e=(t=b.titan).acquireSharedObject)||void 0===e||null===(r=e.call(t,"liveMini"))||void 0===r?void 0:r.name)},gn="channelsource",mn={primaryColor:"#07C160"},hn={primaryColor:"#2A6AE9"},yn={primaryColor:"#FF2E2E"},bn={primaryColor:"#FFA300"},Pn={primaryColor:"#2A6AE9"},In={primaryColor:"#e9445a"},Sn=mn,xn=function(e){if(q(e)&&(e=Zt(e)),!B(e))return 5;var t=parseInt(e[gn]);return 1===t?1:3===t?3:4===t?4:5},wn=function(e){return-1!==[0,16,1,13,27,28].indexOf(e)?le(mn):-1!==[6,21].indexOf(e)?le(hn):-1!==[25,26].indexOf(e)?le(yn):-1!==[19,20].indexOf(e)?le(Pn):-1!==[23,24].indexOf(e)?le(bn):-1!==[31,32].indexOf(e)?le(In):le(2===e?Sn:mn)},Tn=Le("CurrentChannelScene"),kn=function(){if(1!==T().platform){if(!Tn.value){var e,t=Er();e=t?t.options:Gr().query,Tn.value=xn(e)}return Tn.value}return Vt.error("当前非小程序环境，请确认包引用的正确性！","WeimobChannel"),5};exports.aO=kn;var Cn=I()&&"live"===(null===(e=(t=b.titan).acquireSharedObject)||void 0===e||null===(r=e.call(t,"liveMini"))||void 0===r?void 0:r.name),Mn=exports.aH=je("WeimobChannel.getCurrentChannel",(function(){var e=T().platform;return 2===e?Cn?27:1:3===e?21:4===e?25:5===e?10:6===e?23:7===e?19:8===e?31:(Vt.error("当前非小程序环境，请确认包引用的正确性！","WeimobChannel"),1)})),Rn=function(){return wn(Mn())},On=function(e){var t=T().platform;return 1===e?3===t?2410204560:4===t?1270542920:7===t?6924966400:6===t?2534168310:8===t?1899666751:2997720780:0},An=(exports.b4={install:function(e){var t;e.setMeta({scope:"WeimobChannel"}),e.addApi({getCurrentChannelStyle:Rn,getChannelStyle:wn,getCurrentChannel:Mn,getCurrentChannelScene:kn,getProductBIStatType:On}),null===(t=e.onUrlChange)||void 0===t||t.call(e,(function(e){var t;q(null===(t=e.query)||void 0===t?void 0:t[gn])&&(Tn.value=xn(e.query))})),kn()}},function(){var e,t,r,n=T().platform,o=function(e){if(t)return null==e||e(void 0,r),b.Promise.resolve(r);var n=new Error("当前环境不存在RPRM功能");return null==e||e(n),b.Promise.reject(n)};return function(i){return e?o(i):(t=Tt("hound",!0)&&Tt("rprm",!0),1!==n?t?(r=St(),e=!0,o(i)):(r=xt(),e=!0,o(i)):(t=!1,e=!0,o(i)))}}()),En=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return An().then((function(t){var n,o,i,a,u;return"debug"===e?(n=t.hound).debug.apply(n,r):"reportBizError"===e?(o=t.hound).reportBizError.apply(o,r):"addCustomEvent"===e?(i=t.hound).addCustomEvent.apply(i,r):void(null===(a=(u=t.rprm)[e])||void 0===a||a.call.apply(a,[u].concat(r)))}))};exports.aN=En;var Vn=function(e){return e=me({source_end:Mn(),scene_h5:kn(),stattype:2997720780},e||{}),En("rec",e)};exports.aA=Vn;var Ln=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return En("debug",t?fe(e):e)},qn=function(e){An().then((function(t){var r,n;null===(r=(n=t.hound).registerErrorFilter)||void 0===r||r.call(n,e)}))},jn=function(){var e=It("getStorageSync",["WOS_WXAPP_SESSION"]),t=parseInt((null==e?void 0:e.wid)||""),r=[];return t&&t>0?(r.push(Q(t,35)),r.push(Q(parseInt(Y(new Date,"DDHHmmss")),35))):r.push(Q(parseInt(Y(new Date,"DDHHmmssSSS")),36)),r.filter(Boolean).join("z")},Dn=function(e,t){var r=e||{},n=r.code,o=r.data,i=r.title,a=r.level,u=void 0===a?"INFO":a;if(!n||"string"!=typeof n||2!==n.split("-").length)return Vt.warn('code的值必须是"xx-yy"格式',n),n;var c=[n,jn()].join("-"),s=o||{};if("function"==typeof o)try{s=o(c)}catch(e){Vt.warn("上报执行data函数失败",o),s={}}s.__reportFrom=s.__reportFrom||t;var l={DEBUG:1,ERROR:4,FATAL:5,INFO:2,TRACE:0,WARN:3},d=u;return u in l&&(d=l[u]),En("reportBizError",{name:c,code:n.split("-").join(""),message:(i||"统一异常上报")+""+(t?"-"+t:""),data:s||{},uni:!0,level:d}),Vt.log("reportErrCode:",e,c),c};exports.a6=Dn,exports.bt=Object.freeze({__proto__:null,apmDebug:Ln,fireRPRMMethod:En,install:function(e){e.addApi({reportErrCode:Dn})},onRPRMReady:An,registerErrorFilter:qn,reportBIState:Vn,reportErrCode:Dn});var _n=function(e){return e.startsWith("pageId:")?e.substr(7):e},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32766,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t||0;return{next:function(){return r=r+1>e?t:r+1},val:function(){return r}}},$n=function(e){return[[":","："],["\n","~n"],[",","，"],["\\.","。"],["\\{","「"],["\\}","」"],["\\[","【"],["\\]","】"]].reduce((function(e,t){return e.replace(new RegExp(t[0],"g"),"`"+t[1]+"`")}),e)},Bn=function e(t){var r=h(t);if("function"===r)return"<F:".concat(t.name,">");if(t instanceof Date)return"<D(".concat(t.getTime(),")>");if(t instanceof Error){var n=t;return"<E(".concat($n(n.globalTicket||""),"=").concat($n(n.code||n.errcode||""),"=").concat($n(n.errmsg||n.message),")>")}if("string"===r)return $n(_n(t));if("object"!==r)return String(t);if(Array.isArray(t)){var o="[";return t.forEach((function(t,r){r&&(o+=","),(t||0===t||""===t)&&(o+=e(t))})),o+="]"}var i="{";return Object.keys(t).forEach((function(r,n){n&&(i+=","),(t[r]||0===t[r]||""===t[r])&&(i+=e(r)+":",i+=e(t[r]))})),i+="}"},Un={21:1,23:1,24:1,25:1,26:1,37:1},Fn=function(e){var t,r,n,o=e.sessionId,i=e.sessionStartTime,a=e.throttleDuration||50,u=e.uploader,c={},s={},f=0,p=[],v="|",m=e.maxCount||20,y=Nn(e.maxNum||32766),P=function(e){var t=String(o)+v+String(e.num);if(e.ts&&(t+=v+e.ts),t+=v+e.type,t+=v+e.label,e.val&&(t+="|v:"+e.val),e.belong&&(t+="|b:"+_n(String(e.belong))),e.code&&(t+="|c:"+e.code),e.hoop&&(t+="|h:"+e.hoop),t+="|ss:"+i,e.pierce&&(t+="|p:"+e.pierce),e.data)try{t+="|d:"+(12!==e.type?Bn(e.data):JSON.stringify(e.data))}catch(e){t+="|d:{f:"+e.message+"}"}return t},I=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t=!0;var r=0,n=p.map((function(e){var t=c[e]||[];return delete c[e],r+=s[e],delete s[e],[e,t]}));return p.splice(0,p.length),f=Math.max(f-r,0),b.Promise.all(n.map((function(t){var r=d(t,2),n=r[0],o=r[1];if(!o.length)return b.Promise.resolve(void 0);var i=String(n).split("~"),a=parseInt(i[0]),v=o.join("\n"),g={};return i.length>1&&(g.wmsdk_fatal_name=i[1],i.length>2&&i[2]&&(g.http={response:{body:i[2]||"0"}},i[3]&&(g.beat={hostname:i[3]}))),u(v,a,g).catch((function(){if(e){var t;if(!(o=o.reduce((function(e,t){if(t.endsWith("F!")){var r=t.lastIndexOf("|"),n=parseInt(t.substring(r+1));return++n>3||e.push(t.substring(0,r)+"|"+n+"F!"),e}return e.push(t+"|1F!"),e}),[])).length)return;f+=o.length,c[a]||(c[a]=[]),s[a]=s[a]||0,s[a]+=o.length,s[a]>=m&&p.push(a),(t=c[a]).splice.apply(t,[0,0].concat(l(o)))}return v}))}))).then((function(e){return t=!1,e}))},S=function e(){b.clearTimeout(r),r=void 0,function e(){r||(r=b.setTimeout((function(){U(c)||(t?(r=void 0,e()):(p.splice.apply(p,[0,p.length].concat(l(Object.keys(c)))),I().then((function(){r=void 0,e()}))))}),2500))}(),t||n||(n=b.setTimeout((function(){f&&p.length?(b.clearTimeout(r),r=void 0,I().then((function(){t=!1,n=void 0,e()}))):n=void 0}),a))},x=function(){return y.next()};return{addBreadCrumb:function(t,r,n,o){var i;"object"!=h(t)&&(t={type:t,label:r,val:n,belong:o});var a=t;a.ts=a.ts||Date.now(),a.num=a.num||x(),a.pierce=e.pierceValue,null===(i=e.bcFilter)||void 0===i||i.call(e,a),function(e){var t=function(e){var t;return Un[e.type]?26!==e.type?e.type+"~"+String(e.val||""):"".concat(e.type,"~").concat(String(e.val||""),"~").concat(e.code||"","~").concat((null===(t=e.data)||void 0===t?void 0:t.p)||""):String(e.type)}(e);c[t]||(c[t]=[]),s[t]=s[t]||0,s[t]++,f++,c[t].push(P(e)),s[t]>=m&&p.push(t)}(a),S()},reportPerformance:function(e,t,r,n){var o=g(g({},r||{}),{},{perf_label:e});u("object"==h(t)?Bn(t):String(t),14,o,n)},upload:function(){return n&&b.clearTimeout(n),n=void 0,p.splice.apply(p,[0,p.length].concat(l(Object.keys(c)))),I(!1)},nextNum:x,getCurrentSessionInfo:function(){return{id:o,start:i}}}},Wn=function(e){var t=Le("LocalState.SessionState.".concat(e,".").concat(Ce()));return{setLocalSessionState:function(e,r,n){t[e]={v:r,t:null==n?void 0:n.timeout}},getLocalSessionState:function(e){var r=t[e];if(r&&(!r.t||r.t>Date.now()))return r.v},getLocalSessionStateKeys:function(){return Object.keys(t)},removeLocalSessionState:function(e){delete t[e]},clearLocalSessionState:function(){Object.keys(t).forEach((function(e){delete t[e]}))}}};exports.bF=Wn;var Hn=Wn("Global"),zn=Hn.getLocalSessionState,Kn=Hn.setLocalSessionState,Gn=Hn.getLocalSessionStateKeys,Qn=Hn.removeLocalSessionState,Jn=Hn.clearLocalSessionState,Yn=Le("MpStorageAdapter",(function(){return{remove:function(e){return Ct("removeStorage",{key:e}).catch((function(){}))},removeSync:function(e){It("removeStorageSync",[e])},set:function(e,t){return Ct("setStorage",{key:e,data:t})},setSync:function(e,t){It("setStorageSync",[e,t])},get:function(e,t){return(t&&jr()&&b.titan.getRawStorageSync?b.Promise.resolve({data:b.titan.getRawStorageSync(e)}):Ct("getStorage",{key:e})).then((function(e){return null==e?void 0:e.data})).catch((function(){}))},getSync:function(e){return It("getStorageSync",[e])},getKeys:function(){return Ct("getStorageInfo").then((function(e){return(null==e?void 0:e.keys)||[]})).catch((function(){return[]}))},getKeysSync:function(){var e=It("getStorageInfoSync");return(null==e?void 0:e.keys)||[]}}})),Xn=exports.bG=function(){var e=Le("StoragerMap");return function(t){return!(t=t||"")&&Zn?Zn:(e[t]||(e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=function(e){return"".concat(t||"").concat(e)},n=function(e){return e.startsWith(t)},o=function(e){return e.substring(t.length)},i=function(e,t){if(null!=t&&""!==t){if(!(B(t)&&"t"in t&&j(t.t)&&"v"in t)||V(t.v))return t;if(-1===t.t||t.t>Date.now())return t.v;d(e)}},a=function(t,n,o){e.setSync(r(t),{v:n,t:(null==o?void 0:o.timeout)||-1})},u=function(t,n){return i(t,e.getSync(n?t:r(t),n))},c=function(){return(e.getKeysSync()||[]).filter(n).map(o)},s=function(){return _(e.getKeys)?e.getKeys().then((function(e){return(e||[]).filter(n).map(o)})):b.Promise.resolve(c())},l=function(t){return e.removeSync(r(t))},d=function(t){return _(e.remove)?e.remove(r(t)):b.Promise.resolve(l(t))};return{setLocalStorageState:function(t,n,o){return _(e.set)?e.set(r(t),{v:n,t:(null==o?void 0:o.timeout)||-1}):b.Promise.resolve(a(t,n,o))},setLocalStorageStateSync:a,getLocalStorageState:function(t,n){return _(e.get)?e.get(n?t:r(t),n).then((function(e){return i(t,e)})):b.Promise.resolve(u(t,n))},getLocalStorageStateSync:u,getLocalStorageStateKeysSync:c,getLocalStorageStateKeys:s,removeLocalStorageState:d,removeLocalStorageStateSync:l,clearLocalStorageStateSync:function(){c().forEach((function(e){l(e)}))},clearLocalStorageState:function(){return s().then((function(e){return b.Promise.all(e.map((function(e){return d(e)})))})).then((function(){}))},getLocalStorageStateFullSync:function(t,n){var o=e.getSync(n?t:r(t),n);return{v:i(t,o),t:B(o)&&"t"in o&&j(o.t)?o.t:-1}}}}(Yn,t)),e[t])}}(),Zn=Le("MpStorager",(function(){return Xn("_cms_")})),eo=Zn.getLocalStorageState,to=(Zn.getLocalStorageStateKeys,Zn.setLocalStorageState),ro=Zn.removeLocalStorageState,no=(Zn.clearLocalStorageState,Zn.getLocalStorageStateSync);Zn.getLocalStorageStateKeysSync,Zn.setLocalStorageStateSync,Zn.removeLocalStorageStateSync,Zn.clearLocalStorageStateSync;exports.j=to,exports.b=eo,exports.b6=Le("LocalStateModule",(function(){return function(e,t){return{install:function(r){r.addApi({getLocalSessionState:zn,setLocalSessionState:Kn,getLocalSessionStateKeys:Gn,removeLocalSessionState:Qn,clearLocalSessionState:Jn}),r.addApi(ve(e,"getLocalStorageStateFullSync")),r.addApi({name:"createScopeStorage",handler:t});var n=[["0",1,"key"],["1",1,"ignoreScope"]],o=[["0",1,"key"],["1",1,"data"],["2",2,"options"]],i=[["0",1,"key"],["1",1,"data"],["2",2,"options"]];r.setMeta({name:"WMSDKLocalState",asyncApiList:["setLocalStorageState","getLocalStorageState","getLocalStorageStateKeys","removeLocalStorageState","clearLocalStorageState"],apiInputMonitor:{getLocalStorageState:{fields:n},getLocalStorageStateSync:{fields:n},setLocalStorageState:{fields:o},setLocalStorageStateSync:{fields:o},removeLocalStorageState:{fields:i},removeLocalStorageStateSync:{fields:i}}})}}}(Zn,Xn)}));var oo=Le("EnvContainer",(function(){var e,t,r,n=function(){var e=Le("Env");return{env:function(t,r){return t&&r&&(e.env="prod"===t?"production":t),e.env},isProductionEnv:function(){return"prod"===e.env||"production"===e.env}}}();return(r=null===(e=Nr())||void 0===e||null===(t=e.form)||void 0===t?void 0:t.env)&&n.env(r,"从ext.json中设置env"),n})),io=oo.env,ao=oo.isProductionEnv;exports.b2=Object.freeze({__proto__:null,env:io,isProductionEnv:ao});var uo=function(e,t,r){null!=r&&(e[t]=Number(r),isNaN(e[t])&&delete e[t])},co=function(e){var t,r,n,o,i=Nr();i.form&&i.form.basicInfo&&(r=i.form.basicInfo.bosId,n=i.form.basicInfo.cid,o=i.form.basicInfo.vid);var a={};uo(a,"cid",n),uo(a,"bosId",r),uo(a,"extVid",o);var u=(null==e?void 0:e.options)||(null===(t=Er())||void 0===t?void 0:t.options)||Gr().query;u&&(uo(a,"urlVid",u.vid),uo(a,"productInstanceId",u.productInstanceId));var c=Dr(e);return uo(a,"productId",null==c?void 0:c.pro_id),a};exports.bi=Object.freeze({__proto__:null,getBusinessData:co});var so=function(e,t,r,n){e.addBreadCrumb({type:t,label:r,data:n})},lo={onPageNotFound:31,onLazyLoadError:32,onNetworkWeakChange:33,onNetworkStatusChange:34,getNetworkType:35,onError:36,onUnhandledRejection:37,onMemoryWarning:38},fo=je("BreadCrumb.injectApp",(function(e){[["onAppShow",4,3],["onAppHide",4,5],["onPageNotFound",4],["onLazyLoadError",4],["onNetworkWeakChange",4],["onNetworkStatusChange",4],["onError",4],["onUnhandledRejection",4],["onMemoryWarning",4]].forEach((function(t){var r=d(t,3),n=r[0],o=r[1],i=r[2];It(n,[function(t){so(e,o,i||lo[n],t)}])})),It("getNetworkType",[{success:function(t){var r,n=g({},t||{});(null==n||null===(r=n.errMsg)||void 0===r?void 0:r.endsWith(":ok"))&&delete n.errMsg,so(e,4,"35",n)}}])})),po=je("BreadCrumb.injectPage",(function(e){[["onLoad",2],["onShow",3],["onReady",4],["onHide",5],["onUnload",6]].forEach((function(t){var r=d(t,2),n=r[0],o=r[1];zt(n,(function(){!function(t){Gt(t)&&function(e,t,r){var n=t.route,o={type:n?5:6,label:r,belong:fr(t),data:{}},i="easyHalfScreen"===It("getContainerType",[t]);o.data.insideEasyHalfScreen=i,n&&(o.val=ur(t),o.code=t.pagename),n||(r<2&&(o.val=t.is),o.code=t.__wxExparserNodeId__),e.addBreadCrumb(o)}(e,t,o)}(this)}))}))})),vo=qe("BCStartTime"),go=qe("BCSessionId"),mo=Le("BCEnableState"),ho=function(){var e=b.titan.getCurrentMetadata("PAGE_ID"),t=b.titan.getCurrentMetadata("COMPONENT_NODE_ID"),r=b.titan.getCurrentMetadata("COMPONENT_IS"),n=br(e);return t?{code:t,val:r,belong:e,belongURL:null==n?void 0:n.url}:e?{code:e,val:null==n?void 0:n.url}:{}};exports.q=ho;var yo=je("BreadCrumb.getBcCommonTags",(function(){var e,t=Ot(),r=t.brand,n=t.version,o=t.SDKVersion;return o=o||xt().SDKVersion,{wmsdk_v:"1.5.21",wmsdk_titan:(null===(e=b.titan.getTitanConfig())||void 0===e?void 0:e.titanVersion)||"0",wmsdk_appv:n||"0",wmsdk_libv:o||"0",wmsdk_env:io()||"0",wmsdk_brand:r||"0",wmsdk_platform:S(),wmsdk_source:Mn(),wmsdk_os:Ur()}})),bo=function(e){var t=e.slice();return t.length>3&&t[3]&&String(t[3]).length>40&&(t[3]=String(t[3]||"").substring(0,40)),t},Po=Le("BreadCrumbDisabledSet"),Io=["requestTransformerOfWaitPrimaryDone","requestTransformerOfSleepTime"],So=["redirect","domainLookup","domainLookUp","connect","SSLconnection","request","response"],xo=je("BreadCrumb.injectRequest",(function(e,t){var r={requestTransforms:[function(e){e.header||(e.header={}),e.header["x-wmsdk-bc"]="".concat(go.value," ").concat(vo.value)}],responseTransforms:[function(e,t,r,n){var o,i,a,u=String((null==n||null===(o=n.data)||void 0===o?void 0:o.closeSDKBreadCrumb)||(null==n||null===(i=n.header)||void 0===i?void 0:i["x-wmsdk-closebc"])||(null==n||null===(a=n.headers)||void 0===a?void 0:a["x-wmsdk-closebc"])||"");Po.value||"2"!==u||(Po.value=!0,to("bc:disabled",1)),mo.disabled=mo.disabled||!!u}],stepCallbacks:[["mergeOptions",function(t){var r=t.profile;e.addBreadCrumb({type:3,ts:r.start,label:"1",val:t.url,hoop:t.key,data:pe(t,["weimobCloudISVId"])})}],["return",function(t){var r=function(e){var t={};return O(e,(function(r,n){var o;"finalURL"!==n?t[n]="requestTransforms"!==n&&"responseTransforms"!==n&&"stepCallbacks"!==n?e[n]:(o=e[n]).reduce((function(e,t,r){return t[2]>1||t[1]-t[0]>0||"wosCore"===t[3]||r&&t[1]>o[r-1][1]?(e.push(bo(t)),e):e}),[]):t.finalURL=e.finalURL.split(".com").slice(1).join(".com")})),t}(t.profile);e.addBreadCrumb({type:3,label:"2",val:r.finalURL||t.url,hoop:t.key,belong:t.belongPageInstanceId,data:g({weimobCloudISVId:t.weimobCloudISVId},r)}),function(e,t){var r,n=e.profile,o=n.finalURL||e.url;if(null!==(r=n.adapter)&&void 0!==r&&r[0]){var i,a,u=n.start,c={};c.complete=n.end[0]-u;var s=null===(i=n.requestTransforms)||void 0===i?void 0:i.find((function(e){return"wosCore"===e[3]})),l=0;s&&(l=(s[1]||0)-(s[0]||0),c.vid=l);var d=n.adapter[0]-u;c.before=d;var f=n.requestTransforms.filter((function(e){return Io.includes(e[3])})).reduce((function(e,t){return e+(t[1]-t[0])}),0);c.beforeLight=d-(f+l),function(e,t){var r,n=e.adapter[1]-e.adapter[0];t.adapter=n,null!==(r=e.adapter[3])&&void 0!==r&&r.profile&&(!function(e,t,r,n){So.forEach((function(e){"".concat(e,"Start")in t&&"".concat(e,"End")in t&&(n["".concat(e,"Adapter")]=t["".concat(e,"End")]-t["".concat(e,"Start")],n["".concat(e,"Adapter")])}))}(e.finalURL,e.adapter[3].profile,0,t),t.coreAdapter=(e.adapter[3].profile.responseEnd||0)-(e.adapter[3].profile.requestStart||0),t.nativeBeforeAdapter=(e.adapter[3].profile.redirectStart||e.adapter[3].profile.fetchStart||e.adapter[0])-e.adapter[0],t.nativeAfterAdapter=e.adapter[1]-(e.adapter[3].profile.responseEnd||e.adapter[1]))}(n,c),c.after=n.end[0]-n.adapter[1],t.reportPerformance("Request "+o,c,null,{requestTransforms:n.requestTransforms.filter((function(e){return e[1]-e[0]})),reqProfile:null===(a=n.adapter[3])||void 0===a?void 0:a.profile})}}(t,e)}]]};t.config("request",r)})),wo=je("BreadCrumb.injectNavigator",(function(e,t){var r=function(t,r,n){e.addBreadCrumb({type:2,label:t,val:r.mode,code:r.url,hoop:r.hoopId||r.key,data:g(g({err:n,source:ho()},pe(r,["appId","delta","feedId","shortLink","finderUserName","nonceId","envVersion","extraData","preventHangup"])),{},{fromCMSSDK:r.fromCMSSDK})})},n={hooks:[{before:function(e,t,n,o){r("1",o),n()},complete:function(e,t,n,o,i){r("2",i,e),o()}}]};t.config("navigator",n),jr()&&["switchTab","reLaunch","redirectTo","navigateTo"].forEach((function(e){b.titan.addRouteInterceptor(e,{beforeInvoke:function(t){(t=t||{}).mode=e,t.hoopId=t.hoopId||Ce(),r(t.fromCMSSDK?"3":"5",t)},afterInvoke:function(t,n,o){(t=t||{}).mode=e,r(t.fromCMSSDK?"4":"6",t,"fail"===n?o:void 0)}})}))})),To=qe("BreadCrumb.PerfDimensionsCount",2),ko=ae("BreadCrumb.StaticPerfDimensions"),Co=ae("BreadCrumb.PerfDimensionsQueue",(function(){return[]})),Mo=function(){To.value--,To.value<=0&&function(){for(var e;e=Co.shift();)e(Oo())}()},Ro=function(){var e=(new Date).getHours();return e<=1?7:e<=4?1:e<=8?2:e<=11?3:e<=15?4:e<=17||e<=19?5:e<=22?6:7},Oo=function(){var e,t;if(!ko.wmsdk_benchmark_level){var r=Ot().enableDebug;Object.assign(ko,{wmsdk_benchmark_level:Fr(),wmsdk_enable_debug:r||"0"})}var n=null===(e=(t=b.titan).getIndependentPackageInfo)||void 0===e?void 0:e.call(t);return g(g({},ko),{},{wmsdk_pkg:(null==n?void 0:n.name)||"main",wmsdk_net:rn(),wmsdk_net_strength:on(),wmsdk_hour:Ro()})},Ao=je("BreadCrumb.init",(function(){var e=co(),t=e.bosId,r=e.cid,n="".concat(t||"","_").concat(r||"","_").concat(Ce()),o="bc:ses",i=Nn(3e3,parseInt(no(o)||"")||0);to(o,i.next());var a=function(e,t,r,o){return new b.Promise((function(a,u){var c=r.http||{},s=r.beat||{};delete r.http,delete r.beat;var l=me({},{meta:{http:c},beat:s},{type:"WMSDKBreadCrumb",resource:"WMSDK".concat(14===t?"Perf":"","BreadCrumb").concat(t||""," ").concat(n),meta:{http:{url:n,method:"WMSDK".concat(14===t?"Perf":"","BreadCrumb").concat(t||""),body:JSON.stringify({bcBody:e,bcOther:o}),headers:g(g({wmsdk_bc:"1",wmsdk_bctype:t,wmsdk_bc_sesid:i.val(),wmsdk_bc_sesstart:vo.value},yo()),r||{})}}});En("addCustomEvent",l).then(a).catch(u)}))};vo.value=b.global.wmsdk_start_ts||Date.now(),go.value=i.val();var u=Fn({pierceValue:n,sessionId:i.val(),sessionStartTime:vo.value,checkDisabled:function(){return!!mo.disabled},uploader:function(e,t,r,n){return mo.disabled?(Vt.log("面包屑已被禁用，不进行数据上传","BreadCrumb",e),b.Promise.resolve()):14===t?(To.value<=0?b.Promise.resolve(Oo()):(2===To.value&&(tn().then(Mo),nn().then(Mo)),new b.Promise((function(e){Co.push(e)})))).then((function(o){return a(e,t,g(g({},o),r),n)})):a(e,t,r,n)}}),c=b.titan.getTitanConfig();return u.addBreadCrumb({type:8,label:2,val:"1.5.21",ts:b.global.wmsdk_start_ts||Date.now(),data:pe(c||{},["buildTime","titanVersion"])}),u}))(),Eo=Ao.addBreadCrumb,Vo=Ao.nextNum,Lo=Ao.reportPerformance,qo=Ao.getCurrentSessionInfo;exports.a=Eo,exports.bg=Object.freeze({__proto__:null,addBreadCrumb:Eo,getCurrentSessionInfo:qo,getExecSource:ho,install:function(e){no("bc:disabled")?(e.log("面包屑已被禁用，不进行注入监控","BreadCrumb"),mo.disabled=!0):(fo(Ao),po(Ao),xo(Ao,e),wo(Ao,e)),e.addApi({addBreadCrumb:Eo,reportPerformance:Lo})},newHoopId:Nn,nextNum:Vo,reportPerformance:Lo});var jo=Le("WOSAdapterResolveList",(function(){return[]})),Do=qe("WOSAdapterValue"),_o=function(e,t,r,n){return e&&e[t].apply(e,l(r))||(null==n?void 0:n())},No=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return e.endsWith("Sync")?_o(Bo(),e,t,r):new b.Promise((function(e){var t=Bo();t?e(t):jo.push(e)})).then((function(n){return _o(n,e,t,r)}))},$o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return No(e,n,t)}};exports.aY=function(e){Do.value||(Do.value=e,function(e){for(var t;t=jo.shift();)t(e)}(e))};var Bo=function(){return Do.value},Uo={getCurrentWOSCoreInfo:$o("getCurrentWOSCoreInfo"),getCurrentWOSCoreInfoSync:$o("getCurrentWOSCoreInfoSync"),getCurrentWOSSettingInfo:$o("getCurrentWOSSettingInfo"),getCurrentWOSSettingInfoSync:$o("getCurrentWOSSettingInfoSync")},Fo=Uo.getCurrentWOSCoreInfo,Wo=Uo.getCurrentWOSCoreInfoSync,Ho=exports.e=Uo.getCurrentWOSSettingInfo,zo=Uo.getCurrentWOSSettingInfoSync,Ko=function(e){var t={core:{}};if(B(e)){he(e,t.core,["bizVid","bizVidType"]);var r=e.pvidInfo||e.gvidInfo;B(r)&&he(r,t.core,["tcode","merchantId","bosId","cid","productId","productInstanceId","productVersionId","vid","vidType","vidName","vidLogos"])}return t},Go={grayEnabled:!1,styleType:"1",iconStyleType:1,colorScheme:{colorStyleType:1,type:"1",colorMain:"#FA2C19",colorSecondary:"#FFA300",priceColor:"#FA2C19",tagColor:"#FA2C19"},colorSchemeVo:{colorStyleType:1,type:"1",colorMain:"#FA2C19",colorSecondary:"#FFA300",priceColor:"#FA2C19",tagColor:"#FA2C19"},animation:{loadingType:1,logoType:1,logoCategory:2,logo:"",type:1,animationIcon:"1"}},Qo=function(e){return e||(e=g({},Go)),e&&(e.animation||(e.animation=g({},Go.animation)),e.colorScheme=e.colorSchemeVo,e.colorScheme||(e.colorScheme=g({},Go.colorScheme)),e.animation.type||(e.animation.type=1),1!==e.animation.type||e.animation.animationIcon||(e.animation.animationIcon="1")),e},Jo=exports.aL=$o("getFullVidInfoSync",void 0),Yo=exports.ai=$o("getFullVidInfo",void 0),Xo=$o("getValidPreVidInfo",void 0),Zo=$o("addRequestBeforeHook",void 0),ei=exports.aP=$o("onWOSCoreAccident",void 0),ti=exports.aQ=$o("offWOSCoreAccident",void 0),ri=function(e){return b.Promise.all([Ho("general"),Yo().then((function(e){return(e=e||{}).settingInfoResponse=Qo(e.settingInfoResponse),e.settingInfoResponse})).catch((function(){return Qo()}))]).then((function(e){var t=d(e,2),r=t[0],n=t[1];return n.grayEnabled=!(null==r||!r.grayEnabled),n}))};exports.a1=ri;var ni=function(e){return ri().catch((function(){return b.Promise.resolve(Go)})).then((function(e){return g({},e)}))};exports.aF=ni;var oi=function(){return Ho("techSupport").then((function(e){return e?le(e):b.Promise.reject(new Error("找不到技术标识信息"))}))};exports.aG=oi;var ii=function(e){return Yo(e).then((function(e){return(null==e?void 0:e.pvidInfo)||(null==e?void 0:e.gvidInfo)})).catch((function(){}))};exports.Q=ii;var ai=function(){var e=Jo();return(null==e?void 0:e.pvidInfo)||(null==e?void 0:e.gvidInfo)},ui=function(){return Yo().then((function(e){var t;return null!=e&&null!==(t=e.pvidInfo)&&void 0!==t&&t.vid?{vid:e.pvidInfo.vid,vidType:e.pvidInfo.vidType,vidName:String(e.pvidInfo.vidName||"")}:b.Promise.reject(new Error("获取失败"))})).catch((function(){return b.Promise.reject(new Error("获取失败"))}))},ci=function(e){return Yo(e).then((function(e){return{pageId:(null==e?void 0:e.pageId)||"",userCenterPageId:(null==e?void 0:e.userCenterPageId)||"",bizVidPageId:(null==e?void 0:e.bizVidPageId)||""}})).catch((function(){return{pageId:"",userCenterPageId:"",bizVidPageId:""}}))};exports.at=ci,exports.bj=Object.freeze({__proto__:null,addRequestBeforeHook:Zo,convertVidInfoToWOS:Ko,fillDefaultSettingInfo:Qo,getCurrentVidInfo:ui,getCurrentWOSCoreInfo:Fo,getCurrentWOSCoreInfoSync:Wo,getCurrentWOSSettingInfo:Ho,getCurrentWOSSettingInfoSync:zo,getFullVidInfo:Yo,getFullVidInfoSync:Jo,getMerchantSettingInfo:ri,getMerchantStyleInfo:ni,getMerchantTechSupportInfo:oi,getPageIdInfoOfVid:ci,getValidPreVidInfo:Xo,getVidInfo:ii,getVidInfoSync:ai,install:function(e){e.setMeta({apiInputMonitor:{getCurrentWOSSettingInfo:{fields:[["0",1,"key"]]},getCurrentWOSSettingInfoSync:{fields:[["0",1,"key"]]}},asyncApiList:["getCurrentWOSCoreInfo","getCurrentWOSSettingInfo","getPageIdInfoOfVid","getFullVidInfo","getValidPreVidInfo","getVidInfo","getMerchantSettingInfo","getMerchantStyleInfo","getMerchantTechSupportInfo","getCurrentVidInfo"]}),e.addApi({getCurrentWOSCoreInfo:Fo,getCurrentWOSCoreInfoSync:Wo,getCurrentWOSSettingInfo:Ho,getCurrentWOSSettingInfoSync:zo,getPageIdInfoOfVid:ci,getFullVidInfo:Yo,getFullVidInfoSync:Jo,getValidPreVidInfo:Xo,getVidInfo:ii,getVidInfoSync:ai,getMerchantSettingInfo:ri,getMerchantStyleInfo:ni,getMerchantTechSupportInfo:oi,onWOSCoreAccident:ei,offWOSCoreAccident:ti,addRecommendVidRequestBeforeHook:Zo,getCurrentVidInfo:ui}),e.on("VidFail",(function(t){if(B(t)&&t.pageUrl&&!t.pageNotRecommendVid&&!t.needRedirect){var r={url:t.url,key:t.key,tip:t.error.code||"2-100207",pageId:t.belongPageId};if(t.error.fromChannelNotSettle){var n=Xt(t.pageUrl);n.query||(n.query={}),"underLineVerification"===n.query.scene&&delete n.query.scene;var o=t.pageUrl?"&callBackUrl=".concat(encodeURIComponent(or(n))):"";return void e.showRequestErrorModal(g(g({},r),{},{code:"closed",textList:[t.error.message],actions:[{label:"切换门店",cb:function(){return e.navigator({mode:"redirect",url:"/cms_vidlist/index?vidType=10&sceneType=2".concat(o)}).then((function(){}))}}],detail:{info:"此vid在当前渠道未开通，具体看进店接口返回的vidChannelSettle字段",globalTicket:t.error.globalTicket}}))}e.showRequestErrorModal(g(g({},r),{},{code:"error",actions:["reload"],detail:t.error}))}})),e.on("VID_READY",(function(t){var r,n=d(t,2)[1];(null===(r=e.getLastErrorModalShowKey)||void 0===r?void 0:r.call(e))===n&&e.hideErrorModal()}))},offWOSCoreAccident:ti,onWOSCoreAccident:ei});var si=function e(t,r,n,o){var i=B(t)?t:{},a=function(e,t){if(B(e)&&_(e.mergeStrategy))return e.mergeStrategy(e,t);var o=function(){if(_(r))return r;for(var e={parentInstance:n};e=e.parentInstance;)if(e.mergeStrategy)return e.mergeStrategy}();return _(o)?o(e,t):me(e,t)},u={config:function(e){return e&&a(i,e),i},reportFullOptions:function(){for(var e={profile:{insDepth:0}},t={parentInstance:n},r=[];t=t.parentInstance;)r.push(t.config()),e.profile.insDepth++;r.reverse(),r.forEach((function(t){B(t)&&a(e,t)})),a(e,i);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return u.forEach((function(t){B(t)&&a(e,t)})),e},mergeStrategy:r,createInstance:function(t,r){return e(t,r,u,o)},parentInstance:n,getDepth:function(){for(var e=0,t={parentInstance:n};t=t.parentInstance;)e++;return e}};return null==o||o(u,{}),u},li=function(e,t,r){Array.isArray(r)&&r.forEach((function(r){if(q(r)&&(r=[r,1]),Array.isArray(r)&&q(r[0])&&r[1]){var n="".concat(r[1],"_").concat(r[0],"_").concat(r[3]?Ce():"");if(e[n])return;t.push(r)}}))},di=function(e){var t=h(e);return"boolean"===t||"string"===t||"number"===t?"string"===t?'"'.concat(e,'"'):String(e):Ve(e)},fi=function(e,t,r,n){t[e].forEach((function(t){t in r||(r[t]=[0,0,0,0]);var o=r[t];o[0]+=n[e].t,o[1]+=n[e].r,o[2]+=n[e].c||n[e].j,o[3]+=n[e].c}))},pi=function(e,t,r){var n,o=r.execKey,i=r.apiMeta,a=r.moduleMeta,u=r.inputArgs,c=null===(n=a.apiInputMonitor)||void 0===n?void 0:n[i.name],s=[],l={};li(l,s,i.inputMonitorFields),li(l,s,null==c?void 0:c.fields),s.length&&(e[o]=e[o]||{},t[o]=t[o]||{},s.forEach((function(r){var n,i=d(r,4),a=i[0],c=i[1],s=i[2],l=i[3],f=function(e,t,r){return function(e,t,r){var n,o=e,i=t.length-1;return O(t,(function(e,t){var r=e;if(e.startsWith("[")&&e.endsWith("]")&&((r=e.substring(1,e.length-1)).startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'"))&&(r=r.substring(1,r.length-1)),!r)return!1;try{o=o[r]}catch(e){return!1}return B(o)||Array.isArray(o)?i===t?(n=o,!1):void 0:i===t&&(n=o,!1)})),void 0===n?r:n}(e,t.match(De)||[t],void 0)}(u,a);if(2===c?f=Ve(f):3===c&&_(l)?(n=!1===(f=ne(l,void 0,void 0,[t[o],u,a,f])))||(f=B(f)&&"$val"in f?f.$val:di(f)):f=di(f),!n&&"[Undefined]"!==f){(s=s||a)in e[o]||(e[o][s]={});var p=e[o][s];p[f]=p[f]||0,p[f]++}})))},vi=function(e){u(r,Ne);var t=c(r);function r(e){var n;return f(this,r),(n=t.call(this)).ApiTriggerInfo=void 0,n.config=void 0,n.triggerHook=void 0,n.total=void 0,n.timer=void 0,n.ApiTriggerInfo={},n.config=e,n.triggerHook=function(e,t,r){var n={},o={},i={},a={},u={},c={},s=function(e){var s=e.execKey,l=e.apiMeta,d=e.moduleMeta;if(n[s]){var f=l.monitorName||"".concat(d.namespace||"").concat(d.namespace?".":"").concat(l.name);f in r||(r[f]={t:0,r:0,j:0,c:0});var p,v=r[f];if(Object.keys(n[s]).forEach((function(e){v[e]+=n[s][e]})),fi(s,o,v,n),fi(s,u,v,n),fi(s,c,v,n),"error"in e?p=e.error:"isThrow"in e&&(p=e.result),B(p)){var g=String(p.message||p.msg||"?").substring(0,300);"err"in v||(v.err={});var m=v.err;m[g]=m[g]||0,m[g]++}if(i[s]){"i"in v||(v.i={});var h=v.i;Object.keys(i[s]).forEach((function(e){e in h||(h[e]={});var t=h[e];O(i[s][e],(function(e,r){t[r]=t[r]||0,t[r]+=e}))})),U(v.i)&&delete v.i}t.emit("add",f),delete n[s],delete o[s],delete u[s],delete c[s],delete i[s],delete a[s]}},l=function(r,l){var d=l.execKey;d in n||(n[d]={t:0,r:0,j:0,c:0},o[d]=[],u[d]=[],c[d]=[]),"before"!==r?"resolve"!==r?("catch"===r&&n[d].c++,n[d].j++,t.emit("error",l),s(l)):(n[d].r++,s(l)):(n[d].t++,e.getCaller().forEach((function(e){e&&!o[d].includes(e)&&o[d].push(e)})),pi(i,a,l),function(e,t,r){var n=r.execKey;if(r.state.callByPermission){var o=r.state.permissionInfo;e[n].includes(o.forkName)||e[n].push(o.forkName);var i="".concat(o.forkName,"|").concat(o.name);t[n].includes(i)||t[n].push(i)}}(u,c,l))};return{ApiTriggerBeforeMonitor:function(e){l("before",e)},ApiTriggerResolveMonitor:function(e){l("resolve",e)},ApiTriggerRejectMonitor:function(e){l("reject",e)},ApiTriggerCatchMonitor:function(e){l("catch",e)}}}(e,a(n),n.ApiTriggerInfo),n.total=0,n.on("add",(function(){n.total++,n.total>1e3?n.upload():n.timer||(n.timer=b.setTimeout((function(){n.upload()}),1e3))})),n.on("error",(function(e){var t=e.moduleMeta,r=e.apiMeta,o=e.error,i=e.inputArgs,a=e.state,u=e.execKey,c=r.monitorName||"".concat(t.namespace||"").concat(t.namespace?".":"").concat(r.name);n.config.errorUploader({execKey:u,apiName:c,error:o,inputArgs:i,permissionInfo:a.callByPermission?a.permissionInfo:void 0})})),n}return p(r,[{key:"upload",value:function(e){var t=this;b.clearTimeout(this.timer),delete this.timer;var r=this.ApiTriggerInfo;(e?[e]:Object.keys(r)).forEach((function(e){t.config.uploader(e,r[e]),delete r[e]})),this.total=0}}]),r}(),gi=function(e,t){return _(e.mergeStrategy)?(e.mergeStrategy(e,t),e):(Object.keys(t).forEach((function(r){"requestTransforms"===r||"responseTransforms"===r||"stepCallbacks"===r?Array.isArray(t[r])&&(e[r]||(e[r]=[]),e[r]=e[r].concat(t[r])):e[r]=me(e[r],t[r])})),e)},mi=function(e,t){var r=[["0",2]];return t&&r.push(["1",2]),e&&r.push(["2",2]),["requestTransforms","onAdapterComplete","responseTransforms","cancelToken","params","onResult"].forEach((function(t){r.push([(e?"2":"0")+"."+t,2,t])})),["weimobOS","weimobOSReqFailStrategy","dataToWeimobOSInner","belongToPage","waitBelongPagePrimaryDone","belongPageDestroyStrategy"].forEach((function(t){r.push([(e?"2":"0")+"."+t,1,t])})),t||r.push(["0.method",1,"method"],["0.data",2,"data"]),r},hi=mi(!0,!0),yi=mi(!1,!1),bi={get:{fields:hi},post:{fields:hi},request:{fields:mi(!1,!0)},createRequestInstance:{fields:yi},createRequester:{fields:yi},createInstance:{fields:yi},config:{fields:yi}},Pi=function(e,t,r){return Array.isArray(t.stepCallbacks)&&t.stepCallbacks.length?(t.currentStep=e,b.Promise.all(t.stepCallbacks.map((function(n){return Array.isArray(n)&&n[0]===e&&_(n[1])?X(ne(n[1],void 0,void 0,[t,r])):b.Promise.resolve()})))):b.Promise.resolve()},Ii=function e(t,r,n,o,i){if(Array.isArray(t))e(t[0],r,n,o,t[1]);else if(_(t)){var a=r[0];oe(3e4,(function(){return t.apply(void 0,l(r))}),n,(function(e){var n;"timeout"===e.message&&(null===(n=a.logger)||void 0===n||n.error({group:a.key,scope:"Request",desc:"".concat(r[0].url,"的拦截器执行时间过长，已忽略其阻塞性"),body:t.toString()})),o(e)}),void 0===i||!i.longTime)}else n()},Si=function(e,t,r){if(e.baseURL&&!z(e.url))if(L(e.baseURL))e.url=e.baseURL+e.url;else if(_(e.baseURL)){var n=e.baseURL(e);L(n)&&(e.url=n+e.url)}if(!_(e.adapter))return r(new Error('Options "adapter" is required'));!function(e){B(e.header)||(e.header={}),e.header["x-cms-sdk-request"]="1.5.21"}(e),oe(3e5,(function(){var t;return null===(t=e.adapter)||void 0===t?void 0:t.call(e,e)}),(function(n){!function(n){var o;if(_(e.validateStatus)?o=e.validateStatus(n.status):(V(e.validateStatus)||e.validateStatus)&&(o=n.status>=200&&n.status<300),o)return t(n);var i=new Error("Request failed with status code "+n.status);i.response=n,r(i)}(n)}),(function(e){r(e)}))},xi=function(e,t,r,n,o){var i,a=Array.isArray(o)?o[0]:o,u=Array.isArray(o)?null===(i=o[1])||void 0===i?void 0:i.name:"";u=u||a.name||a.toString(),r[n][e][3]=u,B(t)&&t.selfProfile&&t.selfProfile!==r&&(r[n][e][4]=t.selfProfile)},wi=function(e){return new b.Promise((function(t,r){var n,o,i,a,u,c=1,s=0,l=!0,d={};e.originalDataSnapshot=(u=e.data,be(u,Object.freeze));var f=e.profile,p=function(t){var r,n;if(t&&t!==c)return s=0,c=t,g();var o,u=(1===c?null===(r=e.requestTransforms)||void 0===r?void 0:r.length:null===(n=e.responseTransforms)||void 0===n?void 0:n.length)||0;return++s<=u-1?g():1===c?(s=0,c=t||2,i?(null===(o=e.logger)||void 0===o||o.warn("当前请求已被第".concat(a[0]+1,"个拦截器设置为【忽略请求适配器执行】，将不会发起真实的HTTP请求，所有请求结果可能均由此拦截器处理！"),"Request",e,a),c=3,g()):g()):3===c?(s=0,c=t||4,g()):void 0},v=function(n,i){if(f.finalURL=f.finalURL||e.url,n)return f.end=[Date.now(),1],Pi("return",e,o),t(i);if(f.finalURL=f.finalURL||e.url,f.end=[Date.now(),2],i instanceof Error){var a=i;return a.options=e,a.originalResponse=o,Pi("return",e,o),r(a)}return Pi("return",e,o),r(i)},g=function t(){if(d[c]||(d[c]=1,1===c&&Pi("fireRequestTransform",e),2===c&&Pi("finalOptions",e),3===c&&Pi("fireResponseTransform",e,o),4===c&&Pi("end",e,o)),1===c){if(Array.isArray(e.requestTransforms)&&e.requestTransforms.length){f.requestTransforms||(f.requestTransforms=[]),f.requestTransforms[s]=[Date.now()];var r=e.requestTransforms[s];return Ii(r,[e,s],(function(e){f.requestTransforms[s][1]=Date.now();var t=Array.isArray(r)&&B(r[1])?r[1]:{};!0!==t.ignoreAdapterStrategie&&"resolve"!==t.ignoreAdapterStrategie||(i=!0,a=[s,r]),f.requestTransforms[s][2]=i?4:1,xi(s,e,f,"requestTransforms",r),p()}),(function(e){f.requestTransforms[s][1]=Date.now(),f.requestTransforms[s][2]="timeout"===e.message?3:2,xi(s,e,f,"requestTransforms",r),n=e,l=!1,p(3)}))}return s=0,c=2,t()}if(2!==c){if(3===c){if(Array.isArray(e.responseTransforms)&&e.responseTransforms.length){f.responseTransforms||(f.responseTransforms=[]),f.responseTransforms[s]=[Date.now()];var u=e.responseTransforms[s];return Ii(u,[e,l,n,o,s],(function(e){return f.responseTransforms[s][1]=Date.now(),f.responseTransforms[s][2]=1,xi(s,e,f,"responseTransforms",u),void 0!==e&&(n=e),p()}),(function(e){return f.responseTransforms[s][1]=Date.now(),f.responseTransforms[s][2]="timeout"===e.message?3:2,xi(s,e,f,"responseTransforms",u),n=e,l=!1,p()}))}return s=0,c=4,t()}var g,m;if(4===c)return l?v(l,n):e.foreverResolve?(null===(g=e.shouldBeReject)||void 0===g||g.call(e,n),_(e.foreverResolveResultStrategie)?m=e.foreverResolveResultStrategie(e,n,o):"response"===e.foreverResolveResultStrategie?m=n:"originalResponse"===e.foreverResolveResultStrategie&&(m=o),v(!0,m)):v(!1,n)}else{f.stepCallbacks=[],f.adapter=[];var h=[Date.now()];f.stepCallbacks.push(h),Pi("send",e).then((function(){h.push(Date.now()),h.push(1),f.adapter[0]=Date.now(),f.finalURL=e.url,Si(e,(function(r){var i;return f.adapter[1]=Date.now(),f.adapter[2]=1,c=3,s=0,o=r,n=r,l=!0,null===(i=e.onAdapterComplete)||void 0===i||i.call(e,null,r,e),t()}),(function(r){var i;return f.adapter[1]=Date.now(),f.adapter[2]=2,c=3,s=0,o=r,n=r,l=!1,null===(i=e.onAdapterComplete)||void 0===i||i.call(e,r,void 0,e),t()}))}))}};g()}))},Ti=function(e,t){return si(e,gi,t,(function(e){var t,r=e.createInstance,n=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(e,n)},o={get:function(t,r,n){return e.request(g({aliasFrom:"get",url:t,data:r,method:"GET",key:Ce(),profile:{start:Date.now()}},n||{}))},post:function(t,r,n){return e.request(g({aliasFrom:"post",url:t,data:r,method:"POST",key:Ce(),profile:{start:Date.now()}},n||{}))},request:function(t,r){var n;(n=L(t)?{url:t,data:r}:r?g(g({},t||{}),{},{data:r}):t).profile||(n.profile={start:Date.now()}),Pi("begin",n);var o=n.profile;if(n.aliasFrom=n.aliasFrom||"request",n.key=n.key||Ce(),n.appendKeyToData&&(H(n.data)||$(n.data))){var i=q(n.appendKeyToData)?n.appendKeyToData:"_wmsdkReqKey_";n.data=n.data||{},n.data[i]=n.key}return o.mergeOptions=[Date.now()],n=e.reportFullOptions(n),Pi("mergeOptions",n).then((function(){return o.mergeOptions.push(Date.now()),wi(n)}))},createInstance:n,createRequestInstance:n,createRequester:n},i=e.reportFullOptions(),a=i.methodMonitor,u=(null===(t=i.getInstanceCaller)||void 0===t?void 0:t.call(i))||"?",c=e.getDepth(),s=i.miniMonitorDepth||1;c<=s||!a?Object.assign(e,o):Object.keys(o).forEach((function(t){var r,n,i,s,l;e[t]=(r=t,n=o[t],i=a,s=bi,l="".concat(t,"(requestInstance.").concat(c,".").concat(u,")"),function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a,u="".concat(r,"_").concat(Ce()),c={},d={name:r,handler:n,monitorName:l},f={apiInputMonitor:s};ne(i.triggerHook.ApiTriggerBeforeMonitor,void 0,i.triggerHook,[{execKey:u,apiMeta:d,moduleMeta:f,inputArgs:t,state:c}]);var p=ne(n,(function(e){a=e,ne(i.triggerHook.ApiTriggerCatchMonitor,void 0,i.triggerHook,[{execKey:u,apiMeta:d,moduleMeta:f,inputArgs:t,state:c,error:e}])}),void 0,t);if(D(p)?(p.then((function(e){ne(i.triggerHook.ApiTriggerResolveMonitor,void 0,i.triggerHook,[{execKey:u,apiMeta:d,moduleMeta:f,inputArgs:t,state:c,result:e}])})),p.catch((function(e){ne(i.triggerHook.ApiTriggerRejectMonitor,void 0,i.triggerHook,[{execKey:u,apiMeta:d,moduleMeta:f,inputArgs:t,state:c,error:e}])}))):a||ne(i.triggerHook.ApiTriggerResolveMonitor,void 0,i.triggerHook,[{execKey:u,apiMeta:d,moduleMeta:f,inputArgs:t,state:c,result:p}]),a)throw a;return p})}))}))},ki=function(e){return{install:function(t){t.setMeta({scope:"request",asyncApiList:["request","get","post"],apiInputMonitor:bi}),t.setConfigHandler((function(t){return e.config(t)})),t.addApi({get:e.get,post:e.post,request:e.request,createRequester:e.createRequestInstance,createRequestInstance:e.createRequestInstance,createRootRequestInstance:Ti})}}};function Ci(){Gt(this)&&!this.$onPrimaryDoneRunning&&(b.clearTimeout(this.$primaryDoneTimeOutTimer),this.$onPrimaryDoneRunning=!0,this.data.$primaryNoDone&&this.setData({$primaryNoDone:!1}),this.$syncPageCoreInfo(),this.$primaryDoneCallbacks?(this.$primaryDoneCallbacks.forEach((function(e){e[0](),b.clearTimeout(e[1])})),this.$primaryDoneCallbacks.splice(0,this.$primaryDoneCallbacks.length),delete this.$primaryDoneCallbacks,delete this.$onPrimaryDoneRunning):delete this.$onPrimaryDoneRunning)}var Mi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=Ri(r);if(n)return b.Promise.resolve();var o=-1===e?5e4:e,i=Date.now();return(r?b.Promise.resolve(r):Lr()).then((function(r){null==t||t(r);var n=Math.max(o-(Date.now()-i),0);return r?r.data.$primaryNoDone?new b.Promise((function(t){var o;-1!==e&&(o=b.setTimeout((function(){if(t(),o=void 0,r.$primaryDoneCallbacks){var e=r.$primaryDoneCallbacks.findIndex((function(e){return e[0]===i}));-1!==e&&r.$primaryDoneCallbacks.splice(e,1)}}),n));var i=function(){b.clearTimeout(o),t()};r.$primaryDoneCallbacks||(r.$primaryDoneCallbacks=[]),r.$primaryDoneCallbacks.push([i,o])})):void 0:new b.Promise((function(e){b.setTimeout(e,n)}))}))};exports.G=Mi;var Ri=function(e){if(e)return e.data.$primaryNoDone?0:1;var t=Mr(),r=wr();if(!t||t===r){var n=Er();return n?"$primaryNoDone"in n.data&&n.data.$primaryNoDone?0:1:-1}var o=br(t||r);return o?o.status?o.coreData&&"$primaryNoDone"in o.coreData&&o.coreData.$primaryNoDone?0:1:0:-1},Oi=function(){return 1===Ri()},Ai=function(){Ht("$onPrimaryDone",Ci),Kt("methods.$onPrimaryDone",Ci),zt("onLoad",(function(){var e,t=this;this.data.$primaryNoDone?(this.$primaryDoneTimeOut="number"==typeof this.$primaryDoneTimeOut&&this.$primaryDoneTimeOut>=0?this.$primaryDoneTimeOut:5e3,this.$primaryDoneIsTimeOut||(this.$primaryDoneTimeOutTimer=b.setTimeout((function(){var e;null===(e=t.$onPrimaryDone)||void 0===e||e.call(t)}),this.$primaryDoneTimeOut))):null===(e=this.$onPrimaryDone)||void 0===e||e.call(this)})),zt("onUnload",(function(){this.primaryDoneTimeOutTimer&&b.clearTimeout(this.primaryDoneTimeOutTimer)}))};exports.bm=Object.freeze({__proto__:null,$moduleInit:Ai,checkCurrentPagePrimaryDoneSync:Oi,install:function(e){Ai(),e.setMeta({asyncApiList:["onCurrentPagePrimaryDone"]}),e.addApi({checkCurrentPagePrimaryDoneSync:Oi,onCurrentPagePrimaryDone:Mi})},onCurrentPagePrimaryDone:Mi});var Ei=function(e){var t,r;e.belongPageInstanceId||(e.belongPageInstanceId=Mr()||wr()),e.belongComponentInstanceId||(e.belongComponentInstanceId=null===(t=(r=b.titan).getCurrentMetadata)||void 0===t?void 0:t.call(r,"COMPONENT_NODE_ID")),e.belongComponentIs||(e.belongComponentIs=b.titan.getCurrentMetadata("COMPONENT_IS")),e.profile&&(e.profile.belong||(e.profile.belong=[e.belongPageInstanceId]),e.profile.belong[0]=e.belongPageInstanceId,e.profile.belong[1]=e.belongComponentInstanceId,e.profile.belong[2]=e.belongComponentIs)},Vi=function(e,t){return"页面（#".concat(e.belongPageInstanceId,"#").concat(Ir(e.belongPageInstanceId),"）已销毁，已").concat(t,"发送{").concat((e.method||"GET").toUpperCase()).concat(e.url,"}")},Li=function(e){if(!e.belongToPage||!e.belongPageInstanceId)return 0;if(3===Pr(e.belongPageInstanceId)){if("reject"===e.belongPageDestroyStrategy)return b.Promise.reject(new Error(Vi(e,"中断")));var t;if("hanged"===e.belongPageDestroyStrategy)return null===(t=e.logger)||void 0===t||t.log(Vi(e,"挂起"),"RequestPluginBelongPage",e),new b.Promise((function(){}))}},qi=function(e){var t;if(!e.sleepFired&&j(e.sleepTime))return null===(t=e.logger)||void 0===t||t.log("当前接口开始睡眠，持续".concat(e.sleepTime,"ms"),"RequestPluginBelongPage",e.url,e),e.sleepFired=!0,re(e.sleepTime)},ji=function(e,t){if(e.belongPageInstance)return null==t||t(e.belongPageInstance),b.Promise.resolve(e.belongPageInstance);var r,n=Or();return n?(e.belongPageInstance=n,null===(r=e.onBelongPageInstanceGet)||void 0===r||r.call(e,e,n),null==t||t(e.belongPageInstance),b.Promise.resolve(n)):new b.Promise((function(r){var n,o=e.onBelongPageInstanceGet;e.onBelongPageInstanceGet=function(i,a){e.belongPageInstance=a,null==t||t(e.belongPageInstance),n=!0,r(a),null==o||o(i,a)},Lr().then((function(o){var i;n||(e.belongPageInstance=o,null==t||t(e.belongPageInstance),r(o),null===(i=e.onBelongPageInstanceGet)||void 0===i||i.call(e,e,o))})).catch((function(){null==t||t(),r(void 0)}))}))},Di=function(e){e.belongToPage&&e.sleepVieBelongPagePrimaryTime&&ji(e,(function(t){var r;t&&!("$primaryNoDone"in t.data)&&(e.sleepTime=j(e.sleepVieBelongPagePrimaryTime)?e.sleepVieBelongPagePrimaryTime:600,null===(r=e.logger)||void 0===r||r.log("页面未设置主逻辑等待功能，当前接口将睡眠".concat(e.sleepTime,"ms"),"RequestPluginBelongPage",e.url,e))}))},_i=function(e){var t=Li(e);if(D(t))return t},Ni=function(e){var t;if(e.belongToPage&&e.waitBelongPagePrimaryDone&&e.belongPageInstanceId)return null===(t=e.logger)||void 0===t||t.log("开始等待页面主逻辑完成","RequestPluginBelongPage",e.url,e),ji(e).then((function(t){return Mi(e.waitBelongPagePrimaryTimeout,void 0,t)})).then((function(){var t,r=Li(e);if(D(r))return r;null===(t=e.logger)||void 0===t||t.log("页面主逻辑回调完成","RequestPluginBelongPage",e.url,e)}))},$i=function(e){if(!e.disableBelongPageRequestTransforms)return ji(e).then((function(t){if(null!=t&&t.$wmRequestTransforms&&Array.isArray(t.$wmRequestTransforms)&&e.requestTransforms){var r,n=0,o=ar(t);t.$wmRequestTransforms.forEach((function(t,r){var i="PageRts".concat(r,".").concat(o);Array.isArray(t)||(t=[t,{name:i}]),B(t[1])&&t[1].name?t[1].name=String(t[1].name)+"(from:".concat(o,")"):t[1]={name:i},n++,e.requestTransforms.push(t)})),null===(r=e.logger)||void 0===r||r.log("页面向当前请求注入".concat(n,"个拦截器"),"RequestPluginBelongPage",e.url,e,t)}}))},Bi=function(e){var t=function(t,r,n){Eo({type:n||e,label:1,val:t,data:{v:2,d:r}})};return new vi({getCaller:function(){var e,t,r=[["p//",null===(e=Vr())||void 0===e?void 0:e.route],["c//",b.titan.getCurrentMetadata("COMPONENT_IS")],["m//",null===(t=b.titan.getCurrentModuleInfo())||void 0===t?void 0:t.name]].filter((function(e,t,r){return e[1]&&1===t&&r[0][1]?r[0][1]!=="/".concat(e[1]):e[1]}));return r.length||r.push(["?",""]),r.map((function(e){return"".concat(e[0]).concat(e[1])}))},errorUploader:function(e){var t=e.apiName,r=e.error,n=e.permissionInfo,o=e.execKey;Eo({type:26,label:n?2:1,val:t,hoop:o,belong:b.titan.getCurrentMetadata("PAGE_ID"),code:null==n?void 0:n.forkName,data:{v:2,p:null==n?void 0:n.name,d:r,s:r.stack}})},uploader:function(r,n){if(23!==e)t(r,n);else{var o=n.i;delete n.i;var i=n.err;delete n.err,t(r,n),B(o)&&!U(o)&&t(r,o,24),B(i)&&!U(i)&&t(r,i,25)}}})},Ui=exports.bJ=Le("ApiMonitor.MainApiMonitor",(function(){return Bi(21)})),Fi=(exports.bK=Le("ApiMonitor.ForkApiMonitor",(function(){return Bi(23)})),Le("RequestDefaultRequester",(function(){return ce(["config","get","post","request","createRequestInstance","createRequester"],(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;return function(r){if(L(r.url)&&L(r.url)){var n;if(B(r.params)?n=r.params:L(r.params)&&(n=Zt(r.params)),!n||U(n))return;var o=e(r.url);n=Object.assign(Zt(o.search),n),o.search=er(n),r.url=t(o)}}}();return Ti({methodMonitor:Ui,getInstanceCaller:function(){var e;return null===(e=b.titan.getCurrentModuleInfo())||void 0===e?void 0:e.name},logger:Vt,method:"GET",encodeParams:!0,adapter:function(e){e.onResult=function(t){var r;null===(r=e.cancelToken)||void 0===r||r.call(e,(function(){var e;return null==t||null===(e=t.abort)||void 0===e?void 0:e.call(t)}))};var t="adapter,belongComponentInstanceId,belongComponentIs,belongPageInstance,belongPageInstanceId,belongPageInstanceIsTabbar,belongPageInstanceKey,belongPageInstanceRoute,currentStep,logger,onAdapterComplete,onBelongPageInstanceGet,profile,requestTransforms,responseTransforms,stepCallbacks".split(",");return Ct("request",ve(e,t)).then((function(t){var r=t;return r.status=t.statusCode,r.options=e,e.profile.adapter[3]=pe(t,["statusCode","profile","errMsg","errno"]),r})).catch((function(t){t.options=e;var r=pe(t,["message","errMsg","errno"]);return r.message=r.message||t.message,e.profile.adapter[3]=r,b.Promise.reject(t)}))},header:{"x-wmsdk-close-store":"v2"},requestTransforms:[[function(e){var t=h(e.timeout);"undefined"===t&&delete e.timeout,"number"===t&&0===e.timeout&&(e.timeout=1/0)},{name:"setTimeout"}],[Ei,{name:"markBelong"}],[Di,{name:"sleepVie"}],[_i,{name:"belongDestroyCheck"}],[Ni,{name:"waitPrimaryDone"}],[_i,{name:"belongDestroyCheck2"}],[qi,{name:"sleep"}],[_i,{name:"belongDestroyCheck3"}],[$i,{name:"pageHooks"}]],stepCallbacks:[["mergeOptions",function(t){t.requestTransforms||(t.requestTransforms=[]),t.belongToPage&&t.requestTransforms.push(_i),(t.encodeParams||V(t.encodeParams))&&t.requestTransforms.push(e)}],["return",function(e){delete e.belongPageInstance}]]})}))}))),Wi=(Fi.config,Fi.get,Fi.post,Fi.request,Fi.createRequestInstance);Fi.createRequester;Le("RequestModule",(function(){return ki(Fi)}));var Hi=function(e){if(e.apiHostFromExt&&!z(e.url)){var t;if(_(e.apiHostFromExt))t=(t=e.apiHostFromExt(e))||"",t=String(t);else{var r,n,o=Nr();t=[null==o||null===(r=o.api)||void 0===r?void 0:r.host,null==o||null===(n=o.api)||void 0===n?void 0:n.prefix].join("")}t&&0===String(t).indexOf("http")&&(e.url="".concat(t).concat(e.url))}},zi="/cms/base/global/getRecommendVidInfo",Ki=(exports.ay="/cms/service/navigate/getNavigation",exports.ax="/cms/service/navigate/getNavigateExtData",exports.aJ="/cms/service/quickNav/getQuickNavigate",exports.aI="/cms/service/quickNav/getQuickNavigation",exports.aM="/cms/service/poster/getPoster",exports.aU="/cms/base/node/queryNodeInfo",exports.k="未在当前页面发现注入的<CMSSDKLandingPage>组件，你可能未成功安装SDK，可按照文档操作：http://cms-sdk.show.hsmob.com/guide/ui/loading.html#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B3%A8%E6%84%8F",exports.t="未在当前页面发现注入的<CMSSDKNavMenuPage>组件，你可能未成功安装SDK，可按照文档操作：http://cms-sdk.show.hsmob.com/guide/business/nav-menu.html",exports.an="当前页面已被开发者指定为禁用导航菜单，启动请参考文档：http://cms-sdk.show.hsmob.com/material/nav.html#%E6%89%8B%E5%8A%A8%E7%A6%81%E7%94%A8",exports.P="未在当前页面发现注入的<ErrorModal>组件，你可能未成功安装SDK",exports.a0="COLLECT_BAR_SHOW",{lg:"750",md:"380",sm:"260",xs:"200",xxs:"45"}),Gi=[90,80,90,100],Qi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:"lg",pictureRatio:2};if(!q(e))return e;var r=t.size,n=t.pictureRatio,o=t.whRatio,i=t.quality,a=/\/\/c.weimobwmc.com/gi,u=/\/\/dev.weimobwmc.com/gi,c="number"==typeof r?r:Ki[r||"lg"];return/(\?)|(@)|(\.gif|\.svg)/gi.test(e)?e:(a.test(e)&&(e=e.replace(a,"//image-c.weimobwmc.com")),u.test(e)&&(e=e.replace(u,"//image-c-dev.weimobwmc.com")),/\/\/image-c-dev.weimobwmc.com|\/\/image-c.weimobwmc.com/gi.test(e)?[e,"?imageView2",o||"/2/w/".concat(c),"/q/",i||Gi[n||2],"/interlace/1"].join(""):e)};exports.h=Qi;var Ji=function(e){var t,r,n,o,i,a,u,c;return[null==e||null===(t=e.basicInfo)||void 0===t?void 0:t.productId,null==e||null===(r=e.basicInfo)||void 0===r?void 0:r.productInstanceId,null==e||null===(n=e.basicInfo)||void 0===n?void 0:n.vid,null==e||null===(o=e.queryParameter)||void 0===o?void 0:o.needGvid,null==e||null===(i=e.queryParameter)||void 0===i?void 0:i.vid,null==e||null===(a=e.queryParameter)||void 0===a?void 0:a.bizVid,null==e||null===(u=e.queryParameter)||void 0===u?void 0:u.productId,null==e||null===(c=e.queryParameter)||void 0===c?void 0:c.productInstanceId].join("_")},Yi=function(e,t,r,n,o){var i,a,u=null==n||null===(i=n.data)||void 0===i?void 0:i.errmsg,c=null==n||null===(a=n.data)||void 0===a?void 0:a.errcode,s=e.profile;if(s.responseTransforms||(s.responseTransforms=[]),s.responseTransforms[o]||(s.responseTransforms[o]=[]),s.responseTransforms[o][4]||(s.responseTransforms[o][4]={}),Object.assign(s.responseTransforms[o][4],{wosMsg:u,wosCode:c}),e.weimobOS&&-1!==e.weimobOS&&t&&!function(e){return B(e)&&"errcode"in e&&0===parseInt(e.errcode)}(null==n?void 0:n.data)){var l="未知错误",d="-1";if(B(n)&&B(n.data)){var f=n.data,p=f.errmsg,v=f.errcode;p||v?(l=p||l,d=v||d):B(n.data.code)&&(l=String(n.data.code.errmsg||"")||l,d=String(n.data.code.errcode||"")||d)}var g,m="".concat(e.url,"\n").concat(l,"，错误码：").concat(d);if("console"===e.weimobOSErrorStrategie)return void(null===(g=e.logger)||void 0===g||g.warn(m,"WeimobOsShared",n,e));if(_(e.weimobOSErrorStrategie))return e.weimobOSErrorStrategie(e,r,n);var h=new Error(m);throw Object.assign(h,(null==n?void 0:n.data)||{}),h}},Xi=function(e,t){var r,n;if(B(t)){var o=(n=e.originalDataSnapshot,be(n));e.dataToWeimobOSInner?$(o)&&o?t.queryParameter=me(t.queryParameter,o):t.queryParameter=o:$(o)&&o?me(t,o):null!=o&&(t=o),e.data=t}e.header||(e.header={});var i=((null===(r=e.data)||void 0===r?void 0:r.basicInfo)||{}).bosId;e.header["weimob-bosId"]=i||""},Zi=function(e,t){if(!B(e))return{response:e,error:new Error("接口返回的数据不是一个对象（".concat(t,"）"))};var r,n,o,i,a,u;if("errcode"in e&&"data"in e)r=e.errcode,n=e.errmsg,o=e.data,a=e.globalTicket,i=e;else if(B(e.data)&&!U(e.data)){var c;r=e.data.errcode,n=e.data.errmsg,o=e.data.data,i=e.data,a=e.data.globalTicket,u=null===(c=e.header)||void 0===c?void 0:c["x-apm-trace-id"]}if(!function e(t,r){return Array.isArray(r)?r.some((function(r){return e(t,r)})):"".concat(r)=="".concat(t)}(r,"0")){var s=new Error("".concat(n||"未知错误","，错误码：").concat(r||501));return s.code=String(r||"501"),s.globalTicket=a,s.apmTraceId=u,{globalTicket:a,apmTraceId:u,response:e,data:i,error:s}}if(!o){var l=new Error("接口未返回任何数据");return l.code="404",l.globalTicket=a,l.apmTraceId=u,{globalTicket:a,apmTraceId:u,response:e,data:i,error:l}}return{globalTicket:a,apmTraceId:u,response:e,data:i,result:o}},ea=function(e){var t;return e=void 0===e||e,(null===(t=Nr().form)||void 0===t?void 0:t.basicInfo.tcode)||(e?"weimob":void 0)};exports.b9=Object.freeze({__proto__:null,asyncApiList:["getCurrentTcode"],getCurrentTcode:function(e){return b.Promise.resolve(ea(e))},getCurrentTcodeSync:ea});var ta=function(e,t,r,n,o){var i,a,u,c,s=Nr();n||(n=Dr(o));var l={appid:$r(),basicInfo:{vid:(null==r?void 0:r.vid)||(null==t?void 0:t.urlVid),vidType:null==r?void 0:r.vidType,bosId:(null==r?void 0:r.bosId)||(null==t?void 0:t.bosId),productId:(null==r?void 0:r.productId)||(null===(i=n)||void 0===i?void 0:i.pro_id)||(null==t?void 0:t.productId),productInstanceId:(null==r?void 0:r.productInstanceId)||(null==t?void 0:t.productInstanceId),productVersionId:null==r?void 0:r.productVersionId,merchantId:null==r?void 0:r.merchantId,tcode:ea(),cid:(null==r?void 0:r.cid)||(null==t?void 0:t.cid)},extendInfo:g({},null==s||null===(a=s.form)||void 0===a?void 0:a.extendInfo),queryParameter:e,i18n:{language:"zh",timezone:"8"}},d=l.extendInfo;return d.source||(d.source=Mn()),d.channelsource||(d.channelsource=kn()),null!=(null==s||null===(u=s.form)||void 0===u?void 0:u.pid)&&(l.pid=s.form.pid),null!=(null==s||null===(c=s.form)||void 0===c?void 0:c.storeId)&&(l.storeId=s.form.storeId),e&&(l.queryParameter=e),function(e,t){if(!e.extendInfo.refer){if(!t){var r=Vr();if(r)return void(e.extendInfo.refer=r.pageName)}(t=t||Er())&&(e.extendInfo.refer=pr(t))}}(l,o),fe(l,!0)},ra=function(e,t,r){t.extendInfo.mpScene=t.extendInfo.mpScene||Gr().scene,String(t.extendInfo.mpScene).length>10&&(t.extendInfo.mpScene=""),e.header||(e.header={}),r&&(e.header["x-cmssdk-vidticket"]="".concat(r.globalTicket||""))},na=function(e,t){var r=ta(null,co(),(null==t?void 0:t.pvidInfo)||(null==t?void 0:t.gvidInfo));null!=t&&t.bizVid&&(r.bizVid=r.bizVid||t.bizVid,r.bizVidType=r.bizVidType||t.bizVidType),null!=t&&t.pvid&&(e.header||(e.header={}),e.header["x-wmsdk-vid"]=t.pvid),ra(e,r,t),Xi(e,r)},oa={continue:1,reject:1,hanged:1},ia=function(e){var t={};if(-1===e.weimobOS)return t.mod=3,{selfProfile:t};if(t.bArgs=function(e){var t=[];return["basicInfo","queryParameter","extendInfo"].forEach((function(r){(null==e?void 0:e[r])&&["vid","cid","vidType","productId","productInstanceId","source","refer"].forEach((function(n){(e[r][n]||0===e[r][n])&&t.push([r+"."+n,e[r][n]])}))})),t}(e.data),!e.weimobOS)return t.mod=2,function(e){var t=ta(null,co());ra(e,t),Xi(e,t)}(e),{selfProfile:t};if(t.mod=1,e.weimobOSTrySyncVid){var r=Jo();if(r)return t.vidTrace=[1,r.globalTicket,r.sourceApiName,r.sourcePageInstanceId].join("_"),na(e,r),{selfProfile:t}}return Z(Lr(),Yo().catch((function(e){return e}))).then((function(r){var n=d(r,2),o=n[0],i=n[1];if(!i||i instanceof Error){if(t.vidTrace="0_"+((null==i?void 0:i.globalTicket)||(null==i?void 0:i.message)||""),"weimobOSReqFailStrategy"in e||(null!=o&&o.$cmsNotRecommendVid||null!=o&&o.data.$cmsNotRecommendVid?e.weimobOSReqFailStrategy="continue":e.weimobOSReqFailStrategy=(null==o?void 0:o.$weimobOSReqFailStrategy)||(null==o?void 0:o.data.$weimobOSReqFailStrategy)||"reject"),(null==o?void 0:o.$wmOnVidFailRequestStrategy)&&!e.priorityBelongPageReqFailStrategy&&(e.weimobOSReqFailStrategy=o.$wmOnVidFailRequestStrategy&&"original"!==o.$wmOnVidFailRequestStrategy?o.$wmOnVidFailRequestStrategy:e.weimobOSReqFailStrategy),e.weimobOSReqFailStrategy=oa[e.weimobOSReqFailStrategy]?e.weimobOSReqFailStrategy:"reject","reject"===e.weimobOSReqFailStrategy||e.weimobOSNotCompleteReject){var a=new Error("进店失败或重定向，已将中断当前请求的继续执行");return a.$sdkErrorSource="vidFail",a.selfProfile=t,b.Promise.reject(a)}var u;if("hanged"===e.weimobOSReqFailStrategy)return null===(u=e.logger)||void 0===u||u.log("进店失败或重定向，当前请求将被挂起","RequestPluginWeimobOs",e.url,e),new b.Promise((function(){}))}return t.vidTrace=[1,null==i?void 0:i.globalTicket,"getFullVidInfo",null==i?void 0:i.sourcePageInstanceId].join("_"),na(e,i),{selfProfile:t}}))},aa=je("NEW_LABEL_LIST",(function(){var e=["tracepromotionid","chan_id","room_id","scene","scene_h5","tx_cps_id","essharewid","dcGuideTicket","roomId","recordId","qwzsKey","from_args","dyson","special","articlesid","tuike_id","merchant_channel","merchant_activityId"];return S()>1&&e.push("wls"),e}))(),ua={special:36e5,articlesid:36e5,wls:864e5},ca="TRACE_LABEL_",sa="tracepromotionid",la=Le("TraceLabelLabelTracer",(function(){return function(e,t){var r=function(){var t=e.getLocalStorageStateSync("labelList",!0),r=e.getLocalStorageStateSync("ec$labelList",!0);return t=t||r,B(t)&&O(t,(function(e,r){B(e)||delete t[r],e.createTime&&e.duration&&Date.now()>e.createTime+60*Number(e.duration)*60*1e3&&delete t[r]})),t=t||{},t};return{getOldTraceLabelList:r,getTraceLabelList:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n=n.length?n:aa;var i=r();return U(i),n.map((function(t){var r=e.getLocalStorageStateSync("".concat(ca).concat(t));if(q(r)){var n=r.indexOf("|"),o=Number(r.substring(0,n)),a=r.substring(n+1),u=Xt(a),c=u.query[sa];if(null!=c&&c.startsWith("[")){var s=c.substring(1).trim().split(",")[0].trim();s===String(parseInt(s))&&(u.query[sa]=s)}return{url:a,createTime:o,version:1,label:t,value:u.query}}if(null!=i&&i[t]){var l,d={version:0,label:t,value:Object.keys(i[t]).reduce((function(e,r){return"createTime"===r?l=i[t][r]:"duration"!==r&&(e[t]=i[t][r]),e}),{})};return d.createTime=l,d}})).filter((function(e){return!!e}))},addTraceLabel:function(t,r){var n,o,i,a=[];if(aa.filter((function(e){var r;return null===(r=t.query)||void 0===r?void 0:r[e]})).forEach((function(n){a.push(n);var o=n===sa?2592e6:ua[n]||288e5,i=(null==r?void 0:r[n])||Date.now();e[n===sa?"setLocalStorageStateSync":"setLocalStorageState"]("".concat(ca).concat(n),"".concat(i,"|").concat(t.source),{timeout:i+o})})),-1===a.indexOf("tracePromotionId")&&null!==(n=t.query)&&void 0!==n&&n.tracePromotionId){t.query[sa]=t.query.tracePromotionId,delete t.query.tracePromotionId;var u=(null==r?void 0:r[sa])||Date.now();e.setLocalStorageStateSync("".concat(ca).concat(sa),"".concat(u,"|").concat(or(t)),{timeout:u+2592e6})}if(null!==(o=t.query)&&void 0!==o&&null!==(i=o[sa])&&void 0!==i&&i.startsWith("[")){var c=t.query[sa].substring(1).trim().split(",")[0].trim();if(c===String(parseInt(c))){t.query[sa]=c;var s=(null==r?void 0:r[sa])||Date.now();e.setLocalStorageState("".concat(ca).concat(sa),"".concat(s,"|").concat(or(t)),{timeout:s+2592e6})}}}}}(function(e){var t=e.setLocalStorageState,r=e.setLocalStorageStateSync,n=e.getLocalStorageStateFullSync,o={};return{getLocalStorageStateSync:function(e,t){if(o[e]){var r=o[e].options||{};if(void 0!==r.timeout&&(-1===r.timeout||r.timeout>Date.now())||void 0===r.timeout)return le(o[e].value);delete o[e]}var i=n(e,t),a=i.v,u=i.t;return o[e]=le({value:a,options:{timeout:u}}),le(a)},setLocalStorageState:function(e,r,n){return o[e]=le({value:r,options:n}),le(t(e,r,n))},setLocalStorageStateSync:function(e,t,n){o[e]=le({value:t,options:n}),r(e,t,n)}}}(Zn))})),da=(exports.bq=Le("TraceLabelModule",(function(){return e=la,t=function(){var e,t=Er();if(t)e=ur(t);else{var r=Gr();e="".concat(r.path,"?").concat(er(r.query||{}))}var n=Xt(e);la.addTraceLabel(n)},{install:function(r){var n,o;r.setMeta({scope:"TraceLabel",asyncApiList:["getTraceLabelList"]}),r.addApi({getTraceLabelList:function(){var t;return b.Promise.resolve((t=e).getTraceLabelList.apply(t,arguments))},getTraceLabelListSync:e.getTraceLabelList}),null===(n=r.onUrlChange)||void 0===n||n.call(r,(function(t){e.addTraceLabel(t)})),null===(o=t)||void 0===o||o(r)}};var e,t})),function(){return b.Promise.resolve().then((function(){var e,t,r=la.getTraceLabelList("tracepromotionid");if(r.length){var n=(null===(e=r[0].value)||void 0===e?void 0:e.tracepromotionid)||(null===(t=r[0].value)||void 0===t?void 0:t.tracePromotionId);return n?{isqdzz:!0,tracePromotionId:n,tracepromotionid:n}:void 0}}))}),fa=function(e){var t;if(B(e)&&B(e.options)&&(t=e.options.tracepromotionid||e.options.tracePromotionId))return{isqdzz:!0,tracePromotionId:t,tracepromotionid:t}},pa=function(e,t){return e.request({method:"POST",weimobOS:!0,url:"/mall/base/global/bindCustomerTag",data:{tags:t.tags}})};exports.bp=Object.freeze({__proto__:null,getTracePromotionInfoByPage:fa,getTracePromotionInfoByStorage:da,install:function(e){var t;e.setMeta({asyncApiList:["bindTracePromotionUserTag","getTracePromotionInfoByStorage"]}),e.addApi({bindTracePromotionUserTag:function(t){return function(e,t){return b.Promise.all([e.getCurrentWOSSettingInfo("tracePromotionUserTags"),da()]).then((function(r){var n=d(r,2),o=n[0],i=n[1];if(null!=o&&o.length&&i){var a=o.find((function(e){return e.scene===t}));return a?pa(e,a):void 0}})).catch((function(){}))}(e,t)},getTracePromotionInfoByStorage:da,getTracePromotionInfoByPage:fa});var r="";null===(t=e.onUrlChange)||void 0===t||t.call(e,(function(){da().then((function(t){return b.Promise.all([t,e.getCurrentWOSSettingInfo("tracePromotionUserTags")])})).then((function(t){var n,o=d(t,2),i=o[0],a=o[1];if(null!=i&&i.tracepromotionid&&null!=a&&a.length&&(n=a.find((function(e){return 1===e.scene})))){var u="".concat(i.tracepromotionid,"_").concat(JSON.stringify(n));u!==r&&pa(e,n).then((function(){r=u})).catch((function(){}))}}))}))}});var va=function(e){if(e.tracePromotion&&$(e.data))return X(da()).then((function(t){if(t&&t.isqdzz&&(t.tracepromotionid||t.tracePromotionId)){var r=e.data||{},n=t.tracepromotionid||t.tracePromotionId;r.queryParameter||(r.queryParameter={}),r.queryParameter.tracePromotionId=n,r.queryParameter.tracepromotionid=n,r.tracePromotionId=n,r.tracepromotionid=n,e.data=r}}))},ga=function(e){if(e.weimobCloud&&$(e.data)){var t=Nr();if(null!=t&&t.weimobCloud){e.header||(e.header={});var r=co(),n=t.weimobCloud;r.bosId&&(e.header["cloud-bosid"]=r.bosId,n.isTest&&(e.header["cloud-dev-bosid"]=r.bosId)),n.projectName&&(e.header["cloud-project-name"]=n.projectName);var o=e.data||{};o.extendInfo||(o.extendInfo={}),Object.assign(o.extendInfo,{ocdAppId:n.ocdAppId,uuid:n.uuid}),e.data=o}}},ma=function(e){if("GET"===e.method){var t=decodeURIComponent(e.url.split("?")[1]||"");t.includes("level=1")&&!t.includes("$level")&&(e.url+="&$level=1")}else{e.data||(e.data={});var r=e.data;1!==r.level&&1!==e.level||void 0!==r.$level||(e.data.$level=1)}},ha=Le("WeimobOSRequestInstance",(function(){return ce(["config","get","post","request","createRequestInstance","createRequester"],(function(){return Wi({triggerErrorModal:!0,apiHostFromExt:!0,tracePromotion:!0,weimobCloud:!0,weimobOSTrySyncVid:!0,requestTransforms:[[function(e){e.sassTamperProofEncryption&&(e.encryption=e.sassTamperProofEncryption),e.sassTamperProofUUID&&(e.uuid=e.sassTamperProofUUID)},{name:"sassTamperProof"}],[Hi,{name:"extApiHost"}],[ia,{longTime:!0,name:"wosCore"}],[va,{name:"tracePromotion"}],[ga,{name:"weimobCloudParams"}],[ma,{name:"setLevel"}],[function(e){var t,r;e.header||(e.header={}),e.header["weimob-bosId"]=e.header["weimob-bosId"]||(null===(t=e.data)||void 0===t||null===(r=t.basicInfo)||void 0===r?void 0:r.bosId)||co().bosId||""},{name:"appendBosIdHead"}]],responseTransforms:[[Yi,{name:"wosCore"}]],stepCallbacks:[["fireResponseTransform",function(e,t){if(B(t)){var r,n,o=(null===(r=t.data)||void 0===r?void 0:r.globalTicket)||(null===(n=t.header||t.headers)||void 0===n?void 0:n["x-apm-trace-id"]);o&&(e.profile.traceCode=o)}}]]})}))})),ya=(ha.config,ha.get,ha.post,ha.request);ha.createRequestInstance,ha.createRequester;exports.T=ya,exports.be=Le("WeimobRequestModule",(function(){return ki(ha)}));var ba=function(e,t,r){q(t)&&_(r)&&Cr(e,!0).then((function(e){if(e){if(null!=e&&e.$cmsComponentCallbackState&&t in e.$cmsComponentCallbackState)return void r(e.$cmsComponentCallbackState[t]);e.$cmsComponentCallbacks||(e.$cmsComponentCallbacks={}),e.$cmsComponentCallbacks[t]||(e.$cmsComponentCallbacks[t]=[]),e.$cmsComponentCallbacks[t].push(r)}}))};exports.p=ba;var Pa=function(e,t){e.$wmBelongPageVisibleCallbacks&&e.$wmBelongPageVisibleCallbacks.splice(0,e.$wmBelongPageVisibleCallbacks.length).forEach((function(r){null==r||r.call(e,t)}))},Ia={methods:{$aliveSetData:function(e,t){3!==this.$wmStatus&&(this.$wmBelongPageVisible?this.setData(e,t):(this.$wmBelongPageVisibleCallbacks||(this.$wmBelongPageVisibleCallbacks=[]),this.$wmBelongPageVisibleCallbacks.push((function(r){r&&this.setData(e,t)}))))},$aliveRequest:function(e){var t=this,r=e.url,n=function(){return new Error("".concat(t.is," 组件已被销毁，不会继续请求").concat(r))};return 3===this.$wmStatus?b.Promise.reject(n()):new b.Promise((function(r,o){var i,a;e.onAdapterComplete=function(e,t){var r,n;if(e)return o(e);0===Number(null==t||null===(r=t.data)||void 0===r?void 0:r.errcode)?i=t.data.data:a=new Error((null==t||null===(n=t.data)||void 0===n?void 0:n.errmsg)||(null==t?void 0:t.errMsg)||"未知错误")},e.method=e.method||"POST",void 0===e.weimobOS&&(e.weimobOS=!0),void 0===e.dataToWeimobOSInner&&(e.dataToWeimobOSInner=!1),ya(e).then((function(){return 3===t.$wmStatus?o(n()):a?o(a):void r(i)})).catch(o)}))},$getPage:function(e){return Cr(this,e)},$getPageSync:function(e){return kr(this,e)},$firePageMethod:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.$getPage().then((function(t){var n;return null==t||null===(n=t[e])||void 0===n?void 0:n.call.apply(n,[t].concat(r))}))},$addCallbackToPage:function(e,t){ba(this,e,t)},$firePageCallbacks:function(e,t){!function(e,t,r){q(t)&&(Cr(e,!0).then((function(e){var n,o;e&&(e.$cmsComponentCallbackState||(e.$cmsComponentCallbackState={}),e.$cmsComponentCallbackState[t]=r,null!==(n=e.$cmsComponentCallbacks)&&void 0!==n&&null!==(o=n[t])&&void 0!==o&&o.length&&(e.$cmsComponentCallbacks[t].forEach((function(e){e(r)})),e.$cmsComponentCallbacks[t].splice(0,e.$cmsComponentCallbacks[t].length)))})),Cr(e,!0).then((function(e){var n,o;e&&(e.$cmsComponentCallbackState||(e.$cmsComponentCallbackState={}),e.$cmsComponentCallbackState[t]=r,null!==(n=e.$cmsComponentCallbacks)&&void 0!==n&&null!==(o=n[t])&&void 0!==o&&o.length&&(e.$cmsComponentCallbacks[t].forEach((function(e){null==e||e(r)})),e.$cmsComponentCallbacks[t].splice(0,e.$cmsComponentCallbacks[t].length)))})))}(this,e,t)}},pageLifetimes:{show:function(){this.$wmBelongPageVisible=!0,Pa(this,!0)},hide:function(){this.$wmBelongPageVisible=!1,Pa(this,!1)}},lifetimes:{created:function(){this.$wmKey=this.$wmKey||Ce(),this.$wmStatus=0,this.$wmBelongPageVisible=void 0===this.$wmBelongPageVisible||this.$wmBelongPageVisible},attached:function(){this.$wmStatus=1},ready:function(){this.$wmStatus=2},detached:function(){this.$wmStatus=3}}},Sa=exports.a2={lifetimes:{created:function(){var e=this;Ho("general").then((function(t){e.$wmStatus>0?e.setData({__styleGrayEnabled:!(null==t||!t.grayEnabled)}):e.GrayMixinData={__styleGrayEnabled:!(null==t||!t.grayEnabled)}}))},attached:function(){this.GrayMixinData&&this.setData(this.GrayMixinData)}}},xa={onPageShow:"show",onPageHide:"hide",onPageResize:"resize"},wa={created:1,attached:1,ready:1,moved:1,detached:1,error:1},Ta=function(e,t,r){U(r)||(e[t]=r)},ka=function(){function e(){f(this,e),this.id=void 0,this.is=void 0,this.dataset=void 0,this.data=void 0,this.initData=void 0,this.properties=void 0,this.options=void 0,this.externalClasses=void 0,this.$wmKey=void 0,this.$wmStatus=void 0,this.$wmBelongPageVisible=void 0,this.$wmBelongPageVisibleCallbacks=void 0,this.$aliveSetData=void 0,this.$aliveRequest=void 0,this.$getPage=void 0,this.$firePageMethod=void 0,this.$addCallbackToPage=void 0,this.$firePageCallbacks=void 0,this.$getPageSync=void 0}return p(e,[{key:"setData",value:function(e,t){}},{key:"triggerEvent",value:function(e,t,r){return 0}},{key:"getPageId",value:function(){return 0}},{key:"createSelectorQuery",value:function(){return 0}},{key:"selectOwnerComponent",value:function(){return 0}},{key:"selectComponent",value:function(e){}},{key:"selectAllComponents",value:function(e){return 0}}]),e}();exports.X=ka;var Ca=Object.keys(ka.prototype),Ma=["is","id","dataset"],Ra=function(e){var t={},r={},n={},o={},i={},a=function(a,u){Object.getOwnPropertyNames(a).forEach((function(a){if(-1===u.indexOf(a)&&-1===Ca.indexOf(a)&&-1===Ma.indexOf(a))if("data"!==a&&"initData"!==a){var c=e[a];if(_(c)){var s=xa[a];if(s)return n[s]||(n[s]=[]),void n[s].push(c);if(wa[a])return a in r||(r[a]=[]),void r[a].push(c);t[a]=c}else void 0!==c&&(i[a]=c)}else B(e[a])&&me(o,e[a])}))};a(e,[]),a(Object.getPrototypeOf(e),["constructor"]);var u=g(g({},i),{},{data:o});return delete i.options,delete i.properties,delete i.externalClasses,delete i.behaviors,Ta(u,"lifetimes",r),Ta(u,"pageLifetimes",n),Ta(u,"methods",t),void 0===u.inheritPageContext&&(u.inheritPageContext=!0),r.created||(r.created=[]),r.created.splice(0,0,(function(){var e=g({},i);4===T().platform&&e.options&&delete e.options,Object.assign(this,le(e))})),u},Oa=function(e){["lifetimes","pageLifetimes"].forEach((function(t){if(e[t]){var r=e[t];e[t]=Object.keys(r).reduce((function(e,t){return e[t]=function(){for(var e=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];r[t].forEach((function(t){t.apply(e,o)}))},e}),{})}}))},Aa=function(e,t,r){var n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];wa[r]?!_(t[r])||null!==(n=t.lifetimes)&&void 0!==n&&n[r]||(e.lifetimes||(e.lifetimes={}),e.lifetimes[r]||(e.lifetimes[r]=[]),e.lifetimes[r].push(t[r])):B(t[r])&&(e[r]||(e[r]={}),O(t[r],(function(t,n){_(t)&&(o?(e[r][n]||(e[r][n]=[]),e[r][n].push(t)):e[r][n]=t)})))},Ea=function(e){for(var t=_(e)?Ra(new e):{},r=_(e)?[]:[e],n={},o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return[].concat(r,[Ia]).concat(i).forEach((function(e){O(e,(function(r,o){"data"===o&&B(e.data)&&(t.data||(t.data={}),me(t.data,e.data)),"methods"!==o&&"lifetimes"!==o&&"pageLifetimes"!==o?wa[o]?Aa(t,e,o):B(r)&&B(n[o])?Object.assign(n[o],r):n[o]=r:Aa(t,e,o,"methods"!==o)}))})),Oa(t),Object.assign(t,n),t},Va=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];b.Component(Ea.apply(void 0,[e].concat(r)))};exports.W=Va,exports.aZ=Object.freeze({__proto__:null,MpComponent:Va,MpComponentWrap:Ea,appendCompressParamsToImageURL:Qi,each:O,eachRight:A,formatDate:Y,getCurrentAppIdSync:$r,getCurrentPage:Lr,getCurrentPageSync:Er,getEnterOptionsSync:Gr,getExtConfigSync:Nr,getLaunchOptionsSync:Kr,getOwnerPage:Cr,getOwnerPageSync:kr,getPageFullUrl:ur,getPageInstanceIdBackupEmptyString:fr,getPageInstanceStatus:Pr,getPageInstanceURL:Ir,getPageRoute:ar,getStyleGrayMixin:function(){return Sa},isAbsoluteURL:z,isEmptyObject:U,isPlainObject:N,isPromise:D,linkURI:or,linkURISearch:er,merge:me,namespace:"lib",newHoopId:Nn,once:ue,oneByOne:te,parseDate:J,parseObject:de,parseURI:Xt,parseURISearch:Zt,pxToRpx:function(e){return e?parseFloat((750/Ot().windowWidth*e).toFixed(2)):e},random:function(e,t){var r=we(e,t),n=r._min,o=r._max;return Se()*(o-n)+n},randomHexColor:ke,randomInt:Te,resolveAllPromise:Z,resolvePromise:X,rpxToPx:an,safeJSON:le,singleObject:ae,tryDecodeURIComponent:Qt,uuid:Ce,whileDone:ee});var La=Le("PageStateMap"),qa=Le("PageNameMap"),ja=Le("PageStateTemplate",(function(){return[]})),Da=function(){var e={},t=function(e,t){return e instanceof RegExp&&e.test(t)};return function(r){if(r in e)return e[r];var n="";return O(qa,(function(e,o){return Array.isArray(e)&&e.some((function(e){return t(e,r)}))||t(e,r)?(n=o,!1):void 0})),e[r]=n}}(),_a=function(e){var t;return(null===(t=Na(e))||void 0===t?void 0:t.pageName)||""},Na=function(e){var t=function(e){var t=[];return ja.forEach((function(r){if("*"===r[0]||r[0].test(e)){var n=r[1];_(r[1])&&(n=ne(r[1],void 0,null,[e])),B(n)&&t.push(n)}})),me.apply(void 0,[{}].concat(t))}(e),r=Da(e);return me(t,{pageName:r||t.pageName},La[e])},$a=(exports.bd=Le("PageState",(function(){return function(e){var t,r,n=function(e){ja.push.apply(ja,l(e))},o=function(e){var t;delete La[e],null===(t=r)||void 0===t||t.emit("PAGE_STATE_CHANGE",{url:e,type:"remove"})},i=function(e,t){var n;La[e]=t,null===(n=r)||void 0===n||n.emit("PAGE_STATE_CHANGE",{url:e,type:"set"})},a=function(t){X(e.getCurrentUrl()).then((function(e){e&&i(e,t)}))},u=function(){var t=e.getCurrentUrl();if(q(t))return Na(t)},c=function(){return X(e.getCurrentUrl()).then((function(e){if(q(e))return Na(e)}))},s=function(){var e;return(null===(e=u())||void 0===e?void 0:e.pageName)||""},d=function(){return c().then((function(e){return(null==e?void 0:e.pageName)||""}))},f=function(){return X(e.getCurrentUrl()).then((function(e){if(q(e))return o(e)}))};return(null===(t=e.tplList)||void 0===t?void 0:t.length)&&n(e.tplList),{install:function(e){r=e,e.setMeta({asyncApiList:["getCurrentPageName","getCurrentPageState","removeCurrentPageState"]}),e.addApi({getPageName:_a,getCurrentPageName:d,getCurrentPageNameSync:s,setCurrentPageState:a,getCurrentPageState:c,getCurrentPageStateSync:u,setPageStateTemplate:n,setPageState:i,getPageState:Na,removePageState:o,removeCurrentPageState:f})}}}({getCurrentUrl:function(){var e=Rr();if(e)return e.url;var t=Er();return t?ur(t):Lr().then((function(e){return ur(e)}))},tplList:[["*",function(e){var t=Rr();if(t)return{pageName:t.pageName};var r=Er();return r&&e===ur(r)?{pageName:pr(r)}:void 0}]]})})),function(e){return e?[e.type,e.altitude,e.isHighAccuracy,JSON.stringify(e.showUserAgreementModal)].join("_"):""}),Ba=function(){var e={},t={};return function(r){r.type=r.type||"gcj02";var n=$a(r);return t[n]||(t[n]=!0,e[n]=new b.Promise((function(e,o){var i;r.timeout&&(i=b.setTimeout((function(){o(new Error("定位超时"))}),r.timeout)),r.adapter(r).then((function(r){b.clearTimeout(i),delete t[n],e(r)})).catch((function(e){b.clearTimeout(i),delete t[n],o(e)}))}))),e[n]}}(),Ua=function(){var e=[];return function(){return{add:function(t,r){var n=e.findIndex((function(e){return e[0]===t}));-1!==n&&e.splice(n,1),e.push([t,r])},get:function(t){if(e.length){if(!t)return e[e.length-1][1];var r=e.findIndex((function(e){return e[0]===t}));return-1===r?e[e.length-1][1]:e[r][1]}}}}}(),Fa=function e(t,r){var n,o,i,a=t||{},u=function(){var e=r?g({},r.config()):{};Object.assign(e,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){t&&Object.assign(e,t)})),e},c=[],s=Ua(),l=function(e){return"cacheTime"===e.cacheStrategie&&o&&i+e.cacheStrategieValue>Date.now()?b.Promise.resolve(le(o)):Ba(e).then((function(t){return s.add($a(e),t),n=void 0,o=le(t),i=Date.now(),c.forEach((function(e){e[0](t)})),c.splice(0,c.length),t})).catch((function(e){return n=void 0,c.forEach((function(t){t[1](e)})),c.splice(0,c.length),b.Promise.reject(e)}))},d=function(e){var t=u(e);return t.showUserAgreementModal=void 0===t.showUserAgreementModal||t.showUserAgreementModal,t.adapter?t.cache?t.cacheExpireTime&&i&&Date.now()-i>=t.cacheExpireTime?l(t):"default"===t.cacheStrategie?(n&&b.clearTimeout(n),new b.Promise((function(e,r){c.push([e,r]),n=b.setTimeout((function(){l(t)}),t.cacheStrategieValue||0)}))):"function"==typeof t.cacheStrategie&&t.cacheStrategie(t)&&o?b.Promise.resolve(le(o)):l(t):l(t):b.Promise.reject(new Error("请指定地理位置请求适配器"))},f={config:function(e){return e&&Object.assign(a,e),a},getLocation:d,getLastValidLocation:function(e){var t=s.get($a(e));return t?b.Promise.resolve(t):d(e)},nowLocation:function(e){var t=u(e);return t.adapter?t.adapter(t):b.Promise.reject(new Error("请指定地理位置请求适配器"))},getCacheLocation:function(e){return s.get($a(e))},getLocationForPaaS:function(e){var t=pe(e.inputArgs[0]||{},["type","altitude","highAccuracyExpireTime","isHighAccuracy","timeout"]);return e.inputArgs[0]=t,t.showSkeletonScreen=!1,d(t)},createLocationInstance:function(t){return e(t,f)}};return f},Wa=S(),Ha=qe("Location.LocationBeforeHook"),za=Le("Location.RealLocatinoGetterMap"),Ka=function(e){var t=Nn().next(),r=function(e,r){Eo({type:11,label:4,val:r,hoop:t,data:e})};return r(ho()),new b.Promise((function(t){!1!==e.showUserAgreementModal?(Ha.value||(Ha.value=function(e){e("noAPI")}),Ha.value((function(n){if("noAPI"===n)return Vt.debug("不存在showUserAgreementModal方法","Location"),r(void 0,1),void t(!0);var o,i=B(e.showUserAgreementModal)?[e.showUserAgreementModal]:[];Vt.debug("开始执行showUserAgreementModal方法","Location",i);var a=ne(n,(function(e){o=e}),void 0,i);if(o||!D(a))return Vt.debug("执行showUserAgreementModal方法报错，或返回值不是Promise","Location",o,a),r(o,o?3:2),void t(!0);var u=b.setTimeout((function(){r(void 0,6),Vt.debug("执行showUserAgreementModal方法超过10s，目前仍然没有返回","Location")}),1e4),c=b.setTimeout((function(){r(void 0,7),Vt.debug("执行showUserAgreementModal方法超过20s，目前仍然没有返回","Location")}),2e4);a.then((function(e){Vt.debug("执行showUserAgreementModal方法结束,返回值="+e,"Location",e),b.clearTimeout(u),b.clearTimeout(c),r(e,4),t(!!e)})).catch((function(e){Vt.debug("执行showUserAgreementModal方法报错","Location",e),b.clearTimeout(u),b.clearTimeout(c),r(e,5),t(!0)}))}))):t(!0)})).then((function(t){if(!t)return Vt.debug("用户不同意隐私协议，无法获取地理定位！","Location"),b.Promise.reject(new Error("用户不同意隐私协议，无法获取地理定位！"));var n=function(){r(void 0,12);var t=[b.setTimeout((function(){r(void 0,8)}),1e4),b.setTimeout((function(){r(void 0,9)}),3e4),b.setTimeout((function(){r(void 0,10)}),6e4),b.setTimeout((function(){r(void 0,11)}),8e4)],n=function(){t.forEach((function(e){b.clearTimeout(e)}))};return function(e){var t="".concat(e.type).concat(e.altitude||!1).concat(e.isHighAccuracy||!1).concat(!e.highAccuracyExpireTime||e.highAccuracyExpireTime<3e3?3e3:e.highAccuracyExpireTime);if(!(t in za)||"run"!==za[t].status){var r={status:"run",promise:Ct("getLocation",e).then((function(e){return r.status="success",e})).catch((function(e){return r.status="fail",b.Promise.reject(e)}))};za[t]=r}return za[t].promise}(e).then((function(e){return n(),r(e),e})).catch((function(e){return n(),r(e),b.Promise.reject(e)}))};if(e.showSkeletonScreen&&2===Wa){var o=!1;return Ct("getSetting").catch((function(){})).then((function(e){return null!=e&&e.authSetting&&void 0===e.authSetting["scope.userLocation"]&&(o=!0,_t("showImageMask",{src:"https://cdn2.weimob.com/saas/@assets/saas-fe-basis-web-stc/cms/skeleton-screen.png",zIndex:15005,tapClose:!1,closeTip:"获取骨架屏图片失败",closeBtnText:"关闭遮罩"})),n()})).then((function(e){return o&&_t("closeImageMask"),e})).catch((function(e){return o&&_t("closeImageMask"),b.Promise.reject(e)}))}return n()}))},Ga=Le("LocationInstance",(function(){return Fa({type:"gcj02",cacheStrategie:"cacheTime",cacheStrategieValue:18e4,adapter:Ka})})),Qa=Ga.config,Ja=Ga.getLocation,Ya=Ga.nowLocation,Xa=Ga.createLocationInstance,Za=Ga.getLastValidLocation,eu=Ga.getCacheLocation;exports.aS=eu,exports.aT=Za,exports.bb=Object.freeze({__proto__:null,config:Qa,createLocationInstance:Xa,createRootLocationInstance:function(e){return(e=e||{}).type=e.type||"gcj02",e.adapter=e.adapter||Ka,Fa(e)},getCacheLocation:eu,getLastValidLocation:Za,getLocation:Ja,install:function(e){Ha.value=function(t){if(!("showUserAgreementModal"in e))return b.Promise.resolve().then((function(){if(!("showUserAgreementModal"in e))return t("noAPI");t(e.showUserAgreementModal)}));t(e.showUserAgreementModal)},function(e,t){t.setMeta({asyncApiList:["getLocation","nowLocation","getLastValidLocation","getLocationForPaaS"]}),t.addApi({getLocation:e.getLocation,getLocationForPaaS:e.getLocationForPaaS,nowLocation:e.nowLocation,getCacheLocation:e.getCacheLocation,getLastValidLocation:e.getLastValidLocation,createLocationInstance:e.createLocationInstance,createRootLocationInstance:function(e){return Fa(e)}})}(Ga,e)},nowLocation:Ya,systemLocationGetter:Ka});var tu=function(e,t){return e===t?e:_(e.mergeStrategy)?(e.mergeStrategy(e,t),e):B(t)?(Object.keys(t).forEach((function(r){"hooks"===r?t[r]!==e[r]&&Array.isArray(t[r])&&(Array.isArray(e[r])||(e[r]=[]),e[r]=e[r].concat(t[r])):e[r]=me(e[r],t[r])})),e):e},ru=function(e,t,r,n){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];var u=t.length;if(u){var c,s,d=-1,f={},p=r.url,v=function o(a){if(!f[d]){var v,m,h;if(s&&b.clearTimeout(s),a&&a instanceof Error)return null===(v=r.logger)||void 0===v||v.error({sign:"".concat(e,"HookNext"),scope:"Navigator",group:r.key,desc:"执行".concat(e,"钩子（").concat(d+1,"/").concat(u,"）出现异常!"),body:[a.message,r,a,null===(m=(h=t[d]).toString)||void 0===m?void 0:m.call(h)]}),n(a);d++;var y,P,I=i[1];if("before"!==e||!(y=p!==r.url)&&p===I.url||(p=y?r.url:I.url,r.uriAdapter.setSourceUrl(p),r.url=I.url=r.uriAdapter.getUrl()),d>=u)return null===(P=r.logger)||void 0===P||P.debug({scope:"Navigator",group:r.key,desc:"执行".concat(e,"钩子结束"),body:r}),void n();var S=t[d];if(_(S)){var x=d;try{c=S,s=b.setTimeout((function(){var n,i,a;null===(n=r.logger)||void 0===n||n.error({sign:"".concat(e,"HookTimeout"),scope:"Navigator",group:r.key,desc:"执行".concat(e,"钩子（").concat(x+1,"/").concat(u,"）出现超时，已忽略该钩子，继续向下执行！"),body:[r,null===(i=(a=t[x]).toString)||void 0===i?void 0:i.call(a)]}),x===d&&(s=null,o()),f[x]=1}),2e4),S.apply(void 0,l(i.concat(g)))}catch(a){var w,T,k;null===(w=r.logger)||void 0===w||w.error({sign:"".concat(e,"HookTryCatch"),scope:"Navigator",group:r.key,desc:"执行".concat(e,"钩子（").concat(x+1,"/").concat(u,"）出现try catch异常！").concat(f[x]?"该钩子出现过超时情况！":""),body:[a.message,r,a,null===(T=(k=t[x]).toString)||void 0===T?void 0:T.call(k)]}),!f[x]&&n(a)}}else o()}},g=[v,r];ne(v,(function(t){var o,i,a;null===(o=r.logger)||void 0===o||o.error({sign:"".concat(e,"HookTryCatch"),scope:"Navigator",group:r.key,desc:"执行".concat(e,"钩子（").concat(d+1,"/").concat(u,"）出现未知异常！"),body:[t.message,r,t,null===(i=c)||void 0===i||null===(a=i.toString)||void 0===a?void 0:a.call(i)]}),n(t)}))}else n()},nu=function(e){var t,r=e.uriAdapter.getMode();r&&e.modeAlias[r]?t=e.modeAlias[r]:(r&&B(e.modeAdapter)&&!U(e.modeAdapter)&&e.modeAdapter[r]||_(e.modeAdapter))&&(t=r),e.mode=t||e.mode},ou=function(e){if("back"===e.mode){var t=e.uriAdapter.getDelta();if(!function(e){return!!e&&(e=L(e)?parseInt(e):e,!isNaN(e)&&j(e))}(t))return;e.delta=parseInt(String(t))}},iu={},au=function(e){if(!function(e){var t,r=(t=e.uriAdapter,B(t)&&_(t.setParam));return!r&&_(e.uriAdapterClass)&&(e.uriAdapter=new e.uriAdapterClass(e.url,e),r=!0),r}(e))return b.Promise.reject(new Error("路由跳转必须指定URL适配器"));e.key=e.key||Ce(),nu(e);var t,r=e.url;if("navigate"===e.mode&&iu[r]&&Date.now()-iu[r].time<1e3)return null===(t=e.logger)||void 0===t||t.log("1s内发生了多次跳转，已拦截（".concat(r,"）"),"Navigator"),iu[r].promise;ou(e),e.url=e.uriAdapter.getUrl()||e.url||"";var n=function(e){var t={};if(!Array.isArray(e.hooks)||!e.hooks.length)return t;var r=function(e,r){_(e[r])&&(t[r]||(t[r]=[]),-1===t[r].indexOf(e[r])&&t[r].push(e[r]))};return e.hooks.forEach((function(e){B(e)&&(r(e,"before"),r(e,"after"),r(e,"complete"))})),t}(e),o=function(e){var t,r=null===(t=e.getCurrentRoute)||void 0===t?void 0:t.call(e,e);return B(r)||(r={url:""}),!r.entity&&_(e.entityGetter)&&(r.entity=e.entityGetter(r.url,e)),r}(e),i=function(e){var t={url:e.url};return!t.entity&&_(e.entityGetter)&&(t.entity=e.entityGetter(t.url,e)),t}(e),a=new b.Promise((function(t,a){var u=function(u){!function(e,t,r,n,o,i){Array.isArray(e)&&e.length?ru("complete",e,o,i,t,r,n):i(t)}(n.complete,u,o,i,e,(function(n){var o;n?function(t){var n;null===(n=e.logger)||void 0===n||n.debug({sign:"NavComplete",scope:"Navigator",group:e.key,desc:"本次跳转（".concat(e.mode,"）失败：").concat(null==t?void 0:t.message),body:["原始URL:".concat(r),"最终URL:".concat(e.url),e,t]}),a(t)}(n):(null===(o=e.logger)||void 0===o||o.debug({scope:"Navigator",group:e.key,desc:"本次跳转（".concat(e.mode,"）成功"),body:["原始URL:".concat(r),"最终URL:".concat(e.url),i,e]}),t(i))}))};!function(e,t,r,n,o){Array.isArray(e)&&e.length?ru("before",e,n,o,t,r):o()}(n.before,o,i,e,(function(t){if(t)return u(t);var r=[0],a=function(){if(r[0]++,r[0]>1){var e=r[1],t=r[3];return e||t?u(e||t):u()}};nu(e),ou(e);var c=e.mode;if(e.url||"navigate"!==c&&"redirect"!==c&&"reLaunch"!==c&&"to"!==c&&"replace"!==c)!function(e,t){try{e.url=e.uriAdapter.getUrl();var r=function(e){if(!D(e))return t(void 0,e);e.then((function(e){return t(void 0,e)})).catch((function(e){return t(e)}))};_(e.modeAdapter)?r(e.modeAdapter(e.mode,e)):B(e.modeAdapter)&&_(e.modeAdapter[e.mode])?r(e.modeAdapter[e.mode](e)):t(new Error("未指定 modeAdapter 无法进行跳转"))}catch(e){t(e)}}(e,(function(e,t){r[1]=e,r[2]=t,B(t)&&Object.assign(i,t),a()}));else{var s,l="URL参数为空，无法执行跳转！";null===(s=e.logger)||void 0===s||s.error(l,"Navigator",e),r[1]=new Error(l),a()}!function(e,t,r,n,o){Array.isArray(e)&&e.length?ru("after",e,n,o,t,r):o()}(n.after,o,i,e,(function(e){r[3]=e,a()}))}))}));return iu[r]={time:Date.now(),promise:a},a},uu=function(e,t){return si(e,tu,t,(function(e){e.addNavigatorHook=function(t){e.config()||e.config({});var r=e.config();r.hooks||(r.hooks=[]),-1===r.hooks.indexOf(t)&&r.hooks.push(t)},e.navigator=function(t){if(L(t)){var r={url:t};return e.navigator(r)}var n=B(t)?t:{};if("navigateType"in n){var o={link:n,mode:"uniNavigate"};return e.navigator(o)}if("linkType"in n){var i={link:n,mode:"cmsLink"};return e.navigator(i)}return n=e.reportFullOptions(n),au(n)},e.createNavigatorInstance=e.createInstance}))},cu=function(){function e(t,r){f(this,e),this.uriParser=void 0,this.navOptions=void 0,this.mode=void 0,this.delta=void 0,this.uriParser=new ir(t),this.navOptions=r,this.parseMode()}return p(e,[{key:"getSourceUrl",value:function(){return this.uriParser.get("source")}},{key:"setSourceUrl",value:function(e){this.uriParser.set("source",e),this.parseMode()}},{key:"getParam",value:function(e){return this.uriParser.getQuery(e)}},{key:"setParam",value:function(e,t){this.uriParser.setQuery(e,t)}},{key:"removeParam",value:function(e){this.uriParser.setQuery(e)}},{key:"parseMode",value:function(){if(this.navOptions&&B(this.navOptions.modeAlias)){var e=this.navOptions.modeAlias,t=this.uriParser.get("protocol")||"",r=this.uriParser.get("host")||"",n=this.uriParser.get("path")||"",o=t||r,i=t?1:2;if(o||(o=n||this.uriParser.get("source"))&&(i=3),o){var a=function(e,t){var r,n,o={},i="",a=Object.keys(t).sort((function(e,t){return t.length-e.length}));return O(a,(function(n){if(e===n||e.startsWith(n))return r=t[n],i=e.substr(n.length),!1})),r?(o.mode=r,"back"===r&&(n=parseInt(i||""),!isNaN(n)&&j(n)&&n>0?i=String(n)===i?"":i.substr(String(n).length):n=void 0),o.newStr=i,n&&(o.delta=n),o):o}(o,e);a.mode?(this.setMode(a.mode),a.delta&&this.setDelta(a.delta),1===i?this.uriParser.set("protocol",a.newStr):2===i?this.uriParser.set("host",a.newStr):3===i&&this.uriParser.set("path",void 0)):this.setMode(void 0)}else this.setMode(void 0)}else this.setMode(void 0)}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(e){this.mode=e}},{key:"getDelta",value:function(){return this.delta}},{key:"setDelta",value:function(e){this.delta=e}},{key:"getUrl",value:function(){return"back"===this.getMode()?"":this.uriParser.getUrl()}}]),e}(),su=function(e,t){var r={content:"",duration:t||1500};B(e)?me(r,e):q(e)&&(r.content=e),q(r.content)&&(r.duration=t||1500,It("showToast",[{title:r.content,icon:"none",duration:r.duration}]))};exports.ab=su,exports.b7=Object.freeze({__proto__:null,scope:"toast",toast:su});var lu=function(e){var t,r=B(e)?e:Zt(String(e||""));return r.pmc?(t=r.initPmcTime?Number(r.initPmcTime):Date.now(),r.pmc.split("-").map((function(e){-1!==(e=String(null!=e?e:"")).indexOf("%")&&(e=Qt(e));var n=String(e||"").split("."),o=d(n,3),i=o[0],a=o[1],u=o[2];return{type:i.includes("|")?i.split("|").map((function(e){return Number(e)})):[parseInt(i)],paramName:a,ttl:u,value:r[a],initPmcTime:t}}))):[]},du=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V(e[t])||null===e[t]?"":r?encodeURIComponent(e[t]):e[t]},fu=function(e){var t=Xt(B(e)?ur(e):e),r=(t.query||{}).custom_params;if(r&&L(r))try{var n=Qt(r);t.query=g(g({},t.query||{}),de(n)||{})}catch(e){console.error("custom_params转换失败",e)}return t},pu=Le("PMCRequestCacheStore"),vu=ce(["syncPMCState","getPMCMap","getPMCMapSync","appendPMCToURL","getUrlPMCMapSync"],(function(){return function(e){var t,r=Le("WMPMCMetaMap"),n=Le("WMPMCValueMap"),o=Le("WMPMCUrlMap"),i=function(e,t){var r;return t.method=t.method||"POST",t.weimobOS=!0,t.data.operationSource=4,t.dataToWeimobOSInner=!1,t.triggerErrorModal=!1,t.weimobOSErrorStrategie="console",t.onAdapterComplete=function(e,t){e||(r=t)},e.request(t).then((function(e){return Zi(r||e,t.url)})).catch((function(e){return b.Promise.resolve({error:e})}))},a=function(e,t){t.type=t.type||36,t.belong=e.getCurrentPageId(),e.addBreadCrumb(t)},u=[1,2,3,4,5],c=function(){var e,t,r;return function(n,o){return(o||!r||!e||e>2||Date.now()-r>=3e5)&&(e=1,r=Date.now(),t=i(n,{url:"/mall/base/global/getPmcParams",data:{kinds:u},weimobOSReqFailStrategy:"continue",sleepVieBelongPagePrimaryTime:!0,belongToPage:!0,waitBelongPagePrimaryDone:!0,belongPageDestroyStrategy:"reject",belongToScope:"pmc"}).then((function(t){return e=t.error?3:2,t.result||[]}))),t}}(),s=function(e,t){var r=Ce();return a(e,{label:10,val:1,hoop:r,data:t}),i(e,{priorityBelongPageReqFailStrategy:!0,weimobOSReqFailStrategy:"reject",url:"/mall/base/global/uploadPmcParamValues",data:{items:t.map((function(e){return{fieldName:e.name,fieldValue:e.value,kinds:e.types}})),itemsV1:t.map((function(e){return{fieldName:e.name,fieldValue:e.value,kinds:[1]}}))}}).then((function(n){return function(n){var o;a(e,{label:10,val:2,hoop:r,code:n.globalTicket||n.apmTraceId,data:{pmc:t,err:n.error,reportStatus:n.result}});var i=n.error;if(!i||null===(o=i.message)||void 0===o||!o.includes("进店"))try{var u=(null==i?void 0:i.globalTicket)||(null==i?void 0:i.apmTraceId);e.reportBIState(g(g({en:"pmc_report"},t.reduce((function(e,t){return e["pmc_rt_types_".concat(t.name)]=(t.types||[]).join(","),e["pmc_rt_val_".concat(t.name)]=t.value,e}),{})),{},{pmc_rt_err:(null==i?void 0:i.message)||"",pmc_rt_status:n.result||"",pmc_rt_err_trace:u})),i&&a(e,{type:37,label:1,hoop:r,val:i.message,code:u,data:{pmc:t,err:i}})}catch(e){}}(n),n}))},l=function(e){return lu(null==e?void 0:e.query).map((function(e){var t={name:e.paramName,value:e.value,types:e.type};return q(e.ttl)&&(e.ttl=parseInt(e.ttl)),e.ttl&&(t.duration=1e3*e.ttl),o[e.paramName]=e,t}))},f=function(e){return c(e).then((function(e){return e.map((function(e){var t={name:e.fieldName,value:e.fieldValue,types:e.properties.map((function(e){return e.kind}))};return e.ttl>0&&(t.duration=1e3*e.ttl),t}))}))},p={},v=function(e,t,r){a(e,{label:3,val:r,data:{old:le(p),change:t}}),Object.assign(p,t),e.setPublicEventData(le(p))},h=function(e,t,r){a(e,{label:7,data:t,val:r}),e.saveToStorage(t)},y=function(e){var t,r=e.getByStorage();S&&a(e,{label:1,data:r});var n=[],o=[];if(O(r,(function(e,i){var a;(!e||e.timeout&&Date.now()>=e.timeout)&&(t=!0,delete r[i],n.push(i),-1!==(null==e||null===(a=e.types)||void 0===a?void 0:a.indexOf(5))&&o.push(i))})),t&&(a(e,{label:2,data:n}),h(e,r,"删除过期参数")),o.length){var i=o.reduce((function(e,t){return e[t]="",e}),{});v(e,i,"删除过期参数，刷新埋点数据")}return r},P={},I=function(e){O(r,(function(t,o){var i;o in P&&(b.clearTimeout(P[o].timer),a(e,{label:6,val:o,code:String(null===(i=P[o])||void 0===i?void 0:i.timer),data:g(g({},r[o]||{}),n[o]||{})}),delete P[o]);if(o in n&&n[o].timeout){var u=function(t){var r;a(e,{label:t,val:o,code:String(null===(r=P[o])||void 0===r?void 0:r.timer),data:n[o]})};o in P&&(b.clearTimeout(P[o].timer),u(6),delete P[o]);var c=n[o].timeout-Date.now(),s=function(){u(5),y(e),delete n[o],delete P[o]};if(c<=0)return void s();var l=b.setTimeout(s,c);P[o]={timer:l},u(4)}}))},S=!0,x=function(e){var t,i=e.config,u=e.list,c=e.urlInfo,l=e.fireLogic,d=e.readyReportState,f=[],b=y(i);if(S){var P={};Object.keys(b).forEach((function(e){var t,o,i=b[e];if(r[e]||(r[e]={types:(i.types||[2]).slice()},i.duration&&(r[e].duration=i.duration)),n[e]||(n[e]={value:i.value},i.timeout&&(n[e].timeout=i.timeout)),S&&null!==(t=r[e])&&void 0!==t&&null!==(o=t.types)&&void 0!==o&&o.length){var a,s=null==u?void 0:u.find((function(t){return t.name===e})),l=(null==c||null===(a=c.query)||void 0===a?void 0:a[e])||(null==s?void 0:s.value)||i.value;l&&-1!==r[e].types.indexOf(5)&&(P[e]=l)}})),U(P)||v(i,P,"首次检查缓存数据"),S=!1}var x={};if(u.forEach((function(e){var o;r[e.name]||(r[e.name]={types:e.types.slice()});var i=r[e.name].duration;"duration"in e&&(e.duration?r[e.name].duration=e.duration:delete r[e.name].duration),e.types.forEach((function(t){-1===r[e.name].types.indexOf(t)&&r[e.name].types.push(t)}));var a,u=e.value||(null==c?void 0:c.query[e.name]),s=!!u&&-1!==e.types.indexOf(1),d=r[e.name].types.reduce((function(e,t){return e[t]=1,e}),{});l&&(!(5 in d)&&e.name in p&&(x[e.name]=""),2 in d||(t=!0,delete b[e.name]),e.name in b&&!parseInt(String(b[e.name].timeout||"0"))&&e.duration&&(t=!0,delete b[e.name],delete n[e.name],e.name in p&&(x[e.name]="")),!e.duration&&e.name in n&&(delete n[e.name].timeout,e.name in b&&b[e.name].timeout&&(t=!0,delete b[e.name].timeout)),i&&e.name in n&&(null===(a=r[e.name])||void 0===a?void 0:a.duration)&&i>r[e.name].duration&&delete n[e.name].timeout);var v,h=u||(null===(o=b[e.name])||void 0===o?void 0:o.value);if(null!=h&&(e.value=h,n[e.name]||(n[e.name]={value:h}),n[e.name].value=h,!r[e.name].duration&&null!==(v=b[e.name])&&void 0!==v&&v.timeout&&(n[e.name].timeout=b[e.name].timeout,r[e.name].duration=b[e.name].duration),e.duration&&!n[e.name].timeout&&(n[e.name].timeout=Date.now()+e.duration),l&&(5 in d&&(x[e.name]=h),2 in d&&(t=!0,Object.assign(b,m({},e.name,g(g({},r[e.name]),n[e.name]))),b[e.name].types=r[e.name].types.slice()),1 in d&&s))){var y={name:e.name,value:e.value,types:r[e.name].types.slice()};f.some((function(t){return t.name===e.name}))||f.push(y)}T(e,c)})),l){if(U(x)||v(i,x,"跳转的URL中存在参数变更"),f.length){f.sort((function(e,t){return e.types.sort(),t.types.sort(),e.name.length-t.name.length}));var k=function(){var e=s(i,f);return d&&(d.list=le(f),d.promise=e),e};null!=d&&d.list?w(d.list)!==w(f)?k():d.promise.then((function(e){if(e.error)return k()})):k()}t&&h(i,b,"跳转的URL中存在参数变更"),I(i),a(i,{label:12,data:{meta:r,val:n,url:o,event:p}})}},w=function(e){return e.map((function(e){return"".concat(e.name,"_").concat(e.value,"_").concat(e.types.join(","))})).join("-")},T=function(e,t){var r,n,i,a,u,c=M();if((null==t?void 0:t.query[e.name])&&(null===(r=c[e.name])||void 0===r||!r.value)&&(null===(n=e.types)||void 0===n?void 0:n.length)&&(o[e.name]={paramName:e.name,value:null==t?void 0:t.query[e.name],type:e.types,ttl:(null===(i=o[e.name])||void 0===i?void 0:i.ttl)||void 0,initPmcTime:Date.now()}),null!==(a=c[e.name])&&void 0!==a&&a.value&&null!==(u=e.types)&&void 0!==u&&u.length){var s,l=(null===(s=c[e.name])||void 0===s?void 0:s.type)||[];e.types.forEach((function(e){-1===l.indexOf(e)&&l.push(e)})),o[e.name].type=l}},k=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];o=o.length?o:u;var a={};return Object.keys(r).forEach((function(e){if(o.some((function(t){return-1!==r[e].types.indexOf(parseInt(String(t)))}))){var t=n[e];if(!t)return;if(t.timeout&&Date.now()>=t.timeout)return;var i=r[e];a[e]={paramName:e,value:null==t?void 0:t.value,type:i.types},i.duration&&(a[e].ttl=parseInt((i.duration/1e3).toFixed(0))),t.timeout&&i.duration&&(a[e].initPmcTime=t.timeout-i.duration)}})),a},C=function(e,t,r){var n=t.getCurrentPageId(),o=JSON.stringify(r),a=t.pageRequestCacheStore;if(!(n in a)||!(o in a[n])||"fail"===a[n][o].status||Date.now()-a[n][o].startTime>=1e4){a[n]=a[n]||{};var u=a[n][o]=a[n][o]||{};u.status="sending",u.startTime=Date.now(),u.promise=new b.Promise((function(n){var o={weimobOSReqFailStrategy:"reject",url:"/mall/base/global/getPmcParamValues",data:r};"getPMCMap"===e&&Object.assign(o,{belongToPage:!0,sleepVieBelongPagePrimaryTime:!0,waitBelongPagePrimaryDone:!0,belongPageDestroyStrategy:"reject",belongToScope:"pmc"}),i(t,o).then((function(e){e.error?(u.status="fail",n(e)):(u.status="success",n(e))})).catch((function(e){u.status="fail",n({error:e})}))}))}return a[n][o].promise},M=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.length?t:u;var n={};return Object.keys(o).forEach((function(e){var r,i;if(null!==(r=o[e])&&void 0!==r&&r.ttl&&null!==(i=o[e])&&void 0!==i&&i.initPmcTime){var a=o[e],u=a.ttl,c=void 0===u?0:u,s=a.initPmcTime,l=void 0===s?0:s;if(q(c)&&(c=parseInt(c)),q(l)&&(l=parseInt(l)),Date.now()>l+1e3*c)return}o[e].value&&t.some((function(t){return-1!==(o[e].type||[]).indexOf(parseInt(String(t)))}))&&(n[e]=o[e])})),n},R=function(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.apply(void 0,[e].concat(n))}},A={syncPMCState:R(e,(function(e,r,n){var o={};x({config:e,list:l(r),listFromRequest:!1,urlInfo:r,fireLogic:n,readyReportState:o}),f(e).then((function(i){x({config:e,list:i,listFromRequest:!0,urlInfo:r,fireLogic:n,readyReportState:o}),t=!0,e.firstSyncDone&&(e.firstSyncDone(),delete e.firstSyncDone)}))})),getPMCMapSync:R(e,k),getPMCMap:R(e,(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o;return e.getCurrentURL().then((function(t){return o=Xt(t),Z(f(e),C("getPMCMap",e,{kinds:u}))})).then((function(t){var n,i=d(t,2),a=i[0],u=i[1],c=a.concat(((null==u||null===(n=u.result)||void 0===n?void 0:n.extMap)||[]).map((function(e){return{name:e.fieldName,value:e.fieldValue,types:e.kinds||[]}})).filter((function(e){return"pmc"!==e.name})));return x({config:e,list:c,urlInfo:o,fireLogic:!1,listFromRequest:!0}),k.apply(void 0,[e].concat(r))})).catch((function(e){return b.Promise.reject(e)}))})),appendPMCToURL:R(e,(function(e,t){var r,n=B(t)?t:{url:t,baseUrl:t,kinds:u,types:u};return n.baseUrl&&!n.url&&(n.url=n.baseUrl),n.types&&!n.kinds&&(n.kinds=n.types),n.kinds||(n.kinds=u),q(n.url)?(Ce(),e.getCurrentURL().then((function(t){return r=Xt(t),f(e)})).then((function(t){x({config:e,list:t,urlInfo:r,fireLogic:!1,listFromRequest:!0})})).then((function(){return k(0,2,4)})).then((function(t){var r=[];return Object.keys(t).forEach((function(e){r.push({fieldName:e,fieldValue:t[e].value,kinds:t[e].type})})),B(n.extMap)&&Object.keys(n.extMap).forEach((function(e){var t=r.find((function(t){return t.fieldName===e}));t?t.fieldValue=n.extMap[e]:r.push({fieldName:e,fieldValue:n.extMap[e]})})),n.extMap=r,C("appendPMCToURL",e,n)})).then((function(t){var r;if(t.error||null===(r=t.result)||void 0===r||!r.url)return b.Promise.reject(t.error||new Error("拼接PMC URL接口未返回有效数据"));t.globalTicket||t.apmTraceId;var n=t.result.url;return _(e.appendResultURLFilter)&&(n=e.appendResultURLFilter(n)),n}))):b.Promise.resolve(n.url)})),getUrlPMCMapSync:M};return!e.rprmInterceptorDisabled&&e.onRPRMReady((function(r,n){var o,i;if(!r&&n){var u=["pageshow","pv","pmc_report"],c=function(t){var r=A.getPMCMapSync(5);if(!U(r)){var n={};Object.keys(r).forEach((function(e){var o=r[e],i=e.toLowerCase();void 0!==t[i]&&null!==t[i]||(n[e]=o.value,t[i]=o.value)})),u.includes(t.en)&&!U(n)&&a(e,{label:9,val:t.en,data:n})}};null===(o=(i=n.rprm).addInterceptor)||void 0===o||o.call(i,"rec",(function(r){if(B(r)&&u.includes(r.en)&&a(e,{label:8,val:r.en,data:r}),!t)return new b.Promise((function(t){e.firstSyncDone=t})).then((function(){return c(r)}));c(r)}))}})),A}({addBreadCrumb:Eo,reportBIState:function(e){Vn(e)},rprmInterceptorDisabled:vn(),request:ya,pageRequestCacheStore:pu,getCurrentPageId:function(){return Ar()||""},getCurrentURL:function(){return Lr().then((function(e){if(!e)return"";var t=(e.options||{}).custom_params;if(t&&L(t)){var r=fu(e),n=er(r.query);return"".concat(ar(e)).concat(n?"?":"").concat(n||"")}return ur(e)}))},setPublicEventData:function(e){En("pubGlobal",e,"new")},getByStorage:function(){return no("pmc_map")||{}},saveToStorage:function(e){U(e)?ro("pmc_map"):to("pmc_map",e)},onRPRMReady:function(e){An(e)}})})),gu=Le("PmcOther",(function(){return ce(["parsePMCParamsByUrlQuery","parsePMCParamsByMpPage","reportPMCParamsByMpPage","addGlobalPmcParams"],(function(){return{parsePMCParamsByUrlQuery:function(e){return L(e)&&e||$(e)&&e?lu(e):[]},parsePMCParamsByMpPage:function(e){return $(e)&&e&&$(e.options)&&e.options&&!U(e.options)?lu(e.options):[]},reportPMCParamsByMpPage:function(e){var t=fu(e);vu.syncPMCState(t,!0)},addGlobalPmcParams:function(e){var t=bu(2)||{};if(U(t))return e;var r=Xt(e),n=lu(r.query),o=Object.keys(t).map((function(e){return r.query[e]?null:t[e]})).filter((function(e){return!!e})),i=[].concat(l(o),l(n)),a=Qt(r.query.pmc)||"";if(a){var u={};Object.keys(r.query).forEach((function(e){-1===a.indexOf(e)&&"pmc"!==e&&(u[e]=r.query[e])})),r.query=u}var c=or(r),s=-1===c.indexOf("?")?"?":"&";return i.length?"".concat(c).concat(s).concat(function(e){var t="",r="";return e.forEach((function(e){var n=encodeURIComponent(e.paramName),o=du(e,"value",!0);r+="".concat(r?"&":"").concat(n,"=").concat(o);var i=(Array.isArray(e.type)?e.type:[e.type]).reduce((function(e,t){return e&&(e+="|"),e+=t}),"");t+="".concat(t?"-":"").concat(i,".").concat(e.paramName,".").concat(du(e,"ttl"))})),"".concat(r,"&").concat("pmc","=").concat(encodeURIComponent(t))}(i)):c}}}))})),mu=vu.getPMCMap,hu=vu.getPMCMapSync,yu=vu.appendPMCToURL,bu=vu.getUrlPMCMapSync,Pu=gu.addGlobalPmcParams,Iu=gu.reportPMCParamsByMpPage,Su=gu.parsePMCParamsByUrlQuery,xu=gu.parsePMCParamsByMpPage,wu=["/cms/new","/cms/transform"],Tu=function(e){if(!wu.some((function(t){return e.startsWith(t)}))){var t=fu(e);vu.syncPMCState(t,!0)}};exports.bn=Object.freeze({__proto__:null,addGlobalPmcParams:Pu,appendPMCToURL:yu,getPMCMap:mu,getPMCMapSync:hu,getUrlPMCMapSync:bu,install:function(e){var t=["0",3,"types",function(e,t){return t.concat([]).sort().join(",")||"[Undefined]"}];if(e.setMeta({asyncApiList:["getPMCMap","appendPMCToURL"],apiInputMonitor:{getPMCMap:{fields:[t]},getPMCMapSync:{fields:[t]},appendPMCToURL:{fields:[["0",2,"url"],["0.baseUrl",2,"baseUrl"],["0.url",2,"user"],["0.extMap",2,"extMap"],["0.types",3,"types",function(e,t,r,n){return(n||[]).concat([]).sort().join(",")||"[Undefined]"}],["0.kinds",3,"kinds",function(e,t,r,n){return(n||[]).concat([]).sort().join(",")||"[Undefined]"}]]}}}),e.addApi({parsePMCParamsByUrlQuery:Su,parsePMCParamsByMpPage:xu,reportPMCParamsByMpPage:Iu,getPMCMapSync:hu,getPMCMap:mu,appendPMCToURL:yu,addGlobalPmcParams:Pu}),zt("onUnload",(function(){var e=fr(this);b.setTimeout((function(){delete pu[e]}),2e3)})),!vn()){var r,n="",o=Er();b.setTimeout((function(){if(o)n=ur(o);else{var e=Gr();r=!0,e.path&&(n="".concat(e.path.endsWith("/")?"":"/").concat(e.path,"?").concat(er(e.query||{})))}Tu(n)}));var i=!0;e.onUrlChange((function(e){var t=e.source;r&&e.tabbarProxyPath&&(t=t.includes("?")?e.tabbarProxyPath+"?"+t.split("?").slice(1).join("?"):e.tabbarProxyPath),t===n&&i?i=!1:(i=!1,Tu(e.source))}))}},parseCustomPMCURL:fu,parsePMCParamsByMpPage:xu,parsePMCParamsByUrlQuery:Su,reportPMCParamsByMpPage:Iu});var ku=["reLaunch","switchTab","navigate","redirect"],Cu=function(e,t,r){if(r&&$r()!==r)return!1;var n=Xt(t);return!!Array.isArray(e)&&e.some((function(e){if(L(e)){var r=Xt(e);return r.path===n.path&&(!ln(n.path)||r.query.pageid===n.query.pageid)}return e instanceof RegExp&&e.test(t)}))},Mu=function(e){return-1!==e.message.toLowerCase().indexOf("tabbar page")},Ru=function(e){if(e.appId&&$r()!==e.appId)return!1;if(-1===ku.indexOf(e.mode))return!1;if(e.ignoreCheckTabBarRoutes)return!1;var t=e.url;return _(e.tabBarRoutes)?e.tabBarRoutes(e):!!Array.isArray(e.tabBarRoutes)&&Cu(e.tabBarRoutes,t,e.appId)};exports.E=Ru;var Ou=qe("Navigator.ExpectNextPagePath",""),Au=function(){delete Ou.value},Eu=["success","fail","complete"],Vu=["mode","logger","entityGetter","modeAlias","carryGlobalState","hooks","modeAdapter","getCurrentRoute","mergeStrategy","onNavigateStackOut","tabBarRoutes","uriAdapter","uriAdapterClass","webview","webviewPage","showToastWhileAliUrl"],Lu=function(e){var t={};return Object.keys(e).forEach((function(r){-1!==Vu.indexOf(r)||-1===Eu.indexOf(r)&&_(e[r])||(t[r]=e[r])})),t},qu=["switchTab","reLaunch","redirectTo","navigateTo","navigateBack"],ju=function(e,t,r){Eo({type:2,label:e,val:t.mode,code:t.url,hoop:t.key,belong:Mr(),data:r})},Du=function(e,t){return function(e,t){return wt("openEasyHalfScreen",!0)?qu.includes(e)?(t.openToEasyHalfScreen=V(t.openToEasyHalfScreen)?"auto":t.openToEasyHalfScreen,!1===t.openToEasyHalfScreen?b.Promise.resolve([!1,"开发者指定禁用"]):"auto"===t.openToEasyHalfScreen?b.Promise.resolve(["auto"]):b.Promise.resolve([!0])):b.Promise.resolve([!1,"".concat(e,"跳转方法不支持")]):b.Promise.resolve([!1,"不存在openEasyHalfScreen方法"])}(e,t).then((function(r){var n=d(r,2),o=n[0],i=n[1];if(!0===o)return Vt.log("使用简单半屏方式跳转："+t.url,"Navigator"),ju(3,t),function(e){return new b.Promise((function(t,r){var n=Lu(e);It("openEasyHalfScreen",[g(g({},n),{},{allowNavigateTo:!0,success:function(){return t()},fail:function(e){r(new Error((null==e?void 0:e.errMsg)||"未知错误"))}})])}))}(t);ju(4,t,i),Vt.log("使用非半屏方式跳转："+t.url,"Navigator");var a=Lu(t);return a.escapeFromEhs=!1===o,a.fromCMSSDK=!0,a._showLog=!0,Ct(e,a)}))},_u=function(e){return/https:\/\/render.alipay.com\/p/.test(e)},Nu=function(e){return function(e){return/alipays:\/\/platformapi/.test(e)}(e)||_u(e)};exports.bx=function(e){return function(t,r,n,o){var i,a,u=Mn(),c=null!==(i=null===(a=o.uriAdapter)||void 0===a?void 0:a.getUrl())&&void 0!==i?i:"";21!==u&&Nu(c)?(o.showToastWhileAliUrl&&e.toast("当前渠道不支持打开此链接"),n(new Error("当前渠道不支持打开此链接"))):n()}};var $u=[5,10,11,12],Bu=function(e,t){return Ct("getChannelsLiveNoticeInfo",{finderUserName:e,friendlyErrMsg:!1}).then((function(r){var n=r.noticeId;return n?Ct("reserveChannelsLive",{noticeId:n}).then((function(o){var i=o.state,a=Mt(),u={};return a.length&&(u=a[a.length-1].options),ya({method:"POST",url:"/cms/service/liveVideo/reserve",header:{"Content-Type":"application/json"},data:{liveVideoId:e,noticeId:n,state:i,param:g(g({},u),t)},weimobOS:!0}).then((function(e){return b.Promise.resolve({serverData:e,reserveRes:o,query:u,liveNoticeInfo:r,customState:t})}))})):Ct("openChannelsLive",{finderUserName:e})}))},Uu=function(e){return new b.Promise((function(t,r){if(3===S()){var n=new Error("不支持打开此链接"),o=xt(),i=e.url;o&&i&&o.canIUse("plugin.dynamic")?o.loadPlugin({plugin:"".concat(i,"@*"),success:function(){var e="dynamic-plugin://".concat(i,"/benefit-list");o.navigateTo({url:e,success:function(){return t({url:e})},fail:function(){return r(n)}})},fail:function(){return r(n)}}):r(n)}else r(new Error("当前渠道不支持打开此链接"))})).catch((function(e){throw su((null==e?void 0:e.message)||"不支持打开此链接"),e}))},Fu=function(e,t){q(t)&&["switchTab","reLaunch","redirectTo","navigateTo"].includes(e)&&(Ou.value=t.split("?")[0])},Wu=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(r){var n=e;r.url=r.uriAdapter.getUrl();var o="switchTab"===e?"navigateTo":e;return n=Ru(r)?"switchTab":n,Fu(n,r.url),new b.Promise((function(e,i){var a=function(){var n;(t||r.url)&&(n={url:r.url}),e(n)},u=function(e){Au(),i(e)};Du(n,r).then(a).catch((function(e){if("switchTab"===n&&(r.retryNoTabBarPageFail=void 0===r.retryNoTabBarPageFail||r.retryNoTabBarPageFail,Mu(e)&&r.retryNoTabBarPageFail))return Du(o,r).then(a).catch(u);u(e)}))}))}},Hu=function(e){e.url=e.uriAdapter.getUrl();var t=$r();if(e.appId&&t!==e.appId){var r="navigateToMiniProgram";return"openEmbeddedMiniProgram"===e.mode&&wt("openEmbeddedMiniProgram")&&(r="openEmbeddedMiniProgram"),Du(r,g(g({path:e.url},e),{},{openToEasyHalfScreen:!1}))}return e.retryNoTabBarPageFail=!!V(e.retryNoTabBarPageFail)||e.retryNoTabBarPageFail,new b.Promise((function(t,r){var n=e.uriAdapter.getUrl(),o=Ru(e),i=o?"switchTab":"navigateTo";if("navigateTo"===i&&(Mt()||[]).length>=10){if(_(e.onNavigateStackOut)){try{var a=e.onNavigateStackOut(o,e);D(a)?a.then(t).catch(r):t(a)}catch(e){r(e)}return}o||jr()||(i="redirectTo")}Fu(i,n),Du(i,e).then((function(){t({url:n})})).catch((function(o){if(Mu(o)&&e.retryNoTabBarPageFail)return Du("navigateTo",e).then((function(){t({url:n})})).catch(r);r(o)}))}))},zu=Wu("redirectTo"),Ku=Wu("reLaunch"),Gu=Wu("switchTab"),Qu=Wu("showRedPackage",!1),Ju=Wu("openChannelsLive",!1),Yu=Wu("openChannelsActivity",!1),Xu={logger:Vt,getCurrentRoute:function(){var e;return{url:(null===(e=Vr())||void 0===e?void 0:e.url)||""}},mode:"navigate",uriAdapterClass:function(e){u(r,cu);var t=c(r);function r(){return f(this,r),t.apply(this,arguments)}return p(r,[{key:"parseMode",value:function(){o(i(r.prototype),"parseMode",this).call(this);var e=this.uriParser.get("host"),t=this.getMode();("navigateToMiniProgram"===t||"openEmbeddedMiniProgram"===t)&&e&&this.navOptions&&(this.navOptions.appId=e,this.uriParser.set("host","")),Nu(this.getUrl())&&this.setMode("navigateToAlipayPage")}}]),r}(),carryGlobalState:!0,webviewPage:"/cms_webview/index?url=",tabBarRoutes:2===S()?["/cms_design/index"]:[],showToastWhileAliUrl:!0,openToEasyHalfScreen:"auto",modeAlias:{"@":"navigateToMiniProgram","@@":"openEmbeddedMiniProgram",">":"navigate","<":"back","=":"redirect","!":"reLaunch",$:"showRedPackage","^":"openChannelsLive","~":"openChannelsActivity"},modeAdapter:{navigateToMiniProgram:Hu,openEmbeddedMiniProgram:Hu,navigate:Hu,back:function(e){return new b.Promise((function(t,r){var n=$r();if(e.appId&&n!==e.appId)return e.openToEasyHalfScreen=!1,void Du("navigateBackMiniProgram",e).then(t).catch(r);j(e.delta)&&e.delta>0||delete e.delta;var o=e.delta||1,i=Mt()||[],a=(i=i.length-o>0?i.slice(0,i.length-o):[i[0]])[i.length-1];Du("navigateBack",e).then((function(){t(a?{url:a.route}:{url:""})})).catch(r)}))},redirect:zu,switchTab:Gu,reLaunch:Ku,showRedPackage:Qu,openChannelsLive:Ju,openChannelsActivity:Yu,navigateToAlipayPage:function(e){return e.url=e.uriAdapter.getUrl(),new b.Promise((function(t,r){var n,o=xt();if(null!=o&&null!==(n=o.ap)&&void 0!==n&&n.navigateToAlipayPage){var i=e.url||"",a=_u(i)?encodeURIComponent(i):i;o.ap.navigateToAlipayPage({path:a,success:function(){t({url:e.url})},fail:function(e){r(e)}})}else r(new Error("当前渠道不支持打开此链接"))}))},cmsLink:function(e){var t=e.link,r=function(){return su("暂不支持打开此链接"),b.Promise.reject(new Error("暂不支持打开此链接"))};if("object"!=h(t)||!("linkType"in t))return r();if($u.includes(t.linkType)){var n=Mn(),o=e.state||{},i=t.finderUserName;if(1!==n)return su("当前渠道不支持视频号跳转"),b.Promise.reject(new Error("当前渠道不支持视频号跳转"));if(!wt("getChannelsLiveInfo")||!wt("openChannelsLive")||!wt("openChannelsUserProfile"))return su("微信版本过低，无法跳转视频号"),b.Promise.reject(new Error("微信版本过低，无法跳转视频号"));if(5===t.linkType)return Ct("getChannelsLiveInfo",{finderUserName:i,friendlyErrMsg:!1}).then((function(e){Vt.log("视频号信息：",e);var t=e.status;return 2===t?Ct("openChannelsLive",{finderUserName:i,friendlyErrMsg:!1}):3===t?Bu(i,o).catch((function(){return Ct("openChannelsLive",{finderUserName:i,friendlyErrMsg:!1})})):(su("当前没有视频号直播"),b.Promise.resolve({msg:"当前没有视频号直播"}))})).catch((function(e){return Vt.warn("视频号异常：",e),-1!==(null==e?void 0:e.errMsg.indexOf("fail cancel"))?b.Promise.reject(e):Bu(i,o).catch((function(e){return Vt.warn("视频号异常：",e),-1!==(null==e?void 0:e.errMsg.indexOf("empty"))?su("当前没有视频号直播"):su("跳转失败，请确认视频号主体和小程序是否一致"),b.Promise.resolve(e)}))}));if(10===t.linkType)return Ct("openChannelsUserProfile",{finderUserName:i,friendlyErrMsg:!1}).catch((function(e){return Vt.warn("视频号异常：",e),100008===(null==e?void 0:e.err_code)?su("跳转失败，请确认视频号主体和小程序是否一致"):-1===(null==e?void 0:e.errMsg.indexOf("fail cancel"))&&su("跳转失败，请确认视频号配置信息"),b.Promise.reject(e)}));if(11===t.linkType){var a=t.feedId;return Ct("openChannelsActivity",{finderUserName:i,feedId:a,friendlyErrMsg:!1}).catch((function(e){return Vt.warn("视频号异常：",e),100008===(null==e?void 0:e.err_code)?su("跳转失败，请确认视频号主体和小程序是否一致"):-1===(null==e?void 0:e.errMsg.indexOf("fail cancel"))&&su("跳转失败，请确认视频号配置信息"),b.Promise.reject(e)}))}if(12===t.linkType){var u=t.eventId;return Ct("openChannelsEvent",{finderUserName:i,eventId:u,friendlyErrMsg:!1}).catch((function(e){return Vt.warn("视频号异常：",e),100008===(null==e?void 0:e.err_code)?su("跳转失败，请确认视频号主体和小程序是否一致"):-1===(null==e?void 0:e.errMsg.indexOf("fail cancel"))&&su("跳转失败，请确认视频号配置信息"),b.Promise.reject(e)}))}return su("暂不支持打开此链接"),b.Promise.reject(new Error("暂不支持打开此链接"))}return 15===t.linkType?(e.url=t.id,Uu(e)):r()},alipayBenefit:Uu,uniNavigate:function(e){var t=e.link,r=function(){return su("暂不支持打开此链接"),b.Promise.reject(new Error("暂不支持打开此链接"))};if("object"!=h(t)||!("navigateType"in t))return r();if(20===t.navigateType){var n="openEmbeddedMiniProgram";return wt("openEmbeddedMiniProgram")||(n="navigateToMiniProgram"),t.forceRecommendVid&&(t.path=t.path.includes("?")?"".concat(t.path,"&forceRecommendVid=").concat(Date.now()):"".concat(t.path,"?forceRecommendVid=").concat(Date.now())),Du(n,t)}if(25===t.navigateType){var o=t.tmplIds;return o&&wt("requestSubscribeMessage")?Ct("requestSubscribeMessage",{tmplIds:o}).then((function(e){return o.forEach((function(t){"accept"===e[t]&&ya({method:"POST",url:"/merchant/touch/subscription/wx/xcx/increase",header:{"Content-Type":"application/json"},data:{queryParameter:{templateId:t}},weimobOS:!0})})),b.Promise.resolve(e)})).catch((function(e){return Vt.warn("调用消息订阅异常：",e),b.Promise.reject(e)})):r()}return r()}},hooks:[{before:function(e,t,r,n){var o,i=null===(o=n.uriAdapter)||void 0===o?void 0:o.getUrl();if(q(i))if(z(i)&&((u=i).startsWith("http://")||u.startsWith("https://")||u.startsWith("//"))&&(!(a=n.mode)||"navigate"===a||"redirect"===a)){var a,u,c;if(_(n.webviewPage)?c=n.webviewPage(n):q(n.webviewPage)&&(c=n.webviewPage.trim()),!c||!q(c))return r(new Error("未提供有效的 webviewPage 配置项值时，无法跳转非小程序URL！"));c=c.startsWith("/")?c:"/"+c;var s,l=Xt(c);U(l.query)||l.query[s=Object.keys(l.query).pop()]?l.query.url=i:l.query[s]=i;var d=or(l);n.url=d,r()}else r();else r()}},{before:function(e,t,r,n){var o;if(q(t.url)){var i,a=Mn(),u=[].find((function(e){return e[0]===t.url||t.url.startsWith(e[0])||e[0].test(t.url)}));if(null==u||null===(o=u[1])||void 0===o||!o[a])return r();-1!==t.url.indexOf("?")&&(i=Zt(t.url.substring(t.url.indexOf("?")+1)));var c=Xt(u[1][a]);return i&&me(c.query,i),n.url=or(c),r()}r()}},{before:function(e,t,r,n){var o,i=null===(o=n.uriAdapter)||void 0===o?void 0:o.getUrl(),a=$r();if(n.appId&&a!==n.appId){var u=Pu(i||"");n.url=u,r()}else r()}},{before:function(e,t,r,n){var o,i;(null===(o=n.uriAdapter)||void 0===o?void 0:o.getParam("forceRecommendVid"))&&(null===(i=n.uriAdapter)||void 0===i||i.setParam("navigatorTsByForceVid",String(Date.now()))),r()}}]},Zu=Le("NavigatorInstance",(function(){return uu(Xu)})),ec=Zu.config,tc=Zu.navigator;Zu.addNavigatorHook,Zu.createNavigatorInstance;exports.K=tc,exports.bf=Le("NavigatorModule",(function(){return function(e,t){return{install:function(r){var n=["beforeHook","afterHook","completeHook"],o=["before","after","complete"];r.setMeta({scope:"navigator",asyncApiList:["navigator"],apiInputMonitor:{navigator:{fields:[["0",2],["1",2],["2",2]].concat(l([].concat(n,["delta","url","urlAlias","state","mode","hooks","link","uriAdapterClass","uriAdapter","modeAdapter","carryGlobalState"]).map((function(e,t){return["0",3,e,function(i,a){return function(e,t){if(!e.fields){if(e.fields={},q(t[0])?(e.fields.url=t[0],q(t[1])?(e.fields.mode=t[1],B(t[2])&&(e.fields.state=t[2])):B(t[1])&&(e.fields.state=t[1])):B(t[0])&&Object.assign(e.fields,pe(t[0],["delta","url","state","mode","hooks","link","uriAdapterClass","uriAdapter","modeAdapter","carryGlobalState"])),e.fields.url){var n,o=e.fields.url,i=r.config("navigator"),a=i.modeAlias,u=i.mode;O(a,(function(t,r){if(o.startsWith(r))return e.useAlias=!0,e.aliasVal=r,n=B(t)?t.mode:String(t),!1})),e.mode=n||e.fields.mode||u}e.mode=e.mode||e.fields.mode}}(i,a),"urlAlias"===e&&i.useAlias?{$val:"[Alias(".concat(i.aliasVal,")]")}:"url"===e&&q(i.fields.url)?{$val:i.fields.url.split("?")[0]}:n.includes(e)&&Array.isArray(i.fields.hooks)&&i.fields.hooks.length&&i.fields.hooks.some((function(e){return _(e[o[t]])}))?{$val:"[Function]"}:i[e]||i.fields[e]}]}))))},addNavigatorHook:{fields:[["0",2],["0.before",2,"beforeHook"],["0.after",2,"afterHook"],["0.complete",2,"completeHook"]]},setNavigatorGlobalState:{fields:[["0",2,"key"],["1",2,"val"],["2",2,"scope"]]},getNavigatorGlobalState:{fields:[["0",2,"key"],["2",2,"scope"]]}}}),r.addApi({addNavigatorHook:e.addNavigatorHook,navigator:e.navigator,createNavigatorInstance:e.createNavigatorInstance,createRootNavigatorInstance:uu}),e.config({hooks:[{complete:function(e,t,n,o,i){e&&r.emit("CMSSDK.NavigatorFail",{err:e,from:t,to:n,options:i}),o()}}]}),r.setConfigHandler((function(t){return e.config(t)})),null==t||t(r)}}}(Zu)}));var rc=Le("PisState",(function(){return{map:{},stack:[],pageLastPisMap:{}}})),nc=function(e,t){var r=ur(e),n=Xt(r),o=Dr(e),i="";if(b.titan.isTabBarPage(e)){var a,u,c,s=null===(a=(u=b.titan).getPageProxy)||void 0===a||null===(c=a.call(u,e))||void 0===c?void 0:c.route;s&&(i="/"+s)}var l={path:n.path,query:n.query,pageId:fr(e),productId:null!=o&&o.pro_id?parseInt(o.pro_id):void 0,isTabbar:b.titan.isTabBarPage(e),tabbarProxyPath:i,status:t,id:e.$pisKey,vidResponse:e.$cmsVidResult,vidPromise:e.$cmsVidPromise,notRecommendVid:!!e.$cmsNotRecommendVid,disableRecommendVid:!!e.$disableRecommendVid||!!n.query.$disableRecommendVid};if("easyHalfScreen"===It("getContainerType",[e])){var d,f,p=null===(d=(f=b.titan).getHostPageInstance)||void 0===d?void 0:d.call(f,e);l.halfScreenContainerPage=p?ur(p):""}return l},oc=function(e){return"".concat(e.path).concat(U(e.query)?"":"?").concat(er(e.query))},ic=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=pe(e,r?["id","status","vidStatus","query","nextReloadPageId","fromSurpriseTabbarLife","halfScreenContainerPage"]:["id","disableRecommendVid","fromSurpriseTabbarLife","halfScreenContainerPage","isTabbar","nextReloadPageId","notRecommendVid","productId","status","path","query","tabbarProxyPath","vidStatus"]);return n.hasVidPromise=!!e.vidPromise,n.vidTicket=null===(t=e.vidResponse)||void 0===t?void 0:t.globalTicket,n},ac=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e?ic(e,r):{},r||(t.stacks=rc.stack.map((function(e){return ic(e)})),t.mapKeys=Object.keys(rc.map),t.pageLastPisMap=le(rc.pageLastPisMap)),t},uc=function(e,t){var r=ac(t,2===e);Eo({type:35,label:e,belong:t.pageId,val:oc(t),code:t.id,data:r})},cc=function(e,t,r,n){var o=rc.map[t],i=ac(o);n&&(n instanceof Error?i.error=n:i.result=n.globalTicket),Eo({type:42,label:e,belong:null==o?void 0:o.pageId,val:r,code:t,data:i})},sc=function(e){if(!rc.map[e.id]||e.isTabbar){var t=rc.stack[rc.stack.length-1];if(t&&t.id===e.id)Object.assign(t,e),uc(2,t);else if(uc(1,e),rc.stack.push(e),rc.map[e.id]=e,rc.pageLastPisMap[e.pageId]=e.id,rc.stack.length>20){var r=rc.stack.splice(0,rc.stack.length-20),n=rc.stack.reduce((function(e,t){return e[t.id]=1,e}),{});r.forEach((function(e){uc(3,e),e.id in n||delete rc.map[e.id]})),uc(4,e)}}},lc=function(e){var t=e.$pisKey;if(!(t in rc.map)){var r=nc(e,e.$pisStatus);sc(r)}var n=rc.map[t];n?n.disableRecommendVid||(n.vidPromise||n.vidResponse||fc(e),n.vidPromise||n.vidResponse||(n.vidPromise=new b.Promise((function(t,r){var o=n.id,i=oc(n),a=function(e){b.clearTimeout(c),o in rc.map&&!rc.map[o].vidResponse&&(rc.map[o].vidResponse=e,rc.map[o].vidStatus=1,uc(2,rc.map[o])),t(e)},u=function(e){b.clearTimeout(c),o in rc.map&&!rc.map[o].vidStatus&&(rc.map[o].vidStatus=2,uc(2,rc.map[o])),r(e)},c=b.setTimeout((function(){if(cc(1,o,i),fc(e),o in rc.map&&rc.map[o].vidResponse)t(le(rc.map[o].vidResponse)),cc(2,o,i);else if(e.$cmsVidPromise)cc(3,o,i),e.$cmsVidPromise.then((function(e){a(e),cc(4,o,i,e)})).catch((function(e){u(e),cc(5,o,i,e)}));else if(!(o in rc.map)||rc.map[o].vidResponse)cc(7,o,i);else{rc.map[o].vidStatus=2,uc(2,rc.map[o]);var n=new Error("页面栈读取进店状态超时");cc(6,o,i,n),r(n)}}),15e3);e.$pisVidPromiseResolve=a,e.$pisVidPromiseReject=u})),n.vidPromise.catch((function(){})),uc(2,n))):function(e,t,r){Eo({type:43,label:1,belong:fr(r),val:ur(r),code:t,data:ac()})}(0,t,e)},dc=function(e,t,r){if(gc(t,e),4!==e)if(3!==e){if(2===e&&!b.titan.isTabBarPage(t)){var n=rc.stack.findIndex((function(e){return e.id===t.$pisKey}));if(-1!==n){var o=rc.stack[n+1];if(o&&!o.isTabbar&&4===o.status){var i=rc.map[o.id];delete rc.map[o.id],rc.stack.splice(n+1,1),delete rc.pageLastPisMap[o.pageId],uc(3,i)}}return Au(),void lc(t)}var a=nc(t,e);if(!a.vidPromise&&r){a.vidPromise=r;var u=a.id;a.vidPromise.then((function(e){u in rc.map&&!rc.map[u].vidResponse&&(rc.map[u].vidResponse=e,rc.map[u].vidStatus=1,uc(2,rc.map[u]))})).catch((function(){u in rc.map&&!rc.map[u].vidStatus&&(rc.map[u].vidStatus=2,uc(2,rc.map[u]))}))}var c=Ou.value||"";if(2===e&&a.isTabbar&&"/cms_design/index"===a.path&&c&&c!==a.path){var s=rc.stack[rc.stack.length-1];s&&s.id!==a.id&&(a.fromSurpriseTabbarLife=!0)}Au(),sc(a),lc(t)}else lc(t);else{var l=fr(t),d=rc.pageLastPisMap[l];if(!rc.map[d])return;var f=rc.map[d].status;if(rc.map[d].status=4,2===f&&rc.stack[rc.stack.length-1]===rc.map[d]&&b.titan.isTabBarPage(t)){var p=rc.map[d];return delete rc.map[d],rc.stack.pop(),delete rc.pageLastPisMap[l],void uc(3,p)}uc(2,rc.map[d])}},fc=function(e){var t,r=e.$pisKey;A(rc.stack,(function(e){if(e.id===r)return t=e,!1})),t&&(e.$cmsVidPromiseDone?(t.vidStatus=e.$cmsVidPromiseDone,t.vidResponse=e.$cmsVidResult):t.vidStatus=0,uc(2,t))},pc=function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=B(e)?e.$pisKey:e;return A(rc.stack,(function(e,o){if(e.id===n){for(;o--;){if(rc.stack[o].id!==e.id){if(r&&rc.stack[o].fromSurpriseTabbarLife&&o>0)continue;t=rc.stack[o];break}if(o<=0)break}return!1}})),t},vc=function(e){var t,r=e?e.$pisKey:void 0;return A(rc.stack,(function(e,n){if(r){if(e.id===r){if(0===n)return!1;for(;n--;){var o=rc.stack[n];if(!o.notRecommendVid&&!o.disableRecommendVid&&(o.vidResponse||o.vidPromise)){t=o;break}if(n<=0)break}return!1}}else if(!e.notRecommendVid&&!e.disableRecommendVid&&(e.vidResponse||e.vidPromise))return t=e,!1})),t?t.vidResponse?b.Promise.resolve(t):X(t.vidPromise).then((function(){return t})):b.Promise.resolve(void 0)};exports.A=vc;var gc=function(e,t){e.$pisKey=e.$pisKey||Ce(),e.$pisStatus=t};je("PageInstanceStack.init",(function(){var e=[function(){this.route&&dc(1,this)},function(){this.route&&dc(2,this)},function(){this.route&&dc(3,this)},function(){this.route&&dc(4,this)}];["onLoad","onShow","onHide","onUnload"].forEach((function(t,r){zt(t,e[r])}))}))();var mc=Le("FatalError.Container",(function(){return e=function(e){Ln(e)},t={addBreadCrumb:Eo,getCurrentSessionInfo:qo},{catchFatalError:function(r,n){var o,i;if(B(r)&&q(r.name)){n=n||t;var a={method:r.name,error:1,tags:{wmsdk_fatal:1,wmsdk_fatal_name:r.name},data:{}};if(B(r.error)&&(a.data.errcode=r.error.errcode,a.data.globalTicket=r.error.globalTicket),B(r.data)?Object.assign(a.data,r.data):V(r.data)||(a.data.$input=r.data),n){var u=n.getCurrentSessionInfo(),c=u.id,s=u.start;a.tags.wmsdk_bcses=c,a.tags.wmsdk_bcses_start=s}q(r.error)?a.meta={error:{stack:(new Error).stack,msg:r.error,type:r.name}}:B(r.error)&&(a.meta={error:{stack:r.error.stack||(new Error).stack,msg:r.error.message||r.error.msg,type:r.error.type||r.name}}),B(r.tags)&&Object.keys(r.tags).forEach((function(e){a.tags["wmsdk_fataltag_".concat(e.toLowerCase())]=r.tags[e]})),n&&!1!==r.breadCrumb&&n.addBreadCrumb(me({type:15,label:2,val:(null===(o=r.error)||void 0===o?void 0:o.message)||(null===(i=r.error)||void 0===i?void 0:i.msg)||String(r.error),code:r.name,data:{error:r.error,data:r.data}},B(r.breadCrumb)?r.breadCrumb:{})),e(a)}}};var e,t})).catchFatalError;exports.bh=Object.freeze({__proto__:null,catchFatalError:mc});var hc,yc,bc=Le("BosSetting.SettingData"),Pc=Le("BosSetting.SettingDataSource"),Ic=Le("BosSetting.SettingDataPromiseQueue",(function(){return[]})),Sc=Le("BosSetting.BizInfoCache",(function(){return{count:0}})),xc={startPage:!0,style:!0,tracePromotionAuth:!0,tracePromotionUserTags:!0,guide:!0,currency:!0,techSupport:!0,publicOfficialAccount:!0,general:!0,goods:!0,downgradeReqInfo:!0,webviewURL:!0,selfTraceId:!0,popupPrivacyAggrementPage:!0,isFreeBos:!0,tcode:!0,tenantConfig:!0,semiSyncSetting:!0,openCloudDecorationPageSetting:!0},wc=function(e){var t,r,n,o,i,a={};return e.guide&&(a.guide=le(e.guide)),e.settingInfoResponse&&Object.assign(a,function(e){var t={};if(e.animation||e.colorSchemeVo){var r={animation:le(e.animation),color:le(e.colorSchemeVo),styleType:e.styleType,iconStyleType:e.iconStyleType};t.style=r}return e.currencyVo&&(t.currency=le(e.currencyVo)),e.techSupportLogoSetting&&(t.techSupport=le(e.techSupportLogoSetting)),e.normSetting&&(t.publicOfficialAccount=le(e.normSetting)),t.goods=pe(e,["disposablePriceSwitch","sellPriceSwitch","marketPriceSwitch","disposablePrice","sellPrice","marketPrice","markingPriceSetting","showImageMark","salesVolumeDisplaySetting"]),U(t.goods)&&delete t.goods,t}(e.settingInfoResponse)),null!==(t=e.extendSettingInfo)&&void 0!==t&&t.authorizationSetting?a.tracePromotionAuth=le(e.extendSettingInfo.authorizationSetting):a.tracePromotionAuth=void 0,null!==(r=e.extendSettingInfo)&&void 0!==r&&r.tagRelation?a.tracePromotionUserTags=le(e.extendSettingInfo.tagRelation):a.tracePromotionUserTags=[],a.general={grayEnabled:!(null===(n=e.settingInfoResponse)||void 0===n||!n.grayEnabled),collectMinigramStatus:null===(o=e.settingInfoResponse)||void 0===o?void 0:o.collectMinigramStatus,imageQuality:null===(i=e.settingInfoResponse)||void 0===i?void 0:i.imageQuality},a},Tc=function(e,t,r){"string"!=typeof e?Object.keys(e).forEach((function(e){Pc[e]={time:Date.now(),from:t,traceId:r}})):Pc[e]={time:Date.now(),from:t,traceId:r}},kc=function(e,t,r){var n=wc(e);if(e.bizInfoSettingModule){if(e.bizInfoSettingModule.startPage&&(n.startPage=le(e.bizInfoSettingModule.startPage),Tc("startPage",t,r)),e.bizInfoSettingModule.webviewURL&&(n.webviewURL=le(e.bizInfoSettingModule.webviewURL),O(n.webviewURL,(function(e,t){e||(n.webviewURL[t]=e||[])})),Tc("webviewURL",t,r)),e.bizInfoSettingModule.popupPrivacyAggrementPage){var o=de(e.bizInfoSettingModule.popupPrivacyAggrementPage);Array.isArray(o)&&o.length&&(n.popupPrivacyAggrementPage=o,Tc("popupPrivacyAggrementPage",t,r))}if(n.isFreeBos=!1,Tc("isFreeBos",t,r),e.bizInfoSettingModule.isFreeBos){var i=[];try{i=JSON.parse(e.bizInfoSettingModule.isFreeBos)}catch(e){}Array.isArray(i)&&i.length&&(n.isFreeBos=i[0])}if(e.bizInfoSettingModule.semiSyncSetting)try{n.semiSyncSetting=JSON.parse(e.bizInfoSettingModule.semiSyncSetting),Tc("semiSyncSetting",t,r)}catch(e){}e.bizInfoSettingModule.openCloudDecorationPageSetting&&(n.openCloudDecorationPageSetting=e.bizInfoSettingModule.openCloudDecorationPageSetting,Tc("openCloudDecorationPageSetting",t,r))}return e.tenantConfig&&(n.tenantConfig=le(e.tenantConfig),Tc("tenantConfig",t,r)),e.tcode&&(n.tcode=e.tcode,Tc("tcode",t,r)),e.downgradeReqInfo&&(n.downgradeReqInfo=le(e.downgradeReqInfo),Tc("downgradeReqInfo",t,r)),r&&(bc.selfTraceId=r,Tc("selfTraceId",t,r)),Tc(n,t,r),Object.assign(bc,n)},Cc=function(e){for(var t,r=[];t=Ic.shift();)t[0]in bc?t[1](le(bc[t[0]])):e?t[1](void 0):r.push(t);Ic.push.apply(Ic,r)},Mc=function(){var e;return It("getBackgroundFetchData",[{fetchType:"pre",fail:function(){hc=!0},success:function(t){var r,n;hc=!0,t.fetchedData&&(e=yc=null===(r=de(t.fetchedData))||void 0===r||null===(n=r.data)||void 0===n?void 0:n.cmsBaseBizInfo)}}]),e},Rc=function(e){var t=["AUTHORIZATION_SETTING","CURRENCY_INFO","NORM_SETTING","PAGE_STYLE","NAVI_CONFIG","GUIDE","START_PAGE","COUPON_SETTING","WEBVIEW_URL"],r=function(){var r,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(o||!Sc.promise||"fail"===Sc.status||(r=Date.now()-(Sc.time||0)>3e5))&&((r=r&&!!Sc.time)&&["style","tracePromotionAuth","tracePromotionUserTags","guide","techSupport","general","goods","publicOfficialAccount"].forEach((function(e){n(e)})),Sc.status="running",Sc.time=Date.now(),Sc.promise=new b.Promise((function(r){!function(){if(e.getPreDataSync&&!Sc.count){var t=e.getPreDataSync();t&&kc(t,"pre",t.globalTicket)}}(),Cc(),(e.getPreDataAsync&&!Sc.count?e.getPreDataAsync():b.Promise.resolve(void 0)).then((function(e){e&&"success"!==Sc.status&&(Sc.status="success",kc(e,"pre",e.globalTicket),Cc())})),new b.Promise((function(r){var n;e.request({method:"POST",url:"/cms/base/bizInfo",notRequiredTcode:!0,weimobOS:!1,disableBelongPageRequestTransforms:!0,header:{"x-mapitoken-bypass":"true"},data:{queryParameter:{bizInfoModules:t}},onAdapterComplete:function(e,t){e||(n=t)}}).then((function(e){r(Zi(n||e))})).catch((function(e){r({error:e})}))})).then((function(e){!e.error&&e.result?(Sc.status="success",Sc.count++,kc(e.result,"bizInfo",e.globalTicket||e.apmTraceId),r(),Cc(!0)):(Sc.status="fail",r(),Cc(!0))}))})))},n=function(e){e&&(delete bc[e],delete Pc[e])};return{removeBosSettingData:n,getBosSetting:function(e){return r(),e in bc?b.Promise.resolve(le(bc[e])):new b.Promise((function(t,n){"running"!==Sc.status?xc[e]?(r(!0),Ic.push([e,t,n])):t(void 0):Ic.push([e,t,n])}))},getBosSettingSync:function(e){if(r(),e in bc)return le(bc[e]);"running"!==Sc.status&&xc[e]&&r(!0)}}}({request:ya,getPreDataSync:Mc,getPreDataAsync:function(){var e=Mc();return e?b.Promise.resolve(e):hc&&yc?b.Promise.resolve(yc):new b.Promise((function(e){It("onBackgroundFetchData",[function(t){var r,n;"pre"===(null==t?void 0:t.fetchType)&&t.fetchedData?e(null===(r=de(t.fetchedData))||void 0===r||null===(n=r.data)||void 0===n?void 0:n.cmsBaseBizInfo):e(void 0)}]),b.setTimeout((function(){hc&&yc&&e(yc)}))}))}}),Oc=Rc.getBosSetting,Ac=Rc.getBosSettingSync,Ec=Rc.removeBosSettingData,Vc=Le("LastHomeReloadParams"),Lc=Le("LastHomePage"),qc=function(e){["vid","bizVid"].forEach((function(t){if(e[t]){if("vid"===t&&"0"===e[t]&&"0"!==Vc[t])return;Vc[t]=String(e[t])}}))},jc=function(e,t){var r,n=e;if(null==n||!n.shoppingMall)return!1;var o=Xt(t),i=String(n.pvid||""),a=String((null===(r=o.query)||void 0===r?void 0:r.bizVid)||"");return!(!a||a&&a===i)};exports.F=jc,exports.bv=function(e,t,r,n){var o;2===S()?!t.url.startsWith("/cms_design/index")||n.appId&&$r()!==n.appId||null!==(o=n.url)&&void 0!==o&&o.includes("forceRecommendVid")?r():function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(2!==S()||!Lc.value||!e||Lc.value.$pisStatus>2)return!1;var r=Xt(e);if(t)return b.titan.reloadPage(Lc.value,r.query),!0;if(jc(Lc.value.$cmsVidResult,e))return!1;var n=Xt(ur(Lc.value)),o=Object.keys(n.query),i=Object.keys(r.query);return(o.length!==i.length||i.some((function(e){return r.query[e]!==n.query[e]}))||!Lc.value.$cmsVidResult)&&(b.titan.reloadPage(Lc.value,r.query),!0)}(t.url,"redirect"===n.mode||"reLaunch"===n.mode)?r(new Error("当前跳转属于Tabbar页，忽略跳转执行页面重载")):r():r()},exports.bw=function(e,t,r,n,o){"当前跳转属于Tabbar页，忽略跳转执行页面重载"===(null==e?void 0:e.message)?n():n(e)};var Dc=function(e,t,r){var n,o;if(Vc&&qc(Vc),Lc.value&&qc(Lc.value.options),B(t)&&(qc(t),qc(t.pvidInfo||t.gvidInfo)),q(r)){var i=Xt(r);qc(i.query)}null===(n=Lc.value)||void 0===n||null===(o=n.setBizPageId)||void 0===o||o.call(n,Vc),Vt.log("".concat(e,"，设置首页（").concat(ur(Lc.value),"）Tabbar刷新因子"),"HomeReloadControl",Vc)};exports.D=Dc,exports.z=function(){return le(Vc)};var _c=function(e){Vc&&(delete Vc[e],qc(Vc))};exports.B=_c,je("$moduleInit.HomeReloadControl",(function(){zt("onLoad",(function(){var e,t;"/cms_design/index"===ar(this)&&(Lc.value=this,U(Vc)||null===(e=(t=Lc.value).setBizPageId)||void 0===e||e.call(t,Vc))}))}))();var Nc=Le("AppVisibleState"),$c=Le("VidRedirectDoneMark"),Bc=Le("NeedForceVid"),Uc=qe("DisabledBeforeVid"),Fc=Le("Wos-cEndMainAdapterRequestMap"),Wc=function(e,t){e[t]||delete e[t]},Hc=["/cms_vidlist/index","/cms/transform","/cms/new"],zc=["/cms_vidlist/index","/ec_store/store__list"],Kc=function(e){if(e&&"jumpCodes"in e){var t=(null==e?void 0:e.jumpCodes)||[];return-1!==t.indexOf("1")||-1!==t.indexOf(1)}return null==e?void 0:e.needLocation},Gc=function(e){return!!(B(e)?e:Xt(e).query).$disableRecommendVid},Qc=function(e,t){var r=new Error(e);return r.vidErrorData=t,r},Jc=Le("BeforeHandVidStatus"),Yc=function(e,t){Jc[e]||(Jc[e]={status:t}),Jc[e].status=t},Xc=function(e){if(!Uc.value&&b.titan.getProductIdByPath&&!Jc[e]){var t=Xt(e),r=t.path,n=t.query;if(Hc.some((function(e){return e===r}))||Gc(e)||null!=n&&n.forceRecommendVid)Yc(e,3);else{var o,i,a=b.titan.getProductIdByPath(r);if(a)Yc(e,1),Jc[e].promise=vc().then((function(t){if(t)return X(t.vidResponse||t.vidPromise).then((function(n){var a;if(i=null==n?void 0:n.gvid,o=null==n?void 0:n.globalTicket,!Cu(null===(a=ec())||void 0===a?void 0:a.tabBarRoutes,e)||t.path!==r)return b.Promise.all([t,null==t?void 0:t.vidResponse]);var u=pc(t.id);return u?b.Promise.all([u,u.vidResponse||u.vidPromise]):void 0}))})).then((function(t){var r,u,c;if(Jc[e].status>3)return b.Promise.reject(new Error("真实进店已在预进店完成前触发了"));var s=co();if(!t)return ta({needGvid:!0,whichCall:1,operationSource:4,url:e,productId:parseInt(a),productInstanceId:n.productInstanceId},{urlVid:n.vid,extVid:s.extVid,bosId:s.bosId,cid:s.cid,productId:parseInt(a),productInstanceId:n.productInstanceId},void 0,{pro_id:a});var l=d(t,2),f=l[0],p=l[1],v=ta({needGvid:!1,whichCall:1,operationSource:4,url:e,productId:parseInt(a),productInstanceId:n.productInstanceId},{extVid:s.extVid,bosId:s.bosId,cid:s.cid,urlVid:null==f||null===(r=f.query)||void 0===r?void 0:r.vid,productId:(null==f?void 0:f.productId)||(null==f||null===(u=f.query)||void 0===u?void 0:u.productId),productInstanceId:null==f||null===(c=f.query)||void 0===c?void 0:c.productInstanceId},null==p?void 0:p.gvidInfo,{pro_id:String((null==f?void 0:f.productId)||"")});i&&(v.basicInfo.globalvid=i,v.basicInfo.globalvidTicket=o);var g=function(){var e,t={productId:String(a||""),productInstanceId:String(n.productInstanceId||"")};Wc(t,"productId"),Wc(t,"productInstanceId");var r={},o=null==f?void 0:f.vidResponse;if(B(o)&&(o.pvidInfo||o.gvidInfo)){var i=o.pvidInfo||o.gvidInfo;r.productId=String(null==i?void 0:i.productId),r.productInstanceId=String(null==i?void 0:i.productInstanceId)}else{var u;r.productId=String((null==f?void 0:f.productId)||""),r.productInstanceId=String((null==f||null===(u=f.query)||void 0===u?void 0:u.productInstanceId)||"")}Wc(r,"productId"),Wc(r,"productInstanceId");var c=t.productId&&t.productId!==r.productId;if(!c&&t.productInstanceId&&r.productInstanceId&&(c=t.productInstanceId!==r.productInstanceId),B(o)&&!c&&"0"===(null==n?void 0:n.vid))return 0;var s=B(o)?String((null===(e=o.pvidInfo||o.gvidInfo)||void 0===e?void 0:e.vid)||""):"",l=(null==n?void 0:n.vid)&&(null==n?void 0:n.vid)!==String(0)&&(null==n?void 0:n.vid)!==s;return l=l||!(null==n||!n.bizVid),c&&l?3:l?2:c?1:0}();return g>1&&(v.queryParameter.needGvid=!0),(null==n?void 0:n.bizVid)&&(v.queryParameter.needGvid=!i),[g,v]})).then((function(t){var o=d(t,2),i=o[0],a=o[1];return a.queryParameter.version="v3",n.bizVid&&(a.queryParameter.bizVid=Number(n.bizVid)),n.vid&&(a.queryParameter.vid=Number(n.vid)),n.pageid&&(a.queryParameter.pageId=n.pageid),a.queryParameter.url=e,a.extendInfo.refer=gr[r]||"",Jc[e].model=Object.freeze(a),i?Jc[e].status>3?b.Promise.reject(new Error("真实进店已在预进店完成前触发了")):Ji(a)in Fc?b.Promise.reject(new Error("命中真实进店缓存")):function(e){var t,r=zi;return Vt.debug({scope:"Wos-cEndMainAdapter",desc:"预进店请求开始",group:ns(e),body:e}),ya({method:"POST",url:r,header:{"Content-Type":"application/json","x-wmsdk-vid-beforehand":"true"},appendKeyToData:!0,data:e,weimobOS:!1,onAdapterComplete:function(e,r){e||(t=r)}}).then((function(n){var o;Vt.debug({scope:"Wos-cEndMainAdapter",desc:"预进店请求完毕（ticket:".concat((null==n||null===(o=n.data)||void 0===o?void 0:o.globalTicket)||"","）"),group:ns(e),body:[e,n]});var i,a=Zi(t||n,r);B(a.result)&&B(a.result.settingInfoResponse)&&(a.result.settingInfoResponse.colorScheme=a.result.settingInfoResponse.colorSchemeVo,(null===(i=a.response)||void 0===i?void 0:i.settingInfoResponse)&&(a.response.data.settingInfoResponse.colorScheme=a.response.data.settingInfoResponse.colorSchemeVo));return a})).catch((function(e){return{error:e}}))}(a):b.Promise.reject(new Error("不需要重新进店自然也不需要预进店"))})).then((function(e){return e.error?e:e.result&&(e.result.pvidInfo||e.result.gvidInfo)?Kc(e.result)?{error:new Error("需要定位")}:e.result.redirectUrl?{error:new Error("需要重定向")}:e:{error:new Error("无返回数据")}})).catch((function(e){return{error:e}}));else Yc(e,3)}}};exports.bC=Xc;var Zc,es,ts,rs,ns=function(e){var t,r=e.basicInfo,n=e.queryParameter;return n=n||{},[(r=r||{}).productId,r.productInstanceId,r.vid,r.globalvid,n.pageId,n.productInstanceId,n.vid,n.bizVid,null===(t=n.url)||void 0===t?void 0:t.split("?")[0],n.needGvid,n.latitude,n.longitude,n.pageId].join("_")},os=Le("VidUrlErrMark"),is=Le("VidMarkSendCount"),as=function(e){var t=e.model,r=fr(e.currentPage),n=function(e){if(!Uc.value){var t=e.queryParameter.url,r=Xt(t),n=t;if(O(Jc,(function(e,t){if(t){var o=Xt(t);if(o.path===r.path){"/ec_shop/goods"===o.path&&(delete o.query.categoryid,delete r.query.categoryid);var i=Object.keys(o.query),a=Object.keys(r.query);i.length===a.length&&i.every((function(e){return-1!==a.indexOf(e)&&o.query[e]===r.query[e]}))&&(n=t)}}})),n in Jc&&Jc[n].promise)return ns(e)===(Jc[n].model?ns(Jc[n].model):"")?Jc[n].promise:void 0}}(t);return n&&Vt.log("命中预进店","Wos-cEndMainAdapter",Jc[t.queryParameter.url]),(n=(n=n||b.Promise.resolve({error:new Error("未命中预进店")})).catch((function(e){var n=e;return n instanceof Error||(n=new Error(String(e))),n.code=n.code||"2-100221",Eo({type:11,label:33,belong:r,val:t.queryParameter.url,code:"err",data:{org:e,final:n}}),{error:n}}))).then((function(n){if(n.error){!function(e,t){e in is?(Date.now()-is[e][1]<500&&mc({name:"VidBeforeFatal",error:{message:"500ms内连续发送2次进店请求"},data:{prevModel:is[e][1],currentModel:t},tags:{vidbefore:3},breadCrumb:!0}),is[e][0]=Date.now(),is[e][1]=t):is[e]=[Date.now(),t]}(r,e.model);var o="";if(t&&t.basicInfo&&t.basicInfo.bosId?t.basicInfo.cid?t.basicInfo.productId||(o="2-100202"):o="2-100200":o="2-100201",o){os[r]||(os[r]=o,Eo({type:11,label:31,belong:r,val:t.queryParameter.url,code:String(o),data:n.error}));var i=new Error("产品信息获取失败，错误码：".concat(o));i.code=o;var a=t.basicInfo.productId?2:1;return mc({name:"VidBeforeFatal",error:i,data:t,tags:{vidbefore:a},breadCrumb:!0}),b.Promise.resolve({error:i})}var u,c=function(e,r){mc({name:"VidAfterFatal",error:e,data:{requestModel:t,data:r},tags:{vidafter:1},breadCrumb:!0})},s=zi;return Vt.debug({scope:"Wos-cEndMainAdapter",desc:"发送进店请求",group:Ji(t),body:t}),Yc(s,4),ya({method:"POST",url:s,header:g({"Content-Type":"application/json"},e.requestHeader||{}),appendKeyToData:!0,data:t,weimobOS:!1,onAdapterComplete:function(e,t){e||(u=t)}}).then((function(e){var r;Vt.debug({scope:"Wos-cEndMainAdapter",desc:"发送进店请求完毕（ticket:".concat((null==e||null===(r=e.data)||void 0===r?void 0:r.globalTicket)||"","）"),group:Ji(t),body:[t,e]});var n,o=Zi(u||e,s);B(o.result)&&B(o.result.settingInfoResponse)&&(o.result.settingInfoResponse.colorScheme=o.result.settingInfoResponse.colorSchemeVo,(null===(n=o.response)||void 0===n?void 0:n.settingInfoResponse)&&(o.response.data.settingInfoResponse.colorScheme=o.response.data.settingInfoResponse.colorSchemeVo));return o.error&&(c(o.error,pe(o.response,["data","profile","errMsg","status"])),o.error.code="2-100203"),o})).catch((function(e){var t=(null==e?void 0:e.message)||"未知错误",r=new Error(t);return r.code="2-100204",c(e,r),{error:r}}))}return Eo({type:11,label:33,belong:r,val:t.queryParameter.url,code:n.globalTicket}),n}))},us=function(e){return new b.Promise((function(t){e.source||(e.source={getKey:function(){return e.handler},_source:e.handler.toString()});var r,n=function(r){var n;e.source.exception=r,L(e.message)?Vt.warn({scope:"Wos-cEndMainAdapter",desc:e.message}):_(e.message)&&Vt.warn({scope:"Wos-cEndMainAdapter",desc:e.message(2)}),t(void 0),null===(n=e.failCallback)||void 0===n||n.call(e,r)};try{e.timeout&&(r=b.setTimeout((function(){L(e.message)?Vt.warn({scope:"Wos-cEndMainAdapter",desc:e.message}):_(e.message)&&Vt.warn({scope:"Wos-cEndMainAdapter",desc:e.message(1)}),t(void 0)}),e.timeout)),X(_(e.handler)?e.handler():e.handler,(function(e){b.clearTimeout(r),n(e)})).then((function(e){b.clearTimeout(r),t(e)}))}catch(e){b.clearTimeout(r),n(e)}}))},cs=function(e,t,r,n){Eo({type:11,label:54,val:e,code:t,belong:r,data:n})},ss=[],ls=function(e){e.recycleTimer||(e.recycleTimer=b.setTimeout((function(){delete e.currentPage,delete e.resolve,delete e.reject,delete e.recycleTimer}),3e3))},ds=function(e,t){var r,n;e.model.queryParameter.version="v3",e.currentPageVidKey&&(e.currentPageVidKey.bizVid&&(e.model.queryParameter.bizVid=Number(e.currentPageVidKey.bizVid)),e.currentPageVidKey.urlVid&&(e.model.queryParameter.vid=e.currentPageVidKey.urlVid),e.currentPageVidKey.pageId&&(e.model.queryParameter.pageId=e.currentPageVidKey.pageId)),B(t)&&me(e.model,t);var o=e.currentPage;o.$cmsVidRequestModel=o.$cmsVidRequestModel||le(e.model),e.key=Ji(e.model),!o.$cmsVidRequestKey||e.key.length>(null===(r=o.$cmsVidRequestKey)||void 0===r?void 0:r.length)||e.key.length===(null===(n=o.$cmsVidRequestKey)||void 0===n?void 0:n.length)&&e.key!==o.$cmsVidRequestKey?o.$cmsVidRequestKey=e.key:e.key=o.$cmsVidRequestKey},fs=Le("Wos-cEndMainAdapterRequestPageIdMap"),ps=function(e,t,r,n,o){var i,a,u,c=r.currentPage,s=g({},o||{});B(n)&&(s=n instanceof Error?g({error:1},pe(n,["message","globalTicket","code","stack"])):g(g({},pe(n,["pvid","gvid","globalTicket","redirectUrl"])),{},{pvidName:null===(i=n.pvidInfo)||void 0===i?void 0:i.vidName,gvidName:null===(a=n.gvidInfo)||void 0===a?void 0:a.vidName})),s.currentKey=r.key,52===e&&1===t&&(s.currentPageVidKey=r.currentPageVidKey,s.currentPageBusinessData=r.currentPageBusinessData,s.requestModelHookResult=r.currentPageRequestModelHookResult),r.prevPisValue&&Object.assign(s,{prevPageId:r.prevPisValue.pageId,prevPageStatus:r.prevPisValue.status,prevPageURL:r.prevPisValue.path+(r.prevPisValue.query?"?"+er(r.prevPisValue.query):""),prevPageVidTicket:null===(u=r.prevPisValue.vidResponse)||void 0===u?void 0:u.globalTicket,prevPageHasVidPromise:!!r.prevPisValue.vidPromise,prevPageHasVidStatus:r.prevPisValue.vidStatus,prevPageDisableVid:r.prevPisValue.disableRecommendVid}),Eo({type:11,label:e,belong:fr(c),code:ur(c),val:t,data:s})},vs=function(e,t,r){var n=e.currentPage;n.$wmFirstVidResultLog||(n.$wmFirstVidResultLog=!0,ps(51,t,e,r))},gs=function(e,t,r,n){ps(52,t,e,r,n)},ms=function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&t.prevPisValue&&(t.prevPisValue=pc(t.prevPisValue.id)),t.prevPisValue?null!==(r=t.prevPisValue.vidResponse)&&void 0!==r&&r.pvid?b.Promise.resolve():t.prevPisValue.disableRecommendVid||Hc.some((function(e){var r;return(null===(r=t.prevPisValue)||void 0===r?void 0:r.path)===e}))?e(t,!0):t.prevPisValue.vidPromise?t.prevPisValue.vidPromise.catch((function(r){if(r.message.includes("销毁")||r.message.includes("禁用"))return e(t,!0)})).then((function(){})):4===t.prevPisValue.status?e(t,!0):b.Promise.resolve():b.Promise.resolve()},hs=function(){var e,t,r={};jr()&&(r.ctx=g({},b.titan.getCurrentContext()||{}),r.module=g({},(null===(e=(t=b.titan).getCurrentModuleInfo)||void 0===e?void 0:e.call(t))||{}));return r},ys=Le("lastVisitorVid"),bs=Le("lastVisitorVidQueue",(function(){return[]})),Ps={1005:1,1006:1,1007:1,1008:1,1010:1,1011:1,1012:1,1013:1,1014:1,1017:1,1019:1,1020:1,1023:1,1024:1,1025:1,1027:1,1028:1,1029:1,1030:1,1031:1,1032:1,1034:1,1035:1,1036:1,1039:1,1042:1,1043:1,1044:1,1045:1,1046:1,1047:1,1048:1,1049:1,1052:1,1053:1,1056:1,1057:1,1058:1,1059:1,1060:1,1064:1,1065:1,1067:1,1069:1,1071:1,1072:1,1073:1,1074:1,1077:1,1078:1,1079:1,1081:1,1082:1,1084:1,1088:1,1090:1,1091:1,1092:1,1095:1,1096:1,1099:1,1101:1,1102:1,1107:1,1113:1,1114:1,1119:1,1120:1,1121:1,1124:1,1125:1,1126:1,1131:1,1133:1,1135:1,1144:1,1145:1,1146:1,1148:1,1150:1,1151:1,1152:1,1153:1,1154:1,1155:1,1157:1,1158:1,1160:1,1169:1,1171:1,1173:1,1175:1,1176:1,1177:1,1178:1,1179:1,1181:1,1183:1,1184:1,1185:1,1186:1,1187:1,1189:1,1191:1,1192:1,1193:1,1194:1,1195:1,1196:1,1197:1,1198:1,1201:1,1202:1,1203:1,1206:1,1207:1,1208:1,1212:1,1215:1,1216:1},Is=Le("BosSettingFirstEnd"),Ss=function(e,t,r){var n,o;Eo(g({type:11,label:12,belong:fr(e),data:e.options||{}},t)),(r=r||g({},e.options||{})).$wmReloadKey=Date.now()+","+Ce(),null===(n=(o=b.titan).reloadPage)||void 0===n||n.call(o,e,r)},xs=function(e){var t;t=e.options,Is.val?("tracepromotionid"in t||"tracePromotionId"in t)&&["tracePromotionAuth","tracePromotionUserTags"].forEach((function(e){Ec(e)})):Is.val=!0,fc(e),e.$lastOptionsSnapshot=JSON.stringify(e.options);var r=ur(e);Vt.log("页面onLoad(".concat(r,")"),e),function(e){if(2===T().platform&&!e.cmsRewritePageOnShareTimeline&&(e.cmsRewritePageOnShareTimeline=!0,_(e.onShareTimeline))){var t=e.onShareTimeline;Vt.log("重写onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",e),e.onShareTimeline=function(){for(var r,n=this,o=function(){Eo({type:11,label:11,belong:fr(n),data:c})},i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];var c=t.apply(this,a);Vt.log("原始onShareTimeline(".concat(ur(e),")返回结果："),"Wos-cEndMainAdapter",le(c),e),(c=B(c)?c:{}).query=q(c.query)?c.query:"",c.query||(c.query=er(this.options));var s=Zt(c.query);if(s.vid&&"0"!==s.vid)return s.vidTrace=0,c.query=er(s),Vt.log("T0.onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",c,e),o(),c;if(!this.$cmsVidPromiseDone)return s.vidTrace=1,c.query=er(s),Vt.log("T1.onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",c,e),o(),c;if(!this.$cmsVidResult)return s.vidTrace=2,c.query=er(s),Vt.log("T2.onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",c,e),o(),c;var l=this.$cmsVidResult;return B(l.pvidInfo)||B(l.gvidInfo)?(s.vidTrace=4,s.vid=null===(r=l.pvidInfo||l.gvidInfo)||void 0===r?void 0:r.vid,c.query=er(s),Vt.log("T4.onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",c,e),o(),c):(s.vidTrace=3,c.query=er(s),Vt.log("T3.onShareTimeline(".concat(ur(e),")"),"Wos-cEndMainAdapter",c,e),o(),c)}}}(e),Os(e);var n="页面（".concat(r,"）进店完成后");e.$cmsVidPromise&&e.$cmsVidPromise.then((function(){var t;Dc(n,e.$cmsVidResult),(null===(t=e.$cmsVidResult)||void 0===t?void 0:t.shoppingMall)||_c("bizVid"),fc(e)})).catch((function(){Dc(n),fc(e)}))},ws=Le("Wos-cEndMainAdapterVidQueue",(function(){var e,t,r,n,o=[],i=[],a={},u={},c=[],l={},f=[],p=!1,v={push:function(e){e.fired=!1,e.pushTime=e.pushTime||Date.now(),o.push(e),w()},addBeforeHook:function(e,t,r){c.push([e,t,r])},getLastQueueItem:function(){var e;return A(i,(function(t){var r=d(t,2)[1];if(!r.notRecommendVid&&r.responseData)return e=r,!1})),e},onAccident:function(e,t){_(t)&&f.push([e,t])},offAccident:function(e){if(_(e)){var t=f.findIndex((function(t){return t[1]===e}));-1!==t&&f.splice(t,1)}}},g=function(e,n){var o,i,a,u,c;if(!e.currentPage)return 0;if(function(e,t){e.currentPageUrl=ur(t),e.currentPageVidKey=function(e){var t,r,n,o,i=Ie(String((null===(t=Dr(e))||void 0===t?void 0:t.pro_id)||""));B(e)&&B(e.options)&&(r=Ie(e.options.productInstanceId),n=Ie(e.options.vid),o=Ie(e.options.bizVid));var a={productId:i,productInstanceId:r};return a.productInstanceId||delete a.productInstanceId,n&&(a.urlVid=n),o&&(a.bizVid=o),a.productId||delete a.productId,a.pageId=un(e),a.pageId||delete a.pageId,a}(t),e.currentPageBusinessData=co(t),e.currentPageCtxInfo=Dr(t),e.merchantLevelPage=zc.some((function(t){var r;return null===(r=e.currentPageUrl)||void 0===r?void 0:r.startsWith(t)}))}(e,e.currentPage),-1!==(null===(o=e.currentPage)||void 0===o||null===(i=o.route)||void 0===i?void 0:i.indexOf("wm-cloud")))return null!==(a=e.prevPisValue)&&void 0!==a&&a.vidResponse?le(e.prevPisValue.vidResponse):4;if(null===(u=e.prevPisValue)||void 0===u||!u.vidResponse)return function(e,t){var r=ta({needGvid:!0,whichCall:1,operationSource:4,url:e.currentPageUrl},e.currentPageBusinessData,void 0,e.currentPageCtxInfo,e.currentPage);me(e.model,r),ds(e,t)}(e,n),1;var s=function(e,t){var r,n,o,i,a,u=e.currentPageVidKey,c={productId:String((null==t||null===(r=t.queryParameter)||void 0===r?void 0:r.productId)||(null==u?void 0:u.productId)||""),productInstanceId:String((null==t||null===(n=t.queryParameter)||void 0===n?void 0:n.productInstanceId)||(null==u?void 0:u.productInstanceId)||(null==t||null===(o=t.basicInfo)||void 0===o?void 0:o.productInstanceId)||"")};Wc(c,"productId"),Wc(c,"productInstanceId");var s={},l=null===(i=e.prevPisValue)||void 0===i?void 0:i.vidResponse;if(B(l)&&(l.pvidInfo||l.gvidInfo)){var d=l.pvidInfo||l.gvidInfo;s.productId=String(null==d?void 0:d.productId),s.productInstanceId=String(null==d?void 0:d.productInstanceId)}else{var f,p,v;s.productId=String((null===(f=e.prevPisValue)||void 0===f?void 0:f.productId)||""),s.productInstanceId=String((null===(p=e.prevPisValue)||void 0===p||null===(v=p.query)||void 0===v?void 0:v.productInstanceId)||"")}Wc(s,"productId"),Wc(s,"productInstanceId");var g=c.productId&&c.productId!==s.productId;!g&&c.productInstanceId&&s.productInstanceId&&(g=c.productInstanceId!==s.productInstanceId);var m=!(null==l||!l.shoppingMall),h=String((null==l?void 0:l.bizVid)||"");if(B(l)&&!g&&(null==u?void 0:u.urlVid)===String(0)&&(!m||!u.bizVid||u.bizVid===h))return 0;var y=B(l)?String((null===(a=l.pvidInfo||l.gvidInfo)||void 0===a?void 0:a.vid)||""):"",b=(null==u?void 0:u.urlVid)&&(null==u?void 0:u.urlVid)!==String(0),P=!(null==u||!u.bizVid),I=b&&u.urlVid!==y;return I=I||P,m&&(I=P?u.bizVid!==h||b&&u.urlVid!==y:h?b&&u.urlVid!==h:b&&u.urlVid!==y),g&&I?3:I?2:g?1:0}(e,n);return function(e,t,r,n,o){var i,a,u,c,s,l,d,f,p,v,g,m,h,y,b,P=co(e.currentPage);me(e.model,ta({needGvid:!1,whichCall:1,operationSource:4,url:e.currentPageUrl,productId:null===(i=e.currentPageVidKey)||void 0===i?void 0:i.productId,productInstanceId:null===(a=e.currentPageVidKey)||void 0===a?void 0:a.productInstanceId},{extVid:P.extVid,bosId:P.bosId,cid:P.cid,urlVid:null===(u=e.prevPisValue)||void 0===u||null===(c=u.query)||void 0===c?void 0:c.vid,productId:String((null===(s=e.prevPisValue)||void 0===s?void 0:s.productId)||"")||(null===(l=e.prevPisValue)||void 0===l||null===(d=l.query)||void 0===d?void 0:d.productId),productInstanceId:null===(f=e.prevPisValue)||void 0===f||null===(p=f.query)||void 0===p?void 0:p.productInstanceId},null===(v=e.prevPisValue)||void 0===v||null===(g=v.vidResponse)||void 0===g?void 0:g.gvidInfo,{pro_id:String((null===(m=e.prevPisValue)||void 0===m?void 0:m.productId)||"")},e.currentPage)),n?(e.model.basicInfo.globalvid=n,e.model.basicInfo.globalvidTicket=o):null!==(h=e.prevPisValue)&&void 0!==h&&null!==(y=h.vidResponse)&&void 0!==y&&y.gvid&&(e.model.basicInfo.globalvid=e.prevPisValue.vidResponse.gvid,e.model.basicInfo.globalvidTicket=e.prevPisValue.vidResponse.globalTicket),t>1&&(e.model.queryParameter.needGvid=!0),(null===(b=e.currentPageVidKey)||void 0===b?void 0:b.bizVid)&&(e.model.queryParameter.needGvid=!n),ds(e,r)}(e,s,n,t,String(r)),s||e.currentPage.disableGetPrevVidInfo?1:B(null===(c=e.prevPisValue)||void 0===c?void 0:c.vidResponse)?le(e.prevPisValue.vidResponse):3},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=fr(t.currentPage),o=!1;l[n]=1;var i=t.currentPage;return new b.Promise((function(e,t){var r=function(e){var t=e.done,r=0,n={pageInstanceId:e.pageInstanceId,type:e.type,over:function(){r=3,t(3)},pause:function(){r=2},continue:function(){r=1,t(1)}},o=Mr()||wr();return f.forEach((function(e){try{e[1](n)}catch(e){}Eo({type:11,label:32,val:r,belong:o,code:e[0]})})),r}({type:"redirect",done:function(r){3===r?(i.$wosCoreRedirectOver=!0,t(new Error("被意外处理函数终止"))):e()},pageInstanceId:n});3===r&&(i.$wosCoreRedirectOver=!0,t(new Error("被意外处理函数终止"))),r<2&&e()})).then((function(){return new b.Promise((function(a){t.isFirst&&_r("Vid适配器:首次进店:判断进店结果:重定向1"),i.$cmsNotRecommendVid||i.$wosCoreRedirectOver?a():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return e?e.$onLoadDone||!U(e.options)?b.Promise.resolve(1):(e.$waitOnLoadCheckTime||(e.$waitOnLoadCheckTime=Date.now()),ee((function(){return new b.Promise((function(r){b.setTimeout((function(){!e.$onLoadDone&&U(e.options)?Date.now()-e.$waitOnLoadCheckTime>=t?r(2):r(0):r(1)}),50)}))}),Math.ceil(t/50),(function(e){return e}))):b.Promise.resolve(-1)}(t.currentPage,1e3).then((function(){return re(100)})).then((function(){return function(){var e=Tr();return e?b.Promise.resolve(e):ee((function(){return new b.Promise((function(e){b.setTimeout((function(){e(Tr())}),100)}))}),20,(function(e){return cr(e)}))}()})).catch((function(){})).then((function(a){t.isFirst&&_r("Vid适配器:首次进店:判断进店结果:重定向2");var u,c,s=fr(a),l=fr(i)===s;if(l&&ur(a)!==t.currentPageUrl&&(l=i.vidRequestTS===t.sendRequestTS),l){o=!0;var d,f,p=Xt(e);if(a===t.currentPage&&b.titan.isTabBarPage(a)&&ar(a)===p.path)return p.query._cms_vid_done_=n,void(null===(d=(f=b.titan).reloadPage)||void 0===d||d.call(f,a,p.query));var v=r?"&recVidHoop=".concat(encodeURIComponent(n)):"";return u=[tc({mode:"redirect",url:e+"".concat(-1===e.indexOf("?")?"?":"&","_cms_vid_done_=").concat(encodeURIComponent(n)).concat(v),preventHangup:!0}).catch((function(){})),re(4e3,(function(){o=!1}))],new b.Promise((function(e,t){var r=u.length;if(r){var n=function(t,n){_(c)&&!c(t)&&n!==r-1||e(t)};u.forEach((function(e,o){D(e)?e.then((function(e){return n(e,o)}),(function(e){o===r-1&&t(e)})):n(e,o)}))}else e(void 0)}))}})).then((function(){return b.setTimeout(a,50)}))}))})).then((function(){t.isFirst&&_r("Vid适配器:首次进店:判断进店结果:重定向3");var e=Qc("进店需要重定向!");return e.doneId=n,$c[n]||(e.redirect=!0,e.realRedirect=o),y(e,t)}))},h=function(e,t){p=!1;var r=t.currentPage;if(null==r||!r.$cmsPageDestroyed){var n=e;n.code=n.code||"2-100207";var o={url:zi,key:t.key||(null==r?void 0:r.$cmsVidRequestKey)||"",pageNotRecommendVid:null==r?void 0:r.$cmsNotRecommendVid,pageUrl:ur(t.currentPage),model:le(t.model),needRedirect:!!e.redirect,error:e,belongPageId:fr(t.currentPage)};Vt.log("触发全局进店失败事件","Wos-cEndMainAdapter",e,t),Fe("VidFail",o)}},y=function(e,t,r){(e=e||new Error("未知错误")).code=e.code||"2-100207";var n=t.key;if(e.redirect&&e.realRedirect?ss.push([e.doneId,function(){delete Fc[n],delete fs[n]}]):(delete Fc[n],delete fs[n]),t.endTime=t.endTime||Date.now(),t.reject(e),t.isFirst&&_r("Vid适配器:首次进店:判断进店结果:失败"),w(),!t.reuseRequest){var i=t.currentPage;i&&(i.$cmsVidFailCount||(i.$cmsVidFailCount=0),i.$cmsVidFailCount++,i.$cmsVidLastFailError=e),e.redirect||(p=!0),r||o.length&&!(Number(null==i?void 0:i.$cmsVidFailCount)>2)||h(e,t),Vt.warn({scope:"Wos-cEndMainAdapter",desc:"进店失败（".concat(e.message,"），耗时：").concat(((t.endTime-t.pushTime)/1e3).toFixed(1),"s"),group:t.key,body:[e,t]})}return ls(t),b.Promise.reject(e)},P=function(e,n){var o;(null!=n&&n.gvid&&!e.merchantLevelPage&&(t=n.gvid,r=n.globalTicket),n&&function(e){var t=wc(e);e.globalTicket&&(bc.selfTraceId=e.globalTicket,Tc("selfTraceId","vid",e.globalTicket)),Tc(t,"vid",e.globalTicket),Object.assign(bc,t)}(n),e.responseData=n,e.resolve(n),e.endTime=e.endTime||Date.now(),e.isFirst&&_r("Vid适配器:首次进店:判断进店结果:成功"),e.currentPage&&delete e.currentPage.$cmsVidFailCount,w(),e.reuseRequest)||(Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店成功，耗时：".concat(((e.endTime-e.pushTime)/1e3).toFixed(1),"s"),group:e.key,body:[n,e]}),n&&function(e,t){var r,n=null===(r=e.tipPage)||void 0===r?void 0:r.image,o=e.globalTicket;q(n)?(cs(2,o,t),_t("showImageMask",{src:n,closeTip:"当前分享门店无法访问",closeBtnText:"前往推荐门店",breadCrumbInfo:{code:o,belong:t},belongPageId:t})):cs(1,o,t)}(n,null===(o=e.currentPage)||void 0===o?void 0:o.getPageId()));return ls(e),n},I=function(e){if(e.currentPage){var t,r,n=fr(e.currentPage),o=JSON.stringify(e.currentPage.options),a=(null===(t=e.prevPisValue)||void 0===t?void 0:t.path)+JSON.stringify(null===(r=e.prevPisValue)||void 0===r?void 0:r.query);i.every((function(e){return e[0]!==n&&e[2]!==o&&e[3]!==a}))&&i.push([n,e,o,a])}},S=function(e,t){var r=new Error("当前访问门店此渠道未开通");return r.code="2-100220",r.globalTicket=t.globalTicket,r.fromChannelNotSettle=!0,y(r,e)},x=function(e){var t,r,n,o;Vt.debug({scope:"Wos-cEndMainAdapter",desc:"准备发送进店请求。",group:e.key,body:e}),e.sendRequestTS=e.currentPage.vidRequestTS=Date.now(),e.isFirst&&_r("Vid适配器:首次进店:触发进店前置钩子:开始");var i=e.key;u[i]=!!e.merchantLevelPage,fs[i]=fr(e.currentPage),gs(e,1);var s,l=Fc[i]=(s={currentPage:e.currentPage,prevVidInfo:(null===(t=e.prevPisValue)||void 0===t||null===(r=t.vidResponse)||void 0===r?void 0:r.pvidInfo)||(null===(n=e.prevPisValue)||void 0===n||null===(o=n.vidResponse)||void 0===o?void 0:o.gvidInfo),requestData:e.model},c.length?b.Promise.all(c.map((function(e){var t=d(e,3),r=t[0],n=t[1],o=t[2],i=(null==o?void 0:o.name)||r.toString().substring(0,100);return us({type:"RecommendVidRequestBeforeHook",timeout:6e4,handler:function(){return r(s)},titanInfo:n,source:{getKey:function(){return r},_source:i},message:function(e){return 1===e?(mc({name:"VidBeforeHookTimeout",tags:{vid_before_hook:i}}),"当前进店请求前置钩子执行超时（超过一分钟），钩子详情："+i):"当前进店请求前置钩子执行报错，钩子详情："+i}})}))).then((function(){return s.requestData})):b.Promise.resolve(s.requestData)).then((function(){var t,r,n,o;return e.isFirst&&_r("Vid适配器:首次进店:触发进店前置钩子:结束"),Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店请求前置钩子执行完毕。",group:e.key,body:e}),e.isFirst&&_r("Vid适配器:首次进店:发送进店请求:开始"),-1!==(null===(t=e.currentPageUrl)||void 0===t?void 0:t.indexOf("isDebug="))&&(e.requestHeader||(e.requestHeader={}),e.requestHeader.bizType="cmsDebug"),Eo({type:11,label:30,belong:fr(e.currentPage),code:e.key,val:null===(r=e.prevPisValue)||void 0===r||null===(n=r.vidResponse)||void 0===n?void 0:n.globalTicket,hoop:e.currentPageUrl,data:{prevUrl:null===(o=e.prevPisValue)||void 0===o?void 0:o.path,tabbar:b.titan.isTabBarPage(e.currentPage),prevPis:pe(e.prevPisValue,["id","isTabbar","pageId","path","query","status"])}}),as(e)})).then((function(t){var r;if(null!==(r=e.currentPage)&&void 0!==r&&r.$cmsPageDestroyed){if(!t.error){var n=new Error("当前进店归属页面已被销毁，终止进店流程");n.code="2-100205",n.belong=fr(e.currentPage),t.error=n}return t}var o=le(t);if(t.error&&(o.error=t.error),e.partData.push({model:le(e.model),header:le(e.requestHeader),response:o}),e.isFirst&&_r("Vid适配器:首次进店:发送进店请求:结束"),Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店请求发送完毕。",group:e.key,body:[t,e]}),!t.error&&Kc(t.result)){var i,a;e.isFirst&&_r("Vid适配器:首次进店:触发定位:开始"),Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店需要定位信息，将在请求定位后重新发送进店请求。",group:e.key,body:[t,e]});var u=e.currentPage;if(u.$wmVidLocationDisabled)return t.locationFail=!0,Vt.debug({scope:"Wos-cEndMainAdapter",desc:"页面开发者禁用进店定位",group:e.key,body:[t,e]}),t;var c=!(null===(i=t.result)||void 0===i||null===(a=i.jumpCodes)||void 0===a||!a.some((function(e){return 101===e})));return c&&(Uc.value=!0),new b.Promise((function(r,n){var o=fr(e.currentPage),i=function(r){mc({name:"VidBeforeFatal",error:r,data:{model:e.model,belong:o,response:t.result},tags:{vidbefore:4},breadCrumb:!0})},a=b.setTimeout((function(){i("超时")}),3e4),c=!("$wmGetNotVidLocationUserAgreement"in u?u.$wmGetNotVidLocationUserAgreement():u.$wmNotVidLocationUserAgreement);Za({showUserAgreementModal:!!c&&{id:o},showSkeletonScreen:!0}).then((function(e){b.clearTimeout(a),r(e)})).catch((function(e){b.clearTimeout(a),e.message.includes("auth")||e.message.includes("隐私协议")||e.message.includes("requiredPrivateInfos")||e.message.includes("cancel")||i(e),n(e)}))})).catch((function(e){return b.Promise.resolve(e)})).then((function(r){if(e.isFirst&&_r("Vid适配器:首次进店:触发定位:结束"),c||r&&!(r instanceof Error)){var n,o;e.requestHeader={},-1!==(null===(n=e.currentPageUrl)||void 0===n?void 0:n.indexOf("isDebug="))&&(e.requestHeader.bizType="cmsDebug"),!B(r)||r instanceof Error||(e.model.queryParameter.longitude=r.longitude,e.model.queryParameter.latitude=r.latitude);var i=e.partData[e.model.queryParameter.whichCall-1];return(null==i||null===(o=i.response)||void 0===o?void 0:o.globalTicket)&&Object.assign(e.requestHeader,{globalticket:i.response.globalTicket,parentRpcId:"0.".concat(e.model.queryParameter.whichCall+1)}),e.model.queryParameter.whichCall++,e.isFirst&&_r("Vid适配器:首次进店:再次发送进店请求:开始"),as(e).then((function(t){e.isFirst&&_r("Vid适配器:首次进店:再次发送进店请求:结束");var r=le(t);return t.error&&(r.error=t.error),e.partData.push({model:le(e.model),header:le(e.requestHeader),response:r}),t}))}return Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店定位失败（".concat((null==r?void 0:r.message)||"未知错误","）"),group:e.key,body:[r,t,e]}),t.locationFail=!0,t}))}return t})).then((function(t){var r,n;if(e.isFirst&&_r("Vid适配器:首次进店:判断进店结果:开始"),Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进入进店最终判断阶段。",group:e.key,body:[t,e]}),t.error)return gs(e,3,t.error),vs(e,3,t.error),y(t.error,e);var o=t.result;if(function(e,t){B(e)&&(B(e.gvidInfo)&&(e.gvidInfo.globalTicket=t),B(e.pvidInfo)&&(e.pvidInfo.globalTicket=t),e.globalTicket=t)}(o,t.globalTicket),gs(e,3,o),vs(e,3,o),o.fromMerchantLevelPage=e.merchantLevelPage,a[e.key]=o,t.locationFail){var i,u;if(o.redirectUrl)return Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店定位失败，需要重定向！",group:e.key,body:[t,e]}),m(o.redirectUrl,e,!0);if(!1===o.vidChannelSettle&&(null!==(i=e.currentPageUrl)&&void 0!==i&&i.includes("scene=underLineVerification")||null!==(u=e.currentPageUrl)&&void 0!==u&&u.includes("sceneType=2")))return S(e,o);if(o.pvidInfo||o.gvidInfo)return e.currentVidInfo=le(t.result),P(e,o);var c=new Error("进店pvidInfo为空");return c.code="2-100206",y(c,e)}if(!Kc(t.result)&&o.redirectUrl)return Vt.debug({scope:"Wos-cEndMainAdapter",desc:"进店失败，需要重定向！",group:e.key,body:[t,e]}),m(o.redirectUrl,e);if(!1===o.vidChannelSettle&&(null!==(r=e.currentPageUrl)&&void 0!==r&&r.includes("scene=underLineVerification")||null!==(n=e.currentPageUrl)&&void 0!==n&&n.includes("sceneType=2")))return S(e,o);if(o.pvidInfo||o.gvidInfo)return e.currentVidInfo=le(o),P(e,o);var s=new Error("进店pvidInfo为空");return s.code="2-100206",y(s,e)}));return Vt.log("设置requestMap(".concat(i,")"),"@PKG_NAME",e),l.catch((function(){})),l},w=function i(){var c;if(!n){var f=o.shift();f?(f.isFirst&&_r("Vid适配器:首次进店:移出队列，开始执行"),n=!0,e=f,f.fired?(n=!1,i()):(f.isFirst&&_r("Vid适配器:首次进店:填充请求数据:开始"),function(e){return e.model.queryParameter||(e.model.queryParameter={}),X(e.currentPage).then((function(t){var r;if(e.currentPage=t,!t)return b.Promise.reject(new Error("进店失败，错误码：NP1"));!function(e,t){4===e.$pisStatus||e.$pisKey&&rc.map[e.$pisKey]||(e.$pisKey=e.$pisKey||Ce(),dc(e.$pisStatus,e,t))}(t,e.promise),e.prevPisValue=pc(t);var n=ur(t);return Hc.some((function(e){return n.startsWith(e)}))||t.$disableRecommendVid||Gc(n)?b.Promise.reject(new Error("4")):t.$cmsVidPromiseDone?b.Promise.reject(new Error("2")):t.$cmsPageDestroyed||t.$cmsVidFailCount&&t.$cmsNotRecommendVid?b.Promise.reject(new Error("3")):b.Promise.all([t,us({handler:function(){var e;return null===(e=t.$cmsGetRecommendVidRequestData)||void 0===e?void 0:e.call(t)},source:{getKey:function(){return"CurrentPageVidRequestData:"+ur(t)},_source:null===(r=t.$cmsGetRecommendVidRequestData)||void 0===r?void 0:r.toString()},timeout:3e4,type:"CurrentPageVidRequestData"}),ms(e)])})).then((function(t){var r=d(t,2),n=r[0],o=r[1];if(n.$cmsPageDestroyed)return b.Promise.reject(new Error("3"));e.currentPageRequestModelHookResult=le(o),e.currentPage=n;var i=g(e,o);return e.requestModelCheckResult=B(i)?-1:i,3===i?b.Promise.reject(new Error("3")):4===i?b.Promise.reject(new Error("4")):!B(i)||i}))}(f).then((function(e){var o,i;I(f),f.isFirst&&_r("Vid适配器:首次进店:填充请求数据:完毕1");var c=Bc.value;if(Bc.value=!1,c&&(Eo({type:11,label:34,val:f.requestModelCheckResult,belong:fr(f.currentPage),code:f.currentPageUrl}),Vt.log("本次因为场景值清空缓存逻辑而强制进店","LOG_SCOPE",f)),null!==(o=f.currentPage)&&void 0!==o&&null!==(i=o.options)&&void 0!==i&&i.forceRecommendVid&&function(e){var t=String(e||"").split("_"),r=s(t),n=r[0],o=r.slice(1);return!(String(parseInt(n))!==n||!o.length)}(f.currentPage.options.forceRecommendVid)&&f.currentPage.$forceRecommendVidParamValue!==f.currentPage.options.forceRecommendVid){var d=f.currentPage.$forceRecommendVidParamValue||"",p=f.currentPage.options.forceRecommendVid;f.currentPage.options.navigatorTsByForceVid&&(p+=f.currentPage.options.navigatorTsByForceVid),d!==p&&(f.currentPage.$forceRecommendVidParamValue=p,c=!0,Eo({type:11,label:35,val:f.requestModelCheckResult,belong:fr(f.currentPage),code:f.currentPageUrl}),Vt.log("本次因为URL携带强制进店参数（forceRecommendVid=".concat(f.currentPage.options.forceRecommendVid,"）而强制进店"),"Wos-cEndMainAdapter",f))}try{var v,g,m,h=$(e)&&e?e:null;if(h&&!c)return n=!1,f.reuseRequest=!0,f.fired=!0,vs(f,1,h),P(f,h);f.fired=!0;var S=f.key,w=!f.merchantLevelPage&&null!==(v=a[S])&&void 0!==v&&v.fromMerchantLevelPage?void 0:a[S];S in Fc||e||!w||(fs[S]=fr(f.currentPage),Fc[S]=b.Promise.resolve(w));var T,k,C=!f.merchantLevelPage&&u[S]?void 0:Fc[S],M=fr(f.currentPage);if(fs[S]!==M&&l[fs[S]]){var R=fs[S];if($c[R]=1,ss.length)for(var O;-1!==(O=ss.findIndex((function(e){return e[0]===R})));)ss[O][1](),ss.splice(O,1);gs(f,2,a[S],{from:"redirect"}),delete Fc[S],delete a[S]}if(c&&(gs(f,2,a[S],{from:"force"}),delete Fc[S],delete a[S],t=void 0,r="",delete f.model.basicInfo.globalvid,delete f.model.basicInfo.globalvidTicket,f.currentPage.disableGetPrevVidInfo=!0,f.currentNeedForceVid=!0,f.model.queryParameter.needGvid=!0),n=!1,S in Fc&&(C||!e))return f.isFirst&&_r("Vid适配器:首次进店:复用请求"),f.reuseRequest=!0,Fc[S].then((function(e){return vs(f,2,e),P(f,e)})).catch((function(e){return vs(f,2,e),y(e,f)}));if((null===(g=f.currentPage)||void 0===g?void 0:g.$cmsVidFailCount)>2)return f.reuseRequest=!1,y(null===(T=f.currentPage)||void 0===T?void 0:T.$cmsVidLastFailError,f,!0);if(null!==(m=f.currentPage)&&void 0!==m&&m.$cmsNotRecommendVid&&f.currentPage.$cmsVidFailCount)return f.reuseRequest=!1,y(null===(k=f.currentPage)||void 0===k?void 0:k.$cmsVidLastFailError,f,!0);f.reuseRequest=!1,Eo({type:11,label:36,val:f.requestModelCheckResult,belong:fr(f.currentPage),code:f.currentPageUrl}),x(f)}catch(e){return y(e,f)}})).catch((function(e){I(f),f.isFirst&&_r("Vid适配器:首次进店:填充请求数据:完毕2"),n=!1,f.notRecommendVid=!0,f.fired=!0;var t,r,o=e.message;return"3"===o||"4"===o?("4"===o&&Vt.log("当前页面属于进店黑名单页面（微盟云/节点列表），不执行进店逻辑！","WM_COPE"),P(f)):"2"===o?(f.reuseRequest=!0,f.merchantLevelPage=zc.some((function(e){return ur(f.currentPage).startsWith(e)})),1===(null===(t=f.currentPage)||void 0===t?void 0:t.$cmsVidPromiseDone)?P(f,f.currentPage.$cmsVidResult):y(null===(r=f.currentPage)||void 0===r?void 0:r.$cmsVidLastFailError,f)):y(e,f)})).catch((function(){})))):p&&e&&h(null===(c=e.currentPage)||void 0===c?void 0:c.$cmsVidLastFailError,e)}};return v})),Ts=exports.by=je("Wos-cEndMainAdapter.init",(function(){Oc("startPage");var e=[],t=[],r=function(){return!t[0]||e[0]>t[0]?[e[1],e[2],e[3]]:[t[1],t[2],t[3]]};["onLoad","onShow","onHide","onUnload"].forEach((function(r){zt(r,(function(){if("onLoad"===r&&xs(this),"onShow"===r&&function(e){Vt.log("页面onShow(".concat(ur(e),")"),e),function(e){var t,r,n,o;if(e&&b.titan.isTabBarPage(e)&&e.$cmsVidPromiseDone){var i=JSON.parse(e.$lastOptionsSnapshot||"{}"),a=String((null===(t=e.options)||void 0===t?void 0:t.vid)||""),u=String((null===(r=(null===(n=e.$cmsVidResult)||void 0===n?void 0:n.pvidInfo)||(null===(o=e.$cmsVidResult)||void 0===o?void 0:o.gvidInfo))||void 0===r?void 0:r.vid)||""),c=e.$forceRecommendVidParamValue||"",s=e.options.forceRecommendVid||"";if(e.options.navigatorTsByForceVid&&(s+=e.options.navigatorTsByForceVid),e.options.forceRecommendVid&&c!==s)return Vt.log("8、携带强制进店参数需要重载页面(".concat(ur(e),")"),e.options,e),void Ss(e,{code:"2",val:a,data:e.options});var l=String((null==i?void 0:i.vid)||"");if(a){if(l&&l===a&&"0"!==l)return void Vt.log("7、URL上的Vid参数与本身进店结果一致，无需重载页面(".concat(ur(e),")"),e.options,e);var d;if(u&&u!==a&&"0"!==a)return Vt.log("6、Vid参数变化导致重载页面(".concat(ur(e),")"),e.options,e),void Ss(e,{code:"2",val:a,data:{vid:u,vidTicket:null===(d=e.$cmsVidResult)||void 0===d?void 0:d.globalTicket}})}vc(e).then((function(t){var r,n,o=(null==t||null===(r=t.vidResponse)||void 0===r?void 0:r.pvidInfo)||(null==t||null===(n=t.vidResponse)||void 0===n?void 0:n.gvidInfo);if(o&&t.nextReloadPageId!==fr(e)&&(t.nextReloadPageId=fr(e),!e.$cmsVidResult||e.$cmsVidResult.pvid!==o.vid)){var i=g(g({},e.options||{}),{},{vid:o.vid});Vt.log("5、重载页面(".concat(ur(e),")"),i,o,t,e),Ss(e,{val:o.vid,data:i},i)}}))}}(e)}(this),"onUnload"===r&&(this,this.$cmsPageDestroyed=!0),"onLoad"===r||"onShow"===r||"onHide"===r){var n,o,i,a,u=er(Qt(this.options)),c=!!b.titan.isTabBarPage(this);a=c?"/"+((null===(n=(o=b.titan).getPageProxy)||void 0===n||null===(i=n.call(o,this))||void 0===i?void 0:i.route)||""):ar(this)+""+(u?"?":"")+u;var s="onHide"===r?t:e;if(s[0]=Date.now(),s[1]=a,s[2]=c,"easyHalfScreen"===It("getContainerType",[this])){var l,d,f=null===(l=(d=b.titan).getHostPageInstance)||void 0===l?void 0:l.call(d,this);s[3]=f?ur(f):""}}}))}));var n=!0;It("onAppShow",[function(e){if(n)n=!1;else if(Ps[e.scene]){var t,o,i=null===(t=b.wx.rprm)||void 0===t||null===(o=t.getEnterQuery)||void 0===o?void 0:o.call(t),a=i?Qt(i):e.query,u=er(a),c="/"+e.path+(u?"?":"")+u,l="";if(Nc.lastHide){var f=Nc.lastHide.split("_"),p=s(f),v=p[0],g=p[1],m="true"===v,h=p.slice(2).join("_");l=[g,h].join("_"),m&&h.startsWith("/"+e.path)&&(c="/"+e.path)}var y=r(),P=d(y,3),I=P[0],S=P[2];Eo({type:11,label:38,val:I=S||I,code:Nc.lastHide,data:e}),l&&l==="".concat(e.scene,"_").concat(c)||!I||c===I||(Vt.log("命中场景值强制进店逻辑！","LOG_SCOPE",e,I,Nc),Bc.value=!0)}}]),It("onAppHide",[function(){var e=Gr(),t=r(),n=d(t,3),o=n[0],i=n[1],a=n[2];Nc.lastHide=a?"false_".concat(e.scene,"_").concat(a):"".concat(!!i,"_").concat(e.scene,"_").concat(o),Eo({type:11,label:37,val:Nc.lastHide})}]),qn((function(e){return!(e.includes("终止进店流程")||e.includes("进店失败：")||e.includes("进店失败，错误码：NP1")||e.includes("无前一次进店")||e.includes("进店需要重定向")||e.includes("进店失败或重定向，已将中断当前请求的继续执行"))}))})),ks=function(e){var t,r;if(dn(e.route)&&ln(e.route))return!0;if(D(e)&&1===(null===(t=Mt())||void 0===t?void 0:t.length)&&!(null===(r=Mt())||void 0===r?void 0:r[0])){var n=Kr().path;return dn(n)&&ln(n)}},Cs=function(e,t){Ts(),e=e||{},t||(t=Lr());var r,n,o,i=Mr();Zc||(Zc=!0,r=!0,!ks(t)&&(null===(n=(o=b.titan).showPageLoading)||void 0===n||n.call(o)),Fe("WMSDK.VidFirstStart"),_r("Vid适配器:首次进店:开始"));var a={model:e,currentPage:t,sourceTitanInfo:hs(),isFirst:r,partData:[],requestHeader:{}};return X(t).then((function(e){if(!e){var t=Qc("进店失败：无法获取当前进店归属页面实例，可能该页面（因快速重定向等原因）已被销毁");return t.code="2-100208",t.belong=i,b.Promise.reject(t)}if(i&&i!==fr(e)){var r,n=br(i);if(null!=n&&null!==(r=n.extendMap)&&void 0!==r&&r.$cmsVidResult)return b.Promise.resolve(Object.assign(le(n.extendMap.$cmsVidResult),{sourcePageInstanceId:i,sourceApiName:"getFullVidInfo"}));var o=Qc("进店失败：当前进店归属页面实例与调用源归属页面不一致，可能该页面（因快速重定向等原因）已被销毁");return o.code="2-100209",o.belong=i,b.Promise.reject(o)}a.currentPage=e;var u=ur(e);if(Hc.some((function(e){return u.startsWith(e)}))){var c=Qc("进店失败：当前进店归属页面在黑名单中，进店流程被禁用");return c.code="2-100210",b.Promise.reject(c)}if(e.$disableRecommendVid||Gc(u)){var s=Qc("进店失败：当前进店归属页面被开发者手动禁用进店");return s.code="2-100211",b.Promise.reject(s)}return new b.Promise((function(e,t){var r=new b.Promise((function(r,n){a.resolve=function(t){e(t),r(t)},a.reject=function(e){t(e),n(e)}}));r.catch((function(){})),a.promise=r,ws.push(a)}))})).then((function(e){var n,o;((null==e?void 0:e.pvid)&&function(e){e&&e!==ys.value&&-1===bs.indexOf(e)&&(bs.push(e),function e(){!ys.loading&&bs.length&&(ys.value=bs.pop(),ys.loading=!0,Z(mu(),Lr()).then((function(e){var t=d(e,2),r=t[0],n=t[1],o=fu(n||""),i=r||{};return X(ya({method:"POST",url:"/cms/base/global/visitorReported",belongToPage:!0,sleepVieBelongPagePrimaryTime:!0,waitBelongPagePrimaryDone:!0,weimobOS:!0,data:{queryParameter:{pmcMap:Object.keys(i||{}).reduce((function(e,t){var r={source:t in o.query?1:2,value:i[t].value,types:i[t].type||[]};return e[t]=r,e}),{})}}}))})).then((function(){ys.loading=!1,e()})))}())}(Number(e.pvid)),r)&&(!ks(t)&&(null===(n=(o=b.titan).hidePageLoading)||void 0===n||n.call(o)),_r("Vid适配器:首次进店:完成:".concat(ur(a.currentPage))));return e&&!a.reuseRequest&&Fe("VID_READY",[le(e),a.key,a.model]),e&&Object.assign(e,{sourcePageInstanceId:fr(a.currentPage),sourceApiName:"getFullVidInfo"}),le(e)})).catch((function(e){var n,o;r&&(!ks(t)&&(null===(n=(o=b.titan).hidePageLoading)||void 0===n||n.call(o)),_r("Vid适配器:首次进店:完成:".concat(ur(a.currentPage))));return b.Promise.reject(e)}))},Ms=function(){Ts();var e=Er(),t=Mr();if(e){if(t&&t!==fr(e)){var r,n=br(t);if(null==n||null===(r=n.extendMap)||void 0===r||!r.$cmsVidResult)return;return Object.assign(le(n.extendMap.$cmsVidResult),{sourcePageInstanceId:t,sourceApiName:"getFullVidInfoSync"})}if(B(e.$cmsVidResult))return Object.assign(le(e.$cmsVidResult),{sourcePageInstanceId:t,sourceApiName:"getFullVidInfoSync"})}},Rs=function(e){var t,r,n,o=e.$cmsVidResult;if(e.$cmsTopNavStyleDisable||e.data.$cmsTopNavStyleDisable)Vt.log("当前页面禁止WM自动设置顶部导航条样式！","Wos-cEndMainAdapter");else if(B(n=null==o||null===(t=o.settingInfoResponse)||void 0===t?void 0:t.colorSchemeVo)&&(n.topNavBackGroundColor||n.topNavContentColor)){var i=(null==o||null===(r=o.settingInfoResponse)||void 0===r?void 0:r.colorSchemeVo)||{},a=i.topNavBackGroundColor,u={frontColor:(i.topNavContentColor||"#000000").toLowerCase(),backgroundColor:(a||"#ffffff").toLowerCase()};Vt.log("根据商户风格管理设置当前页面顶部导航条样式","Wos-cEndMainAdapter",u),It("setNavigationBarColor",[u])}else Vt.log("当前进店失败或结果中未返回顶部导航条样式，忽略设置。","Wos-cEndMainAdapter")},Os=function(e){var t;if(es||(es=!0,_r("Vid适配器:PageOnLoad1拦截首次触发:".concat(ur(e)))),null!==(t=e.options)&&void 0!==t&&t._cms_vid_done_&&($c[e.options._cms_vid_done_]=1,ss.length&&b.setTimeout((function(){for(var t,r=e.options._cms_vid_done_;-1!==(t=ss.findIndex((function(e){return e[0]===r})));)ss[t][1](),ss.splice(t,1)}),100)),!(jr()&&function(e){return!!jr()&&"/pages/landing/index"=="/".concat(String((null==e?void 0:e.route)||"").replace(".html",""))}(e)||(ts||(ts=!0,_r("Vid适配器:PageOnLoad2拦截首次触发:".concat(ur(e)))),e.$cmsVidInject||e.$cmsVidPromiseDone))){Object.defineProperty(e,"$cmsVidInject",{value:!0});var r=Cs({},e);r.then((function(t){var r;null===(r=e.$pisVidPromiseResolve)||void 0===r||r.call(e,le(t)),Object.defineProperty(e,"$cmsVidPromiseDone",{writable:!0,value:1}),Object.defineProperty(e,"$cmsVidResult",{writable:!0,value:le(t)}),Rs(e)})).catch((function(t){var r;null===(r=e.$pisVidPromiseReject)||void 0===r||r.call(e,t),Object.defineProperty(e,"$cmsVidPromiseDone",{writable:!0,value:2}),Object.defineProperty(e,"$cmsVidResult",{writable:!0,value:void 0}),e.$cmsVidLastFailError=t,Rs(e)})),Object.defineProperty(e,"$cmsVidPromise",{value:r,writable:!0})}};exports.bB=Object.freeze({__proto__:null,addRequestBeforeHook:function(e,t){ws.addBeforeHook(e,hs(),t)},beforeHandVid:Xc,getCurrentWOSCoreInfo:function(){return Cs().then((function(e){return Ko(e).core}))},getCurrentWOSCoreInfoSync:function(){return Ko(Ms()).core},getCurrentWOSSettingInfo:function(e){return Oc(e)},getCurrentWOSSettingInfoSync:function(e){return Ac(e)},getFullVidInfo:Cs,getFullVidInfoSync:Ms,getValidPreVidInfo:function(){return Lr().then((function(e){return e?function e(t){var r,n=pc(t);if(n)return null!==(r=n.vidResponse)&&void 0!==r&&r.pvid?n:n.disableRecommendVid||Hc.some((function(e){return n.path===e}))||4===n.status?e(n.id):n.vidPromise?n.vidPromise.catch((function(t){return t.message.includes("销毁")||t.message.includes("禁用")?e(n.id):b.Promise.reject(t)})).then((function(){return n})):void 0}(e):b.Promise.reject(new Error("获取当前页面实例失败，无法获取前一次进店结果"))})).then((function(e){if(null==e||!e.vidResponse)return b.Promise.reject(new Error("无前一次进店"));var t=e.vidResponse;return{pvid:t.pvid||0,gvid:t.gvid||0,globalTicket:t.globalTicket||""}}))},init:Ts,offWOSCoreAccident:function(e){ws.offAccident(e)},onWOSCoreAccident:function(e,t){ws.onAccident(e,t)}});var As,Es,Vs,Ls=function(){if(rs)return rs;var e=(b.requirePlatform("tencent_youshu_resources").main||{}).TencentYouShuSDK;if(null!=e&&e.init)return(rs=e.init({token:Es,appid:Vs,usePlugin:!1,debug:!0,encrpt:!0,openErrorMonitoring:!1,autoProxy:!0})).option.proxyComponent=!1,function(e){var t=b.getApp();t?e(t):ee((function(){return new b.Promise((function(e){b.setTimeout((function(){return e(b.getApp())}),50)}))})).then((function(t){t&&e(t)}))}((function(e){e.sr=rs})),rs;As=4};exports.br={install:function(e){var t,r,n,o;e.setMeta({asyncApiList:["callYouShuMethod"],apiInputMonitor:{callYouShuMethod:{fields:[["0",1,"method"],["1",2,"args"]]}}});var i=Nr();Es="tokenStr"===(Es=null==i||null===(t=i.form)||void 0===t||null===(r=t.extendInfo)||void 0===r||null===(n=r.youshu)||void 0===n?void 0:n.token)?"":Es,Vs=null==i||null===(o=i.form)||void 0===o?void 0:o.appid,Es||(As=2),Vs||(As=3),As||Ls(),e.addApi({callYouShuMethod:function(e){var t;if(As)return b.Promise.resolve();for(var r=Ls(),n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return X(null==r||null===(t=r[e])||void 0===t?void 0:t.call.apply(t,[r].concat(o)))}})}},exports.bc=Object.freeze({__proto__:null,asyncApiList:["getCurrentBosBasicInfo"],getCurrentBosBasicInfo:function(){var e,t=(null===(e=Nr().form)||void 0===e?void 0:e.basicInfo)||{},r=t.bosId,n=t.cid;return{bosId:parseInt(String(r))||0,cid:parseInt(String(n))||0}}});var qs=function(e){return(e=String(e||"")).replace(/[^\x00-\xff]/g,"01").length},js=function(e){return String(e||"").length},Ds=/^[+-]?(0|([1-9]\d*))(\.\d+)?$/,_s=[/java/i,/apache/i,/globalTicket/i,/saas-w1/i,/dubbo/i,/JSON parse error/i,/JSONException/i,/weimob/i,/parameter/i,/^http请求失败$/i],Ns=g({},{rules:[{match:function(e){return qs(e)>70},use:"baseText",scope:["toast","errorModal"],after:"report"},{match:function(e){return qs(e)===js(e)&&!Ds.test(e)&&js(e)>15},use:"baseText",scope:["toast","errorModal"],after:"report"},{match:function(e){return/([a-zA-Z]{7,}){3,}/.test(e)&&js(e)>20},use:"baseText",scope:["toast","errorModal"],after:"report"},{match:function(e){return _s.some((function(t){return t.test(e)}))},use:"baseText",scope:["toast","errorModal"],after:"report"}],methods:{baseText:function(){return"当前遇到问题，请稍后重试"},report:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.report("debug",{method:"friendlyText",data:{originText:e,friendlyText:t,options:r}})}}}),$s=function(e,t){return{setFriendlyTextConfig:function(e){e.rules&&(Ns.rules=[].concat(l(e.rules),l(Ns.rules))),e.methods&&(Ns.rules=g(g({},e.methods),Ns.rules))},getFriendlyTextConfig:function(){return g({},Ns)},getFriendlyText:function(t,r){var n=String(t);if(!n)return n;var o="string"==typeof r?{scene:r}:r;return Ns.rules.filter((function(e){return(e.scope||[]).includes(o.scene)})).some((function(r){var i=Ns.methods[r.use],a=Ns.methods[r.after];return!!r.match(t)&&(n=i?i(t,g(g({},o),{},{report:e,env:"mp"})):t,a&&a(t,n,g(g({},o),{},{report:e,env:"mp"})),!0)})),n}}}(En),Bs=$s.setFriendlyTextConfig,Us=$s.getFriendlyTextConfig,Fs=$s.getFriendlyText;exports.a7=Fs,function(){try{var e=xt(),t=e.showToast;Object.defineProperty(e,"showToast",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.title&&(e.title=Fs(e.title,{scene:"toast",by:"showToast"})),t(e)}})}catch(e){console.error("重写showToast",e)}try{b.titan.onModuleReady("titian-mp",(function(){return function(){var e=(b.requirePlatform("titian-mp").main||{}).$tiToast;null==e||e.addFilter((function(e){return Fs(e,{scene:"toast",by:"$tiToast"})}))}()}))}catch(e){console.error("titian注入getFriendlyText",e)}}(),exports.b8=Object.freeze({__proto__:null,getFriendlyText:Fs,getFriendlyTextConfig:Us,setFriendlyTextConfig:Bs});var Ws=Le("URLWatchPageIdMap"),Hs=Le("URLWatchEBus",(function(){return new Ne})),zs=function(e){var t,r=null===(t=e.getPageId)||void 0===t?void 0:t.call(e);Ws[r]||(Ws[r]=[]);var n=ur(e),o="";try{if(b.titan.isTabBarPage(e)){var i,a,u,c=null===(i=(a=b.titan).getPageProxy)||void 0===i||null===(u=i.call(a,e))||void 0===u?void 0:u.route;c&&(o="/"+c)}}catch(e){}-1===Ws[r].indexOf(n)&&(Ws[r].push(n),Hs.emit("change",{url:n,tabbarProxyPath:o}))},Ks=je("WatchUrl.init",(function(){var e=function(e){q(e)?Hs.emit("change",{url:e}):B(e)&&(jr()&&_(e.get_target_page)?ee((function(){return new b.Promise((function(t){b.setTimeout((function(){t(e.get_target_page())}))}))})).then((function(e){e&&zs(e)})):zs(e))};zt("onLoad",(function(){e(this)})),zt("onShow",(function(){e(this)})),zt("onUnload",(function(){!function(e){var t,r=null==e||null===(t=e.getPageId)||void 0===t?void 0:t.call(e);delete Ws[r]}(this)}))})),Gs=Le("DefaultUrlWatcher",(function(){return function(e){var t=new Ne;return e.on("change",(function(e){var r=e.url,n=e.tabbarProxyPath,o=Xt(r);n&&(o.tabbarProxyPath=n),t.emit("change",o)})),{onChange:function(e){t.on("change",e)}}}(Hs)}));exports.b3=Le("WatchUrlModule",(function(){return e=Gs,t=Ks,{install:function(r){var n;r.addApi({onUrlChange:e.onChange}),null===(n=t)||void 0===n||n(r)}};var e,t})),exports.b5=Object.freeze({__proto__:null,asyncApiList:["previewImage"],previewImage:function(e,t){var r=function(e,t){return q(e)?{urls:[e],currentIndex:0}:Array.isArray(e)?e.length?{urls:e,currentIndex:t||0}:void 0:B(e)&&Array.isArray(e.urls)&&e.urls.length?(e.currentIndex=e.currentIndex||0,e):void 0}(e,t);if(!r)return b.Promise.reject(new Error("请传递有效的预览图片参数"));var n=g({},r);return delete n.urls,delete n.currentIndex,n.urls=r.urls,n.current=r.urls[r.currentIndex>0&&r.currentIndex<r.urls.length?r.currentIndex:0],Ct("previewImage",n)}});var Qs=Le("PiidRequestMap"),Js=exports.S=function(e){return function(t){if(!t.bosId){if("function"==typeof e.getBusinessData){var r=e.getBusinessData();e.bosId=r.bosId,e.cid=r.cid}t.bosId=e.bosId,t.cid=t.cid||e.cid}if(!t.productId)return b.Promise.resolve(void 0);var n="".concat(t.bosId);if(t.ignoreCache||!Qs[n]){var o,i="/merchant/backstage/service/clientApplication/queryCAppByBosId";Qs[n]=e.request({method:"POST",disableBelongPageRequestTransforms:!0,url:i,header:{"Content-Type":"application/json"},data:{bosId:t.bosId},weimobOS:!1,onAdapterComplete:function(e,t){e||(o=t)}}).then((function(e){return Zi(o||e,i)})).then((function(e){if(!e.error)return e.result})).catch((function(){})),Qs[n].then((function(e){void 0===e&&delete Qs[n]}))}return Qs[n].then((function(e){var r;return O(e,(function(e){var n;if(String(e.id)===String(t.cid)&&null!==(n=e.productInstanceIds)&&void 0!==n&&n.length){var o=e.productInstanceIds.find((function(e){return String(e.productId)===String(t.productId)}));if(o)return r=o.productInstanceId,!1}})),r}))}}({bosId:co().bosId,cid:co().cid,request:ya});exports.bk=Object.freeze({__proto__:null,asyncApiList:["findProductInstanceIdByCID"],findProductInstanceIdByCID:Js});var Ys={styleType:1,iconStyleType:1,colors:{mainColor:"#fa2c19",secondaryColor:"#ffa300",priceColor:"#fa2c19",tagColor:"#fa2c19",topNavBackGroundColor:"#ffffff",topNavContentColor:"#000000"}};exports.ba=Object.freeze({__proto__:null,asyncApiList:["getStyleInfo"],getStyleInfo:function(){return Ho("style").catch((function(){})).then((function(e){if(!e)return le(Ys);var t={};return B(e.color)?function(e,t){he(t,e,["colorMain","colorSecondary","priceColor","tagColor","topNavBackGroundColor","topNavContentColor"],["mainColor","secondaryColor"]),Object.keys(Ys.colors).forEach((function(t){e[t]?e[t]=String(e[t]).toLowerCase():e[t]=Ys.colors[t]}))}(t,e.color):Object.assign(t,Ys.colors),{colors:t,styleType:j(e.styleType)?e.styleType:Ys.styleType,iconStyleType:j(e.iconStyleType)?e.iconStyleType:Ys.iconStyleType}}))}});var Xs=Le("DebuggerState",(function(){return{enable:void 0}})),Zs=function(){if(!V(Xs.enable))return b.Promise.resolve(Xs.enable);if(It("canIUse",["getAppBaseInfo"])){var e=It("getAppBaseInfo");return Xs.enable=!(null==e||!e.enableDebug),b.Promise.resolve(Xs.enable)}return Ct("getSystemInfo").then((function(e){return Xs.enable=!(null==e||!e.enableDebug),Xs.enable}))};exports.a$=Object.freeze({__proto__:null,checkDebugEnable:Zs,checkDebugEnableSync:function(){return Zs(),!!Xs.enable},setEnableDebug:function(e){return Xs.enable=!!e,Ct("setEnableDebug",[{enableDebug:!!e}])}});var el=Le("Pipeline.PipeStore"),tl=Le("Pipeline.GlobalPipeMap"),rl=Le("Pipeline.GlobalProcessorMap"),nl=function(e){if(!(B(e)&&e.name&&e.author&&_(e.handler)))return"处理器无效，请传递有效的name、author、handler字段"},ol=function(e,t,r){var n=el[e];if(n.destroySource)null==r||r("无法继续新增处理器，因为此管道实例已销毁，销毁来源：".concat(n.destroySource));else{var o=t;o.$$summary$$=Object.freeze({name:o.name,author:o.author});var i=n.processors;if("number"==typeof t.index&&t.index>=0)if("forceIndex"in t)i.splice(t.index,0,o);else if(i[t.index])if(i[t.index].forceIndex){for(var a,u=t.index+1,c=i.length;u<c;u++){if(!i[u].forceIndex){a=!0,i.splice(u,0,o);break}}a||i.push(o)}else i.splice(t.index,0,o);else i[t.index]=o;else i.push(o)}},il=function(e,t,r,n,o){var i,a=[],u=[],c=[],s=[],l=-1,d=function(){if(i)s.length&&(i.failProcessors=s),o&&(u[0](i),u.splice(0,2));else if(s.length&&o){var e=new Error("该管道被触发，共有".concat(s.length,"个处理器发生了异常！"));e.list=s,u[1](e),u.splice(0,2)}else o?(u[0](),u.splice(0,2)):s.length&&(i={bail:!1,failProcessors:s})};return function u(){if(++l>=r.length)return o?Z.apply(void 0,c).then(d):d();var f=r[l];void 0!==f&&function(e,t,r,n,o,i,a){var u=[e,n[0],n[1]],c=t.processorHooks||{};c.before&&ne(c.before,void 0,void 0,[r.$$summary$$,u]);var s,l=ne(r.handler,(function(e){s=e,c.catch&&ne(c.catch,void 0,void 0,[r.$$summary$$,u,e])}),void 0,u),d=function(){c.after&&ne(c.after,void 0,void 0,[r.$$summary$$,u,!!(arguments.length<=0?void 0:arguments[0])||!!s,arguments.length>0?arguments.length<=1?void 0:arguments[1]:l])};D(l)?(l.then((function(e){d(void 0,e)})),l.catch((function(e){d(e)}))):d();var f=function(){if(i){var a=t.bail;if(_(a)){var u=g(g({},r.$$summary$$),{},{failure:!!s,result:l,pipeCallArgs:e});if(ne(a,void 0,void 0,[u]))return o(l,!0,s)}if(a&&s)return o(l,!0,s)}return s?(n[0]=!0,n[1]=s):(n[0]=!1,n[1]=l),o(l,!1,s)};if(!s&&a&&D(l))return i?(l.then((function(e){s=void 0,l=e,f()})),void l.catch((function(e){s=e,l=void 0,f()}))):f();f()}(e,t,f,a,(function(e,t,r){if(r&&!o&&n)throw r;r&&s.push([f.$$summary$$,r]),!t||n?(o&&D(e)&&(e.catch((function(e){s.push([f.$$summary$$,e])})),c.push(e)),u()):(i={bail:!0,bailProcessor:f.$$summary$$,bailProcessorResult:r||e},d())}),!n,o)}(),o?new b.Promise((function(e,t){u.push(e),u.push(t)})):i},al=function(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:!0})},ul=function(e){al(e,"addProcessor",(function(t){var r=nl(t);if(r)return{code:2,msg:r};if(_(el[e.id].config.processorValidate))try{el[e.id].config.processorValidate(t)}catch(e){return{code:2,msg:"处理器验证失败：".concat(e.message)}}return ol(e.id,ve(t,["private","forceIndex"]),el[e.id].config.log),{code:1,msg:"成功"}})),al(e,"addPrivateProcessor",(function(t){if(B(t)&&!_(t.handler)||!_(t))return{code:2,msg:"处理器无效"};var r=B(t)?t:{};_(t)&&(r.handler=t);var n=el[e.id].config;return r.author=r.author||n.author,r.name=r.name||"$pipe_".concat(n.name,"_").concat(r.handler.name||"config_processor"+el[e.id].privateProcessorLength),ol(e.id,r,el[e.id].config.log),el[e.id].privateProcessorLength++,{code:1,msg:"成功"}})),al(e,"destroy",(function(t){return q(t)?(el[e.id].destroySource=t,{code:1,msg:"成功"}):{code:2,msg:"请传递销毁来源"}})),al(e,"call",(function(){var t=el[e.id],r=t.config,n=t.processors;if(!t.destroySource){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if("parallel"!==r.mode)return function(e,t,r){return il(e,t,r,!1)}(i,r,n);!function(e,t,r){il(e,t,r,!0)}(i,r,n)}})),al(e,"callAsync",(function(){for(var t=el[e.id],r=t.config,n=t.processors,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t.destroySource?b.Promise.reject(new Error("无法执行处理器，因为此管道实例已销毁，销毁来源：".concat(t.destroySource))):"parallel"===t.config.mode?function(e,t,r){return il(e,t,r,!0,!0)}(i,r,n):function(e,t,r){return il(e,t,r,!1,!0)}(i,r,n)}))},cl=function(e){var t=Ce();tl[t]={};var r=function(t,r){return function(e){var t=function(e){return B(e)?q(e.name)&&e.name.trim()?q(e.author)&&e.author.trim()?!e.mode||"parallel"!==e.mode&&"series"!==e.mode?"创建管道对象必须传入模式且非空，对应配置字段: mode, 可选值: parallel(并行), series(串行)":void 0:"创建管道对象必须传入作者且非空，对应配置字段: author, 类型: 字符串":"创建管道对象必须传入名称且非空，对应配置字段: name, 类型: 字符串":"创建管道对象必须传入配置信息"}(e);if(t)return{code:2,msg:t};var r={},n="".concat(e.mode,"_").concat(e.name,"_").concat(Ce());return el[n]={time:Date.now(),config:e,privateProcessorLength:0,processors:[]},al(r,"id",n),al(r,"name",e.name),ul(r),Array.isArray(e.processors)&&e.processors.forEach((function(t){_(t)?(r.addPrivateProcessor({handler:t,name:"$pipe_".concat(e.name,"_").concat(t.name||"config_processor"+el[n].privateProcessorLength),author:e.author}),el[n].privateProcessorLength++):B(t)&&_(t.handler)&&(t.name=t.name||"$pipe_".concat(e.name,"_").concat(t.handler.name||"config_processor"+el[n].privateProcessorLength),t.author=t.author||e.author,r.addPrivateProcessor(t),el[n].privateProcessorLength++)})),{code:1,msg:"成功",pipeline:r}}(g(g({},t),{},{log:e.log,mode:r}))};return{createParallelPipeline:function(e){return r(e,"parallel")},createSeriesPipeline:function(e){return r(e,"series")},registerPipeline:function(e){var r=function(e,t){return B(t)?q(t.id)&&q(t.name)&&_(t.addProcessor)?t.id in el?t.name in tl[e]?"全局已存在".concat(el[tl[e][t.name].id].config.author,"注册的同名管道对象，无法继续注册！"):void 0:"管道对象非法（结构类似WMSDK提供的管道对象，但不通过WMSDK创建），无法注册！":"管道对象无效，无法注册！":"管道对象为空或者非对象类型，无法注册！"}(t,e);return r?{code:2,msg:r}:(tl[t][e.name]=e,function(e,t){var r="".concat(e).concat(t.name);r in rl&&rl[r].forEach((function(e){var r=d(e,3),n=r[0],o=r[2],i=t.addProcessor(n);null==o||o(i)}))}(t,e),{code:1,msg:"成功"})},addProcessorToPipeline:function(e,r,n){var o=nl(r);if(o)return{code:4,msg:o};if(e in tl[t]){var i=tl[t][e].addProcessor(r);return 2===i.code?{code:3,msg:i.msg}:i}var a="".concat(t).concat(e);return a in rl||(rl[a]=[]),rl[a].push([r,Date.now(),n]),{code:2,msg:"等待插入"}}}},sl=Le("Pipeline.PipeModule",(function(){return cl(Vt)})),ll=sl.createParallelPipeline,dl=sl.createSeriesPipeline,fl=sl.addProcessorToPipeline,pl=sl.registerPipeline;exports.b1=Object.freeze({__proto__:null,addProcessorToPipeline:fl,createParallelPipeline:ll,createSeriesPipeline:dl,registerPipeline:pl});var vl=function(e){var t=e.split(",").reduce((function(e,t){var r=t.trim().split("="),n=d(r,2),o=n[0],i=n[1];return o&&e.push({type:1,name:o,value:i||""}),e}),[]);return t.length?t:void 0},gl=function(e,t){var r=0,n=!1,o=!1,i=!1;return e.startsWith("!")?(n=!0,r=(i="="===e[1])?2:1):e.startsWith("~")&&(o=!0,r=(i="="===e[1])?2:1),{type:3,index:t,required:n,emptyPlan:o,mapping:i,name:e.substring(r)}},ml={const:"常量参数",replace:"替换类参数",prepare:"预制参数"},hl=Le("ToPage.PagePathTemplateData"),yl=function(e,t,r){var n,o;if("cid"===t)return(null===(n=e.getBusinessData())||void 0===n?void 0:n.cid)||0;if("productInstanceId"===t){var i,a,u=null===(i=r.constants)||void 0===i?void 0:i.find((function(e){return"productId"===e.name}));return null!=u&&u.value&&String(parseInt(u.value))===u.value?e.findProductInstanceIdByCID({cid:(null===(a=e.getBusinessData())||void 0===a?void 0:a.cid)||0,productId:parseInt(u.value)}).then((function(e){return e||b.Promise.reject(new Error("无法根据产品ID常量（值=".concat(u.value,"）找到对应的productInstanceId")))})):b.Promise.reject(new Error("在页面路径模板中找不到产品ID常量，无法获取预制参数productInstanceId"))}return null!==(o=e.state.prepareGetter)&&void 0!==o&&o[t]?e.state.prepareGetter[t]():b.Promise.reject(new Error("无效的预制参数".concat(t)))},bl={},Pl=function(e,t,r){var n=null==t?void 0:t.url,o=function(o,i){e.addBreadCrumb(e.state.bcBelongFilter({type:11,label:61,val:o,code:n,hoop:r,data:g(g({},pe(t,["query","url","method"])),{},{other:i})}))};return n?(n=n.trim(),o(2),b.Promise.resolve(hl).then((function(r){return r[n]?q(r[n])?function(e,t,r,n){var o=function(n,o){t.addBreadCrumb(t.state.bcBelongFilter({type:11,label:61,val:n,hoop:void 0,data:{tpl:e,query:r,other:o}}))},i=function(e){if(!bl[e])try{bl[e]=function(e){for(var t,r=[],n=[],o=[],i="",a=0,u=e.length,c="";a<u;){var s=e[a];if("@"===s){if(!a&&!i){i="const",a++;continue}if("const"===i){t=vl(c),c="",i="",a++;continue}}var l=e.substring(a,a+2);if("{["===l){if(!i){c&&(r.push(c),c=""),i="prepare",a+=2;continue}throw new Error("当前正在寻找".concat(ml[i],"，但字符串的第").concat(a,"~").concat(a+1,"位错误的出现了常量参数的特征字符（").concat("{[","），这是不正确的，请参考语法修改模板字符串。"))}if("]}"===l){if("prepare"===i){c=c.trim(),n.push({type:2,name:c,index:r.length}),r.push("".concat("{[").concat(c).concat("]}")),i="",c="",a+=2;continue}if("replace"===i)throw new Error("当前正在寻找".concat(ml[i],"，但字符串的第").concat(a,"~").concat(a+1,"位错误的出现了常量参数的特征字符（").concat("]}","），这是不正确的，请参考语法修改模板字符串。"))}if("{"===s){if(!i){c&&(r.push(c),c=""),i="replace",a++;continue}throw new Error("当前正在寻找".concat(ml[i],"，但字符串的第").concat(a,"位错误的出现了替换类参数的特征字符（{），这是不正确的，请参考语法修改模板字符串。"))}if("}"===s){if("replace"===i){c=c.trim(),o.push(gl(c,r.length)),r.push("{".concat(c,"}")),i="",c="",a++;continue}if(i)throw new Error("当前正在寻找".concat(ml[i],"，但字符串的第").concat(a,"位错误的出现了替换类参数的特征字符（}），这是不正确的，请参考语法修改模板字符串。"))}c+=s,a++}return c&&r.push(c),{parts:r,constants:t,prepares:n.length?n:void 0,replacements:o.length?o:void 0}}(e)}catch(t){bl[e]=t}return bl[e]}(e);if(i instanceof Error)return o(5,i),b.Promise.reject(i);var a=i.parts.concat([]);return o(6,a),function(e,t,r,n){var o=[];return function(e,t){var r=t.prepares?t.prepares.concat([]):[];return t.replacements&&t.replacements.forEach((function(e){e.mapping&&r.push({name:e.name})})),b.Promise.all(r.map((function(r){return b.Promise.all([r,yl(e,r.name,t)])})))}(e,r).then((function(e){return function(e,t,r,n,o){return n.forEach((function(t){var r=d(t,2),n=r[0],o=r[1];e[n.index]=o})),t.replacements?new b.Promise((function(i,a){O(t.replacements,(function(i){var u;if(r&&i.name in r&&(o.push(i.name),u=r[i.name]),H(u)&&i.mapping){var c,s=null===(c=t.constants)||void 0===c?void 0:c.find((function(e){return e.name===i.name}));if(s)u=s.value;else{var l=n.find((function(e){return e[0].name===i.name}));u=null==l?void 0:l[1]}}if(i.required&&H(u))return a(new Error("参数".concat(i.name,"是必选，输入值无效，无法跳转"))),!1;H(u)?i.emptyPlan&&(u="",e[i.index]=u):e[i.index]=u})),i(o)})):b.Promise.resolve(o)}(t,r,n,e,o)}))}(t,a,i,r).then((function(e){var t=a.join("");if(!B(r))return t;var n=Object.keys(r).reduce((function(t,n){return e.includes(n)||t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(H(r[n])?"":r[n]))),t}),[]).join("&");return n?"".concat(t).concat(t.includes("?")?"&":"?").concat(n):t}))}(r[n],e,t.query):(o(4),b.Promise.reject(new Error("".concat(n,"对应的页面URL模板非有效的字符串，无法跳转")))):(o(3),b.Promise.reject(new Error("找不到".concat(n,"对应的页面配置，无法跳转"))))})).then((function(r){o(7,{targetURL:r});var n="navigate";return"redirectTo"===t.method?n="redirect":"reLaunch"===t.method&&(n="reLaunch"),e.log("即将跳转(".concat(n,")页面：").concat(r),"ToPage"),b.Promise.all([e.navigator({url:r,mode:n}),r])})).then((function(e){var t=d(e,2)[1];return o(8,{targetURL:t}),t})).catch((function(e){return o(9,{err:e}),b.Promise.reject(e)}))):(o(1),b.Promise.reject(new Error("请传递页面标识，否则无法跳转")))};exports.bl=Object.freeze({__proto__:null,install:function(e){!function(e,t){e.state.bcBelongFilter=t,e.setMeta({apiInputMonitor:{toPage:{fields:[["0",2,"config"],["0.url",1,"url"],["0.method",1,"method"]]}},asyncApiList:["toPage"]}),e.addApi({setPagePathTemplate:function(r){e.addBreadCrumb(t({type:11,label:60,data:r})),function(e){Object.assign(hl,e||{})}(r)},toPage:function(t){return Pl(e,t,Ce())}})}(e,(function(e){return e.belong=b.titan.getCurrentMetadata("PAGE_ID"),e.data=e.data||{},e.data.source=ho(),e}))}});var Il=S(),Sl=function(e,t,r,n){Eo({type:11,label:53,val:e,code:n,belong:Ar(),data:{eventId:t,data:r}})},xl=function(e){var t,r,n=Nr(),o=null==n||null===(t=n.form)||void 0===t||null===(r=t.extendInfo)||void 0===r?void 0:r.analysis;if(Array.isArray(o)&&e){var i=o.find((function(t){return(null==t?void 0:t.channelCode)===e}));return null==i?void 0:i.channelStatus}return!1};exports.bs=Object.freeze({__proto__:null,isNeedNativeReportEvent:function(e){return 2===Il&&xl(e)},nativeReportEvent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"we";if(2===Il){t=le(t);var n=xl(r);Sl(1,e,t,n),n&&function(e,t){L(e)&&B(t)?(Sl(2,e),It("reportEvent",[e,t])):Vt.error("执行原生数据上报失败，参数格式不对","@PKG_NAME")}(e,t)}}}),exports.bo=Object.freeze({__proto__:null,asyncApiList:["getGuideInfo"],getGuideInfo:function(){return mu().then((function(e){return"dcGuideTicket"in e?{dcGuideTicket:e.dcGuideTicket.value}:{}})).catch((function(){return b.Promise.reject(new Error("获取失败"))}))}}),exports.u=function(e,t,r){var n={};return B(e)&&me(n,e),L(e)?n.text=e:j(e)?n.text=String(e):n.text=String(e||""),j(t)&&(n.index=t),q(t)&&(n.url=t),_(t)&&(n.comparer=t),(q(r)||1===r||2===r)&&(n.scope=r),q(n.text)||(n.text=String(n.text)),n.text=n.text.length>3?"...":n.text,n};var wl={0:0,1:30,2:60,3:90,4:120,5:150,6:180},Tl=function e(t,r,n,o,i){var a,u,c,s,l,d,f,p,v,g,m,h={customerServiceStatus:"wos-cs-chat"===r.refer?"customer":"notCustomer",id:t,text:r.title,iconStyleType:(null==i?void 0:i.iconStyleType)||0};if(1===n)h.color=null===(c=o.colorStyleDTO)||void 0===c?void 0:c.notSelectTextColor,h.iconColor=null===(s=o.colorStyleDTO)||void 0===s?void 0:s.notSelectIconColor,1===o.colorStyle?(h.activeColor=(null==i||null===(l=i.colorScheme)||void 0===l?void 0:l.colorMain)||(null===(d=o.colorStyleDTO)||void 0===d?void 0:d.textColor),h.activeIconColor=(null==i||null===(f=i.colorScheme)||void 0===f?void 0:f.colorMain)||(null===(p=o.colorStyleDTO)||void 0===p?void 0:p.iconColor)):(h.activeColor=null===(v=o.colorStyleDTO)||void 0===v?void 0:v.textColor,h.activeIconColor=null===(g=o.colorStyleDTO)||void 0===g?void 0:g.iconColor);else if(2===n||3===n){var y,b,P;h.color=h.activeColor=null===(y=o.colorStyleDTO)||void 0===y?void 0:y.textColor,h.iconColor=h.activeIconColor=null===(b=o.colorStyleDTO)||void 0===b?void 0:b.iconColor,h.bgColor=h.activeBgColor=null===(P=o.colorStyleDTO)||void 0===P?void 0:P.bgColor}else 4===n&&(h.color="#212121",h.activeColor="#212121");null!==(a=r.image)&&void 0!==a&&a.type&&(4===n&&"0"===t||4!==n)&&(h.iconType=1===(null==r||null===(m=r.image)||void 0===m?void 0:m.type)?"iconfont":"img",h.icon="img"===h.iconType?Qi(r.image.url,{size:"xs",pictureRatio:3}):r.image.url,h.activeIcon=r.image.selectIconUrl||h.icon,h.iconSize=null==r?void 0:r.iconSize,h.isCentreIcon=null==r?void 0:r.isCentreIcon);if(r.angleContent){h.badgeType="text";var I=String(r.angleContent);h.badgeValue=I.length>3?"...":I}return 4===n&&null!==(u=r.subNavigationList)&&void 0!==u&&u.length&&(delete h.badgeType,delete h.badgeValue,h.children=r.subNavigationList.map((function(t,r){return e(String(r),t,n,o,i)}))),2!==n&&3!==n||1===parseInt(String(o.jsonDTO.menuTextConfig))||delete h.text,2===n&&(h.webCssStyle=h.mpCssStyle="transform: scale(0) rotate(0);",h.webBodyCssStyle=h.mpOpenedCssStyle="transform: scale(1) rotate(".concat(wl[t],"deg);"),h.webOpenedCssStyle=h.mpBodyCssStyle="transform: rotate(0);",h.webOpenedBodyCssStyle=h.mpOpenedBodyCssStyle="transform: rotate(-".concat(wl[t],"deg);")),h},kl=function(e,t,r,n){if(!e||!t)return 0;var o=n||{},i=o.appid,a=o.recommendVid,u=r||{},c=u.decorationUrl,l=u.uniqueParams,d=String(e||"").split("?"),f=s(d),p=f[0],v=f.slice(1),g=Zt(v.join("?")),m=String(t||"").split("?"),h=s(m),y=h[0],b=h.slice(1),P=Zt(b.join("?"));if(i&&2===(null==c?void 0:c.linkType)){var I=null==c?void 0:c.appId;if(I&&I!==i)return 0}if(p!==y)return 0;var S=200;if(l&&Array.isArray(l)&&l.length&&!l.every((function(e){return g[e]===P[e]}))){if(1!==l.length||void 0!==g[l[0]])return 0;S=100}return void 0!==a&&String(g.vid)===String(a)&&(S+=50),S+=function(e,t){var r=0;return"0"!==e.vid&&void 0!==e.vid&&e.vid!==t.vid||r++,U(e)||U(t)||Object.keys(e).forEach((function(n){"vid"!==n&&n in t&&t[n]===e[n]&&r++})),r}(g,P)};exports.aj=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"miniUrl",n=arguments.length>3?arguments[3]:void 0,o={activeIndex:-1};if(_(e)){var i=[];if(O(t,(function(t,n){var a,u,c=Xt((null===(a=t.decorationUrl)||void 0===a?void 0:a[r])||""),s=e(t,c);if(j(s))i.push({index:n,order:s});else if(o)return o.activeIndex=n,!1;(null===(u=t.subNavigationList)||void 0===u?void 0:u.length)&&O(t.subNavigationList,(function(t,a){var u,c=Xt((null===(u=t.decorationUrl)||void 0===u?void 0:u[r])||""),s=e(t,c);if(j(s))i.push({index:n,subIndex:a,order:s});else if(s)return o.activeIndex=n,o.activeSubIndex=a,!1}))})),i.length){i.sort((function(e,t){var r=e.order-t.order;return 0===r?-1:r}));var a=i[i.length-1],u=a.order,c=a.index,s=a.subIndex;if(u)return{activeIndex:c,activeSubIndex:s}}return o}var l=function(e){return e.sort((function(e,t){var r=e[0]-t[0];return 0===r?-1:r})),e[e.length-1]},f=function t(o){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o.map((function(o,a){var u,c,s=(null===(u=o.decorationUrl)||void 0===u?void 0:u[r])||"",f=kl(s,e,o,n),p=[f,a];if(i&&null!==(c=o.subNavigationList)&&void 0!==c&&c.length){var v=l(t(o.subNavigationList,!1)),g=d(v,2),m=g[0],h=g[1];m>0&&(f=parseInt("".concat(m).concat(f)),p[0]=f,p[2]=h)}return p}))},p=l(f(t)),v=d(p,3),g=v[0],m=v[1],h=v[2];return g?V(h)?{activeIndex:m}:{activeIndex:m,activeSubIndex:h}:{activeIndex:-1}};var Cl=function(e,t){return 1===parseInt(String(e))?1:2===e?1===parseInt(String(t))?3:2:3===e?4:0};exports.az=Cl,exports.al=function(e,t,r){var n,o,i,a,u=e.jsonDTO||{},c={innerType:Cl(u.style,u.showStyle),list:[],activeNav:"",activeSubNav:"",itemWidth:[]};1===c.innerType&&(c.appMode=e.navigateIconStyle||1,c.appBgColor=1===e.navigateBackgroundType&&t?t.colorScheme.colorMain:e.navigateBackgroundColor,c.appBgRadius=e.backgroundRound||1),4===c.innerType&&null!==(n=u.items)&&void 0!==n&&n.length&&(c.list.push(Tl("0",{image:{type:1,url:"tabbar-home",selectIconUrl:"tabbar-home-selected"},decorationUrl:{linkType:1,miniUrl:"/cms_design/index"}},c.innerType,e,t)),c.itemWidth.push(0));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!e)return{};var r=e%2==0?t/e:parseFloat((t/e).toFixed(2)),n=0;return Array.from({length:e}).reduce((function(o,i,a){return o[a]=e%2!=0&&a===e-1?{val:t-n,accumulate:t}:{val:r,accumulate:n},n+=r,o}),{})}(null===(o=u.items)||void 0===o?void 0:o.length),l={},d={};if(3===c.innerType&&null!==(i=u.items)&&void 0!==i&&i.length){var f=0;A(u.items,(function(e,t){f++,l[t]=f*(172-(r?36:0)),d[t]=22.48*f}))}return null===(a=u.items)||void 0===a||a.reduce((function(r,n,o){if(n){var i=4===c.innerType?String(o+1):String(o),a=Tl(i,n,c.innerType,e,t);3===c.innerType&&(a.mpCssStyle=a.mpOpenedCssStyle="top:-".concat(l[o],"rpx;"),a.webCssStyle=a.webOpenedCssStyle="tio:-".concat(d[o],"vw;")),r.push(a),c.itemWidth.push(s[o].val)}return r}),c.list),c};var Ml=S(),Rl="is",Ol="similar",Al={commonGetErrNo:function(e,t){var r=[];return void 0!==e.shortErrNo?r.push("2-".concat(e.shortErrNo)):void 0!==t&&r.push("3-".concat(t)),{textList:e.tagText?[e.tagText]:[],errNo:r.filter(Boolean).join("-")}}},El={client:[{tag:"offline",tagText:"客户端网络异常",tagRules:Rl,shortErrNo:"100100",use:"commonGetErrNo"},{tag:"networkError",tagText:"请求网络异常",tagRules:Rl,shortErrNo:"100100",use:"commonGetErrNo"},{tag:"timeout",tagText:"请求超时",tagRules:Rl,shortErrNo:"100101",use:"commonGetErrNo"},{tag:"unknownnetworkerror",tagText:"未知的网络错误",tagRules:Ol,shortErrNo:"100102",use:"commonGetErrNo",include:[2]},{tag:"netWorkError",tagText:"客户端网络异常",tagRules:Rl,shortErrNo:"100100",use:"commonGetErrNo"}],shopClosed:[{tag:"shopClosed",tagText:"打烊-节点打烊",tagRules:Rl,shortErrNo:"100130",use:"commonGetErrNo"},{tag:"productExpiration",tagText:"打烊-产品过期",tagRules:Rl,shortErrNo:"100131",use:"commonGetErrNo"}],fengTree:[{tag:"fengTree",tagText:"枫树业务错误",tagRules:Rl,use:"commonGetErrNo"}],error:[{tag:"statusError",tagText:"状态码异常",tagRules:Rl,use:"commonGetErrNo"},{tag:"errorCode",tagText:"错误码异常",tagRules:Rl,use:"commonGetErrNo"}]};function Vl(e,t,r){if(El[e]){var n=(El[e]||[]).find((function(e){return(!e.include||-1!==e.include.indexOf(Ml))&&(!e.exclude||-1===e.exclude.indexOf(Ml))&&(e.tagRules===Rl?e.tag===t:e.tagRules===Ol&&String(t).toLowerCase().replace(/\s+/g,"").includes(e.tag))}));return n&&Al[n.use]?Al[n.use](n,r):{textList:[],errNo:""}}return{textList:[],errNo:""}}var Ll=Le("GetRequestErrormodalOptionsModule",(function(){return{ignoreNextUntilNavigateComplete:!1}}));exports.aa=function(){return Ll};var ql="shopClosed",jl=function(e){var t;return(t=e.response?e.response.header:e.originalFailResult?e.originalFailResult.header:e.header)?t.Globalticket||t.globalticket||t["x-apm-trace-id"]:""},Dl=function(e,t,r,n){var o=e.textList,i=void 0===o?[]:o,a=e.errNo,u=void 0===a?"":a,c={};if(r=r||[],t)if(n){var s=jl(t.response);s&&(c.globalTicket=s)}else{var d,f,p,v;"timeout"===t.tag&&(null===(d=t.response)||void 0===d?void 0:d.message)&&r.push(t.response.message),t.url&&(c.url=t.url),t.errmsg&&r.push(t.errmsg),t.response instanceof Error&&t.response.message&&r.push(t.response.message);var m=jl(t.response);m&&(c.globalTicket=m),c.requestBelong=null===(f=t.requestOptions)||void 0===f?void 0:f.belongPageInstanceId,c.requestStartTime=null===(p=t.requestOptions)||void 0===p||null===(v=p.profile)||void 0===v?void 0:v.start,c.requestEndTime=t.requestEndTime}return{tip:u,detail:g(g(g({},c),(null==t?void 0:t.errorModalTipDetail)||{}),{},{textList:[].concat(l(i),l(r)).filter((function(e){return!!e}))})}},_l=function(e,t){return e&&t?-1===e.indexOf("?")?e+"?"+t:e+"&"+t:e},Nl="ERROR",$l={status:[{tag:"offline",match:function(){return!1},use:"notFireRequest",scope:["h5","mp"],limit:"resPonseError",reportLevel:"INFO"},{tag:"networkError",match:function(e){return e instanceof Error&&e.message.includes("Network Error")},use:"notFireRequest",scope:["h5"],limit:"resPonseError",reportLevel:"INFO"},{tag:"timeout",match:function(e){return e instanceof Error&&(e.message.includes("timeout")||e.message.includes("超时"))},use:"notFireRequest",scope:["h5","mp"],limit:"resPonseError",reportLevel:Nl},{tag:"netWorkError",match:function(e){return e instanceof Error&&e.message.includes("request:fail")},use:"notFireRequest",scope:["h5","mp"],limit:"resPonseError",reportLevel:Nl},{tag:"statusError",match:function(e,t,r,n,o){var i,a;if(200!==r)return o.errorModalTipDetail=g(g({},o.errorModalTipDetail||{}),{},{statusCause:"status"}),!0;var u=o.data;return u&&B(u)&&1429===(null===(i=u.code)||void 0===i?void 0:i.errcode)&&null!==(a=u.code)&&void 0!==a&&a.errmsg?(o.errorModalTipDetail=g(g(g({},o.errorModalTipDetail||{}),u.code),{},{statusCause:"status-waf-limit"}),o.status=403,!0):!(!u||"string"!=typeof u||!u.includes("flow limiting"))&&(o.errorModalTipDetail=g(g({},o.errorModalTipDetail||{}),{},{errmsg:u,statusCause:"status-request-limit"}),o.status=403,!0)},use:"statusError",scope:["h5","mp"],reportLevel:Nl},{tag:"errorCodeForShopCloses",match:function(e,t,r,n){return"1057"===n},use:"errorCodeForShopCloses",toAllRequest:!0,scope:["h5","mp"],reportLevel:"WARN"},{tag:"fengTree",match:function(e,t,r,n){var o;return["10000010001","10000010002","10000010003","10000010010","10000010011"].includes(n||"")&&(null==t||null===(o=t.header)||void 0===o?void 0:o.fengtreeversion)},use:"errorCodeForFengTree",toAllRequest:!0,scope:["mp"],reportLevel:Nl},{tag:"errorCode",match:function(e,t,r,n,o){return(!B(o.data)||"1041"!==o.data.code&&"1041"!==n||!e.data.message)&&"0"!==n},use:"errorCode",scope:["h5","mp"],reportLevel:Nl}],methods:{notFireRequest:function(e){return g({code:"offNetwork",tag:e.tag},Dl(Vl("client",e.tag),e))},statusError:function(e){return g({code:"hot",tag:e.tag},Dl(Vl("error",e.tag,String(e.status||"")),e))},errorCode:function(e){return g({code:"error"},Dl(Vl("error",e.tag,e.errorCodeStr),e))},errorCodeForShopCloses:function(e){var t,r=e.response,n=e.adapterOptions,o=(null==r||null===(t=r.data)||void 0===t?void 0:t.data)||{},i=o.closeStatus,a=o.toUrl,u=o.vidName,c=o.vidType,s=o.vid,l=o.btnShow,d=o.btnValue,f=o.redirectUrl,p=o.closeCause,v={1:"集团",2:"品牌",3:"区域",5:"商场",10:"门店",100:"自提点"}[c||10],m=Dl(Vl(ql,"shopClosed",e.errorCodeStr),e,[p],!0),h=g({img:"closed",textList:["抱歉,".concat(u||"店铺","已打烊")]},m),y="errorModalOptions=".concat(encodeURIComponent(JSON.stringify(h)),"&wholeCountry=true"),P=function(t){return"h5"===e.adapterOptions.env&&t?(e.adapterOptions.navigateTo("=".concat(a)),!1):t};if(0===i)return P(g({img:"closed",textList:["抱歉,"+(u||"店铺")+"已打烊"],actions:[]},m));if(2===i)return e.adapterOptions.isDesignIndexPage()?P(g({img:"closed",textList:["产品已过期"]},Dl(Vl(ql,"productExpiration",e.errorCodeStr),e,[p]))):(e.adapterOptions.getHomePage().then((function(t){var r;"h5"!==e.adapterOptions.env?(Ll.ignoreNextUntilNavigateComplete=!0,null===(r=e.adapterOptions)||void 0===r||r.safeExecNativeApi("redirectTo",[{url:t,success:function(){e.adapterOptions.toast({content:"产品已过期，自动前往首页",duration:2e3})}}])):(e.adapterOptions.toast({content:"产品已过期，自动前往首页",zIndex:1000010,duration:2e3}),b.setTimeout((function(){e.adapterOptions.navigateTo("=".concat(t))}),2e3))})),!1);if(3===i){var I="?vid=".concat(s,"&vidType=").concat(c);if(l){var S=d||f||"/cms_vidlist/index".concat(I);return"h5"===e.adapterOptions.env?(e.adapterOptions.navigateTo("=".concat(_l(S,y))),!1):(Ll.ignoreNextUntilNavigateComplete=!0,null==n||n.safeExecNativeApi("redirectTo",[{url:_l(S,y)}]),!1)}return P(g({img:"closed",textList:["抱歉,"+(u||"店铺")+"已打烊"],actions:[]},m))}return 4===i?P(g({img:"closed",textList:["抱歉,"+(u||"店铺")+"已打烊"],actions:[]},m)):5===i?"h5"===e.adapterOptions.env?(e.adapterOptions.toast({content:"当前".concat(v,"已打烊，自动前往商场首页"),duration:2e3,zIndex:1000010}),b.setTimeout((function(){e.adapterOptions.navigateTo("=".concat(_l(f,y)))}),2e3),!1):(Ll.ignoreNextUntilNavigateComplete=!0,null==n||n.safeExecNativeApi("redirectTo",[{url:_l(f,y),success:function(){e.adapterOptions.toast({content:"当前".concat(v,"已打烊，自动前往商场首页"),duration:2e3})}}]),!1):P(g({img:"closed",textList:["抱歉,"+(u||"店铺")+"已打烊"],actions:[]},m))},errorCodeForFengTree:function(e){return g({code:"error",actions:["reload"]},Dl(Vl("fengTree",e.tag,e.errorCodeStr),e))}}},Bl=function(e,t){$l.status.forEach((function(t){t.match=e[t.tag]||t.match}));var r={firstErrorList:null,secondErrorList:null,otherErrorList:null},o=function(){var e=(0,P.babel_coroutine)(n().mark((function e(r){var o,i,a,u,c,s,l,d,f,p,g,m,h,y,b,P,I,S,x,w,T;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.configStatusList,i=r.originalResponse,a=r.requestOptions,u=r.status,c=r.errCodeStr,s=r.data,l=r.url,d=r.requestEndTime,f=r.errorModalTipDetail,p=void 0===f?{}:f,g=r.level,m="",h="",B(s)&&(m=s.errmsg||"",h=s.data||{}),b={parseData:y={response:i,requestOptions:a,status:u,errorCodeStr:c,errmsg:m,data:s,innerData:h,adapterOptions:t,tag:"",url:l,requestEndTime:d,errorModalTipDetail:p},errorModalOptions:!1},P=v(o),e.prev=6,P.s();case 8:if((I=P.n()).done){e.next=29;break}return S=I.value,y.tag=S.tag,e.next=13,S.match(i,a,u,c,y);case 13:if(!e.sent){e.next=27;break}if(!(x=$l.methods[S.use])){e.next=27;break}if(w=r.ignoreErrCode,["/base/global/getRecommendVidInfo"].some((function(e){return l.includes(e)}))&&(w=w||!0),!w){e.next=23;break}if(!(!0===w||String(w)===c||Array.isArray(w)&&w.some((function(e){return String(e)===c})))||"errorCode"!==S.tag){e.next=23;break}return e.abrupt("break",29);case 23:return T=x(y),B(T)&&(T.reportLevel=S.reportLevel,1===g&&"h5"===t.env&&(T.zIndex=1000010),T.type=1===g||"errorCodeForShopCloses"===y.tag?"mask":"popup"),b={parseData:y,errorModalOptions:T},e.abrupt("break",29);case 27:e.next=8;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(6),P.e(e.t0);case 34:return e.prev=34,P.f(),e.finish(34);case 37:return e.abrupt("return",b);case 38:case"end":return e.stop()}}),e,null,[[6,31,34,37]])})));return function(t){return e.apply(this,arguments)}}();return{ErrorModalData:Ll,addRequestErrorModalOptionsConfig:function(e){e.status&&($l.status=[].concat(l(e.status),l($l.status))),e.methods&&($l.methods=g(g({},e.methods),$l.methods))},getRequestErrorModalOptionsConfig:function(){return $l},getRequestErrorModalOptions:function(e,i){return(0,P.babel_coroutine)(n().mark((function a(){var u,c,s,l,d,f,p,v,g,m,h,y,b,P,I,S,x;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=Date.now(),l=null==e||null===(u=e.data)||void 0===u?void 0:u.errcode,d=void 0!==l?String(l):"",f=i.level,p=i.triggerErrorModal,v=i.url,g=i.ignoreErrCode,!function(e,r,n,o){var i=!1;if("h5"===t.env&&r instanceof Error&&r.abort&&(i=!0),!r||!n||i||!(r instanceof Error)&&"0"===o||Ll.ignoreNextUntilNavigateComplete)return!0}(0,e,p,d)){n.next=3;break}return n.abrupt("return",{});case 3:return m={},L(i.data)&&(m=de(i.data)),h=function(e,t,r){return void 0===e?["/base/global/getRecommendVidInfo"].some((function(e){return r.includes(e)}))?1:t:e}(f,null===(c=m)||void 0===c?void 0:c.$level,v),b=(y=e||{}).status,P=y.data,e instanceof Error&&(I=(null==e?void 0:e.originalFailResult)||(null==e?void 0:e.response)||{},b=I.statusCode||I.status,L(I.data)&&(P=de(I.data)||I.data)),S=[],[1,2].includes(h)?e instanceof Error?(r.firstErrorList||(r.firstErrorList=$l.status.filter((function(e){return e.scope.includes(t.env)}))),S=r.firstErrorList):(r.secondErrorList||(r.secondErrorList=$l.status.filter((function(e){return e.scope.includes(t.env)})).filter((function(e){return"resPonseError"!==e.limit}))),S=r.secondErrorList):(r.otherErrorList||(r.otherErrorList=$l.status.filter((function(e){return e.toAllRequest})).filter((function(e){return e.scope.includes(t.env)}))),S=r.otherErrorList),n.next=12,o({configStatusList:S,originalResponse:e,requestOptions:i,status:b,errCodeStr:d,data:P,url:v,ignoreErrCode:g,requestEndTime:s,errorModalTipDetail:{},level:h});case 12:return x=n.sent,n.abrupt("return",x);case 14:case"end":return n.stop()}}),a)})))()}}}({offline:function(){return new b.Promise((function(e){It("getNetworkType",[{success:function(t){"none"===t.networkType?e(!0):e(!1)},fail:function(){e(!1)}}],(function(){e(!1)}))}))}},{env:"mp",safeExecNativeApi:It,toast:su,getPageFullPath:function(){return Lr().then((function(e){return ur(e)}))},isDesignIndexPage:function(){return-1!==ar(Er()).indexOf("/cms_design/index")},getHomePage:function(){return b.Promise.resolve("/cms_design/index")}}),Ul=Bl.getRequestErrorModalOptions,Fl=Bl.ErrorModalData;zt("onLoad",(function(){Fl.ignoreNextUntilNavigateComplete=!1})),exports.bu=function(e){return function(){var t=(0,P.babel_coroutine)(n().mark((function t(r,o,i,a){var u,c,s,l,d;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ul(a,r);case 3:u=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),Vt.log("ErrorModal获取错误遮罩options失败:".concat(t.t0.message),"RequestPluginErrorModal"),t.abrupt("return");case 10:if(s=(c=u||{}).parseData,l=c.errorModalOptions,d=function(){var t=g(g({url:r.url,level:"1057"===(null==s?void 0:s.errorCodeStr)?99:5},l),B(r.triggerErrorModal)?r.triggerErrorModal:{});Vt.log("ErrorModal:".concat(r.url,",").concat(t.code,",").concat(null==s?void 0:s.errorCodeStr),"RequestPluginErrorModal"),e(t)},!l){t.next=16;break}if(r.belongPageInstanceId){t.next=15;break}return d(),t.abrupt("return");case 15:Lr().then((function(e){e&&3!==Pr(r.belongPageInstanceId)&&fr(e)===r.belongPageInstanceId&&d()}));case 16:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r,n,o){return t.apply(this,arguments)}}()};var Wl=Le("WMRecommendInfoForLive"),Hl=function(e){var t=Wl[e];return!!t&&(!(t.timeout&&Date.now()>t.created+t.timeout)||(Gl(e),!1))},zl=function(e){var t;return Hl(e)?null===(t=Wl[e])||void 0===t?void 0:t.data:null},Kl=function(e,t,r){return Wl[e]={created:Date.now(),timeout:r,data:t},Wl[e].data},Gl=function(e){"string"==typeof e&&delete Wl[e],"function"==typeof e&&Object.keys(Wl).forEach((function(t){e(t)&&delete Wl[t]}))},Ql=function(e,t,r){return e?Object.keys(e).filter((function(e){var n=!t||-1!==t.indexOf(e),o=!r||-1===r.indexOf(e);return n&&o})).map((function(t){return e[t]})).join("_"):"_"},Jl=function(e){return"VidInfoRequestKey-".concat(Ql(null==e?void 0:e.basicInfo,["merchantId","bosId","cid","vid","productId","productInstanceId","productVersionId"]),"-").concat(Ql(null==e?void 0:e.queryParameter,void 0,["url","vid"]),"-").concat(Ql(null==e?void 0:e.tempKeys))},Yl=function(e){return"null"===e||"undefined"===e||null==e?"":String(e)},Xl=function(e){if(e&&"jumpCodes"in e){var t=(null==e?void 0:e.jumpCodes)||[];return-1!==t.indexOf("1")||-1!==t.indexOf(1)}return null==e?void 0:e.needLocation},Zl=function(e,t,r){e=e||new Error("未知错误，错误码：S3"),Vt.error({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店失败（".concat(e.message,"），耗时：").concat(((Date.now()-r)/1e3).toFixed(1),"s"),group:Jl(t),body:[e,t]})},ed=function(e,t,r){var n,o=Jl(t);Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店成功，耗时：".concat(((Date.now()-r)/1e3).toFixed(1),"s"),group:o,body:[e,t]}),Fe("VID_READY",[le(e),o,t]);var i=null===(n=Nr())||void 0===n?void 0:n.extKey;return Kl("LastVidInfoResult",g(g({},e),{},{extKey:i})),e},td=function(e,t){var r=Jl(e),n=zl(r);return n?(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"当前入参已处理进店请求，返回该请求的Promise",group:r,body:e}),n):(n=od(e,t).then((function(e){return e.error&&Gl(r),e})),Kl(r,n),Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"开始发送进店请求",group:r,body:e}),n)},rd=function(e,t){var r;return function(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];r&&b.clearTimeout(r),r=b.setTimeout((function(){return e.apply(t,o)}),100)}}(tc),nd=function(e){var t=Er();if(!t||null!=t&&t.$cmsNotRecommendVid)return Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"页面销毁或配置无需进店，已跳过"}),b.Promise.resolve(void 0);var r=Date.now();return function(e){var t,r=zl("LastVidInfoResult"),n=(null==r?void 0:r.pvidInfo)||(null==r?void 0:r.gvidInfo),o=Nr(),i=(null==e?void 0:e.basicInfo)||{},a=null==o||null===(t=o.form)||void 0===t?void 0:t.basicInfo,u=i.bosId||(null==a?void 0:a.bosId),c=!!n&&!!u&&(null==n?void 0:n.bosId)!==u,s=!!r&&r.extKey!==(null==o?void 0:o.extKey);return!c&&!s}(e)||(Gl("LastVidInfoResult"),Gl((function(e){return 0===e.indexOf("VidInfoRequestKey")})),Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店缓存结果不匹配，已重置",body:e})),function(e){return new b.Promise((function(t){var r,n=Le("VidRequestBeforeHooksStore");null!==(r=n.hooks)&&void 0!==r&&r.length?b.Promise.all(n.hooks.map((function(t){return X(t({requestData:e,currentPage:Er()}))}))).then((function(){return t(e)})):t(e)}))}(function(e){var t,r,n,o,i,a=zl("LastVidInfoResult"),u=(null==a?void 0:a.pvidInfo)||(null==a?void 0:a.gvidInfo),c=(null==e?void 0:e.basicInfo)||{},s=(null==e?void 0:e.queryParameter)||{},l=Nr(),d=null==l||null===(t=l.form)||void 0===t?void 0:t.basicInfo,f=null==l?void 0:l.queryParameter,p=Er(),v=(null==p?void 0:p.options)||{},m=c.bosId||(null==d?void 0:d.bosId),h=Number(Yl(v.vid)||Yl(v.bizVid)),y=Number(Yl(c.vid)||Yl(null==u?void 0:u.vid))||Yl(null==d?void 0:d.vid)||0,b=h||y,P=Number(c.productId||(null==d?void 0:d.productId)),I=Number(c.productInstanceId||Yl(null==v?void 0:v.productInstanceId))||void 0,S=String(c.productVersionId||Yl(null==v?void 0:v.productVersionId))||void 0,x=!!u&&(null==u?void 0:u.vid)!==b,w={appid:$r(),basicInfo:{merchantId:null!==(r=c.merchantId)&&void 0!==r?r:null==d?void 0:d.merchantId,cid:null!==(n=c.cid)&&void 0!==n?n:null==d?void 0:d.cid,bosId:m,vid:y,productId:P,vidType:null!==(o=c.vidType)&&void 0!==o?o:null==d?void 0:d.vidType,productInstanceId:I,productVersionId:S,tcode:c.tcode||ea()},queryParameter:{whichCall:1,operationSource:4,needGvid:!u||x,url:null!==(i=s.url)&&void 0!==i?i:ur(p),vid:h,version:"v2"},tempKeys:{matchVid:b},extendInfo:{}};return u&&(w.basicInfo=g({},u)),w.basicInfo.productInstanceId||delete w.basicInfo.productInstanceId,(null==f?void 0:f.activityId)&&(null==f?void 0:f.activityType)&&(null==f?void 0:f.goodsId)&&(w.queryParameter.url+="&activityId=".concat(f.activityId,"&activityType=").concat(f.activityType,"&goodsId=").concat(f.goodsId)),w}(e)).then((function(e){var t=Jl(e);return Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店请求前置钩子执行完毕。",group:t,body:e}),td(e).then((function(r){return!r.error&&Xl(r.result)?(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店需要定位信息，将在请求定位后重新发送进店请求。",group:t,body:[r,e]}),function(){var e="LastValidLocation",t=zl(e);return t||(t=Za().catch((function(t){return Gl(e),t})),Kl(e,t,1e4)),t}().catch((function(e){return b.Promise.resolve(e)})).then((function(n){return!n||n instanceof Error?(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店定位失败（".concat((null==n?void 0:n.message)||"未知错误","）"),group:t,body:[n,r,e]}),r.locationFail=!0,r):(e.queryParameter.longitude=n.longitude,e.queryParameter.latitude=n.latitude,e.queryParameter.whichCall++,td(e,{globalticket:r.globalTicket,parentRpcId:"0.".concat(e.queryParameter.whichCall)}))}))):r})).then((function(t){var n,o=Jl(e),i="VidResult-"+o;if(Hl(i)?n=zl(i):(n=function(e,t,r,n){if(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进入进店最终判断阶段。",group:t,body:[e,r]}),e.error)return Zl(e.error,r,n);var o=e.result;return function(e,t){B(e)&&(B(e.gvidInfo)&&(e.gvidInfo.globalTicket=t),B(e.pvidInfo)&&(e.pvidInfo.globalTicket=t),e.globalTicket=t)}(o,e.globalTicket),e.locationFail?o.redirectUrl?(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店定位失败，需要重定向！",group:t,body:[e,r]}),{redirectUrl:o.redirectUrl,stopProcess:!0}):o.pvidInfo||o.gvidInfo?ed(o,r,n):Zl(new Error("进店发生未知错误，错误码：S1"),r,n):!Xl(e.result)&&o.redirectUrl?(Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"进店无需定位，需要重定向！",group:t,body:[e,r]}),{redirectUrl:o.redirectUrl,stopProcess:!0}):o.pvidInfo||o.gvidInfo?ed(o,r,n):Zl(new Error("进店发生未知错误，错误码：S2"),r,n)}(t,o,e,r),Kl(i,n,500)),!n.stopProcess||!n.redirectUrl){if(n){var a={bosId:e.basicInfo.bosId,vid:n.pvid},u=zl("lastVidsuccessRecord");u&&u.bosId===a.bosId&&u.vid===a.vid||Kl("lastVidsuccessRecord",a)}return n}rd({mode:"redirect",url:n.redirectUrl}),Kl(o,zl(o),500)}))}))},od=function(e,t){var r,n=0;if(e||(n=1),e.basicInfo?e.basicInfo.bosId&&e.basicInfo.productId&&e.basicInfo.cid||(n=0,e.basicInfo.bosId||(n+=10),e.basicInfo.productId||(n+=11),e.basicInfo.cid||(n+=12)):n=2,n)return b.Promise.resolve({error:new Error("产品信息获取失败，错误码：".concat(n))});var o=zi,i=Jl(e);return Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"发送进店请求",group:i,body:e}),ya({method:"POST",url:o,header:g({"Content-Type":"application/json"},t||{}),data:e,weimobOS:!1,onAdapterComplete:function(e,t){e||(r=t)}}).then((function(t){var n;Vt.debug({scope:"Wos-cEndTripartiteLiveAdapter",desc:"发送进店请求完毕（ticket:".concat((null==t||null===(n=t.data)||void 0===n?void 0:n.globalTicket)||"","）"),group:i,body:[e,t]});var a,u=Zi(r||t,o);B(u.result)&&B(u.result.settingInfoResponse)&&(u.result.settingInfoResponse.colorScheme=u.result.settingInfoResponse.colorSchemeVo,(null===(a=u.response)||void 0===a?void 0:a.settingInfoResponse)&&(u.response.data.settingInfoResponse.colorScheme=u.response.data.settingInfoResponse.colorSchemeVo));return u})).catch((function(e){return b.Promise.resolve({error:e})}))},id=function(e){return nd(e)},ad=function(){return zl("LastVidInfoResult")||void 0};exports.bE=Object.freeze({__proto__:null,addRequestBeforeHook:function(e){if(_(e)){var t=Le("VidRequestBeforeHooksStore");t.hooks||(t.hooks=[]),-1===t.hooks.indexOf(e)&&t.hooks.push(e)}},getCurrentWOSCoreInfo:function(e){return id(e).then((function(e){return Ko(e).core}))},getCurrentWOSCoreInfoSync:function(){return Ko(ad()).core},getCurrentWOSSettingInfo:function(e){return Oc(e)},getCurrentWOSSettingInfoSync:function(e){return Ac(e)},getFullVidInfo:id,getFullVidInfoSync:ad,getValidPreVidInfo:function(){return b.Promise.reject(new Error("直播渠道暂不支持getValidPreVidInfo方法"))},init:function(){}}),exports.a9=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!e)return su("请设置复制文案");Ct("setClipboardData",{data:e}).then((function(){var e=r.filter((function(e){return!!e})).join("\r\n");e&&(Ct("hideToast"),su({content:e,duration:3e3}))})).catch((function(e){return su(112===(null==e?void 0:e.errno)?"未配置剪切板指引，勿复制功能":"复制失败"),b.Promise.reject(e)}))},exports.aB=function(){ya({method:"POST",url:"/cms/service/organ/getOrgInfoDetail",weimobOS:!0}).then((function(e){var t=e.status,r=e.data;if(200===t&&0===parseInt(r.errcode)){var n=r.data.telephone;n?ud(n):su("未查询到系统号码")}else su("获取系统号码失败")})).catch((function(){su("获取系统号码失败")}))};var ud=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length;0===n?su("未设置联系号码"):1===n?sd(t[0]):cd(t)};exports.aC=ud;var cd=function(e){Ct("showActionSheet",{items:e,itemList:e}).then((function(t){var r=t.tapIndex;-1!==r&&sd(e[r])}))},sd=function(e){Ct("makePhoneCall",{number:e,phoneNumber:e}).catch((function(e){var t,r,n=null!==(t=null==e||null===(r=e.originalFailResult)||void 0===r?void 0:r.errMsg)&&void 0!==t?t:"拨打电话失败";n.indexOf("cancel")||su(n)}))};global.ec(y);
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/mod.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","cms_sdk",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_sdk/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var e=global.bc("platform","cms_sdk"),n=require("./titan-scoped-env.js");n.global.wmsdk_start_ts=n.global.wmsdk_start_ts||Date.now();var t=function(){return{onLoad:function(){}}},i=require("./injection.js").ViewLifeTitanInjection;n.titan.definePageInjection("viewLifeTitanInjection",i),n.titan.definePageInjection("tracePromotionPageInjection",t);var a=["cms_sdk:viewLifeTitanInjection","cms_sdk:tracePromotionPageInjection"];n.titan.definePageInjection("vidPageInjection",t),n.titan.definePageInjection("pmcPageInjection",t),a.push("cms_sdk:vidPageInjection"),a.push("cms_sdk:pmcPageInjection"),n.titan.setPageInjections(a,!0,1),global.ec(e),global.beginDefineBootstrap=!1,global.emr("cms_sdk"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'cms_sdk/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/EXTS/cms/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../../../@titan/env.js").createModuleEnv("platform","cms",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/EXTS/cms/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=global.bc("package","cms_webview");module.exports={weiKfList:[/\d+\.im\.n(\.saas)?\.weimob(qa)?\.com/gi],marketingList:[/promotion\/(groupon|bargain)\/\d+\/\d+\/(mine|product|result)/],noTranslateOriginList:[/\/saas\/payment/,/^https:\/\/show\.n\./,/^https:\/\/n\./]},global.ec(a);
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("package","cms_webview",(function(e){return null}));
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./EXTS/cms/titan-scoped-env.js"),global.beginDefineBootstrap=!0;var e=global.bc("package","cms_webview"),a=require("./titan-scoped-env.js");(0,a.requirePlatform("cms").main.setCMSCommonRPRMParams)(a.titan.getCurrentModuleInfo()),global.ec(e),global.beginDefineBootstrap=!1,global.emr("cms_webview"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/RAW/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=require("../../@babel/runtime/helpers/toArray"),t=require("../../@babel/runtime/helpers/typeof"),n=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=require("../../@babel/runtime/helpers/regeneratorRuntime"),i=require("../../@babel/runtime/helpers/slicedToArray"),o=require("../../@babel/runtime/helpers/objectSpread2"),u=global.bc("package","cms_webview"),s=require("./titan-scoped-env.js"),c=require("../../@titan/env.js"),a=require("./config");function l(){var e=s.wx.getExtConfigSync()||{form:{}},t=o({},e);return e&&e.extConfig&&(t=e.extConfig),t.form||(t.form={}),t}function f(){return(f=(0,c.babel_coroutine)(r().mark((function e(t,n){var o,u,s,c,a,l,f,p,m,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==n||null===(o=n.getCurrentWOSSettingInfo)||void 0===o?void 0:o.call(n,"tenantConfig").catch((function(){return""}));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return u=e.t0,s=null==t?void 0:t.split("?"),c=i(s,1),a=c[0],l=u.h5Domain,f=!1,p=!1,a&&l&&"string"==typeof l&&(a.includes(l)?f=!0:(m=0,"",l.split(".").some((function(e,t){if("com"===e||"cn"===e)return!0;m=t})),(h=l.split(".").slice(m).join("."))&&a.includes(h)&&(p=!0))),e.abrupt("return",{isOemLink:f,isMaybeOemLink:f||p,oemHost:u});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}module.exports={channelInfo:function(){return{source:13,PLATFORM:"WEIXIN",authType:"微信",websource:"weapp_weimob_openid"}},getUrlParams:function(e){if(-1===e.indexOf("?"))return{};var t,r=e.slice(e.indexOf("?")+1).split("&"),i={},o=n(r);try{for(o.s();!(t=o.n()).done;){var u=t.value;if(""!==u){var s=u.split("=")[0],c=u.slice(s.length+1);-1===u.indexOf("=")?i[s]=void 0:i[s]=c}}}catch(e){o.e(e)}finally{o.f()}return i},getFormatValueParams:function(e){return Object.keys(e).forEach((function(t){/(\{.*\}|\[.*\])/.test(e[t])&&(e[t]=encodeURIComponent(e[t])),/(\%)[0-9A-Za-z]{2}(\%)/.test(e[t])&&"search"==t&&(e[t]=decodeURIComponent(e[t])),/(\%)[0-9A-Za-z]{4}(\%)/.test(e[t])&&"search"==t&&(e[t]=decodeURIComponent(decodeURIComponent(e[t])))})),e},getUrlParamsStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=t(e)||null===e)return"";var n=Object.keys(e);return n.length?n.map((function(t){return void 0===e[t]?t:"".concat(t,"=").concat(e[t])})).join("&"):""},getExtConfig:l,envByExt:function(){return l().form.env||"prod"},checkOemLink:function(e,t){return f.apply(this,arguments)},hostToFusion:function(t,n,r){if(!t)return"";var o=(t=(t=t.replace(/http:/,"https:")).replace(/:80/,"")).split("?"),u=i(o,1)[0];if(u.includes("https://fusion"))return t;if(!r.h5Domain)return t;if(!a.noTranslateOriginList.some((function(e){return e.test(u)}))){var s=n.weiKf||a.weiKfList.some((function(e){return e.test(u)})),c=t.split("/bos/"),l=e(c),f=(l[0],l.slice(1));t="https://fusion."+r.h5Domain+(s?"/saas/im/".concat(n.pid||""):"/bos/"+f.join("/bos/"))}return a.marketingList.some((function(e){return e.test(t)}))&&(t=t.replace(/&?websource=[^&]+/i,""),n.xlivetoken=n.token,t=[u,n].join("?")),t},listItemInUrl:function(e,t){return e.some((function(e){return t.includes(e)}))},getDecodeUrl:function e(t){var n="";if(/^http[s]?:\/\//i.test(t))return t;try{n=decodeURIComponent(t)}catch(e){n=t}return/^http[s]?:\/\//i.test(n)||n==t?n:e(n)},fillSlashToPath:function(e){return e?"/"===e.charAt(0)?e:"/".concat(e):e}},global.ec(u);
},{isPage:false,isComponent:false,currentFile:'cms_webview/RAW/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("cms_webview/titan-preload-module.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./RAW/titan.bootstrap"),console.log("[titan:core]","cms_webview模块加载成功"),module.exports={};
},{isPage:false,isComponent:false,currentFile:'cms_webview/titan-preload-module.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/config/pagename.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.pagenameMap=void 0,exports.pagenameMap={"ec_shop/presetHome":"ec-shop-presetHome ","ec_shop/classify":"ec-shop-classify","ec_shop/goods":"ec-goods-list","ec_shop/pointGoods":"ec-point-goods-list","ec_cart/index":"ec-cart","ec_goods/detail":"ec-goods-detail","ec_goodsAbout/commentCreate":"ec-goods-commentCreate","ec_goodsAbout/commentSuccess":"ec-goods-commentSuccess","ec_goodsAbout/commentList":"ec-goods-commentList","ec_goodsAbout/commentMine":"ec-goods-commentMine","ec_goodsAbout/poster":"ec-goods-poster","ec_goodsAbout/noDetail":"ec-goods-noDetail","ec_goodsAbout/join":"ec-goods-join","ec_order/goodsPlugin":"ec-order-goods-plugin","ec_order/order__create":"ec-order-create","ec_order/screen_parse":"ec-order-screen-parse","ec_order/invoice":"ec-order-invoice","ec_user/mention__list":"ec-order-mentionList","ec_user/address__list":"ec-order-addressList","ec_user/address__edit":"ec-order-addressEdit","ec_user/idcardedit":"ec-user-idcardedit","ec_user/invoice__list":"ec-order-invoice-list","ec_user/invoice__detail":"ec-order-invoice__detail","ec_user/consume":"ec-order-consume","ec_scan_shopping/entry_index":"ec-scan-shopping-entry","ec_scan_shopping/scan_cart_order":"ec-scan-shopping-order","ec_scan_shopping/outlet_code":"ec-scan-shopping-outletcode","ec_user/collect":"ec-user-collect","ec_orderDetail/detail":"ec-orderDetail-detail","ec_orderDetail/paidstatus":"ec-orderDetail-paidstatus","ec_orderDetail/userInquiry":"ec-orderDetail-userInquiry","ec_orderDetail/orderlist":"ec-orderDetail-orderlist","ec_orderDetail/orderSearch":"ec-orderDetail-orderSearch","ec_orderDetail/insurance":"ec-orderDetail-insurance","ec_orderDetail/insuranceForm":"ec-orderDetail-insuranceForm","ec_orderDetail/userInquiryList":"ec-orderDetail-userInquiry-list","ec_orderDetail/logistics":"ec-orderDetail-logistics","ec_orderDetail/logisticsCycle":"ec-orderDetail-logisticsCycle","ec_orderDetail/extarinfo":"ec-orderDetail-extrainfo","ec_market/index":"ec-fulldiscount-home","ec_exchange/index":"ec-exchange-index","ec_exchange/price":"ec-privilege-price","ec_groupon/index":"ec-groupon-index","ec_groupon/mine":"ec-groupon-mine","ec_groupon/result":"ec-groupon-result","ec_orderDetail/indexRights":"ec-orderDetail-indexRights","ec_combination/index":"ec-gucombination-home","ec_combination/all/index":"ec-gucombination-all","ec_store/store__list":"ec-store-list","ec_store/store__service":"ec-store-service","ec_store/store__reachstore":"ec-store-reachstore","ec_store/store__scanbuy":"ec-store-scanbuy","ec_store/sale_point__detail":"ec-store-sale-point-detail","ec_store/sale_point__list":"ec-store-sale-point-list","ec_store/sale_point__evaluatelist":"ec-store-sale-point-evaluatelist","ec_store/sale_point__evaluteedit":"ec-store-sale-point-evaluteedit","ec_store/sale_point__virtualgoodslist":"ec-store-sale-point-virtualgoodslist","ec_buyShow/detail":"ec-buyShow-detail","ec_article/detail":"ec-article-detail","ec_article/list":"ec-article-list","ec_article/ugcMyArticles":"ec-article-mylist","ec_article/ugcDetail":"ec-article-mydetail","ec_article/ugcPublish":"ec-article-edit","ec_buyShow/list":"ec-buyShow-list","ec_orderDetail/payByOthers":"ec-orderDetail-payByOthers","ec_buyShow/publish":"ec-buyShow-publish","ec_posterResult/index":"ec-posterResult-index","ec_posterResult/multiCommodity":"ec-multiCommodity-index","ec_posterResult/posterShare":"ec-multiCommodity-posterShare","ec_fissionBuyIn/myMustBuyCode":"ec-mustbuycode-home","ec_fissionBuyIn/mustBuyCode":"ec-mustbuycodecoupongoods-home","ec_market/lottery":"ec-market-lottery","ec_market/cpsCoupon":"ec-market-cps-coupon","ec_fissionBuyIn/index":"ec-fissionshopping-home","ec_store/sale_point__nearlist":"ec-store-sale-point-nearlist","ec_orderDetail/createRights":"ec-orderDetail-createRights","ec_orderDetail/mentioncertificate":"ec-orderDetail-mentioncertificate","ec_orderDetail/mentioncertificateCycle":"ec-orderDetail-mentioncertificateCycle","ec_orderDetail/editlogistical":"ec-orderDetail-editlogistical","ec_orderDetail/editaccount":"ec-orderDetail-editaccount","ec_orderDetail/detailRights":"ec-orderDetail-detailRights","ec_orderDetail/applyrefund":"ec-orderDetail-applyrefund","ec_orderDetail/applyexchange":"ec-orderDetail-applyexchange","ec_orderDetail/applyexchangetime":"ec-orderDetail-exchangetime","ec_orderDetail/orderRelate":"ec-orderDetail-orderRelate","ec_user/order__goods":"ec-order-goods","ec_orderDetail/patchOrderCheck":"ec-orderDetail-patchOrderCheck","ec_orderDetail/exchangeDetail":"ec-orderDetail-exchangeDetail","ec_orderDetail/arbitrateHistory":"ec-orderDetail-arbitrateHistory","ec_twitter/home__index":"ec-twitter-home__index","ec_twitter/home__team":"ec-twitter-home__team","ec_twitter/home__level":"ec-twitter-home__level","ec_twitter/home__teamlist":"ec-twitter-home__teamlist","ec_twitter/home__teamedit":"ec-twitter-home__teamedit","ec_twitter/account__setup":"ec-twitter-account__setup","ec_twitter/account__squareapply":"ec-twitter-account__squareapply","ec_twitter/account__detail":"ec-twitter-account__detail","ec_twitter/account__detailpoints":"ec-twitter-account__detailpoints","ec_twitter/account__bill":"ec-twitter-account__bill","ec_twitter/account__withdraw":"ec-twitter-account__withdraw","ec_twitter/account__operationTips":"ec-twitter-account__operationTips","ec_twitter/promotion__poster":"ec-twitter-promotion__poster","ec_twitter/promotion__goodslist":"ec-twitter-promotion__goodslist","ec_twitter/promotion__material":"ec-twitter-promotion__material","ec_twitter/sysfun__apply":"ec-twitter-sysfun__apply","ec_twitter/sysfun__applystatus":"ec-twitter-sysfun__applystatus","ec_twitter/data__index":"ec-twitter-data__index","ec_twitter/customer__list":"ec-twitter-customer__list","ec_twitter/order__list":"ec-twitter-order__list","ec_twitter/mine__invited":"ec-twitter-mine__invited","ec_twitter/teamapply__index":"ec-twitter-teamapply__index","ec_twitter/memberManage__index":"ec-twitter-memberManage__index","ec_twitter/inviteMemberList__index":"ec-twitter-inviteMemberList__index","ec_twitter/freeze__index":"ec-twitter-freeze__index","ec_communityGroupon/customer__grouponDetail":"ec-communityGroupon-customer__grouponDetail","ec_guider/authorize":"ec_guider-authorize","ec_guider/myguider":"ec_guider-myguider","ec_guider/guiderlist":"ec_guider-guiderlist","ec_guider/recommend_guider__temp":"ec_guider-recommend-guider-temp","ec_guider/recommend_guider__list":"ec_guider-recommend-guider-list","ec_guider/recommend_guider__info":"ec_guider-recommend-guider-info","ec_quickdeliver/detail":"ec_quickdeliver_detail","ec_quickdeliver/aggregation":"ec_quickdeliver_aggregation","ec_assetWriteOff/index":"ec-assetWriteOff"},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/config/pagename.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/config/version.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=15,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/config/version.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/dotiing/actionReport/AdDataReport.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../@babel/runtime/helpers/classCallCheck"),r=require("../../../../@babel/runtime/helpers/createClass"),i=require("../../../../@babel/runtime/helpers/typeof"),o=global.bc("platform","ec"),a=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.clearStorage=void 0;var n,c,l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var c=a?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(o,n,c):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}(require("./common"));var u="ad_report_key",p="ad_report_already";exports.clearStorage=function(){a.wx.removeStorageSync(u),a.wx.removeStorageSync(p)},exports.default=(n=(0,l.tryCatchDecorator)(),function(e,t,r,i,o){var a={};Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((c=function(){function i(e){var r=this;t(this,i),this.clearSideEffects=function(){r.effectiveActionDataReport&&r.effectiveActionDataReport.clearDelayReport()},e&&(this.traceId=e?e.qz_gdt||e.gdt_vid:void 0),this.init()}return r(i,[{key:"init",value:function(){var t,r;this.traceId?(r=a.wx.getStorageSync(p),t=3,a.wx.setStorageSync(u,t),!r&&a.wx.setStorageSync(p,!0)):t=a.wx.getStorageSync(u);var i=null,o=null;switch(Number(t)){case 3:i={action_type:l.EActionType.CUSTOM,custom_action:"first_level_pageview"},o={action_type:l.EActionType.VIEW_CONTENT},t--;break;case 2:i={action_type:l.EActionType.CUSTOM,custom_action:"second_level_pageview"},o={action_type:l.EActionType.CUSTOM,custom_action:"confirm_second_level_pageview"},t--;break;case 1:i={action_type:l.EActionType.CUSTOM,custom_action:"third_level_pageview"},o={action_type:l.EActionType.CUSTOM,custom_action:"confirm_third_level_pageview"},t--}i&&o&&(a.wx.setStorageSync(u,t),r||(this.onloadActionDataReport=new l.default(i),this.effectiveActionDataReport=new l.default(e(e({},o),{},{time:7e3}))))}}]),i}()).prototype,"init",[n],Object.getOwnPropertyDescriptor(c.prototype,"init"),c.prototype),c),global.ec(o);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/dotiing/actionReport/AdDataReport.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/dotiing/actionReport/CommonEventsDataReport.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/classCallCheck"),t=require("../../../../@babel/runtime/helpers/createClass"),r=require("../../../../@babel/runtime/helpers/typeof"),i=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a,n,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var i=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(i&&i.has(e))return i.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=n?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,i&&i.set(e,a),a}(require("./common"));exports.default=(a=(0,o.tryCatchDecorator)(),function(e,t,r,i,a){var n={};Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null)}((n=function(){function r(t){e(this,r),this.params=t,this.init()}return t(r,[{key:"init",value:function(){if(this.params){var e=this.params,t=e.action_type,r=e.custom_action,i=e.action_param,a={action_type:t};switch(t){case o.EActionType.CLAIM_OFFER:case o.EActionType.ADD_TO_CART:break;case o.EActionType.CUSTOM:a.custom_action="share";break;default:a.custom_action=r,a.action_param=i}new o.default(a)}}}]),r}()).prototype,"init",[a],Object.getOwnPropertyDescriptor(n.prototype,"init"),n.prototype),n),global.ec(i);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/dotiing/actionReport/CommonEventsDataReport.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/dotiing/actionReport/ProductDataReport.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../../@babel/runtime/helpers/classCallCheck"),r=require("../../../../@babel/runtime/helpers/createClass"),i=require("../../../../@babel/runtime/helpers/typeof"),n=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,a,c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return function(e){return e?r:t}(e)}(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(require("./common"));exports.default=(o=(0,c.tryCatchDecorator)(),function(e,t,r,i,n){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((a=function(){function i(){var e=this;t(this,i),this.clearSideEffects=function(){e.effectiveActionDataReport&&e.effectiveActionDataReport.clearDelayReport()},this.init()}return r(i,[{key:"init",value:function(){var t={action_type:c.EActionType.CUSTOM,custom_action:"details_pageview"},r={action_type:c.EActionType.VIEW_CONTENT,action_param:{object:"product"}};this.onloadActionDataReport=new c.default(t),this.effectiveActionDataReport=new c.default(e(e({},r),{},{time:7e3}))}}]),i}()).prototype,"init",[o],Object.getOwnPropertyDescriptor(a.prototype,"init"),a.prototype),a),global.ec(n);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/dotiing/actionReport/ProductDataReport.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/dotiing/actionReport/common.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/classCallCheck"),t=require("../../../../@babel/runtime/helpers/createClass"),r=require("../../../../@babel/runtime/helpers/regeneratorRuntime"),E=global.bc("platform","ec"),a=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.EActionType=void 0,exports.tryCatchDecorator=A;var i,n,o=require("../../../../@titan/env.js"),T=a.requirePlatform("rprm").main.extConfig;function A(){return function(e,t,E){var a=E.value;return E.value=(0,o.babel_coroutine)(r().mark((function e(){var t,E,i,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t=n.length,E=new Array(t),i=0;i<t;i++)E[i]=n[i];return e.next=4,a.apply(this,E);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])}))),E}}exports.EActionType=function(e){return e.CUSTOM="CUSTOM",e.REGISTER="REGISTER",e.VIEW_CONTENT="VIEW_CONTENT",e.CONSULT="CONSULT",e.ADD_TO_CART="ADD_TO_CART",e.PURCHASE="PURCHASE",e.ACTIVATE_APP="ACTIVATE_APP",e.SEARC="SEARC",e.ADD_TO_WISHLIST="ADD_TO_WISHLIST",e.INITIATE_CHECKOUT="INITIATE_CHECKOUT",e.COMPLETE_ORDER="COMPLETE_ORDER",e.DOWNLOAD_APP="DOWNLOAD_APP",e.START_APP="START_APP",e.RATE="RATE",e.PAGE_VIEW="PAGE_VIEW",e.RESERVATION="RESERVATION",e.SHARE="SHARE",e.APPLY="APPLY",e.CLAIM_OFFER="CLAIM_OFFER",e.NAVIGATE="NAVIGATE",e.PRODUCT_RECOMMEND="PRODUCT_RECOMMEND",e.VISIT_STORE="VISIT_STORE",e.TRY_OUT="TRY_OUT",e.DELIVER="DELIVER",e.CONFIRM_EFFECTIVE_LEADS="CONFIRM_EFFECTIVE_LEADS",e.CONFIRM_POTENTIAL_CUSTOMER="CONFIRM_POTENTIAL_CUSTOMER",e.CREATE_ROLE="CREATE_ROLE",e.AUTHORIZE="AUTHORIZE",e.TUTORIAL_FINISH="TUTORIAL_FINISH",e.SCANCODE="SCANCODE",e.ENTER_BACKGROUND="ENTER_BACKGROUND",e.ENTER_FOREGROUND="ENTER_FOREGROUND",e.TICKET="TICKET",e.LOGIN="LOGIN",e.QUEST="QUEST",e.UPDATE_LEVEL="UPDATE_LEVEL",e.CREATE="CREATE",e.PAUSE="PAUSE",e.RESUME="RESUME",e.APP_QUIT="APP_QUIT",e.BIND_ACCOUNT="BIND_ACCOUNT",e.ADD_PAYMENT="ADD_PAYMENT",e.PRE_CREDIT="PRE_CREDIT",e.CREDIT="CREDIT",e.WITHDRAW_DEPOSITS="WITHDRAW_DEPOSITS",e.LANDING_PAGE_CLICK="LANDING_PAGE_CLICK",e.SELECT_COURSE="SELECT_COURSE",e.RE_FUND="RE_FUND",e.PLATFORM_VIEW="PLATFORM_VIEW",e.ONE_DAY_LEAVE="ONE_DAY_LEAVE",e.PRODUCT_VIEW="PRODUCT_VIEW",e.PURCHASE_MEMBER_CARD="PURCHASE_MEMBER_CARD",e.ONLINE_CONSULT="ONLINE_CONSULT",e.MAKE_PHONE_CALL="MAKE_PHONE_CALL",e.AD_CLICK="AD_CLICK",e.AD_IMPRESSION="AD_IMPRESSION",e}({}),exports.default=(i=A(),function(e,t,r,E,a){var i={};Object.keys(E).forEach((function(e){i[e]=E[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,E){return E(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((n=function(){function E(t){var r=this;e(this,E),this.reportData=function(){r.validDelayReport?r.reportDataDelay():r.reportDataImmediate()},this.reportDataImmediate=function(){r.handleReport()},this.reportDataDelay=function(){r.timeout=a.setTimeout((function(){r.handleReport(),r.timeout=void 0}),r.params.time)},this.clearDelayReport=function(){r.timeout&&(a.clearTimeout(r.timeout),r.timeout=void 0)},this.params=t,this.validParams?this.reportData():console.error("数据上报失败，必传参数action_type缺失")}return t(E,[{key:"validParams",get:function(){return Boolean(this.params&&this.params.action_type)}},{key:"validDelayReport",get:function(){return Boolean(this.params.time&&!isNaN(this.params.time)&&this.params.time>0)}},{key:"handleReport",value:function(){var e=this;return(0,o.babel_coroutine)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.wx.fecommon.actionsadd({authorizerAppId:T.form.appid,action:{actionParam:e.params.action_param||{},actionType:e.params.action_type,customAction:e.params.custom_action||""}});case 2:case"end":return t.stop()}}),t)})))()}}]),E}()).prototype,"handleReport",[i],Object.getOwnPropertyDescriptor(n.prototype,"handleReport"),n.prototype),n),global.ec(E);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/dotiing/actionReport/common.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/dotiing/actionReport/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AdDataReport",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"CommonEventsDataReport",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"EActionType",{enumerable:!0,get:function(){return n.EActionType}}),Object.defineProperty(exports,"ProductDataReport",{enumerable:!0,get:function(){return r.default}});var t=u(require("./AdDataReport")),r=u(require("./ProductDataReport")),o=u(require("./CommonEventsDataReport")),n=require("./common");function u(e){return e&&e.__esModule?e:{default:e}}global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/dotiing/actionReport/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/ecStore/couponPopupStore.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s={state:{messageListApiStatus:!0},mutations:{setMessageListApiStatus:function(t){var s=t.state,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.messageListApiStatus=e.messageListApiStatus}},actions:{setMessageListApiStatus:function(t,s){(0,t.commit)("couponPopupStore/setMessageListApiStatus",s)}}};exports.default=s,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/ecStore/couponPopupStore.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/ecStore/diversionStore.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={state:{vid:void 0,headStoreVid:void 0,serviceMode:!1,diversionVid:0},mutations:{setStore:function(e){var t=e.state,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(o).forEach((function(e){t[e]=o[e]}))}},actions:{updateState:function(e,t){(0,e.commit)("diversionStore/setStore",t)}}};exports.default=t,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/ecStore/diversionStore.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/ecStore/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../../../@titan/titan-x.js")),t=l(require("../utils/EMA")),r=l(require("./diversionStore")),n=l(require("./couponPopupStore"));function l(o){return o&&o.__esModule?o:{default:o}}var u={count:1,shopInfoScrollTop:0,EMA:t.default,isIphoneX:!1,safeBottom:0,globalStyle:{},merchantSetting:null,preFetch$:{},shopCartNum:0,pointRule:null},i={setStore:function(o){var e=o.state,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(o){e[o]=t[o]}))},setShopInfoScrollTop:function(o){var e=o.state,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.shopInfoScrollTop=t.scrollTop}},s=new e.default.Store({state:u,actions:{storeAction:function(o,e){(0,o.commit)("setStore",e)},setShopInfoScrollTop:function(o,e){(0,o.commit)("setShopInfoScrollTop",e)}},mutations:i,getters:{evenOrOdd:function(o){return o.count%2==0?"even":"odd"}},modules:{diversionStore:r.default,couponPopupStore:n.default}});exports.default=s,global.ec(o);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/ecStore/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof");require("./titan.bootstrap.js");var t=global.bc("platform","ec"),n=require("./titan-scoped-env.js"),r=d(require("./payment/pay")),o=require("./dotiing/actionReport/index"),i=d(require("./ecStore/index")),a=require("./injections/index"),c=require("./injections/styleInjection"),s=require("./injections/indexNoVid"),u=d(require("./request/request")),l=function(t,n){if(t&&t.__esModule)return t;if(null===t||"object"!=e(t)&&"function"!=typeof t)return{default:t};var r=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(n);if(r&&r.has(t))return r.get(t);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=t[a]}return o.default=t,r&&r.set(t,o),o}(require("./utils/index")),f=require("./config/pagename.js"),p=d(require("./config/version"));function d(e){return e&&e.__esModule?e:{default:e}}var m=n.requirePlatform("cms").main.CMS;n.wx.loadFontFace({global:!0,family:"iconfont-ec",source:'url("https://cdn2.weimob.com/saas/@assets/saas-fe-retail-h5-stc/mall/font/ec/iconfont.ttf?v=4")',success:function(e){}});var y=n.wx.getSystemInfoSync();if(y){var g,j=y.screenHeight-(null===(g=y.safeArea)||void 0===g?void 0:g.bottom)||0;i.default.dispatch("storeAction",{systemInfo:y,isIphoneX:!!j,safeBottom:j})}n.wx.rprm.pubGlobal({source_end:n.titan.getContext().source},"new"),module.exports={CMS:m,utils:l,AdDataReport:o.AdDataReport,ProductDataReport:o.ProductDataReport,CommonEventsDataReport:o.CommonEventsDataReport,EActionType:o.EActionType,ecRequest:u.default,ecStore:i.default,getInjections:a.getInjections,getInjectionNoVid:s.getInjectionNoVid,getEcStatType:s.getEcStatType,Payment:r.default,injections:{ec_base_injection:a.ec_base_injection,ec_share_injection:a.ec_share_injection},useMerchantStyleInfo:c.useMerchantStyleInfo,pagenameMap:f.pagenameMap,codeVersion:p.default},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/injections/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../@babel/runtime/helpers/slicedToArray"),t=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/regeneratorRuntime"),n=global.bc("platform","ec"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInjections=exports.ec_share_injection=exports.ec_base_injection=void 0;var o,a=require("../../../@titan/env.js"),u=require("../config/pagename.js"),s=(o=require("../ecStore/index"))&&o.__esModule?o:{default:o},c=require("../utils/share"),p=require("./twitterRelation.js"),d=i.requirePlatform("cms").main.CMS,l=3443142421,f=1392629011,m=7300474800,v=function(e){if(/^\/?(ec_twitter|ec_communityGroupon)/.test(e.route)){if(i.wx.rprm.statType===f)return;i.wx.rprm.pub({statType:f},"new")}else if(/^\/?ec_article/.test(e.route)){if(i.wx.rprm.statType===m)return;i.wx.rprm.pub({statType:m},"new")}else{if(i.wx.rprm.statType===l)return;i.wx.rprm.pub({statType:l},"new")}},b=exports.ec_share_injection=i.titan.definePageInjection("ec_share",(function(e){return{onShareTimeline:c.onShareTimeline,onShareAppMessage:c.onShareAppMessage}})),w={base:exports.ec_base_injection=i.titan.definePageInjection("ec_injection",(function(e){return{onLoad:function(t){var n=this;return(0,a.babel_coroutine)(r().mark((function o(){var a,c,l,f,m,b,w,h,x,_,g,y;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u.pagenameMap[n.route]&&(n.pagename=u.pagenameMap[n.route]),r.next=3,d.getFullVidInfo().catch((function(){return{}}));case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:if(c=r.t0,l=c.pvidInfo,f=c.guide,b=(m=void 0===f?{}:f).isGuideMode,w=m.guideVid,h=c.pointRule,x=c.settingInfoResponse,n.$cmsNotRecommendVid||l){r.next=16;break}return r.abrupt("return",e.skipFollowingInjections());case 16:if(i.wx.rprm.pub({product_id:null===(a=i.titan.getCurrentContext())||void 0===a?void 0:a.pro_id},"new"),t.qwzsKey&&i.wx.rprm.pub({qwzsKey:t.qwzsKey},"new"),l&&(_=l.vid,g=l.vidType,y=l.productInstanceId,i.wx.rprm.pub({vid:_,vid_type:g,product_instance_id:y},"new")),s.default.dispatch("diversionStore/updateState",{vid:l.vid,headStoreVid:w,serviceMode:b}),s.default.dispatch("storeAction",{globalStyle:x,merchantSetting:x,pointRule:h}),v(n),r.t1=/(ec_twitter\/|ec_communityGroupon\/twitter\_\_(?!mainGrouponPromotion))/.test(n.route),!r.t1){r.next=26;break}return r.next=26,(0,p.twitterRelation)(n,e);case 26:case"end":return r.stop()}}),o)})))()},onShow:function(){var e=this;return(0,a.babel_coroutine)(r().mark((function n(){var o,a,u,s,c,p;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return v(e),r.next=3,d.getVidInfo();case 3:a=r.sent,i.wx.rprm.pub({product_id:null===(o=i.titan.getCurrentContext())||void 0===o?void 0:o.pro_id},"new"),a&&(u=a.vid,s=a.vidType,c=a.productInstanceId,i.wx.rprm.pub({vid:u,vid_type:s,product_instance_id:c},"new")),e.privatePv||(p=e.otherRecForPv||{},i.wx.rprm.rec(t({en:"pv",elementid:"pv",eventtype:"view",pagename:e.pagename},p)));case 7:case"end":return r.stop()}}),n)})))()}}})),share:b},h=function(e){return e.map((function(e){return"string"!=typeof e?e:w[e]?w[e]:e}))},x=["base","share","cms:authLogin"];exports.getInjections=function(t){var r=[].concat(x);return t&&t.includes("unshare")&&r.splice(1,1),t&&t.length?(t.forEach((function(t){switch(Object.prototype.toString.call(t)){case"[object Array]":var n=e(t,3),i=n[0],o=n[1],a=n[2];if(!1===o){var u=r.indexOf(i);u>=0&&r.splice(u,1);break}if(a){if(r.indexOf(i)>=0)break;var s=r.indexOf(a);s>=0?r.splice(s+1,0,i):r.push(i);break}r.push(i);break;default:if(r.includes(t))return;r.push(t)}})),h(r)):h(r)},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/injections/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/injections/indexNoVid.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../@babel/runtime/helpers/slicedToArray"),t=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/regeneratorRuntime"),n=global.bc("platform","ec"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInjectionNoVid=exports.getEcStatType=exports.ec_share_injection=exports.ec_base_injection=void 0;var o,a=require("../../../@titan/env.js"),u=require("../config/pagename.js"),p=(o=require("../ecStore/index"))&&o.__esModule?o:{default:o},c=require("../utils/share"),s=i.requirePlatform("cms").main.CMS,d=3443142421,l=1392629011,f=7300474800,m=function(e){if(/^\/?(ec_twitter|ec_communityGroupon)/.test(e.route)){if(i.wx.rprm.statType===l)return;i.wx.rprm.pub({statType:l},"new")}else if(/^\/?ec_article/.test(e.route)){if(i.wx.rprm.statType===f)return;i.wx.rprm.pub({statType:f},"new")}else{if(i.wx.rprm.statType===d)return;i.wx.rprm.pub({statType:d},"new")}},b=exports.ec_share_injection=i.titan.definePageInjection("ec_share_novid",(function(e){return{onShareTimeline:c.onShareTimeline,onShareAppMessage:c.onShareAppMessage}})),v={base:exports.ec_base_injection=i.titan.definePageInjection("ec_injection_novid",(function(e){return{onLoad:function(e){var t=this;return(0,a.babel_coroutine)(r().mark((function e(){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.pagenameMap[t.route]&&(t.pagename=u.pagenameMap[t.route]),i.wx.rprm.pub({product_id:null===(n=i.titan.getCurrentContext())||void 0===n?void 0:n.pro_id},"new"),m(t),(o=i.wx.getEnterOptionsSync().query).qwzsKey&&i.wx.rprm.pub({qwzsKey:o.qwzsKey},"new"),o.tracepromotionid&&i.wx.rprm.pub({tracepromotionid:o.tracepromotionid},"new");case 6:case"end":return e.stop()}}),e)})))()},onShow:function(){var n=this;return(0,a.babel_coroutine)(r().mark((function o(){var a,u,c,d,l,f,b,v,h,g,w,x,_;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m(n),r.next=3,s.getFullVidInfo().catch((function(){return{}}));case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:if(u=r.t0,c=u.pvidInfo,d=u.guide,f=(l=void 0===d?{}:d).isGuideMode,b=l.guideVid,v=u.pointRule,h=u.settingInfoResponse,c){r.next=16;break}return r.abrupt("return",e.skipFollowingInjections());case 16:i.wx.rprm.pub({product_id:null===(a=i.titan.getCurrentContext())||void 0===a?void 0:a.pro_id},"new"),g=c.vid,w=c.vidType,x=c.productInstanceId,i.wx.rprm.pub({vid:g,vid_type:w,product_instance_id:x},"new"),p.default.state.merchantSetting||(p.default.dispatch("diversionStore/updateState",{vid:c.vid,headStoreVid:b,serviceMode:f}),p.default.dispatch("storeAction",{globalStyle:h,merchantSetting:h,pointRule:v})),n.privatePv||(_=n.otherRecForPv||{},i.wx.rprm.rec(t({en:"pv",elementid:"pv",eventtype:"view",pagename:n.pagename},_)));case 21:case"end":return r.stop()}}),o)})))()}}})),share:b},h=function(e){return e.map((function(e){return"string"!=typeof e?e:v[e]?v[e]:e}))},g=["base","share","cms:authLogin"];exports.getInjectionNoVid=function(t){var r=[].concat(g);return t&&t.includes("unshare")&&r.splice(1,1),t&&t.length?(t.forEach((function(t){switch(Object.prototype.toString.call(t)){case"[object Array]":var n=e(t,3),i=n[0],o=n[1],a=n[2];if(!1===o){var u=r.indexOf(i);u>=0&&r.splice(u,1);break}if(a){if(r.indexOf(i)>=0)break;var p=r.indexOf(a);p>=0?r.splice(p+1,0,i):r.push(i);break}r.push(i);break;default:if(r.includes(t))return;r.push(t)}})),h(r)):h(r)},exports.getEcStatType=function(){return d},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/injections/indexNoVid.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/injections/styleInjection.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/slicedToArray"),a=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.useMerchantStyleInfo=void 0;var i=r(require("../ecStore/index")),o=r(require("../utils/color2Rgb"));function r(e){return e&&e.__esModule?e:{default:e}}var c=t.requirePlatform("cms").main.CMS,n=c.getCurrentChannelStyle().primaryColor,s=null;exports.useMerchantStyleInfo=function(){return c.getMerchantStyleInfo().then((function(a){if(a){s=a;var t=a||{},r=t.colorScheme,c=void 0===r?{}:r,l=t.styleType,u=void 0===l?1:l,m=t.iconStyleType,d=c.colorMain||"#FF0000",h=c.colorSecondary||"#F75000",y=c.priceColor||"#F75000",p=c.tagColor||"#F75000",f=(0,o.default)(d||"").split(","),v=e(f,3),S=v[0],g=v[1],x=v[2],z=(0,o.default)(p||"").split(","),b=e(z,3),C=b[0],M=b[1],F=b[2],j="--theme-iconStyleType:".concat(m,";--theme-main:").concat(d,";--theme-secondary:").concat(h,";--theme-price:").concat(y,";--theme-tag:").concat(p,";--theme-r:var(--whatever,").concat(S,");--theme-g:var(--whatever, ").concat(g,");--theme-b:var(--whatever, ").concat(x,");--theme-tr:var(--whatever,").concat(C,");--theme-tg:var(--whatever, ").concat(M,");--theme-tb:var(--whatever, ").concat(F,");"),w={0:{"--icon-family":"titian-icon-popular, titian-icon","--radius-size":-999,"--radius-size-max":0},1:{"--icon-family":"titian-icon","--radius-size":0,"--radius-size-max":0},2:{"--icon-family":"titian-icon-lovely, titian-icon","--radius-size":8,"--radius-size-max":999}},q=w[u]||w[1],H="--icon-family: ".concat((w[m]||w[1])["--icon-family"],";--radius-size:").concat(q["--radius-size"],"rpx;--radius-size-max:").concat(q["--radius-size-max"],"rpx;"),A=[0,2,4,6,8,10,12,16,20,24,28,30,32,36,40,44,48].map((function(e){return["--border-radius-s".concat(e,":").concat(q["--radius-size"]+e,"rpx;"),"--tag-radius-s".concat(e,":").concat(q["--radius-size"]+q["--radius-size-max"]+e,"rpx;")]})).flat(2).join(""),I="--s: ".concat(u);return j+="--channel-color: ".concat(n||"#04c160",";"),j+="font-family: 'PingFang SC', 'HarmonyOSSansSC', 'HarmonyOS Sans SC', 'Noto Sans SC', system-ui, '-apple-system', 'BlinkMacSystemFont', 'Microsoft YaHei', '微软雅黑', 'MicrosoftJhengHei', '华文细黑', Helvetica, Arial, 'sans-serif', 'Noto Color Emoji', 'Apple Color Emoji', 'Segoe UI Emoji';"+H+A+I,s.themeVariable=j,i.default.dispatch("storeAction",{globalStyle:s}),s}}))},global.ec(a);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/injections/styleInjection.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/injections/twitterRelation.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),t=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.twitterRelation=function(e,t){return _.apply(this,arguments)};var i,n=require("../../../@titan/env.js"),a=(i=require("../request/request"))&&i.__esModule?i:{default:i},s=r.requirePlatform("cms").main,o=s.CMS;s.auth;function _(){return(_=(0,n.babel_coroutine)(e().mark((function t(i,n){var s,_,u,l,p;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.options,_=i.route,u=/ec_twitter\/sysfun__apply$/.test(_),l=/ec_twitter\/sysfun__applystatus$/.test(_),p=/ec_twitter\/sysfun__applyList$/.test(_),e.next=3,a.default.post("/mall/sdp/navigation/weike/getWeikeStatus").then((function(e){return e||{}})).then((function(e){var t=e.errcode,a=e.data;if("0"==t){var c={baseLoading:!1,baseAvailable:!1};!0===function(e){if(p)return!0;if((0==e||4==e)&&!u)return o.navigator("=/ec_twitter/sysfun__apply?sdp_ticketid=".concat(s.sdp_ticketid||"")),n.skipFollowingInjections(),!1;if(1==e&&(u||l))return o.navigator("=/ec_twitter/home__index"),n.skipFollowingInjections(),!1;if(3==e&&!l)return o.navigator("=/ec_twitter/sysfun__applystatus"),n.skipFollowingInjections(),!1;if(2==e){if(r.wx.setStorage({key:"freezeWeike",data:!0}),/ec_twitter\/(home__team|home__teamlist|home__teamedit|promotion__poster|promotion__goodslist|promotion__material|teamapply__index|memberManage__index|inviteMemberList__index|sysfun__apply|sysfun__applystatus|home__level)$/.test(_))return o.navigator("=/ec_twitter/freeze__index"),n.skipFollowingInjections(),!1;/ec_twitter\/home__index$/.test(_)&&i.setData({freeze:!0})}else r.wx.removeStorage({key:"freezeWeike"});return!0}(a.status)&&(c.baseAvailable=!0),i.setData(c)}}));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/injections/twitterRelation.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/payment/api.config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={prePayCheck:"/mall/trade/pay/prePayCheck",queryPayStatus:"/mall/trade/pay/queryPayStatus"},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/payment/api.config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/payment/pay.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../../@babel/runtime/helpers/objectSpread2"),n=require("../../../@babel/runtime/helpers/classCallCheck"),r=require("../../../@babel/runtime/helpers/createClass"),a=require("../../../@babel/runtime/helpers/typeof"),l=global.bc("platform","ec"),o=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../../../@titan/env.js"),u=f(require("./proxyPayment")),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(require("../utils/reportJsErrorData")),d=f(require("../request/request")),c=require("./pay_dot"),p=f(require("./api.config"));function f(e){return e&&e.__esModule?e:{default:e}}var m=o.requirePlatform("titian-mp").main.$tiToast,y=o.requirePlatform("cms").main.CMS;function v(){var e=o.getCurrentPages();return e[e.length-1]}var _=function(){function a(){n(this,a),this.proxyPayment||(this.proxyPayment=(0,u.default)(a))}return r(a,[{key:"getPaymentPayRequest",value:function(n){var r=this;return(0,i.babel_coroutine)(e().mark((function a(){var l,o,i,u,d,c,p,f;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={},r.context=n.context||v(),o=n.payParams||{},i=o.paymentMethodList,u=void 0===i?[]:i,Array.isArray(u)&&u.find((function(e){return"ANT_CREDIT_PAY"===e.paymentMethod}))&&u.forEach((function(e){"ANT_CREDIT_PAY"===e.paymentMethod&&(e.instalmentInfo=e.instalmentInfo||e.installment||{},e.instalmentInfo.partnerId=e.instalmentInfo.sellerId||e.instalmentInfo.id,e.instalmentInfo.calculationResultList=e.instalmentInfo.installmentItemList||e.instalmentInfo.calculationResultList)})),e.prev=4,c=null!=r&&null!==(d=r.context)&&void 0!==d&&d.outerPageContextSelector?r.context.outerPageContextSelector+" >>> #invoice_order_pay":"#invoice_order_pay",e.next=8,r.context.selectComponentAsync(c);case 8:return r.pay_node=e.sent,p=r.pay_node.requestWMPayment(t(t({},n),{},{douyinPayInfo:null==l?void 0:l.data,payParams:t(t({},n.payParams||{}),{},{paymentMethodList:u})})),e.abrupt("return",p);case 13:e.prev=13,e.t0=e.catch(4),f={code:"2-142412",data:{error:e.t0,data:r},title:"获取支付组件元素异常",level:"FATAL"},y.reportErrCode(f,"payment_get_pay_node_error"),(0,s.default)(t(t({},n),{},{msg:"获取支付组件元素异常"}),e.t0);case 18:case"end":return e.stop()}}),a,null,[[4,13]])})))()}},{key:"accessCheckstand",value:function(n){var r=this;return(0,i.babel_coroutine)(e().mark((function a(){var l,o,i,u,f,_,P,h,I,b,x,g,A,q,C,T,M,O,k,S,L,N,R,U,D,j,w,E,W,Y,F,z,B,K,V,J,$;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null!==(l=n.payParams)&&void 0!==l?l:{},i=o.orderNos,u=o.parentOrderNo,f=o.payTimes,_=o.payAmount,P=o.needFinishUrl,h=void 0!==P&&P,e.prev=1,N={orderNos:i,parentOrderNo:u,payTimes:f,needUrl:null!=h&&h},e.next=5,d.default.post(p.default.prePayCheck,N);case 5:if("0"===(R=e.sent).errcode||!m||null===(I=m())||void 0===I||!I.info){e.next=10;break}return m().info(R.errmsg||""),"function"==typeof fail&&(null==n||n.fail()),e.abrupt("return");case 10:if(null==R||null===(b=R.data)||void 0===b||!b.validBizResult||!1!==(null==R||null===(x=R.data)||void 0===x||null===(g=x.validBizResult)||void 0===g?void 0:g.validSuccess)){e.next=13;break}return"function"==typeof fail&&(null==n||n.fail(null==R||null===(U=R.data)||void 0===U?void 0:U.validBizResult)),e.abrupt("return");case 13:return(0,c.pay_order)(null!==(A=null==n?void 0:n.logData)&&void 0!==A?A:{}),D=n.payParams||{},j=D.paymentMethodList,w=void 0===j?[]:j,E=null,W={},r.context=n.context||v(),Array.isArray(w)&&((B=w.find((function(e){return e.isSelected})))&&"ANT_CREDIT_PAY"===B.paymentMethod&&Array.isArray(null==B||null===(Y=B.instalmentInfo)||void 0===Y?void 0:Y.installmentItemList)&&(E=null==B||null===(F=B.instalmentInfo)||void 0===F||null===(z=F.installmentItemList.find((function(e){return e.isSelected})))||void 0===z?void 0:z.fqNum),B&&(W={productNo:B.productNo,paymentType:B.paymentType,selectedInstallment:E}),Array.isArray(w)&&w.find((function(e){return"ANT_CREDIT_PAY"===e.paymentMethod}))&&w.forEach((function(e){"ANT_CREDIT_PAY"===e.paymentMethod&&(e.instalmentInfo=e.instalmentInfo||e.installment||{},e.instalmentInfo.partnerId=e.instalmentInfo.sellerId||e.instalmentInfo.id,e.instalmentInfo.calculationResultList=e.instalmentInfo.installmentItemList||e.instalmentInfo.calculationResultList)}))),K={requestPayFunType:3===(null==R||null===(q=R.data)||void 0===q||null===(C=q.promotionScene)||void 0===C?void 0:C.promotionScene)?2:1,payParams:{payeeVid:R.data.payVid,payTradeOrderId:R.data.payTradeOrderId,sign:R.data.sign,orderNos:i,parentOrderNo:u,payAmount:_,timestamp:R.data.payCheckTime,extParams:{selectedPaymentMethod:W,selectedInstallment:E,oldPaymentOption:t(t({},n),{},{payParams:t(t({},n.payParams||{}),{},{paymentMethodList:w})})}},successUrl:null!==(T=null==R||null===(M=R.data)||void 0===M||null===(O=M.redirectUrl)||void 0===O||null===(k=O.successUrl)||void 0===k?void 0:k.url)&&void 0!==T?T:n.successUrl,failUrl:null!==(S=null==n?void 0:n.failUrl)&&void 0!==S?S:"",queryOrderStatusUrl:"",success:function(){var e,r,a,l,o,i,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t({},u);h&&(null==R||null===(e=R.data)||void 0===e||null===(r=e.redirectUrl)||void 0===r||null===(a=r.successUrl)||void 0===a?void 0:a.url)&&(s.url=null==R||null===(l=R.data)||void 0===l||null===(o=l.redirectUrl)||void 0===o||null===(i=o.successUrl)||void 0===i?void 0:i.url),n.success(s)},fail:n.fail,cancel:n.cancel,complete:n.complete},(0,s.reportDebug)(K,"checkStandOptions"),r.context=n.context||v(),V=null!=r&&null!==(L=r.context)&&void 0!==L&&L.outerPageContextSelector?r.context.outerPageContextSelector+" >>> #invoice_order_pay":"#invoice_order_pay",e.next=24,r.context.selectComponentAsync(V);case 24:return r.pay_node=e.sent,J=r.pay_node.requestWMPayment(K),e.abrupt("return",J);case 29:e.prev=29,e.t0=e.catch(1),m.info(e.t0.errmsg||"获取下单信息异常"),n.fail(),$={code:"2-142413",data:{error:e.t0,options:n,data:r},title:"收银台SKD流程异常",level:"FATAL"},y.reportErrCode($,"payment_access_checkstand_error"),(0,s.default)(t(t({},n),{},{msg:"收银台SKD流程异常"}),e.t0);case 36:case"end":return e.stop()}}),a,null,[[1,29]])})))()}}]),a}();exports.default=new _,global.ec(l);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/payment/pay.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/payment/pay_dot.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.pay_order=exports.cancepay_order_modal=exports.cancelpay_order=void 0,exports.pay_order=function(e){var o=e||{},a=o.pageName,t=o.orderId,d=o.orderType,n=o.orderAmount,p=o.payAmount,l=o.parentOrderNo,i=o.childOrderInfoList;i&&i.length>0?i.forEach((function(e){var o;r.wx.rprm.rec({en:"pay_order",elementid:"submitorder",eventtype:"tap",pagename:a,order_id:null==e?void 0:e.orderNo,order_amt:null==e?void 0:e.orderAmount,pay_amt:null==e?void 0:e.payAmount,order_type:null!==(o=null==e?void 0:e.orderType)&&void 0!==o?o:1,parent_orderno:l})})):r.wx.rprm.rec({en:"pay_order",elementid:"submitorder",eventtype:"tap",pagename:a,order_id:t,order_amt:n,pay_amt:p,order_type:d||1,parent_orderno:l})},exports.cancelpay_order=function(e){var o=e||{},a=o.pageName,t=o.orderId,d=o.orderType,n=o.payAmount,p=o.orderAmount,l=o.parentOrderNo,i=o.childOrderInfoList;i&&i.length>0?i.forEach((function(e){var o;r.wx.rprm.rec({en:"cancelpay_order",eventtype:"tap",pagename:a,pay_amt:null==e?void 0:e.payAmount,order_id:null==e?void 0:e.orderNo,order_amt:null==e?void 0:e.orderAmount,order_type:null!==(o=null==e?void 0:e.orderType)&&void 0!==o?o:1,parent_orderno:l})})):r.wx.rprm.rec({en:"cancelpay_order",eventtype:"tap",pagename:a,pay_amt:n,order_id:t,order_amt:p,order_type:d||1,parent_orderno:l})},exports.cancepay_order_modal=function(e){var o=e||{},a=o.pageName,t=o.parentOrderNo,d=o.orderNos,n=o.title;r.wx.rprm.rec({en:"pop_tap",elementid:"cancelpay",eventtype:"tap",pagename:a,parent_orderno:t,title:n,orderidlist:d})},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/payment/pay_dot.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/payment/proxyPayment.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=require("../../../@babel/runtime/helpers/slicedToArray"),t=global.bc("platform","ec"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){return t.prototype.getPaymentPayRequest=new Proxy(t.prototype.getPaymentPayRequest,{apply:function(t,o,p){var i=r(p,1)[0],d=t,y=o,f={parentOrderNo:i.payParams.parentOrderNo,order_create_time:i.payParams.order_create_time,orderNo:i.payParams.orderNos[0],orderNos:i.payParams.orderNos,orderAmt:parseFloat(i.logData.orderAmount),payAmount:parseFloat(i.payParams.payAmount),orderType:i.logData.orderType,paymentType:1};return(0,n.orderTrackYS)(e(e({},f),{},{order_status:n.order_status_Ys.pay})),"function"!=typeof i.success&&(i.success=function(){}),i.success=new Proxy(i.success,{apply:function(r,t,a){Reflect.apply(r,t,a),(0,n.orderTrackYS)(e(e({},f),{},{order_status:n.order_status_Ys.payed}))}}),"function"!=typeof i.cancel&&(i.cancel=function(){}),i.cancel=new Proxy(i.cancel,{apply:function(r,t,o){var c,p;null!=i&&i.cancelPayDetainment?(c=null==i?void 0:i.logData,p=i.payParams.orderNos,new a.Promise((function(r,t){u.show({title:"",content:"是否放弃本次付款",cancelBtnText:"放弃",isTextButton:!0,hasCancelButton:!0,closeOnMask:!1,confirmBtnText:"继续支付",onCancel:function(){(0,l.default)("","dunningSubscriptions",2,1,p[0]),(0,s.cancepay_order_modal)(e(e({},c),{},{orderNos:p,title:"放弃"})),r()},onConfirm:function(){(0,s.cancepay_order_modal)(e(e({},c),{},{orderNos:p,title:"继续支付"})),t()}})}))).then((function(){Reflect.apply(r,t,o),(0,n.orderTrackYS)(e(e({},f),{},{order_status:n.order_status_Ys.cancel_pay}))})).catch((function(){Reflect.apply(d,y,[i])})):(Reflect.apply(r,t,o),(0,n.orderTrackYS)(e(e({},f),{},{order_status:n.order_status_Ys.cancel_pay})))}}),"function"!=typeof i.fail&&(i.fail=function(){}),i.fail=new Proxy(i.fail,{apply:function(r,t,a){var o;Reflect.apply(r,t,a),(0,c.reportWxPayError)(e(e({},i),{},{msg:"微信支付失败"}),null==a||null===(o=a[0])||void 0===o?void 0:o.errMsg)}}),Reflect.apply(t,o,[i])}}),t};var o,n=require("../utils/index"),s=require("./pay_dot"),c=require("../utils/reportJsErrorData"),l=(require("./utils"),(o=require("../utils/subMes"))&&o.__esModule?o:{default:o}),u=a.requirePlatform("titian-mp").main.$tiDialog;global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/payment/proxyPayment.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/payment/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkPayStatus=void 0;var a=n(require("../request/request")),t=n(require("./api.config"));function n(e){return e&&e.__esModule?e:{default:e}}var i=r.requirePlatform("cms").main.CMS;exports.checkPayStatus=function(e){i.showLoading({text:"支付查询中..."});var n=!1,u=!1,d=0,o=null;return new r.Promise((function(l,c){o=r.setInterval((function(){if((d+=1e3)>=5e3&&!u)return i.hideLoading(),r.clearInterval(o),n=!1,c();if(!n){n=!0;var s={orderNo:e.orderNo,payTradeOrderId:e.payTradeOrderId,tradeId:e.payTradeOrderId};a.default.post(t.default.queryPayStatus,s).then((function(e){if(0==e.errcode&&n){var a=e.data||{},t=a.tradeStatus,d=a.failReason,s=void 0===d?"":d;if(["3","5"].includes("".concat(t)))return i.hideLoading(),u=!0,r.clearInterval(o),l({errmsg:s,result:!0});if(["2","4"].includes("".concat(t)))return i.hideLoading(),u=!0,r.clearInterval(o),c({errmsg:s,result:!1})}})).finally((function(){n=!1}))}}),1e3)}))},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/payment/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/request/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=global.bc("platform","ec"),o=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,d,i,n=(t=require("../config/version"))&&t.__esModule?t:{default:t},a=require("../utils/diversion"),s=o.requirePlatform("cms").main.CMS,l=s.createRequester({weimobOS:!0,dataToWeimobOSInner:!1,foreverResolve:!0,weimobOSErrorStrategie:"console"});l.config({requestTransforms:[function(r){return(0,a.isDiversionMode)()&&r.storeVidMode&&(0,a.getDiversionStoreVid)()&&(r.data.bizVid=(0,a.getDiversionStoreVid)()),r.data.openid||(r.data.openid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d&&d.openid?d:(d=o.wx.getStorageSync("WX_SESSION_WXAPP_SESSION"))||e}().openid),r.data.templateId||(r.data.templateId=n.default),r.data.extendInfo&&(r.data.extendInfo=e(e({},r.data.extendInfo),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i)return i;var r=o.wx.rprm.systemInfo||{},t=r.model,d=void 0===t?"":t,n=r.system,a=void 0===n?"":n,s=d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1,l=d.indexOf("Android")>-1||a.indexOf("Android")>-1;return(i={deviceInfo:{osType:l?0:s?1:2}})||e}())),r}],responseTransforms:[function(e,r,o,t){var d;return(null==t?void 0:t.data)&&"001450210099999"==(null===(d=t.data)||void 0===d?void 0:d.errcode)&&s.showErrorModal("busy"),(null==t?void 0:t.data)||{}}]}),exports.default=l,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/request/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({"/ec/goods_detail":{navigationBarTitleText:"商品详情页"},"/ec/order_detail":{navigationBarTitleText:"订单详情"}});
},{isPage:false,isComponent:false,currentFile:'ec/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","ec",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'ec/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,r,a,d,t,i,o,s,c=require("../../@babel/runtime/helpers/objectSpread2");global.beginDefineBootstrap=!0;var l,p=global.bc("platform","ec"),m=require("./titan-scoped-env.js"),n=require("./config/pagename"),u=(l=require("./config/version"))&&l.__esModule?l:{default:l},_=m.requirePlatform("cms").main;_.cmsWebview,_.CMS;m.requirePlatform("rprm").main.setConfig({bi:{receiveUrlOpts:{childId:!0,grouponId:!0,tuike_id:!0,sdp_ticketid:!0,txAd:!0,chan_id:!0,tx_cps_id:!0,livecode:!0,room_id:!0,isqdzz:!0,tracepromotionid:!0,mat_id:!0,ecBizType:!0,ecBizTicket:!0,guiderWid:!0,cyclic_quest_id:!0,wmkTicket:!0,tsoTicket:!0,essharewid:!0,articlesid:!0,key2:"trim",key3:{mode:"trimStart",urls:["subs/pack_a/shop/shop"],keyPrefix:"eck-",valuePrefix:"ecv-",processor:function(e,r,a){}}},pagenameRegex:[],pagenames:c({},n.pagenameMap),extra:{statType:3443142421,source_end:m.titan.getContext().source}},apm:{errcodes:["-1","1"],whitelist:["baidu.com"],extra:{hello:"world2"},apmRequestBody:!0},ad:{extra:{hello:"world3"}},extra:{foo:"bar"}}),null===(e=m.WOS.YUNSDK.getSdk())||void 0===e||null===(r=e.setExtendsPageList)||void 0===r||r.call(e,["ec_goods/detail","ec_cart/index","ec_order/order__create","ec_shop/goods","ec_shop/classify","cms_search/result","ec_orderDetail/detail","ec_orderDetail/paidstatus","ec_order/invoice__detail"]),null===(a=m.WOS.YUNSDK.getSdk())||void 0===a||null===(d=a.navigator)||void 0===d||null===(t=d.setSystemPagePathList)||void 0===t||t.call(d,[{name:"orderCreate",path:"ec_order/order__create",params:{confirmOrderKey:{required:!0,desc:"OrderKey"},tradeTrackId:{required:!1,desc:"tradeTrackId"}}},{name:"goodsDetail",path:"ec_goods/detail",params:{goodsId:{required:!0,desc:"goodsId"}}},{name:"shopCart",path:"ec_cart/index",params:{}},{name:"orderList",path:"ec_orderDetail/orderlist",params:{}},{name:"orderDetail",path:"ec_orderDetail/detail",params:{orderNo:{required:!0,desc:"orderNo"}}},{name:"orderExpress",path:"ec_orderDetail/logistics",params:{orderNo:{required:!0,desc:"orderNo"},rightsOrderNo:{required:!1,desc:"rightsOrderNo"},isRights:{required:!1,desc:"isRights"}}},{name:"salesCenter",path:"ec_twitter/home__index",params:{}},{name:"refundList",path:"ec_orderDetail/createRights",params:{params:{orderNo:{required:!0,desc:"orderNo"},orderItemId:{required:!0,desc:"orderItemId"},goodsid:{required:!0,desc:"goodsid"},rightsOrderId:{required:!1,desc:"rightsOrderId"}}}},{name:"searchResult",path:"/cms_search/result",params:{}},{name:"tabbarGoodsClassify",path:"ec_shop/classify",params:{}},{name:"tabbarGoodsList",path:"ec_shop/goods",params:{}}]),null===(i=m.WOS.YUNSDK)||void 0===i||null===(o=i.getSdk())||void 0===o||null===(s=o.$setGlobalData)||void 0===s||s.call(o,"wm_sys_ec_templateId",u.default),global.ec(p),global.beginDefineBootstrap=!1,global.emr("ec"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'ec/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/EMA.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={event:[],subscribe:function(e,t){"function"==typeof t&&(this.event[e]||(this.event[e]=[]),this.event[e].push(t))},publish:function(){var e=arguments,t=this,i=Array.prototype.shift.call(arguments),n=this.event[i];n&&n.length&&n.forEach((function(i){i.apply(t,e)}))},remove:function(e,t){var i=this.event[e];if(i&&i.length)if(t)for(var n=0;n<i.length;n++){var r=i[n];if(r===t||r.fn===t){i.splice(n,1);break}}else delete this.event[e]}};exports.default=t,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/EMA.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/acc.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","ec");function r(t){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=t.toString();try{r=c.split(".")[1].length}catch(t){r=0}var a=e-r,l=c.replace(".","");if(a>=0){for(;a--;)l+="0";return Number(l)}return Number(l.slice(0,l.length+a)+"."+l.slice(a))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.accAdd=function(t,e){var c,a,l,n;try{c=t.toString().split(".")[1].length}catch(n){c=0}try{a=e.toString().split(".")[1].length}catch(n){a=0}return n=Math.max(c,a),l=Math.pow(10,n),(r(t,n)+r(e,n))/l},exports.accMul=function(t,r){var e=0,c=t.toString(),a=r.toString();try{e+=c.split(".")[1].length}catch(t){}try{e+=a.split(".")[1].length}catch(t){}return Number(c.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,e)},exports.accSub=function(t,e){var c,a,l,n;try{c=t.toString().split(".")[1].length}catch(n){c=0}try{a=e.toString().split(".")[1].length}catch(n){a=0}return n=Math.max(c,a),l=Math.pow(10,n),parseFloat((r(t,n)-r(e,n))/l)},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/acc.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/color2Rgb.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null===e)return 0;if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var t="#",r=1;r<4;r+=1)t+=e.slice(r,r+1).concat(e.slice(r,r+1));e=t}for(var o=[],a=1;a<7;a+=2)o.push(parseInt("0x"+e.slice(a,a+2)));return o.join(",")}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getThemeColorRGB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,o={theme1:"#EF1033",theme2:"#F56FA6",theme3:"#E85A71",theme4:"#86B902",theme5:"#40BAFF",theme6:t.wx.customTheme&&t.wx.customTheme.colorStr};return"rgba(".concat(r(o[t.wx.themeStele||"theme1"]),", ").concat(e,")")},exports.default=r,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/color2Rgb.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/countdown.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(t,e){if(e=new Date(e).getTime(),(t=new Date(t).getTime())>=e)return{status:0,day:0,hour:0,minute:0,second:0};var o=e-t,r=Math.floor(o/864e5),a=Math.floor(o/36e5),n=o%864e5,u=Math.floor(n/36e5),l=n%36e5,i=Math.floor(l/6e4),s=l%6e4,d=Math.round(s/1e3);return{status:1,day:r.toString(),hour:u<10?"0"+u:u.toString(),hourAll:a>999?"999":a<10?"0"+a:a.toString(),minute:i<10?"0"+i:i.toString(),second:d<10?"0"+d:d.toString()}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/countdown.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/dateFormat.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");function t(e){return(e=e.toString())[1]?e:"0"+e}function r(e){return[(e=new Date(e)).getFullYear(),e.getMonth()+1,e.getDate()].map(t).join("-")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dateFormat=void 0,exports.formatDate=r,exports.formatTime=function(e){return r(e)+" "+function(e){return[(e=new Date(e)).getHours(),e.getMinutes(),e.getSeconds()].map(t).join(":")}(e)},exports.dateFormat=function(e,t){var r=new Date(e),n={"M+":r.getMonth()+1,"D+":r.getDate(),"H+":r.getHours(),"i+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};for(var o in/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/dateFormat.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/debounce.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var n,l,u,o,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,c=function c(){var s=+new Date-o;s<a&&s>=0?n=t.setTimeout(c,a-s):(n=null,i||(r=e.apply(u,l),n||(u=null,l=null)))};return function(){u=this,l=arguments,o=+new Date;var s=i&&!n;return n||(n=t.setTimeout(c,a)),s&&(r=e.apply(u,l),u=null,l=null),r}},exports.throttleDelay=function(e){var n,l,u,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r=0;return function(){var a=+new Date;n=this,l=arguments,o-(a-r)<=0&&!u&&(e.apply(n,l),r=a,u=t.setTimeout((function(){t.clearTimeout(u),u=null}),o))}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/debounce.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/disabledAPI.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isLocationAPIEnabled=function(e){return!function(e){return!(!r.disableAPIs||"[object Array]"!==Object.prototype.toString.call(r.disableAPIs))&&r.disableAPIs.includes(e)}(e)};var r=t.wx.rprm.getExtConfigSync();global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/disabledAPI.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/diversion.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDiversionStoreVid=s,exports.getStoreVid=function(e){var r=o.default.diversionStore.state;return e&&a()&&s()||r.vid},exports.getStoreVidByCMS=function(e){return l.apply(this,arguments)},exports.getStoreVidByCMSSync=function(e){var r=u.getVidInfoSync();return e&&v()&&s()||(null==r?void 0:r.vid)},exports.isDiversionMode=a,exports.isDiversionModeByCMS=d,exports.isDiversionModeByCMSSync=v,exports.setDiversionStoreVid=function(e){var r=u.getFullVidInfoSync();e!==((null==r?void 0:r.guide)||{}).guideVid&&o.default.dispatch("diversionStore/updateState",{diversionVid:e})};var n,i=require("../../../@titan/env.js"),o=(n=require("../ecStore/index"))&&n.__esModule?n:{default:n},u=t.requirePlatform("cms").main.CMS;function s(){return o.default.diversionStore.state.diversionVid}function a(){var e=o.default.diversionStore.state;return!(!e.vid||!e.headStoreVid)&&e.serviceMode&&e.vid===e.headStoreVid}function d(){return c.apply(this,arguments)}function c(){return(c=(0,i.babel_coroutine)(e().mark((function r(){var n,i,o,s;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getFullVidInfo().catch((function(){return{}}));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:s=e.t0,n=null!==(o=null==s?void 0:s.guide)&&void 0!==o?o:{},e.next=14;break;case 10:return e.prev=10,e.t1=e.catch(0),console.error(e.t1),e.abrupt("return",t.Promise.reject(e.t1));case 14:return e.prev=14,e.next=17,u.getVidInfo();case 17:i=e.sent,e.next=24;break;case 20:return e.prev=20,e.t2=e.catch(14),console.error(e.t2),e.abrupt("return",t.Promise.reject(e.t2));case 24:return e.abrupt("return",!(!i.vid||!n.guideVid)&&n.isGuideMode&&i.vid===n.guideVid);case 25:case"end":return e.stop()}}),r,null,[[0,10],[14,20]])})))).apply(this,arguments)}function v(){var e=u.getFullVidInfoSync(),r=u.getVidInfoSync(),t=(null==e?void 0:e.guide)||{},n=t.isGuideMode,i=t.guideVid;return!(!r.vid||!i)&&n&&r.vid===i}function l(){return(l=(0,i.babel_coroutine)(e().mark((function r(n){var i,o,a;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:o=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",t.Promise.reject(e.t0));case 10:return e.prev=10,e.next=13,u.getVidInfo();case 13:a=e.sent,e.next=20;break;case 16:return e.prev=16,e.t1=e.catch(10),console.error(e.t1),e.abrupt("return",t.Promise.reject(e.t1));case 20:return e.abrupt("return",n&&o&&s()||(null===(i=a)||void 0===i?void 0:i.vid));case 21:case"end":return e.stop()}}),r,null,[[0,6],[10,16]])})))).apply(this,arguments)}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/diversion.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/enhance.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=require("../../../@babel/runtime/helpers/typeof"),t=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.pick=exports.isObject=exports.isEmpty=exports.isArray=void 0;var e=function(t){return null!=t&&"object"==r(t)&&!1===Array.isArray(t)};exports.isObject=e;var n=function(r){return Array.isArray&&Array.isArray(r)||"[object Array]"=={}.toString.call(r)};exports.isArray=n,exports.pick=function(r){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!e(r)&&"function"!=typeof r)return{};var a={};if("string"==typeof i)return i in r&&(a[i]=r[i]),a;for(var s=i.length,c=-1;++c<s;){var f=i[c];n(f)?f.forEach((function(t){t in r&&(a[t]=r[t])})):f in r&&(a[f]=r[f])}return a},exports.isEmpty=function(r){if(!r)return!0;if(Array.isArray(r)||"string"==typeof r||"function"==typeof r.splice)return!r.length;for(var t in r)if(Object.hasOwnProperty.call(r,t))return!1;return!0},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/enhance.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/getEcCommon.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,u=require("../../../@titan/env.js"),a=(n=require("../request/request"))&&n.__esModule?n:{default:n},o=t.requirePlatform("cms").main.CMS,c={},s=function(){var r=(0,u.babel_coroutine)(e().mark((function r(){var t,n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.productionType){e.next=2;break}return e.abrupt("return",c.productionType);case 2:return e.next=4,o.getVidInfo();case 4:if((t=e.sent).bosId||t.productInstanceId){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,a.default.post("/mall/mgr/merchant/getMallProductVersionType",{bosId:(null==t?void 0:t.bosId)||0,productInstanceId:(null==t?void 0:t.productInstanceId)||0});case 9:return n=e.sent,c.productionType=(null==n?void 0:n.data)||null,e.abrupt("return",c.productionType);case 12:case"end":return e.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),i=function(){var r=(0,u.babel_coroutine)(e().mark((function r(n){var u;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("[object Array]"!==Object.prototype.toString.call(n)){e.next=5;break}return e.next=3,t.Promise.all(n.map((function(e){return i(e)})));case 3:return u=e.sent,e.abrupt("return",u);case 5:if("productionType"!==n){e.next=11;break}return e.next=8,s();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();exports.default=i,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/getEcCommon.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/getTraceLabelList.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLabelAdvertisement=function(){var e,a,c,i,l,d,n,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.wx.fecommon.clickId&&r.push({labelType:"ad_direct",attachment:{clickId:null===(e=t.wx.fecommon)||void 0===e?void 0:e.clickId,clickTime:null===(a=t.wx.fecommon)||void 0===a?void 0:a.clickTime,landUrl:t.wx.fecommon.landUrl||"",ggUserActionConfigId:t.wx.fecommon.ggUserActionConfigId||"",chl:null!==(c=t.wx.fecommon)&&void 0!==c&&c.isGDT?2:1,currentUrl:null===(i=t.wx.rprm)||void 0===i?void 0:i.currentUrl(),appid:null===(l=t.wx.rprm)||void 0===l||null===(d=l.pvars)||void 0===d?void 0:d.appid,openid:null===(n=t.wx.rprm)||void 0===n||null===(o=n.pvars)||void 0===o?void 0:o.openid,weixinadid:t.wx.fecommon.weixinadid||""}}),r||[]},exports.getTraceLabelList=function(){var e,c,i=a.getTraceLabelListSync.apply(a,arguments),l=[];return i.map((function(e){var t=e.value;"tracepromotionid"===e.label&&l.push({labelType:"tracepromotion",attachment:{},attachId:t.tracepromotionid||""}),"from_args"===e.label&&l.push({labelType:"from_args",attachment:{},attachId:t.from_args||""}),"dcGuideTicket"===e.label&&l.push({labelType:"guider",attachId:t.guiderWid||"",attachment:{mat_id:t.mat_id||"","1st_classid":t["1st_classid"]||"","2nd_classid":t["2nd_classid"]||"",cyclic_quest_id:t.cyclic_quest_id||"",guiderWid:t.guiderWid||"",guideMaterialId:t.guideMaterialId||"",guidergoodsid:t.id||"",dcGuideTicket:t.dcGuideTicket||"",goodsIds:t.goodsIds||"",merchant_channel:t.merchantChannel||"",merchant_activityId:t.merchantActivityId||""}}),"room_id"===e.label&&l.push({labelType:"wxlive",attachment:{roomid:t.room_id||""}}),"qwzsKey"===e.label&&l.push({labelType:"qwzs",attachId:t.qwzsKey||""}),"wmkTicket"===e.label&&l.push({labelType:"wmk_ticket",attachId:t.wmkTicket||""}),"qwzsKey"===e.label&&l.push({labelType:"qwzsKey",attachId:t.qwzsKey||""}),"hfid"===e.label&&l.push({labelType:"huifu_xcx",attachId:t.hfid||"",attachment:{}}),t.cargo_center&&l.push({labelType:"cargo_center",attachId:t.wechat_ec_trace_id||"",attachment:{cargo_center:t.cargo_center||"",wechat_ec_trace_id:t.wechat_ec_trace_id||""}}),"kjShareChannel"===e.label&&l.push({labelType:"kjShareChannel",attachId:"",attachment:{}}),"tx_cps_id"===e.label&&l.push({labelType:"txAd",attachId:t.txAd||"",attachment:{chan_id:t.chan_id||"",tx_cps_id:t.tx_cps_id||""}}),"chan_id"===e.label&&l.push({labelType:"tencent_chan_id",attachId:t.chan_id||"",attachment:{}}),(t.tjIndex||t.tjType)&&l.push({labelType:"recommend",attachId:t.tjType||"",attachment:{tjIndex:t.tjIndex||"",tjType:t.tjType||""}}),"tsoTicket"===e.label&&l.push({labelType:"tsoTicket",attachId:t.tsoTicket||"",attachment:{tsoTime:(new Date).getTime()}}),"essharewid"===e.label&&l.push({labelType:"essharewid",attachId:t.essharewid||"",attachment:{}}),"dyson"===e.label&&l.push({labelType:"dyson",attachId:t.dyson,attachment:{}}),"articlesid"===e.label&&l.push({labelType:"special",attachment:{},attachId:t.contentId||t.articlesid,articlesid:t.contentId||t.articlesid,createTime:(new Date).getTime()}),"tuike_id"===e.label&&l.push({labelType:"tuike_id",attachment:{},attachId:t.tuike_id||"",createTime:(new Date).getTime()}),"wls"===e.label&&l.push({labelType:"wls",attachment:{},attachId:t.wls||"",createTime:(new Date).getTime()})})),l.push({labelType:"scene_xcx",attachment:{},attachId:(null===(e=t.wx)||void 0===e||null===(c=e.getEnterOptionsSync())||void 0===c?void 0:c.scene)||0}),!arguments.length&&t.wx.fecommon.clickId&&l.push({labelType:"ad_direct",attachment:{clickId:t.wx.fecommon.clickId,clickTime:t.wx.fecommon.clickTime,chl:t.wx.fecommon.isGDT?2:1,currentUrl:t.wx.rprm.currentUrl(),landUrl:t.wx.fecommon.landUrl||"",weixinadid:t.wx.fecommon.weixinadid||"",ggUserActionConfigId:t.wx.fecommon.ggUserActionConfigId||""}}),l};var a=t.requirePlatform("cms").main.CMS;global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/getTraceLabelList.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/h5Config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=require("../../../@babel/runtime/helpers/objectSpread2"),e=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.h5EnvConfig=exports.extConfigForm=exports.env=exports.curEnvConfig=void 0;var n=exports.env=r.wx.rprm.pvars.env||"prod",s=exports.h5EnvConfig={common:{shopPrefix:"bos/shop",cmsPrefix:"bos/cms",onecrmPrefix:"bos/onecrm",legoPrefix:"bos/lego",grouponPrefix:"bos/groupon",bargainPrefix:"bos/bargain",passportPrefix:"bos/passport"},envMap:{dev:"fusion.n.dev.weimob.com",qa:"fusion.n.saas.weimobqa.com",pl:"fusion.n.pl.weimob.com",prod:"fusion.n.weimob.com",production:"fusion.n.weimob.com"},protocol:"https://",getEnvConfig:function(){var e=this.envMap,r=this.common,s=this.protocol;return o(o({},r),{},{host:s+e[n]})}};exports.curEnvConfig=s.getEnvConfig(),exports.extConfigForm=r.wx.rprm.config.form||{},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/h5Config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/helper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildUUID=function(){return t++,r.wx.rprm.pvars.appShow+"-"+t},exports.getPageInstance=function(){var e=r.getCurrentPages();return e[e.length-1]};var t=0;global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/helper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),r=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0});var t={hexToRGB:!0,getThemeColorRGB:!0,debounce:!0,throttleDelay:!0,scrollIntoViewIfNeeded:!0,orderTrackYS:!0,order_status_Ys:!0,orderWeTrackEvent:!0,we_order_status:!0,trackWe:!0,subMes:!0,countdown:!0,dataType:!0,querystring:!0,getEcCommon:!0,sassTamperOptions:!0,reportJsErrorData:!0};Object.defineProperty(exports,"countdown",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"dataType",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"debounce",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"getEcCommon",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"getThemeColorRGB",{enumerable:!0,get:function(){return n.getThemeColorRGB}}),Object.defineProperty(exports,"hexToRGB",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"orderTrackYS",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"orderWeTrackEvent",{enumerable:!0,get:function(){return b.orderWeTrackEvent}}),Object.defineProperty(exports,"order_status_Ys",{enumerable:!0,get:function(){return b.order_status_Ys}}),Object.defineProperty(exports,"querystring",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"reportJsErrorData",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"sassTamperOptions",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"scrollIntoViewIfNeeded",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"subMes",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"throttleDelay",{enumerable:!0,get:function(){return a.throttleDelay}}),Object.defineProperty(exports,"trackWe",{enumerable:!0,get:function(){return b.trackWe}}),Object.defineProperty(exports,"we_order_status",{enumerable:!0,get:function(){return b.we_order_status}});var o=require("./acc");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))}));var n=I(require("./color2Rgb")),u=require("./dateFormat");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))}));var a=I(require("./debounce")),c=require("./enhance");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))}));var p=require("./h5Config");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))}));var s=require("./labelList");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))}));var i=require("./prefix");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))}));var l=require("./region");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=D(require("./scrollIntoViewIfNeeded")),b=I(require("./sr-order-YS")),d=D(require("./subMes")),y=D(require("./countdown")),O=D(require("./type")),j=require("./urlTool");Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))}));var x=D(require("./querystring")),P=require("./helper");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===P[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}}))}));var _=D(require("./getEcCommon")),g=require("./getTraceLabelList");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===g[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}}))}));var h=require("./diversion");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===h[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}}))}));var m=require("./wxWorkShare");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===m[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}}))}));var q=require("./youshuTrack");Object.keys(q).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}}))}));var w=require("./share");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===w[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}}))}));var k=require("./disabledAPI");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===k[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}}))}));var v=D(require("./sassTamperOptions.js")),E=require("./proxyUrlForPage");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===E[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}}))}));var M=D(require("./reportJsErrorData")),T=require("./liveShareH5Url");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===T[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}}))}));var W=require("./trade");function D(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(C=function(e){return e?t:r})(e)}function I(r,t){if(!t&&r&&r.__esModule)return r;if(null===r||"object"!=e(r)&&"function"!=typeof r)return{default:r};var o=C(t);if(o&&o.has(r))return o.get(r);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if("default"!==a&&Object.prototype.hasOwnProperty.call(r,a)){var c=u?Object.getOwnPropertyDescriptor(r,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=r[a]}return n.default=r,o&&o.set(r,n),n}Object.keys(W).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in exports&&exports[e]===W[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}}))})),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/labelList.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLabelList=function(e){try{var l=[],r=t.wx.getStorageSync("labelList")||{};for(var c in r){var i=r[c],s={labelType:c,attachId:i.attachId,attachment:i.attachment||{}};i.isBackflow&&Object.assign(s,{isBackflow:i.isBackflow,backflowData:i.backflowData}),i.createTime&&i.duration?(new Date).getTime()-i.createTime<=60*i.duration*60*1e3?l.push(s):delete r[c]:l.push(s)}return t.wx.setStorage({key:"labelList",data:r}),e?r[e]||null:l=(0,a.getLabelAdvertisement)(l||[])}catch(l){return null}},exports.setLabelList=function(e){var a=e.labelType,l=e.data,r=void 0===l?null:l;try{var c=t.wx.getStorageSync("labelList")||{};c[a]=r,t.wx.setStorageSync("labelList",c)}catch(c){}};var a=require("./getTraceLabelList");global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/labelList.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/liveShareH5Url.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.liveShareH5Url=void 0;var a,n=require("../../../@titan/env.js"),u=(a=require("../request/request"))&&a.__esModule?a:{default:a},l=require("./urlTool"),s=t.requirePlatform("cms").main,o=s.CMS,i=s.getH5Path;exports.liveShareH5Url=function(){var r=(0,n.babel_coroutine)(e().mark((function r(t){var a,n,s,c,p;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.getFullVidInfo();case 3:if(a=e.sent,n=null==a?void 0:a.pvidInfo){e.next=7;break}return e.abrupt("return");case 7:return n.cid,s=n.vid,n.productInstanceId,e.next=12,i({url:(0,l.handelUrl)(t).setParam("vid",s).export()});case 12:return c=e.sent,e.next=15,u.default.post("/mall/base/global/getPmcParamValues",{operationSource:4,url:c,kinds:[1,3]});case 15:if(0!=(p=e.sent).errcode){e.next=18;break}return e.abrupt("return",p.data.url);case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:case"end":return e.stop()}}),r,null,[[0,20]])})));return function(e){return r.apply(this,arguments)}}(),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/liveShareH5Url.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/prefix.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e,r=global.bc("platform","ec"),o=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounceImm=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=s;return function(){for(var s=arguments.length,n=new Array(s),x=0;x<s;x++)n[x]=arguments[x];var i=this;p&&(t.apply(i,n),p=!1),o.clearTimeout(e),e=o.setTimeout((function(){t.apply(i,n)}),r)}},exports.topHeight=exports.systemInfo=exports.rpx2px=exports.px2rpx=exports.proxyUrl=exports.navBarHeight=exports.mockUrl=exports.isMock=exports.ios=exports.getPrefix=exports.getMock=void 0,exports.proxyUrl="http://172.18.50.95:8001/proxy";var s=exports.mockUrl="http://127.0.0.1:3000/mock/55",p=null,n=function(){return p||(p=o.wx&&o.wx.getLaunchOptionsSync()),p&&p.query&&"123"===p.query.mock};exports.getMock=n,exports.isMock=n(),exports.getPrefix=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n();return(e&&!/^http/g.test(t)?s:"")+t};var x=exports.systemInfo=null===(t=o.wx.rprm)||void 0===t?void 0:t.systemInfo,i=x.statusBarHeight,c=x.screenWidth;exports.rpx2px=function(t){return c/750*t},exports.px2rpx=function(t){return 750/c*t};var a=exports.ios=!!((null===(e=x.system)||void 0===e?void 0:e.toLowerCase().search("ios"))+1),u=exports.navBarHeight=a?44:48;exports.topHeight=i+u,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/prefix.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/proxyUrlForPage.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.proxyOldUrl=function(r){var u=t.getCurrentPages().slice(-1)[0],n=a.default.querystringify(r.options),i=u.route+(n?"?"+n:""),s={url:decodeURIComponent(i)},c=t.wx.getExtConfigSync();c.form,o.default.post("/mall/base/global/swapUrl",e({queryParameter:{url:s.url}},c.form)).then((function(e){0==e.errcode&&l.navigator("=".concat(e.data.newUrl),"redirectTo")}))};var o=u(require("../request/request")),a=u(require("./querystring"));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.requirePlatform("cms").main.CMS;global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/proxyUrlForPage.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/querystring.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}exports.default={parse:function(e){for(var r,t=/([^=?&]+)=?([^&]*)/g,n={};r=t.exec(e);){var a=o(r[1]),c=o(r[2]);a in n||(n[a]=c)}return n},querystringify:function(e,o){o=o||"";var t=[];for(var n in"string"!=typeof o&&(o="?"),e)r.call(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.length?o+t.join("&"):""}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/querystring.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/region.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),a=require("../../../@babel/runtime/helpers/defineProperty"),r=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCascadeData=u,exports.getConfig=function(){return[{url:"/ls/address/tmp/getProvinceCity",isRequest:!0,name:"province",isParams:!1,params:"",text:"省",tip:"数据加载中",isCache:!1,cacheKey:"TerritoryProvinceCity",list:[]},{url:"",isRequest:!1,isParams:!1,name:"city",params:"areaCode",text:"市",tip:"请先选择省",isCache:!1,cacheKey:"",list:[]},{url:"/ls/address/tmp/getAreasByCityId",isRequest:!0,isParams:!0,name:"area",params:"",text:"区",tip:"请先选择市",isCache:!1,cacheKey:"",list:[]},{url:"",isRequest:!1,isParams:!1,name:"town",params:"",text:"乡镇/街道",tip:"请先选择区",isCache:!1,cacheKey:"",list:[]}]},exports.getCustomConfig=m,exports.getEffSubByResults=function(e,a){var r=-1;return e.forEach((function(e,t){e.name===a[t].name&&a[t].list.some((function(a){return a.areaCode===e.areaCode||a.areaName===e.areaName}))&&(r=t)})),-1===r?0:r+1===e.length?r:r+1},exports.getNumberByResults=s,exports.loadContryInfo=function(){return o.default.post("/ls/address/area/queryAllCountries").then((function(e){return e})).catch((function(e){t.wx.dialog.tips(e.errmsg)}))},exports.loadingHandler=function(){},exports.onAssemblyRegionResults=function(e){var a=e.provinceCode,r=void 0===a?"":a,t=e.provinceName,n=void 0===t?"":t,o=e.cityCode,i=void 0===o?"":o,s=e.cityName,u=void 0===s?"":s,m=e.countyCode,c=void 0===m?"":m,d=e.countyName,l=void 0===d?"":d,p=e.areaCode,f=void 0===p?"":p,C=e.areaName,v=void 0===C?"":C;return(r||n)&&(i||u)&&(c||l)&&(f||v)?{num:3,hasResult:!0,results:[{areaCode:r,areaName:n,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:c,areaName:l,name:"area"},{areaCode:f,areaName:v,name:"town"}]}:(r||n)&&(i||u)&&(c||l)?{num:2,hasResult:!0,results:[{areaCode:r,areaName:n,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:c,areaName:l,name:"area"},{areaCode:"",areaName:"",name:"town"}]}:(r||n)&&(i||u)?{num:1,hasResult:!0,results:[{areaCode:r,areaName:n,name:"province"},{areaCode:i,areaName:u,name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}:r||n?{num:0,hasResult:!0,results:[{areaCode:r,areaName:n,name:"province"},{areaCode:"",areaName:"",name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}:{num:0,hasResult:!1,results:[{areaCode:"",areaName:"",name:"province"},{areaCode:"",areaName:"",name:"city"},{areaCode:"",areaName:"",name:"area"},{areaCode:"",areaName:"",name:"town"}]}},exports.onCheckByObj=i,exports.onResetConfig=function(e){return e&&e.length>0?e:[{url:"/ls/address/tmp/getProvinceCity",isRequest:!0,name:"province",isParams:!1,params:"",text:"省",tip:"数据加载中",isCache:!1,cacheKey:"TerritoryProvinceCity",list:[]},{url:"",isRequest:!1,isParams:!1,name:"city",params:"areaCode",text:"市",tip:"请先选择省",isCache:!1,cacheKey:"",list:[]},{url:"/ls/address/tmp/getAreasByCityId",isRequest:!0,isParams:!0,name:"area",params:"",text:"区",tip:"请先选择市",isCache:!1,cacheKey:"",list:[]},{url:"",isRequest:!1,isParams:!1,name:"town",params:"",text:"乡镇/街道",tip:"请先选择区",isCache:!1,cacheKey:"",list:[]}]},exports.onResetConfigByResults=function(e,r,n){var o=[];return new Array(n+2).fill("").reduce((function(i,s,m){return i.then((function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},s=[],c={};if(m>0){var d=e[m-1].areaCode;if(!d&&e[m-1].areaName){var l=i.data.find((function(a){return a.areaName===e[m-1].areaName}));l&&l.areaCode&&(d=l.areaCode)}if(c=a({},r[m-1].params,d),Array.isArray(i.data)){var p=i.data.find((function(a){return a.areaCode===e[m-1].areaCode||a.areaName===e[m-1].areaName}));p&&p.child&&p.child.length>0&&(s=p.child)}}return i.data&&i.data.length>0&&o.push(i.data),m!==n+1?u(r[m],c,s):t.Promise.resolve({data:o})}))}),t.Promise.resolve())},exports.onResetCustomConfig=function(e,a,r){return e&&e.length>0?e:m(a,r)},exports.onResetNav=function(a,r,t){return a.map((function(a,n){return r===n?e(e({},a),{},{val:t.areaName}):r<n?e(e({},a),{},{val:a.text}):a}))},exports.onResetNavByResults=function(a,r){return a.map((function(a,t){return r[t].areaName?e(e({},a),{},{val:r[t].areaName}):a}))},exports.onResetResults=function(a,r){var t=[];t=Array.isArray(a)?a.length<r?a.map((function(a){return e({},a)})).concat(new Array(r-a.length).fill({})):a.map((function(a){return e({},a)})):new Array(r).fill({});var n=s(a);return t.map((function(e,a){return a>n?{}:e}))},exports.onResetResultsByConfig=function(a,r){return a.map((function(a,t){var n=null;return!a.areaCode&&a.areaName?(n=r[t].list.find((function(e){return e.areaName===a.areaName})))?e(e({},a),{},{areaCode:n.areaCode}):a.areaCode&&!a.areaName?e(e({},a),{},{areaName:n.areaName}):e(e({},a),{},{areaName:""}):(n=r[t].list.find((function(e){return e.areaCode===a.areaCode})))?e(e({},a),{},{areaName:n.areaName}):a}))};var n,o=(n=require("../request/request"))&&n.__esModule?n:{default:n};function i(e){var a=Object.keys(e).map((function(e){return e}));return 0!==a.length&&!!a.every((function(a){return e[a]}))}function s(e){var a=e.findIndex((function(e){return!e.areaCode&&!e.areaName}));return-1===a?e.length-1:a}function u(e){var a=e.isRequest,r=e.url,n=e.isParams,s=e.isCache,u=e.cacheKey,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(a){if(s){var d=t.wx.getStorageSync(u);if(d)return{data:d}}return n?i(m)?o.default.post(r,m).then((function(e){return s&&t.wx.setStorage({key:"TerritoryProvinceCity",data:e.data}),e})).catch((function(e){t.wx.dialog.tips(e.errmsg)})):t.Promise.resolve({data:[]}):o.default.post(r).then((function(e){return s&&t.wx.setStorage({key:"TerritoryProvinceCity",data:e.data}),e})).catch((function(e){t.wx.dialog.tips(e.errmsg)}))}return t.Promise.resolve({data:c})}function m(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a.map((function(){return{url:"/mall/mgr/customOption/getCustomOptionPageListToC",pageNum:1,pageSize:10,searchInfo:"",totalCount:0,curValue:"",tip:"数据加载中",full:!1,params:function(a){var r=a.id,t=void 0===r?0:r,n=a.queryParameter,o=void 0===n?{}:n,i=a.pageNum,s=void 0===i?1:i,u=a.pageSize;return{pageNum:s,pageSize:void 0===u?10:u,attributeId:e,parentId:t,queryParameter:o}},optionBaseId:"",text:"未选择",list:[]}}));return r}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/region.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/reportJsErrorData.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectWithoutProperties"),r=require("../../../@babel/runtime/helpers/objectSpread2"),o=require("../../../@babel/runtime/helpers/objectDestructuringEmpty"),t=require("../../../@babel/runtime/helpers/extends"),n=["pageName","params","msg"],a=global.bc("platform","ec"),p=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.reportWxPayError=exports.reportDebug=exports.default=void 0,exports.reportWxPayError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wx_pay_error";if(n)try{var s=e||{},c=t({},(o(s),s)),m={url:"http://xapi.weimob.com:80/fe/".concat(a),method:"POST",tags:{bosId:p.wx.rprm.pvars.bosId,pid:p.wx.rprm.pvars.pid},data:r(r({clickId:p.wx.fecommon.clickId,scene:p.wx.rprm.onLauchScene,environment:p.wx.rprm.systemInfo.environment},c||{}),{},{errmsg:n})};p.wx.hound&&p.wx.hound.debug&&p.wx.hound.debug(m)}catch(c){console.error("reportWxPayError error",c)}},exports.reportDebug=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"trade-front-debug";try{var t={url:"http://xapi.weimob.com:80/fe/".concat(o),method:"POST",tags:{bosId:p.wx.rprm.pvars.bosId,pid:p.wx.rprm.pvars.pid},data:r({clickId:p.wx.fecommon.clickId,scene:p.wx.rprm.onLauchScene,environment:p.wx.rprm.systemInfo.environment},e)};p.wx.hound&&p.wx.hound.debug&&p.wx.hound.debug(t)}catch(t){console.error("reportDebug error",t)}},exports.default=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"order_payment_error";if(t&&t.stack){var s=o||{},c=s.pageName,m=s.params,d=s.msg,i=e(s,n),u={url:"http://xapi.weimob.com:80/fe/".concat(a),method:"PAYMENT_ERROR",error:1,tags:{bosId:p.wx.rprm.pvars.bosId,pid:p.wx.rprm.pvars.pid},data:r({pageName:c,request:m,response:d,clickId:p.wx.fecommon.clickId,scene:p.wx.rprm.onLauchScene,environment:p.wx.rprm.systemInfo.environment},i||{})};t&&t.stack&&(u.meta={error:{stack:t.stack,msg:t.message,name:t.name}}),p.wx.hound.debug(u)}},global.ec(a);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/reportJsErrorData.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/sassTamperOptions.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={sassTamperProof:!0,sassTamperProofUUID:!0,sassTamperProofEncryption:!0,uuid:!0},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/sassTamperOptions.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/scrollIntoViewIfNeeded.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),t=require("../../../@babel/runtime/helpers/objectWithoutProperties"),r=["selector"],o=global.bc("platform","ec"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(o){if(o){var l=o.selector,c=t(o,r);if(l)i.wx.createSelectorQuery().select(l).boundingClientRect().selectViewport().boundingClientRect().exec((function(t){if(t&&t[0]){var r=t[0],o=r.top,s=r.height,u=t[1].height;o>0&&o+s<u||i.wx.pageScrollTo(e({selector:l},c))}}))}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/scrollIntoViewIfNeeded.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/share.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/objectSpread2"),t=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendPMCToURL=function(e){var t=this;if(!e){var r=this.route,a=this.options,n=this.shareInfo,h=(this.data||{}).wechatShare,l=n||h;if(l&&(e=l.shareUrl&&l.shareUrl.miniUrl||l.url),!e){var o=i.default.querystringify(a);e=r+(o?"?"+o:"")}}s.appendPMCToURL({baseUrl:e}).then((function(e){t.shareUrlWithPMC=e}))},exports.onShareAppMessage=function(e){return n.call(this,e)},exports.onShareTimeline=function(e){var t=n.call(this,e),a="";return 1===r.titan.getContext().source&&(a=t.path.indexOf("?")>0?t.path.split("?")[1]:"",t.query=a),t};var a,i=(a=require("./querystring"))&&a.__esModule?a:{default:a},s=r.requirePlatform("cms").main.CMS;function n(t){var a=this.shareUrlWithPMC,s=this.shareInfo,n=this.route,h=this.options,l=(this.data||{}).wechatShare,o=s||l,u={title:"",path:"",imageUrl:"",desc:""},p=i.default.querystringify(h),c=n+(p?"?"+p:"");u.path=a||c,o&&(c=a||o.shareUrl&&o.shareUrl.miniUrl||o.url||c,u.title=o.title,u.content=o.content,u.imageUrl=o.imageUrl,u.path=c);var f=this.shareRec||{},d=u.path.indexOf("?")>0?i.default.parse(u.path.split("?")[1]):{},m="button"==t.from?"sharefriend":"forward";return r.wx.rprm.rec(e(e({en:"share",elementid:m,eventtype:"tap"},d),f)),u}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/share.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/sr-order-YS.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../@babel/runtime/helpers/createForOfIteratorHelper"),t=global.bc("platform","ec"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.we_order_status=exports.trackWe=exports.order_status_Ys=exports.orderWeTrackEvent=exports.default=void 0;var n,o=require("../../../@titan/env.js"),u=(n=require("../request/request"))&&n.__esModule?n:{default:n},s=a.requirePlatform("cms").main.CMS,c=(exports.order_status_Ys={give_order:"give_order",pay:"pay",cancel_pay:"cancel_pay",payed:"payed",cancel_give_order:"cancel_give_order",refund:"refund"},exports.we_order_status={give_order:3,cancel_pay:9001,payed:11,cancel_give_order:250}),i=function(){var t;return{getInstance:function(){return t||(t=function(){var t={},a=function(e,t,a){try{if(null==e||!e.length)return;var n,o=r(e);try{for(o.s();!(n=o.n()).done;){var u,i=n.value,d=i.orderNo,l=i.totalAmount,p=i.payAmount,_=i.itemInfoDTOList,v=r(void 0===_?[]:_);try{for(v.s();!(u=v.n()).done;){var f,m=u.value,y=(m||{}).categoryDTOList,g="",b="",x="",h="",k=r(void 0===y?[]:y);try{for(k.s();!(f=k.n()).done;){var w=f.value;1===w.categoryLevel&&(g=w.categoryId,b=w.name),2===w.categoryLevel&&(x=w.categoryId,h=w.name)}}catch(e){k.e(e)}finally{k.f()}null==s||s.nativeReportEvent(a,{spu_id:m.goodsId,spu_name:m.goodsTitle,sku_id:m.skuId,sku_name:m.goodsTitle,price_original:Number((100*((null==m?void 0:m.originSalePrice)||(null==m?void 0:m.salePrice)||0)).toFixed(2)),price_current:Number((100*((null==m?void 0:m.salePrice)||0)).toFixed(2)),sku_count:m.skuNum,sku_pay_amt:Number((100*((null==m?void 0:m.payAmount)||0)).toFixed(2)),order_amt:Number((100*(l||0)).toFixed(2)),pay_amt:Number((100*(p||0)).toFixed(2)),order_id:d,order_status:c[t],spu_catg_first_id:g,spu_catg_first_name:b,spu_catg_second_id:x,spu_catg_second_name:h},"we")}}catch(e){v.e(e)}finally{v.f()}}}catch(e){o.e(e)}finally{o.f()}}catch(e){console.error("weTrackEvent err:",e)}};return{orderWeTrackEvent:function(){var r=(0,o.babel_coroutine)((function(r,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"wxdata_order_status";return e().mark((function d(){var l,p,_,v,f;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==s||!s.isNeedNativeReportEvent("we")){e.next=21;break}if(!((null===(l=t[r])||void 0===l?void 0:l.length)>0&&250!==c[o])){e.next=5;break}a(t[r],o,i),e.next=19;break;case 5:return p={parentOrderNo:r,channelId:10001,reportSourceType:250===c[o]?1:0,orderNoList:250===c[o]?n:null},e.prev=6,e.next=9,u.default.post("/mall/trade/service/queryReportData",p);case 9:_=e.sent,v=(null==_?void 0:_.data)||{},f=v.orderInfoDTOList,t[r]=f,a(f,o,i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.warn("获取we打点数据失败:",e.t0);case 19:e.next=22;break;case 21:case 22:case"end":return e.stop()}}),d,null,[[6,16]])}))()}));return function(e,t,a){return r.apply(this,arguments)}}(),trackWe:a}}()),t}}}(),d=function(e,r,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"wxdata_order_status";return i.getInstance().orderWeTrackEvent(e,r,t,a)};exports.orderWeTrackEvent=d,exports.trackWe=function(e,r,t){return i.getInstance().trackWe(e,r,t)},exports.default=function(){var t=(0,o.babel_coroutine)((function(t){var n=t.parentOrderNo,o=t.order_create_time,u=t.orderNo,i=t.orderNos,l=t.order_status,p=t.orderAmt,_=t.payAmount;t.orderType,t.paymentType,t.goodsList;return e().mark((function t(){var v,f,m,y,g,b;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c[l]&&d(n,250===c[l]?[u]:null,l),"custom_order",v=a.getCurrentPages(),f=i||[],Array.isArray(i)&&i.length>0||!u||(f=[u]),Array.isArray(f)&&f.length>0){m=r(f);try{for(m.s();!(y=m.n()).done;)g=y.value,b={order:{order_id:g+"",order_time:o||(new Date).getTime(),order_status:l},sub_orders:[{sub_order_id:g+"",order_amt:parseFloat(p||_),pay_amt:parseFloat(_),page:v[v.length-1].route,time:(new Date).getTime()}]},s.callYouShuMethod("track","custom_order",b)}catch(e){m.e(e)}finally{m.f()}}return e.abrupt("return");case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),t,null,[[0,9]])}))()}));return function(e){return t.apply(this,arguments)}}(),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/sr-order-YS.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/subMes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/createClass"),r=require("../../../@babel/runtime/helpers/classCallCheck"),t=require("../../../@babel/runtime/helpers/inherits"),a=require("../../../@babel/runtime/helpers/createSuper"),s=require("../../../@babel/runtime/helpers/wrapNativeSuper"),u=global.bc("platform","ec"),i=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,l=(n=require("../request/request"))&&n.__esModule?n:{default:n},o=function(s){t(i,s);var u=a(i);function i(e,t){var a;return r(this,i),(a=u.call(this,e,t)).type=e,a.message=t,a}return e(i)}(s(Error));exports.default=function(e,r,t,a,s,u,n){var c={matchType:t,messageChannelType:i.titan.getContext().source,conditionDataType:a,orderNo:s,rightsId:u,rightsType:n};return e&&(c.pageKey=e),r&&(c.buttonKey=r),l.default.post("/mall/mgr/message/querySubscribeTemplate",{conditionInfo:c}).then((function(e){return"0"==e.errcode?i.wx.rprm.subMes(e.data.templateIdList):i.Promise.reject()})).catch((function(e){var r=new o("WX_DOMAIN_URL_FAILED",e.errMsg||"request:fail");return i.Promise.reject(r)}))},global.ec(u);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/subMes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/trade.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/regeneratorRuntime"),r=require("../../../@babel/runtime/helpers/objectSpread2"),n=global.bc("platform","ec"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.initConfirmOrderFunc=void 0;var i=require("../../../@titan/env.js"),o=a(require("../request/request")),u=a(require("./sassTamperOptions"));function a(e){return e&&e.__esModule?e:{default:e}}exports.initConfirmOrderFunc=function(){var n=(0,i.babel_coroutine)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e().mark((function a(){var s,c,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Promise.resolve({});case 2:return l=e.sent,e.abrupt("return",o.default.post("/mall/trade/confirm/initConfirmOrder",r({channelScene:null===(s=t.wx)||void 0===s||null===(c=s.getEnterOptionsSync())||void 0===c?void 0:c.scene,promotionScene:l},n),r(r({},u.default),i)));case 4:case"end":return e.stop()}}),a)}))()}));return function(){return n.apply(this,arguments)}}(),global.ec(n);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/trade.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/type.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DATATYPE=void 0,exports.firstUpperCase=a,exports.getDataType=o;var t=exports.DATATYPE=Object.freeze({str:"String",num:"Number",bool:"Boolean",arr:"Array",func:"Function",obj:"Object",null:"Null",undefined:"Undefined",set:"Set",map:"Map",weakmap:"WeakMap",weakset:"WeakSet",symbol:"Symbol",date:"Date",reg:"RegExp"}),r=Object.prototype.toString;function o(e){var t="";return null==e&&(t=void 0===e?"[object Undefined]":"[object Null]"),(t=r.call(e)).slice(t.indexOf(" "),t.indexOf("]")).trim()}var n={};function a(e){return e.replace(/\b(\w)(\w*)/g,(function(e,t,r){return t.toUpperCase()+r.toLowerCase()}))}Object.keys(t).forEach((function(e){n["is".concat(a(e))]=function(r){return o(r)===t[e]}})),exports.default=n,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/type.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/urlTool.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=require("../../../@babel/runtime/helpers/createForOfIteratorHelper"),e=global.bc("platform","ec");function t(e){if(-1==e.indexOf("?"))return{};var t,n=e.split("?")[1].split("&")||[],o={},a=r(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;o[i.split("=")[0]]=i.split("=")[1]}}catch(r){a.e(r)}finally{a.f()}return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getQueryObject=function(r){return t(r)},exports.getUrl=function(r,e){return(r+=(r.indexOf("?")<0?"?":"")+a(e)).startsWith("/")?r:"/"+r},exports.getUrlParam=a,exports.handelUrl=function(r){var e={},t="";if(-1!=r.indexOf("?")){var n=r.split("?");t=n[0],(n[1].split("&")||[]).forEach((function(r,t){var n=r.split("=");e[n[0]]=n[1]}))}else t=r;return{getParam:function(r){return e[r]},setParam:function(r,t){return e[r]=t,this},delParam:function(r){return delete e[r],this},hasParam:function(r){return"string"==typeof r&&Object.keys(e).indexOf(r)>-1},export:function(){var r=[];return Object.keys(e).forEach((function(t){r.push("".concat(t,"=").concat(e[t]))})),t+"?"+r.join("&")}}},exports.urlParse=function(r){for(var e,t=/([^=?&]+)=?([^&]*)/g,n={};e=t.exec(r);){var a=o(e[1]),i=o(e[2]);a in n||(n[a]=i)}return n},exports.urlStringify=function(r,e){e=e||"";var t=[];for(var o in"string"!=typeof e&&(e="?"),r)n.call(r,o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]));return t.length?e+t.join("&"):""},exports.urlqueryString=t;var n=Object.prototype.hasOwnProperty;function o(r){return decodeURIComponent(r.replace(/\+/g," "))}function a(r){var e="";for(var t in r){var n=void 0!==r[t]?r[t]:"";e+="&".concat(t,"=").concat(n)}return e?e.substring(1):""}global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/urlTool.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/wxWorkShare.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","ec"),o=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateWxWorkShareInfo=function(){var e,r,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=n.ctx,a=n.shareInfo;null===(e=l=l||o.getCurrentPages()[o.getCurrentPages().length-1])||void 0===e||null===(r=e.selectComponent("#ec:common-ec-wxworkShare"))||void 0===r||null===(t=r.selectComponent("#wxworkShareProxy"))||void 0===t||t.updateShareInfo(a)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/wxWorkShare.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ec/RAW/utils/youshuTrack.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),t=global.bc("platform","ec"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.youShutrack=exports.youShuSearch=void 0,r.getApp();var u=r.requirePlatform("cms").main.CMS;exports.youShutrack=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{spuIdkey:"id",spuNamekey:"title",trackNameEnum:1},o=r&&r.spuIdkey?r.spuIdkey:"id",a=r&&r.spuNamekey?r.spuNamekey:"title",c={1:"expose_sku_component",2:"trigger_sku_component"};try{var s=r&&r.trackNameEnum?c[r.trackNameEnum]:c[1];Array.isArray(t)?t.forEach((function(e){u.callYouShuMethod("track",s,{spu:{spu_id:e[o].toString(),spu_name:e[a]},sku:{sku_id:e[o].toString(),sku_name:e[a]}})})):function(t){return"object"==e(t)&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length}(t)&&u.callYouShuMethod("track",s,{spu:{spu_id:t[o].toString(),spu_name:t[a]},sku:{sku_id:t[o].toString(),sku_name:t[a]}})}catch(s){}},exports.youShuSearch=function(e){try{u.callYouShuMethod("track","search",{keyword:e})}catch(e){}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'ec/RAW/utils/youshuTrack.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("hudong/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./titan.bootstrap.js");var t=global.bc("platform","hudong");require("./titan-scoped-env.js").wx,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'hudong/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("hudong/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'hudong/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("hudong/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","hudong",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'hudong/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("hudong/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var e=global.bc("platform","hudong");require("./titan-scoped-env.js").wx.rprm.pub({statType:"9335879931"},"new"),global.ec(e),global.beginDefineBootstrap=!1,global.emr("hudong"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'hudong/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_couponing/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'onecrm_public_couponing/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_couponing/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","onecrm_public_couponing",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'onecrm_public_couponing/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_couponing/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var o=global.bc("platform","onecrm_public_couponing");global.ec(o),global.beginDefineBootstrap=!1,global.emr("onecrm_public_couponing"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'onecrm_public_couponing/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_register/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'onecrm_public_register/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_register/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","onecrm_public_register",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'onecrm_public_register/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("onecrm_public_register/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var e=global.bc("platform","onecrm_public_register");global.ec(e),global.beginDefineBootstrap=!1,global.emr("onecrm_public_register"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'onecrm_public_register/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/BloomFilter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/classCallCheck"),t=require("../../@babel/runtime/helpers/createClass"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;e(this,r),this.size=t,this.storage=this.createStore(t)}return t(r,[{key:"insert",value:function(e){var t=this;this.getHashValues(e).forEach((function(e){return t.storage.setValue(e)}))}},{key:"mayContain",value:function(e){for(var t=this.getHashValues(e),r=0;r<t.length;r+=1)if(!this.storage.getValue(t[r]))return!1;return!0}},{key:"createStore",value:function(e){for(var t=[],r=0;r<e;r+=1)t.push(!1);return{getValue:function(e){return t[e]},setValue:function(e){t[e]=!0}}}},{key:"hash1",value:function(e){for(var t=0,r=0;r<e.length;r+=1){t=(t<<5)+t+e.charCodeAt(r),t&=t,t=Math.abs(t)}return t%this.size}},{key:"hash2",value:function(e){for(var t=5027,r=0;r<e.length;r+=1){t=(t<<5)+t+e.charCodeAt(r)}return Math.abs(t%this.size)}},{key:"hash3",value:function(e){for(var t=0,r=0;r<e.length;r+=1){t=(t<<5)-t,t+=e.charCodeAt(r),t&=t}return Math.abs(t%this.size)}},{key:"getHashValues",value:function(e){return[this.hash1(e),this.hash2(e),this.hash3(e)]}}]),r}(),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/BloomFilter.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/DelegateRequestTask.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DelegateRequestTask=i,exports.FakeRequestTask=o,exports.bindThenFn=r;var n=["abort","onHeadersReceived","offHeadersReceived","offProgressUpdate","onProgressUpdate"],s=function(){};function r(e,n){e&&n&&n.then&&(e.then=n.then.bind(n),e.catch=n.then.bind(n,void 0),e.finally=function(e){return n.then((function(n){return t.Promise.resolve(e()).then((function(){return n}))}),(function(n){return t.Promise.resolve(e()).then((function(){return t.Promise.reject(n)}))}))})}function i(e,n){if(n)r(this,n);else{var s={};n=new t.Promise((function(e,t){s.resolve=e,s.reject=t})),s.promise=n,r(this,n),this._deferred=s}this._ops=[],this.setRequestTask(e)}function o(e){r(this,e)}Object.assign(i.prototype,{_exec:function(e){this._realTask?(0!==this._ops.length&&this._flush(),e(this._realTask)):this._ops.push(e)},_flush:function(){var e=this;this._ops.splice(0).forEach((function(t){return t(e._realTask)}))},setRequestTask:function(e){this._realTask=e,e&&(this._deferred&&"function"==typeof e.then&&e.then(this._deferred.resolve,this._deferred.reject),0!==this._ops.length&&this._flush())}},n.reduce((function(e,t){return e[t]=function(){var e=arguments;this._exec((function(n){n[t]&&n[t].apply(n,e)}))},e}),{})),Object.assign(o.prototype,n.reduce((function(e,t){return e[t]=s,e}),{}),{then:function(){return this},catch:function(){return this},finally:function(){return this}}),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/DelegateRequestTask.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/InterceptorManager.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/classCallCheck"),r=require("../../@babel/runtime/helpers/createClass"),t=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("./utils"),o=n.Promise;exports.default=function(){function t(){var r=this;e(this,t),this.interceptorsMap={},this.queue=[],n.wx.onAppHide((function(){r.queue.slice(0).forEach((function(e){try{e.hide&&e.hide()}catch(e){}}))})),n.wx.onAppShow((function(){r.queue.slice(0).forEach((function(e){try{e.show&&e.show()}catch(e){}}))}))}return r(t,[{key:"addInterceptor",value:function(e,r){var t=this.interceptorsMap[e];t||(t=[],this.interceptorsMap[e]=t),t.push(r)}},{key:"removeInterceptor",value:function(e,r){var t=this.interceptorsMap[e];if(t){var n=t.indexOf(r);-1!==n&&t.splice(n,1)}}},{key:"callInterceptor",value:function(e,r,t){var c=this;t||(t={}),t.forceSync&&(t.expectSync=!0);var u,a=this.interceptorsMap[e];if(!a||0===a.length){if(t.expectSync)return;return n.Promise.resolve()}for(var s=function(){var e=a[l];if(!t.forceSync&&u instanceof o)u=u.then((function(){return e.apply(null,r)})),t.ignoreError&&(u=u.catch(i.noop));else try{u=e.apply(null,r)}catch(e){if(!t.ignoreError)throw e}},l=0,f=a.length;l<f;l+=1)s();if(t.forceSync&&(u=void 0),u instanceof o){var p=(0,i.createDeferred)();if(u.then(p.resolve,p.reject),u=p.promise,"number"==typeof t.timeout&&t.timeout>0){var h=n.setTimeout((function(){console.warn("[rprm warn] ".concat(e," 拦截器执行超时，将跳过剩余拦截器")),p.resolve()}),t.timeout);u.finally((function(){return n.clearTimeout(h)}))}if("number"==typeof t.hiddenTimeout&&t.hiddenTimeout>=0){var v={hide:function(){if(0===t.hiddenTimeout)p.resolve();else{var r=n.setTimeout((function(){console.warn("[rprm warn] ".concat(e," 拦截器执行超时，将跳过剩余拦截器")),p.resolve()}),t.hiddenTimeout);u.finally((function(){return n.clearTimeout(r)}))}}};this.queue.push(v),u.finally((function(){var e=c.queue.indexOf(v);-1!==e&&c.queue.splice(e,1)}))}}return t.expectSync||u instanceof o||(u=n.Promise.resolve(u)),u}}]),t}(),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/InterceptorManager.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/InternalError.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./miniprogram_npm/@rprm/titan/index.js");exports.default=e.IgnoredError,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/InternalError.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/RequestError.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createClass"),r=require("../../@babel/runtime/helpers/classCallCheck"),t=require("../../@babel/runtime/helpers/inherits"),l=require("../../@babel/runtime/helpers/createSuper"),a=require("../../@babel/runtime/helpers/wrapNativeSuper"),u=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(a){t(i,a);var u=l(i);function i(e,t){var l;return r(this,i),(l=u.call(this,t)).type=e,l}return e(i)}(a(Error));exports.default=i,global.ec(u);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/RequestError.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/appSessionIdManager.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createClass"),s=require("../../@babel/runtime/helpers/classCallCheck"),i=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,t=(n=require("./genId"))&&n.__esModule?n:{default:n};exports.default=new(function(){return e((function e(){var i=this;s(this,e),this.hideTime=0,this.sessionId="",this.sessionExp=-1,this.getSessionId=function(e){return i.sessionExp<0?(i.sessionId||(i.sessionId=i.genSessionId(e)),i.sessionId):(Date.now()-i.hideTime>60*i.sessionExp*1e3&&(i.hideTime=Date.now(),i.sessionId=i.genSessionId(e)),i.sessionId)},this.onAppHide=function(){i.hideTime=Date.now()},this.setSessionExp=function(e){e=+e,Number.isNaN(e)&&(e=10),i.sessionExp=e},this.genSessionId=function(e){return"".concat(e).concat((0,t.default)())}}))}()),global.ec(i);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/appSessionIdManager.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/appSessionMonitor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createClass"),t=require("../../@babel/runtime/helpers/classCallCheck"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=new(function(){return e((function e(){var r=this;t(this,e),this.onHideCounter=0,this.preventHide=function(){++r.onHideCounter},this.onShow=function(){return r.onHideCounter<=0?(r.onHideCounter=0,!0):(--r.onHideCounter,!1)},this.onHide=function(){return r.onHideCounter<=0}}))}()),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/appSessionMonitor.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/appSessionTimer.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createClass"),r=require("../../@babel/runtime/helpers/classCallCheck"),t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=new(function(){return e((function e(){var t=this;r(this,e),this.recorder=new Map,this.get=function(e){var r=t.recorder.get(e);return r?Date.now()-r:0},this.set=function(e){t.recorder.set(e,Date.now())}}))}()),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/appSessionTimer.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/appWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm"),a=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=d(require("./genId")),n=d(require("./currentRoute")),o=d(require("./appSessionMonitor")),p=d(require("./appSessionTimer")),i=d(require("./appSessionIdManager")),c=d(require("./recursiveDecodeURIComponent")),u=require("./pageWrapper"),f=require("./utils"),s=require("./constants"),h=require("./pageState");function d(e){return e&&e.__esModule?e:{default:e}}var l=a.wx,v=l.onAppShow,y=l.onAppHide;exports.default=function(t){var d={},l=d;t.getEnterQuery=function(){return l};var S=t.cuid,g=t.pvars,q=t.pageOpts,w=function(r){if(t.privateData.appOnBackground=!1,r&&"object"==e(r)){if(l!==d&&a.wx.getEnterOptionsSync()===a.wx.getLaunchOptionsSync()||(l=JSON.parse(JSON.stringify(r.query||{}))),function(e,t){var a=(0,f.findContextByPagePath)(e.path);(0,u.pubProductIdFromContext)(t,a)}(r,t),r.path&&n.default.set(r.path),r.path&&r.query&&"object"==e(r.query)){var o,p=[];for(var i in r.query)r.query[i]=(0,c.default)(r.query[i]),p.push("".concat(i,"=").concat(encodeURIComponent(r.query[i]))),t.recUrlParam(r.path,i,r.query[i]);(o=p.join("&"))&&(o="?".concat(o)),q[r.path]=o}if(1129===r.scene||"1129"===r.scene)return S.includes("robot")||(t.cuid="robot-".concat(S)),t.ancAPI="";r.scene&&t.priv({scene:r.scene}),t.privateData.onLauchScene||(t.privateData.onLauchScene=g.scene),r.referrerInfo&&r.referrerInfo.appId&&t.priv({fromappid:r.referrerInfo.appId})}},m=function(){w(arguments[0]),t.privateData.hasLaunched||(t.privateData.hasLaunched=!0,t.rec({et:"autotrack",en:"applaunch",elementid:"appLaunch",eventtype:"lifecycle"}));var e=o.default.onShow();if(e){var a="".concat(S).concat((0,r.default)());p.default.set(a),t.priv({appShow:a,session_id:i.default.getSessionId(S)})}e&&t.rec({et:"autotrack",en:"appshow",elementid:"appShow",eventtype:"lifecycle"}),t.privateData.shouldReLaunch&&(t.wxFuncs.reLaunch(t.privateData.shouldReLaunch),delete t.privateData.shouldReLaunch)},D=function(){t.privateData.appOnBackground=!0;var e=o.default.onHide();if(e&&i.default.onAppHide(),e){var a=t.pvars.appShow,r=p.default.get(a),n=((0,h.getCurrentPageState)()||{}).showTime||Date.now(),c=Date.now()-n;t.rec({et:"autotrack",en:"apphide",appHide:r,eventtype:"lifecycle",pg_duration_time:c,pg_stay_length:c})}};"function"==typeof v&&v(m),"function"==typeof y&&y(D);var L=a.App;a.wx.App=function(){arguments[0]||(arguments[0]={});var e=arguments[0],r=e.onLaunch,n=e.onShow,o=e.onHide;return arguments[0].onLaunch=function(){var e;if("function"==typeof r)try{e=r.apply(this,arguments)}catch(t){e=t}w(arguments[0]);try{a.wx.getStorageSync(s.WX_SESSION_WXAPP_SESSION)}catch(e){}if(t.privateData.hasLaunched||(t.privateData.hasLaunched=!0,t.rec({et:"autotrack",en:"applaunch",elementid:"appLaunch",eventtype:"lifecycle"})),e instanceof Error)throw e;return e},"function"!=typeof v&&(arguments[0].onShow=function(){var e;if("function"==typeof n)try{e=n.apply(this,arguments)}catch(t){e=t}if(m(arguments),e instanceof Error)throw e;return e}),"function"!=typeof y&&(arguments[0].onHide=function(){var e;if(t.privateData.appOnBackground=!0,"function"==typeof o)try{e=o.apply(this,arguments)}catch(t){e=t}if(D(),e instanceof Error)throw e;return e}),L.apply(this,arguments)}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/appWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/authLogin.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),r=require("../../@babel/runtime/helpers/defineProperty"),t=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("./utils"),u=require("./constants"),a=s(require("./RequestError")),i=s(require("./session"));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.retry)((function(){return new n.Promise((function(e,r){n.wx.login({success:e,fail:r})})).then((function(e){if(!e.code)throw new Error;return e})).catch((function(){var e=new a.default(u.ERR_WX_LOGIN_FAILED,"微信登录失败，请检查网络状态");return n.Promise.reject(e)}))}));exports.default=(0,o.sharedFn)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.forceLogin,f=void 0===s||s,d=this;return(f?n.Promise.resolve(!1):function(e){return new n.Promise((function(t){var n=i.default.get(u.WX_SESSION_WXAPP_SESSION);if(!n)return t(!1);var a=e.getExtConfigSync(),s=a.form||{},c=(0,o.getMainHostInfo)(a).mainHost;e.cloudRequest({url:"".concat(c||a.api.host,"/fe/mapi/user/current"),method:"POST",header:r({},u.WX_HEADER_TOKEN,n.token),data:s,success:function(e){var r=e.data;r&&0==r.errcode?t(!0):t(!1)},fail:function(){return t(!1)}})}))}(d)).then((function(r){return r?{data:i.default.get(u.WX_SESSION_WXAPP_SESSION),errcode:0,errmsg:""}:function(r){return new n.Promise((function(t,n){var s=r.getExtConfigSync(),f=s.form||{};c().then((function(c){var d=(0,o.getMainHostInfo)(s).mainHost;r.cloudRequest({url:"".concat(d||s.api.host,"/fe/mapi/user/login"),method:"POST",data:Object.assign({},f,{code:c.code}),success:function(r){var o=r.data;if(0==o.errcode)i.default.set(u.WX_SESSION_WXAPP_SESSION,e(e({},o.data),{},{scope:"snsapi_userinfo"})),t(o);else{var s="登录失败("+o.errcode+")："+(o.errmsg||"未知错误"),c=new a.default(u.ERR_LOGIN_SESSION_NOT_RECEIVED,s);n(c)}},fail:function(e){var r=new a.default(u.WX_DOMAIN_URL_FAILED,e.errMsg||"request:fail");n(r)}})})).catch(n)}))}(d)}))})),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/authLogin.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/buildRequestFn.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=require("../../@babel/runtime/helpers/typeof");require("../../@babel/runtime/helpers/Arrayincludes");var t=require("../../@babel/runtime/helpers/objectSpread2"),a=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,v){var y=v.requestFn,q=v.maxRequestConcurrent,g=void 0===q?1/0:q,k=v.concurrencyHolder,R=void 0===k?a:k,_=v.preprocessor,w=v.postprocessor,T=v.isCloud,C=new d.FakeRequestTask,x=[],j={},H=Object.create(null),M="";try{M=a.config.api.host}catch(e){}var A="";try{A=a.config.form.pid}catch(e){}A||(A=a.pvars.pid),A||(A=a.vars.pid||a.vars.merchant_id);var P=function(e){var r,o=new n.Promise((function(n){a.globalConfig.enableHttp2&&!Reflect.has(e,"enableHttp2")&&(e.enableHttp2=!0),++R.concurrency,f.default.updateStartTime(e),(0,p.normalizeHeaders)(e.header),r=y(t(t({},e),{},{complete:n,success:void 0,fail:void 0}))})).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(--R.concurrency,x.length){var o=x.shift(),u=o.that,s=o.opts,c=o.delegator;s.__dequeueTime=Date.now(),b(s,"dequeue","rprm"),c.setRequestTask(D.call(u,s))}return r.statusCode||"string"!=typeof r.errMsg||-1===r.errMsg.indexOf(":fail")||a.systemInfo.networkType?"function"==typeof w?w(e,r):r:new n.Promise((function(r,a){(0,i.onNetworkConnect)((function(){f.default.increaseRetryCount(e),D(t(t({},e),{},{complete:void 0,success:void 0,fail:void 0})).then(r,a)}))}))})).then((function(e){return(0,p.checkResponse)(e)?e:n.Promise.reject(e)}));return(0,d.bindThenFn)(r,o),{promise:o,task:r||new d.FakeRequestTask(o)}},O=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.callWxCallback)(e,r,(0,p.checkResponse)(r))},D=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof _){if(!(i=_(i)))return C;if("function"==typeof i.then)return i}if(a.isRobot&&i.url&&i.url!=="https://".concat(a.trackAPI,"/collection/transaction"))return C;var f=this;if((!h.isTitanEnv||T)&&R.concurrency>=g){var p=new d.DelegateRequestTask;return null==i.__enqueueTime&&(i.__enqueueTime=Date.now()),b(i,"enqueue","rprm"),x.push({that:f,opts:i,delegator:p}),p}var v,y,q,k=i,w=k.cache,D=k.bypass;if(i.header=i.header||{},D||i.header["X-mapitoken-bypass"]?(i.header["X-mapitoken-bypass"]="true",delete i.bypass):(0,s.default)(i),i.header["weimob-pid"]=i.header["weimob-pid"]||A||"N/A",(0,c.default)(a,i.header,A,T),(i.path&&m.includes(i.path)||i.url&&m.some((function(e){return i.url==="".concat(M).concat(e)})))&&(w={expiration:1e3},v=!0),w){var F,I,N=i,S=N.data,X=void 0===S?{}:S,E=[i.url||i.path];if("object"==r(w)){F=w.expiration;var z=w,J=z.cacheKeys;if(Array.isArray(J)){var K,U=e(J);try{for(U.s();!(K=U.n()).done;){var W=K.value;E.push(W),E.push(X[W])}}catch(e){U.e(e)}finally{U.f()}}else"string"==typeof J&&(E.push(J),E.push(X[J]));I=w.sign}y=JSON.stringify(E),null!=I&&(H[I]=y);var B=!0;j[y]||(B=!1,delete i.cache,j[y]=P(i),"number"==typeof F&&j[y].promise.then((function(){n.setTimeout((function(){delete j[y]}),F)}))),q=function(e,r,n){var i=j[e],s=i.promise,c=i.task;return s=s.then((function(i){if(r)return t(t({},i),{},{__isCache:r});var s=(0,u.default)(i.data);if(n){if(!s||"0"!=i.data.errcode)return s&&"0700100100001"==i.data.errcode&&(0,o.default)(a),delete j[e],i;try{for(var c={},d=0,f=["openid","appid","pid","wid","unionid"];d<f.length;d++){var p=f[d];i.data.data[p]&&(c[p]=i.data.data[p])}a.priv(c),l.default.clear()}catch(e){console.warn("[RPRM]从登录信息中获取参数失败",e)}}return s&&Reflect.has(i.data,"errcode")&&"0"!=i.data.errcode&&(0,o.default)(a),s&&"0"==i.data.errcode||delete j[e],i})),{task:new d.DelegateRequestTask(c,s),promise:s}}(y,B,v)}else q=P(i);var G=q,L=G.task,Q=G.promise,V=O.bind(null,i);return Q.then(V,V).catch(console.error.bind(console,"[RPRM]网络请求错误")),L||C};return{request:D,removeRequestCache:function(e){var t;if(e&&("object"==r(e)?t=e.sign:"string"==typeof e&&(t=e)),t){var a=H[t];a&&delete j[a],delete H[t]}}}};var i=require("./getNetwork"),o=v(require("./robotTerminator")),u=v(require("./isObject")),s=v(require("./encryptHeader")),c=v(require("./wxRequestHeadersMerger")),l=v(require("./tokenStore")),d=require("./DelegateRequestTask"),f=v(require("./requestMetaCarrier")),p=require("./utils"),h=require("./titan-adapter/index");function v(e){return e&&e.__esModule?e:{default:e}}var m=["/fe/mapi/user/login","/fe/mapi/user/loginUserInfo","/fe/mapi/user/loginX"],b=function(e,r,t){var a=e.__on__;if(Array.isArray(a))try{a.forEach((function(e){e(r,t)}))}catch(e){}};global.ec(a);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/buildRequestFn.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/cloudRequest.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=a(require("./isObject")),u=require("./utils"),s=a(require("./buildRequestFn")),c=require("./DelegateRequestTask");function a(e){return e&&e.__esModule?e:{default:e}}var l=/^https?:\/\/mapi[^.]*\.weimob[^.]*\.com/i;exports.default=function(t){t.cloudRequest=t.request,t.privateData.initCloudSuccess=!1;var a=t.getExtConfigSync(),i=a.api,n=a.cloud;if(1154!==(0,u.safeGet)((function(){return r.wx.getEnterOptionsSync().scene}))&&(0,o.default)(n)&&n.resourceAppid&&n.resourceEnv&&(0,o.default)(r.wx.cloud)&&r.wx.cloud.Cloud)try{var p=new r.wx.cloud.Cloud({resourceAppid:n.resourceAppid,resourceEnv:n.resourceEnv});if(!p.callContainer)return;t.privateData.initCloudSuccess=!1;var d=!1,f=[];t.globalConfig.forceCallContainer?t.cloudRequest=function(e){var t=new c.DelegateRequestTask;return f.push({opts:e,delegator:t}),t}:t.cloudRequest=function(r){var o=new c.DelegateRequestTask;if("string"!=typeof r.url&&"string"==typeof r.path)return f.push({opts:r,delegator:o}),o;if(!l.test(r.url))return t.request(r);var s=t.request(e(e({},r),{},{success:void 0,fail:void 0,complete:function(e){d||e.statusCode&&!(e.statusCode>=400)?(o.setRequestTask(s),(0,u.callWxCallback)(r,e,(0,u.checkResponse)(e))):t.privateData.initCloudSuccess?t.cloudRequest(r):f.push({opts:r,delegator:o,error:e})}}));return o},(0,u.retry)(p.init)().then((function(){var c=(0,s.default)(t,{isCloud:!0,requestFn:p.callContainer.bind(p),concurrencyHolder:{concurrency:0},preprocessor:function(e){if(!(0,o.default)(e))return console.error("[RPRM]cloudRequest函数的入参必须是对象");if("string"!=typeof e.url&&"string"!=typeof e.path){var r={errMsg:"[RPRM]cloudRequest函数的path(${opts.path})或url(${opts.url})入参必须为string"},u=e.fail,s=e.complete;return"function"==typeof u&&u.call(void 0,r),"function"==typeof s&&s.call(void 0,r),console.error(r.errMsg)}if(!e.path){if(!l.test(e.url))return t.request(e);e.path=e.url.replace(l,"")}return e},postprocessor:function(r,o){return o.isCloud=!0,(0,u.checkResponse)(o)||o.statusCode||t.globalConfig.forceCallContainer?o:(!r.url&&(r.url=i.host+r.path),t.request(e(e({},r),{},{complete:void 0,success:void 0,fail:void 0})))}}),a=c.request,n=c.removeRequestCache;t.cloudRequest=a,t.removeCloudRequestCache=n,f.splice(0).forEach((function(e){var r=e.opts,o=e.delegator;try{o.setRequestTask(t.cloudRequest(r))}catch(e){}})),t.privateData.initCloudSuccess=!0,t.privateData.onInitCloudSuccessCbs&&t.privateData.onInitCloudSuccessCbs.splice(0).forEach((function(e){try{e()}catch(e){r.setTimeout((function(){throw e}),0)}}));try{r.wx.weimob&&(r.wx.weimob.isCloud=!0)}catch(e){}})).catch((function(e){d=!0,t.cloudRequest=t.request,f.splice(0).forEach((function(t){var o=t.delegator,s=t.opts,c=t.error;try{o.setRequestTask(r.Promise.reject(c||e)),(0,u.callWxCallback)(s,c||e,!1)}catch(e){}}))}))}catch(p){}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/cloudRequest.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/compareVersion.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(var n=(e||"").split("."),l=(t||"").split("."),a=0,s=Math.min(n.length,l.length);a<s;a+=1){var i=n[a],o=l[a];if(r(i)&&r(o)){var u=parseInt(i)-parseInt(o);if(0!==u)return u}else if(i!==o)return i>o?1:-1}return n.length-l.length};var t=/^\d+$/,r=function(e){return t.test(e)};global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/compareVersion.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/componentWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=d(require("./heatmapWrapper")),a=d(require("./shareTimelineWrapper")),o=require("./pageWrapper"),p=d(require("./scrollEnReporter"));function d(e){return e&&e.__esModule?e:{default:e}}exports.default=function(e){var d=e.heatmap;d=d.bind(e);var n=t.Component;t.Component=function(){if(!arguments[0])return n.apply(this,arguments);var t=new Set(["lifetimes","created","attached","ready","moved","detached","error","methods"]);for(var s in arguments[0])t.has(s)||(arguments[0]=(0,r.default)({opts:arguments[0],heatmap:d,funcname:s}));for(var u in arguments[0].methods=arguments[0].methods?arguments[0].methods:{},(0,o.wrapPageOptions)(e,arguments[0].methods),(0,a.default)(e,arguments[0],!0),(0,p.default)(arguments[0].methods),arguments[0].methods){var i=arguments[0].methods[u];"function"==typeof i&&(arguments[0].methods=(0,r.default)({opts:arguments[0].methods,heatmap:d,funcname:u}))}return n.apply(this,arguments)}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/componentWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=Object.assign({service:"weimobos",systemName:"saas",bizType:"ec",statType:1039052760,apmRequestBody:!0,disableTimelineTap:!0,apmToken:"9IAO+2DnSaWQrQ2Hm6rNoQ/0"},"function"==typeof t.wx.getModuleInitParams?t.wx.getModuleInitParams().config:null),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/configCenter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),a=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getConfig=function(e){var a=this;return t.isTitanEnv&&e&&(a=a[s.SELF_KEY]),{bi:{receiveUrlOpts:a.globalConfig.receiveUrlOpts,pagenameProcessor:a.pagenameProcessor,pagenameRegex:a.pagenameRegex,pagenames:a.pagenames},apm:{errcodes:a.errcodes,whitelist:a.whitelist,apmRequestBody:a.apmRequestBody},ad:{}}},exports.setConfig=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=this;t.isTitanEnv&&n&&(i=i[s.SELF_KEY]);var o=a.bi,p=a.apm,c=a.ad,g=a.extra;(0,r.isObject)(o)&&function(e,a,t){(0,r.hasOwn)(a,"receiveUrlOpts")&&e.updateConfig({receiveUrlOpts:a.receiveUrlOpts}),(0,r.hasOwn)(a,"pagenameProcessor")&&(e.pagenameProcessor=a.pagenameProcessor),(0,r.hasOwn)(a,"pagenameRegex")&&(e.pagenameRegex=a.pagenameRegex),(0,r.hasOwn)(a,"pagenames")&&(e.pagenames=a.pagenames),(0,r.isObject)(t)&&e.pub(t,"new"),(0,r.hasOwn)(a,"extra")&&(0,r.isObject)(a.extra)&&e.pub(a.extra,"new")}(i,o,g),(0,r.isObject)(p)&&function(a,t,s){(0,r.hasOwn)(t,"errcodes")&&(a.errcodes=t.errcodes),(0,r.hasOwn)(t,"whitelist")&&(a.whitelist=t.whitelist),(0,r.hasOwn)(t,"apmRequestBody")&&(a.apmRequestBody=t.apmRequestBody),a.apmExtra=e(e({},s),t.extra)}(i,p,g),(0,r.isObject)(c)&&function(a,r,t){a.adExtra=e(e({},t),r.extra)}(i,c,g)};var r=require("./utils"),t=require("./titan-adapter/index"),s=require("./titan-adapter/makeProxy");global.ec(a);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/configCenter.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/constants.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var _=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.WX_SESSION_WXAPP_SESSION=exports.WX_MOCK_EXT_CONFIG=exports.WX_HEADER_TOKEN=exports.WX_DOMAIN_URL_FAILED=exports.INTERNAL_TIMESTAMP=exports.INTERNAL_REAL_URL=exports.INTERNAL_PAGE_INSTANCE=exports.ERR_WX_LOGIN_FAILED=exports.ERR_LOGIN_SESSION_NOT_RECEIVED=exports.DEV_TRACK_API=exports.DEFAULT_TRACK_API=void 0;var E=require("./titan-adapter/index");exports.WX_SESSION_WXAPP_SESSION=E.isTitanEnv?"WOS_WXAPP_SESSION":"WX_SESSION_WXAPP_SESSION",exports.WX_MOCK_EXT_CONFIG="WX_MOCK_EXT_CONFIG",exports.ERR_WX_LOGIN_FAILED="ERR_WX_LOGIN_FAILED",exports.ERR_LOGIN_SESSION_NOT_RECEIVED="ERR_LOGIN_MISSING_SESSION",exports.WX_DOMAIN_URL_FAILED="WX_DOMAIN_URL_FAILED",exports.WX_HEADER_TOKEN="X-WX-Token",exports.DEFAULT_TRACK_API="track.weimob.com",exports.DEV_TRACK_API="track.weimobqa.com",exports.INTERNAL_TIMESTAMP="__internal_timestamp__",exports.INTERNAL_REAL_URL="__internal_real_url__",exports.INTERNAL_PAGE_INSTANCE="__internal_page_instance__",global.ec(_);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/constants.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/core.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./polyfill");var t=U(require("./cuid")),i=U(require("./extConfig")),n=U(require("./init")),a=U(require("./currentUrl")),u=U(require("./dot")),o=U(require("./rec")),l=U(require("./pub")),d=U(require("./priv")),f=U(require("./form")),s=U(require("./subMes")),c=U(require("./deepClone")),p=U(require("./BloomFilter")),g=U(require("./heatmap")),q=U(require("./startTime")),m=U(require("./zj")),v=U(require("./version")),b=U(require("./updateConfig")),I=require("./configCenter"),x=U(require("./qs")),C=require("./utils"),h=U(require("./recUrlParam")),y=U(require("./extConfigWrapper")),S=U(require("./getSession")),w=U(require("./session")),_=U(require("./authLogin")),P=U(require("./onInitCloudSuccess")),H=U(require("./getPageName")),T=U(require("./titan-adapter/makeProxy")),j=require("./hmac"),M=require("./titan-adapter/index"),z=U(require("./pubGlobal")),O=U(require("./InterceptorManager")),A=U(require("./uuid")),F=require("./sharedObject");function U(e){return e&&e.__esModule?e:{default:e}}exports.default=function(){var e={},U=new O.default;Object.assign(e,{init:n.default,currentUrl:a.default,dot:u.default,rec:o.default,pub:l.default,pubGlobal:z.default,priv:d.default,form:f.default,subMes:s.default,deepClone:c.default,BloomFilter:p.default,HmacSHA1:j.HmacSHA1,SHA1:j.SHA1,heatmap:g.default,zj:m.default,startTime:q.default,updateConfig:b.default,setConfig:I.setConfig,getConfig:I.getConfig,qs:x.default,getStringSize:C.getStringSize,getPageName:H.default,flattenObject:C.flattenObject,tracepromotion:function(){console.warn("[RPRM]获取tracepromotionid的功能已经自动化请删除tracepromotion埋点")},csource:function(e){this.pub.apply(this,[{csource:e},"new"])},getExtConfigSync:function(){return k.config},recUrlParam:h.default,sharedFn:C.sharedFn,retry:C.retry,getMainHostInfo:C.getMainHostInfo,getSession:S.default,onCloudInitSuccess:P.default,uuid:A.default,session:w.default,authLogin:_.default,cuid:t.default.cuid,cuid_time:t.default.cuid_time,config:i.default,sdk:r.wx.version&&r.wx.version.version?r.wx.version.version:"0.0.0",urlstring:"",globalConfig:{},pageOpts:{},vars:{},zvars:{type:0,itemIds:[],sceneId:0},systemInfo:{networkType:"Unknown"},pagenameProcessor:null,pagenameRegex:[],pagenames:{},wxFuncs:{},errcodes:[],whitelist:[],currentRoute:function(){try{return __wxConfig.appLaunchInfo?__wxConfig.appLaunchInfo.path:""}catch(e){return""}}(),ancAPI:"",statType:"",bizType:"",debug:!1,appHide:!1,initialized:!1,concurrency:0,land_page:1,page_title:"",referrer:"",v:v.default,privateData:{},environment:"production",addInterceptor:U.addInterceptor.bind(U),removeInterceptor:U.removeInterceptor.bind(U),callInterceptor:U.callInterceptor.bind(U)}),(0,F.defineSharedProps)(e,"core",{globalVars:function(){return{}},pvars:function(){return{}}});var k=M.isTitanEnv?(0,T.default)(e):e;if((0,y.default)(k),k.priv(i.default?i.default.form:{}),M.isTitanEnv){var G=(0,C.safeGet)((function(){return r.titan.getTitanConfig().external.version})),L=(0,C.safeGet)((function(){return i.default.form.extendInfo.wxTemplateId})),R={};null!=G&&(R.appversion=G),null!=L&&(R.template_id=L),k.priv(R)}return k},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/core.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/cuid.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,o=(t=require("./robotIdetifier"))&&t.__esModule?t:{default:t},a=r.wx,i=a.getStorageSync,c=a.setStorage,d=i("rprm_cuid"),u=i("rprm_cuid_time");d||(u=Date.now().toString(),d="".concat(u.slice(-10)).concat(Math.random().toString(32).slice(-10)),(0,o.default)()&&(d.includes("robot")||(d="robot-".concat(d))),c({key:"rprm_cuid",data:d}),c({key:"rprm_cuid_time",data:u})),exports.default={cuid:d,cuid_time:u},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/cuid.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/currentRoute.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","rprm"),e=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./utils");try{"string"==typeof __wxConfig.entryPagePath&&(e.wx.rprm.currentRoute=__wxConfig.entryPagePath.replace(".html",""))}catch(r){}var o={get:function(){var r=(0,t.getCurrentPage)();try{var o=r.route;if(!o)throw new Error;return o}catch(r){return e.wx.rprm.currentRoute}},set:function(r){return e.wx.rprm.currentRoute=r}};exports.default=o,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/currentRoute.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/currentUrl.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,r=(t=require("./currentRoute"))&&t.__esModule?t:{default:t};exports.default=function(e){var t=this.pageOpts,a=e||r.default.get();return a?"".concat(a).concat(t[a]||""):""},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/currentUrl.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/deepClone.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function t(a){var l,o;if("object"==r(a)){if(!a)return a;if(Array.isArray(a)){l=[];var f,i=e(a);try{for(i.s();!(f=i.n()).done;){var s=f.value;o="object"==r(s)?t(s):s,l.push(o)}}catch(e){i.e(e)}finally{i.f()}}else for(var u in l={},a)Reflect.has(a,u)&&(o="object"==r(a[u])?t(a[u]):a[u],l[u]=o)}else l=a;return l},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/deepClone.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/defaultConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={receiveUrlOpts:{chan_id:!0},recShareUrlParams:{sdpTicket:{rename:"sdp_ticketid"},mat_id:!0,goodsid:!0}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/defaultConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/dot.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i,o=require("./getNetwork"),a=r.wx.request.bind(r.wx),n=[],u=[],l=!1;function s(){if(n.length){var e=n.shift();if(e)return r.wx.rprm.dot(e)}if(u.length){var t=u.shift();t&&r.wx.rprm.dot(t)}}(0,o.onNetworkConnect)(s),exports.default=function t(o){var d=this,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2?arguments[2]:void 0,p=this.ancAPI;if(p){if(!c&&null!=this.privateData.loadPageTime&&this.globalConfig.biPostponedSend){var f=Date.now()-this.privateData.loadPageTime;if(f<1e3)return n.push(o),r.clearTimeout(i),void(i=r.setTimeout(s,1e3-f))}if(l)h?u.push(o):n.push(o);else{l=!0,r.setTimeout((function(){l&&(l=!1,s())}),1e3);var v="".concat(p,"?").concat(o);r.setTimeout(a.bind(this,{url:v,dataType:"text",complete:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l=!1,s(),200!==i.statusCode&&(r.wx.hound&&r.wx.hound.debug({url:v,method:"BI ERROR",data:e({retry:h},i)}),h<5&&t.call(d,o,++h))}}),h?1e4:0)}}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/dot.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/encryptHeader.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./hmac"),r=n(require("./isObject")),o=n(require("./tokenStore"));function n(e){return e&&e.__esModule?e:{default:e}}var i="x-tp-uuid";exports.default=function(e){var n=e.url,a=e.data,c=e.header,u=e.encryption,l=e.uuid,f="";if("string"==typeof u&&(f=u),l||u){var d="";if(a&&"string"==typeof a&&(d=a),(0,r.default)(a)&&(d=JSON.stringify(a)),f||(f=o.default.get(c)),f){var s=function(e){return"string"!=typeof e||0!==e.indexOf("http")&&0!==e.indexOf("//")?e:"/"+e.split("/").slice(3).join("/")}(n);l&&(c[i]="string"==typeof l?l:(0,t.HmacSHA1)("".concat(Date.now(),"+").concat(s),f).toString()),c["x-tp-signature"]=(0,t.HmacSHA1)(c[i]?"".concat(d,"+").concat(s,"+").concat(c[i]):"".concat(d,"+").concat(s),f).toString()}else console.error("[RPRM]无法找到token，请求加密失败")}delete e.encryption,delete e.uuid},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/encryptHeader.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/extConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),o=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeGetExtConfig=exports.isMocked=exports.default=void 0;var t,r=require("./constants"),n=(t=require("./isObject"))&&t.__esModule?t:{default:t},f=o.wx,i=f.getStorageSync,c=f.getExtConfigSync,a=f.getAccountInfoSync,u=function(e){var o=null,t=!1;if([function(){if(!e){var f=i(r.WX_MOCK_EXT_CONFIG);if(!(0,n.default)(f)||["api","form"].reduce((function(e,o){return e&&!(0,n.default)(f[o])}),!0))return void console.warn("[rprm]存储的extConfig（".concat(r.WX_MOCK_EXT_CONFIG,"）格式错误，不生效"),f);o=f,t=!0}},function(){o=o||c()},function(){o=o||__wxConfig.ext},function(){o||(o={isMocked:!0},t=!0)},function(){o.form=o.form||(a()||{}).miniProgram},function(){o.form=o.form||Object.assign({},__wxConfig.accountInfo)}].forEach((function(e){try{e()}catch(e){}})),!o.form.appid)try{o.form.appid=o.form.appId,delete o.form.appId}catch(e){}return{extConfig:o,isMocked:t}};exports.safeGetExtConfig=u;var s=u(),d=s.extConfig,p=s.isMocked;exports.isMocked=p,exports.default=d,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/extConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/extConfigWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.wxFuncs.getExtConfigSync=function(){return a.apply(this,arguments)},e.wxFuncs.getExtConfig=function(){return g.apply(this,arguments)},c.isMocked&&p(e),e.updateExtConfig=function(t,n){var i=JSON.parse(JSON.stringify(this.config||{}));n&&!1===n.merge?this.config=t:C(this.config,t),p(this),e.callInterceptor("extConfigChange",[this.config,i],{expectSync:!0,ignoreError:!0}),n&&n.stick?(r({key:o.WX_MOCK_EXT_CONFIG,data:this.config}),n.silent||y("已部分启用, 重新进入小程序后完全生效")):(s({key:o.WX_MOCK_EXT_CONFIG}),n&&n.silent||y("已部分启用, 重新进入小程序后将失效"))},e.removeMockExtConfig=function(e){s({key:o.WX_MOCK_EXT_CONFIG}),g=l,a=x,this.config=(0,c.safeGetExtConfig)(!0).extConfig,e&&e.silent||y("已部分清除, 重新进入小程序后完全清除")}};var n,o=require("./constants"),i=(n=require("./isObject"))&&n.__esModule?n:{default:n},c=require("./extConfig"),f=t.wx,r=f.setStorage,s=f.removeStorage,u=t.wx,g=u.getExtConfig,a=u.getExtConfigSync,l=g,x=a;function C(e,t){return(0,i.default)(t)?(0,i.default)(e)?(Object.keys(t).forEach((function(n){var o=e[n],c=t[n];(0,i.default)(o)&&(0,i.default)(c)?C(o,c):e[n]=c})),e):t:e}function p(e){a=e.getExtConfigSync,g=function(n){var o={errMsg:"getExtConfig: ok",extConfig:e.getExtConfigSync()};if(!n||!n.success&&!n.complete&&!n.fail)return t.Promise.resolve(o);t.setTimeout((function(){"function"==typeof n.success&&n.success(o),"function"==typeof n.complete&&n.complete(o)}),0)}}function y(e){t.wx.showToast({title:e,icon:"none",duration:3e3,complete:function(){}})}global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/extConfigWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/fecommon.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=require("../../@babel/runtime/helpers/typeof"),i=require("../../@babel/runtime/helpers/classCallCheck"),a=require("../../@babel/runtime/helpers/createClass"),n=global.bc("platform","rprm"),o=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=require("./getNetwork"),d=f(require("./InternalError")),p=f(require("./uuid")),s=require("./constants"),u=f(require("./session")),l=f(require("./isObject"));function f(e){return e&&e.__esModule?e:{default:e}}exports.default=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.environment,r=e.actionHost;i(this,n),Object.assign(this,{isGDT:!1,clickId:"",clientId:""}),this.config({actionHost:r,environment:t})}return a(n,[{key:"getActionApi",value:function(){return o.wx.rprm.globalConfig.actionsAddWithMKTApi?"https://mapi".concat(this.actionHost,".com/api3/ggvert-track/collector/api/dataReport"):"https://mapi".concat(this.actionHost,".com/fe/mapi/user/actionsAdd")}},{key:"trackurl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.keys,a=void 0===i?[]:i;Array.isArray(a)||(a=[a]);var n={subscribed:[],then:function(e){return n.subscribed.push(e)}},c=o.wx.App;return o.wx.App=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["onLaunch","onShow"].forEach((function(i){var o=e[i];e[i]=function(){var e,i={},c=arguments,d=c[0];if("object"==r(d.query)){var p,s=t(a);try{for(s.s();!(p=s.n()).done;){var u=p.value;d.query[u]&&(i[u]=d.query[u])}}catch(e){s.e(e)}finally{s.f()}}if(e=i,n.subscribed.forEach((function(t){return t(e)})),"function"==typeof o)return o.apply(this,c)}})),c.call(this,e)},n}},{key:"processMpData",value:function(t){var r=t.authorizerAppId,i=t.pid,a=t.aid,n=t.action,c=t.channelType,d=this.clickId,p=this.vid_appid,s=this.vid_type,u=this.weixinadid,l=this.weixinadinfo;d&&(n.trace=e(e({},n.trace),{},{clickId:this.clickId})),n.url=n.url?n.url:o.wx.rprm.currentUrl();var f={channelType:c,authorizerAppId:r,pid:i,aid:a,action:n};return p&&(f.vid_appid=p),s&&(f.vid_type=s),u&&(f.weixinadid=u),l&&(f.weixinadinfo=l),f}},{key:"processMktData",value:function(t){var r,i=t.authorizerAppId,a=t.pid,n=t.aid,c=t.action,d=t.extra,f=t.channelType,h=u.default.get(s.WX_SESSION_WXAPP_SESSION);h&&(r=h.openid);var m={};return d.orderInfo&&(0,l.default)(d.orderInfo)||(d=e(e({},d),{},{orderInfo:{orderNo:d.orderNo||"",value:c.actionParam&&c.actionParam.value||""}})),Object.assign(m,{"act._id":(0,p.default)(),"act.type":c.actionType,"act.tim":Date.now(),"beat.agent":"rprm","beat._v":o.wx.rprm.v,"beat.environment":this.environment,_t:o.wx.hound.getParentID(!1),_extra:d,"idf.nid":o.wx.rprm.cuid,"idf.typ":"WECHAT_MINI_PROGRAM","idf.chl":f,"idf.clientId":this.clientId,"idf.wechat.appId":i,"idf.saas.pid":a,"spm.host":"https://mapi.weimob.com","spm.page":c.url?c.url:o.wx.rprm.currentUrl(),"spm.referrer":"NA","idf.wechat.openId":r}),this.clickId&&Object.assign(m,{"ad.clickId":this.clickId}),n&&Object.assign(m,{"ad.aid":n}),m}},{key:"actionsadd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.authorizerAppId,i=t.pid,a=t.aid,n=t.action,p=void 0===n?{}:n,s=t.extra,u=void 0===s?{}:s;try{r=r||o.wx.rprm.config.form.appid||o.wx.rprm.config.form.appId,i=i||o.wx.rprm.config.form.pid}catch(e){}if(!r&&!i)return o.Promise.reject(new d.default("actionsadd的入参必须带有authorizerAppId或pid"));if("string"!=typeof p.actionType)return o.Promise.reject(new d.default("actionsadd的入参必须带有action.actionType(字符串)"));var l=this.clickId;if(!o.wx.rprm.globalConfig.actionsAddWithoutClickId&&!o.wx.rprm.globalConfig.actionsAddWithMKTApi&&!l)return o.Promise.reject(new d.default("actionsadd取消 - 未获取广告traceid"));var f={},h=this.isGDT?2:1,m={authorizerAppId:r,pid:i,aid:a,action:p,extra:o.wx.rprm.adExtra?e(e({},o.wx.rprm.adExtra),u):u,channelType:h};f=o.wx.rprm.globalConfig.actionsAddWithMKTApi?this.processMktData(m):this.processMpData(m);var v={"weimob-pid":i,"weimob-action-type":p.actionType},b=this.getActionApi();return o.wx.rprm.systemInfo.networkType?new o.Promise((function(e){o.wx.rprm.request({url:b,method:"POST",header:v,data:f,complete:e,bypass:!0})})):new o.Promise((function(e){(0,c.onNetworkConnect)(o.wx.rprm.request.bind(o.wx.rprm,{url:b,method:"POST",header:v,data:f,complete:e,bypass:!0}))}))}},{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actionHost,r=e.environment;"string"==typeof r&&(this.environment=r),"string"==typeof t&&(this.actionHost=t),"qa"===r?this.clientId="666c61dd-0a4c-4123-a1e4-0f4d1527fc87":"production"===r&&(this.clientId="6c562e80-ed5c-407f-a777-59be970584ed")}}]),n}(),global.ec(n);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/fecommon.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/fix-titan.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");if(void 0!==n.titan&&"0.3.20"===n.titan.getTitanConfig().titanVersion){var i=n.Promise.prototype;["then","catch","finally"].forEach((function(t){var o=i[t];try{i[t]=function(){for(var t=n.titan.getCurrentModuleInfo(),i=0;i<arguments.length;i+=1)"function"==typeof arguments[i]&&(arguments[i]=n.titan.bindModuleContext(t,arguments[i]));return o.apply(this,arguments)}}catch(t){}}))}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/fix-titan.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/form.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){return r.Promise.resolve({errcode:0})},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/form.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/genId.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){return"-".concat(Date.now().toString().slice(-10)).concat(Math.random().toString().slice(-5))},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/genId.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/getNetwork.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.onNetworkConnect=function(e){"function"==typeof e&&s.push(e)};var n=t.wx,o=n.getNetworkType,r=n.onNetworkStatusChange,s=[];function c(e){0!==s.length&&s.splice(0).forEach((function(t){return t(e)}))}exports.default=function(e){try{o({success:function(t){var n=t.networkType;"none"!==n?(Object.assign(e.systemInfo,{networkType:n}),c(n)):delete e.systemInfo.networkType}})}catch(e){}try{r((function(t){if(t.isConnected){var n=t.networkType;Object.assign(e.systemInfo,{networkType:n}),c(n)}else delete e.systemInfo.networkType}))}catch(e){}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/getNetwork.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/getPageName.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./isObject")),a=i(require("./currentRoute"));function i(e){return e&&e.__esModule?e:{default:e}}exports.default=function(r){var i=this.pagenameProcessor,n=this.pagenameRegex,f=this.pagenames,u="";if("function"==typeof i)try{u=i(r)}catch(e){}if(!u&&Array.isArray(n)){var l,c=e(n);try{for(c.s();!(l=c.n()).done;){var o=l.value;try{var s=o.regex,v=o.name;if(Array.isArray(s)){var y,d=e(regx);try{for(d.s();!(y=d.n()).done;){var p=y.value;try{if(p.test(r))return v}catch(e){}}}catch(e){d.e(e)}finally{d.f()}}else if(reg.test(r))return v}catch(e){}}}catch(e){c.e(e)}finally{c.f()}}if(!u&&(0,t.default)(f))return f[function(e){if(!e)return e;var r=e.indexOf("?");return-1!==r&&(e=e.slice(0,r)),"/"===e[0]&&(e=e.slice(1)),e}(r)||a.default.get()]||u},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/getPageName.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/getSession.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n=require("./constants"),o=(t=require("./session"))&&t.__esModule?t:{default:t},u=null;exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validate,i=void 0!==t&&t;if(u)return u;if(!i){var l=o.default.get(n.WX_SESSION_WXAPP_SESSION);if(l)return r.Promise.resolve(l)}return u=this.authLogin({forceLogin:!1}).then((function(){return u=null,o.default.get(n.WX_SESSION_WXAPP_SESSION)})).catch((function(e){return u=null,r.Promise.reject(e)}))},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/getSession.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/getSystemInfo.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getSystemInfoForBI=function(e){var t=e.systemInfo;return{winwidth:t.windowWidth,winheight:t.windowHeight,network:t.networkType||"Unknown",model:t.model,pixelRatio:t.pixelRatio,system:t.system,language:t.language,version:t.version,SDKVersion:t.SDKVersion,brand:t.brand,devicePixelRatio:t.devicePixelRatio,fontSizeSetting:t.fontSizeSetting,platform:t.platform,screenHeight:t.screenHeight,screenWidth:t.screenWidth}};var n=t.wx.getSystemInfoSync.bind(t.wx);exports.default=function(e){try{var t=n();Object.assign(e.systemInfo,t),e.sdk=t.SDKVersion||"0.0.0"}catch(e){}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/getSystemInfo.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/heatmap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),a=require("../../@babel/runtime/helpers/slicedToArray"),r=global.bc("platform","rprm"),i=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=s(require("./deepClone")),o=s(require("./uuid")),h=require("./getSystemInfo"),l=require("./utils"),p=s(require("./qs")),c=require("./pageState");function s(e){return e&&e.__esModule?e:{default:e}}var d={},u=[],g={},f={valueReplacer:function(e){return void 0===e?"":e}};function v(e,t,a){var r="stattype=".concat(e),n={};for(var o in t)n[o.toLowerCase()]=t[o];n.stattype=e;try{d.callInterceptor("syncRec",[n,a],{ignoreError:!0,forceSync:!0}),d.callInterceptor("rec",[n,a],{ignoreError:!0,timeout:4e3}).then((function(){delete n.stattype,r=r+"&"+p.default.stringify(n,f),d.dot(r)}))}catch(e){i.setTimeout((function(){throw e}))}}function _(e,r,i,n,p,s){var g,f,v,_=t(u);try{for(_.s();!(v=_.n()).done;){var m=a(v.value,2)[1];if(i.timeStamp===m.hm.timeStamp||i.changedTouches&&i.changedTouches[0]&&m.hm.changedTouches&&m.hm.changedTouches[0]&&i.changedTouches[0].pageX===m.hm.changedTouches[0].pageX&&i.changedTouches[0].pageY===m.hm.changedTouches[0].pageY||i.detail&&m.hm.detail&&i.detail.pageX===m.hm.detail.pageX&&i.detail.pageY===m.hm.detail.pageY)return}}catch(e){_.e(e)}finally{_.f()}var y=this.ancAPI,T=this.cuid,w=this.v,b=this.pvars,S=this.globalVars,x=this.vars,q=this.getPageName,I=this.cuid_time,D=this.referrer,P=this.page_title,C=void 0===P?"":P;if(y){d=this;var O=q.call(this,r),X=this.config.form,Y=Object.assign({pagename:O},(0,h.getSystemInfoForBI)(this),X,b,(0,l.omit)(S,["bosId","parentVid"]),x,{bos_id:null!==(g=S.bosId)&&void 0!==g?g:"",parent_vid:null!==(f=S.parentVid)&&void 0!==f?f:"",page_title:C,timestamp:Date.now(),hm:i,url:r,cuid:T,cuid_time:I,v:w,scene:b.scene||-1,udid:(0,o.default)(),at:JSON.stringify(s),referrer:D||"",pg_duration_time:Date.now()-(((0,c.getPageState)(e)||{}).showTime||Date.now())});if(p&&(Y.element_xpath=p),n&&(Y.element_id=n),"tap"===i.type){Y.et="autotrack",Y.en="sdk_tap";var j=i.eLeft,H=i.eTop,L=i.eHeight,F=i.eWidth,M=i.detail,N=i.changedTouches,R=i.id_path;j=j||0,H=H||0;var V=M.x,k=M.y,A=N&&N[0]||{clientX:0,clientY:0},E=A.clientX,J=A.clientY;if(Y.ce_x=W(j),Y.ce_y=W(H+this.privateData.scrollTop),Y.e_x=W(V-j),Y.e_y=W(k-(H+this.privateData.scrollTop)),Y.page_x=W(V),Y.page_y=W(k),Y.win_x=W(E),Y.win_y=W(J),Y.e_width=F||"",Y.e_heigth=L||"",Y.win_depth_o=Y.winheight+this.privateData.scrollTop,Y.win_depth=(0,l.localTransformTo750)(Y.win_depth_o),Y.id_path=R,this.globalConfig.newHm)try{var Q=(0,l.getPageDepth)(e);return Y.page_depth_o=Q||"",Y.page_depth=(0,l.localTransformTo750)(Y.page_depth_o),Y.winheight>Q&&(Y.win_depth_o=Q+this.privateData.scrollTop,Y.win_depth=(0,l.localTransformTo750)(Y.win_depth_o)),this.privateData.page_depth=Q,void u.push([d.statType,Y,e])}catch(e){}Y.page_depth_o="",Y.page_depth="",u.push([d.statType,Y,e])}}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"==typeof e?Math.ceil(e)===e?e:e.toFixed(2,t):e}}i.setInterval((function(){for(var e=0,t=u;e<t.length;e++){var r=a(t[e],3),i=r[0],n=r[1],o=r[2];n.hm=JSON.stringify(n.hm),v(i,n,o)}u=[]}),500);var m=new Set(["touchstart","touchend","tap"]);exports.default=function(t,a,r){var o=this;if(t&&m.has(t.type)){var h=(0,l.getCurrentPage)(),p=this.currentUrl(h&&h.route);return i.Promise.resolve(t).then((function(l){var c={};try{c=(l=(0,n.default)(l)).target.dataset,delete l.target.dataset,delete l.currentTarget.dataset}catch(e){}if("touchstart"===l.type)return g=t;if("touchend"===l.type)l.timeStamp-g.timeStamp<250&&_.apply(o,[h,p,l]);else if("tap"===l.type){var s=l.target.id,d=l.target.id+"_"+(a||"empty"),u=function t(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={};for(var n in a){var o=a[n];if(null!=o&&("object"==e(o)?(r+=n.length,i[n]=t(o,r)):(i[n]=o,r=r+n.length+(null!=o?o:"").toString().length),r>1e3))return i}return i}(c);return s?void(r?r.createSelectorQuery():i.wx.createSelectorQuery()).select("#".concat(s)).boundingClientRect((function(e){if(e){var t=e.top,a=e.left,i=e.width,n=e.height,c=l.detail,g=c.x,f=c.y;if(l.relativeLeft=g-a,l.relativeTop=f-t,l.eLeft=a,l.eTop=t,l.eWidth=i,l.eHeight=n,i||n){for(var v=[s],m=r;m&&m!==h;){m.id&&v.push(m.id);try{m=m.selectOwnerComponent()}catch(e){m=null}}l.ids=v,1===v.length?l.id_path=s:l.id_path=v.reverse().join(","),_.apply(o,[h,p,l,s,d,u])}}})).exec():void _.apply(o,[h,p,l,s,d,u])}}))}},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/heatmap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/heatmapWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.opts,o=void 0===e?{}:e,r=t.heatmap,n=void 0===r?function(){}:r,i=t.funcname,a=void 0===i?"":i,u=o[a];return"function"==typeof u&&(o[a]=function(){return n(arguments[0],a,this),u.apply(this,arguments)}),o},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/heatmapWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/hmac.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,n,e,i,r=global.bc("platform","rprm"),s=function(t,n){var e=Object.create||function(){function t(){}return function(n){var e;return t.prototype=n,e=new t,t.prototype=null,e}}(),i={},r=i.lib={},s=r.Base={extend:function(t){var n=e(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,e=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var s=0;s<r;s++){var o=e[s>>>2]>>>24-s%4*8&255;n[i+s>>>2]|=o<<24-(i+s)%4*8}else for(s=0;s<r;s+=4)n[i+s>>>2]=e[s>>>2];return this.sigBytes+=r,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],e=0;e<t;e+=4)n.push(cryptoSecureRandomInt());return new o.init(n,t)}}),a=i.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;r<e;r++){var s=n[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i+=2)e[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(e,n/2)}},h=a.Latin1={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;r<e;r++){var s=n[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i++)e[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(e,n)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e,i=this._data,r=i.words,s=i.sigBytes,a=this.blockSize,c=s/(4*a),h=(c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*a,u=t.min(4*h,s);if(h){for(var f=0;f<h;f+=a)this._doProcessBlock(r,f);e=r.splice(0,h),i.sigBytes-=u}return new o.init(e,u)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(r.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new l.HMAC.init(t,e).finalize(n)}}}),i.algo={});return i}(Math);!function(){var t=s,n=t.lib,e=n.WordArray,i=n.Hasher,r=t.algo,o=[],a=r.SHA1=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,n){for(var e=this._hash.words,i=e[0],r=e[1],s=e[2],a=e[3],c=e[4],h=0;h<80;h++){if(h<16)o[h]=0|t[n+h];else{var u=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=u<<1|u>>>31}var f=(i<<5|i>>>27)+c+o[h];f+=h<20?1518500249+(r&s|~r&a):h<40?1859775393+(r^s^a):h<60?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,c=a,a=s,s=r<<30|r>>>2,r=i,i=f}e[0]=e[0]+i|0,e[1]=e[1]+r|0,e[2]=e[2]+s|0,e[3]=e[3]+a|0,e[4]=e[4]+c|0},_doFinalize:function(){var t=this._data,n=t.words,e=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=Math.floor(e/4294967296),n[15+(i+64>>>9<<4)]=e,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),n=(t=s).lib.Base,e=t.enc,i=e.Utf8,t.algo.HMAC=n.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=i.parse(n));var e=t.blockSize,r=4*e;n.sigBytes>r&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),o=this._iKey=n.clone(),a=s.words,c=o.words,h=0;h<e;h++)a[h]^=1549556828,c[h]^=909522486;s.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher,e=n.finalize(t);return n.reset(),n.finalize(this._oKey.clone().concat(e))}}),module.exports=s,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/hmac.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/hound.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var t=require("../../@babel/runtime/helpers/toConsumableArray"),e=require("../../@babel/runtime/helpers/objectSpread2"),r=require("../../@babel/runtime/helpers/typeof"),n=require("../../@babel/runtime/helpers/classCallCheck"),i=require("../../@babel/runtime/helpers/createClass"),a=global.bc("platform","rprm"),s=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,c=(o=require("./wxLogger"))&&o.__esModule?o:{default:o},u=require("./utils"),l=require("./titan-adapter/index"),d=require("./sharedObject"),p=require("./miniprogram_npm/@rprm/titan/index.js"),h=s.wx,m=h.getStorage,v=h.setStorage,f=h.setClipboardData,g=null,b=function t(e){e=e.slice(0);var r=null!=g;g=e,r||v({key:"rprm_transactions",data:e,complete:function(){if(g){if(g===e)return void(g=null);var r=g;g=null,t(r)}}})};exports.default=function(){function a(t,i){var o=this;n(this,a),this.ignite=function(t,e){if(!o.ignited){o.ignited=!0;var n=o;m({key:"rprm_transactions",complete:function(t){"object"==r(t)&&Array.isArray(t.data)&&(n.transactions=n.transactions.concat(t.data))}});try{var i=e||t.config.form.env;i.includes("dev")||e.includes("local")?o.environment="development":i.includes("pl")||i.includes("stag")?o.environment="prerelease":i.includes("trail")||i.includes("q")?o.environment="qa":i.includes("prod")||i.includes("online")?o.environment="production":o.environment=i}catch(t){o.environment="development"}o.availableEnvironments.includes(o.environment)||(o.environment="development")}},this.getUser=function(t){var r=t||o.rprm,n=r.statType,i=r.cuid,a=r.globalVars,s=r.vars,c=r.pvars;return e(e(e({statType:n,cuid:i},c),a),s)},this.host=function(t){var e=/^https?:\/\/([^?\\\/:]+)/.exec(t);return e?e[1]:""},this.pathname=function(t){return"string"==typeof t?(0!==t.indexOf("http")&&0!==t.indexOf("//")||(t="/"+t.split("/").slice(3).join("/")),t.split("?")[0]):t},this._add=function(t){var r,n,i=null===(r=t.meta)||void 0===r||null===(n=r.http)||void 0===n?void 0:n.data;if(void 0!==i&&"string"!=typeof i)try{t.meta.http.data=JSON.stringify(i)}catch(e){try{t.meta.http.data="".concat(i)}catch(t){}}try{(0,u.normalizeHeaders)(t.meta.http.headers)}catch(t){}try{(0,u.normalizeHeaders)(t.meta.response.headers)}catch(t){}o.rprm.apmExtra&&(t.meta.user=e(e({},o.rprm.apmExtra),t.meta.user)),"number"==typeof t.start&&(t.start+=o.gap),o.transactions.push(t),b(o.transactions),o.transactions.length>10&&o.flush()},this.add=function(){},this.BizError=p.BizError,this.debug=p.legacyDebug,this.reportError=p.reportCustomError,this.reportCustomError=p.reportCustomError,this.reportBizError=p.reportBizError,this.reportRuntimeError=p.reportRuntimeError,this.addCustomEvent=p.legacyAddCustomEvent,this.LogLevel=p.LogLevel,this.SemanticAttributes=p.SemanticAttributes,this.registerErrorFilter=p.registerErrorFilter,this.send=function(t,e){if((e||!o.onTransaction&&o.transactions&&o.transactions[0]&&o.rprm.systemInfo.networkType&&!t.concurrency)&&!(null!=t.privateData.loadPageTime&&Date.now()-t.privateData.loadPageTime<1e3)){var r=o.getPendingData(),n=r.data,i=r.json,a=r.pageEvent;if(i||a){o.onTransaction=!0;var c=[];a&&c.push(o._send(t,"[".concat(o.getDataJson(a),"]"),[a])),i&&(o.sendCount++<20?c.push(new s.Promise((function(e,r){s.setTimeout((function(){o._send(t,i,n).then(e,r)}),2e3)}))):c.push(o._send(t,i,n))),s.Promise.all(c).catch((function(t){console.warn("[rprm]发送APM日志失败",t)})).then((function(){o.onTransaction=!1}))}}},this.getParentID=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=p.APM_CONVERSATION_ID;return"function"==typeof f&&t&&f({data:e}),e},this.rprm=t,this.availableEnvironments=["development","qa","prerelease","production"],this.MAX_DATA_SIZE=102400,this.parentId=p.APM_CONVERSATION_ID,c.default.info("[Hound]".concat(t.qs.stringify({cuid:t.cuid,parentId:this.parentId,v:t.v,delay:0}))),s.setTimeout((function(){c.default.info("[Hound]".concat(t.qs.stringify({cuid:t.cuid,parentId:o.parentId,v:t.v,delay:500})))}),500),this.service=t.service,this.whitelist=[t.trackAPI,"webim.tim.qq.com",t.ancAPI].concat(t.whitelist).filter((function(t){return t})),l.isTitanEnv?Object.defineProperty(this,"errcodes",{get:function(){return t.errcodes}}):this.errcodes=[void 0,"0","1041"].concat(t.errcodes),(0,d.defineSharedProps)(this,"hound",{transactions:function(){return[]},setDataPromises:function(){return[]},hound_reported:function(){return!1}}),this.systemInfo=(0,u.normalizeHeaders)(e({},t.systemInfo));try{this.vconsole=__wxConfig.debug}catch(t){this.vconsole=!1}this.flush=this.send.bind(this,t,!0),this.gap=0,this.ignite(t,i);var h=s.setInterval(this.send.bind(this,t),"production"!==this.environment||this.vconsole?1e3:5e3);try{var v=s.clearInterval;s.clearInterval=function(){var t=arguments[0];return t===h||v.apply(null,arguments)}}catch(t){}this.sendCount=0}return i(a,[{key:"exports",value:function(){var t=this,e={};return["environment","whitelist","getParentID","debug","addCustomEvent","reportError","reportCustomError","reportBizError","reportRuntimeError","LogLevel","BizError","SemanticAttributes","registerErrorFilter"].forEach((function(r){Object.defineProperty(e,r,{get:function(){return t[r]},enumerable:!0})})),e}},{key:"_send",value:function(e,r,n){var i=this,a=Date.now();return new s.Promise((function(s){e.request({url:"https://".concat(e.trackAPI,"/collection/transaction"),method:"POST",data:'{"transactions":'.concat(r,"}"),complete:function(e){try{if(e&&e.data&&e.data.data&&"number"==typeof e.data.data.timestamp){var r=Date.now(),o=e.data.data.timestamp,c=r-a;Math.abs(o-r)>2*c&&(i.gap=o-r)}if(!e||!e.data||0!==e.data.errcode){var u,l=n.reduce((function(t,e){return"wx.page"===e.name?t.push(e):(e._rc=(e._rc||0)+1,e._rc<2&&t.push(e)),t}),[]);if(0!==l.length)(u=i.transactions).unshift.apply(u,t(l)),b(i.transactions)}}finally{s()}}})}))}},{key:"getPendingData",value:function(){var e;if(0===this.transactions.length)return{};var r=this.transactions.splice(0,20),n=r.findIndex((function(t){return"wx.page"===t.name})),i=null;if(-1!==n&&(i=r.splice(n,1)[0]),0===r.length)return{data:r,pageEvent:i};for(var a=[this.getDataJson(r[0])],s=r[0]._size+2,o=1,c=r.length;o<c;o+=1){var u=r[o],l=this.getDataJson(u),d=s+u._size;if(o!==c-1&&(d+=1),!(d<this.MAX_DATA_SIZE))break;a.push(l),s=d}return o!==r.length&&(e=this.transactions).unshift.apply(e,t(r.splice(o))),b(this.transactions),{json:"[".concat(a.join(","),"]"),data:r,pageEvent:i}}},{key:"getBeat",value:function(){return{agent:"wx",rprm_v:this.rprm.v,environment:this.environment}}},{key:"getDataJson",value:function(t){var e=JSON.stringify(t),r=t._rc;return null==t._size&&Object.defineProperty(t,"_size",{configurable:!0,enumerable:!1,writable:!0,value:(0,u.getStringSize)(e)}),null==r&&Object.defineProperty(t,"_rc",{configurable:!0,enumerable:!1,writable:!0,value:0}),e}}]),a}(),global.ec(a);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/hound.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2");require("./titan.bootstrap.js");var r=global.bc("platform","rprm"),i=require("./titan-scoped-env.js");require("./initAPM"),require("./fix-titan");var t=w(require("./core")),u=w(require("./config")),a=w(require("./plugin")),n=w(require("./compareVersion")),p=require("./titan-adapter/index"),o=w(require("./promisify")),x=w(require("./defaultConfig")),f=w(require("./mergeConfig"));function w(e){return e&&e.__esModule?e:{default:e}}var l={},s=!1;if(!i.wx.rprm)try{if(i.wx.rprm=(0,t.default)(),i.wx.rprm.init((0,f.default)(x.default,u.default)),(0,n.default)(i.wx.rprm.sdk,"2.6.4")>0||!a.default){var c={request:{configurable:!0,enumerable:!0,get:function(){return i.wx.rprm.request}}},m=function(e){c[e]={configurable:!0,enumerable:!0,get:function(){return(0,o.default)(e,i.wx.rprm.wxFuncs[e])}}};for(var d in i.wx.rprm.wxFuncs)m(d);Object.defineProperties(i.wx,c),s=!0,i.App=i.wx.App,i.Page=i.wx.Page}}catch(e){console.warn("RPRM init warning",e)}if(!s)for(var g in l.request=i.wx.rprm.request,i.wx.rprm.wxFuncs)l[g]=i.wx.rprm.wxFuncs[g];if(p.isTitanEnv)module.exports=i.wx.rprm;else try{module.exports={wx:e(e({},i.wx),l),App:i.wx.App,Page:i.wx.Page}}catch(e){module.exports={wx:i.wx,App:i.wx.App,Page:i.wx.Page}}global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/init.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof");require("../../@babel/runtime/helpers/Arrayincludes");var i=require("../../@babel/runtime/helpers/defineProperty"),o=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var d=T(require("./appWrapper")),t=T(require("./pageWrapper")),a=T(require("./componentWrapper")),r=T(require("./getSystemInfo")),c=T(require("./getNetwork")),s=T(require("./requestWrapper")),p=T(require("./reLaunchWrapper")),l=T(require("./previewWrapper")),m=T(require("./paymentWrapper")),f=T(require("./setNavigationBarTitleWrapper")),u=T(require("./sessionWrapper")),v=T(require("./fecommon")),w=T(require("./hound")),g=T(require("./genId")),x=T(require("./appSessionIdManager")),h=T(require("./cloudRequest")),_=require("./constants"),b=require("./utils"),I=require("./titan-adapter/index"),q=T(require("./titan-adapter/proxyStatType")),y=T(require("./qs"));function T(e){return e&&e.__esModule?e:{default:e}}var k=n.wx,A=k.getStorage,C=k.setStorage,P=new Map;exports.default=function(){var o=this,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=T.service,S=void 0===k?"":k,U=T.statType,D=void 0===U?"":U,W=T.systemName,G=void 0===W?"saas":W,z=T.bizType,E=void 0===z?"":z,R=T.env,H=void 0===R?"":R,O=T.ancAPI,V=void 0===O?"":O,M=T.trackAPI,K=T.debug,L=void 0!==K&&K,j=T.anchor,N=void 0===j||j,B=T.sentry,F=void 0===B||B,J=T.pub,Q=void 0===J?{}:J,X=T.priv,Y=void 0===X?{}:X,Z=T.pagenames,$=void 0===Z?{}:Z,ee=T.pagenameProcessor,ie=T.pagenameRegex,oe=T.errcodes,ne=void 0===oe?[]:oe,de=T.whitelist,te=void 0===de?[]:de,ae=T.pm,re=void 0!==ae&&ae,ce=T.apmRequestBody,se=void 0!==ce&&ce,pe=T.sessionExp,le=void 0===pe?10:pe,me=T.enableHttp2,fe=void 0===me||me,ue=T.disableTimelineTap,ve=void 0!==ue&&ue,we=T.receiveUrlOpts,ge=void 0===we?{}:we,xe=T.forceCallContainer,he=void 0!==xe&&xe,_e=T.userInfoStorageDays,be=void 0===_e?30:_e,Ie=T.userInfoPromptText,qe=void 0===Ie?"需要用户授权":Ie,ye=T.actionsAddWithoutClickId,Te=void 0!==ye&&ye,ke=T.actionsAddWithMKTApi,Ae=void 0!==ke&&ke,Ce=T.recShareUrlParams,Pe=void 0===Ce?{}:Ce,Se=T.recPageScroll,Ue=void 0===Se||Se,De=T.newHm,We=void 0===De||De,Ge=T.recPageShow,ze=void 0===Ge||Ge,Ee=T.biPostponedSend,Re=void 0===Ee||Ee,He=T.disableHmView,Oe=void 0!==He&&He,Ve=T.preventStatTypeChange,Me=void 0!==Ve&&Ve;if(!H&&this.config)try{H=this.config.form.env||""}catch(e){}if(!H)try{var Ke=i(i(i(i({},void 0,"development"),"develop","development"),"trial","qa"),"release","production");H=Ke[__wxConfig.envVersion]}catch(e){}var Le="production",je="",Ne=".weimob",Be="production";if((H="string"==typeof H?H.toLowerCase():"").includes("dev")||H.includes("loc")?(je="-qa",Ne=".weimobdev",Be="development",null==M&&(M=_.DEV_TRACK_API),Le="development"):H.includes("q")||H.includes("trail")?(je="-qa",Ne=".weimobqa",Be="qa",null==M&&(M=_.DEV_TRACK_API),Le="qa"):(H.includes("pl")||H.includes("stag")||H.includes("pre"))&&(Be="prerelease",Ne="-pl.weimob",Le="prerelease"),null==M&&(M=_.DEFAULT_TRACK_API),this.environment=Le,!V&&N&&(V="https://statistic".concat(je,".weimobdc.com/wm.css")),this.cuid.includes("robot")&&(V=""),H&&!H.includes("prod")||(L=!1),Object.assign(this,{service:"saas-fe-".concat(S||"unknown"),statType:D,systemName:G,bizType:E,ancAPI:V,trackAPI:M,debug:L,anchor:N,sentry:F,pagenames:$,pagenameProcessor:ee,pagenameRegex:ie,errcodes:ne,whitelist:te,apmRequestBody:se,sessionExp:le}),this.updateConfig({enableHttp2:fe,disableTimelineTap:ve,receiveUrlOpts:ge&&"object"==e(ge)?ge:{},forceCallContainer:he,userInfoStorageDays:be,userInfoPromptText:qe,actionsAddWithoutClickId:Te,actionsAddWithMKTApi:Ae,recShareUrlParams:Pe,recPageScroll:Ue,newHm:We,recPageShow:ze,biPostponedSend:Re,disableHmView:Oe,preventStatTypeChange:Me}),this.pub(Q),this.priv(Y),!this.initialized){x.default.setSessionExp(le),this.initialized=!0,(0,d.default)(this),(0,t.default)(this),(0,a.default)(this),(0,r.default)(this),(0,c.default)(this),(0,s.default)(this),(0,p.default)(this),(0,l.default)(this),re&&(0,m.default)(this),(0,f.default)(this),(0,u.default)(this),n.wx.fecommon=new v.default({environment:Be,actionHost:Ne}),n.wx.fecommon.trackurl({keys:["qz_gdt","gdt_vid","weixinadinfo","vid_appid","vid_type","ggUserActionConfigId"]}).then((function(e){var d=e.weixinadinfo;if(d){var t=d.indexOf(".");e.weixinadid=-1!==t?d.slice(0,t):d}o.priv(e);var a=function(){var e=n.wx.fecommon;e.clickId&&e.clickTime&&o.priv(i({},e.isGDT?"qz_gdt_time":"gdt_vid_time",e.clickTime))};if(e.qz_gdt||e.gdt_vid){e.qz_gdt?(n.wx.fecommon.isGDT=!0,n.wx.fecommon.clickId=e.qz_gdt):(n.wx.fecommon.isGDT=!1,n.wx.fecommon.clickId=e.gdt_vid),n.wx.fecommon.clickTime=Date.now();var r=(n.wx.getEnterOptionsSync||n.wx.getLaunchOptionsSync).call(n.wx),c="/".concat(r.path),s=y.default.stringify(r.query||{});s&&(c+="?".concat(s)),n.wx.fecommon.landUrl=c}e.vid_appid&&(n.wx.fecommon.vid_appid=e.vid_appid),e.vid_type&&(n.wx.fecommon.vid_type=e.vid_type),e.weixinadid&&(n.wx.fecommon.weixinadid=e.weixinadid),e.weixinadinfo&&(n.wx.fecommon.weixinadinfo=e.weixinadinfo),e.ggUserActionConfigId&&(n.wx.fecommon.ggUserActionConfigId=e.ggUserActionConfigId),a(),n.wx.fecommon.clickId?(P.set("clickId",n.wx.fecommon.clickId),C({key:"rprm_gdt",data:{clickId:n.wx.fecommon.clickId,isGDT:n.wx.fecommon.isGDT,vid_appid:n.wx.fecommon.vid_appid,vid_type:n.wx.fecommon.vid_type,clickTime:n.wx.fecommon.clickTime,weixinadid:n.wx.fecommon.weixinadid,weixinadinfo:n.wx.fecommon.weixinadinfo,landUrl:n.wx.fecommon.landUrl,ggUserActionConfigId:n.wx.fecommon.ggUserActionConfigId}})):(n.wx.fecommon.clickId=P.get("clickId"),A({key:"rprm_gdt",success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.data;if(i){n.wx.fecommon.clickId=i.clickId,n.wx.fecommon.isGDT=i.isGDT,n.wx.fecommon.vid_appid=i.vid_appid,n.wx.fecommon.vid_type=i.vid_type,n.wx.fecommon.clickTime=i.clickTime,n.wx.fecommon.weixinadid=i.weixinadid,n.wx.fecommon.weixinadinfo=i.weixinadinfo,n.wx.fecommon.landUrl=i.landUrl,n.wx.fecommon.ggUserActionConfigId=i.ggUserActionConfigId;var o={};i.clickId&&(o[i.isGDT?"qz_gdt":"gdt_vid"]=i.clickId),i.weixinadid&&(o.weixinadid=i.weixinadid),i.weixinadinfo&&(o.weixinadinfo=i.weixinadinfo),i.vid_appid&&(o.vid_appid=i.vid_appid),i.vid_type&&(o.vid_type=i.vid_type),n.wx.rprm.priv(o),a()}}}))})),this.priv({appLaunch:"".concat(this.cuid).concat((0,g.default)()),scene:-1,session_id:x.default.getSessionId(this.cuid),client_id:"production"===Le?"6c562e80-ed5c-407f-a777-59be970584ed":"666c61dd-0a4c-4123-a1e4-0f4d1527fc87",developer_id:"production"===Le?"417cabfe-2c41-43cb-94ae-9700829b8db6":"c6510aba-a3e3-41f7-8b3e-6bc8eb05d192"}),I.isTitanEnv&&(0,q.default)(this);var Fe=function(){var e,i,n;o.pubGlobal({bosId:null!==(e=(0,b.safeGet)((function(){return o.config.form.basicInfo.bosId})))&&void 0!==e?e:"",parentVid:null!==(i=(0,b.safeGet)((function(){return o.config.form.basicInfo.parentVid})))&&void 0!==i?i:"",vid:"0",cid:null!==(n=(0,b.safeGet)((function(){return o.config.form.basicInfo.cid})))&&void 0!==n?n:""},"new")};Fe(),this.addInterceptor("extConfigChange",Fe);var Je=new w.default(this,H);n.wx.hound=Je.exports(),(0,h.default)(this)}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/init.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/initAPM.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateUserInfo=void 0;var o,t=require("./miniprogram_npm/@rprm/titan/index.js"),a=(o=require("./config"))&&o.__esModule?o:{default:o};(0,t.init)({apm:{service:"weimobos",token:a.default.apmToken,errcodes:["1057"],compress:a.default.apmCompress,debug:a.default.apmDebug,url:a.default.apmUrl,ignoreRequestUrls:[/wm\.css/,/collection\/transaction/,/webim\.tim\.qq\.com/],recordRequestBody:a.default.apmRequestBody,sendToQA:a.default.sendToQA,env:a.default.env}}),exports.updateUserInfo=function(r){(0,t.setUser)(e(e(e(e({},r.pvars),r.globalVars),r.vars),{},{cuid:r.cuid}))},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/initAPM.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/isObject.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(e){return"[object Object]"===Object.prototype.toString.call(e)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/isObject.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/lazy.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.lazy=exports.defineLazyProps=exports.defineLazyProp=void 0;var r=function(e,r,t){return Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var n=t(e,r);return Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:n}),n},set:function(t){Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:t})}}),e};exports.defineLazyProp=r,exports.defineLazyProps=function(e,t){for(var n in t)r(e,n,t[n]);return e},exports.lazy=function(e){return r({},"value",e)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/lazy.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/lazySystemInfo.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./lazy");exports.default=(0,t.lazy)((function(){try{if(r.wx.rprm.systemInfo.windowWidth)return r.wx.rprm.systemInfo}catch(e){}return r.wx.getSystemInfoSync()})),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/lazySystemInfo.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/mergeConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(r,a){var s={};return new Set(Object.keys(r).concat(Object.keys(a))).forEach((function(c){var i=r[c],o=a[c];void 0!==o?e(i)!==e(o)||Array.isArray(i)||Array.isArray(o)?s[c]=o:(0,t.isObject)(i)&&(0,t.isObject)(o)&&(s[c]=Object.assign({},i,o)):s[c]=i})),s};var t=require("./utils");global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/mergeConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/miniprogram_npm/@rprm/titan/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../../../@babel/runtime/helpers/Arrayincludes"),require("../../../../../@babel/runtime/helpers/Objectvalues");var t=require("../../../../../@babel/runtime/helpers/inherits"),e=require("../../../../../@babel/runtime/helpers/createSuper"),n=require("../../../../../@babel/runtime/helpers/wrapNativeSuper"),r=require("../../../../../@babel/runtime/helpers/toConsumableArray");require("../../../../../@babel/runtime/helpers/Objectentries");for(var o=require("../../../../../@babel/runtime/helpers/createClass"),a=require("../../../../../@babel/runtime/helpers/classCallCheck"),i=require("../../../../../@babel/runtime/helpers/defineProperty"),u=require("../../../../../@babel/runtime/helpers/slicedToArray"),s=require("../../../../../@babel/runtime/helpers/typeof"),c=require("../../../../../@babel/runtime/helpers/createForOfIteratorHelper"),f=global.bc("platform","rprm"),l=require("../../../titan-scoped-env.js"),p=Object.defineProperty,d=Object.defineProperties,E=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=function(t,e,n){return e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},_=function(t,e){for(var n in e||(e={}))v.call(e,n)&&g(t,n,e[n]);if(m){var r,o=c(m(e));try{for(o.s();!(r=o.n()).done;){n=r.value;h.call(e,n)&&g(t,n,e[n])}}catch(t){o.e(t)}finally{o.f()}}return t},T=function(t,e){return d(t,E(e))},S=function(){var t,e=function(t){return"number"==typeof t&&!Number.isNaN(t)&&t>15778368e5};try{"undefined"!=typeof performance&&performance&&e(performance.timeOrigin)&&"function"==typeof performance.now&&e(performance.now()+performance.timeOrigin)&&(t=performance)}catch(t){}if(!t){var n=Date.now();t={timeOrigin:n,now:function(){return Date.now()-n}}}return t}(),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",O="undefined"!=typeof btoa?btoa:function(t){for(var e,n,r,o,a="",i=0,u=(t=String(t)).length%3;i<t.length;){if((n=t.charCodeAt(i++))>255||(r=t.charCodeAt(i++))>255||(o=t.charCodeAt(i++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=R.charAt((e=n<<16|r<<8|o)>>18&63)+R.charAt(e>>12&63)+R.charAt(e>>6&63)+R.charAt(63&e)}return u?a.slice(0,u-3)+"===".substring(u):a},A=[],P=0;P<256;++P)A[P]=(P+256).toString(16).slice(1);var y=function(){for(var t=[],e=0;e<16;++e)t[e]=Math.floor(256*Math.random());var n=0;return[A[t[++n]],A[t[++n]],A[t[++n]],A[t[++n]],"-",A[t[++n]],A[t[++n]],"-",A[t[++n]],A[t[++n]],"-",A[t[++n]],A[t[++n]],"-",A[t[++n]],A[t[++n]],A[t[++n]],A[t[++n]],A[t[++n]],A[t[++n]]].join("")},b=function(t){return t.call.bind(t)},N=b(Object.prototype.propertyIsEnumerable),C=b(Object.prototype.hasOwnProperty),I=function(t){return Object.prototype.toString.call(t).slice(8,-1)},M=function(t){return!!t&&"object"==s(t)},w=b(Function.prototype.toString),D=w(Object),U=function(t){if(!M(t)||"Object"!==I(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=C(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&w(n)===D},F=function(t,e){if("string"==typeof t)return t;try{return JSON.stringify(t,(function(t,e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e}))}catch(n){try{return t.toString()}catch(n){try{return"".concat(t)}catch(t){return null!=e?e:""}}}};function k(t){var e,n=!1;return function(){if(n)return e;n=!0;try{e=t.apply(this,arguments)}finally{t=null}return e}}var L,x=function(){},Y=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(e(r,n,t))return r}},V=function(t){var e=I(t);return"Number"===e||"String"===e||"Array"===e||"Null"===e||"Object"===e||"Null"===e},G=function(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)},B=function(){var t,e,n,r=arguments,o=u(r,2),a=o[0],i=o[1],s=!1;if(3===r.length)t=r[2];else{if(4!==r.length)throw new Error("patch 参数不正确");s=r[2],t=r[3]}var c=Object.getOwnPropertyDescriptor(a,i);if(c){n=c.enumerable;var f=c.get,l=c.value;e=f||function(){return l}}else{var p=a[i];n=!!p&&N(a,i),e=function(){return p}}var d=t(s?e:e());return Object.defineProperty(a,i,{configurable:!0,writable:!0,enumerable:n,value:function(){return d.apply(this,arguments)}}),function(){d=e()}},K=function(t){var e={};return Object.keys(t).forEach((function(n){!function t(e,n,r){U(n)?Object.keys(n).forEach((function(o){t(e,n[o],"".concat(r,".").concat(o))})):1===n?e[r.replace(/\./g,"_").toUpperCase()]=r:"string"==typeof n&&(e[n]=r)}(e,t[n],n)})),e},j=function(t,e,n){var r="function"==typeof e?e:function(){return arguments[0]};function o(){var e=arguments,n=r.apply(this,e),a=o.cache;if(a.has(n))return a.get(n);var i=t.apply(this,e);return a.set(n,i),i}return o.resolver=r,o.raw=t,o.cache="boolean"==typeof e&&e||n?new WeakMap:new Map,o},H=0,q=function(t){return H+=1,"".concat(null!=t?t:"").concat(Math.random().toString(36).slice(2)).concat(H.toString(36))},W={all:L=L||new Map,on:function(t,e){var n=L.get(t);n?n.push(e):L.set(t,[e])},off:function(t,e){var n=L.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):L.set(t,[]))},emit:function(t,e){var n=L.get(t);n&&n.slice().map((function(t){t(e)})),(n=L.get("*"))&&n.slice().map((function(n){n(t,e)}))}},Q="0.0.58",z=l.titan.getTitanConfig().envName||"default",J="x-apm-conversation-id",X=l.titan.acquireSharedObject("rprm_shared");function $(){var t,e,n=arguments,r=!1;if(2===n.length){var o=u(n,2);t=o[0],e=o[1]}else{if(3!==n.length)throw new Error("getOrDefault参数数量错误");var a=u(n,3);t=a[0],r=a[1],e=a[2]}t="[APM]".concat(t),r&&(t+="(".concat(z,")"));var i=X[t];return void 0===i&&(i={v:e()},X[t]=i),i.v}var Z=K({exception:{type:1,message:1,stacktrace:1,escaped:1},net:{transport:1,peer:{ip:1,port:1,name:1},host:{ip:1,port:1,name:1,connection:{type:1,subtype:1},carrier:{name:1,mcc:1,mnc:1,icc:1}},remote_ip:"NET_REMOTE_IP"},peer:{service:1},enduser:{id:1,role:1,scope:1},code:{function:1,namespace:1,filepath:1,lineno:1},http:{method:1,url:1,target:1,host:1,scheme:1,status_code:"HTTP_STATUS_CODE",flavor:1,user_agent:"HTTP_USER_AGENT",request_content_length:"HTTP_REQUEST_CONTENT_LENGTH",request_content_length_uncompressed:"HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED",response_content_length:"HTTP_RESPONSE_CONTENT_LENGTH",response_content_length_uncompressed:"HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED",server_name:"HTTP_SERVER_NAME",route:1,client_ip:"HTTP_CLIENT_IP",request:{body:"REQUEST_BODY",headers:{json:"REQUEST_HEADERS"}},response:{body:"RESPONSE_BODY",headers:{json:"RESPONSE_HEADERS"}},pathname:1},messaging:{system:1,destination:1,destination_kind:"MESSAGING_DESTINATION_KIND",temp_destination:"MESSAGING_TEMP_DESTINATION",protocol:1,protocol_version:"MESSAGING_PROTOCOL_VERSION",url:1,message_id:"MESSAGING_MESSAGE_ID",conversation_id:"MESSAGING_CONVERSATION_ID",message_payload_size_bytes:"MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES",message_payload_compressed_size_bytes:"MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES",operation:1,consumer_id:"MESSAGING_CONSUMER_ID"},message:{type:1,id:1,compressed_size:"MESSAGE_COMPRESSED_SIZE",uncompressed_size:"MESSAGE_UNCOMPRESSED_SIZE"},weimob:{auth:{mobile:"AUTH_MOBILE",wid:"AUTH_WID",pid:"AUTH_PID",vid:"AUTH_VID",uid:"AUTH_UID",vid_type:"AUTH_VID_TYPE",cid:"AUTH_CID",cuid:"AUTH_CUID",piid:"AUTH_PIID",openid:"AUTH_OPENID",isvId:"AUTH_ISV_ID",bosId:"AUTH_BOS_ID",parent_vid:"AUTH_PARENT_VID",product_id:"AUTH_PRODUCT_ID",product_version_id:"AUTH_PRODUCT_VERSION_ID"},fe:{log_level:"LOG_LEVEL",seq_number:"FE_SEQ_NUMBER",event:{type:"EVENT_TYPE",duration:"EVENT_DURATION"},route:"FE_ROUTE",wmsdk:{bc:"WMSDK_BC",bctype:"WMSDK_BCTYPE",v:"WMSDK_V",source:"WMSDK_SOURCE",pkg:"WMSDK_PKG",fatal:"WMSDK_FATAL",fatal_name:"WMSDK_FATAL_NAME",platform:"WMSDK_PLATFORM",content:"WMSDK_CONTENT"},errcode:"FE_ERRCODE",errtype:"FE_ERRTYPE",stack_lite:"FE_STACK_LITE",component:"FE_COMPONENT",conversationid:"FE_CONVERSATION_ID",pageid:"FE_PAGE_ID",parent_pageid:"FE_PARENT_PAGE_ID",user_content:"FE_USER_CONTENT"}},mini_program:{scene:"MP_SCENE",is_first_open:"MP_IS_FIRSTOPEN",jump_sub_package:"MP_JUMP_SUBPACKAGE",tab_bar:"MP_TABBAR",package_name:"MP_PACKAGE"},network:{type:1,signal_strength:"NETWORK_SIGNAL_STRENGTH"},system:{wifi_enabled:"SYSTEM_WIFI_ENABLED",bluetooth_enabled:"SYSTEM_BLUETOOTH_ENABLED"},performance:{fe:{kind:"PERFORMANCE_KIND",connectEnd:"PERFORMANCE_CONNECTEND",connectStart:"PERFORMANCE_CONNECTSTART",decodedBodySize:"PERFORMANCE_DECODEDBODYSIZE",domainLookupEnd:"PERFORMANCE_DOMAINLOOKUPEND",domainLookupStart:"PERFORMANCE_DOMAINLOOKUPSTART",encodedBodySize:"PERFORMANCE_ENCODEDBODYSIZE",fetchStart:"PERFORMANCE_FETCHSTART",initiatorType:"PERFORMANCE_INITIATORTYPE",nextHopProtocol:"PERFORMANCE_NEXTHOPPROTOCOL",redirectEnd:"PERFORMANCE_REDIRECTEND",redirectStart:"PERFORMANCE_REDIRECTSTART",requestStart:"PERFORMANCE_REQUESTSTART",responseEnd:"PERFORMANCE_RESPONSEEND",responseStart:"PERFORMANCE_RESPONSESTART",secureConnectionStart:"PERFORMANCE_SECURECONNECTIONSTART",transferSize:"PERFORMANCE_TRANSFERSIZE",workerStart:"PERFORMANCE_WORKERSTART",duration:"PERFORMANCE_DURATION",entryType:"PERFORMANCE_ENTRYTYPE",name:"PERFORMANCE_NAME",startTime:"PERFORMANCE_STARTTIME",domLoading:"PERFORMANCE_DOMLOADING",domComplete:"PERFORMANCE_DOMCOMPLETE",domContentLoadedEventEnd:"PERFORMANCE_DOMCONTENTLOADEDEVENTEND",domContentLoadedEventStart:"PERFORMANCE_DOMCONTENTLOADEDEVENTSTART",domInteractive:"PERFORMANCE_DOMINTERACTIVE",loadEventEnd:"PERFORMANCE_LOADEVENTEND",loadEventStart:"PERFORMANCE_LOADEVENTSTART",redirectCount:"PERFORMANCE_REDIRECTCOUNT",navigationType:"PERFORMANCE_NAVIGATIONTYPE",navigationStart:"PERFORMANCE_NAVIGATIONSTART",unloadEventEnd:"PERFORMANCE_UNLOADEVENTEND",unloadEventStart:"PERFORMANCE_UNLOADEVENTSTART",timeOrigin:"PERFORMANCE_TIMEORIGIN",ttfb:"PERFORMANCE_TTFB",content:"PERFORMANCE_CONTENT",enqueue:"PERFORMANCE_ENQUEUE",queueDuration:"PERFORMANCE_QUEUEDURATION"}},custom:{key1:"CUSTOM_KEY_1",key2:"CUSTOM_KEY_2",key3:"CUSTOM_KEY_3",key4:"CUSTOM_KEY_4",key5:"CUSTOM_KEY_5",key6:"CUSTOM_KEY_6",key7:"CUSTOM_KEY_7",key8:"CUSTOM_KEY_8",key9:"CUSTOM_KEY_9",key10:"CUSTOM_KEY_10",key11:"CUSTOM_KEY_11",key12:"CUSTOM_KEY_12",key13:"CUSTOM_KEY_13",key14:"CUSTOM_KEY_14",key15:"CUSTOM_KEY_15",key16:"CUSTOM_KEY_16",key17:"CUSTOM_KEY_17",key18:"CUSTOM_KEY_18",key19:"CUSTOM_KEY_19",key20:"CUSTOM_KEY_20"}}),tt=K({deployment:{environment:1},device:{id:1,model:{identifier:1,name:1},type:{name:1}},host:{id:1,name:1,type:1,arch:1,image:{name:1,id:1,version:1}},os:{type:1,description:1,name:1,version:1},process:{pid:1,executable:{name:1,path:1},command:1,command_line:"PROCESS_COMMAND_LINE",command_args:"PROCESS_COMMAND_ARGS",owner:1,runtime:{name:1,version:1,description:1}},service:{name:1,namespace:1,instance:{id:1},version:1},telemetry:{sdk:{name:1,language:1,version:1},auto:{version:1}},webengine:{name:1,version:1,description:1},weimob:{fe:{sub_business:"SUB_BUSINESS",agent:"AGENT_TYPE",agent_version:"AGENT_VERSION",application:"APP_NAME",apm_app_id:"APM_APP_ID",appid:"FE_APPID",framework:"FE_FRAMEWORK",app_version:"APP_VERSION"}},mini_program:{kind:"MP_KIND",version:"MP_VERSION",firmware_version:"MP_FIRMWARE_VERSION"},browser:{name:1,version:1},system:{kind:1,brand:1,model:1,version:1,platform:1},mobile:{benchmark_level:"MOBILE_BENCHMARK_LEVEL"},docker:{app_label:"DOCKER_APP_LABEL"}}),et=K({cpp:1,dotnet:1,erlang:1,go:1,java:1,nodejs:1,php:1,python:1,ruby:1,webjs:1}),nt=100,rt={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5},ot="bu-custom",at="mp-errno";function it(t){return null==t||(Array.isArray(t)?function(t){var e,n,r=c(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(null!=o){if(!e){if(ut(o)){e=s(o);continue}return!1}if(s(o)!==e)return!1}}}catch(t){r.e(t)}finally{r.f()}return!0}(t):ut(t))}function ut(t){switch(s(t)){case"number":case"boolean":case"string":return!0}return!1}function st(t){for(var e=t.length,n="",r=0;r<e;r+=2){var o=t.substring(r,r+2),a=parseInt(o,16);n+=String.fromCharCode(a)}return O(n)}var ct=S,ft=i(i(i(i({},tt.TELEMETRY_SDK_NAME,"opentelemetry"),tt.PROCESS_RUNTIME_NAME,"browser"),tt.TELEMETRY_SDK_LANGUAGE,et.WEBJS),tt.TELEMETRY_SDK_VERSION,"1.17.0"),lt=Math.pow(10,6),pt=Math.pow(10,9);function dt(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*lt)]}function Et(){var t=ct.timeOrigin;if("number"!=typeof t){var e=ct;t=e.timing&&e.timing.fetchStart}return t}function mt(t){return _t(dt(Et()),dt("number"==typeof t?t:ct.now()))}function vt(t){return t[0]*pt+t[1]}function ht(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function gt(t){return ht(t)||"number"==typeof t||t instanceof Date}function _t(t,e){var n=[t[0]+e[0],t[1]+e[1]];return n[1]>=pt&&(n[1]-=pt,n[0]+=1),n}function Tt(t,e){return"string"==typeof e?t===e:!!t.match(e)}var St=o((function t(){a(this,t),this.generateTraceId=Ot(16),this.generateSpanId=Ot(8)})),Rt=Array(32);function Ot(t){return function(){for(var e=0;e<2*t;e++)Rt[e]=Math.floor(16*Math.random())+48,Rt[e]>=58&&(Rt[e]+=39);return String.fromCharCode.apply(null,Rt.slice(0,2*t))}}var At=function(t){return{onStart:function(e,n){t.forEach((function(t){t.onStart(e,n)}))},onEnd:function(e){t.forEach((function(t){t.onEnd(e)}))},forceFlush:function(){return l.Promise.all(t.map((function(t){return t.forceFlush()}))).then()},shutdown:function(){return l.Promise.all(t.map((function(t){return t.shutdown()}))).then()}}},Pt={UNSET:0,OK:1,ERROR:2},yt=0,bt=2,Nt=0,Ct=2,It=0,Mt=1,wt=function(){return{shouldSample:function(){return{decision:Ct}},toString:function(){return"AlwaysOnSampler"}}};function Dt(t){return Array.isArray(t)?t.slice():t}function Ut(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}function Ft(t){return!Ut(t)&&!Array.isArray(t)&&"function"!=typeof t&&"object"==s(t)}function kt(t,e,n){for(var r=n.get(t[e])||[],o=0,a=r.length;o<a;o+=1){var i=r[o];if(i.key===e&&i.obj===t)return!0}return!1}function Lt(t,e,n,r){var o;if(!(n>20)){if(n+=1,Ut(t)||Ut(e)||"function"==typeof e)o=Dt(e);else if(Array.isArray(t)){if(o=t.slice(),Array.isArray(e))for(var a=0,i=e.length;a<i;a+=1)o.push(Dt(e[a]));else if(Ft(e))for(var u=Object.keys(e),s=0,c=u.length;s<c;s+=1){var f=u[s];o[f]=Dt(e[f])}}else if(Ft(t))if(Ft(e)){if(!function(t,e){return!(!U(t)||!U(e))}(t,e))return e;o=_({},t);for(var l=Object.keys(e),p=0,d=l.length;p<d;p+=1){var E=l[p],m=e[E];if(Ut(m))void 0===m?delete o[E]:o[E]=m;else{var v=o[E],h=m;if(kt(t,E,r)||kt(e,E,r))delete o[E];else{if(Ft(v)&&Ft(h)){var g=r.get(v)||[],T=r.get(h)||[];g.push({obj:t,key:E}),T.push({obj:e,key:E}),r.set(v,g),r.set(h,T)}o[E]=Lt(o[E],m,n,r)}}}}else o=e;return o}}var xt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=new WeakMap;e.length>0;)r=Lt(r,e.shift(),0,o);return r},Yt=function(){return wt()},Vt=function(){return{sampler:Yt(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:1/0,attributeCountLimit:128},spanLimits:{attributeValueLengthLimit:1/0,attributeCountLimit:128,linkCountLimit:128,eventCountLimit:128,attributePerEventCountLimit:128,attributePerLinkCountLimit:128}}};function Gt(t){var e={};return"object"!=s(t)||null==t||Object.entries(t).forEach((function(t){var n=u(t,2),r=n[0],o=n[1];!function(t){return"string"==typeof t&&t.length>0}(r)?console.warn("Invalid attribute key: ".concat(r)):it(o)?Array.isArray(o)?e[r]=o.slice():e[r]=o:console.warn("Invalid attribute value set for key: ".concat(r))})),e}var Bt={deleteValue:function(){return this},getValue:function(){},setValue:function(){return this}},Kt=function(t){var e=!1;return{onStart:function(){},onEnd:function(n){e||0!=(n.spanContext().traceFlags&Mt)&&function(t,e){return new l.Promise((function(n,r){t.export(e,(function(t){0===t.code?n():r(t)}))}))}(t,[n]).catch((function(t){console.error("SimpleSpanProcessor: span export failed",t)}))},forceFlush:function(){return l.Promise.resolve()},shutdown:function(){return e=!0,t.shutdown()}}},jt=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],a=0,i="number"==typeof r.maxExportBatchSize?r.maxExportBatchSize:512,u="number"==typeof r.maxQueueSize?r.maxQueueSize:2048,s="number"==typeof r.scheduledDelayMillis?r.scheduledDelayMillis:5e3,c="number"==typeof r.exportTimeoutMillis?r.exportTimeoutMillis:3e4;function f(){void 0!==n&&(l.clearTimeout(n),n=void 0)}function p(){return f(),0===o.length?l.Promise.resolve():new l.Promise((function(e,n){var r=l.setTimeout((function(){n(new Error("Timeout"))}),c),a=o.splice(0,i),u=function(){return t.export(a,(function(t){var o;l.clearTimeout(r),0===t.code?e():n(null!=(o=t.error)?o:new Error("BatchSpanProcessor: span export failed"))}))},s=a.map((function(t){return t.resource})).filter((function(t){return t.asyncAttributesPending}));0===s.length?u():l.Promise.all(s.map((function(t){var e;return null==(e=t.waitForAsyncAttributes)?void 0:e.call(t)}))).then(u,(function(t){console.error(t),n(t)}))}))}function d(){void 0===n&&(n=l.setTimeout((function(){p().then((function(){o.length>0&&(f(),d())})).catch((function(t){console.error(t)}))}),s))}function E(t){o.length>=u?(0===a&&console.debug("maxQueueSize reached, dropping spans"),a+=1):(a>0&&(console.warn("Dropped ".concat(a," spans because maxQueueSize reached")),a=0),o.push(t),d())}function m(){return new l.Promise((function(t,e){for(var n=[],r=0,a=Math.ceil(o.length/i);r<a;r+=1)n.push(p());l.Promise.all(n).then((function(){t()})).catch(e)}))}return i>u&&(console.warn("BatchSpanProcessor: maxExportBatchSize必须小于或等于maxQueueSize, 已设置maxExportBatchSize等于maxQueueSize"),i=u),{onStart:function(){},onEnd:function(t){e||0!=(t.spanContext().traceFlags&Mt)&&E(t)},shutdown:function(){return e=l.Promise.resolve().then((function(){return m()})).then((function(){return t.shutdown()}))},forceFlush:function(){return e||m()}}},Ht="0".repeat(16),qt={traceId:Ht.repeat(2),spanId:Ht,traceFlags:It};function Wt(t,e,n,r,o,a,i,s){var c=0,f=0,l=!1,p=[-1,-1],d=Date.now(),E=ct.now(),m=d-(E+Et()),v=null!=s,h=t.getSpanLimits(),g=h.attributeValueLengthLimit||0,_=t.getActiveSpanProcessor();function T(t,e){if("number"==typeof e&&e<ct.now())return mt(e+m);if("number"==typeof e)return dt(e);if(e instanceof Date)return dt(e.getTime());if(ht(e))return e;if(v)return dt(Date.now());if(t){var n=ct.now()-E;return _t(t.startTime,dt(n))}throw new Error("逻辑异常")}function S(){return l&&console.warn("Can not execute the operation on ended Span {traceId: ".concat(r.traceId,", spanId: ").concat(r.spanId,"}")),l}function R(t,e){return t.length<=e?t:t.slice(0,e)}var O={kind:o,attributes:{},links:i||[],events:[],status:{code:Pt.UNSET},startTime:T(null,null!=s?s:d),endTime:[0,0],name:n,resource:t.resource,instrumentationLibrary:t.instrumentationLibrary,spanContext:function(){return r},setAttribute:function(t,e){return null==e||S()?this:0===t.length?(console.warn("Invalid attribute key: ".concat(t)),this):it(e)?null!=h.attributeCountLimit&&Object.keys(this.attributes).length>=h.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(c+=1,this):(this.attributes[t]=function(t){var e=g;return e<=0?(console.warn("Attribute value limit must be positive, got ".concat(e)),t):"string"==typeof t?R(t,e):Array.isArray(t)?t.map((function(t){return"string"==typeof t?R(t,e):t})):t}(e),this):(console.warn("Invalid attribute value set for key: ".concat(t)),this)},setAttributes:function(t){var e=this;return Object.entries(t).forEach((function(t){var n=u(t,2),r=n[0],o=n[1];void 0!==o&&e.setAttribute(r,o)})),this},addEvent:function(t,e,n){if(S())return this;if(0===h.eventCountLimit)return console.warn("No events allowed."),f+=1,this;null!=h.eventCountLimit&&this.events.length>=h.eventCountLimit&&(console.warn("Dropping extra events."),this.events.shift(),f+=1),gt(e)&&(gt(n)||(n=e),e=void 0);var r=Gt(e);return this.events.push({name:t,attributes:r,time:T(this,n),droppedAttributesCount:0}),this},setStatus:function(t){return S()||(this.status=t),this},updateName:function(t){return S()||(this.name=t),this},end:function(t){S()?console.error("".concat(this.name," ").concat(r.traceId,"-").concat(r.spanId," - You can only call end() on a span once.")):(l=!0,this.endTime=T(this,t),(p=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=pt),[n,r]}(this.startTime,this.endTime))[0]<0&&(console.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),p=[0,0]),_.onEnd(this))},isRecording:function(){return!l},recordException:function(t,e){var n={};"string"==typeof t?n[Z.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Z.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Z.EXCEPTION_TYPE]=t.name),t.message&&(n[Z.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Z.EXCEPTION_STACKTRACE]=t.stack)),n[Z.EXCEPTION_TYPE]||n[Z.EXCEPTION_MESSAGE]?this.addEvent("exception",n,e):console.warn("Failed to record an exception ".concat(t))},get duration(){return p},get ended(){return l},get droppedAttributesCount(){return c},get droppedEventsCount(){return f},get droppedLinksCount(){return 0}};return _.onStart(O,e),O}var Qt=j((function(t){return{}}),!0);function zt(t,e){var n,r={asyncAttributesPending:null!=e,get attributes(){return this.asyncAttributesPending&&console.error("Accessing resource attributes before async attributes settled"),n.attrs||{}},waitForAsyncAttributes:function(){return this.asyncAttributesPending?l.Promise.resolve(n.aattrs).then():l.Promise.resolve()},merge:function(t){if(!t)return this;var e=Qt(t),r=_(_({},n.sattrs),e.sattrs||t.attributes);return n.aattrs||e.aattrs?zt(r,l.Promise.all([n.aattrs,e.aattrs]).then((function(r){var o=u(r,2),a=o[0],i=o[1];return _(_(_(_({},n.sattrs),a),e.sattrs||t.attributes),i)}))):zt(r)}};return(n=Qt(r)).attrs=t,n.sattrs=n.attrs||{},n.aattrs=null==e?void 0:e.then((function(t){return n.attrs=_(_({},n.attrs),t),r.asyncAttributesPending=!1,t}),(function(t){return console.debug("a resource's async attributes promise rejected:",t),r.asyncAttributesPending=!1,{}})),r}var Jt=k((function(){return zt({})}));function Xt(t,e,n){var r=function(t){var e={sampler:Yt()},n=Vt(),r=_(_(_({},n),e),t);return r.generalLimits=_(_({},n.generalLimits),t.generalLimits||{}),r.spanLimits=_(_({},n.spanLimits),t.spanLimits||{}),r}(e),o=r.sampler,a=r.generalLimits,i=r.spanLimits,u=r.idGenerator,s=void 0===u?new St:u;return{resource:n.resource,instrumentationLibrary:t,startSpan:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt,a=s.generateSpanId(),i=s.generateTraceId(),u=null!=(e=n.kind)?e:yt,c=(n.links||[]).map((function(t){return{context:t.context,attributes:Gt(t.attributes)}})),f=Gt(n.attributes),l=o.shouldSample(r,i,t,u,f,c),p=l.traceState,d=l.decision===Ct?Mt:It,E={traceId:i,spanId:a,traceFlags:d,traceState:p};if(l.decision===Nt)return console.debug("Recording is off, propagating context in a non-recording span"),function(t){var e=t||qt;return{spanContext:function(){return e},setAttribute:function(){return this},setAttributes:function(){return this},addEvent:function(){return this},setStatus:function(){return this},updateName:function(){return this},end:function(){},isRecording:function(){return!1},recordException:function(){}}}(E);var m=Wt(this,r,t,E,u,0,c,n.startTime),v=Gt(Object.assign(f,l.attributes));return m.setAttributes(v),m},startActiveSpan:function(t,e,n,r){var o,a,i;if(!(arguments.length<2)){2===arguments.length?i=e:3===arguments.length?(o=e,i=n):(o=e,a=n,i=r);var u=a||Bt,s=this.startSpan(t,o,u);return i(s)}},getGeneralLimits:function(){return a},getSpanLimits:function(){return i},getActiveSpanProcessor:function(){return n.getActiveSpanProcessor()}}}function $t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=new Map,r=xt({},Vt(),function(t){var e,n,r,o,a,i,u,s,c=_({},t.spanLimits);return c.attributeCountLimit=null!=(o=null!=(r=null==(e=t.spanLimits)?void 0:e.attributeCountLimit)?r:null==(n=t.generalLimits)?void 0:n.attributeCountLimit)?o:128,c.attributeValueLengthLimit=null!=(s=null!=(u=null==(a=t.spanLimits)?void 0:a.attributeValueLengthLimit)?u:null==(i=t.generalLimits)?void 0:i.attributeValueLengthLimit)?s:1/0,T(_({},t),{spanLimits:c})}(t)),o=zt(i(i(i(i({},tt.SERVICE_NAME,"unknown_service"),tt.TELEMETRY_SDK_LANGUAGE,ft[tt.TELEMETRY_SDK_LANGUAGE]),tt.TELEMETRY_SDK_NAME,ft[tt.TELEMETRY_SDK_NAME]),tt.TELEMETRY_SDK_VERSION,ft[tt.TELEMETRY_SDK_VERSION])).merge(r.resource||Jt());return r=T(_({},r),{resource:o}),{resource:o,activeSpanProcessor:At([]),getTracer:function(t,e,o){var a="".concat(t,"@").concat(e||"",":").concat((null==o?void 0:o.schemaUrl)||"");return n.has(a)||n.set(a,Xt({name:t,version:e,schemaUrl:null==o?void 0:o.schemaUrl},r,this)),n.get(a)},addSpanProcessor:function(t){0===e.length&&this.activeSpanProcessor.shutdown().catch((function(t){return console.error("Error while trying to shutdown current span processor",t)})),e.push(t),this.activeSpanProcessor=At(e)},getActiveSpanProcessor:function(){return this.activeSpanProcessor},register:function(){},forceFlush:function(){var t=r.forceFlushTimeoutMillis,n=e.map((function(e){return new l.Promise((function(n){var r,o=l.setTimeout((function(){n(new Error("Span processor did not completed within timeout period of ".concat(t," ms"))),r=1}),t);e.forceFlush().then((function(){l.clearTimeout(o),1!==r&&n(r=0)})).catch((function(t){l.clearTimeout(o),r=2,n(t)}))}))}));return new l.Promise((function(t,e){l.Promise.all(n).then((function(n){var r=n.filter((function(t){return 0!==t}));r.length>0?e(r):t()})).catch((function(t){return e([t])}))}))},shutdown:function(){return this.activeSpanProcessor.shutdown()}}}function Zt(t,e){return{key:t,value:te(e)}}function te(t){var e=s(t);return"string"===e?{stringValue:t}:"number"===e?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:"boolean"===e?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(te)}}:"object"===e&&null!=t?{kvlistValue:{values:Object.entries(t).map((function(t){var e=u(t,2);return Zt(e[0],e[1])}))}}:{}}function ee(t){return Object.keys(t).map((function(e){return Zt(e,t[e])}))}function ne(t){return{attributes:t.attributes?ee(t.attributes):[],name:t.name,timeUnixNano:vt(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function re(t,e){var n,r=t.spanContext(),o=t.status,a=e?t.parentSpanId:null!=t.parentSpanId?st(t.parentSpanId):void 0;return{traceId:e?r.traceId:st(r.traceId),spanId:e?r.spanId:st(r.spanId),parentSpanId:a,traceState:null==(n=r.traceState)?void 0:n.serialize(),name:t.name,kind:null==t.kind?0:t.kind+1,startTimeUnixNano:vt(t.startTime),endTimeUnixNano:vt(t.endTime),attributes:ee(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(ne),droppedEventsCount:t.droppedEventsCount,status:{code:o.code,message:o.message},links:t.links.map((function(t){return function(t,e){var n;return{attributes:t.attributes?ee(t.attributes):[],spanId:e?t.context.spanId:st(t.context.spanId),traceId:e?t.context.traceId:st(t.context.traceId),traceState:null==(n=t.context.traceState)?void 0:n.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}(t,e)})),droppedLinksCount:t.droppedLinksCount}}function oe(t,e){for(var n=function(t){var e=new Map;return t.forEach((function(t){var n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));var r=t.instrumentationLibrary,o=r.name,a=r.version,i=r.schemaUrl,u="".concat(o,"@").concat(a||"",":").concat(i||""),s=n.get(u);s||(s=[],n.set(u,s)),s.push(t)})),e}(t),r=[],o=n.entries(),a=o.next();!a.done;){for(var i=u(a.value,2),s=i[0],c=[],f=i[1].values(),l=f.next();!l.done;){var p=l.value;if(p.length>0){var d=p[0].instrumentationLibrary,E=d.name,m=d.version,v=d.schemaUrl,h=p.map((function(t){return re(t,e)}));c.push({scope:{name:E,version:m},spans:h,schemaUrl:v})}l=f.next()}var g={resource:{attributes:ee(s.attributes),droppedAttributesCount:0},scopeSpans:c,schemaUrl:void 0};r.push(g),a=o.next()}return r}var ae=Uint8Array,ie=Uint16Array,ue=Int32Array,se=new ae([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ce=new ae([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fe=new ae([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),le=function(t,e){for(var n=new ie(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new ue(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return{b:n,r:o}},pe=le(se,2),de=pe.b,Ee=pe.r;de[28]=258,Ee[258]=28;var me,ve=le(ce,0).r,he=new ie(32768);for(Te=0;Te<32768;++Te)me=(61680&(me=(52428&(me=(43690&Te)>>1|(21845&Te)<<1))>>2|(13107&me)<<2))>>4|(3855&me)<<4,he[Te]=((65280&me)>>8|(255&me)<<8)>>1;var ge=function(t,e,n){for(var r=t.length,o=0,a=new ie(e);o<r;++o)t[o]&&++a[t[o]-1];var i,u=new ie(e);for(o=1;o<e;++o)u[o]=u[o-1]+a[o-1]<<1;if(n){i=new ie(1<<e);var s=15-e;for(o=0;o<r;++o)if(t[o])for(var c=o<<4|t[o],f=e-t[o],l=u[t[o]-1]++<<f,p=l|(1<<f)-1;l<=p;++l)i[he[l]>>s]=c}else for(i=new ie(r),o=0;o<r;++o)t[o]&&(i[o]=he[u[t[o]-1]++]>>15-t[o]);return i},_e=new ae(288);for(Te=0;Te<144;++Te)_e[Te]=8;for(Te=144;Te<256;++Te)_e[Te]=9;for(Te=256;Te<280;++Te)_e[Te]=7;for(Te=280;Te<288;++Te)_e[Te]=8;var Te,Se=new ae(32);for(Te=0;Te<32;++Te)Se[Te]=5;var Re=ge(_e,9,0),Oe=ge(Se,5,0),Ae=function(t){return(t+7)/8|0},Pe=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new ae(t.subarray(e,n))},ye=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},be=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Ne=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var o=n.length,a=n.slice();if(!o)return{t:Fe,l:0};if(1==o){var i=new ae(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var u=n[0],s=n[1],c=0,f=1,l=2;for(n[0]={s:-1,f:u.f+s.f,l:u,r:s};f!=o-1;)u=n[n[c].f<n[l].f?c++:l++],s=n[c!=f&&n[c].f<n[l].f?c++:l++],n[f++]={s:-1,f:u.f+s.f,l:u,r:s};var p=a[0].s;for(r=1;r<o;++r)a[r].s>p&&(p=a[r].s);var d=new ie(p+1),E=Ce(n[f-1],d,0);if(E>e){r=0;var m=0,v=E-e,h=1<<v;for(a.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));r<o;++r){var g=a[r].s;if(!(d[g]>e))break;m+=h-(1<<E-d[g]),d[g]=e}for(m>>=v;m>0;){var _=a[r].s;d[_]<e?m-=1<<e-d[_]++-1:++r}for(;r>=0&&m;--r){var T=a[r].s;d[T]==e&&(--d[T],++m)}E=e}return{t:new ae(d),l:E}},Ce=function t(e,n,r){return-1==e.s?Math.max(t(e.l,n,r+1),t(e.r,n,r+1)):n[e.s]=r},Ie=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ie(++e),r=0,o=t[0],a=1,i=function(t){n[r++]=t},u=1;u<=e;++u)if(t[u]==o&&u!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(o),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(o);a=1,o=t[u]}return{c:n.subarray(0,r),n:e}},Me=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},we=function(t,e,n){var r=n.length,o=Ae(e+2);t[o]=255&r,t[o+1]=r>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var a=0;a<r;++a)t[o+a+4]=n[a];return 8*(o+4+r)},De=function(t,e,n,r,o,a,i,u,s,c,f){ye(e,f++,n),++o[256];for(var l=Ne(o,15),p=l.t,d=l.l,E=Ne(a,15),m=E.t,v=E.l,h=Ie(p),g=h.c,_=h.n,T=Ie(m),S=T.c,R=T.n,O=new ie(19),A=0;A<g.length;++A)++O[31&g[A]];for(A=0;A<S.length;++A)++O[31&S[A]];for(var P=Ne(O,7),y=P.t,b=P.l,N=19;N>4&&!y[fe[N-1]];--N);var C,I,M,w,D=c+5<<3,U=Me(o,_e)+Me(a,Se)+i,F=Me(o,p)+Me(a,m)+i+14+3*N+Me(O,y)+2*O[16]+3*O[17]+7*O[18];if(s>=0&&D<=U&&D<=F)return we(e,f,t.subarray(s,s+c));if(ye(e,f,1+(F<U)),f+=2,F<U){C=ge(p,d,0),I=p,M=ge(m,v,0),w=m;var k=ge(y,b,0);for(ye(e,f,_-257),ye(e,f+5,R-1),ye(e,f+10,N-4),f+=14,A=0;A<N;++A)ye(e,f+3*A,y[fe[A]]);f+=3*N;for(var L=[g,S],x=0;x<2;++x){var Y=L[x];for(A=0;A<Y.length;++A){var V=31&Y[A];ye(e,f,k[V]),f+=y[V],V>15&&(ye(e,f,Y[A]>>5&127),f+=Y[A]>>12)}}}else C=Re,I=_e,M=Oe,w=Se;for(A=0;A<u;++A){var G=r[A];if(G>255){be(e,f,C[(V=G>>18&31)+257]),f+=I[V+257],V>7&&(ye(e,f,G>>23&31),f+=se[V]);var B=31&G;be(e,f,M[B]),f+=w[B],B>3&&(be(e,f,G>>5&8191),f+=ce[B])}else be(e,f,C[G]),f+=I[G]}return be(e,f,C[256]),f+I[256]},Ue=new ue([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fe=new ae(0),ke=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&-306674912)^n>>>1;t[e]=n}return t}(),Le=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function xe(t,e){e||(e={});var n=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=ke[255&n^e[r]]^n>>>8;t=n},d:function(){return~t}}}(),r=t.length;n.p(t);var o,a=function(t,e,n,r,o){if(!o&&(o={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),i=new ae(a.length+t.length);i.set(a),i.set(t,a.length),t=i,o.w=a.length}return function(t,e,n,r,o,a){var i=a.z||t.length,u=new ae(r+i+5*(1+Math.ceil(i/7e3))+o),s=u.subarray(r,u.length-o),c=a.l,f=7&(a.r||0);if(e){f&&(s[0]=a.r>>3);for(var l=Ue[e-1],p=l>>13,d=8191&l,E=(1<<n)-1,m=a.p||new ie(32768),v=a.h||new ie(E+1),h=Math.ceil(n/3),g=2*h,_=function(e){return(t[e]^t[e+1]<<h^t[e+2]<<g)&E},T=new ue(25e3),S=new ie(288),R=new ie(32),O=0,A=0,P=a.i||0,y=0,b=a.w||0,N=0;P+2<i;++P){var C=_(P),I=32767&P,M=v[C];if(m[I]=M,v[C]=I,b<=P){var w=i-P;if((O>7e3||y>24576)&&(w>423||!c)){f=De(t,s,0,T,S,R,A,y,N,P-N,f),y=O=A=0,N=P;for(var D=0;D<286;++D)S[D]=0;for(D=0;D<30;++D)R[D]=0}var U=2,F=0,k=d,L=I-M&32767;if(w>2&&C==_(P-L))for(var x=Math.min(p,w)-1,Y=Math.min(32767,P),V=Math.min(258,w);L<=Y&&--k&&I!=M;){if(t[P+U]==t[P+U-L]){for(var G=0;G<V&&t[P+G]==t[P+G-L];++G);if(G>U){if(U=G,F=L,G>x)break;var B=Math.min(L,G-2),K=0;for(D=0;D<B;++D){var j=P-L+D&32767,H=j-m[j]&32767;H>K&&(K=H,M=j)}}}L+=(I=M)-(M=m[I])&32767}if(F){T[y++]=268435456|Ee[U]<<18|ve[F];var q=31&Ee[U],W=31&ve[F];A+=se[q]+ce[W],++S[257+q],++R[W],b=P+U,++O}else T[y++]=t[P],++S[t[P]]}}for(P=Math.max(P,b);P<i;++P)T[y++]=t[P],++S[t[P]];f=De(t,s,c,T,S,R,A,y,N,P-N,f),c||(a.r=7&f|s[f/8|0]<<3,f-=7,a.h=v,a.p=m,a.i=P,a.w=b)}else{for(P=a.w||0;P<i+c;P+=65535){var Q=P+65535;Q>=i&&(s[f/8|0]=c,Q=i),f=we(s,f+1,t.subarray(P,Q))}a.i=i}return Pe(u,0,r+Ae(f)+o)}(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,o)}(t,e,10+((o=e).filename?o.filename.length+1:0),8),i=a.length;return function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:9==e.level?2:0,t[9]=3,0!=e.mtime&&Le(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}}(a,e),Le(a,i-8,n.d()),Le(a,i-4,r),a}var Ye="undefined"!=typeof TextEncoder&&new TextEncoder,Ve="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ve.decode(Fe,{stream:!0})}catch(t){}var Ge,Be,Ke,je,He,qe="https://track.weimobqa.com/api/v3/trace",We="http.request.header.x_biz_id",Qe=1e9,ze="_hack.real.pageid",Je="_hack.remove.conversation_id",Xe="_hack.require.page_route",$e="_hack.remove.seq_number",Ze=[ze,Je,Xe,$e],tn=[void 0,"0","1041"],en=function(t){var e=t.onInitConfig;e&&(delete t.onInitConfig,e.forEach((function(e){return e(t)})));var n,o=t,a=o.exporter,i=o.spanProcessors,u=o.instrumentations,s=function(t,e){var n={};for(var r in t)v.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&m){var o,a=c(m(t));try{for(a.s();!(o=a.n()).done;){r=o.value;e.indexOf(r)<0&&h.call(t,r)&&(n[r]=t[r])}}catch(t){a.e(t)}finally{a.f()}}return n}(o,["exporter","spanProcessors","instrumentations"]);return s.env=(n=s.env)?n.includes("dev")||n.includes("local")?"development":n.includes("pl")||n.includes("stag")?"prerelease":n.includes("trail")||n.includes("q")?"qa":n.includes("prod")||n.includes("online")?"production":"development":"development",s.sendToQA?s.url=qe:s.url||(s.url="https://track.weimob.com/api/v3/trace"),null!=s.debug||(s.debug=!1),null!=s.batchSent||(s.batchSent=!0),null!=s.maxExportBatchSize||(s.maxExportBatchSize=512),null!=s.customResource||(s.customResource={}),s.ignoreRequestUrls=[].concat(r(s.ignoreRequestUrls||[]),[s.url]),null!=s.recordRequestBody||(s.recordRequestBody=!1),null!=s.compress||(s.compress=!0),{config:s,exporter:a,spanProcessors:i,instrumentations:u}},nn=function(t,e){return"function"==typeof t?t(e):t},rn=function(t){return function(){var e=(arguments.length<=0?void 0:arguments[0])||{};return function(n){var r={},o=[],a={options:e,pass:{},patch:function(){var t=B.apply(void 0,arguments);return o.push(t),t},unpatchAll:function(){o.forEach((function(t){return t()}))},meter:void 0,tracer:void 0,getConfig:function(){return r},isUrlIgnored:function(t){return function(t,e){if(!e)return!1;var n,r=c(e);try{for(r.s();!(n=r.n()).done;){if(Tt(t,n.value))return!0}}catch(t){r.e(t)}finally{r.f()}return!1}(t,n.ignoreRequestUrls)},baseInitConfig:n};return{instrumentationName:t.name,instrumentationVersion:t.version||Q,disable:function(){var e;null==(e=t.disable)||e.call(t,a)},enable:function(){t.enable(a)},getConfig:function(){return r},setConfig:function(e){var n;r=_({},e),null==(n=t.onConfigChanged)||n.call(t,a)},setMeterProvider:function(){},setTracerProvider:function(e){a.getTracer=function(t,n,r){return e.getTracer(t,n,r)},a.tracer=e.getTracer(t.name,t.version)}}}}},on=function(n){t(i,n);var r=e(i);function i(){return a(this,i),r.apply(this,arguments)}return o(i)}(n(Error)),an=function(t){return"string"==typeof t?(0!==t.indexOf("http")&&0!==t.indexOf("//")||(t="/".concat(t.split("/").slice(3).join("/"))),t.split("?")[0]):t},un={onStart:function(){},onEnd:function(){},forceFlush:function(){return l.Promise.resolve()},shutdown:function(){return l.Promise.resolve()}},sn=function(t){return _(_({},un),t)},cn=$("seq",!0,(function(){return{v:0}})),fn=(Be={},Ke=new Map,je=function(){var t=l.titan.getCurrentGroupInfo();return t&&"rprm"!==t.name?t:Be},He=function(){var t,e=je(),n=Ke.get(e);return n||(n={data:(null==(t=Ke.get(Be))?void 0:t.data)||{},json:null},Ke.set(e,n)),n},{getUserInfo:function(){return He().data},getUserInfoJSON:function(){var t=He();return null==t.json&&(t.json=JSON.stringify(t.data)),t.json},updateUserInfo:function(t){var e,n=je();n!==Be&&(t=_(_({},null==(e=Ke.get(Be))?void 0:e.data),t)),Ke.set(n,{data:t,json:null}),W.emit("setUser",t)}}),ln=function(t,e){var n;Object.assign(t,(i(i(i(i(i(i(i(i(i(i(n={},Z.AUTH_WID,e.wid),Z.AUTH_PID,e.pid),Z.AUTH_VID,e.vid),Z.AUTH_UID,e.uid),Z.AUTH_VID_TYPE,e.vid_type),Z.AUTH_CID,e.cid),Z.AUTH_CUID,e.cuid),Z.AUTH_PIID,e.product_instance_id),Z.AUTH_OPENID,e.openid),Z.AUTH_BOS_ID,e.bos_id||e.bosId),i(i(i(n,Z.AUTH_PARENT_VID,e.parentVid),Z.AUTH_PRODUCT_ID,e.product_id),Z.AUTH_PRODUCT_VERSION_ID,e.product_version_id)))},pn=sn({onStart:function(t){var e=fn.getUserInfo(),n=i({},Z.FE_USER_CONTENT,fn.getUserInfoJSON());ln(n,e),t.setAttributes(n)}}),dn=fn.updateUserInfo,En=fn.getUserInfo,mn=sn({onEnd:function(t){var e=t.attributes;if(null==e[Z.EVENT_TYPE])throw new Error("未填写 SemanticAttributes.EVENT_TYPE");e[$e]||null==e[Z.FE_SEQ_NUMBER]&&106!==e[Z.EVENT_TYPE]&&(e[Z.FE_SEQ_NUMBER]=cn.v++)}}),vn=sn({onEnd:function(t){t.attributes[Je]&&(t.attributes[Z.FE_CONVERSATION_ID]=t.spanContext().traceId)}}),hn=sn({onEnd:function(t){null==t.attributes[Z.EVENT_TYPE]&&console.error("[APM3] span缺少".concat(Z.EVENT_TYPE,"属性, name:").concat(t.name))}}),gn=sn({onEnd:function(t){if(void 0===Ge){var e=t.attributes[Z.AUTH_CUID];e&&(Ge=e.startsWith("robot"))}if(Ge){var n=t.spanContext();n.traceFlags&=4294967292,n.traceFlags|=Nt}}}),_n=At([hn,mn,pn,vn,gn]),Tn=console,Sn=function(t,e){var n=[],o=function(o){for(var a={},u=0;u<n.length;u+=1){var s=n[u],c=a[s.url];c||(c=[],a[s.url]=c);var f=c[c.length-1];f||(f=[],c.push(f));var l=f[f.length-1];if(null==l)f.push(u);else{var p=n[l];s.time-p.time<1e3?f.push(u):c.push([u])}}var d=Date.now(),E=[];Object.keys(a).forEach((function(u){a[u].forEach((function(a){var u=n[a[a.length-1]];if((o||!(d-u.time<1e3))&&(E.push.apply(E,r(a)),1!==a.length)){var s=n[a[0]].time,c=Math.ceil((u.time-s)/1e3),f=i(i(i(i(i({},Z.HTTP_URL,u.url),Z.EVENT_TYPE,nt),Z.CUSTOM_KEY_4,a.length),Z.CUSTOM_KEY_5,a.length/c),Z.REQUEST_BODY,JSON.stringify({window:c,count:a.length,rate:a.length/c,components:a.map((function(t){return n[t].component||"_"})).join(",")})),l=!1,p=function(t){null!=t&&(f[We]=t),e.startSpan("requestRateLimit",{startTime:new Date(s),attributes:f}).end(new Date(s+1e3*c))};t.emit("processRequestRateLimit",{invoke:function(t){p(t),l=!0}}),l||p()}}))})),o?n.splice(0):0!==E.length&&(E.sort((function(t,e){return e-t})),E.forEach((function(t){n.splice(t,1)})))};t.on("request",(function(t){n.push(t)})),t.on("Page.onHide",(function(){o(!0)})),t.on("Page.onUnload",(function(){o(!0)})),l.setInterval((function(){o(!1)}),5e3)},Rn=$("rt",(function(){return{id:y(),tracer:null}})),On=$("aci",!0,(function(){return"default"!==z?"".concat(Rn.id,"-").concat(z):Rn.id})),An=function(){return On},Pn=null,yn=null,bn=function(){if(!Pn)throw new Error("请先执行 init");return Pn},Nn=function(t){var e,n;if(Pn)return Pn;var o=en(t),a=function(t){var e=[],n=[],r=[];return t.forEach((function(t){"pre"===t.enforce?e.push(t):"post"===t.enforce?n.push(t):r.push(t)})),{pre:e,post:n,normal:r}}((null==(e=o.spanProcessors)?void 0:e.map((function(t){return nn(t,o.config)})))||[]),u=[].concat(r(a.pre),[_n],r(a.normal),r(a.post));u.push(sn({onEnd:function(t){[[t],t.events,t.links].forEach((function(t){t.forEach((function(t){var e=t.attributes;e&&Ze.forEach((function(t){e[t]&&delete e[t]}))}))}))}}));var s=function(t){var e=new Map,n=function(t){return e.get(t)};return{processor:sn({onEnd:function(n){var r=null;if(n.asyncTasks){var o=[],a=[];n.asyncTasks.forEach((function(t){"function"==typeof t?a.push(t):o.push(t)})),0!==o.length&&(r=l.Promise.all(o)),0!==a.length&&a.forEach((function(t){r=r?r.finally((function(){return t()})):l.Promise.resolve(t())}))}t.forEach((function(t){t.onEndAsync&&(r=r?r.finally((function(){return t.onEndAsync(n)})):l.Promise.resolve(t.onEndAsync(n)))})),r&&(r=r.catch(x).then((function(){e.delete(n)})),e.set(n,r))}}),wrapExporter:function(t){var e={export:function(e,r){var o=e.map(n).filter(Boolean);0!==o.length?l.Promise.all(o).then((function(){return t.export(e,r)})):t.export(e,r)},shutdown:function(){return t.shutdown()}};return t.forceFlush&&(e.forceFlush=function(){return t.forceFlush()}),e}}}(u.slice());return u.push(s.processor),u.push(function(t,e,n){var r,o;return o=n(o=t.debug?{export:function(t,e){Tn.log("[apm3 exporter]",t),e({code:0})},shutdown:function(){return l.Promise.resolve(void 0)}}:nn(e,t)),!1!==t.batchSent?new jt(o,{maxExportBatchSize:null!=(r=t.maxExportBatchSize)?r:50}):new Kt(o)}(o.config,o.exporter,s.wrapExporter)),Pn=function(t){var e=function(t,e){return $t({sampler:wt(),resource:zt(t,e)})}(t.resource);return t.spanProcessors.forEach((function(t){e.addSpanProcessor(t)})),t.instrumentations.forEach((function(t){t.setTracerProvider(e),t.enable()})),t.onProviderCreated&&t.onProviderCreated(e),e.getTracer("APM2")}({asyncResource:t.asyncCustomResource,resource:T(_({},o.config.customResource),i(i(i(i({},Z.FE_CONVERSATION_ID,An()),tt.DEPLOYMENT_ENVIRONMENT,o.config.env),tt.SERVICE_NAME,o.config.service),tt.AGENT_VERSION,Q)),spanProcessors:u,instrumentations:(null==(n=o.instrumentations)?void 0:n.map((function(t){return nn(t,o.config)})))||[],onProviderCreated:t.onTracerProviderCreated}),Tn.log("[APM3] APM_CONVERSATION_ID",An()),"default"!==z||Rn.tracer||(Rn.tracer=Pn),function(t,e){[Sn].forEach((function(n){n(t,e)}))}(W,Pn),function(){var t=$("wid",!0,(function(){return{v:void 0}}));W.on("setUser",(function(e){var n=e.wid;if(null!=n){if(t.v===n)return;t.v=n,bn().startSpan("reportWid",{attributes:i({},Z.EVENT_TYPE,nt)}).end()}}))}(),yn=o.config,Pn},Cn=$("esd",(function(){return{timeGap:0,runningPromise:l.Promise.resolve()}})),In=$("csh",(function(){return j((function(t){var e=[],n=[],o=!1,a=t?t.load().then((function(t){t&&(e.unshift.apply(e,r(t)),t.forEach((function(t){var e=t.id;n.push(e)})))})).catch(x):l.Promise.resolve(),u=function(){if(!o){o=!0;try{null==t||t.fusing()}catch(t){}bn().startSpan("APM Storage Fusing",{attributes:i({},Z.EVENT_TYPE,1)}).end()}},s=function(n){n&&e.push(n),t&&!o&&(a=a.finally((function(){if(!o){var n=e.slice();return t.store(n).catch((function(){u()}))}})).finally((function(){return 500,new l.Promise((function(t){l.setTimeout(t,500)}))})))},c=function(t){!function(t,e){var n=t.findIndex(e);-1!==n&&t.splice(n,1)}(e,(function(e){return e.id===t})),function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}(n,t),s()},f=function(t){return e.find((function(e){return e.id===t}))};return{save:s,remove:c,get:f,retry:function(t){n.includes(t)||n.push(t)},hasRetried:function(){return 0!==n.length},takeRetried:function(){for(var t=Date.now(),e=n.shift(),r=e?f(e):void 0;r&&t-r.t>6048e5;)c(r.id),r=(e=n.shift())?f(e):void 0;return r},setStorageFusing:u,isStorageFused:function(){return o}}}))})),Mn=["startTime","endTime"],wn=function(t){var e=null==t?void 0:t.spanContext();return{trace_id:null==e?void 0:e.traceId,span_id:null==e?void 0:e.spanId,parent_id:An(),conversation_id:An()}},Dn=function(t){var e={};return Object.keys(t).forEach((function(n){!function t(e,n,r){U(r)||Array.isArray(r)?Object.keys(r).forEach((function(o){t(e,"".concat(n,".").concat(o),r[o])})):V(r)?e[n]=r:e[n]=F(r)}(e,n,t[n])})),e},Un=k((function(){return{baseAttrs:new Set(Object.values(Z).concat(Object.values(tt))),simple:Dn(T(_({},Array.from({length:19},(function(t,e){return e+2})).reduce((function(t,e){return t["key".concat(e)]=Z["CUSTOM_KEY_".concat(e)],t}),{})),{meta:{http:{method:Z.HTTP_METHOD,url:Z.HTTP_URL,headers:Z.REQUEST_HEADERS,body:Z.REQUEST_BODY,status_code:[Z.HTTP_STATUS_CODE,function(t){return"number"==typeof t?t:-1}],user:Z.FE_USER_CONTENT,$__$headers:{wmsdk_bc:Z.WMSDK_BC,wmsdk_bctype:Z.WMSDK_BCTYPE,wmsdk_v:Z.WMSDK_V,wmsdk_source:Z.WMSDK_SOURCE,wmsdk_pkg:Z.WMSDK_PKG,wmsdk_fatal:Z.WMSDK_FATAL,wmsdk_fatal_name:Z.WMSDK_FATAL_NAME,wmsdk_platform:Z.WMSDK_PLATFORM}},response:{headers:Z.RESPONSE_HEADERS,body:Z.RESPONSE_BODY},error:{code:Z.FE_ERRCODE,stack:Z.EXCEPTION_STACKTRACE,type:Z.EXCEPTION_TYPE,msg:Z.EXCEPTION_MESSAGE,message:Z.EXCEPTION_MESSAGE}}})),complex:[{test:/^meta\.http\.\$__\$headers\.(wmsdk_.*)/,newKey:Z.WMSDK_CONTENT}]}})),Fn=new Set(["start","resource","duration","error","trace_id","span_id","parent_id"]),kn=Symbol("adder_key"),Ln=function(t,e,n){var r,o,a;["http","response"].forEach((function(e){var n,r=null==(n=t.meta)?void 0:n[e];r&&(r.headers&&(r.$__$headers=r.headers,r.headers=JSON.stringify(r.headers)),null!=r.body&&"string"!=typeof r.body&&(r.body=JSON.stringify(r.body)))})),U(null==(o=null==(r=t.meta)?void 0:r.http)?void 0:o.user)&&(a=_(_({},En()),t.meta.http.user),t.meta.http.user=JSON.stringify(a));var i=function(t){var e={},n={},r=Un(),o=r.simple,a=r.complex,i=r.baseAttrs,s={};return Object.keys(t).forEach((function(r){var c=t[r],f=o[r]||Z[r]||tt[r];if(!f&&i.has(r)&&(f=r),f){var l,p;Array.isArray(f)&&(f=(l=u(f,2))[0],p=l[1]),e[f]=p?p(c):c}else{for(var d,E,m=0;m<a.length;m+=1){var v=a[m],h=v.test,g=v.newKey,_=r.match(h);if(_){d=g,E=u(_,1)[0];break}}d&&E?(s[d]||(s[d]={}))[E]=c:Fn.has(r)||r.includes("$__$")||(n[r]=c)}})),Object.keys(s).forEach((function(t){e[t]=JSON.stringify(s[t])})),e[Z.CUSTOM_KEY_1]=JSON.stringify(function(t){var e={};return Object.keys(t).forEach((function(n){!function(t,e,n){if(/[.[]/.test(e)){for(var r=e.replace(/\[(\d+)]/g,"`a.$1").replace(/\[([^\]]+)]/g,".$1").split("."),o=t,a=0;a<r.length-1;a+=1){var i=r[a],u=i.endsWith("`a"),s=u?i.slice(0,-2):i,c=o[s];M(c)||(c=u?[]:{},o[s]=c),!u&&Array.isArray(c)&&(c=_({},c),o[s]=c),o=c}o[r[r.length-1]]=n}else t[e]=n}(e,n,t[n])})),e}(n)),e}(Dn(t));e(i),a&&ln(i,a);var s=bn().startSpan(t.resource,{startTime:new Date(t.start),attributes:i}).setStatus({code:t.error?Pt.ERROR:Pt.OK});return t.error&&s.setAttribute(Z.FE_ERRTYPE,ot),n(s),s.end(new Date(t.start+t.duration)),s},xn=function(n){t(i,n);var r=e(i);function i(t){var e,n;return a(this,i),(e=r.call(this,t.message)).name=t.name||"BizError",e.level=null!=(n=t.level)?n:rt.ERROR,e.code=t.code,e.data=t.data,e.uni=!!t.uni,e.level<rt.TRACE&&(e.level=rt.TRACE),e.level>rt.FATAL&&(e.level=rt.FATAL),e}return o(i)}(n(Error));xn.TRACE=rt.TRACE,xn.DEBUG=rt.DEBUG,xn.INFO=rt.INFO,xn.WARN=rt.WARN,xn.ERROR=rt.ERROR,xn.FATAL=rt.FATAL;var Yn=xn,Vn="UnknownError",Gn=/^\w+$/,Bn=/,?"(?:globalTicket|monitorTrackId)":\s*?"[^"]*"/g,Kn=[],jn=$("ref",(function(){return{}})),Hn=function t(e,n){var r=l.titan.getCurrentMetadata("GET_CURRENT_CORE_ENV"),o=r?r().titan.getTitanConfig().envName||"default":z;if(o!==z){var a=jn[o];if(a&&a!==t)return a(e,n)}try{if(M(e)&&e.promise instanceof l.Promise&&(e=e.reason),e instanceof on)return wn();e instanceof Yn&&(n=e.uni?"bu-uni":ot);var u,s,c,f,p,d,E,m,v=Pt.ERROR;if(e instanceof Error){var h,g=e;s=g.message,c=g.stack,u=g.name,e instanceof Yn&&(f=(h=e).level,p=h.code,d=h.data),"string"!=typeof c||c.includes(s)||(c="".concat(u,": ").concat(s,"\n").concat(c))}else if("string"==typeof e)if(e.startsWith("MiniProgramError")){var _=function(t){for(var e=Vn,n=t.slice(17).split("\n"),r=": ".concat(n[0]),o=-1,a=1;a<n.length;a+=1){var i=n[a],u=i.indexOf(r);if(-1!==u&&(e=i.slice(0,u))&&Gn.test(e)){o=a;break}}return-1!==o?{errorType:e,message:n.slice(0,o).join("\n"),stack:n.slice(o).join("\n")}:{errorType:Vn,message:n[0],stack:n.slice(1).join("\n")}}(e);s=_.message,u=_.errorType,c=_.stack}else s=e,u=Vn;else if(M(e)){var T=F(e);u=Vn,(s=e.errMsg||e.errmsg||e.msg||e.message)?c="".concat(Vn,": ").concat(T):s=T}else s=F(e),u=Vn;E||(E="".concat(u,": ").concat(s)),E&&(E=E.replace(Bn,"")),E||(E="exception"),E.length>256&&(E=E.slice(0,256)),Kn.some((function(t){try{if(!1===t.fn(E))return m=t.module,!0}catch(t){}return!1}))&&(v=Pt.OK,null==f&&(f=rt.ERROR));var S=i(i(i(i(i(i(i(i({},Z.EVENT_TYPE,104),Z.EXCEPTION_STACKTRACE,c),Z.EXCEPTION_MESSAGE,s),Z.EXCEPTION_TYPE,u),Z.FE_ERRTYPE,n),Z.FE_ERRCODE,p),Z.LOG_LEVEL,f),Xe,!0);if(m&&(S[Z.CUSTOM_KEY_1]=m),d&&(S[Z.REQUEST_BODY]=JSON.stringify(d)),c){var R="".concat(u,": ").concat(s),O=c.indexOf(R);if(-1!==O){var A=c.slice(O+R.length+1);A&&(S[Z.FE_STACK_LITE]=A.split("\n").slice(0,2).join("\n"))}}var P=bn().startSpan(E,{attributes:S});return P.setStatus({code:v}),P.end(),wn(P)}catch(t){}return wn()},qn=function(t){return Hn(t,ot)},Wn=function(t){return Hn(t,"js-runtime")},Qn=function(t){var e,n,r;n=null==(e=l.titan.getCurrentModuleInfo())?void 0:e.name,(r=t,Array.isArray(r)?r:null!=r?[r]:[]).forEach((function(t){Kn.push({fn:t,module:n})}))};jn[z]=Hn;var zn=j((function(t){return Object.keys(t).reduce((function(e,n){return e[n.toLowerCase()]=t[n],e}),{})}),!0),Jn=function(t){return U(t)?zn(t):{}},Xn=j((function(t){return t.map((function(t){return t.toLowerCase()}))}),!0),$n=/^(https?):\/\/([^?\\/:]+)/,Zn=["x-page-route"],tr=function(){var t;return t=l.wx,{miniProgramKind:void 0!==l.my?"ali":void 0!==l.xhs?"xhs":void 0!==l.qq?"qq":void 0!==l.swan?"bd":void 0!==l.ks?"ks":"wx",platformObject:t}}(),er=tr.platformObject,nr=tr.miniProgramKind,rr=k((function(){var t=er.getSystemInfoSync();return"ali"===nr&&void 0!==l.my&&l.my.isIDE&&(t=T(_({},t),{brand:"devtools",platform:"devtools"})),t})),or=function(t){return M(t)&&"string"==typeof t.is&&"function"==typeof t.setData&&"function"==typeof t.selectComponent&&"function"==typeof t.getPageId},ar=function(t){return or(t)&&t.route===t.is},ir=function(t){return or(t)&&"custom-tab-bar/index"===t.is},ur=function(t,e){if(!t||!(t.success||t.fail||t.complete))return e;(t.success||t.fail)&&e.then(t.success,t.fail),t.complete&&e.then(t.complete,t.complete).catch(x)},sr=function(t){return"number"==typeof t&&(t="pageId:".concat(t)),t},cr=k((function(){return"devtools"===rr().platform})),fr=function(){var t=l.getCurrentPages(),e=t[t.length-1];return"function"==typeof(null==e?void 0:e.getPageId)?e:void 0},lr={fns:[]},pr={fns:[]},dr={fns:[]},Er=function(t,e){return function(n){return n||(n={}),function(t){return t.orderedFns||(t.orderedFns=t.fns.slice().sort((function(t,e){return"number"==typeof t.priority&&"number"==typeof e.priority?t.priority-e.priority:"number"==typeof t.priority?1:"number"==typeof e.priority?-1:0})).map((function(t){return t.fn}))),t.orderedFns}(e).forEach((function(t){t(n)})),t(n)}},mr=function(t,e,n){var r,o,a;"App"===t?r=lr:"Page"===t?r=pr:"Component"===t&&(r=dr),r&&("number"==typeof e||void 0===e?(o=e,a=n):a=e,r&&(r.fns.push({fn:a,priority:o}),r.orderedFns=null))};l.App=Er(l.App,lr),l.Page=Er(l.Page,pr),l.Component=Er(l.Component,dr);var vr=mr,hr=["onLoad","onShow","onReady","onHide","onUnload"],gr=q("get_"),_r=j((function(t){var e;return(null==(e=t[gr])?void 0:e.call(t))||[]}),!0),Tr=function(t){var e=function(e){if(e[gr]){var n=e[gr];e[gr]=function(){return n().concat(t)}}else e[gr]=function(){return[t]},function(t){hr.forEach((function(e){var n=t[e];t[e]=function(){var t=this,r=arguments;return ar(this)?(_r(this).forEach((function(n){var o;null==(o=n[e])||o.apply(t,r)})),null==n?void 0:n.apply(this,r)):null==n?void 0:n.apply(this,r)}}))}(e)};mr("Page",(function(t){e(t)})),mr("Component",(function(t){e(t.methods||(t.methods={}))}))},Sr=null,Rr=Symbol("simple_page"),Or=function(){if(Sr)return Sr;var t=l.titan.getCurrentMetadata("PAGE_ID");if(t){var e=l.titan.getPageById(t)||l.titan.getCurrentMetadata(Rr);if(e)return e}return fr()},Ar=function(t,e){Sr=t;try{if("callOnComponent"in l.titan&&"function"==typeof l.titan.callOnComponent)return void l.titan.callOnComponent(Sr,(function(){e()}));e()}finally{Sr=null}},Pr=function(t){var e=t.getPageId();return t=null,function(){return e}};l.titan.registerMetadataBinder((function(t,e){ar(e)&&(t[Rr]={route:e.route,options:e.options,getPageId:Pr(e)})}));var yr=$("psi",!0,(function(){return{appResume:!0,stack:[y()],mapping:Object.create(null)}})),br=j((function(t){return{showCount:0,appResume:!0}}),!0),Nr=function(t){var e=y();yr.stack.push(e),yr.mapping[t.getPageId()]=e},Cr=function(t){["onLoad","onShow"].forEach((function(e){var n=t[e];t[e]=function(){var t=arguments;return ar(this)?(function(t,e){var n=br(t);"onLoad"===e&&(n.appResume=yr.appResume,yr.appResume=!1),"onShow"===e&&(n.appResume||yr.appResume?(n.appResume=!0,n.showCount=0):n.showCount+=1,yr.appResume=!1),0===n.showCount?n.appResume?("onShow"===e&&(n.showCount=1),n.appResume=!1,yr.mapping[t.getPageId()]=yr.stack[yr.stack.length-1]):Nr(t):n.showCount>1&&Nr(t)}(this,e),null==n?void 0:n.apply(this,t)):null==n?void 0:n.apply(this,t)}}))};vr("App",Number.MAX_SAFE_INTEGER,(function(t){var e=t.onShow,n=0;t.onShow=function(){if((n+=1)>1){var t=y();yr.stack.push(t),yr.appResume=!0;var r=fr();r&&(yr.mapping[r.getPageId()]=t)}return null==e?void 0:e.apply(this,arguments)}})),vr("Page",Number.MAX_SAFE_INTEGER,(function(t){Cr(t)})),vr("Component",Number.MAX_SAFE_INTEGER,(function(t){Cr(t.methods||(t.methods={}))}));var Ir=function(t){t=sr(t);var e=yr.mapping[t];if(e)return{pageShowId:e,parentPageShowId:yr.stack[yr.stack.indexOf(e)-1]}},Mr=function(){var t=Or();if(t){var e=Ir(t.getPageId());if(e)return e}return{pageShowId:yr.stack[yr.stack.length-1],parentPageShowId:yr.stack[yr.stack.length-2]}},wr=function(){var t=function(t){return t&&(t.product_id||t.prodId||t.pro_id||t.prod_id)}(l.titan.getCurrentContext());return String(t||0)},Dr=function(t){t=sr(t);var e=l.titan.getPageById(t);if(e){var n=l.titan.getProductIdByPath(e.route);if(n)return n}return null},Ur=j((function(t){return[]}),!0),Fr=q("get_"),kr=j((function(t){var e;return(null==(e=t[Fr])?void 0:e.call(t))||[]}),!0),Lr=l.Behavior({lifetimes:{created:function(){var t=this;kr(this).forEach((function(e){!function(t,e){Ur.cache.has(t)||function(t){B(t,"setData",(function(e){return function(n,r){var o={instance:t,data:n,callback:r},a=Ur(t);!function(t,e){for(var n=t.length-1;n>=0;n-=1)e(t[n])}(a,(function(t){var e;null==(e=t.before)||e.call(t,o)}));var i=o.callback;return o.callback=function(){return a.forEach((function(t){var e;null==(e=t.after)||e.call(t,o)})),null==i?void 0:i.apply(this,arguments)},e.call(this,o.data,o.callback)}}))}(t),Ur(t).push(e)}(t,e)}))}}}),xr=function(t){var e=function(e,n){var r=n[Fr];r||(e.behaviors||(e.behaviors=[])).push(Lr),n[Fr]=function(){return((null==r?void 0:r())||[]).concat(t)}};vr("Page",(function(t){e(t,t)})),vr("Component",(function(t){e(t,t.methods||(t.methods={}))}))},Yr=k((function(){var t="APM3_APP_FIRST_OPEN_TIME";try{if(er.getStorageSync(t))return!1;er.setStorageSync(t,Date.now())}catch(t){}return!0})),Vr={},Gr=l.Behavior({lifetimes:{created:function(){var t;ir(this)||Vr[t=this.getPageId()]||(Vr[t]={startTime:S.now()})}}});vr("Page",(function(t){(t.behaviors||(t.behaviors=[])).unshift(Gr)})),vr("Component",(function(t){(t.behaviors||(t.behaviors=[])).unshift(Gr)})),Tr({onLoad:function(){var t;Vr[t=this.getPageId()]||(Vr[t]={startTime:S.now()})},onUnload:function(){delete Vr[this.getPageId()]}});var Br,Kr=function(t){var e;return t=sr(t),null==(e=Vr[t])?void 0:e.startTime},jr=function(t){return M(t)&&G(t.connectStart)&&G(t.responseStart)},Hr="rprm_apm3_transactions",qr=function(t){return t.errMsg.includes(":ok")&&t.statusCode>=200&&t.statusCode<300},Wr=function(t,e,n){var r;try{if(qr(n)){var o=null==(r=n.data)?void 0:r.timestamp,a=n.header,i=n.profile;if(G(o)||(o=+(null==a?void 0:a.Timestamp)),!G(o)){var u=(null==a?void 0:a.Date)||(null==a?void 0:a.date);u&&(o=new Date(u).getTime())}if(G(o)){var s,c;jr(i)&&(c=i.fetchStart,s=i.responseEnd-i.responseStart);var f=function(t,e,n,r){var o=Date.now();null==r&&(r=(o-e)/2);var a=n+r-(o+t);return Math.abs(a)<5e3?t:a+t}(t,null!=c?c:e,o,s);if(G(f))return f}}}catch(t){}return t},Qr=(Br=function(t){return function(t){var e=er.setStorage,n=er.setStorageSync;er.setStorage=function(){var n=arguments[0]||{};return ur(n,new l.Promise((function(r,o){e(T(_({},n),{success:r,fail:function(a){try{if(((null==a?void 0:a.errMsg)||(null==a?void 0:a.errMessage)||"").includes("exceed storage")&&(t.setStorageFusing(),n.key!==Hr))return void e(T(_({},n),{success:r,fail:o,complete:void 0}))}catch(t){Wn(t)}o(a)},complete:void 0}))})))},er.setStorageSync=function(){var e=arguments;try{return n.apply(this,e)}catch(r){if(r instanceof Error&&r.message.includes("exceed storage")&&(t.setStorageFusing(),e[0]!==Hr))return n.apply(this,e);throw r}}}(t),$("cef",(function(){var e=!1;return{storage:{load:function(){return new l.Promise((function(t,e){er.getStorage({key:Hr,success:function(e){t(e.data)},fail:e})}))},store:function(t){return new l.Promise((function(n,r){e&&0===t.length?n():(e=0===t.length,er.setStorage({key:Hr,data:t,success:function(){return n()},fail:r}))}))},fusing:function(){er.removeStorageSync(Hr)}},getFirstTimeGap:k((function(){return function(t){return new l.Promise((function(e){var n=Date.now();er.request({url:t.config.url,method:"HEAD",success:function(r){e(Wr(t.getTimeGap(),n,r))},fail:function(){e(0)}})}))}(t)})),send:function(e,n){return new l.Promise((function(r,o){var a=Date.now(),u=n(),s=null;if(t.config.compress)try{s=function(t){return xe(function(t,e){var n;if(Ye)return Ye.encode(t);var r=t.length,o=new ae(t.length+(t.length>>1)),a=0,i=function(t){o[a++]=t};for(n=0;n<r;++n){if(a+5>o.length){var u=new ae(a+8+(r-n<<1));u.set(o),o=u}var s=t.charCodeAt(n);s<128?i(s):s<2048?(i(192|s>>6),i(128|63&s)):s>55295&&s<57344?(i(240|(s=65536+(1047552&s)|1023&t.charCodeAt(++n))>>18),i(128|s>>12&63),i(128|s>>6&63),i(128|63&s)):(i(224|s>>12),i(128|s>>6&63),i(128|63&s))}return Pe(o,0,a)}(t))}(JSON.stringify(u)).buffer}catch(e){Tn.warn("[APM3] 压缩失败，将不进行压缩"),t.config.compress=!1}er.request({url:t.config.url,data:s||u,method:"POST",header:_(i(i(i(i({"x-apm-fe-token":t.config.token},J,e),"globalticket",e),"x-apm-fe-env",t.config.env),"x-apm-fe-agent","mp"),s?{"Content-Encoding":"gzip"}:null),success:function(e){var n=e.data;qr(e)&&0===n.code?(t.updateTimeGap(Wr(t.getTimeGap(),a,e)),r()):o(new Error("发送APM数据失败"))},fail:function(t){o(new Error(t.errMsg))}})}))}}}))},function(t){var e,n={config:t,get isStorageFused(){return e.isStorageFused()},setStorageFusing:function(){e.setStorageFusing()},updateTimeGap:function(t){var e,n;Cn.timeGap!==t&&(e=Cn.timeGap,n=t,bn().startSpan("TimeGapChanged: ".concat(n),{attributes:i(i({},Z.EVENT_TYPE,1),Z.REQUEST_BODY,JSON.stringify({oldTimeGap:e,newTimeGap:n}))}).end()),Cn.timeGap=t},getTimeGap:function(){return Cn.timeGap}},r=Br(n),o=r.send,a=r.storage,u=r.getFirstTimeGap;e=In(a),u&&(Cn.runningPromise=Cn.runningPromise.then((function(){return u().then((function(t){n.updateTimeGap(t)}))})));var s=function(t,r,o){return r.then((function(){e.remove(t),null==o||o({code:0})}),(function(r){var a=e.get(t);a&&(a.rc=(a.rc||0)+1,a.rc>1?e.remove(t):(e.retry(t),e.save())),n.config.compress=!1,null==o||o({code:1,error:r})}))},c=function t(){Cn.runningPromise=Cn.runningPromise.then((function(){var n=e.takeRetried();if(n){e.hasRetried()&&l.setTimeout(t,1e3);var r=o(n.cid,(function(){return n.data}),null);return s(n.id,r,null)}}))};return{export:function(t,n){Cn.runningPromise=Cn.runningPromise.then((function(){return function(t,n){var r=q(),a=k((function(){var n=function(t,e){return{resourceSpans:oe(t,!0)}}(t);return e.save({id:r,cid:An(),data:n,t:Date.now()}),n})),i=o(An(),a,t);return s(r,i,n)}(function(t,e){if(0===t)return e;var n=1e6*t;return e.forEach((function(t){if(106!==t.attributes[Z.EVENT_TYPE]){var e=t;Mn.forEach((function(r){var o=vt(t[r]);o+=n;var a=Math.trunc(o/Qe),i=o%Qe;e[r]=[a,i]}))}})),e}(Cn.timeGap,t),n)})),c()},shutdown:function(){return Cn.runningPromise}}}),zr="__on__",Jr=function(t,e,n,r){e.setAttribute(Z.REQUEST_HEADERS,JSON.stringify(n.header)),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zn,r=Jn(e);Xn(n).forEach((function(e){N(r,e)&&t.setAttribute("http.header.".concat(e.replace(/-/g,"_")),r[e])}))}(e,n.header),t.baseInitConfig.recordRequestBody&&V(n.data)&&e.setAttribute(Z.REQUEST_BODY,JSON.stringify(n.data));var o,a=function(t){var e=$n.exec(t);return e?{protocol:e[1],host:e[2]}:null}(n.url);a&&(e.setAttribute(Z.HTTP_HOST,a.host),e.setAttribute(Z.HTTP_SCHEME,a.protocol.replace(":","")));var s=r.errMsg||"";if(s.includes(":ok")){var c=r;o=c.statusCode,function(t,e,n){var r,o;if(jr(n)){var a=S.timeOrigin,s=i(i(i(i(i(i(i({},Z.PERFORMANCE_KIND,"PerformanceResourceTiming"),Z.PERFORMANCE_INITIATORTYPE,"request"),Z.PERFORMANCE_ENTRYTYPE,"resource"),Z.PERFORMANCE_NAME,e.url),Z.PERFORMANCE_TIMEORIGIN,a),Z.PERFORMANCE_TRANSFERSIZE,n.sendBytesCount),Z.PERFORMANCE_DURATION,n.responseEnd-n.fetchStart);[[Z.PERFORMANCE_CONNECTEND,n.connectEnd],[Z.PERFORMANCE_CONNECTSTART,n.connectStart],[Z.PERFORMANCE_FETCHSTART,n.fetchStart],[Z.PERFORMANCE_REQUESTSTART,n.requestStart],[Z.PERFORMANCE_RESPONSEEND,n.responseEnd],[Z.PERFORMANCE_RESPONSESTART,n.responseStart],[Z.PERFORMANCE_STARTTIME,n.fetchStart],[Z.PERFORMANCE_DOMAINLOOKUPEND,null!=(r=n.domainLookupEnd)?r:n.domainLookUpEnd],[Z.PERFORMANCE_DOMAINLOOKUPSTART,null!=(o=n.domainLookupStart)?o:n.domainLookUpStart]].forEach((function(t){var e=u(t,2),n=e[0],r=e[1];G(r)&&(s[n]=r-a)})),t.setAttributes(s)}}(e,n,c.profile);var f=function(t){var e=Jn(t);return e["x-apm-trace-id"]||e["x-cloudbase-request-id"]}(c.header);f&&(e.spanContext().traceId=f),e.setAttribute(Z.RESPONSE_HEADERS,JSON.stringify(c.header)),t.baseInitConfig.recordRequestBody&&V(c.data)&&e.setAttribute(Z.RESPONSE_BODY,JSON.stringify(c.data)),o>=200&&o<300?e.setStatus({code:Pt.OK}):e.setStatus({code:Pt.ERROR,message:c.errMsg})}else o=r.statusCode,G(o)||(o=/timed?[ _]?out|超时/i.test(s)?499:-1),e.setStatus({code:Pt.ERROR,message:s}),e.setAttributes(i(i({},Z.FE_ERRCODE,r.errno),Z.FE_ERRTYPE,at));e.setAttribute(Z.HTTP_STATUS_CODE,o)},Xr=rn({name:"@rprm/apm:request",version:Q,enable:function(t){t.patch(er,"request",(function(e){return function(n){var r,o=function(t,e){if((null==e?void 0:e.url)&&!t.isUrlIgnored(e.url)){var n=(e.method||"GET").toUpperCase();return t.tracer.startSpan("".concat(n," ").concat(an(e.url)),{kind:bt,startTime:e.__enqueueTime?new Date(e.__enqueueTime):void 0,attributes:i(i(i({},Z.EVENT_TYPE,102),Z.HTTP_METHOD,n),Z.HTTP_URL,e.url)})}}(t,n),a=arguments;if(!o)return e.apply(this,a);var u=Mr(),s=u.pageShowId,c=u.parentPageShowId;n.header||(n.header={}),n.header[J]=An(),n.header["x-biz-id"]=wr(),n.header.parentrpcid=o.spanContext().spanId,n.header["x-apm-page-id"]=s,c&&(n.header["x-apm-parent-page-id"]=c);var f=n.__enqueueTime,p=n.__dequeueTime;(n[zr]||(n[zr]=[])).push((function(t){"enqueue"===t?null==f&&(f=Date.now()):"dequeue"===t&&(p=Date.now())}));var d=n.url;if(d){var E=d.indexOf("?");-1!==E&&(d=d.slice(0,E)),W.emit("request",{url:d,time:null!=f?f:Date.now(),component:null==(r=l.titan.getCurrentComponent())?void 0:r.is})}var m=n.complete;return n.complete=function(e){var r,a;Jr(t,o,n,e),f&&p&&p>f&&o.setAttributes(i(i({},Z.PERFORMANCE_ENQUEUE,f),Z.PERFORMANCE_QUEUEDURATION,p-f));try{return null==m?void 0:m(e)}finally{null==(a=(r=t.options).applyCustomAttributesOnSpan)||a.call(r,o,n,e),o.end()}},e.apply(this,a)}})),W.on("processRequestRateLimit",(function(t){var e=fr();e&&Ar(e,(function(){t.invoke(Dr(e.getPageId()))}))}))}}),$r=k((function(){return er.getAccountInfoSync()})),Zr=!0,to=j((function(t){return{appResume:!1,hidden:!1}}),!0),eo=$("landing",(function(){return{v:!1}})),no=rn({name:"@rprm/apm:lifetime",version:Q,enable:function(t){var e=eo.v?Date.now():Et();eo.v=!0;var n=mt();l.setTimeout((function(){var r,o,a,u=i({},Z.EVENT_TYPE,nt),s=Pt.OK,c=l.titan;if(c.getActualExtConfigSync){var f=$r().miniProgram,p=f.appId,d=f.envVersion,E=null==(r=c.getActualExtConfigSync().form)?void 0:r.appid,m=p===E;u[Z.CUSTOM_KEY_2]=m,u[Z.CUSTOM_KEY_3]=[p,String(E),String(null==(a=null==(o=c.getMockExtConfigSync())?void 0:o.form)?void 0:a.appid)].join("|"),m||"develop"===d||(null!=E?s=Pt.ERROR:t.tracer.startSpan("UnboundApp",{attributes:i({},Z.EVENT_TYPE,nt)}).end())}var v=t.tracer.startSpan("landing",{startTime:new Date(e),attributes:u});v.setStatus({code:s}),v.end(n)}),200),vr("App",(function(e){!function(t,e){["onLaunch","onShow","onHide","onPageNotFound"].forEach((function(n){var r=e[n];e[n]=function(){var e=arguments,o=e[0];"onShow"===n&&(Zr=!0);var a=i(i({},Z.HTTP_METHOD,n),Z.EVENT_TYPE,nt);if(o){try{a[Z.REQUEST_BODY]=JSON.stringify(o)}catch(t){}"onLaunch"!==n&&"onShow"!==n||(a[Z.MP_SCENE]=o.scene,a[Z.FE_ROUTE]=o.path)}var u=t.tracer.startSpan("App.".concat(n),{attributes:a});"onPageNotFound"===n&&u.setStatus({code:Pt.ERROR});try{return null==r?void 0:r.apply(this,e)}finally{u.end()}}}))}(t,e)})),function(t){Tr(hr.reduce((function(e,n){return e[n]=function(){var e=arguments,r=i(i(i(i({},Z.EVENT_TYPE,"onShow"===n?103:nt),Z.REQUEST_BODY,"onLoad"===n?JSON.stringify(e[0]):void 0),Z.FE_ROUTE,this.route),ze,this.getPageId()),o=to(this);"onLoad"===n?(o.appResume=Zr,Zr=!1):"onShow"===n?o.appResume||Zr?(r[Z.HTTP_METHOD]="appShow",r[Z.MP_SCENE]=er.getEnterOptionsSync().scene,o.appResume=!1,Zr=!1,o.hidden=!1):o.hidden?(r[Z.HTTP_METHOD]="back",o.hidden=!1):r[Z.HTTP_METHOD]="navigate":"onHide"===n&&(o.hidden=!0),Ar(this,(function(){var e="Page.".concat(n);W.emit(e),t.tracer.startSpan(e,{attributes:r}).end()}))},e}),{}))}(t)}}),ro=$("eic",(function(){var t,e=[];return{errorInfoCache:e,clear:function n(){l.clearTimeout(t),t=l.setTimeout((function(){var t=Date.now();!function(t,e){for(var n=t.length-1;n>=0;n-=1)e(t[n])&&t.splice(n,1)}(e,(function(e){return t-e.t>5e3})),0!==e.length&&n()}),2e3)}}})),oo=ro.errorInfoCache,ao=ro.clear;l.titan.eventBus.on("titan:callWithContextError",(function(t){var e=l.titan.getCurrentComponent();e&&(oo.push(_({component:e,t:Date.now()},t)),ao(),oo.length>10&&oo.shift())}));var io=function(t){var e=function(t){var e=oo.findIndex((function(e){return null==e.errStr&&(e.errStr=function(t){var e,n=["MiniProgramError"];if(M(t)&&t.message||t instanceof Error)if(n.push(t.message),t.name){var r="".concat(t.name,": ").concat(t.message);(null==(e=t.stack)?void 0:e.includes(r))?n.push(t.stack):n.push(r,t.stack)}else n.push(t.stack);else{if("string"==typeof t)n.push(t);else try{n.push(JSON.stringify(t))}catch(t){n.push("")}n.push(I(t))}return n.join("\n")}(e.error)),t===e.errStr}));if(-1!==e){var n=oo[e];return oo.splice(e,1),n}}(t);e?l.titan.callWithContext(e.metadata,e.moduleInfo,(function(){Wn(t)})):Wn(t)},uo=function(t,e){l.titan.callWithContext?"onError"!==t||"string"!=typeof e?"onUnhandledRejection"===t&&M(e)&&e.promise instanceof l.Promise&&"reason"in e?function(t){var e,n=oo.findIndex((function(e){return e.error===t.reason}));if(-1!==n){var r=oo[n];oo.splice(n,1),e=r}e||(e=l.titan.getContextInfoForPromise(t.promise)),e?l.titan.callWithContext(e.metadata,e.moduleInfo,(function(){Wn(t)})):Wn(t)}(e):Wn(e):io(e):Wn(e)},so=rn({name:"@rprm/apm:error",version:Q,enable:function(){var t=["navigateBack intercepted","request:fail interrupted","setNavigationBarTitle:fail rejected due to no permission currently","request:ok","navigateToMiniProgram:fail cancel","createRequestTaskAsync:fail: jsapi has no permission","ERR_ADDRESS_UNREACHABLE","WebAssembly.instantiate(): Argument 0 must be a buffer source or a WebAssembly.Module object","previewImage:fail can't be invoked in 3000ms until user taps","showToast:fail parameter error: parameter.title should be String",/(?:show|hide)ShareMenu:fail\s+?unimplemented/,/(?:batch)?loadSubpackage: (?:timeout|fail)/i];Qn((function(e){return!t.some((function(t){return"string"==typeof t?e.includes(t):t.test(e)}))})),$("aoe",(function(){var t;["onError","onUnhandledRejection"].forEach((function(t){er[t]?er[t](uo.bind(null,t)):vr("App",(function(e){var n=e[t];e[t]=function(e){return uo(t,e),null==n?void 0:n.apply(this,arguments)}}))})),null==(t=er.onLazyLoadError)||t.call(er,(function(t){Wn(t)}))}))}}),co=function(t,e){t.startSpan("networkType: ".concat(e.networkType),{attributes:i(i({},Z.EVENT_TYPE,nt),Z.REQUEST_BODY,JSON.stringify(e))}).end()},fo=function(t,e,n){er.getNetworkType&&er.getNetworkType({success:function(e){t.startSpan("networkType: ".concat(e.networkType),{startTime:n?new Date(n):void 0,attributes:i(i({},Z.EVENT_TYPE,nt),Z.REQUEST_BODY,JSON.stringify(e))}).end()},fail:function(){e&&t.startSpan("networkType: ".concat(e.networkType),{attributes:i(i({},Z.EVENT_TYPE,nt),Z.REQUEST_BODY,JSON.stringify(e))}).end()}})},lo=rn({name:"@rprm/apm:status",version:Q,enable:function(t){var e,n,r,o=er.getNetworkType;o&&fo(t.tracer),null==(e=er.onNetworkStatusChange)||e.call(er,(function(e){o?fo(t.tracer,e,Date.now()):co(t.tracer,e)})),null==(n=er.onNetworkWeakChange)||n.call(er,(function(e){co(t.tracer,e)})),null==(r=er.onMemoryWarning)||r.call(er,(function(e){t.tracer.startSpan("MemoryWarning",{attributes:i(i({},Z.EVENT_TYPE,nt),Z.REQUEST_BODY,JSON.stringify(e))}).end()}))}}),po={switchTab:1,reLaunch:1,redirectTo:1,navigateTo:1,navigateBack:1,navigateToMiniProgram:1,navigateBackMiniProgram:1,openEmbeddedMiniProgram:1,exitMiniProgram:1,login:1,getUserInfo:1,getUserProfile:1,clearStorage:1,requestPayment:1,requestPluginPayment:1,chooseImage:1,chooseVideo:1,chooseMedia:1,getLocation:1,getFuzzyLocation:1,openLocation:1,choosePoi:1,chooseLocation:1,openEasyHalfScreen:1,downloadFile:2,uploadFile:2},Eo=rn({name:"@rprm/apm:function",version:Q,enable:function(t){Object.keys(po).forEach((function(e){if("function"==typeof er[e]){var n=po[e];t.patch(er,e,!0,(function(r){return function(){var o=arguments,a=o[0],u=t.tracer.startSpan("func ".concat(e),{attributes:i(i({},Z.EVENT_TYPE,101),Z.REQUEST_BODY,JSON.stringify(a||{}))}),s=k((function(t){u.setAttribute(Z.RESPONSE_BODY,JSON.stringify(t)),!t.errMsg||t.errMsg.includes(":ok")?u.setStatus({code:Pt.OK,message:t.errMsg}):(u.setAttributes(i(i({},Z.FE_ERRTYPE,at),Z.FE_ERRCODE,t.errno)),u.setStatus({code:Pt.ERROR,message:t.errMsg})),u.end()}));if(2===n){var c=a.complete;return r()(T(_({},a),{complete:function(t){s(t),null==c||c(t)}}))}return ur(a,new l.Promise((function(t,e){r()(T(_({},a),{success:t,fail:e,complete:s}))})))}}))}}))}}),mo=$("nst",!0,(function(){return{stack:[{time:Date.now(),pageId:void 0}],dirty:!1}})),vo=Symbol("deleted"),ho={},go=function(t,e,n,r){l.clearTimeout(n.timeoutId);var o=e.getPageId();t.tracer.startSpan("firstSetData",{startTime:n.startTime,attributes:i(i(i(i(i(i({},Z.EVENT_TYPE,106),Z.PERFORMANCE_NAME,"firstSetData"),Z.FE_ROUTE,n.route),Z.FE_COMPONENT,e.is),Z.REQUEST_BODY,JSON.stringify(Object.keys(r))),ze,o)}).end(n.endTime),ho[o]=vo},_o={},To=rn({name:"@rprm/apm:performance",version:Q,enable:function(t){!function(t){var e,n=null==(e=er.getPerformance)?void 0:e.call(er);"function"==typeof(null==n?void 0:n.createObserver)&&n.createObserver((function(e){var n=e.getEntries();n.forEach((function(t){"route"!==t.name&&"appLaunch"!==t.name||(mo.stack.push({time:t.startTime,pageId:t.pageId}),mo.dirty=!0)}));var r=t.tracer.startSpan("performance",{attributes:i({},Z.EVENT_TYPE,106)});n.forEach((function(t){var e=i(i(i(i({},Z.EVENT_TYPE,106),Z.PERFORMANCE_CONTENT,JSON.stringify(t)),Z.PERFORMANCE_ENTRYTYPE,t.entryType),Z.PERFORMANCE_NAME,t.name);null!=t.navigationStart&&(e[Z.PERFORMANCE_NAVIGATIONSTART]=t.navigationStart),null!=t.navigationType&&(e[Z.PERFORMANCE_NAVIGATIONTYPE]=t.navigationType);var n=t.duration;if(null==n&&("firstPaint"===t.name||"firstContentfulPaint"===t.name||"largestContentfulPaint"===t.name)){mo.dirty&&(mo.dirty=!1,mo.stack.sort((function(t,e){return t.time-e.time})));var o,a=t.startTime,u=t.pageId;u&&(o=Y(mo.stack,(function(t){return t.pageId===u}))),o||(o=Y(mo.stack,(function(t){return t.time<=a}))),o&&(n=a-o.time)}if(null!=n&&G(n)&&n>=0&&(e[Z.EVENT_DURATION]=1e6*n),t.path&&(e[Z.FE_ROUTE]=t.path),null!=t.pageId){var s=sr(t.pageId),c=Ir(s);c&&(e[Z.FE_PAGE_ID]=c.pageShowId,c.parentPageShowId&&(e[Z.FE_PARENT_PAGE_ID]=c.parentPageShowId));var f=Dr(s);if(f&&(e[We]=f),e[ze]=s,!t.path){var p=l.titan.getPageById(s);p&&(e[Z.FE_ROUTE]=p.route)}}r.addEvent(t.name,e,new Date(t.startTime))})),r.end()})).observe({entryTypes:["render","script","navigation","loadPackage"]})}(t),function(t){xr({after:function(e){if(!ir(e.instance)){var n=e.instance.getPageId(),r=ho[n];r!==vo&&U(r)&&(r.endTime||(r.endTime=mt()),r.report||(r.report=function(){r.route&&r.startTime&&go(t,e.instance,r,e.data)}),r.report())}}}),Tr({onLoad:function(){var e,n=this,r=this.getPageId();ho[r]||(ho[r]={});var o=ho[r];if(U(o)){var a=Kr(r);a&&(o.startTime=mt(a)),o.route=this.route,o.timeoutId=l.setTimeout((function(){o.endTime=mt(),go(t,n,o,{})})),null==(e=o.report)||e.call(o)}},onUnload:function(){var t=this.getPageId(),e=ho[t];U(e)&&l.clearTimeout(e.timeoutId),delete ho[t]}})}(t),function(t){var e=function(e){!e.reported&&e.startTime&&e.readyTime&&e.route&&(l.clearTimeout(e.timeoutId),e.timeoutId=l.setTimeout((function(){if(!e.reported){e.reported=!0;var n=e.requests?Y(e.requests,(function(t){return!!t.setData})):void 0,r=e.readyTime,o={readyTime:r},a=r;n&&n.setData.time>=a&&(a=n.setData.time,o.latestRequest=n),t.tracer.startSpan("interactive",{startTime:e.startTime,attributes:i(i(i(i(i(i({},Z.EVENT_TYPE,106),Z.REQUEST_BODY,JSON.stringify(o)),Z.FE_ROUTE,e.route),Z.FE_PAGE_ID,e.pageShowId),Z.FE_PARENT_PAGE_ID,e.parentPageShowId),ze,e.pageId)}).end(new Date(a))}}),5e3))};Tr({onLoad:function(){var t=this.getPageId(),e=Ir(t);if(e){_o[t]={pageId:t,pageShowId:e.pageShowId,parentPageShowId:e.parentPageShowId};var n=_o[t];if(U(n)){var r=Kr(t);r&&(n.startTime=mt(r)),n.route=this.route}}else console.error("[APM3] 获取当前pageShowId失败，将跳过上报 interactive")},onReady:function(){var t=this.getPageId(),n=_o[t];U(n)&&(n.readyTime=Date.now(),e(n))},onUnload:function(){delete _o[this.getPageId()]}}),xr({before:function(t){var n=t.instance,r=t.data;if(!ir(n)){var o=n.getPageId(),a=_o[o];if(a&&!a.reported&&a.requests){var i=Date.now(),u=n.is,s=Y(a.requests,(function(t){var e=t.component,n=t.completeTime;return i>=n&&u===e}));s&&(s.setData||(s.setData={keys:Object.keys(r),time:i})),e(a)}}}}),t.patch(er,"request",(function(e){return function(n){n||(n={});var r=l.titan.getCurrentComponent();if(!r||ir(r))return e.call(this,n);var o=_o[r.getPageId()],a=Date.now();if(!o||o.reported||o.readyTime&&a-o.readyTime>2e3||t.isUrlIgnored(n.url))return e.call(this,n);var i=n.complete;return n.complete=function(){return(o.requests||(o.requests=[])).push({component:r.is,url:n.url,startTime:a,completeTime:Date.now()}),null==i?void 0:i.apply(this,arguments)},e.call(this,n)}}))}(t)}}),So=$("upsi",!0,(function(){return new Set})),Ro=sn({onStart:function(t){var e=Mr(),n=e.pageShowId,r=e.parentPageShowId;t.setAttribute(Z.FE_PAGE_ID,n),r&&t.setAttribute(Z.FE_PARENT_PAGE_ID,r)},onEnd:function(t){if(1!==t.attributes[Z.EVENT_TYPE]){var e=t.attributes[Z.FE_PAGE_ID];"Page.onShow"===t.name&&(So.has(e)&&console.error("[APM3] pageshowid 重复",e),So.add(e))}}}),Oo="default"===z?"":"[".concat(z,"]"),Ao=function(t,e){var n=t[ze],r=t[Z.FE_ROUTE];if(r&&"string"==typeof r){if(null==n&&e)throw new Error("缺少 REAL_PAGE_ID");if(n){if("string"!=typeof n)throw new Error("REAL_PAGE_ID 类型错误");var o,a=l.titan.getPageById(n);if(a)if(r.startsWith("t/"))o=r,r=a.route;else if(l.titan.isTabBarPage(a)){var i=l.titan.getPageProxy(a);i&&i.route.startsWith("t/")&&(o=i.route)}o&&(r="t|".concat(r),t[Z.MP_TABBAR]=o),t[Z.FE_ROUTE]=r}}},Po=k((function(){var t=l.titan.getTitanConfig(),e=t.platforms,n=t.packages,r=_(_({},e),n),o=Object.keys(r).reduce((function(t,e){return t.push(e,"".concat(e,"_expg"),"".concat(e,"_g")),Object.values(r[e].pages).forEach((function(e){var n=e.indexOf("/",1);-1!==n&&t.push(e.slice(1,n))})),t}),["@titan","thfsc","thfsc@gray","pages","t","custom-tab-bar"]),a=new Set(o);a.delete("cloud-fe-yunsdk-platform");var i=new RegExp("^(?:".concat(Array.from(a).map((function(t){return function(t){return"".concat(t).replace(/([.?*+^$&[\]\\(){}|<>-])/g,"\\$1")}(t)})).join("|"),")\\/")),u=/@cloud-/;return function(t){return u.test(t)||!i.test(t)}})),yo=sn({onStart:function(t){var e,n=l.titan.getCurrentComponent()||Or();if(n){"callOnComponent"in l.titan&&"function"==typeof l.titan.callOnComponent&&l.titan.callOnComponent(n,(function(){e=l.titan.getCurrentModuleInfo()})),t.setAttribute(Z.FE_COMPONENT,n.is),function(t){return Po()(t)}(n.is)&&t.setAttribute(Z.AUTH_ISV_ID,"1");var r=l.titan.getPageById(n.getPageId());r&&t.setAttributes(i(i({},Z.FE_ROUTE,r.route),ze,r.getPageId())),t.setAttribute(Z.CUSTOM_KEY_1,function(t){for(var e,n=[],r=new Set,o=t;or(o)&&!r.has(o)&&(r.add(o),n.push(o.is),o.is!==o.route);)o=null==(e=o.selectOwnerComponent)?void 0:e.call(o);return n.reverse().join(",")}(n))}e||(e=l.titan.getCurrentModuleInfo()),e&&t.setAttribute(Z.CODE_NAMESPACE,e.name)},onEnd:function(t){var e,n=t.attributes,r=t.name,o="performance"!==r&&"requestRateLimit"!==r&&!r.startsWith("App.");if(Ao(t.attributes,o),t.events.forEach((function(t){t.attributes&&Ao(t.attributes,o)})),n[Xe]&&null==n[Z.FE_ROUTE]&&(n[Z.FE_ROUTE]=null==(e=fr())?void 0:e.route),Oo){var a=n[Z.FE_ROUTE];"string"==typeof a&&(n[Z.FE_ROUTE]="".concat(a).concat(Oo))}}}),bo=sn({onStart:function(t){t.setAttribute(We,wr())}}),No="default"!==z?j((function(t,e){(Rn.tracer||bn()).startSpan("attach ".concat(z," ").concat(e||""),{attributes:i(i({},Z.EVENT_TYPE,nt),Z.REQUEST_BODY,JSON.stringify({conversationId:An(),pageId:t,env:z}))}).end()})):function(){},Co=sn({onStart:function(t){No(t.attributes[Z.FE_PAGE_ID],t.attributes[Z.FE_ROUTE])}}),Io=At([Ro,bo,yo,Co]),Mo=function(t){var e,n;["service","token"].forEach((function(e){t[e]||function(t){throw new Error("[RPRM] 初始化APM失败，".concat(t))}("缺少".concat(e,"参数"))}));var o=rr(),a=$r().miniProgram.appId,s=o.system.split(" ",2),c=u(s,2),f=c[0],p=c[1],d=T(_({},t.customResource),(i(i(i(i(i(i(i(i(i(i(e={},tt.AGENT_TYPE,"mp"),tt.AGENT_VERSION,Q),tt.FE_APPID,a),tt.OS_TYPE,f.toLowerCase()),tt.OS_VERSION,p),tt.SYSTEM_BRAND,o.brand),tt.SYSTEM_MODEL,o.model),tt.SYSTEM_VERSION,o.version),tt.MOBILE_BENCHMARK_LEVEL,o.benchmarkLevel),tt.MP_FIRMWARE_VERSION,o.SDKVersion),i(i(e,tt.MP_KIND,nr),Z.MP_IS_FIRSTOPEN,Yr()))),E=null==(n=l.titan.getTitanConfig().external)?void 0:n.version;E&&(d[tt.MP_VERSION]=E),d[tt.FE_FRAMEWORK]="titan";var m=tn.concat(t.errcodes||[]);return Nn(T(_({},t),{onTracerProviderCreated:function(t){er.onAppHide((function(){t.forceFlush().catch(x)}))},onInitConfig:[function(t){var e,n,r,o,a;null==t.compress&&(t.compress="xhs"!==nr&&!cr()),null==t.env&&(t.env=null==(n=null==(e=er.getExtConfigSync())?void 0:e.form)?void 0:n.env),null==t.env&&(t.env=null==(a=null==(o=null==(r=er.getAccountInfoSync)?void 0:r.call(er))?void 0:o.miniProgram)?void 0:a.envVersion)}].concat(r(t.onInitConfig||[])),spanProcessors:[Io],instrumentations:[Xr({applyCustomAttributesOnSpan:function(t,e,n){var r,o;if(null==(r=n.errMsg)?void 0:r.includes(":ok")){var a=null==(o=null==n?void 0:n.data)?void 0:o.errcode;!function(t,e,n){var r=t;n&&(n="".concat(n),e.find((function(t){return n===t}))||0==+n||(Object.assign(r.status,{code:Pt.ERROR,message:void 0}),Object.assign(r.attributes,i(i({},Z.FE_ERRCODE,n),Z.FE_ERRTYPE,"bu-api"))))}(t,m,a)}}}),no(),so(),lo(),Eo(),To()],exporter:Qr,customResource:d}))};exports.BizError=Yn,exports.DEFAULT_ERR_CODES=tn,exports.IgnoredError=on,exports.LogLevel=rt,exports.SemanticAttributes=Z,exports.SemanticResourceAttributes=tt,exports.SpanStatusCode=Pt,exports.createBaseSpanProcessor=sn,exports.getConversationId=An,exports.init=function(t){return{tracer:Mo(t.apm)}},exports.initAPM=Mo,exports.legacyAddCustomEvent=function(t){var e=T(_({},t),{start:t.start||Date.now(),duration:t.duration||0,resource:t.resource||t.name||"".concat(t.method," ").concat(an(t.url)),error:t.error||0}),n=Ln(e,(function(t){t[Z.EVENT_TYPE]=105}),(function(t){var n=t.spanContext();e.trace_id&&(n.traceId=e.trace_id),e.span_id&&(n.spanId=e.span_id)}));return wn(n)},exports.legacyDebug=function t(e,n){var r;if(e&&"object"==s(e)){var o=!!(n=n||{}).addSpan;e.method=e.method||"DEBUG",e.url=e.url||"/",e.tags=e.tags||{},e.data||(e.data={}),"object"!=s(e.data)&&(e.data={msg:e.data});var a=n.traceId||e.trace_id,u=T(_({},function(t,e){if(!U(t)||!Array.isArray(e)||0===e.length)return t;var n=new Set(e),r={};for(var o in t)n.has(o)||(r[o]=t[o]);return r}(e,["name","method","url","data","tags"])),{start:e.start||Date.now(),duration:e.duration||0,resource:e.resource||e.name||"".concat(e.method," ").concat(an(e.url)),error:e.error||0,meta:T(_({},e.meta),{http:T(_({},e.meta&&e.meta.http),{method:e.method,url:e.url,headers:e.tags,body:JSON.stringify(e.data)})})});o&&!n[kn]&&(u.beat={has_span:1});var c=Ln(u,(function(t){t[Z.EVENT_TYPE]=1,o&&n.traceId&&(t[Je]=1,t[$e]=1)}),(function(t){a&&(t.spanContext().traceId=a)}));if(o){if("function"==typeof(null==(r=n[kn])?void 0:r.addSpan))return n[kn];var f,l=c.spanContext().traceId,p=T(_({},wn(c)),{traceId:l,addSpan:function(e){return t(e,f)}});return f=T(_({},n),i(i(i({},kn,p),"addSpan",!0),"traceId",l)),p}return wn(c)}},exports.pushSpanToExportRequest=function(t,e,n,r){r.resourceSpans||(r.resourceSpans=[]);var o=r.resourceSpans.find((function(t){return t.schemaUrl===n.schemaUrl&&t.resource===n.resource}));o||(o=T(_({},n),{scopeSpans:[]}),r.resourceSpans.push(o));var a=o.scopeSpans.find((function(t){return t.scope===e.scope&&t.schemaUrl===e.schemaUrl}));a||(a=T(_({},e),{spans:[]}),o.scopeSpans.push(a)),(a.spans||(a.spans=[])).push(t)},exports.registerErrorFilter=Qn,exports.removeSpanFromExportRequest=function(t,e){var n=!1,r=function(){n=!0};if(t.resourceSpans){for(var o=0;o<t.resourceSpans.length;o+=1){for(var a=t.resourceSpans[o],i=0;i<a.scopeSpans.length;i+=1){var u=a.scopeSpans[i];if(u.spans){for(var s=0;s<u.spans.length;s+=1){if(e(u.spans[s],u,a,t,r)&&(u.spans.splice(s,1),s-=1),n)break}if(0===u.spans.length&&(a.scopeSpans.splice(i,1),i-=1),n)break}}if(0===a.scopeSpans.length&&(t.resourceSpans.splice(o,1),o-=1),n)break}0===t.resourceSpans.length&&(t.resourceSpans=void 0)}},exports.reportBizError=function(t){return qn(t instanceof Yn?t:new Yn(t))},exports.reportCustomError=qn,exports.reportRuntimeError=Wn,exports.setConversationId=function(t){On=t},exports.setUser=dn,exports.updateConfig=function(t){if(!yn)throw new Error("请先执行 init");"function"==typeof t?Object.assign(yn,t(yn)):Object.assign(yn,t),yn.sendToQA&&(yn.url=qe),W.emit("configChange",yn)},global.ec(f);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/miniprogram_npm/@rprm/titan/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/object.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(r){var e={};for(var o in r)void 0!==r[o]&&(e[o]=r[o]);return e},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/object.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/onInitCloudSuccess.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm"),e=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){if(this.privateData.initCloudSuccess)try{t()}catch(t){e.setTimeout((function(){throw t}))}else this.privateData.onInitCloudSuccessCbs=this.privateData.onInitCloudSuccessCbs||[],this.privateData.onInitCloudSuccessCbs.push(t)},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/onInitCloudSuccess.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/pageState.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageState=exports.getCurrentPageState=void 0;var t=require("./utils"),r=exports.getPageState=(0,t.memoize)((function(e){return{showTime:void 0,showCount:0}}),!0);exports.getCurrentPageState=function(){var e=(0,t.getCurrentPage)();return e?r(e):null},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/pageState.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/pageWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=require("../../@babel/runtime/helpers/defineProperty"),r=require("../../@babel/runtime/helpers/typeof"),o=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapPageOptions=exports.setBasePageVars=exports.pubProductIdFromContext=exports.isPageInstance=exports.default=void 0;var a=y(require("./currentRoute")),i=y(require("./genId")),p=y(require("./heatmapWrapper")),s=y(require("./appSessionMonitor")),u=y(require("./recursiveDecodeURIComponent")),c=y(require("./shareTimelineWrapper")),l=require("./titan-adapter/index"),h=require("./setNavigationBarTitleWrapper"),f=require("./utils"),d=y(require("./qs")),g=require("./constants"),_=require("./pageState"),m=y(require("./scrollEnReporter"));function y(e){return e&&e.__esModule?e:{default:e}}var v={menu:0,button:1},w=function(e){return"string"==typeof e.route&&e.route===e.is};exports.isPageInstance=w;var T=function(e,t){if(t){var r=(0,f.getProductId)(t);r&&e.pub({product_id:r},"new")}};exports.pubProductIdFromContext=T;var P=function(e,t,o){var n={},a=o.indexOf("?");if(-1===a)return n;var i=o.slice(a+1);if(!i)return n;var p=Object.keys(e.globalConfig.recShareUrlParams||{});if(0===p.length)return n;var s=d.default.parse(i);return p.forEach((function(o){var a=s[o],i=e.globalConfig.recShareUrlParams[o];if(i&&a){if("object"==r(i)){if("function"==typeof i.processor){var p=i.processor(o,a,t);null!=p&&(a=p)}"string"==typeof i.rename&&(o=i.rename)}n[o]=a}})),n},S=function(e,t){var r;if(e.page_title=t[h.PAGE_TITLE],null==e.page_title)try{e.page_title=(r=t.route,__wxConfig.page["".concat(r,".html")].window.navigationBarTitleText)}catch(r){if(l.isTitanEnv)try{return void(e.page_title=n.titan.getTitanConfig().tabBarPages["/".concat(t.route)].navigationBarTitleText)}catch(e){}e.page_title=""}},b=function(e,r,o,p){p=p||r.options||{};var s=(0,_.getPageState)(r);if(o)s.showCount=0,s.showTime=Date.now();else if(s.showCount=(s.showCount||0)+1,s.showTime=Date.now(),"function"==typeof n.wx.getEnterOptionsSync)try{var c=n.wx.getEnterOptionsSync().scene;null!=c&&e.priv({scene:c})}catch(e){}var h=s.showCount;if(function(e,t,r){(r||(0,_.getPageState)(t).showCount>1)&&e.priv({pageShowId:"".concat(e.cuid).concat((0,i.default)())})}(e,r,o),function(e){if(l.isTitanEnv){var t=n.titan.getCurrentContext();T(e,t)}}(e),a.default.set(r.route),S(e,r),0===h||h>1){var d=[],m="";if(p){for(var y in p)p[y]=(0,u.default)(p[y]),d.push("".concat(y,"=").concat(encodeURIComponent(p[y]))),e.recUrlParam(r.route,y,p[y]);(m=d.join("&"))&&(m="?".concat(m))}e.pageOpts[r.route]=m}delete r.__rprm__isHidden,e.privateData.scrollTop=0;var v=t({pageShow:1,et:"autotrack",en:"pageshow",win_depth_o:e.systemInfo.windowHeight,win_depth:(0,f.localTransformTo750)(e.systemInfo.windowHeight)},g.INTERNAL_TIMESTAMP,Date.now());if(l.isTitanEnv){var w=n.titan.getPageProxy(r);w&&w.route&&w.route.startsWith("t/")&&(v.tabbar=w.route)}null!=r.options.pageid&&(v.pageid=r.options.pageid),0===h?(v.is_newly_open=1,v.page_depth_o=e.systemInfo.windowHeight,v.page_depth=(0,f.localTransformTo750)(e.systemInfo.windowHeight),e.rec(v)):h>1&&function(e,t,r){if(e.globalConfig.recPageShow)try{var o=(0,f.getPageDepth)(r);return o>0?(t.page_depth_o=o,t.page_depth=(0,f.localTransformTo750)(o),e.systemInfo.windowHeight>o&&(t.win_depth_o=o,t.win_depth=(0,f.localTransformTo750)(o))):(t.page_depth_o=e.systemInfo.windowHeight,t.page_depth=(0,f.localTransformTo750)(e.systemInfo.windowHeight)),void e.rec(t)}catch(e){}t.page_depth_o="",t.page_depth="",e.rec(t)}(e,v,r)};exports.setBasePageVars=b;var x=function(e){return e&&"string"==typeof e.route&&(e.route.startsWith("packages/wm-cloud")||e.route.startsWith("pages/wm-cloud"))},E=function(r,o){var a=o.onLoad,i=o.onShow,p=o.onHide,u=o.onUnload,c=o.onPullDownRefresh,h=o.onReachBottom,d=o.onShareAppMessage,m=o.onPageScroll;o.onLoad=function(){return w(this)?(r.privateData.appOnBackground=!1,l.isTitanEnv&&!x(this)||b(r,this,!0,arguments[0]||{}),"function"==typeof a?a.apply(this,arguments):void 0):(a||f.noop).apply(this,arguments)},o.onShow=function(){return w(this)?(r.privateData.appOnBackground=!1,l.isTitanEnv&&!x(this)||b(r,this,!1),"function"==typeof i?i.apply(this,arguments):void 0):(i||f.noop).apply(this,arguments)},o.onHide=function(){if(!w(this))return(p||f.noop).apply(this,arguments);var e;if("function"==typeof p)try{e=p.apply(this,arguments)}catch(t){e=t}if(!this.__rprm__isHidden){var t={et:"autotrack",en:"pagehide",elementid:"pageHide",eventtype:"lifecycle"},o=(0,_.getPageState)(this);o.showTime?(t.pg_duration_time=Date.now()-o.showTime,t.pg_stay_length=t.pg_duration_time):(t.pg_duration_time=0,t.pg_stay_length=0),r.rec(t)}if(this.__rprm__isHidden=!0,r.referrer=r.currentUrl(this.route),e instanceof Error)throw e;return e},o.onUnload=function(){if(!w(this))return(u||f.noop).apply(this,arguments);var e;if("function"==typeof u)try{e=u.apply(this,arguments)}catch(t){e=t}if(!this.__rprm__isHidden){var t={et:"autotrack",en:"pagehide",elementid:"pageHide",eventtype:"lifecycle"},o=(0,_.getPageState)(this);o.showTime?(t.pg_duration_time=Date.now()-o.showTime,t.pg_stay_length=t.pg_duration_time):(t.pg_duration_time=0,t.pg_stay_length=0),r.rec(t)}if(this.__rprm__isHidden=!0,r.referrer=r.currentUrl(this.route),e instanceof Error)throw e;return e},o.onPullDownRefresh=function(){if(!w(this))return(c||f.noop).apply(this,arguments);var e;if("function"==typeof c)try{e=c.apply(this,arguments)}catch(t){e=t}if(r.rec({et:"autotrack",en:"pagedown",elementid:"pageDown",eventtype:"lifecycle"}),e instanceof Error)throw e;return e},o.onReachBottom=function(){if(!w(this))return(h||f.noop).apply(this,arguments);var e;if("function"==typeof h)try{e=h.apply(this,arguments)}catch(t){e=t}if(r.rec({et:"autotrack",en:"pagereachbottom",elementid:"pageReachBottom",eventtype:"lifecycle"}),e instanceof Error)throw e;return e},"function"==typeof d&&(o.onShareAppMessage=function(){var t,o=this;if(!w(this))return d.apply(this,arguments);s.default.preventHide();try{t=d.apply(this,arguments)||{}}catch(n){t=n}var n=arguments[0];if(t.promise)t.promise=t.promise.then((function(t){var a=r.currentUrl(o.route),i=t.path||a;return r.rec(e({et:"autotrack",en:"pageshare",elementid:"pageShare",eventtype:"lifecycle",share_type:v[n.from||"menu"],share_title:t.title||"",share_url:i},P(r,a,i))),t}));else{var a=r.currentUrl(this.route),i=t.path||a;r.rec(e({et:"autotrack",en:"pageshare",elementid:"pageShare",eventtype:"lifecycle",share_type:v[n.from||"menu"],share_title:t.title||"",share_url:i},P(r,a,i)))}if(t instanceof Error)throw t;return t});var y=!1;o.onPageScroll=function(){var e=this,o=arguments[0]||{scrollTop:0},a=o.scrollTop;if(!y){if(!w(this))return(m||f.noop).apply(this,arguments);if(y=!0,r.globalConfig.recPageScroll){var i=(0,f.getPageDepth)(this),p=r.currentUrl(this.route);n.setTimeout((function(){try{var o=r.systemInfo.windowHeight+(a||0);isNaN(o)&&(o=i);var s=i;r.privateData.scrollTop=a,r.privateData.page_depth=i,o>i&&(o=i),r.rec(t(t(t(t(t(t(t(t(t(t({},g.INTERNAL_PAGE_INSTANCE,e),"et","autotrack"),"en","hm_scroll"),"elementid","onPageScroll"),"eventtype","lifecycle"),"win_depth_o",o),"page_depth_o",s),g.INTERNAL_REAL_URL,p),"win_depth",(0,f.localTransformTo750)(o)),"page_depth",(0,f.localTransformTo750)(s))),y=!1}catch(e){n.setTimeout((function(){y=!1}),500)}}),500)}else n.setTimeout((function(){y=!1}),500)}"function"==typeof m&&m.apply(this,arguments)}};exports.wrapPageOptions=E;var I=function(e,t){var o=t.heatmap=e.heatmap.bind(e),a=["data","onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onShareTimeline","onAddToFavorites","onPageScroll","onResize","heatmap","setData","route","update","store","hound_onLoad","hound_onShow","hound_onReady"];for(var i in t)-1===a.indexOf(i)&&(a.push(i),(0,p.default)({opts:t,heatmap:o,funcname:i}));var s=t.onLoad;t.onLoad=function(){var e;if("function"==typeof s&&(e=s.apply(this,arguments)),!this.route)return e;var t=this,i=function(){if("object"==r(t))for(var e in t)-1===a.indexOf(e)&&(a.push(e),(0,p.default)({opts:t,heatmap:o,funcname:e}))};return n.setTimeout(i,200),n.setTimeout(i,400),n.setTimeout(i,800),e}};exports.default=function(e){e.page_title="";var t=n.Page;n.wx.Page=function(){if((0,l.isCoreTitanContext)())return t.apply(this,arguments);arguments[0]=arguments[0]||{},0===arguments.length&&(arguments.length=1),E(e,arguments[0]),(0,c.default)(e,arguments[0]),I(e,arguments[0]),(0,m.default)(arguments[0]),t.apply(this,arguments)}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/pageWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/paymentWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r,o=(r=require("./appSessionMonitor"))&&r.__esModule?r:{default:r},u=t.wx.requestPayment;exports.default=function(e){e.wxFuncs.requestPayment=function(){o.default.preventHide();var e=arguments[0].fail;return arguments[0].fail=function(){if(t.setTimeout(o.default.onShow,500),"function"==typeof e)return e.apply(this,arguments)},u.apply(this,arguments)}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/paymentWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/plugin.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=!1,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/plugin.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/polyfill.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var t=global.bc("platform","rprm");if(String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0===n)return!1;for(var i,o,a=0|e,l=Math.max(a>=0?a:n-Math.abs(a),0);l<n;){if((i=r[l])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;++l}return!1}}),13!==Date.now().toString().length){var e=Math.pow(10,13-(Date.now()>>>0).toString().length),r=Date.now;Date.now=function(){var t=r.apply(this,arguments);return t=t*e>>>0}}global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/polyfill.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/previewWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r,o=(r=require("./appSessionMonitor"))&&r.__esModule?r:{default:r},a=t.wx.previewImage;exports.default=function(e){e.wxFuncs.previewImage=function(){o.default.preventHide();var e=arguments[0].fail;return arguments[0].fail=function(){if(o.default.onShow(),"function"==typeof e)return e.apply(this,arguments)},a.apply(this,arguments)}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/previewWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/priv.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./initAPM");exports.default=function(e){Object.assign(this.pvars,e),(0,t.updateUserInfo)(this)},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/priv.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/promisify.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./utils"),o=/^(?:on|off|create)|Sync$/,a=new Set(["canIUse","base64ToArrayBuffer","arrayBufferToBase64","getRealtimeLogManager","getLogManager","reportPerformance","getUserCryptoManager","nextTick","setWindowSize","downloadFile","uploadFile","request","reportMonitor","reportAnalytics","reportEvent"]),i=new WeakMap;exports.default=function(r,n){if(o.test(r)||a.has(r))return n;if(i.has(n))return i.get(n);function s(){var r,o=Array.prototype.slice.call(arguments);o[0]=null!==(r=o[0])&&void 0!==r?r:{};var a=o[0];if("object"==e(a)&&a){if("function"==typeof a.success||"function"==typeof a.fail||"function"==typeof a.complete)return n.apply(this,o);var i=(0,t.createDeferred)();a.success=i.resolve,a.fail=i.reject;var s=n.apply(this,o);return"object"==e(s)&&s?(s.then=i.promise.then.bind(i.promise),s.catch=i.promise.catch.bind(i.promise),s.finally=i.promise.finally.bind(i.promise),s):i.promise}return n.apply(this,o)}return i.set(n,s),s},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/promisify.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/pub.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./initAPM");exports.default=function(t,a){(t.stattype||t.StatType||t.statType)&&(this.globalConfig.preventStatTypeChange||(this.statType=t.stattype||t.StatType||t.statType),delete t.stattype,delete t.StatType,delete t.statType),"new"===a?Object.assign(this.vars,t):this.vars=t,(0,e.updateUserInfo)(this)},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/pub.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/pubGlobal.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){"new"===t?Object.assign(this.globalVars,e):this.globalVars=e||{},(0,r.updateUserInfo)(this)};var r=require("./initAPM");global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/pubGlobal.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/qs.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default={parse:function(e){if("string"!=typeof e)return{};try{return e.split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])),e}),{})}catch(e){return{}}},stringify:function(e,t){var n=t&&t.keyReplacer||function(e){return e},r=t&&t.valueReplacer||function(e){return e},o="";for(var c in e){void 0!==e[c]&&(o="".concat(o).concat(o?"&":"").concat(encodeURIComponent(n(c)),"=").concat(encodeURIComponent(r(e[c]))))}return o}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/qs.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/reLaunchWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),a=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=a.wx.reLaunch;exports.default=function(e){e.wxFuncs.reLaunch=function(a){return e.privateData.appOnBackground?e.privateData.shouldReLaunch=a:r(a)}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/reLaunchWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/rec.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,a=(t=require("./uuid"))&&t.__esModule?t:{default:t},i=require("./getSystemInfo"),r=require("./utils"),s=require("./constants"),n=require("./pageState"),o=new Set(["applaunch","appshow","pageshow"]),l=new Set(["pv"]),d={valueReplacer:function(e){return void 0===e?"":e}};function p(e,t,a){delete t.stattype,e=e+"&"+this.qs.stringify(t,d),this.dot(e,0,a)}exports.default=function(e){var t,d,u=this;e.et=e.et||"custom";var c=this.statType,h=this.ancAPI,g=this.cuid,_=this.cuid_time,v=this.v,f=(this.debug,this.currentUrl),T=this.pvars,I=this.globalVars,m=this.vars,N=this.land_page,E=this.referrer,A=this.getPageName,y=this.page_title,S=void 0===y?"":y;if(h){var R=e[s.INTERNAL_REAL_URL]||f.apply(this),L=A.call(this,R),b=this.config.form;delete e[s.INTERNAL_REAL_URL];var P=this.globalConfig.preventStatTypeChange?c:e.stattype||e.StatType||c,w="stattype=".concat(P),M=e[s.INTERNAL_TIMESTAMP]||Date.now();e[s.INTERNAL_TIMESTAMP]&&delete e[s.INTERNAL_TIMESTAMP];var q=e[s.INTERNAL_PAGE_INSTANCE]||(0,r.getCurrentPage)();if(delete e[s.INTERNAL_PAGE_INSTANCE],null==e.pg_duration_time){var C=(q?(0,n.getPageState)(q):{}).showTime||Date.now();e.pg_duration_time=Date.now()-C}delete(e=Object.assign({pagename:L},(0,i.getSystemInfoForBI)(this),b,T,(0,r.omit)(I,["bosId","parentVid"]),{bos_id:null!==(t=I.bosId)&&void 0!==t?t:"",parent_vid:null!==(d=I.parentVid)&&void 0!==d?d:""},m,e,{page_title:S,timestamp:M,url:R,cuid:g,v:v,scene:T.scene||-1,cuid_time:_,udid:(0,a.default)(),referrer:E||""})).StatType,delete e.stattype,N&&"pv"===e.elementid?(e.land_page=1,this.land_page=0):delete e.land_page;var x={};for(var D in e)x[D.toLowerCase()]=e[D];x.stattype=P,this.callInterceptor("syncRec",[x,q],{ignoreError:!0,forceSync:!0}),o.has(x.en)?p.call(this,w,x,!0):this.callInterceptor("rec",[x,q],{ignoreError:!0,timeout:5e3,hiddenTimeout:2e3}).then((function(){p.call(u,w,x,l.has(x.en))}))}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/rec.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/recUrlParam.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/defineProperty"),r=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("./titan-adapter/index"),o=require("./titan-adapter/makeProxy");exports.default=function(t,a,l){var n=this.globalConfig.receiveUrlOpts[a];if(n){if("string"==typeof n&&(n={mode:n},this.globalConfig.receiveUrlOpts[a]=n),"object"==r(n)){if(Array.isArray(n.urls)&&!n.urls.includes(t))return;if("trim"===n.mode?l=l.trim():"trimStart"===n.mode?l=l.trimStart():"trimEnd"===n.mode?l=l.trimEnd():"noSpace"===n.mode&&(l=l.replace(/\s|\r|\n/g,"")),n.keyPrefix&&(a=n.keyPrefix+a),n.valuePrefix&&(l=n.valuePrefix+l),"function"==typeof n.processor)try{if(null==(l=n.processor(a,l,t)))return}catch(e){return}}if(i.isTitanEnv){var s=this[o.SELF_KEY].globalConfig.receiveUrlOpts;if(s&&s[a])return void this.pubGlobal(e({},a,l),"new")}this.pub(e({},a,l),"new")}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/recUrlParam.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/recursiveDecodeURIComponent.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function e(t,r){try{var o=decodeURIComponent(t);return o===t||/(?:^|&)([^&]+)=([^&]+)(?=&|$)/g.test(o)?t||o:e(o,t)}catch(e){return r||t}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/recursiveDecodeURIComponent.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/requestMetaCarrier.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/classCallCheck"),t=require("../../@babel/runtime/helpers/createClass"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u,a=(u=require("./genId"))&&u.__esModule?u:{default:u},n="__requestMetaCarrier__",i="__noRequestMetaCarrier__";exports.default=new(function(){function r(){e(this,r),this._startTimes=Object.create(null),this._retryCounts=Object.create(null)}return t(r,[{key:"_check",value:function(e){return e&&!e[i]}},{key:"_getTag",value:function(e){return e[n]||(e[n]="rmc".concat((0,a.default)())),e[n]}},{key:"_getValue",value:function(e,t,r){if(this._check(t)){var u=this._getTag(t),a=e[u]||r;return delete e[u],a}return r}},{key:"markNoCarrier",value:function(e){e&&(e[i]=!0)}},{key:"updateStartTime",value:function(e){if(!this._check(e))return Date.now();var t=this._getTag(e);return this._startTimes[t]=Date.now()}},{key:"getStartTime",value:function(e,t){return this._getValue(this._startTimes,e,t)}},{key:"increaseRetryCount",value:function(e){if(!this._check(e))return 0;var t=this._getTag(e);return this._retryCounts[t]=(this._retryCounts[t]||0)+1}},{key:"getRetryCount",value:function(e){return this._getValue(this._retryCounts,e,0)}}]),r}()),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/requestMetaCarrier.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/requestWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r,u=(r=require("./buildRequestFn"))&&r.__esModule?r:{default:r},o=t.wx.request.bind(t.wx),s=10;try{s=__wxConfig.wxAppInfo.maxRequestConcurrent}catch(e){}exports.default=function(e){var t=(0,u.default)(e,{requestFn:o,maxRequestConcurrent:s}),r=t.request,a=t.removeRequestCache;e.request=r,e.removeRequestCache=a},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/requestWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/robotIdetifier.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){var e=!1;try{var r=__wxConfig,i=r.envVersion,t=r.isTestTicket,l=r.ticket,a=r.baseUrl,o=void 0===a?"":a,s=r.model,c=void 0===s?"":s;(t||l||o.includes("crawler")||"trial"===i&&c.includes("iPhone XS MAX China-exclusive"))&&(e=!0)}catch(i){}return e},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/robotIdetifier.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/robotTerminator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=(e=require("./robotIdetifier"))&&e.__esModule?e:{default:e};exports.default=function(o){try{var e=__wxConfig,r=e.platform,d=e.model,l=void 0===d?"":d;((0,t.default)()||"devtools"===r&&"iPhone 5"===l)&&(o.ancAPI="",o.isRobot=!0,o.cuid.includes("robot")||(o.cuid="robot-".concat(o.cuid)))}catch(o){}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/robotTerminator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/scrollEnReporter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/defineProperty"),r=require("../../@babel/runtime/helpers/objectSpread2"),t=global.bc("platform","rprm"),l=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("./constants"),o=require("./utils"),a=new WeakMap,n=new WeakMap;function s(t){var s,c,u=null==t||null===(s=t.target)||void 0===s||null===(c=s.dataset)||void 0===c?void 0:c.rprmScrollEn;if(u){var p=a.get(this);if(!p){if(!(p=(0,o.getCurrentPage)())||p.getPageId()!==this.getPageId())return;a.set(this,p)}var d=l.wx.rprm.currentUrl(p.route),f=t.detail,v=n.get(this);l.clearTimeout(v),v=l.setTimeout((function(){l.wx.rprm.rec(r(r({},u),{},e(e(e(e(e(e(e(e({},i.INTERNAL_PAGE_INSTANCE,p),i.INTERNAL_REAL_URL,d),"et","autotrack"),"en",u.en||"scroll_dialog"),"elementid",u.elementid||"onDialogScroll"),"scrollview_w",f.scrollWidth),"scrollview_h",f.scrollHeight),"dialog_depth_o",f.scrollTop+f.scrollHeight)))}),100),n.set(this,v)}}exports.default=function(e){var r=function(){var r=e[t];"function"==typeof r&&(e[t]=Object.defineProperty((function(){var e=arguments[0];if(e&&"scroll"===e.type)try{s.apply(this,arguments)}catch(e){}return r.apply(this,arguments)}),"name",{value:t,configurable:!0}))};for(var t in e)r();e.__rprm_onscroll=s},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/scrollEnReporter.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/session.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),a=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c={cacheMap:new Map,get:function(e){var t=c.cacheMap.has(e),r=t?c.cacheMap.get(e):a.wx.getStorageSync(e);return!t&&r&&c.cacheMap.set(e,r),r||null},set:function(e,t){c.cacheMap.delete(e),a.wx.setStorageSync(e,t)},clear:function(e){c.cacheMap.delete(e),a.wx.removeStorageSync(e)},clearCache:function(){this.cacheMap.clear()}};exports.default=c,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/session.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/sessionWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,a=require("./constants"),o=(n=require("./tokenStore"))&&n.__esModule?n:{default:n},s=r.wx,c=s.getStorageSync,u=s.getStorage,i=s.setStorageSync,S=s.setStorage;exports.default=function(t){var r=function(r,n){try{if(r===a.WX_SESSION_WXAPP_SESSION&&"object"==e(n)&&n){var s=n.openid,c=n.appid,u=n.pid,i=n.wid,S=n.token,p=n.unionid;o.default.set(S);var g={};s&&(g.openid=s),p&&(g.unionid=p),c&&(g.appid=c),i&&(g.wid=i),u&&(g.pid=u),t.priv(g)}}catch(e){}};t.wxFuncs.getStorageSync&&(c=t.wxFuncs.getStorageSync),t.wxFuncs.getStorageSync=function(){var e=c.apply(this,arguments);return r(arguments[0],e),e},t.wxFuncs.getStorage&&(u=t.wxFuncs.getStorage),t.wxFuncs.getStorage=function(){if(arguments[0])try{var e=arguments[0],t=e.key,n=e.success;t===a.WX_SESSION_WXAPP_SESSION&&(arguments[0].success=function(){var e=arguments[0];if(e.errMsg&&-1!==e.errMsg.indexOf("ok")&&r(t,e.data),"function"==typeof n)return n.apply(this,arguments)})}catch(e){}return u.apply(this,arguments)},t.wxFuncs.setStorageSync&&(i=t.wxFuncs.setStorageSync),t.wxFuncs.setStorageSync=function(){return r(arguments[0],arguments[1]),i.apply(this,arguments)},t.wxFuncs.setStorage&&(S=t.wxFuncs.setStorage),t.wxFuncs.setStorage=function(){if(arguments[0]){var e=arguments[0],t=e.key,n=e.data;r(t,n)}return S.apply(this,arguments)}},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/sessionWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/setNavigationBarTitleWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.PAGE_TITLE=void 0;var r=require("./utils"),a=t.wx.setNavigationBarTitle,i=exports.PAGE_TITLE="__rprm_page_title__";exports.default=function(e){e.wxFuncs.setNavigationBarTitle=function(){var t=arguments[0].title;e.page_title=t;var l=(0,r.getCurrentPage)();return l&&(l[i]=t),a.apply(this,arguments)}},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/setNavigationBarTitleWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/shareTimelineWrapper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm"),o=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,i,n){if(i&&1154===t.privateData.onLauchScene){var l=i.disableTimelineTap;if("boolean"!=typeof l&&(l=t.globalConfig.disableTimelineTap),l){var p=n?i.methods:i;if(p){var c=function(){var t=p[s];if(!a.pageProps[s]&&"function"==typeof t){var i=t;p[s]=function(){var t=arguments[0];if(!t||"object"!=e(t)||!r[t.type])return i.apply(this,arguments);o.wx.showToast({title:"请前往小程序使用完整服务",icon:"none"})}}};for(var s in p)c()}}}};var a=require("./wxInbuiltProps"),r={touchstart:1,touchmove:1,touchcancel:1,touchend:1,tap:1,longpress:1,longtap:1};global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/shareTimelineWrapper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/sharedObject.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.defineSharedProps=exports.defineSharedProp=void 0;var t="rprm_shared",a=require("./titan-adapter/index").isTitanEnv?r.titan.acquireSharedObject(t):r.global[t]||(r.global[t]={});function n(e,r){var t=a[e];return void 0===t&&(t=r(),a[e]=t),t}var o=function(e,r,t,o){var i="".concat(r,"_").concat(t);Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return n(i,o)},set:function(e){a[i]=e}})};exports.defineSharedProp=o,exports.defineSharedProps=function(e,r,t){for(var a in t)o(e,r,a,t[a])},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/sharedObject.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/startTime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;try{"number"==typeof __WAServiceStartTime__&&(e=__WAServiceStartTime__)}catch(e){}e||(e=Date.now()),exports.default=e,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/startTime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/subMes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=require("../../@babel/runtime/helpers/objectSpread2"),r=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=u(require("./getSession")),i=u(require("./InternalError")),a=require("./titan-adapter/index");function u(e){return e&&e.__esModule?e:{default:e}}var o,c=n.wx,p=c.requestSubscribeMessage,f=c.getAccountInfoSync;exports.default="function"==typeof p?function(r){var u=this;if(!Array.isArray(r))return console.error("[RPRM]subMes入参类型必须为Array");r.length>3&&(r=r.slice(0,3));var c=this;return new n.Promise((function(e){return p({tmplIds:r,complete:e})})).then((function(e){var p=r.filter((function(t){return"accept"===e[t]}));return a.isTitanEnv||n.setTimeout((function(e){return s.default.call(c).then((function(t){if(p[0]){var r,n,s=e.systemName,a=e.bizType,u=e.config;if(!s)throw new i.default("[RPRM]未定义systemName无法启动subMes");if(!a)throw new i.default("[RPRM]未定义bizType无法启动subMes");if(!o)try{o=u.api.host}catch(e){throw new i.default("[RPRM]无法获取extJSON内的host无法启动subMes")}var c=t.openid,l=t.appid,d=t.pid,b=t.token;if(!l)try{l=__wxConfig.accountInfo.appId}catch(e){try{l=f().miniProgram.appId}catch(e){}}return n=l,r=c,e.request({url:"".concat(o,"/api3/message/liteapp/subscribe"),method:"POST",header:{"X-WX-Token":b},data:{templateIds:p,appId:n,openId:r,pid:d,systemName:s,bizType:a,subType:0}})}}))}),0,u),t(t({},e),{},{success:!!p[0]})})).catch((function(t){return t&&"object"==e(t)||(t={}),t.success=!1,t}))}:function(){return n.Promise.resolve({success:!1})},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/subMes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan-adapter/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm"),e=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTitanEnv=exports.isCoreTitanContext=void 0;var r=exports.isTitanEnv=void 0!==e.titan;exports.isCoreTitanContext=function(){if(!r)return!1;var t=e.titan.getCurrentModuleInfo();return!t||"titan"===t.moduleType},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan-adapter/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan-adapter/makeProxy.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm"),n=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SELF_KEY=void 0;var r=require("../utils"),o=require("./index"),i=function(e){return e},a=exports.SELF_KEY="__self__";if(o.isTitanEnv){var u=new Set(["wxFuncs"]),c=[void 0,"0","1041"],s={globalConfig:{init:function(e){return Object.create(e.globalConfig)}},vars:{init:function(e){return Object.create(e.vars)}},pagenameProcessor:{init:function(e){return e.pagenameProcessor}},pagenameRegex:{init:function(e){return e.pagenameRegex}},pagenames:{init:function(e){return Object.create(e.pagenames)}},whitelist:{init:function(e){return(e.whitelist||[]).slice(0)}},errcodes:{init:function(e){return(e.errcodes||[]).slice(0).concat(c)},onUpdate:function(e){return c.concat(e)}}},f=new WeakMap,l=new Map,g=function(e){var t=f.get(e);return t||(t=new Proxy({},{get:function(t,n){return e[n]},set:function(e,t,n){return console.warn("该属性为只读",t,n),!1}}),f.set(e,t)),t},p={};i=function(t){return new Proxy({},{get:function(o,i){if(i===a)return t;var c=t[i];if((n.titan.getCurrentModuleInfo()||p)===n.titan.getModuleInfo())return c;if(u.has(i))return"object"==e(c)&&c?g(c):c;var f,v=n.titan.getCurrentGroupInfo();return v&&(f=l.get(v)),f||(f={},v&&l.set(v,f)),(0,r.hasOwn)(f,i)?f[i]:((0,r.hasOwn)(s,i)&&(c=s[i].init(t),f[i]=c),c)},set:function(e,o,i){var c;if(o===a)return!1;if(n.titan.getCurrentModuleInfo()===n.titan.getModuleInfo()||(0,r.hasOwn)(t,o)&&!(0,r.hasOwn)(s,o))return t[o]=i,!0;if(u.has(o))return console.error("不允许修改只读属性","rprm.".concat(o," = "),i),!1;var f=n.titan.getCurrentGroupInfo();if(!f)return console.error("获取当前模块失败，设置属性失败","rprm.".concat(o," = "),i),!1;var g=l.get(f);g||(g={},l.set(f,g));var p=null===(c=s[o])||void 0===c?void 0:c.onUpdate;return g[o]=p?p(i):i,!0}})}}var v=i;exports.default=v,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan-adapter/makeProxy.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan-adapter/proxyStatType.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var o=e[r.SELF_KEY]||e,a=new WeakMap,u=o.statType;Object.defineProperty(o,"statType",{configurable:!0,enumerable:!0,get:function(){var e;if(t.titan.getCurrentModuleInfo()===t.titan.getModuleInfo())return u;var r=t.titan.getCurrentGroupInfo()||n;return null!==(e=a.get(r))&&void 0!==e?e:u},set:function(e){if(t.titan.getCurrentModuleInfo()===t.titan.getModuleInfo())return u=e,!0;var r=t.titan.getCurrentGroupInfo();return r?a.set(r,e):console.warn("更新 statType 失败，未获取到当前模块信息"),!0}})};var r=require("./makeProxy"),n={};global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan-adapter/proxyStatType.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","rprm",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js"),a=require("./pageWrapper"),t=r.titan.definePageInjection("page",(function(){return{onLoad:function(){(0,a.setBasePageVars)(r.wx.rprm,this,!0,arguments[0]||{})},onShow:function(){(0,a.setBasePageVars)(r.wx.rprm,this,!1)}}}));r.titan.setPageInjections([t],!0,Number.MIN_SAFE_INTEGER),global.ec(e),global.beginDefineBootstrap=!1,global.emr("rprm"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/tokenStore.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createClass"),t=require("../../@babel/runtime/helpers/classCallCheck"),r=global.bc("platform","rprm"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=require("./constants"),i=require("./titan-adapter/index"),o=require("./utils"),a=n.wx.getStorageSync;exports.default=new(function(){return e((function e(){var r=this;t(this,e),this.store=new Map,this.set=function(e){return!!e&&r.store.set("token",e)},this.get=function(e){var t;return i.isTitanEnv?(t=(0,o.getTokenFromHeader)(e))||(a(s.WX_SESSION_WXAPP_SESSION)||{}).token||"":((t=r.store.get("token"))||(t=(a(s.WX_SESSION_WXAPP_SESSION)||{}).token,r.set(t)),t||"")},this.clear=function(){return r.store.delete("token")}}))}()),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/tokenStore.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/updateConfig.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(r){if(r&&"object"==e(r))for(var t in r)Reflect.has(r,t)&&(1===o[t]?this.globalConfig[t]=r[t]:2===o[t]&&(this.globalConfig[t]=(0,a.default)(this.globalConfig[t]||{},r[t]||{})))};var t,a=(t=require("./mergeConfig"))&&t.__esModule?t:{default:t},o={enableHttp2:1,disableTimelineTap:1,receiveUrlOpts:2,forceCallContainer:1,userInfoStorageDays:1,userInfoPromptText:1,actionsAddWithoutClickId:1,actionsAddWithMKTApi:1,recShareUrlParams:2,recPageScroll:1,newHm:1,recPageShow:1,biPostponedSend:1,disableHmView:1,preventStatTypeChange:1};global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/updateConfig.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.callWxCallback=function(e,t,r){r?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)},exports.createDeferred=exports.checkResponse=void 0,exports.deepAssign=function e(){try{for(var t=arguments,r={},n=0;n<t.length;){for(var o in t[n])if(t[n].hasOwnProperty(o)){var a=t[n][o];f(a)&&f(r[o])?r[o]=e(r[o],a):r[o]=a}n++}return r}catch(e){}},exports.findContextByPagePath=void 0,exports.flattenObject=function t(r,n,o){null==n&&(n=".");var a={};if(r)for(var i=0,c=Object.keys(r);i<c.length;i++){var u=c[i],s=r[u],f=o?o+n+u:u;s&&"object"==e(s)?Object.assign(a,t(s,n,f)):a[f]=s}return a},exports.getProductId=exports.getPageDepth=exports.getMainHostInfo=exports.getCurrentPage=void 0,exports.getStringSize=function(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);t+=o<=127?1:o<=2047?2:o<=65535?3:4}return t},exports.getTokenFromHeader=void 0,exports.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},exports.isObject=f,exports.localTransformTo750=void 0,exports.memoize=function(e,t,r){var n="function"==typeof t?t:function(){return arguments[0]};function o(){var t=arguments,r=n.apply(this,t),a=o.cache;if(a.has(r))return a.get(r);var i=e.apply(this,t);return a.set(r,i),i}return(0,c.defineLazyProp)(o,"cache",(function(){return"boolean"==typeof t&&t||r?new WeakMap:new Map})),o.resolver=n,o.raw=e,o},exports.noop=void 0,exports.normalizeHeaders=function(e){if(e){var t=function(t){var r=e[t];"set-cookie"!==t?"string"!=typeof r&&(null!=(r=s(r))?e[t]=r:delete e[t]):(Array.isArray(r)||(r=[r]),r.forEach((function(r,n){null!=(r=s(r))&&(e["".concat(t,".").concat(n)]=r)})),delete e[t])};for(var r in e)t(r)}return e},exports.omit=void 0,exports.retry=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=0;return function a(){var i=o;o=0;var c=this,s=arguments;return e.apply(this,s).catch((function(e){return i<t?u(n).then((function(){return o=i+1,a.apply(c,s)})):r.Promise.reject(e)}))}},exports.safeGet=void 0,exports.sharedFn=function(e){var t=null;return function(){return t||(t=e.apply(this,arguments).then((function(e){return t=null,e}),(function(e){return t=null,r.Promise.reject(e)}))),t}},exports.sleep=u,exports.transformTo750=p,exports.tryToString=void 0;var n,o=require("./titan-adapter/index"),a=require("./constants"),i=(n=require("./lazySystemInfo"))&&n.__esModule?n:{default:n},c=require("./lazy");function u(e){return new r.Promise((function(t){r.setTimeout(t,e)}))}exports.checkResponse=function(t,r){var n=t&&t.statusCode>=200&&t.statusCode<300;return n&&r&&(n=t.header&&"object"==e(t.header)&&-1!==Object.keys(t.header).findIndex((function(e){return"x-rprm-v"===e.toLowerCase()}))),n},exports.safeGet=function(e,t){try{return e()}catch(e){}return t};var s=function(e,t){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(r){try{return e.toString()}catch(r){try{return"".concat(e)}catch(e){return null!=t?t:""}}}};function f(t){return"object"==e(t)&&null!==t}function p(e,t){var r=0;return"number"==typeof(t-0)&&"number"==typeof(e-0)&&(r=t/e*750),Math.ceil(r)}exports.tryToString=s,exports.getMainHostInfo=function(e){try{var t=e.api,r=e.service;return{mainHost:t["host-".concat(r)],mainPrefix:t["prefix-".concat(r)]}}catch(e){return{}}},exports.createDeferred=function(e){var t={};return t.promise=new r.Promise((function(e,r){t.resolve=e,t.reject=r})),e&&t.promise.catch((function(){})),t},exports.omit=function(t,r){if("object"!=e(t)||!t||!Array.isArray(r)||0===r.length)return t;var n=new Set(r),o={};return Object.keys(t).forEach((function(e){n.has(e)||(o[e]=t[e])})),o},exports.noop=function(){},exports.getPageDepth=function(e){if(void 0!==r.titan&&"MP-XHS"===r.titan.getTitanConfig().miniProgramType)return 0;try{var t=e.selectComponent("#rprm:wrap");if(t)return t.componentSize.height}catch(e){}return 0},exports.localTransformTo750=function(e){return p(i.default.value.windowWidth,e)},exports.getProductId=function(e){return e&&(e.product_id||e.prodId||e.pro_id||e.prod_id)},exports.findContextByPagePath=function(e){if(!o.isTitanEnv)return null;("pages/landing/index"===e||/^t\//.test(e))&&(e=void 0);var t,n=r.titan.getTitanConfig();e||(e=n.defaultEntryPath),(t=/(?:platform|package):\/\/.*/.test(e))||"/"===e[0]||(e="/".concat(e));var a=e.indexOf("?");-1!==a&&(e=e.slice(0,a));var i=null;return["platforms","packages"].forEach((function(r){for(var o in n[r]){var a=!1,c="".concat(r,"://").concat(o,"/"),u=n[r][o];if(u.pages)for(var s in u.pages)if(t){if(e===c+s){i=u.context,a=!0;break}}else if(e===u.pages[s]){i=u.context,a=!0;break}if(a)break}})),i},exports.getTokenFromHeader=function(e){return e&&(e[a.WX_HEADER_TOKEN]||e["x-wx-token"]||e["X-wx-token"])},exports.getCurrentPage=function(){var e=r.getCurrentPages();return e[e.length-1]},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/uuid.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;for(var o=[],t=0;t<256;++t)o[t]=(t+256).toString(16).substr(1);exports.default=function(){for(var r=[],t=0;t<16;++t)r[t]=Math.floor(256*Math.random());var e=0;return[o[r[++e]],o[r[++e]],o[r[++e]],o[r[++e]],"-",o[r[++e]],o[r[++e]],"-",o[r[++e]],o[r[++e]],"-",o[r[++e]],o[r[++e]],"-",o[r[++e]],o[r[++e]],o[r[++e]],o[r[++e]],o[r[++e]],o[r[++e]]].join("")},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/uuid.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/version.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default="mp-1483",global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/version.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wrap/ComponentSizeObserver.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm"),e=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i="__rprm.componentSize__",n="__rprm.listeners__";exports.default=e.Behavior({lifetimes:{created:function(){this.componentSize={width:0,height:0}},attached:function(){this.updateComponentSize(),this.startSizeListening()},detached:function(){this.stopSizeListening()}},pageLifetimes:{show:function(){this.startSizeListening()},hide:function(){this.stopSizeListening()}},methods:{startSizeListening:function(){this.stopSizeListening(),this.loopSizeListening()},stopSizeListening:function(){e.clearTimeout(this[i])},loopSizeListening:function(){var t=this;this[i]=e.setTimeout((function(){t.loopSizeListening(),t.updateComponentSize()}),1e3)},onComponentSizeChanged:function(t){(this[n]||(this[n]=[])).push(t)},updateComponentSize:function(){var t=this;this.createSelectorQuery().select(".rprm-wrap-view").boundingClientRect().exec((function(e){var i;if(e[0]){var o={width:Math.ceil(e[0].width),height:Math.ceil(e[0].height)};t.componentSize=o,null===(i=t[n])||void 0===i||i.forEach((function(t){t(o)}))}}))}}}),global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wrap/ComponentSizeObserver.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wrap/heatmap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","rprm"),a=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h,s=(h=require("../compareVersion"))&&h.__esModule?h:{default:h},e=require("./utils");function i(t,h){h||(h={}),this.canvas=t,this.width=t.width,this.height=t.height,(0,s.default)(a.wx.rprm.sdk,"2.16.1")>=0?this.alphaCanvas=a.wx.createOffscreenCanvas({type:"2d",width:this.width,height:this.height,compInst:h.compInst}):this.alphaCanvas=this.canvas,this.radius=h.radius||20,this.threshold=h.threshold||0,this.scalar={x:1,y:1}}i.prototype.scale=function(t,a){return void 0===a&&(a=t),this.scalar.x=t,this.scalar.y=a,this.canvas.width=this.width*t,this.canvas.height=this.height*a,this.canvas.getContext("2d").scale(t,a),this},i.prototype.addPoint=function(t,a){var h=this.radius,s=this.alphaCanvas,e=s.width,i=s.height,r=t-h,d=a-h,o=2*h;if(r<=-o||d<=-o||r>e||d>i)return this;var l=this.alphaCanvas.getContext("2d"),n=l.createRadialGradient(t,a,0,t,a,h);return n.addColorStop(0,"rgba(255,50,0,0.8)"),n.addColorStop(.7,"rgba(95,102,250,0.6)"),n.addColorStop(1,"rgba(71,246,120,0)"),l.fillStyle=n,l.fillRect(r,d,o,o),this},i.prototype.draw=function(){for(var t=this.canvas.width,a=this.canvas.height,h=this.alphaCanvas.getContext("2d"),s=h.getImageData(0,0,this.width,this.height),i=h.createImageData(t,a),r=0;r<a;r++)for(var d=Math.floor(r/this.scalar.y),o=0;o<t;o++){var l=Math.floor(o/this.scalar.x),n=4*(d*this.width+l),c=4*(r*t+o),p=s.data[n+3];if(p>this.threshold){var v=270*(1-p/255),u=(0,e.hsl2rgb)(v,100,50);i.data[c]=u[0],i.data[c+1]=u[1],i.data[c+2]=u[2],i.data[c+3]=.8*p}else i.data[c]=0,i.data[c+1]=0,i.data[c+2]=0,i.data[c+3]=0}var g=this.canvas.getContext("2d");return g.clearRect(0,0,t,a),g.putImageData(i,0,0),this},i.prototype.reset=function(){return this.alphaCanvas.getContext("2d").clearRect(0,0,this.alphaCanvas.width,this.alphaCanvas.height),this},exports.default=i,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wrap/heatmap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wrap/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.hsl2rgb=function(){var r,e,t,o=arguments,l=o[0]/360,a=o[1]/100,s=o[2]/100;if(0===a)return[t=255*s,t,t];for(var u=2*s-(r=s<.5?s*(1+a):s+a-s*a),b=[0,0,0],c=0;c<3;c++)(e=l+1/3*-(c-1))<0&&e++,e>1&&e--,t=6*e<1?u+6*(r-u)*e:2*e<1?r:3*e<2?u+(r-u)*(2/3-e)*6:u,b[c]=255*t;return b},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wrap/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wxInbuiltProps.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.pageProps=void 0,exports.pageProps={data:1,onLoad:1,onShow:1,onReady:1,onHide:1,onUnload:1,onPullDownRefresh:1,onReachBottom:1,onShareAppMessage:1,onShareTimeline:1,onAddToFavorites:1,onPageScroll:1,onResize:1,onTabItemTap:1},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wxInbuiltProps.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wxLogger.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,o,t=global.bc("platform","rprm"),l=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=(null===(e=(o=l.wx).getRealtimeLogManager)||void 0===e?void 0:e.call(o))||{info:function(){}};exports.default=r,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wxLogger.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/wxRequestHeadersMerger.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/slicedToArray"),r=global.bc("platform","rprm");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,t=(o=require("./isObject"))&&o.__esModule?o:{default:o};exports.default=function(r,o,a,i){var c=r.getExtConfigSync();if((0,t.default)(c.form)){var d=c.form.wxTemplateId;d&&(o["weimob-templateid"]=d)}if((0,t.default)(c.weimobCloud)){var u=c.weimobCloud;o["cloud-pid"]=a,u.isTest&&(o["cloud-dev-pid"]=a),u.projectName&&(o["cloud-project-name"]=u.projectName)}(0,t.default)(c.headers)&&Object.assign(o,c.headers),i&&c.cloud&&(0,t.default)(c.cloud.headers)&&Object.assign(o,c.cloud.headers);var l,n=function(r){for(var o in r)if("cookie"===o.toLowerCase()){if("Cookie"!==o){var t=r[o];delete r[o],r.Cookie=t}return(r.Cookie||"").split(";").reduce((function(r,o){var t=o.split("="),a=e(t,2),i=a[0],c=a[1];return r[i.trim()]=c,r}),{})}return{}}(o);n.rprm_cuid=r.cuid,o.Cookie=(l=n,Object.keys(l).reduce((function(e,r,o){return"".concat(e).concat(0!==o?"; ":"").concat(r,"=").concat(l[r])}),""))},global.ec(r);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/wxRequestHeadersMerger.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("rprm/RAW/zj.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","rprm"),r=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./getSession")),o=s(require("./object")),i=s(require("./InternalError"));function s(e){return e&&e.__esModule?e:{default:e}}var a=[{pv:1,tap:2,buy:3,fav:4,cart:5},{pv:1,tap:2,buy:3,cart:4}],n=0;function d(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.pid,d=void 0===s?this.vars.pid:s,c=o.uid,u=void 0===c?this.vars.openid:c,p=o.groupId,v=void 0===p?0:p,m=o.shopId,l=void 0===m?0:m,f=o.uidType,y=void 0===f?2:f,I=o.sceneId,w=void 0===I?this.zvars.sceneId:I,x=o.sceneName,z=void 0===x?this.zvars.sceneName:x,P=o.actionType,R=void 0===P?0:P,h=o.itemIds,g=void 0===h?this.zvars.itemIds:h,j=o.extend,T=o.source,N=void 0===T?"tx":T,b=Date.now(),S=r.wx.rprm.zvars.type;if("string"==typeof R){if(void 0===a[S][R])return r.Promise.reject(new i.default('[RPRM]actionType "'.concat(R,'" 不存在')));R=a[S][R]}return"number"!=typeof R?r.Promise.reject(new i.default("[RPRM]actionType必须为整数或字符串，可用actionType：".concat(JSON.stringify(Object.keys(a[S]))))):(g=Array.isArray(g)?g:[g])[0]?(0,t.default)().then((function(t){if(d=d||t.pid,u=u||t.openid,!d||!u)return r.Promise.reject(new i.default("[RPRM]当前用户WX_SESSION_WXAPP_SESSION内信息缺乏PID或OpenID"));var o,s=t.token;try{o=e.config.api.host}catch(e){return r.Promise.reject(new i.default("[RPRM]无法获取extJSON内的host"))}var a=e.pvars.appShow,c=function(e){return++n,"".concat(e,"-").concat(n)}(a),p=[{pid:d,uid:u,uidType:y,sceneId:w,sceneName:z,actionType:R,extend:j,itemIds:g,traceId:a,spanId:c,groupId:v,shopId:l},{actionTime:b,actionType:R,dataType:2,extend:j,itemId:g[0],sceneId:w,sceneName:z,source:N,traceId:a,spanId:c,pid:d,uid:u,uidType:y}][S];return e.zvars.GeoRequest&&(0===S&&(p.GeoRequest=e.zvars.GeoRequest),1===S&&(p.geo=e.zvars.GeoRequest)),function(e){var t=e.url,o=e.token,i=e.data;return new r.Promise((function(e,s){r.wx.rprm.request({url:t,method:"POST",header:{"X-WX-Token":o},data:i,success:e,fail:s})}))}({url:["".concat(o,"/api3/tencentcloud/core/service/zj/reportUserAction"),"".concat(o,"/api3/tencentcloud/core/service/zj/dmReportUserAction")][S],token:s,data:p})})):r.Promise.reject(new i.default("[RPRM]itemIds为空"))}d.config=function(e){var t=e.type,o=e.sceneId,i=e.sceneName,s=e.itemIds,a=void 0===s?[]:s,n=e.overwrite,d=void 0!==n&&n;return"zj"===t?r.wx.rprm.zvars.type=0:"tir"===t&&(r.wx.rprm.zvars.type=1),a=Array.isArray(a)?a:[a],!0===d?(r.wx.rprm.zvars.sceneName=i||"",r.wx.rprm.zvars.sceneId=o||0,r.wx.rprm.zvars.itemIds=a,r.Promise.resolve(r.wx.rprm.zvars)):(r.wx.rprm.zvars.sceneName=i||r.wx.rprm.zvars.sceneName,r.wx.rprm.zvars.sceneId=o||r.wx.rprm.zvars.sceneId,r.wx.rprm.zvars.itemIds=a.concat(r.wx.rprm.zvars.itemIds),r.Promise.resolve(r.wx.rprm.zvars))},d.setGeo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.latitude,s=e.longitude,a=e.country,n=e.city;return"number"!=typeof t?r.Promise.reject(new i.default("[RPRM]latitude不是数字")):"number"!=typeof s?r.Promise.reject(new i.default("[RPRM]longitude不是数字")):r.Promise.resolve(r.wx.rprm.zvars.GeoRequest=(0,o.default)({latitude:t,longitude:s,country:a,city:n}))},exports.default=d,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'rprm/RAW/zj.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-boot.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./rprm/RAW/index"),global.titan.stamp("rprm 加载成功"),require("./cms_sdk/RAW/index"),global.titan.stamp("cms_sdk 加载成功"),require("./titan-media/RAW/index"),global.titan.stamp("titan-media 加载成功"),require("./titian-mp/RAW/index"),global.titan.stamp("titian-mp 加载成功"),require("./cms/RAW/index"),global.titan.stamp("cms 加载成功"),require("./ec/RAW/index"),global.titan.stamp("ec 加载成功"),require("./hudong/RAW/index"),global.titan.stamp("hudong 加载成功"),require("./cloud-fe-yunsdk-platform/RAW/index"),global.titan.stamp("cloud-fe-yunsdk-platform 加载成功");
},{isPage:false,isComponent:false,currentFile:'titan-boot.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-libs.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";
},{isPage:false,isComponent:false,currentFile:'titan-libs.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=global.bc("platform","titan-media");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SLICE_UPLOAD_SIZE=exports.PRE_UPLOAD_TUPLE=exports.MAX_FILE_SIZE=exports.LEGACY_UPLOAD_URL=exports.IMAGE_SIZE_MAP=exports.HEADER_TOKEN=exports.HEADER_BYPASS=exports.DEFAULT_DOMAIN_REGEX=exports.CONFIRM_UPLOAD_TUPLE=void 0,exports.PRE_UPLOAD_TUPLE=["https://api",".weimobwmc.com","/media/fileupload/preUpload"],exports.CONFIRM_UPLOAD_TUPLE=["https://api",".weimobwmc.com","/media/fileupload/<FILE-TYPE>/confirmUpload"],exports.IMAGE_SIZE_MAP={lg:"750",md:"380",sm:"260",xs:"200",xxs:"45"},exports.DEFAULT_DOMAIN_REGEX=[/weimobwmc.com/,/myqcloud.com/],exports.LEGACY_UPLOAD_URL="https://api.weimobwmc.com/media/upload",exports.MAX_FILE_SIZE=20971520,exports.SLICE_UPLOAD_SIZE=1048576,exports.HEADER_BYPASS="x-mapitoken-bypass",exports.HEADER_TOKEN="x-wx-token",global.ec(o);
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=require("../../@babel/runtime/helpers/objectSpread2"),r=require("../../@babel/runtime/helpers/slicedToArray"),n=require("../../@babel/runtime/helpers/regeneratorRuntime"),a=require("../../@babel/runtime/helpers/toConsumableArray"),o=require("../../@babel/runtime/helpers/classCallCheck"),i=require("../../@babel/runtime/helpers/createClass");require("./titan.bootstrap.js");var s=global.bc("platform","titan-media"),c=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.TitanMedia=void 0;var u,l=require("../../@titan/env.js"),p=require("./config"),f=(u=require("./request"))&&u.__esModule?u:{default:u},d=require("./utils");exports.TitanMedia=function(){function s(){var e,t,r,i,u,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=f.accessKey,h=f.legacyAccessKey,m=f.autoUpload,v=void 0===m||m,g=f.formData,y=void 0===g?{}:g,x=f.header,b=void 0===x?{}:x,P=f.domainRegex,U=void 0===P?[]:P,F=f.preUploadUrl,w=f.confirmUploadUrl,k=f.env,S=f.qs,E=f.SHA1,A=f.HmacSHA1,T=f.token;o(this,s);var I=this,_=void 0!==c.wx&&c.wx.rprm||{};if(S||(S=_.qs),!S)throw new Error("请提供 qs 参数");if(E||(E=_.SHA1),A||(A=_.HmacSHA1),!A)throw new Error("请提供 HmacSHA1 参数");this.config={accessKey:d,legacyAccessKey:h,autoUpload:v,formData:y,header:b,domainRegex:a(p.DEFAULT_DOMAIN_REGEX),qs:S,SHA1:E,HmacSHA1:A,token:T};var D=c.wx.getExtConfigSync();this.config.env=k||(null!=D&&null!==(e=D.form)&&void 0!==e&&e.env?D.form.env:"dev"),this.config.preUploadUrl="string"==typeof F?F:null!=D&&null!==(t=D.api)&&void 0!==t&&t.host&&null!=D&&null!==(r=D.api)&&void 0!==r&&r.prefix?"".concat(D.api.host).concat(D.api.prefix).concat(p.PRE_UPLOAD_TUPLE[2]):"".concat(p.PRE_UPLOAD_TUPLE[0],"-").concat(this.config.env).concat(p.PRE_UPLOAD_TUPLE[1]).concat(p.PRE_UPLOAD_TUPLE[2]).replace("-production",""),this.config.confirmUploadUrl="string"==typeof w?w:null!=D&&null!==(i=D.api)&&void 0!==i&&i.host&&null!=D&&null!==(u=D.api)&&void 0!==u&&u.prefix?"".concat(D.api.host).concat(D.api.prefix).concat(p.CONFIRM_UPLOAD_TUPLE[2]):"".concat(p.CONFIRM_UPLOAD_TUPLE[0],"-").concat(this.config.env).concat(p.CONFIRM_UPLOAD_TUPLE[1]).concat(p.CONFIRM_UPLOAD_TUPLE[2]).replace("-production",""),Array.isArray(U)&&(this.config.domainRegex=[].concat(a(this.config.domainRegex),a(U.filter((function(e){return e instanceof RegExp})))));var C=this.uploadFile;this.uploadFile=function(){var e=(0,l.babel_coroutine)(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.call(I,t);case 3:r=e.sent,e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(0),"retry"===e.t0){e.next=10;break}throw e.t0;case 10:return t.useNewUploadHost=!0,e.next=13,C.call(I,t);case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}return i(s,[{key:"picFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.src,r=e.size,n=e.quality,a=e.interlace,o=void 0===a||a,i=e.domainRegex;return(0,d.picFilter)({src:t,size:r,quality:n,interlace:o,domainRegex:Array.isArray(i)?i:this.config.domainRegex})}},{key:"uploadFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this;return(0,l.babel_coroutine)(n().mark((function o(){var i,s,u,l,h,m,v,g,y,x,b,P,U,F,w,k,S,E,A,T,I,_,D,C,K,H,L,M,q,O,R,N,j,z,B,W,X,V,G,Y,Z,J,Q,$,ee,te,re,ne,ae,oe,ie,se,ce,ue,le,pe,fe;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=e.success,u=e.fail,l=e.complete,(s||u||l)&&console.warn("@titan/media uploadFile 不支持success、fail、complete函数"),"function"==typeof c.wx.getFileInfo&&"function"==typeof c.wx.getFileSystemManager){n.next=4;break}return n.abrupt("return",a.legacyUploadFile("不支持文件 API",e));case 4:return h=e.filePath,n.prev=5,n.next=8,(0,d.promisifyWxApi)(c.wx.getFileInfo,{filePath:h});case 8:if(x=n.sent,m=x.digest,v=x.size,m&&v){n.next=13;break}return n.abrupt("return",a.legacyUploadFile("不能获取文件完整信息",e));case 13:return y=c.wx.getFileSystemManager(),144,n.next=17,(0,d.readFileAsync)(y,h,0,72,"hex").then((function(e){var t=e.data;return"string"==typeof t?144===(t=t.replace(/^length=\d+,bytes=0x/,"")).length?t:t.length<144?t.padEnd(144,"0"):t.slice(0,144):c.Promise.reject(new Error("读取文件内容格式错误, 文件: ".concat(h)))}));case 17:g=n.sent,n.next=23;break;case 20:return n.prev=20,n.t0=n.catch(5),n.abrupt("return",a.legacyUploadFile("调用文件 API 失败",e,n.t0));case 23:return b=e.fileType,P=e.accessKey,U=void 0===P?a.config.accessKey:P,F=e.preUploadUrl,w=void 0===F?a.config.preUploadUrl:F,k=e.confirmUploadUrl,S=void 0===k?a.config.confirmUploadUrl:k,E=e.header,A=void 0===E?a.config.header:E,T=e.formData,I=void 0===T?a.config.formData:T,_=e.token,D=void 0===_?a.config.token:_,C=e.onProgressUpdate,K=(0,d.getContentType)(b,h),"video"!==b&&"image"!==b&&"audio"!==b||(H=b.toUpperCase()),L=(0,d.once)("function"==typeof D?D:"string"==typeof D?function(){return D}:!0===D?function(){try{var e,t,r;return null!==(e=null===(t=c.wx.getStorageSync("WOS_WXAPP_SESSION"))||void 0===t?void 0:t.token)&&void 0!==e?e:null===(r=c.wx.getStorageSync("WX_SESSION_WXAPP_SESSION"))||void 0===r?void 0:r.token}catch(e){return}}:function(){}),n.next=28,a.processRequestParams("preUpload",{contentType:K,fileCode:g,fileMd5:m,fileSize:v,srcFileName:(0,d.normalizeFilePath)(h),accessKey:U,requireType:H},t({},A),U,I,L);case 28:return M=n.sent,q=r(M,2),O=q[0],R=q[1],n.next=34,f.default.Post(w,O,{header:R});case 34:if(N=n.sent,j=N.code,z=N.msg,B=N.serverTime,!j){n.next=40;break}throw new Error(z);case 40:if(W=N.data||{},X=W.fileInfo,!(V=(X||{}).url)){n.next=44;break}return"function"==typeof C&&C({total:v,sent:v,progress:100}),n.abrupt("return",e.withFileInfo?{url:V,fileInfo:X||{}}:V);case 44:if(G=v>=p.MAX_FILE_SIZE,Y=W.cosTempInfo||{},Z=Y.bucket,J=Y.region,Q=Y.secretId,$=Y.secretKey,ee=Y.sessionToken,te=W.preProcessInfo||{},re=te.mediaType,ne=te.mediaTypeId,ae=te.saveKey,oe=t(t({},e),{},{host:(0,d.getCosHost)(J,e.useNewUploadHost),bucket:Z,saveKey:ae,filePath:h,sessionToken:ee,secretId:Q,secretKey:$,fileSize:v,fs:y,contentType:K,serverTime:B}),n.prev=46,!G){n.next=53;break}return n.next=50,a.sliceUploadFile(oe);case 50:n.t1=n.sent,n.next=56;break;case 53:return n.next=55,a.simpleUploadFile(oe);case 55:n.t1=n.sent;case 56:n.t1,n.next=64;break;case 59:if(n.prev=59,n.t2=n.catch(46),!e.useNewUploadHost){n.next=63;break}throw n.t2;case 63:throw"retry";case 64:if(ie=null,"image"!==b){n.next=74;break}return n.prev=66,n.next=69,(0,d.promisifyWxApi)(c.wx.getImageInfo,{src:h});case 69:ie=n.sent,n.next=74;break;case 72:n.prev=72,n.t3=n.catch(66);case 74:return n.next=76,a.processRequestParams("confirmUpload",t({contentType:K,fileCode:g,fileMd5:m,fileSize:v,srcFileName:(0,d.normalizeFilePath)(h),accessKey:U,preProcessInfo:{mediaType:re,mediaTypeId:ne,saveKey:ae},requireType:H},ie?{imgHeight:ie.height,imgWidth:ie.width}:null),t({},A),U,I,L);case 76:return se=n.sent,ce=r(se,2),ue=ce[0],le=ce[1],n.next=82,f.default.Post((0,d.replaceConfirmUrl)(S,b),ue,{header:le});case 82:return pe=n.sent,(fe=null==pe||null===(i=pe.data)||void 0===i?void 0:i.url)||(0,d.throwError)(null==pe?void 0:pe.msg),n.abrupt("return",e.withFileInfo?{url:fe,fileInfo:(null==pe?void 0:pe.data)||{}}:fe);case 86:case"end":return n.stop()}}),o,null,[[5,20],[46,59],[66,72]])})))()}},{key:"legacyUploadFile",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=this;return(0,l.babel_coroutine)(n().mark((function s(){var u,l,f,h,m,v,g,y,x,b,P,U,F,w,k,S;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e&&(u=["@titan/media ".concat(e,"，退回至旧版接口")],o&&u.push(o),console.warn.apply(console,u)),l=a.accessKey,f=void 0===l?i.config.accessKey:l,h=a.legacyAccessKey,m=void 0===h?i.config.legacyAccessKey:h,v=a.header,g=void 0===v?i.config.header:v,y=a.formData,x=void 0===y?i.config.formData:y,b=a.filePath,P=a.onProgressUpdate,U=c.wx.getExtConfigSync()||{},n.next=14,i.processRequestParams("legacyUpload",{},t({},g),null!=m?m:f,x,(function(){}));case 14:return F=n.sent,w=r(F,2),k=w[0],S=w[1],n.abrupt("return",new c.Promise((function(t,r){var n,i,s,u={name:Math.ceil(1e5*Math.random())+"",url:"".concat(p.LEGACY_UPLOAD_URL,"?accountType=9&fromType=1&uid=").concat((null===(n=U.form)||void 0===n||null===(i=n.basicInfo)||void 0===i?void 0:i.bosId)||(null===(s=U.form)||void 0===s?void 0:s.pid)||""),header:S,filePath:b,formData:k,reason:"".concat(e).concat(null!=o?"(".concat((0,d.tryToString)(o),")"):""),success:function(e){if("200"===String(e.statusCode))try{var n=JSON.parse(e.data).data,o=n.url;if("string"==typeof o)return void(a.withFileInfo?t({url:o,fileInfo:n}):t(o))}catch(e){}r({errMsg:"上传失败",data:e})},fail:r},l=c.wx.uploadFile(u);"function"==typeof P&&l.onProgressUpdate((function(e){var t=e.totalBytesSent,r=e.totalBytesExpectedToSend,n=e.progress;P({total:r,sent:t,progress:n})}))})));case 19:case"end":return n.stop()}}),s)})))()}},{key:"chooseFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.autoUpload,a=void 0===r?this.config.autoUpload:r,o=t.header,i=void 0===o?this.config.header:o,s=t.formData,u=void 0===s?this.config.formData:s,p=t.preUploadUrl,f=void 0===p?this.config.preUploadUrl:p,h=t.confirmUploadUrl,m=void 0===h?this.config.confirmUploadUrl:h,v=t.token,g=void 0===v?this.config.token:v,y=t.accessKey,x=t.onChoose,b=t.onUpload,P=t.getFilePaths,U=t.onProgressUpdate,F=t.success,w=t.fail,k=t.complete;(F||w||k)&&console.warn("@titan/media chooseFile 不支持success、fail、complete函数");var S=function(t){"object"==e(t)&&t||c.setTimeout((function(){throw new Error("@titan/media 适配器返回结果类型必须是 Promise<object>")}))},E=function(e){var t=[],r=[];return e.forEach((function(e){var n=e.url,a=e.fileInfo;t.push(n),r.push(a)})),{permFilePaths:t,permFileInfos:r}},A=x();return a?A.then((function(e){S(e);var t=(0,d.createDeferred)(),r=(0,d.createDeferred)();return b(e,{accessKey:y,preUploadUrl:f,confirmUploadUrl:m,header:i,formData:u,token:g,onProgressUpdate:U,withFileInfo:!0}).then((function(e){var n=E(e),a=n.permFilePaths,o=n.permFileInfos;t.resolve(a),r.resolve(o)})).catch((function(e){t.reject(e),r.reject(e)})),e.permFilePaths=t.promise,e.permFileInfos=r.promise,e})):A.then((function(e){S(e);var t=P(e),r={permFilePaths:t,permFileInfos:t.map((function(){return{}}))};return["permFilePaths","permFileInfos"].forEach((function(t){Object.defineProperty(e,t,{get:function(){return r["".concat(t,"_resolved")]||console.warn("@titan/media autoUpload 设置为false时需要调用res.upload()获取res.".concat(t)),r[t]},set:function(e){r[t]=e,r["".concat(t,"_resolved")]=!0}})})),e.upload=(0,l.babel_coroutine)(n().mark((function t(){var r,a,o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,{accessKey:y,preUploadUrl:f,confirmUploadUrl:m,header:i,formData:u,token:g,onProgressUpdate:U,withFileInfo:!0});case 2:return r=t.sent,a=E(r),o=a.permFilePaths,s=a.permFileInfos,e.permFilePaths=o,e.permFileInfos=s,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)}))),e}))}},{key:"uploadImage",value:function(e){var r=this;return(0,l.babel_coroutine)(n().mark((function a(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.uploadFile(t(t({},e),{},{fileType:"image"})));case 1:case"end":return n.stop()}}),a)})))()}},{key:"uploadVideo",value:function(e){var r=this;return(0,l.babel_coroutine)(n().mark((function a(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.uploadFile(t(t({},e),{},{fileType:"video"})));case 1:case"end":return n.stop()}}),a)})))()}},{key:"uploadAudio",value:function(e){var r=this;return(0,l.babel_coroutine)(n().mark((function a(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.uploadFile(t(t({},e),{},{fileType:"audio"})));case 1:case"end":return n.stop()}}),a)})))()}},{key:"chooseImage",value:function(){var e,r=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.chooseFile(t(t({},a),{},{getFilePaths:function(e){return e.tempFilePaths},onChoose:(e=(0,l.babel_coroutine)(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.promisifyWxApi)(c.wx.chooseImage,(0,d.pick)(a,["count","sizeType","sourceType"]));case 2:if((t=e.sent).tempFilePaths&&t.tempFilePaths.length){e.next=5;break}throw new Error("选择的图片未能保存到临时文件中");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),onUpload:function(e,n){return c.Promise.all(e.tempFilePaths.map((function(e){return r.uploadImage(t(t({},n),{},{filePath:e}))})))}}))}},{key:"chooseVideo",value:function(){var r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this;return this.chooseFile(t(t({},o),{},{getFilePaths:function(e){return[e.tempFilePath]},onChoose:(a=(0,l.babel_coroutine)(n().mark((function r(){var a,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.promisifyWxApi)(c.wx.chooseVideo,{sourceType:o.sourceType,maxDuration:o.maxDuration,camera:o.camera,compressed:"boolean"==typeof o.compressed&&o.compressed});case 2:if(a=r.sent,"object"!=e(o.compressed)||!o.compressed){r.next=8;break}return r.next=6,(0,d.promisifyWxApi)(c.wx.compressVideo,t({src:a.tempFilePath},o.compressed));case 6:i=r.sent,a.tempFilePath=i.tempFilePath;case 8:return r.abrupt("return",a);case 9:case"end":return r.stop()}}),r)}))),function(){return a.apply(this,arguments)}),onUpload:(r=(0,l.babel_coroutine)(n().mark((function e(r,a){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.uploadVideo(t({filePath:r.tempFilePath},a));case 2:return o=e.sent,e.abrupt("return",[o]);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}))}},{key:"sliceUploadFile",value:function(e){var r=e.host,a=e.bucket,o=e.secretId,i=e.secretKey,s=e.sessionToken,u=e.saveKey,f=e.fileSize,h=e.fs,m=e.filePath,v=e.contentType,g=e.onProgressUpdate,y=e.serverTime,x=this;return(0,l.babel_coroutine)(n().mark((function e(){var b,P,U,F,w,k,S,E,A,T,I,_,D,C,K,H,L,M,q,O,R,N;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b="".concat(a,".").concat(r),P=x.config.qs,U=function(){var e=(0,l.babel_coroutine)(n().mark((function e(r){var a,u,l,p,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.pathname,u=r.method,l=r.params,p=r.data,f=r.header,e.next=7,(0,d.getAuth)({SecretId:o,SecretKey:i,Pathname:a,method:u,params:l,headers:f,SHA1:x.config.SHA1,HmacSHA1:x.config.HmacSHA1,serverTime:y});case 7:return h=e.sent,e.abrupt("return",new c.Promise((function(e,r){c.wx.request({method:u.toUpperCase(),url:"https://".concat(b).concat(a,"?").concat(P.stringify(l)),header:t({authorization:h,"x-cos-security-token":s},f),data:p,complete:function(t){if(/ok/.test(null==t?void 0:t.errMsg))e(t);else{var n="@titan/media 上传失败 ".concat("string"==typeof t.data?t.data.match(/<Message>((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)<\/Message>/)[1]:"未知问题");r(new Error(n))}}})})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,U({method:"GET",pathname:"",params:{uploads:"",prefix:u}});case 3:return e.next=5,U({method:"POST",pathname:"/".concat(u),params:{uploads:""},header:{"Content-Type":v}});case 5:if(F=e.sent,w=(0,d.getXmlProps)(F.data,["Message","UploadId"]),k=w.UploadId,S=w.Message,k){e.next=11;break}return e.abrupt("return",(0,d.throwError)(S));case 11:"function"!=typeof g&&(g=function(){}),E=1,A=0,T=[],I=0;case 15:return _=!1,D=p.SLICE_UPLOAD_SIZE,I+D>f&&(_=!0,D=f-I),e.next=19,(0,d.readFileAsync)(h,m,I,D,void 0);case 19:return C=e.sent,K=C.data,e.next=23,U({method:"PUT",pathname:"/".concat(u),params:{partNumber:"".concat(E),uploadId:k},data:K,header:{"content-type":"application/octet-stream"}});case 23:if(H=e.sent,(L=H.header)&&L.ETag?T.push(L.ETag):(0,d.throwError)(),g({total:f,sent:A+=D,progress:Math.round(A/f*100)}),E+=1,!_){e.next=31;break}return e.abrupt("break",34);case 31:I+=p.SLICE_UPLOAD_SIZE,e.next=15;break;case 34:return e.next=36,U({method:"POST",pathname:"/".concat(u),params:{uploadId:k},data:'\n<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<CompleteMultipartUpload>'.concat(T.map((function(e,t){return"\n  <Part>\n    <PartNumber>".concat(t+1,"</PartNumber>\n    <ETag>").concat(e,"</ETag>\n  </Part>")})).join(""),"\n</CompleteMultipartUpload>"),header:{"content-type":"application/xml"}});case 36:if(M=e.sent,q=M.data,O=(0,d.getXmlProps)(q,["Location","Message"]),R=O.Location,N=O.Message,!R){e.next=43;break}return e.abrupt("return",R);case 43:(0,d.throwError)(N);case 44:case"end":return e.stop()}}),e)})))()}},{key:"simpleUploadFile",value:function(e){var t=e.host,r=e.bucket,a=e.sessionToken,o=e.saveKey,i=e.filePath,s=e.timeout,u=e.secretId,p=e.secretKey,f=e.onProgressUpdate,h=e.serverTime,m=this;return(0,l.babel_coroutine)(n().mark((function e(){var l,v,g,y,x,b;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getAuth)({SecretId:u,SecretKey:p,Pathname:"/".concat(r,"/"),method:"post",params:{},SHA1:m.config.SHA1,HmacSHA1:m.config.HmacSHA1,serverTime:h});case 2:return l=e.sent,e.next=5,new c.Promise((function(e,n){var u=c.wx.uploadFile({url:"https://".concat(t,"/").concat(r,"/"),name:"file",header:{authorization:l,"x-cos-security-token":a},filePath:i,formData:{key:o,success_action_status:200,Signature:l,"x-cos-security-token":a,"Content-Type":""},timeout:s,success:e,fail:n});"function"==typeof f&&u.onProgressUpdate((function(e){var t=e.totalBytesSent,r=e.totalBytesExpectedToSend,n=e.progress;f({total:r,sent:t,progress:n})}))}));case 5:return v=e.sent,g=v.header,y=(void 0===g?{}:g).Location,x=v.statusCode,b=v.data,x>=400&&(0,d.throwError)((0,d.getXmlProps)(b,["Message"]).Message),e.abrupt("return",y);case 13:case"end":return e.stop()}}),e)})))()}},{key:"processRequestParams",value:function(e,t,r,a,o,i){return(0,l.babel_coroutine)(n().mark((function s(){var c,u,l,f,d,h,m,v;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("accessKey"in r&&(delete r.accessKey,console.error("请勿在 header 中默认设置 accessKey，应通过 accessKey 单独设置")),null!=a&&(r.accessKey=String(a)),"function"!=typeof o){n.next=8;break}return n.next=5,o(e,t,r);case 5:n.t0=n.sent,n.next=9;break;case 8:n.t0=o;case 9:for(h in(c=n.t0)&&Object.assign(t,c),r)(m=h.toLowerCase())===p.HEADER_BYPASS?(u=h,f=r[h]):m===p.HEADER_TOKEN&&(l=h,d=r[h]);if("true"===String(f)||d){n.next=19;break}return n.next=15,i();case 15:v=n.sent,u&&delete r[u],l&&delete r[l],null!=v?r[p.HEADER_TOKEN]=String(v):r[p.HEADER_BYPASS]="true";case 19:return n.abrupt("return",[t,r]);case 20:case"end":return n.stop()}}),s)})))()}}]),s}(),global.ec(s);
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/request.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/regeneratorRuntime"),r=global.bc("platform","titan-media"),t=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=require("../../@titan/env.js"),n=require("./utils"),s={Post:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=u.header;return(0,a.babel_coroutine)(e().mark((function a(){var u,o,c,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new t.Promise((function(e,a){t.wx.request({method:"POST",url:r,data:s,header:i,dataType:"json",enableHttp2:!0,enableQuic:!0,success:e,fail:a})}));case 2:u=e.sent,o=u.data,c=u.header;try{l=new Date(c.Date||c.date).getTime()}catch(e){}if((Number.isNaN(l)||null==l)&&(l=Date.now()),0===o.code){e.next=9;break}throw new Error(o.message||o.errmsg||o.msg||o.errMsg||(0,n.tryToString)(o));case 9:try{o&&(o.serverTime=l)}catch(e){}return e.abrupt("return",o);case 11:case"end":return e.stop()}}),a)})))()}};exports.default=s,global.ec(r);
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/request.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","titan-media",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var a=global.bc("platform","titan-media");global.ec(a),global.beginDefineBootstrap=!1,global.emr("titan-media"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titan-media/RAW/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),r=require("../../@babel/runtime/helpers/regeneratorRuntime"),t=require("../../@babel/runtime/helpers/objectSpread2");require("../../@babel/runtime/helpers/Arrayincludes");var n=require("../../@babel/runtime/helpers/toConsumableArray"),o=global.bc("platform","titan-media"),i=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.buf2hex=function(e,r){if("string"==typeof e){for(var t="",o=0,i=Math.min(e.length,r);o<i;o+=1)t+=e.charCodeAt(o).toString(16).padStart(2,"0");return t}var a=n(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("");return a.length>2*r?a.slice(0,2*r):a},exports.getAuth=exports.createDeferred=void 0,exports.getContentType=function(e,r){return"image"===e?"image/*":"video"===e?"video/*":"audio"===e?"audio/*":"application/octet-stream"},exports.getCosHost=function(e,r){return"cos.".concat(e,r?".tencentcos.cn":".myqcloud.com")},exports.getSha1=s,exports.getXmlProps=function(e,r){var t={};return"string"==typeof e&&null!=r&&r.length?(r.forEach((function(r){var n,o=new RegExp("<".concat(r,">(.*?)</").concat(r,">"));t[r]=null===(n=e.match(o))||void 0===n?void 0:n[1]})),t):t},exports.normalizeFilePath=function(e){return e?e.startsWith("http")?e.replace(/https?:\//,""):e:"/unknown_path"},exports.once=function(e){var r,t=!1;return function(){if(t)return r;t=!0;try{r=e.apply(this,arguments)}finally{e=null}return r}},exports.picFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.src,t=e.size,n=e.quality,o=e.interlace,i=void 0===o||o,a=e.domainRegex,u=void 0===a?[]:a;if(/\?/.test(r))return r;var s=u.filter((function(e){return e instanceof RegExp}));return s.some((function(e){return e.test(r)}))?[r,"?imageView2/2/w/",("string"==typeof t?c.IMAGE_SIZE_MAP[t]:t)||1e3,"/q/",n||100,"/interlace/",i?"1":"0"].join(""):r},exports.promisifyWxApi=exports.pick=void 0,exports.readFileAsync=function(e,r,t,n,o){return new i.Promise((function(i,a){e.readFile({filePath:r,position:t,encoding:o,length:n,success:i,fail:a})}))},exports.replaceConfirmUrl=function(e,r){return h.includes(r)?e.replace("<FILE-TYPE>",r):e.replace("<FILE-TYPE>/","")},exports.throwError=function(e){var r="@titan/media 上传失败 ".concat("string"==typeof e?e:"未知问题");throw new Error(r)},exports.tryToString=void 0;var a=require("../../@titan/env.js"),c=require("./config"),u=function(e,r){return new i.Promise((function(n,o){e.call(i.wx,t(t({},r),{},{success:n,fail:o,complete:void 0}))}))};function s(e,r){return p.apply(this,arguments)}function p(){return(p=(0,a.babel_coroutine)(r().mark((function e(t,n){var o,a,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n(t).toString());case 2:return o="".concat(i.wx.env.USER_DATA_PATH,"/").concat(Date.now()).concat(Math.random(),".txt"),a=i.wx.getFileSystemManager(),e.next=5,new i.Promise((function(e,r){a.writeFile({filePath:o,data:t,success:e,fail:r})}));case 5:return e.prev=5,e.next=8,u(i.wx.getFileInfo,{filePath:o,digestAlgorithm:"sha1"});case 8:return c=e.sent,s=c.digest,a.unlink({filePath:o}),e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(5),e.t0;case 17:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function l(r){return function(e,r){var t=Array.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t}(r,(function(r){return"object"==e(r)?l(r):r}))}function f(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}exports.promisifyWxApi=u,exports.getAuth=function(){var e=(0,a.babel_coroutine)(r().mark((function e(t){var n,o,i,a,c,u,p,h,m,g,d,v,x,y,w,b,S,A,P,q,E,j,k,C;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=t||{}).SecretId,o=t.SecretKey,i=t.KeyTime,a=t.SHA1,c=t.HmacSHA1,u=(t.method||t.Method||"get").toLowerCase(),p=l(t.Query||t.params||{}),h=l(t.Headers||t.headers||{}),m=t.Key||"",t.UseRawKey?g=t.Pathname||t.pathname||"/"+m:0!==(g=t.Pathname||t.pathname||m).indexOf("/")&&(g="/"+g),n){e.next=6;break}return console.error("missing param SecretId"),e.abrupt("return","");case 6:if(o){e.next=9;break}return console.error("missing param SecretKey"),e.abrupt("return","");case 9:return d=function(e,r){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(r?f(n).toLowerCase():n);return t.sort((function(e,r){return(e=e.toLowerCase())===(r=r.toLowerCase())?0:e>r?1:-1}))},v=function(e){var r,t,n,o=[],i=d(e);for(r=0;r<i.length;r++)n=void 0===e[t=i[r]]||null===e[t]?"":""+e[t],t=f(t).toLowerCase(),n=f(n)||"",o.push(t+"="+n);return o.join("&")},x=Math.round((t.serverTime||Date.now())/1e3)-1,y=x,w=t.Expires||t.expires,y+=void 0===w?900:1*w||0,b=n,S=i||x+";"+y,A=i||x+";"+y,P=d(h,!0).join(";").toLowerCase(),q=d(p,!0).join(";").toLowerCase(),E=c(A,o).toString(),j=[u,g,v(p),v(h),""].join("\n"),e.t0=S,e.next=23,s(j,a);case 23:return e.t1=e.sent,k=["sha1",e.t0,e.t1,""].join("\n"),C=c(k,E).toString(),e.abrupt("return",["q-sign-algorithm=sha1","q-ak="+b,"q-sign-time="+S,"q-key-time="+A,"q-header-list="+P,"q-url-param-list="+q,"q-signature="+C].join("&"));case 27:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();var h=["video","audio","image"];exports.pick=function(e,r){var t={};return r.forEach((function(r){r in e&&(t[r]=e[r])})),t},exports.createDeferred=function(){var e={};return e.promise=new i.Promise((function(r,t){e.resolve=r,e.reject=t})),e},exports.tryToString=function(e,r){if("string"==typeof e)return e;try{return JSON.stringify(e,(function(e,r){return r instanceof Error?{name:r.name,message:r.message,stack:r.stack}:r}))}catch(t){try{return e.toString()}catch(t){try{return"".concat(e)}catch(e){return null!=r?r:""}}}},global.ec(o);
},{isPage:false,isComponent:false,currentFile:'titan-media/RAW/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/behaviors/color.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../@babel/runtime/helpers/Arrayincludes");var e=global.bc("platform","titian-mp"),r=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../common/utils/color"),t=r.Behavior({properties:{color:String},data:{rgbaColor:""},observers:{color:function(e){if(e=e.trim()){var r="";e.includes("#")?r=(0,o.hexToRGBA)(e):e.includes("rgba")?r=e:e.includes("rgb")&&(r=(0,o.RGBToRGBA)(e)),this.setData({rgbaColor:r})}}}});exports.default=t,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/behaviors/color.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/behaviors/link.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","titian-mp"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t.Behavior({properties:{link:String,jumpType:{type:String,value:"navigateTo"}},methods:{jumpToLink:function(){var e=this.data,r=e.link,i=e.jumpType;if(r){if("navigateTo"===i&&t.getCurrentPages().length>9)return void t.wx.redirectTo({url:r}).then((function(e){return e}));(0,t.wx[i])({url:r})}}}});exports.default=r,global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/behaviors/link.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/behaviors/open-type.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","titian-mp"),t=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=t.Behavior({properties:{openType:String,lang:{type:String,value:"en"},sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,appParameter:String,showMessageCard:Boolean},data:{innerOpenType:"",scope:""},observers:{openType:function(e){this.setData({innerOpenType:e})}},methods:{onGetuserinfo:function(e){this.triggerEvent("getuserinfo",e.detail)},onContact:function(e){this.triggerEvent("contact",e.detail)},onGetphonenumber:function(e){this.triggerEvent("getphonenumber",e.detail)},onError:function(e){this.triggerEvent("error",e.detail)},onOpensetting:function(e){this.triggerEvent("opensetting",e.detail)},onLaunchapp:function(e){this.triggerEvent("launchapp",e.detail)},bindGetAuthorize:function(e){},bindFollowLifestyle:function(e){}}}),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/behaviors/open-type.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/behaviors/transition.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","titian-mp"),e=require("../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i,n=require("../common/utils/index");function a(t){var e=new Map,i="enter-active-class",n="exit-active-class";return e.set("enter","titian-".concat(t,"-enter titian-").concat(t,"-enter-active enter-class ").concat(i)),e.set("enter-done","titian-".concat(t,"-enter-done titian-").concat(t,"-enter-active enter-done-class ").concat(i)),e.set("exit","titian-".concat(t,"-exit titian-").concat(t,"-exit-active exit-class ").concat(n)),e.set("exit-done","titian-".concat(t,"-exit-done titian-").concat(t,"-exit-active exit-done-class ").concat(n)),e}!function(t){t[t.enter=0]="enter",t[t.exit=1]="exit"}(i||(i={})),exports.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.duration||300;return e.Behavior({properties:{extStyle:String,show:{type:Boolean,value:!1,observer:"toggleShow"},timeout:{type:null,value:i,observer:""},name:{type:String,value:t.name||"fade"},enterName:String,exitName:String,destroyOnExit:{type:Boolean,value:!1},timingFunction:{type:String,value:t.timingFunction||"linear"}},data:{classes:"",initialized:!1,display:!1,duration:i},lifetimes:{ready:function(){this.data.show&&this.toggleShow(!0,!1)}},methods:{toggleShow:function(t,e){t!==e&&(t?this.enter():this.exit())},enter:function(){var t=this,s=this.data,o=s.name,r=s.enterName,c=s.timeout,u=(0,n.isPlainObject)(c)?c.appear||i:c,l=a.call(this,r||o);this.status=0,this.triggerEvent("enter"),(0,n.requestAnimationFrame)((function(){0===t.status&&(t.triggerEvent("entering"),t.setData({duration:u,initialized:!0,display:!0,classes:l.get("enter")},(function(){(0,n.requestAnimationFrame)((function(){0===t.status&&(t.transitionEnd=!1,t.setData({classes:l.get("enter-done")}),e.setTimeout((function(){t.onTransitionEnd()}),u))}))})))}))},exit:function(){var t=this,s=this.data,o=s.display,r=s.exitName,c=s.name,u=s.timeout;if(o){var l=(0,n.isPlainObject)(u)?u.exit||i:u,d=a.call(this,r||c);this.status=1,this.triggerEvent("exit"),(0,n.requestAnimationFrame)((function(){1===t.status&&(t.triggerEvent("exiting"),t.setData({classes:d.get("exit"),duration:l},(function(){(0,n.requestAnimationFrame)((function(){1===t.status&&(t.transitionEnd=!1,t.setData({classes:d.get("exit-done")}),e.setTimeout((function(){return t.onTransitionEnd()}),l))}))})))}))}},onTransitionEnd:function(){if(!this.transitionEnd){this.transitionEnd=!0,this.triggerEvent(0===this.status?"entered":"exited");var t=this.data,e=t.show,i=t.display,n=t.destroyOnExit,a=t.initialized,s={classes:""};!e&&i&&(s.display=!1,s.initialized=!n&&a,this.setData(s))}}}})},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/behaviors/transition.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/button/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e,o,n,r=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.EButtonVariant=exports.EButtonType=exports.EButtonSize=exports.EButtonShape=void 0,function(t){t.CONTAINED="contained",t.FILLED="filled",t.OUTLINED="outlined",t.TEXT="text"}(t||(exports.EButtonVariant=t={})),function(t){t.TINY="tiny",t.SMALL="small",t.MEDIUM="medium",t.BIG="big",t.LARGE="large"}(e||(exports.EButtonSize=e={})),function(t){t.CAPSULE="capsule",t.ROUND="round",t.RECT="rect"}(o||(exports.EButtonShape=o={})),function(t){t.PRIMARY="primary",t.WARNING="warning",t.ERROR="error",t.SUCCESS="success",t.INFO="info",t.SIMPLE="simple"}(n||(exports.EButtonType=n={})),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/button/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/basic/BasicComponent.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/objectSpread2"),t=global.bc("platform","titian-mp"),a=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("./relations");exports.default=function(t){var o={};if(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(a).forEach((function(r){e[r]&&(t[a[r]]=e[r])}))}(t,o,{properties:"properties",data:"data",observers:"observers",methods:"methods",behaviors:"behaviors",created:"created",attached:"attached",ready:"ready",moved:"moved",detached:"detached",relations:"relations",externalClasses:"externalClasses",options:"options",lifetimes:"lifetimes",pageLifetimes:"pageLifetimes",definitionFilter:"definitionFilter"}),o.externalClasses=o.externalClasses||[],o.externalClasses.push("ext-class"),o.options=o.options||{},o.options.multipleSlots=!0,o.options.addGlobalClass=!0,t.children){var s=(0,r.convertChildrenNode)(t.children,t.relationAction);o.relations=e(e({},t.relations),s.relations),o.behaviors=o.behaviors||[],o.behaviors.push(s.behavior)}if(t.parent){var i=(0,r.convertParentNode)(t.parent,t.relationAction);o.relations=e(e({},t.relations),i.relations),o.behaviors=o.behaviors||[],o.behaviors.push(i.behavior)}a.Component(o)},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/basic/BasicComponent.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/basic/relations.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/defineProperty"),n=global.bc("platform","titian-mp"),t=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertParentNode=exports.convertChildrenNode=void 0;var r=function(e){return"../".concat(e,"/index")};exports.convertParentNode=function(n,i){var o=r(n);return{relations:e({},o,{type:"ancestor",linked:function(e){i&&i.call(this,e,"linked")},linkChanged:function(e){i&&i.call(this,e,"linkChanged")},unlinked:function(e){i&&i.call(this,e,"unlinked")}}),behavior:t.Behavior({methods:{setParent:function(e){!this.parent&&e&&(this.$parent=e)},getParent:function(){var e;return(null===(e=this.getRelationNodes(o))||void 0===e?void 0:e[0])||this.$parent}},created:function(){Object.defineProperty(this,"parent",{get:function(){return this.getParent()}})}})}},exports.convertChildrenNode=function(e,n){var i={};return Array.isArray(e)||(e=[e]),(e=e.map((function(e){return r(e)}))).forEach((function(e){i[e]={type:"descendant",linked:function(e){n&&n.call(this,e,"linked")},linkChanged:function(e){n&&n.call(this,e,"linkChanged")},unlinked:function(e){n&&n.call(this,e,"unlinked")}}})),{relations:i,behavior:t.Behavior({created:function(){Object.defineProperty(this,"children",{get:function(){var n=this,t=e.map((function(e){return n.getRelationNodes(e)})).flat(1).filter((function(e){return!!e}));return Array.isArray(t)&&0!==t.length||(t=this.selectAllComponents(".internal_children")),Array.isArray(t)&&0!==t.length||(t=[]),t}})},lifetimes:{attached:function(){var e=this;(this.children||[]).forEach((function(n){null==n||n.setParent(e)}))}}})}},global.ec(n);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/basic/relations.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/utils/color.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../@babel/runtime/helpers/slicedToArray"),r=require("../../../../@babel/runtime/helpers/toConsumableArray"),e=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.hexToRGBA=exports.hexToRGB=exports.hexToHSB=exports.getNeutralsGrey=exports.RGBToRGBA=exports.RGBToHex=exports.RGBToHSB=exports.RGBAToHex=exports.HSBToRGB=void 0;var n=function(t,r,e){r/=100,e/=100;var n=function(r){return(r+t/60)%6},o=function(t){return e*(1-r*Math.max(0,Math.min(n(t),4-n(t),1)))};return[Math.round(255*o(5)),Math.round(255*o(3)),Math.round(255*o(1))]};exports.HSBToRGB=n;var o=function(t,r,e){t/=255,r/=255,e/=255;var n=Math.max(t,r,e),o=n-Math.min(t,r,e),a=0===o?0:o&&n===t?(r-e)/o:n===r?2+(e-t)/o:4+(t-r)/o;return[60*(a<0?a+6:a),n&&o/n*100,100*n]};exports.RGBToHSB=o;var a=function(t,e){var n=!1,o=t.slice(t.startsWith("#")?1:0);if(3===o.length)o=r(o).map((function(t){return t+t})).join("");else if(8===o.length)n=!0;else if(6!==o.length)return t;o=parseInt(o,16);var a=n||e;return e=e||""+(255&o),"rgb".concat(a?"a":"","(").concat(o>>>(n?24:16),", ").concat((o&(n?16711680:65280))>>>(n?16:8),", ").concat((o&(n?65280:255))>>>(n?8:0)).concat(a?", ".concat(e):"",")")};exports.hexToRGB=a;var i=function(t,r,e){return"#".concat(((t<<16)+(r<<8)+e).toString(16).padStart(6,"0"))};exports.RGBToHex=i,exports.RGBAToHex=function(r){var e=new RegExp("^rgba?\\((.+)\\)$","g");if(!e.test(r))return r;var n=r.replace(e,(function(t,r){return r})).split(",").map((function(t){return parseInt(t,10)})),o=t(n,3),a=o[0],u=o[1],c=o[2];return i(a,u,c)},exports.hexToHSB=function(t){var e=!1,n=t.slice(t.startsWith("#")?1:0);return 3===n.length?n=r(n).map((function(t){return t+t})).join(""):8===n.length&&(e=!0),n=parseInt(n,16),o(n>>>(e?24:16),(n&(e?16711680:65280))>>>(e?16:8),(n&(e?65280:255))>>>(e?8:0))};var u=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new RegExp("^rgba?\\((.+)\\)$","g");if(!n.test(r))return r;var o=r.replace(n,(function(t,r){return r})),a=o.split(",").map((function(t){return parseInt(t,10)})),i=t(a,3),u=i[0],c=i[1],p=i[2];return"rgba(".concat(u,",").concat(c,",").concat(p,",").concat(e,")")};exports.RGBToRGBA=u,exports.hexToRGBA=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=a(t);return u(e,r)},exports.getNeutralsGrey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:85,o=arguments.length>1?arguments[1]:void 0,a=0,u=3*e/17,c=o||[],p=t(c,5),s=p[0],f=void 0===s?0:s,l=p[1],x=void 0===l?0:l,v=p[2],h=void 0===v?0:v,g=p[3],B=void 0===g?0:g,d=p[4],G=void 0===d?0:d,R=[[100-e,f],[2*u,x],[u,h],[u,B],[u,G]];return R.map((function(t){return function(t,e){var o=n(0,0,(a+=t)+e>0?a+e:0);return i.apply(void 0,r(o))}.apply(void 0,r(t))})).concat(["#f2f2f2","#f5f5f5","#fafafa","#ffffff"])},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/utils/color.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/utils/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/typeof"),t=require("../../../../@babel/runtime/helpers/slicedToArray"),r=require("../../../../@babel/runtime/helpers/objectSpread2"),n=global.bc("platform","titian-mp"),o=require("../../titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0});var i={objectToString:!0,toTypeString:!0,isString:!0,isPlainObject:!0,isPlainArray:!0,isPlainRegExp:!0,isBoolean:!0,isFunction:!0,isArrayEqual:!0,getSystemInfoSync:!0,nextTick:!0,requestAnimationFrame:!0,getWindowHeightForRPX:!0,getRect:!0,getFieldStyle:!0,debounce:!0,throttle:!0,randomString:!0,filterInvalidData:!0,DISABLED:!0,isDisabled:!0,range:!0,padZero:!0,isValidDate:!0,getDate:!0};exports.DISABLED=void 0,exports.debounce=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var n=this,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];o.clearTimeout(t),t=o.setTimeout((function(){return e.apply(n,a)}),r)}},exports.filterInvalidData=function(e){var t=r({},e);return Object.keys(e).forEach((function(r){null==e[r]&&delete t[r]})),t},exports.getDate=function(e,t,r){var n;if(void 0===e)return new Date;if(!(n="number"==typeof e&&"number"==typeof t&&"number"==typeof r?new Date(e,t,r):"number"==typeof e&&"number"==typeof t?new Date(e,t):new Date(e)))throw new Error("时间格式错误");if("Invalid Date"===n.toString())throw new Error("时间格式错误");return n},exports.getFieldStyle=function(e,r,n){return new o.Promise((function(i){o.wx.createSelectorQuery().in(e).select(r).fields({computedStyle:n},(function(e){if(e){var r=e.color,n=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(r);if(n){var o=t(n,4),a=o[1],u=o[2],c=o[3];e.rgbColor=[a,u,c]}i(e)}})).exec()}))},exports.getRect=function(e,t){return new o.Promise((function(r){o.wx.createSelectorQuery().in(e).select(t).boundingClientRect((function(e){e&&r(e)})).exec()}))},exports.getSystemInfoSync=l,exports.getWindowHeightForRPX=function(){var e=o.wx.getSystemInfoSync(),t=e.windowHeight;return e.windowWidth/750*t},exports.isBoolean=exports.isArrayEqual=void 0,exports.isDisabled=function(t){return!("object"!=e(t)||!t)&&t[f]},exports.isString=exports.isPlainRegExp=exports.isPlainObject=exports.isPlainArray=exports.isFunction=void 0,exports.isValidDate=function(e){return null!=e&&!Number.isNaN(new Date(e).getTime())},exports.nextTick=p,exports.objectToString=void 0,exports.padZero=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e).padStart(t,"0")},exports.randomString=void 0,exports.range=function(e,t,r){return Math.min(Math.max(e,t),r)},exports.requestAnimationFrame=function(e){return"devtools"===l().platform?p(e):o.wx.createSelectorQuery().selectViewport().boundingClientRect().exec((function(){e()}))},exports.throttle=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=0;return function(){for(var i=this,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var s=Date.now();s-n>=r?(o.clearTimeout(t),e.apply(this,u),n=s):(o.clearTimeout(t),t=o.setTimeout((function(){e.apply(i,u),n=Date.now()}),r-(s-n)))}},exports.toTypeString=void 0;var a=require("./number");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=exports.objectToString=Object.prototype.toString,c=function(e){return u.call(e)};exports.toTypeString=c,exports.isString=function(e){return"[object String]"===c(e)},exports.isPlainObject=function(e){return"[object Object]"===c(e)},exports.isPlainArray=function(e){return"[object Array]"===c(e)},exports.isPlainRegExp=function(e){return"[object RegExp]"===c(e)},exports.isBoolean=function(e){return"[object Boolean]"===c(e)},exports.isFunction=function(e){return"function"==typeof e},exports.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))};var s=null;function l(){var e,t;return"test"===(null===(e=o.global.process)||void 0===e||null===(t=e.env)||void 0===t?void 0:t.NODE_ENV)?(null==s&&(s=o.wx.getSystemInfoSync()),s):o.wx.getSystemInfoSync?o.wx.getSystemInfoSync():{}}function p(e){o.wx.nextTick?o.wx.nextTick(e):o.setTimeout(e,1e3/30)}exports.randomString=function(){return Math.random().toString(36).slice(2)};var f=exports.DISABLED="disabled";global.ec(n);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/utils/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/utils/number.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=function(t,e,r){return Math.min(Math.max(t,e),r)},exports.percentToValue=function(t,e,r){return Math.round(t*(r-e)+100*e)/100},exports.roundByStep=function(t,e){return Math.round(t/e)*e},exports.valueToPercent=function(t,e,r){return Math.round((t-e)/(r-e)*1e4)/100},global.ec(t);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/utils/number.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/utils/version.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.canIUseFormFieldButton=function(){return function(e,r){for(var t=e.split("."),n="2.10.3".split("."),o=Math.max(t.length,n.length);t.length<o;)t.push("0");for(;n.length<o;)n.push("0");var a=0;for(a=0;a<o;a+=1){var i=parseInt(t[a],10),l=parseInt(n[a],10);if(i>l)return 1;if(i<l)return-1}return 0}((0,r.getSystemInfoSync)().SDKVersion)>=0};var r=require("./index");global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/utils/version.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/common/utils/zIndexTool.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.default=function(){var e=1e4;return{getZIndex:function(){return e+=1}}}(),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/common/utils/zIndexTool.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/divider/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i,t,e=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.EDividerPosition=exports.EDividerOrientation=void 0,function(i){i.CENTER="center",i.LEFT="left",i.RIGHT="right"}(i||(exports.EDividerPosition=i={})),function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"}(t||(exports.EDividerOrientation=t={})),global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/divider/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/objectSpread2"),e=require("../../@babel/runtime/helpers/typeof");require("./titan.bootstrap.js");var r=global.bc("platform","titian-mp"),n=require("./titan-scoped-env.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.$tiDialog=void 0,exports.$tiToast=s,exports.getContext=exports.$toastFilter=void 0;var o=function(t){return t},i=function(t){var r=t.selector,o=t.ctx,i=new Proxy({},{get:function(t,i,a){if("symbol"!=e(i)){var s=1500;return function t(e){var a=o.selectComponent(r);a&&a[i]?a[i](e):n.setTimeout((function(){if(s<=0)return function(){};s-=100,t(e)}),100)}}}});return i};exports.getContext=i;var a=function(e){return i(e?t(t({},e),{},{selector:e.selector||"#titian-dialog",ctx:e.ctx||n.getCurrentPages()[n.getCurrentPages().length-1]}):{selector:"#titian-dialog",ctx:n.getCurrentPages()[n.getCurrentPages().length-1]})};function s(e){return i(e?t(t({},e),{},{selector:e.selector||"#titian-toast",ctx:e.ctx||n.getCurrentPages()[n.getCurrentPages().length-1]}):{selector:"#titian-toast",ctx:n.getCurrentPages()[n.getCurrentPages().length-1]})}function u(t,e){e.forEach((function(e){t[e]=function(r){var n=t(r);return n?n[e](r):function(){}}}))}exports.$tiDialog=a,s.addFilter=function(t){return o=t||o},exports.$toastFilter=s.addFilter,u(a,["show","close"]),u(s,["show","info","loading","warn","success","fail","clear"]),global.ec(r);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/popup-title-bar/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,l=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,function(e){e.WithConfirm="with-confirm",e.CancelOnly="cancel-only",e.BackTitleClose="back-title-cancel",e.MiniClose="mini-close",e.LeftTitleClose="left-title-close"}(e||(e={})),exports.default=e,global.ec(l);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/popup-title-bar/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/popup/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ETransitionClass=exports.EPosition=void 0,function(t){t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(t||(exports.EPosition=t={})),exports.ETransitionClass={top:"slide-down",bottom:"slide-up",left:"slide-left",right:"slide-right",center:"fade"},global.ec(e);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/popup/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/safe-area/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ESafeArea=void 0,function(e){e.Top="top",e.Bottom="bottom"}(e||(exports.ESafeArea=e={})),exports.default=e,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/safe-area/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/tag/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,a,t,o=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ETagVariant=exports.ETagSize=exports.ETagShape=void 0,function(e){e.CONTAINED="contained",e.FILLED="filled",e.OUTLINED="outlined"}(e||(exports.ETagVariant=e={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.BIG="big"}(a||(exports.ETagSize=a={})),function(e){e.CAPSULE="capsule",e.ROUND="round",e.RECT="rect",e.LEAF="leaf"}(t||(exports.ETagShape=t={})),global.ec(o);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/tag/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/titan-page-infos.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.ftpi({});
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/titan-page-infos.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/titan-scoped-env.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../../@titan/env.js").createModuleEnv("platform","titian-mp",(function(){return null}));
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/titan-scoped-env.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/titan.bootstrap.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";global.beginDefineBootstrap=!0;var a=global.bc("platform","titian-mp");global.ec(a),global.beginDefineBootstrap=!1,global.emr("titian-mp"),require("./titan-page-infos.js");
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/titan.bootstrap.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("titian-mp/RAW/toast/const.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=global.bc("platform","titian-mp");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.EToastType=void 0,function(e){e.Text="text",e.Success="success",e.Fail="fail",e.Warn="warn",e.Loading="loading",e.Icon="icon"}(e||(exports.EToastType=e={})),exports.default=e,global.ec(t);
},{isPage:false,isComponent:false,currentFile:'titian-mp/RAW/toast/const.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("app.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./@titan/init");
},{isPage:false,isComponent:false,currentFile:'app.js'});require("app.js");;__wxRoute = "custom-tab-bar/index";__wxRouteBegin = true;__wxAppCurrentFile__="custom-tab-bar/index.js";define("custom-tab-bar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=global.titanEnvs.titan,a=global.bc("titan","titan");t.Component({}),global.ec(a);
},{isPage:false,isComponent:true,currentFile:'custom-tab-bar/index.js'});require("custom-tab-bar/index.js");