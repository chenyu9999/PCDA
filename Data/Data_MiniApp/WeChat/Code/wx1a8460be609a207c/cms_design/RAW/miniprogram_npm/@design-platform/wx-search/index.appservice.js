$gwx_XC_49=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_49 || [];
function gz$gwx_XC_49_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_49_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'widget_search_module'])
Z([a,[3,'widget_'],[[7],[3,'moduleId']]])
Z([[7],[3,'bgColorShow']])
Z([[2,'=='],[[6],[[6],[[7],[3,'data']],[3,'style']],[3,'searchColorType']],[1,0]])
Z([3,'search_1 widget_wrap_center search_widget flex flex-v-center origin-fixed-element-type'])
Z([a,[3,'origin-fixed-element-type-'],z[1][2],[3,'-'],[[7],[3,'hash']]])
Z([3,'search_input'])
Z([3,'wehidx_3'])
Z([[6],[[6],[[7],[3,'data']],[3,'content']],[3,'switchStore']])
Z([3,'dealSwitchStore'])
Z([3,'search_switch_Store text-line-1 flex flex-between flex-v-center'])
Z([[6],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'url']],[3,'miniUrl']])
Z([3,'none'])
Z([3,'wehidx_4'])
Z([a,[3,'color:'],[[7],[3,'contentColor']]])
Z([3,'search-icon-pos'])
Z([3,'wehidx_5'])
Z([[6],[[7],[3,'exData']],[3,'iconStyleType']])
Z([3,'search-location'])
Z([[2,'&&'],[[2,'!'],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'customerAttribution']]],[[2,'!'],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'isSwitch']]]])
Z([3,'downarrow'])
Z([a,z[14][1],z[14][2]])
Z([3,'wehidx_7'])
Z([3,'arrow-down'])
Z([1,28])
Z([3,'goSearch'])
Z([a,[3,'widget_content flex flex-v-center '],[[2,'?:'],[[2,'=='],[[6],[[6],[[7],[3,'data']],[3,'style']],[3,'keyLocation']],[1,2]],[1,'flex-center'],[1,'']]])
Z([3,'wehidx_8'])
Z([a,[[7],[3,'borderColor']],[3,';'],[[7],[3,'borderRadius']]])
Z([3,'flex flex-v-center search-icon'])
Z([3,'wehidx_9'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z([3,'search-search'])
Z([[7],[3,'maxSearchKeyVisible']])
Z([[6],[[6],[[7],[3,'data']],[3,'content']],[3,'showScan']])
Z([3,'searchErcode'])
Z([3,'iconercode flex flex-v-center'])
Z([3,'wehidx_h'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z([3,'search-scan-buy'])
Z([[2,'&&'],[[2,'&&'],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'showHotWord']],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'hotWords']]],[[2,'>'],[[6],[[6],[[6],[[7],[3,'data']],[3,'content']],[3,'hotWords']],[3,'length']],[1,0]]])
Z([[2,'=='],[[6],[[6],[[7],[3,'data']],[3,'style']],[3,'searchColorType']],[1,1]])
Z([3,'search_2 widget_wrap_center search_widget flex flex-v-center origin-fixed-element-type'])
Z([a,z[5][1],z[1][2],z[5][3],z[5][4]])
Z(z[6])
Z([3,'wehidx_o'])
Z(z[8])
Z(z[9])
Z(z[10])
Z(z[11])
Z(z[12])
Z([3,'wehidx_p'])
Z([a,z[14][1],z[14][2]])
Z(z[15])
Z([3,'wehidx_q'])
Z(z[17])
Z(z[18])
Z(z[19])
Z(z[20])
Z([a,z[14][1],z[14][2]])
Z([3,'wehidx_s'])
Z(z[23])
Z(z[24])
Z(z[25])
Z([a,z[26][1],z[26][2]])
Z([3,'wehidx_t'])
Z(z[28][3])
Z(z[29])
Z([3,'wehidx_u'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[33])
Z(z[34])
Z(z[35])
Z(z[36])
Z(z[37])
Z([3,'wehidx_12'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[41])
Z(z[42])
Z([[7],[3,'isFixed']])
Z([a,[3,'search-fixed fixed-element-type '],[[2,'?:'],[[6],[[7],[3,'exData']],[3,'grayEnabled']],[1,'grayEnabled'],[1,'']]])
Z([a,[3,'fixed-element-type-'],z[1][2],z[5][3],z[5][4]])
Z([a,z[2],[3,';top: '],[[7],[3,'fixedTop']],[3,'px;display: '],[[7],[3,'displayValue']],z[28][2]])
Z(z[3])
Z([3,'search_1 widget_wrap_center search_widget flex flex-v-center'])
Z([3,'wehidx_19'])
Z(z[6])
Z([3,'wehidx_1a'])
Z(z[8])
Z(z[9])
Z(z[10])
Z(z[11])
Z(z[12])
Z([3,'wehidx_1b'])
Z([a,z[14][1],z[14][2]])
Z(z[15])
Z([3,'wehidx_1c'])
Z(z[17])
Z(z[18])
Z(z[19])
Z(z[20])
Z([a,z[14][1],z[14][2]])
Z([3,'wehidx_1e'])
Z(z[23])
Z(z[24])
Z(z[25])
Z([a,z[26][1],z[26][2]])
Z([3,'wehidx_1f'])
Z([a,z[28][1],z[28][2],z[28][3]])
Z(z[29])
Z([3,'wehidx_1g'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[33])
Z(z[35])
Z(z[36])
Z(z[37])
Z([3,'wehidx_1n'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[41])
Z(z[42])
Z(z[43])
Z([3,'search_2 widget_wrap_center search_widget flex flex-v-center'])
Z([a,[3,'search_comp_'],z[1][2]])
Z(z[6])
Z([3,'wehidx_1u'])
Z(z[8])
Z(z[9])
Z(z[10])
Z(z[11])
Z(z[12])
Z([3,'wehidx_1v'])
Z([a,z[14][1],z[14][2]])
Z(z[15])
Z([3,'wehidx_1w'])
Z(z[17])
Z(z[18])
Z(z[19])
Z(z[20])
Z([a,z[14][1],z[14][2]])
Z([3,'wehidx_1y'])
Z(z[23])
Z(z[24])
Z(z[25])
Z([a,z[26][1],z[26][2]])
Z([3,'wehidx_1z'])
Z(z[28][3])
Z(z[29])
Z([3,'wehidx_20'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[33])
Z(z[35])
Z(z[36])
Z(z[37])
Z([3,'wehidx_27'])
Z([a,z[14][1],z[14][2]])
Z(z[17])
Z(z[41])
Z(z[42])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_49_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_49=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_49=true;
var x=['./cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_49_1()
var o2W=_mz(z,'view',['class',0,'id',1,'style',1],[],e,s,gg)
var c3W=_v()
_(o2W,c3W)
if(_oz(z,3,e,s,gg)){c3W.wxVkey=1
var a6W=_mz(z,'view',['class',4,'id',1],[],e,s,gg)
var e8W=_mz(z,'view',['class',6,'id',1],[],e,s,gg)
var b9W=_v()
_(e8W,b9W)
if(_oz(z,8,e,s,gg)){b9W.wxVkey=1
var xAX=_mz(z,'button',['bindtap',9,'class',1,'data-url',2,'hoverClass',3,'id',4,'style',5],[],e,s,gg)
var fCX=_mz(z,'CMSSDKFontIcon',['class',15,'id',1,'type',2,'value',3],[],e,s,gg)
_(xAX,fCX)
var oBX=_v()
_(xAX,oBX)
if(_oz(z,19,e,s,gg)){oBX.wxVkey=1
var cDX=_mz(z,'ti-icon',['extClass',20,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(oBX,cDX)
}
oBX.wxXCkey=1
oBX.wxXCkey=3
_(b9W,xAX)
}
var hEX=_mz(z,'view',['bindtap',25,'class',1,'id',2,'style',3],[],e,s,gg)
var cGX=_mz(z,'CMSSDKFontIcon',['class',29,'id',1,'style',2,'type',3,'value',4],[],e,s,gg)
_(hEX,cGX)
var oFX=_v()
_(hEX,oFX)
if(_oz(z,34,e,s,gg)){oFX.wxVkey=1
}
oFX.wxXCkey=1
_(e8W,hEX)
var o0W=_v()
_(e8W,o0W)
if(_oz(z,35,e,s,gg)){o0W.wxVkey=1
var oHX=_mz(z,'CMSSDKFontIcon',['bindtap',36,'class',1,'id',2,'style',3,'type',4,'value',5],[],e,s,gg)
_(o0W,oHX)
}
b9W.wxXCkey=1
b9W.wxXCkey=3
o0W.wxXCkey=1
o0W.wxXCkey=3
_(a6W,e8W)
var t7W=_v()
_(a6W,t7W)
if(_oz(z,42,e,s,gg)){t7W.wxVkey=1
}
t7W.wxXCkey=1
_(c3W,a6W)
}
var o4W=_v()
_(o2W,o4W)
if(_oz(z,43,e,s,gg)){o4W.wxVkey=1
var lIX=_mz(z,'view',['class',44,'id',1],[],e,s,gg)
var tKX=_mz(z,'view',['class',46,'id',1],[],e,s,gg)
var eLX=_v()
_(tKX,eLX)
if(_oz(z,48,e,s,gg)){eLX.wxVkey=1
var oNX=_mz(z,'button',['bindtap',49,'class',1,'data-url',2,'hoverClass',3,'id',4,'style',5],[],e,s,gg)
var oPX=_mz(z,'CMSSDKFontIcon',['class',55,'id',1,'type',2,'value',3],[],e,s,gg)
_(oNX,oPX)
var xOX=_v()
_(oNX,xOX)
if(_oz(z,59,e,s,gg)){xOX.wxVkey=1
var fQX=_mz(z,'ti-icon',['extClass',60,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(xOX,fQX)
}
xOX.wxXCkey=1
xOX.wxXCkey=3
_(eLX,oNX)
}
var cRX=_mz(z,'view',['bindtap',65,'class',1,'id',2,'style',3],[],e,s,gg)
var oTX=_mz(z,'CMSSDKFontIcon',['class',69,'id',1,'style',2,'type',3,'value',4],[],e,s,gg)
_(cRX,oTX)
var hSX=_v()
_(cRX,hSX)
if(_oz(z,74,e,s,gg)){hSX.wxVkey=1
}
hSX.wxXCkey=1
_(tKX,cRX)
var bMX=_v()
_(tKX,bMX)
if(_oz(z,75,e,s,gg)){bMX.wxVkey=1
var cUX=_mz(z,'CMSSDKFontIcon',['bindtap',76,'class',1,'id',2,'style',3,'type',4,'value',5],[],e,s,gg)
_(bMX,cUX)
}
eLX.wxXCkey=1
eLX.wxXCkey=3
bMX.wxXCkey=1
bMX.wxXCkey=3
_(lIX,tKX)
var aJX=_v()
_(lIX,aJX)
if(_oz(z,82,e,s,gg)){aJX.wxVkey=1
}
aJX.wxXCkey=1
_(o4W,lIX)
}
var l5W=_v()
_(o2W,l5W)
if(_oz(z,83,e,s,gg)){l5W.wxVkey=1
var oVX=_mz(z,'view',['class',84,'id',1,'style',2],[],e,s,gg)
var lWX=_v()
_(oVX,lWX)
if(_oz(z,87,e,s,gg)){lWX.wxVkey=1
var tYX=_mz(z,'view',['class',88,'id',1],[],e,s,gg)
var b1X=_mz(z,'view',['class',90,'id',1],[],e,s,gg)
var o2X=_v()
_(b1X,o2X)
if(_oz(z,92,e,s,gg)){o2X.wxVkey=1
var o4X=_mz(z,'button',['bindtap',93,'class',1,'data-url',2,'hoverClass',3,'id',4,'style',5],[],e,s,gg)
var c6X=_mz(z,'CMSSDKFontIcon',['class',99,'id',1,'type',2,'value',3],[],e,s,gg)
_(o4X,c6X)
var f5X=_v()
_(o4X,f5X)
if(_oz(z,103,e,s,gg)){f5X.wxVkey=1
var h7X=_mz(z,'ti-icon',['extClass',104,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(f5X,h7X)
}
f5X.wxXCkey=1
f5X.wxXCkey=3
_(o2X,o4X)
}
var o8X=_mz(z,'view',['bindtap',109,'class',1,'id',2,'style',3],[],e,s,gg)
var c9X=_mz(z,'CMSSDKFontIcon',['class',113,'id',1,'style',2,'type',3,'value',4],[],e,s,gg)
_(o8X,c9X)
_(b1X,o8X)
var x3X=_v()
_(b1X,x3X)
if(_oz(z,118,e,s,gg)){x3X.wxVkey=1
var o0X=_mz(z,'CMSSDKFontIcon',['bindtap',119,'class',1,'id',2,'style',3,'type',4,'value',5],[],e,s,gg)
_(x3X,o0X)
}
o2X.wxXCkey=1
o2X.wxXCkey=3
x3X.wxXCkey=1
x3X.wxXCkey=3
_(tYX,b1X)
var eZX=_v()
_(tYX,eZX)
if(_oz(z,125,e,s,gg)){eZX.wxVkey=1
}
eZX.wxXCkey=1
_(lWX,tYX)
}
var aXX=_v()
_(oVX,aXX)
if(_oz(z,126,e,s,gg)){aXX.wxVkey=1
var lAY=_mz(z,'view',['class',127,'id',1],[],e,s,gg)
var tCY=_mz(z,'view',['class',129,'id',1],[],e,s,gg)
var eDY=_v()
_(tCY,eDY)
if(_oz(z,131,e,s,gg)){eDY.wxVkey=1
var oFY=_mz(z,'button',['bindtap',132,'class',1,'data-url',2,'hoverClass',3,'id',4,'style',5],[],e,s,gg)
var oHY=_mz(z,'CMSSDKFontIcon',['class',138,'id',1,'type',2,'value',3],[],e,s,gg)
_(oFY,oHY)
var xGY=_v()
_(oFY,xGY)
if(_oz(z,142,e,s,gg)){xGY.wxVkey=1
var fIY=_mz(z,'ti-icon',['extClass',143,'extStyle',1,'id',2,'name',3,'size',4],[],e,s,gg)
_(xGY,fIY)
}
xGY.wxXCkey=1
xGY.wxXCkey=3
_(eDY,oFY)
}
var cJY=_mz(z,'view',['bindtap',148,'class',1,'id',2,'style',3],[],e,s,gg)
var hKY=_mz(z,'CMSSDKFontIcon',['class',152,'id',1,'style',2,'type',3,'value',4],[],e,s,gg)
_(cJY,hKY)
_(tCY,cJY)
var bEY=_v()
_(tCY,bEY)
if(_oz(z,157,e,s,gg)){bEY.wxVkey=1
var oLY=_mz(z,'CMSSDKFontIcon',['bindtap',158,'class',1,'id',2,'style',3,'type',4,'value',5],[],e,s,gg)
_(bEY,oLY)
}
eDY.wxXCkey=1
eDY.wxXCkey=3
bEY.wxXCkey=1
bEY.wxXCkey=3
_(lAY,tCY)
var aBY=_v()
_(lAY,aBY)
if(_oz(z,164,e,s,gg)){aBY.wxVkey=1
}
aBY.wxXCkey=1
_(aXX,lAY)
}
lWX.wxXCkey=1
lWX.wxXCkey=3
aXX.wxXCkey=1
aXX.wxXCkey=3
_(l5W,oVX)
}
c3W.wxXCkey=1
c3W.wxXCkey=3
o4W.wxXCkey=1
o4W.wxXCkey=3
l5W.wxXCkey=1
l5W.wxXCkey=3
_(r,o2W)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_49";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_49();	if (__vd_version_info__.delayedGwx) __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.wxml'] = [$gwx_XC_49, './cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.wxml'];else __wxAppCode__['cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.wxml'] = $gwx_XC_49( './cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.wxml' );
	;__wxRoute = "cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index";__wxRouteBegin = true;__wxAppCurrentFile__="cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.js";define("cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../../../@babel/runtime/helpers/Arrayincludes");var e=require("../../../../../@babel/runtime/helpers/typeof");require("../../../titan.bootstrap.js");var t=global.bc("package","cms_design"),a=require("../../../titan-scoped-env.js"),o=function(t,a){if(t&&t.__esModule)return t;if(null===t||"object"!=e(t)&&"function"!=typeof t)return{default:t};var o=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return function(e){return e?a:t}(e)}(a);if(o&&o.has(t))return o.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var c=n?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=t[i]}return r.default=t,o&&o.set(t,r),r}(require("../wx-utils/jumpUrl.js")),r=s(require("../wx-utils/behaviors.js")),n=require("../wx-utils/global.js"),i=s(require("../wx-utils/getLength.js")),c=s(require("../wx-utils/color2Rgb.js"));function s(e){return e&&e.__esModule?e:{default:e}}var d={0:"0rpx",1:"12rpx",2:"36rpx"};a.Component({behaviors:[r.default],options:{addGlobalClass:!0},properties:{moduleData:Object,exData:Object},data:{isKs:(0,n.getPlatFormChannel)()===n.Ks,data:{},fixedTop:60,height:54,displayValue:"unset",maxSearchKeyVisible:!0},attached:function(){this._init()},ready:function(){var e=this,t=this.data,o=t.$isWeiXin,r=t.exData,n=t.moduleData.style.keyLocation,i=void 0===n?1:n;this.setData({fixedTop:o?r.topNavHeight:0}),a.setTimeout((function(){e.getModuleRect(),2===i&&e.getMaxSearchKeyRect()}),500)},methods:{_init:function(){var e=this.data,t=e.moduleData,o=(e.exData,t.content),r=o.switchCeiling,n=void 0===r?0:r,i=o.searchKeyList,s=void 0===i?[]:i,d=t.style,l=t.moduleId;t.content.switchStore;var u=0==d.searchColorType?d.searchColor:d.contentColor,h="padding-top:".concat(d.topMargin,"rpx;padding-bottom:").concat(d.bottomMargin,"rpx;background-color:").concat(d.bgColor||"#FFF"),p=0==d.hotwordsStyleType?d.hotwordsOutlineColor:d.hotwordsColor,g=this.getActualBorderRadius();this.data.isKs&&(t.content.showScan=!1),this.setData({data:t,contentColor:u,bgColorShow:h,moduleId:l,borderColor:"border:1rpx solid rgba(".concat((0,c.default)(u),",0.2);transform: rotateZ(360deg);"),hotwordsColor:"1rpx solid rgba(".concat((0,c.default)(p),",0.2)"),borderRadius:"".concat(g),hash:this.createHash(),maxLengthSearchKey:this.getMaxLengthSearchKey(s)}),n&&(this.page=a.getCurrentPages()[a.getCurrentPages().length-1],this.page.onPageScrollHandler||(this.page.onPageScrollHandler=[]),this.page.onPageScrollHandler.push(this.onPageScroll.bind(this)))},getMaxLengthSearchKey:function(e){var t="搜索你想要的";if(e&&e instanceof Array&&e.length>0){var a=0,o=0;e.forEach((function(e,t){(0,i.default)(e)>a&&(a=(0,i.default)(e),o=t)})),t=e[o]}return t},setStickyMenu:function(e){var t=this;if(0!==e.length){var a=this.data,o=a.moduleId,r=a.displayValue,n=a.hash;e.length>1?null==e||e.forEach((function(a,i){i!==e.length-1&&a.id==="fixed-element-type-".concat(o,"-").concat(n)?t.setData({displayValue:"none"}):i===e.length-1&&a.id==="fixed-element-type-".concat(o,"-").concat(n)&&(t.setData({displayValue:"block"}),"block"!==r&&t.addStickyComToExData())})):1===e.length&&"block"!==r&&(this.setData({displayValue:"block"}),this.addStickyComToExData())}else this.removeStickyComFromExData()},calcStickyMenuOnWeiXin:function(){var e=this;a.wx.createSelectorQuery().selectAll("#design-platform-page >>> #design_sdk >>> #design_components >>> .fixed-element-type").boundingClientRect((function(t){e.setStickyMenu(t)})).exec()},onPageScroll:function(e){var t=this,o=e.scrollTop,r=void 0===o?0:o,n=this.data,i=n.fixedTop,c=n.exData,s=n.$isWeiXin,d=c.topNavHeight;this.pageScrollTop=r,this.scrollTimer&&a.clearTimeout(this.scrollTimer),this.scrollTimer=a.setTimeout((function(){t.getModuleRect().then((function(){var e=t.pageScrollTop>0&&t.pageScrollTop+i>(t.offsetTop>=48?t.offsetTop:0)&&(0===d&&r>40||d||!s);t.scrollTimer=null,a.setTimeout((function(){t.calcStickyMenuOnWeiXin()}),0),e!==t.isFixed&&(t.setData({isFixed:e}),t.isFixed=e)}))}),10)},createHash:function(){return Array.from(Array(Number(6)),(function(){return Math.floor(36*Math.random()).toString(36)})).join("")},getModuleRect:function(){var e=this,t=this.data,o=t.moduleId,r=t.hash;return new a.Promise((function(t){var n="#origin-fixed-element-type-".concat(o,"-").concat(r),i=e;a.wx.createSelectorQuery().in(e).select(n).boundingClientRect((function(e){e&&(i.clientBottom=e.bottom,i.offsetTop=e.top+(i.pageScrollTop||0),i.setData({height:e.height})),t()})).exec()}))},getMaxSearchKeyRect:function(){var e=this,t=this.data,o=t.moduleId,r=t.hash;return new a.Promise((function(t){var n="#origin-searchKey-".concat(o,"-").concat(r),i=e;a.wx.createSelectorQuery().in(e).select(n).boundingClientRect((function(e){e&&i.setData({maxSearchKeyWidth:e.width,maxSearchKeyVisible:!1}),t()})).exec()}))},getActualBorderRadius:function(){var e={},t=this.data,a=t.moduleData,o=t.exData,r=a.style,n=r.selectedBorderType,i=r.borderStyle;if(1===n){var c=[0,1,2].includes(null==o?void 0:o.styleType)?null==o?void 0:o.styleType:1;e="border-radius: ".concat(d[c])}else e=1===i?"border-radius: 12rpx":2==i?"border-radius: 36rpx":"";return e},dealSwitchStore:function(e){var t,r,n,i;if(!(null!==(t=this.data.data)&&void 0!==t&&null!==(r=t.content)&&void 0!==r&&r.customerAttribution||null!==(n=this.data.data)&&void 0!==n&&null!==(i=n.content)&&void 0!==i&&i.isSwitch)){var c=this.data,s=c.exData,d=s.pagename,l=void 0===d?"":d,u=s.pageId,h=void 0===u?"":u,p=s.currentPageId,g=void 0===p?"":p,m=c.moduleData,f=m.id,y=m.moduleId,v=m.moduleName,x=e.currentTarget.dataset.url;if(a.wx.rprm.rec({en:"vid_tap",elementid:"vid",eventtype:"tap",pageid:h||"",pagename:l,mid:f,module_id:y,module_name:v,nextpage:x,inpageid:g}),!x)return;(0,o.default)(x)}},searchSubmit:function(e){var t=e.detail.value.search,a=e.target.dataset.key;(0,o.default)("package://mall_design/goods?search=".concat(t||a||""))},tapHotword:function(e){var t=e.currentTarget.dataset.index||0,r=this.data,n=r.exData,i=n.pagename,c=void 0===i?"":i,s=n.pageId,d=void 0===s?"":s,l=n.currentPageId,u=void 0===l?"":l,h=r.moduleData,p=h.id,g=h.moduleId,m=h.moduleName,f=h.content,y=f.hotWords,v=void 0===y?[]:y,x=f.searchProductType,b=void 0===x?0:x,T=f.searchProducts,k=void 0===T?[]:T,w=v[t];if(a.wx.rprm.rec({en:"search_tap",elementid:"hot_word",eventtype:"tap",pageid:d||"",pagename:c,mid:p,module_id:g,module_name:m,title:(null==w?void 0:w.searchHotWordName)||"",inpageid:u}),2==(null==w?void 0:w.searchHotWordType))(0,o.jumpUrlByLink)(w.linkUrl,this.data.exData,this);else{var S=encodeURIComponent(b?k.join(","):""),C=w.searchHotWordName||"";(0,o.default)("package://cms_search/result?searchtype=rsc&keywords=".concat(encodeURIComponent(C),"&productTypes=").concat(S))}},changeSearchKeyIndex:function(e){this.setData({searchKeyIndex:e.detail.current||0})},goSearch:function(){var e=this.data,t=e.exData,r=t.pagename,n=void 0===r?"":r,i=t.pageId,c=void 0===i?"":i,s=t.currentPageId,d=void 0===s?"":s,l=e.moduleData,u=e.searchKeyIndex,h=void 0===u?0:u,p=l.id,g=l.moduleId,m=l.moduleName,f=l.content,y=f.searchProductType,v=void 0===y?0:y,x=f.searchProducts,b=void 0===x?[]:x,T=f.searchKeyList,k=void 0===T?[]:T;a.wx.rprm.rec({en:"search_tap",elementid:"search",eventtype:"tap",pageid:c||"",pagename:n,mid:p,module_id:g,module_name:m,inpageid:d});var w=encodeURIComponent(v?b.join(","):""),S=encodeURIComponent(k.length>0&&k[h]||"");(0,o.default)("package://cms_search/index?productTypes=".concat(w,"&placeholder=").concat(S))},searchInput:function(e){var t=e.detail.value||e.target.dataset.key||"";t.length&&(0,o.default)("package://mall_design/goods?search=".concat(t||defaultKye||""))},searchErcode:function(e){var t=this.data,r=t.exData,n=r.pagename,i=void 0===n?"":n,c=r.pageId,s=void 0===c?"":c,d=r.currentPageId,l=void 0===d?"":d,u=t.moduleData,h=u.id,p=u.moduleId,g=u.moduleName,m=u.content,f=m.searchProductType,y=void 0===f?0:f,v=m.searchProducts,x=encodeURIComponent(y?(void 0===v?[]:v).join(","):"");a.wx.rprm.rec({en:"search_tap",elementid:"scan",eventtype:"tap",pageid:s||"",pagename:i,mid:h,module_id:p,module_name:g,inpageid:l}),this.data.$isXhs?a.xhs.scanCode({success:function(e){"scanCode:ok"==e.errMsg?e.result&&e.result.length?(0,o.default)("package://cms_search/result?search=".concat(e.result||"","&searchType=3&productTypes=").concat(x)):a.xhs.showToast({title:"扫码类型错误",icon:"error",duration:2e3}):(a.xhs.showToast({title:"扫码失败",icon:"error",duration:2e3}),a.wx.dialog.tips("扫码失败"))},fail:function(e){}}):this.data.$isQQ?a.qq.scanCode({success:function(e){"scanCode:ok"==e.errMsg?e.result&&e.result.length?(0,o.default)("package://cms_search/result?search=".concat(e.result||"","&searchType=3&productTypes=").concat(x)):a.qq.showToast({title:"扫码类型错误",icon:"error",duration:2e3}):a.qq.showToast({title:"扫码失败",icon:"error",duration:2e3})},fail:function(e){}}):this.data.isKs?a.ks.scanCode({success:function(e){"scanCode:ok"==e.errMsg?e.result&&e.result.length?(0,o.default)("package://cms_search/result?search=".concat(e.result||"","&searchType=3&productTypes=").concat(x)):a.ks.showToast({title:"扫码类型错误",icon:"error",duration:2e3}):a.ks.showToast({title:"扫码失败",icon:"error",duration:2e3})},fail:function(e){}}):a.wx.scanCode({success:function(e){"scanCode:ok"==e.errMsg?e.result&&e.result.length?(0,o.default)("package://cms_search/result?search=".concat(e.result||"","&searchType=3&productTypes=").concat(x)):a.wx.dialog.tips("扫码类型错误"):a.wx.dialog.tips("扫码失败")},fail:function(e){}})},addStickyComToExData:function(){var e=this.data,t=e.moduleId,a=e.moduleData,o=a.moduleName,r=a.id,n=a.content,i=n.showHotWord,c=void 0===i?0:i,s=n.hotWords,d=void 0===s?[]:s,l=a.style,u=l.topMargin,h=l.bottomMargin,p=c&&(null==d?void 0:d.length)>0?90+(u+h)/2:54+(u+h)/2;this.triggerEvent("moduleCallback",{type:"setExData",data:{curStickyCom:{id:r,moduleId:t,height:p,moduleName:o}}})},removeStickyComFromExData:function(){this.triggerEvent("moduleCallback",{type:"setExData",data:{curStickyCom:null}})}}}),global.ec(t);
},{isPage:false,isComponent:true,currentFile:'cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.js'});require("cms_design/RAW/miniprogram_npm/@design-platform/wx-search/index.js");