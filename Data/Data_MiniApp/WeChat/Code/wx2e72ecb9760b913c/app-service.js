var __wxAppData=__wxAppData||{};var __wxAppCode__=__wxAppCode__||{};var global=global||{};var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};var Component=Component||function(){};var definePlugin=definePlugin||function(){};var requirePlugin=requirePlugin||function(){};var Behavior=Behavior||function(){};var __vd_version_info__=__vd_version_info__||{};var __GWX_GLOBAL__=__GWX_GLOBAL__||{};if(this&&this.__g===undefined)Object.defineProperty(this,"__g",{configurable:false,enumerable:false,writable:false,value:function(){function D(e,t){if(typeof t!="undefined")e.children.push(t)}function S(e){if(typeof e!="undefined")return{tag:"virtual",wxKey:e,children:[]};return{tag:"virtual",children:[]}}function v(e){$gwxc++;if($gwxc>=16e3){throw"Dom limit exceeded, please check if there's any mistake you've made."}return{tag:"wx-"+e,attr:{},children:[],n:[],raw:{},generics:{}}}function e(e,t){t&&e.properities.push(t)}function t(e,t,r){return typeof e[r]!="undefined"?e[r]:t[r]}function u(e){console.warn("WXMLRT_"+g+":"+e)}function r(e,t){u(t+":-1:-1:-1: Template `"+e+"` is being called recursively, will be stop.")}var s=console.warn;var n=console.log;function o(){function e(){}e.prototype={hn:function(e,t){if(typeof e=="object"){var r=0;var n=false,o=false;for(var a in e){n=n|a==="__value__";o=o|a==="__wxspec__";r++;if(r>2)break}return r==2&&n&&o&&(t||e.__wxspec__!=="m"||this.hn(e.__value__)==="h")?"h":"n"}return"n"},nh:function(e,t){return{__value__:e,__wxspec__:t?t:true}},rv:function(e){return this.hn(e,true)==="n"?e:this.rv(e.__value__)},hm:function(e){if(typeof e=="object"){var t=0;var r=false,n=false;for(var o in e){r=r|o==="__value__";n=n|o==="__wxspec__";t++;if(t>2)break}return t==2&&r&&n&&(e.__wxspec__==="m"||this.hm(e.__value__))}return false}};return new e}var A=o();function T(e){var t=e.split("\n "+" "+" "+" ");for(var r=0;r<t.length;++r){if(0==r)continue;if(")"===t[r][t[r].length-1])t[r]=t[r].replace(/\s\(.*\)$/,"");else t[r]="at anonymous function"}return t.join("\n "+" "+" "+" ")}function a(M){function m(e,t,r,n,o){var a=false;var i=e[0][1];var p,u,l,f,v,c;switch(i){case"?:":p=x(e[1],t,r,n,o,a);l=M&&A.hn(p)==="h";f=A.rv(p)?x(e[2],t,r,n,o,a):x(e[3],t,r,n,o,a);f=l&&A.hn(f)==="n"?A.nh(f,"c"):f;return f;break;case"&&":p=x(e[1],t,r,n,o,a);l=M&&A.hn(p)==="h";f=A.rv(p)?x(e[2],t,r,n,o,a):A.rv(p);f=l&&A.hn(f)==="n"?A.nh(f,"c"):f;return f;break;case"||":p=x(e[1],t,r,n,o,a);l=M&&A.hn(p)==="h";f=A.rv(p)?A.rv(p):x(e[2],t,r,n,o,a);f=l&&A.hn(f)==="n"?A.nh(f,"c"):f;return f;break;case"+":case"*":case"/":case"%":case"|":case"^":case"&":case"===":case"==":case"!=":case"!==":case">=":case"<=":case">":case"<":case"<<":case">>":p=x(e[1],t,r,n,o,a);u=x(e[2],t,r,n,o,a);l=M&&(A.hn(p)==="h"||A.hn(u)==="h");switch(i){case"+":f=A.rv(p)+A.rv(u);break;case"*":f=A.rv(p)*A.rv(u);break;case"/":f=A.rv(p)/A.rv(u);break;case"%":f=A.rv(p)%A.rv(u);break;case"|":f=A.rv(p)|A.rv(u);break;case"^":f=A.rv(p)^A.rv(u);break;case"&":f=A.rv(p)&A.rv(u);break;case"===":f=A.rv(p)===A.rv(u);break;case"==":f=A.rv(p)==A.rv(u);break;case"!=":f=A.rv(p)!=A.rv(u);break;case"!==":f=A.rv(p)!==A.rv(u);break;case">=":f=A.rv(p)>=A.rv(u);break;case"<=":f=A.rv(p)<=A.rv(u);break;case">":f=A.rv(p)>A.rv(u);break;case"<":f=A.rv(p)<A.rv(u);break;case"<<":f=A.rv(p)<<A.rv(u);break;case">>":f=A.rv(p)>>A.rv(u);break;default:break}return l?A.nh(f,"c"):f;break;case"-":p=e.length===3?x(e[1],t,r,n,o,a):0;u=e.length===3?x(e[2],t,r,n,o,a):x(e[1],t,r,n,o,a);l=M&&(A.hn(p)==="h"||A.hn(u)==="h");f=l?A.rv(p)-A.rv(u):p-u;return l?A.nh(f,"c"):f;break;case"!":p=x(e[1],t,r,n,o,a);l=M&&A.hn(p)=="h";f=!A.rv(p);return l?A.nh(f,"c"):f;case"~":p=x(e[1],t,r,n,o,a);l=M&&A.hn(p)=="h";f=~A.rv(p);return l?A.nh(f,"c"):f;default:s("unrecognized op"+i)}}function x(e,t,r,n,o,a){var i=e[0];var p=false;if(typeof a!=="undefined")o.ap=a;if(typeof i==="object"){var u=i[0];var l,f,v,c,s,y,b,d,h,_,g;switch(u){case 2:return m(e,t,r,n,o);break;case 4:return x(e[1],t,r,n,o,p);break;case 5:switch(e.length){case 2:l=x(e[1],t,r,n,o,p);return M?[l]:[A.rv(l)];return[l];break;case 1:return[];break;default:l=x(e[1],t,r,n,o,p);v=x(e[2],t,r,n,o,p);l.push(M?v:A.rv(v));return l;break}break;case 6:l=x(e[1],t,r,n,o);var w=o.ap;h=A.hn(l)==="h";f=h?A.rv(l):l;o.is_affected|=h;if(M){if(f===null||typeof f==="undefined"){return h?A.nh(undefined,"e"):undefined}v=x(e[2],t,r,n,o,p);_=A.hn(v)==="h";c=_?A.rv(v):v;o.ap=w;o.is_affected|=_;if(c===null||typeof c==="undefined"||c==="__proto__"||c==="prototype"||c==="caller"){return h||_?A.nh(undefined,"e"):undefined}y=f[c];if(typeof y==="function"&&!w)y=undefined;g=A.hn(y)==="h";o.is_affected|=g;return h||_?g?y:A.nh(y,"e"):y}else{if(f===null||typeof f==="undefined"){return undefined}v=x(e[2],t,r,n,o,p);_=A.hn(v)==="h";c=_?A.rv(v):v;o.ap=w;o.is_affected|=_;if(c===null||typeof c==="undefined"||c==="__proto__"||c==="prototype"||c==="caller"){return undefined}y=f[c];if(typeof y==="function"&&!w)y=undefined;g=A.hn(y)==="h";o.is_affected|=g;return g?A.rv(y):y}case 7:switch(e[1][0]){case 11:o.is_affected|=A.hn(n)==="h";return n;case 3:b=A.rv(r);d=A.rv(t);v=e[1][1];if(n&&n.f&&n.f.hasOwnProperty(v)){l=n.f;o.ap=true}else{l=b&&b.hasOwnProperty(v)?r:d&&d.hasOwnProperty(v)?t:undefined}if(M){if(l){h=A.hn(l)==="h";f=h?A.rv(l):l;y=f[v];g=A.hn(y)==="h";o.is_affected|=h||g;y=h&&!g?A.nh(y,"e"):y;return y}}else{if(l){h=A.hn(l)==="h";f=h?A.rv(l):l;y=f[v];g=A.hn(y)==="h";o.is_affected|=h||g;return A.rv(y)}}return undefined}break;case 8:l={};l[e[1]]=x(e[2],t,r,n,o,p);return l;break;case 9:l=x(e[1],t,r,n,o,p);v=x(e[2],t,r,n,o,p);function O(e,t,r){var n,o;h=A.hn(e)==="h";_=A.hn(t)==="h";f=A.rv(e);c=A.rv(t);for(var a in c){if(r||!f.hasOwnProperty(a)){f[a]=M?_?A.nh(c[a],"e"):c[a]:A.rv(c[a])}}return e}var s=l;var j=true;if(typeof e[1][0]==="object"&&e[1][0][0]===10){l=v;v=s;j=false}if(typeof e[1][0]==="object"&&e[1][0][0]===10){var P={};return O(O(P,l,j),v,j)}else return O(l,v,j);break;case 10:l=x(e[1],t,r,n,o,p);l=M?l:A.rv(l);return l;break;case 12:var P;l=x(e[1],t,r,n,o);if(!o.ap){return M&&A.hn(l)==="h"?A.nh(P,"f"):P}var w=o.ap;v=x(e[2],t,r,n,o,p);o.ap=w;h=A.hn(l)==="h";_=N(v);f=A.rv(l);c=A.rv(v);snap_bb=K(c,"nv_");try{P=typeof f==="function"?K(f.apply(null,snap_bb)):undefined}catch(t){t.message=t.message.replace(/nv_/g,"");t.stack=t.stack.substring(0,t.stack.indexOf("\n",t.stack.lastIndexOf("at nv_")));t.stack=t.stack.replace(/\snv_/g," ");t.stack=T(t.stack);if(n.debugInfo){t.stack+="\n "+" "+" "+" at "+n.debugInfo[0]+":"+n.debugInfo[1]+":"+n.debugInfo[2];console.error(t)}P=undefined}return M&&(_||h)?A.nh(P,"f"):P}}else{if(i===3||i===1)return e[1];else if(i===11){var l="";for(var D=1;D<e.length;D++){var S=A.rv(x(e[D],t,r,n,o,p));l+=typeof S==="undefined"?"":S}return l}}}function e(e,t,r,n,o,a){if(e[0]=="11182016"){n.debugInfo=e[2];return x(e[1],t,r,n,o,a)}else{n.debugInfo=null;return x(e,t,r,n,o,a)}}return e}var f=a(true);var c=a(false);function i(e,t,r,n,o,a,i,p){{var u={is_affected:false};var l=f(t,r,n,o,u);if(JSON.stringify(l)!=JSON.stringify(a)||u.is_affected!=p){console.warn("A. "+e+" get result "+JSON.stringify(l)+", "+u.is_affected+", but "+JSON.stringify(a)+", "+p+" is expected")}}{var u={is_affected:false};var l=c(t,r,n,o,u);if(JSON.stringify(l)!=JSON.stringify(i)||u.is_affected!=p){console.warn("B. "+e+" get result "+JSON.stringify(l)+", "+u.is_affected+", but "+JSON.stringify(i)+", "+p+" is expected")}}}function y(e,t,r,n,o,a,i,p,u){var l=A.hn(e)==="n";var f=A.rv(n);var v=f.hasOwnProperty(i);var c=f.hasOwnProperty(p);var s=f[i];var y=f[p];var b=Object.prototype.toString.call(A.rv(e));var d=b[8];if(d==="N"&&b[10]==="l")d="X";var h;if(l){if(d==="A"){var _;for(var g=0;g<e.length;g++){f[i]=e[g];f[p]=l?g:A.nh(g,"h");_=A.rv(e[g]);var w=u&&_?u==="*this"?_:A.rv(_[u]):undefined;h=S(w);D(a,h);t(r,f,h,o)}}else if(d==="O"){var g=0;var _;for(var O in e){f[i]=e[O];f[p]=l?O:A.nh(O,"h");_=A.rv(e[O]);var w=u&&_?u==="*this"?_:A.rv(_[u]):undefined;h=S(w);D(a,h);t(r,f,h,o);g++}}else if(d==="S"){for(var g=0;g<e.length;g++){f[i]=e[g];f[p]=l?g:A.nh(g,"h");h=S(e[g]+g);D(a,h);t(r,f,h,o)}}else if(d==="N"){for(var g=0;g<e;g++){f[i]=g;f[p]=l?g:A.nh(g,"h");h=S(g);D(a,h);t(r,f,h,o)}}else{}}else{var j=A.rv(e);var _,P;if(d==="A"){for(var g=0;g<j.length;g++){P=j[g];P=A.hn(P)==="n"?A.nh(P,"h"):P;_=A.rv(P);f[i]=P;f[p]=l?g:A.nh(g,"h");var w=u&&_?u==="*this"?_:A.rv(_[u]):undefined;h=S(w);D(a,h);t(r,f,h,o)}}else if(d==="O"){var g=0;for(var O in j){P=j[O];P=A.hn(P)==="n"?A.nh(P,"h"):P;_=A.rv(P);f[i]=P;f[p]=l?O:A.nh(O,"h");var w=u&&_?u==="*this"?_:A.rv(_[u]):undefined;h=S(w);D(a,h);t(r,f,h,o);g++}}else if(d==="S"){for(var g=0;g<j.length;g++){P=A.nh(j[g],"h");f[i]=P;f[p]=l?g:A.nh(g,"h");h=S(e[g]+g);D(a,h);t(r,f,h,o)}}else if(d==="N"){for(var g=0;g<j;g++){P=A.nh(g,"h");f[i]=P;f[p]=l?g:A.nh(g,"h");h=S(g);D(a,h);t(r,f,h,o)}}else{}}if(v){f[i]=s}else{delete f[i]}if(c){f[p]=y}else{delete f[p]}}function N(e){if(A.hn(e)=="h")return true;if(typeof e!=="object")return false;for(var t in e){if(e.hasOwnProperty(t)){if(N(e[t]))return true}}return false}function b(e,t,r,n,o){var a=false;var i=K(n,"",2);if(o.ap&&i&&i.constructor===Function){t="$wxs:"+t;e.attr["$gdc"]=K}if(o.is_affected||N(n)){e.n.push(t);e.raw[t]=n}e.attr[t]=i}function d(e,t,r,n,o,a){a.opindex=r;var i={},p;var u=c(z[r],n,o,a,i);b(e,t,r,u,i)}function h(e,t,r,n,o,a,i){i.opindex=n;var p={},u;var l=c(e[n],o,a,i,p);b(t,r,n,l,p)}function p(e,t,r,n){n.opindex=e;var o={};var a=c(z[e],t,r,n,o);return a&&a.constructor===Function?undefined:a}function l(e,t,r,n,o){o.opindex=t;var a={};var i=c(e[t],r,n,o,a);return i&&i.constructor===Function?undefined:i}function _(e,t,r,n,o){var o=o||{};n.opindex=e;return f(z[e],t,r,n,o)}function w(e,t,r,n,o,a){var a=a||{};o.opindex=t;return f(e[t],r,n,o,a)}function O(e,t,r,n,o,a,i,p,u){var l={};var f=_(e,r,n,o);y(f,t,r,n,o,a,i,p,u)}function j(e,t,r,n,o,a,i,p,u,l){var f={};var v=w(e,t,n,o,a);y(v,r,n,o,a,i,p,u,l)}function P(e,t,r,n,o,a){var i=v(e);var p=0;for(var u=0;u<t.length;u+=2){if(p+t[u+1]<0){i.attr[t[u]]=true}else{d(i,t[u],p+t[u+1],n,o,a);if(p===0)p=t[u+1]}}for(var u=0;u<r.length;u+=2){if(p+r[u+1]<0){i.generics[r[u]]=""}else{var l=c(z[p+r[u+1]],n,o,a);if(l!="")l="wx-"+l;i.generics[r[u]]=l;if(p===0)p=r[u+1]}}return i}function M(e,t,r,n,o,a,i){var p=v(t);var u=0;for(var l=0;l<r.length;l+=2){if(u+r[l+1]<0){p.attr[r[l]]=true}else{h(e,p,r[l],u+r[l+1],o,a,i);if(u===0)u=r[l+1]}}for(var l=0;l<n.length;l+=2){if(u+n[l+1]<0){p.generics[n[l]]=""}else{var f=c(e[u+n[l+1]],o,a,i);if(f!="")f="wx-"+f;p.generics[n[l]]=f;if(u===0)u=n[l+1]}}return p}var m=function(){if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){x();C();k();U();I();L();E();R();F()}if(typeof __WXML_GLOBAL__!=="undefined")__WXML_GLOBAL__.wxs_nf_init=true};var x=function(){Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"});Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return"[object Object]"}})};var C=function(){Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"});Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length},set:function(){}});Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return"[function Function]"}})};var k=function(){Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join()}});Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(e){e=undefined==e?",":e;var t="";for(var r=0;r<this.length;++r){if(0!=r)t+=e;if(null==this[r]||undefined==this[r])t+="";else if(typeof this[r]=="function")t+=this[r].nv_toString();else if(typeof this[r]=="object"&&this[r].nv_constructor==="Array")t+=this[r].nv_join();else t+=this[r].toString()}return t}});Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"});Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat});Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop});Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push});Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse});Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift});Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice});Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort});Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice});Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift});Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf});Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf});Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every});Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some});Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach});Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map});Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter});Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce});Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight});Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length},set:function(e){this.length=e}})};var U=function(){Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"});Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString});Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf});Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt});Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt});Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat});Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf});Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf});Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare});Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match});Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace});Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search});Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice});Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split});Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring});Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase});Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase});Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase});Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase});Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim});Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length},set:function(e){this.length=e}})};var I=function(){Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"});Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString});Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})};var L=function(){Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE});Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE});Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY});Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY});Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"});Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString});Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString});Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf});Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed});Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential});Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})};var E=function(){Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E});Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10});Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2});Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E});Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E});Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI});Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2});Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2});Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs});Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos});Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin});Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan});Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2});Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil});Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos});Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp});Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor});Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log});Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max});Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min});Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow});Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random});Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round});Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin});Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt});Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})};var R=function(){Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"});Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse});Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC});Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now});Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString});Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString});Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString});Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString});Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString});Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString});Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf});Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime});Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear});Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear});Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth});Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth});Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate});Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate});Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay});Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay});Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours});Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours});Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes});Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes});Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds});Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds});Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds});Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds});Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset});Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime});Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds});Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds});Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds});Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds});Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes});Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes});Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours});Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours});Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate});Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate});Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth});Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth});Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear});Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear});Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString});Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString});Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})};var F=function(){Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"});Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec});Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test});Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString});Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source},set:function(){}});Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global},set:function(){}});Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase},set:function(){}});Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline},set:function(){}});Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex},set:function(e){this.lastIndex=e}})};m();var J=function(){var e=Array.prototype.slice.call(arguments);e.unshift(Date);return new(Function.prototype.bind.apply(Date,e))};var B=function(){var e=Array.prototype.slice.call(arguments);e.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp,e))};var Y={};Y.nv_log=function(){var e="WXSRT:";for(var t=0;t<arguments.length;++t)e+=arguments[t]+" ";console.log(e)};var G=parseInt,X=parseFloat,H=isNaN,V=isFinite,$=decodeURI,W=decodeURIComponent,Q=encodeURI,q=encodeURIComponent;function K(e,t,r){e=A.rv(e);if(e===null||e===undefined)return e;if(typeof e==="string"||typeof e==="boolean"||typeof e==="number")return e;if(e.constructor===Object){var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(undefined===t)n[o.substring(3)]=K(e[o],t,r);else n[t+o]=K(e[o],t,r);return n}if(e.constructor===Array){var n=[];for(var a=0;a<e.length;a++)n.push(K(e[a],t,r));return n}if(e.constructor===Date){var n=new Date;n.setTime(e.getTime());return n}if(e.constructor===RegExp){var i="";if(e.global)i+="g";if(e.ignoreCase)i+="i";if(e.multiline)i+="m";return new RegExp(e.source,i)}if(r&&typeof e==="function"){if(r==1)return K(e(),undefined,2);if(r==2)return e}return null}var Z={};Z.nv_stringify=function(e){JSON.stringify(e);return JSON.stringify(K(e))};Z.nv_parse=function(e){if(e===undefined)return undefined;var t=JSON.parse(e);return K(t,"nv_")};function ee(e,t,r,n){e.extraAttr={t_action:t,t_rawid:r};if(typeof n!="undefined")e.extraAttr.t_cid=n}function te(){if(typeof __globalThis.__webview_engine_version__=="undefined")return 0;return __globalThis.__webview_engine_version__}function re(e,t,r,n,o,a){var i=ne(t,r,n);if(i)e.push(i);else{e.push("");u(n+":import:"+o+":"+a+": Path `"+t+"` not found from `"+n+"`.")}}function ne(e,t,r){if(e[0]!="/"){var n=r.split("/");n.pop();var o=e.split("/");for(var a=0;a<o.length;a++){if(o[a]=="..")n.pop();else if(!o[a]||o[a]==".")continue;else n.push(o[a])}e=n.join("/")}if(r[0]=="."&&e[0]=="/")e="."+e;if(t[e])return e;if(t[e+".wxml"])return e+".wxml"}function oe(e,t,r,n){if(!t)return;if(n[e][t])return n[e][t];for(var o=r[e].i.length-1;o>=0;o--){if(r[e].i[o]&&n[r[e].i[o]][t])return n[r[e].i[o]][t]}for(var o=r[e].ti.length-1;o>=0;o--){var a=ne(r[e].ti[o],r,e);if(a&&n[a][t])return n[a][t]}var i=ae(r,e);for(var o=0;o<i.length;o++){if(i[o]&&n[i[o]][t])return n[i[o]][t]}for(var p=r[e].j.length-1;p>=0;p--)if(r[e].j[p]){for(var a=r[r[e].j[p]].ti.length-1;a>=0;a--){var u=ne(r[r[e].j[p]].ti[a],r,e);if(u&&n[u][t]){return n[u][t]}}}}function ae(e,t){if(!t)return[];if($gaic[t]){return $gaic[t]}var r=[],n=[],o=0,a=0,i={},p={};n.push(t);p[t]=true;a++;while(o<a){var u=n[o++];for(var l=0;l<e[u].ic.length;l++){var f=e[u].ic[l];var v=ne(f,e,u);if(v&&!p[v]){p[v]=true;n.push(v);a++}}for(var l=0;u!=t&&l<e[u].ti.length;l++){var c=e[u].ti[l];var s=ne(c,e,u);if(s&&!i[s]){i[s]=true;r.push(s)}}}$gaic[t]=r;return r}var ie={};function pe(e,t,r,n,o,a,i){var p=ne(e,t,r);t[r].j.push(p);if(p){if(ie[p]){u("-1:include:-1:-1: `"+e+"` is being included in a loop, will be stop.");return}ie[p]=true;try{t[p].f(n,o,a,i)}catch(n){}ie[p]=false}else{u(r+":include:-1:-1: Included path `"+e+"` not found from `"+r+"`.")}}function ue(e,t,r,n){u(t+":template:"+r+":"+n+": Template `"+e+"` not found.")}function le(e){var t=false;delete e.properities;delete e.n;if(e.children){do{t=false;var r=[];for(var n=0;n<e.children.length;n++){var o=e.children[n];if(o.tag=="virtual"){t=true;for(var a=0;o.children&&a<o.children.length;a++){r.push(o.children[a])}}else{r.push(o)}}e.children=r}while(t);for(var n=0;n<e.children.length;n++){le(e.children[n])}}return e}function fe(e){if(e.tag=="wx-wx-scope"){e.tag="virtual";e.wxCkey="11";e["wxScopeData"]=e.attr["wx:scope-data"];delete e.n;delete e.raw;delete e.generics;delete e.attr}for(var t=0;e.children&&t<e.children.length;t++){fe(e.children[t])}return e}return{a:D,b:S,c:v,d:e,e:t,f:u,g:r,h:s,i:n,j:o,k:A,l:T,m:a,n:f,o:c,p:i,q:y,r:N,s:b,t:d,u:h,v:p,w:l,x:_,y:w,z:O,A:j,B:P,C:M,D:J,E:B,F:Y,G:G,H:X,I:H,J:V,K:$,L:W,M:Q,N:q,O:K,P:Z,Q:ee,R:te,S:re,T:ne,U:oe,V:ae,W:ie,X:pe,Y:ue,Z:le,aa:fe}}()});Object.freeze(__g);g="";	__wxAppCode__['components/ad-bar/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/appointment-doctor-header/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/bottom-next-step-button/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/choose-coupon/index.json'] = {"component":true,"usingComponents":{"coupon-item":"../coupon-item/index"}};
		__wxAppCode__['components/clinic-selector/clinic-selector.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/coupon-item/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-account-combine/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-audio/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-authorize-login/index.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../cy-userinfo/index"}};
		__wxAppCode__['components/cy-authorize/index.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../cy-userinfo/index"}};
		__wxAppCode__['components/cy-dialog/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-gc-bindphone/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-loading/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-modal/cy-modal.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-navigator/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-search/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-tab/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-tabbar-card/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-talk/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-top-tip/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-up2top/index.json'] = {"component":true,"usingComponents":{},"externalClasses":["position"]};
		__wxAppCode__['components/cy-userinfo/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy-vip/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/cy_user_phone/cy_user_phone.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/detail-page-footer/index.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['components/detail-recommend-list/index.json'] = {"component":true,"usingComponents":{"single-topic":"../single-topic/index"}};
		__wxAppCode__['components/doctor-avatar/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/doctor-card/index.json'] = {"component":true,"usingComponents":{"doctor-avatar":"../doctor-avatar/index"}};
		__wxAppCode__['components/doctor-header-detail-page/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/doctor-mainpage-topic/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/doctor-service-card/index.json'] = {"component":true,"usingComponents":{"doctor-avatar":"../doctor-avatar/index"}};
		__wxAppCode__['components/empty/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/first-page-topic-list-new/index.json'] = {"component":true,"usingComponents":{"single-topic":"../single-topic/index","cy-loading":"../cy-loading/index"}};
		__wxAppCode__['components/follow-doc-button-detail-page/index.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../cy-userinfo/index"}};
		__wxAppCode__['components/follow-doc-button/index.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../cy-userinfo/index"}};
		__wxAppCode__['components/intellect-diagnose/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/new_user_welfare_bar/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/nps-card/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/phone_input/phone_input.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/psychological-counseling-banner/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['components/single-topic/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['miniprogram_npm/mp-html/index.json'] = {"component":true,"usingComponents":{"node":"./node/node"}};
		__wxAppCode__['miniprogram_npm/mp-html/node/node.json'] = {"component":true,"usingComponents":{"node":"./node"}};
		__wxAppCode__['pages/all_service/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"全部服务","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","cy-top-tip":"../../components/cy-top-tip/index","cy-navigator":"../../components/cy-navigator/index","cy-modal":"../../components/cy-modal/cy-modal","cy-user-phone":"../../components/cy_user_phone/cy_user_phone"}};
		__wxAppCode__['pages/apply_money/index.json'] = {"navigationBarTitleText":"提现","usingComponents":{}};
		__wxAppCode__['pages/appointment_doctor_detail/components/cancel-reason/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/appointment_doctor_detail/index.json'] = {"navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"appointment-doctor-header":"../../components/appointment-doctor-header/index","cancel-reason":"./components/cancel-reason/index"}};
		__wxAppCode__['pages/appointment_doctor_order/components/make-notice/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/appointment_doctor_order/index.json'] = {"navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","appointment-doctor-header":"../../components/appointment-doctor-header/index","make-notice":"./components/make-notice/index"}};
		__wxAppCode__['pages/article/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"健康资讯","navigationBarTextStyle":"black","usingComponents":{"mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/assess_send/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/audio_details/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"音频详情","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/authorize_page/index.json'] = {"navigationBarTitleText":"引导授权页","usingComponents":{"cy-authorize":"../../components/cy-authorize/index"}};
		__wxAppCode__['pages/baobei_payment/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","navigationBarTitleText":"订单","usingComponents":{"cy-loading":"../../components/cy-loading/index"}};
		__wxAppCode__['pages/big_wheel/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"春雨医生抽奖活动","navigationBarTextStyle":"black","usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal"}};
		__wxAppCode__['pages/bill_detail/index.json'] = {"navigationBarTitleText":"账单详情","usingComponents":{}};
		__wxAppCode__['pages/change_phone_num/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"更改手机","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/cold_test/index.json'] = {"navigationBarTitleText":"测试抗冻指数","usingComponents":{}};
		__wxAppCode__['pages/collect_heart_help/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"送爱心 帮我免单","navigationBarTextStyle":"black","enablePullDownRefresh":true,"usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal","cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/collect_heart_qa/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"集爱心活动","navigationBarTextStyle":"black","usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal"}};
		__wxAppCode__['pages/consult_record/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"相似问题","navigationBarTextStyle":"black","usingComponents":{"cy-navigator":"../../components/cy-navigator/index","cy-loading":"../../components/cy-loading/index","mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/contact_page/contact_page.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/coupon_convert/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"兑换优惠码","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/coupon_convert_home/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/device_use/components/step/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/device_use/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"设备使用","navigationBarTextStyle":"black","usingComponents":{"step":"./components/step/index","cy_modal":"../../components/cy-modal/cy-modal"}};
		__wxAppCode__['pages/dicom_view/dicom_view.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医学影像文件查看","navigationBarTextStyle":"black","styleIsolation":"apply-shared","usingComponents":{}};
		__wxAppCode__['pages/doc_assess_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"患者评价","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/doc_card/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"医生名片","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/doc_detail/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医生详情","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/doc_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医生列表","navigationBarTextStyle":"black","usingComponents":{"cy-search":"../../components/cy-search/index","cy-navigator":"../../components/cy-navigator/index","cy-loading":"../../components/cy-loading/index","cy-up2top":"../../components/cy-up2top/index"}};
		__wxAppCode__['pages/doc_mainpage/components/identify-info-tip/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/doc_mainpage/components/live-info/live-info.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../../../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/doc_mainpage/components/tip-dialog/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/doc_mainpage/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal","cy-navigator":"../../components/cy-navigator/index","cy-userinfo":"../../components/cy-userinfo/index","doctor-topic":"../../components/doctor-mainpage-topic/index","doctor-avatar":"../../components/doctor-avatar/index","identify-info-tip":"./components/identify-info-tip/index","tip-dialog":"./components/tip-dialog/index","live-info":"./components/live-info/live-info"}};
		__wxAppCode__['pages/doc_topic/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"医生话题","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/doctor_history_list/doctor_history_list.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"历史咨询","navigationBarTextStyle":"black","disableScroll":true,"usingComponents":{}};
		__wxAppCode__['pages/doctor_topic_general_page/doctor_topic_general_page.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"ad-bar":"../../components/ad-bar/index","doctor-recommend-list":"../../components/detail-recommend-list/index","new-user-welfare-bar":"../../components/new_user_welfare_bar/index","page-footer":"../../components/detail-page-footer/index","follow-doc-button-detail-page":"../../components/follow-doc-button-detail-page/index","doctor-header-detail-page":"../../components/doctor-header-detail-page/index","mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/doctor_topic_list/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"专家科普","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/emergency/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"图文急诊","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/enterprise_function/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/facility-abutment-login/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"登录","navigationBarTextStyle":"black","backgroundColor":"#ffffff","navigationBarBackgroundColor":"#ffffff","usingComponents":{}};
		__wxAppCode__['pages/fast_phone/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"快捷电话","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/fast_phone_detail/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/fast_qa/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"描述病情","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/find_doctor/components/doctor-list/index.json'] = {"component":true,"usingComponents":{"doctor-card":"../../../../components/doctor-card/index"}};
		__wxAppCode__['pages/find_doctor/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"找医生","navigationBarTextStyle":"black","usingComponents":{"intellect-diagnose":"../../components/intellect-diagnose/index","doctor-list":"./components/doctor-list/index","empty":"../../components/empty/index"}};
		__wxAppCode__['pages/find_doctor_list/components/doctor_search/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/find_doctor_list/components/filter/filter.json'] = {"component":true,"usingComponents":{},"disableScroll":true};
		__wxAppCode__['pages/find_doctor_list/components/polymerization_card/index.json'] = {"component":true,"usingComponents":{"doctor-card":"/components/doctor-card/index"}};
		__wxAppCode__['pages/find_doctor_list/components/ranking_list_card/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/find_doctor_list/components/try_search/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/find_doctor_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"找医生","navigationBarTextStyle":"black","usingComponents":{"doctor-search":"./components/doctor_search/index","cy-search":"/components/cy-search/index","doctor-card":"/components/doctor-card/index","intellect-diagnose":"../../components/intellect-diagnose/index","try-search":"./components/try_search/index","doctor-filter":"./components/filter/filter","polymerization-card":"./components/polymerization_card/index","psychological-counseling-banner":"../../components/psychological-counseling-banner/index","empty":"../../components/empty/index","ranking-list-card":"./components/ranking_list_card/index","nps-card":"../../components/nps-card/index"}};
		__wxAppCode__['pages/free_clinic_webview/index.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/give_qa/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"white","navigationBarBackgroundColor":"#ff9b4d","usingComponents":{}};
		__wxAppCode__['pages/give_qa_detail/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"white","navigationBarBackgroundColor":"#ff9338","usingComponents":{}};
		__wxAppCode__['pages/give_qa_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"white","navigationBarBackgroundColor":"#ff9b4d","usingComponents":{}};
		__wxAppCode__['pages/give_qa_quiz/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"white","navigationBarBackgroundColor":"#ff9338","usingComponents":{}};
		__wxAppCode__['pages/glu_list/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"血糖数据","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/glu_upload/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"血糖","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_activate/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨医生绿金卡会员","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_activate_success/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨医生绿金卡会员","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_bind/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"会员验证失败","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_consultant/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"专属健康顾问","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_gg_ehr/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨绿金卡会员","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_lightly/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"登录","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_pay_result/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨医生绿卡会员","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_protocal/green_vip_protocal.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"免责说明","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_redirect_mini/green_vip_redirect_mini.json'] = {"disableScroll":true,"usingComponents":{}};
		__wxAppCode__['pages/green_vip_report/index.json'] = {"navigationBarTitleText":"查看健康报告","usingComponents":{}};
		__wxAppCode__['pages/green_vip_rights/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"会员特权","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_service/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨医生会员服务","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/green_vip_story/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨绿卡VIP","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/h5_service/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"确认订单","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/h5_service_qa/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/h5_webview/index.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/health_center/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"服务首页","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_center_active/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"激活问诊码","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_center_login/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"用户登录","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/health_center_result/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"激活问诊码","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_home/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"健康+","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_plan_subscribe/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_record/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"选择档案","navigationBarTextStyle":"black","usingComponents":{"bottom-button":"../../components/bottom-next-step-button/index"}};
		__wxAppCode__['pages/health_record_add/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"添加新档案","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_record_authorize/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"授权健康档案","navigationBarTextStyle":"black","usingComponents":{"cy-authorize":"../../components/cy-authorize/index"}};
		__wxAppCode__['pages/health_record_certification/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"选择健康档案","navigationBarTextStyle":"black","usingComponents":{"bottom-button":"../../components/bottom-next-step-button/index"}};
		__wxAppCode__['pages/health_record_certification_edit/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"添加新档案","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_record_edit/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"编辑档案","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/health_record_full/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"健康档案列表","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/home_search/doctor_search/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/home_search/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"搜索","navigationBarTextStyle":"black","usingComponents":{"cy-search":"../../components/cy-search/index","cy-loading":"../../components/cy-loading/index","doctor-search":"./doctor_search/index"}};
		__wxAppCode__['pages/hospital_info/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医院主页","navigationBarTextStyle":"black","usingComponents":{"cy-authorize":"../../components/cy-authorize/index"}};
		__wxAppCode__['pages/hospital_intro/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医院介绍","navigationBarTextStyle":"black","usingComponents":{"cy-authorize":"../../components/cy-authorize/index"}};
		__wxAppCode__['pages/hospital_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"找医院","navigationBarTextStyle":"black","usingComponents":{"cy-search":"../../components/cy-search/index","cy-authorize":"../../components/cy-authorize/index","cy-loading":"../../components/cy-loading/index","cy-up2top":"../../components/cy-up2top/index"}};
		__wxAppCode__['pages/ihmp_payment/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"确认订单","navigationBarTextStyle":"black","usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/index/components/home_page_topic_list/home_page_topic_list.json'] = {"component":true,"usingComponents":{"topic-list":"../../../../components/first-page-topic-list-new/index","cy-tab":"../../../../components/cy-tab/index"}};
		__wxAppCode__['pages/index/components/image_mask/image_mask.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/index/components/toast_bubble/toast_bubble.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/index/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"春雨医生","navigationBarTextStyle":"black","backgroundColor":"#ffffff","navigationBarBackgroundColor":"#ffffff","enablePullDownRefresh":true,"usingComponents":{"news-list":"./components/home_page_topic_list/home_page_topic_list","toast-bubble":"./components/toast_bubble/toast_bubble","image-mask":"./components/image_mask/image_mask","tabbar-bubble":"../../components/cy-tabbar-card/index","cy-user-phone":"../../components/cy_user_phone/cy_user_phone","doctor-avatar":"../../components/doctor-avatar/index"}};
		__wxAppCode__['pages/inquery/components/archive_selection/archive_selection.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/bind_phone_number/bind_phone_number.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/coupon_dialog/coupon_dialog.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/doctor_card/doctor_card.json'] = {"component":true,"usingComponents":{"doctor-avatar":"../../../../components/doctor-avatar/index"}};
		__wxAppCode__['pages/inquery/components/header/header.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/history_selector/history_selector.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/image_selection/image_selection.json'] = {"component":true,"usingComponents":{"cy-userinfo":"../../../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/inquery/components/more_recommend_doctor/more_recommend_doctor.json'] = {"component":true,"usingComponents":{"doctor-service-card":"../../../../components/doctor-service-card/index"}};
		__wxAppCode__['pages/inquery/components/phone_input/phone_input.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/service_card/service_card.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/single_message/single_message.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/inquery/components/system_info/system_info.json'] = {"component":true,"usingComponents":{"mp-html":"../../../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/inquery/inquery.json'] = {"usingComponents":{"single-message":"./components/single_message/single_message","system-info":"./components/system_info/system_info","image-selection":"./components/image_selection/image_selection","archive-selection":"./components/archive_selection/archive_selection","basic-recommend-doctor":"./components/basic_recommend_doctor/basic_recommend_doctor","more-recommend-doctor":"./components/more_recommend_doctor/more_recommend_doctor","clinic-selector":"../../components/clinic-selector/clinic-selector","cy-userinfo":"../../components/cy-userinfo/index","phone-input":"./components/phone_input/phone_input","coupon-dialog":"./components/coupon_dialog/coupon_dialog","service-card":"./components/service_card/service_card","history-selector":"./components/history_selector/history_selector","doctor-card":"./components/doctor_card/doctor_card","header":"./components/header/header","bind-phone":"./components/bind_phone_number/bind_phone_number"},"backgroundColor":"#F2F5F7","disableScroll":true,"navigationBarTitleText":"描述病情"};
		__wxAppCode__['pages/inquery_phone_error/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"视频问诊","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/inquiry_subscribe/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"消息订阅","navigationBarTextStyle":"black","usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/live_appointment/index.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/live_official_account/live_official_account.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"春雨医生","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/mall/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"商城","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/my_account/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"余额","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/my_coupon/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"我的优惠券","navigationBarTextStyle":"black","usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal","coupon-item":"../../components/coupon-item/index"}};
		__wxAppCode__['pages/my_doctors_new/my_doctors_new.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"我的医生","navigationBarTextStyle":"black","usingComponents":{"single-doctor":"./single_doctor/single_doctor"},"disableScroll":true};
		__wxAppCode__['pages/my_doctors_new/single_doctor/single_doctor.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/new_user_welfare/index.json'] = {"usingComponents":{"cy-dialog":"../../components/cy-dialog/index"}};
		__wxAppCode__['pages/news_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"健康热点","navigationBarTextStyle":"black","usingComponents":{"cy-navigator":"../../components/cy-navigator/index","cy-loading":"../../components/cy-loading/index"}};
		__wxAppCode__['pages/open_mini_program/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"加载中","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/out_call_message/components/make-notice/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/out_call_message/index.json'] = {"navigationBarTitleText":"出诊时间地点","usingComponents":{"make-notice":"./components/make-notice/index"}};
		__wxAppCode__['pages/pay_success/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"支付成功","navigationBarTextStyle":"black","backgroundColor":"#eeeeee","usingComponents":{}};
		__wxAppCode__['pages/pay_success_new/pay_success.json'] = {"navigationBarTitleText":"购买成功","usingComponents":{}};
		__wxAppCode__['pages/payment/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"订单支付","navigationBarTextStyle":"black","usingComponents":{"choose-coupon":"../../components/choose-coupon/index","cy-vip":"../../components/cy-vip/index","cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/payment_list/index.json'] = {"navigationBarTitleText":"明细","usingComponents":{}};
		__wxAppCode__['pages/physique_list/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"体重数据","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/physique_upload/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"体重","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/pressure_list/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"血压数据","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/pressure_upload/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"血压","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/preview_reply/preview_reply.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/psychological_counseling_payment/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","navigationBarTitleText":"订单","usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/qa_im/components/additional_action_block/additional_action_block.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/append_clinic/append_clinic.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/assess/assess.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/audio/audio.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/feedback_card/feedback_card.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/feedback_detail/feedback_detail.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/link_notice_user/link_notice_user.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/message_operation/index.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/multiple_ask/multiple_ask.json'] = {"component":true,"usingComponents":{"doctor-service-card":"../../../../components/doctor-service-card/index","phone-input":"../../../../components/phone_input/phone_input"}};
		__wxAppCode__['pages/qa_im/components/qa_button_group/qa_button_group.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/recommend_doctor/recommend_doctor.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/recommend_section/recommend_section.json'] = {"component":true,"usingComponents":{"recommend-doctor":"../recommend_doctor/recommend_doctor"}};
		__wxAppCode__['pages/qa_im/components/replied_message_container/replied_message_container.json'] = {"component":true,"usingComponents":{}};
		__wxAppCode__['pages/qa_im/components/seo_title_doctor/seo_title_doctor.json'] = {"component":true,"usingComponents":{"follow-doc-button":"../../../../components/follow-doc-button/index"}};
		__wxAppCode__['pages/qa_im/components/title_doctor/title_doctor.json'] = {"component":true,"usingComponents":{"follow-doc-button":"../../../../components/follow-doc-button/index"}};
		__wxAppCode__['pages/qa_im/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","backgroundColor":"#F2F5F7","disableScroll":true,"usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","clinic-selector":"../../components/clinic-selector/clinic-selector","message-operation":"./components/message_operation/index","additional-action-block":"./components/additional_action_block/additional_action_block","link-notice-user":"./components/link_notice_user/link_notice_user","new-user-welfare-bar":"../../components/new_user_welfare_bar/index","qa-button-group":"./components/qa_button_group/qa_button_group","assess":"./components/assess/assess","title-doctor":"./components/title_doctor/title_doctor","seo-title-doctor":"./components/seo_title_doctor/seo_title_doctor","multiple-ask":"./components/multiple_ask/multiple_ask","replied-message":"./components/replied_message_container/replied_message_container","mp-html":"../../miniprogram_npm/mp-html/index","audio-message":"./components/audio/audio","feedback-card":"./components/feedback_card/feedback_card","feedback-detail":"./components/feedback_detail/feedback_detail","append-clinic":"./components/append_clinic/append_clinic","recommend-section":"./components/recommend_section/recommend_section"}};
		__wxAppCode__['pages/qa_im_infinite/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/questions_details/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"问答详情","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/re_refund/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"退款成功","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/re_select_doc/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"重选医生","navigationBarTextStyle":"black","usingComponents":{"doctor-service-card":"../../../components/doctor-service-card/index"}};
		__wxAppCode__['pages/rec_doc_list/index.json'] = {"navigationBarTitleText":"选医生","usingComponents":{"bottom-button":"../../components/bottom-next-step-button/index"}};
		__wxAppCode__['pages/reserve_consult/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","navigationBarTitleText":"专家预约","usingComponents":{"mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/reward_invite/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"black","navigationBarTitleText":"邀请有奖","usingComponents":{}};
		__wxAppCode__['pages/reward_mark/index.json'] = {"backgroundTextStyle":"light","navigationBarTextStyle":"black","navigationBarTitleText":"奖励说明","usingComponents":{"cy-navigator":"../../components/cy-navigator/index"}};
		__wxAppCode__['pages/rookie_task_finish/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"新手任务","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/rookie_task_first/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"新手任务","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/rookie_task_talk/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"新手引导","navigationBarTextStyle":"black","usingComponents":{"cy-talk":"../../components/cy-talk/index"}};
		__wxAppCode__['pages/rookie_task_third/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"新手任务","navigationBarTextStyle":"black","usingComponents":{"cy-modal":"../../components/cy-modal/cy-modal"}};
		__wxAppCode__['pages/sel_doc/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"选医生","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/send_heart/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"送心意","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/send_heart_ok/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"送心意完成","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/service_order/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"服务订单","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index"}};
		__wxAppCode__['pages/service_update/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"服务升级","navigationBarTextStyle":"black","usingComponents":{"cy-vip":"../../components/cy-vip/index"}};
		__wxAppCode__['pages/special/index.json'] = {"backgroundTextStyle":"dark","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","cell":"plugin://wxaae6519cee98d824/cell"}};
		__wxAppCode__['pages/summary/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"医生总结","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/tel_inquiry/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"电话咨询","navigationBarTextStyle":"black","usingComponents":{"mp-html":"../../miniprogram_npm/mp-html/index"}};
		__wxAppCode__['pages/tel_inquiry_calling_page/index.json'] = {"usingComponents":{}};
		__wxAppCode__['pages/tel_inquiry_detail/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"","navigationBarTextStyle":"black","enablePullDownRefresh":true,"usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index","cy-account-combine":"../../components/cy-account-combine/index","cy-audio":"../../components/cy-audio/index","mp-html":"../../miniprogram_npm/mp-html/index","feedback-detail":"../qa_im/components/feedback_detail/feedback_detail"}};
		__wxAppCode__['pages/tel_inquiry_pay_success/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"购买成功","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/tel_inquiry_status/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"电话咨询","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/topic_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"专家科普","navigationBarTextStyle":"black","usingComponents":{"cy-navigator":"../../components/cy-navigator/index","cy-loading":"../../components/cy-loading/index"}};
		__wxAppCode__['pages/user_center/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"个人中心","navigationBarTextStyle":"black","usingComponents":{"cy-userinfo":"../../components/cy-userinfo/index","cy-top-tip":"../../components/cy-top-tip/index","cy-modal":"../../components/cy-modal/cy-modal"}};
		__wxAppCode__['pages/video_play/index.json'] = {"navigationBarTitleText":"视频播放","usingComponents":{}};
		__wxAppCode__['pages/vip_doctor_list/index.json'] = {"backgroundTextStyle":"dark","navigationBarTitleText":"名院专家","navigationBarTextStyle":"black","usingComponents":{}};
		__wxAppCode__['pages/vip_hospital_list/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"名院专家","navigationBarTextStyle":"black","usingComponents":{"cy-up2top":"../../components/cy-up2top/index"}};
		__wxAppCode__['pages/vip_pay/index.json'] = {"usingComponents":{"cy-authorize-login":"../../components/cy-authorize-login/index"}};
		__wxAppCode__['pages/vip_webview/index.json'] = {"usingComponents":{}};
	;var __WXML_DEP__=__WXML_DEP__||{};var __wxAppData=__wxAppData||{};var __wxRoute=__wxRoute||"";var __wxRouteBegin=__wxRouteBegin||"";var __wxAppCode__=__wxAppCode__||{};var global=global||{};var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};var __wxAppCurrentFile__=__wxAppCurrentFile__||"";var Component=Component||function(){};var definePlugin=definePlugin||function(){};var requirePlugin=requirePlugin||function(){};var Behavior=Behavior||function(){};var __vd_version_info__=__vd_version_info__||{};var __GWX_GLOBAL__=__GWX_GLOBAL__||{};
	var __wxAppConsole__ = console;definePlugin("plugin://wxaae6519cee98d824", function(define, require, module, exports, global, wx, App, Page, Component, Behavior, getApp, getCurrentPages, console, requireMiniProgram) {            var __vd_version_info__=__vd_version_info__||{};            if (typeof console === 'undefined') {console=__wxAppConsole__; };			
			/*v0.5vv_20200413_syb_scopedata*/global.__wcc_version__='v0.5vv_20200413_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx_wxaae6519cee98d824=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx_wxaae6519cee98d824:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_wxaae6519cee98d824 || [];
function gz$gwx_wxaae6519cee98d824_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_1)return __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_1
__WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isReady']])
Z([[2,'!'],[[7],[3,'isPC']]])
Z([3,'widget'])
Z([[7],[3,'postHeight']])
Z([[7],[3,'postWidth']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_1);return __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_1
}
function gz$gwx_wxaae6519cee98d824_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_2)return __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_2
__WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_2);return __WXML_GLOBAL__.ops_cached.$gwx_wxaae6519cee98d824_2
}
__WXML_GLOBAL__.ops_set.$gwx_wxaae6519cee98d824=z;
__WXML_GLOBAL__.ops_init.$gwx_wxaae6519cee98d824=true;
var nv_require=function(){var nnm={};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./components/cell/cell.wxml','./components/wxml-to-canvas/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_wxaae6519cee98d824_1()
var oB=_v()
_(r,oB)
if(_oz(z,0,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,1,e,s,gg)){xC.wxVkey=1
var oD=_mz(z,'wxml-to-canvas',['class',2,'height',1,'width',2],[],e,s,gg)
_(xC,oD)
}
oB.wxXCkey=1
xC.wxXCkey=1
xC.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_wxaae6519cee98d824_2()
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}

				global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/cell/cell.json'] = {"component":true,"usingComponents":{"wxml-to-canvas":"../wxml-to-canvas/index"}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/cell/cell.wxml'] = [$gwx_wxaae6519cee98d824, './components/cell/cell.wxml' ];else global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/cell/cell.wxml'] = $gwx_wxaae6519cee98d824( './components/cell/cell.wxml' );
		global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/wxml-to-canvas/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/wxml-to-canvas/index.wxml'] = [$gwx_wxaae6519cee98d824, './components/wxml-to-canvas/index.wxml' ];else global.__wxAppCode__['plugin-private://wxaae6519cee98d824/components/wxml-to-canvas/index.wxml'] = $gwx_wxaae6519cee98d824( './components/wxml-to-canvas/index.wxml' );
		global.__wxAppCode__['plugin-private://wxaae6519cee98d824/package.json'] = {"name":"chatgroup-plugin-miniprogram","version":"1.0.0","description":"","main":"index.js","directories":{"lib":"lib"},"scripts":{"test":"echo \"Error: no test specified\" \x26\x26 exit 1"},"author":"","license":"ISC","dependencies":{"widget-ui":"^1.0.2"},"__warning__":"无效的 page.json [\"name\"]、page.json [\"version\"]、page.json [\"description\"]、page.json [\"main\"]、page.json [\"directories\"]、page.json [\"scripts\"]、page.json [\"author\"]、page.json [\"license\"]、page.json [\"dependencies\"]"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxaae6519cee98d824/package.wxml'] = [$gwx_wxaae6519cee98d824, './package.wxml' ];else global.__wxAppCode__['plugin-private://wxaae6519cee98d824/package.wxml'] = $gwx_wxaae6519cee98d824( './package.wxml' );
		global.__wxAppCode__['plugin-private://wxaae6519cee98d824/plugin.json'] = {"publicComponents":{"cell":"components/cell/cell"},"main":"index.js"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxaae6519cee98d824/plugin.wxml'] = [$gwx_wxaae6519cee98d824, './plugin.wxml' ];else global.__wxAppCode__['plugin-private://wxaae6519cee98d824/plugin.wxml'] = $gwx_wxaae6519cee98d824( './plugin.wxml' );
	
				define("@babel/runtime/helpers/Objectvalues.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(e[t]);return r}); 
 			}); 
		define("@babel/runtime/helpers/arrayLikeToArray.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}module.exports=_arrayLikeToArray; 
 			}); 
		define("@babel/runtime/helpers/assertThisInitialized.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=_assertThisInitialized; 
 			}); 
		define("@babel/runtime/helpers/asyncToGenerator.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function asyncGeneratorStep(n,e,r,t,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void r(n)}i.done?e(u):Promise.resolve(u).then(t,o)}function _asyncToGenerator(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function c(n){asyncGeneratorStep(a,t,o,c,i,"next",n)}function i(n){asyncGeneratorStep(a,t,o,c,i,"throw",n)}c(void 0)}))}}module.exports=_asyncToGenerator; 
 			}); 
		define("@babel/runtime/helpers/classCallCheck.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _classCallCheck(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck; 
 			}); 
		define("@babel/runtime/helpers/createClass.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}module.exports=_createClass; 
 			}); 
		define("@babel/runtime/helpers/createForOfIteratorHelper.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var unsupportedIterableToArray=require("./unsupportedIterableToArray");function _createForOfIteratorHelper(r,e){var t;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=r[Symbol.iterator]()},n:function(){var r=t.next();return u=r.done,r},e:function(r){i=!0,a=r},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}module.exports=_createForOfIteratorHelper; 
 			}); 
		define("@babel/runtime/helpers/createSuper.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var getPrototypeOf=require("./getPrototypeOf"),isNativeReflectConstruct=require("./isNativeReflectConstruct"),possibleConstructorReturn=require("./possibleConstructorReturn");function _createSuper(t){var e=isNativeReflectConstruct();return function(){var r,o=getPrototypeOf(t);if(e){var s=getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return possibleConstructorReturn(this,r)}}module.exports=_createSuper; 
 			}); 
		define("@babel/runtime/helpers/defineProperty.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}module.exports=_defineProperty; 
 			}); 
		define("@babel/runtime/helpers/getPrototypeOf.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _getPrototypeOf(t){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}module.exports=_getPrototypeOf; 
 			}); 
		define("@babel/runtime/helpers/inherits.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var setPrototypeOf=require("./setPrototypeOf");function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&setPrototypeOf(e,t)}module.exports=_inherits; 
 			}); 
		define("@babel/runtime/helpers/interopRequireDefault.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=_interopRequireDefault; 
 			}); 
		define("@babel/runtime/helpers/isNativeReflectConstruct.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}module.exports=_isNativeReflectConstruct; 
 			}); 
		define("@babel/runtime/helpers/objectSpread2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var defineProperty=require("./defineProperty");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}module.exports=_objectSpread2; 
 			}); 
		define("@babel/runtime/helpers/possibleConstructorReturn.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var _typeof=require("./typeof"),assertThisInitialized=require("./assertThisInitialized");function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?assertThisInitialized(e):t}module.exports=_possibleConstructorReturn; 
 			}); 
		define("@babel/runtime/helpers/setPrototypeOf.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _setPrototypeOf(t,o){return module.exports=_setPrototypeOf=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},_setPrototypeOf(t,o)}module.exports=_setPrototypeOf; 
 			}); 
		define("@babel/runtime/helpers/typeof.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
function _typeof(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function(o){return typeof o}:module.exports=_typeof=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=_typeof; 
 			}); 
		define("@babel/runtime/helpers/unsupportedIterableToArray.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
var arrayLikeToArray=require("./arrayLikeToArray");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray; 
 			}); 
		define("@babel/runtime/regenerator.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")()); 
 			}); 
		define("api/data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var t="init data";module.exports={getData:function(){return t},setData:function(a){t=a}}; 
 			}); 
		define("components/cell/wxmlTocanvasData.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var e=require("../../@babel/runtime/helpers/defineProperty");module.exports={getPostStyle:function(t){var i,n=wx.getSystemInfoSync().screenWidth,o=n-24-24,r=t.cardHeight,a=t.postHeight,c=t.groupNameHeight;return{container:{backgroundColor:"#F5F6F7",width:n,height:a,paddingTop:34,paddingLeft:24,paddingRight:24,flexDirection:"column",alignItems:"center"},card:{flexDirection:"column",backgroundColor:"#FFFFFF",paddingTop:50,paddingBottom:32,marginBottom:32,borderRadius:10,width:o,height:r},infoContainer:{width:o,paddingLeft:40,paddingRight:40,marginBottom:60},avatar:{width:48,height:48,borderRadius:4,marginBottom:16},groupname:(i={fontWeight:600,fontSize:20,lineHeight:28,color:"#000000",height:28,width:o-80},e(i,"height",c),e(i,"marginBottom",4),i),desc:{fontSize:13,lineHeight:18,height:18,width:o-40,color:"#333333"},qrcodeContainer:{flexDirection:"column",alignItems:"center",width:o,paddingBottom:32},qrcode:{width:187,height:187},qrcodeText:{fontSize:13,lineHeight:18,height:18,width:o,textAlign:"center",color:"#808080",marginTop:36},logo:{width:96,height:22}}},getPostWxml:function(e){return console.log(e),'<view class="container">\n                <view class="card">\n                <view class="info-container">\n                    <image class="avatar" src="'.concat(e.headurl,'"></image>\n                    <text class="groupname">').concat(e.name,'</text>\n                    <text class="desc">\u4f7f\u7528\u5fae\u4fe1\u6216\u4f01\u4e1a\u5fae\u4fe1\u626b\u7801\u52a0\u5165</text>\n                </view>\n                    \n                    <view class="qrcode-container">\n                        <image class="qrcode" src="').concat(e.qrcodeurl,'"></image>\n                        <text class="qrcode-text">\u8be5\u4e8c\u7ef4\u78017\u5929\u5185\u6709\u6548\uff0c\u91cd\u65b0\u8fdb\u5165\u5c06\u66f4\u65b0</text>\n                    </view>\n                </view>\n\n                <image class="logo" src="https://wwcdn.weixin.qq.com/node/wework/images/Logo.c64e560614.png"></image>\n\n            </view>\n            ')}}; 
 			}); 
		define("components/wxml-to-canvas/draw.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Objectvalues");var t=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=e(require("../../@babel/runtime/regenerator")),a=require("../../@babel/runtime/helpers/asyncToGenerator"),i=require("../../@babel/runtime/helpers/classCallCheck"),n=require("../../@babel/runtime/helpers/createClass"),o=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.ctx=t,this.canvas=r||null,this.use2dCanvas=a}var o,l;return n(e,[{key:"roundRect",value:function(e,t,r,a,i){var n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(i<0)){var l=this.ctx;l.beginPath(),l.arc(e+i,t+i,i,Math.PI,3*Math.PI/2),l.arc(e+r-i,t+i,i,3*Math.PI/2,0),l.arc(e+r-i,t+a-i,i,0,Math.PI/2),l.arc(e+i,t+a-i,i,Math.PI/2,Math.PI),l.lineTo(e,t+i),o&&l.stroke(),n&&l.fill()}}},{key:"drawView",value:function(e,t){var r=this.ctx,a=e.left,i=e.top,n=e.width,o=e.height,l=t.borderRadius,s=void 0===l?0:l,c=t.borderWidth,u=void 0===c?0:c,d=t.borderColor,h=t.color,f=void 0===h?"#000":h,v=t.backgroundColor,b=void 0===v?"transparent":v;r.save(),u>0&&(r.fillStyle=d||f,this.roundRect(a,i,n,o,s)),r.fillStyle=b;var p=n-2*u,w=o-2*u,x=s-u>=0?s-u:0;this.roundRect(a+u,i+u,p,w,x),r.restore()}},{key:"drawImage",value:(l=a(r.default.mark((function e(t,a,i){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var o=n.ctx,l=n.canvas,s=i.borderRadius,c=void 0===s?0:s,u=a.left,d=a.top,h=a.width,f=a.height;o.save(),n.roundRect(u,d,h,f,c,!1,!1),o.clip();var v=function(t){if(n.use2dCanvas){var a=l.createImage();a.onload=function(){o.drawImage(a,u,d,h,f),o.restore(),e()},a.onerror=function(){r(new Error("createImage fail: ".concat(t)))},a.src=t}else o.drawImage(t,u,d,h,f),o.restore(),e()},b=/^wxfile:\/\//.test(t),p=/^https?:\/\//.test(t);b?v(t):p?wx.downloadFile({url:t,success:function(e){200===e.statusCode?v(e.tempFilePath):r(new Error("downloadFile:fail ".concat(t)))},fail:function(){r(new Error("downloadFile:fail ".concat(t)))}}):r(new Error("image format error: ".concat(t)))}));case 2:case"end":return e.stop()}}),e)}))),function(e,t,r){return l.apply(this,arguments)})},{key:"drawText",value:function(e,r,a){var i=this.ctx,n=r.left,o=r.top,l=r.width,s=r.height,c=a.color,u=void 0===c?"#000":c,d=a.lineHeight,h=void 0===d?"1.4em":d,f=a.fontSize,v=void 0===f?14:f,b=a.fontWeight,p=void 0===b?"normal":b,w=a.textAlign,x=void 0===w?"left":w,m=a.verticalAlign,g=void 0===m?"top":m,k=a.backgroundColor,y=void 0===k?"transparent":k;if("string"==typeof h&&(h=Math.ceil(parseFloat(h.replace("em"))*v)),e&&!(h>s)){switch(i.save(),i.textBaseline="top",i.font="".concat(p," ").concat(v,"px sans-serif"),i.textAlign=x,i.fillStyle=y,this.roundRect(n,o,l,s,0),i.fillStyle=u,x){case"left":break;case"center":n+=.5*l;break;case"right":n+=l}var I=i.measureText(e).width,M=Math.ceil(I/l)*h,C=Math.ceil((s-M)/2);switch(C<0&&(C=0),g){case"top":break;case"middle":o+=C;break;case"bottom":o+=2*C}var P=Math.ceil((h-v)/2);if(I<=l)i.fillText(e,n,o+P);else{var T,q=e.split(""),R=o,F="",S=t(q);try{for(S.s();!(T=S.n()).done;){var E=T.value,A=F+E;if(i.measureText(A).width>l){if(i.fillText(F,n,o+P),F=E,(o+=h)+h>R+s)break}else F=A}}catch(e){S.e(e)}finally{S.f()}o+h<=R+s&&i.fillText(F,n,o+P),i.restore()}}}},{key:"drawNode",value:(o=a(r.default.mark((function e(t){var a,i,n,o,l,s,c,u,d,h;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.layoutBox,i=t.computedStyle,n=t.name,o=t.attributes,l=o.src,s=o.text,"view"!==n){e.next=6;break}this.drawView(a,i),e.next=12;break;case 6:if("image"!==n){e.next=11;break}return e.next=9,this.drawImage(l,a,i);case 9:e.next=12;break;case 11:"text"===n&&this.drawText(s,a,i);case 12:c=Object.values(t.children),u=0,d=c;case 14:if(!(u<d.length)){e.next=21;break}return h=d[u],e.next=18,this.drawNode(h);case 18:u++,e.next=14;break;case 21:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}]),e}();module.exports={Draw:o}; 
 			}); 
		define("components/wxml-to-canvas/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";module.exports={hex:function(t){var r=null;return!/^#/.test(t)||7!==t.length&&9!==t.length?null!==(r=/^(rgb|rgba)\((.+)\)/.exec(t))?"#"+r[2].split(",").map((function(t,r){return t=t.trim(),1===(t=(t=3===r?Math.floor(255*parseFloat(t)):parseInt(t,10)).toString(16)).length&&(t="0"+t),t})).join(""):"#00000000":t},splitLineToCamelCase:function(t){return t.split("-").map((function(t,r){return 0===r?t:t[0].toUpperCase()+t.slice(1)})).join("")},compareVersion:function(t,r){t=t.split("."),r=r.split(".");for(var n=Math.max(t.length,r.length);t.length<n;)t.push("0");for(;r.length<n;)r.push("0");for(var e=0;e<n;e++){var l=parseInt(t[e],10),i=parseInt(r[e],10);if(l>i)return 1;if(l<i)return-1}return 0}}; 
 			}); 
		define("components/wxml-to-canvas/widget.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";require("../../@babel/runtime/helpers/Objectvalues");var e=require("../../@babel/runtime/helpers/createClass"),t=require("../../@babel/runtime/helpers/classCallCheck"),r=require("../../@babel/runtime/helpers/inherits"),i=require("../../@babel/runtime/helpers/createSuper"),n=require("widget-ui"),a=require("./utils").splitLineToCamelCase,s=function(e){r(s,n);var a=i(s);function s(e){var r;return t(this,s),(r=a.call(this,e.style)).name=e.name,r.attributes=e.attributes,r}return s}(),u=function(){function r(e,i){t(this,r),this.xom=e,this.style=i,this.inheritProps=["fontSize","lineHeight","textAlign","verticalAlign","color"]}return e(r,[{key:"init",value:function(){return this.container=this.create(this.xom),this.container.layout(),this.inheritStyle(this.container),this.container}},{key:"inheritStyle",value:function(e){var t=this,r=e.parent||null,i=e.children||{},n=e.computedStyle;r&&this.inheritProps.forEach((function(e){n[e]=n[e]||r.computedStyle[e]})),Object.values(i).forEach((function(e){t.inheritStyle(e)}))}},{key:"create",value:function(e){var t=this,r=(e.attributes.class||"").split(" ");r=r.map((function(e){return a(e.trim())}));var i={};r.forEach((function(e){Object.assign(i,t.style[e]||{})}));for(var n={name:e.name,style:i},u={},l=0,c=Object.keys(e.attributes);l<c.length;l++){var h=c[l],o=e.attributes[h],b=a(h);u[b]=""===o||"true"===o||"false"!==o&&o}u.text=e.content,n.attributes=u;var f=new s(n);return e.children.forEach((function(e){var r=t.create(e);f.add(r)})),f}}]),r}();module.exports={Widget:u}; 
 			}); 
		define("components/wxml-to-canvas/xml-parser.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";module.exports=function(r){return r=(r=r.trim()).replace(/<!--[\s\S]*?-->/g,""),{declaration:t(),root:n()};function t(){if(u(/^<\?xml\s*/)){for(var r={attributes:{}};!i()&&!a("?>");){var t=e();if(!t)return r;r.attributes[t.name]=t.value}return u(/\?>\s*/),r}}function n(){var r=u(/^<([\w-:.]+)\s*/);if(r){for(var t,s={name:r[1],attributes:{},children:[]};!(i()||a(">")||a("?>")||a("/>"));){var f=e();if(!f)return s;s.attributes[f.name]=f.value}if(u(/^\s*\/>\s*/))return s;for(u(/\??>\s*/),s.content=function(){var r=u(/^([^<]*)/);return r?r[1]:""}();t=n();)s.children.push(t);return u(/^<\/[\w-:.]+>\s*/),s}}function e(){var r,t=u(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(r=t[2],r.replace(/^['"]|['"]$/g,""))}}function u(t){var n=r.match(t);if(n)return r=r.slice(n[0].length),n}function i(){return 0==r.length}function a(t){return 0==r.indexOf(t)}}; 
 			}); 
		define("config/app.config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";module.exports={request:{api_prefix:"https://work.weixin.qq.com/cgi-bin/mng/",max_try:3,app_type:4},setAppType:function(e){this.request.app_type=e},debug:!1}; 
 			}); 
		define("index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var a=require("./api/data.js");module.exports={getData:a.getData,setData:a.setData}; 
 			}); 
		define("lib/conn/conn.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.conn=void 0;var e={};exports.conn=e;var r=!0,n=function(){return"["+o(new Date,"%Y-%M-%d %h:%m:%s",!0)+"]"},o=function(e,r,n){var o=e.getFullYear(),t=e.getMonth()+1,a=e.getDate(),c=e.getHours(),l=e.getMinutes(),s=e.getSeconds();return n&&(t=t<10?"0"+t:t,a=a<10?"0"+a:a,c=c<10?"0"+c:c,l=l<10?"0"+l:l,s=s<10?"0"+s:s),r=(r=r||"%Y-%M-%d %h:%m:%s").replace(/%Y/g,o).replace(/%M/g,t).replace(/%d/g,a).replace(/%h/g,c).replace(/%m/g,l).replace(/%s/g,s)};["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach((function(o){e[o]=function(){var e="";r&&((e=arguments).length>0&&(e[0]=n()+JSON.stringify(e[0])),console[o].apply(console,e))}}),Function.prototype.bind),e.enableConsole=function(e){r=!!e};var t={conn:e};exports.default=t; 
 			}); 
		define("lib/request/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkLogin=exports.doLogin=exports.request=void 0;var e=require("../../config/app.config"),o=require("../storage/storage"),t=!1,n=[],r=e.request.max_try||3,s=e.request.app_type,i=function(e){var o=u();return Object.assign(e||{},{vid:o.vid,skey:o.skey})},a=function(e,o){var t;return 200===e.statusCode||(t=/^5\d+/g.test(e.statusCode)?"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5":"\u8bf7\u786e\u4fdd\u7f51\u7edc\u901a\u7545\uff0c\u5e76\u91cd\u8bd5",o&&o.silent||wx.showModal({showCancel:!1,title:"\u7f51\u7edc\u5f02\u5e38",content:t,confirmText:"\u786e\u5b9a"}),!1)},c=function(e){return new Promise((function(o,t){u().skey||!0===e.ignore?o():t(new Error("empty session"))}))};exports.checkLogin=c;var u=function(){return o.getStorage("session",!1)||{}},d=function(t){var n=o.getStorage("freego",!1)||{};return new Promise((function(t,r){new Promise((function(e,o){wx.login({success:e,fail:o})})).then((function(i){console.info("codeInfo %o",i),wx.request({url:e.request.api_prefix+"xcx/login",method:"POST",dataType:"json",data:{type:s,code:i.code},header:{cookie:n.cookie||"","Content-Type":"application/x-www-form-urlencoded"},success:function(e){var n,i=e.data.data;console.log("login response: %o",i),a(e)&&i&&"skey"in i?(n={gid:i.gid,skey:i.skey,vid:i.vid,type:s,corpname:i.corp_name},o.setStorage("session",n,!1),t(e)):r(e)},fail:r})})).catch((function(e){wx.showModal({content:"\u767b\u5f55\u5931\u8d25",showCancel:!1})}))}))};exports.doLogin=d;exports.request=function(s){var u=o.getStorage("freego",!1)||{},l=function(o,c){s.success=function(e){console.log("request sucess callback:%o",e),a(e,s)?e.data&&e.data.result&&-3===e.data.result.errCode?(s.tryTimes=s.tryTimes||0,s.tryTimes++,s.tryTimes<r?t?n.push(s):(t=!0,n=[],d().then((function(){t=!1,s.data=i(s.data),wx.request(s),n.forEach((function(e,o){e.data=i(e.data),wx.request(e)}))})).catch((function(){t=!1}))):o({data:{retcode:-102,retmsg:"login abort"}})):o(e):c(e)},s.fail=function(e){c(e)},s.url=/^http/g.test(s.url)?s.url:e.request.api_prefix+s.url,s.data=i(s.data),s.method=s.method||"GET",s.header=Object.assign(s.header||{},{cookie:u.cookie||"","Content-Type":"application/json"}),console.log("request options:%o",s),wx.request(s)};return new Promise((function(e,o){c(s).then((function(){l(e,o)})).catch((function(){d().then((function(){l(e,o)})).catch((function(e){console.log("login error %o",e),wx.showModal({content:"\u767b\u5f55\u5931\u8d25",showCancel:!1})}))}))}))}; 
 			}); 
		define("lib/storage/storage.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.flushCacheData=exports.clearStorage=exports.removeStorage=exports.getStorage=exports.setStorage=exports.initNsStorageByKey=exports.initNameSpace=void 0;var t=e(require("../conn/conn")),r="WEWORK_STORAGE_CACHE",a="",o={},n={};function l(){try{o=wx.getStorageSync(r)||{}}catch(e){o={}}}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default_ns",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l();var r=a,i=o[r]||{};a="default_ns",o[e]?n=o[e]:(n=o[e]={},u());try{wx.setStorageSync("WEWORK_NS_KEY",a)}catch(e){}t&&t(r,i)};exports.initNameSpace=i;var s=function(e){var t,r=e.split(".");if(!n&&r.length>0)return"";t=n;for(var a=0;a<r.length-1;a++)void 0===t[r[a]]&&(t[r[a]]={}),t=t[r[a]];return t};exports.initNsStorageByKey=s;var g=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r){var l=s(e),i=e.split(".");l[i[i.length-1]]=t,n&&u(a)}else o[e]=t,u(!0)};exports.setStorage=g;var c=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var r=s(e),a=e.split(".");return r[a[a.length-1]]}return o[e]};exports.getStorage=c;var v=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var r=s(e),a=e.split(".");delete r[a[a.length-1]],u()}else delete n[e],u()};exports.removeStorage=v;var S=function(e){var r;try{e?(delete s(e)[(r=e.split("."))[r.length-1]],u()):(wx.clearStorageSync(),i(a))}catch(e){t.default.log(e)}};exports.clearStorage=S;var u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e?wx.setStorageSync(r,o):(wx.setStorage({key:r,data:o}),console.log("storage %o",o))}catch(e){S()}};exports.flushCacheData=u;try{a=wx.getStorageSync("WEWORK_NS_KEY")||""}catch(e){a=""}i(a||"default_ns");var p={initNameSpace:i,setStorage:g,getStorage:c,clearStorage:S,removeStorage:v,flushCacheData:u};exports.default=p; 
 			}); 
		define("lib/util/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareVersion=function(e,r){e=e.split("."),r=r.split(".");var t=Math.max(e.length,r.length);for(;e.length<t;)e.push("0");for(;r.length<t;)r.push("0");for(var n=0;n<t;n++){var s=parseInt(e[n]),o=parseInt(r[n]);if(s>o)return 1;if(s<o)return-1}return 0}; 
 			}); 
		define("miniprogram_npm/eventemitter3/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var e,t,n=require("../../@babel/runtime/helpers/typeof");module.exports=(e={},t=function(t,r){if(!e[t])return require(r);if(!e[t].status){var o=e[t].m;o._exports=o._tempexports;var s=Object.getOwnPropertyDescriptor(o,"exports");s&&s.configurable&&Object.defineProperty(o,"exports",{set:function(e){"object"===n(e)&&e!==o._exports&&(o._exports.__proto__=e.__proto__,Object.keys(e).forEach((function(t){o._exports[t]=e[t]}))),o._tempexports=e},get:function(){return o._tempexports}}),e[t].status=1,e[t].func(e[t].req,o,o.exports)}return e[t].m.exports},function(t,n,r){e[t]={status:0,func:n,req:r,m:{exports:{},_tempexports:{}}}}(1623395730414,(function(e,t,n){var r=Object.prototype.hasOwnProperty,o="~";function s(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function c(e,t,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new i(n,r||e,s),f=o?o+t:t;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function f(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,i=new Array(s);r<s;r++)i[r]=n[r].fn;return i},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,s,i){var c=o?o+e:e;if(!this._events[c])return!1;var f,u,p=this._events[c],a=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),a){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,n),!0;case 4:return p.fn.call(p.context,t,n,r),!0;case 5:return p.fn.call(p.context,t,n,r,s),!0;case 6:return p.fn.call(p.context,t,n,r,s,i),!0}for(u=1,f=new Array(a-1);u<a;u++)f[u-1]=arguments[u];p.fn.apply(p.context,f)}else{var v,l=p.length;for(u=0;u<l;u++)switch(p[u].once&&this.removeListener(e,p[u].fn,void 0,!0),a){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,t);break;case 3:p[u].fn.call(p[u].context,t,n);break;case 4:p[u].fn.call(p[u].context,t,n,r);break;default:if(!f)for(v=1,f=new Array(a-1);v<a;v++)f[v-1]=arguments[v];p[u].fn.apply(p[u].context,f)}}return!0},u.prototype.on=function(e,t,n){return c(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return c(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var s=o?o+e:e;if(!this._events[s])return this;if(!t)return f(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||f(this,s);else{for(var c=0,u=[],p=i.length;c<p;c++)(i[c].fn!==t||r&&!i[c].once||n&&i[c].context!==n)&&u.push(i[c]);u.length?this._events[s]=1===u.length?u[0]:u:f(this,s)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&f(this,t)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,void 0!==t&&(t.exports=u)}),(function(e){return t({}[e],e)})),t(1623395730414)); 
 			}); 
		define("miniprogram_npm/widget-ui/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var t,e,o=require("../../@babel/runtime/helpers/typeof");module.exports=(t={},e=function(e,r){if(!t[e])return require(r);if(!t[e].status){var i=t[e].m;i._exports=i._tempexports;var l=Object.getOwnPropertyDescriptor(i,"exports");l&&l.configurable&&Object.defineProperty(i,"exports",{set:function(t){"object"===o(t)&&t!==i._exports&&(i._exports.__proto__=t.__proto__,Object.keys(t).forEach((function(e){i._exports[e]=t[e]}))),i._tempexports=t},get:function(){return i._tempexports}}),t[e].status=1,t[e].func(t[e].req,i,i.exports)}return t[e].m.exports},function(e,o,r){t[e]={status:0,func:o,req:r,m:{exports:{},_tempexports:{}}}}(1623395730415,(function(t,e,r){!function(t,i){if("object"==o(r)&&"object"==o(e))e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var l=i();for(var n in l)("object"==o(r)?r:t)[n]=l[n]}}(this,(function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==o(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(o(1)),l=o(2),n=0,a=function(){function t(e){var o=this;void 0===e&&(e={}),this.parent=null,this.id=t.uuid(),this.style={},this.computedStyle={},this.lastComputedStyle={},this.children={},this.layoutBox={left:0,top:0,width:0,height:0},e=Object.assign(l.getDefaultStyle(),e),this.computedStyle=Object.assign(l.getDefaultStyle(),e),this.lastComputedStyle=Object.assign(l.getDefaultStyle(),e),Object.keys(e).forEach((function(t){Object.defineProperty(o.style,t,{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(r){r!==e[t]&&void 0!==r&&(o.lastComputedStyle=o.computedStyle[t],e[t]=r,o.computedStyle[t]=r,l.scalableStyles.includes(t)&&o.style.scale&&(o.computedStyle[t]=r*o.style.scale),"scale"===t&&l.scalableStyles.forEach((function(t){e[t]&&(o.computedStyle[t]=e[t]*r)})),"hidden"===t&&(r?l.layoutAffectedStyles.forEach((function(t){o.computedStyle[t]=0})):l.layoutAffectedStyles.forEach((function(t){o.computedStyle[t]=o.lastComputedStyle[t]}))))}})})),this.style.scale&&l.scalableStyles.forEach((function(t){if(o.style[t]){var e=o.style[t]*o.style.scale;o.computedStyle[t]=e}})),e.hidden&&l.layoutAffectedStyles.forEach((function(t){o.computedStyle[t]=0}))}return t.uuid=function(){return n++},t.prototype.getAbsolutePosition=function(t){if(!t)return this.getAbsolutePosition(this);if(!t.parent)return{left:0,top:0};var e=this.getAbsolutePosition(t.parent),o=e.left,r=e.top;return{left:o+t.layoutBox.left,top:r+t.layoutBox.top}},t.prototype.add=function(t){t.parent=this,this.children[t.id]=t},t.prototype.remove=function(t){var e=this;t?this.children[t.id]&&(t.remove(),delete this.children[t.id]):Object.keys(this.children).forEach((function(t){e.children[t].remove(),delete e.children[t]}))},t.prototype.getNodeTree=function(){var t=this;return{id:this.id,style:this.computedStyle,children:Object.keys(this.children).map((function(e){return t.children[e].getNodeTree()}))}},t.prototype.applyLayout=function(t){var e=this;["left","top","width","height"].forEach((function(o){t.layout&&"number"==typeof t.layout[o]&&(e.layoutBox[o]=t.layout[o],!e.parent||"left"!==o&&"top"!==o||(e.layoutBox[o]+=e.parent.layoutBox[o]))})),t.children.forEach((function(t){e.children[t.id].applyLayout(t)}))},t.prototype.layout=function(){var t=this.getNodeTree();i.default(t),this.applyLayout(t)},t}();e.default=a},function(t,e,o){o.r(e);var r=function(){var t,e="inherit",o="row",r="row-reverse",i="column",l="column-reverse",n="flex-start",a="center",u="flex-start",d="center",s="flex-end",y="stretch",c="relative",f="absolute",h={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},p={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},g={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},v={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function m(t){return void 0===t}function b(t){return t===o||t===r}function x(t,e){if(void 0!==t.style.marginStart&&b(e))return t.style.marginStart;var o=null;switch(e){case"row":o=t.style.marginLeft;break;case"row-reverse":o=t.style.marginRight;break;case"column":o=t.style.marginTop;break;case"column-reverse":o=t.style.marginBottom}return void 0!==o?o:void 0!==t.style.margin?t.style.margin:0}function w(t,e){if(void 0!==t.style.marginEnd&&b(e))return t.style.marginEnd;var o=null;switch(e){case"row":o=t.style.marginRight;break;case"row-reverse":o=t.style.marginLeft;break;case"column":o=t.style.marginBottom;break;case"column-reverse":o=t.style.marginTop}return null!=o?o:void 0!==t.style.margin?t.style.margin:0}function S(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&b(e))return t.style.borderStartWidth;var o=null;switch(e){case"row":o=t.style.borderLeftWidth;break;case"row-reverse":o=t.style.borderRightWidth;break;case"column":o=t.style.borderTopWidth;break;case"column-reverse":o=t.style.borderBottomWidth}return null!=o&&o>=0?o:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function W(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&b(e))return t.style.borderEndWidth;var o=null;switch(e){case"row":o=t.style.borderRightWidth;break;case"row-reverse":o=t.style.borderLeftWidth;break;case"column":o=t.style.borderBottomWidth;break;case"column-reverse":o=t.style.borderTopWidth}return null!=o&&o>=0?o:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function L(t,e){return function(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&b(e))return t.style.paddingStart;var o=null;switch(e){case"row":o=t.style.paddingLeft;break;case"row-reverse":o=t.style.paddingRight;break;case"column":o=t.style.paddingTop;break;case"column-reverse":o=t.style.paddingBottom}return null!=o&&o>=0?o:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+S(t,e)}function _(t,e){return function(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&b(e))return t.style.paddingEnd;var o=null;switch(e){case"row":o=t.style.paddingRight;break;case"row-reverse":o=t.style.paddingLeft;break;case"column":o=t.style.paddingBottom;break;case"column-reverse":o=t.style.paddingTop}return null!=o&&o>=0?o:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+W(t,e)}function j(t,e){return S(t,e)+W(t,e)}function k(t,e){return x(t,e)+w(t,e)}function B(t,e){return L(t,e)+_(t,e)}function E(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function O(t,e){if("rtl"===e){if(t===o)return r;if(t===r)return o}return t}function C(t){return t.style.position?t.style.position:"relative"}function T(t){return C(t)===c&&t.style.flex>0}function P(t,e){return t.layout[v[e]]+k(t,e)}function R(t,e){return void 0!==t.style[v[e]]&&t.style[v[e]]>=0}function A(t,e){return void 0!==t.style[e]}function D(t,e){return void 0!==t.style[e]?t.style[e]:0}function H(t,e,o){var r={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],l=o;return void 0!==i&&i>=0&&l>i&&(l=i),void 0!==r&&r>=0&&l<r&&(l=r),l}function M(t,e){return t>e?t:e}function q(t,e){void 0===t.layout[v[e]]&&R(t,e)&&(t.layout[v[e]]=M(H(t,e,t.style[v[e]]),B(t,e)))}function I(t,e,o){e.layout[p[o]]=t.layout[v[o]]-e.layout[v[o]]-e.layout[g[o]]}function N(t,e){return void 0!==t.style[h[e]]?D(t,h[e]):-D(t,p[e])}function F(W,F,U){var G=function(t,o){var r;return(r=t.style.direction?t.style.direction:e)===e&&(r=void 0===o?"ltr":o),r}(W,U),J=O(function(t){return t.style.flexDirection?t.style.flexDirection:i}(W),G),K=function(t,e){return function(t){return t===i||t===l}(t)?O(o,e):i}(J,G),Q=O(o,G);q(W,J),q(W,K),W.layout.direction=G,W.layout[h[J]]+=x(W,J)+N(W,J),W.layout[p[J]]+=w(W,J)+N(W,J),W.layout[h[K]]+=x(W,K)+N(W,K),W.layout[p[K]]+=w(W,K)+N(W,K);var V=W.children.length,X=B(W,Q);if(function(t){return void 0!==t.style.measure}(W)){var Y=!m(W.layout[v[Q]]),Z=t;Z=R(W,Q)?W.style.width:Y?W.layout[v[Q]]:F-k(W,Q),Z-=X;var $=!R(W,Q)&&!Y,tt=!R(W,i)&&m(W.layout[v[i]]);if($||tt){var et=W.style.measure(Z);$&&(W.layout.width=et.width+X),tt&&(W.layout.height=et.height+B(W,i))}if(0===V)return}var ot,rt,it,lt,nt=function(t){return"wrap"===t.style.flexWrap}(W),at=function(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}(W),ut=L(W,J),dt=L(W,K),st=B(W,J),yt=B(W,K),ct=!m(W.layout[v[J]]),ft=!m(W.layout[v[K]]),ht=b(J),pt=null,gt=null,vt=t;ct&&(vt=W.layout[v[J]]-st);for(var mt=0,bt=0,xt=0,wt=0,St=0,Wt=0;bt<V;){var Lt,_t=0,jt=0,kt=0,Bt=0,Et=ct&&at===n||!ct&&at!==a,Ot=Et?V:mt,Ct=!0,Tt=V,Pt=null,Rt=null,At=ut,Dt=0;for(ot=mt;ot<V;++ot){if((it=W.children[ot]).lineIndex=Wt,it.nextAbsoluteChild=null,it.nextFlexChild=null,(Gt=E(W,it))===y&&C(it)===c&&ft&&!R(it,K))it.layout[v[K]]=M(H(it,K,W.layout[v[K]]-yt-k(it,K)),B(it,K));else if(C(it)===f)for(null===pt&&(pt=it),null!==gt&&(gt.nextAbsoluteChild=it),gt=it,rt=0;rt<2;rt++)lt=0!==rt?o:i,!m(W.layout[v[lt]])&&!R(it,lt)&&A(it,h[lt])&&A(it,p[lt])&&(it.layout[v[lt]]=M(H(it,lt,W.layout[v[lt]]-B(W,lt)-k(it,lt)-D(it,h[lt])-D(it,p[lt])),B(it,lt)));var Ht=0;if(ct&&T(it)?(jt++,kt+=it.style.flex,null===Pt&&(Pt=it),null!==Rt&&(Rt.nextFlexChild=it),Rt=it,Ht=B(it,J)+k(it,J)):(Lt=t,ht||(Lt=R(W,Q)?W.layout[v[Q]]-X:F-k(W,Q)-X),0===xt&&z(it,Lt,G),C(it)===c&&(Bt++,Ht=P(it,J))),nt&&ct&&_t+Ht>vt&&ot!==mt){Bt--,xt=1;break}Et&&(C(it)!==c||T(it))&&(Et=!1,Ot=ot),Ct&&(C(it)!==c||Gt!==y&&Gt!==u||m(it.layout[v[K]]))&&(Ct=!1,Tt=ot),Et&&(it.layout[g[J]]+=At,ct&&I(W,it,J),At+=P(it,J),Dt=M(Dt,H(it,K,P(it,K)))),Ct&&(it.layout[g[K]]+=wt+dt,ft&&I(W,it,K)),xt=0,_t+=Ht,bt=ot+1}var Mt=0,qt=0,It=0;if(It=ct?vt-_t:M(_t,0)-_t,0!==jt){var Nt,Ft,zt=It/kt;for(Rt=Pt;null!==Rt;)(Nt=zt*Rt.style.flex+B(Rt,J))!==(Ft=H(Rt,J,Nt))&&(It-=Ft,kt-=Rt.style.flex),Rt=Rt.nextFlexChild;for((zt=It/kt)<0&&(zt=0),Rt=Pt;null!==Rt;)Rt.layout[v[J]]=H(Rt,J,zt*Rt.style.flex+B(Rt,J)),Lt=t,R(W,Q)?Lt=W.layout[v[Q]]-X:ht||(Lt=F-k(W,Q)-X),z(Rt,Lt,G),it=Rt,Rt=Rt.nextFlexChild,it.nextFlexChild=null}else at!==n&&(at===a?Mt=It/2:"flex-end"===at?Mt=It:"space-between"===at?(It=M(It,0),qt=jt+Bt-1!=0?It/(jt+Bt-1):0):"space-around"===at&&(Mt=(qt=It/(jt+Bt))/2));for(At+=Mt,ot=Ot;ot<bt;++ot)C(it=W.children[ot])===f&&A(it,h[J])?it.layout[g[J]]=D(it,h[J])+S(W,J)+x(it,J):(it.layout[g[J]]+=At,ct&&I(W,it,J),C(it)===c&&(At+=qt+P(it,J),Dt=M(Dt,H(it,K,P(it,K)))));var Ut=W.layout[v[K]];for(ft||(Ut=M(H(W,K,Dt+yt),yt)),ot=Tt;ot<bt;++ot)if(C(it=W.children[ot])===f&&A(it,h[K]))it.layout[g[K]]=D(it,h[K])+S(W,K)+x(it,K);else{var Gt,Jt=dt;if(C(it)===c)if((Gt=E(W,it))===y)m(it.layout[v[K]])&&(it.layout[v[K]]=M(H(it,K,Ut-yt-k(it,K)),B(it,K)));else if(Gt!==u){var Kt=Ut-yt-P(it,K);Jt+=Gt===d?Kt/2:Kt}it.layout[g[K]]+=wt+Jt,ft&&I(W,it,K)}wt+=Dt,St=M(St,At),Wt+=1,mt=bt}if(Wt>1&&ft){var Qt=W.layout[v[K]]-yt,Vt=Qt-wt,Xt=0,Yt=dt,Zt=function(t){return t.style.alignContent?t.style.alignContent:"flex-start"}(W);Zt===s?Yt+=Vt:Zt===d?Yt+=Vt/2:Zt===y&&Qt>wt&&(Xt=Vt/Wt);var $t=0;for(ot=0;ot<Wt;++ot){var te=$t,ee=0;for(rt=te;rt<V;++rt)if(C(it=W.children[rt])===c){if(it.lineIndex!==ot)break;m(it.layout[v[K]])||(ee=M(ee,it.layout[v[K]]+k(it,K)))}for($t=rt,ee+=Xt,rt=te;rt<$t;++rt)if(C(it=W.children[rt])===c){var oe=E(W,it);if(oe===u)it.layout[g[K]]=Yt+x(it,K);else if(oe===s)it.layout[g[K]]=Yt+ee-w(it,K)-it.layout[v[K]];else if(oe===d){var re=it.layout[v[K]];it.layout[g[K]]=Yt+(ee-re)/2}else oe===y&&(it.layout[g[K]]=Yt+x(it,K))}Yt+=ee}}var ie=!1,le=!1;if(ct||(W.layout[v[J]]=M(H(W,J,St+_(W,J)),st),J!==r&&J!==l||(ie=!0)),ft||(W.layout[v[K]]=M(H(W,K,wt+yt),yt),K!==r&&K!==l||(le=!0)),ie||le)for(ot=0;ot<V;++ot)it=W.children[ot],ie&&I(W,it,J),le&&I(W,it,K);for(gt=pt;null!==gt;){for(rt=0;rt<2;rt++)lt=0!==rt?o:i,!m(W.layout[v[lt]])&&!R(gt,lt)&&A(gt,h[lt])&&A(gt,p[lt])&&(gt.layout[v[lt]]=M(H(gt,lt,W.layout[v[lt]]-j(W,lt)-k(gt,lt)-D(gt,h[lt])-D(gt,p[lt])),B(gt,lt))),A(gt,p[lt])&&!A(gt,h[lt])&&(gt.layout[h[lt]]=W.layout[v[lt]]-gt.layout[v[lt]]-D(gt,p[lt]));it=gt,gt=gt.nextAbsoluteChild,it.nextAbsoluteChild=null}}function z(t,e,o){t.shouldUpdate=!0;var r=t.style.direction||"ltr";!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),F(t,e,o),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left)}return{layoutNodeImpl:F,computeLayout:z,fillNodes:function t(e){return e.layout&&!e.isDirty||(e.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),e.style||(e.style={}),e.children||(e.children=[]),e.children.forEach(t),e}}}();e.default=function(t){r.fillNodes(t),r.computeLayout(t)}},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.textStyles=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"],e.scalableStyles=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],e.layoutAffectedStyles=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],e.getDefaultStyle=function(){return{left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1}}}]).default}))}),(function(t){return e({}[t],t)})),e(1623395730415)); 
 			}); 
		global.__wxAppCurrentFile__ = 'plugin-private://wxaae6519cee98d824/components/cell/cell.js';global.__wxRouteBegin = true; 	define("components/cell/cell.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var t=require("../../@babel/runtime/helpers/objectSpread2"),e=require("../../lib/util/index"),o=require("./wxmlTocanvasData.js"),n=require("../../lib/request/request"),a=require("../../lib/storage/storage"),i=["\u8054\u7cfb\u6211","\u7acb\u5373\u8054\u7cfb","\u54a8\u8be2\u670d\u52a1","\u5728\u7ebf\u54a8\u8be2","\u8054\u7cfb\u5ba2\u670d"],r=["\u54a8\u8be2\u670d\u52a1","\u5728\u7ebf\u54a8\u8be2","\u8054\u7cfb\u5ba2\u670d"],s=["\u6709\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u8054\u7cfb\u6211\u54a8\u8be2","\u8054\u7cfb\u670d\u52a1\u4eba\u5458\u54a8\u8be2","\u83b7\u53d6\u670d\u52a1\u4eba\u5458\u8054\u7cfb\u65b9\u5f0f","\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u66f4\u591a\u95ee\u9898"],u={avatorStyle:function(t){return(-1==["rect","circle"].indexOf(t)?"circle":t).toUpperCase()},isMask:function(t){return-1==[0,1].indexOf(t)?0:t},contactText:function(t){return r[t>=0&&t<r.length?t:0]},buttonText:function(t){return i[t>=0&&t<i.length?t:0]},serviceText:function(t){return s[t>=0&&t<s.length?t:0]},buttonStyle:function(t){return(-1==["light","primary"].indexOf(t)?"primary":t).toUpperCase()},buttonSize:function(t){return(-1==["small"].indexOf(t)?"small":t).toUpperCase()},paddingStyle:function(t){return t=isNaN(t)?0:parseInt(t),0==(t=Math.max(0,t))?0:t+"px"},bubbleColor:function(t){return/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)?"#"+t:"#4790EE"},iconStyle:function(t){return(-1==["light","primary","avator"].indexOf(t)?"avator":t).toUpperCase()},blockStyle:function(t){return(-1==["bubble","button"].indexOf(t)?"bubble":t).toUpperCase()},styleType:function(t){return 1==t||2==t||3==t?t:1},pluginType:function(t){return 0==t||2==t?0:1==t?1:0}},c={ROW:{avatorStyle:u.avatorStyle,isMask:u.isMask,contactText:u.contactText,buttonText:u.buttonText,buttonStyle:u.buttonStyle,buttonSize:u.buttonSize,paddingStyle:u.paddingStyle},BLOCK:{BUBBLE:{bubbleColor:u.bubbleColor},BUTTON:{buttonStyle:u.buttonStyle,buttonText:u.buttonText,buttonSize:u.buttonSize}},MESSAGE:{iconStyle:u.iconStyle,contactText:u.contactText,serviceText:u.serviceText}},p={ROW:{iconStyle:u.iconStyle,contactText:u.contactText,paddingStyle:u.paddingStyle},BLOCK:{BUBBLE:{bubbleColor:u.bubbleColor},BUTTON:{buttonStyle:u.buttonStyle,buttonText:u.buttonText,buttonSize:u.buttonSize}}},d={"-20116":-3008,"-24001041":-3009,"-24001057":-3010,"-24001100":-3011,"-24001049":-3012,default:-3005},l={"-24001041":"\u7fa4\u5df2\u6ee1\u4eba","-24001057":"\u8be5\u4e8c\u7ef4\u7801\u5206\u4eab\u8005\u5df2\u79bb\u5f00\u7fa4\u804a\uff0c\u65e0\u6cd5\u52a0\u5165","-24001100":"\u4f01\u4e1a\u5df2\u62d2\u7edd\u4f60\u8fdb\u5165\u8be5\u7fa4\u804a","-24001049":"\u5df2\u5728\u5f53\u524d\u7fa4\u804a\u4e2d","-24001062":"\u8be5\u4e8c\u7ef4\u7801\u5df2\u7ecf\u5931\u6548\uff0c\u65e0\u6cd5\u627e\u5230\u5bf9\u5e94\u7684\u7fa4\u804a",default:"\u4e8c\u7ef4\u7801\u5df2\u5931\u6548"},g={},h=wx.getSystemInfoSync().platform;Component({data:{isReady:!1,isNeedAuth:!1,args:{withCredentials:!0,lang:"zh_CN"},render:{},hackClass:"",postInit:!1,postWidth:300,postHeight:500,cardHeight:0,groupNameHeight:0,postImg:"",postGenerating:!1,isPC:"windows"===h||"mac"===h},properties:{reqType:{type:Number,value:3,observer:function(t,e,o){this.queryPluginConfig()}},vcode:{type:String,value:"",observer:function(t,e,o){this.queryPluginConfig()}},plugid:{type:String,value:"",observer:function(t,e,o){this.queryPluginConfig()}},useErrCallback:{type:Boolean,value:!1},avatorStyle:{type:String},isMask:{type:Number},contactText:{type:Number},buttonText:{type:Number},buttonStyle:{type:String},buttonSize:{type:Number},paddingStyle:{type:Number},styleType:{type:Number},serviceText:{type:Number},plugType:{type:Number},blockStyle:{type:String},bubbleColor:{type:String},iconStyle:{type:String}},attached:function(){var t=this;a.initNameSpace(),a.setStorage("freego",{cookie:""},!1),wx.login?wx.login({success:function(e){console.log("success %o",e),t.setData({isNeedAuth:!1})},fail:function(e){t.setData({isNeedAuth:!0})}}):(t.notifyToHostApp({errcode:-3010}),t.setData({isNeedAuth:!0})),this.queryPluginConfig()},methods:{loginSuccess:function(t){this.checkWxVersion()?this.getPreviewQRCode(t.detail,"qrcode_xcxplug"):this.sendMsgToWx(t.detail,"contactplugin/sendmsgtowx"),this.report("sample_authorize_yes")},loginFail:function(t){this.notifyToHostApp({errcode:-3004}),this.report("sample_authorize_no")},onBindTap:function(){this.notifyToHostApp({state:1})},statFunctionalPage:function(){this.report(0==g.type?"plug_single_miniapp_use":"plug_multi_miniapp_use",79505335)},makeAuthReq:function(t){var e=t.forceMsg,o=this;wx.login({success:function(t){wx.getUserInfo({withCredentials:!0,success:function(n){var a={code:t.code,encryptedData:n.encryptedData,iv:n.iv};!e&&o.checkWxVersion()?o.getPreviewQRCode(a,"qrcode_xcxplug"):o.sendMsgToWx(a,"contactplugin/sendmsgtowx")},fail:function(){o.notifyToHostApp({errcode:-3004})}})},fail:function(){o.notifyToHostApp({errcode:-3004})}}),this.report(0==g.type?"plug_single_miniapp_use":"plug_multi_miniapp_use",79505335)},getRenderConfigByType:function(t,e){var o=0==t?c:p,n="",a=o.ROW;2==e?a=o.BLOCK:3==e&&0==t&&(a=o.MESSAGE),2==e&&(a=a[n=u.blockStyle(this.data.blockStyle)]);var i={};for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r](this.data[r]));return i.plugType=0==t?"SINGLE":"MULTI",i.styleType=1==e?"ROW":2==e?"BLOCK":"MESSAGE",i.blockStyle=n,i},queryPluginConfig:function(){var t=this;""==t.data.vcode&&""==t.data.plugid||n.request({ignore:!0,method:"POST",url:"contactplugin/queryconfig",data:{req_type:t.data.reqType,vcode:t.data.vcode,plugid:t.data.plugid}}).then((function(e){e.data&&e.data.data?(g=e.data.data,t.computeRenderData()):t.notifyToHostApp({errcode:-3002})}))},computeRenderData:function(){var t=this.data.plugType?this.data.plugType:u.pluginType(g.type),e=this.data.styleType?this.data.styleType:u.styleType(g.style),o=this.getRenderConfigByType(t,e);o.avatorUrl=g.headurl||"../../assets/people_icon_big.png",o.nickName=g.name||"",3==g.type&&(2==g.style?o=this.getRenderConfigByType(0,2):1==g.style&&((o=this.getRenderConfigByType(1,1)).contactText="\u52a0\u5165\u7fa4\u804a",o.iconStyle="ADD_CHAT")),o.type=g.type,console.log("%o",o),this.setData({render:o,isReady:!0})},getPreviewQRCode:function(t,e){var o=this;this.data.postImg?wx.previewImage({urls:[this.data.postImg]}):this.data.postGenerating?wx.showToast({title:"\u4e8c\u7ef4\u7801\u751f\u6210\u4e2d\uff0c\u8bf7\u7a0d\u7b49",icon:"none"}):(this.setData({postGenerating:!0}),wx.showLoading({title:"\u52a0\u8f7d\u4e2d"}),this.sendReqToSvr(t,e,1,(function(t){t.headurl||(t.headurl="https://wwcdn.weixin.qq.com/node/wework/images/group-default-avatar.ecdb8b064f.png"),o.getPost(t)})))},getPost:function(t){var e=wx.getSystemInfoSync().pixelRatio;this.data.postInit||this.initPostData(t),this.widget=this.selectComponent(".widget"),this.widget.ctx&&this.widget.canvas?(this.widget.ctx.scale(1,1),this.widget.canvas.height=this.data.postHeight*e,this.widget.canvas.width=this.data.postWidth*e,this.widget.ctx.scale(e,e),this.widget.dpr=e,this.getPostCanvas(t)):this.postErrHandle(!0)},initPostData:function(t){var e=wx.getSystemInfoSync(),o=e.screenWidth,n=(e.screenHeight,this.selectComponent(".widget").ctx),a=o-80-48,i=this.drawContent(n,t.name,a).length,r=499+28*(i-1),s=28*i,u=r+22+24+68;this.setData({postWidth:o,postHeight:u,cardHeight:r,groupNameHeight:s,postInit:!0}),console.log("init post done")},drawContent:function(t,e,o){t.font="600 20px sans-serif";var n=e.split("\n"),a=[];return n.forEach((function(e){var n=0,i=0;""==e?a.push(""):e.split("").forEach((function(r,s){(n+=t.measureText(r).width)>o&&(a.push({text:e.slice(i,s),width:n-t.measureText(r).width}),n=t.measureText(r).width,i=s),s==e.length-1&&a.push({text:e.slice(i),width:n})}))})),a},getPostCanvas:function(e){var n=this;this.widget=this.selectComponent(".widget");var a=(0,o.getPostWxml)(t(t({},this.data),e)),i=(0,o.getPostStyle)(this.data);this.widget.renderToCanvas({wxml:a,style:i}).then((function(t){n.container=t,n.extraImage(e)})).catch((function(t){console.log(t),n.postErrHandle()}))},extraImage:function(t){var e=this;this.widget.canvasToTempFilePath().then((function(o){wx.hideLoading(),wx.previewImage({urls:[o.tempFilePath]}),e.setData({postImg:o.tempFilePath,postGenerating:!1}),e.notifyToHostApp({errcode:1==t.type?-3006:0,name:t.name,headurl:t.headurl,notifytype:1})})).catch((function(t){console.log(t),e.postErrHandle()}))},postErrHandle:function(t){console.log("postErrHandle"),this.makeAuthReq({forceMsg:!0}),wx.hideLoading(),this.setData({postGenerating:!1}),t?this.logkvAutoReport(49591,"group|postfail|versionlow"):this.logkvAutoReport(49591,"group|postfail")},sendMsgToWx:function(t,e){this.sendReqToSvr(t,e,0)},sendReqToSvr:function(t,e,o,a){var i=this;this.triggerEvent("startmessage",{}),n.request({ignore:!0,method:"POST",url:e,data:{type:3,vcode:i.data.vcode,plugid:i.data.plugid,code:t.code,iv:t.iv,encryptedData:t.encryptedData}}).then((function(t){if(t.data&&t.data.data&&"{}"!=JSON.stringify(t.data.data))1==t.data.data.type?0==o?i.notifyToHostApp({errcode:-3006,name:t.data.data.name,notifytype:o,headurl:t.data.data.headurl}):a&&a(t.data.data):2==t.data.data.type?i.notifyToHostApp({errcode:-3007}):0==o?i.notifyToHostApp({errcode:0,name:t.data.data.name,notifytype:o,headurl:t.data.data.headurl}):a&&a(t.data.data);else{var e=""+(t.data&&t.data.result&&t.data.result.errCode||"");1!=o||i.data.useErrCallback?i.notifyToHostApp({errcode:e&&d[e]||d.default}):wx.showModal({title:e&&l[e]||l.default,showCancel:!1})}})).catch((function(t){i.setData({postGenerating:!1}),wx.hideLoading()}))},notifyToHostApp:function(t){this.triggerEvent("completemessage",t)},report:function(t,e){var o="https://work.weixin.qq.com/wework_admin/report?r="+Math.random()+"&q=";o+=encodeURIComponent('st:sgkvuin_report={"kv":'+(e||79505334)+',"key":"'+t+'","id":'+ +new Date+"}"),wx.request({url:o})},logkvReport:function(t,e){var o="https://work.weixin.qq.com/wework_admin/report?r="+Math.random()+"&q=";o+=encodeURIComponent('st:logkv_report={"kv": "'.concat(t,'", "value": "').concat(e||1,'"}'))+"&_t=".concat(+new Date),console.log(o),wx.request({url:o})},logkvAutoReport:function(t,e){var o="https://work.weixin.qq.com/wework_admin/report?r="+Math.random()+"&q=";o+=encodeURIComponent('st:logkvauto_report={"kv": "'.concat(t,'", "key": "').concat(e,'"}'))+"&_t=".concat(+new Date),wx.request({url:o})},checkWxVersion:function(){var t=wx.getSystemInfoSync(),o=t.version,n=t.platform;return"wxwork"!==t.environment&&("ios"==n&&(0,e.compareVersion)(o,"8.0.6")>=0||"android"==n&&(0,e.compareVersion)(o,"8.0.3")>=0)}}}); 
 			}); 	require("components/cell/cell.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wxaae6519cee98d824/components/wxml-to-canvas/index.js';global.__wxRouteBegin = true; 	define("components/wxml-to-canvas/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../@babel/runtime/regenerator")),t=require("../../@babel/runtime/helpers/asyncToGenerator"),a=require("./xml-parser"),r=require("./widget").Widget,n=require("./draw").Draw,i=require("./utils").compareVersion;Component({properties:{width:{type:Number,value:400},height:{type:Number,value:300},forceUseOldCanvas:{type:Boolean,value:!1}},data:{use2dCanvas:!1},lifetimes:{attached:function(){this.init()}},methods:{init:function(){var e=this,t=wx.getSystemInfoSync(),a=t.SDKVersion,r=t.pixelRatio,n=i(a,"2.9.2")>=0&&!this.data.forceUseOldCanvas;this.dpr=r,this.setData({use2dCanvas:n},(function(){n?e.createSelectorQuery().select("#".concat("weui-canvas")).fields({node:!0,size:!0}).exec((function(t){var a=t[0].node,n=a.getContext("2d");a.width=t[0].width*r,a.height=t[0].height*r,n.scale(r,r),e.ctx=n,e.canvas=a})):e.ctx=wx.createCanvasContext("weui-canvas",e)}))},renderToCanvas:function(i){var s=this;return t(e.default.mark((function t(){var o,u,c,d,h,l,v,f,p,w;return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.wxml,u=i.style,c=s.ctx,d=s.canvas,!(h=s.data.use2dCanvas)||d){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("renderToCanvas: fail canvas has not been created")));case 6:return c.clearRect(0,0,s.data.width,s.data.height),l=a(o),v=l.root,f=new r(v,u),p=f.init(),s.boundary={top:p.layoutBox.top,left:p.layoutBox.left,width:p.computedStyle.width,height:p.computedStyle.height},w=new n(c,d,h),e.next=14,w.drawNode(p);case 14:if(h){e.next=17;break}return e.next=17,s.canvasDraw(c);case 17:return e.abrupt("return",Promise.resolve(p));case 18:case"end":return e.stop()}}),t)})))()},canvasDraw:function(e,t){return new Promise((function(a){e.draw(t,(function(){a()}))}))},canvasToTempFilePath:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.data.use2dCanvas;return new Promise((function(r,n){var i=e.boundary,s=i.top,o=i.left,u=i.width,c=i.height,d={x:o,y:s,width:u,height:c,destWidth:u*e.dpr,destHeight:c*e.dpr,canvasId:"weui-canvas",fileType:t.fileType||"png",quality:t.quality||1,success:r,fail:n};a&&(delete d.canvasId,d.canvas=e.canvas),wx.canvasToTempFilePath(d,e)}))}}}); 
 			}); 	require("components/wxml-to-canvas/index.js");
 	
				global.publishDomainComponents({
			"plugin://wxaae6519cee98d824/cell":"plugin-private://wxaae6519cee98d824/components/cell/cell"
	})
				module.exports = function() {
		return require('index.js')
	}
			});
	requirePlugin("plugin://wxaae6519cee98d824");
	var __wxAppConsole__ = console;definePlugin("plugin://wx214b7e2bcde837d6", function(define, require, module, exports, global, wx, App, Page, Component, Behavior, getApp, getCurrentPages, console, requireMiniProgram, WXWebAssembly, __wxCodeSpace__) {            var __vd_version_info__=__vd_version_info__||{};            if (typeof console === 'undefined') {console=__wxAppConsole__; };			
			/*v0.5vv_20211229_syb_scopedata*/global.__wcc_version__='v0.5vv_20211229_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx_wx214b7e2bcde837d6=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx_wx214b7e2bcde837d6:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(typeof o==="string"||typeof o==="boolean"||typeof o==="number") return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(Object.prototype.hasOwnProperty.call(o,k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&typeof o==="function"){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_wx214b7e2bcde837d6 || [];
function gz$gwx_wx214b7e2bcde837d6_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_1)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_1
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'title']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_1);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_1
}
function gz$gwx_wx214b7e2bcde837d6_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_2)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_2
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_2);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_2
}
function gz$gwx_wx214b7e2bcde837d6_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_3)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_3
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shrinkVideo']])
Z([3,'msgItem'])
Z([[7],[3,'messageList']])
Z([3,'id'])
Z([a,[3,'qa-msg-item '],[[2,'?:'],[[6],[[7],[3,'msgItem']],[3,'isPatient']],[1,'right'],[1,'']],[3,' '],[[2,'?:'],[[6],[[7],[3,'msgItem']],[3,'isDoctor']],[1,'left'],[1,'']],[3,' '],[[2,'?:'],[[6],[[7],[3,'msgItem']],[3,'isSystemMsg']],[1,'center'],[1,'']]])
Z([a,[3,'msg'],[[7],[3,'index']]])
Z([[6],[[7],[3,'msgItem']],[3,'isDoctor']])
Z([[2,'=='],[[6],[[7],[3,'msgItem']],[3,'msgType']],[1,151]])
Z([[2,'=='],[[6],[[7],[3,'msgItem']],[3,'msgType']],[1,201]])
Z([3,'onCardClick'])
Z([3,'msg-item-content card-msg'])
Z([[6],[[6],[[7],[3,'msgItem']],[3,'cardContent']],[3,'url']])
Z([[6],[[6],[[7],[3,'msgItem']],[3,'cardContent']],[3,'image']])
Z([[6],[[7],[3,'msgItem']],[3,'isSystemMsg']])
Z([[6],[[7],[3,'msgItem']],[3,'isCard']])
Z(z[9])
Z(z[10])
Z(z[12])
Z([[2,'&&'],[[7],[3,'shrinkVideo']],[[2,'!'],[[7],[3,'isInquiryEnd']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_3);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_3
}
function gz$gwx_wx214b7e2bcde837d6_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_4)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_4
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'title']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_4);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_4
}
function gz$gwx_wx214b7e2bcde837d6_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_5)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_5
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'webrtc-room-component '],[[2,'?:'],[[7],[3,'shrinkVideo']],[1,'shrink-container'],[1,'']]])
Z([[7],[3,'showInquiryDuration']])
Z([[2,'&&'],[[7],[3,'shrinkVideo']],[[7],[3,'isInquirying']]])
Z([[7],[3,'showNoleaveTips']])
Z(z[2])
Z([3,'footer-bar'])
Z([[2,'!'],[[7],[3,'isInquirying']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'shrinkVideo']]],[[7],[3,'isInquirying']]])
Z([3,'onImChat'])
Z([3,'item-bar'])
Z([[7],[3,'showMessageTip']])
Z([[7],[3,'isShowDialog']])
Z([3,'cancelDialogHandler'])
Z([3,'confirmDialogHandler'])
Z([[6],[[7],[3,'dialogObj']],[3,'cancelText']])
Z([[6],[[7],[3,'dialogObj']],[3,'confirmText']])
Z([[6],[[7],[3,'dialogObj']],[3,'content']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_5);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_5
}
function gz$gwx_wx214b7e2bcde837d6_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_6)return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_6
__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasDeviceAuthorize']])
Z([[7],[3,'hasRejectedAuthorize']])
Z([3,'openAuthorizeSetting'])
Z([3,'去开启'])
Z([3,'为保证视频问诊正常进行，需要您开启摄像头和麦克风权限'])
Z([3,'提示'])
Z([a,[3,'container '],[[2,'?:'],[[7],[3,'shrinkVideo']],[1,'add-flex'],[1,'']]])
Z([a,[3,'padding-bottom: '],[[7],[3,'paddingBottomHeight']],[3,'px']])
Z([3,'onRoomError'])
Z([3,'addNoReadMessage'])
Z([3,'remoteJoinRoom'])
Z([3,'onEnterVideoInpicture'])
Z([3,'onGrowVideo'])
Z([3,'onEndBtnClick'])
Z([3,'onLeaveVideoInpicture'])
Z([3,'onShrinkVideo'])
Z([3,'room-wrap'])
Z([[7],[3,'connectText']])
Z([[6],[[7],[3,'videoToken']],[3,'durationMinutes']])
Z([3,'myroom'])
Z([[7],[3,'inquiryDurationStr']])
Z([[7],[3,'isHidePage']])
Z([[7],[3,'noReadMessage']])
Z([[6],[[7],[3,'videoToken']],[3,'roomid']])
Z([[6],[[7],[3,'videoToken']],[3,'sdkAppId']])
Z([[7],[3,'showInquiryDuration']])
Z([[7],[3,'shrinkVideo']])
Z([[6],[[7],[3,'videoToken']],[3,'strRoomID']])
Z([[6],[[7],[3,'videoToken']],[3,'userId']])
Z([[6],[[7],[3,'videoToken']],[3,'userSig']])
Z([[7],[3,'bottomAnchor']])
Z([[7],[3,'crossData']])
Z([[7],[3,'doctorInfo']])
Z([[7],[3,'messageList']])
Z(z[26])
Z([[7],[3,'showSubModal']])
Z([3,'onSubMessage'])
Z([[2,'!'],[[7],[3,'shrinkVideo']]])
Z(z[32])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_6);return __WXML_GLOBAL__.ops_cached.$gwx_wx214b7e2bcde837d6_6
}
__WXML_GLOBAL__.ops_set.$gwx_wx214b7e2bcde837d6=z;
__WXML_GLOBAL__.ops_init.$gwx_wx214b7e2bcde837d6=true;
var nv_require=function(){var nnm={};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./pages/inquiry-video/components/dialog/dialog.wxml','./pages/inquiry-video/components/doctor-info/index.wxml','./pages/inquiry-video/components/inquiry-im/index.wxml','./pages/inquiry-video/components/modal/index.wxml','./pages/inquiry-video/components/webrtc-room/webrtc-room.wxml','./pages/inquiry-video/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_1()
var oB=_v()
_(r,oB)
if(_oz(z,0,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_2()
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
var m2=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_3()
var fE=_v()
_(r,fE)
if(_oz(z,0,e,s,gg)){fE.wxVkey=1
var hG=_v()
_(fE,hG)
var oH=function(oJ,cI,lK,gg){
var tM=_mz(z,'view',['class',4,'id',1],[],oJ,cI,gg)
var eN=_v()
_(tM,eN)
if(_oz(z,6,oJ,cI,gg)){eN.wxVkey=1
}
var bO=_v()
_(tM,bO)
if(_oz(z,7,oJ,cI,gg)){bO.wxVkey=1
}
var oP=_v()
_(tM,oP)
if(_oz(z,8,oJ,cI,gg)){oP.wxVkey=1
var oR=_mz(z,'view',['bindtap',9,'class',1,'data-jumpurl',2],[],oJ,cI,gg)
var fS=_v()
_(oR,fS)
if(_oz(z,12,oJ,cI,gg)){fS.wxVkey=1
}
fS.wxXCkey=1
_(oP,oR)
}
var xQ=_v()
_(tM,xQ)
if(_oz(z,13,oJ,cI,gg)){xQ.wxVkey=1
var cT=_v()
_(xQ,cT)
if(_oz(z,14,oJ,cI,gg)){cT.wxVkey=1
var hU=_mz(z,'view',['bindtap',15,'class',1],[],oJ,cI,gg)
var oV=_v()
_(hU,oV)
if(_oz(z,17,oJ,cI,gg)){oV.wxVkey=1
}
oV.wxXCkey=1
_(cT,hU)
}
else{cT.wxVkey=2
}
cT.wxXCkey=1
}
eN.wxXCkey=1
bO.wxXCkey=1
oP.wxXCkey=1
xQ.wxXCkey=1
_(lK,tM)
return lK
}
hG.wxXCkey=2
_2z(z,2,oH,e,s,gg,hG,'msgItem','index','id')
}
var cF=_v()
_(r,cF)
if(_oz(z,18,e,s,gg)){cF.wxVkey=1
}
fE.wxXCkey=1
cF.wxXCkey=1
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
var m3=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_4()
var oX=_v()
_(r,oX)
if(_oz(z,0,e,s,gg)){oX.wxVkey=1
}
oX.wxXCkey=1
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
var m4=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_5()
var aZ=_n('view')
_rz(z,aZ,'class',0,e,s,gg)
var t1=_v()
_(aZ,t1)
if(_oz(z,1,e,s,gg)){t1.wxVkey=1
}
var e2=_v()
_(aZ,e2)
if(_oz(z,2,e,s,gg)){e2.wxVkey=1
}
var b3=_v()
_(aZ,b3)
if(_oz(z,3,e,s,gg)){b3.wxVkey=1
}
var o4=_v()
_(aZ,o4)
if(_oz(z,4,e,s,gg)){o4.wxVkey=1
}
var o6=_n('view')
_rz(z,o6,'class',5,e,s,gg)
var f7=_v()
_(o6,f7)
if(_oz(z,6,e,s,gg)){f7.wxVkey=1
}
var c8=_v()
_(o6,c8)
if(_oz(z,7,e,s,gg)){c8.wxVkey=1
var h9=_mz(z,'view',['bindtap',8,'class',1],[],e,s,gg)
var o0=_v()
_(h9,o0)
if(_oz(z,10,e,s,gg)){o0.wxVkey=1
}
o0.wxXCkey=1
_(c8,h9)
}
f7.wxXCkey=1
c8.wxXCkey=1
_(aZ,o6)
var x5=_v()
_(aZ,x5)
if(_oz(z,11,e,s,gg)){x5.wxVkey=1
var cAB=_mz(z,'dialog',['bind:onTouchCancel',12,'bind:onTouchConfirm',1,'cancelText',2,'confirmText',3,'content',4],[],e,s,gg)
_(x5,cAB)
}
t1.wxXCkey=1
e2.wxXCkey=1
b3.wxXCkey=1
o4.wxXCkey=1
x5.wxXCkey=1
x5.wxXCkey=3
_(r,aZ)
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
var m5=function(e,s,r,gg){
var z=gz$gwx_wx214b7e2bcde837d6_6()
var lCB=_v()
_(r,lCB)
if(_oz(z,0,e,s,gg)){lCB.wxVkey=1
var aDB=_v()
_(lCB,aDB)
if(_oz(z,1,e,s,gg)){aDB.wxVkey=1
var tEB=_mz(z,'modal',['bind:onTouchConfirm',2,'buttonText',1,'content',2,'title',3],[],e,s,gg)
_(aDB,tEB)
}
aDB.wxXCkey=1
aDB.wxXCkey=3
}
else{lCB.wxVkey=2
var eFB=_mz(z,'view',['class',6,'style',1],[],e,s,gg)
var xIB=_mz(z,'webrtc-room',['bind:RoomError',8,'bind:addNoReadMessage',1,'bind:onEnterRoom',2,'bind:onEnterVideoInpicture',3,'bind:onGrowVideo',4,'bind:onLeaveInquiry',5,'bind:onLeaveVideoInpicture',6,'bind:onShrinkVideo',7,'class',8,'connectText',9,'durationMinutes',10,'id',11,'inquiryDurationStr',12,'isHidePage',13,'noReadMessageNum',14,'roomID',15,'sdkAppID',16,'showInquiryDuration',17,'shrinkVideo',18,'strRoomID',19,'userID',20,'userSig',21],[],e,s,gg)
_(eFB,xIB)
var oJB=_mz(z,'inquiry-im',['bottomAnchor',30,'crossData',1,'doctorInfo',2,'messageList',3,'shrinkVideo',4],[],e,s,gg)
_(eFB,oJB)
var bGB=_v()
_(eFB,bGB)
if(_oz(z,35,e,s,gg)){bGB.wxVkey=1
var fKB=_n('modal')
_rz(z,fKB,'bind:onTouchConfirm',36,e,s,gg)
_(bGB,fKB)
}
var oHB=_v()
_(eFB,oHB)
if(_oz(z,37,e,s,gg)){oHB.wxVkey=1
var cLB=_n('doctorinfo-box')
_rz(z,cLB,'doctorInfo',38,e,s,gg)
_(oHB,cLB)
}
bGB.wxXCkey=1
bGB.wxXCkey=3
oHB.wxXCkey=1
oHB.wxXCkey=3
_(lCB,eFB)
}
lCB.wxXCkey=1
lCB.wxXCkey=3
lCB.wxXCkey=3
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}

				global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/dialog/dialog.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/dialog/dialog.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/components/dialog/dialog.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/dialog/dialog.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/components/dialog/dialog.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/doctor-info/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/doctor-info/index.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/components/doctor-info/index.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/doctor-info/index.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/components/doctor-info/index.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/inquiry-im/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/inquiry-im/index.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/components/inquiry-im/index.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/inquiry-im/index.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/components/inquiry-im/index.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/modal/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/modal/index.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/components/modal/index.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/modal/index.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/components/modal/index.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/webrtc-room/webrtc-room.json'] = {"component":true,"usingComponents":{"dialog":"../dialog/dialog"}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/webrtc-room/webrtc-room.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/components/webrtc-room/webrtc-room.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/webrtc-room/webrtc-room.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/components/webrtc-room/webrtc-room.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/index.json'] = {"backgroundTextStyle":"light","navigationBarTitleText":"视频问诊","navigationBarTextStyle":"black","usingComponents":{"webrtc-room":"./components/webrtc-room/webrtc-room","modal":"./components/modal/index","doctorinfo-box":"./components/doctor-info/index","inquiry-im":"./components/inquiry-im/index"}};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/index.wxml'] = [$gwx_wx214b7e2bcde837d6, './pages/inquiry-video/index.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/index.wxml'] = $gwx_wx214b7e2bcde837d6( './pages/inquiry-video/index.wxml' );
		global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/plugin.json'] = {"publicComponents":{},"pages":{"inquiry-video":"pages/inquiry-video/index"},"main":"index.js"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/plugin.wxml'] = [$gwx_wx214b7e2bcde837d6, './plugin.wxml' ];else global.__wxAppCode__['plugin-private://wx214b7e2bcde837d6/plugin.wxml'] = $gwx_wx214b7e2bcde837d6( './plugin.wxml' );
	
				define("index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-07-13 16:05:34
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-09-20 17:11:24
 * @FilePath: /wxapp-inquiry-video-plugin/plugin/index.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
 
 			}); 
		define("pages/inquiry-video/components/webrtc-room/static/trtc-wx-v10.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).TRTC=t()}(this,(function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function t(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?e(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){var e=(new Date).getTime(),t=new Date(e),r=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),i=t.getMilliseconds();return r=r<10?"0".concat(r):r,s=s<10?"0".concat(s):s,a=a<10?"0".concat(a):a,"".concat(r,":").concat(s,":").concat(a,".").concat(i)}var u="TRTC-WX",l=0,c=1,m=2,p=3,h=function(){function e(){s(this,e),this.logLevel=0}return i(e,[{key:"setLogLevel",value:function(e){this.logLevel=e}},{key:"log",value:function(){var e;this.logLevel===l&&(e=console).log.apply(e,[u,o()].concat(Array.prototype.slice.call(arguments)))}},{key:"info",value:function(){var e;this.logLevel<=c&&(e=console).info.apply(e,[u,o()].concat(Array.prototype.slice.call(arguments)))}},{key:"warn",value:function(){var e;this.logLevel<=m&&(e=console).warn.apply(e,[u,o()].concat(Array.prototype.slice.call(arguments)))}},{key:"error",value:function(){var e;this.logLevel<=p&&(e=console).error.apply(e,[u,o()].concat(Array.prototype.slice.call(arguments)))}}]),e}(),y=new h;var v=function(e){var t=/[\u4e00-\u9fa5]/;return e.sdkAppID?void 0===e.roomID&&void 0===e.strRoomID?(y.error("未设置 roomID"),!1):!e.strRoomID&&(e.roomID<1||e.roomID>4294967296)?(y.error("roomID 超出取值范围 1 ~ 4294967295"),!1):e.strRoomID&&t.test(e.strRoomID)?(y.error("strRoomID 请勿使用中文字符"),!1):e.userID?e.userID&&t.test(e.userID)?(y.error("userID 请勿使用中文字符"),!1):!!e.userSig||(y.error("未设置 userSig"),!1):(y.error("未设置 userID"),!1):(y.error("未设置 sdkAppID"),!1)},g={LOCAL_JOIN:"LOCAL_JOIN",LOCAL_LEAVE:"LOCAL_LEAVE",KICKED_OUT:"KICKED_OUT",REMOTE_USER_JOIN:"REMOTE_USER_JOIN",REMOTE_USER_LEAVE:"REMOTE_USER_LEAVE",REMOTE_VIDEO_ADD:"REMOTE_VIDEO_ADD",REMOTE_VIDEO_REMOVE:"REMOTE_VIDEO_REMOVE",REMOTE_AUDIO_ADD:"REMOTE_AUDIO_ADD",REMOTE_AUDIO_REMOVE:"REMOTE_AUDIO_REMOVE",REMOTE_STATE_UPDATE:"REMOTE_STATE_UPDATE",LOCAL_NET_STATE_UPDATE:"LOCAL_NET_STATE_UPDATE",REMOTE_NET_STATE_UPDATE:"REMOTE_NET_STATE_UPDATE",LOCAL_AUDIO_VOLUME_UPDATE:"LOCAL_AUDIO_VOLUME_UPDATE",REMOTE_AUDIO_VOLUME_UPDATE:"REMOTE_AUDIO_VOLUME_UPDATE",VIDEO_FULLSCREEN_UPDATE:"VIDEO_FULLSCREEN_UPDATE",BGM_PLAY_START:"BGM_PLAY_START",BGM_PLAY_FAIL:"BGM_PLAY_FAIL",BGM_PLAY_PROGRESS:"BGM_PLAY_PROGRESS",BGM_PLAY_COMPLETE:"BGM_PLAY_COMPLETE",ERROR:"ERROR",IM_READY:"IM_READY",IM_MESSAGE_RECEIVED:"IM_MESSAGE_RECEIVED",IM_NOT_READY:"IM_NOT_READY",IM_KICKED_OUT:"IM_KICKED_OUT",IM_ERROR:"IM_ERROR"},d={url:"",mode:"RTC",autopush:!1,enableCamera:!1,enableMic:!1,enableAgc:!1,enableAns:!1,enableEarMonitor:!1,enableAutoFocus:!0,enableZoom:!1,minBitrate:600,maxBitrate:900,videoWidth:360,videoHeight:640,beautyLevel:0,whitenessLevel:0,videoOrientation:"vertical",videoAspect:"9:16",frontCamera:"front",enableRemoteMirror:!1,localMirror:"auto",enableBackgroundMute:!1,audioQuality:"high",audioVolumeType:"voicecall",audioReverbType:0,waitingImage:"",waitingImageHash:"",beautyStyle:"smooth",filter:"",netStatus:{}},f={src:"",mode:"RTC",autoplay:!0,muteAudio:!0,muteVideo:!0,orientation:"vertical",objectFit:"fillCrop",enableBackgroundMute:!1,minCache:1,maxCache:2,soundMode:"speaker",enableRecvMessage:!1,autoPauseIfNavigate:!0,autoPauseIfOpenNative:!0,isVisible:!0,_definitionType:"main",netStatus:{}};(new Date).getTime();function E(){var e=new Date;return e.setTime((new Date).getTime()+0),e.toLocaleString()}var A=function(e){var t=[];if(e&&e.TUIScene&&t.push(e.TUIScene),e&&"test"===e.env)return"default";if(wx&&wx.TUIScene&&t.push(wx.TUIScene),wx&&"function"==typeof getApp){var r=getApp().globalData;r&&r.TUIScene&&t.push(r.TUIScene)}return wx&&wx.getStorage({key:"TUIScene",success:function(e){t.push(e.data)}}),t[0]||"default"},I=new(function(){function e(){s(this,e),this.sdkAppId="",this.userId="",this.version="",this.common={}}return i(e,[{key:"setConfig",value:function(e){this.sdkAppId="".concat(e.sdkAppId),this.userId="".concat(e.userId),this.version="".concat(e.version),this.common.TUIScene=A(e)}},{key:"log",value:function(e){"ios"===wx.getSystemInfoSync().platform&&wx.request({url:"https://yun.tim.qq.com/v5/AVQualityReportSvc/C2S?sdkappid=1&cmdtype=jssdk_log",method:"POST",header:{"content-type":"application/json"},data:{timestamp:E(),sdkAppId:this.sdkAppId,userId:this.userId,version:this.version,log:JSON.stringify(t(t({},e),this.common))}})}}]),e}()),_="enterRoom",L="exitRoom",b="setPusherAttributes",T="setPlayerAttributes",D="init",O="error",S="connectServer",k="startPusher",R="openCamera",P="screenCap",M="pusherResolution",U="pusherCodeRate",C="collectionFirstFrame",x="encoderStart",w="enterRoomSuccess",V="exitRoomSuccess",B="kicked_out",G="renderFirstFrame",j="miniAppHang",N="closeSuspension",F="other",H="update",Y="addUser",K="remove_user",q="update_user_video",J="update_user_audio",W="pusherStart",Q="pusherStop",X="pusherPause",Z="pusherResume",z=function(){function e(t,r){s(this,e),this.context=wx.createLivePusherContext(r),this.pusherAttributes={},Object.assign(this.pusherAttributes,d,t)}return i(e,[{key:"setPusherAttributes",value:function(e){return Object.assign(this.pusherAttributes,e),this.pusherAttributes}},{key:"start",value:function(e){y.log("[apiLog][pusherStart]"),I.log({name:W,options:e}),this.context.start(e)}},{key:"stop",value:function(e){y.log("[apiLog][pusherStop]"),I.log({name:Q,options:e}),this.context.stop(e)}},{key:"pause",value:function(e){y.log("[apiLog] pusherPause()"),I.log({name:X,options:e}),this.context.pause(e)}},{key:"resume",value:function(e){y.log("[apiLog][pusherResume]"),I.log({name:Z,options:e}),this.context.resume(e)}},{key:"switchCamera",value:function(e){return y.log("[apiLog][switchCamera]"),this.pusherAttributes.frontCamera="front"===this.pusherAttributes.frontCamera?"back":"front",this.context.switchCamera(e),this.pusherAttributes}},{key:"sendMessage",value:function(e){y.log("[apiLog][sendMessage]",e.msg),this.context.sendMessage(e)}},{key:"snapshot",value:function(){var e=this;return y.log("[apiLog][pusherSnapshot]"),new Promise((function(t,r){e.context.snapshot({quality:"raw",complete:function(e){e.tempImagePath?(wx.saveImageToPhotosAlbum({filePath:e.tempImagePath,success:function(r){t(e)},fail:function(e){y.error("[error] pusher截图失败: ",e),r(new Error("截图失败"))}}),t(e)):(y.error("[error] snapShot 回调失败",e),r(new Error("截图失败")))}})}))}},{key:"toggleTorch",value:function(e){this.context.toggleTorch(e)}},{key:"startDumpAudio",value:function(e){this.context.startDumpAudio(e)}},{key:"stopDumpAudio",value:function(e){this.context.startDumpAudio(e)}},{key:"playBGM",value:function(e){y.log("[apiLog] playBGM() url: ",e.url),this.context.playBGM(e)}},{key:"pauseBGM",value:function(e){y.log("[apiLog] pauseBGM()"),this.context.pauseBGM(e)}},{key:"resumeBGM",value:function(e){y.log("[apiLog] resumeBGM()"),this.context.resumeBGM(e)}},{key:"stopBGM",value:function(e){y.log("[apiLog] stopBGM()"),this.context.stopBGM(e)}},{key:"setBGMVolume",value:function(e){y.log("[apiLog] setBGMVolume() volume:",e),e&&e.volume&&"object"===r(e.volume)&&e.volume.volume?this.context.setBGMVolume(e.volume):this.context.setBGMVolume(e)}},{key:"setMICVolume",value:function(e){y.log("[apiLog] setMICVolume() volume:",e),e&&e.volume&&"object"===r(e.volume)&&e.volume.volume?this.context.setMICVolume(e.volume):this.context.setMICVolume(e)}},{key:"startPreview",value:function(e){y.log("[apiLog] startPreview()"),this.context.startPreview(e)}},{key:"stopPreview",value:function(e){y.log("[apiLog] stopPreview()"),this.context.stopPreview(e)}},{key:"reset",value:function(){return console.log("Pusher reset",this.context),this.pusherConfig={},this.context&&(this.stop({success:function(){console.log("Pusher context.stop()")}}),this.context=null),this.pusherAttributes}}]),e}(),$=i((function e(t){s(this,e),Object.assign(this,{userID:"",streams:{}},t)})),ee=function(){function e(t,r){s(this,e),this.ctx=r,this.playerAttributes={},Object.assign(this.playerAttributes,f,{userID:"",streamType:"",streamID:"",id:"",hasVideo:!1,hasAudio:!1,volume:0,playerContext:void 0},t)}return i(e,[{key:"play",value:function(e){this.getPlayerContext().play(e)}},{key:"stop",value:function(e){this.getPlayerContext().stop(e)}},{key:"mute",value:function(e){this.getPlayerContext().mute(e)}},{key:"pause",value:function(e){this.getPlayerContext().pause(e)}},{key:"resume",value:function(e){this.getPlayerContext().resume(e)}},{key:"requestFullScreen",value:function(e){var t=this;return new Promise((function(r,s){t.getPlayerContext().requestFullScreen({direction:e.direction,success:function(e){r(e)},fail:function(e){s(e)}})}))}},{key:"requestExitFullScreen",value:function(){var e=this;return new Promise((function(t,r){e.getPlayerContext().exitFullScreen({success:function(e){t(e)},fail:function(e){r(e)}})}))}},{key:"snapshot",value:function(e){var t=this;return y.log("[playerSnapshot]",e),new Promise((function(e,r){t.getPlayerContext().snapshot({quality:"raw",complete:function(t){t.tempImagePath?(wx.saveImageToPhotosAlbum({filePath:t.tempImagePath,success:function(r){y.log("save photo is success",r),e(t)},fail:function(e){y.error("save photo is fail",e),r(e)}}),e(t)):(y.error("snapShot 回调失败",t),r(new Error("截图失败")))}})}))}},{key:"setPlayerAttributes",value:function(e){Object.assign(this.playerAttributes,e)}},{key:"getPlayerContext",value:function(){return this.playerContext||(this.playerContext=wx.createLivePlayerContext(this.playerAttributes.id,this.ctx)),this.playerContext}},{key:"reset",value:function(){this.playerContext&&(this.playerContext.stop(),this.playerContext=void 0),Object.assign(this.playerAttributes,f,{userID:"",streamType:"",streamID:"",hasVideo:!1,hasAudio:!1,volume:0,playerContext:void 0})}}]),e}(),te="UserController",re=function(){function e(t,r){s(this,e),this.ctx=r,this.userMap=new Map,this.userList=[],this.streamList=[],this.emitter=t}return i(e,[{key:"userEventHandler",value:function(e){var t=e.detail.code,r=e.detail.message,s={name:F,code:t,message:r,data:""};switch(t){case 0:y.log(r,t);break;case 1001:y.log("已经连接推流服务器",t),s.name=S;break;case 1002:y.log("已经与服务器握手完毕,开始推流",t),s.name=k;break;case 1003:y.log("打开摄像头成功",t),s.name=R;break;case 1004:y.log("录屏启动成功",t),s.name=P;break;case 1005:y.log("推流动态调整分辨率",t),s.name=M;break;case 1006:y.log("推流动态调整码率",t),s.name=U;break;case 1007:y.log("首帧画面采集完成",t),s.name=C;break;case 1008:y.log("编码器启动",t),s.name=x;break;case 1018:y.log("进房成功",t),s.name=w,s.data="event enterRoom success",this.emitter.emit(g.LOCAL_JOIN);break;case 1019:y.log("退出房间",t),r.indexOf("reason[0]")>-1?(s.name=V,s.data="event exitRoom success"):(s.name=B,s.data="event abnormal exitRoom",this.emitter.emit(g.KICKED_OUT));break;case 2003:y.log("渲染首帧视频",t),s.name=G;break;case-1301:y.error("打开摄像头失败: ",t),s.name=O,s.data="event start camera failed",this.emitter.emit(g.ERROR,{code:t,message:r});break;case-1302:s.name=O,s.data="event start microphone failed",y.error("打开麦克风失败: ",t),this.emitter.emit(g.ERROR,{code:t,message:r});break;case-1303:y.error("视频编码失败: ",t),s.name=O,s.data="event video encode failed",this.emitter.emit(g.ERROR,{code:t,message:r});break;case-1304:y.error("音频编码失败: ",t),s.name=O,s.data="event audio encode failed",this.emitter.emit(g.ERROR,{code:t,message:r});break;case-1307:y.error("推流连接断开: ",t),s.name=O,s.data="event pusher stream failed",this.emitter.emit(g.ERROR,{code:t,message:r});break;case-100018:y.error("进房失败: userSig 校验失败，请检查 userSig 是否填写正确",t,r),s.name=O,s.data="event userSig is error",this.emitter.emit(g.ERROR,{code:t,message:r});break;case 5e3:y.log("小程序被挂起: ",t),s.name=j,s.data="miniApp is hang";break;case 5001:y.log("小程序悬浮窗被关闭: ",t),s.name=N;break;case 1021:y.log("网络类型发生变化，需要重新进房",t);break;case 2007:y.log("本地视频播放loading: ",t);break;case 2004:y.log("本地视频播放开始: ",t);break;case 1031:case 1032:case 1033:case 1034:this._handleUserEvent(e)}I.log(s)}},{key:"_handleUserEvent",value:function(e){var t,r=e.detail.code,s=e.detail.message;if(!e.detail.message||"string"!=typeof s)return y.warn(te,"userEventHandler 数据格式错误"),!1;try{t=JSON.parse(e.detail.message)}catch(e){return y.warn(te,"userEventHandler 数据格式错误",e),!1}switch(this.emitter.emit(g.LOCAL_STATE_UPDATE,e),I.log({name:H,code:r,message:s,data:t}),r){case 1031:this.addUser(t);break;case 1032:this.removeUser(t);break;case 1033:this.updateUserVideo(t);break;case 1034:this.updateUserAudio(t)}}},{key:"addUser",value:function(e){var t=this;y.log("addUser",e);var r=e.userlist;Array.isArray(r)&&r.length>0&&r.forEach((function(e){var r=e.userid,s=t.getUser(r);s||(s=new $({userID:r}),t.userList.push({userID:r})),t.userMap.set(r,s),t.emitter.emit(g.REMOTE_USER_JOIN,{userID:r,userList:t.userList,playerList:t.getPlayerList()}),I.log({name:Y,userID:r,userList:t.userList,playerList:t.getPlayerList()})}))}},{key:"removeUser",value:function(e){var t=this,r=e.userlist;Array.isArray(r)&&r.length>0&&r.forEach((function(e){var r=e.userid,s=t.getUser(r);s&&s.streams&&(t._removeUserAndStream(r),s.streams.main&&s.streams.main.reset(),s.streams.aux&&s.streams.aux.reset(),t.emitter.emit(g.REMOTE_USER_LEAVE,{userID:r,userList:t.userList,playerList:t.getPlayerList()}),I.log({name:K,userID:r,userList:t.userList,playerList:t.getPlayerList()}),s=void 0,t.userMap.delete(r))}))}},{key:"updateUserVideo",value:function(e){var t=this;y.log(te,"updateUserVideo",e);var r=e.userlist;Array.isArray(r)&&r.length>0&&r.forEach((function(e){var r=e.userid,s=e.streamtype,a="".concat(r,"_").concat(s),i=a,n=e.hasvideo,o=e.playurl,u=t.getUser(r);if(u){var l=u.streams[s];y.log(te,"updateUserVideo start",u,s,l),l?(l.setPlayerAttributes({hasVideo:n}),n||l.playerAttributes.hasAudio||t._removeStream(l)):(l=new ee({userID:r,streamID:a,hasVideo:n,src:o,streamType:s,id:i},t.ctx),u.streams[s]=l,t._addStream(l)),"aux"===s&&(n?(l.objectFit="contain",t._addStream(l)):t._removeStream(l)),t.userList.find((function(e){if(e.userID===r)return e["has".concat(s.replace(/^\S/,(function(e){return e.toUpperCase()})),"Video")]=n,!0})),y.log(te,"updateUserVideo end",u,s,l);var c=n?g.REMOTE_VIDEO_ADD:g.REMOTE_VIDEO_REMOVE;t.emitter.emit(c,{player:l.playerAttributes,userList:t.userList,playerList:t.getPlayerList()}),I.log({name:q,player:l.playerAttributes,userList:t.userList,playerList:t.getPlayerList()})}}))}},{key:"updateUserAudio",value:function(e){var t=this,r=e.userlist;Array.isArray(r)&&r.length>0&&r.forEach((function(e){var r=e.userid,s="main",a="".concat(r,"_").concat(s),i=a,n=e.hasaudio,o=e.playurl,u=t.getUser(r);if(u){var l=u.streams.main;l?(l.setPlayerAttributes({hasAudio:n}),n||l.playerAttributes.hasVideo||t._removeStream(l)):(l=new ee({userID:r,streamID:a,hasAudio:n,src:o,streamType:s,id:i},t.ctx),u.streams.main=l,t._addStream(l)),t.userList.find((function(e){if(e.userID===r)return e["has".concat(s.replace(/^\S/,(function(e){return e.toUpperCase()})),"Audio")]=n,!0}));var c=n?g.REMOTE_AUDIO_ADD:g.REMOTE_AUDIO_REMOVE;t.emitter.emit(c,{player:l.playerAttributes,userList:t.userList,playerList:t.getPlayerList()}),I.log({name:J,player:l.playerAttributes,userList:t.userList,playerList:t.getPlayerList()})}}))}},{key:"getUser",value:function(e){return this.userMap.get(e)}},{key:"getStream",value:function(e){var t=e.userID,r=e.streamType,s=this.userMap.get(t);if(s)return s.streams[r]}},{key:"getUserList",value:function(){return this.userList}},{key:"getStreamList",value:function(){return this.streamList}},{key:"getPlayerList",value:function(){for(var e=this.getStreamList(),t=[],r=0;r<e.length;r++)t.push(e[r].playerAttributes);return t}},{key:"reset",value:function(){return this.streamList.forEach((function(e){e.reset()})),this.streamList=[],this.userList=[],this.userMap.clear(),{userList:this.userList,streamList:this.streamList}}},{key:"_removeUserAndStream",value:function(e){this.streamList=this.streamList.filter((function(t){return t.playerAttributes.userID!==e&&""!==t.playerAttributes.userID})),this.userList=this.userList.filter((function(t){return t.userID!==e}))}},{key:"_addStream",value:function(e){this.streamList.includes(e)||this.streamList.push(e)}},{key:"_removeStream",value:function(e){this.streamList=this.streamList.filter((function(t){return t.playerAttributes.userID!==e.playerAttributes.userID||t.playerAttributes.streamType!==e.playerAttributes.streamType})),this.getUser(e.playerAttributes.userID).streams[e.playerAttributes.streamType]=void 0}}]),e}(),se=function(){function e(){s(this,e)}return i(e,[{key:"on",value:function(e,t,r){"function"==typeof t?(this._stores=this._stores||{},(this._stores[e]=this._stores[e]||[]).push({cb:t,ctx:r})):console.error("listener must be a function")}},{key:"emit",value:function(e){this._stores=this._stores||{};var t,r=this._stores[e];if(r){r=r.slice(0),(t=[].slice.call(arguments,1))[0]={eventCode:e,data:t[0]};for(var s=0,a=r.length;s<a;s++)r[s].cb.apply(r[s].ctx,t)}}},{key:"off",value:function(e,t){if(this._stores=this._stores||{},arguments.length){var r=this._stores[e];if(r)if(1!==arguments.length){for(var s=0,a=r.length;s<a;s++)if(r[s].cb===t){r.splice(s,1);break}}else delete this._stores[e]}else this._stores={}}}]),e}();return function(){function e(t,r){var a=this;s(this,e),this.env="prod",this.ctx=t,this.eventEmitter=new se,this.pusherInstance=null,this.userController=new re(this.eventEmitter,this.ctx),this.EVENT=g,this.TUIScene=null==r?void 0:r.TUIScene,"test"!==(null==r?void 0:r.env)?wx.getSystemInfo({success:function(e){return a.systemInfo=e}}):(this.env="test",I.log=function(){},y.log=function(){},y.warn=function(){})}return i(e,[{key:"initLog",value:function(e){I.setConfig({sdkAppId:e.sdkAppID,userId:e.userID,version:"wechat-mini",TUIScene:this.TUIScene,env:this.env})}},{key:"setLogLevel",value:function(e){y.setLogLevel(e)}},{key:"on",value:function(e,t,r){y.log("[on] 事件订阅: ".concat(e)),this.eventEmitter.on(e,t,r)}},{key:"off",value:function(e,t){y.log("[off] 取消订阅: ".concat(e)),this.eventEmitter.off(e,t)}},{key:"createPusher",value:function(e){return this.pusherInstance=new z(e,this.ctx),y.log("pusherInstance",this.pusherInstance),this.pusherInstance}},{key:"getPusherInstance",value:function(){return this.pusherInstance}},{key:"enterRoom",value:function(e){y.log("[apiLog] [enterRoom]",e);var r=function(e){if(!v(e))return null;e.scene=e.scene&&"rtc"!==e.scene?e.scene:"videocall",e.enableBlackStream=e.enableBlackStream||"",e.encsmall=e.encsmall||0,e.cloudenv=e.cloudenv||"PRO",e.streamID=e.streamID||"",e.userDefineRecordID=e.userDefineRecordID||"",e.privateMapKey=e.privateMapKey||"",e.pureAudioMode=e.pureAudioMode||"",e.recvMode=e.recvMode||1;var t="";return t=e.strRoomID?"&strroomid=".concat(e.strRoomID):"&roomid=".concat(e.roomID),"room://cloud.tencent.com/rtc?sdkappid=".concat(e.sdkAppID).concat(t,"&userid=").concat(e.userID,"&usersig=").concat(e.userSig,"&appscene=").concat(e.scene,"&encsmall=").concat(e.encsmall,"&cloudenv=").concat(e.cloudenv,"&enableBlackStream=").concat(e.enableBlackStream,"&streamid=").concat(e.streamID,"&userdefinerecordid=").concat(e.userDefineRecordID,"&privatemapkey=").concat(e.privateMapKey,"&pureaudiomode=").concat(e.pureAudioMode,"&recvmode=").concat(e.recvMode,"&component=").concat(function(){var e="";try{e=wx&&wx.TUIScene?wx.TUIScene:wx&&wx.getStorageSync&&wx.getStorageSync("TUIScene")?wx.getStorageSync("TUIScene"):getApp&&getApp()&&getApp().globalData&&getApp().globalData.TUIScene?getApp().globalData.TUIScene:""}catch(t){e="",console.error(t)}switch(e){case"sampleDemo":return 2;case"TUICalling":return 3;case"TUIRoom":return 5;case"TUIVoiceRoom":return 6;case"TIMCalling":return 10;default:return 1}}())}(e);return this.initLog(t(t({},e),{},{env:this.env})),I.log({name:D}),r||(this.eventEmitter.emit(g.ERROR,{message:"进房参数错误"}),I.log({name:O,message:"进房参数错误",data:e})),this.pusherInstance.setPusherAttributes(t(t({},e),{},{url:r})),y.warn("[statusLog] [enterRoom]",this.pusherInstance.pusherAttributes),I.log({name:_,pusherConfig:this.pusherInstance.pusherAttributes}),this.getPusherAttributes()}},{key:"exitRoom",value:function(){this.userController.reset();var e=Object.assign({pusher:this.pusherInstance.reset()},{playerList:this.userController.getPlayerList()});return this.eventEmitter.emit(g.LOCAL_LEAVE),I.log({name:L,data:e}),e}},{key:"getPlayerList",value:function(){var e=this.userController.getPlayerList();return y.log("[apiLog][getStreamList]",e),e}},{key:"setPusherAttributes",value:function(e){return y.log("[apiLog] [setPusherAttributes], ",e),this.pusherInstance.setPusherAttributes(e),y.warn("[statusLog] [setPusherAttributes]",this.pusherInstance.pusherAttributes),I.log({name:b,options:e,pusherConfig:this.pusherInstance.pusherAttributes}),this.pusherInstance.pusherAttributes}},{key:"getPusherAttributes",value:function(){return y.log("[apiLog] [getPusherConfig]"),this.pusherInstance.pusherAttributes}},{key:"setPlayerAttributes",value:function(e,t){y.log("[apiLog] [setPlayerAttributes] id",e,"options: ",t);var r=this._transformStreamID(e),s=r.userID,a=r.streamType,i=this.userController.getStream({userID:s,streamType:a});return i?(i.setPlayerAttributes(t),I.log({name:T,id:e,options:t,playerList:this.getPlayerList()}),this.getPlayerList()):this.getPlayerList()}},{key:"getPlayerInstance",value:function(e){var t=this._transformStreamID(e),r=t.userID,s=t.streamType;return y.log("[api][getPlayerInstance] id:",e),this.userController.getStream({userID:r,streamType:s})}},{key:"switchStreamType",value:function(e){y.log("[apiLog] [switchStreamType] id: ",e);var t=this._transformStreamID(e),r=t.userID,s=t.streamType,a=this.userController.getStream({userID:r,streamType:s});return"main"===a._definitionType?(a.src=a.src.replace("main","small"),a._definitionType="small"):(a.src=a.src.replace("small","main"),a._definitionType="main"),this.getPlayerList()}},{key:"pusherEventHandler",value:function(e){this.userController.userEventHandler(e)}},{key:"pusherNetStatusHandler",value:function(e){var t=e.detail.info;this.pusherInstance.setPusherAttributes(t),this.eventEmitter.emit(g.LOCAL_NET_STATE_UPDATE,{pusher:this.pusherInstance.pusherAttributes})}},{key:"pusherErrorHandler",value:function(e){try{var t=e.detail.errCode,r=e.detail.errMsg;this.eventEmitter.emit(g.ERROR,{code:t,message:r}),I.log({name:O,code:t,message:r})}catch(t){y.error("pusher error data parser exception",e,t)}}},{key:"pusherBGMStartHandler",value:function(e){this.eventEmitter.emit(g.BGM_PLAY_START)}},{key:"pusherBGMProgressHandler",value:function(e){var t,r,s,a;this.eventEmitter.emit(g.BGM_PLAY_PROGRESS,{progress:null===(t=e.data)||void 0===t||null===(r=t.detail)||void 0===r?void 0:r.progress,duration:null===(s=e.data)||void 0===s||null===(a=s.detail)||void 0===a?void 0:a.duration})}},{key:"pusherBGMCompleteHandler",value:function(e){this.eventEmitter.emit(g.BGM_PLAY_COMPLETE)}},{key:"pusherAudioVolumeNotify",value:function(e){this.pusherInstance.pusherAttributes.volume=e.detail.volume,this.eventEmitter.emit(g.LOCAL_AUDIO_VOLUME_UPDATE,{pusher:this.pusherInstance.pusherAttributes})}},{key:"playerEventHandler",value:function(e){y.log("[statusLog][playerStateChange]",e),this.eventEmitter.emit(g.REMOTE_STATE_UPDATE,e)}},{key:"playerFullscreenChange",value:function(e){this.eventEmitter.emit(g.VIDEO_FULLSCREEN_UPDATE)}},{key:"playerNetStatus",value:function(e){var t=this._transformStreamID(e.currentTarget.dataset.streamid),r=t.userID,s=t.streamType,a=this.userController.getStream({userID:r,streamType:s});!a||a.videoWidth===e.detail.info.videoWidth&&a.videoHeight===e.detail.info.videoHeight||(a.setPlayerAttributes({netStatus:e.detail.info}),this.eventEmitter.emit(g.REMOTE_NET_STATE_UPDATE,{playerList:this.userController.getPlayerList()}))}},{key:"playerAudioVolumeNotify",value:function(e){var t=this._transformStreamID(e.currentTarget.dataset.streamid),r=t.userID,s=t.streamType,a=this.userController.getStream({userID:r,streamType:s}),i=e.detail.volume;a.setPlayerAttributes({volume:i}),this.eventEmitter.emit(g.REMOTE_AUDIO_VOLUME_UPDATE,{playerList:this.userController.getPlayerList()})}},{key:"_transformStreamID",value:function(e){var t=e.lastIndexOf("_");return{userID:e.slice(0,t),streamType:e.slice(t+1)}}}]),e}()}));
//# sourceMappingURL=trtc-wx.js.map
 
 			}); 
		define("pages/inquiry-video/utils/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

const wxRequest = require('./request');

const USER_FINISH_URL = '/api/user/online-inquiry/finish'; // 用户主动结束视频门诊
const VIDEO_STATUS_URL = '/api/user/online-inquiry/query'; // 获取视频问诊状态
const USER_ENTER_URL = '/api/user/online-inquiry/enter'; // 用户进入视频问诊
const HISTORY_MSG_URL = '/api/user/online-inquiry/chat-records'; // 历史消息
const SOCKET_CONNECTED_URL = '/api/user/online-inquiry/connected'; // 通知服务器 socket 链接成功
const VIDEO_TOKEN_URL = '/api/common/online-inquiry/video/token'; // 获取进入视频问诊时需要的参数
const USER_LEAVE_URL = '/api/user/online-inquiry/leave'; // 通知服务器用户离开房间
const SEND_MSG_URL = '/api/user/online-inquiry/chat-record/send'; // 用户发送消息
const CAN_SUB_URL = '/cooperation/wap/mini_sub/can_sub/'// 用户查询是否需要订阅消息 
const USER_SUB_URL = '/cooperation/wap/mini_sub/save/'// 用户选择订阅消息 

/**
 * 封装春雨 post 请求
 * @param {string} url 请求 url 
 * @param {object} data 提交信息
 */
const postCyInfo = (url, data) => {
  const reqData = {
    method: 'POST',
    url,
    data
  }
  return wxRequest(reqData);
}

/**
 * 封装互联网医院 get 请求
 * @param {string} host 互联网医院域名 
 * @param {string} url 请求 url 
 * @param {string} token 互联网医院 token 
 * @param {object} params 查询参数 
 */
const getCHResult = (host, url, token, params) => {
  const data = {
    url,
    header: {
      CYCloudHospitalAuth: token
    },
    data: params,
  };
  return wxRequest(data, host);
}

/**
 * 封装互联网医院 post 请求
 * @param {string} host 互联网医院域名 
 * @param {string} url 请求 url 
 * @param {string} token 互联网医院 token 
 * @param {object} data 提交信息
 */
const postCHInfo = (host, url, token, data) => {
  const reqData = {
    url,
    method: 'POST',
    header: {
      CYCloudHospitalAuth: token,
    },
    data,
  }

  return wxRequest(reqData, host);
}

/**
 * 用户主动结束视频问诊
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const userFinishApi = (host, token, data) => {
  return postCHInfo(host, USER_FINISH_URL, token, data);
}


/**
 * 获取视频问诊状态
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const getVideoStatusApi = (host, token, data) => {
  return postCHInfo(host, VIDEO_STATUS_URL, token, data);
}

/**
 * 用户进入视频问诊
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const userEnterApi = (host, token, data) => {
  return postCHInfo(host, USER_ENTER_URL, token, data);
}

/**
 * 用户进入视频问诊
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} params 请求参数
 */
const getHistoryMsgApi = (host, token, params) => {
  return getCHResult(host, HISTORY_MSG_URL, token, params);
}

/**
 * 通知服务器 socket 链接成功
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const socketConnectedApi = (host, token, data) => {
  return postCHInfo(host, SOCKET_CONNECTED_URL, token, data);
}

/**
 * 获取进入视频房间所需的信息
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const getVideoTokenApi = (host, token, data) => {
  return postCHInfo(host, VIDEO_TOKEN_URL, token, data);
}

/**
 * 通知服务器用户离开房间
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const userLeaveApi = (host, token, data) => {
  return postCHInfo(host, USER_LEAVE_URL, token, data);
}

/**
 * 用户发送消息
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
const sendMsgApi = (host, token, data) => {
  return postCHInfo(host, SEND_MSG_URL, token, data);
}

/**
 * 用户是否订阅消息
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
 const userCanSubApi = (data) => {
  return postCyInfo(CAN_SUB_URL,data);
}

/**
 * 用户选择订阅消息
 * @param {string} host 互联网医院域名
 * @param {string} token 互联网医院 token
 * @param {object} data 提交信息
 */
 const userSubMessageApi = (data) => {
  return postCyInfo(USER_SUB_URL,data);
}

module.exports = {
  userFinishApi,
  getVideoStatusApi,
  userEnterApi,
  getHistoryMsgApi,
  socketConnectedApi,
  getVideoTokenApi,
  userLeaveApi,
  sendMsgApi,
  userCanSubApi,
  userSubMessageApi,
};
 
 			}); 
		define("pages/inquiry-video/utils/enum.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
// 消息code-类型对照
const MSG_CODE_TYPE = {
    system: [100, 101, 102, 103, 110, 1001, 1002, 1003], // 系统消息
    text: [1, 100, 110, 1002, 1003, 1004], // 需要以文字形式展示的消息
    image: [2], // 需要以图片形式展示的消息
    card: [101, 102, 103, 151, 201], // 需要以卡片形式展示的消息
  };

// 消息发送方map
const MSG_AUTHOR_MAP = {
    patient: 'patient', // 患者发送的消息
    doctor: 'doctor', // 医生发送的消息
    system: 'system', // 系统消息
  };
  module.exports = {MSG_CODE_TYPE,MSG_AUTHOR_MAP}; 
 			}); 
		define("pages/inquiry-video/utils/formatMsg.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-09-12 15:45:24
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-09-14 16:16:29
 * @FilePath: /wxapp_inquiry_video_plugin/plugin/pages/inquiry-video/utils/formatMsg.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
const { MSG_AUTHOR_MAP, MSG_CODE_TYPE } = require('./enum');
console.log(MSG_CODE_TYPE, 'MSG_CODE_TYPE');
/**
 * 格式化聊天消息
 *
 * @param {object} msgItem 单条消息
 * @returns {object} 格式化后的消息
 */
function formatMsg(msgItem, doctorInfo) {
  const author = getMsgAuthor(msgItem, doctorInfo);

  switch (author) {
    case MSG_AUTHOR_MAP.patient:
      msgItem.isPatient = true;
      break;
    case MSG_AUTHOR_MAP.doctor:
      msgItem.isDoctor = true;
      break;
    case MSG_AUTHOR_MAP.system:
      msgItem.isSystemMsg = true;
      break;
    default:
      console.log('消息错误');
  }

  let { msgType } = msgItem;
  msgType = Number(msgType);

  if (MSG_CODE_TYPE.text.includes(msgType)) {
    msgItem.textContent = parseTextMsg(msgItem.content);
  } else if (MSG_CODE_TYPE.image.includes(msgType)) {
    msgItem.imgContent = parseImgMsg(msgItem.content);
  } else if (MSG_CODE_TYPE.card.includes(msgType)) {
    msgItem.isCard = true;
    msgItem.cardContent = parseCardMsg(msgItem.content);
  }

  return msgItem;
}

/**
 * 判断消息发送者（患者、医生、系统）
 *
 * @param {object} msgItem 服务器返回的消息
 * @returns {string} 消息发送者
 */
function getMsgAuthor(msgItem, doctorInfo) {
  const { userId, msgType, isDoctorLocal, isPatientLocal } = msgItem;

  if (!userId || MSG_CODE_TYPE.system.includes(Number(msgType))) {
    return MSG_AUTHOR_MAP.system;
  }

  if ((userId && userId !== doctorInfo.userId) || isPatientLocal) {
    return MSG_AUTHOR_MAP.patient;
  }

  if ((userId && userId === doctorInfo.userId) || isDoctorLocal) {
    return MSG_AUTHOR_MAP.doctor;
  }
}

/**
 * 解析文本类型消息
 *
 * @param {object|string} content 消息内容
 * @returns {string} 解析后的文本
 */
function parseTextMsg(content) {
  const result = parseMsg(content);
  return result && result.text ? result.text : '';
}

/**
 * 解析卡片类型消息
 *
 * @param {object|string} content 消息内容
 * @returns {object} 解析后的卡片内容
 */
function parseCardMsg(content) {
  const result = parseMsg(content);
  const {
    title = '',
    desc = '',
    image = '',
    url = '',
    service_state_icon,
    service_button_text,
    contents,
  } = result;

  return {
    title,
    desc,
    image,
    url,
    service_state_icon,
    service_button_text,
    contents,
  };
}

/**
 * 解析消息
 *
 * @param {string} content 消息内容
 * @returns {object} 解析后的消息对象
 */
function parseMsg(content) {
  let result = {};
  try {
    result = JSON.parse(content);
  } catch (e) {
    console.error('消息解析错误', e);
  }
  return result;
}

/**
 * 解析图片类型消息
 *
 * @param {object|string} content 消息内容
 */
function parseImgMsg(content) {
  const result = parseMsg(content);
  if (result && result.url) {
    return result.url;
  } else {
    return '';
  }
}

module.exports = formatMsg;
 
 			}); 
		define("pages/inquiry-video/utils/host.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
const defaultHostKey = 'biz';
let currentHostKey = wx.getStorageSync('BASE_HOST_KEY') || defaultHostKey;
const miniProgramExports = requireMiniProgram();
const hostMap = {
  test: 'https://test.chunyutianxia.com',
  biz: 'https://biztest.chunyutianxia.com',
  dev: 'https://devtest.chunyutianxia.com',
  online: 'https://www.chunyuyisheng.com',
  stage: 'https://stage.chunyuyisheng.com'
};

const env = wx.getAccountInfoSync().miniProgram.envVersion;
const isDevelop = env === 'develop' || env === 'trial';

if (!isDevelop) {
  currentHostKey = 'online';
}

if(miniProgramExports.host){
  currentHostKey = miniProgramExports.host;
}
wx.removeStorageSync('BASE_HOST_KEY');
console.log(`当前环境是${hostMap[currentHostKey]}`);

const baseHost = hostMap[currentHostKey];
// export default baseHost;

module.exports =  baseHost
 
 			}); 
		define("pages/inquiry-video/utils/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-07-13 17:34:41
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-09-25 14:35:16
 * @FilePath: /wxapp-inquiry-video-plugin/plugin/pages/inquiry-video/utils/request.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
const baseHost = require('./host.js');  
const rHttp = /^http(s)?:\/\//;  
  
const getMyHeader = () => {  
  return {  
    'Content-Type': 'application/json'  
  };  
};  
  
const wxRequest = (params, host = baseHost) => {  
  return new Promise((resolve, reject) => {  
    const { url = '', data = {}, method = 'GET', header = {} } = params;  
    const myHeader = getMyHeader();  
      
    if (method === 'POST') {  
      myHeader['Content-Type'] = 'application/x-www-form-urlencoded';  
    }   
  
    const requestHeader = Object.assign({}, header, myHeader);  
    const requestData = Object.assign({}, data, { from_wx_mini: 1 });  
  
    wx.request({  
      url: rHttp.test(url) ? url : `${host}${url}`,  
      data: requestData,  
      header: requestHeader,  
      method,  
      success(res = {}) {  
        const { statusCode, data = {} } = res;  
        if (statusCode >= 200 && statusCode <= 400) {  
          resolve(data);  
        } else {  
          reject({ statusCode, ...data });  
        }  
      },  
      fail(err) {  
        console.log(`${url} request error:::`, err);  
        reject({ error_msg: '网络请求出错，请稍后重试', err });  
      },  
    });  
  });  
};  
  
module.exports = wxRequest; 
 			}); 
		define("pages/inquiry-video/utils/socket.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
const { Stomp } = require('./stomp.min.js');
const { HeartCheckClass } = require('./utils.js');
const { socketConnectedApi } = require('./api.js');
Stomp.setInterval = (interval, f) => {
  return setInterval(f, interval);
};
Stomp.clearInterval = (id) => {
  return clearInterval(id);
};
class imSocket {
  constructor(inquiryId, crossData) {
    this.inquiryId = inquiryId;
    this.crossData = crossData;
    this.socketData = {
      isConnected: false,
      messageQueue: [],
      reconnect: true,
      reconnectTimer: null,
      reconnectCount: 0,
    };
    this.socketTask = null;
    this.stompClient = null;
    this.heartCheck = null;
  }

  initSocket() {
    this.socketTask = wx.connectSocket({
      url: `${this.crossData.partner_url.replace(
        'https',
        'wss'
      )}/ws/websocket?CYCloudHospitalAuth=${this.crossData.token}`,
      success: (res) => {
        console.log('wx.connectSocket success', res);
        this.setupWebSocketListeners();
      },
      fail: (res) => {
        this.reconnectSocket();
        console.log('wx.connectSocket fail', res);
      },
    });
  }

  setupWebSocketListeners() {
    this.socketTask.onOpen(() => {
      this.socketData.isConnected = true;
      this.connectStomp();
      this.stompClient.ws.onopen();
      this.sendQueuedMessages();
    });

    this.socketTask.onMessage((msg) => {
      this.stompClient.ws.onmessage(msg);
    });

    this.socketTask.onError((res) => {
      console.log('WebSocket错误事件:', res);
      this.reconnectSocket();
    });

    this.socketTask.onClose((res) => {
      console.log('WebSocket连接关闭:', res);
      this.reconnectSocket();
    });
  }

  sendQueuedMessages() {
    if (this.socketData.isConnected) {
      for (const message of this.socketData.messageQueue) {
        this.socketTask.send({
          data: message,
        });
      }
      this.socketData.messageQueue = [];
    }
  }

  reconnectSocket() {
    if (this.socketData.reconnect && !this.socketData.isConnected) {
      const delay = Math.min(
        1000 * Math.pow(2, this.socketData.reconnectCount),
        30000
      );
      console.log(`Reconnecting in ${delay / 1000} seconds...`);

      this.socketData.reconnectTimer = setTimeout(() => {
        this.socketData.reconnectCount++;
        this.initializeWebSocket();
      }, delay);
    } else {
      console.log('不进入重连逻辑');
    }
  }

  connectStomp() {
    this.stompClient = Stomp.over({
      send: (msg) => {
        if (this.socketData.isConnected) {
          this.socketTask.send({
            data: msg,
          });
        } else {
          this.socketData.messageQueue.push(msg);
        }
      },
      close: () => {
        if (this.socketData.isConnected) {
          this.socketData.isConnected = false;
          this.socketTask.close({
            success: (res) => {
              console.log('wx.closeSocket success', res);
            },
            fail: (res) => {
              console.log('wx.closeSocket fail', res);
            },
          });
        }
      },
    });
    this.stompClient.debug = (str) => {
      console.log('>>> stomp.debug <<<', str);
    };

    this.heartCheck = new HeartCheckClass(this.stompClient, this.inquiryId);
    this.heartCheck.start();
    let inInquiryId = this.inquiryId;
    this.stompClient.connect(
      {
        id: inInquiryId,
        type: 2,
      },
      this.onConnected.bind(this),
      this.onReconnect.bind(this)
    );
  }

  setOnMessageReceivedCallback(callback) {
    this.onMessageReceivedCallback = callback;
  }

  onConnected() {
    const { partner_url, token } = this.crossData;
    // 通知服务器连接成功
    socketConnectedApi(partner_url, token, {
      inquiryId: this.inquiryId,
    });
    this.stompClient.subscribe(
      `/topic/inquiry-chat/${this.inquiryId}`,
      (info) => {
        if (this.onMessageReceivedCallback) {
          this.onMessageReceivedCallback(info);
        }
      },
      (err) => {
        console.log(err, 'err');
      }
    );
  }

  onReconnect(err) {
    console.log(err, 'err');
  }

  closeSocket() {
    this.heartCheck.stop();
    this.stompClient &&
      this.stompClient.disconnect(
        () => {
          console.log('***key***: 退出webscoket连接');
        },
        {
          id: this.inquiryId,
          type: 2,
        }
      );
  }
}

module.exports = imSocket;
 
 			}); 
		define("pages/inquiry-video/utils/stomp.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-07-13 17:33:39
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-09-11 17:24:14
 * @FilePath: /wxapp_inquiry_video_plugin/plugin/pages/inquiry-video/utils/stomp.min.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
// Generated by CoffeeScript 1.7.1
/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
   (function () { var t, e, n, i, r = {}.hasOwnProperty, o = [].slice; t = { LF: '\n', NULL: '\x00' }; n = function () { var e; function n(t, e, n) { this.command = t; this.headers = e != null ? e : {}; this.body = n != null ? n : ''; } n.prototype.toString = function () { var e, i, o, s, u; e = [this.command]; o = this.headers['content-length'] === false ? true : false; if (o) { delete this.headers['content-length']; } u = this.headers; for (i in u) { if (!r.call(u, i)) continue; s = u[i]; e.push('' + i + ':' + s); } if (this.body && !o) { e.push('content-length:' + n.sizeOfUTF8(this.body)); } e.push(t.LF + this.body); return e.join(t.LF); }; n.sizeOfUTF8 = function (t) { if (t) { return encodeURI(t).match(/%..|./g).length; } else { return 0; } }; e = function (e) { var i, r, o, s, u, a, c, f, h, l, p, d, g, b, m, v, y; s = e.search(RegExp('' + t.LF + t.LF)); u = e.substring(0, s).split(t.LF); o = u.shift(); a = {}; d = function (t) { return t.replace(/^\s+|\s+$/g, ''); }; v = u.reverse(); for (g = 0, m = v.length; g < m; g++) { l = v[g]; f = l.indexOf(':'); a[d(l.substring(0, f))] = d(l.substring(f + 1)); } i = ''; p = s + 2; if (a['content-length']) { h = parseInt(a['content-length']); i = ('' + e).substring(p, p + h); } else { r = null; for (c = b = p, y = e.length; p <= y ? b < y : b > y; c = p <= y ? ++b : --b) { r = e.charAt(c); if (r === t.NULL) { break; } i += r; } } return new n(o, a, i); }; n.unmarshall = function (n) { var i; return function () { var r, o, s, u; s = n.split(RegExp('' + t.NULL + t.LF + '*')); u = []; for (r = 0, o = s.length; r < o; r++) { i = s[r]; if ((i != null ? i.length : void 0) > 0) { u.push(e(i)); } } return u; }(); }; n.marshall = function (e, i, r) { var o; o = new n(e, i, r); return o.toString() + t.NULL; }; return n; }(); e = function () { var e; function r(t) { this.ws = t; this.ws.binaryType = 'arraybuffer'; this.counter = 0; this.connected = false; this.heartbeat = { outgoing: 1e4, incoming: 1e4 }; this.maxWebSocketFrameSize = 16 * 1024; this.subscriptions = {}; } r.prototype.debug = function (t) { var e; return typeof window !== 'undefined' && window !== null ? (e = window.console) != null ? e.log(t) : void 0 : void 0; }; e = function () { if (Date.now) { return Date.now(); } else { return (new Date).valueOf; } }; r.prototype._transmit = function (t, e, i) { var r; r = n.marshall(t, e, i); if (typeof this.debug === 'function') { this.debug('>>> ' + r); } while (true) { if (r.length > this.maxWebSocketFrameSize) { this.ws.send(r.substring(0, this.maxWebSocketFrameSize)); r = r.substring(this.maxWebSocketFrameSize); if (typeof this.debug === 'function') { this.debug('remaining = ' + r.length); } } else { return this.ws.send(r); } } }; r.prototype._setupHeartbeat = function (n) { var r, o, s, u, a, c; if ((a = n.version) !== i.VERSIONS.V1_1 && a !== i.VERSIONS.V1_2) { return; } c = function () { var t, e, i, r; i = n['heart-beat'].split(','); r = []; for (t = 0, e = i.length; t < e; t++) { u = i[t]; r.push(parseInt(u)); } return r; }(), o = c[0], r = c[1]; if (!(this.heartbeat.outgoing === 0 || r === 0)) { s = Math.max(this.heartbeat.outgoing, r); if (typeof this.debug === 'function') { this.debug('send PING every ' + s + 'ms'); } this.pinger = i.setInterval(s, function (e) { return function () { e.ws.send(t.LF); return typeof e.debug === 'function' ? e.debug('>>> PING') : void 0; }; }(this)); } if (!(this.heartbeat.incoming === 0 || o === 0)) { s = Math.max(this.heartbeat.incoming, o); if (typeof this.debug === 'function') { this.debug('check PONG every ' + s + 'ms'); } return this.ponger = i.setInterval(s, function (t) { return function () { var n; n = e() - t.serverActivity; if (n > s * 2) { if (typeof t.debug === 'function') { t.debug('did not receive server activity for the last ' + n + 'ms'); } return t.ws.close(); } }; }(this)); } }; r.prototype._parseConnect = function () { var t, e, n, i; t = 1 <= arguments.length ? o.call(arguments, 0) : []; i = {}; switch (t.length) { case 2: i = t[0], e = t[1]; break; case 3: if (t[1] instanceof Function) { i = t[0], e = t[1], n = t[2]; } else { i.login = t[0], i.passcode = t[1], e = t[2]; } break; case 4: i.login = t[0], i.passcode = t[1], e = t[2], n = t[3]; break; default: i.login = t[0], i.passcode = t[1], e = t[2], n = t[3], i.host = t[4]; }return [i, e, n]; }; r.prototype.connect = function () { var r, s, u, a; r = 1 <= arguments.length ? o.call(arguments, 0) : []; a = this._parseConnect.apply(this, r); u = a[0], this.connectCallback = a[1], s = a[2]; if (typeof this.debug === 'function') { this.debug('Opening Web Socket...'); } this.ws.onmessage = function (i) { return function (r) { var o, u, a, c, f, h, l, p, d, g, b, m; c = typeof ArrayBuffer !== 'undefined' && r.data instanceof ArrayBuffer ? (o = new Uint8Array(r.data), typeof i.debug === 'function' ? i.debug('--- got data length: ' + o.length) : void 0, function () { var t, e, n; n = []; for (t = 0, e = o.length; t < e; t++) { u = o[t]; n.push(String.fromCharCode(u)); } return n; }().join('')) : r.data; i.serverActivity = e(); if (c === t.LF) { if (typeof i.debug === 'function') { i.debug('<<< PONG'); } return; } if (typeof i.debug === 'function') { i.debug('<<< ' + c); } b = n.unmarshall(c); m = []; for (d = 0, g = b.length; d < g; d++) { f = b[d]; switch (f.command) { case 'CONNECTED': if (typeof i.debug === 'function') { i.debug('connected to server ' + f.headers.server); } i.connected = true; i._setupHeartbeat(f.headers); m.push(typeof i.connectCallback === 'function' ? i.connectCallback(f) : void 0); break; case 'MESSAGE': p = f.headers.subscription; l = i.subscriptions[p] || i.onreceive; if (l) { a = i; h = f.headers['message-id']; f.ack = function (t) { if (t == null) { t = {}; } return a.ack(h, p, t); }; f.nack = function (t) { if (t == null) { t = {}; } return a.nack(h, p, t); }; m.push(l(f)); } else { m.push(typeof i.debug === 'function' ? i.debug('Unhandled received MESSAGE: ' + f) : void 0); } break; case 'RECEIPT': m.push(typeof i.onreceipt === 'function' ? i.onreceipt(f) : void 0); break; case 'ERROR': m.push(typeof s === 'function' ? s(f) : void 0); break; default: m.push(typeof i.debug === 'function' ? i.debug('Unhandled frame: ' + f) : void 0); } } return m; }; }(this); this.ws.onclose = function (t) { return function () { var e; e = 'Whoops! Lost connection to ' + t.ws.url; if (typeof t.debug === 'function') { t.debug(e); } t._cleanUp(); return typeof s === 'function' ? s(e) : void 0; }; }(this); return this.ws.onopen = function (t) { return function () { if (typeof t.debug === 'function') { t.debug('Web Socket Opened...'); } u['accept-version'] = i.VERSIONS.supportedVersions(); u['heart-beat'] = [t.heartbeat.outgoing, t.heartbeat.incoming].join(','); return t._transmit('CONNECT', u); }; }(this); }; r.prototype.disconnect = function (t, e) { if (e == null) { e = {}; } this._transmit('DISCONNECT', e); this.ws.onclose = null; this.ws.close(); this._cleanUp(); return typeof t === 'function' ? t() : void 0; }; r.prototype._cleanUp = function () { this.connected = false; if (this.pinger) { i.clearInterval(this.pinger); } if (this.ponger) { return i.clearInterval(this.ponger); } }; r.prototype.send = function (t, e, n) { if (e == null) { e = {}; } if (n == null) { n = ''; } e.destination = t; return this._transmit('SEND', e, n); }; r.prototype.subscribe = function (t, e, n) { var i; if (n == null) { n = {}; } if (!n.id) { n.id = 'sub-' + this.counter++; } n.destination = t; this.subscriptions[n.id] = e; this._transmit('SUBSCRIBE', n); i = this; return { id: n.id, unsubscribe: function () { return i.unsubscribe(n.id); } }; }; r.prototype.unsubscribe = function (t) { delete this.subscriptions[t]; return this._transmit('UNSUBSCRIBE', { id: t }); }; r.prototype.begin = function (t) { var e, n; n = t || 'tx-' + this.counter++; this._transmit('BEGIN', { transaction: n }); e = this; return { id: n, commit: function () { return e.commit(n); }, abort: function () { return e.abort(n); } }; }; r.prototype.commit = function (t) { return this._transmit('COMMIT', { transaction: t }); }; r.prototype.abort = function (t) { return this._transmit('ABORT', { transaction: t }); }; r.prototype.ack = function (t, e, n) { if (n == null) { n = {}; } n['message-id'] = t; n.subscription = e; return this._transmit('ACK', n); }; r.prototype.nack = function (t, e, n) { if (n == null) { n = {}; } n['message-id'] = t; n.subscription = e; return this._transmit('NACK', n); }; return r; }(); i = { VERSIONS: { V1_0: '1.0', V1_1: '1.1', V1_2: '1.2', supportedVersions: function () { return '1.1,1.0'; } }, client: function (t, n) { var r, o; if (n == null) { n = ['v10.stomp', 'v11.stomp']; } r = i.WebSocketClass || WebSocket; o = new r(t, n); return new e(o); }, over: function (t) { return new e(t); }, Frame: n }; if (typeof exports !== 'undefined' && exports !== null) { exports.Stomp = i; } if (typeof window !== 'undefined' && window !== null) { i.setInterval = function (t, e) { return window.setInterval(e, t); }; i.clearInterval = function (t) { return window.clearInterval(t); }; window.Stomp = i; } else if (!exports) { self.Stomp = i; } }).call(this); 
 			}); 
		define("pages/inquiry-video/utils/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Description: 基础工具
 * @Date: 2022-06-23 10:32:08
 * @LastEditTime: 2023-09-11 16:35:28
 */

// 问诊计时
class InquriyDurationClass {
  constructor(initDuration, accCb) {
    // 设置初始通话时长
    this.setInitDuration(initDuration);
    if (accCb && typeof accCb === 'function') {
      this.accCb = accCb;
    } else {
      this.accCb = null;
    }
  }

  /**
   * 获取格式化后的计时展示文案
   * @returns 展示文案
   */
  formatDuration() {
    const minutesStr = this.minutes < 10 ? `0${this.minutes}` : this.minutes;
    const secondsStr = this.seconds < 10 ? `0${this.seconds}` : this.seconds;

    return `${minutesStr}:${secondsStr}`;
  }

  /**
   * 设置初始时长
   * @param {number|string} duration 初始时长
   */
  setInitDuration(duration) {
    let _duration = Number(duration);
    if (!Number.isNaN(_duration) && _duration > 0) {
      this.initDuration = _duration;
    } else {
      this.initDuration = 0;
    }

    if (this.initDuration === 0) {
      this.seconds = 0;
      this.minutes = 0;
    } else {
      this.seconds = this.initDuration % 60;
      this.minutes = parseInt(this.initDuration / 60, 10);
    }
  }

  /**
   * 开始累加
   */
  startAcc() {
    this.timer = setInterval(() => {
      this.acc();
      if (this.accCb) {
        const durationStr = this.formatDuration();
        this.accCb(durationStr);
      }
    }, 1000);
  }

  /**
   * 停止累加
   */
  stopAcc() {
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
  }

  /**
   * 重置累加器
   */
  resetAcc() {
    this.stopAcc();
    this.seconds = 0;
    this.minutes = 0;
  }

  /**
   * 计时器 +1s
   */
  acc() {
    this.seconds += 1;
    if (this.seconds > 60) {
      this.minutes += 1;
      this.seconds = this.seconds - 60;
    }
  }
}

// 心跳检查
class HeartCheckClass {
  constructor(stompClient, inquiryId) {
    console.log(stompClient,'stompClientstompClient');
    this.stompClient = stompClient;
    this.inquiryId = inquiryId;
    this.timer = null;
  }
  start() {
    this.timer = setInterval(() => {
      this.stompClient.send('/app/heartbeat', {}, this.inquiryId);
    }, 10000);
  }
  stop() {
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
  }
}

/**
 * 封装 wx.showLoading
 * @param {string} title 文案
 */
const wxShowLoading = (title) => {
  wx.showLoading({
    title,
    mask: true,
  });
}

/**
 * 封装 wx.showToast
 * @param {string} title 文案
 */
const wxShowToast = (title) => {
  wx.showToast({
    title,
    icon: 'none',
    mask: true,
  });
}

/**
 * 小程序用户与客户端用户不一致处理
 */
const onInvalidUser = () => {
  wx.navigateTo({
    url: '/pages/inquery_phone_error/index',
  });
}

module.exports = {
  InquriyDurationClass,
  HeartCheckClass,
  onInvalidUser,
  wxShowLoading,
  wxShowToast,
};
 
 			}); 
		global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/dialog/dialog.js';global.__wxRouteBegin = true; 	define("pages/inquiry-video/components/dialog/dialog.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
Component({
  /**
   * 组件的属性列表
   */
  properties: {
    title: {
      type: String,
      value: ''
    },
    content: {
      type: String,
      value: '挂断后，本次视频问诊结束，不可再次连接',
    },
    cancelText: {
      type: String,
      value: '暂不结束'
    },
    confirmText: {
      type: String,
      value: '结束问诊'
    }
  },
  /**
   * 组件的方法列表
   */
  methods: {
    confirmEvent() {
      this.triggerEvent("onTouchConfirm");
    },
    cancelEvent() {
      this.triggerEvent("onTouchCancel")
    }
  },
});
 
 			}); 	require("pages/inquiry-video/components/dialog/dialog.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/doctor-info/index.js';global.__wxRouteBegin = true; 	define("pages/inquiry-video/components/doctor-info/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
Component({
  externalClasses: ["doctorinfo"],
  /**
   * 组件的属性列表
   */
  properties: {
    doctorInfo: {
      type: Object,
      value: {}
    },
  },
  /**
   * 组件的方法列表
   */
  methods: {
    _confirmEvent() {
      this.triggerEvent("onTouchConfirm");
    },
  },
});
 
 			}); 	require("pages/inquiry-video/components/doctor-info/index.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/inquiry-im/index.js';global.__wxRouteBegin = true; 	define("pages/inquiry-video/components/inquiry-im/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-09-13 16:04:33
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-09-20 17:12:24
 * @FilePath: /wxapp_inquiry_video_plugin/plugin/pages/inquiry-video/components/inquiry-im/index.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
const { sendMsgApi } = require('../../utils/api.js');
const {wxShowLoading} = require('../../utils/utils.js')
Component({
  externalClasses: ['inquiry-im'],
  /**
   * 组件的属性列表
   */
  properties: {
    shrinkVideo: {
      type: Boolean,
      value: true,
    },
    bottomAnchor: {
      type: String,
      value: '',
    },
    messageList: {
      type: Array,
      value: [],
    },
    crossData: {
      type: Object,
      value: {},
    },
    doctorInfo: {
      type: Object,
      value: {},
    },
  },
  data: {
    keyboardHeight: 0,
  },
  /**
   * 组件的方法列表
   */
  methods: {
    /**
     * 用户消息输入事件
     *
     * @param {object}} e 输入事件
     */
    handleInput(e) {
      this.setData({
        chatContent: e.detail.value,
      });
    },

    handleInputFocus(e) {
      if (e) {
        this.setData({
          keyboardHeight: e.detail.height,
        });
      }
      setTimeout(() => {
        this.setData({
          bottomAnchor: 'bottom-anchor',
        });
      }, 150);
    },
    handleInputBlur() {
      this.setData({
        keyboardHeight: 0,
      });
    },
    /**
     * 用户发送消息事件
     */
    onTextSend() {
      if (!this.data.chatContent.trim()) {
        return;
      }
      this.sendMessage({
        msgType: 1,
        content: JSON.stringify({ text: this.data.chatContent }),
        inquiryId: wx.getStorageSync('inquiryInfo').inquiryId,
      });
    },

    /**
     * 用户发送消息
     *
     * @param {object} msgItem 待发送的消息
     */
    sendMessage(msgItem) {
      console.log(this.data.crossData, 'crossData', this);
      const { crossData } = this.data;
      const { partner_url, token } = crossData;
      this.setData(
        {
          sendingMsg: true,
        },
        () => {
          sendMsgApi(partner_url, token, msgItem)
            .then((res) => {
              this.setData({
                sendingMsg: false,
              });
              const { code, message } = res;
              if (code === 0) {
                this.setData({
                  chatContent: '',
                });
              } else {
                wxShowToast(message || '消息发送失败');
              }
            })
            .catch(() => {
              this.setData({
                sendingMsg: false,
              });
              wxShowToast('网络错误，请稍后重试');
            });
        }
      );
    },
    /**
     * 图片预览
     *
     * @param {object} e image标签绑定值
     */
    previewImage(e) {
      wx.previewImage({
        current: e.target.dataset.url, // 当前显示图片的http链接
        urls: [e.target.dataset.url], // 需要预览的图片http链接列表
      });
    },

    /**
     * 发送图片消息事件
     */
    sendImgEvent() {
      wx.chooseImage({
        count: 1,
        sourceType: ['album'],
        success: (res) => {
          // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片
          this.handleUpload(res.tempFilePaths);
        },
      });
    },

    /**
     * 上传图片
     *
     * @param {array} tempFilePaths 微信返回的图片地址
     */
    handleUpload(tempFilePaths) {
      wxShowLoading('图片上传中');
      const { crossData } = this.data;
      wx.uploadFile({
        url: `${crossData.partner_url}/api/common/file/upload/file`,
        filePath: tempFilePaths[0],
        name: 'file',
        header: {
          CYCloudHospitalAuth: crossData.token,
        },
        success: ({ data: res }) => {
          res = JSON.parse(res);
          if (res.code === 0) {
            this.handleImgSend(res.data.publicUrl);
          } else {
            wxShowToast(res.message || '上传失败');
          }
        },
        fail: (err) => {
          wxShowToast('网络出错，请稍后重试');
          console.log('uploadFile err::', err);
        },
        complete() {
          wx.hideLoading();
        },
      });
    },
    /**
     * 发送图片消息
     *
     * @param {string} url 图片地址
     */
    handleImgSend(url) {
      this.sendMessage({
        msgType: 2,
        content: JSON.stringify({ url }),
        inquiryId: wx.getStorageSync('inquiryInfo').inquiryId,
      });
    },
    /**
     * 卡片类型消息点击事件
     */
    onCardClick(e) {
      console.log(e, '卡片点击');
      const url = e.currentTarget.dataset.jumpurl;
      wx.navigateTo({
        url: `/pages/h5_webview/index?url=${encodeURIComponent(url)}`,
      });
    },
  },
});
 
 			}); 	require("pages/inquiry-video/components/inquiry-im/index.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/modal/index.js';global.__wxRouteBegin = true; 	define("pages/inquiry-video/components/modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
Component({
  externalClasses: ["my-class"],
  /**
   * 组件的属性列表
   */
  properties: {
    title: {
      type: String,
      value: ''
    },
    content: {
      type: String,
      value: '为保证在医生接诊、发送病历或处方时，您能正常收到消息通知，请订阅消息通知',
    },
    buttonText: {
      type: String,
      value: '我知道了'
    },
  },
  /**
   * 组件的方法列表
   */
  methods: {
    _confirmEvent() {
      this.triggerEvent("onTouchConfirm");
    },
  },
});
 
 			}); 	require("pages/inquiry-video/components/modal/index.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/components/webrtc-room/webrtc-room.js';global.__wxRouteBegin = true; 	define("pages/inquiry-video/components/webrtc-room/webrtc-room.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/**
 * 春雨视频组件
 */
const TRTC = require('./static/trtc-wx-v10')
const log =
{
  info: (info) => {
    console.log(info, 'info');
  }
}

Component({
  /**
   * 组件的属性列表
   */
  properties: {
    // 【必须】开通实时音视频服务创建应用后分配的 sdkAppID
    sdkAppID: {
      type: String,
      value: '',
    },
    // 【必须】用户 ID，可以由您的帐号系统指定
    userID: {
      type: [String, Number],
      value: '',
    },
    // 【必须】身份签名，相当于登录密码的作用
    userSig: {
      type: String,
      value: '',
    },
    roomID: {
      type: [String, Number],
      value: '',
    },
    // 【必须】strRoomID，roomID房间号
    strRoomID: {
      type: [String],
      value: '',
    },
    // 通话模式，默认 rtc
    scene: {
      type: String,
      value: 'rtc',
    },
    // 是否开启调试，默认不开启
    debug: {
      type: Boolean,
      value: false,
    },
    // 开启视频小窗
    shrinkVideo: {
      type: Boolean,
      value: false,
    },
    // 视频连接文字
    connectText: {
      type: String,
      value: '',
    },
    inquiryDurationStr: {
      type: String,
      value: '00:00',
    },
    showInquiryDuration: {
      type: Boolean,
      value: false,
    },
    noReadMessageNum: {
      type: Number,
      value: 0,
    },
    durationMinutes: {
      type: String,
      value: '20'
    },
    isHidePage: {
      type: Boolean,
      value: false
    },
  },
  /**
   * 数据监听
   */
  observers: {
    noReadMessageNum: function (value) {
      // 未读消息不为零时展示tip
      if (value) {
        this.setData({
          showMessageTip: true,
        });
      } else {
        this.setData({
          showMessageTip: false,
        });
      }
    },
    isHidePage: function (value) {
      if (!this.data.isInquirying) {
        return;
      }
      if (value) {
        // hide暂停推流
        this.TRTC.getPusherInstance().pause();
      } else {
        // 展示继续推流
        this.TRTC.getPusherInstance().resume();
        log.info(`房间:${this.data.strRoomId}:继续推流`);
      }
    }

  },

  /**
   * 组件的初始数据
   */
  data: {
    isInquirying: false, // 是否正在问诊中
    pusher: null, // 推流信息
    playerList: [], // 订阅的远端音视频列表
    showMessageTip: false,
    isShowDialog: false,  // 是否展示弹窗
    dialogObj: {
      content: '',
      cancelText: '',
      confirmText: '',
      type: ''
    },
    showNoleaveTips: false, // 展示勿离tip
    initShrinkAnimation: {}, // 初始化动画
    smallVideoAnimation: {},// 缩小动画
    leaveTips: '请不要离开此页面,以防视频中断', // tips
  },

  /**
   * 组件生命周期
   */
  lifetimes: {
    // 在组件在视图层布局完成后执行
    ready: function () {
      // 保持屏幕常亮
      wx.setKeepScreenOn({
        keepScreenOn: true,
      });
      // 初始化 TRTC 实例
      this.TRTC = new TRTC(this);
      // 初始化推流实例
      this.initPusher();
      // 绑定监听事件
      this.bindTRTCRoomEvent();
      this.initVideoAnimation();
    },
    attached: function () {
      // 该生命周期之后所传的参数仍然没同步过来,先延时获取吧
      setTimeout(()=>{
        if (this.data.durationMinutes) {
          this.onCountdownHandle();
        }
      },1000)
    },
    detached: function () {
      clearInterval(this.audioPlayerTimer);
      clearInterval(this.videoPlayerTimer);
      clearInterval(this.countDownTimer);
    },
  },

  /**
   * 组件的方法列表
   */
  methods: {
    /**
     * 初始化视频接通动画
     */
    initVideoAnimation() {
      this.initShrinkAnimation = wx.createAnimation({
        duration: 500, // 动画时长，单位毫秒
        timingFunction: 'linear' // 缓动函数，可选值："linear"、"ease"、"ease-in"、"ease-in-out"、"ease-out"
      });
      this.initShrinkAnimation.width('220rpx').height('390rpx').top('30rpx').right('30rpx').step()
    },
    onCountdownHandle() {
      if (this.countDownTimer) {
        clearInterval(this.countDownTimer);
      }
      this.countDownTimer = setInterval(() => {
        // 将时间字符串拆分为分钟和秒
        let [minutes, seconds] = this.data.inquiryDurationStr.split(":").map(Number);

        // 将分钟转换为总秒数
        let totalSeconds = minutes * 60 + seconds;

        let durationSeconds = parseInt(this.data.durationMinutes)*60;
        if (durationSeconds - totalSeconds === 180) {
          // 当总秒数小于180秒（3分钟）时执行后续逻辑
          // 添加您的逻辑代码在这里
          console.log("提示3分钟");
          this.setData({
            leaveTips: '视频时长不足3分钟',
            showNoleaveTips: true
          })
          setTimeout(() => {
            this.setData({
              showNoleaveTips: false,
            });
          }, 3500);
        } else if (durationSeconds - totalSeconds === 120) {
          // 当总秒数大于等于180秒（3分钟）时执行其他逻辑
          console.log("提示2分钟");
          this.setData({
            leaveTips: '视频时长不足2分钟',
            showNoleaveTips: true
          })
          setTimeout(() => {
            this.setData({
              showNoleaveTips: false,
            });
          }, 3500);
        } else if (durationSeconds - totalSeconds === 60) {
          console.log("提示一分钟");
          this.setData({
            leaveTips: '视频时长不足1分钟',
            showNoleaveTips: true
          })
          setTimeout(() => {
            this.setData({
              showNoleaveTips: false,
            });
          }, 3500);
        } else if (durationSeconds - totalSeconds === 10) {
          console.log("提示即将断开");
          this.setData({
            leaveTips: '本次视频即将结束,自动挂断',
            showNoleaveTips: true
          })
          setTimeout(() => {
            this.setData({
              showNoleaveTips: false,
            });
          }, 3500);
        } else if (totalSeconds <= 0){
          console.log('自动挂断');
        }
      }, 1000)
    },
    /**
     * 初始化推流实例
     */
    initPusher() {
      // pusher 初始化参数
      const pusherConfig = {
        beautyLevel: 0, // 美颜(取值范围 0-9, 0 表示关闭)
        whitenessLevel: 0, // 美白(取值范围 0-9, 0 表示关闭)
        frontCamera: 'front', // 默认前置摄像头
      };
      // 创建推流实例
      const pusher = this.TRTC.createPusher(pusherConfig);
      this.setData({
        pusher,
      });
    },
    /**
     * 进入小窗模式
     */
    onEnterVideoInpicture() {
      console.log('进入小窗模式');
      this.triggerEvent('onEnterVideoInpicture');
    },
    /**
     * 退出小窗模式
     */
    onLeaveVideoInpicture() {
      this.triggerEvent('onLeaveVideoInpicture');
    },
    /**
     * 监听事件
     */
    bindTRTCRoomEvent() {
      const TRTC_EVENT = this.TRTC.EVENT;
      // 监听本地房间成功进入
      this.TRTC.on(TRTC_EVENT.LOCAL_JOIN, this.onLocalJoin.bind(this));
      // 监听本地房间离开
      this.TRTC.on(TRTC_EVENT.LOCAL_LEAVE, this.onLocalLeave.bind(this));
      // 监听本地推流出现错误、渲染错误事件等
      this.TRTC.on(TRTC_EVENT.ERROR, this.onError.bind(this));
      // 监听远端用户加入房间
      this.TRTC.on(TRTC_EVENT.REMOTE_USER_JOIN, this.onRemoteUserJoin.bind(this));
      // 监听远端用户退出房间
      this.TRTC.on(TRTC_EVENT.REMOTE_USER_LEAVE, this.onRemoteUserLeave.bind(this));
      // 监听远端用户推送视频
      this.TRTC.on(TRTC_EVENT.REMOTE_VIDEO_ADD, this.onRemoteVideoAdd.bind(this));
      // 监听远端用户取消推送视频
      this.TRTC.on(TRTC_EVENT.REMOTE_VIDEO_REMOVE, this.onRemoteVideoRemove.bind(this));
      // 监听远端用户推送音频
      this.TRTC.on(TRTC_EVENT.REMOTE_AUDIO_ADD, this.onRemoteAudioAdd.bind(this));
      // 监听远端用户取消推送音频
      this.TRTC.on(TRTC_EVENT.REMOTE_AUDIO_REMOVE, this.onRemoteAudioRemove.bind(this));
    },

    /**
     * 加入房间
     */
    enterRoom() {
      const config = {
        sdkAppID: this.data.sdkAppID,
        userID: this.data.userID,
        userSig: this.data.userSig,
        roomID: this.data.roomID,
        strRoomID: this.data.strRoomID
      };
      log.info(`房间:${this.data.strRoomId}:用户进入`);
      this.setData(
        {
          pusher: this.TRTC.enterRoom(config),
        },
        () => {
          // 开始推流
          log.info(`房间:${this.data.strRoomId}:开始推流`);
          this.TRTC.getPusherInstance().start();
          // this.handleBGM('playBGM', {
          //   url: AUDIO_URL,
          // })
        }
      );
    },

    /**
     * 退出房间
     */
    exitRoom() {
      // this.handleBGM('stopBGM')
      const result = this.TRTC.exitRoom();
      log.info(`房间:${this.data.strRoomId}:trtc退房`);
      this.setData({
        pusher: result.pusher,
        playerList: result.playerList,
      });
    },

    /**
     * 切换前后摄像头
     */
    switchCamera() {
      log.info(`房间:${this.data.strRoomId}:切换摄像头`);
      const pusherContext = this.TRTC.getPusherInstance();
      if (pusherContext && typeof pusherContext.switchCamera === 'function') {
        pusherContext.switchCamera();
      }
    },

    /**
     * 播放背景音乐
     */
    handleBGM(type, params = {}) {
      const pusherContext = this.TRTC.getPusherInstance();
      console.log('背景音乐', type, params, pusherContext && typeof pusherContext[type] === 'function');
      if (pusherContext && typeof pusherContext[type] === 'function') {
        pusherContext[type](params);
      }
    },
    /**
     * 设置 pusher 属性
     *
     * @param {object} options 待设置的属性 {key: value}
     */
    setPusherAttributesHandler(options) {
      this.setData({
        pusher: this.TRTC.setPusherAttributes(options),
      });
    },

    /**
     * 设置某个 player 属性
     *
     * @param {object} player 待设置属性的 player
     * @param {object} options 待设置的属性 {key: value}
     */
    setPlayerAttributesHandler(player, options = {}) {
      this.setData({
        playerList: this.TRTC.setPlayerAttributes(player.streamID, options),
      });
    },

    /**
     * 构造用户错误信息（如取消授权等）
     *
     * @param {string|number} code 错误代码
     * @param {string} msg 错误描述
     */
    userError(code, msg) {
      this.tag = 'user';
      this.code = code;
      this.msg = msg;
    },

    /**
     * 本地房间成功进入后回调
     *
     * @param {object} event 回调事件
     */
    onLocalJoin(event) {
      // 开启摄像头和麦克风
      log.info(`房间:${this.data.strRoomId}:用户成功进入房间，开启摄像头`);
      this.setPusherAttributesHandler({ enableCamera: true });
      this.setPusherAttributesHandler({ enableMic: true });
    },

    /**
     * 本地房间离开后回调
     *
     * @param {object} event 回调事件
     */
    onLocalLeave(event) {
      log.info(`房间:${this.data.strRoomId}:用户离开房间，关闭摄像头`);
      // 关闭摄像头和麦克风
      this.setPusherAttributesHandler({ enableCamera: false });
      this.setPusherAttributesHandler({ enableMic: false });
    },

    /**
     * 本地推流出现错误、渲染错误等回调
     *
     * @param {object} event 回调事件
     */
    onError(event) {
      console.log('* room ERROR', event);
      const { code } = event.data;
      const errorMap = {
        '10001': '未获取到摄像头权限，请删除小程序后重新打开并授权',
        '10002': '未获取到录音权限，请删除小程序后重新打开并授权',
        '10003': '背景音资源（BGM）加载失败',
        '10004': '等待画面资源（waiting-image）加载失败',
        '-1301': '打开摄像头失败',
        '-1302': '打开麦克风失败',
        '-1303': '视频编码失败',
        '-1304': '音频编码失败',
        '-1307': '推流出现网络断开，且经过多次重试无法恢复',
        '-3301': '进入房间失败',
        '-100006': '权限位校验失败，请检查 privateMapKey 是否正确',
        '-100015': 'SDKAppID 异常，请检查 SDKAppID 是否正确',
        '-100018': 'userSig 校验失败，请检查 userSig 是否正确',
      };
      log.error(`房间:${this.data.strRoomId}:本地推流出错${code}:${errorMap[String(code)]}`);
    },

    /**
     * 远端用户加入房间回调
     *
     * @param {object} event 回调事件
     */
    onRemoteUserJoin(event) {
      console.log('远端用户加入房间');
      log.info(`房间:${this.data.strRoomId}:收到医生进房回调`);
      // 远端用户加入房间
      // if (!this.properties.isHidePage) {
      //   this.handleBGM('stopBGM')
      // }
      // 3s后展示tip
      setTimeout(() => {
        this.setData({
          showNoleaveTips: true,
        })
      }, 3000);
      this.setData({
        isInquirying: true,
        showInquiryDuration:true,
        smallVideoAnimation: this.initShrinkAnimation.export()
      });
      this.triggerEvent('onEnterRoom');
    },

    /**
     * 远端用户退出回调
     *
     * @param {object} event 回调事件
     */
    onRemoteUserLeave(event) {
      log.info(`房间:${this.data.strRoomId}:收到医生离开回调`);
      this.setData({
        isInquirying: false,
      });
      const { playerList } = event.data;
      this.setData({
        playerList: playerList,
      });
    },

    /**
     * 远端用户推送视频回调
     *
     * @param {object} event 回调事件
     */
    onRemoteVideoAdd(event) {
      console.log('收到视频推流回调,慢于用户进入执行');
      log.info(`房间:${this.data.strRoomId}:收到医生视屏推流成功回调`);
      setTimeout(() => {
        this.setData({
          showNoleaveTips: false,
        });
      }, 3500);
      const { player } = event.data;
      if (this.videoPlayerTimer) {
        clearInterval(this.videoPlayerTimer);
      }
      this.setPlayerAttributesHandler(player, { muteVideo: false });
      this.videoPlayerTimer = setInterval(() => {
        console.log('视频拉流');
        this.setPlayerAttributesHandler(player, { muteVideo: false });
      }, 5000);
    },

    /**
     * 远端用户取消推送视频回调
     *
     * @param {object} event 回调事件
     */
    onRemoteVideoRemove(event) {
      log.warn(`房间:${this.data.strRoomId}:收到医生取消视屏推流回调`);
      const { player } = event.data;
      this.setPlayerAttributesHandler(player, { muteVideo: true });
    },

    /**
     * 远端用户推送音频回调
     *
     * @param {object} event 回调事件
     */
    onRemoteAudioAdd(event) {
      log.info(`房间:${this.data.strRoomId}:收到医生音频推流成功回调`);
      const { player } = event.data;
      if (this.audioPlayerTimer) {
        clearInterval(this.audioPlayerTimer);
      }
      this.setPlayerAttributesHandler(player, { muteAudio: false });
      this.audioPlayerTimer = setInterval(() => {
        console.log('音频拉流');
        this.setPlayerAttributesHandler(player, { muteAudio: false });
      }, 5000);
    },

    /**
     * 远端用户取消推送音频回调
     *
     * @param {object} event 回调事件
     */
    onRemoteAudioRemove(event) {
      log.warn(`房间:${this.data.strRoomId}:收到医生取消音频推流回调`);
      const { player } = event.data;
      this.setPlayerAttributesHandler(player, { muteAudio: true });
    },

    /**
     * live-pusher 状态变化事件
     *
     * @param {object} event 回调事件 detail = {code}
     */
    _pusherStateChangeHandler(event) {
      this.TRTC.pusherEventHandler(event);
    },

    /**
     * live-pusher 网络状态通知
     *
     * @param {object} event 回调事件 detail = {info}
     */
    _pusherNetStatusHandler(event) {
      this.TRTC.pusherNetStatusHandler(event);
    },

    /**
     * live-pusher 渲染错误事件
     *
     * @param {object} event 回调事件 detail = {errMsg, errCode}
     */
    _pusherErrorHandler(event) {
      this.TRTC.pusherErrorHandler(event);
    },

    /**
     * live-player 播放状态变化事件
     *
     * @param {object} event 回调事件 detail = {code}
     */
    _playerStateChange(event) {
      console.log('状态变化', event);
      this.TRTC.playerEventHandler(event);
    },

    /**
     * live-player 全屏变化事件
     *
     * @param {object} event 回调事件 detail = {direction, fullScreen}
     */
    _playerFullscreenChange(event) {
      this.TRTC.playerFullscreenChange(event);
    },

    /**
     * live-player 网络状态通知
     *
     * @param {object} event 回调事件 detail = {info}
     */
    _playerNetStatus(event) {
      this.TRTC.playerNetStatus(event);
    },

    /**
     * live-player 播放音量大小通知
     *
     * @param {object} event 回调事件 detail = {}
     */
    _playerAudioVolumeNotify(event) {
      this.TRTC.playerAudioVolumeNotify(event);
    },

    /**
     * 点击问诊的取消按钮
     */
    cancelInquiryHandler() {
      this.setData({
        dialogObj: {
          content: '确认退出？退出后医生接诊可能无法及时响应，建议您再多等待一会，医生正在赶来的路上',
          cancelText: '取消',
          confirmText: '确认',
          type: 'leave'
        },
        isShowDialog: true
      });
    },

    /**
     * 点击结束问诊按钮
     */
    overInquiry() {
      this.setData({
        dialogObj: {
          content: '挂断后，本次视频问诊结束',
          cancelText: '取消',
          confirmText: '挂断',
          type: 'over'
        },
        isShowDialog: true
      });
    },

    /**
     * 点击弹窗的确认按钮
     */
    confirmDialogHandler() {
      this.exitRoom();
      log.info(`房间:${this.data.strRoomId}:用户主动点击${this.data.dialogObj.type === 'over' ? '挂断' : '取消'}按钮离开问诊`);
      this.triggerEvent('onLeaveInquiry', this.data.dialogObj.type);
    },

    /**
     * 点击弹窗的取消按钮
     */
    cancelDialogHandler() {
      this.setData({
        isShowDialog: false
      });
    },
    /**
     * 点击图文交流
     */
    onImChat() {
      this.triggerEvent('onShrinkVideo');
    },
    onGrowVideo() {
      if (this.properties.shrinkVideo) {
        this.triggerEvent('onGrowVideo');
      }
    },
  },
});
 
 			}); 	require("pages/inquiry-video/components/webrtc-room/webrtc-room.js");
 		global.__wxRoute = '__plugin__/wx214b7e2bcde837d6/pages/inquiry-video/index';global.__wxRouteBegin = true; 	global.__wxAppCurrentFile__ = 'plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/index.js';	define("pages/inquiry-video/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
/*
 * @Author: zhangtingdong zhangtingdong@chunyu.me
 * @Date: 2023-07-13 16:44:03
 * @LastEditors: zhangtingdong zhangtingdong@chunyu.me
 * @LastEditTime: 2023-12-08 14:45:59
 * @FilePath: /wxapp_inquiry_video_plugin/plugin/pages/inquiry-video/index.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
const {
  userEnterApi, // 用户进入诊室函数
  getVideoTokenApi, // 获取进入视频房间所需的信息函数
  getHistoryMsgApi, // 历史消息
  userFinishApi,
  userLeaveApi,
} = require('./utils/api.js');
const formatMsg = require('./utils/formatMsg.js');
const imSocket = require('./utils/socket.js');
const { MSG_CODE_TYPE } = require('./utils/enum.js');
const { wxShowToast } = require('./utils/utils.js');
const {InquriyDurationClass} = require('./utils/utils.js');
let socketInstance = {};
const miniProgramExports = requireMiniProgram();
Page({
  data: {
    videoToken: {
      // 视频token数据
      strRoomID: '',
      userId: '',
      userSig: '',
      sdkAppId: '',
      roomid: '',
      durationMinutes: '',
    },
    hasRejectedAuthorize: false, // 是否拒绝
    hasDeviceAuthorize: false, // 是否已获得设备权限
    shrinkVideo: false, // 缩小视频画面
    messageList: [], // 消息列表
    crossData: {},
    doctorInfo: {},
    inquiryDurationStr: '', // 视频问诊通话时长
    connectText: '医生连线中，请耐心等待…', // 连接文字
    showInquiryDuration: false, // 显示问诊通话时长
    noReadMessage: 0, // 未读消息数量
    inquriyDuration:{}
    // showModal: false,
    // showPage1: true,
  },

  onLoad(options) {
    console.log(options,'options');
    miniProgramExports._wx.enableAlertBeforeUnload({
      message: '确认退出？退出后医生接诊可能无法及时响应，建议您再多等待一会，医生正在赶来的路上',
    });
    const crossDatas = {
      partner_url:options.partner_url, 
      token:options.token
    }; // 存储跨域token数据
    // 提供给im组件使用
    this.setData({
      crossData: crossDatas,
    });
    this.inquiryInfo = {
      inquiryId: options.inquiryId,
      orderId: options.orderId,
    };
    wx.setStorage(
      {
        key: 'inquiryInfo',
        data: this.inquiryInfo,
      },

    );
    wx.setStorage({
        key: 'csessionid',
        data: options.sessionid,
    })
    this.inquiryInit(); // 初始化视频问诊
  },
  /**
   * 生命周期函数--监听页面卸载
   */
  onUnload: function () {
    this.setData({
      showLeave: true,
    });
    // 如果用户已经主动结束/取消了视频门诊，则无需再次通知服务器用户离开
    if (!this.inquiryEndByUser) {
      this.leaveRoom();
    }
  },
  /**
   * 初始化视频问诊
   */
  async inquiryInit() {
    const deviceResult = await this.checkDeviceAuthorize(); // 校验设备权限

    if (!deviceResult) {
      console.log('设备权限异常');
      return;
    }
    this.startInquiry()
  },

  /**
   * 校验设备权限
   */
  async checkDeviceAuthorize() {
    const result = await this.getSettingAsync();
    const authorizeMic = result.miniprogramAuthSetting['scope.record'];
    const authorizeCamera = result.miniprogramAuthSetting['scope.camera'];

    if (authorizeMic && authorizeCamera) {
      return true;
    }

    if (
      typeof authorizeMic === 'undefined' &&
      typeof authorizeCamera === 'undefined'
    ) {
      const authorizeMicResult = await this.authorizeForMiniProgram(
        'scope.record'
      );
      const authorizeCameraResult = await this.authorizeForMiniProgram(
        'scope.camera'
      );

      return authorizeMicResult && authorizeCameraResult;
    } else {
      this.setData({
        hasRejectedAuthorize: true,
      });
      return false;
    }
  },

  async authorizeForMiniProgram(scope) {
    try {
      await wx.authorizeForMiniProgram({ scope });
      return true;
    } catch (error) {
      return false;
    }
  },

  /**
   * Promisify wx.getSetting
   */
  getSettingAsync() {
    return new Promise((resolve, reject) => {
      wx.getSetting({
        success: (result) => resolve(result),
        fail: (error) => reject(error),
      });
    });
  },

  /**
   * 开始问诊
   */
  async startInquiry() {
    const { partner_url, token } = this.data.crossData; // 获取partner_url和token
    const { inquiryId } = this.inquiryInfo;

    const res = await userEnterApi(partner_url, token, { inquiryId }); // 用户进入诊室
    const { code, message, data } = res;

    if (code === 0) {
      this.setData({
        timeElapsed: data.timeElapsed || 0,
        doctorInfo: data.doctorInfo, // 存储医生信息
      });

      if (data.needWebSocket) {
        socketInstance = new imSocket(inquiryId, this.data.crossData); // 创建socket实例
        socketInstance.setOnMessageReceivedCallback((info) => {
          this.onMessageReceived(info); // 设置消息接收回调
        });
        socketInstance.initSocket(); // 初始化socket连接
      }
      this.getHistoryMsg(); // 获取历史消息
      this.enterVideoRoom(); // 进入音视频房间
    } else {
      wxShowToast(message || '进入视频问诊失败');
    }
  },

  /**
   * 进入音视频房间
   */
  async enterVideoRoom() {
    try {
      const { partner_url, token } = this.data.crossData;
      const { inquiryId } = this.inquiryInfo;

      const res = await getVideoTokenApi(partner_url, token, { inquiryId }); // 获取视频token信息
      const { code, message, data } = res;

      if (code === 0) {
        this.videoToken = data; // 存储视频token信息
        this.setData({
          videoToken: data,
        });
        const webrtcroomCom = this.selectComponent('#myroom'); // 获取视频组件

        if (webrtcroomCom) {
          webrtcroomCom.enterRoom(); // 进入房间
        }
      } else {
        wxShowToast(message || '视频信息获取失败');
      }
    } catch (error) {
      wxShowToast('网络出错，请稍后重试');
    }
  },
  /**
   * 用户点击页面结束问诊按钮触发事件
   */
  onEndBtnClick(e) {
    const type = e.detail;
    this.endInquiryByUser(type);
  },
  /**
   * 用户主动结束问诊事件
   */
  async endInquiryByUser(type) {
    this.inquiryEndByUser = true;
    const { inquiryId } = this.inquiryInfo;
    const { partner_url, token } = this.data.crossData;

    this.setData({
      showInquiryDuration: false,
    });

    try {
      type === 'over'
        ? userFinishApi(partner_url, token, {
            inquiryId,
          })
        : userLeaveApi(partner_url, token, {
            inquiryId,
          });
    } catch (error) {
      console.log('用户离开出错', error);
    }
    this.onInquiryEnd();
  },
  /**
   * 离开房间
   */
  async leaveRoom() {
    console.log('********leaveRoom*******');
    const { inquiryId } = this.inquiryInfo;
    const { partner_url, token } = this.data.crossData;
    this.inquriyDuration.stopAcc();
    await userLeaveApi(partner_url, token, {
      inquiryId,
    }).catch(() => {
      console.log('leaveRoom出错');
    });
  },
  /**
   * 视频门诊结束事件
   */
  onInquiryEnd() {
    console.log('问诊结束');
    miniProgramExports._wx.disableAlertBeforeUnload();
    this.inInquiry = false;
    socketInstance.closeSocket();
    const backCount = this.data.pictureinpicture ? 2 : 1;
    setTimeout(() => {
      wx.navigateBack({
        delta: backCount,
      });
    }, 2000);
  },
  // /**
  //  * 拦截弹窗
  //  */
  // showLeaveModal() {
  //   wx.showModal({
  //     title: '提示',
  //     content: this.leaveText,
  //     success(res) {
  //       if (res.confirm) {
  //         wx.navigateBack();
  //       } else if (res.cancel) {
  //         console.log('用户点击取消');
  //       }
  //     },
  //   });
  // },
  /**
   * 缩小视频
   */
  onShrinkVideo() {
    this.setData({
      shrinkVideo: true,
    });
    // 未读消息置空
    this.clearNoReadMessag();
    console.log('缩小视频');
  },
  /**
   * ws 扩充视频
   */
  onGrowVideo() {
    this.setData({
      shrinkVideo: false,
    });
  },
  /**
   * 更新医生信息（订单被扩散后，doctorinfo会变，须更新获取）
   */
  updateDoctorInfo() {
    const { partner_url, token } = this.data.crossData;
    userEnterApi(partner_url, token, {
      inquiryId: this.inquiryInfo.inquiryId,
    })
      .then((res) => {
        const { code, message, data = {} } = res;
        if (code === 0) {
          this.setData({
            doctorInfo: data.doctorInfo,
          });
          console.log(this.data.doctorInfo, 'doctorInfo');
        } else {
          wxShowToast(message || '获取医生信息失败');
        }
      })
      .catch((err) => {
        wxShowToast('获取医生信息失败', err);
      });
  },
  /**
   * 获取历史消息
   */
  getHistoryMsg() {
    const { inquiryId } = this.inquiryInfo;
    const { partner_url, token } = this.data.crossData;
    getHistoryMsgApi(partner_url, token, {
      inquiryId,
    })
      .then((res) => {
        const { code, data, message } = res;
        if (code === 0) {
          const resultList = (data.records || []).map((item) => {
            return formatMsg(item, this.data.doctorInfo);
          });
          this.setData({
            messageList: resultList,
            bottomAnchor: `msg${resultList.length - 1}`,
          });
        } else {
          wxShowToast(message || '历史消息获取失败');
        }
      })
      .catch((err) => {
        console.error(err, '获取历史消息出错');
        wxShowToast('网络出错');
      });
  },
  /**
   * 消息接收回调函数
   */
  onMessageReceived(payload) {
    // 检查payload是否有效
    if (!payload || !payload.body) {
      return;
    }

    // 解析消息内容
    const msgItem = JSON.parse(payload.body);
    const msgType = Number(msgItem.msgType);

    // 检查是否是系统消息
    const isSystemMsg = msgItem.id <= 0 || msgItem.isSystemMsg;

    // 检查是否应将消息加入消息列表
    const shouldAddToMessageList = [
      ...MSG_CODE_TYPE.text,
      ...MSG_CODE_TYPE.image,
      ...MSG_CODE_TYPE.card,
    ].includes(msgType);

    if (shouldAddToMessageList) {
      if (!isSystemMsg) {
        this.addNoReadMessage();
      }
      formatMsg(msgItem, this.data.doctorInfo);
      // 查找消息在列表中的索引
      const index = this.data.messageList.findIndex(
        (item) => item.id === msgItem.id
      );

      if (msgType === 151 && index > -1) {
        // 处方卡片消息，已存在则更新状态，否则新增
        const tempMessageList = [...this.data.messageList];
        tempMessageList[index] = msgItem;
        this.setData({
          messageList: tempMessageList,
          bottomAnchor: `msg${tempMessageList.length - 1}`,
        });
      } else if (msgType !== 151 && !isSystemMsg) {
        // 非处方卡片消息且不是系统消息，新增到消息列表
        console.log(this.data.messageList, msgItem, 'this.data.messageList');
        const newMessageList = [...this.data.messageList, msgItem];
        this.setData({
          messageList: newMessageList,
          bottomAnchor: `msg${newMessageList.length - 1}`,
        });
        console.log(this.data.messageList, 'messageLiss');
      }
    }

    switch (msgType) {
      case 1001:
        console.log('***key***: 收到1001,医生接入');
        this.setData({
          doctorEnter: true,
        });
        this.updateDoctorInfo();
        break;
      case 1003:
        this.onInquiryEnd();
        console.log('***key***: 收到1003,本地门诊已结束');
        this.doctorEnd = true;
        wxShowToast(msgItem.textContent);
        break;
      case 110:
        console.log('***key***: 收到110,医生超时未接诊');
        break;
      default:
        break;
    }
  },
  /**
   * 增加一条未读消息
   */
  addNoReadMessage() {
    if (!this.data.shrinkVideo) {
      const tempCount = this.data.noReadMessage;
      this.setData({
        noReadMessage: tempCount + 1,
      });
    }
  },
  /**
   * 未读消息置空
  */
  clearNoReadMessag() {
    this.setData({
      noReadMessage: 0,
    });
  },
  /**
   * 远端加入房间
   */
  remoteJoinRoom() {
    console.log('****远端加入房间*****');
    this.inInquiry = true;
    miniProgramExports._wx.disableAlertBeforeUnload({
      success: () => {
        miniProgramExports._wx.enableAlertBeforeUnload({
          message:
            '确认中断本次问诊？中断后可再次连接，中断一小时后，问诊将自动完成',
        });
      },
    });
    this.showDuration();
  },
  /**
   * 显示视频时长
   */
  showDuration() {
    console.log(this.data.showInquiryDuration,'dur',this.data.timeElapsed);
    if (!this.data.showInquiryDuration) {
      this.inquriyDuration = new InquriyDurationClass(
        this.data.timeElapsed,
        this.startDurationCb.bind(this)
      );
      this.inquriyDuration.startAcc();
      this.setData({
        showInquiryDuration: true,
      });
    }
  },
  /**
   * 问诊计时累加回调函数
   * @param {string} durationStr 问诊计时文案
   */
  startDurationCb(durationStr) {
    this.setData({
      inquiryDurationStr: durationStr,
    });
  },
});
 
 			}); 
	require("pages/inquiry-video/index.js");
 	
			;global.publishDomainComponents({"plugin://wx214b7e2bcde837d6/inquiry-video":"plugin-private://wx214b7e2bcde837d6/pages/inquiry-video/index",});
				module.exports = function() {
		return require('index.js')
	}
			});
	requirePlugin("plugin://wx214b7e2bcde837d6");
/*v0.5vv_20211229_syb_scopedata*/global.__wcc_version__='v0.5vv_20211229_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"m_./miniprogram_npm/mp-html/node/node.wxml:isInline":np_0,"m_./pages/health_record_authorize/index.wxml:m1":np_4,"p_./pages/find_doctor/index.wxs":np_1,"p_./pages/find_doctor_list/components/doctor_search/index.wxs":np_2,"p_./pages/find_doctor_list/components/filter/filter.wxs":np_3,"p_./pages/home_search/doctor_search/index.wxs":np_5,"p_./pages/index/util.wxs":np_6,"p_./pages/qa_im/components/append_clinic/index.wxs":np_7,"p_./pages/qa_im/components/feedback_detail/index.wxs":np_8,};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./miniprogram_npm/mp-html/node/node.wxml']={};
f_['./miniprogram_npm/mp-html/node/node.wxml']['isInline'] =nv_require("m_./miniprogram_npm/mp-html/node/node.wxml:isInline");
function np_0(){var nv_module={nv_exports:{}};var nv_e = ({nv_abbr:!0,nv_b:!0,nv_big:!0,nv_code:!0,nv_del:!0,nv_em:!0,nv_i:!0,nv_ins:!0,nv_label:!0,nv_q:!0,nv_small:!0,nv_span:!0,nv_strong:!0,nv_sub:!0,nv_sup:!0,});nv_module.nv_exports = (function (nv_n,nv_i){return(nv_e[((nt_0=(nv_n),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] || -1 !== (nv_i || "").nv_indexOf("inline"))});return nv_module.nv_exports;}

f_['./pages/find_doctor/index.wxml']={};
f_['./pages/find_doctor/index.wxml']['find'] =f_['./pages/find_doctor/index.wxs'] || nv_require("p_./pages/find_doctor/index.wxs");
f_['./pages/find_doctor/index.wxml']['find']();

f_['./pages/find_doctor/index.wxs'] = nv_require("p_./pages/find_doctor/index.wxs");
function np_1(){var nv_module={nv_exports:{}};var nv_sliceArr = (function (nv_arr,nv_startIndex){var nv_index = 2 * nv_startIndex;return(nv_arr.nv_slice(nv_index,nv_index + 2))});var nv_sliceName = (function (nv_str){if (nv_str.nv_length > 5){return(nv_str.nv_slice(0,6) + "...")} else {return(nv_str)}});nv_module.nv_exports = ({nv_sliceArr:nv_sliceArr,nv_sliceName:nv_sliceName,});return nv_module.nv_exports;}

f_['./pages/find_doctor_list/components/doctor_search/index.wxml']={};
f_['./pages/find_doctor_list/components/doctor_search/index.wxml']['filter'] =f_['./pages/find_doctor_list/components/doctor_search/index.wxs'] || nv_require("p_./pages/find_doctor_list/components/doctor_search/index.wxs");
f_['./pages/find_doctor_list/components/doctor_search/index.wxml']['filter']();

f_['./pages/find_doctor_list/components/doctor_search/index.wxs'] = nv_require("p_./pages/find_doctor_list/components/doctor_search/index.wxs");
function np_2(){var nv_module={nv_exports:{}};var nv_spliceMoreWord = (function (nv_arr,nv_index,nv_isHot){if (nv_isHot){if (nv_arr[((nt_0=(nv_index),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))].nv_recommend_word && nv_arr[((nt_1=(nv_index),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))].nv_recommend_word.nv_length > 20){return(nv_arr[((nt_2=(nv_index),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))].nv_recommend_word.nv_slice(0,20) + '...')} else {return(nv_arr[((nt_3=(nv_index),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))].nv_recommend_word)}};if (nv_arr[((nt_4=(nv_index),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))] && nv_arr[((nt_5=(nv_index),null==nt_5?undefined:'number'=== typeof nt_5?nt_5:"nv_"+nt_5))].nv_length > 20){return(nv_arr[((nt_6=(nv_index),null==nt_6?undefined:'number'=== typeof nt_6?nt_6:"nv_"+nt_6))].nv_slice(0,20) + '...')} else {return(nv_arr[((nt_7=(nv_index),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))])}});nv_module.nv_exports = ({nv_spliceMoreWord:nv_spliceMoreWord,});return nv_module.nv_exports;}

f_['./pages/find_doctor_list/components/filter/filter.wxml']={};
f_['./pages/find_doctor_list/components/filter/filter.wxml']['filter'] =f_['./pages/find_doctor_list/components/filter/filter.wxs'] || nv_require("p_./pages/find_doctor_list/components/filter/filter.wxs");
f_['./pages/find_doctor_list/components/filter/filter.wxml']['filter']();

f_['./pages/find_doctor_list/components/filter/filter.wxs'] = nv_require("p_./pages/find_doctor_list/components/filter/filter.wxs");
function np_3(){var nv_module={nv_exports:{}};var nv_isFilterSelected = (function (nv_itemId,nv_selectedFilter){return(nv_selectedFilter.nv_indexOf(nv_itemId) >= 0 ? 'choose':'')});nv_module.nv_exports = ({nv_isFilterSelected:nv_isFilterSelected,});return nv_module.nv_exports;}

f_['./pages/health_record_authorize/index.wxml']={};
f_['./pages/health_record_authorize/index.wxml']['m1'] =nv_require("m_./pages/health_record_authorize/index.wxml:m1");
function np_4(){var nv_module={nv_exports:{}};var nv_isChoosed = (function (nv_choosedArr,nv_id){if (nv_choosedArr.nv_indexOf(nv_id) > -1){return(true)} else {return(false)}});nv_module.nv_exports.nv_isChoosed = nv_isChoosed;return nv_module.nv_exports;}

f_['./pages/home_search/doctor_search/index.wxml']={};
f_['./pages/home_search/doctor_search/index.wxml']['filter'] =f_['./pages/home_search/doctor_search/index.wxs'] || nv_require("p_./pages/home_search/doctor_search/index.wxs");
f_['./pages/home_search/doctor_search/index.wxml']['filter']();

f_['./pages/home_search/doctor_search/index.wxs'] = nv_require("p_./pages/home_search/doctor_search/index.wxs");
function np_5(){var nv_module={nv_exports:{}};var nv_spliceMoreWord = (function (nv_arr,nv_index,nv_isHot){if (nv_isHot){if (nv_arr[((nt_0=(nv_index),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))].nv_recommend_word && nv_arr[((nt_1=(nv_index),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))].nv_recommend_word.nv_length > 20){return(nv_arr[((nt_2=(nv_index),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))].nv_recommend_word.nv_slice(0,20) + '...')} else {return(nv_arr[((nt_3=(nv_index),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))].nv_recommend_word)}};if (nv_arr[((nt_4=(nv_index),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))] && nv_arr[((nt_5=(nv_index),null==nt_5?undefined:'number'=== typeof nt_5?nt_5:"nv_"+nt_5))].nv_length > 20){return(nv_arr[((nt_6=(nv_index),null==nt_6?undefined:'number'=== typeof nt_6?nt_6:"nv_"+nt_6))].nv_slice(0,20) + '...')} else {return(nv_arr[((nt_7=(nv_index),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))])}});nv_module.nv_exports = ({nv_spliceMoreWord:nv_spliceMoreWord,});return nv_module.nv_exports;}

f_['./pages/index/index.wxml']={};
f_['./pages/index/index.wxml']['util'] =f_['./pages/index/util.wxs'] || nv_require("p_./pages/index/util.wxs");
f_['./pages/index/index.wxml']['util']();

f_['./pages/index/util.wxs'] = nv_require("p_./pages/index/util.wxs");
function np_6(){var nv_module={nv_exports:{}};var nv_sliceName = (function (nv_str){if (nv_str.nv_length > 5){return(nv_str.nv_slice(0,4) + '...')} else {return(nv_str)}});nv_module.nv_exports = ({nv_sliceName:nv_sliceName,});return nv_module.nv_exports;}

f_['./pages/qa_im/components/append_clinic/append_clinic.wxml']={};
f_['./pages/qa_im/components/append_clinic/append_clinic.wxml']['wxs'] =f_['./pages/qa_im/components/append_clinic/index.wxs'] || nv_require("p_./pages/qa_im/components/append_clinic/index.wxs");
f_['./pages/qa_im/components/append_clinic/append_clinic.wxml']['wxs']();

f_['./pages/qa_im/components/append_clinic/index.wxs'] = nv_require("p_./pages/qa_im/components/append_clinic/index.wxs");
function np_7(){var nv_module={nv_exports:{}};var nv_isSelected = (function (nv_itemId,nv_selectedFilter){return(nv_selectedFilter.nv_indexOf(nv_itemId) >= 0)});nv_module.nv_exports = ({nv_isSelected:nv_isSelected,});return nv_module.nv_exports;}

f_['./pages/qa_im/components/feedback_detail/feedback_detail.wxml']={};
f_['./pages/qa_im/components/feedback_detail/feedback_detail.wxml']['wxs'] =f_['./pages/qa_im/components/feedback_detail/index.wxs'] || nv_require("p_./pages/qa_im/components/feedback_detail/index.wxs");
f_['./pages/qa_im/components/feedback_detail/feedback_detail.wxml']['wxs']();

f_['./pages/qa_im/components/feedback_detail/index.wxs'] = nv_require("p_./pages/qa_im/components/feedback_detail/index.wxs");
function np_8(){var nv_module={nv_exports:{}};var nv_isSelected = (function (nv_itemId,nv_selectedFilter){return(nv_selectedFilter.nv_indexOf(nv_itemId) >= 0 ? 'selected':'')});nv_module.nv_exports = ({nv_isSelected:nv_isSelected,});return nv_module.nv_exports;}

var x=[];if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||true)$gwx();;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("04A0CE03829A079C62C6A60426FB7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var r=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/doctor_detail_info/",t=getApp();module.exports=function(e){return new Promise((function(o,a){wx.request({url:r,header:{Cookie:t.globalData.sessionid},data:{from_wx_mini:1,partner:t.globalData.partner,doctor_id:e,is_json:1},success:function(r){return 200===r.statusCode?o(r.data):a()},fail:function(){return a()}})}))};
},{isPage:false,isComponent:false,currentFile:'04A0CE03829A079C62C6A60426FB7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("095CB6D2829A079C6F3ADED52E0C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/slicedToArray.js");require("@babel/runtime/helpers/Objectentries.js");var r=require("28984410829A079C4EFE2C17502C7B70.js");module.exports=function(i){if(!i)return r.ENTRANCE_TYPES.invalid;for(var a,t=i.entrance_type,n=0,E=Object.entries(r.ENTRANCE_TYPES);n<E.length;n++){var u=e(E[n],2),l=u[0],T=u[1];if(T.validateFunc){if(T.validateFunc(i)){a=r.ENTRANCE_TYPES[l];break}}else if(T.value===t){a=r.ENTRANCE_TYPES[l];break}}return a||r.ENTRANCE_TYPES.default};
},{isPage:false,isComponent:false,currentFile:'095CB6D2829A079C6F3ADED52E0C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("149D5771829A079C72FB3F761BFC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("miniprogram_npm/qs/index.js");module.exports={redirectPage:function(r,o){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=e.stringify(o,{encode:t})||"";console.log("str",c),wx.redirectTo({url:c?"".concat(r,"?").concat(c):r})}};
},{isPage:false,isComponent:false,currentFile:'149D5771829A079C72FB3F761BFC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("15CA5C31829A079C73AC343652AB7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subSaveApi=exports.saveReservedApi=exports.loginApi=void 0;var e=require("@babel/runtime/helpers/objectSpread2.js"),t=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o=getApp(),r=/^http(s)?:\/\//;exports.loginApi=function(e){return i({url:"/cooperation/wap/get_session_id/",method:"POST",data:{code:e}})};exports.subSaveApi=function(e){return i({url:"/cooperation/wap/mini_sub/save/",method:"POST",data:{data:JSON.stringify([{template_id:e,choice:"accept"}])}})};exports.saveReservedApi=function(e){return i({url:"/api/live/live_activity/save_reserved/",method:"POST",data:e})};var i=function(i){return new Promise((function(a,s){var n=i.url,d=void 0===n?"":n,u=i.data,c=void 0===u?{}:u,p=i.method,l=void 0===p?"GET":p,v=i.header,m=void 0===v?{}:v,f={Cookie:o.globalData.sessionid};f["Content-Type"]="POST"===l?"application/x-www-form-urlencoded":"application/json";var b=Object.assign({},m,f),g=Object.assign({},c,{from_wx_mini:1});wx.request({url:r.test(d)?d:"".concat(t).concat(d),data:g,header:b,method:l,success:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.statusCode,r=t.data,i=void 0===r?{}:r;o>=200&&o<=400?a(i):s(e({statusCode:o},i))},fail:function(e){console.log("".concat(d," request error:::"),e),s({error_msg:"网络请求出错，请稍后重试"})}})}))};
},{isPage:false,isComponent:false,currentFile:'15CA5C31829A079C73AC343652AB7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("1D735BD7829A079C7B1533D0C5CC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={productionVersion:"10.4.8"};
},{isPage:false,isComponent:false,currentFile:'1D735BD7829A079C7B1533D0C5CC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("23F8CAA4829A079C459EA2A3298C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={UPLOAD_FAIL:{value:"UPLOAD_FAIL",desc:"上传失败"},API_FAIL:{value:"API_FAIL",desc:"微信接口失败"}};
},{isPage:false,isComponent:false,currentFile:'23F8CAA4829A079C459EA2A3298C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("28984410829A079C4EFE2C17502C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={QA_CONTENTS_MAX_HEIGHT:590,STATUS_MAP:{a:"已认领",s:"已回复",c:"已关闭",v:"用户看过医生的回复",p:"被举报",m:"用户修改科室中",w:"等待激活",n:"新问题",i:"初始化，空白问题或未付款"},REDIRECT_MAP:{doctor_service_pay:"/pages/payment/index",doctor_home:"/pages/doc_mainpage/index",quick_ask:"/pages/inquery/inquery",search_doctor_list:"/pages/find_doctor_list/index"},ENTRANCE_TYPES:{seo:{value:"from_seo",desc:"微信搜索进入qa页面",validateFunc:function(e){if(1===Number(e.output)&&"weixin"===e.partner)return!0}},home_search:{value:"from_home_search",desc:"小程序搜索页进入"},doc_mainpage:{value:"from_doc_mainpage",desc:"医生主页进入"},mini_share:{value:"from_mini_share",desc:"小程序qa详情页分享进入"},app_share:{value:"from_app_share",desc:"app qa详情页分享进入",validateFunc:function(e){if("app"===e.from)return!0}},seo_similar_problem:{value:"seo_similar_problem",desc:"seoqa的相似问题"},invalid:{value:"invalid_from_type",desc:"入口页面参数错误"},default:{value:"defult",desc:"没有拿到参数"}},audioCheckPointDate:new Date("2022-11-20"),fixedPositionElement:{"tap-to-top-indicator-mask":{selector:".tap-to-top-indicator-mask",label:"提示点击顶部置顶的蒙层","z-index":20},"tap-to-bottom-container":{selector:".tap-to-bottom-container",label:"点击后划到scroll-view最底部的按钮","z-index":19},"problem-status-tip":{selector:".problem-status-tip",label:"问题关闭后的评价框","z-index":19},"message-container-show-more":{selector:".message-container-show-more",label:"seo入口展示更多的按钮","z-index":18},"top-height.seo":{selector:".top-height.seo",label:"seo入口医生信息","z-index":19}}};
},{isPage:false,isComponent:false,currentFile:'28984410829A079C4EFE2C17502C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("39634846829A079C5F052041CEBB7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@babel/runtime/helpers/classCallCheck.js"),e=require("@babel/runtime/helpers/createClass.js"),r=function(){},i=function(){return!0},n=function(){function n(e){var s=e.fn,u=e.valid,a=e.interval,o=void 0===a?1e3:a,l=e.maxAttempts;t(this,n),this.fn=s&&"function"==typeof s?s:r,this.valid=u&&"function"==typeof u?u:i,this.interval=o,this.maxAttempts=Number(l)?l:3,this.attempts=0,this.timer=null}return e(n,[{key:"executePoll",value:function(t){var e=this;return new Promise((function(r,i){if(-1!==e.maxAttempts&&(e.attempts+=1,e.attempts>e.maxAttempts))return i(e._errorTips("1001"));e.fn(t).then((function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.valid(i))return r(i);e.timer=setTimeout((function(){r(e.executePoll(t))}),e.interval)})).catch((function(t){return i(e._errorTips("1002",t))}))}))}},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.timer=null,this.attempts=0}},{key:"_errorTips",value:function(t,e){return{code:t,msg:{1001:"Exceeded max attempts",1002:"Fn error"}[t]||"",details:e||""}}}]),n}();exports.default=n;
},{isPage:false,isComponent:false,currentFile:'39634846829A079C5F052041CEBB7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("3B123513829A079C5D745D1477BC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,t=function(t){return new Promise((function(o){var n,i=wx.getStorageSync("open_id")||wx.getStorageSync("device_id")||"";wx.request({header:{cookie:getApp()?null===(n=getApp().globalData)||void 0===n?void 0:n.sessionid:"","Content-Type":"application/x-www-form-urlencoded"},url:"".concat(e,"/user_operation/page_visit_record/?web_distinct_id=").concat(i),method:"POST",data:{from_name:(null==t?void 0:t.fromName)||"",name:(null==t?void 0:t.name)||"",ts:(new Date).getTime(),extra_info:JSON.stringify((null==t?void 0:t.extraInfo)||{})},success:function(e){o(e)},fail:function(e){o(e)}})}))};exports.default=t;
},{isPage:false,isComponent:false,currentFile:'3B123513829A079C5D745D1477BC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("425B7011829A079C243D1816847D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js"),t=e(require("D0479CE4829A079CB621F4E3756D7B70.js")),a=e(require("6A719353829A079C0C17FB54BF7D7B70.js"));module.exports=function(e,r){var i=e.attributes,l=e.constraints,s=e.options,u=(0,t.default)(i,l,s);r&&r.validateDetail&&(0,a.default)({errorMsg:u,id:r.validateDetail.id,hasPassed:!u,level:r.validateDetail.level,extraInfo:r.content})};
},{isPage:false,isComponent:false,currentFile:'425B7011829A079C243D1816847D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("43A2F676829A079C25C49E711B4C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js")(require("7B9C8496829A079C1DFAEC91795C7B70.js")),n=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,t="".concat(n,"/cooperation/wap/get_session_id/"),o="".concat(n,"/cooperation/wap/is_user_login/"),i=function(){return new Promise((function(n,o){wx.login({success:function(i){i.code&&(0,e.default)({url:t,method:"POST",data:{code:i.code,from_wx_mini:1,first_vendor:r(),encryptedData:"",iv:""},header:{cookie:"","content-type":"application/x-www-form-urlencoded"},success:function(e){var t=e.data||{},i=t.sessionid,r=t.user_name||"",s=t.is_first,a=t.user_id||"",u="sessionid=".concat(i);if(i){var c=getApp();return wx.setStorageSync("sessionid",u),wx.setStorageSync("sessionUserId",a),wx.setStorageSync("userName",r),c.globalData.sessionid=u,a&&c.sensors.login(a),wx.setStorageSync("activity_token",t.activity_token),c.globalData.isFirstAuthorized=s,c.globalData.appIsLogin=Promise.resolve(),c.globalData.launchDoPoint(),n()}return o()},fail:function(){return o()}})}})}))},r=function(){var e=wx.getStorageSync("authorizationPointData");return e&&e.source_type?e.source_type:""},s=function(){return new Promise((function(n,t){(0,e.default)({url:o,success:function(e){return e.data.login?n(e.data):t()},fail:function(){return t()}})}))};module.exports={autoLogin:i,isLogin:s,updateSessionid:function(e){var n="sessionid=".concat(e);wx.setStorageSync("sessionid",n),getApp().globalData.sessionid=n},manualLogin:function(){return new Promise((function(e,n){s().then((function(){return e()})).catch((function(){i().then((function(){return e()})).catch((function(){return n()}))}))}))}};
},{isPage:false,isComponent:false,currentFile:'43A2F676829A079C25C49E711B4C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("56F44BB4829A079C309223B3039D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var s=require("BC983DD1829A079CDAFE55D6E84D7B70.js");module.exports={WEBSOCKET_URL:"wss://".concat(s.baseUrl.replace("https://",""),"/cyws/ws/message")};
},{isPage:false,isComponent:false,currentFile:'56F44BB4829A079C309223B3039D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("5FA81AD3829A079C39CE72D4239C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=wx.getRealtimeLogManager?wx.getRealtimeLogManager():null;module.exports={debug:function(){e&&e.debug.apply(e,arguments)},info:function(){e&&e.info.apply(e,arguments)},warn:function(){e&&e.warn.apply(e,arguments)},error:function(){e&&e.error.apply(e,arguments)},setFilterMsg:function(t){e&&e.setFilterMsg&&"string"==typeof t&&e.setFilterMsg(t)},addFilterMsg:function(t){e&&e.addFilterMsg&&"string"==typeof t&&e.addFilterMsg(t)}};
},{isPage:false,isComponent:false,currentFile:'5FA81AD3829A079C39CE72D4239C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("6A719353829A079C0C17FB54BF7D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js"),a=e(require("D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),i=e(require("D0479CE4829A079CB621F4E3756D7B70.js")),r={find_doc_list:{filter_message:"find_doc_list",label:"找医生列表页 空的列表",interfaceId:"find_doc_list",level:3},seo_weixin_service_search:{filter_message:"seo_weixin_service_search",label:"微信搜一搜 服务页面接入",interfaceId:"seo_weixin_service_search",level:1},seo_weixin_native_search:{filter_message:"seo_weixin_native_search",label:"所有微信提供的搜索访问渠道",interfaceId:"seo_weixin_native_search",level:1},seo_chunyu_seo:{filter_message:"seo_chunyu_seo",label:"由微信推送后台来源打开的QA",interfaceId:"seo_chunyu_seo",level:1},qa_privacy_issue:{filter_message:"qa_privacy_issue",label:"qa详情页 qa涉及隐私无法打开",interfaceId:"qa_privacy_issue",level:2},qa_privacy_issue_seo:{filter_message:"qa_privacy_issue_seo",label:"qa详情页 qa涉及隐私无法打开 并且来源是SEO",interfaceId:"qa_privacy_issue_seo",level:2},qa_message_stream:{filter_message:"qa_message_stream",label:"qa详情页，后端error_code不为0",interfaceId:"qa_message_stream",level:3},audio_detail:{filter_message:"audio_detail",label:"语音详情页topic_info异常",interfaceId:"audio_detail",level:3},request_fail:{filter_message:"request_fail",label:"wx.request失败",interfaceId:"request_fail",level:2},generanl_topic_detail:{filter_message:"generanl_topic_detail",label:"新的通用话题页面",interfaceId:"generanl_topic_detail",level:3},page_not_found:{filter_message:"page_not_found",label:"页面未找到",interfaceId:"page_not_found",level:2}};module.exports=function(e){if("function"==typeof wx.reportEvent){var s=(0,i.default)(e,{id:{presence:!0},hasPassed:{presence:!0}},{format:"flat"});if(s)return console.log(s),a.default.setFilterMsg("we分析上报数据格式错误"),void a.default.warn("report message:",s);if(e&&e.id){var _=e.errorMsg,l=e.id,t=e.hasPassed,o=void 0!==t&&t,n=e.extraInfo,f=void 0===n?{}:n;r[l]&&(wx.reportEvent("wxdata_perf_monitor",{wxdata_perf_monitor_id:r[l].interfaceId,wxdata_perf_monitor_level:r[l].level,wxdata_perf_error_code:o?0:1,wxdata_perf_error_msg:String(_)}),o||(a.default.setFilterMsg(r[l].filter_message),a.default.info("report message:",_),a.default.info("extra info:",f),a.default.info("version",wx.getAccountInfoSync().miniProgram.version||"非线上版本")))}}};
},{isPage:false,isComponent:false,currentFile:'6A719353829A079C0C17FB54BF7D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("6E47C322829A079C0821AB25BD9C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var _typeof2=require("@babel/runtime/helpers/typeof.js");!function(){function t(t){if(t)d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d,this.buffer8=l;else if(a){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var r="input is invalid type",e="object"==("undefined"==typeof window?"undefined":_typeof2(window)),i=e?window:{};i.JS_MD5_NO_WINDOW&&(e=!1);var s=!e&&"object"==("undefined"==typeof self?"undefined":_typeof2(self)),h=!i.JS_MD5_NO_NODE_JS&&"object"==("undefined"==typeof process?"undefined":_typeof2(process))&&process.versions&&process.versions.node;h?i=global:s&&(i=self);var f=!i.JS_MD5_NO_COMMON_JS&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports,o="function"==typeof define&&define.amd,a=!i.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,n="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],y=[0,8,16,24],c=["hex","array","digest","buffer","arrayBuffer","base64"],p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),d=[],l;if(a){var A=new ArrayBuffer(68);l=new Uint8Array(A),d=new Uint32Array(A)}!i.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!a||!i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==_typeof2(t)&&t.buffer&&t.buffer.constructor===ArrayBuffer});var b=function(e){return function(r){return new t(!0).update(r)[e]()}},v=function(){var e=b("hex");h&&(e=w(e)),e.create=function(){return new t},e.update=function(t){return e.create().update(t)};for(var r=0;r<c.length;++r){var i=c[r];e[i]=b(i)}return e},w=function w(t){var e=eval("require('crypto')"),i=eval("require('buffer').Buffer"),s=function(s){if("string"==typeof s)return e.createHash("md5").update(s,"utf8").digest("hex");if(null==s)throw r;return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===i?e.createHash("md5").update(new i(s)).digest("hex"):t(s)};return s};t.prototype.update=function(t){if(!this.finalized){var e,i=_typeof2(t);if("string"!==i){if("object"!==i)throw r;if(null===t)throw r;if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw r;e=!0}for(var s,n,h=0,f=t.length,o=this.blocks,u=this.buffer8;h<f;){if(this.hashed&&(this.hashed=!1,o[0]=o[16],o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)if(a)for(n=this.start;h<f&&n<64;++h)u[n++]=t[h];else for(n=this.start;h<f&&n<64;++h)o[n>>2]|=t[h]<<y[3&n++];else if(a)for(n=this.start;h<f&&n<64;++h)(s=t.charCodeAt(h))<128?u[n++]=s:s<2048?(u[n++]=192|s>>6,u[n++]=128|63&s):s<55296||s>=57344?(u[n++]=224|s>>12,u[n++]=128|s>>6&63,u[n++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++h)),u[n++]=240|s>>18,u[n++]=128|s>>12&63,u[n++]=128|s>>6&63,u[n++]=128|63&s);else for(n=this.start;h<f&&n<64;++h)(s=t.charCodeAt(h))<128?o[n>>2]|=s<<y[3&n++]:s<2048?(o[n>>2]|=(192|s>>6)<<y[3&n++],o[n>>2]|=(128|63&s)<<y[3&n++]):s<55296||s>=57344?(o[n>>2]|=(224|s>>12)<<y[3&n++],o[n>>2]|=(128|s>>6&63)<<y[3&n++],o[n>>2]|=(128|63&s)<<y[3&n++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++h)),o[n>>2]|=(240|s>>18)<<y[3&n++],o[n>>2]|=(128|s>>12&63)<<y[3&n++],o[n>>2]|=(128|s>>6&63)<<y[3&n++],o[n>>2]|=(128|63&s)<<y[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=u[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},t.prototype.hash=function(){var t,e,r,i,s,n,h=this.blocks;this.first?e=((e=((t=((t=h[0]-680876937)<<7|t>>>25)-271733879<<0)^(r=((r=(-271733879^(i=((i=(-1732584194^2004318071&t)+h[1]-117830708)<<12|i>>>20)+t<<0)&(-271733879^t))+h[2]-1126478375)<<17|r>>>15)+i<<0)&(i^t))+h[3]-1316259209)<<22|e>>>10)+r<<0:(t=this.h0,e=this.h1,r=this.h2,e=((e+=((t=((t+=((i=this.h3)^e&(r^i))+h[0]-680876936)<<7|t>>>25)+e<<0)^(r=((r+=(e^(i=((i+=(r^t&(e^r))+h[1]-389564586)<<12|i>>>20)+t<<0)&(t^e))+h[2]+606105819)<<17|r>>>15)+i<<0)&(i^t))+h[3]-1044525330)<<22|e>>>10)+r<<0),e=((e+=((t=((t+=(i^e&(r^i))+h[4]-176418897)<<7|t>>>25)+e<<0)^(r=((r+=(e^(i=((i+=(r^t&(e^r))+h[5]+1200080426)<<12|i>>>20)+t<<0)&(t^e))+h[6]-1473231341)<<17|r>>>15)+i<<0)&(i^t))+h[7]-45705983)<<22|e>>>10)+r<<0,e=((e+=((t=((t+=(i^e&(r^i))+h[8]+1770035416)<<7|t>>>25)+e<<0)^(r=((r+=(e^(i=((i+=(r^t&(e^r))+h[9]-1958414417)<<12|i>>>20)+t<<0)&(t^e))+h[10]-42063)<<17|r>>>15)+i<<0)&(i^t))+h[11]-1990404162)<<22|e>>>10)+r<<0,e=((e+=((t=((t+=(i^e&(r^i))+h[12]+1804603682)<<7|t>>>25)+e<<0)^(r=((r+=(e^(i=((i+=(r^t&(e^r))+h[13]-40341101)<<12|i>>>20)+t<<0)&(t^e))+h[14]-1502002290)<<17|r>>>15)+i<<0)&(i^t))+h[15]+1236535329)<<22|e>>>10)+r<<0,e=((e+=((i=((i+=(e^r&((t=((t+=(r^i&(e^r))+h[1]-165796510)<<5|t>>>27)+e<<0)^e))+h[6]-1069501632)<<9|i>>>23)+t<<0)^t&((r=((r+=(t^e&(i^t))+h[11]+643717713)<<14|r>>>18)+i<<0)^i))+h[0]-373897302)<<20|e>>>12)+r<<0,e=((e+=((i=((i+=(e^r&((t=((t+=(r^i&(e^r))+h[5]-701558691)<<5|t>>>27)+e<<0)^e))+h[10]+38016083)<<9|i>>>23)+t<<0)^t&((r=((r+=(t^e&(i^t))+h[15]-660478335)<<14|r>>>18)+i<<0)^i))+h[4]-405537848)<<20|e>>>12)+r<<0,e=((e+=((i=((i+=(e^r&((t=((t+=(r^i&(e^r))+h[9]+568446438)<<5|t>>>27)+e<<0)^e))+h[14]-1019803690)<<9|i>>>23)+t<<0)^t&((r=((r+=(t^e&(i^t))+h[3]-187363961)<<14|r>>>18)+i<<0)^i))+h[8]+1163531501)<<20|e>>>12)+r<<0,e=((e+=((i=((i+=(e^r&((t=((t+=(r^i&(e^r))+h[13]-1444681467)<<5|t>>>27)+e<<0)^e))+h[2]-51403784)<<9|i>>>23)+t<<0)^t&((r=((r+=(t^e&(i^t))+h[7]+1735328473)<<14|r>>>18)+i<<0)^i))+h[12]-1926607734)<<20|e>>>12)+r<<0,e=((e+=((n=(i=((i+=((s=e^r)^(t=((t+=(s^i)+h[5]-378558)<<4|t>>>28)+e<<0))+h[8]-2022574463)<<11|i>>>21)+t<<0)^t)^(r=((r+=(n^e)+h[11]+1839030562)<<16|r>>>16)+i<<0))+h[14]-35309556)<<23|e>>>9)+r<<0,e=((e+=((n=(i=((i+=((s=e^r)^(t=((t+=(s^i)+h[1]-1530992060)<<4|t>>>28)+e<<0))+h[4]+1272893353)<<11|i>>>21)+t<<0)^t)^(r=((r+=(n^e)+h[7]-155497632)<<16|r>>>16)+i<<0))+h[10]-1094730640)<<23|e>>>9)+r<<0,e=((e+=((n=(i=((i+=((s=e^r)^(t=((t+=(s^i)+h[13]+681279174)<<4|t>>>28)+e<<0))+h[0]-358537222)<<11|i>>>21)+t<<0)^t)^(r=((r+=(n^e)+h[3]-722521979)<<16|r>>>16)+i<<0))+h[6]+76029189)<<23|e>>>9)+r<<0,e=((e+=((n=(i=((i+=((s=e^r)^(t=((t+=(s^i)+h[9]-640364487)<<4|t>>>28)+e<<0))+h[12]-421815835)<<11|i>>>21)+t<<0)^t)^(r=((r+=(n^e)+h[15]+530742520)<<16|r>>>16)+i<<0))+h[2]-995338651)<<23|e>>>9)+r<<0,e=((e+=((i=((i+=(e^((t=((t+=(r^(e|~i))+h[0]-198630844)<<6|t>>>26)+e<<0)|~r))+h[7]+1126891415)<<10|i>>>22)+t<<0)^((r=((r+=(t^(i|~e))+h[14]-1416354905)<<15|r>>>17)+i<<0)|~t))+h[5]-57434055)<<21|e>>>11)+r<<0,e=((e+=((i=((i+=(e^((t=((t+=(r^(e|~i))+h[12]+1700485571)<<6|t>>>26)+e<<0)|~r))+h[3]-1894986606)<<10|i>>>22)+t<<0)^((r=((r+=(t^(i|~e))+h[10]-1051523)<<15|r>>>17)+i<<0)|~t))+h[1]-2054922799)<<21|e>>>11)+r<<0,e=((e+=((i=((i+=(e^((t=((t+=(r^(e|~i))+h[8]+1873313359)<<6|t>>>26)+e<<0)|~r))+h[15]-30611744)<<10|i>>>22)+t<<0)^((r=((r+=(t^(i|~e))+h[6]-1560198380)<<15|r>>>17)+i<<0)|~t))+h[13]+1309151649)<<21|e>>>11)+r<<0,e=((e+=((i=((i+=(e^((t=((t+=(r^(e|~i))+h[4]-145523070)<<6|t>>>26)+e<<0)|~r))+h[11]-1120210379)<<10|i>>>22)+t<<0)^((r=((r+=(t^(i|~e))+h[2]+718787259)<<15|r>>>17)+i<<0)|~t))+h[9]-343485551)<<21|e>>>11)+r<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=r-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+i<<0)},t.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3;return n[t>>4&15]+n[15&t]+n[t>>12&15]+n[t>>8&15]+n[t>>20&15]+n[t>>16&15]+n[t>>28&15]+n[t>>24&15]+n[e>>4&15]+n[15&e]+n[e>>12&15]+n[e>>8&15]+n[e>>20&15]+n[e>>16&15]+n[e>>28&15]+n[e>>24&15]+n[r>>4&15]+n[15&r]+n[r>>12&15]+n[r>>8&15]+n[r>>20&15]+n[r>>16&15]+n[r>>28&15]+n[r>>24&15]+n[i>>4&15]+n[15&i]+n[i>>12&15]+n[i>>8&15]+n[i>>20&15]+n[i>>16&15]+n[i>>28&15]+n[i>>24&15]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.base64=function(){for(var t,e,r,i="",s=this.array(),n=0;n<15;)t=s[n++],e=s[n++],r=s[n++],i+=p[t>>>2]+p[63&(t<<4|e>>>4)]+p[63&(e<<2|r>>>6)]+p[63&r];return t=s[n],i+(p[t>>>2]+p[t<<4&63]+"==")};var _=v();f?module.exports=_:(i.md5=_,o&&define((function(){return _})))}();
},{isPage:false,isComponent:false,currentFile:'6E47C322829A079C0821AB25BD9C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("7B9C8496829A079C1DFAEC91795C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js"),r=require("@babel/runtime/helpers/objectSpread2.js"),i=require("1D735BD7829A079C7B1533D0C5CC7B70.js"),t=require("92BC1755829A079CF4DA7F52C55D7B70.js"),o=e(require("D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),a=e(require("6A719353829A079C0C17FB54BF7D7B70.js"));module.exports=function(e){var u={header:{cookie:getApp()?getApp().globalData.sessionid:""},method:"GET",data:{version:i.productionVersion}},n=(0,t.deepMerge)(u,e);"POST"===n.method&&(n.header["Content-Type"]="application/x-www-form-urlencoded"),wx.request(r(r({},n),{},{fail:function(r){if((0,a.default)({id:"request_fail",hasPassed:!1,extraInfo:{"请求地址":e.url,"原因":r.errMsg,"失败码":r.errno||"无"}}),"function"==typeof e.fail)try{e.fail(r)}catch(r){o.default.error("请求地址:".concat(e.url," 未定义fail回调函数"))}}}))};
},{isPage:false,isComponent:false,currentFile:'7B9C8496829A079C1DFAEC91795C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("7C7490B0829A079C1A12F8B759DC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js"),t=/^http(s)?:\/\//;exports.default=function(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.baseUrl,r=wx.getStorageSync("sessionid");return new Promise((function(e,d){s["Content-Type"]="POST"===n?"application/x-www-form-urlencoded":"application/json",wx.request({url:t.test(o)?o:"".concat(i).concat(o),data:a,method:n,header:Object.assign(s,{Cookie:r}),success:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.statusCode>=200&&t.statusCode<=400?e(t.data):d(t.data||{})},fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(e.data||{})}})}))};
},{isPage:false,isComponent:false,currentFile:'7C7490B0829A079C1A12F8B759DC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("81E76856829A079CE7810051D30C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default={doctor_service_inquiry:"/pages/tel_inquiry/index"};
},{isPage:false,isComponent:false,currentFile:'81E76856829A079CE7810051D30C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("840A1D64829A079CE26C7563276C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;module.exports={doPoint:function(t,a){var o=getApp().globalData.sessionid||"",i=wx.getStorageSync("open_id")||"",n=wx.getStorageSync("device_id")||"",r=i||n;wx.request({url:e+"/stat/h5/event_analyse/data_upload/?from_wx_mini=1&device_id="+r,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",cookie:o},data:{events:JSON.stringify([{key:t,segmentation:a}])}})}};
},{isPage:false,isComponent:false,currentFile:'840A1D64829A079CE26C7563276C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("92BC1755829A079CF4DA7F52C55D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/objectSpread2.js"),t=require("@babel/runtime/helpers/typeof.js"),n=require("@babel/runtime/helpers/toConsumableArray.js"),r=require("BC983DD1829A079CDAFE55D6E84D7B70.js"),i={param:function(e){var t,n=[],r=function(e,t){var r="function"==typeof t?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};for(t in e)r(t,e[t]);return n.join("&")},timeCountDown:function(e,t){"iscode"==e&&t.setData({btnSelected:"btn--selected",disabled:"disabled"});var n=60,r=setInterval((function(){(n-=1)<=0?(t.setData({disabled:"",btnSelected:"",btn_text:"获取验证码"}),clearInterval(r)):t.setData({btn_text:n+"s后再获取"})}),1e3)},dateFormat:function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Timer:function(e,t,n,r){var i,o=!1,a=e||0;t=t||1e3,this.pause=function(){o=!0,i&&clearTimeout(i)},this.start=function(){o=!1,function e(t,n,r,s){if(!o)if(t<=0)"function"==typeof r&&r();else{var c=Date.now();i=setTimeout((function(){var i=parseInt((Date.now()-c)/n);a=t-i,"function"==typeof s&&s(a),e(a,n,r,s)}),n)}}(a,t,n,r)}},getQueryStr:function(e,t){var n=t.match(new RegExp("[?&]"+e+"=([^&]*)","i")),r=n&&n.length>1&&n[1]||"";return decodeURIComponent(r)},getSceneQueryStr:function(e,t){var n=decodeURIComponent(t).match(new RegExp(e+"=([^&]*)","i"));return n&&n.length>1&&n[1]||""||""},getElementRec:function(e){return new Promise((function(t,n){var r=wx.createSelectorQuery();r.select(e).boundingClientRect(),r.exec((function(e){return e[0]?t(e[0]):n()}))}))},debounce:function(e,t){var r,i=t||1e3;return function(){r&&clearTimeout(r);var t=this,o=arguments;r=setTimeout((function(){e.call.apply(e,[t].concat(n(o)))}),i)}},addParameterToURL:function(e,t){return e+=(e.split("?")[1]?"&":"?")+t},isObject:function(e){return e&&"object"===t(e)&&!Array.isArray(e)},deepMerge:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var o=n.shift();if(i.isObject(e)&&i.isObject(o))for(var a in o)i.isObject(o[a])?(e[a]||(e[a]={}),i.deepMerge(e[a],o[a])):e[a]=o[a];return i.deepMerge.apply(i,[e].concat(n))},wxShowToast:function(e){wx.showToast({title:e,icon:"none",mask:!0,duration:2e3})},wxShowLoading:function(e){wx.showLoading({title:e,mask:!0})},compareSDKVersion:function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var i=parseInt(e[r]),o=parseInt(t[r]);if(i>o)return 1;if(i<o)return-1}return 0},trackWithServer:function(t){if(t)try{var n=JSON.parse(t),r=n.click_event||"AppClick",i=e(e({},n),{},{app:"weixin_mini"});console.log(r,i),getApp().sensors.track(r,i)}catch(e){console.error(e)}},syncSubscribeMessage:function(e){wx.request({url:"".concat(r.baseUrl,"/cooperation/wap/mini_sub/save/"),data:{data:JSON.stringify([{template_id:e,choice:"accept"}])},header:{"Content-Type":"application/x-www-form-urlencoded",cookie:getApp()?getApp().globalData.sessionid:""},method:"POST",success:function(e){0===e.data.error_code&&console.log("同步成功")}})},isCyDomain:function(e){return/^https?:\/\/([a-zA-Z0-9-]+\.)?(chunyuyisheng|chunyutianxia)\.com\//.test(e)},isDevelop:function(){var e=wx.getAccountInfoSync().miniProgram.envVersion;return"develop"===e||"trial"===e},setWebviewUrlWithLoginCredentials:function(e){var t=wx.getStorageSync("sessionid"),n="",r=e;if(t&&t.length){var i=t.split("sessionid=");i.length>1&&(n=i[1])}return n.length&&(r=function(e,t,n){if(e.indexOf(t+"=")>=0){var r=e.substring(0,e.indexOf(t)),i=e.substring(e.indexOf(t));e=r+t+"="+n+(i=(i=i.substring(i.indexOf("=")+1)).indexOf("&")>=0?i.substring(i.indexOf("&")):"")}else e.indexOf("?")<0?e+="?"+t+"="+n:e+="&"+t+"="+n;return e}(e,"_CS",n)),r}};module.exports=i;
},{isPage:false,isComponent:false,currentFile:'92BC1755829A079CF4DA7F52C55D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("94310D64829A079CF2576563CCAC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js"),o=require("@babel/runtime/helpers/objectSpread2.js"),n=e(require("@babel/runtime/regenerator.js")),t=require("@babel/runtime/helpers/asyncToGenerator.js"),i=e(require("23F8CAA4829A079C459EA2A3298C7B70.js")),a=e(require("6E47C322829A079C0821AB25BD9C7B70.js")),s=getApp(),r=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,u=r+"/files/upload_token/",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"成功",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";wx.showToast({title:e,icon:o,duration:1500})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return new Promise((function(o,n){wx.request({url:e,method:"GET",data:{from_wx_mini:1},header:{Cookie:s.globalData.sessionid},success:function(e){var t=e.data,i=void 0===t?{}:t;i.success&&o(i.token),n("token 获取失败")},fail:function(){wx.showToast({title:"网络断开",icon:"none",uration:3e3}),console.error("get token error"),n("token 获取失败")}})}))},d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://upload.qbox.me/";return new Promise((function(a,s){wx.uploadFile({url:i,filePath:n,name:"file",formData:{token:e},success:function(e){e=JSON.parse(e.data),console.log("res",e),e.success&&a(o({fileUrl:e.img_url},t)),s("文件上传失败")},fail:function(e){console.log("uploadFile fail",e),s("文件上传失败")}})}))},f=function(e){return new Promise((function(o,n){wx.downloadFile({url:e,success:function(e){wx.saveFile({tempFilePath:e.tempFilePath,success:function(e){console.log("success",e),o(e.savedFilePath)},fail:function(e){console.log(e),n("下载文件失败")}})},fail:function(e){console.log("downloadFile fail",e),n("下载文件失败")}})}))};module.exports={uploadFile:d,uploadImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.count,a=void 0===o?2:o,s=e.sizeType,r=void 0===s?["original","compressed"]:s,u=e.sourceType,c=void 0===u?["album","camera"]:u;return new Promise((function(e,o){var s;wx.chooseImage({count:a,sizeType:r,sourceType:c,success:(s=t(n.default.mark((function t(a){var s,r,u;return n.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.tempFiles,r=void 0===s?[]:s,n.next=3,l();case 3:u=n.sent,wx.showLoading({title:"上传中"}),Promise.all(r.map((function(e,o){return d(u,e.path,{size:e.size})}))).then((function(o){wx.hideLoading(),e(o)})).catch((function(e){wx.hideLoading(),o({type:i.default.UPLOAD_FAIL.value,errMsg:i.default.UPLOAD_FAIL.desc,info:e})}));case 6:case"end":return n.stop()}}),t)}))),function(e){return s.apply(this,arguments)}),fail:function(e){wx.hideLoading(),o({type:i.default.API_FAIL.value,errMsg:i.default.API_FAIL.desc,info:e})}})}))},uploadVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.count,a=void 0===i?9:i,s=e.mediaType,r=void 0===s?["image","video"]:s,u=e.maxDuration,c=void 0===u?10:u,f=e.sourceType,h=void 0===f?["album","camera"]:f,m=e.sizeType,p=void 0===m?["original","compressed"]:m,g=e.camera,w=void 0===g?"back":g,v=["mp4","mov"];return new Promise((function(e,i){var s;wx.chooseMedia({count:a,mediaType:r,sourceType:h,maxDuration:c,camera:w,compressed:!1,sizeType:p,success:(s=t(n.default.mark((function t(a){var s,r,u,f,h,m,p;return n.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l();case 2:if(s=n.sent,wx.showLoading({title:"上传中"}),r=a.errMsg,u=a.tempFiles,f=void 0===u?[]:u,h=a.type,"chooseMedia:ok"!==r){n.next=25;break}m=0;case 7:if(!(m<f.length)){n.next=22;break}if(console.log(f[m]),p=f[m].tempFilePath.split(".").pop().toLowerCase(),"video"!==f[m].fileType||-1!==v.indexOf(p)){n.next=15;break}return i({errMsg:"format error"}),n.abrupt("break",22);case 15:if(!("video"===f[m].fileType&&Number(f[m].duration).toFixed(2)>c)){n.next=19;break}return wx.hideLoading(),i({errMsg:"duration error"}),n.abrupt("break",22);case 19:m++,n.next=7;break;case 22:Promise.all(f.map((function(e,n){return d(s,e.tempFilePath,o(o({},e),{},{fileType:h}))}))).then((function(o){console.log("fileList",o),e(o),wx.hideLoading()})).catch((function(e){wx.hideLoading(),i({errMsg:e||"上传失败"})})),n.next=27;break;case 25:wx.hideLoading(),i({errMsg:"选择文件失败"});case 27:case"end":return n.stop()}}),t)}))),function(e){return s.apply(this,arguments)}),fail:function(e){console.log("chooseMedia fail",e),wx.hideLoading(),i({errMsg:"选择文件失败"})}})}))},getToken:l,downloadFile:f,saveImageToPhotosAlbum:function(e){return new Promise((function(o,n){f(e).then((function(e){wx.saveImageToPhotosAlbum({filePath:e,success:function(e){console.log("saveImageToPhotosAlbumMsg",e),c("已保存至手机相册"),o()},fail:function(t){t.errMsg&&wx.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(t){t.confirm&&wx.openSetting({success:function(t){t.authSetting["scope.writePhotosAlbum"]?wx.saveImageToPhotosAlbum({filePath:e,success:function(e){console.log("saveImageToPhotosAlbumMsg",e),c("已保存至手机相册"),o()}}):(wx.showModal({title:"温馨提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1}),n())}})}})}})})).catch((function(e){c(e||"图片下载失败","none"),n()}))}))},saveVideoToPhotosAlbum:function(e){return new Promise((function(o,n){f(e).then((function(e){wx.saveVideoToPhotosAlbum({filePath:e,success:function(e){console.log("vide path",e),c("保存成功"),o()},fail:function(t){console.log("err",t),"saveVideoToPhotosAlbum:fail auth deny"===t.errMsg&&wx.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(t){wx.openSetting({success:function(t){t.authSetting["scope.writePhotosAlbum"]?wx.saveVideoToPhotosAlbum({filePath:e,success:function(e){c("保存成功"),o()}}):(wx.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1}),n())}})}})}})})).catch((function(e){c(e||"视频下载失败","none"),n()}))}))},generateFakeToken:function(){return new Promise((function(e,o){var n=Math.floor(Date.now()/1e3),t=Math.floor(Date.now()/1e3),i=(0,a.default)("7scQRy06MajgNpOK"+n+t).slice(8,24);wx.request({url:"".concat(r,"/files/upload_token/"),method:"POST",data:{partner:"chunyu_upload",user_id:n,atime:t,sign:i},header:{Cookie:s.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},success:function(n){return n.data.success?e(n.data.token):o()},fail:function(e){return o(e)}})}))}};
},{isPage:false,isComponent:false,currentFile:'94310D64829A079CF2576563CCAC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("982D50C4829A079CFE4B38C322EC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault.js"),r=require("BC983DD1829A079CDAFE55D6E84D7B70.js"),t=e(require("7B9C8496829A079C1DFAEC91795C7B70.js")),a=require("43A2F676829A079C25C49E711B4C7B70.js");module.exports={getQiYu:function(){return new Promise((function(e,n){(0,a.manualLogin)().then((function(){(0,t.default)({url:r.baseUrl+"/feedback/qiyu/patient_info/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(r){if(0===r.data.error_code){var t=r.data.data||[],a={data:[]},u="";wx.getSystemInfo({success:function(e){u=e.system}}),t.push({key:"system",label:"系统版本",value:u});var i=t.map((function(e,r){var t={};return t.index=r,t.key=e.key,t.label=e.label,t.value=e.value,t.href=e.href,t}));return a.data=JSON.stringify(i),e(JSON.stringify(a))}return n(r.data.error_msg)},fail:function(){return n("wxapi调用失败")}})}))}))}};
},{isPage:false,isComponent:false,currentFile:'982D50C4829A079CFE4B38C322EC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("9B422ED7829A079CFD2446D0F82D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/typeof.js"),t={},r={para:{name:"sensors",server_url:"",send_timeout:1e3,use_client_time:!1,show_log:!0,launched:!1,allow_amend_share_path:!0,max_string_length:300,datasend_timeout:3e3,source_channel:[],autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0,mpClick:!1,mpFavorite:!0},is_persistent_save:{share:!1,utm:!1},preset_properties:{}}},n={data:1,onLoad:1,onShow:1,onReady:1,onPullDownRefresh:1,onReachBottom:1,onShareAppMessage:1,onPageScroll:1,onResize:1,onTabItemTap:1,onHide:1,onUnload:1},a="object"==e(a)?a:{};a.info=function(){if(r.para.show_log&&"object"==("undefined"==typeof console?"undefined":e(console))&&console.log)try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}},r.setPara=function(e){r.para=t.extend2Lev(r.para,e);var n=[];if(t.isArray(r.para.source_channel))for(var i=r.para.source_channel.length,s=0;s<i;s++)-1===" utm_source utm_medium utm_campaign utm_content utm_term sa_utm ".indexOf(" "+r.para.source_channel[s]+" ")&&n.push(r.para.source_channel[s]);r.para.source_channel=n,t.isObject(r.para.register)&&t.extend(t.info.properties,r.para.register),r.para.openid_url||(r.para.openid_url=r.para.server_url.replace(/([^\/])\/(sa)(\.gif){0,1}/,"$1/mp_login")),"number"!=typeof r.para.send_timeout&&(r.para.send_timeout=1e3);var o={send_timeout:6e3,max_length:6};e&&e.datasend_timeout||r.para.batch_send&&(r.para.datasend_timeout=1e4),!0===r.para.batch_send?(r.para.batch_send=t.extend({},o),r.para.use_client_time=!0):t.isObject(r.para.batch_send)&&(r.para.use_client_time=!0,r.para.batch_send=t.extend({},o,r.para.batch_send));var c={share:!1,utm:!1};!0===r.para.is_persistent_save?(r.para.is_persistent_save=t.extend({},c),r.para.is_persistent_save.utm=!0):t.isObject(r.para.is_persistent_save)&&(r.para.is_persistent_save=t.extend({},c,r.para.is_persistent_save)),r.para.server_url?r.para.preset_properties=t.isObject(r.para.preset_properties)?r.para.preset_properties:{}:a.info("请使用 setPara() 方法设置 server_url 数据接收地址,详情可查看https://www.sensorsdata.cn/manual/mp_sdk_new.html#112-%E5%BC%95%E5%85%A5%E5%B9%B6%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0")},r.status={};var i=Array.prototype,s=Function.prototype,o=Object.prototype,c=i.slice,u=o.toString,p=o.hasOwnProperty,h=["$latest_utm_source","$latest_utm_medium","$latest_utm_campaign","$latest_utm_content","$latest_utm_term","$latest_sa_utm"],d=["$latest_share_distinct_id","$latest_share_url_path","$latest_share_depth","$latest_share_method"],f={1e3:"其他",1001:"发现栏小程序主入口，「最近使用」列表（基础库2.2.4版本起包含「我的小程序」列表）",1005:"顶部搜索框的搜索结果页",1006:"发现栏小程序主入口搜索框的搜索结果页",1007:"单人聊天会话中的小程序消息卡片",1008:"群聊会话中的小程序消息卡片",1010:"收藏夹",1011:"扫描二维码",1012:"长按图片识别二维码",1013:"手机相册选取二维码",1014:"小程序模版消息",1017:"前往体验版的入口页",1019:"微信钱包",1020:"公众号 profile 页相关小程序列表",1022:"聊天顶部置顶小程序入口",1023:"安卓系统桌面图标",1024:"小程序 profile 页",1025:"扫描一维码",1026:"附近小程序列表",1027:"顶部搜索框搜索结果页“使用过的小程序”列表",1028:"我的卡包",1029:"卡券详情页",1030:"自动化测试下打开小程序",1031:"长按图片识别一维码",1032:"手机相册选取一维码",1034:"微信支付完成页",1035:"公众号自定义菜单",1036:"App 分享消息卡片",1037:"小程序打开小程序",1038:"从另一个小程序返回",1039:"摇电视",1042:"添加好友搜索框的搜索结果页",1043:"公众号模板消息",1044:"带 shareTicket 的小程序消息卡片（详情)",1045:"朋友圈广告",1046:"朋友圈广告详情页",1047:"扫描小程序码",1048:"长按图片识别小程序码",1049:"手机相册选取小程序码",1052:"卡券的适用门店列表",1053:"搜一搜的结果页",1054:"顶部搜索框小程序快捷入口",1056:"音乐播放器菜单",1057:"钱包中的银行卡详情页",1058:"公众号文章",1059:"体验版小程序绑定邀请页",1064:"微信连Wi-Fi状态栏",1067:"公众号文章广告",1068:"附近小程序列表广告",1069:"移动应用",1071:"钱包中的银行卡列表页",1072:"二维码收款页面",1073:"客服消息列表下发的小程序消息卡片",1074:"公众号会话下发的小程序消息卡片",1077:"摇周边",1078:"连Wi-Fi成功页",1079:"微信游戏中心",1081:"客服消息下发的文字链",1082:"公众号会话下发的文字链",1084:"朋友圈广告原生页",1088:"会话中查看系统消息，打开小程序",1089:"微信聊天主界面下拉",1090:"长按小程序右上角菜单唤出最近使用历史",1091:"公众号文章商品卡片",1092:"城市服务入口",1095:"小程序广告组件",1096:"聊天记录",1097:"微信支付签约页",1099:"页面内嵌插件",1102:"公众号 profile 页服务预览",1103:"发现栏小程序主入口，“我的小程序”列表",1104:"微信聊天主界面下拉，“我的小程序”栏",1106:"聊天主界面下拉，从顶部搜索结果页，打开小程序",1107:"订阅消息，打开小程序",1113:"安卓手机负一屏，打开小程序(三星)",1114:"安卓手机侧边栏，打开小程序(三星)",1124:"扫“一物一码”打开小程序",1125:"长按图片识别“一物一码”",1126:"扫描手机相册中选取的“一物一码”",1129:"微信爬虫访问",1131:"浮窗打开小程序",1133:"硬件设备打开小程序",1135:"小程序profile页其他小程序列表，打开小程序",1146:"地理位置信息打开出行类小程序",1148:"卡包-交通卡，打开小程序",1150:"扫一扫商品条码结果页打开小程序",1153:"“识物”结果页打开小程序",1154:"朋友圈内打开“单页模式",1155:"“单页模式”打开小程序",1158:"群工具打开小程序",1167:"H5 通过开放标签打开小程序",1169:"发现栏小程序主入口，各个生活服务入口（例如快递服务、出行服务等）"},l="直接打开";r.status.referrer="直接打开";var _=null,m=0,g="",y="",v="",S=!1;function b(e,n,a){var i=r.autoTrackCustom[a];if(e[n]){var s=e[n];e[n]=function(){"onLaunch"===n&&(this[r.para.name]=r),!r.para.autoTrackIsFirst||t.isObject(r.para.autoTrackIsFirst)&&!r.para.autoTrackIsFirst[a]?(s.apply(this,arguments),i.apply(this,arguments)):(!0===r.para.autoTrackIsFirst||t.isObject(r.para.autoTrackIsFirst)&&r.para.autoTrackIsFirst[a])&&(i.apply(this,arguments),s.apply(this,arguments))}}else e[n]=function(){"onLaunch"===n&&(this[r.para.name]=r),i.apply(this,arguments)}}function $(e,n){var a=e[n];e[n]=function(){var e={},n="";if(t.isObject(arguments[0])){var i=arguments[0].currentTarget||{},s=i.dataset||{};n=arguments[0].type,e.$element_id=i.id,e.$element_type=s.type,e.$element_content=s.content,e.$element_name=s.name}return n&&t.isClick(n)&&(e.$url_path=t.getCurrentPath(),r.track("$MPClick",e)),a&&a.apply(this,arguments)}}r.lib_version="1.14.1",function(){s.bind;var e=i.forEach,r=i.indexOf,n=Array.isArray,o={},h=t.each=function(t,r,n){if(null==t)return!1;if(e&&t.forEach===e)t.forEach(r,n);else if(t.length===+t.length){for(var a=0,i=t.length;a<i;a++)if(a in t&&r.call(n,t[a],a,t)===o)return!1}else for(var s in t)if(p.call(t,s)&&r.call(n,t[s],s,t)===o)return!1};t.logger=a,t.extend=function(e){return h(c.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])})),e},t.extend2Lev=function(e){return h(c.call(arguments,1),(function(r){for(var n in r)void 0!==r[n]&&null!==r[n]&&(t.isObject(r[n])&&t.isObject(e[n])?t.extend(e[n],r[n]):e[n]=r[n])})),e},t.coverExtend=function(e){return h(c.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&void 0===e[r]&&(e[r]=t[r])})),e},t.isArray=n||function(e){return"[object Array]"===u.call(e)},t.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},t.isArguments=function(e){return!(!e||!p.call(e,"callee"))},t.toArray=function(e){return e?e.toArray?e.toArray():t.isArray(e)||t.isArguments(e)?c.call(e):t.values(e):[]},t.values=function(e){var t=[];return null==e||h(e,(function(e){t[t.length]=e})),t},t.include=function(e,t){var n=!1;return null==e?n:r&&e.indexOf===r?-1!=e.indexOf(t):(h(e,(function(e){if(n||(n=e===t))return o})),n)}}(),t.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.isObject=function(e){return null!=e&&"[object Object]"==u.call(e)},t.isEmptyObject=function(e){if(t.isObject(e)){for(var r in e)if(p.call(e,r))return!1;return!0}return!1},t.isUndefined=function(e){return void 0===e},t.isString=function(e){return"[object String]"==u.call(e)},t.isDate=function(e){return"[object Date]"==u.call(e)},t.isBoolean=function(e){return"[object Boolean]"==u.call(e)},t.isNumber=function(e){return"[object Number]"==u.call(e)&&/[\d\.]+/.test(String(e))},t.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},t.decodeURIComponent=function(e){var t="";try{t=decodeURIComponent(e)}catch(r){t=e}return t},t.encodeDates=function(e){return t.each(e,(function(r,n){t.isDate(r)?e[n]=t.formatDate(r):t.isObject(r)&&(e[n]=t.encodeDates(r))})),e},t.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds())},t.searchObjDate=function(e){t.isObject(e)&&t.each(e,(function(r,n){t.isObject(r)?t.searchObjDate(e[n]):t.isDate(r)&&(e[n]=t.formatDate(r))}))},t.formatString=function(e){return e.length>r.para.max_string_length?(a.info("字符串长度超过限制，已经做截取--"+e),e.slice(0,r.para.max_string_length)):e},t.searchObjString=function(e){t.isObject(e)&&t.each(e,(function(r,n){t.isObject(r)?t.searchObjString(e[n]):t.isString(r)&&(e[n]=t.formatString(r))}))},t.parseSuperProperties=function(e){t.isObject(e)&&(t.each(e,(function(r,n){if(t.isFunction(r))try{e[n]=r(),t.isFunction(e[n])&&(a.info("您的属性- "+n+" 格式不满足要求，我们已经将其删除"),delete e[n])}catch(r){delete e[n],a.info("您的属性- "+n+" 抛出了异常，我们已经将其删除")}})),t.strip_sa_properties(e))},t.unique=function(e){for(var t,r=[],n={},a=0;a<e.length;a++)(t=e[a])in n||(n[t]=!0,r.push(t));return r},t.strip_sa_properties=function(e){return t.isObject(e)?(t.each(e,(function(r,n){if(t.isArray(r)){var i=[];t.each(r,(function(e){t.isString(e)?i.push(e):a.info("您的数据-",r,"的数组里的值必须是字符串,已经将其删除")})),0!==i.length?e[n]=i:(delete e[n],a.info("已经删除空的数组"))}t.isString(r)||t.isNumber(r)||t.isDate(r)||t.isBoolean(r)||t.isArray(r)||(a.info("您的数据-",r,"-格式不满足要求，我们已经将其删除"),delete e[n])})),e):e},t.strip_empty_properties=function(e){var r={};return t.each(e,(function(e,t){null!=e&&(r[t]=e)})),r},t.utf8Encode=function(e){var t,r,n,a,i="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,a=0;a<n;a++){var s=e.charCodeAt(a),o=null;s<128?r++:o=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==o&&(r>t&&(i+=e.substring(t,r)),i+=o,t=r=a+1)}return r>t&&(i+=e.substring(t,e.length)),i},t.base64Encode=function(e){var r,n,a,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,p="",h=[];if(!e)return e;e=t.utf8Encode(e);do{r=(s=e.charCodeAt(c++)<<16|e.charCodeAt(c++)<<8|e.charCodeAt(c++))>>18&63,n=s>>12&63,a=s>>6&63,i=63&s,h[u++]=o.charAt(r)+o.charAt(n)+o.charAt(a)+o.charAt(i)}while(c<e.length);switch(p=h.join(""),e.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"="}return p},t.getCurrentPath=function(){var e="未取到";try{var t=getCurrentPages();e=t[t.length-1].route}catch(e){a.info(e)}return e},t.getIsFirstDay=function(){return"object"==e(r.store._state)&&"number"==typeof r.store._state.first_visit_day_time&&r.store._state.first_visit_day_time>(new Date).getTime()},t.getCurrentUrl=function(e){var r=t.getCurrentPath(),n="";return t.isObject(e)&&e.sensors_mp_encode_url_query&&(n=e.sensors_mp_encode_url_query),r?n?r+"?"+n:r:"未取到"},t.getPath=function(e){return"string"==typeof e?e.replace(/^\//,""):"取值异常"},t.getMethods=function(e){var t=[];for(var r in e)"function"!=typeof e[r]||n[r]||t.push(r);return t},t.isClick=function(e){return!!{tap:1,longpress:1,longtap:1}[e]},r.initialState={queue:[],isComplete:!1,systemIsComplete:!1,storeIsComplete:!1,checkIsComplete:function(){this.systemIsComplete&&this.storeIsComplete&&(this.isComplete=!0,this.queue.length>0&&(t.each(this.queue,(function(e){r[e[0]].apply(r,c.call(e[1]))})),this.queue=[]))}},t.getCustomUtmFromQuery=function(e,n,a,i){if(!t.isObject(e))return{};var s={};if(e.sa_utm)for(var o in e)"sa_utm"!==o?t.include(r.para.source_channel,o)&&(s[a+o]=e[o]):s[i+o]=e[o];else for(var o in e)-1===" utm_source utm_medium utm_campaign utm_content utm_term ".indexOf(" "+o+" ")?t.include(r.para.source_channel,o)&&(s[a+o]=e[o]):s[n+o]=e[o];return s},t.getObjFromQuery=function(e){var r=e.split("?"),n=[],a={};return r&&r[1]?(t.each(r[1].split("&"),(function(e){(n=e.split("="))[0]&&n[1]&&(a[n[0]]=n[1])})),a):{}},t.setStorageSync=function(e,t){var r=function(){wx.setStorageSync(e,t)};try{r()}catch(e){a.info("set Storage fail --",e);try{r()}catch(e){a.info("set Storage fail again --",e)}}},t.getStorageSync=function(e){var t="";try{t=wx.getStorageSync(e)}catch(r){try{t=wx.getStorageSync(e)}catch(e){a.info("getStorage fail")}}return t},t.getMPScene=function(e){return"number"==typeof e||"string"==typeof e&&""!==e?(e=String(e),f[e]||e):"未取到值"},t.setShareInfo=function(e,n){var a={},i={},s=r.store.getDistinctId(),o=r.store.getFirstId();if(!(e&&t.isObject(e.query)&&e.query.sampshare))return{};if(a=t.decodeURIComponent(e.query.sampshare),!t.isJSONString(a))return{};var c=(a=JSON.parse(a)).d,u=a.p,p=a.i,h=a.m;"string"==typeof p?(n.$share_distinct_id=p,g=p,i.$latest_share_distinct_id=p):n.$share_distinct_id="取值异常","number"==typeof c?!g||g!==s&&g!==o?!g||g===s&&g===o?n.$share_depth="-1":(n.$share_depth=c+1,m=c+1,i.$latest_share_depth=c+1):(n.$share_depth=c,m=c,i.$latest_share_depth=c):n.$share_depth="-1","string"==typeof u?(n.$share_url_path=u,i.$latest_share_url_path=u):n.$share_url_path="取值异常","string"==typeof h?(n.$share_method=h,i.$latest_share_method=h):n.$share_method="取值异常",t.setLatestShare(i)},t.getShareInfo=function(){return JSON.stringify({i:r.store.getDistinctId()||"取值异常",p:t.getCurrentPath(),d:m,m:y})},t.detectOptionQuery=function(e){if(!e||!t.isObject(e.query))return{};var n,a,i,s,o={};return o.query=t.extend({},e.query),"string"==typeof o.query.scene&&(n=o.query,a=["utm_source","utm_content","utm_medium","utm_campaign","utm_term","sa_utm"].concat(r.para.source_channel),i=new RegExp("("+a.join("|")+")%3D","i"),1===(s=Object.keys(n)).length&&"scene"===s[0]&&i.test(n.scene))&&(o.scene=o.query.scene,delete o.query.scene),e.query.q&&e.query.scancode_time&&"101"===String(e.scene).slice(0,3)&&(o.q=String(o.query.q),delete o.query.q,delete o.query.scancode_time),o},t.getMixedQuery=function(e){var r=t.detectOptionQuery(e),n=r.scene,a=r.q,i=r.query;for(var s in i)i[s]=t.decodeURIComponent(i[s]);return n&&(n=-1!==(n=t.decodeURIComponent(n)).indexOf("?")?"?"+n.replace(/\?/g,""):"?"+n,t.extend(i,t.getObjFromQuery(n))),a&&t.extend(i,t.getObjFromQuery(t.decodeURIComponent(a))),i},t.setUtm=function(e,r){var n={},a=t.getMixedQuery(e),i=t.getCustomUtmFromQuery(a,"$","_","$"),s=t.getCustomUtmFromQuery(a,"$latest_","_latest_","$latest_");return n.pre1=i,n.pre2=s,t.extend(r,i),n},t.setSfSource=function(e,n){!t.isEmptyObject(e.query)&&e.query._sfs&&(n.$sf_source=e.query._sfs,r.registerApp({$latest_sf_source:n.$sf_source}))},t.setPageSfSource=function(e){try{var r=getCurrentPages(),n=JSON.parse(JSON.stringify(r[r.length-1].options));for(var i in n)n[i]=t.decodeURIComponent(n[i]);!t.isEmptyObject(n)&&n._sfs&&(e.$sf_source=n._sfs)}catch(e){a.info(e)}},t.wxrequest=function(e){var n=wx.request(e);setTimeout((function(){t.isObject(n)&&t.isFunction(n.abort)&&n.abort()}),r.para.datasend_timeout)},t.getAppId=function(){var e;if(wx.getAccountInfoSync&&(e=wx.getAccountInfoSync()),t.isObject(e)&&t.isObject(e.miniProgram))return e.miniProgram.appId},t.validId=function(e){return"string"!=typeof e&&"number"!=typeof e||""===e?(a.info("输入 ID 类型错误"),!1):"number"!=typeof e||(e=String(e),/^\d+$/.test(e))?e:(a.info("输入 ID 类型错误"),!1)},t.info={currentProps:{},properties:{$lib:"MiniProgram",$lib_version:String("1.14.1")},getSystem:function(){var e=this.properties;wx.getNetworkType({success:function(t){e.$network_type=t.networkType},complete:function(){wx.getSystemInfo({success:function(t){var r,n;e.$manufacturer=t.brand,e.$model=t.model,e.$screen_width=Number(t.screenWidth),e.$screen_height=Number(t.screenHeight),e.$os="ios"===(n=(r=t.platform).toLowerCase())?"iOS":"android"===n?"Android":r,e.$os_version=t.system.indexOf(" ")>-1?t.system.split(" ")[1]:t.system},complete:function(){var n=(new Date).getTimezoneOffset(),a=t.getAppId();t.isNumber(n)&&(e.$timezone_offset=n),a&&(e.$app_id=a),r.initialState.systemIsComplete=!0,r.initialState.checkIsComplete()}})}})}},r._=t,t.eventEmitter=function(){this.sub=[]},t.eventEmitter.prototype={add:function(e){this.sub.push(e)},emit:function(e,t){this.sub.forEach((function(r){r.on(e,t)}))}},t.eventSub=function(e){r.events.add(this),this._events=[],this.handle=e,this.ready=!1},t.eventSub.prototype={on:function(e,r){if(this.ready){if(t.isFunction(this.handle))try{this.handle(e,r)}catch(e){a.info(e)}}else this._events.push({event:e,data:r})},isReady:function(){var e=this;e.ready=!0,e._events.forEach((function(r){if(t.isFunction(e.handle))try{e.handle(r.event,r.data)}catch(e){a.info(e)}}))}},r.eventSub=t.eventSub,r.events=new t.eventEmitter,r.usePlugin=function(e,t){"function"==typeof e.init&&e.init(r,t)},r.prepareData=function(e,n){if(v&&1154===v)return!1;var i={distinct_id:this.store.getDistinctId(),lib:{$lib:"MiniProgram",$lib_method:"code",$lib_version:String("1.14.1")},properties:{}};t.extend(i,this.store.getUnionId(),e),t.isObject(e.properties)&&!t.isEmptyObject(e.properties)&&t.extend(i.properties,e.properties),e.type&&"profile"===e.type.slice(0,7)||(r.para.batch_send&&(i._track_id=Number(String(Math.random()).slice(2,5)+String(Math.random()).slice(2,4)+String(Date.now()).slice(-4))),i.properties=t.extend({},t.info.properties,r.store.getProps(),t.info.currentProps,i.properties),i.properties.$is_first_day=t.getIsFirstDay()),i.properties.$time&&t.isDate(i.properties.$time)?(i.time=1*i.properties.$time,delete i.properties.$time):r.para.use_client_time&&(i.time=1*new Date),t.parseSuperProperties(i.properties),t.searchObjDate(i),t.searchObjString(i),a.info(i),r.events.emit("send",i),r.sendStrategy.send(i)},r.store={storageInfo:null,getUUID:function(){return Date.now()+"-"+Math.floor(1e7*Math.random())+"-"+Math.random().toString(16).replace(".","")+"-"+String(31242*Math.random()).replace(".","").slice(0,8)},getStorage:function(){return this.storageInfo||(this.storageInfo=r._.getStorageSync("sensorsdata2015_wechat")||""),this.storageInfo},_state:{},mem:{mdata:[],getLength:function(){return this.mdata.length},add:function(e){this.mdata.push(e)},clear:function(e){this.mdata.splice(0,e)}},toState:function(e){var r=null;t.isJSONString(e)?(r=JSON.parse(e)).distinct_id?this._state=r:this.set("distinct_id",this.getUUID()):t.isObject(e)&&(r=e).distinct_id?this._state=r:this.set("distinct_id",this.getUUID())},getFirstId:function(){return this._state._first_id||this._state.first_id},getDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var e={},t=this._state._first_id||this._state.first_id,r=this._state._distinct_id||this._state.distinct_id;return t&&r?(e.login_id=r,e.anonymous_id=t):e.anonymous_id=r,e},getProps:function(){return this._state.props||{}},setProps:function(e,r){var n=this._state.props||{};r?this.set("props",e):(t.extend(n,e),this.set("props",n))},set:function(t,n){var a={};for(var i in"string"==typeof t?a[t]=n:"object"==e(t)&&(a=t),this._state=this._state||{},a)this._state[i]=a[i],"first_id"===i?delete this._state._first_id:"distinct_id"===i&&(delete this._state._distinct_id,r.events.emit("changeDistinctId"));this.save()},change:function(e,t){this._state["_"+e]=t},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id,r._.setStorageSync("sensorsdata2015_wechat",e)},init:function(){var e=this.getStorage();if(e)this.toState(e);else{S=!0;var t=new Date,n=t.getTime();t.setHours(23),t.setMinutes(59),t.setSeconds(60),r.setOnceProfile({$first_visit_time:new Date}),this.set({distinct_id:this.getUUID(),first_visit_time:n,first_visit_day_time:t.getTime()})}}},r.setProfile=function(e,t){r.prepareData({type:"profile_set",properties:e},t)},r.setOnceProfile=function(e,t){r.prepareData({type:"profile_set_once",properties:e},t)},r.appendProfile=function(e,n){if(!t.isObject(e))return!1;t.each(e,(function(r,n){t.isString(r)?e[n]=[r]:t.isArray(r)||(delete e[n],a.info("appendProfile属性的值必须是字符串或者数组"))})),r.prepareData({type:"profile_append",properties:e},n)},r.incrementProfile=function(e,n){if(!t.isObject(e))return!1;var a=e;t.isString(e)&&((e={})[a]=1),r.prepareData({type:"profile_increment",properties:e},n)},r.track=function(e,t,r){this.prepareData({type:"track",event:e,properties:t},r)},r.identify=function(e,n){if(e=t.validId(e)){var a=r.store.getFirstId();!0===n?a?r.store.set("first_id",e):r.store.set("distinct_id",e):a?r.store.change("first_id",e):r.store.change("distinct_id",e)}},r.trackSignup=function(e,t,n,a){var i=r.store.getFirstId()||r.store.getDistinctId();r.store.set("distinct_id",e),r.prepareData({original_id:i,distinct_id:e,type:"track_signup",event:t,properties:n},a)},r.registerApp=function(e){t.isObject(e)&&!t.isEmptyObject(e)&&(t.info.currentProps=t.extend(t.info.currentProps,e))},r.register=function(e){t.isObject(e)&&!t.isEmptyObject(e)&&r.store.setProps(e)},r.clearAllRegister=function(){r.store.setProps({},!0)},r.clearAllProps=function(e){var n=r.store.getProps(),a={};t.isArray(e)&&(t.each(n,(function(r,n){t.include(e,n)||(a[n]=r)})),r.store.setProps(a,!0))},r.clearAppRegister=function(e){t.isArray(e)&&t.each(t.info.currentProps,(function(r,n){t.include(e,n)&&delete t.info.currentProps[n]}))},t.setLatestChannel=function(e){t.isEmptyObject(e)||(function(e,t){var r=!1;for(var n in t)e[t[n]]&&(r=!0);return r}(e,h)&&(r.clearAppRegister(h),r.clearAllProps(h)),r.para.is_persistent_save.utm?r.register(e):r.registerApp(e))},t.setLatestShare=function(e){(e.$latest_share_depth||e.$latest_share_distinct_id||e.$latest_share_url_path||e.$latest_share_method)&&(r.clearAppRegister(d),r.clearAllProps(d),r.para.is_persistent_save.share?r.register(e):r.registerApp(e))},r.login=function(e){if(e=t.validId(e)){var n=r.store.getFirstId(),a=r.store.getDistinctId();e!==a&&(n||r.store.set("first_id",a),r.trackSignup(e,"$SignUp"))}},r.getAnonymousID=function(){if(!t.isEmptyObject(r.store._state))return r.store._state._first_id||r.store._state.first_id||r.store._state._distinct_id||r.store._state.distinct_id;a.info("请先初始化SDK")},r.logout=function(e){var t=r.store.getFirstId();t?(r.store.set("first_id",""),!0===e?r.store.set("distinct_id",r.store.getUUID()):r.store.set("distinct_id",t)):a.info("没有first_id，logout失败")},r.getLocation=function(){wx.getSetting({success:function(e){if(!e.authSetting["scope.userLocation"])return!1;wx.getLocation({type:r.para.preset_properties.location.type,success:function(e){r.registerApp({$latitude:e.latitude*Math.pow(10,6),$longitude:e.longitude*Math.pow(10,6)})},fail:function(e){console.log("获取位置失败",e)}})}})},r.openid={getRequest:function(e){wx.login({success:function(n){n.code&&r.para.appid&&r.para.openid_url?t.wxrequest({url:r.para.openid_url+"&code="+n.code+"&appid="+r.para.appid,method:"GET",complete:function(r){t.isObject(r)&&t.isObject(r.data)&&r.data.openid?e(r.data.openid):e()}}):e()}})},getWXStorage:function(){var e=r.store.getStorage();if(e&&t.isObject(e))return e.openid},getOpenid:function(e){if(!r.para.appid)return e(),!1;var t=this.getWXStorage();t?e(t):this.getRequest(e)}},r.initial=function(){this._.info.getSystem(),this.store.init()},r.init=function(e){if(!0===this.hasInit)return!1;this.hasInit=!0,r.setPara(e),r.para.batch_send&&(wx.getStorage({key:"sensors_mp_prepare_data",complete:function(e){var n=e.data&&t.isArray(e.data)?e.data:[];r.store.mem.mdata=n.concat(r.store.mem.mdata),r.sendStrategy.syncStorage=!0}}),r.sendStrategy.batchInterval()),r.initialState.storeIsComplete=!0,r.initialState.checkIsComplete()},r.getPresetProperties=function(){if(t.info&&t.info.properties&&t.info.properties.$lib){var e={};t.each(t.info.currentProps,(function(t,r){0===r.indexOf("$")&&(e[r]=t)}));var n=t.extend(e,{$url_path:t.getCurrentPath(),$is_first_day:t.getIsFirstDay()},t.info.properties,r.store.getProps());return delete n.$lib,n}return{}},t.autoExeQueue=function(){return{items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}}},r.requestQueue=function(e){this.url=e.url},r.requestQueue.prototype.isEnd=function(){this.received||(this.received=!0,this.close())},r.requestQueue.prototype.start=function(){var e=this;setTimeout((function(){e.isEnd()}),r.para.send_timeout),t.wxrequest({url:this.url,method:"GET",complete:function(){e.isEnd()}})},r.dataQueue=t.autoExeQueue(),r.sendStrategy={dataHasSend:!0,dataHasChange:!1,syncStorage:!1,failTime:0,onAppHide:function(){r.para.batch_send&&this.batchSend()},send:function(e){if(!r.para.server_url)return!1;if(r.para.batch_send){if(this.dataHasChange=!0,r.store.mem.getLength()>=300)return a.info("数据量存储过大，有异常"),!1;r.store.mem.add(e),r.store.mem.getLength()>=r.para.batch_send.max_length&&this.batchSend()}else this.queueSend(e)},queueSend:function(e){e=JSON.stringify(e),e=-1!==r.para.server_url.indexOf("?")?r.para.server_url+"&data="+encodeURIComponent(t.base64Encode(e)):r.para.server_url+"?data="+encodeURIComponent(t.base64Encode(e));var n=new r.requestQueue({url:e});n.close=function(){r.dataQueue.close()},r.dataQueue.enqueue(n)},wxrequest:function(e){if(t.isArray(e.data)&&e.data.length>0){var n=Date.now();e.data.forEach((function(e){e._flush_time=n})),e.data=JSON.stringify(e.data),t.wxrequest({url:r.para.server_url,method:"POST",dataType:"text",data:"data_list="+encodeURIComponent(t.base64Encode(e.data)),success:function(){e.success(e.len)},fail:function(){e.fail()}})}else e.success(e.len)},batchSend:function(){if(this.dataHasSend){var e=r.store.mem.mdata,t=e.length;t>0&&(this.dataHasSend=!1,this.wxrequest({data:e,len:t,success:this.batchRemove.bind(this),fail:this.sendFail.bind(this)}))}},sendFail:function(){this.dataHasSend=!0,this.failTime++},batchRemove:function(e){r.store.mem.clear(e),this.dataHasSend=!0,this.dataHasChange=!0,this.batchWrite(),this.failTime=0},is_first_batch_write:!0,batchWrite:function(){var e=this;this.dataHasChange&&(this.is_first_batch_write&&(this.is_first_batch_write=!1,setTimeout((function(){e.batchSend()}),1e3)),this.dataHasChange=!1,this.syncStorage&&r._.setStorageSync("sensors_mp_prepare_data",r.store.mem.mdata))},batchInterval:function(){var e=this;!function t(){setTimeout((function(){e.batchWrite(),t()}),500)}(),function t(){setTimeout((function(){e.batchSend(),t()}),r.para.batch_send.send_timeout*Math.pow(2,e.failTime))}()}},r.setOpenid=function(e,t){r.store.set("openid",e),t?r.store.set("distinct_id",e):r.identify(e,!0)},r.initWithOpenid=function(e,n){(e=e||{}).appid&&(r.para.appid=e.appid),r.openid.getOpenid((function(a){a&&r.setOpenid(a,e.isCoverLogin),n&&t.isFunction(n)&&n(a),r.init(e)}))},t.each(["setProfile","setOnceProfile","track","quick","incrementProfile","appendProfile","login","logout"],(function(e){var t=r[e];r[e]=function(){r.initialState.isComplete?t.apply(r,arguments):r.initialState.queue.push([e,arguments])}})),t.setQuery=function(e,r){if(e&&t.isObject(e)&&!t.isEmptyObject(e)){var n=[];return t.each(e,(function(e,a){"q"===a&&t.isString(e)&&0===e.indexOf("http")||"scene"===a||(r?n.push(a+"="+e):n.push(a+"="+t.decodeURIComponent(e)))})),n.join("&")}return""},t.getUtmFromPage=function(){var e={};try{var r=getCurrentPages(),n=JSON.parse(JSON.stringify(r[r.length-1].options));for(var i in n)n[i]=t.decodeURIComponent(n[i]);e=t.getCustomUtmFromQuery(n,"$","_","$")}catch(e){a.info(e)}return e},r.autoTrackCustom={trackCustom:function(e,n,a){var i=r.para.autoTrack[e],s="";r.para.autoTrack&&i&&("function"==typeof i?(s=i(),t.isObject(s)&&t.extend(n,s)):t.isObject(i)&&(t.extend(n,i),r.para.autoTrack[e]=!0),r.track(a,n))},appLaunch:function(n,a){"object"!=e(this)||this.trackCustom||(this[r.para.name]=r);var i={};n&&n.scene?(v=n.scene,i.$scene=t.getMPScene(n.scene)):i.$scene="未取到值",n&&n.scene&&1010===n.scene&&n.query&&n.query.sampshare&&delete n.query.sampshare,n&&n.path&&(i.$url_path=t.getPath(n.path)),t.setShareInfo(n,i);var s=t.setUtm(n,i);S?(i.$is_first_time=!0,t.isEmptyObject(s.pre1)||r.setOnceProfile(s.pre1)):i.$is_first_time=!1,t.setLatestChannel(s.pre2),t.setSfSource(n,i),r.registerApp({$latest_scene:i.$scene}),i.$url_query=t.setQuery(n.query),a?(i=t.extend(i,a),r.track("$MPLaunch",i)):r.para.autoTrack&&r.para.autoTrack.appLaunch&&r.autoTrackCustom.trackCustom("appLaunch",i,"$MPLaunch")},appShow:function(e,n){var a={};_=(new Date).getTime(),e&&e.scene?(v=e.scene,a.$scene=t.getMPScene(e.scene)):a.$scene="未取到值",e&&e.scene&&1010===e.scene&&e.query&&e.query.sampshare&&delete e.query.sampshare,e&&e.path&&(a.$url_path=t.getPath(e.path)),!t.isObject(r.para.preset_properties.location)||"wgs84"!==r.para.preset_properties.location.type&&"gcj02"!==r.para.preset_properties.location.type||r.getLocation(),t.setShareInfo(e,a);var i=t.setUtm(e,a);t.setLatestChannel(i.pre2),t.setSfSource(e,a),r.registerApp({$latest_scene:a.$scene}),a.$url_query=t.setQuery(e.query),n?(a=t.extend(a,n),r.track("$MPShow",a)):r.para.autoTrack&&r.para.autoTrack.appShow&&r.autoTrackCustom.trackCustom("appShow",a,"$MPShow")},appHide:function(e){var n=(new Date).getTime(),a={};a.$url_path=t.getCurrentPath(),_&&n-_>0&&(n-_)/36e5<24&&(a.event_duration=(n-_)/1e3),e?(a=t.extend(a,e),r.track("$MPHide",a)):r.para.autoTrack&&r.para.autoTrack.appHide&&r.autoTrackCustom.trackCustom("appHide",a,"$MPHide"),r.sendStrategy.onAppHide()},pageLoad:function(e){v&&1010===v&&e&&e.sampshare&&delete e.sampshare,e&&t.isObject(e)&&(this.sensors_mp_url_query=t.setQuery(e),this.sensors_mp_encode_url_query=t.setQuery(e,!0))},pageShow:function(){var e={},n=t.getCurrentPath();e.$referrer=l,e.$url_path=n,r.status.last_referrer=l,e.$url_query=this.sensors_mp_url_query?this.sensors_mp_url_query:"",e=t.extend(e,t.getUtmFromPage()),t.setPageSfSource(e),r.para.onshow?r.para.onshow(r,n,this):r.para.autoTrack&&r.para.autoTrack.pageShow&&r.autoTrackCustom.trackCustom("pageShow",e,"$MPViewScreen"),l=n,r.status.referrer=n},pageShare:function(n,a){var i=n.onShareAppMessage;n.onShareAppMessage=function(){y="转发消息卡片";var n=i.apply(this,arguments);return r.para.autoTrack&&r.para.autoTrack.pageShare&&r.autoTrackCustom.trackCustom("pageShare",{$url_path:t.getCurrentPath(),$share_depth:m,$share_method:y},"$MPShare"),r.para.allow_amend_share_path&&("object"!=e(n)&&((n={}).path=t.getCurrentUrl(this)),"object"!=e(n)||void 0!==n.path&&""!==n.path||(n.path=t.getCurrentUrl(this)),"object"==e(n)&&"string"==typeof n.path&&(-1===n.path.indexOf("?")?n.path=n.path+"?":"&"!==n.path.slice(-1)&&(n.path=n.path+"&")),n.path=n.path+"sampshare="+encodeURIComponent(t.getShareInfo())),n}},pageShareTimeline:function(n){var a=n.onShareTimeline;n.onShareTimeline=function(){y="朋友圈分享";var n=a.apply(this,arguments);return r.para.autoTrack&&r.para.autoTrack.pageShare&&r.autoTrackCustom.trackCustom("pageShare",{$url_path:t.getCurrentPath(),$share_depth:m,$share_method:y},"$MPShare"),r.para.allow_amend_share_path&&("object"!=e(n)&&(n={}),"object"==e(n)&&void 0===n.query&&(n.query=""),"object"==e(n)&&"string"==typeof n.query&&""!==n.query&&"&"!==n.query.slice(-1)&&(n.query=n.query+"&"),n.query=n.query+"sampshare="+encodeURIComponent(t.getShareInfo())),n}},pageAddFavorites:function(){var e={};e.$url_path=t.getCurrentPath(),r.para.autoTrack&&r.para.autoTrack.mpFavorite&&r.autoTrackCustom.trackCustom("mpFavorite",e,"$MPAddFavorites")}},r.quick=function(){var e=arguments[0],n=arguments[1],i=arguments[2],s=t.isObject(i)?i:{};if("getAnonymousID"===e){if(!t.isEmptyObject(r.store._state))return r.store._state._first_id||r.store._state.first_id||r.store._state._distinct_id||r.store._state.distinct_id;a.info("请先初始化SDK")}else"appLaunch"===e||"appShow"===e?n?r.autoTrackCustom[e](n,s):a.info("App的launch和show，在sensors.quick第二个参数必须传入App的options参数"):"appHide"===e&&(s=t.isObject(n)?n:{},r.autoTrackCustom[e](s))};var O=App;App=function(e){e[r.para.name]=r,O.apply(this,arguments)},wx.onAppShow((function(e){if(!r.para.launched){var t=wx.getLaunchOptionsSync()||{};r.autoTrackCustom.appLaunch(t),r.para.launched=!0}r.autoTrackCustom.appShow(e)})),wx.onAppHide((function(){r.autoTrackCustom.appHide()}));var C=Page;Page=function(e){var n=r.para.autoTrack&&r.para.autoTrack.mpClick&&t.getMethods(e);if(n)for(var a=0,i=n.length;a<i;a++)$(e,n[a]);b(e,"onLoad","pageLoad"),b(e,"onShow","pageShow"),b(e,"onAddToFavorites","pageAddFavorites"),"function"==typeof e.onShareAppMessage&&r.autoTrackCustom.pageShare(e),"function"==typeof e.onShareTimeline&&r.autoTrackCustom.pageShareTimeline(e),C.apply(this,arguments)};var k=Component;Component=function(e){try{var n=r.para.autoTrack&&r.para.autoTrack.mpClick&&t.getMethods(e.methods);if(n)for(var a=0,i=n.length;a<i;a++)$(e.methods,n[a]);b(e.methods,"onLoad","pageLoad"),b(e.methods,"onShow","pageShow"),b(e.methods,"onAddToFavorites","pageAddFavorites"),"function"==typeof e.methods.onShareAppMessage&&r.autoTrackCustom.pageShare(e.methods),"function"==typeof e.methods.onShareTimeline&&r.autoTrackCustom.pageShareTimeline(e.methods),k.apply(this,arguments)}catch(e){k.apply(this,arguments)}},r.initial(),module.exports=r;
},{isPage:false,isComponent:false,currentFile:'9B422ED7829A079CFD2446D0F82D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Arrayincludes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(0==n)return!1;for(var i,o,a=0|e,u=Math.max(0<=a?a:n-Math.abs(a),0);u<n;){if((i=t[u])===(o=r)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;u++}return!1}});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Arrayincludes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Objectentries.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Object.entries||(Object.entries=function(e){for(var r=Object.keys(e),t=r.length,n=new Array(t);t--;)n[t]=[r[t],e[r[t]]];return n});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Objectentries.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayLikeToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}module.exports=_arrayLikeToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayLikeToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayWithHoles(r){if(Array.isArray(r))return r}module.exports=_arrayWithHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithoutHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _arrayWithoutHoles(r){if(Array.isArray(r))return arrayLikeToArray(r)}module.exports=_arrayWithoutHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithoutHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/asyncToGenerator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function asyncGeneratorStep(n,e,r,t,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void r(n)}i.done?e(u):Promise.resolve(u).then(t,o)}function _asyncToGenerator(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function c(n){asyncGeneratorStep(a,t,o,c,i,"next",n)}function i(n){asyncGeneratorStep(a,t,o,c,i,"throw",n)}c(void 0)}))}}module.exports=_asyncToGenerator;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/asyncToGenerator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/classCallCheck.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _classCallCheck(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/classCallCheck.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createClass.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}module.exports=_createClass;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createClass.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createForOfIteratorHelper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var unsupportedIterableToArray=require("./unsupportedIterableToArray");function _createForOfIteratorHelper(r,e){var t;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=r[Symbol.iterator]()},n:function(){var r=t.next();return u=r.done,r},e:function(r){i=!0,a=r},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}module.exports=_createForOfIteratorHelper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createForOfIteratorHelper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/defineProperty.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}module.exports=_defineProperty;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/defineProperty.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/interopRequireDefault.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=_interopRequireDefault;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/interopRequireDefault.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArray(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}module.exports=_iterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArrayLimit.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArrayLimit(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],i=!0,o=!1,l=void 0;try{for(var n,a=r[Symbol.iterator]();!(i=(n=a.next()).done)&&(e.push(n.value),!t||e.length!==t);i=!0);}catch(r){o=!0,l=r}finally{try{i||null==a.return||a.return()}finally{if(o)throw l}}return e}}module.exports=_iterableToArrayLimit;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArrayLimit.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableRest.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableRest.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableSpread.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableSpread;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableSpread.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectSpread2.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var defineProperty=require("./defineProperty");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}module.exports=_objectSpread2;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectSpread2.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/slicedToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithHoles=require("./arrayWithHoles"),iterableToArrayLimit=require("./iterableToArrayLimit"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableRest=require("./nonIterableRest");function _slicedToArray(r,e){return arrayWithHoles(r)||iterableToArrayLimit(r,e)||unsupportedIterableToArray(r,e)||nonIterableRest()}module.exports=_slicedToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/slicedToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toConsumableArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithoutHoles=require("./arrayWithoutHoles"),iterableToArray=require("./iterableToArray"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableSpread=require("./nonIterableSpread");function _toConsumableArray(r){return arrayWithoutHoles(r)||iterableToArray(r)||unsupportedIterableToArray(r)||nonIterableSpread()}module.exports=_toConsumableArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toConsumableArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/typeof.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _typeof(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function(o){return typeof o}:module.exports=_typeof=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=_typeof;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/typeof.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/unsupportedIterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/unsupportedIterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/regenerator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")());
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/regenerator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("A9EAB7C2829A079CCF8CDFC58A3C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o,e=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,i="".concat(e,"/cooperation/wap/get_session_id/"),s="".concat(e,"/cooperation/wap/cellphone_num/login/"),n="".concat(e,"/cooperation/wap/is_user_login/"),r=require("ACF33105829A079CCA9559029C0D7B70.js");function t(){}function a(e,n,t,a,c){var l,d=getApp(),g=d.globalData.loginSource,u=(l=wx.getStorageSync("authorizationPointData"))&&l.source_type?l.source_type:"";d.globalData.loginSource=void 0,r({url:o?s:i,method:"POST",data:o?{app:"weixin_mini",code:c,encryptedData:t,iv:a}:{from_wx_mini:1,source:g,code:c,encryptedData:t,iv:a,first_vendor:u},success:function(i){console.log("res",i);var s=i.data||{},r=s.sessionid,t=s.user_name||"",a=s.is_first,c=s.user_id||"",l="sessionid=".concat(r);console.log("sessionid",r),r?(wx.setStorageSync("sessionid",l),wx.setStorageSync("sessionUserId",c),wx.setStorageSync("userName",t),d.globalData.sessionid=l,c&&d.sensors.login(c),o||(wx.setStorageSync("activity_token",s.activity_token),d.globalData.isFirstAuthorized=a),d.globalData.appIsLogin=Promise.resolve(),d.globalData.launchDoPoint(),e({errCode:0,errMsg:"login:ok",sessionid:r})):(wx.showToast({title:s.error_msg||"登录失败",icon:"none"}),n({errCode:3,errMsg:s.error_msg||"请求失败"}))},fail:function(){wx.showToast({title:"网络问题，请稍后重试!",icon:"loading"}),n({errCode:3,errMsg:"网络问题"})}})}function c(o,e,i,s){wx.login({success:function(n){var r=n.code;r?i&&s?a(o,e,i,s,r):e({errCode:2,errMsg:"encryptedData或iv不存在"}):e({errCode:1,errMsg:"code获取失败"})},fail:function(){e({errCode:1,errMsg:"code获取失败"})}})}function l(e,i,s,t,a){var l=wx.getStorageSync("sessionid");l?wx.checkSession({success:function(){r({url:n,success:function(n){var r=n.data||{};o?r.login?r.use_cellphone?e({errCode:0,errMsg:"login:ok",sessionid:l}):i():s?c(e,i,t,a):i():r.login?e({errCode:0,errMsg:"login:ok",sessionid:l}):s?c(e,i,t,a):i()},fail:function(){s?c(e,i,t,a):i()}})},fail:function(){s?c(e,i,t,a):i()}}):s?c(e,i,t,a):i()}module.exports={appLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.success,s=void 0===i?t:i,n=e.fail,r=void 0===n?t:n,a=e.encryptedData,c=void 0===a?null:a,d=e.iv,g=void 0===d?null:d,u=e.isNumberLogin,v=void 0!==u&&u;o=v,l(s,r,!0,c,g)},appIsLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.success,s=void 0===i?t:i,n=e.fail,r=void 0===n?t:n,a=e.isNumberLogin,c=void 0!==a&&a;o=c,l(s,r,!1)}};
},{isPage:false,isComponent:false,currentFile:'A9EAB7C2829A079CCF8CDFC58A3C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("ACF33105829A079CCA9559029C0D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/objectSpread2.js"),o=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,t=/^http(s)?:\/\//;module.exports=function(r){var i=r.url,s=void 0===i?"":i,a=r.header,d=void 0===a?{}:a,c=r.method,n=void 0===c?"GET":c,u=r.data,p=void 0===u?{}:u,l=r.dataType,v=void 0===l?"json":l,f=r.responseType,m=void 0===f?"text":f,h=r.success,y=void 0===h?function(){}:h,w=r.fail,x=void 0===w?function(){}:w,T=r.complete,b=void 0===T?function(){}:T,q={"content-type":"application/x-www-form-urlencoded",cookie:wx.getStorageSync("sessionid")};return t.test(s)||(s="".concat(o).concat(s)),d=e(e({},q),d),wx.request({url:s,data:p,header:d,method:n,dataType:v,responseType:m,success:y,fail:x,complete:b})};
},{isPage:false,isComponent:false,currentFile:'ACF33105829A079CCA9559029C0D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("BC983DD1829A079CDAFE55D6E84D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=wx.getStorageSync("BASE_URL_KEY")||"online",t={biz:"https://biztest.chunyutianxia.com",dev:"https://devtest.chunyutianxia.com",online:"https://www.chunyuyisheng.com",stage:"https://stage.chunyuyisheng.com"},n=wx.getAccountInfoSync().miniProgram.envVersion;"develop"===n||"trial"===n||(e="online"),wx.removeStorageSync("BASE_URL_KEY"),console.log("当前环境是".concat(t[e])),module.exports={baseUrl:t[e],currentUrlKey:e};
},{isPage:false,isComponent:false,currentFile:'BC983DD1829A079CDAFE55D6E84D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("BD3DD342829A079CDB5BBB45D2EB7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default={apply_prescription:"apply_prescription",doctor_service_inquiry:"doctor_service_inquiry",personal_doctor:"personal_doctor",register_apply:"register_apply",search_doctor:"search_doctor",assess:"assess"};
},{isPage:false,isComponent:false,currentFile:'BD3DD342829A079CDB5BBB45D2EB7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("C81F1783829A079CAE797F84E1DB7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js"),n=getApp(),r=require("92BC1755829A079CF4DA7F52C55D7B70.js").param,i="".concat(e.baseUrl,"/weixin/pay/do_confirm/"),o="".concat(e.baseUrl,"/weixin/pay/sign/status/"),a="".concat(e.baseUrl,"/weixin/pay/get_pure_sign_pay_order_params/"),t="".concat(e.baseUrl,"/weixin/pay/get_weixin_mini_pay_params/"),c="".concat(e.baseUrl,"/vip_doctor/get_conversation_id/"),s="".concat(e.baseUrl,"/api/crm/expert/conversation/id/"),u="".concat(e.baseUrl,"/weixin/do_pay/"),l="".concat(e.baseUrl,"/weixin/pay/create_order/"),d="".concat(e.baseUrl,"/weixin/pay/?version=10.3.2"),_="".concat(e.baseUrl,"/qa_operation/quick_ask/get_upgrade_list/"),p="".concat(e.baseUrl,"/api/v7/new_user/cancel_doc_dis_coupon/"),f="".concat(e.baseUrl,"/api/v5/order/cancel/"),g=function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="POST"===o?r(i):i;return new Promise((function(r,i){wx.request({url:e,header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},method:o,data:a,success:function(e){r(e.data)},fail:function(n){console.log("".concat(e," error::"),n),i(n)}})}))},m=function(e,r){return new Promise((function(i,o){wx.request({url:e,header:{Cookie:n.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:r,success:function(e){i(e.data)},fail:function(n){console.log("".concat(e," error::"),n),o(n)}})}))},w=function(e,n){wx.switchTab({url:e,complete:function(){n&&setTimeout((function(){wx.navigateTo({url:n})}),1e3)}})};module.exports={getResult:g,getPayResult:function(e){return g(i,{pay_order_id:e})},isPayResultValid:function(e){return-2!=e.error},getPeriodSignStatus:function(e){return g(o,{order_id:e})},isPeriodSignStatusValid:function(e){return 0!==e.error_code||"TEMP"!==e.status},getWxPeriodParams:function(e){return g(a,{from_wx_mini:1,order_id:e,trade_account:"weixin_mini"})},getWxPayParams:function(e){return g(t,{from_wx_mini:1,order_id:e})},getConversationId:function(e,n){return g(c,{service_id:e,service_type:n})},balancePay:function(e,n){return m(u,{from_wx_mini:1,pay_order_id:e,pay_method:n||"balance"})},createOrder:function(e){return m(l,e)},getPayInfo:function(e){return m(d,e)},getUpgradeInfo:function(e){return m(_,e)},cancelDocDisCoupon:function(e){return g(p,{},"POST")},revertCoupon:function(e){return m(f,e)},getConversationIdNew:function(e){return g(s,{service_id:e})},switchTabToTarget:w,switchToAllService:function(){wx.switchTab({url:"/pages/all_service/index"})},goQaFromAllService:function(e){var n="/pages/qa_im/index?problem_id=".concat(e);w("/pages/all_service/index",n)},goH5WebviewFromAllService:function(e){var n="/pages/h5_webview/index?url=".concat(e);w("/pages/all_service/index",n)},goInqueryFromAllService:function(e){var n="/pages/inquery/inquery?problem_id=".concat(e,"&from_page=doc_mainpage");w("/pages/all_service/index",n)}};
},{isPage:false,isComponent:false,currentFile:'C81F1783829A079CAE797F84E1DB7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("C871ACB1829A079CAE17C4B61D2C7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@babel/runtime/helpers/typeof.js"),e=require("@babel/runtime/helpers/classCallCheck.js"),n=require("@babel/runtime/helpers/createClass.js"),i=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,i),Object.assign(this,{data:{},rules:t,messages:n}),this.__init()}return n(i,[{key:"__init",value:function(){this.__initMethods(),this.__initDefaults(),this.__initData()}},{key:"__initData",value:function(){this.form={},this.errorList=[]}},{key:"__initDefaults",value:function(){this.defaults={messages:{required:"这是必填字段。",email:"请输入有效的电子邮件地址。",tel:"请输入11位的手机号码。",url:"请输入有效的网址。",date:"请输入有效的日期。",dateISO:"请输入有效的日期（ISO），例如：2009-06-23，1998/01/22。",number:"请输入有效的数字。",digits:"只能输入数字。",idcard:"请输入18位的有效身份证。",equalTo:this.formatTpl("输入值必须和 {0} 相同。"),contains:this.formatTpl("输入值必须包含 {0}。"),minlength:this.formatTpl("最少要输入 {0} 个字符。"),maxlength:this.formatTpl("最多可以输入 {0} 个字符。"),rangelength:this.formatTpl("请输入长度在 {0} 到 {1} 之间的字符。"),min:this.formatTpl("请输入不小于 {0} 的数值。"),max:this.formatTpl("请输入不大于 {0} 的数值。"),range:this.formatTpl("请输入范围在 {0} 到 {1} 之间的数值。")}}}},{key:"__initMethods",value:function(){var t=this;t.methods={required:function(e,n){if(!t.depend(n))return"dependency-mismatch";if("number"==typeof e)e=e.toString();else if("boolean"==typeof e)return!0;return e.length>0},email:function(e){return t.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},tel:function(e){return t.optional(e)||/^1[34578]\d{9}$/.test(e)},url:function(e){return t.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e){return t.optional(e)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e){return t.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e){return t.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e){return t.optional(e)||/^\d+$/.test(e)},idcard:function(e){return t.optional(e)||/(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},equalTo:function(e,n){return t.optional(e)||e===t.data[n]},contains:function(e,n){return t.optional(e)||e.indexOf(n)>=0},minlength:function(e,n){return t.optional(e)||e.length>=n},maxlength:function(e,n){return t.optional(e)||e.length<=n},rangelength:function(e,n){return t.optional(e)||e.length>=n[0]&&e.length<=n[1]},min:function(e,n){return t.optional(e)||e>=n},max:function(e,n){return t.optional(e)||e<=n},range:function(e,n){return t.optional(e)||e>=n[0]&&e<=n[1]}}}},{key:"addMethod",value:function(t,e,n){this.methods[t]=e,this.defaults.messages[t]=void 0!==n?n:this.defaults.messages[t]}},{key:"isValidMethod",value:function(t){var e=[];for(var n in this.methods)n&&"function"==typeof this.methods[n]&&e.push(n);return-1!==e.indexOf(t)}},{key:"formatTpl",value:function(t,e){var n=this;return 1===arguments.length?function(){var e=Array.from(arguments);return e.unshift(t),n.formatTpl.apply(this,e)}:(void 0===e||(arguments.length>2&&e.constructor!==Array&&(e=Array.from(arguments).slice(1)),e.constructor!==Array&&(e=[e]),e.forEach((function(e,n){t=t.replace(new RegExp("\\{"+n+"\\}","g"),(function(){return e}))}))),t)}},{key:"depend",value:function(e){switch(t(e)){case"boolean":e=e;break;case"string":e=!!e.length;break;case"function":e=e();default:e=!0}return e}},{key:"optional",value:function(t){return!this.methods.required(t)&&"dependency-mismatch"}},{key:"customMessage",value:function(e,n){var i=this.messages[e],a="object"===t(i);if(i&&a)return i[n.method]}},{key:"defaultMessage",value:function(e,n){var i=this.customMessage(e,n)||this.defaults.messages[n.method],a=t(i);return"undefined"===a?i="Warning: No message defined for ".concat(n.method,"."):"function"===a&&(i=i.call(this,n.parameters)),i}},{key:"formatTplAndAdd",value:function(t,e,n){var i=this.defaultMessage(t,e);this.errorList.push({param:t,msg:i,value:n})}},{key:"checkParam",value:function(t,e,n){this.data=n;var i=null!==n[t]&&void 0!==n[t]?n[t]:"";for(var a in e)if(this.isValidMethod(a)){var r={method:a,parameters:e[a]},s=this.methods[a](i,r.parameters);if("dependency-mismatch"===s)continue;if(this.setValue(t,a,s,i),!s){this.formatTplAndAdd(t,r,i);break}}}},{key:"setView",value:function(t){this.form[t]={$name:t,$valid:!0,$invalid:!1,$error:{},$success:{},$viewValue:""}}},{key:"setValue",value:function(t,e,n,i){var a=this.form[t];a.$valid=n,a.$invalid=!n,a.$error[e]=!n,a.$success[e]=n,a.$viewValue=i}},{key:"checkForm",value:function(t){for(var e in this.__initData(),this.rules)this.setView(e),this.checkParam(e,this.rules[e],t);return this.valid()}},{key:"valid",value:function(){return 0===this.size()}},{key:"size",value:function(){return this.errorList.length}},{key:"validationErrors",value:function(){return this.errorList}}]),i}();exports.default=i;
},{isPage:false,isComponent:false,currentFile:'C871ACB1829A079CAE17C4B61D2C7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("D0479CE4829A079CB621F4E3756D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("@babel/runtime/helpers/typeof.js");(function(e,n,r){var i=function t(e,n,r){r=o.extend({},o.options,r);var i=o.runValidations(e,n,r);if(i.some((function(t){return o.isPromise(t.error)})))throw new Error("Use validate.async if you want support for promises");return t.processValidationResults(i,r)},o=i;o.extend=function(t){return[].slice.call(arguments,1).forEach((function(e){for(var n in e)t[n]=e[n]})),t},o.extend(i,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var t=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(t+="+"+o.version.metadata),t}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,n){var r,i,s,a,u,f,l,c=[];for(r in(o.isDomElement(t)||o.isJqueryElement(t))&&(t=o.collectFormValues(t)),e)for(i in s=o.getDeepObjectValue(t,r),a=o.result(e[r],s,t,r,n,e)){if(!(u=o.validators[i]))throw l=o.format("Unknown validator %{name}",{name:i}),new Error(l);f=a[i],(f=o.result(f,s,t,r,n,e))&&c.push({attribute:r,value:s,validator:i,globalOptions:n,attributes:t,options:f,error:u.call(u,s,f,r,t,n)})}return c},processValidationResults:function(t,e){t=o.pruneEmptyErrors(t,e),t=o.expandMultipleErrors(t,e),t=o.convertErrorMessages(t,e);var n=e.format||"grouped";if("function"!=typeof o.formatters[n])throw new Error(o.format("Unknown format %{format}",e));return t=o.formatters[n](t),o.isEmpty(t)?void 0:t},async:function(t,e,n){var r=(n=o.extend({},o.async.options,n)).wrapErrors||function(t){return t};!1!==n.cleanAttributes&&(t=o.cleanAttributes(t,e));var i=o.runValidations(t,e,n);return new o.Promise((function(s,a){o.waitForResults(i).then((function(){var u=o.processValidationResults(i,n);u?a(new r(u,n,t,e)):s(t)}),(function(t){a(t)}))}))},single:function(t,e,n){return n=o.extend({},o.single.options,n,{format:"flat",fullMessages:!1}),o({single:t},{single:e},n)},waitForResults:function(t){return t.reduce((function(t,e){return o.isPromise(e.error)?t.then((function(){return e.error.then((function(t){e.error=t||null}))})):t}),new o.Promise((function(t){t()})))},result:function(t){var e=[].slice.call(arguments,1);return"function"==typeof t&&(t=t.apply(null,e)),t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isFunction:function(t){return"function"==typeof t},isInteger:function(t){return o.isNumber(t)&&t%1==0},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!=t},isPromise:function(t){return!!t&&o.isFunction(t.then)},isJqueryElement:function(t){return t&&o.isString(t.jquery)},isDomElement:function(e){return!!e&&!(!e.querySelectorAll||!e.querySelector)&&(!(!o.isObject(document)||e!==document)||("object"==("undefined"==typeof HTMLElement?"undefined":t(HTMLElement))?e instanceof HTMLElement:e&&"object"==t(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName))},isEmpty:function(t){var e;if(!o.isDefined(t))return!0;if(o.isFunction(t))return!1;if(o.isString(t))return o.EMPTY_STRING_REGEXP.test(t);if(o.isArray(t))return 0===t.length;if(o.isDate(t))return!1;if(o.isObject(t)){for(e in t)return!1;return!0}return!1},format:o.extend((function(t,e){return o.isString(t)?t.replace(o.format.FORMAT_REGEXP,(function(t,n,r){return"%"===n?"%{"+r+"}":String(e[r])})):t}),{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return o.isNumber(t)?100*t%1==0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):o.isArray(t)?t.map((function(t){return o.prettify(t)})).join(", "):o.isObject(t)?o.isDefined(t.toString)?t.toString():JSON.stringify(t):(t=""+t).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,(function(t,e,n){return e+" "+n.toLowerCase()})).toLowerCase()},stringifyValue:function(t,e){return(e&&e.prettify||o.prettify)(t)},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return o.isObject(t)&&!o.isArray(t)&&!o.isFunction(t)},contains:function(t,e){return!!o.isDefined(t)&&(o.isArray(t)?-1!==t.indexOf(e):e in t)},unique:function(t){return o.isArray(t)?t.filter((function(t,e,n){return n.indexOf(t)==e})):t},forEachKeyInKeypath:function(t,e,n){if(o.isString(e)){var r,i="",s=!1;for(r=0;r<e.length;++r)switch(e[r]){case".":s?(s=!1,i+="."):(t=n(t,i,!1),i="");break;case"\\":s?(s=!1,i+="\\"):s=!0;break;default:s=!1,i+=e[r]}return n(t,i,!0)}},getDeepObjectValue:function(t,e){if(o.isObject(t))return o.forEachKeyInKeypath(t,e,(function(t,e){if(o.isObject(t))return t[e]}))},collectFormValues:function(t,e){var n,r,i,s,a,u,f={};if(o.isJqueryElement(t)&&(t=t[0]),!t)return f;for(e=e||{},s=t.querySelectorAll("input[name], textarea[name]"),n=0;n<s.length;++n)if(i=s.item(n),!o.isDefined(i.getAttribute("data-ignored"))){var l=i.name.replace(/\./g,"\\\\.");u=o.sanitizeFormValue(i.value,e),"number"===i.type?u=u?+u:null:"checkbox"===i.type?i.attributes.value?i.checked||(u=f[l]||null):u=i.checked:"radio"===i.type&&(i.checked||(u=f[l]||null)),f[l]=u}for(s=t.querySelectorAll("select[name]"),n=0;n<s.length;++n)if(i=s.item(n),!o.isDefined(i.getAttribute("data-ignored"))){if(i.multiple)for(r in u=[],i.options)(a=i.options[r])&&a.selected&&u.push(o.sanitizeFormValue(a.value,e));else{var c=void 0!==i.options[i.selectedIndex]?i.options[i.selectedIndex].value:"";u=o.sanitizeFormValue(c,e)}f[i.name]=u}return f},sanitizeFormValue:function(t,e){return e.trim&&o.isString(t)&&(t=t.trim()),!1!==e.nullify&&""===t?null:t},capitalize:function(t){return o.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter((function(t){return!o.isEmpty(t.error)}))},expandMultipleErrors:function(t){var e=[];return t.forEach((function(t){o.isArray(t.error)?t.error.forEach((function(n){e.push(o.extend({},t,{error:n}))})):e.push(t)})),e},convertErrorMessages:function(t,e){var n=[],r=(e=e||{}).prettify||o.prettify;return t.forEach((function(t){var i=o.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);return o.isString(i)?("^"===i[0]?i=i.slice(1):!1!==e.fullMessages&&(i=o.capitalize(r(t.attribute))+" "+i),i=i.replace(/\\\^/g,"^"),i=o.format(i,{value:o.stringifyValue(t.value,e)}),void n.push(o.extend({},t,{error:i}))):void n.push(t)})),n},groupErrorsByAttribute:function(t){var e={};return t.forEach((function(t){var n=e[t.attribute];n?n.push(t):e[t.attribute]=[t]})),e},flattenErrorsToArray:function(t){return t.map((function(t){return t.error})).filter((function(t,e,n){return n.indexOf(t)===e}))},cleanAttributes:function(t,e){function n(t,e,n){return o.isObject(t[e])?t[e]:t[e]=!!n||{}}return o.isObject(e)&&o.isObject(t)?function t(e,n){if(!o.isObject(e))return e;var r,i,s=o.extend({},e);for(i in e)r=n[i],o.isObject(r)?s[i]=t(s[i],r):r||delete s[i];return s}(t,e=function(t){var e,r={};for(e in t)t[e]&&o.forEachKeyInKeypath(r,e,n);return r}(e)):{}},exposeModule:function(t,e,n,r,i){n?(r&&r.exports&&(n=r.exports=t),n.validate=t):(e.validate=t,t.isFunction(i)&&i.amd&&i([],(function(){return t})))},warn:function(t){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+t)}}),i.validators={presence:function(t,e){if(!1!==(e=o.extend({},this.options,e)).allowEmpty?!o.isDefined(t):o.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,n){if(o.isDefined(t)){var r,i=(e=o.extend({},this.options,e)).is,s=e.maximum,a=e.minimum,u=[],f=(t=(e.tokenizer||function(t){return t})(t)).length;return o.isNumber(f)?(o.isNumber(i)&&f!==i&&(r=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(o.format(r,{count:i}))),o.isNumber(a)&&f<a&&(r=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(o.format(r,{count:a}))),o.isNumber(s)&&f>s&&(r=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(o.format(r,{count:s}))),u.length>0?e.message||u:void 0):e.message||this.notValid||"has an incorrect length"}},numericality:function(t,e,n,r,i){if(o.isDefined(t)){var s,a,u=[],f={greaterThan:function(t,e){return t>e},greaterThanOrEqualTo:function(t,e){return t>=e},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e==0}},l=(e=o.extend({},this.options,e)).prettify||i&&i.prettify||o.prettify;if(o.isString(t)&&e.strict){var c="^-?(0|[1-9]\\d*)";if(e.onlyInteger||(c+="(\\.\\d+)?"),c+="$",!new RegExp(c).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==e.noStrings&&o.isString(t)&&!o.isEmpty(t)&&(t=+t),!o.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!o.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(s in f)if(a=e[s],o.isNumber(a)&&!f[s](t,a)){var d="not"+o.capitalize(s),m=e[d]||this[d]||this.message||"must be %{type} %{count}";u.push(o.format(m,{count:a,type:l(s)}))}return e.odd&&t%2!=1&&u.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!=0&&u.push(e.notEven||this.notEven||this.message||"must be even"),u.length?e.message||u:void 0}},datetime:o.extend((function(t,e){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(t)){var n,r=[],i=(e=o.extend({},this.options,e)).earliest?this.parse(e.earliest,e):NaN,s=e.latest?this.parse(e.latest,e):NaN;return t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!=0?(n=e.notValid||e.message||this.notValid||"must be a valid date",o.format(n,{value:arguments[0]})):(!isNaN(i)&&t<i&&(n=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",n=o.format(n,{value:this.format(t,e),date:this.format(i,e)}),r.push(n)),!isNaN(s)&&t>s&&(n=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",n=o.format(n,{date:this.format(s,e),value:this.format(t,e)}),r.push(n)),r.length?o.unique(r):void 0)}}),{parse:null,format:null}),date:function(t,e){return e=o.extend({},e,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,t,e)},format:function(t,e){(o.isString(e)||e instanceof RegExp)&&(e={pattern:e});var n,r=(e=o.extend({},this.options,e)).message||this.message||"is invalid",i=e.pattern;if(o.isDefined(t))return o.isString(t)?(o.isString(i)&&(i=new RegExp(e.pattern,e.flags)),(n=i.exec(t))&&n[0].length==t.length?void 0:r):r},inclusion:function(t,e){if(o.isDefined(t)&&(o.isArray(e)&&(e={within:e}),e=o.extend({},this.options,e),!o.contains(e.within,t))){var n=e.message||this.message||"^%{value} is not included in the list";return o.format(n,{value:t})}},exclusion:function(t,e){if(o.isDefined(t)&&(o.isArray(e)&&(e={within:e}),e=o.extend({},this.options,e),o.contains(e.within,t))){var n=e.message||this.message||"^%{value} is restricted";return o.isString(e.within[t])&&(t=e.within[t]),o.format(n,{value:t})}},email:o.extend((function(t,e){var n=(e=o.extend({},this.options,e)).message||this.message||"is not a valid email";if(o.isDefined(t))return o.isString(t)&&this.PATTERN.exec(t)?void 0:n}),{PATTERN:/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(t,e,n,r,i){if(o.isDefined(t)){o.isString(e)&&(e={attribute:e});var s=(e=o.extend({},this.options,e)).message||this.message||"is not equal to %{attribute}";if(o.isEmpty(e.attribute)||!o.isString(e.attribute))throw new Error("The attribute must be a non empty string");var a=o.getDeepObjectValue(r,e.attribute),u=e.comparator||function(t,e){return t===e},f=e.prettify||i&&i.prettify||o.prettify;return u(t,a,e,n,r)?void 0:o.format(s,{attribute:f(e.attribute)})}},url:function(t,e){if(o.isDefined(t)){var n=(e=o.extend({},this.options,e)).message||this.message||"is not a valid url",r=e.schemes||this.schemes||["http","https"],i=e.allowLocal||this.allowLocal||!1,s=e.allowDataUrl||this.allowDataUrl||!1;if(!o.isString(t))return n;var a="^(?:(?:"+r.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",u="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(i?u+="?":a+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",a+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+u+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",s){a="(?:"+a+")|(?:^data:(?:\\w+\\/[-+.\\w]+(?:;[\\w=]+)*)?(?:;base64)?,[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*$)"}return new RegExp(a,"i").exec(t)?void 0:n}},type:o.extend((function(t,e,n,r,i){if(o.isString(e)&&(e={type:e}),o.isDefined(t)){var s,a=o.extend({},this.options,e),u=a.type;if(!o.isDefined(u))throw new Error("No type was specified");if(s=o.isFunction(u)?u:this.types[u],!o.isFunction(s))throw new Error("validate.validators.type.types."+u+" must be a function.");if(!s(t,a,n,r,i)){var f=e.message||this.messages[u]||this.message||a.message||(o.isFunction(u)?"must be of the correct type":"must be of type %{type}");return o.isFunction(f)&&(f=f(t,e,n,r,i)),o.format(f,{attribute:o.prettify(n),type:u})}}}),{types:{object:function(t){return o.isObject(t)&&!o.isArray(t)},array:o.isArray,integer:o.isInteger,number:o.isNumber,string:o.isString,date:o.isDate,boolean:o.isBoolean},messages:{}})},i.formatters={detailed:function(t){return t},flat:o.flattenErrorsToArray,grouped:function(t){var e;for(e in t=o.groupErrorsByAttribute(t))t[e]=o.flattenErrorsToArray(t[e]);return t},constraint:function(t){var e;for(e in t=o.groupErrorsByAttribute(t))t[e]=t[e].map((function(t){return t.validator})).sort();return t}},i.exposeModule(i,this,e,n,r)}).call(void 0,"undefined"!=typeof exports?exports:null,"undefined"!=typeof module?module:null,"undefined"!=typeof define?define:null);
},{isPage:false,isComponent:false,currentFile:'D0479CE4829A079CB621F4E3756D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("D6CAF1F1829A079CB0AC99F6BFEC7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=wx.getRealtimeLogManager?wx.getRealtimeLogManager():null;module.exports={info:function(){t&&t.info.apply(t,arguments)},warn:function(){t&&t.warn.apply(t,arguments)},error:function(){t&&t.error.apply(t,arguments)},setFilterMsg:function(e){t&&t.setFilterMsg&&"string"==typeof e&&t.setFilterMsg(e)},addFilterMsg:function(e){t&&t.addFilterMsg&&"string"==typeof e&&t.addFilterMsg(e)}};
},{isPage:false,isComponent:false,currentFile:'D6CAF1F1829A079CB0AC99F6BFEC7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("EB19B6E5829A079C8D7FDEE21D1D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js"),s=e.baseUrl,t=e.currentUrlKey,n="".concat(s,"/cooperation/wap/get_base_info/"),o={online:"https://www.chunyuyisheng.com/sensorsdata/sa",biz:"https://www.chunyuyisheng.com/sensorsdata/sa?project=biztest",dev:"https://www.chunyuyisheng.com/sensorsdata/sa?project=test",stage:"https://www.chunyuyisheng.com/sensorsdata/sa"}[t],a=require("9B422ED7829A079CFD2446D0F82D7B70.js");function i(){var e=wx.getStorageSync("sessionUserId")||"";if(!wx.getStorageSync("device_id")){wx.setStorageSync("device_id","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var s=16*Math.random()|0;return("x"===e?s:3&s|8).toString(16)})))}a.registerApp({device_id:wx.getStorageSync("open_id")}),e&&a.login(e),a.init()}a.setPara({name:"sensors",server_url:o,autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0,mpClick:!1},show_log:!1}),module.exports={sensors:a,sensorsInit:function(){wx.login({success:function(e){e.code?wx.request({method:"POST",url:n,data:{code:e.code,app:"weixin_mini"},header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){e.data.open_id&&(wx.setStorageSync("open_id",e.data.open_id),a.setOpenid(e.data.open_id))},complete:function(){i()}}):i()},fail:function(){i()}})}};
},{isPage:false,isComponent:false,currentFile:'EB19B6E5829A079C8D7FDEE21D1D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("FD56CE94829A079C9B30A693E59B7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports={relationList:["自己","父母","子女","爱人","其他"],sexList:[{value:"男",checked:!1},{value:"女",checked:!1}]};
},{isPage:false,isComponent:false,currentFile:'FD56CE94829A079C9B30A693E59B7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("FE1120A4829A079C987748A30A3D7B70.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o=require("92BC1755829A079CF4DA7F52C55D7B70.js").param,a="".concat(e,"/cooperation/wap/mini_sub/can_sub/"),n="".concat(e,"/cooperation/wap/mini_sub/save/"),s=getApp();module.exports={saveSubscribeMessage:function(e,a){var t={data:e.map((function(e){return{template_id:e,choice:a[e]}}))};t.data=JSON.stringify(t.data),console.log(t,"formdata");var c=s.globalData.sessionid;c&&wx.request({url:n,method:"POST",header:{Cookie:c,"Content-Type":"application/x-www-form-urlencoded"},data:o(t),fail:function(e){console.log(e)},success:function(){}})},subscribeBtnShow:function(e,o){var n={template_ids:JSON.stringify(e)},t=s.globalData.sessionid;t&&wx.request({url:a,method:"POST",header:{Cookie:t,"Content-Type":"application/x-www-form-urlencoded"},data:n,fail:function(e){console.log(e)},success:function(e){var a;0==e.data.error_code&&(a=e.data.result.some((function(e){return 1==e.can_sub}))),o(a)}})},subscribeMessage:function(e){return new Promise((function(o,a){wx.requestSubscribeMessage({tmplIds:e,fail:function(e){a(e),console.error(e)},success:function(e){o(e),console.error(e)},complete:function(e){console.log("complete::::::",e)}})}))},changeIsSubscribeConsultMessageValue:function(e){s.globalData.isSubscribeConsultMessage=!e,console.log("changeIsSubscribeConsultMessageValue",s.globalData.isSubscribeConsultMessage)},jumpToTargetPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("adCyRedirect",e);var o=e.target_type,a=e.target_scheme;a&&("html"===o?wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a))}):"wx_mini"===o&&wx.navigateTo({url:"".concat(a)}))}};
},{isPage:false,isComponent:false,currentFile:'FE1120A4829A079C987748A30A3D7B70.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/mp-html/parser.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";function t(t){for(var i=Object.create(null),e=t.split(","),s=e.length;s--;)i[e[s]]=!0;return i}function i(t,i){for(var e=t.indexOf("&");-1!==e;){var s=t.indexOf(";",e+3),n=void 0;if(-1===s)break;"#"===t[e+1]?(n=parseInt(("x"===t[e+2]?"0":"")+t.substring(e+2,s)),isNaN(n)||(t=t.substr(0,e)+String.fromCharCode(n)+t.substr(s+1))):(n=t.substring(e+1,s),(a.entities[n]||"amp"===n&&i)&&(t=t.substr(0,e)+(a.entities[n]||"&")+t.substr(s+1))),e=t.indexOf("&",e+1)}return t}function e(t){this.options=t.data||{},this.tagStyle=Object.assign({},a.tagStyle,this.options.tagStyle),this.imgList=t.imgList||[],this.plugins=t.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function s(t){this.handler=t}require("../../@babel/runtime/helpers/Arrayincludes");var a={trustTags:t("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:t("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:t("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:t("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},n={},r=wx.getSystemInfoSync(),h=r.windowWidth,o=r.system,l=t(" ,\r,\n,\t,\f"),c=0;e.prototype.parse=function(t){for(var i=this.plugins.length;i--;)this.plugins[i].onUpdate&&(t=this.plugins[i].onUpdate(t,a)||t);for(new s(this).parse(t);this.stack.length;)this.popNode();return this.nodes},e.prototype.expose=function(){for(var t=this.stack.length;t--;){var i=this.stack[t];if(i.c||"a"===i.name||"video"===i.name||"audio"===i.name)return;i.c=1}},e.prototype.hook=function(t){for(var i=this.plugins.length;i--;)if(this.plugins[i].onParse&&!1===this.plugins[i].onParse(t,this))return!1;return!0},e.prototype.getUrl=function(t){var i=this.options.domain;return"/"===t[0]?"/"===t[1]?t=(i?i.split("://")[0]:"http")+":"+t:i&&(t=i+t):!i||t.includes("data:")||t.includes("://")||(t=i+"/"+t),t},e.prototype.parseStyle=function(t){var i=t.attrs,e=(this.tagStyle[t.name]||"").split(";").concat((i.style||"").split(";")),s={},a="";i.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==t.name&&"a"!==t.name&&"video"!==t.name&&"audio"!==t.name&&(i.id=void 0)),i.width&&(s.width=parseFloat(i.width)+(i.width.includes("%")?"%":"px"),i.width=void 0),i.height&&(s.height=parseFloat(i.height)+(i.height.includes("%")?"%":"px"),i.height=void 0);for(var n=0,r=e.length;n<r;n++){var o=e[n].split(":");if(!(o.length<2)){var c=o.shift().trim().toLowerCase(),d=o.join(":").trim();if("-"===d[0]&&d.lastIndexOf("-")>0||d.includes("safe"))a+=";".concat(c,":").concat(d);else if(!s[c]||d.includes("import")||!s[c].includes("import")){if(d.includes("url")){var p=d.indexOf("(")+1;if(p){for(;'"'===d[p]||"'"===d[p]||l[d[p]];)p++;d=d.substr(0,p)+this.getUrl(d.substr(p))}}else d.includes("rpx")&&(d=d.replace(/[0-9.]+\s*rpx/g,(function(t){return parseFloat(t)*h/750+"px"})));s[c]=d}}}return t.attrs.style=a,s},e.prototype.onTagName=function(t){this.tagName=this.xml?t:t.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1)},e.prototype.onAttrName=function(t){"data-"===(t=this.xml?t:t.toLowerCase()).substr(0,5)?"data-src"!==t||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=t:this.attrName=void 0:this.attrName="src":(this.attrName=t,this.attrs[t]="T")},e.prototype.onAttrVal=function(t){var e=this.attrName||"";"style"===e||"href"===e?this.attrs[e]=i(t,!0):e.includes("src")?this.attrs[e]=this.getUrl(i(t,!0)):e&&(this.attrs[e]=t)},e.prototype.onOpenTag=function(t){var i=Object.create(null);i.name=this.tagName,i.attrs=this.attrs,this.attrs=Object.create(null);var e=i.attrs,s=this.stack[this.stack.length-1],r=s?s.children:this.nodes,o=this.xml?t:a.voidTags[i.name];if(n[i.name]&&(e.class=n[i.name]+(e.class?" "+e.class:"")),"embed"===i.name){var l=e.src||"";l.includes(".mp4")||l.includes(".3gp")||l.includes(".m3u8")||(e.type||"").includes("video")?i.name="video":(l.includes(".mp3")||l.includes(".wav")||l.includes(".aac")||l.includes(".m4a")||(e.type||"").includes("audio"))&&(i.name="audio"),e.autostart&&(e.autoplay="T"),e.controls="T"}if("video"!==i.name&&"audio"!==i.name||("video"!==i.name||e.id||(e.id="v"+c++),e.controls||e.autoplay||(e.controls="T"),i.src=[],e.src&&(i.src.push(e.src),e.src=void 0),this.expose()),o){if(!this.hook(i)||a.ignoreTags[i.name])return void("base"!==i.name||this.options.domain?"source"===i.name&&s&&("video"===s.name||"audio"===s.name)&&e.src&&s.src.push(e.src):this.options.domain=e.href);var d=this.parseStyle(i);if("img"===i.name){if(e.src&&(e.src.includes("webp")&&(i.webp="T"),e.src.includes("data:")&&!e["original-src"]&&(e.ignore="T"),!e.ignore||i.webp||e.src.includes("cloud://"))){for(var p=this.stack.length;p--;){var u=this.stack[p];if("a"===u.name){i.a=u.attrs;break}var g=u.attrs.style||"";if(!g.includes("flex:")||g.includes("flex:0")||g.includes("flex: 0")||d.width&&d.width.includes("%"))if(g.includes("flex")&&"100%"===d.width)for(var f=p+1;f<this.stack.length;f++){var m=this.stack[f].attrs.style||"";if(!m.includes(";width")&&!m.includes(" width")&&0!==m.indexOf("width")){d.width="";break}}else g.includes("inline-block")&&(d.width&&"%"===d.width[d.width.length-1]?(u.attrs.style+=";max-width:"+d.width,d.width=""):u.attrs.style+=";max-width:100%");else{d.width="100% !important",d.height="";for(var v=p+1;v<this.stack.length;v++)this.stack[v].attrs.style=(this.stack[v].attrs.style||"").replace("inline-","")}u.c=1}i.i=this.imgList.length;var y=e["original-src"]||e.src;if(this.imgList.includes(y)){var x=y.indexOf("://");if(-1!==x){x+=3;for(var b=y.substr(0,x);x<y.length&&"/"!==y[x];x++)b+=Math.random()>.5?y[x].toUpperCase():y[x];b+=y.substr(x),y=b}}this.imgList.push(y)}"inline"===d.display&&(d.display=""),e.ignore&&(d["max-width"]=d["max-width"]||"100%",e.style+=";-webkit-touch-callout:none"),parseInt(d.width)>h&&(d.height=void 0),isNaN(parseInt(d.width))||(i.w="T"),!isNaN(parseInt(d.height))&&(!d.height.includes("%")||s&&(s.attrs.style||"").includes("height"))&&(i.h="T")}else if("svg"===i.name)return r.push(i),this.stack.push(i),void this.popNode();for(var w in d)d[w]&&(e.style+=";".concat(w,":").concat(d[w].replace(" !important","")));e.style=e.style.substr(1)||void 0}else("pre"===i.name||(e.style||"").includes("white-space")&&e.style.includes("pre"))&&2!==this.pre&&(this.pre=i.pre=1),i.children=[],this.stack.push(i);r.push(i)},e.prototype.onCloseTag=function(t){var i;for(t=this.xml?t:t.toLowerCase(),i=this.stack.length;i--&&this.stack[i].name!==t;);if(-1!==i)for(;this.stack.length>i;)this.popNode();else if("p"===t||"br"===t){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:t,attrs:{class:n[t],style:this.tagStyle[t]}})}},e.prototype.popNode=function(){var t=this.stack.pop(),i=t.attrs,e=t.children,s=this.stack[this.stack.length-1],n=s?s.children:this.nodes;if(!this.hook(t)||a.ignoreTags[t.name])return"title"===t.name&&e.length&&"text"===e[0].type&&this.options.setTitle&&wx.setNavigationBarTitle({title:e[0].text}),void n.pop();if(t.pre&&2!==this.pre){this.pre=t.pre=void 0;for(var r=this.stack.length;r--;)this.stack[r].pre&&(this.pre=1)}if("svg"===t.name){if(this.xml>1)return void this.xml--;var o="",l=i.style;return i.style="",i.xmlns="http://www.w3.org/2000/svg",function t(i){if("text"!==i.type){var e=a.svgDict[i.name]||i.name;for(var s in o+="<"+e,i.attrs){var n=i.attrs[s];n&&(o+=" ".concat(a.svgDict[s]||s,'="').concat(n,'"'))}if(i.children){o+=">";for(var r=0;r<i.children.length;r++)t(i.children[r]);o+="</"+e+">"}else o+="/>"}else o+=i.text}(t),t.name="img",t.attrs={src:"data:image/svg+xml;utf8,"+o.replace(/#/g,"%23"),style:l,ignore:"T"},t.children=void 0,void(this.xml=!1)}var c={};if(i.align&&("table"===t.name?"center"===i.align?c["margin-inline-start"]=c["margin-inline-end"]="auto":c.float=i.align:c["text-align"]=i.align,i.align=void 0),i.dir&&(c.direction=i.dir,i.dir=void 0),"font"===t.name&&(i.color&&(c.color=i.color,i.color=void 0),i.face&&(c["font-family"]=i.face,i.face=void 0),i.size)){var d=parseInt(i.size);isNaN(d)||(d<1?d=1:d>7&&(d=7),c["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][d-1]),i.size=void 0}if((i.class||"").includes("align-center")&&(c["text-align"]="center"),Object.assign(c,this.parseStyle(t)),"table"!==t.name&&parseInt(c.width)>h&&(c["max-width"]="100%",c["box-sizing"]="border-box"),a.blockTags[t.name])t.name="div";else if(a.trustTags[t.name]||this.xml)if("a"===t.name||"ad"===t.name)this.expose();else if("video"===t.name||"audio"===t.name)(c.height||"").includes("auto")&&(c.height=void 0),t.children=void 0;else if("ul"!==t.name&&"ol"!==t.name||!t.c){if("table"===t.name){var p=parseFloat(i.cellpadding),u=parseFloat(i.cellspacing),g=parseFloat(i.border);if(t.c&&(isNaN(p)&&(p=2),isNaN(u)&&(u=2)),g&&(i.style+=";border:"+g+"px solid gray"),t.flag&&t.c){t.flag=void 0,c.display="grid",u?(c["grid-gap"]=u+"px",c.padding=u+"px"):g&&(i.style+=";border-left:0;border-top:0");var f=[],m=[],v=[],y={};!function t(i){for(var e=0;e<i.length;e++)"tr"===i[e].name?m.push(i[e]):t(i[e].children||[])}(e);for(var x=1;x<=m.length;x++){for(var b=1,w=0;w<m[x-1].children.length;w++){var k=m[x-1].children[w];if("td"===k.name||"th"===k.name){for(;y[x+"."+b];)b++;k.c=1;var N=k.attrs.style||"",T=N.indexOf("width")?N.indexOf(";width"):0;if(-1!==T){var O=N.indexOf(";",T+6);-1===O&&(O=N.length),k.attrs.colspan||(f[b]=N.substring(T?T+7:6,O)),N=N.substr(0,T)+N.substr(O)}if(N+=(g?";border:".concat(g,"px solid gray")+(u?"":";border-right:0;border-bottom:0"):"")+(p?";padding:".concat(p,"px"):""),k.attrs.colspan&&(N+=";grid-column-start:".concat(b,";grid-column-end:").concat(b+parseInt(k.attrs.colspan)),k.attrs.rowspan||(N+=";grid-row-start:".concat(x,";grid-row-end:").concat(x+1)),b+=parseInt(k.attrs.colspan)-1),k.attrs.rowspan){N+=";grid-row-start:".concat(x,";grid-row-end:").concat(x+parseInt(k.attrs.rowspan)),k.attrs.colspan||(N+=";grid-column-start:".concat(b,";grid-column-end:").concat(b+1));for(var C=1;C<k.attrs.rowspan;C++)for(var S=0;S<(k.attrs.colspan||1);S++)y[x+C+"."+(b-S)]=1}N&&(k.attrs.style=N),v.push(k),b++}}if(1===x){for(var I="",A=1;A<b;A++)I+=(f[A]?f[A]:"auto")+" ";c["grid-template-columns"]=I}}t.children=v}else t.c&&(c.display="table"),isNaN(u)||(c["border-spacing"]=u+"px"),(g||p||t.c)&&function i(e){for(var s=0;s<e.length;s++){var a=e[s];t.c&&(a.c=1),"th"===a.name||"td"===a.name?(g&&(a.attrs.style="border:".concat(g,"px solid gray;").concat(a.attrs.style||"")),p&&(a.attrs.style="padding:".concat(p,"px;").concat(a.attrs.style||""))):a.children&&i(a.children)}}(e);if(this.options.scrollTable&&!(i.style||"").includes("inline")){var z=Object.assign({},t);t.name="div",t.attrs={style:"overflow-x:auto;padding:1px"},t.children=[z],i=z.attrs}}else if("td"!==t.name&&"th"!==t.name||!i.colspan&&!i.rowspan){if("ruby"===t.name){t.name="span";for(var j=0;j<e.length-1;j++)"text"===e[j].type&&"rt"===e[j+1].name&&(e[j]={name:"span",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(e[j+1].attrs.style||"")},children:e[j+1].children},e[j]]},e.splice(j+1,1))}}else for(var L=this.stack.length;L--;)if("table"===this.stack[L].name){this.stack[L].flag=1;break}}else{var q={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};q[i.type]&&(i.style+=";list-style-type:"+q[i.type],i.type=void 0),t.c=1;for(var U=e.length;U--;)"li"===e[U].name&&(e[U].c=1)}else t.name="span";if((c.display||"").includes("flex")&&!t.c)for(var F=e.length;F--;){var V=e[F];V.f&&(V.attrs.style=(V.attrs.style||"")+V.f,V.f=void 0)}var D=s&&((s.attrs.style||"").includes("flex")||(s.attrs.style||"").includes("grid"))&&!t.c&&!(c.display||"").includes("inline");if(D&&(t.f=";max-width:100%"),e.length>=50&&t.c&&!(c.display||"").includes("flex"))for(var B=e.length-1,P=B;P>=-1;P--)(-1===P||e[P].c||!e[P].name||"div"!==e[P].name&&"p"!==e[P].name&&"h"!==e[P].name[0]||(e[P].attrs.style||"").includes("inline"))&&(B-P>=5&&e.splice(P+1,B-P,{name:"div",attrs:{},children:t.children.slice(P+1,B+1)}),B=P-1);for(var Z in c)if(c[Z]){var G=";".concat(Z,":").concat(c[Z].replace(" !important",""));D&&(Z.includes("flex")&&"flex-direction"!==Z||"align-self"===Z||Z.includes("grid")||"-"===c[Z][0]||Z.includes("width")&&G.includes("%"))?(t.f+=G,"width"===Z&&(i.style+=";width:100%")):i.style+=G}i.style=i.style.substr(1)||void 0},e.prototype.onText=function(t){if(!this.pre){for(var e,s="",a=0,n=t.length;a<n;a++)l[t[a]]?(" "!==s[s.length-1]&&(s+=" "),"\n"!==t[a]||e||(e=!0)):s+=t[a];if(" "===s&&e)return;t=s}var r=Object.create(null);r.type="text",r.text=i(t),this.hook(r)&&("force"===this.options.selectable&&o.includes("iOS")&&!wx.canIUse("rich-text.user-select")&&this.expose(),(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(r))},s.prototype.parse=function(t){this.content=t||"",this.i=0,this.start=0,this.state=this.text;for(var i=this.content.length;-1!==this.i&&this.i<i;)this.state()},s.prototype.checkClose=function(t){var i="/"===this.content[this.i];return!!(">"===this.content[this.i]||i&&">"===this.content[this.i+1])&&(t&&this.handler[t](this.content.substring(this.start,this.i)),this.i+=i?2:1,this.start=this.i,this.handler.onOpenTag(i),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},s.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1!==this.i){var t=this.content[this.i+1];if(t>="a"&&t<="z"||t>="A"&&t<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===t||"!"===t||"?"===t){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));var i=this.content[this.i+2];if("/"===t&&(i>="a"&&i<="z"||i>="A"&&i<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);var e="--\x3e";"!"===t&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(e=">"),this.i=this.content.indexOf(e,this.i),-1!==this.i&&(this.i+=e.length,this.start=this.i)}else this.i++}else this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length))},s.prototype.tagName=function(){if(l[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));l[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},s.prototype.attrName=function(){var t=this.content[this.i];if(l[t]||"="===t){this.handler.onAttrName(this.content.substring(this.start,this.i));for(var i="="===t,e=this.content.length;++this.i<e;)if(t=this.content[this.i],!l[t]){if(this.checkClose())return;if(i)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);i=!0}}else this.checkClose("onAttrName")||this.i++},s.prototype.attrVal=function(){var t=this.content[this.i],i=this.content.length;if('"'===t||"'"===t){if(this.start=++this.i,this.i=this.content.indexOf(t,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<i;this.i++){if(l[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;l[this.content[++this.i]];);this.i<i&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},s.prototype.endTag=function(){var t=this.content[this.i];if(l[t]||">"===t||"/"===t){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==t&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++},module.exports=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/mp-html/parser.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/qs/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,r,t,n=require("../../@babel/runtime/helpers/typeof");module.exports=(e={},t=function(r,t){if(!e[r])return require(t);if(!e[r].status){var i=e[r].m;i._exports=i._tempexports;var o=Object.getOwnPropertyDescriptor(i,"exports");o&&o.configurable&&Object.defineProperty(i,"exports",{set:function(e){"object"===n(e)&&e!==i._exports&&(i._exports.__proto__=e.__proto__,Object.keys(e).forEach((function(r){i._exports[r]=e[r]}))),i._tempexports=e},get:function(){return i._tempexports}}),e[r].status=1,e[r].func(e[r].req,i,i.exports)}return e[r].m.exports},(r=function(r,t,n){e[r]={status:0,func:t,req:n,m:{exports:{},_tempexports:{}}}})(1684916285396,(function(e,r,t){var n=e("./stringify"),i=e("./parse");r.exports={stringify:n,parse:i}}),(function(e){return t({"./stringify":1684916285397,"./parse":1684916285399}[e],e)})),r(1684916285397,(function(e,r,t){var i=e("./utils"),o={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,r){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e,r){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0,stringify:function(e,r,t,n,a,l,s,c){if("function"==typeof s)e=s(r,e);else if(i.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(n)return l?i.encode(r):r;e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return l?[i.encode(r)+"="+i.encode(e)]:[r+"="+e];var p,u=[];if(void 0===e)return u;if(Array.isArray(s))p=s;else{var f=Object.keys(e);p=c?f.sort(c):f}for(var y=0,b=p.length;y<b;++y){var d=p[y];a&&null===e[d]||(u=Array.isArray(e)?u.concat(o.stringify(e[d],t(r,d),t,n,a,l,s)):u.concat(o.stringify(e[d],r+"["+d+"]",t,n,a,l,s)))}return u}};r.exports=function(e,r){var t,i,a=void 0===(r=r||{}).delimiter?o.delimiter:r.delimiter,l="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,s="boolean"==typeof r.skipNulls?r.skipNulls:o.skipNulls,c="boolean"==typeof r.encode?r.encode:o.encode,p="function"==typeof r.sort?r.sort:null;"function"==typeof r.filter?e=(i=r.filter)("",e):Array.isArray(r.filter)&&(t=i=r.filter);var u,f=[];if("object"!==n(e)||null===e)return"";u=r.arrayFormat in o.arrayPrefixGenerators?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=o.arrayPrefixGenerators[u];t||(t=Object.keys(e)),p&&t.sort(p);for(var b=0,d=t.length;b<d;++b){var m=t[b];s&&null===e[m]||(f=f.concat(o.stringify(e[m],m,y,l,s,c,i,p)))}return f.join(a)}}),(function(e){return t({"./utils":1684916285398}[e],e)})),r(1684916285398,(function(e,r,t){var i={};i.hexTable=new Array(256);for(var o=0;o<256;++o)i.hexTable[o]="%"+((o<16?"0":"")+o.toString(16)).toUpperCase();t.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},n=0,i=e.length;n<i;++n)void 0!==e[n]&&(t[n]=e[n]);return t},t.merge=function(e,r,i){if(!r)return e;if("object"!==n(r))return Array.isArray(e)?e.push(r):"object"===n(e)?e[r]=!0:e=[e,r],e;if("object"!==n(e))return e=[e].concat(r);Array.isArray(e)&&!Array.isArray(r)&&(e=t.arrayToObject(e,i));for(var o=Object.keys(r),a=0,l=o.length;a<l;++a){var s=o[a],c=r[s];Object.prototype.hasOwnProperty.call(e,s)?e[s]=t.merge(e[s],c,i):e[s]=c}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},t.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var r="",t=0,n=e.length;t<n;++t){var o=e.charCodeAt(t);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=e[t]:o<128?r+=i.hexTable[o]:o<2048?r+=i.hexTable[192|o>>6]+i.hexTable[128|63&o]:o<55296||o>=57344?r+=i.hexTable[224|o>>12]+i.hexTable[128|o>>6&63]+i.hexTable[128|63&o]:(++t,o=65536+((1023&o)<<10|1023&e.charCodeAt(t)),r+=i.hexTable[240|o>>18]+i.hexTable[128|o>>12&63]+i.hexTable[128|o>>6&63]+i.hexTable[128|63&o])}return r},t.compact=function(e,r){if("object"!==n(e)||null===e)return e;var i=(r=r||[]).indexOf(e);if(-1!==i)return r[i];if(r.push(e),Array.isArray(e)){for(var o=[],a=0,l=e.length;a<l;++a)void 0!==e[a]&&o.push(e[a]);return o}var s=Object.keys(e);for(a=0,l=s.length;a<l;++a){var c=s[a];e[c]=t.compact(e[c],r)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),(function(e){return t({}[e],e)})),r(1684916285399,(function(e,r,t){var n=e("./utils"),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,parseValues:function(e,r){for(var t={},i=e.split(r.delimiter,r.parameterLimit===1/0?void 0:r.parameterLimit),o=0,a=i.length;o<a;++o){var l,s,c=i[o],p=-1===c.indexOf("]=")?c.indexOf("="):c.indexOf("]=")+1;-1===p?(l=n.decode(c),s=r.strictNullHandling?null:""):(l=n.decode(c.slice(0,p)),s=n.decode(c.slice(p+1))),Object.prototype.hasOwnProperty.call(t,l)?t[l]=[].concat(t[l]).concat(s):t[l]=s}return t},parseObject:function(e,r,t){if(!e.length)return r;var n,o=e.shift();if("[]"===o)n=(n=[]).concat(i.parseObject(e,r,t));else{n=t.plainObjects?Object.create(null):{};var a="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,l=parseInt(a,10),s=""+l;!isNaN(l)&&o!==a&&s===a&&l>=0&&t.parseArrays&&l<=t.arrayLimit?(n=[])[l]=i.parseObject(e,r,t):n[a]=i.parseObject(e,r,t)}return n},parseKeys:function(e,r,t){if(e){t.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var n=/(\[[^\[\]]*\])/g,o=/^([^\[\]]*)/.exec(e),a=[];if(o[1]){if(!t.plainObjects&&Object.prototype.hasOwnProperty(o[1])&&!t.allowPrototypes)return;a.push(o[1])}for(var l=0;null!==(o=n.exec(e))&&l<t.depth;)++l,(t.plainObjects||!Object.prototype.hasOwnProperty(o[1].replace(/\[|\]/g,""))||t.allowPrototypes)&&a.push(o[1]);return o&&a.push("["+e.slice(o.index)+"]"),i.parseObject(a,r,t)}}};r.exports=function(e,r){if((r=r||{}).delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var t="string"==typeof e?i.parseValues(e,r):e,o=r.plainObjects?Object.create(null):{},a=Object.keys(t),l=0,s=a.length;l<s;++l){var c=a[l],p=i.parseKeys(c,t[c],r);o=n.merge(o,p,r)}return n.compact(o)}}),(function(e){return t({"./utils":1684916285398}[e],e)})),t(1684916285396));
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/qs/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("app.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault"),n=require("43A2F676829A079C25C49E711B4C7B70.js"),t=e(require("6A719353829A079C0C17FB54BF7D7B70.js")),i=e(require("5FA81AD3829A079C39CE72D4239C7B70.js")),r=require("BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/wx_mini_update_user_login_status/",o=require("92BC1755829A079CF4DA7F52C55D7B70.js").param,s=require("840A1D64829A079CE26C7563276C7B70.js").doPoint,a=require("A9EAB7C2829A079CCF8CDFC58A3C7B70.js").appIsLogin,u=require("EB19B6E5829A079C8D7FDEE21D1D7B70.js"),c=u.sensors;(0,u.sensorsInit)(),App({globalData:{order_data:{},can_use_sub_msg:!0,fromOneYuan:!1,is_new_user:"",webviewUrl:"",problem_id:"",isPaid:!1,from_type:0,partner:"chunyu_wap_mini",platform:"weixin_mini",activityPartner:"",cell_phone:"",record_id:"",old_vertify_code:"",selected_all:"",balance:"",doctor_info:"",keyboardHeight:0,payment_order_id:"",sessionid:wx.getStorageSync("sessionid")||"",isFirstAuthorized:!1,appIsLogin:new Promise((function(e,n){a({success:function(){e()},fail:function(){n("用户未登录")}})})),launchDoPoint:function(){var e=wx.getLaunchOptionsSync();e&&e.referrerInfo&&e.referrerInfo.appId&&s("PageView",{mp_source:e.referrerInfo.appId,page_title:e.path.split("?")[0],scene:e.scene,platform_source:"chunyu_wap_mini"})},socketOpen:!1,reConnectCount:0,referrerInfo:{},isTelInquiry:!1,hide_tabbar_card:!1,isSubscribeConsultMessage:!1},onLaunch:function(e){var t=e.path,i=e.scene;!/pages\/doc_mainpage\/index/.test(t)||1047!=i&&1048!=i&&1049!=i||(this.globalData.loginSource="chunyu_mwxmini"),this.collectLaunchQuery(e),(0,n.manualLogin)().then(this.globalData.launchDoPoint),this.sensors=c,this.couldUseSucscribeMsg()},onShow:function(e){1038===e.scene&&(this.globalData.referrerInfo=e.referrerInfo),wx.getStorageSync("device_id")||wx.setStorageSync("device_id",this.guid())},collectLaunchQuery:function(e){var n,r,o;1===Number(null==e||null===(n=e.query)||void 0===n?void 0:n.output)&&"weixin"===(null==e||null===(r=e.query)||void 0===r?void 0:r.partner)&&null!=e&&null!==(o=e.query)&&void 0!==o&&o.seo_time&&(i.default.setFilterMsg("new_seo_push"),i.default.info({time:e.query.seo_time})),e&&e.query&&1===Number(e.query.service_search)&&(0,t.default)({id:"seo_weixin_service_search",hasPassed:!0,extraInfo:{path:e.path,query:e.scene}})},sendOnlineStatus:function(e){var n={from_wx_mini:1,login_status:e,partner:"chunyu_wap_mini"},t=this.globalData.sessionid;wx.request({url:r,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t},data:o(n),method:"POST"})},getUserProfileGlobal:function(){var e=wx.getStorageSync("ProfileUserInfo");return e&&Object.keys(e).length?(e.isSuccess=!0,e):{isSuccess:!1}},onHide:function(){this.globalData.sessionid&&this.sendOnlineStatus(0),this.globalData.isFirstAuthorized=!1,this.globalData.referrerInfo={}},couldUseSucscribeMsg:function(){wx.requestSubscribeMessage||(this.globalData.can_use_sub_msg=!1)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))},updateCheck:function(){var e=wx.getUpdateManager();e.onUpdateReady((function(){wx.showModal({title:"为您检测到最新版本",content:"点击“更新”将重新进入小程序",confirmText:"更新",success:function(n){n.confirm&&e.applyUpdate()}})}))},setWatcher:function(e,n,t){var i=this;Object.keys(t).forEach((function(r){i.observe(n,r,t[r],e)}))},observe:function(e,n,t,i){var r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!0,set:function(e){r=e,t.call(i,e,r)},get:function(){return r}})},onPageNotFound:function(e){console.log("onPageNotFound",e),(0,t.default)({id:"page_not_found",hasPassed:!1,extraInfo:{path:e.path,query:e.query}})}});
},{isPage:false,isComponent:false,currentFile:'app.js'});require("app.js");$gwx_XC_0=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_0 || [];
function gz$gwx_XC_0_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_0_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_0_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_0_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_0_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_0_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_0=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_0=true;
var x=['./components/ad-bar/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_0_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_0";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_0();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/ad-bar/index.wxml'] = [$gwx_XC_0, './components/ad-bar/index.wxml'];else __wxAppCode__['components/ad-bar/index.wxml'] = $gwx_XC_0( './components/ad-bar/index.wxml' );
	;__wxRoute = "components/ad-bar/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/ad-bar/index.js";define("components/ad-bar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../982D50C4829A079CFE4B38C322EC7B70.js");Component({properties:{targetUrl:String,imgUrl:String,type:String},data:{isLogin:!0,avatarUrl:"",user_id:wx.getStorageSync("sessionUserId"),pageUrl:"",ysfConfig:""},options:{virtualHost:!0},lifetimes:{attached:function(){this.checkUrl(),this.startQiYu()}},methods:{startQiYu:function(){var i=this;(0,t.getQiYu)().then((function(t){i.setData({ysfConfig:t})}))},checkUrl:function(){if(this.data.targetUrl.includes("weixin_mini")){var t=this.data.targetUrl.match(/\/pages\/.+/)[0];console.log(t),this.setData({type:"page",pageUrl:t})}}}});
},{isPage:false,isComponent:true,currentFile:'components/ad-bar/index.js'});require("components/ad-bar/index.js");$gwx_XC_1=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_1 || [];
function gz$gwx_XC_1_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_1_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_1_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_1_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_1_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_1_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_1=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_1=true;
var x=['./components/appointment-doctor-header/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_1_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_1";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_1();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/appointment-doctor-header/index.wxml'] = [$gwx_XC_1, './components/appointment-doctor-header/index.wxml'];else __wxAppCode__['components/appointment-doctor-header/index.wxml'] = $gwx_XC_1( './components/appointment-doctor-header/index.wxml' );
	;__wxRoute = "components/appointment-doctor-header/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/appointment-doctor-header/index.js";define("components/appointment-doctor-header/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'components/appointment-doctor-header/index.js'});require("components/appointment-doctor-header/index.js");$gwx_XC_2=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_2 || [];
function gz$gwx_XC_2_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_2_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_2_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_2_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_2=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_2=true;
var x=['./components/bottom-next-step-button/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_2_1()
var oD=_n('slot')
_(r,oD)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_2";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_2();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/bottom-next-step-button/index.wxml'] = [$gwx_XC_2, './components/bottom-next-step-button/index.wxml'];else __wxAppCode__['components/bottom-next-step-button/index.wxml'] = $gwx_XC_2( './components/bottom-next-step-button/index.wxml' );
	;__wxRoute = "components/bottom-next-step-button/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/bottom-next-step-button/index.js";define("components/bottom-next-step-button/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({});
},{isPage:false,isComponent:true,currentFile:'components/bottom-next-step-button/index.js'});require("components/bottom-next-step-button/index.js");$gwx_XC_3=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_3 || [];
function gz$gwx_XC_3_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_3_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_3_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_3_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'_showCouponPop'])
Z([3,'use-coupon-item'])
Z([[6],[[7],[3,'couponInfo']],[3,'isMax']])
Z([[7],[3,'popShow']])
Z([3,'pop-inner'])
Z([3,'pop-container'])
Z([[2,'!'],[[6],[[7],[3,'selfCoupons']],[3,'length']]])
Z([[7],[3,'selfCoupons']])
Z([3,'id'])
Z([3,'_chooseCoupon'])
Z([[7],[3,'item']])
Z([[6],[[7],[3,'selfCoupons']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_3_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_3_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_3=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_3=true;
var x=['./components/choose-coupon/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_3_1()
var hG=_mz(z,'view',['bindtap',0,'class',1],[],e,s,gg)
var oH=_v()
_(hG,oH)
if(_oz(z,2,e,s,gg)){oH.wxVkey=1
}
oH.wxXCkey=1
_(r,hG)
var cF=_v()
_(r,cF)
if(_oz(z,3,e,s,gg)){cF.wxVkey=1
var cI=_n('view')
_rz(z,cI,'class',4,e,s,gg)
var lK=_n('view')
_rz(z,lK,'class',5,e,s,gg)
var aL=_v()
_(lK,aL)
if(_oz(z,6,e,s,gg)){aL.wxVkey=1
}
else{aL.wxVkey=2
var tM=_v()
_(aL,tM)
var eN=function(oP,bO,xQ,gg){
var fS=_mz(z,'coupon-item',['bind:chooseCoupon',9,'couponInfo',1],[],oP,bO,gg)
_(xQ,fS)
return xQ
}
tM.wxXCkey=4
_2z(z,7,eN,e,s,gg,tM,'item','index','id')
}
aL.wxXCkey=1
aL.wxXCkey=3
_(cI,lK)
var oJ=_v()
_(cI,oJ)
if(_oz(z,11,e,s,gg)){oJ.wxVkey=1
}
oJ.wxXCkey=1
_(cF,cI)
}
cF.wxXCkey=1
cF.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_3";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_3();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/choose-coupon/index.wxml'] = [$gwx_XC_3, './components/choose-coupon/index.wxml'];else __wxAppCode__['components/choose-coupon/index.wxml'] = $gwx_XC_3( './components/choose-coupon/index.wxml' );
	;__wxRoute = "components/choose-coupon/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/choose-coupon/index.js";define("components/choose-coupon/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=require("../../@babel/runtime/helpers/objectSpread2");Component({properties:{couponInfo:{type:Object,value:{id:null,title:"",noCoupon:!0,discountPrice:null,isMax:!1,availableNum:0}},coupons:{type:Array,value:[]}},data:{popShow:!1,selectCouponId:null,selfCoupons:[]},methods:{_showCouponPop:function(){this.copyCoupons(),this.setData({popShow:!0})},_hideCouponPop:function(){this.setData({popShow:!1})},_chooseCoupon:function(o){var e=this.data,t=e.selfCoupons,s=e.selectCouponId;t&&!t.length||this.copyCoupons(),t.forEach((function(e){e.id===o.detail?(e.isSelected=!e.isSelected,s=e.isSelected?o.detail:""):e.isSelected=!1})),this.setData({selfCoupons:t,selectCouponId:s})},_handleSubmit:function(){this.triggerEvent("chooseCoupon",this.data.selectCouponId),this.setData({popShow:!1,selectCouponId:null})},copyCoupons:function(){var e=null;if(Array.isArray(this.data.coupons)){var t=this.data.coupons.map((function(t){return t.isSelected&&(e=t.id),o({},t)}));this.setData({selectCouponId:e,selfCoupons:t})}}}});
},{isPage:false,isComponent:true,currentFile:'components/choose-coupon/index.js'});require("components/choose-coupon/index.js");$gwx_XC_4=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_4 || [];
function gz$gwx_XC_4_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_4_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_4_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_4_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldClinicSelectorShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_4_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_4_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_4=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_4=true;
var x=['./components/clinic-selector/clinic-selector.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_4_1()
var hU=_v()
_(r,hU)
if(_oz(z,0,e,s,gg)){hU.wxVkey=1
}
hU.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_4";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_4();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/clinic-selector/clinic-selector.wxml'] = [$gwx_XC_4, './components/clinic-selector/clinic-selector.wxml'];else __wxAppCode__['components/clinic-selector/clinic-selector.wxml'] = $gwx_XC_4( './components/clinic-selector/clinic-selector.wxml' );
	;__wxRoute = "components/clinic-selector/clinic-selector";__wxRouteBegin = true;__wxAppCurrentFile__="components/clinic-selector/clinic-selector.js";define("components/clinic-selector/clinic-selector.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var c=require("../../@babel/runtime/helpers/defineProperty"),i=getApp(),n=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/clinics/";Component({properties:{shouldClinicSelectorShow:{type:Boolean,value:!1},defaultFirst:{type:String,value:""},defaultSecond:{type:String,value:""}},data:{clinicList:[],currentSelectedFirstClinicIndex:0,selectedClinic:{},firstClinicAnchor:"",secondClinicAnchor:""},lifetimes:{attached:function(){this.getClinicList()}},observers:{shouldClinicSelectorShow:function(i){var n=this;i&&(this.setData({firstClinicAnchor:"id".concat(this.data.defaultFirst),secondClinicAnchor:"id".concat(this.data.defaultSecond)}),this.data.clinicList.forEach((function(i,t){i.clinic_no===n.data.defaultFirst&&(n.setData({currentSelectedFirstClinicIndex:t}),n.data.defaultSecond&&i.second_class_clinics.length&&i.second_class_clinics.forEach((function(i,e){if(i.clinic_no===n.data.defaultSecond){i.checked;var s="clinicList[".concat(t,"].second_class_clinics[").concat(e,"].checked");n.setData(c({},s,!0))}})))})))}},methods:{getClinicList:function(){var c=this;wx.request({url:n,data:{from_wx_mini:1,partner:i.globalData.partner,is_json:1},method:"GET",header:{"Content-Type":"application/json",Cookie:i.globalData.sessionid},success:function(i){i.data&&i.data.clinic_list&&i.data.clinic_list.length&&(c.processClinicData(i.data.clinic_list),c.setData({clinicList:i.data.clinic_list}))}})},confirmFirstClinic:function(i){var n=this;this.setData({currentSelectedFirstClinicIndex:Number(i.currentTarget.dataset.index),selectedClinic:{}}),this.data.clinicList.forEach((function(i,t){i.second_class_clinics.length&&i.second_class_clinics.forEach((function(i,e){if(i.checked){var s="clinicList[".concat(t,"].second_class_clinics[").concat(e,"].checked");n.setData(c({},s,!1))}}))}))},processClinicData:function(c){c.forEach((function(c){c.checked=!1,c.second_class_clinics&&c.second_class_clinics.length||(c.second_class_clinics=[],c.second_class_clinics.unshift({clinic_no:c.clinic_no,clinic_name:"全部".concat(c.clinic_name),second_class_clinics:[]})),c.second_class_clinics&&c.second_class_clinics.length&&c.second_class_clinics.forEach((function(c){c.checked=!1}))}))},confirmSecondClinic:function(i){var n,t=this,e=i.currentTarget.dataset.index,s=this.data.clinicList[this.data.currentSelectedFirstClinicIndex].second_class_clinics[e];console.log(s),this.data.clinicList.forEach((function(i,n){i.second_class_clinics.length&&i.second_class_clinics.forEach((function(i,e){if(i.checked){var s="clinicList[".concat(n,"].second_class_clinics[").concat(e,"].checked");t.setData(c({},s,!1))}}))}));var a="clinicList[".concat(this.data.currentSelectedFirstClinicIndex,"].second_class_clinics[").concat(e,"].checked");this.setData((c(n={},a,!0),c(n,"selectedClinic",s),n))},confirm:function(){Object.keys(this.data.selectedClinic).length?(this.triggerEvent("confirm-clinic",{clinicObj:this.data.selectedClinic}),this.triggerEvent("toggle-component",{shouldShow:!1})):wx.showToast({title:"未选中任何科室!",icon:"none"})},hideComponent:function(){this.triggerEvent("toggle-component",{shouldShow:!1})}}});
},{isPage:false,isComponent:true,currentFile:'components/clinic-selector/clinic-selector.js'});require("components/clinic-selector/clinic-selector.js");$gwx_XC_5=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_5 || [];
function gz$gwx_XC_5_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_5_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_5_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_5_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'_chooseCoupon'])
Z([a,[3,'coupon-item-components '],[[2,'?:'],[[2,'!'],[[6],[[7],[3,'couponInfo']],[3,'isValid']]],[1,'invalid-coupon'],[1,'']],[3,' '],[[2,'?:'],[[6],[[7],[3,'couponInfo']],[3,'isUnavailable']],[1,'unavailable'],[1,'']]])
Z([[2,'!'],[[7],[3,'isShow']]])
Z([[6],[[7],[3,'couponInfo']],[3,'isSelected']])
Z([[2,'||'],[[2,'||'],[[6],[[7],[3,'couponInfo']],[3,'doctorId']],[[2,'==='],[[6],[[7],[3,'couponInfo']],[3,'forward']],[1,'find_doctor']]],[[2,'&&'],[[2,'==='],[[6],[[7],[3,'couponInfo']],[3,'forward']],[1,'url']],[[6],[[7],[3,'couponInfo']],[3,'forwardValue']]]])
Z([[6],[[7],[3,'couponInfo']],[3,'reason']])
Z([[6],[[7],[3,'couponInfo']],[3,'isUsed']])
Z([[6],[[7],[3,'couponInfo']],[3,'isExpired']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_5_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_5_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_5=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_5=true;
var x=['./components/coupon-item/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_5_1()
var cW=_mz(z,'view',['catchtap',0,'class',1],[],e,s,gg)
var oX=_v()
_(cW,oX)
if(_oz(z,2,e,s,gg)){oX.wxVkey=1
var e2=_v()
_(oX,e2)
if(_oz(z,3,e,s,gg)){e2.wxVkey=1
}
e2.wxXCkey=1
}
else if(_oz(z,4,e,s,gg)){oX.wxVkey=2
}
var lY=_v()
_(cW,lY)
if(_oz(z,5,e,s,gg)){lY.wxVkey=1
}
var aZ=_v()
_(cW,aZ)
if(_oz(z,6,e,s,gg)){aZ.wxVkey=1
}
var t1=_v()
_(cW,t1)
if(_oz(z,7,e,s,gg)){t1.wxVkey=1
}
oX.wxXCkey=1
lY.wxXCkey=1
aZ.wxXCkey=1
t1.wxXCkey=1
_(r,cW)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_5";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_5();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/coupon-item/index.wxml'] = [$gwx_XC_5, './components/coupon-item/index.wxml'];else __wxAppCode__['components/coupon-item/index.wxml'] = $gwx_XC_5( './components/coupon-item/index.wxml' );
	;__wxRoute = "components/coupon-item/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/coupon-item/index.js";define("components/coupon-item/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=getApp();Component({properties:{isShow:{type:Boolean,value:!1},couponInfo:{type:Object,value:{id:null,title:"",description:"",focusPrice:"",tipsPrice:"",unit:0,expireDate:"",isSelected:!1,isValid:!0,isExpired:!1,isUsed:!1,isUnavailable:!1}}},methods:{_chooseCoupon:function(){var e=this.data,i=e.couponInfo,a=void 0===i?{}:i,n=e.isShow,t=e.id;console.log("couponInfo",a),a.isValid&&(a.isUnavailable||(n?a.doctorId?wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(a.doctorId)}):"find_doctor"===a.forward?wx.navigateTo({url:"/pages/find_doctor/index"}):"url"===a.forward&&a.forwardValue&&(o.sensors.track("AppClick",{page_readable_name:"我的优惠券",app:"weixin_mini",click_position:"指定sku优惠券",strategy_id:Number(t)}),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a.forwardValue))})):a.id&&this.triggerEvent("chooseCoupon",a.id)))}}});
},{isPage:false,isComponent:true,currentFile:'components/coupon-item/index.js'});require("components/coupon-item/index.js");$gwx_XC_6=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_6 || [];
function gz$gwx_XC_6_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_6_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_6_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_6_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'hideMask'])
Z([3,'cy-modal-mask'])
Z([[7],[3,'tipShow']])
Z([3,'cy-modal-tips-wrap margin-top-class'])
Z([[7],[3,'title']])
Z([3,'content'])
Z(z[6])
Z([[7],[3,'btnText']])
Z([3,'custom-button'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_6_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_6_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_6=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_6=true;
var x=['./components/cy-account-combine/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_6_1()
var o4=_v()
_(r,o4)
if(_oz(z,0,e,s,gg)){o4.wxVkey=1
var x5=_mz(z,'view',['catchtap',1,'class',1],[],e,s,gg)
var o6=_v()
_(x5,o6)
if(_oz(z,3,e,s,gg)){o6.wxVkey=1
var f7=_n('view')
_rz(z,f7,'class',4,e,s,gg)
var c8=_v()
_(f7,c8)
if(_oz(z,5,e,s,gg)){c8.wxVkey=1
}
var o0=_mz(z,'slot',['id',6,'name',1],[],e,s,gg)
_(f7,o0)
var h9=_v()
_(f7,h9)
if(_oz(z,8,e,s,gg)){h9.wxVkey=1
}
else{h9.wxVkey=2
var cAB=_n('slot')
_rz(z,cAB,'name',9,e,s,gg)
_(h9,cAB)
}
c8.wxXCkey=1
h9.wxXCkey=1
_(o6,f7)
}
o6.wxXCkey=1
_(o4,x5)
}
o4.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_6";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_6();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-account-combine/index.wxml'] = [$gwx_XC_6, './components/cy-account-combine/index.wxml'];else __wxAppCode__['components/cy-account-combine/index.wxml'] = $gwx_XC_6( './components/cy-account-combine/index.wxml' );
	;__wxRoute = "components/cy-account-combine/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-account-combine/index.js";define("components/cy-account-combine/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({externalClasses:["margin-top-class"],options:{multipleSlots:!0,addGlobalClass:!0},properties:{title:String,content:String,icon:String,show:Boolean,maskClose:{type:Boolean,value:!0},btnClose:{type:Boolean,value:!0},btnText:{type:String,value:"确定"}},data:{tipShow:!0,maskShow:!0},attached:function(){},moved:function(){},detached:function(){},methods:{hideMask:function(t){this.properties.maskClose&&t.target.id===t.currentTarget.id&&this.setData({show:!0})},_confirmEvent:function(t){this.triggerEvent("confirmEvent"),this.properties.btnClose&&this.setData({show:!1})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-account-combine/index.js'});require("components/cy-account-combine/index.js");$gwx_XC_7=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_7 || [];
function gz$gwx_XC_7_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_7_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_7_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_7_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'current']],[3,'src']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_7_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_7_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_7=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_7=true;
var x=['./components/cy-audio/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_7_1()
var lCB=_v()
_(r,lCB)
if(_oz(z,0,e,s,gg)){lCB.wxVkey=1
}
lCB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_7";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_7();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-audio/index.wxml'] = [$gwx_XC_7, './components/cy-audio/index.wxml'];else __wxAppCode__['components/cy-audio/index.wxml'] = $gwx_XC_7( './components/cy-audio/index.wxml' );
	;__wxRoute = "components/cy-audio/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-audio/index.js";define("components/cy-audio/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{audioUrl:{type:String,value:""},title:{type:String,value:"电话录音"},audioDuration:{type:Number,value:""}},data:{playIcon:"https://staff.chunyu.mobi/@/media/images/2021/06/01/ba4d/119e066556bb_w126_h126_.png",pauseIcon:"https://staff.chunyu.mobi/@/media/images/2021/06/01/8956/4c7cf2682556_w60_h60_.png",playStates:!1,startTime:"00:00",endTime:"00:00",duration:0,sliderValue:0,current:{src:""},audioAction:{method:"pause"}},ready:function(){this.setData({current:{src:this.data.audioUrl},endTime:this.formatSeconds(this.data.audioDuration),duration:this.data.audioDuration})},methods:{audioTimeUpdated:function(t){var a=t.detail.duration,i=t.detail.currentTime;console.log("duration",a),console.log("currentTime",i),console.log("this.data.audioDuration",this.data.audioDuration),this.setData({sliderValue:i,startTime:this.formatSeconds(i)})},pauseHandle:function(){this.setData({audioAction:{method:"pause"},playStates:!1})},playEnd:function(){this.init()},playError:function(t){wx.showToast({title:t.errMsg||"音频出错！",duration:500})},audioOpreation:function(t){if(!this.data.audioUrl)return this.init(),void this.triggerEvent("onNoUrlEvent");this.setData({audioAction:{method:this.data.playStates?"pause":"play"}}),this.setData({playStates:!this.data.playStates})},sliderChanging:function(t){this.setData({audioAction:{method:"setCurrentTime",data:t.detail.value},startTime:this.formatSeconds(t.detail.value)})},sliderChange:function(t){if(this.data.duration){if(t.detail.value>=this.data.duration)return void this.init();this.setData({audioAction:{method:"setCurrentTime",data:t.detail.value},startTime:this.formatSeconds(t.detail.value)}),this.setData({audioAction:{method:this.data.playStates?"play":"pause"}})}},init:function(){this.setData({startTime:"00:00",sliderValue:0,audioAction:{method:"setCurrentTime",data:0},current:{src:this.data.audioUrl},endTime:this.formatSeconds(this.data.audioDuration),duration:this.data.audioDuration,playStates:!1}),this.setData({audioAction:{method:"pause"}})},formatSeconds:function(t){var a=Math.round(Number(t)),i=Math.floor(a/3600)<10?"0"+Math.floor(a/3600):Math.floor(a/3600),e=Math.floor(a/60%60)<10?"0"+Math.floor(a/60%60):Math.floor(a/60%60),o=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60),s="";return"00"!==i&&(s+="".concat(i,":")),"00"!==e&&(s+="".concat(e,":")),"00"==i&&"00"==e&&(s+="00:"),s+="".concat(o)}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-audio/index.js'});require("components/cy-audio/index.js");$gwx_XC_8=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_8 || [];
function gz$gwx_XC_8_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_8_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_8_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_8_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'loginSuccess'])
Z([3,'loginFail'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_8_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_8_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_8=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_8=true;
var x=['./components/cy-authorize-login/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_8_1()
var tEB=_mz(z,'cy-userinfo',['bindloginevent',0,'bindloginfail',1],[],e,s,gg)
_(r,tEB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_8";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_8();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-authorize-login/index.wxml'] = [$gwx_XC_8, './components/cy-authorize-login/index.wxml'];else __wxAppCode__['components/cy-authorize-login/index.wxml'] = $gwx_XC_8( './components/cy-authorize-login/index.wxml' );
	;__wxRoute = "components/cy-authorize-login/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-authorize-login/index.js";define("components/cy-authorize-login/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{loginSuccess:function(){this.triggerEvent("loginSuccess")},loginFail:function(){this.triggerEvent("loginFail")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-authorize-login/index.js'});require("components/cy-authorize-login/index.js");$gwx_XC_9=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_9 || [];
function gz$gwx_XC_9_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_9_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_9_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_9_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'loginSuccess'])
Z([3,'loginFail'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_9_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_9_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_9=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_9=true;
var x=['./components/cy-authorize/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_9_1()
var bGB=_mz(z,'cy-userinfo',['bindloginevent',0,'bindloginfail',1],[],e,s,gg)
_(r,bGB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_9";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_9();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-authorize/index.wxml'] = [$gwx_XC_9, './components/cy-authorize/index.wxml'];else __wxAppCode__['components/cy-authorize/index.wxml'] = $gwx_XC_9( './components/cy-authorize/index.wxml' );
	;__wxRoute = "components/cy-authorize/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-authorize/index.js";define("components/cy-authorize/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{loginSuccess:function(){this.triggerEvent("loginSuccess")},loginFail:function(){this.triggerEvent("loginFail")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-authorize/index.js'});require("components/cy-authorize/index.js");$gwx_XC_10=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_10 || [];
function gz$gwx_XC_10_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_10_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_10_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_10_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'dialog-cont-wrap'])
Z([[7],[3,'title']])
Z([[7],[3,'isShowCancelBtn']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_10_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_10_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_10=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_10=true;
var x=['./components/cy-dialog/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_10_1()
var xIB=_n('view')
_rz(z,xIB,'class',0,e,s,gg)
var oJB=_v()
_(xIB,oJB)
if(_oz(z,1,e,s,gg)){oJB.wxVkey=1
}
var fKB=_v()
_(xIB,fKB)
if(_oz(z,2,e,s,gg)){fKB.wxVkey=1
}
oJB.wxXCkey=1
fKB.wxXCkey=1
_(r,xIB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_10";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_10();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-dialog/index.wxml'] = [$gwx_XC_10, './components/cy-dialog/index.wxml'];else __wxAppCode__['components/cy-dialog/index.wxml'] = $gwx_XC_10( './components/cy-dialog/index.wxml' );
	;__wxRoute = "components/cy-dialog/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-dialog/index.js";define("components/cy-dialog/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{title:{type:String,value:""},content:{type:String,value:"挂断后，本次视频问诊结束，不可再次连接"},cancelText:{type:String,value:"暂不结束"},isShowCancelBtn:{type:Boolean,value:!0},confirmText:{type:String,value:"结束问诊"}},methods:{confirmEvent:function(){this.triggerEvent("onTouchConfirm")},cancelEvent:function(){this.triggerEvent("onTouchCancel")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-dialog/index.js'});require("components/cy-dialog/index.js");$gwx_XC_11=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_11 || [];
function gz$gwx_XC_11_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_11_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_11_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_11_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isValid']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_11_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_11_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_11=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_11=true;
var x=['./components/cy-gc-bindphone/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_11_1()
var hMB=_v()
_(r,hMB)
if(_oz(z,0,e,s,gg)){hMB.wxVkey=1
}
hMB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_11";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_11();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-gc-bindphone/index.wxml'] = [$gwx_XC_11, './components/cy-gc-bindphone/index.wxml'];else __wxAppCode__['components/cy-gc-bindphone/index.wxml'] = $gwx_XC_11( './components/cy-gc-bindphone/index.wxml' );
	;__wxRoute = "components/cy-gc-bindphone/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-gc-bindphone/index.js";define("components/cy-gc-bindphone/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{phone:"",isValid:!0},methods:{resetData:function(){this.setData({phone:"",isValid:!0})},getPhone:function(t){this.setData({phone:t.detail.value})},resetValid:function(){this.setData({isValid:!0})},bindPhone:function(){if(!/^1[3|4|5|7|8]\d{9}$/.test(this.data.phone))return this.setData({isValid:!1}),!1;this.triggerEvent("bindPhone",this.data.phone)},cancelBindPhone:function(){this.triggerEvent("cancelBindPhone")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-gc-bindphone/index.js'});require("components/cy-gc-bindphone/index.js");$gwx_XC_12=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_12 || [];
function gz$gwx_XC_12_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_12_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_12_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_12_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'cy-loading-wrap '],[[2,'?:'],[[7],[3,'darkTheme']],[1,'dark-theme'],[1,'']]])
Z([[7],[3,'loading']])
Z([[7],[3,'noResult']])
Z([[2,'?:'],[[2,'==='],[[7],[3,'from']],[1,'search']],[1,'line'],[1,'']])
Z([[2,'==='],[[7],[3,'from']],[1,'search']])
Z(z[4])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_12_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_12_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_12=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_12=true;
var x=['./components/cy-loading/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_12_1()
var cOB=_n('view')
_rz(z,cOB,'class',0,e,s,gg)
var oPB=_v()
_(cOB,oPB)
if(_oz(z,1,e,s,gg)){oPB.wxVkey=1
}
else if(_oz(z,2,e,s,gg)){oPB.wxVkey=2
var lQB=_n('view')
_rz(z,lQB,'class',3,e,s,gg)
var aRB=_v()
_(lQB,aRB)
if(_oz(z,4,e,s,gg)){aRB.wxVkey=1
}
var tSB=_v()
_(lQB,tSB)
if(_oz(z,5,e,s,gg)){tSB.wxVkey=1
}
aRB.wxXCkey=1
tSB.wxXCkey=1
_(oPB,lQB)
}
oPB.wxXCkey=1
_(r,cOB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_12";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_12();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-loading/index.wxml'] = [$gwx_XC_12, './components/cy-loading/index.wxml'];else __wxAppCode__['components/cy-loading/index.wxml'] = $gwx_XC_12( './components/cy-loading/index.wxml' );
	;__wxRoute = "components/cy-loading/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-loading/index.js";define("components/cy-loading/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{imageSrc:String,noResultTip:String,loading:Boolean,noResult:Boolean,darkTheme:Boolean,from:String},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'components/cy-loading/index.js'});require("components/cy-loading/index.js");$gwx_XC_13=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_13 || [];
function gz$gwx_XC_13_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_13_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_13_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_13_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([[7],[3,'tipShow']])
Z([3,'cy-modal-tips-wrap'])
Z([[7],[3,'title']])
Z([3,'content'])
Z(z[4])
Z([[7],[3,'btnText']])
Z([3,'custom-button'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_13_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_13_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_13=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_13=true;
var x=['./components/cy-modal/cy-modal.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_13_1()
var bUB=_v()
_(r,bUB)
if(_oz(z,0,e,s,gg)){bUB.wxVkey=1
var oVB=_v()
_(bUB,oVB)
if(_oz(z,1,e,s,gg)){oVB.wxVkey=1
var xWB=_n('view')
_rz(z,xWB,'class',2,e,s,gg)
var oXB=_v()
_(xWB,oXB)
if(_oz(z,3,e,s,gg)){oXB.wxVkey=1
}
var cZB=_mz(z,'slot',['id',4,'name',1],[],e,s,gg)
_(xWB,cZB)
var fYB=_v()
_(xWB,fYB)
if(_oz(z,6,e,s,gg)){fYB.wxVkey=1
}
else{fYB.wxVkey=2
var h1B=_n('slot')
_rz(z,h1B,'name',7,e,s,gg)
_(fYB,h1B)
}
oXB.wxXCkey=1
fYB.wxXCkey=1
_(oVB,xWB)
}
oVB.wxXCkey=1
}
bUB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_13";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_13();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-modal/cy-modal.wxml'] = [$gwx_XC_13, './components/cy-modal/cy-modal.wxml'];else __wxAppCode__['components/cy-modal/cy-modal.wxml'] = $gwx_XC_13( './components/cy-modal/cy-modal.wxml' );
	;__wxRoute = "components/cy-modal/cy-modal";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-modal/cy-modal.js";define("components/cy-modal/cy-modal.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({externalClasses:["my-class"],options:{multipleSlots:!0,addGlobalClass:!0},properties:{title:String,content:String,icon:String,show:Boolean,maskClose:{type:Boolean,value:!0},btnClose:{type:Boolean,value:!0},btnText:{type:String,value:"确定"}},data:{tipShow:!0,maskShow:!0},attached:function(){},moved:function(){},detached:function(){},methods:{hideMask:function(t){this.properties.maskClose&&t.target.id===t.currentTarget.id&&this.setData({show:!1})},_confirmEvent:function(t){this.triggerEvent("confirmEvent"),this.properties.btnClose&&this.setData({show:!1})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-modal/cy-modal.js'});require("components/cy-modal/cy-modal.js");$gwx_XC_14=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_14 || [];
function gz$gwx_XC_14_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_14_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_14_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_14_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'formSubmit'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_14_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_14_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_14=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_14=true;
var x=['./components/cy-navigator/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_14_1()
var c3B=_mz(z,'form',['reportSubmit',-1,'bindsubmit',0],[],e,s,gg)
var o4B=_n('slot')
_(c3B,o4B)
_(r,c3B)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_14";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_14();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-navigator/index.wxml'] = [$gwx_XC_14, './components/cy-navigator/index.wxml'];else __wxAppCode__['components/cy-navigator/index.wxml'] = $gwx_XC_14( './components/cy-navigator/index.wxml' );
	;__wxRoute = "components/cy-navigator/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-navigator/index.js";define("components/cy-navigator/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({externalClasses:[],options:{},properties:{url:String,openType:String,isSend:Boolean},data:{url:"",openType:"navigateTo",isSend:!1},methods:{formSubmit:function(t){var e=t.detail.formId,n=this.data.url,o=this.data.openType||"navigateTo",a={formId:e};this.triggerEvent("mytap",a,{}),n&&wx[o]({url:n})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-navigator/index.js'});require("components/cy-navigator/index.js");$gwx_XC_15=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_15 || [];
function gz$gwx_XC_15_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_15_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'top-search-inner'])
Z([[7],[3,'showIcon']])
Z([[7],[3,'showClear']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_15_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_15=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_15=true;
var x=['./components/cy-search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_15_1()
var a6B=_n('view')
_rz(z,a6B,'class',0,e,s,gg)
var t7B=_v()
_(a6B,t7B)
if(_oz(z,1,e,s,gg)){t7B.wxVkey=1
}
var e8B=_v()
_(a6B,e8B)
if(_oz(z,2,e,s,gg)){e8B.wxVkey=1
}
t7B.wxXCkey=1
e8B.wxXCkey=1
_(r,a6B)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_15";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_15();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-search/index.wxml'] = [$gwx_XC_15, './components/cy-search/index.wxml'];else __wxAppCode__['components/cy-search/index.wxml'] = $gwx_XC_15( './components/cy-search/index.wxml' );
	;__wxRoute = "components/cy-search/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-search/index.js";define("components/cy-search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{query:{type:String,value:""},placeholder:{type:String,value:"按症状、疾病、医院、科室、医生名"},showIcon:{type:Boolean,value:!0},width:{type:Number,value:750},paddingLeft:{type:Number,value:20},focus:{type:Boolean,value:!1},showClear:{type:Boolean,value:!0}},data:{},methods:{inputEvent:function(e){var t=e.detail.value;this.setData({query:t}),this.triggerEvent("inputEvent",t)},clearValue:function(){this.setData({query:"",focus:!0}),this.triggerEvent("inputEvent",this.data.query)},confirmEvent:function(e){var t=e.detail.value;this.triggerEvent("confirmEvent",t)},focusEvent:function(){this.triggerEvent("focusEvent")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-search/index.js'});require("components/cy-search/index.js");$gwx_XC_16=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_16 || [];
function gz$gwx_XC_16_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_16_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_16_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_16_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_16_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_16_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_16=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_16=true;
var x=['./components/cy-tab/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_16_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_16";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_16();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-tab/index.wxml'] = [$gwx_XC_16, './components/cy-tab/index.wxml'];else __wxAppCode__['components/cy-tab/index.wxml'] = $gwx_XC_16( './components/cy-tab/index.wxml' );
	;__wxRoute = "components/cy-tab/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-tab/index.js";define("components/cy-tab/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{tabList:Array,selectedIndex:{type:Number,value:0,observer:"_selectedIndexChange"}},data:{borderStyle:""},ready:function(){this._selectedIndexChange(this.data.selectedIndex)},methods:{tapItem:function(e){var t=e.currentTarget.dataset.index;this.setData({selectedIndex:t}),this.triggerEvent("selectedChangeEvent",{index:t})},_computeBorder:function(e){var t=this,n=this.createSelectorQuery();n.select("#tab-item".concat(e)).boundingClientRect(),n.exec((function(e){var n=e[0],a=n.left,r=n.width;t.setData({borderStyle:"transform:translate(".concat(a,"px,0);width:").concat(r,"px")})}))},_selectedIndexChange:function(e,t){e!==t&&this._computeBorder(e)}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-tab/index.js'});require("components/cy-tab/index.js");$gwx_XC_17=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_17 || [];
function gz$gwx_XC_17_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_17_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_17_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_17_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'showBubble']],[[2,'!'],[[7],[3,'hideTabbarCard']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_17_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_17_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_17=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_17=true;
var x=['./components/cy-tabbar-card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_17_1()
var xAC=_v()
_(r,xAC)
if(_oz(z,0,e,s,gg)){xAC.wxVkey=1
}
xAC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_17";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_17();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-tabbar-card/index.wxml'] = [$gwx_XC_17, './components/cy-tabbar-card/index.wxml'];else __wxAppCode__['components/cy-tabbar-card/index.wxml'] = $gwx_XC_17( './components/cy-tabbar-card/index.wxml' );
	;__wxRoute = "components/cy-tabbar-card/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-tabbar-card/index.js";define("components/cy-tabbar-card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,e=getApp(),o="".concat(a,"/user_operation/common/tab_config/?version=10.0.0");Component({properties:{imageUrl:String,hideTabbarCard:{type:Boolean,default:!1}},data:{url:"",showBubble:!1},lifetimes:{attached:function(){var t=wx.getStorageSync("hide_tabbar_card");console.log("hide_tabbar_card",t),null!=t&&t.hide||this.tabConfig()}},methods:{tabConfig:function(){var t=this;wx.request({url:o,method:"GET",success:function(a){var o=a.data,i=void 0===o?{}:o;if(0===i.error_code){var r,n,s=i.tab_list.filter((function(t){return"健康+"===t.text}));if(t.setData({showBubble:!(null===(r=s[0])||void 0===r||!r.bubble_img_url)}),console.log("bubble",t.data.showBubble),t.setData({imageUrl:null===(n=s[0])||void 0===n?void 0:n.bubble_img_url}),t.data.showBubble)!wx.getStorageSync("hide_tabbar_card")&&wx.setStorageSync("hide_tabbar_card",{hide:!1}),e.sensors.track("AdShow",{app:"weixin_mini",ad_position:"健康+tab"}),console.log("dadian")}else t.setData({imageUrl:""})},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"})}})},pointEvent:function(){var a={platform_source:"weixin_mini",first_login:e.globalData.isFirstAuthorized?"是":"否",from_type:"自然增长来的用户"},o=wx.getStorageSync("authorizationPointData")||{},i=Object.assign(a,o);t("Authorization",i),wx.removeStorage({key:"authorizationPointData"})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-tabbar-card/index.js'});require("components/cy-tabbar-card/index.js");$gwx_XC_18=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_18 || [];
function gz$gwx_XC_18_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_18_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'waiting']]])
Z([a,[3,'talk-wrap  talk-wrap-'],[[2,'?:'],[[2,'=='],[[7],[3,'direction']],[1,'right']],[1,'right'],[1,'left']]])
Z([[2,'=='],[[7],[3,'direction']],[1,'left']])
Z([3,'bubble'])
Z([[2,'||'],[[2,'!'],[[7],[3,'loading']]],[[2,'=='],[[7],[3,'direction']],[1,'right']]])
Z([3,'content'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_18_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_18_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_18=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_18=true;
var x=['./components/cy-talk/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_18_1()
var fCC=_v()
_(r,fCC)
if(_oz(z,0,e,s,gg)){fCC.wxVkey=1
var cDC=_n('view')
_rz(z,cDC,'class',1,e,s,gg)
var hEC=_v()
_(cDC,hEC)
if(_oz(z,2,e,s,gg)){hEC.wxVkey=1
}
var oFC=_n('view')
_rz(z,oFC,'class',3,e,s,gg)
var cGC=_v()
_(oFC,cGC)
if(_oz(z,4,e,s,gg)){cGC.wxVkey=1
var oHC=_n('slot')
_rz(z,oHC,'name',5,e,s,gg)
_(cGC,oHC)
}
else{cGC.wxVkey=2
}
cGC.wxXCkey=1
_(cDC,oFC)
hEC.wxXCkey=1
_(fCC,cDC)
}
fCC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_18";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_18();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-talk/index.wxml'] = [$gwx_XC_18, './components/cy-talk/index.wxml'];else __wxAppCode__['components/cy-talk/index.wxml'] = $gwx_XC_18( './components/cy-talk/index.wxml' );
	;__wxRoute = "components/cy-talk/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-talk/index.js";define("components/cy-talk/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({externalClasses:[],options:{multipleSlots:!0},properties:{direction:String,words:String,loadingTime:Number},data:{loading:!0,waiting:!0},ready:function(){this._laodingSet()},methods:{_laodingSet:function(t){var e=this;(t=t||e.properties.loadingTime)>1?setTimeout((function(){--t,e._laodingSet(t)}),1e3):(e.setData({waiting:!1}),e.triggerEvent("appendPop"),setTimeout((function(){e.setData({loading:!1}),e.triggerEvent("appendPop")}),1e3))}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-talk/index.js'});require("components/cy-talk/index.js");$gwx_XC_19=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_19 || [];
function gz$gwx_XC_19_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_19_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_19_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_19_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'topTipShow']],[[7],[3,'innerTipStatue']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_19_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_19_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_19=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_19=true;
var x=['./components/cy-top-tip/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_19_1()
var aJC=_v()
_(r,aJC)
if(_oz(z,0,e,s,gg)){aJC.wxVkey=1
}
aJC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_19";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_19();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-top-tip/index.wxml'] = [$gwx_XC_19, './components/cy-top-tip/index.wxml'];else __wxAppCode__['components/cy-top-tip/index.wxml'] = $gwx_XC_19( './components/cy-top-tip/index.wxml' );
	;__wxRoute = "components/cy-top-tip/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-top-tip/index.js";define("components/cy-top-tip/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{topTipShow:{type:Boolean,value:!0},theme:String},data:{innerTipStatue:!1},ready:function(){this.getTipData()},methods:{getTipData:function(){var t=this;wx.getStorage({key:"SAVETOPTIP",complete:function(e){!0!==e.data&&(t.setData({innerTipStatue:!0}),wx.setStorage({key:"SAVETOPTIP",data:!0}))}})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-top-tip/index.js'});require("components/cy-top-tip/index.js");$gwx_XC_20=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_20 || [];
function gz$gwx_XC_20_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_20_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_20_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_20_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_20_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_20_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_20=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_20=true;
var x=['./components/cy-up2top/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_20_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_20";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_20();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-up2top/index.wxml'] = [$gwx_XC_20, './components/cy-up2top/index.wxml'];else __wxAppCode__['components/cy-up2top/index.wxml'] = $gwx_XC_20( './components/cy-up2top/index.wxml' );
	;__wxRoute = "components/cy-up2top/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-up2top/index.js";define("components/cy-up2top/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{upToTop:function(){this.triggerEvent("upToTop")}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-up2top/index.js'});require("components/cy-up2top/index.js");$gwx_XC_21=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_21 || [];
function gz$gwx_XC_21_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_21_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_21_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_21_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'canIUseGetUserProfile']])
Z([3,'bindgetuserProfile'])
Z([3,'cy-userinfo'])
Z([3,'bindgetuserInfo'])
Z(z[2])
Z([3,'getUserInfo'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_21_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_21_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_21=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_21=true;
var x=['./components/cy-userinfo/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_21_1()
var bMC=_v()
_(r,bMC)
if(_oz(z,0,e,s,gg)){bMC.wxVkey=1
var oNC=_mz(z,'button',['bindtap',1,'class',1],[],e,s,gg)
var xOC=_n('slot')
_(oNC,xOC)
_(bMC,oNC)
}
else{bMC.wxVkey=2
var oPC=_mz(z,'button',['bindgetuserinfo',3,'class',1,'openType',2],[],e,s,gg)
var fQC=_n('slot')
_(oPC,fQC)
_(bMC,oPC)
}
bMC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_21";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_21();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-userinfo/index.wxml'] = [$gwx_XC_21, './components/cy-userinfo/index.wxml'];else __wxAppCode__['components/cy-userinfo/index.wxml'] = $gwx_XC_21( './components/cy-userinfo/index.wxml' );
	;__wxRoute = "components/cy-userinfo/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-userinfo/index.js";define("components/cy-userinfo/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../A9EAB7C2829A079CCF8CDFC58A3C7B70.js").appLogin,e=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,i=getApp();Component({properties:{url:String,openType:{type:String,value:"navigateTo"}},data:{canIUseGetUserProfile:!1},lifetimes:{attached:function(){wx.getUserProfile&&this.setData({canIUseGetUserProfile:!0})}},methods:{beforeLogin:function(){var t=this;return new Promise((function(e,n){var o={},r={};i.globalData.appIsLogin.then((function(){t.triggerEvent("loginevent",o,r);var e=t.data.url,i=t.data.openType;e&&wx[i]({url:e})})).catch((function(){return n()}))}))},bindgetuserProfile:function(){var t=this;this.triggerEvent("click-on-user-info"),this.beforeLogin().catch((function(){wx.getUserProfile({desc:"获取用户基本信息以登录",success:function(e){try{wx.setStorageSync("ProfileUserInfo",e.userInfo)}catch(t){console.log("存储用户基本信息到本地失败"),console.log(t)}t.loginEvent(e)},fail:function(e){console.log(e||"getUserProfile失败回调"),t.triggerEvent("usernoauthorize")}})}))},bindgetuserInfo:function(t){var e=this;try{wx.setStorageSync("ProfileUserInfo",t.detail.userInfo)}catch(t){console.log("存储用户基本信息到本地失败"),console.log(t)}this.beforeLogin().catch((function(){t.iv=t.detail.iv,t.encryptedData=t.detail.encryptedData,e.loginEvent(t)}))},loginEvent:function(e){var i=this,n=this.data.url,o=this.data.openType,r=e.encryptedData,a=e.iv,s={},l={};i.triggerEvent("isloginevent",s,l),wx.showToast({title:"正在登录",icon:"loading"}),r&&a?t({success:function(){i.pointEvent(),i.triggerEvent("loginevent",s,l),wx.showToast({title:"登录成功"}),n&&wx[o]({url:n})},fail:function(){i.triggerEvent("loginfail",s,l)},encryptedData:r,iv:a}):i.triggerEvent("loginfail",s,l)},pointEvent:function(){var t={platform_source:"weixin_mini",first_login:i.globalData.isFirstAuthorized?"是":"否",from_type:"自然增长来的用户"},n=wx.getStorageSync("authorizationPointData")||{},o=Object.assign(t,n);e("Authorization",o),wx.removeStorage({key:"authorizationPointData"})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-userinfo/index.js'});require("components/cy-userinfo/index.js");$gwx_XC_22=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_22 || [];
function gz$gwx_XC_22_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_22_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_22_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_22_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'isVipSelected']],[[2,'!'],[[7],[3,'isVipAgreementSelected']]]])
Z([[7],[3,'_isPopShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_22_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_22_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_22=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_22=true;
var x=['./components/cy-vip/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_22_1()
var hSC=_v()
_(r,hSC)
if(_oz(z,0,e,s,gg)){hSC.wxVkey=1
}
var oTC=_v()
_(r,oTC)
if(_oz(z,1,e,s,gg)){oTC.wxVkey=1
}
hSC.wxXCkey=1
oTC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_22";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_22();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy-vip/index.wxml'] = [$gwx_XC_22, './components/cy-vip/index.wxml'];else __wxAppCode__['components/cy-vip/index.wxml'] = $gwx_XC_22( './components/cy-vip/index.wxml' );
	;__wxRoute = "components/cy-vip/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy-vip/index.js";define("components/cy-vip/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{vipInfo:{type:Object,value:{}},isVisibleArguments:{type:Boolean,vaule:!0},abstractList:{type:Array,value:[]},benefitsCount:{type:Number,value:0},benefitsList:{type:Array,value:[]},isVipSelected:{type:Boolean,value:!1},isVipAgreementSelected:{type:Boolean,value:!1}},data:{_isPopShow:!1,_selectedIcon:"https://static.chunyuyisheng.com/@/chunyu_mini/selected.png",_noSelectedIcon:"https://static.chunyuyisheng.com/@/chunyu_mini/noselect.png",_selectedArgeementIcon:"https://resource.chunyu.mobi/@/media/images/2022/12/26/3755/c70b2b6115d2_w42_h42_.png",_noSelectedArgeementIcon:"https://resource.chunyu.mobi/@/media/images/2022/12/26/2c0e/7c1358854a38_w42_h42_.png"},methods:{_showPop:function(){this.setData({_isPopShow:!0})},_hidePop:function(){this.setData({_isPopShow:!1})},_changeVipStatus:function(){this.triggerEvent("vipStatusChange")},_changeVipArgeemment:function(){this.triggerEvent("agreementStatusChange")},goArgument:function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent("https://weixin.chunyuyisheng.com/api/wx_group/vip/service_agreement/"))})}}});
},{isPage:false,isComponent:true,currentFile:'components/cy-vip/index.js'});require("components/cy-vip/index.js");$gwx_XC_23=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_23 || [];
function gz$gwx_XC_23_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_23_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_23_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_23_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldComponentShow']])
Z([3,'getPhoneNumber'])
Z([3,'remove-native-class'])
Z(z[1])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_23_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_23_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_23=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_23=true;
var x=['./components/cy_user_phone/cy_user_phone.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_23_1()
var oVC=_v()
_(r,oVC)
if(_oz(z,0,e,s,gg)){oVC.wxVkey=1
var lWC=_mz(z,'button',['bindgetphonenumber',1,'class',1,'openType',2],[],e,s,gg)
var aXC=_n('slot')
_(lWC,aXC)
_(oVC,lWC)
}
oVC.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_23";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_23();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/cy_user_phone/cy_user_phone.wxml'] = [$gwx_XC_23, './components/cy_user_phone/cy_user_phone.wxml'];else __wxAppCode__['components/cy_user_phone/cy_user_phone.wxml'] = $gwx_XC_23( './components/cy_user_phone/cy_user_phone.wxml' );
	;__wxRoute = "components/cy_user_phone/cy_user_phone";__wxRouteBegin = true;__wxAppCurrentFile__="components/cy_user_phone/cy_user_phone.js";define("components/cy_user_phone/cy_user_phone.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../43A2F676829A079C25C49E711B4C7B70.js"),o=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),a=t.baseUrl+"/cooperation/wap/wx_mini_bind_phone/",i=t.baseUrl+"/cooperation/wap/new_wx_mini_bind_phone/",s=t.baseUrl+"/cooperation/wap/is_user_login/";Component({data:{shouldComponentShow:!1,hasUserBindPhone:!1,hasClosedInSameDay:!1},pageLifetimes:{show:function(){this.init()}},methods:{init:function(){var e=this;console.log(this.isSameDay()),this.setData({hasClosedInSameDay:this.isSameDay()}),(0,n.manualLogin)().then((function(){e.userLoginFunc()})).catch((function(){e.userLoginFunc()}))},userLoginFunc:function(){var e=this;(0,o.default)({url:s,success:function(t){t.data.use_cellphone||e.data.hasClosedInSameDay||e.setData({shouldComponentShow:!0})}})},getPhoneNumber:function(e){this.setData({shouldComponentShow:!1});var t=e.detail;t.encryptedData&&t.iv?this.oldFunc(t.encryptedData,t.iv):t.code?this.newFunc(t.code):t.errMsg&&(wx.setStorageSync("HIDE_PHONE_TIME",(new Date).getTime()),this.setData({shouldComponentShow:!1}))},oldFunc:function(e,t){var o=this;console.log("old api"),(0,n.manualLogin)().then((function(){o.oldLoginCbFunc(e,t)}))},oldLoginCbFunc:function(e,t){var n=this;(0,o.default)({url:a,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{encryptedData:e,iv:t,app:"weixin_mini"},success:function(e){0===e.data.error_code?(n.setData({shouldComponentShow:!1}),wx.showToast({icon:"none",title:"绑定成功"})):wx.showToast({icon:"none",title:e.data.error_msg||"绑定失败"})}})},newFunc:function(e){var t=this;console.log("new api"),(0,o.default)({url:i,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:e,app:"weixin_mini"},success:function(e){0===e.data.error_code?(t.setData({shouldComponentShow:!1}),e.data.result.sessionid&&(0,n.updateSessionid)(e.data.result.sessionid),wx.showToast({icon:"none",title:"绑定成功"})):wx.showToast({icon:"none",title:e.data.error_msg||"绑定失败"})}})},isSameDay:function(){var e=wx.getStorageSync("HIDE_PHONE_TIME");return!(!e||!this.checkSameDate(e,(new Date).getTime()))},checkSameDate:function(e,t){return e=new Date(e),t=new Date(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}}});
},{isPage:false,isComponent:true,currentFile:'components/cy_user_phone/cy_user_phone.js'});require("components/cy_user_phone/cy_user_phone.js");$gwx_XC_24=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_24 || [];
function gz$gwx_XC_24_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_24_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_24_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_24_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'trackAskDoctor'])
Z([3,'flex-item-holder first-item'])
Z([[7],[3,'canAskDoctor']])
Z([a,[3,'/pages/doc_mainpage/index?doc_id\x3d'],[[7],[3,'docId']],[3,'\x26from_visit_page\x3d'],[[7],[3,'visitPageName']]])
Z([[7],[3,'showDiscountBadge']])
Z([a,[3,'/pages/find_doctor_list/index?clinic_name\x3d'],[[7],[3,'clinic']],[3,'\x26first_clinic_no\x3d'],[[7],[3,'clinicNo']],[3,'\x26second_clinic_no\x3d'],[[7],[3,'subClinicNo']],[3,'\x26show_item_type_id\x3d2\x26from_visit_page\x3d'],z[3][4]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_24_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_24_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_24=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_24=true;
var x=['./components/detail-page-footer/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_24_1()
var eZC=_mz(z,'view',['bindtap',0,'class',1],[],e,s,gg)
var b1C=_v()
_(eZC,b1C)
if(_oz(z,2,e,s,gg)){b1C.wxVkey=1
var o2C=_n('cy-userinfo')
_rz(z,o2C,'url',3,e,s,gg)
var x3C=_v()
_(o2C,x3C)
if(_oz(z,4,e,s,gg)){x3C.wxVkey=1
}
x3C.wxXCkey=1
_(b1C,o2C)
}
else{b1C.wxVkey=2
var o4C=_n('cy-userinfo')
_rz(z,o4C,'url',5,e,s,gg)
_(b1C,o4C)
}
b1C.wxXCkey=1
b1C.wxXCkey=3
b1C.wxXCkey=3
_(r,eZC)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_24";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_24();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/detail-page-footer/index.wxml'] = [$gwx_XC_24, './components/detail-page-footer/index.wxml'];else __wxAppCode__['components/detail-page-footer/index.wxml'] = $gwx_XC_24( './components/detail-page-footer/index.wxml' );
	;__wxRoute = "components/detail-page-footer/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/detail-page-footer/index.js";define("components/detail-page-footer/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../@babel/runtime/regenerator")),t=require("../../@babel/runtime/helpers/asyncToGenerator"),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o=getApp(),a="".concat(i,"/api/v7/new_user/get_doc_dis_coupon/");Component({options:{styleIsolation:"isolated",virtualHost:!0},properties:{canAskDoctor:{type:Boolean,value:!1},docId:{type:String,value:""},doctorName:{type:String,value:""},clinic:{type:String,value:""},fromType:{type:String,value:""},clinicNo:{type:String,value:""},subClinicNo:{type:String,value:""},fromQa:{type:Boolean,value:!1},shouldShowDiscoutTag:{type:Boolean,value:!1},showDiscountBadge:{type:Boolean,value:!1},visitPageName:{type:String,value:""}},methods:{trackFastQa:function(){var i=this;return t(e.default.mark((function t(){return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.data.showDiscountBadge){e.next=3;break}return e.next=3,i.getDocDisCoupon();case 3:o.sensors.track("AppClick",{app:"weixin_mini",click_position:"快速提问-内容详情页",source_type:i.data.fromType}),wx.navigateTo({url:"/pages/inquery/inquery?from_page=fast_qa"});case 5:case"end":return e.stop()}}),t)})))()},trackAskDoctor:function(){console.log("clinic"+this.data.clinic+"clinicNo/id"+this.data.clinicNo),o.sensors.track("AppClick",{app:"weixin_mini",click_position:"咨询医生-内容详情页"})},getDocDisCoupon:function(){var e=this;return new Promise((function(t,i){wx.request({url:a,method:"POST",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:{doctor_id:e.data.docId},success:function(e){t(e.data)},fail:function(e){i(e)}})}))}}});
},{isPage:false,isComponent:true,currentFile:'components/detail-page-footer/index.js'});require("components/detail-page-footer/index.js");$gwx_XC_25=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_25 || [];
function gz$gwx_XC_25_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_25_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_25_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_25_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldRecommendShow']])
Z([[7],[3,'commendList']])
Z([3,'redirect'])
Z([[7],[3,'item']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_25_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_25_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_25=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_25=true;
var x=['./components/detail-recommend-list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_25_1()
var c6C=_v()
_(r,c6C)
if(_oz(z,0,e,s,gg)){c6C.wxVkey=1
var h7C=_v()
_(c6C,h7C)
var o8C=function(o0C,c9C,lAD,gg){
var tCD=_mz(z,'single-topic',['navigateType',2,'topicData',1],[],o0C,c9C,gg)
_(lAD,tCD)
return lAD
}
h7C.wxXCkey=4
_2z(z,1,o8C,e,s,gg,h7C,'item','index','')
}
c6C.wxXCkey=1
c6C.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_25";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_25();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/detail-recommend-list/index.wxml'] = [$gwx_XC_25, './components/detail-recommend-list/index.wxml'];else __wxAppCode__['components/detail-recommend-list/index.wxml'] = $gwx_XC_25( './components/detail-recommend-list/index.wxml' );
	;__wxRoute = "components/detail-recommend-list/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/detail-recommend-list/index.js";define("components/detail-recommend-list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");Component({options:{virtualHost:!0,styleIsolation:"isolated"},properties:{title:{type:String,value:""},contentType:{type:String,value:""},titleId:{type:String,value:""}},data:{requestUrl:"/cooperation/wap/topic_check_similar_list/",shouldRecommendShow:!1},lifetimes:{attached:function(){this.getRecommendList()}},methods:{_isDataReady:function(){var t=this;return new Promise((function(e){var a=setInterval((function(){if(t.data.title&&t.data.contentType)return clearInterval(a),e()}),400)}))},getRecommendList:function(){var a=this;this._isDataReady().then((function(){wx.request({url:e.baseUrl+a.data.requestUrl,method:"GET",timeout:1500,header:{Cookie:t.globalData.sessionid,"Content-Type":"application/json"},data:{id:a.data.titleId,content_type:a.data.contentType},success:function(t){if(200===t.statusCode&&t.data){var e=t.data.similar_list;e&&e.length?a.setData({commendList:e}):a.triggerEvent("no-recommend-content")}},fail:function(t){console.log("获取相关推荐列表失败"),console.log(t)},complete:function(t){if(200===t.statusCode&&t.data){var e=t.data.similar_list;e&&e.length&&a.setData({shouldRecommendShow:!0})}}})}))},track:function(e){try{var a=e.currentTarget.dataset.type,i="";switch(a){case 4:i="一问一答";break;case 2:i="语音话题";break;default:i="文字话题"}console.log(i),t.sensors.track("AppClick",{app:"weixin_mini",click_position:"相关推荐",source_type:i})}catch(t){console.log("相关推荐打点失败",t)}}}});
},{isPage:false,isComponent:true,currentFile:'components/detail-recommend-list/index.js'});require("components/detail-recommend-list/index.js");$gwx_XC_26=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_26 || [];
function gz$gwx_XC_26_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_26_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isActive']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_26_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_26=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_26=true;
var x=['./components/doctor-avatar/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_26_1()
var bED=_v()
_(r,bED)
if(_oz(z,0,e,s,gg)){bED.wxVkey=1
}
bED.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_26";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_26();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/doctor-avatar/index.wxml'] = [$gwx_XC_26, './components/doctor-avatar/index.wxml'];else __wxAppCode__['components/doctor-avatar/index.wxml'] = $gwx_XC_26( './components/doctor-avatar/index.wxml' );
	;__wxRoute = "components/doctor-avatar/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/doctor-avatar/index.js";define("components/doctor-avatar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{avatarUrl:{type:String,value:""},isActive:{type:Boolean,value:!1},size:{type:String,value:"100rpx"},isVip:{type:Boolean,value:!1}}});
},{isPage:false,isComponent:true,currentFile:'components/doctor-avatar/index.js'});require("components/doctor-avatar/index.js");$gwx_XC_27=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_27 || [];
function gz$gwx_XC_27_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_27_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_27_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_27_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'doctor-card-wrap '],[[2,'&&'],[[7],[3,'noFirstDoctor']],[1,'no-first-doctor']],[3,' '],[[2,'&&'],[[7],[3,'isSeo']],[1,'is-seo']],[3,' '],[[2,'?:'],[[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'is_recommend']],[[2,'!'],[[7],[3,'shouldHideExpertBackground']]]],[1,'expert'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'isNormalCard']],[1,''],[1,'small-width-size']]])
Z([[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'is_recommend']],[[7],[3,'isNormalCard']]])
Z([3,'doctor-basic-message'])
Z([[6],[[7],[3,'doctorInfo']],[3,'image']])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_active']])
Z([3,'content'])
Z([[6],[[7],[3,'doctorInfo']],[3,'can_pres']])
Z([3,'doc-honor'])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_3a_hospital']])
Z([[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'is_top_100_hospital']],[[7],[3,'isNormalCard']]])
Z([[7],[3,'isNormalCard']])
Z([[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'new_tags']],[[6],[[6],[[7],[3,'doctorInfo']],[3,'new_tags']],[3,'length']]])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'qa_tags']],[[6],[[6],[[7],[3,'doctorInfo']],[3,'qa_tags']],[3,'length']]],[[7],[3,'isNormalCard']]])
Z(z[10])
Z([[6],[[7],[3,'doctorInfo']],[3,'service_data_list']])
Z([3,'id'])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([3,'doc-out-call-type'])
Z([3,'out-call-type-wrap'])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_rest']])
Z([3,'serviceItem'])
Z([[6],[[7],[3,'doctorInfo']],[3,'service_list']])
Z([3,'index'])
Z([a,[3,'out-call-type-item '],[[2,'&&'],[[2,'!'],[[7],[3,'isNormalCard']]],[1,'out-call-type-item-special']]])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'serviceItem']],[3,'badge_text']],[1,'直拨']],[[6],[[7],[3,'serviceItem']],[3,'show_badge']]])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'serviceItem']],[3,'badge_text']],[1,'需预约']],[[6],[[7],[3,'serviceItem']],[3,'show_badge']]])
Z([[6],[[7],[3,'doctorInfo']],[3,'ad_tag']])
Z([[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'comment_tag']],[[7],[3,'isNormalCard']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_27_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_27_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_27=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_27=true;
var x=['./components/doctor-card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_27_1()
var xGD=_n('view')
_rz(z,xGD,'class',0,e,s,gg)
var oHD=_v()
_(xGD,oHD)
if(_oz(z,1,e,s,gg)){oHD.wxVkey=1
}
var cMD=_n('view')
_rz(z,cMD,'class',2,e,s,gg)
var oND=_mz(z,'doctor-avatar',['avatarUrl',3,'isActive',1],[],e,s,gg)
_(cMD,oND)
var lOD=_n('view')
_rz(z,lOD,'class',5,e,s,gg)
var aPD=_v()
_(lOD,aPD)
if(_oz(z,6,e,s,gg)){aPD.wxVkey=1
}
var tQD=_n('view')
_rz(z,tQD,'class',7,e,s,gg)
var eRD=_v()
_(tQD,eRD)
if(_oz(z,8,e,s,gg)){eRD.wxVkey=1
}
var bSD=_v()
_(tQD,bSD)
if(_oz(z,9,e,s,gg)){bSD.wxVkey=1
}
eRD.wxXCkey=1
bSD.wxXCkey=1
_(lOD,tQD)
aPD.wxXCkey=1
_(cMD,lOD)
_(xGD,cMD)
var fID=_v()
_(xGD,fID)
if(_oz(z,10,e,s,gg)){fID.wxVkey=1
var oTD=_v()
_(fID,oTD)
if(_oz(z,11,e,s,gg)){oTD.wxVkey=1
}
oTD.wxXCkey=1
}
var cJD=_v()
_(xGD,cJD)
if(_oz(z,12,e,s,gg)){cJD.wxVkey=1
}
var hKD=_v()
_(xGD,hKD)
if(_oz(z,13,e,s,gg)){hKD.wxVkey=1
var xUD=_v()
_(hKD,xUD)
var oVD=function(cXD,fWD,hYD,gg){
var c1D=_v()
_(hYD,c1D)
if(_oz(z,16,cXD,fWD,gg)){c1D.wxVkey=1
}
c1D.wxXCkey=1
return hYD
}
xUD.wxXCkey=2
_2z(z,14,oVD,e,s,gg,xUD,'item','index','id')
}
var o2D=_n('view')
_rz(z,o2D,'class',17,e,s,gg)
var a4D=_n('view')
_rz(z,a4D,'class',18,e,s,gg)
var t5D=_v()
_(a4D,t5D)
if(_oz(z,19,e,s,gg)){t5D.wxVkey=1
}
else{t5D.wxVkey=2
var e6D=_v()
_(t5D,e6D)
var b7D=function(x9D,o8D,o0D,gg){
var cBE=_n('view')
_rz(z,cBE,'class',23,x9D,o8D,gg)
var hCE=_v()
_(cBE,hCE)
if(_oz(z,24,x9D,o8D,gg)){hCE.wxVkey=1
}
var oDE=_v()
_(cBE,oDE)
if(_oz(z,25,x9D,o8D,gg)){oDE.wxVkey=1
}
hCE.wxXCkey=1
oDE.wxXCkey=1
_(o0D,cBE)
return o0D
}
e6D.wxXCkey=2
_2z(z,21,b7D,e,s,gg,e6D,'serviceItem','index','index')
}
t5D.wxXCkey=1
_(o2D,a4D)
var l3D=_v()
_(o2D,l3D)
if(_oz(z,26,e,s,gg)){l3D.wxVkey=1
}
l3D.wxXCkey=1
_(xGD,o2D)
var oLD=_v()
_(xGD,oLD)
if(_oz(z,27,e,s,gg)){oLD.wxVkey=1
}
oHD.wxXCkey=1
fID.wxXCkey=1
cJD.wxXCkey=1
hKD.wxXCkey=1
oLD.wxXCkey=1
_(r,xGD)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_27";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_27();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/doctor-card/index.wxml'] = [$gwx_XC_27, './components/doctor-card/index.wxml'];else __wxAppCode__['components/doctor-card/index.wxml'] = $gwx_XC_27( './components/doctor-card/index.wxml' );
	;__wxRoute = "components/doctor-card/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/doctor-card/index.js";define("components/doctor-card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{doctorInfo:{type:Object,value:{}},isNormalCard:{type:Boolean,value:!0},isSeo:{type:Boolean,value:!1},noFirstDoctor:{type:Boolean,value:!1},shouldHideExpertBackground:{type:Boolean,value:!1}},data:{sliced_name:""},lifetimes:{attached:function(){var e=this.data.doctorInfo.name;e.length>4?(e=e.slice(0,4)+"...",this.setData({sliced_name:e})):this.setData({sliced_name:this.data.doctorInfo.name})}}});
},{isPage:false,isComponent:true,currentFile:'components/doctor-card/index.js'});require("components/doctor-card/index.js");$gwx_XC_28=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_28 || [];
function gz$gwx_XC_28_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_28_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_28_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_28_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'trackDoctor'])
Z([3,'navigator-section'])
Z([3,'none'])
Z([a,[3,'/pages/doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'doctorInfo']],[3,'id']],[3,'\x26from_visit_page\x3d'],[[7],[3,'visitPageName']]])
Z([[2,'==='],[[6],[[7],[3,'doctorInfo']],[3,'hospital_level']],[1,'三级甲等']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_28_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_28_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_28=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_28=true;
var x=['./components/doctor-header-detail-page/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_28_1()
var oFE=_mz(z,'navigator',['bindtap',0,'class',1,'hoverClass',1,'url',2],[],e,s,gg)
var lGE=_v()
_(oFE,lGE)
if(_oz(z,4,e,s,gg)){lGE.wxVkey=1
}
lGE.wxXCkey=1
_(r,oFE)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_28";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_28();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/doctor-header-detail-page/index.wxml'] = [$gwx_XC_28, './components/doctor-header-detail-page/index.wxml'];else __wxAppCode__['components/doctor-header-detail-page/index.wxml'] = $gwx_XC_28( './components/doctor-header-detail-page/index.wxml' );
	;__wxRoute = "components/doctor-header-detail-page/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/doctor-header-detail-page/index.js";define("components/doctor-header-detail-page/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=getApp();Component({properties:{doctorInfo:{type:Object,value:function(){}},visitPageName:{type:String,value:""}},methods:{trackDoctor:function(){i.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生信息-内容详情页"})},trackDoctorNew:function(){i.sensors.track("AppClick",{app:"weixin_mini",click_position:"话题页了解医生"})}}});
},{isPage:false,isComponent:true,currentFile:'components/doctor-header-detail-page/index.js'});require("components/doctor-header-detail-page/index.js");$gwx_XC_29=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_29 || [];
function gz$gwx_XC_29_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_29_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_29_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_29_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'topicList']],[3,'length']])
Z([[7],[3,'topicList']])
Z([3,'id'])
Z([3,'trackEvent'])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'jump_url']])
Z([[6],[[7],[3,'item']],[3,'is_top']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_29_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_29_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_29=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_29=true;
var x=['./components/doctor-mainpage-topic/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_29_1()
var tIE=_v()
_(r,tIE)
if(_oz(z,0,e,s,gg)){tIE.wxVkey=1
var eJE=_v()
_(tIE,eJE)
var bKE=function(xME,oLE,oNE,gg){
var cPE=_mz(z,'navigator',['bind:tap',3,'data-index',1,'url',2],[],xME,oLE,gg)
var hQE=_v()
_(cPE,hQE)
if(_oz(z,6,xME,oLE,gg)){hQE.wxVkey=1
}
hQE.wxXCkey=1
_(oNE,cPE)
return oNE
}
eJE.wxXCkey=2
_2z(z,1,bKE,e,s,gg,eJE,'item','index','id')
}
tIE.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_29";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_29();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/doctor-mainpage-topic/index.wxml'] = [$gwx_XC_29, './components/doctor-mainpage-topic/index.wxml'];else __wxAppCode__['components/doctor-mainpage-topic/index.wxml'] = $gwx_XC_29( './components/doctor-mainpage-topic/index.wxml' );
	;__wxRoute = "components/doctor-mainpage-topic/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/doctor-mainpage-topic/index.js";define("components/doctor-mainpage-topic/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e="".concat(t.baseUrl,"/cooperation/wap/doctor_homepage_topic/list");Component({properties:{doctorId:{type:String,value:""},visitPageName:{type:String,value:""}},data:{topicList:[]},observers:{doctorId:function(t){t&&this.getTopicList()}},methods:{getTopicList:function(){var t=this;wx.request({url:e,data:{doctor_id:this.data.doctorId},success:function(e){if(e.data&&0===e.data.error_code){var o=e.data.topic_list;if(o&&o.length){var i=o.filter((function(t,e){return e<=3}));i.forEach((function(t){2===t.topic_content_type?(t.topicContentTypeText="语音",t.icon="https://resourced.chunyu.mobi/Uu4AAABvB-lIl3oW-3647a560-6a40-4edb-814d-8a53b76f7862_w24_h24_.png"):1===t.topic_content_type?(t.topicContentTypeText="图文",t.icon="https://resourced.chunyu.mobi/mQ4AAADvBelIl3oW-307f030f-71ad-43fd-a190-02682fbebdc8_w24_h24_.png"):(t.topicContentTypeText="简答",t.icon="https://resourced.chunyu.mobi/daAAAAAtEulIl3oW-352d9ebb-b901-4920-adbc-9f685c3993ab_w24_h24_.png")})),t.setData({topicList:i}),console.log(t.data.topicList)}}},complete:function(){console.log("complete")}})},trackEvent:function(t){var e=t.currentTarget.dataset.index;if(this.data.topicList[e]){var o={app:"weixin_mini",click_position:"专家科普卡片",page_readable_name:"医生主页",click_position_value:this.data.topicList[e].title};getApp().sensors.track("AppClick",o)}},trackMoreList:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"专家科普查看全部",page_readable_name:"医生主页"})}}});
},{isPage:false,isComponent:true,currentFile:'components/doctor-mainpage-topic/index.js'});require("components/doctor-mainpage-topic/index.js");$gwx_XC_30=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_30 || [];
function gz$gwx_XC_30_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_30_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_30_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_30_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onClickDoctorService'])
Z([3,'single-doctor'])
Z([[7],[3,'listIndex']])
Z([3,'id'])
Z([[6],[[7],[3,'doctorDetail']],[3,'is_recommend']])
Z([3,'doctor-detail-section'])
Z([[6],[[7],[3,'doctorDetail']],[3,'image']])
Z([[6],[[7],[3,'doctorDetail']],[3,'is_active']])
Z([3,'doctor-info detail-section-right'])
Z([[6],[[7],[3,'doctorDetail']],[3,'can_pres']])
Z([3,'right-bottom'])
Z([[6],[[7],[3,'doctorDetail']],[3,'is_3a_hospital']])
Z([[6],[[7],[3,'doctorDetail']],[3,'is_top_100_hospital']])
Z([[2,'&&'],[[6],[[7],[3,'doctorDetail']],[3,'qa_tags']],[[6],[[6],[[7],[3,'doctorDetail']],[3,'qa_tags']],[3,'length']]])
Z([a,[3,'pricing-section '],[[2,'?:'],[[7],[3,'isLast']],[1,'last'],[1,'']]])
Z([[2,'!'],[[7],[3,'reversePricingSection']]])
Z([[6],[[7],[3,'doctorDetail']],[3,'relation_tag']])
Z([3,'serviceIndex'])
Z([3,'service'])
Z([[6],[[7],[3,'doctorDetail']],[3,'service_data_list']])
Z([3,'name'])
Z([a,[3,'service-data '],[[2,'?:'],[[2,'==='],[[7],[3,'serviceIndex']],[1,0]],[1,'first'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'reversePricingSection']],[1,'to-left'],[1,'']]])
Z([[6],[[7],[3,'service']],[3,'icon']])
Z([[2,'<'],[[2,'+'],[[7],[3,'serviceIndex']],[1,1]],[[6],[[6],[[7],[3,'doctorDetail']],[3,'service_data_list']],[3,'length']]])
Z([[7],[3,'reversePricingSection']])
Z([[7],[3,'shouldSelectIconShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_30_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_30_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_30=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_30=true;
var x=['./components/doctor-service-card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_30_1()
var cSE=_mz(z,'view',['bind:tap',0,'class',1,'data-doctor-index',1],[],e,s,gg)
var oTE=_v()
_(cSE,oTE)
if(_oz(z,4,e,s,gg)){oTE.wxVkey=1
}
var tWE=_n('view')
_rz(z,tWE,'class',5,e,s,gg)
var eXE=_mz(z,'doctor-avatar',['avatarUrl',6,'isActive',1],[],e,s,gg)
_(tWE,eXE)
var bYE=_n('view')
_rz(z,bYE,'class',8,e,s,gg)
var oZE=_v()
_(bYE,oZE)
if(_oz(z,9,e,s,gg)){oZE.wxVkey=1
}
var x1E=_n('view')
_rz(z,x1E,'class',10,e,s,gg)
var o2E=_v()
_(x1E,o2E)
if(_oz(z,11,e,s,gg)){o2E.wxVkey=1
}
var f3E=_v()
_(x1E,f3E)
if(_oz(z,12,e,s,gg)){f3E.wxVkey=1
}
o2E.wxXCkey=1
f3E.wxXCkey=1
_(bYE,x1E)
oZE.wxXCkey=1
_(tWE,bYE)
_(cSE,tWE)
var lUE=_v()
_(cSE,lUE)
if(_oz(z,13,e,s,gg)){lUE.wxVkey=1
}
var c4E=_n('view')
_rz(z,c4E,'class',14,e,s,gg)
var h5E=_v()
_(c4E,h5E)
if(_oz(z,15,e,s,gg)){h5E.wxVkey=1
}
var o6E=_v()
_(c4E,o6E)
if(_oz(z,16,e,s,gg)){o6E.wxVkey=1
}
var o8E=_v()
_(c4E,o8E)
var l9E=function(tAF,a0E,eBF,gg){
var oDF=_n('view')
_rz(z,oDF,'class',21,tAF,a0E,gg)
var xEF=_v()
_(oDF,xEF)
if(_oz(z,22,tAF,a0E,gg)){xEF.wxVkey=1
}
var oFF=_v()
_(oDF,oFF)
if(_oz(z,23,tAF,a0E,gg)){oFF.wxVkey=1
}
xEF.wxXCkey=1
oFF.wxXCkey=1
_(eBF,oDF)
return eBF
}
o8E.wxXCkey=2
_2z(z,19,l9E,e,s,gg,o8E,'service','serviceIndex','name')
var c7E=_v()
_(c4E,c7E)
if(_oz(z,24,e,s,gg)){c7E.wxVkey=1
}
h5E.wxXCkey=1
o6E.wxXCkey=1
c7E.wxXCkey=1
_(cSE,c4E)
var aVE=_v()
_(cSE,aVE)
if(_oz(z,25,e,s,gg)){aVE.wxVkey=1
}
oTE.wxXCkey=1
lUE.wxXCkey=1
aVE.wxXCkey=1
_(r,cSE)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_30";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_30();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/doctor-service-card/index.wxml'] = [$gwx_XC_30, './components/doctor-service-card/index.wxml'];else __wxAppCode__['components/doctor-service-card/index.wxml'] = $gwx_XC_30( './components/doctor-service-card/index.wxml' );
	;__wxRoute = "components/doctor-service-card/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/doctor-service-card/index.js";define("components/doctor-service-card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e={find_doc_fast:{shouldSelectIconShow:!1},default:{shouldSelectIconShow:!0},qa_im_multiple_ask:{shouldSelectIconShow:!0},to_doc_refund:{shouldSelectIconShow:!0},paid_clinic:{shouldSelectIconShow:!1}};Component({properties:{doctorDetail:{type:Object,value:""},listIndex:{type:Number,value:0},scene:{type:String,value:"default"},isLast:{type:Boolean,value:!1},reversePricingSection:{type:Boolean,value:!1}},observers:{scene:function(t){t&&this.setData({shouldSelectIconShow:e[t].shouldSelectIconShow})}},lifetimes:{attached:function(){var e=this.data.doctorDetail.name;e.length>4?(e=e.slice(0,4)+"...",this.setData({sliced_name:e})):this.setData({sliced_name:this.data.doctorDetail.name})}},data:{shouldSelectIconShow:!0,sliced_name:""},methods:{onClickDoctorService:function(){this.setData({"doctorDetail.is_selected":!this.data.doctorDetail.is_selected}),this.triggerEvent("click-on-doctor-service",{doctorDetail:this.data.doctorDetail,listIndex:this.data.listIndex})}}});
},{isPage:false,isComponent:true,currentFile:'components/doctor-service-card/index.js'});require("components/doctor-service-card/index.js");$gwx_XC_31=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_31 || [];
function gz$gwx_XC_31_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_31_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_31_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_31_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_31_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_31_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_31=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_31=true;
var x=['./components/empty/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_31_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_31";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_31();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/empty/index.wxml'] = [$gwx_XC_31, './components/empty/index.wxml'];else __wxAppCode__['components/empty/index.wxml'] = $gwx_XC_31( './components/empty/index.wxml' );
	;__wxRoute = "components/empty/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/empty/index.js";define("components/empty/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'components/empty/index.js'});require("components/empty/index.js");$gwx_XC_32=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_32 || [];
function gz$gwx_XC_32_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_32_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'topic-holder'])
Z([[7],[3,'topicList']])
Z([3,'id'])
Z([3,'mainPage'])
Z([[7],[3,'item']])
Z([[7],[3,'isLoading']])
Z([[2,'!'],[[6],[[7],[3,'topicList']],[3,'length']]])
Z([3,'暂无资讯'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_32_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_32_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_32=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_32=true;
var x=['./components/first-page-topic-list-new/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_32_1()
var hIF=_n('view')
_rz(z,hIF,'class',0,e,s,gg)
var oJF=_v()
_(hIF,oJF)
var cKF=function(lMF,oLF,aNF,gg){
var ePF=_mz(z,'single-topic',['fromType',3,'topicData',1],[],lMF,oLF,gg)
_(aNF,ePF)
return aNF
}
oJF.wxXCkey=4
_2z(z,1,cKF,e,s,gg,oJF,'item','index','id')
var bQF=_mz(z,'cy-loading',['loading',5,'noResult',1,'noResultTip',2],[],e,s,gg)
_(hIF,bQF)
_(r,hIF)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_32";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_32();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/first-page-topic-list-new/index.wxml'] = [$gwx_XC_32, './components/first-page-topic-list-new/index.wxml'];else __wxAppCode__['components/first-page-topic-list-new/index.wxml'] = $gwx_XC_32( './components/first-page-topic-list-new/index.wxml' );
	;__wxRoute = "components/first-page-topic-list-new/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/first-page-topic-list-new/index.js";define("components/first-page-topic-list-new/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/topic_check_list/",e=getApp();Component({properties:{visitPageName:{type:String,value:""}},data:{currentPage:1,currentType:"0",isLoading:!1,topicList:[],hasContent:!1,contentHeight:0,typeMap:{1:"图文",2:"语音",4:"简答"}},methods:{triggerFetch:function(){this.fetchList(this.data.currentPage+1,this.data.currentType,!0)},_baseRequest:function(e,i){var n=this;return new Promise((function(o,c){if(n.data.isLoading)return c();n.setData({isLoading:!0});var a={page:e||1};["1","2","4"].indexOf(i)>-1&&(a.content_type=i),console.log("page",a.page,"type",a.content_type),wx.request({url:t,method:"GET",data:a,success:function(t){return o(t)},fail:function(){return c()},complete:function(){n.setData({isLoading:!1}),wx.nextTick((function(){n.getContentHeight()}))}})}))},getContentHeight:function(){var t=this,e=this.createSelectorQuery().select(".topic-list-component");e&&e.boundingClientRect((function(e){t.setData({contentHeight:e.height}),t.triggerEvent("listupdated",{height:t.data.contentHeight})})).exec()},getContentHeightNew:function(){console.log(11),this.triggerEvent("update-swiper-height",{height:160*this.data.topicList.length})},processRawData:function(t,e){var i=t.data.topic_check_list;this.setData({hasContent:i&&i.length}),i.forEach((function(t){t.id=t.topic_info.id,2===t.topic_info.content_type?(t.topic_info.topicContentTypeText="语音",t.topic_info.icon="https://resourced.chunyu.mobi/Uu4AAABvB-lIl3oW-3647a560-6a40-4edb-814d-8a53b76f7862_w24_h24_.png"):1===t.topic_info.content_type?(t.topic_info.topicContentTypeText="图文",t.topic_info.icon="https://resourced.chunyu.mobi/mQ4AAADvBelIl3oW-307f030f-71ad-43fd-a190-02682fbebdc8_w24_h24_.png"):(t.topic_info.topicContentTypeText="简答",t.topic_info.icon="https://resourced.chunyu.mobi/daAAAAAtEulIl3oW-352d9ebb-b901-4920-adbc-9f685c3993ab_w24_h24_.png")}));var n=i;e&&(n=this.data.topicList.concat(i)),this.setData({topicList:n})},fetchList:function(t,e,i){var n=this;this._baseRequest(t,e).then((function(t){t.data&&(wx.hideLoading(),n.processRawData(t,i),n.getContentHeightNew(),i&&t.data.topic_check_list&&t.data.topic_check_list.length&&n.setData({currentPage:n.data.currentPage+1}))})).catch((function(){wx.hideLoading()}))},getAllTopic:function(){this.setData({currentType:"0"}),this.fetchList(1,"0"),this.triggerEvent("tofaketabbar",{type:"0"});try{e.sensors.track("AppClick",{app:"weixin_mini",click_position:"首页-内容分类",click_position_value:"全部"})}catch(t){console.log(t)}},handleButtonTap:function(t,i){var n;n=i?t:t.currentTarget.dataset.type;try{e.sensors.track("AppClick",{app:"weixin_mini",click_position:"首页-内容分类",click_position_value:this.data.typeMap[n]})}catch(t){console.log(t)}n!==String(this.data.currentType)&&(this.setData({currentPage:1,currentType:n,isFirstPage:!0}),this.fetchList(1,n))},loadMore:function(){this.triggerFetch()},changeTab:function(){0===this.data.topicList.length&&this.getAllTopic()}}});
},{isPage:false,isComponent:true,currentFile:'components/first-page-topic-list-new/index.js'});require("components/first-page-topic-list-new/index.js");$gwx_XC_33=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_33 || [];
function gz$gwx_XC_33_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_33_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_33_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_33_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasFollowed']])
Z([3,'doFollowDoctor'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_33_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_33_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_33=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_33=true;
var x=['./components/follow-doc-button-detail-page/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_33_1()
var xSF=_v()
_(r,xSF)
if(_oz(z,0,e,s,gg)){xSF.wxVkey=1
}
else{xSF.wxVkey=2
var oTF=_n('cy-userinfo')
_rz(z,oTF,'bind:loginevent',1,e,s,gg)
_(xSF,oTF)
}
xSF.wxXCkey=1
xSF.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_33";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_33();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/follow-doc-button-detail-page/index.wxml'] = [$gwx_XC_33, './components/follow-doc-button-detail-page/index.wxml'];else __wxAppCode__['components/follow-doc-button-detail-page/index.wxml'] = $gwx_XC_33( './components/follow-doc-button-detail-page/index.wxml' );
	;__wxRoute = "components/follow-doc-button-detail-page/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/follow-doc-button-detail-page/index.js";define("components/follow-doc-button-detail-page/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/v5/doctor/",e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param;Component({properties:{hasFollowed:{type:Boolean,value:!1},doctorId:{type:String,value:""},visitPageName:{type:String,value:""}},methods:{doFollowDoctor:function(){var a=this;o.sensors.track("AppClick",{app:"weixin_mini",click_position:"话题页关注医生"});var i={from_wx_mini:1,partner:o.globalData.partner,follow:1};this.data.hasFollowed||wx.navigateTo({url:"../doc_mainpage/index?doc_id=".concat(this.data.doctorId,"&animation=follow&from_visit_page=").concat(this.data.visitPageName)}),wx.request({url:t+this.data.doctorId+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},data:e(i),success:function(){a.triggerEvent("followsuccess",{isFollowed:!0})}})},unfollowDoctor:function(){var a=this,i={from_wx_mini:1,partner:o.globalData.partner,follow:0};wx.request({url:t+this.data.doctorId+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},data:e(i),success:function(){a.triggerEvent("followsuccess",{isFollowed:!1})}})}}});
},{isPage:false,isComponent:true,currentFile:'components/follow-doc-button-detail-page/index.js'});require("components/follow-doc-button-detail-page/index.js");$gwx_XC_34=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_34 || [];
function gz$gwx_XC_34_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_34_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_34_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_34_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasFollowed']])
Z([3,'doFollowDoctor'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_34_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_34_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_34=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_34=true;
var x=['./components/follow-doc-button/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_34_1()
var cVF=_v()
_(r,cVF)
if(_oz(z,0,e,s,gg)){cVF.wxVkey=1
}
else{cVF.wxVkey=2
var hWF=_n('cy-userinfo')
_rz(z,hWF,'bind:loginevent',1,e,s,gg)
_(cVF,hWF)
}
cVF.wxXCkey=1
cVF.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_34";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_34();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/follow-doc-button/index.wxml'] = [$gwx_XC_34, './components/follow-doc-button/index.wxml'];else __wxAppCode__['components/follow-doc-button/index.wxml'] = $gwx_XC_34( './components/follow-doc-button/index.wxml' );
	;__wxRoute = "components/follow-doc-button/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/follow-doc-button/index.js";define("components/follow-doc-button/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{hasFollowed:{type:Boolean,value:!1},doctorId:{type:String,value:""}},methods:{doFollowDoctor:function(){this.data.hasFollowed||wx.navigateTo({url:"../doc_mainpage/index?doc_id=".concat(this.data.doctorId,"&show_follow_doc_dialog=1")})}}});
},{isPage:false,isComponent:true,currentFile:'components/follow-doc-button/index.js'});require("components/follow-doc-button/index.js");$gwx_XC_35=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_35 || [];
function gz$gwx_XC_35_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_35_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_35_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_35_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_35=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_35=true;
var x=['./components/intellect-diagnose/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_35_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_35";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_35();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/intellect-diagnose/index.wxml'] = [$gwx_XC_35, './components/intellect-diagnose/index.wxml'];else __wxAppCode__['components/intellect-diagnose/index.wxml'] = $gwx_XC_35( './components/intellect-diagnose/index.wxml' );
	;__wxRoute = "components/intellect-diagnose/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/intellect-diagnose/index.js";define("components/intellect-diagnose/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{marginTop:{type:Number,value:0},fixed:{type:Boolean,value:!1}}});
},{isPage:false,isComponent:true,currentFile:'components/intellect-diagnose/index.js'});require("components/intellect-diagnose/index.js");$gwx_XC_36=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_36 || [];
function gz$gwx_XC_36_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_36_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_36_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_36_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_36_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_36_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_36=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_36=true;
var x=['./components/new_user_welfare_bar/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_36_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_36";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_36();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/new_user_welfare_bar/index.wxml'] = [$gwx_XC_36, './components/new_user_welfare_bar/index.wxml'];else __wxAppCode__['components/new_user_welfare_bar/index.wxml'] = $gwx_XC_36( './components/new_user_welfare_bar/index.wxml' );
	;__wxRoute = "components/new_user_welfare_bar/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/new_user_welfare_bar/index.js";define("components/new_user_welfare_bar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../@babel/runtime/regenerator")),t=require("../../@babel/runtime/helpers/asyncToGenerator"),r=require("../../FE1120A4829A079C987748A30A3D7B70.js"),a=r.subscribeBtnShow,s=r.changeIsSubscribeConsultMessageValue,i=r.saveSubscribeMessage,o=r.subscribeMessage,n=r.jumpToTargetPage,u=["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"],l=getApp();Component({properties:{adDetail:{type:Object,default:{}},from:{type:String,default:""},pageReadableName:{type:String,default:""},bottomGroupHeight:{type:Number,default:0}},observers:{adDetail:function(e){e.image&&(console.log("bottomGroupHeight",this.data.bottomGroupHeight),a(u,s))}},methods:{clickToJump:function(){var r=this;return t(e.default.mark((function t(){var a,s,c,b,p,g;return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.data,s=a.adDetail,c=void 0===s?{}:s,b=a.pageReadableName,p=(null==c?void 0:c.cy_redirect)||{},l.sensors.track("AppClick",{page_readable_name:b,app:"weixin_mini",click_position:"新用户礼包引导条"}),!l.globalData.isSubscribeConsultMessage){e.next=7;break}n(p),e.next=19;break;case 7:return e.prev=7,e.next=10,o(u);case 10:g=e.sent,i(u,g),n(p),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),n(p),console.log("error",e.t0);case 19:case"end":return e.stop()}}),t,null,[[7,15]])})))()}}});
},{isPage:false,isComponent:true,currentFile:'components/new_user_welfare_bar/index.js'});require("components/new_user_welfare_bar/index.js");$gwx_XC_37=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_37 || [];
function gz$gwx_XC_37_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_37_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_37_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_37_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShow']])
Z([a,[3,'nps-content '],[[2,'&&'],[[7],[3,'isNoMargin']],[1,'noMargin']]])
Z([3,'nps-content'])
Z([3,'nps-top'])
Z([[2,'&&'],[[7],[3,'isShowNpsContent']],[[2,'!=='],[[7],[3,'from']],[1,'doctor_list']]])
Z([[2,'==='],[[7],[3,'from']],[1,'doctor_list']])
Z([[7],[3,'isShowNpsContent']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_37_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_37_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_37=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_37=true;
var x=['./components/nps-card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_37_1()
var l1F=_v()
_(r,l1F)
if(_oz(z,0,e,s,gg)){l1F.wxVkey=1
var a2F=_mz(z,'view',['class',1,'id',1],[],e,s,gg)
var e4F=_n('view')
_rz(z,e4F,'class',3,e,s,gg)
var b5F=_v()
_(e4F,b5F)
if(_oz(z,4,e,s,gg)){b5F.wxVkey=1
}
var o6F=_v()
_(e4F,o6F)
if(_oz(z,5,e,s,gg)){o6F.wxVkey=1
}
b5F.wxXCkey=1
o6F.wxXCkey=1
_(a2F,e4F)
var t3F=_v()
_(a2F,t3F)
if(_oz(z,6,e,s,gg)){t3F.wxVkey=1
}
t3F.wxXCkey=1
_(l1F,a2F)
}
l1F.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_37";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_37();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/nps-card/index.wxml'] = [$gwx_XC_37, './components/nps-card/index.wxml'];else __wxAppCode__['components/nps-card/index.wxml'] = $gwx_XC_37( './components/nps-card/index.wxml' );
	;__wxRoute = "components/nps-card/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/nps-card/index.js";define("components/nps-card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../7C7490B0829A079C1A12F8B759DC7B70.js")),e=require("../../840A1D64829A079CE26C7563276C7B70.js"),a=" ";Component({properties:{npsInfo:{type:Object,value:{}},from:{type:String,value:""},query:{type:String,value:""},isNoMargin:{type:Boolean,value:!1},name:{type:String,value:"搜索结果是否满意？"},filterOption:{type:Object,value:{}}},created:function(){},lifetimes:{attached:function(){if(this.data.npsInfo){console.log(this.data.npsInfo);var t=this.data.npsInfo.map((function(t){return t.focus=!1,t}));this.setData({stars:t})}},detached:function(){}},data:{stars:[],options:[],textareaValue:"",isShowNpsContent:!1,isShow:!0,FOCUSIMG:"https://staff.chunyu.mobi/@/media/images/2022/05/11/13f3/471619f09023_w78_h78_.jpg",NROMALIMG:"https://staff.chunyu.mobi/@/media/images/2022/05/11/69b3/0ec38745eb1a_w78_h78_.jpg",cursorSpacing:280},methods:{onStar:function(t){(0,e.doPoint)("AppClick",{app:"weixin_mini",click_position:"NPS卡片",page_readable_name:"doctor_list"===this.data.from?"找医生列表页":"大搜结果页"});var a=this;if(!this.data.isShowNpsContent){var i=this.createSelectorQuery();i.select("#nps-content").boundingClientRect(),i.selectViewport().scrollOffset(),i.exec((function(t){t[0]&&a.triggerEvent("onopen",[t[0].top,t[0].bottom])}))}var n=t.currentTarget.dataset.level,o=this.data.stars.map((function(t,e){return t.level<n?(t.focus=!0,t):t.level>n?(t.focus=!1,t):(a.setData({options:t.related_tags.map((function(t){return{label:t.value,value:t.value,focus:!1}}))}),t.focus=!0,t)}));this.setData({stars:o,isShowNpsContent:!0})},onOptions:function(t){var e=t.currentTarget.dataset.index,a=this.data.options.map((function(t,a){return a===e&&(t.focus=!t.focus),t}));this.setData({options:a})},onNpsSubmit:function(){var e=this,a=this.data.options.filter((function(t){return t.focus})).map((function(t){return t.label})),i={};this.data.stars.forEach((function(t){t.focus&&(i=t)}));var n={from_type:this.data.from,query:this.data.query,level:i.level,selected_tags:JSON.stringify(a),assessment:this.data.textareaValue,province:e.data.filterOption.province||"",city:e.data.filterOption.city||"",clinic_no:e.data.filterOption.clinic_no||"",sort_type:e.data.filterOption.sort_type||"default",filter_list:e.data.filterOption.filter_list||[]};(0,t.default)("/feedback/nps/submit/",n,"POST").then((function(t){0===t.error_code?(wx.showToast({icon:"none",title:"反馈成功"}),e.setData({isShow:!1})):wx.showToast({icon:"none",title:"反馈失败"})}))},textareaInput:function(t){this.setData({textareaValue:t.detail.value})},onStay:function(){(0,e.doPoint)("AppClick",{app:"weixin_mini",click_position:"收起NPS卡片",page_readable_name:"doctor_list"===this.data.from?"找医生列表页":"大搜结果页"}),this.setData({isShowNpsContent:!1,textareaValue:""})},onClose:function(){(0,e.doPoint)("AppClick",{app:"weixin_mini",click_position:"关闭NPS卡片",page_readable_name:"doctor_list"===this.data.from?"找医生列表页":"大搜结果页"}),this.setData({isShow:!1})},setTextAreaValue:function(t){t?this.setData({textareaValue:" "===a?"":a}):(a=this.data.textareaValue,this.setData({textareaValue:" "}))},textAreaFocus:function(t){var e=this,a=this.createSelectorQuery();a.select("#nps-content").boundingClientRect(),a.selectViewport().scrollOffset(),a.exec((function(t){t[0]&&e.triggerEvent("onfocus",t[0].bottom)}))}}});
},{isPage:false,isComponent:true,currentFile:'components/nps-card/index.js'});require("components/nps-card/index.js");$gwx_XC_38=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_38 || [];
function gz$gwx_XC_38_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_38_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_38_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_38_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_38_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_38_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_38=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_38=true;
var x=['./components/phone_input/phone_input.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_38_1()
var o8F=_v()
_(r,o8F)
if(_oz(z,0,e,s,gg)){o8F.wxVkey=1
}
o8F.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_38";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_38();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/phone_input/phone_input.wxml'] = [$gwx_XC_38, './components/phone_input/phone_input.wxml'];else __wxAppCode__['components/phone_input/phone_input.wxml'] = $gwx_XC_38( './components/phone_input/phone_input.wxml' );
	;__wxRoute = "components/phone_input/phone_input";__wxRouteBegin = true;__wxAppCurrentFile__="components/phone_input/phone_input.js";define("components/phone_input/phone_input.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{phone:{type:String,value:""},shouldShow:{type:Boolean,value:!0}},data:{phoneNumberLocal:"",status:"display"},observers:{phone:function(e){this.setData({phoneNumberLocal:e,status:e?"display":"modify"})}},methods:{handleInput:function(e){this.data.phoneNumberLocal=e.detail.value},confirmPhoneNumber:function(){var e=String(this.data.phoneNumberLocal);console.log(e),11===e.length?(this.triggerEvent("confirm-phone",{phone:e}),this.hideComponent()):wx.showToast({icon:"none",title:"手机号格式不正确"})},hideComponent:function(){this.triggerEvent("hide-phone-input")},changePhoneNumber:function(){this.setData({status:"modify",phoneNumberLocal:""}),console.log(this.data.shouldShow)},catchEvent:function(){return!1}}});
},{isPage:false,isComponent:true,currentFile:'components/phone_input/phone_input.js'});require("components/phone_input/phone_input.js");$gwx_XC_39=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_39 || [];
function gz$gwx_XC_39_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_39_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_39_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_39_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_39_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_39_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_39=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_39=true;
var x=['./components/psychological-counseling-banner/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_39_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_39";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_39();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/psychological-counseling-banner/index.wxml'] = [$gwx_XC_39, './components/psychological-counseling-banner/index.wxml'];else __wxAppCode__['components/psychological-counseling-banner/index.wxml'] = $gwx_XC_39( './components/psychological-counseling-banner/index.wxml' );
	;__wxRoute = "components/psychological-counseling-banner/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/psychological-counseling-banner/index.js";define("components/psychological-counseling-banner/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{marginTop:{type:Number,value:0},imgUrl:{type:String,value:""}}});
},{isPage:false,isComponent:true,currentFile:'components/psychological-counseling-banner/index.js'});require("components/psychological-counseling-banner/index.js");$gwx_XC_40=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_40 || [];
function gz$gwx_XC_40_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_40_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_40_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_40_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'track'])
Z([[7],[3,'navigateType']])
Z([[6],[[6],[[7],[3,'processedData']],[3,'topic_info']],[3,'jump_url']])
Z([3,'detail-holder'])
Z([[6],[[6],[[7],[3,'processedData']],[3,'doctor_info']],[3,'tag']])
Z([[2,'!=='],[[7],[3,'fromType']],[1,'qa_im']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_40_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_40_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_40=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_40=true;
var x=['./components/single-topic/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_40_1()
var hAG=_mz(z,'navigator',['bindtap',0,'openType',1,'url',1],[],e,s,gg)
var oBG=_n('view')
_rz(z,oBG,'class',3,e,s,gg)
var cCG=_v()
_(oBG,cCG)
if(_oz(z,4,e,s,gg)){cCG.wxVkey=1
}
var oDG=_v()
_(oBG,oDG)
if(_oz(z,5,e,s,gg)){oDG.wxVkey=1
}
cCG.wxXCkey=1
oDG.wxXCkey=1
_(hAG,oBG)
_(r,hAG)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_40";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_40();	if (__vd_version_info__.delayedGwx) __wxAppCode__['components/single-topic/index.wxml'] = [$gwx_XC_40, './components/single-topic/index.wxml'];else __wxAppCode__['components/single-topic/index.wxml'] = $gwx_XC_40( './components/single-topic/index.wxml' );
	;__wxRoute = "components/single-topic/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/single-topic/index.js";define("components/single-topic/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp();Component({properties:{topicData:{type:Object,value:{}},navigateType:{type:String,value:"navigate"},fromType:{type:String,value:""}},data:{processedData:{},currentPage:[],currentType:0},observers:{topicData:function(t){t&&Object.keys(t).length&&this.setIcon()}},methods:{setIcon:function(){var t=this.data.topicData;2===t.topic_info.content_type?(t.topic_info.topicContentTypeText="语音",t.topic_info.icon="https://resourced.chunyu.mobi/Uu4AAABvB-lIl3oW-3647a560-6a40-4edb-814d-8a53b76f7862_w24_h24_.png"):1===this.data.topicData.topic_info.content_type?(t.topic_info.topicContentTypeText="图文",t.topic_info.icon="https://resourced.chunyu.mobi/mQ4AAADvBelIl3oW-307f030f-71ad-43fd-a190-02682fbebdc8_w24_h24_.png"):(t.topic_info.topicContentTypeText="简答",t.topic_info.icon="https://resourced.chunyu.mobi/daAAAAAtEulIl3oW-352d9ebb-b901-4920-adbc-9f685c3993ab_w24_h24_.png"),this.setData({processedData:t})},track:function(){"mainPage"===this.data.fromType&&t.sensors.track("AppClick",{app:"weixin_mini",click_position:"seo-首页内容",source_type:this.data.processedData.topic_info.topicContentTypeText})}}});
},{isPage:false,isComponent:true,currentFile:'components/single-topic/index.js'});require("components/single-topic/index.js");$gwx_XC_41=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_41 || [];
function gz$gwx_XC_41_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_41_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_41_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_41_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'_root '],[[2,'?:'],[[7],[3,'selectable']],[1,'_select'],[1,'']]])
Z([[7],[3,'containerStyle']])
Z([[2,'!'],[[6],[[7],[3,'nodes']],[1,0]]])
Z([3,'_add'])
Z([[7],[3,'nodes']])
Z([3,'_root'])
Z([[4],[[5],[[5],[[5],[[5],[[5],[[7],[3,'lazyLoad']]],[[7],[3,'loadingImg']]],[[7],[3,'errorImg']]],[[7],[3,'showImgMenu']]],[[7],[3,'selectable']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_41_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_41_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_41=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_41=true;
var x=['./miniprogram_npm/mp-html/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_41_1()
var aFG=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var tGG=_v()
_(aFG,tGG)
if(_oz(z,2,e,s,gg)){tGG.wxVkey=1
var eHG=_n('slot')
_(tGG,eHG)
}
var bIG=_mz(z,'node',['catchadd',3,'childs',1,'id',2,'opts',3],[],e,s,gg)
_(aFG,bIG)
tGG.wxXCkey=1
_(r,aFG)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_41";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_41();	if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/mp-html/index.wxml'] = [$gwx_XC_41, './miniprogram_npm/mp-html/index.wxml'];else __wxAppCode__['miniprogram_npm/mp-html/index.wxml'] = $gwx_XC_41( './miniprogram_npm/mp-html/index.wxml' );
	;__wxRoute = "miniprogram_npm/mp-html/index";__wxRouteBegin = true;__wxAppCurrentFile__="miniprogram_npm/mp-html/index.js";define("miniprogram_npm/mp-html/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("./parser"),t=[];Component({data:{nodes:[]},properties:{containerStyle:String,content:{type:String,value:"",observer:function(e){this.setContent(e)}},copyLink:{type:Boolean,value:!0},domain:String,errorImg:String,lazyLoad:Boolean,loadingImg:String,pauseVideo:{type:Boolean,value:!0},previewImg:{type:Boolean,value:!0},scrollTable:Boolean,selectable:null,setTitle:{type:Boolean,value:!0},showImgMenu:{type:Boolean,value:!0},tagStyle:Object,useAnchor:null},created:function(){this.plugins=[];for(var e=t.length;e--;)this.plugins.push(new t[e](this))},detached:function(){clearInterval(this._timer),this._hook("onDetached")},methods:{in:function(e,t,n){e&&t&&n&&(this._in={page:e,selector:t,scrollTop:n})},navigateTo:function(e,t){var n=this;return new Promise((function(o,i){if(n.data.useAnchor){var r=wx.createSelectorQuery().in(n._in?n._in.page:n).select((n._in?n._in.selector:"._root")+(e?"".concat(">>>","#").concat(e):"")).boundingClientRect();n._in?r.select(n._in.selector).scrollOffset().select(n._in.selector).boundingClientRect():r.selectViewport().scrollOffset(),r.exec((function(e){if(e[0]){var r=e[1].scrollTop+e[0].top-(e[2]?e[2].top:0)+(t||parseInt(n.data.useAnchor)||0);n._in?n._in.page.setData(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n._in.scrollTop,r)):wx.pageScrollTo({scrollTop:r,duration:300}),o()}else i(Error("Label not found"))}))}else i(Error("Anchor is disabled"))}))},getText:function(e){var t="";return function e(n){for(var o=0;o<n.length;o++){var i=n[o];if("text"===i.type)t+=i.text.replace(/&amp;/g,"&");else if("br"===i.name)t+="\n";else{var r="p"===i.name||"div"===i.name||"tr"===i.name||"li"===i.name||"h"===i.name[0]&&i.name[1]>"0"&&i.name[1]<"7";r&&t&&"\n"!==t[t.length-1]&&(t+="\n"),i.children&&e(i.children),r&&"\n"!==t[t.length-1]?t+="\n":"td"!==i.name&&"th"!==i.name||(t+="\t")}}}(e||this.data.nodes),t},getRect:function(){var e=this;return new Promise((function(t,n){wx.createSelectorQuery().in(e).select("._root").boundingClientRect().exec((function(e){return e[0]?t(e[0]):n(Error("Root label not found"))}))}))},pauseMedia:function(){for(var e=(this._videos||[]).length;e--;)this._videos[e].pause()},setContent:function(t,n){var o=this;this.imgList&&n||(this.imgList=[]),this._videos=[];var i,r={},a=new e(this).parse(t);if(n)for(var l=this.data.nodes.length,s=a.length;s--;)r["nodes[".concat(l+s,"]")]=a[s];else r.nodes=a;this.setData(r,(function(){o._hook("onLoad"),o.triggerEvent("load")})),clearInterval(this._timer),this._timer=setInterval((function(){o.getRect().then((function(e){e.height===i&&(o.triggerEvent("ready",e),clearInterval(o._timer)),i=e.height})).catch((function(){}))}),350)},_hook:function(e){for(var n=t.length;n--;)this.plugins[n][e]&&this.plugins[n][e]()},_add:function(e){e.detail.root=this}}});
},{isPage:false,isComponent:true,currentFile:'miniprogram_npm/mp-html/index.js'});require("miniprogram_npm/mp-html/index.js");$gwx_XC_42=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_42 || [];
function gz$gwx_XC_42_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_42_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_42_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_42_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'el'])
Z([[2,'==='],[[6],[[7],[3,'n']],[3,'name']],[1,'img']])
Z([[2,'||'],[[2,'&&'],[[6],[[7],[3,'opts']],[1,1]],[[2,'!'],[[6],[[7],[3,'ctrl']],[[7],[3,'i']]]]],[[2,'<'],[[6],[[7],[3,'ctrl']],[[7],[3,'i']]],[1,0]]])
Z([[6],[[7],[3,'n']],[3,'text']])
Z([[2,'==='],[[6],[[7],[3,'n']],[3,'name']],[1,'br']])
Z([[2,'==='],[[6],[[7],[3,'n']],[3,'name']],[1,'a']])
Z([3,'linkTap'])
Z([a,[[2,'?:'],[[6],[[6],[[7],[3,'n']],[3,'attrs']],[3,'href']],[1,'_a '],[1,'']],[[6],[[6],[[7],[3,'n']],[3,'attrs']],[3,'class']]])
Z([[7],[3,'i']])
Z([3,'_hover'])
Z([[6],[[6],[[7],[3,'n']],[3,'attrs']],[3,'id']])
Z([a,[3,'display:inline;'],[[6],[[6],[[7],[3,'n']],[3,'attrs']],[3,'style']]])
Z([[6],[[7],[3,'n']],[3,'children']])
Z([[7],[3,'opts']])
Z([3,'display:inherit'])
Z([[2,'==='],[[6],[[7],[3,'n']],[3,'name']],[1,'video']])
Z([[2,'==='],[[6],[[7],[3,'n']],[3,'name']],[1,'audio']])
Z([3,'i1'])
Z([3,'n1'])
Z([[7],[3,'childs']])
Z(z[17])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'n1']],[3,'c']]],[[2,'||'],[[2,'||'],[[2,'!'],[[6],[[7],[3,'n1']],[3,'children']]],[[2,'==='],[[6],[[7],[3,'n1']],[3,'name']],[1,'a']]],[[2,'!'],[[12],[[7],[3,'isInline']],[[5],[[5],[[6],[[7],[3,'n1']],[3,'name']]],[[6],[[6],[[7],[3,'n1']],[3,'attrs']],[3,'style']]]]]]])
Z([[9],[[9],[[9],[[8],'n',[[7],[3,'n1']]],[[8],'i',[[2,'+'],[1,''],[[7],[3,'i1']]]]],[[8],'opts',[[7],[3,'opts']]]],[[8],'ctrl',[[7],[3,'ctrl']]]])
Z(z[0])
Z([3,'i2'])
Z([3,'n2'])
Z([[6],[[7],[3,'n1']],[3,'children']])
Z(z[24])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'n2']],[3,'c']]],[[2,'||'],[[2,'||'],[[2,'!'],[[6],[[7],[3,'n2']],[3,'children']]],[[2,'==='],[[6],[[7],[3,'n2']],[3,'name']],[1,'a']]],[[2,'!'],[[12],[[7],[3,'isInline']],[[5],[[5],[[6],[[7],[3,'n2']],[3,'name']]],[[6],[[6],[[7],[3,'n2']],[3,'attrs']],[3,'style']]]]]]])
Z([[9],[[9],[[9],[[8],'n',[[7],[3,'n2']]],[[8],'i',[[2,'+'],[[2,'+'],[[7],[3,'i1']],[1,'_']],[[7],[3,'i2']]]]],[[8],'opts',[[7],[3,'opts']]]],[[8],'ctrl',[[7],[3,'ctrl']]]])
Z(z[0])
Z([3,'i3'])
Z([3,'n3'])
Z([[6],[[7],[3,'n2']],[3,'children']])
Z(z[31])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'n3']],[3,'c']]],[[2,'||'],[[2,'||'],[[2,'!'],[[6],[[7],[3,'n3']],[3,'children']]],[[2,'==='],[[6],[[7],[3,'n3']],[3,'name']],[1,'a']]],[[2,'!'],[[12],[[7],[3,'isInline']],[[5],[[5],[[6],[[7],[3,'n3']],[3,'name']]],[[6],[[6],[[7],[3,'n3']],[3,'attrs']],[3,'style']]]]]]])
Z([[9],[[9],[[9],[[8],'n',[[7],[3,'n3']]],[[8],'i',[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[7],[3,'i1']],[1,'_']],[[7],[3,'i2']]],[1,'_']],[[7],[3,'i3']]]]],[[8],'opts',[[7],[3,'opts']]]],[[8],'ctrl',[[7],[3,'ctrl']]]])
Z(z[0])
Z([3,'i4'])
Z([3,'n4'])
Z([[6],[[7],[3,'n3']],[3,'children']])
Z(z[38])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'n4']],[3,'c']]],[[2,'||'],[[2,'||'],[[2,'!'],[[6],[[7],[3,'n4']],[3,'children']]],[[2,'==='],[[6],[[7],[3,'n4']],[3,'name']],[1,'a']]],[[2,'!'],[[12],[[7],[3,'isInline']],[[5],[[5],[[6],[[7],[3,'n4']],[3,'name']]],[[6],[[6],[[7],[3,'n4']],[3,'attrs']],[3,'style']]]]]]])
Z([[9],[[9],[[9],[[8],'n',[[7],[3,'n4']]],[[8],'i',[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[7],[3,'i1']],[1,'_']],[[7],[3,'i2']]],[1,'_']],[[7],[3,'i3']]],[1,'_']],[[7],[3,'i4']]]]],[[8],'opts',[[7],[3,'opts']]]],[[8],'ctrl',[[7],[3,'ctrl']]]])
Z(z[0])
Z([3,'i5'])
Z([3,'n5'])
Z([[6],[[7],[3,'n4']],[3,'children']])
Z(z[45])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'n5']],[3,'c']]],[[2,'||'],[[2,'||'],[[2,'!'],[[6],[[7],[3,'n5']],[3,'children']]],[[2,'==='],[[6],[[7],[3,'n5']],[3,'name']],[1,'a']]],[[2,'!'],[[12],[[7],[3,'isInline']],[[5],[[5],[[6],[[7],[3,'n5']],[3,'name']]],[[6],[[6],[[7],[3,'n5']],[3,'attrs']],[3,'style']]]]]]])
Z([[9],[[9],[[9],[[8],'n',[[7],[3,'n5']]],[[8],'i',[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[2,'+'],[[7],[3,'i1']],[1,'_']],[[7],[3,'i2']]],[1,'_']],[[7],[3,'i3']]],[1,'_']],[[7],[3,'i4']]],[1,'_']],[[7],[3,'i5']]]]],[[8],'opts',[[7],[3,'opts']]]],[[8],'ctrl',[[7],[3,'ctrl']]]])
Z(z[0])
Z([[6],[[7],[3,'n5']],[3,'children']])
Z([a,[3,'_'],[[6],[[7],[3,'n5']],[3,'name']],[3,' '],[[6],[[6],[[7],[3,'n5']],[3,'attrs']],[3,'class']]])
Z([[6],[[6],[[7],[3,'n5']],[3,'attrs']],[3,'id']])
Z(z[13])
Z([[6],[[6],[[7],[3,'n5']],[3,'attrs']],[3,'style']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_42_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_42_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_42=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_42=true;
var x=['./miniprogram_npm/mp-html/node/node.wxml'];d_[x[0]]={}
d_[x[0]]["el"]=function(e,s,r,gg){
var z=gz$gwx_XC_42_1()
var b=x[0]+':el'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/mp-html/node/node.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
}
else if(_oz(z,3,e,s,gg)){oB.wxVkey=2
}
else if(_oz(z,4,e,s,gg)){oB.wxVkey=3
}
else if(_oz(z,5,e,s,gg)){oB.wxVkey=4
var oD=_mz(z,'view',['catchtap',6,'class',1,'data-i',2,'hoverClass',3,'id',4,'style',5],[],e,s,gg)
var fE=_mz(z,'node',['childs',12,'opts',1,'style',2],[],e,s,gg)
_(oD,fE)
_(oB,oD)
}
else if(_oz(z,15,e,s,gg)){oB.wxVkey=5
}
else if(_oz(z,16,e,s,gg)){oB.wxVkey=6
}
else{oB.wxVkey=7
}
oB.wxXCkey=1
oB.wxXCkey=3
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_42_1()
var xKG=_v()
_(r,xKG)
var oLG=function(cNG,fMG,hOG,gg){
var cQG=_v()
_(hOG,cQG)
if(_oz(z,21,cNG,fMG,gg)){cQG.wxVkey=1
var oRG=_v()
_(cQG,oRG)
var lSG=_oz(z,23,cNG,fMG,gg)
var aTG=_gd(x[0],lSG,e_,d_)
if(aTG){
var tUG=_1z(z,22,cNG,fMG,gg) || {}
var cur_globalf=gg.f
oRG.wxXCkey=3
aTG(tUG,tUG,oRG,gg)
gg.f=cur_globalf
}
else _w(lSG,x[0],1,2221)
}
else{cQG.wxVkey=2
var eVG=_v()
_(cQG,eVG)
var bWG=function(xYG,oXG,oZG,gg){
var c2G=_v()
_(oZG,c2G)
if(_oz(z,28,xYG,oXG,gg)){c2G.wxVkey=1
var h3G=_v()
_(c2G,h3G)
var o4G=_oz(z,30,xYG,oXG,gg)
var c5G=_gd(x[0],o4G,e_,d_)
if(c5G){
var o6G=_1z(z,29,xYG,oXG,gg) || {}
var cur_globalf=gg.f
h3G.wxXCkey=3
c5G(o6G,o6G,h3G,gg)
gg.f=cur_globalf
}
else _w(o4G,x[0],1,2549)
}
else{c2G.wxVkey=2
var l7G=_v()
_(c2G,l7G)
var a8G=function(e0G,t9G,bAH,gg){
var xCH=_v()
_(bAH,xCH)
if(_oz(z,35,e0G,t9G,gg)){xCH.wxVkey=1
var oDH=_v()
_(xCH,oDH)
var fEH=_oz(z,37,e0G,t9G,gg)
var cFH=_gd(x[0],fEH,e_,d_)
if(cFH){
var hGH=_1z(z,36,e0G,t9G,gg) || {}
var cur_globalf=gg.f
oDH.wxXCkey=3
cFH(hGH,hGH,oDH,gg)
gg.f=cur_globalf
}
else _w(fEH,x[0],1,2881)
}
else{xCH.wxVkey=2
var oHH=_v()
_(xCH,oHH)
var cIH=function(lKH,oJH,aLH,gg){
var eNH=_v()
_(aLH,eNH)
if(_oz(z,42,lKH,oJH,gg)){eNH.wxVkey=1
var bOH=_v()
_(eNH,bOH)
var oPH=_oz(z,44,lKH,oJH,gg)
var xQH=_gd(x[0],oPH,e_,d_)
if(xQH){
var oRH=_1z(z,43,lKH,oJH,gg) || {}
var cur_globalf=gg.f
bOH.wxXCkey=3
xQH(oRH,oRH,bOH,gg)
gg.f=cur_globalf
}
else _w(oPH,x[0],1,3220)
}
else{eNH.wxVkey=2
var fSH=_v()
_(eNH,fSH)
var cTH=function(oVH,hUH,cWH,gg){
var lYH=_v()
_(cWH,lYH)
if(_oz(z,49,oVH,hUH,gg)){lYH.wxVkey=1
var aZH=_v()
_(lYH,aZH)
var t1H=_oz(z,51,oVH,hUH,gg)
var e2H=_gd(x[0],t1H,e_,d_)
if(e2H){
var b3H=_1z(z,50,oVH,hUH,gg) || {}
var cur_globalf=gg.f
aZH.wxXCkey=3
e2H(b3H,b3H,aZH,gg)
gg.f=cur_globalf
}
else _w(t1H,x[0],1,3566)
}
else{lYH.wxVkey=2
var o4H=_mz(z,'node',['childs',52,'class',1,'id',2,'opts',3,'style',4],[],oVH,hUH,gg)
_(lYH,o4H)
}
lYH.wxXCkey=1
lYH.wxXCkey=3
return cWH
}
fSH.wxXCkey=4
_2z(z,47,cTH,lKH,oJH,gg,fSH,'n5','i5','i5')
}
eNH.wxXCkey=1
eNH.wxXCkey=3
return aLH
}
oHH.wxXCkey=4
_2z(z,40,cIH,e0G,t9G,gg,oHH,'n4','i4','i4')
}
xCH.wxXCkey=1
xCH.wxXCkey=3
return bAH
}
l7G.wxXCkey=4
_2z(z,33,a8G,xYG,oXG,gg,l7G,'n3','i3','i3')
}
c2G.wxXCkey=1
c2G.wxXCkey=3
return oZG
}
eVG.wxXCkey=4
_2z(z,26,bWG,cNG,fMG,gg,eVG,'n2','i2','i2')
}
cQG.wxXCkey=1
cQG.wxXCkey=3
return hOG
}
xKG.wxXCkey=4
_2z(z,19,oLG,e,s,gg,xKG,'n1','i1','i1')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_42";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_42();	if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/mp-html/node/node.wxml'] = [$gwx_XC_42, './miniprogram_npm/mp-html/node/node.wxml'];else __wxAppCode__['miniprogram_npm/mp-html/node/node.wxml'] = $gwx_XC_42( './miniprogram_npm/mp-html/node/node.wxml' );
	;__wxRoute = "miniprogram_npm/mp-html/node/node";__wxRouteBegin = true;__wxAppCurrentFile__="miniprogram_npm/mp-html/node/node.js";define("miniprogram_npm/mp-html/node/node.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";function t(t,i,r){return i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}Component({data:{ctrl:{}},properties:{childs:Array,opts:Array},options:{addGlobalClass:!0},attached:function(){this.triggerEvent("add",this,{bubbles:!0,composed:!0})},methods:{noop:function(){},getNode:function(t){try{for(var i=t.split("_"),r=this.data.childs[i[0]],e=1;e<i.length;e++)r=r.children[i[e]];return r}catch(t){return{text:"",attrs:{},children:[]}}},play:function(t){if(this.root.triggerEvent("play"),this.root.data.pauseVideo){for(var i=!1,r=t.target.id,e=this.root._videos.length;e--;)this.root._videos[e].id===r?i=!0:this.root._videos[e].pause();if(!i){var a=wx.createVideoContext(r,this);a.id=r,this.root._videos.push(a)}}},imgTap:function(t){var i=this.getNode(t.target.dataset.i);if(i.a)return this.linkTap(i.a);if(!i.attrs.ignore&&(this.root.triggerEvent("imgtap",i.attrs),this.root.data.previewImg)){var r=this.root.imgList[i.i];wx.previewImage({showmenu:this.root.data.showImgMenu,current:r,urls:this.root.imgList})}},imgLoad:function(i){var r,e=i.target.dataset.i;this.getNode(e).w?(this.data.opts[1]&&!this.data.ctrl[e]||-1===this.data.ctrl[e])&&(r=1):r=i.detail.width,r&&this.setData(t({},"ctrl."+e,r))},linkTap:function(t){var i=t.currentTarget?this.getNode(t.currentTarget.dataset.i):{},r=i.attrs||t,e=r.href;this.root.triggerEvent("linktap",Object.assign({innerText:this.root.getText(i.children||[])},r)),e&&("#"===e[0]?this.root.navigateTo(e.substring(1)).catch((function(){})):e.split("?")[0].includes("://")?this.root.data.copyLink&&wx.setClipboardData({data:e,success:function(){return wx.showToast({title:"链接已复制"})}}):wx.navigateTo({url:e,fail:function(){wx.switchTab({url:e,fail:function(){}})}}))},mediaError:function(i){var r=i.target.dataset.i,e=this.getNode(r);if("video"===e.name||"audio"===e.name){var a=(this.data.ctrl[r]||0)+1;if(a>e.src.length&&(a=0),a<e.src.length)return this.setData(t({},"ctrl."+r,a))}else"img"===e.name&&this.data.opts[2]&&this.setData(t({},"ctrl."+r,-1));this.root&&this.root.triggerEvent("error",{source:e.name,attrs:e.attrs,errMsg:i.detail.errMsg})}}});
},{isPage:false,isComponent:true,currentFile:'miniprogram_npm/mp-html/node/node.js'});require("miniprogram_npm/mp-html/node/node.js");$gwx_XC_43=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_43 || [];
function gz$gwx_XC_43_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_43_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showBackBtn']])
Z([[7],[3,'isLogin']])
Z([3,'hideTopTip'])
Z([3,'container tab tab__body'])
Z([[6],[[7],[3,'service_list']],[3,'length']])
Z([[7],[3,'service_list']])
Z([3,'service_id'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'fast_phone']])
Z([3,'deleteRecord'])
Z([[7],[3,'item']])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'serviceCard'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'expert_consultation']])
Z(z[8])
Z([[7],[3,'index']])
Z(z[9])
Z([a,[3,'../service_order/index?service_id\x3d'],[[6],[[7],[3,'item']],[3,'service_id']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'revisit']])
Z([3,'jumpWebview'])
Z([[6],[[7],[3,'item']],[3,'skip_link']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'mall_invoice']])
Z(z[8])
Z([3,'toInvoicePage'])
Z(z[9])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'expert_call']])
Z(z[8])
Z(z[9])
Z(z[21])
Z([a,[3,'../tel_inquiry_detail/index?call_id\x3d'],z[16][2],[3,'\x26from_visit_page\x3d我的咨询']])
Z(z[10])
Z(z[11])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'register_apply']])
Z([3,'goAppointmentDetail'])
Z(z[16][2])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'inquiry']])
Z(z[8])
Z(z[9])
Z([a,[3,'../tel_inquiry_detail/index?inquiry_id\x3d'],z[16][2],z[34][3]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'video_inquiry_saas']])
Z([a,[3,'/pages/h5_webview/index?url\x3d'],[[6],[[7],[3,'item']],[3,'h5_url']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'status']],[1,'bl']])
Z([a,[3,'../inquery/inquery?problem_id\x3d'],z[16][2],[3,'\x26from_page\x3dall_service']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'common_types']])
Z([a,[3,'../give_qa_detail/index?service_id\x3d'],z[16][2],[3,'\x26from_type\x3dproblem_list']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'medicine_sale']])
Z(z[8])
Z(z[14])
Z(z[9])
Z([a,[3,'../qa_im_infinite/index?problem_id\x3d'],[[6],[[7],[3,'item']],[3,'conversation_id']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'special_service']])
Z(z[8])
Z([3,'jumpToH5'])
Z(z[14])
Z(z[9])
Z([[6],[[7],[3,'item']],[3,'url']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'mall_shop_order']])
Z(z[8])
Z([3,'toMallOrder'])
Z(z[14])
Z(z[9])
Z(z[16][2])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'ai_chat']])
Z(z[8])
Z([3,'toAiService'])
Z(z[14])
Z(z[9])
Z(z[16][2])
Z(z[9])
Z(z[16][2])
Z([[6],[[7],[3,'item']],[3,'target_url']])
Z(z[10])
Z(z[11])
Z([3,'longPressToDelete'])
Z(z[16][2])
Z([a,[3,'../qa_im/index?problem_id\x3d'],z[16][2],z[34][3]])
Z(z[10])
Z(z[11])
Z(z[2])
Z([3,'login-wrap'])
Z([3,'pointLogin'])
Z([3,'init'])
Z(z[11])
Z([a,[3,'card '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'badge']],[1,'has-badge'],[1,'']]])
Z([[2,'&&'],[[6],[[6],[[7],[3,'item']],[3,'doctor']],[3,'clinic']],[[2,'!=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'ai_chat']]])
Z([[6],[[7],[3,'item']],[3,'service_time']])
Z([[6],[[7],[3,'item']],[3,'address']])
Z([[6],[[7],[3,'item']],[3,'can_ai_chat']])
Z([[7],[3,'tipShow']])
Z([3,''])
Z([3,'like-wx-modal'])
Z([[7],[3,'makesureDeleteShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_43_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_43=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_43=true;
var x=['./pages/all_service/index.wxml'];d_[x[0]]={}
d_[x[0]]["serviceCard"]=function(e,s,r,gg){
var z=gz$gwx_XC_43_1()
var b=x[0]+':serviceCard'
r.wxVkey=b
gg.f=$gdc(f_["./pages/all_service/index.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',104,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,105,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,106,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(oB,fE)
if(_oz(z,107,e,s,gg)){fE.wxVkey=1
}
var cF=_v()
_(oB,cF)
if(_oz(z,108,e,s,gg)){cF.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_43_1()
var o6H=_v()
_(r,o6H)
if(_oz(z,0,e,s,gg)){o6H.wxVkey=1
}
var f7H=_v()
_(r,f7H)
if(_oz(z,1,e,s,gg)){f7H.wxVkey=1
var c8H=_mz(z,'view',['bindtap',2,'class',1],[],e,s,gg)
var h9H=_v()
_(c8H,h9H)
if(_oz(z,4,e,s,gg)){h9H.wxVkey=1
var o0H=_v()
_(h9H,o0H)
var cAI=function(lCI,oBI,aDI,gg){
var eFI=_v()
_(aDI,eFI)
if(_oz(z,7,lCI,oBI,gg)){eFI.wxVkey=1
var bGI=_mz(z,'view',['bind:longpress',8,'data-service-data',1],[],lCI,oBI,gg)
var oHI=_v()
_(bGI,oHI)
var xII=_oz(z,11,lCI,oBI,gg)
var oJI=_gd(x[0],xII,e_,d_)
if(oJI){
var fKI=_1z(z,10,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oHI.wxXCkey=3
oJI(fKI,fKI,oHI,gg)
gg.f=cur_globalf
}
else _w(xII,x[0],4,307)
_(eFI,bGI)
}
else if(_oz(z,12,lCI,oBI,gg)){eFI.wxVkey=2
var cLI=_mz(z,'view',['bind:longpress',13,'data-list-index',1,'data-service-data',2],[],lCI,oBI,gg)
var hMI=_n('cy-navigator')
_rz(z,hMI,'url',16,lCI,oBI,gg)
var oNI=_v()
_(hMI,oNI)
var cOI=_oz(z,18,lCI,oBI,gg)
var oPI=_gd(x[0],cOI,e_,d_)
if(oPI){
var lQI=_1z(z,17,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oNI.wxXCkey=3
oPI(lQI,lQI,oNI,gg)
gg.f=cur_globalf
}
else _w(cOI,x[0],4,594)
_(cLI,hMI)
_(eFI,cLI)
}
else if(_oz(z,19,lCI,oBI,gg)){eFI.wxVkey=3
var aRI=_mz(z,'view',['bindtap',20,'data-url',1],[],lCI,oBI,gg)
var tSI=_v()
_(aRI,tSI)
var eTI=_oz(z,23,lCI,oBI,gg)
var bUI=_gd(x[0],eTI,e_,d_)
if(bUI){
var oVI=_1z(z,22,lCI,oBI,gg) || {}
var cur_globalf=gg.f
tSI.wxXCkey=3
bUI(oVI,oVI,tSI,gg)
gg.f=cur_globalf
}
else _w(eTI,x[0],4,769)
_(eFI,aRI)
}
else if(_oz(z,24,lCI,oBI,gg)){eFI.wxVkey=4
var xWI=_mz(z,'view',['bind:longpress',25,'bind:tap',1,'data-service-data',2],[],lCI,oBI,gg)
var oXI=_v()
_(xWI,oXI)
var fYI=_oz(z,29,lCI,oBI,gg)
var cZI=_gd(x[0],fYI,e_,d_)
if(cZI){
var h1I=_1z(z,28,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oXI.wxXCkey=3
cZI(h1I,h1I,oXI,gg)
gg.f=cur_globalf
}
else _w(fYI,x[0],4,967)
_(eFI,xWI)
}
else if(_oz(z,30,lCI,oBI,gg)){eFI.wxVkey=5
var o2I=_mz(z,'view',['bind:longpress',31,'data-service-data',1,'data-url',2],[],lCI,oBI,gg)
var c3I=_mz(z,'cy-navigator',['isSend',-1,'url',34],[],lCI,oBI,gg)
var o4I=_v()
_(c3I,o4I)
var l5I=_oz(z,36,lCI,oBI,gg)
var a6I=_gd(x[0],l5I,e_,d_)
if(a6I){
var t7I=_1z(z,35,lCI,oBI,gg) || {}
var cur_globalf=gg.f
o4I.wxXCkey=3
a6I(t7I,t7I,o4I,gg)
gg.f=cur_globalf
}
else _w(l5I,x[0],4,1285)
_(o2I,c3I)
_(eFI,o2I)
}
else if(_oz(z,37,lCI,oBI,gg)){eFI.wxVkey=6
var e8I=_mz(z,'view',['bindtap',38,'data-id',1],[],lCI,oBI,gg)
var b9I=_v()
_(e8I,b9I)
var o0I=_oz(z,41,lCI,oBI,gg)
var xAJ=_gd(x[0],o0I,e_,d_)
if(xAJ){
var oBJ=_1z(z,40,lCI,oBI,gg) || {}
var cur_globalf=gg.f
b9I.wxXCkey=3
xAJ(oBJ,oBJ,b9I,gg)
gg.f=cur_globalf
}
else _w(o0I,x[0],4,1476)
_(eFI,e8I)
}
else if(_oz(z,42,lCI,oBI,gg)){eFI.wxVkey=7
var fCJ=_mz(z,'view',['bind:longpress',43,'data-service-data',1],[],lCI,oBI,gg)
var cDJ=_mz(z,'cy-navigator',['isSend',-1,'url',45],[],lCI,oBI,gg)
var hEJ=_v()
_(cDJ,hEJ)
var oFJ=_oz(z,47,lCI,oBI,gg)
var cGJ=_gd(x[0],oFJ,e_,d_)
if(cGJ){
var oHJ=_1z(z,46,lCI,oBI,gg) || {}
var cur_globalf=gg.f
hEJ.wxXCkey=3
cGJ(oHJ,oHJ,hEJ,gg)
gg.f=cur_globalf
}
else _w(oFJ,x[0],4,1763)
_(fCJ,cDJ)
_(eFI,fCJ)
}
else if(_oz(z,48,lCI,oBI,gg)){eFI.wxVkey=8
var lIJ=_mz(z,'cy-navigator',['isSend',-1,'url',49],[],lCI,oBI,gg)
var aJJ=_v()
_(lIJ,aJJ)
var tKJ=_oz(z,51,lCI,oBI,gg)
var eLJ=_gd(x[0],tKJ,e_,d_)
if(eLJ){
var bMJ=_1z(z,50,lCI,oBI,gg) || {}
var cur_globalf=gg.f
aJJ.wxXCkey=3
eLJ(bMJ,bMJ,aJJ,gg)
gg.f=cur_globalf
}
else _w(tKJ,x[0],4,1972)
_(eFI,lIJ)
}
else if(_oz(z,52,lCI,oBI,gg)){eFI.wxVkey=9
var oNJ=_mz(z,'cy-navigator',['isSend',-1,'url',53],[],lCI,oBI,gg)
var xOJ=_v()
_(oNJ,xOJ)
var oPJ=_oz(z,55,lCI,oBI,gg)
var fQJ=_gd(x[0],oPJ,e_,d_)
if(fQJ){
var cRJ=_1z(z,54,lCI,oBI,gg) || {}
var cur_globalf=gg.f
xOJ.wxXCkey=3
fQJ(cRJ,cRJ,xOJ,gg)
gg.f=cur_globalf
}
else _w(oPJ,x[0],4,2177)
_(eFI,oNJ)
}
else if(_oz(z,56,lCI,oBI,gg)){eFI.wxVkey=10
var hSJ=_mz(z,'cy-navigator',['isSend',-1,'url',57],[],lCI,oBI,gg)
var oTJ=_v()
_(hSJ,oTJ)
var cUJ=_oz(z,59,lCI,oBI,gg)
var oVJ=_gd(x[0],cUJ,e_,d_)
if(oVJ){
var lWJ=_1z(z,58,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oTJ.wxXCkey=3
oVJ(lWJ,lWJ,oTJ,gg)
gg.f=cur_globalf
}
else _w(cUJ,x[0],4,2396)
_(eFI,hSJ)
}
else if(_oz(z,60,lCI,oBI,gg)){eFI.wxVkey=11
var aXJ=_mz(z,'cy-navigator',['isSend',-1,'bind:longpress',61,'data-list-index',1,'data-service-data',2,'url',3],[],lCI,oBI,gg)
var tYJ=_v()
_(aXJ,tYJ)
var eZJ=_oz(z,66,lCI,oBI,gg)
var b1J=_gd(x[0],eZJ,e_,d_)
if(b1J){
var o2J=_1z(z,65,lCI,oBI,gg) || {}
var cur_globalf=gg.f
tYJ.wxXCkey=3
b1J(o2J,o2J,tYJ,gg)
gg.f=cur_globalf
}
else _w(eZJ,x[0],4,2689)
_(eFI,aXJ)
}
else if(_oz(z,67,lCI,oBI,gg)){eFI.wxVkey=12
var x3J=_mz(z,'view',['bind:longpress',68,'bindtap',1,'data-list-index',2,'data-service-data',3,'data-url',4],[],lCI,oBI,gg)
var o4J=_v()
_(x3J,o4J)
var f5J=_oz(z,74,lCI,oBI,gg)
var c6J=_gd(x[0],f5J,e_,d_)
if(c6J){
var h7J=_1z(z,73,lCI,oBI,gg) || {}
var cur_globalf=gg.f
o4J.wxXCkey=3
c6J(h7J,h7J,o4J,gg)
gg.f=cur_globalf
}
else _w(f5J,x[0],4,2945)
_(eFI,x3J)
}
else if(_oz(z,75,lCI,oBI,gg)){eFI.wxVkey=13
var o8J=_mz(z,'view',['isSend',-1,'bind:longpress',76,'bind:tap',1,'data-list-index',2,'data-service-data',3,'id',4],[],lCI,oBI,gg)
var c9J=_v()
_(o8J,c9J)
var o0J=_oz(z,82,lCI,oBI,gg)
var lAK=_gd(x[0],o0J,e_,d_)
if(lAK){
var aBK=_1z(z,81,lCI,oBI,gg) || {}
var cur_globalf=gg.f
c9J.wxXCkey=3
lAK(aBK,aBK,c9J,gg)
gg.f=cur_globalf
}
else _w(o0J,x[0],4,3206)
_(eFI,o8J)
}
else if(_oz(z,83,lCI,oBI,gg)){eFI.wxVkey=14
var tCK=_mz(z,'view',['isSend',-1,'bind:longpress',84,'bind:tap',1,'data-list-index',2,'data-service-data',3,'id',4,'mark:item',5,'mark:problem_id',6,'mark:target-url',7],[],lCI,oBI,gg)
var eDK=_v()
_(tCK,eDK)
var bEK=_oz(z,93,lCI,oBI,gg)
var oFK=_gd(x[0],bEK,e_,d_)
if(oFK){
var xGK=_1z(z,92,lCI,oBI,gg) || {}
var cur_globalf=gg.f
eDK.wxXCkey=3
oFK(xGK,xGK,eDK,gg)
gg.f=cur_globalf
}
else _w(bEK,x[0],4,3562)
_(eFI,tCK)
}
else{eFI.wxVkey=15
var oHK=_mz(z,'cy-navigator',['isSend',-1,'bind:longpress',94,'id',1,'url',2],[],lCI,oBI,gg)
var fIK=_v()
_(oHK,fIK)
var cJK=_oz(z,98,lCI,oBI,gg)
var hKK=_gd(x[0],cJK,e_,d_)
if(hKK){
var oLK=_1z(z,97,lCI,oBI,gg) || {}
var cur_globalf=gg.f
fIK.wxXCkey=3
hKK(oLK,oLK,fIK,gg)
gg.f=cur_globalf
}
else _w(cJK,x[0],4,3787)
_(eFI,oHK)
}
eFI.wxXCkey=1
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
return aDI
}
o0H.wxXCkey=4
_2z(z,5,cAI,e,s,gg,o0H,'item','index','service_id')
}
else{h9H.wxVkey=2
}
h9H.wxXCkey=1
h9H.wxXCkey=3
_(f7H,c8H)
}
else{f7H.wxVkey=2
var cMK=_mz(z,'view',['bindtap',99,'class',1],[],e,s,gg)
var oNK=_mz(z,'cy-userinfo',['bindisloginevent',101,'bindloginevent',1],[],e,s,gg)
_(cMK,oNK)
_(f7H,cMK)
}
var lOK=_n('cy-top-tip')
_rz(z,lOK,'topTipShow',109,e,s,gg)
_(r,lOK)
var aPK=_mz(z,'cy-modal',['btnText',110,'class',1,'show',2],[],e,s,gg)
_(r,aPK)
var tQK=_n('cy-user-phone')
_(r,tQK)
o6H.wxXCkey=1
f7H.wxXCkey=1
f7H.wxXCkey=3
f7H.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_43";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_43();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/all_service/index.wxml'] = [$gwx_XC_43, './pages/all_service/index.wxml'];else __wxAppCode__['pages/all_service/index.wxml'] = $gwx_XC_43( './pages/all_service/index.wxml' );
	;__wxRoute = "pages/all_service/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/all_service/index.js";define("pages/all_service/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/objectSpread2"),a=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),i=require("../../43A2F676829A079C25C49E711B4C7B70.js"),o=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),n=getApp(),r=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,s=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,c=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,l="".concat(r,"/cooperation/wap/get_user_history_service_list_v2/"),d="".concat(r,"/api/gold/user/invite/"),u="".concat(r,"/publicwap/third_party/weixin/combine_user/"),p=r+"/cooperation/wap/delete_problem/",_=r+"/api/my_service/delete_service/",m=r+"/cooperation/third_ai/conversation/new/";Page({data:{service_list:[],isLogin:!1,tipShow:!0,isAuthBtnClick:!1,showBackBtn:!1,makesureDeleteShow:!1,randomNumber:0,inputRandom:"",problemId:"",visitPageName:"全部订单-小程序",fromVisitPage:"",isLoading:!1},onLoad:function(e){e.scene&&(this.xzhUid=e.scene),n.globalData.activityPartner&&this.setData({showBackBtn:!0}),this.setData({fromVisitPage:e.from_visit_page||""})},onShow:function(){var e=this;(0,i.manualLogin)().then((function(){e.setData({isLogin:!0}),e.init()})).catch((function(){wx.showToast({icon:"none",title:"获取数据失败，请退出重试"})})),(0,o.default)({fromName:this.data.from_visit_page||"",name:this.data.visitPageName,extraInfo:{}})},jumpWebview:function(e){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.currentTarget.dataset.url))})},longPressToDelete:function(e){var t=this;this.setData({problemId:e.target.id}),wx.showModal({title:"删除该问诊记录?",content:"删除后将无法恢复，同时无法接收医生回复。",confirmText:"删除",success:function(e){if(e.confirm){var a=Math.ceil(9999*Math.random()).toString().padStart(4,"0");a.padStart(4),t.setData({randomNumber:a,inputRandom:"",makesureDeleteShow:!0})}else e.cancel&&t.setData({problemId:""})},fail:function(){console.log("失败")}})},cancelDelete:function(){this.setData({makesureDeleteShow:!1,problemId:""})},setInputRandom:function(e){var t=e.detail.value;this.setData({inputRandom:t}),console.log(this.data.inputRandom)},makesureDelete:function(){var e=this,t={from_wx_mini:1,partner:n.globalData.partner,problem_id:e.data.problemId};this.setData({makesureDeleteShow:!1}),this.data.inputRandom.toString()==this.data.randomNumber?wx.request({url:p,data:s(t),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},success:function(t){0==t.data.error?wx.showToast({title:"删除成功!",icon:"none",success:function(){e.setData({service_list:e.data.service_list.filter((function(t){return t.service_id!=e.data.problemId}))})}}):wx.showToast({title:t.data.error_msg,icon:"none"})},fail:function(){wx.showToast({title:"请求发送失败",icon:"none"})}}):wx.showToast({title:"验证错误",icon:"none"})},onPullDownRefresh:function(){this.getHistoryServiceData()},init:function(){var e=this,t=e.xzhUid;e.xzhUid=void 0,e.setData({isLogin:!0}),t?wx.request({url:u,method:"POST",header:{Cookie:n.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},data:s({xzh_uid:t}),success:function(t){var a=t.data||{},i=a.status_code,o=a.error_msg,r=a.current_bind_phone;if(0===i)if(wx.showModal({content:"您的咨询记录已同步至微信，打开春雨医生小程序，点击“我的咨询”即可查看。",showCancel:!1,confirmText:"我知道啦"}),a.sessionid){var s="sessionid=".concat(a.sessionid);n.globalData.sessionid=s,wx.setStorageSync("sessionid",s)}else wx.removeStorageSync("sessionid"),e.setData({isLogin:!1}),n.globalData.sessionid="",n.globalData.appIsLogin=Promise.reject(new Error("用户需重新登陆"));else 2===i?wx.showModal({content:"咨询记录同步失败，您的微信已关联其他账户（".concat(r,"）"),showCancel:!1,confirmText:"我知道啦"}):3===i?wx.showModal({content:"咨询记录同步失败，账户（".concat(r,"）已关联其他微信号"),showCancel:!1,confirmText:"我知道啦"}):i>3&&wx.showModal({content:o,showCancel:!1,confirmText:"我知道啦"});e.getHistoryServiceData(),e.scanXzhPoint()},fail:function(){e.getHistoryServiceData(),e.scanXzhPoint()}}):e.getHistoryServiceData(),e.data.isAuthBtnClick&&e.goldInviteRecord()},scanXzhPoint:function(){var e=n.getUserProfileGlobal();e.isSuccess?c("WxMiniMyservices",{user_nickname:e.nickName,platform_source:"weixin_mini "}):c("WxMiniMyservices",{platform_source:"weixin_mini"})},getHistoryServiceData:function(){var e=this,t=this;this.setData({isLoading:!0}),(0,a.default)({url:l,data:{from_wx_mini:1,partner:n.globalData.partner},header:{"Content-Type":"application/json"},success:function(e){var a=e.data,i=null;1==a.error?wx.showToast({title:a.error_msg||"加载失败，请稍后重试",icon:"none"}):a.service_list&&a.service_list.length&&(a.service_list.forEach((function(e){"video_inquiry_saas"===e.service_type&&(e.h5_url=encodeURIComponent(e.h5_url))})),i={service_list:a.service_list},t.setData(i))},complete:function(){e.setData({isLoading:!1})}})},goldInviteRecord:function(){var e=wx.getStorageSync("source_from")||"",t=wx.getStorageSync("app_inviter_id")||"";if(c("AppClick",{page_readable_name:"登录授权按钮",click_position:"我的咨询登录按钮",platform_source:n.globalData.partner,source_type:"user_home"==e?"app":"",first_login:n.globalData.isFirstAuthorized?"0":"1",from_type:"user_home"==e?"邀请好友":"",inviter_user_id:t}),n.globalData.isFirstAuthorized&&"user_home"==e&&t){var a={inviter_id:t};wx.request({url:d,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},method:"POST",data:s(a),success:function(e){0==e.data.error_code?(wx.removeStorageSync("app_inviter_id"),wx.removeStorageSync("source_from"),console.log("金币任务邀请好友成功")):console.log("金币任务邀请好友失败：",e.data.error_msg)},fail:function(e){console.log("金币任务邀请好友失败：",e.data.error_msg)}})}},pointLogin:function(){this.setData({isAuthBtnClick:!0}),c("AppClick",{page_readable_name:"登录授权按钮",click_position:"我的咨询登录按钮"})},hideTopTip:function(){this.setData({tipShow:!1})},jumpToH5:function(e){var t=r+e.currentTarget.dataset.url;t=encodeURIComponent(t),wx.navigateTo({url:"/pages/h5_webview/index?url="+t})},goAppointmentDetail:function(e){var t=e.currentTarget.dataset.id;wx.navigateTo({url:"/pages/appointment_doctor_detail/index?id="+t})},onTabItemTap:function(e){var t=wx.getStorageSync("hide_tabbar_card");null!=t&&t.hide||wx.setStorageSync("hide_tabbar_card",{hide:!0}),n.globalData.hide_tabbar_card=!0},deleteRecord:function(e){var i=this,o=e.currentTarget.dataset.serviceData,n={mall_shop_order:{title:"删除该订单记录？",content:"删除后将无法找到该订单，是否确认删除"},medicine_sale:{title:"删除该服务记录？",content:"删除后历史消息记录将无法恢复，若有新消息仍可继续接收"},inquiry:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},fast_phone:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},expert_call:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},default:{title:"删除该服务记录？",content:"删除后将无法恢复"}};o.can_delete&&wx.showModal(t(t({},n[o.service_type]||n.default),{},{confirmText:"删除",success:function(t){t.confirm&&(0,a.default)({url:_,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{service_type:o.service_type,service_id:o.service_id,list_type:"down",from_wx_mini:1},success:function(t){if(console.log(t),t.data.success){wx.showToast({title:"删除成功"}),console.log();var a=e.currentTarget.dataset.listIndex;i.data.service_list.splice(a,1),i.setData({service_list:i.data.service_list})}else wx.showModal({title:"该订单暂不可删除",content:t.data.error_msg||"该订单暂不可删除",showCancel:!1,confirmText:"我知道了"})},fail:function(){wx.showToast({title:"网络异常"})}})}}))},toQiYuPage:function(){wx.navigateTo({url:"/pages/contact_page/contact_page"})},toMallOrder:function(e){var t=e.currentTarget.dataset.serviceData;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(r+t.h5_url))})},toInvoicePage:function(e){var t=e.currentTarget.dataset.serviceData.h5_url;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(r+t))})},aiChatConsult:function(e){(0,a.default)({url:m,data:{source:"service_list",source_id:e.mark.problem_id,partner:"chunyu_wap_mini"},success:function(t){0===t.data.error_code?(n.sensors.track("AppClick",{app:"weixin_mini",page_readable_name:"我的咨询",problem_id_str:e.mark.problem_id,first_department:e.mark.clinic,second_department:e.mark.secondClinic,click_position:"再次咨询"}),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t.data.data.url))})):wx.showToast({title:t.data.error_msg,icon:"none"})}}),console.log(e.mark)},toAiService:function(e){console.log(e),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.mark["target-url"]))})}});
},{isPage:true,isComponent:true,currentFile:'pages/all_service/index.js'});require("pages/all_service/index.js");$gwx_XC_44=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_44 || [];
function gz$gwx_XC_44_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_44_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_44_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_44_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'=='],[[7],[3,'cellphone']],[1,'']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_44_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_44_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_44=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_44=true;
var x=['./pages/apply_money/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_44_1()
var bSK=_v()
_(r,bSK)
if(_oz(z,0,e,s,gg)){bSK.wxVkey=1
}
bSK.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_44";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_44();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/apply_money/index.wxml'] = [$gwx_XC_44, './pages/apply_money/index.wxml'];else __wxAppCode__['pages/apply_money/index.wxml'] = $gwx_XC_44( './pages/apply_money/index.wxml' );
	;__wxRoute = "pages/apply_money/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/apply_money/index.js";define("pages/apply_money/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),a=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").timeCountDown,s=e.baseUrl+"/cooperation/wap/balance/withdraw/home/",r=e.baseUrl+"/api/accounts/send_activate_code/",i=e.baseUrl+"/cooperation/wap/balance/secure_cellphone/bind/";Page({data:{cellphone:"",showTips:!1,phone:"",code:"",verify_code:"",count:"",codeText:"",balance:"",balance_num:"",withdraw:"",btn_text:"获取验证码",toast_phone:!0,toast_code:!0,toast_money_min:!0,toast_money_max:!0,toast_money_none:!0,toast_msg:!0,toast_phone_none:!0,toast_error_msg:!0},onLoad:function(){var t=this;wx.request({url:s,method:"GET",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},data:{is_json:1,from_wx_mini:1,partner:a.globalData.partner},success:function(a){var e=a.data.cellphone,o=a.data.balance;t.setData({cellphone:e,balance:o})}})},getPhone:function(t){var a=t.detail.value;this.setData({phone:a})},getVerifyCode:function(t){var a=t.detail.value;this.setData({verify_code:a})},getMoneyNum:function(t){var a=t.detail.value;this.setData({balance_num:a})},hideToast:function(t){this.setData({toast_phone:!0,toast_code:!0,toast_money_min:!0,toast_money_max:!0,toast_money_none:!0,toast_msg:!0,toast_phone_none:!0,toast_error_msg:!0})},getCode:function(e){var s,i=this,_=i.data.phone,l=(t(s={from_wx_mini:1,phone:_},"from_wx_mini",1),t(s,"partner",a.globalData.partner),s);if(!/^1[34578]\d{9}$/.test(_))return i.setData({toast_phone:!1,warn_msg:"手机号码有误，请重填"}),!1;wx.request({url:r,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},data:o(l),success:function(t){if(""!=t.data.msg)return i.setData({toast_msg:!1,warn_msg:t.data.msg}),!1;n(e.currentTarget.dataset.code,i)}})},bindPhone:function(){var e,n=this,s=this.data.phone,r=this.data.verify_code,_=(t(e={from_wx_mini:1,cellphone:s,verify_code:r},"from_wx_mini",1),t(e,"partner",a.globalData.partner),e);return""==s?(n.setData({toast_phone_none:!1,warn_msg:"手机号码不能为空!"}),!1):""==r?(n.setData({toast_code:!1,warn_msg:"验证码不能为空!"}),!1):void wx.request({url:i,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},data:o(_),success:function(t){if(""!=t.data.error_msg)return n.setData({toast_error_msg:!1,warn_msg:t.data.error_msg}),!1;a.globalData.old_vertify_code=r,n.setData({cellphone:s})}})},withDraw:function(t){var a=this.data.balance;this.setData({balance_num:a})},nextStep:function(){var t=this.data.balance_num,a=this.data.balance;return""==t?(this.setData({toast_money_none:!1,warn_msg:"提现金额不能为空"}),!1):t<5?(this.setData({toast_money_min:!1,warn_msg:"提现金额不能少于5"}),!1):t>a?(this.setData({toast_money_max:!1,warn_msg:"提现金额不能大于账户余额"}),!1):void wx.redirectTo({url:"../withdraw_wx/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/apply_money/index.js'});require("pages/apply_money/index.js");$gwx_XC_45=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_45 || [];
function gz$gwx_XC_45_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_45_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'cancelReasonList']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_45_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_45=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_45=true;
var x=['./pages/appointment_doctor_detail/components/cancel-reason/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_45_1()
var xUK=_v()
_(r,xUK)
if(_oz(z,0,e,s,gg)){xUK.wxVkey=1
}
xUK.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_45";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_45();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/appointment_doctor_detail/components/cancel-reason/index.wxml'] = [$gwx_XC_45, './pages/appointment_doctor_detail/components/cancel-reason/index.wxml'];else __wxAppCode__['pages/appointment_doctor_detail/components/cancel-reason/index.wxml'] = $gwx_XC_45( './pages/appointment_doctor_detail/components/cancel-reason/index.wxml' );
	;__wxRoute = "pages/appointment_doctor_detail/components/cancel-reason/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/appointment_doctor_detail/components/cancel-reason/index.js";define("pages/appointment_doctor_detail/components/cancel-reason/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{visible:{type:Boolean,value:!1},cancelReasonList:{type:Array,value:[]}},data:{value:""},methods:{handleOk:function(){this.triggerEvent("ok",this.data.value)},handleCancel:function(){this.triggerEvent("cancel")},radioChange:function(e){this.setData({value:e.detail.value}),this.triggerEvent("change",e.detail.value)}}});
},{isPage:false,isComponent:true,currentFile:'pages/appointment_doctor_detail/components/cancel-reason/index.js'});require("pages/appointment_doctor_detail/components/cancel-reason/index.js");$gwx_XC_46=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_46 || [];
function gz$gwx_XC_46_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_46_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_46_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_46_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([3,'status-wrapper'])
Z([[2,'==='],[[7],[3,'status']],[1,'success']])
Z([[7],[3,'hasModified']])
Z([[2,'==='],[[7],[3,'status']],[1,'fail']])
Z([[2,'!'],[[7],[3,'tip']]])
Z([[7],[3,'canCancel']])
Z(z[2])
Z([3,'closeDialog'])
Z([3,'change'])
Z([3,'cancelReasonSubmit'])
Z([[7],[3,'cancelReasonList']])
Z([[7],[3,'visible']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_46_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_46_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_46=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_46=true;
var x=['./pages/appointment_doctor_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_46_1()
var fWK=_n('view')
_rz(z,fWK,'class',0,e,s,gg)
var hYK=_n('appointment-doctor-header')
_(fWK,hYK)
var oZK=_n('view')
_rz(z,oZK,'class',1,e,s,gg)
var c1K=_v()
_(oZK,c1K)
if(_oz(z,2,e,s,gg)){c1K.wxVkey=1
var l3K=_v()
_(c1K,l3K)
if(_oz(z,3,e,s,gg)){l3K.wxVkey=1
}
l3K.wxXCkey=1
}
else if(_oz(z,4,e,s,gg)){c1K.wxVkey=2
var a4K=_v()
_(c1K,a4K)
if(_oz(z,5,e,s,gg)){a4K.wxVkey=1
}
a4K.wxXCkey=1
}
else{c1K.wxVkey=3
}
var o2K=_v()
_(oZK,o2K)
if(_oz(z,6,e,s,gg)){o2K.wxVkey=1
}
c1K.wxXCkey=1
o2K.wxXCkey=1
_(fWK,oZK)
var cXK=_v()
_(fWK,cXK)
if(_oz(z,7,e,s,gg)){cXK.wxVkey=1
}
var t5K=_mz(z,'cancel-reason',['bind:cancel',8,'bind:change',1,'bind:ok',2,'cancelReasonList',3,'visible',4],[],e,s,gg)
_(fWK,t5K)
cXK.wxXCkey=1
_(r,fWK)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_46";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_46();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/appointment_doctor_detail/index.wxml'] = [$gwx_XC_46, './pages/appointment_doctor_detail/index.wxml'];else __wxAppCode__['pages/appointment_doctor_detail/index.wxml'] = $gwx_XC_46( './pages/appointment_doctor_detail/index.wxml' );
	;__wxRoute = "pages/appointment_doctor_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/appointment_doctor_detail/index.js";define("pages/appointment_doctor_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=e.baseUrl+"/api/v5/register_apply/${id}/detail",i=e.baseUrl+"/api/global/property/",o=e.baseUrl+"/api/v5/register_apply/${apply_id}/cancel/";Page({data:{id:"",name:"",hospital:"",avatarUrl:"",status:"success",time:"",code:"",address:"",doctorId:"",reason:"",tip:"",applyHospitalName:"",arrivalTime:"",remark:"",content:"",hasModified:!1,visible:!1,canCancel:!1,cancelReasonList:[]},onLoad:function(a){var e=a.id;this.data.id=e},onShow:function(){var a=this.data.id;this.getCancelReasonList(),this.getAppointmentDetail(a)},setCancelOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.data.id,i=o.replace("${apply_id}",t),s=this;wx.request({url:i,data:{reason:e},method:"POST",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},success:function(a){var e=a.data,i=e.error_code,o=void 0===i?1:i,n=e.error_msg,r=void 0===n?"取消预约失败":n;0===o?(s.getAppointmentDetail(t),s.closeDialog()):wx.showToast({title:r,icon:"none"})}})},cancelReasonSubmit:function(a){var e=a.detail;e?this.setCancelOrder(e):wx.showToast({title:"请选择取消原因",icon:"none"})},openDialog:function(){this.setData({visible:!0})},closeDialog:function(){this.setData({visible:!1})},getCancelReasonList:function(){var e=this;wx.request({url:i,data:{property_key:"register_apply_cancel_reason_list"},method:"GET",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},success:function(a){var t=a.data,i=t.error_code,o=void 0===i?1:i,s=t.property_value,n=void 0===s?"":s,r=t.error_msg,c=void 0===r?"获取取消原因失败":r;if(0===o)try{e.setData({cancelReasonList:JSON.parse(unescape(n.replace(/\\/g,"%")))||[]})}catch(a){console.log(a)}else wx.showToast({title:c,icon:"none"})}})},getAppointmentDetail:function(e){wx.showNavigationBarLoading(),wx.showLoading();var i=t.replace("${id}",e),o=this;wx.request({url:i,method:"GET",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},success:function(a){var e=a.data,t=void 0===e?{}:e,i=a.data.doctor,s=void 0===i?{}:i,n="n"===t.status?"pending":"a"===t.status?"success":"fail";o.setData({status:n,hasModified:t.has_modified,name:s.name,hospital:s.hospital,avatarUrl:s.image,time:t.register_time_str,code:t.service_code,tip:t.tip,applyHospitalName:t.apply_hospital_name,arrivalTime:t.arrival_time,address:t.address,reason:t.reason,doctorId:s.id,canCancel:t.can_cancel,availableTime:t.available_time,remark:t.remark,content:t.content}),wx.setNavigationBarTitle({title:s.name+"医生预约就诊"}),wx.hideNavigationBarLoading(),wx.hideLoading()}})},goOrder:function(){var a="view",e=this.data,t=e.id,i=e.status,o=e.doctorId,s=e.name;"pending"!==i&&"success"!==i||(a="update"),wx.navigateTo({url:"/pages/appointment_doctor_order/index?id=".concat(t,"&type=").concat(a,"&doctorId=").concat(o,"&doctorName=").concat(s,"&status=").concat(i,"&isFirstComeIn=true")})}});
},{isPage:true,isComponent:true,currentFile:'pages/appointment_doctor_detail/index.js'});require("pages/appointment_doctor_detail/index.js");$gwx_XC_47=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_47 || [];
function gz$gwx_XC_47_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_47_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_47_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_47_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_47_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_47_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_47=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_47=true;
var x=['./pages/appointment_doctor_order/components/make-notice/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_47_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_47";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_47();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/appointment_doctor_order/components/make-notice/index.wxml'] = [$gwx_XC_47, './pages/appointment_doctor_order/components/make-notice/index.wxml'];else __wxAppCode__['pages/appointment_doctor_order/components/make-notice/index.wxml'] = $gwx_XC_47( './pages/appointment_doctor_order/components/make-notice/index.wxml' );
	;__wxRoute = "pages/appointment_doctor_order/components/make-notice/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/appointment_doctor_order/components/make-notice/index.js";define("pages/appointment_doctor_order/components/make-notice/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{visible:{type:Boolean,value:!1}},methods:{handleOk:function(){this.triggerEvent("ok")},handleCancel:function(){this.triggerEvent("cancel")},handleMaskTap:function(){this.triggerEvent("cancel")}}});
},{isPage:false,isComponent:true,currentFile:'pages/appointment_doctor_order/components/make-notice/index.js'});require("pages/appointment_doctor_order/components/make-notice/index.js");$gwx_XC_48=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_48 || [];
function gz$gwx_XC_48_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_48_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_48_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_48_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'dialogVisible']],[1,'no-scroll']])
Z([3,'handleSubmit'])
Z([3,'form'])
Z([3,'imgs-wrapper'])
Z([[7],[3,'imgList']])
Z(z[4])
Z([[2,'!'],[[7],[3,'isDisabled']]])
Z([[2,'&&'],[[2,'<'],[[6],[[7],[3,'imgList']],[3,'length']],[1,9]],[[2,'!'],[[7],[3,'isDisabled']]]])
Z([3,'addImg'])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'imgList']],[3,'length']]],[[2,'!'],[[7],[3,'isDisabled']]]])
Z([[7],[3,'isShowSupplementDes']])
Z([[2,'!=='],[[7],[3,'type']],[1,'view']])
Z([3,'handleMakeNoticeDialogCancel'])
Z([3,'finallySubmit'])
Z([[7],[3,'makeNoticeDialogVisible']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_48_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_48_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_48=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_48=true;
var x=['./pages/appointment_doctor_order/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_48_1()
var o8K=_n('view')
_rz(z,o8K,'class',0,e,s,gg)
var x9K=_n('appointment-doctor-header')
_(o8K,x9K)
var o0K=_mz(z,'form',['bindsubmit',1,'class',1],[],e,s,gg)
var hCL=_n('view')
_rz(z,hCL,'class',3,e,s,gg)
var oFL=_v()
_(hCL,oFL)
var lGL=function(tIL,aHL,eJL,gg){
var oLL=_v()
_(eJL,oLL)
if(_oz(z,6,tIL,aHL,gg)){oLL.wxVkey=1
}
oLL.wxXCkey=1
return eJL
}
oFL.wxXCkey=2
_2z(z,4,lGL,e,s,gg,oFL,'item','index','{{imgList}}')
var oDL=_v()
_(hCL,oDL)
if(_oz(z,7,e,s,gg)){oDL.wxVkey=1
var xML=_n('cy-userinfo')
_rz(z,xML,'bindloginevent',8,e,s,gg)
_(oDL,xML)
}
var cEL=_v()
_(hCL,cEL)
if(_oz(z,9,e,s,gg)){cEL.wxVkey=1
}
oDL.wxXCkey=1
oDL.wxXCkey=3
cEL.wxXCkey=1
_(o0K,hCL)
var fAL=_v()
_(o0K,fAL)
if(_oz(z,10,e,s,gg)){fAL.wxVkey=1
}
var cBL=_v()
_(o0K,cBL)
if(_oz(z,11,e,s,gg)){cBL.wxVkey=1
}
fAL.wxXCkey=1
cBL.wxXCkey=1
_(o8K,o0K)
var oNL=_mz(z,'make-notice',['bind:cancel',12,'bind:ok',1,'visible',2],[],e,s,gg)
_(o8K,oNL)
_(r,o8K)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_48";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_48();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/appointment_doctor_order/index.wxml'] = [$gwx_XC_48, './pages/appointment_doctor_order/index.wxml'];else __wxAppCode__['pages/appointment_doctor_order/index.wxml'] = $gwx_XC_48( './pages/appointment_doctor_order/index.wxml' );
	;__wxRoute = "pages/appointment_doctor_order/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/appointment_doctor_order/index.js";define("pages/appointment_doctor_order/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,s=a.baseUrl,n=s+"/files/upload_multi_image/",r=s+"/cooperation/wap/my_center/",c=s+"/api/v5/register_apply/${id}/detail",d=s+"/api/v5/register_apply/${id}/update",l=s+"/api/v5/register_apply/create",h=s+"/api/global/property/?property_key=register_apply_patient_notice";Page({data:{id:"",doctorId:"",doctorName:"",type:"create",imgList:[],phone:"",desc:"",time:"",stage:"",clinicDetailAddr:"",hospitalDoctorId:"",failReason:"",ehrId:"",patientName:"",contentFurther:"",orderStatus:"",serviceExplain:"",isDisabled:!1,isShowSupplementDes:!1,makeNoticeDialogVisible:!1,formData:{}},onLoad:function(e){var t=e.type,a=e.doctorId,i=e.doctorName,o=e.id,s=e.status;wx.setNavigationBarTitle({title:i+"医生预约就诊"}),this.setData({type:t,doctorId:a,doctorName:i,id:o,orderStatus:s})},onShow:function(){var e=this.data.type;if(this.setData({isShowSupplementDes:"success"===this.data.orderStatus}),"view"===e&&this.getOrder(),"create"===e){this.getStorageData();var t=this.desc,a=this.phone,i=this.time,o=this.imgList,s=void 0===o?[]:o,n=this.stage,r=this.ehrId,c=this.patientName;this.setData({desc:t,phone:a,time:i,imgList:s,stage:n,ehrId:r,patientName:c}),this.getBindPhone()}"update"===e&&(this.getStorageData(),this.getOrder()),this.getServiceExplain()},onHide:function(){this.setFormStorage()},setFormStorage:function(){var e=this.data,t=e.desc,a=e.phone,i={desc:t,imgList:e.imgList,time:e.time,stage:e.stage,phone:a,ehrId:e.ehrId,patientName:e.patientName};wx.setStorageSync("formData",JSON.stringify(i))},onUnload:function(){this.clearStorageData()},clearStorageData:function(){wx.setStorageSync("hospitalDoctorId",""),wx.setStorageSync("selectHealthRecordInfo",JSON.stringify({})),wx.setStorageSync("formData",JSON.stringify({})),wx.setStorageSync("chooseRegisterMessage",JSON.stringify({}))},getStorageData:function(){try{var e=JSON.parse(wx.getStorageSync("formData")||"{}"),t=e.desc,a=e.imgList,i=void 0===a?[]:a,o=e.time,s=e.stage,n=e.phone,r=e.ehrId,c=e.patientName,d=JSON.parse(wx.getStorageSync("selectHealthRecordInfo")||"{}"),l=d.id,h=d.patient_name,p=JSON.parse(wx.getStorageSync("chooseRegisterMessage")||"{}"),g=p.type,u=p.date,m=p.clinicDetailAddr;this.desc=t,this.imgList=i,this.time=o||u,this.stage=s||g,this.phone=n,this.ehrId=l||r,this.patientName=h||c,this.clinicDetailAddr=m,this.setData({clinicDetailAddr:m}),console.log("this.time",g,u,m)}catch(e){console.log(e)}},isDisabled:function(){var e=this.data,t=e.type,a=e.orderStatus;return"view"===t||"update"===t&&"success"===a},contentFurtherChange:function(e){this.setData({contentFurther:e.detail.value})},phoneChange:function(e){this.setData({phone:e.detail.value})},descChange:function(e){this.setData({desc:e.detail.value})},addSeeDoctorPerson:function(){this.isDisabled()||wx.navigateTo({url:"/pages/health_record_certification/index"})},getServiceExplain:function(){var e=this;wx.request({url:h,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(t){console.log(t);var a=t.data,i=a.error_code,o=void 0===i?1:i,s=a.error_msg,n=void 0===s?"获取服务说明失败":s,r=a.property_value,c=void 0===r?"":r;0===o?e.setData({serviceExplain:c}):wx.showToast({title:n,icon:"none"})}})},changeRegister:function(){if(!this.isDisabled()){i("AppClick",{app:"weixin_mini",click_position:"就诊时间地点",page_readable_name:"预约就诊病情描述填写"});var e=this.data,t=e.doctorId,a=e.doctorName,o=e.id,s=void 0===o?"":o,n=e.type;console.log("重新选择就诊地点",s),wx.navigateTo({url:"/pages/out_call_message/index?doctorId=".concat(t,"&doctorName=").concat(a,"&registerId=").concat(s,"&type=").concat(n)})}},getOrder:function(){var e=this.data.id,a=c.replace("${id}",e),i=this;wx.showLoading(),wx.request({url:a,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(e){try{var t=i.desc,a=i.phone,o=i.time,s=i.imgList,n=void 0===s?[]:s,r=i.stage,c=i.ehrId,d=i.patientName,l=i.clinicDetailAddr,h=e.data,p=void 0===h?{}:h;i.setData({desc:t||p.content,phone:a||p.cellphone,time:o||p.user_tmp_time,imgList:n.length?n:p.image_list,stage:r||p.time_type,ehrId:c||p.ehr_id,patientName:d||p.patient_name,clinicDetailAddr:l||p.register_time_location,isDisabled:i.isDisabled()}),console.log("更新表单内容",i),wx.hideLoading()}catch(e){console.log(e),wx.hideLoading()}}})},isValidPhone:function(e){return/^1\d{10}$/.test(e)},handleSubmit:function(e){var t=e.detail.value,a=t.desc,i=t.phone,o=t.time;this.setData({formData:e.detail.value}),""!==a?a.length>500?wx.showToast({title:"病情描述最多500字",icon:"none"}):""!==o?""!==i?this.isValidPhone(i)?this.data.ehrId?"update"!==this.data.type?this.setData({makeNoticeDialogVisible:!0}):this.finallySubmit():wx.showToast({title:"请选择就诊人",icon:"none"}):wx.showToast({title:"请填写正确的手机号",icon:"none"}):wx.showToast({title:"请填写您的手机号",icon:"none"}):wx.showToast({title:"请选择就诊时间",icon:"none"}):wx.showToast({title:"请填写病情描述",icon:"none"})},finallySubmit:function(){var e=this.data.formData,t=e.desc,a=e.phone,i=this.data,s=i.type,n=i.imgList,r=i.doctorId,c=i.time,d=i.ehrId,l=i.contentFurther,h=i.stage,p=i.hospitalDoctorId,g=[{type:"text",text:t}];n.forEach((function(e){g.push({type:"image",file:e,tag:""})}));var u={scene_in:"update"===s?"register_apply":null,content_further:"update"===s?l:null,content:JSON.stringify(g),available_time:c,time_type:h,cellphone:a,ehr_id:d,hospital_doctor_id:wx.getStorageSync("hospitalDoctorId")||p};"create"===s&&(u.doctor_id=r),u=o(u),"create"===s?this.createOrder(u):this.updateOrder(u)},createPayOrder:function(e){wx.showLoading();var a=this.data,i=a.doctorId,o=a.doctorName,s={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"",order_type:"register_apply",partner:t.globalData.partner,info_dict:{doctor_id:i,id:e}};t.globalData.order_data=s,wx.redirectTo({url:"/pages/payment/index?doctorName="+o+"&mark=register_apply"})},createOrder:function(e){var a=this;wx.showLoading(),i("AppClick",{app:"weixin_mini",click_position:"提交预约",page_readable_name:"预约就诊病情描述填写"}),console.log("预约就诊创建订单data",e),wx.request({url:l,method:"POST",data:e,header:{"content-type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},success:function(e){wx.hideLoading();var t=e.data||{},i=t.error_msg,o=t.id,s=void 0===o?"":o,n=t.success;n?a.createPayOrder(s):(wx.showToast({title:i||"预约失败",icon:"none"}),a.setData({makeNoticeDialogVisible:!1}))}})},updateOrder:function(e){console.log("预约就诊更新订单data",e);var a=this;wx.showLoading();var i=this.data.id,o=d.replace("${id}",i);wx.request({url:o,method:"POST",data:e,header:{"content-type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},success:function(e){wx.hideLoading();var i=e.data.error_msg;i?wx.showToast({title:i||"更新失败",icon:"none"}):(wx.showToast({title:"更新成功",icon:"none"}),t.sensors.track("AppClick",{app:"weixin_mini",click_position:"更新预约资料",click_position_value:"success"===a.data.orderStatus?"接受":"待处理",page_readable_name:"预约就诊病情描述填写"}),wx.navigateBack({delta:1}))}})},getBindPhone:function(){var e=this;wx.showLoading(),wx.request({url:r,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(t){var a=t.data.bind_phone;e.setData({phone:e.phone||a}),wx.hideLoading()}})},removeImg:function(e){var t=this;wx.showModal({content:"确认删除此图片？",success:function(a){if(a.confirm){var i=e.target.dataset.index,o=t.data.imgList;o.splice(i,1),t.setData({imgList:o})}else if(a.cancel)return}})},handleMakeNoticeDialogOk:function(){this.setData({makeNoticeDialogVisible:!1})},handleMakeNoticeDialogCancel:function(){this.setData({makeNoticeDialogVisible:!1})},previewImg:function(e){var t=e.target.dataset.index,a=this.data.imgList,i=a[t];wx.previewImage({current:i,urls:a})},addImg:function(){var a=this,i=this.data.imgList,o=this.data.imgList.length;o>=9?wx.showToast({title:"最多选择9张",icon:"none"}):wx.chooseImage({count:9-o,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){var s,r=o.tempFilePaths,c=e(r);try{for(c.s();!(s=c.n()).done;){var d=s.value;wx.uploadFile({url:n,filePath:d,name:"images",formData:{return_full:"true"},header:{Cookie:t.globalData.sessionid},success:function(e){var t=JSON.parse(e.data).files[0];i.push(t),a.setData({imgList:i})}})}}catch(e){c.e(e)}finally{c.f()}}})}});
},{isPage:true,isComponent:true,currentFile:'pages/appointment_doctor_order/index.js'});require("pages/appointment_doctor_order/index.js");$gwx_XC_49=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_49 || [];
function gz$gwx_XC_49_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_49_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'loading']])
Z([[7],[3,'error']])
Z([3,'article'])
Z([[2,'!'],[[6],[[7],[3,'officialAccountInfo']],[3,'hasFollowed']]])
Z([[7],[3,'digest']])
Z([3,'article-content'])
Z([3,'onLinkTap'])
Z([[7],[3,'containerStyle']])
Z([[7],[3,'htmlData']])
Z([1,false])
Z([[7],[3,'mpTagStyle']])
Z([[7],[3,'reference']])
Z(z[11])
Z(z[10])
Z([[7],[3,'show_ask']])
Z([[6],[[7],[3,'selectedDoctors']],[3,'length']])
Z([3,'adtap'])
Z([a,[3,'ad-info '],[[2,'?:'],[[6],[[7],[3,'adInfo']],[3,'image']],[1,'ad-image-height'],[1,'']]])
Z([[6],[[7],[3,'adInfo']],[3,'jump_url']])
Z([[6],[[7],[3,'adInfo']],[3,'image']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_49_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_49_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_49=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_49=true;
var x=['./pages/article/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_49_1()
var cPL=_v()
_(r,cPL)
if(_oz(z,0,e,s,gg)){cPL.wxVkey=1
}
else if(_oz(z,1,e,s,gg)){cPL.wxVkey=2
}
else{cPL.wxVkey=3
var hQL=_n('view')
_rz(z,hQL,'class',2,e,s,gg)
var oRL=_v()
_(hQL,oRL)
if(_oz(z,3,e,s,gg)){oRL.wxVkey=1
}
var cSL=_v()
_(hQL,cSL)
if(_oz(z,4,e,s,gg)){cSL.wxVkey=1
}
var oTL=_n('view')
_rz(z,oTL,'class',5,e,s,gg)
var eXL=_mz(z,'mp-html',['bind:linktap',6,'containerStyle',1,'content',2,'copyLink',3,'tagStyle',4],[],e,s,gg)
_(oTL,eXL)
var lUL=_v()
_(oTL,lUL)
if(_oz(z,11,e,s,gg)){lUL.wxVkey=1
var bYL=_mz(z,'mp-html',['content',12,'tagStyle',1],[],e,s,gg)
_(lUL,bYL)
}
var aVL=_v()
_(oTL,aVL)
if(_oz(z,14,e,s,gg)){aVL.wxVkey=1
}
var tWL=_v()
_(oTL,tWL)
if(_oz(z,15,e,s,gg)){tWL.wxVkey=1
}
lUL.wxXCkey=1
lUL.wxXCkey=3
aVL.wxXCkey=1
tWL.wxXCkey=1
_(hQL,oTL)
var oZL=_mz(z,'view',['bindtap',16,'class',1,'data-url',2],[],e,s,gg)
var x1L=_v()
_(oZL,x1L)
if(_oz(z,19,e,s,gg)){x1L.wxVkey=1
}
x1L.wxXCkey=1
_(hQL,oZL)
oRL.wxXCkey=1
cSL.wxXCkey=1
_(cPL,hQL)
}
cPL.wxXCkey=1
cPL.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_49";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_49();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/article/index.wxml'] = [$gwx_XC_49, './pages/article/index.wxml'];else __wxAppCode__['pages/article/index.wxml'] = $gwx_XC_49( './pages/article/index.wxml' );
	;__wxRoute = "pages/article/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/article/index.js";define("pages/article/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var t=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),a=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),i=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,r=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,c=getApp(),n="".concat(o,"/cy_wx/public/follow/");Page({data:{id:0,loading:!1,error:!1,title:"",date:"",author:"",viewTimes:0,digest:"",adInfo:!1,articleId:"",htmlData:"",show_ask:!1,mpTagStyle:{img:"max-width: 100%"},containerStyle:"overflow: hidden;",officialAccountInfo:{hasFollowed:!0,jumpUrl:""},visitPageName:"科普详情页",fromVisitPage:"",reference:"",referenceActionStatus:0,selectedDoctors:[]},nativeProtocals:{findDoctor:{regex:new RegExp(/^chunyu:\/\/launch\/webapp\/search_doctor\/home/),path:"/pages/find_doctor/index",query:function(){return!1}},findDoctorList:{regex:new RegExp(/^chunyu:\/\/launch\/webapp\/search_doctor\/list/),path:"/pages/find_doctor_list/index",query:function(e){var a=(0,t.getQueryStr)("query",e),i=a.indexOf("#");return-1!==i&&(a=a.slice(0,i)),a}}},onLoad:function(e){if(this.hasSubscribeToOfficialAccount(),e.id)this.getArticleDetail(e),this.setData({articleId:e.id,fromVisitPage:e.from_visit_page||""}),r("PageView",{source_type:"app"==e.from?"app":"weixin_mini",page_title:"科普文章详情页",platform_source:c.globalData.partner,article_id:e.id});else{var t=decodeURIComponent(e.scene);t=this.parseScene(t),this.getArticleDetail(t)}this.getSelectDoctors()},onShow:function(){(0,i.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{filter:{id:this.data.id||""},click_position:"",click_order:0}})},getSelectDoctors:function(){var e=this;wx.request({url:"".concat(o,"/api/search/news/selected_doctor/"),data:{news_id:this.data.id},success:function(t){var a=t.data;console.log(a,"data"),e.setData({selectedDoctors:a.doctors})},fail:function(){}})},handleReferenceAction:function(){this.setData({referenceActionStatus:!this.data.referenceActionStatus})},getArticleDetail:function(e){var t=this,a=e.id;this.data.id=a;var i=e.promote||0;wx.request({url:"".concat(o,"/cooperation/wap/article/").concat(a,"/"),data:{partner:c.globalData.partner,promote:i},success:function(e){var a=e.data;console.log(a,"data"),t.setData({show_ask:a.show_ask,title:a.title,date:a.date_str,author:a.source,viewTimes:a.view_times,adInfo:a.ad_info||!1,htmlData:t.processContentMedicalLink(a.content),digest:a.digest,reference:a.references})},fail:function(){}})},processContentMedicalLink:function(e){if(e){return e=(e=e.replaceAll("cy_medical_link","cy-medical-link")).replaceAll(/<a href="[^<]+#cy-medical-link"[^>]+>[^<]+<\/a>/g,"")}return e},onShareAppMessage:function(){return{title:this.data.title,path:"/pages/article/index?id=".concat(this.data.id)}},adtap:function(e){r("WXmini_ArticleAdClick",{articleID:this.data.articleId});var t=e.currentTarget.dataset.url;this.goUrl(t)},parseScene:function(e){var t={};return"string"!=typeof e||e.split("&").forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=e.split("=");t[a[0]]=a[1]})),t},onLinkTap:function(e){var t=e.detail.href;if(t)if(t.includes("/webapp/doctor/")){var a=/doctor\/(.*?)\//.exec(t)[1];wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(a,"&from_visit_page=").concat(this.data.visitPageName)})}else t.includes("/wap/create_free_problem_page/")?wx.navigateTo({url:"/pages/inquery/inquery?from_page=article&from_visit_page=".concat(this.data.visitPageName)}):this.checkNativeProtocal(t)?wx.navigateTo({url:this.checkNativeProtocal(t)}):wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t))})},toDoctorHome:function(e){var t=e.currentTarget.dataset.cyredirect;console.log(t,"redirectInfo"),r("AppClick",JSON.parse(t.click_info)),wx.navigateTo({url:t.target_scheme})},toMoreDoctors:function(){wx.navigateTo({url:"/pages/find_doctor/index"})},checkNativeProtocal:function(e){var t=this.nativeProtocals,a="";for(var i in t)if(t[i].regex.test(e)){if("findDoctorList"===i){var o=t[i].query(e);a="".concat(t[i].path,"?query=").concat(o,"&from_visit_page=").concat(this.data.visitPageName);break}if("findDoctor"===i){a="".concat(t[i].path,"?from_visit_page=").concat(this.data.visitPageName);break}}return console.log(a),a},hasSubscribeToOfficialAccount:function(){var e=this;(0,a.default)({url:n,data:{scene_type:"health"},success:function(t){0===t.data.error_code&&e.setData({"officialAccountInfo.hasFollowed":t.data.data.is_follow,"officialAccountInfo.jumpUrl":t.data.data.skip_url})}})},toOfficialAccount:function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(this.data.officialAccountInfo.jumpUrl))})},askDoctor:function(e){var t=e.currentTarget.dataset.position;r("AppClick",{app:"weixin_mini",click_position:t,page_readable_name:"科普详情页",page_title:this.data.title}),wx.navigateTo({url:"/pages/inquery/inquery"})},onClickShare:function(){r("AppClick",{app:"weixin_mini",click_position:"点击分享文章",page_readable_name:"科普详情页",page_title:this.data.title})}});
},{isPage:true,isComponent:true,currentFile:'pages/article/index.js'});require("pages/article/index.js");$gwx_XC_50=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_50 || [];
function gz$gwx_XC_50_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_50_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_50_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_50_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[2,'&&'],[[7],[3,'doctor_info']],[[6],[[7],[3,'doctor_info']],[3,'id']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'badHidden']]],[[6],[[7],[3,'goodAtTagData']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_50_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_50_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_50=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_50=true;
var x=['./pages/assess_send/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_50_1()
var f3L=_n('view')
_rz(z,f3L,'class',0,e,s,gg)
var c4L=_v()
_(f3L,c4L)
if(_oz(z,1,e,s,gg)){c4L.wxVkey=1
}
var h5L=_v()
_(f3L,h5L)
if(_oz(z,2,e,s,gg)){h5L.wxVkey=1
}
c4L.wxXCkey=1
h5L.wxXCkey=1
_(r,f3L)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_50";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_50();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/assess_send/index.wxml'] = [$gwx_XC_50, './pages/assess_send/index.wxml'];else __wxAppCode__['pages/assess_send/index.wxml'] = $gwx_XC_50( './pages/assess_send/index.wxml' );
	;__wxRoute = "pages/assess_send/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/assess_send/index.js";define("pages/assess_send/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=require("../../1D735BD7829A079C7B1533D0C5CC7B70.js"),t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,s=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,o=e+"/cooperation/wap/assess_info_page/",i=e+"/cooperation/wap/assess_problem/";Page({data:{curFace:1,radioHidden:!0,badHidden:!0,level:"best",blacklist:0,is_advanced_graph:!1},inputHandler:function(a){var t=a.detail.value;this.setData({remark:t})},submitAssess:function(){var e=this,o=e.data.assessTagData,r=e.data.goodAtTagData,n=e.data.level,d=e.data.blacklist,c=e.data.problem_id,l=t.globalData.sessionid,g=e.data.remark||"",u=[],p=[];if(Array.isArray(o)&&o.forEach((function(a){a.selected&&u.push(a.key)})),Array.isArray(r)&&r.map((function(a){a.selected&&p.push(a.text)})),u.length<1)wx.showModal({content:"请选择具体标签后提交",showCancel:!1});else{var f={goodat_tags:p,level:n,tag_keys:u,blacklist:d},b={partner:"chunyu_wap_mini",assess_info:JSON.stringify(f),problem_id:c,from_wx_mini:1,remark:g,version:a.productionVersion};wx.request({url:i,data:s(b),method:"POST",header:{Cookie:l,"Content-Type":"application/x-www-form-urlencoded"},success:function(a){0==(a=a.data).error?e.data.is_advanced_graph?(wx.showToast({title:"优惠券已发放到“我的优惠券”中",icon:"none"}),setTimeout((function(){wx.navigateBack({delta:1,fail:function(){console.log("page back fail")}})}),1500)):wx.navigateBack({delta:1,fail:function(){console.log("page back fail")}}):1==a.error&&wx.showModal({content:a.error_msg,showCancel:!1,success:function(){wx.navigateBack({delta:1,fail:function(){console.log("page back fail")}})}})},fail:function(a){console.log(a)}})}},assessTagTap:function(a){var t=this.data.assessTagData,e=a.currentTarget.dataset.index,s=t[e].selected;t[e].selected=!s,this.setData({assessTagData:t})},goodAtTagTap:function(a){var t=this.data.goodAtTagData,e=a.currentTarget.dataset.index,s=t[e].selected;t[e].selected=!s,this.setData({goodAtTagData:t})},radioHandler:function(a){var t=this.data.radioHidden;this.setData({radioHidden:!t,blacklist:t?"1":"0"})},switchSatisfy:function(a){var t=parseInt(a.currentTarget.dataset.index),e=null,s=this.data.blacklist,o="";switch(t){case 1:e=this.data.best,o="best";break;case 2:e=this.data.good,o="good";break;case 3:e=this.data.bad,o="bad";break;default:return}this.setData({curFace:t,level:o,assessTagData:e,badHidden:3!==t,blacklist:3===t&&"1"==s?"1":"0",radioHidden:3!==t||"1"!=s})},onLoad:function(a){var e=this,s=a&&a.problem_id?a.problem_id:0,i=a.is_advanced_graph&&"true"===a.is_advanced_graph||!1,r=t.globalData.partner,n=t.globalData.sessionid;wx.request({url:o,data:{from_wx_mini:1,problem_id:s,partner:r,is_json:1},method:"GET",header:{Cookie:n},success:function(a){function t(a){var t=Object.prototype.toString.call(a),e=[];if("[object Object]"==t)for(var s in a)e.push({text:a[s],key:s});else"[object Array]"==t&&(e=a);return e.map((function(a){var t=Object.prototype.toString.call(a);return"[object Object]"==t?{text:a.text,key:a.key,selected:!1}:{text:a,selected:!1}}))}a=a.data,e.setData({doctor_info:a.doctor_info,bad:t(a.bad),good:t(a.good),page_info:a.page_info,goodat_tags:t(a.goodat_tags),best:t(a.best),assessTagData:t(a.best),goodAtTagData:t(a.goodat_tags),problem_id:s,is_advanced_graph:i})},fail:function(a){console.log(a)}})}});
},{isPage:true,isComponent:true,currentFile:'pages/assess_send/index.js'});require("pages/assess_send/index.js");$gwx_XC_51=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_51 || [];
function gz$gwx_XC_51_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_51_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_51_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_51_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_51=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_51=true;
var x=['./pages/audio_details/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_51_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_51";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_51();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/audio_details/index.wxml'] = [$gwx_XC_51, './pages/audio_details/index.wxml'];else __wxAppCode__['pages/audio_details/index.wxml'] = $gwx_XC_51( './pages/audio_details/index.wxml' );
	;__wxRoute = "pages/audio_details/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/audio_details/index.js";define("pages/audio_details/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onLoad:function(e){if(e.id)wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(e.id,"&topic_type=audio")});else{var o=decodeURIComponent(e.scene);o=this.parseScene(o),wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(o.id,"&topic_type=audio")})}}});
},{isPage:true,isComponent:true,currentFile:'pages/audio_details/index.js'});require("pages/audio_details/index.js");$gwx_XC_52=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_52 || [];
function gz$gwx_XC_52_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_52_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_52_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_52_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'loginFail'])
Z([3,'loginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_52_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_52_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_52=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_52=true;
var x=['./pages/authorize_page/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_52_1()
var o8L=_mz(z,'cy-authorize',['bindloginFail',0,'bindloginSuccess',1],[],e,s,gg)
_(r,o8L)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_52";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_52();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/authorize_page/index.wxml'] = [$gwx_XC_52, './pages/authorize_page/index.wxml'];else __wxAppCode__['pages/authorize_page/index.wxml'] = $gwx_XC_52( './pages/authorize_page/index.wxml' );
	;__wxRoute = "pages/authorize_page/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/authorize_page/index.js";define("pages/authorize_page/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onLoad:function(o){this.options=o},loginSuccess:function(){var o=this.options.page,n=this.options.jmethod||"redirectTo";wx[n]({url:"".concat(decodeURIComponent(o)),fail:function(o){wx.showToast({title:JSON.stringify(o),icon:"none"})}})},loginFail:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/authorize_page/index.js'});require("pages/authorize_page/index.js");$gwx_XC_53=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_53 || [];
function gz$gwx_XC_53_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_53_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_53_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_53_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'loading']])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_53_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_53_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_53=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_53=true;
var x=['./pages/baobei_payment/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_53_1()
var a0L=_v()
_(r,a0L)
if(_oz(z,0,e,s,gg)){a0L.wxVkey=1
var tAM=_mz(z,'cy-loading',['darkTheme',-1,'loading',1],[],e,s,gg)
_(a0L,tAM)
}
a0L.wxXCkey=1
a0L.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_53";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_53();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/baobei_payment/index.wxml'] = [$gwx_XC_53, './pages/baobei_payment/index.wxml'];else __wxAppCode__['pages/baobei_payment/index.wxml'] = $gwx_XC_53( './pages/baobei_payment/index.wxml' );
	;__wxRoute = "pages/baobei_payment/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/baobei_payment/index.js";define("pages/baobei_payment/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");Page({data:{loading:!1,orderUrl:""},onShow:function(){},onLoad:function(r){var a=this;a.setData({loading:!0,orderUrl:r.order_url}),wx.requestPayment({appId:r.appId,timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:decodeURIComponent(r.package),signType:r.signType,paySign:r.paySign,success:function(){var r=encodeURIComponent("".concat(e.baseUrl,"/v-m-mall/payment-success"));wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(r,"&returnToAllService=1")})},fail:function(){wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(a.data.orderUrl)})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/baobei_payment/index.js'});require("pages/baobei_payment/index.js");$gwx_XC_54=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_54 || [];
function gz$gwx_XC_54_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_54_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_54_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_54_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'confirm'])
Z([[7],[3,'btnText']])
Z([[7],[3,'modalShow']])
Z([[7],[3,'title']])
Z([3,'content'])
Z([[7],[3,'icon']])
Z([3,'知道了'])
Z([[7],[3,'noChanceTip']])
Z([3,'抽奖机会已用完'])
Z([3,'formConfirm'])
Z([1,false])
Z([3,'提交'])
Z([[7],[3,'modalFormShow']])
Z(z[3])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_54_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_54_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_54=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_54=true;
var x=['./pages/big_wheel/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_54_1()
var bCM=_mz(z,'cy-modal',['bind:confirmEvent',0,'btnText',1,'show',1,'title',2],[],e,s,gg)
var oDM=_n('view')
_rz(z,oDM,'slot',4,e,s,gg)
var xEM=_v()
_(oDM,xEM)
if(_oz(z,5,e,s,gg)){xEM.wxVkey=1
}
xEM.wxXCkey=1
_(bCM,oDM)
_(r,bCM)
var oFM=_mz(z,'cy-modal',['btnText',6,'show',1,'title',2],[],e,s,gg)
_(r,oFM)
var fGM=_mz(z,'cy-modal',['bind:confirmEvent',9,'btnClose',1,'btnText',2,'show',3,'title',4],[],e,s,gg)
_(r,fGM)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_54";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_54();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/big_wheel/index.wxml'] = [$gwx_XC_54, './pages/big_wheel/index.wxml'];else __wxAppCode__['pages/big_wheel/index.wxml'] = $gwx_XC_54( './pages/big_wheel/index.wxml' );
	;__wxRoute = "pages/big_wheel/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/big_wheel/index.js";define("pages/big_wheel/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,s=!0,n=e.baseUrl+"/events/lottery/weixin_mini/lottery_page/",o=e.baseUrl+"/events/lottery/lottery_result/",r=e.baseUrl+"/events/newer_task/record_form_id/",u=e.baseUrl+"/events/lottery/record_address_info/",d="chunyu_wap_mini";Page({data:{modalShow:!1,modalFormShow:!1,lottery_image:"",prize_num:0,animationData:null,result_num:0,prise_type:"",title:"",icon:"",content:"",times_left:0,add_submit_url:"",receiver:"",address:"",cellphone:"",noChanceTip:!1,btnText:"确定",rotate_num:1},onShow:function(){var e=this;t.globalData.appIsLogin.then((function(){e.init()}))},init:function(){this.initWheel();var t=wx.createAnimation({duration:5e3,timingFunction:"ease"});this.aniData=t},receiverInput:function(t){this.setData({receiver:t.detail.value})},cellphoneInput:function(t){this.setData({cellphone:t.detail.value})},addressInput:function(t){this.setData({address:t.detail.value})},initWheel:function(){var e=this;wx.request({url:n,header:{Cookie:t.globalData.sessionid},data:{partner:d},success:function(t){var i=t.data;i.activity_id?e.setData({prize_num:i.prize_num,lottery_image:i.icon,activity_id:i.activity_id,times_left:i.times_left||0,user_id:i.user_id}):wx.showToast({icon:"none",title:"数据加载失败，请退出重试",duration:3e3})},error:function(t){wx.showToast({icon:"none",title:"数据加载失败，请退出重试",duration:3e3})}})},getResult:function(){var e=this;s=!1,wx.request({url:o,header:{Cookie:t.globalData.sessionid},data:{partner:d,activity_id:this.data.activity_id},success:function(t){var i=t.data;i.success?(e.setData({prize_user_id:i.prize_user_id,title:i.title||"",prise_type:i.type||"",content:i.content||"",icon:i.icon||"",add_submit_url:i.url||"",result_num:i.num||0,times_left:i.times_left||0,btnText:"goods"===i.type?"领取":"确定"}),e.rotate()):wx.showToast({icon:"none",title:i.error_msg||"抽奖请求失败，请重试",duration:3e3})},error:function(){wx.showToast({icon:"none",title:"抽奖请求失败，请重试",duration:3e3})}})},startRollTap:function(){s&&(this.data.times_left<=0?this.setData({noChanceTip:!0}):(a("wxmini_luckydraw"),this.getResult()))},rotate:function(){var t=this,e=this.aniData,i=parseInt(360/this.data.prize_num*this.data.result_num);e.rotate(3600*this.data.rotate_num-i).step(),this.setData({animationData:e.export()}),this.data.rotate_num++,setTimeout((function(){t.setData({modalShow:!0}),s=!0}),5e3)},confirm:function(){"goods"==this.data.prise_type&&this.setData({modalFormShow:!0})},formConfirm:function(){this.data.receiver&&this.data.address&&this.data.cellphone?/^1[3|4|5|7|8]\d{9}$/.test(this.data.cellphone)?this.submitForm():wx.showToast({title:"手机号不正确",icon:"none"}):wx.showToast({title:"数据不能为空",icon:"none"})},submitForm:function(){var e=this;wx.request({url:u,method:"POST",header:{Cookie:t.globalData.sessionid},data:i({partner:d,prize_user_id:e.data.prize_user_id,cellphone:e.data.cellphone,address:e.data.address,receiver:e.data.receiver}),success:function(t){var i=t.data;i.success?(wx.showToast({title:"提交成功"}),e.setData({modalFormShow:!1})):wx.showToast({title:i.error_msg,icon:"none"})},error:function(){wx.showToast({icon:"none",title:"抽奖请求失败，请重试",duration:3e3})}})},hideTip:function(){this.setData({noChanceTip:!1})},formSubmit:function(t){t.detail&&t.detail.formId&&this.setData({form_id:t.detail.formId})},onShareAppMessage:function(){var e=this;return{title:"这个小程序你迟早用得上，赶快收藏吧。",path:"/pages/index/index?user_id="+e.data.user_id,imageUrl:"https://static.chunyuyisheng.com/@/media/images/2018/04/18/6d12/c0aa79f332a0_w696_h556_.png",success:function(a){e.data.form_id&&wx.request({url:r,method:"POST",header:{Cookie:t.globalData.sessionid},data:i({partner:d,form_id:e.data.form_id}),success:function(t){wx.showToast({title:"转发成功"})},error:function(){}})},fail:function(t){}}}});
},{isPage:true,isComponent:true,currentFile:'pages/big_wheel/index.js'});require("pages/big_wheel/index.js");$gwx_XC_55=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_55 || [];
function gz$gwx_XC_55_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_55_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_55_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_55_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([3,'bill__account clearfix'])
Z([[2,'=='],[[7],[3,'status']],[1,'refunding']])
Z([[2,'=='],[[7],[3,'status']],[1,'refunded']])
Z([3,'step'])
Z([[6],[[7],[3,'history']],[1,0]])
Z([[6],[[7],[3,'history']],[1,1]])
Z([[6],[[7],[3,'history']],[1,2]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_55_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_55_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_55=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_55=true;
var x=['./pages/bill_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_55_1()
var hIM=_n('view')
_rz(z,hIM,'class',0,e,s,gg)
var oJM=_n('view')
_rz(z,oJM,'class',1,e,s,gg)
var cKM=_v()
_(oJM,cKM)
if(_oz(z,2,e,s,gg)){cKM.wxVkey=1
}
var oLM=_v()
_(oJM,oLM)
if(_oz(z,3,e,s,gg)){oLM.wxVkey=1
}
cKM.wxXCkey=1
oLM.wxXCkey=1
_(hIM,oJM)
var lMM=_n('view')
_rz(z,lMM,'class',4,e,s,gg)
var aNM=_v()
_(lMM,aNM)
if(_oz(z,5,e,s,gg)){aNM.wxVkey=1
}
var tOM=_v()
_(lMM,tOM)
if(_oz(z,6,e,s,gg)){tOM.wxVkey=1
}
var ePM=_v()
_(lMM,ePM)
if(_oz(z,7,e,s,gg)){ePM.wxVkey=1
}
aNM.wxXCkey=1
tOM.wxXCkey=1
ePM.wxXCkey=1
_(hIM,lMM)
_(r,hIM)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_55";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_55();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/bill_detail/index.wxml'] = [$gwx_XC_55, './pages/bill_detail/index.wxml'];else __wxAppCode__['pages/bill_detail/index.wxml'] = $gwx_XC_55( './pages/bill_detail/index.wxml' );
	;__wxRoute = "pages/bill_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/bill_detail/index.js";define("pages/bill_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/balance/withdraw/record_detail/";Page({data:{},onLoad:function(o){var i,r=this,n=o.record_id,s=e.globalData.sessionid||wx.getStorageSync("sessionid"),d=e.globalData.partner;n?wx.request({url:a,method:"GET",header:{"Content-Type":"application/json",Cookie:s},data:(i={from_wx_mini:1,record_id:n,partner:d},t(i,"from_wx_mini",1),t(i,"is_json",1),i),success:function(t){t=t.data,r.setData({amount:t.amount,datetime:t.datetime,history:t.history,page_info:t.page_info,platform_info:t.platform_info,status:t.status,title:t.title})}}):wx.showToast({title:"这个没有详情～",icon:"none"})}});
},{isPage:true,isComponent:true,currentFile:'pages/bill_detail/index.js'});require("pages/bill_detail/index.js");$gwx_XC_56=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_56 || [];
function gz$gwx_XC_56_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_56_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_56_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_56_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_56_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_56_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_56=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_56=true;
var x=['./pages/change_phone_num/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_56_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_56";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_56();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/change_phone_num/index.wxml'] = [$gwx_XC_56, './pages/change_phone_num/index.wxml'];else __wxAppCode__['pages/change_phone_num/index.wxml'] = $gwx_XC_56( './pages/change_phone_num/index.wxml' );
	;__wxRoute = "pages/change_phone_num/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/change_phone_num/index.js";define("pages/change_phone_num/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,o=t.baseUrl+"/cooperation/wap/user_change_phone/",n=t.baseUrl+"/api/accounts/captcha/request",i=t.baseUrl+"/cooperation/wap/send_verify_code/",s=/^1\d{10}$/,r=/^\d{4}$/;Page({data:{changeInfo:{account:"",verifyCode:"",imgCode:"",counting:!1},restTime:"获取验证码",imgCodeKey:"",imgCodeUrl:""},onLoad:function(){this.getImgCode()},bindValue:function(e){var t=this.data.changeInfo,a=e.currentTarget.dataset.type||"",o=e.detail.value;a&&(t[a]=o||""),this.setData({changeInfo:t})},getImgCode:function(){var a=this;wx.request({url:n,header:{"Content-Type":"application/json"},data:{is_json:1,partner:e.globalData.partner},success:function(e){e.data.key?a.setData({imgCodeUrl:"".concat(t.baseUrl).concat(e.data.image_url),imgCodeKey:e.data.key}):wx.showToast({icon:"none",title:e.data.error_msg||"图形验证码获取失败，请稍后重试",duration:2e3})}})},timing:function(){var e=this;e.data.counting=!0,e.data.restTime=60,function t(){setTimeout((function(){--e.data.restTime,e.setData({restTime:e.data.restTime}),0!=e.data.restTime?t():e.setData({counting:!1,restTime:"获取验证码"})}),1e3)}()},getSMSCode:function(){var t=this,o=this.data,n=this.data.changeInfo;if(s.test(n.account))if(r.test(n.imgCode)){var c={account:n.account,scene:"user_change_phone",captcha_1:n.imgCode,captcha_0:o.imgCodeKey};wx.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:a(c),success:function(e){if(0!=e.data.error_code)return t.getImgCode(),void wx.showToast({icon:"none",title:e.data.error_msg||"验证码发送失败，请稍后重试",duration:2e3});wx.showToast({icon:"none",title:"验证码已发送",duration:2e3}),t.timing()},fail:function(){t.getImgCode(),wx.showToast({title:res.data.error_msg||"验证码发送失败，请稍后重试",icon:"none"})}})}else wx.showToast({title:"请输入正确的 4 位图形证码",icon:"none"});else wx.showToast({title:"请输入正确的 11 位手机号",icon:"none"})},makeSureChange:function(t){var n=this.data.changeInfo;if(s.test(n.account))if(r.test(n.verifyCode)){var i={phone:this.data.changeInfo.account,verify_code:this.data.changeInfo.verifyCode};wx.request({url:o,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:a(i),success:function(t){if(0==t.data.error_code){var a=t.data.sessionid,o="sessionid=".concat(a);wx.setStorageSync("sessionid",o),e.globalData.sessionid=o,wx.showToast({title:"修改成功"}),wx.navigateBack({delta:1})}0!=t.data.error_code&&wx.showModal({title:"提示",content:t.data.error_msg||"error",showCancel:!1,confirmText:"我知道了"})},fail:function(){}})}else wx.showToast({title:"请输入正确的 4 位手机验证码",icon:"none"});else wx.showToast({title:"请输入正确的 11 位手机号",icon:"none"})}});
},{isPage:true,isComponent:true,currentFile:'pages/change_phone_num/index.js'});require("pages/change_phone_num/index.js");$gwx_XC_57=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_57 || [];
function gz$gwx_XC_57_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_57_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_57_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_57_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_57_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_57_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_57=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_57=true;
var x=['./pages/cold_test/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_57_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_57";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_57();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cold_test/index.wxml'] = [$gwx_XC_57, './pages/cold_test/index.wxml'];else __wxAppCode__['pages/cold_test/index.wxml'] = $gwx_XC_57( './pages/cold_test/index.wxml' );
	;__wxRoute = "pages/cold_test/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/cold_test/index.js";define("pages/cold_test/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js");Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",nickName:""},onLoad:function(){var i=a.setWebviewUrlWithLoginCredentials("".concat(e.baseUrl,"/v_m_general_vue/cold_test"));this.setData({loading:!1,url:i})},onShareAppMessage:function(e){console.log(e.webViewUrl)}});
},{isPage:true,isComponent:true,currentFile:'pages/cold_test/index.js'});require("pages/cold_test/index.js");$gwx_XC_58=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_58 || [];
function gz$gwx_XC_58_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_58_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_58_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_58_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'sendHeart'])
Z([[7],[3,'show_double_heart_mask']])
Z([3,''])
Z([[7],[3,'tips_show']])
Z([[7],[3,'tips']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_58_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_58_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_58=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_58=true;
var x=['./pages/collect_heart_help/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_58_1()
var fUM=_n('cy-userinfo')
_rz(z,fUM,'bindloginevent',0,e,s,gg)
_(r,fUM)
var oTM=_v()
_(r,oTM)
if(_oz(z,1,e,s,gg)){oTM.wxVkey=1
}
var cVM=_mz(z,'cy-modal',['btnText',2,'show',1,'title',2],[],e,s,gg)
_(r,cVM)
oTM.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_58";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_58();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/collect_heart_help/index.wxml'] = [$gwx_XC_58, './pages/collect_heart_help/index.wxml'];else __wxAppCode__['pages/collect_heart_help/index.wxml'] = $gwx_XC_58( './pages/collect_heart_help/index.wxml' );
	;__wxRoute = "pages/collect_heart_help/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/collect_heart_help/index.js";define("pages/collect_heart_help/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),i=o.param,s=o.getQueryStr,r=e.baseUrl+"/events/activity/heart/help/page/",n=e.baseUrl+"/events/activity/send/heart/help/";Page({data:{show_double_heart_mask:!1,showIndex:0,tips_show:!1,collect_problem_id:"",end:!1,isLogin:!1,status:0},onShow:function(){var e=this;t.globalData.appIsLogin.then((function(){e.data.isLogin||(e.setData({isLogin:!0}),e.initData())}))},onLoad:function(t){var e="?".concat(decodeURIComponent(t.scene)),o=s("id",e||""),i=t.link;a("ActivityPageView",{activity_name:"sax_1",info:i?"link":"scan"}),this.setData({collect_problem_id:t.collect_problem_id||o}),this.initData();wx.setStorageSync("authorizationPointData",{from_type:"集爱心",activity_id:90,source_type:"smm-jax"})},initData:function(){var e=this,a=e.data.collect_problem_id,o=t.globalData.partner;wx.request({url:r,method:"GET",data:{partner:o,problem_id:a,from_wx_mini:1},success:function(t){var a=t.data;e.setData({image:a.image||"",nickname:a.nickname||"",collects:a.collects||[]}),e.countTime(a.left_timestamp),a.collects&&a.collects.count&&e.showIndexFn(a.collects.count)}})},freeQa:function(){a("ActivityClick",{activity_name:"sax_3",click_position:"sax_sup"})},backHome:function(){a("ActivityClick",{activity_name:"sax_3",click_position:"sax_tohome"})},sendHeart:function(){var e=this,a=e.data.collect_problem_id,o=t.globalData.partner,s={problem_id:a,partner:o,from_wx_mini:1};wx.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"POST",data:i(s),success:function(t){var o=t.data;0==o.error?(wx.setStorage({key:"double_heart_problem_id",data:a}),e.setData({show_double_heart_mask:!0,status:2})):4==o.error?e.setData({show_double_heart_mask:!0,status:1}):5==o.error?(wx.setStorage({key:"double_heart_problem_id",data:a}),e.setData({show_double_heart_mask:!0,status:2})):1!=o.error&&2!=o.error&&3!=o.error||e.setData({tips:o.error_msg,tips_show:!0})},fail:function(t){e.setData({tips:t&&t.data&&t.data.error_msg?t.data.error_msg:"赠送失败，可能已赠送过爱心给其他用户",tips_show:!0})}})},countTime:function(t){var e=t||0,a=0,o=0,i=0,s=this;if(0!=e)var r=setInterval((function(){(new Date).getTime(),e-=1e3,Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),o=Math.floor(e%864e5%36e5/6e4),i=Math.floor(e%864e5%36e5%6e4/1e3),e<=0?(s.setData({end:!0}),console.log("已结束"),clearInterval(r)):s.setData({hour:a>9?a:"0"+a,minute:o>9?o:"0"+o,second:i>9?i:"0"+i})}),1e3);else s.setData({end:!0})},showIndexFn:function(t){var e=this;setInterval((function(){t==e.data.showIndex&&(e.data.showIndex=-1),e.setData({showIndex:++e.data.showIndex})}),3e3)},onShareAppMessage:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/collect_heart_help/index.js'});require("pages/collect_heart_help/index.js");$gwx_XC_59=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_59 || [];
function gz$gwx_XC_59_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_59_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_59_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_59_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showPage']])
Z([3,'container'])
Z([3,'collect-wrap'])
Z([[6],[[7],[3,'page_info']],[3,'len']])
Z([3,'index'])
Z([[6],[[6],[[7],[3,'page_info']],[3,'collects']],[3,'users']])
Z([[2,'||'],[[2,'<'],[[7],[3,'index']],[1,6]],[[2,'&&'],[[2,'>'],[[7],[3,'index']],[1,5]],[[7],[3,'showMore']]]])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'page_info']],[3,'len']],[1,6]],[[2,'!'],[[7],[3,'showMore']]]])
Z([3,'hideMask'])
Z([3,'mask'])
Z([[2,'!'],[[7],[3,'showCanvas']]])
Z(z[9])
Z([[2,'=='],[[7],[3,'showAfterSave']],[1,0]])
Z([[2,'=='],[[7],[3,'showAfterSave']],[1,3]])
Z([[2,'=='],[[7],[3,'showAfterSave']],[1,1]])
Z(z[14])
Z([[2,'=='],[[7],[3,'showAfterSave']],[1,2]])
Z([3,'confirm'])
Z([3,''])
Z([[2,'&&'],[[2,'<='],[[7],[3,'sareTimes']],[1,2]],[[7],[3,'sharePopShow']]])
Z([3,'分享成功'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_59_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_59_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_59=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_59=true;
var x=['./pages/collect_heart_qa/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_59_1()
var oXM=_v()
_(r,oXM)
if(_oz(z,0,e,s,gg)){oXM.wxVkey=1
var cYM=_n('view')
_rz(z,cYM,'class',1,e,s,gg)
var oZM=_n('view')
_rz(z,oZM,'class',2,e,s,gg)
var l1M=_v()
_(oZM,l1M)
if(_oz(z,3,e,s,gg)){l1M.wxVkey=1
var t3M=_v()
_(l1M,t3M)
var e4M=function(o6M,b5M,x7M,gg){
var f9M=_v()
_(x7M,f9M)
if(_oz(z,6,o6M,b5M,gg)){f9M.wxVkey=1
}
f9M.wxXCkey=1
return x7M
}
t3M.wxXCkey=2
_2z(z,5,e4M,e,s,gg,t3M,'item','index','')
}
var a2M=_v()
_(oZM,a2M)
if(_oz(z,7,e,s,gg)){a2M.wxVkey=1
}
l1M.wxXCkey=1
a2M.wxXCkey=1
_(cYM,oZM)
var c0M=_mz(z,'view',['bindtap',8,'class',1,'hidden',2,'id',3],[],e,s,gg)
var hAN=_v()
_(c0M,hAN)
if(_oz(z,12,e,s,gg)){hAN.wxVkey=1
}
var oBN=_v()
_(c0M,oBN)
if(_oz(z,13,e,s,gg)){oBN.wxVkey=1
}
var cCN=_v()
_(c0M,cCN)
if(_oz(z,14,e,s,gg)){cCN.wxVkey=1
}
var oDN=_v()
_(c0M,oDN)
if(_oz(z,15,e,s,gg)){oDN.wxVkey=1
}
var lEN=_v()
_(c0M,lEN)
if(_oz(z,16,e,s,gg)){lEN.wxVkey=1
}
hAN.wxXCkey=1
oBN.wxXCkey=1
cCN.wxXCkey=1
oDN.wxXCkey=1
lEN.wxXCkey=1
_(cYM,c0M)
var aFN=_mz(z,'cy-modal',['bind:confirmEvent',17,'btnText',1,'show',2,'title',3],[],e,s,gg)
_(cYM,aFN)
_(oXM,cYM)
}
oXM.wxXCkey=1
oXM.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_59";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_59();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/collect_heart_qa/index.wxml'] = [$gwx_XC_59, './pages/collect_heart_qa/index.wxml'];else __wxAppCode__['pages/collect_heart_qa/index.wxml'] = $gwx_XC_59( './pages/collect_heart_qa/index.wxml' );
	;__wxRoute = "pages/collect_heart_qa/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/collect_heart_qa/index.js";define("pages/collect_heart_qa/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,s=e.baseUrl+"/events/activity/heart/collect/page/",i=e.baseUrl+"/events/activity/send/to/friend/",c=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{savePath:"",screenWH:[],showCanvas:!1,showAfterSave:0,shareQrUrl:"",page_info:{},width:0,rule:"",showRule:!1,showCashBack:!1,showMore:!1,showPage:!1,showShare:!1,hasNewPic:!1,sareTimes:0,headPicList:["https://static.chunyuyisheng.com/@/media/images/2018/06/12/f8d1/78ed6e48924b_w220_h220_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/3852/73e437f47362_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/5233/1919abeff81a_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/6c89/b65bfa4d722a_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/68c5/c513bc568437_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/1035/30dd39c5b51f_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/edf7/23de46c48567_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/2f58/5f228cdbff67_w200_h201_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/5483/380d6413fe23_w180_h180_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/61db/bc82d730a9a6_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/1240/720d4f718c5b_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/80e7/13743945bb98_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/ed7b/e48145fb72b0_w220_h220_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/4f01/1a97566d1edc_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/8ec1/0ec6e5377aa0_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/a788/af2408b8a9d3_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/ee8f/84bc6b05db2f_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/0d19/50ced56aeda4_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/f644/a084a3c9d759_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/c368/632f778ba099_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/d1dc/c0f1a13159ed_w500_h500_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/a7ed/f2cb62010ab7_w250_h250_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/2df0/7000bbb51697_w304_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/39fb/be06ce404c1d_w200_h200_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/5b10/a081c0042fa2_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/8690/9987efd11389_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/306c/0590d112bb05_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/10a2/d1eb712fd7cd_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/53f2/a80b7956e1f0_w241_h240_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/131e/f1041dac2bb5_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/9bfd/2dabb07d24c2_w300_h300_.jpg","https://static.chunyuyisheng.com/@/media/images/2018/06/12/5b41/569acc61a86d_w300_h300_.jpg"],txtPicList:["https://staff.chunyu.mobi/@/media/images/2018/11/20/fe84/65a9166121c7_w98_h43_.png","https://staff.chunyu.mobi/@/media/images/2018/11/20/fd02/83567b1f675e_w98_h43_.png","https://staff.chunyu.mobi/@/media/images/2018/11/20/dda3/67b1b6e2bad3_w98_h43_.png"],headPic:"https://static.chunyuyisheng.com/@/media/images/2018/06/12/5b41/569acc61a86d_w300_h300_.jpg",txtPic:"https://static.chunyuyisheng.com/@/media/images/2018/08/21/7b7b/268771fb0d4e_w100_h43_.png",hour:"00",minute:"00",second:"00",end:!1,userList:[],cityList:["北京","天津","河北","山西","内蒙","辽宁","吉林","黑龙江","上海","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","重庆","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","台湾"],nameList:["红***て","人***年","2B***擦","阳***里","我***流","黑***妹","叼***下","魔***族","菊***手","訞***柒","沧***神","nb***队","傲***◇","∫***問","ˇ至***渝","马***钱","含***颠","完***1゜","ー***感","给***球","拈***笑","丶***圈","缺***ゝ","以***心。","爱***区","弯***諨","女***上","玩***猪","针***芒","所***人","有***得","老***王","狗***衷","若***Ω","一***i","心***热","闲***人","平***下","徹***醉"],price:0,activity_info:{},re_collect_rule:"",collect:0},onLoad:function(t){var e=decodeURIComponent(t.scene)||"";this.setData({problem_id:t.problem_id||e}),this.getInfo(),this.switchPic(),this.switchName(),c("ActivityPageView",{activity_name:"jax_1",platform_source:"weixin_mini"})},onShow:function(){},getInfo:function(){var e=this,a=t.globalData.partner,i=e.data.problem_id;wx.request({url:s,method:"GET",data:{partner:a,problem_id:i,from_wx_mini:1},success:function(t){var a=t.data;a.error_code?wx.showToast({title:a.error_msg||"接口请求出错，请重试！",icon:"none"}):(a.len=a.collects?a.collects.count:0,e.setData({page_info:a,shareQrUrl:a.qr_code_url,showPage:!0,rule:a.rule,price:a.price,activity_info:a.activity_info,width:Math.floor(.5*a.len/a.price*100)+"%",re_collect_rule:a.re_collect_rule||"",collect:a.len}),e.countTime(a.left_timestamp))}})},onShareAppMessage:function(){var e=this,a=t.globalData.partner,s=e.data.problem_id,i={problem_id:s,partner:a,from_wx_mini:1};return{title:"集爱心，求帮助",path:"/pages/collect_heart_help/index?collect_problem_id="+s+"&link=1",imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/09/07/340f/34550169a0e2_w420_h336_.png",success:function(t){e.shareSendMsg(i),e.setData({sareTimes:++e.data.sareTimes,sharePopShow:!0})}}},shareSendMsg:function(e){wx.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"POST",data:a(e),success:function(t){console.log(t)},fail:function(t){console.log(t.data.error_msg)}})},sendFriends:function(){c("ActivityClick",{activity_name:"jax_2",click_position:"jax_friends"})},getScreenWH:function(t){try{var e=wx.getSystemInfoSync(),a=this.data.screenWH;a.push(e.windowWidth),a.push(e.windowHeight),t&&t()}catch(t){}},countTime:function(t){var e=t||0,a=0,s=0,i=0,c=this;if(0!=e){(new Date).getTime(),e-=1e3,Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),s=Math.floor(e%864e5%36e5/6e4),i=Math.floor(e%864e5%36e5%6e4/1e3),e<=0?(c.setData({end:!0}),console.log("已结束"),clearInterval(h)):c.setData({hour:a>9?a:"0"+a,minute:s>9?s:"0"+s,second:i>9?i:"0"+i});var h=setInterval((function(){(new Date).getTime(),e-=1e3,Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),s=Math.floor(e%864e5%36e5/6e4),i=Math.floor(e%864e5%36e5%6e4/1e3),e<=0?(c.setData({end:!0}),console.log("已结束"),clearInterval(h)):c.setData({hour:a>9?a:"0"+a,minute:s>9?s:"0"+s,second:i>9?i:"0"+i})}),1e3)}else c.setData({end:!0})},switchPic:function(){var t=0,e=0,a=this;setInterval((function(){t=Math.floor(20*Math.random()),e>1?e=0:e++,a.setData({headPic:a.data.headPicList[t],txtPic:a.data.txtPicList[e]})}),2e3)},switchName:function(){for(var t=0,e=0,a=this,s=this.data.cityList.length,i=this.data.nameList.length,c=[],h=0;h<3;h++)t=Math.floor(Math.random()*s),e=Math.floor(Math.random()*i),c.push({city:a.data.cityList[t],name:a.data.nameList[e]}),a.setData({userList:c});setInterval((function(){c=[];for(var h=0;h<3;h++)t=Math.floor(Math.random()*s),e=Math.floor(Math.random()*i),c.push({city:a.data.cityList[t],name:a.data.nameList[e]}),a.setData({userList:c})}),3e3)},createPic:function(){var t=this;if(c("ActivityClick",{activity_name:"jax_2",click_position:"jax_wechat"}),function(t,e){t=t.split("."),e=e.split(".");var a=Math.max(t.length,e.length);for(;t.length<a;)t.push("0");for(;e.length<a;)e.push("0");for(var s=0;s<a;s++){var i=parseInt(t[s]),c=parseInt(e[s]);if(i>c)return 1;if(i<c)return-1}return 0}(wx.getSystemInfoSync().SDKVersion,"1.9.0")<0)wx.showModal({title:"提示",content:"当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。"});else if(t.setData({showCanvas:!0}),t.data.savePath)t.setData({showImg:!0});else{t.getScreenWH();var e=t.data.screenWH[0]-40,a=738*e/670,s=80*e/670,i=75+150*e/670,h=a-34*e/670-2*s-20,n=wx.createCanvasContext("share_friend");wx.getImageInfo({src:"https://resourced.chunyu.mobi/rBYAAABFzLeGPY0W-fb0bf73b-0403-4351-a3de-c9c4fed4b6ce_w670_h738_.png",success:function(c){var o=c.path;n.drawImage(o,0,0,670,738,20,0,e,a),n.draw(),t.data.shareQrUrl?wx.downloadFile({url:t.data.shareQrUrl,success:function(c){200===c.statusCode?(n.arc(i+s,h+s,s,0,2*Math.PI),n.clip(),n.drawImage(c.tempFilePath,i,h,2*s,2*s),n.draw(!0,(function(){wx.canvasToTempFilePath({x:20,y:0,width:e,height:a,destWidth:670,destHeight:738,canvasId:"share_friend",success:function(e){n.save(),t.setData({savePath:e.tempFilePath}),t.shareSendMsg()}})}))):t.setData({showAfterSave:2})},fail:function(t){console.log(JSON.stringify(t))}}):t.setData({showAfterSave:2})},fail:function(){wx.showToast({title:"网络请求失败",icon:"error",success:function(){setTimeout((function(){wx.hideToast()}),1500)}})}})}},savePic:function(){var t=this;t.setData({showAfterSave:3}),wx.saveImageToPhotosAlbum({filePath:t.data.savePath,success:function(e){t.setData({showAfterSave:1})},fail:function(e){t.setData({showAfterSave:0})}})},hideMask:function(t){t.target.id===t.currentTarget.id&&this.setData({showCanvas:!1})},showRuleLayer:function(){this.setData({showRule:!0})},hideRuleLayer:function(){this.setData({showRule:!1})},showCashLayer:function(){this.setData({showCashBack:!0})},hideCashLayer:function(){this.setData({showCashBack:!1})},showMoreList:function(){this.setData({showMore:!0})},popShare:function(){this.setData({sharePopShow:!1})}});
},{isPage:true,isComponent:true,currentFile:'pages/collect_heart_qa/index.js'});require("pages/collect_heart_qa/index.js");$gwx_XC_60=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_60 || [];
function gz$gwx_XC_60_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_60_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_60_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_60_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'search_results']],[3,'length']])
Z([3,'idx'])
Z([3,'qaItem'])
Z([[7],[3,'search_results']])
Z([3,'index'])
Z([3,'pointEvent'])
Z([[6],[[7],[3,'qaItem']],[3,'id']])
Z([[2,'+'],[[7],[3,'idx']],[1,1]])
Z([[2,'+'],[1,'../qa_im/index?page_type\x3dv2\x26from\x3dhome_search\x26entrance_type\x3dfrom_home_search\x26problem_id\x3d'],[[6],[[7],[3,'qaItem']],[3,'id']]])
Z([3,'question-list weui-media-box item-bottom-line line-clamp3'])
Z([3,'text-overflow: ellipsis;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp:3'])
Z([[6],[[7],[3,'qaItem']],[3,'ask']])
Z([3,'overflow: hidden;text-overflow: ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp: 2;'])
Z([[6],[[7],[3,'qaItem']],[3,'answer']])
Z([[7],[3,'isLoading']])
Z([[7],[3,'noMore']])
Z([[2,'&&'],[[7],[3,'bottomBtnInfo']],[[7],[3,'isShowBottomBtn']]])
Z([3,'onButtomBtn'])
Z([3,'bottom-btn'])
Z([[6],[[7],[3,'bottomBtnInfo']],[3,'button_info']])
Z([[6],[[6],[[7],[3,'bottomBtnInfo']],[3,'button_info']],[3,'button_icon']])
Z([[7],[3,'loading']])
Z([[7],[3,'noResult']])
Z([3,'没有更多搜索内容'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_60_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_60_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_60=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_60=true;
var x=['./pages/consult_record/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_60_1()
var eHN=_n('view')
var bIN=_v()
_(eHN,bIN)
if(_oz(z,0,e,s,gg)){bIN.wxVkey=1
var xKN=_n('view')
var cNN=_v()
_(xKN,cNN)
var hON=function(cQN,oPN,oRN,gg){
var aTN=_mz(z,'cy-navigator',['bind:mytap',5,'data-id',1,'data-listorder',2,'url',3],[],cQN,oPN,gg)
var tUN=_n('view')
_rz(z,tUN,'class',9,cQN,oPN,gg)
var eVN=_mz(z,'mp-html',['containerStyle',10,'content',1],[],cQN,oPN,gg)
_(tUN,eVN)
var bWN=_mz(z,'mp-html',['containerStyle',12,'content',1],[],cQN,oPN,gg)
_(tUN,bWN)
_(aTN,tUN)
_(oRN,aTN)
return oRN
}
cNN.wxXCkey=4
_2z(z,3,hON,e,s,gg,cNN,'qaItem','idx','index')
var oLN=_v()
_(xKN,oLN)
if(_oz(z,14,e,s,gg)){oLN.wxVkey=1
}
var fMN=_v()
_(xKN,fMN)
if(_oz(z,15,e,s,gg)){fMN.wxVkey=1
}
oLN.wxXCkey=1
fMN.wxXCkey=1
_(bIN,xKN)
}
var oJN=_v()
_(eHN,oJN)
if(_oz(z,16,e,s,gg)){oJN.wxVkey=1
var oXN=_mz(z,'view',['bind:tap',17,'class',1],[],e,s,gg)
var xYN=_v()
_(oXN,xYN)
if(_oz(z,19,e,s,gg)){xYN.wxVkey=1
var oZN=_v()
_(xYN,oZN)
if(_oz(z,20,e,s,gg)){oZN.wxVkey=1
}
oZN.wxXCkey=1
}
xYN.wxXCkey=1
_(oJN,oXN)
}
var f1N=_mz(z,'cy-loading',['loading',21,'noResult',1,'noResultTip',2],[],e,s,gg)
_(eHN,f1N)
bIN.wxXCkey=1
bIN.wxXCkey=3
oJN.wxXCkey=1
_(r,eHN)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_60";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_60();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/consult_record/index.wxml'] = [$gwx_XC_60, './pages/consult_record/index.wxml'];else __wxAppCode__['pages/consult_record/index.wxml'] = $gwx_XC_60( './pages/consult_record/index.wxml' );
	;__wxRoute = "pages/consult_record/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/consult_record/index.js";define("pages/consult_record/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").dateFormat,n=a.baseUrl+"/api/v5/similar_problem/",s=a.baseUrl+"/api/v5/similar_problem/append_info/",r=null;Page({data:{search_results:[],page:1,noMore:!1,isLoading:!1,query:"",noResult:!1,loading:!1,bottomBtnInfo:null,isShowBottomBtn:!1,showCount:2,visitPageName:"相关咨询记录列表页",fromVisitPage:""},onLoad:function(t){if(t.query&&this.setData({query:t.query}),this.setData({fromVisitPage:t.from_visit_page||""}),this.getNewsList(),this.getBottomBtn(),wx.getStorageSync("date-count-qa")){var e=wx.getStorageSync("date-count-qa"),a=e.split("-")[0],i=e.split("-")[1];a===this.getDateStr()&&parseInt(i)>=this.data.showCount&&this.setData({isShowBottomBtn:!0})}},onShow:function(){(0,t.default)({fromName:this.data.visitPageName||"",name:this.data.visitPageName,extraInfo:{}})},loadMore:function(){this.getNewsList()},getDateStr:function(){var t=new Date;return Date.prototype.dateFormat=o,t.dateFormat("yyyy:MM:dd")},getBottomBtn:function(){var t=this,a=t.data.query;wx.request({url:s,data:{query:a},method:"GET",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},complete:function(){},success:function(e){var a={};e.data&&e.data.data&&(a=e.data.data),t.setData({bottomBtnInfo:a.quick_ask_guide?a.quick_ask_guide.display_info:null,showCount:a.quick_ask_guide?a.quick_ask_guide.trigger_count:2})}})},getNewsList:function(){var t=this,a=t.data.page,i=t.data.search_results,o={query:t.data.query,page:a};this.data.isLoading||(this.setData({isLoading:!0,loading:1===a}),wx.request({url:n,data:o,method:"GET",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},complete:function(){t.setData({isLoading:!1,loading:!1})},success:function(e){var o=e.data;o.length?t.setData({page:a+1,search_results:1==a?o:i.concat(o),noMore:!(o.length>=20)}):t.setData({noMore:!0,noResult:1===a})}}))},onReachBottom:function(){!this.data.noMore&&this.data.search_results.length>=20&&this.loadMore()},pointEvent:function(t){var e=this;if(wx.getStorageSync("date-count-qa")){var a=wx.getStorageSync("date-count-qa"),o=a.split("-")[0],n=a.split("-")[1];o===e.getDateStr()?(wx.setStorageSync("date-count-qa",e.getDateStr()+"-"+(parseInt(n)+1)),r&&(r=null),r=setTimeout((function(){e.setData({isShowBottomBtn:parseInt(n)+1>=e.data.showCount})}),1e3)):wx.setStorageSync("date-count-qa",e.getDateStr()+"-1")}else wx.setStorageSync("date-count-qa",e.getDateStr()+"-1");var s=t.currentTarget.dataset,u=s.listorder,d=s.id;i("HomeSearchClick",{app:"weixin_mini",click_position:"相关咨询记录卡片",page_readable_name:"相关咨询记录列表页",list_order:u,problem_id:d,query:e.data.query})},onButtomBtn:function(){i("AppClick",{app:"weixin_mini",click_position:"快速问诊引导条",page_readable_name:"相关咨询记录列表页",click_position_value:this.data.query}),wx.navigateTo({url:"/pages/inquery/inquery?initial_content=".concat(this.data.query,"&from_visit_page=").concat(this.data.visitPageName)})}});
},{isPage:true,isComponent:true,currentFile:'pages/consult_record/index.js'});require("pages/consult_record/index.js");$gwx_XC_61=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_61 || [];
function gz$gwx_XC_61_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_61_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_61_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_61_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_61_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_61_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_61=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_61=true;
var x=['./pages/contact_page/contact_page.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_61_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_61";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_61();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/contact_page/contact_page.wxml'] = [$gwx_XC_61, './pages/contact_page/contact_page.wxml'];else __wxAppCode__['pages/contact_page/contact_page.wxml'] = $gwx_XC_61( './pages/contact_page/contact_page.wxml' );
	;__wxRoute = "pages/contact_page/contact_page";__wxRouteBegin = true;__wxAppCurrentFile__="pages/contact_page/contact_page.js";define("pages/contact_page/contact_page.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../43A2F676829A079C25C49E711B4C7B70.js"),i=require("../../982D50C4829A079CFE4B38C322EC7B70.js");Page({data:{config:{},user_id:wx.getStorageSync("sessionUserId")},onLoad:function(){(0,t.manualLogin)().then(this.startQiYu)},startQiYu:function(){var t=this;wx.showLoading({mask:!0,title:"加载中"}),(0,i.getQiYu)().then((function(i){t.setData({config:i}),wx.hideLoading()}))}});
},{isPage:true,isComponent:true,currentFile:'pages/contact_page/contact_page.js'});require("pages/contact_page/contact_page.js");$gwx_XC_62=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_62 || [];
function gz$gwx_XC_62_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_62_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_62_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_62_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'doConvert'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_62_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_62_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_62=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_62=true;
var x=['./pages/coupon_convert/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_62_1()
var o4N=_n('cy-userinfo')
_rz(z,o4N,'bindloginevent',0,e,s,gg)
_(r,o4N)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_62";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_62();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/coupon_convert/index.wxml'] = [$gwx_XC_62, './pages/coupon_convert/index.wxml'];else __wxAppCode__['pages/coupon_convert/index.wxml'] = $gwx_XC_62( './pages/coupon_convert/index.wxml' );
	;__wxRoute = "pages/coupon_convert/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/coupon_convert/index.js";define("pages/coupon_convert/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/v7/coupon/exchange/";Page({data:{rules:"",noData:!1,inputValue:""},bindKeyInput:function(e){this.setData({inputValue:e.detail.value})},doConvert:function(){wx.request({url:t,method:"POST",data:{version:"8.1.2",vertical_code:this.data.inputValue},header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},success:function(e){var t=e.data;t.success?wx.showToast({title:t.info||"兑换成功",icon:"none"}):wx.showToast({title:t.error_msg||"兑换失败",icon:"none"})},fail:function(e){wx.showToast({title:"兑换错误",icon:"none"})}})},onShareAppMessage:function(){return{path:"/pages/coupon_convert/index",title:"兑换优惠码"}}});
},{isPage:true,isComponent:true,currentFile:'pages/coupon_convert/index.js'});require("pages/coupon_convert/index.js");$gwx_XC_63=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_63 || [];
function gz$gwx_XC_63_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_63_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'getDoctors'])
Z([3,'container'])
Z([[7],[3,'banner']])
Z([3,'pointLogin'])
Z([3,'../my_coupon/index?from_type\x3dcoupon_activity'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_63_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_63=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_63=true;
var x=['./pages/coupon_convert_home/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_63_1()
var o6N=_mz(z,'scroll-view',['scrollY',-1,'bindscrolltolower',0,'class',1],[],e,s,gg)
var l7N=_v()
_(o6N,l7N)
if(_oz(z,2,e,s,gg)){l7N.wxVkey=1
}
var a8N=_mz(z,'cy-userinfo',['bindisloginevent',3,'url',1],[],e,s,gg)
_(o6N,a8N)
l7N.wxXCkey=1
_(r,o6N)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_63";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_63();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/coupon_convert_home/index.wxml'] = [$gwx_XC_63, './pages/coupon_convert_home/index.wxml'];else __wxAppCode__['pages/coupon_convert_home/index.wxml'] = $gwx_XC_63( './pages/coupon_convert_home/index.wxml' );
	;__wxRoute = "pages/coupon_convert_home/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/coupon_convert_home/index.js";define("pages/coupon_convert_home/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,i=a.baseUrl+"/cooperation/partner_volunteer/doctors/info/",n=a.baseUrl+"/cooperation/partner_volunteer/home/";Page({data:{rules:"",noData:!1,hasMore:!0,inputValue:"",list:[],page:1,banner:"",activityPartner:""},onLoad:function(a){a.activity_partner&&(t.globalData.activityPartner=a.activity_partner),this.setData({activityPartner:t.globalData.activityPartner}),this.getDoctors(),this.getBanner()},bindKeyInput:function(t){this.setData({inputValue:t.detail.value})},getBanner:function(){var a=this;wx.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"GET",data:{is_json:1,partner:a.data.activityPartner},success:function(t){t=t.data&&t.data.result||{};wx.setNavigationBarTitle({title:t.title||""}),a.setData({banner:t.banner})},fail:function(t){wx.showToast({title:"获取banner错误",icon:"none,"})}})},getDoctors:function(a){var e=this,n=e.data.page;e.data.hasMore&&wx.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"GET",data:{page:n,partner:e.data.activityPartner},success:function(t){t=t.data||{};var a=[];a=1===n?t.doctor_info_list:e.data.list.concat(t.doctor_info_list),e.setData({list:a,hasMore:t.has_more,page:++n})},fail:function(t){wx.showToast({title:"获取医生列表错误",icon:"none,"})}})},pointLogin:function(){this.setData({isAuthBtnClick:!0}),e("AppClick",{page_readable_name:"登录授权按钮",click_position:"个人中心登录按钮"})}});
},{isPage:true,isComponent:true,currentFile:'pages/coupon_convert_home/index.js'});require("pages/coupon_convert_home/index.js");$gwx_XC_64=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_64 || [];
function gz$gwx_XC_64_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_64_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_64_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_64_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'step-wrap '],[[2,'?:'],[[7],[3,'isAddPadding']],[1,'add-padding-bottom'],[1,'']]])
Z([[7],[3,'desc']])
Z([[7],[3,'descImg']])
Z([[7],[3,'isShowRecord']])
Z([3,'record-wrap'])
Z([[2,'!'],[[6],[[7],[3,'recordInfo']],[3,'ehr_id']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isUsingDevice']]],[[2,'!'],[[7],[3,'onlySelfEhr']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_64_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_64_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_64=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_64=true;
var x=['./pages/device_use/components/step/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_64_1()
var e0N=_n('view')
_rz(z,e0N,'class',0,e,s,gg)
var bAO=_v()
_(e0N,bAO)
if(_oz(z,1,e,s,gg)){bAO.wxVkey=1
}
var oBO=_v()
_(e0N,oBO)
if(_oz(z,2,e,s,gg)){oBO.wxVkey=1
}
var xCO=_v()
_(e0N,xCO)
if(_oz(z,3,e,s,gg)){xCO.wxVkey=1
var oDO=_n('view')
_rz(z,oDO,'class',4,e,s,gg)
var fEO=_v()
_(oDO,fEO)
if(_oz(z,5,e,s,gg)){fEO.wxVkey=1
}
else{fEO.wxVkey=2
var cFO=_v()
_(fEO,cFO)
if(_oz(z,6,e,s,gg)){cFO.wxVkey=1
}
cFO.wxXCkey=1
}
fEO.wxXCkey=1
_(xCO,oDO)
}
bAO.wxXCkey=1
oBO.wxXCkey=1
xCO.wxXCkey=1
_(r,e0N)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_64";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_64();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/device_use/components/step/index.wxml'] = [$gwx_XC_64, './pages/device_use/components/step/index.wxml'];else __wxAppCode__['pages/device_use/components/step/index.wxml'] = $gwx_XC_64( './pages/device_use/components/step/index.wxml' );
	;__wxRoute = "pages/device_use/components/step/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/device_use/components/step/index.js";define("pages/device_use/components/step/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;require("../../../../92BC1755829A079CF4DA7F52C55D7B70.js").wxShowToast;Component({properties:{isAddPadding:{type:Boolean,value:!1},title:{type:String,value:""},desc:{type:String,value:""},isHighlightDesc:{type:Boolean,value:!1},icon:{type:String,value:""},isShowImg:{type:Boolean,value:!0},isShowRecord:{type:Boolean,value:!1},recordInfo:{type:Object,value:function(){}},descImg:{type:String,value:""},isUsingDevice:{type:Boolean,value:!1},onlySelfEhr:{type:Boolean,value:!1}},data:{},methods:{jumpToSelectRecordList:function(){var o=this.data.recordInfo,t=(void 0===o?{}:o).ehr_id,n="".concat(e,"/v_m_general_vue/qa/health_records/select/?scene=station_device_dock&ehr_id=").concat(t);wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(n))})},jumpToAddNewRecord:function(){var o=this.properties.onlySelfEhr?"1":"0",t="".concat(e,"/v_m_general_vue/qa/health_records/edit?scene=station_device_dock&only_self_ehr=").concat(o);wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t))})}}});
},{isPage:false,isComponent:true,currentFile:'pages/device_use/components/step/index.js'});require("pages/device_use/components/step/index.js");$gwx_XC_65=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_65 || [];
function gz$gwx_XC_65_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_65_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_65_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_65_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'device-use-wrap'])
Z([[6],[[7],[3,'deviceInfo']],[3,'device_name']])
Z([[6],[[7],[3,'deviceInfo']],[3,'device_image']])
Z([[7],[3,'firstStepIcon']])
Z([[7],[3,'isShowSecondStep']])
Z([1,true])
Z(z[5])
Z(z[4])
Z([[6],[[7],[3,'deviceInfo']],[3,'only_self_ehr']])
Z([[7],[3,'recordInfo']])
Z([3,'您正在使用的设备'])
Z(z[4])
Z([3,'请遵从健康顾问线下指导，规范检测'])
Z([[7],[3,'secondDescImg']])
Z([[7],[3,'secondStepIcon']])
Z([[7],[3,'isShowThirdStep']])
Z([3,'设备正在使用中...'])
Z(z[15])
Z([[7],[3,'thirdStepIcon']])
Z([1,false])
Z([3,'设备使用结束，请查看检测报告'])
Z([[7],[3,'isShowUseBtn']])
Z([3,'confirmEvent'])
Z([3,'我知道了'])
Z([[7],[3,'isShowDialog']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_65_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_65_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_65=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_65=true;
var x=['./pages/device_use/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_65_1()
var oHO=_n('view')
_rz(z,oHO,'class',0,e,s,gg)
var aLO=_mz(z,'step',['desc',1,'descImg',1,'icon',2,'isAddPadding',3,'isHighlightDesc',4,'isShowRecord',5,'isUsingDevice',6,'onlySelfEhr',7,'recordInfo',8,'title',9],[],e,s,gg)
_(oHO,aLO)
var cIO=_v()
_(oHO,cIO)
if(_oz(z,11,e,s,gg)){cIO.wxVkey=1
var tMO=_mz(z,'step',['desc',12,'descImg',1,'icon',2,'isAddPadding',3,'title',4],[],e,s,gg)
_(cIO,tMO)
}
var oJO=_v()
_(oHO,oJO)
if(_oz(z,17,e,s,gg)){oJO.wxVkey=1
var eNO=_mz(z,'step',['icon',18,'isShowImg',1,'title',2],[],e,s,gg)
_(oJO,eNO)
}
var lKO=_v()
_(oHO,lKO)
if(_oz(z,21,e,s,gg)){lKO.wxVkey=1
}
var bOO=_mz(z,'cy_modal',['bind:confirmEvent',22,'btnText',1,'show',2],[],e,s,gg)
_(oHO,bOO)
cIO.wxXCkey=1
cIO.wxXCkey=3
oJO.wxXCkey=1
oJO.wxXCkey=3
lKO.wxXCkey=1
_(r,oHO)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_65";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_65();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/device_use/index.wxml'] = [$gwx_XC_65, './pages/device_use/index.wxml'];else __wxAppCode__['pages/device_use/index.wxml'] = $gwx_XC_65( './pages/device_use/index.wxml' );
	;__wxRoute = "pages/device_use/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/device_use/index.js";define("pages/device_use/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=e(require("../../@babel/runtime/regenerator")),r=require("../../@babel/runtime/helpers/asyncToGenerator"),n=e(require("../../7C7490B0829A079C1A12F8B759DC7B70.js")),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").wxShowToast,a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o="gmWJ2T9MD0p5tp1Xczk3G2s-ot3mIgrZ1GDqjJ3hfQQ";Page({data:{isRequesting:!1,deviceType:"",deviceId:null,serialNo:null,ehrId:null,recordInfo:{},isShowSecondStep:!1,isShowThirdStep:!1,isShowUseBtn:!0,btnText:"立即使用",reportUrl:"",deviceInfo:{},isShowDialog:!1,dialogTxt:"",firstStepIcon:"https://resource.chunyu.mobi/@/media/images/2022/10/11/c132/cb7f0ca89527_w72_h72_.png",secondStepIcon:"https://resource.chunyu.mobi/@/media/images/2022/10/11/70fb/7dba4cdb167f_w72_h72_.png",secondDescImg:"https://resource.chunyu.mobi/@/media/images/2022/10/11/3202/36e13ffeeb18_w723_h432_.png",thirdStepIcon:"https://resource.chunyu.mobi/@/media/images/2022/10/11/d921/ec99f9660cc1_w72_h72_.png"},onLoad:function(e){this.setData({deviceType:e.device_type,deviceId:e.device_id},this.getDeviceInfo)},onShow:function(){this.getRecordInfo()},onHide:function(){this.endPolling()},onUnload:function(){this.endPolling()},getDeviceInfo:function(){var e=this;return r(t.default.mark((function r(){var a,o,s,c,d,u,l;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,n.default)("/api/crm/device/station/device_info/",{device_type:e.data.deviceType,device_id:e.data.deviceId});case 3:a=t.sent,o=a.error_code,s=a.error_msg,c=a.data,d=void 0===c?{}:c,console.log("data",d),0===o?(e.setData({deviceInfo:d||{}}),d.qr_code_own&&(i("二维码已被使用，请等待上一位用户检测完成后再次扫码"),e.setData({isShowUseBtn:!1}))):i(s||"获取设备信息失败"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),i((null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.error_msg)||"获取设备信息失败");case 15:case"end":return t.stop()}}),r,null,[[0,12]])})))()},getRecordInfo:function(){var e=this;return r(t.default.mark((function r(){var a,o,s,c,d,u,l;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,n.default)("/api/crm/device/station/access/ehr_info/",{device_type:e.data.deviceType});case 3:a=t.sent,o=a.error_code,s=a.error_msg,c=a.data,d=void 0===c?{}:c,console.log("data",d),0===o?e.setData({recordInfo:d}):i(s||"获取档案信息失败"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),i((null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.error_msg)||"获取设备信息失败");case 15:case"end":return t.stop()}}),r,null,[[0,12]])})))()},useDevice:function(){var e=this;return r(t.default.mark((function r(){var o,s,c,d,u,l,v,p,h,f,_,g,m,S,w,b,x,I,D,T;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.data.isShowThirdStep){t.next=6;break}return wx.setStorageSync("REPORT_URL",e.data.reportUrl),wx.setStorageSync("RECORD_ID",null===(o=e.data.recordInfo)||void 0===o?void 0:o.ehr_id),wx.setStorageSync("IS_FIRST_SHOW",!0),wx.switchTab({url:"/pages/health_home/index"}),t.abrupt("return");case 6:if(s=e.data,c=s.recordInfo,d=void 0===c?{}:c,u=s.isRequesting,l=s.deviceType,v=s.deviceId,!u){t.next=9;break}return t.abrupt("return");case 9:if(e.setData({isRequesting:!0}),d.ehr_id){t.next=14;break}return i("请先完善档案信息"),e.setData({isRequesting:!1}),t.abrupt("return");case 14:return p={device_type:l,device_id:v,ehr_id:d.ehr_id},t.prev=15,t.next=18,(0,n.default)("/api/crm/device/station/upload/tester_info/",p,"POST");case 18:h=t.sent,f=h.error_code,_=h.error_msg,g=h.data,m=void 0===g?{}:g,console.log("上传个人信息",f,_,m),S=m.device_status,w=m.toast_txt,b=void 0===w?"":w,x=m.serial_no,I=void 0===x?"":x,0===f?(e.setData({isRequesting:!1,serialNo:I}),"idle"===S?e.subscribeMessage(b):"detecting"===S?i("设备当前正在使用中，请稍候"):"shutdown"===S?i("设备已关机"):"not_login"===S&&i("设备未登录，请先登录")):1001===f?(i(_||"上传个人信息失败"),setTimeout((function(){var t,r,n=null!==(t=e.data.deviceInfo)&&void 0!==t&&t.only_self_ehr?"1":"0",i=null===(r=e.data.recordInfo)||void 0===r?void 0:r.ehr_id,o="".concat(a,"/v_m_general_vue/qa/health_records/edit?scene=station_device_dock&ehr_id=").concat(i,"&only_self_ehr=").concat(n);wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(o)),success:function(){e.setData({isRequesting:!1})}})}),3e3)):(i(_||"上传个人信息失败"),e.setData({isRequesting:!1})),t.next=33;break;case 28:t.prev=28,t.t0=t.catch(15),console.log("error",t.t0),i((null===t.t0||void 0===t.t0||null===(D=t.t0.response)||void 0===D||null===(T=D.data)||void 0===T?void 0:T.error_msg)||"上传个人信息失败"),e.setData({isRequesting:!1});case 33:case"end":return t.stop()}}),r,null,[[15,28]])})))()},subscribeMessage:function(e){var a,s=this;wx.requestSubscribeMessage({tmplIds:[o],complete:(a=r(t.default.mark((function r(a){var c,d;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a[o],d={data:JSON.stringify([{template_id:o,choice:c||"reject"}]),platform:"weixin_mini"},e?s.setData({isShowUseBtn:!1,isShowDialog:!!e,dialogTxt:e}):(s.setData({isShowUseBtn:!1,isShowSecondStep:!0}),s.clearServerEhrId(),s.getDetectStatus()),t.prev=3,t.next=6,(0,n.default)("/cooperation/wap/mini_sub/save/",d,"POST");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),i(t.t0||"订阅出错");case 11:case"end":return t.stop()}}),r,null,[[3,8]])}))),function(e){return a.apply(this,arguments)})})},clearServerEhrId:function(){return r(t.default.mark((function e(){var r,a,o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.default)("/api/crm/device/station/delete/ehr_id/",{},"POST");case 3:r=e.sent,a=r.error_code,o=r.error_msg,0===a?console.log("清除成功"):i(o||"清除档案id失败"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("清除失败");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getDetectStatus:function(){var e=this;return r(t.default.mark((function r(){var a,o,s,c,d,u,l;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,n.default)("/api/crm/device/station/detect_status/",{serial_no:e.data.serialNo});case 3:a=t.sent,o=a.error_code,s=a.error_msg,c=a.data,d=void 0===c?{}:c,0===o?d&&!0===d.is_finish?(e.setData({isShowThirdStep:!0,isShowUseBtn:!0,btnText:"查看检测报告",reportUrl:d.report_url}),e.endPolling()):e.startPolling():i(s||"获取检测结果失败"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),i((null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.error_msg)||"获取检测结果失败");case 15:case"end":return t.stop()}}),r,null,[[0,11]])})))()},startPolling:function(){var e=this;this.timer&&clearTimeout(this.timer),setTimeout((function(){e.getDetectStatus()}),3e3)},endPolling:function(){this.timer&&clearTimeout(this.timer)},confirmEvent:function(){this.setData({isShowSecondStep:!0}),this.clearServerEhrId(),this.getDetectStatus()}});
},{isPage:true,isComponent:true,currentFile:'pages/device_use/index.js'});require("pages/device_use/index.js");$gwx_XC_66=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_66 || [];
function gz$gwx_XC_66_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_66_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_66_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_66_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'urlData']],[3,'verifyCode']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_66_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_66_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_66=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_66=true;
var x=['./pages/dicom_view/dicom_view.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_66_1()
var xQO=_v()
_(r,xQO)
if(_oz(z,0,e,s,gg)){xQO.wxVkey=1
}
xQO.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_66";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_66();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/dicom_view/dicom_view.wxml'] = [$gwx_XC_66, './pages/dicom_view/dicom_view.wxml'];else __wxAppCode__['pages/dicom_view/dicom_view.wxml'] = $gwx_XC_66( './pages/dicom_view/dicom_view.wxml' );
	;__wxRoute = "pages/dicom_view/dicom_view";__wxRouteBegin = true;__wxAppCurrentFile__="pages/dicom_view/dicom_view.js";define("pages/dicom_view/dicom_view.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{urlData:{fileUrl:"",verifyCode:""}},onLoad:function(a){this.setData({"urlData.fileUrl":decodeURIComponent(a.file_url),"urlData.verifyCode":a.verify_code||""})},copyToClipBoard:function(a){var e=a.currentTarget.dataset.copyText;wx.setClipboardData({data:e})}});
},{isPage:true,isComponent:true,currentFile:'pages/dicom_view/dicom_view.js'});require("pages/dicom_view/dicom_view.js");$gwx_XC_67=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_67 || [];
function gz$gwx_XC_67_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_67_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_67_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_67_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'count_info']])
Z([3,'type'])
Z([3,'assessData'])
Z([a,[3,'filter-item '],[[2,'?:'],[[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[[7],[3,'assess_type']]],[1,'checked'],[1,'']],[3,' '],[[6],[[7],[3,'item']],[3,'type']]])
Z([[6],[[7],[3,'item']],[3,'label']])
Z(z[4][4])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'label']],[1,'送心意']])
Z([3,'assess-list-wrapper'])
Z([[2,'&&'],[[6],[[7],[3,'assess_list']],[3,'length']],[[2,'!=='],[[7],[3,'assess_type']],[1,'reward']]])
Z([[7],[3,'assess_list']])
Z([3,'id'])
Z([3,'assess-list-item'])
Z([[2,'!='],[[6],[[6],[[7],[3,'item']],[3,'assess_info']],[3,'tags']],[1,'']])
Z([[6],[[7],[3,'item']],[3,'assess_remark']])
Z([[6],[[7],[3,'item']],[3,'ask']])
Z(z[10])
Z([3,'problem_id'])
Z(z[12])
Z(z[13])
Z([[6],[[7],[3,'item']],[3,'reward_words']])
Z(z[15])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_67_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_67_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_67=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_67=true;
var x=['./pages/doc_assess_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_67_1()
var fSO=_n('view')
_rz(z,fSO,'class',0,e,s,gg)
var cTO=_v()
_(fSO,cTO)
var hUO=function(cWO,oVO,oXO,gg){
var aZO=_mz(z,'view',['bindtap',3,'class',1,'data-label',2,'data-type',3],[],cWO,oVO,gg)
var t1O=_v()
_(aZO,t1O)
if(_oz(z,7,cWO,oVO,gg)){t1O.wxVkey=1
}
t1O.wxXCkey=1
_(oXO,aZO)
return oXO
}
cTO.wxXCkey=2
_2z(z,1,hUO,e,s,gg,cTO,'item','index','type')
var e2O=_n('view')
_rz(z,e2O,'class',8,e,s,gg)
var b3O=_v()
_(e2O,b3O)
if(_oz(z,9,e,s,gg)){b3O.wxVkey=1
var o4O=_v()
_(b3O,o4O)
var x5O=function(f7O,o6O,c8O,gg){
var o0O=_n('view')
_rz(z,o0O,'class',12,f7O,o6O,gg)
var cAP=_v()
_(o0O,cAP)
if(_oz(z,13,f7O,o6O,gg)){cAP.wxVkey=1
}
var oBP=_v()
_(o0O,oBP)
if(_oz(z,14,f7O,o6O,gg)){oBP.wxVkey=1
}
var lCP=_v()
_(o0O,lCP)
if(_oz(z,15,f7O,o6O,gg)){lCP.wxVkey=1
}
cAP.wxXCkey=1
oBP.wxXCkey=1
lCP.wxXCkey=1
_(c8O,o0O)
return c8O
}
o4O.wxXCkey=2
_2z(z,10,x5O,e,s,gg,o4O,'item','index','id')
}
else{b3O.wxVkey=2
var aDP=_v()
_(b3O,aDP)
var tEP=function(bGP,eFP,oHP,gg){
var oJP=_n('view')
_rz(z,oJP,'class',18,bGP,eFP,gg)
var fKP=_v()
_(oJP,fKP)
if(_oz(z,19,bGP,eFP,gg)){fKP.wxVkey=1
}
var cLP=_v()
_(oJP,cLP)
if(_oz(z,20,bGP,eFP,gg)){cLP.wxVkey=1
}
var hMP=_v()
_(oJP,hMP)
if(_oz(z,21,bGP,eFP,gg)){hMP.wxVkey=1
}
fKP.wxXCkey=1
cLP.wxXCkey=1
hMP.wxXCkey=1
_(oHP,oJP)
return oHP
}
aDP.wxXCkey=2
_2z(z,16,tEP,e,s,gg,aDP,'item','index','problem_id')
}
b3O.wxXCkey=1
_(fSO,e2O)
_(r,fSO)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_67";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_67();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_assess_list/index.wxml'] = [$gwx_XC_67, './pages/doc_assess_list/index.wxml'];else __wxAppCode__['pages/doc_assess_list/index.wxml'] = $gwx_XC_67( './pages/doc_assess_list/index.wxml' );
	;__wxRoute = "pages/doc_assess_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_assess_list/index.js";define("pages/doc_assess_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/doctor/assess_reward_list_page/";Page({data:{assess_list:[],page:1,doc_id:"",clinic_no:"",no_more:!1},onLoad:function(a){var s=a.doc_id,t=this.data.page,e=a.type,o=(a.clinic_no,a.label);this.setData({doc_id:s}),this.getAssessList(t,e,o)},getAssessList:function(t,e,o){var i=this,r=a.globalData.partner,n=i.data.doc_id;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},method:"GET",data:{from_wx_mini:1,doctor_id:n,is_json:1,page:t,partner:r,type:e},success:function(a){var s=a.data,r=s.count_info,n="reward"===e?s.reward_list:s.problem_list;i.setData({assess_type:e,assess_label:o,assess_list:n,count_info:r,page:t+1,no_more:!n||n.length<20})}})},assessData:function(a){this.getAssessList(1,a.currentTarget.dataset.type,a.currentTarget.dataset.label)},onReachBottom:function(){this.loadMore()},loadMore:function(){var t=this,e=t.data.page,o=t.data.assess_type,i=t.data.doc_id,r=a.globalData.partner,n=t.data.assess_list,d=null,l=!1;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},method:"GET",data:{from_wx_mini:1,doctor_id:i,is_json:1,page:e,partner:r,type:o},success:function(a){var s=a.data;"reward"===o?(d=n.concat(s.reward_list),l=!s.reward_list||s.reward_list.length<20):(d=n.concat(a.data.problem_list),l=!s.reward_list||s.problem_list.length<20),t.setData({page:e+1,assess_list:d,no_more:l})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_assess_list/index.js'});require("pages/doc_assess_list/index.js");$gwx_XC_68=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_68 || [];
function gz$gwx_XC_68_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_68_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'doctorList']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([[2,'>'],[[6],[[6],[[7],[3,'item']],[3,'doctor_tag']],[3,'length']],[1,0]])
Z([[7],[3,'showMsg']])
Z([3,'hideMsg'])
Z([3,'msg_container'])
Z([[6],[[7],[3,'userMsg']],[3,'cate']])
Z([3,'msg_box'])
Z([[6],[[7],[3,'userMsg']],[3,'title']])
Z([[6],[[7],[3,'userMsg']],[3,'msg']])
Z(z[1])
Z([3,'msg_p msg_p_left'])
Z([[6],[[7],[3,'item']],[3,'text_c']])
Z([[6],[[7],[3,'item']],[3,'text_f']])
Z([[7],[3,'showFastPhone']])
Z(z[4])
Z(z[5])
Z([3,'fast'])
Z([[7],[3,'showPhoneTip']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_68_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_68_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_68=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_68=true;
var x=['./pages/doc_card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_68_1()
var lQP=_v()
_(r,lQP)
var aRP=function(eTP,tSP,bUP,gg){
var xWP=_v()
_(bUP,xWP)
if(_oz(z,2,eTP,tSP,gg)){xWP.wxVkey=1
}
xWP.wxXCkey=1
return bUP
}
lQP.wxXCkey=2
_2z(z,0,aRP,e,s,gg,lQP,'item','index','{{item.id}}')
var cOP=_v()
_(r,cOP)
if(_oz(z,3,e,s,gg)){cOP.wxVkey=1
var oXP=_mz(z,'view',['catchtap',4,'class',1,'data-msg-cate',2],[],e,s,gg)
var fYP=_n('view')
_rz(z,fYP,'class',7,e,s,gg)
var cZP=_v()
_(fYP,cZP)
if(_oz(z,8,e,s,gg)){cZP.wxVkey=1
}
var h1P=_v()
_(fYP,h1P)
var o2P=function(o4P,c3P,l5P,gg){
var t7P=_n('view')
_rz(z,t7P,'class',11,o4P,c3P,gg)
var e8P=_v()
_(t7P,e8P)
if(_oz(z,12,o4P,c3P,gg)){e8P.wxVkey=1
}
var b9P=_v()
_(t7P,b9P)
if(_oz(z,13,o4P,c3P,gg)){b9P.wxVkey=1
}
e8P.wxXCkey=1
b9P.wxXCkey=1
_(l5P,t7P)
return l5P
}
h1P.wxXCkey=2
_2z(z,9,o2P,e,s,gg,h1P,'item','index','{{item.id}}')
cZP.wxXCkey=1
_(oXP,fYP)
_(cOP,oXP)
}
var oPP=_v()
_(r,oPP)
if(_oz(z,14,e,s,gg)){oPP.wxVkey=1
var o0P=_mz(z,'view',['catchtap',15,'class',1,'data-msg-cate',2],[],e,s,gg)
var xAQ=_v()
_(o0P,xAQ)
if(_oz(z,18,e,s,gg)){xAQ.wxVkey=1
}
xAQ.wxXCkey=1
_(oPP,o0P)
}
cOP.wxXCkey=1
oPP.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_68";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_68();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_card/index.wxml'] = [$gwx_XC_68, './pages/doc_card/index.wxml'];else __wxAppCode__['pages/doc_card/index.wxml'] = $gwx_XC_68( './pages/doc_card/index.wxml' );
	;__wxRoute = "pages/doc_card/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_card/index.js";define("pages/doc_card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i=a.baseUrl+"/events/activity/doctor_card/info/",s=a.baseUrl+"/events/activity/doctor_card/collect/",o=a.baseUrl+"/events/activity/doctor_card/create_service/";Page({data:{isPositive:!0,activityInfo:{},doctorList:[],doctor_list:[],initLength:3,userMsg:{},showMsg:!1,activityId:"",orginUserId:0,shareImg:"",showFastPhone:!1,phoneNumber:"",showPhoneTip:!1,phoneTipMsg:"",targetUser:6},onLoad:function(t){this.options=t},init:function(t){var a=decodeURIComponent(t.scene),e=this.getQueryStr("activity_id",a||"");this.setData({activityId:t.activity_id||e,orginUserId:t.user_activity_id||0}),this.initData()},getQueryStr:function(t,a){var e=a.match(new RegExp(t+"=([^&]*)(&?)","i")),i=e&&e.length>1&&e[1]||"";return decodeURIComponent(i)},initData:function(){var a=this,e=a.data.activityId;wx.request({url:i,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{is_json:1,from_wx_mini:1,activity_id:e},success:function(t){if(t.data.success){var e=t.data.activity_info,i=t.data.doctor_list,s=t.data.share_info,o=[],n=a.data.initLength;i.length>0&&(o=i.length>n?i.slice(0,n):i),a.setData({doctorList:o,activityInfo:e,shareImgUrl:s.image}),wx.hideLoading(),a.setData({doctor_list:i})}else wx.hideLoading(),wx.showModal({title:"提示",content:t.data.error_msg,showCancel:!1,success:function(t){t.confirm&&wx.switchTab({url:"../index/index"})}})}})},collectionCard:function(){this.setData({userMsg:{msg:[{id:1,text_f:"仅需分享到一个群，即可马上成功收藏"}],btn:[{id:1,btn_type:"share",btn_text:"去分享",cate:"",subCate:"share"}]},showMsg:!0})},collectionReal:function(){var a=this,o={};o=a.data.orginUserId&&0!=a.data.orginUserId?{activity_id:a.data.activityId,user_activity_id:a.data.orginUserId}:{activity_id:a.data.activityId},wx.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"POST",data:e(o),success:function(e){e.data.success?wx.request({url:i,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{is_json:1,from_wx_mini:1,activity_id:a.data.activityId},success:function(t){var e=t.data.activity_info;a.setData({activityInfo:e});var i={title:"收藏成功！",msg:[{id:1,text_c:"地址：小程序>春雨医生>个人中心"},{id:2,text_c:"分享给"+a.data.targetUser+"个人即可开启免费拨打电话及发消息功能，永久有效。"}],btn:[{id:1,btn_type:"share",btn_text:"去分享",cate:"",subCate:"share"}]};a.setData({userMsg:i,showMsg:!0})}}):wx.showModal({title:"收藏失败！",content:e.data.error_msg,showCancel:!1})},fail:function(t){wx.showModal({title:"收藏失败！",content:t.data.error_msg,showCancel:!1})}})},hideMsg:function(t){"fast"==t.currentTarget.dataset.msgCate?this.setData({showFastPhone:!1,phoneNumber:"",showPhoneTip:!1,phoneTipMsg:""}):(this.setData({showMsg:!1}),"collec"==t.currentTarget.dataset.msgCate&&this.initData(),"over"==t.currentTarget.dataset.msgCate&&wx.navigateTo({url:"../doc_mainpage/index?doc_id="+this.data.doctorId}))},callDoc:function(t){if(this.setData({doctorId:t.currentTarget.dataset.docId}),this.data.activityInfo.user_activity_id){if("p"==this.data.activityInfo.status){var a=this.getMsg("4","");this.setData({userMsg:a,showMsg:!0})}else if("a"==this.data.activityInfo.status){var e=new Date;if(!t.currentTarget.dataset.isAccept||e.getHours()<9||e.getHours()>21){var i=this.getMsg("1",t.currentTarget.dataset.docName);this.setData({userMsg:i,showMsg:!0})}else this.setData({showFastPhone:!0})}else if("u"==this.data.activityInfo.status){var s=this.getMsg("3","");this.setData({userMsg:s,showMsg:!0})}}else wx.showToast({title:"收藏后才可开启该功能，请先收藏哦！\r\n>>去收藏",icon:"none",duration:2e3})},graphDoc:function(a){if(this.setData({doctorId:a.currentTarget.dataset.docId}),this.data.activityInfo.user_activity_id){if("p"==this.data.activityInfo.status){var i=this.getMsg("4","");this.setData({userMsg:i,showMsg:!0})}else if("a"==this.data.activityInfo.status)if(a.currentTarget.dataset.isAccept){var s={activity_id:this.data.activityId,doctor_id:this.data.doctorId,service_type:"graph"};wx.showModal({title:"提示",content:"你一共只有一次与本名片列表之中的医生免费沟通的机会,确定提交吗?",success:function(a){a.confirm&&wx.request({url:o,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:e(s),method:"POST",success:function(t){!t.data.success&&t.data.error_msg?wx.showModal({content:t.data.error_msg,showCancel:!1}):wx.redirectTo({url:"../fast_qa/index?problem_id="+t.data.service_id})},fail:function(t){console.log(t)}})}})}else{var n=this.getMsg("2",a.currentTarget.dataset.docName);this.setData({userMsg:n,showMsg:!0})}else if("u"==this.data.activityInfo.status){var r=this.getMsg("3","");this.setData({userMsg:r,showMsg:!0})}}else wx.showToast({title:"收藏后才可开启该功能，请先收藏哦！\r\n>>去收藏",icon:"none",duration:2e3})},getMsg:function(t,a){if("1"==t)return{msg:[{id:1,text_c:a+"大夫暂无可接听电话的时间，请选择发消息沟通。"}],btn:[{id:1,btn_type:"common",btn_text:"我知道了",cate:"",subCate:"我知道了"}]};if("2"==t)return{msg:[{id:1,text_c:a+"大夫暂无文字沟通的时间，请选择电话沟通。"}],btn:[{id:1,btn_type:"common",btn_text:"我知道了",cate:"",subCate:""}]};if("3"==t){return{msg:[{id:1,text_c:"你的免费沟通机会已用完，请移步医生主页付费与医生沟通。"}],btn:[{id:1,btn_type:"common",btn_text:"去医生主页 >",cate:"",subCate:"over"}]}}if("4"==t)return{msg:[{id:1,text_f:"你尚未开启免费拨打电话及发消息功能！分享给"+this.data.targetUser+"个人即可开启，永久有效。"}],btn:[{id:1,btn_type:"share",btn_text:"去分享",cate:"",subCate:"share"}]};if("5"==t){return{title:"收藏失败！",msg:[{id:1,text_c:"收藏后可以和医生免费沟通，总有一天用得上哦，确定不收藏吗？去分享完成收藏"}],btn:[{id:1,btn_type:"cancel",btn_text:"忍痛离开",cate:"",subCate:""},{id:2,btn_type:"share",btn_text:"立即分享",cate:"",subCate:"share"}]}}},subFastPhone:function(){if(this.checkPhone()){var a={activity_id:this.data.activityId,doctor_id:this.data.doctorId,phone:this.data.phoneNumber,service_type:"fast_phone"};wx.showModal({title:"提示",content:"你一共只有一次与本名片列表之中的医生免费沟通的机会,确定提交吗?",success:function(i){i.confirm&&wx.request({url:o,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:e(a),method:"POST",success:function(t){!t.data.success&&t.data.error_msg?wx.showModal({content:t.data.error_msg,showCancel:!1}):wx.redirectTo({url:"../pay_success/index"})},fail:function(t){console.log(t)}})}})}},updatePhone:function(t){var a=t.detail.value;this.setData({phoneNumber:a})},msgInput:function(){},checkPhone:function(){return/^1[3|4|5|7|8]\d{9}$/.test(this.data.phoneNumber)?(this.setData({showPhoneTip:!1,phoneTipMsg:""}),!0):(this.setData({showPhoneTip:!0,phoneTipMsg:"请输入正确的手机号码！"}),!1)},onReady:function(){},onShow:function(){var a=this,e=a.options;wx.showLoading({title:"加载中"}),t.globalData.appIsLogin.then((function(){a.init(e)}))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){if(this.data.doctor_list.length>this.data.doctorList.length){var t=this.data.doctor_list.slice(this.data.initLength);this.data.doctorList=this.data.doctorList.concat(t),this.setData({doctorList:this.data.doctorList})}},onShareAppMessage:function(){var t=this;return{title:"有了这些医生名片，再也不用担心去大医院挂不上号了",path:t.data.activityInfo.user_activity_id?"pages/doc_card/index?activity_id="+t.data.activityId+"&user_activity_id="+t.data.activityInfo.user_activity_id:"pages/doc_card/index?activity_id="+t.data.activityId,desc:"春雨医生+",imageUrl:t.data.shareImgUrl,success:function(a){if("shareAppMessage:ok"==a.errMsg)if(t.data.activityInfo.user_activity_id){t.setData({userMsg:{title:"恭喜你，分享成功！",msg:[{id:1,text_c:"分享给更多的群（好友），可在最短时间内开通免费沟通功能哦！离成功越来越近啦。"}],btn:[{id:1,btn_type:"share",btn_text:"继续分享",cate:"",subCate:"share"}]},showMsg:!0})}else t.collectionReal();else if(!t.data.activityInfo.user_activity_id){var e=t.getMsg("5","");t.setData({userMsg:e,showMsg:!0})}},fail:function(a){if("shareAppMessage:fail"==a.errMsg)wx.showToast({title:"分享失败！"});else if(!t.data.activityInfo.user_activity_id){var e=t.getMsg("5","");t.setData({userMsg:e,showMsg:!0})}}}}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_card/index.js'});require("pages/doc_card/index.js");$gwx_XC_69=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_69 || [];
function gz$gwx_XC_69_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_69_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_69_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_69_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_69_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_69_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_69=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_69=true;
var x=['./pages/doc_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_69_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_69";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_69();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_detail/index.wxml'] = [$gwx_XC_69, './pages/doc_detail/index.wxml'];else __wxAppCode__['pages/doc_detail/index.wxml'] = $gwx_XC_69( './pages/doc_detail/index.wxml' );
	;__wxRoute = "pages/doc_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_detail/index.js";define("pages/doc_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=require("../../@babel/runtime/helpers/defineProperty"),e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/doctor/identified_info_page/";Page({data:{doctorInfo:""},onLoad:function(o){var i,r=this,n=o.doc_id,d=o.from_type;wx.request({url:t,method:"GET",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},data:(i={from_wx_mini:1,doctor_id:n},a(i,"from_wx_mini",1),a(i,"partner",e.globalData.partner),a(i,"is_json",0),a(i,"from_type",d),i),success:function(a){r.setData({doctorInfo:a.data}),a.data&&a.data.name&&wx.setNavigationBarTitle({title:a.data.name})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_detail/index.js'});require("pages/doc_detail/index.js");$gwx_XC_70=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_70 || [];
function gz$gwx_XC_70_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_70_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_70_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_70_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'container '],[[2,'?:'],[[7],[3,'overflow']],[1,'hidden'],[1,'']]])
Z([3,'searchKeyword'])
Z([3,'inputValue'])
Z([[7],[3,'query']])
Z([[2,'!='],[[7],[3,'doctor_list']],[1,'']])
Z([3,'item'])
Z([[7],[3,'doctor_list']])
Z([3,'id'])
Z([3,'pointEvent'])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'医生推荐更多列表'])
Z([[2,'?:'],[[6],[[7],[3,'item']],[3,'vip_doctor_url']],[[2,'+'],[[2,'+'],[1,'../doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'item']],[3,'id']]],[1,'\x26source\x3dvip']],[[2,'+'],[1,'../doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'item']],[3,'id']]]])
Z([3,'doctor__info'])
Z([[6],[[7],[3,'item']],[3,'hospital_tag']])
Z([3,'doctor__price clearfix'])
Z([[2,'!='],[[6],[[7],[3,'item']],[3,'purchase_num']],[1,0]])
Z([[6],[[7],[3,'item']],[3,'only_subscribe']])
Z([[7],[3,'isLoading']])
Z([[7],[3,'no_more']])
Z([[7],[3,'loading']])
Z([[7],[3,'noResult']])
Z([3,'没有更多搜索内容'])
Z([3,'upToTopClick'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_70_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_70_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_70=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_70=true;
var x=['./pages/doc_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_70_1()
var cDQ=_n('view')
_rz(z,cDQ,'class',0,e,s,gg)
var oFQ=_mz(z,'cy-search',['bind:confirmEvent',1,'bind:inputEvent',1,'query',2],[],e,s,gg)
_(cDQ,oFQ)
var hEQ=_v()
_(cDQ,hEQ)
if(_oz(z,4,e,s,gg)){hEQ.wxVkey=1
var cGQ=_n('view')
var aJQ=_v()
_(cGQ,aJQ)
var tKQ=function(bMQ,eLQ,oNQ,gg){
var oPQ=_mz(z,'cy-navigator',['bind:mytap',8,'data-doctor-id',1,'data-title',2,'url',3],[],bMQ,eLQ,gg)
var fQQ=_n('view')
_rz(z,fQQ,'class',12,bMQ,eLQ,gg)
var cRQ=_v()
_(fQQ,cRQ)
if(_oz(z,13,bMQ,eLQ,gg)){cRQ.wxVkey=1
}
var hSQ=_n('view')
_rz(z,hSQ,'class',14,bMQ,eLQ,gg)
var oTQ=_v()
_(hSQ,oTQ)
if(_oz(z,15,bMQ,eLQ,gg)){oTQ.wxVkey=1
}
var cUQ=_v()
_(hSQ,cUQ)
if(_oz(z,16,bMQ,eLQ,gg)){cUQ.wxVkey=1
}
oTQ.wxXCkey=1
cUQ.wxXCkey=1
_(fQQ,hSQ)
cRQ.wxXCkey=1
_(oPQ,fQQ)
_(oNQ,oPQ)
return oNQ
}
aJQ.wxXCkey=4
_2z(z,6,tKQ,e,s,gg,aJQ,'item','index','id')
var oHQ=_v()
_(cGQ,oHQ)
if(_oz(z,17,e,s,gg)){oHQ.wxVkey=1
}
var lIQ=_v()
_(cGQ,lIQ)
if(_oz(z,18,e,s,gg)){lIQ.wxVkey=1
}
oHQ.wxXCkey=1
lIQ.wxXCkey=1
_(hEQ,cGQ)
}
var oVQ=_mz(z,'cy-loading',['darkTheme',-1,'loading',19,'noResult',1,'noResultTip',2],[],e,s,gg)
_(cDQ,oVQ)
hEQ.wxXCkey=1
hEQ.wxXCkey=3
_(r,cDQ)
var lWQ=_n('cy-up2top')
_rz(z,lWQ,'bind:upToTop',22,e,s,gg)
_(r,lWQ)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_70";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_70();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_list/index.wxml'] = [$gwx_XC_70, './pages/doc_list/index.wxml'];else __wxAppCode__['pages/doc_list/index.wxml'] = $gwx_XC_70( './pages/doc_list/index.wxml' );
	;__wxRoute = "pages/doc_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_list/index.js";define("pages/doc_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=getApp(),c=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=c.baseUrl+"/cooperation/wap/doctor/search/",t=c.baseUrl+"/cooperation/wap/clinics/",a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{page:1,all_province:"",city_list:"",province_name:"",city_name:"",current_city:"全国",all_clinic:"",clinic_list:"",clinic_no:"",first_clinic_name:"",second_class_clinic_no:"",current_clinic:"科室",overflow:!1,city_selected:"",clinic_selected:"",city_left_display:"hide",city_right_display:"hide",clinic_left_display:"hide",clinic_right_display:"hide",selectSearchAllCity:"",selectSearchAllClinic:"",doctor_list:[],no_more:!1,query:"",color:"#cecece",isLoading:!1,fromSearch:!1,noResult:!1,loading:!1},getDoctorList:function(){var c=this,t=c.data.page,a=c.data.doctor_list,n=i.globalData.sessionid||wx.getStorageSync("sessionid"),l={province:c.data.province_name||"",city:c.data.city_name||"",page:t,count_per_page:10,partner:i.globalData.partner,clinic_no:c.data.clinic_no||"",second_class_clinic_no:c.data.second_class_clinic_no||"",query:c.data.query||""};this.data.isLoading||(this.setData({isLoading:!0,loading:1===t}),wx.request({url:e,header:{"Content-Type":"application/json",Cookie:n},data:l,method:"GET",complete:function(){c.setData({isLoading:!1,loading:!1})},success:function(i){i=i.data,c.setData({page:t+1,doctor_list:1==t?i.doctor_list:a.concat(i.doctor_list),no_more:!i.doctor_list.length,noResult:1===t&&!i.doctor_list.length})}}))},getClinicList:function(){var c=this,e=i.globalData.sessionid||wx.getStorageSync("sessionid");wx.request({url:t,data:{from_wx_mini:1,partner:i.globalData.partner,is_json:1},method:"GET",header:{"Content-Type":"application/json",Cookie:e},success:function(i){c.setData({all_province:i.data.province_list,all_clinic:i.data.clinic_list})}})},showFliter:function(i){var c=i.currentTarget.dataset.name;"city"==c?this.setData({city_selected:"item--selected",clinic_selected:"",city_left_display:"show",clinic_left_display:"hide",overflow:!0}):"clinic"==c&&this.setData({city_selected:"",clinic_selected:"item--selected",city_left_display:"hide",clinic_left_display:"show",overflow:!0})},searchDoctorByCity:function(i){var c=this,e=i.currentTarget.dataset,t=c.data.all_province,a=e.type;c.data.page;switch(a){case"all_province":Array.isArray(t)&&t.forEach((function(i){i.is_selected=0})),c.setData({page:1,all_province:t,province_name:"",city_name:"",current_city:"全国",overflow:!1,city_left_display:"hide",city_right_display:"hide",selectSearchAllCity:"botder__left__item--selected"});break;case"single_province":t.forEach((function(i){i.is_selected=0})),t.forEach((function(i){var a=e.index,n=e.code,l=e.province||"";t[a].is_selected=1,i.code==n&&c.setData({page:1,all_province:t,province_name:l,city_list:i.city_list,city_name:"",city_right_display:"show",selectSearchAllCity:""})}));break;case"all_city":c.setData({page:1,city_name:"",current_city:c.data.province_name,overflow:!1,city_left_display:"hide"});break;case"single_city":var n=e.city||"";c.setData({page:1,city_name:n,current_city:n,overflow:!1,city_left_display:"hide"})}"single_province"!=a&&c.getDoctorList()},searchDoctorByClinic:function(i){var c=this,e=i.currentTarget.dataset,t=c.data.all_clinic,a=e.type;switch(a){case"all_clinic":Array.isArray(t)&&t.forEach((function(i){i.is_selected=0})),c.setData({page:1,all_clinic:t,clinic_no:"",second_class_clinic_no:"",current_clinic:"科室",first_clinic_name:"科室",overflow:!1,clinic_left_display:"hide",clinic_right_display:"hide",selectSearchAllClinic:"botder__left__item--selected"});break;case"single_clinic":Array.isArray(t)&&t.forEach((function(i){i.is_selected=0})),t.forEach((function(i){var a=e.index,n=e.clinicid,l=e.clinic;t[a].is_selected=1,i.clinic_no==n&&c.setData({page:1,all_clinic:t,clinic_no:n,second_class_clinic_no:"",first_clinic_name:l,clinic_list:i.second_class_clinics,clinic_right_display:"show",selectSearchAllClinic:""})}));break;case"all_second_clinic":c.setData({page:1,second_class_clinic_no:"",current_clinic:c.data.first_clinic_name,overflow:!1,clinic_left_display:"hide"});break;case"single_second_clinic":var n=e.clinicid||"",l=e.clinic||"";c.setData({page:1,second_class_clinic_no:n,current_clinic:l,overflow:!1,clinic_left_display:"hide"})}"single_clinic"!=a&&c.getDoctorList()},onLoad:function(i){var c=i.id?i.id:"",e=i.key?i.key:"",t=i.clinic?i.clinic:"",n="search"==i.from,l=i.second_class_clinic_no?i.second_class_clinic_no:"";this.getClinicList(),c?this.setData({clinic_no:c,current_clinic:t,first_clinic_name:t,second_class_clinic_no:l}):this.setData({current_clinic:t,query:e,fromSearch:n}),i.share&&this.setData({current_city:i.current_city,current_clinic:i.current_clinic,clinic_no:i.clinic_no,city_name:i.city_name,province_name:i.province_name,second_class_clinic_no:i.second_class_clinic_no}),this.getDoctorList(),a("PageView",{platform_source:"weixin_mini",page_title:"找医生列表"})},inputValue:function(i){var c=i.detail;this.setData({query:c})},upToTopClick:function(){wx.pageScrollTo({scrollTop:0,duration:300})},searchKeyword:function(i){var c=i.detail;this.setData({page:1,query:c}),this.getDoctorList()},hideSearch:function(){this.setData({city_left_display:"hide",clinic_left_display:"hide",city_selected:"",clinic_selected:"",overflow:!1})},loadMore:function(){this.getDoctorList()},onShareAppMessage:function(){var i=this.data,c="pages/doc_list/index?share=true&clinic_no=".concat(i.clinic_no,"&city_name=").concat(i.city_name,"&province_name=").concat(i.province_name,"&second_class_clinic_no=").concat(i.second_class_clinic_no,"&current_clinic=").concat(i.current_clinic,"&current_city=").concat(i.current_city,"&key=").concat(i.query);return{title:"".concat(i.query).concat(i.current_city).concat(i.current_clinic,"医生"),path:c,imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/10/11/d89c/b760e673a53e_w422_h338_.png"}},onReachBottom:function(){this.data.no_more||this.loadMore()},pointEvent:function(c){if(this.data.fromSearch){var e=c.currentTarget.dataset.title;a("AppClick",{platform_source:i.globalData.partner,click_position:e})}}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_list/index.js'});require("pages/doc_list/index.js");$gwx_XC_71=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_71 || [];
function gz$gwx_XC_71_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_71_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_71_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_71_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_71_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_71_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_71=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_71=true;
var x=['./pages/doc_mainpage/components/identify-info-tip/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_71_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_71";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_71();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_mainpage/components/identify-info-tip/index.wxml'] = [$gwx_XC_71, './pages/doc_mainpage/components/identify-info-tip/index.wxml'];else __wxAppCode__['pages/doc_mainpage/components/identify-info-tip/index.wxml'] = $gwx_XC_71( './pages/doc_mainpage/components/identify-info-tip/index.wxml' );
	;__wxRoute = "pages/doc_mainpage/components/identify-info-tip/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_mainpage/components/identify-info-tip/index.js";define("pages/doc_mainpage/components/identify-info-tip/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../840A1D64829A079CE26C7563276C7B70.js");Component({properties:{identifyInfo:{type:Object,value:{}},isVip:{type:Boolean,value:!1},doctorId:{type:String,value:""},doctorName:{type:String,value:""}},data:{modalShow:!1},methods:{onClick:function(){(0,t.doPoint)("AppClick",{app:"weixin_mini",click_position:"实名认证",page_readable_name:this.data.isVip?"权威专家医生主页":"医生主页",doctor_id:this.data.doctorId,doctor_name:this.data.doctorName}),this.setData({modalShow:!0})},confirm:function(){this.setData({modalShow:!1})}}});
},{isPage:false,isComponent:true,currentFile:'pages/doc_mainpage/components/identify-info-tip/index.js'});require("pages/doc_mainpage/components/identify-info-tip/index.js");$gwx_XC_72=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_72 || [];
function gz$gwx_XC_72_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_72_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_72_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_72_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']]],[[6],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']],[3,'length']]])
Z([[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']])
Z([3,'title'])
Z([3,'card__assess-header'])
Z([[2,'!'],[[6],[[7],[3,'liveSubscribeInfo']],[3,'is_subscribe']]])
Z([3,'toSubscribe'])
Z([[2,'&&'],[[6],[[7],[3,'liveSubscribeInfo']],[3,'is_subscribe']],[[2,'!'],[[6],[[6],[[7],[3,'liveSubscribeInfo']],[3,'bind_wechat_info']],[3,'is_bind']]]])
Z([3,'toSingleLive'])
Z([a,[3,'live-info-main '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'is_landscape']],[1,''],[1,'vertical']]])
Z([[6],[[7],[3,'item']],[3,'status_icon']])
Z([a,[3,'live-info-main-right '],z[8][2]])
Z([[6],[[7],[3,'item']],[3,'sub_title_icon']])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'tip']],[[2,'!'],[[6],[[7],[3,'item']],[3,'is_landscape']]]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'tip']],[[6],[[7],[3,'item']],[3,'is_landscape']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_72_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_72_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_72=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_72=true;
var x=['./pages/doc_mainpage/components/live-info/live-info.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_72_1()
var eZQ=_v()
_(r,eZQ)
if(_oz(z,0,e,s,gg)){eZQ.wxVkey=1
var b1Q=_v()
_(eZQ,b1Q)
var o2Q=function(o4Q,x3Q,f5Q,gg){
var h7Q=_n('view')
var c9Q=_n('view')
_rz(z,c9Q,'class',3,o4Q,x3Q,gg)
var o0Q=_v()
_(c9Q,o0Q)
if(_oz(z,4,o4Q,x3Q,gg)){o0Q.wxVkey=1
var aBR=_n('cy-userinfo')
_rz(z,aBR,'bindloginevent',5,o4Q,x3Q,gg)
_(o0Q,aBR)
}
else{o0Q.wxVkey=2
}
var lAR=_v()
_(c9Q,lAR)
if(_oz(z,6,o4Q,x3Q,gg)){lAR.wxVkey=1
}
o0Q.wxXCkey=1
o0Q.wxXCkey=3
lAR.wxXCkey=1
_(h7Q,c9Q)
var tCR=_mz(z,'view',['bind:tap',7,'class',1],[],o4Q,x3Q,gg)
var eDR=_v()
_(tCR,eDR)
if(_oz(z,9,o4Q,x3Q,gg)){eDR.wxVkey=1
}
var bER=_n('view')
_rz(z,bER,'class',10,o4Q,x3Q,gg)
var oFR=_v()
_(bER,oFR)
if(_oz(z,11,o4Q,x3Q,gg)){oFR.wxVkey=1
}
var xGR=_v()
_(bER,xGR)
if(_oz(z,12,o4Q,x3Q,gg)){xGR.wxVkey=1
}
oFR.wxXCkey=1
xGR.wxXCkey=1
_(tCR,bER)
eDR.wxXCkey=1
_(h7Q,tCR)
var o8Q=_v()
_(h7Q,o8Q)
if(_oz(z,13,o4Q,x3Q,gg)){o8Q.wxVkey=1
}
o8Q.wxXCkey=1
_(f5Q,h7Q)
return f5Q
}
b1Q.wxXCkey=4
_2z(z,1,o2Q,e,s,gg,b1Q,'item','index','title')
}
eZQ.wxXCkey=1
eZQ.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_72";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_72();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_mainpage/components/live-info/live-info.wxml'] = [$gwx_XC_72, './pages/doc_mainpage/components/live-info/live-info.wxml'];else __wxAppCode__['pages/doc_mainpage/components/live-info/live-info.wxml'] = $gwx_XC_72( './pages/doc_mainpage/components/live-info/live-info.wxml' );
	;__wxRoute = "pages/doc_mainpage/components/live-info/live-info";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_mainpage/components/live-info/live-info.js";define("pages/doc_mainpage/components/live-info/live-info.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../../../92BC1755829A079CF4DA7F52C55D7B70.js"),o=getApp();Component({properties:{liveSubscribeInfo:{type:Object,value:{}}},data:{doctorName:"",doctorId:""},observers:{liveSubscribeInfo:function(i){if(i)try{var e=JSON.parse(i.bind_wechat_info.cy_redirect.click_info);this.setData({doctorName:e.doctor_name,doctorId:e.doctor_id})}catch(i){console.log(i)}}},methods:{toMoreLiveList:function(){var o,t,c;(0,e.trackWithServer)(null===(o=this.data.liveSubscribeInfo)||void 0===o||null===(t=o.more_jump_info)||void 0===t||null===(c=t.cy_redirect)||void 0===c?void 0:c.click_info),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(i.baseUrl+this.data.liveSubscribeInfo.more_jump_info.cy_redirect.target_scheme))})},toSingleLive:function(){var o,t,c;(0,e.trackWithServer)(null===(o=this.data.liveSubscribeInfo)||void 0===o||null===(t=o.live_info_list[0])||void 0===t||null===(c=t.cy_redirect)||void 0===c?void 0:c.click_info),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(i.baseUrl+this.data.liveSubscribeInfo.live_info_list[0].cy_redirect.target_scheme))})},toOfficialAccount:function(){o.sensors.track("AppClick",{app:"weixin_mini",click_position:"开启公众号通知",page_readable_name:"医生主页",doctor_id:this.data.doctorId,doctor_name:this.data.doctorName}),wx.navigateTo({url:"/pages/live_official_account/live_official_account"})},unsubscribe:function(){o.sensors.track("AppClick",{app:"weixin_mini",click_position:"取消订阅",page_readable_name:"医生主页",doctor_id:this.data.doctorId,doctor_name:this.data.doctorName}),this.triggerEvent("unsubscribe")},toSubscribe:function(){o.sensors.track("AppClick",{app:"weixin_mini",click_position:"点击订阅",page_readable_name:"医生主页",doctor_id:this.data.doctorId,doctor_name:this.data.doctorName}),this.triggerEvent("subscribe")}}});
},{isPage:false,isComponent:true,currentFile:'pages/doc_mainpage/components/live-info/live-info.js'});require("pages/doc_mainpage/components/live-info/live-info.js");$gwx_XC_73=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_73 || [];
function gz$gwx_XC_73_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_73_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_73_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_73_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_73_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_73_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_73=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_73=true;
var x=['./pages/doc_mainpage/components/tip-dialog/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_73_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_73";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_73();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_mainpage/components/tip-dialog/index.wxml'] = [$gwx_XC_73, './pages/doc_mainpage/components/tip-dialog/index.wxml'];else __wxAppCode__['pages/doc_mainpage/components/tip-dialog/index.wxml'] = $gwx_XC_73( './pages/doc_mainpage/components/tip-dialog/index.wxml' );
	;__wxRoute = "pages/doc_mainpage/components/tip-dialog/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_mainpage/components/tip-dialog/index.js";define("pages/doc_mainpage/components/tip-dialog/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{title:{type:String,value:"温馨提示"},message:{type:String,value:"您与此医生有正在进行中的图文咨询，是否需要再次购买？"}},methods:{touchCancel:function(){this.triggerEvent("onTouchCancel")},continueAsk:function(t){this.triggerEvent("onContinueAsk")},reBuy:function(){this.triggerEvent("onReBuy")}}});
},{isPage:false,isComponent:true,currentFile:'pages/doc_mainpage/components/tip-dialog/index.js'});require("pages/doc_mainpage/components/tip-dialog/index.js");$gwx_XC_74=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_74 || [];
function gz$gwx_XC_74_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_74_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_74_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_74_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasRepetitionConsult']])
Z([3,'continueAsk'])
Z([3,'reBuy'])
Z([3,'touchCancel'])
Z([3,'bindscroll'])
Z([a,[3,'container '],[[2,'?:'],[[7],[3,'vip_doctor']],[1,'vip-doctor-style'],[1,'']],[3,' '],[[2,'?:'],[[2,'&&'],[[7],[3,'vip_doctor']],[[2,'||'],[[7],[3,'isWhichBtnShow']],[[2,'!='],[[7],[3,'whichBtn']],[1,0]]]],[1,'paddingBottom'],[1,'']],[3,' '],[[2,'?:'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'==='],[[7],[3,'service_type']],[1,'graph']],[[7],[3,'is_doc_coupon_active']]],[[7],[3,'discount_price']]],[[2,'||'],[[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'to_doc_user']]],[[2,'&&'],[[2,'!'],[[7],[3,'isLogin']]],[[7],[3,'dayFristVisit']]]]],[1,'add-padding-bottom'],[1,'']]])
Z([[6],[[7],[3,'doctor_detail']],[3,'identify_info']])
Z([3,'onIdentify'])
Z([[7],[3,'doctor_id']])
Z([[6],[[7],[3,'doctor_detail']],[3,'name']])
Z(z[6])
Z([[7],[3,'vip_doctor']])
Z([[2,'!'],[[7],[3,'vip_doctor']]])
Z([a,[3,'doctor-info-container '],[[2,'&&'],[[6],[[7],[3,'doctor_detail']],[3,'identify_info']],[1,'has-dentify-info']],z[5][3],[[2,'?:'],[[2,'!'],[[6],[[7],[3,'doctor_detail']],[3,'special_good_at']]],[1,'no-special-good-at'],[1,'']]])
Z([3,'doctor-detail'])
Z([3,'doctor-detail-right'])
Z([[6],[[7],[3,'doctor_detail']],[3,'is_recommend']])
Z([3,'jumpToHosDetail'])
Z([3,'lines line-three'])
Z([[6],[[7],[3,'doctor_detail']],[3,'hospital_tag']])
Z([3,'doctor-detail-left'])
Z([[6],[[7],[3,'doctor_detail']],[3,'image']])
Z([[6],[[7],[3,'doctor_detail']],[3,'is_active']])
Z([3,'130rpx'])
Z([3,'followDoctor'])
Z([[6],[[7],[3,'doctor_detail']],[3,'service_data_list']])
Z([3,'id'])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([[6],[[7],[3,'doctor_detail']],[3,'new_tags']])
Z([3,'name'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'tag_type']],[1,2]])
Z(z[27])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'tag_type']],[1,3]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'tag_type']],[1,4]])
Z(z[27])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'doctor_detail']],[3,'special_good_at']]])
Z([[6],[[7],[3,'doctor_detail']],[3,'special_good_at']])
Z(z[11])
Z([3,'commod-mk'])
Z([3,'doctor__info-wrap'])
Z([3,'doctor__info'])
Z(z[16])
Z(z[17])
Z([3,'doctor__title margin-b-8 lines line-three'])
Z(z[19])
Z(z[28])
Z([3,'*this'])
Z(z[33])
Z([3,'avatar-vip-class'])
Z(z[21])
Z(z[22])
Z([1,true])
Z(z[24])
Z(z[36])
Z(z[36])
Z(z[12])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'service_list']],[3,'length']]])
Z([[7],[3,'service_list']])
Z([3,'service_type'])
Z([[2,'?:'],[[6],[[7],[3,'item']],[3,'is_service_open']],[1,'switchService'],[1,'']])
Z([a,[3,'single-service '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'isActive']],[1,'selected'],[1,'']],z[5][3],[[2,'?:'],[[2,'==='],[[7],[3,'index']],[1,3]],[1,'last'],[1,'']]])
Z([[7],[3,'index']])
Z([3,'check-indicator'])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'isActive']],[[6],[[7],[3,'item']],[3,'is_service_open']]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'item']],[3,'isActive']]],[[6],[[7],[3,'item']],[3,'is_service_open']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[7],[3,'hasOpenService']]])
Z([[7],[3,'isIntroDescriptionOpen']])
Z([[6],[[6],[[7],[3,'service_list']],[[7],[3,'currentServiceTypeIndex']]],[3,'service_desc_url']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'doctor_detail']],[3,'good_at_intro_a']]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'doctor_detail']],[3,'is_recommend']]],[[6],[[7],[3,'doctor_detail']],[3,'famous_recommend_reason']]],[[6],[[6],[[7],[3,'doctor_detail']],[3,'famous_recommend_reason']],[3,'length']]])
Z(z[11])
Z([[6],[[7],[3,'vip_doctor_info']],[3,'service_info']])
Z([[2,'||'],[[2,'!=='],[[7],[3,'whichBtn']],[1,0]],[[6],[[7],[3,'item']],[3,'is_service_on']]])
Z([3,'service-item'])
Z([[2,'!=='],[[7],[3,'whichBtn']],[1,0]])
Z([3,'reserveConsult'])
Z([[6],[[7],[3,'item']],[3,'service_type']])
Z([[7],[3,'item']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'vip_doctor']],[[6],[[7],[3,'doctor_detail']],[3,'is_recommend']]],[[6],[[7],[3,'doctor_detail']],[3,'famous_recommend_reason']]],[[6],[[6],[[7],[3,'doctor_detail']],[3,'famous_recommend_reason']],[3,'length']]])
Z(z[11])
Z([3,'card card--pb commod-mk card-sc-bc'])
Z([[6],[[7],[3,'doctor_detail']],[3,'good_at']])
Z(z[81])
Z(z[11])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'doctor_detail']],[3,'good_at_intro_b']]])
Z([[2,'&&'],[[7],[3,'doctor_image_list']],[[6],[[7],[3,'doctor_image_list']],[3,'length']]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[7],[3,'liveSubscribeInfo']],[3,'is_top']],[[2,'!'],[[7],[3,'vip_doctor']]]],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']]],[[6],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']],[3,'length']]])
Z([3,'toSubscribe'])
Z([3,'unSubscribe'])
Z([[7],[3,'liveSubscribeInfo']])
Z(z[12])
Z([[7],[3,'assess_thank_list']])
Z(z[26])
Z([3,'card__list-child'])
Z([3,'clickOnAssessQa'])
Z([a,[3,'card__list '],[[2,'?:'],[[2,'==='],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[7],[3,'assess_thank_list']],[3,'length']]],[1,'last-card'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'show_type']],[1,'assess']])
Z([3,'assess-holder'])
Z([[6],[[7],[3,'item']],[3,'service_type_text']])
Z([[2,'!='],[[6],[[6],[[7],[3,'item']],[3,'assess_info']],[3,'tags']],[1,'']])
Z([[6],[[7],[3,'item']],[3,'assess_remark']])
Z([[6],[[7],[3,'item']],[3,'ask']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'show_type']],[1,'thank']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'liveSubscribeInfo']],[3,'is_top']]],[[2,'!'],[[7],[3,'vip_doctor']]]],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']]],[[6],[[6],[[7],[3,'liveSubscribeInfo']],[3,'live_info_list']],[3,'length']]])
Z(z[87])
Z(z[88])
Z(z[89])
Z([[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[6],[[7],[3,'doctor_detail']],[3,'good_at']]])
Z(z[12])
Z(z[8])
Z([3,'margin-bottom: 10px;'])
Z([[7],[3,'visitPageName']])
Z(z[11])
Z([3,'card--mb'])
Z([[7],[3,'show_tips']])
Z([[6],[[7],[3,'vip_doctor_info']],[3,'out_call_info']])
Z(z[76])
Z([[2,'&&'],[[2,'>'],[[6],[[6],[[7],[3,'vip_doctor_info']],[3,'out_call_info']],[3,'length']],[1,3]],[[2,'!'],[[7],[3,'show_all_list']]]])
Z([[7],[3,'isRegisterApply']])
Z([3,'onReg'])
Z([[6],[[7],[3,'regInfo']],[3,'service_type']])
Z([[7],[3,'regInfo']])
Z([[2,'!'],[[7],[3,'show_tips']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'show_tips']]],[[2,'!'],[[7],[3,'isRegisterApply']]]])
Z(z[11])
Z([3,'fixed-bottom'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'vip_doctor']]],[[2,'==='],[[7],[3,'service_type']],[1,'graph']]],[[7],[3,'is_doc_coupon_active']]],[[7],[3,'discount_price']]],[[2,'||'],[[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'to_doc_user']]],[[2,'&&'],[[2,'!'],[[7],[3,'isLogin']]],[[7],[3,'dayFristVisit']]]]])
Z(z[11])
Z([3,'section vip_section'])
Z([[2,'&&'],[[2,'=='],[[7],[3,'whichBtn']],[1,0]],[[7],[3,'isWhichBtnShow']]])
Z(z[75])
Z([3,'submit-btn'])
Z(z[74])
Z([3,'bottom-button-group'])
Z([3,'sendmind'])
Z([3,'flex: 1 1 0px;'])
Z([a,[3,'/pages/send_heart/index?id\x3d'],[[6],[[7],[3,'doctor_detail']],[3,'id']],[3,'\x26name\x3d'],z[9],[3,'\x26img\x3d'],z[21]])
Z([[7],[3,'is_open_service']])
Z([3,'beforeJumpService'])
Z([3,'redirectTo'])
Z([3,'margin-left: auto;'])
Z([[2,'||'],[[2,'&&'],[[7],[3,'old_price']],[[7],[3,'is_old_price']]],[[7],[3,'discount_price_text']]])
Z([3,''])
Z([[7],[3,'recommdAlert']])
Z([3,'确定'])
Z([[7],[3,'show_mask']])
Z(z[143])
Z([[7],[3,'show_userinfo']])
Z([3,'custom-button'])
Z([3,'loginedActions'])
Z([3,'loginfail'])
Z([3,'hideUserinfo'])
Z(z[143])
Z([[7],[3,'modal_show']])
Z([[7],[3,'modal_title']])
Z(z[149])
Z([3,'hideModal'])
Z(z[143])
Z([[7],[3,'have_active_Qa']])
Z([3,'active-qa-model-button'])
Z(z[149])
Z(z[138])
Z(z[2])
Z([3,'continueQa'])
Z(z[143])
Z([[7],[3,'modalShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_74_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_74_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_74=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_74=true;
var x=['./pages/doc_mainpage/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_74_1()
var cJR=_v()
_(r,cJR)
if(_oz(z,0,e,s,gg)){cJR.wxVkey=1
var hKR=_mz(z,'tip-dialog',['bindonContinueAsk',1,'bindonReBuy',1,'bindonTouchCancel',2],[],e,s,gg)
_(cJR,hKR)
}
var oLR=_mz(z,'scroll-view',['scrollY',-1,'bindscroll',4,'class',1],[],e,s,gg)
var cMR=_v()
_(oLR,cMR)
if(_oz(z,6,e,s,gg)){cMR.wxVkey=1
var o8R=_mz(z,'identify-info-tip',['bindtap',7,'doctorId',1,'doctorName',2,'identifyInfo',3,'isVip',4],[],e,s,gg)
_(cMR,o8R)
}
var oNR=_v()
_(oLR,oNR)
if(_oz(z,12,e,s,gg)){oNR.wxVkey=1
var x9R=_n('view')
_rz(z,x9R,'class',13,e,s,gg)
var o0R=_n('view')
_rz(z,o0R,'class',14,e,s,gg)
var fAS=_n('view')
_rz(z,fAS,'class',15,e,s,gg)
var cBS=_v()
_(fAS,cBS)
if(_oz(z,16,e,s,gg)){cBS.wxVkey=1
}
var hCS=_mz(z,'view',['bindtap',17,'class',1],[],e,s,gg)
var oDS=_v()
_(hCS,oDS)
if(_oz(z,19,e,s,gg)){oDS.wxVkey=1
}
oDS.wxXCkey=1
_(fAS,hCS)
cBS.wxXCkey=1
_(o0R,fAS)
var cES=_n('view')
_rz(z,cES,'class',20,e,s,gg)
var oFS=_mz(z,'doctor-avatar',['avatarUrl',21,'isActive',1,'size',2],[],e,s,gg)
_(cES,oFS)
var lGS=_n('cy-userinfo')
_rz(z,lGS,'bindloginevent',24,e,s,gg)
_(cES,lGS)
_(o0R,cES)
_(x9R,o0R)
var aHS=_v()
_(x9R,aHS)
var tIS=function(bKS,eJS,oLS,gg){
var oNS=_v()
_(oLS,oNS)
if(_oz(z,27,bKS,eJS,gg)){oNS.wxVkey=1
}
oNS.wxXCkey=1
return oLS
}
aHS.wxXCkey=2
_2z(z,25,tIS,e,s,gg,aHS,'item','index','id')
var fOS=_v()
_(x9R,fOS)
var cPS=function(oRS,hQS,cSS,gg){
var lUS=_v()
_(cSS,lUS)
if(_oz(z,30,oRS,hQS,gg)){lUS.wxVkey=1
var aVS=_v()
_(lUS,aVS)
if(_oz(z,31,oRS,hQS,gg)){aVS.wxVkey=1
}
aVS.wxXCkey=1
}
else if(_oz(z,32,oRS,hQS,gg)){lUS.wxVkey=2
}
else if(_oz(z,33,oRS,hQS,gg)){lUS.wxVkey=3
var tWS=_v()
_(lUS,tWS)
if(_oz(z,34,oRS,hQS,gg)){tWS.wxVkey=1
}
tWS.wxXCkey=1
}
else{lUS.wxVkey=4
}
lUS.wxXCkey=1
return cSS
}
fOS.wxXCkey=2
_2z(z,28,cPS,e,s,gg,fOS,'item','index','name')
_(oNR,x9R)
}
var lOR=_v()
_(oLR,lOR)
if(_oz(z,35,e,s,gg)){lOR.wxVkey=1
var eXS=_v()
_(lOR,eXS)
if(_oz(z,36,e,s,gg)){eXS.wxVkey=1
}
eXS.wxXCkey=1
}
var aPR=_v()
_(oLR,aPR)
if(_oz(z,37,e,s,gg)){aPR.wxVkey=1
var bYS=_n('view')
_rz(z,bYS,'class',38,e,s,gg)
var o2S=_n('view')
_rz(z,o2S,'class',39,e,s,gg)
var f3S=_n('view')
_rz(z,f3S,'class',40,e,s,gg)
var c4S=_v()
_(f3S,c4S)
if(_oz(z,41,e,s,gg)){c4S.wxVkey=1
}
var h5S=_mz(z,'view',['bindtap',42,'class',1],[],e,s,gg)
var o6S=_v()
_(h5S,o6S)
if(_oz(z,44,e,s,gg)){o6S.wxVkey=1
}
o6S.wxXCkey=1
_(f3S,h5S)
var c7S=_v()
_(f3S,c7S)
var o8S=function(a0S,l9S,tAT,gg){
var bCT=_v()
_(tAT,bCT)
if(_oz(z,47,a0S,l9S,gg)){bCT.wxVkey=1
}
bCT.wxXCkey=1
return tAT
}
c7S.wxXCkey=2
_2z(z,45,o8S,e,s,gg,c7S,'item','index','*this')
c4S.wxXCkey=1
_(o2S,f3S)
var oDT=_n('view')
_rz(z,oDT,'class',48,e,s,gg)
var xET=_mz(z,'doctor-avatar',['avatarUrl',49,'isActive',1,'isVip',2],[],e,s,gg)
_(oDT,xET)
var oFT=_n('cy-userinfo')
_rz(z,oFT,'bindloginevent',52,e,s,gg)
_(oDT,oFT)
_(o2S,oDT)
_(bYS,o2S)
var oZS=_v()
_(bYS,oZS)
if(_oz(z,53,e,s,gg)){oZS.wxVkey=1
}
var x1S=_v()
_(bYS,x1S)
if(_oz(z,54,e,s,gg)){x1S.wxVkey=1
}
oZS.wxXCkey=1
x1S.wxXCkey=1
_(aPR,bYS)
}
var tQR=_v()
_(oLR,tQR)
if(_oz(z,55,e,s,gg)){tQR.wxVkey=1
}
var eRR=_v()
_(oLR,eRR)
if(_oz(z,56,e,s,gg)){eRR.wxVkey=1
var fGT=_v()
_(eRR,fGT)
var cHT=function(oJT,hIT,cKT,gg){
var lMT=_mz(z,'view',['bindtap',59,'class',1,'data-index',2],[],oJT,hIT,gg)
var aNT=_n('view')
_rz(z,aNT,'class',62,oJT,hIT,gg)
var tOT=_v()
_(aNT,tOT)
if(_oz(z,63,oJT,hIT,gg)){tOT.wxVkey=1
}
var ePT=_v()
_(aNT,ePT)
if(_oz(z,64,oJT,hIT,gg)){ePT.wxVkey=1
}
tOT.wxXCkey=1
ePT.wxXCkey=1
_(lMT,aNT)
_(cKT,lMT)
return cKT
}
fGT.wxXCkey=2
_2z(z,57,cHT,e,s,gg,fGT,'item','index','service_type')
}
var bSR=_v()
_(oLR,bSR)
if(_oz(z,65,e,s,gg)){bSR.wxVkey=1
var bQT=_v()
_(bSR,bQT)
if(_oz(z,66,e,s,gg)){bQT.wxVkey=1
var oRT=_v()
_(bQT,oRT)
if(_oz(z,67,e,s,gg)){oRT.wxVkey=1
}
oRT.wxXCkey=1
}
bQT.wxXCkey=1
}
var oTR=_v()
_(oLR,oTR)
if(_oz(z,68,e,s,gg)){oTR.wxVkey=1
}
var xUR=_v()
_(oLR,xUR)
if(_oz(z,69,e,s,gg)){xUR.wxVkey=1
}
var oVR=_v()
_(oLR,oVR)
if(_oz(z,70,e,s,gg)){oVR.wxVkey=1
var xST=_v()
_(oVR,xST)
var oTT=function(cVT,fUT,hWT,gg){
var cYT=_v()
_(hWT,cYT)
if(_oz(z,72,cVT,fUT,gg)){cYT.wxVkey=1
var oZT=_n('view')
_rz(z,oZT,'class',73,cVT,fUT,gg)
var l1T=_v()
_(oZT,l1T)
if(_oz(z,74,cVT,fUT,gg)){l1T.wxVkey=1
}
else{l1T.wxVkey=2
var a2T=_mz(z,'cy-userinfo',['bindloginevent',75,'data-consult-type',1,'data-service-info',2],[],cVT,fUT,gg)
_(l1T,a2T)
}
l1T.wxXCkey=1
l1T.wxXCkey=3
_(cYT,oZT)
}
cYT.wxXCkey=1
cYT.wxXCkey=3
return hWT
}
xST.wxXCkey=4
_2z(z,71,oTT,e,s,gg,xST,'item','index','')
}
var fWR=_v()
_(oLR,fWR)
if(_oz(z,78,e,s,gg)){fWR.wxVkey=1
}
var cXR=_v()
_(oLR,cXR)
if(_oz(z,79,e,s,gg)){cXR.wxVkey=1
var t3T=_n('view')
_rz(z,t3T,'class',80,e,s,gg)
var e4T=_v()
_(t3T,e4T)
if(_oz(z,81,e,s,gg)){e4T.wxVkey=1
}
var b5T=_v()
_(t3T,b5T)
if(_oz(z,82,e,s,gg)){b5T.wxVkey=1
}
var o6T=_v()
_(t3T,o6T)
if(_oz(z,83,e,s,gg)){o6T.wxVkey=1
}
e4T.wxXCkey=1
b5T.wxXCkey=1
o6T.wxXCkey=1
_(cXR,t3T)
}
var hYR=_v()
_(oLR,hYR)
if(_oz(z,84,e,s,gg)){hYR.wxVkey=1
}
var oZR=_v()
_(oLR,oZR)
if(_oz(z,85,e,s,gg)){oZR.wxVkey=1
}
var c1R=_v()
_(oLR,c1R)
if(_oz(z,86,e,s,gg)){c1R.wxVkey=1
var x7T=_mz(z,'live-info',['bind:subscribe',87,'bind:unsubscribe',1,'liveSubscribeInfo',2],[],e,s,gg)
_(c1R,x7T)
}
var o2R=_v()
_(oLR,o2R)
if(_oz(z,90,e,s,gg)){o2R.wxVkey=1
var o8T=_v()
_(o2R,o8T)
var f9T=function(hAU,c0T,oBU,gg){
var oDU=_n('view')
_rz(z,oDU,'class',93,hAU,c0T,gg)
var aFU=_mz(z,'view',['bind:tap',94,'class',1,'data-problem-id',2],[],hAU,c0T,gg)
var tGU=_v()
_(aFU,tGU)
if(_oz(z,97,hAU,c0T,gg)){tGU.wxVkey=1
var eHU=_n('view')
_rz(z,eHU,'class',98,hAU,c0T,gg)
var bIU=_v()
_(eHU,bIU)
if(_oz(z,99,hAU,c0T,gg)){bIU.wxVkey=1
}
var oJU=_v()
_(eHU,oJU)
if(_oz(z,100,hAU,c0T,gg)){oJU.wxVkey=1
}
var xKU=_v()
_(eHU,xKU)
if(_oz(z,101,hAU,c0T,gg)){xKU.wxVkey=1
}
var oLU=_v()
_(eHU,oLU)
if(_oz(z,102,hAU,c0T,gg)){oLU.wxVkey=1
}
bIU.wxXCkey=1
oJU.wxXCkey=1
xKU.wxXCkey=1
oLU.wxXCkey=1
_(tGU,eHU)
}
tGU.wxXCkey=1
_(oDU,aFU)
var lEU=_v()
_(oDU,lEU)
if(_oz(z,103,hAU,c0T,gg)){lEU.wxVkey=1
}
lEU.wxXCkey=1
_(oBU,oDU)
return oBU
}
o8T.wxXCkey=2
_2z(z,91,f9T,e,s,gg,o8T,'item','index','id')
}
var l3R=_v()
_(oLR,l3R)
if(_oz(z,104,e,s,gg)){l3R.wxVkey=1
var fMU=_mz(z,'live-info',['bind:subscribe',105,'bind:unsubscribe',1,'liveSubscribeInfo',2],[],e,s,gg)
_(l3R,fMU)
}
var a4R=_v()
_(oLR,a4R)
if(_oz(z,108,e,s,gg)){a4R.wxVkey=1
}
var t5R=_v()
_(oLR,t5R)
if(_oz(z,109,e,s,gg)){t5R.wxVkey=1
var cNU=_mz(z,'doctor-topic',['doctorId',110,'style',1,'visitPageName',2],[],e,s,gg)
_(t5R,cNU)
}
var e6R=_v()
_(oLR,e6R)
if(_oz(z,113,e,s,gg)){e6R.wxVkey=1
var hOU=_n('view')
_rz(z,hOU,'class',114,e,s,gg)
var oPU=_v()
_(hOU,oPU)
if(_oz(z,115,e,s,gg)){oPU.wxVkey=1
}
var aTU=_v()
_(hOU,aTU)
var tUU=function(bWU,eVU,oXU,gg){
var oZU=_v()
_(oXU,oZU)
if(_oz(z,117,bWU,eVU,gg)){oZU.wxVkey=1
}
oZU.wxXCkey=1
return oXU
}
aTU.wxXCkey=2
_2z(z,116,tUU,e,s,gg,aTU,'item','index','')
var cQU=_v()
_(hOU,cQU)
if(_oz(z,118,e,s,gg)){cQU.wxVkey=1
}
var oRU=_v()
_(hOU,oRU)
if(_oz(z,119,e,s,gg)){oRU.wxVkey=1
var f1U=_mz(z,'cy-userinfo',['bindloginevent',120,'data-consult-type',1,'data-service-info',2],[],e,s,gg)
var c2U=_v()
_(f1U,c2U)
if(_oz(z,123,e,s,gg)){c2U.wxVkey=1
}
c2U.wxXCkey=1
_(oRU,f1U)
}
var lSU=_v()
_(hOU,lSU)
if(_oz(z,124,e,s,gg)){lSU.wxVkey=1
}
oPU.wxXCkey=1
cQU.wxXCkey=1
oRU.wxXCkey=1
oRU.wxXCkey=3
lSU.wxXCkey=1
_(e6R,hOU)
}
var b7R=_v()
_(oLR,b7R)
if(_oz(z,125,e,s,gg)){b7R.wxVkey=1
}
cMR.wxXCkey=1
cMR.wxXCkey=3
oNR.wxXCkey=1
oNR.wxXCkey=3
lOR.wxXCkey=1
aPR.wxXCkey=1
aPR.wxXCkey=3
tQR.wxXCkey=1
eRR.wxXCkey=1
bSR.wxXCkey=1
oTR.wxXCkey=1
xUR.wxXCkey=1
oVR.wxXCkey=1
oVR.wxXCkey=3
fWR.wxXCkey=1
cXR.wxXCkey=1
hYR.wxXCkey=1
oZR.wxXCkey=1
c1R.wxXCkey=1
c1R.wxXCkey=3
o2R.wxXCkey=1
l3R.wxXCkey=1
l3R.wxXCkey=3
a4R.wxXCkey=1
t5R.wxXCkey=1
t5R.wxXCkey=3
e6R.wxXCkey=1
e6R.wxXCkey=3
b7R.wxXCkey=1
_(r,oLR)
var h3U=_n('view')
_rz(z,h3U,'class',126,e,s,gg)
var o4U=_v()
_(h3U,o4U)
if(_oz(z,127,e,s,gg)){o4U.wxVkey=1
}
var c5U=_v()
_(h3U,c5U)
if(_oz(z,128,e,s,gg)){c5U.wxVkey=1
var o6U=_n('view')
_rz(z,o6U,'class',129,e,s,gg)
var l7U=_v()
_(o6U,l7U)
if(_oz(z,130,e,s,gg)){l7U.wxVkey=1
var t9U=_mz(z,'cy-userinfo',['bindloginevent',131,'class',1],[],e,s,gg)
_(l7U,t9U)
}
var a8U=_v()
_(o6U,a8U)
if(_oz(z,133,e,s,gg)){a8U.wxVkey=1
}
l7U.wxXCkey=1
l7U.wxXCkey=3
a8U.wxXCkey=1
_(c5U,o6U)
}
else{c5U.wxVkey=2
var e0U=_n('view')
_rz(z,e0U,'class',134,e,s,gg)
var oBV=_mz(z,'cy-userinfo',['bindloginevent',135,'style',1,'url',2],[],e,s,gg)
_(e0U,oBV)
var bAV=_v()
_(e0U,bAV)
if(_oz(z,138,e,s,gg)){bAV.wxVkey=1
var xCV=_mz(z,'cy-userinfo',['bindloginevent',139,'openType',1,'style',2],[],e,s,gg)
var oDV=_v()
_(xCV,oDV)
if(_oz(z,142,e,s,gg)){oDV.wxVkey=1
}
oDV.wxXCkey=1
_(bAV,xCV)
}
else{bAV.wxVkey=2
}
bAV.wxXCkey=1
bAV.wxXCkey=3
_(c5U,e0U)
}
o4U.wxXCkey=1
c5U.wxXCkey=1
c5U.wxXCkey=3
c5U.wxXCkey=3
_(r,h3U)
var fEV=_mz(z,'cy-modal',['btnText',143,'show',1],[],e,s,gg)
_(r,fEV)
var cFV=_mz(z,'cy-modal',['btnText',145,'show',1],[],e,s,gg)
_(r,cFV)
var hGV=_mz(z,'cy-modal',['btnText',147,'show',1],[],e,s,gg)
var oHV=_n('view')
_rz(z,oHV,'slot',149,e,s,gg)
var cIV=_mz(z,'cy-userinfo',['bindloginevent',150,'bindloginfail',1,'bindtap',2],[],e,s,gg)
_(oHV,cIV)
_(hGV,oHV)
_(r,hGV)
var oJV=_mz(z,'cy-modal',['btnText',153,'show',1,'title',2],[],e,s,gg)
var lKV=_n('view')
_rz(z,lKV,'slot',156,e,s,gg)
var aLV=_mz(z,'cy-navigator',['isSend',-1,'bindtap',157],[],e,s,gg)
_(lKV,aLV)
_(oJV,lKV)
_(r,oJV)
var tMV=_mz(z,'cy-modal',['btnText',158,'show',1],[],e,s,gg)
var eNV=_mz(z,'view',['class',160,'slot',1],[],e,s,gg)
var bOV=_v()
_(eNV,bOV)
if(_oz(z,162,e,s,gg)){bOV.wxVkey=1
var oPV=_n('cy-userinfo')
_rz(z,oPV,'bindtap',163,e,s,gg)
_(bOV,oPV)
}
var xQV=_n('cy-navigator')
_rz(z,xQV,'bindtap',164,e,s,gg)
_(eNV,xQV)
bOV.wxXCkey=1
bOV.wxXCkey=3
_(tMV,eNV)
_(r,tMV)
var oRV=_mz(z,'cy-modal',['btnText',165,'show',1],[],e,s,gg)
_(r,oRV)
cJR.wxXCkey=1
cJR.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_74";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_74();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_mainpage/index.wxml'] = [$gwx_XC_74, './pages/doc_mainpage/index.wxml'];else __wxAppCode__['pages/doc_mainpage/index.wxml'] = $gwx_XC_74( './pages/doc_mainpage/index.wxml' );
	;__wxRoute = "pages/doc_mainpage/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_mainpage/index.js";define("pages/doc_mainpage/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e=require("../../@babel/runtime/helpers/interopRequireDefault"),i=require("../../@babel/runtime/helpers/typeof"),a=e(require("../../@babel/runtime/regenerator")),o=require("../../@babel/runtime/helpers/asyncToGenerator"),r=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),s=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),c=require("../../43A2F676829A079C25C49E711B4C7B70.js"),n=getApp(),d=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,_=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").syncSubscribeMessage,l=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),p=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,u=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").dateFormat,h=require("../../A9EAB7C2829A079CCF8CDFC58A3C7B70.js").appIsLogin,m=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,v=l.baseUrl+"/cooperation/wap/doctor_detail_info/",g=l.baseUrl+"/cooperation/wap/xr/my_doctor/",f=l.baseUrl+"/api/v5/doctor/",w=l.baseUrl+"/api/v8/get_active_qa/",b=l.baseUrl+"/api/third_party/get_username/",x="".concat(d,"/api/v7/new_user/get_doc_dis_coupon/"),y="".concat(d,"/api/v7/new_user/to_doc/"),D="".concat(d,"/api/live/speaker/activity_card/"),S="".concat(d,"/api/live/live_activity/doctor_sub/");Page({data:{doctor_id:"",doctorInfo:"",doctor_detail:{},has_followed:!1,follow_text:"关注",modal_show:!1,have_active_Qa:!1,have_active_Qa_status:"",have_active_Qa_id:null,hasRepetitionConsult:!1,modal_title:"",model_desc:"",show_userinfo:!1,coupon_content:"",show_mask:!1,vip_doctor:!1,old_price:"",is_old_price:!0,service_list:[],btn_text:"",is_open_service:!0,open_service_type:"",vip_doctor_info:{},show_tips:!1,show_all_list:!1,showMoreBtn:[!1,!1],whichBtn:1,isWhichBtmShow:!1,problem_id:"",rebuyTip:!1,serviceType:null,serviceName:"",hadAsk:!0,is_vip_doc:0,isNewUser:!0,isShowMoreDesc:!0,doctor_image_list:[],image_list:[],dialogIndex:0,shouldFollowedDialogShow:!1,invitate_id:"",shareClicked:!1,hospital_id:"",serviceIconMap:{graph:{avaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/98ba/e96fb173610f_w58_h58_.png",unavaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/ae46/df148df60212_w58_h58_.png"},inquiry:{avaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/bf1b/6f9b4eff1561_w58_h58_.png",unavaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/a1e1/4c87ca687513_w58_h58_.png"},register_apply:{avaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/f605/0a76661b11fa_w58_h58_.png",unavaliable:"https://resource.chunyu.mobi/@/media/images/2021/09/13/7ff2/ee3dfca53b8a_w58_h58_.png"},video_inquiry_saas:{avaliable:"https://resource.chunyu.mobi/@/media/images/2024/01/09/0828/fb834e6daf63_w87_h87_.png",unavaliable:"https://resource.chunyu.mobi/@/media/images/2024/01/09/3302/c34226483773_w87_h87_.png"}},raiList:[],currentServiceTypeIndex:0,introIconMap:{graph:"https://staff.chunyu.mobi/@/media/images/2021/09/13/4862/27012c4b931d_w36_h36_.png",inquiry:"https://staff.chunyu.mobi/@/media/images/2021/09/13/0b0d/cb659408aac9_w36_h36_.png",register_apply:"https://staff.chunyu.mobi/@/media/images/2021/09/13/2e72/95bb93e38ac6_w38_h36_.png",video_inquiry_saas:"https://resource.chunyu.mobi/@/media/images/2024/01/09/2721/0fa9b3a16c2d_w84_h84_.png"},isIntroDescriptionOpen:!1,hasOpenService:!1,has_online_services:!1,isRegisterApply:!1,doctorDetailModalShow:!1,modalShow:!1,problemId:"",discount_price:0,discount_price_text:0,isLogin:!1,dayFristVisit:!1,is_doc_coupon_active:!1,to_doc_user:!1,hasNewCoupon:!1,liveSubscribeInfo:{},verticalLive:!0,shouldShowFollowDialog:!1,visitPageName:"医生主页",fromVisitPage:"",urlDataForGpt:{recommend_id:"",from_type:""}},onLoad:function(t){this.data.urlDataForGpt.recommend_id=t.recommend_id,this.data.urlDataForGpt.from_type=t.from_type;var e=this,i=t.scene||"",a=t.source||"";if(e.source=a,e.scene=i,e.options=t,e.activityPartner=t.activity_partner||"",e.query=t.query||"",e.intention=t.intention||"",e.synonym_query=t.synonym_query||"",this.setData({has_online_services:t.has_online_services,serverParams:t.server_params||"",doctor_id:t.doc_id,shouldShowFollowDialog:t.show_follow_doc_dialog,fromVisitPage:t.scene?"扫码":t.from_visit_page||""}),"xr_follow_doc"===t.action)return e.getFollowDoc(),!1;t.url_source&&this.h5ServicePoint(t.url_source,t.url_from),n.globalData.appIsLogin.then((function(){e.requestDoctor(t),e.getUserInfo()}),(function(){e.requestDoctor(t)})),this.data.problemId=t.problem_id},onShow:function(t){this.data.doctor_id&&this.getLiveInfo();var e=this;n.globalData.appIsLogin.then(o(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNewUserToDoc();case 2:0===e.data.currentServiceTypeIndex&&e.serviceListTap(),e.setData({dayFristVisit:!1}),e.pageVisitReport();case 5:case"end":return t.stop()}}),t)}))),(function(){var t,i=function(){var t=new Date,e=String(t.getDate()).padStart(2,"0");return String(t.getMonth()+1).padStart(2,"0")+"/"+e+"/"+t.getFullYear()},a=wx.getStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON");a?i()===a?t=!0:i()!==a&&(t=!1):(wx.setStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON",i()),t=!0),e.setData({dayFristVisit:t}),(0,c.autoLogin)().then((function(){e.pageVisitReport()})).catch((function(){e.pageVisitReport()}))}))},bindscroll:function(t){var e=t.detail.scrollTop;e>=210&&!this.data.isWhichBtnShow?this.setData({isWhichBtnShow:!0}):e<210&&this.data.isWhichBtnShow&&this.setData({isWhichBtnShow:!1})},onShareAppMessage:function(){var t=this.data.doctor_detail,e=this.data.has_online_services,i="".concat(t.name,"-").concat(t.department).concat(t.doc_title,"-").concat(t.doc_hospital),a=t.id,o=this.source,r=t.image,s=r.indexOf("?"),c=wx.getStorageSync("sessionUserId"),d=new Date;Date.prototype.dateFormat=u;var _=d.dateFormat("yyyy-MM-dd h:m");return s>=0&&(r=r.slice(0,s)+"?imageMogr2/thumbnail/450x"),n.sensors.track("Share",{source:"wx_mini",share_channel:"微信好友",page_title:t.doc_name+"医生",invitate_id:c,page_type:this.data.vip_doctor?"名院专家":"医生主页",doctor_id:a,share_time:_}),o?{title:i,path:"/pages/doc_mainpage/index?doc_id=".concat(a,"&source=").concat(o,"&inviter_id=").concat(c,"&from=chunyu_wap_mini&has_online_services=").concat(e)}:{title:i,path:"/pages/doc_mainpage/index?doc_id=".concat(a,"&inviter_id=").concat(c,"&from=chunyu_wap_mini&has_online_services=").concat(e)}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},requestDoctor:function(t){var e=this,s=t.scene||"",c=t.doc_id||s.trim(),d=t.inviter_id||"",_=s?1:0,l=_?"chunyu_m":void 0,p=e.source;this.setData({doctor_id:c,invitate_id:d}),this.getLiveInfo();var u,h={from_wx_mini:1,is_wx_mini_scan:_,doctor_id:c,partner:l||n.globalData.partner,is_json:0,query:this.query,intention:this.intention,synonym_query:this.synonym_query,platfrom:"weixin_mini",problem_id:this.data.problemId,need_ab_test:1,secureId:wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),server_params:this.data.serverParams};t.from_type&&(h.from_type=t.from_type),p&&(h.from_type="vip_doctor"),wx.showLoading({title:"加载中"}),(0,r.default)({url:v,method:"GET",data:h,success:(u=o(a.default.mark((function t(o){var r,s,d,_,l,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wx.hideLoading(),r=o.data,"object"===i(r)&&1!==Number(r.error)){t.next=6;break}return wx.showToast({icon:"none",title:"获取数据失败～"}),wx.navigateBack(),t.abrupt("return");case 6:if(r.doctor_detail.show_expert&&m("AppClick",{app:"weixin_mini",page_readable_name:"权威专家医生主页",doctor_id:c,doctor_name:r.doctor_detail.name}),r.doctor_detail.special_good_at&&(r.doctor_detail.goodAtNode='<img class="experience-class-ord" src="'.concat(r.doctor_detail.show_expert?"https://staff.chunyu.mobi/@/media/images/2022/05/30/d01d/40cb317beac7_w168_h39_.png":"https://staff.chunyu.mobi/@/media/images/2022/07/13/aa6d/ee96087e9fa3_w168_h39_.png",'" />')+r.doctor_detail.special_good_at.replace("擅长:","")),"1"===e.data.shouldShowFollowDialog&&e.followDocAndSubscribe(),e.setData({vip_doctor:r.doctor_detail.show_expert,showTips:!0,doctor_detail:r.doctor_detail,assess_list:r.assess_list,assess_thank_list:r.assess_thank_list,isNewUser:r.is_new_user,isShowMoreDesc:r.is_new_user,urls:r.h5_urls,page_info:r.page_info,thank_list:r.thank_list,has_followed:!!r.doctor_detail&&r.doctor_detail.has_followed,follow_text:r.doctor_detail&&r.doctor_detail.has_followed?"已关注":"关注",service_list:r.doctor_detail&&r.doctor_detail.service_list||[],hasOpenService:r.doctor_detail.service_list.filter((function(t){return t.is_service_open})).length>0,vip_doctor_info:r.vip_doctor_info||{},old_price:r.doctor_detail.graph.volunteer_info?r.doctor_detail.graph.volunteer_info.old_price:"",problem_id:r.doctor_detail.unclosed_problem?r.doctor_detail.unclosed_problem.id:"",problem_status:r.doctor_detail.unclosed_problem?r.doctor_detail.unclosed_problem.problem_status:"",doctor_image_list:r.doctor_style_list,raiList:r.doctor_detail.service_tip||[],discount_price:Number(r.doctor_detail.graph&&r.doctor_detail.graph.discount_price)||0,hot_consults:r.hot_consults}),e.data.doctor_image_list&&e.data.doctor_image_list.length&&e.setData({image_list:e.data.doctor_image_list.map((function(t){return{url:2===t.type?t.video:t.image,type:2===t.type?"video":"image",poster:t.image,desc:t.desc.trim("")}}))}),r.doctor_detail.unclosed_problem&&e.setData({rebuyTip:!0,btn_text:"继续咨询"}),r.vip_doctor_info&&(s=r.vip_doctor_info).service_info.length)for(s.service_info[0].is_service_on&&e.setData({serviceType:s.service_info[0].service_type,serviceName:s.service_info[0].name}),d=0;d<s.service_info.length;d++)"register_apply"===s.service_info[d].service_type&&s.service_info[d].is_service_on&&e.setData({isRegisterApply:!0,regInfo:s.service_info[d]}),1==s.service_info[d].is_service_on&&(e.setData({whichBtn:0}),e.data.firstSever||e.setData({firstSever:s.service_info[d]}));return e.data.vip_doctor?wx.setNavigationBarTitle({title:"权威专家"}):r.doctor_detail&&r.doctor_detail.name&&wx.setNavigationBarTitle({title:r.doctor_detail.name+"医生"}),r.tips_info&&e.setData({modal_show:r.tips_info.show_tips,modal_title:r.tips_info.title||"",modal_desc:r.tips_info.desc||""}),t.next=18,e.getNewUserToDoc();case 18:e.serviceListTap(),"vip"==e.source&&(_=e.data.vip_doctor_info,l=e.data.showMoreBtn,p=e.data.show_tips,wx.createSelectorQuery().selectAll(".card__body--overflow--text").boundingClientRect().exec((function(t){for(var i=0;i<t[0].length;i++)t[0][i].height>60&&(l[i]=!0);e.setData({showMoreBtn:l})})),_.out_call_info.length>=1&&_.out_call_info[0].time_str&&(p=!0),e.setData({show_tips:p})),e.pageView(),n.globalData.appIsLogin.then((function(){e.shareClickPoint()}),(function(){console.log("未登录")}));case 22:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})});var g=wx.getLaunchOptionsSync().scene;1008!==g&&1036!==g||this.getActiveQa(t.doc_id)},lookSameClinicDoctors:function(t){m("AppClick",{app:"weixin_mini",click_position:"确认button",page_readable_name:"权威专家医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.name});var e=(t.currentTarget||{}).dataset,i=void 0===e?{}:e,a="".concat(d,"/v-m-general/authoritative-expert?is_result=1&clinic_no=").concat(i.clinic_no,"&second_class_clinic_no=").concat(i.second_class_clinic_no,"&input_type=科室筛选");this.pageVisitReport("查看同科室医生",0).then((function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a))})}))},shareClickPoint:function(){if(console.log("this.data.shareClicked",this.data.shareClicked),!this.data.shareClicked&&(this.data.shareClicked=!0,this.data.invitate_id)){var t;if("vip"===this.source){var e=this.data.vip_doctor_info.service_info.find((function(t){return"inquiry"===t.service_type}));t=e&&e.price_str.split("/")[0].split("￥")[1]||-1}n.sensors.track("ShareClick",{page_title:this.data.doctor_detail.name+"医生",invitate_id:Number(this.data.invitate_id),page_type:"vip"===this.source?"名院专家主页":"医生主页",doctor_id:this.data.doctor_id,goods_id_list:[],department:this.data.doctor_detail.clinic_name,graph_price:"vip"===this.source?Number(t):Number(this.data.doctor_detail.graph&&this.data.doctor_detail.graph.price)})}},doFollowDoctor:function(){var t=this;if(t.data.doctor_detail&&t.data.doctor_detail.doc_id){var e=t.data.doctor_detail.doc_id,i=t.data.has_followed,a={from_wx_mini:1,partner:n.globalData.partner,follow:i?0:1};i||wx.requestSubscribeMessage({tmplIds:["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"],success:function(t){"requestSubscribeMessage:ok"===t.errMsg&&_("4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4")}}),m("AppClick",{app:"weixin_mini",click_position:i?"取消关注":"关注",page_readable_name:t.data.vip_doctor?"权威专家医生主页":"医生主页",doctor_id:e,doctor_name:t.data.doctor_detail.name}),wx.request({url:f+e+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},data:p(a),success:function(){t.setData({has_followed:!i,follow_text:t.data.has_followed?"关注":"已关注"}),i?wx.showToast({icon:"success",title:"取消关注"}):wx.showToast({icon:"none",title:"关注成功，医生直播、发布话题时将会通知您"}),t.getLiveInfo()},fail:function(){}})}else wx.showToast({title:"医生信息获取失败"})},followDocAndSubscribe:function(){var t=this;(0,r.default)({url:f+this.data.doctor_id+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{from_wx_mini:1,partner:n.globalData.partner,follow:1},success:function(){wx.showModal({title:"关注成功",content:"微信打开春雨医生小程序，点击个人中心-我的医生可查看关注过的医生",showCancel:!1,confirmText:"我知道啦",success:function(t){t.confirm&&wx.requestSubscribeMessage({tmplIds:["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"],success:function(t){"requestSubscribeMessage:ok"===t.errMsg&&_("4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4")}})}}),t.setData({has_followed:!0,follow_text:"已关注"})}})},followDoctor:function(){this.pageView(),this.shareClickPoint(),this.doFollowDoctor()},hideModal:function(){this.setData({modal_show:!1}),wx.requestSubscribeMessage({tmplIds:["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"],success:function(t){"requestSubscribeMessage:ok"===t.errMsg&&_("4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4")}})},hideUserinfo:function(){this.setData({show_userinfo:!1}),this.pointLogin()},showCollectDetail:function(){this.setData({show_mask:!0})},hideMask:function(t){t.target.id===t.currentTarget.id&&this.setData({show_mask:!1})},getUserInfo:function(){n.globalData.sessionid&&wx.request({url:b,header:{Cookie:n.globalData.sessionid},success:function(t){wx.setStorageSync("userName",t.data.username)}})},getActiveQa:function(t,e){var i=this,a=n.globalData.sessionid;n.globalData.appIsLogin.then((function(){wx.request({url:w,method:"GET",header:{"Content-Type":"application/json",Cookie:a},data:{doctor_id:t,partner:n.globalData.partner},success:function(t){console.log("发请求",t);var a=t.data;0===a.error_code?(e?i.setData({hasRepetitionConsult:!0}):i.setData({have_active_Qa:!0}),i.setData({have_active_Qa_status:a.problem_status,have_active_Qa_id:a.e_id})):1===a.error_code&&e&&i.jumpService()}})}),(function(){}))},h5ServicePoint:function(t,e){var i={source_type:t,from_type:e};wx.setStorage({key:"authorizationPointData",data:i})},getFollowDoc:function(){var t=this,e=n.globalData.sessionid;n.globalData.appIsLogin.then((function(){wx.request({url:g,method:"GET",header:{"Content-Type":"application/json",Cookie:e},data:{partner:n.globalData.partner},success:function(e){var i=e.data;0===i.error_code?t.requestDoctor({doc_id:i.doctor_detail.doc_id}):t.goHome()}})}),(function(){wx.hideLoading(),t.setData({show_userinfo:!0})}))},pageView:function(){var t=this,e=t.options,i=this.data.doctor_detail||{},a=e.inviter_id;t.pageViewHasRun||h({success:function(){t.pageViewHasRun=!0,m("PageView",{platform_source:"chunyu_wap_mini",source_type:e.from||"weixin_mini",inviter_user_id:Number(a||""),doctor_id:i.id,doctor_name:i.name,first_login:n.globalData.first_login?"是":"否",page_title:"小程序医生主页"})}})},loginedActions:function(){var t=this.options;if("xr_follow_doc"===t.action)return this.getFollowDoc(),!1;this.requestDoctor(t)},loginfail:function(){this.setData({show_userinfo:!0})},serviceListTap:function(){var t=this,e=t.data.service_list,i="未开通服务",a=!1,o="",r=0,s=t.data.is_doc_coupon_active&&t.data.discount_price&&(t.data.isLogin&&t.data.to_doc_user||!t.data.isLogin&&t.data.dayFristVisit)?t.data.discount_price:0;e.forEach((function(e,c){console.log(e.more_desc),/^\n/.test(e.more_desc)&&(e.more_desc=e.more_desc.replace("\n","")),0==c&&e.is_service_open?(o=e.service_type,e.price_str=t.data.doctor_detail.graph.volunteer_info?"￥".concat(t.accSub(t.data.doctor_detail.graph.volunteer_info.old_price,"graph"===o?s:0),"元/次"):e.price_str,e.isActive=!0,a=!0,"graph"==e.service_type&&s&&(r=e.price),i=t.data.doctor_detail.graph.volunteer_info?"graph"==o&&t.data.rebuyTip?"继续咨询":e.name+"(义诊价￥"+t.accSub(e.price,"graph"===o?s:0)+")":"graph"==o&&t.data.rebuyTip?"继续咨询":e.name+"(￥"+t.accSub(e.price,"graph"===o?s:0)+"元/次)"):e.isActive=!1})),t.setData({service_list:e,btn_text:i,is_open_service:a,service_type:o,discount_price_text:r})},switchService:function(t){var e=this,i="",a=e.data.service_list,o=e.data.service_type,r=t.currentTarget.dataset.index,s=0;this.setData({currentServiceTypeIndex:r});var c=e.data.is_doc_coupon_active&&e.data.discount_price&&(e.data.isLogin&&e.data.to_doc_user||!e.data.isLogin&&e.data.dayFristVisit)?e.data.discount_price:0;a.forEach((function(t,a){if(a==r){"graph"==t.service_type?(s=c?t.price:0,e.setData({is_old_price:!0})):e.setData({is_old_price:!1}),t.isActive=!0,o=t.service_type;var n=e.accSub(t.price,"graph"===o?c:0);i=e.data.doctor_detail.graph.volunteer_info&&"graph"==t.service_type?"graph"==o&&e.data.rebuyTip?"继续咨询":t.name+"(义诊价￥"+n+")":"register_apply"===o?"".concat(t.name,"(").concat(t.price_str,")"):"graph"==o&&e.data.rebuyTip?"继续咨询":t.name+"(￥"+n+"元/次)"}else t.isActive=!1}));var n=this.data.isNewUser;e.setData({service_list:a,service_type:o,btn_text:i,isShowMoreDesc:n,discount_price_text:s})},beforeJumpService:function(){if(this.shareClickPoint(),"graph"==this.data.service_type)this.getActiveQa(this.data.doctor_id,"doctorHomePage");else if("register_apply"===this.data.service_type){var t=this.data.doctor_detail.doc_id,e=this.data.doctor_detail.name;wx.navigateTo({url:"/pages/out_call_message/index?doctorId=".concat(t,"&doctorName=").concat(e,"&isFirstComeIn=true")})}else this.jumpService()},getDocDisCoupon:function(){var t=this;return new Promise((function(e,i){wx.request({url:x,method:"POST",header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},data:{doctor_id:t.data.doctor_id,is_wx_mini_scan:t.scene?1:0},success:function(i){var a=i.data,o=a.error_code,r=a.error_msg;0!==o||r?t.setData({hasNewCoupon:!1}):t.setData({hasNewCoupon:!0}),e(i.data)},fail:function(t){console.log(t),i(t)}})}))},getNewUserToDoc:function(){var t=this;return new Promise((function(e,i){wx.request({url:y,method:"GET",header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},data:{doctor_id:t.data.doctor_id,is_wx_mini_scan:t.scene?1:0},success:function(i){var a;if(console.log("res",i),0===(null===(a=i.data)||void 0===a?void 0:a.error_code)&&i.data.data){var o=i.data.data,r=o.is_login,s=void 0!==r&&r,c=o.is_doc_coupon_active,n=o.to_doc_user;console.log("is_doc_coupon_active",c),t.setData({isLogin:s,is_doc_coupon_active:c,to_doc_user:n})}e(i)},fail:function(t){i(t)}})}))},jumpService:(t=o(a.default.mark((function t(){var e,i,o,r,s,c,_,l;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this,!(this.data.is_doc_coupon_active&&this.data.to_doc_user||e.data.hasNewCoupon)){t.next=4;break}return t.next=4,this.getDocDisCoupon();case 4:i=e.data.service_type,o=e.data.doctor_detail,r=e.data.doctor_detail&&e.data.doctor_detail.is_famous_doctor?1:0,e.pageView(),"graph"===i?(s={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"",order_type:i,recommend_id:this.data.urlDataForGpt.recommend_id,partner:n.globalData.partner,info_dict:{partner:n.globalData.partner,doctor_id:o.doc_id,cy_page_from:this.data.urlDataForGpt.from_type}},n.globalData.order_data=s,c="/pages/payment/index?name=".concat(o.doc_name,"&price=").concat(o.pro_price,"&hospital=").concat(o.doc_hospital,"&title=").concat(o.doc_title,"&mark=finddoc&from=doc_mainpage&is_vip_doc=").concat(r,"&activity_partner=").concat(e.activityPartner,"&has_new_coupon=").concat(e.data.hasNewCoupon?1:0),wx.navigateTo({url:c})):"video_inquiry_saas"===i?(_="".concat(d,"/v-m-general/video-appointment?doctor_id=").concat(o.doc_id),l="/pages/h5_webview/index?url=".concat(encodeURIComponent(_)),wx.navigateTo({url:l})):wx.navigateTo({url:"/pages/tel_inquiry/index?doctor_id=".concat(o.doc_id,"&from_page=doc_mainpage&from_visit_page=").concat(this.data.visitPageName)});case 9:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)}),reBuy:function(){this.shareClickPoint(),this.jumpService(),this.setData({have_active_Qa:!1,hasRepetitionConsult:!1})},continueQa:function(){this.setData({have_active_Qa:!1});var t=this.data.have_active_Qa_id;"bl"===this.data.have_active_Qa_status?wx.navigateTo({url:"/pages/inquery/inquery?problem_id="+t}):"wr"===this.data.have_active_Qa_status&&wx.navigateTo({url:"../qa_im/index?problem_id=".concat(t,"&entrancy_type=from_doc_mainpage")})},continueAsk:function(){this.setData({hasRepetitionConsult:!1});var t=this.data.have_active_Qa_id;"bl"===this.data.have_active_Qa_status?wx.navigateTo({url:"/pages/inquery/inquery?problem_id="+t}):"wr"===this.data.have_active_Qa_status&&wx.navigateTo({url:"../qa_im/index?problem_id=".concat(t,"&entrancy_type=from_doc_mainpage")})},touchCancel:function(){this.setData({hasRepetitionConsult:!1})},onService:function(t){t.currentTarget.dataset.serviceInfo.is_service_on&&this.reserveConsult(t)},selectService:function(t){var e=t.currentTarget.dataset.serviceInfo;e.is_service_on&&(console.log(e),this.setData({serviceType:e.service_type,serviceName:e.name}))},reserveConsult:function(t){var e=this.data.doctor_detail.doc_id,i=this.data.doctor_detail.name,a=t.currentTarget.dataset.consultType||this.data.serviceType;this.shareClickPoint(),m("AppClick",{app:"weixin_mini",click_position:t.currentTarget.dataset.serviceInfo?t.currentTarget.dataset.serviceInfo.name:this.data.firstSever.name,page_readable_name:"权威专家医生主页",doctor_name:i,doctor_id:e});var o=this.getVipInfoPrice(a);this.data.vip_doctor_info.is_service_open?wx.navigateTo({url:"../reserve_consult/index?doctor_id="+e+"&consult_type="+a+"&doctor_name="+i+"&service_price="+o}):wx.showToast({icon:"none",title:this.data.vip_doctor_info.service_close_text||"当前时段不可申请"})},sendmind:function(){this.pageView(),this.shareClickPoint()},getVipInfoPrice:function(t){var e=0;return this.data.vip_doctor_info.service_info.some((function(i){if(t===i.service_type)return e=(e=i.price_str.match(/\d+/))?e[0]:0,!0})),e},showMore:function(){this.setData({show_all_list:!0})},pointLogin:function(){m("AppClick",{page_readable_name:"医生主页",click_position:"弹窗上去授权按钮点击次数"})},goHome:function(){wx.switchTab({url:"/pages/index/index"})},showMoreDesc:function(){var t=!this.data.isShowMoreDesc;this.setData({isShowMoreDesc:t})},showDoctorStyleDialog:function(t){console.log(this.data.image_list);var e=t.currentTarget.dataset.index;wx.previewMedia({sources:this.data.image_list,current:e})},showIntroDesc:function(){var t=this.data.isIntroDescriptionOpen;this.setData({isIntroDescriptionOpen:!t})},jumpToDocDetail:function(t){var e=t.currentTarget.dataset.docId;m("AppClick",{app:"weixin_mini",click_position:"执业经历",page_readable_name:"权威专家医生主页",doctor_id:e,doctor_name:this.data.doctor_detail.name});var i="".concat(l.baseUrl,"/vip_doctor/template/?view_key=doctor_detail&doc_id=").concat(e,"&from_type=vip_doctor");wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(i))})},jumpToHosDetail:function(){var t;if(null!==(t=this.data.doctor_detail)&&void 0!==t&&t.hospital_id){var e="".concat(l.baseUrl,"/api/search/hospital/hospital_detail/?hospital_id=").concat(this.data.doctor_detail.hospital_id,"&from_type=5&from_visit_page=").concat(this.data.visitPageName);wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})}},onRecommdDoctor:function(){m("AppClick",{app:"weixin_mini",click_position:"推荐专家",page_readable_name:this.data.vip_doctor?"权威专家医生主页":"医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.name}),this.setData({recommdAlert:!0})},recommdAlertConfirm:function(){this.setData({recommdAlert:!1})},onReg:function(t){this.data.isRegisterApply&&this.reserveConsult(t)},onDoctorDetailModal:function(t){var e=t.currentTarget.dataset.click;m("AppClick",{app:"weixin_mini",click_position:e,page_readable_name:this.data.vip_doctor?"权威专家医生主页":"医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.name}),this.setData({doctorDetailModalShow:!this.data.doctorDetailModalShow})},detailAfterLeave:function(){this.setData({doctorDetailModalShow:!1})},onIdentify:function(){this.setData({modalShow:!0})},modalShowConfirm:function(){this.setData({modalShow:!1})},showDoctorDetailModal:function(){n.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生简介",page_readable_name:"权威专家医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.doc_name}),this.setData({doctorDetailModalShow:!0})},accSub:function(t,e){var i,a;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{a=e.toString().split(".")[1].length}catch(t){a=0}var o=Math.pow(10,Math.max(i,a));return((t*o-e*o)/o).toFixed(i>=a?i:a)},toAssessList:function(t){if(this.data.doctor_detail){var e=t.currentTarget.dataset.url,i=t.currentTarget.dataset.clickType,a=t.currentTarget.dataset.keywords,o={app:"weixin_mini",page_readable_name:"医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.doc_name};"查看全部"===i?o.click_position="患者评价查看全部":(o.click_position="患者评价疾病词",o.click_position_value=a),console.log(o),n.sensors.track("AppClick",o),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(d+e))})}},clickOnAssessQa:function(t){var e=t.currentTarget.dataset.problemId,i={app:"weixin_mini",page_readable_name:"医生主页",doctor_id:this.data.doctor_id,doctor_name:this.data.doctor_detail.doc_name,click_position:"患者评价QA",problem_id_str:e};n.sensors.track("AppClick",i),e&&wx.navigateTo({url:"/pages/qa_im/index?problem_id=".concat(e,"&id=").concat(this.data.doctor_detail.clinic_no,"&from=doctor_home&entrance_type=from_doc_mainpage")})},toSubscribe:function(){var t=this;(0,r.default)({url:S,method:"POST",data:{doctor_id:this.data.doctor_id,is_subscribe:!0},success:function(e){console.log(e),0===e.data.error_code&&(wx.showToast({icon:"none",title:"关注成功，医生直播、发布话题时将会通知您"}),t.setData({"liveSubscribeInfo.is_subscribe":!0,has_followed:!0,follow_text:"已关注"}))}})},unSubscribe:function(){var t=this;wx.showModal({content:"您可能错过医生的直播，确定取消订阅吗？",cancelText:"再想想",confirmText:"确定",success:function(e){console.log(e),e.confirm&&(0,r.default)({url:S,method:"POST",data:{doctor_id:t.data.doctor_id,is_subscribe:!1},success:function(e){console.log(e),0===e.data.error_code&&(wx.showToast({icon:"none",title:"已成功取消订阅"}),t.getLiveInfo())}})}})},getLiveInfo:function(){var t=this;(0,r.default)({url:D,data:{doctor_id:this.data.doctor_id},success:function(e){console.log(e),0===e.data.error_code&&t.setData({liveSubscribeInfo:e.data.data})}})},pageVisitReport:function(t,e){return(0,s.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{filter:{doctor_id:this.data.doctor_id},click_position:t||"",click_order:e||0}})},toServiceDescLink:function(t){var e=t.currentTarget.dataset.url,i=d+e;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(i))})}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_mainpage/index.js'});require("pages/doc_mainpage/index.js");$gwx_XC_75=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_75 || [];
function gz$gwx_XC_75_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_75_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_75_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_75_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_75_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_75_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_75=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_75=true;
var x=['./pages/doc_topic/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_75_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_75";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_75();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doc_topic/index.wxml'] = [$gwx_XC_75, './pages/doc_topic/index.wxml'];else __wxAppCode__['pages/doc_topic/index.wxml'] = $gwx_XC_75( './pages/doc_topic/index.wxml' );
	;__wxRoute = "pages/doc_topic/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doc_topic/index.js";define("pages/doc_topic/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onLoad:function(e){if(e.id)wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(e.id,"&topic_type=topic")});else{var o=decodeURIComponent(e.scene);o=this.parseScene(o),wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(o.id,"&topic_type=topic")})}}});
},{isPage:true,isComponent:true,currentFile:'pages/doc_topic/index.js'});require("pages/doc_topic/index.js");$gwx_XC_76=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_76 || [];
function gz$gwx_XC_76_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_76_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_76_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_76_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'>'],[[6],[[7],[3,'historyList']],[3,'length']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_76_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_76_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_76=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_76=true;
var x=['./pages/doctor_history_list/doctor_history_list.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_76_1()
var hUV=_v()
_(r,hUV)
if(_oz(z,0,e,s,gg)){hUV.wxVkey=1
}
hUV.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_76";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_76();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doctor_history_list/doctor_history_list.wxml'] = [$gwx_XC_76, './pages/doctor_history_list/doctor_history_list.wxml'];else __wxAppCode__['pages/doctor_history_list/doctor_history_list.wxml'] = $gwx_XC_76( './pages/doctor_history_list/doctor_history_list.wxml' );
	;__wxRoute = "pages/doctor_history_list/doctor_history_list";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doctor_history_list/doctor_history_list.js";define("pages/doctor_history_list/doctor_history_list.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault"),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=t(require("../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),a=t(require("../../3B123513829A079C5D745D1477BC7B70.js")),r=i.baseUrl+"/api/my_service/history_list/",s=getApp();Page({data:{doctorId:"",historyList:[],targetPageMap:{graph:{path:"/pages/qa_im/index"},inquiry:{path:"/pages/tel_inquiry_detail/index"}},visitPageName:"历史咨询",fromVisitPage:""},onLoad:function(t){var i=t.doctor_id;this.data.doctorId=i,this.getHistoryList(),this.setData({fromVisitPage:t.from_visit_page||""})},onShow:function(){(0,a.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{}})},getHistoryList:function(){var t=this;wx.showLoading({title:"加载中"}),wx.request({url:r,header:{Cookie:s.globalData.sessionid},data:{doctor_id:this.data.doctorId,partner:"chunyu_wap_mini"},success:function(i){wx.hideLoading(),i.data.success&&t.setData({historyList:i.data.service_list})},fail:function(){wx.hideLoading()}})},toFindDoctor:function(){wx.navigateTo({url:"/pages/find_doctor/index?from_visit_page=".concat(this.data.visitPageName)})},toService:function(t){var i=t.currentTarget.dataset.serviceIndex,a=this.data.historyList[i];if(!this.data.targetPageMap[a.service_type])return e.default.setFilterMsg("invalid_service_type"),void e.default.error("service_type错误，当前service_type为".concat(a.service_type));var r=this.data.targetPageMap[a.service_type].path;"graph"===a.service_type?wx.navigateTo({url:r+"?problem_id=".concat(a.service_id,"&from_visit_page=").concat(this.data.visitPageName)}):"inquiry"===a.service_type&&wx.navigateTo({url:r+"?inquiry_id=".concat(a.service_id,"&from_visit_page=").concat(this.data.visitPageName)})}});
},{isPage:true,isComponent:true,currentFile:'pages/doctor_history_list/doctor_history_list.js'});require("pages/doctor_history_list/doctor_history_list.js");$gwx_XC_77=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_77 || [];
function gz$gwx_XC_77_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_77_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_77_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_77_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'error']])
Z([3,'topic'])
Z([[7],[3,'doctorInfo']])
Z([[7],[3,'visitPageName']])
Z([[7],[3,'shouldAdShow']])
Z([3,'doPoint'])
Z([[6],[[7],[3,'adInfo']],[3,'image']])
Z([[6],[[7],[3,'adInfo']],[3,'url']])
Z([[6],[[7],[3,'adInfo']],[3,'redirect_type']])
Z([[7],[3,'src']])
Z([3,'onMpHtmlLinkTap'])
Z([[7],[3,'topicRichtextContent']])
Z([1,false])
Z([3,'onFollowSuccess'])
Z([[6],[[7],[3,'doctorInfo']],[3,'id']])
Z([[6],[[7],[3,'doctorInfo']],[3,'hasFollowed']])
Z([[6],[[7],[3,'topicInfo']],[3,'content_type']])
Z([[6],[[7],[3,'topicInfo']],[3,'title']])
Z([[6],[[7],[3,'topicInfo']],[3,'id']])
Z([[2,'&&'],[[7],[3,'newUserWelfare']],[[6],[[7],[3,'newUserWelfare']],[3,'image']]])
Z([[7],[3,'newUserWelfare']])
Z(z[1])
Z([[7],[3,'pageReadableName']])
Z([[6],[[7],[3,'doctorInfo']],[3,'canAskDoctor']])
Z([[6],[[7],[3,'doctorInfo']],[3,'clinic']])
Z([[6],[[7],[3,'doctorInfo']],[3,'clinicNo']])
Z(z[14])
Z([[6],[[7],[3,'doctorInfo']],[3,'doctor_name']])
Z([3,'语音'])
Z([1,true])
Z([[2,'&&'],[[7],[3,'isDocCouponActive']],[[2,'||'],[[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'toDocUser']]],[[2,'&&'],[[2,'!'],[[7],[3,'isLogin']]],[[7],[3,'dayFristVisit']]]]])
Z(z[3])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_77_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_77_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_77=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_77=true;
var x=['./pages/doctor_topic_general_page/doctor_topic_general_page.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_77_1()
var cWV=_v()
_(r,cWV)
if(_oz(z,0,e,s,gg)){cWV.wxVkey=1
}
else{cWV.wxVkey=2
var lYV=_n('view')
_rz(z,lYV,'class',1,e,s,gg)
var e2V=_mz(z,'doctor-header-detail-page',['doctorInfo',2,'visitPageName',1],[],e,s,gg)
_(lYV,e2V)
var aZV=_v()
_(lYV,aZV)
if(_oz(z,4,e,s,gg)){aZV.wxVkey=1
var b3V=_mz(z,'ad-bar',['bindtap',5,'imgUrl',1,'targetUrl',2,'type',3],[],e,s,gg)
_(aZV,b3V)
}
var t1V=_v()
_(lYV,t1V)
if(_oz(z,9,e,s,gg)){t1V.wxVkey=1
}
var o4V=_mz(z,'mp-html',['bind:linktap',10,'content',1,'copyLink',2],[],e,s,gg)
_(lYV,o4V)
var x5V=_mz(z,'follow-doc-button-detail-page',['bind:followsuccess',13,'doctorId',1,'hasFollowed',2],[],e,s,gg)
_(lYV,x5V)
aZV.wxXCkey=1
aZV.wxXCkey=3
t1V.wxXCkey=1
_(cWV,lYV)
}
var o6V=_mz(z,'doctor-recommend-list',['contentType',16,'title',1,'titleId',2],[],e,s,gg)
_(r,o6V)
var oXV=_v()
_(r,oXV)
if(_oz(z,19,e,s,gg)){oXV.wxVkey=1
var f7V=_mz(z,'new-user-welfare-bar',['adDetail',20,'from',1,'pageReadableName',2],[],e,s,gg)
_(oXV,f7V)
}
var c8V=_mz(z,'page-footer',['canAskDoctor',23,'clinic',1,'clinicNo',2,'docId',3,'doctorName',4,'fromType',5,'shouldShowDiscoutTag',6,'showDiscountBadge',7,'visitPageName',8],[],e,s,gg)
_(r,c8V)
cWV.wxXCkey=1
cWV.wxXCkey=3
oXV.wxXCkey=1
oXV.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_77";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_77();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doctor_topic_general_page/doctor_topic_general_page.wxml'] = [$gwx_XC_77, './pages/doctor_topic_general_page/doctor_topic_general_page.wxml'];else __wxAppCode__['pages/doctor_topic_general_page/doctor_topic_general_page.wxml'] = $gwx_XC_77( './pages/doctor_topic_general_page/doctor_topic_general_page.wxml' );
	;__wxRoute = "pages/doctor_topic_general_page/doctor_topic_general_page";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doctor_topic_general_page/doctor_topic_general_page.js";define("pages/doctor_topic_general_page/doctor_topic_general_page.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var e=t(require("../../@babel/runtime/regenerator")),i=require("../../@babel/runtime/helpers/asyncToGenerator"),o=require("../../@babel/runtime/helpers/objectSpread2"),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),s=t(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),c=t(require("../../6A719353829A079C0C17FB54BF7D7B70.js")),r=require("../../43A2F676829A079C25C49E711B4C7B70.js"),d=t(require("../../3B123513829A079C5D745D1477BC7B70.js")),l=getApp(),p="".concat(a.baseUrl,"/api/v7/new_user/to_doc/"),u=a.baseUrl+"/events/new_user_welfare/entrance_info/?from_wx_mini=1";Page({data:{topicType:"",id:0,error:!1,canAskDoctor:!1,doctorInfo:{},topicInfo:{},progress:0,src:"",audioAction:{method:"pause"},time:"00:00",adInfo:{},shouldAdShow:!1,isHasMargin:!1,dayFristVisit:!1,isDocCouponActive:!1,toDocUser:!1,isLogin:!1,urlData:{id:"",topicType:""},structuredDoctorInfo:{can_ask_doctor:!1,clinic_name:"",name:"",doctor_name:"",hospital:"",hospital_name:"",hospital_level:"",id:"",image:"",title:"",coupon_rate:"",discounted_price:""},topicRichtextContent:"",newUserWelfare:{},pageReadableName:"",visitPageName:"话题详情页",fromVisitPage:""},onLoad:function(t){if(this.time=0,this.g=0,this.s=0,this.minuteG=0,this.minuteS=0,console.log(t),(0,c.default)({level:2,id:"generanl_topic_detail",hasPassed:t&&t.topic_type&&t.id,extraInfo:{problemId:t?t.id:"options is undefined",topicType:t?t.topic_type:"options is undefined"}}),this.setData({"urlData.id":t.id||"","urlData.topicType":t.topic_type,fromVisitPage:t.from_visit_page||""}),t.id)this.getTopicDetail(t.id);else{var e=decodeURIComponent(t.scene);e=this.parseScene(e),this.getTopicDetail(e.id)}},onShow:function(t){this.getTopicDetail(this.data.urlData.id);var e=this;this.getNewUserWelfare(),l.globalData.appIsLogin.then((function(){e.getNewUserToDoc(),e.setData({dayFristVisit:!1})}),(function(){var t,i=function(){var t=new Date,e=("0"+String(t.getDate())).slice(-2);return("0"+String(t.getMonth()+1)).slice(-2)+"/"+e+"/"+t.getFullYear()},o=wx.getStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON");o&&i()!==o?i()===o?t=!0:i()!==o&&(t=!1):(wx.setStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON",i()),t=!0),e.setData({dayFristVisit:t})})),(0,d.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{filter:{id:this.data.id||""},click_position:"",click_order:0}})},audioTimeUpdated:function(t){this.time+=1;var e=t.detail.duration,i=t.detail.currentTime;1===this.time&&(this.g+=1,this.minuteG>=10&&(this.minuteS=""),this.g>=10&&(this.s=""),60===this.g&&(this.s=0,this.g=1,this.minuteG+=1),this.setData({time:"".concat(this.minuteS).concat(this.minuteG,":").concat(this.s).concat(this.g)})),4===this.time&&(this.time=0);var o=i/e*100;this.setData({progress:o})},getTopicDetail:function(t){var e=this,i={audio:"".concat(a.baseUrl,"/cooperation/wap/audio/").concat(t,"/?partner=chunyu_wap_mini"),qa:"".concat(a.baseUrl,"/cooperation/wap/qa/answers/").concat(t,"/?partner=chunyu_wap_mini"),topic:"".concat(a.baseUrl,"/cooperation/wap/topic/").concat(t,"/")};(0,s.default)({url:i[this.data.urlData.topicType],data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")},success:function(a){var n=a.data;if("qa"===e.data.urlData.topicType){var s=o(o({},n.answer_list[0]),{},{doctor_name:n.answer_list[0].doctor,image:n.answer_list[0].doctor_img,canAskDoctor:n.can_ask_doctor,clinicNo:n.clinic_no,hasFollowed:n.has_followed}),r=n.answer_list[0].answer,d={title:n.title,read_num:n.view_num,pubdate:n.publish_date,content_type:n.content_type,id:n.id};e.setData({doctorInfo:s,topicRichtextContent:r,topicInfo:d,pageReadableName:"医生话题详情页"})}else if("audio"===e.data.urlData.topicType){var p,u=o(o({},n.doctor_info),{},{canAskDoctor:!!n.doctor_info&&n.doctor_info.can_ask_doctor,clinicNo:n.clinic_no,hasFollowed:n.has_followed});(0,c.default)({id:"audio_detail",hasPassed:n.topic_info&&n.topic_info.html_content,extraInfo:o({problemId:t,requestUrl:i[e.data.urlData.topicType]},n)});var _=null===(p=n.topic_info)||void 0===p?void 0:p.html_content;if(!_)return void wx.showToast({title:"获取话题详情失败",icon:"none"});e.setData({doctorInfo:u,topicRichtextContent:_,topicInfo:n.topic_info,canAskDoctor:!!n.doctor_info&&n.doctor_info.can_ask_doctor,src:n.topic_info?n.topic_info.final_audio:"",adInfo:n.ad_info,shouldAdShow:!!n.ad_info&&Boolean(Object.keys(n.ad_info).length),clinicNo:n.clinic_no,pageReadableName:"语音话题详情页"})}else if("topic"===e.data.urlData.topicType){console.log(n);var h=o(o({},n.doctor_info),{},{canAskDoctor:n.can_ask_doctor,clinicNo:n.clinic_no,hasFollowed:n.has_followed}),f={title:n.title,read_num:n.read_num,pubdate:n.created_time,content_type:n.content_type,id:n.id},g=n.content;e.setData({doctorInfo:h,topicRichtextContent:g,topicInfo:f,pageReadableName:"简答话题详情页"})}e.data.shouldAdShow&&l.sensors.track("AdShow",{app:"weixin_mini",ad_position:"AD语音话题广告展示",ad_title:n.ad_info.ad_title});wx.setNavigationBarTitle({title:{topic:"专家科普",audio:"春雨医生",qa:"春雨医生"}[e.data.urlData.topicType]}),e.getNewUserToDoc()},fail:function(){this.setData({error:!0})}})},getNewUserWelfare:function(){var t=this;return i(e.default.mark((function i(){return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.isLogin){e.next=3;break}return e.next=3,(0,r.manualLogin)();case 3:(0,s.default)({url:u,data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),scene:"seo_topic"},success:function(e){200===e.statusCode&&e.data&&t.setData({newUserWelfare:e.data})}});case 4:case"end":return e.stop()}}),i)})))()},setStructuredDoctorInfo:function(){},onShareAppMessage:function(){return{path:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(this.data.urlData.id,"&topic_type=").concat(this.data.urlData.topicType),title:this.data.topicInfo.title}},playAudio:function(){"play"===this.data.audioAction.method?this.setData({audioAction:{method:"pause"}}):this.setData({audioAction:{method:"play"}})},pauseHandle:function(){100===this.data.progress&&(this.setData({progress:0,time:"00:00",audioAction:{this:"pause"}}),this.time=0,this.g=0,this.s=0,this.minuteG=0,this.minuteS=0)},doPoint:function(){l.sensors.track("AdClick",{app:"weixin_mini",ad_position:"AD语音话题广告点击",ad_title:this.data.adInfo.ad_title})},trackDoctor:function(){l.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生信息-内容详情页"})},trackShare:function(){l.sensors.track("AppClick",{app:"weixin_mini",click_position:"咨询医生-分享"})},parseScene:function(t){var e={};return"string"!=typeof(t=decodeURIComponent(t))||t.split("&").forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=t.split("=");e[i[0]]=i[1]})),e},onFollowSuccess:function(t){this.setData({"doctorInfo.hasFollowed":t.detail.isFollowed})},getNewUserToDoc:function(){var t,e=this;null!==(t=this.data.doctorInfo)&&void 0!==t&&t.id&&wx.request({url:p,method:"GET",header:{"Content-Type":"application/json",Cookie:l.globalData.sessionid},data:{doctor_id:this.data.doctorInfo.id},success:function(t){var i=t.data.data,o=i.is_login,a=i.is_doc_coupon_active,n=i.to_doc_user;e.setData({isDocCouponActive:a,toDocUser:n,isLogin:o})}})},onMpHtmlLinkTap:function(t){var e=t.detail.href;if(e)if(e.includes("/wx-mini-bridge/")){var i=(0,n.getQueryStr)("query",e);i&&wx.navigateTo({url:"/pages/home_search/index?query=".concat(i,"&from_visit_page=").concat(this.data.visitPageName)})}else wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})}});
},{isPage:true,isComponent:true,currentFile:'pages/doctor_topic_general_page/doctor_topic_general_page.js'});require("pages/doctor_topic_general_page/doctor_topic_general_page.js");$gwx_XC_78=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_78 || [];
function gz$gwx_XC_78_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_78_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_78_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_78_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_78_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_78_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_78=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_78=true;
var x=['./pages/doctor_topic_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_78_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_78";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_78();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/doctor_topic_list/index.wxml'] = [$gwx_XC_78, './pages/doctor_topic_list/index.wxml'];else __wxAppCode__['pages/doctor_topic_list/index.wxml'] = $gwx_XC_78( './pages/doctor_topic_list/index.wxml' );
	;__wxRoute = "pages/doctor_topic_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/doctor_topic_list/index.js";define("pages/doctor_topic_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a="".concat(e.baseUrl,"/cooperation/wap/doctor_homepage_topic/list");Page({data:{doctorId:"",topicList:[],currentType:"0",currentPage:1,isLoadingMore:!1,hasContent:!0,isFirstPage:!0,visitPageName:"话题列表页",fromVisitPage:""},onLoad:function(t){this.setData({doctorId:t.doc_id,fromVisitPage:t.from_visit_page||""}),this.getAllTopic()},onShow:function(){(0,t.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{}})},onReachBottom:function(){this.setData({isLoadingMore:!0,isFirstPage:!1}),this.fetchList(this.data.currentPage+1,this.data.currentType,!0)},_request:function(t,e){var i=this,o={doctor_id:this.data.doctorId,page:t,count_per_page:20};return e&&"0"!==e&&(o.topic_content_type=e),console.log("page",o.page,"type",o.topic_content_type),wx.showLoading({title:"加载中",mask:!0}),new Promise((function(t,e){wx.request({url:a,data:o,success:function(e){return t(e)},fail:function(t){return e(t)},complete:function(){wx.hideLoading(),i.setData({isLoadingMore:!1})}})}))},processRawData:function(t,e){var a=t.data.topic_list;this.setData({hasContent:a&&a.length}),a.splice(19),a.forEach((function(t){2===t.topic_content_type?(t.topicContentTypeText="语音",t.icon="https://resourced.chunyu.mobi/Uu4AAABvB-lIl3oW-3647a560-6a40-4edb-814d-8a53b76f7862_w24_h24_.png"):1===t.topic_content_type?(t.topicContentTypeText="图文",t.icon="https://resourced.chunyu.mobi/mQ4AAADvBelIl3oW-307f030f-71ad-43fd-a190-02682fbebdc8_w24_h24_.png"):(t.topicContentTypeText="简答",t.icon="https://resourced.chunyu.mobi/daAAAAAtEulIl3oW-352d9ebb-b901-4920-adbc-9f685c3993ab_w24_h24_.png")}));var i=a;e&&(i=this.data.topicList.concat(a)),this.setData({topicList:i})},getAllTopic:function(){var t=this;this.setData({currentType:"0"}),this._request(1).then((function(e){wx.hideLoading(),e.data&&0===e.data.error_code&&t.processRawData(e)}))},fetchList:function(t,e,a){var i=this;t||(t=1),this._request(t,e).then((function(t){wx.hideLoading(),t.data&&0===t.data.error_code&&(i.processRawData(t,a),a&&t.data.topic_list&&t.data.topic_list.length&&i.setData({currentPage:i.data.currentPage+1}))}))},handleButtonTap:function(t){var e=t.currentTarget.dataset.type;e!==String(this.data.currentType)&&(this.setData({currentPage:1,currentType:e,isFirstPage:!0}),this.fetchList(1,e),wx.pageScrollTo({scrollTop:0,duration:600}))}});
},{isPage:true,isComponent:true,currentFile:'pages/doctor_topic_list/index.js'});require("pages/doctor_topic_list/index.js");$gwx_XC_79=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_79 || [];
function gz$gwx_XC_79_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_79_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_79_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_79_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'clinicInfo']],[3,'length']])
Z([3,'jumpAskPage'])
Z([a,[3,'bottom-button '],[[2,'?:'],[[6],[[7],[3,'curClinic']],[3,'disabled']],[1,'gray-button'],[1,'']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_79_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_79_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_79=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_79=true;
var x=['./pages/emergency/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_79_1()
var cAW=_v()
_(r,cAW)
if(_oz(z,0,e,s,gg)){cAW.wxVkey=1
var oBW=_mz(z,'cy-userinfo',['bindloginevent',1,'class',1],[],e,s,gg)
_(cAW,oBW)
}
cAW.wxXCkey=1
cAW.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_79";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_79();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/emergency/index.wxml'] = [$gwx_XC_79, './pages/emergency/index.wxml'];else __wxAppCode__['pages/emergency/index.wxml'] = $gwx_XC_79( './pages/emergency/index.wxml' );
	;__wxRoute = "pages/emergency/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/emergency/index.js";define("pages/emergency/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,t=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),a=(t.param,t.getQueryStr),c=i.baseUrl+"/api/v8/inquiry_emergency/?is_json=1",r=i.baseUrl+"/api/v8/get_current_emergency_status/";Page({data:{clinicInfo:[],curClinic:{},beginTime:"",endTime:"",partner:e.globalData.partner,requestFlag:!1},onLoad:function(i){var n=this;if(wx.request({url:c,method:"GET",header:{Cookie:e.globalData.sessionid},success:function(e){var i=e.data;i.clinic_info&&i.clinic_info.length&&n.setData({clinicInfo:i.clinic_info,curClinic:i.clinic_info[0],beginTime:i.clinic_info[0].begin,endTime:i.clinic_info[0].end})}}),i.scene){var t="?"+decodeURIComponent(i.scene),r=a("fv",t);["seo-m","seo-mip","seo-pc"].includes(r)&&this.h5ServicePoint(r)}},switchClinic:function(e){var i=e.currentTarget.dataset.index,t=this.data.clinicInfo[i];this.setData({curClinic:t,beginTime:t.begin,endTime:t.end});var a={clinic_no:t.clinic_no,clinic_name:t.clinic_name,clinic_price:t.clinic_price};n("SearchDoctorSelectDepartment",a)},formatTime:function(e){var i=new Date;return i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()+" "+e},jumpAskPage:function(){var e=this;e.data.requestFlag||(e.setData({requestFlag:!0}),e.getTimeStatus(e.data.curClinic.clinic_no,(function(i){i.data.clinic_info.disable?wx.showModal({content:"医生休息时间",confirmText:"我知道了",showCancel:!1}):wx.redirectTo({url:"/pages/inquery/inquery?partner="+e.data.partner+"&from_page=emergency&emergency_clinic_no="+e.data.curClinic.clinic_no})})))},getTimeStatus:function(i,n){var t=this;wx.request({url:r,method:"GET",header:{Cookie:e.globalData.sessionid},data:{clinic_no:i||""},complete:function(){t.setData({requestFlag:!1})},success:n,fail:function(){console.log("请求出错")}})},h5ServicePoint:function(e){var i={source_type:e,order_type:"图文急诊",from_type:"中转页扫码"};n("WebServeiceScan",i),wx.setStorage({key:"authorizationPointData",data:i})},onShareAppMessage:function(){return{title:"推荐春雨医生「急诊服务」：着急用急诊，就是快",imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/10/11/29df/a41727e43180_w422_h338_.png"}}});
},{isPage:true,isComponent:true,currentFile:'pages/emergency/index.js'});require("pages/emergency/index.js");$gwx_XC_80=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_80 || [];
function gz$gwx_XC_80_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_80_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_80_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_80_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_80_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_80_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_80=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_80=true;
var x=['./pages/enterprise_function/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_80_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_80";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_80();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/enterprise_function/index.wxml'] = [$gwx_XC_80, './pages/enterprise_function/index.wxml'];else __wxAppCode__['pages/enterprise_function/index.wxml'] = $gwx_XC_80( './pages/enterprise_function/index.wxml' );
	;__wxRoute = "pages/enterprise_function/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/enterprise_function/index.js";define("pages/enterprise_function/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp();Page({data:{token:"",expires_in:"",filterType:0},onLoad:function(e){var o=this;wx.getSystemInfo({success:function(e){console.log(e.environment),"wxwork"==e.environment&&o.getQyCode()}})},getQyCode:function(){var e=this;return new Promise((function(o,t){var n=e;wx.qy.login({success:function(e){console.log(e),e.code?(n.setData({code:e.code}),wx.showToast({title:e.errMsg,icon:"none",duration:1500}),n.getToken().then((function(e){n.getSessionKey(e.access_token,n.data.code).then((function(){o()})).catch((function(e){t()}))}))):(t(),wx.showToast({title:"获取code失败！",icon:"none",duration:1500}))}})}))},getToken:function(){var o=this;return new Promise((function(t,n){wx.request({url:"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww5cba1baed377f596&corpsecret=mdWjZFSjLVCsoCazpgkc7g1g_Iip3LBGNSvGVM9ya1Q",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",success:function(e){console.log("响应的token:",e,e.data),0===e.data.errcode?(o.setData({token:e.data.access_token,expires_in:e.data.expires_in}),t(e.data)):(wx.showToast({title:e.data.errmsg||"token请求错误！",icon:"none",duration:1500}),n(err))},fail:function(e){wx.showToast({title:"token请求错误！",icon:"none",duration:1500}),n(e)}})}))},getSessionKey:function(o,t){return new Promise((function(n,s){wx.request({url:"https://qyapi.weixin.qq.com/cgi-bin/miniprogram/jscode2session?access_token=".concat(o,"&js_code=").concat(t,"&grant_type=authorization_code"),method:"GET",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},success:function(e){console.log(e.data),0===e.data.errcode?(wx.setStorageSync("qySessionid",e.data.session_key),n(),console.log("哈哈 ，最终获取到了qySessionid："+e.data.session_key)):(s(),wx.showToast({title:e.data.errmsg||"SessionKey请求错误！",icon:"none",duration:1500}))},fail:function(){s(),wx.showToast({title:"SessionKey请求错误！",icon:"none",duration:1500})}})}))},jumpQy:function(){var e=this;e.checkSession().then((function(){e.sendUrl()}))},checkSession:function(){return new Promise((function(e){wx.qy.checkSession({success:function(){e()},fail:function(){that.getQyCode().then((function(){e()}))}})}))},sendUrl:function(){var e=this;console.log(wx.qy),wx.qy.getContext({success:function(o){var t=o.entry;console.log("当前的入口是："+t),"single_chat_tools"===t||"group_chat_tools"===t?(wx.showToast({title:"向微信群发送中！ヾ(◍°∇°◍)ﾉﾞ",duration:2e3}),e.sendChatType()):wx.showToast({title:"不是通过聊天会话进入！",duration:2e3})},fail:function(e){console.log("错误："+e)},complete:function(e){console.log("检测："+e)}})},sendChatType:function(){wx.qy.sendChatMessage({msgtype:"news",text:{content:"发送处方到企业群"},image:{mediaid:""},video:{mediaid:""},file:{mediaid:""},news:{link:"https://www.chunyuyisheng.com/",title:"春雨医生在线问诊",desc:"春雨医生提供真实医生的在线医疗健康咨询服务。由公立医院医师解答用户的健康问题。移动客户端产品春雨掌上医生是一款“自查+咨询”的健康服务类手机客户端；您可通过春雨医生、春雨掌上医生，查询自己或他人有可能罹患的疾病，向医生提问，同时您将得到及时解答。",imgUrl:"https://resource.chunyu.mobi/@/media/images/2020/10/29/1696/baf0b1b65e7d_w720_h288_.png"},success:function(e){"qy.sendChatMessage:ok"==e.err_msg&&wx.showToast({title:"已发送",duration:2e3})},fail:function(e){console.log("发送失败"+e)},complete:function(e){console.log("检测发送："+e)}})},selectExternalContact:function(){var e=this;this.checkSession().then((function(){wx.qy.selectExternalContact({filterType:e.data.filterType,success:function(e){var o=e.userIds;console.log("成功获取多个id",e,o)},fail:function(e){console.log("选择多个错误",e)},complete:function(e){console.log("选择多个：",e)}})}))},getCurExternalContact:function(){console.log(wx.qy),this.checkSession().then((function(){wx.qy.getContext({success:function(e){var o=e.entry;console.log("当前的入口是："+o),"contact_profile"===o||"single_chat_tools"===o||"chat_attachment"===o?wx.qy.getCurExternalContact({success:function(e){var o=e.userId;console.log("获取外部联系人userid成功",e,o)},fail:function(e){console.log("获取外部联系人userid失败",e)},complete:function(e){console.log("获取联系人",e)}}):wx.showToast({title:"不是聊天工具栏进入小程序！",duration:2e3})},fail:function(e){console.log("检测入口错误：",e)},complete:function(e){console.log("检测入口：",e)}})}))},cut:function(){this.data.filterType?this.setData({filterType:0}):this.setData({filterType:1}),wx.showToast({title:"获取模式"+this.data.filterType,icon:"none",duration:1500})}});
},{isPage:true,isComponent:true,currentFile:'pages/enterprise_function/index.js'});require("pages/enterprise_function/index.js");$gwx_XC_81=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_81 || [];
function gz$gwx_XC_81_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_81_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_81_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_81=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_81=true;
var x=['./pages/facility-abutment-login/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_81_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_81";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_81();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/facility-abutment-login/index.wxml'] = [$gwx_XC_81, './pages/facility-abutment-login/index.wxml'];else __wxAppCode__['pages/facility-abutment-login/index.wxml'] = $gwx_XC_81( './pages/facility-abutment-login/index.wxml' );
	;__wxRoute = "pages/facility-abutment-login/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/facility-abutment-login/index.js";define("pages/facility-abutment-login/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../A9EAB7C2829A079CCF8CDFC58A3C7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),i=n.wxShowToast,o=n.wxShowLoading,c=require("../../92BC1755829A079CF4DA7F52C55D7B70.js");Page({data:{isLogin:!1,deviceId:"",deviceType:""},onLoad:function(e){if(e.scene){var n=decodeURIComponent(decodeURIComponent(e.scene)),o=c.getQueryStr("id",n)||"",t=c.getQueryStr("t","&".concat(n))||"";console.log("设备方参数",o,t),this.setData({deviceId:o,deviceType:t})}else i("设备方参数错误")},onShow:function(){var n=this;o("登录中"),new Promise((function(n,i){(0,e.appIsLogin)({success:function(){n()},fail:function(){i("用户未登录")},isNumberLogin:!0})})).then((function(e){console.log("用户已登录",e),n.onLoginSuccess(n)})).catch((function(e){console.log("用户未登录",e),wx.hideLoading()}))},getPhoneNumber:function(e){var n=e.detail;if("getPhoneNumber:ok"===(null==n?void 0:n.errMsg)){var o={encryptedData:null,iv:null};if(n){var c=n.encryptedData,t=n.iv;o.encryptedData=c||null,o.iv=t||null}this.onGetPhoneNumberSuccess(o)}else i("请先授权")},onGetPhoneNumberSuccess:function(n){console.log("onGetPhoneNumberSuccess执行了",n),o("登录中");var i=n.encryptedData,c=n.iv,t=this;i&&c?(0,e.appLogin)({success:function(){t.onLoginSuccess(t)},fail:function(){wx.hideLoading()},encryptedData:i,iv:c,isNumberLogin:!0}):this.onLoginFail("请先授权")},onLoginSuccess:function(){var e=this.data,n=e.deviceId,i=e.deviceType;wx.redirectTo({url:"/pages/device_use/index?device_id=".concat(n,"&device_type=").concat(i),success:function(){wx.hideLoading()}})},onLoginFail:function(e){wx.hideLoading(),i(e||"登录失败，请重试")}});
},{isPage:true,isComponent:true,currentFile:'pages/facility-abutment-login/index.js'});require("pages/facility-abutment-login/index.js");$gwx_XC_82=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_82 || [];
function gz$gwx_XC_82_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_82_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_82_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_82_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'submitFrom'])
Z([3,'submit-btn'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_82_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_82_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_82=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_82=true;
var x=['./pages/fast_phone/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_82_1()
var eFW=_mz(z,'cy-userinfo',['bindloginevent',0,'class',1],[],e,s,gg)
_(r,eFW)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_82";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_82();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/fast_phone/index.wxml'] = [$gwx_XC_82, './pages/fast_phone/index.wxml'];else __wxAppCode__['pages/fast_phone/index.wxml'] = $gwx_XC_82( './pages/fast_phone/index.wxml' );
	;__wxRoute = "pages/fast_phone/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/fast_phone/index.js";define("pages/fast_phone/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var i=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),s=(n.param,n.getQueryStr),c=e.baseUrl+"/ask/clinic/fast_phone_order/introduction/?multi_clinic=True&is_json=1";Page({data:{clinicPop:!1,currentClinc:{},curIndex:"",phone:"",assessList:[{name:"188*******9",assess:"很满意",desc:"打字沟通总觉得很费劲，慢不说还说不清，电话服务还是挺方便的，有啥不清楚直接电话里几句说完，快速解决问题。给个好评",doctor:"郝振锋",hospital:"北京军区总医院"},{name:"乐乐妈",assess:"很满意",desc:"医助分配的专家很好，本来担心10分钟内说不完，直接买了2份，结果大夫很快就给了解决方案！还讲的特别仔细，根本就是多虑。",doctor:"侯彩英",hospital:"中国人民解放军第二炮兵总医院"},{name:"微信登录",assess:"很满意",desc:"提交订单不到两分钟就回过电话来了，太快了。医生解答的很清楚，5分钟完事。体验不错！",doctor:"丁海青",hospital:"山东省妇幼保健院"},{name:"彩虹",assess:"很满意",desc:"医生很专业，也很有耐心，给个好评",doctor:"时岩",hospital:"中国人民解放军第四军医大学西京医院"},{name:"138*******3很满意",assess:"很满意",desc:"我的情况比较复杂，很感谢张医生能耐着性子听我唠叨，不仅建议了解决办法，还不忘鼓励安慰，真的很感动。",doctor:"张焱",hospital:"北京军区总医院附属八一儿童医院"},{name:"182*******9",assess:"很满意",desc:"去个医院没几百下不来，还要各种排队，想想就心累。没想一个电话在家就把病问清了，真是便民服务。",doctor:"刘海防",hospital:"复旦大学附属华山医院北院"}],clinicList:[],serviceTime:""},onLoad:function(i){if(this.getClinicList(),i.scene){var e="?"+decodeURIComponent(i.scene),t=s("fv",e);["seo-m","seo-mip","seo-pc"].includes(t)&&this.h5ServicePoint(t)}},getClinicList:function(){var e=this;wx.request({url:c,header:{Cookie:i.globalData.sessionid},method:"GET",success:function(i){i.data.clinic_info_list?e.setData({clinicList:i.data.clinic_info_list,serviceTime:i.data.service_time||"8:30-22:00"}):wx.showToast({title:"科室数据加载错误",icon:"loading"})},error:function(i){console.log(i)}})},showClincList:function(){this.setData({clinicPop:!0})},hideClincList:function(i){i.target.id===i.currentTarget.id&&this.setData({clinicPop:!1})},chooseClinic:function(i){var e=i.currentTarget.dataset.index;this.setData({currentClinc:this.data.clinicList[e],curIndex:e,clinicPop:!1});var n={click_position:this.data.currentClinc.clinic_name,source:"wx_mini"};t("FastphoneDetailPage",n)},updatePhone:function(i){var e=i.detail.value;this.setData({phone:e})},submitFrom:function(){var i=this;if(this.checkInfo()){var e="nb"==this.data.currentClinc.clinic_no?"20分钟":"10分钟";wx.showModal({content:"通话时长："+e+"\r\n服务时间："+this.data.serviceTime+"\r\n接听手机号为"+this.data.phone,cancelText:"修改",success:function(e){e.confirm&&i.ajaxForm()}})}},ajaxForm:function(){var e={order_type:"fast_phone",order_desc:"",finish_success_url:"../pay_success/index",price:this.data.currentClinc.price,clinic_name:this.data.currentClinc.clinic_name,order_name:this.data.currentClinc.clinic_name+"极速电话服务",info_dict:{phone:this.data.phone,clinic_no:this.data.currentClinc.clinic_no}};i.globalData.order_data=e,wx.redirectTo({url:"../payment/index?mark=fast_phone&common_pay=true&clinic_name="+e.clinic_name+"&price="+e.price})},checkInfo:function(){var i="";if(this.data.currentClinc.clinic_no)if(this.data.phone){if(/^1[3|4|5|7|8]\d{9}$/.test(this.data.phone))return!0;i="请输入正确格式的手机号"}else i="请输入手机号";else i="请选择科室";return wx.showToast({title:i,icon:"loading"}),!1},h5ServicePoint:function(i){var e={source_type:i,order_type:"快捷电话",from_type:"中转页扫码"};t("WebServeiceScan",e),wx.setStorage({key:"authorizationPointData",data:e})},onShareAppMessage:function(){return{title:"推荐春雨医生「快接电话」：身体不适，一个电话就够了",imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/10/11/5d58/9fc9bd741d89_w422_h338_.png"}}});
},{isPage:true,isComponent:true,currentFile:'pages/fast_phone/index.js'});require("pages/fast_phone/index.js");$gwx_XC_83=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_83 || [];
function gz$gwx_XC_83_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_83_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_83_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_83_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'doctor_info']],[[6],[[7],[3,'doctor_info']],[3,'id']]])
Z([3,'detail-main'])
Z([[2,'&&'],[[2,'=='],[[7],[3,'status']],[1,'r']],[[7],[3,'refund_reason']]])
Z([[2,'=='],[[7],[3,'status']],[1,'t']])
Z([3,'item'])
Z([[7],[3,'contents']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'d']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_83_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_83_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_83=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_83=true;
var x=['./pages/fast_phone_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_83_1()
var oHW=_v()
_(r,oHW)
if(_oz(z,0,e,s,gg)){oHW.wxVkey=1
}
var xIW=_n('view')
_rz(z,xIW,'class',1,e,s,gg)
var oJW=_v()
_(xIW,oJW)
if(_oz(z,2,e,s,gg)){oJW.wxVkey=1
}
else if(_oz(z,3,e,s,gg)){oJW.wxVkey=2
var fKW=_v()
_(oJW,fKW)
var cLW=function(oNW,hMW,cOW,gg){
var lQW=_v()
_(cOW,lQW)
if(_oz(z,6,oNW,hMW,gg)){lQW.wxVkey=1
}
lQW.wxXCkey=1
return cOW
}
fKW.wxXCkey=2
_2z(z,5,cLW,e,s,gg,fKW,'item','index','')
}
oJW.wxXCkey=1
_(r,xIW)
oHW.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_83";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_83();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/fast_phone_detail/index.wxml'] = [$gwx_XC_83, './pages/fast_phone_detail/index.wxml'];else __wxAppCode__['pages/fast_phone_detail/index.wxml'] = $gwx_XC_83( './pages/fast_phone_detail/index.wxml' );
	;__wxRoute = "pages/fast_phone_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/fast_phone_detail/index.js";define("pages/fast_phone_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o=t+"/cooperation/wap/problem_detail_page/";Page({data:{doctor_info:null,sessionid:"",problem_id:"",partner:"",problem_detail:"",status:"",contents:"",inquiry_time_str:"",need_assess:"",service_type:""},onLoad:function(a){var i=a.service_type;o=i?t+"/cooperation/wap/problem_detail_page/?service_type=fast_phone":t+"/cooperation/wap/problem_detail_page/";var s=e.globalData.sessionid||wx.getStorageSync("sessionid");this.setData({problem_id:a&&a.problem_id?a.problem_id:e.globalData.problem_id,doctor_info:e.globalData.doctor_info,sessionid:s}),this.init()},init:function(){var t=this,a=t.data.sessionid,i=e.globalData.partner,s=t.data.problem_id;wx.request({url:o,header:{Cookie:a},data:{from_wx_mini:1,partner:i,problem_id:s,is_json:1},success:function(e){var o=e.data;o.doctor_info&&wx.setNavigationBarTitle({title:o.doctor_info.name+"医生"}),t.setData({partner:i,doctor_info:o.doctor_info,is_problem_user:o.is_problem_user,page_info:o.page_info,problem_detail:o.problem_detail,status:o.status,contents:o.contents,inquiry_time_str:o.inquiry_time_str,need_assess:o.need_assess,refund_reason:o.refund_reason})},fail:function(e){t.setData({error_msg:e.error_msg,toast_hidden:!1})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/fast_phone_detail/index.js'});require("pages/fast_phone_detail/index.js");$gwx_XC_84=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_84 || [];
function gz$gwx_XC_84_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_84_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_84_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_84_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_84_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_84_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_84=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_84=true;
var x=['./pages/fast_qa/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_84_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_84";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_84();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/fast_qa/index.wxml'] = [$gwx_XC_84, './pages/fast_qa/index.wxml'];else __wxAppCode__['pages/fast_qa/index.wxml'] = $gwx_XC_84( './pages/fast_qa/index.wxml' );
	;__wxRoute = "pages/fast_qa/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/fast_qa/index.js";define("pages/fast_qa/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onShow:function(){wx.redirectTo({url:"/pages/inquery/inquery"})}});
},{isPage:true,isComponent:true,currentFile:'pages/fast_qa/index.js'});require("pages/fast_qa/index.js");$gwx_XC_85=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_85 || [];
function gz$gwx_XC_85_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_85_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_85_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_85_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'doctorList']])
Z([3,'index'])
Z([[2,'&&'],[[7],[3,'item']],[[6],[[7],[3,'item']],[3,'doctor_info']]])
Z([3,'jumpToDoctorMain'])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'doctor_id']])
Z([[6],[[7],[3,'item']],[3,'doctor_info']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'has_online_services']])
Z([[2,'+'],[[7],[3,'index']],[1,1]])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'is_expert']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'name']])
Z(z[5])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_85_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_85_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_85=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_85=true;
var x=['./pages/find_doctor/components/doctor-list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_85_1()
var eTW=_v()
_(r,eTW)
var bUW=function(xWW,oVW,oXW,gg){
var cZW=_v()
_(oXW,cZW)
if(_oz(z,2,xWW,oVW,gg)){cZW.wxVkey=1
var h1W=_mz(z,'doctor-card',['bindtap',3,'data-doctor-id',1,'data-doctor-info',2,'data-has_online_services',3,'data-index',4,'data-is_expert',5,'data-name',6,'doctorInfo',7],[],xWW,oVW,gg)
_(cZW,h1W)
}
cZW.wxXCkey=1
cZW.wxXCkey=3
return oXW
}
eTW.wxXCkey=4
_2z(z,0,bUW,e,s,gg,eTW,'item','index','index')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_85";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_85();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor/components/doctor-list/index.wxml'] = [$gwx_XC_85, './pages/find_doctor/components/doctor-list/index.wxml'];else __wxAppCode__['pages/find_doctor/components/doctor-list/index.wxml'] = $gwx_XC_85( './pages/find_doctor/components/doctor-list/index.wxml' );
	;__wxRoute = "pages/find_doctor/components/doctor-list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor/components/doctor-list/index.js";define("pages/find_doctor/components/doctor-list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp();Component({properties:{doctorList:{type:Array,value:[]},currentTabName:{type:String,value:""},intention:{type:String,value:""},synonymQuery:{type:String,value:""},serverParams:{type:String,value:""}},methods:{jumpToDoctorMain:function(e){var r,t,o,n,i=(e.currentTarget||{}).dataset,a=void 0===i?{}:i;console.log("------",this.data.currentTabName),console.log(a),this.trackWithServer(null===(r=a.doctorInfo)||void 0===r||null===(t=r.cy_redirect)||void 0===t?void 0:t.click_info),this.triggerEvent("onDoctorCardClick",{doctorId:a.doctorId,index:a.index,serverParams:this.data.serverParams,intention:this.data.intention,hasOnlineServices:a.has_online_services,synonymQuery:this.data.synonymQuery,isExpert:a.is_expert,cyRedirect:(null===(o=a.doctorInfo)||void 0===o||null===(n=o.cy_redirect)||void 0===n?void 0:n.click_info)||""})},trackWithServer:function(r){if(r)try{var t=JSON.parse(r);console.log(t),e.sensors.track(t.click_event,t)}catch(e){console.error(e)}}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor/components/doctor-list/index.js'});require("pages/find_doctor/components/doctor-list/index.js");$gwx_XC_86=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_86 || [];
function gz$gwx_XC_86_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_86_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'find-doc-wrap'])
Z([[7],[3,'isEmpty']])
Z([3,'scroll'])
Z([[7],[3,'isShowScrollBar']])
Z([a,[3,'height:'],[[2,'?:'],[[7],[3,'clientHeight']],[[2,'+'],[[7],[3,'clientHeight']],[1,'px']],[1,'724px']]])
Z([3,'jumpOtherUrl'])
Z([3,'一键找医生'])
Z([3,'findDoctor'])
Z([1,128])
Z([[7],[3,'isShowClinic']])
Z([[2,'>'],[[7],[3,'secondItemNumber']],[1,0]])
Z([[7],[3,'secondItemNumber']])
Z([3,'index'])
Z([[6],[[7],[3,'secondClinicList']],[3,'length']])
Z([[6],[[7],[3,'diseaseList']],[3,'length']])
Z([[6],[[7],[3,'hospitalList']],[3,'length']])
Z([[7],[3,'hospitalList']])
Z(z[12])
Z(z[5])
Z([3,'hospital-item'])
Z([3,'常见医院'])
Z([[6],[[7],[3,'item']],[3,'name']])
Z(z[21])
Z([3,'hospital'])
Z([3,'hospital-tags'])
Z([[6],[[7],[3,'item']],[3,'rank_tag']])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_count']],[1,0]],[[6],[[7],[3,'item']],[3,'doctor_count']]])
Z([[2,'?:'],[[7],[3,'fixTop']],[1,'fix-top-wrap'],[1,'']])
Z([3,'doctors-list'])
Z([[6],[[7],[3,'navClinicList']],[3,'length']])
Z([3,'idx'])
Z([3,'navItem'])
Z([[7],[3,'navClinicList']])
Z(z[30])
Z([3,'switchTab'])
Z([a,[3,'nav-bar-name '],[[2,'&&'],[[2,'==='],[[7],[3,'currentTab']],[[7],[3,'idx']]],[1,'nav-bar-cur']]])
Z([[6],[[7],[3,'navItem']],[3,'clinic_name']])
Z([[6],[[7],[3,'navItem']],[3,'clinic_no']])
Z([[7],[3,'idx']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'currentTab']],[[7],[3,'idx']]],[1,'item-cur']])
Z([3,'swiperSwitchTab'])
Z([[7],[3,'currentTab']])
Z([a,z[4][1],[[7],[3,'swiperHeight']],[3,'px']])
Z(z[30])
Z([3,'item'])
Z(z[32])
Z(z[30])
Z([a,[3,'swiperItem'],z[38]])
Z([[6],[[6],[[7],[3,'item']],[3,'doctorList']],[3,'length']])
Z([3,'onDoctorCardClick'])
Z([[7],[3,'currentTabName']])
Z([[6],[[7],[3,'item']],[3,'doctorList']])
Z([[7],[3,'intention']])
Z([[7],[3,'server_params']])
Z([[7],[3,'synonym_query']])
Z([[7],[3,'loading']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_86_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_86_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_86=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_86=true;
var x=['./pages/find_doctor/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_86_1()
var c3W=_n('view')
_rz(z,c3W,'class',0,e,s,gg)
var o4W=_v()
_(c3W,o4W)
if(_oz(z,1,e,s,gg)){o4W.wxVkey=1
var l5W=_n('empty')
_(o4W,l5W)
}
else{o4W.wxVkey=2
var a6W=_mz(z,'scroll-view',['enableBackToTop',-1,'enhanced',-1,'scrollWithAnimation',-1,'scrollY',-1,'bindscroll',2,'showScrollbar',1,'style',2],[],e,s,gg)
var o0W=_mz(z,'intellect-diagnose',['bindtap',5,'data-click_position',1,'data-type',2,'marginTop',3],[],e,s,gg)
_(a6W,o0W)
var t7W=_v()
_(a6W,t7W)
if(_oz(z,9,e,s,gg)){t7W.wxVkey=1
var xAX=_v()
_(t7W,xAX)
if(_oz(z,10,e,s,gg)){xAX.wxVkey=1
var oBX=_v()
_(xAX,oBX)
var fCX=function(hEX,cDX,oFX,gg){
var oHX=_v()
_(oFX,oHX)
if(_oz(z,13,hEX,cDX,gg)){oHX.wxVkey=1
}
oHX.wxXCkey=1
return oFX
}
oBX.wxXCkey=2
_2z(z,11,fCX,e,s,gg,oBX,'item','index','index')
}
xAX.wxXCkey=1
}
var e8W=_v()
_(a6W,e8W)
if(_oz(z,14,e,s,gg)){e8W.wxVkey=1
}
var b9W=_v()
_(a6W,b9W)
if(_oz(z,15,e,s,gg)){b9W.wxVkey=1
var lIX=_v()
_(b9W,lIX)
var aJX=function(eLX,tKX,bMX,gg){
var xOX=_mz(z,'view',['bindtap',18,'class',1,'data-click_position',2,'data-data',3,'data-name',4,'data-type',5],[],eLX,tKX,gg)
var oPX=_n('view')
_rz(z,oPX,'class',24,eLX,tKX,gg)
var fQX=_v()
_(oPX,fQX)
if(_oz(z,25,eLX,tKX,gg)){fQX.wxVkey=1
}
var cRX=_v()
_(oPX,cRX)
if(_oz(z,26,eLX,tKX,gg)){cRX.wxVkey=1
}
fQX.wxXCkey=1
cRX.wxXCkey=1
_(xOX,oPX)
_(bMX,xOX)
return bMX
}
lIX.wxXCkey=2
_2z(z,16,aJX,e,s,gg,lIX,'item','index','index')
}
var hSX=_mz(z,'view',['class',27,'id',1],[],e,s,gg)
var oTX=_v()
_(hSX,oTX)
if(_oz(z,29,e,s,gg)){oTX.wxVkey=1
var cUX=_v()
_(oTX,cUX)
var oVX=function(aXX,lWX,tYX,gg){
var b1X=_mz(z,'view',['bindtap',34,'class',1,'data-clinic-name',2,'data-clinic-no',3,'data-current',4],[],aXX,lWX,gg)
var o2X=_v()
_(b1X,o2X)
if(_oz(z,39,aXX,lWX,gg)){o2X.wxVkey=1
}
o2X.wxXCkey=1
_(tYX,b1X)
return tYX
}
cUX.wxXCkey=2
_2z(z,32,oVX,e,s,gg,cUX,'navItem','idx','idx')
}
var x3X=_mz(z,'swiper',['bindchange',40,'current',1,'style',2],[],e,s,gg)
var o4X=_v()
_(x3X,o4X)
var f5X=function(h7X,c6X,o8X,gg){
var o0X=_n('view')
_rz(z,o0X,'id',47,h7X,c6X,gg)
var lAY=_v()
_(o0X,lAY)
if(_oz(z,48,h7X,c6X,gg)){lAY.wxVkey=1
var aBY=_mz(z,'doctor-list',['bindonDoctorCardClick',49,'currentTabName',1,'doctorList',2,'intention',3,'serverParams',4,'synonymQuery',5],[],h7X,c6X,gg)
_(lAY,aBY)
}
else{lAY.wxVkey=2
var tCY=_v()
_(lAY,tCY)
if(_oz(z,55,h7X,c6X,gg)){tCY.wxVkey=1
}
tCY.wxXCkey=1
}
lAY.wxXCkey=1
lAY.wxXCkey=3
_(o8X,o0X)
return o8X
}
o4X.wxXCkey=4
_2z(z,45,f5X,e,s,gg,o4X,'item','idx','idx')
_(hSX,x3X)
oTX.wxXCkey=1
_(a6W,hSX)
t7W.wxXCkey=1
e8W.wxXCkey=1
b9W.wxXCkey=1
_(o4W,a6W)
}
o4W.wxXCkey=1
o4W.wxXCkey=3
o4W.wxXCkey=3
_(r,c3W)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_86";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_86();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor/index.wxml'] = [$gwx_XC_86, './pages/find_doctor/index.wxml'];else __wxAppCode__['pages/find_doctor/index.wxml'] = $gwx_XC_86( './pages/find_doctor/index.wxml' );
	;__wxRoute = "pages/find_doctor/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor/index.js";define("pages/find_doctor/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault"),i=require("../../@babel/runtime/helpers/defineProperty"),e=t(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),a=t(require("../../3B123513829A079C5D745D1477BC7B70.js")),n=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,o="".concat(n,"/api/search/clinic/list/"),s="".concat(n,"/api/search/doctor/list/"),c="".concat(n,"/api/search/doctor/conf/"),r=getApp();Page({data:{isShowScrollBar:!1,loading:!1,showText:"",navClinicList:[],clinicList:[],isShowClinic:!1,firstClinicList:[],secondClinicList:[],secondItemNumber:0,diseaseList:[],hospitalList:[],doctorInfoList:[],alreadyGetClinicList:[],isEmpty:!1,navScrollLeft:0,clientHeight:0,fixTop:!1,shouldTopicComponentFixed:!1,swiperHeight:500,currentTab:0,currentTabName:"",paganition:{page:1,countPerPage:20,has_more:!0},currentClinc:{},intention:"",synonym_query:"",server_params:"",visitPageName:"找医生首页",fromVisitPage:"",visitReportFilter:{}},onLoad:function(t){var i=this;wx.getSystemInfo({success:function(t){i.setData({clientHeight:t.windowHeight})}}),this.getConfData(),this.getNavbarClinicList(),this.setData({fromVisitPage:t.from_visit_page||""})},onShow:function(){r.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"找医生首页"}),this.pageVisitReport().then((function(t){console.log("visit error::",t)}))},onShareAppMessage:function(){return{title:this.data.title,path:"/pages/find_doctor/index"}},getNavbarClinicList:function(){var t=this,i=this.data.alreadyGetClinicList;wx.request({url:o,method:"GET",header:{Cookie:r.globalData.sessionid},success:function(e){var a=e.data,n=void 0===a?{}:a;if(0===n.error_code){var o=n.data||[];t.setData({navClinicList:o}),t.getDoctorsList(0),console.log("所有的一级科室",i)}else wx.showToast({icon:"none",title:"科室请求出错，请重试"})},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"})}})},getConfData:function(){var t=this,i={conf_type_list:JSON.stringify([1,2,3]),from_type:1,platform:"weixin_mini"};wx.request({url:c,data:i,method:"GET",header:{Cookie:r.globalData.sessionid},success:function(i){var e=i.data,a=void 0===e?{}:e;if(0===a.error_code){var n=a.data.clinic_list;t.setData({clinicList:n,isShowClinic:!!n.length});var o=n.slice(0,8),s=Math.ceil((n.length-8)/2),c=n.slice(8);t.setData({firstClinicList:o,secondClinicList:c,secondItemNumber:s,diseaseList:a.data.disease_list,hospitalList:a.data.hospital_list})}else wx.showToast({icon:"none",title:"数据请求出错，请重试"})},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"}),t.setData({isEmpty:!0})}})},jumpOtherUrl:function(t){var i=this,e=(t.currentTarget||{}).dataset,a=void 0===e?{}:e,n=a.type,o=a.name,s=a.click_position,c=void 0===s?"":s,l=a.data;c&&(o?r.sensors.track("AppClick",{app:"weixin_mini",click_position:c,page_readable_name:"找医生首页",click_position_value:o}):r.sensors.track("AppClick",{app:"weixin_mini",click_position:c,page_readable_name:"找医生首页"})),this.pageVisitReport({clickPosition:c,clickOrder:0}).then((function(){var t=i.getJumpUrl(n,l);console.log("跳转到其他页面",t),wx.navigateTo({url:t})}))},getJumpUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(t){case"findDoctor":return"/pages/inquery/inquery?from_page=find_doc_fast";case"vipDoctor":return"/pages/h5_webview/index?url=".concat(encodeURIComponent("".concat(n,"/v-m-general/authoritative-expert?from_type=1&from_visit_page=").concat(this.data.visitPageName)));case"freeDiagnose":return"/pages/h5_webview/index?url=".concat(encodeURIComponent("".concat(n,"/v-m-general/free-clinic?from_visit_page=").concat(this.data.visitPageName)));case"clinic":return"".concat(i,"&show_item_type_id=2&input_type=常见科室");case"moreClinic":return"/pages/find_doctor_list/index?show_item_type_id=2&show_clinic_window=1&from_visit_page=".concat(this.data.visitPageName);case"moreClinicDoctor":return"/pages/find_doctor_list/index?from_visit_page=".concat(this.data.visitPageName);case"disease":return"/pages/find_doctor_list/index?query=".concat(i,"&input_type=常见疾病&from_visit_page=").concat(this.data.visitPageName);case"moreDisease":return"/pages/find_doctor_list/index?show_item_type_id=3&show_clinic_window=1&from_visit_page=".concat(this.data.visitPageName);case"hospitalList":return"/pages/h5_webview/index?url=".concat(encodeURIComponent("".concat(n,"/v-m-general/hospital-list?from_type=1&from_visit_page=").concat(this.data.visitPageName)));case"hospital":return"/pages/find_doctor_list/index?query=".concat(i,"&from_visit_page=").concat(this.data.visitPageName);case"bottomMoreList":return"/pages/find_doctor_list/index?clinic_name=".concat(this.data.currentClinc.clinicName||"","&first_clinic_no=").concat(this.data.currentClinc.clinicNo||"","&show_clinic_window=0&show_item_type_id=2&from_visit_page=").concat(this.data.visitPageName);default:return""}},focus:function(){var t=this;console.log("focus"),r.sensors.track("AppClick",{app:"weixin_mini",click_position:"顶部搜索框",page_readable_name:"找医生首页"}),this.pageVisitReport({clickPosition:"顶部搜索框",clickOrder:0}).then((function(){wx.navigateTo({url:"/pages/find_doctor_list/index?visible=1&from=main&from_visit_page=".concat(t.data.visitPageName)})}))},scroll:function(t){var i=this,e=wx.createSelectorQuery();e.select("#doctors-list")&&(e.select("#doctors-list").boundingClientRect(),e.selectViewport().scrollOffset(),e.exec((function(t){t[0]&&(t[0].top<=55?i.setData({fixTop:!0}):i.data.fixTop&&i.setData({fixTop:!1}))})))},switchTab:function(t){if(!this.data.loading){var i=(t.currentTarget||{}).dataset,e=void 0===i?{}:i;this.setData({currentClinc:e}),this.swiperChange(e.current),this.getNavBarScrollPosition(e.current)}},swiperSwitchTab:function(t){if(!this.data.loading){var i=t.detail.current;console.log("滑动切换",i),this.swiperChange(i),this.getNavBarScrollPosition(i)}},swiperChange:function(t){this.clearDoctorInfoList(),this.getDoctorsList(t)},getNavBarScrollPosition:function(t){var i=t,e=Math.floor(400/7);if(this.setData({navScrollLeft:(i-2)*e*2}),this.data.currentTab==i)return!1;this.setData({currentTab:i,currentTabName:this.data.navClinicList[i].clinic_name})},getSwiperContentHeight:function(t){var e=this,a=wx.createSelectorQuery().select("#swiperItem".concat(t));a&&a.boundingClientRect((function(a){e.data.navClinicList[t]&&a&&(e.setData(i({},"navClinicList[".concat(t,"].height"),a.height+15)),e.setSwiperContentHeight(t))})).exec()},setSwiperContentHeight:function(t){this.data.navClinicList[t].height<150&&(this.data.navClinicList[t].height=150),this.setData({swiperHeight:this.data.navClinicList[t].height})},clearDoctorInfoList:function(){this.setData({"paganition.page":1,"paganition.has_more":!0,doctorInfoList:[]})},getDoctorsList:function(t){var a=this,n=this.data,o=n.loading,c=n.navClinicList,r=void 0===c?[]:c,l="navClinicList[".concat(t,"].doctorList");if(!(r[t].doctorList&&r[t].doctorList.length||o)){var d=this.getSearchParams(t);this.data.visitReportFilter=d,this.setData({loading:!0}),(0,e.default)({url:s,data:d,method:"GET",success:function(e){var n,o=e.data,s=void 0===o?{}:o;0===s.error_code?(a.setData((n={server_params:s.data.server_params,doctorInfoList:s.data.item_list,"paganition.has_more":s.data.has_more,loading:!1},i(n,l,s.data.item_list||[]),i(n,"currentTabName",a.data.navClinicList[t].clinic_name),i(n,"intention",s.data.intention||""),i(n,"synonym_query",s.data.synonym_query||""),n)),a.getSwiperContentHeight(a.data.currentTab)):(wx.showToast({icon:"none",title:"数据请求出错，请重试"}),a.setData({loading:!1}))},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"}),a.setData({isEmpty:!0,loading:!1})}})}},getSearchParams:function(t){var i=this.data,e=i.paganition,a=void 0===e?{}:e,n=i.navClinicList,o=void 0===n?[]:n;return{from_type:1,platform:"weixin_mini",clinic_no:o[t]&&o[t].clinic_no,page:a.page,count_per_page:a.countPerPage,secureId:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")}},onDoctorCardClick:function(t){var i=this,e=t.detail,a=e.doctorId,n=e.serverParams,o=e.intention,s=e.hasOnlineServices,c=e.synonymQuery,r=e.isExpert,l=e.index,d=e.cyRedirect,p={};if(d)try{p=JSON.parse(d)}catch(t){console.log("json.parse error>>",d)}this.pageVisitReport({clickPosition:"医生卡片",clickOrder:l,cyRedirect:p}).then((function(){r?wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(a,"&server_params=").concat(n,"&source=vip&has_online_services=").concat(s,"&intention=").concat(o,"&synonym_query=").concat(c,"&from_visit_page=").concat(i.data.visitPageName)}):wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(a,"&server_params=").concat(n,"&intention=").concat(o,"&synonym_query=").concat(c,"&from_visit_page=").concat(i.data.visitPageName)})}))},pageVisitReport:function(t){var i=t||{},e=i.cyRedirect,n=i.clickPosition,o=i.clickOrder;return(0,a.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{filter:this.data.visitReportFilter||{},cy_redirect:e||{},click_position:n||"",click_order:o||0}})}});
},{isPage:true,isComponent:true,currentFile:'pages/find_doctor/index.js'});require("pages/find_doctor/index.js");$gwx_XC_87=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_87 || [];
function gz$gwx_XC_87_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_87_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_87_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_87_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'search-doctor-list-wrap'])
Z([[7],[3,'searchQuery']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'query']]],[[6],[[7],[3,'historyList']],[3,'length']]])
Z([3,'history-content'])
Z([[7],[3,'historyListShow']])
Z([3,'index'])
Z([[2,'!'],[[7],[3,'isShowAllHistory']]])
Z([[7],[3,'historyList']])
Z(z[5])
Z([[7],[3,'isShowAllHistory']])
Z([[7],[3,'isShowExpandBtn']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'query']]],[[6],[[7],[3,'hotSearchList']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_87_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_87_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_87=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_87=true;
var x=['./pages/find_doctor_list/components/doctor_search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_87_1()
var bEY=_n('view')
_rz(z,bEY,'class',0,e,s,gg)
var oFY=_v()
_(bEY,oFY)
if(_oz(z,1,e,s,gg)){oFY.wxVkey=1
}
else{oFY.wxVkey=2
var xGY=_n('view')
var oHY=_v()
_(xGY,oHY)
if(_oz(z,2,e,s,gg)){oHY.wxVkey=1
var cJY=_n('view')
_rz(z,cJY,'class',3,e,s,gg)
var oLY=_v()
_(cJY,oLY)
var cMY=function(lOY,oNY,aPY,gg){
var eRY=_v()
_(aPY,eRY)
if(_oz(z,6,lOY,oNY,gg)){eRY.wxVkey=1
}
eRY.wxXCkey=1
return aPY
}
oLY.wxXCkey=2
_2z(z,4,cMY,e,s,gg,oLY,'item','index','index')
var bSY=_v()
_(cJY,bSY)
var oTY=function(oVY,xUY,fWY,gg){
var hYY=_v()
_(fWY,hYY)
if(_oz(z,9,oVY,xUY,gg)){hYY.wxVkey=1
}
hYY.wxXCkey=1
return fWY
}
bSY.wxXCkey=2
_2z(z,7,oTY,e,s,gg,bSY,'item','index','index')
var hKY=_v()
_(cJY,hKY)
if(_oz(z,10,e,s,gg)){hKY.wxVkey=1
}
hKY.wxXCkey=1
_(oHY,cJY)
}
var fIY=_v()
_(xGY,fIY)
if(_oz(z,11,e,s,gg)){fIY.wxVkey=1
}
oHY.wxXCkey=1
fIY.wxXCkey=1
_(oFY,xGY)
}
oFY.wxXCkey=1
_(r,bEY)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_87";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_87();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/components/doctor_search/index.wxml'] = [$gwx_XC_87, './pages/find_doctor_list/components/doctor_search/index.wxml'];else __wxAppCode__['pages/find_doctor_list/components/doctor_search/index.wxml'] = $gwx_XC_87( './pages/find_doctor_list/components/doctor_search/index.wxml' );
	;__wxRoute = "pages/find_doctor_list/components/doctor_search/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/components/doctor_search/index.js";define("pages/find_doctor_list/components/doctor_search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{historyList:{type:Array,value:[]},hotSearchList:{type:Array,value:[]},associateList:{type:Array,value:[]},searchQuery:{type:String,value:""},isInputing:{type:Boolean,value:!1}},observers:{isInputing:function(t){t&&this.getShowExpandBtn()}},data:{visible:!0,historyListShow:[],isShowAllHistory:!1,isShowExpandBtn:!1,isComputed:!1},lifetimes:{attached:function(){this.triggerEvent("getHistoryListEvent"),this.setData({historyListShow:this.data.historyList}),this.getShowExpandBtn()}},methods:{search:function(t){var e=(t.currentTarget||{}).dataset,i=void 0===e?{}:e;this.triggerEvent("confirmEvent",{query:i.value,type:i.type,jump:i.jump,url:i.url,typesearch:i.typesearch})},switchHistory:function(){this.setData({isShowAllHistory:!this.data.isShowAllHistory})},getShowExpandBtn:function(){var t=this;console.log("我被调用了");var e=this,i=0,s=0,o=this.createSelectorQuery().selectAll(".history-content>.history-item");o&&o.boundingClientRect((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(o),o.forEach((function(e,o){e.left>=13&&e.left<=26&&3===++s&&(i=o-1,t.setData({isShowExpandBtn:!0}))})),i>0?t.setData({historyListShow:e.data.historyList.slice(0,i+1)}):t.setData({historyListShow:e.data.historyList,isComputed:!0}),console.log(t.data.historyListShow,t.data.isShowAllHistory)})).exec()},deleteHistoryList:function(){console.log("删除"),this.triggerEvent("deleteHistoryEvent")},clickAssociationalWord:function(t){var e=(t.currentTarget||{}).dataset,i=void 0===e?{}:e;this.triggerEvent("associationalEvent",{query:i.value,type:i.type,typesearch:"click_suggestion"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor_list/components/doctor_search/index.js'});require("pages/find_doctor_list/components/doctor_search/index.js");$gwx_XC_88=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_88 || [];
function gz$gwx_XC_88_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_88_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_88_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_88_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'tree-select-wrap'])
Z([[7],[3,'isShowFilter']])
Z(z[1])
Z([3,'filter-content'])
Z([[2,'==='],[[7],[3,'showItemTypeId']],[1,1]])
Z([[2,'==='],[[7],[3,'showItemTypeId']],[1,2]])
Z([[2,'==='],[[7],[3,'showItemTypeId']],[1,3]])
Z([3,'index'])
Z([3,'diseaseItem'])
Z([[7],[3,'diseaseList']])
Z([3,'clinic_name'])
Z([3,'left-item'])
Z([3,'changeDiseaseFirstClinic'])
Z([a,[3,'item-title '],[[2,'?:'],[[2,'&&'],[[2,'!'],[[6],[[6],[[7],[3,'diseaseItem']],[3,'children']],[3,'length']]],[[2,'==='],[[6],[[7],[3,'displayStatusForTapEvent']],[3,'diseaseFristClinicName']],[[6],[[7],[3,'diseaseItem']],[3,'clinic_name']]]],[1,'cur'],[1,'']]])
Z([[2,'?:'],[[6],[[6],[[7],[3,'diseaseItem']],[3,'children']],[3,'length']],[1,true],[1,false]])
Z([[6],[[7],[3,'diseaseItem']],[3,'clinic_no']])
Z([[7],[3,'diseaseItem']])
Z([[2,'?:'],[[6],[[6],[[7],[3,'diseaseItem']],[3,'children']],[3,'length']],[1,'First'],[1,'Second']])
Z([[6],[[6],[[7],[3,'diseaseItem']],[3,'children']],[3,'length']])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'diseaseItem']],[3,'children']],[[6],[[6],[[7],[3,'diseaseItem']],[3,'children']],[3,'length']]],[[2,'==='],[[6],[[7],[3,'diseaseItem']],[3,'clinic_name']],[[6],[[7],[3,'displayStatusForTapEvent']],[3,'diseaseFristClinicName']]]])
Z([[2,'==='],[[7],[3,'showItemTypeId']],[1,4]])
Z([[2,'==='],[[7],[3,'showItemTypeId']],[1,5]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_88_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_88_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_88=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_88=true;
var x=['./pages/find_doctor_list/components/filter/filter.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_88_1()
var c1Y=_n('view')
_rz(z,c1Y,'class',0,e,s,gg)
var o2Y=_v()
_(c1Y,o2Y)
if(_oz(z,1,e,s,gg)){o2Y.wxVkey=1
}
var l3Y=_v()
_(c1Y,l3Y)
if(_oz(z,2,e,s,gg)){l3Y.wxVkey=1
var a4Y=_n('view')
_rz(z,a4Y,'class',3,e,s,gg)
var t5Y=_v()
_(a4Y,t5Y)
if(_oz(z,4,e,s,gg)){t5Y.wxVkey=1
}
var e6Y=_v()
_(a4Y,e6Y)
if(_oz(z,5,e,s,gg)){e6Y.wxVkey=1
}
var b7Y=_v()
_(a4Y,b7Y)
if(_oz(z,6,e,s,gg)){b7Y.wxVkey=1
var o0Y=_v()
_(b7Y,o0Y)
var fAZ=function(hCZ,cBZ,oDZ,gg){
var oFZ=_n('view')
_rz(z,oFZ,'class',11,hCZ,cBZ,gg)
var aHZ=_mz(z,'view',['bindtap',12,'class',1,'data-has-third',2,'data-id',3,'data-item',4,'data-option',5],[],hCZ,cBZ,gg)
var tIZ=_v()
_(aHZ,tIZ)
if(_oz(z,18,hCZ,cBZ,gg)){tIZ.wxVkey=1
}
tIZ.wxXCkey=1
_(oFZ,aHZ)
var lGZ=_v()
_(oFZ,lGZ)
if(_oz(z,19,hCZ,cBZ,gg)){lGZ.wxVkey=1
}
lGZ.wxXCkey=1
_(oDZ,oFZ)
return oDZ
}
o0Y.wxXCkey=2
_2z(z,9,fAZ,e,s,gg,o0Y,'diseaseItem','index','clinic_name')
}
var o8Y=_v()
_(a4Y,o8Y)
if(_oz(z,20,e,s,gg)){o8Y.wxVkey=1
}
var x9Y=_v()
_(a4Y,x9Y)
if(_oz(z,21,e,s,gg)){x9Y.wxVkey=1
}
t5Y.wxXCkey=1
e6Y.wxXCkey=1
b7Y.wxXCkey=1
o8Y.wxXCkey=1
x9Y.wxXCkey=1
_(l3Y,a4Y)
}
o2Y.wxXCkey=1
l3Y.wxXCkey=1
_(r,c1Y)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_88";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_88();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/components/filter/filter.wxml'] = [$gwx_XC_88, './pages/find_doctor_list/components/filter/filter.wxml'];else __wxAppCode__['pages/find_doctor_list/components/filter/filter.wxml'] = $gwx_XC_88( './pages/find_doctor_list/components/filter/filter.wxml' );
	;__wxRoute = "pages/find_doctor_list/components/filter/filter";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/components/filter/filter.js";define("pages/find_doctor_list/components/filter/filter.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../../../@babel/runtime/helpers/defineProperty"),t=function(i){return i.currentTarget.dataset};Component({properties:{options:{type:Object,value:{}},locationList:{type:Array,value:[]},clinicList:{type:Array,value:[]},diseaseList:{type:Array,value:[]},sortList:{type:Array,value:[]},normalSearchList:{type:Array,value:[]},trySearchList:{type:Array,value:[]},coreValue:{type:Object,value:{}}},data:{localCoreValue:{location:["",""],clinic:["",""],sort:"",searchFilter:[],diseaseName:""},tempLocaFilterValue:[],displayCityData:[],displaySecondClinicData:[],displayDiseaseSecondClinic:[],displayDiseaseName:[],displayStatusForTapEvent:{province:"",firstClinicName:"",diseaseFristClinicName:"",diseaseSecondClinicName:"",filterInfoDict:[]},navBarList:[{id:1,value:"全国",isHighlight:!1,lable:"location",defaultValue:"全国"},{id:2,value:"科室",isHighlight:!1,lable:"clinic",defaultValue:"科室"},{id:3,value:"疾病",isHighlight:!1,lable:"diseaseName",defaultValue:"疾病"},{id:4,value:"排序",isHighlight:!1,lable:"sort",defaultValue:"综合排序"},{id:5,type:"filter",value:"筛选",isHighlight:!1,lable:"searchFilter",defaultValue:"筛选"}],isShowFilter:!1,showItemTypeId:0},observers:{coreValue:function(i){this.setData({localCoreValue:i}),this.setDefaultLocationStatus(),this.setDefaultClinicStatus()},localCoreValue:function(i){var t=i.location[1]?i.location[1]:i.location[0]||"全国",a="",e="",s="";if(i.clinic[0]){var l,n,c=null===(l=this.data.clinicList.filter((function(t){return t.clinic_no===i.clinic[0]})))||void 0===l?void 0:l[0];if(c&&(a=c.clinic_name),c&&i.clinic[1])e=null===(n=c.second_class_clinics.filter((function(t){return t.clinic_no===i.clinic[1]})))||void 0===n?void 0:n[0].clinic_name}var o,r=e||(a||"科室");i.sort&&(s=(null===(o=this.data.sortList.filter((function(t){return t.sort_type===i.sort}))[0])||void 0===o?void 0:o.name)||this.data.navBarList[4].value);this.setData({"navBarList[0].value":t,"navBarList[1].value":r,"navBarList[3].value":s,"navBarList[4].isHighlight":!!i.searchFilter.length})}},lifetimes:{attached:function(){1===Number(this.data.options.show_clinic_window)&&this.data.options.show_item_type_id&&this.setData({showItemTypeId:Number(this.data.options.show_item_type_id),isShowFilter:!0}),this.triggerEvent("changeFlag",1)}},methods:{setDefaultLocationStatus:function(){var i,t=this.data.localCoreValue.location[0],a=this.data.localCoreValue.location[1];this.modifyNavbarDisplay("location",a||(t||"全国")),this.setData({"displayStatusForTapEvent.province":t});var e=null===(i=this.data.locationList.filter((function(i){return i.text===t})))||void 0===i?void 0:i[0];e&&this.setData({displayCityData:e})},setDefaultClinicStatus:function(){var i=this,t=this.data.localCoreValue.clinic[0];if(t){var a,e=null===(a=this.data.clinicList.filter((function(i){return i.clinic_no===t})))||void 0===a?void 0:a[0];if(e){if(this.data.localCoreValue.clinic[1]){var s,l=null===(s=e.second_class_clinics.filter((function(t){return t.clinic_no===i.data.localCoreValue.clinic[1]})))||void 0===s?void 0:s[0].clinic_name;this.modifyNavbarDisplay("clinic",l)}else this.modifyNavbarDisplay("clinic",e.clinic_name);this.setData({"displayStatusForTapEvent.firstClinicName":e.clinic_name,displaySecondClinicData:e})}}},setDefaultDiseaseStatus:function(){this.setData({"displayStatusForTapEvent.diseaseFristClinicName":"","displayStatusForTapEvent.diseaseSecondClinicName":"",displayDiseaseName:[]})},modifyLocalCoreValue:function(t,a){var e="localCoreValue.".concat(t);this.setData(i({},e,a)),console.log(this.data.localCoreValue)},modifyNavbarDisplay:function(i,t){this.data.navBarList.filter((function(t){return t.lable===i}))[0].value=t,this.setData({navBarList:this.data.navBarList})},changeProvince:function(i){var a=t(i);this.setData({displayCityData:a.item,"displayStatusForTapEvent.province":a.provinceText})},changeCity:function(i){var a=t(i);this.modifyLocalCoreValue("location",[a.provinceText,a.cityText]),this.confirmSearchEvent("地区筛选")},changeFirstClinic:function(i){var a=t(i);this.setData({displaySecondClinicData:a.item,"displayStatusForTapEvent.firstClinicName":a.item.clinic_name})},changeSecondClinic:function(i){var a=t(i);this.modifyLocalCoreValue("clinic",[a.firstClinicNo,a.secondClinicNo]),this.confirmSearchEvent("科室筛选")},changeDiseaseFirstClinic:function(i){var a=t(i);a.hasThird?this.setData({displayDiseaseSecondClinic:a.item.children,"displayStatusForTapEvent.diseaseFristClinicName":a.item.clinic_name,"displayStatusForTapEvent.diseaseSecondClinicName":""}):this.setData({displayDiseaseName:a.item,"displayStatusForTapEvent.diseaseFristClinicName":a.item.clinic_name,"displayStatusForTapEvent.diseaseSecondClinicName":""})},changeDiseaseSecondClinic:function(i){var a=t(i);this.setData({displayDiseaseName:a.item,"displayStatusForTapEvent.diseaseSecondClinicName":a.item.clinic_name})},changeDiseaseName:function(i){var a=t(i);this.modifyLocalCoreValue("diseaseName",a.name),this.confirmSearchEvent("疾病筛选")},changeSortType:function(i){var a=t(i);this.modifyLocalCoreValue("sort",a.id),this.confirmSearchEvent("排序")},modifyFilterValue:function(i){var a=t(i).id,e=this.data.tempLocaFilterValue;-1===e.indexOf(a)?e.push(a):e=e.filter((function(i){return i!==a})),this.setData({tempLocaFilterValue:e,"displayStatusForTapEvent.filterInfoDict":e})},confirmNormalFilter:function(){this.setData({"localCoreValue.searchFilter":this.data.tempLocaFilterValue}),this.confirmSearchEvent("普通筛选"),this.handleMaskTap()},confirmSearchEvent:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("!!!核心搜索值!!!"),this.handleMaskTap(),console.log(this.data.localCoreValue),this.triggerEvent("confirmSearchEvent",{coreValue:this.data.localCoreValue,inputType:i})},chooseFilterItem:function(i){var t=i.currentTarget.dataset.id;t===this.data.showItemTypeId?this.setData({isShowFilter:!this.data.isShowFilter}):this.setData({showItemTypeId:t,isShowFilter:!0}),this.triggerEvent("changePageScroll",!this.data.isShowFilter)},changePageScroll:function(){this.triggerEvent("changePageScroll",!this.data.isShowFilter)},handleMaskTap:function(){this.setData({isShowFilter:!1}),this.resetDisplayStatus()},resetDisplayStatus:function(){this.setDefaultLocationStatus(),this.setDefaultClinicStatus(),this.setDefaultDiseaseStatus()},resetNormalFilter:function(){this.modifyLocalCoreValue("searchFilter",[]),this.confirmSearchEvent(),this.setData({"displayStatusForTapEvent.filterInfoDict":[],tempLocaFilterValue:[]})}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor_list/components/filter/filter.js'});require("pages/find_doctor_list/components/filter/filter.js");$gwx_XC_89=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_89 || [];
function gz$gwx_XC_89_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_89_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_89_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_89_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'polymerization-card-wrap'])
Z([a,[3,'background-image:url('],[[6],[[7],[3,'profileInfo']],[3,'back_url']],[3,')']])
Z([3,'polymerization-card-title'])
Z([[6],[[7],[3,'profileInfo']],[3,'title_icon']])
Z([[6],[[7],[3,'profileInfo']],[3,'jump_url']])
Z([[6],[[7],[3,'doctorList']],[3,'length']])
Z([[7],[3,'doctorList']])
Z([3,'index'])
Z([3,'jumpDoctorMain'])
Z([[7],[3,'item']])
Z([[6],[[7],[3,'item']],[3,'has_online_services']])
Z([[6],[[7],[3,'item']],[3,'doctor_id']])
Z([[2,'+'],[[7],[3,'index']],[1,1]])
Z([[6],[[7],[3,'item']],[3,'name']])
Z(z[9])
Z([1,false])
Z([1,true])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_89_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_89_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_89=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_89=true;
var x=['./pages/find_doctor_list/components/polymerization_card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_89_1()
var bKZ=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var xMZ=_n('view')
_rz(z,xMZ,'class',2,e,s,gg)
var oNZ=_v()
_(xMZ,oNZ)
if(_oz(z,3,e,s,gg)){oNZ.wxVkey=1
}
var fOZ=_v()
_(xMZ,fOZ)
if(_oz(z,4,e,s,gg)){fOZ.wxVkey=1
}
oNZ.wxXCkey=1
fOZ.wxXCkey=1
_(bKZ,xMZ)
var oLZ=_v()
_(bKZ,oLZ)
if(_oz(z,5,e,s,gg)){oLZ.wxVkey=1
var cPZ=_v()
_(oLZ,cPZ)
var hQZ=function(cSZ,oRZ,oTZ,gg){
var aVZ=_mz(z,'doctor-card',['bindtap',8,'data-doctor-info',1,'data-has-online-services',2,'data-id',3,'data-index',4,'data-name',5,'doctorInfo',6,'isNormalCard',7,'shouldHideExpertBackground',8],[],cSZ,oRZ,gg)
_(oTZ,aVZ)
return oTZ
}
cPZ.wxXCkey=4
_2z(z,6,hQZ,e,s,gg,cPZ,'item','index','index')
}
oLZ.wxXCkey=1
oLZ.wxXCkey=3
_(r,bKZ)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_89";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_89();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/components/polymerization_card/index.wxml'] = [$gwx_XC_89, './pages/find_doctor_list/components/polymerization_card/index.wxml'];else __wxAppCode__['pages/find_doctor_list/components/polymerization_card/index.wxml'] = $gwx_XC_89( './pages/find_doctor_list/components/polymerization_card/index.wxml' );
	;__wxRoute = "pages/find_doctor_list/components/polymerization_card/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/components/polymerization_card/index.js";define("pages/find_doctor_list/components/polymerization_card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;Component({properties:{doctorList:{type:Array,value:[]},profileInfo:{type:Object,value:{}},paramsObj:{type:Object,value:{}},visitPageName:{type:String,value:""}},data:{},methods:{jumpDoctorMain:function(e){var i,t=(e.currentTarget||{}).dataset,o=(void 0===t?{}:t)||{},c=o.id,r=o.hasOnlineServices,a=o.doctorInfo,n=o.index,l=(null==a||null===(i=a.cy_redirect)||void 0===i?void 0:i.click_info)||{},s="/pages/doc_mainpage/index?doc_id=".concat(c,"&source=vip&has_online_services=").concat(r,"&from_visit_page=").concat(this.data.visitPageName);this.triggerEvent("onDoctorCardClick",{clickInfo:l,targetUrl:s,clickOrder:n||0,clickPosition:"权威专家卡片"})},jumpToAuthoritativeExpert:function(){var i=this.data.profileInfo.jump_info.cy_redirect.target_scheme;i=decodeURIComponent(i);var t=encodeURIComponent("".concat(e).concat(i)),o="/pages/h5_webview/index?url=".concat(t),c=this.data.profileInfo.jump_info.cy_redirect.click_info;this.triggerEvent("onMoreClick",{clickInfo:c,targetUrl:o,clickOrder:0,clickPosition:"权威专家更多"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor_list/components/polymerization_card/index.js'});require("pages/find_doctor_list/components/polymerization_card/index.js");$gwx_XC_90=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_90 || [];
function gz$gwx_XC_90_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_90_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_90_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_90_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'polymerization-card-wrap'])
Z([a,[3,'background-image:url('],[[6],[[7],[3,'profileInfo']],[3,'title_back_url']],[3,')']])
Z([3,'polymerization-card-title-text'])
Z([1,true])
Z(z[3])
Z([[6],[[7],[3,'doctorList']],[3,'length']])
Z([[7],[3,'doctorList']])
Z([3,'index'])
Z([3,'jumpToDoctorMain'])
Z([3,'polymerization-card-content-block'])
Z([[6],[[6],[[7],[3,'item']],[3,'cy_redirect']],[3,'click_info']])
Z([[6],[[7],[3,'item']],[3,'doctor_id']])
Z([[6],[[7],[3,'item']],[3,'has_online_services']])
Z([[2,'+'],[[7],[3,'index']],[1,1]])
Z([[6],[[7],[3,'item']],[3,'is_expert']])
Z([[6],[[7],[3,'item']],[3,'name']])
Z([[6],[[7],[3,'item']],[3,'is_3a_hospital']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_90_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_90_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_90=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_90=true;
var x=['./pages/find_doctor_list/components/ranking_list_card/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_90_1()
var eXZ=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var oZZ=_n('view')
_rz(z,oZZ,'class',2,e,s,gg)
var x1Z=_v()
_(oZZ,x1Z)
if(_oz(z,3,e,s,gg)){x1Z.wxVkey=1
}
var o2Z=_v()
_(oZZ,o2Z)
if(_oz(z,4,e,s,gg)){o2Z.wxVkey=1
}
x1Z.wxXCkey=1
o2Z.wxXCkey=1
_(eXZ,oZZ)
var bYZ=_v()
_(eXZ,bYZ)
if(_oz(z,5,e,s,gg)){bYZ.wxVkey=1
var f3Z=_v()
_(bYZ,f3Z)
var c4Z=function(o6Z,h5Z,c7Z,gg){
var l9Z=_mz(z,'view',['bindtap',8,'class',1,'data-click-info',2,'data-doctor-id',3,'data-has_online_services',4,'data-index',5,'data-is_expert',6,'data-name',7],[],o6Z,h5Z,gg)
var a0Z=_v()
_(l9Z,a0Z)
if(_oz(z,16,o6Z,h5Z,gg)){a0Z.wxVkey=1
}
a0Z.wxXCkey=1
_(c7Z,l9Z)
return c7Z
}
f3Z.wxXCkey=2
_2z(z,6,c4Z,e,s,gg,f3Z,'item','index','index')
}
bYZ.wxXCkey=1
_(r,eXZ)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_90";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_90();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/components/ranking_list_card/index.wxml'] = [$gwx_XC_90, './pages/find_doctor_list/components/ranking_list_card/index.wxml'];else __wxAppCode__['pages/find_doctor_list/components/ranking_list_card/index.wxml'] = $gwx_XC_90( './pages/find_doctor_list/components/ranking_list_card/index.wxml' );
	;__wxRoute = "pages/find_doctor_list/components/ranking_list_card/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/components/ranking_list_card/index.js";define("pages/find_doctor_list/components/ranking_list_card/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;Component({properties:{doctorList:{type:Array,value:[]},profileInfo:{type:Object,value:{}},visitPageName:{type:String,value:""}},data:{},methods:{jumpToDoctorMain:function(e){var i=(e.currentTarget||{}).dataset,t=void 0===i?{}:i;console.log("rank dataset",t);var o="/pages/doc_mainpage/index?doc_id=".concat(t.doctorId,"&from_visit_page=").concat(this.data.visitPageName);t.is_expert&&(o="".concat(o,"&source=vip&has_online_services=").concat(t.has_online_services)),this.triggerEvent("onDoctorCardClick",{clickInfo:t.clickInfo||{},targetUrl:o,clickPosition:this.data.profileInfo.title||"排行榜",clickOrder:t.index||0})},jumpToAuthoritativeExpert:function(){var i,t,o,r=this.data.profileInfo,c=(void 0===r?{}:r).jump_info,a=(void 0===c?{}:c).cy_redirect,n=void 0===a?{}:a,l=(null===(i=this.data.profileInfo)||void 0===i||null===(t=i.jump_info)||void 0===t||null===(o=t.cy_redirect)||void 0===o?void 0:o.click_info)||{},s="";if(n.target_scheme){var d=n.target_scheme.split("|");if("weixin_mini"===d[0])s=d.length>=3?d[2]:"";else{var v=encodeURIComponent("".concat(e).concat(n.target_scheme));s="/pages/h5_webview/index?url=".concat(v)}}this.triggerEvent("onMoreClick",{clickInfo:l,targetUrl:s,clickPosition:"".concat(this.data.profileInfo.title||"排行榜","-更多"),clickOrder:0})}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor_list/components/ranking_list_card/index.js'});require("pages/find_doctor_list/components/ranking_list_card/index.js");$gwx_XC_91=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_91 || [];
function gz$gwx_XC_91_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_91_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_91_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_91_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_91_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_91_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_91=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_91=true;
var x=['./pages/find_doctor_list/components/try_search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_91_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_91";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_91();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/components/try_search/index.wxml'] = [$gwx_XC_91, './pages/find_doctor_list/components/try_search/index.wxml'];else __wxAppCode__['pages/find_doctor_list/components/try_search/index.wxml'] = $gwx_XC_91( './pages/find_doctor_list/components/try_search/index.wxml' );
	;__wxRoute = "pages/find_doctor_list/components/try_search/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/components/try_search/index.js";define("pages/find_doctor_list/components/try_search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp();Component({properties:{trySearchList:{type:Array,value:[]}},data:{filter_list:[]},methods:{quicklySearch:function(t){var a=(t.currentTarget||{}).dataset,i=void 0===a?{}:a;e.sensors.track("AppClick",{app:"weixin_mini",click_position:"试试这样找",page_readable_name:"找医生列表页",click_position_value:i.name}),i.value&&this.triggerEvent("confirmSearchEvent",i.value)}}});
},{isPage:false,isComponent:true,currentFile:'pages/find_doctor_list/components/try_search/index.js'});require("pages/find_doctor_list/components/try_search/index.js");$gwx_XC_92=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_92 || [];
function gz$gwx_XC_92_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_92_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isEmpty']])
Z([3,'find-doctor-list-wrap'])
Z([3,'confirmSearch'])
Z([3,'focus'])
Z([3,'input'])
Z([3,'cy-search'])
Z([[7],[3,'visible']])
Z([3,'default'])
Z([3,'content-top'])
Z([[7],[3,'paddingLeft']])
Z([3,'输入症状、疾病、医院、科室、医生'])
Z([[7],[3,'searchQuery']])
Z(z[6])
Z([[2,'!'],[[7],[3,'visible']]])
Z([[2,'?:'],[[7],[3,'visible']],[1,650],[1,740]])
Z([[2,'&&'],[[7],[3,'isShowLoading']],[[2,'!'],[[7],[3,'visible']]]])
Z([3,'changeFlag'])
Z([3,'changePageScroll'])
Z([3,'confirmSearchEvent'])
Z([[7],[3,'clinicList']])
Z([[7],[3,'coreValue']])
Z([[7],[3,'diseaseList']])
Z([3,'filter'])
Z([[7],[3,'locationList']])
Z([[7],[3,'normalSearchList']])
Z([[7],[3,'options']])
Z([[7],[3,'showFirstOption']])
Z([[7],[3,'sortList']])
Z([3,'bindScroll'])
Z([3,'loadMoreDoctor'])
Z([a,[3,'find-doctor-list-wrap '],[[2,'&&'],[[2,'!'],[[7],[3,'visible']]],[1,'add-filter-margin']]])
Z([[7],[3,'scrollTopNum']])
Z([a,[3,'height:calc(100vh - '],[[2,'+'],[[2,'?:'],[[7],[3,'visible']],[1,54],[1,104]],[1,'px']],[3,');']])
Z(z[6])
Z([[7],[3,'associateList']])
Z([3,'search'])
Z(z[35])
Z([3,'deleteHistoryEvent'])
Z([3,'getHistoryList'])
Z([3,'inputQuery'])
Z([[7],[3,'historyList']])
Z([[7],[3,'hotSearchList']])
Z([[7],[3,'isInputing']])
Z(z[11])
Z([1,false])
Z([3,'jumpToDoctorMain'])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'doctor_id']])
Z([[6],[[7],[3,'item']],[3,'doctor_info']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'has_online_services']])
Z([[2,'+'],[[7],[3,'index']],[1,1]])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'is_expert']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'name']])
Z(z[47])
Z(z[15])
Z([3,'doctor-recommend-list'])
Z([[2,'&&'],[[7],[3,'isShowLoading']],[[7],[3,'topTip']]])
Z([[6],[[7],[3,'recommedDoctorList']],[3,'length']])
Z([[7],[3,'recommedDoctorList']])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,4]],[[6],[[7],[3,'item']],[3,'banner_info']]])
Z([3,'handlePCB'])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'banner_info']],[3,'cy_redirect']],[3,'click_info']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'banner_info']],[3,'cy_redirect']],[3,'target_scheme']])
Z([[6],[[6],[[7],[3,'item']],[3,'banner_info']],[3,'image_url']])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,1]],[[6],[[7],[3,'item']],[3,'doctor_info']]])
Z(z[45])
Z(z[46])
Z(z[47])
Z(z[48])
Z(z[49])
Z(z[50])
Z(z[51])
Z(z[47])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,6]])
Z([3,'onFocus'])
Z([3,'onNpsOpen'])
Z([[7],[3,'paramsObj']])
Z([1,'doctor_list'])
Z([3,'nps-card'])
Z([[6],[[6],[[7],[3,'item']],[3,'nps_info']],[3,'nps_list']])
Z(z[11])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,2]])
Z([3,'onCollectionCardClick'])
Z(z[81])
Z([[6],[[7],[3,'item']],[3,'doctor_list']])
Z(z[75])
Z([[6],[[7],[3,'item']],[3,'profile_info']])
Z([[7],[3,'visitPageName']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,3]])
Z(z[81])
Z(z[81])
Z(z[83])
Z(z[85])
Z(z[86])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,5]],[[7],[3,'isFirstClick']]])
Z([3,'trySearchList'])
Z([[6],[[7],[3,'item']],[3,'try_search_list']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'doctor_type']],[1,8]])
Z([3,'quicklyFindDoctor'])
Z([3,''])
Z([3,'一键找医生'])
Z([1,20])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'moreRecommendDoctor']],[[6],[[7],[3,'moreRecommendDoctor']],[3,'length']]],[[2,'!'],[[7],[3,'hasMore']]]])
Z([[7],[3,'moreRecommendDoctor']])
Z(z[45])
Z(z[46])
Z(z[47])
Z(z[48])
Z(z[49])
Z(z[50])
Z([3,'1'])
Z(z[51])
Z(z[47])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'recommedDoctorList']],[3,'length']]],[[2,'!'],[[7],[3,'isLoading']]]])
Z(z[97])
Z(z[99])
Z(z[100])
Z([[2,'&&'],[[7],[3,'moreRecommendDoctor']],[[6],[[7],[3,'moreRecommendDoctor']],[3,'length']]])
Z(z[102])
Z(z[45])
Z(z[46])
Z(z[47])
Z(z[48])
Z(z[49])
Z(z[50])
Z(z[109])
Z(z[51])
Z(z[47])
Z([[2,'&&'],[[7],[3,'isLoading']],[[7],[3,'hasMore']]])
Z([[7],[3,'hasMore']])
Z([[2,'!'],[[7],[3,'hasMore']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_92_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_92=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_92=true;
var x=['./pages/find_doctor_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_92_1()
var bC1=_n('view')
var oD1=_v()
_(bC1,oD1)
if(_oz(z,0,e,s,gg)){oD1.wxVkey=1
var xE1=_n('empty')
_(oD1,xE1)
}
else{oD1.wxVkey=2
var oF1=_n('view')
_rz(z,oF1,'class',1,e,s,gg)
var cH1=_mz(z,'cy-search',['bind:confirmEvent',2,'bind:focusEvent',1,'bind:inputEvent',2,'class',3,'focus',4,'from',5,'id',6,'paddingLeft',7,'placeholder',8,'query',9,'showClear',10,'showIcon',11,'width',12],[],e,s,gg)
_(oF1,cH1)
var fG1=_v()
_(oF1,fG1)
if(_oz(z,15,e,s,gg)){fG1.wxVkey=1
var hI1=_mz(z,'doctor-filter',['bind:changeFlag',16,'bind:changePageScroll',1,'bind:confirmSearchEvent',2,'clinicList',3,'coreValue',4,'diseaseList',5,'id',6,'locationList',7,'normalSearchList',8,'options',9,'showFirstOption',10,'sortList',11],[],e,s,gg)
_(fG1,hI1)
}
var oJ1=_mz(z,'scroll-view',['scrollY',-1,'bindscroll',28,'bindscrolltolower',1,'class',2,'scrollTop',3,'style',4],[],e,s,gg)
var cK1=_v()
_(oJ1,cK1)
if(_oz(z,33,e,s,gg)){cK1.wxVkey=1
var aN1=_mz(z,'doctor-search',['associateList',34,'bind:associationalEvent',1,'bind:confirmEvent',2,'bind:deleteHistoryEvent',3,'bind:getHistoryListEvent',4,'bind:inputEvent',5,'historyList',6,'hotSearchList',7,'isInputing',8,'searchQuery',9],[],e,s,gg)
_(cK1,aN1)
}
var oL1=_v()
_(oJ1,oL1)
if(_oz(z,44,e,s,gg)){oL1.wxVkey=1
var tO1=_mz(z,'doctor-card',['bindtap',45,'data-doctor-id',1,'data-doctor-info',2,'data-has_online_services',3,'data-index',4,'data-is_expert',5,'data-name',6,'doctorInfo',7],[],e,s,gg)
_(oL1,tO1)
}
var lM1=_v()
_(oJ1,lM1)
if(_oz(z,53,e,s,gg)){lM1.wxVkey=1
var eP1=_n('view')
_rz(z,eP1,'class',54,e,s,gg)
var bQ1=_v()
_(eP1,bQ1)
if(_oz(z,55,e,s,gg)){bQ1.wxVkey=1
}
var oR1=_v()
_(eP1,oR1)
if(_oz(z,56,e,s,gg)){oR1.wxVkey=1
var hW1=_v()
_(oR1,hW1)
var oX1=function(oZ1,cY1,l11,gg){
var t31=_v()
_(l11,t31)
if(_oz(z,58,oZ1,cY1,gg)){t31.wxVkey=1
var c01=_mz(z,'psychological-counseling-banner',['bindtap',59,'data-click-info',1,'data-redirect',2,'imgUrl',3],[],oZ1,cY1,gg)
_(t31,c01)
}
var e41=_v()
_(l11,e41)
if(_oz(z,63,oZ1,cY1,gg)){e41.wxVkey=1
var hA2=_mz(z,'doctor-card',['bindtap',64,'data-doctor-id',1,'data-doctor-info',2,'data-has_online_services',3,'data-index',4,'data-is_expert',5,'data-name',6,'doctorInfo',7],[],oZ1,cY1,gg)
_(e41,hA2)
}
var b51=_v()
_(l11,b51)
if(_oz(z,72,oZ1,cY1,gg)){b51.wxVkey=1
var oB2=_mz(z,'nps-card',['bind:onfocus',73,'bind:onopen',1,'filterOption',2,'from',3,'id',4,'npsInfo',5,'query',6],[],oZ1,cY1,gg)
_(b51,oB2)
}
var o61=_v()
_(l11,o61)
if(_oz(z,80,oZ1,cY1,gg)){o61.wxVkey=1
var cC2=_mz(z,'polymerization-card',['bindonDoctorCardClick',81,'bindonMoreClick',1,'doctorList',2,'paramsObj',3,'profileInfo',4,'visitPageName',5],[],oZ1,cY1,gg)
_(o61,cC2)
}
var x71=_v()
_(l11,x71)
if(_oz(z,87,oZ1,cY1,gg)){x71.wxVkey=1
var oD2=_mz(z,'ranking-list-card',['bindonDoctorCardClick',88,'bindonMoreClick',1,'doctorList',2,'profileInfo',3,'visitPageName',4],[],oZ1,cY1,gg)
_(x71,oD2)
}
var o81=_v()
_(l11,o81)
if(_oz(z,93,oZ1,cY1,gg)){o81.wxVkey=1
var lE2=_mz(z,'try-search',['bind:confirmSearchEvent',94,'trySearchList',1],[],oZ1,cY1,gg)
_(o81,lE2)
}
var f91=_v()
_(l11,f91)
if(_oz(z,96,oZ1,cY1,gg)){f91.wxVkey=1
var aF2=_mz(z,'intellect-diagnose',['bindtap',97,'data-click-info',1,'data-click_position',2,'marginTop',3],[],oZ1,cY1,gg)
_(f91,aF2)
}
t31.wxXCkey=1
t31.wxXCkey=3
e41.wxXCkey=1
e41.wxXCkey=3
b51.wxXCkey=1
b51.wxXCkey=3
o61.wxXCkey=1
o61.wxXCkey=3
x71.wxXCkey=1
x71.wxXCkey=3
o81.wxXCkey=1
o81.wxXCkey=3
f91.wxXCkey=1
f91.wxXCkey=3
return l11
}
hW1.wxXCkey=4
_2z(z,57,oX1,e,s,gg,hW1,'item','index','')
var cV1=_v()
_(oR1,cV1)
if(_oz(z,101,e,s,gg)){cV1.wxVkey=1
var tG2=_v()
_(cV1,tG2)
var eH2=function(oJ2,bI2,xK2,gg){
var fM2=_mz(z,'doctor-card',['bindtap',103,'data-doctor-id',1,'data-doctor-info',2,'data-has_online_services',3,'data-index',4,'data-is_expert',5,'data-more-doctor',6,'data-name',7,'doctorInfo',8],[],oJ2,bI2,gg)
_(xK2,fM2)
return xK2
}
tG2.wxXCkey=4
_2z(z,102,eH2,e,s,gg,tG2,'item','index','')
}
cV1.wxXCkey=1
cV1.wxXCkey=3
}
var xS1=_v()
_(eP1,xS1)
if(_oz(z,112,e,s,gg)){xS1.wxVkey=1
var hO2=_mz(z,'intellect-diagnose',['bindtap',113,'data-click_position',1,'marginTop',2],[],e,s,gg)
_(xS1,hO2)
var cN2=_v()
_(xS1,cN2)
if(_oz(z,116,e,s,gg)){cN2.wxVkey=1
var oP2=_v()
_(cN2,oP2)
var cQ2=function(lS2,oR2,aT2,gg){
var eV2=_mz(z,'doctor-card',['bindtap',118,'data-doctor-id',1,'data-doctor-info',2,'data-has_online_services',3,'data-index',4,'data-is_expert',5,'data-more-doctor',6,'data-name',7,'doctorInfo',8],[],lS2,oR2,gg)
_(aT2,eV2)
return aT2
}
oP2.wxXCkey=4
_2z(z,117,cQ2,e,s,gg,oP2,'item','index','')
}
cN2.wxXCkey=1
cN2.wxXCkey=3
}
var oT1=_v()
_(eP1,oT1)
if(_oz(z,127,e,s,gg)){oT1.wxVkey=1
var bW2=_v()
_(oT1,bW2)
if(_oz(z,128,e,s,gg)){bW2.wxVkey=1
}
bW2.wxXCkey=1
}
var fU1=_v()
_(eP1,fU1)
if(_oz(z,129,e,s,gg)){fU1.wxVkey=1
}
bQ1.wxXCkey=1
oR1.wxXCkey=1
oR1.wxXCkey=3
xS1.wxXCkey=1
xS1.wxXCkey=3
oT1.wxXCkey=1
fU1.wxXCkey=1
_(lM1,eP1)
}
cK1.wxXCkey=1
cK1.wxXCkey=3
oL1.wxXCkey=1
oL1.wxXCkey=3
lM1.wxXCkey=1
lM1.wxXCkey=3
_(oF1,oJ1)
fG1.wxXCkey=1
fG1.wxXCkey=3
_(oD1,oF1)
}
oD1.wxXCkey=1
oD1.wxXCkey=3
oD1.wxXCkey=3
_(r,bC1)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_92";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_92();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/find_doctor_list/index.wxml'] = [$gwx_XC_92, './pages/find_doctor_list/index.wxml'];else __wxAppCode__['pages/find_doctor_list/index.wxml'] = $gwx_XC_92( './pages/find_doctor_list/index.wxml' );
	;__wxRoute = "pages/find_doctor_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/find_doctor_list/index.js";define("pages/find_doctor_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault"),i=require("../../@babel/runtime/helpers/toConsumableArray"),e=require("../../@babel/runtime/helpers/defineProperty"),a=require("../../@babel/runtime/helpers/objectSpread2"),o=t(require("../../7C7490B0829A079C1A12F8B759DC7B70.js")),r=t(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),s=t(require("../../425B7011829A079C243D1816847D7B70.js")),n=t(require("../../3B123513829A079C5D745D1477BC7B70.js")),c=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,l=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").debounce,d="".concat(c,"/api/v8/search/new_suggestion/"),u=getApp(),h=0,p=0;Page({data:{paddingLeft:30,visible:!0,isInputing:!1,searchQuery:"",lastSearchQuery:"",historyList:[],hotSearchList:[],locationList:[],clinicList:[],diseaseList:[],sortList:[],normalSearchList:[],trySearchList:[],associateList:[],recommedDoctorList:[],isCanScrollPage:!0,isEmpty:!1,options:{},isShowLoading:!1,isLoading:!1,hasMore:!0,paramsObj:{from_wx_mini:1,from_type:6,platform:"weixin_mini",version:"10.3.2",page:1,count_per_page:20,filter_list:[],query:"",input_type:""},isFirstClick:!0,isClearTrySearch:!1,scrollTopNum:0,topTip:"",isFromIndexSearchDoctor:!0,npsFilterOption:{},currentClinicFirst:"",currentClinicSecond:"",currentClinicName:"",intention:"",synonym_query:"",quicklyFindDoctorInfo:{},moreRecommendDoctor:[],serverParams:"",coreValue:{location:["",""],clinic:["",""],sort:"",searchFilter:[],diseaseName:""},trySearchFilterList:[],visitPageName:"找医生列表页",fromVisitPage:""},globalDebounce:{},onLoad:function(t){wx.getSystemInfo({success:function(t){p=t.windowHeight}}),this.globalDebounce=l(this.getAssociationWord,400),this.setData({visible:"1"===t.visible,options:t,searchQuery:t.query,lastSearchQuery:t.query||"","paramsObj.query":t.query||"","paramsObj.clinic_no":t.second_clinic_no||t.first_clinic_no||"","paramsObj.city":t.city||"","paramsObj.province":t.province||"","paramsObj.sort_type":t.sort_type||"default",currentClinicFirst:t.first_clinic_no||"",currentClinicSecond:t.second_clinic_no||"",currentClinicName:t.clinic_name||"科室",coreValue:{location:[t.province||"",t.city||""],clinic:[t.first_clinic_no||"",t.second_clinic_no||""],sort:t.sort_type||"default",searchFilter:[],diseaseName:""},fromVisitPage:t.from_visit_page||""}),t.input_type&&this.setData({"paramsObj.input_type":t.input_type||""}),this.main=t.from||"",this.getHotHistoryList(),this.initData()},onShow:function(){u.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"找医生列表页"}),this.pageVisitReport()},onShareAppMessage:function(){var t=this.data.paramsObj,i=t.currentF||t.currentS?t.currentF:this.data.currentClinicFirst,e=t.currentF||t.currentS?t.currentS:this.data.currentClinicSecond;return{title:this.data.title,path:"/pages/find_doctor_list/index?query=".concat(t.query,"&clinic_name=").concat(t.clinic_name||this.data.currentClinicName,"&first_clinic_no=").concat(i,"&second_clinic_no=").concat(e,"&show_clinic_window=0&show_item_type_id=2&province=").concat(t.province,"&city=").concat(t.city,"&sort_type=").concat(t.sort_type)}},initData:function(){var t=this;this.data.visible||wx.showLoading({title:"加载中..."}),Promise.all([this.getDoctorList(this.data.paramsObj,"first"),this.getFilterConf()]).then((function(){t.setData({isShowLoading:!0}),wx.hideLoading()})).catch((function(){t.setData({isShowLoading:!0,isEmpty:!0}),wx.hideLoading()}))},getHotHistoryList:function(){var t=this;(0,o.default)("/api/search/recommend_tag/",{from_type:this.data.isFromIndexSearchDoctor?"find_doc_home":"find_doc_list"}).then((function(i){console.log(i),0===i.error_code?t.setData({hotSearchList:i.data.hot_search_words}):wx.showToast({icon:"none",title:i.error_msg||"搜索热词获取失败"})})).catch((function(t){wx.showToast({icon:"none",title:t.error_msg||"搜索热词获取失败"})}))},getFilterConf:function(){var t=this;return console.log("发请求获取配置执行了"),Promise.all([(0,o.default)("/api/search/doctor/conf/",{conf_type_list:JSON.stringify([5,6,7]),from_type:1}),(0,o.default)("/api/locations/",{from_type:1,contains_all:!0}),(0,o.default)("/api/search/clinic/list/"),(0,o.default)("/api/search/disease/")]).then((function(i){console.log("res",i),t.setData({locationList:i[1].data,clinicList:i[2].data,diseaseList:i[3].data,sortList:i[0].data.sort_list,normalSearchList:i[0].data.normal_search_list})})).catch((function(t){console.log(t)}))},getDoctorListDisposalData:function(t){console.log("整理数据");var i,e=a(a({},this.data.paramsObj),t.detail);"普通筛选"===this.data.paramsObj.input_type&&(i="normal"),this.getDoctorList(e,i)},confirmSearchEvent:function(t){var i=t.detail.coreValue,e=t.detail.inputType;this.setData({coreValue:i,trySearchFilterList:[],"paramsObj.input_type":e}),i.diseaseName&&this.setData({query:i.diseaseName,searchQuery:i.diseaseName,lastSearchQuery:i.diseaseName,"paramsObj.query":i.diseaseName});var o=a(a({},this.data.paramsObj),{},{page:1,filter_list:i.searchFilter,sort_type:i.sort,province:i.location[0],city:i.location[1],clinic_no:i.clinic[1]?i.clinic[1]:i.clinic[0]||""});console.log(o),this.getDoctorList(o)},modifyCoreValue:function(t,i){var a="coreValue.".concat(t);this.setData(e({},a,i))},getDoctorList:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;console.log("发请求获取医生",a);var n=this.data,l=n.isLoading,d=n.recommedDoctorList;if(!l){var u;if(console.log("请求的type",o),"more"!==o&&this.setData({scrollTopNum:0}),this.setData({isLoading:"first"!==o,paramsObj:a,isFirstClick:"trySearch"!==o,hasMore:!0}),console.log("scrollTopNum",this.data.scrollTopNum),a.secureId=wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),1===a.page&&d.length&&this.setData({recommedDoctorList:[]}),console.log(a),0===Number(a.clinic_no)&&(a.clinic_no=""),this.data.trySearchFilterList.length&&-1===(t=a.filter_list).indexOf.apply(t,i(this.data.trySearchFilterList)))(u=a.filter_list).unshift.apply(u,i(this.data.trySearchFilterList));return new Promise((function(t,n){(0,r.default)({url:c+"/api/search/doctor/list/",data:a,success:function(r){if(0===(r=r.data).error_code&&r.data){var c,l;g={validateInfo:!0,messageFilter:"find_doc_list",validateDetail:{id:"find_doc_list",message:"找医生列表页，搜索结果为空",level:3},content:{query:a.query,clinic_no:a.clinic_no,city:a.city,province:a.province,page:a.page}},(0,s.default)({attributes:r,constraints:{"data.item_list":{presence:{allowEmpty:!1}}},options:{format:"flat"}},g);var d=null===(c=r.data)||void 0===c?void 0:c.reset_filter_list;d&&d.indexOf("clinic")>-1&&e.modifyCoreValue("clinic",["",""]),e.setData({intention:r.data.intention||"",synonym_query:r.data.synonym_query||"",quicklyFindDoctorInfo:(null===(l=r.data.quick_ask)||void 0===l?void 0:l.cy_redirect)||{},moreRecommendDoctor:r.data.more_items||[],serverParams:r.data.server_params});var u=null;r.data.item_list[0]&&r.data.item_list[0].tip&&(u=r.data.item_list.splice(0,1)[0]);var h,p,m=r.data.item_list||[];if(1===a.page)e.originRecommedDoctorList=i(m),2===(null===(h=e.originRecommedDoctorList[1])||void 0===h?void 0:h.doctor_type)&&e.originRecommedDoctorList.splice(1,1),2===(null===(p=e.originRecommedDoctorList[3])||void 0===p?void 0:p.doctor_type)&&e.originRecommedDoctorList.splice(3,1);return e.setData({topTip:u}),"more"===o?(e.originRecommedDoctorList=[].concat(i(e.originRecommedDoctorList),i(r.data.item_list)),e.setData({recommedDoctorList:[].concat(i(e.data.recommedDoctorList),i(m)),isLoading:!1,hasMore:r.data.has_more})):e.setData({recommedDoctorList:m,isLoading:!1,hasMore:r.data.has_more}),t()}return e.setData({recommedDoctorList:[],isLoading:!1}),wx.showToast({icon:"none",title:"加载出错，请重试"}),n();var g},fail:function(t){return console.log(t),wx.showToast({icon:"none",title:t.error_msg||"获取数据失败"}),e.setData({isLoading:!1}),n()}})}))}},getHistoryList:function(){var t=JSON.parse(wx.getStorageSync("HISTORYLIST")||"[]");console.log("getHistory",t),this.setData({historyList:t}),console.log("historyList",t)},input:function(t){this.setData({searchQuery:t.detail,isInputing:!0,visible:!0}),this.globalDebounce(t.detail)},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.data.historyList,o=void 0===e?[]:e,r=t.detail||{},s=r.type,n=void 0===s?"":s,c=r.query,l=void 0===c?"":c,d=r.jump,u=void 0===d?"":d,h=r.url,p=void 0===h?"":h;"search"!==u&&u&&p?"h5"==u?wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(p))}):wx.navigateTo({url:p}):(l&&o.unshift(l),(o=i(new Set(o))).length>15&&o.pop(),this.setData({historyList:o,isInputing:!1,searchQuery:l,visible:!1,isCanScrollPage:!0,lastSearchQuery:l,"options.show_clinic_window":0,"paramsObj.query":l,"paramsObj.input_type":n}),wx.setStorageSync("HISTORYLIST",JSON.stringify(o)),console.log("获取paramsObj",this.data.paramsObj),this.getDoctorListDisposalData({detail:a(a({},this.data.paramsObj),{},{page:1})}))},focus:function(){this.setData({visible:!0,isFromIndexSearchDoctor:!1}),u.sensors.track("AppClick",{app:"weixin_mini",click_position:"顶部搜索框",page_readable_name:"找医生列表页"}),this.data.searchQuery&&this.getAssociationWord(this.data.searchQuery)},deleteHistoryEvent:function(){console.log("删除历史记录了"),this.setData({historyList:[]}),wx.setStorageSync("HISTORYLIST",JSON.stringify([]))},changePageScroll:function(t){var i=this.selectComponent("#nps-card");i&&i.setTextAreaValue(t.detail),this.setData({isCanScrollPage:t.detail})},changeFlag:function(){this.main=""},cancelSearch:function(){this.data.visible&&this.main?wx.navigateBack({delta:1}):this.setData({visible:!1,searchQuery:this.data.lastSearchQuery||this.data.searchQuery})},getAssociationWord:function(t){var i=this;this.data.searchQuery?wx.request({url:d,method:"GET",data:{type:"big_search",query:t},success:function(t){var e=t.data,a=void 0===e?{}:e;0===a.error_no?i.setData({associateList:a.data}):(i.setData({associateList:[]}),wx.showToast({icon:"none",title:"加载出错，请重试"}))},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"})}}):this.associateList=[]},changeInputValue:function(t){this.setData({searchQuery:t.detail})},loadMoreDoctor:function(){console.log("我滑到底了");var t=this.data.paramsObj,i=void 0===t?{}:t;this.data.hasMore&&(this.setData({"paramsObj.page":i.page+1}),this.getDoctorList(this.data.paramsObj,"more"))},quicklyFindDoctor:function(t){var i,e,a=this;this.trackWithServer(null===(i=this.data.quicklyFindDoctorInfo)||void 0===i?void 0:i.click_info),this.pageVisitReport({clickPosition:"一键找医生",clickOrder:0,cyRedirect:(null===(e=this.data.quicklyFindDoctorInfo)||void 0===e?void 0:e.click_info)||{}}).then((function(){if(a.data.quicklyFindDoctorInfo.param){var t=a.data.quicklyFindDoctorInfo.param,i=t.from_page,e=void 0===i?"":i,o=t.init_content,r=void 0===o?"":o;wx.navigateTo({url:"/pages/inquery/inquery?initial_content=".concat(r,"&from_page=").concat(e,"&from_visit_page=").concat(a.data.visitPageName)})}else wx.navigateTo({url:"/pages/inquery/inquery?from_visit_page=".concat(a.data.visitPageName)})}))},handlePCB:function(t){var i=t.target.dataset.redirect||"";try{this.trackWithServer(t.target.dataset.clickInfo),this.pageVisitReport({clickPosition:"心理咨询卡片",clickOrder:0,cyRedirect:t.target.dataset.clickInfo||{}}).then((function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(c+i))})}))}catch(t){console.log("错误")}},confirmSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.search({detail:{query:t.detail,type:"query"}})},trySearchList:function(t){if(console.log("试试这样找",t.detail),t.detail){var i=JSON.parse(t.detail);i.query&&this.setData({searchQuery:i.query,"paramsObj.query":i.query}),this.setData({"paramsObj.input_type":"试试这样找","paramsObj.page":1,trySearchFilterList:[t.detail]}),this.getDoctorList(this.data.paramsObj,"trySearch")}},onCollectionCardClick:function(t){var i=(null==t?void 0:t.detail)||{},e=i.clickInfo,a=i.targetUrl,o=i.clickOrder,r=i.clickPosition;this.trackWithServer(e),a&&this.pageVisitReport({clickPosition:r,clickOrder:o,cyRedirect:e||{}}).then((function(){wx.navigateTo({url:a})}))},jumpToDoctorMain:function(t){var i,e,a=this,o=(t.currentTarget||{}).dataset,r=void 0===o?{}:o;console.log(this.originRecommedDoctorList),console.log("dataset",r);var s=null===(i=r.doctorInfo)||void 0===i||null===(e=i.cy_redirect)||void 0===e?void 0:e.click_info;this.trackWithServer(s);var n=this.originRecommedDoctorList.findIndex((function(t){var i;return(null===(i=t.doctor_info)||void 0===i?void 0:i.doctor_id)===r.doctorId}));console.log("跳转医生主页",n+1),this.setData({visible:!1});var c="",l=0;if(r.moreDoctor&&"1"===String(r.moreDoctor))c="医生卡片_更多推荐",l=r.index;else{var d=this.data.recommedDoctorList.filter((function(t){return 1===t.doctor_type||2===t.doctor_type}));d&&d.length&&(l=d.findIndex((function(t){var i;return(null===(i=t.doctor_info)||void 0===i?void 0:i.doctor_id)===r.doctorId}))),l>-1&&(l+=1),c="医生卡片"}this.pageVisitReport({clickPosition:c,clickOrder:l,cyRedirect:s||{}}).then((function(){r.is_expert?wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(r.doctorId,"&server_params=").concat(a.data.serverParams,"&source=vip&has_online_services=").concat(r.has_online_services,"&intention=").concat(a.data.intention,"&synonym_query=").concat(a.data.synonym_query,"&query=").concat(a.data.searchQuery,"&from_visit_page=").concat(a.data.visitPageName)}):wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(r.doctorId,"&server_params=").concat(a.data.serverParams,"&intention=").concat(a.data.intention,"&synonym_query=").concat(a.data.synonym_query,"&query=").concat(a.data.searchQuery,"&from_visit_page=").concat(a.data.visitPageName)})}))},bindScroll:function(t){h=t.detail.scrollTop},onNpsOpen:function(t){t.detail[0]<=95&&this.setData({scrollTopNum:h-(95-t.detail[0])}),t.detail[1]+248>p&&this.setData({scrollTopNum:h+t.detail[1]+248-p})},onFocus:function(t){this.setData({scrollTopNum:h-p+t.detail})},trackWithServer:function(t){if(t)try{var i=JSON.parse(t);console.log(i),u.sensors.track(i.click_event,i)}catch(t){console.error(t)}},pageVisitReport:function(t){var i=t||{},e=i.cyRedirect,a=i.clickPosition,o=i.clickOrder,r=e;if(e&&"string"==typeof e)try{r=JSON.parse(e)}catch(t){console.log("json.parse error>>>",e)}return(0,n.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{filter:this.data.paramsObj||{},cy_redirect:r,click_position:a||"",click_order:o||0}})}});
},{isPage:true,isComponent:true,currentFile:'pages/find_doctor_list/index.js'});require("pages/find_doctor_list/index.js");$gwx_XC_93=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_93 || [];
function gz$gwx_XC_93_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_93_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_93_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_93_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_93_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_93_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_93=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_93=true;
var x=['./pages/free_clinic_webview/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_93_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_93";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_93();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/free_clinic_webview/index.wxml'] = [$gwx_XC_93, './pages/free_clinic_webview/index.wxml'];else __wxAppCode__['pages/free_clinic_webview/index.wxml'] = $gwx_XC_93( './pages/free_clinic_webview/index.wxml' );
	;__wxRoute = "pages/free_clinic_webview/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/free_clinic_webview/index.js";define("pages/free_clinic_webview/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js");Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",shareInfo:{}},onLoad:function(e){var r=e.url&&decodeURIComponent(e.url);r&&this.setData({loading:!1,url:a.setWebviewUrlWithLoginCredentials(r)}),this.getShareInfo()},reLoad:function(e){this.data.url=e.detail.src},getShareInfo:function(){if(this.data.url.includes("/cooperation/partner_volunteer/front/")){var e=this;wx.request({url:"".concat(this.data.url,"&is_json=1"),method:"GET",success:function(a){var r=a.data,t=void 0===r?{}:r,i=t.error_code,n=t.error_msg,o=t.source_base_conf,s=void 0===o?{}:o;if(0!==i)wx.showToast({title:n||"加载失败，请稍候再试",icon:"none"});else{var h=s.weixin_share,l=s.share_title,u=s.share_img,c=s.page_conf,d=void 0===c?{}:c;h?e.data.shareInfo={shareTitle:l,shareImage:d.mini_share_img||u}:wx.hideShareMenu()}}})}},onShareAppMessage:function(){var a={path:"/pages/free_clinic_webview/index?url=".concat(encodeURIComponent(this.data.url))};return this.data.url.includes("/cooperation/partner_volunteer/front/")&&(a=e(e({},a),{},{title:this.data.shareInfo.shareTitle,imageUrl:this.data.shareInfo.shareImage})),e({},a)}});
},{isPage:true,isComponent:true,currentFile:'pages/free_clinic_webview/index.js'});require("pages/free_clinic_webview/index.js");$gwx_XC_94=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_94 || [];
function gz$gwx_XC_94_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_94_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_94_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_94_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_94_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_94_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_94=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_94=true;
var x=['./pages/give_qa/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_94_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_94";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_94();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/give_qa/index.wxml'] = [$gwx_XC_94, './pages/give_qa/index.wxml'];else __wxAppCode__['pages/give_qa/index.wxml'] = $gwx_XC_94( './pages/give_qa/index.wxml' );
	;__wxRoute = "pages/give_qa/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/give_qa/index.js";define("pages/give_qa/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{},onLoad:function(n){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/give_qa/index.js'});require("pages/give_qa/index.js");$gwx_XC_95=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_95 || [];
function gz$gwx_XC_95_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_95_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_95_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_95_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'show_full']])
Z([3,'qaInfo.benefactor_info'])
Z(z[2])
Z(z[2])
Z([[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'user_type']],[1,'buy_user']])
Z([3,'is-benefactor'])
Z([[2,'||'],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'i']],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'t']]])
Z([[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'t']])
Z([[2,'||'],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'u']],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'c']]])
Z([[6],[[6],[[7],[3,'qaInfo']],[3,'status_info']],[3,'extra_desc']])
Z([[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'f']])
Z([[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'user_type']],[1,'other']])
Z([[2,'||'],[[2,'||'],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'u']],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'f']]],[[2,'=='],[[6],[[7],[3,'qaInfo']],[3,'service_status']],[1,'c']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_95_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_95_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_95=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_95=true;
var x=['./pages/give_qa_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_95_1()
var f12=_n('view')
_rz(z,f12,'class',0,e,s,gg)
var c22=_v()
_(f12,c22)
if(_oz(z,1,e,s,gg)){c22.wxVkey=1
var o42=_v()
_(c22,o42)
if(_oz(z,2,e,s,gg)){o42.wxVkey=1
}
o42.wxXCkey=1
}
else{c22.wxVkey=2
var c52=_v()
_(c22,c52)
if(_oz(z,3,e,s,gg)){c52.wxVkey=1
}
c52.wxXCkey=1
}
var h32=_v()
_(f12,h32)
if(_oz(z,4,e,s,gg)){h32.wxVkey=1
var o62=_v()
_(h32,o62)
if(_oz(z,5,e,s,gg)){o62.wxVkey=1
var l72=_n('view')
_rz(z,l72,'class',6,e,s,gg)
var a82=_v()
_(l72,a82)
if(_oz(z,7,e,s,gg)){a82.wxVkey=1
var t92=_v()
_(a82,t92)
if(_oz(z,8,e,s,gg)){t92.wxVkey=1
}
t92.wxXCkey=1
}
else if(_oz(z,9,e,s,gg)){a82.wxVkey=2
var e02=_v()
_(a82,e02)
if(_oz(z,10,e,s,gg)){e02.wxVkey=1
}
e02.wxXCkey=1
}
else if(_oz(z,11,e,s,gg)){a82.wxVkey=3
}
a82.wxXCkey=1
_(o62,l72)
}
else if(_oz(z,12,e,s,gg)){o62.wxVkey=2
var bA3=_v()
_(o62,bA3)
if(_oz(z,13,e,s,gg)){bA3.wxVkey=1
}
bA3.wxXCkey=1
}
o62.wxXCkey=1
}
c22.wxXCkey=1
h32.wxXCkey=1
_(r,f12)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_95";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_95();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/give_qa_detail/index.wxml'] = [$gwx_XC_95, './pages/give_qa_detail/index.wxml'];else __wxAppCode__['pages/give_qa_detail/index.wxml'] = $gwx_XC_95( './pages/give_qa_detail/index.wxml' );
	;__wxRoute = "pages/give_qa_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/give_qa_detail/index.js";define("pages/give_qa_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,t=a.baseUrl+"/cooperation/wap/refund_common_service/",s=a.baseUrl+"/events/activity/give_qa/info/";Page({data:{show_full:!0,qaInfo:{},service_id:""},onLoad:function(a){var i=this,t=a.service_id;i.service_id=t,i.setData({service_id:t}),e.globalData.appIsLogin.then((function(){i.getQaInfo(t)}))},getQaInfo:function(a){var i=this;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},data:{partner:e.globalData.partner,service_id:a,from_wx_mini:1},success:function(e){var a=e.data;if(a.success){var t=a.user_type,s=a.service_status,r=a.specific_service_id;"use_user"==t&&wx.redirectTo({url:"../qa_im/index?problem_id="+r}),"other"==t&&("u"==s||"f"==s||"c"==s?i.setData({show_full:!1}):wx.redirectTo({url:"../give_qa_quiz/index?service_id="+i.data.service_id})),i.setData({problem_id:r,qaInfo:e.data})}else wx.showToast({title:e.data.error||"加载失败，请稍后重试"})},fail:function(e){wx.showToast({title:e.data.error||"加载失败，请稍后重试"})}})},applyRefund:function(){var a=this.data.service_id;wx.showModal({title:"确定申请退款？",content:"已花费的金额会立即返回您的账户",confirmColor:"#1B91E0",cancelColor:"#1B91E0",success:function(s){if(1==s.confirm){var r={service_id:a,partner:e.globalData.partner,from_wx_mini:1,is_json:1};wx.request({url:t,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:i(r),success:function(e){e.data.success?wx.redirectTo({url:"../give_qa_detail/index?service_id="+a+"&from_type=refund"}):wx.showToast({title:e.data.error_msg||"申请退款失败",icon:"loading"})},fail:function(){wx.showToast({title:s.data.error_msg||"申请退款失败",icon:"loading"})}})}}})},onShareAppMessage:function(){return{title:"送你一份专家问诊服务，打开直接和医生沟通",desc:"春雨医生+",imageUrl:"https://static.chunyuyisheng.com/@/media/images/2018/04/27/0abb/a3a8707a1209_w696_h556_.png",path:"/pages/give_qa_detail/index?from_type=share&service_id="+this.data.service_id,success:function(e){},fail:function(e){}}}});
},{isPage:true,isComponent:true,currentFile:'pages/give_qa_detail/index.js'});require("pages/give_qa_detail/index.js");$gwx_XC_96=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_96 || [];
function gz$gwx_XC_96_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_96_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_96_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_96_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_96_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_96_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_96=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_96=true;
var x=['./pages/give_qa_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_96_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_96";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_96();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/give_qa_list/index.wxml'] = [$gwx_XC_96, './pages/give_qa_list/index.wxml'];else __wxAppCode__['pages/give_qa_list/index.wxml'] = $gwx_XC_96( './pages/give_qa_list/index.wxml' );
	;__wxRoute = "pages/give_qa_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/give_qa_list/index.js";define("pages/give_qa_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=t.baseUrl+"/weixin/pay/create_order/",r=t.baseUrl+"/events/activity/give_qa/intro/",s=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{service_data:{image:"",title:"",desc:"",service_desc_list:[],price:0,order_name:"",order_type:"",service_type:"",service_sub_type:""}},onShow:function(){var t=this;e.globalData.appIsLogin.then((function(){t.getGiveqaIntro()}))},getGiveqaIntro:function(){var t=this;wx.request({url:r,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},data:{from_wx_mini:1,partner:e.globalData.partner},success:function(e){var i=e.data;t.setData({service_data:i})},fail:function(e){wx.showToast({title:e.data.error_msg||"加载失败，请稍后重试"})}})},createOrder:function(){s("AppClick",{click_position:"giveqa_expert"});wx.showLoading({title:""});var t=this.data.service_data,r=t.order_type,n=t.order_name,o=t.service_type,c=t.service_sub_type,_=t.price,d={from_wx_mini:1,finish_success_url:"../qa_im/index?partner=chunyu_wap_mini",finish_fail_url:"",order_name:n,order_type:r,partner:e.globalData.partner,order_desc:"",info_dict:JSON.stringify({service_type:o,service_sub_type:c,source:"give_qa"})};wx.request({url:a,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:i(d),success:function(e){if(e.data.success){var t=(e=e.data).payment_order_id;t?(wx.hideLoading(),wx.navigateTo({url:"../payment/index?mark=giveqa&price="+_+"&payment_order_id="+t})):wx.showToast({title:e.error_msg||"加载失败，请稍后重试"})}},fail:function(e){wx.showToast({title:e.data.error_msg||"加载失败，请稍后重试"})}})},onShareAppMessage:function(){return{title:"送你一次免费问诊的机会，新用户点击领取",path:"/pages/index/index?source=user_home_wx",imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/09/06/912c/988213806965_w422_h338_.png"}},clickevent:function(e){var t=e.currentTarget.dataset.eventName;s("AppClick",{click_position:t})}});
},{isPage:true,isComponent:true,currentFile:'pages/give_qa_list/index.js'});require("pages/give_qa_list/index.js");$gwx_XC_97=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_97 || [];
function gz$gwx_XC_97_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_97_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_97_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_97_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([3,'qaInfo.benefactor_info'])
Z(z[1])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_97_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_97_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_97=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_97=true;
var x=['./pages/give_qa_quiz/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_97_1()
var oD3=_n('view')
_rz(z,oD3,'class',0,e,s,gg)
var fE3=_v()
_(oD3,fE3)
if(_oz(z,1,e,s,gg)){fE3.wxVkey=1
}
var cF3=_v()
_(oD3,cF3)
if(_oz(z,2,e,s,gg)){cF3.wxVkey=1
}
fE3.wxXCkey=1
cF3.wxXCkey=1
_(r,oD3)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_97";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_97();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/give_qa_quiz/index.wxml'] = [$gwx_XC_97, './pages/give_qa_quiz/index.wxml'];else __wxAppCode__['pages/give_qa_quiz/index.wxml'] = $gwx_XC_97( './pages/give_qa_quiz/index.wxml' );
	;__wxRoute = "pages/give_qa_quiz/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/give_qa_quiz/index.js";define("pages/give_qa_quiz/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";for(var e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,s=a.baseUrl+"/events/activity/give_qa/info/",i=a.baseUrl+"/events/activity/give_qa/user_ask/",n=[],o=1;o<=24;o++)n.push(o+"个月");for(var c=3;c<=125;c++)n.push(c+"岁");Page({data:{content:"",sex:"",age:"",show_full:!0,male_checked:!1,female_checked:!1,ages:n,value:[41],service_id:"",qaInfo:{}},onLoad:function(a){var t=this,s=a.service_id;t.service_id=s,t.setData({service_id:s}),e.globalData.appIsLogin.then((function(){t.getQaInfo(s)}))},getQaInfo:function(a){var t=this;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},data:{partner:e.globalData.partner,service_id:a,from_wx_mini:1},success:function(e){e.data.success?t.setData({qaInfo:e.data}):wx.showToast({title:e.data.error||"加载失败，请稍后重试",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error||"加载失败，请稍后重试",icon:"none"})}})},updateText:function(e){var a=e.detail.value;this.setData({content:a})},changeSex:function(e){var a=e.currentTarget.dataset.sex,t=this.data.male_checked,s=this.data.female_checked;"male"==a?t?this.setData({sex:"",male_checked:!1,female_checked:!1}):this.setData({sex:"男",male_checked:!0,female_checked:!1}):s?this.setData({sex:"",male_checked:!1,female_checked:!1}):this.setData({sex:"女",male_checked:!1,female_checked:!0})},bindChange:function(e){var a=e.detail.value;this.setData({value:a,age:n[a]})},checkParams:function(){var e=this.data.content.length,a=this.data.sex,t=this.data.age;return e<10||e>500?(wx.showToast({title:"字数为10-500字",icon:"none"}),!1):a?!!t||(wx.showToast({title:"请选择年龄",icon:"none"}),!1):(wx.showToast({title:"请选择性别",icon:"none"}),!1)},submitProblem:function(){var a=this.data,s=[];if(this.checkParams()){var n={type:"text",text:a.content},o={type:"patient_meta",sex:a.sex,age:a.age};s.push(n),s.push(o),wx.request({url:i,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:t({partner:e.globalData.partner,service_id:this.data.service_id,content:JSON.stringify(s)}),success:function(e){e.data.success?wx.redirectTo({url:"../qa_im/index?problem_id="+e.data.problem_id}):wx.showToast({title:e.data.error_msg||"提问失败",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error_msg||"提问失败",icon:"none"})}})}}});
},{isPage:true,isComponent:true,currentFile:'pages/give_qa_quiz/index.js'});require("pages/give_qa_quiz/index.js");$gwx_XC_98=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_98 || [];
function gz$gwx_XC_98_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_98_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_98_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_98_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'glu-list'])
Z([[7],[3,'isEmpty']])
Z([[7],[3,'gluList']])
Z([3,'index'])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'status']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,1]])
Z([[7],[3,'showMore']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_98_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_98_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_98=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_98=true;
var x=['./pages/glu_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_98_1()
var oH3=_n('view')
_rz(z,oH3,'class',0,e,s,gg)
var cI3=_v()
_(oH3,cI3)
if(_oz(z,1,e,s,gg)){cI3.wxVkey=1
}
else{cI3.wxVkey=2
var lK3=_v()
_(cI3,lK3)
var aL3=function(eN3,tM3,bO3,gg){
var xQ3=_v()
_(bO3,xQ3)
if(_oz(z,4,eN3,tM3,gg)){xQ3.wxVkey=1
var oR3=_v()
_(xQ3,oR3)
if(_oz(z,5,eN3,tM3,gg)){oR3.wxVkey=1
}
var fS3=_v()
_(xQ3,fS3)
if(_oz(z,6,eN3,tM3,gg)){fS3.wxVkey=1
}
oR3.wxXCkey=1
fS3.wxXCkey=1
}
xQ3.wxXCkey=1
return bO3
}
lK3.wxXCkey=2
_2z(z,2,aL3,e,s,gg,lK3,'item','index','index')
var oJ3=_v()
_(cI3,oJ3)
if(_oz(z,7,e,s,gg)){oJ3.wxVkey=1
}
oJ3.wxXCkey=1
}
cI3.wxXCkey=1
_(r,oH3)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_98";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_98();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/glu_list/index.wxml'] = [$gwx_XC_98, './pages/glu_list/index.wxml'];else __wxAppCode__['pages/glu_list/index.wxml'] = $gwx_XC_98( './pages/glu_list/index.wxml' );
	;__wxRoute = "pages/glu_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/glu_list/index.js";define("pages/glu_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/toConsumableArray"),e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/ehr/health/glu/list/";Page({data:{gluList:[],page:1,countPerPage:20,hasMore:!1,isEmpty:!1,showMore:!1},onShow:function(t){this.setData({page:1}),this.getGluList()},getGluList:function(){var o=this,s=this.data,i=s.gluList,r=s.page,n=s.countPerPage;wx.request({url:a,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},data:{page:r,count_per_page:n,partner:e.globalData.partner,from_wx_mini:1},method:"GET",success:function(e){if(0===(e=e.data).error_code){var a=e.payload.glu_list;o.setData({isEmpty:1===r&&!a.length,gluList:1===r?a:[].concat(t(i),t(a)),hasMore:!(a.length<n),showMore:!(a.length<n&&1===r),page:r+1})}else wx.showToast({title:e.error_msg||"数据请求失败，请稍后再试",icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:"数据请求出错，请稍后再试",icon:"none",duration:2e3}),console.log(t)}})},onReachBottom:function(){this.data.hasMore&&this.getGluList()}});
},{isPage:true,isComponent:true,currentFile:'pages/glu_list/index.js'});require("pages/glu_list/index.js");$gwx_XC_99=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_99 || [];
function gz$gwx_XC_99_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_99_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_99_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_99_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_99=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_99=true;
var x=['./pages/glu_upload/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_99_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_99";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_99();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/glu_upload/index.wxml'] = [$gwx_XC_99, './pages/glu_upload/index.wxml'];else __wxAppCode__['pages/glu_upload/index.wxml'] = $gwx_XC_99( './pages/glu_upload/index.wxml' );
	;__wxRoute = "pages/glu_upload/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/glu_upload/index.js";define("pages/glu_upload/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/toConsumableArray"),a=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),r=e(require("../../C871ACB1829A079CAE17C4B61D2C7B70.js")),i=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=s.baseUrl+"/ehr/health/glu/upload/",u=s.baseUrl+"/ehr/list/";Page({data:{ehrId:"",measureTime:"",value:"",type:null,btnLoading:!1,dateTimeArray:[],dateTimeIndex:[],initDatePicker:[],curDateArray:[],typeIndex:0,typeOptions:[{value:1,verbose:"空腹血糖"},{value:3,verbose:"餐后2h"},{value:4,verbose:"随机"}],typeVerbose:"",valueOptions:[],valueIndex:[],ehrOptions:[],erhIndex:[],ehrVerbose:""},onLoad:function(){this.getEhrOptions(),this.initValidate();var e,r=this.getCurDate(),i=this.initDateTimePicker(r,!0),s=i.dateTimeIndex,o=i.dateTimeArray,n=[],u=a(o);try{for(u.s();!(e=u.n()).done;){var h=e.value;n.push(t(h))}}catch(e){u.e(e)}finally{u.f()}var l=this.getValueOptions();this.setData({dateTimeIndex:s,dateTimeArray:o,curDateArray:r,initDatePicker:n,valueOptions:l})},getEhrOptions:function(){var e=this;wx.request({url:u,header:{"Content-Type":"application/json",Cookie:i.globalData.sessionid},data:{is_json:1,from_wx_mini:1,partner:i.globalData.partner},success:function(t){var a=t.data,r=a.error_code,i=a.error_msg,s=a.payload;if(0===r){var o=(s.ehr_list||[]).map((function(e){return{id:e.id,verbose:"".concat(e.relation_verbose||"--","(").concat(e.name||"--",")"),selected:!1}}));e.setData({ehrOptions:o})}else wx.showToast({icon:"none",title:i||"健康档案信息获取失败，请稍后重试",duration:2e3})},fail:function(e){wx.showToast({icon:"none",title:"健康档案信息获取出错，请稍后重试",duration:2e3}),console.log(e)}})},ehrChangeEvent:function(e){var t=e.detail.value,a=this.data.ehrOptions[t];this.setData({ehrId:a.id,ehrVerbose:a.verbose,ehrIndex:t})},getValueOptions:function(){for(var e=[],t=[],a=1;a<=20;a++)e.push(a);for(var r=0;r<=9;r++)t.push(r);return[e,t]},bindTypeChange:function(e){var t=e.detail.value,a=this.data.typeOptions[t];this.setData({typeIndex:t,type:a.value,typeVerbose:a.verbose})},bindValueChange:function(e){var t=e.detail.value,a=this.data.valueOptions[0][t[0]],r=this.data.valueOptions[1][t[1]],i="".concat(a,".").concat(r);this.setData({valueIndex:t,value:i})},changeDateTime:function(e){var t=e.detail.value,a=this.data.dateTimeArray,r=a[0][t[0]],i=a[1][t[1]],s=a[2][t[2]],o=a[3][t[3]],n=a[4][t[4]];this.setData({measureTime:"".concat(r,"-").concat(i,"-").concat(s," ").concat(o,":").concat(n)})},submitForm:function(){var e=this;this.setData({btnLoading:!0});var t={ehr_id:this.data.ehrId,value:this.data.value,type:this.data.type,measure_time:this.data.measureTime};if(!this.WxValidate.checkForm(t)){var a=this.WxValidate.errorList[0];return wx.showModal({title:"提示",content:a.msg||"",showCancel:!1}),this.setData({btnLoading:!1}),!1}wx.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:i.globalData.sessionid},method:"POST",data:o({ehr_id:t.ehr_id,measure_time:t.measure_time,glu_list:JSON.stringify([{value:t.value,type:t.type}]),from_wx_mini:1}),success:function(e){0===e.data.error_code?wx.showToast({title:"保存成功",mask:!0,success:function(){setTimeout((function(){wx.navigateBack({delta:1})}),1500)}}):wx.showToast({title:e.error_msg||"数据提交失败请重试",icon:"none"})},fail:function(e){wx.showToast({title:"数据提交出错请重试",icon:"none"})},complete:function(){e.setData({btnLoading:!1})}})},initValidate:function(){this.WxValidate=new r.default({ehr_id:{required:!0},measure_time:{required:!0},value:{required:!0},type:{required:!0}},{ehr_id:{required:"请选择健康档案"},measure_time:{required:"请选择测量时间"},value:{required:"请选择血糖值"},type:{required:"请选择时间标签"}})},changeDateTimeColumn:function(e){var t=this.data,a=t.dateTimeIndex,r=t.dateTimeArray,i=e.detail,s=i.column,o=i.value;a[s]=o;var n={selectY:r[0][a[0]],selectM:r[1][a[1]],selectD:r[2][a[2]],selectH:r[3][a[3]],selectMi:r[4][a[4]]};this.setChangePicker(n,r),this.setData({dateTimeIndex:a,dateTimeArray:r})},setChangePicker:function(e,a){var r=e.selectY,i=e.selectM,s=e.selectD,o=e.selectH,n=(e.selectMi,this.data),u=n.curDateArray,h=n.initDatePicker;console.log(e,u),r===u[0]?(a[1]=t(h[1]),i===u[1]?(a[2]=t(h[2]),s===u[2]?(a[3]=t(h[3]),o===u[3]?a[4]=t(h[4]):a[4]=this.getLoopArray(1,59)):(a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))):(a[2]=this.getMonthDay(r,i),a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))):(a[1]=this.getLoopArray(1,12),a[2]=this.getMonthDay(r,i),a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))},initDateTimePicker:function(e){var t=[],a=[];a.push(this.getLoopArray(2017,e[0])||[]),a.push(this.getLoopArray(1,e[1])||[]);var r=this.getMonthDay(e[0],e[1])||[],i=r.indexOf(e[2]);return i>-1&&a.push(r.slice(0,i+1)),a.push(this.getLoopArray(0,e[3])||[]),a.push(this.getLoopArray(0,e[4])||[]),a.forEach((function(a,r){t.push(a.indexOf(e[r]))})),{dateTimeArray:a,dateTimeIndex:t}},getCurDate:function(){var e=new Date;return[this.formatNumber(e.getFullYear()),this.formatNumber(e.getMonth()+1),this.formatNumber(e.getDate()),this.formatNumber(e.getHours()),this.formatNumber(e.getMinutes())]},getMonthDay:function(e,t){var a=e%400==0||e%4==0&&e%100!=0,r=null;switch(t){case"01":case"03":case"05":case"07":case"08":case"10":case"12":r=this.getLoopArray(1,31);break;case"04":case"06":case"09":case"11":r=this.getLoopArray(1,30);break;case"02":r=a?this.getLoopArray(1,29):this.getLoopArray(1,28);break;default:r="月份格式不正确，请重新输入！"}return r},getLoopArray:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],r=e;r<=t;r++)a.push(this.formatNumber(r));return a},formatNumber:function(e){return e<10?"0".concat(e):e}});
},{isPage:true,isComponent:true,currentFile:'pages/glu_upload/index.js'});require("pages/glu_upload/index.js");$gwx_XC_100=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_100 || [];
function gz$gwx_XC_100_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_100_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_100_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_100_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_100_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_100_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_100=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_100=true;
var x=['./pages/green_vip_activate/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_100_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_100";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_100();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_activate/index.wxml'] = [$gwx_XC_100, './pages/green_vip_activate/index.wxml'];else __wxAppCode__['pages/green_vip_activate/index.wxml'] = $gwx_XC_100( './pages/green_vip_activate/index.wxml' );
	;__wxRoute = "pages/green_vip_activate/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_activate/index.js";define("pages/green_vip_activate/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(i){(0,e.redirectPage)("/module_g/pages/green_vip_activate/index",i)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_activate/index.js'});require("pages/green_vip_activate/index.js");$gwx_XC_101=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_101 || [];
function gz$gwx_XC_101_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_101_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_101_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_101_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_101_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_101_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_101=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_101=true;
var x=['./pages/green_vip_activate_success/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_101_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_101";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_101();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_activate_success/index.wxml'] = [$gwx_XC_101, './pages/green_vip_activate_success/index.wxml'];else __wxAppCode__['pages/green_vip_activate_success/index.wxml'] = $gwx_XC_101( './pages/green_vip_activate_success/index.wxml' );
	;__wxRoute = "pages/green_vip_activate_success/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_activate_success/index.js";define("pages/green_vip_activate_success/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(i){(0,e.redirectPage)("/module_g/pages/green_vip_activate_success/index",i)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_activate_success/index.js'});require("pages/green_vip_activate_success/index.js");$gwx_XC_102=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_102 || [];
function gz$gwx_XC_102_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_102_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_102_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_102_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_102_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_102_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_102=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_102=true;
var x=['./pages/green_vip_bind/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_102_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_102";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_102();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_bind/index.wxml'] = [$gwx_XC_102, './pages/green_vip_bind/index.wxml'];else __wxAppCode__['pages/green_vip_bind/index.wxml'] = $gwx_XC_102( './pages/green_vip_bind/index.wxml' );
	;__wxRoute = "pages/green_vip_bind/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_bind/index.js";define("pages/green_vip_bind/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(i){(0,e.redirectPage)("/module_g/pages/green_vip_bind/index",i)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_bind/index.js'});require("pages/green_vip_bind/index.js");$gwx_XC_103=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_103 || [];
function gz$gwx_XC_103_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_103_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_103_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_103_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_103_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_103_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_103=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_103=true;
var x=['./pages/green_vip_consultant/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_103_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_103";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_103();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_consultant/index.wxml'] = [$gwx_XC_103, './pages/green_vip_consultant/index.wxml'];else __wxAppCode__['pages/green_vip_consultant/index.wxml'] = $gwx_XC_103( './pages/green_vip_consultant/index.wxml' );
	;__wxRoute = "pages/green_vip_consultant/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_consultant/index.js";define("pages/green_vip_consultant/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_consultant/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_consultant/index.js'});require("pages/green_vip_consultant/index.js");$gwx_XC_104=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_104 || [];
function gz$gwx_XC_104_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_104_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_104_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_104_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_104_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_104_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_104=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_104=true;
var x=['./pages/green_vip_gg_ehr/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_104_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_104";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_104();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_gg_ehr/index.wxml'] = [$gwx_XC_104, './pages/green_vip_gg_ehr/index.wxml'];else __wxAppCode__['pages/green_vip_gg_ehr/index.wxml'] = $gwx_XC_104( './pages/green_vip_gg_ehr/index.wxml' );
	;__wxRoute = "pages/green_vip_gg_ehr/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_gg_ehr/index.js";define("pages/green_vip_gg_ehr/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_gg_ehr/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_gg_ehr/index.js'});require("pages/green_vip_gg_ehr/index.js");$gwx_XC_105=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_105 || [];
function gz$gwx_XC_105_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_105_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_105_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_105_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_105_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_105_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_105=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_105=true;
var x=['./pages/green_vip_lightly/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_105_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_105";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_105();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_lightly/index.wxml'] = [$gwx_XC_105, './pages/green_vip_lightly/index.wxml'];else __wxAppCode__['pages/green_vip_lightly/index.wxml'] = $gwx_XC_105( './pages/green_vip_lightly/index.wxml' );
	;__wxRoute = "pages/green_vip_lightly/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_lightly/index.js";define("pages/green_vip_lightly/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(i){(0,e.redirectPage)("/module_g/pages/green_vip_lightly/index",i)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_lightly/index.js'});require("pages/green_vip_lightly/index.js");$gwx_XC_106=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_106 || [];
function gz$gwx_XC_106_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_106_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_106_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_106_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_106_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_106_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_106=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_106=true;
var x=['./pages/green_vip_pay_result/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_106_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_106";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_106();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_pay_result/index.wxml'] = [$gwx_XC_106, './pages/green_vip_pay_result/index.wxml'];else __wxAppCode__['pages/green_vip_pay_result/index.wxml'] = $gwx_XC_106( './pages/green_vip_pay_result/index.wxml' );
	;__wxRoute = "pages/green_vip_pay_result/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_pay_result/index.js";define("pages/green_vip_pay_result/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_pay_result/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_pay_result/index.js'});require("pages/green_vip_pay_result/index.js");$gwx_XC_107=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_107 || [];
function gz$gwx_XC_107_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_107_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_107_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_107_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_107_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_107_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_107=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_107=true;
var x=['./pages/green_vip_protocal/green_vip_protocal.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_107_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_107";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_107();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_protocal/green_vip_protocal.wxml'] = [$gwx_XC_107, './pages/green_vip_protocal/green_vip_protocal.wxml'];else __wxAppCode__['pages/green_vip_protocal/green_vip_protocal.wxml'] = $gwx_XC_107( './pages/green_vip_protocal/green_vip_protocal.wxml' );
	;__wxRoute = "pages/green_vip_protocal/green_vip_protocal";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_protocal/green_vip_protocal.js";define("pages/green_vip_protocal/green_vip_protocal.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_protocal/green_vip_protocal",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_protocal/green_vip_protocal.js'});require("pages/green_vip_protocal/green_vip_protocal.js");$gwx_XC_108=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_108 || [];
function gz$gwx_XC_108_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_108_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_108_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_108_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_108_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_108_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_108=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_108=true;
var x=['./pages/green_vip_redirect_mini/green_vip_redirect_mini.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_108_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_108";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_108();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_redirect_mini/green_vip_redirect_mini.wxml'] = [$gwx_XC_108, './pages/green_vip_redirect_mini/green_vip_redirect_mini.wxml'];else __wxAppCode__['pages/green_vip_redirect_mini/green_vip_redirect_mini.wxml'] = $gwx_XC_108( './pages/green_vip_redirect_mini/green_vip_redirect_mini.wxml' );
	;__wxRoute = "pages/green_vip_redirect_mini/green_vip_redirect_mini";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_redirect_mini/green_vip_redirect_mini.js";define("pages/green_vip_redirect_mini/green_vip_redirect_mini.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(i){(0,e.redirectPage)("/module_g/pages/green_vip_redirect_mini/green_vip_redirect_mini",i)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_redirect_mini/green_vip_redirect_mini.js'});require("pages/green_vip_redirect_mini/green_vip_redirect_mini.js");$gwx_XC_109=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_109 || [];
function gz$gwx_XC_109_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_109_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_109_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_109_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_109_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_109_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_109=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_109=true;
var x=['./pages/green_vip_report/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_109_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_109";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_109();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_report/index.wxml'] = [$gwx_XC_109, './pages/green_vip_report/index.wxml'];else __wxAppCode__['pages/green_vip_report/index.wxml'] = $gwx_XC_109( './pages/green_vip_report/index.wxml' );
	;__wxRoute = "pages/green_vip_report/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_report/index.js";define("pages/green_vip_report/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_report/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_report/index.js'});require("pages/green_vip_report/index.js");$gwx_XC_110=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_110 || [];
function gz$gwx_XC_110_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_110_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_110_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_110_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_110_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_110_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_110=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_110=true;
var x=['./pages/green_vip_rights/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_110_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_110";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_110();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_rights/index.wxml'] = [$gwx_XC_110, './pages/green_vip_rights/index.wxml'];else __wxAppCode__['pages/green_vip_rights/index.wxml'] = $gwx_XC_110( './pages/green_vip_rights/index.wxml' );
	;__wxRoute = "pages/green_vip_rights/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_rights/index.js";define("pages/green_vip_rights/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_rights/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_rights/index.js'});require("pages/green_vip_rights/index.js");$gwx_XC_111=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_111 || [];
function gz$gwx_XC_111_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_111_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_111_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_111_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_111_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_111_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_111=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_111=true;
var x=['./pages/green_vip_service/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_111_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_111";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_111();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_service/index.wxml'] = [$gwx_XC_111, './pages/green_vip_service/index.wxml'];else __wxAppCode__['pages/green_vip_service/index.wxml'] = $gwx_XC_111( './pages/green_vip_service/index.wxml' );
	;__wxRoute = "pages/green_vip_service/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_service/index.js";define("pages/green_vip_service/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(){(0,e.redirectPage)("/module_g/pages/green_vip_service/index")}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_service/index.js'});require("pages/green_vip_service/index.js");$gwx_XC_112=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_112 || [];
function gz$gwx_XC_112_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_112_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_112_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_112_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_112_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_112_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_112=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_112=true;
var x=['./pages/green_vip_story/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_112_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_112";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_112();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/green_vip_story/index.wxml'] = [$gwx_XC_112, './pages/green_vip_story/index.wxml'];else __wxAppCode__['pages/green_vip_story/index.wxml'] = $gwx_XC_112( './pages/green_vip_story/index.wxml' );
	;__wxRoute = "pages/green_vip_story/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/green_vip_story/index.js";define("pages/green_vip_story/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../149D5771829A079C72FB3F761BFC7B70.js");Page({onLoad:function(r){(0,e.redirectPage)("/module_g/pages/green_vip_story/index",r)}});
},{isPage:true,isComponent:true,currentFile:'pages/green_vip_story/index.js'});require("pages/green_vip_story/index.js");$gwx_XC_113=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_113 || [];
function gz$gwx_XC_113_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_113_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_113_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_113_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showAuthorization']])
Z([3,'loginEvent'])
Z([[7],[3,'showLoading']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_113_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_113_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_113=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_113=true;
var x=['./pages/h5_service/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_113_1()
var h93=_v()
_(r,h93)
if(_oz(z,0,e,s,gg)){h93.wxVkey=1
var cA4=_n('cy-userinfo')
_rz(z,cA4,'bindloginevent',1,e,s,gg)
_(h93,cA4)
}
var o03=_v()
_(r,o03)
if(_oz(z,2,e,s,gg)){o03.wxVkey=1
}
h93.wxXCkey=1
h93.wxXCkey=3
o03.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_113";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_113();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/h5_service/index.wxml'] = [$gwx_XC_113, './pages/h5_service/index.wxml'];else __wxAppCode__['pages/h5_service/index.wxml'] = $gwx_XC_113( './pages/h5_service/index.wxml' );
	;__wxRoute = "pages/h5_service/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/h5_service/index.js";define("pages/h5_service/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/typeof"),o=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),a=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").getQueryStr,r=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,s=i.baseUrl+"/weixin/get_doctor_info/";Page({data:{showAuthorization:!1,showLoading:!1,duid:"",fromPage:""},onLoad:function(e){var t,i,r=this;console.log(e);var s="";if(e.duid&&e.fv)t=e.duid,i=e.fv;else{if(!e.scene)return void wx.showToast({icon:"none",title:"页面参数错误"});var c="?"+decodeURIComponent(e.scene);t=n("duid",c),i=n("fv",c),s="扫码"}this.setData({duid:t||"",fromPage:s}),this.h5ServicePoint(i),a.globalData.appIsLogin.then((function(){(0,o.default)({fromName:r.data.fromPage,name:"确认订单",extraInfo:{}}).then((function(){r.getDoctorDetail()}))}),(function(){r.setData({showAuthorization:!0})}))},h5ServicePoint:function(e){var t={source_type:e,order_type:"定向图文",from_type:"中转页扫码"};r("WebServeiceScan",t),wx.setStorage({key:"authorizationPointData",data:t})},loginEvent:function(){var e=this;this.setData({showLoading:!0,showAuthorization:!1}),(0,o.default)({fromName:this.data.fromPage,name:"确认订单",extraInfo:{}}).then((function(){e.getDoctorDetail()}))},getDoctorDetail:function(){var e=this;wx.request({url:s,method:"GET",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},data:{duid:e.data.duid},success:function(o){var i=o.data,n=i.doctor_info;if(e.setData({showLoading:!1}),"object"===t(i)){var r={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"".concat(n.name,"医生-图文咨询"),order_type:"graph",partner:a.globalData.partner,info_dict:{doctor_id:n.id}};a.globalData.order_data=r,wx.redirectTo({url:"/pages/payment/index?name=".concat(n.name,"&price=").concat(n.price,"&hospital=").concat(n.hospital,"&title=").concat(n.title,"&mark=finddoc&is_vip_doc=").concat(+n.is_vip_doctor)})}else wx.showToast({icon:"none",title:"获取数据失败～"})},error:function(){e.setData({showLoading:!1}),wx.showToast({icon:"none",title:"订单创建失败"})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/h5_service/index.js'});require("pages/h5_service/index.js");$gwx_XC_114=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_114 || [];
function gz$gwx_XC_114_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_114_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_114_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_114_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_114_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_114_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_114=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_114=true;
var x=['./pages/h5_service_qa/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_114_1()
var lC4=_v()
_(r,lC4)
if(_oz(z,0,e,s,gg)){lC4.wxVkey=1
var aD4=_n('cy-authorize-login')
_rz(z,aD4,'bindloginSuccess',1,e,s,gg)
_(lC4,aD4)
}
lC4.wxXCkey=1
lC4.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_114";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_114();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/h5_service_qa/index.wxml'] = [$gwx_XC_114, './pages/h5_service_qa/index.wxml'];else __wxAppCode__['pages/h5_service_qa/index.wxml'] = $gwx_XC_114( './pages/h5_service_qa/index.wxml' );
	;__wxRoute = "pages/h5_service_qa/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/h5_service_qa/index.js";define("pages/h5_service_qa/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=getApp();Page({data:{problem_id:"",isLogin:!0},onLoad:function(o){var t=this;i.globalData.appIsLogin.then((function(){t.setData({isLogin:!0,problem_id:o.problem_id}),wx.redirectTo({url:"/pages/qa_im/index?problem_id=".concat(o.problem_id)})}),(function(){t.setData({isLogin:!1,problem_id:o.problem_id})}))},loginActions:function(){this.setData({isLogin:!0}),wx.redirectTo({url:"/pages/qa_im/index?problem_id=".concat(this.data.problem_id)})}});
},{isPage:true,isComponent:true,currentFile:'pages/h5_service_qa/index.js'});require("pages/h5_service_qa/index.js");$gwx_XC_115=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_115 || [];
function gz$gwx_XC_115_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_115_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_115_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_115_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_115_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_115_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_115=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_115=true;
var x=['./pages/h5_webview/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_115_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_115";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_115();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/h5_webview/index.wxml'] = [$gwx_XC_115, './pages/h5_webview/index.wxml'];else __wxAppCode__['pages/h5_webview/index.wxml'] = $gwx_XC_115( './pages/h5_webview/index.wxml' );
	;__wxRoute = "pages/h5_webview/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/h5_webview/index.js";define("pages/h5_webview/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").getQueryStr,t=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),r=["/partner_volunteer/front/index/?partner=yizhen_kangwangqa"];Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",returnToAllService:0,goodsTitle:"",imageUrl:"",productUrl:"",hospitalTitle:"",hospitalImg:"",hospitalLink:"",shareObj:{},webviewHide:!1,finishedUrl:"",needReresh:"",h5Title:""},getMessage:function(e){console.log(e,"res"),wx.setStorage({key:"h5_to_user_center",data:!0});for(var t=e.detail.data||[],i=0;i<t.length;i++){if("chunyu_mall"===t[i].origin&&(this.data.goodsTitle=t[i].goodsTitle,this.data.imageUrl=t[i].imageUrl,this.data.productUrl=t[i].link),"hospital-list"===t[i].origin&&(this.data.hospitalTitle=t[i].title,this.data.hospitalImg=t[i].img,this.data.hospitalLink=t[i].link),"health-assessment"===t[i].origin){var a=t[i],r=a.title,s=a.img,n=a.link,o=a.origin;this.data.shareObj={title:r,img:s,link:n,origin:o}}if("health-program-daily-task"===t[i].origin&&(this.data.shareObj.isSpecial=t[i].is_special||"",this.data.shareObj.origin=t[i].origin,this.data.shareObj.program_id=t[i].program_id),"device"===t[i].origin){var l=t[i].info,h=void 0===l?{}:l;wx.setStorage({key:"healthHomeEhrId",data:h.ehrId})}if("qingxin-disseminate"===t[i].origin||"common-activity/lottery"===t[i].origin||"vue-m-c-live"===t[i].origin){var d=t[i],c=d.title,g=d.img,u=d.link,v=d.origin;this.data.shareObj={title:c,img:g,link:u,origin:v}}}t.length||(this.shareObj={})},onLoad:function(i){if(i.h5_title&&(this.data.h5Title=i.h5_title),i.scene){console.log(i.scene);var s=decodeURIComponent(decodeURIComponent(i.scene));console.log("-----",s),this.goH5WithScene(s)}else{this.setData({returnToAllService:Number(i.returnToAllService)||0});var n=i.url&&decodeURIComponent(i.url),o=n||t.globalData.webviewUrl;if(o){var l=a.isCyDomain(o),h=a.getQueryStr("device_id",o);if(l&&!h){var d=wx.getStorageSync("open_id")||wx.getStorageSync("device_id")||"";o=/\?/.test(o)?o+"&web_distinct_id="+d:o+"?web_distinct_id="+d}this.setPageUrl(o)}if(n&&n.indexOf("activity_id")>0){var c=e("activity_id",n);wx.setStorage({key:"h5_activity_id",data:c})}}r.forEach((function(e){-1!==decodeURIComponent(i.url).indexOf(e)&&wx.hideShareMenu()}))},onShareAppMessage:function(e){if(console.log("this.data.shareObj",this.data.shareObj),e.webViewUrl.indexOf("v-m-mall")>0){var t={path:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.webViewUrl))};return this.data.goodsTitle&&(t.title=this.data.goodsTitle),this.data.imageUrl&&(t.imageUrl=this.data.imageUrl),this.data.productUrl&&(t.path="/pages/h5_webview/index?url=".concat(encodeURIComponent(this.data.productUrl))),t}if(e.webViewUrl.indexOf("hospital-list")>0)return{path:"/pages/h5_webview/index?url=".concat(this.data.hospitalLink||encodeURIComponent(e.webViewUrl)),imageUrl:this.data.hospitalImg||"",title:this.data.hospitalTitle||""};if("health-assessment"===this.data.shareObj.origin)return this.setData({url:"".concat(this.data.finishedUrl,"#share")}),{path:"/pages/h5_webview/index?url=".concat(this.data.shareObj.link),imageUrl:this.data.shareObj.img||"",title:this.data.shareObj.title||""};if("health-program-daily-task"===this.data.shareObj.origin){if("true"===this.data.shareObj.isSpecial.toLowerCase()){var a=i.baseUrl+"/product_operation/health_program/".concat(this.data.shareObj.program_id,"/detail/");return console.log(a),{path:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a))}}return{path:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.webViewUrl))}}return"qingxin-disseminate"===this.data.shareObj.origin||"common-activity/lottery"===this.data.shareObj.origin||"vue-m-c-live"===this.data.shareObj.origin?(this.setData({url:"".concat(this.data.finishedUrl,"#share")}),{path:"/pages/h5_webview/index?url=".concat(this.data.shareObj.link),imageUrl:this.data.shareObj.img||"",title:this.data.shareObj.title||""}):{path:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.webViewUrl))}},onUnload:function(){this.data.url.includes("third_ai")&&wx.request({url:"https://www.chunyuyisheng.com/third_ai/chat/api/v1/log",method:"POST",data:{event:"chat.pageview.hide",sign:e("sign",this.data.url)}}),1===this.data.returnToAllService&&wx.switchTab({url:"/pages/all_service/index"})},onShow:function(){if(this.data.webviewHide&&(this.data.webviewHide=!1,this.data.finishedUrl)){var t=this.data.finishedUrl,i=e("need_refresh",t);"1"===String(i)&&this.setPageUrl("".concat(t,"&t=").concat((new Date).getTime()))}},onHide:function(){this.data.webviewHide=!0},onLoadSuccess:function(e){var t;this.data.finishedUrl=(null==e||null===(t=e.detail)||void 0===t?void 0:t.src)||"",this.data.h5Title&&wx.setNavigationBarTitle({title:this.data.h5Title})},goH5WithScene:function(e){if(e){var t=a.getQueryStr("t","?".concat(e)),r=a.getQueryStr("url","?".concat(e));if(r){var s=decodeURIComponent(r);this.setPageUrl(s)}else if(t){var n=a.getQueryStr("id",e);switch(t){case"topic":this.setPageUrl("".concat(i.baseUrl,"/v-m-community/topic?topic_id=").concat(n));break;case"post":this.setPageUrl("".concat(i.baseUrl,"/v-m-community/posts-detail?id=").concat(n));break;case"m-live-b":this.setPageUrl("".concat(i.baseUrl,"/v-m-live/live-play/?activity_id=").concat(n,"&from_type=poster"));break;case"m-live-c":this.setPageUrl("".concat(i.baseUrl,"/v-m-c-live/home/?activity_id=").concat(n,"&from_type=poster"));break;case"m-survey-qa":this.setPageUrl("".concat(i.baseUrl,"/events/questionnaire/v_m_survey/question-index-qa?questionnaire_id=").concat(n));break;case"m-survey":this.setPageUrl("".concat(i.baseUrl,"/events/questionnaire/v_m_survey/question-index?questionnaire_id=").concat(n));break;case"m-questionnaire":this.setPageUrl("".concat(i.baseUrl,"/v_m_questionnaire_vue/questionnaire/").concat(n));break;default:console.log("未识别的导航类型")}}}},setPageUrl:function(e){var t=a.setWebviewUrlWithLoginCredentials(e);this.setData({loading:!1,url:t})}});
},{isPage:true,isComponent:true,currentFile:'pages/h5_webview/index.js'});require("pages/h5_webview/index.js");$gwx_XC_116=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_116 || [];
function gz$gwx_XC_116_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_116_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_116_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_116_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_116_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_116_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_116=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_116=true;
var x=['./pages/health_center/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_116_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_116";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_116();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_center/index.wxml'] = [$gwx_XC_116, './pages/health_center/index.wxml'];else __wxAppCode__['pages/health_center/index.wxml'] = $gwx_XC_116( './pages/health_center/index.wxml' );
	;__wxRoute = "pages/health_center/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_center/index.js";define("pages/health_center/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/crm/user/inquiry/code/exchange/detail/";Page({data:{unuse_count:0,used_count:0,error_code:0,isLogin:!1},onLoad:function(e){},onShow:function(){var n=this;e.globalData.appIsLogin.then((function(){n.setData({isLogin:!0})}),(function(){n.setData({isLogin:!1})})),wx.request({url:t,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",success:function(e){1==e.data.error_code?wx.navigateTo({url:"/pages/health_center_active/index"}):n.setData({unuse_count:e.data.unuse_count,used_count:e.data.used_count,error_code:e.data.error_code})}})},askDoctor:function(){0!=this.data.unuse_count?3!=this.data.error_code?wx.navigateTo({url:"/pages/fast_qa/index"}):wx.showModal({title:"您的问诊机会已过期",content:"前往春雨医生小程序付费提问",success:function(e){e.confirm&&wx.switchTab({url:"/pages/index/index"})}}):wx.showModal({title:"您的问诊机会已用完",content:"前往春雨医生小程序付费提问?",success:function(e){e.confirm&&wx.switchTab({url:"/pages/index/index"})}})},myRecord:function(){wx.switchTab({url:"/pages/all_service/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_center/index.js'});require("pages/health_center/index.js");$gwx_XC_117=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_117 || [];
function gz$gwx_XC_117_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_117_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_117_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_117_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_117_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_117_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_117=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_117=true;
var x=['./pages/health_center_active/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_117_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_117";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_117();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_center_active/index.wxml'] = [$gwx_XC_117, './pages/health_center_active/index.wxml'];else __wxAppCode__['pages/health_center_active/index.wxml'] = $gwx_XC_117( './pages/health_center_active/index.wxml' );
	;__wxRoute = "pages/health_center_active/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_center_active/index.js";define("pages/health_center_active/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=t.baseUrl+"/api/crm/user/inquiry/code/activate/";Page({data:{inquiry_code:""},onLoad:function(e){},onShow:function(){},codeInput:function(e){var t=e.detail.value;this.setData({inquiry_code:t})},submit:function(){if(this.data.inquiry_code){var t={inquiry_code:this.data.inquiry_code};wx.request({url:a,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:i(t),method:"POST",success:function(e){0==e.data.error_code?wx.navigateTo({url:"/pages/health_center_result/index"}):wx.showToast({title:e.data.error_msg,icon:"none"})}})}else wx.showToast({title:"请输入问诊码",icon:"none"})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_center_active/index.js'});require("pages/health_center_active/index.js");$gwx_XC_118=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_118 || [];
function gz$gwx_XC_118_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_118_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_118_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_118_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'showLoginBtn']])
Z([3,'loginInit'])
Z([[7],[3,'showPhoneBtn']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_118_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_118_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_118=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_118=true;
var x=['./pages/health_center_login/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_118_1()
var xI4=_n('view')
_rz(z,xI4,'class',0,e,s,gg)
var oJ4=_v()
_(xI4,oJ4)
if(_oz(z,1,e,s,gg)){oJ4.wxVkey=1
var cL4=_n('cy-userinfo')
_rz(z,cL4,'bindloginevent',2,e,s,gg)
_(oJ4,cL4)
}
var fK4=_v()
_(xI4,fK4)
if(_oz(z,3,e,s,gg)){fK4.wxVkey=1
}
oJ4.wxXCkey=1
oJ4.wxXCkey=3
fK4.wxXCkey=1
_(r,xI4)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_118";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_118();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_center_login/index.wxml'] = [$gwx_XC_118, './pages/health_center_login/index.wxml'];else __wxAppCode__['pages/health_center_login/index.wxml'] = $gwx_XC_118( './pages/health_center_login/index.wxml' );
	;__wxRoute = "pages/health_center_login/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_center_login/index.js";define("pages/health_center_login/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),n=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=n.baseUrl+"/cooperation/wap/wx_mini_bind_phone/",t=n.baseUrl+"/cooperation/wap/my_center/",i=n.baseUrl+"/api/crm/user/inquiry/code/exchange/detail/";Page({data:{isLogin:!1,bind_phone:"",showPhoneBtn:!1,showLoginBtn:!1},onLoad:function(e){},onShow:function(){var n=this;e.globalData.appIsLogin.then((function(){n.setData({isLogin:!0,showLoginBtn:!1}),wx.showLoading(),wx.request({url:t,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},success:function(e){var o=e.data.bind_phone;n.setData({phone:o||""}),o?(n.setData({showPhoneBtn:!1}),n.navPage()):n.setData({showPhoneBtn:!0}),wx.hideLoading()}})}),(function(){n.setData({isLogin:!1,showLoginBtn:!0})}))},loginInit:function(){var n=this;wx.request({url:t,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},success:function(e){var o=e.data.bind_phone;n.setData({phone:o||""}),o?(n.setData({showPhoneBtn:!1,showLoginBtn:!1}),n.navPage()):n.setData({showPhoneBtn:!0,showLoginBtn:!1})}})},getPhoneNumber:function(n){var t=this;if("getPhoneNumber:ok"===n.detail.errMsg){var i={iv:n.detail.iv,encryptedData:n.detail.encryptedData,app:"weixin_mini"};wx.request({url:a,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:o(i),success:function(n){if(0==n.data.error_code){var o=n.data.result.sessionid||"",a="sessionid =".concat(o);wx.setStorageSync("sessionid",a),e.globalData.sessionid=a,wx.showLoading({title:"加载中"}),setTimeout((function(){wx.hideLoading(),t.navPage()}),1e3)}else wx.showToast({icon:"none",title:n.data.error_msg||"绑定手机失败，请稍后重试",duration:2e3})},fail:function(e){wx.showToast({icon:"none",title:e.data.error_msg||"绑定手机失败，请稍后重试",duration:2e3})}})}},navPage:function(){wx.request({url:i,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",success:function(e){1==e.data.error_code?wx.redirectTo({url:"/pages/health_center_active/index"}):wx.redirectTo({url:"/pages/health_center/index"})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_center_login/index.js'});require("pages/health_center_login/index.js");$gwx_XC_119=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_119 || [];
function gz$gwx_XC_119_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_119_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_119_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_119_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_119_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_119_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_119=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_119=true;
var x=['./pages/health_center_result/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_119_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_119";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_119();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_center_result/index.wxml'] = [$gwx_XC_119, './pages/health_center_result/index.wxml'];else __wxAppCode__['pages/health_center_result/index.wxml'] = $gwx_XC_119( './pages/health_center_result/index.wxml' );
	;__wxRoute = "pages/health_center_result/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_center_result/index.js";define("pages/health_center_result/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=(require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,t.baseUrl+"/api/crm/user/inquiry/code/exchange/detail/");Page({data:{expire_time:""},onLoad:function(e){},onShow:function(){var t=this;wx.request({url:i,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",success:function(e){t.setData({unuse_count:e.data.unuse_count,expire_time:e.data.expire_time})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_center_result/index.js'});require("pages/health_center_result/index.js");$gwx_XC_120=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_120 || [];
function gz$gwx_XC_120_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_120_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_120_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_120_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_120_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_120_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_120=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_120=true;
var x=['./pages/health_home/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_120_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_120";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_120();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_home/index.wxml'] = [$gwx_XC_120, './pages/health_home/index.wxml'];else __wxAppCode__['pages/health_home/index.wxml'] = $gwx_XC_120( './pages/health_home/index.wxml' );
	;__wxRoute = "pages/health_home/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_home/index.js";define("pages/health_home/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e,a,n=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",hash:"first_show"},onLoad:function(n){n&&(t=decodeURIComponent(n.url||""),e=n.ehr_id||"",a=!!t)},onShow:function(){var n=this;try{var c=e||wx.getStorageSync("healthHomeEhrId")||wx.getStorageSync("RECORD_ID")||"",r=a||wx.getStorageSync("IS_FIRST_SHOW"),s=t||wx.getStorageSync("REPORT_URL")||"";if(console.log(""),s&&r)return void wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent("".concat(o,"/insurance/pdf_view/?report_url=").concat(encodeURIComponent(s)))),success:function(){a=!1,wx.setStorageSync("IS_FIRST_SHOW",!1)}});var h=wx.getStorageSync("sessionid"),i="";if(h&&h.length){var S=h.split("sessionid=");S.length>1&&(i=S[1])}var g="".concat(o,"/v-m-health-records/#").concat(this.data.hash,"*").concat(c,"*").concat(s);i.length&&(g="".concat(o,"/v-m-health-records/?_CS=").concat(i,"#").concat(this.data.hash,"*").concat(c,"*").concat(s)),this.setData({loading:!1,url:g}),this.resetStatus(),setTimeout((function(){n.setData({hash:Math.random()})}))}catch(t){console.log("获取储存信息错误",t)}},resetStatus:function(){t="",e="",wx.setStorageSync("healthHomeEhrId",""),wx.setStorageSync("REPORT_URL",""),wx.setStorageSync("RECORD_ID","")},onShareAppMessage:function(){return{title:"健康+",path:"/pages/health_home/index"}},onTabItemTap:function(t){var e=wx.getStorageSync("hide_tabbar_card");null!=e&&e.hide||wx.setStorageSync("hide_tabbar_card",{hide:!0}),n.globalData.hide_tabbar_card=!0}});
},{isPage:true,isComponent:true,currentFile:'pages/health_home/index.js'});require("pages/health_home/index.js");$gwx_XC_121=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_121 || [];
function gz$gwx_XC_121_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_121_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_121_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_121_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_121_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_121_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_121=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_121=true;
var x=['./pages/health_plan_subscribe/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_121_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_121";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_121();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_plan_subscribe/index.wxml'] = [$gwx_XC_121, './pages/health_plan_subscribe/index.wxml'];else __wxAppCode__['pages/health_plan_subscribe/index.wxml'] = $gwx_XC_121( './pages/health_plan_subscribe/index.wxml' );
	;__wxRoute = "pages/health_plan_subscribe/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_plan_subscribe/index.js";define("pages/health_plan_subscribe/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,i="".concat(e,"/cooperation/wap/get_session_id/"),s="".concat(e,"/product_operation/health_program/set_push/"),t="4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4";Page({data:{isLogin:!0,isSubscribed:!1,programId:"",next:""},onShow:function(){var e=this;wx.showLoading({mask:!0}),o.globalData.appIsLogin.then((function(){wx.hideLoading(),e.loginSuccess()})).catch((function(o){console.log("app.globalData.appIsLogin catch::",o),e.setData({isLogin:!1}),e.loginEvent().then((function(){wx.hideLoading(),e.loginSuccess()})).catch((function(o){wx.hideLoading(),wx.showToast({title:o,icon:"none"})}))}))},onLoad:function(o){this.data.programId=o.id,this.data.next=o.next||""},onSubscribe:function(){var e=this;wx.requestSubscribeMessage({tmplIds:[t]}).then((function(i){"accept"===i[t]&&(wx.showLoading({title:"订阅中",mask:!0}),wx.request({url:s,data:{is_push:!0,platform:"weixin_mini"},header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},method:"POST",success:function(o){wx.hideLoading();var i=o.data||{};0===i.error_code?wx.showToast({title:"订阅成功",icon:"success",duration:1500,success:function(){e.setData({isSubscribed:!0}),e.data.next&&wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.data.next))})}}):wx.showToast({title:i.error_msg||"订阅失败",icon:"none"})},fail:function(){wx.hideLoading(),wx.showToast({title:"网络出错",icon:"none"})}}))})).catch((function(o){wx.showToast({title:"订阅出错",icon:"none"}),console.log(o)}))},loginSuccess:function(){this.setData({isLogin:!0}),this.isUserSubscribed()},isUserSubscribed:function(){var e=this;wx.showLoading({mask:"true"}),wx.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},method:"GET",success:function(o){var i=o.data||{};console.log(i),0===i.error_code?e.setData({isSubscribed:Boolean(i.is_push)}):e.setData({isSubscribed:!1}),wx.hideLoading()},fail:function(){e.setData({isSubscribed:!1}),wx.hideLoading()}})},loginEvent:function(){return new Promise((function(e,s){wx.login({success:function(t){wx.hideLoading(),t.code?wx.request({url:i,data:{from_wx_mini:1,code:t.code},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){wx.hideLoading();var t=i.data||{},n=t.sessionid,a=t.user_name,c=t.is_first,r=t.user_id;if(n){var d="sessionid=".concat(n);wx.setStorageSync("sessionid",d),wx.setStorageSync("sessionUserId",r),wx.setStorageSync("userName",a),o.globalData.sessionid=d,o.globalData.isFirstAuthorized=c,e()}else s(t.err_msg||"登录失败")},fail:function(){s("网络出错")}}):s("登录出错")},fail:function(){s("网络出错")}})}))},switchChange:function(e){var i=this;console.log(e.detail),e.detail.value?this.onSubscribe():wx.request({url:s,data:{is_push:!1,platform:"weixin_mini"},header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},method:"POST",success:function(o){var e=o.data||{};0===e.error_code?wx.showToast({title:"取消订阅成功",icon:"success",duration:1500,success:function(){i.setData({isSubscribed:!1})}}):wx.showToast({title:e.error_msg||"取消订阅失败",icon:"none",duration:1500,success:function(){i.setData({isSubscribed:!0})}})},fail:function(o){var e;wx.showToast({title:(null===(e=o.data)||void 0===e?void 0:e.error_msg)||"取消订阅失败",icon:"none",duration:1500,success:function(){i.setData({isSubscribed:!0})}})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_plan_subscribe/index.js'});require("pages/health_plan_subscribe/index.js");$gwx_XC_122=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_122 || [];
function gz$gwx_XC_122_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_122_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_122_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_122_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[2,'!='],[[7],[3,'record_list']],[1,'']])
Z([3,'sumbitQuestion'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_122_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_122_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_122=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_122=true;
var x=['./pages/health_record/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_122_1()
var lQ4=_n('view')
_rz(z,lQ4,'class',0,e,s,gg)
var aR4=_v()
_(lQ4,aR4)
if(_oz(z,1,e,s,gg)){aR4.wxVkey=1
}
var tS4=_mz(z,'form',['reportSubmit',-1,'bindsubmit',2],[],e,s,gg)
var eT4=_n('bottom-button')
_(tS4,eT4)
_(lQ4,tS4)
aR4.wxXCkey=1
_(r,lQ4)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_122";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_122();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record/index.wxml'] = [$gwx_XC_122, './pages/health_record/index.wxml'];else __wxAppCode__['pages/health_record/index.wxml'] = $gwx_XC_122( './pages/health_record/index.wxml' );
	;__wxRoute = "pages/health_record/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record/index.js";define("pages/health_record/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/typeof"),t=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=i.baseUrl+"/api/patient_profile/",r=i.baseUrl+"/cooperation/wap/create_free_problem/",s=i.baseUrl+"/cooperation/wap/create_problem_content/",n=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{record_list:"",choose_index:0,age:"",sex:"",modify_button:"show",finish_button:"hide",finish_btn:"finish",is_show:"show",item_choose:"show",item_delete:"hide",page_type:"",index:0,show_tips:!1,is_newer_task:0},onLoad:function(e){var t=this.data.index;"question"==e.type&&this.setData({choose_index:t,page_type:"question"}),e.is_newer_task&&(this.data.is_newer_task=e.is_newer_task)},onShow:function(){var e=this,i=e.data.index,o=e.data.page_type;wx.request({url:a,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"GET",success:function(t){var a=t.data;a.length?"question"==o?e.setData({record_list:a,choose_index:i,age:a[0].age,sex:a[0].sex,page_type:"question"}):e.setData({record_list:a,is_show:"hide",item_choose:"hide"}):e.redirectAddRecord()}})},redirectAddRecord:function(){var e=this.data.page_type;wx.navigateTo({url:"../health_record_add/index?page_type="+e})},switchRecord:function(e){var t=this,i=!0;wx.getStorage({key:"question",success:function(o){o.data.is_paid&&(i=!1),t.setData({choose_index:e.currentTarget.dataset.index,age:e.currentTarget.dataset.age,sex:e.currentTarget.dataset.sex,show_tips:i})}})},modifyRecord:function(){this.setData({modify_button:"hide",finish_button:"show",finish_btn:"un_finish",item_choose:"hide",item_delete:"show"})},finishRecord:function(){"question"==this.data.page_type?this.setData({modify_button:"show",finish_button:"hide",finish_btn:"finish",item_choose:"show",item_delete:"hide"}):this.setData({modify_button:"show",finish_button:"hide",item_delete:"hide"})},deleteRecord:function(e){var i=this.data.page_type,o=e.currentTarget.dataset.id,r=e.currentTarget.dataset.name;if(this.data.record_list.length<=1)return wx.showToast({title:"至少保留一条档案",icon:"loading"}),!1;wx.showModal({title:"提示",content:"是否删除"+r+"的档案",success:function(e){e.confirm&&wx.request({url:a+"?id="+o,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"DELETE",success:function(e){e.data.error_msg?wx.showToast({title:e.data.error_msg,icon:"loading"}):wx.showToast({title:"档案删除成功",success:function(){wx.redirectTo({url:"../health_record/index?type="+i})}})}})}})},sumbitQuestion:function(i){var a=this,n=a.data.sex,d=a.data.age,_=a.data.record_list[a.data.choose_index],c={type:"patient_meta",age:d,sex:n,ehr_id:"object"===e(_)&&null!==_?_.id:""};if(!d)return wx.showToast({title:"请完善健康档案(年龄)",icon:"none"}),!1;n||wx.showToast({title:"请完善健康档案(性别)",icon:"none"}),wx.getStorage({key:"question",success:function(e){var i=e.data,n=JSON.parse(i.content),d=i.problem_id,_=i.from_wx_mini,l=i.is_paid,h=i.emergentMark,u=i.emergencyClinicNo,p=i.is_newer_task,m=i.inviter_id,g=t.globalData,f=g.fromOneYuan,w=g.is_new_user;n.push(c);var x={from_wx_mini:_,content:JSON.stringify(n),problem_id:d,partner:t.globalData.partner,inviter_id:m||"",is_newer_task:p,ask_famous_doc:f&&w?1:0};h&&(x.clinic_no=u),wx.request({url:l?s:r,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:o(x),success:function(e){if(0==(e=e.data).error){if(wx.removeStorageSync("inviter_id"),h)return void a.emergentSubmit(e);l?wx.redirectTo({url:"../qa_im/index?problem_id="+d}):wx.redirectTo({url:"../rec_doc_list/index?problem_id="+e.problem_id})}else wx.showToast({title:e.error_msg,icon:"loading"})}})}})},emergentSubmit:function(e){var i=e.problem_id,o={from_wx_mini:1,finish_success_url:"../fast_qa/index?problem_id="+i,finish_fail_url:"",order_desc:"",order_name:"",order_type:"emergency_graph",info_dict:{emergency_graph_from_type:"h5_homepage_entrance",select_free:!1,select_emergency_graph:!0,doctors:[],problem_id:i},partner:t.globalData.partner};t.globalData.order_data=o,wx.redirectTo({url:"../payment/index?mark=emergency&problemId="+i})},clickEvent:function(){n("AppClick",{click_position:"select_file_page_open_giveqa"})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record/index.js'});require("pages/health_record/index.js");$gwx_XC_123=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_123 || [];
function gz$gwx_XC_123_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_123_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_123_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_123_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_123_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_123_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_123=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_123=true;
var x=['./pages/health_record_add/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_123_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_123";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_123();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_add/index.wxml'] = [$gwx_XC_123, './pages/health_record_add/index.wxml'];else __wxAppCode__['pages/health_record_add/index.wxml'] = $gwx_XC_123( './pages/health_record_add/index.wxml' );
	;__wxRoute = "pages/health_record_add/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_add/index.js";define("pages/health_record_add/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),a=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=e.baseUrl+"/api/patient_profile/",s=e.baseUrl+"/events/newer_task/ehr/has_self/";Page({data:{patient_name:"",sex:"",birthday:"",nowDay:"",page_type:"",relation:"",relation_list:[{name:"自己",value:"自己"},{name:"父母",value:"父母"},{name:"子女",value:"子女"},{name:"爱人",value:"爱人"},{name:"其他",value:"其他"}],sex_list:[{name:"男",value:"男"},{name:"女",value:"女"}],born_time:"1990-01-01"},onLoad:function(t){var a=t.page_type||"";this.setData({page_type:a}),this.getRelationData(),this.getDateStr()},getDateStr:function(){var t=new Date,a=t.getMonth()+1,e=t.getDate(),i=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(e<10?"0"+e:e);this.setData({nowDay:i})},getRelationData:function(){var t=this;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},method:"GET",success:function(a){a.data&&a.data.has_self&&t.setData({relation_list:t.data.relation_list.slice(1)})}})},setName:function(t){var a=t.detail.value;this.setData({patient_name:a}),console.log(this.data.patient_name)},addRecord:function(){var t=this.data.patient_name,e=this.data.sex,s=this.data.birthday,o=(this.data.page_type,this.data.relation);if(!o)return wx.showToast({title:"请选择关系",icon:"loading"}),!1;if(!t||!t.trim().length)return wx.showToast({title:"请输入姓名",icon:"loading"}),!1;if(!e)return wx.showToast({title:"请选择性别",icon:"loading"}),!1;if(!s)return wx.showToast({title:"请选择出生日期",icon:"loading"}),!1;var l={patient_name:t,sex:e,birthday:s,relation:o};wx.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},method:"POST",data:i(l),success:function(t){wx.showToast({title:"档案创建成功",success:function(){wx.navigateBack({delta:1})}})},fail:function(t){wx.showToast({title:t.error_msg||"档案创建失败",icon:"loading"})}})},radioChange:function(t){this.setData({sex:t.detail.value})},bindDateChange:function(t){this.setData({birthday:t.detail.value})},changePick:function(a){var e,i=a.target.dataset.name,n=this.data[i+"_list"][a.detail.value];this.setData((t(e={},i,n.value),t(e,i+"_value",n.name),e))}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_add/index.js'});require("pages/health_record_add/index.js");$gwx_XC_124=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_124 || [];
function gz$gwx_XC_124_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_124_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_124_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_124_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([[2,'&&'],[[6],[[7],[3,'ehrList']],[3,'length']],[[6],[[7],[3,'ehrList']],[3,'length']]])
Z([[2,'!'],[[2,'||'],[[7],[3,'loading']],[[6],[[7],[3,'ehrList']],[3,'length']]]])
Z([[7],[3,'showAuthorize']])
Z([3,'loginFail'])
Z([3,'init'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_124_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_124_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_124=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_124=true;
var x=['./pages/health_record_authorize/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_124_1()
var xW4=_v()
_(r,xW4)
if(_oz(z,0,e,s,gg)){xW4.wxVkey=1
var fY4=_v()
_(xW4,fY4)
if(_oz(z,1,e,s,gg)){fY4.wxVkey=1
}
var cZ4=_v()
_(xW4,cZ4)
if(_oz(z,2,e,s,gg)){cZ4.wxVkey=1
}
fY4.wxXCkey=1
cZ4.wxXCkey=1
}
var oX4=_v()
_(r,oX4)
if(_oz(z,3,e,s,gg)){oX4.wxVkey=1
var h14=_mz(z,'cy-authorize',['bindloginFail',4,'bindloginSuccess',1],[],e,s,gg)
_(oX4,h14)
}
xW4.wxXCkey=1
oX4.wxXCkey=1
oX4.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_124";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_124();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_authorize/index.wxml'] = [$gwx_XC_124, './pages/health_record_authorize/index.wxml'];else __wxAppCode__['pages/health_record_authorize/index.wxml'] = $gwx_XC_124( './pages/health_record_authorize/index.wxml' );
	;__wxRoute = "pages/health_record_authorize/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_authorize/index.js";define("pages/health_record_authorize/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,e=o+"/ehr/list/",t=o+"/ehr/authorize/",i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=getApp();Page({data:{ehrList:[],chooseAll:!1,oriChoosedId:[],ehrChoosedId:[],loading:!0,isLogin:!1,showAuthorize:!1},onLoad:function(o){var e=this;n.globalData.appIsLogin.then((function(){e.init()}),(function(){e.setData({isLogin:!1,showAuthorize:!0})}))},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onShareAppMessage:function(){return{title:"授权健康管家为您更新维护档案"}},loginFail:function(){console.log("授权失败")},init:function(){wx.showLoading({title:"档案获取中"}),this.setData({isLogin:!0,showAuthorize:!1,loading:!0});var o=this;wx.request({url:e,header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},method:"GET",success:function(e){var t=e.data,i=t.error_code,n=t.error_msg,s=t.payload;if(0===i)for(var a=[],r=[],d=[],c=(void 0===s?{}:s).ehr_list,h=void 0===c?[]:c,l=0;l<h.length;l++){var u=h[l],f={id:u.id,name:u.name||"--",sex:u.sex_verbose||"--",age:u.age?"".concat(u.age,"岁"):"--",status:u.status,relation:u.relation_verbose||"--"};d.push(f),1===u.status&&(a.push(u.id),r.push(u.id)),o.setData({ehrList:d,oriChoosedId:a,ehrChoosedId:r})}else wx.showToast({title:n||"档案获取失败",icon:"none",duration:2e3})},fail:function(o){console.log(o)},complete:function(){wx.hideLoading({complete:function(){o.setData({loading:!1})}})}})},chooseChangeEvent:function(o){var e=this,t=o.currentTarget.dataset.id,i=this.data,n=i.oriChoosedId,s=i.ehrChoosedId,a=s.indexOf(t);a>-1?n.indexOf(t)>-1?wx.showModal({title:"提示",content:"取消授权后，健康管家将不再维护您的档案",confirmText:"取消授权",cancelText:"不取消",success:function(o){o.confirm?s.splice(a,1):o.cancel&&console.log("user cancel"),e.setData({oriChoosedId:n,ehrChoosedId:s})}}):s.splice(a,1):s.push(t),this.setData({oriChoosedId:n,ehrChoosedId:s})},authorizedEvent:function(){var e=this.data.ehrChoosedId;wx.request({url:t,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},data:i({ehr_ids:JSON.stringify(e)}),success:function(e){var t=e.data,i=t.error_code,n=t.error_msg;if(0===i){var s=decodeURIComponent("".concat(o,"/wxvip/home"));wx.showToast({title:"授权成功",icon:"success",duration:2e3,complete:function(){wx.redirectTo({url:"/pages/vip_webview/index?url=".concat(s)})}})}else wx.showToast({title:n||"授权失败",icon:"none",duration:2e3})},fail:function(o){wx.showToast({title:"授权出错",icon:"none",duration:2e3}),console.log(o)}})},chooseAllEvent:function(){var o=this.data,e=o.chooseAll,t=o.ehrList,i=[];e||(i=t.map((function(o){return o.id}))),this.setData({chooseAll:!e,ehrChoosedId:i})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_authorize/index.js'});require("pages/health_record_authorize/index.js");$gwx_XC_125=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_125 || [];
function gz$gwx_XC_125_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_125_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_125_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_125_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'profileList']],[3,'length']])
Z([3,'container'])
Z(z[0])
Z([[2,'==='],[[7],[3,'finishButton']],[1,'hide']])
Z([3,'sumbitQuestion'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_125_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_125_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_125=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_125=true;
var x=['./pages/health_record_certification/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_125_1()
var c34=_v()
_(r,c34)
if(_oz(z,0,e,s,gg)){c34.wxVkey=1
var o44=_n('view')
_rz(z,o44,'class',1,e,s,gg)
var l54=_v()
_(o44,l54)
if(_oz(z,2,e,s,gg)){l54.wxVkey=1
}
var a64=_v()
_(o44,a64)
if(_oz(z,3,e,s,gg)){a64.wxVkey=1
}
var t74=_mz(z,'form',['reportSubmit',-1,'bindsubmit',4],[],e,s,gg)
var e84=_n('bottom-button')
_(t74,e84)
_(o44,t74)
l54.wxXCkey=1
a64.wxXCkey=1
_(c34,o44)
}
c34.wxXCkey=1
c34.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_125";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_125();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_certification/index.wxml'] = [$gwx_XC_125, './pages/health_record_certification/index.wxml'];else __wxAppCode__['pages/health_record_certification/index.wxml'] = $gwx_XC_125( './pages/health_record_certification/index.wxml' );
	;__wxRoute = "pages/health_record_certification/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_certification/index.js";define("pages/health_record_certification/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=i.baseUrl+"/ehr/patient_profile/ehr_list/",s=i.baseUrl+"/ehr/patient_profile/delete/";Page({data:{profileList:[],chooseIndex:0,age:"",sex:"",disabled:!1,realNameCompleted:!1,modifyButton:"show",finishButton:"hide",finishBtn:"finish",itemChoose:"show",itemDelete:"hide"},onShow:function(){this.getProfileList()},getProfileList:function(){var e=this;wx.showLoading(),wx.request({url:o,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{scene_in:"register_apply"},method:"GET",success:function(t){var i=t.data,o=i.error_code,s=void 0===o?1:o,r=i.error_msg,a=void 0===r?"获取档案列表失败":r,n=i.profile_list,d=void 0===n?[]:n;0===s?(wx.hideLoading(),d.length?e.setData({profileList:d,chooseIndex:0,age:d[0]&&d[0].age,sex:d[0]&&d[0].sex}):(e.isFirstCreatedEhr=!0,wx.setStorageSync("isFirstCreatedEhr",JSON.stringify(e.isFirstCreatedEhr)),e.redirectAddRecord())):(wx.hideLoading(),wx.showToast({title:a,icon:"none"}))}})},redirectAddRecord:function(){var e="navigateTo";this.isFirstCreatedEhr&&(e="redirectTo"),wx[e]({url:"../health_record_certification_edit/index?pageType=add"})},switchRecord:function(e){this.setData({chooseIndex:e.currentTarget.dataset.index})},modifyRecord:function(){this.setData({disabled:!0,modifyButton:"hide",finishButton:"show",finishBtn:"un-finish",itemChoose:"hide",itemDelete:"show"})},finishRecord:function(){this.setData({disabled:!1,modifyButton:"show",finishButton:"hide",finishBtn:"finish",itemChoose:"show",itemDelete:"hide"})},deleteRecord:function(e){var i=this.data.profileList,o=void 0===i?[]:i,r=e.currentTarget.dataset,a=r.id,n=r.name;if(o.length<=1)return wx.showToast({title:"至少保留一条档案",icon:"none"}),!1;wx.showModal({title:"提示",content:"是否删除"+n+"的档案",success:function(e){e.confirm&&wx.request({url:s,data:{id:a,scene_in:"register_apply"},header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"POST",success:function(e){var t=e.data,i=t.error_code,o=void 0===i?1:i,s=t.error_msg,r=void 0===s?"删除档案失败":s;0===o?wx.showToast({title:"档案删除成功",success:function(){wx.redirectTo({url:"/pages/health_record_certification/index"})}}):wx.showToast({title:r,icon:"none"})}})}})},sumbitQuestion:function(){var t=this.data.profileList[this.data.chooseIndex]||{},i=t.real_name_completed,o=void 0===i||i,s=t.id;o?(wx.setStorageSync("selectHealthRecordInfo",JSON.stringify(e({},t))),wx.navigateBack({delta:1})):wx.navigateTo({url:"/pages/health_record_certification_edit/index?ehrId=".concat(s,"&pageType=edit&isNeedRealName=true")})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_certification/index.js'});require("pages/health_record_certification/index.js");$gwx_XC_126=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_126 || [];
function gz$gwx_XC_126_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_126_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_126_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_126_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShowGuardianModule']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_126_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_126_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_126=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_126=true;
var x=['./pages/health_record_certification_edit/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_126_1()
var o04=_v()
_(r,o04)
if(_oz(z,0,e,s,gg)){o04.wxVkey=1
}
o04.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_126";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_126();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_certification_edit/index.wxml'] = [$gwx_XC_126, './pages/health_record_certification_edit/index.wxml'];else __wxAppCode__['pages/health_record_certification_edit/index.wxml'] = $gwx_XC_126( './pages/health_record_certification_edit/index.wxml' );
	;__wxRoute = "pages/health_record_certification_edit/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_certification_edit/index.js";define("pages/health_record_certification_edit/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/objectSpread2"),t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../FD56CE94829A079C9B30A693E59B7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").dateFormat,o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,d=a.baseUrl+"/events/newer_task/ehr/has_self/",r=a.baseUrl+"/ehr/patient_profile/create_or_update/",s=a.baseUrl+"/ehr/patient_profile/detail/";Page({data:{ehrId:"",isShowGuardianModule:!1,relation:"",patientName:"",sex:"",birthday:"",identityCard:"",guardianName:"",guardianIdentityCard:"",pageType:"add",nowDay:"",submitDisabled:!1,relationList:i.relationList,sexList:i.sexList,bornTime:"1990-01-01",fromVideo:0},onLoad:function(e){console.log("options",e),this.data.sceneIn=e.sceneIn||"register_apply";var t=e.isNeedRealName,a=void 0!==t&&t,i=e.pageType,n=e.ehrId,o=e.fromVideo,d=void 0===o?0:o;this.setData({pageType:i||"add",ehrId:n,fromVideo:d}),wx.setNavigationBarTitle({title:"add"===i?"新增健康档案":"编辑健康档案"}),this.openModal(a),"edit"===i?this.getPatientProfileDetail(n):"add"===i&&this.getRelationData(),this.getDateStr()},onUnload:function(){wx.setStorageSync("isFirstCreatedEhr",JSON.stringify(!1))},addOrEditRecord:function(){var a=this,i=2,n=this.data,d=n.ehrId,s=n.relation,l=n.patientName,u=n.sex,c=n.birthday,h=n.identityCard,g=n.guardianName,w=n.guardianIdentityCard,f=n.pageType,m=void 0===f?"add":f;if(this.verifyData()){wx.showLoading(),this.setData({submitDisabled:!0});var p={id:d,relation:s,patient_name:l,sex:u,birthday:c,identity_card:h,guardian_name:g,guardian_identity_card:w};"add"===m&&delete p.id;try{wx.request({url:"".concat(r,"?scene_in=").concat(a.data.sceneIn),timeout:1e4,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"POST",data:o(p),success:function(t){wx.hideLoading();var n=t.data,o=n.error_code,d=void 0===o?1:o,r=n.error_msg,s=void 0===r?"档案创建失败":r,l=n.ehr_info,u=void 0===l?{}:l;if(0===d){var c={};1!==Number(a.data.fromVideo)&&(c=JSON.parse(wx.getStorageSync("isFirstCreatedEhr"))),wx.showToast({title:"档案创建成功",success:function(){wx.setStorageSync("selectHealthRecordInfo",JSON.stringify(e(e({},u),{},{isCreatedEhr:!0}))),1===Number(a.data.fromVideo)?(wx.setStorageSync("video-varified",1),wx.navigateBack()):(c&&(i=1),wx.navigateBack({delta:i}))}})}else wx.showToast({title:s,icon:"none"});a.setData({submitDisabled:!1})},fail:function(){wx.showToast({title:"请求出错，请稍后再试",icon:"none"})}})}catch(e){console.log(e),wx.hideLoading(),a.setData({submitDisabled:!1})}}},verifyData:function(){var e=this.data,t=e.relation,a=e.patientName,i=e.sex,n=e.birthday,o=e.identityCard,d=e.guardianName,r=e.guardianIdentityCard,s=function(e){return e=e.toUpperCase(),!!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e)},l=function(e){return e&&String(e).trim().length};return t?l(a)?i?n?l(o)?s(o)?this.isNeedAddGuardian(n)&&!l(d)?(wx.showToast({title:"请填写监护人姓名",icon:"none"}),!1):this.isNeedAddGuardian(n)&&!l(r)?(wx.showToast({title:"请填写监护人身份证",icon:"none"}),!1):!(this.isNeedAddGuardian(n)&&!s(r))||(wx.showToast({title:"请输入正确的监护人身份证号",icon:"none"}),!1):(wx.showToast({title:"请输入正确的身份证号",icon:"none"}),!1):(wx.showToast({title:"请填写身份证",icon:"none"}),!1):(wx.showToast({title:"请选择出生日期",icon:"none"}),!1):(wx.showToast({title:"请选择性别",icon:"none"}),!1):(wx.showToast({title:"请填写姓名",icon:"none"}),!1):(wx.showToast({title:"请选择关系",icon:"none"}),!1)},getPatientProfileDetail:function(e){var a=this;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{id:e,scene_in:"register_apply"},method:"GET",success:function(e){var t=e.data,i=t.error_code,n=void 0===i?1:i,o=t.error_msg,d=void 0===o?"获取档案详情失败":o,r=t.ehr_detail,s=void 0===r?{}:r;if(0===n){var l=s.patient_name,u=s.sex,c=s.relation,h=s.birthday,g=s.identity_card,w=s.guardian_name,f=s.guardian_identity_card,m=a.data.sexList.map((function(e){return e.value===u&&(e.checked=!0),e}));a.setData({isShowGuardianModule:a.isNeedAddGuardian(h),relation:c,patientName:l,sex:u,sexList:m,birthday:h,identityCard:g,guardianName:w,guardianIdentityCard:f})}else wx.showToast({title:d,icon:"none"})}})},getRelationData:function(){var e=this;wx.request({url:d,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"GET",success:function(t){t.data&&t.data.has_self&&e.setData({relationList:e.data.relationList.slice(1)})}})},getDateStr:function(){var e=new Date;Date.prototype.dateFormat=n;var t=e.dateFormat("yyyy-MM-dd");this.setData({nowDay:t})},setIdcard:function(e){this.setData({identityCard:e.detail.value})},setName:function(e){this.setData({patientName:e.detail.value})},setGuardianName:function(e){this.setData({guardianName:e.detail.value})},setGuardianIdentityCard:function(e){this.setData({guardianIdentityCard:e.detail.value})},radioChange:function(e){this.setData({sex:e.detail.value})},bindDateChange:function(e){this.setData({isShowGuardianModule:this.isNeedAddGuardian(e.detail.value),birthday:e.detail.value})},isNeedAddGuardian:function(e){return new Date(e).getTime()>=(new Date).getTime()-220752e6},changePick:function(e){var t=this.data.relationList,a=void 0===t?[]:t;console.log(a[e.detail.value]),this.setData({relation:a[e.detail.value]})},openModal:function(e){"true"===e&&wx.showModal({content:1===Number(this.data.fromVideo)?"视频问诊需实名预约，请补充档案信息":"预约就诊需实名预约，请补充档案信息",showCancel:!1,confirmText:"我知道了",confirmColor:"#39D167"})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_certification_edit/index.js'});require("pages/health_record_certification_edit/index.js");$gwx_XC_127=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_127 || [];
function gz$gwx_XC_127_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_127_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_127_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_127_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'=='],[[7],[3,'type']],[1,'rookie_task']])
Z([[7],[3,'showForm']])
Z([3,'submitForm'])
Z([1,true])
Z([3,'ehr-container'])
Z([3,'radioChangeEvent'])
Z([3,'radio-group'])
Z([3,'sex'])
Z(z[7])
Z([[7],[3,'sexList']])
Z([3,'value'])
Z([3,'weui-cell__hd weui-check__hd_in-checkbox'])
Z([[2,'!='],[[6],[[7],[3,'item']],[3,'value']],[[6],[[7],[3,'showData']],[3,'sex']]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'value']],[[6],[[7],[3,'showData']],[3,'sex']]])
Z([[6],[[6],[[7],[3,'showData']],[3,'chronic']],[3,'showInput']])
Z([[6],[[6],[[7],[3,'showData']],[3,'family']],[3,'showInput']])
Z([[6],[[6],[[7],[3,'showData']],[3,'drug']],[3,'showInput']])
Z([[6],[[6],[[7],[3,'showData']],[3,'food']],[3,'showInput']])
Z([[6],[[6],[[7],[3,'showData']],[3,'badHabit']],[3,'showInput']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_127_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_127_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_127=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_127=true;
var x=['./pages/health_record_edit/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_127_1()
var oB5=_v()
_(r,oB5)
if(_oz(z,0,e,s,gg)){oB5.wxVkey=1
}
var fC5=_v()
_(r,fC5)
if(_oz(z,1,e,s,gg)){fC5.wxVkey=1
var cD5=_mz(z,'form',['bindsubmit',2,'reportSubmit',1],[],e,s,gg)
var hE5=_n('view')
_rz(z,hE5,'class',4,e,s,gg)
var tK5=_mz(z,'radio-group',['bindchange',5,'class',1,'data-name',2,'name',3],[],e,s,gg)
var eL5=_v()
_(tK5,eL5)
var bM5=function(xO5,oN5,oP5,gg){
var cR5=_n('view')
_rz(z,cR5,'class',11,xO5,oN5,gg)
var hS5=_v()
_(cR5,hS5)
if(_oz(z,12,xO5,oN5,gg)){hS5.wxVkey=1
}
var oT5=_v()
_(cR5,oT5)
if(_oz(z,13,xO5,oN5,gg)){oT5.wxVkey=1
}
hS5.wxXCkey=1
oT5.wxXCkey=1
_(oP5,cR5)
return oP5
}
eL5.wxXCkey=2
_2z(z,9,bM5,e,s,gg,eL5,'item','index','value')
_(hE5,tK5)
var oF5=_v()
_(hE5,oF5)
if(_oz(z,14,e,s,gg)){oF5.wxVkey=1
}
var cG5=_v()
_(hE5,cG5)
if(_oz(z,15,e,s,gg)){cG5.wxVkey=1
}
var oH5=_v()
_(hE5,oH5)
if(_oz(z,16,e,s,gg)){oH5.wxVkey=1
}
var lI5=_v()
_(hE5,lI5)
if(_oz(z,17,e,s,gg)){lI5.wxVkey=1
}
var aJ5=_v()
_(hE5,aJ5)
if(_oz(z,18,e,s,gg)){aJ5.wxVkey=1
}
oF5.wxXCkey=1
cG5.wxXCkey=1
oH5.wxXCkey=1
lI5.wxXCkey=1
aJ5.wxXCkey=1
_(cD5,hE5)
_(fC5,cD5)
}
else{fC5.wxVkey=2
}
oB5.wxXCkey=1
fC5.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_127";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_127();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_edit/index.wxml'] = [$gwx_XC_127, './pages/health_record_edit/index.wxml'];else __wxAppCode__['pages/health_record_edit/index.wxml'] = $gwx_XC_127( './pages/health_record_edit/index.wxml' );
	;__wxRoute = "pages/health_record_edit/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_edit/index.js";define("pages/health_record_edit/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),t=require("../../@babel/runtime/helpers/toConsumableArray"),a=require("../../@babel/runtime/helpers/defineProperty"),i=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,r=s.baseUrl+"/ehr/v2/ehr_basic_data/detail/",l=s.baseUrl+"/ehr/v2/ehr_basic_data/update/",o=s.baseUrl+"/ehr/v2/ehr_basic_data/create/",u=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,v=s.baseUrl+"/events/newer_task/ehr/has_self/";Page({data:{btnText:"保存并返回",btnLoading:!1,ehrId:null,showForm:!1,relation:"",relationList:[{label:"自己",value:"自己"},{label:"父母",value:"父母"},{label:"子女",value:"子女"},{label:"爱人",value:"爱人"},{label:"其他",value:"其他"}],sexList:[{name:"男",value:"m"},{name:"女",value:"f"}],nowDay:"",heightList:[],waistlineList:[],changeData:[],showData:{name:"",sex:"",bornTime:"",weight:"",relation:"",relationIndex:null,relationLabel:"",height:"",heightIndex:159,heightLabel:"",bmi:"",waistline:"",waistlineIndex:59,waistlineLabel:"",smoke:{smoke:0,smokeYears:"",smokePerDay:"",smokeStr:""},smokeIndex:[0,0,0],drink:{drink:0,drinkYears:"",drinkWineType:"",drinkConsumption:"",drinkStr:""},drinkIndex:[0,0,0,0],chronic:{tagList:[],showInput:!1,remark:""},family:{tagList:[],showInput:!1,remark:""},drug:{tagList:[],showInput:!1,remark:""},food:{tagList:[],showInput:!1,remark:""},badHabit:{tagList:[],showInput:!1,remark:""}},dsYearList:[],smokeList:[[{label:"否",value:0},{label:"是",value:1}],[{label:"",value:""}],[{label:"",value:""}]],smokeNumList:[],drinkList:[[{label:"否",value:0},{label:"是",value:1}],[{label:"",value:""}],[{label:"",value:""}],[{label:"",value:""}]],drinkCategoryList:[{label:"白酒",value:"白酒"},{label:"啤酒",value:"啤酒"},{label:"红酒",value:"红酒"},{label:"以上均有",value:"以上均有"}],drinkAmountList:[{label:"少量",value:"少量"},{label:"适中",value:"适中"},{label:"大量",value:"大量"}],liverList:[{isActive:!1,value:"正常"},{isActive:!1,value:"异常"}],renalList:[{isActive:!1,value:"正常"},{isActive:!1,value:"异常"}],marriedList:[{isActive:!1,value:"未婚"},{isActive:!1,value:"已婚"},{isActive:!1,value:"其他"}],fertilityList:[{isActive:!1,value:"未生育"},{isActive:!1,value:"备孕期"},{isActive:!1,value:"怀孕中"},{isActive:!1,value:"已生育"}],chronicList:[{isActive:!1,value:"暂无"},{isActive:!1,value:"高血压"},{isActive:!1,value:"糖尿病"},{isActive:!1,value:"心脏病"},{isActive:!1,value:"过敏性疾病"},{isActive:!1,value:"哮喘"},{isActive:!1,value:"白癜风"},{isActive:!1,value:"癫痫"},{isActive:!1,value:"其他"}],familyList:[{isActive:!1,value:"暂无"},{isActive:!1,value:"高血压"},{isActive:!1,value:"糖尿病"},{isActive:!1,value:"心脏病"},{isActive:!1,value:"脑梗"},{isActive:!1,value:"癌症"},{isActive:!1,value:"白癜风"},{isActive:!1,value:"癫痫"},{isActive:!1,value:"哮喘"},{isActive:!1,value:"近视"},{isActive:!1,value:"冠心病"},{isActive:!1,value:"脑卒中"},{isActive:!1,value:"血脂异常"},{isActive:!1,value:"慢性阻塞性肺疾病"},{isActive:!1,value:"结核病"},{isActive:!1,value:"肝炎"},{isActive:!1,value:"严重精神障碍"},{isActive:!1,value:"其他"}],drugList:[{isActive:!1,value:"暂无"},{isActive:!1,value:"青霉素"},{isActive:!1,value:"头孢类"},{isActive:!1,value:"破伤风抗毒素"},{isActive:!1,value:"普鲁卡因"},{isActive:!1,value:"地卡因"},{isActive:!1,value:"磺胺类"},{isActive:!1,value:"维生素B1"},{isActive:!1,value:"泛影葡胺"},{isActive:!1,value:"阿司匹林"},{isActive:!1,value:"其他"}],foodList:[{isActive:!1,value:"暂无"},{isActive:!1,value:"芒果"},{isActive:!1,value:"牛奶"},{isActive:!1,value:"坚果类"},{isActive:!1,value:"海鲜"},{isActive:!1,value:"黄瓜"},{isActive:!1,value:"花粉"},{isActive:!1,value:"油漆"},{isActive:!1,value:"动物皮毛"},{isActive:!1,value:"化妆品"},{isActive:!1,value:"其他"}],badHabitList:[{isActive:!1,value:"低头族"},{isActive:!1,value:"久坐"},{isActive:!1,value:"久站"},{isActive:!1,value:"强忍大小便"},{isActive:!1,value:"喝酒"},{isActive:!1,value:"熬夜"},{isActive:!1,value:"跷二郎腿"},{isActive:!1,value:"吸烟"},{isActive:!1,value:"饭后卧床"},{isActive:!1,value:"不常锻炼"},{isActive:!1,value:"如厕玩手机"},{isActive:!1,value:"不喜喝水"},{isActive:!1,value:"其他"}],requiredMap:{relation:"relation",name:"name",sex:"sex",bornTime:"born_time"},ehrSingleMap:{liver:"liver_function",renal:"renal_function",married:"married",fertility:"procreate_status"},ehrMultiMap:{chronic:"chronic_diseases",food:"food_allergic",drug:"drug_allergic",badHabit:"bad_habit",family:"family_illness"},singlePickerMap:{height:"height",relation:"relation",waistline:"waistline"},multiPickerMap:{smoke:"smoke",smoke_per_day:"smokeStr",drink:"drink",drink_consumption:"drinkStr"}},onLoad:function(e){var t=this;"自己"!=e.relation&&this.getRelationData(),i.globalData.appIsLogin.then((function(){t.init(e)}))},init:function(e){this.setStatus(e),this.getDateStr(),this.setHeightRange(),this.setWaistlineRange(),this.setDrinkOrSmokeRange(),this.setSmokeNumList()},getRelationData:function(){var e=this;wx.request({url:v,header:{"Content-Type":"application/json",Cookie:i.globalData.sessionid},method:"GET",success:function(t){t.data&&t.data.has_self&&e.setData({relationList:e.data.relationList.slice(1)})}})},setStatus:function(e){var t=e.type,a=e.ehr_id||"",i=e.relation||"";switch(this.setData({type:t,ehrId:a,relation:i}),t){case"edit":this.getEhrDetail();break;case"add":wx.setNavigationBarTitle({title:"添加档案"}),this.setData({showForm:!0});break;case"rookie_task":u("wxmini_task1"),wx.setNavigationBarTitle({title:"新手任务"}),this.setData({btnText:"保存并进入下一步"}),this.getEhrDetail()}},setChangeData:function(e){if(!e)return!1;var t=this.data.changeData;t.includes(e)||t.push(e),this.setData({changeData:t})},datePickerChangeEvent:function(e){var t=e.currentTarget.dataset.name;this.setChangeData(t);var a=this.data.showData;a[t]=e.detail.value,this.setData({showData:a})},radioChangeEvent:function(e){var t=e.currentTarget.dataset.name;this.setChangeData(t);var a=this.data.showData;a[t]=e.detail.value,this.setData({showData:a})},pickerChangeEvent:function(e){var t=e.currentTarget.dataset.name;this.setChangeData(t);var a=this.data["".concat(t,"List")],i=e.detail.value,s=this.data.showData;s[t]=a[i].value,s["".concat(t,"Label")]=a[i].label,s["".concat(t,"Index")]=i,"height"===t&&(s.bmi=this.setBmi(e.detail.value,s.weight)),this.setData({showData:s})},inputChangeEvent:function(e){var t=e.currentTarget.dataset.name;this.setChangeData(t);var a=this.data.showData;a[t]=e.detail.value,this.setData({showData:a})},weightChangeEvent:function(e){this.setChangeData("weight");var t=this.data.showData;if(!e.detail.value)return t.weight="",t.bmi="",this.setData({showData:t}),"";var a=e.detail.value;if(Number.isNaN(Number(a)))return wx.showModal({title:"提示",content:"体重输入错误，请重新输入",showCancel:!1}),t.weight||"";Number(a)&&Number(a)>250?a=250:String(a).split(".")[1]&&String(a).split(".")[1].length>1&&(a=a.replace(/([0-9]+\.[0-9]{1})[0-9]*/,"$1")),t.weight=a,t.bmi=this.setBmi(t.height,t.weight),this.setData({showData:t})},getDateStr:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),i=e.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(a<10?"0"+a:a);this.setData({nowDay:i})},setHeightRange:function(){for(var e=[],t=1;t<=220;t++)e.push({label:t+"cm",value:t});this.setData({heightList:e})},setWaistlineRange:function(){for(var e=[],t=1;t<=180;t++)e.push({label:"".concat(t,"cm"),value:t});this.setData({waistlineList:e})},setDrinkOrSmokeRange:function(){for(var e=[],t=1;t<=10;t++)e.push({label:"".concat(t,"年"),value:"".concat(t,"年")});e.push({label:"10年以上",value:"10年以上"}),this.setData({dsYearList:e})},setSmokeNumList:function(){for(var e=[],t=1;t<=20;t++)e.push({label:"".concat(t,"根"),value:t});e.push({label:"20根以上",value:21}),this.setData({smokeNumList:e})},bindSmokeColumnChange:function(e){var t=this.data.smokeList,a=this.data.showData,i=this.data.dsYearList,s=this.data.smokeNumList;switch(a.smokeIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:switch(a.smokeIndex[0]){case 0:t[1]=[{label:"",value:""}],t[2]=[{label:"",value:""}];break;case 1:t[1]=i,t[2]=s}a.smokeIndex[1]=0,a.smokeIndex[2]=0;break;case 1:t[2]=s,a.smokeIndex[2]=0}this.setData({smokeList:t,showData:a})},bindSmokeChange:function(e){this.setChangeData("smoke");var t=this.data.smokeList,a=e.detail.value,i=t[0][a[0]].value,s=this.data.showData,n="",r="";1===i?(n=t[1][a[1]].value,r=t[2][a[2]].value,s.smoke.smokeStr=t[2][a[2]].label):s.smoke.smokeStr="否",s.smoke.smoke=i,s.smoke.smokeYears=n,s.smoke.smokePerDay=r,this.setData({showData:s})},bindDrinkColumnChange:function(e){var t=this.data.drinkList,a=this.data.dsYearList,i=this.data.drinkCategoryList,s=this.data.drinkAmountList,n=this.data.showData;switch(n.drinkIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:switch(n.drinkIndex[0]){case 0:t[1]=[{label:"",value:""}],t[2]=[{label:"",value:""}],t[3]=[{label:"",value:""}];break;case 1:t[1]=a,t[2]=i,t[3]=s}n.drinkIndex[1]=0,n.drinkIndex[2]=0,n.drinkIndex[3]=0;break;case 1:t[2]=i,t[3]=s,n.drinkIndex[2]=0,n.drinkIndex[3]=0;break;case 2:t[3]=s,n.drinkIndex[3]=0}this.setData({drinkList:t,showData:n})},bindDrinkChange:function(e){this.setChangeData("drink");var t=this.data.drinkList,a=e.detail.value,i=t[0][a[0]].value,s=this.data.showData,n="",r="",l="";1===i?(n=t[1][a[1]].value,r=t[2][a[2]].value,l=t[3][a[3]].value,s.drink.drinkStr=t[3][a[3]].label):s.drink.drinkStr="否",s.drink.drink=i,s.drink.drinkYears=n,s.drink.drinkWineType=r,s.drink.drinkConsumption=l,this.setData({showData:s})},ehrSingleSelectEvent:function(e){var t=e.currentTarget.dataset,i=t.name,s=t.value,n=t.index;this.setChangeData(i);var r="".concat(i,"List"),l=this.data[r],o=!l[n].isActive,u=this.data.showData;if(o){u[i]=s;for(var v=0;v<l.length;v++)l[v].isActive=v===n}else u[i]="",l[n].isActive=!1;this.setData(a({showData:u},r,l))},ehrMultiSelectEvent:function(e){var t=e.currentTarget.dataset,i=t.name,s=t.value,n=t.index;this.setChangeData(i);var r="".concat(i,"List"),l=this.data[r],o=!l[n].isActive;l[n].isActive=o;var u=this.data.showData,v=u[i];if(o)v.tagList.push(s),"其他"===s&&(v.showInput=!0);else if("其他"===s&&(v.showInput=!1),v.tagList.includes(s)){var c=v.tagList.indexOf(s);v.tagList.splice(c,1)}this.setData(a({showData:u},r,l))},ehrRemarkInputEvent:function(e){var t=e.currentTarget.dataset.name;this.setChangeData(t);var a=this.data.showData;a[t].remark=e.detail.value,this.setData({showData:a})},setBmi:function(e,t){var a=Number(e),i=Number(t);if(!a||-1===a)return 0;var s=i/(a*a)*1e4;return Number.isNaN(Number(s))?0:s.toFixed(1)},getEhrDetail:function(){var e={},t=this;t.data.ehrId&&(e={ehr_id:t.data.ehrId,relation:t.data.relation}),wx.request({url:r,header:{Cookie:i.globalData.sessionid},method:"GET",data:e,success:function(e){e.data.length?t.setEhrInfo(e.data[0]):t.setData({showForm:!0})},fail:function(e){t.setData({showForm:!0}),wx.showToast({title:"数据加载失败请重试",icon:"none"})}})},setEhrInfo:function(e){var t=this.data.showData,a=this.data,i=a.dsYearList,s=a.smokeList,n=a.smokeNumList,r=a.drinkList,l=a.drinkCategoryList,o=a.drinkAmountList,u=this.data,v=(u.liverList,u.renalList,u.marriedList,u.fertilityList,this.data);v.chronicList,v.familyList,v.drugList,v.foodList,v.badHabitList;if(this.setSinglePicker("relation",e.relation,t),t.name=e.name||"",t.sex=e.sex||"",t.bornTime=e.born_time||"",this.setSinglePicker("height",e.height,t),t.weight=-1===e.weight?"":e.weight,t.bmi=this.setBmi(e.height,e.weight),this.setSinglePicker("waistline",e.waistline,t),this.setEhrSingleSelect(e),this.setMutiSelect(e,t),-1!=e.smoke)if(t.smoke.smoke=e.smoke,1===e.smoke){t.smokeIndex[0]=1,s[1]=i,s[2]=n;var c=i.find((function(t){return t.value===e.smoke_years}));c&&(t.smokeIndex[1]=i.indexOf(c));var h=Number(e.smoke_per_day);h>20?(t.smokeIndex[2]=20,t.smoke.smokeStr=n[20].label):(t.smokeIndex[2]=h-1,t.smoke.smokeStr=n[h-1].label)}else t.smoke.smokeStr="否",t.smokeIndex[0]=0;if(-1!=e.drink)if(t.drink.drink=e.drink,1===e.drink){t.drinkIndex[0]=1,r[1]=i,r[2]=l,r[3]=o;var d=i.find((function(t){return t.value===e.drink_years}));d&&(t.drinkIndex[1]=i.indexOf(d));var k=l.find((function(t){return t.value===e.drink_wine_type}));k&&(t.drinkIndex[2]=l.indexOf(k));var m=o.find((function(t){return t.value===e.drink_consumption}));m&&(t.drinkIndex[3]=o.indexOf(m),t.drink.drinkStr=m.label)}else t.drink.drinkStr="否";this.setData({showData:t,smokeList:s,drinkList:r,showForm:!0})},setSinglePicker:function(e,t,a){if(!e||!t)return!1;var i=this.data["".concat(e,"List")],s=i.find((function(e){return e.value===t}));s&&(a[e]=t,a["".concat(e,"Index")]=i.indexOf(s),a["".concat(e,"Label")]=s.label||"")},setEhrSingleSelect:function(e){var t=this,a=this.data.ehrSingleMap,i={},s=function(s){var n=t.data["".concat(s,"List")],r=n.find((function(t){return t.value===e[a[s]]}));r&&(r.isActive=!0),i["".concat(s,"List")]=n};for(var n in a)s(n);this.setData(i)},setMutiSelect:function(a,i){var s=this.data.ehrMultiMap,n={};for(var r in s){var l=a[s[r]];if(l&&l.tag_list){i[r].tagList=t(l.tag_list),l.remark&&(i[r].remark=l.remark,i[r].showInput=!0);var o,u=this.data["".concat(r,"List")],v=e(u);try{for(v.s();!(o=v.n()).done;){var c=o.value;l.tag_list.includes(c.value)&&(c.isActive=!0)}}catch(e){v.e(e)}finally{v.f()}n["".concat(r,"List")]=u}}this.setData(n)},checkValidate:function(e){var t=Object.keys(e);if("edit"===this.data.type){if(t.includes("relation")&&!e.relation)return wx.showToast({title:"请选择关系",icon:"none"}),!1;if(t.includes("name")&&!e.name)return wx.showToast({title:"请填写姓名",icon:"none"}),!1;if(t.includes("sex")&&!e.sex)return wx.showToast({title:"请选择性别",icon:"none"}),!1;if(t.includes("born_time")&&!e.born_time)return wx.showToast({title:"请选择出生日期",icon:"none"}),!1}else{if(!e.relation)return wx.showToast({title:"请选择关系",icon:"none"}),!1;if(!e.name)return wx.showToast({title:"请填写姓名",icon:"none"}),!1;if(!e.sex)return wx.showToast({title:"请选择性别",icon:"none"}),!1;if(!e.born_time)return wx.showToast({title:"请选择出生日期",icon:"none"}),!1}return!t.includes("weight")||!Number.isNaN(Number(e.weight))||(wx.showToast({title:"体重只能为数字类型",icon:"none"}),!1)},submitForm:function(){var e=this;this.setData({btnLoading:!0});var t=this.data.type,a=this.setSubmitData();if(!this.checkValidate(a))return this.setData({btnLoading:!1}),!1;var s="";"edit"===t?(a.ehr_id=this.data.ehrId,s=l):s=o,wx.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:i.globalData.sessionid},method:"POST",data:n(a),success:function(e){e.data.success||0===e.data.error_code?wx.showToast({title:"档案保存成功",mask:!0,success:function(){if("rookie_task"==t){var e="../rookie_task_third/index";u("wxmini_task2"),setTimeout((function(){wx.redirectTo({url:e})}),1500)}else{e="../health_record_full/index";setTimeout((function(){wx.navigateBack({delta:1})}),1500)}}}):wx.showToast({title:e.error_msg||"数据提交失败请重试",icon:"none"})},fail:function(e){wx.showToast({title:"数据提交出错请重试",icon:"none"})},complete:function(){e.setData({btnLoading:!1})}})},setSubmitData:function(){var t,a=Object.assign({},this.data.showData),i={},s=this.data,n=s.requiredMap,r=s.ehrSingleMap,l=s.ehrMultiMap,o=s.singlePickerMap,u=(s.multiPickerMap,s.changeData),v=e(u);try{for(v.s();!(t=v.n()).done;){var c=t.value;if(Object.keys(n).includes(c))i[n[c]]=a[c];else if(Object.keys(o).includes(c))i[o[c]]=a[c];else if(Object.keys(r).includes(c))i[r[c]]=a[c];else if(Object.keys(l).includes(c)){var h=a[c],d=l[c],k={};if(h.tagList.includes("其他")&&!h.remark){var m=h.tagList.indexOf("其他");h.tagList.splice(m,1)}k.tag_list=h.tagList,k.remark=h.remark,i[d]=JSON.stringify(k)}else if("smoke"===c){var g=a.smoke;i.smoke=g.smoke,g.smoke&&(i.smoke_years=g.smokeYears,i.smoke_per_day=g.smokePerDay)}else if("drink"===c){var f=a.drink;i.drink=f.drink,f.drink&&(i.drink_consumption=f.drinkConsumption,i.drink_wine_type=f.drinkWineType,i.drink_years=f.drinkYears)}else i[c]="weight"===c?a[c]||0:a[c]}}catch(e){v.e(e)}finally{v.f()}return i}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_edit/index.js'});require("pages/health_record_edit/index.js");$gwx_XC_128=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_128 || [];
function gz$gwx_XC_128_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_128_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_128_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_128_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'noData']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_128_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_128_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_128=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_128=true;
var x=['./pages/health_record_full/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_128_1()
var oV5=_v()
_(r,oV5)
if(_oz(z,0,e,s,gg)){oV5.wxVkey=1
}
oV5.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_128";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_128();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/health_record_full/index.wxml'] = [$gwx_XC_128, './pages/health_record_full/index.wxml'];else __wxAppCode__['pages/health_record_full/index.wxml'] = $gwx_XC_128( './pages/health_record_full/index.wxml' );
	;__wxRoute = "pages/health_record_full/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/health_record_full/index.js";define("pages/health_record_full/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=a.baseUrl+"/api/patient_profile/";Page({data:{record_list:null,noData:!1,partner:""},onShow:function(){var a=this;t.globalData.appIsLogin.then((function(){a.init()}))},init:function(){var n=this;wx.request({url:e,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"GET",success:function(t){var e=t.data;e&&e.length?(e.forEach((function(t){t.redirect_url=encodeURIComponent("".concat(a.baseUrl).concat(t.redirect_url))})),n.setData({record_list:e,noData:!1})):n.setData({noData:!0})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/health_record_full/index.js'});require("pages/health_record_full/index.js");$gwx_XC_129=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_129 || [];
function gz$gwx_XC_129_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_129_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_129_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_129_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'search-doctor-list-wrap'])
Z([[7],[3,'searchQuery']])
Z([[7],[3,'associateList']])
Z([3,'index'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'text']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'image']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'query']]],[[6],[[7],[3,'historyList']],[3,'length']]])
Z([3,'history-content'])
Z([[7],[3,'historyListShow']])
Z(z[3])
Z([[2,'!'],[[7],[3,'isShowAllHistory']]])
Z([[7],[3,'historyList']])
Z(z[3])
Z([[7],[3,'isShowAllHistory']])
Z([[7],[3,'isShowExpandBtn']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'query']]],[[6],[[7],[3,'hotSearchList']],[3,'length']]])
Z([[7],[3,'hotSearchList']])
Z(z[3])
Z([3,'search'])
Z([3,'history-item flex-item'])
Z([[6],[[7],[3,'item']],[3,'type']])
Z([3,'热搜词'])
Z([3,'click_hot_search'])
Z([[6],[[7],[3,'item']],[3,'url']])
Z([[6],[[7],[3,'item']],[3,'recommend_word']])
Z([[6],[[7],[3,'item']],[3,'icon']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_129_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_129_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_129=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_129=true;
var x=['./pages/home_search/doctor_search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_129_1()
var aX5=_n('view')
_rz(z,aX5,'class',0,e,s,gg)
var tY5=_v()
_(aX5,tY5)
if(_oz(z,1,e,s,gg)){tY5.wxVkey=1
var eZ5=_v()
_(tY5,eZ5)
var b15=function(x35,o25,o45,gg){
var c65=_v()
_(o45,c65)
if(_oz(z,4,x35,o25,gg)){c65.wxVkey=1
}
var h75=_v()
_(o45,h75)
if(_oz(z,5,x35,o25,gg)){h75.wxVkey=1
}
c65.wxXCkey=1
h75.wxXCkey=1
return o45
}
eZ5.wxXCkey=2
_2z(z,2,b15,e,s,gg,eZ5,'item','index','index')
}
else{tY5.wxVkey=2
var o85=_n('view')
var c95=_v()
_(o85,c95)
if(_oz(z,6,e,s,gg)){c95.wxVkey=1
var lA6=_n('view')
_rz(z,lA6,'class',7,e,s,gg)
var tC6=_v()
_(lA6,tC6)
var eD6=function(oF6,bE6,xG6,gg){
var fI6=_v()
_(xG6,fI6)
if(_oz(z,10,oF6,bE6,gg)){fI6.wxVkey=1
}
fI6.wxXCkey=1
return xG6
}
tC6.wxXCkey=2
_2z(z,8,eD6,e,s,gg,tC6,'item','index','index')
var cJ6=_v()
_(lA6,cJ6)
var hK6=function(cM6,oL6,oN6,gg){
var aP6=_v()
_(oN6,aP6)
if(_oz(z,13,cM6,oL6,gg)){aP6.wxVkey=1
}
aP6.wxXCkey=1
return oN6
}
cJ6.wxXCkey=2
_2z(z,11,hK6,e,s,gg,cJ6,'item','index','index')
var aB6=_v()
_(lA6,aB6)
if(_oz(z,14,e,s,gg)){aB6.wxVkey=1
}
aB6.wxXCkey=1
_(c95,lA6)
}
var o05=_v()
_(o85,o05)
if(_oz(z,15,e,s,gg)){o05.wxVkey=1
var tQ6=_v()
_(o05,tQ6)
var eR6=function(oT6,bS6,xU6,gg){
var fW6=_mz(z,'view',['bindtap',18,'class',1,'data-jump',2,'data-type',3,'data-typesearch',4,'data-url',5,'data-value',6],[],oT6,bS6,gg)
var cX6=_v()
_(fW6,cX6)
if(_oz(z,25,oT6,bS6,gg)){cX6.wxVkey=1
}
cX6.wxXCkey=1
_(xU6,fW6)
return xU6
}
tQ6.wxXCkey=2
_2z(z,16,eR6,e,s,gg,tQ6,'item','index','index')
}
c95.wxXCkey=1
o05.wxXCkey=1
_(tY5,o85)
}
tY5.wxXCkey=1
_(r,aX5)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_129";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_129();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/home_search/doctor_search/index.wxml'] = [$gwx_XC_129, './pages/home_search/doctor_search/index.wxml'];else __wxAppCode__['pages/home_search/doctor_search/index.wxml'] = $gwx_XC_129( './pages/home_search/doctor_search/index.wxml' );
	;__wxRoute = "pages/home_search/doctor_search/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/home_search/doctor_search/index.js";define("pages/home_search/doctor_search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../@babel/runtime/helpers/objectSpread2");Component({properties:{historyList:{type:Array,value:[]},hotSearchList:{type:Array,value:[]},associateList:{type:Array,value:[]},searchQuery:{type:String,value:""},isInputing:{type:Boolean,value:!1}},observers:{isInputing:function(t){t&&this.getShowExpandBtn()}},data:{visible:!0,historyListShow:[],isShowAllHistory:!1,isShowExpandBtn:!1,isComputed:!1},lifetimes:{attached:function(){this.triggerEvent("getHistoryListEvent"),this.setData({historyListShow:this.data.historyList}),this.getShowExpandBtn()}},methods:{search:function(t){var e=(t.currentTarget||{}).dataset,i=void 0===e?{}:e;this.triggerEvent("confirmEvent",{query:i.value,type:i.type,jump:i.jump,url:i.url,typesearch:i.typesearch})},switchHistory:function(){this.setData({isShowAllHistory:!this.data.isShowAllHistory})},refreshHot:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"热门搜索-换一换",page_readable_name:"大搜中间页"}),this.triggerEvent("refresh-hot")},getShowExpandBtn:function(){var t=this;console.log("我被调用了");var e=this,i=0,s=0,o=this.createSelectorQuery().selectAll(".history-content>.history-item");o&&o.boundingClientRect((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(o),o.forEach((function(e,o){e.left>=13&&e.left<=26&&3===++s&&(i=o-1,t.setData({isShowExpandBtn:!0}))})),i>0?t.setData({historyListShow:e.data.historyList.slice(0,i+1)}):t.setData({historyListShow:e.data.historyList,isComputed:!0}),console.log(t.data.historyListShow,t.data.isShowAllHistory)})).exec()},deleteHistoryList:function(){console.log("删除"),this.triggerEvent("deleteHistoryEvent")},clickAssociationalWord:function(t){var e=(t.currentTarget||{}).dataset,i=void 0===e?{}:e;this.triggerEvent("associationalEvent",{query:i.value,type:i.type,typesearch:"click_suggestion"})},goToQuickAsk:function(){var e=JSON.parse(this.data.associateList.filter((function(t){return"image"===t.type}))[0].cy_redirect.click_info);console.log(e),getApp().sensors.track(e.click_event,t(t({},e),{},{app:"weixin_mini"})),wx.navigateTo({url:"/pages/inquery/inquery?initial_content=".concat(this.data.searchQuery)})}}});
},{isPage:false,isComponent:true,currentFile:'pages/home_search/doctor_search/index.js'});require("pages/home_search/doctor_search/index.js");$gwx_XC_130=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_130 || [];
function gz$gwx_XC_130_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_130_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_130_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_130_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[[2,'&&'],[[7],[3,'isSearchMiddle']],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'visible']],[1,'ban-scroll'],[1,'']]])
Z([3,'search-main'])
Z([[2,'!'],[[7],[3,'shouldWebviewShow']]])
Z([[7],[3,'visible']])
Z([3,'search-middle-content'])
Z([[7],[3,'associateList']])
Z([3,'search'])
Z(z[6])
Z([3,'deleteHistoryEvent'])
Z([3,'getHistoryList'])
Z([3,'inputQuery'])
Z([3,'refreshHot'])
Z([[7],[3,'historyList']])
Z([[7],[3,'hotSearchList']])
Z([[7],[3,'isInputing']])
Z([[7],[3,'query']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'query']]],[[7],[3,'ad']]],[[6],[[7],[3,'ad']],[3,'image']]])
Z([[7],[3,'shouldWebviewShow']])
Z(z[6])
Z([3,'https://staff.chunyu.mobi/@/media/images/2022/05/12/696d/bdf52efd775d_w390_h288_.png'])
Z([[7],[3,'loading']])
Z([3,'没有找到相关医生，换个条件试试吧?'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_130_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_130_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_130=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_130=true;
var x=['./pages/home_search/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_130_1()
var oZ6=_mz(z,'view',['class',0,'id',1],[],e,s,gg)
var c16=_v()
_(oZ6,c16)
if(_oz(z,2,e,s,gg)){c16.wxVkey=1
}
var o26=_v()
_(oZ6,o26)
if(_oz(z,3,e,s,gg)){o26.wxVkey=1
var a46=_n('view')
_rz(z,a46,'class',4,e,s,gg)
var e66=_mz(z,'doctor-search',['associateList',5,'bind:associationalEvent',1,'bind:confirmEvent',2,'bind:deleteHistoryEvent',3,'bind:getHistoryListEvent',4,'bind:inputEvent',5,'bind:refresh-hot',6,'historyList',7,'hotSearchList',8,'isInputing',9,'searchQuery',10],[],e,s,gg)
_(a46,e66)
var t56=_v()
_(a46,t56)
if(_oz(z,16,e,s,gg)){t56.wxVkey=1
}
t56.wxXCkey=1
_(o26,a46)
}
var l36=_v()
_(oZ6,l36)
if(_oz(z,17,e,s,gg)){l36.wxVkey=1
}
var b76=_mz(z,'cy-loading',['from',18,'imageSrc',1,'loading',2,'noResultTip',3],[],e,s,gg)
_(oZ6,b76)
c16.wxXCkey=1
o26.wxXCkey=1
o26.wxXCkey=3
l36.wxXCkey=1
_(r,oZ6)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_130";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_130();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/home_search/index.wxml'] = [$gwx_XC_130, './pages/home_search/index.wxml'];else __wxAppCode__['pages/home_search/index.wxml'] = $gwx_XC_130( './pages/home_search/index.wxml' );
	;__wxRoute = "pages/home_search/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/home_search/index.js";define("pages/home_search/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/objectSpread2"),i=require("../../@babel/runtime/helpers/toConsumableArray"),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),s=require("../../1D735BD7829A079C7B1533D0C5CC7B70.js"),r=e(require("../../7C7490B0829A079C1A12F8B759DC7B70.js")),o=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),c="".concat(a.baseUrl,"/api/v8/search/new_suggestion/");Page({data:{query:"",search_results:[],loading:!0,visible:!0,isInputing:!1,lastSearchQuery:"",historyList:[],hotSearchList:[],ad:{},associateList:[],intention:"",synonym_query:"",fromType:"",input_type:"",shouldWebviewShow:!1,searchUrl:"",fromVisitPage:"",placeholder:"",hasInputFocused:!0,hasPlaceholderSearch:!1,hasIcon:!1},onLoad:function(e){var t=e.query||"",i=e.force_visible||"",a=e.from_type||"",s=e.is_force||0,r=e.from_visit_page||e.from_type||"",o=1===Number(e.has_icon);this.getHotHistoryList(),this.globalDebounce=n.debounce(this.getAssociationWord,400),this.setData({query:t,visible:!t,is_force:s,fromVisitPage:r,placeholder:e.placeholder||"输入症状、疾病、医院、科室、医生",hasPlaceholderSearch:!!e.placeholder,hasIcon:o}),i&&this.setData({visible:!0}),a&&this.setData({input_type:a}),!this.data.visible&&t&&this.generateSearchUrl(t)},onShow:function(){this.setData({hasInputFocused:!0})},handleFocus:function(){this.setData({hasInputFocused:!0}),this.data.query&&this.getAssociationWord(this.data.query)},handleBlur:function(){this.setData({hasInputFocused:!1})},refreshHot:function(){this.getHotHistoryList()},generateSearchUrl:function(e){var t={from_type:this.data.input_type||""};"广告词"===this.data.input_type&&this.data.hasIcon&&(t.is_show="有小标");var i=JSON.stringify(t),s=wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),r=Date.now(),o="".concat(a.baseUrl,"/api/v8/home_search/?query=").concat(e,"&app=weixin_mini&is_force=").concat(this.data.is_force,"&device_id=").concat(s,"&cyudId=").concat(s,"&click_time=").concat(r,"&click_info=").concat(i,"&from_visit_page=").concat(this.data.fromVisitPage),c=n.setWebviewUrlWithLoginCredentials(o);this.setData({searchUrl:c,shouldWebviewShow:!0})},search:function(e){var t=this.data.historyList,a=void 0===t?[]:t,s=e.detail||{},r=s.query,o=void 0===r?"":r,n=s.jump,c=void 0===n?"":n,h=s.url,u=void 0===h?"":h,l=s.typesearch,d=void 0===l?"":l,p={};"placeholder"===d?p.input_type="广告词":"click_suggestion"===d?p.input_type="推荐词":"click_history"===d?p.input_type="历史词":"click_hot_search"===d?(p.input_type="热搜词",getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"热门搜索",click_position_value:o,page_readable_name:"大搜中间页"})):p.input_type="query",o&&a.unshift(o),(a=i(new Set(a))).length>15&&a.pop(),this.setData({historyList:a,isInputing:!1,query:o,visible:!1,isCanScrollPage:!0,lastSearchQuery:o,input_type:p.input_type}),wx.setStorageSync("HISTORYLIST",JSON.stringify(a)),"search"!==c&&c&&u?"h5"===c?wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(u))}):wx.redirectTo({url:u}):this.generateSearchUrl(o)},onShareAppMessage:function(){return{path:"/pages/home_search/index?query=".concat(this.data.query)}},rawSearch:function(e){if(this.data.hasPlaceholderSearch&&!e)this.search({detail:{query:this.data.placeholder,type:"query",typesearch:"placeholder"}});else{if(!e)return void wx.showToast({title:"搜索内容不能为空",icon:"none"});this.search({detail:{query:e,type:"query",typesearch:"click_query"}})}},confirmSearch:function(e){this.rawSearch(e.detail.value)},confirmSearchReplace:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"大搜搜索",page_readable_name:"春雨首页"}),this.rawSearch(this.data.query)},focus:function(){this.setData({visible:!0}),this.data.query&&this.getAssociationWord(this.data.query)},input:function(e){this.setData({query:e.detail.value,isInputing:!0,visible:!0}),this.globalDebounce(e.detail.value)},cancelSearch:function(){this.data.visible?this.setData({visible:!1},(function(){wx.navigateBack({delta:1})})):this.setData({visible:!1,query:this.data.lastSearchQuery||this.data.query})},getHistoryList:function(){var e=JSON.parse(wx.getStorageSync("HISTORYLIST")||"[]");this.setData({historyList:e})},deleteHistoryEvent:function(){console.log("删除历史记录了"),this.setData({historyList:[]}),wx.setStorageSync("HISTORYLIST",JSON.stringify([]))},getHotHistoryList:function(){var e=this;(0,r.default)("/api/search/recommend_tag/",{from_type:"home_search",version:s.productionVersion}).then((function(t){0===t.error_code?e.setData({ad:t.data.ad,hotSearchList:t.data.hot_search_words}):wx.showToast({icon:"none",title:t.error_msg||"搜索热词获取失败"})})).catch((function(e){wx.showToast({icon:"none",title:e.error_msg||"搜索热词获取失败"})}))},getAssociationWord:function(e){if(e){var t=this;(0,o.default)({url:c,method:"GET",data:{type:"big_search",query:e},success:function(e){var i=e.data,a=void 0===i?{}:i;0===a.error_no?t.setData({associateList:a.data}):(t.setData({associateList:[]}),wx.showToast({icon:"none",title:"加载出错，请重试"}))},fail:function(){wx.showToast({icon:"none",title:"网络出错，请重试"})}})}else this.data.associateList=[]},goToH5Ad:function(){var e=JSON.parse(this.data.ad.cy_redirect.click_info);getApp().sensors.track(e.click_event,t(t({},e),{},{app:"weixin_mini"})),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(this.data.ad.cy_redirect.target_scheme))})}});
},{isPage:true,isComponent:true,currentFile:'pages/home_search/index.js'});require("pages/home_search/index.js");$gwx_XC_131=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_131 || [];
function gz$gwx_XC_131_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_131_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([3,'hospital-info-wrap'])
Z([[7],[3,'hasInfo']])
Z([[2,'&&'],[[7],[3,'appointments']],[[6],[[7],[3,'appointments']],[3,'length']]])
Z([[6],[[7],[3,'clinic_appointment_difficulty']],[3,'length']])
Z([[7],[3,'clinic_appointment_difficulty']])
Z([3,'index'])
Z([[2,'>'],[[6],[[7],[3,'appointments']],[3,'length']],[1,1]])
Z([[6],[[6],[[7],[3,'item']],[3,'description']],[3,'length']])
Z([[2,'>'],[[6],[[7],[3,'clinic_appointment_difficulty']],[3,'length']],[1,2]])
Z([[2,'&&'],[[7],[3,'onlineDoctors']],[[6],[[7],[3,'onlineDoctors']],[3,'length']]])
Z([[7],[3,'hasMoreDoctors']])
Z([[6],[[7],[3,'hospitalInfo']],[3,'description']])
Z([[7],[3,'showAuthorize']])
Z([3,'loginFail'])
Z([3,'loginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_131_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_131_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_131=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_131=true;
var x=['./pages/hospital_info/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_131_1()
var x96=_v()
_(r,x96)
if(_oz(z,0,e,s,gg)){x96.wxVkey=1
var fA7=_n('view')
_rz(z,fA7,'class',1,e,s,gg)
var cB7=_v()
_(fA7,cB7)
if(_oz(z,2,e,s,gg)){cB7.wxVkey=1
var hC7=_v()
_(cB7,hC7)
if(_oz(z,3,e,s,gg)){hC7.wxVkey=1
var oF7=_v()
_(hC7,oF7)
if(_oz(z,4,e,s,gg)){oF7.wxVkey=1
var lG7=_n('view')
var tI7=_v()
_(lG7,tI7)
var eJ7=function(oL7,bK7,xM7,gg){
var fO7=_v()
_(xM7,fO7)
if(_oz(z,7,oL7,bK7,gg)){fO7.wxVkey=1
var cP7=_v()
_(fO7,cP7)
if(_oz(z,8,oL7,bK7,gg)){cP7.wxVkey=1
}
cP7.wxXCkey=1
}
fO7.wxXCkey=1
return xM7
}
tI7.wxXCkey=2
_2z(z,5,eJ7,e,s,gg,tI7,'item','index','index')
var aH7=_v()
_(lG7,aH7)
if(_oz(z,9,e,s,gg)){aH7.wxVkey=1
}
aH7.wxXCkey=1
_(oF7,lG7)
}
oF7.wxXCkey=1
}
var oD7=_v()
_(cB7,oD7)
if(_oz(z,10,e,s,gg)){oD7.wxVkey=1
var hQ7=_v()
_(oD7,hQ7)
if(_oz(z,11,e,s,gg)){hQ7.wxVkey=1
}
hQ7.wxXCkey=1
}
var cE7=_v()
_(cB7,cE7)
if(_oz(z,12,e,s,gg)){cE7.wxVkey=1
}
hC7.wxXCkey=1
oD7.wxXCkey=1
cE7.wxXCkey=1
}
else{cB7.wxVkey=2
}
cB7.wxXCkey=1
_(x96,fA7)
}
var o06=_v()
_(r,o06)
if(_oz(z,13,e,s,gg)){o06.wxVkey=1
var oR7=_mz(z,'cy-authorize',['bindloginFail',14,'bindloginSuccess',1],[],e,s,gg)
_(o06,oR7)
}
x96.wxXCkey=1
o06.wxXCkey=1
o06.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_131";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_131();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/hospital_info/index.wxml'] = [$gwx_XC_131, './pages/hospital_info/index.wxml'];else __wxAppCode__['pages/hospital_info/index.wxml'] = $gwx_XC_131( './pages/hospital_info/index.wxml' );
	;__wxRoute = "pages/hospital_info/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/hospital_info/index.js";define("pages/hospital_info/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/search/hospital/hospital_detail/",a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{isLogin:!1,showAuthorize:!1,hospitalId:0,rankInfo:[],shareInfo:{},appointments:[],hasMoreDoctors:!1,hospitalInfo:{},onlineDoctors:[],hasInfo:!0,rankControlText:"查看更多",showAllRank:!1,isShare:!1,inviterUserId:0,hospitalName:"",showAllAppointment:!1,difficutyControlText:"查看全部挂号难度",clinic_appointment_difficulty:[],objContainer:{}},onLoad:function(o){var a=this,i=o.hospitalId||0;o.hospitalName&&wx.setNavigationBarTitle({title:"".concat(o.hospitalName," - 春雨医生")}),this.setData({isShare:"true"===o.share,inviterUserId:o.inviterUserId||0,hospitalName:o.hospitalName||"",hospitalId:i}),t.globalData.appIsLogin.then((function(){a.loginSuccess()}),(function(){a.setData({isLogin:!1,showAuthorize:!0})}))},jumpQa:function(){a("AppClick",{click_position:"医院主页-温馨提示",platform_source:"weixin_mini"}),wx.navigateTo({url:"../fast_qa/index"})},onReady:function(){},onShow:function(){},loginSuccess:function(){this.setData({isLogin:!0,showAuthorize:!1}),this.getHospitalInfo();var t=this.data,o=t.isShare,i=t.inviterUserId,n={page_title:"找医院-医院主页",platform_source:"weixin_mini",hospital_name:t.hospitalName};o&&(n.inviter_user_id=i),a("PageView",n)},loginFail:function(){console.log("授权失败")},getHospitalInfo:function(){var a=this;wx.request({url:o,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{hospital_id:a.data.hospitalId,from_wx_mini:1,is_json:1,partner:t.globalData.partner},success:function(t){if(0===t.data.error_code){var o=t.data.hospital_info||{},i=t.data.rank_info||[],n=t.data.share_info||{},e=t.data.appointments||[],s=t.data.clinic_appointment_difficulty||[],r=t.data.is_more||!1,l=t.data.online_doctors||[],c=o.description||"",h=!1;h=!!(e.length||l.length||c);var p=[],d={};for(var f in e.forEach((function(t){d[t.channel]||(d[t.channel]=[]),d[t.channel].push(t.contact)})),d)p.push(f),d[f]=d[f].join("、");a.setData({objContainer:d,markArr:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩"],clinic_appointment_difficulty:s,hospitalInfo:o,rankInfo:i,shareInfo:n,appointments:e,hasMoreDoctors:r,onlineDoctors:l,hasInfo:h,keysArr:p})}else wx.showToast({title:t.data.error_msg||"医院信息请求失败",icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:"医院信息请求失败",icon:"none",duration:2e3}),console.log("error in get hospital info:",t)}})},rankControl:function(){var t=!this.data.showAllRank,o=t?"收起更多":"查看全部";this.setData({showAllRank:t,rankControlText:o})},toggleDifficuty:function(){var t=!this.data.showAllAppointment,o=t?"收起挂号难度":"查看全部挂号难度";this.setData({showAllAppointment:t,difficutyControlText:o})},goDoctorList:function(){var t=this.data.hospitalInfo.name||"";wx.navigateTo({url:"/pages/find_doctor_list/index?query=".concat(t)})},goDoctorMain:function(t){var o=t.currentTarget.dataset.id||"";wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(o)})},goHosIntro:function(){var t=this.data.hospitalInfo,o=t.id,a=void 0===o?"":o,i=t.name,n=void 0===i?"":i;wx.navigateTo({url:"/pages/hospital_intro/index?hospitalId=".concat(a,"&hospitalName=").concat(n)})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var t=this.data,o=t.shareInfo,a=t.hospitalName,i=t.hospitalId,n=o.title||a||"",e="/pages/hospital_info/index?share=true&hospitalId=".concat(i,"&inviterUserId=").concat(o.user_id,"&hospitalName=").concat(a);return console.log("share-title:",n),console.log("share-path:",e),{title:n,path:e}}});
},{isPage:true,isComponent:true,currentFile:'pages/hospital_info/index.js'});require("pages/hospital_info/index.js");$gwx_XC_132=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_132 || [];
function gz$gwx_XC_132_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_132_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_132_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_132_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([3,'hospital-intro-wrap'])
Z([[7],[3,'description']])
Z([[7],[3,'address']])
Z([[7],[3,'roadmap']])
Z([[7],[3,'phone']])
Z([[7],[3,'showAuthorize']])
Z([3,'loginFail'])
Z([3,'loginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_132_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_132_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_132=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_132=true;
var x=['./pages/hospital_intro/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_132_1()
var oT7=_v()
_(r,oT7)
if(_oz(z,0,e,s,gg)){oT7.wxVkey=1
var aV7=_n('view')
_rz(z,aV7,'class',1,e,s,gg)
var tW7=_v()
_(aV7,tW7)
if(_oz(z,2,e,s,gg)){tW7.wxVkey=1
}
var eX7=_v()
_(aV7,eX7)
if(_oz(z,3,e,s,gg)){eX7.wxVkey=1
var oZ7=_v()
_(eX7,oZ7)
if(_oz(z,4,e,s,gg)){oZ7.wxVkey=1
}
oZ7.wxXCkey=1
}
var bY7=_v()
_(aV7,bY7)
if(_oz(z,5,e,s,gg)){bY7.wxVkey=1
}
tW7.wxXCkey=1
eX7.wxXCkey=1
bY7.wxXCkey=1
_(oT7,aV7)
}
var lU7=_v()
_(r,lU7)
if(_oz(z,6,e,s,gg)){lU7.wxVkey=1
var x17=_mz(z,'cy-authorize',['bindloginFail',7,'bindloginSuccess',1],[],e,s,gg)
_(lU7,x17)
}
oT7.wxXCkey=1
lU7.wxXCkey=1
lU7.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_132";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_132();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/hospital_intro/index.wxml'] = [$gwx_XC_132, './pages/hospital_intro/index.wxml'];else __wxAppCode__['pages/hospital_intro/index.wxml'] = $gwx_XC_132( './pages/hospital_intro/index.wxml' );
	;__wxRoute = "pages/hospital_intro/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/hospital_intro/index.js";define("pages/hospital_intro/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/search/hospital/hospital_intro/",a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{isLogin:!1,showAuthorize:!1,hospitalId:0,desControlText:"展开全部",showAllDesc:!1,description:"",address:"",roadmap:"",phone:"",shareInfo:{},isShare:!1,inviterUserId:0},jumpQa:function(){a("AppClick",{click_position:"医院介绍页-温馨提示",platform_source:"weixin_mini"}),wx.navigateTo({url:"../fast_qa/index"})},onLoad:function(o){var a=this,i=o.hospitalId||0;o.hospitalName&&wx.setNavigationBarTitle({title:"".concat(o.hospitalName," - 春雨医生")}),this.setData({isShare:"true"===o.share,inviterUserId:o.inviterUserId||0,hospitalName:o.hospitalName||"",hospitalId:i}),t.globalData.appIsLogin.then((function(){a.loginSuccess()}),(function(){a.setData({isLogin:!1,showAuthorize:!0})}))},onReady:function(){},onShow:function(){},loginSuccess:function(){this.setData({isLogin:!0,showAuthorize:!1}),this.getHospitalIntro();var t=this.data,o=t.isShare,i=t.inviterUserId,e={page_title:"找医院-医院介绍",platform_source:"weixin_mini",hospital_name:t.hospitalName};o&&(e.inviter_user_id=i),a("PageView",e)},loginFail:function(){console.log("授权失败")},getHospitalIntro:function(){var a=this;wx.request({url:o,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{hospital_id:a.data.hospitalId,from_wx_mini:1,is_json:1,partner:t.globalData.partner},success:function(t){if(0===t.data.error_code){var o=t.data.description||"",i=t.data.address||"",e=t.data.roadmap||"",s=t.data.phone||"",n=t.data.share_info||{};a.setData({description:o,address:i,roadmap:e,phone:s,shareInfo:n})}else wx.showToast({title:t.data.error_msg||"医院信息请求失败",icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:"医院信息请求失败",icon:"none",duration:2e3}),console.log("error in get hospital info:",t)}})},descControl:function(){var t=!this.data.showAllDesc,o=t?"收起":"展开全部";this.setData({showAllDesc:t,desControlText:o})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var t=this.data,o=t.shareInfo,a=t.hospitalName,i=t.hospitalId,e=o.title||a||"",s="/pages/hospital_intro/index?share=true&hospitalId=".concat(i,"&inviterUserId=").concat(o.user_id,"&hospitalName=").concat(a);return console.log("share-title:",e),console.log("share-path:",s),{title:e,path:s}}});
},{isPage:true,isComponent:true,currentFile:'pages/hospital_intro/index.js'});require("pages/hospital_intro/index.js");$gwx_XC_133=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_133 || [];
function gz$gwx_XC_133_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_133_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_133_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_133_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([a,[3,'hospital-list-wrap '],[[2,'?:'],[[7],[3,'showMask']],[1,'hidden'],[1,'']]])
Z([3,'searchKeyWord'])
Z([3,'inputValue'])
Z([3,'输入医院、地区、科室、疾病'])
Z([[6],[[7],[3,'queryInfo']],[3,'query']])
Z([[6],[[7],[3,'queryInfo']],[3,'clinicName']])
Z([[2,'&&'],[[7],[3,'hospitalList']],[[6],[[7],[3,'hospitalList']],[3,'length']]])
Z([3,'hospital'])
Z([[7],[3,'hospitalList']])
Z([3,'index'])
Z([3,'goHosInfo'])
Z([3,'hospital-list__item'])
Z([[7],[3,'hospital']])
Z([[6],[[7],[3,'hospital']],[3,'detail_rank']])
Z(z[7])
Z([[7],[3,'dependcyShow']])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'queryInfo']],[3,'currentPage']],[1,1]],[[2,'!'],[[6],[[7],[3,'hospitalList']],[3,'length']]]])
Z([3,'upToTopClick'])
Z([[7],[3,'loading']])
Z([[7],[3,'showAuthorize']])
Z([3,'loginFail'])
Z([3,'loginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_133_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_133_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_133=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_133=true;
var x=['./pages/hospital_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_133_1()
var f37=_v()
_(r,f37)
if(_oz(z,0,e,s,gg)){f37.wxVkey=1
var h57=_n('view')
_rz(z,h57,'class',1,e,s,gg)
var a07=_mz(z,'cy-search',['bind:confirmEvent',2,'bind:inputEvent',1,'placeholder',2,'query',3],[],e,s,gg)
_(h57,a07)
var o67=_v()
_(h57,o67)
if(_oz(z,6,e,s,gg)){o67.wxVkey=1
}
var c77=_v()
_(h57,c77)
if(_oz(z,7,e,s,gg)){c77.wxVkey=1
var tA8=_v()
_(c77,tA8)
var eB8=function(oD8,bC8,xE8,gg){
var fG8=_mz(z,'view',['bindtap',11,'class',1,'data-hospital',2],[],oD8,bC8,gg)
var cH8=_v()
_(fG8,cH8)
if(_oz(z,14,oD8,bC8,gg)){cH8.wxVkey=1
}
cH8.wxXCkey=1
_(xE8,fG8)
return xE8
}
tA8.wxXCkey=2
_2z(z,9,eB8,e,s,gg,tA8,'hospital','index','index')
}
var o87=_v()
_(h57,o87)
if(_oz(z,15,e,s,gg)){o87.wxVkey=1
var hI8=_v()
_(o87,hI8)
if(_oz(z,16,e,s,gg)){hI8.wxVkey=1
}
hI8.wxXCkey=1
}
var l97=_v()
_(h57,l97)
if(_oz(z,17,e,s,gg)){l97.wxVkey=1
}
o67.wxXCkey=1
c77.wxXCkey=1
o87.wxXCkey=1
l97.wxXCkey=1
_(f37,h57)
var oJ8=_n('cy-up2top')
_rz(z,oJ8,'bind:upToTop',18,e,s,gg)
_(f37,oJ8)
var cK8=_mz(z,'cy-loading',['darkTheme',-1,'loading',19],[],e,s,gg)
_(f37,cK8)
}
var c47=_v()
_(r,c47)
if(_oz(z,20,e,s,gg)){c47.wxVkey=1
var oL8=_mz(z,'cy-authorize',['bindloginFail',21,'bindloginSuccess',1],[],e,s,gg)
_(c47,oL8)
}
f37.wxXCkey=1
f37.wxXCkey=3
c47.wxXCkey=1
c47.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_133";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_133();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/hospital_list/index.wxml'] = [$gwx_XC_133, './pages/hospital_list/index.wxml'];else __wxAppCode__['pages/hospital_list/index.wxml'] = $gwx_XC_133( './pages/hospital_list/index.wxml' );
	;__wxRoute = "pages/hospital_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/hospital_list/index.js";define("pages/hospital_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../@babel/runtime/helpers/toConsumableArray"),e=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),n=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/search/hospital/search_hospital_rank/",c=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o={region:"region",province:"province",city:"city",clinicNo:"clinicNo",secondClassClinicNo:"secondClassClinicNo"};Page({data:{isLogin:!1,showAuthorize:!1,initQuery:{region:"全国",province:"",city:"",clinicNo:"0",clinicName:"",secondClassClinicNo:"",secondClassClinicName:"",query:"",share:!1,inviterUserId:0},hospitalList:[],clinicList:[],secondClinicList:[],shareInfo:{},queryInfo:{},isRegionShow:!1,isClinicShow:!1,showMask:!1,regionList:[],provinceList:[],cityList:[],selectMap:Object.assign({},o),pageSize:10,hasMore:!0,loading:!1,dependcyShow:!1},onLoad:function(i){var e=this;if("true"===i.share){var t={region:i.region||"",province:i.province||"",city:i.city||"",clinicNo:i.clinicNo||"",clinicName:i.clinicName||"",secondClassClinicNo:i.secondClassClinicNo||"",secondClassClinicName:i.secondClassClinicName||"",query:i.query||"",share:!0,inviterUserId:i.inviterUserId||0};this.setData({initQuery:t})}i.url_source&&this.h5ServicePoint(i.url_source,i.url_from),n.globalData.appIsLogin.then((function(){e.loginSuccess()}),(function(){e.setData({isLogin:!1,showAuthorize:!0})}))},h5ServicePoint:function(i,e){var n={source_type:i,from_type:e};wx.setStorage({key:"authorizationPointData",data:n})},onReady:function(){},getHospitalList:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this;this.setData({loading:1===i.page}),wx.request({url:t,method:"GET",header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},data:i,complete:function(){o.setData({loading:!1})},success:function(i){if(0===i.data.error_code){var n=i.data.hospital_list,t=i.data.query_info,a=i.data.regions,s=i.data.clinic_list,r=i.data.share_info,l=i.data.is_more,h={clinicName:t.clinic_name||"",clinicNo:t.clinic_no||"",secondClassClinicNo:t.second_class_clinic_no||"",currentPage:t.current_page||1,region:t.region||"",province:t.province||"",city:t.city||"",query:t.query||""};n.forEach((function(i){i.city==i.province?i.not_municipality=!1:i.not_municipality=!0}));var u=o.data.hospitalList;if(1===t.current_page){u=n;var d={region:t.region||"",province:t.province||"",city:t.city||"",clinicName:t.clinic_no.clinic_name||"",secondClassClinicName:t.second_class_clinic_no.clinic_name||"",query:t.query||"",hasResult:!!n.length};e?o.pageViewPointEvent(!1,!0,!1,d):c&&o.pageViewPointEvent(!1,!1,!0,d)}else u=u.concat(n);o.setData({hospitalList:u,hasMore:l,queryInfo:h,regionList:a,clinicList:s,shareInfo:r,provinceList:[],cityList:[]})}else wx.showToast({title:i.data.error_msg||"医院列表请求失败",icon:"none",duration:2e3})},fail:function(i){wx.showToast({title:"医院列表请求失败",icon:"none",duration:2e3}),console.log("error in get hospital list:",i)}})},searchEvent:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.setData({isRegionShow:!1,showMask:!1,isClinicShow:!1});var o={from_wx_mini:1,is_json:1,partner:n.globalData.partner,page:c,count_per_page:10};if(i){var a=this.data.initQuery||{};o.region=a.region||"",o.province=a.province||"",o.city=a.city||"",o.clinic_no=a.clinicNo||"",o.second_class_clinic_no=a.secondClassClinicNo||"",o.query=a.query||""}else{var s=this.data.queryInfo||{};o.region=s.region||"",o.province=s.province||"",o.city=s.city||"",o.clinic_no=s.clinicNo.clinic_no||"",o.second_class_clinic_no=s.secondClassClinicNo.clinic_no||"",o.query=s.query||""}this.getHospitalList(o,e,t)},showRegionSelect:function(){var i=this.data.isRegionShow;this.setData({isClinicShow:!1,isRegionShow:!i,showMask:!i})},selectHospital:function(n){var t=n.target.dataset.type,c=n.target.dataset.info,a=this.data.queryInfo;switch(t){case o.region:var s,r=this.data.regionList,l=e(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;h.name===c.name?h.isSelected=!0:h.isSelected=!1}}catch(i){l.e(i)}finally{l.f()}var u=c.provinces;if(u&&u.length){a.region=c.name;this.setData({regionList:r,cityList:[],queryInfo:a,provinceList:[].concat([{code:"0",name:"全部"}],i(u))})}else a.region=c.name,a.province="",a.city="",this.setData({queryInfo:a}),this.searchEvent(!1,!0,!1,1);break;case o.province:a.province="全部"===c.name?"":c.name,a.city="";var d,g=this.data.provinceList,p=e(g);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.code===c.code?v.isSelected=!0:v.isSelected=!1}}catch(i){p.e(i)}finally{p.f()}this.setData({provinceList:g,queryInfo:a,cityList:[].concat([{code:"0",name:"全部"}],i(c.cities||[]))});break;case o.city:a.city="全部"===c.name?"":c.name,this.setData({queryInfo:a}),this.searchEvent(!1,!0,!1,1);break;case o.clinicNo:var _,y=this.data.clinicList,f=e(y);try{for(f.s();!(_=f.n()).done;){var m=_.value;m.clinic_no===c.clinic_no?m.isSelected=!0:m.isSelected=!1}}catch(i){f.e(i)}finally{f.f()}a.clinicNo={clinic_no:c.clinic_no,clinic_name:c.clinic_name},a.secondClassClinicNo={clinic_no:"",clinic_name:""},this.setData({clinicList:y,queryInfo:a,secondClinicList:c.second_class_clinics&&c.second_class_clinics.length?c.second_class_clinics:[{clinic_no:"",clinic_name:"全部"}]});break;case o.secondClassClinicNo:a.secondClassClinicNo={clinic_no:c.clinic_no,clinic_name:"全部"===c.clinic_name?"":c.clinic_name},this.setData({queryInfo:a}),this.searchEvent(!1,!0,!1,1)}},showClinicSelect:function(){var i=this.data.isClinicShow;this.setData({isClinicShow:!i,isRegionShow:!1,showMask:!i})},goHosInfo:function(i){var e=i.currentTarget.dataset.hospital.hospital_id||"",n=i.currentTarget.dataset.hospital.name||"";wx.navigateTo({url:"/pages/hospital_info/index?hospitalId=".concat(e,"&hospitalName=").concat(n)})},showDetail:function(){this.setData({dependcyShow:!this.data.dependcyShow}),setTimeout((function(){wx.pageScrollTo({scrollTop:1e3,duration:300})}),100)},goArticle:function(i){c("AppClick",{page_title:"找医院-结果列表",click_position:"找医院-引导微信群",platform_source:"weixin_mini"}),wx.navigateTo({url:"/pages/article/index?id=135613"})},inputValue:function(i){var e=i.detail;this.setData({query:e})},searchKeyWord:function(i){var e=i.detail,n=this.data.queryInfo;n.query=e,n.currentPage=1,this.setData({queryInfo:n}),this.searchEvent(!1,!1,!0,1)},upToTopClick:function(){wx.pageScrollTo({scrollTop:0,duration:300})},loginSuccess:function(){this.setData({isLogin:!0,showAuthorize:!1}),this.pageViewPointEvent(!0),this.searchEvent(!0,!1,!1,1)},pageViewPointEvent:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this.data.initQuery,a={platform_source:"weixin_mini"};if(i)if(o.share){var s=o.city||o.province||o.region||"",r=o.secondClassClinicName||o.clinicName||"";a.page_title="找医院-结果列表",a.query="访问- ".concat(s," - ").concat(r),a.inviter_user_id=o.inviterUserId||0}else a.page_title="找医院-首页";else if(e){var l=t.city||o.province||o.region||"",h=t.secondClassClinicName||t.clinicName||"";a.page_title="找医院-结果列表",a.query="筛选- ".concat(l," - ").concat(h),a.has_result=t.hasResult}else{if(!n)return!1;a.page_title="找医院-结果列表",a.query="搜索- ".concat(t.query),a.has_result=t.hasResult}c("PageView",a)},loginFail:function(){console.log("授权失败")},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){if(this.data.hasMore){var i=this.data.queryInfo.currentPage||1;i++,this.searchEvent(!1,!1,!1,i)}},onShareAppMessage:function(){var i=this.data,e=i.shareInfo,n=i.queryInfo;return{title:e.title||"找医院",path:"/pages/hospital_list/index?share=true&region=".concat(n.region,"&province=").concat(n.province,"&city=").concat(n.city,"&clinicNo=").concat(n.clinicNo.clinic_no,"&clinicName=").concat(n.clinicNo.clinic_name,"&secondClassClinicNo=").concat(n.secondClassClinicNo.clinic_no,"&secondClassClinicName=").concat(n.secondClassClinicNo.clinic_name,"&query=").concat(n.query,"&inviterUserId=").concat(e.user_id)}}});
},{isPage:true,isComponent:true,currentFile:'pages/hospital_list/index.js'});require("pages/hospital_list/index.js");$gwx_XC_134=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_134 || [];
function gz$gwx_XC_134_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_134_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_134_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_134_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginSuccess'])
Z([[7],[3,'loading']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_134_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_134_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_134=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_134=true;
var x=['./pages/ihmp_payment/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_134_1()
var aN8=_v()
_(r,aN8)
if(_oz(z,0,e,s,gg)){aN8.wxVkey=1
var eP8=_n('cy-authorize-login')
_rz(z,eP8,'bindloginSuccess',1,e,s,gg)
_(aN8,eP8)
}
var tO8=_v()
_(r,tO8)
if(_oz(z,2,e,s,gg)){tO8.wxVkey=1
}
aN8.wxXCkey=1
aN8.wxXCkey=3
tO8.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_134";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_134();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/ihmp_payment/index.wxml'] = [$gwx_XC_134, './pages/ihmp_payment/index.wxml'];else __wxAppCode__['pages/ihmp_payment/index.wxml'] = $gwx_XC_134( './pages/ihmp_payment/index.wxml' );
	;__wxRoute = "pages/ihmp_payment/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/ihmp_payment/index.js";define("pages/ihmp_payment/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js");Page({data:{paymentUrl:"",isLogin:!1,loading:!0,canUseWebView:wx.canIUse("web-view"),type:"",id:0},onLoad:function(t){var i=this;e.globalData.appIsLogin.then((function(){i.loginSuccess(t)}),(function(){i.setData({isLogin:!1})})),this.parseUrl(t)},parseUrl:function(e){if(e.scene){var a=decodeURIComponent(e.scene),n=a.match(/t=(.+)&/)[1],s=a.match(/id=(\d+)/)[1];console.log(a,n,s),"link"===n?this.setData({paymentUrl:i.setWebviewUrlWithLoginCredentials("".concat(t,"/rec/").concat(s)),loading:!1,type:n,id:s}):"invoice"===n&&this.setData({paymentUrl:i.setWebviewUrlWithLoginCredentials("".concat(t,"/mall/order/invoice/redirect/?pharmacy_version=1&id=").concat(s)),loading:!1,type:n,id:s})}else e.id?"link"===e.type?this.setData({paymentUrl:i.setWebviewUrlWithLoginCredentials("".concat(t,"/rec/").concat(e.id)),loading:!1,type:e.type,id:e.id}):"invoice"===e.type&&this.setData({paymentUrl:i.setWebviewUrlWithLoginCredentials("".concat(t,"/mall/order/invoice/redirect/?pharmacy_version=1&id=").concat(e.id)),loading:!1,type:e.type,id:e.id}):console.log("NO SCENE DATA FOUNDED")},loginSuccess:function(){this.setData({isLogin:!0})},onShareAppMessage:function(){return{title:"商品订单",path:"/pages/ihmp_payment/index?type=".concat(this.data.type,"&id=").concat(this.data.id)}}});
},{isPage:true,isComponent:true,currentFile:'pages/ihmp_payment/index.js'});require("pages/ihmp_payment/index.js");$gwx_XC_135=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_135 || [];
function gz$gwx_XC_135_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_135_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_135_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_135_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'topic-list-section'])
Z([3,'changeTab'])
Z([3,'tab-bar'])
Z([[7],[3,'currentTabIndex']])
Z([[7],[3,'channelList']])
Z([3,'swiperTabChange'])
Z([3,'list-swiper-holder'])
Z(z[3])
Z([a,[3,'height:'],[[7],[3,'swiperHeight']],[3,'px']])
Z([3,'handleUpdateSwiperHeight'])
Z([3,'component-topic-list'])
Z([[7],[3,'visitPageName']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_135_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_135_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_135=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_135=true;
var x=['./pages/index/components/home_page_topic_list/home_page_topic_list.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_135_1()
var oR8=_n('view')
_rz(z,oR8,'class',0,e,s,gg)
var xS8=_mz(z,'cy-tab',['bindselectedChangeEvent',1,'class',1,'selectedIndex',2,'tabList',3],[],e,s,gg)
_(oR8,xS8)
var oT8=_mz(z,'swiper',['bindchange',5,'class',1,'current',2,'style',3],[],e,s,gg)
var fU8=_mz(z,'topic-list',['bind:update-swiper-height',9,'class',1,'visitPageName',2],[],e,s,gg)
_(oT8,fU8)
_(oR8,oT8)
_(r,oR8)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_135";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_135();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components/home_page_topic_list/home_page_topic_list.wxml'] = [$gwx_XC_135, './pages/index/components/home_page_topic_list/home_page_topic_list.wxml'];else __wxAppCode__['pages/index/components/home_page_topic_list/home_page_topic_list.wxml'] = $gwx_XC_135( './pages/index/components/home_page_topic_list/home_page_topic_list.wxml' );
	;__wxRoute = "pages/index/components/home_page_topic_list/home_page_topic_list";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/components/home_page_topic_list/home_page_topic_list.js";define("pages/index/components/home_page_topic_list/home_page_topic_list.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/defineProperty"),t=require("../../../../@babel/runtime/helpers/toConsumableArray"),a=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/health_news/",n=getApp();Component({data:{swiperHeight:0,currentTabIndex:0,channelList:[{channel_id:0,label:"热点",list:[],page:1},{channel_id:null,label:"专家科普",list:[],page:1},{channel_id:21,label:"生活",list:[],page:1},{channel_id:6,label:"母婴",list:[],page:1},{channel_id:18,label:"辟谣",list:[],page:1}],visitPageName:"首页-小程序"},methods:{getNewsList:function(){var i=this,s=this.data.currentTabIndex,l=this.data.channelList[s],r={from_wx_mini:1,page:l.page,partner:n.globalData.partner,release_time:"2020-04-22 10:30:00",channel_id:l.channel_id};1===s?this.selectComponent(".component-topic-list").loadMore():wx.request({url:a,data:r,header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},success:function(a){if(console.log(a),a.data&&a.data.content_list&&a.data.content_list.length){var n,r=[];r=1===l.page?t(a.data.content_list):[].concat(t(l.list),t(a.data.content_list));var c="channelList[".concat(s,"].list"),o="channelList[".concat(s,"].page");console.log(c),i.setData((e(n={},c,r),e(n,o,l.page+1),n)),i.setSwiperHeight(),console.log(i.data.channelList[i.data.currentTabIndex])}}})},changeTab:function(e){var t=Number(e.detail.index);if(t!==this.data.currentTabIndex){var a=this.data.channelList[t];if(this.setData({currentTabIndex:t}),1!==t)0===a.list.length?this.getNewsList():this.setSwiperHeight();else if(1===t){this.selectComponent(".component-topic-list").changeTab()}}},calcSwiperHeight:function(){return 105*this.data.channelList[this.data.currentTabIndex].list.length},setSwiperHeight:function(){this.setData({swiperHeight:this.calcSwiperHeight()})},handleUpdateSwiperHeight:function(e){console.log(e),this.setData({swiperHeight:e.detail.height})},swiperTabChange:function(e){this.changeTab({detail:{index:e.detail.current}})}}});
},{isPage:false,isComponent:true,currentFile:'pages/index/components/home_page_topic_list/home_page_topic_list.js'});require("pages/index/components/home_page_topic_list/home_page_topic_list.js");$gwx_XC_136=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_136 || [];
function gz$gwx_XC_136_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_136_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_136_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_136_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_136_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_136_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_136=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_136=true;
var x=['./pages/index/components/image_mask/image_mask.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_136_1()
var hW8=_v()
_(r,hW8)
if(_oz(z,0,e,s,gg)){hW8.wxVkey=1
}
hW8.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_136";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_136();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components/image_mask/image_mask.wxml'] = [$gwx_XC_136, './pages/index/components/image_mask/image_mask.wxml'];else __wxAppCode__['pages/index/components/image_mask/image_mask.wxml'] = $gwx_XC_136( './pages/index/components/image_mask/image_mask.wxml' );
	;__wxRoute = "pages/index/components/image_mask/image_mask";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/components/image_mask/image_mask.js";define("pages/index/components/image_mask/image_mask.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault")(require("../../../../@babel/runtime/regenerator")),a=require("../../../../@babel/runtime/helpers/asyncToGenerator"),t=getApp(),i=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/events/new_user_welfare/close_homepage_toast/";Component({properties:{url:{type:String,default:""},imgUrl:{type:String,default:""},adId:{type:String,default:""},adTitle:{type:String,default:""},adType:{type:String,default:""},adCyRedirect:{type:Object,default:{}},adTargetType:{type:String,default:""},adMiniAppId:{type:String,default:""},adWxMiniPage:{type:String,default:""},adJumpThird:{type:Boolean,default:!1}},observers:{"url, imgUrl, adCyRedirect":function(e,a,t){(e&&a||t&&t.target_scheme&&a)&&this.setData({shouldShow:!0})}},data:{shouldShow:!1},methods:{closeMask:function(){if("new_user_welfare"===this.data.adType)return this.notificationCloseMask(),void this.setData({shouldShow:!1});var e={app:"weixin_mini",ad_id:this.data.adId,ad_position:"AD首页弹窗关闭",ad_title:this.data.adTitle};t.sensors.track("AdClick",e),this.setData({shouldShow:!1})},toAdsUrl:function(){var i=this;return a(e.default.mark((function a(){var r;return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"new_user_welfare"===i.data.adType?(t.sensors.track("AppClick",{page_readable_name:"春雨首页",app:"weixin_mini",click_position:"新用户弹窗"}),i.triggerEvent("jumpPageEvent",i.data.adCyRedirect),i.closeMask()):(r={app:"weixin_mini",ad_id:i.data.adId,ad_position:"AD首页弹窗点击",ad_title:i.data.adTitle},t.sensors.track("AdClick",r),"wx_mini"===i.data.adTargetType?i.data.adJumpThird?wx.navigateToMiniProgram({appId:i.data.adMiniAppId,path:i.data.adWxMiniPage}):wx.navigateTo({url:i.data.adWxMiniPage}):wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(i.data.url))}),i.closeMask());case 1:case"end":return e.stop()}}),a)})))()},notificationCloseMask:function(){wx.request({url:i,method:"POST",header:{Cookie:t.globalData.sessionid},error:function(e){console.log("通知服务器关闭新用户弹窗发送错误")}})}}});
},{isPage:false,isComponent:true,currentFile:'pages/index/components/image_mask/image_mask.js'});require("pages/index/components/image_mask/image_mask.js");$gwx_XC_137=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_137 || [];
function gz$gwx_XC_137_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_137_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_137_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_137_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'removed']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_137_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_137_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_137=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_137=true;
var x=['./pages/index/components/toast_bubble/toast_bubble.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_137_1()
var cY8=_v()
_(r,cY8)
if(_oz(z,0,e,s,gg)){cY8.wxVkey=1
}
cY8.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_137";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_137();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components/toast_bubble/toast_bubble.wxml'] = [$gwx_XC_137, './pages/index/components/toast_bubble/toast_bubble.wxml'];else __wxAppCode__['pages/index/components/toast_bubble/toast_bubble.wxml'] = $gwx_XC_137( './pages/index/components/toast_bubble/toast_bubble.wxml' );
	;__wxRoute = "pages/index/components/toast_bubble/toast_bubble";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/components/toast_bubble/toast_bubble.js";define("pages/index/components/toast_bubble/toast_bubble.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{textList:{type:Array,default:""}},data:{shouldShow:!1,selfList:[],currentShowing:"",removed:!1},methods:{oneSlice:function(){var t=this,e=this.data.selfList[0];0!==this.data.selfList.length?(this.setData({removed:!1}),this.data.selfList.shift(),this.setData({selfList:this.data.selfList,currentShowing:e},(function(){t.setData({shouldShow:!0})})),setTimeout((function(){t.setData({shouldShow:!1})}),2800),setTimeout((function(){t.oneSlice()}),4100)):this.setData({removed:!0})}},observers:{textList:function(t){t&&t.length&&(this.setData({selfList:t}),this.oneSlice())}}});
},{isPage:false,isComponent:true,currentFile:'pages/index/components/toast_bubble/toast_bubble.js'});require("pages/index/components/toast_bubble/toast_bubble.js");$gwx_XC_138=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_138 || [];
function gz$gwx_XC_138_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_138_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_138_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_138_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'main-page-main-container'])
Z([3,'updatePlaceholderSwiper'])
Z([3,'placeholder-list'])
Z([1,0])
Z([1,300])
Z([1,2000])
Z([[6],[[7],[3,'placeholderConfig']],[3,'list']])
Z([3,'text'])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([[7],[3,'isNewPageStyle']])
Z([[6],[[7],[3,'qa_guide_info']],[3,'prompt_msg']])
Z([[7],[3,'serviceOrderLayoutList']])
Z([3,'type'])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'item']],[3,'value']],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'length']]],[[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'swiper']]])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'firmSection']],[[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_first_page']],[3,'length']]])
Z([a,[3,'firm-area-section '],[[2,'?:'],[[2,'<='],[[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_second_page']],[3,'length']],[1,0]],[1,'add-padding'],[1,'']]])
Z([3,'handleScroll'])
Z([3,'firm-area-scroll-view'])
Z([1,true])
Z(z[17])
Z([1,false])
Z([a,[3,'height: '],[[2,'?:'],[[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_first_page']],[3,'length']],[1,5]],[1,'298rpx'],[1,'149rpx']]])
Z([[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_first_page']])
Z([3,'icon'])
Z([3,'clickOnFirmItem'])
Z([a,[3,'firm-items '],[[2,'?:'],[[2,'>='],[[7],[3,'index']],[1,5]],[1,'bottom-line'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'h5_title']])
Z([[7],[3,'index']])
Z([3,'first'])
Z([[6],[[7],[3,'item']],[3,'text']])
Z([3,'firm-area'])
Z([[6],[[7],[3,'item']],[3,'navigateUrl']])
Z([[6],[[7],[3,'item']],[3,'tag_url']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_second_page']],[3,'length']])
Z([[2,'>'],[[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[3,'important_position_second_page']],[3,'length']],[1,0]])
Z([[2,'&&'],[[6],[[7],[3,'operate_info']],[3,'full_width_list']],[[6],[[6],[[7],[3,'operate_info']],[3,'full_width_list']],[3,'length']]])
Z([[6],[[7],[3,'operate_info']],[3,'full_width_list']])
Z([3,'image'])
Z([3,'tapOnMarketingItem'])
Z([a,[3,'marketing-container one-row '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'show_title']],[1,''],[1,'no-padding']]])
Z(z[27])
Z([3,'row'])
Z([[7],[3,'item']])
Z([[6],[[7],[3,'item']],[3,'show_title']])
Z([[6],[[7],[3,'item']],[3,'left_icon']])
Z([[6],[[7],[3,'item']],[3,'image']])
Z([[6],[[7],[3,'item']],[3,'bottom_icon']])
Z([[2,'&&'],[[6],[[7],[3,'operate_info']],[3,'half_width_list']],[[6],[[6],[[7],[3,'operate_info']],[3,'half_width_list']],[3,'length']]])
Z([[6],[[7],[3,'operate_info']],[3,'half_width_list']])
Z(z[37])
Z([[2,'<'],[[7],[3,'index']],[1,2]])
Z(z[38])
Z([a,[3,'marketing-column '],[[2,'?:'],[[2,'==='],[[7],[3,'index']],[1,0]],[1,'first'],[1,'']],[3,' '],z[39][2]])
Z(z[27])
Z([3,'column'])
Z(z[42])
Z(z[43])
Z(z[44])
Z(z[45])
Z(z[46])
Z([[6],[[7],[3,'newUserWelfare']],[3,'image']])
Z([[6],[[6],[[7],[3,'strictlySelectedDoctor']],[3,'doctors']],[3,'length']])
Z([[6],[[7],[3,'strictlySelectedDoctor']],[3,'doctors']])
Z([3,'name'])
Z([3,'jumpToDoctorMain'])
Z([a,[3,'single-doctor '],[[2,'?:'],[[2,'<='],[[7],[3,'index']],[1,1]],[1,'first-row'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'doctor_info']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'image']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'is_active']])
Z([3,'68rpx'])
Z([3,'doctor-tags'])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'is_3a_hospital']])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'is_top_100_hospital']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'special_service']],[[6],[[7],[3,'special_service']],[3,'specialServiceFirstLine']]],[[6],[[6],[[7],[3,'special_service']],[3,'specialServiceFirstLine']],[3,'length']]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'healthy_mall_info']],[[6],[[7],[3,'healthy_mall_info']],[3,'item_list']]],[[6],[[6],[[7],[3,'healthy_mall_info']],[3,'item_list']],[3,'length']]])
Z([3,'topic-list'])
Z([[7],[3,'scrolling_info']])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'hover_icon_ad']],[[6],[[7],[3,'hover_icon_ad']],[3,'image']]],[[6],[[7],[3,'hover_icon_ad']],[3,'shouldShow']]])
Z([[2,'==='],[[6],[[7],[3,'hover_icon_ad']],[3,'is_can_close']],[1,'yes']])
Z([[7],[3,'hideTabbarCard']])
Z([[6],[[7],[3,'toast_ads']],[3,'cy_redirect']])
Z([[6],[[7],[3,'toast_ads']],[3,'ad_id']])
Z([[6],[[7],[3,'toast_ads']],[3,'ad_title']])
Z([[6],[[7],[3,'toast_ads']],[3,'ad_type']])
Z([[6],[[7],[3,'toast_ads']],[3,'jump_third']])
Z([[6],[[7],[3,'toast_ads']],[3,'mini_app_id']])
Z([[6],[[7],[3,'toast_ads']],[3,'target_type']])
Z([[6],[[7],[3,'toast_ads']],[3,'wx_mini_page']])
Z([3,'jumpToNewUserWelfare'])
Z([[6],[[7],[3,'toast_ads']],[3,'image']])
Z([[6],[[7],[3,'toast_ads']],[3,'url']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_138_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_138_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_138=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_138=true;
var x=['./pages/index/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_138_1()
var l18=_n('view')
_rz(z,l18,'class',0,e,s,gg)
var hA9=_mz(z,'swiper',['autoplay',-1,'circular',-1,'vertical',-1,'bindchange',1,'class',1,'current',2,'duration',3,'interval',4],[],e,s,gg)
var oB9=_v()
_(hA9,oB9)
var cC9=function(lE9,oD9,aF9,gg){
var eH9=_v()
_(aF9,eH9)
if(_oz(z,8,lE9,oD9,gg)){eH9.wxVkey=1
}
eH9.wxXCkey=1
return aF9
}
oB9.wxXCkey=2
_2z(z,6,cC9,e,s,gg,oB9,'item','index','text')
_(l18,hA9)
var a28=_v()
_(l18,a28)
if(_oz(z,9,e,s,gg)){a28.wxVkey=1
}
var t38=_v()
_(l18,t38)
if(_oz(z,10,e,s,gg)){t38.wxVkey=1
}
var bI9=_v()
_(l18,bI9)
var oJ9=function(oL9,xK9,fM9,gg){
var hO9=_n('view')
var oP9=_v()
_(hO9,oP9)
if(_oz(z,13,oL9,xK9,gg)){oP9.wxVkey=1
}
var cQ9=_v()
_(hO9,cQ9)
if(_oz(z,14,oL9,xK9,gg)){cQ9.wxVkey=1
var oR9=_n('view')
_rz(z,oR9,'class',15,oL9,xK9,gg)
var aT9=_mz(z,'scroll-view',['scrollX',-1,'bind:scroll',16,'class',1,'enhanced',2,'id',3,'showScrollbar',4,'style',5],[],oL9,xK9,gg)
var eV9=_v()
_(aT9,eV9)
var bW9=function(xY9,oX9,oZ9,gg){
var c29=_mz(z,'view',['bind:tap',24,'class',1,'data-h5-title',2,'data-index',3,'data-section',4,'data-text',5,'data-track',6,'url',7],[],xY9,oX9,gg)
var h39=_v()
_(c29,h39)
if(_oz(z,32,xY9,oX9,gg)){h39.wxVkey=1
}
h39.wxXCkey=1
_(oZ9,c29)
return oZ9
}
eV9.wxXCkey=2
_2z(z,22,bW9,oL9,xK9,gg,eV9,'item','index','icon')
var tU9=_v()
_(aT9,tU9)
if(_oz(z,33,oL9,xK9,gg)){tU9.wxVkey=1
}
tU9.wxXCkey=1
_(oR9,aT9)
var lS9=_v()
_(oR9,lS9)
if(_oz(z,34,oL9,xK9,gg)){lS9.wxVkey=1
}
lS9.wxXCkey=1
_(cQ9,oR9)
}
oP9.wxXCkey=1
cQ9.wxXCkey=1
_(fM9,hO9)
return fM9
}
bI9.wxXCkey=2
_2z(z,11,oJ9,e,s,gg,bI9,'item','index','type')
var e48=_v()
_(l18,e48)
if(_oz(z,35,e,s,gg)){e48.wxVkey=1
var o49=_v()
_(e48,o49)
var c59=function(l79,o69,a89,gg){
var e09=_mz(z,'view',['bind:tap',38,'class',1,'data-index',2,'data-marketing-type',3,'data-target',4],[],l79,o69,gg)
var bA0=_v()
_(e09,bA0)
if(_oz(z,43,l79,o69,gg)){bA0.wxVkey=1
}
else{bA0.wxVkey=2
var oB0=_v()
_(bA0,oB0)
if(_oz(z,44,l79,o69,gg)){oB0.wxVkey=1
}
var xC0=_v()
_(bA0,xC0)
if(_oz(z,45,l79,o69,gg)){xC0.wxVkey=1
}
var oD0=_v()
_(bA0,oD0)
if(_oz(z,46,l79,o69,gg)){oD0.wxVkey=1
}
oB0.wxXCkey=1
xC0.wxXCkey=1
oD0.wxXCkey=1
}
bA0.wxXCkey=1
_(a89,e09)
return a89
}
o49.wxXCkey=2
_2z(z,36,c59,e,s,gg,o49,'item','index','image')
}
var b58=_v()
_(l18,b58)
if(_oz(z,47,e,s,gg)){b58.wxVkey=1
var fE0=_v()
_(b58,fE0)
var cF0=function(oH0,hG0,cI0,gg){
var lK0=_v()
_(cI0,lK0)
if(_oz(z,50,oH0,hG0,gg)){lK0.wxVkey=1
var aL0=_mz(z,'view',['bind:tap',51,'class',1,'data-index',2,'data-marketing-type',3,'data-target',4],[],oH0,hG0,gg)
var tM0=_v()
_(aL0,tM0)
if(_oz(z,56,oH0,hG0,gg)){tM0.wxVkey=1
}
else{tM0.wxVkey=2
var eN0=_v()
_(tM0,eN0)
if(_oz(z,57,oH0,hG0,gg)){eN0.wxVkey=1
}
var bO0=_v()
_(tM0,bO0)
if(_oz(z,58,oH0,hG0,gg)){bO0.wxVkey=1
}
var oP0=_v()
_(tM0,oP0)
if(_oz(z,59,oH0,hG0,gg)){oP0.wxVkey=1
}
eN0.wxXCkey=1
bO0.wxXCkey=1
oP0.wxXCkey=1
}
tM0.wxXCkey=1
_(lK0,aL0)
}
lK0.wxXCkey=1
return cI0
}
fE0.wxXCkey=2
_2z(z,48,cF0,e,s,gg,fE0,'item','index','image')
}
var o68=_v()
_(l18,o68)
if(_oz(z,60,e,s,gg)){o68.wxVkey=1
}
var x78=_v()
_(l18,x78)
if(_oz(z,61,e,s,gg)){x78.wxVkey=1
var xQ0=_v()
_(x78,xQ0)
var oR0=function(cT0,fS0,hU0,gg){
var cW0=_mz(z,'view',['bind:tap',64,'class',1,'data-doctor-info',2],[],cT0,fS0,gg)
var oX0=_mz(z,'doctor-avatar',['avatarUrl',67,'isActive',1,'size',2],[],cT0,fS0,gg)
_(cW0,oX0)
var lY0=_n('view')
_rz(z,lY0,'class',70,cT0,fS0,gg)
var aZ0=_v()
_(lY0,aZ0)
if(_oz(z,71,cT0,fS0,gg)){aZ0.wxVkey=1
}
var t10=_v()
_(lY0,t10)
if(_oz(z,72,cT0,fS0,gg)){t10.wxVkey=1
}
aZ0.wxXCkey=1
t10.wxXCkey=1
_(cW0,lY0)
_(hU0,cW0)
return hU0
}
xQ0.wxXCkey=4
_2z(z,62,oR0,e,s,gg,xQ0,'item','index','name')
}
var o88=_v()
_(l18,o88)
if(_oz(z,73,e,s,gg)){o88.wxVkey=1
}
var f98=_v()
_(l18,f98)
if(_oz(z,74,e,s,gg)){f98.wxVkey=1
}
var e20=_n('news-list')
_rz(z,e20,'class',75,e,s,gg)
_(l18,e20)
var b30=_n('toast-bubble')
_rz(z,b30,'textList',76,e,s,gg)
_(l18,b30)
var o40=_n('cy-user-phone')
_(l18,o40)
var c08=_v()
_(l18,c08)
if(_oz(z,77,e,s,gg)){c08.wxVkey=1
var x50=_v()
_(c08,x50)
if(_oz(z,78,e,s,gg)){x50.wxVkey=1
}
x50.wxXCkey=1
}
var o60=_n('tabbar-bubble')
_rz(z,o60,'hideTabbarCard',79,e,s,gg)
_(l18,o60)
var f70=_mz(z,'image-mask',['adCyRedirect',80,'adId',1,'adTitle',2,'adType',3,'adJumpThird',4,'adMiniAppId',5,'adTargetType',6,'adWxMiniPage',7,'bind:jumpPageEvent',8,'imgUrl',9,'url',10],[],e,s,gg)
_(l18,f70)
a28.wxXCkey=1
t38.wxXCkey=1
e48.wxXCkey=1
b58.wxXCkey=1
o68.wxXCkey=1
x78.wxXCkey=1
x78.wxXCkey=3
o88.wxXCkey=1
f98.wxXCkey=1
c08.wxXCkey=1
_(r,l18)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_138";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_138();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/index.wxml'] = [$gwx_XC_138, './pages/index/index.wxml'];else __wxAppCode__['pages/index/index.wxml'] = $gwx_XC_138( './pages/index/index.wxml' );
	;__wxRoute = "pages/index/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/index.js";define("pages/index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var t=require("../../@babel/runtime/helpers/objectSpread2"),a=e(require("../../@babel/runtime/regenerator")),i=require("../../@babel/runtime/helpers/asyncToGenerator"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),o=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),r=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),c=require("../../43A2F676829A079C25C49E711B4C7B70.js"),s=require("../../1D735BD7829A079C7B1533D0C5CC7B70.js"),l=getApp(),d=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,_=require("../../FE1120A4829A079C987748A30A3D7B70.js"),u=_.subscribeBtnShow,g=_.changeIsSubscribeConsultMessageValue,p=_.saveSubscribeMessage,h=_.subscribeMessage,f=_.jumpToTargetPage,v=d+"/cooperation/wap/homepage_info/?from_wx_mini=1&need_ab_test=1",m=d+"/api/v8/user_home_page/hot_sales_v2/?from_wx_mini=1",w=d+"/api/front_screen/ws_data/?from_wx_mini=1",x=d+"/ad/get_homepage_ad/?from_wx_mini=1",S=d+"/events/new_user_welfare/entrance_info/?from_wx_mini=1",y=["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"];Page({data:{isLogin:!1,options:{},inviter_id:"",scrollProgressBarLeft:0,believe_info:{},scrolling_info:[],buy_drug_info:{},find_doc_info:{},healthy_mall_info:{},quick_ask_info:{},second_endpoint:{},toast_ads:[],newUserWelfare:{},special_service:{},scrollViewWidth:0,scrollProgressBarWidth:0,shouldIndocatorShow:!1,hideTabbarCard:l.globalData.hide_tabbar_card,qa_guide_info:{},hover_icon_ad:{},operate_info:{},onLoadCheck:!1,signInImgUrl:"",shouldFloatingAdHide:!1,isGetAdDetailSuccess:!1,isGetNewUserWelfareSuccess:!1,strictlySelectedDoctor:{},isNewPageStyle:!1,serviceOrderLayoutList:[],placeholderConfig:{icon:"https://staff.chunyu.mobi/@/media/images/2023/12/08/325c/86b618a0a5d3_w42_h42_.png",list:[],hasDefaultPlaceholder:!1},currentPlaceholderIndex:0},scrollDebounce:{},onLoad:function(e){var t=this;getApp().setWatcher(this,l.globalData,this.watch),this.legacyMainPageLogic(e),(0,c.manualLogin)().then((function(){t.getMainInfo()})),this.getSpecialService(),u(y,g),this.getScrollingInfo(),setInterval(this.getScrollingInfo,6e4),this.homePageRedirect(e),this.scrollDebounce=(0,n.debounce)((function(){t.setData({shouldFloatingAdHide:!1})}),3e3)},onPullDownRefresh:function(){this.getMainInfo(),this.getSpecialService()},onShow:function(){var e=this;this.loginCheck().then((function(){e.afterLoginAjax(),e.data.onLoadCheck&&e.hotRefresh(),e.data.onLoadCheck=!0}))},onReady:function(){var e=this;(0,n.getElementRec)("#firm-area-scroll-view").then((function(t){e.data.scrollViewWidth=t.width}))},updatePlaceholderSwiper:function(e){this.setData({currentPlaceholderIndex:e.detail.current})},afterLoginAjax:function(){var e=this;return i(a.default.mark((function t(){var i,n,o,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.data,n=i.isLogin,o=i.isGetAdDetailSuccess,s=i.isGetNewUserWelfareSuccess,n){t.next=4;break}return t.next=4,(0,c.autoLogin)();case 4:o||e.getAdDetail(),s||e.getNewUserWelfare(),(0,r.default)({fromName:"",name:"首页-小程序",extraInfo:{}});case 7:case"end":return t.stop()}}),t)})))()},getAdDetail:function(){var e=this;(0,o.default)({url:x,data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")},success:function(t){if(200===t.statusCode&&t.data){var a=t.data||{};e.processToastAdsInfo(a.toast_ads),e.setData({isGetAdDetailSuccess:!0,hover_icon_ad:a.hover_icon_ad||{}}),wx.getStorageSync("CLOSED_HOMEPAGE_FLOATING_ADS_ID")!==e.data.hover_icon_ad.ad_id&&e.setData({"hover_icon_ad.shouldShow":!0})}}})},getNewUserWelfare:function(){var e=this;(0,o.default)({url:S,data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),scene:"homepage_feed"},success:function(t){200===t.statusCode&&t.data&&e.setData({isGetNewUserWelfareSuccess:!0,newUserWelfare:t.data})}})},onReachBottom:function(){this.triggerLoadTopic()},onPageScroll:function(){this.setData({shouldFloatingAdHide:!0}),this.scrollDebounce()},watch:{hide_tabbar_card:function(e){this.setData({hideTabbarCard:e})}},legacyMainPageLogic:function(e){var t=this;"pc_nav"==e.enter_from&&wx.reportAnalytics("pc_nav",{source_entrence:"miniProScan"}),function(e){var a=e.inviter_id,i=e.source||"";a&&"user_home"==i&&(wx.setStorage({key:"app_inviter_id",data:a}),wx.setStorage({key:"source_from",data:"user_home"}),t.setData({appInviterId:a}))}(e),e.user_id&&wx.setStorage({key:"user_id",data:e.user_id});var a=e.adcopy;null!=a&&l.sensors.track("wx_ad_home_nologin",{adcopy:a}),function(e){var t=e.source||"",a=Number(e.inviter_id||""),i=null;e.is_invitation_task?i={from_type:"邀请好友得红包",activity_id:84,source_type:"smm-fxdhb"}:"good_assess"==t||"reward_doctor"==t?i={from_type:"评价和送心意后分享",activity_id:87,source_type:"smm-pjsxyhfx"}:"user_home"==e.source?i={from_type:"邀请好友得金币",activity_id:89,source_type:"smm-fxdjb"}:a&&(i={from_type:"首页默认分享",activity_id:88,source_type:"smm-homedefaultshare"}),i&&(i.inviter_user_id=a,wx.setStorageSync("authorizationPointData",i))}(e)},triggerLoadTopic:function(){this.selectComponent(".topic-list").getNewsList()},loginCheck:function(){var e=this;return new Promise((function(t){l.globalData.appIsLogin.then((function(){e.data.isLogin?(console.log("login check","true1"),t()):(e.setData({isLogin:!0}),console.log("login check",!0),t())}),(function(){e.setData({isLogin:!1}),console.log("login check",!1),t()}))}))},tapLogin:function(){l.sensors.track("AppClick",{page_readable_name:"登录授权按钮",click_position:"首页登录提示条"})},loginEvent:function(){this.setData({isLogin:!0})},handleScroll:function(e){var t=e.detail,a=t.scrollLeft/(t.scrollWidth-this.data.scrollViewWidth),i=Math.floor((20-this.data.scrollProgressBarWidth)*a);this.setData({scrollProgressBarLeft:i})},onInputConfirm:function(e){var t=e.detail.value;console.log(t),t&&(wx.navigateTo({url:"../home_search/index?query="+t+"&from_visit_page=首页-小程序"}),l.sensors.track("AppClick",{platform_source:l.globalData.partner,click_position:"大搜输入框搜索"}))},goSearchMiddle:function(){if(l.sensors.track("AppClick",{app:"weixin_mini",click_position:"大搜",page_readable_name:"春雨首页"}),0===this.data.currentPlaceholderIndex&&this.data.placeholderConfig.hasDefaultPlaceholder)wx.navigateTo({url:"/pages/home_search/index?from_visit_page=首页-小程序"});else{var e=this.data.placeholderConfig.list[this.data.currentPlaceholderIndex].text;wx.navigateTo({url:"/pages/home_search/index?from_visit_page=首页-小程序&placeholder=".concat(e)})}},startSearch:function(){l.sensors.track("AppClick",{app:"weixin_mini",click_position:"大搜搜索",page_readable_name:"春雨首页"});var e=this.data.placeholderConfig.list[this.data.currentPlaceholderIndex].icon?1:0;if(0===this.data.currentPlaceholderIndex&&this.data.placeholderConfig.hasDefaultPlaceholder)wx.navigateTo({url:"/pages/home_search/index?from_visit_page=首页-小程序&from_type=广告词"});else{var t=this.data.placeholderConfig.list[this.data.currentPlaceholderIndex].text;wx.navigateTo({url:"/pages/home_search/index?from_visit_page=首页-小程序&query=".concat(t,"&from_type=广告词&has_icon=").concat(e)})}},getMainInfo:function(){var e=this;wx.request({url:v,header:{Cookie:l.globalData.sessionid},data:{abtest_v2:1,from_wx_mini:1,version:s.productionVersion,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")},success:function(t){var a=t.data;a.test_group_new_style&&e.setData({isNewPageStyle:!0}),a.believe_info.url=encodeURIComponent(a.believe_info.url),e.processServiceOrderLayoutList(a.important_position,a.banners,a.test_group_new_style),e.processHealthyMallInfo(a.healthy_mall_info),e.processPlaceholderList(a.search_config),e.setData({believe_info:a.believe_info,buy_drug_info:a.buy_drug_info,find_doc_info:a.find_doc_info,banners:a.banners,quick_ask_info:a.quick_ask_info,second_endpoint:a.second_endpoint,qa_guide_info:a.qa_guide_info||{},operate_info:a.operate_info||{},hover_icon_ad:a.hover_icon_ad||{},signInImgUrl:a.sign_in_image,newUserWelfare:a.new_user_welfare||{},strictlySelectedDoctor:a.strictly_selected_doctor||{}}),wx.getStorageSync("CLOSED_HOMEPAGE_FLOATING_ADS_ID")!==e.data.hover_icon_ad.ad_id&&e.setData({"hover_icon_ad.shouldShow":!0})}})},processPlaceholderList:function(e){if(e){var t=(e.ad_keywords.length?e.ad_keywords:[e.placeholder].concat(e.default_keywords)).map((function(t,a){return t!==e.placeholder?{text:t,icon:a<=(e.ad_keywords.length?1:2)?e.keyword_icon:""}:{text:t}}));this.setData({"placeholderConfig.list":t,"placeholderConfig.hasDefaultPlaceholder":!e.ad_keywords.length})}},processToastAdsInfo:function(e){var t=e&&e.length;if(t){var a=Math.floor(Math.random()*t+0);this.setData({toast_ads:e[a]})}},processServiceOrderLayoutList:function(e,a,i){e.forEach((function(e){e.navigateUrl="/pages/h5_webview/index?url=".concat(encodeURIComponent(e.jump_url))}));var n,o=e.slice(0,10);if(e.length>10){var r=(n=e.slice(10,20)).length,c=5/(5+(r+r%2)/2);this.setData({shouldIndocatorShow:!0,importantPositionSecondPageWidth:71*Math.ceil(e.slice(10,20).length/2),scrollProgressBarWidth:Math.floor(20*c)})}var s={type:"swiper",value:a},l={type:"firmSection",value:t({important_position_first_page:o},n&&n.length&&{important_position_second_page:n})};this.setData({serviceOrderLayoutList:[s,l]})},onShareAppMessage:function(){var e=wx.getStorageSync("sessionUserId");return{title:"春雨医生-汇聚全国三甲名医，随时咨询",path:"/pages/index/index?inviter_id=".concat(e)}},processSpecialServiceInfo:function(e){var t=e.item_list;t.forEach((function(e){e.navigateUrl="/pages/h5_webview/index?url=".concat(encodeURIComponent(e.param.url))})),e.navigateUrl="/pages/h5_webview/index?url=".concat(encodeURIComponent(e.more_url)),e.specialServiceFirstLine=t.slice(0,2),e.specialServiceSecondLine=t.slice(2,4),e.specialServiceThirdLine=t.slice(4),this.setData({special_service:e}),wx.stopPullDownRefresh()},processHealthyMallInfo:function(e){e.item_list&&e.item_list.length&&(e.navigateUrl="/pages/h5_webview/index?url=".concat(encodeURIComponent(e.show_more_url)),e.item_list.forEach((function(e){e.navigateUrl="/pages/h5_webview/index?url=".concat(encodeURIComponent(e.jump_url))})),this.setData({healthy_mall_info:e}))},getSpecialService:function(){var e=this;wx.request({url:m,header:{Cookie:l.globalData.sessionid},success:function(t){var a=t.data;e.processSpecialServiceInfo(a)}})},jumpToH5:function(e){wx.navigateTo({url:"/pages/h5_webview?url=".concat(encodeURIComponent(e))})},clickSpecialService:function(e){this.trackEvent(e);var t=Number(e.currentTarget.dataset.index);wx.navigateTo({url:this.data.special_service.item_list[t].navigateUrl})},clickOnBanner:function(e){this.trackEvent(e);var t=Number(e.currentTarget.dataset.index),a=this.data.serviceOrderLayoutList.filter((function(e){return"swiper"===e.type}))[0].value[t];a.target_type&&"wx_mini"===a.target_type?a.jump_third?wx.navigateToMiniProgram({appId:a.mini_app_id,path:a.wx_mini_page}):wx.navigateTo({url:a.wx_mini_page}):wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a.url))})},getScrollingInfo:function(){var e=this;wx.request({url:w,header:{Cookie:l.globalData.sessionid},success:function(t){var a=t.data;e.setData({scrolling_info:a.accept_dynamic})}})},toSearch:function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(d+"/v-m-general/search-polymerization"))})},clickOnFirmItem:function(e){var t=this;this.trackEvent(e);var a=function(e){var a=e.currentTarget.dataset.section,i=e.currentTarget.dataset.index,n={};return"first"===a?n=t.data.serviceOrderLayoutList.filter((function(e){return"firmSection"===e.type}))[0].value.important_position_first_page[i]:"second"===a&&(n=t.data.serviceOrderLayoutList.filter((function(e){return"firmSection"===e.type}))[0].value.important_position_second_page[i]),n}(e);"h5"===a.jump_type?l.globalData.appIsLogin.then((function(){var e=(0,n.addParameterToURL)(a.jump_url,"is_login=1");wx.navigateTo({url:"/pages/h5_webview/index?h5_title=".concat(a.h5_title||"","&url=").concat(encodeURIComponent(e))})})).catch((function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(a.jump_url))})})):"self_mini"===a.jump_type?wx.navigateTo({url:a.jump_url}):"other_mini"===a.jump_type&&wx.navigateToMiniProgram({appId:a.mini_app_id,path:a.jump_url})},trackEvent:function(e){try{var t=e.currentTarget.dataset.track,a={app:"weixin_mini",page_readable_name:"春雨首页"};"certificate"===t&&(a.click_position="服务保障"),"fast_qa"===t&&(a.click_position="快速问诊"),"find_doc"===t&&(a.click_position="找医生"),"online_mall"===t&&(a.click_position="在家购药"),"banner_click"===t&&(a.ad_position="AD首页轮播banner点击",a.ad_id=e.currentTarget.dataset.adid,a.ad_title=e.currentTarget.dataset.adtitle),"firm-area"===t&&(a.click_position=e.currentTarget.dataset.text),"more_special_service"===t&&(a.click_position="特色服务-查看更多"),"special_service"===t&&(a.click_position="特色服务-".concat(e.currentTarget.dataset.index+1,"号位置")),"more_healthy_mall"===t&&(a.click_position="健康商城-查看更多"),"healthy_mall"===t&&(a.click_position="健康商城-".concat(e.currentTarget.dataset.index+1,"号位置"));var i=e.currentTarget.dataset.tracktype||"AppClick";console.log(a),l.sensors.track(i,a)}catch(e){console.log(e)}},homePageRedirect:function(e){console.log(e);var t={g:"/pages/doc_mainpage/index",q:"/pages/inquery/inquery",e:"/pages/emergency/index",f:"/pages/fast_phone/index",d:"/pages/find_doctor/index",dsl:"/pages/find_doctor_list/index",s:"/pages/home_search/index",h:"/pages/h5_webview/index",n:"/pages/new_user_welfare/index",ch:"/pages/h5_webview/index",i:""};if(e.scene){var a=(0,n.getSceneQueryStr)("p",e.scene);if("g"===a){var i=(0,n.getSceneQueryStr)("id",e.scene);wx.navigateTo({url:t[a]+"?scene=".concat(i)})}else if("h"===a)wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(d+"/v-m-general/hospital-list"))});else if("ch"===a){var o=(0,n.getSceneQueryStr)("h5",e.scene);o&&wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(o)})}else if("s"===a){var r=(0,n.getSceneQueryStr)("query",e.scene);wx.navigateTo({url:t[a]+"?query=".concat(r)})}else wx.navigateTo({url:t[a]})}else{var c=e.p,s=e.q;if(s&&(s=decodeURIComponent(s)),console.log("query",s),!c)return;if("g"===c){var l=e.id,_="".concat(t[c],"?scene=").concat(l);wx.navigateTo({url:_})}else if("s"===c){var u="".concat(t[c],"?query=").concat(s);wx.navigateTo({url:u})}else if("h"===c)wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(d+"/v-m-general/hospital-list"))});else if("dsl"===c){var g="".concat(t[c],"?query=").concat(s);wx.navigateTo({url:g})}else if("ch"===c){var p=e.h5;p&&wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(p)})}else wx.navigateTo({url:t[c]})}},hotRefresh:function(){var e=this;this.setData({signInImgUrl:""}),(0,o.default)({url:v,data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")},success:function(t){(console.log(t),200===t.statusCode&&t.data)&&(e.setData({hover_icon_ad:t.data.hover_icon_ad||{},qa_guide_info:t.data.qa_guide_info||{},signInImgUrl:t.data.sign_in_image}),wx.getStorageSync("CLOSED_HOMEPAGE_FLOATING_ADS_ID")!==e.data.hover_icon_ad.ad_id&&e.setData({"hover_icon_ad.shouldShow":!0}))}})},tapOnQaInfo:function(){var e=this.data.qa_guide_info.cy_redirect.target_scheme;e.includes("pages/all_service/index")?wx.switchTab({url:e}):wx.navigateTo({url:e})},toGold:function(){var e=d+"/api/gold/homepage/?need_sign_for_gold=1&version=10.2.2&from_wxmini_home_page=1";wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})},tapOnFloatingAd:function(){l.sensors.track("AppClick",{app:0,click_position:"悬浮图标",page_readable_name:"春雨首页"}),this.redirectForOperateSction(this.data.hover_icon_ad.cy_redirect)},closeFloatingAd:function(){wx.setStorageSync("CLOSED_HOMEPAGE_FLOATING_ADS_ID",this.data.hover_icon_ad.ad_id),this.setData({"hover_icon_ad.shouldShow":!1})},tapOnMarketingItem:function(e){var t=e.currentTarget.dataset.target;l.sensors.track("AppClick",{app:"weixin_mini",click_position:t.title,page_readable_name:"春雨首页"}),this.redirectForOperateSction(t.target_redirect)},redirectForOperateSction:function(e){"html"===(null==e?void 0:e.target_type)?wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.target_scheme))}):"wx_mini"===(null==e?void 0:e.target_type)&&(null!=e&&e.jump_third?wx.navigateToMiniProgram({appId:e.mini_app_id,path:e.target_scheme}):wx.navigateTo({url:e.target_scheme}))},tapOnMarketingBadge:function(e){var t,a=e.currentTarget.dataset.target;console.log(a),null!==(t=a.see_more_redirect)&&void 0!==t&&t.target_scheme?this.redirectForOperateSction(a.see_more_redirect):this.redirectForOperateSction(a.target_redirect)},jumpToNewUserWelfare:function(e){var t=this;return i(a.default.mark((function i(){var n,o,r;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("adDetail",e),n=null,"tap"===e.type?(n=(null===(o=t.data.newUserWelfare)||void 0===o?void 0:o.cy_redirect)||{},l.sensors.track("AppClick",{page_readable_name:"春雨首页",app:"weixin_mini",click_position:"新用户礼包常驻入口"})):n=e.detail,!l.globalData.isSubscribeConsultMessage){a.next=7;break}f(n),a.next=19;break;case 7:return a.prev=7,a.next=10,h(y);case 10:r=a.sent,p(y,r),f(n),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(7),f(n),console.log("error",a.t0);case 19:case"end":return a.stop()}}),i,null,[[7,15]])})))()},pageVisitReport:function(e){return(0,r.default)({fromName:"",name:"首页-小程序",extraInfo:e})},jumpToDoctorMain:function(e){var t,a,i=(e.currentTarget||{}).dataset,n=void 0===i?{}:i,o=null===(t=n.doctorInfo)||void 0===t||null===(a=t.cy_redirect)||void 0===a?void 0:a.click_info,r=n.doctorInfo;this.pageVisitReport(JSON.parse(o)).then((function(){r.is_expert,wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(r.doctor_id,"&from_visit_page=首页-小程序")})}))},goToMoreSelectedDoctors:function(){var e=this;l.sensors.track("AppClick",{app:"weixin_mini",click_position:"精选医生更多",page_readable_name:"春雨首页"}),this.pageVisitReport(JSON.parse(this.data.strictlySelectedDoctor.see_more_redirect.click_info)).then((function(){wx.navigateTo({url:e.data.strictlySelectedDoctor.see_more_redirect.target_scheme})}))}});
},{isPage:true,isComponent:true,currentFile:'pages/index/index.js'});require("pages/index/index.js");$gwx_XC_139=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_139 || [];
function gz$gwx_XC_139_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_139_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_139_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_139_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_139_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_139_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_139=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_139=true;
var x=['./pages/inquery/components/archive_selection/archive_selection.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_139_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_139";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_139();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/archive_selection/archive_selection.wxml'] = [$gwx_XC_139, './pages/inquery/components/archive_selection/archive_selection.wxml'];else __wxAppCode__['pages/inquery/components/archive_selection/archive_selection.wxml'] = $gwx_XC_139( './pages/inquery/components/archive_selection/archive_selection.wxml' );
	;__wxRoute = "pages/inquery/components/archive_selection/archive_selection";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/archive_selection/archive_selection.js";define("pages/inquery/components/archive_selection/archive_selection.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=require("../../../../@babel/runtime/helpers/defineProperty"),e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/patient_profile/",t=getApp();Component({properties:{fromTypeForTrack:{type:String,value:""}},data:{tabIndex:0,archiveList:[],radioGroup:[0,0],archiveRelation:[{name:"自己",lable:"自己"},{name:"父母",lable:"父母"},{name:"子女",lable:"子女"},{name:"爱人",lable:"爱人"},{name:"其他",lable:"其他"}],formData:{name:"",relation:"",birthday:"",gender:0},selectedArchive:{},isButtonDisabled:!1,todayDate:""},lifetimes:{attached:function(){this.getUserProfile(),this.generateTodatDateString()}},observers:{formData:function(a){console.log(a),a.name&&a.relation&&a.birthday?this.setData({isButtonDisabled:!1}):this.setData({isButtonDisabled:!0})}},methods:{changeToCreatingTab:function(){t.sensors.track("AppClick",{app:"weixin_mini",click_position:"新建档案",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack}),this.changeTab(1)},changeTab:function(a){this.setData({tabIndex:a})},getUserProfile:function(){var a=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];wx.request({url:e,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"GET",success:function(e){200===e.statusCode&&e.data&&(e.data.unshift({isCreate:!0}),a.setData({archiveList:e.data}),i&&a.triggerEvent("archive-render-ready"))}})},toArchiveList:function(){this.setData({tabIndex:0})},confirmName:function(a){this.setData({"formData.name":a.detail.value})},confirmRelation:function(a){console.log(a);var e=Number(a.detail.value);this.setData({"formData.relation":this.data.archiveRelation[e].name})},confirmBirthday:function(a){console.log(a),this.setData({"formData.birthday":a.detail.value})},checkRadio:function(e){var t,i=Number(e.currentTarget.dataset.index),r="radioGroup[".concat(i,"]"),n="radioGroup[".concat(1-i,"]");this.setData((a(t={},r,1),a(t,n,0),a(t,"formData.gender",i),t))},confirmArchiveForm:function(){console.log(this.data.formData)},createArchive:function(){var a=this;t.sensors.track("AppClick",{app:"weixin_mini",click_position:"确定新建档案",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack});var i=this.data.formData,r="";i.name?i.relation?-1===this.data.radioGroup.indexOf(1)?(console.log(this.data.radioGroup),r="请选择性别"):i.birthday||(r="请选择出生日期"):r="请选择与您的关系":r="请填写姓名",r?wx.showToast({title:r,icon:"none"}):wx.request({url:e,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:{patient_name:i.name,sex:0===i.gender?"男":"女",birthday:this.data.formData.birthday,relation:this.data.formData.relation},method:"POST",success:function(e){var t={ehr_id:e.data.id,name:e.data.name,relation:e.data.relation,patient_name:e.data.patient_name,sex:e.data.sex,age:e.data.age,birthday:e.data.birthday};a.data.selectedArchive=t,a.getUserProfile(!1),a.selectArchive(),a.changeTab(0)},fail:function(){wx.showToast({icon:"none",title:"无法连接到服务器，请退出重试"})}})},chooseCurrentArchive:function(a){var e=a.currentTarget.dataset.isCreate;if(console.log(a),e)this.changeToCreatingTab();else{t.sensors.track("AppClick",{app:"weixin_mini",click_position:"选择档案",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack});var i=a.currentTarget.dataset.aid,r=this.data.archiveList.filter((function(a){return a.id===i}))[0];if(r){var n={ehr_id:r.id,name:r.name,relation:r.relation,patient_name:r.patient_name,sex:r.sex,age:r.age,birthday:r.birthday};this.data.selectedArchive=n,this.selectArchive()}}},selectArchive:function(){this.triggerEvent("select-archive",{archive:this.data.selectedArchive})},generateTodatDateString:function(){var a=new Date,e=String(a.getFullYear()),t=("0"+a.getMonth()+1).slice(-2),i=("0"+a.getDate()).slice(-2);console.log(e,t,i),this.setData({todayDate:"".concat(e,"-").concat(t,"-").concat(i)})}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/archive_selection/archive_selection.js'});require("pages/inquery/components/archive_selection/archive_selection.js");$gwx_XC_140=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_140 || [];
function gz$gwx_XC_140_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_140_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_140_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_140_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'recommend-list'])
Z([[6],[[7],[3,'serviceList']],[3,'service_list']])
Z([3,'name'])
Z([[2,'<='],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[7],[3,'serviceList']],[3,'fold_pos']]])
Z([3,'selectService'])
Z([a,[3,'single-recommend-list '],[[2,'?:'],[[2,'==='],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[7],[3,'serviceList']],[3,'fold_pos']]],[1,'last'],[1,'']]])
Z([[7],[3,'index']])
Z([3,'single-recommend-left'])
Z([[6],[[7],[3,'item']],[3,'tag_url']])
Z([[6],[[7],[3,'item']],[3,'badge_img_url']])
Z([[2,'<'],[[6],[[7],[3,'serviceList']],[3,'fold_pos']],[[6],[[6],[[7],[3,'serviceList']],[3,'service_list']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_140_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_140_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_140=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_140=true;
var x=['./pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_140_1()
var o00=_n('view')
_rz(z,o00,'class',0,e,s,gg)
var oBAB=_v()
_(o00,oBAB)
var lCAB=function(tEAB,aDAB,eFAB,gg){
var oHAB=_v()
_(eFAB,oHAB)
if(_oz(z,3,tEAB,aDAB,gg)){oHAB.wxVkey=1
var xIAB=_mz(z,'view',['bind:tap',4,'class',1,'data-index',2],[],tEAB,aDAB,gg)
var oJAB=_n('view')
_rz(z,oJAB,'class',7,tEAB,aDAB,gg)
var fKAB=_v()
_(oJAB,fKAB)
if(_oz(z,8,tEAB,aDAB,gg)){fKAB.wxVkey=1
}
var cLAB=_v()
_(oJAB,cLAB)
if(_oz(z,9,tEAB,aDAB,gg)){cLAB.wxVkey=1
}
fKAB.wxXCkey=1
cLAB.wxXCkey=1
_(xIAB,oJAB)
_(oHAB,xIAB)
}
oHAB.wxXCkey=1
return eFAB
}
oBAB.wxXCkey=2
_2z(z,1,lCAB,e,s,gg,oBAB,'item','index','name')
var cAAB=_v()
_(o00,cAAB)
if(_oz(z,10,e,s,gg)){cAAB.wxVkey=1
}
cAAB.wxXCkey=1
_(r,o00)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_140";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_140();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.wxml'] = [$gwx_XC_140, './pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.wxml'];else __wxAppCode__['pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.wxml'] = $gwx_XC_140( './pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.wxml' );
	;__wxRoute = "pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.js";define("pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl;var e=getApp();Component({properties:{recommendInfo:{type:Object,value:{}},serviceList:{type:Object,value:{}},fromTypeForTrack:{type:String,value:""}},data:{checkedIndex:999},observers:{serviceList:function(e){var t=this;e&&Object.keys(e).length&&e.service_list.forEach((function(e,i){e.default_select&&t.setData({checkedIndex:i})}))}},methods:{openClinicSelector:function(){this.triggerEvent("show-clinic-selector",{shouldShow:!0})},selectService:function(e){var t=e.currentTarget.dataset.index;this.data.checkedIndex===t&&(t=999),this.setData({checkedIndex:t}),this.triggerEvent("select-service",{serviceIndex:t})},showAllService:function(){e.sensors.track("AppClick",{app:"weixin_mini",from_type:this.data.fromTypeForTrack,click_position:"查看更多问诊服务",page_readable_name:"病情描述"}),this.setData({"serviceList.fold_pos":this.data.serviceList.service_list.length})}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.js'});require("pages/inquery/components/basic_recommend_doctor/basic_recommend_doctor.js");$gwx_XC_141=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_141 || [];
function gz$gwx_XC_141_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_141_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_141_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_141_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_141_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_141_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_141=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_141=true;
var x=['./pages/inquery/components/bind_phone_number/bind_phone_number.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_141_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_141";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_141();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/bind_phone_number/bind_phone_number.wxml'] = [$gwx_XC_141, './pages/inquery/components/bind_phone_number/bind_phone_number.wxml'];else __wxAppCode__['pages/inquery/components/bind_phone_number/bind_phone_number.wxml'] = $gwx_XC_141( './pages/inquery/components/bind_phone_number/bind_phone_number.wxml' );
	;__wxRoute = "pages/inquery/components/bind_phone_number/bind_phone_number";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/bind_phone_number/bind_phone_number.js";define("pages/inquery/components/bind_phone_number/bind_phone_number.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),o=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=e(require("../../../../7B9C8496829A079C1DFAEC91795C7B70.js")),r=require("../../../../43A2F676829A079C25C49E711B4C7B70.js"),i=o.baseUrl+"/cooperation/wap/new_wx_mini_bind_phone/";Component({data:{},methods:{handleGetPhoneNumber:function(e){var o=this;console.log(e);var a=e.detail.code;a&&(console.log("成功获取手机号"),(0,t.default)({url:i,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:a,app:"weixin_mini"},success:function(e){0!==e.data.error_code?wx.showToast({icon:"none",title:e.data.error_msg||"绑定失败"}):0===e.data.error_code&&((0,r.updateSessionid)(e.data.result.sessionid),o.triggerEvent("get-phone"))}}))}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/bind_phone_number/bind_phone_number.js'});require("pages/inquery/components/bind_phone_number/bind_phone_number.js");$gwx_XC_142=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_142 || [];
function gz$gwx_XC_142_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_142_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_142_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_142_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_142_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_142_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_142=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_142=true;
var x=['./pages/inquery/components/coupon_dialog/coupon_dialog.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_142_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_142";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_142();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/coupon_dialog/coupon_dialog.wxml'] = [$gwx_XC_142, './pages/inquery/components/coupon_dialog/coupon_dialog.wxml'];else __wxAppCode__['pages/inquery/components/coupon_dialog/coupon_dialog.wxml'] = $gwx_XC_142( './pages/inquery/components/coupon_dialog/coupon_dialog.wxml' );
	;__wxRoute = "pages/inquery/components/coupon_dialog/coupon_dialog";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/coupon_dialog/coupon_dialog.js";define("pages/inquery/components/coupon_dialog/coupon_dialog.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=require("../../../../A9EAB7C2829A079CCF8CDFC58A3C7B70.js"),o=e.baseUrl+"/api/v7/new_user/get_coupon/",n=getApp();Component({properties:{couponId:{type:Number,value:0}},data:{expiredDate:""},lifetimes:{attached:function(){this.setData({expiredDate:this.getTodayDateString()})}},methods:{closeDialog:function(){n.sensors.track("AppClick",{app:"weixin_mini",page_readable_name:"新用户弹窗",click_position:"关闭"}),this.getCoupon()},beforeLogin:function(){var e=this;return new Promise((function(t,o){n.globalData.appIsLogin.then((function(){e.getCoupon()})).catch((function(){return o()}))}))},bindgetuserProfile:function(){var e=this;n.sensors.track("AppClick",{app:"weixin_mini",page_readable_name:"新用户弹窗",click_position:"立即领取"}),this.beforeLogin().catch((function(){wx.getUserProfile({desc:"获取用户基本信息以登录",success:function(t){try{wx.setStorageSync("ProfileUserInfo",t.userInfo)}catch(e){console.log("存储用户基本信息到本地失败"),console.log(e)}e.loginEvent(t)},fail:function(t){console.log(t||"getUserProfile失败回调"),e.triggerEvent("usernoauthorize")}})}))},loginEvent:function(e){var o=this,n=e.encryptedData,i=e.iv;wx.showToast({title:"正在登录",icon:"loading"}),n&&i&&(0,t.appLogin)({success:function(e){wx.showToast({title:"正在领取",icon:"loading"}),o.getCoupon()},fail:function(){},encryptedData:n,iv:i})},getCoupon:function(){var e=this;wx.request({url:o,header:{cookie:n.globalData.sessionid},method:"POST",success:function(t){e.triggerEvent("get-coupon"),0===t.data.error_code?wx.showToast({title:"领取成功",icon:"none"}):wx.showToast({title:t.data.error_msg,icon:"none",duration:2500})},fail:function(e){console.log(e)}})},getTodayDateString:function(){var e=new Date,t=new Date(e);t.setDate(t.getDate()+1);var o=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+"-"+n+"-"+o}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/coupon_dialog/coupon_dialog.js'});require("pages/inquery/components/coupon_dialog/coupon_dialog.js");$gwx_XC_143=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_143 || [];
function gz$gwx_XC_143_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_143_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_143_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_143_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'background-wrapper'])
Z([3,'doctor-info-section'])
Z([[6],[[7],[3,'doctorInfo']],[3,'image']])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_active']])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_3a_hospital']])
Z([[2,'&&'],[[6],[[7],[3,'doctorInfo']],[3,'tags']],[[6],[[6],[[7],[3,'doctorInfo']],[3,'tags']],[3,'length']]])
Z([[6],[[7],[3,'doctorInfo']],[3,'tags']])
Z([[6],[[7],[3,'item']],[3,'icon']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_143_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_143_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_143=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_143=true;
var x=['./pages/inquery/components/doctor_card/doctor_card.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_143_1()
var oPAB=_n('view')
_rz(z,oPAB,'class',0,e,s,gg)
var aRAB=_n('view')
_rz(z,aRAB,'class',1,e,s,gg)
var eTAB=_mz(z,'doctor-avatar',['avatarUrl',2,'isActive',1],[],e,s,gg)
_(aRAB,eTAB)
var tSAB=_v()
_(aRAB,tSAB)
if(_oz(z,4,e,s,gg)){tSAB.wxVkey=1
}
tSAB.wxXCkey=1
_(oPAB,aRAB)
var lQAB=_v()
_(oPAB,lQAB)
if(_oz(z,5,e,s,gg)){lQAB.wxVkey=1
var bUAB=_v()
_(lQAB,bUAB)
var oVAB=function(oXAB,xWAB,fYAB,gg){
var h1AB=_v()
_(fYAB,h1AB)
if(_oz(z,7,oXAB,xWAB,gg)){h1AB.wxVkey=1
}
h1AB.wxXCkey=1
return fYAB
}
bUAB.wxXCkey=2
_2z(z,6,oVAB,e,s,gg,bUAB,'item','index','')
}
lQAB.wxXCkey=1
_(r,oPAB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_143";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_143();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/doctor_card/doctor_card.wxml'] = [$gwx_XC_143, './pages/inquery/components/doctor_card/doctor_card.wxml'];else __wxAppCode__['pages/inquery/components/doctor_card/doctor_card.wxml'] = $gwx_XC_143( './pages/inquery/components/doctor_card/doctor_card.wxml' );
	;__wxRoute = "pages/inquery/components/doctor_card/doctor_card";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/doctor_card/doctor_card.js";define("pages/inquery/components/doctor_card/doctor_card.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{doctorInfo:{type:Object,value:{}}},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/doctor_card/doctor_card.js'});require("pages/inquery/components/doctor_card/doctor_card.js");$gwx_XC_144=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_144 || [];
function gz$gwx_XC_144_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_144_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_144_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_144_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_144_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_144_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_144=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_144=true;
var x=['./pages/inquery/components/header/header.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_144_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_144";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_144();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/header/header.wxml'] = [$gwx_XC_144, './pages/inquery/components/header/header.wxml'];else __wxAppCode__['pages/inquery/components/header/header.wxml'] = $gwx_XC_144( './pages/inquery/components/header/header.wxml' );
	;__wxRoute = "pages/inquery/components/header/header";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/header/header.js";define("pages/inquery/components/header/header.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/defineProperty");new Component({properties:{currentIndex:{type:Number,value:0},headerType:{type:String,value:""}},observers:{currentIndex:function(t){var a=this,n=function(t,n){var r="iconSet[".concat(t,"]");a.setData(e({},r,n))};this.data.iconSet.forEach((function(e,a){n(a,a===t-1?"right":a===t?"left":"normal")}))}},data:{typeMap:{normal:{headers:["描述病情","发送图片","选择就诊人","匹配医生"]},specific:{headers:["描述病情","发送图片","选择就诊人","医生接诊"]}},iconSet:["left","normal","normal"],iconMap:{left:"https://staff.chunyu.mobi/@/media/images/2022/12/29/6955/ed32effd20b7_w45_h102_.png",normal:"https://staff.chunyu.mobi/@/media/images/2022/12/29/0241/b603088ec18d_w45_h102_.png",right:"https://staff.chunyu.mobi/@/media/images/2022/12/29/fcb8/ee1a5c1d81c1_w45_h102_.png"}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/header/header.js'});require("pages/inquery/components/header/header.js");$gwx_XC_145=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_145 || [];
function gz$gwx_XC_145_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_145_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_145_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_145_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'quickInput']])
Z([3,'content'])
Z([[6],[[6],[[7],[3,'item']],[3,'content']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_145_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_145_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_145=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_145=true;
var x=['./pages/inquery/components/history_selector/history_selector.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_145_1()
var o4AB=_v()
_(r,o4AB)
var l5AB=function(t7AB,a6AB,e8AB,gg){
var o0AB=_v()
_(e8AB,o0AB)
if(_oz(z,2,t7AB,a6AB,gg)){o0AB.wxVkey=1
}
o0AB.wxXCkey=1
return e8AB
}
o4AB.wxXCkey=2
_2z(z,0,l5AB,e,s,gg,o4AB,'item','index','content')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_145";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_145();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/history_selector/history_selector.wxml'] = [$gwx_XC_145, './pages/inquery/components/history_selector/history_selector.wxml'];else __wxAppCode__['pages/inquery/components/history_selector/history_selector.wxml'] = $gwx_XC_145( './pages/inquery/components/history_selector/history_selector.wxml' );
	;__wxRoute = "pages/inquery/components/history_selector/history_selector";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/history_selector/history_selector.js";define("pages/inquery/components/history_selector/history_selector.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp();Component({properties:{quickInput:{type:Array,value:[]},draftTip:{type:String,value:""},fromTypeForTrack:{type:String,value:""}},methods:{selectHistory:function(e){var r=e.currentTarget.dataset;t.sensors.track("AppClick",{app:"weixin_mini",click_position:"history_ill"===this.data.quickInput[r.historyIndex].type?"历史病情":"草稿",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack}),this.triggerEvent("select-history",r)}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/history_selector/history_selector.js'});require("pages/inquery/components/history_selector/history_selector.js");$gwx_XC_146=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_146 || [];
function gz$gwx_XC_146_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_146_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_146_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_146_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'image-selection-main-container'])
Z([[2,'==='],[[7],[3,'tabIndex']],[1,0]])
Z([3,'image-selection-images-holder'])
Z([[7],[3,'imageListLocal']])
Z([3,'filePath'])
Z([[6],[[7],[3,'item']],[3,'isUploading']])
Z([[2,'<'],[[6],[[7],[3,'imageListLocal']],[3,'length']],[1,9]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_146_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_146_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_146=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_146=true;
var x=['./pages/inquery/components/image_selection/image_selection.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_146_1()
var oBBB=_n('view')
_rz(z,oBBB,'class',0,e,s,gg)
var fCBB=_v()
_(oBBB,fCBB)
if(_oz(z,1,e,s,gg)){fCBB.wxVkey=1
}
else{fCBB.wxVkey=2
var cDBB=_n('view')
_rz(z,cDBB,'class',2,e,s,gg)
var oFBB=_v()
_(cDBB,oFBB)
var cGBB=function(lIBB,oHBB,aJBB,gg){
var eLBB=_v()
_(aJBB,eLBB)
if(_oz(z,5,lIBB,oHBB,gg)){eLBB.wxVkey=1
}
eLBB.wxXCkey=1
return aJBB
}
oFBB.wxXCkey=2
_2z(z,3,cGBB,e,s,gg,oFBB,'item','index','filePath')
var hEBB=_v()
_(cDBB,hEBB)
if(_oz(z,6,e,s,gg)){hEBB.wxVkey=1
}
hEBB.wxXCkey=1
_(fCBB,cDBB)
}
fCBB.wxXCkey=1
_(r,oBBB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_146";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_146();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/image_selection/image_selection.wxml'] = [$gwx_XC_146, './pages/inquery/components/image_selection/image_selection.wxml'];else __wxAppCode__['pages/inquery/components/image_selection/image_selection.wxml'] = $gwx_XC_146( './pages/inquery/components/image_selection/image_selection.wxml' );
	;__wxRoute = "pages/inquery/components/image_selection/image_selection";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/image_selection/image_selection.js";define("pages/inquery/components/image_selection/image_selection.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../../../94310D64829A079CF2576563CCAC7B70.js"),a=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../../../43A2F676829A079C25C49E711B4C7B70.js"),o=e(require("../../../../7B9C8496829A079C1DFAEC91795C7B70.js")),s=getApp(),r=a.baseUrl+"/cooperation/wap/new_wx_mini_bind_phone/";Component({properties:{fromTypeForTrack:{type:String,value:""},hasBindPhoneNumber:{type:Boolean,value:!0}},data:{tabIndex:0,imageListLocal:[],token:"",imgUrlList:[],isButtonDisabled:!1},methods:{makeUpload:function(){var e=this;wx.chooseImage({count:9-this.data.imageListLocal.length,sizeType:["compressed"],success:function(t){t.tempFilePaths.forEach((function(t){e.data.imageListLocal.push({filePath:t,hasUploaded:!1,isUploading:!0})})),e.setData({imageListLocal:e.data.imageListLocal}),e.triggerUploadInBackground()}})},triggerUploadInBackground:function(){var e=this;(0,t.generateFakeToken)().then((function(t){e.data.token=t,e.data.imageListLocal.forEach((function(t){wx.uploadFile({url:"https://upload.qbox.me/",filePath:t.filePath,name:"file",formData:{token:e.data.token},success:function(a){if(200===a.statusCode)try{var i=JSON.parse(a.data);if(i.success){t.isUploading=!1;var o={url:i.img_url,uniquePath:t.filePath};e.data.imageListLocal.forEach((function(t){t.filePath!==o.uniquePath||t.hasUploaded||(t.hasUploaded=!0,e.setData({imageListLocal:e.data.imageListLocal}),e.data.imgUrlList.push(o),e.triggerEvent("complete-single-upload",{imageObj:o}))}))}}catch(e){console.log("json parse error")}},fail:function(e){console.log(e)}})}))}))},removePic:function(e){var t=e.currentTarget.dataset.path,a=-1;if(this.data.imageListLocal.forEach((function(e,i){e.filePath===t&&(a=i)})),-1!==a)if(this.data.imageListLocal[a].hasUploaded){var i=this.data.imgUrlList.findIndex((function(e){return e.uniquePath===t})),o=JSON.parse(JSON.stringify(this.data.imageListLocal)),s=JSON.parse(JSON.stringify(this.data.imgUrlList));o.splice(a,1),s.splice(i,1),this.setData({imageListLocal:o,imgUrlList:s})}else{var r=JSON.parse(JSON.stringify(this.data.imageListLocal));r.splice(a,1),this.setData({imageListLocal:r})}},toArchive:function(){s.sensors.track("AppClick",{click_position:"确定发送图片",from_type:this.data.fromTypeForTrack}),this.data.isButtonDisabled=!1,this.triggerEvent("to-archive",{hasSelectedPic:Boolean(this.data.imageListLocal.length)})},toGuidePage:function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(a.baseUrl,"/api/v8/photo_help_page/")})},handleUnauthorize:function(){this.triggerEvent("usernoauthorize")},previewImage:function(e){var t=Number(e.currentTarget.dataset.index),a=[];this.data.imageListLocal.forEach((function(e){a.push(e.filePath)})),wx.previewImage({urls:a,current:this.data.imageListLocal[t].filePath})},handleConfirm:function(){this.data.isButtonDisabled||(this.data.isButtonDisabled=!0,this.triggerEvent("update-image-list",{imgUrlList:JSON.parse(JSON.stringify(this.data.imgUrlList))}))},toSelectImg:function(){s.sensors.track("AppClick",{app:"weixin_mini",click_position:"上传图片",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack}),this.setData({tabIndex:1})},handleGetPhoneNumber:function(e){var t=this;this.data.isButtonDisabled=!1,s.sensors.track("AppClick",{app:"weixin_mini",click_position:e.currentTarget.dataset.trackInfo,page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack});var a=e.detail.code;a?(0,o.default)({url:r,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:a,app:"weixin_mini"},success:function(e){0!==e.data.error_code?wx.showToast({icon:"none",title:e.data.error_msg||"绑定失败"}):(console.log(e.data.result),(0,i.updateSessionid)(e.data.result.sessionid),t.triggerEvent("skip-to-archive"))}}):this.refusePhoneNumber()},getPhoneNumberAndUploadImage:function(e){var t=this;this.data.isButtonDisabled=!1,console.log(e),this.handleConfirm();var a=e.detail.code;a?(0,o.default)({url:r,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:a,app:"weixin_mini"},success:function(e){0!==e.data.error_code?wx.showToast({icon:"none",title:e.data.error_msg||"绑定失败"}):((0,i.updateSessionid)(e.data.result.sessionid),t.toArchive())}}):this.refusePhoneNumber(!0)},refusePhoneNumber:function(){this.triggerEvent("refuse-phone-number",{hasSelectedPic:Boolean(this.data.imageListLocal.length)})},toArchiveIgnorePhone:function(e){this.data.isButtonDisabled=!1,s.sensors.track("AppClick",{app:"weixin_mini",click_position:e.currentTarget.dataset.trackInfo,page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack}),this.triggerEvent("skip-to-archive")},toArchiveIgnorePhoneWithImage:function(){this.data.isButtonDisabled=!1,this.handleConfirm(),this.toArchive()}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/image_selection/image_selection.js'});require("pages/inquery/components/image_selection/image_selection.js");$gwx_XC_147=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_147 || [];
function gz$gwx_XC_147_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_147_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_147_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_147_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'basic-more-doctor-main-container'])
Z([[6],[[6],[[7],[3,'recommendInfo']],[3,'recommend_doctor']],[3,'length']])
Z([[6],[[7],[3,'recommendInfo']],[3,'recommend_doctor']])
Z([3,'id'])
Z([3,'selectDoctor'])
Z([[7],[3,'item']])
Z([[7],[3,'index']])
Z([[2,'?:'],[[7],[3,'isFindDocFast']],[1,'find_doc_fast'],[1,'default']])
Z([[2,'&&'],[[7],[3,'isFindDocFast']],[[6],[[6],[[7],[3,'recommendInfo']],[3,'recommend_doctor']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_147_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_147_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_147=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_147=true;
var x=['./pages/inquery/components/more_recommend_doctor/more_recommend_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_147_1()
var oNBB=_n('view')
_rz(z,oNBB,'class',0,e,s,gg)
var xOBB=_v()
_(oNBB,xOBB)
if(_oz(z,1,e,s,gg)){xOBB.wxVkey=1
}
var fQBB=_v()
_(oNBB,fQBB)
var cRBB=function(oTBB,hSBB,cUBB,gg){
var lWBB=_mz(z,'doctor-service-card',['bind:click-on-doctor-service',4,'doctorDetail',1,'listIndex',2,'scene',3],[],oTBB,hSBB,gg)
_(cUBB,lWBB)
return cUBB
}
fQBB.wxXCkey=4
_2z(z,2,cRBB,e,s,gg,fQBB,'item','index','id')
var oPBB=_v()
_(oNBB,oPBB)
if(_oz(z,8,e,s,gg)){oPBB.wxVkey=1
}
xOBB.wxXCkey=1
oPBB.wxXCkey=1
_(r,oNBB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_147";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_147();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/more_recommend_doctor/more_recommend_doctor.wxml'] = [$gwx_XC_147, './pages/inquery/components/more_recommend_doctor/more_recommend_doctor.wxml'];else __wxAppCode__['pages/inquery/components/more_recommend_doctor/more_recommend_doctor.wxml'] = $gwx_XC_147( './pages/inquery/components/more_recommend_doctor/more_recommend_doctor.wxml' );
	;__wxRoute = "pages/inquery/components/more_recommend_doctor/more_recommend_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/more_recommend_doctor/more_recommend_doctor.js";define("pages/inquery/components/more_recommend_doctor/more_recommend_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{recommendInfo:{type:Object,value:{}},isFindDocFast:{type:Boolean,value:!1}},data:{localRecommendInfo:{}},observers:{recommendInfo:function(o){o.triage_first_clinic_no&&(o.recommend_doctor&&o.recommend_doctor.length||!this.data.isFindDocFast||this.goToFindDoc())}},methods:{selectDoctor:function(o){var t=Number(o.detail.listIndex);this.data.isFindDocFast?this.triggerEvent("find-doc-fast-pay",{selectedDoctor:this.data.recommendInfo.recommend_doctor[t]}):this.triggerEvent("select-doctors",{listIndex:t})},goToFindDoc:function(){this.triggerEvent("go-to-find-doc");var o=this.data.recommendInfo.triage_first_clinic_no||"",t=this.data.recommendInfo.triage_second_clinic_no||"",e=this.data.recommendInfo.triage_clinic_name||"";wx.navigateTo({url:"/pages/find_doctor_list/index?show_item_type_id=2&first_clinic_no=".concat(o,"&second_clinic_no=").concat(t,"&clinic_name=").concat(e)})}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/more_recommend_doctor/more_recommend_doctor.js'});require("pages/inquery/components/more_recommend_doctor/more_recommend_doctor.js");$gwx_XC_148=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_148 || [];
function gz$gwx_XC_148_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_148_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_148_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_148_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_148_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_148_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_148=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_148=true;
var x=['./pages/inquery/components/phone_input/phone_input.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_148_1()
var tYBB=_v()
_(r,tYBB)
if(_oz(z,0,e,s,gg)){tYBB.wxVkey=1
}
tYBB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_148";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_148();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/phone_input/phone_input.wxml'] = [$gwx_XC_148, './pages/inquery/components/phone_input/phone_input.wxml'];else __wxAppCode__['pages/inquery/components/phone_input/phone_input.wxml'] = $gwx_XC_148( './pages/inquery/components/phone_input/phone_input.wxml' );
	;__wxRoute = "pages/inquery/components/phone_input/phone_input";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/phone_input/phone_input.js";define("pages/inquery/components/phone_input/phone_input.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{phone:{type:String,value:""},shouldShow:{type:Boolean,value:!0}},data:{phoneNumberLocal:"",status:"display"},observers:{phone:function(e){this.setData({phoneNumberLocal:e,status:e?"display":"modify"})}},methods:{handleInput:function(e){this.data.phoneNumberLocal=e.detail.value},confirmPhoneNumber:function(){var e=String(this.data.phoneNumberLocal);console.log(e),11===e.length?(this.triggerEvent("confirm-phone",{phone:e}),this.hideComponent()):wx.showToast({icon:"none",title:"手机号格式不正确"})},hideComponent:function(){this.triggerEvent("hide-phone-input")},changePhoneNumber:function(){this.setData({status:"modify",phoneNumberLocal:""})}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/phone_input/phone_input.js'});require("pages/inquery/components/phone_input/phone_input.js");$gwx_XC_149=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_149 || [];
function gz$gwx_XC_149_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_149_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_149_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_149_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_149_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_149_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_149=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_149=true;
var x=['./pages/inquery/components/service_card/service_card.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_149_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_149";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_149();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/service_card/service_card.wxml'] = [$gwx_XC_149, './pages/inquery/components/service_card/service_card.wxml'];else __wxAppCode__['pages/inquery/components/service_card/service_card.wxml'] = $gwx_XC_149( './pages/inquery/components/service_card/service_card.wxml' );
	;__wxRoute = "pages/inquery/components/service_card/service_card";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/service_card/service_card.js";define("pages/inquery/components/service_card/service_card.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/service_card/service_card.js'});require("pages/inquery/components/service_card/service_card.js");$gwx_XC_150=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_150 || [];
function gz$gwx_XC_150_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_150_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_150_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_150_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'single-message-container '],[[2,'?:'],[[2,'==='],[[7],[3,'type']],[1,'patient']],[1,'reverse'],[1,'']]])
Z([[2,'==='],[[7],[3,'type']],[1,'doctor']])
Z([3,'content-holder'])
Z(z[1])
Z([[2,'==='],[[7],[3,'contentType']],[1,'text']])
Z([[2,'==='],[[7],[3,'contentType']],[1,'image']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_150_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_150_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_150=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_150=true;
var x=['./pages/inquery/components/single_message/single_message.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_150_1()
var o2BB=_n('view')
_rz(z,o2BB,'class',0,e,s,gg)
var x3BB=_v()
_(o2BB,x3BB)
if(_oz(z,1,e,s,gg)){x3BB.wxVkey=1
}
var o4BB=_n('view')
_rz(z,o4BB,'class',2,e,s,gg)
var f5BB=_v()
_(o4BB,f5BB)
if(_oz(z,3,e,s,gg)){f5BB.wxVkey=1
}
var c6BB=_v()
_(o4BB,c6BB)
if(_oz(z,4,e,s,gg)){c6BB.wxVkey=1
}
var h7BB=_v()
_(o4BB,h7BB)
if(_oz(z,5,e,s,gg)){h7BB.wxVkey=1
}
f5BB.wxXCkey=1
c6BB.wxXCkey=1
h7BB.wxXCkey=1
_(o2BB,o4BB)
x3BB.wxXCkey=1
_(r,o2BB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_150";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_150();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/single_message/single_message.wxml'] = [$gwx_XC_150, './pages/inquery/components/single_message/single_message.wxml'];else __wxAppCode__['pages/inquery/components/single_message/single_message.wxml'] = $gwx_XC_150( './pages/inquery/components/single_message/single_message.wxml' );
	;__wxRoute = "pages/inquery/components/single_message/single_message";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/single_message/single_message.js";define("pages/inquery/components/single_message/single_message.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{avatar:{type:String,value:""},text:{type:String,value:""},type:{type:String,value:"doctor"},contentType:{type:String,value:"text"},imgPath:{type:String,value:""},doctorName:{type:String,value:""}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/single_message/single_message.js'});require("pages/inquery/components/single_message/single_message.js");$gwx_XC_151=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_151 || [];
function gz$gwx_XC_151_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_151_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_151_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_151_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onLinkTap'])
Z([[7],[3,'tip']])
Z([[7],[3,'tagStyle']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_151_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_151_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_151=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_151=true;
var x=['./pages/inquery/components/system_info/system_info.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_151_1()
var c9BB=_mz(z,'mp-html',['bind:linktap',0,'content',1,'tagStyle',1],[],e,s,gg)
_(r,c9BB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_151";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_151();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/components/system_info/system_info.wxml'] = [$gwx_XC_151, './pages/inquery/components/system_info/system_info.wxml'];else __wxAppCode__['pages/inquery/components/system_info/system_info.wxml'] = $gwx_XC_151( './pages/inquery/components/system_info/system_info.wxml' );
	;__wxRoute = "pages/inquery/components/system_info/system_info";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/components/system_info/system_info.js";define("pages/inquery/components/system_info/system_info.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{tip:{type:String,value:{}}},data:{navigateUrl:"",tagStyle:{a:"color: #39D167;"}},methods:{onLinkTap:function(e){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.detail.href))}),console.log(e.detail.href)}}});
},{isPage:false,isComponent:true,currentFile:'pages/inquery/components/system_info/system_info.js'});require("pages/inquery/components/system_info/system_info.js");$gwx_XC_152=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_152 || [];
function gz$gwx_XC_152_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_152_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_152_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_152_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'inquery-main-container'])
Z([[2,'||'],[[2,'||'],[[2,'==='],[[7],[3,'pageType']],[1,1]],[[2,'==='],[[7],[3,'pageType']],[1,4]]],[[2,'==='],[[7],[3,'pageType']],[1,2]]])
Z([[7],[3,'headerTabIndex']])
Z([[2,'?:'],[[6],[[7],[3,'urlData']],[3,'problem_id']],[1,'specific'],[1,'normal']])
Z([3,'main-section-scroll-view'])
Z([3,'scroll-view'])
Z([[7],[3,'scrollAnchor']])
Z([1,true])
Z(z[7])
Z([[2,'&&'],[[6],[[7],[3,'messageStream']],[3,'tip_origin']],[[2,'!'],[[7],[3,'shouldDefaultMessageHide']]]])
Z([[6],[[7],[3,'messageStream']],[3,'tip']])
Z([[6],[[7],[3,'urlData']],[3,'problem_id']])
Z([[7],[3,'certificateDoctorInfo']])
Z(z[9])
Z([[2,'&&'],[[6],[[7],[3,'messageStream']],[3,'guide']],[[7],[3,'fakeReady']]])
Z([[6],[[7],[3,'messageStream']],[3,'doctor_avatar']])
Z([[6],[[7],[3,'messageStream']],[3,'doctor_name']])
Z([[6],[[7],[3,'messageStream']],[3,'guide']])
Z([3,'doctor'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'shouldHistorySelectorShow']],[[7],[3,'fakeReady']]],[[6],[[7],[3,'messageStream']],[3,'quick_input']]],[[6],[[6],[[7],[3,'messageStream']],[3,'quick_input']],[3,'length']]])
Z([3,'onSelectHistory'])
Z([[6],[[7],[3,'messageStream']],[3,'draft_tip']])
Z([[7],[3,'fromTypeForTrack']])
Z([[6],[[7],[3,'messageStream']],[3,'quick_input']])
Z([[7],[3,'shouldDefaultMessageHide']])
Z(z[15])
Z([[7],[3,'blackListMessage']])
Z(z[18])
Z([[7],[3,'messagePool']])
Z([3,'text'])
Z([[6],[[7],[3,'item']],[3,'avatar']])
Z([3,'previewImage'])
Z([[6],[[7],[3,'item']],[3,'contentType']])
Z(z[32])
Z([[6],[[7],[3,'item']],[3,'imgPath']])
Z(z[16])
Z(z[34])
Z([[6],[[7],[3,'item']],[3,'text']])
Z([[6],[[7],[3,'item']],[3,'type']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'operatingSectionIndex']],[1,4]],[[7],[3,'shouldServiceListShow']]])
Z([3,'handleSelectBasicService'])
Z([3,'toggleComponent'])
Z(z[22])
Z([[7],[3,'recommendInfo']])
Z([[7],[3,'serviceList']])
Z([[2,'||'],[[2,'&&'],[[2,'==='],[[7],[3,'operatingSectionIndex']],[1,4]],[[6],[[6],[[7],[3,'recommendInfo']],[3,'recommend_doctor']],[3,'length']]],[[2,'&&'],[[2,'==='],[[7],[3,'pageType']],[1,4]],[[2,'==='],[[7],[3,'operatingSectionIndex']],[1,4]]]])
Z([3,'handleFindDoctorFastPay'])
Z([3,'handleGoToFindDoc'])
Z([3,'handleSelectDoctors'])
Z([[2,'==='],[[7],[3,'pageType']],[1,4]])
Z(z[43])
Z([[2,'&&'],[[7],[3,'shouldBottomButtonSectionShow']],[[2,'!'],[[7],[3,'isInBlackList']]]])
Z([a,[3,'operating-section inquery-main-flex-item '],[[2,'?:'],[[2,'&&'],[[7],[3,'hasInputFocused']],[[2,'==='],[[7],[3,'operatingSectionIndex']],[1,0]]],[1,'no-padding'],[1,'']]])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,0]])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,1]])
Z([3,'handleSingleImageUpload'])
Z([3,'refusePhoneNumber'])
Z([3,'handleSkipToArchive'])
Z([3,'handleToArchive'])
Z([3,'handleUpdateImageList'])
Z([3,'handleUnauthorize'])
Z(z[22])
Z([[7],[3,'hasBindPhoneNumber']])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,2]])
Z([3,'handleArchiveRenderReady'])
Z([3,'handleSelectArchive'])
Z(z[22])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,3]])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,4]])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,5]])
Z([3,'relogin'])
Z([[2,'==='],[[7],[3,'operatingSectionIndex']],[1,6]])
Z([3,'getPhoneNUmber'])
Z([3,'floating-section'])
Z([3,'handleConfirmClinic'])
Z(z[41])
Z([[6],[[7],[3,'recommendInfo']],[3,'triage_first_clinic_no']])
Z([[6],[[7],[3,'recommendInfo']],[3,'triage_second_clinic_no']])
Z([[7],[3,'shouldClinicSelectorShow']])
Z([3,'handleConfirmPhone'])
Z([3,'handleHidePhoneInput'])
Z([[7],[3,'userPhone']])
Z([[7],[3,'shouldPhoneInputShow']])
Z([[7],[3,'shouldCouponDialogShow']])
Z([3,'onGetCoupon'])
Z([[7],[3,'couponId']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_152_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_152_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_152=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_152=true;
var x=['./pages/inquery/inquery.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_152_1()
var lACB=_n('view')
_rz(z,lACB,'class',0,e,s,gg)
var aBCB=_v()
_(lACB,aBCB)
if(_oz(z,1,e,s,gg)){aBCB.wxVkey=1
var eDCB=_mz(z,'header',['currentIndex',2,'headerType',1],[],e,s,gg)
_(aBCB,eDCB)
}
var bECB=_mz(z,'scroll-view',['class',4,'id',1,'scrollIntoView',2,'scrollWithAnimation',3,'scrollY',4],[],e,s,gg)
var oNCB=_n('service-card')
_(bECB,oNCB)
var oFCB=_v()
_(bECB,oFCB)
if(_oz(z,9,e,s,gg)){oFCB.wxVkey=1
var lOCB=_n('system-info')
_rz(z,lOCB,'tip',10,e,s,gg)
_(oFCB,lOCB)
}
var xGCB=_v()
_(bECB,xGCB)
if(_oz(z,11,e,s,gg)){xGCB.wxVkey=1
var aPCB=_n('doctor-card')
_rz(z,aPCB,'doctorInfo',12,e,s,gg)
_(xGCB,aPCB)
}
var oHCB=_v()
_(bECB,oHCB)
if(_oz(z,13,e,s,gg)){oHCB.wxVkey=1
}
var fICB=_v()
_(bECB,fICB)
if(_oz(z,14,e,s,gg)){fICB.wxVkey=1
var tQCB=_mz(z,'single-message',['avatar',15,'doctorName',1,'text',2,'type',3],[],e,s,gg)
_(fICB,tQCB)
}
var cJCB=_v()
_(bECB,cJCB)
if(_oz(z,19,e,s,gg)){cJCB.wxVkey=1
var eRCB=_mz(z,'history-selector',['bind:select-history',20,'draftTip',1,'fromTypeForTrack',2,'quickInput',3],[],e,s,gg)
_(cJCB,eRCB)
}
var hKCB=_v()
_(bECB,hKCB)
if(_oz(z,24,e,s,gg)){hKCB.wxVkey=1
var bSCB=_mz(z,'single-message',['avatar',25,'text',1,'type',2],[],e,s,gg)
_(hKCB,bSCB)
}
var oTCB=_v()
_(bECB,oTCB)
var xUCB=function(fWCB,oVCB,cXCB,gg){
var oZCB=_mz(z,'single-message',['avatar',30,'bind:tap',1,'contentType',2,'data-contenttype',3,'data-url',4,'doctorName',5,'imgPath',6,'text',7,'type',8],[],fWCB,oVCB,gg)
_(cXCB,oZCB)
return cXCB
}
oTCB.wxXCkey=4
_2z(z,28,xUCB,e,s,gg,oTCB,'item','index','text')
var oLCB=_v()
_(bECB,oLCB)
if(_oz(z,39,e,s,gg)){oLCB.wxVkey=1
var c1CB=_mz(z,'basic-recommend-doctor',['bind:select-service',40,'bind:show-clinic-selector',1,'fromTypeForTrack',2,'recommendInfo',3,'serviceList',4],[],e,s,gg)
_(oLCB,c1CB)
}
var cMCB=_v()
_(bECB,cMCB)
if(_oz(z,45,e,s,gg)){cMCB.wxVkey=1
var o2CB=_mz(z,'more-recommend-doctor',['bind:find-doc-fast-pay',46,'bind:go-to-find-doc',1,'bind:select-doctors',2,'isFindDocFast',3,'recommendInfo',4],[],e,s,gg)
_(cMCB,o2CB)
}
oFCB.wxXCkey=1
oFCB.wxXCkey=3
xGCB.wxXCkey=1
xGCB.wxXCkey=3
oHCB.wxXCkey=1
fICB.wxXCkey=1
fICB.wxXCkey=3
cJCB.wxXCkey=1
cJCB.wxXCkey=3
hKCB.wxXCkey=1
hKCB.wxXCkey=3
oLCB.wxXCkey=1
oLCB.wxXCkey=3
cMCB.wxXCkey=1
cMCB.wxXCkey=3
_(lACB,bECB)
var tCCB=_v()
_(lACB,tCCB)
if(_oz(z,51,e,s,gg)){tCCB.wxVkey=1
var l3CB=_n('view')
_rz(z,l3CB,'class',52,e,s,gg)
var a4CB=_v()
_(l3CB,a4CB)
if(_oz(z,53,e,s,gg)){a4CB.wxVkey=1
}
var t5CB=_v()
_(l3CB,t5CB)
if(_oz(z,54,e,s,gg)){t5CB.wxVkey=1
var fADB=_mz(z,'image-selection',['bind:complete-single-upload',55,'bind:refuse-phone-number',1,'bind:skip-to-archive',2,'bind:to-archive',3,'bind:update-image-list',4,'bind:usernoauthorize',5,'fromTypeForTrack',6,'hasBindPhoneNumber',7],[],e,s,gg)
_(t5CB,fADB)
}
var e6CB=_v()
_(l3CB,e6CB)
if(_oz(z,63,e,s,gg)){e6CB.wxVkey=1
var cBDB=_mz(z,'archive-selection',['bind:archive-render-ready',64,'bind:select-archive',1,'fromTypeForTrack',2],[],e,s,gg)
_(e6CB,cBDB)
}
var b7CB=_v()
_(l3CB,b7CB)
if(_oz(z,67,e,s,gg)){b7CB.wxVkey=1
}
var o8CB=_v()
_(l3CB,o8CB)
if(_oz(z,68,e,s,gg)){o8CB.wxVkey=1
}
var x9CB=_v()
_(l3CB,x9CB)
if(_oz(z,69,e,s,gg)){x9CB.wxVkey=1
var hCDB=_n('cy-userinfo')
_rz(z,hCDB,'bind:loginevent',70,e,s,gg)
_(x9CB,hCDB)
}
var o0CB=_v()
_(l3CB,o0CB)
if(_oz(z,71,e,s,gg)){o0CB.wxVkey=1
var oDDB=_n('bind-phone')
_rz(z,oDDB,'bind:get-phone',72,e,s,gg)
_(o0CB,oDDB)
}
a4CB.wxXCkey=1
t5CB.wxXCkey=1
t5CB.wxXCkey=3
e6CB.wxXCkey=1
e6CB.wxXCkey=3
b7CB.wxXCkey=1
o8CB.wxXCkey=1
x9CB.wxXCkey=1
x9CB.wxXCkey=3
o0CB.wxXCkey=1
o0CB.wxXCkey=3
_(tCCB,l3CB)
}
var cEDB=_n('view')
_rz(z,cEDB,'class',73,e,s,gg)
var lGDB=_mz(z,'clinic-selector',['bind:confirm-clinic',74,'bind:toggle-component',1,'defaultFirst',2,'defaultSecond',3,'shouldClinicSelectorShow',4],[],e,s,gg)
_(cEDB,lGDB)
var aHDB=_mz(z,'phone-input',['bind:confirm-phone',79,'bind:hide-phone-input',1,'phone',2,'shouldShow',3],[],e,s,gg)
_(cEDB,aHDB)
var oFDB=_v()
_(cEDB,oFDB)
if(_oz(z,83,e,s,gg)){oFDB.wxVkey=1
var tIDB=_mz(z,'coupon-dialog',['bind:get-coupon',84,'couponId',1],[],e,s,gg)
_(oFDB,tIDB)
}
oFDB.wxXCkey=1
oFDB.wxXCkey=3
_(lACB,cEDB)
aBCB.wxXCkey=1
aBCB.wxXCkey=3
tCCB.wxXCkey=1
tCCB.wxXCkey=3
_(r,lACB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_152";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_152();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery/inquery.wxml'] = [$gwx_XC_152, './pages/inquery/inquery.wxml'];else __wxAppCode__['pages/inquery/inquery.wxml'] = $gwx_XC_152( './pages/inquery/inquery.wxml' );
	;__wxRoute = "pages/inquery/inquery";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery/inquery.js";define("pages/inquery/inquery.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/defineProperty"),a=require("../../@babel/runtime/helpers/objectSpread2"),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),n=require("../../43A2F676829A079C25C49E711B4C7B70.js"),s=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),c=getApp(),r="".concat(o.baseUrl,"/qa_operation/quick_ask/create_qa_init/"),d="".concat(o.baseUrl,"/qa_operation/quick_ask/save_draft/"),l="".concat(o.baseUrl,"/qa_operation/quick_ask/check_problem_content/"),h="".concat(o.baseUrl,"/qa_operation/quick_ask/recommend_doctor/?from_wx_mini=1"),u=o.baseUrl+"/qa_operation/quick_ask/get_valid_to_clinic_service/?from_wx_mini=1",m=o.baseUrl+"/cooperation/wap/create_problem_content/",p="".concat(o.baseUrl,"/user_operation/check_user_in_blacklist/"),_=["gsjW4tDz6sTzuwUMhvWfPeRlkj0W5aZ7U5eVW6BRqyA"],f="".concat(o.baseUrl,"/api/v7/new_user/coupon/"),g="".concat(o.baseUrl,"/cy_wx/public/can_skip_phone/"),D="".concat(o.baseUrl,"/cooperation/wap/is_user_login/");Page({data:{urlData:{from_page:"",problem_id:"",emergency_clinic_no:"",initial_content:"",doctor_name:""},isInBlackList:!1,shouldDefaultMessageHide:!1,blackListMessage:"因违背提问规则，此功能暂不可用。如有疑问请联系春雨在线客服",headerTabIndex:0,isPhoneNumberRequested:!0,operatingSectionIndex:0,messageStream:{},messagePool:[],hasImageSelectionSubmitted:!1,imgListForMessageStream:[],shouldClinicSelectorShow:!1,selectedClinic:{},recommendInfo:{recommend_doctor:[]},selectedArchive:{},serviceList:{},selectedBasicService:{},selectedRecommendDoctors:[],selectedClinicObj:{},priceForButtonShow:0,scrollAnchor:"",userPhone:"",pageType:1,shouldServiceListShow:!0,shouldBottomButtonSectionShow:!0,shouldFindDocFastButtonShow:!1,formData:{inputValue:"",imgUrlList:[],archive:{},contentStr:""},shouldListenImgUpdate:!1,isUserRefuseToAuthorize:!1,shouldPhoneInputShow:!1,isFirstLoad:!0,hasVideoVarified:!1,scorllPlaceholderHeight:0,fromTypeForTrack:"",textAreaBottom:0,hasInputFocused:!0,keyboardHeight:0,selectedRecommendDoctorIndexs:[],selectedBasicServiceIndex:999,shouldCouponDialogShow:!1,shouldShowAlertBeforeLeave:!1,couponId:"",hasReselectClinic:!1,shouldHistorySelectorShow:!0,certificateDoctorInfo:{},fakeReady:!0,showCount:10,hasBindPhoneNumber:!0},TRACK_MAP:{fast_qa:"快速问诊",find_doc_fast:"一键找医生",all_service:"我的咨询",emergency:"图文急诊",tel_inquiry_detail:"电话详情",home_search:"大搜",article:"科普详情页",doctor_topic:"医生话题页",baichuan:"ai问诊"},SCROLL_DEBOUNCE:null,onLoad:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.isLogin)().then((function(){console.log("login"),e.getUserDetail(),e.checkCanSkipPhone()})).catch((function(){(0,n.autoLogin)().then((function(){e.getUserDetail(),e.checkCanSkipPhone()}))})),this.SCROLL_DEBOUNCE=(0,i.debounce)(this.scrollToBottom,100),this.data.isFirstLoad=!1;var o=t.from_page,s=t.problem_id,r=t.emergency_clinic_no,d=t.initial_content,l=t.doctor_name,h=t.service_id;console.log("携带过来的problem_id",s),this.setData({"urlData.from_page":o||"","urlData.problem_id":s||"","urlData.emergency_clinic_no":r||"","urlData.initial_content":d||"","urlData.doctor_name":l||"","urlData.service_id":h||""}),"tel_inquiry_detail"!==this.data.urlData.from_page&&"tel_inquiry"!==this.data.urlData.from_page||this.setData({showCount:1}),this.data.urlData.problem_id?(this.setData({pageType:2}),wx.enableAlertBeforeUnload({message:"医生将在您发送病情描述后接诊，确认离开？"})):"emergency"===this.data.urlData.from_page?this.setData({pageType:3}):"find_doc_fast"===this.data.urlData.from_page&&this.setData({pageType:4}),this.getDraft(),this.setData({fromTypeForTrack:this.TRACK_MAP[this.data.urlData.from_page]||"未知"}),"fast_qa"===this.data.urlData.from_page&&this.checkBlackList().catch((function(){e.setData({shouldDefaultMessageHide:!0,isInBlackList:!0})})),this.data.keyboardHeight=c.globalData.keyboardHeight,c.sensors.track("PageView",a({app:"weixin_mini",page_readable_name:"病情描述",from_type:this.data.fromTypeForTrack},this.data.urlData.service_id&&{service_id:this.data.urlData.service_id}))},onShow:function(){var e=Number(wx.getStorageSync("fast-phone-fail")),t=Number(wx.getStorageSync("video-varified"));1===e&&(this.getRecommendDoctorInfo(this.data.selectedClinicObj.clinic_no),wx.removeStorageSync("fast-phone-fail")),1===t&&(wx.removeStorageSync("video-varified"),this.generatePayParams())},onHide:function(){this.saveDraft()},handleToArchive:function(e){var t=this;this.track("AppClick",{click_position:"确定发送病情资料",page_readable_name:"病情描述"}),this.saveDraft(),this.checkBlackList().then((function(){wx.nextTick((function(){t.changeSectionIndex(2),t.changeTabIndex(2),t.pushToMessagePool("doctor",t.data.messageStream.select_ehr,"text")}))})).catch((function(){t.pushToMessagePool("doctor",t.data.blackListMessage,"text"),t.setData({isInBlackList:!0})}))},changeSectionIndex:function(e){this.setData({operatingSectionIndex:e})},getDraft:function(){var e=this;(0,s.default)({url:r,data:a({problem_id:this.data.urlData.problem_id,chunyu_wap:"chunyu_wap"},"fast_qa"===this.data.urlData.from_page&&{from_type:"quick_ask"}),method:"GET",success:function(t){t.data&&0===t.data.error_code?(e.data.urlData.initial_content&&(t.data.data.draft=""),e.setData({messageStream:t.data.data,"formData.inputValue":e.data.urlData.initial_content,certificateDoctorInfo:t.data.data.doctor_info})):wx.showToast({icon:"none",title:"初始化页面失败"})},fail:function(){wx.showToast({icon:"none",title:"初始化页面失败"})}})},startNew:function(){this.track("AppClick",{click_position:"草稿页-咨询新问题",page_readable_name:"病情描述"}),this.setData({"formData.inputValue":""}),this.changeSectionIndex(0)},continue:function(){var e=this;this.track("AppClick",{click_position:"草稿页-继续咨询",page_readable_name:"病情描述"}),this.changeSectionIndex(0),wx.nextTick((function(){e.setData({"formData.inputValue":e.data.messageStream.draft||""})}))},checkBlackList:function(){var e=this;return new Promise((function(t,a){if(2===e.data.pageType)return t();wx.request({url:p,header:{Cookie:c.globalData.sessionid},success:function(o){return 1===o.data.error_code?a(o.data.error_msg):(e.data.isInBlackList=!1,t())},fail:function(){return e.data.isInBlackList=!1,t("网络请求异常")}})}))},textAreaInput:function(e){this.data.formData.inputValue=e.detail.value},saveDraft:function(){var e=this;return new Promise((function(t,a){wx.request({url:d,header:{Cookie:c.globalData.sessionid},data:{ask_text:e.data.formData.inputValue},method:"GET",complete:function(){return t()}})}))},checkProblemContent:function(){var e={ask_text:this.data.formData.inputValue};return["tel_inquiry","tel_inquiry_detail"].indexOf(this.data.urlData.from_page)>=0&&(e.service_type="inquiry"),new Promise((function(t,a){(0,s.default)({url:l,data:e,method:"GET",success:function(e){return 0===e.data.error_code?e.data.error_msg.length?a(e.data):t():a(e.data)},fail:function(){return a({error_type:"failed_request",error_msg:"网络异常，请稍后重试"})}})}))},pushToMessagePool:function(e,t,a){var o=this.data.messagePool,i={type:e,contentType:a,avatar:this.data.messageStream.doctor_avatar};"image"===a?i.imgPath=t:i.text=t,o.push(i),this.setData({messagePool:o})},sendInputValue:function(){var e,t=this;(null===(e=this.data.formData.inputValue)||void 0===e?void 0:e.trim().length)>=this.data.showCount?(this.track("AppClick",{click_position:"发送病情描述",page_readable_name:"病情描述"}),this._loading(),this.checkProblemContent().then((function(){wx.hideLoading(),t.subscribeMessage(_),t.saveDraft(),t.pushToMessagePool("patient",t.data.formData.inputValue,"text"),t.pushToMessagePool("doctor",t.data.messageStream.upload_img,"text"),t.setData({shouldHistorySelectorShow:!1}),t.changeSectionIndex(1),t.changeTabIndex(1),setTimeout(t.scrollToBottom,200)})).catch((function(e){"failed_request"===e.error_type?(wx.hideLoading(),wx.showToast({icon:"none",title:e.error_msg})):(wx.hideLoading(),t.pushToMessagePool("patient",t.data.formData.inputValue,"text"),t.pushToMessagePool("doctor",e.error_msg,"text"),t.setData({"formData.inputValue":""}),setTimeout(t.scrollToBottom,300))}))):wx.showToast({icon:"none",title:"病情描述不可少于".concat(this.data.showCount,"个字")})},handleSingleImageUpload:function(e){this.data.shouldListenImgUpdate&&(this.pushToMessagePool("patient",e.detail.imageObj.uniquePath,"image"),this.data.formData.imgUrlList.push(e.detail.imageObj))},handleSkipToArchive:function(){var e=this;this.track("AppClick",{click_position:"跳过发送病情描述",page_readable_name:"病情描述"}),this.saveDraft(),this.checkBlackList().then((function(){e.pushToMessagePool("doctor",e.data.messageStream.select_ehr,"text"),e.changeSectionIndex(2),e.changeTabIndex(2)})).catch((function(){e.pushToMessagePool("doctor",e.data.blackListMessage,"text"),e.setData({isInBlackList:!0})}))},changeTabIndex:function(e){this.setData({headerTabIndex:e})},handleSelectArchive:function(e){var t=e.detail.archive;this.data.formData.archive=t,this.setData({selectedArchive:t,headerTabIndex:this.data.urlData.problem_id?0:1}),this.changeTabIndex(3),1===this.data.pageType?(this.pushToMessagePool("patient","(".concat(t.sex,", ").concat(t.age,")"),"text"),this.getRecommendDoctorInfo()):2===this.data.pageType?this.saveContentToProblemId():3===this.data.pageType?this.emergencyProcess():4===this.data.pageType&&(this.pushToMessagePool("patient","(".concat(t.sex,", ").concat(t.age,")"),"text"),this.getRecommendDoctorInfo(void 0,!1),this.setData({shouldServiceListShow:!1,shouldBottomButtonSectionShow:!1,shouldFindDocFastButtonShow:!0}),this.changeSectionIndex(4))},generateContentStr:function(){var e=this.data.formData.imgUrlList,t=this.data.formData.archive,o=[];e.forEach((function(e){o.push({type:"image",file:e.url,tag:""})})),o.push({type:"text",text:this.data.formData.inputValue}),o.push(a({type:"patient_meta"},t)),this.data.formData.contentStr=JSON.stringify(o)},getRecommendDoctorInfo:function(e){var t=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._loading();var i=this.data.formData.imgUrlList,n=this.data.formData.archive,c=[];i.forEach((function(e){c.push({type:"image",file:e.url,tag:""})})),c.push({type:"text",text:this.data.formData.inputValue}),c.push(a({type:"patient_meta"},n)),this.data.formData.contentStr=JSON.stringify(c);var r={content_str:JSON.stringify(c),doctor_number:4===this.data.pageType?20:5,version:"10.3.4"};e&&(r.clinic_no=e),(0,s.default)({url:h,data:r,method:"POST",success:function(e){0===e.data.error_code&&(e.data.data.recommend_doctor.length&&e.data.data.recommend_doctor.forEach((function(e,a){e.default_select&&t.setData({selectedRecommendDoctors:[e],selectedRecommendDoctorIndexs:[a]})})),e.data.data.recommend_doctor.forEach((function(e){e.is_selected=e.default_select})),t.setData({recommendInfo:e.data.data,selectedClinicObj:{clinic_no:e.data.data.triage_second_clinic_no||e.data.data.triage_first_clinic_no}}),4===t.data.pageType?(wx.hideLoading(),t.calculateRecommendDoctorsSectionHeight()):o&&(t.getServicesList(),t.calculateDisplayPrice()))},fail:function(){wx.showToast({icon:"none",title:"无法连接到服务器，请退出重试"})}})},handleConfirmClinic:function(e){this.track("AppClick",{click_position:"重选科室",page_readable_name:"病情描述"}),this.setData({selectedClinicObj:e.detail.clinicObj,hasReselectClinic:!0}),this.getRecommendDoctorInfo(this.data.selectedClinicObj.clinic_no,!1),this.getServicesList(this.data.selectedClinicObj.clinic_no),this.data.selectedRecommendDoctors=[],this.data.selectedBasicService={}},toggleComponent:function(e){this.setData({shouldClinicSelectorShow:e.detail.shouldShow})},getServicesList:function(e){var t=this;wx.request({url:u,header:{Cookie:c.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{clinic_no:e||this.data.recommendInfo.triage_second_clinic_no||this.data.recommendInfo.triage_first_clinic_no,ehr_id:this.data.formData.archive.ehr_id,partner:"chunyu_wap_mini",ask_text:this.data.formData.inputValue||"测试用感冒了感冒了感冒了感冒了",version:"10.3.4"},success:function(e){wx.hideLoading(),0===e.data.error_code&&(t.getCouponInfo(),t.setData({serviceList:e.data.data,selectedBasicService:e.data.data.service_list.filter((function(e){return e.default_select}))[0]||{}}),e.data.data.service_list.forEach((function(e,a){e.default_select&&t.setData({selectedBasicServiceIndex:a})})),t.changeSectionIndex(4),t.calculateDisplayPrice(),t.calculateDoctorsSectionHeight())},fail:function(){wx.hideLoading(),wx.showToast({icon:"none",title:"无法连接到服务器，请退出重试"})}})},handleSelectBasicService:function(e){var t=Number(e.detail.serviceIndex);this.data.selectedBasicServiceIndex=t,this.data.selectedBasicService=999===t?[]:this.data.serviceList.service_list[t],this.calculateDisplayPrice()},handleSelectDoctors:function(e){console.log(e.detail.listIndex);var a=e.detail.listIndex,o="recommendInfo.recommend_doctor[".concat(a,"].is_selected");this.setData(t({},o,!this.data.recommendInfo.recommend_doctor[a].is_selected));var i=this.data.recommendInfo.recommend_doctor.filter((function(e){return e.is_selected})),n=[];this.data.recommendInfo.recommend_doctor.forEach((function(e,t){e.is_selected&&n.push(t)})),this.data.selectedRecommendDoctorIndexs=n,this.data.selectedRecommendDoctors=i,this.calculateDisplayPrice()},handleClickToPay:function(){var e,t,a,o=this,i=[];999!==this.data.selectedBasicServiceIndex&&i.push("众包-".concat(this.data.selectedBasicServiceIndex+1));var n="";this.data.selectedRecommendDoctorIndexs.length&&(n="一提多问-",this.data.selectedRecommendDoctorIndexs.forEach((function(e){n+=e+1}))),i.push(n),i.push((null===(e=this.data.recommendInfo)||void 0===e||null===(t=e.recommend_doctor)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.relation_tag)||"无标签"),this.track("AppClick",{click_position:"去问诊",page_readable_name:"病情描述",click_position_value:i.join(",")}),this.beforeGoToPay().then((function(){o.generatePayParams()}))},generatePayParams:function(){var e=this,t=Object.keys(this.data.selectedBasicService).length?1:0,a=this.data.selectedRecommendDoctors.length,o=function(){var t={type:e.data.selectedBasicService.type||"graph",info:{clinic_no:e.data.selectedClinicObj.clinic_no,content_str:e.data.formData.contentStr,partner:"chunyu_wap_mini"}};return 4===e.data.pageType?t.info.cy_page_from="one_click_doctor":t.info.cy_page_from="select_doctor","graph"!==t.type&&e.data.hasReselectClinic&&(t.info.has_change_clinic=!0),"graph"===t.type&&(t.info.doctor_id=e.data.selectedBasicService.doctor_id),"qa_upgrade"===t.type?t.info.upgrade_type=e.data.selectedBasicService.upgrade_type:"emergency_graph"===t.type?t.info.emergency_graph_from_type="quick_ask":"fast_phone"===t.type&&(t.info.phone=e.data.selectedBasicService.phone),t};if(a+t>1){var i={type:"package",info:{sub_list:[]},recommend_id:this.data.recommendInfo.recommend_id};t&&i.info.sub_list.push(o()),this.data.selectedRecommendDoctors.forEach((function(t){var a={type:"graph",info:{doctor_id:t.id,content_str:e.data.formData.contentStr,show_pay:t.price_fen/100,partner:"chunyu_wap_mini"}};i.info.sub_list.push(a)})),4===this.data.pageType?i.info.cy_page_from="one_click_doctor":i.info.cy_page_from="select_doctor",c.globalData.order_data=i,console.log(i),wx.navigateTo({url:"/pages/payment/index?new_fast_qa=1"})}else{var n=o();n.recommend_id=this.data.recommendInfo.recommend_id,a&&(n.info.show_pay=this.data.selectedRecommendDoctors[0].price_fen/100,n.info.doctor_id=this.data.selectedRecommendDoctors[0].id),c.globalData.order_data=n,console.log(n),wx.navigateTo({url:"/pages/payment/index?new_fast_qa=1"})}},calculateDisplayPrice:function(){var e=0;Object.keys(this.data.selectedBasicService).length&&(e=this.data.selectedBasicService.price);var t=0;this.data.selectedRecommendDoctors.forEach((function(e){t+=e.price_fen}));var a=e+t;a>0?this.setData({priceForButtonShow:a/100}):this.setData({priceForButtonShow:0})},beforeGoToPay:function(){var e=this;return new Promise((function(t,a){return Object.keys(e.data.selectedBasicService).length||e.data.selectedRecommendDoctors.length?"fast_phone"===e.data.selectedBasicService.type?(e.setData({shouldPhoneInputShow:!0,userPhone:e.data.selectedBasicService.phone}),a()):"video_inquiry_saas"===e.data.selectedBasicService.type&&e.data.selectedBasicService.need_real_name_verify?(wx.navigateTo({url:"/pages/health_record_certification_edit/index?ehrId=".concat(e.data.selectedArchive.ehr_id,"&pageType=edit&isNeedRealName=true&fromVideo=1")}),a()):t():(wx.showToast({icon:"none",title:"请选择至少一项服务"}),a())}))},saveContentToProblemId:function(){var e=this;this.generateContentStr();var t={from_wx_mini:1,content:this.data.formData.contentStr,problem_id:this.data.urlData.problem_id,partner:"chunyu_wap_mini"};wx.request({url:m,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:c.globalData.sessionid},data:t,success:function(t){console.log(t),0===t.data.error&&wx.redirectTo({url:"/pages/qa_im/index?problem_id=".concat(e.data.urlData.problem_id)})}})},emergencyProcess:function(){this.generateContentStr();var e={type:"emergency_graph",info:{clinic_no:this.data.urlData.emergency_clinic_no,emergency_graph_from_type:"quick_ask",partner:"chunyu_wap_mini",content_str:this.data.formData.contentStr}};c.globalData.order_data=e,wx.navigateTo({url:"/pages/payment/index?new_fast_qa=1"})},scrollToBottom:function(){this.setData({scrollAnchor:"bottom-anchor"})},scrollToNode:function(e){this.setData({scrollAnchor:e})},subscribeMessage:function(e){return new Promise((function(t,a){wx.requestSubscribeMessage({tmplIds:e,fail:function(e){a(e),console.error(e)},success:function(e){t(e),console.log(e)}})}))},handleUnauthorize:function(e){this.setData({shouldListenImgUpdate:!0,isUserRefuseToAuthorize:!0,operatingSectionIndex:5})},handleConfirmPhone:function(e){this.setData({"selectedBasicService.phone":e.detail.phone}),this.generatePayParams()},handleHidePhoneInput:function(){this.setData({shouldPhoneInputShow:!1})},relogin:function(){this.changeSectionIndex(2),this.pushToMessagePool("doctor",this.data.messageStream.select_ehr,"text"),this.SCROLL_DEBOUNCE()},previewImage:function(e){var t=e.currentTarget.dataset.url;if("image"===e.currentTarget.dataset.contenttype){var a=[];this.data.formData.imgUrlList.forEach((function(e){a.push(e.uniquePath)})),wx.previewImage({urls:a,current:t})}},handleFindDoctorFastPay:function(e){var t=e.detail.selectedDoctor;this.data.selectedRecommendDoctors=[t],this.generatePayParams()},setPlaceholderHeight:function(e){this.setData({scorllPlaceholderHeight:Number(e)})},calculateDoctorsSectionHeight:function(){var e=this,t=[(0,i.getElementRec)("#scroll-view"),(0,i.getElementRec)("#recommend-anchor")];this.data.recommendInfo.recommend_doctor.length&&t.push((0,i.getElementRec)("#more-recommend-anchor")),Promise.all(t).then((function(t){console.log(t);var a=t[0].height||0,o=t[1].height||0,i=t[2]&&t[2].height||0;console.log(a,o,i);var n=a-o-i-10;console.log(n),n?e.setPlaceholderHeight(n):e.setPlaceholderHeight(40),setTimeout((function(){e.scrollToNode("recommend-anchor")}),300)}))},calculateRecommendDoctorsSectionHeight:function(){var e=this;this.data.recommendInfo.recommend_doctor.length&&Promise.all([(0,i.getElementRec)("#scroll-view"),(0,i.getElementRec)("#more-recommend-anchor")]).then((function(t){console.log(t);var a=t[0].height||0,o=t[1].height||0;console.log(a,o);var i=a-o-20;i&&e.setPlaceholderHeight(i),setTimeout((function(){e.scrollToNode("more-recommend-anchor")}),300)}))},handleGoToFindDoc:function(){this.track("AppClick",{click_position:"查看更多同科室医生",page_readable_name:"病情描述"})},track:function(e,t){var o=a(a({},t),{},{app:"weixin_mini",from_type:this.data.fromTypeForTrack});console.log(o),c.sensors.track(e,o)},handleArchiveRenderReady:function(){this.SCROLL_DEBOUNCE()},handleUpdateImageList:function(e){var t=this;this.data.shouldListenImgUpdate=!0,this.data.formData.imgUrlList=e.detail.imgUrlList,this.data.formData.imgUrlList.forEach((function(e){t.pushToMessagePool("patient",e.uniquePath,"image")})),0===this.data.formData.imgUrlList.length&&this.pushToMessagePool("patient","暂无图片","text"),this.SCROLL_DEBOUNCE()},handleInputFocus:function(e){console.log("textarea focused"),this.setData({hasInputFocused:!0});var t="";e&&(t=e.detail.height,console.log("当前存储的键盘高度",this.data.keyboardHeight,"获取的键盘高度",t),this.data.keyboardHeight<t&&(this.data.keyboardHeight=t)),this.data.keyboardHeight&&this.setData({textAreaBottom:this.data.keyboardHeight},this.scrollToBottom)},handleInputBlur:function(){this.setData({textAreaBottom:0,hasInputFocused:!1})},_loading:function(){wx.showLoading({title:"加载中",mask:!0}),setTimeout(wx.hideLoading,1500)},getCouponInfo:function(){var e=this;(0,s.default)({url:f,method:"GET",success:function(t){if(console.log(t),0===t.data.error_code){var a=t.data.data;e.setData({couponId:a.coupon.coupon_id}),a.coupon&&a.coupon.had_coupon&&!a.coupon.is_expired&&e.showAlertBeforeLeave(),a.is_paid_problem||a.coupon.had_coupon||!a.coupon.coupon_id||setTimeout(e.showCouponDialog,1500)}else e.setData({hasInputFocused:!0})},fail:function(e){console.log(e)}})},showCouponDialog:function(){c.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"新用户弹窗"}),this.setData({shouldCouponDialogShow:!0})},onGetCoupon:function(){this.setData({shouldCouponDialogShow:!1}),setTimeout(this.refreshServiceList,500),this.data.shouldShowAlertBeforeLeave||this.showAlertBeforeLeave()},showAlertBeforeLeave:function(){c.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"新用户阻拦弹窗"}),this.data.shouldShowAlertBeforeLeave=!0,wx.enableAlertBeforeUnload({message:"您的限时3元三甲咨询红包即将过期，是否要继续退出"})},refreshServiceList:function(){var e=this;wx.request({url:u,header:{Cookie:c.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{clinic_no:this.data.recommendInfo.triage_second_clinic_no||this.data.recommendInfo.triage_first_clinic_no,ehr_id:this.data.formData.archive.ehr_id,partner:"chunyu_wap_mini",ask_text:this.data.formData.inputValue,version:"10.1.0"},success:function(t){wx.hideLoading(),0===t.data.error_code&&(e.setData({serviceList:t.data.data,selectedBasicService:t.data.data.service_list.filter((function(e){return e.default_select}))[0]||{}}),t.data.data.service_list.forEach((function(t,a){t.default_select&&e.setData({selectedBasicServiceIndex:a})})),e.calculateDisplayPrice())},fail:function(){wx.hideLoading(),wx.showToast({icon:"none",title:"无法连接到服务器，请退出重试"})}})},onSelectHistory:function(e){var t=this.data.messageStream.quick_input[e.detail.historyIndex];this.setData({"formData.inputValue":t.content})},refusePhoneNumber:function(e){console.log(e.detail);var t=e.detail.hasSelectedPic;this.data.isPhoneNumberRequested?(console.log("拒绝了授权 是强求"),this.changeSectionIndex(6)):t?(console.log("已选图片 拒绝了授权 不是强求"),this.handleToArchive(e)):(console.log("未选图片 拒绝了授权 不是强求"),this.handleSkipToArchive())},getPhoneNUmber:function(){this.handleToArchive()},getUserDetail:function(){var e=this;(0,s.default)({url:D,success:function(t){var a;e.setData({hasBindPhoneNumber:!(null===(a=t.data)||void 0===a||!a.use_cellphone)})}})},checkCanSkipPhone:function(){var e=this;(0,s.default)({url:g,success:function(t){var a,o;(console.log(t),0===t.data.error_code)&&e.setData({isPhoneNumberRequested:!(null!==(a=t.data)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.can_skip_phone)})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/inquery/inquery.js'});require("pages/inquery/inquery.js");$gwx_XC_153=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_153 || [];
function gz$gwx_XC_153_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_153_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_153_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_153_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_153_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_153_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_153=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_153=true;
var x=['./pages/inquery_phone_error/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_153_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_153";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_153();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquery_phone_error/index.wxml'] = [$gwx_XC_153, './pages/inquery_phone_error/index.wxml'];else __wxAppCode__['pages/inquery_phone_error/index.wxml'] = $gwx_XC_153( './pages/inquery_phone_error/index.wxml' );
	;__wxRoute = "pages/inquery_phone_error/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquery_phone_error/index.js";define("pages/inquery_phone_error/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({toUserCenter:function(){wx.switchTab({url:"/pages/user_center/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/inquery_phone_error/index.js'});require("pages/inquery_phone_error/index.js");$gwx_XC_154=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_154 || [];
function gz$gwx_XC_154_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_154_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'!'],[[7],[3,'inLoginCheck']]],[[2,'!'],[[7],[3,'isLogin']]]])
Z([3,'onLoginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_154_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_154_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_154=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_154=true;
var x=['./pages/inquiry_subscribe/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_154_1()
var oLDB=_v()
_(r,oLDB)
if(_oz(z,0,e,s,gg)){oLDB.wxVkey=1
var xMDB=_n('cy-authorize-login')
_rz(z,xMDB,'bindloginSuccess',1,e,s,gg)
_(oLDB,xMDB)
}
oLDB.wxXCkey=1
oLDB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_154";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_154();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/inquiry_subscribe/index.wxml'] = [$gwx_XC_154, './pages/inquiry_subscribe/index.wxml'];else __wxAppCode__['pages/inquiry_subscribe/index.wxml'] = $gwx_XC_154( './pages/inquiry_subscribe/index.wxml' );
	;__wxRoute = "pages/inquiry_subscribe/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/inquiry_subscribe/index.js";define("pages/inquiry_subscribe/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,n="".concat(e,"/cooperation/wap/mini_sub/save/");Page({data:{inLoginCheck:!0,isLogin:!0,next:"",templateId:""},onLoad:function(t){console.log("options",t);var e=t.next,n=void 0===e?"":e,o=t.template_id;n&&(n=decodeURIComponent(n)),this.setData({next:n,templateId:o})},onShow:function(){var e=this;t.globalData.appIsLogin.then((function(){e.onLoginSuccess()})).catch((function(t){console.log("app.globalData.appIsLogin catch::",t),e.setData({isLogin:!1,inLoginCheck:!1})}))},onLoginSuccess:function(){var t=this;this.setData({isLogin:!0,inLoginCheck:!1},(function(){wx.showModal({title:"提示",content:"为保证在问诊中医生回复后，您能正常收到消息通知，请订阅消息通知",showCancel:!1,confirmText:"我知道了",confirmColor:"#39d167",success:function(){t.subscribeEvent()}})}))},subscribeEvent:function(){var t=this,e=this.data.templateId;wx.requestSubscribeMessage({tmplIds:[e]}).then((function(n){if(t.data.isLogin){wx.showLoading({title:"订阅中",mask:!0});var o=n[e];t.reportServer(o)}else t.subCompleteEvent()})).catch((function(e){console.log("sub error:::",e),t.subCompleteEvent()}))},reportServer:function(e){var o=this,a=this.data.templateId;wx.request({url:n,data:{data:JSON.stringify([{template_id:a,choice:e}])},header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},method:"POST",complete:function(){wx.hideLoading(),o.subCompleteEvent()}})},subCompleteEvent:function(){if(console.log("subCompleteEvent",this.data.next),this.data.next)if(/\/pages\//.test(this.data.next))wx.redirectTo({url:this.data.next});else{var t=/^http(s)?:\/\//.test(this.data.next)?this.data.next:"".concat(e).concat(this.data.next);wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t))})}}});
},{isPage:true,isComponent:true,currentFile:'pages/inquiry_subscribe/index.js'});require("pages/inquiry_subscribe/index.js");$gwx_XC_155=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_155 || [];
function gz$gwx_XC_155_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_155_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_155_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_155_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_155_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_155_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_155=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_155=true;
var x=['./pages/live_appointment/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_155_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_155";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_155();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/live_appointment/index.wxml'] = [$gwx_XC_155, './pages/live_appointment/index.wxml'];else __wxAppCode__['pages/live_appointment/index.wxml'] = $gwx_XC_155( './pages/live_appointment/index.wxml' );
	;__wxRoute = "pages/live_appointment/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/live_appointment/index.js";define("pages/live_appointment/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../15CA5C31829A079C73AC343652AB7B70.js"),t=getApp();Page({data:{templateId:"",activityId:"",goldActivityId:"",inSubscribe:!1},onLoad:function(i){var e=this;wx.showLoading({title:"登录校验中...",mask:!0}),this.data.templateId=(null==i?void 0:i.template_id)||"",this.data.activityId=(null==i?void 0:i.activity_id)||"",this.data.goldActivityId=(null==i?void 0:i.gold_activity_id)||"",t.globalData.appIsLogin.then((function(){wx.hideLoading()})).catch((function(){wx.hideLoading(),e.wxLogin().then((function(i){e.cyLogin(i).then((function(){wx.hideLoading()})).catch((function(i){wx.hideLoading(),wx.showToast({title:i||"登录出错，请稍后重试",mask:!0,icon:"none"})}))})).catch((function(i){wx.hideLoading(),wx.showToast({title:i||"微信登录出错，请稍后重试",mask:!0,icon:"none"})}))}))},onSubscribe:function(){var i=this;if(!this.data.inSubscribe){this.data.inSubscribe=!0;var t=this.data,e=t.templateId,n=t.activityId;return e&&e.length?n&&n.length?void wx.requestSubscribeMessage({tmplIds:[e],success:function(t){t&&t[e]?"accept"===t[e]?i.saveAcceptStatus(e):i.data.inSubscribe=!1:(i.data.inSubscribe=!1,wx.showToast({title:(null==t?void 0:t.errMsg)||"订阅接口调用失败",icon:"none",mask:!0}))},fail:function(t){console.log("wx.requestSubscribeMessage error::",t),i.data.inSubscribe=!1,wx.showToast({title:(null==t?void 0:t.errMsg)||"订阅接口调用出错",icon:"none",mask:!0})}}):(wx.showToast({title:"直播id获取失败",icon:"none",mask:!0}),void(this.data.inSubscribe=!1)):(wx.showToast({title:"模板id获取失败",icon:"none",mask:!0}),void(this.data.inSubscribe=!1))}},wxLogin:function(){return wx.showLoading({title:"登录中...",mask:!0}),new Promise((function(i,t){wx.login({success:function(e){e.code?i(e.code):t("获取登录 code 失败，请稍后重试")},fail:function(i){console.log("wx.login fail::",i),t("微信登录出错，请稍后重试")}})}))},cyLogin:function(e){return new Promise((function(n,o){(0,i.loginApi)(e).then((function(i){var e=i||{},a=e.sessionid,s=e.error_msg;if(a){var c="sessionid=".concat(a);t.globalData.sessionid=c,wx.setStorageSync("sessionid",c),n()}else o(s||"登录失败")})).catch((function(i){console.log("loginApi error::",i),o((null==i?void 0:i.error_msg)||"登录出错")}))}))},saveAcceptStatus:function(t){var e=this;wx.showLoading({mask:!0}),(0,i.subSaveApi)(t).then((function(i){var t=i||{},n=t.error_code,o=t.error_msg;0===n?e.saveReservedEvent():(wx.hideLoading(),e.data.inSubscribe=!1,wx.showToast({title:o||"保存订阅状态失败，请稍后重试",icon:"none",mask:!0}))})).catch((function(i){console.log("subSaveApi err::",i),wx.hideLoading(),e.data.inSubscribe=!1,wx.showToast({title:"保存订阅状态出错，请稍后重试",icon:"none",mask:!0})}))},saveReservedEvent:function(){var t=this;(0,i.saveReservedApi)({activity_id:this.data.activityId,gold_activity_id:this.data.goldActivityId,mini_template_id:this.data.templateId,reserved_app:"mini_template_msg"}).then((function(i){var e=i||{},n=e.error_code,o=e.error_msg;0===n?(setTimeout((function(){wx.navigateBack({delta:1})}),1500),wx.hideLoading(),wx.showToast({title:"订阅成功",mask:!0,icon:"success"}),t.data.inSubscribe=!1):(t.data.inSubscribe=!1,wx.hideLoading(),wx.showToast({title:o||"保存预约状态失败，请稍后重试",icon:"none",mask:!0}))})).catch((function(i){console.log("saveReservedApi err::",i),t.data.inSubscribe=!1,wx.hideLoading(),wx.showToast({title:"保存预约状态出错，请稍后重试",icon:"none",mask:!0})}))}});
},{isPage:true,isComponent:true,currentFile:'pages/live_appointment/index.js'});require("pages/live_appointment/index.js");$gwx_XC_156=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_156 || [];
function gz$gwx_XC_156_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_156_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_156_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_156_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_156=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_156=true;
var x=['./pages/live_official_account/live_official_account.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_156_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_156";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_156();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/live_official_account/live_official_account.wxml'] = [$gwx_XC_156, './pages/live_official_account/live_official_account.wxml'];else __wxAppCode__['pages/live_official_account/live_official_account.wxml'] = $gwx_XC_156( './pages/live_official_account/live_official_account.wxml' );
	;__wxRoute = "pages/live_official_account/live_official_account";__wxRouteBegin = true;__wxAppCurrentFile__="pages/live_official_account/live_official_account.js";define("pages/live_official_account/live_official_account.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var A=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");Page({data:{qrCodeMap:{dev:"https://resource.chunyu.mobi/@/media/images/2022/11/30/gQE78TwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyVGRNaEVMYy1ldEYxMDAwME0wN0EAAgQqR4djAwQAAAAA.jpg",biz:"https://resource.chunyu.mobi/@/media/images/2022/12/07/gQFM8jwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyMFZhVlEwVHVmcEQxMDAwMGcwN0EAAgTGg5BjAwQAAAAA.jpg",online:"https://resource.chunyu.mobi/@/media/images/2022/11/30/gQGS8TwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyTDgtb1pLMGhha2UxMDAwME0wN1gAAgTbR4djAwQAAAAA.jpg"},currentUrlKey:A.currentUrlKey},onLoad:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/live_official_account/live_official_account.js'});require("pages/live_official_account/live_official_account.js");$gwx_XC_157=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_157 || [];
function gz$gwx_XC_157_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_157_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_157_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_157_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_157_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_157_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_157=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_157=true;
var x=['./pages/mall/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_157_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_157";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_157();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/mall/index.wxml'] = [$gwx_XC_157, './pages/mall/index.wxml'];else __wxAppCode__['pages/mall/index.wxml'] = $gwx_XC_157( './pages/mall/index.wxml' );
	;__wxRoute = "pages/mall/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/mall/index.js";define("pages/mall/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,t=getApp();Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",hash:"first_show"},onShow:function(){var t=this,e=wx.getStorageSync("sessionid"),n="",s="".concat(a,"/v-m-mall/#").concat(this.data.hash);if(e&&e.length){var i=e.split("sessionid=");i.length>1&&(n=i[1])}n.length&&(s="".concat(a,"/v-m-mall/?_CS=").concat(n,"#").concat(this.data.hash)),this.setData({loading:!1,url:s}),setTimeout((function(){t.setData({hash:Math.random()})}))},onShareAppMessage:function(){return{title:"商城",path:"/pages/mall/index"}},onTabItemTap:function(a){var e=wx.getStorageSync("hide_tabbar_card");null!=e&&e.hide||wx.setStorageSync("hide_tabbar_card",{hide:!0}),t.globalData.hide_tabbar_card=!0}});
},{isPage:true,isComponent:true,currentFile:'pages/mall/index.js'});require("pages/mall/index.js");$gwx_XC_158=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_158 || [];
function gz$gwx_XC_158_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_158_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_158_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_158_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_158=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_158=true;
var x=['./pages/my_account/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_158_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_158";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_158();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my_account/index.wxml'] = [$gwx_XC_158, './pages/my_account/index.wxml'];else __wxAppCode__['pages/my_account/index.wxml'] = $gwx_XC_158( './pages/my_account/index.wxml' );
	;__wxRoute = "pages/my_account/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/my_account/index.js";define("pages/my_account/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/balance/home/";Page({data:{balance:""},onShow:function(){this.init()},init:function(){var e=this;wx.request({url:t,method:"GET",header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},data:{from_wx_mini:1,is_json:1,partner:a.globalData.partner},success:function(a){var t=a.data.balance;e.setData({balance:t})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/my_account/index.js'});require("pages/my_account/index.js");$gwx_XC_159=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_159 || [];
function gz$gwx_XC_159_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_159_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_159_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_159_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'noData']])
Z([[7],[3,'coupons']])
Z([3,'id'])
Z([[7],[3,'item']])
Z([1,true])
Z([3,''])
Z([[7],[3,'shareShow']])
Z(z[6])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_159_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_159_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_159=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_159=true;
var x=['./pages/my_coupon/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_159_1()
var cSDB=_n('view')
_rz(z,cSDB,'class',0,e,s,gg)
var oTDB=_v()
_(cSDB,oTDB)
if(_oz(z,1,e,s,gg)){oTDB.wxVkey=1
}
var lUDB=_v()
_(cSDB,lUDB)
var aVDB=function(eXDB,tWDB,bYDB,gg){
var x1DB=_mz(z,'coupon-item',['couponInfo',4,'isShow',1],[],eXDB,tWDB,gg)
_(bYDB,x1DB)
return bYDB
}
lUDB.wxXCkey=4
_2z(z,2,aVDB,e,s,gg,lUDB,'item','index','id')
oTDB.wxXCkey=1
_(r,cSDB)
var o2DB=_mz(z,'cy-modal',['btnText',6,'show',1,'title',2],[],e,s,gg)
_(r,o2DB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_159";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_159();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my_coupon/index.wxml'] = [$gwx_XC_159, './pages/my_coupon/index.wxml'];else __wxAppCode__['pages/my_coupon/index.wxml'] = $gwx_XC_159( './pages/my_coupon/index.wxml' );
	;__wxRoute = "pages/my_coupon/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/my_coupon/index.js";define("pages/my_coupon/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/toConsumableArray"),a=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i=t.baseUrl+"/api/v7/coupon/my/",s=t.baseUrl+"/cooperation/wap/weixin_mini/coupon_prolong/";Page({data:{coupons:[],page:1,hasMore:!1,noData:!1,shareShow:!1},onShow:function(){this.getCoupon()},getCoupon:function(){var t=this,o=this.data,s=o.coupons,n=void 0===s?[]:s,r=o.page,u=void 0===r?1:r;wx.request({url:i,method:"GET",data:{page:t.data.page},header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},success:function(a){console.log("res",a);var o=(a.data.coupons||[]).map((function(e){var a="元",t=e.max_discount_yuan;"percent_discount"==e.discount_type&&(a="折",t=10*e.percent_discount_rate);var o=String(t).split(".");return{id:e.id,title:e.title||"",description:e.description||"",focusPrice:o[0],tipsPrice:o.length>1?".".concat(o[1].substring(0,2)):"",unit:a,expireDate:e.expire_date||"",isSelected:!1,isValid:e.is_valid,isExpired:e.is_expired,isUsed:e.is_used,doctorId:e.doctor_id||null,forward:e.forward,forwardValue:e.forward_value}}));n=1===u?o:[].concat(e(n),e(o)),t.setData({coupons:n,noData:!n.length&&1===t.data.page,hasMore:a.data.has_more_page||!1})}})},onReachBottom:function(){this.data.hasMore&&(this.data.page+=1,this.getCoupon())},showModal:function(e){var a=e.target.dataset.id;this.setData({couponId:a,shareShow:!0})},onShareAppMessage:function(e){var t=this;return"menu"==e.from?{title:"这个小程序你迟早用得上，赶快收藏吧。",path:"/pages/index/index",imageUrl:"https://static.chunyuyisheng.com/@/media/images/2018/04/18/6d12/c0aa79f332a0_w696_h556_.png"}:(this.setData({shareShow:!1}),{title:"这个小程序你迟早用得上，赶快收藏吧。",imageUrl:"https://static.chunyuyisheng.com/@/media/images/2018/04/18/6d12/c0aa79f332a0_w696_h556_.png",success:function(e){wx.request({url:s,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},method:"POST",data:o({coupon_id:t.data.couponId}),success:function(e){t.getCoupon()},error:function(){}})},fail:function(e){}})}});
},{isPage:true,isComponent:true,currentFile:'pages/my_coupon/index.js'});require("pages/my_coupon/index.js");$gwx_XC_160=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_160 || [];
function gz$gwx_XC_160_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_160_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_160_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_160_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onScrollBottom'])
Z([a,[3,'doctor-list-scroll-view '],[[2,'?:'],[[2,'<='],[[6],[[7],[3,'doctorList']],[3,'length']],[1,0]],[1,'empty-list'],[1,'']]])
Z([1,0])
Z([1,true])
Z([[7],[3,'doctorList']])
Z([3,'doctor_id'])
Z([[2,'?:'],[[2,'==='],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[7],[3,'doctorList']],[3,'length']]],[1,'last-item'],[1,'']])
Z([[7],[3,'item']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[[6],[[6],[[7],[3,'typeMap']],[1,0]],[3,'value']]])
Z([[7],[3,'visitPageName']])
Z([[6],[[7],[3,'doctorList']],[3,'length']])
Z([[2,'<='],[[6],[[7],[3,'doctorList']],[3,'length']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_160_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_160_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_160=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_160=true;
var x=['./pages/my_doctors_new/my_doctors_new.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_160_1()
var c4DB=_mz(z,'scroll-view',['bindscrolltolower',0,'class',1,'lowerThreshold',1,'scrollY',2],[],e,s,gg)
var c7DB=_v()
_(c4DB,c7DB)
var o8DB=function(a0DB,l9DB,tAEB,gg){
var bCEB=_mz(z,'single-doctor',['class',6,'doctorInfo',1,'shouldButtonGroupShow',2,'visitPageName',3],[],a0DB,l9DB,gg)
_(tAEB,bCEB)
return tAEB
}
c7DB.wxXCkey=4
_2z(z,4,o8DB,e,s,gg,c7DB,'item','index','doctor_id')
var h5DB=_v()
_(c4DB,h5DB)
if(_oz(z,10,e,s,gg)){h5DB.wxVkey=1
}
var o6DB=_v()
_(c4DB,o6DB)
if(_oz(z,11,e,s,gg)){o6DB.wxVkey=1
}
h5DB.wxXCkey=1
o6DB.wxXCkey=1
_(r,c4DB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_160";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_160();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my_doctors_new/my_doctors_new.wxml'] = [$gwx_XC_160, './pages/my_doctors_new/my_doctors_new.wxml'];else __wxAppCode__['pages/my_doctors_new/my_doctors_new.wxml'] = $gwx_XC_160( './pages/my_doctors_new/my_doctors_new.wxml' );
	;__wxRoute = "pages/my_doctors_new/my_doctors_new";__wxRouteBegin = true;__wxAppCurrentFile__="pages/my_doctors_new/my_doctors_new.js";define("pages/my_doctors_new/my_doctors_new.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=getApp(),i=a.baseUrl+"/user_operation/my_doctor/list/";Page({data:{currentTabIndex:0,typeMap:{0:{value:"p",desc:"咨询过"},1:{value:"f",desc:"关注过"}},startNum:0,doctorList:[],visitPageName:"我的医生",fromVisitPage:""},onLoad:function(t){this.getListNew(),this.setData({fromVisitPage:t.from_visit_page||""})},onShow:function(){(0,t.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{}})},onTabTab:function(t){var a=Number(t.currentTarget.dataset.tabIndex);a!==this.data.currentTabIndex&&(this.setData({currentTabIndex:a}),this.getListNew())},baseRequest:function(t,a){return wx.showLoading({title:"加载中",mask:!0}),new Promise((function(o,r){wx.request({url:i,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:{doctor_type:t,start_num:a},success:function(t){return wx.hideLoading(),0===t.data.error_code?o(t):r(t)},fail:function(t){return wx.hideLoading(),r(t)}})}))},getListNew:function(){var t=this;this.baseRequest(this.data.typeMap[this.data.currentTabIndex].value,0).then((function(a){t.setData({doctorList:a.data.data.doctor_list,startNum:a.data.data.doctor_list.length})}))},getListMore:function(){var t=this;this.baseRequest(this.data.typeMap[this.data.currentTabIndex].value,this.data.startNum).then((function(a){t.setData({doctorList:t.data.doctorList.concat(a.data.data.doctor_list),startNum:t.data.doctorList.length})}))},onScrollBottom:function(){this.getListMore()},toFindDoctor:function(){wx.navigateTo({url:"/pages/find_doctor/index?from_visit_page=".concat(this.data.fromVisitPage)})}});
},{isPage:true,isComponent:true,currentFile:'pages/my_doctors_new/my_doctors_new.js'});require("pages/my_doctors_new/my_doctors_new.js");$gwx_XC_161=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_161 || [];
function gz$gwx_XC_161_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_161_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_161_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_161_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldCurrentItemShow']])
Z([3,'deleteDoctor'])
Z([3,'single-doctor-main-container'])
Z([[6],[[7],[3,'doctorInfo']],[3,'doctor_id']])
Z([[6],[[7],[3,'doctorInfo']],[3,'type']])
Z([3,'toDoctorMainPage'])
Z([3,'top-right'])
Z([[6],[[7],[3,'doctorInfo']],[3,'re_checkup']])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_3A']])
Z([[7],[3,'shouldButtonGroupShow']])
Z([[6],[[7],[3,'doctorInfo']],[3,'is_recommend']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_161_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_161_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_161=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_161=true;
var x=['./pages/my_doctors_new/single_doctor/single_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_161_1()
var xEEB=_v()
_(r,xEEB)
if(_oz(z,0,e,s,gg)){xEEB.wxVkey=1
var oFEB=_mz(z,'view',['bindlongpress',1,'class',1,'data-doctor-id',2,'data-item-type',3,'mut-bind:tap',4],[],e,s,gg)
var hIEB=_n('view')
_rz(z,hIEB,'class',6,e,s,gg)
var oJEB=_v()
_(hIEB,oJEB)
if(_oz(z,7,e,s,gg)){oJEB.wxVkey=1
}
var cKEB=_v()
_(hIEB,cKEB)
if(_oz(z,8,e,s,gg)){cKEB.wxVkey=1
}
oJEB.wxXCkey=1
cKEB.wxXCkey=1
_(oFEB,hIEB)
var fGEB=_v()
_(oFEB,fGEB)
if(_oz(z,9,e,s,gg)){fGEB.wxVkey=1
}
var cHEB=_v()
_(oFEB,cHEB)
if(_oz(z,10,e,s,gg)){cHEB.wxVkey=1
}
fGEB.wxXCkey=1
cHEB.wxXCkey=1
_(xEEB,oFEB)
}
xEEB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_161";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_161();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my_doctors_new/single_doctor/single_doctor.wxml'] = [$gwx_XC_161, './pages/my_doctors_new/single_doctor/single_doctor.wxml'];else __wxAppCode__['pages/my_doctors_new/single_doctor/single_doctor.wxml'] = $gwx_XC_161( './pages/my_doctors_new/single_doctor/single_doctor.wxml' );
	;__wxRoute = "pages/my_doctors_new/single_doctor/single_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/my_doctors_new/single_doctor/single_doctor.js";define("pages/my_doctors_new/single_doctor/single_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=require("../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=getApp();Component({properties:{doctorInfo:{type:Object,value:{}},shouldButtonGroupShow:{type:Boolean,value:!1},visitPageName:{type:String,value:""}},data:{shouldCurrentItemShow:!0},methods:{toHistory:function(){t.sensors.track("AppClick",{app:"weixin_mini",click_position:"历史咨询",page_readable_name:"我的医生"}),wx.navigateTo({url:"/pages/doctor_history_list/doctor_history_list?doctor_id=".concat(this.data.doctorInfo.doctor_id,"&from_visit_page=").concat(this.data.visitPageName)})},toDoctorMainPage:function(){t.sensors.track("AppClick",{app:"weixin_mini",click_position:"去复诊",page_readable_name:"我的医生"}),wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctorInfo.doctor_id,"&from_visit_page=").concat(this.data.visitPageName)})},deleteDoctor:function(e){var a=this,i=e.currentTarget.dataset.doctorId,n=e.currentTarget.dataset.itemType,s="p"===n?"/api/v7/doctor/".concat(i,"/paid_record"):"/api/v5/doctor/".concat(i,"/follow"),c="p"===n?{}:{follow:0},r="p"===n?"DELETE":"POST";wx.showModal({content:this.data.shouldButtonGroupShow?"删除医生后，您仍可通过“我的订单”查看与该医生相关的订单，确认删除？":"确认删除医生？",success:function(e){e.confirm&&(t.sensors.track("AppClick",{app:"weixin_mini",click_position:"确认删除",page_readable_name:"我的医生",click_position_value:"p"===n?"咨询过":"已关注"}),wx.request({url:o.baseUrl+s,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:c,method:r,success:function(o){o.statusCode<300&&o.statusCode>=200?a.setData({shouldCurrentItemShow:!1}):wx.showToast({title:"删除失败",icon:"none"})},fail:function(){wx.showToast({title:"删除失败",icon:"none"})}}))}})}}});
},{isPage:false,isComponent:true,currentFile:'pages/my_doctors_new/single_doctor/single_doctor.js'});require("pages/my_doctors_new/single_doctor/single_doctor.js");$gwx_XC_162=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_162 || [];
function gz$gwx_XC_162_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_162_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_162_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_162_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'couponList']],[3,'length']])
Z([[7],[3,'couponList']])
Z([3,'index'])
Z([3,'clickToUseCoupon'])
Z([3,'coupon-item'])
Z([[6],[[7],[3,'item']],[3,'cy_redirect']])
Z([[6],[[7],[3,'item']],[3,'status']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,'not_used']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,'used']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,'expire']])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,'not_received']],[[2,'==='],[[6],[[7],[3,'item']],[3,'status']],[1,'cancelled']]])
Z([[7],[3,'isNotNewUser']])
Z([3,'confirmEventHandler'])
Z([3,'我知道了'])
Z([3,'仅限新用户领取优惠券呦'])
Z([1,false])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_162_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_162_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_162=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_162=true;
var x=['./pages/new_user_welfare/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_162_1()
var lMEB=_v()
_(r,lMEB)
if(_oz(z,0,e,s,gg)){lMEB.wxVkey=1
var tOEB=_v()
_(lMEB,tOEB)
var ePEB=function(oREB,bQEB,xSEB,gg){
var fUEB=_mz(z,'view',['bind:tap',3,'class',1,'data-cy_redirect',2,'data-status',3],[],oREB,bQEB,gg)
var cVEB=_v()
_(fUEB,cVEB)
if(_oz(z,7,oREB,bQEB,gg)){cVEB.wxVkey=1
}
var hWEB=_v()
_(fUEB,hWEB)
if(_oz(z,8,oREB,bQEB,gg)){hWEB.wxVkey=1
}
var oXEB=_v()
_(fUEB,oXEB)
if(_oz(z,9,oREB,bQEB,gg)){oXEB.wxVkey=1
}
var cYEB=_v()
_(fUEB,cYEB)
if(_oz(z,10,oREB,bQEB,gg)){cYEB.wxVkey=1
}
cVEB.wxXCkey=1
hWEB.wxXCkey=1
oXEB.wxXCkey=1
cYEB.wxXCkey=1
_(xSEB,fUEB)
return xSEB
}
tOEB.wxXCkey=2
_2z(z,1,ePEB,e,s,gg,tOEB,'item','index','index')
}
var aNEB=_v()
_(r,aNEB)
if(_oz(z,11,e,s,gg)){aNEB.wxVkey=1
var oZEB=_mz(z,'cy-dialog',['bind:onTouchConfirm',12,'confirmText',1,'content',2,'isShowCancelBtn',3],[],e,s,gg)
_(aNEB,oZEB)
}
lMEB.wxXCkey=1
aNEB.wxXCkey=1
aNEB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_162";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_162();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/new_user_welfare/index.wxml'] = [$gwx_XC_162, './pages/new_user_welfare/index.wxml'];else __wxAppCode__['pages/new_user_welfare/index.wxml'] = $gwx_XC_162( './pages/new_user_welfare/index.wxml' );
	;__wxRoute = "pages/new_user_welfare/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/new_user_welfare/index.js";define("pages/new_user_welfare/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=e(require("../../@babel/runtime/regenerator")),n=require("../../@babel/runtime/helpers/asyncToGenerator"),a=require("../../43A2F676829A079C25C49E711B4C7B70.js"),i=e(require("../../7C7490B0829A079C1A12F8B759DC7B70.js")),r=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,s=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").wxShowLoading,o=require("../../FE1120A4829A079C987748A30A3D7B70.js"),u=o.saveSubscribeMessage,c=o.subscribeBtnShow,l=o.subscribeMessage,g=o.changeIsSubscribeConsultMessageValue,d=o.jumpToTargetPage,p=["4ztYTNvm4EoxrjJDNY5z395PKDiNoB9zQGRHUrUKIr4"],f=getApp();Page({data:{majorBusinessList:[{image:"https://staff.chunyu.mobi/@/media/images/2023/03/15/e8b4/0c28041319c2_w509_h465_.png",cy_redirect:{target_scheme:"".concat(r,"/v-m-c-live/live/collection"),target_type:"html"}},{image:"https://staff.chunyu.mobi/@/media/images/2023/03/15/cc82/393a90f7358e_w509_h465_.png",cy_redirect:{target_scheme:"".concat(r,"/v-m-community/square"),target_type:"html"}}],couponList:[],weixinLink:{},assistantLink:{},isLogin:!1,isNotNewUser:!1},onShow:function(){this.afterLoginToGetDetail(),c(p,g)},afterLoginToGetDetail:function(){var e=this;return n(t.default.mark((function n(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.data.isLogin){t.next=4;break}return t.next=3,(0,a.manualLogin)();case 3:e.setData({isLogin:!0});case 4:e.getPageDetail();case 5:case"end":return t.stop()}}),n)})))()},getPageDetail:function(){var e=this;s("加载中"),(0,i.default)("/events/new_user_welfare/user_welfare_info/").then((function(t){var n=t.coupon_list,a=void 0===n?[]:n,i=t.weixin_link,r=t.assistant_link,s=t.is_new_user;e.setData({isNotNewUser:!s,couponList:a,weixinLink:i,assistantLink:r}),wx.hideLoading()})).catch((function(e){var t,n;wx.hideLoading(),wx.showToast({icon:"none",title:(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_msg)||"获取福利页面详情失败",duration:1500})}))},clickToUseCoupon:function(e){var a=this;return n(t.default.mark((function n(){var i,r,s,o,c,g;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.globalData.isSubscribeConsultMessage,s=(null===(i=e.currentTarget)||void 0===i?void 0:i.dataset)||{},o=s.status,c=s.cy_redirect,"not_used"===o){t.next=4;break}return t.abrupt("return");case 4:if(r){t.next=19;break}return t.prev=5,t.next=8,l(p);case 8:g=t.sent,u(p,g),a.jumpToCanUseCouponPage(c),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),a.jumpToCanUseCouponPage(c),console.log("订阅消息失败",t.t0);case 17:t.next=20;break;case 19:a.jumpToCanUseCouponPage(c);case 20:case"end":return t.stop()}}),n,null,[[5,13]])})))()},jumpToCanUseCouponPage:function(e){d(e)},jumpToCmsContentPage:function(e){var t,n,a=(null===(t=e.target)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.redirect)||{};d(a)},confirmEventHandler:function(){wx.switchTab({url:"/pages/index/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/new_user_welfare/index.js'});require("pages/new_user_welfare/index.js");$gwx_XC_163=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_163 || [];
function gz$gwx_XC_163_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_163_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_163_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_163_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'search_results']],[3,'length']])
Z([3,'news-module'])
Z([3,'news-wrap'])
Z([3,'idx'])
Z([3,'item'])
Z([[7],[3,'search_results']])
Z([3,'index'])
Z([3,'pointEvent'])
Z([[7],[3,'idx']])
Z([[6],[[6],[[7],[3,'item']],[3,'cy_redirect']],[3,'click_info_list']])
Z([[6],[[7],[3,'item']],[3,'title']])
Z([[2,'+'],[1,'../article/index?id\x3d'],[[6],[[7],[3,'item']],[3,'news_id']]])
Z([[7],[3,'isLoading']])
Z([[7],[3,'noMore']])
Z([[7],[3,'loading']])
Z([[7],[3,'noResult']])
Z([3,'没有更多搜索内容'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_163_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_163_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_163=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_163=true;
var x=['./pages/news_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_163_1()
var a2EB=_n('view')
var t3EB=_v()
_(a2EB,t3EB)
if(_oz(z,0,e,s,gg)){t3EB.wxVkey=1
var e4EB=_n('view')
_rz(z,e4EB,'class',1,e,s,gg)
var o6EB=_n('view')
_rz(z,o6EB,'class',2,e,s,gg)
var o8EB=_v()
_(o6EB,o8EB)
var f9EB=function(hAFB,c0EB,oBFB,gg){
var oDFB=_mz(z,'cy-navigator',['bind:mytap',7,'data-index',1,'data-point',2,'data-title',3,'url',4],[],hAFB,c0EB,gg)
_(oBFB,oDFB)
return oBFB
}
o8EB.wxXCkey=4
_2z(z,5,f9EB,e,s,gg,o8EB,'item','idx','index')
var x7EB=_v()
_(o6EB,x7EB)
if(_oz(z,12,e,s,gg)){x7EB.wxVkey=1
}
x7EB.wxXCkey=1
_(e4EB,o6EB)
var b5EB=_v()
_(e4EB,b5EB)
if(_oz(z,13,e,s,gg)){b5EB.wxVkey=1
}
b5EB.wxXCkey=1
_(t3EB,e4EB)
}
var lEFB=_mz(z,'cy-loading',['loading',14,'noResult',1,'noResultTip',2],[],e,s,gg)
_(a2EB,lEFB)
t3EB.wxXCkey=1
t3EB.wxXCkey=3
_(r,a2EB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_163";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_163();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/news_list/index.wxml'] = [$gwx_XC_163, './pages/news_list/index.wxml'];else __wxAppCode__['pages/news_list/index.wxml'] = $gwx_XC_163( './pages/news_list/index.wxml' );
	;__wxRoute = "pages/news_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/news_list/index.js";define("pages/news_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,s=a.baseUrl+"/api/v8/home_search/more_news/";Page({data:{search_results:[],page:1,noMore:!1,isLoading:!1,query:"",noResult:!1,loading:!1,visitPageName:"科普列表页",fromVisitPage:""},onLoad:function(e){e.query&&this.setData({query:e.query}),e.highlight_words&&this.setData({}),this.getNewsList(),this.setData({fromVisitPage:e.from_visit_page||""})},onShow:function(){(0,e.default)({fromName:this.data.fromVisitPage||"",name:this.data.visitPageName,extraInfo:{}})},loadMore:function(){this.getNewsList()},getNewsList:function(){var e=this,a=e.data.page,i=e.data.search_results,o={query:e.data.query,page:a,from_news:1};this.data.isLoading||(this.setData({isLoading:!0,loading:1===a}),wx.request({url:s,data:o,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},complete:function(){e.setData({isLoading:!1,loading:!1})},success:function(t){var s=t.data.search_results;s.length?e.setData({page:a+1,search_results:1==a?s:i.concat(s),noMore:!(s.length>=20)}):e.setData({noMore:!0,noResult:1===a})},error:function(e){console.log(e.data)}}))},onReachBottom:function(){!this.data.noMore&&this.data.search_results.length>=20?this.loadMore():this.setData({noMore:!0})},pointEvent:function(e){var a=e.currentTarget.dataset,s=a.point,o=a.index,r=s[0];i(r.click_event,{platform_source:t.globalData.partner,click_position:r.click_position,page_readable_name:r.page_readable_name,list_order:o+1,click_position_value:r.click_position_value,query:this.data.query,app:r.app})},onShareAppMessage:function(){return{title:"相关科普咨询"}}});
},{isPage:true,isComponent:true,currentFile:'pages/news_list/index.js'});require("pages/news_list/index.js");$gwx_XC_164=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_164 || [];
function gz$gwx_XC_164_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_164_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_164_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_164_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_164_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_164_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_164=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_164=true;
var x=['./pages/open_mini_program/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_164_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_164";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_164();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/open_mini_program/index.wxml'] = [$gwx_XC_164, './pages/open_mini_program/index.wxml'];else __wxAppCode__['pages/open_mini_program/index.wxml'] = $gwx_XC_164( './pages/open_mini_program/index.wxml' );
	;__wxRoute = "pages/open_mini_program/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/open_mini_program/index.js";define("pages/open_mini_program/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var a={wx77f06a7c08f97fb0:{title:"生长曲线",name:"生长曲线",desc:"宝宝身高体重发育管理",img:"https://resource.chunyu.mobi/@/media/images/2022/01/12/93a4/5a643acae135_w282_h282_.png"},wx5965bcf00d9a8b2d:{title:"疫苗时间",name:"疫苗时间表",desc:"宝宝疫苗接种管理",img:"https://resource.chunyu.mobi/@/media/images/2022/01/12/bcbd/7033053e124a_w282_h282_.png"},wx4265b42a4479a472:{title:"育儿知识",name:"育儿知识游戏",desc:"边学边玩 做宝宝的最棒妈妈",img:"https://resource.chunyu.mobi/@/media/images/2022/01/12/bcbd/7033053e124a_w282_h282_.png"},wxdab36ef6fb4f9394:{title:"饮食宜忌",name:"能不能吃",desc:"查询宝宝和妈妈的饮食宜忌",img:"https://resource.chunyu.mobi/@/media/images/2022/01/12/ea71/70ad5bd18811_w282_h282_.png"}};Page({data:{loading:!0,img:"",name:"",desc:""},onLoad:function(e){var i=e.appId,t=e.path,n=a[i]||{},s=n.name,c=n.img,d=n.desc,m=n.title;this.appId=i,this.path=t,wx.setNavigationBarTitle({title:m}),this.setData({name:s,desc:d,img:c,loading:!1})},openMini:function(){var a=this.appId,e=this.path;wx.navigateToMiniProgram({appId:a,path:e,success:function(){console.log("打开成功")},fail:function(a){wx.showToast({title:a.data&&a.data.msg||"打开失败",icon:"none"})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/open_mini_program/index.js'});require("pages/open_mini_program/index.js");$gwx_XC_165=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_165 || [];
function gz$gwx_XC_165_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_165_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_165_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_165_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_165_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_165_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_165=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_165=true;
var x=['./pages/out_call_message/components/make-notice/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_165_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_165";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_165();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/out_call_message/components/make-notice/index.wxml'] = [$gwx_XC_165, './pages/out_call_message/components/make-notice/index.wxml'];else __wxAppCode__['pages/out_call_message/components/make-notice/index.wxml'] = $gwx_XC_165( './pages/out_call_message/components/make-notice/index.wxml' );
	;__wxRoute = "pages/out_call_message/components/make-notice/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/out_call_message/components/make-notice/index.js";define("pages/out_call_message/components/make-notice/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{doctorName:{type:String,value:""},conditions:{type:Object,value:{}}},lifetimes:{attached:function(){console.log("conditions",this.data.conditions)}},methods:{handleOk:function(){this.triggerEvent("ok")},handleCancel:function(){this.triggerEvent("cancel")},handleMaskTap:function(){this.triggerEvent("cancel")}}});
},{isPage:false,isComponent:true,currentFile:'pages/out_call_message/components/make-notice/index.js'});require("pages/out_call_message/components/make-notice/index.js");$gwx_XC_166=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_166 || [];
function gz$gwx_XC_166_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_166_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_166_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_166_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'out-call-wrap'])
Z([[6],[[7],[3,'registerTimes']],[3,'length']])
Z([[7],[3,'registerTimes']])
Z([3,'index'])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'register_times']],[[2,'>'],[[6],[[6],[[7],[3,'item']],[3,'register_times']],[3,'length']],[1,4]]])
Z([[7],[3,'makeNoticeDialogVisible']])
Z([3,'handleMakeNoticeDialogCancel'])
Z([3,'handleConfirm'])
Z([[7],[3,'conditions']])
Z([[7],[3,'doctorName']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_166_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_166_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_166=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_166=true;
var x=['./pages/out_call_message/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_166_1()
var bIFB=_n('view')
_rz(z,bIFB,'class',0,e,s,gg)
var oJFB=_v()
_(bIFB,oJFB)
if(_oz(z,1,e,s,gg)){oJFB.wxVkey=1
var xKFB=_n('view')
var fMFB=_v()
_(xKFB,fMFB)
var cNFB=function(oPFB,hOFB,cQFB,gg){
var lSFB=_v()
_(cQFB,lSFB)
if(_oz(z,4,oPFB,hOFB,gg)){lSFB.wxVkey=1
}
lSFB.wxXCkey=1
return cQFB
}
fMFB.wxXCkey=2
_2z(z,2,cNFB,e,s,gg,fMFB,'item','index','index')
var oLFB=_v()
_(xKFB,oLFB)
if(_oz(z,5,e,s,gg)){oLFB.wxVkey=1
var aTFB=_mz(z,'make-notice',['bind:cancel',6,'bind:ok',1,'conditions',2,'doctorName',3],[],e,s,gg)
_(oLFB,aTFB)
}
oLFB.wxXCkey=1
oLFB.wxXCkey=3
_(oJFB,xKFB)
}
else{oJFB.wxVkey=2
}
oJFB.wxXCkey=1
oJFB.wxXCkey=3
_(r,bIFB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_166";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_166();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/out_call_message/index.wxml'] = [$gwx_XC_166, './pages/out_call_message/index.wxml'];else __wxAppCode__['pages/out_call_message/index.wxml'] = $gwx_XC_166( './pages/out_call_message/index.wxml' );
	;__wxRoute = "pages/out_call_message/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/out_call_message/index.js";define("pages/out_call_message/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=require("../../@babel/runtime/helpers/typeof"),o=require("../../@babel/runtime/helpers/defineProperty"),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,r=i.baseUrl+"/api/v5/register_apply/get_doctor_apply_info/",n=getApp();Page({data:(e={doctorId:"",doctorName:"",registerId:"",currentIndex:0,type:"create"},o(e,"type",""),o(e,"isShowMore",!1),o(e,"isFirstComeIn",!0),o(e,"registerTimes",[]),o(e,"conditions",{}),o(e,"isShowRegisterCondition",!1),o(e,"makeNoticeDialogVisible",!1),e),onLoad:function(e){var t=e.doctorId,o=e.doctorName,i=e.registerId,a=e.type,r=e.isFirstComeIn;this.setData({doctorId:t,doctorName:o||"",registerId:i,type:a||"create",isFirstComeIn:Boolean("true"===r)}),this.initRegisterData()},initRegisterData:function(){var e=this;wx.showLoading();var o=this.data,i=o.doctorId,a=o.registerId,s=o.isFirstComeIn;console.log("初始化列表数据",t(a),t(s),s);var d={doctor_id:i,register_id:a};wx.request({url:r,method:"GET",header:{Cookie:n.globalData.sessionid},data:a?d:{doctor_id:i},success:function(t){var o=t.data,i=void 0===o?{}:o;wx.hideLoading(),0===i.error_code?e.setData({registerTimes:i.data}):(console.log("预约失败的",i),wx.hideLoading(),wx.showToast({title:"获取当前医生的预约时间失败",icon:"none"}))},fail:function(e){console.log("初始化预约信息页面",e),wx.hideLoading(),wx.showToast({title:"获取订单信息网络请求出错",icon:"none"})}})},handleConfirm:function(e){this.setData({makeNoticeDialogVisible:!1}),this.jumpToAppointmentDoctorOrder()},jumpToAppointmentDoctorOrder:function(){var e=this.data,t=e.doctorId,o=e.doctorName,i=e.type,a=e.isFirstComeIn;console.log("跳转所携带参数",t,o,a),a?wx.navigateTo({url:"/pages/appointment_doctor_order/index?doctorId=".concat(t,"&type=").concat(i,"&doctorName=").concat(o)}):wx.navigateBack({url:"/pages/appointment_doctor_order/index?doctorId=".concat(t,"&type=").concat(i,"&doctorName=").concat(o)})},handleMakeNoticeDialogCancel:function(){this.setData({makeNoticeDialogVisible:!1})},register:function(e){var t=e.target.dataset,o=t.register,i=t.id,r=t.addr,n=t.date,s=t.type,d=this.data.registerTimes;if(o){var c={clinicDetailAddr:r,date:n,type:s};a("AppClick",{app:"weixin_mini",click_position:"预约",page_readable_name:"出诊时间地点"}),console.log("用户选择的地址信息",c),wx.setStorageSync("chooseRegisterMessage",JSON.stringify(c)),wx.setStorageSync("hospitalDoctorId",i);var l=d.find(function(e){return e.hospital_doctor_id===i}||{}).conditions||{},g=l.base_condition,p=l.disease_condition,m=l.else_condition;g||p||m?this.setData({conditions:l,makeNoticeDialogVisible:!0}):this.jumpToAppointmentDoctorOrder()}},lookAllTime:function(e){var t=e.target.dataset.index;console.log("点击的索引",t);var o=!this.data.isShowMore;this.setData({isShowMore:o,currentIndex:t})}});
},{isPage:true,isComponent:true,currentFile:'pages/out_call_message/index.js'});require("pages/out_call_message/index.js");$gwx_XC_167=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_167 || [];
function gz$gwx_XC_167_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_167_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_167_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_167_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_167_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_167_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_167=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_167=true;
var x=['./pages/pay_success/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_167_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_167";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_167();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/pay_success/index.wxml'] = [$gwx_XC_167, './pages/pay_success/index.wxml'];else __wxAppCode__['pages/pay_success/index.wxml'] = $gwx_XC_167( './pages/pay_success/index.wxml' );
	;__wxRoute = "pages/pay_success/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/pay_success/index.js";define("pages/pay_success/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{count:5},onShow:function(){this.countDown()},countDown:function(){var t=this;n&&clearInterval(n);var n=setInterval((function(){t.data.count<=1&&(clearInterval(n),wx.switchTab({url:"../index/index"})),t.setData({count:--t.data.count})}),1e3)}});
},{isPage:true,isComponent:true,currentFile:'pages/pay_success/index.js'});require("pages/pay_success/index.js");$gwx_XC_168=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_168 || [];
function gz$gwx_XC_168_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_168_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_168_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_168_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_168_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_168_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_168=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_168=true;
var x=['./pages/pay_success_new/pay_success.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_168_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_168";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_168();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/pay_success_new/pay_success.wxml'] = [$gwx_XC_168, './pages/pay_success_new/pay_success.wxml'];else __wxAppCode__['pages/pay_success_new/pay_success.wxml'] = $gwx_XC_168( './pages/pay_success_new/pay_success.wxml' );
	;__wxRoute = "pages/pay_success_new/pay_success";__wxRouteBegin = true;__wxAppCurrentFile__="pages/pay_success_new/pay_success.js";define("pages/pay_success_new/pay_success.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{urlData:{serviceCount:2,pageType:""},count:4,typeMap:{normal_service:{titleText:"您已购买成功",firstLine:"您购买的问题已发送给医生",secondLine:"请您在春雨医生“当前咨询”中找到该服务",buttonText:"查看当前咨询",bottomLine:""},fast_phone:{titleText:"您已购买成功",firstLine:"专家助理会在十分钟之内联系您",secondLine:"请您保持电话畅通",buttonText:"5秒后自动返回我的咨询页面",bottomLine:"添加诊前描述，节省您的问诊时间"}},textObj:{titleText:"",firstLine:"",secondLine:"",buttonText:"",bottomLine:""}},onLoad:function(t){this.setData({"urlData.serviceCount":Number(t.service_count||0),"urlData.pageType":t.page_type}),this.makeText()},handleButtonTap:function(){wx.switchTab({url:"/pages/all_service/index"})},makeText:function(){var t=this;if(this.data.textObj=this.data.typeMap[this.data.urlData.pageType],"normal_service"===this.data.urlData.pageType)this.data.textObj.firstLine="您购买的问题已发送给".concat(this.data.urlData.serviceCount,"位医生");else if("fast_phone"===this.data.urlData.pageType)var e=setInterval((function(){t.data.count<=0&&(clearInterval(e),wx.switchTab({url:"/pages/all_service/index"})),t.setData({"textObj.buttonText":"".concat(t.data.count,"秒后自动返回我的咨询页面")}),t.data.count--}),1e3);this.setData({textObj:this.data.textObj})}});
},{isPage:true,isComponent:true,currentFile:'pages/pay_success_new/pay_success.js'});require("pages/pay_success_new/pay_success.js");$gwx_XC_169=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_169 || [];
function gz$gwx_XC_169_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_169_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_169_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_169_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'onLoginSuccess'])
Z([3,'payment-page payment-page-bg'])
Z([3,'payment-header-wrap'])
Z([[2,'==='],[[6],[[7],[3,'orderInfo']],[3,'orderType']],[1,'reward_doctor']])
Z([[2,'&&'],[[6],[[7],[3,'orderInfo']],[3,'serviceList']],[[6],[[6],[[7],[3,'orderInfo']],[3,'serviceList']],[3,'length']]])
Z([[6],[[7],[3,'orderInfo']],[3,'serviceList']])
Z([3,'idx'])
Z([[6],[[7],[3,'item']],[3,'desc']])
Z([[2,'==='],[[7],[3,'mark']],[1,'finddoc']])
Z([3,'payment-content-wrap'])
Z([[6],[[7],[3,'qaUpgradeList']],[3,'length']])
Z([[2,'&&'],[[7],[3,'isNewPayment']],[[6],[[7],[3,'newUpgradeList']],[3,'length']]])
Z([[7],[3,'showVip']])
Z([[7],[3,'abstractList']])
Z([[7],[3,'benefitsCount']])
Z([[7],[3,'benefitsList']])
Z([3,'handleArgeementChange'])
Z([3,'handleVipChange'])
Z([[7],[3,'isVipAgrementSelected']])
Z([[7],[3,'isVipSelected']])
Z([[7],[3,'isVisibleArguments']])
Z([[7],[3,'vipInfo']])
Z([3,'payment-discount-wrap'])
Z([3,'chooseCouponEvent'])
Z([[7],[3,'curCouponInfo']])
Z([[7],[3,'couponList']])
Z([[7],[3,'vipDiscountPrice']])
Z([3,'pay-method-list'])
Z([[2,'&&'],[[7],[3,'showBalance']],[[7],[3,'canUseBalance']]])
Z([[2,'&&'],[[7],[3,'showBalance']],[[2,'!'],[[7],[3,'canUseBalance']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_169_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_169_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_169=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_169=true;
var x=['./pages/payment/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_169_1()
var oXFB=_v()
_(r,oXFB)
if(_oz(z,0,e,s,gg)){oXFB.wxVkey=1
var xYFB=_n('cy-authorize-login')
_rz(z,xYFB,'bindloginSuccess',1,e,s,gg)
_(oXFB,xYFB)
}
else{oXFB.wxVkey=2
var oZFB=_n('view')
_rz(z,oZFB,'class',2,e,s,gg)
var f1FB=_n('view')
_rz(z,f1FB,'class',3,e,s,gg)
var c2FB=_v()
_(f1FB,c2FB)
if(_oz(z,4,e,s,gg)){c2FB.wxVkey=1
}
var h3FB=_v()
_(f1FB,h3FB)
if(_oz(z,5,e,s,gg)){h3FB.wxVkey=1
var c5FB=_v()
_(h3FB,c5FB)
var o6FB=function(a8FB,l7FB,t9FB,gg){
var bAGB=_v()
_(t9FB,bAGB)
if(_oz(z,8,a8FB,l7FB,gg)){bAGB.wxVkey=1
}
bAGB.wxXCkey=1
return t9FB
}
c5FB.wxXCkey=2
_2z(z,6,o6FB,e,s,gg,c5FB,'item','index','idx')
var o4FB=_v()
_(h3FB,o4FB)
if(_oz(z,9,e,s,gg)){o4FB.wxVkey=1
}
o4FB.wxXCkey=1
}
c2FB.wxXCkey=1
h3FB.wxXCkey=1
_(oZFB,f1FB)
var oBGB=_n('view')
_rz(z,oBGB,'class',10,e,s,gg)
var xCGB=_v()
_(oBGB,xCGB)
if(_oz(z,11,e,s,gg)){xCGB.wxVkey=1
}
var oDGB=_v()
_(oBGB,oDGB)
if(_oz(z,12,e,s,gg)){oDGB.wxVkey=1
}
var fEGB=_v()
_(oBGB,fEGB)
if(_oz(z,13,e,s,gg)){fEGB.wxVkey=1
var cFGB=_mz(z,'cy-vip',['abstractList',14,'benefitsCount',1,'benefitsList',2,'bind:agreementStatusChange',3,'bind:vipStatusChange',4,'isVipAgreementSelected',5,'isVipSelected',6,'isVisibleArguments',7,'vipInfo',8],[],e,s,gg)
_(fEGB,cFGB)
}
xCGB.wxXCkey=1
oDGB.wxXCkey=1
fEGB.wxXCkey=1
fEGB.wxXCkey=3
_(oZFB,oBGB)
var hGGB=_n('view')
_rz(z,hGGB,'class',23,e,s,gg)
var cIGB=_mz(z,'choose-coupon',['bind:chooseCoupon',24,'couponInfo',1,'coupons',2],[],e,s,gg)
_(hGGB,cIGB)
var oHGB=_v()
_(hGGB,oHGB)
if(_oz(z,27,e,s,gg)){oHGB.wxVkey=1
}
oHGB.wxXCkey=1
_(oZFB,hGGB)
var oJGB=_n('view')
_rz(z,oJGB,'class',28,e,s,gg)
var lKGB=_v()
_(oJGB,lKGB)
if(_oz(z,29,e,s,gg)){lKGB.wxVkey=1
}
var aLGB=_v()
_(oJGB,aLGB)
if(_oz(z,30,e,s,gg)){aLGB.wxVkey=1
}
lKGB.wxXCkey=1
aLGB.wxXCkey=1
_(oZFB,oJGB)
_(oXFB,oZFB)
}
oXFB.wxXCkey=1
oXFB.wxXCkey=3
oXFB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_169";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_169();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/payment/index.wxml'] = [$gwx_XC_169, './pages/payment/index.wxml'];else __wxAppCode__['pages/payment/index.wxml'] = $gwx_XC_169( './pages/payment/index.wxml' );
	;__wxRoute = "pages/payment/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/payment/index.js";define("pages/payment/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var i=require("../../@babel/runtime/helpers/objectSpread2"),t=require("../../@babel/runtime/helpers/typeof"),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),n=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),r=require("../../C81F1783829A079CAE797F84E1DB7B70.js"),s=e(require("../../39634846829A079C5F052041CEBB7B70.js")),c=getApp(),d=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,p=require("../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js"),l={tempVipType:"gc",options:{},payParams:{},weixinPayResult:{},curUpgrade:{},periodInfo:"",hasNavToPer:!1,perOrderId:"",perSuccessCB:null,wxPaySignInfo:{},isUserSelectedVip:!1,isPayWithOriginalId:!1},u="graph",_="fast_phone",f="paid_clinic",g="multi_problems",h="qa_upgrade",v="package",y={qadoc:"qaOrUp",paid_clinic:"qaOrUp",qa_upgrade:"qaUpgrade",upgrade:"qaOrUp",sendheart:"sendheart",h5_send_heart:"h5SendHeart",emergency:"emergency",emergency_graph:"emergency",inquiry:"inquiry",vip_doctor_apply:"vipDocApply",service_order:"serviceOrder",app_special_service:"appSpecialService",register_apply:"registerApply",revisit:"revisit",advanced:"advanced",finddoc:"finddoc",fast_phone:"fastPhone",cy_vip:"cyVip",package:"package",video_inquiry_saas:"videoInquirySaas",graph:"graph",expert_consultation:"expertConsultation",baichuan_ai_chat:"baichuanAiChat"};Page({data:{isLogin:!0,orderInfo:{name:"",orderType:"",serviceList:[],extraInfo:[]},needPayPrice:0,isPaidClinicOrUpgrade:!1,payLoading:!1,balance:0,showBalance:!1,canUseBalance:!1,curPayMethod:"",payMethods:{wx:"weixin",balance:"balance"},isVisibleArguments:!0,qaUpgradeList:[],curCouponInfo:{},couponList:[],showVip:!1,vipInfo:{},abstractList:[],benefitsCount:0,benefitsList:[],isVipSelected:!1,isVipAgrementSelected:!1,vipDiscountPrice:0,selectedIcon:"https://static.chunyuyisheng.com/@/chunyu_mini/selected.png",noSelectedIcon:"https://static.chunyuyisheng.com/@/chunyu_mini/noselect.png",isNewPayment:!1,recommend_id:""},onLoad:function(e){var i=this;l.options=Object.freeze(e||{}),this.initPayMethod();var t=this.setPayParams(e),o={type:t.type,upgradeType:t.info.upgrade_type||"",subList:(t.info.sub_list||[]).map((function(e){var i;return{type:e.type||"",upgradeType:(null===(i=e.info)||void 0===i?void 0:i.upgrade_type)||""}}))};l.payParams=t,l.originPayInfo=Object.freeze(o),c.globalData.appIsLogin.then((function(){i.onLoginSuccess()}),(function(){i.setData({isLogin:!1})})),1==e.has_new_coupon&&this.showAlertBeforeLeave()},onShow:function(){(0,n.default)({name:"订单支付页"});var e=l.hasNavToPer;if(void 0!==e&&e){l.hasNavToPer=!1;var i=c.globalData.referrerInfo,o=i.appId,a=void 0===o?"":o,r=i.extraData;if("wxbd687630cd02ce1d"===a){if(void 0===t(r))return void this.pollPeriodSignStatus();r&&"SUCCESS"===r.return_code?this.pollPeriodSignStatus():(this.setData({payLoading:!1}),wx.showToast({title:"签约失败",icon:"none",duration:1500}))}}},onHide:function(){c.globalData.referrerInfo={},this.stopAllPollEvents()},onUnload:function(){c.globalData.referrerInfo={},this.stopAllPollEvents(),(0,r.cancelDocDisCoupon)()},getOrderInfo:function(e){var i=this;wx.showLoading({title:"订单信息获取中",mask:!0});var t=this.convertObjToStr(e.info),o=Object.assign({},e,{info:t});console.log(o),o.version="10.3.2",(0,r.getPayInfo)(o).then((function(e){e.success?(l.weixinPayResult=Object.assign({},e),i.renderPayInfo(e,o)):(wx.hideLoading(),wx.showToast({title:"订单信息获取失败",icon:"none"}))})).catch((function(e){console.log("getPayInfo",e),wx.hideLoading(),wx.showModal({title:"提示",content:"网络连接失败，请重试",showCancel:!1,success:function(e){e.confirm&&i.getOrderInfo(l.payParams)}})}))},renderPayInfo:function(e,i){var t=e.period_info,o=void 0===t?"":t,a=e.chunyu_vip_info,n=void 0===a?{}:a,r=e.balance,s=void 0===r?0:r,c=e.need_pay,d=void 0===c?0:c,p=e.vip_discount_price,u=e.orderInfo,_=void 0===u?{}:u,g=e.available_coupons,v=void 0===g?[]:g,y=e.unavailable_coupons,m=void 0===y?[]:y,w=e.select_upgrade_type,x=void 0===w?"":w,b={};try{b=JSON.parse(i.info),console.log(b)}catch(e){console.log("JSON.parse err",e,i)}var P=this.setVipInfo(n),S=P.isVipSelected,T=P.showVip,I=P.vipInfo,L=P.abstractList,C=P.benefitsList,U=P.benefitsCount;if(!S||l.isUserSelectedVip){var D=this.setOrderInfo(e,b);D.infoDict.select_wx_vip=S,S&&(D.infoDict.vip_type=l.tempVipType),this.data.needPayPrice=d||0,l.periodInfo=o,this.setDefaultPayMethod(s);var O=this.setCouponInfo(e),q=this.changeUpgradeList(x);this.setData({needPayPrice:d||0,orderInfo:Object.assign(_,D),isPaidClinicOrUpgrade:D.orderType===f||D.orderType===h,balance:s,showVip:T,vipInfo:I,isVipSelected:S,abstractList:L,benefitsList:C,benefitsCount:U,qaUpgradeList:q,vipDiscountPrice:p||0,curCouponInfo:O,couponList:this.setCouponList(v,O,m),payLoading:!1,isVisibleArguments:"combo_service"!==D.orderType}),wx.hideLoading()}else this.handleVipChange()},handleClickPayBtn:function(){if(!this.data.isVipAgrementSelected&&this.data.isVipSelected&&this.data.showVip)return wx.showToast({title:"请先阅读并同意协议",icon:"none"}),void d("ListShow",{list_value:"勾选会员连续订阅服务协议toast提示"});wx.showLoading({title:"订单提交中",mask:!0});var e=this.data,i=e.orderInfo,t=void 0===i?{}:i,o=e.curCouponInfo,a=void 0===o?{}:o,n=l.options,r=n.mark,s=n.name,p=n.hospital,_=n.payment_order_id,g=n.activity_partner,v={from_wx_mini:1,partner:c.globalData.partner,finish_success_url:"",finish_fail_url:"",order_name:t.name||"",order_type:t.orderType||"",order_desc:"",info_dict:t.infoDict};if(this.data.recommend_id&&(v.info_dict.recommend_id=this.data.recommend_id),_)return wx.hideLoading(),void this.chunyuPay(_,v.order_type,v.info_dict);t.orderType===h||t.orderType===f?v=Object.assign(v,{finish_success_url:"/pages/qa_im/index?partner=chunyu_wap_mini",order_desc:p||"",info_dict:v.info_dict}):"finddoc"===r&&(v=Object.assign(v,{finish_success_url:"/pages/qa_im/index?partner=chunyu_wap_mini",order_name:"".concat(s,"-图文咨询"),order_type:u,order_desc:p}),g&&(v.activity_partner=g)),l.periodInfo&&(v.period_info=l.periodInfo),a.id&&(v.info_dict.coupon_id=a.id,v.info_dict.use_coupon=!0),this.onCreateOrder(v)},onCreateOrder:function(e){var i=this,t=e.info_dict,o=void 0===t?{}:t,a=e.order_type,n=l.weixinPayResult,s=void 0===n?{}:n,c=l.payParams,d=void 0===c?{}:c,u=this.data.orderInfo,f=void 0===u?{}:u;a!==h||o.upgrade_type||(p.setFilterMsg("PAYMENT"),p.error("PAYMENT",{orderData:e,payParams:d,weixinPayResult:s})),e.info_dict=JSON.stringify(o),this.setData({payLoading:!0}),(0,r.createOrder)(e).then((function(e){wx.hideLoading(),e.success&&e.payment_order_id?(f.id=e.payment_order_id,i.chunyuPay(e.payment_order_id,a,o)):(wx.showToast({title:e.error_msg||"创建订单失败",icon:"none"}),i.setData({payLoading:!1}),a===_&&setTimeout((function(){wx.setStorageSync("fast-phone-fail",1),wx.navigateBack()}),1500))})).catch((function(e){console.log("createOrder error::",e),wx.hideLoading(),wx.showToast({title:"创建订单网络请求出错",icon:"none"}),i.setData({payLoading:!1}),a===_&&setTimeout((function(){wx.setStorageSync("fast-phone-fail",1),wx.navigateBack()}),1500)}))},chunyuPay:function(e,i,t){var o=this.data,a=o.curPayMethod,n=o.payMethods,r=void 0===n?{}:n;this.setData({payLoading:!0}),wx.showLoading({title:"正在支付",mask:!0}),a===r.wx?this.wxPayEvent(e,i,t):a===r.balance&&this.balancePayEvent(e,i,t)},balancePayEvent:function(e,i,t){var o=this;(0,r.balancePay)(e,this.data.payMethods.balance).then((function(a){wx.hideLoading(),0===a.error?o.pollPayResult(e,i,t,!1):2===a.error?(o.setData({payLoading:!1}),wx.reLaunch({url:"/pages/all_service/index"})):((0,r.revertCoupon)({order_id:e}),wx.showToast({title:a.msg||"订单支付失败",icon:"none"}),o.setData({payLoading:!1}))})).catch((function(e){console.log("balancePay error::",e),wx.hideLoading(),wx.showToast({title:"订单支付网络请求出错",icon:"none"}),o.setData({payLoading:!1})}))},wxPayEvent:function(e,i,t){var o=this,a=l.periodInfo,n=void 0===a?"":a;(0,r.getWxPayParams)(e).then((function(a){if(0===a.error){var s=a.wx_mini_params;l.wxPaySignInfo=s,n?o.wxPeriodEvent(e):(wx.hideLoading(),wx.requestPayment({timeStamp:s.timeStamp,nonceStr:s.nonceStr,package:s.package,signType:s.signType,paySign:s.paySign,success:function(){o.pollPayResult(e,i,t,!1)},fail:function(i){console.log(i),wx.reportEvent("wx_requestpayment_fail",{open_id:wx.getStorageSync("open_id")||"",doctor_id:t.doctor_id||"",problem_id:"",error_msg:(null==i?void 0:i.errMsg)||""}),l.isPayWithOriginalId||(0,r.revertCoupon)({order_id:e}),wx.showToast({title:"支付失败",icon:"none"}),o.setData({payLoading:!1})}}))}else 2===a.error?(wx.hideLoading(),o.setData({payLoading:!1}),wx.reLaunch({url:"/pages/all_service/index"})):(wx.hideLoading(),l.isPayWithOriginalId||(0,r.revertCoupon)({order_id:e}),wx.showToast({title:a.msg||"订单支付失败",icon:"none"}),o.setData({payLoading:!1}))})).catch((function(i){console.log("getWxPayParams error::",i),l.isPayWithOriginalId||(0,r.revertCoupon)({order_id:e}),wx.hideLoading(),wx.showToast({title:"订单支付网络请求出错",icon:"none"}),o.setData({payLoading:!1})}))},wxPeriodEvent:function(e,i){var t=this;(0,r.getWxPeriodParams)(e).then((function(o){if(0===o.error_code){wx.hideLoading();var a=o.extra_data;wx.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:{appid:a.appid,mch_id:a.mch_id,plan_id:a.plan_id,contract_code:a.contract_code,request_serial:a.request_serial,contract_display_account:a.contract_display_account,notify_url:a.notify_url,sign:a.sign,timestamp:a.timestamp,outerid:a.outerid},success:function(){l.hasNavToPer=!0,l.perOrderId=e,l.perSuccessCB=i},fail:function(){wx.showToast({title:o.msg||"签约失败",icon:"none"}),t.setData({payLoading:!1})}})}else wx.hideLoading(),wx.showToast({title:o.msg||"获取微信签约信息失败",icon:"none"}),t.setData({payLoading:!1})})).catch((function(e){console.log("getWxPeriodParams error::",e),wx.hideLoading(),wx.showToast({title:"获取微信签约信息网络请求出错",icon:"none"}),t.setData({payLoading:!1})}))},pollPayResult:function(e,i,t){var o=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(console.log("查询支付状态"),wx.showLoading({title:"支付状态查询中，请勿重复支付",mask:!0}),!e)return wx.showToast({title:"订单 id 获取出错",icon:"none"}),void wx.hideLoading();l.payResultPoll=new s.default({fn:r.getPayResult,valid:r.isPayResultValid,interval:1e3,maxAttempts:-1}),l.payResultPoll.executePoll(e).then((function(n){console.log("pollPayResult res",n);var r=n||{},s=r.error_msg;0===r.error?a?(wx.showToast({title:"支付成功",icon:"none",duration:1500}),l.perSuccessCB&&"function"==typeof l.perSuccessCB?l.perSuccessCB():wx.reLaunch({url:"/pages/all_service/index"})):o.paySuccessCb(e,i,t,n):(o.setData({payLoading:!1}),wx.showToast({title:s||"支付状态异常",icon:"none",duration:1500}))})).catch((function(e){console.log("pollPayResult error ::",e),wx.hideLoading(),o.setData({payLoading:!1}),wx.showToast({title:"支付状态查询出错",icon:"none",duration:1500})}))},setOrderInfo:function(e,i){var t=e.service_info_list,o=e.default_price,a=e.need_pay,n=(t||[]).map((function(e,i){return{idx:i,name:e.name||"",price:e.price||0,priceText:e.price_text||"¥".concat(e.price,".00")}})),r={name:e.order_name||"服务名称",orderType:e.order_type,serviceList:n,needPay:a,defaultPrice:o,infoDict:i},s=l.options,c=s.hospital,d=void 0===c?"":c,p=s.title,u=void 0===p?"":p,_=s.is_vip_doc,f=void 0===_?"":_,g=s.mark;if("finddoc"===(void 0===g?"":g)){var h=[{label:"医院",content:d},{label:"职称",content:u},{label:"对话回合",content:"1"===String(f)?"10次":"50次"},{label:"对话时长",content:"48小时"}];r.extraInfo=h}return r},setVipInfo:function(e){var i;console.log("vip_info"),console.log(e);var t=!1,o={},a=[],n=[],r=0,s=!1;if(null!=e&&null!==(i=e.vip_info)&&void 0!==i&&i.is_display&&(t=!0),Object.keys(e).length){var c=e.facade_scene,d=void 0===c?{}:c,p=e.vip_info,u=void 0===p?{}:p;o={title:u.title||"",desc:u.desc||"",price:u.price||0,priceDesc:u.price_desc||""},(s=Boolean(u.is_selected))||this.setData({isVipAgrementSelected:!1});var _=l.payParams.info,f=void 0===_?{}:_;f.select_wx_vip=s,f.vip_type=l.tempVipType;var g=d.abstract_list,h=void 0===g?[]:g,v=d.detail_list,y=void 0===v?[]:v,m=d.detail_count,w=void 0===m?0:m;a=h.map((function(e,i){return{no:e.no||"vip_".concat(i),benefitName:e.benefit_name||"",iconUrl:e.icon_url||"",benefitAbstract:e.benefit_abstract||"",tipDesc:e.tip_desc||""}})),n=y.map((function(e,i){return{idx:i,groupName:e.group_name||"",facadeList:(e.facade_list||[]).map((function(i,t){return{no:e.no||"vip_".concat(t),benefitName:i.benefit_name||"",iconUrl:i.icon_url||"",benefitAbstract:i.benefit_abstract||""}}))}})),r=w}return{isVipSelected:s,showVip:t,vipInfo:o,abstractList:a,benefitsList:n,benefitsCount:r}},handleVipChange:function(){l.isUserSelectedVip=!l.isUserSelectedVip,this.vipStatusChangeEvent(l.isUserSelectedVip)},vipStatusChangeEvent:function(e){var i=l.payParams,t=void 0===i?{}:i,o=l.originPayInfo,a=void 0===o?{}:o;if(e&&(l.curUpgrade={}),this.setInfoByVipChange(t,e,a),t.type===v){var n=t.info.sub_list.find((function(e){return e.type===f||e.type===h}));if(n){var r=a.subList.find((function(e){return e.type===f||e.type===h}))||{};this.setInfoByVipChange(n,e,r)}}this.data.isVipSelected||this.setData({isVipAgrementSelected:!1}),this.getOrderInfo(t)},handleArgeementChange:function(){this.setData({isVipAgrementSelected:!this.data.isVipAgrementSelected}),this.data.isVipSelected&&!this.data.isVipAgrementSelected&&d("ListShow",{list_value:"勾选会员连续订阅服务协议标签提示"})},setInfoByVipChange:function(e,i,t){var o=l.tempVipType,a=e.info,n=void 0===a?{}:a;n.select_wx_vip=i,i?(e.type=e.type===f?h:e.type,n.upgrade_type="qc_hospital_upgrade",n.vip_type=o):(e.type=t.type,n.upgrade_type=t.upgradeType,delete n.vip_type)},setCouponInfo:function(e){var t=e.coupon_info,o=e.coupon_discount_price,a=e.is_max_coupon,n=e.available_coupon_num,r=this.data.curCouponInfo,s=void 0===r?{}:r;return s={discountPrice:o,isMax:a,availableNum:n},t&&Object.keys(t).length?t.id&&(l.payParams.info.coupon_id=t.id,l.payParams.info.use_coupon=!0,s=i(i({},t),s)):s.noCoupon=!n||n<=0,s},setCouponList:function(e,i,t){return(e.concat(t)||[]).map((function(e){var t="",o="";"percent_discount"===e.discount_type?(t="折",o=10*e.percent_discount_rate):(t="元",o=e.max_discount_yuan);var a=String(o).split(".");return{id:e.id,title:e.title||"",description:e.description||"",focusPrice:a[0],tipsPrice:a.length>1?".".concat(a[1].substring(0,2)):"",unit:t,expireDate:e.expire_date||"",isSelected:e.id===i.id,isValid:e.is_valid,isExpired:e.is_expired,isUsed:e.is_used,isUnavailable:Boolean(e.reason),reason:e.reason}}))},chooseCouponEvent:function(e){var i=e.detail,t=l.payParams.info,o=void 0===t?{}:t;o.coupon_id=i,o.use_coupon=!!i,l.payParams.info=o,this.getOrderInfo(l.payParams)},changeUpgradeList:function(e){var i=this.data.qaUpgradeList,t=void 0===i?[]:i;if(t&&t.length)return e?t.forEach((function(i){i.type===e?i.isSelected=!0:i.isSelected=!1})):t.forEach((function(e){e.isSelected=!1})),t},initUpgradeList:function(){var e=this;return new Promise((function(i,t){var o=l.payParams,a=void 0===o?{}:o,n=a.info,s=void 0===n?"":n,c=a.type,d=void 0===c?"":c,p=e.convertObjToStr(s);d&&Object.keys(s).length?(0,r.getUpgradeInfo)({type:d,info:p}).then((function(t){if(0===t.error_code){var o=t.data&&t.data.service_list||[];e.data.qaUpgradeList=o.map((function(e,i){return{idx:i,title:e.name||"",price:e.price||0,priceText:e.display_price_text||"",type:e.upgrade_type||"",isSelected:!1}})),e.setData({qaUpgradeList:e.data.qaUpgradeList}),i()}})).catch((function(e){console.log("getUpgradeInfo error::",e),t()})):i()}))},chooseUpgrade:function(e){var i=this,t=this.data.qaUpgradeList,o=void 0===t?[]:t,a=l.payParams,n=void 0===a?{}:a,r=e.currentTarget.dataset.type,s=o.find((function(e){return e.type===r}))||{},c=l.curUpgrade.type!==r;c?(l.isUserSelectedVip=!1,l.curUpgrade=s):l.curUpgrade={},this.setInfoByUpgradeChange(n,c,r),n.type===v&&n.info.sub_list.forEach((function(e){e.type!==f&&e.type!==h||i.setInfoByUpgradeChange(e,c,r)})),this.getOrderInfo(n)},setInfoByUpgradeChange:function(e,i,t){var o=e.info,a=void 0===o?{}:o;i?(a.select_wx_vip=!1,delete a.vip_type,e.type=e.type===f?h:e.type,a.upgrade_type=t):(e.type=e.type===h?f:e.type,a.upgrade_type="")},initPayMethod:function(){this.setData({curPayMethod:this.data.payMethods.wx,showBalance:!0,canUseBalance:!1})},setDefaultPayMethod:function(e){var i=l.weixinPayResult,o=void 0===i?{}:i,a=this.data,n=a.payMethods,r=void 0===n?{}:n,s=a.needPayPrice,c=void 0===s?"":s,d=this.data,p=d.showBalance,u=void 0!==p&&p,_=d.canUseBalance,f=void 0!==_&&_,g=d.curPayMethod,h=void 0===g?"":g,v=l.periodInfo,y=void 0===v?"":v;"object"===t(y)&&(y=Object.keys(y).length?JSON.stringify(y):"");var m=Number(c);h=r.wx;var w=o.valid_platform_list,x=void 0===w?[]:w,b=o.paid_by_balance;x.find((function(e){return e===r.balance}))?u=!0:(u=!1,f=!1),u&&(f=void 0===b&&e>=m||(b||!1)),f&&(h=r.balance),this.setData({curPayMethod:h,balance:e,canUseBalance:f,showBalance:u})},choosePayMethod:function(e){var i=e.currentTarget.dataset.paymethod;this.setData({curPayMethod:i})},setPayParams:function(e){var i={},t=e.payment_order_id,o=e.info,a=e.mark,n=e.order_name,r=e.order_desc,s=e.type,d=e.order_type,p=e.vip_type,u=e.finish_success_url,_=e.finish_fail_url;if(t)l.isPayWithOriginalId=!0,i={pay_order_id:t,common_pay:!0,info:{},type:""};else{l.isPayWithOriginalId=!1;var f=o||"";f&&(f=JSON.parse(decodeURIComponent(f))),i={pay_version:"2"};if(["paid_clinic","app_special_service","revisit","cy_vip","h5_send_heart","video_inquiry_saas","qa_upgrade","graph","package","fast_phone","baichuan_ai_chat"].includes(a))i.order_name=n||"",i.order_desc=r||"",i.type=s||d||"",i.info=f||{},i.finish_success_url=u?decodeURIComponent(u):"",i.finish_fail_url=_?decodeURIComponent(_):"","cy_vip"===a&&(i.vip_type=p||l.tempVipType);else{var g=c.globalData.order_data||{};if(i.order_name=g.order_name||"",i.order_desc=g.order_desc||"",i.type=g.order_type||g.type||"",i.info=g.info_dict||g.info||{},i.recommend_id=g.recommend_id||"",this.data.recommend_id=g.recommend_id||"","upgrade"===a){var h=c.globalData,v=h.fromOneYuan,y=h.is_new_user;i.ask_famous_doc=v&&y?1:0,i.info=Object.assign(i.info,{can_ask_free_qa:0})}}}return i=Object.assign(i,{partner:c.globalData.partner,from_wx_mini:1,is_json:1})},onLoginSuccess:function(){this.setData({isLogin:!0}),this.initPage()},initPage:function(){var e=this;wx.showLoading({title:"订单信息获取中",mask:!0}),this.initUpgradeList().then((function(){console.log(l),e.getOrderInfo(l.payParams)})).catch((function(i){console.log("initPage error::",i),wx.hideLoading(),wx.showModal({title:"提示",content:"网络连接失败，请重试",showCancel:!1,success:function(i){i.confirm&&e.initPage()}})}))},pollPeriodSignStatus:function(){var e=this;console.log("查询签约状态"),wx.showLoading({title:"签约状态查询中，请勿重复支付",mask:!0});var i=l.perOrderId,t=void 0===i?"":i;if(!t)return wx.showToast({title:"订单 id 获取出错",icon:"none"}),void wx.hideLoading();l.periodPoll=new s.default({fn:r.getPeriodSignStatus,valid:r.isPeriodSignStatusValid,interval:1e3,maxAttempts:-1}),l.periodPoll.executePoll(t).then((function(i){console.log("pollPeriodSignStatus res",i);var t=i||{},o=t.error_msg,a=t.status;setTimeout((function(){wx.hideLoading(),"NORMAL"===a?e.pollPayResult(l.perOrderId,"",{},!0):wx.showToast({title:o||"签约状态异常",icon:"none",duration:1500})}),1500)})).catch((function(e){console.log("pollPeriodSignStatus error ::",e),wx.hideLoading(),wx.showToast({title:"签约状态查询出错",icon:"none",duration:1500})}))},paySuccessCb:function(e,i,t,o){var a=this.setCbOptions(e,i,t,o),n=y[l.options.mark]||y[i]||"",r=this.cyPayCallBack(a);(r[n]||r.defaultCallBack)()},setCbOptions:function(e,i,t,o){var a=o.finish_url,n=o.service_type,r=o.service_id;return{docId:t.doctor_id||"",name:l.options.name||"",problemId:t.problem_id||"",orderType:i||"",orderId:e,doctorImg:l.options.doctor_img||"",heartType:c.globalData.heart_type||"",finishUrl:a||"",serviceId:r||"",serviceType:n||""}},cyPayCallBack:function(e){var i=this,t=e.docId,n=void 0===t?"":t,s=e.name,p=void 0===s?"":s,u=e.problemId,_=void 0===u?"":u,f=e.orderType,h=void 0===f?"":f,v=e.orderId,y=void 0===v?"":v,m=e.doctorImg,w=void 0===m?"":m,x=e.heartType,b=void 0===x?"":x,P=e.finishUrl,S=void 0===P?"":P,T=e.serviceType,I=void 0===T?"":T,L=e.serviceId,C=void 0===L?"":L;return wx.showToast({title:"支付成功",icon:"none"}),this.setData({payLoading:!1}),{qaUpgrade:function(){if(S){var e=S.match(new RegExp("[?&]problem_id=([^&]*)(&?)","i")),i=e&&e.length>1&&e[1]||"";i?(0,r.goQaFromAllService)(i):(0,r.switchToAllService)()}else(0,r.switchToAllService)()},qaOrUp:function(){if(h!==g&&_)(0,r.goQaFromAllService)(_);else if(S){var e=S.match(new RegExp("[?&]problem_id=([^&]*)(&?)","i")),i=e&&e.length>1&&e[1]||"";i?(0,r.goQaFromAllService)(i):(0,r.switchToAllService)()}else(0,r.switchToAllService)()},sendheart:function(){wx.redirectTo({url:"/pages/send_heart_ok/index?doc_id=".concat(n,"&name=").concat(p,"&doc_img=").concat(w,"&heart_type=").concat(b)})},h5SendHeart:function(){var e="".concat(o.baseUrl).concat(S);wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})},emergency:function(){if(_)wx.redirectTo({url:"/pages/qa_im/index?problem_id=".concat(_)});else if(S&&S.indexOf("problem_id")>-1){var e=(0,a.getQueryStr)("problem_id",S);(0,r.goQaFromAllService)(e)}else(0,r.switchToAllService)()},inquiry:function(){wx.redirectTo({url:"/pages/tel_inquiry_pay_success/index?pay_order_id=".concat(y)})},vipDocApply:function(){if(d("PageView",{doctor_id:n,platform_source:"weixin_mini",page_title:"预约咨询",page_readable_name:"名院专家-预约成功",source_type:"名院专家-预约咨询"}),S){var e=S.match(new RegExp("[?&]service_id=([^&]*)(&?)","i")),t=e&&e.length>1&&e[1]||"";i.jumpToQaInfinity(t,I)}},expertConsultation:function(){if(d("PageView",{doctor_id:n,platform_source:"weixin_mini",page_title:"预约咨询",page_readable_name:"名院专家-预约成功",source_type:"名院专家-预约咨询"}),S){var e=S.match(new RegExp("[?&]service_id=([^&]*)(&?)","i")),t=e&&e.length>1&&e[1]||"";i.jumpToQaInfinityNew(t)}},serviceOrder:function(){wx.navigateBack({delta:1})},appSpecialService:function(){var e=encodeURIComponent("".concat(o.baseUrl).concat(decodeURIComponent(l.payParams.finish_success_url)))||encodeURIComponent("".concat(o.baseUrl,"/v-m-mall/payment-success"));wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(e)})},registerApply:function(){var e=(c.globalData.order_data||{}).info_dict,i=(void 0===e?{}:e).id;wx.redirectTo({url:"/pages/appointment_doctor_detail/index?id=".concat(i)})},revisit:function(){wx.navigateBack({delta:1})},advanced:function(){h!==g&&_?wx.redirectTo({url:"/pages/qa_im/index?problem_id=".concat(_)}):(0,r.switchToAllService)()},fastPhone:function(){(0,r.switchTabToTarget)("/pages/all_service/index","/pages/pay_success_new/pay_success?page_type=fast_phone")},finddoc:function(){if(S){var e="".concat(o.baseUrl).concat(S);(0,r.getResult)(e,{from_wx_mini:1,is_json:1}).then((function(e){c.globalData.doctor_info=e.doctor_info,c.globalData.problem_id=e.page_info.problem_id,(0,r.goInqueryFromAllService)(e.page_info.problem_id)})).catch((function(e){console.log("".concat(o.baseUrl).concat(S," error::"),e)}))}},cyVip:function(){var e=encodeURIComponent("".concat(o.baseUrl,"/wxvip/home?partner=chunyu_wap_mini")),i="/pages/vip_webview/index?url=".concat(e);(0,r.switchTabToTarget)("/pages/user_center/index",i)},package:function(){var e="/pages/pay_success_new/pay_success?service_count=".concat(l.payParams.info.sub_list.length,"&page_type=normal_service");(0,r.switchTabToTarget)("/pages/all_service/index",e)},videoInquirySaas:function(){var e=encodeURIComponent("".concat(o.baseUrl).concat(S));(0,r.goH5WebviewFromAllService)(e)},defaultCallBack:function(){C?(0,r.goQaFromAllService)(C):(0,r.switchToAllService)()},graph:function(){if(S){var e=S.match(new RegExp("[?&]problem_id=([^&]*)(&?)","i")),i=e&&e.length>1&&e[1]||"";i?(0,r.goQaFromAllService)(i):(0,r.switchToAllService)()}else(0,r.switchToAllService)()},baichuanAiChat:function(){if(S){var e="/pages/h5_webview/index?url=".concat(encodeURIComponent(S));wx.switchTabToTarget("/pages/all_service/index",e)}}}},jumpToQaInfinity:function(e,i){(0,r.getConversationId)(e,i).then((function(e){e.success?wx.redirectTo({url:"/pages/qa_im_infinite/index?problem_id=".concat(e.conversation_id)}):wx.showToast({title:e.error_msg||"会话id获取失败",icon:"none"})})).catch((function(e){console.log("getConversationId error::",e),wx.showToast({title:"获取会话id网络请求出错",icon:"none"})}))},jumpToQaInfinityNew:function(e){(0,r.getConversationIdNew)(e).then((function(e){if(0===e.error_code){var i="/pages/qa_im_infinite/index?problem_id=".concat(e.conversation_id);(0,r.switchTabToTarget)("/pages/all_service/index",i)}else wx.showToast({title:e.error_msg||"会话id获取失败",icon:"none"})})).catch((function(e){console.log("getConversationId error::",e),wx.showToast({title:"获取会话id网络请求出错",icon:"none"})}))},stopAllPollEvents:function(){var e=l.periodPoll,i=l.payResultPoll;e&&e.stop&&"function"==typeof e.stop&&l.periodPoll.stop(),i&&i.stop&&"function"==typeof i.stop&&l.payResultPoll.stop()},convertObjToStr:function(e){return e&&"object"===t(e)?JSON.stringify(e):e},showAlertBeforeLeave:function(){this.data.shouldShowAlertBeforeLeave=!0,wx.canIUse("enableAlertBeforeUnload")&&wx.enableAlertBeforeUnload({message:"您有一张新用户折扣券并未使用，是否要继续退出"})}});
},{isPage:true,isComponent:true,currentFile:'pages/payment/index.js'});require("pages/payment/index.js");$gwx_XC_170=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_170 || [];
function gz$gwx_XC_170_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_170_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_170_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_170_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'paymentList']])
Z([3,'record__section'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'recharge']])
Z([[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'related_info']],[3,'status']],[1,'refunded']])
Z([[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'related_info']],[3,'status']],[1,'reject']])
Z([[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'related_info']],[3,'status']],[1,'refunding']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_170_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_170_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_170=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_170=true;
var x=['./pages/payment_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_170_1()
var eNGB=_v()
_(r,eNGB)
var bOGB=function(xQGB,oPGB,oRGB,gg){
var cTGB=_n('view')
_rz(z,cTGB,'class',1,xQGB,oPGB,gg)
var hUGB=_v()
_(cTGB,hUGB)
if(_oz(z,2,xQGB,oPGB,gg)){hUGB.wxVkey=1
}
var oVGB=_v()
_(cTGB,oVGB)
if(_oz(z,3,xQGB,oPGB,gg)){oVGB.wxVkey=1
}
var cWGB=_v()
_(cTGB,cWGB)
if(_oz(z,4,xQGB,oPGB,gg)){cWGB.wxVkey=1
}
var oXGB=_v()
_(cTGB,oXGB)
if(_oz(z,5,xQGB,oPGB,gg)){oXGB.wxVkey=1
}
hUGB.wxXCkey=1
oVGB.wxXCkey=1
cWGB.wxXCkey=1
oXGB.wxXCkey=1
_(oRGB,cTGB)
return oRGB
}
eNGB.wxXCkey=2
_2z(z,0,bOGB,e,s,gg,eNGB,'item','index','')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_170";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_170();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/payment_list/index.wxml'] = [$gwx_XC_170, './pages/payment_list/index.wxml'];else __wxAppCode__['pages/payment_list/index.wxml'] = $gwx_XC_170( './pages/payment_list/index.wxml' );
	;__wxRoute = "pages/payment_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/payment_list/index.js";define("pages/payment_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/api/v8/get_account_change_list/";Page({data:{paymentList:[],withdraw:"",recharge:"",page:1,list_num:""},onLoad:function(){this.getPayRecordList()},loadMore:function(){this.data.list_num<20||this.getPayRecordList()},onReachBottom:function(){this.loadMore()},getPayRecordList:function(){var e=this,i=e.data.paymentList,s=null,n=0,o=e.data.page,r=t.globalData.sessionid||wx.getStorageSync("sessionid"),c=t.globalData.partner;wx.request({url:a,method:"GET",header:{"Content-Type":"application/json",Cookie:r},data:{from_wx_mini:1,page:o,is_json:1,partner:c},success:function(t){t=t.data,n=t.change_list.length,s=i.concat(t.change_list),e.setData({paymentList:s,page:o+1,list_num:n})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/payment_list/index.js'});require("pages/payment_list/index.js");$gwx_XC_171=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_171 || [];
function gz$gwx_XC_171_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_171_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_171_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_171_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'physique-list'])
Z([[7],[3,'isEmpty']])
Z([[7],[3,'physiqueList']])
Z([3,'index'])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'bmi_status']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'bmi_status']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'bmi_status']],[1,1]])
Z([[7],[3,'showMore']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_171_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_171_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_171=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_171=true;
var x=['./pages/physique_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_171_1()
var aZGB=_n('view')
_rz(z,aZGB,'class',0,e,s,gg)
var t1GB=_v()
_(aZGB,t1GB)
if(_oz(z,1,e,s,gg)){t1GB.wxVkey=1
}
else{t1GB.wxVkey=2
var b3GB=_v()
_(t1GB,b3GB)
var o4GB=function(o6GB,x5GB,f7GB,gg){
var h9GB=_v()
_(f7GB,h9GB)
if(_oz(z,4,o6GB,x5GB,gg)){h9GB.wxVkey=1
var o0GB=_v()
_(h9GB,o0GB)
if(_oz(z,5,o6GB,x5GB,gg)){o0GB.wxVkey=1
}
var cAHB=_v()
_(h9GB,cAHB)
if(_oz(z,6,o6GB,x5GB,gg)){cAHB.wxVkey=1
}
o0GB.wxXCkey=1
cAHB.wxXCkey=1
}
h9GB.wxXCkey=1
return f7GB
}
b3GB.wxXCkey=2
_2z(z,2,o4GB,e,s,gg,b3GB,'item','index','index')
var e2GB=_v()
_(t1GB,e2GB)
if(_oz(z,7,e,s,gg)){e2GB.wxVkey=1
}
e2GB.wxXCkey=1
}
t1GB.wxXCkey=1
_(r,aZGB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_171";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_171();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/physique_list/index.wxml'] = [$gwx_XC_171, './pages/physique_list/index.wxml'];else __wxAppCode__['pages/physique_list/index.wxml'] = $gwx_XC_171( './pages/physique_list/index.wxml' );
	;__wxRoute = "pages/physique_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/physique_list/index.js";define("pages/physique_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/toConsumableArray"),t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/ehr/health/physique/list/";Page({data:{physiqueList:[],page:1,countPerPage:20,hasMore:!1,isEmpty:!1,showMore:!1},onShow:function(e){this.setData({page:1}),this.getPhysiqueList()},getPhysiqueList:function(){var s=this,o=this.data,i=o.physiqueList,r=o.page,n=o.countPerPage;wx.request({url:a,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{page:r,count_per_page:n,partner:t.globalData.partner,from_wx_mini:1},method:"GET",success:function(t){if(0===(t=t.data).error_code){var a=t.payload.physique_list;s.setData({isEmpty:1===r&&!a.length,physiqueList:1===r?a:[].concat(e(i),e(a)),hasMore:!(a.length<n),showMore:!(a.length<n&&1===r),page:r+1})}else wx.showToast({title:t.error_msg||"数据请求失败，请稍后再试",icon:"none",duration:2e3})},fail:function(e){wx.showToast({title:"数据请求出错，请稍后再试",icon:"none",duration:2e3}),console.log(e)}})},onReachBottom:function(){this.data.hasMore&&this.getPhysiqueList()}});
},{isPage:true,isComponent:true,currentFile:'pages/physique_list/index.js'});require("pages/physique_list/index.js");$gwx_XC_172=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_172 || [];
function gz$gwx_XC_172_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_172_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_172_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_172_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_172_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_172_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_172=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_172=true;
var x=['./pages/physique_upload/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_172_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_172";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_172();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/physique_upload/index.wxml'] = [$gwx_XC_172, './pages/physique_upload/index.wxml'];else __wxAppCode__['pages/physique_upload/index.wxml'] = $gwx_XC_172( './pages/physique_upload/index.wxml' );
	;__wxRoute = "pages/physique_upload/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/physique_upload/index.js";define("pages/physique_upload/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/toConsumableArray"),a=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),i=e(require("../../C871ACB1829A079CAE17C4B61D2C7B70.js")),r=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=s.baseUrl+"/ehr/health/physique/upload/",h=s.baseUrl+"/ehr/list/";Page({data:{ehrId:"",measureTime:"",height:"",weight:"",btnLoading:!1,dateTimeArray:[],dateTimeIndex:[],initDatePicker:[],curDateArray:[],heightOptions:[],heightIndex:159,ehrOptions:[],erhIndex:[],ehrVerbose:""},onLoad:function(){this.getEhrOptions(),this.initValidate();var e,i=this.getCurDate(),r=this.initDateTimePicker(i,!0),s=r.dateTimeIndex,o=r.dateTimeArray,n=[],h=a(o);try{for(h.s();!(e=h.n()).done;){var u=e.value;n.push(t(u))}}catch(e){h.e(e)}finally{h.f()}var c=this.setHeightRange();this.setData({dateTimeIndex:s,dateTimeArray:o,curDateArray:i,initDatePicker:n,heightOptions:c})},getEhrOptions:function(){var e=this;wx.request({url:h,header:{"Content-Type":"application/json",Cookie:r.globalData.sessionid},data:{is_json:1,from_wx_mini:1,partner:r.globalData.partner},success:function(t){var a=t.data,i=a.error_code,r=a.error_msg,s=a.payload;if(0===i){var o=(s.ehr_list||[]).map((function(e){return{id:e.id,verbose:"".concat(e.relation_verbose||"--","(").concat(e.name||"--",")"),selected:!1}}));e.setData({ehrOptions:o})}else wx.showToast({icon:"none",title:r||"健康档案信息获取失败，请稍后重试",duration:2e3})},fail:function(e){wx.showToast({icon:"none",title:"健康档案信息获取出错，请稍后重试",duration:2e3}),console.log(e)}})},ehrChangeEvent:function(e){var t=e.detail.value,a=this.data.ehrOptions[t];this.setData({ehrId:a.id,ehrVerbose:a.verbose,ehrIndex:t})},setHeightRange:function(){for(var e=[],t=1;t<=220;t++)e.push(t);return e},changeDateTime:function(e){var t=e.detail.value,a=this.data.dateTimeArray,i=a[0][t[0]],r=a[1][t[1]],s=a[2][t[2]],o=a[3][t[3]],n=a[4][t[4]];this.setData({measureTime:"".concat(i,"-").concat(r,"-").concat(s," ").concat(o,":").concat(n)})},heightChangeEvent:function(e){var t=e.detail.value,a=this.data.heightOptions[t];this.setData({height:a,heightIndex:t})},weightChangeEvent:function(e){if(e.detail.value){var t=e.detail.value;if(Number.isNaN(Number(t)))return wx.showModal({title:"提示",content:"体重输入错误，请重新输入",showCancel:!1}),showData.weight||"";Number(t)&&Number(t)>250?t=250:String(t).split(".")[1]&&String(t).split(".")[1].length>1&&(t=t.replace(/([0-9]+\.[0-9]{1})[0-9]*/,"$1")),this.setData({weight:t})}else this.setData({weight:""})},submitForm:function(){var e=this;this.setData({btnLoading:!0});var t={ehr_id:this.data.ehrId,weight:this.data.weight,height:this.data.height,measure_time:this.data.measureTime,from_wx_mini:1};if(!this.WxValidate.checkForm(t)){var a=this.WxValidate.errorList[0];return wx.showModal({title:"提示",content:a.msg||"",showCancel:!1}),this.setData({btnLoading:!1}),!1}wx.request({url:n,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:r.globalData.sessionid},method:"POST",data:o(t),success:function(e){0===e.data.error_code?wx.showToast({title:"保存成功",mask:!0,success:function(){setTimeout((function(){wx.navigateBack({delta:1})}),1500)}}):wx.showToast({title:e.error_msg||"数据提交失败请重试",icon:"none"})},fail:function(e){wx.showToast({title:"数据提交出错请重试",icon:"none"})},complete:function(){e.setData({btnLoading:!1})}})},initValidate:function(){this.WxValidate=new i.default({ehr_id:{required:!0},measure_time:{required:!0},height:{required:!0},weight:{required:!0}},{ehr_id:{required:"请选择健康档案"},measure_time:{required:"请选择测量时间"},height:{required:"请选择身高"},weight:{required:"请输入体重"}})},changeDateTimeColumn:function(e){var t=this.data,a=t.dateTimeIndex,i=t.dateTimeArray,r=e.detail,s=r.column,o=r.value;a[s]=o;var n={selectY:i[0][a[0]],selectM:i[1][a[1]],selectD:i[2][a[2]],selectH:i[3][a[3]],selectMi:i[4][a[4]]};this.setChangePicker(n,i),this.setData({dateTimeIndex:a,dateTimeArray:i})},setChangePicker:function(e,a){var i=e.selectY,r=e.selectM,s=e.selectD,o=e.selectH,n=(e.selectMi,this.data),h=n.curDateArray,u=n.initDatePicker;console.log(e,h),i===h[0]?(a[1]=t(u[1]),r===h[1]?(a[2]=t(u[2]),s===h[2]?(a[3]=t(u[3]),o===h[3]?a[4]=t(u[4]):a[4]=this.getLoopArray(1,59)):(a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))):(a[2]=this.getMonthDay(i,r),a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))):(a[1]=this.getLoopArray(1,12),a[2]=this.getMonthDay(i,r),a[3]=this.getLoopArray(1,23),a[4]=this.getLoopArray(1,59))},initDateTimePicker:function(e){var t=[],a=[];a.push(this.getLoopArray(2017,e[0])||[]),a.push(this.getLoopArray(1,e[1])||[]);var i=this.getMonthDay(e[0],e[1])||[],r=i.indexOf(e[2]);return r>-1&&a.push(i.slice(0,r+1)),a.push(this.getLoopArray(0,e[3])||[]),a.push(this.getLoopArray(0,e[4])||[]),a.forEach((function(a,i){t.push(a.indexOf(e[i]))})),{dateTimeArray:a,dateTimeIndex:t}},getCurDate:function(){var e=new Date;return[this.formatNumber(e.getFullYear()),this.formatNumber(e.getMonth()+1),this.formatNumber(e.getDate()),this.formatNumber(e.getHours()),this.formatNumber(e.getMinutes())]},getMonthDay:function(e,t){var a=e%400==0||e%4==0&&e%100!=0,i=null;switch(t){case"01":case"03":case"05":case"07":case"08":case"10":case"12":i=this.getLoopArray(1,31);break;case"04":case"06":case"09":case"11":i=this.getLoopArray(1,30);break;case"02":i=a?this.getLoopArray(1,29):this.getLoopArray(1,28);break;default:i="月份格式不正确，请重新输入！"}return i},getLoopArray:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],i=e;i<=t;i++)a.push(this.formatNumber(i));return a},formatNumber:function(e){return e<10?"0".concat(e):e}});
},{isPage:true,isComponent:true,currentFile:'pages/physique_upload/index.js'});require("pages/physique_upload/index.js");$gwx_XC_173=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_173 || [];
function gz$gwx_XC_173_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_173_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_173_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_173_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'pressure-list'])
Z([[7],[3,'isEmpty']])
Z([[7],[3,'pressureList']])
Z([3,'index'])
Z([3,'pressure-table__tr'])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'sbp_change_status']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'sbp_change_status']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'sbp_change_status']],[1,1]])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'dbp_change_status']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'dbp_change_status']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'dbp_change_status']],[1,1]])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'hr_change_status']],[1,0]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'hr_change_status']],[1,2]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'hr_change_status']],[1,1]])
Z([[7],[3,'showMore']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_173_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_173_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_173=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_173=true;
var x=['./pages/pressure_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_173_1()
var aDHB=_n('view')
_rz(z,aDHB,'class',0,e,s,gg)
var tEHB=_v()
_(aDHB,tEHB)
if(_oz(z,1,e,s,gg)){tEHB.wxVkey=1
}
else{tEHB.wxVkey=2
var bGHB=_v()
_(tEHB,bGHB)
var oHHB=function(oJHB,xIHB,fKHB,gg){
var hMHB=_n('view')
_rz(z,hMHB,'class',4,oJHB,xIHB,gg)
var oNHB=_v()
_(hMHB,oNHB)
if(_oz(z,5,oJHB,xIHB,gg)){oNHB.wxVkey=1
var lQHB=_v()
_(oNHB,lQHB)
if(_oz(z,6,oJHB,xIHB,gg)){lQHB.wxVkey=1
}
var aRHB=_v()
_(oNHB,aRHB)
if(_oz(z,7,oJHB,xIHB,gg)){aRHB.wxVkey=1
}
lQHB.wxXCkey=1
aRHB.wxXCkey=1
}
var cOHB=_v()
_(hMHB,cOHB)
if(_oz(z,8,oJHB,xIHB,gg)){cOHB.wxVkey=1
var tSHB=_v()
_(cOHB,tSHB)
if(_oz(z,9,oJHB,xIHB,gg)){tSHB.wxVkey=1
}
var eTHB=_v()
_(cOHB,eTHB)
if(_oz(z,10,oJHB,xIHB,gg)){eTHB.wxVkey=1
}
tSHB.wxXCkey=1
eTHB.wxXCkey=1
}
var oPHB=_v()
_(hMHB,oPHB)
if(_oz(z,11,oJHB,xIHB,gg)){oPHB.wxVkey=1
var bUHB=_v()
_(oPHB,bUHB)
if(_oz(z,12,oJHB,xIHB,gg)){bUHB.wxVkey=1
}
var oVHB=_v()
_(oPHB,oVHB)
if(_oz(z,13,oJHB,xIHB,gg)){oVHB.wxVkey=1
}
bUHB.wxXCkey=1
oVHB.wxXCkey=1
}
oNHB.wxXCkey=1
cOHB.wxXCkey=1
oPHB.wxXCkey=1
_(fKHB,hMHB)
return fKHB
}
bGHB.wxXCkey=2
_2z(z,2,oHHB,e,s,gg,bGHB,'item','index','index')
var eFHB=_v()
_(tEHB,eFHB)
if(_oz(z,14,e,s,gg)){eFHB.wxVkey=1
}
eFHB.wxXCkey=1
}
tEHB.wxXCkey=1
_(r,aDHB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_173";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_173();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/pressure_list/index.wxml'] = [$gwx_XC_173, './pages/pressure_list/index.wxml'];else __wxAppCode__['pages/pressure_list/index.wxml'] = $gwx_XC_173( './pages/pressure_list/index.wxml' );
	;__wxRoute = "pages/pressure_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/pressure_list/index.js";define("pages/pressure_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/toConsumableArray"),t=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/ehr/health/bp/list/";Page({data:{pressureList:[],page:1,countPerPage:20,hasMore:!1,isEmpty:!1,showMore:!1},onShow:function(e){this.setData({page:1}),this.getPressureList()},getPressureList:function(){var a=this,r=this.data,o=r.pressureList,i=r.page,n=r.countPerPage;wx.request({url:s,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{page:i,count_per_page:n,partner:t.globalData.partner,from_wx_mini:1},method:"GET",success:function(t){if(0===(t=t.data).error_code){var s=t.payload.bp_list;a.setData({isEmpty:1===i&&!s.length,pressureList:1===i?s:[].concat(e(o),e(s)),hasMore:!(s.length<n),showMore:!(s.length<n&&1===i),page:i+1})}else wx.showToast({title:t.error_msg||"数据请求失败，请稍后再试",icon:"none",duration:2e3})},fail:function(e){wx.showToast({title:"数据请求出错，请稍后再试",icon:"none",duration:2e3}),console.log(e)}})},onReachBottom:function(){this.data.hasMore&&this.getPressureList()}});
},{isPage:true,isComponent:true,currentFile:'pages/pressure_list/index.js'});require("pages/pressure_list/index.js");$gwx_XC_174=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_174 || [];
function gz$gwx_XC_174_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_174_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_174_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_174_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_174_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_174_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_174=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_174=true;
var x=['./pages/pressure_upload/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_174_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_174";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_174();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/pressure_upload/index.wxml'] = [$gwx_XC_174, './pages/pressure_upload/index.wxml'];else __wxAppCode__['pages/pressure_upload/index.wxml'] = $gwx_XC_174( './pages/pressure_upload/index.wxml' );
	;__wxRoute = "pages/pressure_upload/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/pressure_upload/index.js";define("pages/pressure_upload/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/defineProperty"),a=require("../../@babel/runtime/helpers/toConsumableArray"),r=require("../../@babel/runtime/helpers/createForOfIteratorHelper"),i=e(require("../../C871ACB1829A079CAE17C4B61D2C7B70.js")),s=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,u=o.baseUrl+"/ehr/health/bp/upload/",h=o.baseUrl+"/ehr/list/";Page({data:{ehrId:"",measureTime:"",highPressure:null,lowPressure:null,heartRate:null,btnLoading:!1,dateTimeArray:[],dateTimeIndex:[],initDatePicker:[],curDateArray:[],ehrOptions:[],erhIndex:[],ehrVerbose:""},onLoad:function(){this.getEhrOptions(),this.initValidate();var e,t=this.getCurDate(),i=this.initDateTimePicker(t,!0),s=i.dateTimeIndex,o=i.dateTimeArray,n=[],u=r(o);try{for(u.s();!(e=u.n()).done;){var h=e.value;n.push(a(h))}}catch(e){u.e(e)}finally{u.f()}this.setData({dateTimeIndex:s,dateTimeArray:o,curDateArray:t,initDatePicker:n})},getEhrOptions:function(){var e=this;wx.request({url:h,header:{"Content-Type":"application/json",Cookie:s.globalData.sessionid},data:{is_json:1,from_wx_mini:1,partner:s.globalData.partner},success:function(t){var a=t.data,r=a.error_code,i=a.error_msg,s=a.payload;if(0===r){var o=(s.ehr_list||[]).map((function(e){return{id:e.id,verbose:"".concat(e.relation_verbose||"--","(").concat(e.name||"--",")"),selected:!1}}));e.setData({ehrOptions:o})}else wx.showToast({icon:"none",title:i||"健康档案信息获取失败，请稍后重试",duration:2e3})},fail:function(e){wx.showToast({icon:"none",title:"健康档案信息获取出错，请稍后重试",duration:2e3}),console.log(e)}})},ehrChangeEvent:function(e){var t=e.detail.value,a=this.data.ehrOptions[t];this.setData({ehrId:a.id,ehrVerbose:a.verbose,ehrIndex:t})},changeDateTime:function(e){var t=e.detail.value,a=this.data.dateTimeArray,r=a[0][t[0]],i=a[1][t[1]],s=a[2][t[2]],o=a[3][t[3]],n=a[4][t[4]];this.setData({measureTime:"".concat(r,"-").concat(i,"-").concat(s," ").concat(o,":").concat(n)})},inputChangeEvent:function(e){var a=e.currentTarget.dataset.name;this.setData(t({},a,e.detail.value))},submitForm:function(){var e=this;this.setData({btnLoading:!0});var t={ehr_id:this.data.ehrId,dbp:this.data.lowPressure,sbp:this.data.highPressure,heart_rate:this.data.heartRate,measure_time:this.data.measureTime,from_wx_mini:1};if(!this.WxValidate.checkForm(t)){var a=this.WxValidate.errorList[0];return wx.showModal({title:"提示",content:a.msg||"",showCancel:!1}),this.setData({btnLoading:!1}),!1}wx.request({url:u,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:s.globalData.sessionid},method:"POST",data:n(t),success:function(e){0===e.data.error_code?wx.showToast({title:"保存成功",mask:!0,success:function(){setTimeout((function(){wx.navigateBack({delta:1})}),1500)}}):wx.showToast({title:e.error_msg||"数据提交失败请重试",icon:"none"})},fail:function(e){wx.showToast({title:"数据提交出错请重试",icon:"none"})},complete:function(){e.setData({btnLoading:!1})}})},initValidate:function(){this.WxValidate=new i.default({measure_time:{required:!0},ehr_id:{required:!0},sbp:{required:!0,range:[0,240]},dbp:{required:!0,range:[0,240]},heart_rate:{required:!0,range:[1,150]}},{measure_time:{required:"请选择测量时间"},ehr_id:{required:"请选择健康档案"},sbp:{required:"请输入收缩压",range:"收缩压允许范围为 0 ~ 240"},dbp:{required:"请输入舒张压",range:"舒张压允许范围为 0 ~ 240"},heart_rate:{required:"请输入心率",idcard:"心率允许范围为 0 ~ 150"}})},changeDateTimeColumn:function(e){var t=this.data,a=t.dateTimeIndex,r=t.dateTimeArray,i=e.detail,s=i.column,o=i.value;a[s]=o;var n={selectY:r[0][a[0]],selectM:r[1][a[1]],selectD:r[2][a[2]],selectH:r[3][a[3]],selectMi:r[4][a[4]]};this.setChangePicker(n,r),this.setData({dateTimeIndex:a,dateTimeArray:r})},setChangePicker:function(e,t){var r=e.selectY,i=e.selectM,s=e.selectD,o=e.selectH,n=(e.selectMi,this.data),u=n.curDateArray,h=n.initDatePicker;console.log(e,u),r===u[0]?(t[1]=a(h[1]),i===u[1]?(t[2]=a(h[2]),s===u[2]?(t[3]=a(h[3]),o===u[3]?t[4]=a(h[4]):t[4]=this.getLoopArray(1,59)):(t[3]=this.getLoopArray(1,23),t[4]=this.getLoopArray(1,59))):(t[2]=this.getMonthDay(r,i),t[3]=this.getLoopArray(1,23),t[4]=this.getLoopArray(1,59))):(t[1]=this.getLoopArray(1,12),t[2]=this.getMonthDay(r,i),t[3]=this.getLoopArray(1,23),t[4]=this.getLoopArray(1,59))},initDateTimePicker:function(e){var t=[],a=[];a.push(this.getLoopArray(2017,e[0])||[]),a.push(this.getLoopArray(1,e[1])||[]);var r=this.getMonthDay(e[0],e[1])||[],i=r.indexOf(e[2]);return i>-1&&a.push(r.slice(0,i+1)),a.push(this.getLoopArray(0,e[3])||[]),a.push(this.getLoopArray(0,e[4])||[]),a.forEach((function(a,r){t.push(a.indexOf(e[r]))})),{dateTimeArray:a,dateTimeIndex:t}},getCurDate:function(){var e=new Date;return[this.formatNumber(e.getFullYear()),this.formatNumber(e.getMonth()+1),this.formatNumber(e.getDate()),this.formatNumber(e.getHours()),this.formatNumber(e.getMinutes())]},getMonthDay:function(e,t){var a=e%400==0||e%4==0&&e%100!=0,r=null;switch(t){case"01":case"03":case"05":case"07":case"08":case"10":case"12":r=this.getLoopArray(1,31);break;case"04":case"06":case"09":case"11":r=this.getLoopArray(1,30);break;case"02":r=a?this.getLoopArray(1,29):this.getLoopArray(1,28);break;default:r="月份格式不正确，请重新输入！"}return r},getLoopArray:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],r=e;r<=t;r++)a.push(this.formatNumber(r));return a},formatNumber:function(e){return e<10?"0".concat(e):e}});
},{isPage:true,isComponent:true,currentFile:'pages/pressure_upload/index.js'});require("pages/pressure_upload/index.js");$gwx_XC_175=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_175 || [];
function gz$gwx_XC_175_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_175_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_175_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_175_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'preview-main-container'])
Z([[2,'==='],[[7],[3,'replyType']],[1,'text']])
Z([[2,'==='],[[7],[3,'replyType']],[1,'audio']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_175_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_175_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_175=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_175=true;
var x=['./pages/preview_reply/preview_reply.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_175_1()
var fYHB=_n('view')
_rz(z,fYHB,'class',0,e,s,gg)
var cZHB=_v()
_(fYHB,cZHB)
if(_oz(z,1,e,s,gg)){cZHB.wxVkey=1
}
var h1HB=_v()
_(fYHB,h1HB)
if(_oz(z,2,e,s,gg)){h1HB.wxVkey=1
}
cZHB.wxXCkey=1
h1HB.wxXCkey=1
_(r,fYHB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_175";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_175();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/preview_reply/preview_reply.wxml'] = [$gwx_XC_175, './pages/preview_reply/preview_reply.wxml'];else __wxAppCode__['pages/preview_reply/preview_reply.wxml'] = $gwx_XC_175( './pages/preview_reply/preview_reply.wxml' );
	;__wxRoute = "pages/preview_reply/preview_reply";__wxRouteBegin = true;__wxAppCurrentFile__="pages/preview_reply/preview_reply.js";define("pages/preview_reply/preview_reply.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../6E47C322829A079C0821AB25BD9C7B70.js");Page({data:{reply_type:"",reply_content:"",duration:"",audioContext:{},isPlaying:!1,isPlayerReady:!1},onLoad:function(t){this.setData({replyType:t.reply_type,replyContent:decodeURIComponent(t.reply_content)}),"audio"===this.data.replyType&&(this.setData({duration:Math.floor(t.duration/1e3)}),this.createAudioContextForreplyPreview(this.data.replyContent))},onUnload:function(){this.data.audioContext.stop&&this.data.audioContext.stop()},createAudioContextForreplyPreview:function(t){var a,e,o=this;this.data.audioContext=(a={src:t},e=wx.createInnerAudioContext({useWebAudioImplement:!0}),Object.assign(e,a)),this.data.audioContext.onCanplay((function(){o.data.isPlayerReady=!0,o.data.audioContext.play()})),this.data.audioContext.onPlay(this.handleAudioPlay),this.data.audioContext.onStop(this.handleAudioStop),this.data.audioContext.onEnded(this.handleAudioStop)},handleAudioPlay:function(){this.setData({isPlaying:!0})},handleAudioStop:function(){this.setData({isPlaying:!1})},togglePlay:function(){this.data.isPlayerReady&&(this.data.audioContext.paused?(this.data.audioContext.play(),this.handleAudioPlay()):(this.data.audioContext.pause(),this.handleAudioStop()))}});
},{isPage:true,isComponent:true,currentFile:'pages/preview_reply/preview_reply.js'});require("pages/preview_reply/preview_reply.js");$gwx_XC_176=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_176 || [];
function gz$gwx_XC_176_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_176_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_176_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_176_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_176_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_176_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_176=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_176=true;
var x=['./pages/psychological_counseling_payment/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_176_1()
var c3HB=_v()
_(r,c3HB)
if(_oz(z,0,e,s,gg)){c3HB.wxVkey=1
var o4HB=_n('cy-authorize-login')
_rz(z,o4HB,'bindloginSuccess',1,e,s,gg)
_(c3HB,o4HB)
}
c3HB.wxXCkey=1
c3HB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_176";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_176();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/psychological_counseling_payment/index.wxml'] = [$gwx_XC_176, './pages/psychological_counseling_payment/index.wxml'];else __wxAppCode__['pages/psychological_counseling_payment/index.wxml'] = $gwx_XC_176( './pages/psychological_counseling_payment/index.wxml' );
	;__wxRoute = "pages/psychological_counseling_payment/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/psychological_counseling_payment/index.js";define("pages/psychological_counseling_payment/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");var a=getApp();Page({data:{isLogin:!0,postData:{}},onShow:function(){},onLoad:function(i){console.log(i);var e=this,n={order_type:"fast_phone",order_desc:"",finish_success_url:"../pay_success/index",price:i.price,clinic_name:"心理科",order_name:"心理咨询热线服务",info_dict:{phone:i.phone,clinic_no:"nb"}};a.globalData.order_data=n,this.setData({postData:n}),a.globalData.appIsLogin.then((function(){e.setData({isLogin:!0}),wx.redirectTo({url:"/pages/payment/index?mark=fast_phone&common_pay=true&clinic_name="+n.clinic_name+"&price="+n.price})}),(function(){e.setData({isLogin:!1})}))},loginActions:function(){this.setData({isLogin:!0}),wx.redirectTo({url:"/pages/payment/index?mark=fast_phone&common_pay=true&clinic_name="+this.data.postData.clinic_name+"&price="+this.data.postData.price})}});
},{isPage:true,isComponent:true,currentFile:'pages/psychological_counseling_payment/index.js'});require("pages/psychological_counseling_payment/index.js");$gwx_XC_177=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_177 || [];
function gz$gwx_XC_177_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_177_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_177_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_177_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'additional-action-block '],[[2,'?:'],[[7],[3,'isRepling']],[1,'reply-mode'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'isInEdit']],[1,'edit-mode'],[1,'']]])
Z([[6],[[7],[3,'guideMap']],[[6],[[7],[3,'guideTypes']],[3,'apply_prescription']]])
Z([[6],[[7],[3,'guideMap']],[[6],[[7],[3,'guideTypes']],[3,'assess']]])
Z([[6],[[7],[3,'guideMap']],[[6],[[7],[3,'guideTypes']],[3,'doctor_service_inquiry']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_177_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_177_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_177=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_177=true;
var x=['./pages/qa_im/components/additional_action_block/additional_action_block.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_177_1()
var a6HB=_n('view')
_rz(z,a6HB,'class',0,e,s,gg)
var t7HB=_v()
_(a6HB,t7HB)
if(_oz(z,1,e,s,gg)){t7HB.wxVkey=1
}
var e8HB=_v()
_(a6HB,e8HB)
if(_oz(z,2,e,s,gg)){e8HB.wxVkey=1
}
var b9HB=_v()
_(a6HB,b9HB)
if(_oz(z,3,e,s,gg)){b9HB.wxVkey=1
}
t7HB.wxXCkey=1
e8HB.wxXCkey=1
b9HB.wxXCkey=1
_(r,a6HB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_177";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_177();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/additional_action_block/additional_action_block.wxml'] = [$gwx_XC_177, './pages/qa_im/components/additional_action_block/additional_action_block.wxml'];else __wxAppCode__['pages/qa_im/components/additional_action_block/additional_action_block.wxml'] = $gwx_XC_177( './pages/qa_im/components/additional_action_block/additional_action_block.wxml' );
	;__wxRoute = "pages/qa_im/components/additional_action_block/additional_action_block";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/additional_action_block/additional_action_block.js";define("pages/qa_im/components/additional_action_block/additional_action_block.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),t=e(require("../../../../BD3DD342829A079CDB5BBB45D2EB7B70.js")),i=e(require("../../../../04A0CE03829A079C62C6A60426FB7B70.js")),a=require("../../../../28984410829A079C4EFE2C17502C7B70.js"),s=getApp();Component({properties:{doctorId:{type:String,value:""},problemId:{type:String,value:""},guide:{type:Object,value:""},status:{type:String,value:""},isRepling:{type:Boolean,value:!1},isInEdit:{type:Boolean,value:!1},visitPageName:{type:String,value:""}},data:{guideTypes:t.default,guideMap:{},statusMap:a.STATUS_MAP},observers:{"guide, status":function(){this.guideMapTransfer()}},methods:{emitApplyMedicine:function(){this.triggerEvent("apply-medicine")},phoneService:function(){var e=this;s.sensors.track("AppClick",{app:"weixin_mini",click_position:"电话咨询固定入口",page_readable_name:"QA详情页",status:this.data.statusMap[this.data.status]||"问题状态异常"}),(0,i.default)(this.data.doctorId).then((function(t){var i=t.doctor_detail.service_list.filter((function(e){return"inquiry"===e.service_type}))[0];i&&i.price>=0?wx.navigateTo({url:"/pages/tel_inquiry/index?doctor_id=".concat(e.data.doctorId,"&from_visit_page=").concat(e.data.visitPageName)}):wx.showToast({title:"当前暂未开通电话咨询服务",icon:"none",duration:2e3})}))},guideMapTransfer:function(){var e={};this.data.guide.length&&this.data.guide.forEach((function(t){e[t.type]={};var i=e[t.type];Object.assign(i,t)})),this.setData({guideMap:e})},goAssess:function(){var e={app:"weixin_mini",click_position:"图文评价",page_readable_name:"QA详情页",status:this.data.statusMap[this.data.status]||"问题状态异常",problem_id_str:this.data.problemId};console.log(e),s.sensors.track("AppClick",e),this.triggerEvent("goAssess")}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/additional_action_block/additional_action_block.js'});require("pages/qa_im/components/additional_action_block/additional_action_block.js");$gwx_XC_178=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_178 || [];
function gz$gwx_XC_178_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_178_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_178_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_178_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_178_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_178_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_178=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_178=true;
var x=['./pages/qa_im/components/append_clinic/append_clinic.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_178_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_178";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_178();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/append_clinic/append_clinic.wxml'] = [$gwx_XC_178, './pages/qa_im/components/append_clinic/append_clinic.wxml'];else __wxAppCode__['pages/qa_im/components/append_clinic/append_clinic.wxml'] = $gwx_XC_178( './pages/qa_im/components/append_clinic/append_clinic.wxml' );
	;__wxRoute = "pages/qa_im/components/append_clinic/append_clinic";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/append_clinic/append_clinic.js";define("pages/qa_im/components/append_clinic/append_clinic.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";new Component({properties:{shouldShow:{type:Boolean,value:!1},clinicList:{type:Array,value:[]}},data:{selectedClinics:[]},methods:{toggleClinic:function(i){var t=i.currentTarget.dataset.clinicNo,n=this.data.clinicList.filter((function(i){return i.clinic_no===t}))[0];n.is_select=!n.is_select,this.setData({clinicList:this.data.clinicList})},cancel:function(){var i=this.data.clinicList.filter((function(i){return i.is_select}));this.triggerEvent("cancel",{clinicList:i})},confirm:function(){var i=this.data.clinicList.filter((function(i){return i.is_select}));i.length?this.triggerEvent("confirm",{clinicList:i}):wx.showToast({title:"请选择追加科室",icon:"none"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/append_clinic/append_clinic.js'});require("pages/qa_im/components/append_clinic/append_clinic.js");$gwx_XC_179=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_179 || [];
function gz$gwx_XC_179_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_179_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_179_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_179_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_179_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_179_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_179=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_179=true;
var x=['./pages/qa_im/components/assess/assess.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_179_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_179";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_179();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/assess/assess.wxml'] = [$gwx_XC_179, './pages/qa_im/components/assess/assess.wxml'];else __wxAppCode__['pages/qa_im/components/assess/assess.wxml'] = $gwx_XC_179( './pages/qa_im/components/assess/assess.wxml' );
	;__wxRoute = "pages/qa_im/components/assess/assess";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/assess/assess.js";define("pages/qa_im/components/assess/assess.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{assessData:{type:Object,value:{user_name:"用户名",assess_level_str:"满意",thank_price:12,remark:"评价文案",assess_tags:["评价标签列表","评价标签列表"]}}},data:{},methods:{}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/assess/assess.js'});require("pages/qa_im/components/assess/assess.js");$gwx_XC_180=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_180 || [];
function gz$gwx_XC_180_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_180_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_180_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_180_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_180_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_180_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_180=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_180=true;
var x=['./pages/qa_im/components/audio/audio.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_180_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_180";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_180();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/audio/audio.wxml'] = [$gwx_XC_180, './pages/qa_im/components/audio/audio.wxml'];else __wxAppCode__['pages/qa_im/components/audio/audio.wxml'] = $gwx_XC_180( './pages/qa_im/components/audio/audio.wxml' );
	;__wxRoute = "pages/qa_im/components/audio/audio";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/audio/audio.js";define("pages/qa_im/components/audio/audio.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../@babel/runtime/helpers/interopRequireDefault")(require("../../../../5FA81AD3829A079C39CE72D4239C7B70.js")),i=getApp();Component({properties:{audioData:{type:Object,value:{}},problemId:{type:String,value:""},audioId:{type:Number,value:0},isUnread:{type:Boolean,value:!1}},data:{canAudioPlay:!1,displayTime:0,sliderValue:0,isPlaying:!1,isPreviousPlaying:!1,isOriginalFirstUnread:!1,isFlaseInit:!1},audioContext:null,lifetimes:{attached:function(){this.initiatingAudioContext(),this.isOriginalFirstUnread=this.data.isUnread}},methods:{initiatingAudioContext:function(){var i=this;if(this.setData({displayTime:this._timeToMinuteForm(this.data.audioData.duration)}),this.audioContext=wx.createInnerAudioContext({useWebAudioImplement:!0}),!this.audioContext)return t.default.setFilterMsg("init-audio-content-fail"),t.default.info({problemId:this.data.problemId}),void this.setData({isFlaseInit:!0});wx.downloadFile({url:this.data.audioData.file,success:function(t){i.audioContext.src=t.tempFilePath,i.addCanplay(),i.addPlayListener(),i.addPauseListener(),i.addEndListener(),i.addTimeUpdateListener()}})},addCanplay:function(){var t=this;this.audioContext.onCanplay((function(){console.log(t.data.audioId,"this audio can be played"),console.log(t.audioContext.paused)}))},addPlayListener:function(){var t=this;this.audioContext.onPlay((function(){console.log(t.data.audioId,"this audio start playing"),t.setAudioMessageAsRead(),t.triggerEvent("start",{audioId:t.data.audioId}),t.setData({isPlaying:!0})}))},addEndListener:function(){var t=this;this.audioContext.onEnded((function(){console.log(t.data.audioId,"this audio ended"),t.setData({isPlaying:!1,sliderValue:0}),t.triggerEvent("end",{audioId:t.data.audioId})}))},addTimeUpdateListener:function(){var t=this;this.audioContext.onTimeUpdate((function(){var i=t.audioContext.currentTime,a=t._timeToMinuteForm(Math.floor(i));t.setData({displayTime:a,sliderValue:i})}))},addPauseListener:function(){var t=this;this.audioContext.onPause((function(){console.log(t.data.audioId,"this audio paused"),t.setData({isPlaying:!1})}))},onSliderChanging:function(t){this.data.isPreviousPlaying=!this.audioContext.paused,this.audioContext.pause()},onSliderChanged:function(t){i.sensors.track("AppClick",{app:"weixin_mini",click_position:"语音进度条",click_position_value:String(this.data.audioData.duration),page_readable_name:"QA详情页",problem_id_str:this.data.problemId}),this.audioContext.seek(t.detail.value),this.data.isPreviousPlaying&&this.audioContext.play()},togglePlay:function(){this.audioContext.paused?this.audioContext.play():this.audioContext.pause()},_timeToMinuteForm:function(t){if(t>60){var i=Math.floor(t/60),a=("0"+t%60).slice(-2);return"".concat(i,":").concat(a)}var e=("0"+t).slice(-2);return"0:".concat(e)},forcePause:function(){this.audioContext&&this.audioContext.pause()},forceStart:function(){this.audioContext&&this.audioContext.play()},setAudioMessageAsRead:function(){this.triggerEvent("read",{audioId:this.data.audioId})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/audio/audio.js'});require("pages/qa_im/components/audio/audio.js");$gwx_XC_181=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_181 || [];
function gz$gwx_XC_181_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_181_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_181_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_181_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'feedback-card-main-container'])
Z([[2,'&&'],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[[2,'==='],[[6],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[3,'type']],[1,'solved']]])
Z([[2,'&&'],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[[6],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[3,'type']]])
Z([3,'action-holder'])
Z([[2,'==='],[[6],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[3,'type']],[1,'reward']])
Z([[2,'==='],[[6],[[6],[[7],[3,'feedbackInfo']],[3,'action_info']],[3,'type']],[1,'need_staff']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_181_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_181_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_181=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_181=true;
var x=['./pages/qa_im/components/feedback_card/feedback_card.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_181_1()
var cDIB=_n('view')
_rz(z,cDIB,'class',0,e,s,gg)
var hEIB=_v()
_(cDIB,hEIB)
if(_oz(z,1,e,s,gg)){hEIB.wxVkey=1
}
else{hEIB.wxVkey=2
var oFIB=_v()
_(hEIB,oFIB)
if(_oz(z,2,e,s,gg)){oFIB.wxVkey=1
var cGIB=_n('view')
_rz(z,cGIB,'class',3,e,s,gg)
var oHIB=_v()
_(cGIB,oHIB)
if(_oz(z,4,e,s,gg)){oHIB.wxVkey=1
}
var lIIB=_v()
_(cGIB,lIIB)
if(_oz(z,5,e,s,gg)){lIIB.wxVkey=1
}
oHIB.wxXCkey=1
lIIB.wxXCkey=1
_(oFIB,cGIB)
}
oFIB.wxXCkey=1
}
hEIB.wxXCkey=1
_(r,cDIB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_181";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_181();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/feedback_card/feedback_card.wxml'] = [$gwx_XC_181, './pages/qa_im/components/feedback_card/feedback_card.wxml'];else __wxAppCode__['pages/qa_im/components/feedback_card/feedback_card.wxml'] = $gwx_XC_181( './pages/qa_im/components/feedback_card/feedback_card.wxml' );
	;__wxRoute = "pages/qa_im/components/feedback_card/feedback_card";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/feedback_card/feedback_card.js";define("pages/qa_im/components/feedback_card/feedback_card.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=e(require("../../../../7B9C8496829A079C1DFAEC91795C7B70.js"));Component({properties:{feedbackInfo:{value:{},type:Object},doctorId:{value:"",type:String},problemId:{value:"",type:String}},lifetimes:{attached:function(){this.getQiYu()}},data:{config:"",user_id:wx.getStorageSync("sessionUserId")},methods:{clickButton:function(e){console.log("click");var t=e.currentTarget.dataset.value;this.triggerEvent("feedback",{value:t})},toReward:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"送心意",page_readable_name:"QA详情页"});var e={inquiry:{id:this.data.inquiryId,type:"tel_inquiry"},graph:{id:this.data.problemId,type:"graph"}};wx.setStorageSync("SEND_HEART_INFO",e.graph),wx.navigateTo({url:"/pages/send_heart/index?id=".concat(this.data.doctorId,"&from_page=qa_im")})},getQiYu:function(){console.log(123);var e=this;(0,a.default)({url:t.baseUrl+"/feedback/qiyu/patient_info/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){console.log(t);var a=t.data.data||[],i={data:[]},n="";wx.getSystemInfo({success:function(e){n=e.system}}),a.push({key:"system",label:"系统版本",value:n});var r=a.map((function(e,t){var a={};return a.index=t,a.key=e.key,a.label=e.label,a.value=e.value,a.href=e.href,a}));i.data=JSON.stringify(r),e.setData({config:JSON.stringify(i)})},fail:function(){wx.showToast({icon:"none",title:"请求失败，请稍后重试",duration:2e3})}})},trackContact:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"客服入口",page_readable_name:"QA详情页"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/feedback_card/feedback_card.js'});require("pages/qa_im/components/feedback_card/feedback_card.js");$gwx_XC_182=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_182 || [];
function gz$gwx_XC_182_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_182_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_182_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_182_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'page-container-main-body '],[[2,'?:'],[[7],[3,'isInResultPhase']],[1,'extra-padding-bottom'],[1,'']]])
Z([[7],[3,'isInResultPhase']])
Z([[6],[[7],[3,'resultInfo']],[3,'action_info']])
Z([[2,'==='],[[6],[[6],[[7],[3,'resultInfo']],[3,'action_info']],[3,'type']],[1,'reward']])
Z([3,'result-button-group'])
Z([[2,'!'],[[6],[[6],[[7],[3,'resultInfo']],[3,'action_info']],[3,'has_followed']]])
Z([[6],[[6],[[7],[3,'resultInfo']],[3,'action_info']],[3,'has_followed']])
Z([[2,'==='],[[6],[[6],[[7],[3,'resultInfo']],[3,'action_info']],[3,'type']],[1,'need_staff']])
Z([3,'content-holder'])
Z([[2,'!'],[[7],[3,'isKeyboardFocused']]])
Z([[2,'&&'],[[7],[3,'buttonInfo']],[[6],[[7],[3,'buttonInfo']],[3,'title']]])
Z(z[10])
Z([[7],[3,'shouldFeedbackShow']])
Z([[2,'==='],[[7],[3,'currentListKey']],[1,'bad']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_182_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_182_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_182=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_182=true;
var x=['./pages/qa_im/components/feedback_detail/feedback_detail.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_182_1()
var tKIB=_n('view')
_rz(z,tKIB,'class',0,e,s,gg)
var eLIB=_v()
_(tKIB,eLIB)
if(_oz(z,1,e,s,gg)){eLIB.wxVkey=1
var bMIB=_v()
_(eLIB,bMIB)
if(_oz(z,2,e,s,gg)){bMIB.wxVkey=1
var oNIB=_n('view')
var xOIB=_v()
_(oNIB,xOIB)
if(_oz(z,3,e,s,gg)){xOIB.wxVkey=1
var fQIB=_n('view')
_rz(z,fQIB,'class',4,e,s,gg)
var cRIB=_v()
_(fQIB,cRIB)
if(_oz(z,5,e,s,gg)){cRIB.wxVkey=1
}
var hSIB=_v()
_(fQIB,hSIB)
if(_oz(z,6,e,s,gg)){hSIB.wxVkey=1
}
cRIB.wxXCkey=1
hSIB.wxXCkey=1
_(xOIB,fQIB)
}
var oPIB=_v()
_(oNIB,oPIB)
if(_oz(z,7,e,s,gg)){oPIB.wxVkey=1
}
xOIB.wxXCkey=1
oPIB.wxXCkey=1
_(bMIB,oNIB)
}
bMIB.wxXCkey=1
}
else{eLIB.wxVkey=2
var cUIB=_n('view')
_rz(z,cUIB,'class',8,e,s,gg)
var oVIB=_v()
_(cUIB,oVIB)
if(_oz(z,9,e,s,gg)){oVIB.wxVkey=1
var aXIB=_v()
_(oVIB,aXIB)
if(_oz(z,10,e,s,gg)){aXIB.wxVkey=1
}
var tYIB=_v()
_(oVIB,tYIB)
if(_oz(z,11,e,s,gg)){tYIB.wxVkey=1
}
aXIB.wxXCkey=1
tYIB.wxXCkey=1
}
var lWIB=_v()
_(cUIB,lWIB)
if(_oz(z,12,e,s,gg)){lWIB.wxVkey=1
}
oVIB.wxXCkey=1
lWIB.wxXCkey=1
_(eLIB,cUIB)
var oTIB=_v()
_(eLIB,oTIB)
if(_oz(z,13,e,s,gg)){oTIB.wxVkey=1
}
oTIB.wxXCkey=1
}
eLIB.wxXCkey=1
_(r,tKIB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_182";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_182();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/feedback_detail/feedback_detail.wxml'] = [$gwx_XC_182, './pages/qa_im/components/feedback_detail/feedback_detail.wxml'];else __wxAppCode__['pages/qa_im/components/feedback_detail/feedback_detail.wxml'] = $gwx_XC_182( './pages/qa_im/components/feedback_detail/feedback_detail.wxml' );
	;__wxRoute = "pages/qa_im/components/feedback_detail/feedback_detail";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/feedback_detail/feedback_detail.js";define("pages/qa_im/components/feedback_detail/feedback_detail.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=e(require("../../../../7B9C8496829A079C1DFAEC91795C7B70.js")),i="".concat(t.baseUrl,"/api/assess/page_info/"),n="".concat(t.baseUrl,"/api/assess/feedback/submit/");Component({properties:{problemId:{type:String,value:""},serviceType:{type:String,value:""},shouldFeedbackShow:{type:Boolean,value:!1},defaultValue:{type:String,value:""},doctorId:{type:String,value:""},inquiryId:{type:String,value:""},fromType:{type:String,value:""}},data:{buttonInfo:{},currentListKey:"best",feedbackText:"",detailList:{best:{icon:"https://staff.chunyu.mobi/@/media/images/2023/03/14/365a/e6c1f4efeaf5_w129_h129_.png",iconSelected:"https://staff.chunyu.mobi/@/media/images/2023/03/14/c73b/1f95ee53924c_w129_h129_.png",options:{},lable:"满意"},good:{icon:"https://staff.chunyu.mobi/@/media/images/2023/03/14/8557/5266a2801541_w132_h129_.png",iconSelected:"https://staff.chunyu.mobi/@/media/images/2023/03/14/3f5b/24d608f592a9_w129_h129_.png",options:{},lable:"一般"},bad:{icon:"https://staff.chunyu.mobi/@/media/images/2023/03/14/6c28/edd20fc8d635_w129_h129_.png",iconSelected:"https://staff.chunyu.mobi/@/media/images/2023/03/14/cce1/4cd5781df872_w129_h129_.png",options:{},lable:"不满意"}},selectedTags:[],isBlockSelected:!1,isLoading:!0,config:"",user_id:wx.getStorageSync("sessionUserId"),resultInfo:{},isInResultPhase:!1,isKeyboardFocused:!1,keyboardHeight:0},observers:{shouldFeedbackShow:function(e){e||this.submitActionInfo().catch((function(){}))}},lifetimes:{attached:function(){this.getFeedbackDetail(),this.getQiYu()}},methods:{getQiYu:function(){var e=this;(0,a.default)({url:t.baseUrl+"/feedback/qiyu/patient_info/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){console.log(t);var a=t.data.data||[],i={data:[]},n="";wx.getSystemInfo({success:function(e){n=e.system}}),a.push({key:"system",label:"系统版本",value:n});var s=a.map((function(e,t){var a={};return a.index=t,a.key=e.key,a.label=e.label,a.value=e.value,a.href=e.href,a}));i.data=JSON.stringify(s),e.setData({config:JSON.stringify(i)})},fail:function(){wx.showToast({icon:"none",title:"请求失败，请稍后重试",duration:2e3})}})},updateInput:function(e){this.setData({feedbackText:e.detail.value})},getFeedbackDetail:function(){var e=this;wx.showLoading();var t={service_type:this.data.serviceType,partner:getApp().globalData.partner,from_type:this.data.fromType};"inquiry"===this.data.serviceType||"expert_call"===this.data.serviceType?t.service_id=this.data.inquiryId:"graph"===this.data.serviceType&&(t.service_id=this.data.problemId),(0,a.default)({url:i,data:t,success:function(t){wx.hideLoading(),"request:ok"===t.errMsg&&(t.data.feedback&&(t.data.feedback[0].action_info.options.forEach((function(t){t.value===e.data.defaultValue&&(t.selected=!0)})),e.setData({buttonInfo:t.data.feedback[0]})),e.setData({"detailList.good.options":t.data.good,"detailList.best.options":t.data.best,"detailList.bad.options":t.data.bad}))},fail:function(){wx.hideLoading()}})},tapOnIcon:function(e){var t=e.currentTarget.dataset.tapIndex;this.setData({currentListKey:t,selectedTags:[]})},toggleTag:function(e){var t=e.currentTarget.dataset.value;console.log(t),this.data.selectedTags.indexOf(t)>-1?this.data.selectedTags=this.data.selectedTags.filter((function(e){return e!==t})):this.data.selectedTags.push(t),this.setData({selectedTags:this.data.selectedTags})},block:function(){this.setData({isBlockSelected:!this.data.isBlockSelected})},leaveContainer:function(){this.triggerEvent("leave")},clickButton:function(e){var t=Number(e.currentTarget.dataset.index);console.log(t),this.data.buttonInfo.action_info.options.forEach((function(e,a){e.selected=t===a})),this.setData({buttonInfo:this.data.buttonInfo})},submitActionInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(i,s){var o,c=null===(o=e.data.buttonInfo.action_info.options.filter((function(e){return e.selected}))[0])||void 0===o?void 0:o.value;if(!c)return t&&wx.showToast({title:"请选择已解决或未解决后提交",icon:"none"}),s();var r={service_type:e.data.serviceType,feedback:JSON.stringify([{type:"solved",value:c}])};"inquiry"===e.data.serviceType||"expert_call"===e.data.serviceType?r.service_id=e.data.inquiryId:"graph"===e.data.serviceType&&(r.service_id=e.data.problemId),(0,a.default)({url:n,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r,success:function(e){return console.log(e),i(e)},fail:function(e){return s(e)}})}))},submitFeedbackInfo:function(){var e=this;return new Promise((function(i,n){if(!e.data.selectedTags.length)return wx.showToast({title:"请选择具体标签后提交",icon:"none"}),n();if("bad"===e.data.currentListKey&&e.data.feedbackText.length<10)return wx.showToast({title:"请输入评语，至少10字",icon:"none"}),n();var s={level:e.data.currentListKey,tag_keys:e.data.selectedTags},o="",c={service_type:e.data.serviceType,assess_info:JSON.stringify(s),remark:e.data.feedbackText,blacklist:e.data.isBlockSelected};"inquiry"===e.data.serviceType?(c.service_id=e.data.inquiryId,o="".concat(t.baseUrl,"/api/assess/inquiry/submit/")):"graph"===e.data.serviceType?(c.service_id=e.data.problemId,o="".concat(t.baseUrl,"/api/assess/graph/submit/")):"expert_call"===e.data.serviceType&&(c.service_id=e.data.inquiryId,o="".concat(t.baseUrl,"/api/assess/expert_call/submit/")),(0,a.default)({url:o,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:c,success:function(e){return i(e)},fail:function(e){return n(e)}})}))},submit:function(){var e=this;this.submitActionInfo(!0).then((function(){e.submitFeedbackInfo().then((function(t){0===t.data.error_code?e.setData({isInResultPhase:!0,resultInfo:t.data}):wx.showToast({title:t.data.error_msg||"提交失败",icon:"none"})}))}))},toReward:function(){var e={inquiry:{id:this.data.inquiryId,type:"inquiry"},graph:{id:this.data.problemId,type:"graph"}};getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"送心意",page_readable_name:"评价弹窗"}),wx.setStorageSync("SEND_HEART_INFO",e[this.data.serviceType]),wx.navigateTo({url:"/pages/send_heart/index?id=".concat(this.data.doctorId)})},followDoc:function(){var e=this;(0,a.default)({url:"".concat(t.baseUrl,"/api/v5/doctor/").concat(this.data.doctorId,"/follow"),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{from_wx_mini:1,partner:"chunyu_wap_mini",follow:1},success:function(){e.setData({"resultInfo.action_info.has_followed":!0})},fail:function(e){wx.showToast({title:"关注失败",icon:"none"})}})},handleInputFocus:function(e){console.log("textarea focused"),this.setData({isKeyboardFocused:!0,keyboardHeight:e.detail.height})},handleInputBlur:function(){this.setData({isKeyboardFocused:!1,keyboardHeight:0})},trackContact:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"客服入口",page_readable_name:"评价弹窗"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/feedback_detail/feedback_detail.js'});require("pages/qa_im/components/feedback_detail/feedback_detail.js");$gwx_XC_183=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_183 || [];
function gz$gwx_XC_183_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_183_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_183_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_183_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_183_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_183_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_183=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_183=true;
var x=['./pages/qa_im/components/link_notice_user/link_notice_user.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_183_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_183";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_183();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/link_notice_user/link_notice_user.wxml'] = [$gwx_XC_183, './pages/qa_im/components/link_notice_user/link_notice_user.wxml'];else __wxAppCode__['pages/qa_im/components/link_notice_user/link_notice_user.wxml'] = $gwx_XC_183( './pages/qa_im/components/link_notice_user/link_notice_user.wxml' );
	;__wxRoute = "pages/qa_im/components/link_notice_user/link_notice_user";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/link_notice_user/link_notice_user.js";define("pages/qa_im/components/link_notice_user/link_notice_user.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../@babel/runtime/helpers/interopRequireDefault"),i=t(require("../../../../81E76856829A079CE7810051D30C7B70.js")),a=t(require("../../../../04A0CE03829A079C62C6A60426FB7B70.js")),e=getApp();Component({properties:{itemData:{type:Object,value:{}},doctorId:{type:String,value:""}},data:{navigatingUrl:"",navigatingMap:i.default,htmlSnip:""},lifetimes:{attached:function(){this.generatingNavigatingUrl(),this.convertingTextNode()}},observers:{itemData:function(){this.generatingNavigatingUrl(),this.convertingTextNode()}},methods:{navigating:function(){var t=this;this.data.navigatingUrl.includes("pages/tel_inquiry/index")?(e.sensors.track("AppClick",{app:"weixin_mini",click_position:"电话咨询系统消息",page_readable_name:"QA详情页",click_position_value:this.data.htmlSnip}),(0,a.default)(this.data.doctorId).then((function(i){var a=i.doctor_detail.service_list.filter((function(t){return"inquiry"===t.service_type}))[0];a&&a.price>=0?wx.navigateTo({url:t.data.navigatingUrl}):wx.showToast({title:"当前暂未开通电话咨询服务",icon:"none",duration:2e3})}))):wx.navigateTo({url:this.data.navigatingUrl})},generatingNavigatingUrl:function(){var t=this.data.navigatingMap[this.data.itemData.target],i="",a=this.data.itemData.param;for(var e in a)i=i+e+"="+a[e]+"&";var n="".concat(t,"?").concat(i,"&");this.setData({navigatingUrl:n})},convertingTextNode:function(){this.setData({htmlSnip:this.data.itemData.text})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/link_notice_user/link_notice_user.js'});require("pages/qa_im/components/link_notice_user/link_notice_user.js");$gwx_XC_184=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_184 || [];
function gz$gwx_XC_184_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_184_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_184_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_184_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'absolute-status '],[[7],[3,'messageDialogLocation']]])
Z([3,'index'])
Z([3,'typeName'])
Z([[7],[3,'messageDialogTypeMap']])
Z([3,'*this'])
Z([[2,'&&'],[[2,'==='],[[7],[3,'typeName']],[1,'copy']],[[2,'==='],[[7],[3,'msgType']],[1,'text']]])
Z([[2,'&&'],[[2,'==='],[[7],[3,'typeName']],[1,'savePhoto']],[[2,'||'],[[2,'==='],[[7],[3,'msgType']],[1,'video']],[[2,'==='],[[7],[3,'msgType']],[1,'image']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'==='],[[7],[3,'typeName']],[1,'withdraw']],[[2,'<'],[[2,'-'],[[7],[3,'nowTime']],[[6],[[7],[3,'messageContent']],[3,'created_time_ms']]],[1,120000]]],[[2,'!'],[[7],[3,'isDoc']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'==='],[[7],[3,'typeName']],[1,'reply']],[[7],[3,'isInEdit']]],[[6],[[6],[[6],[[7],[3,'messageContent']],[3,'content']],[1,0]],[3,'reply_info']]],[[6],[[6],[[6],[[6],[[7],[3,'messageContent']],[3,'content']],[1,0]],[3,'reply_info']],[3,'enable']]])
Z([[2,'==='],[[7],[3,'typeName']],[1,'translate']])
Z([[2,'!'],[[2,'&&'],[[2,'==='],[[7],[3,'msgType']],[1,'file']],[[2,'>'],[[2,'-'],[[7],[3,'nowTime']],[[6],[[7],[3,'messageContent']],[3,'created_time_ms']]],[1,12000]]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_184_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_184_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_184=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_184=true;
var x=['./pages/qa_im/components/message_operation/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_184_1()
var o2IB=_n('view')
_rz(z,o2IB,'class',0,e,s,gg)
var o4IB=_v()
_(o2IB,o4IB)
var f5IB=function(h7IB,c6IB,o8IB,gg){
var o0IB=_v()
_(o8IB,o0IB)
if(_oz(z,5,h7IB,c6IB,gg)){o0IB.wxVkey=1
}
var lAJB=_v()
_(o8IB,lAJB)
if(_oz(z,6,h7IB,c6IB,gg)){lAJB.wxVkey=1
}
var aBJB=_v()
_(o8IB,aBJB)
if(_oz(z,7,h7IB,c6IB,gg)){aBJB.wxVkey=1
}
var tCJB=_v()
_(o8IB,tCJB)
if(_oz(z,8,h7IB,c6IB,gg)){tCJB.wxVkey=1
}
var eDJB=_v()
_(o8IB,eDJB)
if(_oz(z,9,h7IB,c6IB,gg)){eDJB.wxVkey=1
}
o0IB.wxXCkey=1
lAJB.wxXCkey=1
aBJB.wxXCkey=1
tCJB.wxXCkey=1
eDJB.wxXCkey=1
return o8IB
}
o4IB.wxXCkey=2
_2z(z,3,f5IB,e,s,gg,o4IB,'typeName','index','*this')
var x3IB=_v()
_(o2IB,x3IB)
if(_oz(z,10,e,s,gg)){x3IB.wxVkey=1
}
x3IB.wxXCkey=1
_(r,o2IB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_184";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_184();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/message_operation/index.wxml'] = [$gwx_XC_184, './pages/qa_im/components/message_operation/index.wxml'];else __wxAppCode__['pages/qa_im/components/message_operation/index.wxml'] = $gwx_XC_184( './pages/qa_im/components/message_operation/index.wxml' );
	;__wxRoute = "pages/qa_im/components/message_operation/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/message_operation/index.js";define("pages/qa_im/components/message_operation/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{messageDialogTypeMap:{type:Array,value:[]},messageDialogLocation:{type:String,value:"right"},messageContent:{type:Object,value:{}},isInEdit:{type:Boolean,value:!1},isDoc:{type:Boolean,value:!1}},data:{nowTime:"",msgType:""},lifetimes:{attached:function(){var e=this.data.messageContent.content,t=void 0===e?[]:e,a=t.length&&t[0].type||"";this.setData({msgType:a,nowTime:Date.parse(new Date)})}},methods:{handleCopy:function(){this.triggerEvent("copy",{messageInfo:this.data.messageContent})},handleSavePhoto:function(){this.triggerEvent("savePhoto",{messageInfo:this.data.messageContent})},handleWithdraw:function(){this.triggerEvent("withdraw",{messageInfo:this.data.messageContent})},handleSaveFile:function(){console.log("trigger download file"),this.triggerEvent("downloadFile",{messageInfo:this.data.messageContent})},handleReply:function(){this.triggerEvent("reply",{messageInfo:this.data.messageContent})},translate:function(){this.triggerEvent("translate",{messageInfo:this.data.messageContent,fromMessageOperator:!0})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/message_operation/index.js'});require("pages/qa_im/components/message_operation/index.js");$gwx_XC_185=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_185 || [];
function gz$gwx_XC_185_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_185_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_185_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_185_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'multiple-ask-main-container'])
Z([3,'onTapCloseIcon'])
Z([3,'catchEvent'])
Z([a,[3,'content-holder '],[[2,'?:'],[[6],[[7],[3,'services']],[3,'length']],[1,'no-min-height'],[1,'']]])
Z([3,'list-section'])
Z([1,true])
Z([[6],[[7],[3,'services']],[3,'length']])
Z([[7],[3,'localDoctors']])
Z([3,'id'])
Z([3,'clickOnDoctorService'])
Z([[7],[3,'item']])
Z([[7],[3,'index']])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'localDoctors']],[3,'length']]],[[2,'!'],[[6],[[7],[3,'services']],[3,'length']]]])
Z([3,'confirmPhoneAndGoPay'])
Z([3,'hidePhoneInput'])
Z([[7],[3,'phone']])
Z([[7],[3,'shouldPhoneInputShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_185_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_185_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_185=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_185=true;
var x=['./pages/qa_im/components/multiple_ask/multiple_ask.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_185_1()
var oFJB=_n('view')
_rz(z,oFJB,'class',0,e,s,gg)
var xGJB=_mz(z,'view',['bind:tap',1,'catch:tap',1,'class',2],[],e,s,gg)
var fIJB=_mz(z,'scroll-view',['class',4,'scrollY',1],[],e,s,gg)
var cJJB=_v()
_(fIJB,cJJB)
if(_oz(z,6,e,s,gg)){cJJB.wxVkey=1
}
var hKJB=_v()
_(fIJB,hKJB)
var oLJB=function(oNJB,cMJB,lOJB,gg){
var tQJB=_mz(z,'doctor-service-card',['bind:click-on-doctor-service',9,'doctorDetail',1,'listIndex',2],[],oNJB,cMJB,gg)
_(lOJB,tQJB)
return lOJB
}
hKJB.wxXCkey=4
_2z(z,7,oLJB,e,s,gg,hKJB,'item','index','id')
cJJB.wxXCkey=1
_(xGJB,fIJB)
var oHJB=_v()
_(xGJB,oHJB)
if(_oz(z,12,e,s,gg)){oHJB.wxVkey=1
}
oHJB.wxXCkey=1
_(oFJB,xGJB)
var eRJB=_mz(z,'phone-input',['bind:confirm-phone',13,'bind:hide-phone-input',1,'phone',2,'shouldShow',3],[],e,s,gg)
_(oFJB,eRJB)
_(r,oFJB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_185";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_185();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/multiple_ask/multiple_ask.wxml'] = [$gwx_XC_185, './pages/qa_im/components/multiple_ask/multiple_ask.wxml'];else __wxAppCode__['pages/qa_im/components/multiple_ask/multiple_ask.wxml'] = $gwx_XC_185( './pages/qa_im/components/multiple_ask/multiple_ask.wxml' );
	;__wxRoute = "pages/qa_im/components/multiple_ask/multiple_ask";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/multiple_ask/multiple_ask.js";define("pages/qa_im/components/multiple_ask/multiple_ask.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/defineProperty"),t=getApp();Component({properties:{info:{type:Object,value:{title:"",desc:"",doctors:[],problem_info:{},type:"",service_list:[]}},problemId:{type:String,value:""},services:{type:Array,value:[]},clinicNo:{type:String,value:""},ask:{type:String,value:""},phone:{type:String,value:""},scene:{type:String,value:""}},data:{localDoctors:[],localServices:[],price:0,isButtonDisabled:!0,shouldPhoneInputShow:!1},observers:{info:function(e){var t=this;if(e&&e.doctors&&e.doctors.length){var n=JSON.parse(JSON.stringify(e.doctors));n.forEach((function(e){e.is_selected=Boolean(e.default_select),e.is_selected&&(t.data.price=e.price+t.data.price)})),this.setData({localDoctors:n,price:this.data.price})}},services:function(e){this.onChangePrice()},price:function(e){this.setData({isButtonDisabled:e<=0})}},methods:{onTapCloseIcon:function(){this.triggerEvent("close-dialog")},clickOnDoctorService:function(t){var n=t.detail.listIndex,i=this.data.localDoctors[n].is_selected,a="localDoctors[".concat(n,"].is_selected");this.setData(e({},a,!i)),this.onChangePrice()},onChangePrice:function(){var e=this.data.localDoctors.filter((function(e){return e.is_selected})).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),t=this.data.services.filter((function(e){return e.is_selected})).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)/100;this.setData({price:e+t})},showPhoneInput:function(){var e=this.data.services.filter((function(e){return e.is_selected})).filter((function(e){return"fast_phone"===e.type}))[0];this.setData({phone:e.phone,shouldPhoneInputShow:!0})},hidePhoneInput:function(){this.setData({shouldPhoneInputShow:!1})},confirmPhoneAndGoPay:function(e){var n=this,i=e.detail.phone,a=this.data.services.filter((function(e){return e.is_selected})),o={},r=function(e){var t={type:e.type,info:{clinic_no:n.data.info.problem_info.clinic_no,content_str:n.data.info.problem_info.content_str,partner:"chunyu_wap_mini",cy_page_from:" waiting_multiple_ask"}};return"qa_upgrade"===t.type?t.info.upgrade_type=e.upgrade_type:"emergency_graph"===t.type||"fast_phone"===t.type&&(t.info.phone=i),t};a.length>1?(o={type:"package",info:{sub_list:[]},recommend_id:this.data.info.recommend_id},a.forEach((function(e){o.info.sub_list.push(r(e))}))):o=r(a[0]);var c={app:"weixin_mini",click_position:"去问诊",page_readable_name:"焦急等待弹窗",click_position_value:a.map((function(e){return e.name})).reduce((function(e,t){return e+" "+t}),"")};t.sensors.track("AppClick",c),t.globalData.order_data=o,wx.navigateTo({url:"/pages/payment/index"})},onTapInquiry:function(){var e=this;if(this.data.services.filter((function(e){return e.is_selected})).length){var n=this.data.services.filter((function(e){return e.is_selected}));if(console.log(n.findIndex((function(e){return"fast_phone"===e.type}))),n.findIndex((function(e){return"fast_phone"===e.type}))>-1)this.showPhoneInput();else{var i={},a=function(t){var n={type:t.type,info:{clinic_no:e.data.info.problem_info.clinic_no,content_str:e.data.info.problem_info.content_str,partner:"chunyu_wap_mini",cy_page_from:"waiting_multiple_ask"}};return"qa_upgrade"===n.type?n.info.upgrade_type=t.upgrade_type:"emergency_graph"===n.type||"fast_phone"===n.type&&(n.info.phone=t.phone),n};n.length>1?(i={type:"package",info:{sub_list:[]},recommend_id:this.data.info.recommend_id},n.forEach((function(e){i.info.sub_list.push(a(e))}))):i=a(n[0]);var o={app:"weixin_mini",click_position:"去问诊",page_readable_name:"焦急等待弹窗",click_position_value:n.map((function(e){return e.name})).reduce((function(e,t){return e+" "+t}),"")};t.sensors.track("AppClick",o),t.globalData.order_data=i,wx.navigateTo({url:"/pages/payment/index"})}}else{var r=this.data.localDoctors.filter((function(e){return e.is_selected}));if(!r.length)return;try{console.log("track");var c=[];this.data.localDoctors.forEach((function(e,t){e.is_selected&&c.push(t+1)}));var s={app:"weixin_mini",click_position:"去问诊",page_readable_name:"QA详情页推荐医生弹窗",list_rank:c.join(","),doctor_name:r.map((function(e){return e.name})).join(",")};t.sensors.track("AppClick",s)}catch(e){console.log("track error")}!function(){var n={type:"multi_problems",info:{doctors:r.map((function(e){return e.id})),problem_id:e.data.problemId,partner:t.globalData.partner,cy_page_from:e.data.info.type},recommend_id:e.data.info.recommend_id};t.globalData.order_data=n}(),wx.navigateTo({url:"/pages/payment/index"})}},catchEvent:function(){return!1},toggleService:function(t){var n="services[".concat(t.currentTarget.dataset.index,"].is_selected"),i=!this.data.services[t.currentTarget.dataset.index].is_selected;this.setData(e({},n,i)),this.onChangePrice()}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/multiple_ask/multiple_ask.js'});require("pages/qa_im/components/multiple_ask/multiple_ask.js");$gwx_XC_186=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_186 || [];
function gz$gwx_XC_186_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_186_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_186_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_186_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'button-group'])
Z([[2,'==='],[[6],[[7],[3,'renderData']],[3,'type']],[1,'ask_doctor']])
Z([3,'askDoctor'])
Z([a,[3,'button button-1 '],[[2,'?:'],[[2,'!'],[[6],[[7],[3,'renderData']],[3,'extra_type']]],[1,'long-button'],[1,'']]])
Z([[6],[[6],[[7],[3,'renderData']],[3,'type_info']],[3,'icon']])
Z([[6],[[7],[3,'renderData']],[3,'show_discont_badge']])
Z([[2,'==='],[[6],[[7],[3,'renderData']],[3,'extra_type']],[1,'quick_ask']])
Z([3,'quickAsk'])
Z([3,'button button-2'])
Z([[6],[[6],[[7],[3,'renderData']],[3,'extra_type_info']],[3,'first_text']])
Z([[6],[[6],[[7],[3,'renderData']],[3,'extra_type_info']],[3,'second_text']])
Z([[6],[[6],[[7],[3,'renderData']],[3,'extra_type_info']],[3,'badge_icon']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_186_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_186_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_186=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_186=true;
var x=['./pages/qa_im/components/qa_button_group/qa_button_group.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_186_1()
var oTJB=_n('view')
_rz(z,oTJB,'class',0,e,s,gg)
var xUJB=_v()
_(oTJB,xUJB)
if(_oz(z,1,e,s,gg)){xUJB.wxVkey=1
var fWJB=_mz(z,'view',['bind:tap',2,'class',1],[],e,s,gg)
var cXJB=_v()
_(fWJB,cXJB)
if(_oz(z,4,e,s,gg)){cXJB.wxVkey=1
}
var hYJB=_v()
_(fWJB,hYJB)
if(_oz(z,5,e,s,gg)){hYJB.wxVkey=1
}
cXJB.wxXCkey=1
hYJB.wxXCkey=1
_(xUJB,fWJB)
}
var oVJB=_v()
_(oTJB,oVJB)
if(_oz(z,6,e,s,gg)){oVJB.wxVkey=1
var oZJB=_mz(z,'view',['bind:tap',7,'class',1],[],e,s,gg)
var c1JB=_v()
_(oZJB,c1JB)
if(_oz(z,9,e,s,gg)){c1JB.wxVkey=1
}
var o2JB=_v()
_(oZJB,o2JB)
if(_oz(z,10,e,s,gg)){o2JB.wxVkey=1
}
var l3JB=_v()
_(oZJB,l3JB)
if(_oz(z,11,e,s,gg)){l3JB.wxVkey=1
}
c1JB.wxXCkey=1
o2JB.wxXCkey=1
l3JB.wxXCkey=1
_(oVJB,oZJB)
}
xUJB.wxXCkey=1
oVJB.wxXCkey=1
_(r,oTJB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_186";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_186();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/qa_button_group/qa_button_group.wxml'] = [$gwx_XC_186, './pages/qa_im/components/qa_button_group/qa_button_group.wxml'];else __wxAppCode__['pages/qa_im/components/qa_button_group/qa_button_group.wxml'] = $gwx_XC_186( './pages/qa_im/components/qa_button_group/qa_button_group.wxml' );
	;__wxRoute = "pages/qa_im/components/qa_button_group/qa_button_group";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/qa_button_group/qa_button_group.js";define("pages/qa_im/components/qa_button_group/qa_button_group.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../../../28984410829A079C4EFE2C17502C7B70.js"),r=e(require("../../../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),a=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=e(require("../../../../7B9C8496829A079C1DFAEC91795C7B70.js")),n=getApp(),c=a.baseUrl+"/cooperation/third_ai/conversation/check/";Component({properties:{renderData:{type:Object,value:{}},problemId:{type:String,value:""}},data:{redirectMap:t.REDIRECT_MAP},methods:{generatingUrlParms:function(e){var t="?";return Object.keys(e).forEach((function(r){t=t+r+"="+e[r]+"&"})),t},askDoctor:function(){var e={};try{(e=JSON.parse(this.data.renderData.type_info.cy_redirect.click_info)).app="weixin_mini",e.scene_type="SEO输出",n.sensors.track("AppClick",e)}catch(e){console.log("解码click_info失败")}var t,a=this.data.renderData.type_info.cy_redirect.target_scheme,i=this.data.renderData.type_info.cy_redirect.param,c=this.data.redirectMap[a];if(!i)return r.default.setFilterMsg("未获取到跳转参数, type_info.cy_redirect.param不存在"),void r.default.error("问题id:".concat(this.data.problemId));if(t=this.generatingUrlParms(i),"doctor_service_pay"===a){var o={order_type:"graph",partner:"chunyu_wap_mini",info_dict:{doctor_id:i.doctor_id}};n.globalData.order_data=o,wx.navigateTo({url:"/pages/payment/index?mark=finddoc"})}else wx.navigateTo({url:c+t})},quickAsk:function(){var e={};try{(e=JSON.parse(this.data.renderData.extra_type_info.cy_redirect.click_info)).app="weixin_mini",e.scene_type="SEO输出",n.sensors.track("AppClick",e)}catch(e){console.log("解码click_info失败")}if("ai_chat"===this.data.renderData.extra_type_info.cy_redirect.target_type)this.checkAiConversation();else{var t=this.data.redirectMap[this.data.renderData.extra_type_info.cy_redirect.target_scheme];wx.navigateTo({url:t})}},checkAiConversation:function(){var e=this;(0,i.default)({url:c,data:{partner:"chunyu_wap_mini"},success:function(t){0===t.data.error_code?t.data.data.url?e.triggerEvent("show-ai-dialog",{url:t.data.data.url,targetType:t.data.data.target_type}):e.triggerEvent("go-new-ai-dialog"):wx.showToast({title:t.data.error_msg,icon:"none"})}})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/qa_button_group/qa_button_group.js'});require("pages/qa_im/components/qa_button_group/qa_button_group.js");$gwx_XC_187=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_187 || [];
function gz$gwx_XC_187_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_187_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_187_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_187_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'shouldRecommendDoctorsShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_187_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_187_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_187=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_187=true;
var x=['./pages/qa_im/components/recommend_doctor/recommend_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_187_1()
var t5JB=_v()
_(r,t5JB)
if(_oz(z,0,e,s,gg)){t5JB.wxVkey=1
}
t5JB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_187";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_187();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/recommend_doctor/recommend_doctor.wxml'] = [$gwx_XC_187, './pages/qa_im/components/recommend_doctor/recommend_doctor.wxml'];else __wxAppCode__['pages/qa_im/components/recommend_doctor/recommend_doctor.wxml'] = $gwx_XC_187( './pages/qa_im/components/recommend_doctor/recommend_doctor.wxml' );
	;__wxRoute = "pages/qa_im/components/recommend_doctor/recommend_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/recommend_doctor/recommend_doctor.js";define("pages/qa_im/components/recommend_doctor/recommend_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o="".concat(e.baseUrl,"/cooperation/wap/problem_recommend_volunteer_doctors/"),t=getApp();Component({properties:{problemId:{type:String,value:""},visitPageName:{type:String,value:""}},observers:{problemId:function(e){e&&this.getDoctorList()}},data:{recommendDoctors:[],shouldRecommendDoctorsShow:!1},methods:{getDoctorList:function(){var e=this;wx.request({url:o,data:{problem_id:this.data.problemId},header:{Cookie:t.globalData.sessionid},success:function(o){var t;Boolean(0===o.data.error_code&&o.data.recommend_doctors&&o.data.recommend_doctors.length)&&e.setData({shouldRecommendDoctorsShow:!0,recommendDoctors:o.data.recommend_doctors}),null!==(t=o.data.recommend_doctors)&&void 0!==t&&t.length||e.triggerEvent("has-doctors",{status:!1})}})},track:function(){t.sensors.track("AppClick",{app:"weixin_mini",click_position:"义诊推荐卡片",scene_type:"SEO输出",page_readable_name:"QA详情页"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/recommend_doctor/recommend_doctor.js'});require("pages/qa_im/components/recommend_doctor/recommend_doctor.js");$gwx_XC_188=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_188 || [];
function gz$gwx_XC_188_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_188_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_188_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_188_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'processedTopicList']],[3,'length']],[[7],[3,'hasDoctors']]])
Z([3,'main-container'])
Z([[7],[3,'processedTopicList']])
Z([3,'id'])
Z([[2,'<'],[[7],[3,'index']],[1,3]])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'single-topic-template'])
Z([3,'hasDoctors'])
Z([[7],[3,'problemId']])
Z([[7],[3,'visitPageName']])
Z(z[2])
Z(z[3])
Z([[2,'>='],[[7],[3,'index']],[1,3]])
Z(z[5])
Z(z[6])
Z(z[6])
Z([3,'track'])
Z([3,'single-topic'])
Z([3,'none'])
Z([[6],[[6],[[7],[3,'item']],[3,'topic_info']],[3,'jump_url']])
Z(z[3])
Z([[6],[[6],[[7],[3,'item']],[3,'doctor_info']],[3,'tag']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_188_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_188_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_188=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_188=true;
var x=['./pages/qa_im/components/recommend_section/recommend_section.wxml'];d_[x[0]]={}
d_[x[0]]["single-topic-template"]=function(e,s,r,gg){
var z=gz$gwx_XC_188_1()
var b=x[0]+':single-topic-template'
r.wxVkey=b
gg.f=$gdc(f_["./pages/qa_im/components/recommend_section/recommend_section.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_mz(z,'navigator',['bind:tap',16,'class',1,'hoverClass',2,'url',3],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,21,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_188_1()
var b7JB=_v()
_(r,b7JB)
if(_oz(z,0,e,s,gg)){b7JB.wxVkey=1
var o8JB=_n('view')
_rz(z,o8JB,'class',1,e,s,gg)
var x9JB=_v()
_(o8JB,x9JB)
var o0JB=function(cBKB,fAKB,hCKB,gg){
var cEKB=_v()
_(hCKB,cEKB)
if(_oz(z,4,cBKB,fAKB,gg)){cEKB.wxVkey=1
var oFKB=_v()
_(cEKB,oFKB)
var lGKB=_oz(z,6,cBKB,fAKB,gg)
var aHKB=_gd(x[0],lGKB,e_,d_)
if(aHKB){
var tIKB=_1z(z,5,cBKB,fAKB,gg) || {}
var cur_globalf=gg.f
oFKB.wxXCkey=3
aHKB(tIKB,tIKB,oFKB,gg)
gg.f=cur_globalf
}
else _w(lGKB,x[0],1,171)
}
cEKB.wxXCkey=1
return hCKB
}
x9JB.wxXCkey=2
_2z(z,2,o0JB,e,s,gg,x9JB,'item','index','id')
var eJKB=_mz(z,'recommend-doctor',['bind:has-doctors',7,'problemId',1,'visitPageName',2],[],e,s,gg)
_(o8JB,eJKB)
var bKKB=_v()
_(o8JB,bKKB)
var oLKB=function(oNKB,xMKB,fOKB,gg){
var hQKB=_v()
_(fOKB,hQKB)
if(_oz(z,12,oNKB,xMKB,gg)){hQKB.wxVkey=1
var oRKB=_v()
_(hQKB,oRKB)
var cSKB=_oz(z,14,oNKB,xMKB,gg)
var oTKB=_gd(x[0],cSKB,e_,d_)
if(oTKB){
var lUKB=_1z(z,13,oNKB,xMKB,gg) || {}
var cur_globalf=gg.f
oRKB.wxXCkey=3
oTKB(lUKB,lUKB,oRKB,gg)
gg.f=cur_globalf
}
else _w(cSKB,x[0],1,484)
}
hQKB.wxXCkey=1
return fOKB
}
bKKB.wxXCkey=2
_2z(z,10,oLKB,e,s,gg,bKKB,'item','index','id')
_(b7JB,o8JB)
}
b7JB.wxXCkey=1
b7JB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_188";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_188();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/recommend_section/recommend_section.wxml'] = [$gwx_XC_188, './pages/qa_im/components/recommend_section/recommend_section.wxml'];else __wxAppCode__['pages/qa_im/components/recommend_section/recommend_section.wxml'] = $gwx_XC_188( './pages/qa_im/components/recommend_section/recommend_section.wxml' );
	;__wxRoute = "pages/qa_im/components/recommend_section/recommend_section";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/recommend_section/recommend_section.js";define("pages/qa_im/components/recommend_section/recommend_section.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t="".concat(e.baseUrl,"/cooperation/wap/get_similar_problem/");Component({properties:{doctors:{type:Array,value:[]},topics:{type:Array,value:[]},problemId:{type:String,value:""},visitPageName:{type:String,value:""}},data:{topicList:[],processedTopicList:[],shouldRecommendTopicShow:!1,hasDoctors:!0},observers:{problemId:function(e){e&&this.getRecommendTopics()}},methods:{hasDoctors:function(e){this.setData({hasDoctors:e.detail.hasDoctors})},processData:function(){this.data.topicList.forEach((function(e){e.topic_info={};var t=e.topic_info;e.doctor_info=e.doctor;var o=e.doctor_info;t.jump_url="/pages/qa_im/index?problem_id=".concat(e.id,"&from=similar_problem&entrance_type=seo_similar_problem&page_type=v2"),t.title=e.ask,t.content=e.answer,o.doctor_name=o.name,o.hospital=o.hospital_name})),this.setData({processedTopicList:this.data.topicList})},getRecommendTopics:function(){var e=this;wx.request({url:t,data:{problem_id:this.data.problemId,from_type:"seo-wxmini",from_scene:"seo_page"},header:{Cookie:getApp().globalData.sessionid},success:function(t){var o=Boolean(0===t.data.error_code&&t.data.recommend_problems&&t.data.recommend_problems.length);o&&(e.setData({shouldRecommendTopicShow:!0}),e.triggerEvent("update",{hasRecommendSection:!0}),e.data.topicList=t.data.recommend_problems,e.processData()),e.triggerEvent("recommendshowstatus",{type:"topic",status:o})}})},track:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"相似问题卡片",page_readable_name:"QA详情页",scene_type:"SEO输出"})}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/recommend_section/recommend_section.js'});require("pages/qa_im/components/recommend_section/recommend_section.js");$gwx_XC_189=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_189 || [];
function gz$gwx_XC_189_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_189_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_189_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_189_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'messageData']],[3,'type']],[1,'text']],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'id']]])
Z([a,[3,'replied-message-holder '],[[2,'?:'],[[2,'==='],[[7],[3,'doctorOrPatient']],[1,'doctor']],[1,'doctor'],[1,'']]])
Z([[2,'==='],[[7],[3,'doctorOrPatient']],[1,'patient']])
Z([3,'previewReply'])
Z([a,[3,'replied-message-content-holder '],z[1][2]])
Z([[7],[3,'index']])
Z([[7],[3,'i']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'text']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'audio']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'image']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'file']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'dicom']])
Z([[2,'==='],[[6],[[6],[[6],[[6],[[7],[3,'messageData']],[3,'reference']],[3,'content']],[1,0]],[3,'type']],[1,'video']])
Z([[2,'==='],[[7],[3,'doctorOrPatient']],[1,'doctor']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_189_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_189_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_189=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_189=true;
var x=['./pages/qa_im/components/replied_message_container/replied_message_container.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_189_1()
var tWKB=_v()
_(r,tWKB)
if(_oz(z,0,e,s,gg)){tWKB.wxVkey=1
var eXKB=_n('view')
_rz(z,eXKB,'class',1,e,s,gg)
var bYKB=_v()
_(eXKB,bYKB)
if(_oz(z,2,e,s,gg)){bYKB.wxVkey=1
}
var x1KB=_mz(z,'view',['bind:tap',3,'class',1,'data-inner-index',2,'data-outer-index',3],[],e,s,gg)
var o2KB=_v()
_(x1KB,o2KB)
if(_oz(z,7,e,s,gg)){o2KB.wxVkey=1
}
var f3KB=_v()
_(x1KB,f3KB)
if(_oz(z,8,e,s,gg)){f3KB.wxVkey=1
}
var c4KB=_v()
_(x1KB,c4KB)
if(_oz(z,9,e,s,gg)){c4KB.wxVkey=1
}
var h5KB=_v()
_(x1KB,h5KB)
if(_oz(z,10,e,s,gg)){h5KB.wxVkey=1
}
var o6KB=_v()
_(x1KB,o6KB)
if(_oz(z,11,e,s,gg)){o6KB.wxVkey=1
}
var c7KB=_v()
_(x1KB,c7KB)
if(_oz(z,12,e,s,gg)){c7KB.wxVkey=1
}
o2KB.wxXCkey=1
f3KB.wxXCkey=1
c4KB.wxXCkey=1
h5KB.wxXCkey=1
o6KB.wxXCkey=1
c7KB.wxXCkey=1
_(eXKB,x1KB)
var oZKB=_v()
_(eXKB,oZKB)
if(_oz(z,13,e,s,gg)){oZKB.wxVkey=1
}
bYKB.wxXCkey=1
oZKB.wxXCkey=1
_(tWKB,eXKB)
}
tWKB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_189";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_189();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/replied_message_container/replied_message_container.wxml'] = [$gwx_XC_189, './pages/qa_im/components/replied_message_container/replied_message_container.wxml'];else __wxAppCode__['pages/qa_im/components/replied_message_container/replied_message_container.wxml'] = $gwx_XC_189( './pages/qa_im/components/replied_message_container/replied_message_container.wxml' );
	;__wxRoute = "pages/qa_im/components/replied_message_container/replied_message_container";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/replied_message_container/replied_message_container.js";define("pages/qa_im/components/replied_message_container/replied_message_container.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{messageData:{type:Object,value:{}},doctorOrPatient:{type:String,value:"patient"},userIdInfo:{type:Object,value:{}}},data:{readableDuration:"",userNameString:""},observers:{messageData:function(e){if(e&&e.reference&&e.reference.id&&Object.keys(this.data.userIdInfo).length){var t,a,n;"audio"===(null===(t=e.reference.content)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.type)&&this.setData({readableDuration:Math.floor(e.reference.content[0].duration/1e3)});var i=null===(n=this.data.userIdInfo[e.reference.user_id])||void 0===n?void 0:n.alias;this.setData({userNameString:i?i+"：":""})}}},methods:{scrollToReply:function(e){this.data.messageData.reference.isDisable||this.triggerEvent("scroll-to-reply",{replyId:e.currentTarget.dataset.targetId})},previewReply:function(e){console.log(e);var t=this.data.messageData.reference;if(console.log(t),!t.disable){var a=t.content[0].type;if(!t.disable)if(["text","audio"].indexOf(a)>-1){var n="text"===a?t.content[0].text:t.content[0].file,i=t.content[0].duration;wx.navigateTo({url:"/pages/preview_reply/preview_reply?reply_type=".concat(a,"&reply_content=").concat(n,"&duration=").concat(i)})}else if("image"===a)wx.previewMedia({sources:[{url:t.content[0].file}]});else if("file"===a)wx.downloadFile({url:t.content[0].file,success:function(e){wx.openDocument({filePath:e.tempFilePath,showMenu:!0,fileType:"pdf"})}});else if("video"===a)wx.navigateTo({url:"/pages/video_play/index?video_src=".concat(encodeURIComponent(t.content[0].file))});else if("dicom"===a){var o="/pages/dicom_view/dicom_view?file_url=".concat(t.content[0].file,"&verify_code=").concat(t.content[0].verify_code);wx.navigateTo({url:o})}}}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/replied_message_container/replied_message_container.js'});require("pages/qa_im/components/replied_message_container/replied_message_container.js");$gwx_XC_190=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_190 || [];
function gz$gwx_XC_190_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_190_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_190_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_190_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'background-wrapper'])
Z([3,'toDocMainPage'])
Z([3,'doctor-detail-section'])
Z([3,'navigator'])
Z([a,[3,'/pages/doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'doctorInfo']],[3,'id']]])
Z([3,'doctor-detail-section-right'])
Z([3,'onFollowSuccess'])
Z(z[4][2])
Z([[7],[3,'hasFollowed']])
Z([3,'follow-button'])
Z([3,'margin-left: auto'])
Z([[6],[[7],[3,'doctorInfo']],[3,'new_tags']])
Z([3,'name'])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([3,'idx'])
Z([[6],[[7],[3,'doctorInfo']],[3,'service_data_list']])
Z(z[12])
Z([3,'single-assess'])
Z(z[13])
Z([[2,'<'],[[2,'+'],[[7],[3,'idx']],[1,1]],[[6],[[6],[[7],[3,'doctorInfo']],[3,'service_data_list']],[3,'length']]])
Z(z[11])
Z(z[12])
Z(z[13])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_190_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_190_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_190=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_190=true;
var x=['./pages/qa_im/components/seo_title_doctor/seo_title_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_190_1()
var l9KB=_n('view')
_rz(z,l9KB,'class',0,e,s,gg)
var a0KB=_mz(z,'view',['bind:tap',1,'class',1,'id',2,'url',3],[],e,s,gg)
var tALB=_n('view')
_rz(z,tALB,'class',5,e,s,gg)
var eBLB=_mz(z,'follow-doc-button',['bind:followsuccess',6,'doctorId',1,'hasFollowed',2,'id',3,'style',4],[],e,s,gg)
_(tALB,eBLB)
var bCLB=_v()
_(tALB,bCLB)
var oDLB=function(oFLB,xELB,fGLB,gg){
var hILB=_v()
_(fGLB,hILB)
if(_oz(z,13,oFLB,xELB,gg)){hILB.wxVkey=1
}
hILB.wxXCkey=1
return fGLB
}
bCLB.wxXCkey=2
_2z(z,11,oDLB,e,s,gg,bCLB,'item','index','name')
_(a0KB,tALB)
_(l9KB,a0KB)
var oJLB=_v()
_(l9KB,oJLB)
var cKLB=function(lMLB,oLLB,aNLB,gg){
var ePLB=_n('view')
_rz(z,ePLB,'class',17,lMLB,oLLB,gg)
var bQLB=_v()
_(ePLB,bQLB)
if(_oz(z,18,lMLB,oLLB,gg)){bQLB.wxVkey=1
}
var oRLB=_v()
_(ePLB,oRLB)
if(_oz(z,19,lMLB,oLLB,gg)){oRLB.wxVkey=1
}
bQLB.wxXCkey=1
oRLB.wxXCkey=1
_(aNLB,ePLB)
return aNLB
}
oJLB.wxXCkey=2
_2z(z,15,cKLB,e,s,gg,oJLB,'item','idx','name')
var xSLB=_v()
_(l9KB,xSLB)
var oTLB=function(cVLB,fULB,hWLB,gg){
var cYLB=_v()
_(hWLB,cYLB)
if(_oz(z,22,cVLB,fULB,gg)){cYLB.wxVkey=1
}
cYLB.wxXCkey=1
return hWLB
}
xSLB.wxXCkey=2
_2z(z,20,oTLB,e,s,gg,xSLB,'item','index','name')
_(r,l9KB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_190";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_190();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/seo_title_doctor/seo_title_doctor.wxml'] = [$gwx_XC_190, './pages/qa_im/components/seo_title_doctor/seo_title_doctor.wxml'];else __wxAppCode__['pages/qa_im/components/seo_title_doctor/seo_title_doctor.wxml'] = $gwx_XC_190( './pages/qa_im/components/seo_title_doctor/seo_title_doctor.wxml' );
	;__wxRoute = "pages/qa_im/components/seo_title_doctor/seo_title_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/seo_title_doctor/seo_title_doctor.js";define("pages/qa_im/components/seo_title_doctor/seo_title_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../../@babel/runtime/helpers/interopRequireDefault")(require("../../../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),e=getApp();Component({properties:{doctorInfo:{type:Object,value:{}},hasFollowed:{type:Boolean,value:!1},summaryInfo:{type:Object,value:{}},isMiniCard:{type:Boolean,value:!1},problemId:{type:String,value:""},visitPageName:{type:String,value:""}},data:{shouldExpandIconShow:!0,slicedName:""},observers:{},lifetimes:{attached:function(){var t=this.data.doctorInfo.name;t.length>4?(t=t.slice(0,4)+"...",this.setData({sliced_name:t})):this.setData({sliced_name:this.data.doctorInfo.name})}},methods:{onFollowSuccess:function(){this.setData({hasFollowed:!0})},toDocMainPage:function(a){var i;if("follow-button"!==a.target.id)if(e.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生卡片",scene_type:"SEO输出",page_readable_name:"QA详情页"}),null!==(i=this.data.doctorInfo.cy_redirect)&&void 0!==i&&i.param){var o=this.data.doctorInfo.cy_redirect.param.intention||"",n=decodeURIComponent(this.data.doctorInfo.cy_redirect.param.server_params||"");wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctorInfo.id,"&problem_id=").concat(this.data.problemId,"&intention=").concat(o,"&server_params=").concat(n,"&from_visit_page=").concat(this.data.visitPageName)})}else t.default.setFilterMsg("未获取到intention, doctor_info.cy_redirect.param不存在"),t.default.error("医生id:".concat(this.data.doctorInfo.id," 问题id:").concat(this.data.problemId)),wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctorInfo.id,"&problem_id=").concat(this.data.problemId,"&from_visit_page=").concat(this.data.visitPageName)})},showLess:function(){this.setData({isMiniCard:!0})},showMore:function(){this.setData({isMiniCard:!1}),this.triggerEvent("expand")}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/seo_title_doctor/seo_title_doctor.js'});require("pages/qa_im/components/seo_title_doctor/seo_title_doctor.js");$gwx_XC_191=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_191 || [];
function gz$gwx_XC_191_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_191_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_191_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_191_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'hasMiniCardForm']])
Z([3,'background-wrapper'])
Z([3,'toDocMainPage'])
Z([3,'doctor-detail-section'])
Z([3,'navigator'])
Z([a,[3,'/pages/doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'doctorInfo']],[3,'id']]])
Z([3,'doctor-detail-section-right'])
Z([3,'doctor-detail-section-right-top'])
Z([[2,'==='],[[6],[[7],[3,'doctorInfo']],[3,'hospital_tag']],[1,'三甲']])
Z([3,'onFollowSuccess'])
Z(z[5][2])
Z([[7],[3,'hasFollowed']])
Z([3,'follow-button'])
Z([3,'margin-left: auto'])
Z([[6],[[7],[3,'doctorInfo']],[3,'new_tags']])
Z([3,'name'])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([3,'idx'])
Z([[6],[[7],[3,'doctorInfo']],[3,'service_data_list']])
Z(z[15])
Z([3,'single-assess'])
Z(z[16])
Z([[2,'<'],[[2,'+'],[[7],[3,'idx']],[1,1]],[[6],[[6],[[7],[3,'doctorInfo']],[3,'service_data_list']],[3,'length']]])
Z(z[14])
Z(z[15])
Z(z[16])
Z(z[2])
Z(z[3])
Z(z[4])
Z([a,z[5][1],z[5][2]])
Z(z[6])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[5][2])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[16])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_191_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_191_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_191=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_191=true;
var x=['./pages/qa_im/components/title_doctor/title_doctor.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_191_1()
var l1LB=_v()
_(r,l1LB)
if(_oz(z,0,e,s,gg)){l1LB.wxVkey=1
var a2LB=_n('view')
_rz(z,a2LB,'class',1,e,s,gg)
var t3LB=_mz(z,'view',['bind:tap',2,'class',1,'id',2,'url',3],[],e,s,gg)
var e4LB=_n('view')
_rz(z,e4LB,'class',6,e,s,gg)
var b5LB=_n('view')
_rz(z,b5LB,'class',7,e,s,gg)
var o6LB=_v()
_(b5LB,o6LB)
if(_oz(z,8,e,s,gg)){o6LB.wxVkey=1
}
var x7LB=_mz(z,'follow-doc-button',['bind:followsuccess',9,'doctorId',1,'hasFollowed',2,'id',3,'style',4],[],e,s,gg)
_(b5LB,x7LB)
o6LB.wxXCkey=1
_(e4LB,b5LB)
var o8LB=_v()
_(e4LB,o8LB)
var f9LB=function(hAMB,c0LB,oBMB,gg){
var oDMB=_v()
_(oBMB,oDMB)
if(_oz(z,16,hAMB,c0LB,gg)){oDMB.wxVkey=1
}
oDMB.wxXCkey=1
return oBMB
}
o8LB.wxXCkey=2
_2z(z,14,f9LB,e,s,gg,o8LB,'item','index','name')
_(t3LB,e4LB)
_(a2LB,t3LB)
var lEMB=_v()
_(a2LB,lEMB)
var aFMB=function(eHMB,tGMB,bIMB,gg){
var xKMB=_n('view')
_rz(z,xKMB,'class',20,eHMB,tGMB,gg)
var oLMB=_v()
_(xKMB,oLMB)
if(_oz(z,21,eHMB,tGMB,gg)){oLMB.wxVkey=1
}
var fMMB=_v()
_(xKMB,fMMB)
if(_oz(z,22,eHMB,tGMB,gg)){fMMB.wxVkey=1
}
oLMB.wxXCkey=1
fMMB.wxXCkey=1
_(bIMB,xKMB)
return bIMB
}
lEMB.wxXCkey=2
_2z(z,18,aFMB,e,s,gg,lEMB,'item','idx','name')
var cNMB=_v()
_(a2LB,cNMB)
var hOMB=function(cQMB,oPMB,oRMB,gg){
var aTMB=_v()
_(oRMB,aTMB)
if(_oz(z,25,cQMB,oPMB,gg)){aTMB.wxVkey=1
}
aTMB.wxXCkey=1
return oRMB
}
cNMB.wxXCkey=2
_2z(z,23,hOMB,e,s,gg,cNMB,'item','index','name')
_(l1LB,a2LB)
}
else{l1LB.wxVkey=2
var tUMB=_mz(z,'view',['bind:tap',26,'class',1,'id',2,'url',3],[],e,s,gg)
var eVMB=_n('view')
_rz(z,eVMB,'class',30,e,s,gg)
var bWMB=_n('view')
_rz(z,bWMB,'class',31,e,s,gg)
var oXMB=_v()
_(bWMB,oXMB)
if(_oz(z,32,e,s,gg)){oXMB.wxVkey=1
}
var xYMB=_mz(z,'follow-doc-button',['bind:followsuccess',33,'doctorId',1,'hasFollowed',2,'id',3,'style',4],[],e,s,gg)
_(bWMB,xYMB)
oXMB.wxXCkey=1
_(eVMB,bWMB)
var oZMB=_v()
_(eVMB,oZMB)
var f1MB=function(h3MB,c2MB,o4MB,gg){
var o6MB=_v()
_(o4MB,o6MB)
if(_oz(z,40,h3MB,c2MB,gg)){o6MB.wxVkey=1
}
o6MB.wxXCkey=1
return o4MB
}
oZMB.wxXCkey=2
_2z(z,38,f1MB,e,s,gg,oZMB,'item','index','name')
_(tUMB,eVMB)
_(l1LB,tUMB)
}
l1LB.wxXCkey=1
l1LB.wxXCkey=3
l1LB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_191";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_191();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/components/title_doctor/title_doctor.wxml'] = [$gwx_XC_191, './pages/qa_im/components/title_doctor/title_doctor.wxml'];else __wxAppCode__['pages/qa_im/components/title_doctor/title_doctor.wxml'] = $gwx_XC_191( './pages/qa_im/components/title_doctor/title_doctor.wxml' );
	;__wxRoute = "pages/qa_im/components/title_doctor/title_doctor";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/components/title_doctor/title_doctor.js";define("pages/qa_im/components/title_doctor/title_doctor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../../@babel/runtime/helpers/interopRequireDefault")(require("../../../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js")),t=getApp();Component({properties:{doctorInfo:{type:Object,value:{}},hasFollowed:{type:Boolean,value:!1},entranceType:{type:Object,value:{}},isSelf:{type:Boolean,value:!1},isMiniCard:{type:Boolean,value:!1},problemId:{type:String,value:""},visitPageName:{type:String,value:""}},observers:{"entranceType, isSelf":function(e){e&&this.setData({hasMiniCardForm:"from_home_search"===e.value||"from_mini_share"===e.value||"from_app_share"===e.value})},"doctorInfo.name":function(){this.setDoctorSlicedName()}},data:{sliced_name:""},lifetimes:{attached:function(){this.setDoctorSlicedName()}},methods:{setDoctorSlicedName:function(){var e=this.data.doctorInfo.name,t="";e.length>4?(t=e.slice(0,4)+"...",this.setData({sliced_name:t})):this.setData({sliced_name:e})},onFollowSuccess:function(){this.setData({hasFollowed:!0})},toDocMainPage:function(a){var o;if("follow-button"!==a.target.id)if(t.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生卡片",page_readable_name:"QA详情页"}),null!==(o=this.data.doctorInfo.cy_redirect)&&void 0!==o&&o.param){var i=this.data.doctorInfo.cy_redirect.param.intention||"",n=decodeURIComponent(this.data.doctorInfo.cy_redirect.param.server_params||"");wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctorInfo.id,"&problem_id=").concat(this.data.problemId,"&intention=").concat(i,"&server_params=").concat(n,"&from_visit_page=").concat(this.data.visitPageName)})}else e.default.setFilterMsg("未获取到intention, doctor_info.cy_redirect.param不存在"),e.default.error("医生id:".concat(this.data.doctorInfo.id," 问题id:").concat(this.data.problemId)),wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctorInfo.id,"&problem_id=").concat(this.data.problemId,"&from_visit_page=").concat(this.data.visitPageName)})},showLess:function(){this.triggerEvent("show-less")},showMore:function(){this.triggerEvent("show-more")}}});
},{isPage:false,isComponent:true,currentFile:'pages/qa_im/components/title_doctor/title_doctor.js'});require("pages/qa_im/components/title_doctor/title_doctor.js");$gwx_XC_192=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_192 || [];
function gz$gwx_XC_192_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_192_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_192_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_192_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'generalEventBubbleCatcher'])
Z([3,'container'])
Z([3,'dis-flex'])
Z([[2,'||'],[[2,'>'],[[6],[[7],[3,'reselectClinicInfo']],[3,'change_clinic_seconds']],[1,0]],[[6],[[6],[[7],[3,'reselectClinicInfo']],[3,'expand_clinic_list']],[3,'length']]])
Z([3,'clinic-selector-container'])
Z([[2,'||'],[[2,'>'],[[6],[[7],[3,'reselectClinicInfo']],[3,'change_clinic_seconds']],[1,0]],[[6],[[7],[3,'reselectClinicInfo']],[3,'shouldClinicSelectorShow']]])
Z([[2,'&&'],[[2,'&&'],[[2,'<='],[[6],[[7],[3,'reselectClinicInfo']],[3,'change_clinic_seconds']],[1,0]],[[6],[[6],[[7],[3,'reselectClinicInfo']],[3,'expand_clinic_list']],[3,'length']]],[[2,'!'],[[6],[[7],[3,'reselectClinicInfo']],[3,'shouldClinicSelectorShow']]]])
Z([[6],[[6],[[7],[3,'problem_detail']],[3,'hint_info']],[3,'text']])
Z([[2,'||'],[[2,'||'],[[2,'==='],[[6],[[7],[3,'currentEntranceType']],[3,'value']],[[6],[[6],[[7],[3,'entranceTypes']],[3,'seo']],[3,'value']]],[[2,'==='],[[6],[[7],[3,'currentEntranceType']],[3,'value']],[[6],[[6],[[7],[3,'entranceTypes']],[3,'seo_similar_problem']],[3,'value']]]],[[2,'==='],[[7],[3,'pageType']],[1,'native_search']]])
Z([3,'top-height seo'])
Z([3,'width: 100%;'])
Z([[2,'&&'],[[6],[[7],[3,'summary_info']],[3,'title']],[[2,'!'],[[7],[3,'shouldHideProDetail']]]])
Z([[2,'&&'],[[7],[3,'doctor_info']],[[6],[[7],[3,'doctor_info']],[3,'id']]])
Z([3,'onSeoTitleExpand'])
Z([[7],[3,'doctor_info']])
Z([[7],[3,'has_followed']])
Z([[7],[3,'isSeoTitleDoctorMiniCard']])
Z([[7],[3,'problem_id']])
Z([[7],[3,'visitPageName']])
Z([[2,'&&'],[[7],[3,'summary_info']],[[2,'!'],[[7],[3,'shouldHideProDetail']]]])
Z([a,[3,'pro-detail '],[[2,'?:'],[[7],[3,'shouldProDetailHide']],[1,''],[1,'extra-padding']],[3,' '],[[2,'?:'],[[7],[3,'isCurrentProDetailHide']],[1,''],[1,'expand']]])
Z([a,[3,'desc '],z[20][4]])
Z([[6],[[7],[3,'summary_info']],[3,'desc']])
Z([3,'onMpHtmlLinkTap'])
Z([3,'suggestHtmlLoaded'])
Z([3,'suggest-content-main'])
Z([3,'display: inline'])
Z(z[22])
Z([1,false])
Z(z[25])
Z([[2,'!'],[[6],[[7],[3,'summary_info']],[3,'desc']]])
Z([a,[3,'suggest-content '],z[20][4],z[20][3],[[2,'?:'],[[7],[3,'isCurrentProDetailHide']],[1,'hide'],[1,'']]])
Z([[6],[[7],[3,'summary_info']],[3,'summary']])
Z(z[23])
Z(z[25])
Z(z[26])
Z(z[32])
Z(z[28])
Z([[2,'!'],[[6],[[7],[3,'summary_info']],[3,'summary']]])
Z([[7],[3,'shouldProDetailHide']])
Z(z[16])
Z([3,'top-height'])
Z(z[10])
Z(z[12])
Z([3,'onOriginalTitleDoctorShowLess'])
Z([3,'onOriginalTitleDoctorShowMore'])
Z(z[14])
Z([[7],[3,'currentEntranceType']])
Z(z[15])
Z([[7],[3,'isMiniCardOriginalTitleDoctor']])
Z([[7],[3,'self']])
Z(z[17])
Z(z[18])
Z([[7],[3,'shouldMultipleAskIndicatorShow']])
Z(z[49])
Z([[2,'&&'],[[6],[[7],[3,'topNewMessageInfo']],[3,'shouldShow']],[[7],[3,'self']]])
Z([3,'onScroll'])
Z([3,'handleScrollToLower'])
Z([3,'im-content'])
Z([1,true])
Z([3,'scroll-view'])
Z([3,'#fff'])
Z([3,'white'])
Z([[7],[3,'targetScrollAnchor']])
Z([[2,'&&'],[[6],[[7],[3,'problem_detail']],[3,'is_advanced_graph']],[[2,'!'],[[6],[[7],[3,'doctor_info']],[3,'id']]]])
Z([[2,'!'],[[7],[3,'isPrivacyQa']]])
Z([[7],[3,'isPrivacyQa']])
Z([3,'i'])
Z([[7],[3,'disclaimerList']])
Z([3,'text'])
Z(z[23])
Z([[6],[[7],[3,'item']],[3,'text']])
Z(z[28])
Z(z[65])
Z([a,[3,'message-main-container '],[[2,'?:'],[[2,'&&'],[[7],[3,'shouldLimitQaContentHeight']],[[7],[3,'hasRecommendSection']]],[1,'limit-height'],[1,'']]])
Z(z[67])
Z([3,'content'])
Z([[7],[3,'contents']])
Z([3,'uniqueId'])
Z([a,[3,'single-message-main-holder '],[[2,'?:'],[[2,'==='],[[2,'+'],[[2,'+'],[[2,'+'],[1,'single'],[[6],[[7],[3,'content']],[3,'id']]],[1,'-']],[[6],[[7],[3,'content']],[3,'sub_content_idx']]],[[7],[3,'currentFlickerMessageId']]],[1,'flickering'],[1,'']]])
Z([[2,'+'],[[2,'+'],[[2,'+'],[1,'single'],[[6],[[7],[3,'content']],[3,'id']]],[1,'-']],[[6],[[7],[3,'content']],[3,'time']]])
Z([[2,'&&'],[[2,'=='],[[6],[[7],[3,'content']],[3,'type']],[1,'d']],[[2,'!='],[[6],[[6],[[6],[[7],[3,'content']],[3,'content']],[1,0]],[3,'type']],[1,'reward_tip']]])
Z([[6],[[7],[3,'content']],[3,'content']])
Z(z[78])
Z([3,'qa-list qa-list__doctor'])
Z([a,[3,'qaid'],[[2,'+'],[[7],[3,'i']],[1,1]]])
Z([3,'qa-list__left'])
Z(z[64])
Z([3,'onClickDoctorAvatar'])
Z([a,[3,'../doc_mainpage/index?doc_id\x3d'],[[6],[[7],[3,'doctor_info']],[3,'id']]])
Z([[6],[[7],[3,'problem_detail']],[3,'is_advanced_graph']])
Z([3,'qa-list__right'])
Z([a,[3,'qa-list__content '],[[2,'?:'],[[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'video']],[1,'video-no-background'],[1,'']],z[20][3],[[2,'?:'],[[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'card']],[1,'prescription-card'],[1,'']],[3,' doctor-content']])
Z([[2,'&&'],[[7],[3,'isShowMsgOperationDialog']],[[2,'==='],[[7],[3,'longPressedMessageId']],[[6],[[7],[3,'item']],[3,'random_id']]]])
Z([3,'copy'])
Z([3,'replyMessage'])
Z([3,'savePhoto'])
Z([3,'translate'])
Z(z[59])
Z([[6],[[7],[3,'bottom_info_list']],[3,'edit']])
Z([[7],[3,'content']])
Z([3,'left'])
Z([[6],[[7],[3,'messageOperationMap']],[[6],[[7],[3,'item']],[3,'type']]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'text']])
Z([[6],[[7],[3,'item']],[3,'jump_url']])
Z([3,'openMsgOperationDialog'])
Z([3,'jumpH5'])
Z(z[100])
Z([[7],[3,'item']])
Z(z[104])
Z([[7],[3,'isActivityPartner']])
Z(z[71])
Z(z[28])
Z(z[23])
Z(z[71])
Z(z[28])
Z(z[105])
Z(z[100])
Z(z[108])
Z(z[110])
Z(z[71])
Z(z[28])
Z(z[23])
Z(z[71])
Z(z[28])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'audio']])
Z(z[105])
Z([3,'tapOnAudioContainer'])
Z([3,'qa-list__audio'])
Z([a,[3,'audioid'],[[7],[3,'i']]])
Z(z[129][2])
Z(z[100])
Z(z[108])
Z([[6],[[7],[3,'item']],[3,'file']])
Z(z[108])
Z([[6],[[7],[3,'content']],[3,'id']])
Z([3,'playAudioInOrder'])
Z([3,'setMessageRead'])
Z([3,'handleAudioStart'])
Z([[2,'+'],[1,'audio'],[[6],[[7],[3,'content']],[3,'id']]])
Z([[6],[[6],[[7],[3,'audioInfoMap']],[[6],[[7],[3,'content']],[3,'id']]],[3,'isUnread']])
Z(z[17])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'image']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'survey_table']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'video']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'topic']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'card']])
Z(z[106])
Z([3,'qa-list-wrap survey-card'])
Z([[6],[[7],[3,'item']],[3,'service_url']])
Z([[2,'!=='],[[6],[[7],[3,'item']],[3,'service_state_icon']],[1,'']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'add_profile_card']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'doctor_summary']])
Z([3,'jumpSummary'])
Z([3,'summary-link'])
Z([[6],[[6],[[7],[3,'item']],[3,'card_info']],[3,'url']])
Z([[6],[[6],[[7],[3,'item']],[3,'card_info']],[3,'extra_text']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'audio']])
Z([3,'extra-content'])
Z([[2,'&&'],[[2,'&&'],[[6],[[6],[[7],[3,'audioInfoMap']],[[6],[[7],[3,'content']],[3,'id']]],[3,'isUnread']],[[7],[3,'self']]],[[7],[3,'isNewVersionAudio']]])
Z(z[140])
Z([3,'scrollToReply'])
Z([3,'doctor'])
Z(z[108])
Z([[7],[3,'userIdInfo']])
Z([[6],[[6],[[7],[3,'audioInfoMap']],[[6],[[7],[3,'content']],[3,'id']]],[3,'shouldTranslateShow']])
Z([3,'showTranslateMenu'])
Z([3,'audio-translate-container'])
Z(z[135])
Z([[2,'==='],[[7],[3,'currentShowingTranslateMenuId']],[[6],[[7],[3,'content']],[3,'id']]])
Z(z[82])
Z([3,'index'])
Z([[2,'=='],[[6],[[7],[3,'content']],[3,'type']],[1,'p']])
Z([[2,'&&'],[[2,'=='],[[7],[3,'i']],[1,0]],[[7],[3,'first_enter_page']]])
Z([3,'qa-list-user'])
Z([a,z[85][1],z[85][2]])
Z(z[93])
Z(z[94])
Z([3,'downloadFile'])
Z(z[95])
Z(z[96])
Z(z[97])
Z([3,'draw'])
Z(z[99])
Z(z[100])
Z([3,'right'])
Z(z[102])
Z([a,[3,'qa-list-inner-section ovflow-visi '],[[2,'?:'],[[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'video']],[1,'video-no-background'],[1,'']],z[20][3],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'add_profile_card']],[1,'white-background']],z[20][3],[[2,'?:'],[[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'file']],[1,'pdf'],[1,'']]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'text']])
Z(z[104])
Z(z[105])
Z(z[106])
Z(z[100])
Z(z[108])
Z(z[110])
Z(z[71])
Z(z[28])
Z(z[23])
Z(z[71])
Z(z[28])
Z(z[105])
Z(z[100])
Z(z[108])
Z(z[110])
Z(z[71])
Z(z[28])
Z(z[23])
Z(z[71])
Z(z[28])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'image']])
Z(z[125])
Z(z[105])
Z(z[127])
Z(z[128])
Z([a,z[129][1],z[129][2]])
Z(z[129][2])
Z(z[100])
Z(z[108])
Z(z[133])
Z(z[108])
Z(z[135])
Z(z[138])
Z(z[139])
Z(z[17])
Z(z[144])
Z(z[105])
Z([3,'p-video-c ovflow-visi'])
Z(z[100])
Z(z[108])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'status']],[1,'fail']])
Z(z[151])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'file']],[[2,'==='],[[6],[[7],[3,'item']],[3,'file_type']],[1,'pdf']]])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'dicom']])
Z(z[161])
Z([3,'patient'])
Z(z[108])
Z(z[164])
Z(z[165])
Z(z[166])
Z([3,'audio-translate-container patient'])
Z(z[135])
Z(z[169])
Z(z[82])
Z(z[171])
Z([[2,'=='],[[6],[[7],[3,'content']],[3,'type']],[1,'s']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'feedback']])
Z([3,'handleClickFeedback'])
Z(z[89][2])
Z(z[108])
Z(z[17])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'process_notice_user']])
Z([3,'onMpHtmActionTap'])
Z(z[71])
Z(z[28])
Z(z[129][2])
Z([[6],[[6],[[7],[3,'item']],[3,'request_info']],[3,'click_info']])
Z([[6],[[6],[[7],[3,'item']],[3,'request_info']],[3,'dialog']])
Z([[7],[3,'mphtmlTagStyle']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'notice']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'link_notice_user']])
Z(z[89][2])
Z(z[108])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'notice_user']])
Z([3,'notice-user-wrap'])
Z(z[23])
Z([[6],[[7],[3,'noticeUserList']],[[7],[3,'i']]])
Z(z[28])
Z([[6],[[7],[3,'item']],[3,'action_info']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'reward_tip']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'text']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'type']],[1,'ad']])
Z([3,'ad_Jump'])
Z([3,'ad-warp'])
Z([[6],[[6],[[7],[3,'item']],[3,'data']],[3,'ad_id']])
Z([[6],[[6],[[7],[3,'item']],[3,'data']],[3,'ad_title']])
Z([[6],[[6],[[6],[[6],[[7],[3,'item']],[3,'data']],[3,'redirect']],[3,'param']],[3,'type']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'data']],[3,'redirect']],[3,'type']])
Z([[6],[[6],[[6],[[6],[[7],[3,'item']],[3,'data']],[3,'redirect']],[3,'param']],[3,'url']])
Z([[6],[[6],[[6],[[6],[[7],[3,'item']],[3,'data']],[3,'redirect']],[3,'param']],[3,'path']])
Z([[6],[[6],[[7],[3,'item']],[3,'data']],[3,'text']])
Z(z[28])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'patient_assess']])
Z([[6],[[7],[3,'item']],[3,'assess_info']])
Z([[7],[3,'footer_ad']])
Z(z[171])
Z([[2,'>'],[[6],[[7],[3,'footer_ad']],[3,'length']],[1,0]])
Z(z[271])
Z([[6],[[7],[3,'item']],[3,'ad_id']])
Z([[6],[[7],[3,'item']],[3,'ad_title']])
Z(z[59])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'redirect']],[3,'param']],[3,'type']])
Z([[6],[[6],[[7],[3,'item']],[3,'redirect']],[3,'type']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'redirect']],[3,'param']],[3,'url']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'redirect']],[3,'param']],[3,'path']])
Z([[6],[[7],[3,'item']],[3,'image']])
Z(z[71])
Z(z[71])
Z(z[28])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'footer']],[[6],[[7],[3,'footer']],[3,'length']]],[[7],[3,'is_problem_user']]],[[7],[3,'problem_id']]],[[6],[[7],[3,'contents']],[3,'length']]])
Z(z[65])
Z([[2,'&&'],[[7],[3,'shouldLimitQaContentHeight']],[[7],[3,'hasRecommendSection']]])
Z([[2,'||'],[[2,'||'],[[2,'==='],[[6],[[7],[3,'currentEntranceType']],[3,'value']],[[6],[[6],[[7],[3,'entranceTypes']],[3,'seo']],[3,'value']]],[[2,'==='],[[6],[[7],[3,'currentEntranceType']],[3,'value']],[[6],[[6],[[7],[3,'entranceTypes']],[3,'seo_similar_problem']],[3,'value']]]],[[2,'==='],[[7],[3,'pageType']],[1,'native_search']]])
Z([3,'updateRecommendSectionStatus'])
Z(z[17])
Z(z[18])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'newUserWelfare']],[[6],[[7],[3,'newUserWelfare']],[3,'image']]],[[7],[3,'bottomGroupHeight']]])
Z([3,'bottom-bottom'])
Z(z[10])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'tapToBottomInfo']],[3,'shouldTapToBottomContainerShow']],[[7],[3,'self']]],[[2,'!'],[[6],[[7],[3,'bottomNewMessageInfo']],[3,'shouldShow']]]])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'bottomNewMessageInfo']],[3,'shouldShow']],[[7],[3,'self']]],[[2,'!=='],[[6],[[7],[3,'problem_detail']],[3,'status']],[1,'c']]])
Z([[7],[3,'shouldBottomRecommendDoctorShow']])
Z([[2,'&&'],[[7],[3,'guide']],[[6],[[7],[3,'guide']],[3,'length']]])
Z([3,'requestMedicine'])
Z([3,'goAssess'])
Z(z[89][2])
Z([[7],[3,'guide']])
Z(z[99])
Z([[6],[[7],[3,'replyArea']],[3,'shouldShow']])
Z([[6],[[7],[3,'problem_detail']],[3,'id']])
Z([[6],[[7],[3,'problem_detail']],[3,'status']])
Z(z[18])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'is_problem_user']],[[2,'!'],[[7],[3,'isRefundTrans']]]],[[2,'!'],[[7],[3,'isRefund']]]])
Z([3,'footer bottom-height'])
Z([[2,'||'],[[6],[[7],[3,'bottom_info_list']],[3,'assess']],[[6],[[7],[3,'bottom_info_list']],[3,'reward']]])
Z(z[323])
Z([[6],[[7],[3,'bottom_info_list']],[3,'assess']])
Z([3,'tips__btn clearfix'])
Z([[7],[3,'reward']])
Z([[6],[[7],[3,'bottom_info_list']],[3,'reward']])
Z([3,'doPointAssess'])
Z([3,'QaBottom'])
Z([3,'心选服务-关闭后评价'])
Z([3,'navigate'])
Z([a,[3,'../assess_send/index?problem_id\x3d'],z[17],[3,'\x26is_advanced_graph\x3d'],z[90]])
Z(z[325])
Z(z[90])
Z([[2,'||'],[[2,'||'],[[6],[[7],[3,'bottom_info_list']],[3,'phone_closed']],[[6],[[7],[3,'bottom_info_list']],[3,'doctor_info']]],[[6],[[7],[3,'bottom_info_list']],[3,'re_checkup']]])
Z([3,'tips_title clearfix'])
Z([[2,'||'],[[6],[[7],[3,'bottom_info_list']],[3,'phone_closed']],[[6],[[7],[3,'bottom_info_list']],[3,'re_checkup']]])
Z([[6],[[7],[3,'bottom_info_list']],[3,'doctor_info']])
Z([[6],[[7],[3,'bottom_info_list']],[3,'re_checkup']])
Z(z[99])
Z(z[317])
Z([3,'func__top'])
Z([[6],[[7],[3,'problem_detail']],[3,'has_answer']])
Z([[6],[[7],[3,'page_info']],[3,'show_doctor_purchase']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'problem_detail']],[3,'price']],[1,0]],[[2,'=='],[[6],[[7],[3,'problem_detail']],[3,'pay_status']],[1,'p']]],[[2,'!'],[[6],[[7],[3,'problem_detail']],[3,'has_answer']]]],[[7],[3,'problem_id']]])
Z([[6],[[7],[3,'bottom_info_list']],[3,'refunded']])
Z(z[305])
Z([[7],[3,'newUserWelfare']])
Z([[7],[3,'bottomGroupHeight']])
Z([3,'QA详情页'])
Z([[6],[[7],[3,'bottom_info_list']],[3,'ask_doctor']])
Z([3,'startAiChat'])
Z([3,'showAiDialog'])
Z([3,'new'])
Z(z[17])
Z([[7],[3,'buttonGroupRenderData']])
Z([[7],[3,'show_popup']])
Z([3,'qa-popup-box'])
Z([[2,'==='],[[6],[[6],[[7],[3,'qa_toast']],[3,'redirect']],[3,'type']],[1,'mini_customer_service']])
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
Z([3,'loginSuccess'])
Z([3,'loginFail'])
Z([[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'user_id']]])
Z([[2,'==='],[[6],[[6],[[7],[3,'qa_toast']],[3,'redirect']],[3,'type']],[1,'url']])
Z([[2,'||'],[[6],[[7],[3,'problem_detail']],[3,'medicine_sale_conversation_id']],[[7],[3,'show_medicine_sale']]])
Z([[2,'&&'],[[6],[[7],[3,'problem_detail']],[3,'is_advanced_graph']],[[6],[[7],[3,'problem_detail']],[3,'show_assess_entrance']]])
Z([[7],[3,'shouldMultipleAskDialogShow']])
Z([3,'handleCloseDialog'])
Z([[7],[3,'multipleAskInfo']])
Z(z[17])
Z([[2,'?:'],[[6],[[7],[3,'problem_detail']],[3,'is_to_doc']],[1,''],[1,'paid_clinic']])
Z([[7],[3,'toClinicServices']])
Z([3,'leaveGeneralPageContainer'])
Z([[7],[3,'shouldGeneralPageContainerShow']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'shouldFeedbackShow']])
Z(z[375])
Z([[6],[[7],[3,'feedbackInfo']],[3,'defaultValue']])
Z(z[89][2])
Z([[6],[[7],[3,'feedbackInfo']],[3,'fromType']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'problemId']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'serviceType']])
Z([[2,'&&'],[[6],[[7],[3,'feedbackInfo']],[3,'shouldFeedbackShow']],[[7],[3,'shouldGeneralPageContainerShow']]])
Z([[6],[[7],[3,'reselectClinicInfo']],[3,'shouldAppendClinicShow']])
Z([3,'cancelAppendClinic'])
Z([3,'confirmAppendClinic'])
Z([[6],[[7],[3,'reselectClinicInfo']],[3,'expand_clinic_list']])
Z([3,'confirmClinic'])
Z([3,'toggleClinicSelector'])
Z([[6],[[7],[3,'reselectClinicInfo']],[3,'shouldClinicSelectorShow']])
Z([[2,'!'],[[7],[3,'shouldTapToTopIndicatorHide']]])
Z([[7],[3,'shouldAiChatShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_192_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_192_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_192=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_192=true;
var x=['./pages/qa_im/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_192_1()
var xCNB=_mz(z,'view',['bindtap',0,'class',1],[],e,s,gg)
var oDNB=_n('view')
_rz(z,oDNB,'class',2,e,s,gg)
var fENB=_v()
_(oDNB,fENB)
if(_oz(z,3,e,s,gg)){fENB.wxVkey=1
var oHNB=_n('view')
_rz(z,oHNB,'class',4,e,s,gg)
var cINB=_v()
_(oHNB,cINB)
if(_oz(z,5,e,s,gg)){cINB.wxVkey=1
}
var oJNB=_v()
_(oHNB,oJNB)
if(_oz(z,6,e,s,gg)){oJNB.wxVkey=1
}
cINB.wxXCkey=1
oJNB.wxXCkey=1
_(fENB,oHNB)
}
else if(_oz(z,7,e,s,gg)){fENB.wxVkey=2
}
var cFNB=_v()
_(oDNB,cFNB)
if(_oz(z,8,e,s,gg)){cFNB.wxVkey=1
var lKNB=_mz(z,'view',['class',9,'style',1],[],e,s,gg)
var aLNB=_v()
_(lKNB,aLNB)
if(_oz(z,11,e,s,gg)){aLNB.wxVkey=1
}
var tMNB=_v()
_(lKNB,tMNB)
if(_oz(z,12,e,s,gg)){tMNB.wxVkey=1
var oPNB=_mz(z,'seo-title-doctor',['bindexpand',13,'doctorInfo',1,'hasFollowed',2,'isMiniCard',3,'problemId',4,'visitPageName',5],[],e,s,gg)
_(tMNB,oPNB)
}
var eNNB=_v()
_(lKNB,eNNB)
if(_oz(z,19,e,s,gg)){eNNB.wxVkey=1
var xQNB=_n('view')
_rz(z,xQNB,'class',20,e,s,gg)
var fSNB=_n('view')
_rz(z,fSNB,'class',21,e,s,gg)
var cTNB=_v()
_(fSNB,cTNB)
if(_oz(z,22,e,s,gg)){cTNB.wxVkey=1
var oVNB=_mz(z,'mp-html',['bind:linktap',23,'bind:load',1,'class',2,'containerStyle',3,'content',4,'copyLink',5,'id',6],[],e,s,gg)
_(cTNB,oVNB)
}
var hUNB=_v()
_(fSNB,hUNB)
if(_oz(z,30,e,s,gg)){hUNB.wxVkey=1
}
cTNB.wxXCkey=1
cTNB.wxXCkey=3
hUNB.wxXCkey=1
_(xQNB,fSNB)
var cWNB=_n('view')
_rz(z,cWNB,'class',31,e,s,gg)
var oXNB=_v()
_(cWNB,oXNB)
if(_oz(z,32,e,s,gg)){oXNB.wxVkey=1
var aZNB=_mz(z,'mp-html',['bind:linktap',33,'class',1,'containerStyle',2,'content',3,'copyLink',4],[],e,s,gg)
_(oXNB,aZNB)
}
var lYNB=_v()
_(cWNB,lYNB)
if(_oz(z,38,e,s,gg)){lYNB.wxVkey=1
}
oXNB.wxXCkey=1
oXNB.wxXCkey=3
lYNB.wxXCkey=1
_(xQNB,cWNB)
var oRNB=_v()
_(xQNB,oRNB)
if(_oz(z,39,e,s,gg)){oRNB.wxVkey=1
}
oRNB.wxXCkey=1
_(eNNB,xQNB)
}
var bONB=_v()
_(lKNB,bONB)
if(_oz(z,40,e,s,gg)){bONB.wxVkey=1
}
aLNB.wxXCkey=1
tMNB.wxXCkey=1
tMNB.wxXCkey=3
eNNB.wxXCkey=1
eNNB.wxXCkey=3
bONB.wxXCkey=1
_(cFNB,lKNB)
}
else{cFNB.wxVkey=2
var t1NB=_mz(z,'view',['class',41,'style',1],[],e,s,gg)
var e2NB=_v()
_(t1NB,e2NB)
if(_oz(z,43,e,s,gg)){e2NB.wxVkey=1
var o6NB=_mz(z,'title-doctor',['bind:show-less',44,'bind:show-more',1,'doctorInfo',2,'entranceType',3,'hasFollowed',4,'isMiniCard',5,'isSelf',6,'problemId',7,'visitPageName',8],[],e,s,gg)
_(e2NB,o6NB)
}
var b3NB=_v()
_(t1NB,b3NB)
if(_oz(z,53,e,s,gg)){b3NB.wxVkey=1
}
var o4NB=_v()
_(t1NB,o4NB)
if(_oz(z,54,e,s,gg)){o4NB.wxVkey=1
}
var x5NB=_v()
_(t1NB,x5NB)
if(_oz(z,55,e,s,gg)){x5NB.wxVkey=1
}
e2NB.wxXCkey=1
e2NB.wxXCkey=3
b3NB.wxXCkey=1
o4NB.wxXCkey=1
x5NB.wxXCkey=1
_(cFNB,t1NB)
}
var f7NB=_mz(z,'scroll-view',['enableBackToTop',-1,'scrollAnchoring',-1,'scrollWithAnimation',-1,'scrollY',-1,'bindscroll',56,'bindscrolltolower',1,'class',2,'enhanced',3,'id',4,'refresherBackground',5,'refresherDefaultStyle',6,'scrollIntoView',7],[],e,s,gg)
var c8NB=_v()
_(f7NB,c8NB)
if(_oz(z,64,e,s,gg)){c8NB.wxVkey=1
}
var h9NB=_v()
_(f7NB,h9NB)
if(_oz(z,65,e,s,gg)){h9NB.wxVkey=1
}
var o0NB=_v()
_(f7NB,o0NB)
if(_oz(z,66,e,s,gg)){o0NB.wxVkey=1
}
var aDOB=_v()
_(f7NB,aDOB)
var tEOB=function(bGOB,eFOB,oHOB,gg){
var oJOB=_mz(z,'mp-html',['bind:linktap',70,'content',1,'copyLink',2],[],bGOB,eFOB,gg)
_(oHOB,oJOB)
return oHOB
}
aDOB.wxXCkey=4
_2z(z,68,tEOB,e,s,gg,aDOB,'item','i','text')
var cAOB=_v()
_(f7NB,cAOB)
if(_oz(z,73,e,s,gg)){cAOB.wxVkey=1
}
var fKOB=_n('view')
_rz(z,fKOB,'class',74,e,s,gg)
var cOOB=_v()
_(fKOB,cOOB)
var oPOB=function(aROB,lQOB,tSOB,gg){
var bUOB=_mz(z,'view',['class',79,'id',1],[],aROB,lQOB,gg)
var oVOB=_v()
_(bUOB,oVOB)
if(_oz(z,81,aROB,lQOB,gg)){oVOB.wxVkey=1
var xWOB=_v()
_(oVOB,xWOB)
var oXOB=function(cZOB,fYOB,h1OB,gg){
var c3OB=_mz(z,'view',['class',84,'id',1],[],cZOB,fYOB,gg)
var l5OB=_n('view')
_rz(z,l5OB,'class',86,cZOB,fYOB,gg)
var a6OB=_v()
_(l5OB,a6OB)
if(_oz(z,87,cZOB,fYOB,gg)){a6OB.wxVkey=1
}
else{a6OB.wxVkey=2
var t7OB=_mz(z,'view',['bindtap',88,'url',1],[],cZOB,fYOB,gg)
var e8OB=_v()
_(t7OB,e8OB)
if(_oz(z,90,cZOB,fYOB,gg)){e8OB.wxVkey=1
}
e8OB.wxXCkey=1
_(a6OB,t7OB)
}
a6OB.wxXCkey=1
_(c3OB,l5OB)
var b9OB=_n('view')
_rz(z,b9OB,'class',91,cZOB,fYOB,gg)
var xAPB=_n('view')
_rz(z,xAPB,'class',92,cZOB,fYOB,gg)
var oBPB=_v()
_(xAPB,oBPB)
if(_oz(z,93,cZOB,fYOB,gg)){oBPB.wxVkey=1
var eLPB=_mz(z,'message-operation',['bind:copy',94,'bind:reply',1,'bind:savePhoto',2,'bind:translate',3,'isDoc',4,'isInEdit',5,'messageContent',6,'messageDialogLocation',7,'messageDialogTypeMap',8],[],cZOB,fYOB,gg)
_(oBPB,eLPB)
}
var fCPB=_v()
_(xAPB,fCPB)
if(_oz(z,103,cZOB,fYOB,gg)){fCPB.wxVkey=1
var bMPB=_v()
_(fCPB,bMPB)
if(_oz(z,104,cZOB,fYOB,gg)){bMPB.wxVkey=1
var oNPB=_mz(z,'view',['bindlongpress',105,'bindtap',1,'data-content',2,'data-item',3,'data-url',4],[],cZOB,fYOB,gg)
var xOPB=_v()
_(oNPB,xOPB)
if(_oz(z,110,cZOB,fYOB,gg)){xOPB.wxVkey=1
var oPPB=_mz(z,'mp-html',['content',111,'copyLink',1],[],cZOB,fYOB,gg)
_(xOPB,oPPB)
}
else{xOPB.wxVkey=2
var fQPB=_mz(z,'mp-html',['bind:linktap',113,'content',1,'copyLink',2],[],cZOB,fYOB,gg)
_(xOPB,fQPB)
}
xOPB.wxXCkey=1
xOPB.wxXCkey=3
xOPB.wxXCkey=3
_(bMPB,oNPB)
}
else{bMPB.wxVkey=2
var cRPB=_mz(z,'view',['bindlongpress',116,'data-content',1,'data-item',2],[],cZOB,fYOB,gg)
var hSPB=_v()
_(cRPB,hSPB)
if(_oz(z,119,cZOB,fYOB,gg)){hSPB.wxVkey=1
var oTPB=_mz(z,'mp-html',['content',120,'copyLink',1],[],cZOB,fYOB,gg)
_(hSPB,oTPB)
}
else{hSPB.wxVkey=2
var cUPB=_mz(z,'mp-html',['bind:linktap',122,'content',1,'copyLink',2],[],cZOB,fYOB,gg)
_(hSPB,cUPB)
}
hSPB.wxXCkey=1
hSPB.wxXCkey=3
hSPB.wxXCkey=3
_(bMPB,cRPB)
}
bMPB.wxXCkey=1
bMPB.wxXCkey=3
bMPB.wxXCkey=3
}
var cDPB=_v()
_(xAPB,cDPB)
if(_oz(z,125,cZOB,fYOB,gg)){cDPB.wxVkey=1
var oVPB=_mz(z,'view',['bindlongpress',126,'capture-catch:tap',1,'class',2,'data-audioid',3,'data-audioindex',4,'data-content',5,'data-item',6,'data-src',7],[],cZOB,fYOB,gg)
var lWPB=_mz(z,'audio-message',['audioData',134,'audioId',1,'bindend',2,'bindread',3,'bindstart',4,'class',5,'isUnread',6,'problemId',7],[],cZOB,fYOB,gg)
_(oVPB,lWPB)
_(cDPB,oVPB)
}
var hEPB=_v()
_(xAPB,hEPB)
if(_oz(z,142,cZOB,fYOB,gg)){hEPB.wxVkey=1
}
var oFPB=_v()
_(xAPB,oFPB)
if(_oz(z,143,cZOB,fYOB,gg)){oFPB.wxVkey=1
}
var cGPB=_v()
_(xAPB,cGPB)
if(_oz(z,144,cZOB,fYOB,gg)){cGPB.wxVkey=1
}
var oHPB=_v()
_(xAPB,oHPB)
if(_oz(z,145,cZOB,fYOB,gg)){oHPB.wxVkey=1
}
var lIPB=_v()
_(xAPB,lIPB)
if(_oz(z,146,cZOB,fYOB,gg)){lIPB.wxVkey=1
var aXPB=_mz(z,'view',['bindtap',147,'class',1,'data-url',2],[],cZOB,fYOB,gg)
var tYPB=_v()
_(aXPB,tYPB)
if(_oz(z,150,cZOB,fYOB,gg)){tYPB.wxVkey=1
}
tYPB.wxXCkey=1
_(lIPB,aXPB)
}
var aJPB=_v()
_(xAPB,aJPB)
if(_oz(z,151,cZOB,fYOB,gg)){aJPB.wxVkey=1
}
var tKPB=_v()
_(xAPB,tKPB)
if(_oz(z,152,cZOB,fYOB,gg)){tKPB.wxVkey=1
var eZPB=_mz(z,'view',['bindtap',153,'class',1,'data-url',2],[],cZOB,fYOB,gg)
var b1PB=_v()
_(eZPB,b1PB)
if(_oz(z,156,cZOB,fYOB,gg)){b1PB.wxVkey=1
}
b1PB.wxXCkey=1
_(tKPB,eZPB)
}
oBPB.wxXCkey=1
oBPB.wxXCkey=3
fCPB.wxXCkey=1
fCPB.wxXCkey=3
cDPB.wxXCkey=1
cDPB.wxXCkey=3
hEPB.wxXCkey=1
oFPB.wxXCkey=1
cGPB.wxXCkey=1
oHPB.wxXCkey=1
lIPB.wxXCkey=1
aJPB.wxXCkey=1
tKPB.wxXCkey=1
_(b9OB,xAPB)
var o0OB=_v()
_(b9OB,o0OB)
if(_oz(z,157,cZOB,fYOB,gg)){o0OB.wxVkey=1
var o2PB=_n('view')
_rz(z,o2PB,'class',158,cZOB,fYOB,gg)
var x3PB=_v()
_(o2PB,x3PB)
if(_oz(z,159,cZOB,fYOB,gg)){x3PB.wxVkey=1
}
var o4PB=_v()
_(o2PB,o4PB)
if(_oz(z,160,cZOB,fYOB,gg)){o4PB.wxVkey=1
}
x3PB.wxXCkey=1
o4PB.wxXCkey=1
_(o0OB,o2PB)
}
o0OB.wxXCkey=1
_(c3OB,b9OB)
var f5PB=_mz(z,'replied-message',['bind:scroll-to-reply',161,'doctorOrPatient',1,'messageData',2,'userIdInfo',3],[],cZOB,fYOB,gg)
_(c3OB,f5PB)
var o4OB=_v()
_(c3OB,o4OB)
if(_oz(z,165,cZOB,fYOB,gg)){o4OB.wxVkey=1
var c6PB=_mz(z,'view',['bind:longpress',166,'class',1,'data-menu-id',2],[],cZOB,fYOB,gg)
var h7PB=_v()
_(c6PB,h7PB)
if(_oz(z,169,cZOB,fYOB,gg)){h7PB.wxVkey=1
}
h7PB.wxXCkey=1
_(o4OB,c6PB)
}
o4OB.wxXCkey=1
_(h1OB,c3OB)
return h1OB
}
xWOB.wxXCkey=4
_2z(z,82,oXOB,aROB,lQOB,gg,xWOB,'item','index','uniqueId')
}
var o8PB=_v()
_(bUOB,o8PB)
var c9PB=function(lAQB,o0PB,aBQB,gg){
var eDQB=_v()
_(aBQB,eDQB)
if(_oz(z,172,lAQB,o0PB,gg)){eDQB.wxVkey=1
var bEQB=_v()
_(eDQB,bEQB)
if(_oz(z,173,lAQB,o0PB,gg)){bEQB.wxVkey=1
}
var oFQB=_mz(z,'view',['class',174,'id',1],[],lAQB,o0PB,gg)
var xGQB=_v()
_(oFQB,xGQB)
if(_oz(z,176,lAQB,o0PB,gg)){xGQB.wxVkey=1
var fIQB=_mz(z,'message-operation',['bind:copy',177,'bind:downloadFile',1,'bind:reply',2,'bind:savePhoto',3,'bind:translate',4,'bind:withdraw',5,'isInEdit',6,'messageContent',7,'messageDialogLocation',8,'messageDialogTypeMap',9],[],lAQB,o0PB,gg)
_(xGQB,fIQB)
}
var cJQB=_n('view')
_rz(z,cJQB,'class',187,lAQB,o0PB,gg)
var hKQB=_v()
_(cJQB,hKQB)
if(_oz(z,188,lAQB,o0PB,gg)){hKQB.wxVkey=1
var eRQB=_v()
_(hKQB,eRQB)
if(_oz(z,189,lAQB,o0PB,gg)){eRQB.wxVkey=1
var bSQB=_mz(z,'view',['bindlongpress',190,'bindtap',1,'data-content',2,'data-item',3],[],lAQB,o0PB,gg)
var oTQB=_v()
_(bSQB,oTQB)
if(_oz(z,194,lAQB,o0PB,gg)){oTQB.wxVkey=1
var xUQB=_mz(z,'mp-html',['content',195,'copyLink',1],[],lAQB,o0PB,gg)
_(oTQB,xUQB)
}
else{oTQB.wxVkey=2
var oVQB=_mz(z,'mp-html',['bind:linktap',197,'content',1,'copyLink',2],[],lAQB,o0PB,gg)
_(oTQB,oVQB)
}
oTQB.wxXCkey=1
oTQB.wxXCkey=3
oTQB.wxXCkey=3
_(eRQB,bSQB)
}
else{eRQB.wxVkey=2
var fWQB=_mz(z,'view',['bindlongpress',200,'data-content',1,'data-item',2],[],lAQB,o0PB,gg)
var cXQB=_v()
_(fWQB,cXQB)
if(_oz(z,203,lAQB,o0PB,gg)){cXQB.wxVkey=1
var hYQB=_mz(z,'mp-html',['content',204,'copyLink',1],[],lAQB,o0PB,gg)
_(cXQB,hYQB)
}
else{cXQB.wxVkey=2
var oZQB=_mz(z,'mp-html',['bind:linktap',206,'content',1,'copyLink',2],[],lAQB,o0PB,gg)
_(cXQB,oZQB)
}
cXQB.wxXCkey=1
cXQB.wxXCkey=3
cXQB.wxXCkey=3
_(eRQB,fWQB)
}
eRQB.wxXCkey=1
eRQB.wxXCkey=3
eRQB.wxXCkey=3
}
var oLQB=_v()
_(cJQB,oLQB)
if(_oz(z,209,lAQB,o0PB,gg)){oLQB.wxVkey=1
}
var cMQB=_v()
_(cJQB,cMQB)
if(_oz(z,210,lAQB,o0PB,gg)){cMQB.wxVkey=1
var c1QB=_mz(z,'view',['bindlongpress',211,'capture-catch:tap',1,'class',2,'data-audioid',3,'data-audioindex',4,'data-content',5,'data-item',6,'data-src',7],[],lAQB,o0PB,gg)
var o2QB=_mz(z,'audio-message',['audioData',219,'audioId',1,'bindstart',2,'class',3,'problemId',4],[],lAQB,o0PB,gg)
_(c1QB,o2QB)
_(cMQB,c1QB)
}
var oNQB=_v()
_(cJQB,oNQB)
if(_oz(z,224,lAQB,o0PB,gg)){oNQB.wxVkey=1
var l3QB=_mz(z,'view',['bindlongpress',225,'class',1,'data-content',2,'data-item',3],[],lAQB,o0PB,gg)
var a4QB=_v()
_(l3QB,a4QB)
if(_oz(z,229,lAQB,o0PB,gg)){a4QB.wxVkey=1
}
a4QB.wxXCkey=1
_(oNQB,l3QB)
}
var lOQB=_v()
_(cJQB,lOQB)
if(_oz(z,230,lAQB,o0PB,gg)){lOQB.wxVkey=1
}
var aPQB=_v()
_(cJQB,aPQB)
if(_oz(z,231,lAQB,o0PB,gg)){aPQB.wxVkey=1
}
var tQQB=_v()
_(cJQB,tQQB)
if(_oz(z,232,lAQB,o0PB,gg)){tQQB.wxVkey=1
}
hKQB.wxXCkey=1
hKQB.wxXCkey=3
oLQB.wxXCkey=1
cMQB.wxXCkey=1
cMQB.wxXCkey=3
oNQB.wxXCkey=1
lOQB.wxXCkey=1
aPQB.wxXCkey=1
tQQB.wxXCkey=1
_(oFQB,cJQB)
var t5QB=_mz(z,'replied-message',['bind:scroll-to-reply',233,'doctorOrPatient',1,'messageData',2,'userIdInfo',3],[],lAQB,o0PB,gg)
_(oFQB,t5QB)
var oHQB=_v()
_(oFQB,oHQB)
if(_oz(z,237,lAQB,o0PB,gg)){oHQB.wxVkey=1
var e6QB=_mz(z,'view',['bind:longpress',238,'class',1,'data-menu-id',2],[],lAQB,o0PB,gg)
var b7QB=_v()
_(e6QB,b7QB)
if(_oz(z,241,lAQB,o0PB,gg)){b7QB.wxVkey=1
}
b7QB.wxXCkey=1
_(oHQB,e6QB)
}
xGQB.wxXCkey=1
xGQB.wxXCkey=3
oHQB.wxXCkey=1
_(eDQB,oFQB)
bEQB.wxXCkey=1
}
eDQB.wxXCkey=1
eDQB.wxXCkey=3
return aBQB
}
o8PB.wxXCkey=4
_2z(z,170,c9PB,aROB,lQOB,gg,o8PB,'item','index','index')
var o8QB=_v()
_(bUOB,o8QB)
var x9QB=function(fARB,o0QB,cBRB,gg){
var oDRB=_v()
_(cBRB,oDRB)
if(_oz(z,244,fARB,o0QB,gg)){oDRB.wxVkey=1
var cERB=_v()
_(oDRB,cERB)
if(_oz(z,245,fARB,o0QB,gg)){cERB.wxVkey=1
var oNRB=_mz(z,'feedback-card',['bind:feedback',246,'doctorId',1,'feedbackInfo',2,'problemId',3],[],fARB,o0QB,gg)
_(cERB,oNRB)
}
var oFRB=_v()
_(oDRB,oFRB)
if(_oz(z,250,fARB,o0QB,gg)){oFRB.wxVkey=1
var fORB=_mz(z,'mp-html',['bind:linktap',251,'content',1,'copyLink',2,'data-action-index',3,'data-clickinfo',4,'data-dialog',5,'tagStyle',6],[],fARB,o0QB,gg)
_(oFRB,fORB)
}
var lGRB=_v()
_(oDRB,lGRB)
if(_oz(z,258,fARB,o0QB,gg)){lGRB.wxVkey=1
}
var aHRB=_v()
_(oDRB,aHRB)
if(_oz(z,259,fARB,o0QB,gg)){aHRB.wxVkey=1
var cPRB=_mz(z,'link-notice-user',['doctorId',260,'itemData',1],[],fARB,o0QB,gg)
_(aHRB,cPRB)
}
var tIRB=_v()
_(oDRB,tIRB)
if(_oz(z,262,fARB,o0QB,gg)){tIRB.wxVkey=1
var hQRB=_n('view')
_rz(z,hQRB,'class',263,fARB,o0QB,gg)
var cSRB=_mz(z,'mp-html',['bind:linktap',264,'content',1,'copyLink',2],[],fARB,o0QB,gg)
_(hQRB,cSRB)
var oRRB=_v()
_(hQRB,oRRB)
if(_oz(z,267,fARB,o0QB,gg)){oRRB.wxVkey=1
}
oRRB.wxXCkey=1
_(tIRB,hQRB)
}
var eJRB=_v()
_(oDRB,eJRB)
if(_oz(z,268,fARB,o0QB,gg)){eJRB.wxVkey=1
}
var bKRB=_v()
_(oDRB,bKRB)
if(_oz(z,269,fARB,o0QB,gg)){bKRB.wxVkey=1
}
var oLRB=_v()
_(oDRB,oLRB)
if(_oz(z,270,fARB,o0QB,gg)){oLRB.wxVkey=1
var oTRB=_mz(z,'view',['bindtap',271,'class',1,'data-ad-id',2,'data-ad-title',3,'data-oneType',4,'data-twoType',5,'data-url',6,'data-weixin',7],[],fARB,o0QB,gg)
var lURB=_mz(z,'mp-html',['content',279,'copyLink',1],[],fARB,o0QB,gg)
_(oTRB,lURB)
_(oLRB,oTRB)
}
var xMRB=_v()
_(oDRB,xMRB)
if(_oz(z,281,fARB,o0QB,gg)){xMRB.wxVkey=1
var aVRB=_n('assess')
_rz(z,aVRB,'assessData',282,fARB,o0QB,gg)
_(xMRB,aVRB)
}
cERB.wxXCkey=1
cERB.wxXCkey=3
oFRB.wxXCkey=1
oFRB.wxXCkey=3
lGRB.wxXCkey=1
aHRB.wxXCkey=1
aHRB.wxXCkey=3
tIRB.wxXCkey=1
tIRB.wxXCkey=3
eJRB.wxXCkey=1
bKRB.wxXCkey=1
oLRB.wxXCkey=1
oLRB.wxXCkey=3
xMRB.wxXCkey=1
xMRB.wxXCkey=3
}
oDRB.wxXCkey=1
oDRB.wxXCkey=3
return cBRB
}
o8QB.wxXCkey=4
_2z(z,242,x9QB,aROB,lQOB,gg,o8QB,'item','index','index')
oVOB.wxXCkey=1
oVOB.wxXCkey=3
_(tSOB,bUOB)
return tSOB
}
cOOB.wxXCkey=4
_2z(z,77,oPOB,e,s,gg,cOOB,'content','i','uniqueId')
var tWRB=_v()
_(fKOB,tWRB)
var eXRB=function(oZRB,bYRB,x1RB,gg){
var f3RB=_v()
_(x1RB,f3RB)
if(_oz(z,285,oZRB,bYRB,gg)){f3RB.wxVkey=1
var c4RB=_mz(z,'view',['bindtap',286,'data-ad-id',1,'data-ad-title',2,'data-button',3,'data-oneType',4,'data-twoType',5,'data-url',6,'data-weixin',7],[],oZRB,bYRB,gg)
var h5RB=_v()
_(c4RB,h5RB)
if(_oz(z,294,oZRB,bYRB,gg)){h5RB.wxVkey=1
}
else if(_oz(z,295,oZRB,bYRB,gg)){h5RB.wxVkey=2
var o6RB=_mz(z,'mp-html',['content',296,'copyLink',1],[],oZRB,bYRB,gg)
_(h5RB,o6RB)
}
h5RB.wxXCkey=1
h5RB.wxXCkey=3
_(f3RB,c4RB)
}
f3RB.wxXCkey=1
f3RB.wxXCkey=3
return x1RB
}
tWRB.wxXCkey=4
_2z(z,283,eXRB,e,s,gg,tWRB,'item','index','index')
var cLOB=_v()
_(fKOB,cLOB)
if(_oz(z,298,e,s,gg)){cLOB.wxVkey=1
}
var hMOB=_v()
_(fKOB,hMOB)
if(_oz(z,299,e,s,gg)){hMOB.wxVkey=1
}
var oNOB=_v()
_(fKOB,oNOB)
if(_oz(z,300,e,s,gg)){oNOB.wxVkey=1
}
cLOB.wxXCkey=1
hMOB.wxXCkey=1
oNOB.wxXCkey=1
_(f7NB,fKOB)
var oBOB=_v()
_(f7NB,oBOB)
if(_oz(z,301,e,s,gg)){oBOB.wxVkey=1
var c7RB=_mz(z,'recommend-section',['bind:update',302,'problemId',1,'visitPageName',2],[],e,s,gg)
_(oBOB,c7RB)
}
var lCOB=_v()
_(f7NB,lCOB)
if(_oz(z,305,e,s,gg)){lCOB.wxVkey=1
}
c8NB.wxXCkey=1
h9NB.wxXCkey=1
o0NB.wxXCkey=1
cAOB.wxXCkey=1
oBOB.wxXCkey=1
oBOB.wxXCkey=3
lCOB.wxXCkey=1
_(oDNB,f7NB)
var o8RB=_mz(z,'view',['class',306,'style',1],[],e,s,gg)
var l9RB=_v()
_(o8RB,l9RB)
if(_oz(z,308,e,s,gg)){l9RB.wxVkey=1
}
var a0RB=_v()
_(o8RB,a0RB)
if(_oz(z,309,e,s,gg)){a0RB.wxVkey=1
}
var tASB=_v()
_(o8RB,tASB)
if(_oz(z,310,e,s,gg)){tASB.wxVkey=1
}
var eBSB=_v()
_(o8RB,eBSB)
if(_oz(z,311,e,s,gg)){eBSB.wxVkey=1
var fGSB=_mz(z,'additional-action-block',['bind:apply-medicine',312,'bind:goAssess',1,'doctorId',2,'guide',3,'isInEdit',4,'isRepling',5,'problemId',6,'status',7,'visitPageName',8],[],e,s,gg)
_(eBSB,fGSB)
}
var bCSB=_v()
_(o8RB,bCSB)
if(_oz(z,321,e,s,gg)){bCSB.wxVkey=1
var cHSB=_n('view')
_rz(z,cHSB,'class',322,e,s,gg)
var hISB=_v()
_(cHSB,hISB)
if(_oz(z,323,e,s,gg)){hISB.wxVkey=1
var oLSB=_v()
_(hISB,oLSB)
if(_oz(z,324,e,s,gg)){oLSB.wxVkey=1
var lMSB=_v()
_(oLSB,lMSB)
if(_oz(z,325,e,s,gg)){lMSB.wxVkey=1
}
var aNSB=_n('view')
_rz(z,aNSB,'class',326,e,s,gg)
var tOSB=_v()
_(aNSB,tOSB)
if(_oz(z,327,e,s,gg)){tOSB.wxVkey=1
}
var ePSB=_v()
_(aNSB,ePSB)
if(_oz(z,328,e,s,gg)){ePSB.wxVkey=1
}
var bQSB=_mz(z,'view',['catchtap',329,'data-from-type',1,'data-position',2,'openType',3,'url',4],[],e,s,gg)
var oRSB=_v()
_(bQSB,oRSB)
if(_oz(z,334,e,s,gg)){oRSB.wxVkey=1
var xSSB=_v()
_(oRSB,xSSB)
if(_oz(z,335,e,s,gg)){xSSB.wxVkey=1
}
xSSB.wxXCkey=1
}
oRSB.wxXCkey=1
_(aNSB,bQSB)
tOSB.wxXCkey=1
ePSB.wxXCkey=1
_(oLSB,aNSB)
lMSB.wxXCkey=1
}
oLSB.wxXCkey=1
}
var oJSB=_v()
_(cHSB,oJSB)
if(_oz(z,336,e,s,gg)){oJSB.wxVkey=1
var fUSB=_n('view')
_rz(z,fUSB,'class',337,e,s,gg)
var cVSB=_v()
_(fUSB,cVSB)
if(_oz(z,338,e,s,gg)){cVSB.wxVkey=1
}
var hWSB=_v()
_(fUSB,hWSB)
if(_oz(z,339,e,s,gg)){hWSB.wxVkey=1
}
cVSB.wxXCkey=1
hWSB.wxXCkey=1
_(oJSB,fUSB)
var oTSB=_v()
_(oJSB,oTSB)
if(_oz(z,340,e,s,gg)){oTSB.wxVkey=1
}
oTSB.wxXCkey=1
}
var cKSB=_v()
_(cHSB,cKSB)
if(_oz(z,341,e,s,gg)){cKSB.wxVkey=1
var oXSB=_v()
_(cKSB,oXSB)
if(_oz(z,342,e,s,gg)){oXSB.wxVkey=1
}
var cYSB=_n('view')
_rz(z,cYSB,'class',343,e,s,gg)
var oZSB=_v()
_(cYSB,oZSB)
if(_oz(z,344,e,s,gg)){oZSB.wxVkey=1
}
var l1SB=_v()
_(cYSB,l1SB)
if(_oz(z,345,e,s,gg)){l1SB.wxVkey=1
}
var a2SB=_v()
_(cYSB,a2SB)
if(_oz(z,346,e,s,gg)){a2SB.wxVkey=1
}
oZSB.wxXCkey=1
l1SB.wxXCkey=1
a2SB.wxXCkey=1
_(cKSB,cYSB)
oXSB.wxXCkey=1
}
hISB.wxXCkey=1
oJSB.wxXCkey=1
cKSB.wxXCkey=1
_(bCSB,cHSB)
}
var oDSB=_v()
_(o8RB,oDSB)
if(_oz(z,347,e,s,gg)){oDSB.wxVkey=1
}
var xESB=_v()
_(o8RB,xESB)
if(_oz(z,348,e,s,gg)){xESB.wxVkey=1
var t3SB=_mz(z,'new-user-welfare-bar',['adDetail',349,'bottomGroupHeight',1,'pageReadableName',2],[],e,s,gg)
_(xESB,t3SB)
}
var oFSB=_v()
_(o8RB,oFSB)
if(_oz(z,352,e,s,gg)){oFSB.wxVkey=1
var e4SB=_mz(z,'qa-button-group',['bind:go-new-ai-dialog',353,'bind:show-ai-dialog',1,'mark:type',2,'problemId',3,'renderData',4],[],e,s,gg)
_(oFSB,e4SB)
}
l9RB.wxXCkey=1
a0RB.wxXCkey=1
tASB.wxXCkey=1
eBSB.wxXCkey=1
eBSB.wxXCkey=3
bCSB.wxXCkey=1
oDSB.wxXCkey=1
xESB.wxXCkey=1
xESB.wxXCkey=3
oFSB.wxXCkey=1
oFSB.wxXCkey=3
_(oDNB,o8RB)
var hGNB=_v()
_(oDNB,hGNB)
if(_oz(z,358,e,s,gg)){hGNB.wxVkey=1
var b5SB=_n('view')
_rz(z,b5SB,'class',359,e,s,gg)
var o6SB=_v()
_(b5SB,o6SB)
if(_oz(z,360,e,s,gg)){o6SB.wxVkey=1
var o8SB=_v()
_(o6SB,o8SB)
if(_oz(z,361,e,s,gg)){o8SB.wxVkey=1
var c0SB=_mz(z,'cy-userinfo',['bindisloginevent',362,'bindloginevent',1,'bindloginfail',2],[],e,s,gg)
_(o8SB,c0SB)
}
var f9SB=_v()
_(o6SB,f9SB)
if(_oz(z,365,e,s,gg)){f9SB.wxVkey=1
}
o8SB.wxXCkey=1
o8SB.wxXCkey=3
f9SB.wxXCkey=1
}
var x7SB=_v()
_(b5SB,x7SB)
if(_oz(z,366,e,s,gg)){x7SB.wxVkey=1
}
o6SB.wxXCkey=1
o6SB.wxXCkey=3
x7SB.wxXCkey=1
_(hGNB,b5SB)
}
fENB.wxXCkey=1
cFNB.wxXCkey=1
cFNB.wxXCkey=3
cFNB.wxXCkey=3
hGNB.wxXCkey=1
hGNB.wxXCkey=3
_(xCNB,oDNB)
_(r,xCNB)
var a8MB=_v()
_(r,a8MB)
if(_oz(z,367,e,s,gg)){a8MB.wxVkey=1
}
var t9MB=_v()
_(r,t9MB)
if(_oz(z,368,e,s,gg)){t9MB.wxVkey=1
}
var e0MB=_v()
_(r,e0MB)
if(_oz(z,369,e,s,gg)){e0MB.wxVkey=1
var hATB=_mz(z,'multiple-ask',['bind:close-dialog',370,'info',1,'problemId',2,'scene',3,'services',4],[],e,s,gg)
_(e0MB,hATB)
}
var oBTB=_mz(z,'page-container',['bind:beforeleave',375,'show',1],[],e,s,gg)
var cCTB=_v()
_(oBTB,cCTB)
if(_oz(z,377,e,s,gg)){cCTB.wxVkey=1
var lETB=_mz(z,'feedback-detail',['bind:leave',378,'defaultValue',1,'doctorId',2,'fromType',3,'problemId',4,'serviceType',5,'shouldFeedbackShow',6],[],e,s,gg)
_(cCTB,lETB)
}
var oDTB=_v()
_(oBTB,oDTB)
if(_oz(z,385,e,s,gg)){oDTB.wxVkey=1
var aFTB=_mz(z,'append-clinic',['bind:cancel',386,'bind:confirm',1,'clinicList',2],[],e,s,gg)
_(oDTB,aFTB)
}
cCTB.wxXCkey=1
cCTB.wxXCkey=3
oDTB.wxXCkey=1
oDTB.wxXCkey=3
_(r,oBTB)
var tGTB=_mz(z,'clinic-selector',['bind:confirm-clinic',389,'bind:toggle-component',1,'shouldClinicSelectorShow',2],[],e,s,gg)
_(r,tGTB)
var bANB=_v()
_(r,bANB)
if(_oz(z,392,e,s,gg)){bANB.wxVkey=1
}
var oBNB=_v()
_(r,oBNB)
if(_oz(z,393,e,s,gg)){oBNB.wxVkey=1
}
a8MB.wxXCkey=1
t9MB.wxXCkey=1
e0MB.wxXCkey=1
e0MB.wxXCkey=3
bANB.wxXCkey=1
oBNB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_192";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_192();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im/index.wxml'] = [$gwx_XC_192, './pages/qa_im/index.wxml'];else __wxAppCode__['pages/qa_im/index.wxml'] = $gwx_XC_192( './pages/qa_im/index.wxml' );
	;__wxRoute = "pages/qa_im/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im/index.js";define("pages/qa_im/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault");require("../../@babel/runtime/helpers/Arrayincludes");var t,a=require("../../@babel/runtime/helpers/defineProperty"),o=require("../../@babel/runtime/helpers/toConsumableArray"),i=e(require("../../@babel/runtime/regenerator")),n=require("../../@babel/runtime/helpers/asyncToGenerator"),s=require("../../@babel/runtime/helpers/objectSpread2"),r=require("../../982D50C4829A079CFE4B38C322EC7B70.js"),c=require("../../1D735BD7829A079C7B1533D0C5CC7B70.js"),l=require("../../43A2F676829A079C25C49E711B4C7B70.js"),d=require("../../28984410829A079C4EFE2C17502C7B70.js"),u=e(require("../../095CB6D2829A079C6F3ADED52E0C7B70.js")),p=require("../../28984410829A079C4EFE2C17502C7B70.js"),_=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),h=e(require("../../6A719353829A079C0C17FB54BF7D7B70.js")),f=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),m=getApp(),g=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,w=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),b=w.param,v=w.Timer,x=w.getQueryStr,T=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,y=require("../../ACF33105829A079CCA9559029C0D7B70.js"),D=g+"/cooperation/wap/get_problem_detail/",S=g+"/cooperation/wap/problem_detail_page/",C=g+"/cooperation/wap/create_problem_content/",k=g+"/cooperation/wap/delete_problem/",I=g+"/files/upload_token/",A=g+"/cooperation/wap/refund_paid_problem/",P=require("../../56F44BB4829A079C309223B3039D7B70.js").WEBSOCKET_URL,M=g+"/api/v5/doctor/",R=g+"/api/third_party/get_username/",N=g+"/cooperation/wap/problem/content/withdraw/",O=g+"/cooperation/wap/ask_many/problem/doctors/",q="".concat(g,"/api/v7/new_user/to_doc/"),Q="".concat(g,"/api/content/audio/to_text/"),B="".concat(g,"/qa_operation/quick_ask/user_expand_clinic/"),F="".concat(g,"/cooperation/wap/get_hide_problem_base_info/"),E="".concat(g,"/cooperation/third_ai/conversation/new/"),H=g+"/events/new_user_welfare/entrance_info/?from_wx_mini=1",j=require("../../D6CAF1F1829A079CB0AC99F6BFEC7B70.js"),L=require("../../94310D64829A079CF2576563CCAC7B70.js"),U=L.uploadVideo,V=L.saveImageToPhotosAlbum,G=L.saveVideoToPhotosAlbum,W=L.uploadFile,z=L.getToken,J=[];Page({data:{currentAiChatUrl:"",shouldAiChatShow:!1,aiNavigateType:"",mphtmlTagStyle:{a:"color: red"},isPrivacyQa:!1,noticeUserList:[],longPressedMessageId:null,isShowMsgOperationDialog:!1,nowTime:"",isLogin:!1,avatarUrl:"",user_id:"",show_popup:!1,qa_toast:{},sending_finish_video:"",ready_video_list:[],clearContents:[],video_show:!1,video_time:0,video_size:0,from_expert_call:!1,has_followed:!1,doctor_info:null,lastQAId:0,loading_hidden:!0,toast_hidden:!0,error_msg:"",problem_id:"",contents:[],interval:1e4,hasInputed:!1,icon_selected:-1,func_hidden:!0,newQuestionText:"",audio_hidden:!0,audioTip_hidden:!0,audio_text:"按住说话",audioTipText:"手指上划，取消发送",bg:"#11bd4b",audioTipBg:"#11bd4b",record_time:0,audio_timer:null,ifSendVoice:!0,currentAudioIndex:0,playOrNot:!1,audioId:"",audioIndex:-1,audioObj:null,paddingBottom:100,platform:"",footerBottom:null,is_problem_user:"",display:"hide",btn_text:"我要问医生",img_display:"show",free_display:"hide",has_img_ans:"hide",no_img_ans:"hide",jump_url:"",tag:"imgask",isRefundTrans:!1,isRefund:!1,bottom_info_list:{price:"",graph:!1,edit:!1,refunded:!1,assess:!1,reward:!1,re_checkup:!1,ask_doctor:!1,doctor_info:!1,phone_closed:!1},footer:"",contentHeight:485,scrollPosition:"qaid1",adjusLayerHidden:!0,multiArray:[],multiIndex:[0,0],showClinicAdjustment:!1,timerCount:8,clinicName:"",clinicNo:"",clinicSecondNo:"",disclaimerList:[],isActivityPartner:!1,footer_ad:[],imageWidth:299,options:{},hasPrivacyModal:!1,onShowTrigger:!1,guide:[],alert_info:[],shouldBottomRecommendDoctorShow:!1,pageType:"",shouldProDetailHide:!0,isCurrentProDetailHide:!0,shouldLimitMessageMainContainerHeight:!1,isFirstTimeRenderContent:!0,hasRecommendDoctor:!1,hasRecommendTopic:!1,shouldLimitQaContentHeight:!1,winHeightForRpx:"",bottomAnchor:"bottom-anchor",buttonGroupRenderData:{},onloadOptions:{},entranceTypes:p.ENTRANCE_TYPES,currentEntranceType:"",multiple_ask:{type:"multiple_ask",text:" fake一键咨询多位医生，解答更全面",images:["url1","url2"],extra_desc:"xxx人已购买fake",button_text:"按钮文案fake"},shouldMultipleAskIndicatorShow:!1,shouldMultipleAskDialogShow:!1,multipleAskInfo:{},toClinicServices:[],self:!1,lastScrollTop:0,isSeoTitleDoctorMiniCard:!1,shouldHideProDetail:!1,targetScrollAnchor:"",isMiniCardOriginalTitleDoctor:!1,scrollBreakPoint:!1,trackIndicator:!0,dayFristVisit:!1,replyArea:{type:"",shouldShow:!1,content:"",id:"",subContentIdx:""},pageContainer:{shouldShow:!1,type:"text",textContent:"",audioContent:{audioContext:{}}},userIdInfo:{},isInputFocus:!1,messageOperationMap:{text:["copy","withdraw","reply"],dicom:["withdraw","reply"],video:["withdraw","reply","savePhoto"],image:["withdraw","reply","savePhoto"],audio:["withdraw","reply","translate"],file:["withdraw","reply"],add_profile_card:[]},currentShowingTranslateMenuId:"",shouldHideTranslateDialog:!0,audioInfoMap:{},isNewVersionAudio:!1,feedbackInfo:{serviceType:"",problemId:"",shouldFeedbackShow:!1,defaultValue:""},shouldGeneralPageContainerShow:!1,hasReachedBottomBufferArea:!1,msgReadInfo:{},tapToBottomInfo:{shouldTapToBottomContainerShow:!1,scrollBufferPx:20},topNewMessageInfo:{shouldShow:!1,count:0,firstPosition:""},bottomNewMessageInfo:{shouldShow:!1,count:0,firstPosition:""},readStatusPosition:{last_position:"",first_position:""},isAjaxQaPending:!1,shouldListenToScrollElementInView:!1,reselectClinicInfo:{isFirstInitiating:!0,change_clinic_seconds:0,expand_clinic_list:[],shouldClinicSelectorShow:!1,shouldAppendClinicShow:!1,reselectClinicListObj:{},countDownId:"",indicatingText:"",currentClinicNo:""},shouldTapToTopIndicatorHide:!1,newUserWelfare:{},bottomGroupHeight:0,isSeoPage:!1,visitPageName:"",fromVisitPage:"",qiYuConfig:"",hasRecommendSection:!1,seoOptions:{scene:1e4,path:"",query:{},nativeSeoSceneList:[1005,1006,1026,1042,1053,1054,1077,1106,1129,1145,1183,1260,1252]}},allPullIds:{},onUnload:function(){m.globalData.isTelInquiry&&wx.reLaunch({url:"/pages/all_service/index"}),this.clearAllPolling()},toggleProDetail:function(){this.setData({isCurrentProDetailHide:!this.data.isCurrentProDetailHide})},loginActions:function(){var e=m.getUserProfileGlobal();e.isSuccess&&this.setData({avatarUrl:e.avatarUrl}),this.getUserId()},loginSuccess:function(){this.getUserId(),this.setData({isLogin:!0})},loginFail:function(){this.setData({isLogin:!1})},updateRecommendSectionStatus:function(e){this.setData({hasRecommendSection:e.detail.hasRecommendSection})},getUserId:function(){var e=this;m.globalData.sessionid&&wx.request({url:R,header:{Cookie:m.globalData.sessionid},success:function(t){e.setData({user_id:t.data.user_id})},fail:function(){e.setData({user_id:"user_id_fail"})}})},startQiYu:function(){var e=this;(0,r.getQiYu)().then((function(t){e.setData({qiYuConfig:t})}))},serviceAppClick:function(){m.sensors.track("AdClick",{app:this.data.options&&"app"===this.data.options.from?"0":"weixin_mini",ad_position:"ADQA页弹窗点击",ad_title:this.data.qa_toast.ad_title||""})},onLoad:function(e){var t=this,a=wx.getLaunchOptionsSync(),o=a.scene,i=a.path,n=a.query;this.setData({"seoOptions.scene":o,"seoOptions.path":i,"seoOptions.query":n}),wx.getSystemInfoSync({success:function(e){t.setData({platform:e.platform})}}),this.startQiYu(),this.setData({shouldTapToTopIndicatorHide:!!wx.getStorageSync("QA_SHOULD_TAP_TO_TOP_INDICATOR_HIDE")}),wx.setStorageSync("QA_SHOULD_TAP_TO_TOP_INDICATOR_HIDE",!0),this.allPullIds={},this.data.shouldHideTranslateDialog=Boolean(wx.getStorageSync("shouldHideTranslateDialog"));var s=(0,u.default)(e);this.setData({currentEntranceType:s,fromVisitPage:(null==s?void 0:s.desc)||e.from_visit_page}),this.data.onloadOptions=e,this.data.seoOptions.nativeSeoSceneList.indexOf(this.data.seoOptions.scene)>-1&&this.data.seoOptions.query.problem_id===e.problem_id&&((0,h.default)({id:"seo_weixin_native_search",hasPassed:!0,extraInfo:{problem_id:e.problem_id}}),this.setData({pageType:"native_search"})),e.page_type&&this.setData({pageType:e.page_type}),1===Number(e.output)&&"weixin"===e.partner&&(0,h.default)({id:"seo_chunyu_seo",hasPassed:!0,extraInfo:{problem_id:e.problem_id}});var r=this,c=wx.getStorageSync("sessionUserId");c&&this.setData({isLogin:!0,user_id:c.data}),r.setData({imageWidth:.8*wx.getSystemInfoSync().windowWidth,options:e});var l=!!e.from_expert_call_id;wx.getSystemInfo({success:function(e){r.setData({platform:e.platform,model:e.model,windowHeight:e.windowHeight?e.windowHeight:e.screenHeight,windowWidth:e.windowWidth?e.windowWidth:e.screenWidth})}});var d=m.globalData.sessionid;r.setData({from_expert_call:l,problem_id:e&&e.problem_id?e.problem_id:m.globalData.problem_id,"feedbackInfo.problemId":e&&e.problem_id?e.problem_id:m.globalData.problem_id,"feedbackInfo.serviceType":"graph",doctor_info:m.globalData.doctor_info,sessionid:d,isActivityPartner:!!m.globalData.activityPartner}),r.init(e)},onShow:function(){this.data.onShowTrigger&&this.ajaxQA({noScroll:!0}),this.setData({onShowTrigger:!0});var e=this;m.globalData.appIsLogin.then((function(){e.setData({dayFristVisit:!1})}),(function(){var t,a=function(){var e=new Date,t=("0"+String(e.getDate())).slice(-2);return("0"+String(e.getMonth()+1)).slice(-2)+"/"+t+"/"+e.getFullYear()},o=wx.getStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON");o?a()===o?t=!0:a()!==o&&(t=!1):(wx.setStorageSync("OPENED_MINI_APP_IN_HISTORY_FOR_COUPON",a()),t=!0),e.setData({dayFristVisit:t})})),"seo_page"===this.getFromPage()?(this.getNewUserWelfare(),this.setData({isSeoPage:!0})):this.setData({isSeoPage:!1})},goNavigator:function(e){m.sensors.track("AdClick",{app:this.data.options&&"app"===this.data.options.from?"0":"weixin_mini",ad_position:"ADQA页弹窗点击",ad_title:this.data.qa_toast.ad_title||""});var t=e.currentTarget.dataset.onetype,a=e.currentTarget.dataset.weixin,o=e.currentTarget.dataset.url;o?"weixin_mini"===t?wx.navigateTo({url:a}):wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(o))}):this.setData({show_popup:!1,qa_toast:{}})},closePopup:function(){m.sensors.track("AdClick",{app:this.data.options&&"app"===this.data.options.from?"0":"weixin_mini",ad_position:"ADQA页弹窗关闭",ad_title:this.data.qa_toast.ad_title||""}),this.setData({show_popup:!1,qa_toast:{}})},init:function(e){var t=this,a=this,o=m.globalData.sessionid,i=m.globalData.partner,n=a.data.problem_id;wx.request({url:S,header:{Cookie:o},data:{from_wx_mini:1,partner:i,problem_id:n||e.problem_id,is_json:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id")},success:function(o){if(400!==o.statusCode){var r=o.data,c=r.problem_detail;if(c){var l=c?c.hint_info:void 0,d=c.pay_status,u=!1,p="",g=r.footer;u=!(!l||l.is_referred||"r"!=d),p=!(!l||!l.is_referred),a.setData({partner:i,doctor_info:r.doctor_info,is_problem_user:r.is_problem_user,page_info:r.page_info,problem_detail:r.problem_detail,isRefund:u,isRefundTrans:p,footer:g}),a.setPageTitle(),"r"==r.problem_detail.pay_status&&a.setData({func_hidden:!0}),e.isFirstFetch=!0;a.ajaxQA(s(s({},e),{},{isInitiating:!0,manual:1}),function(){(0,f.default)({fromName:this.data.fromVisitPage||"",name:this.data.visitPageName||"",extraInfo:{}})}.bind(a)),m.globalData.appIsLogin.then((function(){r.is_problem_user&&"c"!=r.problem_detail.status&&(a.initWebSocket(),a.initWebsocketEvenHandlert())})),a.getNewUserToDoc()}else wx.showToast({title:"获取数据失败"})}else{if("from_seo"!==t.data.currentEntranceType.value&&"seo_similar_problem"!==t.data.currentEntranceType.value)return m.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"QA详情页",problem_id_str:a.data.problem_id}),void wx.showModal({title:"提示",content:"因用户隐私无法显示",confirmText:"我知道了",confirmColor:"#39d167",showCancel:!1,success:function(e){wx.navigateBack()}});if((0,_.default)({url:F,data:{problem_id:n,from_scene:"seo_page"},success:function(e){var o,i;0===e.data.error_code&&(t.setData({isPrivacyQa:!0,doctor_info:e.data.doctor_info,has_followed:e.data.doctor_info.has_followed}),t.setBottomButtonInfo(e.data),m.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"QA详情页",problem_id_str:a.data.problem_id,from_type:a.data.currentEntranceType.value,first_department:String(a.data.doctor_info.first_clinic_name),second_department:String(a.data.doctor_info.second_clinic_name),is_show:"ai_chat"===(null===(o=a.data.buttonGroupRenderData.extra_type_info)||void 0===o||null===(i=o.cy_redirect)||void 0===i?void 0:i.target_type)}))}}),(0,h.default)({id:"v2"===a.data.pageType||"native_search"===a.data.pageType?"qa_privacy_issue_seo":"qa_privacy_issue",hasPassed:!1,errorMsg:"问题ID：".concat(n),extraInfo:{problem_id:n}}),a.data.hasPrivacyModal)return;a.setData({hasPrivacyModal:!0})}},fail:function(e){a.setData({error_msg:e?e.error_msg:"接口请求出错",toast_hidden:!1})}})},suggestHtmlLoaded:function(){this.checkShouldCollapseProDetail()},setPageTitle:function(){"v2"===this.data.pageType||"native_search"===this.data.pageType?wx.setNavigationBarTitle({title:"春雨医生"}):this.data.doctor_info&&this.data.doctor_info.name?wx.setNavigationBarTitle({title:"".concat(this.data.doctor_info.name,"医生")}):wx.setNavigationBarTitle({title:"问题详情"})},getNewUserWelfare:function(){var e=this;return n(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.data.isLogin){t.next=3;break}return t.next=3,(0,l.manualLogin)();case 3:(0,_.default)({url:H,data:{from_wx_mini:1,device_id:wx.getStorageSync("open_id")||wx.getStorageSync("device_id"),scene:"seo_qa"},success:function(t){200===t.statusCode&&t.data&&e.setData({newUserWelfare:t.data})}});case 4:case"end":return t.stop()}}),t)})))()},webSocketHeader:function(){var e=this.data.platform,t=void 0===e?"":e,a={"content-type":"application/json",cookie:m.globalData.sessionid};return"devtools"!==t&&delete a.origin,a},initWebSocket:function(){var e=this;m.globalData.socketOpen||wx.connectSocket({url:P,header:e.webSocketHeader(),method:"GET",success:function(){m.globalData.socketOpen=!0},fail:function(){console.error(m.globalData.socketOpen,"socketOpenfail")}}),wx.onSocketOpen((function(e){m.globalData.socketOpen=!0})),wx.onSocketError((function(e){console.log("socket error",e)})),wx.onSocketClose((function(t){m.globalData.reConnectCount>50||setTimeout((function(){m.globalData.reConnectCount+=1,wx.connectSocket({url:P,header:e.webSocketHeader(),method:"GET"})}),5e3)}))},initWebsocketEvenHandlert:function(){var e=this;wx.onSocketMessage((function(t){if(console.log(t),"qa_new_content"===(t=JSON.parse(t.data)).msg_type||"qa_withdraw_content"===t.msg_type){try{j.setFilterMsg("socket_listening_temp_log"),j.info({msg:t})}catch(e){j.setFilterMsg("socket_listening_temp_log_error"),j.info({error:e})}e.checkIsLastMessageInScrollView().then((function(t){e.ajaxQA({noScroll:!t,isFromAppendContent:!0,hasReachedBottom:t})}))}"special_service_transfer_assistant"===t.msg_type&&e.setData({show_medicine_sale:!0})}))},onShareAppMessage:function(){var e="春雨医生问答分享";this.data.contents[0]&&this.data.contents[0].content[0]&&(e="春雨医生问答分享：".concat(this.data.contents[0].content[0].text));return e=e.replace(/(<([^>]+)>)/gi,""),{path:"/pages/qa_im/index?problem_id=".concat(this.data.problem_id,"&from=share&entrance_type=from_mini_share"),title:e,imageUrl:"https://staff.chunyu.mobi/@/media/images/2018/10/11/6a93/5ddfa63cb25e_w422_h338_.png"}},linkToRecDocList:function(){var e=this.data.problem_id;wx.navigateTo({url:"../rec_doc_list/index?from_type=1&problem_id="+e})},setPlayOrNot:function(){this.setData({playOrNot:!1})},uploadVoice:function(e){var t=this;t.data.ifSendVoice&&wx.request({url:I,method:"GET",data:{from_wx_mini:1},header:{Cookie:m.globalData.sessionid},success:function(a){var o=a.data.token;t.uploadFile(e,o)},fail:function(){}})},uploadFile:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio",i=this;console.error("upload 123123"),"video"==a&&(this.data.ready_video_list=this.data.ready_video_list.filter((function(e){e.content.file_url})),this.data.ready_video_list.push({type:"p",problem_id:i.data.problem_id,content:[{file_url:e,size:i.data.video_size,duration:i.data.video_time,type:"video",status:!1===t?"fail":"sending"}]}),this.setData({contents:[].concat(o(i.data.clearContents),o(i.data.ready_video_list))})),0!=t&&wx.uploadFile({url:"https://upload.qbox.me/",filePath:e,name:"file",formData:{token:t},success:function(t){if((t=JSON.parse(t.data)).success){var o={partner:i.data.partner,problem_id:i.data.problem_id,content:JSON.stringify([{file:t.img_url,type:a}])};"video"==a&&(o={partner:i.data.partner,problem_id:i.data.problem_id,content:JSON.stringify([{type:"video",tempPath:e,cover_image:"".concat(t.img_url,"?vframe/jpg/offset/1"),duration:i.data.video_time,file:t.img_url,size:"".concat(i.data.video_size,"MB")}])}),i.sendQuestion(o)}},fail:function(){console.error("发送失败")}})},startRecordVoice:function(e){var t=this,a=0,o=e.touches[0].clientX,i=e.touches[0].clientY,n=setInterval((function(){(a+=1)<=60?t.setData({record_time:a}):(wx.stopRecord(),t.setData({ifSendVoice:!0,record_time:0}),clearInterval(n))}),1e3);t.setData({bg:"#1da95b",audioTip_hidden:!1,audio_text:"松开结束",audio_timer:n,sxpoint:o,sypoint:i}),wx.startRecord({success:function(e){var o=e.tempFilePath;a<=4?wx.showToast({title:"语音太短，请您多说几句"}):t.uploadVoice(o)},fail:function(){wx.showToast({title:"录音失败"})}})},stopRecordVoice:function(e){var t=this.data.audio_timer,a=this.data.sxpoint,o=this.data.sypoint,i=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,s=Math.abs(i-a),r=Math.abs(n-o);s>60||r>60?this.setData({ifSendVoice:!1}):this.setData({ifSendVoice:!0}),this.setData({bg:"#11bd4b",audioTipBg:"#11bd4b",audioTip_hidden:!0,audio_text:"按住说话",audioTipText:"手指上划，取消发送",record_time:0}),clearInterval(t),wx.stopRecord()},cancelRecordVoice:function(e){var t=this.data.sxpoint,a=this.data.sypoint,o=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,n=Math.abs(o-t),s=Math.abs(i-a);n>60||s>60?this.setData({bg:"#e35353",audioTipBg:"#e35353",audioTipText:"手指松开，取消发送"}):this.setData({bg:"#11bd4b",audioTipBg:"#11bd4b",audioTipText:"手指上划，取消发送"})},hideToast:function(){this.setData({toast_hidden:!0})},toggleFuncArea:function(){var e=this.data.func_hidden,t=this.data.icon_selected,a=parseInt(this.data.paddingBottom),o={func_hidden:!e,audio_hidden:!0,paddingBottom:100==a||530==a?340:100,icon_selected:1==t?-1:1};"ios"==this.data.platform&&(o.footerBottom=0),this.setData(o)},generalEventBubbleCatcher:function(e){this.data.func_hidden||this.toggleFuncArea(),this.resetFloatingDialog()},resetFloatingDialog:function(){this.setData({isShowMsgOperationDialog:!1,currentShowingTranslateMenuId:""})},toggleAudioFunc:function(){var e=this.data.audio_hidden,t=this.data.icon_selected,a=parseInt(this.data.paddingBottom),o={audio_hidden:!e,func_hidden:!0,paddingBottom:100==a||340==a?530:100,icon_selected:0==t?-1:0};"ios"==this.data.platform&&(o.footerBottom=0),this.setData(o)},getFromPage:function(){return 1===Number(this.data.onloadOptions.output)&&"weixin"===this.data.onloadOptions.partner?"seo_page":this.data.onloadOptions.from},ajaxQA:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(!this.data.isAjaxQaPending){var o=this,i=t.noScroll||!1,n=t.isFromAppendContent||!1,r=t.manual||0,l=t.isInitiating||!1,d=t.hasReachedBottom||!1,u=this.getFromPage(),p="LAST_POSITION_QA_".concat(this.data.problem_id),_=o.data.sessionid,f=o.data.partner,g=o.data.problem_id,w=s({from_wx_mini:1,partner:f,problem_id:g,add_profile_card:1,from:u,is_new_version:1,app:"weixin_mini",version:c.productionVersion,last_position:wx.getStorageSync(p)||"",manual:r},("seo_page"===u||"similar_problem"===u)&&{from_scene:"seo_page"});m.globalData.activityPartner&&delete w.from_wx_mini;var b=wx.getStorageSync("open_id")||"",v=wx.getStorageSync("device_id")||"",x=b||v;this.data.isAjaxQaPending=!0,wx.request({url:D+"?device_id="+x,method:"GET",header:{Cookie:_},data:w,success:function(s){var c,u,_;if(e.data.isAjaxQaPending=!1,400!==s.status&&(0,h.default)({id:"qa_message_stream",hasPassed:0===s.data.error,errorMsg:"问题ID：".concat(g),extraInfo:{problem_id:g}}),0===s.data.error){if(s=s.data,e.data.reselectClinicInfo.shouldAppendClinicShow||e.setReselectClinic(s),e.setData({shouldListenToScrollElementInView:!!s.msg_read_info.not_read_count,footer:s.footer}),o.setData({userIdInfo:s.user_id_2_info,msgReadInfo:s.msg_read_info,isRefund:"r"===s.problem_detail.pay_status}),s.bottom&&s.bottom.length&&"ask_doctor"===s.bottom[0].type&&o.setData({buttonGroupRenderData:s.bottom[0]},(function(){o.getElementRec(".bottom-bottom").then((function(e){o.setData({bottomGroupHeight:e.height})})).catch((function(){}))})),t&&s.contents&&s.contents[0]&&s.contents[0].problem_id){var f,w,b,v,x={app:t&&"app"==t.from?"app":"weixin_mini",page_readable_name:"QA 详情页",problem_id:s.contents[0].problem_id};if(0===Object.keys(s.doctor_info).length)m.sensors.track("PageView",{app:x.app,page_readable_name:x.page_readable_name,problem_id:x.problem_id,first_department:"",second_department:"",is_show:"ai_chat"===(null===(f=e.data.buttonGroupRenderData.extra_type_info)||void 0===f||null===(w=f.cy_redirect)||void 0===w?void 0:w.target_type)});else m.sensors.track("PageView",{app:x.app,page_readable_name:x.page_readable_name,problem_id:x.problem_id,first_department:String(s.doctor_info.first_clinic_name),second_department:String(s.doctor_info.second_clinic_name)||String(s.doctor_info.first_clinic_name),is_show:"ai_chat"===(null===(b=e.data.buttonGroupRenderData.extra_type_info)||void 0===b||null===(v=b.cy_redirect)||void 0===v?void 0:v.target_type)})}if(null!==(c=s.pos_2_ads_info)&&void 0!==c&&c.footer&&o.setData({footer_ad:s.pos_2_ads_info.footer}),null!==(u=s.pos_2_ads_info)&&void 0!==u&&null!==(_=u.qa_toast)&&void 0!==_&&_.length)o.setData({show_popup:!0,qa_toast:s.pos_2_ads_info.qa_toast[0]});else{if(!0===o.data.show_popup)return;o.setData({show_popup:!1,qa_toast:{}})}var T=[];s.contents.forEach((function(e,t){e.random_id=Math.random().toString(36).substr(2,15),e.uniqueId=0===e.id?"".concat(e.created_time_ms):"".concat(e.id,"-").concat(e.sub_content_idx),e.content.forEach((function(t){t.random_id=Math.random().toString(36).substr(2,15),t.uniqueId=0===e.id?"".concat(e.created_time_ms,"_").concat(t):"".concat(e.id,"-").concat(e.sub_content_idx,"_sub")})),"s"==e.type&&"notice_user"==e.content[0].type&&e.content[0].text&&(T[t]=e.content[0].text,o.setData({noticeUserList:T}))})),o.setBottomButtonInfo(s),o.setData({guide:s.guide});var y=s.summary_info||{},D=s.problem_detail;o.setData({summary_info:y||!1,problem_detail:D}),o.updateContent(s);var S=(s.header||[]).filter((function(e){return"disclaimer"===e.type&&e.text}));if(o.setData({alert_info:s.alert_info,self:s.self,header:s.header,visitPageName:s.self?"个人QA详情页":"他人QA详情页"}),o.data.qaStorageKey="AUDIO_".concat(o.data.problem_id,"_").concat(o.data.self?"is_self":"not_self"),o.data.trackIndicator){var C,k;console.log(s);var I={problem_id_str:o.data.problem_id,app:"weixin_mini",page_readable_name:"QA详情页",status:s.problem_detail.click_status,service_type:s.problem_detail.is_to_doc?"定向图文":"众包图文",from_type:o.data.currentEntranceType.value,first_department:String(s.doctor_info.first_clinic_name),second_department:String(s.doctor_info.second_clinic_name)||String(s.doctor_info.first_clinic_name),is_show:"ai_chat"===(null===(C=o.data.buttonGroupRenderData.extra_type_info)||void 0===C||null===(k=C.cy_redirect)||void 0===k?void 0:k.target_type)};console.log(I),m.sensors.track("PageView",I),o.data.trackIndicator=!1}o.processRecommendDoctorAlertNew(),o.processMultipleAskDialog(s),o.processMultipleAskIndicatorBar(),o.setData({disclaimerList:S}),(1===r||!wx.getStorageSync(p)||"0,0"===wx.getStorageSync(p)&&o.data.self)&&wx.setStorageSync("LAST_POSITION_QA_".concat(o.data.problem_id),s.msg_read_info.last_position),n&&(d?e.setData({"bottomNewMessageInfo.shouldShow":!1,"bottomNewMessageInfo.count":0,"bottomNewMessageInfo.firstPosition":s.msg_read_info.first_position}):(m.sensors.track("CyC_QATagShow",{app:"weixin_mini",page_readable_name:"QA详情页",tagtype:"底部新消息提示"}),e.setData({"bottomNewMessageInfo.shouldShow":s.msg_read_info.not_read_count>0,"bottomNewMessageInfo.count":s.msg_read_info.not_read_count,"bottomNewMessageInfo.firstPosition":s.msg_read_info.first_position}))),!i&&o.data.self&&(o.scrollToBottom(),setTimeout((function(){if(l){var t=s.msg_read_info.first_position;if(t){var a="#single".concat(t.replace(",","-"));console.log(a),e.checkElementInScrollView(a).then((function(a){a?e.setData({"topNewMessageInfo.shouldShow":!1,"topNewMessageInfo.count":0,"topNewMessageInfo.firstPosition":t}):(m.sensors.track("CyC_QATagShow",{app:"weixin_mini",page_readable_name:"QA详情页",tagtype:"顶部新消息提示"}),e.setData({"topNewMessageInfo.shouldShow":s.msg_read_info.not_read_count>0,"topNewMessageInfo.count":s.msg_read_info.not_read_count,"topNewMessageInfo.firstPosition":s.msg_read_info.first_position}))})).catch((function(e){console.log(e)}))}}}),1e3)),o.generateAudioMapNew(),a&&"function"==typeof a&&a()}},fail:function(){e.data.isAjaxQaPending=!1}})}},setBottomButtonInfo:function(e){var t=this;console.log(e),e.bottom&&e.bottom.length&&"ask_doctor"===e.bottom[0].type&&this.setData({buttonGroupRenderData:e.bottom[0]},(function(){t.getElementRec(".bottom-bottom").then((function(e){t.setData({bottomGroupHeight:e.height})})).catch((function(){}))})),e.doctor_info&&e.doctor_info.price&&this.setData({"bottom_info_list.price":e.doctor_info.price,"bottom_info_list.graph":!0});var o=e.bottom[0]?e.bottom[0].type:"none",i=["edit","refunded","assess","reward","re_checkup","ask_doctor","doctor_info","phone_closed"],n=i.filter((function(e){return o===e}));n.length?i.forEach((function(e){console.log(e);var o="bottom_info_list."+e;if(n[0]===e){var i=a({},o,!0);t.setData(i)}else{var s=a({},o,!1);t.setData(s)}})):this.setData({"bottom_info_list.doctor_info":!0})},setReselectClinic:function(e){var t=this,a=e.header.filter((function(e){return"clinic"===e.type}))[0];a?(0===a.change_clinic_seconds&&this.setData({"reselectClinicInfo.change_clinic_seconds":0}),this.data.reselectClinicInfo.isFirstInitiating&&(this.setData({"reselectClinicInfo.change_clinic_seconds":a.change_clinic_seconds,"reselectClinicInfo.isFirstInitiating":!1}),this.data.reselectClinicInfo.countDownId=setInterval((function(){t.data.reselectClinicInfo.change_clinic_seconds>0&&t.setData({"reselectClinicInfo.change_clinic_seconds":t.data.reselectClinicInfo.change_clinic_seconds-1})}),1e3)),this.setData({"reselectClinicInfo.expand_clinic_list":a.expand_clinic_list,"reselectClinicInfo.indicatingText":a.text,"reselectClinicInfo.currentClinicNo":e.problem_detail.second_class_clinic_no||e.problem_detail.clinic_no||""}),a.expand_clinic_list.length>0&&m.sensors.track("CyC_QATagShow",{app:"weixin_mini",page_readable_name:"QA详情页",tagtype:"追加科室",problem_id_str:this.data.problem_id})):this.setData({"reselectClinicInfo.expand_clinic_list":[],"reselectClinicInfo.change_clinic_seconds":0})},processRecommendDoctorAlertNew:function(){var e=this,t=this.data.alert_info,a=wx.getStorageSync(this.data.problem_id);t.length&&"waiting_multiple_ask"===t[0].type?(wx.setStorageSync(this.data.problem_id,!0),this.generateMultipleAskDialog("waiting_multiple_ask"),m.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"焦急等待弹窗"})):t.length&&"recommend_doctor"===t[0].type&&!a?(m.sensors.track("ActivityPOPView",{pop_title:" 首问重选医生"}),wx.showModal({title:t[0].title,content:t[0].content,cancelText:"继续等待",confirmText:"查看推荐",success:function(t){m.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"焦急等待弹窗"}),t.confirm&&(wx.setStorageSync(e.data.problem_id,!0),e.setData({shouldBottomRecommendDoctorShow:!0}),m.sensors.track("AppClick",{app:"weixin_mini",click_position:"查看为我推荐的医生",page_readable_name:"焦急等待弹窗"}),wx.navigateTo({url:"/pages/re_select_doc/index?problem_id=".concat(e.data.problem_id,"&from_type=waiting_recommend")})),t.cancel&&(wx.setStorageSync(e.data.problem_id,!0),m.sensors.track("AppClick",{app:"weixin_mini",click_position:"继续等待",page_readable_name:"焦急等待弹窗"}),e.setData({shouldBottomRecommendDoctorShow:!0}))}})):0===t.length?(m.sensors.track("ActivityPOPView",{pop_title:" 重选过程首问医生回复"}),this.setData({shouldBottomRecommendDoctorShow:!1})):t.length&&"recommend_doctor"===t[0].type&&a&&this.setData({shouldBottomRecommendDoctorShow:!0})},processMultipleAskDialog:function(e){e.trigger_recommend&&this.generateMultipleAskDialog(e.trigger_recommend_type)},processMultipleAskIndicatorBar:function(){var e=this;this.data.header.forEach((function(t){"multiple_ask"===t.type&&e.setData({multiple_ask:t,shouldMultipleAskIndicatorShow:!0})}))},generateMultipleAskDialog:function(e){var t=this;wx.request({url:O,header:{Cookie:m.globalData.sessionid},data:{problem_id:this.data.problem_id,recommend_type:e,partner:"chunyu_wap_mini"},success:function(a){if(0===a.data.error_code){var o=a.data,i=o.doctors,n=o.problem_info,s=o.title,r=o.desc,c=o.recommend_id,l=o.service_list,d=o.to_clinic_services;d&&d.forEach((function(e){e.is_selected=Boolean(e.default_select)})),t.setData({multipleAskInfo:{doctors:i,problem_info:n,title:s,desc:r,type:e,recommend_id:c,service_list:l},toClinicServices:d,shouldMultipleAskDialogShow:!0})}}})},scrollToBottom:function(){console.log("scrolling"),this.setData({targetScrollAnchor:"bottom-anchor"})},updateContent:function(e){var t=this,a=this,i=e.contents.map((function(e){if(e.content[0].text&&"process_notice_user"!==e.content[0].type){var t=/<a\b[^>]+\bhref="([^"]*)"[^>]*>[\s\S]*?<\/a>/;t.test(e.content[0].text)&&(e.content[0].jump_url=t.exec(e.content[0].text)[1]),"link_notice_user"===e.content[0].type||e.content[0].text.includes("wx-mini-bridge")||(e.content[0].text=e.content[0].text.replace(/<.*?>/gi,""))}return e}));if(e.contents.length){e.contents.forEach((function(e){e.content.forEach((function(t){if("audio"==t.type)t.original_duration=t.duration,t.duration=Math.floor(t.duration/1e3),"d"===e.type&&(t.isUnread=!0);else if("video"==t.type){try{a.data.ready_video_list=a.data.ready_video_list.filter((function(e){return e.content[0].file_url!=t.tempPath}))}catch(e){console.log(e)}try{t.duration=t.duration.toString().padStart(4,"0:0")}catch(e){j.error("padStart error",{currentDuration:t.duration})}}}))})),a.data.clearContents=i;var n={contents:[].concat(o(i),o(a.data.ready_video_list))};e.doctor_info&&(n.doctor_info=e.doctor_info),e.problem_detail&&(n.problem_detail=e.problem_detail),a.setData(n)}else 1===e.error&&a.setData({error_msg:e.error_msg});this.setPageTitle(),this.data.isFirstTimeRenderContent&&(this.data.isFirstTimeRenderContent=!1,this.getElementRec(".message-main-container").then((function(e){e.height>d.QA_CONTENTS_MAX_HEIGHT?(console.log("contents reach max height"),t.setData({shouldLimitMessageMainContainerHeight:!0}),t.checkShouldLimitQaContentHeight()):console.log("contents not reach max height")})))},getElementRec:function(e){return new Promise((function(t,a){var o=wx.createSelectorQuery();o.select(e).boundingClientRect(),o.exec((function(e){return e[0]?t(e[0]):a("boundingClientRect fail")}))}))},getElementViewport:function(e){wx.createSelectorQuery().selectViewport(e).scrollOffset((function(e){console.log(e)})).exec()},checkShouldCollapseProDetail:function(){var e=this;this.getElementRec(".pro-detail").then((function(t){t.height<90&&e.setData({shouldProDetailHide:!1,isCurrentProDetailHide:!1})})).catch((function(e){console.log(e)}))},hasDoctorReplay:function(e){if(e&&e.contents)for(var t=e.contents,a=0,o=t.length;a<o;a++)if("d"===t[a].type)return!0;return!1},questionInput:function(e){var t=e.detail.value;this.setData({newQuestionText:t,hasInputed:""!=t})},playVideo:function(e){var t=encodeURIComponent(e.currentTarget.dataset.video);wx.navigateTo({url:"../video_play/index?video_src=".concat(t)})},getTokenSend:function(e){var t=e.tempFilePath,a=e.size,o=e.duration,i=this;i.data.video_size=/\./.test(a)?a:(a/1024/1024).toFixed(2),i.data.video_time=Math.round(o),wx.request({url:I,method:"GET",data:{from_wx_mini:1},header:{Cookie:m.globalData.sessionid},success:function(e){var a=e.data.token;i.uploadFile(t,a,"video")},fail:function(){wx.showToast({title:"网络断开",icon:"none",duration:5e3}),i.uploadFile(t,!1,"video"),console.error("get token error")}})},videoResend:function(e){var t=e.currentTarget.dataset,a=t.tempPath,o=t.size,i=t.time;this.getTokenSend({tempFilePath:a,size:o,duration:i})},sel_video:function(){var e=this;wx.chooseVideo({sourceType:["camera"],maxDuration:30,camera:["front","back"],compressed:!1,success:function(t){console.error({res:t});var a=t.tempFilePath;e.getTokenSend({tempFilePath:a,size:t.size,duration:t.duration})}})},selImageOrVideo:function(){var e=this;U({count:9,mediaType:["image","video"],maxDuration:30}).then((function(t){var a,o=[];t.forEach((function(e,t){"image"===e.fileType?o.push({file:e.fileUrl,type:"image"}):"video"===e.fileType&&o.push({type:"video",tempPath:e.tempFilePath,cover_image:"".concat(e.fileUrl,"?vframe/jpg/offset/1"),duration:Math.round(e.duration),file:e.fileUrl,size:"".concat((e.size/1024/1024).toFixed(2),"MB")})})),a={partner:e.data.partner,problem_id:e.data.problem_id,content:JSON.stringify(o)},e.sendQuestion(a)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errMsg;"format error"===t&&wx.showToast({title:"视频格式不正确，请上传mp4、mov格式的视频！",icon:"none",duration:2e3}),"duration error"===t&&wx.showToast({title:"请上传30秒以内的视频！",icon:"none",duration:2e3})}))},previewImg:function(e){var t=e.currentTarget.dataset.src,a=[];a.push(t),wx.previewImage({current:t,urls:a})},deleteQA:function(){var e={from_wx_mini:1,partner:m.globalData.partner,problem_id:this.data.problem_id};wx.showModal({title:"删除该问诊记录？",content:"删除将无法恢复",success:function(t){t.confirm&&wx.request({url:k,data:b(e),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:m.globalData.sessionid},success:function(){wx.showToast({title:"删除成功!",success:function(){wx.switchTab({url:"../index/index"})}})},fail:function(){}})}})},refundPrice:function(){var e=this;m.sensors.track("AppClick",{app:"weixin_mini",click_position:"退款",page_readable_name:"QA详情页",service_type:this.data.problem_detail.is_to_doc?"定向图文":"众包图文"}),this.data.problem_detail.is_to_doc?wx.navigateTo({url:"/pages/re_select_doc/index?problem_id=".concat(this.data.problem_id,"&from_type=user_reselect")}):wx.showModal({title:"退款",content:"当前医生资源紧张，退款后需要重新排队，是否确认退款？",cancelText:"我再等等",confirmText:"坚持退款",success:function(t){if(t.confirm){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"继续退款",page_readable_name:"QA退款拦截弹窗"});var a=e.data.problem_id,o=e.data.partner||m.globalData.partner,i={problem_id:a,partner:o,from_wx_mini:1,is_json:1};wx.request({url:A,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:m.globalData.sessionid},method:"POST",data:b(i),success:function(){wx.navigateTo({url:"/module_a/pages/re_buy_page/re_buy_page?problem_id=".concat(a,"&partner=").concat(o,"&scene=paid_clinic")})},fail:function(){wx.showToast({title:"申请退款失败",icon:"loading"})}})}else m.sensors.track("AppClick",{app:"weixin_mini",click_position:"我再等等",page_readable_name:"QA退款拦截弹窗"})}})},requestMedicine:function(){var e={app:"weixin_mini",from_wx_mini:1,partner:this.data.partner,problem_id:this.data.problem_id,content:JSON.stringify([{type:"apply_prescription"}])};m.sensors.track("AppClick",{app:"weixin_mini",click_position:"申请开药",click_position_value:"申请开药"}),this.setData({footerBottom:0}),this.sendQuestion(e)},sendText:function(){if(this.data.newQuestionText.length){var e=[{text:this.data.newQuestionText,type:"text"}];this.data.replyArea.shouldShow&&(e[0].reference=Object.assign({},{sub_content_idx:this.data.replyArea.subContentIdx,id:this.data.replyArea.id})),console.log(e);var t={from_wx_mini:1,partner:this.data.partner,problem_id:this.data.problem_id,content:JSON.stringify(e)};this.setData({footerBottom:0}),this.sendQuestion(t)}},sendQuestion:function(e){var t=this;wx.request({url:C,method:"POST",data:b(e),header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:m.globalData.sessionid},success:function(e){t.setData({newQuestionText:""}),t.clearReplyInfo(),0===e.data.error&&t.ajaxQA()}})},resetFooter:function(){var e={icon_selected:-1,paddingBottom:100,func_hidden:!0,audio_hidden:!0};"ios"==this.data.platform&&(e.footerBottom=0),this.setData(e)},jumpSendHeart:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"底部送心意",page_readable_name:"QA详情页"});var e=this.data.doctor_info;wx.navigateTo({url:"../send_heart/index?id="+e.id+"&name="+e.name+"&img="+e.image})},jumpAd:function(e){var t=e.currentTarget.dataset.url,a=e.currentTarget.dataset.btnType;if(t){t.startsWith("/pages/")?wx.navigateTo({url:t,fail:function(e){e.errMsg.match(/can not navigateTo a tabbar page/)&&wx.switchTab({url:t})}}):wx.navigateTo({url:"/pages/h5_webview/index?url="+t});var o=this.data.problem_detail;T("ActivityClick",{activity_name:"小程序广告位点击",problem_id_str:o.id,platform_source:m.globalData.partner,souce_type:"QA详情页",first_department:o.clinic_name,second_department:o.second_class_clinic_no,btn_type:a})}},jumpH5:function(e){var t=e.currentTarget.dataset.url;t&&(t=encodeURIComponent(t),wx.navigateTo({url:"../h5_webview/index?url="+t}))},ad_Jump:function(e){var t=e.currentTarget.dataset.onetype,a=e.currentTarget.dataset.weixin,o=e.currentTarget.dataset.url,i=e.currentTarget.dataset.button,n=e.currentTarget.dataset.adTitle,s=e.currentTarget.dataset.adId;"true"==i?(m.sensors.track("AdClick",{app:this.data.options&&"app"===this.data.options.from?"0":"weixin_mini",ad_position:"ADQA命中问题底部banner点击",ad_title:n,ad_id:s}),"weixin_mini"===t?wx.navigateTo({url:a}):wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(o))})):(m.sensors.track("AdClick",{app:this.data.options&&"app"===this.data.options.from?"0":"weixin_mini",ad_position:"ADQA命中问题文字链广告点击",ad_title:n,ad_id:s}),"weixin_mini"===t?wx.navigateTo({url:a}):wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(o))}))},jumpDocTopic:function(e){var t=e.currentTarget.dataset.id;wx.navigateTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(t,"&topic_type=topic&from_visit_page=").concat(this.data.visitPageName)})},jumpHealthRecord:function(e){var t=e.currentTarget.dataset.url;t&&wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t))})},jumpSummary:function(e){var t=encodeURIComponent(e.currentTarget.dataset.url);t&&wx.navigateTo({url:"../summary/index?url="+t})},selectImgAns:function(e){this.setData({jump_url:e.currentTarget.dataset.url,img_display:"show",free_display:"hide"})},selectFreeAns:function(e){this.setData({jump_url:e.currentTarget.dataset.url,img_display:"hide",free_display:"show"})},answerNew:function(){var e,t=this.data.doctor_info;-1==t.price?(this.setData({no_img_ans:"show",has_img_ans:"hide",display:"show",free_display:"show"}),e="../inquery/inquery?from_page=fast_qa","立即咨询"==this.data.btn_text?wx.navigateTo({url:e}):this.setData({btn_text:"立即咨询",display:"show"})):(this.setData({no_img_ans:"hide",has_img_ans:"show",display:"show"}),e=this.data.jump_url?this.data.jump_url:"../payment/index?name=".concat(t.name,"&price=").concat(t.price,"&hospital=").concat(t.hospital_name,"&id=").concat(t.id,"&title=").concat(t.title,"&mark=finddoc"),"立即咨询"==this.data.btn_text?wx.navigateTo({url:e}):this.setData({btn_text:"立即咨询",display:"show"}))},consoleAnswer:function(){this.setData({btn_text:"我要问医生",display:"hide",no_img_ans:"hide",has_img_ans:"hide"})},onChangeClinic:function(){this.timer.pause()},onConfirmClinic:function(){var e=this;e.timer.pause(),e.setData({showClinicAdjustment:!1}),e.sendClinicChangeRequest({action:"change_abort",success:function(){e.sendSystemClinicChangeRequest()}})},pickerClinicSelected:function(e){this.timer.pause(),this.setData({showClinicAdjustment:!1}),this.sendClinicChangeRequest({action:"change_confirm",fail:function(e){wx.showModal({content:e,showCancel:!1})}})},pickerClinicCancel:function(e){this.timer.pause(),this.setData({showClinicAdjustment:!1}),this.sendClinicChangeRequest({action:"change_abort"})},clinicColumnChange:function(e){if(0===e.detail.column){var t=e.detail.value;this.setData({multiArray:[J,J[t].children],multiIndex:[t,0]})}},getClinic:function(){var e=this,t=e.data.partner;y({url:"/cooperation/wap/clinic_no_list/?partner="+t,success:function(t){var a=t.data,o=e.data.clinicNo,i=e.data.clinicSecondNo;if(Array.isArray(a)){var n=(J=a.map((function(e){return{id:e.clinic_no,name:e.clinic_name,children:(e.second_class_clinics||[]).map((function(e){return{id:e.clinic_no,name:e.clinic_name}}))}}))).findIndex((function(e){return e.id===o})),s=J[n=-1===n?0:n].children,r=s.findIndex((function(e){return e.id===i}));r=-1===r?0:r,e.setData({multiArray:[J,s],multiIndex:[n,r]}),e.showChooseClinic()}}})},showChooseClinic:function(){var e=this;e.setData({showClinicAdjustment:!0}),e.timer=new v(e.data.timerCount,1e3,(function(){e.sendClinicChangeRequest({action:"change_abort",success:function(){e.sendSystemClinicChangeRequest()}}),e.setData({showClinicAdjustment:!1})}),(function(t){e.setData({timerCount:t})})),e.timer.start()},sendClinicChangeRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,a=void 0===t?"change_start":t,o=e.success,i=void 0===o?function(){}:o,n=e.fail,s=void 0===n?function(){}:n,r=this.data.multiIndex,c=J[r[0]],l=c&&(c.children[r[1]].id||c.id);y({url:"/cooperation/wap/problem/".concat(this.data.problem_id,"/user_change_clinic/"),method:"POST",data:{partner:this.data.partner,action:a,to_clinic_no:l},success:function(e){var t=e.data||{};t.success?i():s(t.error_msg)},complete:function(){wx.setNavigationBarTitle({title:"问题详情"})}})},sendSystemClinicChangeRequest:function(){y({url:"/cooperation/wap/problem/".concat(this.data.problem_id,"/confirm_clinic/"),method:"POST",data:{partner:this.data.partner},complete:function(){wx.setNavigationBarTitle({title:"问题详情"})}})},doPointAsk:function(){T("AppClick",{click_position:"qa详情页-立即咨询",platform_source:"weixin_mini"})},doPointAssess:function(e){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"图文评价",page_readable_name:"QA详情页",status:"已关闭",problem_id_str:this.data.problem_id}),this.setData({shouldGeneralPageContainerShow:!0,"feedbackInfo.shouldFeedbackShow":!0,"feedbackInfo.fromType":e.currentTarget.dataset.fromType||"QaBottom"})},doFollowDoctor:function(){var e=this,t=e.data.doctor_info.id,a=e.data.has_followed,o={from_wx_mini:1,partner:m.globalData.partner,follow:a?0:1};!a&&wx.navigateTo({url:"../doc_mainpage/index?doc_id=".concat(t,"&animation=").concat(a?"unfollow":"follow","&from_visit_page=").concat(this.data.visitPageName)});!a&&T("AppClick",{click_position:"qa详情页-关注医生",platform_source:"weixin_mini"}),wx.request({url:M+t+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:m.globalData.sessionid},data:b(o),success:function(){e.setData({has_followed:!a})},fail:function(){}})},openMsgOperationDialog:function(e){console.log(e),console.log("long pressed"),this.setData({longPressedMessageId:e.currentTarget.dataset.item.random_id,nowTime:Date.parse(new Date),isShowMsgOperationDialog:!0})},savePhoto:(t=n(i.default.mark((function e(t){var a,o,n,s,r,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t.detail.messageInfo||{},o=a.content,s=(n=void 0===o?[]:o).length&&n[0]||{},r=s.type,c=s.file,"video"!==r){e.next=10;break}return e.next=8,G(c);case 8:e.next=13;break;case 10:if("image"!==r){e.next=13;break}return e.next=13,V(c);case 13:this.setData({isShowMsgOperationDialog:!1}),l={app:"weixin_mini",click_position:"保存至相册",page_readable_name:"QA详情页"},m.sensors.track("AppClick",l),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("savePhoto",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(e){return t.apply(this,arguments)}),copy:function(e){var t=(e.detail.messageInfo||{}).content,a=void 0===t?[]:t,o=a.length&&a[0].text;o=this.getSimpleText(o),console.log("copyText",o),wx.setClipboardData({data:o||"",success:function(e){wx.getClipboardData({success:function(e){console.log(e.data)}})}}),this.setData({isShowMsgOperationDialog:!1})},draw:function(e){var t=this,a=e.detail.messageInfo||{},o=a.content,i=void 0===o?[]:o,n=a.id,s=i.length&&i[0].action_info||{};if("forbidden"===s.status)return wx.showToast({title:s.toast,icon:"none",duration:1500}),void t.setData({isShowMsgOperationDialog:!1});Date.parse(new Date)-t.data.nowTime>12e4?wx.showToast({title:"超2分钟消息不能撤回",icon:"none",duration:1500}):wx.request({url:N,header:{"Content-Type":"application/json",Cookie:m.globalData.sessionid},data:{partner:m.globalData.partner,problem_id:t.data.problem_id,content_id:n,idx:s.idx},success:function(e){t.ajaxQA(),""!==e.data.error_msg&&wx.showToast({title:e?e.data.error_msg:"撤回失败",icon:"none",duration:1500})}})},reEdit:function(e){var t=e.currentTarget.dataset.item;t.action_info&&Date.parse(new Date)<t.action_info.expire_time_ms?(t.reference&&t.reference.id&&this.processReplyToInputArea(t.reference),this.setData({hasInputed:!0,newQuestionText:this.data.newQuestionText+=t.action_info.origin})):this.ajaxQA()},wxParseTagATap:function(e){var t=e.currentTarget.dataset.src;t&&(t=encodeURIComponent(t),wx.navigateTo({url:"../h5_webview/index?url="+t}))},onFollowSuccess:function(){this.setData({has_followed:!0})},showAllContent:function(){this.data.isSeoPage&&m.sensors.track("AppClick",{app:"weixin_mini",page_readable_name:"QA详情页",click_position:"展开更多记录",scene_type:"SEO输出"}),this.setData({shouldLimitQaContentHeight:!1})},updateStatus:function(e){console.log(e.detail),"doctor"===e.detail.type&&this.setData({hasRecommendDoctor:e.detail.status}),"topic"===e.detail.type&&this.setData({hasRecommendTopic:e.detail.status}),this.checkShouldLimitQaContentHeight()},checkShouldLimitQaContentHeight:function(){"v2"!==this.data.pageType&&"native_search"!==this.data.pageType||!this.data.shouldLimitMessageMainContainerHeight||(console.log(this.data.pageType),console.log(this.data.shouldLimitMessageMainContainerHeight),this.setData({shouldLimitQaContentHeight:!0}))},tapOnInput:function(){return!1},beforeChoosePdf:function(){var e=this;wx.showModal({content:"小程序中仅支持上传微信聊天内容中的文件",confirmText:"我知道了",success:function(t){t.confirm&&e.choosePdf()}})},choosePdf:function(){var e=this;wx.chooseMessageFile({count:1,type:"file",success:function(t){if(console.log(t),t.tempFiles.length){var a=t.tempFiles[0],o=a.name,i=(Number(a.size)/1e3).toFixed();/^.+\.([pP][dD][fF])$/.test(a.path)?i<5e4?(wx.showLoading({title:"上传中..."}),z().then((function(t){W(t,a.path).then((function(t){var a=t.fileUrl;e.sendPdf(a,o,i)})).catch((function(e){wx.showToast({title:"上传失败，请稍后重试",icon:"none"})}))}))):wx.showToast({title:"上传失败，文件大小不能超过50M",icon:"none"}):wx.showToast({title:"上传失败，只能上PDF格式文件",icon:"none"})}}})},sendPdf:function(e,t,a){var o=this;wx.request({url:C,method:"POST",data:b({from_wx_mini:1,partner:this.data.partner,problem_id:this.data.problem_id,content:JSON.stringify([{type:"file",file:e,file_type:"pdf",size:"".concat(a,"KB"),file_name:t}])}),header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:m.globalData.sessionid},success:function(e){0===e.data.error?(wx.showToast({title:"上传成功"}),o.ajaxQA()):wx.showToast({title:"发送消息失败",icon:"none"})},fail:function(e){wx.showToast({title:"上传失败，请稍后重试",icon:"none"})}})},downloadFile:function(e){var t=e.detail.messageInfo.content[0];console.log(t),wx.downloadFile({url:t.file,success:function(e){wx.getFileSystemManager().saveFile({tempFilePath:e.tempFilePath,success:function(e){wx.showToast({title:"文件下载成功",icon:"none"})}})}})},previewPdf:function(e){var t=e.currentTarget.dataset.url;wx.downloadFile({url:t,success:function(e){wx.openDocument({filePath:e.tempFilePath,showMenu:!0,fileType:"pdf"})}})},onTapMultipleAskButton:function(){this.generateMultipleAskDialog("multiple_ask_guide")},onTapMultipleAskButtonFromBottomButton:function(){this.generateMultipleAskDialog("user_self_click")},handleCloseDialog:function(){this.setData({shouldMultipleAskDialogShow:!1})},onScroll:function(e){this.calculateTopHeightDisplay(e),this.calculateShouldTapToBottomShow(e),this.checkBottomNewMessageInScrollView(),this.checkTopNewMessageInScrollView()},checkTopNewMessageInScrollView:function(){var e=this;if(!(this.data.topNewMessageInfo.count<=0)&&this.data.topNewMessageInfo.firstPosition&&this.data.self&&this.data.topNewMessageInfo.shouldShow){var t="",a="",o="",i=this.data.topNewMessageInfo.firstPosition.replace(",","-"),n="#single".concat(i);this.getElementRec("#scroll-view").then((function(i){a=i.top,o=i.bottom,e.getElementRec(n).then((function(i){(t=i.top)>a-20&&t<o?(console.log("in"),e.ajaxQA({noScroll:!0,manual:1}),e.setData({"topNewMessageInfo.shouldShow":!1,"topNewMessageInfo.count":0})):console.log("out")}))}))}},calculateTopHeightDisplay:function(e){var t=this.data.currentEntranceType.value,a=this.data.entranceTypes;if(t===a.seo.value||t===a.seo_similar_problem.value||"native_search"===this.data.pageType){var o=this.data.lastScrollTop,i=e.detail.scrollTop;i>o&&i>20&&!this.data.scrollBreakPoint&&this.setData({isSeoTitleDoctorMiniCard:!0,shouldHideProDetail:!0}),this.data.lastScrollTop=i}else if([a.home_search.value,a.app_share.value,a.mini_share.value].indexOf(t)>-1){var n=this.data.lastScrollTop,s=e.detail.scrollTop;s>n&&s>20&&!this.data.scrollBreakPoint&&this.setData({isMiniCardOriginalTitleDoctor:!0})}},calculateShouldTapToBottomShow:function(e){var t=this;this.data.self&&this.getElementRec("#scroll-view").then((function(a){var o=t.data.lastScrollTop,i=e.detail.scrollTop,n=a.height;i>e.detail.scrollHeight-n-t.data.tapToBottomInfo.scrollBufferPx?t.setData({"tapToBottomInfo.shouldTapToBottomContainerShow":!1}):i<=o&&t.setData({"tapToBottomInfo.shouldTapToBottomContainerShow":!0}),t.data.lastScrollTop=i}))},onSeoTitleExpand:function(){this.setData({shouldHideProDetail:!1})},seoTitleDoctorShowMore:function(){var e=this;this.data.scrollBreakPoint=!0,this.setData({isSeoTitleDoctorMiniCard:!1,shouldHideProDetail:!1}),setTimeout((function(){e.data.scrollBreakPoint=!1}),200)},onOriginalTitleDoctorShowLess:function(){var e=this;this.data.scrollBreakPoint=!0,this.setData({isMiniCardOriginalTitleDoctor:!0}),setTimeout((function(){e.data.scrollBreakPoint=!1}),200)},originTitleDoctorShowMore:function(){this.setData({isMiniCardOriginalTitleDoctor:!1})},onClickDoctorAvatar:function(){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"医生头像",page_readable_name:"QA详情页"}),wx.navigateTo({url:"/pages/doc_mainpage/index?doc_id=".concat(this.data.doctor_info.id,"&problem_id=").concat(this.data.problem_id,"&intention=").concat(this.data.doctor_info.cy_redirect.param.intention,"&from_visit_page=").concat(this.data.visitPageName)})},onTapBottomRecommendDoctor:function(){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"绿条",page_readable_name:"焦急等待弹窗"})},getNewUserToDoc:function(){var e=this;wx.request({url:q,method:"GET",header:{"Content-Type":"application/json",Cookie:m.globalData.sessionid},data:{doctor_id:this.data.doctor_info.id},success:function(t){var a=t.data.data,o=a.is_login,i=a.is_doc_coupon_active,n=a.to_doc_user;e.setData({"buttonGroupRenderData.show_discont_badge":i&&(o&&n||!o&&e.data.dayFristVisit)})},fail:function(e){j.setFilterMsg("新用户三期"),j.error("请求地址:".concat(q," 原因:").concat(e.errMsg," 失败码:").concat(e.errno||"无"))}})},replyMessage:function(e){var t=this,a=e.detail.messageInfo;console.log(a);var o=this.data.userIdInfo[a.user_id].alias,i=function(a,i,n){t.setData({"replyArea.shouldShow":n,"replyArea.content":o+"："+i,"replyArea.type":a,"replyArea.id":e.detail.messageInfo.id,"replyArea.subContentIdx":e.detail.messageInfo.sub_content_idx,isInputFocus:!0,func_hidden:!0})};switch(a.content[0].type){case"text":i("text",a.content[0].text,!0);break;case"image":i("image","[图片]",!0);break;case"audio":i("audio","[语音]",!0);break;case"file":i("file","[文件] ".concat(a.content[0].file_name),!0);break;case"video":i("video","[视频]",!0);break;case"dicom":i("dicom","[文件] ".concat(a.content[0].file_name),!0);break;default:return}},clearReply:function(){this.setData({"replyArea.shouldShow":!1,"replyArea.content":""})},clearReplyInfo:function(){this.setData({"replyArea.shouldShow":!1,"replyArea.content":"","replyArea.type":"","replyArea.id":"","replyArea.subContentIdx":""})},scrollToReply:function(e){var t=this;this.setData({targetScrollAnchor:"single".concat(e.detail.replyId)},(function(){t.setData({currentFlickerMessageId:"single".concat(e.detail.replyId)},(function(){setTimeout((function(){t.setData({currentFlickerMessageId:""})}),1e3)}))}))},processReplyToInputArea:function(e){var t=this,a=this.data.userIdInfo[e.user_id].alias,o=function(o,i,n){t.setData({"replyArea.shouldShow":n,"replyArea.content":a+"："+i,"replyArea.type":o,"replyArea.id":e.id,"replyArea.subContentIdx":e.sub_content_idx,func_hidden:!0,isInputFocus:!0})};switch(e.content[0].type){case"text":o("text",e.content[0].text,!0);break;case"image":o("image","[图文]",!0);break;case"audio":o("audio","[语音]",!0);break;case"file":o("file","[文件] ".concat(e.content[0].file_name),!0);break;case"video":o("video","[视频]",!0);break;case"dicom":o("dicom","[文件] ".concat(e.content[0].file_name),!0);break;default:return}},onMpHtmlLinkTap:function(e){var t=e.detail.href;if(t)if(t.includes("service_history"))wx.navigateTo({url:"/pages/doctor_history_list/doctor_history_list?doctor_id=".concat(this.data.doctor_info.id,"&from_visit_page=").concat(this.data.visitPageName)});else if(t.includes("/wx-mini-bridge/")){this.data.isSeoPage&&m.sensors.track("AppClick",{app:"weixin_mini",click_position:"QA飘红",scene_type:"SEO输出",page_readable_name:"QA详情页"});var a=x("query",t);a&&wx.navigateTo({url:"/pages/home_search/index?query=".concat(a,"&from_visit_page=").concat(this.data.visitPageName,"&from_type=click_qa")})}else if(t.includes("problem_detail")){var o=JSON.parse(decodeURIComponent(t).slice(14));wx.navigateTo({url:"/pages/qa_im/index?problem_id=".concat(o.param.problem_id,"&from_visit_page=").concat(this.data.visitPageName)})}else wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t))})},previewDicom:function(e){var t=e.currentTarget.dataset.dicomData,a="/pages/dicom_view/dicom_view?file_url=".concat(encodeURIComponent(t.file),"&verify_code=").concat(t.verify_code||"");wx.navigateTo({url:a})},uploadDicom:function(){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"上传医学影像材料",page_readable_name:"QA详情页"});var e=g+"/v-m-general/dicom-upload?problem_id=".concat(this.data.problem_id,"&from_type=qa");wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})},handleAudioStart:function(e){var t=this,a=e.detail.audioId;this.data.contents.filter((function(e){return"audio"===e.content[0].type})).forEach((function(e){e.id!==a&&t.selectComponent(".audio".concat(e.id)).forcePause()}))},playAudioInOrder:function(e){var t=e.detail.audioId,a=this.data.contents.filter((function(e){return"audio"===e.content[0].type&&"d"===e.type})),o=a.findIndex((function(e){return e.id===t}));console.log(o);for(var i=o+1;i<=a.length-1;i++)if(a[i]&&a[i].id){var n=a[i].id;if(this.data.audioInfoMap[n]&&this.data.audioInfoMap[n].isUnread){this.selectComponent(".audio".concat(n)).forceStart();break}}},syncLocalAudioDataToStorage:function(){wx.setStorageSync(this.data.qaStorageKey,this.data.audioInfoMap)},setMessageRead:function(e){var t=e.detail.audioId,o="audioInfoMap.".concat(t,".isUnread");this.setData(a({},o,!1)),this.syncLocalAudioDataToStorage()},translate:function(e){var t,o=this;console.log(e);var i=e.detail.messageInfo||e.currentTarget.dataset.messageInfo,n={app:"weixin_mini",click_position:(null===(t=e.detail)||void 0===t?void 0:t.fromMessageOperator)?"长按转文字":"外露转文字",click_position_value:String(i.content[0].duration),page_readable_name:"QA详情页"};if(console.log(n),m.sensors.track("AppClick",n),!i.shouldTranslateShow){var s=function(e){if(e.confirm){var t;"d"===i.type&&o.setMessageRead({detail:{audioId:i.id}});var n="audioInfoMap.".concat(i.id,".shouldTranslateShow"),s="audioInfoMap.".concat(i.id,".translateText");o.setData((a(t={},n,!0),a(t,s,"转换中"),t)),o.syncLocalAudioDataToStorage(),o.translateAudio(i)}};this.data.shouldHideTranslateDialog?s({confirm:!0}):wx.showModal({content:"语音转文字仅支持普通话，转换结果仅供参考",showCancel:!1,success:s}),wx.setStorageSync("shouldHideTranslateDialog",!0),this.data.shouldHideTranslateDialog=!0}},showTranslateMenu:function(e){var t=e.currentTarget.dataset.menuId;this.setData({currentShowingTranslateMenuId:t})},hideTranslateContent:function(e){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"隐藏",page_readable_name:"QA详情页"});var t=e.currentTarget.dataset.audioId,o="audioInfoMap.".concat(t,".shouldTranslateShow");this.setData(a({},o,!1))},copyTranslateToClipboard:function(e){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"复制-转文字",page_readable_name:"QA详情页"});var t=this.getSimpleText(e.currentTarget.dataset.content);wx.setClipboardData({data:t})},getSimpleText:function(e){return e=(e=(e=(e=(e=e.replace(/\s*/g,"")).replace(/<[^>]+>/g,"")).replace(/↵/g,"")).replace(/[\r\n]/g,"")).replace(/&nbsp;/g,""),e=this.convertIdeogramToNormalCharacter(e)},convertIdeogramToNormalCharacter:function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,a){return t[a]}))},_getMessageIndex:function(e){return this.data.contents.findIndex((function(t){return t.id===e}))},translateAudio:function(e){var t=e.content[0].file,a=e.content[0].original_duration,o={url:Q,method:"POST",data:{url:t,duration:a,cy_sign:e.content[0].cy_sign}};this._audioTranslatePoll(o,e.id)},_audioTranslatePoll:function(e,t){var o=this,i=0,n=setInterval((function(){if((i+=1)>20){clearInterval(n);var r="audioInfoMap.".concat(t,".translateText");o.setData(a({},r,"转文字失败"))}else(0,_.default)(s(s({},e),{},{success:function(e){if(console.log(e),200!==e.statusCode){clearInterval(n);var i="audioInfoMap.".concat(t,".translateText");o.setData(a({},i,e.data.error_msg)),o.syncLocalAudioDataToStorage()}else if(e.data.error_msg||"success"!==e.data.status)"failed"===e.data.status&&(clearInterval(n),wx.showToast({title:e.data.error_msg}));else{clearInterval(n);var s="audioInfoMap.".concat(t,".translateText");o.setData(a({},s,e.data.text||"转文字失败，语音无实质内容")),o.syncLocalAudioDataToStorage()}}}))}),2e3);this.allPullIds[n]=!0},clearAllPolling:function(){Object.keys(this.allPullIds).forEach((function(e){clearInterval(e)}))},tapOnAudioContainer:function(e){var t=this,a=e.currentTarget.dataset.content;this.data.contents.filter((function(e){return"audio"===e.content[0].type})).map((function(e){return e.id})).forEach((function(e){e===a.id?t.selectComponent(".audio".concat(a.id)).togglePlay():t.selectComponent(".audio".concat(e)).forcePause()}))},generateAudioMapNew:function(){var e=this;new Date(this.data.problem_detail.created_time)>p.audioCheckPointDate&&this.setData({isNewVersionAudio:!0});var t=this.data.contents.filter((function(e){return"audio"===e.content[0].type})),o=wx.getStorageSync(this.data.qaStorageKey)||{};for(var i in t.forEach((function(t){if(!e.data.audioInfoMap[t.id]){var o,i="audioInfoMap.".concat(t.id,".isUnread"),n="audioInfoMap.".concat(t.id,".shouldTranslateShow"),s="audioInfoMap.".concat(t.id,".translateText");e.setData((a(o={},i,!0),a(o,n,!1),a(o,s,""),o))}})),o){var n="audioInfoMap.".concat(i,".isUnread");this.setData(a({},n,o[i].isUnread))}},handleClickFeedback:function(e){this.setData({"feedbackInfo.defaultValue":e.detail.value,shouldGeneralPageContainerShow:!0,"feedbackInfo.shouldFeedbackShow":!0,"feedbackInfo.fromType":"Qa是否解决入口"})},leaveGeneralPageContainer:function(){var e=this;this.setData({shouldGeneralPageContainerShow:!1}),this.ajaxQA({noScroll:!0}),setTimeout((function(){e.setData({"feedbackInfo.shouldFeedbackShow":!1,"reselectClinicInfo.shouldAppendClinicShow":!1})}),500)},handleFeedbackDetailClose:function(){this.setData({"feedbackInfo.shouldFeedbackShow":!1})},toggleClinicSelector:function(e){this.setData({"reselectClinicInfo.shouldClinicSelectorShow":e.detail.shouldShow}),e.detail.shouldShow||this.syncReselectAction("change_abort")},openClinicSelector:function(){var e=this;m.sensors.track("AppClick",{app:"weixin_mini",click_position:"重选科室",page_readable_name:"QA详情页",problem_id_str:this.data.problem_id}),this.syncReselectAction("change_start").then((function(){e.setData({"reselectClinicInfo.shouldClinicSelectorShow":!0})})).catch((function(t){wx.showToast({title:t.data.error_msg||"已有医生接诊",icon:"none"}),e.ajaxQA({noScroll:!0})}))},confirmClinic:function(e){this.data.reselectClinicInfo.reselectClinicListObj=e.detail.clinicObj,this.syncReselectAction("change_confirm")},openAppendClinicSelector:function(){m.sensors.track("AppClick",{app:"weixin_mini",click_position:"追加科室",page_readable_name:"QA详情页",problem_id_str:this.data.problem_id}),this.setData({shouldGeneralPageContainerShow:!0,"reselectClinicInfo.shouldAppendClinicShow":!0})},checkBottomNewMessageInScrollView:function(){var e=this;if(this.data.bottomNewMessageInfo.firstPosition&&this.data.self&&"c"!==this.data.problem_detail.status&&this.data.shouldListenToScrollElementInView){var t="",a="",o="",i=this.data.bottomNewMessageInfo.firstPosition.replace(",","-"),n="#single".concat(i);console.log(n),this.getElementRec("#scroll-view").then((function(i){a=i.top,o=i.bottom,e.getElementRec(n).then((function(i){(t=i.top)>a-10&&t<o?(e.ajaxQA({noScroll:!0,isFromAppendContent:!1,manual:1}),e.setData({"bottomNewMessageInfo.shouldShow":!1,"bottomNewMessageInfo.count":0})):console.log("out")}))}))}},syncReselectAction:function(e){var t=this,a="".concat(g,"/cooperation/wap/problem/").concat(this.data.problem_id,"/user_change_clinic/");return new Promise((function(o,i){({change_start:function(){(0,_.default)({url:a,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{action:e,partner:"chunyu_wap_mini"},success:function(t){return console.log(e+" success"),t.data.success?o(t):(wx.showToast({title:t.data.error_msg,icon:"none"}),i())}})},change_abort:function(){(0,_.default)({url:a,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{action:e,partner:"chunyu_wap_mini"},success:function(t){return console.log(e+" success"),t.data.success?o():(wx.showToast({title:t.data.error_msg,icon:"none"}),i())}})},change_confirm:function(){(0,_.default)({url:a,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{action:e,partner:"chunyu_wap_mini",to_clinic_no:t.data.reselectClinicInfo.reselectClinicListObj.clinic_no},success:function(a){return console.log(a),console.log(e+" success"),a.data.success?(t.ajaxQA({noScroll:!0}),o()):(wx.showToast({title:a.data.error_msg,icon:"none"}),i())}})}})[e]()}))},confirmAppendClinic:function(e){var t=this,a=e.detail.clinicList;console.log(a.map((function(e){return String(e.clinic_no)}))),(0,_.default)({url:B,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{problem_id:this.data.problem_id,clinic_no:this.data.reselectClinicInfo.currentClinicNo,type:"confirm",clinic_no_list:JSON.stringify(a.map((function(e){return String(e.clinic_no)}))),partner:"chunyu_wap_mini"},success:function(e){console.log(e),0===e.data.error_code?(t.setData({"reselectClinicInfo.shouldAppendClinicShow":!1,shouldGeneralPageContainerShow:!1}),t.ajaxQA({noScroll:!0})):(wx.showToast({title:e.data.error_msg,icon:"none"}),t.setData({"reselectClinicInfo.shouldAppendClinicShow":!1,shouldGeneralPageContainerShow:!1}),t.ajaxQA({noScroll:!0}))}})},cancelAppendClinic:function(e){var t=this,a=e.detail.clinicList;m.sensors.track("AppClick",{app:"weixin_mini",click_position:"不追加",page_readable_name:"追加相近科室",click_position_value:JSON.stringify(a.map((function(e){return String(e.clinic_no)}))),clinic:this.data.reselectClinicInfo.currentClinicNo,problem_id_str:this.data.problem_id});wx.showModal({title:"确认不追加？",content:"选择不追加，医生接诊速度可能变慢，且后续无法再次追加，确认继续操作？",success:function(e){e.confirm?(0,_.default)({url:B,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{problem_id:t.data.problem_id,clinic_no:t.data.problem_detail.second_class_clinic_no||t.data.problem_detail.clinic_no||"",type:"abort",partner:"chunyu_wap_mini"},success:function(e){console.log(e),wx.showToast({title:e.data.error_msg,icon:"none"}),t.setData({"reselectClinicInfo.shouldAppendClinicShow":!1,shouldGeneralPageContainerShow:!1})}}):m.sensors.track("AppClick",{app:"weixin_mini",click_position:"取消",page_readable_name:"确定不追加弹窗",problem_id_str:t.data.problem_id})}})},onMpHtmActionTap:function(e){var t=this;console.log(e);var a=e.currentTarget.dataset.dialog,o=e.currentTarget.dataset.clickinfo;o.show&&m.sensors.track("AppClick",s({app:"weixin_mini"},o.show));var i=function(){var a=e.currentTarget.dataset.actionIndex,o=t.data.contents[a].content[0].request_info;(0,_.default)({url:"".concat(g,"/").concat(o.url),method:o.method,data:o.data,success:function(e){t.ajaxQA({noScroll:!0}),e.data.error_msg&&wx.showToast({title:e.data.error_msg,icon:"none"})}})};a?wx.showModal({title:a.title,content:a.content,success:function(e){e.confirm?i():o.cancel&&m.sensors.track("AppClick",s({app:"weixin_mini"},o.cancel))}}):i()},goAssess:function(){this.setData({shouldGeneralPageContainerShow:!0,"feedbackInfo.shouldFeedbackShow":!0,"feedbackInfo.fromType":"guide_tip"})},scrollTopNewMessage:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"顶部新消息提示",page_readable_name:"QA详情页"});var e=this.data.topNewMessageInfo.firstPosition.replace(",","-"),t="single".concat(e);this.setData({targetScrollAnchor:t})},scrollBottomNewMessage:function(){getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"底部新消息提示",page_readable_name:"QA详情页"});var e=this.data.bottomNewMessageInfo.firstPosition.replace(",","-"),t="single".concat(e);this.setData({targetScrollAnchor:t})},setSendHeartOkInfo:function(){var e={graph:{id:this.data.problem_id,type:"graph"}};wx.setStorageSync("SEND_HEART_INFO",e.graph)},closeTapToTopIndicator:function(){this.setData({shouldTapToTopIndicatorHide:!0}),wx.setStorageSync("QA_SHOULD_TAP_TO_TOP_INDICATOR_HIDE",!0)},oneTapToBottom:function(){var e=this;getApp().sensors.track("AppClick",{app:"weixin_mini",click_position:"一键置底",page_readable_name:"QA详情页"});var t=this.data.topNewMessageInfo.firstPosition;if(console.log(t),t){var a="#single".concat(t.replace(",","-"));this.getElementRec("#scroll-view").then((function(t){var o=t.bottom;e.getElementRec(a).then((function(t){t.top>=o?(e.ajaxQA({noScroll:!0,manual:1}),e.setData({"topNewMessageInfo.shouldShow":!1,"topNewMessageInfo.count":0,targetScrollAnchor:"bottom-anchor"})):e.setData({targetScrollAnchor:"bottom-anchor"})}))}))}else this.setData({targetScrollAnchor:"bottom-anchor"})},handleScrollToLower:function(){this.setData({"tapToBottomInfo.shouldTapToBottomContainerShow":!1})},checkIsLastMessageInScrollView:function(){var e=this;return new Promise((function(t,a){var o="",i="",n="",s="";console.log("#content-bottom"),e.getElementRec("#scroll-view").then((function(r){n=r.top,s=r.bottom,e.getElementRec("#content-bottom").then((function(e){o=e.top,i=e.bottom;var a=o>n&&i<s+10;return console.log(a),t(a)})).catch((function(){return a()}))})).catch((function(){return a()}))}))},checkElementInScrollView:function(e){var t=this;return new Promise((function(a,o){var i="",n="",s="",r="";t.getElementRec("#scroll-view").then((function(c){s=c.top,r=c.bottom,t.getElementRec(e).then((function(e){return i=e.top,n=e.bottom,a(i>s&&n<r+10)})).catch((function(e){return o()}))})).catch((function(e){return o()}))}))},hideAiChatDialog:function(){m.sensors.track("AppClick",{page_readable_name:"AI问诊提示弹窗",click_position:"取消"}),this.setData({shouldAiChatShow:!1})},stopBubble:function(){return!1},startAiChat:function(e){var t=this;"new"===e.mark.type?(m.sensors.track("AppClick",{page_readable_name:"AI问诊提示弹窗",click_position:"开启新对话"}),(0,_.default)({url:E,data:{source:"problem_detail",source_id:this.data.problem_id,partner:"chunyu_wap_mini"},success:function(e){0===e.data.error_code?(t.setData({shouldAiChatShow:!1}),wx.switchTab({url:"/pages/all_service/index"}),setTimeout((function(){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.data.data.url))})}),1e3)):wx.showToast({icon:"none",title:e.data.error_msg})}})):(this.setData({shouldAiChatShow:!1}),m.sensors.track("AppClick",{page_readable_name:"AI问诊提示弹窗",click_position:"继续咨询"}),"service_list"===this.data.aiNavigateType?wx.switchTab({url:"/pages/all_service/index"}):wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(this.data.currentAiChatUrl))}))},showAiDialog:function(e){m.sensors.track("ActivityPOPView",{pop_title:"pop_title=您有正在进行中的AI问诊对话，是否开启新对话？"}),this.setData({shouldAiChatShow:!0,currentAiChatUrl:e.detail.url,aiNavigateType:e.detail.targetType})}});
},{isPage:true,isComponent:true,currentFile:'pages/qa_im/index.js'});require("pages/qa_im/index.js");$gwx_XC_193=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_193 || [];
function gz$gwx_XC_193_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_193_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_193_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_193_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([3,'im-content'])
Z([[7],[3,'scrollPosition']])
Z([[7],[3,'showPrevMore']])
Z([3,'i'])
Z([3,'content'])
Z([[7],[3,'contents']])
Z([3,'id'])
Z([a,[3,'message-inner-holder '],[[2,'?:'],[[2,'==='],[[7],[3,'i']],[1,0]],[1,'first'],[1,'']]])
Z([[2,'=='],[[6],[[6],[[7],[3,'content']],[3,'user_info']],[3,'role']],[1,'doctor']])
Z([3,'qa-list__right'])
Z([[2,'=='],[[6],[[7],[3,'content']],[3,'format']],[1,'image']])
Z([[2,'=='],[[6],[[7],[3,'content']],[3,'format']],[1,'text']])
Z([3,'onLinkTap'])
Z([[2,'||'],[[6],[[6],[[7],[3,'content']],[3,'content']],[3,'h5_text']],[[6],[[6],[[7],[3,'content']],[3,'content']],[3,'text']]])
Z([1,false])
Z([[2,'=='],[[6],[[7],[3,'content']],[3,'format']],[1,'common_card']])
Z([3,'jumpH5'])
Z([3,'qa-list__content qa-list__content-card'])
Z([[6],[[6],[[7],[3,'content']],[3,'content']],[3,'url']])
Z([a,[3,'qa-'],[[7],[3,'i']]])
Z([3,'price'])
Z([[2,'&&'],[[6],[[6],[[7],[3,'content']],[3,'content']],[3,'desc']],[[2,'!=='],[[6],[[6],[[7],[3,'content']],[3,'content']],[3,'desc']],[1,'']]])
Z([[6],[[6],[[7],[3,'content']],[3,'content']],[3,'desc']])
Z([[6],[[6],[[7],[3,'content']],[3,'content']],[3,'status_verbose']])
Z(z[11])
Z(z[12])
Z([[6],[[6],[[7],[3,'content']],[3,'content']],[3,'text']])
Z([3,'pointLogin'])
Z([3,'init'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_193_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_193_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_193=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_193=true;
var x=['./pages/qa_im_infinite/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_193_1()
var bITB=_v()
_(r,bITB)
if(_oz(z,0,e,s,gg)){bITB.wxVkey=1
var oJTB=_mz(z,'scroll-view',['enableBackToTop',-1,'scrollWithAnimation',-1,'scrollY',-1,'class',1,'scrollIntoView',1],[],e,s,gg)
var xKTB=_v()
_(oJTB,xKTB)
if(_oz(z,3,e,s,gg)){xKTB.wxVkey=1
}
var oLTB=_v()
_(oJTB,oLTB)
var fMTB=function(hOTB,cNTB,oPTB,gg){
var oRTB=_n('view')
_rz(z,oRTB,'class',8,hOTB,cNTB,gg)
var lSTB=_v()
_(oRTB,lSTB)
if(_oz(z,9,hOTB,cNTB,gg)){lSTB.wxVkey=1
var aTTB=_n('view')
_rz(z,aTTB,'class',10,hOTB,cNTB,gg)
var tUTB=_v()
_(aTTB,tUTB)
if(_oz(z,11,hOTB,cNTB,gg)){tUTB.wxVkey=1
}
var eVTB=_v()
_(aTTB,eVTB)
if(_oz(z,12,hOTB,cNTB,gg)){eVTB.wxVkey=1
var oXTB=_mz(z,'mp-html',['bind:linktap',13,'content',1,'copyLink',2],[],hOTB,cNTB,gg)
_(eVTB,oXTB)
}
var bWTB=_v()
_(aTTB,bWTB)
if(_oz(z,16,hOTB,cNTB,gg)){bWTB.wxVkey=1
var xYTB=_mz(z,'view',['bindtap',17,'class',1,'data-url',2,'id',3],[],hOTB,cNTB,gg)
var oZTB=_n('view')
_rz(z,oZTB,'class',21,hOTB,cNTB,gg)
var f1TB=_v()
_(oZTB,f1TB)
if(_oz(z,22,hOTB,cNTB,gg)){f1TB.wxVkey=1
var h3TB=_n('mp-html')
_rz(z,h3TB,'content',23,hOTB,cNTB,gg)
_(f1TB,h3TB)
}
var c2TB=_v()
_(oZTB,c2TB)
if(_oz(z,24,hOTB,cNTB,gg)){c2TB.wxVkey=1
}
f1TB.wxXCkey=1
f1TB.wxXCkey=3
c2TB.wxXCkey=1
_(xYTB,oZTB)
_(bWTB,xYTB)
}
tUTB.wxXCkey=1
eVTB.wxXCkey=1
eVTB.wxXCkey=3
bWTB.wxXCkey=1
bWTB.wxXCkey=3
_(lSTB,aTTB)
}
else{lSTB.wxVkey=2
var o4TB=_v()
_(lSTB,o4TB)
if(_oz(z,25,hOTB,cNTB,gg)){o4TB.wxVkey=1
}
var c5TB=_v()
_(lSTB,c5TB)
if(_oz(z,26,hOTB,cNTB,gg)){c5TB.wxVkey=1
var o6TB=_n('mp-html')
_rz(z,o6TB,'content',27,hOTB,cNTB,gg)
_(c5TB,o6TB)
}
o4TB.wxXCkey=1
c5TB.wxXCkey=1
c5TB.wxXCkey=3
}
lSTB.wxXCkey=1
lSTB.wxXCkey=3
lSTB.wxXCkey=3
_(oPTB,oRTB)
return oPTB
}
oLTB.wxXCkey=4
_2z(z,6,fMTB,e,s,gg,oLTB,'content','i','id')
xKTB.wxXCkey=1
_(bITB,oJTB)
}
else{bITB.wxVkey=2
var l7TB=_mz(z,'cy-userinfo',['bindisloginevent',28,'bindloginevent',1],[],e,s,gg)
_(bITB,l7TB)
}
bITB.wxXCkey=1
bITB.wxXCkey=3
bITB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_193";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_193();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qa_im_infinite/index.wxml'] = [$gwx_XC_193, './pages/qa_im_infinite/index.wxml'];else __wxAppCode__['pages/qa_im_infinite/index.wxml'] = $gwx_XC_193( './pages/qa_im_infinite/index.wxml' );
	;__wxRoute = "pages/qa_im_infinite/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/qa_im_infinite/index.js";define("pages/qa_im_infinite/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../43A2F676829A079C25C49E711B4C7B70.js"),e=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=o+"/api/chat/conversation/detail/",i=o+"/api/chat/content/create/",s=o+"/files/upload_multi_image/",r=require("../../56F44BB4829A079C309223B3039D7B70.js").WEBSOCKET_URL;Page({data:{isLogin:!1,back_up_level:"0",showPrevMore:!1,partner:e.globalData.partner,doctor_info:null,lastQAId:-1,loading_hidden:!0,toast_hidden:!0,error_msg:"",problem_id:"",contents:[],interval:1e4,hasInputed:!1,icon_selected:-1,func_hidden:!0,newQuestionText:"",audio_hidden:!0,audioTip_hidden:!0,audio_text:"按住说话",audioTipText:"手指上划，取消发送",bg:"#11bd4b",audioTipBg:"#11bd4b",record_time:0,audio_timer:null,ifSendVoice:!0,currentAudioIndex:0,playOrNot:!1,audioId:"",audioIndex:-1,audioObj:null,paddingBottom:100,platform:"",footerBottom:null,is_problem_user:"",display:"hide",btn_text:"我要问医生",img_display:"show",free_display:"hide",has_img_ans:"hide",no_img_ans:"hide",jump_url:"",tag:"imgask",isRefundTrans:!1,isRefund:!1,footer:"",contentHeight:485,scrollPosition:"qa_0",adjusLayerHidden:!0,multiArray:[],multiIndex:[0,0],showClinicAdjustment:!1,timerCount:8,clinicName:"",clinicNo:"",clinicSecondNo:"",disclaimer:!1,conversationStatus:"online"},linkToRecDocList:function(){var t=this.data.problem_id;wx.navigateTo({url:"../rec_doc_list/index?from_type=1&problem_id="+t})},init:function(){var t=this;t.setData({isLogin:!0,doctor_info:e.globalData.doctor_info}),setTimeout((function(){t.ajaxQA(),t.initWebsocketEvent()}))},initWebsocketEvent:function(){var t=this;wx.onSocketMessage((function(e){"common_conversation_new_content"==(e=JSON.parse(e.data)).msg_type?t.appendContent(e):"common_conversation_refresh"==e.msg_type&&(t.data.contents=[],t.ajaxQA())}))},getPrevQa:function(){this.data.lastQAId=this.data.contents[0].id,this.ajaxQA(!0)},jumpH5:function(t){var e=t.currentTarget.dataset.url||"",n=e.startsWith("http")?e:o+e;n=encodeURIComponent(n),wx.navigateTo({url:"/pages/h5_webview/index?url="+n})},ajaxQA:function(t){wx.hideLoading();var o=this,n=o.data.problem_id,i=o.data.lastQAId;wx.request({url:a,method:"GET",header:{Cookie:e.globalData.sessionid},data:{conversation_id:n,last_id:i,direction:t?"up":"down",count:20},success:function(e){var n=e.data.message_list;o.setData({showPrevMore:n&&n.length>=20,conversationStatus:e.data.conversation_status}),t?o.appendPrevContent(e.data):o.updateContent(e.data),"medicine_sale"==e.data.conversation_type?wx.setNavigationBarTitle({title:e.data.doctor_info&&e.data.doctor_info.name||"购药助手"}):wx.setNavigationBarTitle({title:"名院专家预约助手"})}})},scrollToBottom:function(){var t=this.data.contents.length;if(t){var e="qa-"+(t-1),o=this.data.contents[t-1];"image"===o.format&&(e+="-"+(o.content.urls.length-1)),this.setData({scrollPosition:e})}},updateContent:function(t){if(0===t.error_code){var e={contents:t.message_list,doctor_info:t.doctor_info};e.contents.map((function(t){if("text"===t.content.type){console.log(t.content.text,"替换前");var e=t.content.text.replace(/\n/g,"<br>");t.content.text=e}})),console.log(e.contents,"data"),this.setData(e,this.scrollToBottom)}else this.setData({error_msg:t.error_msg})},appendContent:function(t){var e=this.data.contents.map((function(t){return t.id}));if(t.body.message_list=t.body.message_list.filter((function(t){return-1===e.indexOf(t.id)})),t.body.message_list.length){var o={error_code:0,message_list:this.data.contents};o.message_list.push(t.body.message_list[0]),this.updateContent(o)}},appendPrevContent:function(t){this.setData({contents:[].concat(t.message_list||[],this.data.contents)})},questionInput:function(t){var e=t.detail.value;this.setData({newQuestionText:e,hasInputed:""!=e})},sel_img:function(){if("online"===this.data.conversationStatus){var t=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){var n=o.tempFilePaths;wx.uploadFile({url:s,filePath:n[0],name:"images",formData:{return_full:"true"},header:{Cookie:e.globalData.sessionid},success:function(e){var o=JSON.parse(e.data).files[0],n={conversation_id:t.data.problem_id,content:JSON.stringify({urls:[o]}),format:"image",role:"patient"};t.sendQuestion(n)}})}})}},previewImg:function(t){var e=t.currentTarget.dataset.src,o=[];o.push(e),wx.previewImage({current:e,urls:o})},sendText:function(t){if(this.data.hasInputed){var e={conversation_id:this.data.problem_id,content:JSON.stringify({text:this.data.newQuestionText}),format:"text",role:"patient"};this.setData({footerBottom:0}),this.sendQuestion(e)}},sendQuestion:function(t){var o=this;wx.request({url:i,method:"POST",data:n(t),header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},success:function(){o.setData({newQuestionText:"",hasInputed:!1}),o.ajaxQA()}})},onLoad:function(o){wx.showLoading({title:"加载中..."});var n=this;n.setData({back_up_level:o.back_up_level,problem_id:o&&o.problem_id?o.problem_id:e.globalData.problem_id}),(0,t.manualLogin)().then((function(){n.init(),n.initWebSocket(),wx.getSystemInfo({success:function(t){n.setData({platform:t.platform,model:t.model,windowHeight:t.windowHeight?t.windowHeight:t.screenHeight,windowWidth:t.windowWidth?t.windowWidth:t.screenWidth})}})}),(function(){n.setData({isLogin:!1})}))},onUnload:function(){"0"===this.data.back_up_level&&wx.switchTab({url:"/pages/all_service/index"})},initWebSocket:function(){var t=e.globalData.sessionid;e.globalData.socketOpen||wx.connectSocket({url:r,header:{"content-type":"application/json",cookie:t},method:"GET",success:function(){console.log("----socket成功建立连接"),e.globalData.socketOpen=!0}}),wx.onSocketOpen((function(t){console.log(t),e.globalData.socketOpen=!0})),wx.onSocketError((function(t){console.log(t)})),wx.onSocketClose((function(o){console.log(o),e.globalData.reConnectCount>50||setTimeout((function(){e.globalData.reConnectCount+=1,wx.connectSocket({url:r,header:{"content-type":"application/json",cookie:t},method:"GET"})}),5e3)}))},onLinkTap:function(t){console.log(t);var e=t.detail.href;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e))})}});
},{isPage:true,isComponent:true,currentFile:'pages/qa_im_infinite/index.js'});require("pages/qa_im_infinite/index.js");$gwx_XC_194=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_194 || [];
function gz$gwx_XC_194_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_194_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_194_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_194_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_194_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_194_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_194=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_194=true;
var x=['./pages/questions_details/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_194_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_194";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_194();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/questions_details/index.wxml'] = [$gwx_XC_194, './pages/questions_details/index.wxml'];else __wxAppCode__['pages/questions_details/index.wxml'] = $gwx_XC_194( './pages/questions_details/index.wxml' );
	;__wxRoute = "pages/questions_details/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/questions_details/index.js";define("pages/questions_details/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onLoad:function(e){if(e.id)wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(e.id,"&topic_type=qa")});else{var o=decodeURIComponent(e.scene);o=this.parseScene(o),wx.redirectTo({url:"/pages/doctor_topic_general_page/doctor_topic_general_page?id=".concat(o.id,"&topic_type=qa")})}}});
},{isPage:true,isComponent:true,currentFile:'pages/questions_details/index.js'});require("pages/questions_details/index.js");$gwx_XC_195=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_195 || [];
function gz$gwx_XC_195_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_195_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_195_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_195_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_195_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_195_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_195=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_195=true;
var x=['./pages/re_refund/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_195_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_195";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_195();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/re_refund/index.wxml'] = [$gwx_XC_195, './pages/re_refund/index.wxml'];else __wxAppCode__['pages/re_refund/index.wxml'] = $gwx_XC_195( './pages/re_refund/index.wxml' );
	;__wxRoute = "pages/re_refund/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/re_refund/index.js";define("pages/re_refund/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),r=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/refund_successful_page/";Page({data:{refund_price:0,problem_id:""},onLoad:function(a){var i=this,n=a.problem_id,o=a.partner,s={problem_id:n,partner:o,from_wx_mini:1,is_json:1};wx.request({url:r,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",data:s,success:function(e){var r=e.data.price;i.setData({refund_price:r,problem_id:n})}})},onUnload:function(){wx.reLaunch({url:"../all_service/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/re_refund/index.js'});require("pages/re_refund/index.js");$gwx_XC_196=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_196 || [];
function gz$gwx_XC_196_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_196_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_196_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_196_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[7],[3,'show_doc_list']])
Z([3,'doc-list'])
Z([[7],[3,'doc_list']])
Z([3,'id'])
Z([3,'selectDoctor'])
Z([[7],[3,'index']])
Z([[7],[3,'item']])
Z(z[6])
Z([3,'to_doc_refund'])
Z([[2,'!'],[[7],[3,'isFromWaitingRecommend']]])
Z([[2,'!'],[[7],[3,'isLoading']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_196_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_196_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_196=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_196=true;
var x=['./pages/re_select_doc/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_196_1()
var bAUB=_n('view')
_rz(z,bAUB,'class',0,e,s,gg)
var oBUB=_v()
_(bAUB,oBUB)
if(_oz(z,1,e,s,gg)){oBUB.wxVkey=1
var xCUB=_n('view')
_rz(z,xCUB,'class',2,e,s,gg)
var fEUB=_v()
_(xCUB,fEUB)
var cFUB=function(oHUB,hGUB,cIUB,gg){
var lKUB=_mz(z,'doctor-service-card',['bind:click-on-doctor-service',5,'data-index',1,'doctorDetail',2,'listIndex',3,'scene',4],[],oHUB,hGUB,gg)
_(cIUB,lKUB)
return cIUB
}
fEUB.wxXCkey=4
_2z(z,3,cFUB,e,s,gg,fEUB,'item','index','id')
var oDUB=_v()
_(xCUB,oDUB)
if(_oz(z,10,e,s,gg)){oDUB.wxVkey=1
}
oDUB.wxXCkey=1
_(oBUB,xCUB)
}
else if(_oz(z,11,e,s,gg)){oBUB.wxVkey=2
}
oBUB.wxXCkey=1
oBUB.wxXCkey=3
_(r,bAUB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_196";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_196();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/re_select_doc/index.wxml'] = [$gwx_XC_196, './pages/re_select_doc/index.wxml'];else __wxAppCode__['pages/re_select_doc/index.wxml'] = $gwx_XC_196( './pages/re_select_doc/index.wxml' );
	;__wxRoute = "pages/re_select_doc/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/re_select_doc/index.js";define("pages/re_select_doc/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i=o.baseUrl+"/cooperation/wap/get_reselect_recommend_doctor_list/",a=o.baseUrl+"/cooperation/wap/refund_paid_problem/",r=o.baseUrl+"/cooperation/wap/re_select_doctor/";Page({data:{doc_list:"",selected:"https://static.chunyuyisheng.com/@/chunyu_mini/icon_selected.png",no_selected:"https://static.chunyuyisheng.com/@/chunyu_mini/icon_noselected.png",select_index:-1,original_price:0,problem_id:"",partner:"",doctor_id:"",show_doc_list:"",show_text:"重新提问",originalProblemId:"",isFromWaitingRecommend:!1,fromType:"",isLoading:!1},onLoad:function(o){var t=this,a=this,r=o.problem_id,n=e.globalData.partner,s=o.from_type;this.setData({originalProblemId:r,isFromWaitingRecommend:"waiting_recommend"===s,fromType:s,isLoading:!0}),wx.showLoading({title:"加载中"});var d={from_wx_mini:1,problem_id:r,partner:n,is_json:1,recommend_type:a.data.fromType};wx.request({url:i,header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},method:"GET",data:d,success:function(e){if(a.setData({isLoading:!1}),wx.hideLoading(),(e=e.data)&&e.doctors.length){var o=e.problem_info.price,t=e.doctors[0].id;a.setData({doc_list:e.doctors,show_doc_list:e.doctors,original_price:o,problem_id:r,partner:n,doctor_id:t,recommend_id:e.recommend_id})}else a.setData({problem_id:r,partner:n})},fail:function(){t.setData({isLoading:!1}),wx.hideLoading()}})},selectDoctor:function(e){var o=e.detail.doctorDetail.is_selected?parseInt(e.currentTarget.dataset.index):-1,t=e.detail.doctorDetail.id;this.data.doc_list.forEach((function(e){console.log(e.id,t),e.is_selected=e.id===t})),this.setData({select_index:o,doctor_id:t,doc_list:this.data.doc_list})},refundDoctor:function(){var o=this.data.problem_id,i=this.data.partner;wx.showModal({title:"确定申请退款？",content:"已花费的金额会立即返回您的账户",confirmColor:"#1B91E0",cancelColor:"#1B91E0",success:function(r){if(1==r.confirm){var n={problem_id:o,partner:i,from_wx_mini:1,is_json:1};wx.request({url:a,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:t(n),success:function(e){0===e.data.error?wx.redirectTo({url:"/module_a/pages/re_buy_page/re_buy_page?problem_id=".concat(o,"&partner=").concat(i,"&scene=to_doc_refund")}):1===e.data.error&&wx.showToast({title:e.data.error_msg||"申请退款失败",icon:"none"})},fail:function(){wx.showToast({title:"申请退款失败",icon:"loading"})}})}}})},askAgain:function(){var o=this;if(this.data.select_index<0)wx.showToast({title:"请选择要重新提问的医生",icon:"none"});else{var i=this.data.partner,a={pre_problem_id:this.data.problem_id,partner:i,doctor_id:this.data.doctor_id,from_wx_mini:1,from_type:this.data.fromType,type:this.data.fromType,cy_page_from:this.data.fromType};try{var n={app:"weixin_mini",click_position:"重新提问",page_readable_name:"重选医生",list_rank:"".concat(this.data.select_index+1),doctor_name:this.data.doc_list.filter((function(e){return e.id===o.data.doctor_id}))[0].name,from_type:this.data.fromType,cy_page_from:this.data.fromType,recommend_id:this.data.recommend_id};console.log(n),e.sensors.track("AppClick",n)}catch(e){console.log(e)}wx.request({url:r,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},method:"POST",data:t(a),success:function(t){if(0!==t.data.error)e.sensors.track("ActivityPOPView",{pop_title:"重选过程首问医生回复"}),wx.showModal({content:t.data.error_msg,showCancel:!1,confirmText:"好的",confirmColor:"#1B91E0",success:function(e){e.confirm&&wx.navigateTo({url:"/pages/qa_im/index?problem_id=".concat(o.data.originalProblemId)})}});else if(0===t.data.error){var i=t.data.problem_id;wx.switchTab({url:"/pages/all_service/index",complete:function(){setTimeout((function(){wx.navigateTo({url:"../qa_im/index?problem_id="+i})}),1e3)}})}},fail:function(){wx.showToast({title:"提问失败",icon:"loading"})}})}}});
},{isPage:true,isComponent:true,currentFile:'pages/re_select_doc/index.js'});require("pages/re_select_doc/index.js");$gwx_XC_197=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_197 || [];
function gz$gwx_XC_197_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_197_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_197_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_197_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[2,'=='],[[7],[3,'from_type']],[1,0]])
Z([[2,'&&'],[[2,'=='],[[7],[3,'from_type']],[1,1]],[[6],[[7],[3,'doctors']],[3,'length']]])
Z([[6],[[7],[3,'page_info']],[3,'is_qa_hoard']])
Z([3,'selectDoctor'])
Z([3,'doctor__info'])
Z([[6],[[7],[3,'page_info']],[3,'selected']])
Z([3,'is_free'])
Z([3,'doctor__name'])
Z([[7],[3,'showVipPic']])
Z([[7],[3,'showihmpInquiryPic']])
Z([3,'doctor__price no-padding'])
Z([[7],[3,'isVipFree']])
Z([[6],[[6],[[7],[3,'page_info']],[3,'system_doctor_info']],[3,'price_text']])
Z([[6],[[7],[3,'page_info']],[3,'show_free_doctor']])
Z([[7],[3,'emergency_graph']])
Z(z[4])
Z(z[5])
Z([[6],[[7],[3,'emergency_graph']],[3,'selected']])
Z([3,'is_emergency_graph'])
Z([[6],[[7],[3,'emergency_graph']],[3,'tag']])
Z([[2,'&&'],[[2,'=='],[[7],[3,'from_type']],[1,1]],[[2,'!'],[[6],[[7],[3,'doctors']],[3,'length']]]])
Z([[2,'||'],[[2,'>'],[[6],[[7],[3,'doctors']],[3,'length']],[1,0]],[[2,'=='],[[7],[3,'from_type']],[1,0]]])
Z([[7],[3,'show_mask']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_197_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_197_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_197=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_197=true;
var x=['./pages/rec_doc_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_197_1()
var bOUB=_n('view')
_rz(z,bOUB,'class',0,e,s,gg)
var oPUB=_v()
_(bOUB,oPUB)
if(_oz(z,1,e,s,gg)){oPUB.wxVkey=1
}
var xQUB=_v()
_(bOUB,xQUB)
if(_oz(z,2,e,s,gg)){xQUB.wxVkey=1
}
var oRUB=_v()
_(bOUB,oRUB)
if(_oz(z,3,e,s,gg)){oRUB.wxVkey=1
var hUUB=_mz(z,'view',['bindtap',4,'class',1,'data-selected',2,'data-type',3],[],e,s,gg)
var oVUB=_n('view')
_rz(z,oVUB,'class',8,e,s,gg)
var cWUB=_v()
_(oVUB,cWUB)
if(_oz(z,9,e,s,gg)){cWUB.wxVkey=1
}
var oXUB=_v()
_(oVUB,oXUB)
if(_oz(z,10,e,s,gg)){oXUB.wxVkey=1
}
cWUB.wxXCkey=1
oXUB.wxXCkey=1
_(hUUB,oVUB)
var lYUB=_n('view')
_rz(z,lYUB,'class',11,e,s,gg)
var aZUB=_v()
_(lYUB,aZUB)
if(_oz(z,12,e,s,gg)){aZUB.wxVkey=1
var t1UB=_v()
_(aZUB,t1UB)
if(_oz(z,13,e,s,gg)){t1UB.wxVkey=1
}
t1UB.wxXCkey=1
}
else{aZUB.wxVkey=2
}
aZUB.wxXCkey=1
_(hUUB,lYUB)
_(oRUB,hUUB)
}
else if(_oz(z,14,e,s,gg)){oRUB.wxVkey=2
}
var fSUB=_v()
_(bOUB,fSUB)
if(_oz(z,15,e,s,gg)){fSUB.wxVkey=1
var e2UB=_mz(z,'view',['bindtap',16,'class',1,'data-selected',2,'data-type',3],[],e,s,gg)
var b3UB=_v()
_(e2UB,b3UB)
if(_oz(z,20,e,s,gg)){b3UB.wxVkey=1
}
b3UB.wxXCkey=1
_(fSUB,e2UB)
}
var cTUB=_v()
_(bOUB,cTUB)
if(_oz(z,21,e,s,gg)){cTUB.wxVkey=1
}
oPUB.wxXCkey=1
xQUB.wxXCkey=1
oRUB.wxXCkey=1
fSUB.wxXCkey=1
cTUB.wxXCkey=1
_(r,bOUB)
var tMUB=_v()
_(r,tMUB)
if(_oz(z,22,e,s,gg)){tMUB.wxVkey=1
var o4UB=_n('bottom-button')
_(tMUB,o4UB)
}
else{tMUB.wxVkey=2
var x5UB=_n('bottom-button')
_(tMUB,x5UB)
}
var eNUB=_v()
_(r,eNUB)
if(_oz(z,23,e,s,gg)){eNUB.wxVkey=1
}
tMUB.wxXCkey=1
tMUB.wxXCkey=3
tMUB.wxXCkey=3
eNUB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_197";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_197();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rec_doc_list/index.wxml'] = [$gwx_XC_197, './pages/rec_doc_list/index.wxml'];else __wxAppCode__['pages/rec_doc_list/index.wxml'] = $gwx_XC_197( './pages/rec_doc_list/index.wxml' );
	;__wxRoute = "pages/rec_doc_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/rec_doc_list/index.js";define("pages/rec_doc_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,r=t.baseUrl+"/cooperation/wap/get_recommend_doctor_list/",i=t.baseUrl+"/cooperation/wap/enable_free_problem/";Page({data:{from_type:0,doctors:null,totalPrice:0,selected:"https://static.chunyuyisheng.com/@/chunyu_mini/icon_selected.png",no_selected:"https://static.chunyuyisheng.com/@/chunyu_mini/icon_noselected.png",info_dict:{problem_id:"",doctors:[],select_free:0},emergency_graph:null,chunyuVipInfo:{},isVipFree:!1,showVipPic:!1,advanced_graph:{},showihmpInquiryPic:!1},onLoad:function(t){var a=this,i=e.globalData,s=e.globalData.sessionid||wx.getStorageSync("sessionid"),o=e.globalData.partner,c=t&&t.from_type?t.from_type:e.globalData.from_type,d=t&&t.problem_id?t.problem_id:e.globalData.problem_id;a.setData({from_type:c,"info_dict.problem_id":d}),wx.request({url:r,header:{Cookie:s},data:{ask_famous_doc:i.fromOneYuan&&i.is_new_user?1:0,from_wx_mini:1,from_type:c,partner:o,is_json:1,problem_id:d},success:function(e){var t=e.data,r=t.page_info,i=t.doctors,s=Object.keys(t.emergency_graph||{}).length?t.emergency_graph:"",o=Object.keys(t.advanced_graph||{}).length?t.advanced_graph:"",c=0,d=JSON.stringify(t.qa_upgrade),n=t.chunyu_vip_info||{},_=Number(r.system_doctor_info&&r.system_doctor_info.free_upgrade_type)||0,l=52===_||53===_,p=53===_,g=52===_;wx.setStorage({key:"qa_upgrade",data:d}),wx.setStorage({key:"chunyu_vip_info",data:JSON.stringify(n)}),r.price=l?0:r.system_doctor_info?r.system_doctor_info.price:0,r.selected=!!r.system_doctor_info&&r.system_doctor_info.selected,r.selected&&(c+=r.price),s.selected&&(c+=s.price),o.selected&&(c+=o.price),i.forEach((function(e){"true"!=e.selected&&1!=e.selected||(c+=e.price_fen/100)})),a.setData({page_info:r,emergency_graph:s,advanced_graph:o,doctors:i,totalPrice:c,chunyuVipInfo:n,isVipFree:l,showihmpInquiryPic:p,showVipPic:g})}})},vipFreeProblem:function(){var t=this.data.info_dict.problem_id,r={from_wx_mini:1,partner:e.globalData.partner,problem_id:t,enable_way:this.data.page_info.system_doctor_info.free_upgrade_type};wx.showToast({title:"正在提交"}),wx.request({url:i,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:a(r),success:function(e){var a=e.data;1!=a.error?wx.redirectTo({url:"../qa_im/index?problem_id="+t}):wx.showToast({icon:"none",title:a.error_msg})}})},selectDoctor:function(e){var t=this.data,a=t.page_info,r=t.doctors,i=t&&t.emergency_graph&&Object.keys(t.emergency_graph||{}).length?t.emergency_graph:"",s=t&&t.advanced_graph&&Object.keys(t.advanced_graph||{}).length?t.advanced_graph:{},o=this.data.totalPrice,c=e.currentTarget.dataset.selected,d=e.currentTarget.dataset.type,n=0;if(c=!c,"is_free"===d)n=a.price,a.selected=c;else if("is_emergency_graph"===d)n=i.price,i.selected=c;else if("is_advanced_graph"===d)n=s.price,s.selected=c;else if("is_doctor"===d){var _=e.currentTarget.dataset.index;n=r[_].price_fen/100,r[_].selected=c}c?o+=n:o-=n,this.setData({totalPrice:o,"page_info.selected":!!a&&a.selected,doctors:r}),i&&this.setData({"emergency_graph.selected":i.selected}),Object.keys(s||{}).length&&this.setData({"advanced_graph.selected":s.selected})},submitOrder:function(t){var a=this.data,r=a.page_info,i=a.doctors,s=a&&a.emergency_graph&&Object.keys(a.emergency_graph||{}).length?a.emergency_graph:"",o=a&&a.advanced_graph&&Object.keys(a.advanced_graph||{}).length?a.advanced_graph:"",c=this.data.totalPrice,d=i?i.length:void 0,n=this.data.info_dict,_="",l="qadoc",p=!!Array.isArray(i)&&i.some((function(e){return e.selected}));if(0!=c||r&&r.selected)if(!r.selected||p||s.selected||o.selected)!s.selected||r.selected||d?!o.selected||r.selected||p?(_="multi_problems",r.selected?(n.select_free=1,a.isVipFree&&(n.enable_way=r.system_doctor_info.free_upgrade_type)):n.select_free=0,s.selected?(n.select_emergency_graph=1,n.emergency_graph_from_type="multi_ask_h5"):n.select_emergency_graph=0,o.selected?(n.select_advanced_graph=1,l="advanced"):n.select_advanced_graph=0,i.forEach((function(e){var t=n.doctors.indexOf(e.id);"true"==e.selected||1==e.selected?-1===t&&n.doctors.push(e.id):-1!==t&&n.doctors.splice(t,1)}))):(_="advanced_graph",l="advanced"):_="emergency_graph",a={from_wx_mini:1,finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"",order_type:_,info_dict:n,partner:e.globalData.partner},e.globalData.order_data=a,wx.navigateTo({url:"../payment/index?mark=".concat(l,"&problemId=").concat(n.problem_id,"&order_type=").concat(_)});else if(a.isVipFree)this.vipFreeProblem();else if(0!==c||r.is_qa_hoard){var g={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"",order_type:"paid_clinic",partner:e.globalData.partner,info_dict:{problem_id:n.problem_id}};e.globalData.order_data=g,wx.navigateTo({url:"/pages/payment/index?mark=upgrade"})}else wx.redirectTo({url:"/pages/service_update/index?problem_id=".concat(n.problem_id)});else wx.showToast({title:"请选择医生",icon:"loading"})},showCollectDetail:function(){this.setData({show_mask:!0})},hideMask:function(e){e.target.id===e.currentTarget.id&&this.setData({show_mask:!1})}});
},{isPage:true,isComponent:true,currentFile:'pages/rec_doc_list/index.js'});require("pages/rec_doc_list/index.js");$gwx_XC_198=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_198 || [];
function gz$gwx_XC_198_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_198_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_198_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_198_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[2,'?:'],[[7],[3,'show_mask']],[1,'position:fixed'],[1,'']])
Z([3,'progress-bar'])
Z([3,'reserve-progress reserve-progress-item-second'])
Z([[2,'=='],[[7],[3,'service_type']],[1,'register_apply']])
Z([[2,'=='],[[7],[3,'service_type']],[1,'inquiry']])
Z([3,'reserve-progress reserve-progress-item-third'])
Z(z[4])
Z(z[5])
Z([[7],[3,'is_first']])
Z([3,'step1'])
Z([3,'middle'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'show_mask']]],[[2,'!'],[[7],[3,'showSubmitMask']]]])
Z([3,'form-column-group'])
Z([[2,'=='],[[7],[3,'show_price_mask']],[1,true]])
Z([[2,'=='],[[7],[3,'show_price_mask']],[1,false]])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z([[7],[3,'price_desc']])
Z([[7],[3,'show_mask']])
Z([3,'hideMask'])
Z([3,'mask'])
Z(z[23])
Z([[7],[3,'text']])
Z([[7],[3,'show_price_mask']])
Z([[7],[3,'showSubmitMask']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_198_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_198_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_198=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_198=true;
var x=['./pages/reserve_consult/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_198_1()
var f7UB=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var oBVB=_n('view')
_rz(z,oBVB,'class',2,e,s,gg)
var lCVB=_n('view')
_rz(z,lCVB,'class',3,e,s,gg)
var aDVB=_v()
_(lCVB,aDVB)
if(_oz(z,4,e,s,gg)){aDVB.wxVkey=1
}
var tEVB=_v()
_(lCVB,tEVB)
if(_oz(z,5,e,s,gg)){tEVB.wxVkey=1
}
aDVB.wxXCkey=1
tEVB.wxXCkey=1
_(oBVB,lCVB)
var eFVB=_n('view')
_rz(z,eFVB,'class',6,e,s,gg)
var bGVB=_v()
_(eFVB,bGVB)
if(_oz(z,7,e,s,gg)){bGVB.wxVkey=1
}
var oHVB=_v()
_(eFVB,oHVB)
if(_oz(z,8,e,s,gg)){oHVB.wxVkey=1
}
bGVB.wxXCkey=1
oHVB.wxXCkey=1
_(oBVB,eFVB)
_(f7UB,oBVB)
var c8UB=_v()
_(f7UB,c8UB)
if(_oz(z,9,e,s,gg)){c8UB.wxVkey=1
var xIVB=_n('view')
_rz(z,xIVB,'class',10,e,s,gg)
var oJVB=_n('view')
_rz(z,oJVB,'class',11,e,s,gg)
var fKVB=_v()
_(oJVB,fKVB)
if(_oz(z,12,e,s,gg)){fKVB.wxVkey=1
var hMVB=_n('view')
_rz(z,hMVB,'class',13,e,s,gg)
var oNVB=_v()
_(hMVB,oNVB)
if(_oz(z,14,e,s,gg)){oNVB.wxVkey=1
}
var cOVB=_v()
_(hMVB,cOVB)
if(_oz(z,15,e,s,gg)){cOVB.wxVkey=1
}
oNVB.wxXCkey=1
cOVB.wxXCkey=1
_(fKVB,hMVB)
}
var cLVB=_v()
_(oJVB,cLVB)
if(_oz(z,16,e,s,gg)){cLVB.wxVkey=1
var oPVB=_n('view')
_rz(z,oPVB,'class',17,e,s,gg)
var lQVB=_v()
_(oPVB,lQVB)
if(_oz(z,18,e,s,gg)){lQVB.wxVkey=1
}
var aRVB=_v()
_(oPVB,aRVB)
if(_oz(z,19,e,s,gg)){aRVB.wxVkey=1
}
lQVB.wxXCkey=1
aRVB.wxXCkey=1
_(cLVB,oPVB)
}
fKVB.wxXCkey=1
cLVB.wxXCkey=1
_(xIVB,oJVB)
var tSVB=_n('mp-html')
_rz(z,tSVB,'content',20,e,s,gg)
_(xIVB,tSVB)
_(c8UB,xIVB)
}
else{c8UB.wxVkey=2
}
var h9UB=_v()
_(f7UB,h9UB)
if(_oz(z,21,e,s,gg)){h9UB.wxVkey=1
var eTVB=_mz(z,'view',['bindtap',22,'class',1,'id',2],[],e,s,gg)
var bUVB=_n('mp-html')
_rz(z,bUVB,'content',25,e,s,gg)
_(eTVB,bUVB)
_(h9UB,eTVB)
}
var o0UB=_v()
_(f7UB,o0UB)
if(_oz(z,26,e,s,gg)){o0UB.wxVkey=1
}
var cAVB=_v()
_(f7UB,cAVB)
if(_oz(z,27,e,s,gg)){cAVB.wxVkey=1
}
c8UB.wxXCkey=1
c8UB.wxXCkey=3
h9UB.wxXCkey=1
h9UB.wxXCkey=3
o0UB.wxXCkey=1
cAVB.wxXCkey=1
_(r,f7UB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_198";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_198();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/reserve_consult/index.wxml'] = [$gwx_XC_198, './pages/reserve_consult/index.wxml'];else __wxAppCode__['pages/reserve_consult/index.wxml'] = $gwx_XC_198( './pages/reserve_consult/index.wxml' );
	;__wxRoute = "pages/reserve_consult/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/reserve_consult/index.js";define("pages/reserve_consult/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=t.baseUrl+"/files/upload_multi_image/",a=t.baseUrl+"/api/v8/photo_help_page/",s=t.baseUrl+"/vip_doctor/subscribe_text/";Page({data:{is_wx_vip:!1,apply_price:"",vip_price:0,service_price:"",service_type:"",vip_btn_text:"",is_first:!0,phone:"",age:"",desc:"",problem_desc:"",doctor_id:"",doctor_name:"",show_mask:!0,show_price_mask:!1,showSubmitMask:!1,choose_service:[],img_list:[],service_list:[{service_name:"图文咨询",service_type:"graph",isActive:!1},{service_name:"电话咨询",service_type:"inquiry",isActive:!1},{service_name:"门诊挂号",service_type:"register_apply",isActive:!1},{service_name:"住院手术",service_type:"operation",isActive:!1}],treatArr:[{name:"就诊过",value:0},{name:"未就诊",value:1}],treatIndex:"",checkArr:[{name:"检查过",value:0},{name:"未检查",value:1}],checkIndex:"",sexArr:[{name:"男",value:"m"},{name:"女",value:"f"}],sexIndex:""},onLoad:function(e){var t=!e.done,i=!e.done,a=e.doctor_id,s=e.doctor_name,o=e.consult_type,n=e.service_price,c=this.data.choose_service,r=this.data.service_list;r.forEach((function(e){e.service_type==o&&(e.isActive=!0,c.push(o))})),this.setData({doctor_id:a,is_first:t,show_mask:i,doctor_name:s,service_list:r,choose_service:c,service_type:o,service_price:n}),this.getDialogText(a)},getDialogText:function(t){var i=this;wx.request({url:s,method:"GET",data:{doctor_id:t,partner:"chunyu_wap_mini",service_type:this.data.service_type},header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},success:function(e){0==e.data.error_code?i.setData({is_wx_vip:e.data.is_wx_vip,apply_price:e.data.apply_price,vip_price:e.data.vip_price,vip_btn_text:"立即预约（".concat(i.data.service_price,"元）"),price_desc:e.data.price_desc,text:e.data.text}):wx.showToast({title:e.error_msg||"加载失败",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error_msg||"加载失败",icon:"none"})}})},updatePhone:function(e){var t=e.detail.value;this.setData({phone:t})},updateAge:function(e){var t=e.detail.value;this.setData({age:t})},updataDesc:function(e){var t=e.detail.value;this.setData({desc:t})},updataProblemDesc:function(e){var t=e.detail.value;this.setData({problem_desc:t})},checkParams:function(){var e=this.data.phone,t=this.data.treatIndex,i=this.data.checkIndex,a=this.data.problem_desc,s=this.data.age,o=this.data.sex,n=this.data.desc;return e&&/^\d{11}$/.test(e)?(a||wx.showToast({title:"请填写想咨询的问题",icon:"none"}),s||wx.showToast({title:"请填写年龄",icon:"none"}),o||wx.showToast({title:"请填写性别",icon:"none"}),t?i?n.length<30||n.length>500?(wx.showToast({title:"请详细描述病情（30~500字）",icon:"none"}),!1):a.length<10||a.length>500?(wx.showToast({title:"请详细描述您想向专家咨询的问题（10~500字）",icon:"none"}),!1):!(s.indexOf(".")>-1)||(wx.showToast({title:"年龄仅允许输入整数",icon:"none"}),!1):(wx.showToast({title:"请选择是否检查过",icon:"none"}),!1):(wx.showToast({title:"请选择是否到医院就诊过",icon:"none"}),!1)):(wx.showToast({title:"请输入正确的手机号",icon:"none"}),!1)},serviceApply:function(){var e=this.data.img_list.length,t=this.data.service_type,i=this.data.checkIndex;if(this.checkParams())return"graph"!=t&&"inquiry"!=t&&"operation"!=t||e&&"1"!=i?this.doServiceApply():void this.setData({showSubmitMask:!0})},doServiceApply:function(){var t=this.data.phone,i=this.data.desc,a=this.data.doctor_id,s=this.data.doctor_name,o=this.data.choose_service,n=this.data.is_wx_vip,c={from_wx_mini:1,partner:"chunyu_wap_mini",order_name:"权威专家咨询费",order_type:"expert_consultation",order_desc:s+"医生-名院医生预约",info_dict:{problem_desc:this.data.problem_desc,age:this.data.age,sex:this.data.sex,phone:t,desc:i,doctor_id:a,service_list:o,has_visit_doctor:0==this.data.treatIndex,has_checkup:0==this.data.checkIndex,image_list:this.data.img_list.map((function(e){return e.file})),is_from_user:!0}},r=this.data.vip_price;e.globalData.vip_reserve_param=JSON.stringify(c),e.globalData.order_data=c,wx.navigateTo({url:"/pages/payment/index?name="+s+"&vip_price="+r+"&is_wx_vip="+n})},hideMask:function(e){e.target.id===e.currentTarget.id&&this.setData({show_mask:!1})},hidePriceMask:function(){this.setData({show_price_mask:!1})},hideSubmitMask:function(){this.setData({showSubmitMask:!1})},changeReverseType:function(e){var t=this.data.service_list,i=this.data.choose_service,a=e.currentTarget.dataset.serviceType;t.forEach((function(e,t){if(e.service_type==a)if(e.isActive){e.isActive=!1;var s=i.indexOf(e.service_type);i.splice(s,1)}else e.isActive=!0,i.push(e.service_type)})),this.setData({service_list:t,choose_service:i})},treatArrChange:function(e){this.setData({treatIndex:e.detail.value})},checkArrChange:function(e){this.setData({checkIndex:e.detail.value})},sexArrChange:function(e){this.setData({sex:e.detail.value})},deleteImage:function(e){var t=this.data.img_list,i=e.currentTarget.dataset.index;t.splice(i,1),this.setData({img_list:t})},sel_img:function(){var t=this,a=t.data.img_list;a.length>=9?wx.showToast({title:"最多选择9张",icon:"none"}):wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(s){var o=s.tempFilePaths;wx.uploadFile({url:i,filePath:o[0],name:"images",formData:{return_full:"true"},header:{Cookie:e.globalData.sessionid},success:function(e){console.log("上传图片回调"),console.log(e);var i={type:"image",file:JSON.parse(e.data).files[0]};a.push(i),t.setData({img_list:a})},fail:function(){wx.showToast({title:"上传失败",icon:"none"})}})},fail:function(){wx.showToast({title:"选取失败",icon:"none"})}})},openPhone:function(){wx.navigateTo({url:"/pages/h5_webview/index?url="+a})},showReserveing:function(){this.data.is_wx_vip||wx.showModal({title:"提示",content:"预约阶段需支付预约费，因个人原因取消预约概不接受退款。",showCancel:!1,success:function(e){e.confirm&&console.log("用户点击确定")}})},showReserveFinish:function(){this.setData({show_price_mask:!0})}});
},{isPage:true,isComponent:true,currentFile:'pages/reserve_consult/index.js'});require("pages/reserve_consult/index.js");$gwx_XC_199=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_199 || [];
function gz$gwx_XC_199_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_199_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_199_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_199_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[6],[[7],[3,'result']],[3,'today_limit_exceed']],[[6],[[7],[3,'result']],[3,'user_limit_exceed']]])
Z([[7],[3,'active_rule']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_199_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_199_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_199=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_199=true;
var x=['./pages/reward_invite/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_199_1()
var xWVB=_v()
_(r,xWVB)
if(_oz(z,0,e,s,gg)){xWVB.wxVkey=1
}
var oXVB=_v()
_(r,oXVB)
if(_oz(z,1,e,s,gg)){oXVB.wxVkey=1
}
xWVB.wxXCkey=1
oXVB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_199";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_199();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/reward_invite/index.wxml'] = [$gwx_XC_199, './pages/reward_invite/index.wxml'];else __wxAppCode__['pages/reward_invite/index.wxml'] = $gwx_XC_199( './pages/reward_invite/index.wxml' );
	;__wxRoute = "pages/reward_invite/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/reward_invite/index.js";define("pages/reward_invite/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=getApp(),t=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/events/newer_task/invitation_record_stats/";Page({data:{active_rule:!1,result:{reward_list:[],today_limit_exceed:!1,user_limit_exceed:!1},user_id:""},onLoad:function(i){t("ActivityPageView",{activity_name:"weixin_taskinvite",source_type:"Service notification"}),this.setData({user_id:i.inviter_id||wx.getStorageSync("sessionUserId")}),this.getInviteList(this.data.user_id)},getInviteList:function(t){var a=this;t&&wx.request({url:e,data:{inviter_id:t},header:{"Content-Type":"application/json",Cookie:i.globalData.sessionid},method:"GET",success:function(i){a.setData({result:i.data})}})},clickRuler:function(){this.setData({active_rule:!0})},hideTip:function(){this.setData({active_rule:!1})},onShareAppMessage:function(){return{title:"新用户使用本小程序，领1元微信红包【手慢无】",path:"/pages/index/index?is_invitation_task=1&inviter_id=".concat(this.data.user_id),imageUrl:"https://staff.chunyu.mobi/@/media/images/2019/08/28/d991/b3563856e7e2_w422_h338_.png"}},activityClick:function(){t("ActivityClick",{activity_name:"weixin_taskinvite1",click_position:"去邀请"})}});
},{isPage:true,isComponent:true,currentFile:'pages/reward_invite/index.js'});require("pages/reward_invite/index.js");$gwx_XC_200=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_200 || [];
function gz$gwx_XC_200_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_200_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_200_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_200_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'tip-btn-wrap'])
Z([3,'../fast_qa/index?is_newer_task\x3d1'])
Z([[7],[3,'popShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_200_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_200_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_200=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_200=true;
var x=['./pages/reward_mark/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_200_1()
var h1VB=_mz(z,'cy-navigator',['isSend',-1,'class',0,'url',1],[],e,s,gg)
_(r,h1VB)
var cZVB=_v()
_(r,cZVB)
if(_oz(z,2,e,s,gg)){cZVB.wxVkey=1
}
cZVB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_200";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_200();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/reward_mark/index.wxml'] = [$gwx_XC_200, './pages/reward_mark/index.wxml'];else __wxAppCode__['pages/reward_mark/index.wxml'] = $gwx_XC_200( './pages/reward_mark/index.wxml' );
	;__wxRoute = "pages/reward_mark/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/reward_mark/index.js";define("pages/reward_mark/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{popShow:!1},hidePop:function(){this.setData({popShow:!1})},showPop:function(){this.setData({popShow:!0})}});
},{isPage:true,isComponent:true,currentFile:'pages/reward_mark/index.js'});require("pages/reward_mark/index.js");$gwx_XC_201=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_201 || [];
function gz$gwx_XC_201_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_201_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_201_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_201_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_201_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_201_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_201=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_201=true;
var x=['./pages/rookie_task_finish/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_201_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_201";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_201();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rookie_task_finish/index.wxml'] = [$gwx_XC_201, './pages/rookie_task_finish/index.wxml'];else __wxAppCode__['pages/rookie_task_finish/index.wxml'] = $gwx_XC_201( './pages/rookie_task_finish/index.wxml' );
	;__wxRoute = "pages/rookie_task_finish/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/rookie_task_finish/index.js";define("pages/rookie_task_finish/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{},doPointEvent:function(){t("wxmini_toluckydraw")}});
},{isPage:true,isComponent:true,currentFile:'pages/rookie_task_finish/index.js'});require("pages/rookie_task_finish/index.js");$gwx_XC_202=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_202 || [];
function gz$gwx_XC_202_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_202_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_202_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_202_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_202_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_202_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_202=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_202=true;
var x=['./pages/rookie_task_first/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_202_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_202";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_202();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rookie_task_first/index.wxml'] = [$gwx_XC_202, './pages/rookie_task_first/index.wxml'];else __wxAppCode__['pages/rookie_task_first/index.wxml'] = $gwx_XC_202( './pages/rookie_task_first/index.wxml' );
	;__wxRoute = "pages/rookie_task_first/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/rookie_task_first/index.js";define("pages/rookie_task_first/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{imageList:["https://static.chunyuyisheng.com/@/media/images/2018/05/02/10aa/5d5709bf6d86_w405_h812_.png","https://static.chunyuyisheng.com/@/media/images/2018/05/02/121d/44a849db3b3e_w405_h812_.png"]},onShow:function(){t("wxmini_task0")},previewImg:function(t){var a=t.currentTarget.dataset.src;a&&wx.previewImage({current:a,urls:this.data.imageList})},onShareAppMessage:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/rookie_task_first/index.js'});require("pages/rookie_task_first/index.js");$gwx_XC_203=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_203 || [];
function gz$gwx_XC_203_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_203_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_203_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_203_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'wrap'])
Z([3,'inner'])
Z([3,'main'])
Z([3,'true'])
Z([3,'item'])
Z([[7],[3,'oldDialogue']])
Z([3,'idx'])
Z([3,'child'])
Z([[6],[[7],[3,'item']],[3,'content_list']])
Z([3,'toBottom'])
Z([[2,'?:'],[[2,'=='],[[6],[[7],[3,'item']],[3,'role']],[1,'r']],[1,'left'],[1,'right']])
Z([[2,'+'],[[7],[3,'idx']],[1,1]])
Z([[7],[3,'showLast']])
Z(z[9])
Z([3,'left'])
Z([3,'1'])
Z(z[12])
Z(z[9])
Z(z[14])
Z([3,'2'])
Z([[7],[3,'showBtn']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_203_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_203_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_203=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_203=true;
var x=['./pages/rookie_task_talk/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_203_1()
var l5VB=_n('view')
_rz(z,l5VB,'class',0,e,s,gg)
var t7VB=_mz(z,'view',['class',1,'id',1,'scrollY',2],[],e,s,gg)
var o0VB=_v()
_(t7VB,o0VB)
var xAWB=function(fCWB,oBWB,cDWB,gg){
var oFWB=_v()
_(cDWB,oFWB)
var cGWB=function(lIWB,oHWB,aJWB,gg){
var eLWB=_mz(z,'cy-talk',['bind:appendPop',9,'direction',1,'loadingTime',2],[],lIWB,oHWB,gg)
_(aJWB,eLWB)
return aJWB
}
oFWB.wxXCkey=4
_2z(z,8,cGWB,fCWB,oBWB,gg,oFWB,'child','idx','')
return cDWB
}
o0VB.wxXCkey=4
_2z(z,5,xAWB,e,s,gg,o0VB,'item','index','')
var e8VB=_v()
_(t7VB,e8VB)
if(_oz(z,12,e,s,gg)){e8VB.wxVkey=1
var bMWB=_mz(z,'cy-talk',['bind:appendPop',13,'direction',1,'loadingTime',2],[],e,s,gg)
_(e8VB,bMWB)
}
var b9VB=_v()
_(t7VB,b9VB)
if(_oz(z,16,e,s,gg)){b9VB.wxVkey=1
var oNWB=_mz(z,'cy-talk',['bind:appendPop',17,'direction',1,'loadingTime',2],[],e,s,gg)
_(b9VB,oNWB)
}
e8VB.wxXCkey=1
e8VB.wxXCkey=3
b9VB.wxXCkey=1
b9VB.wxXCkey=3
_(l5VB,t7VB)
var a6VB=_v()
_(l5VB,a6VB)
if(_oz(z,20,e,s,gg)){a6VB.wxVkey=1
}
a6VB.wxXCkey=1
_(r,l5VB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_203";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_203();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rookie_task_talk/index.wxml'] = [$gwx_XC_203, './pages/rookie_task_talk/index.wxml'];else __wxAppCode__['pages/rookie_task_talk/index.wxml'] = $gwx_XC_203( './pages/rookie_task_talk/index.wxml' );
	;__wxRoute = "pages/rookie_task_talk/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/rookie_task_talk/index.js";define("pages/rookie_task_talk/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";for(var t=getApp(),e=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),o=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i=a.baseUrl+"/robot/weixin_app/start_dialogue/",n=a.baseUrl+"/robot/weixin_app/get_next_dialogue/",s=a.baseUrl+"/robot/weixin_app/create_ehr/",l=a.baseUrl+"/cooperation/wap/create_free_problem/",r=[],c=1;c<=120;c++)r.push(c);Page({data:{age:null,sex:null,initPicker:"24",ageList:r,initDialogue:[],oldDialogue:[],nowDialogue:[],footerChoose:[],scrollPosition:null,num:1,saveFlag:!1,saveList:[],showLast:!1},onLoad:function(t){e("wxmini_lead0"),this.getStartDialogue()},getStartDialogue:function(){var e=this;wx.request({url:i,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(t){e.setData({initDialogue:t.data.dialogue_content||""}),e.initData()},fail:function(){}})},getNextDialogue:function(){var e=this;wx.request({url:n,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{sex:e.data.sex||"",age:e.data.age||"",q_num:e.data.num},success:function(t){++e.data.num,t.data.success?setTimeout((function(){e.nextData(t.data.dialogue_content)}),1e3):setTimeout((function(){e.endTalk()}),1e3)},fail:function(){}})},initData:function(){var t=this,e=this.data.initDialogue,a=1e3*e[0].content_list.length;t.setData({nowDialogue:e[0],oldDialogue:e}),setTimeout((function(){t.setData({footerChoose:e[0].children})}),a)},chooseBtn:function(t){var e=this,a=t.currentTarget.dataset,o=a.id,i=this.data.nowDialogue;a.sex&&e.chooseSex(a.sex),"age_picker"===a.action&&e.pickerChange(t),i.children.forEach((function(t,i){if(t.id==o){e.data.saveFlag&&e.saveProblemData(t),"age_picker"===a.action&&(t.content_list[0].content=e.data.age+"岁");var n=Object.assign({},t.children[0]);if(delete t.children[0],e.data.oldDialogue.push(t),e.setData({nowDialogue:n,oldDialogue:e.data.oldDialogue,footerChoose:null}),setTimeout((function(){e.data.oldDialogue.push(n),e.setData({oldDialogue:e.data.oldDialogue}),n.children&&n.children.length||(e.getNextDialogue(),e.data.saveFlag=!0)}),200),n.content_list){var s=1e3*n.content_list.length+200;setTimeout((function(){e.setData({footerChoose:n.children||[]})}),s)}}}))},saveProblemData:function(t){if(t.content_list&&t.content_list.length){var e=t.content_list[t.content_list.length-1];if("u"===t.role){var a={answer:e.content};Object.assign(this.data.saveList[this.data.saveList.length-1],a)}else this.data.saveList.push(e)}},chooseSex:function(t){this.setData({sex:"男"===t?"m":"f"})},pickerChange:function(t){var a=t.detail.value,o=r[a];this.setData({age:o}),e("wxmini_lead1")},nextData:function(t){var e=this,a=t,o=1e3*a[0].content_list.length;e.data.oldDialogue.push(a[0]),e.saveProblemData(a[0]),e.setData({nowDialogue:a[0],oldDialogue:e.data.oldDialogue}),setTimeout((function(){e.setData({footerChoose:a[0].children})}),o)},endTalk:function(){var t=this;t.setData({showLast:!0,saveList:this.data.saveList}),setTimeout((function(){t.setData({showBtn:!0})}),2e3)},submitData:function(){var a="";this.createEhr();this.data.saveList.len;this.data.saveList.forEach((function(t,e){a+="".concat(t.content,"(").concat(t.answer,")\n")}));var i=[{type:"text",text:a},{type:"patient_meta",sex:"f"===this.data.sex?"女":"男",age:"".concat(this.data.age,"岁")}],n={from_wx_mini:1,content:JSON.stringify(i),partner:"chunyu_wap_mini",is_newer_task:1};wx.request({url:l,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:o(n),success:function(t){if(0==(t=t.data).error){var a=t.problem_id;e("wxmini_lead2"),wx.redirectTo({url:"../qa_im/index?problem_id="+a})}else wx.showToast({title:t.error_msg,icon:"loading"})}})},createEhr:function(){wx.request({url:s,method:"POST",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{sex:this.data.sex,age:this.data.age},success:function(t){t.success||console.log(t.data.error_msg||"创建档案失败")},fail:function(){console.log("创建档案失败")}})},toBottom:function(){var t=this,e=wx.createSelectorQuery();e.select("#main").boundingClientRect(),e.selectViewport().scrollOffset(),e.exec((function(e){e[0]&&t.setData({scrollTop:e[0].height})}))}});
},{isPage:true,isComponent:true,currentFile:'pages/rookie_task_talk/index.js'});require("pages/rookie_task_talk/index.js");$gwx_XC_204=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_204 || [];
function gz$gwx_XC_204_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_204_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_204_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_204_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'container '],[[7],[3,'overflow']]])
Z([[2,'!='],[[7],[3,'doctor_list']],[1,'']])
Z([[7],[3,'doctor_list']])
Z([3,'item.id'])
Z([[6],[[7],[3,'item']],[3,'hospital_tag']])
Z([3,'知道了'])
Z([[7],[3,'showTip']])
Z([3,''])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_204_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_204_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_204=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_204=true;
var x=['./pages/rookie_task_third/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_204_1()
var oPWB=_n('view')
_rz(z,oPWB,'class',0,e,s,gg)
var fQWB=_v()
_(oPWB,fQWB)
if(_oz(z,1,e,s,gg)){fQWB.wxVkey=1
var cRWB=_v()
_(fQWB,cRWB)
var hSWB=function(cUWB,oTWB,oVWB,gg){
var aXWB=_v()
_(oVWB,aXWB)
if(_oz(z,4,cUWB,oTWB,gg)){aXWB.wxVkey=1
}
aXWB.wxXCkey=1
return oVWB
}
cRWB.wxXCkey=2
_2z(z,2,hSWB,e,s,gg,cRWB,'item','index','item.id')
}
else{fQWB.wxVkey=2
}
fQWB.wxXCkey=1
_(r,oPWB)
var tYWB=_mz(z,'cy-modal',['btnText',5,'show',1,'title',2],[],e,s,gg)
_(r,tYWB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_204";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_204();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rookie_task_third/index.wxml'] = [$gwx_XC_204, './pages/rookie_task_third/index.wxml'];else __wxAppCode__['pages/rookie_task_third/index.wxml'] = $gwx_XC_204( './pages/rookie_task_third/index.wxml' );
	;__wxRoute = "pages/rookie_task_third/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/rookie_task_third/index.js";define("pages/rookie_task_third/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../@babel/runtime/helpers/defineProperty"),t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,c=e.baseUrl+"/cooperation/wap/doctor/search/",s=e.baseUrl+"/cooperation/wap/clinics/",n=e.baseUrl+"/api/v5/doctor/",o=e.baseUrl+"/events/newer_task/newer_task_finish/",l=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint;Page({data:{city_selected:"",clinic_selected:"",city_display:"hide",clinic_display:"hide",tips_display:"hide",doctor_list:[],doc_num:"",overflow:"",count_per_page:10,all_province:"",all_clinic:"",city_all:"全部",clinic_all:"全部科室",city:"全国",clinic:"全部科室",clinic_list:"",city_list:"",page:1,len:"",displayCity:"hide",displayClinic:"hide",selectSearchAllCity:"",selectSearchAllClinic:"",clinic_no:"",second_clinic_no:"",province_name:"",isProvinceName:!1,selected:"",provinceSelected:"",is_selected:"",index:"",count:0},getDoctorList:function(i){var e=this,a=e.data.page,s=e.data.doctor_list,n=t.globalData.sessionid||wx.getStorageSync("sessionid");i.sh_hospital=1,i.title_list=1,wx.request({url:c,header:{"Content-Type":"application/json",Cookie:n},data:i,method:"GET",success:function(i){i=i.data,e.setData({page:a+1,doctor_list:s.concat(i.doctor_list),doc_num:i.doctor_list.length})}})},onLoad:function(i){var e=this,a=e.data.page,c=i.id?i.id:"",s=i.second_class_clinic_no||"",n=i.key?i.key:"",o=i.clinic?i.clinic:e.data.clinic,l={from_wx_mini:1,city:"",clinic_no:c,count_per_page:10,page:a,partner:t.globalData.partner,province:"",second_class_clinic_no:s,query:n};e.getDoctorList(l),e.setData({clinic:o,key:"",clinic_no:c}),wx.getStorage({key:"user_id",success:function(i){i.data&&e.setData({user_id:i.data})}})},showProvince:function(i){var e=this,a=(i.currentTarget.dataset.name,t.globalData.sessionid||wx.getStorageSync("sessionid"));"city"&&e.setData({city_selected:"item--selected",clinic_selected:"",city_display:"show",clinic_display:"hide",tips_display:"show",overflow:"overflow"}),wx.request({url:s,data:{from_wx_mini:1,partner:t.globalData.partner,is_json:"1"},method:"GET",header:{"Content-Type":"application/json",Cookie:a},success:function(i){i.data.province_list.forEach((function(t,a){t.is_selected=0,e.setData({index:a,all_province:i.data.province_list})}))}})},searchAllArea:function(i){this.data.doctor_list=[],this.setData({selectSearchAllCity:"botder__left__item--selected"});var e=this.data.clinic_no,a=this.data.city_all,c=(this.data.province_name,i.currentTarget.dataset.city,this.data.city_list,this.data.len,this.data.key?this.data.key:""),s={city:"",clinic_no:e,count_per_page:10,page:1,partner:t.globalData.partner,province:"",second_class_clinic_no:"",query:c};this.getDoctorList(s),this.setData({selectSearchAllCity:"",city_display:"hide",tips_display:"hide",city:a,overflow:"",displayCity:"hide"})},showCitySelect:function(i){var t=this,e=t.data.all_province,a=i.currentTarget.dataset.id,c=i.currentTarget.dataset.province;e.forEach((function(i){i.is_selected=0})),e[i.currentTarget.dataset.index].is_selected=1,t.setData({province_name:c,all_province:e}),e.forEach((function(i){i.code==a&&t.setData({city_list:i.city_list,province_name:c,displayCity:"show"})}))},searchDoctorCity:function(i){this.data.doctor_list=[];var e=this.data.key?this.data.key:"",a=this.data.clinic_no,c=this.data.province_name,s=i.currentTarget.dataset.city,n=this.data.city_list,o=(this.data.len,this.data.second_clinic_no);if(this.setData({city_name:s}),""==n){var l={city:"",clinic_no:a,count_per_page:10,page:1,partner:t.globalData.partner,province:c,second_class_clinic_no:o,query:e};this.getDoctorList(l),this.setData({city_display:"hide",tips_display:"hide",city:c,overflow:"",city_name:"",province_name:c})}else{l={city:s||"",clinic_no:a,count_per_page:10,page:1,partner:t.globalData.partner,province:c,second_class_clinic_no:o||"",query:e};this.getDoctorList(l),this.setData({city_display:"hide",tips_display:"hide",city:s||c,overflow:"",city_name:s||"",province_name:c})}},clinicSearch:function(i){var e=this,a=(i.currentTarget.dataset.name,t.globalData.sessionid||wx.getStorageSync("sessionid"));"clinic"&&e.setData({city_selected:"",clinic_selected:"item--selected",city_display:"hide",clinic_display:"show",tips_display:"show",overflow:"overflow"}),wx.request({url:s,data:{from_wx_mini:1,partner:t.globalData.partner,is_json:"1"},method:"GET",header:{"Content-Type":"application/json",Cookie:a},success:function(i){i.data.clinic_list.forEach((function(t,a){e.setData({all_clinic:i.data.clinic_list,index:a})}))}})},showClinicSelect:function(i){var t=this,e=t.data.all_clinic,a=i.currentTarget.dataset.clinicid,c=i.currentTarget.dataset.clinic;e.forEach((function(i){i.is_selected=0}));var s=i.currentTarget.dataset.index;e[s].is_selected=1,e.forEach((function(i){i.clinic_no==a&&t.setData({all_clinic:e,clinic_list:i.second_class_clinics,clinic_no:a,clinic_name:c,displayClinic:"show"})}))},searchAllClinic:function(i){this.data.doctor_list=[];this.data.clinic_no;var e=this.data.clinic_all,a=this.data.key?this.data.key:"",c=this.data.clinic_name?this.data.clinic_name:this.data.clinic_all;this.setData({selectSearchAllClinic:"botder__left__item--selected"});var s={city:"",clinic_no:"",count_per_page:10,page:1,partner:t.globalData.partner,province:"",second_class_clinic_no:"",query:a};this.getDoctorList(s),this.setData({clinic_display:"hide",tips_display:"hide",clinic_name:c,overflow:"",clinic:e,selectSearchAllClinic:"",displayClinic:"hide"})},searchClinicName:function(e){this.data.doctor_list=[];var a=this.data.clinic_list,c=this.data.province_name,s=this.data.city_name?this.data.city_name:"",n=e.currentTarget.dataset.clinicid,o=e.currentTarget.dataset.clinic,l=e.currentTarget.dataset.clinic,r=this.data.key?this.data.key:"";if(""==a){var d={city:s,clinic_no:n,count_per_page:10,page:1,partner:t.globalData.partner,province:c,second_class_clinic_no:"",query:r};this.getDoctorList(d),this.setData(i({clinic:l,clinic_display:"hide",tips_display:"hide",overflow:""},"clinic",o))}else{var _;d={city:s,clinic_no:n,count_per_page:10,page:1,partner:t.globalData.partner,province:c,second_class_clinic_no:second_clinic_no||"",query:r};this.getDoctorList(d),this.setData((i(_={clinic:l,clinic_display:"hide",tips_display:"hide",overflow:""},"clinic",second_clinic_name||o),i(_,"second_clinic_no",second_clinic_no),_))}},hideSearch:function(){this.setData({city_display:"hide",clinic_display:"hide",tips_display:"hide",city_selected:"",clinic_selected:"",overflow:""})},onReachBottom:function(){this.data.doc_num==this.data.count_per_page&&this.loadMore()},loadMore:function(i){var e=this.data.key?this.data.key:"",a=this.data.page,c=this.data.clinic_no?this.data.clinic_no:"",s=this.data.province_name?this.data.province_name:"",n=(this.data.second_clinic_no,this.data.second_clinic_no),o={city:this.data.city_name?this.data.city_name:"",clinic_no:c,count_per_page:10,page:a,partner:t.globalData.partner,province:s,second_class_clinic_no:n,query:e};this.getDoctorList(o)},followDoctor:function(i){var e=this,c=i.target.dataset.key,s=i.target.dataset.doctorId,o={from_wx_mini:1,partner:t.globalData.partner,follow:1};wx.request({url:n+s+"/follow",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:t.globalData.sessionid},data:a(o),success:function(i){console.log(c),console.log(e.data.doctor_list[c]);var t=e.data.doctor_list;t[c].has_followed=!0,e.setData({doctor_list:t}),e.data.count++},fail:function(i){console.log(i.data.error_msg)}})},submit:function(){this.data.count<1?this.setData({showTip:!0}):wx.request({url:o,header:{Cookie:t.globalData.sessionid},data:{share_user_id:this.data.user_id||"0"},success:function(i){i.data.success?(l("wxmini_task3"),wx.redirectTo({url:"../rookie_task_finish/index",success:function(i){},fail:function(i){},complete:function(i){}})):wx.showToast({title:i.data.error_msg,icon:"none"})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/rookie_task_third/index.js'});require("pages/rookie_task_third/index.js");$gwx_XC_205=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_205 || [];
function gz$gwx_XC_205_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_205_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_205_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_205_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_205_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_205_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_205=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_205=true;
var x=['./pages/sel_doc/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_205_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_205";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_205();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/sel_doc/index.wxml'] = [$gwx_XC_205, './pages/sel_doc/index.wxml'];else __wxAppCode__['pages/sel_doc/index.wxml'] = $gwx_XC_205( './pages/sel_doc/index.wxml' );
	;__wxRoute = "pages/sel_doc/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/sel_doc/index.js";define("pages/sel_doc/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{motto:"Hello World",userInfo:{}},bindViewTap:function(){},onLoad:function(){console.log("onLoad")}});
},{isPage:true,isComponent:true,currentFile:'pages/sel_doc/index.js'});require("pages/sel_doc/index.js");$gwx_XC_206=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_206 || [];
function gz$gwx_XC_206_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_206_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_206_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_206_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'goToPay'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_206_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_206_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_206=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_206=true;
var x=['./pages/send_heart/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_206_1()
var o2WB=_n('cy-userinfo')
_rz(z,o2WB,'bindloginevent',0,e,s,gg)
_(r,o2WB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_206";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_206();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/send_heart/index.wxml'] = [$gwx_XC_206, './pages/send_heart/index.wxml'];else __wxAppCode__['pages/send_heart/index.wxml'] = $gwx_XC_206( './pages/send_heart/index.wxml' );
	;__wxRoute = "pages/send_heart/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/send_heart/index.js";define("pages/send_heart/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");Page({data:{display:"hide",tips_display:"hide",selected:"",selected_text:"",more_text:"更多",thanks_value:"",more_num:"金额",num:[{tag:2,price:"2元",title:"一点心意",is_selected:"0"},{tag:8,price:"8元",title:"白衣天使",is_selected:"0"},{tag:12,price:"12元",title:"医德高尚",is_selected:"0"},{tag:36,price:"36元",title:"德医双馨",is_selected:"0"}],text_val:"",doctor_name:"",doctor_id:"",doctor_img:"",selected_num:"",reward_list:[],heart_type:"doctor",group_name:"",group_id:"",page:1},selectNum:function(t){var e=this.data.num,a=t.target.dataset.tag,o=t.target.dataset.title;e.forEach((function(t){t.is_selected="0"})),this.setData({num:e,selected:"",selected_text:""}),e.forEach((function(t){t.tag==a&&(t.is_selected="1")})),this.setData({num:e,text_val:o,thanks_value:"",selected_num:a,more_text:"更多",more_num:"金额"})},moreNum:function(t){var e=this.data.num,a=t.currentTarget.dataset.title;console.log(t),e.forEach((function(t){t.is_selected="0"})),this.setData({num:e,display:"show",selected:"selected",selected_text:"selected__text",text_val:a})},tipsConcel:function(){this.setData({display:"hide"}),console.log(this.data.display)},getNum:function(t){var e=t.detail.value;console.log(e),e<37||e>288?this.setData({selected_num:e,tips_display:"show"}):this.setData({selected_num:e,tips_display:"hide"})},tipsOk:function(){var t=this.data.selected_num;if(console.log(t),t<37||t>288)return this.setData({tips_display:"show"}),!1;this.setData({tips_display:"hide",display:"hide",more_text:t,more_num:"修改"}),console.log(t)},getText:function(t){var e=t.detail.value;console.log(e),this.setData({text_val:e}),console.log(this.data.text_val)},onLoad:function(e){console.log("当前参数：",e);this.setData({doctor_name:e.name||e.doctor_name,doctor_id:e.id||e.doctor_id,doctor_img:e.img||e.doctor_img,heart_type:e.heart_type||"",group_id:e.group_id||"",group_name:e.group_name||"","urlData.from_page":e.from_page});var a=this.data.doctor_id;this.getRewardList(a),this.getDoctorDetail(a),"counselor"===this.data.heart_type&&t.sensors.track("AdviserMind",{app:"wx_mini",group_id:this.data.group_id,group_name:this.data.group_name,doctor_id:this.data.doctor_id})},getDoctorDetail:function(a){var o=this;wx.request({url:e.baseUrl+"/cooperation/wap/doctor_detail_info/",data:{from_wx_mini:1,doctor_id:a,partner:t.globalData.partner,is_json:1},method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(t){console.log(t),o.setData({doctor_name:t.data.doctor_detail.doc_name,doctor_img:t.data.doctor_detail.doc_image})}})},onReachBottom:function(){this.setData({page:this.data.page+1}),this.getRewardList(this.data.doctor_id,this.data.page)},inputHandle:function(t){this.setData({text_val:t.detail.value}),t.detail.cursor>=500&&wx.showToast({title:"送心意留言不能超过500字",icon:"none",duration:1500})},getRewardList:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,s=i.data.reward_list,r=null;wx.request({url:e.baseUrl+"/api/v5/reward_doctor/"+a+"/reward_list?version=8.3.2",data:{from_wx_mini:1,partner:t.globalData.partner,page:o},method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},success:function(t){console.log(t.data.reward_list),r=s.concat(t.data.reward_list),i.setData({reward_list:r})}})},goToPay:function(){var e=this.data.text_val,a=this.data.selected_num,o=this.data.doctor_id,i=this.data.doctor_name,s=this.data.doctor_img,r=this.data.heart_type,d=Number(this.data.group_id);if(""==a)return wx.showToast({title:"请输入金额",icon:"loading",duration:2e3}),!1;var n={from_wx_mini:1,finish_success_url:"",finish_fail_url:"",order_name:i+"-送心意",order_type:"reward_doctor",partner:t.globalData.partner,info_dict:{doctor_id:o,price:parseInt(a),reward_words:e}};"counselor"===r?(n.info_dict.group_id=d,n.info_dict.source="wx_group",t.globalData.heart_type="counselor"):t.globalData.heart_type="doctor",t.globalData.order_data=n,console.log(t.globalData,"支付参数"),wx.redirectTo({url:"../payment/index?mark=sendheart&price="+a+"&name="+i+"&id="+o+"&group_id="+d+"&doctor_img="+s})}});
},{isPage:true,isComponent:true,currentFile:'pages/send_heart/index.js'});require("pages/send_heart/index.js");$gwx_XC_207=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_207 || [];
function gz$gwx_XC_207_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_207_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_207_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_207_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_207_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_207_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_207=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_207=true;
var x=['./pages/send_heart_ok/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_207_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_207";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_207();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/send_heart_ok/index.wxml'] = [$gwx_XC_207, './pages/send_heart_ok/index.wxml'];else __wxAppCode__['pages/send_heart_ok/index.wxml'] = $gwx_XC_207( './pages/send_heart_ok/index.wxml' );
	;__wxRoute = "pages/send_heart_ok/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/send_heart_ok/index.js";define("pages/send_heart_ok/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({data:{doc_id:"",doc_name:"",doc_img:"",heart_type:"doctor"},onLoad:function(e){this.setData({doc_id:e.doc_id,doc_name:e.name,heart_type:e.heart_type,doc_img:e.doc_img})},backToPreviousPage:function(){var e=wx.getStorageSync("SEND_HEART_INFO");wx.removeStorageSync("SEND_HEART_INFO"),console.log(e);var a=this.data.doc_id,t=this.data.doc_name,o=this.data.doc_img,c=this.data.heart_type;if(e&&"graph"===e.type)wx.navigateBack({delta:1});else if("inquiry"===e.type)wx.navigateBack({delta:1});else{if(a&&"counselor"===c)return void wx.redirectTo({url:"../send_heart/index?id=".concat(a,"&name=").concat(t,"&img=").concat(o,"&heart_type=").concat(c)});a&&wx.redirectTo({url:"../doc_mainpage/index?doc_id="+a})}}});
},{isPage:true,isComponent:true,currentFile:'pages/send_heart_ok/index.js'});require("pages/send_heart_ok/index.js");$gwx_XC_208=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_208 || [];
function gz$gwx_XC_208_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_208_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_208_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_208_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isLogin']])
Z([[7],[3,'desc']])
Z([[2,'==='],[[7],[3,'status']],[1,'i']])
Z([3,'loginSuccess'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_208_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_208_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_208=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_208=true;
var x=['./pages/service_order/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_208_1()
var f5WB=_v()
_(r,f5WB)
if(_oz(z,0,e,s,gg)){f5WB.wxVkey=1
var c6WB=_n('view')
var h7WB=_v()
_(c6WB,h7WB)
if(_oz(z,1,e,s,gg)){h7WB.wxVkey=1
}
var o8WB=_v()
_(c6WB,o8WB)
if(_oz(z,2,e,s,gg)){o8WB.wxVkey=1
}
h7WB.wxXCkey=1
o8WB.wxXCkey=1
_(f5WB,c6WB)
}
else{f5WB.wxVkey=2
var c9WB=_n('cy-userinfo')
_rz(z,c9WB,'bindloginevent',3,e,s,gg)
_(f5WB,c9WB)
}
f5WB.wxXCkey=1
f5WB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_208";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_208();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/service_order/index.wxml'] = [$gwx_XC_208, './pages/service_order/index.wxml'];else __wxAppCode__['pages/service_order/index.wxml'] = $gwx_XC_208( './pages/service_order/index.wxml' );
	;__wxRoute = "pages/service_order/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/service_order/index.js";define("pages/service_order/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../ACF33105829A079CCA9559029C0D7B70.js");require("../../BC983DD1829A079CDAFE55D6E84D7B70.js");Page({data:{isLogin:!1,orderId:"",orderNo:"",status:"",statusText:"",price:"",serviceId:"",serviceType:"",serviceTypeText:"",des:"",orderType:"",clinicName:""},onLoad:function(e){this.options=e;var t=decodeURIComponent(e.scene),r=t=this.parseScene(t),i=r.type,o=r.id;this.options.serviceId=e.scene,this.options.recordId=o,this.options.orderType=i},onReady:function(){},onShow:function(){var t=this;e.globalData.appIsLogin.then((function(){t.loginSuccess()}),(function(){t.setData({isLogin:!1})}))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var e=this,t=Object.keys(this.options).map((function(t){return"".concat(t,"=").concat(e.options[t]||"")})).join("&");return{title:"服务订单",path:"/pages/service_order/index?".concat(t)}},loginSuccess:function(){this.setData({isLogin:!0}),this.init()},init:function(){var e=this.options,t=e.serviceId,r=e.service_id,i=e.recordId,o=e.orderType;i&&o?this.getDetail(i,o):(t||r)&&this.getServiveDetail(t||r)},getServiveDetail:function(e){var r=this;t({url:"/api/v8/expert/".concat(e,"/detail/?is_json=1"),success:function(t){var i=t.data||{};0===i.error_code&&(r.payUrl="/pages/payment/index?payment_order_id=".concat(i.order_id,"&mark=service_order&service_id=").concat(e),r.setData({orderId:i.order_id,orderNo:(i.order_id||"").substr(-8),status:i.status,statusText:i.status_text,price:i.price,serviceType:i.service_type,serviceTypeText:i.service_type_text,desc:i.desc,serviceId:e}))}})},getDetail:function(e,r){var i=this,o="",n="";t({url:"/api/crm/task/order/detail/?record_id=".concat(e,"&order_type=").concat(r),success:function(t){var s=t.data||{},a=s.error_code,c=s.payload;0===a&&("fast_phone"==r?(o="快捷电话服务",n=c.desc,i.payUrl="/pages/payment/index?payment_order_id=".concat(c.order_id,"&&mark=fast_phone&common_pay=true&clinic_name=").concat(c.clinic_name,"&price=").concat(c.price)):"inquiry"==r&&(o="春雨专家服务",n=c.desc,i.payInfo=c),i.setData({orderId:c.order_id,orderNo:(c.order_id||"").substr(-8),status:c.pay_status,statusText:c.pay_status_verbose,price:c.price,serviceTypeText:o,desc:n,serviceId:e,clinicName:c.clinic_name}))},error:function(e){console.log(e)}})},parseScene:function(e){var t={};return"string"!=typeof e||e.split("&").forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=e.split("=");t[r[0]]=r[1]})),t},goBuy:function(){var t=this.options.orderType,r=this.payUrl,i=this.payInfo;if(!r){var o={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:i.desc,order_type:t,info_dict:i.info_dict,partner:e.globalData.partner};return e.globalData.order_data=o,void wx.navigateTo({url:"/pages/payment/index?name=".concat(i.desc&&i.desc.split("-")[0],"&mark=").concat(t,"&common_pay=true&price=").concat(i.price)})}wx.navigateTo({url:r})}});
},{isPage:true,isComponent:true,currentFile:'pages/service_order/index.js'});require("pages/service_order/index.js");$gwx_XC_209=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_209 || [];
function gz$gwx_XC_209_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_209_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_209_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_209_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showVip']])
Z([[7],[3,'abstractList']])
Z([[7],[3,'benefitsCount']])
Z([[7],[3,'benefitsList']])
Z([3,'vipStatusChangeEvent'])
Z([[7],[3,'isVipSelected']])
Z([[7],[3,'vipInfo']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_209_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_209_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_209=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_209=true;
var x=['./pages/service_update/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_209_1()
var lAXB=_v()
_(r,lAXB)
if(_oz(z,0,e,s,gg)){lAXB.wxVkey=1
var aBXB=_mz(z,'cy-vip',['abstractList',1,'benefitsCount',1,'benefitsList',2,'bind:vipStatusChange',3,'isVipSelected',4,'vipInfo',5],[],e,s,gg)
_(lAXB,aBXB)
}
lAXB.wxXCkey=1
lAXB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_209";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_209();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/service_update/index.wxml'] = [$gwx_XC_209, './pages/service_update/index.wxml'];else __wxAppCode__['pages/service_update/index.wxml'] = $gwx_XC_209( './pages/service_update/index.wxml' );
	;__wxRoute = "pages/service_update/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/service_update/index.js";define("pages/service_update/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=t.baseUrl+"/cooperation/wap/enable_free_problem/",a=t.baseUrl+"/events/activity/heart/re_collect/",r=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param;Page({data:{curUpgrade:{},qaUpgradeList:[],totalPrice:0,problemId:"",inSubmit:!1,showVip:!1,vipInfo:{},abstractList:[],benefitsCount:0,benefitsList:[],isVipSelected:!1},onLoad:function(e){var t=e.problem_id,i=void 0===t?"":t;this.setData({problemId:i});var a=!1,r={},o=[],n=[],c=0,d=!1,s={};try{var p=wx.getStorageSync("chunyu_vip_info");if(p&&(p=JSON.parse(p),Object.keys(p).length)){a=!0;var l=p,u=l.facade_scene,_=void 0===u?{}:u,v=l.vip_info,g=void 0===v?{}:v;r={title:g.title||"",desc:g.desc||"",price:g.price||0,priceDesc:g.price_desc||"¥".concat(g.price)},d=Boolean(g.is_selected);var b=_.abstract_list,f=void 0===b?[]:b,m=_.detail_list,h=void 0===m?[]:m,w=_.detail_count,S=void 0===w?0:w;o=f.map((function(e,t){return{no:e.no||"vip_".concat(t),benefitName:e.benefit_name||"",iconUrl:e.icon_url||"",benefitAbstract:e.benefit_abstract||"",tipDesc:e.tip_desc||""}})),n=h.map((function(e,t){return{idx:t,groupName:e.group_name||"",facadeList:(e.facade_list||[]).map((function(t,i){return{no:e.no||"vip_".concat(i),benefitName:t.benefit_name||"",iconUrl:t.icon_url||"",benefitAbstract:t.benefit_abstract||""}}))}})),c=S}}catch(e){console.log(e)}var x=[];try{var y=wx.getStorageSync("qa_upgrade");y&&(x=(y=JSON.parse(y)).map((function(e,t){return{idx:t,title:e.title||"",price:e.price||0,type:e.type||"",priceText:e.price_text||"¥".concat(e.price),desc:e.desc||""}})))}catch(e){console.log(e)}var U=this.data.totalPrice,q=void 0===U?0:U;d?q=r.price:x.length&&(q=x[0].price,s=x[0]),this.setData({showVip:a,vipInfo:r,abstractList:o,benefitsList:n,benefitsCount:c,isVipSelected:d,qaUpgradeList:x,curUpgrade:s,totalPrice:q})},upgradeChangeEvent:function(e){var t=this.data,i=t.curUpgrade,a=void 0===i?{}:i,r=t.isVipSelected,o=void 0!==r&&r,n=t.totalPrice,c=void 0===n?0:n,d=t.qaUpgradeList,s=void 0===d?[]:d,p=e.currentTarget.dataset.type,l=s.find((function(e){return e.type===p}))||{};a.type===p?(a={},c=0):(o=!1,c=(a=l).price),this.setData({curUpgrade:a,isVipSelected:o,totalPrice:c})},vipStatusChangeEvent:function(){var e=this.data,t=e.isVipSelected,i=void 0!==t&&t,a=e.curUpgrade,r=void 0===a?{}:a,o=e.totalPrice,n=void 0===o?0:o;(i=!i)?(r={},n=this.data.vipInfo.price):n=0,this.setData({isVipSelected:i,curUpgrade:r,totalPrice:n})},getQAUpgradeOrder:function(){var t=this.data,i=t.problemId,a=void 0===i?"":i,r=t.curUpgrade,o=void 0===r?{}:r,n=t.isVipSelected,c=void 0!==n&&n,d={from_wx_mini:1,partner:e.globalData.partner,finish_success_url:"../qa_im/index?partner=chunyu_wap_mini",finish_fail_url:"",order_name:"",order_type:"qa_upgrade"},s={problem_id:a,upgrade_type:o.type||"",vip_type:"gc",from_media_page:!0};c?(s.select_wx_vip=!0,s.upgrade_type="qc_hospital_upgrade"):s.select_wx_vip=!1,d.info_dict=s,e.globalData.order_data=d,wx.navigateTo({url:"/pages/payment/index?mark=qadoc&problemId=".concat(a)})},handleUpgradeService:function(){this.getQAUpgradeOrder()},enableFreeProblem:function(){var t=this.data,a=t.problemId,r=void 0===a?"":a,o=t.inSubmit,n=void 0!==o&&o,c={from_wx_mini:1,partner:e.globalData.partner,problem_id:r};if(!n){wx.showToast({title:"正在提交"});var d=this;this.data.inSubmit=!0,wx.request({url:i,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},data:c,complete:function(){d.data.inSubmit=!1},success:function(e){var t=e.data,i=void 0===t?{}:t;1==i.error?wx.showToast({icon:"none",title:i.error_msg||"问题创建失败"}):(d.setDoubleHeart(r),setTimeout((function(){wx.redirectTo({url:"/pages/qa_im/index?problem_id="+r})}),500))}})}},setDoubleHeart:function(t){var i=wx.getStorageSync("double_heart_problem_id");i&&wx.request({url:a,data:r({collect_problem_id:i,created_problem_id:t||""}),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:e.globalData.sessionid},success:function(e){e.data.success?(console.log("二次送爱心成功"),wx.removeStorageSync("double_heart_problem_id")):console.log(e.data)},error:function(e){console.log(e.data)}})}});
},{isPage:true,isComponent:true,currentFile:'pages/service_update/index.js'});require("pages/service_update/index.js");$gwx_XC_210=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_210 || [];
function gz$gwx_XC_210_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_210_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_210_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_210_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'i'])
Z([3,'item'])
Z([[7],[3,'mould_data']])
Z([3,'index'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mould']],[1,'link']])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mould']],[1,'add_group_chat_v2']])
Z([[6],[[6],[[7],[3,'item']],[3,'add_group_chat_v2']],[3,'group_chat_id']])
Z([3,'AppClick'])
Z([a,[3,'inner-group-warp '],[[2,'?:'],[[2,'==='],[[6],[[6],[[7],[3,'item']],[3,'add_group_chat_v2']],[3,'btn_position']],[1,'embedded']],[1,''],[1,'embedded-group-warp']]])
Z([3,'completemessage'])
Z([3,'startmessage'])
Z(z[6])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mould']],[1,'coupon']])
Z([3,'loginSuccess'])
Z([3,'loginFail'])
Z([3,'getCoupon'])
Z([3,'/pages/my_coupon/index'])
Z([3,'jumpHome'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'mould']],[1,'customer_service']])
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
Z(z[13])
Z(z[14])
Z([[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'user_id']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_210_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_210_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_210=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_210=true;
var x=['./pages/special/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_210_1()
var eDXB=_v()
_(r,eDXB)
var bEXB=function(xGXB,oFXB,oHXB,gg){
var cJXB=_v()
_(oHXB,cJXB)
if(_oz(z,4,xGXB,oFXB,gg)){cJXB.wxVkey=1
}
var hKXB=_v()
_(oHXB,hKXB)
if(_oz(z,5,xGXB,oFXB,gg)){hKXB.wxVkey=1
var oNXB=_v()
_(hKXB,oNXB)
if(_oz(z,6,xGXB,oFXB,gg)){oNXB.wxVkey=1
var lOXB=_mz(z,'view',['bindtap',7,'class',1],[],xGXB,oFXB,gg)
var aPXB=_mz(z,'cell',['bind:completemessage',9,'bind:startmessage',1,'plugid',2],[],xGXB,oFXB,gg)
_(lOXB,aPXB)
_(oNXB,lOXB)
}
oNXB.wxXCkey=1
oNXB.wxXCkey=3
}
var oLXB=_v()
_(oHXB,oLXB)
if(_oz(z,12,xGXB,oFXB,gg)){oLXB.wxVkey=1
var tQXB=_mz(z,'cy-userinfo',['bindloginevent',13,'bindloginfail',1,'bindtap',2],[],xGXB,oFXB,gg)
_(oLXB,tQXB)
var eRXB=_n('cy-userinfo')
_rz(z,eRXB,'url',16,xGXB,oFXB,gg)
_(oLXB,eRXB)
var bSXB=_n('cy-userinfo')
_rz(z,bSXB,'bindloginevent',17,xGXB,oFXB,gg)
_(oLXB,bSXB)
}
var cMXB=_v()
_(oHXB,cMXB)
if(_oz(z,18,xGXB,oFXB,gg)){cMXB.wxVkey=1
var oTXB=_v()
_(cMXB,oTXB)
if(_oz(z,19,xGXB,oFXB,gg)){oTXB.wxVkey=1
var oVXB=_mz(z,'cy-userinfo',['bindisloginevent',20,'bindloginevent',1,'bindloginfail',2],[],xGXB,oFXB,gg)
_(oTXB,oVXB)
}
var xUXB=_v()
_(cMXB,xUXB)
if(_oz(z,23,xGXB,oFXB,gg)){xUXB.wxVkey=1
}
oTXB.wxXCkey=1
oTXB.wxXCkey=3
xUXB.wxXCkey=1
}
cJXB.wxXCkey=1
hKXB.wxXCkey=1
hKXB.wxXCkey=3
oLXB.wxXCkey=1
oLXB.wxXCkey=3
cMXB.wxXCkey=1
cMXB.wxXCkey=3
return oHXB
}
eDXB.wxXCkey=4
_2z(z,2,bEXB,e,s,gg,eDXB,'item','i','index')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_210";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_210();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/special/index.wxml'] = [$gwx_XC_210, './pages/special/index.wxml'];else __wxAppCode__['pages/special/index.wxml'] = $gwx_XC_210( './pages/special/index.wxml' );
	;__wxRoute = "pages/special/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/special/index.js";define("pages/special/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),t=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o=a.baseUrl+"/events/special/",n=a.baseUrl+"/events/coupon/get_coupon/",s=a.baseUrl+"/api/third_party/get_username/";Page({data:{activity_id:"",pageTitle:"",shareTitle:"",shareDescription:"",sharePhoto:"",user_id:"",avatarUrl:"https://static.chunyuyisheng.com/@/media/images/2018/02/07/7aec/3fb12af7c391_w120_h120_.png",mould_data:[],isLogin:!0,isCoupon:!1,couponInfo:{}},onLoad:function(i){var t=decodeURIComponent(i.scene),e=this.getQueryStr("activity_id",t||""),o=i.is_show_cms_h5_page;if(i.activity_id||e)this.setData({activity_id:i.activity_id||e});else for(var n in i)if(i.hasOwnProperty(n)&&-1!==n.indexOf("activity_id")){var s=unescape(n).split("=");this.setData({activity_id:s[1]})}if(o){var c=encodeURIComponent("".concat(a.baseUrl,"/events/special/?config_id=").concat(this.data.activity_id));wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(c)})}else this.getActivityInfo(),this.data.isLogin&&this.getUserId()},getQueryStr:function(i,t){var a=t.match(new RegExp(i+"=([^&]*)(&?)","i")),e=a&&a.length>1&&a[1]||"";return decodeURIComponent(e)},getActivityInfo:function(){var a=this;a.data.activity_id?wx.request({url:o,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{config_id:a.data.activity_id,is_json:1},method:"GET",success:function(t){if((t=t.data).basic_info){var o=t.mould_data.find((function(i){return"coupon"===i.mould}));a.setData({pageTitle:t.basic_info.name,shareTitle:t.basic_info.share_title,shareDescription:t.basic_info.share_desc,sharePhoto:t.basic_info.share_img,mould_data:t.mould_data,banner_img:t.basic_info.banner,banner_link:t.basic_info.banner_link,isCoupon:t.basic_info.is_coupon||!1,isLogin:t.is_login,bg_color:"background: ".concat(t.basic_info.bg_color,";"),couponInfo:o&&o.coupon||{}}),wx.setNavigationBarTitle({title:a.data.pageTitle}),e("ActivityPageView",{app:"weixin_mini",activity_name:a.data.pageTitle,page_title:a.data.pageTitle}),t.basic_info.name&&t.basic_info.name.indexOf("榜单")>-1&&(0,i.default)({fromName:"",name:"排行榜H5",extraInfo:{}})}else a.showToast("数据请求出错，请稍后再试")},fail:function(i){a.showToast("数据请求出错，请稍后再试")}}):a.showToast("未获取到页面参数~")},showToast:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;wx.showToast({title:i,icon:"none",duration:t})},loginActions:function(){var i=t.getUserProfileGlobal();i.isSuccess&&this.setData({avatarUrl:i.avatarUrl}),this.getUserId()},jumpHome:function(){wx.switchTab({url:"/pages/index/index"})},loginSuccess:function(){this.data.isLogin||this.getActivityInfo(),this.getUserId(),this.data.isCoupon&&this.getCoupon()},loginFail:function(){this.setData({isLogin:!1})},getCoupon:function(){var i=this,a=i.data.mould_data,e=i.data.couponInfo.couponID,o=i.data.couponInfo.has_inventory,s=i.data.couponInfo.is_get_coupon,c=i.data.couponInfo.doctorID;if(i.data.isLogin){if(!o&&!s)return void i.showToast("您来晚了，库存已不足~");if(s)return void i.showToast("您已领取此优惠卷！");wx.request({url:n,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{coupon_id:e,config_id:i.data.activity_id,doctor_ids:c},method:"post",success:function(t){0==t.data.error_code?(a.forEach((function(t,o){"coupon"===t.mould&&(t.coupon.couponID!=e||s||(a[o].coupon.is_get_coupon=!0,i.setData({mould_data:a})))})),i.showToast("领取成功！")):i.showToast(t.data.error_msg||"已领取此优惠卷！")},fail:function(t){i.showToast("数据请求出错，请稍后再试")}})}},getUserId:function(){var i=this;t.globalData.sessionid&&wx.request({url:s,header:{Cookie:t.globalData.sessionid},success:function(t){i.setData({user_id:t.data.user_id})},fail:function(){i.setData({user_id:"user_id_fail"})}})},jumppage:function(i){var t=i.currentTarget.dataset.url;""!=t&&wx.redirectTo({url:"/pages/h5_webview/index?url=".concat(t)})},onShareAppMessage:function(){var i=this.data.activity_id;return{title:this.data.shareTitle,desc:this.data.shareDescription,imageUrl:this.data.sharePhoto,path:"/pages/special/index?activity_id=".concat(i)}},startmessage:function(i){console.log("点击按钮",i)},completemessage:function(i){console.log("群聊失败",i.errcode)},AppClick:function(){e("ActivityClick",{app:"weixin_mini",activity_name:this.data.pageTitle,click_position:"小程序加入群聊"})},serviceAppClick:function(){e("ActivityClick",{app:"weixin_mini",activity_name:this.data.pageTitle,click_position:"小程序客服组件"})}});
},{isPage:true,isComponent:true,currentFile:'pages/special/index.js'});require("pages/special/index.js");$gwx_XC_211=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_211 || [];
function gz$gwx_XC_211_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_211_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_211_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_211_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([[6],[[6],[[7],[3,'summary_info']],[3,'diseases']],[3,'length']])
Z([[6],[[7],[3,'summary_info']],[3,'revisit_time']])
Z([[6],[[7],[3,'summary_info']],[3,'diet_suggestion']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_211_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_211_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_211=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_211=true;
var x=['./pages/summary/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_211_1()
var cXXB=_n('view')
_rz(z,cXXB,'class',0,e,s,gg)
var hYXB=_v()
_(cXXB,hYXB)
if(_oz(z,1,e,s,gg)){hYXB.wxVkey=1
}
var oZXB=_v()
_(cXXB,oZXB)
if(_oz(z,2,e,s,gg)){oZXB.wxVkey=1
}
var c1XB=_v()
_(cXXB,c1XB)
if(_oz(z,3,e,s,gg)){c1XB.wxVkey=1
}
hYXB.wxXCkey=1
oZXB.wxXCkey=1
c1XB.wxXCkey=1
_(r,cXXB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_211";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_211();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/summary/index.wxml'] = [$gwx_XC_211, './pages/summary/index.wxml'];else __wxAppCode__['pages/summary/index.wxml'] = $gwx_XC_211( './pages/summary/index.wxml' );
	;__wxRoute = "pages/summary/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/summary/index.js";define("pages/summary/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp();Page({data:{summary_info:{},reward_count:0,doctor_avatar:""},onLoad:function(a){var n=this,o=decodeURIComponent(a.url);wx.request({url:o,header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},method:"GET",data:{is_json:1},success:function(t){(t=t.data).summary_info.content&&(t.summary_info.content=t.summary_info.content.replace(/\n/g,"")),t.summary_info.diet_suggestion&&(t.summary_info.diet_suggestion=t.summary_info.diet_suggestion.replace(/\n/g,"")),n.setData({summary_info:t.summary_info,reward_count:t.reward_count,doctor_avatar:t.doctor_avatar})}})},jumpUserCenter:function(){wx.switchTab({url:"../user_center/index"})}});
},{isPage:true,isComponent:true,currentFile:'pages/summary/index.js'});require("pages/summary/index.js");$gwx_XC_212=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_212 || [];
function gz$gwx_XC_212_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_212_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_212_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_212_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'container '],[[2,'?:'],[[7],[3,'show_mask']],[1,'html-hidden'],[1,'']]])
Z([[6],[[7],[3,'purchase_detail']],[3,'doctor_detail']])
Z([a,[3,'sec class-control middle-wrap '],[[2,'?:'],[[6],[[7],[3,'purchase_detail']],[3,'is_direct_available']],[1,'direct-wrap'],[1,'']]])
Z([3,'content'])
Z([[6],[[7],[3,'purchase_detail']],[3,'is_direct_available']])
Z([[2,'=='],[[7],[3,'cur_tel_type']],[1,'direct']])
Z([[2,'=='],[[7],[3,'cur_tel_type']],[1,'reserve']])
Z([a,[3,'important-tips class-control '],[[2,'?:'],[[2,'=='],[[7],[3,'cur_tel_type']],[1,'direct']],[1,'direct-wrap'],[1,'']]])
Z(z[5])
Z([[7],[3,'direct_readme_before_buy']])
Z([1,false])
Z([[7],[3,'reserve_readme_before_buy']])
Z(z[10])
Z([[7],[3,'show_mask']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_212_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_212_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_212=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_212=true;
var x=['./pages/tel_inquiry/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_212_1()
var l3XB=_n('view')
_rz(z,l3XB,'class',0,e,s,gg)
var a4XB=_v()
_(l3XB,a4XB)
if(_oz(z,1,e,s,gg)){a4XB.wxVkey=1
}
var e6XB=_n('view')
_rz(z,e6XB,'class',2,e,s,gg)
var o8XB=_n('view')
_rz(z,o8XB,'class',3,e,s,gg)
var x9XB=_v()
_(o8XB,x9XB)
if(_oz(z,4,e,s,gg)){x9XB.wxVkey=1
}
var o0XB=_v()
_(o8XB,o0XB)
if(_oz(z,5,e,s,gg)){o0XB.wxVkey=1
}
x9XB.wxXCkey=1
o0XB.wxXCkey=1
_(e6XB,o8XB)
var b7XB=_v()
_(e6XB,b7XB)
if(_oz(z,6,e,s,gg)){b7XB.wxVkey=1
}
b7XB.wxXCkey=1
_(l3XB,e6XB)
var fAYB=_n('view')
_rz(z,fAYB,'class',7,e,s,gg)
var cBYB=_v()
_(fAYB,cBYB)
if(_oz(z,8,e,s,gg)){cBYB.wxVkey=1
var hCYB=_mz(z,'mp-html',['content',9,'copyLink',1],[],e,s,gg)
_(cBYB,hCYB)
}
else{cBYB.wxVkey=2
var oDYB=_mz(z,'mp-html',['content',11,'copyLink',1],[],e,s,gg)
_(cBYB,oDYB)
}
cBYB.wxXCkey=1
cBYB.wxXCkey=3
cBYB.wxXCkey=3
_(l3XB,fAYB)
var t5XB=_v()
_(l3XB,t5XB)
if(_oz(z,13,e,s,gg)){t5XB.wxVkey=1
}
a4XB.wxXCkey=1
t5XB.wxXCkey=1
_(r,l3XB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_212";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_212();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/tel_inquiry/index.wxml'] = [$gwx_XC_212, './pages/tel_inquiry/index.wxml'];else __wxAppCode__['pages/tel_inquiry/index.wxml'] = $gwx_XC_212( './pages/tel_inquiry/index.wxml' );
	;__wxRoute = "pages/tel_inquiry/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/tel_inquiry/index.js";define("pages/tel_inquiry/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),e=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),a=(require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i.baseUrl+"/cooperation/wap/telephone/purchase_detail/"),r=i.baseUrl+"/cooperation/wap/telephone/time/subscribe/validate/",s=require("../../FE1120A4829A079C987748A30A3D7B70.js"),o=s.subscribeMessage,n=s.saveSubscribeMessage,c=["aeQic-ePHkomnFa66Zdbtmh5ZOGS-xCoUWlSHpxVM0c"];Page({data:{fromPage:"",doctor_id:"",purchase_detail:{},cur_tel_type:"",direct_list:[],reserve_list:[],inquiry_hour:[],show_mask:!1,is_choose_recent:!1,show_time:"",start_time:"",duration:0,price:0,focus:!1},onLoad:function(t){"doc_mainpage"===t.from_page&&(this.data.fromPage="doc_mainpage");var e=t.doctor_id;this.setData({doctor_id:e}),this.getTelephoneDetail()},onShow:function(t){},getTelephoneDetail:function(){var t=this,i=t.data.doctor_id;wx.request({url:a,method:"GET",header:{cookie:e.globalData.sessionid,"content-type":"application/json"},data:{partner:e.globalData.partner,doctor_id:i,is_json:1},success:function(e){var i=e.data,a=i.readme_info.direct_phone.readme_before_buy,r=i.readme_info.inquiry.readme_before_buy;t.setData({purchase_detail:i,direct_list:i.payment_info.direct_phone.service_price,reserve_list:i.payment_info.inquiry.service_price,cur_tel_type:i.is_direct_available?"direct":"reserve",inquiry_hour:i.inquiry_hour,reserve_readme_before_buy:r,direct_readme_before_buy:a}),t.initserviceType(),t.initInquiryHour()},fail:function(t){wx.showToast({title:"加载失败",icon:"none"})}})},initserviceType:function(){var t=this.data.direct_list,e=this.data.reserve_list,i=(this.data.cur_tel_type,0),a=0;t.length&&(t[0].isActive=!0),e.length&&(e[0].isActive=!0),i=e[0].duration,a=e[0].price_yuan,this.setData({direct_list:t,reserve_list:e,duration:i,price:a})},changeTelType:function(t){var e=t.currentTarget.dataset.telType,i=this.data.reserve_list;this.setData({cur_tel_type:e}),i&&this.setData({duration:i[0]?i[0].duration:void 0,price:i[0]?i[0].price_yuan:void 0})},changeDirectType:function(t){var e=t.currentTarget.dataset.index,i=this.data.direct_list,a=0,r=0;i.forEach((function(t,i){t.isActive=i===e,i===e&&(a=t.duration),i===e&&(r=t.price_yuan)})),this.setData({direct_list:i,duration:a,price:r})},changeReverseType:function(t){var e=t.currentTarget.dataset.index,i=this.data.reserve_list,a=0,r=0;i.forEach((function(t,i){t.isActive=i===e,i===e&&(a=t.duration),i===e&&(r=t.price_yuan)})),this.setData({reserve_list:i,duration:a,price:r})},subscribe:function(){o(c).then((function(t){console.log(t,"subRes"),n(c,t)}),(function(t){console.log("订阅消息调用失败",t)})).catch((function(t){console.log(t)}))},showMask:function(){this.subscribe(c);this.setData({show_mask:!0})},hideMask:function(t){t.target.id===t.currentTarget.id&&this.setData({show_mask:!1})},initInquiryHour:function(){var t=this.data.inquiry_hour;t.forEach((function(e,i){0===i?(e.isActive=!0,e.hasPrev=!1,e.hour.length%3==1?e.hour.push([],[]):e.hour.length%3==2&&e.hour.push([])):(e.isActive=!1,e.hasPrev=!0),i===t.length-1?e.hasNext=!1:e.hasNext=!0})),this.setData({inquiry_hour:t})},nextDate:function(t){var e=t.currentTarget.dataset.nextIndex,i=this.data.inquiry_hour;i.forEach((function(t,i){i===e?(t.isActive=!0,t.hour.length%3==1?t.hour.push([],[]):t.hour.length%3==2&&t.hour.push([])):t.isActive=!1})),this.setData({inquiry_hour:i})},prevDate:function(t){var e=t.currentTarget.dataset.prevIndex,i=this.data.inquiry_hour;i.forEach((function(t,i){t.isActive=i===e})),this.setData({inquiry_hour:i})},chooseTime:function(t){var e=this.data.inquiry_hour,i=t.currentTarget.dataset.chooseTime,a="",r="";e.forEach((function(t,e){t.isActive?t.hour.forEach((function(e){i==e.time?(e.isActive=!0,a=t.date_str+e.time,r=t.date+" "+e.time):e.isActive=!1})):t.hour.forEach((function(t){t.isActive=!1}))})),this.setData({inquiry_hour:e,show_mask:!1,is_choose_recent:!1,show_time:a,start_time:r})},chooseRecentTime:function(){var t=this.data.inquiry_hour,e=this.data.purchase_detail.recent_available_time;if(e){var i=e.split(" ")[0]?e.split(" ")[0].split("-")[1]:"",a=e.split(" ")[0]?e.split(" ")[0].split("-")[2]:"",r=e.split(" ")[1];if(i&&a&&r){var s="".concat(i,"月").concat(a,"日").concat(r);t.forEach((function(t,e){t.hour.forEach((function(t){t.isActive=!1}))})),this.setData({inquiry_hour:t,show_mask:!1,is_choose_recent:!0,show_time:s,start_time:e})}}},updatePhone:function(e){var i=e.detail.value;this.setData(t({},"purchase_detail.phone_num",i))},checkParams:function(){var t=this.data.purchase_detail.phone_num,e=this.data.cur_tel_type,i=this.data.start_time;return t&&/^\d{11}$/.test(t)?!("reserve"==e&&!i)||(wx.showToast({title:"请选择预约时间",icon:"none"}),!1):(wx.showToast({title:"请输入正确的手机号",icon:"none"}),!1)},goBuy:function(){var t=this,e=t.data.purchase_detail.phone_num,i=t.data.cur_tel_type;t.checkParams()&&wx.showModal({cancelText:"修改",content:"接听电话为"+e,success:function(e){e.confirm?"reserve"==i?t.checkSubscribe():t.createOrder():t.setData({focus:!0})}})},checkSubscribe:function(){var t=this,i=t.data.doctor_id,a=t.data.purchase_detail.phone_num,s=t.data.duration,o=t.data.start_time;wx.request({url:r,method:"GET",header:{cookie:e.globalData.sessionid,"content-type":"application"},data:{doctor_id:i,phone_num:a,duration:s,start_time:o,partner:e.globalData.partner},success:function(e){e.data.success?t.createOrder():(wx.showToast({title:e.data.error_msg||"请重新选择预约时间",icon:"none"}),t.setData({show_time:"",start_time:""}))},fail:function(e){wx.showToast({title:e.data.error_msg||"请重新选择预约时间",icon:"none"}),t.setData({show_time:"",start_time:""})}})},createOrder:function(){var t=this.data.doctor_id,i=this.data.purchase_detail.doctor_detail.name,a=this.data.purchase_detail.phone_num,r=this.data.duration,s=this.data.cur_tel_type,o=this.data.start_time,n="reserve"==s?"inquiry":"direct_phone",c=this.data.price,u={doctor_id:t,minutes:r,tel_no:a,type:n,extra_info:{inquiry_source:e.globalData.partner}};s=u.inquiry_time=o;var h={finish_success_url:"",finish_fail_url:"",order_desc:"",order_name:"",order_type:"inquiry",info_dict:u,partner:e.globalData.partner};e.globalData.order_data=h,wx.redirectTo({url:"/pages/payment/index?name="+i+"&price="+c+"&mark=inquiry&from_page="+this.data.fromPage})}});
},{isPage:true,isComponent:true,currentFile:'pages/tel_inquiry/index.js'});require("pages/tel_inquiry/index.js");$gwx_XC_213=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_213 || [];
function gz$gwx_XC_213_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_213_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_213_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_213_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_213_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_213_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_213=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_213=true;
var x=['./pages/tel_inquiry_calling_page/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_213_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_213";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_213();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/tel_inquiry_calling_page/index.wxml'] = [$gwx_XC_213, './pages/tel_inquiry_calling_page/index.wxml'];else __wxAppCode__['pages/tel_inquiry_calling_page/index.wxml'] = $gwx_XC_213( './pages/tel_inquiry_calling_page/index.wxml' );
	;__wxRoute = "pages/tel_inquiry_calling_page/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/tel_inquiry_calling_page/index.js";define("pages/tel_inquiry_calling_page/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),t=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,i=a.baseUrl+"/cooperation/wap/telephone/calling/";a.baseUrl;Page({data:{inquiry_id:"",call_type:"",phone_num:""},onLoad:function(e){var a=e.inquiry_id,t=e.call_type;this.setData({inquiry_id:a,call_type:t}),this.getInfo()},getInfo:function(){var a=this,t=a.data.inquiry_id;wx.request({url:i,method:"GET",header:{cookie:e.globalData.sessionid,"content-type":"application/json"},data:{inquiry_id:t,partner:e.globalData.partner,is_json:1},success:function(e){e=e.data;a.setData({phone_num:e.phone_num,image:e.image,nick_name:e.nick_name}),a.callNumber()}})},callNumber:function(){var e="",t=this.data.call_type;"dial"==t?e=a.baseUrl+"/cooperation/wap/telephone/dial/":"recall"==t?e=a.baseUrl+"/cooperation/wap/telephone/recall/":"resume"==t&&(e=a.baseUrl+"/cooperation/wap/telephone/resume/"),this.dialNumber(e)},dialNumber:function(a){var i=this.data.inquiry_id;wx.request({url:a,method:"POST",header:{cookie:e.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},data:t({partner:e.globalData.partner,inquiry_id:i}),success:function(e){e.data.success?console.log("success"):wx.showToast({title:e.data.error_msg||"加载失败，请稍后重试",icon:"none"})},error:function(e){wx.showToast({title:e.data.error_msg||"加载失败，请稍后重试",icon:"none"})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/tel_inquiry_calling_page/index.js'});require("pages/tel_inquiry_calling_page/index.js");$gwx_XC_214=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_214 || [];
function gz$gwx_XC_214_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_214_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_214_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_214_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container'])
Z([3,'call'])
Z([3,'panel panel-hd'])
Z([[7],[3,'containerStyle']])
Z([[7],[3,'statusMsg']])
Z([1,false])
Z([[7],[3,'mpTagStyle']])
Z([[7],[3,'statusDesc']])
Z(z[3])
Z(z[7])
Z(z[5])
Z(z[6])
Z([[2,'&&'],[[6],[[7],[3,'detail']],[3,'can_add_description']],[[2,'!'],[[6],[[7],[3,'detail']],[3,'show_continue_ask_btn']]]])
Z([[2,'&&'],[[6],[[7],[3,'detail']],[3,'can_add_description']],[[6],[[7],[3,'detail']],[3,'show_continue_ask_btn']]])
Z([[7],[3,'isShowAudio']])
Z([[7],[3,'record_duration']])
Z([[7],[3,'record_url']])
Z([3,'onNoUrlEvent'])
Z([3,'cyAudio'])
Z([3,'电话录音'])
Z([[2,'&&'],[[6],[[7],[3,'detail']],[3,'description']],[[2,'||'],[[2,'!'],[[7],[3,'docContent']]],[[7],[3,'expertCallMode']]]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'detail']],[3,'can_add_description']]],[[6],[[7],[3,'detail']],[3,'show_continue_ask_btn']]])
Z([[6],[[7],[3,'detail']],[3,'deny_reason']])
Z([[7],[3,'doctorSummary']])
Z([3,'trackForSummury'])
Z([a,[3,'../qa_im/index?problem_id\x3d'],[[6],[[6],[[7],[3,'detail']],[3,'problem']],[3,'id']],[3,'\x26from_visit_page\x3d'],[[7],[3,'visitPageName']]])
Z([[6],[[7],[3,'detail']],[3,'is_badge']])
Z([[7],[3,'docContent']])
Z([[2,'||'],[[6],[[7],[3,'detail']],[3,'user']],[[6],[[7],[3,'detail']],[3,'doctor']]])
Z([3,'panel'])
Z(z[28])
Z([[2,'&&'],[[7],[3,'sub_status']],[[2,'==='],[[7],[3,'sub_status']],[1,'refundable']]])
Z([[6],[[7],[3,'assess_info']],[3,'assess_level_text']])
Z([[2,'!'],[[7],[3,'expertCallMode']]])
Z([3,'footer-wrap'])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'dr']],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'tf']]])
Z([[2,'&&'],[[2,'&&'],[[2,'||'],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'subs_ts']],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'direct_ts']]],[[7],[3,'sub_status']]],[[2,'==='],[[7],[3,'sub_status']],[1,'to_confirm']]])
Z([[2,'&&'],[[2,'&&'],[[2,'||'],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'subs_ts']],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'direct_ts']]],[[7],[3,'sub_status']]],[[2,'==='],[[7],[3,'sub_status']],[1,'refundable']]])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'t']],[[2,'==='],[[6],[[7],[3,'detail']],[3,'status']],[1,'dt']]])
Z([[6],[[7],[3,'detail']],[3,'need_assess']])
Z([[2,'&&'],[[2,'=='],[[6],[[7],[3,'detail']],[3,'status']],[1,'s']],[[2,'!'],[[6],[[7],[3,'detail']],[3,'is_direct_call']]]])
Z(z[39])
Z(z[39])
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginSuccess'])
Z([[2,'?:'],[[7],[3,'combineSuccess']],[1,'margin-top394'],[1,'margin-top252']])
Z([[7],[3,'combineTwoPhone']])
Z([3,'z-index: 99'])
Z([3,'leaveGeneralPageContainer'])
Z([[7],[3,'shouldGeneralPageContainerShow']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'shouldFeedbackShow']])
Z(z[48])
Z([[6],[[7],[3,'detail']],[3,'doc_id']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'fromType']])
Z([[2,'?:'],[[7],[3,'expertCallMode']],[[7],[3,'call_id']],[[7],[3,'inquiry_id']]])
Z([[7],[3,'problem_id']])
Z([[6],[[7],[3,'feedbackInfo']],[3,'defaultValue']])
Z([[2,'?:'],[[7],[3,'expertCallMode']],[1,'expert_call'],[1,'inquiry']])
Z([[2,'&&'],[[6],[[7],[3,'feedbackInfo']],[3,'shouldFeedbackShow']],[[7],[3,'shouldGeneralPageContainerShow']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_214_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_214_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_214=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_214=true;
var x=['./pages/tel_inquiry_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_214_1()
var tIYB=_mz(z,'view',['class',0,'id',1],[],e,s,gg)
var fOYB=_n('view')
_rz(z,fOYB,'class',2,e,s,gg)
var cSYB=_mz(z,'mp-html',['containerStyle',3,'content',1,'copyLink',2,'tagStyle',3],[],e,s,gg)
_(fOYB,cSYB)
var cPYB=_v()
_(fOYB,cPYB)
if(_oz(z,7,e,s,gg)){cPYB.wxVkey=1
var oTYB=_mz(z,'mp-html',['containerStyle',8,'content',1,'copyLink',2,'tagStyle',3],[],e,s,gg)
_(cPYB,oTYB)
}
var hQYB=_v()
_(fOYB,hQYB)
if(_oz(z,12,e,s,gg)){hQYB.wxVkey=1
}
var oRYB=_v()
_(fOYB,oRYB)
if(_oz(z,13,e,s,gg)){oRYB.wxVkey=1
}
cPYB.wxXCkey=1
cPYB.wxXCkey=3
hQYB.wxXCkey=1
oRYB.wxXCkey=1
_(tIYB,fOYB)
var eJYB=_v()
_(tIYB,eJYB)
if(_oz(z,14,e,s,gg)){eJYB.wxVkey=1
var lUYB=_mz(z,'cy-audio',['audioDuration',15,'audioUrl',1,'bindonNoUrlEvent',2,'id',3,'title',4],[],e,s,gg)
_(eJYB,lUYB)
}
var bKYB=_v()
_(tIYB,bKYB)
if(_oz(z,20,e,s,gg)){bKYB.wxVkey=1
var aVYB=_v()
_(bKYB,aVYB)
if(_oz(z,21,e,s,gg)){aVYB.wxVkey=1
}
aVYB.wxXCkey=1
}
var oLYB=_v()
_(tIYB,oLYB)
if(_oz(z,22,e,s,gg)){oLYB.wxVkey=1
}
else if(_oz(z,23,e,s,gg)){oLYB.wxVkey=2
var tWYB=_mz(z,'navigator',['bind:tap',24,'url',1],[],e,s,gg)
var eXYB=_v()
_(tWYB,eXYB)
if(_oz(z,26,e,s,gg)){eXYB.wxVkey=1
}
var bYYB=_v()
_(tWYB,bYYB)
if(_oz(z,27,e,s,gg)){bYYB.wxVkey=1
}
eXYB.wxXCkey=1
bYYB.wxXCkey=1
_(oLYB,tWYB)
}
var xMYB=_v()
_(tIYB,xMYB)
if(_oz(z,28,e,s,gg)){xMYB.wxVkey=1
var oZYB=_n('view')
_rz(z,oZYB,'class',29,e,s,gg)
var x1YB=_v()
_(oZYB,x1YB)
if(_oz(z,30,e,s,gg)){x1YB.wxVkey=1
}
var o2YB=_v()
_(oZYB,o2YB)
if(_oz(z,31,e,s,gg)){o2YB.wxVkey=1
}
x1YB.wxXCkey=1
o2YB.wxXCkey=1
_(xMYB,oZYB)
}
var oNYB=_v()
_(tIYB,oNYB)
if(_oz(z,32,e,s,gg)){oNYB.wxVkey=1
}
eJYB.wxXCkey=1
eJYB.wxXCkey=3
bKYB.wxXCkey=1
oLYB.wxXCkey=1
xMYB.wxXCkey=1
oNYB.wxXCkey=1
_(r,tIYB)
var lGYB=_v()
_(r,lGYB)
if(_oz(z,33,e,s,gg)){lGYB.wxVkey=1
var f3YB=_n('view')
_rz(z,f3YB,'class',34,e,s,gg)
var c4YB=_v()
_(f3YB,c4YB)
if(_oz(z,35,e,s,gg)){c4YB.wxVkey=1
}
var h5YB=_v()
_(f3YB,h5YB)
if(_oz(z,36,e,s,gg)){h5YB.wxVkey=1
}
var o6YB=_v()
_(f3YB,o6YB)
if(_oz(z,37,e,s,gg)){o6YB.wxVkey=1
}
var c7YB=_v()
_(f3YB,c7YB)
if(_oz(z,38,e,s,gg)){c7YB.wxVkey=1
var l9YB=_v()
_(c7YB,l9YB)
if(_oz(z,39,e,s,gg)){l9YB.wxVkey=1
}
l9YB.wxXCkey=1
}
var o8YB=_v()
_(f3YB,o8YB)
if(_oz(z,40,e,s,gg)){o8YB.wxVkey=1
}
c4YB.wxXCkey=1
h5YB.wxXCkey=1
o6YB.wxXCkey=1
c7YB.wxXCkey=1
o8YB.wxXCkey=1
_(lGYB,f3YB)
}
else{lGYB.wxVkey=2
var a0YB=_v()
_(lGYB,a0YB)
if(_oz(z,41,e,s,gg)){a0YB.wxVkey=1
var tAZB=_v()
_(a0YB,tAZB)
if(_oz(z,42,e,s,gg)){tAZB.wxVkey=1
}
tAZB.wxXCkey=1
}
a0YB.wxXCkey=1
}
var aHYB=_v()
_(r,aHYB)
if(_oz(z,43,e,s,gg)){aHYB.wxVkey=1
var eBZB=_n('cy-authorize-login')
_rz(z,eBZB,'bindloginSuccess',44,e,s,gg)
_(aHYB,eBZB)
}
var bCZB=_mz(z,'cy-account-combine',['marginTopClass',45,'show',1,'style',2],[],e,s,gg)
_(r,bCZB)
var oDZB=_mz(z,'page-container',['bind:beforeleave',48,'show',1],[],e,s,gg)
var xEZB=_v()
_(oDZB,xEZB)
if(_oz(z,50,e,s,gg)){xEZB.wxVkey=1
var oFZB=_mz(z,'feedback-detail',['bind:leave',51,'doctorId',1,'fromType',2,'inquiryId',3,'problemId',4,'selectedValue',5,'serviceType',6,'shouldFeedbackShow',7],[],e,s,gg)
_(xEZB,oFZB)
}
xEZB.wxXCkey=1
xEZB.wxXCkey=3
_(r,oDZB)
lGYB.wxXCkey=1
aHYB.wxXCkey=1
aHYB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_214";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_214();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/tel_inquiry_detail/index.wxml'] = [$gwx_XC_214, './pages/tel_inquiry_detail/index.wxml'];else __wxAppCode__['pages/tel_inquiry_detail/index.wxml'] = $gwx_XC_214( './pages/tel_inquiry_detail/index.wxml' );
	;__wxRoute = "pages/tel_inquiry_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/tel_inquiry_detail/index.js";define("pages/tel_inquiry_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../1D735BD7829A079C7B1533D0C5CC7B70.js"),i=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),a=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),s=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,n=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").getSceneQueryStr,r=o.baseUrl+"/cooperation/wap/telephone/detail/",l=o.baseUrl+"/api/crm/call_task/user/detail/",c=o.baseUrl+"/cooperation/wap/telephone/cancel/",d=o.baseUrl+"/api/crm/user/combine/",u=o.baseUrl+"/api/crm/user/relationship/",_=o.baseUrl+"/cooperation/wap/telephone/refund/",p=o.baseUrl+"/cooperation/wap/telephone/finish/";Page({data:{tempObj:{isLogin:!1,title:""},login_user_phone:"",qr_user_phone:"",combineTwoPhone:!1,combineSuccess:!1,inquiry_id:"",detail:{},isLogin:!0,call_id:"",status_color:"#39D167",expertCallMode:!1,doctorSummary:!1,sub_status:"",record_url:"",isPullDownRefresh:!1,isShowAudio:!1,record_notice_message:"",record_duration:"",problem_id:"",assess_info:{},htmlData:"",mpTagStyle:{img:"max-width: 100%"},statusDesc:"",statusMsg:"",containerStyle:"overflow: hidden;",shouldGeneralPageContainerShow:!1,feedbackInfo:{shouldFeedbackShow:!1,defaultValue:"",fromType:"去评价-电话咨询"},visitPageName:"电话订单详情页",fromVisitPage:""},onLoad:function(e){console.log("this is options"),console.log(e);var t=e.scene&&n("call_id",e.scene),i=this,o=e.call_id||t||"",s=e.inquiry_id||"";i.data.tempObj.call_id=o,o&&(i.data.expertCallMode=!0),i.setData({inquiry_id:s,call_id:o,expertCallMode:i.data.expertCallMode,fromVisitPage:e.from_visit_page||""}),a.globalData.appIsLogin.then((function(){i.loginSuccess()}),(function(){i.setData({isLogin:!1})})),a.globalData.isTelInquiry=!1},onPullDownRefresh:function(){this.setData({isPullDownRefresh:!0}),this.getDetailInfo()},jumpAddDescription:function(){a.sensors.track("AppClick",{app:"weixin_mini",click_position:"病情描述-电话咨询",page_readable_name:"电话咨询",service_type:this.data.tempObj.title,order_id:this.data.detail.problem.id,click_position_value:"发送病情描述/图片",service_status:this.data.detail.status_msg_text}),a.globalData.isTelInquiry=!0,wx.navigateTo({url:"/pages/inquery/inquery?problem_id=".concat(this.data.detail.problem.id,"&from_page=tel_inquiry_detail&from_visit_page=").concat(this.data.visitPageName)})},loginSuccess:function(){this.data.expertCallMode&&this.dealAccountCombine(),this.data.tempObj.call_id&&(this.data.tempObj.isLogin=!0,a.globalData.sessionid&&this.getDetailInfo()),this.setData({isLogin:!0})},dealAccountCombine:function(){var e=this,t={task_id:this.data.call_id};wx.request({url:u,method:"GET",header:{cookie:a.globalData.sessionid,"content-type":"application/json"},data:t,success:function(t){200!=t.statusCode&&wx.showToast({title:"接口错误",icon:"none"});var i=t.data,a=i.login_user_id,o=i.qr_user_id,s=i.login_user_phone,n=i.qr_user_phone,r=i.is_wx_qr_user;s=s&&s.toString(),n=n&&n.toString(),e.setData({login_user_phone:s,qr_user_phone:n});a==o||(r?e.jumpIndex():n&&s?e.setData({combineTwoPhone:!0},(function(){e.setTitleChunyu()})):e.sureCombinePhone()),e.setData({isLogin:!0})}})},jumpIndex:function(){wx.switchTab({url:"/pages/index/index"})},sureCombinePhone:function(e){var t=this,i={task_id:this.data.call_id};e&&(i.bind_phone=e),wx.request({url:d,method:"GET",header:{cookie:a.globalData.sessionid,"content-type":"application/json"},data:i,success:function(e){if(0==e.data.error_code){var i=e.data.sessionid,o="sessionid=".concat(i);wx.setStorageSync("sessionid",o),a.globalData.sessionid=o,t.setData({isLogin:!0,combineSuccess:!0})}}})},upPhoneClick:function(){var e=this.data.login_user_phone;this.sureCombinePhone(e)},downPhoneClick:function(){var e=this.data.qr_user_phone;this.sureCombinePhone(e)},cancelClick:function(){this.jumpIndex(),this.setData({combineTwoPhone:!1})},iSeeCombine:function(){this.setData({isLogin:!0,combineTwoPhone:!1}),wx.setNavigationBarTitle({title:"专家电话"})},setTitleChunyu:function(){wx.setNavigationBarTitle({title:"春雨医生"})},onShow:function(e){a.globalData.sessionid&&this.getDetailInfo()},getDetailInfo:function(){var e,o=this,s=o.data.inquiry_id,n="",c=!1,d=o.data.call_id,u=!!o.data.call_id,_={partner:a.globalData.partner,is_json:1,version:t.productionVersion},p=!1;this.setData({expertCallMode:u}),u?(e=l,_.call_id=d):(e=r,_.inquiry_id=s),wx.request({url:e,method:"GET",header:{cookie:a.globalData.sessionid,"content-type":"application/json"},data:_,success:function(e){if(200!=e.statusCode&&wx.showToast({title:"接口错误",icon:"none"}),(e=o.data.expertCallMode?e.data.result:e.data)&&e.content&&e.content.length)for(var t=0;t<e.content.length;t++)"d"===e.content[t].type&&e.content[t].content[0]&&(c=!0,n||(n=e.content[t].content[0].text));e.is_direct_call?(wx.setNavigationBarTitle({title:"直拨电话"}),o.data.tempObj.title="直拨电话"):u?(wx.setNavigationBarTitle({title:"专家电话"}),o.data.tempObj.title="专家电话"):(wx.setNavigationBarTitle({title:"预约电话"}),o.data.tempObj.title="预约电话");var s={s:"#FFA800",t:"#39D167",d:"#FF6134",ca:"#666666"}[e.status];p=!(e&&!e.record_url&&!e.record_notice_message),o.setData({detail:e,docContent:n||"",status_color:s,doctorSummary:c,sub_status:e.sub_status,record_url:e.record_url||"",record_notice_message:!e.record_url&&e.record_notice_message||"",problem_id:e.problem_id,record_duration:e.record_duration||"",isShowAudio:p,statusDesc:e.status_desc,statusMsg:e.status_msg,assess_info:e.assess_info}),console.log("el_info",e),o.data.record_notice_message&&wx.showToast({title:o.data.record_notice_message||"电话录音生成中，请稍后下拉屏幕刷新",duration:500}),wx.stopPullDownRefresh({success:function(){o.data.isPullDownRefresh&&(o.data.isShowAudio&&o.selectComponent("#cyAudio").init(),wx.showToast({title:"刷新成功！",duration:500})),o.setData({isPullDownRefresh:!1})}}),a.sensors.track("PageView",{app:"weixin_mini",page_readable_name:"电话咨询",service_type:o.data.tempObj.title,order_id:o.data.detail.problem.id,service_status:o.data.detail.status_msg_text}),(0,i.default)({fromName:o.data.fromVisitPage,name:o.data.visitPageName,extraInfo:{filter:{service_type:o.data.tempObj.title,order_id:o.data.detail.problem.id,service_status:o.data.detail.status_msg_text},click_position:"",click_order:0}})}})},callTel:function(){var e;wx.getSystemInfo({success:function(t){e=t.platform}}),"ios"===e?wx.makePhoneCall({phoneNumber:"400-001-8855"}):wx.showModal({title:"拨打提示",content:"是否呼叫400-001-8855？",confirmText:"呼叫",confirmColor:"#39D167",success:function(e){e.confirm&&wx.makePhoneCall({phoneNumber:"400-001-8855"})}})},onNoUrlEvent:function(){wx.showToast({title:"电话录音生成中，请稍后下拉屏幕刷新",duration:1500,icon:"none"})},cancelMake:function(){var e=this;wx.showModal({content:"确定取消已预约的电话",cancelText:"再考虑下",confirmText:"取消预约",success:function(t){t.confirm&&e.cancelPhone()}})},cancelPhone:function(){var e=this,t=e.data.inquiry_id;wx.request({url:c,method:"POST",header:{cookie:a.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},data:s({inquiry_id:t,partner:a.globalData.partner}),success:function(i){(i=i.data).success?(wx.showToast({title:"取消成功"}),wx.redirectTo({url:"../tel_inquiry_detail/index?inquiry_id=".concat(t,"&from_visit_page=").concat(e.data.visitPageName)})):wx.showToast({title:i.error_msg||"预约取消失败，请重试",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error_msg||"预约取消失败，请重试",icon:"none"})}})},replay:function(){var e=this,t=e.data.inquiry_id;wx.showModal({title:"确认立即重拨？",content:"如果是医生原因未接通电话，建议您等待系统回拨",cancelText:"再等一会",confirmText:"立即重拨",success:function(i){i.confirm&&wx.redirectTo({url:"../tel_inquiry_calling_page/index?call_type=recall&inquiry_id=".concat(t,"&from_visit_page=").concat(e.data.visitPageName)})}})},applyRefund:function(){var e=this;wx.showModal({content:"确定要申请退款吗？",cancelText:"再考虑下",confirmText:"申请退款",success:function(t){t.confirm&&e.refund()}})},refund:function(){var e=this,t=e.data.inquiry_id;wx.request({url:_,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},data:s({inquiry_id:t,partner:a.globalData.partner}),success:function(i){(i=i.data).success?wx.redirectTo({url:"../tel_inquiry_detail/index?inquiry_id=".concat(t,"&from_visit_page=").concat(e.data.visitPageName)}):wx.showToast({title:i.error_msg||"加载失败",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error_msg||"加载失败",icon:"none"})}})},jumpCalling:function(){var e=this.data.inquiry_id;wx.redirectTo({url:"../tel_inquiry_calling_page/index?call_type=resume&inquiry_id=".concat(e,"&from_visit_page=").concat(this.data.visitPageName)})},finishCall:function(){var e=this,t=e.data.inquiry_id;wx.request({url:p,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:a.globalData.sessionid},data:s({inquiry_id:t,partner:a.globalData.partner}),success:function(t){(t=t.data).success?e.getDetailInfo():wx.showToast({title:t.error_msg||"加载失败",icon:"none"})},fail:function(e){wx.showToast({title:e.data.error_msg||"加载失败",icon:"none"})}})},jumpContinueAsk:function(){a.sensors.track("AppClick",{app:"weixin_mini",click_position:"病情描述-电话咨询",page_readable_name:"电话咨询",service_type:this.data.tempObj.title,order_id:this.data.detail.problem.id,click_position_value:"问题未解决 继续沟通",service_status:this.data.detail.status_msg_text}),wx.navigateTo({url:"/pages/qa_im/index?problem_id=".concat(this.data.detail.problem.id,"&from_visit_page=").concat(this.data.visitPageName)})},trackForDiseaseDescription:function(){a.sensors.track("AppClick",{app:"weixin_mini",click_position:"病情描述-电话咨询",page_readable_name:"电话咨询",service_type:this.data.tempObj.title,order_id:this.data.detail.problem.id,click_position_value:"病情描述",service_status:this.data.detail.status_msg_text})},trackForSummury:function(){a.sensors.track("AppClick",{app:"weixin_mini",click_position:"病情描述-电话咨询",page_readable_name:"电话咨询",service_type:this.data.tempObj.title,order_id:this.data.detail.problem.id,service_status:this.data.detail.status_msg_text,click_position_value:"医生回复"})},showAssess:function(){a.sensors.track("AppClick",{app:"weixin_mini",click_position:"去评价-电话咨询",page_readable_name:"电话咨询",service_type:this.data.tempObj.title,service_status:this.data.detail.status_msg_text}),this.setData({shouldGeneralPageContainerShow:!0,"feedbackInfo.shouldFeedbackShow":!0,"feedbackInfo.fromType":"去评价-电话咨询"})},leaveGeneralPageContainer:function(){var e=this;this.setData({shouldGeneralPageContainerShow:!1}),setTimeout((function(){e.setData({"feedbackInfo.shouldFeedbackShow":!1})}),500)},setSendHeartOkInfo:function(){var e={inquiry:{id:this.data.inquiry_id,type:"inquiry"}};wx.setStorageSync("SEND_HEART_INFO",e.inquiry)}});
},{isPage:true,isComponent:true,currentFile:'pages/tel_inquiry_detail/index.js'});require("pages/tel_inquiry_detail/index.js");$gwx_XC_215=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_215 || [];
function gz$gwx_XC_215_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_215_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_215_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_215_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_215_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_215_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_215=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_215=true;
var x=['./pages/tel_inquiry_pay_success/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_215_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_215";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_215();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/tel_inquiry_pay_success/index.wxml'] = [$gwx_XC_215, './pages/tel_inquiry_pay_success/index.wxml'];else __wxAppCode__['pages/tel_inquiry_pay_success/index.wxml'] = $gwx_XC_215( './pages/tel_inquiry_pay_success/index.wxml' );
	;__wxRoute = "pages/tel_inquiry_pay_success/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/tel_inquiry_pay_success/index.js";define("pages/tel_inquiry_pay_success/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp(),e=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl+"/cooperation/wap/telephone/purchase_success/";Page({data:{problem_id:"",inquiry_id:"",call_type:""},onLoad:function(t){this.options=t},onShow:function(){this.getInfo()},getInfo:function(){var i=this,a=this.options;wx.request({url:e,method:"GET",header:{cookie:t.globalData.sessionid,"content-type":"application/json"},data:{pay_order_id:a.pay_order_id||"",partner:t.globalData.partner,is_json:1},success:function(e){var a=e.data;i.setData({problem_id:a.problem_id,inquiry_id:a.inquiry_id,call_type:a.type}),t.globalData.isTelInquiry=!0}})}});
},{isPage:true,isComponent:true,currentFile:'pages/tel_inquiry_pay_success/index.js'});require("pages/tel_inquiry_pay_success/index.js");$gwx_XC_216=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_216 || [];
function gz$gwx_XC_216_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_216_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_216_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_216_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_216_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_216_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_216=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_216=true;
var x=['./pages/tel_inquiry_status/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_216_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_216";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_216();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/tel_inquiry_status/index.wxml'] = [$gwx_XC_216, './pages/tel_inquiry_status/index.wxml'];else __wxAppCode__['pages/tel_inquiry_status/index.wxml'] = $gwx_XC_216( './pages/tel_inquiry_status/index.wxml' );
	;__wxRoute = "pages/tel_inquiry_status/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/tel_inquiry_status/index.js";define("pages/tel_inquiry_status/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var i=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,a=t.baseUrl+"/cooperation/wap/telephone/status/",n=t.baseUrl+"/cooperation/wap/telephone/finish/",o=t.baseUrl+"/cooperation/wap/telephone/refund/";Page({data:{inquiry_id:"",tips:"",sub_status:""},onLoad:function(i){var t=i.inquiry_id;this.setData({inquiry_id:t}),this.getInfo()},getInfo:function(){var t=this,e=t.data.inquiry_id;wx.request({url:a,method:"GET",header:{"Content-Type":"application/json",Cookie:i.globalData.sessionid},data:{inquiry_id:e,partner:i.globalData.partner,is_json:1},success:function(i){(i=i.data).success?t.setData({tip:i.tip,sub_status:i.sub_status}):wx.showToast({title:i.error_msg||"加载失败",icon:"none"})},fail:function(i){wx.showToast({title:i.data.error_msg||"加载失败",icon:"none"})}})},finishCall:function(){var t=this.data.inquiry_id;wx.request({url:n,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:i.globalData.sessionid},data:e({inquiry_id:t,partner:i.globalData.partner}),success:function(i){(i=i.data).success?wx.redirectTo({url:"../tel_inquiry_detail/index?inquiry_id="+t}):wx.showToast({title:i.error_msg||"加载失败",icon:"none"})},fail:function(i){wx.showToast({title:i.data.error_msg||"加载失败",icon:"none"})}})},applyRefund:function(){var i=this;wx.showModal({content:"确定要申请退款吗？",cancelText:"再考虑下",confirmText:"申请退款",success:function(t){t.confirm&&i.refund()}})},refund:function(){var t=this.data.inquiry_id;wx.request({url:o,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:i.globalData.sessionid},data:e({inquiry_id:t,partner:i.globalData.partner}),success:function(i){(i=i.data).success?wx.redirectTo({url:"../tel_inquiry_detail/index?inquiry_id="+t}):wx.showToast({title:i.error_msg||"加载失败",icon:"none"})},fail:function(i){wx.showToast({title:i.data.error_msg||"加载失败",icon:"none"})}})},jumpCalling:function(){var i=this.data.inquiry_id;wx.redirectTo({url:"../tel_inquiry_calling_page/index?call_type=resume&inquiry_id="+i})}});
},{isPage:true,isComponent:true,currentFile:'pages/tel_inquiry_status/index.js'});require("pages/tel_inquiry_status/index.js");$gwx_XC_217=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_217 || [];
function gz$gwx_XC_217_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_217_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'doc_list']],[3,'length']])
Z([3,'lecture-module'])
Z([3,'lecture-wrap'])
Z([3,'doc'])
Z([[7],[3,'doc_list']])
Z([[7],[3,'index']])
Z([3,'pointEvent'])
Z([[6],[[6],[[7],[3,'doc']],[3,'cy_redirect']],[3,'click_info_list']])
Z([[6],[[7],[3,'doc']],[3,'title']])
Z([[6],[[6],[[7],[3,'doc']],[3,'cy_redirect']],[3,'target_scheme']])
Z([[7],[3,'isLoading']])
Z([[7],[3,'noMore']])
Z([[7],[3,'loading']])
Z([[7],[3,'noResult']])
Z([3,'没有更多搜索内容'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_217_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_217_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_217=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_217=true;
var x=['./pages/topic_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_217_1()
var oJZB=_v()
_(r,oJZB)
if(_oz(z,0,e,s,gg)){oJZB.wxVkey=1
var cKZB=_n('view')
_rz(z,cKZB,'class',1,e,s,gg)
var lMZB=_n('view')
_rz(z,lMZB,'class',2,e,s,gg)
var tOZB=_v()
_(lMZB,tOZB)
var ePZB=function(oRZB,bQZB,xSZB,gg){
var fUZB=_mz(z,'cy-navigator',['bind:mytap',6,'data-point',1,'data-title',2,'url',3],[],oRZB,bQZB,gg)
_(xSZB,fUZB)
return xSZB
}
tOZB.wxXCkey=4
_2z(z,4,ePZB,e,s,gg,tOZB,'doc','index','{{index}}')
var aNZB=_v()
_(lMZB,aNZB)
if(_oz(z,10,e,s,gg)){aNZB.wxVkey=1
}
aNZB.wxXCkey=1
_(cKZB,lMZB)
var oLZB=_v()
_(cKZB,oLZB)
if(_oz(z,11,e,s,gg)){oLZB.wxVkey=1
}
oLZB.wxXCkey=1
_(oJZB,cKZB)
}
var cVZB=_mz(z,'cy-loading',['loading',12,'noResult',1,'noResultTip',2],[],e,s,gg)
_(r,cVZB)
oJZB.wxXCkey=1
oJZB.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_217";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_217();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/topic_list/index.wxml'] = [$gwx_XC_217, './pages/topic_list/index.wxml'];else __wxAppCode__['pages/topic_list/index.wxml'] = $gwx_XC_217( './pages/topic_list/index.wxml' );
	;__wxRoute = "pages/topic_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/topic_list/index.js";define("pages/topic_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/interopRequireDefault")(require("../../3B123513829A079C5D745D1477BC7B70.js")),e=getApp(),a=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),i=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,o=a.baseUrl+"/api/v8/home_search/more_topic/";Page({data:{doc_list:[],page:1,noMore:!1,isLoading:!1,query:null,noResult:!1,loading:!1,visitPageName:"话题列表页",fromVisitPage:""},onLoad:function(t){var e=t.query;e&&this.setData({query:e}),this.setData({fromVisitPage:t.from_visit_page||""}),this.getDoctorList()},onShow:function(){(0,t.default)({fromName:this.data.fromVisitPage,name:this.data.visitPageName,extraInfo:{}})},loadMore:function(){this.getDoctorList()},getDoctorList:function(){var t=this,a=t.data.page,i=t.data.doc_list,s={query:t.data.query,page:a,page_size:20,from_news:1};this.data.isLoading||(this.setData({isLoading:!0,loading:1===a}),wx.request({url:o,data:s,method:"GET",header:{"Content-Type":"application/json",Cookie:e.globalData.sessionid},complete:function(){t.setData({isLoading:!1,loading:!1})},success:function(e){var o=e.data.topics||[];o.length?t.setData({page:a+1,doc_list:1==a?o:i.concat(o),noMore:!(o.length>=20)}):t.setData({noMore:!0,noResult:1===a})}}))},onReachBottom:function(){!this.data.noMore&&this.data.doc_list.length>=20&&this.loadMore()},pointEvent:function(t){var a=t.currentTarget.dataset.point[0];i(a.click_event,{platform_source:e.globalData.partner,click_position:a.click_position,page_readable_name:a.page_readable_name,list_order:a.list_order,click_position_value:a.click_position_value,query:this.data.query,app:a.app})}});
},{isPage:true,isComponent:true,currentFile:'pages/topic_list/index.js'});require("pages/topic_list/index.js");$gwx_XC_218=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_218 || [];
function gz$gwx_XC_218_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_218_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_218_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_218_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'hideTopTip'])
Z([3,'container'])
Z([3,'user-info'])
Z([[7],[3,'displayComponentAvailable']])
Z(z[3])
Z([3,'pointLogin'])
Z([a,[3,'/pages/my_doctors_new/my_doctors_new?from_visit_page\x3d'],[[7],[3,'visitPageName']]])
Z([3,'weui-cells'])
Z([[7],[3,'showVipEntrance']])
Z(z[5])
Z([a,[3,'/pages/vip_webview/index?url\x3d'],[[7],[3,'vipJumpUrl']]])
Z([[7],[3,'cdmUrl']])
Z(z[5])
Z([a,[3,'../h5_webview/index?url\x3d'],z[11]])
Z(z[5])
Z([a,z[13][1],[[7],[3,'healthRecordsUrl']]])
Z(z[7])
Z(z[5])
Z([3,'../my_account/index'])
Z(z[5])
Z([3,'../my_coupon/index'])
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
Z([[2,'&&'],[[7],[3,'isLogin']],[[7],[3,'user_id']]])
Z([[7],[3,'isDevelop']])
Z([3,'bg-white-color'])
Z([[7],[3,'tipShow']])
Z([3,'知道了'])
Z([[7],[3,'receivedTip']])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'officialAccountInfo']],[3,'hasFollowed']]],[[2,'!'],[[7],[3,'isSameDay']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_218_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_218_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_218=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_218=true;
var x=['./pages/user_center/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_218_1()
var cYZB=_mz(z,'view',['bindtap',0,'class',1],[],e,s,gg)
var t3ZB=_n('view')
_rz(z,t3ZB,'class',2,e,s,gg)
var e4ZB=_v()
_(t3ZB,e4ZB)
if(_oz(z,3,e,s,gg)){e4ZB.wxVkey=1
}
var b5ZB=_v()
_(t3ZB,b5ZB)
if(_oz(z,4,e,s,gg)){b5ZB.wxVkey=1
}
e4ZB.wxXCkey=1
b5ZB.wxXCkey=1
_(cYZB,t3ZB)
var o6ZB=_mz(z,'cy-userinfo',['bindisloginevent',5,'url',1],[],e,s,gg)
_(cYZB,o6ZB)
var x7ZB=_n('view')
_rz(z,x7ZB,'class',7,e,s,gg)
var o8ZB=_v()
_(x7ZB,o8ZB)
if(_oz(z,8,e,s,gg)){o8ZB.wxVkey=1
var c0ZB=_mz(z,'cy-userinfo',['bindisloginevent',9,'url',1],[],e,s,gg)
_(o8ZB,c0ZB)
}
var f9ZB=_v()
_(x7ZB,f9ZB)
if(_oz(z,11,e,s,gg)){f9ZB.wxVkey=1
var hA1B=_mz(z,'cy-userinfo',['bindisloginevent',12,'url',1],[],e,s,gg)
_(f9ZB,hA1B)
}
var oB1B=_mz(z,'cy-userinfo',['bindisloginevent',14,'url',1],[],e,s,gg)
_(x7ZB,oB1B)
o8ZB.wxXCkey=1
o8ZB.wxXCkey=3
f9ZB.wxXCkey=1
f9ZB.wxXCkey=3
_(cYZB,x7ZB)
var cC1B=_n('view')
_rz(z,cC1B,'class',16,e,s,gg)
var oD1B=_mz(z,'cy-userinfo',['bindisloginevent',17,'url',1],[],e,s,gg)
_(cC1B,oD1B)
var lE1B=_mz(z,'cy-userinfo',['bindisloginevent',19,'url',1],[],e,s,gg)
_(cC1B,lE1B)
_(cYZB,cC1B)
var oZZB=_v()
_(cYZB,oZZB)
if(_oz(z,21,e,s,gg)){oZZB.wxVkey=1
var aF1B=_n('cy-userinfo')
_rz(z,aF1B,'bindisloginevent',22,e,s,gg)
_(oZZB,aF1B)
}
var l1ZB=_v()
_(cYZB,l1ZB)
if(_oz(z,23,e,s,gg)){l1ZB.wxVkey=1
}
var a2ZB=_v()
_(cYZB,a2ZB)
if(_oz(z,24,e,s,gg)){a2ZB.wxVkey=1
}
oZZB.wxXCkey=1
oZZB.wxXCkey=3
l1ZB.wxXCkey=1
a2ZB.wxXCkey=1
_(r,cYZB)
var tG1B=_mz(z,'cy-top-tip',['theme',25,'topTipShow',1],[],e,s,gg)
_(r,tG1B)
var eH1B=_mz(z,'cy-modal',['btnText',27,'show',1],[],e,s,gg)
_(r,eH1B)
var oXZB=_v()
_(r,oXZB)
if(_oz(z,29,e,s,gg)){oXZB.wxVkey=1
}
oXZB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_218";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_218();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/user_center/index.wxml'] = [$gwx_XC_218, './pages/user_center/index.wxml'];else __wxAppCode__['pages/user_center/index.wxml'] = $gwx_XC_218( './pages/user_center/index.wxml' );
	;__wxRoute = "pages/user_center/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/user_center/index.js";define("pages/user_center/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../43A2F676829A079C25C49E711B4C7B70.js"),a=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),i=require("../../94310D64829A079CF2576563CCAC7B70.js"),o=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),n=getApp(),s=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,r=require("../../92BC1755829A079CF4DA7F52C55D7B70.js"),c=r.param,l=r.compareSDKVersion,u=r.isDevelop,d=s+"/events/newer_task/newer_task_status/",p=s+"/api/third_party/get_username/",h=s+"/events/cashback/health_package/reward/",f=s+"/api/gold/user/invite/",g=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,_=s+"/cooperation/wap/my_center/",m=s+"/cooperation/wap/wx_mini_bind_phone/",w=s+"/feedback/qiyu/patient_info/",v=s+"/cooperation/wap/user_home/",D=s+"/cooperation/wap/record_nickname_and_image/",y="".concat(s,"/cy_wx/public/follow/");Page({data:{user_id:"",nickName:"",avatarUrl:"https://static.chunyuyisheng.com/@/media/images/2018/02/07/7aec/3fb12af7c391_w120_h120_.png",task_status:"",text:"",isLogin:!1,tipShow:!0,award:0,bindPhone:"",healthGiftPack:!1,receivedTip:!1,activity_id:"",isAuthBtnClick:!1,showVipEntrance:!1,vipEntranceText:"",showBindPhone:!1,cdmUrl:"",vipHasBadge:!1,vipJumpUrl:"",vipDisplayText:"",healthRecordsUrl:encodeURIComponent(s+"/v-m-health-records/health-records?fromType=center"),isDevelop:!1,currentEnv:s,user_portrait_url:"",register_time:"",vip_type_for_customer_service:"",paid_level:"",refund_rate:"",system:"",config:{},focusControl:!1,cdnUrl:"",displayComponentAvailable:!1,officialAccountInfo:{hasFollowed:!0,jumpUrl:""},isSameDay:!1,visitPageName:"个人中心-小程序",fromVisitPage:""},onLoad:function(e){this.checkComponentUseable(),this.setData({fromVisitPage:e.from_visit_page||""})},onShow:function(){var e=this;this.setData({isSameDay:this.isSameDay()}),(0,t.manualLogin)().then((function(a){e.getVipStatus(),e.getUserId(),(0,t.isLogin)().then((function(t){e.setData({isLogin:!0,showBindPhone:!t.use_cellphone})})),e.hasSubscribeToOfficialAccount(),e.getQiYu()})),this.getUserDisplayinfo(),this.setData({isDevelop:u()}),(0,o.default)({fromName:this.data.from_visit_page||"",name:this.data.visitPageName,extraInfo:{}})},checkComponentUseable:function(){var e=l(wx.getSystemInfoSync().SDKVersion,"2.21.2");console.log(e),1!==e&&0!==e||this.setData({displayComponentAvailable:!0})},getUserDisplayinfo:function(){var e=this;(0,a.default)({url:v,data:{partner:"chunyu_wap",is_json:1},success:function(t){console.log(t),e.setData({nickName:t.data.nick_name||"",avatarUrl:t.data.avatar||""})}})},getVipStatus:function(){var e=this;wx.request({url:_,header:{"Content-Type":"application/json",Cookie:n.globalData.sessionid},success:function(t){var a=t.data||{},i=a.wx_vip,o=void 0===i?{}:i,n=a.show_bind_phone,r=a.bind_phone,c=a.cdm_url;e.setData({bindPhone:r,showVipEntrance:o.show_vip_entrance,vipEntranceText:o.title||"春雨会员",vipHasBadge:o.has_badge||!1,vipJumpUrl:encodeURIComponent("".concat(s).concat(o.jump_url||"/wxvip/home?partner=chunyu_wap_mini","&version=10.0.0")),vipDisplayText:o.display_text||"",showBindPhone:n,cdmUrl:c?encodeURIComponent(s+c):""})}})},getUserId:function(){var e=this;n.globalData.sessionid&&wx.request({url:p,header:{Cookie:n.globalData.sessionid},success:function(t){e.setData({user_id:t.data.user_id})},fail:function(){e.setData({user_id:"user_id_fail"})}})},hideGiftPackTip:function(){this.setData({healthGiftPack:!1})},getCashBack:function(){var e=this;this.setData({healthGiftPack:!1}),n.globalData.sessionid&&wx.request({url:h,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},method:"POST",data:c({activity_id:e.data.activity_id}),success:function(t){t.data.error_code?wx.showToast({icon:"none",title:t.data.error_msg||"领取失败，请重试"}):e.setData({award:t.data.award?t.data.award:0,receivedTip:!0})}})},loginActions:function(){var e=this;e.setData({isLogin:!0}),e.getUserId();var t=n.getUserProfileGlobal();if(t.isSuccess){var a=t.nickName,i=t.avatarUrl;e.setData({nickName:a,avatarUrl:i})}setTimeout((function(){e.getQiYu()}),500)},getTaskSatus:function(){var e=this;n.globalData.sessionid&&wx.request({url:d,header:{Cookie:n.globalData.sessionid},data:{partner:n.globalData.partner},success:function(t){t.data.task_status&&e.setData({task_status:t.data.task_status,text:t.data.text})}})},goldInviteRecord:function(){var e=wx.getStorageSync("source_from")||"",t=wx.getStorageSync("app_inviter_id")||"";if(g("AppClick",{page_readable_name:"登录授权按钮",click_position:"个人中心登录按钮",platform_source:"chunyu_wap_mini",source_type:"user_home"==e?"app":"",first_login:n.globalData.isFirstAuthorized?"0":"1",from_type:"user_home"==e?"邀请好友":"",inviter_user_id:t}),n.globalData.isFirstAuthorized&&"user_home"==e&&t){var a={inviter_id:t};wx.request({url:f,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},method:"POST",data:c(a),success:function(e){0==e.data.error_code?(wx.removeStorageSync("app_inviter_id"),wx.removeStorageSync("source_from"),console.log("金币任务邀请好友成功")):console.log("金币任务邀请好友失败：",e.data.error_msg)},fail:function(e){console.log("金币任务邀请好友失败：",e.data.error_msg)}})}},pointLogin:function(){this.setData({isAuthBtnClick:!0}),g("AppClick",{page_readable_name:"登录授权按钮",click_position:"个人中心登录按钮"})},hideTopTip:function(){this.setData({tipShow:!1})},jumpChangePhone:function(){!this.data.showBindPhone&&this.data.isLogin&&wx.navigateTo({url:"../change_phone_num/index"})},getPhoneNumber:function(e){var t=this;if("getPhoneNumber:ok"===e.detail.errMsg){var a={iv:e.detail.iv,encryptedData:e.detail.encryptedData,app:"weixin_mini"};wx.request({url:m,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},method:"POST",data:c(a),success:function(e){if(0==e.data.error_code){var a=e.data.result.sessionid||"",i="sessionid=".concat(a);wx.setStorageSync("sessionid",i),n.globalData.sessionid=i,wx.showLoading({title:"加载中"}),setTimeout((function(){wx.hideLoading(),t.getVipStatus()}),2e3)}else wx.showToast({icon:"none",title:e.data.error_msg||"绑定手机失败，请稍后重试",duration:2e3})},fail:function(e){wx.showToast({icon:"none",title:e.data.error_msg||"绑定手机失败，请稍后重试",duration:2e3})}})}},setUrl:function(e){wx.setStorageSync("BASE_URL_KEY",e.currentTarget.dataset.url),wx.exitMiniProgram({})},getQiYu:function(){var e=this;wx.request({url:w,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},success:function(t){var a=t.data.data||[],i={data:[]},o="";wx.getSystemInfo({success:function(e){o=e.system}}),a.push({key:"system",label:"系统版本",value:o});var n=a.map((function(e,t){var a={};return a.index=t,a.key=e.key,a.label=e.label,a.value=e.value,a.href=e.href,a}));i.data=JSON.stringify(n),e.setData({config:JSON.stringify(i)})},fail:function(){wx.showToast({icon:"none",title:"请求失败，请稍后重试",duration:2e3})}})},triggerUploadNickname:function(){this.setData({focusControl:!0})},setUploadInputblur:function(e){this.setData({focusControl:!1}),e.detail.value&&(this.setData({nickName:e.detail.value}),this.updateDisplayInfo(null,this.data.nickName))},nicknameInput:function(e){console.log(e.detail)},confirmNickname:function(e){console.log(e.detail)},chooseAvatar:function(e){var t=this,a=e.detail.avatarUrl;(0,i.generateFakeToken)().then((function(e){t.data.token=e,wx.showLoading({title:"加载图片中"}),wx.uploadFile({url:"https://upload.qbox.me/",filePath:a,name:"file",formData:{token:t.data.token},success:function(e){if(wx.hideLoading(),console.log(e),e.data){var a=JSON.parse(e.data);a.success&&(t.data.cdnUrl=a.img_url,t.updateDisplayInfo(t.data.cdnUrl))}},fail:function(){wx.hideLoading()}})}))},updateDisplayInfo:function(e,t){var i=this,o={};e&&(o.image=e),t&&(o.nickname=t),(0,a.default)({url:D,data:o,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e),0===e.data.error_code?(i.getUserDisplayinfo(),wx.showToast({icon:"none",title:"更新成功"})):wx.showToast({icon:"none",title:e.data.error_msg})},fail:function(e){wx.showToast({icon:"none",title:e.data.error_msg})}})},hasSubscribeToOfficialAccount:function(){var e=this;(0,a.default)({url:y,data:{scene_type:"mini_my_home"},success:function(t){0===t.data.error_code&&e.setData({"officialAccountInfo.hasFollowed":t.data.data.is_follow,"officialAccountInfo.jumpUrl":t.data.data.skip_url})}})},toOfficialAccount:function(){wx.setStorageSync("HIDE_TO_OFFICIAL_ACCOUNT_TIME",(new Date).getTime()),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(this.data.officialAccountInfo.jumpUrl))})},isSameDay:function(){var e=wx.getStorageSync("HIDE_TO_OFFICIAL_ACCOUNT_TIME");return!(!e||!this.checkSameDate(e,(new Date).getTime()))},checkSameDate:function(e,t){return e=new Date(e),t=new Date(t),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}});
},{isPage:true,isComponent:true,currentFile:'pages/user_center/index.js'});require("pages/user_center/index.js");$gwx_XC_219=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_219 || [];
function gz$gwx_XC_219_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_219_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_219_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_219_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_219_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_219_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_219=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_219=true;
var x=['./pages/video_play/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_219_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_219";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_219();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/video_play/index.wxml'] = [$gwx_XC_219, './pages/video_play/index.wxml'];else __wxAppCode__['pages/video_play/index.wxml'] = $gwx_XC_219( './pages/video_play/index.wxml' );
	;__wxRoute = "pages/video_play/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/video_play/index.js";define("pages/video_play/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Page({onReady:function(o){this.data.videoContext=wx.createVideoContext("qaVideo")},onLoad:function(o){var e=this;wx.getSystemInfo({success:function(o){var t=o.system;/ios/i.test(t)&&(console.error("isios"),console.error(t),e.setData({isIos:!0}))}});var t=decodeURIComponent(o.video_src);this.setData({video_src:t})},data:{isIos:!1,video_src:"",videoContext:{}},videoNone:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/video_play/index.js'});require("pages/video_play/index.js");$gwx_XC_220=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_220 || [];
function gz$gwx_XC_220_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_220_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_220_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_220_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'container  '],[[2,'?:'],[[7],[3,'showFilter']],[1,'hidden'],[1,'']]])
Z([[7],[3,'show_clear']])
Z([[7],[3,'showFilter']])
Z([[2,'&&'],[[7],[3,'showFilter']],[[7],[3,'showTag']]])
Z([[7],[3,'tag_second_list']])
Z([[6],[[7],[3,'item']],[3,'clinic_no']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'first_class_clinic_no']],[[6],[[7],[3,'tagOne']],[3,'clinic_no']]])
Z([3,'chooseTwoTag'])
Z([3,'clinic-list'])
Z([[7],[3,'item']])
Z([[6],[[7],[3,'item']],[3,'isActive']])
Z([[2,'&&'],[[7],[3,'showFilter']],[[7],[3,'showSort']]])
Z([[2,'&&'],[[7],[3,'show_tag']],[[6],[[7],[3,'tag_special_list']],[3,'length']]])
Z([[7],[3,'showToggle']])
Z([[6],[[7],[3,'doctor_list']],[3,'length']])
Z([[7],[3,'doctor_list']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'doctor__price clearfix'])
Z([[2,'!='],[[6],[[7],[3,'item']],[3,'purchase_num']],[1,0]])
Z([[6],[[7],[3,'item']],[3,'only_subscribe']])
Z([[7],[3,'show_more']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_220_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_220_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_220=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_220=true;
var x=['./pages/vip_doctor_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_220_1()
var xK1B=_n('view')
_rz(z,xK1B,'class',0,e,s,gg)
var oL1B=_v()
_(xK1B,oL1B)
if(_oz(z,1,e,s,gg)){oL1B.wxVkey=1
}
var fM1B=_v()
_(xK1B,fM1B)
if(_oz(z,2,e,s,gg)){fM1B.wxVkey=1
}
var cN1B=_v()
_(xK1B,cN1B)
if(_oz(z,3,e,s,gg)){cN1B.wxVkey=1
var oR1B=_v()
_(cN1B,oR1B)
var lS1B=function(tU1B,aT1B,eV1B,gg){
var oX1B=_v()
_(eV1B,oX1B)
if(_oz(z,6,tU1B,aT1B,gg)){oX1B.wxVkey=1
var xY1B=_mz(z,'view',['bindtap',7,'class',1,'data-item',2],[],tU1B,aT1B,gg)
var oZ1B=_v()
_(xY1B,oZ1B)
if(_oz(z,10,tU1B,aT1B,gg)){oZ1B.wxVkey=1
}
oZ1B.wxXCkey=1
_(oX1B,xY1B)
}
oX1B.wxXCkey=1
return eV1B
}
oR1B.wxXCkey=2
_2z(z,4,lS1B,e,s,gg,oR1B,'item','index','{{item.clinic_no}}')
}
var hO1B=_v()
_(xK1B,hO1B)
if(_oz(z,11,e,s,gg)){hO1B.wxVkey=1
}
var oP1B=_v()
_(xK1B,oP1B)
if(_oz(z,12,e,s,gg)){oP1B.wxVkey=1
var f11B=_v()
_(oP1B,f11B)
if(_oz(z,13,e,s,gg)){f11B.wxVkey=1
}
f11B.wxXCkey=1
}
var cQ1B=_v()
_(xK1B,cQ1B)
if(_oz(z,14,e,s,gg)){cQ1B.wxVkey=1
var c21B=_n('view')
var o41B=_v()
_(c21B,o41B)
var c51B=function(l71B,o61B,a81B,gg){
var e01B=_n('view')
_rz(z,e01B,'class',17,l71B,o61B,gg)
var bA2B=_v()
_(e01B,bA2B)
if(_oz(z,18,l71B,o61B,gg)){bA2B.wxVkey=1
}
var oB2B=_v()
_(e01B,oB2B)
if(_oz(z,19,l71B,o61B,gg)){oB2B.wxVkey=1
}
bA2B.wxXCkey=1
oB2B.wxXCkey=1
_(a81B,e01B)
return a81B
}
o41B.wxXCkey=2
_2z(z,15,c51B,e,s,gg,o41B,'item','index','{{ item.id }}')
var h31B=_v()
_(c21B,h31B)
if(_oz(z,20,e,s,gg)){h31B.wxVkey=1
}
h31B.wxXCkey=1
_(cQ1B,c21B)
}
else{cQ1B.wxVkey=2
}
oL1B.wxXCkey=1
fM1B.wxXCkey=1
cN1B.wxXCkey=1
hO1B.wxXCkey=1
oP1B.wxXCkey=1
cQ1B.wxXCkey=1
_(r,xK1B)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_220";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_220();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_doctor_list/index.wxml'] = [$gwx_XC_220, './pages/vip_doctor_list/index.wxml'];else __wxAppCode__['pages/vip_doctor_list/index.wxml'] = $gwx_XC_220( './pages/vip_doctor_list/index.wxml' );
	;__wxRoute = "pages/vip_doctor_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/vip_doctor_list/index.js";define("pages/vip_doctor_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),a=getApp(),i=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=i.baseUrl+"/api/search/vip_doctor/hospital_clinic_info/",o=i.baseUrl+"/api/search/vip_doctor/search_doctor/";Page({data:{page:1,hospital_id:"",clinic_no:"",clinic_name:"",query:"",no_more:!1,show_more:!0,doctor_list:[],tag_list:[],showToggle:!1,showIndex:!1,show_tag:!0,hospital_name:"",doctorGradeOption:[{label:"主任医师",value:!1},{label:"副主任医师",value:!1},{label:"主治医师",value:!1}],sortServiceWayOption:[{label:"可直接咨询",enLabel:"can_consult",value:!1},{label:"仅接受预约",enLabel:"only_subscribe",value:!1}],showFilter:!1,showTag:!1,showSort:!1,tagName:"全部科室",tagOne:[]},onLoad:function(t){this.getWidth();var a=t.search||"",i=t.query||"",e=t.hospital_id||"",o=t.hospital_name||"";a?this.setData({query:i,hospital_id:"",show_tag:!1}):(this.setData({query:"",hospital_id:e,show_tag:!0,hospital_name:o,clinic_no:t.clinic_no||"",clinic_name:t.clinic_name||""}),wx.setNavigationBarTitle({title:o}),this.getTagList()),this.getDoctorList()},getWidth:function(){var t=this;wx.getSystemInfo({success:function(a){t.setData({windowWidth:a.windowWidth?a.windowWidth:a.screenWidth})}})},getTagList:function(){var t=this,i=t.data.hospital_id;wx.request({url:e,header:{"Content-Type":"application/json",Cookie:a.globalData.sessionid},data:{hospital_id:i},success:function(a){if(0==(a=a.data).error_code){var i=[{clinic_no:"all",clinic_name:"全部科室"}],e=JSON.parse(JSON.stringify(a.clinic_list)).map((function(t){return t.first_class_clinic_no=t.clinic_no,t.clinic_name="全部"+t.clinic_name,t}));t.setData({tag_one_list:i.concat(a.clinic_list),tag_second_list:e.concat(a.second_class_clinic_list),tag_special_list:a.special_clinic||[],tagOne:i[0]}),setTimeout((function(){t.operateTagList()}),150)}else wx.showToast({title:a.error_msg||"加载失败，请稍后重试",icon:"none"})},fail:function(t){wx.showToast({title:t.data.error_msg||"加载失败，请稍后重试",icon:"none"})}})},operateTagList:function(){var t=this;wx.createSelectorQuery().select(".tag-content").boundingClientRect().exec((function(a){a[0]&&a[0].height>100&&t.setData({showToggle:!0,showIndex:!0})}))},handleShowTag:function(){this.setData({showFilter:!0,showTag:!0,showSort:!1})},handleShowSort:function(){this.setData({showFilter:!0,showTag:!1,showSort:!0})},getDoctorList:function(){var t=this,i=t.data.page,e=t.data.doctor_list,n=a.globalData.sessionid,c={page:i,partner:a.globalData.partner};t.data.hospital_id&&(c.hospital_id=t.data.hospital_id),t.data.clinic_no&&(c.clinic_no=t.data.clinic_no),t.data.query&&(c.query=t.data.query);var s=[];t.data.doctorGradeOption.forEach((function(t){t.value&&s.push(t.label)})),t.data.sortServiceWayOption.forEach((function(t){t.value&&(c.service_way=t.enLabel)})),s.length&&(c.doctor_title=JSON.stringify(s)),wx.request({url:o,header:{"Content-Type":"application/json",Cookie:n},data:c,method:"GET",success:function(a){a=a.data,t.setData({page:i+1,doctor_list:1==i?a.doctor_list:e.concat(a.doctor_list),no_more:a.doctor_list.length<20,show_more:!(a.doctor_list.length<10&&1==i)})}})},onReachBottom:function(){this.data.no_more||this.loadMore()},loadMore:function(){this.getDoctorList()},toggleShow:function(t){this.setData({showIndex:!this.data.showIndex})},chooseTagOne:function(t){var a=t.currentTarget.dataset.tagOne;this.setData({tagOne:a});var i=this.data.tag_second_list,e=this.data.tag_special_list;"all"==a.clinic_no&&(i.forEach((function(t){t.isActive=!1})),e.forEach((function(t){t.isActive=!1})),this.setData({page:1,clinic_no:"",tagName:a.clinic_name,tag_second_list:i,tag_special_list:e}),this.handleReset(),this.getDoctorList(),this.closeMask())},chooseTwoTag:function(t){var a=t.currentTarget.dataset.item,i=this.data.tag_second_list,e=this.data.tag_special_list;i.forEach((function(t){t.isActive=!1,t.clinic_no==a.clinic_no&&(t.isActive=!0)})),e.forEach((function(t){t.isActive=!1})),this.setData({page:1,clinic_no:a.clinic_no,tagName:a.clinic_name,tag_second_list:i,tag_special_list:e}),this.handleReset(),this.getDoctorList(),this.closeMask()},chooseSpecialTag:function(t){var a=this,i=t.currentTarget.dataset.item,e=!1,o=this.data.tag_second_list,n=this.data.tag_special_list,c=this.data.tag_one_list;n.forEach((function(t){t.isActive=!1,t.clinic_no==i.clinic_no&&(t.isActive=!0)}));var s=i.online_clinic_no;o.forEach((function(t){t.isActive=!1,t.clinic_no==i.online_clinic_no&&(t.isActive=!0,e=!0,a.setData({tagName:t.clinic_name}),s=t.first_class_clinic_no)})),c.forEach((function(t){t.clinic_no==s&&a.setData({tagOne:t})})),a.setData({page:1,clinic_no:i.clinic_no,tag_second_list:o,tag_special_list:n,tag_one_list:c}),e||a.setData({tagName:"全部科室",tagOne:this.data.tag_one_list[0]}),this.handleReset(),this.getDoctorList()},closeMask:function(){this.setData({showFilter:!1,showTag:!1,showSort:!1})},changeServeWay:function(t){var a=t.currentTarget.dataset.index,i=t.currentTarget.dataset.status,e=this.data.sortServiceWayOption;e.forEach((function(t,e){t.value=!1,i||e!=a||(t.value=!0)})),this.setData({sortServiceWayOption:e})},changeDoctorGrade:function(a){var i=a.currentTarget.dataset.index,e="doctorGradeOption[".concat(i,"].value");this.setData(t({},e,!this.data.doctorGradeOption[i].value))},handleSort:function(){this.setData({page:1}),this.getDoctorList(),this.closeMask()},handleReset:function(){var t=this.data.doctorGradeOption,a=this.data.sortServiceWayOption;t.forEach((function(t){t.value=!1})),a.forEach((function(t){t.value=!1})),this.setData({sortServiceWayOption:a,doctorGradeOption:t})},chooseTag:function(t){var a=t.currentTarget.dataset.clinicNo,i=t.currentTarget.dataset.clinicName,e=this.data.tag_list;e.forEach((function(t){t.sub_category.forEach((function(t){t.isActive=!1,t.clinic_no==a&&(t.isActive=!0)}))})),this.setData({page:1,clinic_no:a,clinic_name:i,tag_list:e}),this.getDoctorList()},setQuery:function(t){var a=t.detail.value;this.setData({query:a})},searchDoctor:function(){this.setData({hospital_id:"",page:1,clinic_no:"",show_tag:!1}),this.getDoctorList()},showClearIcon:function(){this.setData({show_clear:!0})},hideClearIcon:function(){this.setData({show_clear:!1})},clearInput:function(){this.setData({query:""})},onShareAppMessage:function(){var t=this.data;return{title:"".concat(t.query).concat(t.hospital_name).concat(t.clinic_name,"名院专家"),path:"/pages/vip_doctor_list/index?hospital_name=".concat(t.hospital_name,"&hospital_id=").concat(t.hospital_id,"&query=").concat(t.query,"&search=").concat(t.query,"&clinic_no=").concat(t.clinic_no,"&clinic_name=").concat(t.clinic_name)}}});
},{isPage:true,isComponent:true,currentFile:'pages/vip_doctor_list/index.js'});require("pages/vip_doctor_list/index.js");$gwx_XC_221=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_221 || [];
function gz$gwx_XC_221_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_221_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_221_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_221_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'container '],[[2,'?:'],[[7],[3,'show_filter']],[1,'overflow-hidden'],[1,'']]])
Z([[7],[3,'show_filter']])
Z([[7],[3,'show_clear']])
Z([3,'box-wrap'])
Z([[2,'&&'],[[7],[3,'show_filter']],[[7],[3,'show_province']]])
Z([[7],[3,'province_list']])
Z([3,'item-lists province-list'])
Z([[6],[[7],[3,'item']],[3,'code']])
Z(z[5])
Z(z[7])
Z([3,'chooseProvince'])
Z([3,'item-list'])
Z(z[7])
Z([[6],[[7],[3,'item']],[3,'province']])
Z([[2,'?:'],[[6],[[7],[3,'item']],[3,'isActive']],[1,'active'],[1,'']])
Z([[2,'&&'],[[7],[3,'show_filter']],[[7],[3,'show_sort']]])
Z([[7],[3,'sort_list']])
Z([3,'item-lists sort-list'])
Z([[6],[[7],[3,'item']],[3,'value']])
Z(z[16])
Z(z[18])
Z([3,'chooseSort'])
Z(z[11])
Z([[6],[[7],[3,'item']],[3,'text']])
Z(z[18])
Z(z[14])
Z([[6],[[7],[3,'hospital_list']],[3,'length']])
Z([[7],[3,'show_more']])
Z([3,'upToTopClick'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_221_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_221_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_221=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_221=true;
var x=['./pages/vip_hospital_list/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_221_1()
var oD2B=_n('view')
_rz(z,oD2B,'class',0,e,s,gg)
var fE2B=_v()
_(oD2B,fE2B)
if(_oz(z,1,e,s,gg)){fE2B.wxVkey=1
}
var cF2B=_v()
_(oD2B,cF2B)
if(_oz(z,2,e,s,gg)){cF2B.wxVkey=1
}
var oH2B=_n('view')
_rz(z,oH2B,'class',3,e,s,gg)
var cI2B=_v()
_(oH2B,cI2B)
if(_oz(z,4,e,s,gg)){cI2B.wxVkey=1
var lK2B=_v()
_(cI2B,lK2B)
if(_oz(z,5,e,s,gg)){lK2B.wxVkey=1
var aL2B=_n('view')
_rz(z,aL2B,'class',6,e,s,gg)
var tM2B=_v()
_(aL2B,tM2B)
var eN2B=function(oP2B,bO2B,xQ2B,gg){
var fS2B=_mz(z,'view',['bindtap',10,'class',1,'data-code',2,'data-province',3],[],oP2B,bO2B,gg)
var cT2B=_v()
_(fS2B,cT2B)
if(_oz(z,14,oP2B,bO2B,gg)){cT2B.wxVkey=1
}
cT2B.wxXCkey=1
_(xQ2B,fS2B)
return xQ2B
}
tM2B.wxXCkey=2
_2z(z,8,eN2B,e,s,gg,tM2B,'item','index','{{ item.code }}')
_(lK2B,aL2B)
}
lK2B.wxXCkey=1
}
var oJ2B=_v()
_(oH2B,oJ2B)
if(_oz(z,15,e,s,gg)){oJ2B.wxVkey=1
var hU2B=_v()
_(oJ2B,hU2B)
if(_oz(z,16,e,s,gg)){hU2B.wxVkey=1
var oV2B=_n('view')
_rz(z,oV2B,'class',17,e,s,gg)
var cW2B=_v()
_(oV2B,cW2B)
var oX2B=function(aZ2B,lY2B,t12B,gg){
var b32B=_mz(z,'view',['bindtap',21,'class',1,'data-sort-text',2,'data-sort-value',3],[],aZ2B,lY2B,gg)
var o42B=_v()
_(b32B,o42B)
if(_oz(z,25,aZ2B,lY2B,gg)){o42B.wxVkey=1
}
o42B.wxXCkey=1
_(t12B,b32B)
return t12B
}
cW2B.wxXCkey=2
_2z(z,19,oX2B,e,s,gg,cW2B,'item','index','{{ item.value }}')
_(hU2B,oV2B)
}
hU2B.wxXCkey=1
}
cI2B.wxXCkey=1
oJ2B.wxXCkey=1
_(oD2B,oH2B)
var hG2B=_v()
_(oD2B,hG2B)
if(_oz(z,26,e,s,gg)){hG2B.wxVkey=1
var x52B=_v()
_(hG2B,x52B)
if(_oz(z,27,e,s,gg)){x52B.wxVkey=1
}
x52B.wxXCkey=1
}
else{hG2B.wxVkey=2
}
fE2B.wxXCkey=1
cF2B.wxXCkey=1
hG2B.wxXCkey=1
_(r,oD2B)
var o62B=_n('cy-up2top')
_rz(z,o62B,'bind:upToTop',28,e,s,gg)
_(r,o62B)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_221";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_221();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_hospital_list/index.wxml'] = [$gwx_XC_221, './pages/vip_hospital_list/index.wxml'];else __wxAppCode__['pages/vip_hospital_list/index.wxml'] = $gwx_XC_221( './pages/vip_hospital_list/index.wxml' );
	;__wxRoute = "pages/vip_hospital_list/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/vip_hospital_list/index.js";define("pages/vip_hospital_list/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");var t=getApp(),o=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").getQueryStr,s=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,r=o.baseUrl+"/api/search/vip_doctor/search_key_info/",i=o.baseUrl+"/api/search/vip_doctor/hospital_list/";Page({data:{page:1,show_clear:!1,show_filter:!1,show_province:!1,show_sort:!1,no_more:!1,show_more:!0,province:"全部地区",current_sort:"综合排序",current_sort_no:"",province_list:[],sort_list:[],hospital_list:[],query:""},onLoad:function(t){if(this.setData({province:t.province||"全部地区",current_sort:t.current_sort||"综合排序",current_sort_no:t.current_sort_no||""}),this.getFilterInfo(),this.getHospitalList(),t.scene){var o="?"+decodeURIComponent(t.scene),s=e("fv",o);["seo-m","seo-mip","seo-pc"].includes(s)&&this.h5ServicePoint(s)}},upToTopClick:function(){wx.pageScrollTo({scrollTop:0,duration:300})},onReachBottom:function(){this.data.no_more||this.loadMore()},getFilterInfo:function(){var o=this;wx.request({url:r,method:"GET",header:{"Content-Type":"application/json",Cookie:t.globalData.sessionid},data:{partner:t.globalData.partner,is_json:1},success:function(t){var e=t.data.province_list,s=t.data.sort_type;e.forEach((function(t){t.isActive=!1})),s.forEach((function(t){t.isActive=!1})),e.unshift({province:"全部地区",code:"",isActive:!0}),s.unshift({value:"",text:"综合排序",isActive:!0}),o.setData({province_list:e,sort_list:s})}})},showProvince:function(){this.setData({show_filter:!0,show_province:!0,show_sort:!1})},chooseProvince:function(t){var o=t.currentTarget.dataset.province,e=t.currentTarget.dataset.code,s=this.data.province_list;s.forEach((function(t){t.isActive=!1,t.code==e&&(t.isActive=!0)})),this.setData({show_filter:!1,show_province:!1,show_sort:!1,province:e?o:"全部地区",page:1,province_list:s}),this.getHospitalList()},showSort:function(){this.setData({show_filter:!0,show_province:!1,show_sort:!0})},chooseSort:function(t){var o=t.currentTarget.dataset.sortValue,e=t.currentTarget.dataset.sortText,s=this.data.sort_list;s.forEach((function(t){t.isActive=!1,t.value==o&&(t.isActive=!0)})),this.setData({show_filter:!1,show_province:!1,show_sort:!1,current_sort:o?e:"综合排序",current_sort_no:o||"",page:1,sort_list:s}),this.getHospitalList()},getHospitalList:function(){var o=this,e="全部地区"==o.data.province?"":o.data.province,s=o.data.current_sort_no,r=o.data.page,a=o.data.hospital_list,n={province:e,page:r,sort_type:s,partner:t.globalData.partner};wx.request({url:i,method:"GET",header:{"Content-type":"application/json",cookie:t.globalData.sessionid},data:n,success:function(t){t=t.data;o.setData({hospital_list:1==r?t.hospital_list:a.concat(t.hospital_list),page:r+1,no_more:20!=t.hospital_list.length,show_more:!(t.hospital_list.length<10&&1==r)})},fail:function(t){wx.showToast({title:t.data.error_msg||"加载失败，请稍后重试",icon:"none"})}})},loadMore:function(){this.getHospitalList()},closeMask:function(){this.setData({show_filter:!1,show_province:!1,show_sort:!1})},setQuery:function(t){var o=t.detail.value;this.setData({query:o})},searchDoctor:function(){var t=this.data.query;wx.navigateTo({url:"../vip_doctor_list/index?search=search&query="+t})},showClearIcon:function(){this.setData({show_clear:!0})},hideClearIcon:function(){this.setData({show_clear:!1})},clearInput:function(){this.setData({query:""})},h5ServicePoint:function(t){var o={source_type:t,order_type:"名医咨询",from_type:"中转页扫码"};s("WebServeiceScan",o),wx.setStorage({key:"authorizationPointData",data:o})},onShareAppMessage:function(){var t=this.data;return{title:"".concat(t.province).concat(t.current_sort,"名院"),path:"/pages/vip_hospital_list/index?province=".concat(t.province,"&current_sort=").concat(t.current_sort,"&current_sort_no=").concat(t.current_sort_no)}}});
},{isPage:true,isComponent:true,currentFile:'pages/vip_hospital_list/index.js'});require("pages/vip_hospital_list/index.js");$gwx_XC_222=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_222 || [];
function gz$gwx_XC_222_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_222_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_222_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_222_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'isLogin']]])
Z([3,'loginActions'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_222_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_222_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_222=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_222=true;
var x=['./pages/vip_pay/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_222_1()
var c82B=_v()
_(r,c82B)
if(_oz(z,0,e,s,gg)){c82B.wxVkey=1
var h92B=_n('cy-authorize-login')
_rz(z,h92B,'bindloginSuccess',1,e,s,gg)
_(c82B,h92B)
}
else{c82B.wxVkey=2
}
c82B.wxXCkey=1
c82B.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_222";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_222();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_pay/index.wxml'] = [$gwx_XC_222, './pages/vip_pay/index.wxml'];else __wxAppCode__['pages/vip_pay/index.wxml'] = $gwx_XC_222( './pages/vip_pay/index.wxml' );
	;__wxRoute = "pages/vip_pay/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/vip_pay/index.js";define("pages/vip_pay/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var o=getApp(),t=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js"),e=t.baseUrl+"/weixin/pay/",a=t.baseUrl+"/weixin/pay/create_order/",n=t.baseUrl+"/weixin/do_pay/",i=t.baseUrl+"/weixin/pay/get_weixin_mini_pay_params/",r=t.baseUrl+"/weixin/pay/get_pure_sign_pay_order_params/",s=t.baseUrl+"/weixin/pay/sign/status/",l=t.baseUrl+"/weixin/pay/do_confirm";Page({data:{isLogin:!0,orderInfo:{},serviceInfoList:[],needPay:0,validPlatformList:[],payMethod:"",periodInfo:"",options:{},createOrderInfo:{},hasNavToPer:!1,perOrderId:"",wxPaySignInfo:{},pollInfo:{isPolling:!1,id:null,interval:1e3}},onLoad:function(o){o&&o.finish_success_url&&(o.finish_success_url=decodeURIComponent(o.finish_success_url)),this.data.options=o||{}},onShow:function(){var t=this.data.hasNavToPer;if(void 0!==t&&t){this.data.hasNavToPer=!1;var e=o.globalData.referrerInfo,a=e.appId,n=void 0===a?"":a,i=e.extraData;if("wxbd687630cd02ce1d"===n){if(void 0===i)return void this.startPollingEvent(this.getPeriodSignStatus);i&&"SUCCESS"==i.return_code?this.startPollingEvent(this.getPeriodSignStatus):wx.showToast({title:"签约失败",icon:"none",duration:1500})}}var r=this;o.globalData.appIsLogin.then((function(){console.log("登录状态"),r.setData({isLogin:!0}),r.getPayInfo(r.data.options)}),(function(){console.log("未登录状态"),r.setData({isLogin:!1})}))},onHide:function(){o.globalData.referrerInfo={},this.stopPollingEvent()},onUnload:function(){o.globalData.referrerInfo={},this.stopPollingEvent()},loginActions:function(){console.log("登录成功"),this.setData({isLogin:!0}),this.getPayInfo(this.data.options)},getPayInfo:function(t){var a={pay_version:2,from_wx_mini:1,order_name:t.order_name,type:t.type||"coop_wx_vip",vip_type:t.vip_type||"gc",partner:o.globalData.partner,info:t.info,is_json:1},n=this;wx.request({url:e,method:"GET",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:a,success:function(o){var t=o.data||{};t.success?n.setData({orderInfo:{orderName:t.order_name,order_type:t.order_type,order_desc:t.order_desc},serviceInfoList:(t.service_info_list||[]).map((function(o,t){return{idx:t,name:o.name||"",price:o.price||0,priceText:o.price_text||""}})),needPay:t.need_pay,validPlatformList:t.valid_platform_list||[],periodInfo:t.period_info||"",payMethod:t.valid_platform_list[0]||""}):wx.showToast({title:t.error_msg||"订单信息获取失败",icon:"none"})},fail:function(o){wx.showToast({title:o.data.error_msg||"订单信息获取失败",icon:"none"})}})},changePayMethodEvent:function(o){this.setData({payMethod:o.currentTarget.dataset.paymethod})},setCreateOrderInfo:function(){var t=this.data,e=t.orderInfo,a=void 0===e?{}:e,n=t.options,i=void 0===n?{}:n,r=t.periodInfo,s=void 0===r?"":r,l={from_wx_mini:1,partner:o.globalData.partner,order_name:a.orderName||"春雨医生服务",order_type:a.order_type,info_dict:JSON.stringify({vip_type:i.vip_type||"gc",partner:o.globalData.partner})};return s&&s.length&&(l.period_info=s),l},creatOrderEvent:function(){var t=this.setCreateOrderInfo();console.log(o.globalData.sessionid),console.log(t);var e=this;this.data.payMethod&&this.data.payMethod.length?wx.request({url:a,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},data:t,success:function(o){console.log(o),o.data.success&&o.data.payment_order_id?e.payEvent(o.data.payment_order_id):wx.showToast({title:o.data.error_msg||"订单创建失败",icon:"none"})},fail:function(o){wx.showToast({title:o.data.error_msg||"订单创建出错",icon:"none"})}}):wx.showToast({title:"请选择支付方式",icon:"none"})},payEvent:function(o){var t=this.data.payMethod,e=void 0===t?"":t;"weixin"===e?this.wxPayEvent(o):"balance"===e?this.balancePayEvent(o):wx.showToast({title:"支付方式选择有误，请重新选择",icon:"none"})},wxPayEvent:function(t){var e=this,a={from_wx_mini:1,order_id:t};wx.showToast({title:"正在支付",icon:"loading"}),wx.request({url:i,method:"GET",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:a,success:function(o){if(0===o.data.error){var a=o.data.wx_mini_params;e.setData({wxPaySignInfo:a}),e.data.periodInfo&&e.data.periodInfo.length?e.wxPeriodEvent(t):e.wxPay(a)}else wx.showToast({title:o.data.msg||"获取微信支付信息失败",icon:"none",duration:1500})},fail:function(o){wx.showToast({title:o.data.msg||"获取微信支付信息出错",icon:"none",duration:1500})}})},wxPeriodEvent:function(t){var e=this,a={from_wx_mini:1,order_id:t,trade_account:"weixin_mini"};wx.request({url:r,method:"GET",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:a,success:function(o){if(0===o.data.error_code){var a=o.data.extra_data;wx.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:{appid:a.appid,mch_id:a.mch_id,plan_id:a.plan_id,contract_code:a.contract_code,request_serial:a.request_serial,contract_display_account:a.contract_display_account,notify_url:a.notify_url,sign:a.sign,timestamp:a.timestamp,outerid:a.outerid},success:function(o){e.data.hasNavToPer=!0,e.data.perOrderId=t},fail:function(o){wx.showToast({title:o.data.msg||"签约失败",icon:"none",duration:1500})}})}else wx.showToast({title:o.data.msg||"获取微信签约信息失败",icon:"none",duration:1500})},fail:function(o){wx.showToast({title:o.data.msg||"获取微信签约信息出错",icon:"none",duration:1500})}})},wxPay:function(o){var t=this;wx.requestPayment({timeStamp:o.timeStamp,nonceStr:o.nonceStr,package:o.package,signType:o.signType,paySign:o.paySign,success:function(){t.redirectView("/wxvip/home?partner=chunyu_wap_mini")},fail:function(o){wx.showToast({title:"支付失败",icon:"none",duration:1500}),console.log("requestPayment err:::",o)}})},startPollingEvent:function(o){console.log("start polling",this.data.pollInfo);var t=this.data.pollInfo,e=void 0===t?{}:t;e.isPolling||e.id||(o(),this.data.pollInfo.id=setInterval(o,e.interval),console.log("polling id",this.data.pollInfo))},stopPollingEvent:function(){console.log("start stop polling",this.data.pollInfo),this.data.pollInfo.isPolling=!1,clearInterval(this.data.pollInfo.id),this.data.pollInfo.id=null,console.log("stop stop polling",this.data.pollInfo)},getPeriodSignStatus:function(){console.log("查询签约状态");var t=this.data.perOrderId,e=void 0===t?"":t,a=this;e?(wx.showToast({title:"支付结果查询中，请勿重复支付",icon:"none"}),this.data.pollInfo.isPolling=!0,wx.request({url:s,method:"GET",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:{order_id:e},success:function(o){var t=o.data||{};if(0===t.error_code){if("TEMP"===t.status)return;a.stopPollingEvent(),console.log("查询签约停止轮询"),setTimeout((function(){"NORMAL"===t.status?a.startPollingEvent(a.getAutoPayResult):wx.showToast({title:t.error_msg||"签约状态异常",icon:"none",duration:1500})}),1e3)}else a.stopPollingEvent(),console.log("签约error_code!=0停止轮询"),setTimeout((function(){wx.showToast({title:t.error_msg||"签约状态查询失败",icon:"none",duration:1500})}),1e3)},fail:function(o){console.log("fail",data),wx.showToast({title:o.data.error_msg||"签约状态查询出错",icon:"none",duration:1500})},complete:function(){a.data.pollInfo.isPolling=!1}})):wx.showToast({title:"订单 id 获取出错",icon:"none"})},getAutoPayResult:function(){console.log("查询自动扣款");var t=this.data.perOrderId,e=void 0===t?"":t,a=this;e?(wx.showToast({title:"支付结果查询中，请勿重复支付",icon:"none"}),this.data.pollInfo.isPolling=!0,wx.request({url:l,method:"GET",header:{"Content-Type":"application/json",Cookie:o.globalData.sessionid},data:{pay_order_id:e},success:function(o){var t=o.data||{};-2!==t.error&&(a.stopPollingEvent(),console.log("支付结果停止轮询"),setTimeout((function(){0===t.error?(wx.showToast({title:"支付成功",icon:"none",duration:1500}),a.redirectView("/wxvip/home?partner=chunyu_wap_mini")):wx.showToast({title:t.msg||"支付失败",icon:"none",duration:1500})}),1e3))},fail:function(o){wx.showToast({title:o.data.msg||"支付出错",icon:"none",duration:1500})},complete:function(){a.data.pollInfo.isPolling=!1}})):wx.showToast({title:"订单 id 获取出错",icon:"none"})},balancePayEvent:function(t){var e=this,a={from_wx_mini:1,pay_order_id:t,pay_method:"balance",return_url:"/wxvip/home?partner=chunyu_wap_mini"};wx.showToast({title:"正在支付",icon:"loading"}),wx.request({url:n,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:o.globalData.sessionid},data:a,success:function(o){0===o.data.error?e.redirectView(o.data.finish_success_url||"/wxvip/home?partner=chunyu_wap_mini"):wx.showToast({title:o.data.msg||"支付失败",icon:"none",duration:1500})},fail:function(o){wx.showToast({title:o.data.msg||"支付出错",icon:"none",duration:1500})}})},redirectView:function(o){var e=encodeURIComponent("".concat(t.baseUrl).concat(o)),a="/pages/vip_webview/index?url=".concat(e);wx.redirectTo({url:a})}});
},{isPage:true,isComponent:true,currentFile:'pages/vip_pay/index.js'});require("pages/vip_pay/index.js");$gwx_XC_223=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_223 || [];
function gz$gwx_XC_223_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_223_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_223_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_223_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_223=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_223=true;
var x=['./pages/vip_webview/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_223_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_223";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_223();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_webview/index.wxml'] = [$gwx_XC_223, './pages/vip_webview/index.wxml'];else __wxAppCode__['pages/vip_webview/index.wxml'] = $gwx_XC_223( './pages/vip_webview/index.wxml' );
	;__wxRoute = "pages/vip_webview/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/vip_webview/index.js";define("pages/vip_webview/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../92BC1755829A079CF4DA7F52C55D7B70.js");Page({data:{loading:!0,canUseWebView:wx.canIUse("web-view"),url:"",benefitNumber:null},onLoad:function(t){var a=t.url&&decodeURIComponent(t.url);a&&this.setData({loading:!1,url:e.setWebviewUrlWithLoginCredentials(a)}),this.setShareMenuSwitch()},getNavBarHeight:function(){var e=wx.getMenuButtonBoundingClientRect(),t=e.height,a=e.top,i=20;try{i=wx.getSystemInfoSync().statusBarHeight}catch(e){console.log("getSystemInfoSync error:::",e)}return i+t+2*(a-i)},updateUrl:function(e){var t=(e&&decodeURIComponent(e)).split("?");console.log(t);var a=this.getNavBarHeight();return t[1]?"":"".concat(t[0],"?nav_height=").concat(a)},getMessage:function(e){e&&e.detail&&e.detail.data&&e.detail.data[0]&&this.setData({benefitNumber:e.detail.data[0]})},setShareMenuSwitch:function(){this.data.url.includes("/wxvip/benefit/detail")?wx.showShareMenu():wx.hideShareMenu()},reLoad:function(e){var t=e.detail.src;this.setData({url:t}),this.setShareMenuSwitch()},onShareAppMessage:function(e){var t=e.webViewUrl;if(this.data.url.includes("/wxvip/benefit/detail"))return{title:"春雨会员 专享"+this.data.benefitNumber+"项健康权益",imageUrl:"https://staff.chunyu.mobi/@/media/images/2020/12/07/abf7/8144375df61a_w660_h528_.jpg",path:"/pages/vip_webview/index?url=".concat(encodeURIComponent(t))}}});
},{isPage:true,isComponent:true,currentFile:'pages/vip_webview/index.js'});require("pages/vip_webview/index.js");