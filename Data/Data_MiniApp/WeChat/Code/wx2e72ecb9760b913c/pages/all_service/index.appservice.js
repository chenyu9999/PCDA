$gwx_XC_43=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_43 || [];
function gz$gwx_XC_43_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_43_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showBackBtn']])
Z([[7],[3,'isLogin']])
Z([3,'hideTopTip'])
Z([3,'container tab tab__body'])
Z([[6],[[7],[3,'service_list']],[3,'length']])
Z([[7],[3,'service_list']])
Z([3,'service_id'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'fast_phone']])
Z([3,'deleteRecord'])
Z([[7],[3,'item']])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'serviceCard'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'expert_consultation']])
Z(z[8])
Z([[7],[3,'index']])
Z(z[9])
Z([a,[3,'../service_order/index?service_id\x3d'],[[6],[[7],[3,'item']],[3,'service_id']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'revisit']])
Z([3,'jumpWebview'])
Z([[6],[[7],[3,'item']],[3,'skip_link']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'mall_invoice']])
Z(z[8])
Z([3,'toInvoicePage'])
Z(z[9])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'expert_call']])
Z(z[8])
Z(z[9])
Z(z[21])
Z([a,[3,'../tel_inquiry_detail/index?call_id\x3d'],z[16][2],[3,'\x26from_visit_page\x3d我的咨询']])
Z(z[10])
Z(z[11])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'register_apply']])
Z([3,'goAppointmentDetail'])
Z(z[16][2])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'inquiry']])
Z(z[8])
Z(z[9])
Z([a,[3,'../tel_inquiry_detail/index?inquiry_id\x3d'],z[16][2],z[34][3]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'video_inquiry_saas']])
Z([a,[3,'/pages/h5_webview/index?url\x3d'],[[6],[[7],[3,'item']],[3,'h5_url']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'status']],[1,'bl']])
Z([a,[3,'../inquery/inquery?problem_id\x3d'],z[16][2],[3,'\x26from_page\x3dall_service']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'common_types']])
Z([a,[3,'../give_qa_detail/index?service_id\x3d'],z[16][2],[3,'\x26from_type\x3dproblem_list']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'medicine_sale']])
Z(z[8])
Z(z[14])
Z(z[9])
Z([a,[3,'../qa_im_infinite/index?problem_id\x3d'],[[6],[[7],[3,'item']],[3,'conversation_id']]])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'special_service']])
Z(z[8])
Z([3,'jumpToH5'])
Z(z[14])
Z(z[9])
Z([[6],[[7],[3,'item']],[3,'url']])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'mall_shop_order']])
Z(z[8])
Z([3,'toMallOrder'])
Z(z[14])
Z(z[9])
Z(z[16][2])
Z(z[10])
Z(z[11])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'ai_chat']])
Z(z[8])
Z([3,'toAiService'])
Z(z[14])
Z(z[9])
Z(z[16][2])
Z(z[9])
Z(z[16][2])
Z([[6],[[7],[3,'item']],[3,'target_url']])
Z(z[10])
Z(z[11])
Z([3,'longPressToDelete'])
Z(z[16][2])
Z([a,[3,'../qa_im/index?problem_id\x3d'],z[16][2],z[34][3]])
Z(z[10])
Z(z[11])
Z(z[2])
Z([3,'login-wrap'])
Z([3,'pointLogin'])
Z([3,'init'])
Z(z[11])
Z([a,[3,'card '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'badge']],[1,'has-badge'],[1,'']]])
Z([[2,'&&'],[[6],[[6],[[7],[3,'item']],[3,'doctor']],[3,'clinic']],[[2,'!=='],[[6],[[7],[3,'item']],[3,'service_type']],[1,'ai_chat']]])
Z([[6],[[7],[3,'item']],[3,'service_time']])
Z([[6],[[7],[3,'item']],[3,'address']])
Z([[6],[[7],[3,'item']],[3,'can_ai_chat']])
Z([[7],[3,'tipShow']])
Z([3,''])
Z([3,'like-wx-modal'])
Z([[7],[3,'makesureDeleteShow']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_43_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_43_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_43=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_43=true;
var x=['./pages/all_service/index.wxml'];d_[x[0]]={}
d_[x[0]]["serviceCard"]=function(e,s,r,gg){
var z=gz$gwx_XC_43_1()
var b=x[0]+':serviceCard'
r.wxVkey=b
gg.f=$gdc(f_["./pages/all_service/index.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',104,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,105,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,106,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(oB,fE)
if(_oz(z,107,e,s,gg)){fE.wxVkey=1
}
var cF=_v()
_(oB,cF)
if(_oz(z,108,e,s,gg)){cF.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_43_1()
var o6H=_v()
_(r,o6H)
if(_oz(z,0,e,s,gg)){o6H.wxVkey=1
}
var f7H=_v()
_(r,f7H)
if(_oz(z,1,e,s,gg)){f7H.wxVkey=1
var c8H=_mz(z,'view',['bindtap',2,'class',1],[],e,s,gg)
var h9H=_v()
_(c8H,h9H)
if(_oz(z,4,e,s,gg)){h9H.wxVkey=1
var o0H=_v()
_(h9H,o0H)
var cAI=function(lCI,oBI,aDI,gg){
var eFI=_v()
_(aDI,eFI)
if(_oz(z,7,lCI,oBI,gg)){eFI.wxVkey=1
var bGI=_mz(z,'view',['bind:longpress',8,'data-service-data',1],[],lCI,oBI,gg)
var oHI=_v()
_(bGI,oHI)
var xII=_oz(z,11,lCI,oBI,gg)
var oJI=_gd(x[0],xII,e_,d_)
if(oJI){
var fKI=_1z(z,10,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oHI.wxXCkey=3
oJI(fKI,fKI,oHI,gg)
gg.f=cur_globalf
}
else _w(xII,x[0],4,307)
_(eFI,bGI)
}
else if(_oz(z,12,lCI,oBI,gg)){eFI.wxVkey=2
var cLI=_mz(z,'view',['bind:longpress',13,'data-list-index',1,'data-service-data',2],[],lCI,oBI,gg)
var hMI=_n('cy-navigator')
_rz(z,hMI,'url',16,lCI,oBI,gg)
var oNI=_v()
_(hMI,oNI)
var cOI=_oz(z,18,lCI,oBI,gg)
var oPI=_gd(x[0],cOI,e_,d_)
if(oPI){
var lQI=_1z(z,17,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oNI.wxXCkey=3
oPI(lQI,lQI,oNI,gg)
gg.f=cur_globalf
}
else _w(cOI,x[0],4,594)
_(cLI,hMI)
_(eFI,cLI)
}
else if(_oz(z,19,lCI,oBI,gg)){eFI.wxVkey=3
var aRI=_mz(z,'view',['bindtap',20,'data-url',1],[],lCI,oBI,gg)
var tSI=_v()
_(aRI,tSI)
var eTI=_oz(z,23,lCI,oBI,gg)
var bUI=_gd(x[0],eTI,e_,d_)
if(bUI){
var oVI=_1z(z,22,lCI,oBI,gg) || {}
var cur_globalf=gg.f
tSI.wxXCkey=3
bUI(oVI,oVI,tSI,gg)
gg.f=cur_globalf
}
else _w(eTI,x[0],4,769)
_(eFI,aRI)
}
else if(_oz(z,24,lCI,oBI,gg)){eFI.wxVkey=4
var xWI=_mz(z,'view',['bind:longpress',25,'bind:tap',1,'data-service-data',2],[],lCI,oBI,gg)
var oXI=_v()
_(xWI,oXI)
var fYI=_oz(z,29,lCI,oBI,gg)
var cZI=_gd(x[0],fYI,e_,d_)
if(cZI){
var h1I=_1z(z,28,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oXI.wxXCkey=3
cZI(h1I,h1I,oXI,gg)
gg.f=cur_globalf
}
else _w(fYI,x[0],4,967)
_(eFI,xWI)
}
else if(_oz(z,30,lCI,oBI,gg)){eFI.wxVkey=5
var o2I=_mz(z,'view',['bind:longpress',31,'data-service-data',1,'data-url',2],[],lCI,oBI,gg)
var c3I=_mz(z,'cy-navigator',['isSend',-1,'url',34],[],lCI,oBI,gg)
var o4I=_v()
_(c3I,o4I)
var l5I=_oz(z,36,lCI,oBI,gg)
var a6I=_gd(x[0],l5I,e_,d_)
if(a6I){
var t7I=_1z(z,35,lCI,oBI,gg) || {}
var cur_globalf=gg.f
o4I.wxXCkey=3
a6I(t7I,t7I,o4I,gg)
gg.f=cur_globalf
}
else _w(l5I,x[0],4,1285)
_(o2I,c3I)
_(eFI,o2I)
}
else if(_oz(z,37,lCI,oBI,gg)){eFI.wxVkey=6
var e8I=_mz(z,'view',['bindtap',38,'data-id',1],[],lCI,oBI,gg)
var b9I=_v()
_(e8I,b9I)
var o0I=_oz(z,41,lCI,oBI,gg)
var xAJ=_gd(x[0],o0I,e_,d_)
if(xAJ){
var oBJ=_1z(z,40,lCI,oBI,gg) || {}
var cur_globalf=gg.f
b9I.wxXCkey=3
xAJ(oBJ,oBJ,b9I,gg)
gg.f=cur_globalf
}
else _w(o0I,x[0],4,1476)
_(eFI,e8I)
}
else if(_oz(z,42,lCI,oBI,gg)){eFI.wxVkey=7
var fCJ=_mz(z,'view',['bind:longpress',43,'data-service-data',1],[],lCI,oBI,gg)
var cDJ=_mz(z,'cy-navigator',['isSend',-1,'url',45],[],lCI,oBI,gg)
var hEJ=_v()
_(cDJ,hEJ)
var oFJ=_oz(z,47,lCI,oBI,gg)
var cGJ=_gd(x[0],oFJ,e_,d_)
if(cGJ){
var oHJ=_1z(z,46,lCI,oBI,gg) || {}
var cur_globalf=gg.f
hEJ.wxXCkey=3
cGJ(oHJ,oHJ,hEJ,gg)
gg.f=cur_globalf
}
else _w(oFJ,x[0],4,1763)
_(fCJ,cDJ)
_(eFI,fCJ)
}
else if(_oz(z,48,lCI,oBI,gg)){eFI.wxVkey=8
var lIJ=_mz(z,'cy-navigator',['isSend',-1,'url',49],[],lCI,oBI,gg)
var aJJ=_v()
_(lIJ,aJJ)
var tKJ=_oz(z,51,lCI,oBI,gg)
var eLJ=_gd(x[0],tKJ,e_,d_)
if(eLJ){
var bMJ=_1z(z,50,lCI,oBI,gg) || {}
var cur_globalf=gg.f
aJJ.wxXCkey=3
eLJ(bMJ,bMJ,aJJ,gg)
gg.f=cur_globalf
}
else _w(tKJ,x[0],4,1972)
_(eFI,lIJ)
}
else if(_oz(z,52,lCI,oBI,gg)){eFI.wxVkey=9
var oNJ=_mz(z,'cy-navigator',['isSend',-1,'url',53],[],lCI,oBI,gg)
var xOJ=_v()
_(oNJ,xOJ)
var oPJ=_oz(z,55,lCI,oBI,gg)
var fQJ=_gd(x[0],oPJ,e_,d_)
if(fQJ){
var cRJ=_1z(z,54,lCI,oBI,gg) || {}
var cur_globalf=gg.f
xOJ.wxXCkey=3
fQJ(cRJ,cRJ,xOJ,gg)
gg.f=cur_globalf
}
else _w(oPJ,x[0],4,2177)
_(eFI,oNJ)
}
else if(_oz(z,56,lCI,oBI,gg)){eFI.wxVkey=10
var hSJ=_mz(z,'cy-navigator',['isSend',-1,'url',57],[],lCI,oBI,gg)
var oTJ=_v()
_(hSJ,oTJ)
var cUJ=_oz(z,59,lCI,oBI,gg)
var oVJ=_gd(x[0],cUJ,e_,d_)
if(oVJ){
var lWJ=_1z(z,58,lCI,oBI,gg) || {}
var cur_globalf=gg.f
oTJ.wxXCkey=3
oVJ(lWJ,lWJ,oTJ,gg)
gg.f=cur_globalf
}
else _w(cUJ,x[0],4,2396)
_(eFI,hSJ)
}
else if(_oz(z,60,lCI,oBI,gg)){eFI.wxVkey=11
var aXJ=_mz(z,'cy-navigator',['isSend',-1,'bind:longpress',61,'data-list-index',1,'data-service-data',2,'url',3],[],lCI,oBI,gg)
var tYJ=_v()
_(aXJ,tYJ)
var eZJ=_oz(z,66,lCI,oBI,gg)
var b1J=_gd(x[0],eZJ,e_,d_)
if(b1J){
var o2J=_1z(z,65,lCI,oBI,gg) || {}
var cur_globalf=gg.f
tYJ.wxXCkey=3
b1J(o2J,o2J,tYJ,gg)
gg.f=cur_globalf
}
else _w(eZJ,x[0],4,2689)
_(eFI,aXJ)
}
else if(_oz(z,67,lCI,oBI,gg)){eFI.wxVkey=12
var x3J=_mz(z,'view',['bind:longpress',68,'bindtap',1,'data-list-index',2,'data-service-data',3,'data-url',4],[],lCI,oBI,gg)
var o4J=_v()
_(x3J,o4J)
var f5J=_oz(z,74,lCI,oBI,gg)
var c6J=_gd(x[0],f5J,e_,d_)
if(c6J){
var h7J=_1z(z,73,lCI,oBI,gg) || {}
var cur_globalf=gg.f
o4J.wxXCkey=3
c6J(h7J,h7J,o4J,gg)
gg.f=cur_globalf
}
else _w(f5J,x[0],4,2945)
_(eFI,x3J)
}
else if(_oz(z,75,lCI,oBI,gg)){eFI.wxVkey=13
var o8J=_mz(z,'view',['isSend',-1,'bind:longpress',76,'bind:tap',1,'data-list-index',2,'data-service-data',3,'id',4],[],lCI,oBI,gg)
var c9J=_v()
_(o8J,c9J)
var o0J=_oz(z,82,lCI,oBI,gg)
var lAK=_gd(x[0],o0J,e_,d_)
if(lAK){
var aBK=_1z(z,81,lCI,oBI,gg) || {}
var cur_globalf=gg.f
c9J.wxXCkey=3
lAK(aBK,aBK,c9J,gg)
gg.f=cur_globalf
}
else _w(o0J,x[0],4,3206)
_(eFI,o8J)
}
else if(_oz(z,83,lCI,oBI,gg)){eFI.wxVkey=14
var tCK=_mz(z,'view',['isSend',-1,'bind:longpress',84,'bind:tap',1,'data-list-index',2,'data-service-data',3,'id',4,'mark:item',5,'mark:problem_id',6,'mark:target-url',7],[],lCI,oBI,gg)
var eDK=_v()
_(tCK,eDK)
var bEK=_oz(z,93,lCI,oBI,gg)
var oFK=_gd(x[0],bEK,e_,d_)
if(oFK){
var xGK=_1z(z,92,lCI,oBI,gg) || {}
var cur_globalf=gg.f
eDK.wxXCkey=3
oFK(xGK,xGK,eDK,gg)
gg.f=cur_globalf
}
else _w(bEK,x[0],4,3562)
_(eFI,tCK)
}
else{eFI.wxVkey=15
var oHK=_mz(z,'cy-navigator',['isSend',-1,'bind:longpress',94,'id',1,'url',2],[],lCI,oBI,gg)
var fIK=_v()
_(oHK,fIK)
var cJK=_oz(z,98,lCI,oBI,gg)
var hKK=_gd(x[0],cJK,e_,d_)
if(hKK){
var oLK=_1z(z,97,lCI,oBI,gg) || {}
var cur_globalf=gg.f
fIK.wxXCkey=3
hKK(oLK,oLK,fIK,gg)
gg.f=cur_globalf
}
else _w(cJK,x[0],4,3787)
_(eFI,oHK)
}
eFI.wxXCkey=1
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
eFI.wxXCkey=3
return aDI
}
o0H.wxXCkey=4
_2z(z,5,cAI,e,s,gg,o0H,'item','index','service_id')
}
else{h9H.wxVkey=2
}
h9H.wxXCkey=1
h9H.wxXCkey=3
_(f7H,c8H)
}
else{f7H.wxVkey=2
var cMK=_mz(z,'view',['bindtap',99,'class',1],[],e,s,gg)
var oNK=_mz(z,'cy-userinfo',['bindisloginevent',101,'bindloginevent',1],[],e,s,gg)
_(cMK,oNK)
_(f7H,cMK)
}
var lOK=_n('cy-top-tip')
_rz(z,lOK,'topTipShow',109,e,s,gg)
_(r,lOK)
var aPK=_mz(z,'cy-modal',['btnText',110,'class',1,'show',2],[],e,s,gg)
_(r,aPK)
var tQK=_n('cy-user-phone')
_(r,tQK)
o6H.wxXCkey=1
f7H.wxXCkey=1
f7H.wxXCkey=3
f7H.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_43";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_43();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/all_service/index.wxml'] = [$gwx_XC_43, './pages/all_service/index.wxml'];else __wxAppCode__['pages/all_service/index.wxml'] = $gwx_XC_43( './pages/all_service/index.wxml' );
	;__wxRoute = "pages/all_service/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/all_service/index.js";define("pages/all_service/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/interopRequireDefault"),t=require("../../@babel/runtime/helpers/objectSpread2"),a=e(require("../../7B9C8496829A079C1DFAEC91795C7B70.js")),i=require("../../43A2F676829A079C25C49E711B4C7B70.js"),o=e(require("../../3B123513829A079C5D745D1477BC7B70.js")),n=getApp(),r=require("../../BC983DD1829A079CDAFE55D6E84D7B70.js").baseUrl,s=require("../../92BC1755829A079CF4DA7F52C55D7B70.js").param,c=require("../../840A1D64829A079CE26C7563276C7B70.js").doPoint,l="".concat(r,"/cooperation/wap/get_user_history_service_list_v2/"),d="".concat(r,"/api/gold/user/invite/"),u="".concat(r,"/publicwap/third_party/weixin/combine_user/"),p=r+"/cooperation/wap/delete_problem/",_=r+"/api/my_service/delete_service/",m=r+"/cooperation/third_ai/conversation/new/";Page({data:{service_list:[],isLogin:!1,tipShow:!0,isAuthBtnClick:!1,showBackBtn:!1,makesureDeleteShow:!1,randomNumber:0,inputRandom:"",problemId:"",visitPageName:"全部订单-小程序",fromVisitPage:"",isLoading:!1},onLoad:function(e){e.scene&&(this.xzhUid=e.scene),n.globalData.activityPartner&&this.setData({showBackBtn:!0}),this.setData({fromVisitPage:e.from_visit_page||""})},onShow:function(){var e=this;(0,i.manualLogin)().then((function(){e.setData({isLogin:!0}),e.init()})).catch((function(){wx.showToast({icon:"none",title:"获取数据失败，请退出重试"})})),(0,o.default)({fromName:this.data.from_visit_page||"",name:this.data.visitPageName,extraInfo:{}})},jumpWebview:function(e){wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.currentTarget.dataset.url))})},longPressToDelete:function(e){var t=this;this.setData({problemId:e.target.id}),wx.showModal({title:"删除该问诊记录?",content:"删除后将无法恢复，同时无法接收医生回复。",confirmText:"删除",success:function(e){if(e.confirm){var a=Math.ceil(9999*Math.random()).toString().padStart(4,"0");a.padStart(4),t.setData({randomNumber:a,inputRandom:"",makesureDeleteShow:!0})}else e.cancel&&t.setData({problemId:""})},fail:function(){console.log("失败")}})},cancelDelete:function(){this.setData({makesureDeleteShow:!1,problemId:""})},setInputRandom:function(e){var t=e.detail.value;this.setData({inputRandom:t}),console.log(this.data.inputRandom)},makesureDelete:function(){var e=this,t={from_wx_mini:1,partner:n.globalData.partner,problem_id:e.data.problemId};this.setData({makesureDeleteShow:!1}),this.data.inputRandom.toString()==this.data.randomNumber?wx.request({url:p,data:s(t),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},success:function(t){0==t.data.error?wx.showToast({title:"删除成功!",icon:"none",success:function(){e.setData({service_list:e.data.service_list.filter((function(t){return t.service_id!=e.data.problemId}))})}}):wx.showToast({title:t.data.error_msg,icon:"none"})},fail:function(){wx.showToast({title:"请求发送失败",icon:"none"})}}):wx.showToast({title:"验证错误",icon:"none"})},onPullDownRefresh:function(){this.getHistoryServiceData()},init:function(){var e=this,t=e.xzhUid;e.xzhUid=void 0,e.setData({isLogin:!0}),t?wx.request({url:u,method:"POST",header:{Cookie:n.globalData.sessionid,"Content-Type":"application/x-www-form-urlencoded"},data:s({xzh_uid:t}),success:function(t){var a=t.data||{},i=a.status_code,o=a.error_msg,r=a.current_bind_phone;if(0===i)if(wx.showModal({content:"您的咨询记录已同步至微信，打开春雨医生小程序，点击“我的咨询”即可查看。",showCancel:!1,confirmText:"我知道啦"}),a.sessionid){var s="sessionid=".concat(a.sessionid);n.globalData.sessionid=s,wx.setStorageSync("sessionid",s)}else wx.removeStorageSync("sessionid"),e.setData({isLogin:!1}),n.globalData.sessionid="",n.globalData.appIsLogin=Promise.reject(new Error("用户需重新登陆"));else 2===i?wx.showModal({content:"咨询记录同步失败，您的微信已关联其他账户（".concat(r,"）"),showCancel:!1,confirmText:"我知道啦"}):3===i?wx.showModal({content:"咨询记录同步失败，账户（".concat(r,"）已关联其他微信号"),showCancel:!1,confirmText:"我知道啦"}):i>3&&wx.showModal({content:o,showCancel:!1,confirmText:"我知道啦"});e.getHistoryServiceData(),e.scanXzhPoint()},fail:function(){e.getHistoryServiceData(),e.scanXzhPoint()}}):e.getHistoryServiceData(),e.data.isAuthBtnClick&&e.goldInviteRecord()},scanXzhPoint:function(){var e=n.getUserProfileGlobal();e.isSuccess?c("WxMiniMyservices",{user_nickname:e.nickName,platform_source:"weixin_mini "}):c("WxMiniMyservices",{platform_source:"weixin_mini"})},getHistoryServiceData:function(){var e=this,t=this;this.setData({isLoading:!0}),(0,a.default)({url:l,data:{from_wx_mini:1,partner:n.globalData.partner},header:{"Content-Type":"application/json"},success:function(e){var a=e.data,i=null;1==a.error?wx.showToast({title:a.error_msg||"加载失败，请稍后重试",icon:"none"}):a.service_list&&a.service_list.length&&(a.service_list.forEach((function(e){"video_inquiry_saas"===e.service_type&&(e.h5_url=encodeURIComponent(e.h5_url))})),i={service_list:a.service_list},t.setData(i))},complete:function(){e.setData({isLoading:!1})}})},goldInviteRecord:function(){var e=wx.getStorageSync("source_from")||"",t=wx.getStorageSync("app_inviter_id")||"";if(c("AppClick",{page_readable_name:"登录授权按钮",click_position:"我的咨询登录按钮",platform_source:n.globalData.partner,source_type:"user_home"==e?"app":"",first_login:n.globalData.isFirstAuthorized?"0":"1",from_type:"user_home"==e?"邀请好友":"",inviter_user_id:t}),n.globalData.isFirstAuthorized&&"user_home"==e&&t){var a={inviter_id:t};wx.request({url:d,header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:n.globalData.sessionid},method:"POST",data:s(a),success:function(e){0==e.data.error_code?(wx.removeStorageSync("app_inviter_id"),wx.removeStorageSync("source_from"),console.log("金币任务邀请好友成功")):console.log("金币任务邀请好友失败：",e.data.error_msg)},fail:function(e){console.log("金币任务邀请好友失败：",e.data.error_msg)}})}},pointLogin:function(){this.setData({isAuthBtnClick:!0}),c("AppClick",{page_readable_name:"登录授权按钮",click_position:"我的咨询登录按钮"})},hideTopTip:function(){this.setData({tipShow:!1})},jumpToH5:function(e){var t=r+e.currentTarget.dataset.url;t=encodeURIComponent(t),wx.navigateTo({url:"/pages/h5_webview/index?url="+t})},goAppointmentDetail:function(e){var t=e.currentTarget.dataset.id;wx.navigateTo({url:"/pages/appointment_doctor_detail/index?id="+t})},onTabItemTap:function(e){var t=wx.getStorageSync("hide_tabbar_card");null!=t&&t.hide||wx.setStorageSync("hide_tabbar_card",{hide:!0}),n.globalData.hide_tabbar_card=!0},deleteRecord:function(e){var i=this,o=e.currentTarget.dataset.serviceData,n={mall_shop_order:{title:"删除该订单记录？",content:"删除后将无法找到该订单，是否确认删除"},medicine_sale:{title:"删除该服务记录？",content:"删除后历史消息记录将无法恢复，若有新消息仍可继续接收"},inquiry:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},fast_phone:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},expert_call:{title:"删除该服务记录？",content:"删除后将无法恢复，同时无法接收医生回复"},default:{title:"删除该服务记录？",content:"删除后将无法恢复"}};o.can_delete&&wx.showModal(t(t({},n[o.service_type]||n.default),{},{confirmText:"删除",success:function(t){t.confirm&&(0,a.default)({url:_,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:{service_type:o.service_type,service_id:o.service_id,list_type:"down",from_wx_mini:1},success:function(t){if(console.log(t),t.data.success){wx.showToast({title:"删除成功"}),console.log();var a=e.currentTarget.dataset.listIndex;i.data.service_list.splice(a,1),i.setData({service_list:i.data.service_list})}else wx.showModal({title:"该订单暂不可删除",content:t.data.error_msg||"该订单暂不可删除",showCancel:!1,confirmText:"我知道了"})},fail:function(){wx.showToast({title:"网络异常"})}})}}))},toQiYuPage:function(){wx.navigateTo({url:"/pages/contact_page/contact_page"})},toMallOrder:function(e){var t=e.currentTarget.dataset.serviceData;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(r+t.h5_url))})},toInvoicePage:function(e){var t=e.currentTarget.dataset.serviceData.h5_url;wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(r+t))})},aiChatConsult:function(e){(0,a.default)({url:m,data:{source:"service_list",source_id:e.mark.problem_id,partner:"chunyu_wap_mini"},success:function(t){0===t.data.error_code?(n.sensors.track("AppClick",{app:"weixin_mini",page_readable_name:"我的咨询",problem_id_str:e.mark.problem_id,first_department:e.mark.clinic,second_department:e.mark.secondClinic,click_position:"再次咨询"}),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(t.data.data.url))})):wx.showToast({title:t.data.error_msg,icon:"none"})}}),console.log(e.mark)},toAiService:function(e){console.log(e),wx.navigateTo({url:"/pages/h5_webview/index?url=".concat(encodeURIComponent(e.mark["target-url"]))})}});
},{isPage:true,isComponent:true,currentFile:'pages/all_service/index.js'});require("pages/all_service/index.js");