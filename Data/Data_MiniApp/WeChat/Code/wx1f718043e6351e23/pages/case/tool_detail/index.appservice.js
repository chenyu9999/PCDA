$gwx_XC_92=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_92 || [];
function gz$gwx_XC_92_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_92_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'pageTitle']])
Z([a,[3,'c-page '],[[2,'?:'],[[7],[3,'isShowTopMsg']],[1,'top-msg-page'],[1,'']]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'info']],[[2,'=='],[[6],[[7],[3,'info']],[3,'type_id']],[1,1003]]],[[2,'=='],[[6],[[7],[3,'info']],[3,'source_id']],[1,0]]],[[2,'||'],[[6],[[7],[3,'info']],[3,'live_url']],[[6],[[7],[3,'info']],[3,'tencent_vid']]]])
Z([3,'live-container'])
Z([3,'live-banner-box article-banner'])
Z([[2,'=='],[[6],[[7],[3,'info']],[3,'liveStatus']],[1,1]])
Z([[6],[[7],[3,'info']],[3,'banner']])
Z([[2,'=='],[[6],[[7],[3,'info']],[3,'liveStatus']],[1,2]])
Z([3,'tarLivePlay'])
Z([[6],[[7],[3,'info']],[3,'live_url']])
Z([[2,'=='],[[6],[[7],[3,'info']],[3,'liveStatus']],[1,3]])
Z([3,'tarVideoPlay'])
Z(z[6])
Z([[6],[[7],[3,'info']],[3,'tencent_vid']])
Z([[2,'!'],[[6],[[7],[3,'info']],[3,'tencent_vid']]])
Z([3,'live-scroll-inner'])
Z([1,true])
Z([a,[3,'height:calc(100vh - '],[[7],[3,'topHeight']],[3,'px  - 418rpx);']])
Z([[2,'&&'],[[7],[3,'agenda']],[[6],[[7],[3,'agenda']],[3,'length']]])
Z([[7],[3,'agenda']])
Z([[6],[[7],[3,'info']],[3,'industry_banner']])
Z([a,[[2,'?:'],[[2,'=='],[[6],[[7],[3,'info']],[3,'ib_status']],[1,1]],[[6],[[7],[3,'info']],[3,'industry_id']],[1,'']],[3,'}']])
Z([[7],[3,'rec']])
Z([[2,'||'],[[6],[[7],[3,'info']],[3,'rec_title']],[1,'更多推荐']])
Z([[2,'&&'],[[6],[[7],[3,'info']],[3,'download_form']],[[2,'>'],[[6],[[7],[3,'info']],[3,'file_id']],[1,0]]])
Z([[6],[[7],[3,'consultDetail']],[3,'CampaignID']])
Z([[7],[3,'consultDetail']])
Z([[6],[[7],[3,'consultDetail']],[3,'tplId']])
Z([[6],[[7],[3,'consultDetail']],[3,'icon']])
Z([[6],[[7],[3,'consultDetail']],[3,'title']])
Z([[6],[[7],[3,'consultDetail']],[3,'enable_status']])
Z([[6],[[7],[3,'consultDetail']],[3,'consultType']])
Z([[6],[[7],[3,'consultDetail']],[3,'wechatQrCode']])
Z([[6],[[7],[3,'consultDetail']],[3,'wechatTitle']])
Z([1,110])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'info']],[[2,'!='],[[6],[[7],[3,'info']],[3,'type_id']],[1,1001]]],[[2,'=='],[[6],[[7],[3,'info']],[3,'source_id']],[1,0]]])
Z([3,'page-inner container'])
Z([3,'case-info'])
Z([[6],[[7],[3,'info']],[3,'logo']])
Z([[6],[[7],[3,'tags']],[3,'length']])
Z([3,'tag'])
Z([[7],[3,'tags']])
Z([3,'index'])
Z([[2,'<'],[[2,'+'],[[7],[3,'index']],[1,1]],[[6],[[7],[3,'tags']],[3,'length']]])
Z([[6],[[7],[3,'item']],[3,'length']])
Z([[6],[[7],[3,'info']],[3,'detail']])
Z(z[45])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'info']],[3,'link_type']],[1,1]],[[6],[[7],[3,'info']],[3,'link_text']]])
Z(z[20])
Z([a,z[21][1],z[21][2]])
Z(z[22])
Z(z[23])
Z(z[24])
Z(z[25])
Z(z[26])
Z(z[27])
Z(z[28])
Z(z[29])
Z(z[30])
Z(z[31])
Z(z[32])
Z(z[33])
Z(z[34])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'info']],[[2,'=='],[[6],[[7],[3,'info']],[3,'type_id']],[1,1001]]],[[2,'=='],[[6],[[7],[3,'info']],[3,'source_id']],[1,0]]])
Z(z[3])
Z(z[4])
Z(z[5])
Z(z[6])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[10])
Z(z[11])
Z(z[6])
Z(z[13])
Z(z[14])
Z(z[15])
Z(z[16])
Z([a,z[17][1],z[17][2],z[17][3]])
Z(z[18])
Z(z[19])
Z(z[20])
Z([a,z[21][1],z[21][2]])
Z(z[22])
Z(z[23])
Z(z[24])
Z(z[25])
Z(z[26])
Z(z[27])
Z(z[28])
Z(z[29])
Z(z[30])
Z(z[31])
Z(z[32])
Z(z[33])
Z(z[34])
Z([[2,'&&'],[[7],[3,'info']],[[2,'>'],[[6],[[7],[3,'info']],[3,'source_id']],[1,0]]])
Z([3,'mp-view'])
Z([3,'onMpReady'])
Z([3,'handleTrack'])
Z([3,'handleTap'])
Z([[7],[3,'loading']])
Z([[6],[[7],[3,'info']],[3,'contentH5']])
Z([3,'mpHtml'])
Z([[7],[3,'dataInfo']])
Z(z[25])
Z(z[26])
Z(z[27])
Z(z[28])
Z(z[29])
Z(z[30])
Z(z[31])
Z(z[32])
Z(z[33])
Z([[2,'!'],[[7],[3,'info']]])
Z([[7],[3,'loadError']])
Z([[6],[[7],[3,'info']],[3,'id']])
Z([3,'shareMemberPick'])
Z([3,'hideSharePanel'])
Z([3,'shareInfoUpdate'])
Z([3,'showTopMsgHandler'])
Z([3,'switchSharePick'])
Z([[7],[3,'info']])
Z([[7],[3,'shareActiveInfo']])
Z([[7],[3,'shareCardId']])
Z([[7],[3,'showPanel']])
Z([[7],[3,'isShowOtherField']])
Z([3,'closeFormDialog'])
Z([3,'downloadUpdateInfoCallBack'])
Z([[7],[3,'otherFieldList']])
Z([[7],[3,'otherFieldInfo']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_92_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_92_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_92=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_92=true;
var x=['./pages/case/tool_detail/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_92_1()
var o68=_n('header')
_rz(z,o68,'title',0,e,s,gg)
_(r,o68)
var x78=_n('view')
_rz(z,x78,'class',1,e,s,gg)
var o88=_v()
_(x78,o88)
if(_oz(z,2,e,s,gg)){o88.wxVkey=1
var oD9=_n('view')
_rz(z,oD9,'class',3,e,s,gg)
var aF9=_n('view')
_rz(z,aF9,'class',4,e,s,gg)
var tG9=_v()
_(aF9,tG9)
if(_oz(z,5,e,s,gg)){tG9.wxVkey=1
var eH9=_n('video-box')
_rz(z,eH9,'poster',6,e,s,gg)
_(tG9,eH9)
}
else if(_oz(z,7,e,s,gg)){tG9.wxVkey=2
var bI9=_mz(z,'live-box',['bindliveplay',8,'video_url',1],[],e,s,gg)
_(tG9,bI9)
}
else{tG9.wxVkey=3
var xK9=_mz(z,'video-box',['bindvideoplay',11,'poster',1,'vid',2],[],e,s,gg)
_(tG9,xK9)
var oJ9=_v()
_(tG9,oJ9)
if(_oz(z,14,e,s,gg)){oJ9.wxVkey=1
}
oJ9.wxXCkey=1
}
tG9.wxXCkey=1
tG9.wxXCkey=3
tG9.wxXCkey=3
tG9.wxXCkey=3
_(oD9,aF9)
var oL9=_mz(z,'scroll-view',['class',15,'scrollY',1,'style',2],[],e,s,gg)
var fM9=_v()
_(oL9,fM9)
if(_oz(z,18,e,s,gg)){fM9.wxVkey=1
var cN9=_n('agenda-list')
_rz(z,cN9,'agenda',19,e,s,gg)
_(fM9,cN9)
}
var hO9=_mz(z,'rec-box',['industryBanner',20,'industryId',1,'recList',2,'title',3],[],e,s,gg)
_(oL9,hO9)
fM9.wxXCkey=1
fM9.wxXCkey=3
_(oD9,oL9)
var lE9=_v()
_(oD9,lE9)
if(_oz(z,24,e,s,gg)){lE9.wxVkey=1
}
var oP9=_mz(z,'consult-btn',['CampaignID',25,'consultDetail',1,'formId',2,'icon',3,'label',4,'showConsult',5,'type',6,'wechatQrCode',7,'wechatTitle',8],[],e,s,gg)
_(oD9,oP9)
var cQ9=_n('home-tips')
_rz(z,cQ9,'bottom',34,e,s,gg)
_(oD9,cQ9)
lE9.wxXCkey=1
_(o88,oD9)
}
var f98=_v()
_(x78,f98)
if(_oz(z,35,e,s,gg)){f98.wxVkey=1
var oR9=_n('view')
_rz(z,oR9,'class',36,e,s,gg)
var bW9=_n('view')
_rz(z,bW9,'class',37,e,s,gg)
var oX9=_v()
_(bW9,oX9)
if(_oz(z,38,e,s,gg)){oX9.wxVkey=1
}
var xY9=_v()
_(bW9,xY9)
if(_oz(z,39,e,s,gg)){xY9.wxVkey=1
var oZ9=_v()
_(xY9,oZ9)
var f19=function(h39,c29,o49,gg){
var o69=_v()
_(o49,o69)
if(_oz(z,43,h39,c29,gg)){o69.wxVkey=1
}
o69.wxXCkey=1
return o49
}
oZ9.wxXCkey=2
_2z(z,41,f19,e,s,gg,oZ9,'tag','index','index')
}
oX9.wxXCkey=1
xY9.wxXCkey=1
_(oR9,bW9)
var lS9=_v()
_(oR9,lS9)
if(_oz(z,44,e,s,gg)){lS9.wxVkey=1
}
var aT9=_v()
_(oR9,aT9)
if(_oz(z,45,e,s,gg)){aT9.wxVkey=1
var l79=_n('rich-view')
_rz(z,l79,'content',46,e,s,gg)
_(aT9,l79)
}
var tU9=_v()
_(oR9,tU9)
if(_oz(z,47,e,s,gg)){tU9.wxVkey=1
}
var a89=_mz(z,'rec-box',['industryBanner',48,'industryId',1,'recList',2,'title',3],[],e,s,gg)
_(oR9,a89)
var eV9=_v()
_(oR9,eV9)
if(_oz(z,52,e,s,gg)){eV9.wxVkey=1
}
var t99=_mz(z,'consult-btn',['CampaignID',53,'consultDetail',1,'formId',2,'icon',3,'label',4,'showConsult',5,'type',6,'wechatQrCode',7,'wechatTitle',8],[],e,s,gg)
_(oR9,t99)
var e09=_n('home-tips')
_rz(z,e09,'bottom',62,e,s,gg)
_(oR9,e09)
lS9.wxXCkey=1
aT9.wxXCkey=1
aT9.wxXCkey=3
tU9.wxXCkey=1
eV9.wxXCkey=1
_(f98,oR9)
}
var c08=_v()
_(x78,c08)
if(_oz(z,63,e,s,gg)){c08.wxVkey=1
var bA0=_n('view')
_rz(z,bA0,'class',64,e,s,gg)
var xC0=_n('view')
_rz(z,xC0,'class',65,e,s,gg)
var oD0=_v()
_(xC0,oD0)
if(_oz(z,66,e,s,gg)){oD0.wxVkey=1
var fE0=_n('video-box')
_rz(z,fE0,'poster',67,e,s,gg)
_(oD0,fE0)
}
else if(_oz(z,68,e,s,gg)){oD0.wxVkey=2
var cF0=_mz(z,'live-box',['bindliveplay',69,'video_url',1],[],e,s,gg)
_(oD0,cF0)
}
else{oD0.wxVkey=3
var oH0=_mz(z,'video-box',['bindvideoplay',72,'poster',1,'vid',2],[],e,s,gg)
_(oD0,oH0)
var hG0=_v()
_(oD0,hG0)
if(_oz(z,75,e,s,gg)){hG0.wxVkey=1
}
hG0.wxXCkey=1
}
oD0.wxXCkey=1
oD0.wxXCkey=3
oD0.wxXCkey=3
oD0.wxXCkey=3
_(bA0,xC0)
var cI0=_mz(z,'scroll-view',['class',76,'scrollY',1,'style',2],[],e,s,gg)
var oJ0=_v()
_(cI0,oJ0)
if(_oz(z,79,e,s,gg)){oJ0.wxVkey=1
var lK0=_n('agenda-list')
_rz(z,lK0,'agenda',80,e,s,gg)
_(oJ0,lK0)
}
var aL0=_mz(z,'rec-box',['industryBanner',81,'industryId',1,'recList',2,'title',3],[],e,s,gg)
_(cI0,aL0)
oJ0.wxXCkey=1
oJ0.wxXCkey=3
_(bA0,cI0)
var oB0=_v()
_(bA0,oB0)
if(_oz(z,85,e,s,gg)){oB0.wxVkey=1
}
var tM0=_mz(z,'consult-btn',['CampaignID',86,'consultDetail',1,'formId',2,'icon',3,'label',4,'showConsult',5,'type',6,'wechatQrCode',7,'wechatTitle',8],[],e,s,gg)
_(bA0,tM0)
var eN0=_n('home-tips')
_rz(z,eN0,'bottom',95,e,s,gg)
_(bA0,eN0)
oB0.wxXCkey=1
_(c08,bA0)
}
var hA9=_v()
_(x78,hA9)
if(_oz(z,96,e,s,gg)){hA9.wxVkey=1
var bO0=_n('view')
_rz(z,bO0,'class',97,e,s,gg)
var oP0=_mz(z,'mp-weixin',['lazyLoad',-1,'bind:load',98,'bind:track',1,'bindtapEvent',2,'containerStyle',3,'content',4,'id',5,'info',6],[],e,s,gg)
_(bO0,oP0)
var xQ0=_mz(z,'consult-btn',['CampaignID',105,'consultDetail',1,'formId',2,'icon',3,'label',4,'showConsult',5,'type',6,'wechatQrCode',7,'wechatTitle',8],[],e,s,gg)
_(bO0,xQ0)
_(hA9,bO0)
}
var oB9=_v()
_(x78,oB9)
if(_oz(z,114,e,s,gg)){oB9.wxVkey=1
var oR0=_n('loading')
_(oB9,oR0)
}
var cC9=_v()
_(x78,cC9)
if(_oz(z,115,e,s,gg)){cC9.wxVkey=1
}
o88.wxXCkey=1
o88.wxXCkey=3
f98.wxXCkey=1
f98.wxXCkey=3
c08.wxXCkey=1
c08.wxXCkey=3
hA9.wxXCkey=1
hA9.wxXCkey=3
oB9.wxXCkey=1
oB9.wxXCkey=3
cC9.wxXCkey=1
_(r,x78)
var e48=_v()
_(r,e48)
if(_oz(z,116,e,s,gg)){e48.wxVkey=1
var fS0=_mz(z,'share-pannel',['bind:shareMemberPick',117,'bindhideSharePanel',1,'bindshareInfo',2,'bindshowTopMsg',3,'bindswitchSharePick',4,'info',5,'shareActiveInfo',6,'shareCardId',7,'showPanel',8],[],e,s,gg)
_(e48,fS0)
}
var b58=_v()
_(r,b58)
if(_oz(z,126,e,s,gg)){b58.wxVkey=1
var cT0=_mz(z,'other-form',['bind:closeFormDialog',127,'bind:submitSuccess',1,'formList',2,'info',3],[],e,s,gg)
_(b58,cT0)
}
e48.wxXCkey=1
e48.wxXCkey=3
b58.wxXCkey=1
b58.wxXCkey=3
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_92";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_92();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/case/tool_detail/index.wxml'] = [$gwx_XC_92, './pages/case/tool_detail/index.wxml'];else __wxAppCode__['pages/case/tool_detail/index.wxml'] = $gwx_XC_92( './pages/case/tool_detail/index.wxml' );
	;__wxRoute = "pages/case/tool_detail/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/case/tool_detail/index.js";define("pages/case/tool_detail/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../../@babel/runtime/helpers/interopRequireDefault").default,a=require("../../../@babel/runtime/helpers/regeneratorRuntime"),e=require("../../../@babel/runtime/helpers/asyncToGenerator"),n=require("../../../@babel/runtime/helpers/defineProperty"),o=require("../../../@babel/runtime/helpers/typeof"),i=t(require("../../../utils/tool")),s=require("../../../utils/phoneLogin.js"),d=getApp();Page({data:{pageTitle:"",getDownList:{},pageId:"",posterTitle:"",loadError:!1,loadOver:!1,contentID:"",consultDetail:{},vsTime:void 0,vpTime:void 0,veTime:void 0,vEnd:!1,shareCardId:"",shareCardInfo:{},isShareCard:!0,isShareMyInfo:!0,otherFieldList:[],isShowOtherField:!1,otherFieldInfo:{},useUin:wx.getStorageSync("useUin"),actionType:"",handleTapType:"",paramObj:{},subscribeId:0,dataInfo:{},submitRes:{},isAccount:!1,loading:"display:none",isCheckFormSubmitLoading:!1},onLoad:function(t){var a=this;if(t.isAccount&&this.setData({isAccount:t.isAccount}),t.id){this.data.contentID=t.id;var e=t.employeePosition,n=t.wechatId,o=t.wechatworkId,i=t.employeePhone;d.QD.setSalesShareCardParams(t),this.setData({pageId:t.id,shareCardId:t.shareCardId,shareActiveInfo:{employeePosition:e,wechatId:n,wechatworkId:o,employeePhone:i}}),d.loginCallback().then((function(e){a.getData(t.id)}))}else if(t.scene){var s=decodeURIComponent(t.scene);d.loginCallback().then((function(){var e="tool";t.refer&&(e=t.refer),d.API.uuidToParams(s,e).then((function(t){if(console.log("uuidToParams res",t),0==t.code&&t.content.params){a.data.contentID=t.content.paramsObj.id;var e=t.content.paramsObj,n=e.employeePosition,o=e.wechatId,i=e.wechatworkId,s=e.employeePhone;d.QD.setSalesShareCardParams(t.content.paramsObj),a.setData({pageId:t.content.paramsObj.id,shareCardId:t.content.paramsObj.shareCardId,shareActiveInfo:{employeePosition:n,wechatId:o,wechatworkId:i,employeePhone:s}}),t.content.paramsObj.shareId&&(a.data.shareId=t.content.paramsObj.shareId),a.getData(t.content.paramsObj.id)}})).catch((function(t){console.log("uuidToParams err",t)}))}))}else this.setData({loadError:!0})},onReady:function(){},onShow:function(){if(this.setData({isCheckFormSubmitLoading:!1}),this.data.loadOver){var t={ContentID:this.data.info.source_id>0?this.data.contentID.toString():"tool".concat(this.data.contentID),menu:d.globalData.currentTab,name_of_page:this.data.info.title,CampaignID:this.data.info.CampaignID||"",NameOfCampaign:this.data.info.NameOfCampaign||"",content_type:this.data.info.type_id};this.data.shareId&&(t.mp_shareID=this.data.shareId),d.QD.track("contentView",t),this.data.isAccount&&d.QD.track("official_account_template_message_clickthroughs",{ContentTheme:this.data.info.title,ChannelType:d.QD.getChannelType()}),this.data.actionType&&(this[this.data.actionType](),this.setData({actionType:""}))}},onHide:function(){},onUnload:function(){this.data.vsTime&&(this.data.vEnd?d.QD.track("WatchingVideo",{ContentID:d.QD.getLastContentId(),TimeOfWatch:(new Date-this.data.vsTime)/1e3,is_finished:!0,menu:d.globalData.currentTab,name_of_page:this.data.info.title,CampaignID:this.data.info.CampaignID||"",NameOfCampaign:this.data.info.NameOfCampaign||""}):d.QD.track("WatchingVideo",{ContentID:d.QD.getLastContentId(),TimeOfWatch:(new Date-this.data.vsTime)/1e3,is_finished:!1,menu:d.globalData.currentTab,name_of_page:this.data.info.title,CampaignID:this.data.info.CampaignID||"",NameOfCampaign:this.data.info.NameOfCampaign||""}))},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return d.QD.action("shareContent",{ContentID:this.data.info.source_id>0?this.data.contentID.toString():"tool".concat(this.data.contentID),menu:d.globalData.currentTab,name_of_page:this.data.info.title,CampaignID:this.data.info.CampaignID||"",NameOfCampaign:this.data.info.NameOfCampaign||"",content_type:this.data.info.type_id}),d.tool.onShareAppMessage({path:"/pages/case/tool_detail/index",title:this.data.info.title,imageUrl:this.data.info.share_img,shareCardInfo:this.shareCardInfo,id:this.data.info.id,isShareCard:this.isShareCard,isShareMyInfo:this.data.isShareMyInfo})},catchtouchmove:function(){},getData:function(t){var a=this,e=d.globalData.userInfo;this.setData({userInfo:e}),d.API.getToolDetail({id:t}).then((function(t){if(console.log("mark",o(t.content)),0==t.code&&"object"==o(t.content)&&0==Object.keys(t.content).length)a.setData({loadError:!0});else if(0==t.code){var e=!1;a.consultDetail("content",t.content.info.data_id);var n=t.content.info.source_id?t.content.info.source_id:a.data.pageId;a.data.contentID=n;var i=!1;1003==t.content.info.type_id&&(i=!0),t.content.info.tencent_vid&&t.content.info.tencent_vid.length>0&&1001!=t.content.info.type_id&&(t.content.info.type_id=1001,e=!0,i&&(t.content.info.type_id=1003)),a.setData(t.content);var s={ContentID:a.data.info.source_id>0?n.toString():"tool".concat(n),menu:d.globalData.currentTab,name_of_page:t.content.info.title,CampaignID:a.data.info.CampaignID||"",NameOfCampaign:a.data.info.NameOfCampaign||"",content_type:a.data.info.type_id};a.data.shareId&&(s.mp_shareID=a.data.shareId),d.QD.track("contentView",s),a.data.isAccount&&d.QD.track("official_account_template_message_clickthroughs",{ContentTheme:a.data.info.title,ChannelType:d.QD.getChannelType()});var r=t.content.info;a.setData({dataInfo:{isReserve:0,isApply:2===r.form_is_submit?1:0,isCollection:r.collectStatus,isPraise:r.likeStatus}}),a.data.loadOver=!0,1001==t.content.info.type_id?(console.log("视频详情"),e?a.setData({pageTitle:"伙伴学院"}):a.setData({pageTitle:"视频详情"})):(console.log("干货详情"),a.setData({pageTitle:"干货详情"})),a.setData({subscribeId:t.content.info.Subgroupname||0})}})),d.API.clickRecord({id:t,contentType:"tool"}).then((function(t){0==t.code&&console.log("浏览+1")}))},consultDetail:function(t,a){var e=this;d.API.consultDetail(t,a).then((function(t){0==t.code&&e.setData({consultDetail:t.content})}))},bindCollect:function(){var t=this;d.QD.track("official_button_click",{button_name:"收藏",button_position:"移动端底部",ContentTheme:this.data.info.title,ChannelType:d.QD.getChannelType()}),d.sp.subscribePick(this.data.subscribeId,"collection");var a=this;(0,s.goLogin)("bindCollect").then((function(e){e&&(1==a.data.info.collectStatus?wx.showModal({title:"温馨提示",content:"确认要取消该内容的收藏？",success:function(t){t.confirm?d.API.addCollect({id:a.data.pageId,tag:2}).then((function(t){0==t.code?(wx.showToast({title:"取消收藏成功",icon:"none"}),a.setData({"info.collectStatus":0}),a.onMpReady()):wx.showToast({title:"操作失败请重试",icon:"none"})})):t.cancel}}):d.API.addCollect({id:a.data.pageId,tag:2}).then((function(e){0==e.code?(d.QD.action("contentCollect",{ContentID:t.data.info.source_id>0?t.data.contentID.toString():"tool".concat(t.data.contentID),menu:d.globalData.currentTab,name_of_page:t.data.info.title}),wx.showToast({title:"收藏成功，可至“我的收藏”中查看",icon:"none"}),a.setData({"info.collectStatus":1}),a.onMpReady()):wx.showToast({title:"操作失败请重试",icon:"none"})})))}))},bindLike:function(){var t=this;d.QD.track("official_button_click",{button_name:"点赞",button_position:"移动端底部",ContentTheme:this.data.info.title,ChannelType:d.QD.getChannelType()}),d.sp.subscribePick(this.data.subscribeId,"praise"),(0,s.goLogin)("bindLike").then((function(a){if(a){var e=t;1==e.data.info.likeStatus?wx.showModal({title:"温馨提示",content:"确认要取消该内容的点赞？",success:function(t){t.confirm?d.API.likeRecord({id:e.data.pageId,contentType:"tool"}).then((function(t){0==t.code?(wx.showToast({title:"取消点赞成功",icon:"none"}),e.setData({"info.likeStatus":0}),e.onMpReady()):wx.showToast({title:"操作失败请重试",icon:"none"})})):t.cancel}}):d.API.likeRecord({id:t.data.pageId,contentType:"tool"}).then((function(a){0==a.code?(d.QD.action("contentLike",{ContentID:t.data.info.source_id>0?t.data.contentID.toString():"tool".concat(t.data.contentID),menu:d.globalData.currentTab,name_of_page:t.data.info.title}),wx.showToast({title:"点赞成功",icon:"none"}),e.setData({"info.likeStatus":1}),e.onMpReady()):wx.showToast({title:"操作失败请重试",icon:"none"})}))}}))},showSharePanel:function(){var t=this;d.QD.track("official_button_click",{button_name:"分享",button_position:"移动端底部",ContentTheme:this.data.info.title,ChannelType:d.QD.getChannelType()}),d.sp.subscribePick(this.data.subscribeId,"share"),(0,s.goLogin)("showSharePanel").then((function(a){a&&t.setData({showPanel:!0})}))},hideSharePanel:function(){this.setData({showPanel:!1})},shareFriend:function(){},getSharePoster:function(){var t=this.data,a=t.pageId,e=t.info,n=e.banner,o=e.title,i=e.data_id;return d.jumpSharePoster({pageId:a,cover_img:n,title:o,data_id:i})},getUserInfo:function(t){var a=this;wx.getUserProfile({desc:"用于完善用户信息",success:function(t){var e;console.log("获取用户信息 wx.getUserProfile",t);var o=t.userInfo;t.iv,t.encryptedData;wx.setStorageSync("userInfoNickname",o.nickName),wx.setStorageSync("userInfoAvatarUrl",o.avatarUrl),a.setData((n(e={},"userInfo.avatar",o.avatarUrl),n(e,"userInfo.nickname",o.nickName),e)),a.data.drawerPoster||a.getSharePoster()}})},handleDownload:function(){var t=this;return e(a().mark((function e(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.goLogin)("handleDownload").then((function(a){if(a){var e=t.data.info.download_form,n=t.data.info.file_id;t.downLink="/pages/download/index?id=".concat(n),t.downloadCommonhandler(e,"download","",(function(){t._goForm(e,"download",encodeURIComponent(t.downLink))}))}}));case 2:case"end":return a.stop()}}),e)})))()},_goForm:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";wx.navigateTo({url:"/pages/form/index/index?op_type=".concat(a,"&f_id=").concat(this.data.file_id,"&data_id=").concat(this.data.info.id,"&data_type=2&tplId=").concat(t,"&type=download&r_url=").concat(e)})},handleTrack:function(t){var a=this;console.log("handleTrack",t),"videoPlay"==t.detail.type?(this.setData({vsTime:new Date,vEnd:!1}),d.QD.track("start_play_video",{ContentID:d.QD.getLastContentId(),menu:d.globalData.currentTab,name_of_page:this.data.info.title})):"videoPause"==t.detail.type?(this.setData({vpTime:new Date}),setTimeout((function(){a.data.vEnd?d.QD.track("WatchingVideo",{ContentID:d.QD.getLastContentId(),TimeOfWatch:(a.data.vpTime-a.data.vsTime)/1e3,is_finished:!0,menu:d.globalData.currentTab,name_of_page:a.data.info.title}):d.QD.track("WatchingVideo",{ContentID:d.QD.getLastContentId(),TimeOfWatch:(a.data.vpTime-a.data.vsTime)/1e3,is_finished:!1,menu:d.globalData.currentTab,name_of_page:a.data.info.title})}),1e3)):"videoEnded"==t.detail.type&&this.setData({veTime:new Date,vEnd:!0})},handleTap:function(t){var n=this;return e(a().mark((function e(){var o;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=n,console.log("handleTap",t),o.data.paramObj.type?!t&&o.data.paramObj.type&&(t=o.data.paramObj,o.data.paramObj={}):o.setData({paramObj:t}),(0,s.goLogin)("handleTap",t.detail.dataset.type).then((function(a){if(a){var e=t.detail.dataset,s=e.type,d=e.param;o.data.handleTapType&&(s=o.data.handleTapType,o.data.handleTapType="");var r=null;try{r=JSON.parse(d)}catch(t){console.log("handleTap json parse error",t)}if(!r)return;switch(s){default:break;case"share":n.showSharePanel();break;case"consultation":r.consultCode&&wx.navigateTo({url:"/pages/form/index/index?tplId=".concat(r.consultCode,"&type=consult")});break;case"download":case"apply":case"enroll":var c=n.data.info.download_form;if(5==r.bottomStyle||16==r.bottomStyle?r.enrollCode&&(c=r.enrollCode):r.downloadCode&&(c=r.downloadCode),!c)return void console.log("no downloadCode");n.downLink="/pages/download/index?id=0&name=".concat(r.downloadLinkName,"&url=").concat(r.downloadLink,"&source_id=").concat(n.data.info.source_id),n.downloadCommonhandler(c,s,r,(function(){n._goForm(c,s,encodeURIComponent(n.downLink))}));break;case"recommend":var l=i.default.getDetailUrl(r.templateTypesId,r.dataId);l&&wx.navigateTo({url:"/"+l});break;case"collection":n.bindCollect();break;case"praise":n.bindLike()}}else;}));case 4:case"end":return a.stop()}}),e)})))()},downloadCommonhandler:function(t,n,o,i){var s=this;return e(a().mark((function e(){var n,r;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.data.isCheckFormSubmitLoading){a.next=4;break}return a.abrupt("return");case 4:s.setData({isCheckFormSubmitLoading:!0});case 5:return d.sp.subscribePick(s.data.subscribeId,"download"),a.next=8,d.API.checkFormSubmitDownload(2,s.data.pageId,3,t,wx.getStorageSync("qdVisitId"));case 8:if(n=a.sent,console.log("page case detail handleDownload submitRes",n),d.QD.track("official_button_click",{button_name:"资料下载",button_position:"移动端底部",ContentTheme:s.data.info.title,ChannelType:d.QD.getChannelType()}),0!=n.code||1!=n.content){a.next=25;break}if(!(o&&5==o.bottomStyle||16==o.bottomStyle)){a.next=16;break}wx.showToast({title:"您已完成表单的提交",icon:"none"}),a.next=23;break;case 16:if(wx.setStorageSync("_download_tpl_",t),!((r=n.otherFieldList||[])&&r.length>0)){a.next=22;break}return a.abrupt("return",s.setData({otherFieldList:r,isShowOtherField:!0,otherFieldInfo:{f_id:s.data.file_id,data_id:s.data.info.id,data_type:2,tplId:t,type:"download"}}));case 22:s.downloadUpdateInfoCallBack();case 23:a.next=27;break;case 25:d.setDownloadParams({contentDonwload:{ContentID:s.data.info.source_id>0?s.data.contentID.toString():"tool".concat(s.data.contentID),menu:d.globalData.currentTab,name_of_page:s.data.info.title},record:{id:s.data.pageId,contentType:"tool"}}),i();case 27:case"end":return a.stop()}}),e)})))()},downloadUpdateInfoCallBack:function(){d.QD.action("contentDownload",{ContentID:this.data.info.source_id>0?this.data.contentID.toString():"tool".concat(this.data.contentID),menu:d.globalData.currentTab,name_of_page:this.data.info.title}),d.API.downloadRecord({id:this.data.pageId,contentType:"tool"}),this.closeFormDialog(),wx.navigateTo({url:this.downLink})},closeFormDialog:function(){console.log("🚀 ~ file: index.js ~ line 653 ~ closeFormDialog ~ isShowOtherField"),this.setData({isShowOtherField:!1})},shareInfoUpdate:function(t){this.shareCardInfo=t.detail,this.isShareCard=!0,this.setData({shareCardInfo:t.detail,isShareCard:!0})},switchSharePick:function(t){var a=t.detail,e=a.activeInfo,n=a.isShareCard;this.shareCardInfo=e,this.isShareCard=n,this.setData({shareCardInfo:e,isShareCard:n})},showTopMsgHandler:function(t){this.setData({isShowTopMsg:t.detail})},shareMemberPick:function(t){this.setData({isShareMyInfo:t.detail})},onMpReady:function(){console.log("onMpReady",this.data.info);var t=this.data.info,a=t.collectStatus,e=t.likeStatus,n=t.bottomStyle,o=t.status,i=this.data.dataInfo.isApply;debugger;null!=a&&this.selectComponent("#mpHtml").updateBottomBtn(n||6,o||1,0,i||0,a||0,e||0);this.setData({loading:""})},getPhoneNumber:function(t){var a=this;(0,s.phoneLogin)(t,(function(e){a.setData({useUin:e}),a[t.target.id]&&a[t.target.id]()}))}});
},{isPage:true,isComponent:true,currentFile:'pages/case/tool_detail/index.js'});require("pages/case/tool_detail/index.js");