$gwx_XC_26=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_26 || [];
function gz$gwx_XC_26_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_26_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'>'],[[6],[[7],[3,'currentImg']],[3,'length']],[1,0]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_26_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_26_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_26=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_26=true;
var x=['./pages/navigator/pintu/pintu/pintu.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_26_1()
var b9B=_v()
_(r,b9B)
if(_oz(z,0,e,s,gg)){b9B.wxVkey=1
}
b9B.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_26";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_26();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/navigator/pintu/pintu/pintu.wxml'] = [$gwx_XC_26, './pages/navigator/pintu/pintu/pintu.wxml'];else __wxAppCode__['pages/navigator/pintu/pintu/pintu.wxml'] = $gwx_XC_26( './pages/navigator/pintu/pintu/pintu.wxml' );
	;__wxRoute = "pages/navigator/pintu/pintu/pintu";__wxRouteBegin = true;__wxAppCurrentFile__="pages/navigator/pintu/pintu/pintu.js";define("pages/navigator/pintu/pintu/pintu.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
!function(){function t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var e=getApp(),a=wx.getSystemInfoSync().windowWidth,n=a/750*680;Page({data:{userInfo:{},hasUserInfo:!1,selectIndex:0,currentNavId:null,currentOption:null,optionList:[{},{},{},{},{},{}],optionList_bak:[{bindTap:"onTagOptionTap",border:10},{bindTap:"onTagOptionTap",border:0},{bindTap:"onTagOptionTap",border:2},{bindTap:"onTagOptionTap",border:6},{bindTap:"onTagOptionTap",border:15},{bindTap:"onTagOptionTap",border:20}],plusImage:"../../../static/photo_add.png",selectImgIndex:-1,selectIconPic:null,canvasWidth:n,sudokuLineWidth:10,images:[{def:!0},{def:!0},{def:!0},{def:!0},{def:!0},{def:!0},{def:!0},{def:!0},{def:!0}],x:0,y:0,hidden:!0,currentImg:"",currentIndex:-1,pointsArr:[],touch:!0,point2offsetX:0,point2offsetY:0,currentDef:!1},showinte:function(){let t;this.data.appConfig.ad.wxinter&&(wx.createInterstitialAd&&(t=wx.createInterstitialAd({adUnitId:this.data.appConfig.ad.wxinter}),t.onLoad(()=>{}),t.offClose(),t.offError(),t.onError(t=>{}),t.onClose(()=>{})),t&&(1==this.data.appConfig.ad.insetgp?this.inadset=setInterval(()=>{t.show().catch(t=>{console.error(t)})},1e3*this.data.appConfig.ad.wxinsettime):setTimeout(()=>{t.show().catch(t=>{console.error(t)})},1e3*this.data.appConfig.ad.wxinsettime)))},onLoad:function(t){this.setData({currentNavId:t.navId,optionList:this.data.optionList_bak});var e=this;getApp().showADlist().then((function(){var t=wx.getStorageSync("adlist");console.log(t.ad.anzhuoad),e.setData({appConfig:t}),e.showinte(),e.ad_set()}))},onShow:function(e){var a=this.data.selectImgIndex,n=this.data.selectIconPic;if(a>-1&&n){var o,i="images["+a+"].src",s="images["+a+"].def",c="images["+a+"].width",r="images["+a+"].height";this.setData((t(o={},i,this.data.selectIconPic),t(o,s,!1),t(o,c,null),t(o,r,null),o)),this.setData({selectImgIndex:-1,selectIconPic:null})}},resetLineWidth:function(){this.data.sudokuLineWidth},onOneKeyUploadTap:function(){var t=this,a=e.globalData.isImageCheck?["compressed"]:["original","compressed"];wx.chooseImage({count:9,sizeType:a,sourceType:["album"],success:function(e){t.msgimg(e.tempFilePaths,0,[],(function(e){var a=e;if(a&&a.length>0){var n=[];if(a.forEach((function(t){n.push({src:t,def:!1})})),n.length<9)for(var o=9-n.length,i=0;i<o;i++)n.push({def:!0});t.setData({images:n}),t.initImageSize(n)}}))}})},Nullfun:function(){},mediacheck(t,e,a=this.Nullfun(),n=this.Nullfun()){getApp().globalData.appurl;console.log(t),wx.uploadFile({url:getApp().globalData.appurl+"SensitiveProcessingInfo/pictureInvolvingYellowCheck",formData:{appid:wx.getAccountInfoSync().miniProgram.appId},filePath:t,name:"file",header:{"content-type":"multipart/form-data"},success(t){console.log(t);var e=JSON.parse(t.data);a(e)},fail(t){console.log(t)}})},msgimg(t,e,a,n=Nullfun){let o=this;wx.showLoading({title:"安全检测中..."}),console.log(t),o.mediacheck(t[e],"imgcheck",(function(i){console.log(i),200==i.code&&0==i.resultStatus?a.push(t[e]):wx.showModal({title:"提示",content:"违规图片无法上传，系统自动删除",success:()=>{}}),e<t.length-1?(e++,o.msgimg(t,e,a,n)):(wx.hideLoading(),n(a))}))},initImageSize:function(e){var a=this;!function n(o){if(!(o>=9)){var i=e[o];if(i){var s=o+1;i.def?n(s):wx.getImageInfo({src:i.src,success:function(e){var i;a.setData((t(i={},"images["+o+"].width",e.width),t(i,"images["+o+"].height",e.height),i)),n(s)}})}}}(0)},btnSave:function(){this.saveImage2Album(null)},saveImage2Album:function(t){var o=this;wx.showLoading({title:"正在保存"});var i=wx.createCanvasContext("imageCanvas");i.setFillStyle("#ffffff"),i.fillRect(0,0,n,n);for(var s=this.data.images,c=this.data.sudokuLineWidth*(a/750),r=(n-2*c)/3,d=[{x:0,y:0},{x:r+c,y:0},{x:2*(r+c),y:0},{x:0,y:r+c},{x:r+c,y:r+c},{x:2*(r+c),y:r+c},{x:0,y:2*(r+c)},{x:r+c,y:2*(r+c)},{x:2*(r+c),y:2*(r+c)}],l=0;l<s.length;l++){var u=s[l];if(!u.def){var p=u.width,h=u.height;if(p&&h&&p!=h){var g=0,f=0,w=p;p>h?(g=(p-h)/2,f=0,w=h):(g=0,f=(h-p)/2,w=p),i.drawImage(u.src,g,f,w,w,d[l].x,d[l].y,r,r)}else i.drawImage(u.src,d[l].x,d[l].y,r,r)}}i.draw(!1,(function(a){wx.canvasToTempFilePath({canvasId:"imageCanvas",x:0,y:0,width:n,height:n,fileType:"jpg",success:function(a){var n=a.tempFilePath,i=e.globalData.isImageCheck;null!=t&&"undefined"!=t||!i?wx.getSetting({success:function(t){if(!1===t.authSetting["scope.writePhotosAlbum"])return wx.hideLoading(),void wx.showModal({title:"授权提醒",content:"您需要授权保存图片到相册才能保存",confirmText:"去授权",confirmColor:"#f3513c",success:function(t){t.confirm&&wx.openSetting({})}});wx.saveImageToPhotosAlbum({filePath:n,success:function(){wx.hideLoading(),wx.showModal({title:"保存成功",content:"图片已保存到系统相册"})},fail:function(){wx.hideLoading()}})}}):e.imgSecurityCheck(n,o.saveImage2Album)},fail:function(){wx.hideLoading()}})}))},btnSave1:function(){var t=this;console.log("打开激励视频"),wx.showModal({title:"提示",content:t.data.appConfig.ad.wxadysz,success:function(e){e.confirm?(console.log("用户点击确定"),a&&a.show().catch((function(){a.load().then((function(){return a.show()})).catch((function(e){t.btnSave(),console.log("激励视频 显示失败")}))}))):e.cancel&&wx.showToast({title:"您放弃了保存图片",icon:"none"})}})},ad_set:function(){var t=this;wx.createRewardedVideoAd&&((a=wx.createRewardedVideoAd({adUnitId:t.data.appConfig.ad.wxreward})).onLoad((function(){console.log("激励拉取成功")})),a.onError((function(t){})),a.onClose((function(e){e&&e.isEnded||void 0===e?(console.log("发放奖励"),t.btnSave()):wx.showModal({title:"提示",content:"Sorry...您需要看完视频才能下载～",showCancel:!1,confirmText:"好的"})})))},onTagOptionTap:function(t){var e=this,a=t.currentTarget.id,n=e.data.optionList[a];n=n||e.data.optionList[0],e.setData({selectIndex:parseInt(a),sudokuLineWidth:n.border}),wx.vibrateShort()},onPlusTap:function(t){var e=this,a=t.currentTarget.id;if(e.setData({selectImgIndex:parseInt(a)}),!e.data.images[a]||e.data.images[a].def)wx.showActionSheet({itemList:["相册中选取","用手机拍照","聊天中选取"],success:function(t){0==t.tapIndex?wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(t){var e=t.tempFilePaths[0],a=encodeURIComponent(e);wx.showLoading({title:"安全检测中..."}),wx.uploadFile({url:getApp().globalData.appurl+"SensitiveProcessingInfo/pictureInvolvingYellowCheck",formData:{appid:wx.getAccountInfoSync().miniProgram.appId},filePath:e,name:"file",header:{"content-type":"multipart/form-data"},success:function(t){wx.hideLoading();const e=JSON.parse(t.data);200==e.code&&0==e.resultStatus?(wx.showToast({title:"图片检测完成",icon:"none",duration:1500}),wx.navigateTo({url:"/pages/icon/icon?pic="+a})):wx.showModal({title:"提示",content:e.data,success:()=>{}})},fail:function(t){wx.showToast({title:"上传失败",icon:"none",duration:2e3})},complete:function(t){console.log(t.errMsg)}})}}):1==t.tapIndex?wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera"],success:function(t){var e=t.tempFilePaths[0],a=encodeURIComponent(e);wx.showLoading({title:"安全检测中..."}),wx.uploadFile({url:getApp().globalData.appurl+"SensitiveProcessingInfo/pictureInvolvingYellowCheck",formData:{appid:wx.getAccountInfoSync().miniProgram.appId},filePath:e,name:"file",header:{"content-type":"multipart/form-data"},success:function(t){wx.hideLoading();const e=JSON.parse(t.data);console.log(e),200==e.code&&0==e.resultStatus?(wx.showToast({title:"图片检测完成",icon:"none",duration:1500}),wx.navigateTo({url:"/pages/icon/icon?pic="+a})):wx.showModal({title:"提示",content:e.data,success:()=>{}})},fail:function(t){wx.showToast({title:"上传失败",icon:"none",duration:2e3})},complete:function(t){console.log(t.errMsg)}})}}):wx.chooseMessageFile({count:1,type:"image",success:function(t){var e=t.tempFiles[0],a=encodeURIComponent(e.path);wx.showLoading({title:"安全检测中..."}),wx.uploadFile({url:getApp().globalData.appurl+"SensitiveProcessingInfo/pictureInvolvingYellowCheck",formData:{appid:wx.getAccountInfoSync().miniProgram.appId},filePath:e.path,name:"file",header:{"content-type":"multipart/form-data"},success:function(t){wx.hideLoading();const e=JSON.parse(t.data);200==t.data.code&&0==t.data.resultStatus?(wx.showToast({title:"图片检测完成",icon:"none",duration:1500}),wx.navigateTo({url:"/pages/icon/icon?pic="+a})):wx.showModal({title:"提示",content:e.data,success:()=>{}})},fail:function(t){wx.showToast({title:"上传失败",icon:"none",duration:2e3})},complete:function(t){console.log(t.errMsg)}})}})}});else{var n=e.data.images[a].src,o=encodeURIComponent(n);wx.navigateTo({url:"/pages/icon/icon?pic="+o})}},onSwitchChange:function(t){var e={color:"rgba(255, 255, 255, 1)",mask:"rgba(255, 255, 255, 1)",lineWidth:0,circle:t.detail.value};this.setData({"cropperOpt.boundStyle":e}),this.cropper.updateBoundStyle(e)},onLongPress:function(t){var e=t.currentTarget.offsetLeft,a=t.currentTarget.offsetTop,n=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY;this._handleComputedPoints(),this.setData({currentImg:t.currentTarget.dataset.url,currentDef:t.currentTarget.dataset.def,currentIndex:t.currentTarget.dataset.index,hidden:!1,touch:!0,x:e,y:a,point2offsetX:n-e,point2offsetY:o-a}),wx.vibrateShort()},_handleComputedPoints:function(t){var e=this;wx.createSelectorQuery().selectAll(".item").fields({dataset:!0,rect:!0},(function(t){e.setData({pointsArr:t})})).exec()},handleTouchMove:function(t){this.data.x,this.data.y;var e=t.touches[0].pageX,a=t.touches[0].pageY,n=this;n.setData({x:e-n.data.point2offsetX,y:a-n.data.point2offsetY})},handleTouchEnd:function(t){this.data.touch?this.swapPosition(t):this.setData({currentIndex:-1})},onShareAppMessage:function(){return{title:"拿起配图神器，然后朋友圈走一波",path:"/pages/navigator/pintu/pintu/pintu"}},swapPosition:function(t){for(var e=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY,n=this.data.pointsArr,o=this.data.images,i=0;i<n.length;i++){var s=n[i];if(e>s.left&&e<s.right&&a>s.top&&a<s.bottom){var c=s.dataset.index,r=this.data.currentIndex,d=o[r];o[r]=o[c],o[c]=d}}this.setData({images:o,hidden:!0,touch:!1,currentImg:"",currentIndex:-1}),wx.vibrateShort()}})}();
},{isPage:true,isComponent:true,currentFile:'pages/navigator/pintu/pintu/pintu.js'});require("pages/navigator/pintu/pintu/pintu.js");