require("../@babel/runtime/helpers/Objectvalues"), require("../@babel/runtime/helpers/Arrayincludes"), 
require("../@babel/runtime/helpers/Objectentries");

var _regeneratorRuntime3 = require("../@babel/runtime/helpers/regeneratorRuntime"), _asyncToGenerator3 = require("../@babel/runtime/helpers/asyncToGenerator"), _classCallCheck3 = require("../@babel/runtime/helpers/classCallCheck"), _createClass3 = require("../@babel/runtime/helpers/createClass"), _typeof3 = require("../@babel/runtime/helpers/typeof");

(global.webpackJsonp = global.webpackJsonp || []).push([ [ "common/vendor" ], {
    "00f2": function(e, t, n) {
        (function(e) {
            function t(e) {
                return (t = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            !function(n) {
                var r, o = Object.prototype, i = o.hasOwnProperty, a = "function" == typeof Symbol ? Symbol : {}, s = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", u = a.toStringTag || "@@toStringTag", l = "object" == t(e), d = n.regeneratorRuntime;
                if (d) l && (e.exports = d); else {
                    (d = n.regeneratorRuntime = l ? e.exports : {}).wrap = _;
                    var f = "suspendedStart", p = "suspendedYield", m = "executing", g = "completed", h = {}, y = {};
                    y[s] = function() {
                        return this;
                    };
                    var v = Object.getPrototypeOf, b = v && v(v(C([])));
                    b && b !== o && i.call(b, s) && (y = b);
                    var T = P.prototype = k.prototype = Object.create(y);
                    M.prototype = T.constructor = P, P.constructor = M, P[u] = M.displayName = "GeneratorFunction", 
                    d.isGeneratorFunction = function(e) {
                        var t = "function" == typeof e && e.constructor;
                        return !!t && (t === M || "GeneratorFunction" === (t.displayName || t.name));
                    }, d.mark = function(e) {
                        return Object.setPrototypeOf ? Object.setPrototypeOf(e, P) : (e.__proto__ = P, u in e || (e[u] = "GeneratorFunction")), 
                        e.prototype = Object.create(T), e;
                    }, d.awrap = function(e) {
                        return {
                            __await: e
                        };
                    }, A(w.prototype), w.prototype[c] = function() {
                        return this;
                    }, d.AsyncIterator = w, d.async = function(e, t, n, r) {
                        var o = new w(_(e, t, n, r));
                        return d.isGeneratorFunction(t) ? o : o.next().then(function(e) {
                            return e.done ? e.value : o.next();
                        });
                    }, A(T), T[u] = "Generator", T[s] = function() {
                        return this;
                    }, T.toString = function() {
                        return "[object Generator]";
                    }, d.keys = function(e) {
                        var t = [];
                        for (var n in e) t.push(n);
                        return t.reverse(), function n() {
                            for (;t.length; ) {
                                var r = t.pop();
                                if (r in e) return n.value = r, n.done = !1, n;
                            }
                            return n.done = !0, n;
                        };
                    }, d.values = C, x.prototype = {
                        constructor: x,
                        reset: function(e) {
                            if (this.prev = 0, this.next = 0, this.sent = this._sent = r, this.done = !1, this.delegate = null, 
                            this.method = "next", this.arg = r, this.tryEntries.forEach(I), !e) for (var t in this) "t" === t.charAt(0) && i.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = r);
                        },
                        stop: function() {
                            this.done = !0;
                            var e = this.tryEntries[0].completion;
                            if ("throw" === e.type) throw e.arg;
                            return this.rval;
                        },
                        dispatchException: function(e) {
                            if (this.done) throw e;
                            var t = this;
                            function n(n, o) {
                                return s.type = "throw", s.arg = e, t.next = n, o && (t.method = "next", t.arg = r), 
                                !!o;
                            }
                            for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                                var a = this.tryEntries[o], s = a.completion;
                                if ("root" === a.tryLoc) return n("end");
                                if (a.tryLoc <= this.prev) {
                                    var c = i.call(a, "catchLoc"), u = i.call(a, "finallyLoc");
                                    if (c && u) {
                                        if (this.prev < a.catchLoc) return n(a.catchLoc, !0);
                                        if (this.prev < a.finallyLoc) return n(a.finallyLoc);
                                    } else if (c) {
                                        if (this.prev < a.catchLoc) return n(a.catchLoc, !0);
                                    } else {
                                        if (!u) throw new Error("try statement without catch or finally");
                                        if (this.prev < a.finallyLoc) return n(a.finallyLoc);
                                    }
                                }
                            }
                        },
                        abrupt: function(e, t) {
                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                var r = this.tryEntries[n];
                                if (r.tryLoc <= this.prev && i.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                                    var o = r;
                                    break;
                                }
                            }
                            o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                            var a = o ? o.completion : {};
                            return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, 
                            h) : this.complete(a);
                        },
                        complete: function(e, t) {
                            if ("throw" === e.type) throw e.arg;
                            return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                            this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                            h;
                        },
                        finish: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var n = this.tryEntries[t];
                                if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), I(n), h;
                            }
                        },
                        catch: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var n = this.tryEntries[t];
                                if (n.tryLoc === e) {
                                    var r = n.completion;
                                    if ("throw" === r.type) {
                                        var o = r.arg;
                                        I(n);
                                    }
                                    return o;
                                }
                            }
                            throw new Error("illegal catch attempt");
                        },
                        delegateYield: function(e, t, n) {
                            return this.delegate = {
                                iterator: C(e),
                                resultName: t,
                                nextLoc: n
                            }, "next" === this.method && (this.arg = r), h;
                        }
                    };
                }
                function _(e, t, n, r) {
                    var o = t && t.prototype instanceof k ? t : k, i = Object.create(o.prototype), a = new x(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = f;
                        return function(o, i) {
                            if (r === m) throw new Error("Generator is already running");
                            if (r === g) {
                                if ("throw" === o) throw i;
                                return R();
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = O(a, n);
                                    if (s) {
                                        if (s === h) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if (r === f) throw r = g, n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = m;
                                var c = S(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? g : p, c.arg === h) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = g, n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function S(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                function k() {}
                function M() {}
                function P() {}
                function A(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        e[t] = function(e) {
                            return this._invoke(t, e);
                        };
                    });
                }
                function w(e) {
                    var n;
                    this._invoke = function(r, o) {
                        function a() {
                            return new Promise(function(n, a) {
                                !function n(r, o, a, s) {
                                    var c = S(e[r], e, o);
                                    if ("throw" !== c.type) {
                                        var u = c.arg, l = u.value;
                                        return l && "object" == t(l) && i.call(l, "__await") ? Promise.resolve(l.__await).then(function(e) {
                                            n("next", e, a, s);
                                        }, function(e) {
                                            n("throw", e, a, s);
                                        }) : Promise.resolve(l).then(function(e) {
                                            u.value = e, a(u);
                                        }, function(e) {
                                            return n("throw", e, a, s);
                                        });
                                    }
                                    s(c.arg);
                                }(r, o, n, a);
                            });
                        }
                        return n = n ? n.then(a, a) : a();
                    };
                }
                function O(e, t) {
                    var n = e.iterator[t.method];
                    if (n === r) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = r, O(e, t), "throw" === t.method)) return h;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return h;
                    }
                    var o = S(n, e.iterator, t.arg);
                    if ("throw" === o.type) return t.method = "throw", t.arg = o.arg, t.delegate = null, 
                    h;
                    var i = o.arg;
                    return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = r), t.delegate = null, h) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, h);
                }
                function E(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function I(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function x(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(E, this), this.reset(!0);
                }
                function C(e) {
                    if (e) {
                        var t = e[s];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var n = -1, o = function t() {
                                for (;++n < e.length; ) if (i.call(e, n)) return t.value = e[n], t.done = !1, t;
                                return t.value = r, t.done = !0, t;
                            };
                            return o.next = o;
                        }
                    }
                    return {
                        next: R
                    };
                }
                function R() {
                    return {
                        value: r,
                        done: !0
                    };
                }
            }(function() {
                return this;
            }() || Function("return this")());
        }).call(this, n("62e4")(e));
    },
    "00fd": function(e, t, n) {
        var r = n("9e69"), o = Object.prototype, i = o.hasOwnProperty, a = o.toString, s = r ? r.toStringTag : void 0;
        e.exports = function(e) {
            var t = i.call(e, s), n = e[s];
            try {
                e[s] = void 0;
                var r = !0;
            } catch (e) {}
            var o = a.call(e);
            return r && (t ? e[s] = n : delete e[s]), o;
        };
    },
    "0135": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getNethospitalDetail = s, t.getPlatformInfo = a;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a() {
            var e = o.default.state.env.VUE_APP_API_URL + "client/v1/index/page";
            return r.default.post(e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/nethospital/detail";
            return r.default.post(t, e);
        }
        var c = {
            getPlatformInfo: a,
            getNethospitalDetail: s
        };
        t.default = c;
    },
    "027f": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = n("6c87"), o = {
            namespaced: !0,
            state: {
                accessToken: r.cache.get("accessToken") || "",
                userInfo: r.cache.get("userInfo") || {
                    nickName: "",
                    tel: "",
                    avatar: "",
                    openid: ""
                },
                loginCode: "",
                authorToken: r.cache.get("authorToken") || ""
            },
            getters: {},
            mutations: {
                setAccessToken: function(e, t) {
                    e.accessToken = t;
                },
                setUserInfo: function(e, t) {
                    e.userInfo = t;
                },
                setLoginCode: function(e, t) {
                    e.loginCode = t;
                },
                setAuthorToken: function(e, t) {
                    e.authorToken = t;
                }
            },
            actions: {
                setAccessToken: function(e, t) {
                    (0, e.commit)("setAccessToken", t), r.cache.set("accessToken", t);
                },
                setUserInfo: function(e, t) {
                    (0, e.commit)("setUserInfo", t), r.cache.set("userInfo", t);
                },
                setAuthorToken: function(e, t) {
                    (0, e.commit)("setAuthorToken", t), r.cache.set("authorToken", t);
                },
                cleanToken: function(e) {
                    var t = e.commit;
                    t("setLoginCode", ""), t("setAuthorToken", ""), t("setAccessToken", ""), t("setUserInfo", {}), 
                    r.cache.remove("authorToken"), r.cache.remove("accessToken"), r.cache.remove("userInfo");
                }
            }
        };
        t.default = o;
    },
    "03dd": function(e, t, n) {
        var r = n("eac5"), o = n("57a5"), i = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            if (!r(e)) return o(e);
            var t = [];
            for (var n in Object(e)) i.call(e, n) && "constructor" != n && t.push(n);
            return t;
        };
    },
    "04c6": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = P(n("0135")), o = P(n("f83f")), i = P(n("d6e5")), a = P(n("caef")), s = P(n("705e")), c = P(n("3f36")), u = P(n("feb1")), l = P(n("1168")), d = P(n("c19a")), f = P(n("52e1")), p = P(n("812e")), m = P(n("ab93")), g = P(n("efbc")), h = P(n("9e2a")), y = P(n("ab4b")), v = P(n("b8be")), b = P(n("6819")), T = P(n("4553")), _ = P(n("27b6")), S = P(n("5518")), k = P(n("5339")), M = P(n("693c"));
        function P(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var A = {
            organ: r.default,
            login: o.default,
            im: i.default,
            user: a.default,
            health: s.default,
            doctor: c.default,
            hospital: l.default,
            diagnose: u.default,
            report: d.default,
            person: f.default,
            inquiry: p.default,
            prescription: m.default,
            inspect: g.default,
            wx: S.default,
            drug: h.default,
            my: _.default,
            payment: y.default,
            app: k.default,
            registration: T.default,
            patient: b.default,
            pay: v.default,
            mall: M.default,
            install: function(e) {
                var t = {
                    organ: r.default,
                    login: o.default,
                    im: i.default,
                    user: a.default,
                    health: s.default,
                    doctor: c.default,
                    diagnose: u.default,
                    hospital: l.default,
                    report: d.default,
                    inquiry: p.default,
                    prescription: m.default,
                    inspect: g.default,
                    wx: S.default,
                    person: f.default,
                    drug: h.default,
                    my: _.default,
                    payment: y.default,
                    app: k.default,
                    registration: T.default,
                    patient: b.default,
                    pay: v.default,
                    mall: M.default
                };
                e.prototype.$service = t;
            }
        };
        t.default = A;
    },
    "0594": function(e, t, n) {
        (function(e) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.auth = d, t.default = void 0, t.gainOrderStatus = S, t.getOrderStatus = y, 
            t.pay = p, t.payInvoke = f, t.pay_ali = T, t.pay_h5_wx = m, t.pay_wx = g, t.queryOrder = b, 
            t.queryOrderStatus = v, t.requestPaymentConfirm = h, t.requestPaymentConfirm_ali = _;
            var r = s(n("04c6")), o = s(n("e884")), i = n("c9c2"), a = s(n("f753"));
            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            function c(e, t) {
                var n = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var r = Object.getOwnPropertySymbols(e);
                    t && (r = r.filter(function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })), n.push.apply(n, r);
                }
                return n;
            }
            function u(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? c(Object(n), !0).forEach(function(t) {
                        l(e, t, n[t]);
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : c(Object(n)).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                    });
                }
                return e;
            }
            function l(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n, e;
            }
            function d(e, t) {}
            function f(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                WeixinJSBridge && WeixinJSBridge.invoke("getBrandWCPayRequest", e, function(e) {
                    "get_brand_wcpay_request:ok" == e.err_msg && t && t(), "get_brand_wcpay_request:fail" == e.err_msg && t && t(), 
                    "get_brand_wcpay_request:cancel" == e.err_msg && n && n();
                });
            }
            function p(e) {
                g(e);
            }
            function m(t) {
                if (e.showLoading({
                    title: "正在支付...",
                    mask: !0
                }), 1 != t.params.orderType && 2 != t.params.orderType && 5 != t.params.orderType && 8 != t.params.orderType) {
                    var n = "";
                    return "micromessenger" == window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i) ? (n = "JSAPI", 
                    t.params.tradeType = n, r.default.wx.pay(t.params).then(function(e) {
                        if (200 === e.code) {
                            var n = {
                                appId: e.data.appId,
                                timeStamp: e.data.timeStamp,
                                nonceStr: e.data.nonceStr,
                                package: e.data.package,
                                signType: e.data.signType,
                                paySign: e.data.paySign
                            };
                            n && f(n, t.success, t.cancel);
                        }
                    }).catch(function(e) {
                        e.data && (204 == e.data.code ? (console.warn("订单金额为0：", e.data), t.success && t.success()) : (console.warn("订单异常时响应", e.data), 
                        t.fail && t.fail(e.data)));
                    }).finally(function() {
                        e.hideLoading();
                    })) : (n = "MWEB", t.params.tradeType = n, r.default.wx.payMultiple(t.params).then(function(e) {
                        if (200 === e.code) {
                            var t, n, r, i, a, s, c = e.data;
                            null === (t = o.default.state.im) || void 0 === t || null === (n = t.NIM) || void 0 === n || null === (r = n.netcall) || void 0 === r || r.destroy(), 
                            null === (i = o.default.state.im) || void 0 === i || null === (a = i.NIM) || void 0 === a || null === (s = a.nim) || void 0 === s || s.destroy({
                                done: function() {
                                    console.log("H5支付后清除IM实例"), o.default.commit("im/setNIM", {});
                                }
                            }), window.location.href = c.mwebUrl;
                        }
                    }).catch(function(e) {
                        e.data && (204 == e.data.code ? (console.warn("订单金额为0：", e.data), t.success && t.success()) : (console.warn("订单异常时响应", e.data), 
                        t.fail && t.fail(e.data)));
                    }).finally(function() {
                        e.hideLoading();
                    }));
                }
                r.default.wx.payCreate({
                    hospitalId: a.default.get("NETHOSPITALID") || o.default.state.env.VUE_APP_ORGID,
                    centerOrderNo: t.params.centerOrderNo,
                    methodCode: "1",
                    terminalType: "H5",
                    gatewayCode: "9",
                    businessType: "",
                    channelCode: "wxpay",
                    sourcePlatform: "3",
                    userAgent: window.navigator.userAgent
                }).then(function(e) {
                    if ("micromessenger" == window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)) {
                        var n, r, i, s, c, u, l, d, p, m;
                        f({
                            appId: null === (n = e.data) || void 0 === n || null === (r = n.returnObj) || void 0 === r ? void 0 : r.appid,
                            timeStamp: null === (i = e.data) || void 0 === i || null === (s = i.returnObj) || void 0 === s ? void 0 : s.timestamp,
                            nonceStr: null === (c = e.data) || void 0 === c || null === (u = c.returnObj) || void 0 === u ? void 0 : u.noncestr,
                            package: "prepay_id=" + (null === (l = e.data) || void 0 === l || null === (d = l.returnObj) || void 0 === d ? void 0 : d.prepayid),
                            signType: "MD5",
                            paySign: null === (p = e.data) || void 0 === p || null === (m = p.returnObj) || void 0 === m ? void 0 : m.sign
                        }, t.success, t.cancel);
                    } else {
                        var g, h, y, v, b, T, _, S;
                        null === (g = o.default.state.im) || void 0 === g || null === (h = g.NIM) || void 0 === h || null === (y = h.netcall) || void 0 === y || y.destroy(), 
                        null === (v = o.default.state.im) || void 0 === v || null === (b = v.NIM) || void 0 === b || null === (T = b.nim) || void 0 === T || T.destroy({
                            done: function() {
                                console.log("H5支付后清除IM实例"), o.default.commit("im/setNIM", {});
                            }
                        });
                        var k, M = a.default.get("NETHOSPITALID") || o.default.state.env.VUE_APP_ORGID, P = a.default.get("CHANNELID") || "", A = "MWEB";
                        k = 1 == t.params.orderType || 2 == t.params.orderType ? "".concat(o.default.state.env.VUE_APP_WEB_URL).concat(o.default.state.env.VUE_APP_H5_FLODER_PATH, "redirect?redirect=visitOrderDetail&netHospitalId=").concat(M, "&channelId=").concat(P, "&inquiryId=").concat(t.params.inquiryId, "&tradeType=").concat(A) : 5 == t.params.orderType ? "".concat(o.default.state.env.VUE_APP_WEB_URL).concat(o.default.state.env.VUE_APP_H5_FLODER_PATH, "redirect?redirect=servicePackageDetail&netHospitalId=").concat(M, "&channelId=").concat(P, "&orderNo=").concat(t.params.orderNo, "&tradeType=").concat(A, "&orderType=servicePackage") : 8 == t.params.orderType ? "".concat(o.default.state.env.VUE_APP_WEB_URL).concat(o.default.state.env.VUE_APP_H5_FLODER_PATH, "redirect?redirect=payment&netHospitalId=").concat(M, "&channelId=").concat(P, "&formNo=").concat(t.params.formNo, "&tradeType=").concat(A, "&orderType=payment") : "".concat(o.default.state.env.VUE_APP_WEB_URL).concat(o.default.state.env.VUE_APP_H5_FLODER_PATH, "redirect?redirect=medicineOrderDetail&netHospitalId=").concat(M, "&channelId=").concat(P, "&orderNo=").concat(t.params.orderNo, "&tradeType=").concat(A), 
                        window.location.href = (null === (_ = e.data) || void 0 === _ || null === (S = _.returnObj) || void 0 === S ? void 0 : S.mweb_url) + "&redirect_url=" + encodeURIComponent(k);
                    }
                }).catch(function(n) {
                    e.hideLoading(), n.data && (204 == n.data.code ? (console.warn("订单金额为0：", n.data), 
                    t.success && t.success()) : (console.warn("订单异常时响应", n.data), t.fail && t.fail(n.data)));
                }).finally(function() {
                    e.hideLoading();
                });
            }
            function g(t) {
                e.showLoading({
                    title: "正在支付...",
                    mask: !0
                }), 1 == t.params.orderType || 2 == t.params.orderType || 5 == t.params.orderType || 8 == t.params.orderType ? r.default.wx.payCreate({
                    hospitalId: o.default.state.env.VUE_APP_ORGID,
                    centerOrderNo: t.params.centerOrderNo,
                    methodCode: "1",
                    terminalType: "MINI_PROGRAM",
                    gatewayCode: "21",
                    businessType: "",
                    channelCode: "wxpay",
                    sourcePlatform: "4",
                    userAgent: ""
                }).then(function(n) {
                    var r, o, i, a, s = n.data;
                    e.requestPayment({
                        timeStamp: null == s || null === (r = s.returnObj) || void 0 === r ? void 0 : r.timestamp,
                        nonceStr: null == s || null === (o = s.returnObj) || void 0 === o ? void 0 : o.noncestr,
                        package: "prepay_id=" + (null == s || null === (i = s.returnObj) || void 0 === i ? void 0 : i.prepayid),
                        signType: "MD5",
                        paySign: null == s || null === (a = s.returnObj) || void 0 === a ? void 0 : a.sign,
                        success: function() {
                            e.hideLoading(), 8 == t.params.orderType ? _(t) : 2 == t.params.orderType && s.divisionId ? h(t, s.divisionId) : t.success && t.success({});
                        },
                        fail: function(n) {
                            e.hideLoading(), n.hasOwnProperty("errMsg") && n.errMsg.indexOf("cancel") > 0 ? t.cancel && t.cancel() : t.fail && t.fail();
                        },
                        complete: function() {
                            t.complete && t.complete();
                        }
                    });
                }).catch(function(n) {
                    e.hideLoading(), n.data && (204 == n.data.code ? (console.warn("订单金额为0：", n.data), 
                    t.success && t.success()) : (console.warn("订单异常时响应", n.data), t.fail && t.fail(n.data)));
                }).finally(function() {}) : r.default.wx.pay(t.params).then(function(n) {
                    var r = n.data;
                    e.requestPayment({
                        timeStamp: r.timeStamp,
                        nonceStr: r.nonceStr,
                        package: r.package,
                        signType: r.signType,
                        paySign: r.paySign,
                        success: function() {
                            e.hideLoading(), [ 9, 10 ].includes(t.params.orderType) ? _(t) : [ 3, 4, 6, 7 ].includes(t.params.orderType) && r.divisionId ? h(t) : t.success && t.success();
                        },
                        fail: function(n) {
                            e.hideLoading(), n.hasOwnProperty("errMsg") && n.errMsg.indexOf("cancel") > 0 ? t.cancel && t.cancel() : t.fail && t.fail();
                        },
                        complete: function() {
                            t.complete && t.complete();
                        }
                    });
                }).catch(function(n) {
                    e.hideLoading(), n.data && (204 == n.data.code ? (console.warn("订单金额为0：", n.data), 
                    t.success && t.success()) : (console.warn("订单异常时响应", n.data), t.fail && t.fail(n.data)));
                }).finally(function() {});
            }
            function h(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                y({
                    params: e.params,
                    callBack: function(n) {
                        switch (n.code) {
                          case 200:
                            3 === n.data.payStatus ? e.success && e.success({
                                divisionId: t
                            }) : 6 === n.data.payStatus && ("payment" === e.params.pageType ? i.router.replace({
                                path: "/pages/person/order/pay-result",
                                query: {
                                    orderNo: e.params.orderNo
                                }
                            }) : "advance" === e.params.pageType ? i.router.replace({
                                path: "/pages/person/order/pay-fail",
                                query: {
                                    orderNo: e.params.orderNo,
                                    inquiryId: e.params.inquiryId || "",
                                    orderType: e.params.orderType,
                                    orderTypeValue: e.params.orderTypeValue || "",
                                    pageType: e.params.pageType,
                                    reason: n.data.msg
                                }
                            }) : i.router.push({
                                path: "/pages/person/order/pay-fail",
                                query: {
                                    orderNo: e.params.orderNo,
                                    inquiryId: e.params.inquiryId || "",
                                    orderType: e.params.orderType,
                                    orderTypeValue: e.params.orderTypeValue || "",
                                    pageType: e.params.pageType,
                                    reason: n.data.msg
                                }
                            }));
                            break;

                          case 201:
                          case 202:
                            "payment" === e.params.pageType ? i.router.replace({
                                path: "/pages/person/order/pay-result",
                                query: {
                                    orderNo: e.params.orderNo
                                }
                            }) : "advance" === e.params.pageType ? i.router.replace({
                                path: "/pages/person/order/pay-fail",
                                query: {
                                    orderNo: e.params.orderNo,
                                    inquiryId: e.params.inquiryId || "",
                                    orderType: e.params.orderType,
                                    orderTypeValue: e.params.orderTypeValue,
                                    pageType: e.params.pageType,
                                    reason: n.msg
                                }
                            }) : i.router.push({
                                path: "/pages/person/order/pay-fail",
                                query: {
                                    orderNo: e.params.orderNo,
                                    inquiryId: e.params.inquiryId || "",
                                    orderType: e.params.orderType,
                                    orderTypeValue: e.params.orderTypeValue,
                                    pageType: e.params.pageType,
                                    reason: n.msg
                                }
                            });
                        }
                    }
                });
            }
            function y(t) {
                e.showLoading({
                    title: "缴费确认中",
                    mask: !0
                });
                var n = function() {
                    return new Promise(function(e) {
                        r.default.wx.getOrderStatus(t.params).then(function(t) {
                            e(t);
                        }).catch(function(t) {
                            var n;
                            null !== (n = t.data) && void 0 !== n && n.code ? e(t.data) : e({
                                code: 202,
                                msg: "响应超时，请联系客服"
                            });
                        });
                    });
                }, o = 1, i = function e(t) {
                    var r = setTimeout(function() {
                        (o += 1) > 9999 ? (clearTimeout(r), t({
                            code: 201,
                            msg: "响应超时，请联系客服"
                        })) : n().then(function(n) {
                            200 === n.code ? 3 === n.data.payStatus || 6 === n.data.payStatus ? (clearTimeout(r), 
                            t({
                                code: 200,
                                data: n.data,
                                msg: "确认缴费或确认缴费失败"
                            })) : e(t) : t({
                                code: 202,
                                msg: n.msg
                            });
                        });
                    }, 1e3);
                };
                n().then(function(n) {
                    200 === n.code ? 3 === n.data.payStatus || 6 === n.data.payStatus ? (e.hideLoading(), 
                    t.callBack({
                        code: 200,
                        data: n.data,
                        msg: "确认缴费或确认缴费失败"
                    })) : i(function(n) {
                        if (e.hideLoading(), 200 === n.code) return t.callBack(n), !0;
                        t.callBack(n);
                    }) : (e.hideLoading(), t.callBack({
                        code: 202,
                        msg: n.msg
                    }));
                });
            }
            function v(e) {
                b({
                    params: e.params,
                    callBack: function(t) {
                        switch (t.code) {
                          case 200:
                          case 201:
                            e.success && e.success(t);
                            break;

                          case 202:
                            e.fail && e.fail();
                        }
                    }
                });
            }
            function b(t) {
                var n = function() {
                    return new Promise(function(e) {
                        r.default.inquiry.queryOrder(t.params, t.params.isCancel).then(function(t) {
                            e(t);
                        }).catch(function(t) {
                            var n;
                            null !== (n = t.data) && void 0 !== n && n.code ? e(t.data) : e({
                                code: 202,
                                data: u({}, t.data),
                                msg: "响应超时，请联系客服"
                            });
                        });
                    });
                }, o = 1, i = t.params.maxCount || 180, s = function e(t) {
                    var r = setTimeout(function() {
                        n().then(function(n) {
                            var a;
                            (o += 1) > i ? (clearTimeout(r), t({
                                code: 201,
                                data: u({}, n.data),
                                msg: "确认缴费超时"
                            })) : 200 === n.code ? (null === (a = n.data) || void 0 === a ? void 0 : a.medicalRecordDetail.length) > 0 ? (clearTimeout(r), 
                            t({
                                code: 200,
                                data: n.data,
                                msg: "确认缴费"
                            })) : e(t) : t({
                                code: 202,
                                msg: n.msg
                            });
                        });
                    }, 1e3);
                    a.default.set("paymentTimeout", r);
                };
                n().then(function(n) {
                    var r;
                    200 === n.code ? (null === (r = n.data) || void 0 === r ? void 0 : r.medicalRecordDetail.length) > 0 ? (e.hideLoading(), 
                    t.callBack({
                        code: 200,
                        data: n.data,
                        msg: "确认缴费"
                    })) : s(function(e) {
                        if (200 === e.code) return t.callBack(e), !0;
                        t.callBack(e);
                    }) : t.callBack({
                        code: 202,
                        msg: n.msg
                    });
                });
            }
            function T(t) {
                e.showLoading({
                    title: "正在支付..."
                }), 1 == t.params.orderType || 2 == t.params.orderType || 5 == t.params.orderType || 8 == t.params.orderType ? r.default.wx.payCreate({
                    hospitalId: o.default.state.env.VUE_APP_ORGID,
                    centerOrderNo: t.params.centerOrderNo,
                    methodCode: "1",
                    terminalType: "MINI_PROGRAM",
                    gatewayCode: "1204",
                    businessType: "",
                    channelCode: "alipay",
                    sourcePlatform: "4",
                    userAgent: ""
                }).then(function(n) {
                    var r, o, i, a, s = null == n || null === (r = n.data) || void 0 === r || null === (o = r.returnObj) || void 0 === o || null === (i = o.od) || void 0 === i ? void 0 : i.tradeNo, c = null == n || null === (a = n.data) || void 0 === a ? void 0 : a.divisionId;
                    my.tradePay({
                        tradeNO: s,
                        success: function(n) {
                            switch (e.hideLoading(), n.resultCode) {
                              case "6001":
                                t.cancel && t.cancel();
                                break;

                              case "4000":
                                t.fail && t.fail();
                                break;

                              default:
                                8 == t.params.orderType ? _(t) : 2 == t.params.orderType && c ? h(t, c) : t.success && t.success({});
                            }
                        },
                        fail: function(n) {
                            e.hideLoading(), t.fail && t.fail();
                        }
                    });
                }).catch(function(n) {
                    e.hideLoading(), n.data && (204 == n.data.code ? (console.warn("订单金额为0：", n.data), 
                    t.success && t.success()) : (console.warn("订单异常时响应", n.data), t.fail && t.fail(n.data)));
                }) : r.default.pay.tradeCreate(t.params).then(function(n) {
                    var r = n.data.trade_no, o = n.data.divisionId;
                    my.tradePay({
                        tradeNO: r,
                        success: function(n) {
                            switch (e.hideLoading(), n.resultCode) {
                              case "6001":
                                t.cancel && t.cancel();
                                break;

                              case "4000":
                                t.fail && t.fail();
                                break;

                              default:
                                t.tradeNo = r, [ 9, 10 ].includes(t.params.orderType) ? _(t) : [ 3, 4, 6, 7 ].includes(t.params.orderType) && o ? h(t) : t.success && t.success();
                            }
                        },
                        fail: function(n) {
                            e.hideLoading(), t.fail && t.fail();
                        }
                    });
                }).catch(function(n) {
                    e.hideLoading(), n.data && (204 == n.data.code ? (console.warn("订单金额为0：", n.data), 
                    t.success && t.success()) : (console.warn("订单异常时响应", n.data), t.fail && t.fail(n.data)));
                });
            }
            function _(e) {
                k({
                    params: e.params,
                    callBack: function(t) {
                        switch (t.code) {
                          case 200:
                            i.router["advance" === e.params.pageType ? "replace" : "push"]({
                                path: "/pages/result/pay/index",
                                query: {
                                    orderNo: e.params.orderNo,
                                    tradeNo: e.tradeNo,
                                    formNo: e.params.formNo || "",
                                    orderType: e.params.orderType || "",
                                    orderTypeValue: e.params.orderTypeValue || "",
                                    pageType: e.params.pageType || "",
                                    orderStatus: t.data.orderStatus,
                                    reason: t.data.cancelReason,
                                    deptCode: e.params.deptCode || "",
                                    appointDate: e.params.appointDate || "",
                                    patient: e.params.patient || {}
                                }
                            });
                            break;

                          case 20001:
                          case 20002:
                            i.router["advance" === e.params.pageType ? "replace" : "push"]({
                                path: "/pages/result/pay/index",
                                query: {
                                    orderNo: e.params.orderNo,
                                    tradeNo: e.tradeNo,
                                    formNo: e.params.formNo || "",
                                    orderType: e.params.orderType || "",
                                    orderTypeValue: e.params.orderTypeValue || "",
                                    pageType: e.params.pageType || "",
                                    orderStatus: 2,
                                    reason: t.msg,
                                    deptCode: e.params.deptCode || "",
                                    appointDate: e.params.appointDate || "",
                                    patient: e.params.patient || {}
                                }
                            });
                        }
                    }
                });
            }
            function S(e) {
                k({
                    params: e.params,
                    callBack: function(t) {
                        switch (t.code) {
                          case 200:
                            e.success && e.success();
                            break;

                          case 20001:
                          case 20002:
                            e.fail && e.fail();
                        }
                    }
                });
            }
            function k(t) {
                var n = function() {
                    return new Promise(function(e) {
                        r.default.pay.getOrderStatus(t.params).then(function(t) {
                            e(t);
                        }).catch(function(t) {
                            var n;
                            null !== (n = t.data) && void 0 !== n && n.code ? e(t.data) : e({
                                code: 202,
                                msg: "缴费确认异常"
                            });
                        });
                    });
                };
                e.showLoading({
                    title: "缴费确认中",
                    mask: !0
                });
                var o = 1, i = t.params.count || 999, a = function e(t) {
                    var r = setTimeout(function() {
                        (o += 1) > i ? (clearTimeout(r), t({
                            code: 20001,
                            msg: "缴费确认响应超时"
                        })) : n().then(function(n) {
                            200 === n.code ? 2 === n.data.orderStatus || 3 === n.data.orderStatus ? (clearTimeout(r), 
                            t({
                                code: 200,
                                data: n.data,
                                msg: "缴费确认或缴费确认失败"
                            })) : e(t) : t({
                                code: 20002,
                                msg: n.msg
                            });
                        });
                    }, 1e3);
                };
                n().then(function(n) {
                    200 === n.code ? 2 === n.data.orderStatus || 3 === n.data.orderStatus ? (e.hideLoading(), 
                    t.callBack({
                        code: 200,
                        data: n.data,
                        msg: "缴费确认或缴费确认失败"
                    })) : a(function(n) {
                        if (e.hideLoading(), 200 === n.code) return t.callBack(n), !0;
                        t.callBack(n);
                    }) : (e.hideLoading(), t.callBack({
                        code: 20002,
                        msg: n.msg
                    }));
                });
            }
            var M = {
                pay: p,
                payInvoke: f,
                auth: d,
                requestPaymentConfirm: h,
                getOrderStatus: y,
                queryOrderStatus: v,
                pay_wx: g,
                pay_h5_wx: m,
                pay_ali: T,
                gainOrderStatus: S
            };
            t.default = M;
        }).call(this, n("543d").default);
    },
    "0621": function(e, t, n) {
        var r = n("9e69"), o = n("d370"), i = n("6747"), a = r ? r.isConcatSpreadable : void 0;
        e.exports = function(e) {
            return i(e) || o(e) || !!(a && e && e[a]);
        };
    },
    "07c7": function(e, t) {
        e.exports = function() {
            return !1;
        };
    },
    "087d": function(e, t) {
        e.exports = function(e, t) {
            for (var n = -1, r = t.length, o = e.length; ++n < r; ) e[o + n] = t[n];
            return e;
        };
    },
    "08cc": function(e, t, n) {
        var r = n("1a8c");
        e.exports = function(e) {
            return e == e && !r(e);
        };
    },
    "099a": function(e, t) {
        e.exports = function(e, t, n) {
            for (var r = n - 1, o = e.length; ++r < o; ) if (e[r] === t) return r;
            return -1;
        };
    },
    "0b07": function(e, t, n) {
        var r = n("34ac"), o = n("3698");
        e.exports = function(e, t) {
            var n = o(e, t);
            return r(n) ? n : void 0;
        };
    },
    "0b97": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = n("6c87"), o = n("8e0b"), i = {
            list: [],
            total: 0,
            readNum: 0,
            unreadNum: 0
        }, a = {
            namespaced: !0,
            state: {
                accountInfo: r.cache.get("accountInfo") || {},
                NIM: {},
                sessions: null,
                session: {},
                sessionMessages: [],
                teamMsgReceipts: {},
                isPushBeCallPage: !1,
                channelId: "",
                requestId: "",
                recorderManager: null,
                serviceRemind: {
                    list: null,
                    total: 0,
                    readNum: 0,
                    unreadNum: 0
                },
                serviceRemindLoading: !1,
                timeRemind: {}
            },
            getters: {
                sessionsList: function(e) {
                    if (null == e.sessions) return null;
                    return [].concat(e.sessions).filter(function(e) {
                        var t;
                        return "team" != e.scene || null == e || null === (t = e.content) || void 0 === t || !t.inquirySession || e.content.inquirySession.inquiryStatus != o.CONSTANT.INQUIRY.INQUIRY_STATUS.待接诊 && e.content.inquirySession.inquiryStatus != o.CONSTANT.INQUIRY.INQUIRY_STATUS.已取消 && e.content.inquirySession.inquiryStatus != o.CONSTANT.INQUIRY.INQUIRY_STATUS.已退诊;
                    }).sort(function(e, t) {
                        var n = e.updateTime, r = t.updateTime;
                        return r - n;
                    });
                },
                inquiryInfo: function(e) {
                    var t, n;
                    return (null == e || null === (t = e.session) || void 0 === t || null === (n = t.content) || void 0 === n ? void 0 : n.inquirySession) || {};
                },
                doctorInfo: function(e) {
                    var t, n;
                    return (null == e || null === (t = e.session) || void 0 === t || null === (n = t.content) || void 0 === n ? void 0 : n.partner) || {};
                },
                patientInfo: function(e) {
                    var t, n;
                    return (null == e || null === (t = e.session) || void 0 === t || null === (n = t.content) || void 0 === n ? void 0 : n.patient) || {};
                }
            },
            mutations: {
                setAccountInfo: function(e, t) {
                    e.accountInfo = null, e.accountInfo = t;
                },
                setNIM: function(e, t) {
                    e.NIM = null, e.NIM = t;
                },
                setSessions: function(e, t) {
                    e.sessions = [].concat(t);
                },
                setSession: function(e, t) {
                    e.session = null, e.session = t;
                },
                setSessionMessages: function(e, t) {
                    e.sessionMessages = [].concat(t);
                },
                setChannelId: function(e, t) {
                    e.channelId = t;
                },
                setRequestId: function(e, t) {
                    e.requestId = t;
                },
                setRecorderManager: function(e, t) {
                    e.recorderManager = t;
                },
                setIsPushBeCallPage: function(e, t) {
                    e.isPushBeCallPage = t;
                },
                setServiceRemind: function(e, t) {
                    e.serviceRemind = t;
                },
                setServiceRemindLoading: function(e, t) {
                    e.serviceRemindLoading = t;
                },
                setTimeRemind: function(e, t) {
                    e.timeRemind = null, e.timeRemind = t;
                },
                setTeamMsgReceips: function(e, t) {
                    if (Object.keys(e.teamMsgReceipts).includes(t.teamId)) {
                        var n = e.teamMsgReceipts[t.teamId];
                        t.teamMsgReceipts.forEach(function(e) {
                            -1 == n.findIndex(function(t) {
                                return t.idServer == e.idServer;
                            }) && n.push(e);
                        });
                    } else e.teamMsgReceipts[t.teamId] = t.teamMsgReceipts;
                    console.log("state.teamMsgReceipts: ", e.teamMsgReceipts);
                }
            },
            actions: {
                setAccountInfo: function(e, t) {
                    (0, e.commit)("setAccountInfo", t), r.cache.set("accountInfo", t);
                },
                removeAccountInfo: function(e) {
                    (0, e.commit)("setAccountInfo", {}), r.cache.remove("accountInfo");
                },
                cleanIm: function(e) {
                    var t = e.commit;
                    t("setAccountInfo", {}), r.cache.remove("accountInfo"), t("setNIM", {}), t("setSessions", []), 
                    t("setSession", {}), t("setSessionMessages", []), t("setIsPushBeCallPage", !1), 
                    t("setChannelId", ""), t("setRequestId", ""), t("setServiceRemind", Object.assign({}, i));
                }
            }
        };
        t.default = a;
    },
    "0d24": function(e, t, n) {
        (function(e) {
            var r = n("2b3e"), o = n("07c7"), i = t && !t.nodeType && t, a = i && "object" == _typeof3(e) && e && !e.nodeType && e, s = a && a.exports === i ? r.Buffer : void 0, c = (s ? s.isBuffer : void 0) || o;
            e.exports = c;
        }).call(this, n("62e4")(e));
    },
    "0dc6": function(e, t, n) {
        (function(e) {
            var n = function() {
                function t() {
                    _classCallCheck3(this, t), this.config = {
                        type: "navigateTo",
                        url: "",
                        delta: 1,
                        params: {},
                        animationType: "pop-in",
                        animationDuration: 300,
                        intercept: !1
                    }, this.route = this.route.bind(this);
                }
                var n;
                return _createClass3(t, [ {
                    key: "addRootPath",
                    value: function(e) {
                        return "/" === e[0] ? e : "/" + e;
                    }
                }, {
                    key: "mixinParam",
                    value: function(t, n) {
                        t = t && this.addRootPath(t);
                        return /.*\/.*\?.*=.*/.test(t) ? t + "&" + e.$u.queryParams(n, !1) : t + e.$u.queryParams(n);
                    }
                }, {
                    key: "route",
                    value: (n = _asyncToGenerator3(_regeneratorRuntime3().mark(function t() {
                        var n, r, o, i = arguments;
                        return _regeneratorRuntime3().wrap(function(t) {
                            for (;;) switch (t.prev = t.next) {
                              case 0:
                                if (n = i.length > 0 && void 0 !== i[0] ? i[0] : {}, r = i.length > 1 && void 0 !== i[1] ? i[1] : {}, 
                                o = {}, "string" == typeof n ? (o.url = this.mixinParam(n, r), o.type = "navigateTo") : (o = e.$u.deepClone(n, this.config)).url = this.mixinParam(n.url, n.params), 
                                r.intercept && (this.config.intercept = r.intercept), o.params = r, o = e.$u.deepMerge(this.config, o), 
                                "function" != typeof e.$u.routeIntercept) {
                                    t.next = 10;
                                    break;
                                }
                                return t.next = 6, new Promise(function(t, n) {
                                    e.$u.routeIntercept(o, t);
                                });

                              case 6:
                                t.sent && this.openPage(o), t.next = 11;
                                break;

                              case 10:
                                this.openPage(o);

                              case 11:
                              case "end":
                                return t.stop();
                            }
                        }, t, this);
                    })), function() {
                        return n.apply(this, arguments);
                    })
                }, {
                    key: "openPage",
                    value: function(t) {
                        var n = t.url, r = (t.type, t.delta), o = t.animationType, i = t.animationDuration;
                        "navigateTo" != t.type && "to" != t.type || e.navigateTo({
                            url: n,
                            animationType: o,
                            animationDuration: i
                        }), "redirectTo" != t.type && "redirect" != t.type || e.redirectTo({
                            url: n
                        }), "switchTab" != t.type && "tab" != t.type || e.switchTab({
                            url: n
                        }), "reLaunch" != t.type && "launch" != t.type || e.reLaunch({
                            url: n
                        }), "navigateBack" != t.type && "back" != t.type || e.navigateBack({
                            delta: r
                        });
                    }
                } ]), t;
            }();
            t.a = new n().route;
        }).call(this, n("543d").default);
    },
    "0f80": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = u(n("7af8")), o = u(n("1c3ce")), i = u(n("f271")), a = u(n("d8e6")), s = n("b786"), c = u(n("4a90"));
        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function l(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })), n.push.apply(n, r);
            }
            return n;
        }
        function d(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? l(Object(n), !0).forEach(function(t) {
                    f(e, t, n[t]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : l(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                });
            }
            return e;
        }
        function f(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e;
        }
        function p(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        function m(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                Object.defineProperty(e, r.key, r);
            }
        }
        var g = function() {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                p(this, e), (0, s.isPlainObject)(t) || (t = {}, console.warn("设置全局参数必须接收一个Object")), 
                this.config = (0, c.default)(d(d({}, a.default), t)), this.interceptors = {
                    request: new o.default(),
                    response: new o.default()
                };
            }
            return function(e, t, n) {
                t && m(e.prototype, t), n && m(e, n), Object.defineProperty(e, "prototype", {
                    writable: !1
                });
            }(e, [ {
                key: "setConfig",
                value: function(e) {
                    this.config = e(this.config);
                }
            }, {
                key: "middleware",
                value: function(e) {
                    e = (0, i.default)(this.config, e);
                    var t = [ r.default, void 0 ], n = Promise.resolve(e);
                    for (this.interceptors.request.forEach(function(e) {
                        t.unshift(e.fulfilled, e.rejected);
                    }), this.interceptors.response.forEach(function(e) {
                        t.push(e.fulfilled, e.rejected);
                    }); t.length; ) n = n.then(t.shift(), t.shift());
                    return n;
                }
            }, {
                key: "request",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return this.middleware(e);
                }
            }, {
                key: "get",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return this.middleware(d({
                        url: e,
                        method: "GET"
                    }, t));
                }
            }, {
                key: "post",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "POST"
                    }, n));
                }
            }, {
                key: "put",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "PUT"
                    }, n));
                }
            }, {
                key: "delete",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "DELETE"
                    }, n));
                }
            }, {
                key: "connect",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "CONNECT"
                    }, n));
                }
            }, {
                key: "head",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "HEAD"
                    }, n));
                }
            }, {
                key: "options",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "OPTIONS"
                    }, n));
                }
            }, {
                key: "trace",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.middleware(d({
                        url: e,
                        data: t,
                        method: "TRACE"
                    }, n));
                }
            }, {
                key: "upload",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return t.url = e, t.method = "UPLOAD", this.middleware(t);
                }
            }, {
                key: "download",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return t.url = e, t.method = "DOWNLOAD", this.middleware(t);
                }
            } ]), e;
        }();
        t.default = g;
    },
    "0fc0": function(e, t, n) {
        (function(e) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.callPhone = l, t.checkVersion = m, t.default = void 0, t.gotoOptometryMall = h, 
            t.gotoZoostalk = g, t.isLogin = p, t.toLogin = d;
            var r = n("d3da"), o = n("c9c2"), i = (n("3261"), function(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }(n("e884")));
            function a(e) {
                return (a = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            function s() {
                s = function() {
                    return e;
                };
                var e = {}, t = Object.prototype, n = t.hasOwnProperty, r = "function" == typeof Symbol ? Symbol : {}, o = r.iterator || "@@iterator", i = r.asyncIterator || "@@asyncIterator", c = r.toStringTag || "@@toStringTag";
                function u(e, t, n) {
                    return Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }), e[t];
                }
                try {
                    u({}, "");
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    u = function(e, t, n) {
                        return e[t] = n;
                    };
                }
                function l(e, t, n, r) {
                    var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = "suspendedStart";
                        return function(o, i) {
                            if ("executing" === r) throw new Error("Generator is already running");
                            if ("completed" === r) {
                                if ("throw" === o) throw i;
                                return {
                                    value: void 0,
                                    done: !0
                                };
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = S(a, n);
                                    if (s) {
                                        if (s === f) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if ("suspendedStart" === r) throw r = "completed", n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = "executing";
                                var c = d(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function d(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                e.wrap = l;
                var f = {};
                function p() {}
                function m() {}
                function g() {}
                var h = {};
                u(h, o, function() {
                    return this;
                });
                var y = Object.getPrototypeOf, v = y && y(y(A([])));
                v && v !== t && n.call(v, o) && (h = v);
                var b = g.prototype = p.prototype = Object.create(h);
                function T(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        u(e, t, function(e) {
                            return this._invoke(t, e);
                        });
                    });
                }
                function _(e, t) {
                    function r(o, i, s, c) {
                        var u = d(e[o], e, i);
                        if ("throw" !== u.type) {
                            var l = u.arg, f = l.value;
                            return f && "object" == a(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                                r("next", e, s, c);
                            }, function(e) {
                                r("throw", e, s, c);
                            }) : t.resolve(f).then(function(e) {
                                l.value = e, s(l);
                            }, function(e) {
                                return r("throw", e, s, c);
                            });
                        }
                        c(u.arg);
                    }
                    var o;
                    this._invoke = function(e, n) {
                        function i() {
                            return new t(function(t, o) {
                                r(e, n, t, o);
                            });
                        }
                        return o = o ? o.then(i, i) : i();
                    };
                }
                function S(e, t) {
                    var n = e.iterator[t.method];
                    if (void 0 === n) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return f;
                    }
                    var r = d(n, e.iterator, t.arg);
                    if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                    f;
                    var o = r.arg;
                    return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, f);
                }
                function k(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function M(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function P(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(k, this), this.reset(!0);
                }
                function A(e) {
                    if (e) {
                        var t = e[o];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var r = -1, i = function t() {
                                for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = void 0, t.done = !0, t;
                            };
                            return i.next = i;
                        }
                    }
                    return {
                        next: w
                    };
                }
                function w() {
                    return {
                        value: void 0,
                        done: !0
                    };
                }
                return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
                e.isGeneratorFunction = function(e) {
                    var t = "function" == typeof e && e.constructor;
                    return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
                }, e.mark = function(e) {
                    return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                    e.prototype = Object.create(b), e;
                }, e.awrap = function(e) {
                    return {
                        __await: e
                    };
                }, T(_.prototype), u(_.prototype, i, function() {
                    return this;
                }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                    void 0 === i && (i = Promise);
                    var a = new _(l(t, n, r, o), i);
                    return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                        return e.done ? e.value : a.next();
                    });
                }, T(b), u(b, c, "Generator"), u(b, o, function() {
                    return this;
                }), u(b, "toString", function() {
                    return "[object Generator]";
                }), e.keys = function(e) {
                    var t = [];
                    for (var n in e) t.push(n);
                    return t.reverse(), function n() {
                        for (;t.length; ) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n;
                        }
                        return n.done = !0, n;
                    };
                }, e.values = A, P.prototype = {
                    constructor: P,
                    reset: function(e) {
                        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                        this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                        !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                    },
                    stop: function() {
                        this.done = !0;
                        var e = this.tryEntries[0].completion;
                        if ("throw" === e.type) throw e.arg;
                        return this.rval;
                    },
                    dispatchException: function(e) {
                        if (this.done) throw e;
                        var t = this;
                        function r(n, r) {
                            return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                            !!r;
                        }
                        for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                            var i = this.tryEntries[o], a = i.completion;
                            if ("root" === i.tryLoc) return r("end");
                            if (i.tryLoc <= this.prev) {
                                var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                                if (s && c) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                } else if (s) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                } else {
                                    if (!c) throw new Error("try statement without catch or finally");
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                }
                            }
                        }
                    },
                    abrupt: function(e, t) {
                        for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                            var o = this.tryEntries[r];
                            if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                                var i = o;
                                break;
                            }
                        }
                        i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                        var a = i ? i.completion : {};
                        return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                        f) : this.complete(a);
                    },
                    complete: function(e, t) {
                        if ("throw" === e.type) throw e.arg;
                        return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                        this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                        f;
                    },
                    finish: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                        }
                    },
                    catch: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.tryLoc === e) {
                                var r = n.completion;
                                if ("throw" === r.type) {
                                    var o = r.arg;
                                    M(n);
                                }
                                return o;
                            }
                        }
                        throw new Error("illegal catch attempt");
                    },
                    delegateYield: function(e, t, n) {
                        return this.delegate = {
                            iterator: A(e),
                            resultName: t,
                            nextLoc: n
                        }, "next" === this.method && (this.arg = void 0), f;
                    }
                }, e;
            }
            function c(e, t, n, r, o, i, a) {
                try {
                    var s = e[i](a), c = s.value;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return void n(e);
                }
                s.done ? t(c) : Promise.resolve(c).then(r, o);
            }
            function u(e) {
                return function() {
                    var t = this, n = arguments;
                    return new Promise(function(r, o) {
                        var i = e.apply(t, n);
                        function a(e) {
                            c(i, r, o, a, s, "next", e);
                        }
                        function s(e) {
                            c(i, r, o, a, s, "throw", e);
                        }
                        a(void 0);
                    });
                };
            }
            function l(t) {
                (0, r.showModal)({
                    title: "客服电话",
                    content: t,
                    confirmText: "拨打电话",
                    confirmColor: "#00C6AE",
                    cancelText: "取消",
                    cancelColor: "#858585",
                    success: function() {
                        e.makePhoneCall({
                            phoneNumber: t
                        });
                    }
                });
            }
            function d() {
                return f.apply(this, arguments);
            }
            function f() {
                return (f = u(s().mark(function e() {
                    var t, n, r, i = arguments;
                    return s().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            (i.length > 0 && void 0 !== i[0] ? i[0] : "") || (null === (t = o.router.$route) || void 0 === t || null === (n = t.history) || void 0 === n || null === (r = n.current) || void 0 === r ? void 0 : r.fullPath) || "", 
                            o.router.push({
                                path: "/pages/person/login/index"
                            });

                          case 3:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }))).apply(this, arguments);
            }
            function p() {
                return !!i.default.state.user.accessToken;
            }
            function m() {
                var t = e.getUpdateManager();
                t.onCheckForUpdate(function(e) {
                    e.hasUpdate && t.onUpdateReady(function() {
                        (0, r.showModal)({
                            title: "更新提示",
                            content: "检测到版本有更新，请立即更新。",
                            success: function(e) {
                                t.applyUpdate();
                            }
                        });
                    });
                }), t.onUpdateFailed(function() {
                    (0, r.showModal)({
                        title: "更新提示",
                        content: "网络异常，更新失败，请稍后再试。"
                    });
                });
            }
            function g() {
                o.router.push({
                    path: "/pages/zoos/zoostalk/index",
                    query: {}
                });
            }
            function h() {
                e.navigateToMiniProgram({
                    appId: "wxbd7cd985cba3b6ba",
                    success: function(e) {}
                });
            }
            var y = {
                callPhone: l,
                toLogin: d,
                isLogin: p,
                checkVersion: m,
                gotoZoostalk: g,
                gotoOptometryMall: h
            };
            t.default = y;
        }).call(this, n("543d").default);
    },
    "100e": function(e, t, n) {
        var r = n("cd9d"), o = n("2286"), i = n("c1c9");
        e.exports = function(e, t) {
            return i(o(e, t, r), e + "");
        };
    },
    "10c9": function(e, t, n) {
        (function(e, n) {
            var r, o, i, a;
            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            self, a = function() {
                return t = {
                    779: function(e, t, n) {
                        var r = n(173);
                        e.exports = function e(t, n, o) {
                            return r(n) || (o = n || o, n = []), o = o || {}, t instanceof RegExp ? function(e, t) {
                                var n = e.source.match(/\((?!\?)/g);
                                if (n) for (var r = 0; r < n.length; r++) t.push({
                                    name: r,
                                    prefix: null,
                                    delimiter: null,
                                    optional: !1,
                                    repeat: !1,
                                    partial: !1,
                                    asterisk: !1,
                                    pattern: null
                                });
                                return d(e, t);
                            }(t, n) : r(t) ? function(t, n, r) {
                                for (var o = [], i = 0; i < t.length; i++) o.push(e(t[i], n, r).source);
                                return d(new RegExp("(?:" + o.join("|") + ")", f(r)), n);
                            }(t, n, o) : function(e, t, n) {
                                return p(i(e, n), t, n);
                            }(t, n, o);
                        }, e.exports.parse = i, e.exports.compile = function(e, t) {
                            return c(i(e, t), t);
                        }, e.exports.tokensToFunction = c, e.exports.tokensToRegExp = p;
                        var o = new RegExp([ "(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))" ].join("|"), "g");
                        function i(e, t) {
                            for (var n, r = [], i = 0, a = 0, s = "", c = t && t.delimiter || "/"; null != (n = o.exec(e)); ) {
                                var d = n[0], f = n[1], p = n.index;
                                if (s += e.slice(a, p), a = p + d.length, f) s += f[1]; else {
                                    var m = e[a], g = n[2], h = n[3], y = n[4], v = n[5], b = n[6], T = n[7];
                                    s && (r.push(s), s = "");
                                    var _ = null != g && null != m && m !== g, S = "+" === b || "*" === b, k = "?" === b || "*" === b, M = n[2] || c, P = y || v;
                                    r.push({
                                        name: h || i++,
                                        prefix: g || "",
                                        delimiter: M,
                                        optional: k,
                                        repeat: S,
                                        partial: _,
                                        asterisk: !!T,
                                        pattern: P ? l(P) : T ? ".*" : "[^" + u(M) + "]+?"
                                    });
                                }
                            }
                            return a < e.length && (s += e.substr(a)), s && r.push(s), r;
                        }
                        function a(e) {
                            return encodeURI(e).replace(/[\/?#]/g, function(e) {
                                return "%" + e.charCodeAt(0).toString(16).toUpperCase();
                            });
                        }
                        function c(e, t) {
                            for (var n = new Array(e.length), o = 0; o < e.length; o++) "object" == s(e[o]) && (n[o] = new RegExp("^(?:" + e[o].pattern + ")$", f(t)));
                            return function(t, o) {
                                for (var i = "", s = t || {}, c = (o || {}).pretty ? a : encodeURIComponent, u = 0; u < e.length; u++) {
                                    var l = e[u];
                                    if ("string" != typeof l) {
                                        var d, f = s[l.name];
                                        if (null == f) {
                                            if (l.optional) {
                                                l.partial && (i += l.prefix);
                                                continue;
                                            }
                                            throw new TypeError('Expected "' + l.name + '" to be defined');
                                        }
                                        if (r(f)) {
                                            if (!l.repeat) throw new TypeError('Expected "' + l.name + '" to not repeat, but received `' + JSON.stringify(f) + "`");
                                            if (0 === f.length) {
                                                if (l.optional) continue;
                                                throw new TypeError('Expected "' + l.name + '" to not be empty');
                                            }
                                            for (var p = 0; p < f.length; p++) {
                                                if (d = c(f[p]), !n[u].test(d)) throw new TypeError('Expected all "' + l.name + '" to match "' + l.pattern + '", but received `' + JSON.stringify(d) + "`");
                                                i += (0 === p ? l.prefix : l.delimiter) + d;
                                            }
                                        } else {
                                            if (d = l.asterisk ? encodeURI(f).replace(/[?#]/g, function(e) {
                                                return "%" + e.charCodeAt(0).toString(16).toUpperCase();
                                            }) : c(f), !n[u].test(d)) throw new TypeError('Expected "' + l.name + '" to match "' + l.pattern + '", but received "' + d + '"');
                                            i += l.prefix + d;
                                        }
                                    } else i += l;
                                }
                                return i;
                            };
                        }
                        function u(e) {
                            return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1");
                        }
                        function l(e) {
                            return e.replace(/([=!:$\/()])/g, "\\$1");
                        }
                        function d(e, t) {
                            return e.keys = t, e;
                        }
                        function f(e) {
                            return e && e.sensitive ? "" : "i";
                        }
                        function p(e, t, n) {
                            r(t) || (n = t || n, t = []);
                            for (var o = (n = n || {}).strict, i = !1 !== n.end, a = "", s = 0; s < e.length; s++) {
                                var c = e[s];
                                if ("string" == typeof c) a += u(c); else {
                                    var l = u(c.prefix), p = "(?:" + c.pattern + ")";
                                    t.push(c), c.repeat && (p += "(?:" + l + p + ")*"), a += p = c.optional ? c.partial ? l + "(" + p + ")?" : "(?:" + l + "(" + p + "))?" : l + "(" + p + ")";
                                }
                            }
                            var m = u(n.delimiter || "/"), g = a.slice(-m.length) === m;
                            return o || (a = (g ? a.slice(0, -m.length) : a) + "(?:" + m + "(?=$))?"), a += i ? "$" : o && g ? "" : "(?=" + m + "|$)", 
                            d(new RegExp("^" + a, f(n)), t);
                        }
                    },
                    173: function(e) {
                        e.exports = Array.isArray || function(e) {
                            return "[object Array]" == Object.prototype.toString.call(e);
                        };
                    },
                    844: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.buildVueRouter = t.buildVueRoutes = void 0;
                        var o = n(366), i = n(883), a = n(789), s = n(169);
                        t.buildVueRoutes = function(e, t) {
                            for (var n = e.routesMap, r = n.pathMap, c = n.finallyPathList, u = Object.keys(t), l = 0; l < u.length; l++) {
                                var d = u[l], f = r[d], p = t[d];
                                if (f) {
                                    var m = a.getRoutePath(f, e).finallyPath;
                                    if (m instanceof Array) throw new Error("非 vueRouterDev 模式下，alias、aliasPath、path 无法提供数组类型！ " + JSON.stringify(f));
                                    null != f.name && (p.name = f.name);
                                    var g = p.path, h = p.alias;
                                    delete p.alias, p.path = m, "/" === g && null != h && (p.alias = h, p.path = g), 
                                    f.beforeEnter && (p.beforeEnter = function(t, n, r) {
                                        s.onTriggerEachHook(t, n, e, o.hookToggle.enterHooks, r);
                                    });
                                } else i.warn(d + " 路由地址在路由表中未找到，确定是否传递漏啦", e, !0);
                            }
                            return c.includes("*") && (t["*"] = r["*"]), t;
                        }, t.buildVueRouter = function(e, t, n) {
                            var o;
                            o = "[object Array]" === a.getDataType(n) ? n : Object.values(n);
                            var i = e.options.h5, s = i.scrollBehavior, c = i.fallback, u = t.options.scrollBehavior;
                            t.options.scrollBehavior = function(e, t, n) {
                                return u && u(e, t, n), s(e, t, n);
                            }, t.fallback = c;
                            var l = new t.constructor(r(r({}, e.options.h5), {
                                base: t.options.base,
                                mode: t.options.mode,
                                routes: o
                            }));
                            t.matcher = l.matcher;
                        };
                    },
                    147: function(e, t) {
                        var n, r = this && this.__extends || (n = function(e, t) {
                            return (n = Object.setPrototypeOf || {
                                __proto__: []
                            } instanceof Array && function(e, t) {
                                e.__proto__ = t;
                            } || function(e, t) {
                                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                            })(e, t);
                        }, function(e, t) {
                            function r() {
                                this.constructor = e;
                            }
                            n(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, 
                            new r());
                        });
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.proxyH5Mount = t.proxyEachHook = t.MyArray = void 0;
                        var o = function(e) {
                            function t(n, r, o, i) {
                                var a = e.call(this) || this;
                                return a.router = n, a.vueEachArray = r, a.myEachHook = o, a.hookName = i, Object.setPrototypeOf(a, t.prototype), 
                                a;
                            }
                            return r(t, e), t.prototype.push = function(e) {
                                var t = this;
                                this.vueEachArray.push(e);
                                var n = this.length;
                                this[this.length] = function(e, r, o) {
                                    n > 0 ? t.vueEachArray[n](e, r, function() {
                                        o && o();
                                    }) : t.myEachHook(e, r, function(i) {
                                        !1 === i ? o(!1) : t.vueEachArray[n](e, r, function(e) {
                                            o(i);
                                        });
                                    }, t.router, !0);
                                };
                            }, t;
                        }(Array);
                        t.MyArray = o, t.proxyEachHook = function(e, t) {
                            for (var n = [ "beforeHooks", "afterHooks" ], r = 0; r < n.length; r++) {
                                var i = n[r], a = e.lifeCycle[i][0];
                                if (a) {
                                    var s = t[i];
                                    t[i] = new o(e, s, a, i);
                                }
                            }
                        }, t.proxyH5Mount = function(e) {
                            var t;
                            if (0 === e.mount.length) {
                                if (null === (t = e.options.h5) || void 0 === t ? void 0 : t.vueRouterDev) return;
                                navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) && setTimeout(function() {
                                    if (document.getElementsByTagName("uni-page").length > 0) return !1;
                                    window.location.reload();
                                }, 0);
                            } else e.mount[0].app.$mount(), e.mount = [];
                        };
                    },
                    814: function(t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        };
                        Object.defineProperty(n, "__esModule", {
                            value: !0
                        }), n.tabIndexSelect = n.runtimeQuit = n.registerLoddingPage = void 0;
                        var o = null, i = null;
                        n.registerLoddingPage = function(e) {
                            if (e.options.registerLoadingPage) {
                                var t = e.options.APP, n = t.loadingPageHook, o = t.loadingPageStyle;
                                n(new plus.nativeObj.View("router-loadding", r({
                                    top: "0px",
                                    left: "0px",
                                    height: "100%",
                                    width: "100%"
                                }, o())));
                            }
                        }, n.runtimeQuit = function(t) {
                            void 0 === t && (t = "再按一次退出应用");
                            var n = +new Date();
                            o ? n - o < 1e3 && plus.runtime.quit() : (o = n, e.showToast({
                                title: t,
                                icon: "none",
                                position: "bottom",
                                duration: 1e3
                            }), setTimeout(function() {
                                o = null;
                            }, 1e3));
                        }, n.tabIndexSelect = function(t, n) {
                            if (!__uniConfig.tabBar || !Array.isArray(__uniConfig.tabBar.list)) return !1;
                            for (var r = __uniConfig.tabBar.list, o = [], a = 0, s = 0; s < r.length; s++) {
                                var c = r[s];
                                if ("/" + c.pagePath !== t.path && "/" + c.pagePath !== n.path || (c.pagePath === n.path && (a = s), 
                                o.push(c)), 2 === o.length) break;
                            }
                            return 2 === o.length && (null == i && (i = e.requireNativePlugin("uni-tabview")), 
                            i.switchSelect({
                                index: a
                            }), !0);
                        };
                    },
                    334: function(e, t) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.getEnterPath = void 0, t.getEnterPath = function(e, t) {
                            switch (t.options.platform) {
                              case "mp-alipay":
                              case "mp-weixin":
                              case "mp-toutiao":
                              case "mp-qq":
                                return e.$options.mpInstance.route;

                              case "mp-baidu":
                                return e.$options.mpInstance.is || e.$options.mpInstance.pageinstance.route;
                            }
                            return e.$options.mpInstance.route;
                        };
                    },
                    282: function(e, t, n) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.proxyHookName = t.proxyHookDeps = t.lifeCycle = t.baseConfig = t.mpPlatformReg = void 0;
                        var r = n(883);
                        t.mpPlatformReg = "(^mp-weixin$)|(^mp-baidu$)|(^mp-alipay$)|(^mp-toutiao$)|(^mp-qq$)|(^mp-360$)", 
                        t.baseConfig = {
                            h5: {
                                paramsToQuery: !1,
                                vueRouterDev: !1,
                                vueNext: !1,
                                mode: "hash",
                                base: "/",
                                linkActiveClass: "router-link-active",
                                linkExactActiveClass: "router-link-exact-active",
                                scrollBehavior: function(e, t, n) {
                                    return {
                                        x: 0,
                                        y: 0
                                    };
                                },
                                fallback: !0
                            },
                            APP: {
                                registerLoadingPage: !0,
                                loadingPageStyle: function() {
                                    return JSON.parse('{"backgroundColor":"#FFF"}');
                                },
                                loadingPageHook: function(e) {
                                    e.show();
                                },
                                launchedHook: function() {
                                    plus.navigator.closeSplashscreen();
                                },
                                animation: {}
                            },
                            applet: {
                                animationDuration: 300
                            },
                            platform: "h5",
                            keepUniOriginNav: !1,
                            debugger: !1,
                            routerBeforeEach: function(e, t, n) {
                                n();
                            },
                            routerAfterEach: function(e, t) {},
                            routerErrorEach: function(e, t) {
                                t.$lockStatus = !1, r.err(e, t, !0);
                            },
                            detectBeforeLock: function(e, t, n) {},
                            routes: [ {
                                path: "/choose-location"
                            }, {
                                path: "/open-location"
                            }, {
                                path: "/preview-image"
                            } ]
                        }, t.lifeCycle = {
                            beforeHooks: [],
                            afterHooks: [],
                            routerBeforeHooks: [],
                            routerAfterHooks: [],
                            routerErrorHooks: []
                        }, t.proxyHookDeps = {
                            resetIndex: [],
                            hooks: {},
                            options: {}
                        }, t.proxyHookName = [ "onLaunch", "onShow", "onHide", "onError", "onInit", "onLoad", "onReady", "onUnload", "onResize", "created", "beforeMount", "mounted", "beforeDestroy", "destroyed" ];
                    },
                    801: function(e, t, n) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.createRouteMap = void 0;
                        var r = n(883), o = n(789);
                        t.createRouteMap = function(e, t) {
                            var n = {
                                finallyPathList: [],
                                finallyPathMap: Object.create(null),
                                aliasPathMap: Object.create(null),
                                pathMap: Object.create(null),
                                vueRouteMap: Object.create(null),
                                nameMap: Object.create(null)
                            };
                            return t.forEach(function(t) {
                                var i = o.getRoutePath(t, e), a = i.finallyPath, s = i.aliasPath, c = i.path;
                                if (null == c) throw new Error("请提供一个完整的路由对象，包括以绝对路径开始的 ‘path’ 字符串 " + JSON.stringify(t));
                                if (a instanceof Array && !e.options.h5.vueRouterDev && "h5" === e.options.platform) throw new Error("非 vueRouterDev 模式下，route.alias 目前无法提供数组类型！ " + JSON.stringify(t));
                                var u = a, l = s;
                                "h5" !== e.options.platform && 0 !== u.indexOf("/") && "*" !== c && r.warn("当前路由对象下，route：" + JSON.stringify(t) + " 是否缺少了前缀 ‘/’", e, !0), 
                                n.finallyPathMap[u] || (n.finallyPathMap[u] = t, n.aliasPathMap[l] = t, n.pathMap[c] = t, 
                                n.finallyPathList.push(u), null != t.name && (n.nameMap[t.name] = t));
                            }), n;
                        };
                    },
                    662: function(e, t, n) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.registerEachHooks = t.registerRouterHooks = t.registerHook = void 0;
                        var r = n(366), o = n(169);
                        function i(e, t) {
                            e[0] = t;
                        }
                        t.registerHook = i, t.registerRouterHooks = function(e, t) {
                            return i(e.routerBeforeHooks, function(e, n, r) {
                                t.routerBeforeEach(e, n, r);
                            }), i(e.routerAfterHooks, function(e, n) {
                                t.routerAfterEach(e, n);
                            }), i(e.routerErrorHooks, function(e, n) {
                                t.routerErrorEach(e, n);
                            }), e;
                        }, t.registerEachHooks = function(e, t, n) {
                            i(e.lifeCycle[t], function(e, i, a, s, c) {
                                c ? o.onTriggerEachHook(e, i, s, r.hookToggle[t], a) : n(e, i, a);
                            });
                        };
                    },
                    460: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.initMixins = t.getMixins = void 0;
                        var o = n(801), i = n(844), a = n(147), s = n(814), c = n(845), u = n(890), l = n(789), d = n(334), f = n(282), p = !1, m = !1, g = {
                            app: !1,
                            page: ""
                        };
                        function h(e, t) {
                            var n = t.options.platform;
                            return new RegExp(f.mpPlatformReg, "g").test(n) && (n = "app-lets"), {
                                h5: {
                                    beforeCreate: function() {
                                        var e;
                                        if (this.$options.router) {
                                            t.$route = this.$options.router;
                                            var n = [];
                                            (null === (e = t.options.h5) || void 0 === e ? void 0 : e.vueRouterDev) ? n = t.options.routes : (n = o.createRouteMap(t, this.$options.router.options.routes).finallyPathMap, 
                                            t.routesMap.vueRouteMap = n, i.buildVueRoutes(t, n)), i.buildVueRouter(t, this.$options.router, n), 
                                            a.proxyEachHook(t, this.$options.router);
                                        }
                                    }
                                },
                                "app-plus": {
                                    beforeCreate: function() {
                                        p || (p = !0, c.proxyPageHook(this, t, "app"), s.registerLoddingPage(t));
                                    }
                                },
                                "app-lets": {
                                    beforeCreate: function() {
                                        l.voidFun("UNI-SIMPLE-ROUTER");
                                        var e = !0, n = this.$options.mpType;
                                        m || ("component" === n ? e = l.assertParentChild(g.page, this) : "page" === n ? (g[n] = d.getEnterPath(this, t), 
                                        t.enterPath = g[n]) : g[n] = !0, e && c.proxyPageHook(this, t, n));
                                    },
                                    onLoad: function() {
                                        l.voidFun("UNI-SIMPLE-ROUTER"), !m && l.assertParentChild(g.page, this) && (m = !0, 
                                        u.forceGuardEach(t));
                                    }
                                }
                            }[n];
                        }
                        t.getMixins = h, t.initMixins = function(e, t) {
                            var n = o.createRouteMap(t, t.options.routes);
                            t.routesMap = n, e.mixin(r({}, h(0, t)));
                        };
                    },
                    789: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        }, o = this && this.__rest || function(e, t) {
                            var n = {};
                            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var o = 0;
                                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
                            }
                            return n;
                        }, i = this && this.__spreadArrays || function() {
                            for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
                            var r = Array(e), o = 0;
                            for (t = 0; t < n; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
                            o++) r[o] = i[a];
                            return r;
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.deepDecodeQuery = t.resolveAbsolutePath = t.assertParentChild = t.lockDetectWarn = t.deepClone = t.baseClone = t.assertDeepObject = t.paramsToQuery = t.forMatNextToFrom = t.urlToJson = t.getUniCachePage = t.copyData = t.getDataType = t.routesForMapRoute = t.notRouteTo404 = t.getWildcardRule = t.assertNewOptions = t.getRoutePath = t.notDeepClearNull = t.mergeConfig = t.timeOut = t.def = t.voidFun = void 0;
                        var a = n(282), c = n(169), u = n(883), l = n(890), d = n(779);
                        function f(e, t) {
                            for (var n = Object.create(null), o = Object.keys(e).concat([ "resolveQuery", "parseQuery" ]), a = 0; a < o.length; a += 1) {
                                var s = o[a];
                                null != t[s] ? t[s].constructor === Object ? n[s] = r(r({}, e[s]), t[s]) : n[s] = "routes" === s ? i(e[s], t[s]) : t[s] : n[s] = e[s];
                            }
                            return n;
                        }
                        function p(e, t) {
                            var n = e.aliasPath || e.alias || e.path;
                            return "h5" !== t.options.platform && (n = e.path), {
                                finallyPath: n,
                                aliasPath: e.aliasPath || e.path,
                                path: e.path,
                                alias: e.alias
                            };
                        }
                        function m(e, t) {
                            var n = e.routesMap.finallyPathMap["*"];
                            if (n) return n;
                            throw t && c.ERRORHOOK[0](t, e), new Error("当前路由表匹配规则已全部匹配完成，未找到满足的匹配规则。你可以使用 '*' 通配符捕捉最后的异常");
                        }
                        function g(e) {
                            return Object.prototype.toString.call(e);
                        }
                        function h(e, t) {
                            if (null == e) t = e; else for (var n = 0, r = Object.keys(e); n < r.length; n++) {
                                var o = r[n], i = o;
                                e[o] !== e && ("object" == s(e[o]) ? (t[i] = "[object Array]" === g(e[o]) ? [] : {}, 
                                t[i] = h(e[o], t[i])) : t[i] = e[o]);
                            }
                            return t;
                        }
                        function y(e) {
                            var t = "[object Array]" === g(e) ? [] : {};
                            return h(e, t), t;
                        }
                        t.voidFun = function() {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                        }, t.def = function(e, t, n) {
                            Object.defineProperty(e, t, {
                                get: function() {
                                    return n();
                                }
                            });
                        }, t.timeOut = function(e) {
                            return new Promise(function(t) {
                                setTimeout(function() {
                                    t();
                                }, e);
                            });
                        }, t.mergeConfig = f, t.notDeepClearNull = function(e) {
                            for (var t in e) null == e[t] && delete e[t];
                            return e;
                        }, t.getRoutePath = p, t.assertNewOptions = function(e) {
                            var t, n = e.platform, r = e.routes;
                            if (null == n) throw new Error("你在实例化路由时必须传递 'platform'");
                            if (null == r || 0 === r.length) throw new Error("你在实例化路由时必须传递 routes 为空，这是无意义的。");
                            return "h5" === e.platform && (null === (t = e.h5) || void 0 === t ? void 0 : t.vueRouterDev) && (a.baseConfig.routes = []), 
                            f(a.baseConfig, e);
                        }, t.getWildcardRule = m, t.notRouteTo404 = function(e, t, n, r) {
                            if ("*" !== t.path) return t;
                            var o = t.redirect;
                            if (void 0 === o) throw new Error(" *  通配符必须配合 redirect 使用。redirect: string | Location | Function");
                            var i = o;
                            return "function" == typeof i && (i = i(n)), l.navjump(i, e, r, void 0, void 0, void 0, !1);
                        }, t.routesForMapRoute = function e(t, n, r, o) {
                            var i;
                            if (void 0 === o && (o = !1), null === (i = t.options.h5) || void 0 === i ? void 0 : i.vueRouterDev) return {
                                path: n
                            };
                            for (var a = n.split("?")[0], s = "", c = t.routesMap, u = 0; u < r.length; u++) for (var l = c[r[u]], f = 0, p = Object.entries(l); f < p.length; f++) {
                                var h = p[f], y = h[0], v = h[1];
                                if ("*" !== y) {
                                    var b = v, T = y;
                                    if ("[object Array]" === g(l) && (T = b), null != d(T).exec(a)) return "[object String]" === g(b) ? c.finallyPathMap[b] : b;
                                } else "" === s && (s = "*");
                            }
                            if (o) return {};
                            if (c.aliasPathMap) {
                                var _ = e(t, n, [ "aliasPathMap" ], !0);
                                if (Object.keys(_).length > 0) return _;
                            }
                            if ("" !== s) return m(t);
                            throw new Error(n + " 路径无法在路由表中找到！检查跳转路径及路由表");
                        }, t.getDataType = g, t.copyData = function(e) {
                            return JSON.parse(JSON.stringify(e));
                        }, t.getUniCachePage = function(e) {
                            var t = getCurrentPages();
                            if (null == e) return t;
                            if (0 === t.length) return t;
                            var n = t.reverse()[e];
                            return null == n ? [] : n;
                        }, t.urlToJson = function(e) {
                            var t = {}, n = e.split("?"), r = n[0], o = n[1];
                            if (null != o) for (var i = 0, a = o.split("&"); i < a.length; i++) {
                                var s = a[i].split("=");
                                t[s[0]] = s[1];
                            }
                            return {
                                path: r,
                                query: t
                            };
                        }, t.forMatNextToFrom = function(e, t, n) {
                            var r = [ t, n ], o = r[0], i = r[1];
                            if ("h5" === e.options.platform) {
                                var a = e.options.h5, s = a.vueNext, c = a.vueRouterDev;
                                s || c || (o = l.createRoute(e, void 0, o), i = l.createRoute(e, void 0, i));
                            } else o = l.createRoute(e, void 0, y(o)), i = l.createRoute(e, void 0, y(i));
                            return {
                                matTo: o,
                                matFrom: i
                            };
                        }, t.paramsToQuery = function(e, t) {
                            var n;
                            if ("h5" === e.options.platform && !(null === (n = e.options.h5) || void 0 === n ? void 0 : n.paramsToQuery)) return t;
                            if ("[object Object]" === g(t)) {
                                var i = t, a = i.name, s = i.params, u = o(i, [ "name", "params" ]), l = s;
                                if ("h5" !== e.options.platform && null == l && (l = {}), null != a && null != l) {
                                    var d = e.routesMap.nameMap[a];
                                    null == d && (d = m(e, {
                                        type: 2,
                                        msg: "命名路由为：" + a + " 的路由，无法在路由表中找到！",
                                        toRule: t
                                    }));
                                    var f = p(d, e).finallyPath;
                                    if (!f.includes(":")) return r(r({}, u), {
                                        path: f,
                                        query: l
                                    });
                                    c.ERRORHOOK[0]({
                                        type: 2,
                                        msg: "动态路由：" + f + " 无法使用 paramsToQuery！",
                                        toRule: t
                                    }, e);
                                }
                            }
                            return t;
                        }, t.assertDeepObject = function(e) {
                            var t = null;
                            try {
                                t = JSON.stringify(e).match(/\{|\[|\}|\]/g);
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                u.warnLock("传递的参数解析对象失败。" + e);
                            }
                            return null != t && t.length > 3;
                        }, t.baseClone = h, t.deepClone = y, t.lockDetectWarn = function(e, t, n, r, o, i) {
                            if (void 0 === o && (o = {}), "afterHooks" === i) r(); else {
                                var a = e.options.detectBeforeLock;
                                a && a(e, t, n), e.$lockStatus ? e.options.routerErrorEach({
                                    type: 2,
                                    msg: "当前页面正在处于跳转状态，请稍后再进行跳转....",
                                    NAVTYPE: n,
                                    uniActualData: o
                                }, e) : r();
                            }
                        }, t.assertParentChild = function(e, t) {
                            for (;null != t.$parent; ) {
                                var n = t.$parent.$mp;
                                if (n.page && n.page.is === e) return !0;
                                t = t.$parent;
                            }
                            try {
                                if (t.$mp.page.is === e || t.$mp.page.route === e) return !0;
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                return !1;
                            }
                            return !1;
                        }, t.resolveAbsolutePath = function(e, t) {
                            var n = /^\/?([^\?\s]+)(\?.+)?$/, r = e.trim();
                            if (!n.test(r)) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10001)。");
                            var o = r.match(n);
                            if (null == o) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10002)。");
                            var i = o[2] || "";
                            if (/^\.\/[^\.]+/.test(r)) return (t.currentRoute.path + e).replace(/[^\/]+\.\//, "");
                            var a = o[1].replace(/\//g, "\\/").replace(/\.\./g, "[^\\/]+").replace(/\./g, "\\."), s = new RegExp("^\\/" + a + "$"), c = t.options.routes.filter(function(e) {
                                return s.test(e.path);
                            });
                            if (1 !== c.length) throw new Error("【" + e + "】 路径错误，尝试转成绝对路径失败，请手动转成绝对路径(10003)。");
                            return c[0].path + i;
                        }, t.deepDecodeQuery = function e(t) {
                            for (var n = "[object Array]" === g(t) ? [] : {}, r = Object.keys(t), o = 0; o < r.length; o++) {
                                var i = r[o], a = t[i];
                                if ("string" == typeof a) try {
                                    var c = JSON.parse(decodeURIComponent(a));
                                    "object" != s(c) && (c = a), n[i] = c;
                                } catch (e) {
                                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                    try {
                                        n[i] = decodeURIComponent(a);
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        n[i] = a;
                                    }
                                } else if ("object" == s(a)) {
                                    var u = e(a);
                                    n[i] = u;
                                } else n[i] = a;
                            }
                            return n;
                        };
                    },
                    883: function(e, t) {
                        function n(e, t, n, r) {
                            if (void 0 === r && (r = !1), !r) {
                                var o = "[object Object]" === t.toString();
                                if (!1 === t) return !1;
                                if (o && !1 === t[e]) return !1;
                            }
                            return console[e](n), !0;
                        }
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.warnLock = t.log = t.warn = t.err = t.isLog = void 0, t.isLog = n, t.err = function(e, t, r) {
                            n("error", t.options.debugger, e, r);
                        }, t.warn = function(e, t, r) {
                            n("warn", t.options.debugger, e, r);
                        }, t.log = function(e, t, r) {
                            n("log", t.options.debugger, e, r);
                        }, t.warnLock = function(e) {
                            console.warn(e);
                        };
                    },
                    607: function(e, t, n) {
                        var r = this && this.__createBinding || (Object.create ? function(e, t, n, r) {
                            void 0 === r && (r = n), Object.defineProperty(e, r, {
                                enumerable: !0,
                                get: function() {
                                    return t[n];
                                }
                            });
                        } : function(e, t, n, r) {
                            void 0 === r && (r = n), e[r] = t[n];
                        }), o = this && this.__exportStar || function(e, t) {
                            for (var n in e) "default" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.createRouter = t.RouterMount = t.runtimeQuit = void 0, o(n(366), t), o(n(309), t);
                        var i = n(814);
                        Object.defineProperty(t, "runtimeQuit", {
                            enumerable: !0,
                            get: function() {
                                return i.runtimeQuit;
                            }
                        });
                        var a = n(963);
                        Object.defineProperty(t, "RouterMount", {
                            enumerable: !0,
                            get: function() {
                                return a.RouterMount;
                            }
                        }), Object.defineProperty(t, "createRouter", {
                            enumerable: !0,
                            get: function() {
                                return a.createRouter;
                            }
                        });
                    },
                    366: function(e, t) {
                        var n, r, o;
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.rewriteMethodToggle = t.navtypeToggle = t.hookToggle = void 0, (o = t.hookToggle || (t.hookToggle = {})).beforeHooks = "beforeEach", 
                        o.afterHooks = "afterEach", o.enterHooks = "beforeEnter", (r = t.navtypeToggle || (t.navtypeToggle = {})).push = "navigateTo", 
                        r.replace = "redirectTo", r.replaceAll = "reLaunch", r.pushTab = "switchTab", r.back = "navigateBack", 
                        (n = t.rewriteMethodToggle || (t.rewriteMethodToggle = {})).navigateTo = "push", 
                        n.navigate = "push", n.redirectTo = "replace", n.reLaunch = "replaceAll", n.switchTab = "pushTab", 
                        n.navigateBack = "back";
                    },
                    309: function(e, t) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        });
                    },
                    169: function(e, t, n) {
                        var r = this && this.__rest || function(e, t) {
                            var n = {};
                            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var o = 0;
                                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
                            }
                            return n;
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.loopCallHook = t.transitionTo = t.onTriggerEachHook = t.callHook = t.callBeforeRouteLeave = t.HOOKLIST = t.ERRORHOOK = void 0;
                        var o = n(789), i = n(890), a = n(147), c = n(814);
                        function u(e, t, n, r) {
                            var i, a = o.getUniCachePage(0);
                            if (Object.keys(a).length > 0) {
                                var s = void 0;
                                switch ("h5" === e.options.platform ? s = a.$options.beforeRouteLeave : null != a.$vm && (s = a.$vm.$options.beforeRouteLeave), 
                                o.getDataType(s)) {
                                  case "[object Array]":
                                    i = (i = s[0]).bind(a);
                                    break;

                                  case "[object Function]":
                                    i = s.bind(a.$vm);
                                }
                            }
                            return l(i, t, n, e, r);
                        }
                        function l(e, t, n, r, o, i) {
                            void 0 === i && (i = !0), null != e && e instanceof Function ? !0 === i ? e(t, n, o, r, !1) : (e(t, n, function() {}, r, !1), 
                            o()) : o();
                        }
                        function d(e, t, n, r, i, a) {
                            var s = o.forMatNextToFrom(e, t, n), c = s.matTo, u = s.matFrom;
                            "h5" === e.options.platform ? f(i, 0, a, e, c, u, r) : f(i.slice(0, 4), 0, function() {
                                a(function() {
                                    f(i.slice(4), 0, o.voidFun, e, c, u, r);
                                });
                            }, e, c, u, r);
                        }
                        function f(e, n, a, u, l, d, p) {
                            var m = o.routesForMapRoute(u, l.path, [ "finallyPathMap", "pathMap" ]);
                            if (e.length - 1 < n) return a();
                            var g = e[n], h = t.ERRORHOOK[0];
                            g(u, l, d, m, function(t) {
                                if ("app-plus" === u.options.platform && (!1 !== t && "string" != typeof t && "object" != s(t) || c.tabIndexSelect(l, d)), 
                                !1 === t) "h5" === u.options.platform && a(!1), h({
                                    type: 0,
                                    msg: "管道函数传递 false 导航被终止!",
                                    matTo: l,
                                    matFrom: d,
                                    nextTo: t
                                }, u); else if ("string" == typeof t || "object" == s(t)) {
                                    var o = p, m = t;
                                    if ("object" == s(t)) {
                                        var g = t.NAVTYPE;
                                        m = r(t, [ "NAVTYPE" ]), null != g && (o = g);
                                    }
                                    i.navjump(m, u, o, {
                                        from: d,
                                        next: a
                                    });
                                } else null == t ? (n++, f(e, n, a, u, l, d, p)) : h({
                                    type: 1,
                                    msg: "管道函数传递未知类型，无法被识别。导航被终止！",
                                    matTo: l,
                                    matFrom: d,
                                    nextTo: t
                                }, u);
                            });
                        }
                        t.ERRORHOOK = [ function(e, t) {
                            return t.lifeCycle.routerErrorHooks[0](e, t);
                        } ], t.HOOKLIST = [ function(e, t, n, r, o) {
                            return l(e.lifeCycle.routerBeforeHooks[0], t, n, e, o);
                        }, function(e, t, n, r, o) {
                            return u(e, t, n, o);
                        }, function(e, t, n, r, o) {
                            return l(e.lifeCycle.beforeHooks[0], t, n, e, o);
                        }, function(e, t, n, r, o) {
                            return l(r.beforeEnter, t, n, e, o);
                        }, function(e, t, n, r, o) {
                            return l(e.lifeCycle.afterHooks[0], t, n, e, o, !1);
                        }, function(e, t, n, r, o) {
                            return e.$lockStatus = !1, "h5" === e.options.platform && a.proxyH5Mount(e), l(e.lifeCycle.routerAfterHooks[0], t, n, e, o, !1);
                        } ], t.callBeforeRouteLeave = u, t.callHook = l, t.onTriggerEachHook = function(e, n, r, o, i) {
                            var a = [];
                            switch (o) {
                              case "beforeEach":
                                a = t.HOOKLIST.slice(0, 3);
                                break;

                              case "afterEach":
                                a = t.HOOKLIST.slice(4);
                                break;

                              case "beforeEnter":
                                a = t.HOOKLIST.slice(3, 4);
                            }
                            d(r, e, n, "push", a, i);
                        }, t.transitionTo = d, t.loopCallHook = f;
                    },
                    890: function(t, n, r) {
                        var o = this && this.__assign || function() {
                            return (o = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        }, i = this && this.__rest || function(e, t) {
                            var n = {};
                            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var o = 0;
                                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
                            }
                            return n;
                        };
                        Object.defineProperty(n, "__esModule", {
                            value: !0
                        }), n.createRoute = n.forceGuardEach = n.backOptionsBuild = n.navjump = n.lockNavjump = void 0;
                        var a = r(366), s = r(99), c = r(789), u = r(169), l = r(845), d = r(169);
                        function f(e, t, n, r, o) {
                            c.lockDetectWarn(t, e, n, function() {
                                "h5" !== t.options.platform && (t.$lockStatus = !0), p(e, t, n, void 0, r, o);
                            }, o);
                        }
                        function p(t, n, r, i, f, p, g) {
                            if (void 0 === g && (g = !0), "back" === r) {
                                var h;
                                if (h = "string" == typeof t ? +t : t.delta || 1, "h5" === n.options.platform) {
                                    n.$route.go(-h);
                                    var y = (p || {
                                        success: c.voidFun
                                    }).success || c.voidFun, v = (p || {
                                        complete: c.voidFun
                                    }).complete || c.voidFun;
                                    return y({
                                        errMsg: "navigateBack:ok"
                                    }), void v({
                                        errMsg: "navigateBack:ok"
                                    });
                                }
                                t = m(n, h, p);
                            }
                            var b = s.queryPageToMap(t, n).rule;
                            b.type = a.navtypeToggle[r];
                            var T = c.paramsToQuery(n, b), _ = s.resolveQuery(T, n);
                            if ("h5" === n.options.platform) if ("push" !== r && (r = "replace"), null != i) i.next(o({
                                replace: "push" !== r
                            }, _)); else if ("push" === r && Reflect.has(_, "events")) {
                                if (Reflect.has(_, "name")) throw new Error("在h5端上使用 'push'、'navigateTo' 跳转时，如果包含 events 不允许使用 name 跳转，因为 name 实现了动态路由。请更换为 path 或者 url 跳转！");
                                e.navigateTo(_, !0, c.voidFun, f);
                            } else n.$route[r](_, _.success || c.voidFun, _.fail || c.voidFun); else {
                                var S = {
                                    path: ""
                                };
                                if (null == i) {
                                    var k = c.routesForMapRoute(n, _.path, [ "finallyPathMap", "pathMap" ]);
                                    k = c.notRouteTo404(n, k, _, r), _ = o(o(o(o({}, k), {
                                        params: {}
                                    }), _), {
                                        path: k.path
                                    }), S = l.createToFrom(_, n);
                                } else S = i.from;
                                if (l.createFullPath(_, S), !1 === g) return _;
                                u.transitionTo(n, _, S, r, d.HOOKLIST, function(t) {
                                    e[a.navtypeToggle[r]](_, !0, t, f);
                                });
                            }
                        }
                        function m(e, t, n) {
                            void 0 === n && (n = {});
                            var r = g(e, t, void 0, o({
                                NAVTYPE: "back"
                            }, n)), i = o(o({}, n), {
                                path: r.path,
                                query: r.query,
                                delta: t
                            });
                            if ("[object Object]" === c.getDataType(n)) {
                                var a = n, s = a.animationDuration, u = a.animationType;
                                null != s && (i.animationDuration = s), null != u && (i.animationType = u);
                                var l = n.from;
                                null != l && (i.BACKTYPE = l);
                            }
                            return i;
                        }
                        function g(e, t, n, r) {
                            void 0 === t && (t = 0), void 0 === r && (r = {});
                            var u = {
                                name: "",
                                meta: {},
                                path: "",
                                fullPath: "",
                                NAVTYPE: "",
                                query: {},
                                params: {},
                                BACKTYPE: (n || {
                                    BACKTYPE: ""
                                }).BACKTYPE || ""
                            };
                            if (19970806 === t) return u;
                            if ("h5" === e.options.platform) {
                                var l = {
                                    path: ""
                                };
                                l = null != n ? n : e.$route.currentRoute;
                                var d = c.copyData(l.params);
                                delete d.__id__;
                                var f = s.parseQuery(o(o({}, d), c.copyData(l.query)), e);
                                l = o(o({}, l), {
                                    query: f
                                }), u.path = l.path, u.fullPath = l.fullPath || "", u.query = c.deepDecodeQuery(l.query || {}), 
                                u.NAVTYPE = a.rewriteMethodToggle[l.type || "reLaunch"];
                            } else {
                                var p = {};
                                if (null != n) p = o(o({}, n), {
                                    openType: n.type
                                }); else {
                                    var m = c.getUniCachePage(t);
                                    if (0 === Object.keys(m).length) {
                                        var g = r.NAVTYPE, h = i(r, [ "NAVTYPE" ]), y = "不存在的页面栈，请确保有足够的页面可用，当前 level:" + t;
                                        throw e.options.routerErrorEach({
                                            type: 3,
                                            msg: y,
                                            NAVTYPE: g,
                                            level: t,
                                            uniActualData: h
                                        }, e), new Error(y);
                                    }
                                    var v = m.options || {};
                                    p = o(o({}, m.$page || {}), {
                                        query: c.deepDecodeQuery(v),
                                        fullPath: decodeURIComponent((m.$page || {}).fullPath || "/" + m.route)
                                    }), "app-plus" !== e.options.platform && (p.path = "/" + m.route);
                                }
                                var b = p.openType;
                                u.query = p.query, u.path = p.path, u.fullPath = p.fullPath, u.NAVTYPE = a.rewriteMethodToggle[b || "reLaunch"];
                            }
                            var T = c.routesForMapRoute(e, u.path, [ "finallyPathMap", "pathMap" ]), _ = o(o({}, u), T);
                            return _.query = s.parseQuery(_.query, e), _;
                        }
                        n.lockNavjump = f, n.navjump = p, n.backOptionsBuild = m, n.forceGuardEach = function(e, t, n) {
                            if (void 0 === t && (t = "replaceAll"), void 0 === n && (n = !1), "h5" === e.options.platform) throw new Error("在h5端上使用：forceGuardEach 是无意义的，目前 forceGuardEach 仅支持在非h5端上使用");
                            var r = c.getUniCachePage(0);
                            0 === Object.keys(r).length && e.options.routerErrorEach({
                                type: 3,
                                NAVTYPE: t,
                                uniActualData: {},
                                level: 0,
                                msg: "不存在的页面栈，请确保有足够的页面可用，当前 level:0"
                            }, e);
                            var o = r, i = o.route, a = o.options;
                            f({
                                path: "/" + i,
                                query: c.deepDecodeQuery(a || {})
                            }, e, t, n);
                        }, n.createRoute = g;
                    },
                    845: function(e, t, n) {
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.resetPageHook = t.resetAndCallPageHook = t.proxyPageHook = t.createFullPath = t.createToFrom = void 0;
                        var r = n(282), o = n(789), i = n(890), a = n(99);
                        function s(e) {
                            for (var t = e.proxyHookDeps, n = 0, r = Object.entries(t.hooks); n < r.length; n++) (0, 
                            r[n][1].resetHook)();
                        }
                        t.createToFrom = function(e, t) {
                            var n = o.getUniCachePage(0);
                            return "[object Array]" === o.getDataType(n) ? o.deepClone(e) : i.createRoute(t);
                        }, t.createFullPath = function(e, t) {
                            if (null == e.fullPath) {
                                var n = a.stringifyQuery(e.query);
                                e.fullPath = e.path + n;
                            }
                            null == t.fullPath && (n = a.stringifyQuery(t.query), t.fullPath = t.path + n);
                        }, t.proxyPageHook = function(e, t, n) {
                            for (var o = t.proxyHookDeps, i = e.$options, a = function(a) {
                                var s = r.proxyHookName[a], c = i[s];
                                if (c) for (var u = function(r) {
                                    if (c[r].toString().includes("UNI-SIMPLE-ROUTER")) return "continue";
                                    var i = Object.keys(o.hooks).length + 1, a = function() {
                                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                        o.resetIndex.push(i), o.options[i] = e;
                                    }, s = c.splice(r, 1, a)[0];
                                    o.hooks[i] = {
                                        proxyHook: a,
                                        callHook: function(r) {
                                            if (t.enterPath.replace(/^\//, "") === r.replace(/^\//, "") || "app" === n) {
                                                var a = o.options[i];
                                                s.apply(e, a);
                                            }
                                        },
                                        resetHook: function() {
                                            c.splice(r, 1, s);
                                        }
                                    };
                                }, l = 0; l < c.length; l++) u(l);
                            }, s = 0; s < r.proxyHookName.length; s++) a(s);
                        }, t.resetAndCallPageHook = function(e, t, n) {
                            void 0 === n && (n = !0);
                            var r = t.trim().match(/^(\/?[^\?\s]+)(\?[\s\S]*$)?$/);
                            if (null == r) throw new Error("还原hook失败。请检查 【" + t + "】 路径是否正确。");
                            t = r[1];
                            for (var o = e.proxyHookDeps, i = o.resetIndex, a = 0; a < i.length; a++) {
                                var c = i[a];
                                (0, o.hooks[c].callHook)(t);
                            }
                            n && s(e);
                        }, t.resetPageHook = s;
                    },
                    99: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.stringifyQuery = t.parseQuery = t.resolveQuery = t.queryPageToMap = void 0;
                        var o = n(789), i = n(169), a = n(883), c = /[!'()*]/g, u = function(e) {
                            return "%" + e.charCodeAt(0).toString(16);
                        }, l = /%2C/g, d = function(e) {
                            return encodeURIComponent(e).replace(c, u).replace(l, ",");
                        };
                        t.queryPageToMap = function(e, t) {
                            var n = {}, a = "", s = e.success, c = e.fail;
                            if ("[object Object]" === o.getDataType(e)) {
                                var u = e;
                                if (null != u.path) {
                                    var l = o.urlToJson(u.path), d = l.path, f = l.query;
                                    a = o.routesForMapRoute(t, d, [ "finallyPathList", "pathMap" ]), n = r(r({}, f), e.query || {}), 
                                    u.path = d, u.query = n, delete e.params;
                                } else null != u.name ? null == (a = t.routesMap.nameMap[u.name]) ? a = o.getWildcardRule(t, {
                                    type: 2,
                                    msg: "命名路由为：" + u.name + " 的路由，无法在路由表中找到！",
                                    toRule: e
                                }) : (n = e.params || {}, delete e.query) : a = o.getWildcardRule(t, {
                                    type: 2,
                                    msg: e + " 解析失败，请检测当前路由表下是否有包含。",
                                    toRule: e
                                });
                            } else e = o.urlToJson(e), a = o.routesForMapRoute(t, e.path, [ "finallyPathList", "pathMap" ]), 
                            n = e.query;
                            if ("h5" === t.options.platform) {
                                o.getRoutePath(a, t).finallyPath.includes(":") && null == e.name && i.ERRORHOOK[0]({
                                    type: 2,
                                    msg: "当有设置 alias或者aliasPath 为动态路由时，不允许使用 path 跳转。请使用 name 跳转！",
                                    route: a
                                }, t);
                                var p = e.complete, m = e.success, g = e.fail;
                                if ("[object Function]" === o.getDataType(p)) {
                                    var h = function(e, t) {
                                        "[object Function]" === o.getDataType(t) && t.apply(this, e), p.apply(this, e);
                                    };
                                    s = function() {
                                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                        h.call(this, e, m);
                                    }, c = function() {
                                        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                        h.call(this, e, g);
                                    };
                                }
                            }
                            var y = e;
                            return "[object Function]" === o.getDataType(y.success) && (y.success = s), "[object Function]" === o.getDataType(y.fail) && (y.fail = c), 
                            {
                                rule: y,
                                route: a,
                                query: n
                            };
                        }, t.resolveQuery = function(e, t) {
                            var n = "query";
                            null != e.params && (n = "params"), null != e.query && (n = "query");
                            var r = o.copyData(e[n] || {}), i = t.options.resolveQuery;
                            if (i) {
                                var s = i(r);
                                "[object Object]" !== o.getDataType(s) ? a.warn("请按格式返回参数： resolveQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t) : e[n] = s;
                            } else {
                                if (!o.assertDeepObject(r)) return e;
                                var c = JSON.stringify(r);
                                e[n] = {
                                    query: c
                                };
                            }
                            return e;
                        }, t.parseQuery = function(e, t) {
                            var n = t.options.parseQuery;
                            if (n) e = n(o.copyData(e)), "[object Object]" !== o.getDataType(e) && a.warn("请按格式返回参数： parseQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t); else if (Reflect.get(e, "query")) {
                                var r = Reflect.get(e, "query");
                                if ("string" == typeof r) try {
                                    r = JSON.parse(r);
                                } catch (e) {
                                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                    a.warn("尝试解析深度对象失败，按原样输出。" + e, t);
                                }
                                if ("object" == s(r)) return o.deepDecodeQuery(r);
                            }
                            return e;
                        }, t.stringifyQuery = function(e) {
                            var t = e ? Object.keys(e).map(function(t) {
                                var n = e[t];
                                if (void 0 === n) return "";
                                if (null === n) return d(t);
                                if (Array.isArray(n)) {
                                    var r = [];
                                    return n.forEach(function(e) {
                                        void 0 !== e && (null === e ? r.push(d(t)) : r.push(d(t) + "=" + d(e)));
                                    }), r.join("&");
                                }
                                return d(t) + "=" + d(n);
                            }).filter(function(e) {
                                return e.length > 0;
                            }).join("&") : null;
                            return t ? "?" + t : "";
                        };
                    },
                    314: function(t, n, r) {
                        Object.defineProperty(n, "__esModule", {
                            value: !0
                        }), n.rewriteMethod = void 0;
                        var o = r(366), i = r(789), a = r(883), s = r(809), c = [ "navigateTo", "redirectTo", "reLaunch", "switchTab", "navigateBack" ];
                        n.rewriteMethod = function(t) {
                            !1 === t.options.keepUniOriginNav && c.forEach(function(n) {
                                var r = e[n];
                                e[n] = function(e, c, u, l) {
                                    void 0 === c && (c = !1), c ? s.uniOriginJump(t, r, n, e, u, l) : ("app-plus" === t.options.platform && 0 === Object.keys(t.appMain).length && (t.appMain = {
                                        NAVTYPE: n,
                                        path: e.url
                                    }), function(e, t, n) {
                                        if ("app-plus" === n.options.platform) {
                                            var r = null;
                                            e && (r = e.openType), null != r && "appLaunch" === r && (t = "reLaunch");
                                        }
                                        if ("reLaunch" === t && '{"url":"/"}' === JSON.stringify(e) && (a.warn("uni-app 原生方法：reLaunch({url:'/'}) 默认被重写啦！你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch({url:'/?xxx=xxx'})", n, !0), 
                                        t = "navigateBack", e = {
                                            from: "backbutton"
                                        }), "navigateBack" === t) {
                                            var s = 1;
                                            null == e && (e = {
                                                delta: 1
                                            }), "[object Number]" === i.getDataType(e.delta) && (s = e.delta), n.back(s, e);
                                        } else {
                                            var c = o.rewriteMethodToggle[t], u = e.url;
                                            if (!u.startsWith("/")) {
                                                var l = i.resolveAbsolutePath(u, n);
                                                u = l, e.url = l;
                                            }
                                            if ("switchTab" === t) {
                                                var d = i.routesForMapRoute(n, u, [ "pathMap", "finallyPathList" ]), f = i.getRoutePath(d, n).finallyPath;
                                                if ("[object Array]" === i.getDataType(f) && a.warn("uni-app 原生方法跳转路径为：" + u + "。此路为是tab页面时，不允许设置 alias 为数组的情况，并且不能为动态路由！当然你可以通过通配符*解决！", n, !0), 
                                                "*" === f && a.warn("uni-app 原生方法跳转路径为：" + u + "。在路由表中找不到相关路由表！当然你可以通过通配符*解决！", n, !0), 
                                                "h5" === n.options.platform) {
                                                    var p = e.success;
                                                    e.success = function() {
                                                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                                        null == p || p.apply(null, t), i.timeOut(150).then(function() {
                                                            var t = e.detail || {};
                                                            if (Object.keys(t).length > 0 && Reflect.has(t, "index")) {
                                                                var n = i.getUniCachePage(0);
                                                                if (0 === Object.keys(n).length) return !1;
                                                                var r = n, o = r.$options.onTabItemTap;
                                                                if (o) for (var a = 0; a < o.length; a++) o[a].call(r, t);
                                                            }
                                                        });
                                                    };
                                                }
                                                u = f;
                                            }
                                            var m = e, g = m.events, h = m.success, y = m.fail, v = m.complete, b = m.animationType, T = {
                                                path: u,
                                                events: g,
                                                success: h,
                                                fail: y,
                                                complete: v,
                                                animationDuration: m.animationDuration,
                                                animationType: b
                                            };
                                            n[c](i.notDeepClearNull(T));
                                        }
                                    }(e, n, t));
                                };
                            });
                        };
                    },
                    963: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.createRouter = t.RouterMount = void 0;
                        var o = n(282), i = n(789), a = n(662), c = n(460), u = n(890), l = n(314), d = function() {}, f = new Promise(function(e) {
                            return d = e;
                        });
                        t.createRouter = function(e) {
                            var t = i.assertNewOptions(e), n = {
                                options: t,
                                mount: [],
                                Vue: null,
                                proxyHookDeps: o.proxyHookDeps,
                                appMain: {},
                                enterPath: "",
                                $route: null,
                                $lockStatus: !1,
                                routesMap: {},
                                lifeCycle: a.registerRouterHooks(o.lifeCycle, t),
                                push: function(e) {
                                    u.lockNavjump(e, n, "push");
                                },
                                replace: function(e) {
                                    u.lockNavjump(e, n, "replace");
                                },
                                replaceAll: function(e) {
                                    u.lockNavjump(e, n, "replaceAll");
                                },
                                pushTab: function(e) {
                                    u.lockNavjump(e, n, "pushTab");
                                },
                                back: function(e, t) {
                                    void 0 === e && (e = 1), "[object Object]" !== i.getDataType(t) ? t = {
                                        from: "navigateBack"
                                    } : Reflect.has(t, "from") || (t = r(r({}, t), {
                                        from: "navigateBack"
                                    })), u.lockNavjump(e + "", n, "back", void 0, t);
                                },
                                forceGuardEach: function(e, t) {
                                    u.forceGuardEach(n, e, t);
                                },
                                beforeEach: function(e) {
                                    a.registerEachHooks(n, "beforeHooks", e);
                                },
                                afterEach: function(e) {
                                    a.registerEachHooks(n, "afterHooks", e);
                                },
                                install: function(e) {
                                    n.Vue = e, l.rewriteMethod(this), c.initMixins(e, this), Object.defineProperty(e.prototype, "$Router", {
                                        get: function() {
                                            var e = n;
                                            return Object.defineProperty(this, "$Router", {
                                                value: e,
                                                writable: !1,
                                                configurable: !1,
                                                enumerable: !1
                                            }), Object.seal(e);
                                        }
                                    }), Object.defineProperty(e.prototype, "$Route", {
                                        get: function() {
                                            return u.createRoute(n);
                                        }
                                    }), Object.defineProperty(e.prototype, "$AppReady", {
                                        get: function() {
                                            return "h5" === n.options.platform ? Promise.resolve() : f;
                                        },
                                        set: function(e) {
                                            !0 === e && d();
                                        }
                                    });
                                }
                            };
                            return i.def(n, "currentRoute", function() {
                                return u.createRoute(n);
                            }), n.beforeEach(function(e, t, n) {
                                return n();
                            }), n.afterEach(function() {}), n;
                        }, t.RouterMount = function(e, t, n) {
                            if (void 0 === n && (n = "#app"), "[object Array]" !== i.getDataType(t.mount)) throw new Error("挂载路由失败，router.app 应该为数组类型。当前类型：" + s(t.mount));
                            if (t.mount.push({
                                app: e,
                                el: n
                            }), "h5" === t.options.platform) {
                                var r = t.$route;
                                r.replace({
                                    path: r.currentRoute.fullPath
                                });
                            }
                        };
                    },
                    809: function(e, t, n) {
                        var r = this && this.__assign || function() {
                            return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                return e;
                            }).apply(this, arguments);
                        }, o = this && this.__awaiter || function(e, t, n, r) {
                            return new (n || (n = Promise))(function(o, i) {
                                function a(e) {
                                    try {
                                        c(r.next(e));
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        i(e);
                                    }
                                }
                                function s(e) {
                                    try {
                                        c(r.throw(e));
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        i(e);
                                    }
                                }
                                function c(e) {
                                    var t;
                                    e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                                        e(t);
                                    })).then(a, s);
                                }
                                c((r = r.apply(e, t || [])).next());
                            });
                        }, i = this && this.__generator || function(e, t) {
                            var n, r, o, i, a = {
                                label: 0,
                                sent: function() {
                                    if (1 & o[0]) throw o[1];
                                    return o[1];
                                },
                                trys: [],
                                ops: []
                            };
                            return i = {
                                next: s(0),
                                throw: s(1),
                                return: s(2)
                            }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                                return this;
                            }), i;
                            function s(i) {
                                return function(s) {
                                    return function(i) {
                                        if (n) throw new TypeError("Generator is already executing.");
                                        for (;a; ) try {
                                            if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 
                                            0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                            switch (r = 0, o && (i = [ 2 & i[0], o.value ]), i[0]) {
                                              case 0:
                                              case 1:
                                                o = i;
                                                break;

                                              case 4:
                                                return a.label++, {
                                                    value: i[1],
                                                    done: !1
                                                };

                                              case 5:
                                                a.label++, r = i[1], i = [ 0 ];
                                                continue;

                                              case 7:
                                                i = a.ops.pop(), a.trys.pop();
                                                continue;

                                              default:
                                                if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                                    a = 0;
                                                    continue;
                                                }
                                                if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                                    a.label = i[1];
                                                    break;
                                                }
                                                if (6 === i[0] && a.label < o[1]) {
                                                    a.label = o[1], o = i;
                                                    break;
                                                }
                                                if (o && a.label < o[2]) {
                                                    a.label = o[2], a.ops.push(i);
                                                    break;
                                                }
                                                o[2] && a.ops.pop(), a.trys.pop();
                                                continue;
                                            }
                                            i = t.call(e, a);
                                        } catch (e) {
                                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                            i = [ 6, e ], r = 0;
                                        } finally {
                                            n = o = 0;
                                        }
                                        if (5 & i[0]) throw i[1];
                                        return {
                                            value: i[0] ? i[1] : void 0,
                                            done: !0
                                        };
                                    }([ i, s ]);
                                };
                            }
                        }, a = this && this.__rest || function(e, t) {
                            var n = {};
                            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var o = 0;
                                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
                            }
                            return n;
                        };
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.formatOriginURLQuery = t.uniOriginJump = void 0;
                        var s = n(99), c = n(789), u = n(282), l = n(845), d = 0, f = "reLaunch";
                        function p(e, t, n) {
                            var o, i = t.url, a = t.path, u = t.query, l = t.animationType, d = t.animationDuration, f = t.events, p = t.success, m = t.fail, g = t.complete, h = t.delta, y = t.animation, v = s.stringifyQuery(u || {}), b = "" === v ? a || i : (a || i) + v, T = {};
                            return "app-plus" === e.options.platform && "navigateBack" !== n && (T = (null === (o = e.options.APP) || void 0 === o ? void 0 : o.animation) || {}, 
                            T = r(r({}, T), y || {})), c.notDeepClearNull({
                                delta: h,
                                url: b,
                                animationType: l || T.animationType,
                                animationDuration: d || T.animationDuration,
                                events: f,
                                success: p,
                                fail: m,
                                complete: g
                            });
                        }
                        t.uniOriginJump = function(e, t, n, s, m, g) {
                            var h = p(e, s, n), y = h.complete, v = a(h, [ "complete" ]), b = e.options.platform;
                            null != g && !1 === g ? (0 === d && (d++, "h5" !== b && (l.resetAndCallPageHook(e, v.url), 
                            e.Vue.prototype.$AppReady = !0)), y && y.apply(null, {
                                msg: "forceGuardEach强制触发并且不执行跳转"
                            }), m && m.apply(null, {
                                msg: "forceGuardEach强制触发并且不执行跳转"
                            })) : (0 === d && ("app-plus" === b ? l.resetAndCallPageHook(e, v.url) : new RegExp(u.mpPlatformReg, "g").test(b) && l.resetAndCallPageHook(e, v.url, !1)), 
                            t(r(r({}, v), {
                                from: s.BACKTYPE,
                                complete: function() {
                                    for (var t, r, a, s, p = [], g = 0; g < arguments.length; g++) p[g] = arguments[g];
                                    return o(this, void 0, void 0, function() {
                                        var o, g, h;
                                        return i(this, function(i) {
                                            switch (i.label) {
                                              case 0:
                                                return 0 === d && (d++, "h5" !== b && (new RegExp(u.mpPlatformReg, "g").test(b) && l.resetPageHook(e), 
                                                e.Vue.prototype.$AppReady = !0, "app-plus" === b && ((o = plus.nativeObj.View.getViewById("router-loadding")) && o.close(), 
                                                (g = null === (t = e.options.APP) || void 0 === t ? void 0 : t.launchedHook) && g()))), 
                                                h = 0, new RegExp(u.mpPlatformReg, "g").test(b) ? h = null === (r = e.options.applet) || void 0 === r ? void 0 : r.animationDuration : "app-plus" === b && "navigateBack" === n && "navigateTo" === f && (h = null === (s = null === (a = e.options.APP) || void 0 === a ? void 0 : a.animation) || void 0 === s ? void 0 : s.animationDuration), 
                                                "navigateTo" !== n && "navigateBack" !== n || 0 === h ? [ 3, 2 ] : [ 4, c.timeOut(h) ];

                                              case 1:
                                                i.sent(), i.label = 2;

                                              case 2:
                                                return f = n, y && y.apply(null, p), m && m.apply(null, p), [ 2 ];
                                            }
                                        });
                                    });
                                }
                            })));
                        }, t.formatOriginURLQuery = p;
                    }
                }, n = {}, function e(r) {
                    if (n[r]) return n[r].exports;
                    var o = n[r] = {
                        exports: {}
                    };
                    return t[r].call(o.exports, o, o.exports, e), o.exports;
                }(607);
                var t, n;
            }, "object" == s(t) && "object" == s(n) ? n.exports = a() : (o = [], void 0 === (i = "function" == typeof (r = a) ? r.apply(t, o) : r) || (n.exports = i));
        }).call(this, n("543d").default, n("62e4")(e));
    },
    1168: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getAdvert = f, t.getBranchList = p, t.getHospitalInfos = a, 
        t.getNethospitalList = l, t.getNewDeptLists = s, t.getNoticeDetail = u, t.getNoticeList = c, 
        t.queryEnableFeatureDeptList = d;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/hospital/getHospitalInfo";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/Hospital/getNewDeptLists";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/advert/getNoticeList";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/advert/getNoticeDetail";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Nethospital/getNethospitalList";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/hospital/queryEnableFeatureDeptList";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/advert/getAdvert";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/nethospital/getBranchList";
            return r.default.post(t, e);
        }
        var m = {
            getHospitalInfos: a,
            getNewDeptLists: s,
            getNoticeList: c,
            getNoticeDetail: u,
            getNethospitalList: l,
            queryEnableFeatureDeptList: d,
            getAdvert: f,
            getBranchList: p
        };
        t.default = m;
    },
    "11ca": function(e, t) {
        function n(e) {
            return (n = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        var r = Object.getPrototypeOf || function(e) {
            return e.__proto__;
        }, o = Object.prototype.hasOwnProperty, i = o.toString, a = i.call(Object), s = function(e) {
            var t, n;
            return !(!e || "[object Object]" !== toString.call(e) || (t = r(e)) && ("function" != typeof (n = o.call(t, "constructor") && t.constructor) || i.call(n) !== a));
        }, c = function(e) {
            return "function" == typeof e;
        };
        e.exports = {
            extend: function e() {
                var t, r, o, i, a, u, l = arguments[0] || {}, d = 1, f = arguments.length, p = !1;
                for ("boolean" == typeof l && (p = l, l = arguments[d] || {}, d++), "object" == n(l) || c(l) || (l = {}), 
                d === f && (l = this, d--); d < f; d++) if (null != (t = arguments[d])) for (r in t) o = l[r], 
                l !== (i = t[r]) && (p && i && (s(i) || (a = Array.isArray(i))) ? (a ? (a = !1, 
                u = o && Array.isArray(o) ? o : []) : u = o && s(o) ? o : {}, l[r] = e(p, u, i)) : void 0 !== i && (l[r] = i));
                return l;
            }
        };
    },
    1290: function(e, t) {
        e.exports = function(e) {
            var t = _typeof3(e);
            return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
        };
    },
    1310: function(e, t) {
        e.exports = function(e) {
            return null != e && "object" == _typeof3(e);
        };
    },
    "134b": function(e, t, n) {
        var r = n("7678");
        t.a = function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (t = Object(r.a)(t), "object" !== _typeof3(t) || "object" !== _typeof3(n)) return !1;
            for (var o in n) n.hasOwnProperty(o) && (o in t ? "object" !== _typeof3(t[o]) || "object" !== _typeof3(n[o]) ? t[o] = n[o] : t[o].concat && n[o].concat ? t[o] = t[o].concat(n[o]) : t[o] = e(t[o], n[o]) : t[o] = n[o]);
            return t;
        };
    },
    1368: function(e, t, n) {
        var r = n("da03"), o = function() {
            var e = /[^.]+$/.exec(r && r.keys && r.keys.IE_PROTO || "");
            return e ? "Symbol(src)_1." + e : "";
        }();
        e.exports = function(e) {
            return !!o && o in e;
        };
    },
    1594: function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAYAAAB6kdqOAAAAAXNSR0IArs4c6QAAAZZJREFUWEfNmEtOwzAURa8thNqyEIaAcNJp9wKUVUDXggSjthK/TJkiOelqOm4esoWj0Jo28Sep53FOju+z/cIQdjAA5DOlmsB7CCGuOOcDKeU3ADOnE5gPkLYxm814lmWPAM455y9Syk8AHEDp8qU+QOp9GipJkqQsyzvG2IAxNs/z/MPVlC9QBSWESAHcABjWoFqbCgGkoPSLlSkiut2CapWpUECHoBqbCglUQaVpKlSmXEyFBtqGUss3ArAoiuK9SfXFALKZUlDzX6i9mYoF5GwqJpA1U7Xls5qKDfSfqWVRFG+2THUBVEGNx+PrzWYzrQVdQf0ZXQFZg05Ey9Vq9WqOILPtu5yBrs+YHf0SwJSIzjjnT1LKL7N8XRqqW7ogovu+gbSd2i4+6nPJNMyxhLpuxhwlvZX9PjOdb4ytzJiyjVVl2wEeHjoyYgLZzPR2/dgp7abXjhiGvMyEBtrJjGs7FCLUVW9m6TgaX+5DGTqqRlHDTCaTk/V6/cAYU630c9+ttDatzigiOu37Z4PtTuT9O+YHalwrMJQffJ0AAAAASUVORK5CYII=";
    },
    "15cd": function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAArlBMVEUAAADNzc3Nzc3Ly8vNzc3Ly8vNzc3JycnNzc3Ozs7MzMzPz8/Q0NDPz8/Q0NDU1NTU1NTNzc3X19fNzc3MzMzPz8/Ozs7Nzc3Nzc3MzMzOzs7Nzc3S0tLOzs7R0dHQ0NDKysrX19fOzs7Ozs7Pz8/Ozs7T09P////MzMzPz8/Jycn09PTq6ur39/fW1tb6+vrw8PDu7u7i4uLf39/R0dH5+fnk5OTx8fHb29vU1NTFwj3pAAAAJ3RSTlMAA/7++vry+93P9Kd8b2cnDcoS6+rewbium5FWVFBCPBgI6OfZmxcEZUMkAAACaUlEQVRYw5yS53bjIBBG8Qyoy73Gju1UBtTl/v4vtkTZzfHZuEmXf4LvamCG/aLVajGzloE/doYe597QGfvB0nyqtu5RxTuLYDZxR28W5wCcW28jdzILFp37iq/t/ir0HQ6E+gwk4I4frvrVmZuGddslQhQcQP0AwAUikdte38y32GfY8zgYg1bHfVwcoiSJDkW8Pypt8sC9XvjJWtfLf546AGhjWsZ5kmXyL1mW5HGZmg0AZ/pcnb2U785d4MKGtCx28he7okzBFhzceffyQ/TbAxKotptIXiHabBUKGrT7F27POk8WKaTv+HUFoSLrqWMi/+c/PAJ7u0/kTZL91gbyPirDuaBv/i/wFMu7xCcUpob+ucC8X9sij9JcPkCemqNW27zkmWA+IMI0kg8RpUg0mP8IvvrfI2Wfcvkg+clW1HtmP4ruFARuY/kw8RYFTLv/CngJHUIy+RoGE3DCl6qEF7bugYBNUkeQbEyktzbh7w6YAYhkLSIzDlUnzFq5gLDJ6gmyjQm5q0oQEtimgzWJUhsorGbYJ8JS1qZEIt9MNFu8I6ZFfUGRIr4vjCBQqMtdfcGu1KgCI5iB0LFsQKwFzBhbTkiovIkgV4ImSxa4CMekiSA5AroB80cI+10TwW4POPLZ+FWrOGsiyGKlX8fMsbQqZCMKpS2HDblWh2aCg9J8yCwjiJoJIiOwGAetkmaCRGngf0qvAxoAYBiGYfxZG4QJXPq/tUkf0FfoR+xv7EHqUe5l6nXeQOlI+1DtWN9i+Wrrct16b8BIxHnISsxr0FzUbdhe3G/heOV56Xrte/F89X35bv0HXyHKtO4k0pcAAAAASUVORK5CYII=";
    },
    "15e7": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = {
            namespaced: !0,
            state: {
                VUE_APP_IM_KEY: "d2a9a09858684ade9b769a00c61aa6f9",
                VUE_APP_IM_URL: "https://app.netease.im",
                VUE_APP_API_URL: "https://patient.holoalpha.com/",
                VUE_APP_DUR_API: "https://durservice.holoalpha.com/",
                VUE_APP_API_ZYY_URL: "https://zyyehospital.holoalpha.com/",
                VUE_APP_WEB_URL: "https://zyy.holoalpha.com/",
                VUE_APP_API_MB2C_MALL: "https://mb2c-mall.jk.com/",
                VUE_APP_OPEN_MALL_URL: "https://open-mall.jk.com/",
                VUE_APP_RESOURCE_URL: "https://patient.holoalpha.com/uniapp-resource/",
                VUE_APP_SENESOR_URL: "https://track.jk.com/sa.gif?project=zyy_prod&remark=cktest",
                VUE_APP_MP_APPID: "wx1d354719e85b9620",
                VUE_APP_MAP_KEY: "OKDBZ-DHDKW-CZARS-OXSUC-U2467-RQFKA",
                VUE_APP_DRUG: "cAEazxq1HC0Nq8q9BRsOSd_NSGGuN2Z3I261zN6mvOw",
                VUE_APP_SERVICE_PACKAGE: "H5aGbrNmCMlJL6JgAe876BiZLy3XYTXZ_Si1y1w4IMs",
                VUE_APP_CONSULT_REMIND: "SL4ffAcyNfI_c9XLhLYdCBmAsBayEvF56vnHMAbrciY",
                VUE_APP_REVISIT_SERVICE_REMIND: "B7TJUj4t304NZR8YtJ0TiYmL3kfUf5CVGdzqdTSME_w",
                VUE_APP_CONSULT_SERVICE_REMIND: "B7TJUj4t304NZR8YtJ0TiVp5DjWCZv4J6EZGeWRLtpo",
                VUE_APP_PRESCRIPTION_GENERATION_REMIND: "T3k8xq90LtnclJM_Sb9bo7yq281nXzuGY7zI1_8f0-o",
                VUE_APP_MP_ALIPAY_APPID: "2021003101667347",
                VUE_APP_MP_ALIPAY_VERSION: "1.62.0",
                VUE_APP_MP_ALIPAY_MONITOR_PID: "67o61uabjjz1mrtu0luurg==",
                VUE_APP_MP_ALIPAY_DOCTOR_REPLY_REMIND: "6cd93e33e53d4e6586a119d29084e8b2",
                VUE_APP_MP_ALIPAY_ORDER_STATUS_REMIND: "db09abfa96bd44558f0a2b5e3bf10007",
                VUE_APP_MP_ALIPAY_DRUG_ORDER_STATUS_REMIND: "e73ec98a135d41e299f1b992898f550d",
                VUE_APP_H5_APPID: "wxed627bdde3060ade",
                VUE_APP_H5_FLODER_PATH: "patient/",
                VUE_APP_ORGID: "wukmrawese",
                VUE_APP_VERSION: "1.62.0",
                VUE_APP_VERSION_CODE: "1620",
                VUE_APP_ENVIR: "prod",
                NODE_ENV: "production"
            },
            getters: {},
            mutations: {},
            actions: {}
        };
        t.default = r;
    },
    "16ea": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.pattern = t.default = void 0;
        var r = {
            username: /^[a-zA-Z0-9_]{4,30}$/,
            password: /^[a-zA-Z0-9_]{6,20}$/,
            url: /^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,
            number: /^[-+]?[0-9]*$/,
            numerical: /^[-+]?[0-9]+(\.[0-9]+)?$/,
            pNumerical: /^[0-9]+(\.[0-9]+)?$/,
            interger: /^[0-9]*$/,
            pInterger: /^[1-9]\d*$/,
            nInterger: /^((-\d+)|(0+))$/,
            mobilephone: /^1\d{10}$/,
            mobile: /^1\d{10}$/,
            phone: /^1\d{10}$/,
            telephone: /^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,
            idCard: /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,
            email: /\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}$/,
            percente: /^(((\d|[1-9]\d)(\.\d{1,2})?)|100|100.0|100.00)$/
        };
        t.pattern = r;
        var o = r;
        t.default = o;
    },
    1838: function(e, t, n) {
        var r = n("c05f"), o = n("9b02"), i = n("8604"), a = n("f608"), s = n("08cc"), c = n("20ec"), u = n("f4d6");
        e.exports = function(e, t) {
            return a(e) && s(t) ? c(u(e), t) : function(n) {
                var a = o(n, e);
                return void 0 === a && a === t ? i(n, e) : r(t, a, 3);
            };
        };
    },
    "18d8": function(e, t, n) {
        var r = n("234d"), o = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, i = /\\(\\)?/g, a = r(function(e) {
            var t = [];
            return 46 === e.charCodeAt(0) && t.push(""), e.replace(o, function(e, n, r, o) {
                t.push(r ? o.replace(i, "$1") : n || e);
            }), t;
        });
        e.exports = a;
    },
    "1a8c": function(e, t) {
        e.exports = function(e) {
            var t = _typeof3(e);
            return null != e && ("object" == t || "function" == t);
        };
    },
    "1b8a": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.responseInterceptor = t.requestInterceptor = t.default = void 0;
        var r = n("6c87"), o = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("e884"));
        var i = {
            then: function(e) {
                var t = {
                    "Content-Type": "application/json",
                    version: o.default.state.env.VUE_APP_VERSION,
                    "version-code": o.default.state.env.VUE_APP_VERSION_CODE,
                    "access-token": r.cache.get("accessToken"),
                    devicetype: "applet"
                };
                return e.header = Object.assign({}, t, e.header), e;
            },
            catch: function(e) {
                return Promise.reject(e);
            }
        };
        t.requestInterceptor = i;
        var a = {
            then: function(e) {
                if (200 === e.statusCode) {
                    var t, n, i, a, s, c, u, l, d, f, p, m;
                    if (200 === (null === (t = e.data) || void 0 === t ? void 0 : t.code) || "0" === (null === (n = e.data) || void 0 === n ? void 0 : n.code)) return e.data;
                    if (202 === (null === (i = e.data) || void 0 === i ? void 0 : i.code) || 203 === (null === (a = e.data) || void 0 === a ? void 0 : a.code) || 204 === (null === (s = e.data) || void 0 === s ? void 0 : s.code) || 205 === (null === (c = e.data) || void 0 === c ? void 0 : c.code) || 215 === (null === (u = e.data) || void 0 === u ? void 0 : u.code)) return Promise.reject(e);
                    if (201 === (null === (l = e.data) || void 0 === l ? void 0 : l.code)) return r.util.showModal(e.data.msg || e.data.message), 
                    Promise.reject(e);
                    if (2002 === (null === (d = e.data) || void 0 === d ? void 0 : d.code)) return Promise.reject(e);
                    if (-2001 === (null === (f = e.data) || void 0 === f ? void 0 : f.code) || "70012" == (null === (p = e.data) || void 0 === p ? void 0 : p.code)) {
                        var g, h;
                        console.log("您的登录信息已过期，请重新登录。", (null === (g = e.data) || void 0 === g ? void 0 : g.msg) || (null === (h = e.data) || void 0 === h ? void 0 : h.message)), 
                        r.util.hideLoading(), r.util.showToast("您的登录信息已过期，请重新登录。");
                        var y = o.default.state.im.NIM;
                        return y.nim && y.nim.off("signalingNotify"), y.netcall && y.netcall.destroy(), 
                        y.nim && y.nim.destroy({
                            done: function() {
                                console.log("鉴权失败 ".concat(y.account, "}实例已清除")), o.default.commit("im/setNIM", {});
                            }
                        }), o.default.dispatch("user/cleanToken"), o.default.dispatch("im/cleanIm"), setTimeout(function() {
                            r.util.toLogin();
                        }, 300), Promise.reject(e);
                    }
                    return null === (m = e.data) || void 0 === m || m.code, Promise.reject(e);
                }
                return Promise.reject(e);
            },
            catch: function(e) {
                if (r.util.hideLoading(), "Error: Network Error" === e.toString()) return r.util.showModal("网络异常，请稍后再试"), 
                Promise.reject(e);
                if (e.response && e.response.status) switch (e.response.status) {
                  case 500:
                    r.util.showModal("网络异常，请稍后再试");
                    break;

                  default:
                    r.util.showModal("服务升级中，请稍后");
                } else r.util.showModal("服务升级中，请稍后");
                return Promise.reject(e);
            }
        };
        t.responseInterceptor = a;
        var s = {
            requestInterceptor: i,
            responseInterceptor: a
        };
        t.default = s;
    },
    "1bb4": function(e, t, n) {
        (function(e) {
            function n(t, n, r, o) {
                e.getFileInfo({
                    filePath: t,
                    success: function(e) {
                        console.log("压缩前图片大小:", e.size / 1024, "kb"), e.size > 1048576 * n ? o() : r();
                    },
                    fail: function(e) {
                        console.log("getFileInfo - err", e);
                    }
                });
            }
            function r(t, i) {
                var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, s = arguments.length > 3 ? arguments[3] : void 0, c = arguments.length > 4 ? arguments[4] : void 0;
                n(i, a, function(e) {
                    c(i);
                }, function(n) {
                    e.getImageInfo({
                        src: i,
                        success: function(e) {
                            var n = Math.max(e.width, e.height), u = 1;
                            n > s && (u = s / n);
                            var l = Math.floor(e.width * u), d = Math.floor(e.height * u);
                            console.log("调用压缩", l, d), o(t, i, l, d, function(e) {
                                r(t, e, a, .7 * s, c);
                            });
                        },
                        fail: function(e) {
                            console.log("getImageInfo - err", e);
                        }
                    });
                });
            }
            function o(t, n, r, o, i) {
                var a = e.createCanvasContext(t);
                a.drawImage(n, 0, 0, r, o), a.draw(!1, function() {
                    e.canvasToTempFilePath({
                        canvasId: t,
                        x: 0,
                        y: 0,
                        width: r,
                        height: o,
                        quality: 1,
                        success: function(e) {
                            i(e.tempFilePath);
                        }
                    });
                });
            }
            function i(e) {
                for (var t = e.split(","), n = t[0].match(/:(.*?);/)[1], r = atob(t[1]), o = r.length, i = new Uint8Array(o); o--; ) i[o] = r.charCodeAt(o);
                return new Blob([ i ], {
                    type: n
                });
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.dataURLtoBlob = i, t.default = void 0, t.getCanvasImage = o, t.getLessLimitSizeImage = r, 
            t.imageSizeIsLessLimitSize = n;
            var a = {
                getLessLimitSizeImage: r,
                imageSizeIsLessLimitSize: n,
                getCanvasImage: o,
                dataURLtoBlob: i
            };
            t.default = a;
        }).call(this, n("543d").default);
    },
    "1c3c": function(e, t, n) {
        var r = n("9e69"), o = n("2474"), i = n("9638"), a = n("a2be"), s = n("edfa"), c = n("ac41"), u = r ? r.prototype : void 0, l = u ? u.valueOf : void 0;
        e.exports = function(e, t, n, r, u, d, f) {
            switch (n) {
              case "[object DataView]":
                if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                e = e.buffer, t = t.buffer;

              case "[object ArrayBuffer]":
                return !(e.byteLength != t.byteLength || !d(new o(e), new o(t)));

              case "[object Boolean]":
              case "[object Date]":
              case "[object Number]":
                return i(+e, +t);

              case "[object Error]":
                return e.name == t.name && e.message == t.message;

              case "[object RegExp]":
              case "[object String]":
                return e == t + "";

              case "[object Map]":
                var p = s;

              case "[object Set]":
                var m = 1 & r;
                if (p || (p = c), e.size != t.size && !m) return !1;
                var g = f.get(e);
                if (g) return g == t;
                r |= 2, f.set(e, t);
                var h = a(p(e), p(t), r, u, d, f);
                return f.delete(e), h;

              case "[object Symbol]":
                if (l) return l.call(e) == l.call(t);
            }
            return !1;
        };
    },
    "1c3ce": function(e, t, n) {
        function r() {
            this.handlers = [];
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, r.prototype.use = function(e, t) {
            return this.handlers.push({
                fulfilled: e,
                rejected: t
            }), this.handlers.length - 1;
        }, r.prototype.eject = function(e) {
            this.handlers[e] && (this.handlers[e] = null);
        }, r.prototype.forEach = function(e) {
            this.handlers.forEach(function(t) {
                null !== t && e(t);
            });
        };
        var o = r;
        t.default = o;
    },
    "1cec": function(e, t, n) {
        var r = n("0b07")(n("2b3e"), "Promise");
        e.exports = r;
    },
    "1ee3": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), Object.defineProperty(t, "IM", {
            enumerable: !0,
            get: function() {
                return r.default;
            }
        }), t.default = void 0, Object.defineProperty(t, "ec", {
            enumerable: !0,
            get: function() {
                return o.default;
            }
        }), Object.defineProperty(t, "face", {
            enumerable: !0,
            get: function() {
                return i.default;
            }
        }), t.install = void 0;
        var r = a(n("daef")), o = a(n("eedc")), i = a(n("6288"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var s = function(e) {
            e.prototype.$IM = r.default, e.prototype.$ec = o.default, e.prototype.$face = i.default;
        };
        t.install = s;
        var c = {
            IM: r.default,
            ec: o.default,
            face: i.default,
            install: s
        };
        t.default = c;
    },
    "1efc": function(e, t) {
        e.exports = function(e) {
            var t = this.has(e) && delete this.__data__[e];
            return this.size -= t ? 1 : 0, t;
        };
    },
    "1fb5": function(e, t, n) {
        t.byteLength = function(e) {
            var t = u(e), n = t[0], r = t[1];
            return 3 * (n + r) / 4 - r;
        }, t.toByteArray = function(e) {
            var t, n, r = u(e), a = r[0], s = r[1], c = new i(function(e, t, n) {
                return 3 * (t + n) / 4 - n;
            }(0, a, s)), l = 0, d = s > 0 ? a - 4 : a;
            for (n = 0; n < d; n += 4) t = o[e.charCodeAt(n)] << 18 | o[e.charCodeAt(n + 1)] << 12 | o[e.charCodeAt(n + 2)] << 6 | o[e.charCodeAt(n + 3)], 
            c[l++] = t >> 16 & 255, c[l++] = t >> 8 & 255, c[l++] = 255 & t;
            return 2 === s && (t = o[e.charCodeAt(n)] << 2 | o[e.charCodeAt(n + 1)] >> 4, c[l++] = 255 & t), 
            1 === s && (t = o[e.charCodeAt(n)] << 10 | o[e.charCodeAt(n + 1)] << 4 | o[e.charCodeAt(n + 2)] >> 2, 
            c[l++] = t >> 8 & 255, c[l++] = 255 & t), c;
        }, t.fromByteArray = function(e) {
            for (var t, n = e.length, o = n % 3, i = [], a = 16383, s = 0, c = n - o; s < c; s += a) i.push(d(e, s, s + a > c ? c : s + a));
            return 1 === o ? (t = e[n - 1], i.push(r[t >> 2] + r[t << 4 & 63] + "==")) : 2 === o && (t = (e[n - 2] << 8) + e[n - 1], 
            i.push(r[t >> 10] + r[t >> 4 & 63] + r[t << 2 & 63] + "=")), i.join("");
        };
        for (var r = [], o = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s) r[s] = a[s], 
        o[a.charCodeAt(s)] = s;
        function u(e) {
            var t = e.length;
            if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            var n = e.indexOf("=");
            return -1 === n && (n = t), [ n, n === t ? 0 : 4 - n % 4 ];
        }
        function l(e) {
            return r[e >> 18 & 63] + r[e >> 12 & 63] + r[e >> 6 & 63] + r[63 & e];
        }
        function d(e, t, n) {
            for (var r, o = [], i = t; i < n; i += 3) r = (e[i] << 16 & 16711680) + (e[i + 1] << 8 & 65280) + (255 & e[i + 2]), 
            o.push(l(r));
            return o.join("");
        }
        o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63;
    },
    "1fc8": function(e, t, n) {
        var r = n("4245");
        e.exports = function(e, t) {
            var n = r(this, e), o = n.size;
            return n.set(e, t), this.size += n.size == o ? 0 : 1, this;
        };
    },
    2073: function(e, t, n) {
        function r(e, t) {
            for (var n = this.$parent, r = function() {
                if (n.$options.name === e) {
                    var r = {};
                    if (Array.isArray(t)) t.map(function(e) {
                        r[e] = n[e] ? n[e] : "";
                    }); else for (var o in t) Array.isArray(t[o]) ? t[o].length ? r[o] = t[o] : r[o] = n[o] : t[o].constructor === Object ? Object.keys(t[o]).length ? r[o] = t[o] : r[o] = n[o] : r[o] = t[o] || !1 === t[o] ? t[o] : n[o];
                    return {
                        v: r
                    };
                }
                n = n.$parent;
            }; n; ) {
                var o = r();
                if ("object" === _typeof3(o)) return o.v;
            }
            return {};
        }
        n.d(t, "a", function() {
            return r;
        });
    },
    "20ec": function(e, t) {
        e.exports = function(e, t) {
            return function(n) {
                return null != n && n[e] === t && (void 0 !== t || e in Object(n));
            };
        };
    },
    "211c": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.http = t.default = void 0;
        var r = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("bbbe")), o = n("1b8a");
        var i = new r.default();
        t.http = i, i.interceptors.request.use(o.requestInterceptor.then, o.requestInterceptor.catch), 
        i.interceptors.response.use(o.responseInterceptor.then, o.responseInterceptor.catch);
        var a = i;
        t.default = a;
    },
    2164: function(e, t, n) {
        var r = n("cae7");
        e.exports = function(e, t, n) {
            for (var o = -1, i = e.criteria, a = t.criteria, s = i.length, c = n.length; ++o < s; ) {
                var u = r(i[o], a[o]);
                if (u) return o >= c ? u : u * ("desc" == n[o] ? -1 : 1);
            }
            return e.index - t.index;
        };
    },
    2286: function(e, t, n) {
        var r = n("85e3"), o = Math.max;
        e.exports = function(e, t, n) {
            return t = o(void 0 === t ? e.length - 1 : t, 0), function() {
                for (var i = arguments, a = -1, s = o(i.length - t, 0), c = Array(s); ++a < s; ) c[a] = i[t + a];
                a = -1;
                for (var u = Array(t + 1); ++a < t; ) u[a] = i[a];
                return u[t] = n(c), r(e, this, u);
            };
        };
    },
    "234d": function(e, t, n) {
        var r = n("e380");
        e.exports = function(e) {
            var t = r(e, function(e) {
                return 500 === n.size && n.clear(), e;
            }), n = t.cache;
            return t;
        };
    },
    "242e": function(e, t, n) {
        var r = n("72af"), o = n("ec69");
        e.exports = function(e, t) {
            return e && r(e, t, o);
        };
    },
    2474: function(e, t, n) {
        var r = n("2b3e").Uint8Array;
        e.exports = r;
    },
    2478: function(e, t, n) {
        var r = n("4245");
        e.exports = function(e) {
            return r(this, e).get(e);
        };
    },
    2524: function(e, t, n) {
        var r = n("6044");
        e.exports = function(e, t) {
            var n = this.__data__;
            return this.size += this.has(e) ? 0 : 1, n[e] = r && void 0 === t ? "__lodash_hash_undefined__" : t, 
            this;
        };
    },
    "253c": function(e, t, n) {
        var r = n("3729"), o = n("1310");
        e.exports = function(e) {
            return o(e) && "[object Arguments]" == r(e);
        };
    },
    "25e9": function(e, t, n) {
        n.d(t, "a", function() {
            return o;
        });
        var r = n("f6a7");
        function o() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "auto", t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "rpx";
            return e = String(e), r.a.number(e) ? "".concat(e).concat(t) : e;
        }
    },
    "26cb": function(e, t, n) {
        (function(t) {
            var n = ("undefined" != typeof window ? window : void 0 !== t ? t : {}).__VUE_DEVTOOLS_GLOBAL_HOOK__;
            function r(e) {
                n && (e._devtoolHook = n, n.emit("vuex:init", e), n.on("vuex:travel-to-state", function(t) {
                    e.replaceState(t);
                }), e.subscribe(function(e, t) {
                    n.emit("vuex:mutation", e, t);
                }, {
                    prepend: !0
                }), e.subscribeAction(function(e, t) {
                    n.emit("vuex:action", e, t);
                }, {
                    prepend: !0
                }));
            }
            function o(e, t) {
                if (void 0 === t && (t = []), null === e || "object" !== _typeof3(e)) return e;
                var n = function(e, t) {
                    return e.filter(t)[0];
                }(t, function(t) {
                    return t.original === e;
                });
                if (n) return n.copy;
                var r = Array.isArray(e) ? [] : {};
                return t.push({
                    original: e,
                    copy: r
                }), Object.keys(e).forEach(function(n) {
                    r[n] = o(e[n], t);
                }), r;
            }
            function i(e, t) {
                Object.keys(e).forEach(function(n) {
                    return t(e[n], n);
                });
            }
            function a(e) {
                return null !== e && "object" === _typeof3(e);
            }
            var s = function(e, t) {
                this.runtime = t, this._children = Object.create(null), this._rawModule = e;
                var n = e.state;
                this.state = ("function" == typeof n ? n() : n) || {};
            }, c = {
                namespaced: {
                    configurable: !0
                }
            };
            c.namespaced.get = function() {
                return !!this._rawModule.namespaced;
            }, s.prototype.addChild = function(e, t) {
                this._children[e] = t;
            }, s.prototype.removeChild = function(e) {
                delete this._children[e];
            }, s.prototype.getChild = function(e) {
                return this._children[e];
            }, s.prototype.hasChild = function(e) {
                return e in this._children;
            }, s.prototype.update = function(e) {
                this._rawModule.namespaced = e.namespaced, e.actions && (this._rawModule.actions = e.actions), 
                e.mutations && (this._rawModule.mutations = e.mutations), e.getters && (this._rawModule.getters = e.getters);
            }, s.prototype.forEachChild = function(e) {
                i(this._children, e);
            }, s.prototype.forEachGetter = function(e) {
                this._rawModule.getters && i(this._rawModule.getters, e);
            }, s.prototype.forEachAction = function(e) {
                this._rawModule.actions && i(this._rawModule.actions, e);
            }, s.prototype.forEachMutation = function(e) {
                this._rawModule.mutations && i(this._rawModule.mutations, e);
            }, Object.defineProperties(s.prototype, c);
            var u, l = function(e) {
                this.register([], e, !1);
            };
            l.prototype.get = function(e) {
                return e.reduce(function(e, t) {
                    return e.getChild(t);
                }, this.root);
            }, l.prototype.getNamespace = function(e) {
                var t = this.root;
                return e.reduce(function(e, n) {
                    return e + ((t = t.getChild(n)).namespaced ? n + "/" : "");
                }, "");
            }, l.prototype.update = function(e) {
                !function e(t, n, r) {
                    if (n.update(r), r.modules) for (var o in r.modules) {
                        if (!n.getChild(o)) return;
                        e(t.concat(o), n.getChild(o), r.modules[o]);
                    }
                }([], this.root, e);
            }, l.prototype.register = function(e, t, n) {
                var r = this;
                void 0 === n && (n = !0);
                var o = new s(t, n);
                0 === e.length ? this.root = o : this.get(e.slice(0, -1)).addChild(e[e.length - 1], o);
                t.modules && i(t.modules, function(t, o) {
                    r.register(e.concat(o), t, n);
                });
            }, l.prototype.unregister = function(e) {
                var t = this.get(e.slice(0, -1)), n = e[e.length - 1], r = t.getChild(n);
                r && r.runtime && t.removeChild(n);
            }, l.prototype.isRegistered = function(e) {
                var t = this.get(e.slice(0, -1)), n = e[e.length - 1];
                return !!t && t.hasChild(n);
            };
            var d = function(e) {
                var t = this;
                void 0 === e && (e = {}), !u && "undefined" != typeof window && window.Vue && b(window.Vue);
                var n = e.plugins;
                void 0 === n && (n = []);
                var o = e.strict;
                void 0 === o && (o = !1), this._committing = !1, this._actions = Object.create(null), 
                this._actionSubscribers = [], this._mutations = Object.create(null), this._wrappedGetters = Object.create(null), 
                this._modules = new l(e), this._modulesNamespaceMap = Object.create(null), this._subscribers = [], 
                this._watcherVM = new u(), this._makeLocalGettersCache = Object.create(null);
                var i = this, a = this.dispatch, s = this.commit;
                this.dispatch = function(e, t) {
                    return a.call(i, e, t);
                }, this.commit = function(e, t, n) {
                    return s.call(i, e, t, n);
                }, this.strict = o;
                var c = this._modules.root.state;
                h(this, c, [], this._modules.root), g(this, c), n.forEach(function(e) {
                    return e(t);
                }), (void 0 !== e.devtools ? e.devtools : u.config.devtools) && r(this);
            }, f = {
                state: {
                    configurable: !0
                }
            };
            function p(e, t, n) {
                return t.indexOf(e) < 0 && (n && n.prepend ? t.unshift(e) : t.push(e)), function() {
                    var n = t.indexOf(e);
                    n > -1 && t.splice(n, 1);
                };
            }
            function m(e, t) {
                e._actions = Object.create(null), e._mutations = Object.create(null), e._wrappedGetters = Object.create(null), 
                e._modulesNamespaceMap = Object.create(null);
                var n = e.state;
                h(e, n, [], e._modules.root, !0), g(e, n, t);
            }
            function g(e, t, n) {
                var r = e._vm;
                e.getters = {}, e._makeLocalGettersCache = Object.create(null);
                var o = e._wrappedGetters, a = {};
                i(o, function(t, n) {
                    a[n] = function(e, t) {
                        return function() {
                            return e(t);
                        };
                    }(t, e), Object.defineProperty(e.getters, n, {
                        get: function() {
                            return e._vm[n];
                        },
                        enumerable: !0
                    });
                });
                var s = u.config.silent;
                u.config.silent = !0, e._vm = new u({
                    data: {
                        $$state: t
                    },
                    computed: a
                }), u.config.silent = s, e.strict && function(e) {
                    e._vm.$watch(function() {
                        return this._data.$$state;
                    }, function() {}, {
                        deep: !0,
                        sync: !0
                    });
                }(e), r && (n && e._withCommit(function() {
                    r._data.$$state = null;
                }), u.nextTick(function() {
                    return r.$destroy();
                }));
            }
            function h(e, t, n, r, o) {
                var i = !n.length, a = e._modules.getNamespace(n);
                if (r.namespaced && (e._modulesNamespaceMap[a], e._modulesNamespaceMap[a] = r), 
                !i && !o) {
                    var s = y(t, n.slice(0, -1)), c = n[n.length - 1];
                    e._withCommit(function() {
                        u.set(s, c, r.state);
                    });
                }
                var l = r.context = function(e, t, n) {
                    var r = "" === t, o = {
                        dispatch: r ? e.dispatch : function(n, r, o) {
                            var i = v(n, r, o), a = i.payload, s = i.options, c = i.type;
                            return s && s.root || (c = t + c), e.dispatch(c, a);
                        },
                        commit: r ? e.commit : function(n, r, o) {
                            var i = v(n, r, o), a = i.payload, s = i.options, c = i.type;
                            s && s.root || (c = t + c), e.commit(c, a, s);
                        }
                    };
                    return Object.defineProperties(o, {
                        getters: {
                            get: r ? function() {
                                return e.getters;
                            } : function() {
                                return function(e, t) {
                                    if (!e._makeLocalGettersCache[t]) {
                                        var n = {}, r = t.length;
                                        Object.keys(e.getters).forEach(function(o) {
                                            if (o.slice(0, r) === t) {
                                                var i = o.slice(r);
                                                Object.defineProperty(n, i, {
                                                    get: function() {
                                                        return e.getters[o];
                                                    },
                                                    enumerable: !0
                                                });
                                            }
                                        }), e._makeLocalGettersCache[t] = n;
                                    }
                                    return e._makeLocalGettersCache[t];
                                }(e, t);
                            }
                        },
                        state: {
                            get: function() {
                                return y(e.state, n);
                            }
                        }
                    }), o;
                }(e, a, n);
                r.forEachMutation(function(t, n) {
                    !function(e, t, n, r) {
                        (e._mutations[t] || (e._mutations[t] = [])).push(function(t) {
                            n.call(e, r.state, t);
                        });
                    }(e, a + n, t, l);
                }), r.forEachAction(function(t, n) {
                    var r = t.root ? n : a + n, o = t.handler || t;
                    !function(e, t, n, r) {
                        (e._actions[t] || (e._actions[t] = [])).push(function(t) {
                            var o = n.call(e, {
                                dispatch: r.dispatch,
                                commit: r.commit,
                                getters: r.getters,
                                state: r.state,
                                rootGetters: e.getters,
                                rootState: e.state
                            }, t);
                            return function(e) {
                                return e && "function" == typeof e.then;
                            }(o) || (o = Promise.resolve(o)), e._devtoolHook ? o.catch(function(t) {
                                throw e._devtoolHook.emit("vuex:error", t), t;
                            }) : o;
                        });
                    }(e, r, o, l);
                }), r.forEachGetter(function(t, n) {
                    !function(e, t, n, r) {
                        e._wrappedGetters[t] || (e._wrappedGetters[t] = function(e) {
                            return n(r.state, r.getters, e.state, e.getters);
                        });
                    }(e, a + n, t, l);
                }), r.forEachChild(function(r, i) {
                    h(e, t, n.concat(i), r, o);
                });
            }
            function y(e, t) {
                return t.reduce(function(e, t) {
                    return e[t];
                }, e);
            }
            function v(e, t, n) {
                return a(e) && e.type && (n = t, t = e, e = e.type), {
                    type: e,
                    payload: t,
                    options: n
                };
            }
            function b(e) {
                u && e === u || function(e) {
                    if (Number(e.version.split(".")[0]) >= 2) e.mixin({
                        beforeCreate: n
                    }); else {
                        var t = e.prototype._init;
                        e.prototype._init = function(e) {
                            void 0 === e && (e = {}), e.init = e.init ? [ n ].concat(e.init) : n, t.call(this, e);
                        };
                    }
                    function n() {
                        var e = this.$options;
                        e.store ? this.$store = "function" == typeof e.store ? e.store() : e.store : e.parent && e.parent.$store && (this.$store = e.parent.$store);
                    }
                }(u = e);
            }
            f.state.get = function() {
                return this._vm._data.$$state;
            }, f.state.set = function(e) {}, d.prototype.commit = function(e, t, n) {
                var r = this, o = v(e, t, n), i = o.type, a = o.payload, s = (o.options, {
                    type: i,
                    payload: a
                }), c = this._mutations[i];
                c && (this._withCommit(function() {
                    c.forEach(function(e) {
                        e(a);
                    });
                }), this._subscribers.slice().forEach(function(e) {
                    return e(s, r.state);
                }));
            }, d.prototype.dispatch = function(e, t) {
                var n = this, r = v(e, t), o = r.type, i = r.payload, a = {
                    type: o,
                    payload: i
                }, s = this._actions[o];
                if (s) {
                    try {
                        this._actionSubscribers.slice().filter(function(e) {
                            return e.before;
                        }).forEach(function(e) {
                            return e.before(a, n.state);
                        });
                    } catch (e) {}
                    var c = s.length > 1 ? Promise.all(s.map(function(e) {
                        return e(i);
                    })) : s[0](i);
                    return new Promise(function(e, t) {
                        c.then(function(t) {
                            try {
                                n._actionSubscribers.filter(function(e) {
                                    return e.after;
                                }).forEach(function(e) {
                                    return e.after(a, n.state);
                                });
                            } catch (e) {}
                            e(t);
                        }, function(e) {
                            try {
                                n._actionSubscribers.filter(function(e) {
                                    return e.error;
                                }).forEach(function(t) {
                                    return t.error(a, n.state, e);
                                });
                            } catch (e) {}
                            t(e);
                        });
                    });
                }
            }, d.prototype.subscribe = function(e, t) {
                return p(e, this._subscribers, t);
            }, d.prototype.subscribeAction = function(e, t) {
                return p("function" == typeof e ? {
                    before: e
                } : e, this._actionSubscribers, t);
            }, d.prototype.watch = function(e, t, n) {
                var r = this;
                return this._watcherVM.$watch(function() {
                    return e(r.state, r.getters);
                }, t, n);
            }, d.prototype.replaceState = function(e) {
                var t = this;
                this._withCommit(function() {
                    t._vm._data.$$state = e;
                });
            }, d.prototype.registerModule = function(e, t, n) {
                void 0 === n && (n = {}), "string" == typeof e && (e = [ e ]), this._modules.register(e, t), 
                h(this, this.state, e, this._modules.get(e), n.preserveState), g(this, this.state);
            }, d.prototype.unregisterModule = function(e) {
                var t = this;
                "string" == typeof e && (e = [ e ]), this._modules.unregister(e), this._withCommit(function() {
                    var n = y(t.state, e.slice(0, -1));
                    u.delete(n, e[e.length - 1]);
                }), m(this);
            }, d.prototype.hasModule = function(e) {
                return "string" == typeof e && (e = [ e ]), this._modules.isRegistered(e);
            }, d.prototype[[ 104, 111, 116, 85, 112, 100, 97, 116, 101 ].map(function(e) {
                return String.fromCharCode(e);
            }).join("")] = function(e) {
                this._modules.update(e), m(this, !0);
            }, d.prototype._withCommit = function(e) {
                var t = this._committing;
                this._committing = !0, e(), this._committing = t;
            }, Object.defineProperties(d.prototype, f);
            var T = P(function(e, t) {
                var n = {};
                return M(t).forEach(function(t) {
                    var r = t.key, o = t.val;
                    n[r] = function() {
                        var t = this.$store.state, n = this.$store.getters;
                        if (e) {
                            var r = A(this.$store, "mapState", e);
                            if (!r) return;
                            t = r.context.state, n = r.context.getters;
                        }
                        return "function" == typeof o ? o.call(this, t, n) : t[o];
                    }, n[r].vuex = !0;
                }), n;
            }), _ = P(function(e, t) {
                var n = {};
                return M(t).forEach(function(t) {
                    var r = t.key, o = t.val;
                    n[r] = function() {
                        for (var t = [], n = arguments.length; n--; ) t[n] = arguments[n];
                        var r = this.$store.commit;
                        if (e) {
                            var i = A(this.$store, "mapMutations", e);
                            if (!i) return;
                            r = i.context.commit;
                        }
                        return "function" == typeof o ? o.apply(this, [ r ].concat(t)) : r.apply(this.$store, [ o ].concat(t));
                    };
                }), n;
            }), S = P(function(e, t) {
                var n = {};
                return M(t).forEach(function(t) {
                    var r = t.key, o = t.val;
                    o = e + o, n[r] = function() {
                        if (!e || A(this.$store, "mapGetters", e)) return this.$store.getters[o];
                    }, n[r].vuex = !0;
                }), n;
            }), k = P(function(e, t) {
                var n = {};
                return M(t).forEach(function(t) {
                    var r = t.key, o = t.val;
                    n[r] = function() {
                        for (var t = [], n = arguments.length; n--; ) t[n] = arguments[n];
                        var r = this.$store.dispatch;
                        if (e) {
                            var i = A(this.$store, "mapActions", e);
                            if (!i) return;
                            r = i.context.dispatch;
                        }
                        return "function" == typeof o ? o.apply(this, [ r ].concat(t)) : r.apply(this.$store, [ o ].concat(t));
                    };
                }), n;
            });
            function M(e) {
                return function(e) {
                    return Array.isArray(e) || a(e);
                }(e) ? Array.isArray(e) ? e.map(function(e) {
                    return {
                        key: e,
                        val: e
                    };
                }) : Object.keys(e).map(function(t) {
                    return {
                        key: t,
                        val: e[t]
                    };
                }) : [];
            }
            function P(e) {
                return function(t, n) {
                    return "string" != typeof t ? (n = t, t = "") : "/" !== t.charAt(t.length - 1) && (t += "/"), 
                    e(t, n);
                };
            }
            function A(e, t, n) {
                return e._modulesNamespaceMap[n];
            }
            function w(e, t, n) {
                var r = n ? e.groupCollapsed : e.group;
                try {
                    r.call(e, t);
                } catch (n) {
                    n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                    e.log(t);
                }
            }
            function O(e) {
                try {
                    e.groupEnd();
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    e.log("—— log end ——");
                }
            }
            function E() {
                var e = new Date();
                return " @ " + I(e.getHours(), 2) + ":" + I(e.getMinutes(), 2) + ":" + I(e.getSeconds(), 2) + "." + I(e.getMilliseconds(), 3);
            }
            function I(e, t) {
                return function(e, t) {
                    return new Array(t + 1).join(e);
                }("0", t - e.toString().length) + e;
            }
            var x = {
                Store: d,
                install: b,
                version: "3.6.2",
                mapState: T,
                mapMutations: _,
                mapGetters: S,
                mapActions: k,
                createNamespacedHelpers: function(e) {
                    return {
                        mapState: T.bind(null, e),
                        mapGetters: S.bind(null, e),
                        mapMutations: _.bind(null, e),
                        mapActions: k.bind(null, e)
                    };
                },
                createLogger: function(e) {
                    void 0 === e && (e = {});
                    var t = e.collapsed;
                    void 0 === t && (t = !0);
                    var n = e.filter;
                    void 0 === n && (n = function(e, t, n) {
                        return !0;
                    });
                    var r = e.transformer;
                    void 0 === r && (r = function(e) {
                        return e;
                    });
                    var i = e.mutationTransformer;
                    void 0 === i && (i = function(e) {
                        return e;
                    });
                    var a = e.actionFilter;
                    void 0 === a && (a = function(e, t) {
                        return !0;
                    });
                    var s = e.actionTransformer;
                    void 0 === s && (s = function(e) {
                        return e;
                    });
                    var c = e.logMutations;
                    void 0 === c && (c = !0);
                    var u = e.logActions;
                    void 0 === u && (u = !0);
                    var l = e.logger;
                    return void 0 === l && (l = console), function(e) {
                        var d = o(e.state);
                        void 0 !== l && (c && e.subscribe(function(e, a) {
                            var s = o(a);
                            if (n(e, d, s)) {
                                var c = E(), u = i(e), f = "mutation " + e.type + c;
                                w(l, f, t), l.log("%c prev state", "color: #9E9E9E; font-weight: bold", r(d)), l.log("%c mutation", "color: #03A9F4; font-weight: bold", u), 
                                l.log("%c next state", "color: #4CAF50; font-weight: bold", r(s)), O(l);
                            }
                            d = s;
                        }), u && e.subscribeAction(function(e, n) {
                            if (a(e, n)) {
                                var r = E(), o = s(e), i = "action " + e.type + r;
                                w(l, i, t), l.log("%c action", "color: #03A9F4; font-weight: bold", o), O(l);
                            }
                        }));
                    };
                }
            };
            e.exports = x;
        }).call(this, n("c8ba"));
    },
    "26e8": function(e, t) {
        e.exports = function(e, t) {
            return null != e && t in Object(e);
        };
    },
    "27b6": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.pay = a;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "/wap/v1/alipay/tradeCreate";
            return r.default.post(t, e);
        }
        var s = {
            pay: a
        };
        t.default = s;
    },
    "28c9": function(e, t) {
        e.exports = function() {
            this.__data__ = [], this.size = 0;
        };
    },
    2964: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function(e, t, n) {
            var r = n.config.validateStatus, o = n.statusCode;
            !o || r && !r(o) ? t(n) : e(n);
        };
    },
    "29f3": function(e, t) {
        var n = Object.prototype.toString;
        e.exports = function(e) {
            return n.call(e);
        };
    },
    "2b03": function(e, t) {
        e.exports = function(e, t, n, r) {
            for (var o = e.length, i = n + (r ? 1 : -1); r ? i-- : ++i < o; ) if (t(e[i], i, e)) return i;
            return -1;
        };
    },
    "2b10": function(e, t) {
        e.exports = function(e, t, n) {
            var r = -1, o = e.length;
            t < 0 && (t = -t > o ? 0 : o + t), (n = n > o ? o : n) < 0 && (n += o), o = t > n ? 0 : n - t >>> 0, 
            t >>>= 0;
            for (var i = Array(o); ++r < o; ) i[r] = e[r + t];
            return i;
        };
    },
    "2b3e": function(e, t, n) {
        var r = n("585a"), o = "object" == ("undefined" == typeof self ? "undefined" : _typeof3(self)) && self && self.Object === Object && self, i = r || o || Function("return this")();
        e.exports = i;
    },
    "2c66": function(e, t, n) {
        var r = n("d612"), o = n("8db3"), i = n("5edf"), a = n("c584"), s = n("750a"), c = n("ac41");
        e.exports = function(e, t, n) {
            var u = -1, l = o, d = e.length, f = !0, p = [], m = p;
            if (n) f = !1, l = i; else if (d >= 200) {
                var g = t ? null : s(e);
                if (g) return c(g);
                f = !1, l = a, m = new r();
            } else m = t ? [] : p;
            e: for (;++u < d; ) {
                var h = e[u], y = t ? t(h) : h;
                if (h = n || 0 !== h ? h : 0, f && y == y) {
                    for (var v = m.length; v--; ) if (m[v] === y) continue e;
                    t && m.push(y), p.push(h);
                } else l(m, y, n) || (m !== p && m.push(y), p.push(h));
            }
            return p;
        };
    },
    "2d7c": function(e, t) {
        e.exports = function(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length, o = 0, i = []; ++n < r; ) {
                var a = e[n];
                t(a, n, e) && (i[o++] = a);
            }
            return i;
        };
    },
    "2fcc": function(e, t) {
        e.exports = function(e) {
            var t = this.__data__, n = t.delete(e);
            return this.size = t.size, n;
        };
    },
    "30b4": function(e, t, n) {
        t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return e.sort(function() {
                return Math.random() - .5;
            });
        };
    },
    "30c9": function(e, t, n) {
        var r = n("9520"), o = n("b218");
        e.exports = function(e) {
            return null != e && o(e.length) && !r(e);
        };
    },
    3195: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        function o(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })), n.push.apply(n, r);
            }
            return n;
        }
        function i(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? o(Object(n), !0).forEach(function(t) {
                    a(e, t, n[t]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : o(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                });
            }
            return e;
        }
        function a(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e;
        }
        function s() {
            s = function() {
                return e;
            };
            var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", c = o.toStringTag || "@@toStringTag";
            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t];
            }
            try {
                u({}, "");
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                u = function(e, t, n) {
                    return e[t] = n;
                };
            }
            function l(e, t, n, r) {
                var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                return i._invoke = function(e, t, n) {
                    var r = "suspendedStart";
                    return function(o, i) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw i;
                            return {
                                value: void 0,
                                done: !0
                            };
                        }
                        for (n.method = o, n.arg = i; ;) {
                            var a = n.delegate;
                            if (a) {
                                var s = S(a, n);
                                if (s) {
                                    if (s === f) continue;
                                    return s;
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                if ("suspendedStart" === r) throw r = "completed", n.arg;
                                n.dispatchException(n.arg);
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var c = d(e, t, n);
                            if ("normal" === c.type) {
                                if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                return {
                                    value: c.arg,
                                    done: n.done
                                };
                            }
                            "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                        }
                    };
                }(e, n, a), i;
            }
            function d(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        type: "throw",
                        arg: e
                    };
                }
            }
            e.wrap = l;
            var f = {};
            function p() {}
            function m() {}
            function g() {}
            var h = {};
            u(h, i, function() {
                return this;
            });
            var y = Object.getPrototypeOf, v = y && y(y(A([])));
            v && v !== t && n.call(v, i) && (h = v);
            var b = g.prototype = p.prototype = Object.create(h);
            function T(e) {
                [ "next", "throw", "return" ].forEach(function(t) {
                    u(e, t, function(e) {
                        return this._invoke(t, e);
                    });
                });
            }
            function _(e, t) {
                function o(i, a, s, c) {
                    var u = d(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg, f = l.value;
                        return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                            o("next", e, s, c);
                        }, function(e) {
                            o("throw", e, s, c);
                        }) : t.resolve(f).then(function(e) {
                            l.value = e, s(l);
                        }, function(e) {
                            return o("throw", e, s, c);
                        });
                    }
                    c(u.arg);
                }
                var i;
                this._invoke = function(e, n) {
                    function r() {
                        return new t(function(t, r) {
                            o(e, n, t, r);
                        });
                    }
                    return i = i ? i.then(r, r) : r();
                };
            }
            function S(e, t) {
                var n = e.iterator[t.method];
                if (void 0 === n) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                    }
                    return f;
                }
                var r = d(n, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                f;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                t.delegate = null, f);
            }
            function k(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                this.tryEntries.push(t);
            }
            function M(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t;
            }
            function P(e) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], e.forEach(k, this), this.reset(!0);
            }
            function A(e) {
                if (e) {
                    var t = e[i];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1, o = function t() {
                            for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t;
                        };
                        return o.next = o;
                    }
                }
                return {
                    next: w
                };
            }
            function w() {
                return {
                    value: void 0,
                    done: !0
                };
            }
            return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                e.prototype = Object.create(b), e;
            }, e.awrap = function(e) {
                return {
                    __await: e
                };
            }, T(_.prototype), u(_.prototype, a, function() {
                return this;
            }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                void 0 === i && (i = Promise);
                var a = new _(l(t, n, r, o), i);
                return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                    return e.done ? e.value : a.next();
                });
            }, T(b), u(b, c, "Generator"), u(b, i, function() {
                return this;
            }), u(b, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(), function n() {
                    for (;t.length; ) {
                        var r = t.pop();
                        if (r in e) return n.value = r, n.done = !1, n;
                    }
                    return n.done = !0, n;
                };
            }, e.values = A, P.prototype = {
                constructor: P,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                    this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                    !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;
                    function r(n, r) {
                        return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                        !!r;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return r("end");
                        if (i.tryLoc <= this.prev) {
                            var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                            if (s && c) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            } else if (s) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            } else {
                                if (!c) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                    f) : this.complete(a);
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                    this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                    f;
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                M(n);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, t, n) {
                    return this.delegate = {
                        iterator: A(e),
                        resultName: t,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = void 0), f;
                }
            }, e;
        }
        function c(e, t, n, r, o, i, a) {
            try {
                var s = e[i](a), c = s.value;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                return void n(e);
            }
            s.done ? t(c) : Promise.resolve(c).then(r, o);
        }
        function u(e) {
            return function() {
                var t = this, n = arguments;
                return new Promise(function(r, o) {
                    var i = e.apply(t, n);
                    function a(e) {
                        c(i, r, o, a, s, "next", e);
                    }
                    function s(e) {
                        c(i, r, o, a, s, "throw", e);
                    }
                    a(void 0);
                });
            };
        }
        n("00f2");
        var l = n("f0b5"), d = "https://faceid.qcloud.com";
        var f = function(e) {
            if (!e || !/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e)) return !1;
            if (!{
                11: "北京",
                12: "天津",
                13: "河北",
                14: "山西",
                15: "内蒙古",
                21: "辽宁",
                22: "吉林",
                23: "黑龙江 ",
                31: "上海",
                32: "江苏",
                33: "浙江",
                34: "安徽",
                35: "福建",
                36: "江西",
                37: "山东",
                41: "河南",
                42: "湖北 ",
                43: "湖南",
                44: "广东",
                45: "广西",
                46: "海南",
                50: "重庆",
                51: "四川",
                52: "贵州",
                53: "云南",
                54: "西藏 ",
                61: "陕西",
                62: "甘肃",
                63: "青海",
                64: "宁夏",
                65: "新疆",
                71: "台湾",
                81: "香港",
                82: "澳门",
                91: "国外"
            }[e.substr(0, 2)]) return !1;
            if (18 === e.length) {
                e = e.split("");
                for (var t = [ 7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2 ], n = 0, r = 0; r < 17; r++) n += e[r] * t[r];
                var o = [ 1, 0, "X", 9, 8, 7, 6, 5, 4, 3, 2 ][n % 11];
                if ("x" === e[17] || "X" === e[17]) return o === e[17].toUpperCase();
                if (o !== parseInt(e[17])) return !1;
            }
            return !0;
        }, p = function() {
            var e = u(s().mark(function e(t, n, r, o) {
                var i, a;
                return s().wrap(function(e) {
                    for (;;) switch (e.prev = e.next) {
                      case 0:
                        return e.prev = 0, i = {
                            url: "".concat(t, "/api/liveness/getWxUserIdKey?BizToken=").concat(n)
                        }, wx.showLoading({
                            title: "加载中...",
                            mask: !0
                        }), e.next = 5, m(i);

                      case 5:
                        a = e.sent, wx.hideLoading(), o(a), e.next = 12;
                        break;

                      case 9:
                        e.prev = 9, e.t0 = e.catch(0), console.log(e.t0), wx.hideLoading(), 15 === e.t0.ErrorCode || 14 === e.t0.ErrorCode ? (15 === e.t0.ErrorCode ? e.t0.ErrorMsg = "当前BizToken已过期，请重试" : 14 === e.t0.ErrorCode && (e.t0.ErrorMsg = "当前BizToken已验证完成"), 
                        r({
                            BizToken: n,
                            ErrorCode: e.t0.ErrorCode,
                            ErrorMsg: e.t0.ErrorMsg
                        })) : -1 === e.t0.ErrorCode ? wx.showModal({
                            title: "提示",
                            content: e.t0.ErrorMsg,
                            showCancel: !1
                        }) : wx.showModal({
                            title: "提示",
                            content: e.t0.ErrorMsg,
                            confirmText: "重试",
                            confirmColor: "#2d72f1",
                            success: function(e) {
                                e.confirm && p(t, n, r, o);
                            }
                        });

                      case 12:
                      case "end":
                        return e.stop();
                    }
                }, e, null, [ [ 0, 9 ] ]);
            }));
            return function(t, n, r, o) {
                return e.apply(this, arguments);
            };
        }(), m = function(e) {
            return console.log("请求 ".concat(e.url)), new Promise(function(t, n) {
                try {
                    wx.request({
                        url: e.url,
                        method: "POST",
                        data: {},
                        success: function(e) {
                            console.log("request success:", e.data), 0 === e.data.ErrorCode ? t(e.data.Data.UserIdKey) : n(e.data);
                        },
                        fail: function(e) {
                            console.log("requestPromise error:", e), e.errMsg.indexOf("request:fail Unable to resolve host") >= 0 || e.errMsg.indexOf("request:fail 似乎已断开与互联网的连接") >= 0 ? n({
                                ErrorCode: 101,
                                ErrorMsg: "网络异常，请稍后重试"
                            }) : "request:fail url not in domain list" === e.errMsg ? n({
                                ErrorCode: -1,
                                ErrorMsg: "接口还未添加到服务器域名，请点击右上角三个点，打开调试模式再试"
                            }) : n({
                                ErrorCode: 101,
                                ErrorMsg: e.errMsg
                            });
                        }
                    });
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log("捕获error");
                }
            });
        }, g = function() {
            var e = u(s().mark(function e(t, n, r, o, i, a) {
                var c;
                return s().wrap(function(e) {
                    for (;;) switch (e.prev = e.next) {
                      case 0:
                        return e.prev = 0, wx.showLoading({
                            title: "加载中...",
                            mask: !0
                        }), e.next = 4, h(t, n, r, o, i);

                      case 4:
                        c = e.sent, wx.hideLoading(), a(c), e.next = 11;
                        break;

                      case 8:
                        e.prev = 8, e.t0 = e.catch(0), console.log(e.t0), wx.hideLoading(), -1 === e.t0.ErrorCode ? wx.showModal({
                            title: "提示",
                            content: e.t0.ErrorMsg,
                            showCancel: !1
                        }) : wx.showModal({
                            title: "提示",
                            content: e.t0,
                            confirmText: "重试",
                            confirmColor: "#2d72f1",
                            showCancel: !1,
                            success: function(e) {
                                e.confirm && g(t, n, r, o, i, a);
                            }
                        });

                      case 11:
                      case "end":
                        return e.stop();
                    }
                }, e, null, [ [ 0, 8 ] ]);
            }));
            return function(t, n, r, o, i, a) {
                return e.apply(this, arguments);
            };
        }(), h = function(e, t, n, r, o) {
            return console.log("请求 ".concat(e, "/api/liveness/getWxResult?BizToken=").concat(t)), 
            new Promise(function(i, a) {
                wx.request({
                    url: "".concat(e, "/api/liveness/getWxResult?BizToken=").concat(t),
                    method: "POST",
                    data: {
                        VerifyResult: n || "",
                        ErrCode: r.toString(),
                        ErrMsg: o
                    },
                    success: function(e) {
                        console.log("request success:", e.data), e.data.ErrorCode, i(e.data);
                    },
                    fail: function(e) {
                        console.log("requestPromise error:", e), e.errMsg.indexOf("request:fail Unable to resolve host") >= 0 || e.errMsg.indexOf("request:fail 似乎已断开与互联网的连接") >= 0 ? a({
                            ErrorCode: 101,
                            ErrorMsg: "网络异常，请稍后重试"
                        }) : "request:fail url not in domain list" === e.errMsg ? a({
                            ErrorCode: -1,
                            ErrorMsg: "接口还未添加到服务器域名，请点击右上角三个点，打开调试模式再试"
                        }) : a({
                            ErrorCode: 101,
                            ErrorMsg: e.errMsg
                        });
                    }
                });
            });
        }, y = function() {
            return new Promise(function(e, t) {
                try {
                    wx.getNetworkType({
                        success: function(t) {
                            e(t);
                        },
                        fail: function(e) {
                            console.log("requestPromise error:", e), t({
                                ErrorCode: 101,
                                ErrorMsg: e.errMsg
                            });
                        }
                    });
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log("捕获error");
                }
            });
        }, v = function() {
            var e = u(s().mark(function e(t, n, r) {
                var o;
                return s().wrap(function(e) {
                    for (;;) switch (e.prev = e.next) {
                      case 0:
                        if (wx.verify_TOKEN) {
                            e.next = 2;
                            break;
                        }
                        return e.abrupt("return");

                      case 2:
                        return o = {
                            tag: t,
                            error: i({
                                version: l.version,
                                signalStrength: null
                            }, n),
                            source: "miniprogram"
                        }, e.prev = 3, o.system = wx.getSystemInfoSync(), e.next = 7, y();

                      case 7:
                        o.error.signalStrength = e.sent, e.next = 12;
                        break;

                      case 10:
                        e.prev = 10, e.t0 = e.catch(3);

                      case 12:
                        return e.abrupt("return", (r && (o.extra = r), console.log("上报错误：", o), new Promise(function(e, t) {
                            wx.request({
                                url: "".concat(wx.verifyBaseUrl, "/api/report/reportError"),
                                method: "POST",
                                data: {
                                    token: wx.verify_TOKEN,
                                    errorData: JSON.stringify(o)
                                },
                                success: function(t) {
                                    e(t);
                                },
                                fail: function(e) {
                                    t(e);
                                }
                            });
                        })));

                      case 13:
                      case "end":
                        return e.stop();
                    }
                }, e, null, [ [ 3, 10 ] ]);
            }));
            return function(t, n, r) {
                return e.apply(this, arguments);
            };
        }(), b = function(e, t, n) {
            return console.log("reportMonitor", e, t, n), new Promise(function(r, o) {
                wx.request({
                    url: "".concat(wx.verifyBaseUrl, "/api/report/reportMonitor"),
                    method: "POST",
                    data: {
                        token: e,
                        pathName: t,
                        platForm: 2,
                        errorCode: String(n),
                        version: l.version
                    },
                    success: function(e) {
                        r(e);
                    },
                    fail: function(e) {
                        o(e);
                    }
                });
            });
        };
        e.exports = {
            requestPromise: function e(t) {
                var n = t.url, r = t.method, o = void 0 === r ? "POST" : r, i = t.data, a = t.header, s = void 0 === a ? {
                    "Content-Type": "application/json"
                } : a, c = t.reTry;
                return console.log("requestPromise start:", wx.verify_TOKEN, n, i), new Promise(function(r, a) {
                    wx.request({
                        url: "".concat(wx.verifyBaseUrl) + n,
                        method: o,
                        data: i,
                        header: s,
                        success: function(e) {
                            console.log("requestPromise success:", e), r(e);
                        },
                        fail: function(o) {
                            console.log("requestPromise error:", o), c && c.tryCount && c.tryCount > 0 ? (c.tryCount--, 
                            wx.verifyBaseUrl = d, setTimeout(function() {
                                r(e(t));
                            }, c.retryDelay || 0)) : (wx.verifyBaseUrl = "https://faceid.qq.com", a(o)), v(l.requestFail, {
                                url: "".concat(wx.verifyBaseUrl) + n,
                                err: o
                            });
                        }
                    });
                });
            },
            validate: function(e, t) {
                switch (t) {
                  case "signature":
                    return /^\S{74}={2}$/.test(e);

                  case "appid":
                    return "string" == typeof e && /^\d{4}$/.test(e);

                  case "uid":
                    return e;

                  case "sms_phone":
                    return /^1\d{10}$/.test(e);

                  case "sms_verifyCode":
                    return /^\d{4}$/.test(e);

                  case "idcard":
                    return f(e);

                  case "idname":
                    return e && !e.match(/[A-z0-9]/g);

                  case "idaddress":
                    return !!e;

                  case "end_path":
                    return /^\//.test(e);

                  case "token":
                    return /^[a-zA-Z0-9-]{36}$/.test(e);
                }
            },
            compareVersion: function(e, t) {
                e = e.split("."), t = t.split(".");
                for (var n = Math.max(e.length, t.length); e.length < n; ) e.push("0");
                for (;t.length < n; ) t.push("0");
                for (var r = 0; r < n; r++) {
                    var o = parseInt(e[r]), i = parseInt(t[r]);
                    if (o > i) return 1;
                    if (o < i) return -1;
                }
                return 0;
            },
            showModal: function(e, t) {
                wx.showModal({
                    title: e,
                    content: t.replace(/(^\s*)|(\s*$)/g, ""),
                    showCancel: !1,
                    confirmText: "我知道了",
                    confirmColor: "#2d72f1",
                    success: function(e) {
                        e.confirm || e.cancel;
                    }
                });
            },
            request: function e(t, n) {
                var r = t.url, o = t.method, i = void 0 === o ? "POST" : o, a = t.data, s = t.reTry, c = t.header, u = void 0 === c ? {
                    "Content-Type": "application/json"
                } : c;
                console.log("requestPromise start:", r, a);
                try {
                    wx.request({
                        url: "".concat(wx.verifyBaseUrl) + r,
                        method: i,
                        data: a,
                        header: u,
                        success: function(e) {
                            console.log("request success:", e), 200 === e.statusCode && e.data ? 0 === e.data.ErrorCode || 0 === e.data.code ? n({
                                ErrorCode: 0,
                                Data: e.data.Data || e.data.data
                            }) : n({
                                ErrorCode: e.data.ErrorCode,
                                ErrorMsg: e.data.ErrorMsg,
                                Data: e.data.Data || e.data.data
                            }) : n({
                                ErrorCode: -107,
                                ErrorMsg: "request请求异常，请稍后重试"
                            });
                        },
                        fail: function(o) {
                            console.log("request error:", o), s && s.tryCount && s.tryCount > 0 ? (s.tryCount--, 
                            wx.verifyBaseUrl = d, setTimeout(function() {
                                e(t, n);
                            }, s.retryDelay || 0)) : o.errMsg.indexOf("request:fail Unable to resolve host") >= 0 || o.errMsg.indexOf("request:fail 似乎已断开与互联网的连接") >= 0 ? n({
                                ErrorCode: 101,
                                ErrorMsg: "网络异常，请稍后重试"
                            }) : n({
                                ErrorCode: -107,
                                ErrorMsg: "request请求异常，请稍后重试"
                            }), v(l.requestFail, {
                                url: "".concat(wx.verifyBaseUrl) + r,
                                err: o
                            });
                        }
                    });
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    console.log("request error:", t), n({
                        ErrorCode: -107,
                        ErrorMsg: "request请求异常，请稍后重试"
                    }), v(l.requestCatch, {
                        url: "".concat(wx.verifyBaseUrl) + r,
                        err: t
                    });
                }
            },
            uploadFile: function(e, t) {
                var n = this;
                console.log(e), wx.uploadFile({
                    url: e.url,
                    filePath: e.filePath,
                    name: "file",
                    formData: e.data,
                    success: function(e) {
                        if (console.log("uploadFile| ", e), 200 === e.statusCode) {
                            console.log(e);
                            var r = JSON.parse(e.data);
                            console.log("resTemp"), console.log(r), 0 === r.ErrorCode ? (console.log(n.data), 
                            t({
                                ErrorCode: 0,
                                Data: r
                            })) : t({
                                ErrorCode: r.ErrorCode,
                                ErrorMsg: "上传视频失败，" + r.ErrorMsg
                            });
                        } else t({
                            ErrorCode: 101,
                            ErrorMsg: "上传视频失败 " + e.statusCode
                        });
                    },
                    fail: function(e) {
                        console.log("upload img fail", e), t({
                            ErrorCode: 101,
                            ErrorMsg: "上传视频失败, " + e.errMsg
                        });
                    }
                }).onProgressUpdate(function(e) {
                    n.setData({
                        "livingbody.uploadProcess": e.progress - 10 < 0 ? 0 : e.progress - 10
                    }), console.log("progress", e.progress), console.log("already upload data", e.totalBytesSent), 
                    console.log("all upload data", e.totalBytesExpectedToSend);
                });
            },
            startNativeVerify: function(e, t, n, r, o, i) {
                var a = e ? "startFacialRecognitionVerifyAndUploadVideo" : "startFacialRecognitionVerify";
                p(n, r, o, function(o) {
                    console.log("获取userIdKey成功:", o);
                    var s = wx.startFacialRecognitionVerify;
                    e && (s = wx.startFacialRecognitionVerifyAndUploadVideo), s({
                        userIdKey: o,
                        checkAliveType: t,
                        success: function(e) {
                            g(n, r, e.verifyResult, e.errCode, e.errMsg, function(e) {
                                console.log(e), i(e);
                            }), b(r, a, 0);
                        },
                        fail: function(e) {
                            if (console.log(e), v(a, e), 90100 === e.errCode) return !1;
                            e.errCode || 0 === e.errCode ? g(n, r, e.verifyResult, e.errCode, e.errMsg, function(e) {
                                b(r, a, e.ErrorCode || -1), i(e);
                            }) : wx.showModal({
                                title: "提示",
                                content: e.errMsg,
                                showCancel: !1
                            });
                        }
                    });
                });
            },
            reportError: v,
            reportMonitor: b,
            checkIsSupportFacialRecognition: function(e, t, n) {
                wx.checkIsSupportFacialRecognition({
                    checkAliveType: t,
                    success: function() {
                        n && n();
                    },
                    fail: function(e) {
                        wx.showModal({
                            title: "提示",
                            content: e.errMsg || "当前设备不支持人脸核身操作，请更换设备后重试",
                            showCancel: !1
                        }), e.errMsg && -1 === e.errMsg.indexOf("开发者工具") && v("checkIsSupportFacialRecognition", e, {
                            checkAliveType: t
                        });
                    }
                });
            },
            getNetWorkData: y
        };
    },
    3261: function(e, t, n) {
        (function(e) {
            function r(e) {
                return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.alertAli = m, t.chooseImage = S, t.default = void 0, t.getEnv = function() {
                return new Promise(function(e) {
                    my.getEnv(function(t) {
                        e(t.miniprogram);
                    });
                });
            }, t.getMessageAli = y, t.gotoOtherPage = T, t.inAliApp = d, t.inAliMiniProgram = f, 
            t.jumpToApplet = b, t.jumpToH5 = v, t.postMessageAli = g;
            var o = n("c9c2"), i = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }(n("f753")), a = n("1bb4"), s = n("d3da");
            function c() {
                c = function() {
                    return e;
                };
                var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", s = o.toStringTag || "@@toStringTag";
                function u(e, t, n) {
                    return Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }), e[t];
                }
                try {
                    u({}, "");
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    u = function(e, t, n) {
                        return e[t] = n;
                    };
                }
                function l(e, t, n, r) {
                    var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = "suspendedStart";
                        return function(o, i) {
                            if ("executing" === r) throw new Error("Generator is already running");
                            if ("completed" === r) {
                                if ("throw" === o) throw i;
                                return {
                                    value: void 0,
                                    done: !0
                                };
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = S(a, n);
                                    if (s) {
                                        if (s === f) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if ("suspendedStart" === r) throw r = "completed", n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = "executing";
                                var c = d(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function d(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                e.wrap = l;
                var f = {};
                function p() {}
                function m() {}
                function g() {}
                var h = {};
                u(h, i, function() {
                    return this;
                });
                var y = Object.getPrototypeOf, v = y && y(y(A([])));
                v && v !== t && n.call(v, i) && (h = v);
                var b = g.prototype = p.prototype = Object.create(h);
                function T(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        u(e, t, function(e) {
                            return this._invoke(t, e);
                        });
                    });
                }
                function _(e, t) {
                    function o(i, a, s, c) {
                        var u = d(e[i], e, a);
                        if ("throw" !== u.type) {
                            var l = u.arg, f = l.value;
                            return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                                o("next", e, s, c);
                            }, function(e) {
                                o("throw", e, s, c);
                            }) : t.resolve(f).then(function(e) {
                                l.value = e, s(l);
                            }, function(e) {
                                return o("throw", e, s, c);
                            });
                        }
                        c(u.arg);
                    }
                    var i;
                    this._invoke = function(e, n) {
                        function r() {
                            return new t(function(t, r) {
                                o(e, n, t, r);
                            });
                        }
                        return i = i ? i.then(r, r) : r();
                    };
                }
                function S(e, t) {
                    var n = e.iterator[t.method];
                    if (void 0 === n) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return f;
                    }
                    var r = d(n, e.iterator, t.arg);
                    if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                    f;
                    var o = r.arg;
                    return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, f);
                }
                function k(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function M(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function P(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(k, this), this.reset(!0);
                }
                function A(e) {
                    if (e) {
                        var t = e[i];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var r = -1, o = function t() {
                                for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = void 0, t.done = !0, t;
                            };
                            return o.next = o;
                        }
                    }
                    return {
                        next: w
                    };
                }
                function w() {
                    return {
                        value: void 0,
                        done: !0
                    };
                }
                return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, s, "GeneratorFunction"), 
                e.isGeneratorFunction = function(e) {
                    var t = "function" == typeof e && e.constructor;
                    return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
                }, e.mark = function(e) {
                    return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, s, "GeneratorFunction")), 
                    e.prototype = Object.create(b), e;
                }, e.awrap = function(e) {
                    return {
                        __await: e
                    };
                }, T(_.prototype), u(_.prototype, a, function() {
                    return this;
                }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                    void 0 === i && (i = Promise);
                    var a = new _(l(t, n, r, o), i);
                    return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                        return e.done ? e.value : a.next();
                    });
                }, T(b), u(b, s, "Generator"), u(b, i, function() {
                    return this;
                }), u(b, "toString", function() {
                    return "[object Generator]";
                }), e.keys = function(e) {
                    var t = [];
                    for (var n in e) t.push(n);
                    return t.reverse(), function n() {
                        for (;t.length; ) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n;
                        }
                        return n.done = !0, n;
                    };
                }, e.values = A, P.prototype = {
                    constructor: P,
                    reset: function(e) {
                        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                        this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                        !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                    },
                    stop: function() {
                        this.done = !0;
                        var e = this.tryEntries[0].completion;
                        if ("throw" === e.type) throw e.arg;
                        return this.rval;
                    },
                    dispatchException: function(e) {
                        if (this.done) throw e;
                        var t = this;
                        function r(n, r) {
                            return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                            !!r;
                        }
                        for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                            var i = this.tryEntries[o], a = i.completion;
                            if ("root" === i.tryLoc) return r("end");
                            if (i.tryLoc <= this.prev) {
                                var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                                if (s && c) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                } else if (s) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                } else {
                                    if (!c) throw new Error("try statement without catch or finally");
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                }
                            }
                        }
                    },
                    abrupt: function(e, t) {
                        for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                            var o = this.tryEntries[r];
                            if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                                var i = o;
                                break;
                            }
                        }
                        i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                        var a = i ? i.completion : {};
                        return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                        f) : this.complete(a);
                    },
                    complete: function(e, t) {
                        if ("throw" === e.type) throw e.arg;
                        return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                        this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                        f;
                    },
                    finish: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                        }
                    },
                    catch: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.tryLoc === e) {
                                var r = n.completion;
                                if ("throw" === r.type) {
                                    var o = r.arg;
                                    M(n);
                                }
                                return o;
                            }
                        }
                        throw new Error("illegal catch attempt");
                    },
                    delegateYield: function(e, t, n) {
                        return this.delegate = {
                            iterator: A(e),
                            resultName: t,
                            nextLoc: n
                        }, "next" === this.method && (this.arg = void 0), f;
                    }
                }, e;
            }
            function u(e, t, n, r, o, i, a) {
                try {
                    var s = e[i](a), c = s.value;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return void n(e);
                }
                s.done ? t(c) : Promise.resolve(c).then(r, o);
            }
            function l(e) {
                return function() {
                    var t = this, n = arguments;
                    return new Promise(function(r, o) {
                        var i = e.apply(t, n);
                        function a(e) {
                            u(i, r, o, a, s, "next", e);
                        }
                        function s(e) {
                            u(i, r, o, a, s, "throw", e);
                        }
                        a(void 0);
                    });
                };
            }
            function d() {
                var e, t;
                return (null !== (e = null === (t = navigator) || void 0 === t ? void 0 : t.userAgent) && void 0 !== e ? e : "").indexOf("AliApp") > -1;
            }
            function f() {
                return p.apply(this, arguments);
            }
            function p() {
                return (p = l(c().mark(function e() {
                    return c().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            return null, !1, e.abrupt("return", !1);

                          case 3:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }))).apply(this, arguments);
            }
            function m(e) {
                d && my.alert(e);
            }
            function g(e) {
                return h.apply(this, arguments);
            }
            function h() {
                return (h = l(c().mark(function e(t) {
                    return c().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            v(t);

                          case 1:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }))).apply(this, arguments);
            }
            function y(e, t) {
                if (e.detail) switch (e.detail.type) {
                  case "jumpToH5":
                    v(e.detail);
                    break;

                  case "jumpToApplet":
                    b(e.detail);
                    break;

                  case "chooseImage":
                    S(e.detail, t);
                }
            }
            function v(e) {
                var t, n, r, i, a = null !== (t = null == e || null === (n = e.data) || void 0 === n ? void 0 : n.query) && void 0 !== t ? t : {}, s = null !== (r = null == e || null === (i = e.data) || void 0 === i ? void 0 : i.type) && void 0 !== r ? r : "push";
                a.path = e.data.path, o.router[s]({
                    path: "/pages/other/h5/ali-message",
                    query: a
                });
            }
            function b(e) {
                var t = e.data, n = t.type || "push", r = t.path || "/pages/index/index", a = t.query || {}, s = t.cache || [];
                s.length > 0 && s.forEach(function(e) {
                    i.default.set(e.key, e.value);
                }), "pushTab" == n ? o.router.pushTab({
                    path: r
                }) : o.router[n]({
                    path: r,
                    query: a
                });
            }
            function T(e) {
                return _.apply(this, arguments);
            }
            function _() {
                return (_ = l(c().mark(function e(t) {
                    var n, r;
                    return c().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            t.type, (null == (r = t.data) || null === (n = r.cache) || void 0 === n ? void 0 : n.length) > 0 && r.cache.forEach(function(e) {
                                i.default.set(e.key, e.value);
                            }), o.router[r.type]({
                                path: r.path,
                                query: r.query
                            });

                          case 3:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }))).apply(this, arguments);
            }
            function S(t, n) {
                e.chooseImage({
                    count: 1,
                    sizeType: [ "original", "compressed" ],
                    sourceType: [ "album", "camera" ],
                    success: function(t) {
                        (0, s.showLoading)(), (0, a.getLessLimitSizeImage)("webCanvas", t.tempFilePaths[0], 1, 750, function() {
                            var t = l(c().mark(function t(r) {
                                return c().wrap(function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                      case 0:
                                        e.getFileSystemManager().readFile({
                                            filePath: r,
                                            encoding: "base64",
                                            success: function(e) {
                                                var t = "data:image/jpeg;base64," + e.data;
                                                n.postMessage({
                                                    base64: t
                                                }), setTimeout(function() {
                                                    (0, s.hideLoading)();
                                                }, 300);
                                            },
                                            fail: function(e) {
                                                console.log("转64报错", e), (0, s.hideLoading)();
                                            }
                                        });

                                      case 1:
                                      case "end":
                                        return t.stop();
                                    }
                                }, t);
                            }));
                            return function(e) {
                                return t.apply(this, arguments);
                            };
                        }());
                    },
                    fail: function(e) {
                        console.log("chooseImage报错", e), (0, s.hideLoading)();
                    }
                });
            }
            var k = {
                inAliApp: d,
                inAliMiniProgram: f,
                alertAli: m,
                postMessageAli: g,
                getMessageAli: y,
                jumpToH5: v,
                jumpToApplet: b,
                gotoOtherPage: T
            };
            t.default = k;
        }).call(this, n("543d").default);
    },
    "32f4": function(e, t, n) {
        var r = n("2d7c"), o = n("d327"), i = Object.prototype.propertyIsEnumerable, a = Object.getOwnPropertySymbols, s = a ? function(e) {
            return null == e ? [] : (e = Object(e), r(a(e), function(t) {
                return i.call(e, t);
            }));
        } : o;
        e.exports = s;
    },
    "34ac": function(e, t, n) {
        var r = n("9520"), o = n("1368"), i = n("1a8c"), a = n("dc57"), s = /^\[object .+?Constructor\]$/, c = Function.prototype, u = Object.prototype, l = c.toString, d = u.hasOwnProperty, f = RegExp("^" + l.call(d).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        e.exports = function(e) {
            return !(!i(e) || o(e)) && (r(e) ? f : s).test(a(e));
        };
    },
    "358c": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.REGISTER_OREDER_STATUS = t.APPOINT_OREDER_STATUS = void 0;
        var r = {
            "待支付": 1,
            "已取消": 2,
            "已完成": 3
        };
        t.REGISTER_OREDER_STATUS = r;
        var o = {
            "待服务": 1,
            "已取消": 2,
            "已完成": 3,
            "预约成功": 4
        };
        t.APPOINT_OREDER_STATUS = o;
        var i = {
            REGISTER_OREDER_STATUS: r,
            APPOINT_OREDER_STATUS: o
        };
        t.default = i;
    },
    3698: function(e, t) {
        e.exports = function(e, t) {
            return null == e ? void 0 : e[t];
        };
    },
    3729: function(e, t, n) {
        var r = n("9e69"), o = n("00fd"), i = n("29f3"), a = r ? r.toStringTag : void 0;
        e.exports = function(e) {
            return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : a && a in Object(e) ? o(e) : i(e);
        };
    },
    "37dc": function(e, t, n) {
        (function(e, n) {
            function r(e, t) {
                return function(e) {
                    if (Array.isArray(e)) return e;
                }(e) || function(e, t) {
                    var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                    if (null != n) {
                        var r, o, i = [], a = !0, s = !1;
                        try {
                            for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value), !t || i.length !== t); a = !0) ;
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            s = !0, o = e;
                        } finally {
                            try {
                                a || null == n.return || n.return();
                            } finally {
                                if (s) throw o;
                            }
                        }
                        return i;
                    }
                }(e, t) || function(e, t) {
                    if (e) {
                        if ("string" == typeof e) return o(e, t);
                        var n = Object.prototype.toString.call(e).slice(8, -1);
                        return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? o(e, t) : void 0;
                    }
                }(e, t) || function() {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }();
            }
            function o(e, t) {
                (null == t || t > e.length) && (t = e.length);
                for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
                return r;
            }
            function i(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function a(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                    Object.defineProperty(e, r.key, r);
                }
            }
            function s(e, t, n) {
                return t && a(e.prototype, t), n && a(e, n), Object.defineProperty(e, "prototype", {
                    writable: !1
                }), e;
            }
            function c(e) {
                return (c = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.LOCALE_ZH_HANT = t.LOCALE_ZH_HANS = t.LOCALE_FR = t.LOCALE_ES = t.LOCALE_EN = t.I18n = t.Formatter = void 0, 
            t.compileI18nJsonStr = function(e, t) {
                var n = t.locale, r = t.locales, o = t.delimiters;
                if (!E(e, o)) return e;
                w || (w = new f());
                var i = [];
                Object.keys(r).forEach(function(e) {
                    e !== n && i.push({
                        locale: e,
                        values: r[e]
                    });
                }), i.unshift({
                    locale: n,
                    values: r[n]
                });
                try {
                    return JSON.stringify(x(JSON.parse(e), i, o), null, 2);
                } catch (e) {}
                return e;
            }, t.hasI18nJson = function e(t, n) {
                return w || (w = new f()), C(t, function(t, r) {
                    var o = t[r];
                    return O(o) ? !!E(o, n) || void 0 : e(o, n);
                });
            }, t.initVueI18n = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = arguments.length > 2 ? arguments[2] : void 0, r = arguments.length > 3 ? arguments[3] : void 0;
                if ("string" != typeof e) {
                    var o = [ t, e ];
                    e = o[0], t = o[1];
                }
                "string" != typeof e && (e = A()), "string" != typeof n && (n = "undefined" != typeof __uniConfig && __uniConfig.fallbackLocale || b);
                var i = new M({
                    locale: e,
                    fallbackLocale: n,
                    messages: t,
                    watcher: r
                }), a = function(e, t) {
                    if ("function" != typeof getApp) a = function(e, t) {
                        return i.t(e, t);
                    }; else {
                        var n = !1;
                        a = function(e, t) {
                            var r = getApp().$vm;
                            return r && (r.$locale, n || (n = !0, P(r, i))), i.t(e, t);
                        };
                    }
                    return a(e, t);
                };
                return {
                    i18n: i,
                    f: function(e, t, n) {
                        return i.f(e, t, n);
                    },
                    t: function(e, t) {
                        return a(e, t);
                    },
                    add: function(e, t) {
                        var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        return i.add(e, t, n);
                    },
                    watch: function(e) {
                        return i.watchLocale(e);
                    },
                    getLocale: function() {
                        return i.getLocale();
                    },
                    setLocale: function(e) {
                        return i.setLocale(e);
                    }
                };
            }, t.isI18nStr = E, t.isString = void 0, t.normalizeLocale = k, t.parseI18nJson = function e(t, n, r) {
                return w || (w = new f()), C(t, function(t, o) {
                    var i = t[o];
                    O(i) ? E(i, r) && (t[o] = I(i, n, r)) : e(i, n, r);
                }), t;
            }, t.resolveLocale = function(e) {
                return function(t) {
                    return t ? function(e) {
                        var t = [], n = e.split("-");
                        for (;n.length; ) t.push(n.join("-")), n.pop();
                        return t;
                    }(t = k(t) || t).find(function(t) {
                        return e.indexOf(t) > -1;
                    }) : t;
                };
            };
            var u = Array.isArray, l = function(e) {
                return null !== e && "object" === c(e);
            }, d = [ "{", "}" ], f = function() {
                function e() {
                    i(this, e), this._caches = Object.create(null);
                }
                return s(e, [ {
                    key: "interpolate",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : d;
                        if (!t) return [ e ];
                        var r = this._caches[e];
                        return r || (r = g(e, n), this._caches[e] = r), h(r, t);
                    }
                } ]), e;
            }();
            t.Formatter = f;
            var p = /^(?:\d)+/, m = /^(?:\w)+/;
            function g(e, t) {
                for (var n = r(t, 2), o = n[0], i = n[1], a = [], s = 0, c = ""; s < e.length; ) {
                    var u = e[s++];
                    if (u === o) {
                        c && a.push({
                            type: "text",
                            value: c
                        }), c = "";
                        var l = "";
                        for (u = e[s++]; void 0 !== u && u !== i; ) l += u, u = e[s++];
                        var d = u === i, f = p.test(l) ? "list" : d && m.test(l) ? "named" : "unknown";
                        a.push({
                            value: l,
                            type: f
                        });
                    } else c += u;
                }
                return c && a.push({
                    type: "text",
                    value: c
                }), a;
            }
            function h(e, t) {
                var n = [], r = 0, o = u(t) ? "list" : l(t) ? "named" : "unknown";
                if ("unknown" === o) return n;
                for (;r < e.length; ) {
                    var i = e[r];
                    switch (i.type) {
                      case "text":
                        n.push(i.value);
                        break;

                      case "list":
                        n.push(t[parseInt(i.value, 10)]);
                        break;

                      case "named":
                        "named" === o && n.push(t[i.value]);
                    }
                    r++;
                }
                return n;
            }
            var y = "zh-Hans";
            t.LOCALE_ZH_HANS = y;
            var v = "zh-Hant";
            t.LOCALE_ZH_HANT = v;
            var b = "en";
            t.LOCALE_EN = b;
            t.LOCALE_FR = "fr";
            t.LOCALE_ES = "es";
            var T = Object.prototype.hasOwnProperty, _ = function(e, t) {
                return T.call(e, t);
            }, S = new f();
            function k(e, t) {
                if (e) return e = e.trim().replace(/_/g, "-"), t && t[e] ? e : 0 === (e = e.toLowerCase()).indexOf("zh") ? e.indexOf("-hans") > -1 ? y : e.indexOf("-hant") > -1 || function(e, t) {
                    return !!t.find(function(t) {
                        return -1 !== e.indexOf(t);
                    });
                }(e, [ "-tw", "-hk", "-mo", "-cht" ]) ? v : y : function(e, t) {
                    return t.find(function(t) {
                        return 0 === e.indexOf(t);
                    });
                }(e, [ b, "fr", "es" ]) || void 0;
            }
            var M = function() {
                function e(t) {
                    var n = t.locale, r = t.fallbackLocale, o = t.messages, a = t.watcher, s = t.formater;
                    i(this, e), this.locale = b, this.fallbackLocale = b, this.message = {}, this.messages = {}, 
                    this.watchers = [], r && (this.fallbackLocale = r), this.formater = s || S, this.messages = o || {}, 
                    this.setLocale(n || b), a && this.watchLocale(a);
                }
                return s(e, [ {
                    key: "setLocale",
                    value: function(e) {
                        var t = this, n = this.locale;
                        this.locale = k(e, this.messages) || this.fallbackLocale, this.messages[this.locale] || (this.messages[this.locale] = {}), 
                        this.message = this.messages[this.locale], n !== this.locale && this.watchers.forEach(function(e) {
                            e(t.locale, n);
                        });
                    }
                }, {
                    key: "getLocale",
                    value: function() {
                        return this.locale;
                    }
                }, {
                    key: "watchLocale",
                    value: function(e) {
                        var t = this, n = this.watchers.push(e) - 1;
                        return function() {
                            t.watchers.splice(n, 1);
                        };
                    }
                }, {
                    key: "add",
                    value: function(e, t) {
                        var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], r = this.messages[e];
                        r ? n ? Object.assign(r, t) : Object.keys(t).forEach(function(e) {
                            _(r, e) || (r[e] = t[e]);
                        }) : this.messages[e] = t;
                    }
                }, {
                    key: "f",
                    value: function(e, t, n) {
                        return this.formater.interpolate(e, t, n).join("");
                    }
                }, {
                    key: "t",
                    value: function(e, t, n) {
                        var r = this.message;
                        return "string" == typeof t ? (t = k(t, this.messages)) && (r = this.messages[t]) : n = t, 
                        _(r, e) ? this.formater.interpolate(r[e], n).join("") : (console.warn("Cannot translate the value of keypath ".concat(e, ". Use the value of keypath as default.")), 
                        e);
                    }
                } ]), e;
            }();
            function P(e, t) {
                e.$watchLocale ? e.$watchLocale(function(e) {
                    t.setLocale(e);
                }) : e.$watch(function() {
                    return e.$locale;
                }, function(e) {
                    t.setLocale(e);
                });
            }
            function A() {
                return void 0 !== e && e.getLocale ? e.getLocale() : void 0 !== n && n.getLocale ? n.getLocale() : b;
            }
            t.I18n = M;
            var w, O = function(e) {
                return "string" == typeof e;
            };
            function E(e, t) {
                return e.indexOf(t[0]) > -1;
            }
            function I(e, t, n) {
                return w.interpolate(e, t, n).join("");
            }
            function x(e, t, n) {
                return C(e, function(e, r) {
                    !function(e, t, n, r) {
                        var o = e[t];
                        if (O(o)) {
                            if (E(o, r) && (e[t] = I(o, n[0].values, r), n.length > 1)) {
                                var i = e[t + "Locales"] = {};
                                n.forEach(function(e) {
                                    i[e.locale] = I(o, e.values, r);
                                });
                            }
                        } else x(o, n, r);
                    }(e, r, t, n);
                }), e;
            }
            function C(e, t) {
                if (u(e)) {
                    for (var n = 0; n < e.length; n++) if (t(e, n)) return !0;
                } else if (l(e)) for (var r in e) if (t(e, r)) return !0;
                return !1;
            }
            t.isString = O;
        }).call(this, n("543d").default, n("c8ba"));
    },
    "39ff": function(e, t, n) {
        var r = n("0b07")(n("2b3e"), "WeakMap");
        e.exports = r;
    },
    "3b4a": function(e, t, n) {
        var r = n("0b07"), o = function() {
            try {
                var e = r(Object, "defineProperty");
                return e({}, "", {}), e;
            } catch (e) {}
        }();
        e.exports = o;
    },
    "3bb4": function(e, t, n) {
        var r = n("08cc"), o = n("ec69");
        e.exports = function(e) {
            for (var t = o(e), n = t.length; n--; ) {
                var i = t[n], a = e[i];
                t[n] = [ i, a, r(a) ];
            }
            return t;
        };
    },
    "3c1a": function(e, t, n) {
        t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "brackets", r = t ? "?" : "", o = [];
            -1 == [ "indices", "brackets", "repeat", "comma" ].indexOf(n) && (n = "brackets");
            var i = function(t) {
                var r = e[t];
                if (!([ "", void 0, null ].indexOf(r) >= 0)) if (r.constructor === Array) switch (n) {
                  case "indices":
                    for (var i = 0; i < r.length; i++) o.push(t + "[" + i + "]=" + r[i]);
                    break;

                  case "brackets":
                    r.forEach(function(e) {
                        o.push(t + "[]=" + e);
                    });
                    break;

                  case "repeat":
                    r.forEach(function(e) {
                        o.push(t + "=" + e);
                    });
                    break;

                  case "comma":
                    var a = "";
                    r.forEach(function(e) {
                        a += (a ? "," : "") + e;
                    }), o.push(t + "=" + a);
                    break;

                  default:
                    r.forEach(function(e) {
                        o.push(t + "[]=" + e);
                    });
                } else o.push(t + "=" + r);
            };
            for (var a in e) i(a);
            return o.length ? r + o.join("&") : "";
        };
    },
    "3cfd": function(e, t, n) {
        var r = null;
        t.a = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 500, n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
            if (null !== r && clearTimeout(r), n) {
                var o = !r;
                r = setTimeout(function() {
                    r = null;
                }, t), o && "function" == typeof e && e();
            } else r = setTimeout(function() {
                "function" == typeof e && e();
            }, t);
        };
    },
    "3f36": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.attention = f, t.bindPatient = P, t.choiceVisitingTime = p, t.choiceVisitingTimeByWeek = m, 
        t.default = void 0, t.doctorServiceManage = v, t.getAppraiseList = l, t.getBookingDept = _, 
        t.getBookingDoctor = S, t.getDeptList = c, t.getDoctorInfo = u, t.getDoctorList = s, 
        t.getInquiryPromptWordByOrgCode = A, t.getMyDoctor = h, t.getNetHospitalDoctorList = a, 
        t.getRecommendDoctors = g, t.getServicePackageDetail = k, t.getServicePackageList = d, 
        t.servicePackageApplyCancel = T, t.servicePackageEquities = y, t.servicePackageOrderDetail = b, 
        t.submitOrder = M;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/hospital/getHospitalDoctorList";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getDoctorList";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/Hospital/getNewDeptLists";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getDoctorInfo";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Comment/commentLists";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/lists";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/attention";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "register/v1/Register/choiceVisitingTime";
            return r.default.post(t, e);
        }
        function m(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "register/v1/Register/choiceVisitingTimeByWeek";
            return r.default.post(t, e);
        }
        function g(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/recommend_doctor/lists";
            return r.default.post(t, e);
        }
        function h(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/account/getMyDoctor";
            return r.default.post(t, e);
        }
        function y(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/equities";
            return r.default.post(t, e);
        }
        function v(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/doctorServiceManage";
            return r.default.post(t, e);
        }
        function b(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/OrderDetail";
            return r.default.post(t, e);
        }
        function T(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/goods/servicePackage/applyCancel";
            return r.default.post(t, e);
        }
        function _(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/hospital/getBookingDept";
            return r.default.post(t, e);
        }
        function S(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getBookingDoctor";
            return r.default.post(t, e);
        }
        function k(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/detail";
            return r.default.post(t, e);
        }
        function M(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/goods/servicePackage/submitOrder";
            return r.default.post(t, e);
        }
        function P(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "/wap/v1/HealthPatient/addData";
            return r.default.post(t, e);
        }
        function A(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/hospital/getInquiryPromptWordByOrgCode?";
            return r.default.get(t, {
                params: e
            });
        }
        var w = {
            getNetHospitalDoctorList: a,
            getDoctorList: s,
            getDeptList: c,
            getDoctorInfo: u,
            getAppraiseList: l,
            getServicePackageList: d,
            getServicePackageDetail: k,
            submitOrder: M,
            attention: f,
            choiceVisitingTime: p,
            choiceVisitingTimeByWeek: m,
            getRecommendDoctors: g,
            getMyDoctor: h,
            servicePackageEquities: y,
            doctorServiceManage: v,
            servicePackageOrderDetail: b,
            servicePackageApplyCancel: T,
            getBookingDept: _,
            getBookingDoctor: S,
            bindPatient: P,
            getInquiryPromptWordByOrgCode: A
        };
        t.default = w;
    },
    4245: function(e, t, n) {
        var r = n("1290");
        e.exports = function(e, t) {
            var n = e.__data__;
            return r(t) ? n["string" == typeof t ? "string" : "hash"] : n.map;
        };
    },
    42845: function(e, t) {
        e.exports = function(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length; ++n < r; ) if (t(e[n], n, e)) return !0;
            return !1;
        };
    },
    "42a2": function(e, t, n) {
        var r = n("b5a7"), o = n("79bc"), i = n("1cec"), a = n("c869"), s = n("39ff"), c = n("3729"), u = n("dc57"), l = "[object Map]", d = "[object Promise]", f = "[object Set]", p = "[object WeakMap]", m = "[object DataView]", g = u(r), h = u(o), y = u(i), v = u(a), b = u(s), T = c;
        (r && T(new r(new ArrayBuffer(1))) != m || o && T(new o()) != l || i && T(i.resolve()) != d || a && T(new a()) != f || s && T(new s()) != p) && (T = function(e) {
            var t = c(e), n = "[object Object]" == t ? e.constructor : void 0, r = n ? u(n) : "";
            if (r) switch (r) {
              case g:
                return m;

              case h:
                return l;

              case y:
                return d;

              case v:
                return f;

              case b:
                return p;
            }
            return t;
        }), e.exports = T;
    },
    4416: function(e, t) {
        e.exports = function(e) {
            var t = null == e ? 0 : e.length;
            return t ? e[t - 1] : void 0;
        };
    },
    4553: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.cancel = p, t.default = void 0, t.getDeptList = a, t.getDoctorList = s, t.getRecordDetail = l, 
        t.getRecordList = u, t.getRegDetail = c, t.submitAppointAndReg = d, t.submitPayAppoint = f;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/doctor/getDeptList";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/doctor/getDoctorList";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/getRegDetail";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/getRecordList";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/getRecordDetail";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/submitAppointAndReg";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/submitPayAppoint";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/registered/cancel";
            return r.default.post(t, e);
        }
        var m = {
            getDeptList: a,
            getDoctorList: s,
            getRegDetail: c,
            getRecordList: u,
            getRecordDetail: l,
            submitAppointAndReg: d,
            submitPayAppoint: f,
            cancel: p
        };
        t.default = m;
    },
    4556: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.NEED_PATIENT = void 0;
        var r = [ "register", "appoint", "payment", "report", "registerRecord", "queryPayment" ];
        t.NEED_PATIENT = r;
        var o = {
            NEED_PATIENT: r
        };
        t.default = o;
    },
    "47f5": function(e, t, n) {
        var r = n("2b03"), o = n("d9a8"), i = n("099a");
        e.exports = function(e, t, n) {
            return t == t ? i(e, t, n) : r(e, o, n);
        };
    },
    "48a0": function(e, t, n) {
        var r = n("242e"), o = n("950a")(r);
        e.exports = o;
    },
    "48a6": function(e, t, n) {
        t.a = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "both";
            return "both" == t ? e.replace(/^\s+|\s+$/g, "") : "left" == t ? e.replace(/^\s*/, "") : "right" == t ? e.replace(/(\s*$)/g, "") : "all" == t ? e.replace(/\s+/g, "") : e;
        };
    },
    "49f4": function(e, t, n) {
        var r = n("6044");
        e.exports = function() {
            this.__data__ = r ? r(null) : {}, this.size = 0;
        };
    },
    "4a90": function(e, t, n) {
        (function(e) {
            function n(e) {
                return (n = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = function() {
                function t(e, t) {
                    return null != t && e instanceof t;
                }
                var r, o, i;
                try {
                    r = Map;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    r = function() {};
                }
                try {
                    o = Set;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    o = function() {};
                }
                try {
                    i = Promise;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    i = function() {};
                }
                function a(s, u, l, d, f) {
                    "object" === n(u) && (l = u.depth, d = u.prototype, f = u.includeNonEnumerable, 
                    u = u.circular);
                    var p = [], m = [], g = void 0 !== e;
                    return void 0 === u && (u = !0), void 0 === l && (l = 1 / 0), function s(l, h) {
                        if (null === l) return null;
                        if (0 === h) return l;
                        var y, v;
                        if ("object" != n(l)) return l;
                        if (t(l, r)) y = new r(); else if (t(l, o)) y = new o(); else if (t(l, i)) y = new i(function(e, t) {
                            l.then(function(t) {
                                e(s(t, h - 1));
                            }, function(e) {
                                t(s(e, h - 1));
                            });
                        }); else if (a.__isArray(l)) y = []; else if (a.__isRegExp(l)) y = new RegExp(l.source, c(l)), 
                        l.lastIndex && (y.lastIndex = l.lastIndex); else if (a.__isDate(l)) y = new Date(l.getTime()); else {
                            if (g && e.isBuffer(l)) return e.from ? y = e.from(l) : (y = new e(l.length), l.copy(y)), 
                            y;
                            t(l, Error) ? y = Object.create(l) : void 0 === d ? (v = Object.getPrototypeOf(l), 
                            y = Object.create(v)) : (y = Object.create(d), v = d);
                        }
                        if (u) {
                            var b = p.indexOf(l);
                            if (-1 != b) return m[b];
                            p.push(l), m.push(y);
                        }
                        for (var T in t(l, r) && l.forEach(function(e, t) {
                            var n = s(t, h - 1), r = s(e, h - 1);
                            y.set(n, r);
                        }), t(l, o) && l.forEach(function(e) {
                            var t = s(e, h - 1);
                            y.add(t);
                        }), l) {
                            Object.getOwnPropertyDescriptor(l, T) && (y[T] = s(l[T], h - 1));
                            try {
                                if ("undefined" === Object.getOwnPropertyDescriptor(l, T).set) continue;
                                y[T] = s(l[T], h - 1);
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                if (e instanceof TypeError) continue;
                                if (e instanceof ReferenceError) continue;
                            }
                        }
                        if (Object.getOwnPropertySymbols) {
                            var _ = Object.getOwnPropertySymbols(l);
                            for (T = 0; T < _.length; T++) {
                                var S = _[T], k = Object.getOwnPropertyDescriptor(l, S);
                                (!k || k.enumerable || f) && (y[S] = s(l[S], h - 1), Object.defineProperty(y, S, k));
                            }
                        }
                        if (f) {
                            var M = Object.getOwnPropertyNames(l);
                            for (T = 0; T < M.length; T++) {
                                var P = M[T];
                                (k = Object.getOwnPropertyDescriptor(l, P)) && k.enumerable || (y[P] = s(l[P], h - 1), 
                                Object.defineProperty(y, P, k));
                            }
                        }
                        return y;
                    }(s, l);
                }
                function s(e) {
                    return Object.prototype.toString.call(e);
                }
                function c(e) {
                    var t = "";
                    return e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), 
                    t;
                }
                return a.clonePrototype = function(e) {
                    if (null === e) return null;
                    var t = function() {};
                    return t.prototype = e, new t();
                }, a.__objToStr = s, a.__isDate = function(e) {
                    return "object" === n(e) && "[object Date]" === s(e);
                }, a.__isArray = function(e) {
                    return "object" === n(e) && "[object Array]" === s(e);
                }, a.__isRegExp = function(e) {
                    return "object" === n(e) && "[object RegExp]" === s(e);
                }, a.__getRegExpFlags = c, a;
            }();
            t.default = r;
        }).call(this, n("b639").Buffer);
    },
    "4b17": function(e, t, n) {
        var r = n("6428");
        e.exports = function(e) {
            var t = r(e), n = t % 1;
            return t == t ? n ? t - n : t : 0;
        };
    },
    "4cef": function(e, t) {
        var n = /\s/;
        e.exports = function(e) {
            for (var t = e.length; t-- && n.test(e.charAt(t)); ) ;
            return t;
        };
    },
    "4fff": function(e, t, n) {
        function r(e, t, n) {
            this.$children.map(function(o) {
                e === o.$options.name ? o.$emit.apply(o, [ t ].concat(n)) : r.apply(o, [ e, t ].concat(n));
            });
        }
        n.r(t), t.default = {
            methods: {
                dispatch: function(e, t, n) {
                    for (var r = this.$parent || this.$root, o = r.$options.name; r && (!o || o !== e); ) (r = r.$parent) && (o = r.$options.name);
                    r && r.$emit.apply(r, [ t ].concat(n));
                },
                broadcast: function(e, t, n) {
                    r.call(this, e, t, n);
                }
            }
        };
    },
    "50d8": function(e, t) {
        e.exports = function(e, t) {
            for (var n = -1, r = Array(e); ++n < e; ) r[n] = t(n);
            return r;
        };
    },
    "51f1": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), Object.defineProperty(t, "DRUG", {
            enumerable: !0,
            get: function() {
                return o.default;
            }
        }), Object.defineProperty(t, "EMIT", {
            enumerable: !0,
            get: function() {
                return a.default;
            }
        }), Object.defineProperty(t, "HOSPITAL", {
            enumerable: !0,
            get: function() {
                return u.default;
            }
        }), Object.defineProperty(t, "INQUIRY", {
            enumerable: !0,
            get: function() {
                return r.default;
            }
        }), Object.defineProperty(t, "PATIENT", {
            enumerable: !0,
            get: function() {
                return s.default;
            }
        }), Object.defineProperty(t, "PRESCRIPTION", {
            enumerable: !0,
            get: function() {
                return i.default;
            }
        }), Object.defineProperty(t, "REGISTRATION", {
            enumerable: !0,
            get: function() {
                return c.default;
            }
        }), t.default = void 0;
        var r = l(n("e924")), o = l(n("bee7")), i = l(n("55a0")), a = l(n("d819")), s = l(n("4556")), c = l(n("358c")), u = l(n("bc7e"));
        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var d = {
            INQUIRY: r.default,
            DRUG: o.default,
            PRESCRIPTION: i.default,
            EMIT: a.default,
            PATIENT: s.default,
            REGISTRATION: c.default,
            HOSPITAL: u.default
        };
        t.default = d;
    },
    "52e1": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.bindFamily = a, t.default = void 0, t.getFamilyInfo = s, t.getGuardianList = u, 
        t.patientDelFamily = c;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/bindFamily";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/getFamilyInfo";
            return r.default.get(t, {
                params: e
            });
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/DelFamily";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/getGuardianList";
            return r.default.post(t, e);
        }
        var l = {
            bindFamily: a,
            getFamilyInfo: s,
            patientDelFamily: c,
            getGuardianList: u
        };
        t.default = l;
    },
    5339: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.analysisEcState = u, t.default = void 0, t.getBaseConfigInfo = a, t.getEcCode = l, 
        t.getEcLink = c, t.getEcState = s, t.getFaceVerifyResult = f, t.getFaceVerifyToken = d;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/base/config/getInfo";
            return r.default.get(t, {
                params: e
            });
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getEcState";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getEcLink";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/analysisEcState";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getCodePage";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getFaceVerifyToken";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Doctor/getFaceVerifyResult";
            return r.default.post(t, e);
        }
        var p = {
            getBaseConfigInfo: a,
            getEcState: s,
            getEcLink: c,
            analysisEcState: u,
            getEcCode: l,
            getFaceVerifyToken: d,
            getFaceVerifyResult: f
        };
        t.default = p;
    },
    "53d5": function(e, t, n) {
        t.a = {
            primary: "#2979ff",
            primaryDark: "#2b85e4",
            primaryDisabled: "#a0cfff",
            primaryLight: "#ecf5ff",
            bgColor: "#f3f4f6",
            info: "#909399",
            infoDark: "#82848a",
            infoDisabled: "#c8c9cc",
            infoLight: "#f4f4f5",
            warning: "#ff9900",
            warningDark: "#f29100",
            warningDisabled: "#fcbd71",
            warningLight: "#fdf6ec",
            error: "#fa3534",
            errorDark: "#dd6161",
            errorDisabled: "#fab6b6",
            errorLight: "#fef0f0",
            success: "#19be6b",
            successDark: "#18b566",
            successDisabled: "#71d5a1",
            successLight: "#dbf1e1",
            mainColor: "#303133",
            contentColor: "#606266",
            tipsColor: "#909399",
            lightColor: "#c0c4cc",
            borderColor: "#e4e7ed"
        };
    },
    "543d": function(e, t, n) {
        (function(e) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.createApp = yt, t.createComponent = wt, t.createPage = At, t.createPlugin = Et, 
            t.createSubpackageApp = Ot, t.default = void 0;
            var r, o = n("37dc"), i = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }(n("66fd"));
            function a(e, t) {
                var n = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var r = Object.getOwnPropertySymbols(e);
                    t && (r = r.filter(function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })), n.push.apply(n, r);
                }
                return n;
            }
            function s(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? a(Object(n), !0).forEach(function(t) {
                        u(e, t, n[t]);
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                    });
                }
                return e;
            }
            function c(e, t) {
                return function(e) {
                    if (Array.isArray(e)) return e;
                }(e) || function(e, t) {
                    var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                    if (null != n) {
                        var r, o, i = [], a = !0, s = !1;
                        try {
                            for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value), !t || i.length !== t); a = !0) ;
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            s = !0, o = e;
                        } finally {
                            try {
                                a || null == n.return || n.return();
                            } finally {
                                if (s) throw o;
                            }
                        }
                        return i;
                    }
                }(e, t) || d(e, t) || function() {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }();
            }
            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n, e;
            }
            function l(e) {
                return function(e) {
                    if (Array.isArray(e)) return f(e);
                }(e) || function(e) {
                    if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e);
                }(e) || d(e) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }();
            }
            function d(e, t) {
                if (e) {
                    if ("string" == typeof e) return f(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? f(e, t) : void 0;
                }
            }
            function f(e, t) {
                (null == t || t > e.length) && (t = e.length);
                for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
                return r;
            }
            function p(e) {
                return (p = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            var m = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", g = /^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;
            function h() {
                var e, t = wx.getStorageSync("uni_id_token") || "", n = t.split(".");
                if (!t || 3 !== n.length) return {
                    uid: null,
                    role: [],
                    permission: [],
                    tokenExpired: 0
                };
                try {
                    e = JSON.parse(function(e) {
                        return decodeURIComponent(r(e).split("").map(function(e) {
                            return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2);
                        }).join(""));
                    }(n[1]));
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    throw new Error("获取当前用户信息出错，详细错误信息为：" + e.message);
                }
                return e.tokenExpired = 1e3 * e.exp, delete e.exp, delete e.iat, e;
            }
            r = "function" != typeof atob ? function(e) {
                if (e = String(e).replace(/[\t\n\f\r ]+/g, ""), !g.test(e)) throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");
                var t;
                e += "==".slice(2 - (3 & e.length));
                for (var n, r, o = "", i = 0; i < e.length; ) t = m.indexOf(e.charAt(i++)) << 18 | m.indexOf(e.charAt(i++)) << 12 | (n = m.indexOf(e.charAt(i++))) << 6 | (r = m.indexOf(e.charAt(i++))), 
                o += 64 === n ? String.fromCharCode(t >> 16 & 255) : 64 === r ? String.fromCharCode(t >> 16 & 255, t >> 8 & 255) : String.fromCharCode(t >> 16 & 255, t >> 8 & 255, 255 & t);
                return o;
            } : atob;
            var y = Object.prototype.toString, v = Object.prototype.hasOwnProperty;
            function b(e) {
                return "function" == typeof e;
            }
            function T(e) {
                return "string" == typeof e;
            }
            function _(e) {
                return "[object Object]" === y.call(e);
            }
            function S(e, t) {
                return v.call(e, t);
            }
            function k() {}
            function M(e) {
                var t = Object.create(null);
                return function(n) {
                    return t[n] || (t[n] = e(n));
                };
            }
            var P = /-(\w)/g, A = M(function(e) {
                return e.replace(P, function(e, t) {
                    return t ? t.toUpperCase() : "";
                });
            });
            function w(e) {
                var t = {};
                return _(e) && Object.keys(e).sort().forEach(function(n) {
                    t[n] = e[n];
                }), Object.keys(t) ? t : e;
            }
            var O = [ "invoke", "success", "fail", "complete", "returnValue" ], E = {}, I = {};
            function x(e, t) {
                Object.keys(t).forEach(function(n) {
                    -1 !== O.indexOf(n) && b(t[n]) && (e[n] = function(e, t) {
                        var n = t ? e ? e.concat(t) : Array.isArray(t) ? t : [ t ] : e;
                        return n ? function(e) {
                            for (var t = [], n = 0; n < e.length; n++) -1 === t.indexOf(e[n]) && t.push(e[n]);
                            return t;
                        }(n) : n;
                    }(e[n], t[n]));
                });
            }
            function C(e, t) {
                e && t && Object.keys(t).forEach(function(n) {
                    -1 !== O.indexOf(n) && b(t[n]) && function(e, t) {
                        var n = e.indexOf(t);
                        -1 !== n && e.splice(n, 1);
                    }(e[n], t[n]);
                });
            }
            function R(e) {
                return function(t) {
                    return e(t) || t;
                };
            }
            function j(e) {
                return !!e && ("object" === p(e) || "function" == typeof e) && "function" == typeof e.then;
            }
            function N(e, t) {
                for (var n = !1, r = 0; r < e.length; r++) {
                    var o = e[r];
                    if (n) n = Promise.resolve(R(o)); else {
                        var i = o(t);
                        if (j(i) && (n = Promise.resolve(i)), !1 === i) return {
                            then: function() {}
                        };
                    }
                }
                return n || {
                    then: function(e) {
                        return e(t);
                    }
                };
            }
            function L(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return [ "success", "fail", "complete" ].forEach(function(n) {
                    if (Array.isArray(e[n])) {
                        var r = t[n];
                        t[n] = function(t) {
                            N(e[n], t).then(function(e) {
                                return b(r) && r(e) || e;
                            });
                        };
                    }
                }), t;
            }
            function U(e, t) {
                var n = [];
                Array.isArray(E.returnValue) && n.push.apply(n, l(E.returnValue));
                var r = I[e];
                return r && Array.isArray(r.returnValue) && n.push.apply(n, l(r.returnValue)), n.forEach(function(e) {
                    t = e(t) || t;
                }), t;
            }
            function D(e) {
                var t = Object.create(null);
                Object.keys(E).forEach(function(e) {
                    "returnValue" !== e && (t[e] = E[e].slice());
                });
                var n = I[e];
                return n && Object.keys(n).forEach(function(e) {
                    "returnValue" !== e && (t[e] = (t[e] || []).concat(n[e]));
                }), t;
            }
            function F(e, t, n) {
                for (var r = arguments.length, o = new Array(r > 3 ? r - 3 : 0), i = 3; i < r; i++) o[i - 3] = arguments[i];
                var a = D(e);
                if (a && Object.keys(a).length) {
                    if (Array.isArray(a.invoke)) {
                        var s = N(a.invoke, n);
                        return s.then(function(e) {
                            return t.apply(void 0, [ L(a, e) ].concat(o));
                        });
                    }
                    return t.apply(void 0, [ L(a, n) ].concat(o));
                }
                return t.apply(void 0, [ n ].concat(o));
            }
            var B = {
                returnValue: function(e) {
                    return j(e) ? new Promise(function(t, n) {
                        e.then(function(e) {
                            e[0] ? n(e[0]) : t(e[1]);
                        });
                    }) : e;
                }
            }, V = /^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale|invokePushCallback|getWindowInfo|getDeviceInfo|getAppBaseInfo/, q = /^create|Manager$/, H = [ "createBLEConnection" ], $ = [ "createBLEConnection" ], z = /^on|^off/;
            function G(e) {
                return q.test(e) && -1 === H.indexOf(e);
            }
            function Y(e) {
                return V.test(e) && -1 === $.indexOf(e);
            }
            function W(e) {
                return e.then(function(e) {
                    return [ null, e ];
                }).catch(function(e) {
                    return [ e ];
                });
            }
            function Q(e) {
                return !(G(e) || Y(e) || function(e) {
                    return z.test(e) && "onPush" !== e;
                }(e));
            }
            function J(e, t) {
                return Q(e) ? function() {
                    for (var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) o[i - 1] = arguments[i];
                    return b(n.success) || b(n.fail) || b(n.complete) ? U(e, F.apply(void 0, [ e, t, n ].concat(o))) : U(e, W(new Promise(function(r, i) {
                        F.apply(void 0, [ e, t, Object.assign({}, n, {
                            success: r,
                            fail: i
                        }) ].concat(o));
                    })));
                } : t;
            }
            Promise.prototype.finally || (Promise.prototype.finally = function(e) {
                var t = this.constructor;
                return this.then(function(n) {
                    return t.resolve(e()).then(function() {
                        return n;
                    });
                }, function(n) {
                    return t.resolve(e()).then(function() {
                        throw n;
                    });
                });
            });
            var K = !1, Z = 0, X = 0;
            var ee, te = "zh-Hans", ne = {};
            ee = ie(wx.getSystemInfoSync().language) || "en", function() {
                if ("undefined" != typeof __uniConfig && __uniConfig.locales && Object.keys(__uniConfig.locales).length) {
                    var e = Object.keys(__uniConfig.locales);
                    e.length && e.forEach(function(e) {
                        var t = ne[e], n = __uniConfig.locales[e];
                        t ? Object.assign(t, n) : ne[e] = n;
                    });
                }
            }();
            var re = (0, o.initVueI18n)(ee, {}), oe = re.t;
            function ie(e, t) {
                if (e) return e = e.trim().replace(/_/g, "-"), t && t[e] ? e : "chinese" === (e = e.toLowerCase()) ? te : 0 === e.indexOf("zh") ? e.indexOf("-hans") > -1 ? te : e.indexOf("-hant") > -1 || function(e, t) {
                    return !!t.find(function(t) {
                        return -1 !== e.indexOf(t);
                    });
                }(e, [ "-tw", "-hk", "-mo", "-cht" ]) ? "zh-Hant" : te : function(e, t) {
                    return t.find(function(t) {
                        return 0 === e.indexOf(t);
                    });
                }(e, [ "en", "fr", "es" ]) || void 0;
            }
            function ae() {
                var e = getApp({
                    allowDefault: !0
                });
                return e && e.$vm ? e.$vm.$locale : ie(wx.getSystemInfoSync().language) || "en";
            }
            re.mixin = {
                beforeCreate: function() {
                    var e = this, t = re.i18n.watchLocale(function() {
                        e.$forceUpdate();
                    });
                    this.$once("hook:beforeDestroy", function() {
                        t();
                    });
                },
                methods: {
                    $$t: function(e, t) {
                        return oe(e, t);
                    }
                }
            }, re.setLocale, re.getLocale;
            var se = [];
            void 0 !== e && (e.getLocale = ae);
            var ce = {
                promiseInterceptor: B
            }, ue = Object.freeze({
                __proto__: null,
                upx2px: function(e, t) {
                    if (0 === Z && function() {
                        var e = wx.getSystemInfoSync(), t = e.platform, n = e.pixelRatio, r = e.windowWidth;
                        Z = r, X = n, K = "ios" === t;
                    }(), 0 === (e = Number(e))) return 0;
                    var n = e / 750 * (t || Z);
                    return n < 0 && (n = -n), 0 === (n = Math.floor(n + 1e-4)) && (n = 1 !== X && K ? .5 : 1), 
                    e < 0 ? -n : n;
                },
                getLocale: ae,
                setLocale: function(e) {
                    var t = getApp();
                    return !!t && (t.$vm.$locale !== e && (t.$vm.$locale = e, se.forEach(function(t) {
                        return t({
                            locale: e
                        });
                    }), !0));
                },
                onLocaleChange: function(e) {
                    -1 === se.indexOf(e) && se.push(e);
                },
                addInterceptor: function(e, t) {
                    "string" == typeof e && _(t) ? x(I[e] || (I[e] = {}), t) : _(e) && x(E, e);
                },
                removeInterceptor: function(e, t) {
                    "string" == typeof e ? _(t) ? C(I[e], t) : delete I[e] : _(e) && C(E, e);
                },
                interceptors: ce
            });
            var le, de = "__DC_STAT_UUID";
            function fe(e) {
                (le = le || wx.getStorageSync(de)) || (le = Date.now() + "" + Math.floor(1e7 * Math.random()), 
                wx.setStorage({
                    key: de,
                    data: le
                })), e.deviceId = le;
            }
            function pe(e) {
                if (e.safeArea) {
                    var t = e.safeArea;
                    e.safeAreaInsets = {
                        top: t.top,
                        left: t.left,
                        right: e.windowWidth - t.right,
                        bottom: e.screenHeight - t.bottom
                    };
                }
            }
            function me(e, t) {
                for (var n = e.deviceType || "phone", r = {
                    ipad: "pad",
                    windows: "pc",
                    mac: "pc"
                }, o = Object.keys(r), i = t.toLocaleLowerCase(), a = 0; a < o.length; a++) {
                    var s = o[a];
                    if (-1 !== i.indexOf(s)) {
                        n = r[s];
                        break;
                    }
                }
                return n;
            }
            function ge(e) {
                var t = e;
                return t && (t = e.toLocaleLowerCase()), t;
            }
            function he(e) {
                return ae ? ae() : e;
            }
            function ye(e) {
                var t = e.hostName || "WeChat";
                return e.environment ? t = e.environment : e.host && e.host.env && (t = e.host.env), 
                t;
            }
            var ve = {
                returnValue: function(e) {
                    fe(e), pe(e), function(e) {
                        var t, n = e.brand, r = void 0 === n ? "" : n, o = e.model, i = void 0 === o ? "" : o, a = e.system, s = void 0 === a ? "" : a, c = e.language, u = void 0 === c ? "" : c, l = e.theme, d = e.version, f = (e.platform, 
                        e.fontSizeSetting), p = e.SDKVersion, m = e.pixelRatio, g = e.deviceOrientation, h = "";
                        h = s.split(" ")[0] || "", t = s.split(" ")[1] || "";
                        var y = d, v = me(e, i), b = ge(r), T = ye(e), _ = g, S = m, k = p, M = u.replace(/_/g, "-"), P = {
                            appId: "",
                            appName: "zyy_patient",
                            appVersion: "0.0.1",
                            appVersionCode: "100",
                            appLanguage: he(M),
                            uniCompileVersion: "3.4.17",
                            uniRuntimeVersion: "3.4.17",
                            uniPlatform: "mp-weixin",
                            deviceBrand: b,
                            deviceModel: i,
                            deviceType: v,
                            devicePixelRatio: S,
                            deviceOrientation: _,
                            osName: h.toLocaleLowerCase(),
                            osVersion: t,
                            hostTheme: l,
                            hostVersion: y,
                            hostLanguage: M,
                            hostName: T,
                            hostSDKVersion: k,
                            hostFontSizeSetting: f,
                            windowTop: 0,
                            windowBottom: 0,
                            osLanguage: void 0,
                            osTheme: void 0,
                            ua: void 0,
                            hostPackageName: void 0,
                            browserName: void 0,
                            browserVersion: void 0
                        };
                        Object.assign(e, P);
                    }(e);
                }
            }, be = {
                redirectTo: {
                    name: function(e) {
                        return "back" === e.exists && e.delta ? "navigateBack" : "redirectTo";
                    },
                    args: function(e) {
                        if ("back" === e.exists && e.url) {
                            var t = function(e) {
                                for (var t = getCurrentPages(), n = t.length; n--; ) {
                                    var r = t[n];
                                    if (r.$page && r.$page.fullPath === e) return n;
                                }
                                return -1;
                            }(e.url);
                            if (-1 !== t) {
                                var n = getCurrentPages().length - 1 - t;
                                n > 0 && (e.delta = n);
                            }
                        }
                    }
                },
                previewImage: {
                    args: function(e) {
                        var t = parseInt(e.current);
                        if (!isNaN(t)) {
                            var n = e.urls;
                            if (Array.isArray(n)) {
                                var r = n.length;
                                if (r) return t < 0 ? t = 0 : t >= r && (t = r - 1), t > 0 ? (e.current = n[t], 
                                e.urls = n.filter(function(e, r) {
                                    return !(r < t) || e !== n[t];
                                })) : e.current = n[0], {
                                    indicator: !1,
                                    loop: !1
                                };
                            }
                        }
                    }
                },
                getSystemInfo: ve,
                getSystemInfoSync: ve,
                showActionSheet: {
                    args: function(e) {
                        "object" === p(e) && (e.alertText = e.title);
                    }
                },
                getAppBaseInfo: {
                    returnValue: function(e) {
                        var t = e, n = t.version, r = t.language, o = t.SDKVersion, i = t.theme, a = ye(e), s = r.replace("_", "-");
                        e = w(Object.assign(e, {
                            appId: "",
                            appName: "zyy_patient",
                            appVersion: "0.0.1",
                            appVersionCode: "100",
                            appLanguage: he(s),
                            hostVersion: n,
                            hostLanguage: s,
                            hostName: a,
                            hostSDKVersion: o,
                            hostTheme: i
                        }));
                    }
                },
                getDeviceInfo: {
                    returnValue: function(e) {
                        var t = e, n = t.brand, r = t.model, o = me(e, r), i = ge(n);
                        fe(e), e = w(Object.assign(e, {
                            deviceType: o,
                            deviceBrand: i,
                            deviceModel: r
                        }));
                    }
                },
                getWindowInfo: {
                    returnValue: function(e) {
                        pe(e), e = w(Object.assign(e, {
                            windowTop: 0,
                            windowBottom: 0
                        }));
                    }
                }
            }, Te = [ "success", "fail", "cancel", "complete" ];
            function _e(e, t, n) {
                return function(r) {
                    return t(ke(e, r, n));
                };
            }
            function Se(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
                if (_(t)) {
                    var i = !0 === o ? t : {};
                    for (var a in b(n) && (n = n(t, i) || {}), t) if (S(n, a)) {
                        var s = n[a];
                        b(s) && (s = s(t[a], t, i)), s ? T(s) ? i[s] = t[a] : _(s) && (i[s.name ? s.name : a] = s.value) : console.warn("The '".concat(e, "' method of platform '微信小程序' does not support option '").concat(a, "'"));
                    } else -1 !== Te.indexOf(a) ? b(t[a]) && (i[a] = _e(e, t[a], r)) : o || (i[a] = t[a]);
                    return i;
                }
                return b(t) && (t = _e(e, t, r)), t;
            }
            function ke(e, t, n) {
                var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                return b(be.returnValue) && (t = be.returnValue(e, t)), Se(e, t, n, {}, r);
            }
            function Me(e, t) {
                if (S(be, e)) {
                    var n = be[e];
                    return n ? function(t, r) {
                        var o = n;
                        b(n) && (o = n(t));
                        var i = [ t = Se(e, t, o.args, o.returnValue) ];
                        void 0 !== r && i.push(r), b(o.name) ? e = o.name(t) : T(o.name) && (e = o.name);
                        var a = wx[e].apply(wx, i);
                        return Y(e) ? ke(e, a, o.returnValue, G(e)) : a;
                    } : function() {
                        console.error("Platform '微信小程序' does not support '".concat(e, "'."));
                    };
                }
                return t;
            }
            var Pe = Object.create(null);
            [ "onTabBarMidButtonTap", "subscribePush", "unsubscribePush", "onPush", "offPush", "share" ].forEach(function(e) {
                Pe[e] = function(e) {
                    return function(t) {
                        var n = t.fail, r = t.complete, o = {
                            errMsg: "".concat(e, ":fail method '").concat(e, "' not supported")
                        };
                        b(n) && n(o), b(r) && r(o);
                    };
                }(e);
            });
            var Ae = {
                oauth: [ "weixin" ],
                share: [ "weixin" ],
                payment: [ "wxpay" ],
                push: [ "weixin" ]
            };
            var we = Object.freeze({
                __proto__: null,
                getProvider: function(e) {
                    var t = e.service, n = e.success, r = e.fail, o = e.complete, i = !1;
                    Ae[t] ? (i = {
                        errMsg: "getProvider:ok",
                        service: t,
                        provider: Ae[t]
                    }, b(n) && n(i)) : (i = {
                        errMsg: "getProvider:fail service not found"
                    }, b(r) && r(i)), b(o) && o(i);
                }
            }), Oe = function() {
                var e;
                return function() {
                    return e || (e = new i.default()), e;
                };
            }();
            function Ee(e, t, n) {
                return e[t].apply(e, n);
            }
            var Ie, xe, Ce = Object.freeze({
                __proto__: null,
                $on: function() {
                    return Ee(Oe(), "$on", Array.prototype.slice.call(arguments));
                },
                $off: function() {
                    return Ee(Oe(), "$off", Array.prototype.slice.call(arguments));
                },
                $once: function() {
                    return Ee(Oe(), "$once", Array.prototype.slice.call(arguments));
                },
                $emit: function() {
                    return Ee(Oe(), "$emit", Array.prototype.slice.call(arguments));
                }
            });
            function Re(e) {
                return function() {
                    try {
                        return e.apply(e, arguments);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        console.error(e);
                    }
                };
            }
            function je(e) {
                try {
                    return JSON.parse(e);
                } catch (e) {}
                return e;
            }
            var Ne = [];
            function Le(e, t) {
                Ne.forEach(function(n) {
                    n(e, t);
                }), Ne.length = 0;
            }
            var Ue = [], De = Object.freeze({
                __proto__: null,
                getPushClientid: function(e) {
                    _(e) || (e = {});
                    var t = function(e) {
                        var t = {};
                        for (var n in e) {
                            var r = e[n];
                            b(r) && (t[n] = Re(r), delete e[n]);
                        }
                        return t;
                    }(e), n = t.success, r = t.fail, o = t.complete, i = b(n), a = b(r), s = b(o);
                    Ne.push(function(e, t) {
                        var c;
                        e ? (c = {
                            errMsg: "getPushClientid:ok",
                            cid: e
                        }, i && n(c)) : (c = {
                            errMsg: "getPushClientid:fail" + (t ? " " + t : "")
                        }, a && r(c)), s && o(c);
                    }), void 0 !== Ie && Promise.resolve().then(function() {
                        return Le(Ie, xe);
                    });
                },
                onPushMessage: function(e) {
                    -1 === Ue.indexOf(e) && Ue.push(e);
                },
                offPushMessage: function(e) {
                    if (e) {
                        var t = Ue.indexOf(e);
                        t > -1 && Ue.splice(t, 1);
                    } else Ue.length = 0;
                },
                invokePushCallback: function(e) {
                    "clientId" === e.type ? (Ie = e.cid, xe = e.errMsg, Le(Ie, e.errMsg)) : "pushMsg" === e.type ? Ue.forEach(function(t) {
                        t({
                            type: "receive",
                            data: je(e.message)
                        });
                    }) : "click" === e.type && Ue.forEach(function(t) {
                        t({
                            type: "click",
                            data: je(e.message)
                        });
                    });
                }
            }), Fe = Page, Be = Component, Ve = /:/g, qe = M(function(e) {
                return A(e.replace(Ve, "-"));
            });
            function He(e) {
                var t = e.triggerEvent, n = function(n) {
                    for (var r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) o[i - 1] = arguments[i];
                    return t.apply(e, [ qe(n) ].concat(o));
                };
                try {
                    e.triggerEvent = n;
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    e._triggerEvent = n;
                }
            }
            function $e(e, t, n) {
                var r = t[e];
                t[e] = r ? function() {
                    He(this);
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    return r.apply(this, t);
                } : function() {
                    He(this);
                };
            }
            Fe.__$wrappered || (Fe.__$wrappered = !0, Page = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return $e("onLoad", e), Fe(e);
            }, Page.after = Fe.after, Component = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return $e("created", e), Be(e);
            });
            function ze(e, t, n) {
                t.forEach(function(t) {
                    (function e(t, n) {
                        if (!n) return !0;
                        if (i.default.options && Array.isArray(i.default.options[t])) return !0;
                        if (b(n = n.default || n)) return !!b(n.extendOptions[t]) || !!(n.super && n.super.options && Array.isArray(n.super.options[t]));
                        if (b(n[t])) return !0;
                        var r = n.mixins;
                        return Array.isArray(r) ? !!r.find(function(n) {
                            return e(t, n);
                        }) : void 0;
                    })(t, n) && (e[t] = function(e) {
                        return this.$vm && this.$vm.__call_hook(t, e);
                    });
                });
            }
            function Ge(e, t) {
                var n;
                return [ n = b(t = t.default || t) ? t : e.extend(t), t = n.options ];
            }
            function Ye(e, t) {
                if (Array.isArray(t) && t.length) {
                    var n = Object.create(null);
                    t.forEach(function(e) {
                        n[e] = !0;
                    }), e.$scopedSlots = e.$slots = n;
                }
            }
            function We(e, t) {
                var n = (e = (e || "").split(",")).length;
                1 === n ? t._$vueId = e[0] : 2 === n && (t._$vueId = e[0], t._$vuePid = e[1]);
            }
            function Qe(e, t) {
                var n = e.data || {}, r = e.methods || {};
                if ("function" == typeof n) try {
                    n = n.call(t);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。", n);
                } else try {
                    n = JSON.parse(JSON.stringify(n));
                } catch (e) {}
                return _(n) || (n = {}), Object.keys(r).forEach(function(e) {
                    -1 !== t.__lifecycle_hooks__.indexOf(e) || S(n, e) || (n[e] = r[e]);
                }), n;
            }
            var Je = [ String, Number, Boolean, Object, Array, null ];
            function Ke(e) {
                return function(t, n) {
                    this.$vm && (this.$vm[e] = t);
                };
            }
            function Ze(e, t) {
                var n = e.behaviors, r = e.extends, o = e.mixins, i = e.props;
                i || (e.props = i = []);
                var a = [];
                return Array.isArray(n) && n.forEach(function(e) {
                    a.push(e.replace("uni://", "wx".concat("://"))), "uni://form-field" === e && (Array.isArray(i) ? (i.push("name"), 
                    i.push("value")) : (i.name = {
                        type: String,
                        default: ""
                    }, i.value = {
                        type: [ String, Number, Boolean, Array, Object, Date ],
                        default: ""
                    }));
                }), _(r) && r.props && a.push(t({
                    properties: et(r.props, !0)
                })), Array.isArray(o) && o.forEach(function(e) {
                    _(e) && e.props && a.push(t({
                        properties: et(e.props, !0)
                    }));
                }), a;
            }
            function Xe(e, t, n, r) {
                return Array.isArray(t) && 1 === t.length ? t[0] : t;
            }
            function et(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = {};
                return t || (n.vueId = {
                    type: String,
                    value: ""
                }, n.generic = {
                    type: Object,
                    value: null
                }, n.scopedSlotsCompiler = {
                    type: String,
                    value: ""
                }, n.vueSlots = {
                    type: null,
                    value: [],
                    observer: function(e, t) {
                        var n = Object.create(null);
                        e.forEach(function(e) {
                            n[e] = !0;
                        }), this.setData({
                            $slots: n
                        });
                    }
                }), Array.isArray(e) ? e.forEach(function(e) {
                    n[e] = {
                        type: null,
                        observer: Ke(e)
                    };
                }) : _(e) && Object.keys(e).forEach(function(t) {
                    var r = e[t];
                    if (_(r)) {
                        var o = r.default;
                        b(o) && (o = o()), r.type = Xe(0, r.type), n[t] = {
                            type: -1 !== Je.indexOf(r.type) ? r.type : null,
                            value: o,
                            observer: Ke(t)
                        };
                    } else {
                        var i = Xe(0, r);
                        n[t] = {
                            type: -1 !== Je.indexOf(i) ? i : null,
                            observer: Ke(t)
                        };
                    }
                }), n;
            }
            function tt(e, t, n) {
                var r = {};
                return Array.isArray(t) && t.length && t.forEach(function(t, o) {
                    "string" == typeof t ? t ? "$event" === t ? r["$" + o] = n : "arguments" === t ? n.detail && n.detail.__args__ ? r["$" + o] = n.detail.__args__ : r["$" + o] = [ n ] : 0 === t.indexOf("$event.") ? r["$" + o] = e.__get_value(t.replace("$event.", ""), n) : r["$" + o] = e.__get_value(t) : r["$" + o] = e : r["$" + o] = function(e, t) {
                        var n = e;
                        return t.forEach(function(t) {
                            var r = t[0], o = t[2];
                            if (r || void 0 !== o) {
                                var i, a = t[1], s = t[3];
                                Number.isInteger(r) ? i = r : r ? "string" == typeof r && r && (i = 0 === r.indexOf("#s#") ? r.substr(3) : e.__get_value(r, n)) : i = n, 
                                Number.isInteger(i) ? n = o : a ? Array.isArray(i) ? n = i.find(function(t) {
                                    return e.__get_value(a, t) === o;
                                }) : _(i) ? n = Object.keys(i).find(function(t) {
                                    return e.__get_value(a, i[t]) === o;
                                }) : console.error("v-for 暂不支持循环数据：", i) : n = i[o], s && (n = e.__get_value(s, n));
                            }
                        }), n;
                    }(e, t);
                }), r;
            }
            function nt(e) {
                for (var t = {}, n = 1; n < e.length; n++) {
                    var r = e[n];
                    t[r[0]] = r[1];
                }
                return t;
            }
            function rt(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [], o = arguments.length > 4 ? arguments[4] : void 0, i = arguments.length > 5 ? arguments[5] : void 0, a = !1;
                if (o && (a = t.currentTarget && t.currentTarget.dataset && "wx" === t.currentTarget.dataset.comType, 
                !n.length)) return a ? [ t ] : t.detail.__args__ || t.detail;
                var s = tt(e, r, t), c = [];
                return n.forEach(function(e) {
                    "$event" === e ? "__set_model" !== i || o ? o && !a ? c.push(t.detail.__args__[0]) : c.push(t) : c.push(t.target.value) : Array.isArray(e) && "o" === e[0] ? c.push(nt(e)) : "string" == typeof e && S(s, e) ? c.push(s[e]) : c.push(e);
                }), c;
            }
            function ot(e) {
                var t = this, n = ((e = function(e) {
                    try {
                        e.mp = JSON.parse(JSON.stringify(e));
                    } catch (e) {}
                    return e.stopPropagation = k, e.preventDefault = k, e.target = e.target || {}, S(e, "detail") || (e.detail = {}), 
                    S(e, "markerId") && (e.detail = "object" === p(e.detail) ? e.detail : {}, e.detail.markerId = e.markerId), 
                    _(e.detail) && (e.target = Object.assign({}, e.target, e.detail)), e;
                }(e)).currentTarget || e.target).dataset;
                if (!n) return console.warn("事件信息不存在");
                var r = n.eventOpts || n["event-opts"];
                if (!r) return console.warn("事件信息不存在");
                var o = e.type, i = [];
                return r.forEach(function(n) {
                    var r = n[0], a = n[1], s = "^" === r.charAt(0), c = "~" === (r = s ? r.slice(1) : r).charAt(0);
                    r = c ? r.slice(1) : r, a && function(e, t) {
                        return e === t || "regionchange" === t && ("begin" === e || "end" === e);
                    }(o, r) && a.forEach(function(n) {
                        var r = n[0];
                        if (r) {
                            var o = t.$vm;
                            if (o.$options.generic && (o = function(e) {
                                for (var t = e.$parent; t && t.$parent && (t.$options.generic || t.$parent.$options.generic || t.$scope._$vuePid); ) t = t.$parent;
                                return t && t.$parent;
                            }(o) || o), "$emit" === r) return void o.$emit.apply(o, rt(t.$vm, e, n[1], n[2], s, r));
                            var a = o[r];
                            if (!b(a)) throw new Error(" _vm.".concat(r, " is not a function"));
                            if (c) {
                                if (a.once) return;
                                a.once = !0;
                            }
                            var u = rt(t.$vm, e, n[1], n[2], s, r);
                            u = Array.isArray(u) ? u : [], /=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(a.toString()) && (u = u.concat([ , , , , , , , , , , e ])), 
                            i.push(a.apply(o, u));
                        }
                    });
                }), "input" === o && 1 === i.length && void 0 !== i[0] ? i[0] : void 0;
            }
            var it = {}, at = [];
            var st = [ "onShow", "onHide", "onError", "onPageNotFound", "onThemeChange", "onUnhandledRejection" ];
            function ct() {
                i.default.prototype.getOpenerEventChannel = function() {
                    return this.$scope.getOpenerEventChannel();
                };
                var e = i.default.prototype.__call_hook;
                i.default.prototype.__call_hook = function(t, n) {
                    return "onLoad" === t && n && n.__id__ && (this.__eventChannel__ = function(e) {
                        if (e) {
                            var t = it[e];
                            return delete it[e], t;
                        }
                        return at.shift();
                    }(n.__id__), delete n.__id__), e.call(this, t, n);
                };
            }
            function ut(e, t) {
                var n = t.mocks, r = t.initRefs;
                ct(), function() {
                    var e = {}, t = {};
                    i.default.prototype.$hasScopedSlotsParams = function(n) {
                        var r = e[n];
                        return r || (t[n] = this, this.$on("hook:destroyed", function() {
                            delete t[n];
                        })), r;
                    }, i.default.prototype.$getScopedSlotsParams = function(n, r, o) {
                        var i = e[n];
                        if (i) {
                            var a = i[r] || {};
                            return o ? a[o] : a;
                        }
                        t[n] = this, this.$on("hook:destroyed", function() {
                            delete t[n];
                        });
                    }, i.default.prototype.$setScopedSlotsParams = function(n, r) {
                        var o = this.$options.propsData.vueId;
                        if (o) {
                            var i = o.split(",")[0];
                            (e[i] = e[i] || {})[n] = r, t[i] && t[i].$forceUpdate();
                        }
                    }, i.default.mixin({
                        destroyed: function() {
                            var n = this.$options.propsData, r = n && n.vueId;
                            r && (delete e[r], delete t[r]);
                        }
                    });
                }(), e.$options.store && (i.default.prototype.$store = e.$options.store), function(e) {
                    e.prototype.uniIDHasRole = function(e) {
                        return h().role.indexOf(e) > -1;
                    }, e.prototype.uniIDHasPermission = function(e) {
                        var t = h().permission;
                        return this.uniIDHasRole("admin") || t.indexOf(e) > -1;
                    }, e.prototype.uniIDTokenValid = function() {
                        return h().tokenExpired > Date.now();
                    };
                }(i.default), i.default.prototype.mpHost = "mp-weixin", i.default.mixin({
                    beforeCreate: function() {
                        if (this.$options.mpType) {
                            if (this.mpType = this.$options.mpType, this.$mp = u({
                                data: {}
                            }, this.mpType, this.$options.mpInstance), this.$scope = this.$options.mpInstance, 
                            delete this.$options.mpType, delete this.$options.mpInstance, "page" === this.mpType && "function" == typeof getApp) {
                                var e = getApp();
                                e.$vm && e.$vm.$i18n && (this._i18n = e.$vm.$i18n);
                            }
                            "app" !== this.mpType && (r(this), function(e, t) {
                                var n = e.$mp[e.mpType];
                                t.forEach(function(t) {
                                    S(n, t) && (e[t] = n[t]);
                                });
                            }(this, n));
                        }
                    }
                });
                var o = {
                    onLaunch: function(t) {
                        this.$vm || (wx.canIUse && !wx.canIUse("nextTick") && console.error("当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上"), 
                        this.$vm = e, this.$vm.$mp = {
                            app: this
                        }, this.$vm.$scope = this, this.$vm.globalData = this.globalData, this.$vm._isMounted = !0, 
                        this.$vm.__call_hook("mounted", t), this.$vm.__call_hook("onLaunch", t));
                    }
                };
                o.globalData = e.$options.globalData || {};
                var a = e.$options.methods;
                return a && Object.keys(a).forEach(function(e) {
                    o[e] = a[e];
                }), function(e, t, n) {
                    var r = e.observable({
                        locale: n || re.getLocale()
                    }), o = [];
                    t.$watchLocale = function(e) {
                        o.push(e);
                    }, Object.defineProperty(t, "$locale", {
                        get: function() {
                            return r.locale;
                        },
                        set: function(e) {
                            r.locale = e, o.forEach(function(t) {
                                return t(e);
                            });
                        }
                    });
                }(i.default, e, ie(wx.getSystemInfoSync().language) || "en"), ze(o, st), o;
            }
            var lt = [ "__route__", "__wxExparserNodeId__", "__wxWebviewId__" ];
            function dt(e) {
                return Behavior(e);
            }
            function ft() {
                return !!this.route;
            }
            function pt(e) {
                this.triggerEvent("__l", e);
            }
            function mt(e) {
                var t = e.$scope;
                Object.defineProperty(e, "$refs", {
                    get: function() {
                        var e = {};
                        return function e(t, n, r) {
                            t.selectAllComponents(n).forEach(function(t) {
                                var o = t.dataset.ref;
                                r[o] = t.$vm || t, "scoped" === t.dataset.vueGeneric && t.selectAllComponents(".scoped-ref").forEach(function(t) {
                                    e(t, n, r);
                                });
                            });
                        }(t, ".vue-ref", e), t.selectAllComponents(".vue-ref-in-for").forEach(function(t) {
                            var n = t.dataset.ref;
                            e[n] || (e[n] = []), e[n].push(t.$vm || t);
                        }), e;
                    }
                });
            }
            function gt(e) {
                var t, n = e.detail || e.value, r = n.vuePid, o = n.vueOptions;
                r && (t = function e(t, n) {
                    for (var r, o = t.$children, i = o.length - 1; i >= 0; i--) {
                        var a = o[i];
                        if (a.$scope._$vueId === n) return a;
                    }
                    for (var s = o.length - 1; s >= 0; s--) if (r = e(o[s], n)) return r;
                }(this.$vm, r)), t || (t = this.$vm), o.parent = t;
            }
            function ht(e) {
                return ut(e, {
                    mocks: lt,
                    initRefs: mt
                });
            }
            function yt(e) {
                return App(ht(e)), e;
            }
            var vt = /[!'()*]/g, bt = function(e) {
                return "%" + e.charCodeAt(0).toString(16);
            }, Tt = /%2C/g, _t = function(e) {
                return encodeURIComponent(e).replace(vt, bt).replace(Tt, ",");
            };
            function St(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : _t, n = e ? Object.keys(e).map(function(n) {
                    var r = e[n];
                    if (void 0 === r) return "";
                    if (null === r) return t(n);
                    if (Array.isArray(r)) {
                        var o = [];
                        return r.forEach(function(e) {
                            void 0 !== e && (null === e ? o.push(t(n)) : o.push(t(n) + "=" + t(e)));
                        }), o.join("&");
                    }
                    return t(n) + "=" + t(r);
                }).filter(function(e) {
                    return e.length > 0;
                }).join("&") : null;
                return n ? "?".concat(n) : "";
            }
            function kt(e) {
                return function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.isPage, r = t.initRelation, o = Ge(i.default, e), a = c(o, 2), u = a[0], l = a[1], d = s({
                        multipleSlots: !0,
                        addGlobalClass: !0
                    }, l.options || {});
                    l["mp-weixin"] && l["mp-weixin"].options && Object.assign(d, l["mp-weixin"].options);
                    var f = {
                        options: d,
                        data: Qe(l, i.default.prototype),
                        behaviors: Ze(l, dt),
                        properties: et(l.props, !1, l.__file),
                        lifetimes: {
                            attached: function() {
                                var e = this.properties, t = {
                                    mpType: n.call(this) ? "page" : "component",
                                    mpInstance: this,
                                    propsData: e
                                };
                                We(e.vueId, this), r.call(this, {
                                    vuePid: this._$vuePid,
                                    vueOptions: t
                                }), this.$vm = new u(t), Ye(this.$vm, e.vueSlots), this.$vm.$mount();
                            },
                            ready: function() {
                                this.$vm && (this.$vm._isMounted = !0, this.$vm.__call_hook("mounted"), this.$vm.__call_hook("onReady"));
                            },
                            detached: function() {
                                this.$vm && this.$vm.$destroy();
                            }
                        },
                        pageLifetimes: {
                            show: function(e) {
                                this.$vm && this.$vm.__call_hook("onPageShow", e);
                            },
                            hide: function() {
                                this.$vm && this.$vm.__call_hook("onPageHide");
                            },
                            resize: function(e) {
                                this.$vm && this.$vm.__call_hook("onPageResize", e);
                            }
                        },
                        methods: {
                            __l: gt,
                            __e: ot
                        }
                    };
                    return l.externalClasses && (f.externalClasses = l.externalClasses), Array.isArray(l.wxsCallMethods) && l.wxsCallMethods.forEach(function(e) {
                        f.methods[e] = function(t) {
                            return this.$vm[e](t);
                        };
                    }), n ? f : [ f, u ];
                }(e, {
                    isPage: ft,
                    initRelation: pt
                });
            }
            var Mt = [ "onShow", "onHide", "onUnload" ];
            function Pt(e) {
                return function(e, t) {
                    t.isPage, t.initRelation;
                    var n = kt(e);
                    return ze(n.methods, Mt, e), n.methods.onLoad = function(e) {
                        this.options = e;
                        var t = Object.assign({}, e);
                        delete t.__id__, this.$page = {
                            fullPath: "/" + (this.route || this.is) + St(t)
                        }, this.$vm.$mp.query = e, this.$vm.__call_hook("onLoad", e);
                    }, n;
                }(e, {
                    isPage: ft,
                    initRelation: pt
                });
            }
            function At(e) {
                return Component(Pt(e));
            }
            function wt(e) {
                return Component(kt(e));
            }
            function Ot(e) {
                var t = ht(e), n = getApp({
                    allowDefault: !0
                });
                e.$scope = n;
                var r = n.globalData;
                if (r && Object.keys(t.globalData).forEach(function(e) {
                    S(r, e) || (r[e] = t.globalData[e]);
                }), Object.keys(t).forEach(function(e) {
                    S(n, e) || (n[e] = t[e]);
                }), b(t.onShow) && wx.onAppShow && wx.onAppShow(function() {
                    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    e.__call_hook("onShow", n);
                }), b(t.onHide) && wx.onAppHide && wx.onAppHide(function() {
                    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    e.__call_hook("onHide", n);
                }), b(t.onLaunch)) {
                    var o = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
                    e.__call_hook("onLaunch", o);
                }
                return e;
            }
            function Et(e) {
                var t = ht(e);
                if (b(t.onShow) && wx.onAppShow && wx.onAppShow(function() {
                    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    e.__call_hook("onShow", n);
                }), b(t.onHide) && wx.onAppHide && wx.onAppHide(function() {
                    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    e.__call_hook("onHide", n);
                }), b(t.onLaunch)) {
                    var n = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
                    e.__call_hook("onLaunch", n);
                }
                return e;
            }
            Mt.push.apply(Mt, [ "onPullDownRefresh", "onReachBottom", "onAddToFavorites", "onShareTimeline", "onShareAppMessage", "onPageScroll", "onResize", "onTabItemTap" ]), 
            [ "vibrate", "preloadPage", "unPreloadPage", "loadSubPackage" ].forEach(function(e) {
                be[e] = !1;
            }), [].forEach(function(e) {
                var t = be[e] && be[e].name ? be[e].name : e;
                wx.canIUse(t) || (be[e] = !1);
            });
            var It = {};
            "undefined" != typeof Proxy ? It = new Proxy({}, {
                get: function(e, t) {
                    return S(e, t) ? e[t] : ue[t] ? ue[t] : De[t] ? J(t, De[t]) : we[t] ? J(t, we[t]) : Pe[t] ? J(t, Pe[t]) : Ce[t] ? Ce[t] : S(wx, t) || S(be, t) ? J(t, Me(t, wx[t])) : void 0;
                },
                set: function(e, t, n) {
                    return e[t] = n, !0;
                }
            }) : (Object.keys(ue).forEach(function(e) {
                It[e] = ue[e];
            }), Object.keys(Pe).forEach(function(e) {
                It[e] = J(e, Pe[e]);
            }), Object.keys(we).forEach(function(e) {
                It[e] = J(e, Pe[e]);
            }), Object.keys(Ce).forEach(function(e) {
                It[e] = Ce[e];
            }), Object.keys(De).forEach(function(e) {
                It[e] = J(e, De[e]);
            }), Object.keys(wx).forEach(function(e) {
                (S(wx, e) || S(be, e)) && (It[e] = J(e, Me(e, wx[e])));
            })), wx.createApp = yt, wx.createPage = At, wx.createComponent = wt, wx.createSubpackageApp = Ot, 
            wx.createPlugin = Et;
            var xt = It;
            t.default = xt;
        }).call(this, n("c8ba"));
    },
    "543e": function(e, t, n) {
        var r = n("5c69"), o = n("100e"), i = n("2c66"), a = n("dcbe"), s = n("4416"), c = o(function(e) {
            var t = s(e);
            return t = "function" == typeof t ? t : void 0, i(r(e, 1, a, !0), void 0, t);
        });
        e.exports = c;
    },
    5518: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getOrderInfo = u, t.getOrderStatus = s, t.getWXSign = l, 
        t.pay = a, t.payCreate = d, t.payMultiple = c, t.queryPayOrderStatus = f;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/Wx/pay";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/Wx/getOrderStatus";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/WxApplet/pay";
            return r.default.post(t, e);
        }
        function u(e) {
            return r.default.post("/wap/v1/Wx/getOrderInfo", e);
        }
        function l(e) {
            return r.default.post("client/v1/Test/getSign", e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/pay/payCreate";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/pay/queryPayOrderStatus";
            return r.default.post(t, e);
        }
        var p = {
            pay: a,
            getOrderStatus: s,
            payMultiple: c,
            getOrderInfo: u,
            getWXSign: l,
            payCreate: d,
            queryPayOrderStatus: f
        };
        t.default = p;
    },
    "55a0": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.PRESCRIPTION_STATUS = t.PRESCRIPTION_DRUG_STATUS = void 0;
        var r = {
            "已预审": "0",
            "待审核": "1",
            "质疑中": "2",
            "未通过": "3",
            "已作废": "4",
            "已通过": "5"
        };
        t.PRESCRIPTION_STATUS = r;
        var o = {
            "待购药": 1,
            "已下单": 2,
            "已购药": 3,
            "已失效": 4
        };
        t.PRESCRIPTION_DRUG_STATUS = o;
        var i = {
            PRESCRIPTION_STATUS: r,
            PRESCRIPTION_DRUG_STATUS: o
        };
        t.default = i;
    },
    "55a3": function(e, t) {
        e.exports = function(e) {
            return this.__data__.has(e);
        };
    },
    "56d1": function(e, t, n) {
        n.r(t), function(e) {
            var n = {
                trustTags: u("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),
                blockTags: u("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),
                inlineTags: u("abbr,b,big,code,del,em,i,ins,label,q,small,span,strong,sub,sup"),
                ignoreTags: u("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),
                voidTags: u("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),
                entities: {
                    lt: "<",
                    gt: ">",
                    quot: '"',
                    apos: "'",
                    ensp: " ",
                    emsp: " ",
                    nbsp: " ",
                    semi: ";",
                    ndash: "–",
                    mdash: "—",
                    middot: "·",
                    lsquo: "‘",
                    rsquo: "’",
                    ldquo: "“",
                    rdquo: "”",
                    bull: "•",
                    hellip: "…",
                    larr: "←",
                    uarr: "↑",
                    rarr: "→",
                    darr: "↓"
                },
                tagStyle: {
                    address: "font-style:italic",
                    big: "display:inline;font-size:1.2em",
                    caption: "display:table-caption;text-align:center",
                    center: "text-align:center",
                    cite: "font-style:italic",
                    dd: "margin-left:40px",
                    mark: "background-color:yellow",
                    pre: "font-family:monospace;white-space:pre",
                    s: "text-decoration:line-through",
                    small: "display:inline;font-size:0.8em",
                    strike: "text-decoration:line-through",
                    u: "text-decoration:underline"
                },
                svgDict: {
                    animatetransform: "animateTransform",
                    lineargradient: "linearGradient",
                    viewbox: "viewBox",
                    attributename: "attributeName",
                    repeatcount: "repeatCount",
                    repeatdur: "repeatDur"
                }
            }, r = {}, o = e.getSystemInfoSync(), i = o.windowWidth, a = o.system, s = u(" ,\r,\n,\t,\f"), c = 0;
            function u(e) {
                for (var t = Object.create(null), n = e.split(","), r = n.length; r--; ) t[n[r]] = !0;
                return t;
            }
            function l(e, t) {
                for (var r = e.indexOf("&"); -1 !== r; ) {
                    var o = e.indexOf(";", r + 3), i = void 0;
                    if (-1 === o) break;
                    "#" === e[r + 1] ? (i = parseInt(("x" === e[r + 2] ? "0" : "") + e.substring(r + 2, o)), 
                    isNaN(i) || (e = e.substr(0, r) + String.fromCharCode(i) + e.substr(o + 1))) : (i = e.substring(r + 1, o), 
                    (n.entities[i] || "amp" === i && t) && (e = e.substr(0, r) + (n.entities[i] || "&") + e.substr(o + 1))), 
                    r = e.indexOf("&", r + 1);
                }
                return e;
            }
            function d(e) {
                for (var t = e.length - 1, n = t; n >= -1; n--) (-1 === n || e[n].c || !e[n].name || "div" !== e[n].name && "p" !== e[n].name && "h" !== e[n].name[0] || (e[n].attrs.style || "").includes("inline")) && (t - n >= 5 && e.splice(n + 1, t - n, {
                    name: "div",
                    attrs: {},
                    children: e.slice(n + 1, t + 1)
                }), t = n - 1);
            }
            function f(e) {
                this.options = e || {}, this.tagStyle = Object.assign({}, n.tagStyle, this.options.tagStyle), 
                this.imgList = e.imgList || [], this.plugins = e.plugins || [], this.attrs = Object.create(null), 
                this.stack = [], this.nodes = [], this.pre = (this.options.containerStyle || "").includes("white-space") && this.options.containerStyle.includes("pre") ? 2 : 0;
            }
            function p(e) {
                this.handler = e;
            }
            n.ignoreTags.iframe = void 0, n.trustTags.iframe = !0, n.ignoreTags.embed = void 0, 
            n.trustTags.embed = !0, n.ignoreTags.source = void 0, n.ignoreTags.style = void 0, 
            f.prototype.parse = function(e) {
                for (var t = this.plugins.length; t--; ) this.plugins[t].onUpdate && (e = this.plugins[t].onUpdate(e, n) || e);
                for (new p(this).parse(e); this.stack.length; ) this.popNode();
                return this.nodes.length > 50 && d(this.nodes), this.nodes;
            }, f.prototype.expose = function() {
                for (var e = this.stack.length; e--; ) {
                    var t = this.stack[e];
                    if (t.c || "a" === t.name || "video" === t.name || "audio" === t.name) return;
                    t.c = 1;
                }
            }, f.prototype.hook = function(e) {
                for (var t = this.plugins.length; t--; ) if (this.plugins[t].onParse && !1 === this.plugins[t].onParse(e, this)) return !1;
                return !0;
            }, f.prototype.getUrl = function(e) {
                var t = this.options.domain;
                return "/" === e[0] ? e = "/" === e[1] ? (t ? t.split("://")[0] : "http") + ":" + e : t ? t + e : plus.io.convertLocalFileSystemURL(e) : e.includes("data:") || e.includes("://") || (e = t ? t + "/" + e : plus.io.convertLocalFileSystemURL(e)), 
                e;
            }, f.prototype.parseStyle = function(e) {
                var t = e.attrs, n = (this.tagStyle[e.name] || "").split(";").concat((t.style || "").split(";")), r = {}, o = "";
                t.id && !this.xml && (this.options.useAnchor ? this.expose() : "img" !== e.name && "a" !== e.name && "video" !== e.name && "audio" !== e.name && (t.id = void 0)), 
                t.width && (r.width = parseFloat(t.width) + (t.width.includes("%") ? "%" : "px"), 
                t.width = void 0), t.height && (r.height = parseFloat(t.height) + (t.height.includes("%") ? "%" : "px"), 
                t.height = void 0);
                for (var a = 0, c = n.length; a < c; a++) {
                    var u = n[a].split(":");
                    if (!(u.length < 2)) {
                        var l = u.shift().trim().toLowerCase(), d = u.join(":").trim();
                        if ("-" === d[0] && d.lastIndexOf("-") > 0 || d.includes("safe")) o += ";".concat(l, ":").concat(d); else if (!r[l] || d.includes("import") || !r[l].includes("import")) {
                            if (d.includes("url")) {
                                var f = d.indexOf("(") + 1;
                                if (f) {
                                    for (;'"' === d[f] || "'" === d[f] || s[d[f]]; ) f++;
                                    d = d.substr(0, f) + this.getUrl(d.substr(f));
                                }
                            } else d.includes("rpx") && (d = d.replace(/[0-9.]+\s*rpx/g, function(e) {
                                return parseFloat(e) * i / 750 + "px";
                            }));
                            r[l] = d;
                        }
                    }
                }
                return e.attrs.style = o, r;
            }, f.prototype.onTagName = function(e) {
                this.tagName = this.xml ? e : e.toLowerCase(), "svg" === this.tagName && (this.xml = (this.xml || 0) + 1);
            }, f.prototype.onAttrName = function(e) {
                "data-" === (e = this.xml ? e : e.toLowerCase()).substr(0, 5) ? "data-src" !== e || this.attrs.src ? "img" === this.tagName || "a" === this.tagName ? this.attrName = e : this.attrName = void 0 : this.attrName = "src" : (this.attrName = e, 
                this.attrs[e] = "T");
            }, f.prototype.onAttrVal = function(e) {
                var t = this.attrName || "";
                "style" === t || "href" === t ? this.attrs[t] = l(e, !0) : t.includes("src") ? this.attrs[t] = this.getUrl(l(e, !0)) : t && (this.attrs[t] = e);
            }, f.prototype.onOpenTag = function(e) {
                var t = Object.create(null);
                t.name = this.tagName, t.attrs = this.attrs, this.options.nodes.length && (t.type = "node"), 
                this.attrs = Object.create(null);
                var o = t.attrs, a = this.stack[this.stack.length - 1], s = a ? a.children : this.nodes, u = this.xml ? e : n.voidTags[t.name];
                if (r[t.name] && (o.class = r[t.name] + (o.class ? " " + o.class : "")), "embed" === t.name) {
                    var l = o.src || "";
                    l.includes(".mp4") || l.includes(".3gp") || l.includes(".m3u8") || (o.type || "").includes("video") ? t.name = "video" : (l.includes(".mp3") || l.includes(".wav") || l.includes(".aac") || l.includes(".m4a") || (o.type || "").includes("audio")) && (t.name = "audio"), 
                    o.autostart && (o.autoplay = "T"), o.controls = "T", this.expose();
                }
                if ("video" !== t.name && "audio" !== t.name || ("video" !== t.name || o.id || (o.id = "v" + c++), 
                o.controls || o.autoplay || (o.controls = "T"), t.src = [], o.src && (t.src.push(o.src), 
                o.src = void 0), this.expose()), u) {
                    if (!this.hook(t) || n.ignoreTags[t.name]) return void ("base" !== t.name || this.options.domain ? "source" === t.name && a && ("video" === a.name || "audio" === a.name) && o.src && a.src.push(o.src) : this.options.domain = o.href);
                    var d = this.parseStyle(t);
                    if ("img" === t.name) {
                        if (o.src && (o.src.includes("webp") && (t.webp = "T"), o.src.includes("data:") && !o["original-src"] && (o.ignore = "T"), 
                        !o.ignore || t.webp || o.src.includes("cloud://"))) {
                            for (var f = this.stack.length; f--; ) {
                                var p = this.stack[f];
                                if ("a" === p.name) {
                                    t.a = p.attrs;
                                    break;
                                }
                                var m = p.attrs.style || "";
                                if (!m.includes("flex:") || m.includes("flex:0") || m.includes("flex: 0") || d.width && d.width.includes("%")) if (m.includes("flex") && "100%" === d.width) for (var g = f + 1; g < this.stack.length; g++) {
                                    var h = this.stack[g].attrs.style || "";
                                    if (!h.includes(";width") && !h.includes(" width") && 0 !== h.indexOf("width")) {
                                        d.width = "";
                                        break;
                                    }
                                } else m.includes("inline-block") && (d.width && "%" === d.width[d.width.length - 1] ? (p.attrs.style += ";max-width:" + d.width, 
                                d.width = "") : p.attrs.style += ";max-width:100%"); else {
                                    d.width = "100% !important", d.height = "";
                                    for (var y = f + 1; y < this.stack.length; y++) this.stack[y].attrs.style = (this.stack[y].attrs.style || "").replace("inline-", "");
                                }
                                p.c = 1;
                            }
                            o.i = this.imgList.length.toString();
                            var v = o["original-src"] || o.src;
                            if (this.imgList.includes(v)) {
                                var b = v.indexOf("://");
                                if (-1 !== b) {
                                    b += 3;
                                    for (var T = v.substr(0, b); b < v.length && "/" !== v[b]; b++) T += Math.random() > .5 ? v[b].toUpperCase() : v[b];
                                    T += v.substr(b), v = T;
                                }
                            }
                            this.imgList.push(v), this.options.lazyLoad && (o["data-src"] = o.src, o.src = void 0);
                        }
                        "inline" === d.display && (d.display = ""), o.ignore && (d["max-width"] = d["max-width"] || "100%", 
                        o.style += ";-webkit-touch-callout:none"), parseInt(d.width) > i && (d.height = void 0), 
                        isNaN(parseInt(d.width)) || (t.w = "T"), !isNaN(parseInt(d.height)) && (!d.height.includes("%") || a && (a.attrs.style || "").includes("height")) && (t.h = "T");
                    } else if ("svg" === t.name) return s.push(t), this.stack.push(t), void this.popNode();
                    for (var _ in d) d[_] && (o.style += ";".concat(_, ":").concat(d[_].replace(" !important", "")));
                    o.style = o.style.substr(1) || void 0, o.style || delete o.style;
                } else ("pre" === t.name || (o.style || "").includes("white-space") && o.style.includes("pre")) && 2 !== this.pre && (this.pre = t.pre = 1), 
                t.children = [], this.stack.push(t);
                s.push(t);
            }, f.prototype.onCloseTag = function(e) {
                var t;
                for (e = this.xml ? e : e.toLowerCase(), t = this.stack.length; t-- && this.stack[t].name !== e; ) ;
                if (-1 !== t) for (;this.stack.length > t; ) this.popNode(); else if ("p" === e || "br" === e) {
                    (this.stack.length ? this.stack[this.stack.length - 1].children : this.nodes).push({
                        name: e,
                        attrs: {
                            class: r[e] || "",
                            style: this.tagStyle[e] || ""
                        }
                    });
                }
            }, f.prototype.popNode = function() {
                var t = this.stack.pop(), r = t.attrs, o = t.children, a = this.stack[this.stack.length - 1], s = a ? a.children : this.nodes;
                if (!this.hook(t) || n.ignoreTags[t.name]) return "title" === t.name && o.length && "text" === o[0].type && this.options.setTitle && e.setNavigationBarTitle({
                    title: o[0].text
                }), void s.pop();
                if (t.pre && 2 !== this.pre) {
                    this.pre = t.pre = void 0;
                    for (var c = this.stack.length; c--; ) this.stack[c].pre && (this.pre = 1);
                }
                var u = {};
                if ("svg" === t.name) {
                    if (this.xml > 1) return void this.xml--;
                    !function e(t) {
                        if (t.name) {
                            for (var r in t.name = n.svgDict[t.name] || t.name, t.attrs) n.svgDict[r] && (t.attrs[n.svgDict[r]] = t.attrs[r], 
                            t.attrs[r] = void 0);
                            for (var o = 0; o < (t.children || []).length; o++) e(t.children[o]);
                        }
                    }(t);
                    var l = "", f = r.style;
                    return r.style = "", r.xmlns = "http://www.w3.org/2000/svg", function e(t) {
                        if ("text" !== t.type) {
                            var r = n.svgDict[t.name] || t.name;
                            for (var o in l += "<" + r, t.attrs) {
                                var i = t.attrs[o];
                                i && (l += " ".concat(n.svgDict[o] || o, '="').concat(i, '"'));
                            }
                            if (t.children) {
                                l += ">";
                                for (var a = 0; a < t.children.length; a++) e(t.children[a]);
                                l += "</" + r + ">";
                            } else l += "/>";
                        } else l += t.text;
                    }(t), t.name = "img", t.attrs = {
                        src: "data:image/svg+xml;utf8," + l.replace(/#/g, "%23"),
                        style: f,
                        ignore: "T"
                    }, t.children = void 0, void (this.xml = !1);
                }
                if (r.align && ("table" === t.name ? "center" === r.align ? u["margin-inline-start"] = u["margin-inline-end"] = "auto" : u.float = r.align : u["text-align"] = r.align, 
                r.align = void 0), r.dir && (u.direction = r.dir, r.dir = void 0), "font" === t.name && (r.color && (u.color = r.color, 
                r.color = void 0), r.face && (u["font-family"] = r.face, r.face = void 0), r.size)) {
                    var p = parseInt(r.size);
                    isNaN(p) || (p < 1 ? p = 1 : p > 7 && (p = 7), u["font-size"] = [ "x-small", "small", "medium", "large", "x-large", "xx-large", "xxx-large" ][p - 1]), 
                    r.size = void 0;
                }
                if ((r.class || "").includes("align-center") && (u["text-align"] = "center"), Object.assign(u, this.parseStyle(t)), 
                "table" !== t.name && parseInt(u.width) > i && (u["max-width"] = "100%", u["box-sizing"] = "border-box"), 
                n.blockTags[t.name] ? t.name = "div" : n.trustTags[t.name] || this.xml || (t.name = "span"), 
                "a" === t.name || "ad" === t.name || "iframe" === t.name) this.expose(); else if ("video" === t.name) {
                    (u.height || "").includes("auto") && (u.height = void 0);
                    var m = '<video style="width:100%;height:100%"';
                    for (var g in r) r[g] && (m += " " + g + '="' + r[g] + '"');
                    this.options.pauseVideo && (m += " onplay=\"this.dispatchEvent(new CustomEvent('vplay',{bubbles:!0}));for(var e=document.getElementsByTagName('video'),t=0;t<e.length;t++)e[t]!=this&&e[t].pause()\""), 
                    m += ">";
                    for (var h = 0; h < t.src.length; h++) m += '<source src="' + t.src[h] + '">';
                    m += "</video>", t.html = m;
                } else if ("ul" !== t.name && "ol" !== t.name || !t.c) {
                    if ("table" === t.name) {
                        var y = parseFloat(r.cellpadding), v = parseFloat(r.cellspacing), b = parseFloat(r.border), T = u["border-color"], _ = u["border-style"];
                        if (t.c && (isNaN(y) && (y = 2), isNaN(v) && (v = 2)), b && (r.style += ";border:".concat(b, "px ").concat(_ || "solid", " ").concat(T || "gray")), 
                        t.flag && t.c) {
                            u.display = "grid", v ? (u["grid-gap"] = v + "px", u.padding = v + "px") : b && (r.style += ";border-left:0;border-top:0");
                            var S = [], k = [], M = [], P = {};
                            !function e(t) {
                                for (var n = 0; n < t.length; n++) "tr" === t[n].name ? k.push(t[n]) : e(t[n].children || []);
                            }(o);
                            for (var A = 1; A <= k.length; A++) {
                                for (var w = 1, O = 0; O < k[A - 1].children.length; O++) {
                                    var E = k[A - 1].children[O];
                                    if ("td" === E.name || "th" === E.name) {
                                        for (;P[A + "." + w]; ) w++;
                                        var I = E.attrs.style || "", x = I.indexOf("width") ? I.indexOf(";width") : 0;
                                        if (-1 !== x) {
                                            var C = I.indexOf(";", x + 6);
                                            -1 === C && (C = I.length), E.attrs.colspan || (S[w] = I.substring(x ? x + 7 : 6, C)), 
                                            I = I.substr(0, x) + I.substr(C);
                                        }
                                        if (I = (b ? ";border:".concat(b, "px ").concat(_ || "solid", " ").concat(T || "gray") + (v ? "" : ";border-right:0;border-bottom:0") : "") + (y ? ";padding:".concat(y, "px") : "") + ";" + I, 
                                        E.attrs.colspan && (I += ";grid-column-start:".concat(w, ";grid-column-end:").concat(w + parseInt(E.attrs.colspan)), 
                                        E.attrs.rowspan || (I += ";grid-row-start:".concat(A, ";grid-row-end:").concat(A + 1)), 
                                        w += parseInt(E.attrs.colspan) - 1), E.attrs.rowspan) {
                                            I += ";grid-row-start:".concat(A, ";grid-row-end:").concat(A + parseInt(E.attrs.rowspan)), 
                                            E.attrs.colspan || (I += ";grid-column-start:".concat(w, ";grid-column-end:").concat(w + 1));
                                            for (var R = 1; R < E.attrs.rowspan; R++) for (var j = 0; j < (E.attrs.colspan || 1); j++) P[A + R + "." + (w - j)] = 1;
                                        }
                                        I && (E.attrs.style = I), M.push(E), w++;
                                    }
                                }
                                if (1 === A) {
                                    for (var N = "", L = 1; L < w; L++) N += (S[L] ? S[L] : "auto") + " ";
                                    u["grid-template-columns"] = N;
                                }
                            }
                            t.children = M;
                        } else t.c && (u.display = "table"), isNaN(v) || (u["border-spacing"] = v + "px"), 
                        (b || y) && function e(t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                "th" === r.name || "td" === r.name ? (b && (r.attrs.style = "border:".concat(b, "px ").concat(_ || "solid", " ").concat(T || "gray", ";").concat(r.attrs.style || "")), 
                                y && (r.attrs.style = "padding:".concat(y, "px;").concat(r.attrs.style || ""))) : r.children && e(r.children);
                            }
                        }(o);
                        if (this.options.scrollTable && !(r.style || "").includes("inline")) {
                            var U = Object.assign({}, t);
                            t.name = "div", t.attrs = {
                                style: "overflow:auto"
                            }, t.children = [ U ], r = U.attrs;
                        }
                    } else if ("td" !== t.name && "th" !== t.name || !r.colspan && !r.rowspan) if ("ruby" === t.name) {
                        t.name = "span";
                        for (var D = 0; D < o.length - 1; D++) "text" === o[D].type && "rt" === o[D + 1].name && (o[D] = {
                            name: "div",
                            attrs: {
                                style: "display:inline-block;text-align:center"
                            },
                            children: [ {
                                name: "div",
                                attrs: {
                                    style: "font-size:50%;" + (o[D + 1].attrs.style || "")
                                },
                                children: o[D + 1].children
                            }, o[D] ]
                        }, o.splice(D + 1, 1));
                    } else t.c && function e(t) {
                        t.c = 2;
                        for (var r = t.children.length; r--; ) {
                            var o = t.children[r];
                            o.name && (n.inlineTags[o.name] || (o.attrs.style || "").includes("inline") && o.children) && !o.c && e(o), 
                            o.c && "table" !== o.name || (t.c = 1);
                        }
                    }(t); else for (var F = this.stack.length; F--; ) if ("table" === this.stack[F].name) {
                        this.stack[F].flag = 1;
                        break;
                    }
                } else {
                    var B = {
                        a: "lower-alpha",
                        A: "upper-alpha",
                        i: "lower-roman",
                        I: "upper-roman"
                    };
                    B[r.type] && (r.style += ";list-style-type:" + B[r.type], r.type = void 0);
                    for (var V = o.length; V--; ) "li" === o[V].name && (o[V].c = 1);
                }
                if ((u.display || "").includes("flex") && !t.c) for (var q = o.length; q--; ) {
                    var H = o[q];
                    H.f && (H.attrs.style = (H.attrs.style || "") + H.f, H.f = void 0);
                }
                var $ = a && ((a.attrs.style || "").includes("flex") || (a.attrs.style || "").includes("grid")) && !(t.c && wx.getNFCAdapter) && !t.c;
                for (var z in $ && (t.f = ";max-width:100%"), o.length >= 50 && t.c && !(u.display || "").includes("flex") && d(o), 
                u) if (u[z]) {
                    var G = ";".concat(z, ":").concat(u[z].replace(" !important", ""));
                    $ && (z.includes("flex") && "flex-direction" !== z || "align-self" === z || z.includes("grid") || "-" === u[z][0] || z.includes("width") && G.includes("%")) ? (t.f += G, 
                    "width" === z && (r.style += ";width:100%")) : r.style += G;
                }
                for (var Y in r.style = r.style.substr(1) || void 0, r) r[Y] || delete r[Y];
            }, f.prototype.onText = function(t) {
                if (!this.pre) {
                    for (var n, r = "", o = 0, i = t.length; o < i; o++) s[t[o]] ? (" " !== r[r.length - 1] && (r += " "), 
                    "\n" !== t[o] || n || (n = !0)) : r += t[o];
                    if (" " === r) {
                        if (n) return;
                        var c = this.stack[this.stack.length - 1];
                        if (c && "t" === c.name[0]) return;
                    }
                    t = r;
                }
                var u = Object.create(null);
                (u.type = "text", u.attrs = {}, u.text = l(t), this.hook(u)) && ("force" === this.options.selectable && a.includes("iOS") && !e.canIUse("rich-text.user-select") && this.expose(), 
                (this.stack.length ? this.stack[this.stack.length - 1].children : this.nodes).push(u));
            }, p.prototype.parse = function(e) {
                this.content = e || "", this.i = 0, this.start = 0, this.state = this.text;
                for (var t = this.content.length; -1 !== this.i && this.i < t; ) this.state();
            }, p.prototype.checkClose = function(e) {
                var t = "/" === this.content[this.i];
                return !!(">" === this.content[this.i] || t && ">" === this.content[this.i + 1]) && (e && this.handler[e](this.content.substring(this.start, this.i)), 
                this.i += t ? 2 : 1, this.start = this.i, this.handler.onOpenTag(t), "script" === this.handler.tagName ? (this.i = this.content.indexOf("</", this.i), 
                -1 !== this.i && (this.i += 2, this.start = this.i), this.state = this.endTag) : this.state = this.text, 
                !0);
            }, p.prototype.text = function() {
                if (this.i = this.content.indexOf("<", this.i), -1 !== this.i) {
                    var e = this.content[this.i + 1];
                    if (e >= "a" && e <= "z" || e >= "A" && e <= "Z") this.start !== this.i && this.handler.onText(this.content.substring(this.start, this.i)), 
                    this.start = ++this.i, this.state = this.tagName; else if ("/" === e || "!" === e || "?" === e) {
                        this.start !== this.i && this.handler.onText(this.content.substring(this.start, this.i));
                        var t = this.content[this.i + 2];
                        if ("/" === e && (t >= "a" && t <= "z" || t >= "A" && t <= "Z")) return this.i += 2, 
                        this.start = this.i, void (this.state = this.endTag);
                        var n = "--\x3e";
                        "!" === e && "-" === this.content[this.i + 2] && "-" === this.content[this.i + 3] || (n = ">"), 
                        this.i = this.content.indexOf(n, this.i), -1 !== this.i && (this.i += n.length, 
                        this.start = this.i);
                    } else this.i++;
                } else this.start < this.content.length && this.handler.onText(this.content.substring(this.start, this.content.length));
            }, p.prototype.tagName = function() {
                if (s[this.content[this.i]]) {
                    for (this.handler.onTagName(this.content.substring(this.start, this.i)); s[this.content[++this.i]]; ) ;
                    this.i < this.content.length && !this.checkClose() && (this.start = this.i, this.state = this.attrName);
                } else this.checkClose("onTagName") || this.i++;
            }, p.prototype.attrName = function() {
                var e = this.content[this.i];
                if (s[e] || "=" === e) {
                    this.handler.onAttrName(this.content.substring(this.start, this.i));
                    for (var t = "=" === e, n = this.content.length; ++this.i < n; ) if (e = this.content[this.i], 
                    !s[e]) {
                        if (this.checkClose()) return;
                        if (t) return this.start = this.i, void (this.state = this.attrVal);
                        if ("=" !== this.content[this.i]) return this.start = this.i, void (this.state = this.attrName);
                        t = !0;
                    }
                } else this.checkClose("onAttrName") || this.i++;
            }, p.prototype.attrVal = function() {
                var e = this.content[this.i], t = this.content.length;
                if ('"' === e || "'" === e) {
                    if (this.start = ++this.i, this.i = this.content.indexOf(e, this.i), -1 === this.i) return;
                    this.handler.onAttrVal(this.content.substring(this.start, this.i));
                } else for (;this.i < t; this.i++) {
                    if (s[this.content[this.i]]) {
                        this.handler.onAttrVal(this.content.substring(this.start, this.i));
                        break;
                    }
                    if (this.checkClose("onAttrVal")) return;
                }
                for (;s[this.content[++this.i]]; ) ;
                this.i < t && !this.checkClose() && (this.start = this.i, this.state = this.attrName);
            }, p.prototype.endTag = function() {
                var e = this.content[this.i];
                if (s[e] || ">" === e || "/" === e) {
                    if (this.handler.onCloseTag(this.content.substring(this.start, this.i)), ">" !== e && (this.i = this.content.indexOf(">", this.i), 
                    -1 === this.i)) return;
                    this.start = ++this.i, this.state = this.text;
                } else this.i++;
            }, t.default = f;
        }.call(this, n("543d").default);
    },
    "57a5": function(e, t, n) {
        var r = n("91e9")(Object.keys, Object);
        e.exports = r;
    },
    "585a": function(e, t, n) {
        (function(t) {
            var n = "object" == _typeof3(t) && t && t.Object === Object && t;
            e.exports = n;
        }).call(this, n("c8ba"));
    },
    "5a65": function(e, t, n) {
        var r = n("9224"), o = a(n("66fd")), i = a(n("1ee3"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        o.default.use(i.default.install), console.log("%c ".concat("Vendors", " %c ", r.version, " %c"), "background:#35495e ; padding: 1px; border-radius: 3px;  color: #fff", "background:#41b883 ; padding: 1px; border-radius: 3px;  color: #fff", "background:transparent");
    },
    "5c69": function(e, t, n) {
        var r = n("087d"), o = n("0621");
        e.exports = function e(t, n, i, a, s) {
            var c = -1, u = t.length;
            for (i || (i = o), s || (s = []); ++c < u; ) {
                var l = t[c];
                n > 0 && i(l) ? n > 1 ? e(l, n - 1, i, a, s) : r(s, l) : a || (s[s.length] = l);
            }
            return s;
        };
    },
    "5e2e": function(e, t, n) {
        var r = n("28c9"), o = n("69d5"), i = n("b4c0"), a = n("fba5"), s = n("67ca");
        function c(e) {
            var t = -1, n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        c.prototype.clear = r, c.prototype.delete = o, c.prototype.get = i, c.prototype.has = a, 
        c.prototype.set = s, e.exports = c;
    },
    "5edf": function(e, t) {
        e.exports = function(e, t, n) {
            for (var r = -1, o = null == e ? 0 : e.length; ++r < o; ) if (n(t, e[r])) return !0;
            return !1;
        };
    },
    "5fc6": function(e, t, n) {
        t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "success", t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            -1 == [ "primary", "info", "error", "warning", "success" ].indexOf(e) && (e = "success");
            var n = "";
            switch (e) {
              case "primary":
              case "info":
                n = "info-circle";
                break;

              case "error":
                n = "close-circle";
                break;

              case "warning":
                n = "error-circle";
                break;

              case "success":
                n = "checkmark-circle";
                break;

              default:
                n = "checkmark-circle";
            }
            return t && (n += "-fill"), n;
        };
    },
    6025: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function(e, t) {
            return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e;
        };
    },
    6044: function(e, t, n) {
        var r = n("0b07")(Object, "create");
        e.exports = r;
    },
    6288: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.startVerify = t.initVerify = t.getVerifyToken = t.default = void 0;
        var o = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("04c6"));
        function i() {
            i = function() {
                return e;
            };
            var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, a = o.iterator || "@@iterator", s = o.asyncIterator || "@@asyncIterator", c = o.toStringTag || "@@toStringTag";
            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t];
            }
            try {
                u({}, "");
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                u = function(e, t, n) {
                    return e[t] = n;
                };
            }
            function l(e, t, n, r) {
                var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                return i._invoke = function(e, t, n) {
                    var r = "suspendedStart";
                    return function(o, i) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw i;
                            return {
                                value: void 0,
                                done: !0
                            };
                        }
                        for (n.method = o, n.arg = i; ;) {
                            var a = n.delegate;
                            if (a) {
                                var s = S(a, n);
                                if (s) {
                                    if (s === f) continue;
                                    return s;
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                if ("suspendedStart" === r) throw r = "completed", n.arg;
                                n.dispatchException(n.arg);
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var c = d(e, t, n);
                            if ("normal" === c.type) {
                                if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                return {
                                    value: c.arg,
                                    done: n.done
                                };
                            }
                            "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                        }
                    };
                }(e, n, a), i;
            }
            function d(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        type: "throw",
                        arg: e
                    };
                }
            }
            e.wrap = l;
            var f = {};
            function p() {}
            function m() {}
            function g() {}
            var h = {};
            u(h, a, function() {
                return this;
            });
            var y = Object.getPrototypeOf, v = y && y(y(A([])));
            v && v !== t && n.call(v, a) && (h = v);
            var b = g.prototype = p.prototype = Object.create(h);
            function T(e) {
                [ "next", "throw", "return" ].forEach(function(t) {
                    u(e, t, function(e) {
                        return this._invoke(t, e);
                    });
                });
            }
            function _(e, t) {
                function o(i, a, s, c) {
                    var u = d(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg, f = l.value;
                        return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                            o("next", e, s, c);
                        }, function(e) {
                            o("throw", e, s, c);
                        }) : t.resolve(f).then(function(e) {
                            l.value = e, s(l);
                        }, function(e) {
                            return o("throw", e, s, c);
                        });
                    }
                    c(u.arg);
                }
                var i;
                this._invoke = function(e, n) {
                    function r() {
                        return new t(function(t, r) {
                            o(e, n, t, r);
                        });
                    }
                    return i = i ? i.then(r, r) : r();
                };
            }
            function S(e, t) {
                var n = e.iterator[t.method];
                if (void 0 === n) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                    }
                    return f;
                }
                var r = d(n, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                f;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                t.delegate = null, f);
            }
            function k(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                this.tryEntries.push(t);
            }
            function M(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t;
            }
            function P(e) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], e.forEach(k, this), this.reset(!0);
            }
            function A(e) {
                if (e) {
                    var t = e[a];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1, o = function t() {
                            for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t;
                        };
                        return o.next = o;
                    }
                }
                return {
                    next: w
                };
            }
            function w() {
                return {
                    value: void 0,
                    done: !0
                };
            }
            return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                e.prototype = Object.create(b), e;
            }, e.awrap = function(e) {
                return {
                    __await: e
                };
            }, T(_.prototype), u(_.prototype, s, function() {
                return this;
            }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                void 0 === i && (i = Promise);
                var a = new _(l(t, n, r, o), i);
                return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                    return e.done ? e.value : a.next();
                });
            }, T(b), u(b, c, "Generator"), u(b, a, function() {
                return this;
            }), u(b, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(), function n() {
                    for (;t.length; ) {
                        var r = t.pop();
                        if (r in e) return n.value = r, n.done = !1, n;
                    }
                    return n.done = !0, n;
                };
            }, e.values = A, P.prototype = {
                constructor: P,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                    this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                    !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;
                    function r(n, r) {
                        return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                        !!r;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return r("end");
                        if (i.tryLoc <= this.prev) {
                            var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                            if (s && c) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            } else if (s) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            } else {
                                if (!c) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                    f) : this.complete(a);
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                    this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                    f;
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                M(n);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, t, n) {
                    return this.delegate = {
                        iterator: A(e),
                        resultName: t,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = void 0), f;
                }
            }, e;
        }
        function a(e, t, n, r, o, i, a) {
            try {
                var s = e[i](a), c = s.value;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                return void n(e);
            }
            s.done ? t(c) : Promise.resolve(c).then(r, o);
        }
        function s(e) {
            return function() {
                var t = this, n = arguments;
                return new Promise(function(r, o) {
                    var i = e.apply(t, n);
                    function s(e) {
                        a(i, r, o, s, c, "next", e);
                    }
                    function c(e) {
                        a(i, r, o, s, c, "throw", e);
                    }
                    s(void 0);
                });
            };
        }
        var c = function() {
            n("6d4e").init();
        };
        t.initVerify = c;
        var u = function(e) {
            return new Promise(function(t) {
                o.default.app.getFaceVerifyToken(e).then(function(e) {
                    t({
                        code: 200,
                        data: e.data,
                        msg: "获取人脸核身token成功"
                    });
                }).catch(function() {
                    t({
                        code: 500,
                        data: {},
                        msg: "获取人脸核身token失败"
                    });
                });
            });
        };
        t.getVerifyToken = u;
        var l = function(e) {
            return new Promise(function(t) {
                o.default.app.getFaceVerifyResult(e).then(function(e) {
                    t({
                        code: 200,
                        data: e.data,
                        msg: "查询人脸核身结果成功"
                    });
                }).catch(function() {
                    t({
                        code: 500,
                        data: {},
                        msg: "查询人脸核身结果失败"
                    });
                });
            });
        }, d = function(e) {
            return new Promise(function() {
                var t = s(i().mark(function t(n) {
                    var r, o;
                    return i().wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                          case 0:
                            return t.next = 2, u(e);

                          case 2:
                            200 === (r = t.sent).code ? wx.startVerify({
                                data: {
                                    token: null === (o = r.data) || void 0 === o ? void 0 : o.bizToken
                                },
                                success: function(t) {
                                    console.warn("startVerify", t), setTimeout(s(i().mark(function t() {
                                        var o, a, s;
                                        return i().wrap(function(t) {
                                            for (;;) switch (t.prev = t.next) {
                                              case 0:
                                                return t.next = 2, l({
                                                    familyId: e.familyId,
                                                    bizToken: null === (o = r.data) || void 0 === o ? void 0 : o.bizToken
                                                });

                                              case 2:
                                                200 === (a = t.sent).code ? 1 === (null === (s = a.data) || void 0 === s ? void 0 : s.faceVerifyState) ? n({
                                                    code: 200,
                                                    data: a.data,
                                                    msg: "实人认证成功"
                                                }) : n({
                                                    code: 201,
                                                    data: a.data,
                                                    msg: "查询人脸核身结果失败"
                                                }) : n(a);

                                              case 4:
                                              case "end":
                                                return t.stop();
                                            }
                                        }, t);
                                    })), 500);
                                },
                                fail: function(e) {
                                    console.warn("startVerify", e), setTimeout(function() {
                                        n({
                                            code: 202,
                                            data: {},
                                            msg: e.ErrorMsg
                                        });
                                    }, 500);
                                }
                            }) : n(r);

                          case 4:
                          case "end":
                            return t.stop();
                        }
                    }, t);
                }));
                return function(e) {
                    return t.apply(this, arguments);
                };
            }());
        };
        t.startVerify = d;
        var f = {
            initVerify: c,
            getVerifyToken: u,
            getVerifyResult: l,
            startVerify: d
        };
        t.default = f;
    },
    6293: function(e, t, n) {
        t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 32, t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, r = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), o = [];
            if (n = n || r.length, e) for (var i = 0; i < e; i++) o[i] = r[0 | Math.random() * n]; else {
                var a;
                o[8] = o[13] = o[18] = o[23] = "-", o[14] = "4";
                for (var s = 0; s < 36; s++) o[s] || (a = 0 | 16 * Math.random(), o[s] = r[19 == s ? 3 & a | 8 : a]);
            }
            return t ? (o.shift(), "u" + o.join("")) : o.join("");
        };
    },
    "62e4": function(e, t) {
        e.exports = function(e) {
            return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), 
            Object.defineProperty(e, "loaded", {
                enumerable: !0,
                get: function() {
                    return e.l;
                }
            }), Object.defineProperty(e, "id", {
                enumerable: !0,
                get: function() {
                    return e.i;
                }
            }), e.webpackPolyfill = 1), e;
        };
    },
    6428: function(e, t, n) {
        var r = n("b4b0");
        e.exports = function(e) {
            return e ? (e = r(e)) === 1 / 0 || e === -1 / 0 ? 1.7976931348623157e308 * (e < 0 ? -1 : 1) : e == e ? e : 0 : 0 === e ? e : 0;
        };
    },
    "642a": function(e, t, n) {
        var r = n("966f"), o = n("3bb4"), i = n("20ec");
        e.exports = function(e) {
            var t = o(e);
            return 1 == t.length && t[0][2] ? i(t[0][0], t[0][1]) : function(n) {
                return n === e || r(n, e, t);
            };
        };
    },
    "656b": function(e, t, n) {
        var r = n("e2e4"), o = n("f4d6");
        e.exports = function(e, t) {
            for (var n = 0, i = (t = r(t, e)).length; null != e && n < i; ) e = e[o(t[n++])];
            return n && n == i ? e : void 0;
        };
    },
    "66fd": function(e, t, n) {
        n.r(t), function(e) {
            var n = Object.freeze({});
            function r(e) {
                return null == e;
            }
            function o(e) {
                return null != e;
            }
            function i(e) {
                return !0 === e;
            }
            function a(e) {
                return "string" == typeof e || "number" == typeof e || "symbol" === _typeof3(e) || "boolean" == typeof e;
            }
            function s(e) {
                return null !== e && "object" === _typeof3(e);
            }
            var c = Object.prototype.toString;
            function u(e) {
                return "[object Object]" === c.call(e);
            }
            function l(e) {
                var t = parseFloat(String(e));
                return t >= 0 && Math.floor(t) === t && isFinite(e);
            }
            function d(e) {
                return o(e) && "function" == typeof e.then && "function" == typeof e.catch;
            }
            function f(e) {
                return null == e ? "" : Array.isArray(e) || u(e) && e.toString === c ? JSON.stringify(e, null, 2) : String(e);
            }
            function p(e) {
                var t = parseFloat(e);
                return isNaN(t) ? e : t;
            }
            function m(e, t) {
                for (var n = Object.create(null), r = e.split(","), o = 0; o < r.length; o++) n[r[o]] = !0;
                return t ? function(e) {
                    return n[e.toLowerCase()];
                } : function(e) {
                    return n[e];
                };
            }
            m("slot,component", !0);
            var g = m("key,ref,slot,slot-scope,is");
            function h(e, t) {
                if (e.length) {
                    var n = e.indexOf(t);
                    if (n > -1) return e.splice(n, 1);
                }
            }
            var y = Object.prototype.hasOwnProperty;
            function v(e, t) {
                return y.call(e, t);
            }
            function b(e) {
                var t = Object.create(null);
                return function(n) {
                    return t[n] || (t[n] = e(n));
                };
            }
            var T = /-(\w)/g, _ = b(function(e) {
                return e.replace(T, function(e, t) {
                    return t ? t.toUpperCase() : "";
                });
            }), S = b(function(e) {
                return e.charAt(0).toUpperCase() + e.slice(1);
            }), k = /\B([A-Z])/g, M = b(function(e) {
                return e.replace(k, "-$1").toLowerCase();
            });
            var P = Function.prototype.bind ? function(e, t) {
                return e.bind(t);
            } : function(e, t) {
                function n(n) {
                    var r = arguments.length;
                    return r ? r > 1 ? e.apply(t, arguments) : e.call(t, n) : e.call(t);
                }
                return n._length = e.length, n;
            };
            function A(e, t) {
                t = t || 0;
                for (var n = e.length - t, r = new Array(n); n--; ) r[n] = e[n + t];
                return r;
            }
            function w(e, t) {
                for (var n in t) e[n] = t[n];
                return e;
            }
            function O(e) {
                for (var t = {}, n = 0; n < e.length; n++) e[n] && w(t, e[n]);
                return t;
            }
            function E(e, t, n) {}
            var I = function(e, t, n) {
                return !1;
            }, x = function(e) {
                return e;
            };
            function C(e, t) {
                if (e === t) return !0;
                var n = s(e), r = s(t);
                if (!n || !r) return !n && !r && String(e) === String(t);
                try {
                    var o = Array.isArray(e), i = Array.isArray(t);
                    if (o && i) return e.length === t.length && e.every(function(e, n) {
                        return C(e, t[n]);
                    });
                    if (e instanceof Date && t instanceof Date) return e.getTime() === t.getTime();
                    if (o || i) return !1;
                    var a = Object.keys(e), c = Object.keys(t);
                    return a.length === c.length && a.every(function(n) {
                        return C(e[n], t[n]);
                    });
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return !1;
                }
            }
            function R(e, t) {
                for (var n = 0; n < e.length; n++) if (C(e[n], t)) return n;
                return -1;
            }
            function j(e) {
                var t = !1;
                return function() {
                    t || (t = !0, e.apply(this, arguments));
                };
            }
            var N = [ "component", "directive", "filter" ], L = [ "beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated", "errorCaptured", "serverPrefetch" ], U = {
                optionMergeStrategies: Object.create(null),
                silent: !1,
                productionTip: !1,
                devtools: !1,
                performance: !1,
                errorHandler: null,
                warnHandler: null,
                ignoredElements: [],
                keyCodes: Object.create(null),
                isReservedTag: I,
                isReservedAttr: I,
                isUnknownElement: I,
                getTagNamespace: E,
                parsePlatformTagName: x,
                mustUseProp: I,
                async: !0,
                _lifecycleHooks: L
            };
            function D(e) {
                var t = (e + "").charCodeAt(0);
                return 36 === t || 95 === t;
            }
            function F(e, t, n, r) {
                Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !!r,
                    writable: !0,
                    configurable: !0
                });
            }
            var B = new RegExp("[^" + /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source + ".$_\\d]");
            var V, q = "__proto__" in {}, H = "undefined" != typeof window, $ = "undefined" != typeof WXEnvironment && !!WXEnvironment.platform, z = $ && WXEnvironment.platform.toLowerCase(), G = H && window.navigator.userAgent.toLowerCase(), Y = G && /msie|trident/.test(G), W = (G && G.indexOf("msie 9.0"), 
            G && G.indexOf("edge/"), G && G.indexOf("android"), G && /iphone|ipad|ipod|ios/.test(G) || "ios" === z), Q = (G && /chrome\/\d+/.test(G), 
            G && /phantomjs/.test(G), G && G.match(/firefox\/(\d+)/), {}.watch);
            if (H) try {
                var J = {};
                Object.defineProperty(J, "passive", {
                    get: function() {}
                }), window.addEventListener("test-passive", null, J);
            } catch (e) {}
            var K = function() {
                return void 0 === V && (V = !H && !$ && void 0 !== e && e.process && "server" === e.process.env.VUE_ENV), 
                V;
            }, Z = H && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;
            function X(e) {
                return "function" == typeof e && /native code/.test(e.toString());
            }
            var ee, te = "undefined" != typeof Symbol && X(Symbol) && "undefined" != typeof Reflect && X(Reflect.ownKeys);
            ee = "undefined" != typeof Set && X(Set) ? Set : function() {
                function e() {
                    this.set = Object.create(null);
                }
                return e.prototype.has = function(e) {
                    return !0 === this.set[e];
                }, e.prototype.add = function(e) {
                    this.set[e] = !0;
                }, e.prototype.clear = function() {
                    this.set = Object.create(null);
                }, e;
            }();
            var ne = E, re = 0, oe = function() {
                this.id = re++, this.subs = [];
            };
            function ie(e) {
                oe.SharedObject.targetStack.push(e), oe.SharedObject.target = e, oe.target = e;
            }
            function ae() {
                oe.SharedObject.targetStack.pop(), oe.SharedObject.target = oe.SharedObject.targetStack[oe.SharedObject.targetStack.length - 1], 
                oe.target = oe.SharedObject.target;
            }
            oe.prototype.addSub = function(e) {
                this.subs.push(e);
            }, oe.prototype.removeSub = function(e) {
                h(this.subs, e);
            }, oe.prototype.depend = function() {
                oe.SharedObject.target && oe.SharedObject.target.addDep(this);
            }, oe.prototype.notify = function() {
                for (var e = this.subs.slice(), t = 0, n = e.length; t < n; t++) e[t].update();
            }, (oe.SharedObject = {}).target = null, oe.SharedObject.targetStack = [];
            var se = function(e, t, n, r, o, i, a, s) {
                this.tag = e, this.data = t, this.children = n, this.text = r, this.elm = o, this.ns = void 0, 
                this.context = i, this.fnContext = void 0, this.fnOptions = void 0, this.fnScopeId = void 0, 
                this.key = t && t.key, this.componentOptions = a, this.componentInstance = void 0, 
                this.parent = void 0, this.raw = !1, this.isStatic = !1, this.isRootInsert = !0, 
                this.isComment = !1, this.isCloned = !1, this.isOnce = !1, this.asyncFactory = s, 
                this.asyncMeta = void 0, this.isAsyncPlaceholder = !1;
            }, ce = {
                child: {
                    configurable: !0
                }
            };
            ce.child.get = function() {
                return this.componentInstance;
            }, Object.defineProperties(se.prototype, ce);
            var ue = function(e) {
                void 0 === e && (e = "");
                var t = new se();
                return t.text = e, t.isComment = !0, t;
            };
            function le(e) {
                return new se(void 0, void 0, void 0, String(e));
            }
            var de = Array.prototype, fe = Object.create(de);
            [ "push", "pop", "shift", "unshift", "splice", "sort", "reverse" ].forEach(function(e) {
                var t = de[e];
                F(fe, e, function() {
                    for (var n = [], r = arguments.length; r--; ) n[r] = arguments[r];
                    var o, i = t.apply(this, n), a = this.__ob__;
                    switch (e) {
                      case "push":
                      case "unshift":
                        o = n;
                        break;

                      case "splice":
                        o = n.slice(2);
                    }
                    return o && a.observeArray(o), a.dep.notify(), i;
                });
            });
            var pe = Object.getOwnPropertyNames(fe), me = !0;
            function ge(e) {
                me = e;
            }
            var he = function(e) {
                this.value = e, this.dep = new oe(), this.vmCount = 0, F(e, "__ob__", this), Array.isArray(e) ? (q ? e.push !== e.__proto__.push ? ye(e, fe, pe) : function(e, t) {
                    e.__proto__ = t;
                }(e, fe) : ye(e, fe, pe), this.observeArray(e)) : this.walk(e);
            };
            function ye(e, t, n) {
                for (var r = 0, o = n.length; r < o; r++) {
                    var i = n[r];
                    F(e, i, t[i]);
                }
            }
            function ve(e, t) {
                var n;
                if (s(e) && !(e instanceof se)) return v(e, "__ob__") && e.__ob__ instanceof he ? n = e.__ob__ : me && !K() && (Array.isArray(e) || u(e)) && Object.isExtensible(e) && !e._isVue && (n = new he(e)), 
                t && n && n.vmCount++, n;
            }
            function be(e, t, n, r, o) {
                var i = new oe(), a = Object.getOwnPropertyDescriptor(e, t);
                if (!a || !1 !== a.configurable) {
                    var s = a && a.get, c = a && a.set;
                    s && !c || 2 !== arguments.length || (n = e[t]);
                    var u = !o && ve(n);
                    Object.defineProperty(e, t, {
                        enumerable: !0,
                        configurable: !0,
                        get: function() {
                            var t = s ? s.call(e) : n;
                            return oe.SharedObject.target && (i.depend(), u && (u.dep.depend(), Array.isArray(t) && Se(t))), 
                            t;
                        },
                        set: function(t) {
                            var r = s ? s.call(e) : n;
                            t === r || t != t && r != r || s && !c || (c ? c.call(e, t) : n = t, u = !o && ve(t), 
                            i.notify());
                        }
                    });
                }
            }
            function Te(e, t, n) {
                if (Array.isArray(e) && l(t)) return e.length = Math.max(e.length, t), e.splice(t, 1, n), 
                n;
                if (t in e && !(t in Object.prototype)) return e[t] = n, n;
                var r = e.__ob__;
                return e._isVue || r && r.vmCount ? n : r ? (be(r.value, t, n), r.dep.notify(), 
                n) : (e[t] = n, n);
            }
            function _e(e, t) {
                if (Array.isArray(e) && l(t)) e.splice(t, 1); else {
                    var n = e.__ob__;
                    e._isVue || n && n.vmCount || v(e, t) && (delete e[t], n && n.dep.notify());
                }
            }
            function Se(e) {
                for (var t = void 0, n = 0, r = e.length; n < r; n++) (t = e[n]) && t.__ob__ && t.__ob__.dep.depend(), 
                Array.isArray(t) && Se(t);
            }
            he.prototype.walk = function(e) {
                for (var t = Object.keys(e), n = 0; n < t.length; n++) be(e, t[n]);
            }, he.prototype.observeArray = function(e) {
                for (var t = 0, n = e.length; t < n; t++) ve(e[t]);
            };
            var ke = U.optionMergeStrategies;
            function Me(e, t) {
                if (!t) return e;
                for (var n, r, o, i = te ? Reflect.ownKeys(t) : Object.keys(t), a = 0; a < i.length; a++) "__ob__" !== (n = i[a]) && (r = e[n], 
                o = t[n], v(e, n) ? r !== o && u(r) && u(o) && Me(r, o) : Te(e, n, o));
                return e;
            }
            function Pe(e, t, n) {
                return n ? function() {
                    var r = "function" == typeof t ? t.call(n, n) : t, o = "function" == typeof e ? e.call(n, n) : e;
                    return r ? Me(r, o) : o;
                } : t ? e ? function() {
                    return Me("function" == typeof t ? t.call(this, this) : t, "function" == typeof e ? e.call(this, this) : e);
                } : t : e;
            }
            function Ae(e, t) {
                var n = t ? e ? e.concat(t) : Array.isArray(t) ? t : [ t ] : e;
                return n ? function(e) {
                    for (var t = [], n = 0; n < e.length; n++) -1 === t.indexOf(e[n]) && t.push(e[n]);
                    return t;
                }(n) : n;
            }
            function we(e, t, n, r) {
                var o = Object.create(e || null);
                return t ? w(o, t) : o;
            }
            ke.data = function(e, t, n) {
                return n ? Pe(e, t, n) : t && "function" != typeof t ? e : Pe(e, t);
            }, L.forEach(function(e) {
                ke[e] = Ae;
            }), N.forEach(function(e) {
                ke[e + "s"] = we;
            }), ke.watch = function(e, t, n, r) {
                if (e === Q && (e = void 0), t === Q && (t = void 0), !t) return Object.create(e || null);
                if (!e) return t;
                var o = {};
                for (var i in w(o, e), t) {
                    var a = o[i], s = t[i];
                    a && !Array.isArray(a) && (a = [ a ]), o[i] = a ? a.concat(s) : Array.isArray(s) ? s : [ s ];
                }
                return o;
            }, ke.props = ke.methods = ke.inject = ke.computed = function(e, t, n, r) {
                if (!e) return t;
                var o = Object.create(null);
                return w(o, e), t && w(o, t), o;
            }, ke.provide = Pe;
            var Oe = function(e, t) {
                return void 0 === t ? e : t;
            };
            function Ee(e, t, n) {
                if ("function" == typeof t && (t = t.options), function(e, t) {
                    var n = e.props;
                    if (n) {
                        var r, o, i = {};
                        if (Array.isArray(n)) for (r = n.length; r--; ) "string" == typeof (o = n[r]) && (i[_(o)] = {
                            type: null
                        }); else if (u(n)) for (var a in n) o = n[a], i[_(a)] = u(o) ? o : {
                            type: o
                        };
                        e.props = i;
                    }
                }(t), function(e, t) {
                    var n = e.inject;
                    if (n) {
                        var r = e.inject = {};
                        if (Array.isArray(n)) for (var o = 0; o < n.length; o++) r[n[o]] = {
                            from: n[o]
                        }; else if (u(n)) for (var i in n) {
                            var a = n[i];
                            r[i] = u(a) ? w({
                                from: i
                            }, a) : {
                                from: a
                            };
                        }
                    }
                }(t), function(e) {
                    var t = e.directives;
                    if (t) for (var n in t) {
                        var r = t[n];
                        "function" == typeof r && (t[n] = {
                            bind: r,
                            update: r
                        });
                    }
                }(t), !t._base && (t.extends && (e = Ee(e, t.extends, n)), t.mixins)) for (var r = 0, o = t.mixins.length; r < o; r++) e = Ee(e, t.mixins[r], n);
                var i, a = {};
                for (i in e) s(i);
                for (i in t) v(e, i) || s(i);
                function s(r) {
                    var o = ke[r] || Oe;
                    a[r] = o(e[r], t[r], n, r);
                }
                return a;
            }
            function Ie(e, t, n, r) {
                if ("string" == typeof n) {
                    var o = e[t];
                    if (v(o, n)) return o[n];
                    var i = _(n);
                    if (v(o, i)) return o[i];
                    var a = S(i);
                    return v(o, a) ? o[a] : o[n] || o[i] || o[a];
                }
            }
            function xe(e, t, n, r) {
                var o = t[e], i = !v(n, e), a = n[e], s = je(Boolean, o.type);
                if (s > -1) if (i && !v(o, "default")) a = !1; else if ("" === a || a === M(e)) {
                    var c = je(String, o.type);
                    (c < 0 || s < c) && (a = !0);
                }
                if (void 0 === a) {
                    a = function(e, t, n) {
                        if (v(t, "default")) {
                            var r = t.default;
                            return e && e.$options.propsData && void 0 === e.$options.propsData[n] && void 0 !== e._props[n] ? e._props[n] : "function" == typeof r && "Function" !== Ce(t.type) ? r.call(e) : r;
                        }
                    }(r, o, e);
                    var u = me;
                    ge(!0), ve(a), ge(u);
                }
                return a;
            }
            function Ce(e) {
                var t = e && e.toString().match(/^\s*function (\w+)/);
                return t ? t[1] : "";
            }
            function Re(e, t) {
                return Ce(e) === Ce(t);
            }
            function je(e, t) {
                if (!Array.isArray(t)) return Re(t, e) ? 0 : -1;
                for (var n = 0, r = t.length; n < r; n++) if (Re(t[n], e)) return n;
                return -1;
            }
            function Ne(e, t, n) {
                ie();
                try {
                    if (t) for (var r = t; r = r.$parent; ) {
                        var o = r.$options.errorCaptured;
                        if (o) for (var i = 0; i < o.length; i++) try {
                            if (!1 === o[i].call(r, e, t, n)) return;
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            Ue(e, r, "errorCaptured hook");
                        }
                    }
                    Ue(e, t, n);
                } finally {
                    ae();
                }
            }
            function Le(e, t, n, r, o) {
                var i;
                try {
                    (i = n ? e.apply(t, n) : e.call(t)) && !i._isVue && d(i) && !i._handled && (i.catch(function(e) {
                        return Ne(e, r, o + " (Promise/async)");
                    }), i._handled = !0);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    Ne(e, r, o);
                }
                return i;
            }
            function Ue(e, t, n) {
                if (U.errorHandler) try {
                    return U.errorHandler.call(null, e, t, n);
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    t !== e && De(t, null, "config.errorHandler");
                }
                De(e, t, n);
            }
            function De(e, t, n) {
                if (!H && !$ || "undefined" == typeof console) throw e;
                console.error(e);
            }
            var Fe, Be = [], Ve = !1;
            function qe() {
                Ve = !1;
                var e = Be.slice(0);
                Be.length = 0;
                for (var t = 0; t < e.length; t++) e[t]();
            }
            if ("undefined" != typeof Promise && X(Promise)) {
                var He = Promise.resolve();
                Fe = function() {
                    He.then(qe), W && setTimeout(E);
                };
            } else if (Y || "undefined" == typeof MutationObserver || !X(MutationObserver) && "[object MutationObserverConstructor]" !== MutationObserver.toString()) Fe = "undefined" != typeof setImmediate && X(setImmediate) ? function() {
                setImmediate(qe);
            } : function() {
                setTimeout(qe, 0);
            }; else {
                var $e = 1, ze = new MutationObserver(qe), Ge = document.createTextNode(String($e));
                ze.observe(Ge, {
                    characterData: !0
                }), Fe = function() {
                    $e = ($e + 1) % 2, Ge.data = String($e);
                };
            }
            function Ye(e, t) {
                var n;
                if (Be.push(function() {
                    if (e) try {
                        e.call(t);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        Ne(e, t, "nextTick");
                    } else n && n(t);
                }), Ve || (Ve = !0, Fe()), !e && "undefined" != typeof Promise) return new Promise(function(e) {
                    n = e;
                });
            }
            var We = new ee();
            function Qe(e) {
                (function e(t, n) {
                    var r, o, i = Array.isArray(t);
                    if (!(!i && !s(t) || Object.isFrozen(t) || t instanceof se)) {
                        if (t.__ob__) {
                            var a = t.__ob__.dep.id;
                            if (n.has(a)) return;
                            n.add(a);
                        }
                        if (i) for (r = t.length; r--; ) e(t[r], n); else for (o = Object.keys(t), r = o.length; r--; ) e(t[o[r]], n);
                    }
                })(e, We), We.clear();
            }
            var Je = b(function(e) {
                var t = "&" === e.charAt(0), n = "~" === (e = t ? e.slice(1) : e).charAt(0), r = "!" === (e = n ? e.slice(1) : e).charAt(0);
                return {
                    name: e = r ? e.slice(1) : e,
                    once: n,
                    capture: r,
                    passive: t
                };
            });
            function Ke(e, t) {
                function n() {
                    var e = arguments, r = n.fns;
                    if (!Array.isArray(r)) return Le(r, null, arguments, t, "v-on handler");
                    for (var o = r.slice(), i = 0; i < o.length; i++) Le(o[i], null, e, t, "v-on handler");
                }
                return n.fns = e, n;
            }
            function Ze(e, t, n, i) {
                var a = t.options.mpOptions && t.options.mpOptions.properties;
                if (r(a)) return n;
                var s = t.options.mpOptions.externalClasses || [], c = e.attrs, u = e.props;
                if (o(c) || o(u)) for (var l in a) {
                    var d = M(l);
                    (Xe(n, u, l, d, !0) || Xe(n, c, l, d, !1)) && n[l] && -1 !== s.indexOf(d) && i[_(n[l])] && (n[l] = i[_(n[l])]);
                }
                return n;
            }
            function Xe(e, t, n, r, i) {
                if (o(t)) {
                    if (v(t, n)) return e[n] = t[n], i || delete t[n], !0;
                    if (v(t, r)) return e[n] = t[r], i || delete t[r], !0;
                }
                return !1;
            }
            function et(e) {
                return a(e) ? [ le(e) ] : Array.isArray(e) ? function e(t, n) {
                    var s, c, u, l, d = [];
                    for (s = 0; s < t.length; s++) r(c = t[s]) || "boolean" == typeof c || (u = d.length - 1, 
                    l = d[u], Array.isArray(c) ? c.length > 0 && (tt((c = e(c, (n || "") + "_" + s))[0]) && tt(l) && (d[u] = le(l.text + c[0].text), 
                    c.shift()), d.push.apply(d, c)) : a(c) ? tt(l) ? d[u] = le(l.text + c) : "" !== c && d.push(le(c)) : tt(c) && tt(l) ? d[u] = le(l.text + c.text) : (i(t._isVList) && o(c.tag) && r(c.key) && o(n) && (c.key = "__vlist" + n + "_" + s + "__"), 
                    d.push(c)));
                    return d;
                }(e) : void 0;
            }
            function tt(e) {
                return o(e) && o(e.text) && function(e) {
                    return !1 === e;
                }(e.isComment);
            }
            function nt(e) {
                var t = e.$options.provide;
                t && (e._provided = "function" == typeof t ? t.call(e) : t);
            }
            function rt(e) {
                var t = ot(e.$options.inject, e);
                t && (ge(!1), Object.keys(t).forEach(function(n) {
                    be(e, n, t[n]);
                }), ge(!0));
            }
            function ot(e, t) {
                if (e) {
                    for (var n = Object.create(null), r = te ? Reflect.ownKeys(e) : Object.keys(e), o = 0; o < r.length; o++) {
                        var i = r[o];
                        if ("__ob__" !== i) {
                            for (var a = e[i].from, s = t; s; ) {
                                if (s._provided && v(s._provided, a)) {
                                    n[i] = s._provided[a];
                                    break;
                                }
                                s = s.$parent;
                            }
                            if (!s && "default" in e[i]) {
                                var c = e[i].default;
                                n[i] = "function" == typeof c ? c.call(t) : c;
                            }
                        }
                    }
                    return n;
                }
            }
            function it(e, t) {
                if (!e || !e.length) return {};
                for (var n = {}, r = 0, o = e.length; r < o; r++) {
                    var i = e[r], a = i.data;
                    if (a && a.attrs && a.attrs.slot && delete a.attrs.slot, i.context !== t && i.fnContext !== t || !a || null == a.slot) i.asyncMeta && i.asyncMeta.data && "page" === i.asyncMeta.data.slot ? (n.page || (n.page = [])).push(i) : (n.default || (n.default = [])).push(i); else {
                        var s = a.slot, c = n[s] || (n[s] = []);
                        "template" === i.tag ? c.push.apply(c, i.children || []) : c.push(i);
                    }
                }
                for (var u in n) n[u].every(at) && delete n[u];
                return n;
            }
            function at(e) {
                return e.isComment && !e.asyncFactory || " " === e.text;
            }
            function st(e, t, r) {
                var o, i = Object.keys(t).length > 0, a = e ? !!e.$stable : !i, s = e && e.$key;
                if (e) {
                    if (e._normalized) return e._normalized;
                    if (a && r && r !== n && s === r.$key && !i && !r.$hasNormal) return r;
                    for (var c in o = {}, e) e[c] && "$" !== c[0] && (o[c] = ct(t, c, e[c]));
                } else o = {};
                for (var u in t) u in o || (o[u] = ut(t, u));
                return e && Object.isExtensible(e) && (e._normalized = o), F(o, "$stable", a), F(o, "$key", s), 
                F(o, "$hasNormal", i), o;
            }
            function ct(e, t, n) {
                var r = function() {
                    var e = arguments.length ? n.apply(null, arguments) : n({});
                    return (e = e && "object" === _typeof3(e) && !Array.isArray(e) ? [ e ] : et(e)) && (0 === e.length || 1 === e.length && e[0].isComment) ? void 0 : e;
                };
                return n.proxy && Object.defineProperty(e, t, {
                    get: r,
                    enumerable: !0,
                    configurable: !0
                }), r;
            }
            function ut(e, t) {
                return function() {
                    return e[t];
                };
            }
            function lt(e, t) {
                var n, r, i, a, c;
                if (Array.isArray(e) || "string" == typeof e) for (n = new Array(e.length), r = 0, 
                i = e.length; r < i; r++) n[r] = t(e[r], r, r, r); else if ("number" == typeof e) for (n = new Array(e), 
                r = 0; r < e; r++) n[r] = t(r + 1, r, r, r); else if (s(e)) if (te && e[Symbol.iterator]) {
                    n = [];
                    for (var u = e[Symbol.iterator](), l = u.next(); !l.done; ) n.push(t(l.value, n.length, r, r++)), 
                    l = u.next();
                } else for (a = Object.keys(e), n = new Array(a.length), r = 0, i = a.length; r < i; r++) c = a[r], 
                n[r] = t(e[c], c, r, r);
                return o(n) || (n = []), n._isVList = !0, n;
            }
            function dt(e, t, n, r) {
                var o, i = this.$scopedSlots[e];
                i ? (n = n || {}, r && (n = w(w({}, r), n)), o = i(n, this, n._i) || t) : o = this.$slots[e] || t;
                var a = n && n.slot;
                return a ? this.$createElement("template", {
                    slot: a
                }, o) : o;
            }
            function ft(e) {
                return Ie(this.$options, "filters", e) || x;
            }
            function pt(e, t) {
                return Array.isArray(e) ? -1 === e.indexOf(t) : e !== t;
            }
            function mt(e, t, n, r, o) {
                var i = U.keyCodes[t] || n;
                return o && r && !U.keyCodes[t] ? pt(o, r) : i ? pt(i, e) : r ? M(r) !== t : void 0;
            }
            function gt(e, t, n, r, o) {
                if (n && s(n)) {
                    var i;
                    Array.isArray(n) && (n = O(n));
                    var a = function(a) {
                        if ("class" === a || "style" === a || g(a)) i = e; else {
                            var s = e.attrs && e.attrs.type;
                            i = r || U.mustUseProp(t, s, a) ? e.domProps || (e.domProps = {}) : e.attrs || (e.attrs = {});
                        }
                        var c = _(a), u = M(a);
                        c in i || u in i || (i[a] = n[a], !o) || ((e.on || (e.on = {}))["update:" + a] = function(e) {
                            n[a] = e;
                        });
                    };
                    for (var c in n) a(c);
                }
                return e;
            }
            function ht(e, t) {
                var n = this._staticTrees || (this._staticTrees = []), r = n[e];
                return r && !t || vt(r = n[e] = this.$options.staticRenderFns[e].call(this._renderProxy, null, this), "__static__" + e, !1), 
                r;
            }
            function yt(e, t, n) {
                return vt(e, "__once__" + t + (n ? "_" + n : ""), !0), e;
            }
            function vt(e, t, n) {
                if (Array.isArray(e)) for (var r = 0; r < e.length; r++) e[r] && "string" != typeof e[r] && bt(e[r], t + "_" + r, n); else bt(e, t, n);
            }
            function bt(e, t, n) {
                e.isStatic = !0, e.key = t, e.isOnce = n;
            }
            function Tt(e, t) {
                if (t && u(t)) {
                    var n = e.on = e.on ? w({}, e.on) : {};
                    for (var r in t) {
                        var o = n[r], i = t[r];
                        n[r] = o ? [].concat(o, i) : i;
                    }
                }
                return e;
            }
            function _t(e, t, n, r) {
                t = t || {
                    $stable: !n
                };
                for (var o = 0; o < e.length; o++) {
                    var i = e[o];
                    Array.isArray(i) ? _t(i, t, n) : i && (i.proxy && (i.fn.proxy = !0), t[i.key] = i.fn);
                }
                return r && (t.$key = r), t;
            }
            function St(e, t) {
                for (var n = 0; n < t.length; n += 2) {
                    var r = t[n];
                    "string" == typeof r && r && (e[t[n]] = t[n + 1]);
                }
                return e;
            }
            function kt(e, t) {
                return "string" == typeof e ? t + e : e;
            }
            function Mt(e) {
                e._o = yt, e._n = p, e._s = f, e._l = lt, e._t = dt, e._q = C, e._i = R, e._m = ht, 
                e._f = ft, e._k = mt, e._b = gt, e._v = le, e._e = ue, e._u = _t, e._g = Tt, e._d = St, 
                e._p = kt;
            }
            function Pt(e, t, r, o, a) {
                var s, c = this, u = a.options;
                v(o, "_uid") ? (s = Object.create(o))._original = o : (s = o, o = o._original);
                var l = i(u._compiled), d = !l;
                this.data = e, this.props = t, this.children = r, this.parent = o, this.listeners = e.on || n, 
                this.injections = ot(u.inject, o), this.slots = function() {
                    return c.$slots || st(e.scopedSlots, c.$slots = it(r, o)), c.$slots;
                }, Object.defineProperty(this, "scopedSlots", {
                    enumerable: !0,
                    get: function() {
                        return st(e.scopedSlots, this.slots());
                    }
                }), l && (this.$options = u, this.$slots = this.slots(), this.$scopedSlots = st(e.scopedSlots, this.$slots)), 
                u._scopeId ? this._c = function(e, t, n, r) {
                    var i = Rt(s, e, t, n, r, d);
                    return i && !Array.isArray(i) && (i.fnScopeId = u._scopeId, i.fnContext = o), i;
                } : this._c = function(e, t, n, r) {
                    return Rt(s, e, t, n, r, d);
                };
            }
            function At(e, t, r, i, a) {
                var s = e.options, c = {}, u = s.props;
                if (o(u)) for (var l in u) c[l] = xe(l, u, t || n); else o(r.attrs) && Ot(c, r.attrs), 
                o(r.props) && Ot(c, r.props);
                var d = new Pt(r, c, a, i, e), f = s.render.call(null, d._c, d);
                if (f instanceof se) return wt(f, r, d.parent, s, d);
                if (Array.isArray(f)) {
                    for (var p = et(f) || [], m = new Array(p.length), g = 0; g < p.length; g++) m[g] = wt(p[g], r, d.parent, s, d);
                    return m;
                }
            }
            function wt(e, t, n, r, o) {
                var i = function(e) {
                    var t = new se(e.tag, e.data, e.children && e.children.slice(), e.text, e.elm, e.context, e.componentOptions, e.asyncFactory);
                    return t.ns = e.ns, t.isStatic = e.isStatic, t.key = e.key, t.isComment = e.isComment, 
                    t.fnContext = e.fnContext, t.fnOptions = e.fnOptions, t.fnScopeId = e.fnScopeId, 
                    t.asyncMeta = e.asyncMeta, t.isCloned = !0, t;
                }(e);
                return i.fnContext = n, i.fnOptions = r, t.slot && ((i.data || (i.data = {})).slot = t.slot), 
                i;
            }
            function Ot(e, t) {
                for (var n in t) e[_(n)] = t[n];
            }
            Mt(Pt.prototype);
            var Et = {
                init: function(e, t) {
                    if (e.componentInstance && !e.componentInstance._isDestroyed && e.data.keepAlive) {
                        var n = e;
                        Et.prepatch(n, n);
                    } else {
                        (e.componentInstance = function(e, t) {
                            var n = {
                                _isComponent: !0,
                                _parentVnode: e,
                                parent: t
                            }, r = e.data.inlineTemplate;
                            return o(r) && (n.render = r.render, n.staticRenderFns = r.staticRenderFns), new e.componentOptions.Ctor(n);
                        }(e, Yt)).$mount(t ? e.elm : void 0, t);
                    }
                },
                prepatch: function(e, t) {
                    var n = t.componentOptions;
                    Wt(t.componentInstance = e.componentInstance, n.propsData, n.listeners, t, n.children);
                },
                insert: function(e) {
                    var t = e.context, n = e.componentInstance;
                    n._isMounted || (Kt(n, "onServiceCreated"), Kt(n, "onServiceAttached"), n._isMounted = !0, 
                    Kt(n, "mounted")), e.data.keepAlive && (t._isMounted ? function(e) {
                        e._inactive = !1, Xt.push(e);
                    }(n) : Jt(n, !0));
                },
                destroy: function(e) {
                    var t = e.componentInstance;
                    t._isDestroyed || (e.data.keepAlive ? function e(t, n) {
                        if (!(n && (t._directInactive = !0, Qt(t)) || t._inactive)) {
                            t._inactive = !0;
                            for (var r = 0; r < t.$children.length; r++) e(t.$children[r]);
                            Kt(t, "deactivated");
                        }
                    }(t, !0) : t.$destroy());
                }
            }, It = Object.keys(Et);
            function xt(e, t, n, a, c) {
                if (!r(e)) {
                    var u = n.$options._base;
                    if (s(e) && (e = u.extend(e)), "function" == typeof e) {
                        var l;
                        if (r(e.cid) && void 0 === (e = Bt(l = e, u))) return function(e, t, n, r, o) {
                            var i = ue();
                            return i.asyncFactory = e, i.asyncMeta = {
                                data: t,
                                context: n,
                                children: r,
                                tag: o
                            }, i;
                        }(l, t, n, a, c);
                        t = t || {}, bn(e), o(t.model) && function(e, t) {
                            var n = e.model && e.model.prop || "value", r = e.model && e.model.event || "input";
                            (t.attrs || (t.attrs = {}))[n] = t.model.value;
                            var i = t.on || (t.on = {}), a = i[r], s = t.model.callback;
                            o(a) ? (Array.isArray(a) ? -1 === a.indexOf(s) : a !== s) && (i[r] = [ s ].concat(a)) : i[r] = s;
                        }(e.options, t);
                        var d = function(e, t, n, i) {
                            var a = t.options.props;
                            if (r(a)) return Ze(e, t, {}, i);
                            var s = {}, c = e.attrs, u = e.props;
                            if (o(c) || o(u)) for (var l in a) {
                                var d = M(l);
                                Xe(s, u, l, d, !0) || Xe(s, c, l, d, !1);
                            }
                            return Ze(e, t, s, i);
                        }(t, e, 0, n);
                        if (i(e.options.functional)) return At(e, d, t, n, a);
                        var f = t.on;
                        if (t.on = t.nativeOn, i(e.options.abstract)) {
                            var p = t.slot;
                            t = {}, p && (t.slot = p);
                        }
                        !function(e) {
                            for (var t = e.hook || (e.hook = {}), n = 0; n < It.length; n++) {
                                var r = It[n], o = t[r], i = Et[r];
                                o === i || o && o._merged || (t[r] = o ? Ct(i, o) : i);
                            }
                        }(t);
                        var m = e.options.name || c;
                        return new se("vue-component-" + e.cid + (m ? "-" + m : ""), t, void 0, void 0, void 0, n, {
                            Ctor: e,
                            propsData: d,
                            listeners: f,
                            tag: c,
                            children: a
                        }, l);
                    }
                }
            }
            function Ct(e, t) {
                var n = function(n, r) {
                    e(n, r), t(n, r);
                };
                return n._merged = !0, n;
            }
            function Rt(e, t, n, r, o, s) {
                return (Array.isArray(n) || a(n)) && (o = r, r = n, n = void 0), i(s) && (o = 2), 
                jt(e, t, n, r, o);
            }
            function jt(e, t, n, r, i) {
                return o(n) && o(n.__ob__) ? ue() : (o(n) && o(n.is) && (t = n.is), t ? (Array.isArray(r) && "function" == typeof r[0] && ((n = n || {}).scopedSlots = {
                    default: r[0]
                }, r.length = 0), 2 === i ? r = et(r) : 1 === i && (r = function(e) {
                    for (var t = 0; t < e.length; t++) if (Array.isArray(e[t])) return Array.prototype.concat.apply([], e);
                    return e;
                }(r)), "string" == typeof t ? (s = e.$vnode && e.$vnode.ns || U.getTagNamespace(t), 
                a = U.isReservedTag(t) ? new se(U.parsePlatformTagName(t), n, r, void 0, void 0, e) : n && n.pre || !o(c = Ie(e.$options, "components", t)) ? new se(t, n, r, void 0, void 0, e) : xt(c, n, e, r, t)) : a = xt(t, n, e, r), 
                Array.isArray(a) ? a : o(a) ? (o(s) && Nt(a, s), o(n) && Lt(n), a) : ue()) : ue());
                var a, s, c;
            }
            function Nt(e, t, n) {
                if (e.ns = t, "foreignObject" === e.tag && (t = void 0, n = !0), o(e.children)) for (var a = 0, s = e.children.length; a < s; a++) {
                    var c = e.children[a];
                    o(c.tag) && (r(c.ns) || i(n) && "svg" !== c.tag) && Nt(c, t, n);
                }
            }
            function Lt(e) {
                s(e.style) && Qe(e.style), s(e.class) && Qe(e.class);
            }
            var Ut, Dt = null;
            function Ft(e, t) {
                return (e.__esModule || te && "Module" === e[Symbol.toStringTag]) && (e = e.default), 
                s(e) ? t.extend(e) : e;
            }
            function Bt(e, t) {
                if (i(e.error) && o(e.errorComp)) return e.errorComp;
                if (o(e.resolved)) return e.resolved;
                var n = Dt;
                if (n && o(e.owners) && -1 === e.owners.indexOf(n) && e.owners.push(n), i(e.loading) && o(e.loadingComp)) return e.loadingComp;
                if (n && !o(e.owners)) {
                    var a = e.owners = [ n ], c = !0, u = null, l = null;
                    n.$on("hook:destroyed", function() {
                        return h(a, n);
                    });
                    var f = function(e) {
                        for (var t = 0, n = a.length; t < n; t++) a[t].$forceUpdate();
                        e && (a.length = 0, null !== u && (clearTimeout(u), u = null), null !== l && (clearTimeout(l), 
                        l = null));
                    }, p = j(function(n) {
                        e.resolved = Ft(n, t), c ? a.length = 0 : f(!0);
                    }), m = j(function(t) {
                        o(e.errorComp) && (e.error = !0, f(!0));
                    }), g = e(p, m);
                    return s(g) && (d(g) ? r(e.resolved) && g.then(p, m) : d(g.component) && (g.component.then(p, m), 
                    o(g.error) && (e.errorComp = Ft(g.error, t)), o(g.loading) && (e.loadingComp = Ft(g.loading, t), 
                    0 === g.delay ? e.loading = !0 : u = setTimeout(function() {
                        u = null, r(e.resolved) && r(e.error) && (e.loading = !0, f(!1));
                    }, g.delay || 200)), o(g.timeout) && (l = setTimeout(function() {
                        l = null, r(e.resolved) && m(null);
                    }, g.timeout)))), c = !1, e.loading ? e.loadingComp : e.resolved;
                }
            }
            function Vt(e) {
                return e.isComment && e.asyncFactory;
            }
            function qt(e) {
                if (Array.isArray(e)) for (var t = 0; t < e.length; t++) {
                    var n = e[t];
                    if (o(n) && (o(n.componentOptions) || Vt(n))) return n;
                }
            }
            function Ht(e, t) {
                Ut.$on(e, t);
            }
            function $t(e, t) {
                Ut.$off(e, t);
            }
            function zt(e, t) {
                var n = Ut;
                return function r() {
                    var o = t.apply(null, arguments);
                    null !== o && n.$off(e, r);
                };
            }
            function Gt(e, t, n) {
                Ut = e, function(e, t, n, o, a, s) {
                    var c, u, l, d;
                    for (c in e) u = e[c], l = t[c], d = Je(c), r(u) || (r(l) ? (r(u.fns) && (u = e[c] = Ke(u, s)), 
                    i(d.once) && (u = e[c] = a(d.name, u, d.capture)), n(d.name, u, d.capture, d.passive, d.params)) : u !== l && (l.fns = u, 
                    e[c] = l));
                    for (c in t) r(e[c]) && o((d = Je(c)).name, t[c], d.capture);
                }(t, n || {}, Ht, $t, zt, e), Ut = void 0;
            }
            var Yt = null;
            function Wt(e, t, r, o, i) {
                var a = o.data.scopedSlots, s = e.$scopedSlots, c = !!(a && !a.$stable || s !== n && !s.$stable || a && e.$scopedSlots.$key !== a.$key), u = !!(i || e.$options._renderChildren || c);
                if (e.$options._parentVnode = o, e.$vnode = o, e._vnode && (e._vnode.parent = o), 
                e.$options._renderChildren = i, e.$attrs = o.data.attrs || n, e.$listeners = r || n, 
                t && e.$options.props) {
                    ge(!1);
                    for (var l = e._props, d = e.$options._propKeys || [], f = 0; f < d.length; f++) {
                        var p = d[f], m = e.$options.props;
                        l[p] = xe(p, m, t, e);
                    }
                    ge(!0), e.$options.propsData = t;
                }
                e._$updateProperties && e._$updateProperties(e), r = r || n;
                var g = e.$options._parentListeners;
                e.$options._parentListeners = r, Gt(e, r, g), u && (e.$slots = it(i, o.context), 
                e.$forceUpdate());
            }
            function Qt(e) {
                for (;e && (e = e.$parent); ) if (e._inactive) return !0;
                return !1;
            }
            function Jt(e, t) {
                if (t) {
                    if (e._directInactive = !1, Qt(e)) return;
                } else if (e._directInactive) return;
                if (e._inactive || null === e._inactive) {
                    e._inactive = !1;
                    for (var n = 0; n < e.$children.length; n++) Jt(e.$children[n]);
                    Kt(e, "activated");
                }
            }
            function Kt(e, t) {
                ie();
                var n = e.$options[t], r = t + " hook";
                if (n) for (var o = 0, i = n.length; o < i; o++) Le(n[o], e, null, e, r);
                e._hasHookEvent && e.$emit("hook:" + t), ae();
            }
            var Zt = [], Xt = [], en = {}, tn = !1, nn = !1, rn = 0;
            var on = Date.now;
            if (H && !Y) {
                var an = window.performance;
                an && "function" == typeof an.now && on() > document.createEvent("Event").timeStamp && (on = function() {
                    return an.now();
                });
            }
            function sn() {
                var e, t;
                for (on(), nn = !0, Zt.sort(function(e, t) {
                    return e.id - t.id;
                }), rn = 0; rn < Zt.length; rn++) (e = Zt[rn]).before && e.before(), t = e.id, en[t] = null, 
                e.run();
                var n = Xt.slice(), r = Zt.slice();
                rn = Zt.length = Xt.length = 0, en = {}, tn = nn = !1, function(e) {
                    for (var t = 0; t < e.length; t++) e[t]._inactive = !0, Jt(e[t], !0);
                }(n), function(e) {
                    var t = e.length;
                    for (;t--; ) {
                        var n = e[t], r = n.vm;
                        r._watcher === n && r._isMounted && !r._isDestroyed && Kt(r, "updated");
                    }
                }(r), Z && U.devtools && Z.emit("flush");
            }
            var cn = 0, un = function(e, t, n, r, o) {
                this.vm = e, o && (e._watcher = this), e._watchers.push(this), r ? (this.deep = !!r.deep, 
                this.user = !!r.user, this.lazy = !!r.lazy, this.sync = !!r.sync, this.before = r.before) : this.deep = this.user = this.lazy = this.sync = !1, 
                this.cb = n, this.id = ++cn, this.active = !0, this.dirty = this.lazy, this.deps = [], 
                this.newDeps = [], this.depIds = new ee(), this.newDepIds = new ee(), this.expression = "", 
                "function" == typeof t ? this.getter = t : (this.getter = function(e) {
                    if (!B.test(e)) {
                        var t = e.split(".");
                        return function(e) {
                            for (var n = 0; n < t.length; n++) {
                                if (!e) return;
                                e = e[t[n]];
                            }
                            return e;
                        };
                    }
                }(t), this.getter || (this.getter = E)), this.value = this.lazy ? void 0 : this.get();
            };
            un.prototype.get = function() {
                var e;
                ie(this);
                var t = this.vm;
                try {
                    e = this.getter.call(t, t);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    if (!this.user) throw e;
                    Ne(e, t, 'getter for watcher "' + this.expression + '"');
                } finally {
                    this.deep && Qe(e), ae(), this.cleanupDeps();
                }
                return e;
            }, un.prototype.addDep = function(e) {
                var t = e.id;
                this.newDepIds.has(t) || (this.newDepIds.add(t), this.newDeps.push(e), this.depIds.has(t) || e.addSub(this));
            }, un.prototype.cleanupDeps = function() {
                for (var e = this.deps.length; e--; ) {
                    var t = this.deps[e];
                    this.newDepIds.has(t.id) || t.removeSub(this);
                }
                var n = this.depIds;
                this.depIds = this.newDepIds, this.newDepIds = n, this.newDepIds.clear(), n = this.deps, 
                this.deps = this.newDeps, this.newDeps = n, this.newDeps.length = 0;
            }, un.prototype.update = function() {
                this.lazy ? this.dirty = !0 : this.sync ? this.run() : function(e) {
                    var t = e.id;
                    if (null == en[t]) {
                        if (en[t] = !0, nn) {
                            for (var n = Zt.length - 1; n > rn && Zt[n].id > e.id; ) n--;
                            Zt.splice(n + 1, 0, e);
                        } else Zt.push(e);
                        tn || (tn = !0, Ye(sn));
                    }
                }(this);
            }, un.prototype.run = function() {
                if (this.active) {
                    var e = this.get();
                    if (e !== this.value || s(e) || this.deep) {
                        var t = this.value;
                        if (this.value = e, this.user) try {
                            this.cb.call(this.vm, e, t);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            Ne(e, this.vm, 'callback for watcher "' + this.expression + '"');
                        } else this.cb.call(this.vm, e, t);
                    }
                }
            }, un.prototype.evaluate = function() {
                this.value = this.get(), this.dirty = !1;
            }, un.prototype.depend = function() {
                for (var e = this.deps.length; e--; ) this.deps[e].depend();
            }, un.prototype.teardown = function() {
                if (this.active) {
                    this.vm._isBeingDestroyed || h(this.vm._watchers, this);
                    for (var e = this.deps.length; e--; ) this.deps[e].removeSub(this);
                    this.active = !1;
                }
            };
            var ln = {
                enumerable: !0,
                configurable: !0,
                get: E,
                set: E
            };
            function dn(e, t, n) {
                ln.get = function() {
                    return this[t][n];
                }, ln.set = function(e) {
                    this[t][n] = e;
                }, Object.defineProperty(e, n, ln);
            }
            function fn(e) {
                e._watchers = [];
                var t = e.$options;
                t.props && function(e, t) {
                    var n = e.$options.propsData || {}, r = e._props = {}, o = e.$options._propKeys = [];
                    !e.$parent || ge(!1);
                    var i = function(i) {
                        o.push(i);
                        var a = xe(i, t, n, e);
                        be(r, i, a), i in e || dn(e, "_props", i);
                    };
                    for (var a in t) i(a);
                    ge(!0);
                }(e, t.props), t.methods && function(e, t) {
                    for (var n in e.$options.props, t) e[n] = "function" != typeof t[n] ? E : P(t[n], e);
                }(e, t.methods), t.data ? function(e) {
                    var t = e.$options.data;
                    u(t = e._data = "function" == typeof t ? function(e, t) {
                        ie();
                        try {
                            return e.call(t, t);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            return Ne(e, t, "data()"), {};
                        } finally {
                            ae();
                        }
                    }(t, e) : t || {}) || (t = {});
                    var n = Object.keys(t), r = e.$options.props, o = (e.$options.methods, n.length);
                    for (;o--; ) {
                        var i = n[o];
                        r && v(r, i) || D(i) || dn(e, "_data", i);
                    }
                    ve(t, !0);
                }(e) : ve(e._data = {}, !0), t.computed && function(e, t) {
                    var n = e._computedWatchers = Object.create(null), r = K();
                    for (var o in t) {
                        var i = t[o], a = "function" == typeof i ? i : i.get;
                        r || (n[o] = new un(e, a || E, E, pn)), o in e || mn(e, o, i);
                    }
                }(e, t.computed), t.watch && t.watch !== Q && function(e, t) {
                    for (var n in t) {
                        var r = t[n];
                        if (Array.isArray(r)) for (var o = 0; o < r.length; o++) yn(e, n, r[o]); else yn(e, n, r);
                    }
                }(e, t.watch);
            }
            var pn = {
                lazy: !0
            };
            function mn(e, t, n) {
                var r = !K();
                "function" == typeof n ? (ln.get = r ? gn(t) : hn(n), ln.set = E) : (ln.get = n.get ? r && !1 !== n.cache ? gn(t) : hn(n.get) : E, 
                ln.set = n.set || E), Object.defineProperty(e, t, ln);
            }
            function gn(e) {
                return function() {
                    var t = this._computedWatchers && this._computedWatchers[e];
                    if (t) return t.dirty && t.evaluate(), oe.SharedObject.target && t.depend(), t.value;
                };
            }
            function hn(e) {
                return function() {
                    return e.call(this, this);
                };
            }
            function yn(e, t, n, r) {
                return u(n) && (r = n, n = n.handler), "string" == typeof n && (n = e[n]), e.$watch(t, n, r);
            }
            var vn = 0;
            function bn(e) {
                var t = e.options;
                if (e.super) {
                    var n = bn(e.super);
                    if (n !== e.superOptions) {
                        e.superOptions = n;
                        var r = function(e) {
                            var t, n = e.options, r = e.sealedOptions;
                            for (var o in n) n[o] !== r[o] && (t || (t = {}), t[o] = n[o]);
                            return t;
                        }(e);
                        r && w(e.extendOptions, r), (t = e.options = Ee(n, e.extendOptions)).name && (t.components[t.name] = e);
                    }
                }
                return t;
            }
            function Tn(e) {
                this._init(e);
            }
            function _n(e) {
                e.cid = 0;
                var t = 1;
                e.extend = function(e) {
                    e = e || {};
                    var n = this, r = n.cid, o = e._Ctor || (e._Ctor = {});
                    if (o[r]) return o[r];
                    var i = e.name || n.options.name, a = function(e) {
                        this._init(e);
                    };
                    return (a.prototype = Object.create(n.prototype)).constructor = a, a.cid = t++, 
                    a.options = Ee(n.options, e), a.super = n, a.options.props && function(e) {
                        var t = e.options.props;
                        for (var n in t) dn(e.prototype, "_props", n);
                    }(a), a.options.computed && function(e) {
                        var t = e.options.computed;
                        for (var n in t) mn(e.prototype, n, t[n]);
                    }(a), a.extend = n.extend, a.mixin = n.mixin, a.use = n.use, N.forEach(function(e) {
                        a[e] = n[e];
                    }), i && (a.options.components[i] = a), a.superOptions = n.options, a.extendOptions = e, 
                    a.sealedOptions = w({}, a.options), o[r] = a, a;
                };
            }
            function Sn(e) {
                return e && (e.Ctor.options.name || e.tag);
            }
            function kn(e, t) {
                return Array.isArray(e) ? e.indexOf(t) > -1 : "string" == typeof e ? e.split(",").indexOf(t) > -1 : !!function(e) {
                    return "[object RegExp]" === c.call(e);
                }(e) && e.test(t);
            }
            function Mn(e, t) {
                var n = e.cache, r = e.keys, o = e._vnode;
                for (var i in n) {
                    var a = n[i];
                    if (a) {
                        var s = Sn(a.componentOptions);
                        s && !t(s) && Pn(n, i, r, o);
                    }
                }
            }
            function Pn(e, t, n, r) {
                var o = e[t];
                !o || r && o.tag === r.tag || o.componentInstance.$destroy(), e[t] = null, h(n, t);
            }
            (function(e) {
                e.prototype._init = function(e) {
                    var t = this;
                    t._uid = vn++, t._isVue = !0, e && e._isComponent ? function(e, t) {
                        var n = e.$options = Object.create(e.constructor.options), r = t._parentVnode;
                        n.parent = t.parent, n._parentVnode = r;
                        var o = r.componentOptions;
                        n.propsData = o.propsData, n._parentListeners = o.listeners, n._renderChildren = o.children, 
                        n._componentTag = o.tag, t.render && (n.render = t.render, n.staticRenderFns = t.staticRenderFns);
                    }(t, e) : t.$options = Ee(bn(t.constructor), e || {}, t), t._renderProxy = t, t._self = t, 
                    function(e) {
                        var t = e.$options, n = t.parent;
                        if (n && !t.abstract) {
                            for (;n.$options.abstract && n.$parent; ) n = n.$parent;
                            n.$children.push(e);
                        }
                        e.$parent = n, e.$root = n ? n.$root : e, e.$children = [], e.$refs = {}, e._watcher = null, 
                        e._inactive = null, e._directInactive = !1, e._isMounted = !1, e._isDestroyed = !1, 
                        e._isBeingDestroyed = !1;
                    }(t), function(e) {
                        e._events = Object.create(null), e._hasHookEvent = !1;
                        var t = e.$options._parentListeners;
                        t && Gt(e, t);
                    }(t), function(e) {
                        e._vnode = null, e._staticTrees = null;
                        var t = e.$options, r = e.$vnode = t._parentVnode, o = r && r.context;
                        e.$slots = it(t._renderChildren, o), e.$scopedSlots = n, e._c = function(t, n, r, o) {
                            return Rt(e, t, n, r, o, !1);
                        }, e.$createElement = function(t, n, r, o) {
                            return Rt(e, t, n, r, o, !0);
                        };
                        var i = r && r.data;
                        be(e, "$attrs", i && i.attrs || n, null, !0), be(e, "$listeners", t._parentListeners || n, null, !0);
                    }(t), Kt(t, "beforeCreate"), !t._$fallback && rt(t), fn(t), !t._$fallback && nt(t), 
                    !t._$fallback && Kt(t, "created"), t.$options.el && t.$mount(t.$options.el);
                };
            })(Tn), function(e) {
                Object.defineProperty(e.prototype, "$data", {
                    get: function() {
                        return this._data;
                    }
                }), Object.defineProperty(e.prototype, "$props", {
                    get: function() {
                        return this._props;
                    }
                }), e.prototype.$set = Te, e.prototype.$delete = _e, e.prototype.$watch = function(e, t, n) {
                    var r = this;
                    if (u(t)) return yn(r, e, t, n);
                    (n = n || {}).user = !0;
                    var o = new un(r, e, t, n);
                    if (n.immediate) try {
                        t.call(r, o.value);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        Ne(e, r, 'callback for immediate watcher "' + o.expression + '"');
                    }
                    return function() {
                        o.teardown();
                    };
                };
            }(Tn), function(e) {
                var t = /^hook:/;
                e.prototype.$on = function(e, n) {
                    var r = this;
                    if (Array.isArray(e)) for (var o = 0, i = e.length; o < i; o++) r.$on(e[o], n); else (r._events[e] || (r._events[e] = [])).push(n), 
                    t.test(e) && (r._hasHookEvent = !0);
                    return r;
                }, e.prototype.$once = function(e, t) {
                    var n = this;
                    function r() {
                        n.$off(e, r), t.apply(n, arguments);
                    }
                    return r.fn = t, n.$on(e, r), n;
                }, e.prototype.$off = function(e, t) {
                    var n = this;
                    if (!arguments.length) return n._events = Object.create(null), n;
                    if (Array.isArray(e)) {
                        for (var r = 0, o = e.length; r < o; r++) n.$off(e[r], t);
                        return n;
                    }
                    var i, a = n._events[e];
                    if (!a) return n;
                    if (!t) return n._events[e] = null, n;
                    for (var s = a.length; s--; ) if ((i = a[s]) === t || i.fn === t) {
                        a.splice(s, 1);
                        break;
                    }
                    return n;
                }, e.prototype.$emit = function(e) {
                    var t = this, n = t._events[e];
                    if (n) {
                        n = n.length > 1 ? A(n) : n;
                        for (var r = A(arguments, 1), o = 'event handler for "' + e + '"', i = 0, a = n.length; i < a; i++) Le(n[i], t, r, t, o);
                    }
                    return t;
                };
            }(Tn), function(e) {
                e.prototype._update = function(e, t) {
                    var n = this, r = n.$el, o = n._vnode, i = function(e) {
                        var t = Yt;
                        return Yt = e, function() {
                            Yt = t;
                        };
                    }(n);
                    n._vnode = e, n.$el = o ? n.__patch__(o, e) : n.__patch__(n.$el, e, t, !1), i(), 
                    r && (r.__vue__ = null), n.$el && (n.$el.__vue__ = n), n.$vnode && n.$parent && n.$vnode === n.$parent._vnode && (n.$parent.$el = n.$el);
                }, e.prototype.$forceUpdate = function() {
                    this._watcher && this._watcher.update();
                }, e.prototype.$destroy = function() {
                    var e = this;
                    if (!e._isBeingDestroyed) {
                        Kt(e, "beforeDestroy"), e._isBeingDestroyed = !0;
                        var t = e.$parent;
                        !t || t._isBeingDestroyed || e.$options.abstract || h(t.$children, e), e._watcher && e._watcher.teardown();
                        for (var n = e._watchers.length; n--; ) e._watchers[n].teardown();
                        e._data.__ob__ && e._data.__ob__.vmCount--, e._isDestroyed = !0, e.__patch__(e._vnode, null), 
                        Kt(e, "destroyed"), e.$off(), e.$el && (e.$el.__vue__ = null), e.$vnode && (e.$vnode.parent = null);
                    }
                };
            }(Tn), function(e) {
                Mt(e.prototype), e.prototype.$nextTick = function(e) {
                    return Ye(e, this);
                }, e.prototype._render = function() {
                    var e, t = this, n = t.$options, r = n.render, o = n._parentVnode;
                    o && (t.$scopedSlots = st(o.data.scopedSlots, t.$slots, t.$scopedSlots)), t.$vnode = o;
                    try {
                        Dt = t, e = r.call(t._renderProxy, t.$createElement);
                    } catch (n) {
                        n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                        Ne(n, t, "render"), e = t._vnode;
                    } finally {
                        Dt = null;
                    }
                    return Array.isArray(e) && 1 === e.length && (e = e[0]), e instanceof se || (e = ue()), 
                    e.parent = o, e;
                };
            }(Tn);
            var An = [ String, RegExp, Array ], wn = {
                KeepAlive: {
                    name: "keep-alive",
                    abstract: !0,
                    props: {
                        include: An,
                        exclude: An,
                        max: [ String, Number ]
                    },
                    created: function() {
                        this.cache = Object.create(null), this.keys = [];
                    },
                    destroyed: function() {
                        for (var e in this.cache) Pn(this.cache, e, this.keys);
                    },
                    mounted: function() {
                        var e = this;
                        this.$watch("include", function(t) {
                            Mn(e, function(e) {
                                return kn(t, e);
                            });
                        }), this.$watch("exclude", function(t) {
                            Mn(e, function(e) {
                                return !kn(t, e);
                            });
                        });
                    },
                    render: function() {
                        var e = this.$slots.default, t = qt(e), n = t && t.componentOptions;
                        if (n) {
                            var r = Sn(n), o = this.include, i = this.exclude;
                            if (o && (!r || !kn(o, r)) || i && r && kn(i, r)) return t;
                            var a = this.cache, s = this.keys, c = null == t.key ? n.Ctor.cid + (n.tag ? "::" + n.tag : "") : t.key;
                            a[c] ? (t.componentInstance = a[c].componentInstance, h(s, c), s.push(c)) : (a[c] = t, 
                            s.push(c), this.max && s.length > parseInt(this.max) && Pn(a, s[0], s, this._vnode)), 
                            t.data.keepAlive = !0;
                        }
                        return t || e && e[0];
                    }
                }
            };
            (function(e) {
                var t = {
                    get: function() {
                        return U;
                    }
                };
                Object.defineProperty(e, "config", t), e.util = {
                    warn: ne,
                    extend: w,
                    mergeOptions: Ee,
                    defineReactive: be
                }, e.set = Te, e.delete = _e, e.nextTick = Ye, e.observable = function(e) {
                    return ve(e), e;
                }, e.options = Object.create(null), N.forEach(function(t) {
                    e.options[t + "s"] = Object.create(null);
                }), e.options._base = e, w(e.options.components, wn), function(e) {
                    e.use = function(e) {
                        var t = this._installedPlugins || (this._installedPlugins = []);
                        if (t.indexOf(e) > -1) return this;
                        var n = A(arguments, 1);
                        return n.unshift(this), "function" == typeof e.install ? e.install.apply(e, n) : "function" == typeof e && e.apply(null, n), 
                        t.push(e), this;
                    };
                }(e), function(e) {
                    e.mixin = function(e) {
                        return this.options = Ee(this.options, e), this;
                    };
                }(e), _n(e), function(e) {
                    N.forEach(function(t) {
                        e[t] = function(e, n) {
                            return n ? ("component" === t && u(n) && (n.name = n.name || e, n = this.options._base.extend(n)), 
                            "directive" === t && "function" == typeof n && (n = {
                                bind: n,
                                update: n
                            }), this.options[t + "s"][e] = n, n) : this.options[t + "s"][e];
                        };
                    });
                }(e);
            })(Tn), Object.defineProperty(Tn.prototype, "$isServer", {
                get: K
            }), Object.defineProperty(Tn.prototype, "$ssrContext", {
                get: function() {
                    return this.$vnode && this.$vnode.ssrContext;
                }
            }), Object.defineProperty(Tn, "FunctionalRenderContext", {
                value: Pt
            }), Tn.version = "2.6.11";
            var On = "[object Array]", En = "[object Object]";
            function In(e, t) {
                var n = {};
                return function e(t, n) {
                    if (t !== n) {
                        var r = Cn(t), o = Cn(n);
                        if (r == En && o == En) {
                            if (Object.keys(t).length >= Object.keys(n).length) for (var i in n) {
                                var a = t[i];
                                void 0 === a ? t[i] = null : e(a, n[i]);
                            }
                        } else r == On && o == On && t.length >= n.length && n.forEach(function(n, r) {
                            e(t[r], n);
                        });
                    }
                }(e, t), function e(t, n, r, o) {
                    if (t !== n) {
                        var i = Cn(t), a = Cn(n);
                        if (i == En) if (a != En || Object.keys(t).length < Object.keys(n).length) xn(o, r, t); else {
                            var s = function(i) {
                                var a = t[i], s = n[i], c = Cn(a), u = Cn(s);
                                if (c != On && c != En) a !== n[i] && xn(o, ("" == r ? "" : r + ".") + i, a); else if (c == On) u != On || a.length < s.length ? xn(o, ("" == r ? "" : r + ".") + i, a) : a.forEach(function(t, n) {
                                    e(t, s[n], ("" == r ? "" : r + ".") + i + "[" + n + "]", o);
                                }); else if (c == En) if (u != En || Object.keys(a).length < Object.keys(s).length) xn(o, ("" == r ? "" : r + ".") + i, a); else for (var l in a) e(a[l], s[l], ("" == r ? "" : r + ".") + i + "." + l, o);
                            };
                            for (var c in t) s(c);
                        } else i == On ? a != On || t.length < n.length ? xn(o, r, t) : t.forEach(function(t, i) {
                            e(t, n[i], r + "[" + i + "]", o);
                        }) : xn(o, r, t);
                    }
                }(e, t, "", n), n;
            }
            function xn(e, t, n) {
                e[t] = n;
            }
            function Cn(e) {
                return Object.prototype.toString.call(e);
            }
            function Rn(e) {
                if (e.__next_tick_callbacks && e.__next_tick_callbacks.length) {
                    var t = e.$scope;
                    console.log("[" + +new Date() + "][" + (t.is || t.route) + "][" + e._uid + "]:flushCallbacks[" + e.__next_tick_callbacks.length + "]");
                    var n = e.__next_tick_callbacks.slice(0);
                    e.__next_tick_callbacks.length = 0;
                    for (var r = 0; r < n.length; r++) n[r]();
                }
            }
            function jn(e, t) {
                if (!e.__next_tick_pending && !function(e) {
                    return Zt.find(function(t) {
                        return e._watcher === t;
                    });
                }(e)) {
                    var n = e.$scope;
                    return console.log("[" + +new Date() + "][" + (n.is || n.route) + "][" + e._uid + "]:nextVueTick"), 
                    Ye(t, e);
                }
                var r, o = e.$scope;
                if (console.log("[" + +new Date() + "][" + (o.is || o.route) + "][" + e._uid + "]:nextMPTick"), 
                e.__next_tick_callbacks || (e.__next_tick_callbacks = []), e.__next_tick_callbacks.push(function() {
                    if (t) try {
                        t.call(e);
                    } catch (t) {
                        t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                        Ne(t, e, "nextTick");
                    } else r && r(e);
                }), !t && "undefined" != typeof Promise) return new Promise(function(e) {
                    r = e;
                });
            }
            function Nn() {}
            function Ln(e) {
                return Array.isArray(e) ? function(e) {
                    for (var t, n = "", r = 0, i = e.length; r < i; r++) o(t = Ln(e[r])) && "" !== t && (n && (n += " "), 
                    n += t);
                    return n;
                }(e) : s(e) ? function(e) {
                    var t = "";
                    for (var n in e) e[n] && (t && (t += " "), t += n);
                    return t;
                }(e) : "string" == typeof e ? e : "";
            }
            var Un = b(function(e) {
                var t = {}, n = /:(.+)/;
                return e.split(/;(?![^(]*\))/g).forEach(function(e) {
                    if (e) {
                        var r = e.split(n);
                        r.length > 1 && (t[r[0].trim()] = r[1].trim());
                    }
                }), t;
            });
            var Dn = [ "createSelectorQuery", "createIntersectionObserver", "selectAllComponents", "selectComponent" ];
            var Fn = [ "onLaunch", "onShow", "onHide", "onUniNViewMessage", "onPageNotFound", "onThemeChange", "onError", "onUnhandledRejection", "onInit", "onLoad", "onReady", "onUnload", "onPullDownRefresh", "onReachBottom", "onTabItemTap", "onAddToFavorites", "onShareTimeline", "onShareAppMessage", "onResize", "onPageScroll", "onNavigationBarButtonTap", "onBackPress", "onNavigationBarSearchInputChanged", "onNavigationBarSearchInputConfirmed", "onNavigationBarSearchInputClicked", "onPageShow", "onPageHide", "onPageResize" ];
            Tn.prototype.__patch__ = function(e, t) {
                var n = this;
                if (null !== t && ("page" === this.mpType || "component" === this.mpType)) {
                    var r = this.$scope, o = Object.create(null);
                    try {
                        o = function(e) {
                            var t = Object.create(null);
                            [].concat(Object.keys(e._data || {}), Object.keys(e._computedWatchers || {})).reduce(function(t, n) {
                                return t[n] = e[n], t;
                            }, t);
                            var n = e.__composition_api_state__ || e.__secret_vfa_state__, r = n && n.rawBindings;
                            return r && Object.keys(r).forEach(function(n) {
                                t[n] = e[n];
                            }), Object.assign(t, e.$mp.data || {}), Array.isArray(e.$options.behaviors) && -1 !== e.$options.behaviors.indexOf("uni://form-field") && (t.name = e.name, 
                            t.value = e.value), JSON.parse(JSON.stringify(t));
                        }(this);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        console.error(e);
                    }
                    o.__webviewId__ = r.data.__webviewId__;
                    var i = Object.create(null);
                    Object.keys(o).forEach(function(e) {
                        i[e] = r.data[e];
                    });
                    var a = !1 === this.$shouldDiffData ? o : In(o, i);
                    Object.keys(a).length ? (console.log("[" + +new Date() + "][" + (r.is || r.route) + "][" + this._uid + "]差量更新", JSON.stringify(a)), 
                    this.__next_tick_pending = !0, r.setData(a, function() {
                        n.__next_tick_pending = !1, Rn(n);
                    })) : Rn(this);
                }
            }, Tn.prototype.$mount = function(e, t) {
                return function(e, t, n) {
                    return e.mpType ? ("app" === e.mpType && (e.$options.render = Nn), e.$options.render || (e.$options.render = Nn), 
                    !e._$fallback && Kt(e, "beforeMount"), new un(e, function() {
                        e._update(e._render(), n);
                    }, E, {
                        before: function() {
                            e._isMounted && !e._isDestroyed && Kt(e, "beforeUpdate");
                        }
                    }, !0), n = !1, e) : e;
                }(this, 0, t);
            }, function(e) {
                var t = e.extend;
                e.extend = function(e) {
                    var n = (e = e || {}).methods;
                    return n && Object.keys(n).forEach(function(t) {
                        -1 !== Fn.indexOf(t) && (e[t] = n[t], delete n[t]);
                    }), t.call(this, e);
                };
                var n = e.config.optionMergeStrategies, r = n.created;
                Fn.forEach(function(e) {
                    n[e] = r;
                }), e.prototype.__lifecycle_hooks__ = Fn;
            }(Tn), function(e) {
                e.config.errorHandler = function(t, n, r) {
                    e.util.warn("Error in " + r + ': "' + t.toString() + '"', n), console.error(t);
                    var o = "function" == typeof getApp && getApp();
                    o && o.onError && o.onError(t);
                };
                var t = e.prototype.$emit;
                e.prototype.$emit = function(e) {
                    return this.$scope && e && (this.$scope._triggerEvent || this.$scope.triggerEvent).call(this.$scope, e, {
                        __args__: A(arguments, 1)
                    }), t.apply(this, arguments);
                }, e.prototype.$nextTick = function(e) {
                    return jn(this, e);
                }, Dn.forEach(function(t) {
                    e.prototype[t] = function(e) {
                        return this.$scope && this.$scope[t] ? this.$scope[t](e) : "undefined" != typeof my ? "createSelectorQuery" === t ? my.createSelectorQuery(e) : "createIntersectionObserver" === t ? my.createIntersectionObserver(e) : void 0 : void 0;
                    };
                }), e.prototype.__init_provide = nt, e.prototype.__init_injections = rt, e.prototype.__call_hook = function(e, t) {
                    var n = this;
                    ie();
                    var r, o = n.$options[e], i = e + " hook";
                    if (o) for (var a = 0, s = o.length; a < s; a++) r = Le(o[a], n, t ? [ t ] : null, n, i);
                    return n._hasHookEvent && n.$emit("hook:" + e, t), ae(), r;
                }, e.prototype.__set_model = function(t, n, r, o) {
                    Array.isArray(o) && (-1 !== o.indexOf("trim") && (r = r.trim()), -1 !== o.indexOf("number") && (r = this._n(r))), 
                    t || (t = this), e.set(t, n, r);
                }, e.prototype.__set_sync = function(t, n, r) {
                    t || (t = this), e.set(t, n, r);
                }, e.prototype.__get_orig = function(e) {
                    return u(e) && e.$orig || e;
                }, e.prototype.__get_value = function(e, t) {
                    return function e(t, n) {
                        var r = n.split("."), o = r[0];
                        return 0 === o.indexOf("__$n") && (o = parseInt(o.replace("__$n", ""))), 1 === r.length ? t[o] : e(t[o], r.slice(1).join("."));
                    }(t || this, e);
                }, e.prototype.__get_class = function(e, t) {
                    return function(e, t) {
                        return o(e) || o(t) ? function(e, t) {
                            return e ? t ? e + " " + t : e : t || "";
                        }(e, Ln(t)) : "";
                    }(t, e);
                }, e.prototype.__get_style = function(e, t) {
                    if (!e && !t) return "";
                    var n = function(e) {
                        return Array.isArray(e) ? O(e) : "string" == typeof e ? Un(e) : e;
                    }(e), r = t ? w(t, n) : n;
                    return Object.keys(r).map(function(e) {
                        return M(e) + ":" + r[e];
                    }).join(";");
                }, e.prototype.__map = function(e, t) {
                    var n, r, o, i, a;
                    if (Array.isArray(e)) {
                        for (n = new Array(e.length), r = 0, o = e.length; r < o; r++) n[r] = t(e[r], r);
                        return n;
                    }
                    if (s(e)) {
                        for (i = Object.keys(e), n = Object.create(null), r = 0, o = i.length; r < o; r++) n[a = i[r]] = t(e[a], a, r);
                        return n;
                    }
                    if ("number" == typeof e) {
                        for (n = new Array(e), r = 0, o = e; r < o; r++) n[r] = t(r, r);
                        return n;
                    }
                    return [];
                };
            }(Tn), t.default = Tn;
        }.call(this, n("c8ba"));
    },
    6704: function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAzFBMVEUAAAAAxq4AzqUAxq4Axq4Ax68A0bEAxq4Ax68Ax68AyK8Ax68Ax68Ay7EAx6sAx64Axq8Ax68Axq4AyK4Axq0Aya8Ax68AyK8Ax68Ax7AAyLEAxa4AxrAAxq0Ax64AyK0AybEAyLAAxa4AyLIAxq7///8Bx68AxKv9//8Aw6oVyrT5/v164dU608Ce6eAv0L0by7YEyLC98OmP5tv0/fza9/Pi+PbS9fAgzbjH8uyw7eVU2Mkr0Lvp+/hh2swKyLCz7uay7uZg28xF1cQV5XLQAAAAJHRSTlMA/AP58eYI9tOkmnNLHxDKw7ba2cVjYF1RNxfrtJOIhmxrOTh7ut+uAAACxUlEQVRYw5yU6U7kMBCE23E79zX3wQ0dZzIHMLDS7qKReP+3ognSODJzGCo/osSqz1WtxPBNnucBX7Mk7oUKpUQV9uJkxq/apRMy9ixldzFQGEghZIBqUDAjzc4jPpfz2W0UBpos6SCMbmc5wDnEfFISSwix95rHcjL3TrohHw1R0FEJHI5y8I7HT6O+sDa3Yoh+lB6p4YE/LYiHdiqBZEYx9Q+HyMeKjPs4g9Q4P7A9ZDdIjsKbjC22/woZ72IXTLiyCDz+6wuT/3yLi+ucTd35jZECclZAOO5O0oOpoh9KTfcAvqel1d9hDmVqxuBHJOmHkhT5+wGM+mZ/9wz90dcYfJgPLb8jYTgHvw0wQauBYweccAS+7kvxuwSivG8Bd/Qbf2u6a7/hyB2gNekuIMoAIA3dAU393tTaAMKUAQm562m93mypo4QBsRZu8dn/Uq3edo3el9AxwMMlOQLqp/9Vtfi76QDo8gGSgoSbf/OyWFR/1su6AygSiAcknPJv3ir2P/5jvwEMYugp9/6L6nFp/dQ9CNG1/6qqXp+tBQxB2QfRdqv14f6r1zZ/V4EClPbH0jQ16YP9n20/SYRvJ+lyt3s/099IyI/SyywHYRgGouIuzQZUEOgisZS23P9OpApipBAnH/MPrp5je2ZCgeTXV9WHp/IVfhSICPj/46LsM1RodJEfCGkTz7fwuSFWiPxLhh9NTJ5RG7f2ysYKJX48YzpI2ty3ChuFL/BjkNJR1m73q9CI/Bjl/2Xyzk3jl6KdJX4sE9YZT+Gm2Id2lvixzvmDsvVB2W7olMCPg5I9ad7EPqiDwI+ThqOa64PMj6OKs572YR2ttSI/zrosLO9lPJ5rwiJLm3evU7s3VWmTxdU3DiIii2tJ3rWuyzttMEiLw5ss0ubRRpO1urTZZu0+HTj4yMOHLj728cGTj758+Kbj/wdigrGR4hlHXQAAAABJRU5ErkJggg==";
    },
    6747: function(e, t) {
        var n = Array.isArray;
        e.exports = n;
    },
    "67ca": function(e, t, n) {
        var r = n("cb5a");
        e.exports = function(e, t) {
            var n = this.__data__, o = r(n, e);
            return o < 0 ? (++this.size, n.push([ e, t ])) : n[o][1] = t, this;
        };
    },
    6819: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.addPatient = s, t.default = void 0, t.deletePatient = c, t.getPatientList = a;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/patient/getList";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/patient/add";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/patient/del";
            return r.default.post(t, e);
        }
        var u = {
            getPatientList: a,
            addPatient: s,
            deletePatient: c
        };
        t.default = u;
    },
    "693c": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.createPay = c, t.default = void 0, t.getOpenMallUrl = a, t.getPayGateway = s;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizPop/auth/thirdUnionLink";
            return r.default.post(t, e);
        }
        function s(e, t) {
            var n = o.default.state.env.VUE_APP_API_MB2C_MALL + "api/checkout/getPayGateway";
            return r.default.post(n, e, t);
        }
        function c(e, t) {
            var n = o.default.state.env.VUE_APP_API_MB2C_MALL + "api/cashier/createPay";
            return r.default.post(n, e, t);
        }
        var u = {
            getOpenMallUrl: a,
            getPayGateway: s,
            createPay: c
        };
        t.default = u;
    },
    "69d5": function(e, t, n) {
        var r = n("cb5a"), o = Array.prototype.splice;
        e.exports = function(e) {
            var t = this.__data__, n = r(t, e);
            return !(n < 0) && (n == t.length - 1 ? t.pop() : o.call(t, n, 1), --this.size, 
            !0);
        };
    },
    "6a5c2": function(e, t, n) {
        var r = n("7948"), o = n("656b"), i = n("badf"), a = n("97d3"), s = n("d4b2"), c = n("b047"), u = n("2164"), l = n("cd9d"), d = n("6747");
        e.exports = function(e, t, n) {
            t = t.length ? r(t, function(e) {
                return d(e) ? function(t) {
                    return o(t, 1 === e.length ? e[0] : e);
                } : e;
            }) : [ l ];
            var f = -1;
            t = r(t, c(i));
            var p = a(e, function(e, n, o) {
                return {
                    criteria: r(t, function(t) {
                        return t(e);
                    }),
                    index: ++f,
                    value: e
                };
            });
            return s(p, function(e, t) {
                return u(e, t, n);
            });
        };
    },
    "6acd": function(e, t, n) {
        var r = n("9224"), o = a(n("66fd")), i = a(n("04c6"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        o.default.use(i.default.install), console.log("%c ".concat("Service", " %c ", r.version, " %c"), "background:#35495e ; padding: 1px; border-radius: 3px;  color: #fff", "background:#41b883 ; padding: 1px; border-radius: 3px;  color: #fff", "background:transparent");
    },
    "6b52": function(e, t, n) {
        n.r(t), function(e) {
            var r = n("73e8"), o = n.n(r), i = n("d7a5"), a = n("3c1a"), s = n("0dc6"), c = n("f026"), u = n("d9fa"), l = n("7133"), d = n("6293"), f = n("53d5"), p = n("5fc6"), m = n("30b4"), g = n("7678"), h = n("134b"), y = n("25e9"), v = n("f6a7"), b = n("f809"), T = n("48a6"), _ = n("f98f"), S = n("2073"), k = n("fd7f"), M = n("c34d"), P = n("3cfd"), A = n("7958"), w = n("cd5b"), O = n("c388");
            var E = {
                queryParams: a.a,
                route: s.a,
                timeFormat: c.a,
                date: c.a,
                timeFrom: u.a,
                colorGradient: l.a.colorGradient,
                colorToRgba: l.a.colorToRgba,
                guid: d.a,
                color: f.a,
                sys: M.b,
                os: M.a,
                type2icon: p.a,
                randomArray: m.a,
                wranning: function(e) {},
                get: i.a.get,
                post: i.a.post,
                put: i.a.put,
                delete: i.a.delete,
                hexToRgb: l.a.hexToRgb,
                rgbToHex: l.a.rgbToHex,
                test: v.a,
                random: b.a,
                deepClone: g.a,
                deepMerge: h.a,
                getParent: S.a,
                $parent: k.a,
                addUnit: y.a,
                trim: T.a,
                type: [ "primary", "success", "error", "warning", "info" ],
                http: i.a,
                toast: _.a,
                config: w.a,
                zIndex: O.a,
                debounce: P.a,
                throttle: A.a
            };
            e.$u = E;
            t.default = {
                install: function(e) {
                    e.mixin(o.a), e.prototype.openShare && e.mixin(mpShare), e.filter("timeFormat", function(e, t) {
                        return Object(c.a)(e, t);
                    }), e.filter("date", function(e, t) {
                        return Object(c.a)(e, t);
                    }), e.filter("timeFrom", function(e, t) {
                        return Object(u.a)(e, t);
                    }), e.prototype.$u = E;
                }
            };
        }.call(this, n("543d").default);
    },
    "6c87": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), Object.defineProperty(t, "cache", {
            enumerable: !0,
            get: function() {
                return i.default;
            }
        }), t.default = void 0, Object.defineProperty(t, "util", {
            enumerable: !0,
            get: function() {
                return r.default;
            }
        }), Object.defineProperty(t, "validate", {
            enumerable: !0,
            get: function() {
                return o.default;
            }
        });
        var r = a(n("e311")), o = a(n("d2ec")), i = a(n("f753"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var s = {
            util: r.default,
            validate: o.default,
            cache: i.default
        };
        t.default = s;
    },
    "6cdc": function(e, t) {},
    "6d4e": function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        function o() {
            o = function() {
                return e;
            };
            var e = {}, t = Object.prototype, n = t.hasOwnProperty, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", s = i.asyncIterator || "@@asyncIterator", c = i.toStringTag || "@@toStringTag";
            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t];
            }
            try {
                u({}, "");
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                u = function(e, t, n) {
                    return e[t] = n;
                };
            }
            function l(e, t, n, r) {
                var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                return i._invoke = function(e, t, n) {
                    var r = "suspendedStart";
                    return function(o, i) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw i;
                            return {
                                value: void 0,
                                done: !0
                            };
                        }
                        for (n.method = o, n.arg = i; ;) {
                            var a = n.delegate;
                            if (a) {
                                var s = S(a, n);
                                if (s) {
                                    if (s === f) continue;
                                    return s;
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                if ("suspendedStart" === r) throw r = "completed", n.arg;
                                n.dispatchException(n.arg);
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var c = d(e, t, n);
                            if ("normal" === c.type) {
                                if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                return {
                                    value: c.arg,
                                    done: n.done
                                };
                            }
                            "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                        }
                    };
                }(e, n, a), i;
            }
            function d(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        type: "throw",
                        arg: e
                    };
                }
            }
            e.wrap = l;
            var f = {};
            function p() {}
            function m() {}
            function g() {}
            var h = {};
            u(h, a, function() {
                return this;
            });
            var y = Object.getPrototypeOf, v = y && y(y(A([])));
            v && v !== t && n.call(v, a) && (h = v);
            var b = g.prototype = p.prototype = Object.create(h);
            function T(e) {
                [ "next", "throw", "return" ].forEach(function(t) {
                    u(e, t, function(e) {
                        return this._invoke(t, e);
                    });
                });
            }
            function _(e, t) {
                function o(i, a, s, c) {
                    var u = d(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg, f = l.value;
                        return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                            o("next", e, s, c);
                        }, function(e) {
                            o("throw", e, s, c);
                        }) : t.resolve(f).then(function(e) {
                            l.value = e, s(l);
                        }, function(e) {
                            return o("throw", e, s, c);
                        });
                    }
                    c(u.arg);
                }
                var i;
                this._invoke = function(e, n) {
                    function r() {
                        return new t(function(t, r) {
                            o(e, n, t, r);
                        });
                    }
                    return i = i ? i.then(r, r) : r();
                };
            }
            function S(e, t) {
                var n = e.iterator[t.method];
                if (void 0 === n) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                    }
                    return f;
                }
                var r = d(n, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                f;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                t.delegate = null, f);
            }
            function k(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                this.tryEntries.push(t);
            }
            function M(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t;
            }
            function P(e) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], e.forEach(k, this), this.reset(!0);
            }
            function A(e) {
                if (e) {
                    var t = e[a];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1, o = function t() {
                            for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t;
                        };
                        return o.next = o;
                    }
                }
                return {
                    next: w
                };
            }
            function w() {
                return {
                    value: void 0,
                    done: !0
                };
            }
            return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                e.prototype = Object.create(b), e;
            }, e.awrap = function(e) {
                return {
                    __await: e
                };
            }, T(_.prototype), u(_.prototype, s, function() {
                return this;
            }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                void 0 === i && (i = Promise);
                var a = new _(l(t, n, r, o), i);
                return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                    return e.done ? e.value : a.next();
                });
            }, T(b), u(b, c, "Generator"), u(b, a, function() {
                return this;
            }), u(b, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(), function n() {
                    for (;t.length; ) {
                        var r = t.pop();
                        if (r in e) return n.value = r, n.done = !1, n;
                    }
                    return n.done = !0, n;
                };
            }, e.values = A, P.prototype = {
                constructor: P,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                    this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                    !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;
                    function r(n, r) {
                        return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                        !!r;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return r("end");
                        if (i.tryLoc <= this.prev) {
                            var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                            if (s && c) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            } else if (s) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            } else {
                                if (!c) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                    f) : this.complete(a);
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                    this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                    f;
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                M(n);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, t, n) {
                    return this.delegate = {
                        iterator: A(e),
                        resultName: t,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = void 0), f;
                }
            }, e;
        }
        function i(e, t, n, r, o, i, a) {
            try {
                var s = e[i](a), c = s.value;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                return void n(e);
            }
            s.done ? t(c) : Promise.resolve(c).then(r, o);
        }
        n("00f2");
        var a = n("3195"), s = n("f0b5"), c = n("11ca").extend, u = function() {
            var e = function(e) {
                return function() {
                    var t = this, n = arguments;
                    return new Promise(function(r, o) {
                        var a = e.apply(t, n);
                        function s(e) {
                            i(a, r, o, s, c, "next", e);
                        }
                        function c(e) {
                            i(a, r, o, s, c, "throw", e);
                        }
                        s(void 0);
                    });
                };
            }(o().mark(function e(t, n) {
                var r, i;
                return o().wrap(function(e) {
                    for (;;) switch (e.prev = e.next) {
                      case 0:
                        return e.prev = 0, r = {
                            method: "POST",
                            url: "/api/auth/getConfig?BizToken=".concat(t),
                            reTry: {
                                tryCount: 3
                            }
                        }, e.next = 4, a.requestPromise(r);

                      case 4:
                        200 === (i = e.sent).statusCode && i.data.Data && 0 === i.data.ErrorCode ? n({
                            ErrorCode: 0,
                            Data: i.data.Data
                        }) : (i.data.ErrorCode ? n({
                            ErrorCode: i.data.ErrorCode,
                            ErrorMsg: "获取配置失败,".concat(i.data.ErrorMsg)
                        }) : n({
                            ErrorCode: -104,
                            ErrorMsg: "调用失败，获取配置异常！"
                        }), a.reportError(s.getCmsConfigErr, i, {
                            urL: wx.verifyBaseUrl
                        })), e.next = 11;
                        break;

                      case 8:
                        e.prev = 8, e.t0 = e.catch(0), console.log("genConfig catch error", e.t0), e.t0.errMsg.indexOf("request:fail Unable to resolve host") >= 0 || e.t0.errMsg.indexOf("request:fail 似乎已断开与互联网的连接") >= 0 ? n({
                            ErrorCode: 101,
                            ErrorMsg: "网络异常，请稍后重试"
                        }) : "request:fail url not in domain list" === e.t0.errMsg ? n({
                            ErrorCode: -104,
                            ErrorMsg: "接口还未添加到服务器域名，请点击右上角三个点，打开调试模式再试"
                        }) : n({
                            ErrorCode: -104,
                            ErrorMsg: "网络异常，请稍后重试"
                        }), a.reportError(s.getCmsConfigCatch, e.t0, {
                            urL: wx.verifyBaseUrl
                        });

                      case 11:
                      case "end":
                        return e.stop();
                    }
                }, e, null, [ [ 0, 8 ] ]);
            }));
            return function(t, n) {
                return e.apply(this, arguments);
            };
        }(), l = function(e, t) {
            var n = t.Common.Flow, r = !1, o = !1, i = !1, a = !1, s = 0, c = n.indexOf("LiveFour1V1") >= 0 || n.indexOf("LiveAction1V1") >= 0 || n.indexOf("LiveSilence1V1") >= 0;
            -1 === n.indexOf("Sms") && (r = !0), -1 === n.indexOf("Ocr") && (o = !0), c && (s = n.indexOf("LiveFour1V1") >= 0 ? 0 : n.indexOf("LiveAction1V1") >= 0 ? 1 : 2), 
            c || -1 !== n.indexOf("Sms") || (i = !0), c || -1 !== n.indexOf("Ocr") || (a = !0);
            var u = {
                Common: t.Common,
                protocol: {
                    title: t.Index.ProtocolTitle,
                    content: t.Index.TencentProtocol,
                    clientContent: t.Index.ClientProtocol
                },
                page: {
                    index: {
                        clientName: t.Index.ProjectName,
                        businessName: t.Index.BusinessName,
                        certificationCenter: t.Index.CooperationName,
                        nextBtnName: t.Index.NextBtn,
                        isHideTipsLogo: !t.Common.IsShowLogo,
                        isHideTipsAbout: t.Common.IsHideAbout,
                        protocolTitle: t.Index.ProtocolEntrance,
                        authorizedProtocol: t.Index.AuthorizedProtocol
                    },
                    ocr: {
                        backend: t.Ocr.Backend,
                        sourceType: t.Ocr.SourceType,
                        isAddress: t.Ocr.IsAddress,
                        isManualInput: t.Ocr.IsManualInput,
                        isHideTakePhoto: t.Ocr.IsHideManualInputTakePhotoBtn,
                        isCheckIDInfo: t.Ocr.IsCheckIdInfo,
                        allowModifyType: t.Ocr.AllowModifyType
                    },
                    livingbody: {
                        silentRecordTime: t.LiveFour1V1.MaxDuration
                    },
                    success: {
                        successTitle: t.Success.SubTipsName,
                        successTips: t.Success.SuccessTips,
                        isAutoSkip: t.Success.AutoSkip
                    },
                    sms: {},
                    failpage: {
                        isShowExitBtn: t.Fail.IsShowQuitBtn,
                        exitBtnTtile: t.Fail.ExitBtnText,
                        RetryBtnText: t.Fail.RetryBtnText
                    }
                },
                runEnv: "release",
                navTitle: {
                    smsTitle: t.Common.NavTitle.SmsTitle,
                    ocrTitle: t.Common.NavTitle.OcrTitle,
                    livingbodyTitle: t.Common.NavTitle.LivingbodyTitle,
                    resultTitle: t.Common.NavTitle.ResultTitle
                },
                justForJumpVer: {
                    title: t.Common.Title
                },
                about: {
                    title: "关于腾讯云慧眼",
                    content: "腾讯云慧眼由腾讯AI Lab、腾讯优图、腾讯数据平台部提供技术支持。"
                },
                IsHideIndexAlways: t.Common.IsHideIndexAlways,
                isHideSmsPage: r,
                isHideOcrPage: o,
                livingbodyType: s,
                isJustOcr: i,
                isJustSms: a,
                failInfo: t.Fail.CustomFailInfo
            }, l = {
                isHideSmsPage: u.isHideSmsPage,
                isHideOcrPage: u.isHideOcrPage,
                isJustSms: u.isJustSms,
                isJustOcr: u.isJustOcr,
                navTitle: u.navTitle
            };
            if (u.skipConfig = l, 0 !== u.livingbodyType && 1 !== u.livingbodyType) {
                var d = 4, f = u.page.livingbody.silentRecordTime;
                f && "number" == typeof f && f > 4 && (d = f), u.page.livingbody.silentRecordTime = d;
            }
            var p = u.page.ocr.allowModifyType.split("");
            return u.page.ocr.isIdnameAllowEdit = "0" === p[0], u.page.ocr.isIdnumberAllowEdit = "0" === p[1], 
            u.page.ocr.isIdaddressAllowEdit = "0" === p[2], console.log(u.page.ocr), u;
        };
        e.exports = {
            init: function(e) {
                wx.onNetworkStatusChange(function(e) {
                    "none" !== e.networkType && "2g" !== e.networkType || wx.showToast({
                        title: "网络异常",
                        icon: "none"
                    });
                }), wx.onMemoryWarning(function() {
                    a.reportError(s.memoryWarn);
                }), wx.verifyBaseUrl || (wx.verifyBaseUrl = "https://faceid.qq.com"), wx.startVerify = function(e) {
                    if (console.log("startVerify start, send data", e), e.data && e.fail && e.success) {
                        if (e.data.endPath) {
                            if (!a.validate(e.data.endPath, "end_path")) return t = {
                                ErrorCode: -100,
                                ErrorMsg: "调用SDK失败，endPath格式错误！"
                            }, void wx.showModal({
                                title: "提示",
                                content: t.ErrorMsg,
                                showCancel: !1
                            });
                            e.fail = function(t) {
                                if (-999 !== t.error_code) {
                                    var n;
                                    n = e.data.endPath.indexOf("?") >= 0 ? e.data.endPath + "&data=" + encodeURIComponent(JSON.stringify(t)) : e.data.endPath + "?data=" + encodeURIComponent(JSON.stringify(t)), 
                                    console.log(n), wx.navigateTo({
                                        url: n,
                                        fail: function(e) {
                                            console.log(e), wx.showModal({
                                                title: "提示",
                                                content: e.errMsg,
                                                showCancel: !1
                                            });
                                        }
                                    });
                                } else wx.navigateBack();
                            }, e.success = function(t) {
                                var n;
                                n = e.data.endPath.indexOf("?") >= 0 ? e.data.endPath + "&data=" + JSON.stringify(t) : e.data.endPath + "?data=" + JSON.stringify(t), 
                                console.log(n), wx.redirectTo({
                                    url: n,
                                    fail: function(e) {
                                        console.log(e), wx.showModal({
                                            title: "提示",
                                            content: e.errMsg,
                                            showCancel: !1
                                        });
                                    }
                                });
                            };
                        }
                        wx.verifySuccessFunc = function(t) {
                            e.success(t), wx.offMemoryWarning();
                        }, wx.verifyFailureFunc = function(t) {
                            e.fail(t), wx.offMemoryWarning();
                        }, wx.verify_TOKEN = e.data.token, wx.verify_BizData = e.data, a.validate(e.data.token, "token") ? (console.log("data is ok", e.data), 
                        wx.showLoading({
                            title: "加载中...",
                            mask: !0
                        }), u(e.data.token, function(t) {
                            if (console.log(t), wx.hideLoading(), 0 === t.ErrorCode) {
                                var n = {
                                    Common: {
                                        Title: "腾讯云慧眼",
                                        IsShowLogo: !1,
                                        Flow: [ "LiveSilence1V1" ],
                                        RedirectUrl: "/clearCookie",
                                        NavTitle: {
                                            SmsTitle: "短信验证",
                                            OcrTitle: "上传身份证",
                                            LivingbodyTitle: "录制视频",
                                            ResultTitle: "验证结果"
                                        },
                                        IsWxNative: !1,
                                        IsHideIndexWhenNative: !1,
                                        IsHideIndexAlways: !1,
                                        WxCheckAliveType: 2,
                                        IsWxNativeMod: 0,
                                        WxVerifyTypeIsVideo: !1
                                    },
                                    JustForMp: {
                                        iOSVerLimit: "6.6.7",
                                        androidVerLimit: "6.7.2"
                                    },
                                    Index: {
                                        ProtocolTitle: "实名核身用户须知",
                                        TencentProtocol: '<p>本服务由腾讯实名核身技术方案"腾讯慧眼"提供技术支持。您在接受服务过程中，需要调用您的手机摄像头，并且根据业务场景的不同，需要读取您的身份证个人信息，包括姓名、性别、民族、出生日期、常住户口所在地住址、公民身份号码、本人相片、证件的有效期和签发机关等信息，或者截取您的脸部图像和认证视频，从而实现身份比对。</p><p>如您使用不成功，请确保您已经按照要求正确使用本服务，或者向为您办理业务的机构咨询其他办理渠道。</p>',
                                        ClientProtocol: "客户侧协议内容",
                                        ProjectName: "云智慧眼",
                                        BusinessName: "实名实人认证",
                                        CooperationName: "合作方文案",
                                        IsHideAbout: !1,
                                        NextBtn: "快速验证",
                                        ProtocolEntrance: "全部协议",
                                        AuthorizedProtocol: '<p>您知悉并同意应用提供者：调用<span class="focus-text">相机、存储、麦克风权限</span>，收集、使用您本人的<span class="focus-text">身份信息及人脸视频、图像</span>，向合法数据持有者核实验证您的真实身份。</p>'
                                    },
                                    Sms: {},
                                    Ocr: {
                                        IsManualInput: !0,
                                        Backend: !1,
                                        AllowModifyType: "100",
                                        IsAddress: !1,
                                        IsCheckIdInfo: !1,
                                        SourceType: 2,
                                        IsHideManualInputTakePhotoBtn: !1
                                    },
                                    LiveFour1V1: {
                                        MaxDuration: 4,
                                        DetailType: !1,
                                        ForceWatchVideoTime: 5,
                                        ImportantTips: ""
                                    },
                                    LiveAction1V1: {},
                                    LiveSilence1V1: {},
                                    Fail: {
                                        IsShowQuitBtn: !1,
                                        ExitBtnText: "退出实名认证",
                                        RetryBtnText: "重新验证",
                                        CustomFailInfo: {}
                                    },
                                    Success: {
                                        SubTipsName: "验证成功",
                                        SuccessTips: "请点击下一步继续您的操作",
                                        AutoSkip: !1
                                    }
                                };
                                c(!0, n, t.Data.config);
                                var r = n;
                                console.log("final cmsConfig"), console.log(r), wx.verifySysInfo = wx.getSystemInfoSync(), 
                                console.log(wx.verifySysInfo);
                                var o = "ios" === wx.verifySysInfo.platform ? r.JustForMp.iOSVerLimit : r.JustForMp.androidVerLimit;
                                if ("devtools" !== wx.verifySysInfo.platform && o && a.compareVersion(o, wx.verifySysInfo.version) > 0) return wx.hideLoading(), 
                                void wx.showModal({
                                    title: "提示",
                                    content: "当前微信版本低于".concat(o, "，无法使用该功能，请升级到最新微信版本后重试。"),
                                    showCancel: !1
                                });
                                if (wx.verifySysInfo.environment && "wxwork" === wx.verifySysInfo.environment) return wx.showModal({
                                    title: "提示",
                                    content: "企业微信暂不支持使用此功能，请使用微信进行操作",
                                    showCancel: !1
                                }), !1;
                                if (r = l("", r), wx.verify_CMSConfig = r, r.Common.IsWxNative && !r.Common.Flow.includes("Ocr") && r.Common.IsHideIndexWhenNative) {
                                    console.log("直接调用微信原生接口");
                                    var i = r.Common.WxVerifyTypeIsVideo, s = r.Common.WxCheckAliveType;
                                    a.startNativeVerify(i, s, wx.verifyBaseUrl, e.data.token, wx.verifyFailureFunc, function(t) {
                                        var n = {
                                            BizToken: e.data.token,
                                            ErrorCode: t.ErrorCode,
                                            ErrorMsg: t.ErrorMsg
                                        };
                                        0 === t.ErrorCode ? wx.verifySuccessFunc(n) : wx.verifyFailureFunc(n);
                                    });
                                } else console.log("进入验证页面"), wx.navigateTo({
                                    url: "/pages/person/face/index?isNotice=" + !1
                                });
                            } else wx.showModal({
                                title: "提示",
                                content: t.ErrorMsg,
                                showCancel: !1
                            });
                        })) : wx.showModal({
                            title: "提示",
                            content: "调用SDK失败,token格式错误！",
                            showCancel: !1
                        });
                    } else {
                        var t = {
                            ErrorCode: -100,
                            ErrorMsg: "调用SDK失败，wx.startVerify传入参数缺少！"
                        };
                        wx.showModal({
                            title: "提示",
                            content: t.ErrorMsg,
                            showCancel: !1
                        });
                    }
                };
            }
        };
    },
    "6fcd": function(e, t, n) {
        var r = n("50d8"), o = n("d370"), i = n("6747"), a = n("0d24"), s = n("c098"), c = n("73ac"), u = Object.prototype.hasOwnProperty;
        e.exports = function(e, t) {
            var n = i(e), l = !n && o(e), d = !n && !l && a(e), f = !n && !l && !d && c(e), p = n || l || d || f, m = p ? r(e.length, String) : [], g = m.length;
            for (var h in e) !t && !u.call(e, h) || p && ("length" == h || d && ("offset" == h || "parent" == h) || f && ("buffer" == h || "byteLength" == h || "byteOffset" == h) || s(h, g)) || m.push(h);
            return m;
        };
    },
    "705e": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.addBaseInfo = u, t.allHealthList = s, t.default = void 0, t.familyLists = a, 
        t.getBaseInfo = c, t.getHealthCase = d, t.lists = l;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/health/familyLists";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/health/allHealthList";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/health/getBaseInfo";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/health/addBaseInfo";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "health/v1/UserDic/lists";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/health/getHealthCase";
            return r.default.post(t, e);
        }
        var f = {
            familyLists: a,
            allHealthList: s,
            getBaseInfo: c,
            addBaseInfo: u,
            lists: l,
            getHealthCase: d
        };
        t.default = f;
    },
    7133: function(e, t, n) {
        function r(e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
            if ((e = e.toLowerCase()) && n.test(e)) {
                if (4 === e.length) {
                    for (var r = "#", o = 1; o < 4; o += 1) r += e.slice(o, o + 1).concat(e.slice(o, o + 1));
                    e = r;
                }
                for (var i = [], a = 1; a < 7; a += 2) i.push(parseInt("0x" + e.slice(a, a + 2)));
                return t ? "rgb(".concat(i[0], ",").concat(i[1], ",").concat(i[2], ")") : i;
            }
            if (/^(rgb|RGB)/.test(e)) {
                var s = e.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
                return s.map(function(e) {
                    return Number(e);
                });
            }
            return e;
        }
        function o(e) {
            var t = e;
            if (/^(rgb|RGB)/.test(t)) {
                for (var n = t.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(","), r = "#", o = 0; o < n.length; o++) {
                    var i = Number(n[o]).toString(16);
                    "0" === (i = 1 == String(i).length ? "0" + i : i) && (i += i), r += i;
                }
                return 7 !== r.length && (r = t), r;
            }
            if (!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)) return t;
            var a = t.replace(/#/, "").split("");
            if (6 === a.length) return t;
            if (3 === a.length) {
                for (var s = "#", c = 0; c < a.length; c += 1) s += a[c] + a[c];
                return s;
            }
        }
        t.a = {
            colorGradient: function() {
                for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "rgb(0, 0, 0)", t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "rgb(255, 255, 255)", n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10, i = r(e, !1), a = i[0], s = i[1], c = i[2], u = r(t, !1), l = u[0], d = u[1], f = u[2], p = (l - a) / n, m = (d - s) / n, g = (f - c) / n, h = [], y = 0; y < n; y++) {
                    var v = o("rgb(" + Math.round(p * y + a) + "," + Math.round(m * y + s) + "," + Math.round(g * y + c) + ")");
                    h.push(v);
                }
                return h;
            },
            hexToRgb: r,
            rgbToHex: o,
            colorToRgba: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .3, n = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/, r = (e = o(e)).toLowerCase();
                if (r && n.test(r)) {
                    if (4 === r.length) {
                        for (var i = "#", a = 1; a < 4; a += 1) i += r.slice(a, a + 1).concat(r.slice(a, a + 1));
                        r = i;
                    }
                    for (var s = [], c = 1; c < 7; c += 2) s.push(parseInt("0x" + r.slice(c, c + 2)));
                    return "rgba(" + s.join(",") + "," + t + ")";
                }
                return r;
            }
        };
    },
    "72af": function(e, t, n) {
        var r = n("99cd")();
        e.exports = r;
    },
    "72f0": function(e, t) {
        e.exports = function(e) {
            return function() {
                return e;
            };
        };
    },
    "73ac": function(e, t, n) {
        var r = n("743f"), o = n("b047"), i = n("99d3"), a = i && i.isTypedArray, s = a ? o(a) : r;
        e.exports = s;
    },
    "73e8": function(e, t, n) {
        (function(t) {
            e.exports = {
                data: function() {
                    return {};
                },
                onLoad: function() {
                    this.$u.getRect = this.$uGetRect;
                },
                methods: {
                    $uGetRect: function(e, n) {
                        var r = this;
                        return new Promise(function(o) {
                            t.createSelectorQuery().in(r)[n ? "selectAll" : "select"](e).boundingClientRect(function(e) {
                                n && Array.isArray(e) && e.length && o(e), !n && e && o(e);
                            }).exec();
                        });
                    },
                    getParentData: function() {
                        var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        this.parent || (this.parent = !1), this.parent = this.$u.$parent.call(this, t), 
                        this.parent && Object.keys(this.parentData).map(function(t) {
                            e.parentData[t] = e.parent[t];
                        });
                    },
                    preventEvent: function(e) {
                        e && e.stopPropagation && e.stopPropagation();
                    }
                },
                onReachBottom: function() {
                    t.$emit("uOnReachBottom");
                },
                beforeDestroy: function() {
                    var e = this;
                    if (this.parent && t.$u.test.array(this.parent.children)) {
                        var n = this.parent.children;
                        n.map(function(t, r) {
                            t === e && n.splice(r, 1);
                        });
                    }
                }
            };
        }).call(this, n("543d").default);
    },
    "73ef": function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAzFBMVEUAAAAAxq4AzqUAxq4Axq4Ax68A0bEAxq4Ax68Ax68AyK8Ax68Ax68Ay7EAx6sAx64Axq8Ax68Axq4AyK4Axq0Aya8Ax68AyK8Ax68Ax7AAyLEAxa4AxrAAxq0Ax64AyK0AybEAyLAAxa4AyLIAxq7///8Bx68AxKv9//8Aw6oVyrT5/v164dU608Ce6eAv0L0by7YEyLC98OmP5tv0/fza9/Pi+PbS9fAgzbjH8uyw7eVU2Mkr0Lvp+/hh2swKyLCz7uay7uZg28xF1cQV5XLQAAAAJHRSTlMA/AP58eYI9tOkmnNLHxDKw7ba2cVjYF1RNxfrtJOIhmxrOTh7ut+uAAACxUlEQVRYw5yU6U7kMBCE23E79zX3wQ0dZzIHMLDS7qKReP+3ognSODJzGCo/osSqz1WtxPBNnucBX7Mk7oUKpUQV9uJkxq/apRMy9ixldzFQGEghZIBqUDAjzc4jPpfz2W0UBpos6SCMbmc5wDnEfFISSwix95rHcjL3TrohHw1R0FEJHI5y8I7HT6O+sDa3Yoh+lB6p4YE/LYiHdiqBZEYx9Q+HyMeKjPs4g9Q4P7A9ZDdIjsKbjC22/woZ72IXTLiyCDz+6wuT/3yLi+ucTd35jZECclZAOO5O0oOpoh9KTfcAvqel1d9hDmVqxuBHJOmHkhT5+wGM+mZ/9wz90dcYfJgPLb8jYTgHvw0wQauBYweccAS+7kvxuwSivG8Bd/Qbf2u6a7/hyB2gNekuIMoAIA3dAU393tTaAMKUAQm562m93mypo4QBsRZu8dn/Uq3edo3el9AxwMMlOQLqp/9Vtfi76QDo8gGSgoSbf/OyWFR/1su6AygSiAcknPJv3ir2P/5jvwEMYugp9/6L6nFp/dQ9CNG1/6qqXp+tBQxB2QfRdqv14f6r1zZ/V4EClPbH0jQ16YP9n20/SYRvJ+lyt3s/099IyI/SyywHYRgGouIuzQZUEOgisZS23P9OpApipBAnH/MPrp5je2ZCgeTXV9WHp/IVfhSICPj/46LsM1RodJEfCGkTz7fwuSFWiPxLhh9NTJ5RG7f2ysYKJX48YzpI2ty3ChuFL/BjkNJR1m73q9CI/Bjl/2Xyzk3jl6KdJX4sE9YZT+Gm2Id2lvixzvmDsvVB2W7olMCPg5I9ad7EPqiDwI+ThqOa64PMj6OKs572YR2ttSI/zrosLO9lPJ5rwiJLm3evU7s3VWmTxdU3DiIii2tJ3rWuyzttMEiLw5ss0ubRRpO1urTZZu0+HTj4yMOHLj728cGTj758+Kbj/wdigrGR4hlHXQAAAABJRU5ErkJggg==";
    },
    "743f": function(e, t, n) {
        var r = n("3729"), o = n("b218"), i = n("1310"), a = {};
        a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0, 
        a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1, 
        e.exports = function(e) {
            return i(e) && o(e.length) && !!a[r(e)];
        };
    },
    "750a": function(e, t, n) {
        var r = n("c869"), o = n("bcdf"), i = n("ac41"), a = r && 1 / i(new r([ , -0 ]))[1] == 1 / 0 ? function(e) {
            return new r(e);
        } : o;
        e.exports = a;
    },
    "753a": function(e, t, n) {
        (function(e) {
            function r(e) {
                return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.init = t.default = void 0;
            var o = a(n("f3da")), i = a(n("e884"));
            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            function s() {
                s = function() {
                    return e;
                };
                var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", c = o.toStringTag || "@@toStringTag";
                function u(e, t, n) {
                    return Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }), e[t];
                }
                try {
                    u({}, "");
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    u = function(e, t, n) {
                        return e[t] = n;
                    };
                }
                function l(e, t, n, r) {
                    var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = "suspendedStart";
                        return function(o, i) {
                            if ("executing" === r) throw new Error("Generator is already running");
                            if ("completed" === r) {
                                if ("throw" === o) throw i;
                                return {
                                    value: void 0,
                                    done: !0
                                };
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = S(a, n);
                                    if (s) {
                                        if (s === f) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if ("suspendedStart" === r) throw r = "completed", n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = "executing";
                                var c = d(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function d(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                e.wrap = l;
                var f = {};
                function p() {}
                function m() {}
                function g() {}
                var h = {};
                u(h, i, function() {
                    return this;
                });
                var y = Object.getPrototypeOf, v = y && y(y(A([])));
                v && v !== t && n.call(v, i) && (h = v);
                var b = g.prototype = p.prototype = Object.create(h);
                function T(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        u(e, t, function(e) {
                            return this._invoke(t, e);
                        });
                    });
                }
                function _(e, t) {
                    function o(i, a, s, c) {
                        var u = d(e[i], e, a);
                        if ("throw" !== u.type) {
                            var l = u.arg, f = l.value;
                            return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                                o("next", e, s, c);
                            }, function(e) {
                                o("throw", e, s, c);
                            }) : t.resolve(f).then(function(e) {
                                l.value = e, s(l);
                            }, function(e) {
                                return o("throw", e, s, c);
                            });
                        }
                        c(u.arg);
                    }
                    var i;
                    this._invoke = function(e, n) {
                        function r() {
                            return new t(function(t, r) {
                                o(e, n, t, r);
                            });
                        }
                        return i = i ? i.then(r, r) : r();
                    };
                }
                function S(e, t) {
                    var n = e.iterator[t.method];
                    if (void 0 === n) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return f;
                    }
                    var r = d(n, e.iterator, t.arg);
                    if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                    f;
                    var o = r.arg;
                    return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, f);
                }
                function k(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function M(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function P(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(k, this), this.reset(!0);
                }
                function A(e) {
                    if (e) {
                        var t = e[i];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var r = -1, o = function t() {
                                for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = void 0, t.done = !0, t;
                            };
                            return o.next = o;
                        }
                    }
                    return {
                        next: w
                    };
                }
                function w() {
                    return {
                        value: void 0,
                        done: !0
                    };
                }
                return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
                e.isGeneratorFunction = function(e) {
                    var t = "function" == typeof e && e.constructor;
                    return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
                }, e.mark = function(e) {
                    return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                    e.prototype = Object.create(b), e;
                }, e.awrap = function(e) {
                    return {
                        __await: e
                    };
                }, T(_.prototype), u(_.prototype, a, function() {
                    return this;
                }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                    void 0 === i && (i = Promise);
                    var a = new _(l(t, n, r, o), i);
                    return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                        return e.done ? e.value : a.next();
                    });
                }, T(b), u(b, c, "Generator"), u(b, i, function() {
                    return this;
                }), u(b, "toString", function() {
                    return "[object Generator]";
                }), e.keys = function(e) {
                    var t = [];
                    for (var n in e) t.push(n);
                    return t.reverse(), function n() {
                        for (;t.length; ) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n;
                        }
                        return n.done = !0, n;
                    };
                }, e.values = A, P.prototype = {
                    constructor: P,
                    reset: function(e) {
                        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                        this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                        !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                    },
                    stop: function() {
                        this.done = !0;
                        var e = this.tryEntries[0].completion;
                        if ("throw" === e.type) throw e.arg;
                        return this.rval;
                    },
                    dispatchException: function(e) {
                        if (this.done) throw e;
                        var t = this;
                        function r(n, r) {
                            return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                            !!r;
                        }
                        for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                            var i = this.tryEntries[o], a = i.completion;
                            if ("root" === i.tryLoc) return r("end");
                            if (i.tryLoc <= this.prev) {
                                var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                                if (s && c) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                } else if (s) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                } else {
                                    if (!c) throw new Error("try statement without catch or finally");
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                }
                            }
                        }
                    },
                    abrupt: function(e, t) {
                        for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                            var o = this.tryEntries[r];
                            if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                                var i = o;
                                break;
                            }
                        }
                        i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                        var a = i ? i.completion : {};
                        return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                        f) : this.complete(a);
                    },
                    complete: function(e, t) {
                        if ("throw" === e.type) throw e.arg;
                        return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                        this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                        f;
                    },
                    finish: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                        }
                    },
                    catch: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.tryLoc === e) {
                                var r = n.completion;
                                if ("throw" === r.type) {
                                    var o = r.arg;
                                    M(n);
                                }
                                return o;
                            }
                        }
                        throw new Error("illegal catch attempt");
                    },
                    delegateYield: function(e, t, n) {
                        return this.delegate = {
                            iterator: A(e),
                            resultName: t,
                            nextLoc: n
                        }, "next" === this.method && (this.arg = void 0), f;
                    }
                }, e;
            }
            function c(e, t, n, r, o, i, a) {
                try {
                    var s = e[i](a), c = s.value;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return void n(e);
                }
                s.done ? t(c) : Promise.resolve(c).then(r, o);
            }
            n("c9c2"), a(n("04c6")), n("8e0b");
            var u = function() {
                var e = function(e) {
                    return function() {
                        var t = this, n = arguments;
                        return new Promise(function(r, o) {
                            var i = e.apply(t, n);
                            function a(e) {
                                c(i, r, o, a, s, "next", e);
                            }
                            function s(e) {
                                c(i, r, o, a, s, "throw", e);
                            }
                            a(void 0);
                        });
                    };
                }(s().mark(function e() {
                    var t;
                    return s().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            return (t = i.default.state.im.NIM).netcall = o.default.Client({
                                debug: "prod" != i.default.state.env.VUE_APP_ENVIR,
                                appkey: i.default.state.env.VUE_APP_IM_KEY
                            }), t.netcall.init(), i.default.commit("im/setNIM", t), l(), e.abrupt("return", t.netcall);

                          case 6:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }));
                return function() {
                    return e.apply(this, arguments);
                };
            }();
            t.init = u;
            var l = function() {
                var t = i.default.state.im.NIM.netcall;
                t.on("stream-added", function(t) {
                    console.warn("".concat(t.uid, " 发布了自己的 ").concat(t.mediaType)), e.$emit("netcallStreamAdded", t);
                }), t.on("stream-removed", function(e) {
                    console.warn("[stream-removed 通知] ".concat(e.uid, " 停止发布自己的 ").concat(e.mediaType));
                }), t.on("syncDone", function(t) {
                    console.warn("[syncDone 通知] 推流地址发生了变化", new Date(), t), e.$emit("netcallSyncDone", t);
                }), t.on("clientLeave", function(t) {
                    console.warn("音视频通知：有人离开了，清除拉流的live-player组件", new Date(), t), e.$emit("netcallClientLeave", t);
                }), t.on("clientJoin", function(t) {
                    console.warn("音视频通知：有人加入", new Date(), t), e.$emit("netcallClientJoin", t);
                }), t.on("kicked", function(e) {
                    console.log("音视频通知：被踢");
                }), t.on("open", function(e) {
                    console.log("音视频通知：和服务器socket建立成功");
                }), t.on("disconnect", function(t) {
                    console.log("音视频通知：和服务器socket关闭了"), e.$emit("netcallDisconnect", t);
                }), t.on("willreconnect", function(e) {
                    console.log("音视频通知：准备重新建立和服务器之间的联系");
                }), t.on("reconnected", function(e) {
                    console.log("音视频通知：已经重新建立和服务器之间的联系");
                }), t.on("sendCommandOverTime", function(e) {
                    console.log("音视频通知：sdk信令发送超时");
                }), t.on("liveRoomClose", function(e) {
                    console.log("音视频通知：房间解散了");
                });
            }, d = {
                init: u
            };
            t.default = d;
        }).call(this, n("543d").default);
    },
    7678: function(e, t, n) {
        t.a = function e(t) {
            if ([ null, void 0, NaN, !1 ].includes(t)) return t;
            if ("object" !== _typeof3(t) && "function" != typeof t) return t;
            var n = function(e) {
                return "[object Array]" === Object.prototype.toString.call(e);
            }(t) ? [] : {};
            for (var r in t) t.hasOwnProperty(r) && (n[r] = "object" === _typeof3(t[r]) ? e(t[r]) : t[r]);
            return n;
        };
    },
    "76dd": function(e, t, n) {
        var r = n("ce86");
        e.exports = function(e) {
            return null == e ? "" : r(e);
        };
    },
    7948: function(e, t) {
        e.exports = function(e, t) {
            for (var n = -1, r = null == e ? 0 : e.length, o = Array(r); ++n < r; ) o[n] = t(e[n], n, e);
            return o;
        };
    },
    7958: function(e, t, n) {
        var r;
        t.a = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 500, n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            n ? r || (r = !0, "function" == typeof e && e(), setTimeout(function() {
                r = !1;
            }, t)) : r || (r = !0, setTimeout(function() {
                r = !1, "function" == typeof e && e();
            }, t));
        };
    },
    "79bc": function(e, t, n) {
        var r = n("0b07")(n("2b3e"), "Map");
        e.exports = r;
    },
    "7a48": function(e, t, n) {
        var r = n("6044"), o = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            var t = this.__data__;
            return r ? void 0 !== t[e] : o.call(t, e);
        };
    },
    "7af8": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("a6d6"));
        t.default = function(e) {
            return (0, r.default)(e);
        };
    },
    "7b83": function(e, t, n) {
        var r = n("7c64"), o = n("93ed"), i = n("2478"), a = n("a524"), s = n("1fc8");
        function c(e) {
            var t = -1, n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        c.prototype.clear = r, c.prototype.delete = o, c.prototype.get = i, c.prototype.has = a, 
        c.prototype.set = s, e.exports = c;
    },
    "7b97": function(e, t, n) {
        var r = n("7e64"), o = n("a2be"), i = n("1c3c"), a = n("b1e5"), s = n("42a2"), c = n("6747"), u = n("0d24"), l = n("73ac"), d = "[object Arguments]", f = "[object Array]", p = "[object Object]", m = Object.prototype.hasOwnProperty;
        e.exports = function(e, t, n, g, h, y) {
            var v = c(e), b = c(t), T = v ? f : s(e), _ = b ? f : s(t), S = (T = T == d ? p : T) == p, k = (_ = _ == d ? p : _) == p, M = T == _;
            if (M && u(e)) {
                if (!u(t)) return !1;
                v = !0, S = !1;
            }
            if (M && !S) return y || (y = new r()), v || l(e) ? o(e, t, n, g, h, y) : i(e, t, T, n, g, h, y);
            if (!(1 & n)) {
                var P = S && m.call(e, "__wrapped__"), A = k && m.call(t, "__wrapped__");
                if (P || A) {
                    var w = P ? e.value() : e, O = A ? t.value() : t;
                    return y || (y = new r()), h(w, O, n, g, y);
                }
            }
            return !!M && (y || (y = new r()), a(e, t, n, g, h, y));
        };
    },
    "7c64": function(e, t, n) {
        var r = n("e24b"), o = n("5e2e"), i = n("79bc");
        e.exports = function() {
            this.size = 0, this.__data__ = {
                hash: new r(),
                map: new (i || o)(),
                string: new r()
            };
        };
    },
    "7d1f": function(e, t, n) {
        var r = n("087d"), o = n("6747");
        e.exports = function(e, t, n) {
            var i = t(e);
            return o(e) ? i : r(i, n(e));
        };
    },
    "7e64": function(e, t, n) {
        var r = n("5e2e"), o = n("efb6"), i = n("2fcc"), a = n("802a"), s = n("55a3"), c = n("d02c");
        function u(e) {
            var t = this.__data__ = new r(e);
            this.size = t.size;
        }
        u.prototype.clear = o, u.prototype.delete = i, u.prototype.get = a, u.prototype.has = s, 
        u.prototype.set = c, e.exports = u;
    },
    "7ed2": function(e, t) {
        e.exports = function(e) {
            return this.__data__.set(e, "__lodash_hash_undefined__"), this;
        };
    },
    "802a": function(e, t) {
        e.exports = function(e) {
            return this.__data__.get(e);
        };
    },
    "812e": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.addMedicareCard = l, t.addReturn = R, t.apply = s, t.cancelOrder = _, t.checkIn = S, 
        t.continuePay = A, t.createInquiryOrder = E, t.createReturnVisitOrder = I, t.default = void 0, 
        t.delMedicareCard = m, t.doApply = P, t.getCancelResonList = x, t.getDrugStoreInfo = v, 
        t.getFamilyDoctorInfo = a, t.getFirstOptionList = b, t.getInquiryOrderDetail = T, 
        t.getMedicareCardList = g, t.getMedicareCardType = f, t.getPermissionsDeduction = c, 
        t.getPriceByPayDrug = y, t.getPriceByRegistration = h, t.getRecord = u, t.inquiryList = k, 
        t.queryOrder = O, t.refundPatientOrder = C, t.report = w, t.requestCancelCause = M, 
        t.updateMedicareCard = d, t.updateMedicareCardType = p;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/inquiry/getFamilyDoctorInfo";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/inquiry/apply";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Insurance/permissionsDeduction";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/servicePackage/record";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/addMedicareCard";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/updateMedicareCard";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/getMedicareCardType";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/updateMedicareCardType";
            return r.default.post(t, e);
        }
        function m(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/delMedicareCard";
            return r.default.post(t, e);
        }
        function g(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicareCard/lists";
            return r.default.post(t, e);
        }
        function h(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Insurance/getPriceByRegistration";
            return r.default.post(t, e);
        }
        function y(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Insurance/getPriceByPayDrug";
            return r.default.post(t, e);
        }
        function v(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/getDrugStoreInfo";
            return r.default.post(t, e);
        }
        function b(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/His/getFirstOptionRecord";
            return r.default.post(t, e);
        }
        function T(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/account/inquiryDetail";
            return r.default.post(t, e);
        }
        function _(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/order/cancel";
            return r.default.post(t, e);
        }
        function S(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/returnVisit/report";
            return r.default.post(t, e);
        }
        function k(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/account/inquiryList";
            return r.default.post(t, e);
        }
        function M(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/inquiry/getCancelCause";
            return r.default.post(t, e);
        }
        function P(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/doApply";
            return r.default.post(t, e);
        }
        function A(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/continuePay";
            return r.default.post(t, e);
        }
        function w(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/report";
            return r.default.post(t, e);
        }
        function O(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/queryOrder";
            return r.default.post(t, e);
        }
        function E(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/patient/submitInquiryInfo";
            return r.default.post(t, e);
        }
        function I(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/patient/submitConsultationInfo ";
            return r.default.post(t, e);
        }
        function x(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/orderCenter/getOrderDictConfig";
            return r.default.post(t, e);
        }
        function C(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/patient/refundPatientOrder";
            return r.default.post(t, e);
        }
        function R(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/v2order/addReturn";
            return r.default.post(t, e);
        }
        var j = {
            getFamilyDoctorInfo: a,
            apply: s,
            getFirstOptionList: b,
            getInquiryOrderDetail: T,
            getPermissionsDeduction: c,
            getRecord: u,
            addMedicareCard: l,
            updateMedicareCard: d,
            getMedicareCardType: f,
            updateMedicareCardType: p,
            delMedicareCard: m,
            getMedicareCardList: g,
            getPriceByRegistration: h,
            getPriceByPayDrug: y,
            getDrugStoreInfo: v,
            cancelOrder: _,
            checkIn: S,
            inquiryList: k,
            requestCancelCause: M,
            doApply: P,
            queryOrder: O,
            continuePay: A,
            report: w,
            createInquiryOrder: E,
            createReturnVisitOrder: I,
            getCancelResonList: x,
            refundPatientOrder: C,
            addReturn: R
        };
        t.default = j;
    },
    "85e3": function(e, t) {
        e.exports = function(e, t, n) {
            switch (n.length) {
              case 0:
                return e.call(t);

              case 1:
                return e.call(t, n[0]);

              case 2:
                return e.call(t, n[0], n[1]);

              case 3:
                return e.call(t, n[0], n[1], n[2]);
            }
            return e.apply(t, n);
        };
    },
    8604: function(e, t, n) {
        var r = n("26e8"), o = n("e2c0");
        e.exports = function(e, t) {
            return null != e && o(e, t, r);
        };
    },
    "894f": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.goCasePage = o, t.goFirstDetail = s, t.goPrePage = i, 
        t.goReportPage = a;
        var r = n("c9c2");
        function o(e) {
            r.router.push({
                path: "",
                query: {
                    title: "门诊病历",
                    dataNo: e.currentTarget.dataset.datano
                }
            });
        }
        function i(e) {
            r.router.push({
                path: "",
                query: {
                    title: "处方详情",
                    prescribeId: e.currentTarget.dataset.id
                }
            });
        }
        function a(e) {
            var t = "";
            switch (e.currentTarget.dataset.info.checkType) {
              case "pacs":
                t = "/pages/report/pacs/index";
                break;

              case "inspection":
                t = "/pages/report/inspection/index";
            }
            var n = e.currentTarget.dataset.info;
            r.router.push({
                path: t,
                query: {
                    checkId: n.id,
                    inspectionId: n.inspectionId,
                    inspectionName: n.itemName,
                    patientName: n.patientName,
                    sampleName: n.sampleName,
                    sampleCode: n.sampleCode,
                    patientSex: n.patientSex,
                    deptName: n.deptName,
                    sampleTime: n.sampleTime,
                    requestPerson: n.requestPerson,
                    age: n.age,
                    diagnosesName: n.diagnosesName,
                    receiveTime: n.receiveTime,
                    checkTime: n.checkTime,
                    inspectionPerson: n.inspectionPerson,
                    checkPerson: n.checkPerson
                }
            });
        }
        function s(e) {
            r.router.push({
                path: "/pages/other/h5/index",
                query: {
                    path: "health/firstOption",
                    dataNo: e.currentTarget.dataset.info.dataNo
                }
            });
        }
        var c = {
            goCasePage: o,
            goPrePage: i,
            goReportPage: a,
            goFirstDetail: s
        };
        t.default = c;
    },
    "8d74": function(e, t, n) {
        var r = n("4cef"), o = /^\s+/;
        e.exports = function(e) {
            return e ? e.slice(0, r(e) + 1).replace(o, "") : e;
        };
    },
    "8db3": function(e, t, n) {
        var r = n("47f5");
        e.exports = function(e, t) {
            return !!(null == e ? 0 : e.length) && r(e, t, 0) > -1;
        };
    },
    "8e0b": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), Object.defineProperty(t, "CONSTANT", {
            enumerable: !0,
            get: function() {
                return i.default;
            }
        }), Object.defineProperty(t, "cache", {
            enumerable: !0,
            get: function() {
                return r.cache;
            }
        }), t.default = void 0, Object.defineProperty(t, "http", {
            enumerable: !0,
            get: function() {
                return o.default;
            }
        }), t.install = void 0, Object.defineProperty(t, "util", {
            enumerable: !0,
            get: function() {
                return r.util;
            }
        }), Object.defineProperty(t, "validate", {
            enumerable: !0,
            get: function() {
                return r.validate;
            }
        });
        var r = n("6c87"), o = a(n("211c")), i = a(n("51f1"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var s = function(e) {
            var t = {
                util: r.util,
                validate: r.validate,
                cache: r.cache,
                http: o.default,
                CONSTANT: i.default
            };
            e.prototype.$peace = t, e.prototype.$util = r.util, e.prototype.$validate = r.validate, 
            e.prototype.$cache = r.cache, e.prototype.$http = o.default, e.prototype.$CONSTANT = i.default;
        };
        t.install = s;
        var c = {
            util: r.util,
            validate: r.validate,
            cache: r.cache,
            http: o.default,
            CONSTANT: i.default,
            install: s
        };
        t.default = c;
    },
    9152: function(e, t) {
        t.read = function(e, t, n, r, o) {
            var i, a, s = 8 * o - r - 1, c = (1 << s) - 1, u = c >> 1, l = -7, d = n ? o - 1 : 0, f = n ? -1 : 1, p = e[t + d];
            for (d += f, i = p & (1 << -l) - 1, p >>= -l, l += s; l > 0; i = 256 * i + e[t + d], 
            d += f, l -= 8) ;
            for (a = i & (1 << -l) - 1, i >>= -l, l += r; l > 0; a = 256 * a + e[t + d], d += f, 
            l -= 8) ;
            if (0 === i) i = 1 - u; else {
                if (i === c) return a ? NaN : 1 / 0 * (p ? -1 : 1);
                a += Math.pow(2, r), i -= u;
            }
            return (p ? -1 : 1) * a * Math.pow(2, i - r);
        }, t.write = function(e, t, n, r, o, i) {
            var a, s, c, u = 8 * i - o - 1, l = (1 << u) - 1, d = l >> 1, f = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = r ? 0 : i - 1, m = r ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
            for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = l) : (a = Math.floor(Math.log(t) / Math.LN2), 
            t * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (t += a + d >= 1 ? f / c : f * Math.pow(2, 1 - d)) * c >= 2 && (a++, 
            c /= 2), a + d >= l ? (s = 0, a = l) : a + d >= 1 ? (s = (t * c - 1) * Math.pow(2, o), 
            a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, o), a = 0)); o >= 8; e[n + p] = 255 & s, 
            p += m, s /= 256, o -= 8) ;
            for (a = a << o | s, u += o; u > 0; e[n + p] = 255 & a, p += m, a /= 256, u -= 8) ;
            e[n + p - m] |= 128 * g;
        };
    },
    "91c8": function(e, t, n) {
        var r = n("2b10"), o = n("9aff"), i = n("4b17"), a = Math.ceil, s = Math.max;
        e.exports = function(e, t, n) {
            t = (n ? o(e, t, n) : void 0 === t) ? 1 : s(i(t), 0);
            var c = null == e ? 0 : e.length;
            if (!c || t < 1) return [];
            for (var u = 0, l = 0, d = Array(a(c / t)); u < c; ) d[l++] = r(e, u, u += t);
            return d;
        };
    },
    "91e9": function(e, t) {
        e.exports = function(e, t) {
            return function(n) {
                return e(t(n));
            };
        };
    },
    9224: function(e) {
        e.exports = JSON.parse('{"name":"zyy_patient","version":"1.62.0","private":true,"scripts":{"serve":"npm run dev:h5","build":"npm run build:h5","dev:h5":"cross-env NODE_ENV=development UNI_PLATFORM=h5 vue-cli-service uni-serve --watch","build:h5-dev":"cross-env NODE_ENV=production UNI_PLATFORM=h5 vue-cli-service uni-build --mode dev","build:h5-test":"cross-env NODE_ENV=production UNI_PLATFORM=h5 vue-cli-service uni-build --mode test","build:h5-test2":"cross-env NODE_ENV=production UNI_PLATFORM=h5 vue-cli-service uni-build --mode test2","build:h5-pre":"cross-env NODE_ENV=production UNI_PLATFORM=h5 vue-cli-service uni-build --mode pre","build:h5-prod":"cross-env NODE_ENV=production UNI_PLATFORM=h5 vue-cli-service uni-build --mode prod","dev:bc-wx":"cross-env NODE_ENV=development UNI_PLATFORM=mp-weixin vue-cli-service uni-build --watch --mode","build:bc-wx-dev":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode dev","build:bc-wx-test":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode test","build:bc-wx-test2":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode test2","build:bc-wx-pre":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode pre","build:bc-wx-prod":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode prod","dev:cj-wx":"cross-env NODE_ENV=development UNI_PLATFORM=mp-weixin vue-cli-service uni-build --watch --mode cjdev","build:cj-wx-dev":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode cjdev","build:cj-wx-test":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode cjtest","build:cj-wx-test2":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode cjtest2","build:cj-wx-pre":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode cjpre","build:cj-wx-prod":"cross-env NODE_ENV=production UNI_PLATFORM=mp-weixin vue-cli-service uni-build --mode cjprod","dev:bc-ali":"cross-env NODE_ENV=development UNI_PLATFORM=mp-alipay vue-cli-service uni-build --watch","build:bc-ali-dev":"cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build --mode dev","build:bc-ali-test":"cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build --mode test","build:bc-ali-test2":"cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build --mode test2","build:bc-ali-pre":"cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build --mode pre","build:bc-ali-prod":"cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build --mode prod","build:app-plus":"cross-env NODE_ENV=production UNI_PLATFORM=app-plus vue-cli-service uni-build","build:custom":"cross-env NODE_ENV=production uniapp-cli custom","build:mp-360":"cross-env NODE_ENV=production UNI_PLATFORM=mp-360 vue-cli-service uni-build","build:mp-baidu":"cross-env NODE_ENV=production UNI_PLATFORM=mp-baidu vue-cli-service uni-build","build:mp-kuaishou":"cross-env NODE_ENV=production UNI_PLATFORM=mp-kuaishou vue-cli-service uni-build","build:mp-qq":"cross-env NODE_ENV=production UNI_PLATFORM=mp-qq vue-cli-service uni-build","build:mp-toutiao":"cross-env NODE_ENV=production UNI_PLATFORM=mp-toutiao vue-cli-service uni-build","build:quickapp-native":"cross-env NODE_ENV=production UNI_PLATFORM=quickapp-native vue-cli-service uni-build","build:quickapp-webview":"cross-env NODE_ENV=production UNI_PLATFORM=quickapp-webview vue-cli-service uni-build","build:quickapp-webview-huawei":"cross-env NODE_ENV=production UNI_PLATFORM=quickapp-webview-huawei vue-cli-service uni-build","build:quickapp-webview-union":"cross-env NODE_ENV=production UNI_PLATFORM=quickapp-webview-union vue-cli-service uni-build","dev:app-plus":"cross-env NODE_ENV=development UNI_PLATFORM=app-plus vue-cli-service uni-build --watch","dev:custom":"cross-env NODE_ENV=development uniapp-cli custom","dev:mp-360":"cross-env NODE_ENV=development UNI_PLATFORM=mp-360 vue-cli-service uni-build --watch","dev:mp-baidu":"cross-env NODE_ENV=development UNI_PLATFORM=mp-baidu vue-cli-service uni-build --watch","dev:mp-kuaishou":"cross-env NODE_ENV=development UNI_PLATFORM=mp-kuaishou vue-cli-service uni-build --watch","dev:mp-qq":"cross-env NODE_ENV=development UNI_PLATFORM=mp-qq vue-cli-service uni-build --watch","dev:mp-toutiao":"cross-env NODE_ENV=development UNI_PLATFORM=mp-toutiao vue-cli-service uni-build --watch","dev:quickapp-native":"cross-env NODE_ENV=development UNI_PLATFORM=quickapp-native vue-cli-service uni-build --watch","dev:quickapp-webview":"cross-env NODE_ENV=development UNI_PLATFORM=quickapp-webview vue-cli-service uni-build --watch","dev:quickapp-webview-huawei":"cross-env NODE_ENV=development UNI_PLATFORM=quickapp-webview-huawei vue-cli-service uni-build --watch","dev:quickapp-webview-union":"cross-env NODE_ENV=development UNI_PLATFORM=quickapp-webview-union vue-cli-service uni-build --watch","info":"node node_modules/@dcloudio/vue-cli-plugin-uni/commands/info.js","serve:quickapp-native":"node node_modules/@dcloudio/uni-quickapp-native/bin/serve.js","test:android":"cross-env UNI_PLATFORM=app-plus UNI_OS_NAME=android jest -i","test:h5":"cross-env UNI_PLATFORM=h5 jest -i","test:ios":"cross-env UNI_PLATFORM=app-plus UNI_OS_NAME=ios jest -i","test:mp-baidu":"cross-env UNI_PLATFORM=mp-baidu jest -i","test:mp-weixin":"cross-env UNI_PLATFORM=mp-weixin jest -i"},"dependencies":{"@dcloudio/uni-app-plus":"2.0.1-alpha-34920220614002","@dcloudio/uni-h5":"2.0.1-alpha-34920220614002","@dcloudio/uni-helper-json":"^1.0.13","@dcloudio/uni-i18n":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-360":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-alipay":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-baidu":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-jd":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-kuaishou":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-lark":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-qq":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-toutiao":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-vue":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-weixin":"2.0.1-alpha-34920220614002","@dcloudio/uni-mp-xhs":"2.0.1-alpha-34920220614002","@dcloudio/uni-quickapp-native":"2.0.1-alpha-34920220614002","@dcloudio/uni-quickapp-webview":"2.0.1-alpha-34920220614002","@dcloudio/uni-stat":"2.0.1-alpha-34920220614002","@vue/shared":"^3.0.0","compressorjs":"^1.0.7","core-js":"^3.6.5","flyio":"^0.6.2","lodash":"^4.17.21","luch-request":"^3.0.6","mp-html":"^2.2.0","nim-web-sdk-ng":"^0.5.2","regenerator-runtime":"^0.12.1","sass":"^1.26.5","sass-loader":"^7.0.0","uni-read-pages":"^1.0.5","uni-simple-router":"^2.0.7","uview-ui":"^1.8.4","vconsole":"^3.3.4","vue":"^2.6.11","vuex":"^3.2.0","weixin-js-sdk":"^1.6.0"},"devDependencies":{"@babel/runtime":"~7.17.9","@dcloudio/types":"*","@dcloudio/uni-automator":"2.0.1-alpha-34920220614002","@dcloudio/uni-cli-i18n":"2.0.1-alpha-34920220614002","@dcloudio/uni-cli-shared":"2.0.1-alpha-34920220614002","@dcloudio/uni-migration":"2.0.1-alpha-34920220614002","@dcloudio/uni-template-compiler":"2.0.1-alpha-34920220614002","@dcloudio/vue-cli-plugin-hbuilderx":"2.0.1-alpha-34920220614002","@dcloudio/vue-cli-plugin-uni":"2.0.1-alpha-34920220614002","@dcloudio/vue-cli-plugin-uni-optimize":"2.0.1-alpha-34920220614002","@dcloudio/webpack-uni-mp-loader":"2.0.1-alpha-34920220614002","@dcloudio/webpack-uni-pages-loader":"2.0.1-alpha-34920220614002","@vue/cli-plugin-babel":"~4.5.13","@vue/cli-service":"~4.5.13","babel-plugin-import":"^1.11.0","cross-env":"^7.0.2","jest":"^25.4.0","mini-types":"*","miniprogram-api-typings":"*","postcss-comment":"^2.0.0","vue-template-compiler":"^2.6.11"},"resolutions":{"@babel/runtime":"~7.17.9"},"browserslist":["Android >= 4","ios >= 8"],"uni-app":{"scripts":{}}}');
    },
    "93c6": function(e, t, n) {
        var r = n("6a5c2"), o = n("6747");
        e.exports = function(e, t, n, i) {
            return null == e ? [] : (o(t) || (t = null == t ? [] : [ t ]), o(n = i ? void 0 : n) || (n = null == n ? [] : [ n ]), 
            r(e, t, n));
        };
    },
    "93ed": function(e, t, n) {
        var r = n("4245");
        e.exports = function(e) {
            var t = r(this, e).delete(e);
            return this.size -= t ? 1 : 0, t;
        };
    },
    9441: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var o = function(e, t) {
            var n = [];
            return function e(t, n) {
                n && ("string" == typeof n || "number" == typeof n ? t.push(n) : Array.isArray(n) ? n.forEach(function(n) {
                    e(t, n);
                }) : "object" === r(n) && Object.keys(n).forEach(function(e) {
                    n[e] && t.push(e);
                }));
            }(n, t), function(e, t) {
                return e = "peace-" + e, (t = t.map(function(t) {
                    return e + "--" + t;
                })).unshift(e), t.join(" ");
            }(e, n);
        };
        t.default = o;
    },
    "950a": function(e, t, n) {
        var r = n("30c9");
        e.exports = function(e, t) {
            return function(n, o) {
                if (null == n) return n;
                if (!r(n)) return e(n, o);
                for (var i = n.length, a = t ? i : -1, s = Object(n); (t ? a-- : ++a < i) && !1 !== o(s[a], a, s); ) ;
                return n;
            };
        };
    },
    9520: function(e, t, n) {
        var r = n("3729"), o = n("1a8c");
        e.exports = function(e) {
            if (!o(e)) return !1;
            var t = r(e);
            return "[object Function]" == t || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t;
        };
    },
    9638: function(e, t) {
        e.exports = function(e, t) {
            return e === t || e != e && t != t;
        };
    },
    "966f": function(e, t, n) {
        var r = n("7e64"), o = n("c05f");
        e.exports = function(e, t, n, i) {
            var a = n.length, s = a, c = !i;
            if (null == e) return !s;
            for (e = Object(e); a--; ) {
                var u = n[a];
                if (c && u[2] ? u[1] !== e[u[0]] : !(u[0] in e)) return !1;
            }
            for (;++a < s; ) {
                var l = (u = n[a])[0], d = e[l], f = u[1];
                if (c && u[2]) {
                    if (void 0 === d && !(l in e)) return !1;
                } else {
                    var p = new r();
                    if (i) var m = i(d, f, l, e, t, p);
                    if (!(void 0 === m ? o(f, d, 3, i, p) : m)) return !1;
                }
            }
            return !0;
        };
    },
    "97d3": function(e, t, n) {
        var r = n("48a0"), o = n("30c9");
        e.exports = function(e, t) {
            var n = -1, i = o(e) ? Array(e.length) : [];
            return r(e, function(e, r, o) {
                i[++n] = t(e, r, o);
            }), i;
        };
    },
    "99cd": function(e, t) {
        e.exports = function(e) {
            return function(t, n, r) {
                for (var o = -1, i = Object(t), a = r(t), s = a.length; s--; ) {
                    var c = a[e ? s : ++o];
                    if (!1 === n(i[c], c, i)) break;
                }
                return t;
            };
        };
    },
    "99d3": function(e, t, n) {
        (function(e) {
            var r = n("585a"), o = t && !t.nodeType && t, i = o && "object" == _typeof3(e) && e && !e.nodeType && e, a = i && i.exports === o && r.process, s = function() {
                try {
                    return i && i.require && i.require("util").types || a && a.binding && a.binding("util");
                } catch (e) {}
            }();
            e.exports = s;
        }).call(this, n("62e4")(e));
    },
    "9aff": function(e, t, n) {
        var r = n("9638"), o = n("30c9"), i = n("c098"), a = n("1a8c");
        e.exports = function(e, t, n) {
            if (!a(n)) return !1;
            var s = _typeof3(t);
            return !!("number" == s ? o(n) && i(t, n.length) : "string" == s && t in n) && r(n[t], e);
        };
    },
    "9b02": function(e, t, n) {
        var r = n("656b");
        e.exports = function(e, t, n) {
            var o = null == e ? void 0 : r(e, t);
            return void 0 === o ? n : o;
        };
    },
    "9bd1": function(e, t, n) {
        var r = i(n("66fd")), o = i(n("6b52"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        r.default.use(o.default);
    },
    "9e2a": function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.cancelOrder = u, t.checkDrugAttr = m, t.confirmReceipt = l, t.createOrder = g, 
        t.default = void 0, t.drugStoreInfo = f, t.getDefaultAddress = p, t.getDrugBookList = y, 
        t.getDrugInstructions = b, t.getDrugOrderDetail = c, t.getDrugStoreInfo = h, t.getDrugbookinfo = v, 
        t.getExpressInfo = T, t.matchDrugStore = d, t.payment = _, t.preSfOrder = S;
        var r, o = a(n("211c")), i = a(n("e884"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function s(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e;
        }
        function c(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/detail";
            return o.default.post(t, e);
        }
        function u(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/CancelOrder";
            return o.default.post(t, e);
        }
        function l(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/ConfirmReceipt";
            return o.default.post(t, e);
        }
        function d(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/matchDrugStore";
            return o.default.post(t, e);
        }
        function f(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/drugStoreInfo";
            return o.default.post(t, e);
        }
        function p(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/Address/getDefaultAddress";
            return o.default.post(t, e);
        }
        function m(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/checkDrugAttr";
            return o.default.post(t, e);
        }
        function g(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/createOrder";
            return o.default.post(t, e);
        }
        function h(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/getDrugStoreInfo";
            return o.default.post(t, e);
        }
        function y(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/Purchasedrug/getDrugBookList";
            return o.default.get(t, {
                params: e
            });
        }
        function v(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/Purchasedrug/getDrugbookinfo";
            return o.default.get(t, {
                params: e
            });
        }
        function b(e) {
            var t = i.default.state.env.VUE_APP_DUR_API + "bizCore/drug/getInstructionsUrl";
            return o.default.get(t, {
                params: e
            });
        }
        function T(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/Purchasedrug/expressQuery";
            return o.default.post(t, e);
        }
        function _(e) {
            var t = i.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/payment";
            return o.default.post(t, e);
        }
        function S(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/v1/MedicineOrder/preSfOrder";
            return o.default.post(t, e);
        }
        var k = (s(r = {
            getDrugOrderDetail: c,
            cancelOrder: u,
            confirmReceipt: l
        }, "confirmReceipt", l), s(r, "matchDrugStore", d), s(r, "drugStoreInfo", f), s(r, "getDefaultAddress", p), 
        s(r, "checkDrugAttr", m), s(r, "createOrder", g), s(r, "getDrugStoreInfo", h), s(r, "getDrugBookList", y), 
        s(r, "getDrugbookinfo", v), s(r, "getDrugInstructions", b), s(r, "getExpressInfo", T), 
        s(r, "payment", _), s(r, "preSfOrder", S), r);
        t.default = k;
    },
    "9e69": function(e, t, n) {
        var r = n("2b3e").Symbol;
        e.exports = r;
    },
    a2be: function(e, t, n) {
        var r = n("d612"), o = n("42845"), i = n("c584");
        e.exports = function(e, t, n, a, s, c) {
            var u = 1 & n, l = e.length, d = t.length;
            if (l != d && !(u && d > l)) return !1;
            var f = c.get(e), p = c.get(t);
            if (f && p) return f == t && p == e;
            var m = -1, g = !0, h = 2 & n ? new r() : void 0;
            for (c.set(e, t), c.set(t, e); ++m < l; ) {
                var y = e[m], v = t[m];
                if (a) var b = u ? a(v, y, m, t, e, c) : a(y, v, m, e, t, c);
                if (void 0 !== b) {
                    if (b) continue;
                    g = !1;
                    break;
                }
                if (h) {
                    if (!o(t, function(e, t) {
                        if (!i(h, t) && (y === e || s(y, e, n, a, c))) return h.push(t);
                    })) {
                        g = !1;
                        break;
                    }
                } else if (y !== v && !s(y, v, n, a, c)) {
                    g = !1;
                    break;
                }
            }
            return c.delete(e), c.delete(t), g;
        };
    },
    a454: function(e, t, n) {
        var r = n("72f0"), o = n("3b4a"), i = n("cd9d"), a = o ? function(e, t) {
            return o(e, "toString", {
                configurable: !0,
                enumerable: !1,
                value: r(t),
                writable: !0
            });
        } : i;
        e.exports = a;
    },
    a524: function(e, t, n) {
        var r = n("4245");
        e.exports = function(e) {
            return r(this, e).has(e);
        };
    },
    a69e: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, n("6c87");
        var r = {
            namespaced: !0,
            state: {
                baseConfig: {
                    env: "",
                    operatorContact: "",
                    workContact: "",
                    timestamp: "",
                    isChaoJu: !1,
                    isBeiChen: !1
                },
                timeDifference: 0,
                isChooseEvent: !1,
                origin: {
                    scene: "",
                    path: "",
                    query: {},
                    shareTicket: "",
                    referrerInfo: {
                        appId: "",
                        extraData: {}
                    }
                },
                sceneMap: {
                    1000: {
                        scene: 1e3,
                        name: "其他",
                        code: "other",
                        des: "其他"
                    },
                    1001: {
                        scene: 1001,
                        name: "常用列表",
                        code: "commonList",
                        des: "发现栏小程序主入口，「最近使用」列表（基础库2.2.4版本起包含「我的小程序」列表）"
                    },
                    1005: {
                        scene: 1005,
                        name: "首页搜索",
                        code: "indexSearch",
                        des: "微信首页顶部搜索框的搜索结果页"
                    },
                    1006: {
                        scene: 1006,
                        name: "发现搜索",
                        code: "findSearch",
                        des: "发现栏小程序主入口搜索框的搜索结果页"
                    },
                    1007: {
                        scene: 1007,
                        name: "会话分享",
                        code: "sessionShare",
                        des: "单人聊天会话中的小程序消息卡片"
                    },
                    1008: {
                        scene: 1008,
                        name: "群分享",
                        code: "groupShare",
                        des: "群聊会话中的小程序消息卡片"
                    },
                    1017: {
                        scene: 1017,
                        name: "扫描体验小程序码",
                        code: "scanTestQrcode",
                        des: "前往小程序体验版的入口页"
                    },
                    1035: {
                        scene: 1035,
                        name: "公众号菜单",
                        code: "officialAccountMenu",
                        des: "公众号自定义菜单"
                    },
                    1037: {
                        scene: 1037,
                        name: "小程序跳转",
                        code: " jump",
                        des: "小程序打开小程序"
                    },
                    1043: {
                        scene: 1043,
                        name: "公众号模板消息",
                        code: "templateMsg",
                        des: "公众号模板消息"
                    },
                    1047: {
                        scene: 1047,
                        name: "扫描小程序码",
                        code: "scanQrcode",
                        des: "扫描小程序码"
                    },
                    1048: {
                        scene: 1048,
                        name: "长按识别",
                        code: "pushFind",
                        des: "长按图片识别小程序码"
                    },
                    1049: {
                        scene: 1049,
                        name: "相册小程序码",
                        code: "photoQrcode",
                        des: "扫描手机相册中选取的小程序码"
                    },
                    1053: {
                        scene: 1053,
                        name: "发现-扫一扫",
                        code: "findScan",
                        des: "搜一搜的结果页"
                    },
                    1145: {
                        scene: 1145,
                        name: "发现小程序",
                        code: "find",
                        des: "发现栏 - 发现小程序"
                    }
                }
            },
            getters: {},
            mutations: {
                setBaseConfig: function(e, t) {
                    e.baseConfig = t;
                },
                setTimeDifference: function(e, t) {
                    e.timeDifference = t;
                },
                setIsChooseEvent: function(e, t) {
                    e.isChooseEvent = t;
                },
                setOrigin: function(e, t) {
                    e.origin = t;
                }
            },
            actions: {}
        };
        t.default = r;
    },
    a6d6: function(e, t, n) {
        (function(e) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = s(n("c4b7")), o = s(n("df4d")), i = s(n("2964")), a = n("b786");
            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            function c(e, t) {
                var n = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var r = Object.getOwnPropertySymbols(e);
                    t && (r = r.filter(function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable;
                    })), n.push.apply(n, r);
                }
                return n;
            }
            function u(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? c(Object(n), !0).forEach(function(t) {
                        l(e, t, n[t]);
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : c(Object(n)).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                    });
                }
                return e;
            }
            function l(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n, e;
            }
            var d = function(e, t) {
                var n = {};
                return e.forEach(function(e) {
                    (0, a.isUndefined)(t[e]) || (n[e] = t[e]);
                }), n;
            };
            t.default = function(t) {
                return new Promise(function(n, a) {
                    var s, c = (0, r.default)((0, o.default)(t.baseURL, t.url), t.params), l = {
                        url: c,
                        header: t.header,
                        complete: function(e) {
                            t.fullPath = c, e.config = t;
                            try {
                                "string" == typeof e.data && (e.data = JSON.parse(e.data));
                            } catch (e) {}
                            (0, i.default)(n, a, e);
                        }
                    };
                    if ("UPLOAD" === t.method) {
                        delete l.header["content-type"], delete l.header["Content-Type"];
                        var f = {
                            filePath: t.filePath,
                            name: t.name
                        };
                        s = e.uploadFile(u(u(u({}, l), f), d([ "formData" ], t)));
                    } else if ("DOWNLOAD" === t.method) s = e.downloadFile(l); else {
                        s = e.request(u(u({}, l), d([ "data", "method", "timeout", "dataType", "responseType" ], t)));
                    }
                    t.getTask && t.getTask(s, t);
                });
            };
        }).call(this, n("543d").default);
    },
    a994: function(e, t, n) {
        var r = n("7d1f"), o = n("32f4"), i = n("ec69");
        e.exports = function(e) {
            return r(e, i, o);
        };
    },
    ab4b: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.appointment = p, t.cancel = s, t.default = void 0, t.getBillList = c, t.getOrderDetail = a, 
        t.getPatientBillOrde = u, t.getRecordDetail = d, t.getRecordList = l, t.nucleicCheckList = f;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/paymentDetail";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "ehospital/patient/medical/cancel";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/payment/getBillList";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/beichen/payment/submitOutPatientBillOrder";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/payment/getRecordList";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/payment/getRecordDetail";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/nucleic/nucleicCheckList";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/nucleic/appointment";
            return r.default.post(t, e);
        }
        var m = {
            getOrderDetail: a,
            cancel: s,
            getBillList: c,
            getRecordList: l,
            getPatientBillOrde: u,
            getRecordDetail: d,
            nucleicCheckList: f,
            appointment: p
        };
        t.default = m;
    },
    ab93: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.bindPrescription = l, t.default = void 0, t.getCaseDetail = u, t.getOtherMedicalAdviceByAdviceNo = f, 
        t.getPrescripPdf = c, t.getPrescriptionDetail = s, t.getPrescriptionValidity = d, 
        t.prescriptionList = a;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/getMyPrescripList";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/center/prescription/getDetail";
            return r.default.get(t, {
                params: e
            });
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "wap/v1/checklist/getPrescriptionImage";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/patient/getCaseInfo";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/patient/bindPrescription";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/order/getPrescriptionValidity";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/medicalAdvice/getOtherMedicalAdviceByAdviceNo";
            return r.default.post(t, e);
        }
        var p = {
            prescriptionList: a,
            getPrescriptionDetail: s,
            getPrescripPdf: c,
            getPrescriptionValidity: d,
            getCaseDetail: u,
            bindPrescription: l,
            getOtherMedicalAdviceByAdviceNo: f
        };
        t.default = p;
    },
    ac41: function(e, t) {
        e.exports = function(e) {
            var t = -1, n = Array(e.size);
            return e.forEach(function(e) {
                n[++t] = e;
            }), n;
        };
    },
    ae7b: function(e, t, n) {
        function r(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy-MM-dd";
            e instanceof Date || (e = new Date(e));
            var n = {
                "M+": e.getMonth() + 1,
                "d+": e.getDate(),
                "H+": e.getHours(),
                "m+": e.getMinutes(),
                "s+": e.getSeconds(),
                "q+": Math.floor((e.getMonth() + 3) / 3),
                S: e.getMilliseconds()
            };
            for (var r in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "").substr(4 - RegExp.$1.length))), 
            n) new RegExp("(" + r + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? n[r] : ("00" + n[r]).substr(("" + n[r]).length)));
            return t;
        }
        function o(e) {
            var t = new Date(e), n = new Date();
            if (function(e, t) {
                return e.getFullYear() == t.getFullYear();
            }(t, n)) {
                if (function(e, t) {
                    return e.getYear() == t.getYear() && e.getMonth() == t.getMonth() && e.getDate() == t.getDate();
                }(t, n)) return r(t, "HH:mm");
                if (function(e, t) {
                    return e.getFullYear() == t.getFullYear() && e.getMonth() == t.getMonth() && e.getDate() + 1 == t.getDate();
                }(t, n)) return "昨天 " + r(t, "HH:mm");
                if (function(e, t) {
                    return e.getFullYear() == t.getFullYear() && e.getMonth() == t.getMonth() && t.getDay() - e.getDay() < t.getDay() && t.getDate() - e.getDate() > 0 && t.getDate() - e.getDate() < 7;
                }(t, n)) {
                    return [ "周日", "周一", "周二", "周三", "周四", "周五", "周六" ][t.getDay()] + " " + r(t, "HH:mm");
                }
                return r(t, "MM-dd HH:mm");
            }
            return r(t, "yyyy-MM-dd HH:mm");
        }
        function i(e) {
            return {
                0: "星期日",
                1: "星期一",
                2: "星期二",
                3: "星期三",
                4: "星期四",
                5: "星期五",
                6: "星期六"
            }[new Date(parseInt(e.valueOf() || new Date().valueOf())).getUTCDay()];
        }
        function a(e) {
            return e ? new Date(e.replace(/\-/g, "/")) : "";
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.calcTime = o, t.default = void 0, t.formatDate = r, t.strToDate = a, t.timeToDay = i;
        var s = {
            formatDate: r,
            calcTime: o,
            timeToDay: i,
            strToDate: a
        };
        t.default = s;
    },
    b047: function(e, t) {
        e.exports = function(e) {
            return function(t) {
                return e(t);
            };
        };
    },
    b0f2: function b0f2(module, exports) {
        var _excluded = [ "operation_type", "code", "target" ], _excluded2 = [ "operation_type", "code", "target" ], _excluded3 = [ "loc_x", "loc_y", "loc_z" ], _excluded4 = [ "type" ], _excluded5 = [ "callback", "done" ], _excluded6 = [ "callback", "done" ];
        function _regeneratorRuntime() {
            _regeneratorRuntime = function() {
                return e;
            };
            var e = {}, t = Object.prototype, n = t.hasOwnProperty, r = "function" == typeof Symbol ? Symbol : {}, o = r.iterator || "@@iterator", i = r.asyncIterator || "@@asyncIterator", a = r.toStringTag || "@@toStringTag";
            function s(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t];
            }
            try {
                s({}, "");
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                s = function(e, t, n) {
                    return e[t] = n;
                };
            }
            function c(e, t, n, r) {
                var o = t && t.prototype instanceof d ? t : d, i = Object.create(o.prototype), a = new k(r || []);
                return i._invoke = function(e, t, n) {
                    var r = "suspendedStart";
                    return function(o, i) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw i;
                            return {
                                value: void 0,
                                done: !0
                            };
                        }
                        for (n.method = o, n.arg = i; ;) {
                            var a = n.delegate;
                            if (a) {
                                var s = T(a, n);
                                if (s) {
                                    if (s === l) continue;
                                    return s;
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                if ("suspendedStart" === r) throw r = "completed", n.arg;
                                n.dispatchException(n.arg);
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var c = u(e, t, n);
                            if ("normal" === c.type) {
                                if (r = n.done ? "completed" : "suspendedYield", c.arg === l) continue;
                                return {
                                    value: c.arg,
                                    done: n.done
                                };
                            }
                            "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                        }
                    };
                }(e, n, a), i;
            }
            function u(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        type: "throw",
                        arg: e
                    };
                }
            }
            e.wrap = c;
            var l = {};
            function d() {}
            function f() {}
            function p() {}
            var m = {};
            s(m, o, function() {
                return this;
            });
            var g = Object.getPrototypeOf, h = g && g(g(M([])));
            h && h !== t && n.call(h, o) && (m = h);
            var y = p.prototype = d.prototype = Object.create(m);
            function v(e) {
                [ "next", "throw", "return" ].forEach(function(t) {
                    s(e, t, function(e) {
                        return this._invoke(t, e);
                    });
                });
            }
            function b(e, t) {
                function r(o, i, a, s) {
                    var c = u(e[o], e, i);
                    if ("throw" !== c.type) {
                        var l = c.arg, d = l.value;
                        return d && "object" == _typeof(d) && n.call(d, "__await") ? t.resolve(d.__await).then(function(e) {
                            r("next", e, a, s);
                        }, function(e) {
                            r("throw", e, a, s);
                        }) : t.resolve(d).then(function(e) {
                            l.value = e, a(l);
                        }, function(e) {
                            return r("throw", e, a, s);
                        });
                    }
                    s(c.arg);
                }
                var o;
                this._invoke = function(e, n) {
                    function i() {
                        return new t(function(t, o) {
                            r(e, n, t, o);
                        });
                    }
                    return o = o ? o.then(i, i) : i();
                };
            }
            function T(e, t) {
                var n = e.iterator[t.method];
                if (void 0 === n) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, T(e, t), "throw" === t.method)) return l;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                    }
                    return l;
                }
                var r = u(n, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                l;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                t.arg = void 0), t.delegate = null, l) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                t.delegate = null, l);
            }
            function _(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                this.tryEntries.push(t);
            }
            function S(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t;
            }
            function k(e) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], e.forEach(_, this), this.reset(!0);
            }
            function M(e) {
                if (e) {
                    var t = e[o];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1, i = function t() {
                            for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t;
                        };
                        return i.next = i;
                    }
                }
                return {
                    next: P
                };
            }
            function P() {
                return {
                    value: void 0,
                    done: !0
                };
            }
            return f.prototype = p, s(y, "constructor", p), s(p, "constructor", f), f.displayName = s(p, a, "GeneratorFunction"), 
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === f || "GeneratorFunction" === (t.displayName || t.name));
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, p) : (e.__proto__ = p, s(e, a, "GeneratorFunction")), 
                e.prototype = Object.create(y), e;
            }, e.awrap = function(e) {
                return {
                    __await: e
                };
            }, v(b.prototype), s(b.prototype, i, function() {
                return this;
            }), e.AsyncIterator = b, e.async = function(t, n, r, o, i) {
                void 0 === i && (i = Promise);
                var a = new b(c(t, n, r, o), i);
                return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                    return e.done ? e.value : a.next();
                });
            }, v(y), s(y, a, "Generator"), s(y, o, function() {
                return this;
            }), s(y, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(), function n() {
                    for (;t.length; ) {
                        var r = t.pop();
                        if (r in e) return n.value = r, n.done = !1, n;
                    }
                    return n.done = !0, n;
                };
            }, e.values = M, k.prototype = {
                constructor: k,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                    this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(S), 
                    !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;
                    function r(n, r) {
                        return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                        !!r;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return r("end");
                        if (i.tryLoc <= this.prev) {
                            var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                            if (s && c) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            } else if (s) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            } else {
                                if (!c) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                    l) : this.complete(a);
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                    this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                    l;
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), S(n), l;
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                S(n);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, t, n) {
                    return this.delegate = {
                        iterator: M(e),
                        resultName: t,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = void 0), l;
                }
            }, e;
        }
        function asyncGeneratorStep(e, t, n, r, o, i, a) {
            try {
                var s = e[i](a), c = s.value;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                return void n(e);
            }
            s.done ? t(c) : Promise.resolve(c).then(r, o);
        }
        function _asyncToGenerator(e) {
            return function() {
                var t = this, n = arguments;
                return new Promise(function(r, o) {
                    var i = e.apply(t, n);
                    function a(e) {
                        asyncGeneratorStep(i, r, o, a, s, "next", e);
                    }
                    function s(e) {
                        asyncGeneratorStep(i, r, o, a, s, "throw", e);
                    }
                    a(void 0);
                });
            };
        }
        function _classCallCheck(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
        }
        function _defineProperties(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                Object.defineProperty(e, r.key, r);
            }
        }
        function _createClass(e, t, n) {
            return t && _defineProperties(e.prototype, t), n && _defineProperties(e, n), Object.defineProperty(e, "prototype", {
                writable: !1
            }), e;
        }
        function _slicedToArray(e, t) {
            return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest();
        }
        function _nonIterableRest() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _iterableToArrayLimit(e, t) {
            var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (null != n) {
                var r, o, i = [], a = !0, s = !1;
                try {
                    for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value), !t || i.length !== t); a = !0) ;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    s = !0, o = e;
                } finally {
                    try {
                        a || null == n.return || n.return();
                    } finally {
                        if (s) throw o;
                    }
                }
                return i;
            }
        }
        function _arrayWithHoles(e) {
            if (Array.isArray(e)) return e;
        }
        function _objectWithoutProperties(e, t) {
            if (null == e) return {};
            var n, r, o = _objectWithoutPropertiesLoose(e, t);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(e);
                for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n]);
            }
            return o;
        }
        function _objectWithoutPropertiesLoose(e, t) {
            if (null == e) return {};
            var n, r, o = {}, i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o;
        }
        function _toConsumableArray(e) {
            return _arrayWithoutHoles(e) || _iterableToArray(e) || _unsupportedIterableToArray(e) || _nonIterableSpread();
        }
        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _iterableToArray(e) {
            if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e);
        }
        function _arrayWithoutHoles(e) {
            if (Array.isArray(e)) return _arrayLikeToArray(e);
        }
        function ownKeys(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })), n.push.apply(n, r);
            }
            return n;
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(n), !0).forEach(function(t) {
                    _defineProperty(e, t, n[t]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                });
            }
            return e;
        }
        function _defineProperty(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e;
        }
        function _createForOfIteratorHelper(e, t) {
            var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
            if (!n) {
                if (Array.isArray(e) || (n = _unsupportedIterableToArray(e)) || t && e && "number" == typeof e.length) {
                    n && (e = n);
                    var r = 0, o = function() {};
                    return {
                        s: o,
                        n: function() {
                            return r >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[r++]
                            };
                        },
                        e: function(e) {
                            throw e;
                        },
                        f: o
                    };
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var i, a = !0, s = !1;
            return {
                s: function() {
                    n = n.call(e);
                },
                n: function() {
                    var e = n.next();
                    return a = e.done, e;
                },
                e: function(e) {
                    s = !0, i = e;
                },
                f: function() {
                    try {
                        a || null == n.return || n.return();
                    } finally {
                        if (s) throw i;
                    }
                }
            };
        }
        function _unsupportedIterableToArray(e, t) {
            if (e) {
                if ("string" == typeof e) return _arrayLikeToArray(e, t);
                var n = Object.prototype.toString.call(e).slice(8, -1);
                return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _arrayLikeToArray(e, t) : void 0;
            }
        }
        function _arrayLikeToArray(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
        }
        function _typeof(e) {
            return (_typeof = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        module.exports = function(e) {
            var t = {};
            function n(r) {
                if (t[r]) return t[r].exports;
                var o = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
            }
            return n.m = e, n.c = t, n.d = function(e, t, r) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                });
            }, n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(e, "__esModule", {
                    value: !0
                });
            }, n.t = function(e, t) {
                if (1 & t && (e = n(e)), 8 & t) return e;
                if (4 & t && "object" == _typeof(e) && e && e.__esModule) return e;
                var r = Object.create(null);
                if (n.r(r), Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function(t) {
                    return e[t];
                }.bind(null, o));
                return r;
            }, n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default;
                } : function() {
                    return e;
                };
                return n.d(t, "a", t), t;
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }, n.p = "", n(n.s = 107);
        }([ function(e, t, n) {
            var r = n(39), o = n(40);
            function i(e) {
                "object" == _typeof(e) ? (this.callFunc = e.callFunc || null, this.message = e.message || "UNKNOW ERROR") : this.message = e, 
                this.time = new Date(), this.timetag = +this.time;
            }
            n(59);
            var a, s, c = n(6), u = c.getGlobal(), l = /\s+/;
            c.deduplicate = function(e) {
                var t = [];
                return e.forEach(function(e) {
                    -1 === t.indexOf(e) && t.push(e);
                }), t;
            }, c.capFirstLetter = function(e) {
                return e ? (e = "" + e).slice(0, 1).toUpperCase() + e.slice(1) : "";
            }, c.guid = (a = function() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
            }, function() {
                return a() + a() + a() + a() + a() + a() + a() + a();
            }), c.extend = function(e, t, n) {
                for (var r in t) void 0 !== e[r] && !0 !== n || (e[r] = t[r]);
            }, c.filterObj = function(e, t) {
                var n = {};
                return c.isString(t) && (t = t.split(l)), t.forEach(function(t) {
                    e.hasOwnProperty(t) && (n[t] = e[t]);
                }), n;
            }, c.copy = function(e, t) {
                return t = t || {}, e ? (Object.keys(e).forEach(function(n) {
                    c.exist(e[n]) && (t[n] = e[n]);
                }), t) : t;
            }, c.copyWithNull = function(e, t) {
                return t = t || {}, e ? (Object.keys(e).forEach(function(n) {
                    (c.exist(e[n]) || c.isnull(e[n])) && (t[n] = e[n]);
                }), t) : t;
            }, c.findObjIndexInArray = function(e, t) {
                e = e || [];
                var n = t.keyPath || "id", r = -1;
                return e.some(function(e, i) {
                    if (o(e, n) === t.value) return r = i, !0;
                }), r;
            }, c.findObjInArray = function(e, t) {
                var n = c.findObjIndexInArray(e, t);
                return -1 === n ? null : e[n];
            }, c.mergeObjArray = function() {
                var e = [], t = [].slice.call(arguments, 0, -1), n = arguments[arguments.length - 1];
                c.isArray(n) && (t.push(n), n = {});
                var r, i = n.keyPath = n.keyPath || "id";
                for (n.sortPath = n.sortPath || i; !e.length && t.length; ) e = (e = t.shift() || []).slice(0);
                return t.forEach(function(t) {
                    t && t.forEach(function(t) {
                        -1 !== (r = c.findObjIndexInArray(e, {
                            keyPath: i,
                            value: o(t, i)
                        })) ? e[r] = c.merge({}, e[r], t) : e.push(t);
                    });
                }), n.notSort || (e = c.sortObjArray(e, n)), e;
            }, c.cutObjArray = function(e) {
                var t = e.slice(0), n = arguments.length, r = [].slice.call(arguments, 1, n - 1), i = arguments[n - 1];
                c.isObject(i) || (r.push(i), i = {});
                var a, s = i.keyPath = i.keyPath || "id";
                return r.forEach(function(e) {
                    c.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                        e && (i.value = o(e, s), -1 !== (a = c.findObjIndexInArray(t, i)) && t.splice(a, 1));
                    });
                }), t;
            }, c.sortObjArray = function(e, t) {
                var n = (t = t || {}).sortPath || "id";
                r.insensitive = !!t.insensitive;
                var i, a, s, u = !!t.desc;
                return s = c.isFunction(t.compare) ? t.compare : function(e, t) {
                    return i = o(e, n), a = o(t, n), u ? r(a, i) : r(i, a);
                }, e.sort(s);
            }, c.emptyFunc = function() {}, c.isEmptyFunc = function(e) {
                return e === c.emptyFunc;
            }, c.notEmptyFunc = function(e) {
                return e !== c.emptyFunc;
            }, c.splice = function(e, t, n) {
                return [].splice.call(e, t, n);
            }, c.reshape2d = function(e, t) {
                if (Array.isArray(e)) {
                    c.verifyParamType("type", t, "number", "util::reshape2d");
                    var n = e.length;
                    if (n <= t) return [ e ];
                    for (var r = Math.ceil(n / t), o = [], i = 0; i < r; i++) o.push(e.slice(i * t, (i + 1) * t));
                    return o;
                }
                return e;
            }, c.flatten2d = function(e) {
                if (Array.isArray(e)) {
                    var t = [];
                    return e.forEach(function(e) {
                        t = t.concat(e);
                    }), t;
                }
                return e;
            }, c.dropArrayDuplicates = function(e) {
                if (Array.isArray(e)) {
                    for (var t = {}, n = []; e.length > 0; ) t[e.shift()] = !0;
                    for (var r in t) !0 === t[r] && n.push(r);
                    return n;
                }
                return e;
            }, c.onError = function(e) {
                throw new i(e);
            }, c.verifyParamPresent = function(e, t, n, r) {
                n = n || "";
                var o = !1;
                switch (c.typeOf(t)) {
                  case "undefined":
                  case "null":
                    o = !0;
                    break;

                  case "string":
                    "" === t && (o = !0);
                    break;

                  case "StrStrMap":
                  case "object":
                    Object.keys(t).length || (o = !0);
                    break;

                  case "array":
                    t.length ? t.some(function(e) {
                        if (c.notexist(e)) return o = !0, !0;
                    }) : o = !0;
                }
                o && c.onParamAbsent(n + e, r);
            }, c.onParamAbsent = function(e, t) {
                c.onParamError("缺少参数 ".concat(e, ", 请确保参数不是 空字符串、空对象、空数组、null或undefined, 或数组的内容不是 null/undefined"), t);
            }, c.verifyParamAbsent = function(e, t, n, r) {
                n = n || "", void 0 !== t && c.onParamPresent(n + e, r);
            }, c.onParamPresent = function(e, t) {
                c.onParamError("多余的参数 " + e, t);
            }, c.verifyParamType = function(e, t, n, r) {
                var o = c.typeOf(t).toLowerCase();
                c.isArray(n) || (n = [ n ]);
                var i = !0;
                switch (-1 === (n = n.map(function(e) {
                    return e.toLowerCase();
                })).indexOf(o) && (i = !1), o) {
                  case "number":
                    isNaN(t) && (i = !1);
                    break;

                  case "string":
                    "numeric or numeric string" === n.join("") && (i = !!/^[0-9]+$/.test(t));
                }
                i || c.onParamInvalidType(e, n, "", r);
            }, c.onParamInvalidType = function(e, t, n, r) {
                n = n || "", t = c.isArray(t) ? (t = t.map(function(e) {
                    return '"' + e + '"';
                })).join(", ") : '"' + t + '"', c.onParamError('参数"' + n + e + '"类型错误, 合法的类型包括: [' + t + "]", r);
            }, c.verifyParamValid = function(e, t, n, r) {
                c.isArray(n) || (n = [ n ]), -1 === n.indexOf(t) && c.onParamInvalidValue(e, n, r);
            }, c.onParamInvalidValue = function(e, t, n) {
                c.isArray(t) || (t = [ t ]), t = t.map(function(e) {
                    return '"' + e + '"';
                }), c.isArray(t) && (t = t.join(", ")), c.onParamError("参数 ".concat(e, "值错误, 合法的值包括: [").concat(JSON.stringify(t), "]"), n);
            }, c.verifyParamMin = function(e, t, n, r) {
                t < n && c.onParamError("参数" + e + "的值不能小于" + n, r);
            }, c.verifyParamMax = function(e, t, n, r) {
                t > n && c.onParamError("参数" + e + "的值不能大于" + n, r);
            }, c.verifyArrayMax = function(e, t, n, r) {
                t.length > n && c.onParamError("参数" + e + "的长度不能大于" + n, r);
            }, c.verifyEmail = (s = /^\S+@\S+$/, function(e, t, n) {
                s.test(t) || c.onParamError("参数" + e + "邮箱格式错误, 合法格式必须包含@符号, @符号前后至少要各有一个字符", n);
            }), c.verifyTel = function() {
                var e = /^[+\-()\d]+$/;
                return function(t, n, r) {
                    e.test(n) || c.onParamError("参数" + t + "电话号码格式错误, 合法字符包括+、-、英文括号和数字", r);
                };
            }(), c.verifyBirth = function() {
                var e = /^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;
                return function(t, n, r) {
                    e.test(n) || c.onParamError("参数" + t + '生日格式错误, 合法为"yyyy-MM-dd"', r);
                };
            }(), c.onParamError = function(e, t) {
                c.onError({
                    message: e,
                    callFunc: t
                });
            }, c.verifyOptions = function(e, t, n, r, o) {
                if (e = e || {}, t && (c.isString(t) && (t = t.split(l)), c.isArray(t))) {
                    "boolean" != typeof n && (o = n || null, n = !0, r = "");
                    var i = n ? c.verifyParamPresent : c.verifyParamAbsent;
                    t.forEach(function(t) {
                        i.call(c, t, e[t], r, o);
                    });
                }
                return e;
            }, c.verifyParamAtLeastPresentOne = function(e, t, n) {
                t && (c.isString(t) && (t = t.split(l)), c.isArray(t) && (t.some(function(t) {
                    return c.exist(e[t]);
                }) || c.onParamError("以下参数[" + t.join(", ") + "]至少需要传入一个", n)));
            }, c.verifyParamPresentJustOne = function(e, t, n) {
                t && (c.isString(t) && (t = t.split(l)), c.isArray(t) && 1 !== t.reduce(function(t, n) {
                    return c.exist(e[n]) && t++, t;
                }, 0) && c.onParamError("以下参数[" + t.join(", ") + "]必须且只能传入一个", n));
            }, c.verifyBooleanWithDefault = function(e, t, n, r, o) {
                c.undef(n) && (n = !0), l.test(t) && (t = t.split(l)), c.isArray(t) ? t.forEach(function(t) {
                    c.verifyBooleanWithDefault(e, t, n, r, o);
                }) : void 0 === e[t] ? e[t] = n : c.isBoolean(e[t]) || c.onParamInvalidType(t, "boolean", r, o);
            }, c.verifyFileInput = function(e, t) {
                return c.verifyParamPresent("fileInput", e, "", t), c.isString(e) && ((e = "undefined" == typeof document ? void 0 : document.getElementById(e)) || c.onParamError("找不到要上传的文件对应的input, 请检查fileInput id " + e, t)), 
                e.tagName && "input" === e.tagName.toLowerCase() && "file" === e.type.toLowerCase() || c.onParamError("请提供正确的 fileInput, 必须为 file 类型的 input 节点 tagname:".concat(e.tagName, ", filetype:").concat(e.type), t), 
                e;
            }, c.verifyFileType = function(e, t) {
                c.verifyParamValid("type", e, c.validFileTypes, t);
            }, c.verifyCallback = function(e, t, n) {
                l.test(t) && (t = t.split(l)), c.isArray(t) ? t.forEach(function(t) {
                    c.verifyCallback(e, t, n);
                }) : e[t] ? c.isFunction(e[t]) || c.onParamInvalidType(t, "function", "", n) : e[t] = c.emptyFunc;
            }, c.verifyFileUploadCallback = function(e, t) {
                c.verifyCallback(e, "uploadprogress uploaddone uploaderror uploadcancel", t);
            }, c.validFileTypes = [ "image", "audio", "video", "file" ], c.validFileExts = {
                image: [ "bmp", "gif", "jpg", "jpeg", "jng", "png", "webp" ],
                audio: [ "mp3", "wav", "aac", "wma", "wmv", "amr", "mp2", "flac", "vorbis", "ac3" ],
                video: [ "mp4", "rm", "rmvb", "wmv", "avi", "mpg", "mpeg", "mov" ]
            }, c.filterFiles = function(e, t) {
                var n, r, o = "file" === (t = t.toLowerCase()), i = [];
                return [].forEach.call(e, function(e) {
                    o ? i.push(e) : (n = e.name.slice(e.name.lastIndexOf(".") + 1), (r = e.type.split("/"))[0] && r[1] && (r[0].toLowerCase() === t || -1 !== c.validFileExts[t].indexOf(n)) && i.push(e));
                }), i;
            };
            var d, f = c.supportFormData = c.notundef(u.FormData);
            c.getFileName = function(e) {
                return e = c.verifyFileInput(e), f ? e.files[0].name : e.value.slice(e.value.lastIndexOf("\\") + 1);
            }, c.getFileInfo = function() {
                var e = {
                    ppt: 1,
                    pptx: 2,
                    pdf: 3,
                    doc: 6,
                    docx: 7
                };
                return function(t) {
                    var n = {};
                    if (!(t = c.verifyFileInput(t)).files) return n;
                    var r = t.files[0];
                    return f && (n.name = r.name, n.size = r.size, n.type = r.name.match(/\.(\w+)$/), 
                    n.type = n.type && n.type[1].toLowerCase(), n.transcodeType = e[n.type] || 0), n;
                };
            }(), c.sizeText = (d = [ "B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "BB" ], 
            function(e) {
                var t, n = 0;
                do {
                    t = (e = Math.floor(100 * e) / 100) + d[n], e /= 1024, n++;
                } while (e > 1);
                return t;
            }), c.promises2cmds = function(e) {
                return e.map(function(e) {
                    return e.cmd;
                });
            }, c.objs2accounts = function(e) {
                return e.map(function(e) {
                    return e.account;
                });
            }, c.teams2ids = function(e) {
                return e.map(function(e) {
                    return e.teamId;
                });
            }, c.objs2ids = function(e) {
                return e.map(function(e) {
                    return e.id;
                });
            }, c.getMaxUpdateTime = function(e) {
                var t = e.map(function(e) {
                    return +e.updateTime;
                });
                return Math.max.apply(Math, t);
            }, c.genCheckUniqueFunc = function(e, t) {
                return e = e || "id", t = t || 1e3, function(t) {
                    this.uniqueSet = this.uniqueSet || {}, this.uniqueSet[e] = this.uniqueSet[e] || {};
                    var n = this.uniqueSet[e], r = t[e];
                    return !n[r] && (n[r] = !0, !0);
                };
            }, c.fillPropertyWithDefault = function(e, t, n) {
                return !!c.undef(e[t]) && (e[t] = n, !0);
            }, c.throttle = function(e, t, n, r) {
                var o, i, a = null, s = 0;
                n || (n = {});
                var c = function() {
                    s = !1 === n.leading ? 0 : new Date().getTime(), a = null, e.apply(o, i), a || (o = i = null);
                };
                return function() {
                    var u = new Date().getTime();
                    s || !1 !== n.leading || (s = u);
                    var l = t - (u - s);
                    return o = this, i = arguments, l <= 0 || l > t ? (clearTimeout(a), a = null, s = u, 
                    e.apply(o, i), a || (o = i = null)) : a || !1 === n.trailing ? a && r && r.apply(o, i) : (a = setTimeout(c, l), 
                    r && r.apply(o, i)), a;
                };
            }, c.get = function(e, t, n) {
                var r, o = e, i = _createForOfIteratorHelper(t.replace(/\[(\d+)\]/g, ".$1").split("."));
                try {
                    for (i.s(); !(r = i.n()).done; ) {
                        var a = r.value;
                        if (void 0 === (o = Object(o)[a])) return n;
                    }
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    i.e(e);
                } finally {
                    i.f();
                }
                return o;
            }, c.pickAsString = function(e, t) {
                return e ? t.filter(function(t) {
                    return void 0 !== e[t];
                }).map(function(t) {
                    return "".concat(t, "=").concat(e[t]);
                }).join(",") : "";
            }, c.omitAsString = function(e, t) {
                if (!e) return "";
                var n = {};
                return t.forEach(function(e) {
                    n[e] = !0;
                }), Object.keys(e).filter(function(e) {
                    return !n[e];
                }).map(function(t) {
                    return "".concat(t, "=").concat(e[t]);
                }).join(",");
            };
            var p = {
                session: function(e) {
                    var t = _objectSpread({}, e);
                    return [ "topCustom", "localCustom", "extra" ].forEach(function(e) {
                        t[e] && (t[e] = "***");
                    }), t.lastMsg && (t.lastMsg = {
                        idServer: t.lastMsg.idServer,
                        idClient: t.lastMsg.idClient
                    }), t;
                }
            };
            c.secureOutput = function(e, t) {
                Array.isArray(t) || (t = [ t ]);
                var n = p[e];
                return 1 === (t = t.map(function(e) {
                    return n(e);
                })).length ? t[0] : t;
            };
            var m = {
                string: function(e, t, n) {
                    var r = n.required, o = n.allowEmpty, i = e[t];
                    return !1 === r && void 0 === i || "string" == typeof i && !(!o && "" === i);
                },
                number: function(e, t, n) {
                    var r = n.required, o = n.min, i = e[t];
                    return !1 === r && void 0 === i || "number" == typeof i && !(i < o);
                },
                enum: function(e, t, n) {
                    var r = n.required, o = n.values, i = e[t];
                    return !1 === r && void 0 === i || o.indexOf(i) > -1;
                },
                array: function(e, t, n) {
                    var r = n.required, o = e[t];
                    return !1 === r && void 0 === o || !!Array.isArray(o);
                }
            };
            c.validate = function(e, t, n) {
                var r = {};
                return Object.keys(e).forEach(function(o) {
                    var i = e[o].type, a = m[i];
                    a && !a(t, o, e[o]) ? c.onError({
                        message: "Error in parameter verification, ".concat(o, " expected value is ").concat(JSON.stringify(e[o])),
                        callFunc: n
                    }) : r[o] = t[o];
                }), r;
            }, c.asyncPool = function(e, t, n) {
                if ("number" != typeof e || "function" != typeof n || !t || !t.length) return Promise.resolve();
                var r = 0, o = [], i = [];
                return function a() {
                    if (r === t.length) return Promise.resolve();
                    var s = t[r++], c = Promise.resolve().then(function() {
                        return n(s, t);
                    });
                    o.push(c);
                    var u = Promise.resolve();
                    if (e <= t.length) {
                        var l = c.then(function() {
                            return i.splice(i.indexOf(l), 1);
                        });
                        i.push(l), i.length >= e && (u = Promise.race(i));
                    }
                    return u.then(function() {
                        return a();
                    });
                }().then(function() {
                    return Promise.all(o);
                });
            }, c.getIdArray = function(e) {
                if (!e || "string" != typeof e) throw new Error("id type error");
                var t = e.indexOf("-");
                if (t < 0 || t === e.length - 1) throw new Error("id format error");
                return [ e.slice(0, t), e.slice(t + 1) ];
            }, e.exports = c;
        }, function(e, t, n) {
            n(0);
            var r = !1;
            try {
                "function" == typeof localStorage.setItem && "function" == typeof localStorage.getItem && (localStorage.setItem("nim_localstorage_exist_test", "1"), 
                r = "1" === localStorage.getItem("nim_localstorage_exist_test"), localStorage.removeItem("nim_localstorage_exist_test"));
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                r = !1;
            }
            var o = {
                nodeEnv: "production",
                info: {
                    hash: "3f438a27d610a873eb0849d07ca3dfa26a209f1d",
                    shortHash: "3f438a2",
                    version: "9.0.1",
                    sdkVersion: "90001",
                    sdkHumanVersion: "9.0.1",
                    protocolVersion: 1
                },
                lbsUrl: "https://lbs.netease.im/lbs/webconf.jsp",
                roomserver: "roomserver.netease.im",
                connectTimeout: 8e3,
                xhrTimeout: 8e3,
                socketTimeout: 8e3,
                reconnectionDelay: 1600,
                reconnectionDelayMax: 8e3,
                reconnectionJitter: .01,
                reconnectiontimer: null,
                heartbeatInterval: 3e4,
                cmdTimeout: 8e3,
                hbCmdTimeout: 5e3,
                defaultReportUrl: "https://dr.netease.im/1.gif",
                isWeixinApp: !1,
                isNodejs: !1,
                isRN: !1,
                ipVersion: 0,
                PUSHTOKEN: "",
                PUSHCONFIG: {},
                CLIENTTYPE: 16,
                PushPermissionAsked: !1,
                iosPushConfig: null,
                androidPushConfig: null,
                netDetectAddr: "https://roomserver-dev.netease.im/v1/sdk/detect/local",
                optionDefaultLinkUrl: "",
                defaultLinkUrl: "weblink.netease.im",
                ipv6DefaultLinkUrl: "weblink.netease.im",
                optionIpv6DefaultLinkUrl: "",
                wxDefaultLinkUrl: "wlnimsc0.netease.im",
                serverNosConfig: r ? {
                    cdnDomain: localStorage.getItem("nim_cdn_domain") || "",
                    objectPrefix: localStorage.getItem("nim_object_prefix") || ""
                } : {},
                hasLocalStorage: r,
                getDefaultLinkUrl: function(e) {
                    var t, n;
                    1 === o.ipVersion ? (t = o.optionIpv6DefaultLinkUrl, n = o.ipv6DefaultLinkUrl) : (t = o.optionDefaultLinkUrl, 
                    n = o.defaultLinkUrl);
                    var r = t || (o.isWeixinApp ? o.wxDefaultLinkUrl : n);
                    if (!r) return !1;
                    var i = e ? "https" : "http", a = e ? "443" : "80", s = r;
                    return -1 === r.indexOf("http") && (s = i + "://" + s), -1 === r.indexOf(":") && (s = s + ":" + a), 
                    s;
                },
                ipProbeAddr: {
                    ipv4: "https://detect4.netease.im/test/",
                    ipv6: "https://detect6.netease.im/test/"
                },
                formatSocketUrl: function(e) {
                    var t = e.url, n = e.secure ? "https" : "http";
                    return -1 === t.indexOf("http") ? n + "://" + t : t;
                },
                uploadUrl: "https://nos.netease.com",
                chunkUploadUrl: "https://wanproxy-web.127.net",
                commonMaxSize: 104857600,
                chunkSize: 4194304,
                chunkMaxSize: 4194304e4,
                replaceUrl: "https://{bucket}-nosdn.netease.im/{object}",
                downloadHost: "nos.netease.com",
                downloadHostList: [ "nos.netease.com" ],
                downloadUrl: "https://{bucket}-nosdn.netease.im/{object}",
                nosCdnEnable: !0,
                httpsEnabled: !1,
                threshold: 0,
                nosLbsUrls: [ "http://wanproxy.127.net/lbs", "http://wanproxy-bj.127.net/lbs", "http://wanproxy-hz.127.net/lbs", "http://wanproxy-oversea.127.net/lbs" ],
                genUploadUrl: function(e) {
                    return o.uploadUrl + "/" + e;
                },
                genChunkUploadUrl: function(e) {
                    return o.chunkUploadUrl ? o.chunkUploadUrl + "/" + e.bucket + "/" + e.objectName : "";
                },
                genDownloadUrl: function(e, t, n) {
                    var r = e.bucket, i = (e.tag, e.expireSec), a = +new Date(), s = i ? "&survivalTime=" + i : "";
                    if (n) return "https://".concat(n, "/").concat(t, "?createTime=").concat(a).concat(s);
                    var c = "".concat(o.replaceUrl, "?createTime=").concat(a).concat(s);
                    return (c = o.genNosProtocolUrl(c)).replace("{bucket}", r).replace("{object}", t);
                },
                genFileUrl: function(e) {
                    var t = e.bucket, n = e.objectName;
                    return o.genNosProtocolUrl(o.replaceUrl).replace("{bucket}", t).replace("{object}", n);
                },
                genNosProtocolUrl: function(e) {
                    return /^http/.test(e) ? o.httpsEnabled && 0 !== e.indexOf("https://") && (e = e.replace("http", "https")) : e = o.httpsEnabled ? "https://" + e : "http://" + e, 
                    e;
                }
            };
            e.exports = o;
        }, function(e, t, n) {
            var r = n(8), o = n(12), i = n(1), a = n(0), s = a.undef, c = n(52), u = n(19), l = n(21), d = n(120);
            function f(e) {
                var t = this;
                a.verifyOptions(e, "appKey account token", "protocol::IMProtocol"), a.verifyCallback(e, [ "onconnect", "onerror", "onwillreconnect", "ondisconnect", "onloginportschange", "onmyinfo", "onblacklist", "onmutelist", "onfriends", "onusers", "onrobots", "onteams", "onSuperTeams", "onsessions", "onSessionsWithMoreRoaming", "onStickTopSessions", "onroamingmsgs", "onofflinemsgs", "onofflinefiltermsgs", "onroamingsysmsgs", "onofflinesysmsgs", "onofflinefiltersysmsgs", "onofflinecustomsysmsgs", "onofflinefiltercustomsysmsgs", "onbroadcastmsg", "onbroadcastmsgs", "onsysmsgunread", "onsyncdone", "onteammembers", "onsyncteammembersdone", "onmsg", "onsysmsg", "oncustomsysmsg", "onupdatemyinfo", "onupdateuser", "onSyncUpdateServerSession", "onUpdateSuperTeamMember", "onCreateSuperTeam", "onUpdateSuperTeam", "onAddSuperTeamMembers", "onRemoveSuperTeamMembers", "onUpdateSuperTeamManagers", "onDismissSuperTeam", "onTransferSuperTeam", "onUpdateSuperTeamMembersMute", "onupdateteammember", "onCreateTeam", "onUpdateTeam", "onAddTeamMembers", "onRemoveTeamMembers", "onUpdateTeamManagers", "onDismissTeam", "onTransferTeam", "onUpdateTeamMembersMute", "onTeamMsgReceipt", "onupdatesession", "onQuickComment", "onDeleteQuickComment", "onPinMsgChange", "onupdatesysmsgunread", "onupdatesysmsg", "onsynccreateteam", "onsyncsupercreateteam", "onsyncmarkinblacklist", "onsyncmarkinmutelist", "onsyncfriendaction", "shouldIgnoreNotification", "shouldIgnoreMsg", "onDeleteMsgSelf", "shouldCountNotifyUnread", "onPushNotificationMultiportConfig", "onPushNotificationMultiportConfigUpdate", "onpushevents" ], "protocol::IMProtocol"), 
                t.db = e.api.db = new r({
                    logger: e.logger,
                    notifyError: function(e) {
                        t.notifyError && t.notifyError("DB error", e);
                    }
                }), o.call(t, e);
            }
            var p = o.fn, m = f.fn = f.prototype = Object.create(p);
            m.init = function() {
                p.init.call(this), u.IM.setProtocol(this), this.parser = u.IM, this.sendCmd.bind(this), 
                this.socketUrls = [], this.syncing = !0, this.hasSynced = !1, this.hasSyncedTeamMembers = !1, 
                this.syncPromiseArray = [], this.syncResult = {}, this.syncTeamMembersPromiseArray = [], 
                this.syncSuperTeamMembersPromiseArray = [], this.syncTeamMembersResult = {}, this.timetags = {}, 
                this.superTeamMembersData = {}, this.saveAck = {}, this.sysMsgUnread = l.completeUnread({}), 
                this.resetUnsettledMsgs(), this.resetUnsettledSysMsgs(), this.msgPromise = Promise.resolve(), 
                this.sysMsgPromise = Promise.resolve(), this.msgDelayArr = [], this.msgDelayTimer = null, 
                this.msgStatEnable = !1, this.nosCdnHostTimer = null, this.relativeServerTime = 0, 
                this.sessionSet = {}, this.msgReceiptTasks = {}, this.userSet = {}, this.pushNotificationMultiportConfig = c.getDefaultConfig(), 
                this.msgAckBufferManager = new d({
                    processFn: this.handleMsgsAck.bind(this),
                    throttleTime: 500
                });
            }, m.reset = function() {
                p.reset.call(this);
                var e = this.options;
                this.db.reset(e.db), s(e.lbsUrl) && (e.lbsUrl = i.lbsUrl), s(e.thumbnailToStatic) && (e.thumbnailToStatic = !0), 
                this.autoconnect = !!e.autoconnect, this.resetAutoMarkRead();
            }, m.resetAutoMarkRead = function() {
                var e = this.options;
                a.verifyBooleanWithDefault(e, "autoMarkRead", !0, "", "protocol::resetAutoMarkRead");
            }, m.resetUnsettledMsgs = function() {
                this.unhandledMsgs = [], this.unupdatedMsgs = [];
            }, m.resetUnsettledSysMsgs = function() {
                this.unhandledSysMsgs = [], this.unupdatedSysMsgs = [];
            }, m.packetFromSync = function(e) {
                return !e.obj || !!e.obj.sync;
            }, e.exports = f, n(121), n(122), n(123), n(124), n(126), n(127), n(128), n(129), 
            n(130), n(131), n(132), n(133), n(134), n(135), n(136), n(137), n(138), n(139), 
            n(140), n(141), n(142);
        }, function(e, t, n) {
            var r = n(7), o = n(2), i = n(1), a = n(143), s = n(19).IM;
            function c(e) {
                return this.subType = "im", this.nosScene = e.nosScene || "im", this.nosSurvivalTime = e.nosSurvivalTime, 
                e.Protocol = o, e.Message = a, e.constructor = c, this.init(e);
            }
            c.Protocol = o, c.parser = s, c.use = r.use, c.getInstance = r.getInstance, c.rmAllInstances = r.rmAllInstances, 
            c.genInstanceName = function(e) {
                return "NIM-account-" + e.account;
            };
            var u = c.fn = c.prototype = Object.create(r.prototype);
            c.info = u.info = i.info, e.exports = c, n(154), n(155), n(156), n(157), n(158), 
            n(159), n(160), n(161), n(162), n(163), n(164), n(165), n(166), n(167), n(168), 
            n(169), n(170), n(171), n(172), n(175), n(176);
        }, function(e, t) {
            function n(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                this.message = e || n.message || "", "object" == _typeof(t) ? (this.event = t, this.code = "Other_Error") : void 0 !== t && (this.code = t), 
                this.timetag = +new Date(), void 0 !== n && (this.event = n), this.event && (this.callFunc = this.event.callFunc || null, 
                delete this.event.callFunc);
            }
            n.prototype = Object.create(Error.prototype), n.prototype.name = "NIMError";
            var r = {
                201: "客户端版本不对, 需升级sdk",
                302: "用户名或密码错误, 请检查appKey和token是否有效, account和token是否匹配",
                403: "非法操作或没有权限",
                404: "对象(用户/群/聊天室)不存在",
                405: "参数长度过长",
                408: "客户端请求超时",
                414: "参数错误",
                415: "服务不可用/没有聊天室服务器可分配",
                416: "频率控制",
                417: "重复操作",
                422: "帐号被禁用",
                500: "服务器内部错误",
                501: "数据库操作失败",
                503: "服务器繁忙",
                508: "删除有效期过了",
                509: "已失效",
                7101: "被拉黑",
                700: "批量操作部分失败",
                801: "群人数达到上限",
                802: "没有权限",
                803: "群不存在或未发生变化",
                804: "用户不在群里面",
                805: "群类型不匹配",
                806: "创建群数量达到限制",
                807: "群成员状态不对",
                809: "已经在群里",
                811: "强推列表中帐号数量超限",
                812: "群被禁言",
                813: "因群数量限制，部分拉人成功",
                814: "禁止使用群组消息已读服务",
                815: "群管理员人数上限",
                816: "批量操作部分失败",
                997: "协议已失效",
                998: "解包错误",
                999: "打包错误",
                9102: "通道失效",
                9103: "已经在其他端接听/拒绝过这通电话",
                11001: "对方离线, 通话不可送达",
                13002: "聊天室状态异常",
                13003: "在黑名单中",
                13004: "在禁言名单中",
                13006: "聊天室处于整体禁言状态,只有管理员能发言",
                Connect_Failed: "无法建立连接, 请确保能 ping/telnet 到云信服务器; 如果是IE8/9, 请确保项目部署在 HTTPS 环境下",
                Error_Internet_Disconnected: "网断了",
                Error_Connection_is_not_Established: "连接未建立",
                Error_Connection_Socket_State_not_Match: "socket状态不对",
                Error_Timeout: "超时",
                Param_Error: "参数错误",
                No_File_Selected: "请选择文件",
                Wrong_File_Type: "文件类型错误",
                File_Too_Large: "文件过大",
                Cross_Origin_Iframe: "不能获取跨域Iframe的内容",
                Not_Support: "不支持",
                NO_DB: "无数据库",
                DB: "数据库错误",
                Still_In_Team: "还在群里",
                Session_Exist: "会话已存在",
                Session_Not_Exist: "会话不存在",
                Error_Unknown: "未知错误",
                Operation_Canceled: "操作取消"
            };
            [ 200, 406, 808, 810 ].forEach(function(e) {
                r[e] = null;
            }), n.genError = function(e) {
                var t = r[e];
                return void 0 === t && (t = "操作失败"), null === t ? null : new n(t, e);
            }, n.multiInstance = function(e) {
                return new n("不允许初始化多个实例", "Not_Allow_Multi_Instance", e);
            }, n.newNetworkError = function(e) {
                var t = "Error_Internet_Disconnected";
                return new n(r[t], t, e);
            }, n.newConnectError = function(e) {
                var t = "Connect_Failed";
                return new n(r[t] || null, t, e);
            }, n.newConnectionError = function(e) {
                var t = "Error_Connection_is_not_Established";
                return new n(r[t], t, e);
            }, n.newSocketStateError = function(e) {
                var t = "Error_Connection_Socket_State_not_Match";
                return new n(r[t], t, e);
            }, n.newTimeoutError = function(e) {
                var t = "Error_Timeout";
                return new n(r[t], t, e);
            }, n.newFrequencyControlError = function(e) {
                var t = new n(r[416], 416, e);
                return t.from = "local", t;
            }, n.newParamError = function(e, t) {
                return new n(e || r.Param_Error, "Param_Error", t);
            }, n.newNoFileError = function(e, t) {
                var o = "No_File_Selected";
                return new n(e || r[o], o, t);
            }, n.newWrongFileTypeError = function(e, t) {
                var o = "Wrong_File_Type";
                return new n(e || r[o], o, t);
            }, n.newFileTooLargeError = function(e, t) {
                var o = "File_Too_Large";
                return new n(e || r[o], o, t);
            }, n.newCORSIframeError = function(e) {
                var t = "Cross_Origin_Iframe";
                return new n(r[t], t, e);
            }, n.newSupportError = function(e, t, r) {
                return new n("不支持" + e, "Not_Support_" + t, r);
            }, n.newSupportDBError = function(e) {
                return n.newSupportError("数据库", "DB", e);
            }, n.noDBError = function(e) {
                return new n(r.NO_DB, "NO_DB", e);
            }, n.newDBError = function(e) {
                return new n(r.DB, "DB", e);
            }, n.newUnknownError = function(e) {
                var t = "Error_Unknown";
                return new n(r[t], t, e);
            }, n.stillInTeamError = function(e) {
                var t = "Still_In_Team";
                return new n(r[t], t, e);
            }, n.sessionExist = function(e) {
                var t = "Session_Exist";
                return new n(r[t], t, e);
            }, n.sessionNotExist = function(e) {
                var t = "Session_Not_Exist";
                return new n(r[t], t, e);
            }, n.cancel = function(e) {
                var t = "Operation_Canceled";
                return new n(r[t], t, e);
            }, n.customError = function(e, t) {
                e = e || "Other_Error";
                var o = "";
                return (t = t || {}).message || (o = r[e] || e), "object" != _typeof(e) ? new n(o, e, t) : new n(o, "Other_Error", void 0 === t ? e : t);
            }, e.exports = n;
        }, function(e, t, n) {
            var r = n(0), o = {
                init: function() {
                    o.deviceId = r.guid();
                }
            };
            o.init(), o.clientTypeMap = {
                1: "Android",
                2: "iOS",
                4: "PC",
                8: "WindowsPhone",
                16: "Web",
                32: "Server",
                64: "Mac"
            }, o.db = {
                open: function() {}
            }, o.rnfs = null, e.exports = o;
        }, function(e, t, n) {
            (function(t) {
                function n() {
                    return "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {};
                }
                function r(e, t) {
                    t = t || 2;
                    for (var n = "" + e; n.length < t; ) n = "0" + n;
                    return n;
                }
                function o(e) {
                    return "" + e.getFullYear();
                }
                function i(e) {
                    return r(e.getMonth() + 1);
                }
                function a(e) {
                    return r(e.getDate());
                }
                function s(e) {
                    return r(e.getHours());
                }
                function c(e) {
                    return r(e.getMinutes());
                }
                function u(e) {
                    return r(e.getSeconds());
                }
                function l(e) {
                    return r(e.getMilliseconds(), 3);
                }
                var d, f, p = (d = /yyyy|MM|dd|hh|mm|ss|SSS/g, f = {
                    yyyy: o,
                    MM: i,
                    dd: a,
                    hh: s,
                    mm: c,
                    ss: u,
                    SSS: l
                }, function(e, t) {
                    return e = new Date(e), isNaN(+e) ? "invalid date" : (t = t || "yyyy-MM-dd").replace(d, function(t) {
                        return f[t](e);
                    });
                });
                function m(e) {
                    return Object.prototype.toString.call(e).slice(8, -1);
                }
                function g(e) {
                    return m(e).toLowerCase();
                }
                function h(e) {
                    return "string" === g(e);
                }
                function y(e) {
                    return "number" === g(e);
                }
                function v(e) {
                    return "array" === g(e);
                }
                function b(e) {
                    return "function" == typeof e;
                }
                function T(e) {
                    return "date" === g(e);
                }
                function _(e) {
                    return null === e;
                }
                function S(e) {
                    return null !== e;
                }
                function k(e) {
                    return void 0 === e;
                }
                function M(e) {
                    return void 0 !== e;
                }
                function P(e) {
                    return M(e) && S(e);
                }
                function A(e) {
                    return k(e) || _(e);
                }
                function w(e) {
                    return P(e) && "object" === g(e);
                }
                var O = function(e, t, n) {
                    e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n);
                }, E = O, I = function(e, t, n) {
                    e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n);
                }, x = I;
                function C() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}, n = arguments.length > 2 ? arguments[2] : void 0;
                    for (var r in e) e.hasOwnProperty(r) && t.call(n, r, e[r]);
                }
                function R(e, t) {
                    C(t, function(t, n) {
                        e[t] = n;
                    });
                }
                var j = function() {
                    var e = 0;
                    return function() {
                        return "" + e++;
                    };
                }();
                function N(e) {
                    return h(e) && 0 === e.indexOf("{") && e.lastIndexOf("}") === e.length - 1;
                }
                function L(e, t, n) {
                    if (!e) return "";
                    var r = [];
                    return C(e, function(e, t) {
                        b(t) || (T(t) ? t = t.getTime() : v(t) ? t = t.join(",") : w(t) && (t = JSON.stringify(t)), 
                        n && (t = encodeURIComponent(t)), r.push(encodeURIComponent(e) + "=" + t));
                    }), r.join(t || ",");
                }
                var U = function() {
                    var e = /^([\w]+?:\/\/.*?(?=\/|$))/i;
                    return function(t) {
                        return e.test(t || "") ? RegExp.$1.toLowerCase() : "";
                    };
                }();
                function D(e) {
                    var t = n();
                    return e.tagName && "INPUT" === e.tagName.toUpperCase() || t.Blob && e instanceof t.Blob;
                }
                e.exports = {
                    o: {},
                    emptyObj: {},
                    f: function() {},
                    emptyFunc: function() {},
                    regBlank: /\s+/gi,
                    regWhiteSpace: /\s+/gi,
                    getGlobal: n,
                    detectCSSFeature: function(e) {
                        var t = !1, n = "Webkit Moz ms O".split(" ");
                        if ("undefined" != typeof document) {
                            var r = document.createElement("div"), o = null;
                            if (e = e.toLowerCase(), void 0 !== r.style[e] && (t = !0), !1 === t) {
                                o = e.charAt(0).toUpperCase() + e.substr(1);
                                for (var i = 0; i < n.length; i++) if (void 0 !== r.style[n[i] + o]) {
                                    t = !0;
                                    break;
                                }
                            }
                            return t;
                        }
                    },
                    fix: r,
                    getYearStr: o,
                    getMonthStr: i,
                    getDayStr: a,
                    getHourStr: s,
                    getMinuteStr: c,
                    getSecondStr: u,
                    getMillisecondStr: l,
                    format: p,
                    dateFromDateTimeLocal: function(e) {
                        return e = "" + e, new Date(e.replace(/-/g, "/").replace("T", " "));
                    },
                    getClass: m,
                    typeOf: g,
                    isString: h,
                    isNumber: y,
                    isInt: function(e) {
                        return y(e) && e % 1 == 0;
                    },
                    isBoolean: function(e) {
                        return "boolean" === g(e);
                    },
                    isArray: v,
                    isFunction: b,
                    isDate: T,
                    isRegExp: function(e) {
                        return "regexp" === g(e);
                    },
                    isError: function(e) {
                        return "error" === g(e);
                    },
                    isnull: _,
                    notnull: S,
                    undef: k,
                    notundef: M,
                    exist: P,
                    notexist: A,
                    isObject: w,
                    isEmpty: function(e) {
                        return A(e) || (h(e) || v(e)) && 0 === e.length;
                    },
                    containsNode: function(e, t) {
                        if (e === t) return !0;
                        for (;t.parentNode; ) {
                            if (t.parentNode === e) return !0;
                            t = t.parentNode;
                        }
                        return !1;
                    },
                    calcHeight: function(e) {
                        var t = e.parentNode || ("undefined" == typeof document ? null : document.body);
                        if (!t) return 0;
                        (e = e.cloneNode(!0)).style.display = "block", e.style.opacity = 0, e.style.height = "auto", 
                        t.appendChild(e);
                        var n = e.offsetHeight;
                        return t.removeChild(e), n;
                    },
                    remove: function(e) {
                        e.parentNode && e.parentNode.removeChild(e);
                    },
                    dataset: function(e, t, n) {
                        if (!P(n)) return e.getAttribute("data-" + t);
                        e.setAttribute("data-" + t, n);
                    },
                    addEventListener: O,
                    on: E,
                    removeEventListener: I,
                    off: x,
                    target: function(e) {
                        return e.target || e.srcElement;
                    },
                    createIframe: function(e) {
                        if ("undefined" != typeof document) {
                            var t;
                            if ((e = e || {}).name) try {
                                (t = document.createElement('<iframe name="' + e.name + '"></iframe>')).frameBorder = 0;
                            } catch (n) {
                                n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                                (t = document.createElement("iframe")).name = e.name;
                            } else t = document.createElement("iframe");
                            e.visible || (t.style.display = "none"), b(e.onload) && E(t, "load", function n(r) {
                                t.src && (e.multi || x(t, "load", n), e.onload(r));
                            }), (e.parent || document.body).appendChild(t);
                            var n = e.src || "about:blank";
                            return setTimeout(function() {
                                t.src = n;
                            }, 0), t;
                        }
                    },
                    html2node: function(e) {
                        if ("undefined" != typeof document) {
                            var t = document.createElement("div");
                            t.innerHTML = e;
                            var n, r, o = [];
                            if (t.children) for (n = 0, r = t.children.length; n < r; n++) o.push(t.children[n]); else for (n = 0, 
                            r = t.childNodes.length; n < r; n++) {
                                var i = t.childNodes[n];
                                1 === i.nodeType && o.push(i);
                            }
                            return o.length > 1 ? t : o[0];
                        }
                    },
                    scrollTop: function(e) {
                        return "undefined" != typeof document && P(e) && (document.documentElement.scrollTop = document.body.scrollTop = e), 
                        window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
                    },
                    forOwn: C,
                    mixin: R,
                    uniqueID: j,
                    isJSON: N,
                    parseJSON: function e(t) {
                        try {
                            N(t) && (t = JSON.parse(t)), w(t) && C(t, function(n, r) {
                                switch (g(r)) {
                                  case "string":
                                  case "object":
                                    t[n] = e(r);
                                }
                            });
                        } catch (e) {}
                        return t;
                    },
                    simpleClone: function(e) {
                        var t = [], n = JSON.stringify(e, function(e, n) {
                            if ("object" == _typeof(n) && null !== n) {
                                if (-1 !== t.indexOf(n)) return;
                                t.push(n);
                            }
                            return n;
                        });
                        return JSON.parse(n);
                    },
                    merge: function() {
                        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                        return n.forEach(function(t) {
                            R(e, t);
                        }), e;
                    },
                    fillUndef: function(e, t) {
                        return C(t, function(t, n) {
                            k(e[t]) && (e[t] = n);
                        }), e;
                    },
                    checkWithDefault: function(e, t, n) {
                        var r = e[t] || e[t.toLowerCase()];
                        return A(r) && (r = n, e[t] = r), r;
                    },
                    fetch: function(e, t) {
                        return C(e, function(n, r) {
                            P(t[n]) && (e[n] = t[n]);
                        }), e;
                    },
                    string2object: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ",", n = {};
                        return e.split(t).forEach(function(e) {
                            var t = e.split("="), r = t.shift();
                            r && (n[decodeURIComponent(r)] = decodeURIComponent(t.join("=")));
                        }), n;
                    },
                    object2string: L,
                    genUrlSep: function(e) {
                        return e.indexOf("?") < 0 ? "?" : "&";
                    },
                    object2query: function(e) {
                        return L(e, "&", !0);
                    },
                    url2origin: U,
                    isFileInput: D,
                    getKeys: function(e, t) {
                        var n = Object.keys(e);
                        return t && n.sort(function(t, n) {
                            var r = D(e[t]);
                            return r === D(e[n]) ? 0 : r ? 1 : -1;
                        }), n;
                    },
                    _get: function(e, t, n) {
                        var r, o = e, i = _createForOfIteratorHelper(t.replace(/\[(\d+)\]/g, ".$1").split("."));
                        try {
                            for (i.s(); !(r = i.n()).done; ) {
                                var a = r.value;
                                if (void 0 === (o = Object(o)[a])) return n;
                            }
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            i.e(e);
                        } finally {
                            i.f();
                        }
                        return o;
                    },
                    getLastSeveralItems: function(e, t) {
                        for (var n = e.length, r = [], o = function(t) {
                            var n = e[t].map(function(e) {
                                return _objectSpread(_objectSpread({}, e), {}, {
                                    flag: "sort_flag_" + t
                                });
                            });
                            r.push.apply(r, _toConsumableArray(n));
                        }, i = 0; i < n; i++) o(i);
                        r.sort(function(e, t) {
                            return e.startTime - t.startTime;
                        });
                        for (var a = [], s = function(e) {
                            a[e] = r.filter(function(t) {
                                return t.flag === "sort_flag_" + e;
                            }).map(function(e) {
                                return _objectSpread(_objectSpread({}, e), {}, {
                                    flag: void 0
                                });
                            });
                        }, c = 0; c < n; c++) s(c);
                        return a;
                    }
                };
            }).call(this, n(14));
        }, function(e, t, n) {
            var r = n(60), o = n(0), i = o.notundef, a = n(41), s = n(1), c = n(9);
            function u() {}
            var l = {};
            u.getInstance = function(e) {
                e = f(e), o.verifyOptions(e, "account", "api::Base.getInstance");
                var t = this.genInstanceName(e), n = l[t];
                return n ? u.updateInstance(n, e) : n = l[t] = new this(e), n;
            }, u.updateInstance = function(e, t) {
                e.setOptions(t), e.connect();
            };
            var d = u.fn = u.prototype = Object.create(new r()), f = function(e) {
                return e.nosSurvivalTime ? (o.verifyParamType("nosSurvivalTime", e.nosSurvivalTime, "number", "api::Base.getInstance"), 
                o.verifyParamMin("nosSurvivalTime", e.nosSurvivalTime, 86400, "api::Base.getInstance")) : e.nosSurvivalTime = 1 / 0, 
                e;
            };
            d.updatePrivateConf = function(e) {
                if (e && "object" == _typeof(e.privateConf)) {
                    var t = e.privateConf;
                    "string" == typeof t.lbs_web && (e.lbsUrl = t.lbs_web), "boolean" == typeof t.link_ssl_web && (e.secure = t.link_ssl_web), 
                    "boolean" == typeof t.https_enabled && (e.httpsEnabled = t.https_enabled), e.uploadUrl = t.nos_uploader_web ? t.nos_uploader_web : null, 
                    e.chunkUploadUrl = t.nos_uploader_web ? t.nos_uploader_web : null, e.replaceUrl = t.nos_downloader ? t.nos_downloader : null, 
                    e.downloadUrl = t.nos_accelerate ? t.nos_accelerate : null, e.downloadHost = t.nos_accelerate_host ? t.nos_accelerate_host : null, 
                    e.downloadHostList = t.nos_accelerate_host_list || [], e.downloadHost && e.downloadHostList.push(e.downloadHost), 
                    e.nosCdnEnable = !1 !== t.nos_cdn_enable, e.ntServerAddress = t.nt_server || null, 
                    e.kibanaServer = t.kibana_server, e.statisticServer = t.statistic_server, e.reportGlobalServer = t.report_global_server, 
                    e.ipVersion = t.ip_protocol_version, e.defaultLink = t.link_web || e.defaultLink, 
                    e.ipv6DefaultLink = t.link_ipv6_web || e.ipv6DefaultLink, "string" == typeof t.nos_lbs ? e.nosLbsUrls = [ t.nos_lbs ] : e.nosLbsUrls = [];
                }
                return null === e.ntServerAddress || "" === e.ntServerAddress ? s.ntServerAddress = null : s.ntServerAddress = e.ntServerAddress || s.defaultReportUrl, 
                s.uploadUrl = e.uploadUrl || s.uploadUrl, s.chunkUploadUrl = e.chunkUploadUrl || s.chunkUploadUrl, 
                s.downloadUrl = e.downloadUrl || s.downloadUrl, s.downloadHost = e.downloadHost || s.downloadHost, 
                s.downloadHostList = e.downloadHostList && e.downloadHostList.length > 0 ? e.downloadHostList : s.downloadHostList, 
                s.nosCdnEnable = !1 !== e.nosCdnEnable, s.replaceUrl = e.replaceUrl || s.replaceUrl, 
                s.httpsEnabled = e.httpsEnabled || s.httpsEnabled, e.probe_ipv4_url && (s.ipProbeAddr.ipv4 = e.probe_ipv4_url), 
                e.probe_ipv6_url && (s.ipProbeAddr.ipv6 = e.probe_ipv6_url), e;
            }, d.init = function(e) {
                o.verifyOptions(e, "account", "api::Base.init"), e = this.updatePrivateConf(e), 
                o.verifyBooleanWithDefault(e, "exifOrientation", !0, "", "api::Base.init"), e.lbsBackup = void 0 === e.lbsBackup || e.lbsBackup;
                var t = this.account = e.account = e.account + "", n = e.constructor.genInstanceName(e), r = l[n];
                if (e._disableSingleton && (r = null), r) return u.updateInstance(r, e), r;
                this.name = n, l[n] = this, this.logger = e.logger = new a({
                    debug: e.debug,
                    logFunc: e.logFunc,
                    prefix: this.subType,
                    dbLog: !1 !== e.dbLog,
                    account: e.account,
                    expire: e.expire
                }), e.api = this;
                var i = this.protocol = new e.Protocol(e);
                return i.name = "Protocol-" + n, i.account = t, i.api = this, i.message = this.message = new e.Message({
                    account: t
                }), this.options = o.copy(e), this;
            }, d.destroy = function(e) {
                var t, n = this, r = this;
                if (!r.__beginDestroy) {
                    r.__beginDestroy = !0, e = e || {};
                    var o = this.name;
                    if (this.logger.warn("destroy::start"), !o) return this.logger && this.logger.warn && this.logger.warn("destroy::no instanceName"), 
                    void (r.__beginDestroy = void 0);
                    this.protocol && (t = this.protocol.connectTimer), this.protocol && this.protocol.resetPush && this.protocol.resetPush(), 
                    this.eventNames && "function" == typeof this.eventNames && this.eventNames().forEach(function(e) {
                        delete n._events[e];
                    }), this.disconnect({
                        done: function(n) {
                            r.logger.warn("ApiBase::destroy: instance destroyed ..."), r.__beginDestroy = void 0, 
                            c.destroy(), Object.getOwnPropertyNames(r.options).forEach(function(e) {
                                0 === e.indexOf("on") && (r.options[e] = function() {}, r.protocol.options[e] = function() {}, 
                                r.protocol.api.options[e] = function() {});
                            }), r.logger.setLogDisabled(), Object.getOwnPropertyNames(r).forEach(function(e) {
                                r[e] = void 0;
                            }), l && (l[o] = null, clearTimeout(t)), e.done instanceof Function && e.done(n);
                        }
                    });
                }
            }, d.setOptions = function(e) {
                this.protocol.setOptions(e);
            }, d.processCallback = function(e, t) {
                p(e, t);
            }, d.processCallbackPromise = function(e, t) {
                return new Promise(function(n, r) {
                    p(e, t, !0, n, r);
                });
            };
            var p = function(e, t, n, r, a) {
                var s = "api::processCallback";
                n && (s = "api::processCallbackPromise"), o.verifyCallback(e, "done", s), e.callback = function(c, u, l) {
                    var d = e.callback.options;
                    if (u = u || d, t && (u = d), o.isFunction(e.cbaop)) {
                        var f = e.cbaop(c, u);
                        i(f) && (u = f);
                    }
                    var p = e.done;
                    o.isObject(u) && (delete u.done, delete u.cb, delete u.callback), n ? c ? a({
                        message: "生成接口回调错误",
                        callFunc: s,
                        event: c
                    }) : r(u) : p(c, u, l);
                }, e.callback.options = o.copy(e);
            };
            d.processPs = function(e) {
                o.notexist(e.ps) && (e.ps = ""), o.verifyArrayMax("ps", e.ps, 5e3);
            }, d.processCustom = function(e) {
                o.notexist(e.custom) && (e.custom = "");
            }, d.sendCmd = function() {
                this.protocol.sendCmd.apply(this.protocol, arguments);
            }, d.sendCmdWithResp = function(e, t, n) {
                this.sendCmd(e, t, function(e, t, r) {
                    o.isFunction(n) && (e ? n(e, t) : n(null, r));
                });
            }, d.cbAndSendCmd = function(e, t) {
                var n = this.processCallbackPromise(t);
                return this.sendCmd(e, t), n;
            }, d.sendCmdUsePromise = function(e, t) {
                var n = this;
                return new Promise(function(r, i) {
                    n.sendCmd(e, t, function(e, t, n) {
                        if (e) i(e); else {
                            var a = o.merge({}, t, n);
                            r(a);
                        }
                    });
                });
            }, u.use = function(e, t) {
                e && e.install && o.isFunction(e.install) && e.install(this, t);
            }, u.rmAllInstances = function() {
                for (var e in l) l[e].destroy();
                l = {};
            }, d.logout = function(e) {
                e = e || {}, this.protocol.shouldReconnect = !1, this.protocol.doLogout = !0, this.processCallback(e), 
                this.sendCmd("logout", e, e.callback);
            }, e.exports = u, n(72), n(73), n(76), n(77), n(78), n(79), n(80);
        }, function(e, t, n) {
            var r = n(108);
            r.fn = r.prototype, e.exports = r, n(109), n(110), n(111), n(112), n(113), n(114), 
            n(115), n(116), n(117), n(118), n(119);
        }, function(e, t, n) {
            var r = n(10), o = n(11), i = n(0), a = n(5), s = n(1), c = n(6), u = "https://statistic.live.126.net/statics/report/common/form", l = "nimErrEvent", d = {
                sdktype: "IM",
                platform: "Web",
                deviceId: a.deviceId,
                sdk_ver: s.info.version,
                manufactor: o.manufacturer,
                env: "online"
            }, f = {
                login: "nimLoginErrEvent",
                nos: "nimNosErrEvent"
            }, p = {
                login: null,
                nos: null
            }, m = {
                maxInterval: 30,
                maxSize: 100,
                minInterval: 10,
                maxDelay: 100,
                turnOn: !1
            }, g = null, h = !1, y = {
                reportErrEventUrl: u,
                localKey: l,
                reportErrEvent: function(e) {
                    try {
                        var t = localStorage.getItem(l);
                        if (!t) return;
                        t = JSON.parse(t);
                        var n = [];
                        Object.keys(t).forEach(function(e) {
                            n.push(t[e]);
                        });
                        var i = {
                            app_key: e.appKey,
                            sdk_ver: e.sdk_ver,
                            platform: "Web",
                            os_ver: o.os.family + " " + o.os.version,
                            manufacturer: o.manufacturer,
                            model: o.name
                        };
                        r(u, {
                            method: "POST",
                            timeout: 2e3,
                            headers: {
                                "Content-Type": "application/json"
                            },
                            data: JSON.stringify({
                                common: {
                                    device_id: e.deviceId,
                                    sdk_type: "IM"
                                },
                                event: {
                                    logReport: n,
                                    deviceinfo: i
                                }
                            }),
                            onload: function() {
                                localStorage.removeItem(l);
                            },
                            onerror: function(e) {}
                        });
                    } catch (e) {}
                },
                saveErrEvent: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    if (e.code && e.module) try {
                        var t = localStorage.getItem(l) || "{}";
                        t = JSON.parse(t);
                        var n = e.code + e.module + e.accid;
                        t[n] ? t[n].count++ : t[n] = {
                            errorCode: e.code,
                            module: e.module,
                            accid: e.accid,
                            timestamp: new Date().getTime(),
                            count: 1
                        }, localStorage.setItem(l, JSON.stringify(t));
                    } catch (e) {}
                },
                initUniErrReport: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    d.appkey = e.appKey, r("https://statistic.live.126.net/dispatcher/req?deviceId=".concat(d.deviceId, "&sdktype=").concat(d.sdktype, "&sdkVer=").concat(d.sdk_ver, "&platform=").concat(d.platform, "&appkey=").concat(d.appkey), {
                        method: "get",
                        onload: function(e) {
                            var t = null;
                            try {
                                t = JSON.parse(e);
                            } catch (e) {}
                            t && t.code && 200 === t.code && ((m = t.data).maxInterval = m.maxInterval > 1e4 ? 1e4 : m.maxInterval, 
                            m.maxInterval = m.maxInterval < 10 ? 10 : m.maxInterval, m.maxSize = m.maxSize > 1e3 ? 1e3 : m.maxSize, 
                            m.minInterval = m.minInterval < 2 ? 2 : m.minInterval, m.maxDelay = m.maxDelay > 600 ? 600 : m.maxDelay, 
                            200 === t.code && (m.turnOn = !0, g = setInterval(function() {
                                y.checkUniErrCache(!0);
                            }, 1e3 * m.maxInterval)));
                        },
                        onerror: function(e) {}
                    });
                },
                startUniErrCache: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (p.hasOwnProperty(e) && !p[e] && t.user_id && t.action) {
                        var n = new Date().valueOf();
                        p[e] = {
                            user_id: t.user_id,
                            action: t.action,
                            start_time: n,
                            extension: []
                        };
                    }
                },
                updateUniErrCache: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (p.hasOwnProperty(e) && p[e] && p[e].extension && Array.isArray(p[e].extension)) {
                        var n = t.operation_type, r = t.code, o = t.target, i = _objectWithoutProperties(t, _excluded), a = p[e].extension.reduce(function(e, t) {
                            return e + t.duration;
                        }, 0), s = new Date().getTime() - a - p[e].start_time;
                        t.error && t.error.code && (r = t.error.code), p[e].extension.push({
                            operation_type: n,
                            code: r,
                            succeed: !1,
                            target: o,
                            duration: s,
                            description: JSON.stringify(i)
                        });
                    }
                },
                updateUniSuccCache: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (p.hasOwnProperty(e) && p[e] && p[e].extension && Array.isArray(p[e].extension)) {
                        var n = t.operation_type, r = (t.code, t.target), o = _objectWithoutProperties(t, _excluded2), i = p[e].extension.reduce(function(e, t) {
                            return e + t.duration;
                        }, 0), a = new Date().getTime() - i - p[e].start_time;
                        p[e].extension.push({
                            operation_type: n,
                            code: 200,
                            succeed: !0,
                            target: r,
                            duration: a,
                            description: JSON.stringify(o)
                        });
                    }
                },
                concludeUniErrCache: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (p.hasOwnProperty(e) && p[e]) if ("nos" !== e || 0 !== t) {
                        var n = new Date().valueOf();
                        p[e].succeed = !t, p[e].duration = n - p[e].start_time;
                        var r = i.copy(p[e]);
                        p[e] = null;
                        try {
                            var o = localStorage.getItem(f[e]) || "[]", a = JSON.parse(o);
                            a.push(r), localStorage.setItem(f[e], JSON.stringify(a)), m.turnOn && y.checkUniErrCache();
                        } catch (e) {}
                    } else p[e] = null;
                },
                checkUniErrCache: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    if (!h) {
                        var t = new Date().valueOf();
                        try {
                            var n = localStorage.getItem(f.login) || "[]", o = localStorage.getItem(f.nos) || "[]", i = JSON.parse(n), a = JSON.parse(o), s = i.filter(function(e) {
                                return t - e.start_time < 1e3 * m.maxDelay;
                            }), l = a.filter(function(e) {
                                return t - e.start_time < 1e3 * m.maxDelay;
                            }), p = c.getLastSeveralItems([ s, l ], m.maxSize), v = _slicedToArray(p, 2), b = v[0], T = v[1];
                            if (b.length + T.length === m.maxSize || e) {
                                if (b.length + T.length === 0) return;
                                var _ = d.appkey, S = d.platform, k = d.sdk_ver, M = d.manufactor, P = d.env, A = {
                                    common: {
                                        app_key: _,
                                        platform: S,
                                        sdk_ver: k,
                                        manufactor: M,
                                        env: P
                                    },
                                    event: {
                                        login: _toConsumableArray(b),
                                        nos: _toConsumableArray(T)
                                    }
                                };
                                r(u, {
                                    method: "POST",
                                    timeout: 2e3,
                                    headers: {
                                        "Content-Type": "application/json",
                                        sdktype: d.sdktype
                                    },
                                    data: JSON.stringify(A),
                                    onload: function() {
                                        for (var e in f) if (Object.hasOwnProperty.call(f, e)) {
                                            var t = f[e];
                                            localStorage.setItem(t, "[]");
                                        }
                                        clearInterval(g), g = setInterval(function() {
                                            y.checkUniErrCache(!0);
                                        }, 1e3 * m.maxInterval), h = !1;
                                    },
                                    onerror: function() {
                                        h = !1;
                                    }
                                }), h = !0;
                            }
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            h = !1;
                        }
                    }
                },
                pause: function() {
                    d.turnOn = !1;
                },
                restore: function() {
                    d.turnOn = !0;
                },
                destroy: function() {
                    g && clearInterval(g), y.concludeUniErrCache("login", 1), y.concludeUniErrCache("nos", 1), 
                    d.turnOn = !1, h = !1;
                }
            };
            y.sendBeacon = navigator && navigator.sendBeacon && navigator.sendBeacon.bind(navigator) || function(e, t) {
                var n = new XMLHttpRequest();
                n.open("POST", e, !0), n.send(t);
            }, e.exports = y;
        }, function(e, t, n) {
            var r = n(18), o = n(69), i = n(70), a = n(71);
            r.json = o, r.upload = i, r.chunkUpload = a, e.exports = r;
        }, function(e, t) {
            e.exports = {
                description: "weixin micro app",
                layout: null,
                manufacturer: null,
                name: "weixin",
                prerelease: null,
                product: null,
                ua: "Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Weixin/1.9.1",
                version: "1.9.1",
                os: {
                    architecture: 64,
                    family: "Windows",
                    version: "1.9.1"
                }
            };
        }, function(e, t, n) {
            var r = n(0), o = n(1), i = n(9), a = n(4);
            function s(e) {
                r.undef(e.secure) && (e.secure = !0), this.options = r.copy(e), this.keepNosSafeUrl = this.options.keepNosSafeUrl || !1;
                var t = e.defaultLink || e.defaultLinkUrl;
                r.notundef(t) && r.isString(t) && (o.optionDefaultLinkUrl = t.trim()), r.notundef(e.ipv6DefaultLink) && r.isString(e.ipv6DefaultLink) && (o.optionIpv6DefaultLinkUrl = e.ipv6DefaultLink), 
                "number" == typeof e.heartbeatInterval && (o.heartbeatInterval = e.heartbeatInterval), 
                Array.isArray(e.nosLbsUrls) && (o.nosLbsUrls = e.nosLbsUrls), this.init(), this.connect();
            }
            var c = s.fn = s.prototype;
            c.init = function() {
                this.logger = this.options.logger, this.getNosOriginUrlReqNum = 0, this.checkNosReqNum = 0, 
                this.cmdTaskArray = [], this.timerMap = {}, this.cmdCallbackMap = {}, this.cmdContentMap = {}, 
                this.initConnect(), this.reset();
            }, c.reset = function() {
                this.resetConnect();
            }, c.setOptions = function(e) {
                var t = this.options, n = Object.keys(t), o = n.indexOf("account");
                this.logger.info("setOptions::", r.omitAsString(e, [ "appKey", "token", "loginExt", "customTag" ])), 
                -1 !== o && n.splice(o, 1), e = r.filterObj(e, n), this.options = r.merge(t, e), 
                this.reset();
            }, c.sendCmd = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", n = arguments.length > 2 ? arguments[2] : void 0;
                this.heartbeat();
                var r, o = e, i = (e = this.parser.createCmd(e, t)).SER;
                t = t || {}, this.cmdContentMap[i] = t, t.single && (delete t.single, 1 === (r = Object.keys(t)).length && (this.cmdContentMap[i] = t[r[0]])), 
                t.NOTSTORE && ((r = t.NOTSTORE.split(" ")).forEach(function(e) {
                    delete t[e];
                }), delete t.NOTSTORE), (n = n || t.callback) && (this.cmdCallbackMap[i] = n), this.cmdTaskArray.push({
                    cmdName: o,
                    cmd: JSON.stringify(e)
                }), this.startCmdTaskTimer();
            }, c.startCmdTaskTimer = function() {
                var e = this;
                e.cmdTaskTimer || (e.cmdTaskTimer = setTimeout(function() {
                    var t = e.cmdTaskArray.shift();
                    e.cmdTaskTimer = null, t && e.executeCmdTask(t), e.cmdTaskArray.length && e.startCmdTaskTimer();
                }, 0));
            }, c.executeCmdTask = function(e) {
                var t = e.cmdName, n = e.cmd, r = (n = JSON.parse(n)).SER;
                this.isFrequencyControlled(t) ? (this.logger.warn("protocol::executeCmdTask: ".concat(t, " hit freq control")), 
                this.markCallbackInvalid(r, a.newFrequencyControlError({
                    callFunc: "protocol::executeCmdTask",
                    message: t + " hit freq control"
                }))) : this.hasLogin ? ("heartbeat" !== t && this.logger.log("protocol::sendCmd: " + t), 
                this.doSendCmd(n)) : "login" === t && this.isConnected() ? (this.logger.info("protocol::sendCmd: " + t), 
                this.doSendCmd(n)) : (this.logger.warn("protocol::executeCmdTask: ".concat(t, " not connected or login")), 
                this.markCallbackInvalid(r, a.newSocketStateError({
                    callFunc: "protocol::executeCmdTask",
                    message: t + " not connected or not login"
                })));
            }, c.isFrequencyControlled = function(e) {
                var t = this.frequencyControlMap && this.frequencyControlMap[e];
                if (t) {
                    if (Date.now() < t.from + t.duration) return !0;
                    delete this.frequencyControlMap[e];
                }
            }, c.doSendCmd = function(e) {
                var t = this, n = e.SER, r = 0 === n ? o.hbCmdTimeout : o.cmdTimeout;
                function i() {
                    t.markCallbackInvalid(n, a.newSocketStateError({
                        callFunc: "protocol::doSendCmd",
                        message: "ser ".concat(n, " socketSendJson Error")
                    })), t.onDisconnect("protocol::doSendCmd:socketSendJson");
                }
                t.timerMap[n] = setTimeout(function() {
                    t.markCallbackInvalid(n, a.newTimeoutError({
                        callFunc: "protocol::doSendCmd",
                        message: "ser ".concat(n, " Timeout Error")
                    }));
                }, r);
                try {
                    t.socket && t.socket.send ? t.socket.send(JSON.stringify(e)) : i();
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    i();
                }
            }, c.getObjWithSer = function(e) {
                var t = this.cmdContentMap[e];
                return t && !t.isImSyncDataObj && delete this.cmdContentMap[e], t && r.copy(t);
            }, c.getCallbackWithSer = function(e) {
                var t = this.cmdCallbackMap[e];
                return t && !t.isImSyncDataCb && delete this.cmdCallbackMap[e], t;
            }, c.getTimerWithSer = function(e) {
                var t = this.timerMap[e];
                return delete this.timerMap[e], t;
            }, c.clearTimerWithSer = function(e) {
                var t = this.getTimerWithSer(e);
                t && clearTimeout(t);
            }, c.markCallbackInvalid = function(e, t) {
                this.getObjWithSer(e), this.clearTimerWithSer(e);
                var n = this.getCallbackWithSer(e);
                if (n) {
                    var r = n.options;
                    setTimeout(function() {
                        n(t || a.newUnknownError({
                            ser: e
                        }), r);
                    }, 0);
                }
            }, c.markAllCallbackInvalid = function(e) {
                var t = this;
                Object.keys(this.cmdCallbackMap).forEach(function(n) {
                    t.markCallbackInvalid(n, e);
                }), t.cmdTaskArray = [];
            }, c.getPacketObj = function(e) {
                var t = null;
                if (e && e.raw) {
                    var n = e.raw.ser;
                    r.notundef(n) && (t = this.getObjWithSer(n));
                }
                return t;
            }, c.callPacketAckCallback = function(e) {
                var t = this;
                if (e && e.raw) {
                    var n = e.raw.ser;
                    if (r.notundef(n)) {
                        t.clearTimerWithSer(n);
                        var o = t.getCallbackWithSer(n);
                        o && (o.originUrl && e.obj && e.obj.file && (e.obj.file._url_safe = e.obj.file.url, 
                        e.obj.file.url = o.originUrl, "audio" === e.obj.type && (e.obj.file.mp3Url = o.originUrl + (~o.originUrl.indexOf("?") ? "&" : "?") + "audioTrans&type=mp3")), 
                        e.promise ? e.promise.then(function() {
                            o(e.error, e.obj);
                        }, function(r) {
                            r.callFunc = "protocol::callPacketAckCallback", r.message = "Resp Promoise Error: cmd: ".concat(e.cmd, ", ser: ").concat(n);
                            var i = a.customError("CALLBACK_ACK_ERR", r);
                            t.logger.error("protocol::callPacketAckCallback: promise error " + JSON.stringify(r)), 
                            o(i, e.obj, e.content);
                        }) : o(e.error, e.obj, e.content));
                    }
                }
            }, c.onMessage = function(e) {
                var t = this;
                t.heartbeat(), t.parser.parseResponse(e).then(function(e) {
                    if (e.notFound && t.logger.warn("protocol::onMessage: packet not found " + JSON.stringify(e)), 
                    e.error) {
                        e.error.message = "".concat(e.cmd, " error: ").concat(e.error.message), t.logger.error("protocol::onMessage: packet error ".concat(JSON.stringify(e.error), "，raw cmd ").concat(e.rawStr));
                        var n = e.raw || {};
                        408 !== n.code && 415 !== n.code && 500 !== n.code || i.saveErrEvent({
                            code: n.code,
                            module: e.cmd,
                            accid: t.account
                        });
                    }
                    e.frequencyControlDuration && (t.logger.error("protocol::onMessage: server freq control " + JSON.stringify(e.cmd)), 
                    t.frequencyControlMap = t.frequencyControlMap || {}, t.frequencyControlMap[e.cmd] = {
                        from: +new Date(),
                        duration: e.frequencyControlDuration
                    }), e.obj = t.getPacketObj(e), "heartbeat" !== e.cmd && t.logger.log("protocol::recvCmd: " + e.cmd);
                    var o = "process" + r.capFirstLetter(e.service);
                    if (t[o]) if ("syncDone" === e.cmd) {
                        if (t.cmdCallbackMap[e.raw.ser] && t.cmdCallbackMap[e.raw.ser].isImSyncDataCb) {
                            t.cmdCallbackMap[e.raw.ser].isImSyncDataCb = !1;
                            var a = function(e, t) {
                                this.checkNosReqNum++, this.getNosOriginUrlReqNum <= 0 || this.checkNosReqNum >= 20 ? this[e](t) : setTimeout(a, 300);
                            }.bind(t, o, e);
                            setTimeout(function() {
                                a.call(t, o, e);
                            }, 10);
                        }
                    } else t[o](e); else t.logger.warn("protocol::onMessage: ".concat(o, " not found"));
                    t.callPacketAckCallback(e);
                });
            }, c.onMiscError = function(e, t, n) {
                t && this.notifyError(e, t, n);
            }, c.onCustomError = function(e, t) {
                var n = a.customError(e, t), r = t.message || "未知错误";
                this.onMiscError(r, n);
            }, c.notifyError = function(e, t, n) {
                this.isConnected() && (this.logger.error("".concat(e || "", " ").concat(this.name), t, n), 
                this.options.onerror(t, n));
            }, c.emitAPI = function(e) {
                var t = e.type, n = e.obj;
                this.api.emit(t, n);
            }, e.exports = s, n(81), n(84), n(85), n(86), n(87);
        }, , function(e, t) {
            var n;
            n = function() {
                return this;
            }();
            try {
                n = n || new Function("return this")();
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                "object" == ("undefined" == typeof window ? "undefined" : _typeof(window)) && (n = window);
            }
            e.exports = n;
        }, function(e, t, n) {
            var r = n(0), o = r.undef, i = r.notundef, a = r.exist, s = n(26), c = n(48), u = {
                p2p: 0,
                team: 1,
                superTeam: 5
            }, l = {
                0: "p2p",
                1: "team",
                5: "superTeam"
            }, d = Object.keys(u), f = c.typeMap, p = c.validTypes;
            function m(e) {
                r.verifyOptions(e, "scene to type", "msg::Message"), r.verifyParamValid("scene", e.scene, d, "msg::Message"), 
                this.scene = u[e.scene], this.to = "" + e.to, this.type = f[e.type], this.resend = e.resend ? 1 : 0, 
                e.resend ? (r.verifyOptions(e, "idClient", "msg::Message"), this.idClient = e.idClient) : this.idClient = r.guid(), 
                i(e.subType) && (r.isInt(+e.subType) && +e.subType > 0 ? this.subType = +e.subType : r.onParamError("subType只能是大于0的整数", "msg::Message"));
                var t = e.replyMsg;
                t && t.idServer && t.from && t.to && t.time && (this.replyMsgFromAccount = t.from, 
                this.replyMsgToAccount = t.to, this.replyMsgTime = t.time, this.replyMsgIdServer = t.idServer, 
                this.replyMsgIdClient = t.idClient, t.threadMsgFromAccount && t.threadMsgIdServer && t.threadMsgTime && t.threadMsgToAccount ? (this.threadMsgFromAccount = t.threadMsgFromAccount, 
                this.threadMsgToAccount = t.threadMsgToAccount, this.threadMsgTime = t.threadMsgTime, 
                this.threadMsgIdServer = t.threadMsgIdServer, this.threadMsgIdClient = t.threadMsgIdClient) : (this.threadMsgFromAccount = t.from, 
                this.threadMsgToAccount = t.to, this.threadMsgTime = t.time, this.threadMsgIdServer = t.idServer, 
                this.threadMsgIdClient = t.idClient)), i(e.text) && (this.body = "" + e.text), i(e.custom) && ("object" == _typeof(e.custom) ? this.custom = JSON.stringify(e.custom) : this.custom = "" + e.custom), 
                i(e.body) && (this.body = "" + e.body), i(e.pushContent) && (this.pushContent = "" + e.pushContent), 
                i(e.pushPayload) && (this.pushPayload = "" + e.pushPayload);
                var n = e.apns;
                if (i(n) && "team" === e.scene) {
                    var o = n.accounts;
                    i(o) && r.verifyParamType("apns.accounts", o, "array", "msg::Message"), this.apnsAccounts = o ? JSON.stringify(o) : "#%@all@%#", 
                    this.apnsContent = n.content || e.pushContent || "", r.verifyBooleanWithDefault(n, "forcePush", !0, "options.apns", "msg::Message"), 
                    this.apnsForcePush = n.forcePush ? 1 : 0;
                }
                i(e.isHistoryable) && (this.isHistoryable = e.isHistoryable ? 1 : 0), i(e.isRoamingable) && (this.isRoamingable = e.isRoamingable ? 1 : 0), 
                i(e.isSyncable) && (this.isSyncable = e.isSyncable ? 1 : 0), i(e.cc) && (this.cc = e.cc ? 1 : 0), 
                i(e.env) && (this.env = e.env), i(e.isPushable) && (this.isPushable = e.isPushable ? 1 : 0), 
                i(e.isOfflinable) && (this.isOfflinable = e.isOfflinable ? 1 : 0), i(e.isUnreadable) && (this.isUnreadable = e.isUnreadable ? 1 : 0), 
                i(e.needPushNick) && (this.needPushNick = e.needPushNick ? 1 : 0), i(e.needMsgReceipt) && (this.needMsgReceipt = e.needMsgReceipt ? 1 : 0), 
                i(e.yidunEnable) && (this.yidunEnable = e.yidunEnable ? 1 : 0), i(e.needUpdateSession) && (this.needUpdateSession = !1 === e.needUpdateSession ? 0 : 1), 
                i(e.antiSpamUsingYidun) && (this.antiSpamUsingYidun = e.antiSpamUsingYidun ? 1 : 0), 
                i(e.clientAntiSpam) && (this.clientAntiSpam = e.clientAntiSpam ? 1 : 0), i(e.antiSpamContent) && ("object" == _typeof(e.antiSpamContent) ? this.antiSpamContent = JSON.stringify(e.antiSpamContent) : this.antiSpamContent = "" + e.antiSpamContent), 
                i(e.antiSpamBusinessId) && ("object" == _typeof(e.antiSpamBusinessId) ? this.antiSpamBusinessId = JSON.stringify(e.antiSpamBusinessId) : this.antiSpamBusinessId = "" + e.antiSpamBusinessId), 
                i(e.yidunAntiCheating) && (this.yidunAntiCheating = e.yidunAntiCheating), i(e.yidunAntiSpamExt) && (this.yidunAntiSpamExt = e.yidunAntiSpamExt);
            }
            r.merge(m.prototype, c.prototype), m.prototype.getScene = function() {
                return l[this.scene];
            }, m.getType = c.getType, m.reverse = function(e) {
                var t, n = l[e.scene];
                if (t = "1" === e.delete ? {
                    delete: !0,
                    scene: n || e.scene,
                    from: e.from,
                    time: +e.time,
                    to: "" + e.to
                } : {
                    scene: n || e.scene,
                    from: e.from,
                    fromNick: e.fromNick,
                    fromClientType: s.reverseType(e.fromClientType),
                    fromDeviceId: e.fromDeviceId,
                    to: "" + e.to,
                    time: +e.time,
                    type: m.getType(e),
                    text: a(e.body) ? e.body : e.text || "",
                    isHistoryable: o(e.isHistoryable) || 1 == +e.isHistoryable,
                    isRoamingable: o(e.isRoamingable) || 1 == +e.isRoamingable,
                    isSyncable: o(e.isSyncable) || 1 == +e.isSyncable,
                    cc: o(e.cc) || 1 == +e.cc,
                    isPushable: o(e.isPushable) || 1 == +e.isPushable,
                    isOfflinable: o(e.isOfflinable) || 1 == +e.isOfflinable,
                    isUnreadable: o(e.isUnreadable) || 1 == +e.isUnreadable,
                    isReplyMsg: o(e.isReplyMsg) || 1 == +e.isReplyMsg,
                    needPushNick: o(e.needPushNick) || 1 == +e.needPushNick,
                    needMsgReceipt: 1 == +e.needMsgReceipt,
                    isLocal: !1
                }, e.isInBlackList && (t.isInBlackList = 1 == +e.isInBlackList, t.isInBlackList && (e.status = "fail")), 
                i(e.isMuted) && (t.isMuted = 1 == +e.isMuted), i(e.resend) && (t.resend = 1 == +e.resend), 
                i(e.idClient) && (t.idClient = e.idClient), i(e.idServer) && (t.idServer = "" + e.idServer), 
                i(e.userUpdateTime) && (t.userUpdateTime = +e.userUpdateTime), i(e.custom) && (t.custom = e.custom), 
                i(e.callbackExt) && (t.callbackExt = e.callbackExt), i(e.subType) && (t.subType = +e.subType), 
                i(e.pushContent) && (t.pushContent = e.pushContent), i(e.pushPayload) && (t.pushPayload = e.pushPayload), 
                i(e.tempTeamMemberCount) && (t.tempTeamMemberCount = +e.tempTeamMemberCount), i(e.yidunAntiSpamRes) && (t.yidunAntiSpamRes = e.yidunAntiSpamRes), 
                i(e.apnsAccounts)) {
                    if (t.apns = {}, "#%@all@%#" !== e.apnsAccounts) {
                        var r = e.apnsAccounts;
                        try {
                            t.apns.accounts = JSON.parse(r);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            t.apns.accounts = [];
                        }
                    }
                    t.apns.content = e.apnsContent || "", t.apns.forcePush = 1 == +e.apnsForcePush;
                }
                return t.status = e.status || "success", i(e.filter) && (t.filter = e.filter), e.replyMsgIdServer && e.threadMsgIdServer && ([ "replyMsgFromAccount", "replyMsgToAccount", "replyMsgTime", "replyMsgIdServer", "replyMsgIdClient", "threadMsgFromAccount", "threadMsgToAccount", "threadMsgTime", "threadMsgIdServer", "threadMsgIdClient" ].forEach(function(n) {
                    t[n] = e[n];
                }), t.replyMsgTime = +t.replyMsgTime, t.threadMsgTime = +t.threadMsgTime), t;
            }, m.setExtra = function(e, t) {
                e.target = m.getMsgTarget(e, t), e.sessionId = e.scene + "-" + e.target, c.setFlow(e, t);
            }, m.getMsgTarget = function(e, t) {
                return "p2p" === e.scene ? e.to === t ? e.from : e.to : "team" === e.scene || "superTeam" === e.scene ? e.to : void 0;
            }, m.deduplication = function(e) {
                var t, n = {}, r = [];
                return e.forEach(function(e) {
                    t = e.idClient, n[t] || (n[t] = !0, r.push(e));
                }), r;
            }, m.sortMsgs = function(e) {
                return e = e.slice(0), r.sortObjArray(e, {
                    sortPath: "time"
                }), e;
            }, m.getLastMsg = function(e) {
                return (e = m.sortMsgs(e))[e.length - 1];
            }, m.getLastNotIgnoredMsg = function(e) {
                for (var t = null, n = (e = m.sortMsgs(e)).length - 1; n >= 0; n--) if (!(t = e[n]).ignore) return t;
                return null;
            }, m.getMaxTimetag = function(e) {
                return m.getLastMsg(e).time;
            }, m.validScenes = d, m.validTypes = p, m.sceneMap = u, m.sceneReverseMap = l, e.exports = m;
        }, function(e, t, n) {
            var r = n(1), o = {
                genUrlSep: function(e) {
                    return -1 === (e = "" + e).indexOf("?") ? "?imageView&" : "&";
                },
                urlQuery2Object: function(e) {
                    if ("[object String]" !== Object.prototype.toString.call(e) || "" === e) return {};
                    var t = e.indexOf("?");
                    if (-1 !== t) {
                        var n = e.slice(t + 1).split("&"), r = {};
                        return n.forEach(function(e) {
                            if (~e.indexOf("=")) {
                                var t = e.split("=");
                                r[t[0]] = decodeURIComponent(t[1]);
                            } else r[e] = "";
                        }), r;
                    }
                },
                url2object: function(e) {
                    "[object String]" !== Object.prototype.toString.call(e) && (e = "");
                    var t = (e = e || "").indexOf("https") >= 0 ? "https://" : "http://", n = e.replace(t, "");
                    n.indexOf("?") >= 0 && (n = n.substring(0, n.indexOf("?")));
                    var r = n.split("/");
                    n = r[0];
                    var o = "";
                    if (r.length > 0 && (o = r.slice(1).join("/")), -1 === e.indexOf("?")) return {
                        protocol: t,
                        hostname: n,
                        path: o,
                        query: {}
                    };
                    var i = e.substr(e.indexOf("?") + 1).split("&"), a = {};
                    return i.forEach(function(e) {
                        if (e.indexOf("=") > 0) {
                            var t = e.split("=");
                            a[t[0]] = decodeURIComponent(t[1]);
                        } else a[e] = "";
                    }), {
                        protocol: t,
                        hostname: n,
                        path: o,
                        query: a
                    };
                },
                object2url: function(e) {
                    var t = e.protocol, n = e.hostname, r = e.path, o = e.query;
                    t = t || "http://", n = n || "", r && (n = "".concat(n, "/").concat(r)), o = o || {};
                    var i = [];
                    for (var a in o) "imageView" !== a && i.push("".concat(a, "=").concat(encodeURIComponent(o[a])));
                    return i.length > 0 ? "".concat(t).concat(n, "?imageView&").concat(i.join("&")) : "".concat(t).concat(n);
                },
                genPrivateUrl: function(e, t, n) {
                    if (t && t.length) {
                        var i, a = _createForOfIteratorHelper(t);
                        try {
                            for (a.s(); !(i = a.n()).done; ) {
                                var s = i.value;
                                if (e.indexOf(s) >= 0) return s !== n && (e = e.replace(s, n)), e;
                                if (e.indexOf(s) >= 0 && s === n) return e;
                            }
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            a.e(e);
                        } finally {
                            a.f();
                        }
                    }
                    var c = o.url2object(e), u = c.hostname, l = c.path, d = r.downloadUrl, f = r.downloadHostList, p = r.nosCdnEnable, m = r.serverNosConfig.cdnDomain, g = decodeURIComponent(r.serverNosConfig.objectPrefix), h = decodeURIComponent(l), y = h.indexOf(g);
                    if (m && y > -1 && p) return "".concat(c.protocol).concat(m, "/").concat(h.slice(y));
                    if (f.includes(u) && l.includes("/")) {
                        var v = l.indexOf("/"), b = l.substring(0, v), T = l.substring(v + 1);
                        return d.replace("{bucket}", b).replace("{object}", T);
                    }
                    var _ = f.filter(function(e) {
                        return "string" == typeof u && u.includes(e);
                    })[0], S = _ ? u.replace(_, "").replace(/\W/g, "") : null;
                    return S ? d.replace("{bucket}", S).replace("{object}", l) : e;
                }
            };
            e.exports = o;
        }, , function(e, t, n) {
            var r = n(6), o = n(65), i = n(67), a = n(68), s = {}, c = r.f;
            function u(e) {
                var t = e.upload = "multipart/form-data" === (e.headers || r.o)["Content-Type"], n = !1;
                try {
                    n = (location.protocol + "//" + location.host).toLowerCase() !== r.url2origin(e.url);
                } catch (e) {}
                return e.cors = n, t || n || e.mode ? function(e) {
                    var t = e.mode, n = o, s = r.getGlobal();
                    return !s.FormData && s.document && (t = "iframe"), "iframe" === t && (n = e.upload ? i : a), 
                    new n(e);
                }(e) : new o(e);
            }
            function l(e, t, n) {
                var r = s[e];
                if (r) {
                    "onload" === t && r.result && (n = function(e, t) {
                        t = {
                            data: t
                        };
                        var n = e.result.headers;
                        return n && (t.headers = e.req.header(n)), t;
                    }(r, n)), function(e) {
                        var t = s[e];
                        t && (t.req.destroy(), delete s[e]);
                    }(e);
                    var o = {
                        type: t,
                        result: n
                    };
                    c(o), o.stopped || r[t](o.result);
                }
            }
            function d(e, t) {
                l(e, "onload", t);
            }
            function f(e, t) {
                l(e, "onerror", t);
            }
            function p(e, t) {
                var n = r.genUrlSep(e);
                return t = t || "", r.isObject(t) && (t = r.object2query(t)), t && (e += n + t), 
                e;
            }
            function m(e, t) {
                t = t || {};
                var n = r.uniqueID(), o = {
                    result: t.result,
                    onload: t.onload || r.f,
                    onerror: t.onerror || r.f
                };
                s[n] = o, t.onload = d.bind(null, n), t.onerror = f.bind(null, n), t.query && (e = p(e, t.query));
                var i = t.method || "";
                return i && !/get/i.test(i) || !t.data || (e = p(e, t.data), t.data = null), t.url = e, 
                o.req = u(t), n;
            }
            m.filter = function(e) {
                r.isFunction(e) && (c = e);
            }, m.abort = function(e) {
                var t = s[e];
                t && t.req && t.req.abort();
            }, e.exports = m;
        }, function(e, t, n) {
            var r, o = n(16).urlQuery2Object, i = n(0), a = n(4), s = n(53), c = n(88), u = n(89), l = n(90), d = n(91), f = n(92);
            function p(e) {
                this.mixin(e);
            }
            p.prototype = Object.create(function() {}.prototype, {
                protocol: {
                    value: null,
                    writable: !0,
                    enumerable: !0,
                    configurable: !0
                }
            }), p.prototype.setProtocol = function(e) {
                this.protocol = e;
            }, p.prototype.mixin = function(e) {
                var t = this;
                this.configMap = this.configMap || {}, [ "idMap", "cmdConfig", "packetConfig" ].forEach(function(n) {
                    t.configMap[n] = i.merge({}, t.configMap[n], e.configMap && e.configMap[n]);
                }), [ "serializeMap", "unserializeMap" ].forEach(function(n) {
                    t[n] = i.merge({}, t[n], e[n]);
                });
            }, p.prototype.createCmd = (r = 1, function(e, t) {
                var n = this, o = this.configMap.cmdConfig[e], a = "heartbeat" === e ? 0 : r++;
                return a > 32767 && (a = 1, r = 2), e = {
                    SID: o.sid,
                    CID: o.cid,
                    SER: a
                }, o.params && (e.Q = [], o.params.forEach(function(r) {
                    var o = r.type, a = r.name, s = r.entity, c = t[a];
                    if (!i.undef(c)) {
                        switch (o) {
                          case "PropertyArray":
                            o = "ArrayMable", c = c.map(function(e) {
                                return {
                                    t: "Property",
                                    v: n.serialize(e, s)
                                };
                            });
                            break;

                          case "Property":
                            c = n.serialize(c, a);
                            break;

                          case "bool":
                            c = c ? "true" : "false";
                        }
                        e.Q.push({
                            t: o,
                            v: c
                        });
                    }
                })), e;
            }), p.prototype.parseResponse = function(e) {
                var t = this;
                return new Promise(function(n, r) {
                    var o = JSON.parse(e), s = {
                        raw: o,
                        rawStr: e,
                        error: a.genError(o.code)
                    }, c = t.configMap.packetConfig[o.sid + "_" + o.cid];
                    if (!c) return s.notFound = {
                        sid: o.sid,
                        cid: o.cid
                    }, void n(s);
                    var u = o.r, l = "notify" === c.service && !c.cmd;
                    if (s.isNotify = l, l) {
                        var d = o.r[1].headerPacket;
                        if (c = t.configMap.packetConfig[d.sid + "_" + d.cid], u = o.r[1].body, !c) return s.notFound = {
                            sid: d.sid,
                            cid: d.cid
                        }, void n(s);
                    }
                    if (s.service = c.service, s.cmd = c.cmd, s.error) {
                        var f = "".concat(o.sid, "_").concat(o.cid);
                        if (l && (f = "".concat(d.sid, "_").concat(d.cid)), s.error.cmd = s.cmd, s.error.callFunc = "protocol::parseResponse: " + f, 
                        416 === s.error.code) {
                            var p = u[0];
                            p && (s.frequencyControlDuration = 1e3 * p);
                        }
                    }
                    var m = !1;
                    s.error && c.trivialErrorCodes && (m = -1 !== c.trivialErrorCodes.indexOf(s.error.code));
                    var g = [];
                    if ((!s.error || m) && c.response) {
                        s.content = {};
                        var h = function(e, t, n, r) {
                            if (e && "msg" === r || "sysMsg" === r) {
                                var o = n.content[r];
                                i.isObject(o) && !o.idServer && (o.idServer = "" + t.r[0]);
                            }
                        };
                        c.response.forEach(function(e, n) {
                            var r = u[n];
                            if (!i.undef(r)) {
                                var a = e.type, c = e.name, d = e.entity || c;
                                switch (a) {
                                  case "Property":
                                    g.push(t.unserialize(r, d).then(function(e, t, n, r, o) {
                                        n.content[r] = o, h(e, t, n, r);
                                    }.bind(this, l, o, s, c)));
                                    break;

                                  case "PropertyArray":
                                    s.content[c] = [], r.forEach(function(e, n) {
                                        g.push(t.unserialize(e, d).then(function(e, t, r) {
                                            e.content[t][n] = r;
                                        }.bind(this, s, c)));
                                    });
                                    break;

                                  case "KVArray":
                                    s.content[c] = r, h(l, o, s, c);
                                    break;

                                  case "long":
                                  case "Long":
                                  case "byte":
                                  case "Byte":
                                  case "Number":
                                    s.content[c] = +r;
                                    break;

                                  default:
                                    s.content[c] = r, h(l, o, s, c);
                                }
                            }
                        });
                    }
                    Promise.all(g).then(function() {
                        n(s);
                    });
                });
            }, p.prototype.serialize = function(e, t) {
                var n = this.serializeMap[t], r = {};
                for (var o in n) e.hasOwnProperty(o) && (r[n[o]] = e[o]);
                return r;
            }, p.prototype.matchNosSafeUrl = function(e) {
                if (!i.isString(e) || !~e.indexOf("_im_url=1")) return !1;
                var t = o(e);
                return !(!t || !t._im_url || 1 != t._im_url);
            }, p.prototype.getOneNosOriginUrl = function(e, t, n) {
                var r = this;
                return new Promise(function(o, i) {
                    r.protocol.getNosOriginUrlReqNum++, r.protocol.sendCmd("getNosOriginUrl", {
                        nosFileUrlTag: {
                            safeUrl: e
                        }
                    }, function(e, i, a) {
                        r.protocol.getNosOriginUrlReqNum--, e ? r.protocol.logger.warn("error: get nos originUrl failed", e) : (t["_" + n + "_safe"] = t[n], 
                        t[n] = a.nosFileUrlTag && a.nosFileUrlTag.originUrl), o();
                    });
                });
            }, p.prototype.checkObjSafeUrl = function(e, t, n) {
                var r = this;
                for (var o in e) if (e.hasOwnProperty(o)) {
                    var a = e[o];
                    if (i.isString(a)) {
                        if (this.matchNosSafeUrl(a)) {
                            var s = this.getOneNosOriginUrl(a, e, o);
                            t.push(s), n.push(s);
                        }
                    } else i.isObject(a) ? this.checkObjSafeUrl(a, t, n) : i.isArray(a) && a.forEach(function(e) {
                        i.isObject(e) && r.checkObjSafeUrl(e, t, n);
                    });
                }
            };
            var m = [ "url", "avatar", "fromAvatar", "chatroomAvatar" ];
            p.prototype.unserialize = function(e, t) {
                var n = this;
                return new Promise(function(r, o) {
                    var i = n.unserializeMap[t], a = {}, s = [];
                    if (e) for (var c in i) {
                        var u = [];
                        if (e.hasOwnProperty(c) && (a[i[c]] = e[c], !n.protocol.keepNosSafeUrl)) if ("attach" === i[c] && e[c] && e[c].indexOf && ~e[c].indexOf("_im_url=1")) try {
                            var l = JSON.parse(e[c]);
                            l.isS3 || n.checkObjSafeUrl(l, u, s), Promise.all(u).then(function(e, t) {
                                e.attach = JSON.stringify(t);
                            }.bind(n, a, l));
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            n.logger.warn("unserialize", e && e.message);
                        } else ~m.indexOf(i[c]) && e[c] && n.matchNosSafeUrl(e[c]) && s.push(n.getOneNosOriginUrl(e[c], a, i[c]));
                    }
                    Promise.all(s).then(function(e) {
                        r(a);
                    });
                });
            }, p.prototype.syncUnserialize = function(e, t) {
                var n = this.unserializeMap[t], r = {};
                if (e) for (var o in n) e.hasOwnProperty(o) && (r[n[o]] = e[o]);
                return r;
            };
            var g = new p({
                configMap: s,
                serializeMap: c,
                unserializeMap: u
            }), h = new p({
                configMap: l,
                serializeMap: d,
                unserializeMap: f
            });
            e.exports = {
                IM: g,
                Chatroom: h
            };
        }, function(e, t, n) {
            var r = n(0), o = r.notundef, i = r.fillPropertyWithDefault, a = {
                0: "normal",
                1: "owner",
                2: "manager"
            };
            function s(e) {
                r.verifyOptions(e, "teamId", "team::TeamMember"), r.verifyParamAtLeastPresentOne(e, "nickInTeam muteTeam muteNotiType custom", "team::TeamMember"), 
                this.teamId = e.teamId, o(e.account) && (this.account = e.account), o(e.nickInTeam) && (this.nickInTeam = e.nickInTeam), 
                o(e.muteNotiType) ? this.bits = e.muteNotiType : o(e.muteTeam) && (this.bits = 0, 
                e.muteTeam && (this.bits += 1)), o(e.mute) && (this.mute = e.mute ? 1 : 0), o(e.custom) && (this.custom = "" + e.custom);
            }
            s.reverse = function(e) {
                var t = r.copy(e);
                if (o(t.teamId) && (t.teamId = "" + t.teamId), o(t.type) && (t.type = a[t.type]), 
                o(t.active) && (t.active = 1 == +t.active), o(t.valid) && (t.valid = 1 == +t.valid), 
                o(t.mute) && (t.mute = 1 == +t.mute), o(t.joinTime) && (t.joinTime = +t.joinTime), 
                o(t.updateTime) && (t.updateTime = +t.updateTime), o(t.bits)) {
                    var n = t.bits;
                    delete t.bits, t.muteTeam = !!(1 & n), t.muteNotiType = n;
                }
                return o(t.teamId) && o(t.account) && (t.id = s.genId(t.teamId, t.account)), t;
            }, s.reverseMembers = function(e) {
                return e.map(function(e) {
                    return s.reverse(e);
                });
            }, s.fillProperties = function(e) {
                var t = i(e, "mute", !1), n = i(e, "custom", "");
                return t || n;
            }, s.genId = function(e, t) {
                return e + "-" + t;
            }, s.accounts2ids = function(e, t) {
                return t.map(function(t) {
                    return s.genId(e, t);
                });
            }, s.assembleMembers = function(e, t) {
                return r.isArray(t) || (t = [ t ]), t.map(function(t) {
                    return s.assembleMember(e, t);
                });
            }, s.assembleMember = function(e, t) {
                return {
                    id: s.genId(e.teamId, t),
                    account: t,
                    teamId: e.teamId,
                    type: "normal",
                    nickInTeam: "",
                    muteTeam: !1,
                    mute: !1,
                    joinTime: e.memberUpdateTime,
                    updateTime: e.memberUpdateTime,
                    active: !0,
                    valid: !0,
                    invitorAccid: ""
                };
            }, s.assembleOwner = function(e) {
                var t = s.assembleMember(e, e.owner);
                return t.type = "owner", t;
            }, e.exports = s;
        }, function(e, t, n) {
            var r = n(0), o = r.undef, i = r.notundef, a = n(19).IM, s = n(25), c = n(20), u = {
                customP2p: 100,
                customTeam: 101,
                customSuperTeam: 103,
                deleteMsgP2p: 7,
                deleteMsgTeam: 8,
                deleteMsgSuperTeam: 12,
                deleteOnewayMsgP2p: 13,
                deleteOnewayMsgTeam: 14
            }, l = {
                0: "applyTeam",
                1: "rejectTeamApply",
                2: "teamInvite",
                3: "rejectTeamInvite",
                5: "friendRequest",
                6: "deleteFriend",
                7: "deleteMsgP2p",
                8: "deleteMsgTeam",
                12: "deleteMsgSuperTeam",
                13: "deleteMsgP2pOneWay",
                14: "deleteMsgTeamOneWay",
                15: "applySuperTeam",
                16: "rejectSuperTeamApply",
                17: "superTeamInvite",
                18: "rejectSuperTeamInvite",
                100: "customP2p",
                101: "customTeam",
                103: "customSuperTeam",
                102: "customP2p"
            }, d = {
                1: "addFriend",
                2: "applyFriend",
                3: "passFriendApply",
                4: "rejectFriendApply"
            }, f = [ "team", "superTeam", "friend", "msg" ], p = {
                applyTeam: "team",
                rejectTeamApply: "team",
                teamInvite: "team",
                rejectTeamInvite: "team",
                applySuperTeam: "superTeam",
                rejectSuperTeamApply: "superTeam",
                superTeamInvite: "superTeam",
                rejectSuperTeamInvite: "superTeam",
                addFriend: "friend",
                applyFriend: "friend",
                passFriendApply: "friend",
                rejectFriendApply: "friend",
                deleteFriend: "friend",
                deleteMsg: "msg"
            };
            function m(e) {
                r.verifyOptions(e, "type to", "sysmsg::SystemMessage"), r.verifyParamValid("type", e.type, m.validTypes, "sysmsg::SystemMessage"), 
                -1 !== e.type.indexOf("custom") && (r.verifyOptions(e, "content", "sysmsg::SystemMessage"), 
                this.attach = e.content, i(e.apnsText) && (this.apnsText = "" + e.apnsText), i(e.pushPayload) && ("object" == _typeof(e.pushPayload) ? this.pushPayload = JSON.stringify(e.pushPayload) : this.pushPayload = "" + e.pushPayload), 
                i(e.sendToOnlineUsersOnly) && (this.sendToOnlineUsersOnly = e.sendToOnlineUsersOnly ? 0 : 1), 
                i(e.cc) && (this.cc = e.cc ? 1 : 0), i(e.isPushable) && (this.isPushable = e.isPushable ? 1 : 0), 
                i(e.isUnreadable) && (this.isUnreadable = e.isUnreadable ? 1 : 0), i(e.needPushNick) && (this.needPushNick = e.needPushNick ? 1 : 0)), 
                0 === e.type.indexOf("deleteMsg") && (e.apnsText && (this.apnsText = e.apnsText), 
                e.pushPayload && (this.pushPayload = e.pushPayload), e.attach && (this.attach = e.attach)), 
                this.time = e.time || +new Date(), this.type = u[e.type], this.to = e.to, i(e.from) && (this.from = e.from), 
                i(e.ps) && (this.ps = e.ps), i(e.deletedIdClient) && (this.deletedIdClient = e.deletedIdClient), 
                i(e.deletedIdServer) && (this.deletedIdServer = e.deletedIdServer), i(e.opeAccount) && (this.opeAccount = e.opeAccount), 
                i(e.yidunEnable) && (this.yidunEnable = e.yidunEnable ? 1 : 0), i(e.antiSpamContent) && ("object" == _typeof(e.antiSpamContent) ? this.antiSpamContent = JSON.stringify(e.antiSpamContent) : this.antiSpamContent = "" + e.antiSpamContent), 
                i(e.antiSpamBusinessId) && ("object" == _typeof(e.antiSpamBusinessId) ? this.antiSpamBusinessId = JSON.stringify(e.antiSpamBusinessId) : this.antiSpamBusinessId = "" + e.antiSpamBusinessId), 
                i(e.env) && (this.env = e.env), this.idClient = e.idClient || r.guid();
            }
            m.validTypes = Object.keys(u).concat(Object.keys(p)), m.validCategories = [ "team", "friend" ], 
            m.isCustom = function(e) {
                return "custom" === e.type;
            }, m.reverse = function(e) {
                var t = {
                    time: +e.time,
                    to: e.to,
                    type: l[e.type]
                };
                if (i(e.from) && (t.from = e.from), i(e.idServer) && (t.idServer = "" + e.idServer), 
                i(e.deletedIdClient) && (t.deletedIdClient = e.deletedIdClient), i(e.deletedIdServer) && (t.deletedIdServer = "" + e.deletedIdServer), 
                i(e.deletedMsgTime) && (t.deletedMsgTime = +e.deletedMsgTime), i(e.deletedMsgFromNick) && (t.deletedMsgFromNick = "" + e.deletedMsgFromNick), 
                i(e.opeAccount) && (t.opeAccount = e.opeAccount), i(e.ps) && (t.ps = e.ps), i(e.callbackExt) && (t.callbackExt = e.callbackExt), 
                e.attach = e.attach ? "" + e.attach : "", "customP2p" === t.type || "customTeam" === t.type || "customSuperTeam" === t.type) t.content = e.attach, 
                i(e.apnsText) && (t.apnsText = e.apnsText), i(e.pushPayload) && (t.pushPayload = e.pushPayload), 
                r.merge(t, {
                    sendToOnlineUsersOnly: o(e.sendToOnlineUsersOnly) || 0 == +e.sendToOnlineUsersOnly,
                    cc: o(e.cc) || 1 == +e.cc,
                    isPushable: o(e.isPushable) || 1 == +e.isPushable,
                    isUnreadable: o(e.isUnreadable) || 1 == +e.isUnreadable,
                    needPushNick: i(e.needPushNick) && 1 == +e.needPushNick
                }), t.scene = t.type.slice(6).toLowerCase(), t.type = "custom"; else if (0 === t.type.indexOf("deleteMsg")) {
                    e.apnsText && (t.apnsText = e.apnsText), e.pushPayload && (t.pushPayload = e.pushPayload), 
                    e.attach && (t.attach = e.attach);
                    var n = t.type.toLowerCase();
                    n.indexOf("p2p") > -1 ? t.scene = "p2p" : n.indexOf("superteam") > -1 ? t.scene = "superTeam" : n.indexOf("team") > -1 && (t.scene = "team"), 
                    t.type = "deleteMsg";
                } else {
                    if (e.attach) {
                        t.attach = {};
                        var u = JSON.parse(e.attach);
                        i(u.vt) ? (t.type = d[u.vt], u.serverex && 1 === u.serverex[0] && (t.serverex = u.serverex[1]), 
                        delete t.attach) : (i(u.tinfo) && (t.attach.team = s.reverse(a.syncUnserialize(u.tinfo, "team"))), 
                        i(u.tlist) && (t.attach.member = c.reverse(a.syncUnserialize(u.tlist, "teamMember"))), 
                        i(u.attach) && (t.attach.custom = u.attach));
                    }
                    t.category = p[t.type], t.read = !1, t.state = "init";
                }
                return i(e.cc) && (t.cc = 1 == +e.cc), t.status = e.status || "success", i(e.filter) && (t.filter = e.filter), 
                t;
            }, m.reverseSysMsgs = function(e, t) {
                var n = (t = t || {}).mapper, o = r.isFunction(n);
                return e.map(function(e) {
                    return e = m.reverse(e), o && (e = n(e)), e;
                });
            }, m.completeUnread = function(e) {
                var t;
                return e = e || {}, f.forEach(function(t) {
                    delete e[t];
                }), Object.keys(p).forEach(function(n) {
                    e[n] = e[n] || 0, e[n] < 0 && (e[n] = 0), e[t = p[n]] = e[t] || 0, e[t] = e[t] + e[n];
                }), e.total = 0, f.forEach(function(t) {
                    e.total += e[t];
                }), e;
            }, e.exports = m;
        }, function(e, t) {
            e.exports = function() {
                function e() {
                    _classCallCheck(this, e), this._entries = [];
                }
                return _createClass(e, [ {
                    key: "append",
                    value: function(e, t) {
                        if ("string" != typeof e) throw new TypeError("FormData name must be a string");
                        if ("string" != typeof t && ("object" != _typeof(t) || "string" != typeof t.uri)) throw new TypeError("FormData value must be a string or { uri: tempFilePath }");
                        this._entries.push([ e, t ]);
                    }
                }, {
                    key: "set",
                    value: function(e, t) {
                        var n = this.get(e);
                        n ? n[1] = t : this.append(e, t);
                    }
                }, {
                    key: "delete",
                    value: function(e) {
                        this._entries = this._entries.filter(function(t) {
                            return t[0] !== e;
                        });
                    }
                }, {
                    key: "entries",
                    value: function() {
                        return this._entries;
                    }
                }, {
                    key: "get",
                    value: function(e) {
                        return this._entries.find(function(t) {
                            return t[0] === e;
                        });
                    }
                }, {
                    key: "getAll",
                    value: function(e) {
                        return this._entries.filter(function(t) {
                            return t[0] === e;
                        });
                    }
                }, {
                    key: "has",
                    value: function(e) {
                        return this._entries.some(function(t) {
                            return t[0] === e;
                        });
                    }
                }, {
                    key: "keys",
                    value: function() {
                        return this._entries.map(function(e) {
                            return e[0];
                        });
                    }
                }, {
                    key: "values",
                    value: function() {
                        return this._entries.map(function(e) {
                            return e[1];
                        });
                    }
                } ]), e;
            }();
        }, function(e, t, n) {
            var r = n(6), o = r.f, i = n(66);
            function a(e) {
                e.onload && this.once("load", e.onload), e.onerror && this.once("error", e.onerror), 
                e.onbeforesend && this.once("beforesend", e.onbeforesend), e.onaftersend && this.once("aftersend", e.onaftersend);
                var t = (e = this.options = r.fetch({
                    method: "GET",
                    url: "",
                    sync: !1,
                    data: null,
                    headers: {},
                    cookie: !1,
                    timeout: 6e4,
                    type: "text",
                    form: null,
                    input: null,
                    putFileAtEnd: !1,
                    proxyUrl: ""
                }, e)).headers;
                r.notexist(t["Content-Type"]) && (t["Content-Type"] = "application/x-www-form-urlencoded"), 
                this.send();
            }
            var s = a.prototype = Object.create(i.prototype);
            s.send = function() {
                var e = this, t = e.options;
                setTimeout(function() {
                    try {
                        try {
                            e.emit("beforesend", t);
                        } catch (e) {}
                        e.doSend();
                    } catch (t) {
                        t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                        e.onError("serverError", "请求失败:" + t.message);
                    }
                }, 0);
            }, s.doSend = o, s.afterSend = function() {
                var e = this;
                setTimeout(function() {
                    e.emit("aftersend", e.options);
                }, 0);
            }, s.onLoad = function(e) {
                var t = this.options, n = e.status, r = e.result;
                if ("number" != typeof n || 0 !== n) if (0 === ("" + n).indexOf("2")) {
                    if ("json" === t.type) try {
                        r = JSON.parse(r);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return void this.onError("parseError", r);
                    }
                    this.emit("load", r);
                } else this.onError("serverError", "服务器返回异常状态", {
                    status: n,
                    result: r,
                    date: e.date
                }); else this.onError("netError", "网络错误");
            }, s.onError = function(e, t, n) {
                var o = r.isObject(n) ? n : {};
                o.code = e || "error", o.message = t || "发生错误", this.emit("error", o);
            }, s.onTimeout = function() {
                this.onError("timeout", "请求超时");
            }, s.abort = function() {
                this.onError("abort", "客户端中止");
            }, s.header = function(e) {
                var t = this;
                if (!r.isArray(e)) return t.getResponseHeader(e || "");
                var n = {};
                return e.forEach(function(e) {
                    n[e] = t.header(e);
                }), n;
            }, s.getResponseHeader = o, s.destroy = o, e.exports = a;
        }, function(e, t) {
            var n = {
                link: {
                    id: 1,
                    heartbeat: 2,
                    negotiateTransport: 5,
                    initTransport: 6
                },
                sync: {
                    id: 5,
                    sync: 1,
                    syncTeamMembers: 2
                },
                misc: {
                    id: 6,
                    getSimpleNosToken: 1,
                    getNosToken: 2,
                    notifyUploadLog: 3,
                    uploadSdkLogUrl: 4,
                    audioToText: 5,
                    processImage: 6,
                    getNosTokenTrans: 7,
                    notifyTransLog: 8,
                    fetchFile: 9,
                    fetchFileList: 10,
                    removeFile: 11,
                    getClientAntispam: 17,
                    fileQuickTransfer: 18,
                    getNosOriginUrl: 22,
                    getServerTime: 23,
                    getNosAccessToken: 24,
                    deleteNosAccessToken: 25,
                    getNosCdnHost: 26,
                    getGrayscaleConfig: 27,
                    getMixStorePolicy: 28,
                    getMixStoreToken: 29,
                    getBackSourceToken: 30
                },
                avSignal: {
                    id: 15,
                    signalingCreate: 1,
                    signalingDelay: 2,
                    signalingClose: 3,
                    signalingJoin: 4,
                    signalingLeave: 5,
                    signalingInvite: 6,
                    signalingCancel: 7,
                    signalingReject: 8,
                    signalingAccept: 9,
                    signalingControl: 10,
                    signalingNotify: 11,
                    signalingMutilClientSyncNotify: 12,
                    signalingUnreadMessageSyncNotify: 13,
                    signalingChannelsSyncNotify: 14,
                    signalingGetChannelInfo: 15
                }
            }, r = {
                heartbeat: {
                    sid: n.link.id,
                    cid: n.link.heartbeat
                },
                negotiateTransport: {
                    sid: n.link.id,
                    cid: n.link.negotiateTransport,
                    params: [ {
                        type: "int",
                        name: "sdkVersion"
                    }, {
                        type: "Property",
                        name: "negotiateTransportTag"
                    } ]
                },
                initTransport: {
                    sid: n.link.id,
                    cid: n.link.initTransport,
                    params: [ {
                        type: "Property",
                        name: "initTransportTag"
                    } ]
                },
                getGrayscaleConfig: {
                    sid: n.misc.id,
                    cid: n.misc.getGrayscaleConfig,
                    params: [ {
                        type: "Property",
                        name: "providers"
                    } ]
                },
                getMixStorePolicy: {
                    sid: n.misc.id,
                    cid: n.misc.getMixStorePolicy,
                    params: [ {
                        type: "LongArray",
                        name: "providers"
                    } ]
                },
                getMixStoreToken: {
                    sid: n.misc.id,
                    cid: n.misc.getMixStoreToken,
                    params: [ {
                        type: "Property",
                        name: "mixTokenReq"
                    } ]
                },
                getBackSourceToken: {
                    sid: n.misc.id,
                    cid: n.misc.getBackSourceToken,
                    params: [ {
                        type: "Property",
                        name: "mixAuthTokenReq"
                    } ]
                },
                getSimpleNosToken: {
                    sid: n.misc.id,
                    cid: n.misc.getSimpleNosToken,
                    params: [ {
                        type: "int",
                        name: "num"
                    } ]
                },
                getNosToken: {
                    sid: n.misc.id,
                    cid: n.misc.getNosToken,
                    params: [ {
                        type: "String",
                        name: "responseBody"
                    }, {
                        type: "Property",
                        name: "nosToken",
                        entity: "nosToken"
                    } ]
                },
                uploadSdkLogUrl: {
                    sid: n.misc.id,
                    cid: n.misc.uploadSdkLogUrl,
                    params: [ {
                        type: "string",
                        name: "url"
                    } ]
                },
                audioToText: {
                    sid: n.misc.id,
                    cid: n.misc.audioToText,
                    params: [ {
                        type: "Property",
                        name: "audioToText"
                    } ]
                },
                processImage: {
                    sid: n.misc.id,
                    cid: n.misc.processImage,
                    params: [ {
                        type: "String",
                        name: "url"
                    }, {
                        type: "PropertyArray",
                        name: "imageOps",
                        entity: "imageOp"
                    } ]
                },
                getClientAntispam: {
                    sid: n.misc.id,
                    cid: n.misc.getClientAntispam,
                    params: [ {
                        type: "Property",
                        name: "clientAntispam"
                    } ]
                },
                fileQuickTransfer: {
                    sid: n.misc.id,
                    cid: n.misc.fileQuickTransfer,
                    params: [ {
                        type: "Property",
                        name: "fileQuickTransfer"
                    } ]
                },
                getNosOriginUrl: {
                    sid: n.misc.id,
                    cid: n.misc.getNosOriginUrl,
                    params: [ {
                        type: "Property",
                        name: "nosFileUrlTag"
                    } ]
                },
                getServerTime: {
                    sid: n.misc.id,
                    cid: n.misc.getServerTime,
                    params: []
                },
                getNosAccessToken: {
                    sid: n.misc.id,
                    cid: n.misc.getNosAccessToken,
                    params: [ {
                        type: "Property",
                        name: "nosAccessTokenTag"
                    } ]
                },
                deleteNosAccessToken: {
                    sid: n.misc.id,
                    cid: n.misc.deleteNosAccessToken,
                    params: [ {
                        type: "Property",
                        name: "nosAccessTokenTag"
                    } ]
                },
                getNosTokenTrans: {
                    sid: n.misc.id,
                    cid: n.misc.getNosTokenTrans,
                    params: [ {
                        type: "Property",
                        name: "transToken"
                    } ]
                },
                fetchFile: {
                    sid: n.misc.id,
                    cid: n.misc.fetchFile,
                    params: [ {
                        type: "String",
                        name: "docId"
                    } ]
                },
                fetchFileList: {
                    sid: n.misc.id,
                    cid: n.misc.fetchFileList,
                    params: [ {
                        type: "Property",
                        name: "fileListParam"
                    } ]
                },
                removeFile: {
                    sid: n.misc.id,
                    cid: n.misc.removeFile,
                    params: [ {
                        type: "String",
                        name: "docId"
                    } ]
                },
                getNosCdnHost: {
                    sid: n.misc.id,
                    cid: n.misc.getNosCdnHost,
                    params: []
                },
                signalingCreate: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingCreate,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingDelay: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingDelay,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingClose: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingClose,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingJoin: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingJoin,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingLeave: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingLeave,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingInvite: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingInvite,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingCancel: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingCancel,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingReject: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingReject,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingAccept: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingAccept,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingControl: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingControl,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                },
                signalingGetChannelInfo: {
                    sid: n.avSignal.id,
                    cid: n.avSignal.signalingGetChannelInfo,
                    params: [ {
                        type: "Property",
                        name: "avSignalTag"
                    } ]
                }
            };
            e.exports = {
                idMap: n,
                cmdConfig: r,
                packetConfig: {
                    "1_2": {
                        service: "link",
                        cmd: "heartbeat"
                    },
                    "1_5": {
                        service: "link",
                        cmd: "negotiateTransport",
                        response: [ {
                            type: "Property",
                            name: "negotiateTransportTag"
                        } ]
                    },
                    "1_6": {
                        service: "link",
                        cmd: "initTransport",
                        response: [ {
                            type: "Property",
                            name: "initTransportTag"
                        } ]
                    },
                    "6_1": {
                        service: "misc",
                        cmd: "getSimpleNosToken",
                        response: [ {
                            type: "PropertyArray",
                            name: "nosTokens",
                            entity: "nosToken"
                        } ]
                    },
                    "6_2": {
                        service: "misc",
                        cmd: "getNosToken",
                        response: [ {
                            type: "Property",
                            name: "nosToken"
                        } ]
                    },
                    "6_3": {
                        service: "misc",
                        cmd: "notifyUploadLog"
                    },
                    "6_4": {
                        service: "misc",
                        cmd: "uploadSdkLogUrl"
                    },
                    "6_5": {
                        service: "misc",
                        cmd: "audioToText",
                        response: [ {
                            type: "String",
                            name: "text"
                        } ]
                    },
                    "6_6": {
                        service: "misc",
                        cmd: "processImage",
                        response: [ {
                            type: "String",
                            name: "url"
                        } ]
                    },
                    "6_7": {
                        service: "misc",
                        cmd: "getNosTokenTrans",
                        response: [ {
                            type: "Property",
                            name: "nosToken"
                        }, {
                            type: "String",
                            name: "docId"
                        } ]
                    },
                    "6_8": {
                        service: "misc",
                        cmd: "notifyTransLog",
                        response: [ {
                            type: "Property",
                            name: "transInfo"
                        } ]
                    },
                    "6_9": {
                        service: "misc",
                        cmd: "fetchFile",
                        response: [ {
                            type: "Property",
                            name: "info",
                            entity: "transInfo"
                        } ]
                    },
                    "6_10": {
                        service: "misc",
                        cmd: "fetchFileList",
                        response: [ {
                            type: "PropertyArray",
                            name: "list",
                            entity: "transInfo"
                        }, {
                            type: "Number",
                            name: "totalCount"
                        } ]
                    },
                    "6_11": {
                        service: "misc",
                        cmd: "removeFile",
                        response: [ {
                            type: "String",
                            name: "res"
                        } ]
                    },
                    "6_17": {
                        service: "misc",
                        cmd: "getClientAntispam",
                        response: [ {
                            type: "Property",
                            name: "clientAntispam"
                        } ]
                    },
                    "6_18": {
                        service: "misc",
                        cmd: "fileQuickTransfer",
                        response: [ {
                            type: "Property",
                            name: "fileQuickTransfer"
                        } ]
                    },
                    "6_22": {
                        service: "misc",
                        cmd: "getNosOriginUrl",
                        response: [ {
                            type: "Property",
                            name: "nosFileUrlTag"
                        } ]
                    },
                    "6_23": {
                        service: "misc",
                        cmd: "getServerTime",
                        response: [ {
                            type: "Number",
                            name: "time"
                        } ]
                    },
                    "6_24": {
                        service: "misc",
                        cmd: "getNosAccessToken",
                        response: [ {
                            type: "Property",
                            name: "nosAccessTokenTag"
                        } ]
                    },
                    "6_25": {
                        service: "misc",
                        cmd: "deleteNosAccessToken"
                    },
                    "6_26": {
                        service: "misc",
                        cmd: "getNosCdnHost",
                        response: [ {
                            type: "Property",
                            name: "nosConfigTag"
                        } ]
                    },
                    "6_27": {
                        service: "misc",
                        cmd: "getGrayscaleConfig",
                        response: [ {
                            type: "Property",
                            name: "appGrayConfigTag"
                        } ]
                    },
                    "6_28": {
                        service: "misc",
                        cmd: "getMixStorePolicy",
                        response: [ {
                            type: "Property",
                            name: "mixStorePolicyTag"
                        } ]
                    },
                    "6_29": {
                        service: "misc",
                        cmd: "getMixStoreToken",
                        response: [ {
                            type: "Property",
                            name: "mixStoreTokenTag"
                        } ]
                    },
                    "6_30": {
                        service: "misc",
                        cmd: "getBackSourceToken",
                        response: [ {
                            type: "Property",
                            name: "backSourceTokenTag"
                        } ]
                    },
                    "15_1": {
                        service: "avSignal",
                        cmd: "signalingCreate",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_2": {
                        service: "avSignal",
                        cmd: "signalingDelay",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_3": {
                        service: "avSignal",
                        cmd: "signalingClose",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_4": {
                        service: "avSignal",
                        cmd: "signalingJoin",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_5": {
                        service: "avSignal",
                        cmd: "signalingLeave",
                        response: []
                    },
                    "15_6": {
                        service: "avSignal",
                        cmd: "signalingInvite",
                        response: []
                    },
                    "15_7": {
                        service: "avSignal",
                        cmd: "signalingCancel",
                        response: []
                    },
                    "15_8": {
                        service: "avSignal",
                        cmd: "signalingReject",
                        response: []
                    },
                    "15_9": {
                        service: "avSignal",
                        cmd: "signalingAccept",
                        response: []
                    },
                    "15_10": {
                        service: "avSignal",
                        cmd: "signalingControl",
                        response: []
                    },
                    "15_11": {
                        service: "avSignal",
                        cmd: "signalingNotify",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_12": {
                        service: "avSignal",
                        cmd: "signalingMutilClientSyncNotify",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_13": {
                        service: "avSignal",
                        cmd: "signalingUnreadMessageSyncNotify",
                        response: [ {
                            type: "PropertyArray",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_14": {
                        service: "avSignal",
                        cmd: "signalingChannelsSyncNotify",
                        response: [ {
                            type: "PropertyArray",
                            name: "avSignalTag"
                        } ]
                    },
                    "15_15": {
                        service: "avSignal",
                        cmd: "signalingGetChannelInfo",
                        response: [ {
                            type: "Property",
                            name: "avSignalTag"
                        } ]
                    }
                }
            };
        }, function(e, t, n) {
            var r = n(0), o = r.notundef, i = r.fillPropertyWithDefault, a = Object.keys, s = {}, c = {}, u = [], l = {}, d = {
                normal: 0,
                advanced: 1
            }, f = {
                0: "normal",
                1: "advanced"
            }, p = a(d), m = s.joinMode = {
                noVerify: 0,
                needVerify: 1,
                rejectAll: 2
            };
            c.joinMode = {
                0: "noVerify",
                1: "needVerify",
                2: "rejectAll"
            }, u.push("join"), l.joinMode = a(m);
            var g = s.beInviteMode = {
                needVerify: 0,
                noVerify: 1
            };
            c.beInviteMode = {
                0: "needVerify",
                1: "noVerify"
            }, u.push("beInvite"), l.beInviteMode = a(g);
            var h = s.inviteMode = {
                manager: 0,
                all: 1
            };
            c.inviteMode = {
                0: "manager",
                1: "all"
            }, u.push("invite"), l.inviteMode = a(h);
            var y = s.updateTeamMode = {
                manager: 0,
                all: 1
            };
            c.updateTeamMode = {
                0: "manager",
                1: "all"
            }, u.push("updateTeam"), l.updateTeamMode = a(y);
            var v = s.updateCustomMode = {
                manager: 0,
                all: 1
            };
            function b(e) {
                switch (r.verifyOptions(e, "action", "team::Team"), e.action) {
                  case "create":
                    r.verifyOptions(e, "teamId", !1, "team::Team"), r.verifyOptions(e, "type name", "team::Team"), 
                    r.verifyParamValid("type", e.type, p, "team::Team"), o(e.level) && (r.verifyParamType("level", e.level, "number", "team::Team"), 
                    this.level = e.level);
                    break;

                  case "update":
                    r.verifyOptions(e, "teamId", "team::Team"), r.verifyOptions(e, "type", !1, "team::Team");
                }
                o(e.teamId) && (this.teamId = e.teamId), o(e.type) && (this.type = d[e.type]), o(e.avatar) && (this.avatar = "" + e.avatar), 
                o(e.name) && (this.name = "" + e.name), o(e.intro) && (this.intro = "" + e.intro), 
                o(e.announcement) && (this.announcement = "" + e.announcement), u.forEach(this.setMode.bind(this, e)), 
                o(e.custom) && (this.custom = "" + e.custom);
            }
            function T(e, t) {
                o(e[t += "Mode"]) && (e[t] = c[t][e[t]]);
            }
            c.updateCustomMode = {
                0: "manager",
                1: "all"
            }, u.push("updateCustom"), l.updateCustomMode = a(v), b.prototype.setMode = function(e, t) {
                o(e[t += "Mode"]) && (r.verifyParamValid(t, e[t], l[t], "team::Team"), this[t] = s[t][e[t]]);
            }, b.reverse = function(e, t) {
                var n = r.copy(e);
                if (o(n.teamId) && (n.teamId = "" + n.teamId), o(n.type) && (n.type = f[n.type]), 
                o(n.level) && (n.level = +n.level), o(n.valid) && (n.valid = 1 == +n.valid), o(n.memberNum) && (n.memberNum = +n.memberNum), 
                o(n.memberUpdateTime) && (n.memberUpdateTime = +n.memberUpdateTime), o(n.createTime) && (n.createTime = +n.createTime), 
                o(n.updateTime) && (n.updateTime = +n.updateTime), o(n.validToCurrentUser) && (n.validToCurrentUser = "1" === n.validToCurrentUser), 
                o(n.mute) && (n.mute = "1" === n.mute), o(n.muteType)) switch (n.muteType) {
                  case "0":
                    n.mute = !1, n.muteType = "none";
                    break;

                  case "1":
                    n.mute = !0, n.muteType = "normal";
                    break;

                  case "3":
                    n.mute = !0, n.muteType = "all";
                } else o(n.mute) && (1 === n.mute ? (n.mute = !0, n.muteType = "normal") : (n.mute = !1, 
                n.muteType = "none"));
                return u.forEach(T.bind(null, n)), delete n.bits, t || b.fillProperties(n), n;
            }, b.fillProperties = function(e) {
                var t = i(e, "beInviteMode", "needVerify"), n = i(e, "inviteMode", "manager"), r = i(e, "updateTeamMode", "manager"), o = i(e, "updateCustomMode", "manager"), a = i(e, "avatar", "");
                return t || n || r || o || a;
            }, e.exports = b;
        }, function(e, t, n) {
            var r = n(5).clientTypeMap;
            function o() {}
            o.reverse = function(e) {
                var t = e;
                return t.type = r[t.type], t;
            }, o.reverseType = function(e) {
                return r[e] || e;
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(0);
            function o() {}
            o.parse = function(e) {
                var t = e.split("|");
                return {
                    scene: t[0],
                    to: t[1]
                };
            }, o.genSessionByMsg = function(e) {
                return {
                    id: e.sessionId,
                    scene: e.scene,
                    to: e.target,
                    updateTime: e.time,
                    lastMsg: e
                };
            }, o.appendLastMsg = function(e) {
                var t = e.lastMsg;
                e["last" + r.capFirstLetter(t.type) + "Msg"] = t, e["last" + r.capFirstLetter(t.flow) + "Msg"] = t;
            }, o.genSessionByMsgs = function(e, t) {
                var n = e.getLastNotIgnoredMsg(t);
                return n ? o.genSessionByMsg(n) : null;
            }, o.trim = function(e) {
                delete e.msgReceiptSendTime, delete e.msgReceiptServerTime, delete e.ack, delete e.unreadMsgs, 
                e.isDeleted || delete e.isDeleted;
            }, o.isComplete = function(e) {
                return e.id && e.scene && e.to;
            }, e.exports = o;
        }, , function(e, t, n) {
            var r = n(0), o = r.notundef, i = r.fillPropertyWithDefault, a = {
                0: "normal",
                1: "owner",
                2: "manager"
            };
            function s(e) {
                r.verifyOptions(e, "teamId", "superTeam::TeamMember"), r.verifyParamAtLeastPresentOne(e, "nickInTeam muteTeam custom", "superTeam::SuperTeamMember"), 
                this.teamId = e.teamId, o(e.account) && (this.account = e.account), o(e.nickInTeam) && (this.nickInTeam = e.nickInTeam), 
                o(e.muteTeam) && (this.bits = 0, e.muteTeam && (this.bits += 1)), o(e.mute) && (this.mute = e.mute ? 1 : 0), 
                o(e.custom) && (this.custom = "" + e.custom);
            }
            s.reverse = function(e) {
                var t = r.copy(e);
                if (o(t.teamId) && (t.teamId = "" + t.teamId), o(t.type) && (t.type = a[t.type]), 
                o(t.active) && (t.active = 1 == +t.active), o(t.valid) && (t.valid = 1 == +t.valid), 
                o(t.mute) && (t.mute = 1 == +t.mute), o(t.joinTime) && (t.joinTime = +t.joinTime), 
                o(t.updateTime) && (t.updateTime = +t.updateTime), o(t.bits)) {
                    var n = t.bits;
                    delete t.bits, t.muteTeam = !!(1 & n);
                }
                return o(t.teamId) && o(t.account) && (t.id = s.genId(t.teamId, t.account)), t;
            }, s.reverseMembers = function(e) {
                return e.map(function(e) {
                    return s.reverse(e);
                });
            }, s.fillProperties = function(e) {
                var t = i(e, "mute", !1), n = i(e, "custom", "");
                return t || n;
            }, s.genId = function(e, t) {
                return e + "-" + t;
            }, s.accounts2ids = function(e, t) {
                return t.map(function(t) {
                    return s.genId(e, t);
                });
            }, s.assembleMembers = function(e, t) {
                return r.isArray(t) || (t = [ t ]), t.map(function(t) {
                    return s.assembleMember(e, t);
                });
            }, s.assembleMember = function(e, t) {
                return {
                    id: s.genId(e.teamId, t),
                    account: t,
                    teamId: e.teamId,
                    type: "normal",
                    nickInTeam: "",
                    muteTeam: !1,
                    mute: !1,
                    joinTime: e.memberUpdateTime,
                    updateTime: e.memberUpdateTime,
                    active: !0,
                    valid: !0
                };
            }, s.assembleOwner = function(e) {
                var t = s.assembleMember(e, e.owner);
                return t.type = "owner", t;
            }, e.exports = s;
        }, function(e, t, n) {
            var r = n(16).genPrivateUrl, o = n(0), i = {
                unknown: 0,
                male: 1,
                female: 2
            }, a = {
                0: "unknown",
                1: "male",
                2: "female"
            };
            function s(e) {
                o.merge(this, e), o.notundef(this.gender) && (o.verifyParamValid("gender", this.gender, s.validGenders, "user::User"), 
                this.gender = i[this.gender]), o.notundef(this.email) && "" !== this.email && o.verifyEmail("email", this.email, "user::User"), 
                o.notundef(this.birth) && "" !== this.birth && o.verifyBirth("birth", this.birth, "user::User"), 
                o.notundef(this.tel) && "" !== this.tel && o.verifyTel("tel", this.tel, "user::User");
            }
            s.reverse = function(e, t, n) {
                var i = o.filterObj(e, "account nick avatar _avatar_safe sign gender email birth tel custom createTime updateTime");
                return o.notundef(i.avatar) && (i.avatar = r(i.avatar, t, n)), o.notundef(i.gender) && (i.gender = a[i.gender]), 
                o.notundef(i.createTime) && (i.createTime = +i.createTime), o.notundef(i.updateTime) && (i.updateTime = +i.updateTime), 
                i;
            }, s.reverseUsers = function(e) {
                return e.map(function(e) {
                    return s.reverse(e);
                });
            }, s.validGenders = Object.keys(i), e.exports = s;
        }, function(e, t, n) {
            var r = n(16).genPrivateUrl, o = n(15), i = n(0), a = n(1);
            function s(e) {
                switch (i.notundef(e.type) ? i.verifyFileType(e.type, "msg::FileMessage") : e.type = "file", 
                i.verifyOptions(e, "file", "msg::FileMessage"), i.verifyOptions(e.file, "url ext size", !0, "file.", "msg::FileMessage"), 
                e.type) {
                  case "image":
                    c.verifyFile(e.file, "msg::FileMessage");
                    break;

                  case "audio":
                    u.verifyFile(e.file, "msg::FileMessage");
                    break;

                  case "video":
                    l.verifyFile(e.file, "msg::FileMessage");
                }
                o.call(this, e), this.attach = JSON.stringify(e.file);
            }
            s.prototype = Object.create(o.prototype), s.reverse = function(e) {
                var t = o.reverse(e);
                return e.attach = e.attach ? "" + e.attach : "", t.file = e.attach ? JSON.parse(e.attach) : {}, 
                t.file.isS3 || (t.file.url = r(t.file.url)), "audio" !== t.type || t.file.mp3Url || (t.file.mp3Url = t.file.url + (~t.file.url.indexOf("?") ? "&" : "?") + "audioTrans&type=mp3"), 
                a.httpsEnabled && 0 !== t.file.url.indexOf("https://") && (t.file.url = t.file.url.replace("http", "https")), 
                t;
            }, e.exports = s;
            var c = n(145), u = n(146), l = n(147);
        }, , , function(e, t) {
            e.exports = new (function() {
                function e() {
                    _classCallCheck(this, e);
                }
                return _createClass(e, [ {
                    key: "getItem",
                    value: function(e) {
                        return wx.getStorageSync(e);
                    }
                }, {
                    key: "setItem",
                    value: function(e, t) {
                        return wx.setStorageSync(e, t);
                    }
                }, {
                    key: "removeItem",
                    value: function(e) {
                        return this.setItem(e, "");
                    }
                }, {
                    key: "clear",
                    value: function() {
                        return wx.clearStorageSync();
                    }
                } ]), e;
            }())();
        }, function(e, t, n) {
            var r = n(36), o = n(22);
            function i(e) {
                this.status = e.statusCode, this.statusText = e.statusCode, e.header && (this._responseHeaders = Object.keys(e.header).reduce(function(t, n) {
                    return t[n.toLowerCase()] = e.header[n], t;
                }, {}));
                var t = e.data;
                "string" != typeof t && (t = JSON.stringify(t)), this.responseText = this.response = t, 
                this.readyState = 4, this.dispatchEvent({
                    type: "readystatechange"
                });
            }
            var a = function() {
                function e() {
                    _classCallCheck(this, e);
                }
                return _createClass(e, [ {
                    key: "dispatchEvent",
                    value: function(e) {
                        var t = "on" + e.type;
                        "function" == typeof this[t] && this[t](e);
                    }
                } ]), e;
            }(), s = function() {
                function e() {
                    _classCallCheck(this, e), this.readyState = 0, this._headers = {}, this.upload = new a();
                }
                return _createClass(e, [ {
                    key: "dispatchEvent",
                    value: function(e) {
                        var t = "on" + e.type;
                        "function" == typeof this[t] && this[t](e);
                    }
                }, {
                    key: "abort",
                    value: function() {
                        if (!this._request || this._request.abort) return this.status = 0, this.readyState = 4, 
                        this._request.abort();
                        throw new Error("该版本基础库不支持 abort request");
                    }
                }, {
                    key: "getAllResponseHeaders",
                    value: function() {
                        var e = this;
                        return this._responseHeaders ? Object.keys(this._responseHeaders).map(function(t) {
                            return "".concat(t, ": ").concat(e._responseHeaders[t]);
                        }).join("\r\n") : "";
                    }
                }, {
                    key: "getResponseHeader",
                    value: function(e) {
                        var t = e.toLowerCase();
                        return this._responseHeaders && this._responseHeaders[t] ? this._responseHeaders[t] : null;
                    }
                }, {
                    key: "overrideMimeType",
                    value: function() {
                        throw new Error("not supported in weapp");
                    }
                }, {
                    key: "open",
                    value: function(e, t) {
                        var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                        if (0 !== this.readyState) throw new Error("request is already opened");
                        if (!n) throw new Error("sync request is not supported");
                        this._method = e, t = t.replace(/:443(\/|$)/, "$1"), this._url = t, this.readyState = 1, 
                        this.dispatchEvent({
                            type: "readystatechange"
                        });
                    }
                }, {
                    key: "setRequestHeader",
                    value: function(e, t) {
                        if (1 !== this.readyState) throw new Error("request is not opened");
                        this._headers[e.toLowerCase()] = t;
                    }
                }, {
                    key: "send",
                    value: function(e) {
                        var t = this;
                        if (1 !== this.readyState) throw new Error("request is not opened");
                        if (e instanceof o) {
                            var n = e.entries(), a = n.filter(function(e) {
                                return "string" != typeof e[1];
                            });
                            if (0 === a.length) throw new Error("Must specify a Blob field in FormData");
                            a.length > 1 && console.warn("Only the first Blob will be send in Weapp");
                            var s = n.filter(function(e) {
                                return "string" == typeof e[1];
                            }).reduce(function(e, t) {
                                return r(e, _defineProperty({}, t[0], t[1]));
                            }, {});
                            this._request = wx.uploadFile({
                                url: this._url,
                                name: a[0][0],
                                filePath: a[0][1].uri,
                                formData: s,
                                header: this._headers,
                                success: i.bind(this),
                                fail: function(e) {
                                    t.status = 0, t.readyState = 4, t.dispatchEvent({
                                        type: "readystatechange"
                                    }), t.dispatchEvent({
                                        type: "error"
                                    });
                                }
                            }), this._request && this._request.onProgressUpdate && this._request.onProgressUpdate(function(e) {
                                var n = e.totalBytesSent, r = e.totalBytesExpectedToSend;
                                t.upload.dispatchEvent({
                                    type: "progress",
                                    loaded: n,
                                    total: r
                                });
                            });
                        } else this._request = wx.request({
                            url: this._url,
                            data: e || "",
                            method: this._method.toUpperCase(),
                            header: this._headers,
                            success: i.bind(this),
                            fail: function(e) {
                                t.status = 0, t.readyState = 4, t.dispatchEvent({
                                    type: "readystatechange"
                                }), t.dispatchEvent({
                                    type: "error"
                                });
                            }
                        });
                    }
                } ]), e;
            }();
            r(s, {
                UNSENT: 0,
                OPENED: 1,
                HEADERS_RECEIVED: 2,
                LOADING: 3,
                DONE: 4
            }), e.exports = s;
        }, function(e, t, n) {
            var r = Object.getOwnPropertySymbols, o = Object.prototype.hasOwnProperty, i = Object.prototype.propertyIsEnumerable;
            function a(e) {
                if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(e);
            }
            e.exports = function() {
                try {
                    if (!Object.assign) return !1;
                    var e = new String("abc");
                    if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
                    for (var t = {}, n = 0; n < 10; n++) t["_" + String.fromCharCode(n)] = n;
                    if ("0123456789" !== Object.getOwnPropertyNames(t).map(function(e) {
                        return t[e];
                    }).join("")) return !1;
                    var r = {};
                    return "abcdefghijklmnopqrst".split("").forEach(function(e) {
                        r[e] = e;
                    }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("");
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return !1;
                }
            }() ? Object.assign : function(e, t) {
                for (var n, s, c = a(e), u = 1; u < arguments.length; u++) {
                    for (var l in n = Object(arguments[u])) o.call(n, l) && (c[l] = n[l]);
                    if (r) {
                        s = r(n);
                        for (var d = 0; d < s.length; d++) i.call(n, s[d]) && (c[s[d]] = n[s[d]]);
                    }
                }
                return c;
            };
        }, function(e, t, n) {
            var r = n(36), o = function() {
                function e(t, n) {
                    var r = this;
                    if (_classCallCheck(this, e), !t) throw new TypeError("Failed to construct 'WebSocket': url required");
                    if (n && (!wx.canIUse || !wx.canIUse("connectSocket.object.protocols"))) throw new Error("subprotocal not supported in weapp");
                    t = t.replace(/:443(\/|$)/, "$1"), this._url = t, this._protocal = n || "", this._readyState = 0, 
                    this._socketTask = wx.connectSocket({
                        url: t,
                        protocals: this._protocal,
                        fail: function(e) {
                            console.info("wx::ws: sockets build failed ..."), r.errorHandler(e);
                        },
                        success: function(e) {
                            console.log("wx::ws: sockets build succeed ...");
                        }
                    }), this._socketTask.onOpen(function(e) {
                        r._readyState = 1, console.log("wx::ws: onopen ", e), r.dispatchEvent({
                            type: "open"
                        });
                    }), this._socketTask.onError(function(e) {
                        r.errorHandler(e);
                    }), this._socketTask.onClose(function(e) {
                        r._readyState = 3, console.log("wx::ws: onclose ", e);
                        var t = e.code, n = e.reason, o = e.wasClean;
                        r.dispatchEvent({
                            code: t,
                            reason: n,
                            wasClean: o,
                            type: "close"
                        }), r._socketTask = null;
                    }), this._socketTask.onMessage(function(e) {
                        var t = e.data, n = e.origin, o = e.ports, i = e.source;
                        r.dispatchEvent({
                            data: t,
                            origin: n,
                            ports: o,
                            source: i,
                            type: "message"
                        });
                    });
                }
                return _createClass(e, [ {
                    key: "url",
                    get: function() {
                        return this._url;
                    }
                }, {
                    key: "protocal",
                    get: function() {
                        return this._protocal;
                    }
                }, {
                    key: "readyState",
                    get: function() {
                        return this._readyState;
                    }
                }, {
                    key: "dispatchEvent",
                    value: function(e) {
                        var t = "on" + e.type;
                        "function" == typeof this[t] && this[t](e);
                    }
                }, {
                    key: "close",
                    value: function() {
                        try {
                            console.log("wx::ws:close WebSocket force close: readystate " + this._readyState), 
                            this._socketTask.close({
                                code: 1e3,
                                reason: "wx::ws:user force close websocket",
                                complete: function() {}
                            });
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            console.warn("wx::ws:close WebSocket force error", e);
                        }
                    }
                }, {
                    key: "send",
                    value: function(e) {
                        if (1 !== this._readyState) throw new Error("wx:ws: sendMsg when readyState=" + this._readyState);
                        if (!("string" == typeof e || e instanceof ArrayBuffer)) throw new TypeError("wx:ws: sendMsg only String/ArrayBuffer supported");
                        this._socketTask.send({
                            data: e
                        });
                    }
                }, {
                    key: "errorHandler",
                    value: function(e) {
                        console.error("wx::ws: onerror ", e), this._readyState = 3, this.dispatchEvent({
                            type: "error",
                            message: e.errMsg
                        }), e.errMsg && "[object Array]" === Object.prototype.toString.call(e.errMsg) && (e.errMsg.indexOf("断裂管道") > 0 || e.errMsg.indexOf("broken pipe") > 0) && this.dispatchEvent({
                            code: 1006,
                            reason: e.errMsg,
                            type: "close"
                        }), this._socketTask = null;
                    }
                } ]), e;
            }();
            r(o, {
                CONNECTING: 0,
                OPEN: 1,
                CLOSING: 2,
                CLOSED: 3
            }), e.exports = o;
        }, function(e, t) {
            e.exports = {};
        }, function(e, t) {
            e.exports = function e(t, n) {
                var r, o, i = /(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi, a = /(^[ ]*|[ ]*$)/g, s = /(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/, c = /^0x[0-9a-f]+$/i, u = /^0/, l = function(t) {
                    return e.insensitive && ("" + t).toLowerCase() || "" + t;
                }, d = l(t).replace(a, "") || "", f = l(n).replace(a, "") || "", p = d.replace(i, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), m = f.replace(i, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), g = parseInt(d.match(c), 16) || 1 !== p.length && d.match(s) && Date.parse(d), h = parseInt(f.match(c), 16) || g && f.match(s) && Date.parse(f) || null;
                if (h) {
                    if (g < h) return -1;
                    if (g > h) return 1;
                }
                for (var y = 0, v = Math.max(p.length, m.length); y < v; y++) {
                    if (r = !(p[y] || "").match(u) && parseFloat(p[y]) || p[y] || 0, o = !(m[y] || "").match(u) && parseFloat(m[y]) || m[y] || 0, 
                    isNaN(r) !== isNaN(o)) return isNaN(r) ? 1 : -1;
                    if (_typeof(r) != _typeof(o) && (r += "", o += ""), r < o) return -1;
                    if (r > o) return 1;
                }
                return 0;
            };
        }, function(e, t) {
            e.exports = function(e, t) {
                for (var n = t.split("."); n.length; ) {
                    var r = n.shift(), o = !1;
                    if ("?" == r[r.length - 1] && (r = r.slice(0, -1), o = !0), !(e = e[r]) && o) return e;
                }
                return e;
            };
        }, function(e, t, n) {
            var r = n(11), o = n(0), i = n(1), a = n(5), s = {};
            function c() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                o.merge(this, {
                    options: e,
                    debug: !1,
                    api: "log",
                    style: "color:blue;",
                    log: o.emptyFunc,
                    info: o.emptyFunc,
                    warn: o.emptyFunc,
                    error: o.emptyFunc
                }), this.prefix = e.prefix || "", this.localEnable = s.enable && e.dbLog && e.account, 
                this.setDebug(e.debug), this.localEnable && (this._local = new s(e.account, e.expire), 
                this._local.logError = this.error);
            }
            s = n(61);
            var u = c.prototype, l = [ "Chrome", "Safari", "Firefox" ];
            u.setDebug = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = this;
                if (t.debug = e, e.style && (t.style = e.style), o.exist(console)) if (t.debug) {
                    var n = console;
                    t.debug = function() {
                        var e = t.formatArgsAndSave(arguments, "debug");
                        -1 !== l.indexOf(r.name) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("debug", e);
                    }, t.log = function() {
                        var e = t.formatArgsAndSave(arguments, "log");
                        -1 !== l.indexOf(r.name) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("log", e);
                    }, t.info = function() {
                        var e = t.formatArgsAndSave(arguments, "info");
                        -1 !== l.indexOf(r.name) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("info", e);
                    }, t.warn = function() {
                        var e = t.formatArgsAndSave(arguments, "warn");
                        -1 !== l.indexOf(r.name) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("warn", e);
                    }, t.error = function() {
                        var e = t.formatArgsAndSave(arguments, "error");
                        -1 !== l.indexOf(r.name) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("error", e);
                    }, t.options.logFunc ? t._log = function() {} : t._log = function(e, r) {
                        if (n[e]) try {
                            n[e].apply ? t.chrome(e, r) : t.ie(e, r);
                        } catch (e) {}
                    }, t.chrome = function(e, o) {
                        -1 !== l.indexOf(r.name) ? n[e].apply(n, o) : t.ie(e, o);
                    }, t.ie = function(e, t) {
                        t.forEach(function(t) {
                            n[e](JSON.stringify(t, null, 4));
                        });
                    };
                } else if (i.isRN || this.localEnable || this.options.logFunc) {
                    var a = !i.isRN && !this.localEnable;
                    t.log = function() {
                        t.formatArgsAndSave(arguments, "log", a);
                    }, t.info = function() {
                        t.formatArgsAndSave(arguments, "info", a);
                    }, t.warn = function() {
                        t.formatArgsAndSave(arguments, "warn", a);
                    }, t.error = function() {
                        t.formatArgsAndSave(arguments, "error", a);
                    };
                }
            }, u.setLogDisabled = function() {
                this.localEnable = !1, this.log = function() {}, this.info = function() {}, this.warn = function() {}, 
                this.error = function() {};
            }, u.formatArgsAndSave = function(e, t, n) {
                e = [].slice.call(e, 0);
                var r = new Date(), i = "[NIM LOG ".concat(d(r.getMonth() + 1) + "-" + d(r.getDate()) + " " + d(r.getHours()) + ":" + d(r.getMinutes()) + ":" + d(r.getSeconds()) + ":" + d(r.getMilliseconds(), 3), " ").concat(this.prefix.toUpperCase(), "]  "), a = "";
                o.isString(e[0]) ? e[0] = i + e[0] : e.splice(0, 0, i), e.forEach(function(t, n) {
                    o.isArray(t) || o.isObject(t) ? (e[n] = o.simpleClone(t), a += JSON.stringify(e[n]) + " ") : a += t + " ";
                });
                var s = this.options.logFunc;
                return s && o.isFunction(s[t]) && s[t].apply(s, e), !n && this.writeLocalLog(a, t, +r), 
                e;
            }, u.writeLocalLog = i.isRN ? function(e, t) {
                if (a.rnfs && a.rnfs.writeFile && a.rnfs.appendFile && a.rnfs.DocumentDirectoryPath && /error|warn|info/.test(t)) {
                    var n, r = a.rnfs, o = r.size / 2 - 256;
                    e += "\r\n", r.nimPromise = r.nimPromise.then(function() {
                        return n = i(r.nimIndex), r.exists(n);
                    }).then(function(t) {
                        return t ? r.appendFile(n, e) : r.writeFile(n, e);
                    }).then(function() {
                        return r.stat(n);
                    }).then(function(e) {
                        if (e.size > o) return r.nimIndex++, r.nimIndex > 1 && (r.nimIndex = r.nimIndex % 2), 
                        r.unlink(i(r.nimIndex)).catch(function(e) {
                            return Promise.resolve();
                        });
                    }).catch(function() {});
                }
                function i(e) {
                    return a.rnfs.DocumentDirectoryPath + "/nimlog_" + e + ".log";
                }
            } : i.isBrowser ? function(e, t, n) {
                this._local && this._local.saveLog({
                    log: e,
                    level: t,
                    time: n
                });
            } : function() {};
            var d = function(e, t) {
                t = t || 2;
                for (var n = "" + e; n.length < t; ) n = "0" + n;
                return n;
            };
            e.exports = c;
        }, function(e, t, n) {
            var r = n(6), o = r.getGlobal(), i = {}, a = o.name || "_parent", s = [], c = [];
            i.addMsgListener = function(e) {
                s.push(e);
            };
            var u, l, d, f = (u = /^([\w]+?:\/\/.*?(?=\/|$))/i, function(e) {
                return e = e || "", u.test(e) ? RegExp.$1 : "*";
            }), p = function() {
                var e = unescape(o.name || "").trim();
                if (e && 0 === e.indexOf("MSG|")) {
                    o.name = "";
                    var t = r.string2object(e.replace("MSG|", ""), "|"), n = (t.origin || "").toLowerCase();
                    n && "*" !== n && 0 !== location.href.toLowerCase().indexOf(n) || function(e) {
                        for (var t = 0, n = s.length; t < n; t++) try {
                            s[t].call(null, e);
                        } catch (e) {}
                    }({
                        data: JSON.parse(t.data || "null"),
                        source: o.frames[t.self] || t.self,
                        origin: f(t.ref || ("undefined" == typeof document ? "" : document.referrer))
                    });
                }
            }, m = (d = function(e, t) {
                for (var n = 0, r = e.length; n < r; n++) if (e[n] === t) return !0;
                return !1;
            }, function() {
                if (c.length) {
                    l = [];
                    for (var e, t = c.length - 1; t >= 0; t--) e = c[t], d(l, e.w) || (l.push(e.w), 
                    c.splice(t, 1), e.w.name = e.d);
                    l = null;
                }
            }), g = i.startTimer = function() {
                var e = !1;
                return function() {
                    e || (e = !0, o.postMessage || (setInterval(m, 100), setInterval(p, 20)));
                };
            }();
            i.postMessage = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (r.fillUndef(t, {
                    origin: "*",
                    source: a
                }), o.postMessage) {
                    var n = t.data;
                    o.FormData || (n = JSON.stringify(n)), e.postMessage(n, t.origin);
                } else {
                    if (g(), r.isObject(t)) {
                        var i = {};
                        i.origin = t.origin || "", i.ref = location.href, i.self = t.source, i.data = JSON.stringify(t.data), 
                        t = "MSG|" + r.object2string(i, "|", !0);
                    }
                    c.unshift({
                        w: e,
                        d: escape(t)
                    });
                }
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(0), o = {
                file: {
                    md5: "$(Etag)",
                    size: "$(ObjectSize)"
                },
                image: {
                    md5: "$(Etag)",
                    size: "$(ObjectSize)",
                    w: "$(ImageInfo.Width)",
                    h: "$(ImageInfo.Height)",
                    orientation: "$(ImageInfo.Orientation)"
                },
                audio: {
                    md5: "$(Etag)",
                    size: "$(ObjectSize)",
                    dur: "$(AVinfo.Audio.Duration)"
                },
                video: {
                    md5: "$(Etag)",
                    size: "$(ObjectSize)",
                    dur: "$(AVinfo.Video.Duration)",
                    w: "$(AVinfo.Video.Width)",
                    h: "$(AVinfo.Video.Height)"
                }
            }, i = {
                genResponseBody: function(e) {
                    return o[e = e || "file"];
                },
                parseResponse: function(e, t) {
                    r.notundef(e.size) && (e.size = +e.size), r.notundef(e.w) && (e.w = +e.w), r.notundef(e.h) && (e.h = +e.h), 
                    r.notundef(e.dur) && (e.dur = +e.dur);
                    var n = e.orientation;
                    if (r.notundef(n) && (delete e.orientation, t && ("right, top" === n || "left, bottom" === n))) {
                        var o = e.w;
                        e.w = e.h, e.h = o;
                    }
                    return e;
                }
            };
            e.exports = i;
        }, function(e, t, n) {
            var r = n(0), o = {
                fromDataURL: function(e) {
                    var t, n = r.getGlobal();
                    t = e.split(",")[0].indexOf("base64") >= 0 ? n.atob(e.split(",")[1]) : n.decodeURIComponent(e.split(",")[1]);
                    for (var o = e.split(",")[0].split(":")[1].split(";")[0], i = new Uint8Array(t.length), a = 0; a < t.length; a++) i[a] = t.charCodeAt(a);
                    return new n.Blob([ i ], {
                        type: o
                    });
                }
            };
            e.exports = o;
        }, function(e, t, n) {
            var r = n(0), o = {
                stripmeta: 0,
                blur: 2,
                quality: 3,
                crop: 4,
                rotate: 5,
                thumbnail: 7,
                interlace: 9
            }, i = {
                0: "stripmeta",
                1: "type",
                2: "blur",
                3: "quality",
                4: "crop",
                5: "rotate",
                6: "pixel",
                7: "thumbnail",
                8: "watermark",
                9: "interlace",
                10: "tmp"
            };
            function a(e) {
                r.verifyOptions(e, "type", "image::ImageOp"), r.verifyParamValid("type", e.type, a.validTypes, "image::ImageOp"), 
                r.merge(this, e), this.type = o[e.type];
            }
            a.validTypes = Object.keys(o), a.reverse = function(e) {
                var t = r.copy(e);
                return t.type = i[t.type], t;
            }, a.reverseImageOps = function(e) {
                return e.map(function(e) {
                    return a.reverse(e);
                });
            }, e.exports = a;
        }, function(e, t) {
            var n = {
                1: "ROOM_CLOSE",
                2: "ROOM_JOIN",
                3: "INVITE",
                4: "CANCEL_INVITE",
                5: "REJECT",
                6: "ACCEPT",
                7: "LEAVE",
                8: "CONTROL"
            }, r = {
                1: "accid",
                2: "uid",
                3: "createTime",
                4: "expireTime",
                5: "web_uid"
            }, o = {
                10404: "ROOM_NOT_EXISTS",
                10405: "ROOM_HAS_EXISTS",
                10406: "ROOM_MEMBER_NOT_EXISTS",
                10407: "ROOM_MEMBER_HAS_EXISTS",
                10408: "INVITE_NOT_EXISTS",
                10409: "INVITE_HAS_REJECT",
                10410: "INVITE_HAS_ACCEPT",
                10201: "PEER_NIM_OFFLINE",
                10202: "PEER_PUSH_OFFLINE",
                10419: "ROOM_MEMBER_EXCEED",
                10420: "ROOM_MEMBER_HAS_EXISTS_OTHER_CLIENT",
                10417: "UID_CONFLICT"
            };
            e.exports = {
                parseAvSignalType: function(e) {
                    return n[e] || e;
                },
                parseAvSignalMember: function(e) {
                    var t = {};
                    return Object.keys(e).forEach(function(n) {
                        t[r[n]] = e[n];
                    }), t;
                },
                parseAvSignalError: function(e) {
                    return e.message = o[e.code] || e.message || e, e;
                }
            };
        }, function(module, exports, __webpack_require__) {
            (function(global, module) {
                var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
                function getGlobal() {
                    return "undefined" != typeof window ? window : "undefined" != typeof self ? self : void 0 !== global ? global : {};
                }
                var root = getGlobal(), io = module.exports;
                void 0 === root.location && (root.location = null), root.io ? module && (module.exports = io = root.io) : root.io = io, 
                function() {
                    var e, t, n;
                    e = module.exports, t = root, n = e, n.version = "0.9.11", n.protocol = 1, n.transports = [], 
                    n.j = [], n.sockets = {}, n.connect = function(e, r) {
                        var o, i, a = n.util.parseUri(e);
                        t && t.location && (a.protocol = a.protocol || t.location.protocol.slice(0, -1), 
                        a.host = a.host || (t.document ? t.document.domain : t.location.hostname), a.port = a.port || t.location.port), 
                        o = n.util.uniqueUri(a);
                        var s = {
                            host: a.ipv6uri ? "[" + a.host + "]" : a.host,
                            secure: "https" === a.protocol,
                            port: a.port || ("https" === a.protocol ? 443 : 80),
                            query: a.query || ""
                        };
                        return n.util.merge(s, r), !s["force new connection"] && n.sockets[o] || (i = new n.Socket(s)), 
                        !s["force new connection"] && i && (n.sockets[o] = i), (i = i || n.sockets[o]).of(a.path.length > 1 ? a.path : "");
                    }, function(e, t) {
                        var n = e.util = {}, r = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, o = [ "source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor" ];
                        n.parseUri = function(e) {
                            var t = e, n = e.indexOf("["), i = e.indexOf("]");
                            -1 != n && -1 != i && (e = e.substring(0, n) + e.substring(n, i).replace(/:/g, ";") + e.substring(i, e.length));
                            for (var a = r.exec(e || ""), s = {}, c = 14; c--; ) s[o[c]] = a[c] || "";
                            return -1 != n && -1 != i && (s.source = t, s.host = s.host.substring(1, s.host.length - 1).replace(/;/g, ":"), 
                            s.authority = s.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), 
                            s.ipv6uri = !0), s;
                        }, n.uniqueUri = function(e) {
                            var n = e.protocol, r = e.host, o = e.port;
                            return "document" in t && t.document ? (r = r || document.domain, o = o || ("https" == n && "https:" !== document.location.protocol ? 443 : document.location.port)) : (r = r || "localhost", 
                            o || "https" != n || (o = 443)), (n || "http") + "://" + r + ":" + (o || 80);
                        }, n.query = function(e, t) {
                            var r = n.chunkQuery(e || ""), o = [];
                            for (var i in n.merge(r, n.chunkQuery(t || "")), r) r.hasOwnProperty(i) && o.push(i + "=" + r[i]);
                            return o.length ? "?" + o.join("&") : "";
                        }, n.chunkQuery = function(e) {
                            for (var t, n = {}, r = e.split("&"), o = 0, i = r.length; o < i; ++o) (t = r[o].split("="))[0] && (n[t[0]] = t[1]);
                            return n;
                        };
                        var i = !1;
                        n.load = function(e) {
                            if ("undefined" != typeof document && document && "complete" === document.readyState || i) return e();
                            n.on(t, "load", e, !1);
                        }, n.on = function(e, t, n, r) {
                            e.attachEvent ? e.attachEvent("on" + t, n) : e.addEventListener && e.addEventListener(t, n, r);
                        }, n.request = function(e) {
                            if (e && "undefined" != typeof XDomainRequest && !n.ua.hasCORS) return new XDomainRequest();
                            if ("undefined" != typeof XMLHttpRequest && (!e || n.ua.hasCORS)) return new XMLHttpRequest();
                            if (!e) try {
                                return new (root[[ "Active" ].concat("Object").join("X")])("Microsoft.XMLHTTP");
                            } catch (e) {}
                            return null;
                        }, void 0 !== root && n.load(function() {
                            i = !0;
                        }), n.defer = function(e) {
                            if (!n.ua.webkit || "undefined" != typeof importScripts) return e();
                            n.load(function() {
                                setTimeout(e, 100);
                            });
                        }, n.merge = function(e, t, r, o) {
                            var i, a = o || [], s = void 0 === r ? 2 : r;
                            for (i in t) t.hasOwnProperty(i) && n.indexOf(a, i) < 0 && ("object" == _typeof(e[i]) && s ? n.merge(e[i], t[i], s - 1, a) : (e[i] = t[i], 
                            a.push(t[i])));
                            return e;
                        }, n.mixin = function(e, t) {
                            n.merge(e.prototype, t.prototype);
                        }, n.inherit = function(e, t) {
                            function n() {}
                            n.prototype = t.prototype, e.prototype = new n();
                        }, n.isArray = Array.isArray || function(e) {
                            return "[object Array]" === Object.prototype.toString.call(e);
                        }, n.intersect = function(e, t) {
                            for (var r = [], o = e.length > t.length ? e : t, i = e.length > t.length ? t : e, a = 0, s = i.length; a < s; a++) ~n.indexOf(o, i[a]) && r.push(i[a]);
                            return r;
                        }, n.indexOf = function(e, t, n) {
                            var r = e.length;
                            for (n = n < 0 ? n + r < 0 ? 0 : n + r : n || 0; n < r && e[n] !== t; n++) ;
                            return r <= n ? -1 : n;
                        }, n.toArray = function(e) {
                            for (var t = [], n = 0, r = e.length; n < r; n++) t.push(e[n]);
                            return t;
                        }, n.ua = {}, n.ua.hasCORS = "undefined" != typeof XMLHttpRequest && function() {
                            try {
                                var e = new XMLHttpRequest();
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                return !1;
                            }
                            return null != e.withCredentials;
                        }(), n.ua.webkit = "undefined" != typeof navigator && /webkit/i.test(navigator.userAgent), 
                        n.ua.iDevice = "undefined" != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent);
                    }(void 0 !== io ? io : module.exports, root), function(e, t) {
                        function n() {}
                        e.EventEmitter = n, n.prototype.on = function(e, n) {
                            return this.$events || (this.$events = {}), this.$events[e] ? t.util.isArray(this.$events[e]) ? this.$events[e].push(n) : this.$events[e] = [ this.$events[e], n ] : this.$events[e] = n, 
                            this;
                        }, n.prototype.addListener = n.prototype.on, n.prototype.once = function(e, t) {
                            var n = this;
                            function r() {
                                n.removeListener(e, r), t.apply(this, arguments);
                            }
                            return r.listener = t, this.on(e, r), this;
                        }, n.prototype.removeListener = function(e, n) {
                            if (this.$events && this.$events[e]) {
                                var r = this.$events[e];
                                if (t.util.isArray(r)) {
                                    for (var o = -1, i = 0, a = r.length; i < a; i++) if (r[i] === n || r[i].listener && r[i].listener === n) {
                                        o = i;
                                        break;
                                    }
                                    if (o < 0) return this;
                                    r.splice(o, 1), r.length || delete this.$events[e];
                                } else (r === n || r.listener && r.listener === n) && delete this.$events[e];
                            }
                            return this;
                        }, n.prototype.removeAllListeners = function(e) {
                            return void 0 === e ? (this.$events = {}, this) : (this.$events && this.$events[e] && (this.$events[e] = null), 
                            this);
                        }, n.prototype.listeners = function(e) {
                            return this.$events || (this.$events = {}), this.$events[e] || (this.$events[e] = []), 
                            t.util.isArray(this.$events[e]) || (this.$events[e] = [ this.$events[e] ]), this.$events[e];
                        }, n.prototype.emit = function(e) {
                            if (!this.$events) return !1;
                            var n = this.$events[e];
                            if (!n) return !1;
                            var r = Array.prototype.slice.call(arguments, 1);
                            if ("function" == typeof n) n.apply(this, r); else {
                                if (!t.util.isArray(n)) return !1;
                                for (var o = n.slice(), i = 0, a = o.length; i < a; i++) o[i].apply(this, r);
                            }
                            return !0;
                        };
                    }(void 0 !== io ? io : module.exports, void 0 !== io ? io : module.parent.exports), 
                    function(exports, nativeJSON) {
                        if (nativeJSON && nativeJSON.parse) return exports.JSON = {
                            parse: nativeJSON.parse,
                            stringify: nativeJSON.stringify
                        };
                        var JSON = exports.JSON = {};
                        function f(e) {
                            return e < 10 ? "0" + e : e;
                        }
                        function date(e, t) {
                            return isFinite(e.valueOf()) ? e.getUTCFullYear() + "-" + f(e.getUTCMonth() + 1) + "-" + f(e.getUTCDate()) + "T" + f(e.getUTCHours()) + ":" + f(e.getUTCMinutes()) + ":" + f(e.getUTCSeconds()) + "Z" : null;
                        }
                        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
                            "\b": "\\b",
                            "\t": "\\t",
                            "\n": "\\n",
                            "\f": "\\f",
                            "\r": "\\r",
                            '"': '\\"',
                            "\\": "\\\\"
                        }, rep;
                        function quote(e) {
                            return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function(e) {
                                var t = meta[e];
                                return "string" == typeof t ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
                            }) + '"' : '"' + e + '"';
                        }
                        function str(e, t) {
                            var n, r, o, i, a, s = gap, c = t[e];
                            switch (c instanceof Date && (c = date(e)), "function" == typeof rep && (c = rep.call(t, e, c)), 
                            _typeof(c)) {
                              case "string":
                                return quote(c);

                              case "number":
                                return isFinite(c) ? String(c) : "null";

                              case "boolean":
                              case "null":
                                return String(c);

                              case "object":
                                if (!c) return "null";
                                if (gap += indent, a = [], "[object Array]" === Object.prototype.toString.apply(c)) {
                                    for (i = c.length, n = 0; n < i; n += 1) a[n] = str(n, c) || "null";
                                    return o = 0 === a.length ? "[]" : gap ? "[\n" + gap + a.join(",\n" + gap) + "\n" + s + "]" : "[" + a.join(",") + "]", 
                                    gap = s, o;
                                }
                                if (rep && "object" == _typeof(rep)) for (i = rep.length, n = 0; n < i; n += 1) "string" == typeof rep[n] && (o = str(r = rep[n], c)) && a.push(quote(r) + (gap ? ": " : ":") + o); else for (r in c) Object.prototype.hasOwnProperty.call(c, r) && (o = str(r, c)) && a.push(quote(r) + (gap ? ": " : ":") + o);
                                return o = 0 === a.length ? "{}" : gap ? "{\n" + gap + a.join(",\n" + gap) + "\n" + s + "}" : "{" + a.join(",") + "}", 
                                gap = s, o;
                            }
                        }
                        JSON.stringify = function(e, t, n) {
                            var r;
                            if (gap = "", indent = "", "number" == typeof n) for (r = 0; r < n; r += 1) indent += " "; else "string" == typeof n && (indent = n);
                            if (rep = t, t && "function" != typeof t && ("object" != _typeof(t) || "number" != typeof t.length)) throw new Error("socket.io:: replacer cannot JSON.stringify");
                            return str("", {
                                "": e
                            });
                        }, JSON.parse = function(text, reviver) {
                            var j;
                            function walk(e, t) {
                                var n, r, o = e[t];
                                if (o && "object" == _typeof(o)) for (n in o) Object.prototype.hasOwnProperty.call(o, n) && (void 0 !== (r = walk(o, n)) ? o[n] = r : delete o[n]);
                                return reviver.call(e, t, o);
                            }
                            if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function(e) {
                                return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
                            })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), 
                            "function" == typeof reviver ? walk({
                                "": j
                            }, "") : j;
                            throw new SyntaxError("socket.io:: reviver cannot JSON.parse");
                        };
                    }(void 0 !== io ? io : module.exports, "undefined" != typeof JSON ? JSON : void 0), 
                    function(e, t) {
                        var n = e.parser = {}, r = n.packets = [ "disconnect", "connect", "heartbeat", "message", "json", "event", "ack", "error", "noop" ], o = n.reasons = [ "transport not supported", "client not handshaken", "unauthorized" ], i = n.advice = [ "reconnect" ], a = t.JSON, s = t.util.indexOf;
                        n.encodePacket = function(e) {
                            var t = s(r, e.type), n = e.id || "", c = e.endpoint || "", u = e.ack, l = null;
                            switch (e.type) {
                              case "error":
                                var d = e.reason ? s(o, e.reason) : "", f = e.advice ? s(i, e.advice) : "";
                                "" === d && "" === f || (l = d + ("" !== f ? "+" + f : ""));
                                break;

                              case "message":
                                "" !== e.data && (l = e.data);
                                break;

                              case "event":
                                var p = {
                                    name: e.name
                                };
                                e.args && e.args.length && (p.args = e.args), l = a.stringify(p);
                                break;

                              case "json":
                                l = a.stringify(e.data);
                                break;

                              case "connect":
                                e.qs && (l = e.qs);
                                break;

                              case "ack":
                                l = e.ackId + (e.args && e.args.length ? "+" + a.stringify(e.args) : "");
                            }
                            var m = [ t, n + ("data" == u ? "+" : ""), c ];
                            return null != l && m.push(l), m.join(":");
                        }, n.encodePayload = function(e) {
                            var t = "";
                            if (1 == e.length) return e[0];
                            for (var n = 0, r = e.length; n < r; n++) t += "�" + e[n].length + "�" + e[n];
                            return t;
                        };
                        var c = /([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
                        n.decodePacket = function(e) {
                            if (!(s = e.match(c))) return {};
                            var t = s[2] || "", n = (e = s[5] || "", {
                                type: r[s[1]],
                                endpoint: s[4] || ""
                            });
                            switch (t && (n.id = t, s[3] ? n.ack = "data" : n.ack = !0), n.type) {
                              case "error":
                                var s = e.split("+");
                                n.reason = o[s[0]] || "", n.advice = i[s[1]] || "";
                                break;

                              case "message":
                                n.data = e || "";
                                break;

                              case "event":
                                try {
                                    var u = a.parse(e);
                                    n.name = u.name, n.args = u.args;
                                } catch (e) {}
                                n.args = n.args || [];
                                break;

                              case "json":
                                try {
                                    n.data = a.parse(e);
                                } catch (e) {}
                                break;

                              case "connect":
                                n.qs = e || "";
                                break;

                              case "ack":
                                if ((s = e.match(/^([0-9]+)(\+)?(.*)/)) && (n.ackId = s[1], n.args = [], s[3])) try {
                                    n.args = s[3] ? a.parse(s[3]) : [];
                                } catch (e) {}
                            }
                            return n;
                        }, n.decodePayload = function(e) {
                            var t = function(e, t) {
                                for (var n = 0, r = e; r < t.length; r++) {
                                    if ("�" == t.charAt(r)) return n;
                                    n++;
                                }
                                return n;
                            };
                            if ("�" == e.charAt(0)) {
                                for (var r = [], o = 1, i = ""; o < e.length; o++) if ("�" == e.charAt(o)) {
                                    var a = e.substr(o + 1).substr(0, i);
                                    if ("�" != e.charAt(o + 1 + Number(i)) && o + 1 + Number(i) != e.length) {
                                        var s = Number(i);
                                        l = t(o + s + 1, e), a = e.substr(o + 1).substr(0, s + l), o += l;
                                    }
                                    r.push(n.decodePacket(a)), o += Number(i) + 1, i = "";
                                } else i += e.charAt(o);
                                return r;
                            }
                            return [ n.decodePacket(e) ];
                        };
                    }(void 0 !== io ? io : module.exports, void 0 !== io ? io : module.parent.exports), 
                    function(e, t) {
                        function n(e, t) {
                            this.socket = e, this.sessid = t;
                        }
                        e.Transport = n, t.util.mixin(n, t.EventEmitter), n.prototype.heartbeats = function() {
                            return !0;
                        }, n.prototype.onData = function(e) {
                            if (this !== this.socket.transport) return this;
                            if (this.clearCloseTimeout(), (this.socket.connected || this.socket.connecting || this.socket.reconnecting) && this.setCloseTimeout(), 
                            "" !== e) {
                                var n = t.parser.decodePayload(e);
                                if (n && n.length) for (var r = 0, o = n.length; r < o; r++) this.onPacket(n[r]);
                            }
                            return this;
                        }, n.prototype.onPacket = function(e) {
                            return this.socket.setHeartbeatTimeout(), "heartbeat" == e.type ? this.onHeartbeat() : ("connect" == e.type && "" == e.endpoint && this.onConnect(), 
                            "error" == e.type && "reconnect" == e.advice && (this.isOpen = !1), this.socket.onPacket(e), 
                            this);
                        }, n.prototype.setCloseTimeout = function() {
                            if (!this.closeTimeout) {
                                var e = this;
                                this.closeTimeout = setTimeout(function() {
                                    e.onDisconnect();
                                }, this.socket.closeTimeout);
                            }
                        }, n.prototype.onDisconnect = function() {
                            return this.isOpen && this.close(), this.clearTimeouts(), this.socket ? (this.socket.transport === this ? this.socket.onDisconnect() : this.socket.setBuffer(!1), 
                            this) : this;
                        }, n.prototype.onConnect = function() {
                            return this.socket.onConnect(), this;
                        }, n.prototype.clearCloseTimeout = function() {
                            this.closeTimeout && (clearTimeout(this.closeTimeout), this.closeTimeout = null);
                        }, n.prototype.clearTimeouts = function() {
                            this.clearCloseTimeout(), this.reopenTimeout && clearTimeout(this.reopenTimeout);
                        }, n.prototype.packet = function(e) {
                            this.send(t.parser.encodePacket(e));
                        }, n.prototype.onHeartbeat = function(e) {
                            this.packet({
                                type: "heartbeat"
                            });
                        }, n.prototype.onOpen = function() {
                            this.isOpen = !0, this.clearCloseTimeout(), this.socket.onOpen();
                        }, n.prototype.onClose = function() {
                            this.isOpen = !1, this.socket.transport === this ? this.socket.onClose() : this.socket.setBuffer(!1), 
                            this.onDisconnect(), this.onDisconnectDone instanceof Function && this.onDisconnectDone(null), 
                            this.onConnectionOver instanceof Function && this.onConnectionOver(null);
                        }, n.prototype.onDisconnectDone = function() {}, n.prototype.onConnectionOver = function() {}, 
                        n.prototype.prepareUrl = function() {
                            var e = this.socket.options;
                            return this.scheme() + "://" + e.host + ":" + e.port + "/" + e.resource + "/" + t.protocol + "/" + this.name + "/" + this.sessid;
                        }, n.prototype.ready = function(e, t) {
                            t.call(this);
                        };
                    }(void 0 !== io ? io : module.exports, void 0 !== io ? io : module.parent.exports), 
                    function(e, t, n) {
                        function r(e) {
                            if (this.options = {
                                port: 80,
                                secure: !1,
                                document: "document" in n && document,
                                resource: "socket.io",
                                transports: e.transports || t.transports,
                                "connect timeout": 1e4,
                                "try multiple transports": !0,
                                reconnect: !0,
                                "reconnection delay": 500,
                                "reconnection limit": 1 / 0,
                                "reopen delay": 3e3,
                                "max reconnection attempts": 10,
                                "sync disconnect on unload": !1,
                                "auto connect": !0,
                                "flash policy port": 10843,
                                manualFlush: !1
                            }, t.util.merge(this.options, e), this.connected = !1, this.open = !1, this.connecting = !1, 
                            this.reconnecting = !1, this.namespaces = {}, this.buffer = [], this.doBuffer = !1, 
                            this.options["sync disconnect on unload"] && (!this.isXDomain() || t.util.ua.hasCORS)) {
                                var r = this;
                                t.util.on(n, "beforeunload", function() {
                                    r.disconnectSync();
                                }, !1);
                            }
                            this.options["auto connect"] && this.connect();
                        }
                        function o() {}
                        e.Socket = r, t.util.mixin(r, t.EventEmitter), r.prototype.of = function(e) {
                            return this.namespaces[e] || (this.namespaces[e] = new t.SocketNamespace(this, e), 
                            "" !== e && this.namespaces[e].packet({
                                type: "connect"
                            })), this.namespaces[e];
                        }, r.prototype.publish = function() {
                            var e;
                            for (var t in this.emit.apply(this, arguments), this.namespaces) this.namespaces.hasOwnProperty(t) && (e = this.of(t)).$emit.apply(e, arguments);
                        }, r.prototype.handshake = function(e) {
                            var n = this, r = this.options, i = [ "http" + (r.secure ? "s" : "") + ":/", r.host + ":" + r.port, r.resource, t.protocol, t.util.query(this.options.query, "t=" + +new Date()) ].join("/"), a = t.util.request();
                            a.open("GET", i, !0), a.timeout = 1e4, this.isXDomain() && (a.withCredentials = !0), 
                            a.onreadystatechange = function() {
                                var t;
                                4 == a.readyState && (a.onreadystatechange = o, 200 == a.status ? (t = a.responseText) instanceof Error ? (n.connecting = !1, 
                                n.onError(t.message)) : e.apply(null, t.split(":")) : 403 == a.status ? (n.connecting = !1, 
                                n.onError(a.responseText), n.publish("handshake_failed")) : (n.connecting = !1, 
                                !n.reconnecting && n.onError(a.responseText), n.publish("handshake_failed")));
                            }, a.ontimeout = function(e) {
                                n.connecting = !1, !n.reconnecting && n.onError(a.responseText), n.publish("handshake_failed");
                            }, a.send(null);
                        }, r.prototype.connect = function(e) {
                            if (this.connecting) return this;
                            var n = this;
                            return n.connecting = !0, this.handshake(function(r, o, i, a) {
                                n.sessionid = r, n.closeTimeout = 1e3 * i, n.heartbeatTimeout = 1e3 * o, n.transports || (n.transports = n.origTransports = a ? t.util.intersect(a.split(","), n.options.transports) : n.options.transports), 
                                n.setHeartbeatTimeout(), n.once("connect", function() {
                                    clearTimeout(n.connectTimeoutTimer), n.connectTimeoutTimer = null, e && "function" == typeof e && e();
                                }), n.doConnect();
                            }), this;
                        }, r.prototype.doConnect = function() {
                            var e = this;
                            if (e.transport && e.transport.clearTimeouts(), e.transport = e.getTransport(e.transports), 
                            !e.transport) return e.publish("connect_failed");
                            e.transport.ready(e, function() {
                                e.connecting = !0, e.publish("connecting", e.transport.name), e.transport.open(), 
                                e.options["connect timeout"] && (e.connectTimeoutTimer && clearTimeout(e.connectTimeoutTimer), 
                                e.connectTimeoutTimer = setTimeout(e.tryNextTransport.bind(e), e.options["connect timeout"]));
                            });
                        }, r.prototype.getTransport = function(e) {
                            for (var n, r = e || this.transports, o = 0; n = r[o]; o++) if (t.Transport[n] && t.Transport[n].check(this) && (!this.isXDomain() || t.Transport[n].xdomainCheck(this))) return new t.Transport[n](this, this.sessionid);
                            return null;
                        }, r.prototype.tryNextTransport = function() {
                            if (!this.connected && (this.connecting = !1, this.options["try multiple transports"])) {
                                for (var e = this.transports; e.length > 0 && e.splice(0, 1)[0] != this.transport.name; ) ;
                                e.length ? this.doConnect() : this.publish("connect_failed");
                            }
                        }, r.prototype.setHeartbeatTimeout = function() {
                            if (clearTimeout(this.heartbeatTimeoutTimer), !this.transport || this.transport.heartbeats()) {
                                var e = this;
                                this.heartbeatTimeoutTimer = setTimeout(function() {
                                    e.transport && e.transport.onClose();
                                }, this.heartbeatTimeout);
                            }
                        }, r.prototype.packet = function(e) {
                            return this.connected && !this.doBuffer ? this.transport.packet(e) : this.buffer.push(e), 
                            this;
                        }, r.prototype.setBuffer = function(e) {
                            this.doBuffer = e, !e && this.connected && this.buffer.length && (this.options.manualFlush || this.flushBuffer());
                        }, r.prototype.flushBuffer = function() {
                            this.transport.payload(this.buffer), this.buffer = [];
                        }, r.prototype.disconnect = function() {
                            return (this.connected || this.connecting) && (this.open && this.of("").packet({
                                type: "disconnect"
                            }), this.onDisconnect("booted")), this;
                        }, r.prototype.disconnectSync = function() {
                            var e = t.util.request(), n = [ "http" + (this.options.secure ? "s" : "") + ":/", this.options.host + ":" + this.options.port, this.options.resource, t.protocol, "", this.sessionid ].join("/") + "/?disconnect=1";
                            e.open("GET", n, !1), e.send(null), this.onDisconnect("booted");
                        }, r.prototype.isXDomain = function() {
                            var e = n && n.location || {}, t = e.port || ("https:" == e.protocol ? 443 : 80);
                            return this.options.host !== e.hostname || this.options.port != t;
                        }, r.prototype.onConnect = function() {
                            this.connected || (this.connected = !0, this.connecting = !1, this.doBuffer || this.setBuffer(!1), 
                            this.emit("connect"));
                        }, r.prototype.onOpen = function() {
                            this.open = !0;
                        }, r.prototype.onClose = function() {
                            this.open = !1, clearTimeout(this.heartbeatTimeoutTimer);
                        }, r.prototype.onPacket = function(e) {
                            this.of(e.endpoint).onPacket(e);
                        }, r.prototype.onError = function(e) {
                            e && e.advice && "reconnect" === e.advice && (this.connected || this.connecting) && (this.disconnect(), 
                            this.options.reconnect && this.reconnect()), this.publish("error", e && e.reason ? e.reason : e);
                        }, r.prototype.onDisconnect = function(e) {
                            var t = this.connected, n = this.connecting;
                            this.connected = !1, this.connecting = !1, this.open = !1, (t || n) && (this.transport.close(), 
                            this.transport.clearTimeouts(), t && (this.publish("disconnect", e), "booted" != e && this.options.reconnect && !this.reconnecting && this.reconnect()), 
                            n && (this.connectTimeoutTimer && clearTimeout(this.connectTimeoutTimer), this.tryNextTransport()));
                        }, r.prototype.reconnect = function() {
                            this.reconnecting = !0, this.reconnectionAttempts = 0, this.reconnectionDelay = this.options["reconnection delay"];
                            var e = this, t = this.options["max reconnection attempts"], n = this.options["try multiple transports"], r = this.options["reconnection limit"];
                            function o() {
                                if (e.connected) {
                                    for (var t in e.namespaces) e.namespaces.hasOwnProperty(t) && "" !== t && e.namespaces[t].packet({
                                        type: "connect"
                                    });
                                    e.publish("reconnect", e.transport.name, e.reconnectionAttempts);
                                }
                                clearTimeout(e.reconnectionTimer), e.removeListener("connect_failed", i), e.removeListener("connect", i), 
                                e.reconnecting = !1, delete e.reconnectionAttempts, delete e.reconnectionDelay, 
                                delete e.reconnectionTimer, delete e.redoTransports, e.options["try multiple transports"] = n;
                            }
                            function i() {
                                if (e.reconnecting) return e.connected ? o() : e.connecting && e.reconnecting ? e.reconnectionTimer = setTimeout(i, 1e3) : void (e.reconnectionAttempts++ >= t ? e.redoTransports ? (e.publish("reconnect_failed"), 
                                o()) : (e.on("connect_failed", i), e.options["try multiple transports"] = !0, e.transports = e.origTransports, 
                                e.transport = e.getTransport(), e.redoTransports = !0, e.connect()) : (e.reconnectionDelay < r && (e.reconnectionDelay *= 2), 
                                e.connect(), e.publish("reconnecting", e.reconnectionDelay, e.reconnectionAttempts), 
                                e.reconnectionTimer = setTimeout(i, e.reconnectionDelay)));
                            }
                            this.options["try multiple transports"] = !1, this.reconnectionTimer = setTimeout(i, this.reconnectionDelay), 
                            this.on("connect", i);
                        };
                    }(void 0 !== io ? io : module.exports, void 0 !== io ? io : module.parent.exports, root), 
                    function(e, t) {
                        function n(e, t) {
                            this.socket = e, this.name = t || "", this.flags = {}, this.json = new r(this, "json"), 
                            this.ackPackets = 0, this.acks = {};
                        }
                        function r(e, t) {
                            this.namespace = e, this.name = t;
                        }
                        e.SocketNamespace = n, t.util.mixin(n, t.EventEmitter), n.prototype.$emit = t.EventEmitter.prototype.emit, 
                        n.prototype.of = function() {
                            return this.socket.of.apply(this.socket, arguments);
                        }, n.prototype.packet = function(e) {
                            return e.endpoint = this.name, this.socket.packet(e), this.flags = {}, this;
                        }, n.prototype.send = function(e, t) {
                            var n = {
                                type: this.flags.json ? "json" : "message",
                                data: e
                            };
                            return "function" == typeof t && (n.id = ++this.ackPackets, n.ack = !0, this.acks[n.id] = t), 
                            this.packet(n);
                        }, n.prototype.emit = function(e) {
                            var t = Array.prototype.slice.call(arguments, 1), n = t[t.length - 1], r = {
                                type: "event",
                                name: e
                            };
                            return "function" == typeof n && (r.id = ++this.ackPackets, r.ack = "data", this.acks[r.id] = n, 
                            t = t.slice(0, t.length - 1)), r.args = t, this.packet(r);
                        }, n.prototype.disconnect = function() {
                            return "" === this.name ? this.socket.disconnect() : (this.packet({
                                type: "disconnect"
                            }), this.$emit("disconnect")), this;
                        }, n.prototype.onPacket = function(e) {
                            var n = this;
                            function r() {
                                n.packet({
                                    type: "ack",
                                    args: t.util.toArray(arguments),
                                    ackId: e.id
                                });
                            }
                            switch (e.type) {
                              case "connect":
                                this.$emit("connect");
                                break;

                              case "disconnect":
                                "" === this.name ? this.socket.onDisconnect(e.reason || "booted") : this.$emit("disconnect", e.reason);
                                break;

                              case "message":
                              case "json":
                                var o = [ "message", e.data ];
                                "data" == e.ack ? o.push(r) : e.ack && this.packet({
                                    type: "ack",
                                    ackId: e.id
                                }), this.$emit.apply(this, o);
                                break;

                              case "event":
                                o = [ e.name ].concat(e.args), "data" == e.ack && o.push(r), this.$emit.apply(this, o);
                                break;

                              case "ack":
                                this.acks[e.ackId] && (this.acks[e.ackId].apply(this, e.args), delete this.acks[e.ackId]);
                                break;

                              case "error":
                                console.error("SocketIO on packet error: ", e), e.advice ? this.socket.onError(e) : "unauthorized" === e.reason ? this.$emit("connect_failed", e.reason) : this.$emit("error", e.reason);
                            }
                        }, r.prototype.send = function() {
                            this.namespace.flags[this.name] = !0, this.namespace.send.apply(this.namespace, arguments);
                        }, r.prototype.emit = function() {
                            this.namespace.flags[this.name] = !0, this.namespace.emit.apply(this.namespace, arguments);
                        };
                    }(void 0 !== io ? io : module.exports, void 0 !== io ? io : module.parent.exports), 
                    function(e, t, n) {
                        function r(e) {
                            t.Transport.apply(this, arguments);
                        }
                        e.websocket = r, t.util.inherit(r, t.Transport), r.prototype.name = "websocket", 
                        r.prototype.open = function() {
                            var e, r = t.util.query(this.socket.options.query), o = this;
                            return e || (e = n.MozWebSocket || n.WebSocket), this.websocket = new e(this.prepareUrl() + r), 
                            this.websocket.onopen = function() {
                                o.onOpen(), o.socket.setBuffer(!1);
                            }, this.websocket.onmessage = function(e) {
                                o.onData(e.data);
                            }, this.websocket.onclose = function() {
                                o.socket.setBuffer(!0), o.onClose();
                            }, this.websocket.onerror = function(e) {
                                o.onError(e);
                            }, this;
                        }, t.util.ua.iDevice ? r.prototype.send = function(e) {
                            var t = this;
                            return setTimeout(function() {
                                t.websocket.send(e);
                            }, 0), this;
                        } : r.prototype.send = function(e) {
                            return this.websocket.send(e), this;
                        }, r.prototype.payload = function(e) {
                            for (var t = 0, n = e.length; t < n; t++) this.packet(e[t]);
                            return this;
                        }, r.prototype.close = function() {
                            return this.websocket.close(), this;
                        }, r.prototype.onError = function(e) {
                            this.socket.onError(e);
                        }, r.prototype.scheme = function() {
                            return this.socket.options.secure ? "wss" : "ws";
                        }, r.check = function() {
                            return "WebSocket" in n && !("__addTask" in WebSocket) || "MozWebSocket" in n;
                        }, r.xdomainCheck = function() {
                            return !0;
                        }, t.transports.push("websocket");
                    }(void 0 !== io ? io.Transport : module.exports, void 0 !== io ? io : module.parent.exports, root), 
                    function(e, t, n) {
                        function r(e) {
                            e && (t.Transport.apply(this, arguments), this.sendBuffer = []);
                        }
                        function o() {}
                        e.XHR = r, t.util.inherit(r, t.Transport), r.prototype.open = function() {
                            return this.socket.setBuffer(!1), this.onOpen(), this.get(), this.setCloseTimeout(), 
                            this;
                        }, r.prototype.payload = function(e) {
                            for (var n = [], r = 0, o = e.length; r < o; r++) n.push(t.parser.encodePacket(e[r]));
                            this.send(t.parser.encodePayload(n));
                        }, r.prototype.send = function(e) {
                            return this.post(e), this;
                        }, r.prototype.post = function(e) {
                            var t = this;
                            this.socket.setBuffer(!0), this.sendXHR = this.request("POST"), n.XDomainRequest && this.sendXHR instanceof XDomainRequest ? this.sendXHR.onload = this.sendXHR.onerror = function() {
                                this.onload = o, t.socket.setBuffer(!1);
                            } : this.sendXHR.onreadystatechange = function() {
                                4 == this.readyState && (this.onreadystatechange = o, t.posting = !1, 200 == this.status ? t.socket.setBuffer(!1) : t.onClose());
                            }, this.sendXHR.send(e);
                        }, r.prototype.close = function() {
                            return this.onClose(), this;
                        }, r.prototype.request = function(e) {
                            var n = t.util.request(this.socket.isXDomain()), r = t.util.query(this.socket.options.query, "t=" + +new Date());
                            if (n.open(e || "GET", this.prepareUrl() + r, !0), "POST" == e) try {
                                n.setRequestHeader ? n.setRequestHeader("Content-type", "text/plain;charset=UTF-8") : n.contentType = "text/plain";
                            } catch (e) {}
                            return n;
                        }, r.prototype.scheme = function() {
                            return this.socket.options.secure ? "https" : "http";
                        }, r.check = function(e, r) {
                            try {
                                var o = t.util.request(r), i = n.XDomainRequest && o instanceof XDomainRequest, a = e && e.options && e.options.secure ? "https:" : "http:", s = n.location && a != n.location.protocol;
                                if (o && (!i || !s)) return !0;
                            } catch (e) {}
                            return !1;
                        }, r.xdomainCheck = function(e) {
                            return r.check(e, !0);
                        };
                    }(void 0 !== io ? io.Transport : module.exports, void 0 !== io ? io : module.parent.exports, root), 
                    function(e, t, n) {
                        function r() {
                            t.Transport.XHR.apply(this, arguments);
                        }
                        function o() {}
                        e["xhr-polling"] = r, t.util.inherit(r, t.Transport.XHR), t.util.merge(r, t.Transport.XHR), 
                        r.prototype.name = "xhr-polling", r.prototype.heartbeats = function() {
                            return !1;
                        }, r.prototype.open = function() {
                            return t.Transport.XHR.prototype.open.call(this), !1;
                        }, r.prototype.get = function() {
                            if (this.isOpen) {
                                var e = this;
                                this.xhr = this.request(), n.XDomainRequest && this.xhr instanceof XDomainRequest ? (this.xhr.onload = function() {
                                    this.onload = o, this.onerror = o, e.retryCounter = 1, e.onData(this.responseText), 
                                    e.get();
                                }, this.xhr.onerror = function() {
                                    e.retryCounter++, !e.retryCounter || e.retryCounter > 3 ? e.onClose() : e.get();
                                }) : this.xhr.onreadystatechange = function() {
                                    4 == this.readyState && (this.onreadystatechange = o, 200 == this.status ? (e.onData(this.responseText), 
                                    e.get()) : e.onClose());
                                }, this.xhr.send(null);
                            }
                        }, r.prototype.onClose = function() {
                            if (t.Transport.XHR.prototype.onClose.call(this), this.xhr) {
                                this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = o;
                                try {
                                    this.xhr.abort();
                                } catch (e) {}
                                this.xhr = null;
                            }
                        }, r.prototype.ready = function(e, n) {
                            var r = this;
                            t.util.defer(function() {
                                n.call(r);
                            });
                        }, t.transports.push("xhr-polling");
                    }(void 0 !== io ? io.Transport : module.exports, void 0 !== io ? io : module.parent.exports, root), 
                    __WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
                        return io;
                    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), void 0 === __WEBPACK_AMD_DEFINE_RESULT__ || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
                }();
            }).call(this, __webpack_require__(14), __webpack_require__(83)(module));
        }, function(e, t, n) {
            var r = n(5);
            function o() {}
            o.typeMap = {
                text: 0,
                image: 1,
                audio: 2,
                video: 3,
                geo: 4,
                notification: 5,
                file: 6,
                tip: 10,
                robot: 11,
                g2: 12,
                custom: 100
            };
            var i = o.typeReverseMap = {
                0: "text",
                1: "image",
                2: "audio",
                3: "video",
                4: "geo",
                5: "notification",
                6: "file",
                10: "tip",
                11: "robot",
                12: "g2",
                100: "custom"
            };
            o.validTypes = Object.keys(o.typeMap), o.setFlow = function(e, t) {
                var n = t === e.from;
                n && t === e.to && (n = r.deviceId === e.fromDeviceId), e.flow = n ? "out" : "in", 
                "robot" === e.type && e.content && e.content.msgOut && (e.flow = "in");
            }, o.getType = function(e) {
                var t = e.type;
                return i[t] || t;
            }, e.exports = o;
        }, function(e, t, n) {
            e.exports = function(e, t, n, r) {
                var o = self || window;
                try {
                    try {
                        var i;
                        try {
                            i = new o.Blob([ e ]);
                        } catch (t) {
                            t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                            (i = new (o.BlobBuilder || o.WebKitBlobBuilder || o.MozBlobBuilder || o.MSBlobBuilder)()).append(e), 
                            i = i.getBlob();
                        }
                        var a = o.URL || o.webkitURL, s = a.createObjectURL(i), c = new o[t](s, n);
                        return a.revokeObjectURL(s), c;
                    } catch (r) {
                        r = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(r);
                        return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)), n);
                    }
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    if (!r) throw Error("Inline worker is not supported");
                    return new o[t](r, n);
                }
            };
        }, function(e, t, n) {
            n(57);
            var r = n(1);
            r.lbsUrl = r.lbsUrl.replace("/webconf.jsp", "/wxwebconf.jsp"), r.defaultReportUrl = null, 
            r.isWeixinApp = !0;
        }, function(e, t, n) {
            var r = n(0), o = r.notundef, i = r.fillPropertyWithDefault, a = Object.keys, s = {}, c = {}, u = {}, l = [], d = {
                normal: 0,
                advanced: 1
            }, f = {
                0: "normal",
                1: "advanced"
            }, p = s.joinMode = {
                noVerify: 0,
                needVerify: 1,
                rejectAll: 2
            };
            c.joinMode = {
                0: "noVerify",
                1: "needVerify",
                2: "rejectAll"
            }, u.joinMode = a(p), l.push("join");
            var m = s.beInviteMode = {
                needVerify: 0,
                noVerify: 1
            };
            function g(e) {
                r.verifyOptions(e, "action", "superTeam::SuperTeam"), r.verifyOptions(e, "teamId", "superTeam::SuperTeam"), 
                o(e.teamId) && (this.teamId = e.teamId), o(e.type) && (this.type = d[e.type]), o(e.avatar) && (this.avatar = "" + e.avatar), 
                o(e.name) && (this.name = "" + e.name), o(e.intro) && (this.intro = "" + e.intro), 
                o(e.announcement) && (this.announcement = "" + e.announcement), o(e.custom) && (this.custom = "" + e.custom), 
                l.forEach(this.setMode.bind(this, e));
            }
            function h(e, t) {
                o(e[t += "Mode"]) && (e[t] = c[t][e[t]]);
            }
            c.beInviteMode = {
                0: "needVerify",
                1: "noVerify"
            }, l.push("beInvite"), u.beInviteMode = a(m), g.prototype.setMode = function(e, t) {
                o(e[t += "Mode"]) && (r.verifyParamValid(t, e[t], u[t], "Superteam::Team"), this[t] = s[t][e[t]]);
            }, g.reverse = function(e, t) {
                var n = r.copy(e);
                if (o(n.teamId) && (n.teamId = "" + n.teamId), o(n.type) && (n.type = f[n.type]), 
                o(n.level) && (n.level = +n.level), o(n.valid) && (n.valid = 1 == +n.valid), o(n.memberNum) && (n.memberNum = +n.memberNum), 
                o(n.memberUpdateTime) && (n.memberUpdateTime = +n.memberUpdateTime), o(n.createTime) && (n.createTime = +n.createTime), 
                o(n.updateTime) && (n.updateTime = +n.updateTime), o(n.validToCurrentUser) && (n.validToCurrentUser = "1" === n.validToCurrentUser), 
                o(n.mute) && (n.mute = "1" === n.mute), o(n.muteType)) switch (n.muteType) {
                  case "0":
                    n.mute = !1, n.muteType = "none";
                    break;

                  case "1":
                    n.mute = !0, n.muteType = "normal";
                    break;

                  case "3":
                    n.mute = !0, n.muteType = "all";
                } else o(n.mute) && (1 === n.mute ? (n.mute = !0, n.muteType = "normal") : (n.mute = !1, 
                n.muteType = "none"));
                return l.forEach(h.bind(null, n)), delete n.bits, t || g.fillProperties(n), n;
            }, g.fillProperties = function(e) {
                return i(e, "avatar", "");
            }, e.exports = g;
        }, function(e, t, n) {
            var r = n(0).notundef;
            function o(e) {
                r(e.shouldPushNotificationWhenPCOnline) && (this.open = e.shouldPushNotificationWhenPCOnline ? 2 : 1);
            }
            o.getDefaultConfig = function() {
                return {
                    shouldPushNotificationWhenPCOnline: !0
                };
            }, o.reverse = function(e) {
                return {
                    shouldPushNotificationWhenPCOnline: 1 != +e.open
                };
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(0), o = n(24), i = r.merge({}, o.idMap, {
                auth: {
                    id: 2,
                    login: 3,
                    kicked: 5,
                    logout: 6,
                    multiPortLogin: 7,
                    kick: 8
                },
                user: {
                    id: 3,
                    updatePushToken: 1,
                    appBackground: 2,
                    markInBlacklist: 3,
                    getBlacklist: 4,
                    markInMutelist: 5,
                    getMutelist: 6,
                    getRelations: 8,
                    getUsers: 7,
                    updateMyInfo: 10,
                    updateDonnop: 15,
                    syncMyInfo: 109,
                    syncUpdateMyInfo: 110
                },
                notify: {
                    id: 4,
                    markRead: 3,
                    syncOfflineMsgs: 4,
                    batchMarkRead: 5,
                    syncOfflineSysMsgs: 6,
                    syncOfflineNetcallMsgs: 8,
                    syncRoamingMsgs: 9,
                    syncMsgReceipts: 12,
                    syncRobots: 15,
                    syncBroadcastMsgs: 16,
                    syncSuperTeamRoamingMsgs: 17,
                    syncOfflineSuperTeamSysMsgs: 18,
                    syncDeleteSuperTeamMsgOfflineRoaming: 19,
                    syncDeleteMsgSelf: 21,
                    syncSessionsWithMoreRoaming: 22,
                    syncStickTopSessions: 23,
                    syncSessionHistoryMsgsDelete: 24
                },
                sync: {
                    id: 5,
                    sync: 1,
                    syncTeamMembers: 2,
                    syncSuperTeamMembers: 3
                },
                msg: {
                    id: 7,
                    sendMsg: 1,
                    msg: 2,
                    sysMsg: 3,
                    getHistoryMsgs: 6,
                    sendCustomSysMsg: 7,
                    searchHistoryMsgs: 8,
                    deleteSessions: 9,
                    getSessions: 10,
                    syncSendMsg: 101,
                    sendMsgReceipt: 11,
                    msgReceipt: 12,
                    deleteMsg: 13,
                    msgDeleted: 14,
                    markSessionAck: 16,
                    markSessionAckBatch: 25,
                    broadcastMsg: 17,
                    clearServerHistoryMsgs: 18,
                    getServerSessions: 19,
                    getServerSession: 20,
                    updateServerSession: 21,
                    deleteServerSessions: 22,
                    deleteMsgSelf: 23,
                    deleteMsgSelfBatch: 24,
                    msgFtsInServer: 26,
                    msgFtsInServerByTiming: 27,
                    onClearServerHistoryMsgs: 118,
                    syncUpdateServerSession: 121,
                    onDeleteMsgSelf: 123,
                    onDeleteMsgSelfBatch: 124
                },
                msgExtend: {
                    id: 23,
                    getThreadMsgs: 1,
                    getMsgsByIdServer: 2,
                    addQuickComment: 3,
                    deleteQuickComment: 4,
                    onQuickComment: 5,
                    onDeleteQuickComment: 6,
                    getQuickComments: 7,
                    addCollect: 8,
                    deleteCollects: 9,
                    updateCollect: 10,
                    getCollects: 11,
                    addStickTopSession: 12,
                    deleteStickTopSession: 13,
                    updateStickTopSession: 14,
                    addMsgPin: 15,
                    updateMsgPin: 16,
                    deleteMsgPin: 17,
                    onAddMsgPin: 18,
                    onUpdateMsgPin: 19,
                    onDeleteMsgPin: 20,
                    getMsgPins: 21,
                    syncAddQuickComment: 103,
                    syncDeleteQuickComment: 104,
                    syncAddStickTopSession: 112,
                    syncDeleteStickTopSession: 113,
                    syncUpdateStickTopSession: 114,
                    syncAddMsgPin: 115,
                    syncUpdateMsgPin: 116,
                    syncDeleteMsgPin: 117
                },
                team: {
                    id: 8,
                    createTeam: 1,
                    sendTeamMsg: 2,
                    teamMsg: 3,
                    teamMsgs: 4,
                    addTeamMembers: 5,
                    removeTeamMembers: 6,
                    updateTeam: 7,
                    leaveTeam: 8,
                    getTeam: 9,
                    getTeams: 10,
                    getTeamMembers: 11,
                    dismissTeam: 12,
                    applyTeam: 13,
                    passTeamApply: 14,
                    rejectTeamApply: 15,
                    addTeamManagers: 16,
                    removeTeamManagers: 17,
                    transferTeam: 18,
                    updateInfoInTeam: 19,
                    updateNickInTeam: 20,
                    acceptTeamInvite: 21,
                    rejectTeamInvite: 22,
                    getTeamHistoryMsgs: 23,
                    searchTeamHistoryMsgs: 24,
                    updateMuteStateInTeam: 25,
                    getMyTeamMembers: 26,
                    getMutedTeamMembers: 27,
                    sendTeamMsgReceipt: 28,
                    getTeamMsgReads: 29,
                    getTeamMsgReadAccounts: 30,
                    notifyTeamMsgReads: 31,
                    muteTeamAll: 32,
                    getTeamMemberInvitorAccid: 33,
                    getTeamsById: 34,
                    syncMyTeamMembers: 126,
                    syncTeams: 109,
                    syncTeamMembers: 111,
                    syncCreateTeam: 101,
                    syncSendTeamMsg: 102,
                    syncUpdateTeamMember: 119
                },
                superTeam: {
                    id: 21,
                    sendSuperTeamMsg: 2,
                    superTeamMsg: 3,
                    addSuperTeamMembers: 5,
                    removeSuperTeamMembers: 6,
                    leaveSuperTeam: 7,
                    updateSuperTeam: 8,
                    getSuperTeam: 9,
                    getSuperTeams: 12,
                    updateInfoInSuperTeam: 10,
                    getMySuperTeamMembers: 11,
                    getSuperTeamMembers: 13,
                    getSuperTeamHistoryMsgs: 14,
                    getSuperTeamMembersByJoinTime: 15,
                    sendSuperTeamCustomSysMsg: 16,
                    deleteSuperTeamMsg: 17,
                    superTeamMsgDelete: 18,
                    superTeamCustomSysMsg: 19,
                    applySuperTeam: 20,
                    passSuperTeamApply: 21,
                    rejectSuperTeamApply: 22,
                    acceptSuperTeamInvite: 23,
                    rejectSuperTeamInvite: 24,
                    markSuperTeamSessionAck: 25,
                    addSuperTeamManagers: 26,
                    removeSuperTeamManagers: 27,
                    updateSuperTeamMute: 28,
                    updateSuperTeamMembersMute: 29,
                    updateNickInSuperTeam: 30,
                    transferSuperTeam: 31,
                    markSuperTeamSessionsAck: 32,
                    getSuperTeamMembersByAccounts: 33,
                    getMutedSuperTeamMembers: 34,
                    syncMySuperTeamMembers: 111,
                    syncSuperTeams: 109,
                    syncSuperTeamMembers: 113,
                    syncCreateSuperTeam: 101,
                    syncSendSuperTeamMsg: 102,
                    syncUpdateSuperTeamMember: 110,
                    syncDeleteSuperTeamMsg: 117
                },
                friend: {
                    id: 12,
                    friendRequest: 1,
                    syncFriendRequest: 101,
                    deleteFriend: 2,
                    syncDeleteFriend: 102,
                    updateFriend: 3,
                    syncUpdateFriend: 103,
                    getFriends: 4
                },
                chatroom: {
                    id: 13,
                    getChatroomAddress: 1
                },
                filter: {
                    id: 101,
                    sendFilterMsg: 1,
                    filterMsg: 2,
                    filterSysMsg: 3,
                    sendFilterCustomSysMsg: 7
                },
                eventService: {
                    id: 14,
                    publishEvent: 1,
                    pushEvent: 2,
                    subscribeEvent: 3,
                    unSubscribeEventsByAccounts: 4,
                    unSubscribeEventsByType: 5,
                    querySubscribeEventsByAccounts: 6,
                    querySubscribeEventsByType: 7,
                    pushEvents: 9
                },
                proxyService: {
                    id: 22,
                    httpProxy: 1,
                    onProxyMsg: 2
                },
                qchat: {
                    id: 24,
                    getQChatAddress: 1
                }
            }), a = r.merge({}, o.cmdConfig, {
                login: {
                    sid: i.auth.id,
                    cid: i.auth.login,
                    params: [ {
                        type: "Property",
                        name: "login"
                    } ]
                },
                logout: {
                    sid: i.auth.id,
                    cid: i.auth.logout
                },
                kick: {
                    sid: i.auth.id,
                    cid: i.auth.kick,
                    params: [ {
                        type: "StrArray",
                        name: "deviceIds"
                    } ]
                },
                updatePushToken: {
                    sid: i.user.id,
                    cid: i.user.updatePushToken,
                    params: [ {
                        type: "String",
                        name: "tokenName"
                    }, {
                        type: "String",
                        name: "token"
                    }, {
                        type: "int",
                        name: "pushkit"
                    } ]
                },
                appBackground: {
                    sid: i.user.id,
                    cid: i.user.appBackground,
                    params: [ {
                        type: "bool",
                        name: "isBackground"
                    }, {
                        type: "Int",
                        name: "badge"
                    } ]
                },
                markInBlacklist: {
                    sid: i.user.id,
                    cid: i.user.markInBlacklist,
                    params: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "bool",
                        name: "isAdd"
                    } ]
                },
                getBlacklist: {
                    sid: i.user.id,
                    cid: i.user.getBlacklist,
                    params: [ {
                        type: "long",
                        name: "time"
                    } ]
                },
                markInMutelist: {
                    sid: i.user.id,
                    cid: i.user.markInMutelist,
                    params: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "bool",
                        name: "isAdd"
                    } ]
                },
                getMutelist: {
                    sid: i.user.id,
                    cid: i.user.getMutelist,
                    params: [ {
                        type: "long",
                        name: "time"
                    } ]
                },
                getRelations: {
                    sid: i.user.id,
                    cid: i.user.getRelations,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                getUsers: {
                    sid: i.user.id,
                    cid: i.user.getUsers,
                    params: [ {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                updateMyInfo: {
                    sid: i.user.id,
                    cid: i.user.updateMyInfo,
                    params: [ {
                        type: "Property",
                        name: "user"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                updateDonnop: {
                    sid: i.user.id,
                    cid: i.user.updateDonnop,
                    params: [ {
                        type: "Property",
                        name: "donnop"
                    } ]
                },
                markRead: {
                    sid: i.notify.id,
                    cid: i.notify.markRead,
                    params: [ {
                        type: "long",
                        name: "id"
                    }, {
                        type: "ph",
                        name: "ph"
                    } ]
                },
                batchMarkRead: {
                    sid: i.notify.id,
                    cid: i.notify.batchMarkRead,
                    params: [ {
                        type: "byte",
                        name: "sid"
                    }, {
                        type: "byte",
                        name: "cid"
                    }, {
                        type: "LongArray",
                        name: "ids"
                    } ]
                },
                sync: {
                    sid: i.sync.id,
                    cid: i.sync.sync,
                    params: [ {
                        type: "Property",
                        name: "sync"
                    } ]
                },
                syncTeamMembers: {
                    sid: i.sync.id,
                    cid: i.sync.syncTeamMembers,
                    params: [ {
                        type: "LongLongMap",
                        name: "sync"
                    } ]
                },
                syncSuperTeamMembers: {
                    sid: i.sync.id,
                    cid: i.sync.syncSuperTeamMembers,
                    params: [ {
                        type: "LongLongMap",
                        name: "sync"
                    } ]
                },
                sendMsg: {
                    sid: i.msg.id,
                    cid: i.msg.sendMsg,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                getHistoryMsgs: {
                    sid: i.msg.id,
                    cid: i.msg.getHistoryMsgs,
                    params: [ {
                        type: "String",
                        name: "to"
                    }, {
                        type: "long",
                        name: "beginTime"
                    }, {
                        type: "long",
                        name: "endTime"
                    }, {
                        type: "long",
                        name: "lastMsgId"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    }, {
                        type: "LongArray",
                        name: "msgTypes"
                    } ]
                },
                sendCustomSysMsg: {
                    sid: i.msg.id,
                    cid: i.msg.sendCustomSysMsg,
                    params: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                searchHistoryMsgs: {
                    sid: i.msg.id,
                    cid: i.msg.searchHistoryMsgs,
                    params: [ {
                        type: "String",
                        name: "to"
                    }, {
                        type: "long",
                        name: "beginTime"
                    }, {
                        type: "long",
                        name: "endTime"
                    }, {
                        type: "String",
                        name: "keyword"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    } ]
                },
                getSessions: {
                    sid: i.msg.id,
                    cid: i.msg.getSessions,
                    params: [ {
                        type: "long",
                        name: "time"
                    } ]
                },
                deleteSessions: {
                    sid: i.msg.id,
                    cid: i.msg.deleteSessions,
                    params: [ {
                        type: "StrArray",
                        name: "sessions"
                    } ]
                },
                sendMsgReceipt: {
                    sid: i.msg.id,
                    cid: i.msg.sendMsgReceipt,
                    params: [ {
                        type: "Property",
                        name: "msgReceipt"
                    } ]
                },
                deleteMsg: {
                    sid: i.msg.id,
                    cid: i.msg.deleteMsg,
                    params: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                markSessionAck: {
                    sid: i.msg.id,
                    cid: i.msg.markSessionAck,
                    params: [ {
                        type: "byte",
                        name: "scene"
                    }, {
                        type: "String",
                        name: "to"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                markSessionAckBatch: {
                    sid: i.msg.id,
                    cid: i.msg.markSessionAckBatch,
                    params: [ {
                        type: "PropertyArray",
                        name: "sessionAckTags",
                        entity: "sessionAckTag"
                    } ]
                },
                clearServerHistoryMsgs: {
                    sid: i.msg.id,
                    cid: i.msg.clearServerHistoryMsgs,
                    params: [ {
                        type: "Property",
                        name: "clearMsgsParams"
                    } ]
                },
                clearServerHistoryMsgsWithSync: {
                    sid: i.msg.id,
                    cid: i.msg.clearServerHistoryMsgs,
                    params: [ {
                        type: "Property",
                        name: "clearMsgsParamsWithSync"
                    } ]
                },
                msgFtsInServer: {
                    sid: i.msg.id,
                    cid: i.msg.msgFtsInServer,
                    params: [ {
                        type: "Property",
                        name: "msgFullSearchRequestTag"
                    } ]
                },
                msgFtsInServerByTiming: {
                    sid: i.msg.id,
                    cid: i.msg.msgFtsInServerByTiming,
                    params: [ {
                        type: "Property",
                        name: "msgTimingFullSearchRequestTag"
                    } ]
                },
                onClearServerHistoryMsgs: {
                    sid: i.msg.id,
                    cid: i.msg.clearServerHistoryMsgs
                },
                getServerSessions: {
                    sid: i.msg.id,
                    cid: i.msg.getServerSessions,
                    params: [ {
                        type: "Property",
                        name: "sessionReqTag"
                    } ]
                },
                getServerSession: {
                    sid: i.msg.id,
                    cid: i.msg.getServerSession,
                    params: [ {
                        type: "Property",
                        name: "session"
                    } ]
                },
                updateServerSession: {
                    sid: i.msg.id,
                    cid: i.msg.updateServerSession,
                    params: [ {
                        type: "Property",
                        name: "session"
                    } ]
                },
                deleteServerSessions: {
                    sid: i.msg.id,
                    cid: i.msg.deleteServerSessions,
                    params: [ {
                        type: "PropertyArray",
                        name: "sessions",
                        entity: "session"
                    } ]
                },
                deleteMsgSelf: {
                    sid: i.msg.id,
                    cid: i.msg.deleteMsgSelf,
                    params: [ {
                        type: "Property",
                        name: "deleteMsgSelfTag"
                    } ]
                },
                deleteMsgSelfBatch: {
                    sid: i.msg.id,
                    cid: i.msg.deleteMsgSelfBatch,
                    params: [ {
                        type: "PropertyArray",
                        name: "deleteMsgSelfTags",
                        entity: "deleteMsgSelfTag"
                    } ]
                },
                onDeleteMsgSelf: {
                    sid: i.msg.id,
                    cid: i.msg.onDeleteMsgSelf
                },
                onDeleteMsgSelfBatch: {
                    sid: i.msg.id,
                    cid: i.msg.onDeleteMsgSelfBatch
                },
                sendSuperTeamMsg: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.sendSuperTeamMsg,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                addSuperTeamMembers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.addSuperTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                removeSuperTeamMembers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.removeSuperTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                leaveSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.leaveSuperTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                updateSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.updateSuperTeam,
                    params: [ {
                        type: "Property",
                        name: "team"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                getSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                getSuperTeams: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeams,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                getSuperTeamMembers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                updateInfoInSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.updateInfoInSuperTeam,
                    params: [ {
                        type: "Property",
                        name: "superTeamMember"
                    } ]
                },
                getSuperTeamHistoryMsgs: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeamHistoryMsgs,
                    params: [ {
                        type: "long",
                        name: "to"
                    }, {
                        type: "long",
                        name: "beginTime"
                    }, {
                        type: "long",
                        name: "endTime"
                    }, {
                        type: "long",
                        name: "lastMsgId"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    }, {
                        type: "LongArray",
                        name: "msgTypes"
                    } ]
                },
                applySuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.applySuperTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                passSuperTeamApply: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.passSuperTeamApply,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    } ]
                },
                rejectSuperTeamApply: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.rejectSuperTeamApply,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                acceptSuperTeamInvite: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.acceptSuperTeamInvite,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    } ]
                },
                rejectSuperTeamInvite: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.rejectSuperTeamInvite,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                markSuperTeamSessionAck: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.markSuperTeamSessionAck,
                    params: [ {
                        type: "long",
                        name: "to"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                addSuperTeamManagers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.addSuperTeamManagers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                removeSuperTeamManagers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.removeSuperTeamManagers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                updateSuperTeamMute: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.updateSuperTeamMute,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "int",
                        name: "mute"
                    } ]
                },
                updateSuperTeamMembersMute: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.updateSuperTeamMembersMute,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    }, {
                        type: "int",
                        name: "mute"
                    } ]
                },
                updateNickInSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.updateNickInSuperTeam,
                    params: [ {
                        type: "Property",
                        name: "superTeamMember"
                    } ]
                },
                transferSuperTeam: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.transferSuperTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "account"
                    }, {
                        type: "bool",
                        name: "leave"
                    } ]
                },
                markSuperTeamSessionsAck: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.markSuperTeamSessionsAck,
                    params: [ {
                        type: "PropertyArray",
                        name: "sessionAckTags",
                        entity: "sessionAckTag"
                    } ]
                },
                getSuperTeamMembersByJoinTime: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeamMembersByJoinTime,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "long",
                        name: "joinTime"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    } ]
                },
                getSuperTeamMembersByAccounts: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getSuperTeamMembersByAccounts,
                    params: [ {
                        type: "StrArray",
                        name: "memberIds"
                    } ]
                },
                getMutedSuperTeamMembers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getMutedSuperTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "long",
                        name: "joinTime"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    } ]
                },
                sendSuperTeamCustomSysMsg: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.sendSuperTeamCustomSysMsg,
                    params: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                deleteSuperTeamMsg: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.deleteSuperTeamMsg,
                    params: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                getMySuperTeamMembers: {
                    sid: i.superTeam.id,
                    cid: i.superTeam.getMySuperTeamMembers,
                    params: [ {
                        type: "LongArray",
                        name: "teamIds"
                    } ]
                },
                createTeam: {
                    sid: i.team.id,
                    cid: i.team.createTeam,
                    params: [ {
                        type: "Property",
                        name: "team"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    }, {
                        type: "String",
                        name: "ps"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                sendTeamMsg: {
                    sid: i.team.id,
                    cid: i.team.sendTeamMsg,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                addTeamMembers: {
                    sid: i.team.id,
                    cid: i.team.addTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    }, {
                        type: "String",
                        name: "ps"
                    }, {
                        type: "String",
                        name: "attach"
                    } ]
                },
                removeTeamMembers: {
                    sid: i.team.id,
                    cid: i.team.removeTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                updateTeam: {
                    sid: i.team.id,
                    cid: i.team.updateTeam,
                    params: [ {
                        type: "Property",
                        name: "team"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                leaveTeam: {
                    sid: i.team.id,
                    cid: i.team.leaveTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                getTeam: {
                    sid: i.team.id,
                    cid: i.team.getTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                getTeams: {
                    sid: i.team.id,
                    cid: i.team.getTeams,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                getTeamsById: {
                    sid: i.team.id,
                    cid: i.team.getTeamsById,
                    params: [ {
                        type: "longArray",
                        name: "teamIds"
                    } ]
                },
                getTeamMembers: {
                    sid: i.team.id,
                    cid: i.team.getTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                dismissTeam: {
                    sid: i.team.id,
                    cid: i.team.dismissTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                applyTeam: {
                    sid: i.team.id,
                    cid: i.team.applyTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                passTeamApply: {
                    sid: i.team.id,
                    cid: i.team.passTeamApply,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    } ]
                },
                rejectTeamApply: {
                    sid: i.team.id,
                    cid: i.team.rejectTeamApply,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                addTeamManagers: {
                    sid: i.team.id,
                    cid: i.team.addTeamManagers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                removeTeamManagers: {
                    sid: i.team.id,
                    cid: i.team.removeTeamManagers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                transferTeam: {
                    sid: i.team.id,
                    cid: i.team.transferTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "account"
                    }, {
                        type: "bool",
                        name: "leave"
                    } ]
                },
                updateInfoInTeam: {
                    sid: i.team.id,
                    cid: i.team.updateInfoInTeam,
                    params: [ {
                        type: "Property",
                        name: "teamMember"
                    } ]
                },
                updateNickInTeam: {
                    sid: i.team.id,
                    cid: i.team.updateNickInTeam,
                    params: [ {
                        type: "Property",
                        name: "teamMember"
                    } ]
                },
                acceptTeamInvite: {
                    sid: i.team.id,
                    cid: i.team.acceptTeamInvite,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    } ]
                },
                rejectTeamInvite: {
                    sid: i.team.id,
                    cid: i.team.rejectTeamInvite,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "from"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                getTeamHistoryMsgs: {
                    sid: i.team.id,
                    cid: i.team.getTeamHistoryMsgs,
                    params: [ {
                        type: "long",
                        name: "to"
                    }, {
                        type: "long",
                        name: "beginTime"
                    }, {
                        type: "long",
                        name: "endTime"
                    }, {
                        type: "long",
                        name: "lastMsgId"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    }, {
                        type: "LongArray",
                        name: "msgTypes"
                    } ]
                },
                searchTeamHistoryMsgs: {
                    sid: i.team.id,
                    cid: i.team.searchTeamHistoryMsgs,
                    params: [ {
                        type: "long",
                        name: "to"
                    }, {
                        type: "long",
                        name: "beginTime"
                    }, {
                        type: "long",
                        name: "endTime"
                    }, {
                        type: "String",
                        name: "keyword"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    } ]
                },
                updateMuteStateInTeam: {
                    sid: i.team.id,
                    cid: i.team.updateMuteStateInTeam,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "String",
                        name: "account"
                    }, {
                        type: "int",
                        name: "mute"
                    } ]
                },
                getMyTeamMembers: {
                    sid: i.team.id,
                    cid: i.team.getMyTeamMembers,
                    params: [ {
                        type: "LongArray",
                        name: "teamIds"
                    } ]
                },
                getMutedTeamMembers: {
                    sid: i.team.id,
                    cid: i.team.getMutedTeamMembers,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    } ]
                },
                sendTeamMsgReceipt: {
                    sid: i.team.id,
                    cid: i.team.sendTeamMsgReceipt,
                    params: [ {
                        type: "PropertyArray",
                        name: "teamMsgReceipts",
                        entity: "teamMsgReceipt"
                    } ]
                },
                getTeamMsgReads: {
                    sid: i.team.id,
                    cid: i.team.getTeamMsgReads,
                    params: [ {
                        type: "PropertyArray",
                        name: "teamMsgReceipts",
                        entity: "teamMsgReceipt"
                    } ]
                },
                getTeamMsgReadAccounts: {
                    sid: i.team.id,
                    cid: i.team.getTeamMsgReadAccounts,
                    params: [ {
                        type: "Property",
                        name: "teamMsgReceipt"
                    } ]
                },
                muteTeamAll: {
                    sid: i.team.id,
                    cid: i.team.muteTeamAll,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "int",
                        name: "mute"
                    } ]
                },
                getTeamMemberInvitorAccid: {
                    sid: i.team.id,
                    cid: i.team.getTeamMemberInvitorAccid,
                    params: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                friendRequest: {
                    sid: i.friend.id,
                    cid: i.friend.friendRequest,
                    params: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "byte",
                        name: "type"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                deleteFriend: {
                    sid: i.friend.id,
                    cid: i.friend.deleteFriend,
                    params: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "Property",
                        name: "delFriendParams"
                    } ]
                },
                updateFriend: {
                    sid: i.friend.id,
                    cid: i.friend.updateFriend,
                    params: [ {
                        type: "Property",
                        name: "friend"
                    } ]
                },
                getFriends: {
                    sid: i.friend.id,
                    cid: i.friend.getFriends,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                getChatroomAddress: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroomAddress,
                    params: [ {
                        type: "long",
                        name: "chatroomId"
                    }, {
                        type: "bool",
                        name: "isWeixinApp"
                    }, {
                        type: "number",
                        name: "type"
                    } ]
                },
                sendFilterMsg: {
                    sid: i.filter.id,
                    cid: i.filter.sendFilterMsg,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                sendFilterCustomSysMsg: {
                    sid: i.filter.id,
                    cid: i.filter.sendFilterCustomSysMsg,
                    params: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                publishEvent: {
                    sid: i.eventService.id,
                    cid: i.eventService.publishEvent,
                    params: [ {
                        type: "Property",
                        name: "msgEvent"
                    } ]
                },
                pushEvent: {
                    sid: i.eventService.id,
                    cid: i.eventService.pushEvent
                },
                subscribeEvent: {
                    sid: i.eventService.id,
                    cid: i.eventService.subscribeEvent,
                    params: [ {
                        type: "Property",
                        name: "msgEventSubscribe"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                unSubscribeEventsByAccounts: {
                    sid: i.eventService.id,
                    cid: i.eventService.unSubscribeEventsByAccounts,
                    params: [ {
                        type: "Property",
                        name: "msgEventSubscribe"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                unSubscribeEventsByType: {
                    sid: i.eventService.id,
                    cid: i.eventService.unSubscribeEventsByType,
                    params: [ {
                        type: "Property",
                        name: "msgEventSubscribe"
                    } ]
                },
                querySubscribeEventsByAccounts: {
                    sid: i.eventService.id,
                    cid: i.eventService.querySubscribeEventsByAccounts,
                    params: [ {
                        type: "Property",
                        name: "msgEventSubscribe"
                    }, {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                querySubscribeEventsByType: {
                    sid: i.eventService.id,
                    cid: i.eventService.querySubscribeEventsByType,
                    params: [ {
                        type: "Property",
                        name: "msgEventSubscribe"
                    } ]
                },
                pushEvents: {
                    sid: i.eventService.id,
                    cid: i.eventService.pushEvents
                },
                getThreadMsgs: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.getThreadMsgs,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "threadMsgReq"
                    } ]
                },
                getMsgsByIdServer: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.getMsgsByIdServer,
                    params: [ {
                        type: "PropertyArray",
                        name: "reqMsgs",
                        entity: "msg"
                    } ]
                },
                addQuickComment: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.addQuickComment,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                deleteQuickComment: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.deleteQuickComment,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                getQuickComments: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.getQuickComments,
                    params: [ {
                        type: "PropertyArray",
                        name: "commentReq",
                        entity: "commentReq"
                    } ]
                },
                addCollect: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.addCollect,
                    params: [ {
                        type: "Property",
                        name: "collect"
                    } ]
                },
                deleteCollects: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.deleteCollects,
                    params: [ {
                        type: "PropertyArray",
                        name: "collectList",
                        entity: "collect"
                    } ]
                },
                updateCollect: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.updateCollect,
                    params: [ {
                        type: "Property",
                        name: "collect"
                    } ]
                },
                getCollects: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.getCollects,
                    params: [ {
                        type: "Property",
                        name: "collectQuery"
                    } ]
                },
                addStickTopSession: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.addStickTopSession,
                    params: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                updateStickTopSession: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.updateStickTopSession,
                    params: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                deleteStickTopSession: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.deleteStickTopSession,
                    params: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                addMsgPin: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.addMsgPin,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    } ]
                },
                updateMsgPin: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.updateMsgPin,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    } ]
                },
                deleteMsgPin: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.deleteMsgPin,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    } ]
                },
                getMsgPins: {
                    sid: i.msgExtend.id,
                    cid: i.msgExtend.getMsgPins,
                    params: [ {
                        type: "Property",
                        name: "msgPinReq"
                    } ]
                },
                httpProxy: {
                    sid: i.proxyService.id,
                    cid: i.proxyService.httpProxy,
                    params: [ {
                        type: "Property",
                        name: "proxyTag"
                    } ]
                },
                getQChatAddress: {
                    sid: i.qchat.id,
                    cid: i.qchat.getQChatAddress,
                    params: [ {
                        type: "Property",
                        name: "getQChatAddressTag"
                    } ]
                }
            }), s = r.merge({}, o.packetConfig, {
                "2_3": {
                    service: "auth",
                    cmd: "login",
                    response: [ {
                        type: "Property",
                        name: "loginRes"
                    }, {
                        type: "PropertyArray",
                        name: "loginPorts",
                        entity: "loginPort"
                    }, {
                        type: "Property",
                        name: "aosPushInfo"
                    } ]
                },
                "2_5": {
                    service: "auth",
                    cmd: "kicked",
                    response: [ {
                        type: "Number",
                        name: "from"
                    }, {
                        type: "Number",
                        name: "reason"
                    }, {
                        type: "String",
                        name: "custom"
                    }, {
                        type: "Number",
                        name: "customClientType"
                    } ]
                },
                "2_6": {
                    service: "auth",
                    cmd: "logout"
                },
                "2_7": {
                    service: "auth",
                    cmd: "multiPortLogin",
                    response: [ {
                        type: "Number",
                        name: "state"
                    }, {
                        type: "PropertyArray",
                        name: "loginPorts",
                        entity: "loginPort"
                    } ]
                },
                "2_8": {
                    service: "auth",
                    cmd: "kick",
                    response: [ {
                        type: "StrArray",
                        name: "deviceIds"
                    } ]
                },
                "3_1": {
                    service: "user",
                    cmd: "updatePushToken"
                },
                "3_2": {
                    service: "user",
                    cmd: "appBackground"
                },
                "3_3": {
                    service: "user",
                    cmd: "markInBlacklist"
                },
                "3_103": {
                    service: "user",
                    cmd: "syncMarkInBlacklist",
                    response: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "Boolean",
                        name: "isAdd"
                    } ]
                },
                "3_4": {
                    service: "user",
                    cmd: "getBlacklist",
                    response: [ {
                        type: "StrArray",
                        name: "blacklist"
                    } ]
                },
                "3_5": {
                    service: "user",
                    cmd: "markInMutelist"
                },
                "3_105": {
                    service: "user",
                    cmd: "syncMarkInMutelist",
                    response: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "Boolean",
                        name: "isAdd"
                    } ]
                },
                "3_6": {
                    service: "user",
                    cmd: "getMutelist",
                    response: [ {
                        type: "StrArray",
                        name: "mutelist"
                    } ]
                },
                "3_8": {
                    service: "user",
                    cmd: "getRelations",
                    response: [ {
                        type: "PropertyArray",
                        name: "specialRelations",
                        entity: "specialRelation"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "3_7": {
                    service: "user",
                    cmd: "getUsers",
                    response: [ {
                        type: "PropertyArray",
                        name: "users",
                        entity: "user"
                    } ]
                },
                "3_10": {
                    service: "user",
                    cmd: "updateMyInfo",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "3_15": {
                    service: "user",
                    cmd: "updateDonnop",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "3_115": {
                    service: "user",
                    cmd: "syncUpdateDonnop",
                    response: [ {
                        type: "Property",
                        name: "donnop"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "3_109": {
                    service: "user",
                    cmd: "syncMyInfo",
                    response: [ {
                        type: "Property",
                        name: "user"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "3_110": {
                    service: "user",
                    cmd: "syncUpdateMyInfo",
                    response: [ {
                        type: "Property",
                        name: "user"
                    } ]
                },
                "4_1": {
                    service: "notify"
                },
                "4_2": {
                    service: "notify"
                },
                "4_3": {
                    service: "notify",
                    cmd: "markRead"
                },
                "4_4": {
                    service: "notify",
                    cmd: "syncOfflineMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "4_5": {
                    service: "notify",
                    cmd: "batchMarkRead"
                },
                "4_6": {
                    service: "notify",
                    cmd: "syncOfflineSysMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "sysMsgs",
                        entity: "sysMsg"
                    } ]
                },
                "4_8": {
                    service: "notify",
                    cmd: "syncOfflineNetcallMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "4_9": {
                    service: "notify",
                    cmd: "syncRoamingMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "4_12": {
                    service: "notify",
                    cmd: "syncMsgReceipts",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgReceipts",
                        entity: "msgReceipt"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "4_13": {
                    service: "notify",
                    cmd: "syncDonnop",
                    response: [ {
                        type: "Property",
                        name: "donnop"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "4_14": {
                    service: "notify",
                    cmd: "syncSessionAck",
                    response: [ {
                        type: "StrLongMap",
                        name: "p2p"
                    }, {
                        type: "LongLongMap",
                        name: "team"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "4_15": {
                    service: "notify",
                    cmd: "syncRobots",
                    response: [ {
                        type: "PropertyArray",
                        name: "robots",
                        entity: "robot"
                    } ]
                },
                "4_16": {
                    service: "notify",
                    cmd: "syncBroadcastMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "broadcastMsgs",
                        entity: "broadcastMsg"
                    } ]
                },
                "4_17": {
                    service: "notify",
                    cmd: "syncSuperTeamRoamingMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "4_18": {
                    service: "notify",
                    cmd: "syncOfflineSuperTeamSysMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "sysMsgs",
                        entity: "sysMsg"
                    } ]
                },
                "4_19": {
                    service: "notify",
                    cmd: "syncDeleteSuperTeamMsgOfflineRoaming",
                    response: [ {
                        type: "PropertyArray",
                        name: "sysMsgs",
                        entity: "sysMsg"
                    }, {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "Number",
                        name: "type"
                    } ]
                },
                "4_20": {
                    service: "notify",
                    cmd: "syncSuperTeamSessionAck",
                    response: [ {
                        type: "LongLongMap",
                        name: "superTeam"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "4_21": {
                    service: "notify",
                    cmd: "syncDeleteMsgSelf",
                    response: [ {
                        type: "PropertyArray",
                        name: "deletedMsgs",
                        entity: "deleteMsgSelfTag"
                    } ]
                },
                "4_22": {
                    service: "notify",
                    cmd: "syncSessionsWithMoreRoaming",
                    response: [ {
                        type: "PropertyArray",
                        name: "sessions",
                        entity: "msg"
                    } ]
                },
                "4_23": {
                    service: "notify",
                    cmd: "syncStickTopSessions",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "boolean",
                        name: "modify"
                    }, {
                        type: "PropertyArray",
                        name: "sessions",
                        entity: "stickTopSession"
                    } ]
                },
                "4_24": {
                    service: "notify",
                    cmd: "syncSessionHistoryMsgsDelete",
                    response: [ {
                        type: "PropertyArray",
                        name: "sessionHistoryMsgsDeleteTags",
                        entity: "clearMsgsParamsWithSync"
                    } ]
                },
                "4_100": {
                    service: "notify",
                    cmd: "syncOfflineFilterMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "4_101": {
                    service: "notify",
                    cmd: "syncOfflineFilterSysMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "sysMsgs",
                        entity: "sysMsg"
                    } ]
                },
                "5_1": {
                    service: "sync",
                    cmd: "syncDone",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "5_2": {
                    service: "sync",
                    cmd: "syncTeamMembersDone",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "5_3": {
                    service: "sync",
                    cmd: "syncSuperTeamMembersDone",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "7_1": {
                    service: "msg",
                    cmd: "sendMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ],
                    trivialErrorCodes: [ 7101 ]
                },
                "7_2": {
                    service: "msg",
                    cmd: "msg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "7_3": {
                    service: "msg",
                    cmd: "sysMsg",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "7_6": {
                    service: "msg",
                    cmd: "getHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "7_7": {
                    service: "msg",
                    cmd: "sendCustomSysMsg",
                    trivialErrorCodes: [ 7101 ]
                },
                "7_8": {
                    service: "msg",
                    cmd: "searchHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "7_9": {
                    service: "msg",
                    cmd: "deleteSessions"
                },
                "7_10": {
                    service: "msg",
                    cmd: "getSessions",
                    response: [ {
                        type: "StrArray",
                        name: "sessions"
                    } ]
                },
                "7_101": {
                    service: "msg",
                    cmd: "syncSendMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "7_11": {
                    service: "msg",
                    cmd: "sendMsgReceipt",
                    response: [ {
                        type: "Property",
                        name: "msgReceipt"
                    } ]
                },
                "7_12": {
                    service: "msg",
                    cmd: "msgReceipt",
                    response: [ {
                        type: "Property",
                        name: "msgReceipt"
                    } ]
                },
                "7_13": {
                    service: "msg",
                    cmd: "onDeleteMsg"
                },
                "7_14": {
                    service: "msg",
                    cmd: "onMsgDeleted",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "7_15": {
                    service: "msg",
                    cmd: "onDeleteMsgOfflineRoaming",
                    response: [ {
                        type: "PropertyArray",
                        name: "sysMsgs",
                        entity: "sysMsg"
                    }, {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "Number",
                        name: "type"
                    } ]
                },
                "7_16": {
                    service: "msg",
                    cmd: "onMarkSessionAck"
                },
                "7_17": {
                    service: "msg",
                    cmd: "broadcastMsg",
                    response: [ {
                        type: "Property",
                        name: "broadcastMsg"
                    } ]
                },
                "7_18": {
                    service: "msg",
                    cmd: "clearServerHistoryMsgs",
                    response: [ {
                        type: "Long",
                        name: "timetag"
                    } ]
                },
                "7_19": {
                    service: "session",
                    cmd: "getServerSessions",
                    response: [ {
                        type: "Property",
                        name: "sessionReqTag"
                    }, {
                        type: "PropertyArray",
                        name: "sessionList",
                        entity: "session"
                    } ]
                },
                "7_20": {
                    service: "session",
                    cmd: "getServerSession",
                    response: [ {
                        type: "Property",
                        name: "session"
                    } ]
                },
                "7_21": {
                    service: "session",
                    cmd: "updateServerSession"
                },
                "7_22": {
                    service: "session",
                    cmd: "deleteServerSessions"
                },
                "7_23": {
                    service: "msg",
                    cmd: "deleteMsgSelf",
                    response: [ {
                        type: "Long",
                        name: "timetag"
                    } ]
                },
                "7_24": {
                    service: "msg",
                    cmd: "deleteMsgSelfBatch",
                    response: [ {
                        type: "Long",
                        name: "timetag"
                    } ]
                },
                "7_25": {
                    service: "msg",
                    cmd: "onMarkSessionAckBatch"
                },
                "7_26": {
                    service: "msg",
                    cmd: "msgFtsInServer",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "7_27": {
                    service: "msg",
                    cmd: "msgFtsInServerByTiming",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "7_118": {
                    service: "msg",
                    cmd: "onClearServerHistoryMsgs",
                    response: [ {
                        type: "Property",
                        name: "sessionHistoryMsgsDeleteTag",
                        entity: "clearMsgsParamsWithSync"
                    } ]
                },
                "7_123": {
                    service: "msg",
                    cmd: "onDeleteMsgSelf",
                    response: [ {
                        type: "Property",
                        name: "deleteMsgSelfTag"
                    } ]
                },
                "7_124": {
                    service: "msg",
                    cmd: "onDeleteMsgSelfBatch",
                    response: [ {
                        type: "PropertyArray",
                        name: "deleteMsgSelfTags",
                        entity: "deleteMsgSelfTag"
                    } ]
                },
                "7_116": {
                    service: "msg",
                    cmd: "syncMarkSessionAck",
                    response: [ {
                        type: "Number",
                        name: "scene"
                    }, {
                        type: "String",
                        name: "to"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "7_121": {
                    service: "msg",
                    cmd: "syncUpdateServerSession",
                    response: [ {
                        type: "Property",
                        name: "session"
                    } ]
                },
                "23_1": {
                    service: "msgExtend",
                    cmd: "getThreadMsgs",
                    response: [ {
                        type: "Property",
                        name: "threadMsg",
                        entity: "msg"
                    }, {
                        type: "Property",
                        name: "threadMsgsMeta"
                    }, {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "23_2": {
                    service: "msgExtend",
                    cmd: "getMsgsByIdServer",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "23_3": {
                    service: "msgExtend",
                    cmd: "addQuickComment",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_4": {
                    service: "msgExtend",
                    cmd: "deleteQuickComment",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_5": {
                    service: "msgExtend",
                    cmd: "onQuickComment",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                "23_6": {
                    service: "msgExtend",
                    cmd: "onDeleteQuickComment",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                "23_7": {
                    service: "msgExtend",
                    cmd: "getQuickComments",
                    response: [ {
                        type: "PropertyArray",
                        name: "commentRes",
                        entity: "commentRes"
                    } ]
                },
                "23_8": {
                    service: "msgExtend",
                    cmd: "addCollect",
                    response: [ {
                        type: "Property",
                        name: "collect"
                    } ]
                },
                "23_9": {
                    service: "msgExtend",
                    cmd: "deleteCollects",
                    response: [ {
                        type: "Number",
                        name: "deleteNum"
                    } ]
                },
                "23_10": {
                    service: "msgExtend",
                    cmd: "updateCollect",
                    response: [ {
                        type: "Property",
                        name: "collect"
                    } ]
                },
                "23_11": {
                    service: "msgExtend",
                    cmd: "getCollects",
                    response: [ {
                        type: "Number",
                        name: "total"
                    }, {
                        type: "PropertyArray",
                        name: "collectList",
                        entity: "collect"
                    } ]
                },
                "23_12": {
                    service: "msgExtend",
                    cmd: "addStickTopSession",
                    response: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                "23_13": {
                    service: "msgExtend",
                    cmd: "deleteStickTopSession",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_14": {
                    service: "msgExtend",
                    cmd: "updateStickTopSession",
                    response: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                "23_15": {
                    service: "msgExtend",
                    cmd: "addMsgPin",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_16": {
                    service: "msgExtend",
                    cmd: "updateMsgPin",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_17": {
                    service: "msgExtend",
                    cmd: "deleteMsgPin",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_18": {
                    service: "msgExtend",
                    cmd: "onAddMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_19": {
                    service: "msgExtend",
                    cmd: "onUpdateMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_20": {
                    service: "msgExtend",
                    cmd: "onDeleteMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_21": {
                    service: "msgExtend",
                    cmd: "getMsgPins",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "Boolean",
                        name: "modify"
                    }, {
                        type: "PropertyArray",
                        name: "pins",
                        entity: "msgPinRes"
                    } ]
                },
                "23_103": {
                    service: "msgExtend",
                    cmd: "syncAddQuickComment",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                "23_104": {
                    service: "msgExtend",
                    cmd: "syncDeleteQuickComment",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "comment"
                    } ]
                },
                "23_112": {
                    service: "msgExtend",
                    cmd: "syncAddStickTopSession",
                    response: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                "23_113": {
                    service: "msgExtend",
                    cmd: "syncDeleteStickTopSession",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                "23_114": {
                    service: "msgExtend",
                    cmd: "syncUpdateStickTopSession",
                    response: [ {
                        type: "Property",
                        name: "stickTopSession"
                    } ]
                },
                "23_115": {
                    service: "msgExtend",
                    cmd: "syncAddMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_116": {
                    service: "msgExtend",
                    cmd: "syncUpdateMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "23_117": {
                    service: "msgExtend",
                    cmd: "syncDeleteMsgPin",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    }, {
                        type: "Property",
                        name: "pinTag"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "21_2": {
                    service: "superTeam",
                    cmd: "sendSuperTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "21_3": {
                    service: "superTeam",
                    cmd: "superTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "21_5": {
                    service: "superTeam",
                    cmd: "addSuperTeamMembers",
                    response: [ {
                        type: "StrArray",
                        name: "abortedAccidList"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_6": {
                    service: "superTeam",
                    cmd: "removeSuperTeamMembers"
                },
                "21_7": {
                    service: "superTeam",
                    cmd: "leaveSuperTeam"
                },
                "21_8": {
                    service: "superTeam",
                    cmd: "updateSuperTeam",
                    response: [ {
                        type: "long",
                        name: "teamId"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_9": {
                    service: "superTeam",
                    cmd: "getSuperTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "21_12": {
                    service: "superTeam",
                    cmd: "getSuperTeams",
                    response: [ {
                        type: "PropertyArray",
                        name: "teams",
                        entity: "superTeam"
                    }, {
                        type: "bool",
                        name: "isAll"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_10": {
                    service: "superTeam",
                    cmd: "updateInfoInSuperTeam"
                },
                "21_13": {
                    service: "superTeam",
                    cmd: "getSuperTeamMembers",
                    response: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_11": {
                    service: "superTeam",
                    cmd: "getMySuperTeamMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "superTeamMember"
                    } ]
                },
                "21_14": {
                    service: "superTeam",
                    cmd: "getSuperTeamHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "21_15": {
                    service: "superTeam",
                    cmd: "getSuperTeamMembersByJoinTime",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "superTeamMember"
                    } ]
                },
                "21_16": {
                    service: "superTeam",
                    cmd: "sendSuperTeamCustomSysMsg",
                    trivialErrorCodes: [ 7101 ]
                },
                "21_17": {
                    service: "superTeam",
                    cmd: "onDeleteSuperTeamMsg"
                },
                "21_18": {
                    service: "superTeam",
                    cmd: "onSuperTeamMsgDelete",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "21_19": {
                    service: "superTeam",
                    cmd: "superTeamCustomSysMsg",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "21_20": {
                    service: "superTeam",
                    cmd: "applySuperTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "21_21": {
                    service: "superTeam",
                    cmd: "passSuperTeamApply"
                },
                "21_22": {
                    service: "superTeam",
                    cmd: "rejectSuperTeamApply"
                },
                "21_23": {
                    service: "superTeam",
                    cmd: "acceptSuperTeamInvite",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "21_24": {
                    service: "superTeam",
                    cmd: "rejectSuperTeamInvite"
                },
                "21_25": {
                    service: "superTeam",
                    cmd: "onMarkSuperTeamSessionAck"
                },
                "21_26": {
                    service: "superTeam",
                    cmd: "addSuperTeamManagers"
                },
                "21_27": {
                    service: "superTeam",
                    cmd: "removeSuperTeamManagers"
                },
                "21_28": {
                    service: "superTeam",
                    cmd: "updateSuperTeamMute"
                },
                "21_29": {
                    service: "superTeam",
                    cmd: "updateSuperTeamMembersMute",
                    response: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_30": {
                    service: "superTeam",
                    cmd: "updateNickInSuperTeam"
                },
                "21_31": {
                    service: "superTeam",
                    cmd: "transferSuperTeam"
                },
                "21_32": {
                    service: "superTeam",
                    cmd: "onMarkSuperTeamSessionsAck"
                },
                "21_33": {
                    service: "superTeam",
                    cmd: "getSuperTeamMembersByAccounts",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "superTeamMember"
                    } ]
                },
                "21_34": {
                    service: "superTeam",
                    cmd: "getMutedSuperTeamMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "superTeamMember"
                    } ]
                },
                "21_113": {
                    service: "superTeam",
                    cmd: "syncSuperTeamMembers",
                    response: [ {
                        type: "Number",
                        name: "teamId"
                    }, {
                        type: "PropertyArray",
                        name: "members",
                        entity: "superTeamMember"
                    }, {
                        type: "bool",
                        name: "isAll"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_111": {
                    service: "superTeam",
                    cmd: "syncMySuperTeamMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMembers",
                        entity: "superTeamMember"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_109": {
                    service: "superTeam",
                    cmd: "syncSuperTeams",
                    response: [ {
                        type: "PropertyArray",
                        name: "teams",
                        entity: "superTeam"
                    }, {
                        type: "bool",
                        name: "isAll"
                    }, {
                        type: "long",
                        name: "timetag"
                    } ]
                },
                "21_101": {
                    service: "superTeam",
                    cmd: "syncCreateSuperTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "21_102": {
                    service: "superTeam",
                    cmd: "syncSendSuperTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "21_110": {
                    service: "superTeam",
                    cmd: "syncUpdateSuperTeamMember",
                    response: [ {
                        type: "Property",
                        name: "teamMember",
                        entity: "superTeamMember"
                    } ]
                },
                "21_117": {
                    service: "superTeam",
                    cmd: "syncDeleteSuperTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "21_125": {
                    service: "superTeam",
                    cmd: "syncMarkSuperTeamSessionAck",
                    response: [ {
                        type: "Long",
                        name: "to"
                    }, {
                        type: "Long",
                        name: "timetag"
                    } ]
                },
                "8_1": {
                    service: "team",
                    cmd: "createTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    }, {
                        type: "StrArray",
                        name: "abortedAccidList"
                    } ]
                },
                "8_2": {
                    service: "team",
                    cmd: "sendTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "8_3": {
                    service: "team",
                    cmd: "teamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "8_4": {
                    service: "team",
                    cmd: "teamMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "8_5": {
                    service: "team",
                    cmd: "addTeamMembers",
                    response: [ {
                        type: "long",
                        name: "time"
                    }, {
                        type: "StrArray",
                        name: "abortedAccidList"
                    } ]
                },
                "8_6": {
                    service: "team",
                    cmd: "removeTeamMembers"
                },
                "8_7": {
                    service: "team",
                    cmd: "updateTeam",
                    response: [ {
                        type: "Number",
                        name: "id"
                    }, {
                        type: "Number",
                        name: "time"
                    } ]
                },
                "8_8": {
                    service: "team",
                    cmd: "leaveTeam"
                },
                "8_9": {
                    service: "team",
                    cmd: "getTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "8_10": {
                    service: "team",
                    cmd: "getTeams",
                    response: [ {
                        type: "PropertyArray",
                        name: "teams",
                        entity: "team"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "8_11": {
                    service: "team",
                    cmd: "getTeamMembers",
                    response: [ {
                        type: "Number",
                        name: "teamId"
                    }, {
                        type: "PropertyArray",
                        name: "members",
                        entity: "teamMember"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "8_12": {
                    service: "team",
                    cmd: "dismissTeam"
                },
                "8_13": {
                    service: "team",
                    cmd: "applyTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "8_14": {
                    service: "team",
                    cmd: "passTeamApply"
                },
                "8_15": {
                    service: "team",
                    cmd: "rejectTeamApply"
                },
                "8_16": {
                    service: "team",
                    cmd: "addTeamManagers"
                },
                "8_17": {
                    service: "team",
                    cmd: "removeTeamManagers"
                },
                "8_18": {
                    service: "team",
                    cmd: "transferTeam"
                },
                "8_19": {
                    service: "team",
                    cmd: "updateInfoInTeam"
                },
                "8_20": {
                    service: "team",
                    cmd: "updateNickInTeam"
                },
                "8_21": {
                    service: "team",
                    cmd: "acceptTeamInvite",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "8_22": {
                    service: "team",
                    cmd: "rejectTeamInvite"
                },
                "8_23": {
                    service: "team",
                    cmd: "getTeamHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "8_24": {
                    service: "team",
                    cmd: "searchTeamHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "8_25": {
                    service: "team",
                    cmd: "updateMuteStateInTeam"
                },
                "8_26": {
                    service: "team",
                    cmd: "getMyTeamMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMembers",
                        entity: "teamMember"
                    } ]
                },
                "8_27": {
                    service: "team",
                    cmd: "getMutedTeamMembers",
                    response: [ {
                        type: "Number",
                        name: "teamId"
                    }, {
                        type: "PropertyArray",
                        name: "teamMembers",
                        entity: "teamMember"
                    } ]
                },
                "8_28": {
                    service: "team",
                    cmd: "sendTeamMsgReceipt",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMsgReceipts",
                        entity: "teamMsgReceipt"
                    } ]
                },
                "8_29": {
                    service: "team",
                    cmd: "getTeamMsgReads",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMsgReceipts",
                        entity: "teamMsgReceipt"
                    } ]
                },
                "8_30": {
                    service: "team",
                    cmd: "getTeamMsgReadAccounts",
                    response: [ {
                        type: "Property",
                        name: "teamMsgReceipt"
                    }, {
                        type: "StrArray",
                        name: "readAccounts"
                    }, {
                        type: "StrArray",
                        name: "unreadAccounts"
                    } ]
                },
                "8_31": {
                    service: "team",
                    cmd: "notifyTeamMsgReads",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMsgReceipts",
                        entity: "teamMsgReceipt"
                    } ]
                },
                "8_32": {
                    service: "team",
                    cmd: "muteTeamAll",
                    response: []
                },
                "8_33": {
                    service: "team",
                    cmd: "getTeamMemberInvitorAccid",
                    response: [ {
                        type: "object",
                        name: "accountsMap"
                    } ]
                },
                "8_34": {
                    service: "team",
                    cmd: "getTeamsById",
                    response: [ {
                        type: "PropertyArray",
                        name: "teams",
                        entity: "team"
                    }, {
                        type: "StrArray",
                        name: "tids"
                    } ],
                    trivialErrorCodes: [ 816 ]
                },
                "8_126": {
                    service: "team",
                    cmd: "syncMyTeamMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "teamMembers",
                        entity: "teamMember"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "8_109": {
                    service: "team",
                    cmd: "syncTeams",
                    response: [ {
                        type: "Number",
                        name: "timetag"
                    }, {
                        type: "PropertyArray",
                        name: "teams",
                        entity: "team"
                    } ]
                },
                "8_111": {
                    service: "team",
                    cmd: "syncTeamMembers",
                    response: [ {
                        type: "Number",
                        name: "teamId"
                    }, {
                        type: "PropertyArray",
                        name: "members",
                        entity: "teamMember"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "8_101": {
                    service: "team",
                    cmd: "syncCreateTeam",
                    response: [ {
                        type: "Property",
                        name: "team"
                    } ]
                },
                "8_102": {
                    service: "team",
                    cmd: "syncSendTeamMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "8_119": {
                    service: "team",
                    cmd: "syncUpdateTeamMember",
                    response: [ {
                        type: "Property",
                        name: "teamMember"
                    } ]
                },
                "12_1": {
                    service: "friend",
                    cmd: "friendRequest"
                },
                "12_101": {
                    service: "friend",
                    cmd: "syncFriendRequest",
                    response: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "Number",
                        name: "type"
                    }, {
                        type: "String",
                        name: "ps"
                    } ]
                },
                "12_2": {
                    service: "friend",
                    cmd: "deleteFriend"
                },
                "12_102": {
                    service: "friend",
                    cmd: "syncDeleteFriend",
                    response: [ {
                        type: "String",
                        name: "account"
                    } ]
                },
                "12_3": {
                    service: "friend",
                    cmd: "updateFriend"
                },
                "12_103": {
                    service: "friend",
                    cmd: "syncUpdateFriend",
                    response: [ {
                        type: "Property",
                        name: "friend"
                    } ]
                },
                "12_4": {
                    service: "friend",
                    cmd: "getFriends",
                    response: [ {
                        type: "PropertyArray",
                        name: "friends",
                        entity: "friend"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "12_5": {
                    service: "friend",
                    cmd: "syncFriends",
                    response: [ {
                        type: "PropertyArray",
                        name: "friends",
                        entity: "friend"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "12_6": {
                    service: "friend",
                    cmd: "syncFriendUsers",
                    response: [ {
                        type: "PropertyArray",
                        name: "users",
                        entity: "user"
                    }, {
                        type: "Number",
                        name: "timetag"
                    } ]
                },
                "13_1": {
                    service: "chatroom",
                    cmd: "getChatroomAddress",
                    response: [ {
                        type: "StrArray",
                        name: "address"
                    } ]
                },
                "14_1": {
                    service: "eventService",
                    cmd: "publishEvent",
                    response: [ {
                        type: "Property",
                        name: "msgEvent"
                    } ]
                },
                "14_2": {
                    service: "eventService",
                    cmd: "pushEvent",
                    response: [ {
                        type: "Property",
                        name: "msgEvent"
                    } ]
                },
                "14_3": {
                    service: "eventService",
                    cmd: "subscribeEvent",
                    response: [ {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                "14_4": {
                    service: "eventService",
                    cmd: "unSubscribeEventsByAccounts",
                    response: [ {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                "14_5": {
                    service: "eventService",
                    cmd: "unSubscribeEventsByType"
                },
                "14_6": {
                    service: "eventService",
                    cmd: "querySubscribeEventsByAccounts",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgEventSubscribes",
                        entity: "msgEventSubscribe"
                    } ]
                },
                "14_7": {
                    service: "eventService",
                    cmd: "querySubscribeEventsByType",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgEventSubscribes",
                        entity: "msgEventSubscribe"
                    } ]
                },
                "14_9": {
                    service: "eventService",
                    cmd: "pushEvents",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgEvents",
                        entity: "msgEvent"
                    } ]
                },
                "22_1": {
                    service: "proxyService",
                    cmd: "httpProxy",
                    response: [ {
                        type: "Property",
                        name: "proxyTag"
                    } ]
                },
                "22_2": {
                    service: "proxyService",
                    cmd: "onProxyMsg",
                    response: [ {
                        type: "Property",
                        name: "proxyMsg",
                        entity: "proxyMsgTag"
                    } ]
                },
                "24_1": {
                    service: "qchat",
                    cmd: "getQChatAddress",
                    response: [ {
                        type: "StrArray",
                        name: "address"
                    } ]
                },
                "101_1": {
                    service: "filter",
                    cmd: "sendFilterMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "101_2": {
                    service: "filter",
                    cmd: "filterMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "101_3": {
                    service: "filter",
                    cmd: "filterSysMsg",
                    response: [ {
                        type: "Property",
                        name: "sysMsg"
                    } ]
                },
                "101_7": {
                    service: "filter",
                    cmd: "sendFilterCustomSysMsg"
                }
            });
            e.exports = {
                idMap: i,
                cmdConfig: a,
                packetConfig: s
            };
        }, function(e, t, n) {
            var r = n(11), o = n(96), i = n(47), a = n(39), s = n(40), c = n(0), u = n(101), l = n(44), d = n(10), f = n(102), p = n(103);
            e.exports = function(e) {
                c.merge(e, {
                    platform: r,
                    xhr: o,
                    io: i,
                    naturalSort: a,
                    deepAccess: s,
                    util: c,
                    support: u,
                    blob: l,
                    ajax: d,
                    LoggerPlugin: f,
                    usePlugin: p
                });
            };
        }, , , function(e, t, n) {
            var r = n(58).polyfill;
            try {
                r();
            } catch (e) {}
            try {
                r(GameGlobal);
            } catch (e) {}
            try {
                window = window || {}, r(window);
            } catch (e) {}
            try {
                localStorage = localStorage || n(34);
            } catch (e) {}
            try {
                XMLHttpRequest = XMLHttpRequest || n(35);
            } catch (e) {}
            try {
                FormData = FormData || n(22);
            } catch (e) {}
            try {
                WebSocket = WebSocket || n(37);
            } catch (e) {}
            try {
                navigator = navigator || n(38);
            } catch (e) {}
        }, function(e, t, n) {
            (function(t) {
                var r = n(34), o = n(35), i = n(22), a = n(37), s = n(38);
                e.exports = {
                    polyfill: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : t || window;
                        if ("object" != _typeof(e)) throw new Error("polyfill target is not an Object");
                        var n = {
                            localStorage: r,
                            XMLHttpRequest: o,
                            FormData: i,
                            WebSocket: a,
                            Object: Object,
                            navigator: s,
                            location: Object.create(null)
                        };
                        for (var c in n) e[c] || (e[c] = n[c]);
                        e.navigator.product = "WeixinApp";
                    },
                    localStorage: r,
                    XMLHttpRequest: o,
                    FormData: i,
                    WebSocket: a
                };
            }).call(this, n(14));
        }, function(e, t, n) {
            var r = n(1);
            "undefined" != typeof window && (window.console || r.isWeixinApp || (window.console = {
                log: function() {},
                info: function() {},
                warn: function() {},
                error: function() {}
            }));
        }, function(e, t, n) {
            var r = Object.prototype.hasOwnProperty, o = "~";
            function i() {}
            function a(e, t, n) {
                this.fn = e, this.context = t, this.once = n || !1;
            }
            function s() {
                this._events = new i(), this._eventsCount = 0;
            }
            Object.create && (i.prototype = Object.create(null), new i().__proto__ || (o = !1)), 
            s.prototype.eventNames = function() {
                var e, t, n = [];
                if (0 === this._eventsCount) return n;
                for (t in e = this._events) r.call(e, t) && n.push(o ? t.slice(1) : t);
                return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(e)) : n;
            }, s.prototype.listeners = function(e, t) {
                var n = o ? o + e : e, r = this._events[n];
                if (t) return !!r;
                if (!r) return [];
                if (r.fn) return [ r.fn ];
                for (var i = 0, a = r.length, s = new Array(a); i < a; i++) s[i] = r[i].fn;
                return s;
            }, s.prototype.emit = function(e, t, n, r, i, a) {
                var s = o ? o + e : e;
                if (!this._events[s]) return !1;
                var c, u, l = this._events[s], d = arguments.length;
                if (l.fn) {
                    switch (l.once && this.removeListener(e, l.fn, void 0, !0), d) {
                      case 1:
                        return l.fn.call(l.context), !0;

                      case 2:
                        return l.fn.call(l.context, t), !0;

                      case 3:
                        return l.fn.call(l.context, t, n), !0;

                      case 4:
                        return l.fn.call(l.context, t, n, r), !0;

                      case 5:
                        return l.fn.call(l.context, t, n, r, i), !0;

                      case 6:
                        return l.fn.call(l.context, t, n, r, i, a), !0;
                    }
                    for (u = 1, c = new Array(d - 1); u < d; u++) c[u - 1] = arguments[u];
                    l.fn.apply(l.context, c);
                } else {
                    var f, p = l.length;
                    for (u = 0; u < p; u++) switch (l[u].once && this.removeListener(e, l[u].fn, void 0, !0), 
                    d) {
                      case 1:
                        l[u].fn.call(l[u].context);
                        break;

                      case 2:
                        l[u].fn.call(l[u].context, t);
                        break;

                      case 3:
                        l[u].fn.call(l[u].context, t, n);
                        break;

                      case 4:
                        l[u].fn.call(l[u].context, t, n, r);
                        break;

                      default:
                        if (!c) for (f = 1, c = new Array(d - 1); f < d; f++) c[f - 1] = arguments[f];
                        l[u].fn.apply(l[u].context, c);
                    }
                }
                return !0;
            }, s.prototype.on = function(e, t, n) {
                var r = new a(t, n || this), i = o ? o + e : e;
                return this._events[i] ? this._events[i].fn ? this._events[i] = [ this._events[i], r ] : this._events[i].push(r) : (this._events[i] = r, 
                this._eventsCount++), this;
            }, s.prototype.once = function(e, t, n) {
                var r = new a(t, n || this, !0), i = o ? o + e : e;
                return this._events[i] ? this._events[i].fn ? this._events[i] = [ this._events[i], r ] : this._events[i].push(r) : (this._events[i] = r, 
                this._eventsCount++), this;
            }, s.prototype.removeListener = function(e, t, n, r) {
                var a = o ? o + e : e;
                if (!this._events[a]) return this;
                if (!t) return 0 == --this._eventsCount ? this._events = new i() : delete this._events[a], 
                this;
                var s = this._events[a];
                if (s.fn) s.fn !== t || r && !s.once || n && s.context !== n || (0 == --this._eventsCount ? this._events = new i() : delete this._events[a]); else {
                    for (var c = 0, u = [], l = s.length; c < l; c++) (s[c].fn !== t || r && !s[c].once || n && s[c].context !== n) && u.push(s[c]);
                    u.length ? this._events[a] = 1 === u.length ? u[0] : u : 0 == --this._eventsCount ? this._events = new i() : delete this._events[a];
                }
                return this;
            }, s.prototype.removeAllListeners = function(e) {
                var t;
                return e ? (t = o ? o + e : e, this._events[t] && (0 == --this._eventsCount ? this._events = new i() : delete this._events[t])) : (this._events = new i(), 
                this._eventsCount = 0), this;
            }, s.prototype.off = s.prototype.removeListener, s.prototype.addListener = s.prototype.on, 
            s.prototype.setMaxListeners = function() {
                return this;
            }, s.prefixed = o, s.EventEmitter = s, e.exports = s;
        }, function(e, t, n) {
            var r = n(62), o = n(63), i = n(0).getGlobal(), a = n(11).name, s = "function" == typeof r, c = i.indexedDB && !/^(IE)$/.test(a);
            function u(e, t) {
                this.logWorker = null, this.db = null, this.logQueue = [], this.callbackList = [], 
                this.preTime = null, this.lastTime = +new Date(), this.initLogLocal({
                    name: e,
                    expire: t
                });
            }
            var l = u.prototype;
            u.enable = !0, l.saveLog = function(e) {
                var t = this.logQueue.length, n = this.logQueue[t - 1];
                e.time !== this.preTime ? ((this.logQueue.length > 50 || e.time - this.lastTime > 6e4 && this.logQueue.length > 0) && (this.doSaveLog(this.logQueue.slice(0)), 
                this.lastTime = n.time, this.logQueue = []), this.logQueue.push(e), this.preTime = e.time) : n.log += "\r\n" + e.log;
            }, l.doSaveLog = function() {}, l.initLogLocal = function() {}, l.fetchLog = function() {}, 
            l.deleteLogs = function(e) {}, l.logError = function() {}, c ? s ? (l.doSaveLog = function(e) {
                this.logWorker.postMessage(e);
            }, l.initLogLocal = function(e) {
                var t = this;
                this.logWorker = new r({}), this.logWorker.onmessage = function(e) {
                    var n = e.data || {};
                    switch (n.type) {
                      case "fetchDone":
                        t.fetchLogDone(n.code, n.msg);
                        break;

                      case "error":
                        t.logError(n.msg);
                    }
                }, this.logWorker.postMessage({
                    type: "init",
                    msg: e
                });
            }, l.fetchLog = function() {
                var e = this;
                return new Promise(function(t, n) {
                    0 === e.callbackList.length && e.logWorker.postMessage({
                        type: "fetch"
                    }), e.callbackList.push(t), e.callbackList.push(n);
                });
            }, l.fetchLogDone = function(e, t) {
                for (var n = 200 === e ? 0 : 1, r = 0; r < this.callbackList.length / 2; r++) this.callbackList[2 * r + n](t);
                this.callbackList = [];
            }, l.deleteLogs = function(e) {
                return this.logWorker.postMessage({
                    type: "delete",
                    msg: e
                }), Promise.resolve();
            }) : (l.doSaveLog = function(e) {
                var t = this;
                this.db.putLog(e).catch(function(e) {
                    t.logError({
                        msg: "putLog error",
                        error: e
                    });
                });
            }, l.initLogLocal = function(e) {
                var t = this;
                this.db = new o(e), this.db.init().catch(function(e) {
                    t.logError({
                        msg: "dbLog init error",
                        error: e
                    });
                });
            }, l.fetchLog = function() {
                return this.db.getAllLogs();
            }, l.deleteLogs = function(e) {
                return this.db.deleteLogs(e);
            }) : u.enable = !1, e.exports = u;
        }, function(e, t, n) {
            n.r(t), n.d(t, "default", function() {
                return i;
            });
            var r = n(49), o = n.n(r);
            function i() {
                return o()('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const r=n(1);let o=null;function i(e){return e&&"string"!=typeof e?e.message?e.message:e.target&&e.target.error?e.target.error.message:"unknown error":e}self.onmessage=function(e){switch(e.data.type){case"init":n=e.data.msg,o=new r(n),o.init().catch(e=>{postMessage({type:"error",msg:{msg:"dbLog init error",error:i(e)}})});break;case"fetch":o.getAllLogs().then(e=>{postMessage({type:"fetchDone",code:200,msg:e})}).catch(e=>{postMessage({type:"fetchDone",code:500,msg:i(e)})});break;case"delete":o.deleteLogs(t).catch(e=>{postMessage({type:"deleteLogs",code:500,msg:i(e)})});break;default:!function(e){if(!o)return;o.putLog(e).then(e=>{postMessage(200)}).catch(e=>{postMessage({type:"error",msg:{msg:"putLog error",error:i(e)}})})}(e.data)}var t,n}},function(e,t,n){const r=n(2),o={log:{key:{keyPath:"time"},indexes:{level:{unique:!1},time:{unique:!0}}}};function i(e={}){this.server=null,this.expire=e.expire||72,this.name=e.name}const c=i.prototype;c.init=function(){if(!this.server)return r.open({server:"nim-log-"+this.name,version:1,schema:o}).then(e=>{this.server=e})},c.putLog=function(e){if(!this.server)return Promise.reject("no db server");const t=e.slice(-1)[0].time-36e5*this.expire;return this.deleteLogs(t).then(()=>this.server.add("log",e))},c.getAllLogs=function(){return this.server?this.server.query("log","time").all().execute().then(e=>{var t={},n=e.slice(-1)[0];return t.logs=e.map(e=>e.log).join("\\r\\n"),t.time=n&&n.time,t}):Promise.reject("no db server")},c.deleteLogs=function(e){return this.server?this.server.remove("log",null,"time",0,e):Promise.reject("no db server")},e.exports=i},function(e,t,n){(function(r){var o;!function(i,c){"use strict";var u,s=(i=void 0!==i?i:"undefined"!=typeof self?self:void 0!==r?r:{}).IDBKeyRange||i.webkitIDBKeyRange,a="readonly",f="readwrite",l=Object.prototype.hasOwnProperty,d=function(){if(!u&&!(u=i.indexedDB||i.webkitIndexedDB||i.mozIndexedDB||i.oIndexedDB||i.msIndexedDB||(null===i.indexedDB&&i.shimIndexedDB?i.shimIndexedDB:void 0)))throw"IndexedDB required";return u},m=function(e){return e},p=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},h=function(e){return"function"==typeof e},v=function(e){return"number"===p(e)},y=function(e){return"array"===p(e)},g=function(e){return void 0===e},b=function(e,t){var n=this,r=!1;this.name=t,this.getIndexedDB=function(){return e},this.add=function(t){if(r)throw"Database has been closed";for(var o=[],i=0,c=0;c<arguments.length-1;c++)if(Array.isArray(arguments[c+1]))for(var u=0;u<arguments[c+1].length;u++)o[i]=arguments[c+1][u],i++;else o[i]=arguments[c+1],i++;var s=e.transaction(t,f),a=s.objectStore(t);return new Promise((function(e,t){o.forEach((function(e){var t;if(e.item&&e.key){var n=e.key;e=e.item,t=a.add(e,n)}else t=a.add(e);t.onsuccess=function(t){var n=t.target,r=n.source.keyPath;null===r&&(r="__id__"),Object.defineProperty(e,r,{value:n.result,enumerable:!0})}})),s.oncomplete=function(){e(o,n)},s.onerror=function(e){e.preventDefault(),t(e)},s.onabort=function(e){t(e)}}))},this.updateAndDelete=function(t,n,o){if(r)throw"Database has been closed";var i=e.transaction(t,f),c=i.objectStore(t),u=c.keyPath;return new Promise((function(e,t){n.forEach((function(e){if(e.item&&e.key){var t=e.key;e=e.item,c.put(e,t)}else c.put(e)})),o.forEach((function(e){c.delete(e[u])})),i.oncomplete=function(){e([n,o])},i.onerror=function(e){t(e)}}))},this.update=function(t){if(r)throw"Database has been closed";for(var o,i=[],c=1;c<arguments.length;c++)o=arguments[c],Array.isArray(o)?i=i.concat(o):i.push(o);var u=e.transaction(t,f),s=u.objectStore(t);s.keyPath;return new Promise((function(e,t){i.forEach((function(e){var t;if(e.item&&e.key){var n=e.key;e=e.item,t=s.put(e,n)}else t=s.put(e);t.onsuccess=function(e){},t.onerror=function(e){}})),u.oncomplete=function(){e(i,n)},u.onerror=function(e){t(e)},u.onabort=function(e){t(e)}}))},this.remove=function(t,n,o,i,c,u,a){if(r)throw"Database has been closed";var l=e.transaction(t,f),d=l.objectStore(t);return new Promise((function(e,t){function r(e){return null==e}if(r(i)&&(i=-1/0),r(c)&&(c=1/0),null===n||Array.isArray(n)||(n=[n]),r(o))null!==n?n.forEach((function(e){d.delete(e)})):d.delete(range=s.bound(i,c,u,a));else{let e;e=null!==n?s.only(n[0]):s.bound(i,c,u,a),d.index(o).openCursor(e).onsuccess=function(e){let t=e.target.result;t&&(t.delete(),t.continue())}}l.oncomplete=function(){e()},l.onerror=function(e){t(e)},l.onabort=function(e){t(e)}}))},this.clear=function(t){if(r)throw"Database has been closed";var n=e.transaction(t,f);n.objectStore(t).clear();return new Promise((function(e,t){n.oncomplete=function(){e()},n.onerror=function(e){t(e)}}))},this.close=function(){r||(e.close(),r=!0,delete k[t])},this.get=function(t,n){if(r)throw"Database has been closed";var o=e.transaction(t),i=o.objectStore(t).get(n);return new Promise((function(e,t){i.onsuccess=function(t){e(t.target.result)},o.onerror=function(e){t(e)}}))},this.query=function(t,n){if(r)throw"Database has been closed";return new x(t,e,n)},this.count=function(t,n){if(r)throw"Database has been closed";e.transaction(t).objectStore(t)};for(var o=0,i=e.objectStoreNames.length;o<i;o++)!function(e){for(var t in n[e]={},n)l.call(n,t)&&"close"!==t&&(n[e][t]=function(t){return function(){var r=[e].concat([].slice.call(arguments,0));return n[t].apply(n,r)}}(t))}(e.objectStoreNames[o])},x=function(e,t,n){var r=this,o=!1,i=!1,c=function(r,c,u,l,d,m,p){return new Promise((function(v,y){var g=o||i?f:a,b=t.transaction(e,g),x=b.objectStore(e),w=n?x.index(n):x,k=r?s[r].apply(null,c):null,j=[],D=[k],P=0;d=d||null,m=m||[],"count"!==u&&D.push(l||"next");var S=!!o&&Object.keys(o);w[u].apply(w,D).onsuccess=function(e){var t=e.target.result;if("number"==typeof t)j=t;else if(t)if(null!==d&&d[0]>P)P=d[0],t.advance(d[0]);else if(null!==d&&P>=d[0]+d[1]);else{var n=!0,r="value"in t?t.value:t.key;m.forEach((function(e){e&&e.length&&(2===e.length?n=n&&r[e[0]]===e[1]:h(e[0])&&(n=n&&e[0].apply(void 0,[r])))})),n&&(P++,j.push(p(r)),i?t.delete():o&&(r=function(e){for(var t=0;t<S.length;t++){var n=S[t],r=o[n];r instanceof Function&&(r=r(e)),e[n]=r}return e}(r),t.update(r))),t.continue()}},b.oncomplete=function(){v(j)},b.onerror=function(e){y(e)},b.onabort=function(e){y(e)}}))},u=function(e,t){var n="next",r="openCursor",u=[],s=null,a=m,f=!1,l=function(){return c(e,t,r,f?n+"unique":n,s,u,a)},d=function(){return n=null,r="count",{execute:l}},p=function(){return 1==(s=y(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments,0,2)).length&&s.unshift(0),v(s[1])||(s=null),{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},b=function(e){return(e=!!g(e)||!!e)&&(r="openKeyCursor"),{execute:l,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},x=function(){return u.push(Array.prototype.slice.call(arguments,0,2)),{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},w=function(e){return e=!!g(e)||!!e,n=e?"next":"prev",{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},k=function(e){return e=!!g(e)||!!e,n=e?"prev":"next",{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},j=function(e){return e=!!g(e)||!!e,f=e,{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},D=function(e){return o=e,{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},P=function(e){return h(e)&&(a=e),{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}},S=function(e){return e=!!g(e)||!!e,i=e,{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}};return{execute:l,count:d,keys:b,filter:x,asc:w,desc:k,distinct:j,modify:D,limit:p,map:P,remove:S}};"only bound upperBound lowerBound".split(" ").forEach((function(e){r[e]=function(){return new u(e,arguments)}})),this.filter=function(){var e=new u(null,null);return e.filter.apply(e,arguments)},this.all=function(){return this.filter()}},w=function(e,t,n,r){var o=e.target.result,i=new b(o,t);return k[t]=o,Promise.resolve(i)},k={},j={version:"0.10.2",open:function(e){var t;return new Promise((function(n,r){if(k[e.server])w({target:{result:k[e.server]}},e.server,e.version,e.schema).then(n,r);else{try{t=d().open(e.server,e.version)}catch(e){r(e)}t.onsuccess=function(t){w(t,e.server,e.version,e.schema).then(n,r)},t.onupgradeneeded=function(t){!function(e,t,n){for(var r in"function"==typeof t&&(t=t()),t){var o,i=t[r];for(var c in o=!l.call(t,r)||n.objectStoreNames.contains(r)?e.currentTarget.transaction.objectStore(r):n.createObjectStore(r,i.key),i.indexes){var u=i.indexes[c];try{o.index(c)}catch(e){o.createIndex(c,u.key||c,Object.keys(u).length?u:{unique:!1})}}}}(t,e.schema,t.target.result)},t.onerror=function(e){r(e)}}}))},remove:function(e){return new Promise((function(t,n){if(!e)return t();var r,o;typeof e===b&&(e=e.name),"string"==typeof e&&(r=k[e]),r&&"function"==typeof r.close&&r.close();try{o=d().deleteDatabase(e)}catch(e){n(e)}o.onsuccess=function(n){delete k[e],t(e)},o.onerror=function(e){n(e)},o.onblocked=function(e){n(e)}}))}};void 0!==e.exports?e.exports=j:void 0===(o=function(){return j}.call(t,n,t,e))||(e.exports=o)}(void 0)}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);', "Worker", void 0, void 0);
            }
        }, function(e, t, n) {
            var r = n(64), o = {
                log: {
                    key: {
                        keyPath: "time"
                    },
                    indexes: {
                        level: {
                            unique: !1
                        },
                        time: {
                            unique: !0
                        }
                    }
                }
            };
            function i() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.server = null, this.expire = e.expire || 72, this.name = e.name;
            }
            var a = i.prototype;
            a.init = function() {
                var e = this;
                if (!this.server) return r.open({
                    server: "nim-log-" + this.name,
                    version: 1,
                    schema: o
                }).then(function(t) {
                    e.server = t;
                });
            }, a.putLog = function(e) {
                var t = this;
                if (!this.server) return Promise.reject("no db server");
                var n = e.slice(-1)[0].time - 36e5 * this.expire;
                return this.deleteLogs(n).then(function() {
                    return t.server.add("log", e);
                });
            }, a.getAllLogs = function() {
                return this.server ? this.server.query("log", "time").all().execute().then(function(e) {
                    var t = {}, n = e.slice(-1)[0];
                    return t.logs = e.map(function(e) {
                        return e.log;
                    }).join("\r\n"), t.time = n && n.time, t;
                }) : Promise.reject("no db server");
            }, a.deleteLogs = function(e) {
                return this.server ? this.server.remove("log", null, "time", 0, e) : Promise.reject("no db server");
            }, e.exports = i;
        }, function(e, t, n) {
            (function(r) {
                var o;
                !function(i, a) {
                    var s, c = (i = void 0 !== i ? i : "undefined" != typeof self ? self : void 0 !== r ? r : {}).IDBKeyRange || i.webkitIDBKeyRange, u = "readwrite", l = Object.prototype.hasOwnProperty, d = function() {
                        if (!s && !(s = i.indexedDB || i.webkitIndexedDB || i.mozIndexedDB || i.oIndexedDB || i.msIndexedDB || (null === i.indexedDB && i.shimIndexedDB ? i.shimIndexedDB : void 0))) throw "IndexedDB required";
                        return s;
                    }, f = function(e) {
                        return e;
                    }, p = function(e) {
                        return Object.prototype.toString.call(e).slice(8, -1).toLowerCase();
                    }, m = function(e) {
                        return "function" == typeof e;
                    }, g = function(e) {
                        return "number" === p(e);
                    }, h = function(e) {
                        return "array" === p(e);
                    }, y = function(e) {
                        return void 0 === e;
                    }, v = function(e, t) {
                        var n = this, r = !1;
                        this.name = t, this.getIndexedDB = function() {
                            return e;
                        }, this.add = function(t) {
                            if (r) throw "Database has been closed";
                            for (var o = [], i = 0, a = 0; a < arguments.length - 1; a++) if (Array.isArray(arguments[a + 1])) for (var s = 0; s < arguments[a + 1].length; s++) o[i] = arguments[a + 1][s], 
                            i++; else o[i] = arguments[a + 1], i++;
                            var c = e.transaction(t, u), l = c.objectStore(t);
                            return new Promise(function(e, t) {
                                o.forEach(function(e) {
                                    var t;
                                    if (e.item && e.key) {
                                        var n = e.key;
                                        e = e.item, t = l.add(e, n);
                                    } else t = l.add(e);
                                    t.onsuccess = function(t) {
                                        var n = t.target, r = n.source.keyPath;
                                        null === r && (r = "__id__"), Object.defineProperty(e, r, {
                                            value: n.result,
                                            enumerable: !0
                                        });
                                    };
                                }), c.oncomplete = function() {
                                    e(o, n);
                                }, c.onerror = function(e) {
                                    e.preventDefault(), t(e);
                                }, c.onabort = function(e) {
                                    t(e);
                                };
                            });
                        }, this.updateAndDelete = function(t, n, o) {
                            if (r) throw "Database has been closed";
                            var i = e.transaction(t, u), a = i.objectStore(t), s = a.keyPath;
                            return new Promise(function(e, t) {
                                n.forEach(function(e) {
                                    if (e.item && e.key) {
                                        var t = e.key;
                                        e = e.item, a.put(e, t);
                                    } else a.put(e);
                                }), o.forEach(function(e) {
                                    a.delete(e[s]);
                                }), i.oncomplete = function() {
                                    e([ n, o ]);
                                }, i.onerror = function(e) {
                                    t(e);
                                };
                            });
                        }, this.update = function(t) {
                            if (r) throw "Database has been closed";
                            for (var o, i = [], a = 1; a < arguments.length; a++) o = arguments[a], Array.isArray(o) ? i = i.concat(o) : i.push(o);
                            var s = e.transaction(t, u), c = s.objectStore(t);
                            return c.keyPath, new Promise(function(e, t) {
                                i.forEach(function(e) {
                                    var t;
                                    if (e.item && e.key) {
                                        var n = e.key;
                                        e = e.item, t = c.put(e, n);
                                    } else t = c.put(e);
                                    t.onsuccess = function(e) {}, t.onerror = function(e) {};
                                }), s.oncomplete = function() {
                                    e(i, n);
                                }, s.onerror = function(e) {
                                    t(e);
                                }, s.onabort = function(e) {
                                    t(e);
                                };
                            });
                        }, this.remove = function(t, n, o, i, a, s, l) {
                            if (r) throw "Database has been closed";
                            var d = e.transaction(t, u), f = d.objectStore(t);
                            return new Promise(function(e, t) {
                                function r(e) {
                                    return null == e;
                                }
                                var u;
                                r(i) && (i = -1 / 0), r(a) && (a = 1 / 0), null === n || Array.isArray(n) || (n = [ n ]), 
                                r(o) ? null !== n ? n.forEach(function(e) {
                                    f.delete(e);
                                }) : f.delete(range = c.bound(i, a, s, l)) : (u = null !== n ? c.only(n[0]) : c.bound(i, a, s, l), 
                                f.index(o).openCursor(u).onsuccess = function(e) {
                                    var t = e.target.result;
                                    t && (t.delete(), t.continue());
                                }), d.oncomplete = function() {
                                    e();
                                }, d.onerror = function(e) {
                                    t(e);
                                }, d.onabort = function(e) {
                                    t(e);
                                };
                            });
                        }, this.clear = function(t) {
                            if (r) throw "Database has been closed";
                            var n = e.transaction(t, u);
                            return n.objectStore(t).clear(), new Promise(function(e, t) {
                                n.oncomplete = function() {
                                    e();
                                }, n.onerror = function(e) {
                                    t(e);
                                };
                            });
                        }, this.close = function() {
                            r || (e.close(), r = !0, delete _[t]);
                        }, this.get = function(t, n) {
                            if (r) throw "Database has been closed";
                            var o = e.transaction(t), i = o.objectStore(t).get(n);
                            return new Promise(function(e, t) {
                                i.onsuccess = function(t) {
                                    e(t.target.result);
                                }, o.onerror = function(e) {
                                    t(e);
                                };
                            });
                        }, this.query = function(t, n) {
                            if (r) throw "Database has been closed";
                            return new b(t, e, n);
                        }, this.count = function(t, n) {
                            if (r) throw "Database has been closed";
                            e.transaction(t).objectStore(t);
                        };
                        for (var o = 0, i = e.objectStoreNames.length; o < i; o++) !function(e) {
                            for (var t in n[e] = {}, n) l.call(n, t) && "close" !== t && (n[e][t] = function(t) {
                                return function() {
                                    var r = [ e ].concat([].slice.call(arguments, 0));
                                    return n[t].apply(n, r);
                                };
                            }(t));
                        }(e.objectStoreNames[o]);
                    }, b = function(e, t, n) {
                        var r = this, o = !1, i = !1, a = function(r, a, s, l, d, f, p) {
                            return new Promise(function(g, h) {
                                var y = o || i ? u : "readonly", v = t.transaction(e, y), b = v.objectStore(e), T = n ? b.index(n) : b, _ = r ? c[r].apply(null, a) : null, S = [], k = [ _ ], M = 0;
                                d = d || null, f = f || [], "count" !== s && k.push(l || "next");
                                var P = !!o && Object.keys(o);
                                T[s].apply(T, k).onsuccess = function(e) {
                                    var t = e.target.result;
                                    if ("number" == typeof t) S = t; else if (t) if (null !== d && d[0] > M) M = d[0], 
                                    t.advance(d[0]); else if (null !== d && M >= d[0] + d[1]) ; else {
                                        var n = !0, r = "value" in t ? t.value : t.key;
                                        f.forEach(function(e) {
                                            e && e.length && (2 === e.length ? n = n && r[e[0]] === e[1] : m(e[0]) && (n = n && e[0].apply(void 0, [ r ])));
                                        }), n && (M++, S.push(p(r)), i ? t.delete() : o && (r = function(e) {
                                            for (var t = 0; t < P.length; t++) {
                                                var n = P[t], r = o[n];
                                                r instanceof Function && (r = r(e)), e[n] = r;
                                            }
                                            return e;
                                        }(r), t.update(r))), t.continue();
                                    }
                                }, v.oncomplete = function() {
                                    g(S);
                                }, v.onerror = function(e) {
                                    h(e);
                                }, v.onabort = function(e) {
                                    h(e);
                                };
                            });
                        }, s = function(e, t) {
                            var n = "next", r = "openCursor", s = [], c = null, u = f, l = !1, d = function() {
                                return a(e, t, r, l ? n + "unique" : n, c, s, u);
                            }, p = function() {
                                return n = null, r = "count", {
                                    execute: d
                                };
                            }, v = function e() {
                                return 1 == (c = h(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments, 0, 2)).length && c.unshift(0), 
                                g(c[1]) || (c = null), {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: e,
                                    map: P,
                                    remove: A
                                };
                            }, b = function e(t) {
                                return (t = !!y(t) || !!t) && (r = "openKeyCursor"), {
                                    execute: d,
                                    keys: e,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, T = function e() {
                                return s.push(Array.prototype.slice.call(arguments, 0, 2)), {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: e,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, _ = function e(t) {
                                return t = !!y(t) || !!t, n = t ? "next" : "prev", {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: e,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, S = function e(t) {
                                return t = !!y(t) || !!t, n = t ? "prev" : "next", {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: e,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, k = function e(t) {
                                return t = !!y(t) || !!t, l = t, {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: e,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, M = function e(t) {
                                return o = t, {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: e,
                                    limit: v,
                                    map: P,
                                    remove: A
                                };
                            }, P = function e(t) {
                                return m(t) && (u = t), {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: e,
                                    remove: A
                                };
                            }, A = function e(t) {
                                return t = !!y(t) || !!t, i = t, {
                                    execute: d,
                                    count: p,
                                    keys: b,
                                    filter: T,
                                    asc: _,
                                    desc: S,
                                    distinct: k,
                                    modify: M,
                                    limit: v,
                                    map: P,
                                    remove: e
                                };
                            };
                            return {
                                execute: d,
                                count: p,
                                keys: b,
                                filter: T,
                                asc: _,
                                desc: S,
                                distinct: k,
                                modify: M,
                                limit: v,
                                map: P,
                                remove: A
                            };
                        };
                        "only bound upperBound lowerBound".split(" ").forEach(function(e) {
                            r[e] = function() {
                                return new s(e, arguments);
                            };
                        }), this.filter = function() {
                            var e = new s(null, null);
                            return e.filter.apply(e, arguments);
                        }, this.all = function() {
                            return this.filter();
                        };
                    }, T = function(e, t, n, r) {
                        var o = e.target.result, i = new v(o, t);
                        return _[t] = o, Promise.resolve(i);
                    }, _ = {}, S = {
                        version: "0.10.2",
                        open: function(e) {
                            var t;
                            return new Promise(function(n, r) {
                                if (_[e.server]) T({
                                    target: {
                                        result: _[e.server]
                                    }
                                }, e.server, e.version, e.schema).then(n, r); else {
                                    try {
                                        t = d().open(e.server, e.version);
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        r(e);
                                    }
                                    t.onsuccess = function(t) {
                                        T(t, e.server, e.version, e.schema).then(n, r);
                                    }, t.onupgradeneeded = function(t) {
                                        !function(e, t, n) {
                                            for (var r in "function" == typeof t && (t = t()), t) {
                                                var o, i = t[r];
                                                for (var a in o = !l.call(t, r) || n.objectStoreNames.contains(r) ? e.currentTarget.transaction.objectStore(r) : n.createObjectStore(r, i.key), 
                                                i.indexes) {
                                                    var s = i.indexes[a];
                                                    try {
                                                        o.index(a);
                                                    } catch (e) {
                                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                                        o.createIndex(a, s.key || a, Object.keys(s).length ? s : {
                                                            unique: !1
                                                        });
                                                    }
                                                }
                                            }
                                        }(t, e.schema, t.target.result);
                                    }, t.onerror = function(e) {
                                        r(e);
                                    };
                                }
                            });
                        },
                        remove: function(e) {
                            return new Promise(function(t, n) {
                                if (!e) return t();
                                var r, o;
                                _typeof(e) === v && (e = e.name), "string" == typeof e && (r = _[e]), r && "function" == typeof r.close && r.close();
                                try {
                                    o = d().deleteDatabase(e);
                                } catch (e) {
                                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                    n(e);
                                }
                                o.onsuccess = function(n) {
                                    delete _[e], t(e);
                                }, o.onerror = function(e) {
                                    n(e);
                                }, o.onblocked = function(e) {
                                    n(e);
                                };
                            });
                        }
                    };
                    void 0 !== e.exports ? e.exports = S : void 0 === (o = function() {
                        return S;
                    }.call(t, n, t, e)) || (e.exports = o);
                }(void 0);
            }).call(this, n(14));
        }, function(e, t, n) {
            var r = n(6), o = n(23);
            function i(e) {
                e.onuploading && this.on("uploading", e.onuploading), o.call(this, e);
            }
            var a = o.prototype, s = i.prototype = Object.create(a);
            s.doSend = function() {
                var e = this.options, t = e.headers, n = this.xhr = new XMLHttpRequest();
                if ("multipart/form-data" === t["Content-Type"]) {
                    delete t["Content-Type"], n.upload.onprogress = this.onProgress.bind(this), n.upload.onload = this.onProgress.bind(this);
                    var o = e.data;
                    e.data = new window.FormData(), o && r.getKeys(o, e.putFileAtEnd).forEach(function(t) {
                        var n = o[t];
                        n.tagName && "INPUT" === n.tagName.toUpperCase() ? "file" === n.type && [].forEach.call(n.files, function(t) {
                            e.data.append(r.dataset(n, "name") || n.name || t.name || "file-" + r.uniqueID(), t);
                        }) : e.data.append(t, n);
                    });
                } else t["x-nos-token"] && (n.upload.onprogress = this.onProgress.bind(this), n.upload.onload = this.onProgress.bind(this));
                n.onreadystatechange = this.onStateChange.bind(this), 0 !== e.timeout && (this.timer = setTimeout(this.onTimeout.bind(this), e.timeout)), 
                n.open(e.method, e.url, !e.sync), Object.keys(t).forEach(function(e) {
                    n.setRequestHeader(e, t[e]);
                }), e.cookie && "withCredentials" in n && (n.withCredentials = !0), n.send(e.data), 
                this.afterSend();
            }, s.onProgress = function(e) {
                e.lengthComputable && e.loaded <= e.total && this.emit("uploading", e);
            }, s.onStateChange = function() {
                var e, t = this.xhr;
                4 === t.readyState && (e = {
                    status: t.status,
                    result: t.responseText || ""
                }, this.onLoad(e));
            }, s.getResponseHeader = function(e) {
                var t = this.xhr;
                return t ? t.getResponseHeader(e) : "";
            }, s.destroy = function() {
                clearTimeout(this.timer);
                try {
                    this.xhr.onreadystatechange = r.f, this.xhr.abort();
                } catch (e) {}
                a.destroy.call(this);
            }, e.exports = i;
        }, function(e, t, n) {
            var r;
            !function(t) {
                function o() {}
                var i = o.prototype, a = t.EventEmitter;
                function s(e, t) {
                    for (var n = e.length; n--; ) if (e[n].listener === t) return n;
                    return -1;
                }
                function c(e) {
                    return function() {
                        return this[e].apply(this, arguments);
                    };
                }
                i.getListeners = function(e) {
                    var t, n, r = this._getEvents();
                    if (e instanceof RegExp) for (n in t = {}, r) r.hasOwnProperty(n) && e.test(n) && (t[n] = r[n]); else t = r[e] || (r[e] = []);
                    return t;
                }, i.flattenListeners = function(e) {
                    var t, n = [];
                    for (t = 0; t < e.length; t += 1) n.push(e[t].listener);
                    return n;
                }, i.getListenersAsObject = function(e) {
                    var t, n = this.getListeners(e);
                    return n instanceof Array && ((t = {})[e] = n), t || n;
                }, i.addListener = function(e, t) {
                    if (!function e(t) {
                        return "function" == typeof t || t instanceof RegExp || !(!t || "object" != _typeof(t)) && e(t.listener);
                    }(t)) throw new TypeError("listener must be a function");
                    var n, r = this.getListenersAsObject(e), o = "object" == _typeof(t);
                    for (n in r) r.hasOwnProperty(n) && -1 === s(r[n], t) && r[n].push(o ? t : {
                        listener: t,
                        once: !1
                    });
                    return this;
                }, i.on = c("addListener"), i.addOnceListener = function(e, t) {
                    return this.addListener(e, {
                        listener: t,
                        once: !0
                    });
                }, i.once = c("addOnceListener"), i.defineEvent = function(e) {
                    return this.getListeners(e), this;
                }, i.defineEvents = function(e) {
                    for (var t = 0; t < e.length; t += 1) this.defineEvent(e[t]);
                    return this;
                }, i.removeListener = function(e, t) {
                    var n, r, o = this.getListenersAsObject(e);
                    for (r in o) o.hasOwnProperty(r) && -1 !== (n = s(o[r], t)) && o[r].splice(n, 1);
                    return this;
                }, i.off = c("removeListener"), i.addListeners = function(e, t) {
                    return this.manipulateListeners(!1, e, t);
                }, i.removeListeners = function(e, t) {
                    return this.manipulateListeners(!0, e, t);
                }, i.manipulateListeners = function(e, t, n) {
                    var r, o, i = e ? this.removeListener : this.addListener, a = e ? this.removeListeners : this.addListeners;
                    if ("object" != _typeof(t) || t instanceof RegExp) for (r = n.length; r--; ) i.call(this, t, n[r]); else for (r in t) t.hasOwnProperty(r) && (o = t[r]) && ("function" == typeof o ? i.call(this, r, o) : a.call(this, r, o));
                    return this;
                }, i.removeEvent = function(e) {
                    var t, n = _typeof(e), r = this._getEvents();
                    if ("string" === n) delete r[e]; else if (e instanceof RegExp) for (t in r) r.hasOwnProperty(t) && e.test(t) && delete r[t]; else delete this._events;
                    return this;
                }, i.removeAllListeners = c("removeEvent"), i.emitEvent = function(e, t) {
                    var n, r, o, i, a = this.getListenersAsObject(e);
                    for (i in a) if (a.hasOwnProperty(i)) for (n = a[i].slice(0), o = 0; o < n.length; o++) !0 === (r = n[o]).once && this.removeListener(e, r.listener), 
                    r.listener.apply(this, t || []) === this._getOnceReturnValue() && this.removeListener(e, r.listener);
                    return this;
                }, i.trigger = c("emitEvent"), i.emit = function(e) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return this.emitEvent(e, t);
                }, i.setOnceReturnValue = function(e) {
                    return this._onceReturnValue = e, this;
                }, i._getOnceReturnValue = function() {
                    return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue;
                }, i._getEvents = function() {
                    return this._events || (this._events = {});
                }, o.noConflict = function() {
                    return t.EventEmitter = a, o;
                }, void 0 === (r = function() {
                    return o;
                }.call(t, n, t, e)) || (e.exports = r);
            }("undefined" != typeof window ? window : this || {});
        }, function(e, t, n) {
            var r = n(6), o = n(23), i = n(42), a = "NEJ-UPLOAD-RESULT:", s = {};
            function c(e) {
                this.init(), o.call(this, e);
            }
            var u = o.prototype, l = c.prototype = Object.create(u);
            l.init = function() {
                var e = !1;
                function t(e) {
                    var t = e.data;
                    if (0 === t.indexOf(a)) {
                        var n = (t = JSON.parse(t.replace(a, ""))).key, r = s[n];
                        r && (delete s[n], t.result = decodeURIComponent(t.result || ""), r.onLoad(t.result));
                    }
                }
                return function() {
                    !function() {
                        if (!e) {
                            e = !0;
                            var n = r.getGlobal();
                            n.postMessage ? r.on(n, "message", t) : (i.addMsgListener(t), i.startTimer());
                        }
                    }();
                };
            }(), l.doSend = function() {
                var e = this, t = e.options, n = e.key = "zoro-ajax-upload-iframe-" + r.uniqueID();
                s[n] = e;
                var o = e.form = r.html2node('<form style="display:none;"></form>');
                "undefined" == typeof document || document.body.appendChild(o), o.target = n, o.method = "POST", 
                o.enctype = "multipart/form-data", o.encoding = "multipart/form-data";
                var i = t.url, a = r.genUrlSep(i);
                o.action = i + a + "_proxy_=form";
                var c = t.data, u = [], l = [];
                function d() {
                    u.forEach(function(e, t) {
                        var n = l[t];
                        n.parentNode && (e.name = n.name, r.isFunction(e.setAttribute) && e.setAttribute("form", n.getAttribute("form")), 
                        n.parentNode.replaceChild(e, n));
                    });
                }
                c && r.getKeys(c, t.putFileAtEnd).forEach(function(e) {
                    var t = c[e];
                    if (t.tagName && "INPUT" === t.tagName.toUpperCase()) {
                        if ("file" === t.type) {
                            var n = t, i = n.cloneNode(!0);
                            n.parentNode.insertBefore(i, n);
                            var a = r.dataset(n, "name");
                            a && (n.name = a), o.appendChild(n), r.isFunction(n.setAttribute) && (n.setAttribute("form", ""), 
                            n.removeAttribute("form")), u.push(t), l.push(i);
                        }
                    } else {
                        var s = r.html2node('<input type="hidden"/>');
                        s.name = e, s.value = t, o.appendChild(s);
                    }
                });
                var f = e.iframe = r.createIframe({
                    name: n,
                    onload: function() {
                        e.aborted ? d() : (r.on(f, "load", e.checkResult.bind(e)), o.submit(), d(), e.afterSend());
                    }
                });
            }, l.checkResult = function() {
                var e, t;
                try {
                    if ((t = ((e = this.iframe.contentWindow.document.body).innerText || e.textContent || "").trim()).indexOf(a) >= 0 || e.innerHTML.indexOf(a) >= 0) return;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return;
                }
                this.onLoad(t);
            }, l.onLoad = function(e) {
                u.onLoad.call(this, {
                    status: 200,
                    result: e
                }), r.remove(this.form), r.remove(this.iframe), u.destroy.call(this);
            }, l.destroy = function() {
                r.remove(this.iframe), r.remove(this.form);
            }, l.abort = function() {
                this.aborted = !0, delete s[this.key], u.abort.call(this);
            }, e.exports = c;
        }, function(e, t, n) {
            var r = n(6), o = n(42), i = n(23), a = {};
            function s(e) {
                this.init(), i.call(this, e);
            }
            var c = i.prototype, u = s.prototype = Object.create(c);
            u.init = function() {
                var e = "NEJ-AJAX-DATA:", t = !1;
                function n(t) {
                    var n = t.data;
                    if (0 === n.indexOf(e)) {
                        var r = (n = JSON.parse(n.replace(e, ""))).key, o = a[r];
                        o && (delete a[r], n.result = decodeURIComponent(n.result || ""), o.onLoad(n));
                    }
                }
                return function() {
                    !function() {
                        if (!t) {
                            t = !0;
                            var e = r.getGlobal();
                            e.postMessage ? r.on(e, "message", n) : o.addMsgListener(n);
                        }
                    }();
                };
            }(), u.doSend = function() {
                var e = this.options, t = r.url2origin(e.url), n = e.proxyUrl || t + "/res/nej_proxy_frame.html", i = a[n];
                if (r.isArray(i)) i.push(this.doSend.bind(this, e)); else {
                    if (!i) return a[n] = [ this.doSend.bind(this, e) ], void r.createIframe({
                        src: n,
                        onload: function(e) {
                            var t = a[n];
                            a[n] = r.target(e).contentWindow, t.forEach(function(e) {
                                try {
                                    e();
                                } catch (e) {}
                            });
                        }
                    });
                    if (!this.aborted) {
                        var s = this.key = r.uniqueID();
                        a[s] = this;
                        var c = r.fetch({
                            method: "GET",
                            url: "",
                            data: null,
                            headers: {},
                            timeout: 0
                        }, e);
                        c.key = s, o.postMessage(i, {
                            data: c
                        }), this.afterSend();
                    }
                }
            }, u.abort = function() {
                this.aborted = !0, delete a[this.key], c.abort.call(this);
            }, e.exports = s;
        }, function(e, t, n) {
            var r, o, i = n(6), a = n(18), s = (r = /json/i, o = /post/i, function(e, t) {
                var n = (t = t || {}).data = t.data || {}, s = t.headers = t.headers || {}, c = i.checkWithDefault(s, "Accept", "application/json"), u = i.checkWithDefault(s, "Content-Type", "application/json");
                return r.test(c) && (t.type = "json"), o.test(t.method) && r.test(u) && (t.data = JSON.stringify(n)), 
                a(e, t);
            });
            e.exports = s;
        }, function(e, t, n) {
            var r = n(18);
            e.exports = function(e, t) {
                return t.method = "POST", t.headers = t.headers || {}, t.headers["Content-Type"] = "multipart/form-data", 
                t.timeout = 0, t.type = t.type || "json", r(e, t);
            };
        }, function(e, t, n) {
            var r = n(1), o = r.chunkSize, i = n(18), a = {
                mp4: "video/mp4",
                avi: "video/x-msvideo",
                wmv: "video/x-ms-wmv",
                mpeg: "video/mpeg",
                mov: "video/quicktime",
                aac: "audio/x-aac",
                wma: "audio/x-ms-wma",
                wav: "audio/x-wav",
                mp3: "audio/mp3"
            };
            e.exports = function e(t, n, s, c) {
                var u = {
                    file: t.data[n],
                    fileSize: t.data[n].size,
                    fileUploadedSize: 0,
                    percentage: 0
                }, l = t.url;
                function d(e) {
                    var n = u.fileUploadedSize + e.loaded, r = Math.floor(1e4 * n / u.fileSize) / 100;
                    if (parseInt(r) >= 100 && (r = 100, d = function() {}), u.percentage !== r) {
                        u.percentage = r;
                        var o = {
                            docId: t.docId,
                            total: u.fileSize,
                            loaded: n,
                            percentage: r,
                            percentageText: r + "%"
                        };
                        t.fileInput && (o.fileInput = t.fileInput), t.blob && (o.blob = t.blob), t.uploadprogress(o);
                    }
                }
                function f(r) {
                    var o = r && r.code;
                    function a() {
                        try {
                            if (r.result) var e = JSON.parse(r.result); else e = r;
                            s.onError(e);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            s.onError(e);
                        }
                    }
                    0 === u.fileUploadedSize && t.nosLbsUrls && t.nosLbsUrls.length > 0 && "abort" !== o ? t.edgeList ? c < t.edgeList.length - 1 ? e(t, n, s, c + 1) : a() : function(e, t, n, r) {
                        return new Promise(function(o, a) {
                            function s() {
                                i(n[e], {
                                    query: {
                                        version: "1.0",
                                        bucketname: t
                                    },
                                    method: "GET",
                                    onerror: c,
                                    onload: function(e) {
                                        try {
                                            (e = JSON.parse(e)) && e.upload && e.upload.length ? o(e.upload) : c();
                                        } catch (e) {
                                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                            c();
                                        }
                                    }
                                });
                            }
                            function c() {
                                r.onLbsUrlFail(n[e]), e < n.length - 1 ? (e++, s()) : o([]);
                            }
                            s();
                        });
                    }(0, t.nosToken.bucket, t.nosLbsUrls, s).then(function(r) {
                        r.length > 0 ? (t.edgeList = r, t.updateNosEdgeList && t.updateNosEdgeList(r), e(t, n, s, c + 1)) : a();
                    }) : a();
                }
                "number" != typeof c && (c = -1), t.edgeList && t.edgeList.length && (c = c > 0 ? c : 0, 
                l = t.edgeList[c]), l += "/" + t.nosToken.bucket + "/" + t.nosToken.objectName;
                var p = t.data.file && t.data.file.type;
                if (!p || p.indexOf("/") < 0) {
                    var m = (t.fileInputName || "").split(".").pop();
                    "image" === t.type ? p = "image/" + ("jpg" === m ? "jpeg" : m) : "audio" !== t.type && "video" !== t.type || (p = a[m]);
                }
                var g = {
                    query: {
                        offset: 0,
                        complete: o >= u.fileSize,
                        version: "1.0"
                    },
                    headers: {
                        "Content-Type": p || "application/octet-stream",
                        "x-nos-token": t.nosToken.token
                    },
                    method: "POST",
                    timeout: 0,
                    onaftersend: function() {
                        t.beginupload(s);
                    },
                    onuploading: d,
                    onload: function e(n) {
                        try {
                            n = JSON.parse(n);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            return void s.onError(e);
                        }
                        if (n.errMsg || n.errCode) s.onError(n); else if (n.offset < u.fileSize) delete g.onaftersend, 
                        u.fileUploadedSize = n.offset, s.sn = function(t, n, r, a) {
                            var s = t.offset, c = t.offset + o;
                            return n.data = a.file.slice(s, c), n.query.offset = t.offset, n.query.complete = c >= a.fileSize, 
                            n.query.context = t.context, n.onuploading = d, n.onload = e, n.onerror = f, i(l, n);
                        }(n, g, 0, u); else {
                            var a = r.genFileUrl(t.nosToken);
                            "image" === t.type ? i(a + "?imageInfo", {
                                onload: function(e) {
                                    try {
                                        e = JSON.parse(e), t.uploaddone(null, {
                                            docId: n.docId,
                                            w: e.Width,
                                            h: e.Height,
                                            orientation: e.Orientation || "",
                                            type: e.Type,
                                            size: e.Size || u.fileSize
                                        });
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        c(e);
                                    }
                                },
                                onerror: function(e) {
                                    if ("undefined" != typeof Image) {
                                        var r = new Image();
                                        r.src = a, r.onload = function() {
                                            t.uploaddone(null, {
                                                docId: n.docId,
                                                w: r.width,
                                                h: r.height,
                                                size: u.fileSize
                                            });
                                        }, r.onerror = function(e) {
                                            c(e);
                                        };
                                    } else c(e);
                                }
                            }) : "video" === t.type || "audio" === t.type ? i(a + "?vinfo", {
                                onload: function(e) {
                                    try {
                                        (e = JSON.parse(e)).GetVideoInfo && e.GetVideoInfo.VideoInfo && (e = e.GetVideoInfo.VideoInfo), 
                                        t.uploaddone(null, {
                                            docId: n.docId,
                                            w: e.Width,
                                            h: e.Height,
                                            dur: e.Duration,
                                            orientation: e.Rotate,
                                            audioCodec: e.AudioCodec,
                                            videoCodec: e.VideoCodec,
                                            container: e.Container,
                                            size: e.Size || u.fileSize
                                        });
                                    } catch (e) {
                                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                        c(e);
                                    }
                                },
                                onerror: c
                            }) : t.uploaddone(null, {
                                docId: n.docId,
                                size: u.fileSize
                            });
                        }
                        function c(e) {
                            s.onError(e);
                        }
                    },
                    onerror: f
                };
                return g.data = u.file.slice(0, o), i(l, g);
            };
        }, function(e, t, n) {
            var r = n(7).fn;
            r.isConnected = function() {
                return !!this.protocol && this.protocol.isConnected();
            }, r.connect = function() {
                this.protocol.connect(!0);
            }, r.disconnect = function(e) {
                e = e || {}, this.protocol.disconnect(e.done);
            };
        }, function(e, t, n) {
            var r = n(7).fn, o = n(0), i = n(74), a = n(4), s = n(1), c = n(43), u = n(75), l = n(9), d = n(44);
            r.sendText = function(e) {
                var t = e, n = t.loc_x, r = t.loc_y, o = t.loc_z, i = _objectWithoutProperties(t, _excluded3);
                return void 0 === n || void 0 === r || void 0 === o ? e = _objectSpread({}, i) : ("number" != typeof e.loc_x && (e.loc_x = 0), 
                "number" != typeof e.loc_y && (e.loc_y = 0), "number" != typeof e.loc_z && (e.loc_z = 0)), 
                this.processCallback(e), e.msg = new this.message.TextMessage(e), this.sendMsg(e);
            }, r.previewFile = function(e) {
                var t = this, n = t.protocol.appGrayConfig;
                if (n && n.grayConfig && n.grayConfig.mixStoreEnable && (e.mixEnable = !0), o.verifyOptions(e, "done", "msg::previewFile"), 
                e.type || (e.type = "file"), o.verifyParamPresentJustOne(e, "dataURL blob fileInput filePath wxFilePath fileObject", "msg::previewFile"), 
                o.exist(e.maxSize) && o.verifyParamType("maxSize", e.maxSize, "number", "api::previewFile"), 
                o.exist(e.commonUpload) && o.verifyParamType("commonUpload", e.commonUpload, "boolean", "api::previewFile"), 
                e.nosSurvivalTime ? (o.verifyParamType("nosSurvivalTime", e.nosSurvivalTime, "number", "api::Base.getInstance"), 
                o.verifyParamMin("nosSurvivalTime", e.nosSurvivalTime, 86400, "api::Base.getInstance")) : e.nosSurvivalTime = this.nosSurvivalTime, 
                e.filePath = e.filePath || e.wxFilePath, delete e.wxFilePath, e.dataURL) e.blob = d.fromDataURL(e.dataURL); else if (e.blob) ; else if (e.fileInput) {
                    if (e.fileInput = o.verifyFileInput(e.fileInput, "msg::previewFile"), e.fileInput.files) {
                        if (!e.fileInput.files.length) return void e.done(a.newNoFileError("请选择" + e.type + "文件", {
                            callFunc: "msg::previewFile",
                            fileInput: e.fileInput
                        }), e);
                        e.fileSize = e.fileInput.files[0].size;
                    }
                    e.fileInputName = o.getFileName(e.fileInput);
                }
                this.processCallback(e);
                var r = JSON.stringify(c.genResponseBody(e.type) || {}).replace(/"/gi, '\\"'), i = null, s = e.transcode ? "getNosTokenTrans" : "getNosToken";
                if (e.transcode) {
                    o.verifyOptions(e, "fileInput", "msg::previewFile");
                    var u = o.getFileInfo(e.fileInput);
                    i = {
                        transToken: {
                            name: u.name,
                            type: u.transcodeType,
                            transType: "png" === e.transcode ? 11 : 10,
                            size: u.size,
                            body: r
                        }
                    };
                } else i = r;
                this[s]({
                    responseBody: i,
                    nosToken: {
                        nosScene: e.nosScene || this.nosScene,
                        nosSurvivalTime: e.nosSurvivalTime
                    },
                    callback: function(n, r) {
                        if (n) e.done(n); else if (e.transcode ? (e.nosToken = r.nosToken, e.docId = r.docId) : e.nosToken = r, 
                        e.mixEnable) {
                            if (!this.protocol.mixStorePolicy) try {
                                this.protocol.mixStorePolicy = JSON.parse(localStorage.getItem("NIM-AllMixStorePolicy"))[this.options.appKey];
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                t.logger.error("error:", "get last mixStorePolicy failed", e);
                            }
                            if (!this.protocol.mixStorePolicy) return void t.logger.error("error:", "get mixStorePolicy failed");
                            e.providers = (this.protocol.mixStorePolicy.providers || []).map(function(e) {
                                return Number(e);
                            }), e.curProvider = e.providers[0] ? Number(e.providers[0]) : 1, e.nosPolicy = this.protocol.mixStorePolicy.nosPolicy, 
                            e.s3Policy = this.protocol.mixStorePolicy.s3Policy, e.logger = t.logger, t.getMixStoreToken({
                                curProvider: e.curProvider,
                                responseBody: i,
                                callback: function(n, r) {
                                    n ? e.done(n) : (e.mixStoreToken = r, e.getMixStoreToken = function(n, r) {
                                        t.getMixStoreToken({
                                            curProvider: n,
                                            responseBody: i,
                                            callback: function(t, n) {
                                                t ? e.done(t) : r(n);
                                            }
                                        });
                                    }, 1 === e.curProvider && (e.nosToken = r), t._doPreviewFile(e));
                                }.bind(t)
                            });
                        } else this._doPreviewFile(e);
                    }.bind(this)
                });
            }, r._doPreviewFile = function(e) {
                var t = this;
                l.startUniErrCache("nos", {
                    user_id: this.account,
                    action: "upload"
                });
                var n = e.uploaddone, r = s.genUploadUrl(e.nosToken.bucket);
                e.mixEnable && 1 === e.curProvider && (r = s.genUploadUrl(e.mixStoreToken.bucket));
                var i, d = s.chunkUploadUrl;
                t.logger.info("_doPreviewFile: start upload"), e.commonUpload || !d || s.isWeixinApp || s.isNodejs || s.isRN ? (e.commonUpload = !0, 
                i = r) : (this.logger.info("use chunkUrl: ", d, s.nosLbsUrls), i = d, e.nosLbsUrls = s.nosLbsUrls, 
                t.edgeList ? e.edgeList = t.edgeList : e.updateNosEdgeList = function(e) {
                    t.edgeList = e;
                });
                var f = this.assembleUploadParams(e.nosToken);
                function p(r, i, a) {
                    if (t.logger.info("_doPreviewFile: upload done", r && r.message), e.uploaddone = n, 
                    r) return l.updateUniErrCache("nos", {
                        operation_type: "transfer",
                        error: r && r.message
                    }), l.concludeUniErrCache("nos", 1), void e.done(r, e.callback.options);
                    if (l.concludeUniErrCache("nos", 0), i = c.parseResponse(i, t.options.exifOrientation), 
                    a || i.isS3 || (i.url = s.genDownloadUrl(e.nosToken, f.Object, s.serverNosConfig.cdnDomain), 
                    e.nosToken.shortUrl && (i._url_safe = e.nosToken.shortUrl)), o.exist(e.fileInputName)) i.name = e.fileInputName; else if (e.blob) {
                        var u = e.blob.name;
                        if (i.name = u || "blob-" + i.md5, !u) {
                            var d = e.blob.type;
                            i.ext = d.slice(d.lastIndexOf("/") + 1);
                        }
                    } else e.filePath ? i.name = e.filePath : e.fileObject && (i.name = e.fileObject.fileName);
                    if (!i.ext) {
                        var p = i.name.lastIndexOf(".");
                        i.ext = -1 === p ? "unknown" : i.name.slice(p + 1);
                    }
                    i.size = i.size || 0, i.isS3 && i._url_safe ? t.getNosOriginUrl({
                        safeShortUrl: i._url_safe,
                        done: function(n, r) {
                            n ? t.logger.error("error:", "getNosOriginUrl failed", n) : (i.url = r, e.done(null, o.copy(i)));
                        }
                    }) : e.done(null, o.copy(i));
                }
                if (e.mixEnable && 1 === e.curProvider && (f = this.assembleUploadParams(e.mixStoreToken)), 
                s.isWeixinApp) o.verifyOptions(e, "filePath", "msg::_doPreviewFile"), t.fileQuickTransfer(e, p, function() {
                    var n = wx.uploadFile({
                        url: i,
                        filePath: e.filePath,
                        name: "file",
                        formData: f,
                        fail: function(e) {
                            p({
                                code: "FAILED",
                                msg: e
                            }), t.logger.error("error:", "api::msg:upload file failed", e);
                        },
                        success: function(e) {
                            if (200 === e.statusCode) try {
                                p(null, JSON.parse(e.data));
                            } catch (n) {
                                n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                                t.logger.error("error:", "parse wx upload file res error", n), p({
                                    code: "PARSE_WX_UPLOAD_FILE_RES_ERROR",
                                    str: e.data,
                                    msg: e.errMsg
                                });
                            } else p({
                                code: e.statusCode,
                                msg: e.errMsg
                            });
                        }
                    });
                    "function" == typeof e.uploadprogress && n && (t.logger.info("_doPreviewFile::mini uploadprogress"), 
                    n.onProgressUpdate(function(t) {
                        e.uploadprogress({
                            total: t.totalBytesExpectedToSend,
                            loaded: t.totalBytesSent,
                            percentage: t.progress,
                            percentageText: t.progress + "%"
                        });
                    }));
                }); else if (s.isNodejs) {
                    var m = {
                        url: i,
                        name: "file",
                        formData: f,
                        success: function(e) {
                            if (200 === e.statusCode) try {
                                p(null, JSON.parse(e.data));
                            } catch (n) {
                                n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                                t.protocol.logger.error("error:", "parse nodejs upload file res error", n), p({
                                    code: "PARSE_NODEJS_UPLOAD_FILE_RES_ERROR",
                                    str: e.data,
                                    msg: e.errMsg
                                });
                            } else p({
                                code: e.statusCode,
                                msg: e.errMsg
                            });
                        },
                        fail: function(e) {
                            p({
                                code: "FAILED",
                                msg: e
                            }), t.protocol.logger.error("error:", "api::msg:upload file failed", e);
                        }
                    };
                    if (e.filePath) m.filePath = e.filePath; else {
                        if ("object" != _typeof(e.fileObject)) throw new a("Nodejs上传fileObject参数类型应如 {fileName:..,fileData:..} ");
                        m.fileData = e.fileObject.fileData;
                    }
                    t.fileQuickTransfer(e, p, function() {
                        u.uploadFile(m);
                    });
                } else if (s.isRN) {
                    var g = {
                        url: i,
                        name: "file",
                        formData: f,
                        filePath: e.filePath,
                        success: function(e) {
                            if (e.ok && 200 === e.status) try {
                                var n = e.headers.map && e.headers.map.etag;
                                e.md5 = n ? "string" == typeof n ? n : n[0] : "UNKNOWN", p(null, e);
                            } catch (n) {
                                n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                                t.protocol.logger.error("error:", "parse React Native upload file res error", n), 
                                p({
                                    code: "PARSE_React_Native_UPLOAD_FILE_RES_ERROR",
                                    res: e
                                });
                            } else p({
                                code: e.status,
                                msg: e.statusText
                            });
                        },
                        fail: function(e) {
                            p({
                                code: "FAILED",
                                msg: e
                            }), t.protocol.logger.error("error:", "api::msg:upload file failed", e);
                        }
                    };
                    t.fileQuickTransfer(e, p, function() {
                        u.uploadFile(g);
                    });
                } else e.uploaddone = p, e.url = i, e.params = f, e.fileName = "file", t.fileQuickTransfer(e, p, function() {
                    return new u(e);
                });
            }, r.fileQuickTransfer = function(e, t, n) {
                var r = this;
                e = e || {}, t instanceof Function || (t = function() {}), n instanceof Function || (n = function() {});
                var o = e.fastPass;
                if (o) try {
                    o = JSON.parse(o), e.fastPass = o;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    r.protocol.logger.error("快传参数解析失败");
                }
                var i = e.fileInputName || e.name || e.blob && e.blob.name || "", a = e.fileSize || e.size || e.blob && e.blob.size || 0, c = o ? ((o.md5 || e.digest || "") + "").trim() : "", u = e.type || e.blob && e.blob.type;
                if (c && a >= s.threshold) {
                    var l = !0, d = {
                        name: i,
                        md5: c,
                        ext: i.slice(i.lastIndexOf(".") + 1),
                        type: u
                    };
                    switch (u) {
                      case "image":
                        o && o.w && o.h ? (d.w = o.w, d.h = o.h) : (l = !1, r.protocol.logger.error("快传 image 文件缺少参数 w 或 h"));
                        break;

                      case "video":
                        o && o.w && o.h && o.dur ? (d.w = o.w, d.h = o.h, d.dur = o.dur) : (l = !1, r.protocol.logger.error("快传 video 文件缺少参数 w 或 h 或 dur"));
                        break;

                      case "audio":
                        o && o.dur ? d.dur = o.dur : (l = !1, r.protocol.logger.error("快传 audio 文件缺少参数 dur"));
                    }
                    if (!l) return void n();
                    var f = {
                        fileQuickTransfer: {
                            md5: c
                        }
                    };
                    return a && (f.fileQuickTransfer.size = a), this.protocol.sendCmd("fileQuickTransfer", f, function(e, o, i) {
                        !e && i && i.fileQuickTransfer && i.fileQuickTransfer.url || (r.protocol.logger.error("misc::fileQuickTransfer: not found", e, o), 
                        n()), i && i.fileQuickTransfer && i.fileQuickTransfer.threshold && (s.threshold = i.fileQuickTransfer.threshold || 0), 
                        i && i.fileQuickTransfer && i.fileQuickTransfer.url && (d.size = a || i.fileQuickTransfer.size, 
                        d.url = i.fileQuickTransfer.url, i.fileQuickTransfer._url_safe && (d._url_safe = i.fileQuickTransfer._url_safe), 
                        t(e, d, !0));
                    });
                }
                n();
            }, r.sendFile = function(e) {
                if (e.type || (e.type = "file"), e = o.merge(e, this.options.providers), o.verifyParamPresentJustOne(e, "dataURL blob fileInput file filePath wxFilePath fileObject", "msg::sendFile"), 
                o.exist(e.maxSize) && o.verifyParamType("maxSize", e.maxSize, "number", "api::previewFile"), 
                o.exist(e.commonUpload) && o.verifyParamType("commonUpload", e.commonUpload, "boolean", "api::previewFile"), 
                this.processCallback(e), e.filePath = e.filePath || e.wxFilePath, delete e.wxFilePath, 
                e.dataURL) this._previewAndSendFile(e); else if (e.blob) this._previewAndSendFile(e); else if (e.fileInput) {
                    if (e.fileInput = o.verifyFileInput(e.fileInput, "msg::sendFile"), e.fileInput.files && !e.fileInput.files.length) return void e.done(a.newNoFileError("请选择" + e.type + "文件", {
                        callFunc: "msg::sendFile",
                        fileInput: e.fileInput
                    }), e.callback.options);
                    this._previewAndSendFile(e);
                } else if (e.filePath || e.fileObject) this._previewAndSendFile(e); else if (e.file) {
                    var t, n = e.file._url_safe;
                    return n && (t = e.file.url, e.file.url = n, delete e.file._url_safe), e.msg = new this.message.FileMessage(e), 
                    this.sendMsg(e, t);
                }
            }, r._previewAndSendFile = function(e) {
                var t = this;
                o.verifyCallback(e, "uploaddone beforesend", "msg::_previewAndSendFile"), l.startUniErrCache("nos", {
                    user_id: this.account,
                    action: "upload"
                });
                var n = e.done;
                e.done = function(r, i) {
                    if (e.done = n, r) e.uploaddone(r, e.callback.options), e.done(r, e.callback.options); else {
                        if (/chatroom/.test(e.scene)) return;
                        var a;
                        e.uploaddone(null, o.copy(i));
                        var s = i._url_safe;
                        s && !i.isS3 && (a = i.url, i.url = s, delete i._url_safe), e.file = i, e.msg = new t.message.FileMessage(e), 
                        e.beforesend(t.sendMsg(e, a));
                    }
                }, t.previewFile(e);
            }, r.assembleUploadParams = function(e) {
                return e ? {
                    Object: decodeURIComponent(e.objectName),
                    "x-nos-token": e.token,
                    "x-nos-entity-type": "json"
                } : null;
            }, r.deleteFile = function(e) {
                o.verifyParamPresentJustOne(e, "docId", "msg::deleteFile"), this.removeFile({
                    docId: e.docId,
                    callback: function(t, n) {
                        t ? e.error && e.error(t, n) : e.success && e.success(n);
                    }
                });
            }, r.getFile = function(e) {
                o.verifyParamPresentJustOne(e, "docId", "msg::getFile"), this.fetchFile({
                    docId: e.docId,
                    callback: function(t, n) {
                        t ? e.error && e.error(t, n) : e.success && e.success(n.info);
                    }
                });
            }, r.getFileList = function(e) {
                var t = e.fromDocId, n = void 0 === t ? "" : t, r = e.limit, o = void 0 === r ? 10 : r, i = {
                    limit: o
                };
                n && (i.fromDocId = n), this.fetchFileList({
                    fileListParam: i,
                    callback: function(t, n) {
                        t ? (o > 30 && (t.message = t.message + "::文档条数超过限制:30"), e.error && e.error(t, n)) : e.success && e.success(n);
                    }
                });
            }, r.sendGeo = function(e) {
                return this.processCallback(e), e.msg = new this.message.GeoMessage(e), this.sendMsg(e);
            }, r.sendTipMsg = function(e) {
                return this.processCallback(e), e.msg = new this.message.TipMessage(e), this.sendMsg(e);
            }, r.sendCustomMsg = function(e) {
                return this.processCallback(e), e.msg = new this.message.CustomMessage(e), this.sendMsg(e);
            }, r.sendRobotMsg = function(e) {
                return this.logger.warn("this api will be abandon"), this.processCallback(e), e.msg = new this.message.RobotMessage(e), 
                this.sendMsg(e);
            }, r.sendMsg = function(e, t) {
                var n, r = this.protocol, i = e.msg, a = {}, s = !!e.isLocal;
                if (this.logger.warn("sendMsg::start: " + i.idClient), s && (e.time && (i.time = e.time), 
                e.idClient && (i.idClient = e.idClient), e.localFrom && (n = e.localFrom + "")), 
                e.resend && ("out" !== e.flow || "fail" !== e.status)) return o.onError("只能重发发送失败的消息");
                e.callback.options.idClient = i.idClient, this.beforeSendMsg(e, a);
                var c = e.rtnMsg = this.formatReturnMsg(i, n);
                return t && !this.options.keepNosSafeUrl && c.file && (c.file._url_safe = c.file.url, 
                c.file.url = t, "audio" === c.type && (c.file.mp3Url = t + (~t.indexOf("?") ? "&" : "?") + "audioTrans&type=mp3")), 
                c.hasOwnProperty("chatroomId") && !c.chatroomId ? o.onError("聊天室未连接") : (s && (c.status = "success", 
                c.isLocal = !0), r.storeSendMsg && (a.promise = r.storeSendMsg(c)), e.cbaop = function(e) {
                    if (e) return 7101 === e.code && (c.isInBlackList = !0), "server" !== e.from ? (c.status = "fail", 
                    r.updateSendMsgError && r.updateSendMsgError(c), c) : void 0;
                }, s || (t && !this.options.keepNosSafeUrl && e.callback && (e.callback.originUrl = t), 
                e.toAccids && e.toAccids.length && (i.toAccids = JSON.stringify(e.toAccids)), a.msg = i, 
                this.sendCmd(e.cmd, a, e.callback)), this.afterSendMsg(e), s && setTimeout(function() {
                    c = o.simpleClone(c), e.done(null, c);
                }, 0), o.copy(c));
            }, r.beforeSendMsg = function() {}, r.afterSendMsg = function() {}, r.formatReturnMsg = function(e, t) {
                return e = o.copy(e), this.protocol.completeMsg(e), e.status = "sending", t && (e.from = t), 
                this.message.reverse(e);
            }, r.resendMsg = function(e) {
                return o.verifyOptions(e, "msg", "msg::resendMsg"), this.trimMsgFlag(e), e.resend = !0, 
                this._sendMsgByType(e);
            }, r.forwardMsg = function(e) {
                return o.verifyOptions(e, "msg", "msg::forwardMsg"), this.trimMsgFlag(e), this.beforeForwardMsg(e), 
                e.forward = !0, e.msg.idClient = o.guid(), this._sendMsgByType(e);
            }, r.trimMsgFlag = function(e) {
                e && e.msg && (e.msg = o.copy(e.msg), delete e.msg.resend, delete e.msg.forward);
            }, r.beforeForwardMsg = function() {}, r._sendMsgByType = function(e) {
                switch (o.verifyOptions(e, "msg", "msg::_sendMsgByType"), o.verifyParamValid("msg.type", e.msg.type, this.message.validTypes, "msg::_sendMsgByType"), 
                o.merge(e, e.msg), e.type) {
                  case "text":
                    return this.sendText(e);

                  case "image":
                  case "audio":
                  case "video":
                  case "file":
                    return this.sendFile(e);

                  case "geo":
                    return this.sendGeo(e);

                  case "custom":
                    return this.sendCustomMsg(e);

                  case "tip":
                    return this.sendTipMsg(e);

                  default:
                    throw new a("不能发送类型为 " + e.type + " 的消息");
                }
            }, r.parseRobotTemplate = function(e) {
                if (this.logger.warn("this api will be abandon"), /<template[^>/]+\/>/.test(e)) return {
                    raw: e,
                    json: [ {
                        type: "text",
                        name: "",
                        text: ""
                    } ]
                };
                if (!/<template[^>/]+>/.test(e)) return {
                    raw: e,
                    json: [ {
                        type: "text",
                        name: "",
                        text: e
                    } ]
                };
                var t = new i({
                    escapeMode: !1
                });
                e = e.replace(/<template [^>]+>/, "<template>");
                var n = t.xml2js(e);
                n = n.template.LinearLayout, Array.isArray(n) || (n = [ n ]);
                var r = [];
                return n = n.forEach(function(e) {
                    e.image && (r = r.concat(a(e))), e.text && (r = r.concat(o(e))), e.link && (r = r.concat(function(e) {
                        if (e.link) {
                            var t = e.link;
                            Array.isArray(t) || (t = [ t ]), t = t.map(function(e) {
                                return e.image && (e.image = a(e)), e.text && (e.text = o(e)), "url" === e._type ? (e.type = "url", 
                                e.style = e._style || "", e.target = e._target, delete e._target, delete e._style) : "block" === e._type && (e.type = "block", 
                                e.style = e._style || "", e.params = e._params || "", e.target = e._target, delete e._params, 
                                delete e._target, delete e._style), delete e._type, e;
                            }), e.link = t;
                        }
                        return e.link;
                    }(e)));
                }), {
                    raw: e,
                    json: r
                };
                function o(e) {
                    return Array.isArray(e.text) || (e.text = [ e.text ]), e.text = e.text.map(function(e) {
                        return {
                            type: "text",
                            name: e._name,
                            text: e.__text
                        };
                    }), e.text;
                }
                function a(e) {
                    return Array.isArray(e.image) || (e.image = [ e.image ]), e.image = e.image.map(function(e) {
                        return {
                            type: "image",
                            name: e._name,
                            url: e._url
                        };
                    }), e.image;
                }
            };
        }, function(e, t, n) {
            var r, o;
            void 0 === (o = "function" == typeof (r = function(e) {
                return function(t) {
                    function n(e) {
                        var t = e.localName;
                        return null == t && (t = e.baseName), null != t && "" !== t || (t = e.nodeName), 
                        t;
                    }
                    function r(e) {
                        return "string" == typeof e ? e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;") : e;
                    }
                    function o(e, n, r) {
                        switch (t.arrayAccessForm) {
                          case "property":
                            e[n] instanceof Array ? e[n + "_asArray"] = e[n] : e[n + "_asArray"] = [ e[n] ];
                        }
                        if (!(e[n] instanceof Array) && t.arrayAccessFormPaths.length > 0) {
                            for (var o = !1, i = 0; i < t.arrayAccessFormPaths.length; i++) {
                                var a = t.arrayAccessFormPaths[i];
                                if ("string" == typeof a) {
                                    if (a === r) {
                                        o = !0;
                                        break;
                                    }
                                } else if (a instanceof RegExp) {
                                    if (a.test(r)) {
                                        o = !0;
                                        break;
                                    }
                                } else if ("function" == typeof a && a(n, r)) {
                                    o = !0;
                                    break;
                                }
                            }
                            o && (e[n] = [ e[n] ]);
                        }
                    }
                    function i(e) {
                        var t = e.split(/[-T:+Z]/g), n = new Date(t[0], t[1] - 1, t[2]), r = t[5].split(".");
                        if (n.setHours(t[3], t[4], r[0]), r.length > 1 && n.setMilliseconds(r[1]), t[6] && t[7]) {
                            var o = 60 * t[6] + Number(t[7]);
                            o = 0 + ("-" == (/\d\d-\d\d:\d\d$/.test(e) ? "-" : "+") ? -1 * o : o), n.setMinutes(n.getMinutes() - o - n.getTimezoneOffset());
                        } else -1 !== e.indexOf("Z", e.length - 1) && (n = new Date(Date.UTC(n.getFullYear(), n.getMonth(), n.getDate(), n.getHours(), n.getMinutes(), n.getSeconds(), n.getMilliseconds())));
                        return n;
                    }
                    function a(e, r) {
                        for (var a = {
                            __cnt: 0
                        }, c = e.childNodes, u = 0; u < c.length; u++) {
                            var l = c.item(u), d = n(l);
                            8 !== l.nodeType && (a.__cnt++, null == a[d] ? (a[d] = s(l, r + "." + d), o(a, d, r + "." + d)) : (a[d] instanceof Array || (a[d] = [ a[d] ], 
                            o(a, d, r + "." + d)), a[d][a[d].length] = s(l, r + "." + d)));
                        }
                        for (var f = 0; f < e.attributes.length; f++) {
                            var p = e.attributes.item(f);
                            a.__cnt++;
                            for (var m = p.value, g = 0; g < t.attributeConverters.length; g++) {
                                var h = t.attributeConverters[g];
                                h.test.call(null, p.name, p.value) && (m = h.convert.call(null, p.name, p.value));
                            }
                            a[t.attributePrefix + p.name] = m;
                        }
                        var y = e.prefix;
                        return y && (a.__cnt++, a.__prefix = y), a["#text"] && (a.__text = a["#text"], a.__text instanceof Array && (a.__text = a.__text.join("\n")), 
                        t.escapeMode && (a.__text = a.__text.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&#x27;/g, "'").replace(/&amp;/g, "&")), 
                        t.stripWhitespaces && (a.__text = a.__text.trim()), delete a["#text"], "property" === t.arrayAccessForm && delete a["#text_asArray"], 
                        a.__text = function(e, n, r) {
                            if (t.datetimeAccessFormPaths.length > 0) for (var o = r.split(".#")[0], a = 0; a < t.datetimeAccessFormPaths.length; a++) {
                                var s = t.datetimeAccessFormPaths[a];
                                if ("string" == typeof s) {
                                    if (s === o) return i(e);
                                } else if (s instanceof RegExp) {
                                    if (s.test(o)) return i(e);
                                } else if ("function" == typeof s && s(o)) return i(e);
                            }
                            return e;
                        }(a.__text, 0, r + ".#text")), a.hasOwnProperty("#cdata-section") && (a.__cdata = a["#cdata-section"], 
                        delete a["#cdata-section"], "property" === t.arrayAccessForm && delete a["#cdata-section_asArray"]), 
                        1 === a.__cnt && a.__text ? a = a.__text : 0 === a.__cnt && "text" === t.emptyNodeForm ? a = "" : a.__cnt > 1 && void 0 !== a.__text && t.skipEmptyTextNodesForObj && (t.stripWhitespaces && "" === a.__text || "" === a.__text.trim()) && delete a.__text, 
                        delete a.__cnt, t.keepCData || a.hasOwnProperty("__text") || !a.hasOwnProperty("__cdata") || 1 !== Object.keys(a).length ? (t.enableToStringFunc && (a.__text || a.__cdata) && (a.toString = function() {
                            return (this.__text ? this.__text : "") + (this.__cdata ? this.__cdata : "");
                        }), a) : a.__cdata ? a.__cdata : "";
                    }
                    function s(e, r) {
                        return 9 === e.nodeType ? function(e) {
                            for (var r = {}, o = e.childNodes, i = 0; i < o.length; i++) {
                                var a = o.item(i);
                                if (1 === a.nodeType) {
                                    var c = n(a);
                                    t.ignoreRoot ? r = s(a, c) : r[c] = s(a, c);
                                }
                            }
                            return r;
                        }(e) : 1 === e.nodeType ? a(e, r) : 3 === e.nodeType || 4 === e.nodeType ? e.nodeValue : null;
                    }
                    function c(e, n, o, i) {
                        var a = "<" + (e && e.__prefix ? e.__prefix + ":" : "") + n;
                        if (o) for (var s = 0; s < o.length; s++) {
                            var c = o[s], u = e[c];
                            t.escapeMode && (u = r(u)), a += " " + c.substr(t.attributePrefix.length) + "=", 
                            t.useDoubleQuotes ? a += '"' + u + '"' : a += "'" + u + "'";
                        }
                        return a + (i ? " />" : ">");
                    }
                    function u(e, t) {
                        return "</" + (e && e.__prefix ? e.__prefix + ":" : "") + t + ">";
                    }
                    function l(e, n) {
                        return "property" === t.arrayAccessForm && (o = "_asArray", -1 !== (r = n.toString()).indexOf(o, r.length - o.length)) || 0 === n.toString().indexOf(t.attributePrefix) || 0 === n.toString().indexOf("__") || e[n] instanceof Function;
                        var r, o;
                    }
                    function d(e) {
                        var t = 0;
                        if (e instanceof Object) for (var n in e) l(e, n) || t++;
                        return t;
                    }
                    function f(e) {
                        var n = [];
                        if (e instanceof Object) for (var r in e) -1 === r.toString().indexOf("__") && 0 === r.toString().indexOf(t.attributePrefix) && n.push(r);
                        return n;
                    }
                    function p(e) {
                        var n = "";
                        return e instanceof Object ? n += function(e) {
                            var n = "";
                            return e.__cdata && (n += "<![CDATA[" + e.__cdata + "]]>"), (e.__text || "number" == typeof e.__text || "boolean" == typeof e.__text) && (t.escapeMode ? n += r(e.__text) : n += e.__text), 
                            n;
                        }(e) : null !== e && (t.escapeMode ? n += r(e) : n += e), n;
                    }
                    function m(e, n, r) {
                        var o = "";
                        return t.jsAttributeFilter && t.jsAttributeFilter.call(null, n, e) || (t.jsAttributeConverter && (e = t.jsAttributeConverter.call(null, n, e)), 
                        null != e && "" !== e || !t.selfClosingElements ? "object" == _typeof(e) ? "[object Array]" === Object.prototype.toString.call(e) ? o += function(e, t, n) {
                            var r = "";
                            if (0 === e.length) r += c(e, t, n, !0); else for (var o = 0; o < e.length; o++) r += m(e[o], t, f(e[o]));
                            return r;
                        }(e, n, r) : e instanceof Date ? (o += c(e, n, r, !1), o += t.jsDateUTC ? e.toUTCString() : e.toISOString(), 
                        o += u(e, n)) : d(e) > 0 || "number" == typeof e.__text || "boolean" == typeof e.__text || e.__text || e.__cdata ? (o += c(e, n, r, !1), 
                        o += g(e), o += u(e, n)) : t.selfClosingElements ? o += c(e, n, r, !0) : (o += c(e, n, r, !1), 
                        o += u(e, n)) : (o += c(e, n, r, !1), o += p(e), o += u(e, n)) : o += c(e, n, r, !0)), 
                        o;
                    }
                    function g(e) {
                        var t = "";
                        if (d(e) > 0) for (var n in e) if (!l(e, n)) {
                            var r = e[n];
                            t += m(r, n, f(r));
                        }
                        return t + p(e);
                    }
                    function h(n) {
                        if (void 0 === n) return null;
                        if ("string" != typeof n) return null;
                        var r = null, o = null;
                        if (e) o = (r = new e(t.xmldomOptions)).parseFromString(n, "text/xml"); else if (window && window.DOMParser) {
                            r = new window.DOMParser();
                            var i = null;
                            if (!window.ActiveXObject && !("ActiveXObject" in window)) try {
                                i = r.parseFromString("INVALID", "text/xml").childNodes[0].namespaceURI;
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                i = null;
                            }
                            try {
                                o = r.parseFromString(n, "text/xml"), null !== i && o.getElementsByTagNameNS(i, "parsererror").length > 0 && (o = null);
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                o = null;
                            }
                        } else 0 === n.indexOf("<?") && (n = n.substr(n.indexOf("?>") + 2)), (o = new ActiveXObject("Microsoft.XMLDOM")).async = "false", 
                        o.loadXML(n);
                        return o;
                    }
                    (t = t || {}).arrayAccessForm = t.arrayAccessForm || "none", t.emptyNodeForm = t.emptyNodeForm || "text", 
                    t.jsAttributeFilter = t.jsAttributeFilter, t.jsAttributeConverter = t.jsAttributeConverter, 
                    t.attributeConverters = t.attributeConverters || [], t.datetimeAccessFormPaths = t.datetimeAccessFormPaths || [], 
                    t.arrayAccessFormPaths = t.arrayAccessFormPaths || [], t.xmldomOptions = t.xmldomOptions || {}, 
                    void 0 === t.enableToStringFunc && (t.enableToStringFunc = !0), void 0 === t.skipEmptyTextNodesForObj && (t.skipEmptyTextNodesForObj = !0), 
                    void 0 === t.stripWhitespaces && (t.stripWhitespaces = !0), void 0 === t.useDoubleQuotes && (t.useDoubleQuotes = !0), 
                    void 0 === t.ignoreRoot && (t.ignoreRoot = !1), void 0 === t.escapeMode && (t.escapeMode = !0), 
                    void 0 === t.attributePrefix && (t.attributePrefix = "_"), void 0 === t.selfClosingElements && (t.selfClosingElements = !0), 
                    void 0 === t.keepCData && (t.keepCData = !1), void 0 === t.jsDateUTC && (t.jsDateUTC = !1), 
                    function() {
                        function e(e) {
                            var t = String(e);
                            return 1 === t.length && (t = "0" + t), t;
                        }
                        "function" != typeof String.prototype.trim && (String.prototype.trim = function() {
                            return this.replace(/^\s+|^\n+|(\s|\n)+$/g, "");
                        }), "function" != typeof Date.prototype.toISOString && (Date.prototype.toISOString = function() {
                            return this.getUTCFullYear() + "-" + e(this.getUTCMonth() + 1) + "-" + e(this.getUTCDate()) + "T" + e(this.getUTCHours()) + ":" + e(this.getUTCMinutes()) + ":" + e(this.getUTCSeconds()) + "." + String((this.getUTCMilliseconds() / 1e3).toFixed(3)).slice(2, 5) + "Z";
                        });
                    }(), this.asArray = function(e) {
                        return null == e ? [] : e instanceof Array ? e : [ e ];
                    }, this.toXmlDateTime = function(e) {
                        return e instanceof Date ? e.toISOString() : "number" == typeof e ? new Date(e).toISOString() : null;
                    }, this.asDateTime = function(e) {
                        return "string" == typeof e ? i(e) : e;
                    }, this.xml2dom = function(e) {
                        return h(e);
                    }, this.dom2js = function(e) {
                        return s(e, null);
                    }, this.js2dom = function(e) {
                        return h(this.js2xml(e));
                    }, this.xml2js = function(e) {
                        var t = h(e);
                        return null != t ? this.dom2js(t) : null;
                    }, this.js2xml = function(e) {
                        return g(e);
                    }, this.getVersion = function() {
                        return "3.1.1";
                    };
                };
            }) ? r.apply(t, []) : r) || (e.exports = o);
        }, function(e, t, n) {
            var r = n(1), o = n(0), i = n(4), a = n(10).upload, s = n(9), c = n(10).chunkUpload, u = n(10).abort, l = (n(41), 
            o.supportFormData);
            function d(e) {
                var t = this;
                t.options = o.copy(e), o.verifyOptions(e, "url fileName"), o.verifyParamPresentJustOne(e, "blob fileInput"), 
                o.verifyCallback(e, "beginupload uploadprogress uploaddone"), e.fileInput && (e.fileInput = o.verifyFileInput(e.fileInput)), 
                e.type && o.verifyFileType(e.type), e.timeout ? o.verifyParamType("timeout", e.timeout, "number") : e.timeout = 6e5, 
                o.verifyFileUploadCallback(e), e.data = {}, e.params && o.merge(e.data, e.params);
                var n, u, d = e.fileName, f = e.fileInput;
                function p() {
                    if (f) {
                        if (!(u = e.type ? o.filterFiles(f.files, e.type) : [].slice.call(f.files, 0)) || !u.length) return void e.uploaddone(i.newWrongFileTypeError("未读取到" + e.type + "类型的文件, 请确保文件选择节点的文件不为空, 并且请确保选择了" + e.type + "类型的文件"));
                        e.data[d] = u[0], n = f.files[0].size;
                    } else if (e.blob) {
                        if (e.data[d] = e.blob, "file" !== e.type && e.blob.type && -1 === e.blob.type.indexOf(e.type)) return void e.uploaddone(i.newWrongFileTypeError("未读取到" + e.type + "类型的文件, 请确保选择了" + e.type + "类型的文件"));
                        n = e.blob.size;
                    }
                    if (e.maxSize && n > e.maxSize) e.uploaddone(i.newFileTooLargeError("上传文件大小超过".concat(e.maxSize, "限制"))); else {
                        if (!e.commonUpload) return n > r.chunkMaxSize ? void e.uploaddone(i.newFileTooLargeError("直传文件大小超过".concat(r.chunkMaxSize, "限制"))) : void (t.sn = c(e, d, t, -1));
                        if (n > r.commonMaxSize) e.uploaddone(i.newFileTooLargeError("普通上传文件大小超过".concat(r.commonMaxSize, "限制"))); else if (e.s3Policy && e.s3Policy.uploadConfig && e.s3Policy.uploadConfig.retryPolicy) {
                            var a = e.s3Policy.uploadConfig.retryPolicy, s = {
                                accessKeyId: e.mixStoreToken.accessKeyId,
                                secretAccessKey: e.mixStoreToken.secretAccessKey,
                                sessionToken: e.mixStoreToken.sessionToken,
                                region: e.mixStoreToken.region,
                                maxRetries: a.retry
                            }, l = new (0, e.s3)();
                            l.config.update(s);
                            var p = decodeURIComponent(e.mixStoreToken.bucket), g = decodeURIComponent(e.mixStoreToken.objectName), h = e.data[d], y = l.upload({
                                Bucket: p,
                                Key: g,
                                Body: h,
                                Metadata: {
                                    token: e.mixStoreToken.token
                                },
                                ContentType: h.type || "application/octet-stream"
                            });
                            y.on("httpUploadProgress", function(t) {
                                var n = Math.floor(1e4 * t.loaded / t.total) / 100, r = {
                                    docId: e.docId,
                                    total: t.total,
                                    loaded: t.loaded,
                                    percentage: n,
                                    percentageText: n + "%"
                                };
                                e.fileInput && (r.fileInput = e.fileInput), e.blob && (r.blob = e.blob), e.uploadprogress(r);
                            }), y.send(function(n, r) {
                                if (e.docId && (r.docId = e.docId), n) {
                                    e.logger.error("error:", "api::s3:upload file failed", n);
                                    var o = e.providers[(e.providers.indexOf(e.curProvider) + 1) % e.providers.length];
                                    a.retryNext && o ? (t.addCircuitTimer(e, o), 1 === o && e.getMixStoreToken(1, function(t) {
                                        e.mixStoreToken = t, m();
                                    })) : t.onError(r);
                                } else {
                                    var i = t.options.s3Policy.cdnSchema;
                                    i = (i = i.replace("{cdnDomain}", t.options.s3Policy.dlcdn)).replace("{objectName}", r.Key), 
                                    e.uploaddone(null, {
                                        size: h.size,
                                        name: h.name,
                                        url: i,
                                        ext: h.name.split(".")[1] || "unknown",
                                        _url_safe: e.mixStoreToken.shortUrl,
                                        isS3: !0
                                    });
                                }
                            });
                        }
                    }
                }
                function m() {
                    if (l) {
                        if (f) {
                            if (!(u = e.type ? o.filterFiles(f.files, e.type) : [].slice.call(f.files, 0)) || !u.length) return void e.uploaddone(i.newWrongFileTypeError("未读取到" + e.type + "类型的文件, 请确保文件选择节点的文件不为空, 并且请确保选择了" + e.type + "类型的文件"));
                            e.data[d] = u[0], n = f.files[0].size;
                        } else if (e.blob) {
                            if (e.data[d] = e.blob, "file" !== e.type && e.blob.type && -1 === e.blob.type.indexOf(e.type)) return void e.uploaddone(i.newWrongFileTypeError("未读取到" + e.type + "类型的文件, 请确保选择了" + e.type + "类型的文件"));
                            n = e.blob.size;
                        }
                        if (e.maxSize && n > e.maxSize) return void e.uploaddone(i.newFileTooLargeError("上传文件大小超过".concat(e.maxSize, "限制")));
                        if (!e.commonUpload) return n > r.chunkMaxSize ? void e.uploaddone(i.newFileTooLargeError("直传文件大小超过".concat(r.chunkMaxSize, "限制"))) : (t.onLbsUrlFail = function(t) {
                            s.startUniErrCache("nos", {
                                user_id: e.account,
                                action: "upload"
                            }), s.updateUniErrCache("nos", {
                                operation_type: "transfer",
                                error: "lbs failed",
                                target: t
                            });
                        }, void (t.sn = c(e, d, t, -1)));
                        if (n > r.commonMaxSize) return void e.uploaddone(i.newFileTooLargeError("普通上传文件大小超过".concat(r.commonMaxSize, "限制")));
                    } else o.dataset(f, "name", d), e.data.input = f;
                    var m = {
                        data: e.data,
                        onaftersend: function() {
                            e.beginupload(t);
                        },
                        onuploading: function(t) {
                            var n = Math.floor(1e4 * t.loaded / t.total) / 100, r = {
                                docId: e.docId,
                                total: t.total,
                                loaded: t.loaded,
                                percentage: n,
                                percentageText: n + "%"
                            };
                            e.fileInput && (r.fileInput = e.fileInput), e.blob && (r.blob = e.blob), e.uploadprogress(r);
                        },
                        onload: function(n) {
                            if (e.docId && (n.docId = e.docId), n.Error) if (e.mixEnable && 1 === e.curProvider) {
                                var r = e.nosPolicy.uploadConfig.retryPolicy, o = e.providers[(e.providers.indexOf(e.curProvider) + 1) % e.providers.length];
                                r.retryNext && o ? (t.addCircuitTimer(e, o), 2 === o && e.getMixStoreToken(2, function(t) {
                                    e.mixStoreToken = t, p();
                                })) : t.onError(n);
                            } else t.onError(n); else e.uploaddone(null, n);
                        },
                        onerror: function(n) {
                            var r;
                            if (e.mixEnable && 1 === e.curProvider) {
                                var o = e.nosPolicy.uploadConfig.retryPolicy, a = e.providers[(e.providers.indexOf(e.curProvider) + 1) % e.providers.length];
                                if (o.retryNext && a) t.addCircuitTimer(e, a), 2 === a && e.getMixStoreToken(2, function(t) {
                                    e.mixStoreToken = t, p();
                                }); else try {
                                    r = n.result ? JSON.parse(n.result) : n, t.onError(r);
                                } catch (r) {
                                    r = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(r);
                                    e.uploaddone(new i(n.message, n.code), t.options);
                                }
                            } else try {
                                r = n.result ? JSON.parse(n.result) : n, t.onError(r);
                            } catch (r) {
                                r = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(r);
                                e.uploaddone(new i(n.message, n.code), t.options);
                            }
                        }
                    };
                    l || (m.mode = "iframe"), m.putFileAtEnd = !0, t.sn = a(e.url, m);
                }
                e.mixEnable && 2 === e.curProvider ? p() : m();
            }
            d.prototype.addCircuitTimer = function(e, t) {
                var n = this;
                if (e.curProvider = t, e.s3Policy && e.nosPolicy) {
                    var r = e[1 === e.curProvider ? "nosPolicy" : "s3Policy"].uploadConfig.retryPolicy.circuit;
                    if (!r || 0 === r) return;
                    n.circuitTimer && clearTimeout(n.circuitTimer), n.circuitTimer = setTimeout(function() {
                        e.curProvider = e.providers[0], n.circuitTimer = void 0;
                    }, 1e3 * r);
                }
            }, d.prototype.onError = function(e) {
                var t, n, r, o = this.options;
                n = (t = (e = e || {}).Error || e || {}).Code || t.code || "unknown", r = t.Message || t.message || "未知错误", 
                o.uploaddone(new i(n + "(" + r + ")", n));
            }, d.prototype.abort = function() {
                u(this.sn);
            }, e.exports = d;
        }, function(e, t, n) {
            var r, o = n(0), i = n(7).fn, a = n(45), s = n(43), c = n(4);
            i.transDoc = function(e) {
                o.verifyOptions(e, "fileInput done", "nos::transDoc");
                try {
                    var t = e.fileInput.files[0], n = e.fileInputName = t.name, r = {
                        ppt: 1,
                        pptx: 2,
                        pdf: 3,
                        doc: 6,
                        docx: 7
                    }, i = n.substring(n.lastIndexOf(".") + 1);
                    if ([ "ppt", "pdf", "pptx", "doc", "docx" ].indexOf(i) < 0) return void e.done(c.newNoFileError("请上传正确格式的文件【ppt, pptx, pdf, doc, docx】", {
                        callFunc: "nos: transDoc",
                        fileInput: e.fileInput
                    }), e);
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    return void e.done(c.newNoFileError("请上传正确的文件节点", {
                        callFunc: "msg::previewFile",
                        fileInput: e.fileInput
                    }), e);
                }
                var a = JSON.stringify(s.genResponseBody("file") || {}).replace(/"/gi, '\\"'), u = {
                    transToken: {
                        name: n,
                        type: r[i],
                        transType: "png" === e.transcode ? 11 : 10,
                        size: t.size,
                        body: a
                    }
                };
                this.getNosTokenTrans({
                    responseBody: u,
                    nosToken: {
                        nosScene: e.nosScene || this.nosScene,
                        nosSurvivalTime: e.nosSurvivalTime
                    },
                    callback: function(t, n) {
                        t ? e.done(t) : (e.nosToken = n.nosToken, e.docId = n.docId, this._doPreviewFile(e));
                    }.bind(this)
                });
            }, i.getSimpleNosToken = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return e.num = 1, o.verifyOptions(e), this.cbAndSendCmd("getSimpleNosToken", e);
            }, i.getNosToken = function(e) {
                var t = e.callback, n = e.nosToken, r = e.responseBody, o = {
                    tag: n.nosScene
                };
                n.nosSurvivalTime && n.nosSurvivalTime !== 1 / 0 && (o.expireSec = n.nosSurvivalTime), 
                this.sendCmd("getNosToken", {
                    responseBody: r,
                    nosToken: o
                }, t);
            }, i.getNosTokenTrans = function(e) {
                this.sendCmd("getNosTokenTrans", e.responseBody, e.callback);
            }, i.getMixStoreToken = function(e) {
                this.sendCmd("getMixStoreToken", {
                    mixTokenReq: {
                        provider: e.curProvider,
                        tokenCount: e.tokenCount || 1,
                        tag: "im",
                        returnBody: e.responseBody
                    }
                }, e.callback);
            }, i.packFileDownloadName = function(e) {
                o.verifyOptions(e, "url name", !0, "", "nos::packFileDownloadName");
                var t = e.url;
                return t + o.genUrlSep(t) + "download=" + encodeURIComponent(e.name);
            }, i.audioToMp3 = function(e) {
                o.verifyOptions(e, "url", "nos::audioToMp3");
                var t = e.url;
                return t + o.genUrlSep(t) + "audioTrans&type=mp3";
            }, i.removeFile = function(e) {
                this.sendCmd("removeFile", e, e.callback);
            }, i.fetchFile = function(e) {
                this.sendCmd("fetchFile", e, e.callback);
            }, i.fetchFileList = function(e) {
                this.sendCmd("fetchFileList", e, e.callback);
            }, i.stripImageMeta = function(e) {
                return this.beforeProcessImage(e, "stripmeta");
            }, i.qualityImage = function(e) {
                return this.beforeProcessImage(e, "quality");
            }, i.interlaceImage = function(e) {
                return this.beforeProcessImage(e, "interlace");
            }, i.rotateImage = function(e) {
                return this.beforeProcessImage(e, "rotate");
            }, i.blurImage = function(e) {
                return this.beforeProcessImage(e, "blur");
            }, i.cropImage = function(e) {
                return this.beforeProcessImage(e, "crop");
            }, i.thumbnailImage = function(e) {
                return this.beforeProcessImage(e, "thumbnail");
            }, i.beforeProcessImage = function(e, t) {
                var n = o.copy(e);
                return n.type = t, e.ops = [ n ], this.processImage(e);
            }, i.processImage = function(e) {
                var t = this;
                o.verifyOptions(e, "url ops", !0, "", "nos::processImage"), o.verifyParamType("ops", e.ops, "array", "nos::processImage");
                var n = e.ops.map(function(e) {
                    return o.verifyOptions(e, "type", !0, "", "nos::processImage"), o.verifyParamValid("type", e.type, a.validTypes, "nos::processImage"), 
                    t["gen" + e.type.slice(0, 1).toUpperCase() + e.type.slice(1) + "Op"](e);
                });
                t.processCallback(e), t.sendCmd("processImage", {
                    url: e.url,
                    imageOps: n
                }, e.callback);
            }, i.genStripmetaOp = function(e) {
                return new a({
                    type: e.type,
                    stripmeta: e.strip ? 1 : 0
                });
            }, i.genQualityOp = function(e) {
                o.verifyOptions(e, "quality", !0, "", "nos::genQualityOp"), o.verifyParamType("quality", e.quality, "number", "nos::genQualityOp"), 
                o.verifyParamMin("quality", e.quality, 0, "nos::genQualityOp"), o.verifyParamMax("quality", e.quality, 100, "nos::genQualityOp");
                var t = Math.round(e.quality);
                return new a({
                    type: e.type,
                    qualityQuality: t
                });
            }, i.genInterlaceOp = function(e) {
                return new a({
                    type: e.type
                });
            }, i.genRotateOp = function(e) {
                for (o.verifyOptions(e, "angle", !0, "", "nos::genRotateOp"), o.verifyParamType("angle", e.angle, "number", "nos::genRotateOp"); e.angle < 0; ) e.angle = e.angle + 360;
                e.angle = e.angle % 360;
                var t = Math.round(e.angle);
                return new a({
                    type: e.type,
                    rotateAngle: t
                });
            }, i.genBlurOp = function(e) {
                o.verifyOptions(e, "radius sigma", "nos::genBlurOp"), o.verifyParamType("radius", e.radius, "number", "nos::genBlurOp"), 
                o.verifyParamMin("radius", e.radius, 1, "nos::genBlurOp"), o.verifyParamMax("radius", e.radius, 50, "nos::genBlurOp"), 
                o.verifyParamType("sigma", e.sigma, "number", "nos::genBlurOp"), o.verifyParamMin("sigma", e.sigma, 0, "nos::genBlurOp");
                var t = Math.round(e.radius), n = Math.round(e.sigma);
                return new a({
                    type: e.type,
                    blurRadius: t,
                    blurSigma: n
                });
            }, i.genCropOp = function(e) {
                o.verifyOptions(e, "x y width height", "nos::genCropOp"), o.verifyParamType("x", e.x, "number", "nos::genCropOp"), 
                o.verifyParamMin("x", e.x, 0, "nos::genCropOp"), o.verifyParamType("y", e.y, "number", "nos::genCropOp"), 
                o.verifyParamMin("y", e.y, 0, "nos::genCropOp"), o.verifyParamType("width", e.width, "number", "nos::genCropOp"), 
                o.verifyParamMin("width", e.width, 0, "nos::genCropOp"), o.verifyParamType("height", e.height, "number", "nos::genCropOp"), 
                o.verifyParamMin("height", e.height, 0, "nos::genCropOp");
                var t = Math.round(e.x), n = Math.round(e.y), r = Math.round(e.width), i = Math.round(e.height);
                return new a({
                    type: e.type,
                    cropX: t,
                    cropY: n,
                    cropWidth: r,
                    cropHeight: i
                });
            }, i.genThumbnailOp = (r = {
                cover: "z",
                contain: "x",
                crop: "y"
            }, function(e) {
                o.verifyOptions(e, "mode", "nos::genThumbnailOp"), o.verifyParamValid("mode", e.mode, Object.keys(r), "nos::genThumbnailOp"), 
                "contain" === e.mode ? o.verifyParamAtLeastPresentOne(e, "width height", "nos::genThumbnailOp") : o.verifyOptions(e, "width height", "nos::genThumbnailOp"), 
                o.undef(e.width) && (e.width = 0), o.undef(e.height) && (e.height = 0), o.verifyParamType("width", e.width, "number", "nos::genThumbnailOp"), 
                o.verifyParamMin("width", e.width, 0, "nos::genThumbnailOp"), o.verifyParamType("height", e.height, "number", "nos::genThumbnailOp"), 
                o.verifyParamMin("height", e.height, 0, "nos::genThumbnailOp");
                var t = Math.round(e.width), n = Math.round(e.height), i = new a({
                    type: e.type,
                    thumbnailMode: r[e.mode],
                    thumbnailWidth: t,
                    thumbnailHeight: n
                });
                if ("crop" === e.mode && o.notundef(e.axis)) {
                    o.undef(e.axis.x) && (e.axis.x = 5), o.undef(e.axis.y) && (e.axis.y = 5), o.verifyParamMin("axis.x", e.axis.x, 0, "nos::genThumbnailOp"), 
                    o.verifyParamMax("axis.x", e.axis.x, 10, "nos::genThumbnailOp"), o.verifyParamMin("axis.y", e.axis.y, 0, "nos::genThumbnailOp"), 
                    o.verifyParamMax("axis.y", e.axis.y, 10, "nos::genThumbnailOp");
                    var s = Math.round(e.axis.x), c = Math.round(e.axis.y);
                    i.thumbnailAxisX = s, i.thumbnailAxisY = c;
                }
                return o.notundef(e.enlarge) && (o.verifyParamType("enlarge", e.enlarge, "boolean", "nos::genThumbnailOp"), 
                e.enlarge && (i.thumbnailEnlarge = 1)), i.thumbnailToStatic = this.options.thumbnailToStatic ? 1 : 0, 
                i;
            }), i.getNosOriginUrl = function(e) {
                o.verifyOptions(e, "safeShortUrl", !0, "", "nos::getNosOriginUrl"), o.verifyParamType("safeShortUrl", e.safeShortUrl, "string", "nos::getNosOriginUrl"), 
                /^http(s)?:/.test(e.safeShortUrl) && ~e.safeShortUrl.indexOf("im_url=1") ? (this.processCallback(e), 
                this.sendCmd("getNosOriginUrl", {
                    nosFileUrlTag: {
                        safeUrl: e.safeShortUrl
                    }
                }, e.callback)) : e.done(new c("参数 “safeShortUrl” 内容非文件安全短链", {
                    callFunc: "nos: getNosOriginUrl"
                }), e);
            };
        }, function(e, t, n) {
            var r, o = n(16), i = o.genUrlSep, a = o.url2object, s = o.object2url, c = n(0), u = n(7).fn;
            u.viewImageSync = function(e) {
                var t = this.options;
                c.verifyOptions(e, "url", "nos::viewImageSync");
                var n = e.url, r = a(n), o = r.protocol, i = r.hostname, u = r.path, l = r.query;
                if ("boolean" == typeof e.strip && (l.stripmeta = e.strip ? 1 : 0), "number" == typeof e.quality && (c.verifyParamMin("quality", e.quality, 0, "nos::viewImageSync"), 
                c.verifyParamMax("quality", e.quality, 100, "nos::viewImageSync"), l.quality = Math.round(e.quality)), 
                "boolean" == typeof e.interlace && (l.interlace = e.interlace ? 1 : 0), "number" == typeof e.rotate && (l.rotate = Math.round(e.rotate)), 
                "object" == _typeof(e.thumbnail)) {
                    var d = e.thumbnail.mode || "crop", f = e.thumbnail.width, p = e.thumbnail.height;
                    if (f >= 0 && p >= 0 && f < 4096 && p < 4096 && (f > 0 || p > 0)) {
                        switch (d) {
                          case "crop":
                            d = "y";
                            break;

                          case "contain":
                            d = "x";
                            break;

                          case "cover":
                            d = "z";
                            break;

                          default:
                            d = "x";
                        }
                        l.thumbnail = "".concat(f).concat(d).concat(p);
                    }
                }
                if (t.downloadUrl) {
                    var m = a(e.url), g = t.downloadUrl, h = m.path, y = h.indexOf("/");
                    if (-1 !== y) {
                        var v = h.substring(0, y), b = h.substring(y + 1);
                        g = g.replace("{bucket}", v).replace("{object}", b);
                    }
                    var T = a(g);
                    return s({
                        protocol: T.protocol,
                        hostname: T.hostname,
                        path: T.path,
                        query: c.merge(T.query, l)
                    });
                }
                return s({
                    protocol: o,
                    hostname: i,
                    path: u,
                    query: l
                });
            }, u.viewImageStripMeta = function(e) {
                c.verifyOptions(e, "url strip", "nos::viewImageStripMeta"), c.verifyParamType("strip", e.strip, "boolean", "nos::viewImageStripMeta");
                var t = "stripmeta=" + (e.strip ? 1 : 0), n = i(e.url);
                return e.url + n + t;
            }, u.viewImageQuality = function(e) {
                c.verifyOptions(e, "url quality", "nos::viewImageQuality"), c.verifyParamType("quality", e.quality, "number", "nos::viewImageQuality"), 
                c.verifyParamMin("quality", e.quality, 0, "nos::viewImageQuality"), c.verifyParamMax("quality", e.quality, 100, "nos::viewImageQuality");
                var t = "quality=" + Math.round(e.quality), n = i(e.url);
                return e.url + n + t;
            }, u.viewImageInterlace = function(e) {
                c.verifyOptions(e, "url", "nos::viewImageInterlace");
                var t = i(e.url);
                return e.url + t + "interlace=1";
            }, u.viewImageRotate = function(e) {
                for (c.verifyOptions(e, "url angle", "nos::viewImageRotate"), c.verifyParamType("angle", e.angle, "number", "nos::viewImageRotate"); e.angle < 0; ) e.angle = e.angle + 360;
                e.angle = e.angle % 360;
                var t = "rotate=" + Math.round(e.angle), n = i(e.url);
                return e.url + n + t;
            }, u.viewImageBlur = function(e) {
                c.verifyOptions(e, "url radius sigma", "nos::viewImageBlur"), c.verifyParamType("radius", e.radius, "number", "nos::viewImageBlur"), 
                c.verifyParamMin("radius", e.radius, 1, "nos::viewImageBlur"), c.verifyParamMax("radius", e.radius, 50, "nos::viewImageBlur"), 
                c.verifyParamType("sigma", e.sigma, "number", "nos::viewImageBlur"), c.verifyParamMin("sigma", e.sigma, 0, "nos::viewImageBlur");
                var t = "blur=" + Math.round(e.radius) + "x" + Math.round(e.sigma), n = i(e.url);
                return e.url + n + t;
            }, u.viewImageCrop = function(e) {
                c.verifyOptions(e, "url x y width height", "nos::viewImageCrop"), c.verifyParamType("x", e.x, "number", "nos::viewImageCrop"), 
                c.verifyParamMin("x", e.x, 0, "nos::viewImageCrop"), c.verifyParamType("y", e.y, "number", "nos::viewImageCrop"), 
                c.verifyParamMin("y", e.y, 0, "nos::viewImageCrop"), c.verifyParamType("width", e.width, "number", "nos::viewImageCrop"), 
                c.verifyParamMin("width", e.width, 0, "nos::viewImageCrop"), c.verifyParamType("height", e.height, "number", "nos::viewImageCrop"), 
                c.verifyParamMin("height", e.height, 0, "nos::viewImageCrop");
                var t = "crop=" + Math.round(e.x) + "_" + Math.round(e.y) + "_" + Math.round(e.width) + "_" + Math.round(e.height), n = i(e.url);
                return e.url + n + t;
            }, u.viewImageThumbnail = (r = {
                cover: "z",
                contain: "x",
                crop: "y"
            }, function(e) {
                c.verifyOptions(e, "url mode", "nos::viewImageThumbnail"), c.verifyParamValid("mode", e.mode, Object.keys(r), "nos::viewImageThumbnail"), 
                "contain" === e.mode ? c.verifyParamAtLeastPresentOne(e, "width height", "nos::viewImageThumbnail") : c.verifyOptions(e, "width height", "nos::viewImageThumbnail"), 
                c.undef(e.width) && (e.width = 0), c.undef(e.height) && (e.height = 0), c.verifyParamType("width", e.width, "number", "nos::viewImageThumbnail"), 
                c.verifyParamMin("width", e.width, 0, "nos::viewImageThumbnail"), c.verifyParamType("height", e.height, "number", "nos::viewImageThumbnail"), 
                c.verifyParamMin("height", e.height, 0, "nos::viewImageThumbnail");
                var t = Math.round(e.width), n = Math.round(e.height), o = "thumbnail=" + t + r[e.mode] + n;
                "crop" === e.mode && c.notundef(e.axis) && (c.undef(e.axis.x) && (e.axis.x = 5), 
                c.undef(e.axis.y) && (e.axis.y = 5), c.verifyParamMin("axis.x", e.axis.x, 0, "nos::viewImageThumbnail"), 
                c.verifyParamMax("axis.x", e.axis.x, 10, "nos::viewImageThumbnail"), c.verifyParamMin("axis.y", e.axis.y, 0, "nos::viewImageThumbnail"), 
                c.verifyParamMax("axis.y", e.axis.y, 10, "nos::viewImageThumbnail"), o = o + "&axis=" + Math.round(e.axis.x) + "_" + Math.round(e.axis.y)), 
                c.notundef(e.enlarge) && (c.verifyParamType("enlarge", e.enlarge, "boolean", "nos::viewImageThumbnail"), 
                e.enlarge && (o += "&enlarge=1"));
                var a = i(e.url);
                return e.url + a + o;
            });
        }, function(e, t, n) {
            var r = n(0), o = n(7).fn;
            function i(e, t, n, r) {
                var o = !1, i = "";
                if (1 === n ? e.indexOf(t) >= 0 && (o = !0, i = t) : 2 === n && ((i = new RegExp(t, "g")).test(e) && (o = !0)), 
                o && "" !== i) switch (r) {
                  case 1:
                    return e.replace(i, "**");

                  case 2:
                    return {
                        code: 2
                    };

                  case 3:
                    return {
                        code: 3
                    };
                }
                return e;
            }
            function a(e, t) {
                for (var n = t.match, r = t.operate, o = e, a = 0; a < t.keys.length; a++) {
                    var s = t.keys[a], c = s.match || n, u = s.operate || r;
                    try {
                        if ("object" == _typeof(o = i(o, s.key, c, u))) return o;
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        this.logger.warn("misc::filterContent: js cannot parse this regexp ", e);
                    }
                }
                return o;
            }
            o.uploadSdkLogUrl = function(e) {
                return r.verifyOptions(e, "url", "misc::uploadSdkLogUrl"), this.cbAndSendCmd("uploadSdkLogUrl", e);
            }, o.getClientAntispamLexicon = function(e) {
                var t = this, n = (e = e || {}).done;
                n instanceof Function || (n = function() {}), e = {
                    clientAntispam: {
                        version: 0
                    }
                };
                var r = this;
                return this.protocol.sendCmd("getClientAntispam", e, function(e, o, i) {
                    e ? (r.protocol.logger.error("misc::getClientAntispamLexicon:", e), n.call(t, e, {})) : (r.antispamLexicon = i.clientAntispam || {}, 
                    n.call(t, null, i));
                });
            }, o.filterClientAntispam = function(e) {
                var t = e.content, n = e.antispamLexicon;
                if (!t) return {
                    code: 404,
                    errmsg: "待反垃圾文本content不存在"
                };
                n = n || this.antispamLexicon || {};
                var r = this.antispamLexicon && this.antispamLexicon.thesaurus;
                if (!r) return {
                    code: 404,
                    errmsg: "没有反垃圾词库或者词库格式不合法"
                };
                try {
                    r = JSON.parse(r).thesaurus;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return this.protocol.logger.error("misc::filterClientAntispam: parse thesaurus error"), 
                    {
                        code: 500,
                        errmsg: "反垃圾词库格式不合法"
                    };
                }
                for (var o = t, i = 0; i < r.length; i++) if ("object" == _typeof(o = a.call(this, o, r[i]))) {
                    if (2 === o.code) return {
                        code: 200,
                        type: 2,
                        errmsg: "建议拒绝发送",
                        content: t,
                        result: ""
                    };
                    if (3 === o.code) return {
                        code: 200,
                        type: 3,
                        errmsg: "建议服务器处理反垃圾，发消息带上字段clientAntiSpam",
                        content: t,
                        result: t
                    };
                }
                return o === t ? {
                    code: 200,
                    type: 0,
                    errmsg: "",
                    content: t,
                    result: o
                } : {
                    code: 200,
                    type: 1,
                    errmsg: "已对特殊字符做了过滤",
                    content: t,
                    result: o
                };
            }, o.getServerTime = function(e) {
                this.processCallback(e), this.sendCmd("getServerTime", {}, e.callback);
            }, o.getNosAccessToken = function(e) {
                r.verifyOptions(e, "url", "misc::getNosAccessToken"), this.processCallback(e);
                var t = {
                    url: e.url
                };
                e.userAgent && (t.userAgent = e.userAgentv), e.ext && (t.ext = e.ext), this.sendCmd("getNosAccessToken", {
                    nosAccessTokenTag: t
                }, function(t, n, r) {
                    var o = r && r.nosAccessTokenTag && r.nosAccessTokenTag.token, i = e.url, a = o ? {
                        token: o,
                        resUrl: i.indexOf("?") ? i + "&token=" + o : i + "?token=" + o
                    } : {};
                    e.done(t, a);
                });
            }, o.deleteNosAccessToken = function(e) {
                r.verifyOptions(e, "token", "misc::deleteNosAccessToken"), this.processCallback(e), 
                this.sendCmd("deleteNosAccessToken", {
                    nosAccessTokenTag: {
                        token: e.token
                    }
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(7).fn, o = n(0), i = n(10), a = n(1), s = n(11);
            (s = s || {}).name = s.name || "", s.version = s.version || "", r.reportLogs = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this, n = t.options, r = a.ntServerAddress;
                if (r) {
                    var c = a.info;
                    e = o.merge(e, {
                        appkey: n.appKey,
                        uid: n.account,
                        os: "web",
                        session: t.protocol.sdkSession || "",
                        ver: c.sdkVersion,
                        type: t.subType,
                        platform: "".concat(s.name.toLowerCase()).concat(s.version.replace(/(\.\d+)+$/, ""))
                    });
                    var u = r + o.genUrlSep(r), l = [];
                    for (var d in e) l.push("".concat(d, "=").concat(e[d]));
                    u += l.join("&"), i(u, {
                        proxyUrl: o.url2origin(u) + "/lbs/res/cors/nej_proxy_frame.html",
                        timeout: a.xhrTimeout,
                        onload: function() {},
                        onerror: function(e) {
                            t.logger.error("report::ajax report error", e);
                        }
                    });
                }
            };
        }, function(e, t, n) {
            var r = n(7).fn, o = n(0), i = n(24), a = n(46);
            r.signalingCreate = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.type, n = e.channelName, r = e.ext;
                return o.verifyOptions(e, "type", "api::signalling"), this.sendCmdUsePromise("signalingCreate", {
                    avSignalTag: {
                        type: t,
                        channelName: n,
                        ext: r
                    }
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingDelay = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return o.verifyOptions(e, "channelId", "api::signalling"), this.sendCmdUsePromise("signalingDelay", {
                    avSignalTag: e
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingClose = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.offlineEnabled;
                return o.verifyOptions(e, "channelId", "api::signalling"), this.sendCmdUsePromise("signalingClose", {
                    avSignalTag: o.merge(e, {
                        isSave: !0 === t ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingJoin = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.offlineEnabled;
                return o.verifyOptions(e, "channelId", "api::signalling"), this.sendCmdUsePromise("signalingJoin", {
                    avSignalTag: o.merge(e, {
                        isSave: !0 === t ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag, n = t.members;
                    return "string" == typeof t.members && (n = JSON.parse(t.members).map(function(e) {
                        return a.parseAvSignalMember(e);
                    })), t.members = n, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingLeave = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.offlineEnabled;
                return o.verifyOptions(e, "channelId", "api::signalling"), this.sendCmdUsePromise("signalingLeave", {
                    avSignalTag: o.merge(e, {
                        isSave: !0 === t ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingGetChannelInfo = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.channelName;
                return o.verifyOptions(e, "channelName", "api::signalling"), this.sendCmdUsePromise("signalingGetChannelInfo", {
                    avSignalTag: {
                        channelName: t
                    }
                }).then(function(e) {
                    var t = e.avSignalTag, n = t.members;
                    return "string" == typeof t.members && (n = JSON.parse(t.members).map(function(e) {
                        return a.parseAvSignalMember(e);
                    })), t.members = n, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingInvite = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.account, n = e.offlineEnabled, r = e.pushInfo, i = void 0 === r ? {} : r;
                o.verifyOptions(e, "channelId requestId account", "api::signalling"), "object" == _typeof(i.pushPayload) && (i.pushPayload = JSON.stringify(i.pushPayload));
                var s = o.merge(e, i, {
                    to: t,
                    isSave: !0 === n ? 1 : 0,
                    needPush: !0 === i.needPush ? 1 : 0,
                    needBadge: !1 === i.needBadge ? 0 : 1
                });
                return this.sendCmdUsePromise("signalingInvite", {
                    avSignalTag: s
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, t.needBadge = 1 === t.needBadge, t.needPush = 1 === t.needPush, 
                    delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingCancel = function(e) {
                var t = e.account, n = e.offlineEnabled;
                return o.verifyOptions(e, "channelId requestId account", "api::signalling"), this.sendCmdUsePromise("signalingCancel", {
                    avSignalTag: o.merge(e, {
                        to: t,
                        isSave: !0 === n ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingCreateAndJoin = function(e) {
                var t = this, n = e.channelName, r = e.uid, i = void 0 === r ? 0 : r, a = e.offlineEnabled, s = void 0 === a || a, c = e.attachExt, u = void 0 === c ? "" : c;
                return this.signalingCreate(e).catch(function(e) {
                    return 10405 === e.code ? (t.logger.warn("api::avSignal:signalingCall room already exists:", e), 
                    t.signalingGetChannelInfo({
                        channelName: n
                    })) : Promise.reject(e);
                }).then(function(e) {
                    var n = {
                        channelId: e.channelId,
                        offlineEnabled: s,
                        attachExt: u
                    };
                    return i && o.merge(n, {
                        uid: i
                    }), t.signalingJoin(n);
                });
            }, r.signalingCall = function(e) {
                var t = this, n = e.account, r = e.offlineEnabled, i = e.requestId;
                o.verifyOptions(e, "type requestId account", "api::signalling");
                var a = "";
                return this.signalingCreateAndJoin(e).then(function(o) {
                    a = o.channelId || a, t.logger.info("api::avSignal:signalingCall join:", a);
                    var s = {
                        channelId: a,
                        account: n,
                        requestId: i,
                        offlineEnabled: r,
                        attachExt: e.attachExt || "",
                        pushInfo: e.pushInfo || {}
                    };
                    return t.signalingInvite(s);
                });
            }, r.signalingReject = function(e) {
                var t = e.account, n = e.offlineEnabled;
                return o.verifyOptions(e, "channelId requestId account", "api::signalling"), this.sendCmdUsePromise("signalingReject", {
                    avSignalTag: o.merge(e, {
                        to: t,
                        isSave: !0 === n ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingAccept = function(e) {
                var t = this, n = e.account, r = e.offlineEnabled;
                return o.verifyOptions(e, "channelId requestId account", "api::signalling"), this.sendCmdUsePromise("signalingAccept", {
                    avSignalTag: o.merge(e, {
                        to: n,
                        isSave: !0 === r ? 1 : 0
                    })
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return t.offlineEnabled = 1 === t.isSave, delete t.isSave, Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                }).then(function(n) {
                    if (e.autoJoin) {
                        var r = {
                            channelId: e.channelId,
                            offlineEnabled: e.offlineEnabled,
                            attachExt: e.joinAttachExt,
                            uid: e.uid
                        };
                        return t.signalingJoin(r);
                    }
                    return n;
                });
            }, r.signalingControl = function(e) {
                var t = e.account;
                return o.verifyOptions(e, "channelId", "api::signalling"), this.sendCmdUsePromise("signalingControl", {
                    avSignalTag: o.merge(e, t ? {
                        to: t
                    } : {})
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingSync = function() {
                return this.sendCmdUsePromise("sync", {
                    sync: {
                        avSignal: 0
                    }
                }).then(function(e) {
                    var t = e.avSignalTag;
                    return Promise.resolve(t);
                }).catch(function(e) {
                    return Promise.reject(a.parseAvSignalError(e));
                });
            }, r.signalingMarkMsgRead = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                o.verifyOptions(e, "msgid", "api::signalling");
                var t, n = i.idMap.avSignal;
                return t = "string" == typeof e.msgid ? [ e.msgid ] : e.msgid, this.sendCmd("batchMarkRead", {
                    sid: n.id,
                    cid: n.signalingNotify,
                    ids: t
                });
            };
        }, function(e, t, n) {
            var r = n(12).fn, o = n(4), i = n(82), a = n(47), s = n(1), c = n(9), u = n(0);
            function l(e) {
                this.logger.log("offlineListener enter"), this.forceDisconnect(), this.options.ondisconnect && this.options.ondisconnect({
                    callFunc: "link::offlineListener",
                    message: "offlineListener disconnect"
                }), this.onDisconnect("link::offlineListener");
            }
            function d() {
                var e = this;
                this.logger.log("onlineListener start"), this && this.isConnected() && !this.connecting ? (this.stopHeartbeat(), 
                this.sendCmd("heartbeat", null, function(t) {
                    if (t) {
                        e.logger.info("onlineListener heartbeat detect error", t);
                        try {
                            e.forceDisconnect(), e.onDisconnect("link::onHeartbeat");
                        } catch (t) {
                            t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                            e.logger.info("onlineListener heartbeat websocket.onclose", t);
                        }
                    } else e.logger.log("onlineListener heartbeat detect success");
                })) : this.logger.log("onlineListener disconnected or connecting", this && this.isConnected(), this.connecting);
            }
            r.initConnect = function() {
                this.socket = null, this.retryCount = 0, this.connecting = !1, this.shouldReconnect = !0, 
                this.hasNotifyDisconnected = !1, this.doLogout = !1, c.initUniErrReport({
                    appKey: this.options.appKey
                });
            }, r.resetConnect = function() {
                var e = this.options;
                u.notundef(e.needReconnect) ? (u.verifyParamType("needReconnect", e.needReconnect, "boolean", "link::resetConnect"), 
                this.needReconnect = e.needReconnect) : this.needReconnect = !0, this.logger.info("link::resetConnect: needReconnect " + this.needReconnect), 
                u.notundef(e.reconnectionAttempts) && u.verifyParamType("reconnectionAttempts", e.reconnectionAttempts, "number", "link::resetConnect"), 
                u.notundef(e.noCacheLinkUrl) && u.verifyParamType("noCacheLinkUrl", e.noCacheLinkUrl, "boolean", "link::resetConnect"), 
                this.reconnectionAttempts = "number" == typeof e.reconnectionAttempts ? e.reconnectionAttempts : 1 / 0, 
                this.backoff = new i({
                    min: s.reconnectionDelay,
                    max: s.reconnectionDelayMax,
                    jitter: s.reconnectionJitter
                });
            }, r.connect = function() {
                if (clearTimeout(this.connectTimer), this.isConnected()) this.logger.warn("link::connect: already connected"); else if (this.connecting) this.logger.warn("link::connect: already connecting"); else if (c.restore(), 
                this.autoconnect || c.startUniErrCache("login", {
                    user_id: this.options.account,
                    action: "manual_login"
                }), this.connecting = !0, this.hasNotifyDisconnected = !1, this.shouldReconnect = !0, 
                this.socket && this.forceDisconnect(), this.logger.info("link::connect: connect to new socket, autoconnect is " + this.autoconnect), 
                "string" == typeof this.options.socketUrl) this.connectToUrl(this.options.socketUrl); else {
                    var e = this.getNextSocketUrl();
                    e && !this.options.noCacheLinkUrl ? this.connectToUrl(e) : this.refreshSocketUrl();
                }
            }, r.getNextSocketUrl = function() {
                return this.socketUrls.shift();
            }, r.isConnected = function() {
                return !!this.socket && !!this.socket.socket && this.socket.socket.connected;
            }, r.connectToUrl = function(e) {
                var t = this;
                if (e = e || "", t.url = e, t.logger.info("link::connectToUrl: " + e), "undefined" == typeof window) {
                    var n = u.getGlobal(), r = e.split(":");
                    n && !n.location && r.length > 1 && (n.location = {
                        protocol: r.shift(),
                        port: r.pop(),
                        hostname: r.join("")
                    }), this.options.transports = [ "websocket" ];
                }
                var o = this.options.transports || [ "websocket", "xhr-polling" ];
                t.socket = a.connect(e, {
                    transports: o,
                    reconnect: !1,
                    "force new connection": !0,
                    "connect timeout": s.connectTimeout
                }), t.logger.info("link::connectToUrl: socket url: ".concat(e, ", transports: ").concat(JSON.stringify(o))), 
                t.handshakeUrl = e, t.socket.on("connect", t.onConnect.bind(t)), t.socket.on("handshake_failed", t.onHandshakeFailed.bind(t)), 
                t.socket.on("connect_failed", t.onConnectFailed.bind(t)), t.socket.on("error", t.onError.bind(t)), 
                t.socket.on("message", t.onMessage.bind(t)), t.socket.on("disconnect", function(n) {
                    t.logger.warn("link::connectToUrl: socket url: ".concat(e, ", disconnected")), t.hasLogin = !1, 
                    t.doLogout ? t.logout() : t.onDisconnect("link::socketDisconnect");
                });
            }, r.disconnect = function(e) {
                var t = this;
                function n(n) {
                    t.logger.info("link::disconnect: socket finally closed, ", n), clearTimeout(t.disconnectCallbackTimer), 
                    t.msgAckBufferManager && t.msgAckBufferManager.clear(), e(n);
                }
                e instanceof Function || (e = function() {}), clearTimeout(t.connectTimer), t.disconnectCallbackTimer = setTimeout(function() {
                    e.call(t, "mark disconnected due to timeout");
                }, 1e4), t.mixStorePolicy = null, t.appGrayConfig = null, clearTimeout(t.mixStorePolicyClock), 
                this.onlineListener && "undefined" != typeof window && u.isFunction(window.removeEventListener) && (window.removeEventListener("online", this.onlineListener), 
                window.removeEventListener("offline", this.offlineListener)), t.socket && t.socket.socket && t.socket.socket.transport ? t.socket.socket.transport.onDisconnectDone = function(e) {
                    n(e);
                } : n(null), t.isConnected() ? (t.logger.warn("link::disconnect: start disconnecting"), 
                t.logout()) : t.connecting ? (t.logger.warn("link::disconnect: abort connecting"), 
                t.disconnectSocket()) : (t.logger.warn("link::disconnect: start otherwise"), t.connecting = !1, 
                t.shouldReconnect = !1, t.socket = null, t.autoconnect = !1, t.options.ondisconnect({
                    callFunc: "link::disconnect",
                    message: "manually disconnect status"
                }));
            }, r.onConnect = function() {
                this.backoff && this.backoff.reset(), this.retryCount = 0, this.connecting = !1, 
                this.shouldReconnect = !0, this.hasNotifyDisconnected = !1, this.logger.info("link::onConnect: socket onconnected, start login"), 
                c.updateUniSuccCache("login", {
                    operation_type: "TCP",
                    target: this.url
                }), this.login(), this.api.reportLogs({
                    event: "ws_connected"
                });
            }, r.onHandshakeFailed = function() {
                this.logger.warn("link::onHandshakeFailed: shandshake failed"), this.api.reportLogs({
                    event: "ws_handshake_failed"
                }), c.updateUniErrCache("login", {
                    operation_type: "TCP",
                    error: "ws_handshake_failed",
                    target: this.handshakeUrl
                }), this.onDisconnect("link::onHandshakeFailed");
            }, r.onConnectFailed = function() {
                this.api.reportLogs({
                    event: "ws_connect_failed"
                }), this.onDisconnect("link::onConnectFailed");
            }, r.onError = function() {
                var e = arguments[0];
                if (e) {
                    if (c.updateUniErrCache("login", {
                        operation_type: "TCP",
                        error: "connect_timeout"
                    }), this.api.reportLogs({
                        event: "connect_timeout"
                    }), void 0 !== e.x5ImgDecodeStatus) return;
                    if ("[object Object]" === Object.prototype.toString.call(e) && Object.keys(e).length <= 0) return;
                    this.onMiscError("连接错误", new o(e, "LINK_ERROR", {
                        callFunc: "link::onError"
                    }));
                }
                this.connecting = !1;
            }, r.onDisconnect = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                this.logger.warn("socket::onDisconnect: " + e), this.connecting = !1, this.markAllCallbackInvalid(o.newNetworkError({
                    callFunc: e
                })), this.msgAckBufferManager && this.msgAckBufferManager.clear(), this.stopHeartbeat(), 
                this.reconnect();
            }, r.willReconnect = function() {
                return this.shouldReconnect && this.needReconnect && this.retryCount < this.reconnectionAttempts;
            }, r.reconnect = function() {
                this.willReconnect() ? (c.startUniErrCache("login", {
                    user_id: this.options.account,
                    action: "auto_login"
                }), this.socket && (this.logger.info("link::reconnect: try to force disconnect"), 
                this.forceDisconnect()), this.doReconnect()) : this.notifyDisconnect();
            }, r.doReconnect = function() {
                var e = this;
                this.logger.warn("doReconnect"), e.socket = null, e.retryCount++, e.hasLogin = !1;
                var t = e.backoff.duration();
                e.logger.info("link::reconnect: will retry after ".concat(t, "ms, retryCount ").concat(e.retryCount));
                var n = e.options.onwillreconnect({
                    retryCount: e.retryCount,
                    duration: t
                });
                clearTimeout(e.connectTimer), e.connectTimer = setTimeout(function() {
                    1 == +e.options.authType && n instanceof Promise ? (e.logger.info("link::reconnect: wait onwillreconnect promise"), 
                    n.finally(function() {
                        return e.connect();
                    })) : e.connect();
                }, t);
            }, r.notifyConnectError = function(e) {
                var t = o.newConnectError({
                    message: e,
                    callFunc: "link::notifyConnectError"
                });
                this.logger.error("link::notifyConnectError:", t), this.options.onerror(t);
            }, r.notifyDisconnect = function(e) {
                this.hasNotifyDisconnected ? this.logger.warn("notifyDisconnect:: already notified") : (this.hasNotifyDisconnected = !0, 
                this.disconnectSocket(), this.forceDisconnect(), (e = e || new o()).retryCount = this.retryCount, 
                e.willReconnect = this.willReconnect(), this.backoff && this.backoff.reset(), this.retryCount = 0, 
                this.autoconnect = !1, this.logger.info("link::notifyDisconnect: ondisconnected", e), 
                this.options.ondisconnect(e), c.concludeUniErrCache("login", 1), this.onWbNotifyHangup instanceof Function && this.onWbNotifyHangup({
                    content: {
                        account: this.account,
                        channelId: null,
                        timetag: +Date()
                    }
                }));
            }, r.disconnectSocket = function() {
                if (this.isConnected() || this.connecting) {
                    this.connecting = !1, this.shouldReconnect = !1;
                    try {
                        this.socket.disconnect();
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        this.socket && "function" == typeof this.socket.removeAllListeners && this.socket.removeAllListeners(), 
                        this.logger.info("link::disconnectSocket: disconnect failed, error ", e);
                    }
                }
            }, r.initOnlineListener = function(e) {
                this.needReconnect && this.options && this.options.quickReconnect ? "undefined" != typeof window && u.isFunction(window.addEventListener) ? this.onlineListener || (this.onlineListener = d.bind(this), 
                this.offlineListener = l.bind(this), this.logger.info("initOnlineListener success"), 
                window.addEventListener("online", this.onlineListener), window.addEventListener("offline", this.offlineListener)) : this.logger.warn("initOnlineListener no window.addEventListener") : this.logger.warn("initOnlineListener no quickReconnect");
            }, r.forceDisconnect = function() {
                var e = this.socket || {};
                this.socket = null;
                try {
                    "function" == typeof e.removeAllListeners && e.removeAllListeners(), "function" == typeof e.disconnect && e.disconnect();
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    this.logger.error("forceDisconnect:: oldSocket error", e || e.message);
                }
                this.hasLogin = !1;
            };
        }, function(e, t) {
            function n(e) {
                e = e || {}, this.ms = e.min || 100, this.max = e.max || 1e4, this.factor = e.factor || 2, 
                this.jitter = e.jitter > 0 && e.jitter <= 1 ? e.jitter : 0, this.attempts = 0;
            }
            e.exports = n, n.prototype.duration = function() {
                var e = this.ms * Math.pow(this.factor, this.attempts++);
                if (this.jitter) {
                    var t = Math.random(), n = Math.floor(t * this.jitter * e);
                    e = 0 == (1 & Math.floor(10 * t)) ? e - n : e + n;
                }
                return 0 | Math.min(e, this.max);
            }, n.prototype.reset = function() {
                this.attempts = 0;
            }, n.prototype.setMin = function(e) {
                this.ms = e;
            }, n.prototype.setMax = function(e) {
                this.max = e;
            }, n.prototype.setJitter = function(e) {
                this.jitter = e;
            };
        }, function(e, t) {
            e.exports = function(e) {
                return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), 
                Object.defineProperty(e, "loaded", {
                    enumerable: !0,
                    get: function() {
                        return e.l;
                    }
                }), Object.defineProperty(e, "id", {
                    enumerable: !0,
                    get: function() {
                        return e.i;
                    }
                }), e.webpackPolyfill = 1), e;
            };
        }, function(e, t, n) {
            var r, o = n(12).fn, i = n(4), a = n(11), s = n(26), c = n(5), u = n(1), l = n(9), d = n(0), f = d.notundef;
            o.login = function() {
                this.doLogin();
            }, o.doLogin = function() {
                var e = this, t = this;
                Promise.resolve().then(function() {
                    return t.assembleLogin();
                }).then(function(n) {
                    var r = e.socket && e.socket.socket && e.socket.socket.sessionid;
                    if (r) {
                        if (e.socketIds || (e.socketIds = {}), e.socketIds[r]) return void e.logger.warn("onConnect::repeat login", r);
                        e.socketIds[r] = !0;
                    } else e.logger.warn("onConnect:: no socketId ", e.socket && e.socket.socket);
                    e.logger.warn("link::doLogin: " + r + " appLogin is " + n.login.appLogin), t.sendCmd("login", _objectSpread({}, n), t.onLogin.bind(t));
                });
            }, o.genSessionKey = (r = {}, function() {
                var e = this.name;
                return r[e] = r[e] || d.guid();
            }), o.assembleIMLogin = function() {
                var e = this.options, t = e.account;
                this.sdkSession = this.genSessionKey();
                var n = {
                    appLogin: this.autoconnect ? 0 : 1,
                    appKey: e.appKey,
                    account: t,
                    token: e.token,
                    sdkVersion: u.info.sdkVersion,
                    sdkHumanVersion: u.info.sdkHumanVersion,
                    protocolVersion: u.info.protocolVersion,
                    os: "[object Object]" === a.os.toString() ? a.os.family : a.os.toString(),
                    browser: a.name + " " + a.version,
                    clientType: u.CLIENTTYPE || 16,
                    session: this.sdkSession,
                    deviceId: c.deviceId,
                    isReactNative: u.isRN ? 1 : 0,
                    customTag: e.customTag || "",
                    sdkType: 0
                };
                return n.userAgent = "Native/" + u.info.sdkHumanVersion, u.isBrowser ? n.sdkType = 0 : u.isRN ? n.sdkType = 2 : u.isWeixinApp && (n.sdkType = 6), 
                e.customClientType && (n.customClientType = +e.customClientType), e.authType && (n.authType = +e.authType), 
                e.loginExt && (n.loginExt = e.loginExt), n;
            }, o.onLogin = function(e, t) {
                var n = this, r = 0;
                n.loginResult = t, e ? t && !t.chatroom && (l.updateUniErrCache("login", {
                    operation_type: "protocol",
                    error: e
                }), l.concludeUniErrCache("login", 1), n.onAuthError(e, "link::onLogin")) : (this.heartbeatFail = 0, 
                this.hasLogin = !0, this.autoconnect = !0, n.startHeartbeat(), n.afterLogin(t), 
                n.initOnlineListener(), r = 5e3, t.chatroom || (l.updateUniSuccCache("login", {
                    operation_type: "protocol",
                    target: "2-2"
                }), l.concludeUniErrCache("login", 0))), !0 === n.options.logReport && setTimeout(function() {
                    var e = {
                        appKey: n.options.appKey,
                        sdk_ver: u.info.version,
                        deviceId: c.deviceId
                    };
                    t.chatroom || l.reportErrEvent(e);
                }, r);
            }, o.afterLogin = d.emptyFunc, o.notifyLogin = function() {
                var e = this.loginResult;
                this.logger.info("link::notifyLogin: on connect", e), this.options.onconnect(e);
            }, o.logout = function() {
                l.pause();
                var e = "done disconnect";
                if (this.doLogout) return this.doLogout = !1, e = "done logout", void this.onAuthError(new i(e, "logout"), "link::logout");
                if (this.isConnected()) {
                    var t = new i(e, "logout");
                    this.onAuthError(t, "link::logout");
                }
            }, o.onKicked = function(e) {
                var t = e.content, n = t.from, r = t.reason, o = t.custom, a = t.customClientType, c = {
                    reason: this.kickedReasons[r] || "unknown",
                    message: this.kickedMessages[r] || "未知原因"
                };
                if (f(n) && (c.from = s.reverseType(n)), f(o) && (c.custom = o), +a > 0 && (c.customClientType = a), 
                this.logger.warn("link::onKicked:", c), "silentlyKick" !== c.reason) {
                    var u = new i("被踢了", "kicked");
                    d.merge(u, c), this.onAuthError(u, "link::onKicked");
                } else this.logger.warn("link::onKicked: silentlyKick"), this.forceDisconnect(), 
                this.onDisconnect("link::onKicked");
            }, o.onAuthError = function(e, t) {
                var n = e && e.code;
                if (this.logger.error("onAuthError ", t, n), /^(Error_Internet_Disconnected|Error_Timeout|Error_Connection_Socket_State_not_Match)$/.test(n)) return this.forceDisconnect(), 
                void this.onDisconnect("link::onAuthError::" + n);
                (e = e || i.newConnectionError({
                    callFunc: t
                })).callFunc = e.callFunc || t || null, this.shouldReconnect = !1, this.markAllCallbackInvalid(e), 
                this.notifyDisconnect(e);
            };
        }, function(e, t, n) {
            var r = n(12).fn, o = n(1);
            r.processLink = function(e) {
                switch (e.cmd) {
                  case "heartbeat":
                    this.startHeartbeat();
                }
            }, r.startHeartbeat = function() {
                var e = this;
                e.stopHeartbeat(), e.heartbeatTimer = setTimeout(function() {
                    e.sendCmd("heartbeat", null, e.onHeartbeat.bind(e));
                }, o.heartbeatInterval);
            }, r.stopHeartbeat = function() {
                this.heartbeatTimer && (clearTimeout(this.heartbeatTimer), this.heartbeatTimer = null);
            }, r.onHeartbeat = function(e, t) {
                if (e) {
                    if (this.syncing) return this.logger.warn("onHeartbeat::ignore error in connecting"), 
                    void this.startHeartbeat();
                    e.callFunc = "link::onHeartbeat", this.onCustomError("heartbeat error", e), this.heartbeatFail++, 
                    this.logger.warn("onHeartbeat::error ", e.code, e), "Error_Timeout" === e.code && (this.getOnlineStatus() ? this.heartbeatFail > 1 ? (this.forceDisconnect(), 
                    this.onDisconnect("link::onHeartbeat")) : this.sendCmd("heartbeat", null, this.onHeartbeat.bind(this)) : this.startHeartbeat());
                } else this.heartbeatFail = 0;
            }, r.getOnlineStatus = "undefined" != typeof navigator && "boolean" == typeof navigator.onLine ? function() {
                return navigator.onLine;
            } : function() {
                return !0;
            }, r.heartbeat = function() {};
        }, function(e, t, n) {
            var r = n(12).fn, o = n(45), i = n(1), a = (n(0), n(5));
            r.processMisc = function(e) {
                switch (e.cmd) {
                  case "getSimpleNosToken":
                    e.error || (e.obj = e.content.nosTokens[0]);
                    break;

                  case "getNosToken":
                    e.error || (e.obj = e.content.nosToken);
                    break;

                  case "getGrayscaleConfig":
                    e.error || (e.obj = e.content.appGrayConfigTag);
                    break;

                  case "getMixStorePolicy":
                    e.error || (e.obj = e.content.mixStorePolicyTag);
                    break;

                  case "getMixStoreToken":
                    e.error || (e.obj = e.content.mixStoreTokenTag);
                    break;

                  case "getBackSourceToken":
                    e.error || (e.obj = e.content.backSourceTokenTag);
                    break;

                  case "uploadSdkLogUrl":
                    e.error ? this.logger.error("uploadSdkLogUrl::error", e.error) : this.logger.info("uploadSdkLogUrl::success", e.obj && e.obj.url);
                    break;

                  case "notifyUploadLog":
                    e.error || (i.isRN ? this.uploadLocalLogRN() : i.isBrowser && this.uploadLocalLogWeb(), 
                    this.emitAPI({
                        type: "notifyUploadLog"
                    }));
                    break;

                  case "audioToText":
                    e.error || (e.obj.text = e.content.text);
                    break;

                  case "processImage":
                    e.obj.imageOps = o.reverseImageOps(e.obj.imageOps), e.error || (e.obj = {
                        url: e.content.url
                    });
                    break;

                  case "getNosTokenTrans":
                    e.error || (e.obj = {
                        nosToken: e.content.nosToken,
                        docId: e.content.docId
                    });
                    break;

                  case "getNosOriginUrl":
                    e.error || (e.obj = e.content.nosFileUrlTag.originUrl);
                    break;

                  case "notifyTransLog":
                    e.error || this.emitAPI({
                        type: "notifyTransLog",
                        obj: e.content.transInfo
                    });
                    break;

                  case "fetchFile":
                  case "fetchFileList":
                  case "removeFile":
                    e.error || (e.obj = e.content);
                    break;

                  case "getServerTime":
                    e.obj = e.content && e.content.time;
                    break;

                  case "getNosCdnHost":
                    this.getNosCdnHost(e);
                }
            }, r.uploadLocalLogRN = function(e) {
                if (i.isRN && a.rnfs) {
                    var t = a.rnfs, n = this, r = t.nimIndex, o = (t.nimIndex + 1) % 2;
                    t.nimPromise = t.nimPromise.then(function() {
                        return Promise.all([ t.exists(s(r)), t.exists(s(o)) ]);
                    }).then(function(e) {
                        return e && (e[0] || e[1]) ? e[0] && e[1] ? t.copyFile(s(o), s(2)).then(function() {
                            return t.readFile(s(r));
                        }).then(function(e) {
                            return t.appendFile(s(2), e);
                        }) : e[0] ? t.copyFile(s(r), s(2)) : void (e[1] && t.copyFile(s(o), s(2))) : Promise.reject();
                    }).then(function(e) {
                        return new Promise(function(e, r) {
                            n.api.previewFile({
                                filePath: s(2),
                                done: function(r, o) {
                                    if (Promise.all([ t.unlink(s(2)), t.unlink(s(1)), t.unlink(s(0)) ]).finally(function() {
                                        e();
                                    }), r) n.logger.error("nim::uploadLocalLogRN:previewFile:error", r); else {
                                        var i = o.url;
                                        i.indexOf("?") > 0 ? i += "&" : i += "?", i += "download=" + new Date().getTime() + "_rn.log", 
                                        n.api.uploadSdkLogUrl({
                                            url: i
                                        });
                                    }
                                }
                            });
                        });
                    }).catch(function(e) {
                        t.unlink(s(2)).catch(function(e) {}), n.logger.error("nim::protocol::uploadLocalLogRN", e);
                    });
                }
                function s(e) {
                    return t.DocumentDirectoryPath + "/nimlog_" + e + ".log";
                }
            }, r.uploadLocalLogWeb = function() {
                var e = this;
                !1 !== this.options.dbLog && this.logger._local ? this.logger._local.fetchLog().then(function(t) {
                    e.api.previewFile({
                        blob: new Blob([ t.logs ], {
                            type: "text/plain"
                        }),
                        done: function(n, r) {
                            if (n) e.logger.error("uploadLocalLogWeb::previewFile:error", n); else {
                                e.logger.log("uploadLocalLogWeb::previewFile:success", r);
                                var o = r.url;
                                o += (o.indexOf("?") > 0 ? "&" : "?") + "download=" + new Date().getTime() + "_web.log", 
                                e.api.uploadSdkLogUrl({
                                    url: o
                                }), e.logger._local.deleteLogs(t.time).then(function() {
                                    e.logger.log("uploadLocalLogWeb::deleteLogs success");
                                }).catch(function(t) {
                                    return e.logger.error("uploadLocalLogWeb::deleteLogs:error ,", t);
                                });
                            }
                        }
                    });
                }).catch(function(t) {
                    e.logger.error("uploadLocalLogWeb::fetchLog:error", t);
                }) : this.logger.warn("uploadLocalLogWeb::no dbLog");
            }, r.getNosCdnHost = function(e) {
                var t = this, n = e.error;
                if (n && (n.callFunc = "events::getNosCdnHost", t.onCustomError("getNosCdnHost", "EVENT_GET_NOS_CDN_HOST_ERROR", n)), 
                e.content && e.content.nosConfigTag) {
                    var r = e.content.nosConfigTag, o = "", a = "";
                    0 !== r.expire && r.cdnDomain ? -1 === r.expire ? (o = r.cdnDomain, a = r.objectNamePrefix) : (o = r.cdnDomain, 
                    a = r.objectNamePrefix, t.nosCdnHostTimer && clearTimeout(t.nosCdnHostTimer), t.nosCdnHostTimer = setTimeout(function() {
                        t.sendCmd("getNosCdnHost", {});
                    }, 800 * parseInt(r.expire))) : (o = "", a = ""), i.serverNosConfig.cdnDomain = o, 
                    i.serverNosConfig.objectPrefix = a, i.hasLocalStorage && (localStorage.setItem("nim_cdn_domain", o), 
                    localStorage.setItem("nim_object_prefix", a));
                }
            };
        }, function(e, t, n) {
            var r = n(12).fn, o = n(0), i = n(46);
            r.processAvSignal = function(e) {
                switch (e.cmd) {
                  case "signalingCreate":
                  case "signalingDelay":
                  case "signalingClose":
                  case "signalingJoin":
                  case "signalingLeave":
                  case "signalingInvite":
                  case "signalingCancel":
                  case "signalingReject":
                  case "signalingAccept":
                  case "signalingControl":
                  case "signalingSyncMsgRead":
                  case "signalingGetChannelInfo":
                    break;

                  case "signalingNotify":
                    this.onSignalingNotify(e);
                    break;

                  case "signalingMutilClientSyncNotify":
                    this.onSignalingMutilClientSyncNotify(e);
                    break;

                  case "signalingUnreadMessageSyncNotify":
                    this.onSignalingUnreadMessageSyncNotify(e);
                    break;

                  case "signalingChannelsSyncNotify":
                    this.onSignalingMembersSyncNotify(e);
                    break;

                  default:
                    this.logger.warn("avSignal::unhandled cmd:", e.cmd);
                }
            };
            var a = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (e.needPush && (e.needPush = "1" === e.needPush), e.needBadge && (e.needBadge = "1" === e.needBadge), 
                e.channelInValid && (e.channelInValid = "1" === e.channelInValid), e.attach) {
                    var t = JSON.parse(e.attach);
                    e.eventType = i.parseAvSignalType(t.type);
                }
                if (e.members) {
                    var n = JSON.parse(e.members);
                    e.members = n.map(function(e) {
                        return i.parseAvSignalMember(e);
                    });
                }
                return e;
            };
            r.onSignalingNotify = function(e) {
                if (e.error) {
                    var t = e.error;
                    this.logger.error("protocal::avSignal:onSignalingNotify error", t), this.emitAPI({
                        type: "error",
                        error: t
                    }), this.options.onerror(t);
                } else {
                    e.raw && e.raw.r && e.raw.r.length && e.content && e.content.avSignalTag && (e.content.avSignalTag.msgid = e.raw.r[0]);
                    var n = e.content.avSignalTag;
                    n = Array.isArray(n) ? n.map(function(e) {
                        return a(e);
                    }) : a(n), this.emitAPI({
                        type: "signalingNotify",
                        obj: n
                    }), o.isFunction(this.options.onSignalingNotify) && this.options.onSignalingNotify(n);
                }
            }, r.onSignalingMutilClientSyncNotify = function(e) {
                if (e.error) {
                    var t = e.error;
                    this.logger.error("protocal::avSignal:onSignalingMutilClientSyncNotify error", t), 
                    this.emitAPI({
                        type: "error",
                        error: t
                    }), this.options.onerror(t);
                } else {
                    var n = e.content.avSignalTag;
                    n = Array.isArray(n) ? n.map(function(e) {
                        return a(e);
                    }) : a(n), this.emitAPI({
                        type: "signalingMutilClientSyncNotify",
                        obj: n
                    }), o.isFunction(this.options.onSignalingMutilClientSyncNotify) && this.options.onSignalingMutilClientSyncNotify(n);
                }
            }, r.onSignalingUnreadMessageSyncNotify = function(e) {
                if (e.error) {
                    var t = e.error;
                    this.logger.error("protocal::avSignal:onSignalingUnreadMessageSyncNotify error", t), 
                    this.emitAPI({
                        type: "error",
                        error: t
                    }), this.options.onerror(t);
                } else {
                    var n = e.content.avSignalTag;
                    Array.isArray(n) && (n = n.map(function(e) {
                        return a(e);
                    })), this.emitAPI({
                        type: "signalingUnreadMessageSyncNotify",
                        obj: n
                    }), o.isFunction(this.options.onSignalingUnreadMessageSyncNotify) && this.options.onSignalingUnreadMessageSyncNotify(n);
                }
            }, r.onSignalingMembersSyncNotify = function(e) {
                if (e.error) {
                    var t = e.error;
                    this.logger.error("protocal::avSignal:onSignalingMembersSyncNotify error", t), this.emitAPI({
                        type: "error",
                        error: t
                    }), this.options.onerror(t);
                } else {
                    var n = e.content.avSignalTag;
                    Array.isArray(n) || (n = [ n ]), n = n.map(function(e) {
                        return a(e);
                    }), this.emitAPI({
                        type: "signalingChannelsSyncNotify",
                        obj: n
                    }), o.isFunction(this.options.onSignalingMembersSyncNotify) && this.options.onSignalingMembersSyncNotify(n);
                }
            };
        }, function(e, t) {
            e.exports = {
                negotiateTransportTag: {
                    version: -1,
                    serializeList: 1,
                    serialize: 101
                },
                initTransportTag: {},
                nosToken: {
                    objectName: 1,
                    token: 2,
                    bucket: 3,
                    expireTime: 4,
                    expireSec: 7,
                    tag: 8,
                    shortUrl: 9
                },
                audioToText: {
                    url: 2
                },
                imageOp: {
                    type: 0,
                    stripmeta: 1,
                    typeType: 2,
                    blurRadius: 3,
                    blurSigma: 4,
                    qualityQuality: 5,
                    cropX: 6,
                    cropY: 7,
                    cropWidth: 8,
                    cropHeight: 9,
                    rotateAngle: 10,
                    pixelPixel: 11,
                    thumbnailMode: 12,
                    thumbnailWidth: 13,
                    thumbnailHeight: 14,
                    thumbnailAxisX: 15,
                    thumbnailAxisY: 16,
                    thumbnailCenterX: 17,
                    thumbnailCenterY: 18,
                    thumbnailEnlarge: 19,
                    thumbnailToStatic: 20,
                    watermarkType: 21,
                    watermarkGravity: 22,
                    watermarkDissolve: 23,
                    watermarkDx: 24,
                    watermarkDy: 25,
                    watermarkImage: 26,
                    watermarkText: 27,
                    watermarkFont: 28,
                    watermarkFontSize: 29,
                    watermarkFontColor: 30,
                    interlace: 31
                },
                robot: {
                    account: 4,
                    nick: 5,
                    avatar: 6,
                    intro: 7,
                    config: 8,
                    valid: 9,
                    createTime: 10,
                    updateTime: 11,
                    custid: 12,
                    botid: 13,
                    bindTime: 14
                },
                clientAntispam: {
                    version: 1,
                    md5: 2,
                    nosurl: 3,
                    thesaurus: 4
                },
                fileQuickTransfer: {
                    md5: 1,
                    url: 2,
                    size: 3,
                    threshold: 4
                },
                transToken: {
                    name: 1,
                    type: 2,
                    transType: 3,
                    size: 4,
                    extra: 5,
                    body: 6
                },
                transInfo: {
                    docId: 1,
                    name: 2,
                    prefix: 3,
                    size: 4,
                    type: 5,
                    state: 6,
                    transType: 7,
                    transSize: 8,
                    pageCount: 9,
                    picInfo: 10,
                    extra: 11,
                    flag: 12
                },
                nosFileUrlTag: {
                    safeUrl: 0,
                    originUrl: 1
                },
                nosAccessTokenTag: {
                    token: 0,
                    url: 1,
                    userAgent: 2,
                    ext: 3
                },
                fileListParam: {
                    fromDocId: 1,
                    limit: 2
                },
                avSignalTag: {
                    type: 1,
                    channelName: 2,
                    channelId: 3,
                    channelCreateTime: 4,
                    channelExpireTime: 5,
                    creator: 6,
                    ext: 7,
                    channelInValid: 8,
                    from: 10,
                    to: 11,
                    requestId: 12,
                    needPush: 13,
                    pushTitle: 14,
                    pushContent: 15,
                    pushPayload: 16,
                    needBadge: 17,
                    members: 18,
                    attach: 19,
                    attachExt: 20,
                    isSave: 21,
                    msgid: 22,
                    uid: 23,
                    time: 24
                },
                login: {
                    clientType: 3,
                    os: 4,
                    sdkVersion: 6,
                    appLogin: 8,
                    protocolVersion: 9,
                    pushTokenName: 10,
                    pushToken: 11,
                    deviceId: 13,
                    appKey: 18,
                    account: 19,
                    browser: 24,
                    session: 26,
                    deviceInfo: 32,
                    sdkType: 41,
                    userAgent: 42,
                    isReactNative: 112,
                    token: 1e3,
                    customTag: 38,
                    customClientType: 39,
                    sdkHumanVersion: 40,
                    authType: 115,
                    loginExt: 116
                },
                loginRes: {
                    lastLoginDeviceId: 17,
                    customTag: 38,
                    connectionId: 102,
                    ip: 103,
                    port: 104,
                    country: 106,
                    hasXMPush: 111
                },
                loginPort: {
                    type: 3,
                    os: 4,
                    mac: 5,
                    deviceId: 13,
                    account: 19,
                    deviceInfo: 32,
                    connectionId: 102,
                    ip: 103,
                    time: 109,
                    customTag: 38,
                    customClientType: 39
                },
                aosPushInfo: {
                    pushType: 110,
                    hasTokenPreviously: 111
                },
                sync: {
                    myInfo: 1,
                    offlineMsgs: 2,
                    teams: 3,
                    netcallMsgs: 6,
                    roamingMsgs: 7,
                    relations: 9,
                    friends: 11,
                    sessions: 12,
                    friendUsers: 13,
                    msgReceipts: 14,
                    myTeamMembers: 15,
                    donnop: 16,
                    deleteMsg: 17,
                    sessionAck: 18,
                    robots: 19,
                    broadcastMsgs: 20,
                    avSignal: 21,
                    superTeams: 22,
                    myInfoInSuperTeams: 23,
                    superTeamRoamingMsgs: 24,
                    deleteSuperTeamMsg: 25,
                    superTeamSessionAck: 26,
                    deleteMsgSelf: 27,
                    stickTopSessions: 28,
                    sessionHistoryMsgsDelete: 29,
                    filterMsgs: 100
                },
                donnop: {
                    open: 1
                },
                sessionReqTag: {
                    minTimestamp: 1,
                    maxTimestamp: 2,
                    needLastMsg: 3,
                    limit: 4,
                    hasMore: 5
                },
                session: {
                    id: 1,
                    updateTime: 2,
                    ext: 3,
                    lastMsg: 4
                },
                superTeam: {
                    teamId: 1,
                    name: 3,
                    type: 4,
                    owner: 5,
                    level: 6,
                    selfCustom: 7,
                    valid: 8,
                    memberNum: 9,
                    memberUpdateTime: 10,
                    createTime: 11,
                    updateTime: 12,
                    validToCurrentUser: 13,
                    intro: 14,
                    announcement: 15,
                    joinMode: 16,
                    bits: 17,
                    custom: 18,
                    serverCustom: 19,
                    avatar: 20,
                    beInviteMode: 21,
                    inviteMode: 22,
                    updateTeamMode: 23,
                    updateCustomMode: 24,
                    mute: 100,
                    muteType: 101
                },
                superTeamMember: {
                    teamId: 1,
                    account: 3,
                    type: 4,
                    nickInTeam: 5,
                    bits: 7,
                    active: 8,
                    valid: 9,
                    createTime: 10,
                    updateTime: 11,
                    custom: 12,
                    mute: 13,
                    invitoraccid: 14,
                    joinTime: 15
                },
                team: {
                    teamId: 1,
                    name: 3,
                    type: 4,
                    owner: 5,
                    level: 6,
                    selfCustom: 7,
                    valid: 8,
                    memberNum: 9,
                    memberUpdateTime: 10,
                    createTime: 11,
                    updateTime: 12,
                    validToCurrentUser: 13,
                    intro: 14,
                    announcement: 15,
                    joinMode: 16,
                    bits: 17,
                    custom: 18,
                    serverCustom: 19,
                    avatar: 20,
                    beInviteMode: 21,
                    inviteMode: 22,
                    updateTeamMode: 23,
                    updateCustomMode: 24,
                    mute: 100,
                    muteType: 101
                },
                teamMember: {
                    teamId: 1,
                    account: 3,
                    type: 4,
                    nickInTeam: 5,
                    bits: 7,
                    active: 8,
                    valid: 9,
                    joinTime: 10,
                    updateTime: 11,
                    custom: 12,
                    mute: 13,
                    invitorAccid: 14
                },
                msg: {
                    scene: 0,
                    to: 1,
                    from: 2,
                    fromClientType: 4,
                    fromDeviceId: 5,
                    fromNick: 6,
                    time: 7,
                    type: 8,
                    body: 9,
                    attach: 10,
                    idClient: 11,
                    idServer: 12,
                    resend: 13,
                    userUpdateTime: 14,
                    custom: 15,
                    pushPayload: 16,
                    pushContent: 17,
                    apnsAccounts: 18,
                    apnsContent: 19,
                    apnsForcePush: 20,
                    yidunEnable: 21,
                    antiSpamContent: 22,
                    antiSpamBusinessId: 23,
                    clientAntiSpam: 24,
                    antiSpamUsingYidun: 25,
                    needMsgReceipt: 26,
                    needUpdateSession: 28,
                    replyMsgFromAccount: 29,
                    replyMsgToAccount: 30,
                    replyMsgTime: 31,
                    replyMsgIdServer: 32,
                    replyMsgIdClient: 33,
                    threadMsgFromAccount: 34,
                    threadMsgToAccount: 35,
                    threadMsgTime: 36,
                    threadMsgIdServer: 37,
                    threadMsgIdClient: 38,
                    delete: 39,
                    callbackExt: 40,
                    subType: 41,
                    yidunAntiCheating: 42,
                    env: 43,
                    yidunAntiSpamExt: 44,
                    yidunAntiSpamRes: 45,
                    isHistoryable: 100,
                    isRoamingable: 101,
                    isSyncable: 102,
                    isMuted: 104,
                    cc: 105,
                    isInBlackList: 106,
                    isPushable: 107,
                    isOfflinable: 108,
                    isUnreadable: 109,
                    needPushNick: 110,
                    isReplyMsg: 111,
                    tempTeamMemberCount: 112
                },
                threadMsgReq: {
                    beginTime: 1,
                    endTime: 2,
                    lastMsgId: 3,
                    limit: 4,
                    reverse: 5
                },
                threadMsgsMeta: {
                    total: 1,
                    lastMsgTime: 2
                },
                comment: {
                    from: 1,
                    body: 2,
                    time: 3,
                    custom: 4,
                    needPush: 5,
                    needBadge: 6,
                    pushTitle: 7,
                    apnsText: 8,
                    pushPayload: 9
                },
                commentReq: {
                    scene: 1,
                    from: 2,
                    to: 3,
                    time: 4,
                    idServer: 5,
                    idClient: 6,
                    timestamp: 100
                },
                commentRes: {
                    scene: 1,
                    from: 2,
                    to: 3,
                    time: 4,
                    idServer: 5,
                    idClient: 6,
                    detail: 7,
                    modify: 8,
                    timestamp: 100
                },
                collect: {
                    id: 1,
                    type: 2,
                    data: 3,
                    custom: 4,
                    uniqueId: 5,
                    createTime: 6,
                    updateTime: 7
                },
                collectQuery: {
                    beginTime: 1,
                    endTime: 2,
                    lastMsgId: 3,
                    limit: 4,
                    reverse: 5,
                    type: 6
                },
                stickTopSession: {
                    id: 1,
                    topCustom: 2,
                    createTime: 3,
                    updateTime: 4
                },
                pinTag: {
                    pinFrom: 1,
                    pinCustom: 2,
                    createTime: 3,
                    updateTime: 4
                },
                msgPinReq: {
                    sessionId: 1,
                    timetag: 2
                },
                msgPinRes: {
                    scene: 1,
                    from: 2,
                    to: 3,
                    time: 4,
                    idServer: 5,
                    idClient: 6,
                    pinFrom: 7,
                    pinCustom: 8
                },
                msgReceipt: {
                    to: 1,
                    from: 2,
                    time: 7,
                    idClient: 11
                },
                teamMsgReceipt: {
                    teamId: 0,
                    idServer: 1,
                    read: 100,
                    unread: 101,
                    idClient: 102,
                    account: 103
                },
                deleteMsgSelfTag: {
                    scene: 1,
                    from: 2,
                    to: 3,
                    idServer: 4,
                    idClient: 5,
                    time: 6,
                    deletedTime: 7,
                    custom: 8
                },
                sysMsg: {
                    time: 0,
                    type: 1,
                    to: 2,
                    from: 3,
                    ps: 4,
                    attach: 5,
                    idServer: 6,
                    sendToOnlineUsersOnly: 7,
                    apnsText: 8,
                    pushPayload: 9,
                    deletedIdClient: 10,
                    deletedIdServer: 11,
                    yidunEnable: 12,
                    antiSpamContent: 13,
                    deletedMsgTime: 14,
                    deletedMsgFromNick: 15,
                    opeAccount: 16,
                    env: 21,
                    callbackExt: 22,
                    cc: 105,
                    isPushable: 107,
                    isUnreadable: 109,
                    needPushNick: 110
                },
                broadcastMsg: {
                    broadcastId: 1,
                    fromAccid: 2,
                    fromUid: 3,
                    timestamp: 4,
                    body: 5
                },
                friend: {
                    account: 4,
                    flag: 5,
                    beflag: 6,
                    source: 7,
                    alias: 8,
                    bits: 9,
                    custom: 10,
                    createTime: 11,
                    updateTime: 12,
                    serverex: 13
                },
                user: {
                    account: 1,
                    nick: 3,
                    avatar: 4,
                    sign: 5,
                    gender: 6,
                    email: 7,
                    birth: 8,
                    tel: 9,
                    custom: 10,
                    createTime: 12,
                    updateTime: 13
                },
                antispamTag: {
                    antiSpamBusinessId: 1
                },
                specialRelation: {
                    account: 0,
                    isMuted: 1,
                    isBlacked: 2,
                    createTime: 3,
                    updateTime: 4
                },
                msgType: {
                    text: 0,
                    picture: 1,
                    audio: 2,
                    video: 3,
                    location: 4,
                    notification: 5,
                    file: 6,
                    netcall_audio: 7,
                    netcall_vedio: 8,
                    datatunnel_new: 9,
                    tips: 10,
                    robot: 11,
                    custom: 100
                },
                msgEvent: {
                    type: 1,
                    value: 2,
                    idClient: 3,
                    custom: 4,
                    validTime: 5,
                    broadcastType: 6,
                    sync: 7,
                    validTimeType: 8,
                    durable: 9,
                    time: 10,
                    idServer: 11,
                    clientType: 12,
                    serverConfig: 13,
                    serverCustom: 14,
                    appid: 101,
                    account: 103,
                    enableMultiClient: 104,
                    consid: 106
                },
                msgEventSubscribe: {
                    type: 1,
                    subscribeTime: 2,
                    sync: 3,
                    to: 102,
                    from: 104,
                    time: 105
                },
                clearMsgsParams: {
                    account: 1,
                    delRoam: 2
                },
                clearMsgsParamsWithSync: {
                    type: 0,
                    otherAccid: 1,
                    isDeleteRoam: 2,
                    toTid: 3,
                    isSyncSelf: 4,
                    fromAccid: 5,
                    time: 6,
                    ext: 7
                },
                msgFullSearchRequestTag: {
                    keyword: 1,
                    fromTime: 2,
                    toTime: 3,
                    sessionLimit: 4,
                    msgLimit: 5,
                    order: 6,
                    p2pList: 7,
                    teamList: 8,
                    senderList: 9,
                    msgTypeList: 10,
                    msgSubTypeList: 11
                },
                msgTimingFullSearchRequestTag: {
                    keyword: 1,
                    fromTime: 2,
                    toTime: 3,
                    msgLimit: 5,
                    order: 6,
                    p2pList: 7,
                    teamList: 8,
                    senderList: 9,
                    msgTypeList: 10,
                    msgSubTypeList: 11
                },
                delFriendParams: {
                    delAlias: 1
                },
                proxyTag: {
                    zone: 1,
                    path: 2,
                    method: 3,
                    header: 4,
                    body: 5
                },
                proxyMsgTag: {
                    from: 1,
                    body: 2,
                    time: 3
                },
                sessionAckTag: {
                    scene: 1,
                    to: 2,
                    timetag: 3
                },
                mixTokenReq: {
                    provider: 0,
                    tokenCount: 1,
                    fileExpireSec: 2,
                    tag: 3,
                    returnBody: 4
                },
                mixAuthTokenReq: {
                    type: 1,
                    urls: 2
                },
                getQChatAddressTag: {
                    ipType: 1
                }
            };
        }, function(e, t) {
            e.exports = {
                negotiateTransportTag: {
                    "-1": "version",
                    1: "serializeList",
                    101: "serialize"
                },
                initTransportTag: {},
                nosToken: {
                    1: "objectName",
                    2: "token",
                    3: "bucket",
                    4: "expireTime",
                    7: "expireSec",
                    8: "tag",
                    9: "shortUrl"
                },
                audioToText: {
                    2: "url"
                },
                imageOp: {
                    0: "type",
                    1: "stripmeta",
                    2: "typeType",
                    3: "blurRadius",
                    4: "blurSigma",
                    5: "qualityQuality",
                    6: "cropX",
                    7: "cropY",
                    8: "cropWidth",
                    9: "cropHeight",
                    10: "rotateAngle",
                    11: "pixelPixel",
                    12: "thumbnailMode",
                    13: "thumbnailWidth",
                    14: "thumbnailHeight",
                    15: "thumbnailAxisX",
                    16: "thumbnailAxisY",
                    17: "thumbnailCenterX",
                    18: "thumbnailCenterY",
                    19: "thumbnailEnlarge",
                    20: "thumbnailToStatic",
                    21: "watermarkType",
                    22: "watermarkGravity",
                    23: "watermarkDissolve",
                    24: "watermarkDx",
                    25: "watermarkDy",
                    26: "watermarkImage",
                    27: "watermarkText",
                    28: "watermarkFont",
                    29: "watermarkFontSize",
                    30: "watermarkFontColor",
                    31: "interlace"
                },
                robot: {
                    4: "account",
                    5: "nick",
                    6: "avatar",
                    7: "intro",
                    8: "config",
                    9: "valid",
                    10: "createTime",
                    11: "updateTime",
                    12: "custid",
                    13: "botid",
                    14: "bindTime",
                    _6_safe: "_avatar_safe"
                },
                clientAntispam: {
                    1: "version",
                    2: "md5",
                    3: "nosurl",
                    4: "thesaurus"
                },
                fileQuickTransfer: {
                    1: "md5",
                    2: "url",
                    3: "size",
                    4: "threshold",
                    _2_safe: "_url_safe"
                },
                transToken: {
                    1: "name",
                    2: "type",
                    3: "transType",
                    4: "size",
                    5: "extra",
                    6: "body"
                },
                transInfo: {
                    1: "docId",
                    2: "name",
                    3: "prefix",
                    4: "size",
                    5: "type",
                    6: "state",
                    7: "transType",
                    8: "transSize",
                    9: "pageCount",
                    10: "picInfo",
                    11: "extra",
                    12: "flag"
                },
                nosFileUrlTag: {
                    0: "safeUrl",
                    1: "originUrl"
                },
                nosAccessTokenTag: {
                    0: "token",
                    1: "url",
                    2: "userAgent",
                    3: "ext"
                },
                nosConfigTag: {
                    1: "bucket",
                    2: "cdnDomain",
                    3: "expire",
                    4: "objectNamePrefix"
                },
                appGrayConfigTag: {
                    0: "grayConfig",
                    1: "ttl"
                },
                mixStorePolicyTag: {
                    0: "providers",
                    1: "ttl",
                    2: "mixEnable",
                    3: "nosPolicy",
                    4: "s3Policy"
                },
                mixStoreTokenTag: {
                    0: "provider",
                    1: "accessKeyId",
                    2: "secretAccessKey",
                    3: "sessionToken",
                    4: "token",
                    5: "expireAt",
                    6: "bucket",
                    7: "objectName",
                    8: "fileExpireSec",
                    9: "tag",
                    10: "shortUrl",
                    11: "region"
                },
                backSourceTokenTag: {
                    1: "type",
                    2: "tokens",
                    3: "token",
                    4: "ttl"
                },
                fileListParam: {
                    1: "fromDocId",
                    2: "limit"
                },
                avSignalTag: {
                    1: "type",
                    2: "channelName",
                    3: "channelId",
                    4: "channelCreateTime",
                    5: "channelExpireTime",
                    6: "creator",
                    7: "ext",
                    8: "channelInValid",
                    10: "from",
                    11: "to",
                    12: "requestId",
                    13: "needPush",
                    14: "pushTitle",
                    15: "pushContent",
                    16: "pushPayload",
                    17: "needBadge",
                    18: "members",
                    19: "attach",
                    20: "attachExt",
                    21: "isSave",
                    22: "msgid",
                    23: "uid",
                    24: "time"
                },
                login: {
                    3: "clientType",
                    4: "os",
                    6: "sdkVersion",
                    8: "appLogin",
                    9: "protocolVersion",
                    10: "pushTokenName",
                    11: "pushToken",
                    13: "deviceId",
                    18: "appKey",
                    19: "account",
                    24: "browser",
                    26: "session",
                    32: "deviceInfo",
                    38: "customTag",
                    39: "customClientType",
                    40: "sdkHumanVersion",
                    112: "isReactNative",
                    115: "authType",
                    116: "loginExt",
                    1000: "token"
                },
                loginRes: {
                    17: "lastLoginDeviceId",
                    38: "customTag",
                    102: "connectionId",
                    103: "ip",
                    104: "port",
                    106: "country",
                    111: "hasXMPush"
                },
                loginPort: {
                    3: "type",
                    4: "os",
                    5: "mac",
                    13: "deviceId",
                    19: "account",
                    32: "deviceInfo",
                    38: "customTag",
                    39: "customClientType",
                    102: "connectionId",
                    103: "ip",
                    109: "time"
                },
                aosPushInfo: {
                    110: "pushType",
                    111: "hasTokenPreviously"
                },
                sync: {
                    1: "myInfo",
                    2: "offlineMsgs",
                    3: "teams",
                    6: "netcallMsgs",
                    7: "roamingMsgs",
                    9: "relations",
                    11: "friends",
                    12: "sessions",
                    13: "friendUsers",
                    14: "msgReceipts",
                    15: "myTeamMembers",
                    16: "donnop",
                    17: "deleteMsg",
                    18: "sessionAck",
                    19: "robots",
                    20: "broadcastMsgs",
                    21: "avSignal",
                    22: "superTeams",
                    23: "myInfoInSuperTeams",
                    24: "superTeamRoamingMsgs",
                    25: "deleteSuperTeamMsg",
                    26: "superTeamSessionAck",
                    27: "deleteMsgSelf",
                    28: "stickTopSessions",
                    29: "sessionHistoryMsgsDelete",
                    100: "filterMsgs"
                },
                donnop: {
                    1: "open"
                },
                sessionReqTag: {
                    1: "minTimestamp",
                    2: "maxTimestamp",
                    3: "needLastMsg",
                    4: "limit",
                    5: "hasMore"
                },
                session: {
                    1: "id",
                    2: "updateTime",
                    3: "ext",
                    4: "lastMsg",
                    5: "lastMsgType"
                },
                superTeam: {
                    1: "teamId",
                    3: "name",
                    4: "type",
                    5: "owner",
                    6: "level",
                    7: "selfCustom",
                    8: "valid",
                    9: "memberNum",
                    10: "memberUpdateTime",
                    11: "createTime",
                    12: "updateTime",
                    13: "validToCurrentUser",
                    14: "intro",
                    15: "announcement",
                    16: "joinMode",
                    17: "bits",
                    18: "custom",
                    19: "serverCustom",
                    20: "avatar",
                    21: "beInviteMode",
                    22: "inviteMode",
                    23: "updateTeamMode",
                    24: "updateCustomMode",
                    100: "mute",
                    101: "muteType",
                    _20_safe: "_avatar_safe"
                },
                superTeamMember: {
                    1: "teamId",
                    3: "account",
                    4: "type",
                    5: "nickInTeam",
                    7: "bits",
                    8: "active",
                    9: "valid",
                    10: "createTime",
                    11: "updateTime",
                    12: "custom",
                    13: "mute",
                    14: "invitoraccid",
                    15: "joinTime"
                },
                team: {
                    1: "teamId",
                    3: "name",
                    4: "type",
                    5: "owner",
                    6: "level",
                    7: "selfCustom",
                    8: "valid",
                    9: "memberNum",
                    10: "memberUpdateTime",
                    11: "createTime",
                    12: "updateTime",
                    13: "validToCurrentUser",
                    14: "intro",
                    15: "announcement",
                    16: "joinMode",
                    17: "bits",
                    18: "custom",
                    19: "serverCustom",
                    20: "avatar",
                    21: "beInviteMode",
                    22: "inviteMode",
                    23: "updateTeamMode",
                    24: "updateCustomMode",
                    100: "mute",
                    101: "muteType",
                    _20_safe: "_avatar_safe"
                },
                teamMember: {
                    1: "teamId",
                    3: "account",
                    4: "type",
                    5: "nickInTeam",
                    7: "bits",
                    8: "active",
                    9: "valid",
                    10: "joinTime",
                    11: "updateTime",
                    12: "custom",
                    13: "mute",
                    14: "invitorAccid"
                },
                msg: {
                    0: "scene",
                    1: "to",
                    2: "from",
                    4: "fromClientType",
                    5: "fromDeviceId",
                    6: "fromNick",
                    7: "time",
                    8: "type",
                    9: "body",
                    10: "attach",
                    11: "idClient",
                    12: "idServer",
                    13: "resend",
                    14: "userUpdateTime",
                    15: "custom",
                    16: "pushPayload",
                    17: "pushContent",
                    18: "apnsAccounts",
                    19: "apnsContent",
                    20: "apnsForcePush",
                    21: "yidunEnable",
                    22: "antiSpamContent",
                    23: "antiSpamBusinessId",
                    24: "clientAntiSpam",
                    25: "antiSpamUsingYidun",
                    26: "needMsgReceipt",
                    28: "needUpdateSession",
                    29: "replyMsgFromAccount",
                    30: "replyMsgToAccount",
                    31: "replyMsgTime",
                    32: "replyMsgIdServer",
                    33: "replyMsgIdClient",
                    34: "threadMsgFromAccount",
                    35: "threadMsgToAccount",
                    36: "threadMsgTime",
                    37: "threadMsgIdServer",
                    38: "threadMsgIdClient",
                    39: "delete",
                    40: "callbackExt",
                    41: "subType",
                    42: "yidunAntiCheating",
                    43: "env",
                    44: "yidunAntiSpamExt",
                    45: "yidunAntiSpamRes",
                    100: "isHistoryable",
                    101: "isRoamingable",
                    102: "isSyncable",
                    104: "isMuted",
                    105: "cc",
                    106: "isInBlackList",
                    107: "isPushable",
                    108: "isOfflinable",
                    109: "isUnreadable",
                    110: "needPushNick",
                    111: "isReplyMsg",
                    112: "tempTeamMemberCount"
                },
                threadMsgReq: {
                    1: "beginTime",
                    2: "endTime",
                    3: "lastMsgId",
                    4: "limit",
                    5: "reverse"
                },
                threadMsgsMeta: {
                    1: "total",
                    2: "lastMsgTime"
                },
                comment: {
                    1: "from",
                    2: "body",
                    3: "time",
                    4: "custom",
                    5: "needPush",
                    6: "needBadge",
                    7: "pushTitle",
                    8: "apnsText",
                    9: "pushPayload"
                },
                commentReq: {
                    1: "scene",
                    2: "from",
                    3: "to",
                    4: "time",
                    5: "idServer",
                    6: "idClient",
                    100: "timestamp"
                },
                commentRes: {
                    1: "scene",
                    2: "from",
                    3: "to",
                    4: "time",
                    5: "idServer",
                    6: "idClient",
                    7: "detail",
                    8: "modify",
                    100: "timestamp"
                },
                collect: {
                    1: "id",
                    2: "type",
                    3: "data",
                    4: "custom",
                    5: "uniqueId",
                    6: "createTime",
                    7: "updateTime"
                },
                collectQuery: {
                    1: "beginTime",
                    2: "endTime",
                    3: "lastMsgId",
                    4: "limit",
                    5: "reverse",
                    6: "type"
                },
                stickTopSession: {
                    1: "id",
                    2: "topCustom",
                    3: "createTime",
                    4: "updateTime"
                },
                pinTag: {
                    1: "pinFrom",
                    2: "pinCustom",
                    3: "createTime",
                    4: "updateTime"
                },
                msgPinReq: {
                    1: "sessionId",
                    2: "timetag"
                },
                msgPinRes: {
                    1: "scene",
                    2: "from",
                    3: "to",
                    4: "time",
                    5: "idServer",
                    6: "idClient",
                    7: "pinFrom",
                    8: "pinCustom"
                },
                msgReceipt: {
                    1: "to",
                    2: "from",
                    7: "time",
                    11: "idClient"
                },
                teamMsgReceipt: {
                    0: "teamId",
                    1: "idServer",
                    100: "read",
                    101: "unread",
                    102: "idClient",
                    103: "account"
                },
                deleteMsgSelfTag: {
                    1: "scene",
                    2: "from",
                    3: "to",
                    4: "idServer",
                    5: "idClient",
                    6: "time",
                    7: "deletedTime",
                    8: "custom"
                },
                sysMsg: {
                    0: "time",
                    1: "type",
                    2: "to",
                    3: "from",
                    4: "ps",
                    5: "attach",
                    6: "idServer",
                    7: "sendToOnlineUsersOnly",
                    8: "apnsText",
                    9: "pushPayload",
                    10: "deletedIdClient",
                    11: "deletedIdServer",
                    12: "yidunEnable",
                    13: "antiSpamContent",
                    14: "deletedMsgTime",
                    15: "deletedMsgFromNick",
                    16: "opeAccount",
                    21: "env",
                    22: "callbackExt",
                    105: "cc",
                    107: "isPushable",
                    109: "isUnreadable",
                    110: "needPushNick"
                },
                broadcastMsg: {
                    1: "broadcastId",
                    2: "fromAccid",
                    3: "fromUid",
                    4: "timestamp",
                    5: "body"
                },
                friend: {
                    4: "account",
                    5: "flag",
                    6: "beflag",
                    7: "source",
                    8: "alias",
                    9: "bits",
                    10: "custom",
                    11: "createTime",
                    12: "updateTime",
                    13: "serverex"
                },
                user: {
                    1: "account",
                    3: "nick",
                    4: "avatar",
                    5: "sign",
                    6: "gender",
                    7: "email",
                    8: "birth",
                    9: "tel",
                    10: "custom",
                    12: "createTime",
                    13: "updateTime",
                    _4_safe: "_avatar_safe"
                },
                antispamTag: {
                    antiSpamBusinessId: 1
                },
                specialRelation: {
                    0: "account",
                    1: "isMuted",
                    2: "isBlacked",
                    3: "createTime",
                    4: "updateTime"
                },
                msgType: {
                    0: "text",
                    1: "picture",
                    2: "audio",
                    3: "video",
                    4: "location",
                    5: "notification",
                    6: "file",
                    7: "netcall_audio",
                    8: "netcall_vedio",
                    9: "datatunnel_new",
                    10: "tips",
                    11: "robot",
                    100: "custom"
                },
                msgEvent: {
                    1: "type",
                    2: "value",
                    3: "idClient",
                    4: "custom",
                    5: "validTime",
                    6: "broadcastType",
                    7: "sync",
                    8: "validTimeType",
                    9: "durable",
                    10: "time",
                    11: "idServer",
                    12: "clientType",
                    13: "serverConfig",
                    14: "serverCustom",
                    101: "appid",
                    103: "account",
                    104: "enableMultiClient",
                    106: "consid"
                },
                msgEventSubscribe: {
                    1: "type",
                    2: "subscribeTime",
                    3: "sync",
                    102: "to",
                    104: "from",
                    105: "time"
                },
                clearMsgsParams: {
                    1: "account",
                    2: "delRoam"
                },
                clearMsgsParamsWithSync: {
                    0: "type",
                    1: "otherAccid",
                    2: "delRoam",
                    3: "toTid",
                    4: "isSyncSelf",
                    5: "fromAccid",
                    6: "time",
                    7: "ext"
                },
                msgFullSearchRequestTag: {
                    1: "keyword",
                    2: "fromTime",
                    3: "toTime",
                    4: "sessionLimit",
                    5: "msgLimit",
                    6: "order",
                    7: "p2pList",
                    8: "teamList",
                    9: "senderList",
                    10: "msgTypeList",
                    11: "msgSubTypeList"
                },
                delFriendParams: {
                    1: "delAlias"
                },
                proxyTag: {
                    1: "zone",
                    2: "path",
                    3: "method",
                    4: "header",
                    5: "body"
                },
                proxyMsgTag: {
                    1: "from",
                    2: "body",
                    3: "time"
                }
            };
        }, function(e, t, n) {
            var r = n(0), o = n(24), i = r.merge({}, o.idMap, {
                chatroom: {
                    id: 13,
                    login: 2,
                    kicked: 3,
                    logout: 4,
                    sendMsg: 6,
                    msg: 7,
                    getChatroomMembers: 8,
                    getHistoryMsgs: 9,
                    markChatroomMember: 11,
                    closeChatroom: 12,
                    getChatroom: 13,
                    updateChatroom: 14,
                    updateMyChatroomMemberInfo: 15,
                    getChatroomMembersInfo: 16,
                    kickChatroomMember: 17,
                    updateChatroomMemberTempMute: 19,
                    queueOffer: 20,
                    queuePoll: 21,
                    queueList: 22,
                    peak: 23,
                    queueDrop: 24,
                    queueInit: 25,
                    queueChange: 26,
                    updateTagMembersTempMute: 30,
                    getChatroomMembersByTag: 31,
                    getChatroomMemberCountByTag: 32,
                    updateCoordinate: 33,
                    updateChatroomTags: 34,
                    notifyCdnInfo: 99
                },
                user: {
                    id: 3,
                    syncRobot: 16
                }
            }), a = r.merge({}, o.cmdConfig, {
                login: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.login,
                    params: [ {
                        type: "byte",
                        name: "type"
                    }, {
                        type: "Property",
                        name: "login"
                    }, {
                        type: "Property",
                        name: "imLogin"
                    } ]
                },
                logout: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.logout
                },
                sendMsg: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.sendMsg,
                    params: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                getChatroomMembers: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroomMembers,
                    params: [ {
                        type: "byte",
                        name: "type"
                    }, {
                        type: "long",
                        name: "time"
                    }, {
                        type: "int",
                        name: "limit"
                    } ]
                },
                getHistoryMsgs: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getHistoryMsgs,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    }, {
                        type: "int",
                        name: "limit"
                    }, {
                        type: "bool",
                        name: "reverse"
                    }, {
                        type: "LongArray",
                        name: "msgTypes"
                    } ]
                },
                markChatroomMember: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.markChatroomMember,
                    params: [ {
                        type: "string",
                        name: "account"
                    }, {
                        type: "int",
                        name: "type"
                    }, {
                        type: "bool",
                        name: "isAdd"
                    }, {
                        type: "int",
                        name: "level"
                    }, {
                        type: "string",
                        name: "custom"
                    } ]
                },
                closeChatroom: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.closeChatroom,
                    params: [ {
                        type: "string",
                        name: "custom"
                    } ]
                },
                getChatroom: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroom
                },
                updateChatroom: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateChatroom,
                    params: [ {
                        type: "Property",
                        name: "chatroom"
                    }, {
                        type: "bool",
                        name: "needNotify"
                    }, {
                        type: "String",
                        name: "custom"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                updateMyChatroomMemberInfo: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateMyChatroomMemberInfo,
                    params: [ {
                        type: "Property",
                        name: "chatroomMember"
                    }, {
                        type: "bool",
                        name: "needNotify"
                    }, {
                        type: "String",
                        name: "custom"
                    }, {
                        type: "bool",
                        name: "needSave"
                    }, {
                        type: "Property",
                        name: "antispamTag"
                    } ]
                },
                getChatroomMembersInfo: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroomMembersInfo,
                    params: [ {
                        type: "StrArray",
                        name: "accounts"
                    } ]
                },
                kickChatroomMember: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.kickChatroomMember,
                    params: [ {
                        type: "string",
                        name: "account"
                    }, {
                        type: "string",
                        name: "custom"
                    } ]
                },
                updateChatroomMemberTempMute: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateChatroomMemberTempMute,
                    params: [ {
                        type: "String",
                        name: "account"
                    }, {
                        type: "long",
                        name: "duration"
                    }, {
                        type: "bool",
                        name: "needNotify"
                    }, {
                        type: "String",
                        name: "custom"
                    } ]
                },
                queueOffer: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queueOffer,
                    params: [ {
                        type: "string",
                        name: "elementKey"
                    }, {
                        type: "string",
                        name: "elementValue"
                    }, {
                        type: "bool",
                        name: "transient"
                    }, {
                        type: "string",
                        name: "elementAccount"
                    } ]
                },
                queuePoll: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queuePoll,
                    params: [ {
                        type: "string",
                        name: "elementKey"
                    } ]
                },
                queueList: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queueList
                },
                peak: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.peak
                },
                queueDrop: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queueDrop
                },
                queueInit: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queueInit,
                    params: [ {
                        type: "int",
                        name: "limit"
                    } ]
                },
                queueChange: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.queueChange,
                    params: [ {
                        type: "StrStrMap",
                        name: "elementMap"
                    }, {
                        type: "bool",
                        name: "needNotify"
                    }, {
                        type: "string",
                        name: "notifyExt"
                    } ]
                },
                updateTagMembersTempMute: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateTagMembersTempMute,
                    params: [ {
                        type: "Property",
                        name: "tagMuteReq"
                    } ]
                },
                updateCoordinate: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateCoordinate,
                    params: [ {
                        type: "Property",
                        name: "coordinateReq"
                    } ]
                },
                getChatroomMemberCountByTag: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroomMemberCountByTag,
                    params: [ {
                        type: "String",
                        name: "tag"
                    } ]
                },
                getChatroomMembersByTag: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.getChatroomMembersByTag,
                    params: [ {
                        type: "Property",
                        name: "tagMemberReq"
                    } ]
                },
                updateChatroomTags: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.updateChatroomTags,
                    params: [ {
                        type: "Property",
                        name: "chatRoomTagsUpdateTag"
                    } ]
                },
                notifyCdnInfo: {
                    sid: i.chatroom.id,
                    cid: i.chatroom.notifyCdnInfo
                },
                syncRobot: {
                    sid: i.user.id,
                    cid: i.user.syncRobot,
                    params: [ {
                        type: "long",
                        name: "timetag"
                    } ]
                }
            }), s = r.merge({}, o.packetConfig, {
                "4_10": {
                    service: "notify"
                },
                "4_11": {
                    service: "notify"
                },
                "3_16": {
                    service: "chatroom",
                    cmd: "syncRobot",
                    response: [ {
                        type: "PropertyArray",
                        name: "robots",
                        entity: "robot"
                    } ]
                },
                "13_2": {
                    service: "chatroom",
                    cmd: "login",
                    response: [ {
                        type: "Property",
                        name: "chatroom"
                    }, {
                        type: "Property",
                        name: "chatroomMember"
                    }, {
                        type: "Property",
                        name: "chatroomCdnInfo"
                    } ]
                },
                "13_3": {
                    service: "chatroom",
                    cmd: "kicked",
                    response: [ {
                        type: "Number",
                        name: "reason"
                    }, {
                        type: "String",
                        name: "custom"
                    } ]
                },
                "13_4": {
                    service: "chatroom",
                    cmd: "logout"
                },
                "13_6": {
                    service: "chatroom",
                    cmd: "sendMsg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "13_7": {
                    service: "chatroom",
                    cmd: "msg",
                    response: [ {
                        type: "Property",
                        name: "msg"
                    } ]
                },
                "13_8": {
                    service: "chatroom",
                    cmd: "getChatroomMembers",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "chatroomMember"
                    } ]
                },
                "13_9": {
                    service: "chatroom",
                    cmd: "getHistoryMsgs",
                    response: [ {
                        type: "PropertyArray",
                        name: "msgs",
                        entity: "msg"
                    } ]
                },
                "13_11": {
                    service: "chatroom",
                    cmd: "markChatroomMember",
                    response: [ {
                        type: "Property",
                        name: "chatroomMember"
                    } ]
                },
                "13_12": {
                    service: "chatroom",
                    cmd: "closeChatroom"
                },
                "13_13": {
                    service: "chatroom",
                    cmd: "getChatroom",
                    response: [ {
                        type: "Property",
                        name: "chatroom"
                    } ]
                },
                "13_14": {
                    service: "chatroom",
                    cmd: "updateChatroom"
                },
                "13_15": {
                    service: "chatroom",
                    cmd: "updateMyChatroomMemberInfo"
                },
                "13_16": {
                    service: "chatroom",
                    cmd: "getChatroomMembersInfo",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "chatroomMember"
                    } ]
                },
                "13_17": {
                    service: "chatroom",
                    cmd: "kickChatroomMember"
                },
                "13_19": {
                    service: "chatroom",
                    cmd: "updateChatroomMemberTempMute"
                },
                "13_20": {
                    service: "chatroom",
                    cmd: "queueOffer"
                },
                "13_21": {
                    service: "chatroom",
                    cmd: "queuePoll",
                    response: [ {
                        type: "String",
                        name: "elementKey"
                    }, {
                        type: "String",
                        name: "elementValue"
                    } ]
                },
                "13_22": {
                    service: "chatroom",
                    cmd: "queueList",
                    response: [ {
                        type: "KVArray",
                        name: "queueList"
                    } ]
                },
                "13_23": {
                    service: "chatroom",
                    cmd: "peak",
                    response: [ {
                        type: "String",
                        name: "elementKey"
                    }, {
                        type: "String",
                        name: "elementValue"
                    } ]
                },
                "13_24": {
                    service: "chatroom",
                    cmd: "queueDrop"
                },
                "13_25": {
                    service: "chatroom",
                    cmd: "queueInit"
                },
                "13_26": {
                    service: "chatroom",
                    cmd: "queueChange",
                    response: [ {
                        type: "StrArray",
                        name: "elementKeyArray"
                    } ]
                },
                "13_30": {
                    service: "chatroom",
                    cmd: "updateTagMembersTempMute"
                },
                "13_33": {
                    service: "chatroom",
                    cmd: "updateCoordinate"
                },
                "13_31": {
                    service: "chatroom",
                    cmd: "getChatroomMembersByTag",
                    response: [ {
                        type: "PropertyArray",
                        name: "members",
                        entity: "chatroomMember"
                    } ]
                },
                "13_32": {
                    service: "chatroom",
                    cmd: "getChatroomMemberCountByTag",
                    response: [ {
                        type: "long",
                        name: "count"
                    } ]
                },
                "13_34": {
                    service: "chatroom",
                    cmd: "updateChatroomTags"
                },
                "13_99": {
                    service: "chatroom",
                    cmd: "notifyCdnInfo",
                    response: [ {
                        type: "Property",
                        name: "chatroomCdnInfo"
                    } ]
                }
            });
            e.exports = {
                idMap: i,
                cmdConfig: a,
                packetConfig: s
            };
        }, function(e, t) {
            e.exports = {
                imLogin: {
                    clientType: 3,
                    os: 4,
                    sdkVersion: 6,
                    appLogin: 8,
                    protocolVersion: 9,
                    pushTokenName: 10,
                    pushToken: 11,
                    deviceId: 13,
                    appKey: 18,
                    account: 19,
                    browser: 24,
                    session: 26,
                    deviceInfo: 32,
                    sdkType: 41,
                    userAgent: 42,
                    isReactNative: 112,
                    authType: 115,
                    loginExt: 116,
                    token: 1e3,
                    customTag: 38
                },
                nosToken: {
                    objectName: 1,
                    token: 2,
                    bucket: 3,
                    expireTime: 4,
                    expireSec: 7,
                    tag: 8,
                    shortUrl: 9
                },
                audioToText: {
                    url: 2
                },
                imageOp: {
                    type: 0,
                    stripmeta: 1,
                    typeType: 2,
                    blurRadius: 3,
                    blurSigma: 4,
                    qualityQuality: 5,
                    cropX: 6,
                    cropY: 7,
                    cropWidth: 8,
                    cropHeight: 9,
                    rotateAngle: 10,
                    pixelPixel: 11,
                    thumbnailMode: 12,
                    thumbnailWidth: 13,
                    thumbnailHeight: 14,
                    thumbnailAxisX: 15,
                    thumbnailAxisY: 16,
                    thumbnailCenterX: 17,
                    thumbnailCenterY: 18,
                    thumbnailEnlarge: 19,
                    thumbnailToStatic: 20,
                    watermarkType: 21,
                    watermarkGravity: 22,
                    watermarkDissolve: 23,
                    watermarkDx: 24,
                    watermarkDy: 25,
                    watermarkImage: 26,
                    watermarkText: 27,
                    watermarkFont: 28,
                    watermarkFontSize: 29,
                    watermarkFontColor: 30,
                    interlace: 31
                },
                robot: {
                    account: 4,
                    nick: 5,
                    avatar: 6,
                    intro: 7,
                    config: 8,
                    valid: 9,
                    createTime: 10,
                    updateTime: 11,
                    custid: 12,
                    botid: 13,
                    bindTime: 14
                },
                clientAntispam: {
                    version: 1,
                    md5: 2,
                    nosurl: 3,
                    thesaurus: 4
                },
                fileQuickTransfer: {
                    md5: 1,
                    url: 2,
                    size: 3,
                    threshold: 4
                },
                transToken: {
                    name: 1,
                    type: 2,
                    transType: 3,
                    size: 4,
                    extra: 5,
                    body: 6
                },
                transInfo: {
                    docId: 1,
                    name: 2,
                    prefix: 3,
                    size: 4,
                    type: 5,
                    state: 6,
                    transType: 7,
                    transSize: 8,
                    pageCount: 9,
                    picInfo: 10,
                    extra: 11,
                    flag: 12
                },
                nosFileUrlTag: {
                    safeUrl: 0,
                    originUrl: 1
                },
                nosAccessTokenTag: {
                    token: 0,
                    url: 1,
                    userAgent: 2,
                    ext: 3
                },
                fileListParam: {
                    fromDocId: 1,
                    limit: 2
                },
                avSignalTag: {
                    type: 1,
                    channelName: 2,
                    channelId: 3,
                    channelCreateTime: 4,
                    channelExpireTime: 5,
                    creator: 6,
                    ext: 7,
                    channelInValid: 8,
                    from: 10,
                    to: 11,
                    requestId: 12,
                    needPush: 13,
                    pushTitle: 14,
                    pushContent: 15,
                    pushPayload: 16,
                    needBadge: 17,
                    members: 18,
                    attach: 19,
                    attachExt: 20,
                    isSave: 21,
                    msgid: 22,
                    uid: 23,
                    time: 24
                },
                login: {
                    appKey: 1,
                    account: 2,
                    deviceId: 3,
                    chatroomId: 5,
                    appLogin: 8,
                    chatroomNick: 20,
                    chatroomAvatar: 21,
                    chatroomCustom: 22,
                    chatroomEnterCustom: 23,
                    session: 26,
                    isAnonymous: 38,
                    tags: 39,
                    notifyTargetTags: 40,
                    loginAuthType: 41,
                    loginExt: 42,
                    loc_x: 43,
                    loc_y: 44,
                    loc_z: 45,
                    distance: 46,
                    antiSpamBusinessId: 47
                },
                chatroom: {
                    id: 1,
                    name: 3,
                    announcement: 4,
                    broadcastUrl: 5,
                    custom: 12,
                    createTime: 14,
                    updateTime: 15,
                    queuelevel: 16,
                    creator: 100,
                    onlineMemberNum: 101,
                    mute: 102
                },
                msg: {
                    idClient: 1,
                    type: 2,
                    attach: 3,
                    custom: 4,
                    resend: 5,
                    userUpdateTime: 6,
                    fromNick: 7,
                    fromAvatar: 8,
                    fromCustom: 9,
                    yidunEnable: 10,
                    antiSpamContent: 11,
                    skipHistory: 12,
                    body: 13,
                    antiSpamBusinessId: 14,
                    clientAntiSpam: 15,
                    antiSpamUsingYidun: 16,
                    time: 20,
                    from: 21,
                    chatroomId: 22,
                    fromClientType: 23,
                    highPriority: 25,
                    callbackExt: 27,
                    subType: 28,
                    yidunAntiCheating: 29,
                    env: 30,
                    notifyTargetTags: 31,
                    yidunAntiSpamExt: 32,
                    yidunAntiSpamRes: 33,
                    loc_x: 34,
                    loc_y: 35,
                    loc_z: 36,
                    toAccids: 37
                },
                chatroomMember: {
                    chatroomId: 1,
                    account: 2,
                    type: 3,
                    level: 4,
                    nick: 5,
                    avatar: 6,
                    custom: 7,
                    online: 8,
                    guest: 9,
                    enterTime: 10,
                    blacked: 12,
                    gaged: 13,
                    valid: 14,
                    updateTime: 15,
                    tempMuted: 16,
                    tempMuteDuration: 17
                },
                antispamTag: {
                    antiSpamBusinessId: 1
                },
                chatroomCdnInfo: {
                    enable: 1,
                    cdnUrls: 2,
                    timestamp: 3,
                    interval: 4,
                    decryptType: 5,
                    decryptKey: 6,
                    timeout: 7
                },
                tagMemberReq: {
                    tag: 1,
                    time: 2,
                    limit: 3
                },
                tagMuteReq: {
                    tag: 1,
                    duration: 2,
                    needNotify: 3,
                    custom: 4,
                    notifyTargetTags: 5
                },
                coordinateReq: {
                    x: 1,
                    y: 2,
                    z: 3,
                    distance: 4
                },
                chatRoomTagsUpdateTag: {
                    tags: 1,
                    notifyTargetTags: 2,
                    needNotify: 3,
                    ext: 4
                }
            };
        }, function(e, t) {
            e.exports = {
                imLogin: {
                    3: "clientType",
                    4: "os",
                    6: "sdkVersion",
                    8: "appLogin",
                    9: "protocolVersion",
                    10: "pushTokenName",
                    11: "pushToken",
                    13: "deviceId",
                    18: "appKey",
                    19: "account",
                    24: "browser",
                    26: "session",
                    32: "deviceInfo",
                    38: "customTag",
                    41: "sdkType",
                    42: "userAgent",
                    112: "isReactNative",
                    1000: "token"
                },
                nosToken: {
                    1: "objectName",
                    2: "token",
                    3: "bucket",
                    4: "expireTime",
                    7: "expireSec",
                    8: "tag",
                    9: "shortUrl"
                },
                audioToText: {
                    2: "url"
                },
                imageOp: {
                    0: "type",
                    1: "stripmeta",
                    2: "typeType",
                    3: "blurRadius",
                    4: "blurSigma",
                    5: "qualityQuality",
                    6: "cropX",
                    7: "cropY",
                    8: "cropWidth",
                    9: "cropHeight",
                    10: "rotateAngle",
                    11: "pixelPixel",
                    12: "thumbnailMode",
                    13: "thumbnailWidth",
                    14: "thumbnailHeight",
                    15: "thumbnailAxisX",
                    16: "thumbnailAxisY",
                    17: "thumbnailCenterX",
                    18: "thumbnailCenterY",
                    19: "thumbnailEnlarge",
                    20: "thumbnailToStatic",
                    21: "watermarkType",
                    22: "watermarkGravity",
                    23: "watermarkDissolve",
                    24: "watermarkDx",
                    25: "watermarkDy",
                    26: "watermarkImage",
                    27: "watermarkText",
                    28: "watermarkFont",
                    29: "watermarkFontSize",
                    30: "watermarkFontColor",
                    31: "interlace"
                },
                robot: {
                    4: "account",
                    5: "nick",
                    6: "avatar",
                    7: "intro",
                    8: "config",
                    9: "valid",
                    10: "createTime",
                    11: "updateTime",
                    12: "custid",
                    13: "botid",
                    14: "bindTime",
                    _6_safe: "_avatar_safe"
                },
                clientAntispam: {
                    1: "version",
                    2: "md5",
                    3: "nosurl",
                    4: "thesaurus"
                },
                fileQuickTransfer: {
                    1: "md5",
                    2: "url",
                    3: "size",
                    4: "threshold",
                    _2_safe: "_url_safe"
                },
                transToken: {
                    1: "name",
                    2: "type",
                    3: "transType",
                    4: "size",
                    5: "extra",
                    6: "body"
                },
                transInfo: {
                    1: "docId",
                    2: "name",
                    3: "prefix",
                    4: "size",
                    5: "type",
                    6: "state",
                    7: "transType",
                    8: "transSize",
                    9: "pageCount",
                    10: "picInfo",
                    11: "extra",
                    12: "flag"
                },
                nosFileUrlTag: {
                    0: "safeUrl",
                    1: "originUrl"
                },
                nosAccessTokenTag: {
                    0: "token",
                    1: "url",
                    2: "userAgent",
                    3: "ext"
                },
                fileListParam: {
                    1: "fromDocId",
                    2: "limit"
                },
                avSignalTag: {
                    1: "type",
                    2: "channelName",
                    3: "channelId",
                    4: "channelCreateTime",
                    5: "channelExpireTime",
                    6: "creator",
                    7: "ext",
                    8: "channelInValid",
                    10: "from",
                    11: "to",
                    12: "requestId",
                    13: "needPush",
                    14: "pushTitle",
                    15: "pushContent",
                    16: "pushPayload",
                    17: "needBadge",
                    18: "members",
                    19: "attach",
                    20: "attachExt",
                    21: "isSave",
                    22: "msgid",
                    23: "uid",
                    24: "time"
                },
                login: {
                    1: "appKey",
                    2: "account",
                    3: "deviceId",
                    5: "chatroomId",
                    8: "appLogin",
                    20: "chatroomNick",
                    21: "chatroomAvatar",
                    22: "chatroomCustom",
                    23: "chatroomEnterCustom",
                    26: "session",
                    38: "isAnonymous",
                    39: "tags",
                    40: "notifyTargetTags",
                    41: "loginAuthType",
                    42: "loginExt",
                    43: "loc_x",
                    44: "loc_y",
                    45: "loc_z",
                    46: "distance",
                    47: "antiSpamBusinessId",
                    _21_safe: "_chatroomAvatar_safe"
                },
                chatroom: {
                    1: "id",
                    3: "name",
                    4: "announcement",
                    5: "broadcastUrl",
                    12: "custom",
                    14: "createTime",
                    15: "updateTime",
                    16: "queuelevel",
                    100: "creator",
                    101: "onlineMemberNum",
                    102: "mute"
                },
                msg: {
                    1: "idClient",
                    2: "type",
                    3: "attach",
                    4: "custom",
                    5: "resend",
                    6: "userUpdateTime",
                    7: "fromNick",
                    8: "fromAvatar",
                    9: "fromCustom",
                    10: "yidunEnable",
                    11: "antiSpamContent",
                    12: "skipHistory",
                    13: "body",
                    14: "antiSpamBusinessId",
                    15: "clientAntiSpam",
                    16: "antiSpamUsingYidun",
                    20: "time",
                    21: "from",
                    22: "chatroomId",
                    23: "fromClientType",
                    25: "highPriority",
                    27: "callbackExt",
                    28: "subType",
                    29: "yidunAntiCheating",
                    30: "env",
                    31: "notifyTargetTags",
                    32: "yidunAntiSpamExt",
                    33: "yidunAntiSpamRes",
                    34: "loc_x",
                    35: "loc_y",
                    36: "loc_z",
                    37: "toAccids",
                    _8_safe: "_fromAvatar_safe"
                },
                chatroomMember: {
                    1: "chatroomId",
                    2: "account",
                    3: "type",
                    4: "level",
                    5: "nick",
                    6: "avatar",
                    7: "custom",
                    8: "online",
                    9: "guest",
                    10: "enterTime",
                    12: "blacked",
                    13: "gaged",
                    14: "valid",
                    15: "updateTime",
                    16: "tempMuted",
                    17: "tempMuteDuration",
                    _6_safe: "_avatar_safe"
                },
                antispamTag: {
                    antiSpamBusinessId: 1
                },
                chatroomCdnInfo: {
                    1: "enable",
                    2: "cdnUrls",
                    3: "timestamp",
                    4: "interval",
                    5: "decryptType",
                    6: "decryptKey",
                    7: "timeout"
                },
                nosConfigTag: {
                    1: "bucket",
                    2: "cdnDomain",
                    3: "expire",
                    4: "objectNamePrefix"
                }
            };
        }, function(e, t, n) {
            var r = n(0), o = r.notundef, i = {
                addFriend: 1,
                applyFriend: 2,
                passFriendApply: 3,
                rejectFriendApply: 4
            }, a = {
                1: "addFriend",
                2: "applyFriend",
                3: "passFriendApply",
                4: "rejectFriendApply"
            };
            function s(e) {
                r.verifyOptions(e, "account", "friend::Friend"), r.verifyParamAtLeastPresentOne(e, "alias custom", "friend::Friend"), 
                this.account = e.account, o(e.alias) && (this.alias = e.alias), o(e.custom) && (this.custom = e.custom);
            }
            s.reverse = function(e) {
                var t = r.filterObj(e, "account alias custom createTime updateTime serverex");
                return o(e.flag) && (t.valid = "1" === e.flag), o(t.createTime) && (t.createTime = +t.createTime), 
                o(t.updateTime) && (t.updateTime = +t.updateTime), t;
            }, s.validTypes = function() {
                return Object.keys(i);
            }, s.getByteFromType = function(e) {
                return i[e];
            }, s.getTypeFromByte = function(e) {
                return a[e];
            }, s.assembleFriend = function(e) {
                var t = +new Date();
                return Object.assign({}, e, {
                    alias: "",
                    createTime: t,
                    custom: "",
                    updateTime: t,
                    valid: !0
                });
            }, e.exports = s;
        }, function(e, t, n) {
            var r = n(0), o = r.notundef;
            function i(e, t) {
                Number.isInteger(e.body) || r.onParamError("body只能是整数", t), this.body = e.body, 
                this.from = e.from || "", this.custom = e.custom || "", o(e.pushTitle) && (this.pushTitle = e.pushTitle), 
                o(e.apnsText) && (this.apnsText = e.apnsText), o(e.pushPayload) && (this.pushPayload = e.pushPayload), 
                o(e.needPush) && (this.needPush = !0 === e.needPush ? 1 : 0), o(e.needBadge) && (this.needBadge = !0 === e.needBadge ? 1 : 0);
            }
            i.reverse = function(e) {
                var t = Object.assign({}, e);
                return o(e.needBadge) && (t.needBadge = 1 == +e.needBadge), o(e.needPush) && (t.needPush = 1 == +e.needPush), 
                t.body = +e.body, t.time = +e.time, t;
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(0);
            function o(e, t) {
                Number.isInteger(e.type) || r.onParamError("Collect.type只能是整数", t), r.notundef(e.uniqueId) && (this.uniqueId = e.uniqueId), 
                this.type = e.type, this.data = e.data || "", this.custom = e.custom || "";
            }
            o.reverse = function(e) {
                var t = Object.assign({}, e);
                return t.type = +t.type, t.createTime = +t.createTime, t.updateTime = +t.updateTime, 
                t;
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(97), o = n(98), i = n(99), a = n(100);
            function s(e, t, n) {
                var r = e;
                return o(t) ? (n = t, "string" == typeof e && (r = {
                    uri: e
                })) : r = a(t, {
                    uri: e
                }), r.callback = n, r;
            }
            function c(e, t, n) {
                return u(t = s(e, t, n));
            }
            function u(e) {
                if (void 0 === e.callback) throw new Error("callback argument missing");
                var t = !1, n = function(n, r, o) {
                    t || (t = !0, e.callback(n, r, o));
                };
                function r() {
                    var e = void 0;
                    if (e = l.response ? l.response : l.responseText || function(e) {
                        try {
                            if ("document" === e.responseType) return e.responseXML;
                            var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                            if ("" === e.responseType && !t) return e.responseXML;
                        } catch (e) {}
                        return null;
                    }(l), y) try {
                        e = JSON.parse(e);
                    } catch (e) {}
                    return e;
                }
                function o(e) {
                    return clearTimeout(d), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), 
                    e.statusCode = 0, n(e, v);
                }
                function a() {
                    if (!u) {
                        var t;
                        clearTimeout(d), t = e.useXDR && void 0 === l.status ? 200 : 1223 === l.status ? 204 : l.status;
                        var o = v, a = null;
                        return 0 !== t ? (o = {
                            body: r(),
                            statusCode: t,
                            method: p,
                            headers: {},
                            url: f,
                            rawRequest: l
                        }, l.getAllResponseHeaders && (o.headers = i(l.getAllResponseHeaders()))) : a = new Error("Internal XMLHttpRequest Error"), 
                        n(a, o, o.body);
                    }
                }
                var s, u, l = e.xhr || null;
                l || (l = e.cors || e.useXDR ? new c.XDomainRequest() : new c.XMLHttpRequest());
                var d, f = l.url = e.uri || e.url, p = l.method = e.method || "GET", m = e.body || e.data, g = l.headers = e.headers || {}, h = !!e.sync, y = !1, v = {
                    body: void 0,
                    headers: {},
                    statusCode: 0,
                    method: p,
                    url: f,
                    rawRequest: l
                };
                if ("json" in e && !1 !== e.json && (y = !0, g.accept || g.Accept || (g.Accept = "application/json"), 
                "GET" !== p && "HEAD" !== p && (g["content-type"] || g["Content-Type"] || (g["Content-Type"] = "application/json"), 
                m = JSON.stringify(!0 === e.json ? m : e.json))), l.onreadystatechange = function() {
                    4 === l.readyState && setTimeout(a, 0);
                }, l.onload = a, l.onerror = o, l.onprogress = function() {}, l.onabort = function() {
                    u = !0;
                }, l.ontimeout = o, l.open(p, f, !h, e.username, e.password), h || (l.withCredentials = !!e.withCredentials), 
                !h && e.timeout > 0 && (d = setTimeout(function() {
                    if (!u) {
                        u = !0, l.abort("timeout");
                        var e = new Error("XMLHttpRequest timeout");
                        e.code = "ETIMEDOUT", o(e);
                    }
                }, e.timeout)), l.setRequestHeader) for (s in g) g.hasOwnProperty(s) && l.setRequestHeader(s, g[s]); else if (e.headers && !function(e) {
                    for (var t in e) if (e.hasOwnProperty(t)) return !1;
                    return !0;
                }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
                return "responseType" in e && (l.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(l), 
                l.send(m || null), l;
            }
            e.exports = c, e.exports.default = c, c.XMLHttpRequest = r.XMLHttpRequest || function() {}, 
            c.XDomainRequest = "withCredentials" in new c.XMLHttpRequest() ? c.XMLHttpRequest : r.XDomainRequest, 
            function(e, t) {
                for (var n = 0; n < e.length; n++) t(e[n]);
            }([ "get", "put", "post", "patch", "head", "delete" ], function(e) {
                c["delete" === e ? "del" : e] = function(t, n, r) {
                    return (n = s(t, n, r)).method = e.toUpperCase(), u(n);
                };
            });
        }, function(e, t, n) {
            (function(t) {
                var n;
                n = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {}, 
                e.exports = n;
            }).call(this, n(14));
        }, function(e, t) {
            e.exports = function(e) {
                if (!e) return !1;
                var t = n.call(e);
                return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt);
            };
            var n = Object.prototype.toString;
        }, function(e, t) {
            var n = function(e) {
                return e.replace(/^\s+|\s+$/g, "");
            };
            e.exports = function(e) {
                if (!e) return {};
                for (var t, r = {}, o = n(e).split("\n"), i = 0; i < o.length; i++) {
                    var a = o[i], s = a.indexOf(":"), c = n(a.slice(0, s)).toLowerCase(), u = n(a.slice(s + 1));
                    void 0 === r[c] ? r[c] = u : (t = r[c], "[object Array]" === Object.prototype.toString.call(t) ? r[c].push(u) : r[c] = [ r[c], u ]);
                }
                return r;
            };
        }, function(e, t) {
            e.exports = function() {
                for (var e = {}, t = 0; t < arguments.length; t++) {
                    var r = arguments[t];
                    for (var o in r) n.call(r, o) && (e[o] = r[o]);
                }
                return e;
            };
            var n = Object.prototype.hasOwnProperty;
        }, function(e, t) {
            var n = {
                set: function(e, t, r) {
                    n[e] = t, r && (r.support = t);
                }
            };
            e.exports = n;
        }, function(e, t) {
            function n(e) {
                var t = this, n = e.url || null;
                t.level = {
                    debug: 0,
                    log: 1,
                    info: 2,
                    warn: 3,
                    error: 4
                }[e.level] || 0, t.logCache = [], t.logNum = 1, t.timeInterval = 5e3, window.onerror = function(e, n, r, o, i) {
                    t.error(i);
                }, setInterval(function() {
                    t.logCache.length > 0 && n && t.postLogs(n, t.logCache);
                }, t.timeInterval);
            }
            n.prototype.debug = function() {
                this.level > 0 || (console.debug.apply(this, arguments), this.cacheLogs.apply(this, [ "[degbug]" ].concat(arguments)));
            }, n.prototype.log = function() {
                this.level > 1 || (console.log.apply(this, arguments), this.cacheLogs.apply(this, [ "[log]" ].concat(arguments)));
            }, n.prototype.info = function() {
                this.level > 2 || (console.info.apply(this, arguments), this.cacheLogs.apply(this, [ "[info]" ].concat(arguments)));
            }, n.prototype.warn = function() {
                this.level > 3 || (console.warn.apply(this, arguments), this.cacheLogs.apply(this, [ "[warn]" ].concat(arguments)));
            }, n.prototype.error = function() {
                this.level > 4 || (console.error.apply(this, arguments), this.cacheLogs.apply(this, [ "[error]" ].concat(arguments)));
            }, n.prototype.cacheLogs = function(e, t) {
                for (var n = [], r = 0; r < t.length; r++) {
                    var o = t[r];
                    "object" == _typeof(o) ? n.push(JSON.stringify(o)) : n.push(o);
                }
                var i = this.logNum++ + " " + e + " " + n.join("; ");
                this.logCache.push(i.replace("%c", ""));
            }, n.prototype.postLogs = function(e, t) {
                var n = this, r = new XMLHttpRequest();
                r.onreadystatechange = function() {
                    4 === r.readyState && (200 === r.status ? (console.info("LoggerPlugin::日志上报完成"), 
                    n.logCache = [], n.timeInterval = 5e3) : n.timeInterval += 5e3);
                }, r.open("POST", e), r.setRequestHeader("Content-Type", "plain/text;charset=utf-8"), 
                r.timeout = 360, r.send(t.join("\n"));
            }, e.exports = n;
        }, function(e, t, n) {
            var r = n(5);
            e.exports = function(e) {
                e.db && (r.db = e.db), e.rnfs && (r.rnfs = e.rnfs, r.rnfs.size || (r.rnfs.size = 1048576), 
                r.rnfs.nimPromise = function() {
                    var e = r.rnfs, t = e.size / 2 - 256, n = (0, r.rnfs.DocumentDirectoryPath + "/nimlog_0.log");
                    return e.exists(n).then(function(t) {
                        return t ? e.stat(n) : Promise.reject(0);
                    }).then(function(e) {
                        return e && e.size > t ? Promise.reject(1) : Promise.reject(0);
                    }).catch(function(t) {
                        return "number" == typeof t && (e.nimIndex = t), Promise.resolve();
                    });
                }());
            };
        }, , , , function(e, t, n) {
            n(50);
            var r = n(3);
            n(54)(r), e.exports = r;
        }, function(e, t) {
            function n(e) {
                this.concurrency = 0, this.pendingTasks = [], this.queue = Promise.resolve(), this.logger = e.logger, 
                this.notifyError = e.notifyError, this.enable = !1, this.server = null, this.name = null;
            }
            var r = n.prototype;
            r.reset = function(e) {
                this.enable = !1;
            }, r.clear = r.destroy = r.close = r.remove = r.init = function(e) {
                return Promise.resolve();
            }, e.exports = n;
        }, function(e, t, n) {
            var r = n(8).fn;
            r.setKey = function(e, t) {
                return this.put("kv", {
                    key: e,
                    value: t
                });
            }, r.getKey = function(e) {
                return this.get("kv", e).then(function(e) {
                    return e && e.value;
                });
            }, r.setDonnop = function(e) {
                return this.setKey("donnop", e);
            }, r.getDonnop = function() {
                return this.getKey("donnop");
            };
        }, function(e, t, n) {
            var r = n(8).fn;
            r.getTimetags = function(e) {
                var t = {};
                return this.getAll("timetag", {
                    filter: e,
                    mapper: function(e) {
                        return -1 !== e.name.indexOf("team-") ? t[e.name] = 0 : t[e.name] = e.value, e;
                    }
                }).then(function() {
                    return t;
                });
            }, r.getTeamMemberTimetags = function() {
                return this.getTimetags(function(e) {
                    return -1 !== e.name.indexOf("team-");
                });
            }, r.getTimetag = function(e) {
                return this.getOne("timetag", null, e).then(function(e) {
                    return (e = e || {
                        value: 0
                    }).value;
                });
            }, r.getTeamMemberTimetag = function(e) {
                return 0;
            }, r.updateTimetag = function(e, t) {
                var n = this, r = {
                    name: e,
                    value: t
                };
                return this.put("timetag", r).catch(function(e) {
                    n.notifyError && n.notifyError(e);
                });
            }, r.updateMyInfoTimetag = function(e) {
                return this.updateTimetag("myInfo", e);
            }, r.updateRelationTimetag = function(e) {
                return this.updateTimetag("relations", e);
            }, r.getRelationsTimetag = function() {
                return this.getTimetag("relations");
            }, r.updateFriendTimetag = function(e) {
                return this.updateTimetag("friends", e);
            }, r.getFriendsTimetag = function() {
                return this.getTimetag("friends");
            }, r.updateFriendUserTimetag = function(e) {
                return this.updateTimetag("friendUsers", e);
            }, r.updateTeamTimetag = function(e) {
                return this.updateTimetag("teams", e);
            }, r.getTeamsTimetag = function() {
                return this.getTimetag("teams");
            }, r.updateSuperTeamTimetag = function(e) {
                return this.updateTimetag("superTeams", e);
            }, r.getSuperTeamsTimetag = function() {
                return this.getTimetag("superTeams");
            }, r.updateTeamMemberTimetag = function(e, t) {
                return this.updateTimetag("team-" + e, t);
            }, r.getTeamMembersTimetag = function(e) {
                return this.getTimetag("team-" + e);
            }, r.updateSuperTeamMemberTimetag = function(e, t) {
                return this.updateTimetag("superTeam-" + e, t);
            }, r.getSuperTeamMembersTimetag = function(e) {
                return this.getTimetag("superTeam-" + e);
            }, r.updateMyTeamMembersTimetag = function(e) {
                return this.updateTimetag("myTeamMembers", e);
            }, r.getBroadcastMsgTimetag = function(e) {
                return this.getTimetag("broadcastMsg");
            }, r.updateBroadcastMsgTimetag = function(e) {
                return this.updateTimetag("broadcastMsg", parseInt(e));
            }, r.updateRoamingMsgTimetag = function(e) {
                return this.updateTimetag("roamingMsgs", e);
            }, r.updateSuperTeamRoamingMsgTimetag = function(e) {
                return this.updateTimetag("superTeamRoamingMsgs", e);
            }, r.updateMsgReceiptsTimetag = function(e) {
                return this.updateTimetag("msgReceipts", e);
            }, r.updateDonnopTimetag = function(e) {
                return this.updateTimetag("donnop", e);
            }, r.updateSessionAck = function(e) {
                return this.updateTimetag("sessionAck", e);
            }, r.updateDeleteMsgSelf = function(e) {
                return this.updateTimetag("deleteMsgSelf", e);
            }, r.updateSuperTeamSessionAck = function(e) {
                return this.updateTimetag("superTeamSessionAck", e);
            }, r.deleteTimetag = function(e) {
                return this.remove("timetag", e);
            }, r.deleteTeamMemberTimetag = function(e) {
                return this.deleteTimetag("team-" + e);
            }, r.deleteSuperTeamMemberTimetag = function(e) {
                return this.deleteTimetag("superTeam-" + e);
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0);
            r.mergeRelations = function(e, t, n, r, o) {
                var i = this, a = i.updateAndDelete("blacklist", e, t), s = i.updateAndDelete("mutelist", n, r);
                return Promise.all([ a, s ]).then(function() {
                    return i.logger.info("db::mergeRelations: timetag " + o), i.updateRelationTimetag(o), 
                    [ e, t, n, r, o ];
                });
            }, r.getRelations = function() {
                var e = this.getAll("blacklist"), t = this.getAll("mutelist");
                return Promise.all([ e, t ]);
            }, r.markInBlacklist = function(e) {
                if ((e = o.copy(e)).isAdd) {
                    var t = e.record;
                    return this.put("blacklist", t);
                }
                var n = e.account;
                return this.remove("blacklist", n);
            }, r.markInMutelist = function(e) {
                if ((e = o.copy(e)).isAdd) {
                    var t = e.record;
                    return this.put("mutelist", t);
                }
                var n = e.account;
                return this.remove("mutelist", n);
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0);
            r.mergeFriends = function(e, t, n) {
                var r = this;
                return r.updateAndDelete("friend", e, t).then(function() {
                    return r.logger.log("db::mergeFriends: updateAndDelete done", e && e.map(function(e) {
                        return e.account;
                    }).join(",")), n && r.updateFriendTimetag(n), [ e, t, n ];
                });
            }, r.putFriend = function(e) {
                return this.put("friend", e);
            }, r.updateFriend = function(e) {
                var t = this, n = (e = o.copy(e)).account;
                return this.getOne("friend", null, n, {
                    modifyObj: e
                }).then(function(e) {
                    return e ? t.logger.log("db::updateFriend: " + n) : t.logger.warn("db::updateFriend: no record " + n), 
                    e;
                });
            }, r.deleteFriend = function(e) {
                var t = this.remove("friend", e), n = this.deleteUser(e);
                return Promise.all([ t, n ]);
            }, r.getFriends = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return this.getAll("friend", {
                    filter: function(t) {
                        return void 0 !== e.updateTime ? t.valid && t.updateTime > e.updateTime : t.valid;
                    }
                });
            }, r.getFriend = function(e) {
                return this.getOne("friend", null, e);
            }, r.getUserFromBlackList = function(e) {
                return this.getOne("blacklist", null, e);
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0), i = n(4), a = n(25), s = n(20);
            function c(e) {
                return e.valid && e.validToCurrentUser;
            }
            function u(e) {
                return e && e.valid;
            }
            function l(e) {
                return e && o.fillUndef(e, {
                    mute: !1,
                    custom: ""
                }), e;
            }
            r.mergeTeams = function(e, t, n) {
                var r = this, o = r.put("team", e), i = r.leaveTeams(t, n);
                return Promise.all([ o, i ]).then(function() {
                    return r.logger.log("db::mergeTeams:"), r.updateTeamTimetag(n), [ e, t, n ];
                });
            }, r.putTeam = function(e) {
                if (e) return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    e.validToCurrentUser = !0;
                }), this.put("team", e);
            }, r.updateTeam = function(e) {
                var t = this, n = (e = o.copy(e)).teamId;
                return t.getOne("team", null, n, {
                    modifyObj: e
                }).then(function(r) {
                    if (r) t.logger.log("db::updateTeam: " + n); else if (t.logger.warn("db::updateTeam: no record " + n), 
                    e.validToCurrentUser) return t.putTeam(e);
                    return r;
                });
            }, r.transferTeam = function(e, t, n) {
                var r = this, o = e.teamId, i = e.memberUpdateTime, a = {
                    teamId: o,
                    account: t,
                    type: "normal",
                    updateTime: i
                }, s = {
                    teamId: o,
                    account: n,
                    type: "owner",
                    updateTime: i
                };
                return r.updateTeamMembers([ a, s ]).then(function() {
                    return r.putTeam(e).then(function() {
                        return r.logger.info("db::transferTeam: ".concat(e.teamId, " ").concat(t, " -> ").concat(n)), 
                        [ e, t, n ];
                    });
                });
            }, r.leaveTeam = function(e) {
                var t = this;
                return t.updateTeam({
                    teamId: e,
                    validToCurrentUser: !1
                }).then(function() {
                    return t.removeAllTeamMembers(e);
                });
            }, r.dismissTeam = function(e, t) {
                var n = this, r = {
                    teamId: e,
                    valid: !1,
                    validToCurrentUser: !1,
                    updateTime: t
                };
                return n.updateTeam(r).then(function() {
                    return n.removeAllTeamMembers(e);
                });
            }, r.leaveTeams = function(e, t) {
                var n, r = this, o = [];
                return e.forEach(function(e) {
                    n = r.leaveTeam(e.teamId, t), o.push(n);
                }), Promise.all(o);
            }, r.getTeamsByTeamIds = function(e) {
                var t, n = this, r = [];
                return e.forEach(function(e) {
                    t = n.getTeam(e), r.push(t);
                }), Promise.all(r);
            }, r.getTeam = function(e) {
                e = "" + e;
                var t = this;
                return t.getOne("team", null, e).then(function(e) {
                    return e ? (t.updateTeamProperties([ e ]), e) : null;
                });
            }, r.getTeams = function() {
                var e = this;
                return e.getAll("team", {
                    filter: c
                }).then(function(t) {
                    return e.updateTeamProperties(t), t;
                });
            }, r.updateTeamProperties = function(e) {
                e.forEach(function(e) {
                    e && a.fillProperties(e);
                });
            }, r.mergeTeamMembers = function(e, t, n, r) {
                var o = this, i = o.putTeamMembers(t), a = o.updateTeamMembers(n);
                return Promise.all([ i, a ]).then(function() {
                    return o.logger.log("db::mergeTeamMembers: " + e), o.updateTeamMemberTimetag(e, r);
                });
            }, r.putTeamMembers = function(e) {
                return this.put("teamMember", e);
            }, r.getTeamMembersByAccount = function(e) {
                return this.getOnly("teamMember", "account", e, {
                    filter: u,
                    mapper: l
                }).then();
            }, r.getTeamMembers = function(e) {
                var t = this;
                return e = "" + e, t.getOnly("teamMember", "teamId", e, {
                    filter: function(e) {
                        return e.valid;
                    },
                    mapper: l
                }).then(function(e) {
                    return t.updateTeamMemberProperties(e).then(function() {
                        return e;
                    });
                });
            }, r.updateTeamMemberProperties = function(e) {
                var t, n = this, r = [];
                return e.forEach(function(e) {
                    s.fillProperties(e) && (t = n.updateTeamMember(e), r.push(t));
                }), Promise.all(r);
            }, r.getInvalidTeamMembers = function(e, t) {
                var n = this;
                e = "" + e;
                var r, o = [];
                return t.forEach(function(t) {
                    r = n.getOne("teamMember", null, s.genId(e, t)).then(function(e) {
                        return l(e);
                    }), o.push(r);
                }), Promise.all(o);
            }, r.updateTeamMember = function(e) {
                var t = this, n = e.teamId, r = e.account, i = s.genId(n, r), a = o.filterObj(e, "nickInTeam muteTeam mute custom updateTime type valid");
                return this.getOne("teamMember", null, i, {
                    modifyObj: a,
                    mapper: l
                }).then(function(e) {
                    return e ? t.logger.log("db::updateTeamMember: ".concat(n, " ").concat(r), o.pickAsString(a, [ "muteTeam", "mute", "updateTime", "type", "valid" ])) : t.logger.warn("db::updateTeam: no record ".concat(n, " ").concat(r)), 
                    e;
                });
            }, r.updateTeamMembers = function(e) {
                var t = this;
                if (!e.length) return Promise.resolve();
                var n, r = [];
                return e.forEach(function(e) {
                    n = t.updateTeamMember(e), r.push(n);
                }), Promise.all(r);
            }, r.updateTeamManagers = function(e, t, n, r) {
                var o = t.map(function(t) {
                    return {
                        teamId: e,
                        account: t,
                        type: n ? "manager" : "normal",
                        updateTime: r
                    };
                });
                return this.updateTeamMembers(o);
            }, r.removeTeamMembersByAccounts = function(e, t) {
                var n = t.map(function(t) {
                    return {
                        teamId: e,
                        account: t,
                        valid: !1
                    };
                });
                return this.updateTeamMembers(n);
            }, r.removeAllTeamMembers = function(e) {
                var t = this;
                return t.getOnly("teamMember", "teamId", e, {
                    modifyObj: {
                        valid: !1
                    }
                }).then(function() {
                    return t.logger.warn("db::removeAllTeamMembers: " + e), t.deleteTeamMemberTimetag(e);
                });
            }, r.deleteTeamMembers = function(e) {
                var t = this;
                return t.getOnly("teamMember", "teamId", e, {
                    remove: !0
                }).then(function() {
                    t.logger.warn("db::deleteTeamMembers: " + e), t.deleteTeamMemberTimetag(e);
                });
            }, r.deleteTeam = function(e) {
                var t, n = this, r = [];
                return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    e = "" + e, t = n.get("team", e).then(function(t) {
                        if (t && c(t)) throw i.stillInTeamError({
                            callFunc: "team::deleteTeam",
                            team: t
                        });
                        var r = n.remove("team", e), o = n.deleteTeamMembers(e);
                        return Promise.all([ r, o ]);
                    }), r.push(t);
                }), 1 === r.length ? r[0] : Promise.all(r);
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0), i = n(4), a = n(51), s = n(29);
            function c(e) {
                return e.valid && e.validToCurrentUser;
            }
            function u(e) {
                return e && o.fillUndef(e, {
                    mute: !1,
                    custom: ""
                }), e;
            }
            r.mergeSuperTeams = function(e, t, n) {
                var r = this, o = r.put("superTeam", e), i = r.leaveTeams(t, n);
                return Promise.all([ o, i ]).then(function() {
                    return r.logger.log("db::mergeSuperTeams:"), r.updateSuperTeamTimetag(n), [ e, t, n ];
                });
            }, r.putSuperTeam = function(e) {
                if (e) return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    e.validToCurrentUser = !0;
                }), this.put("superTeam", e);
            }, r.updateSuperTeam = function(e) {
                var t = this, n = (e = o.copy(e)).teamId;
                return t.getOne("superTeam", null, n, {
                    modifyObj: e
                }).then(function(r) {
                    return r ? (t.logger.info("db::updateSuperTeam: " + n), r) : (t.logger.warn("db::updateSuperTeam: no record " + n), 
                    t.putSuperTeam(e));
                });
            }, r.leaveSuperTeam = function(e) {
                var t = this;
                return t.updateSuperTeam({
                    teamId: e,
                    validToCurrentUser: !1
                }).then(function() {
                    return t.removeAllSuperTeamMembers(e);
                });
            }, r.dismissSuperTeam = function(e, t) {
                var n = this, r = {
                    teamId: e,
                    valid: !1,
                    validToCurrentUser: !1,
                    updateTime: t
                };
                return n.updateSuperTeam(r).then(function() {
                    return n.removeAllSuperTeamMembers(e);
                });
            }, r.leaveSuperTeams = function(e, t) {
                var n, r = this, o = [];
                return e.forEach(function(e) {
                    n = r.leaveSuperTeam(e.teamId, t), o.push(n);
                }), Promise.all(o);
            }, r.getSuperTeamsByTeamIds = function(e) {
                var t, n = this, r = [];
                return e.forEach(function(e) {
                    t = n.getSuperTeam(e), r.push(t);
                }), Promise.all(r);
            }, r.getSuperTeam = function(e) {
                e = "" + e;
                var t = this;
                return t.getOne("superTeam", null, e).then(function(e) {
                    return e ? (t.updateSuperTeamProperties([ e ]), e) : null;
                });
            }, r.getSuperTeams = function() {
                var e = this;
                return e.getAll("superTeam", {
                    filter: c
                }).then(function(t) {
                    return e.updateSuperTeamProperties(t), t;
                });
            }, r.updateSuperTeamProperties = function(e) {
                e.forEach(function(e) {
                    e && a.fillProperties(e);
                });
            }, r.mergeSuperTeamMembers = function(e, t, n, r) {
                var o = this, i = o.putSuperTeamMembers(t), a = o.updateSuperTeamMembers(n);
                return Promise.all([ i, a ]).then(function() {
                    return o.logger.log("db::mergeSuperTeamMembers: " + e), null != r ? o.updateSuperTeamMemberTimetag(e, r) : Promise.resolve();
                });
            }, r.putSuperTeamMembers = function(e) {
                return this.put("superTeamMember", e);
            }, r.getSuperTeamMemberById = function(e) {
                return this.get("superTeamMember", e);
            }, r.getSuperTeamMembers = function(e, t) {
                var n = this;
                e = "" + e;
                var r = {
                    filter: function(e) {
                        return e.valid;
                    },
                    mapper: u
                };
                if (t) {
                    if ("number" != typeof t.joinTime) return void n.logger.error("db::getSuperTeamMembers::params.joinTime should be number, not ", t.joinTime);
                    t.limit && (r.limit = t.limit), t.reverse ? r.filter = function(e) {
                        return e.valid && e.joinTime <= t.joinTime;
                    } : r.filter = function(e) {
                        return e.valid && e.joinTime >= t.joinTime;
                    };
                }
                return n.getOnly("superTeamMember", "teamId", e, r).then(function(e) {
                    return n.updateSuperTeamMemberProperties(e).then(function() {
                        return e;
                    });
                });
            }, r.updateSuperTeamMemberProperties = function(e) {
                var t, n = this, r = [];
                return e.forEach(function(e) {
                    s.fillProperties(e) && (t = n.updateSuperTeamMember(e), r.push(t));
                }), Promise.all(r);
            }, r.getInvalidSuperTeamMembers = function(e, t) {
                var n = this;
                e = "" + e;
                var r, o = [];
                return t.forEach(function(t) {
                    r = n.getOne("superTeamMember", "id", s.genId(e, t)).then(function(e) {
                        return u(e);
                    }), o.push(r);
                }), Promise.all(o);
            }, r.updateSuperTeamMember = function(e) {
                var t = this, n = e.teamId, r = e.account, i = s.genId(n, r), a = o.filterObj(e, "nickInTeam muteTeam mute custom updateTime type valid");
                return this.getOne("superTeamMember", "id", i, {
                    modifyObj: a,
                    mapper: u
                }).then(function(e) {
                    return e ? t.logger.log("db::updateSuperTeamMember: ".concat(n, " ").concat(r), o.pickAsString(a, [ "muteTeam", "mute", "updateTime", "type", "valid" ])) : t.logger.warn("db::updateSuperTeam: no record ".concat(n, " ").concat(r)), 
                    e;
                });
            }, r.updateSuperTeamMembers = function(e) {
                var t = this;
                if (!e.length) return Promise.resolve();
                var n, r = [];
                return e.forEach(function(e) {
                    n = t.updateSuperTeamMember(e), r.push(n);
                }), Promise.all(r);
            }, r.removeSuperTeamMembersByAccounts = function(e, t) {
                var n = t.map(function(t) {
                    return {
                        teamId: e,
                        account: t,
                        valid: !1
                    };
                });
                return this.updateSuperTeamMembers(n);
            }, r.removeAllSuperTeamMembers = function(e) {
                var t = this;
                return t.getOnly("superTeamMember", "teamId", e, {
                    modifyObj: {
                        valid: !1
                    }
                }).then(function() {
                    return t.logger.warn("db::removeAllSuperTeamMembers: " + e), t.deleteSuperTeamMemberTimetag(e);
                });
            }, r.deleteSuperTeamMembers = function(e) {
                var t = this;
                return t.getOnly("superTeamMember", "teamId", e, {
                    remove: !0
                }).then(function() {
                    t.logger.warn("db::deleteSuperTeamMembers: " + e), t.deleteSuperTeamMemberTimetag(e);
                });
            }, r.deleteSuperTeam = function(e) {
                var t, n = this, r = [];
                return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    e = "" + e, t = n.get("superTeam", e).then(function(t) {
                        if (t && c(t)) throw i.stillInTeamError({
                            callFunc: "team::deleteTeam",
                            team: t
                        });
                        var r = n.remove("superTeam", e), o = n.deleteSuperTeamMembers(e);
                        return Promise.all([ r, o ]);
                    }), r.push(t);
                }), 1 === r.length ? r[0] : Promise.all(r);
            }, r.transferSuperTeam = function(e, t, n) {
                var r = this;
                return r.updateSuperTeamMembers([ t, n ]).then(function() {
                    return r.putSuperTeam(e).then(function() {
                        return r.logger.info("db::transferSuperTeam: ".concat(e.teamId, " ").concat(t.account, " -> ").concat(n.account)), 
                        [ e, t, n ];
                    });
                });
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0);
            r.mergeMyInfo = function(e, t) {
                var n = this;
                return n.put("user", e).then(function() {
                    return t ? n.updateMyInfoTimetag(e.updateTime) : e;
                });
            }, r.mergeFriendUsers = function(e, t) {
                var n = this;
                return n.putUsers(e).then(function() {
                    n.updateFriendUserTimetag(t);
                });
            }, r.putUsers = function(e) {
                return this.put("user", e);
            }, r.putUser = function(e) {
                return this.put("user", e);
            }, r.updateUser = function(e) {
                var t = this, n = (e = o.copy(e)).account;
                return this.getOne("user", null, n, {
                    modifyObj: e
                }).then(function(e) {
                    return e ? t.logger.log("db::updateUser: " + n) : t.logger.warn("db::updateUser: no record " + n), 
                    e;
                });
            }, r.putUsersIfIsFriend = function(e) {
                var t, n = this, r = [], o = [];
                return e.forEach(function(e) {
                    t = n.getFriend(e.account).then(function(r) {
                        return r && (t = n.putUser(e), o.push(t)), r;
                    }), r.push(t);
                }), Promise.all(r).then(function() {
                    return Promise.all(o).then(function(e) {
                        return e;
                    });
                });
            }, r.deleteUser = function(e) {
                return this.remove("user", e);
            }, r.getUser = function(e) {
                return this.getOne("user", null, e);
            }, r.getUsers = function(e) {
                return this.getAll("user", {
                    filter: function(t) {
                        return -1 !== e.indexOf(t.account);
                    }
                });
            }, r.getAllUsers = function() {
                return this.getAll("user");
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0), i = n(1);
            r.putMsg = function(e) {
                var t = this;
                return o.isArray(e) || (e = [ e ]), !e.length || e[0].filter ? Promise.resolve() : (e = e.filter(function(e) {
                    return !e.ignore;
                }), t.put("msg1", e).catch(function(n) {
                    return t.notifyError && t.notifyError(n), Promise.resolve(e, n);
                }));
            }, r.putMsgReadDetail = function(e) {
                var t = this;
                if (e.idClient) return this.put("msgReadDetail", e).catch(function(e) {
                    t.logger.error("putMsgReadDetail error", e);
                });
            }, r.getMsgReadDetail = function(e) {
                return this.getOne("msgReadDetail", null, e);
            }, r.updateMsg = function(e) {
                var t = this;
                if (!e.filter) {
                    var n = e.idClient, r = o.filterObj(e, "resend status idServer time localCustom commentTimetag comments hasSendAck");
                    return t.getOne("msg1", null, n, {
                        modifyObj: r
                    }).then(function(e) {
                        return e ? t.logger.info("db::updateMsg: ".concat(n, "，idServer: ").concat(r.idServer, "，status: ").concat(r.status, "，time: ").concat(r.time)) : t.logger.warn("db::updateMsg: no record " + n), 
                        e;
                    }).catch(function(n) {
                        return t.notifyError && t.notifyError(n), Promise.resolve(e);
                    });
                }
            }, r.updateMsgBatch = function(e) {
                var t = this;
                if (i.isRN) this.logger.warn("react native can not support updateMsgBatch"); else {
                    this.checkDB();
                    var n = this.server.getIndexedDB().transaction([ "msg1" ], "readwrite").objectStore("msg1");
                    e.forEach(function(e) {
                        if (e.idClient) {
                            var r = n.get(e.idClient);
                            r.onerror = function(e) {
                                t.logger.error("updateMsgBatch::store.get:error", e);
                            }, r.onsuccess = function(o) {
                                var i = r.result || e;
                                n.put(Object.assign({}, i, e)).onerror = function(e) {
                                    t.logger.error("updateMsgBatch::store.put:error", e);
                                };
                            };
                        }
                    });
                }
            }, r.getMsgs = function(e) {
                return i.isBrowser ? this.getMsgsIndexedDB(e) : i.isRN ? this.getMsgsRN(e) : Promise.resolve();
            }, r.getMsgsRN = function(e) {
                var t = {};
                return "number" == typeof e.start && (t.lowerBound = [ "time", e.start ]), "number" == typeof e.end && e.end !== 1 / 0 && (t.upperBound = [ "time", e.end ]), 
                t.desc = !1, t.index = "time", "boolean" == typeof e.desc && (t.desc = e.desc), 
                "number" == typeof e.limit && (t.limit = e.limit), t.searchIndex = [], e.sessionId && t.searchIndex.push([ "sessionId", e.sessionId ]), 
                "string" == typeof e.type && t.searchIndex.push([ "type", e.type ]), this.getAll("msg1", t);
            }, r.getMsgsIndexedDB = function(e) {
                this.checkDB();
                var t = "time", n = !1, r = !1, i = (e = e || {}).sessionId || [], a = e.sessionIds || [];
                o.isString(i) ? i = [ i ] : Array.isArray(i) || (i = []), o.isString(a) ? a = [ a ] : Array.isArray(a) || (a = []);
                var s = i.concat(a);
                1 === s.length ? (n = !0, t = "sessionTime", i = s[0]) : s.length > 1 && (n = !0, 
                r = !0, a = s);
                var c = e.start || 0, u = e.end || 1 / 0, l = c, d = u;
                n && !r && (l = [ i, c ], d = [ i, u ]);
                var f = !1 !== e.desc, p = e.limit || 100, m = !1, g = !1, h = e.type || [], y = e.types || [];
                o.isString(h) ? h = [ h ] : Array.isArray(h) || (h = []), o.isString(y) ? y = [ y ] : Array.isArray(y) || (y = []);
                var v = h.concat(y);
                1 === v.length ? (m = !0, h = v[0]) : v.length > 1 && (m = !0, g = !0, y = v);
                var b, T = e.subTypes && e.subTypes.length, _ = e.keyword || "", S = e.filterFunc;
                return (r || m || _ || T || o.isFunction(S)) && (b = function(t) {
                    if (r && -1 === a.indexOf(t.sessionId)) return !1;
                    if (m) if (g) {
                        if (-1 === y.indexOf(t.type)) return !1;
                    } else if (h !== t.type) return !1;
                    return (!T || -1 !== e.subTypes.indexOf(t.subType)) && (!_ || -1 !== (t.text || t.tip || "").indexOf(_)) && (!S || S(t));
                }), this.server.query("msg1", t).bound(l, d, !0, !0).desc(f).limit(p).filter(b).execute();
            }, r.getMsgCountAfterAck = function(e) {
                return i.isBrowser ? this.getMsgCountAfterAckIndexedDB(e) : i.isRN ? this.getMsgCountAfterAckRN(e) : Promise.resolve();
            }, r.getMsgCountAfterAckRN = function(e) {
                var t = e = e || {}, n = t.sessionId, r = t.ack;
                return this.checkDB(), this.getAll("msg1", {
                    searchIndex: [ "sessionId", n ],
                    lowerBound: [ "time", r ]
                }).then(function(t) {
                    var n = t.filter(function(t) {
                        return "out" !== t.flow && !1 !== t.isUnreadable && ("notification" !== t.type || e.shouldCountNotifyUnread(t));
                    });
                    return Promise.resolve(n.length);
                });
            }, r.getMsgCountAfterAckIndexedDB = function(e) {
                var t = (e = e || {}).sessionId;
                return this.checkDB(), this.server.query("msg1", "sessionTime").bound([ t, e.ack ], [ t, 1 / 0 ], !0, !0).execute().then(function(t) {
                    var n = t.filter(function(t) {
                        return "out" !== t.flow && !1 !== t.isUnreadable && ("notification" !== t.type || e.shouldCountNotifyUnread(t));
                    });
                    return Promise.resolve(n.length);
                });
            }, r.amendMsg = function(e) {
                return e ? (o.notexist(e.text) && (e.text = ""), e) : null;
            }, r.getMsgByIdClient = function(e) {
                var t = this;
                return t.getOne("msg1", null, e).then(function(e) {
                    return t.amendMsg(e);
                });
            }, r.getMsgsByIdClients = function(e) {
                var t, n = this, r = [];
                return e.forEach(function(e) {
                    t = n.getMsgByIdClient(e), r.push(t);
                }), Promise.all(r);
            }, r.clearSendingMsgs = function() {
                var e = this;
                return e.getOnly("msg1", "status", "sending", {
                    modifyObj: {
                        status: "fail"
                    }
                }).then(function(t) {
                    e.logger.info("db::clearSendingMsgs: msgs send failed", t && t.map(function(e) {
                        return e.idClient;
                    }).join(","));
                });
            }, r.deleteMsg = function(e) {
                var t, n = this, r = [];
                return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    t = n.getOne("msg1", null, e, {
                        remove: !0
                    }).then(function(e) {
                        return n.logger.info("db::deleteMsg:", e && e.idClient), e;
                    }), r.push(t);
                }), 1 === r.length ? r[0] : Promise.all(r);
            }, r.deleteMsgsBySessionId = function(e) {
                var t = this, n = null, r = e.start, o = e.end;
                return void 0 !== r && void 0 !== o ? n = function(e) {
                    return e > r && e < o;
                } : void 0 !== r ? n = function(e) {
                    return e > r;
                } : void 0 !== o && (n = function(e) {
                    return e < o;
                }), n ? t.getOnly("msg1", "sessionId", e.sessionId).then(function(e) {
                    var r = [];
                    return (e = e || []).map(function(e) {
                        n(e.time) && r.push(e.idClient);
                    }), t.logger.info("db::deleteMsgsBySessionId: session results", r), t.deleteMsg(r);
                }) : t.getOnly("msg1", "sessionId", e.sessionId, {
                    remove: !0
                });
            }, r.deleteMsgsByTime = function(e) {
                return this.remove("msg1", null, "time", e.start, e.end, !0, !0);
            }, r.deleteAllMsgs = function() {
                var e = this.clearTable("msg1"), t = this.clearTable("session");
                return Promise.all([ e, t ]);
            }, r.getMsgPins = function(e) {
                return this.getOnly("msgPin", "sessionId", e);
            }, r.deleteMsgPins = function(e) {
                return this.getOnly("msgPin", "sessionId", e, {
                    remove: !0
                });
            }, r.putMsgPin = function(e) {
                var t = this;
                return this.modifyOrPut({
                    table: "msgPin",
                    obj: e,
                    key: "idClient"
                }).catch(function(e) {
                    t.notifyError && t.notifyError(e);
                });
            }, r.putMsgPins = function(e) {
                return this.put("msgPin", e);
            }, r.deleteMsgPin = function(e) {
                var t = this;
                return this.getOne("msgPin", null, e.idClient, {
                    remove: !0
                }).then(function(e) {
                    return t.logger.info("db::deleteMsgPin:", e.idClient), e;
                });
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0), i = o.notundef;
            r.putSysMsg = function(e) {
                var t = this;
                return new Promise(function(n) {
                    if (o.isArray(e) || (e = [ e ]), !e[0].filter) {
                        var r = [], i = e.length;
                        e.forEach(function(e) {
                            e = o.copy(e), t.put("sysMsg", e).then(function(e) {
                                r.push(e[0]), a();
                            }, a);
                        });
                    }
                    function a() {
                        0 == --i && n(r);
                    }
                });
            }, r.getSysMsgs = function(e) {
                var t = !(e = e || {}).reverse, n = e.limit || 100, r = null, o = null;
                e.category && (r = "category", o = e.category), e.type && (r = "type", o = e.type);
                var a, s = e.lastIdServer, c = !1, u = e.read;
                return (i(s) || i(u)) && (a = function(e) {
                    return i(s) ? (s = "" + s, c ? t() : (e.idServer === s && (c = !0), !1)) : t();
                    function t() {
                        return !i(u) || e.read === u;
                    }
                }), e = {
                    filter: a,
                    desc: t,
                    limit: n
                }, r ? this.getOnly("sysMsg", r, o, e) : this.getAll("sysMsg", e);
            }, r.getSysMsgByIdServer = function(e) {
                return this.getOne("sysMsg", "idServer", e);
            }, r.updateSysMsg = function(e) {
                var t = this;
                if (!e.filter) {
                    var n = "" + e.idServer, r = o.filterObj(e, "read state error localCustom");
                    return this.getOne("sysMsg", "idServer", n, {
                        modifyObj: r
                    }).then(function(e) {
                        return e ? t.logger.log("db::updateSysMsg: " + n, o.pickAsString(r, [ "read", "state", "error" ])) : t.logger.warn("db::updateSession: " + n), 
                        e;
                    });
                }
            }, r.markSysMsgRead = function(e) {
                var t = this;
                return new Promise(function(n, r) {
                    o.isArray(e) || (e = [ e ]);
                    var i, a, s = [], c = [];
                    e.forEach(function(e) {
                        i = t.getSysMsgByIdServer(e.idServer).then(function(e) {
                            e && !e.read && (a = t.updateSysMsg({
                                idServer: e.idServer,
                                read: !0
                            }), c.push(a));
                        }, r), s.push(i);
                    }), Promise.all(s).then(function() {
                        Promise.all(c).then(function(e) {
                            n(e);
                        }, r);
                    }, r);
                });
            }, r.deleteSysMsg = function(e) {
                var t, n = this, r = [];
                return o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                    e = "" + e, t = n.getOne("sysMsg", "idServer", e, {
                        remove: !0
                    }), r.push(t);
                }), 1 === r.length ? r[0] : Promise.all(r);
            }, r.deleteAllSysMsgs = function() {
                var e = this.clearTable("sysMsg"), t = this.clearTable("sysMsgUnread");
                return Promise.all([ e, t ]);
            }, r.getSysMsgUnread = function() {
                return this.getAll("sysMsgUnread").then(function(e) {
                    var t = {};
                    return e.forEach(function(e) {
                        t[e.type] = e.num;
                    }), t;
                });
            }, r.updateSysMsgUnread = function(e) {
                var t = this;
                e = o.copy(e);
                var n = [];
                return Object.keys(e).forEach(function(t) {
                    n.push({
                        type: t,
                        num: e[t]
                    });
                }), this.put("sysMsgUnread", n).then(function() {
                    return t.logger.info("db::updateSysMsgUnread: ", e), e;
                });
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0);
            o.notundef, r.putBroadcastMsg = function(e) {
                var t = this;
                return new Promise(function(n) {
                    o.isArray(e) || (e = [ e ]);
                    var r = [], i = e.length;
                    function a() {
                        0 == --i && n(r);
                    }
                    e.forEach(function(e) {
                        e = o.copy(e), t.put("broadcastMsg", e).then(function(e) {
                            r.push(e[0]), a();
                        }, a);
                    });
                });
            }, r.getBroadcastMsgs = function(e) {
                return e = e || {}, this.getAll("broadcastMsg", e);
            };
        }, function(e, t, n) {
            var r = n(8).fn, o = n(0), i = o.notundef;
            r.putSession = function(e) {
                var t = this, n = e.unread;
                return void 0 === (e = o.merge({}, e)).updateTime && e.lastMsg && e.lastMsg.time && (e.updateTime = e.lastMsg.time), 
                (e.lastMsg || !e.ack && !e.msgReceiptTime) && (e.isDeleted = !1), delete e.unread, 
                this.modifyOrPut({
                    table: "session",
                    obj: e,
                    key: "id",
                    modifyObjWhenPut: {
                        unread: 0
                    }
                }).catch(function(r) {
                    return t.notifyError && t.notifyError(r), e.unread = n, Promise.resolve(e);
                });
            }, r.getAllSessions = function() {
                return this.getAll("session", {
                    index: "updateTime",
                    desc: !0
                }).catch(function(e) {
                    self.notifyError && self.notifyError(e);
                });
            }, r.getSessions = function(e) {
                var t = !(e = e || {}).reverse, n = e.limit || 100, r = e.lastSessionId, o = e.sessionId, a = !1, s = this, c = function() {
                    return !0;
                }, u = function() {
                    return !0;
                };
                return i(o) ? this.getSession(o, e.isDeleted) : (i(r) && (c = function(e) {
                    return e.id === r && (a = !0), a;
                }), e.includeDeleted || (u = function(e) {
                    return !e.isDeleted;
                }), this.getAll("session", {
                    index: "updateTime",
                    desc: t,
                    limit: n,
                    filter: function(e) {
                        return c(e) && u(e);
                    }
                }).catch(function(e) {
                    s.notifyError && s.notifyError(e);
                }));
            }, r.getSession = function(e, t) {
                var n = this;
                return this.get("session", e).then(function(e) {
                    return Promise.resolve(!t && e && e.isDeleted ? void 0 : e);
                }).catch(function(e) {
                    n.notifyError && n.notifyError(e);
                });
            }, r.updateSession = function(e) {
                var t = this, n = e.id, r = o.filterObj(e, "ack unread lastMsg localCustom msgReceiptTime msgReceiptServerTime isTop topCustom isDeleted");
                return e.lastMsg && (r.lastMsg = e.lastMsg), this.getOne("session", null, n, {
                    modifyObj: r
                }).then(function(e) {
                    if (e) {
                        var i = "db::updateSession: ".concat(n, " ").concat(o.pickAsString(r, [ "ack", "unread", "msgReceiptTime", "msgReceiptServerTime", "isTop", "isDeleted" ]));
                        i += r.lastMsg ? " lastMsg.idClient:" + o.get(r, "lastMsg.idClient") : "", t.logger.info(i);
                    } else t.logger.warn("db::updateSession: no record " + n);
                    return e;
                }).catch(function(e) {
                    t.notifyError && t.notifyError(e);
                });
            }, r.getStickTopSessions = function() {
                var e = this;
                return this.getAll("session", {
                    filter: function(e) {
                        return e && e.isTop;
                    }
                }).catch(function(t) {
                    e.notifyError && e.notifyError(t);
                });
            }, r.deleteSession = function(e) {
                return this.remove("session", e);
            }, r.deleteSessionLogic = function(e) {
                var t = this;
                if (!Array.isArray(e)) return this.getOne("session", null, e, {
                    modifyObj: {
                        isDeleted: !0
                    }
                });
                var n = [];
                return e.forEach(function(e) {
                    n.push(t.getOne("session", null, e, {
                        modifyObj: {
                            isDeleted: !0
                        }
                    }));
                }), Promise.all(n);
            }, r.putSessionsWithMoreRoaming = function(e) {
                return this.put("sessionsWithMoreRoaming", e);
            }, r.updateSessionsWithMoreRoaming = function(e) {
                var t = e.id;
                return delete e.id, this.getOne("sessionsWithMoreRoaming", null, t, {
                    modifyObj: e
                });
            }, r.deleteSessionsWithMoreRoaming = function(e) {
                return this.remove("sessionsWithMoreRoaming", e);
            }, r.getSessionsWithMoreRoaming = function(e) {
                return e ? this.get("sessionsWithMoreRoaming", e) : this.getAll("sessionsWithMoreRoaming");
            };
        }, function(e, t, n) {
            var r = n(0).throttle;
            e.exports = function() {
                function e(t) {
                    _classCallCheck(this, e), this.arr = [], this.timer = null, this.maxLength = t.maxLength || 100, 
                    this.throttleTime = t.throttleTime || 5e3, this.processFn = t.processFn || function() {}, 
                    this.throttleFn = t.processFn || function() {}, t.processFn && (this.throttleFn = r(function(e) {
                        t.processFn(e), e.length = 0;
                    }, this.throttleTime, {
                        leading: !1
                    }));
                }
                return _createClass(e, [ {
                    key: "add",
                    value: function(e) {
                        "[object Array]" === Object.prototype.toString.call(e) ? this.arr = this.arr.concat(e) : this.arr.push(e), 
                        this.arr.length >= this.maxLength && (this.processFn(this.arr), this.arr = []), 
                        this.timer = this.throttleFn(this.arr);
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.arr = [], this.timer && clearTimeout(this.timer), this.processFn = function() {}, 
                        this.throttleFn = function() {};
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.arr = [], this.timer && clearTimeout(this.timer);
                    }
                } ]), e;
            }();
        }, function(e, t, n) {
            var r = n(2).fn, o = n(1), i = n(9), a = n(0), s = n(10);
            function c(e, t) {
                var n = this;
                n.socketUrls = [], i.updateUniSuccCache("login", {
                    operation_type: "HTTP",
                    target: t
                }), n.msgStatEnable = !!e.common["msg.stat.enable"], n.msgStatEnable && (n.msgDelayTimer = setTimeout(n.doReportMsgDelay.bind(n), 1e4)), 
                e.common.link.forEach(function(e) {
                    n.socketUrls.push(o.formatSocketUrl({
                        url: e,
                        secure: n.options.secure
                    }));
                }), e.common["link.default"].forEach(function(e) {
                    e = o.formatSocketUrl({
                        url: e,
                        secure: n.options.secure
                    }), -1 === n.socketUrls.indexOf(e) && n.socketUrls.push(e);
                });
                try {
                    o.uploadUrl = e.nosup[0];
                } catch (e) {}
                if (o.chunkUploadUrl = o.chunkUploadUrl || e["nos-chunk"] || "", n.logger.info("link::refreshSocketUrl: ".concat(t.slice(0, -32), " ajax load , got socket urls "), n.socketUrls), 
                n.connectToUrl(n.getNextSocketUrl()), o.hasLocalStorage) {
                    e.common["lbs.backup"] && n.options.lbsBackup && localStorage.setItem("nim_lbs_backup", JSON.stringify(e.common["lbs.backup"]));
                    var r = a.get(e, "common.report.apierror.on");
                    e.common.report && localStorage.setItem("nim_lbs_fail_report_on", !1 === r ? "0" : "1");
                    var s = a.get(e, "common.report.apierror.threshold.time");
                    s && localStorage.setItem("nim_lbs_fail_report_time", s);
                }
            }
            r.probeIp = function() {
                var e = this, t = o.ipProbeAddr, n = 0, r = -1;
                function i(t) {
                    2 === ++n && (n = -1, e.doRefreshSocketUrl(r));
                }
                s(t.ipv4, {
                    timeout: 2e3,
                    onerror: i,
                    onload: function(e) {
                        r++, i();
                    }
                }), s(t.ipv6, {
                    timeout: 2e3,
                    onerror: i,
                    onload: function(e) {
                        r += 2, i();
                    }
                }), setTimeout(function() {
                    n || -1 === r || (n = -1, e.doRefreshSocketUrl(r));
                }, 100);
            }, r.refreshSocketUrl = function() {
                o.isWeixinApp ? this.doRefreshSocketUrl(2) : 2 === this.options.ipVersion ? this.probeIp() : this.doRefreshSocketUrl(this.options.ipVersion);
            }, r.doRefreshSocketUrl = function(e) {
                var t = this, n = t.options.lbsUrl;
                1 !== e && 2 !== e && (e = 0), o.ipVersion = e;
                var r = new Date().getTime();
                this.doRequestLbs(n).then(function(e) {
                    c.call(t, e, n);
                }).catch(function(e) {
                    if (t.logger.error("link::refreshSocketUrl: ".concat(n, " ajax lbs error"), e), 
                    f.call(t, n, e, r), t.options.lbsBackup) {
                        var i = t.options.lbsBackupUrlsCustomer || [], a = [];
                        o.hasLocalStorage && (a = (a = localStorage.getItem("nim_lbs_backup")) ? JSON.parse(a) : []);
                        var s = a.concat(i);
                        m.call(t, s);
                    } else p.call(t);
                });
            }, r.doRequestLbs = function(e) {
                var t = this.options, n = o.info;
                return e = e + a.genUrlSep(e) + "id=" + t.account + "&sv=" + n.sdkVersion + "&pv=" + n.protocolVersion + "&networkType=" + o.ipVersion + "&k=" + t.appKey, 
                this.logger.info("doRequestLbs " + e.slice(0, -32)), new Promise(function(t, n) {
                    o.isWeixinApp ? wx.request({
                        url: e,
                        success: function(e) {
                            var r = e && e.statusCode, o = e && e.data;
                            200 === r ? t(o) : n(o);
                        },
                        fail: function(e) {
                            n(e);
                        }
                    }) : s(e, {
                        proxyUrl: a.url2origin(e) + "/lbs/res/cors/nej_proxy_frame.html",
                        timeout: o.xhrTimeout,
                        onload: function(e) {
                            t(JSON.parse(e));
                        },
                        onerror: function(e) {
                            n(e);
                        }
                    });
                });
            };
            var u = [], l = null;
            if (o.hasLocalStorage) {
                var d = localStorage.getItem("nim_lbs_fail_report_time");
                d = d ? parseInt(d) : 6e4, l = a.throttle(function() {
                    if (u.length > 0) {
                        var e = JSON.stringify(u);
                        s("https://statistic.live.126.net/statics/report/im/api/error", {
                            method: "POST",
                            timeout: 2e3,
                            headers: {
                                "Content-Type": "application/json"
                            },
                            data: e,
                            onload: function() {},
                            onerror: function() {
                                var t = JSON.parse(e).concat(u);
                                u = t.reduce(function(e, t) {
                                    return e.some(function(e) {
                                        return e.request_url === t.url && e.error_code === t.code;
                                    }) || e.push(t), e;
                                }, []);
                            }
                        }), u = [];
                    }
                }, d, {
                    leading: !1
                });
            }
            function f(e, t, n) {
                var r = new Date().getTime(), a = t.status || 10001;
                i.updateUniErrCache("login", {
                    operation_type: "HTTP",
                    target: e
                }), this.api.reportLogs({
                    event: "nimlb",
                    code: 3001
                }), u.some(function(t) {
                    return t.request_url === e && t.error_code === a;
                }) || u.push({
                    request_url: e,
                    appkey: this.options.appKey,
                    accid: this.options.account,
                    timestamp: r,
                    error_code: a,
                    platform: "web",
                    send_time: r - n
                }), o.hasLocalStorage && "0" !== localStorage.getItem("nim_lbs_fail_report_on") && l && l();
            }
            function p() {
                var e = o.getDefaultLinkUrl(this.options.secure);
                e ? (this.logger.warn("link::refreshSocketUrl: use default link url", e), this.connectToUrl(e)) : this.onDisconnect("link::refreshSocketUrl");
            }
            function m(e) {
                var t = this;
                if (!(e && e.length > 0)) return i.updateUniErrCache("login", {
                    operation_type: "HTTP",
                    error: "no backup lbs"
                }), void p.call(t);
                t.logger.info("doRequestBackupLbsUrls: use backup lbs url", e);
                var n = 0, r = 0, o = !1, a = setInterval(function() {
                    if (n >= e.length) return a && clearInterval(a), void t.logger.warn("doRequestBackupLbsUrls backup lbs all tried");
                    var i = e[n++], s = new Date().getTime();
                    t.doRequestLbs(i).then(function(e) {
                        a && clearInterval(a), !1 === o && c.call(t, e, i), o = !0;
                    }).catch(function(n) {
                        r++, t.logger.error("doRequestBackupLbsUrls: ".concat(i, " ajax lbs error"), n), 
                        f.call(t, i, n, s), r >= e.length && (a && clearInterval(a), t.logger.warn("doRequestBackupLbsUrls: backup lbs all failed"), 
                        p.call(t));
                    });
                }, 2e3);
            }
        }, function(e, t, n) {
            var r = n(2).fn, o = n(26), i = n(1), a = "NIM-AllGrayscaleConfig", s = "NIM-AllMixStorePolicy";
            function c() {
                var e = this;
                if (i.hasLocalStorage && localStorage.getItem(a)) {
                    var t = null;
                    try {
                        t = JSON.parse(localStorage.getItem(a))[e.options.appKey];
                    } catch (t) {
                        t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                        e.logger.error("appGrayConfig error", t);
                    }
                    t && (e.appGrayConfig = t.timeStamp + 1e3 * t.ttl > new Date().getTime() ? t : null, 
                    e.appGrayConfig && u.apply(e));
                }
                e.appGrayConfig || e.sendCmd("getGrayscaleConfig", {
                    providers: ""
                }, function(t, n) {
                    if (t) e.logger.error("Calculate Delay time, getGrayscaleConfig error", t); else if (n) {
                        var r = n;
                        if (r.grayConfig = JSON.parse(r.grayConfig), r.ttl = Number(r.ttl), r.timeStamp = new Date().getTime(), 
                        e.appGrayConfig = r, i.hasLocalStorage) {
                            var o = localStorage.getItem(a) ? JSON.parse(localStorage.getItem(a)) : {};
                            o[e.options.appKey] = r, localStorage.setItem(a, JSON.stringify(o));
                        }
                        u.apply(e);
                    } else e.logger.error("Calculate Delay time, getGrayscaleConfig error", n);
                });
            }
            function u() {
                var e = this;
                if (i.hasLocalStorage && localStorage.getItem(s)) {
                    var t = null;
                    try {
                        t = JSON.parse(localStorage.getItem(s))[e.options.appKey];
                    } catch (t) {
                        t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                        e.logger.error("mixStorePolicy error", t);
                    }
                    t && (e.mixStorePolicy = t.timeStamp + 1e3 * t.ttl > new Date().getTime() ? t : null, 
                    e.mixStorePolicy && t.ttl && 0 !== t.ttl && (e.mixStorePolicyClock = setTimeout(u.bind(e), 1e3 * t.ttl)));
                }
                e.mixStorePolicy || e.sendCmd("getMixStorePolicy", {
                    providers: e.options.providers && e.options.providers.s3 ? [ 1, 2 ] : [ 1 ]
                }, function(t, n) {
                    if (t) {
                        e.logger.error("Calculate Delay time, getMixStorePolicy error", t);
                        try {
                            n = JSON.parse(localStorage.getItem("NIM-AllMixStorePolicy"))[e.options.appKey];
                        } catch (t) {
                            t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                            e.logger.error("error:", "get last mixStorePolicy failed", t);
                        }
                    } else if (n) {
                        var r = n;
                        if (r.ttl = Number(r.ttl), r.providers = r.providers.split(","), r.nosPolicy = r.nosPolicy ? JSON.parse(r.nosPolicy) : null, 
                        r.s3Policy = r.s3Policy ? JSON.parse(r.s3Policy) : null, r.timeStamp = new Date().getTime(), 
                        e.mixStorePolicy = r, r.ttl && 0 !== r.ttl && (e.mixStorePolicyClock = setTimeout(u.bind(e), 1e3 * r.ttl)), 
                        i.hasLocalStorage) {
                            var o = localStorage.getItem(s) ? JSON.parse(localStorage.getItem(s)) : {};
                            o[e.options.appKey] = r, localStorage.setItem(s, JSON.stringify(o));
                        }
                    } else e.logger.error("Calculate Delay time, mixStorePolicy error", n);
                });
            }
            r.assembleLogin = function() {
                var e = this.assembleIMLogin();
                return this.addPushInfo instanceof Function ? this.addPushInfo(e) : Promise.resolve({
                    login: e
                });
            }, r.afterLogin = function() {
                var e = this, t = this;
                t.sendCmd("getNosCdnHost", {});
                var n = new Date().getTime();
                t.sendCmd("getServerTime", {}, function(e, r) {
                    if (e) t.logger.error("Calculate Delay time, getServerTime error", e); else if (r) {
                        var o = new Date().getTime(), i = (o - n) / 2, a = r.getTime ? r.getTime() : r;
                        t.relativeSeverTime = parseInt(o - a - i);
                    } else t.logger.warn("Calculate Delay time, getServerTime not correct");
                }), c.apply(this), this.initPush instanceof Function && this.initPush();
                var r = this.db;
                if (r.enable) {
                    var o = this.account;
                    this.options.appendAppKeyForDBName && (o += "-" + this.options.appKey), this.db.init(o).then(function() {
                        e.notifyLogin(), e.syncData();
                    }, function(t) {
                        e.logger.warn("link::afterLogin: no db", t), r.reset(!1), e.notifyLogin(), e.syncData();
                    });
                } else this.logger.info("link::afterLogin: no db"), this.notifyLogin(), this.syncData();
            }, r.getFileAuthToken = function(e) {
                var t = this, n = t.mixStorePolicy.nosPolicy.authPolicy.policyType;
                -1 !== n ? n.indexOf(e.type) < 0 ? t.logger.error("this type Token error not support") : 3 != e.type || e.urls && e.urls.length ? t.sendCmd("getBackSourceToken", {
                    mixAuthTokenReq: e
                }, function(n, r) {
                    if (n) return t.logger.error("getBackSourceToken error", n), n;
                    e.done && e.done(r);
                }) : t.logger.error("urls is Required when type 3") : t.logger.error("don't need token");
            }, r.processAuth = function(e) {
                switch (e.cmd) {
                  case "login":
                    e.error || (e.content = e.content || {}, this.loginAndroidPush && this.loginAndroidPush(e.content.aosPushInfo || {}), 
                    e.obj = e.content.loginRes, this.connectionId = e.content.loginRes.connectionId, 
                    this.onLoginPortsChange(e, 2));
                    break;

                  case "kicked":
                    return void this.onKicked(e);

                  case "multiPortLogin":
                    this.onLoginPortsChange(e, e.content.state);
                    break;

                  case "kick":
                    e.error || (e.obj.deviceIds = e.content.deviceIds);
                }
            }, r.onLoginPortsChange = function(e, t) {
                var n = this, r = e.content.loginPorts;
                if (r && r.length) {
                    var i = !0;
                    switch (t) {
                      case 2:
                        i = !0;
                        break;

                      case 3:
                        i = !1;
                    }
                    r.forEach(function(e) {
                        e.type = o.reverseType(e.type), e.customClientType && (e.customClientType = +e.customClientType), 
                        e.time = +e.time, e.online = i;
                    }), (r = r.filter(function(e) {
                        return e.connectionId !== n.connectionId;
                    })).length && (n.logger.info("link::onLoginPortsChange:", r), n.options.onloginportschange(r));
                }
            }, r.kickedReasons = [ "", "samePlatformKick", "serverKick", "otherPlatformKick", "silentlyKick" ], 
            r.kickedMessages = [ "", "不允许同一个帐号在多个地方同时登录", "被服务器踢了", "被其它端踢了", "悄悄被踢" ];
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = n(4), a = o.undef, s = o.objs2ids, c = o.objs2accounts, u = o.teams2ids, l = n(27), d = o.getGlobal();
            r.beforeSync = function() {
                var e = this.db;
                return e.enable ? e.clearSendingMsgs() : Promise.resolve();
            }, r.syncData = function() {
                var e = this, t = e.db, n = e.options, r = t.enable;
                function i(t) {
                    e.syncPromiseArray = [], e.syncResult = {}, e.syncTeamMembersPromiseArray = [], 
                    e.syncSuperTeamMembersPromiseArray = [], e.syncTeamMembersResult = {}, e.checkNosReqNum = 0, 
                    e.getNosOriginUrlReqNum = 0, o.verifyBooleanWithDefault(n, "syncRelations syncFriends syncFriendUsers syncTeams syncSuperTeams syncRoamingMsgs syncSuperTeamRoamingMsgs syncMsgReceipts syncExtraTeamInfo", !0, "", "sync::syncData"), 
                    o.verifyBooleanWithDefault(n, "syncFilter syncTeamMembers syncSuperTeamMembers", !1, "", "sync::syncData");
                    var i = {};
                    t = t || {}, d._nimForceSyncIM && (e.logger.warn("sync::syncData: nimForceSyncIM"), 
                    delete t.teams, d._nimForceSyncIM = !1), i.myInfo = t.myInfo || 0, i.deleteMsgSelf = t.deleteMsgSelf || 0, 
                    i.offlineMsgs = 0, n.syncRelations && (i.relations = t.relations || 0), n.syncFriends && (i.friends = t.friends || 0), 
                    n.syncFriendUsers && (i.friendUsers = t.friendUsers || 0), n.syncRobots && (i.robots = t.robots || 0), 
                    n.syncTeams && (i.teams = t.teams || 0), n.syncSuperTeams && (i.superTeams = t.superTeams || 0), 
                    n.syncStickTopSessions && (i.stickTopSessions = t.stickTopSessions || 0), n.syncSessionUnread && (i.sessionAck = r && t.sessionAck || 0, 
                    i.superTeamSessionAck = r && t.superTeamSessionAck || 0), n.syncRoamingMsgs && (i.roamingMsgs = r && t.roamingMsgs || 0), 
                    n.syncSuperTeamRoamingMsgs && (i.superTeamRoamingMsgs = r && t.superTeamRoamingMsgs || 0), 
                    n.syncMsgReceipts && (i.msgReceipts = t.msgReceipts || 0), n.syncExtraTeamInfo && (i.myTeamMembers = t.myTeamMembers || 0), 
                    n.syncBroadcastMsgs && (i.broadcastMsgs = t.broadcastMsg || 0), i.donnop = t.donnop || 0, 
                    i.deleteMsg = t.deleteMsg || 0, i.deleteSuperTeamMsg = t.deleteSuperTeamMsg || 0, 
                    i.sessionHistoryMsgsDelete = t.sessionHistoryMsgsDelete || 0, i.netcallMsgs = 0, 
                    n.syncFilter && (i.filterMsgs = 0);
                    var a = e.onSyncData.bind(e);
                    a.isImSyncDataCb = !0, e.logger.info("syncData:: start sync", i), e.sendCmd("sync", {
                        sync: i,
                        isImSyncDataObj: !0
                    }, a);
                }
                e.syncing = !0, r ? e.beforeSync().then(function() {
                    return e.db.getTimetags();
                }).then(function(e) {
                    i(e);
                }, function() {
                    i();
                }) : i(e.timetags);
            }, r.onSyncData = function(e, t) {
                e && this.syncRetryTimes > 3 && (this.syncRetryTimes = 0, e.callFunc = "sync::onSyncData", 
                this.onCustomError("SYNC_DATA_ERROR", e));
            }, r.processSync = function(e) {
                switch (this.syncRetryTimes = this.syncRetryTimes || 0, this.syncRetryTimes++, e.cmd) {
                  case "syncDone":
                    e.error ? this.syncRetryTimes > 3 || this.syncData() : (this.timetags.sync = e.content.timetag, 
                    this.onSyncDone());
                    break;

                  case "syncTeamMembersDone":
                    this.onSyncTeamMembersDone();
                }
            }, r.onSyncDone = function(e) {
                var t, n, r, d, f, p, m, g, h, y, v, b, T, _, S, k, M, P, A, w, O, E, I, x, C, R, j, N = this, L = N.db, U = L.enable, D = N.options, F = N.syncPromiseArray, B = N.syncResult;
                function V() {
                    if (F) {
                        N.logger.info("sync::onSyncDone: after sync", o.promises2cmds(F)), F = [], n = B.blacklist || [], 
                        r = B.invalidBlacklist || [], d = B.mutelist || [], f = B.invalidMutelist || [], 
                        p = B.friends, m = B.invalidFriends || [], g = B.myInfo, h = B.users, v = B.superTeams, 
                        T = B.invalidSuperTeams, y = B.teams, b = B.invalidTeams || [], _ = B.sessions || {}, 
                        S = B.ackMap, B.msgReceipts, k = B.roamingMsgs, M = B.offlineMsgs, P = B.offlineFilterMsgs, 
                        w = B.offlineSysMsgs, O = B.offlineCustomSysMsgs, E = B.offlineFilterSysMsgs, I = B.offlineFilterCustomSysMsgs, 
                        B.broadcastMsgs, x = B.sysMsgUnread, C = B.sessionsWithMoreRoaming, j = B.clearServerHistoryMsgs || [];
                        var e = Promise.resolve();
                        !function() {
                            if (U) {
                                var t = [ q() ];
                                _ && Object.keys(_).forEach(function(e) {
                                    t.push(L.putSession(_[e]));
                                }), e = Promise.all(t).then(function() {
                                    var e = [].concat(_toConsumableArray(Object.keys(S || {})), _toConsumableArray(Object.keys(_ || {})));
                                    e = e.filter(function(e, t, n) {
                                        return n.indexOf(e) === t;
                                    });
                                    var t = [];
                                    return e.forEach(function(e) {
                                        var n, r = _[e];
                                        (r.lastMsg || r.ack) && (n = (n = r.ack ? Promise.resolve(r) : L.getSession(r.id)).then(function(t) {
                                            var n = t.ack || 0;
                                            return L.getMsgCountAfterAck({
                                                shouldCountNotifyUnread: N.options.shouldCountNotifyUnread,
                                                sessionId: e,
                                                ack: n
                                            }).then(function(n) {
                                                return t.unread = n || 0, _[e] = N.mergeSession(t), L.updateSession(t);
                                            });
                                        }), t.push(n));
                                    }), Promise.all(t);
                                }).then(function() {
                                    var e = [];
                                    return N.saveAck.p2pTeam && e.push(L.updateSessionAck(N.saveAck.p2pTeam).catch(function(e) {
                                        return N.logger.error("sessionAck::syncSessionAck::updatetimetag db", e), Promise.reject(e);
                                    })), N.saveAck.superTeam && e.push(L.updateSuperTeamSessionAck(N.saveAck.superTeam).catch(function(e) {
                                        return N.logger.error("sessionAck::syncSuperTeamSessionAck::updatetimetag db", e), 
                                        Promise.reject(e);
                                    })), Promise.all(e);
                                });
                            } else if (_) {
                                var n, r;
                                [ k, M ].forEach(function(e) {
                                    e && e.forEach(function(e) {
                                        (n = _[e.sessionId]).unread = n.unread || 0, n.unreadMsgs = n.unreadMsgs || [], 
                                        r = n.ack || 0, e.msgs.forEach(function(e) {
                                            r >= e.time || ("notification" === e.type ? N.options.shouldCountNotifyUnread(e) && n.unread++ : "in" === e.flow && !1 !== e.isUnreadable && (n.unread++, 
                                            n.unreadMsgs.push(e)));
                                        }), N.mergeSession(n);
                                    });
                                });
                            }
                        }(), e.then(function() {
                            if (U && !N.hasSynced) N.hasSynced = !0, D.syncRelations && (t = L.getRelations().then(function(e) {
                                n = e[0], d = e[1], n.invalid = r, d.invalid = f;
                            }).catch(function(e) {
                                return e._msg = "on relations error", N.logger.error("sync::syncRelation: ", e), 
                                Promise.reject(e);
                            }), F.push(t)), D.syncFriends && (t = L.getFriends().then(function(e) {
                                (p = e).invalid = m;
                            }).catch(function(e) {
                                return e._msg = "on friends error", N.logger.error("sync::syncFriends: ", e), Promise.reject(e);
                            }), F.push(t)), a(g) && (t = L.getUser(N.account).then(function(e) {
                                g = e;
                            }).catch(function(e) {
                                return e._msg = "on myInfo error", N.logger.error("sync::syncMyInfo: ", e), Promise.reject(e);
                            }), F.push(t)), D.syncFriendUsers && (t = L.getFriends().then(function(e) {
                                return e.map(function(e) {
                                    return e.account;
                                });
                            }).then(function(e) {
                                return L.getUsers(e);
                            }).then(function(e) {
                                h = e;
                            }).catch(function(e) {
                                return e._msg = "on users error", N.logger.error("sync::syncFriendUser: ", e), Promise.reject(e);
                            }), F.push(t)), D.syncTeams && (t = L.getTeams().then(function(e) {
                                (y = e).invalid = b;
                            }).catch(function(e) {
                                return e._msg = "on teams error", N.logger.error("sync::syncTeams: ", e), Promise.reject(e);
                            }), F.push(t)), D.syncSuperTeams && (t = L.getSuperTeams().then(function(e) {
                                (v = e).invalid = T;
                            }).catch(function(e) {
                                return e._msg = "on superteams error", N.logger.error("sync::syncSuperTeams: ", e), 
                                Promise.reject(e);
                            }), F.push(t)), t = L.getTeamMembersByAccount(N.account).then(function(e) {
                                N.mergeMyTeamMembers(e);
                            }).catch(function(e) {
                                return N.logger.error("sync::getTeamMembersByAccount: ", e), Promise.reject(e);
                            }), F.push(t), t = L.getDonnop().then(function(e) {
                                N.mergeDonnop(e);
                            }).catch(function(e) {
                                return N.logger.error("sync::donnop: ", e), Promise.reject(e);
                            }), F.push(t), t = L.getAllSessions().then(function(e) {
                                _ = e;
                            }).catch(function(e) {
                                return N.logger.error("sync::getSession: ", e), Promise.reject(e);
                            }), F.push(t), t = L.getSysMsgUnread().then(function(e) {
                                x = e;
                            }).catch(function(e) {
                                return e._msg = "on sysMsgUnread error", N.logger.error("sync::getSysMsgUnread: ", e), 
                                Promise.reject(e);
                            }), F.push(t), F.push(L.getSessionsWithMoreRoaming().then(function(e) {
                                C = e;
                            })); else {
                                var e, o = [];
                                Object.keys(_).forEach(function(t) {
                                    (e = _[t]).lastMsg && o.push(e);
                                }), _ = o.sort(function(e, t) {
                                    return t.updateTime - e.updateTime;
                                });
                            }
                            Promise.all(F).then(H).then($, function(e) {
                                N.logger.error("taskAfterSync syncDBDataPromise error:", e), e.callFunc = "sync::onSyncDone", 
                                e.message = "taskAfterSync syncDBDataPromise 出错", N.onCustomError("SYNC_SESSION_ACK_ERROR", e);
                            });
                        });
                    } else N.logger.warn("sync::onSyncDone: after sync --no promiseArray");
                }
                function q() {
                    var e = [];
                    return k && k.forEach(function(t) {
                        e = [].concat(_toConsumableArray(e), _toConsumableArray(t.msgs));
                    }), M && M.forEach(function(t) {
                        e = [].concat(_toConsumableArray(e), _toConsumableArray(t.msgs));
                    }), e.length ? L.putMsg(e).then(function() {
                        return e;
                    }) : Promise.resolve(e);
                }
                function H() {
                    N.logger.info("sync::onSyncDone: taskAfterSync"), function() {
                        if (B.deleteMsgSysMsgs) {
                            var e = {};
                            k && k.forEach(function(t) {
                                e[t.sessionId] = t;
                            });
                            var t = {};
                            M && M.forEach(function(e) {
                                t[e.sessionId] = e;
                            });
                            var n = N.api;
                            if (B.deleteMsgSysMsgs.forEach(function(r) {
                                r.sysMsgs.forEach(function(o) {
                                    var i = o.msg, a = i.sessionId;
                                    "roaming" === r.type && e[a] ? e[a].msgs = n.cutMsgs(e[a].msgs, i) : t[a] && (t[a].msgs = n.cutMsgs(t[a].msgs, i));
                                });
                            }), !L.enable) {
                                [].concat(_toConsumableArray(k || []), _toConsumableArray(M || [])).forEach(function(e) {
                                    if (e.msgs.length) {
                                        var t = N.genSessionByMsgs(e.msgs);
                                        N.cacheSyncedSession(t), _.unshift(t);
                                    } else {
                                        var n = _.findIndex(function(t) {
                                            return t.id === e.sessionId;
                                        });
                                        _.splice(n, 1);
                                    }
                                });
                                var r = {};
                                _.forEach(function(e) {
                                    if (r[e.id]) {
                                        var t = e.lastMsg.time > r[e.id].lastMsg.time ? e.lastMsg : r[e.id].lastMsg;
                                        r[e.id] = e, r[e.id].lastMsg = t;
                                    } else r[e.id] = e;
                                }), _ = (_ = Object.values(r)).sort(function(e, t) {
                                    return t.updateTime - e.updateTime;
                                });
                            }
                        }
                    }(), (R = N.syncResult.stickTopSessions || []).forEach(function(e, t) {
                        R[t] = N.mergeSession(e);
                    });
                    var e = [ N.deleteMsgOfflineRoaming(B.deleteMsgSysMsgs, _) ];
                    return j && j.forEach(function(t) {
                        e.push(function(e, t) {
                            var n;
                            N.logger.info("sync::taskAfterSync:sessionHistoryMsgsDelete " + e), t = t || new Date().getTime();
                            var r = _.filter(function(t) {
                                return t.id === e;
                            });
                            n = N.findSession(e) || r[0];
                            var o = !1 !== D.rollbackClearMsgsUnread, i = [];
                            return L.enable && i.push(L.deleteMsgsBySessionId({
                                sessionId: e,
                                end: t
                            })), o && n && (n.lastMsg = null, n.unread = 0, n = N.mergeSession(n), L.enable && i.push(L.updateSession(n))), 
                            Promise.all(i);
                        }(t.sessionId, t.time));
                    }), Promise.all(e);
                }
                function $() {
                    setTimeout(z, 0);
                }
                function z() {
                    var e, t, r = [], i = [];
                    n && n.length && (N.logger.info("sync::notifyDataAsync: on blacklist", c(n)), D.onblacklist(n)), 
                    d && d.length && (N.logger.info("sync::notifyDataAsync: on mutelist", c(d)), D.onmutelist(d)), 
                    p && (N.logger.info("sync::notifyDataAsync: on friends", c(p)), D.onfriends(p)), 
                    g && (N.logger.info("sync::notifyDataAsync: on myInfo"), N.myInfo = g, D.onmyinfo(o.copy(g))), 
                    h && (h.forEach(function(e) {
                        N.mergeUser(e);
                    }), N.logger.info("sync::notifyDataAsync: on users", c(h)), D.onusers(h)), y && (N.logger.info("sync::notifyDataAsync: on teams", u(y)), 
                    D.onteams(y)), v && (N.logger.info("sync::notifyDataAsync: onSuperTeams", u(v)), 
                    D.onSuperTeams(v)), _ && _.length && (_ = _.filter(function(e) {
                        return N.mergeSession(e), !e.isDeleted && (l.trim(e), !0);
                    }), N.logger.info("sync::notifyDataAsync: on sessions", s(_), o.secureOutput("session", _)), 
                    D.onsessions(_)), R && R.length && (R.forEach(function(e) {
                        N.mergeSession(e), l.trim(e);
                    }), N.logger.info("sync::notifyDataAsync: onStickTopSessions", s(R), o.secureOutput("session", R)), 
                    D.onStickTopSessions(R)), k && k.forEach(function(e) {
                        "superTeam" === e.scene ? i.push(e.timetag) : r.push(e.timetag), (t = e.msgs).length && (N.logger.info("sync::notifyDataAsync: on roaming msgs", e.sessionId, t.length), 
                        D.onroamingmsgs(e));
                    }), M && M.forEach(function(e) {
                        "superTeam" === e.scene ? i.push(e.timetag) : r.push(e.timetag), (t = e.msgs).length && (N.logger.info("sync::notifyDataAsync: on offline msgs", e.sessionId, t.length, t.map(function(e) {
                            return e.idServer;
                        })), D.onofflinemsgs(e));
                    }), P && P.forEach(function(e) {
                        r.push(e.timetag), (t = e.msgs).length && (N.logger.info("sync::notifyDataAsync: on offline filter msgs", e.sessionId, t.length), 
                        D.onofflinefiltermsgs(t));
                    }), C && (N.logger.info("sync::notifyDataAsync: on sessionsWithMoreRoaming", s(C), C), 
                    D.onSessionsWithMoreRoaming(C));
                    var a = [], f = [];
                    B.deleteMsgSysMsgs && B.deleteMsgSysMsgs.forEach(function(e) {
                        "roaming" === e.type ? a = a.concat(e.sysMsgs) : f = f.concat(e.sysMsgs);
                    }), a.length && (A = (A = A || []).concat(a)), f.length && (w = (w = w || []).concat(f)), 
                    A && (N.logger.info("sync::notifyDataAsync: on roaming sys msgs", A.length), D.onroamingsysmsgs(A)), 
                    w && (N.logger.info("sync::notifyDataAsync: on offline sys msgs", w.length), D.onofflinesysmsgs(w)), 
                    E && (N.logger.info("sync::notifyDataAsync: on offline filter sys msgs", E.length), 
                    D.onofflinefiltersysmsgs(E)), O && (N.logger.info("sync::notifyDataAsync: on offline custom sys msgs", O.length), 
                    D.onofflinecustomsysmsgs(O)), I && (N.logger.info("sync::notifyDataAsync: on offline filter custom sys msgs", I.length), 
                    D.onofflinefiltercustomsysmsgs(I)), x && (x = o.merge({}, N.sysMsgUnread, x), N.sysMsgUnread = o.merge({}, x), 
                    N.logger.info("sync::notifyDataAsync: on sysMsgUnread", x), D.onsysmsgunread(x));
                    var m = N.getPushNotificationMultiportConfig();
                    N.logger.info("sync::notifyDataAsync: on pushNotificationMultiportConfig", m), D.onPushNotificationMultiportConfig(m);
                    var b = i.length && Math.max.apply(Math, i);
                    if (e = r.length && Math.max.apply(Math, r), L.enable) {
                        var T = [];
                        b && T.push(N.db.updateSuperTeamRoamingMsgTimetag(b)), e && T.push(N.db.updateRoamingMsgTimetag(e)), 
                        Promise.all(T).then(G).catch(G);
                    } else N.timetags.superTeamRoamingMsgs = b, N.timetags.roamingMsgs = e, G();
                    N.syncPromiseArray = [], N.syncResult = {};
                }
                function G() {
                    if (N.processUnsettledMsgs(), N.processUnsettledSysMsgs(), N.syncing && D.onsyncdone(), 
                    N.syncing = !1, D.syncTeamMembers && y && y.length) throw new i("sync team members api deprecated!");
                }
                F && F.length ? Promise.all(F).then(V).catch(function(e) {
                    V(), N.logger.error(e), e.callFunc = "sync::onSyncDone", e.message = "afterSync syncNormalPromise 出错", 
                    N.onCustomError("SYNC_promiseArray_ERROR", e);
                }) : V();
            }, r.syncTeamMembers = function(e) {
                var t, n, r = this;
                t = r.timetags, n = {}, t = t || {}, e.forEach(function(e) {
                    n[e.teamId] = 0;
                }, r), r.sendCmd("syncTeamMembers", {
                    sync: n
                }, r.onSyncTeamMembers.bind(r));
            }, r.onSyncTeamMembers = function(e, t) {
                e.callFunc = "sync::onSyncTeamMembers", e.message = "同步群成员错误", this.onCustomError("SYNC_TEAM_MEMBERS_ERROR", e);
            }, r.onSyncTeamMembersDone = function() {
                var e, t = this, n = t.db, r = t.options, i = t.syncTeamMembersResult, a = t.syncTeamMembersPromiseArray;
                function s() {
                    t.logger.log("sync::onSyncTeamMembersDone: afterSync", o.promises2cmds(a)), a = [], 
                    n.enable && !t.hasSyncedTeamMembers ? (t.hasSyncedTeamMembers = !0, function() {
                        if (!r.syncTeams || !r.syncTeamMembers) return d();
                        n.getTeams().then(function(n) {
                            n.forEach(function(n) {
                                var r = n.teamId;
                                e = new Promise(function(e, n) {
                                    t.api.getTeamMembers({
                                        teamId: r,
                                        done: function(t, o) {
                                            t && n({
                                                callFunc: "sync::getTeamMembers: teamId-" + r,
                                                message: "sync team members error"
                                            }), i[r] = o.members || [], e();
                                        }
                                    });
                                }), a.push(e);
                            }), a.length ? Promise.all(a).then(u, function(e) {
                                e.callFunc = "sync::onSyncTeamMembersDone", e.message = "pullFullData promiseArray notifyData 错误", 
                                t.onCustomError("SYNC_TEAM_MEMBERS_ERROR", e);
                            }) : u();
                        }, function(e) {
                            e.callFunc = "sync::onSyncTeamMembersDone", e.message = "pullFullData getTeams 错误", 
                            t.onCustomError("SYNC_TEAM_MEMBERS_ERROR", e);
                        });
                    }()) : u();
                }
                function u() {
                    setTimeout(l, 0);
                }
                function l() {
                    var e, n;
                    Object.keys(i).forEach(function(o) {
                        -1 === o.indexOf("invalid") && (e = i[o], n = i[o + "-invalid"] || [], e.invalid = n, 
                        function(e, n) {
                            t.logger.info("sync::onSyncTeamMembersDone: onTeamMembers", e, c(n), n), r.onteammembers({
                                teamId: e,
                                members: n
                            });
                        }(o, e));
                    }), d();
                }
                function d() {
                    t.logger.info("sync::onSyncTeamMembersDone: bingo"), r.onsyncteammembersdone(), 
                    t.syncTeamMembersResult = null, t.syncTeamMembersPromiseArray = null;
                }
                a.length ? Promise.all(a).then(s, function(e) {
                    e.callFunc = "sync::onSyncTeamMembersDone", e.message = "同步群成员 syncTeamMembersPromiseArray 错误", 
                    t.onCustomError("SYNC_TEAM_MEMBERS_ERROR", e);
                }).catch(function(e) {
                    t.logger.log("sync::onSyncTeamMembersDone: syncTeamMembersPromiseArray promise ", e), 
                    s();
                }) : s();
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = o.objs2accounts, a = n(125), s = n(30);
            r.processUser = function(e) {
                var t, n = this, r = n.db, o = e.obj, i = e.error, a = e.content;
                switch (e.cmd) {
                  case "markInBlacklist":
                    i || n.markInBlacklist(o);
                    break;

                  case "syncMarkInBlacklist":
                    n.markInBlacklist(a, !0);
                    break;

                  case "markInMutelist":
                    i || n.markInMutelist(o);
                    break;

                  case "syncMarkInMutelist":
                    n.markInMutelist(a, !0);
                    break;

                  case "getRelations":
                    i || n.onRelations(e);
                    break;

                  case "syncMyInfo":
                    n.onMyInfo(e, !0);
                    break;

                  case "updateMyInfo":
                    i || (o.updateTime = a.timetag, n.onUpdateMyInfo(e, o));
                    break;

                  case "syncUpdateMyInfo":
                    n.onUpdateMyInfo(e, a.user, !0);
                    break;

                  case "getUsers":
                    i || (t = a.users.map(function(e) {
                        return e = s.reverse(e, n.mixStorePolicy && n.mixStorePolicy.s3Policy ? n.mixStorePolicy.s3Policy.dlcdns : [], n.mixStorePolicy && n.mixStorePolicy.s3Policy ? n.mixStorePolicy.s3Policy.dlcdn : ""), 
                        n.mergeUser(e), e;
                    }), e.obj = t, r.enable && r.putUsers(t));
                    break;

                  case "updateDonnop":
                    n.onUpdateDonnop(e);
                    break;

                  case "syncUpdateDonnop":
                    n.onDonnop(e, !1);
                }
            }, r.onMyInfo = function(e) {
                var t, n = this, r = n.db, o = e.error, i = e.content, a = new Promise(function(e, a) {
                    var u, l;
                    o ? (o && (o.callFunc = "user::onMyInfo"), e(o), n.syncData()) : (t = s.reverse(i.user), 
                    r.enable ? (u = e, l = a, r.mergeMyInfo(t, !0).then(function() {
                        c(), u();
                    }).then(void 0, function(e) {
                        e.message = "db.mergeMyInfo error", e.callFunc = "user::onMyInfo", l(e);
                    })) : (c(), e()));
                }).catch(function(e) {
                    return n.logger.error("user::onMyInfo: ", e), Promise.reject(e);
                });
                function c() {
                    n.timetags.myInfo = t.updateTime, n.syncResult.myInfo = t;
                }
                a.cmd = "myInfo", n.syncPromiseArray.push(a);
            }, r.onUpdateMyInfo = function(e, t, n) {
                var r = this, i = r.db, a = s.reverse(t), c = o.merge(r.myInfo, a);
                r.myInfo = c, n ? (r.logger.info("user::onUpdateMyInfo:", c && c.account), r.options.onupdatemyinfo(c)) : e.obj = c, 
                i.enable && (a.account = r.account, i.updateUser(a));
            }, r.onRelations = function(e) {
                var t, n = this, r = n.db, o = e.error, s = n.packetFromSync(e), c = e.content.specialRelations, u = !0, l = [], d = [], f = [], p = [], m = new Promise(function(m, h) {
                    var y, v;
                    o ? s && (m(o), n.syncData()) : (c.forEach(function(e) {
                        var t = {
                            account: (e = a.parse(e)).account,
                            createTime: e.createTime,
                            updateTime: e.updateTime
                        };
                        e.isBlacked ? l.push(t) : d.push(t), e.isMuted ? f.push(t) : p.push(t);
                    }), n.logger.info("user::onRelations: parse blacklist", i(l), l, "delete", i(d), d), 
                    n.logger.info("user::onRelations: parse mutelist", i(f), f, "delete", i(p), p), 
                    c.length ? (u = !0, t = e.content.timetag) : u = !1, r.enable ? (y = m, v = h, e.promise = new Promise(function(e, o) {
                        function i() {
                            s ? (g(), e(), y()) : r.getRelations().then(function(t) {
                                l = t[0], f = t[1], g(), e(), y();
                            }).then(void 0, function(e) {
                                e.message = "db.getRelations error", e.callFunc = "user::onRelations", o(e), v(e);
                            });
                        }
                        u ? r.mergeRelations(l, d, f, p, t).then(function() {
                            i();
                        }).then(void 0, function(e) {
                            e.message = "db.mergeRelations error", e.callFunc = "user::onRelations", o(e), v(e);
                        }) : (n.logger.warn("user::onRelations: no relations need merge"), i());
                    }).then(void 0, function(e) {
                        throw e.message = "merge relations data error", e.callFunc = "user::onRelations", 
                        v(e), e;
                    })) : (g(), m()));
                }).catch(function(e) {
                    return n.logger.error("user::onRelations: ", e), Promise.reject(e);
                });
                function g() {
                    n.timetags.relations = t, l.invalid = d, f.invalid = p, s ? (n.syncResult.blacklist = l, 
                    n.syncResult.mutelist = f, n.syncResult.invalidBlacklist = d, n.syncResult.invalidMutelist = p) : (n.logger.info("user::onRelations: get relations", l, f), 
                    e.obj.blacklist = l, e.obj.mutelist = f);
                }
                s && (m.cmd = "relations", n.syncPromiseArray.push(m));
            }, r.markInBlacklist = function(e, t) {
                var n = this.db;
                e.record = {
                    account: e.account,
                    updateTime: +new Date()
                }, n.enable && n.markInBlacklist(e), t && (this.logger.info("user::markInBlacklist:", e), 
                this.options.onsyncmarkinblacklist(e));
            }, r.markInMutelist = function(e, t) {
                var n = this.db;
                e.record = {
                    account: e.account,
                    updateTime: +new Date()
                }, n.enable && n.markInMutelist(e), t && (this.logger.info("user::markInMutelist:", e), 
                this.options.onsyncmarkinmutelist(e));
            }, r.mergeUser = function(e) {
                this.userSet[e.account] = e;
            };
        }, function(e, t, n) {
            var r = n(0);
            function o() {}
            o.parse = function(e) {
                var t = r.copy(e);
                return t.isBlacked = "1" === t.isBlacked, t.isMuted = "1" === t.isMuted, t.createTime = +t.createTime, 
                t.updateTime = +t.updateTime, t;
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = o.objs2accounts, a = n(93), s = n(30);
            r.processFriend = function(e) {
                var t = this, n = e.obj, r = e.content, o = e.error;
                switch (e.cmd) {
                  case "friendRequest":
                    t.updateFriendSysMsg(e), o || t.onFriendRequest(n);
                    break;

                  case "syncFriendRequest":
                    t.onFriendRequest(r, !0);
                    break;

                  case "deleteFriend":
                    o || t.onDeleteFriend(n);
                    break;

                  case "syncDeleteFriend":
                    t.onDeleteFriend(r, !0);
                    break;

                  case "updateFriend":
                    o || t.onUpdateFriend(n);
                    break;

                  case "syncUpdateFriend":
                    t.onUpdateFriend(r.friend, !0);
                    break;

                  case "getFriends":
                    t.getFriends(e);
                    break;

                  case "syncFriends":
                    t.onFriends(e);
                    break;

                  case "syncFriendUsers":
                    t.onFriendUsers(e);
                }
            }, r.getFriends = function(e) {
                var t = e.content.friends, n = [], r = [];
                t.forEach(function(e) {
                    (e = a.reverse(e)).valid ? n.push(e) : r.push(e);
                }), n.invalid = r, e.obj = n;
            }, r.onFriends = function(e) {
                var t, n = this, r = n.db, o = e.error, s = e.content.friends, c = !0, u = [], l = [], d = new Promise(function(d, p) {
                    var m, g;
                    o ? p(o) : (c && s.forEach(function(e) {
                        (e = a.reverse(e)).valid ? u.push(e) : l.push(e);
                    }), n.logger.info("friend::onFriends: parse friends", i(u), "delete", i(l)), s.length ? (c = !0, 
                    t = e.content.timetag) : c = !1, r.enable ? (m = d, g = p, e.promise = new Promise(function(e, o) {
                        function i() {
                            f(), e(), m();
                        }
                        c ? r.mergeFriends(u, l, t).then(function() {
                            i();
                        }).then(void 0, function(e) {
                            e._msg = "merge friends error", o(e), g(e);
                        }) : (n.logger.info("friend::onFriends: no merge friends"), i());
                    }).then(void 0, function(e) {
                        throw e._msg = "merge friends data error", g(e), e;
                    })) : (f(), d()));
                }).catch(function(e) {
                    return n.logger.error("friend::onFriends: ", e), Promise.reject(e);
                });
                function f() {
                    n.timetags.friends = t, u.invalid = l, n.syncResult.friends = u, n.syncResult.invalidFriends = l;
                }
                d.cmd = "friends", n.syncPromiseArray.push(d);
            }, r.onFriendRequest = function(e, t) {
                var n = Promise.resolve(), r = this.db, o = e.type, i = _objectWithoutProperties(e, _excluded4);
                if ("addFriend" === (o = e.type = a.getTypeFromByte(o) || o) || "passFriendApply" === o) {
                    var s = e.friend = a.assembleFriend(i);
                    r.enable && (n = r.putFriend(s));
                }
                return t && this.onSyncFriendAction(e), n;
            }, r.onSyncFriendAction = function(e) {
                this.logger.info("friend::onSyncFriendActionon: ".concat(e.type, ", "), e.account), 
                this.options.onsyncfriendaction(e);
            }, r.onDeleteFriend = function(e, t) {
                var n = Promise.resolve(), r = this.db;
                return r.enable && (n = r.deleteFriend(e.account)), t && (e.type = "deleteFriend", 
                this.onSyncFriendAction(e)), n;
            }, r.onUpdateFriend = function(e, t) {
                var n = this.db, r = a.reverse(e);
                n.enable && n.updateFriend(r), t && this.onSyncFriendAction({
                    type: "updateFriend",
                    friend: r
                });
            }, r.onFriendUsers = function(e) {
                var t = this.db, n = e.content, r = n.users.map(function(e) {
                    return s.reverse(e);
                });
                this.logger.info("friend::onFriendUsers: parse users", i(r));
                var o = n.timetag, a = Promise.resolve();
                t.enable && (a = t.mergeFriendUsers(r, o)), this.timetags.friendUsers = o, a.cmd = "friendUsers", 
                this.syncPromiseArray.push(a), this.syncResult.users = r, this.syncing || this.onSyncDone();
            }, r.updateFriendSysMsg = function(e) {
                var t, n, r = e.obj, i = e.error;
                if (e.obj.idServer) {
                    if (i) t = "error", i = o.filterObj(i, "code message"); else {
                        var s = r.type;
                        switch (s = a.getTypeFromByte(s) || s) {
                          case "passFriendApply":
                            t = "passed";
                            break;

                          case "rejectFriendApply":
                            t = "rejected";
                        }
                    }
                    n = {
                        idServer: r.idServer,
                        state: t
                    }, i && (n.error = i), this.updateSysMsg(n);
                }
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0);
            r.onRobots = function(e) {
                var t = e.content;
                if (o.isFunction(this.options.onrobots) && Array.isArray(t.robots)) {
                    var n = t.robots.filter(function(e) {
                        return !!e.botid;
                    });
                    n.length > 0 && this.options.onrobots(n || []);
                }
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = o.objs2accounts, a = o.teams2ids, s = n(25), c = n(20);
            r.processTeam = function(e) {
                var t, n, r, o = this, i = e.error;
                switch (void 0 === e.obj && (e.obj = {}), e.cmd) {
                  case "createTeam":
                    t = e.obj.team, i || (t = e.content.team), t = s.reverse(t), e.obj.team = t, r = c.assembleOwner(t), 
                    e.obj.owner = r, i || (o.logger.info("team::processTeam: create team ", t && t.teamId, r && r.account), 
                    o.onCreateTeam(t, r));
                    break;

                  case "syncCreateTeam":
                    t = s.reverse(e.content.team), r = c.assembleOwner(t), o.logger.info("team::processTeam: sync createTeam", t && t.teamId, r && r.account), 
                    o.options.onsynccreateteam(t, r), o.onCreateTeam(t, r);
                    break;

                  case "sendSuperTeamMsg":
                  case "sendTeamMsg":
                    o.onSendMsg(e);
                    break;

                  case "teamMsg":
                    o.onMsg(e);
                    break;

                  case "teamMsgs":
                    o.onMsgs(e);
                    break;

                  case "addTeamMembers":
                  case "removeTeamMembers":
                  case "leaveTeam":
                  case "dismissTeam":
                  case "addTeamManagers":
                  case "removeTeamManagers":
                  case "transferTeam":
                    break;

                  case "updateInfoInTeam":
                    i || ((n = e.obj).account = o.account, n.id = c.genId(n.teamId, n.account), n = c.reverse(n), 
                    e.obj = n, o.mergeMyTeamMembers(n), o.onUpdateTeamMember(n));
                    break;

                  case "updateNickInTeam":
                    e.obj = c.reverse(e.obj);
                    break;

                  case "updateTeam":
                    e.obj = s.reverse(e.obj, !0);
                    break;

                  case "applyTeam":
                    e.error || (e.obj = s.reverse(e.content.team));
                    break;

                  case "passTeamApply":
                    o.updateTeamSysMsgState(e, "passed");
                    break;

                  case "rejectTeamApply":
                    o.updateTeamSysMsgState(e, "rejected");
                    break;

                  case "acceptTeamInvite":
                    o.updateTeamSysMsgState(e, "passed"), e.error || (e.obj = s.reverse(e.content.team));
                    break;

                  case "rejectTeamInvite":
                    o.updateTeamSysMsgState(e, "rejected");
                    break;

                  case "getTeam":
                    e.error || (e.obj = s.reverse(e.content.team));
                    break;

                  case "getTeams":
                    o.onTeams(e);
                    break;

                  case "getTeamMembers":
                    o.onTeamMembers(e);
                    break;

                  case "syncTeams":
                    o.onTeams(e);
                    break;

                  case "syncTeamMembers":
                    o.onTeamMembers(e);
                    break;

                  case "getTeamHistoryMsgs":
                  case "searchTeamHistoryMsgs":
                    o.onHistoryMsgs(e);
                    break;

                  case "syncSendTeamMsg":
                    o.onMsg(e);
                    break;

                  case "notifyTeamMsgReads":
                    o.onTeamMsgReceipt(e);
                    break;

                  case "syncUpdateTeamMember":
                    n = c.reverse(e.content.teamMember), o.onUpdateTeamMember(n), n.account === o.account && o.mergeMyTeamMembers(n);
                    break;

                  case "updateMuteStateInTeam":
                    break;

                  case "getMyTeamMembers":
                    e.error || (e.obj = c.reverseMembers(e.content.teamMembers));
                    break;

                  case "getMutedTeamMembers":
                    e.error || (e.obj = {
                        teamId: e.obj.teamId,
                        members: c.reverseMembers(e.content.teamMembers)
                    });
                    break;

                  case "syncMyTeamMembers":
                    o.onSyncMyTeamMembers(e);
                    break;

                  case "sendTeamMsgReceipt":
                    o.sendTeamMsgReceipt(e);
                    break;

                  case "getTeamMsgReads":
                    o.getTeamMsgReads(e);
                    break;

                  case "getTeamMsgReadAccounts":
                    o.getTeamMsgReadAccounts(e);
                    break;

                  case "getTeamsById":
                    o.getTeamsById(e);
                }
            }, r.getTeamMsgReads = function(e) {
                var t = this;
                if (e.error) this.logger.error("team::sendTeamMsgReceipt: ", e.error); else {
                    var n = o._get(e, "content.teamMsgReceipts") || [];
                    if (this.db.enable) {
                        var r = [];
                        n.forEach(function(e) {
                            e.idClient && r.push({
                                idClient: e.idClient,
                                unread: +e.unread,
                                read: +e.read
                            });
                        }), r.length > 0 && setTimeout(function() {
                            return t.db.updateMsgBatch(r);
                        }, 0);
                    }
                }
            }, r.getTeamMsgReadAccounts = function(e) {
                if (e.error) this.logger.error("team::getTeamMsgReadAccounts: ", e.error); else {
                    var t = o._get(e, "content.readAccounts") || [], n = o._get(e, "content.unreadAccounts") || [], r = o._get(e, "content.teamMsgReceipt.idClient") || [];
                    this.db.putMsgReadDetail({
                        idClient: r,
                        readAccounts: t,
                        unreadAccounts: n
                    });
                }
            }, r.sendTeamMsgReceipt = function(e) {
                var t = this;
                if (e.error) this.logger.error("team::sendTeamMsgReceipt: ", e.error); else {
                    var n = o._get(e, "obj.teamMsgReceipts") || [], r = o._get(e, "content.teamMsgReceipts") || [];
                    if (this.db.enable) {
                        var i = [];
                        n.forEach(function(e) {
                            r.some(function(t) {
                                return e.idServer === t.idServer;
                            }) || i.push({
                                idClient: e.idClient,
                                hasRead: !0
                            });
                        }), i.length > 0 && (this.logger.log("sendTeamMsgReceipt::updateMsgBatch"), setTimeout(function() {
                            return t.db.updateMsgBatch(i);
                        }, 0));
                    }
                }
            }, r.onCreateTeam = function(e, t) {
                var n = this.db;
                n.enable && (n.putTeam(e), n.putTeamMembers(t)), this.options.onCreateTeam(e, t);
            }, r.onTeams = function(e) {
                e.content = e.content || {};
                var t, n = this, r = n.db, o = n.packetFromSync(e), i = e.content.teams || [], c = !0, u = [], l = [];
                if (e.error) switch (e.error.code) {
                  case 803:
                    e.error = null, c = !1;
                }
                var d = new Promise(function(a, d) {
                    var p, m;
                    e.error ? o && d(e.error) : (c && i.forEach(function(e) {
                        (e = s.reverse(e)).validToCurrentUser ? u.push(e) : l.push(e);
                    }), i.length ? (c = !0, t = e.content.timetag) : c = !1, r.enable ? (p = a, m = d, 
                    e.promise = new Promise(function(e, i) {
                        function a() {
                            o ? (f(), e(), p()) : r.getTeams().then(function(t) {
                                u = t, f(), e(), p();
                            }).catch(function(e) {
                                e.message = "db.getTeams error", e.callFunc = "team::afterMergeData", i(e), m(e);
                            });
                        }
                        c ? r.mergeTeams(u, l, t).then(function() {
                            a();
                        }).catch(function(e) {
                            var t = {
                                callFunc: "team::onTeams:mergeData",
                                message: "db.mergeTeams error",
                                event: e
                            };
                            i(t), m(t);
                        }) : (n.logger.warn("team::onTeams:mergeData: no teams need merge"), a());
                    }).then(void 0, function(e) {
                        throw e.message = "merge teams data error", e.callFunc = "team::mergeData", m(e), 
                        e;
                    })) : (f(), a()));
                }).catch(function(e) {
                    return n.logger.error("team::onTeams: ", e), Promise.reject(e);
                });
                function f() {
                    n.timetags.teams = t, u.invalid = l, o ? (n.syncResult.teams = u, n.syncResult.invalidTeams = l, 
                    n.syncing || n.onSyncDone()) : (n.logger.info("team::onTeams: not in syncing, get teams", a(u)), 
                    e.obj = u);
                }
                o && (d.cmd = "teams", n.syncPromiseArray.push(d));
            }, r.getTeamsById = function(e) {
                if (e.error) {
                    if (816 !== e.error.code) return;
                    this.logger.error("team::getTeamsById: ", e.error), e.error = null;
                }
                e.content.teams = e.content.teams.map(function(e) {
                    return s.reverse(e);
                }), e.obj = e.content;
            }, r.onTeamMembers = function(e) {
                e.content = e.content || {};
                var t, n, r = this, o = (r.db, r.packetFromSync(e)), a = e.content.members || [], s = !0, u = [], l = [];
                if (e.obj && (n = e.obj.teamId), n || (n = e.content.teamId), n = "" + n, e.error) switch (e.error.code) {
                  case 406:
                    e.error = null, s = !1;
                }
                var d = new Promise(function(d, f) {
                    e.error ? o && (r.logger.error("team::onTeamMember: team error:", n, e.error), f({
                        callFunc: "team::onTeamMembers",
                        event: e.error,
                        message: "teamId-".concat(n, " 获取群成员错误")
                    })) : (s && a.forEach(function(e) {
                        (e = c.reverse(e)).valid ? u.push(e) : l.push(e);
                    }), a.length ? (s = !0, t = e.content.timetag) : s = !1, u.invalid = l, o ? (r.syncTeamMembersResult[n] = u, 
                    r.syncTeamMembersResult[n + "-invalid"] = l, r.timetags["team-" + n] = t) : (r.logger.info("team::onTeamMembers: not syncing, get members", n, i(u)), 
                    e.obj = {
                        teamId: n,
                        members: u
                    }), d());
                });
                o && (d.cmd = n, r.syncTeamMembersPromiseArray.push(d));
            }, r.onUpdateTeamMember = function(e) {
                e.updateTime || (e.updateTime = +new Date()), this.logger.info("team::onUpdateTeamMember: ", e && e.account), 
                this.options.onupdateteammember(o.simpleClone(e));
                var t = {
                    teamId: e.teamId,
                    memberUpdateTime: e.updateTime
                };
                this.onUpdateTeam(t);
                var n = this.db;
                n.enable && n.updateTeamMember(e);
            }, r.onUpdateTeam = function(e) {
                this.logger.info("team::onUpdateTeam:", e && e.teamId), this.options.onUpdateTeam(o.simpleClone(e));
                var t = this.db;
                t.enable && t.updateTeam(e);
            }, r.onSyncMyTeamMembers = function(e) {
                var t = this, n = t.db, r = c.reverseMembers(e.content.teamMembers);
                if (n.enable) {
                    var o = n.putTeamMembers(r).then(function() {
                        return n.updateMyTeamMembersTimetag(e.content.timetag);
                    }).catch(function(e) {
                        return t.logger.error("team::syncMyTeamMember: ", e), Promise.reject(e);
                    });
                    o.cmd = "myTeamMembers", t.syncTeamMembersPromiseArray.push(o);
                }
                t.mergeMyTeamMembers(r);
            }, r.mergeMyTeamMembers = function(e) {
                o.isArray(e) || (e = [ e ]);
                var t = this.myTeamMembersMap = this.myTeamMembersMap || {};
                e.forEach(function(e) {
                    var n = e.teamId;
                    t[n] = o.merge(t[n], e);
                });
            }, r.notifyForNewTeamMsg = function(e) {
                o.isArray(e) || (e = [ e ]);
                var t = this, n = this.myTeamMembersMap || {}, r = {}, i = [];
                e.forEach(function(e) {
                    o.exist(n[e]) ? r[e] = n[e].muteNotiType : i.push(e);
                });
                var a = Promise.resolve({
                    map: r
                });
                return i.length && (a = t.api.getMyTeamMembers({
                    teamIds: i,
                    promise: !0
                }).then(function(n) {
                    t.mergeMyTeamMembers(n), n.forEach(function(e) {
                        r[e.teamId] = e.muteNotiType;
                    });
                    var o = e.filter(function(e) {
                        return !r[e];
                    });
                    return Promise.resolve({
                        map: r,
                        miss: o
                    });
                }).catch(function(e) {
                    return Object.keys(r).length > 0 ? Promise.resolve({
                        map: r,
                        miss: i,
                        error: e
                    }) : Promise.reject(e);
                })), a;
            }, r.updateTeamSysMsgState = function(e, t) {
                var n, r = e.error;
                r && (t = "error", r = o.filterObj(r, "code message")), n = {
                    idServer: e.obj.idServer,
                    state: t
                }, r && (n.error = r), this.updateSysMsg(n);
            }, r.onTeamMsgReceipt = function(e) {
                var t = e.content, n = e.error;
                n && this.logger.error("team::onTeamMsgReceipt:", n), t && t.teamMsgReceipts && this.options.onTeamMsgReceipt(t);
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = (o.objs2accounts, o.teams2ids), a = n(51), s = n(29);
            r.processSuperTeam = function(e) {
                var t, n, r, o = e.error;
                switch (void 0 === e.obj && (e.obj = {}), e.cmd) {
                  case "sendSuperTeamMsg":
                    this.onSendMsg(e);
                    break;

                  case "superTeamMsg":
                    this.onMsg(e);
                    break;

                  case "sendSuperTeamCustomSysMsg":
                    this.onSendSysMsg(e);
                    break;

                  case "superTeamCustomSysMsg":
                    this.onSysMsg(e);
                    break;

                  case "syncSuperTeams":
                    this.onSuperTeams(e);
                    break;

                  case "syncCreateSuperTeam":
                    t = a.reverse(e.content.team), r = s.assembleOwner(t), this.logger.info("team::processTeam: sync createTeam", t && t.teamId, r && r.account), 
                    this.options.onSyncCreateSuperTeam(t, r), this.onCreateSuperTeam(t, r);
                    break;

                  case "getSuperTeamHistoryMsgs":
                  case "searchSuperTeamHistoryMsgs":
                    this.onHistoryMsgs(e);
                    break;

                  case "syncSendSuperTeamMsg":
                    this.onMsg(e);
                    break;

                  case "addSuperTeamMembers":
                  case "removeSuperTeamMembers":
                  case "leaveSuperTeam":
                  case "addSuperTeamManagers":
                  case "removeSuperTeamManagers":
                  case "transferSuperTeam":
                    break;

                  case "updateInfoInSuperTeam":
                    o || ((n = e.obj).account = this.account, n.id = s.genId(n.teamId, n.account), n = s.reverse(n), 
                    e.obj = n, this.onUpdateSuperTeamMember(n));
                    break;

                  case "updateNickInTeam":
                    e.obj = s.reverse(e.obj);
                    break;

                  case "syncUpdateSuperTeamMember":
                    n = s.reverse(e.content.teamMember), this.onUpdateSuperTeamMember(n);
                    break;

                  case "updateSuperTeam":
                    e.obj = a.reverse(e.obj, !0);
                    break;

                  case "getSuperTeam":
                    e.error || (e.obj = a.reverse(e.content.team));
                    break;

                  case "getSuperTeams":
                    this.onSuperTeams(e);
                    break;

                  case "syncSuperTeamMembers":
                    this.onSyncSuperTeamMembers(e);
                    break;

                  case "getSuperTeamMembers":
                    e.error || this.onGetAllSuperTeamMembers(e);
                    break;

                  case "getSuperTeamMembersByJoinTime":
                  case "getSuperTeamMembersByAccounts":
                  case "getMutedSuperTeamMembers":
                    e.error || this.onSuperTeamMembers(e);
                    break;

                  case "onDeleteSuperTeamMsg":
                    this.onDeleteMsg(e);
                    break;

                  case "onSuperTeamMsgDelete":
                  case "syncDeleteSuperTeamMsg":
                    this.onMsgDeleted(e, !0);
                    break;

                  case "onMarkSuperTeamSessionAck":
                    this.onMarkSessionAck(e);
                    break;

                  case "syncMarkSuperTeamSessionAck":
                    this.syncMarkSessionAck(e);
                }
            }, r.onSuperTeams = function(e) {
                e.content = e.content || {};
                var t, n = this, r = n.db, o = n.packetFromSync(e), s = e.content.teams || [], c = !0, u = [], l = [];
                if (e.error) switch (e.error.code) {
                  case 803:
                    e.error = null, c = !1;
                }
                var d = new Promise(function(i, d) {
                    var p, m;
                    e.error ? o && d(e.error) : (c && s.forEach(function(e) {
                        (e = a.reverse(e)).validToCurrentUser ? u.push(e) : l.push(e);
                    }), s.length ? (c = !0, t = e.content.timetag) : c = !1, r.enable ? (p = i, m = d, 
                    e.promise = new Promise(function(e, i) {
                        function a() {
                            o ? (f(), e(), p()) : r.getSuperTeams().then(function(t) {
                                u = t, f(), e(), p();
                            }).then(void 0, function(e) {
                                e.message = "db.getSuperTeams error", e.callFunc = "superTeam::afterMergeData", 
                                i(e), m(e);
                            });
                        }
                        c ? r.mergeSuperTeams(u, l, t).then(function() {
                            a();
                        }).then(void 0, function(e) {
                            var t = {
                                callFunc: "superTeam::onSuperTeams:mergeData",
                                message: "db.mergeSuperTeams error",
                                event: e
                            };
                            i(t), m(t);
                        }) : (n.logger.warn("superTeam::onSuperTeams:mergeData: no teams need merge"), a());
                    }).then(void 0, function(e) {
                        throw e.message = "merge teams data error", e.callFunc = "superTeam::mergeData", 
                        m(e), e;
                    })) : (f(), i()));
                }).catch(function(e) {
                    return n.logger.error("superTeam::onSuperTeams: ", e), Promise.reject(e);
                });
                function f() {
                    n.timetags.superTeams = t, u.invalid = l, o ? (n.syncResult.superTeams = u, n.syncResult.invalidSuperTeams = l) : (n.logger.info("superTeam::onSuperTeams: not in syncing, get teams", i(u)), 
                    e.obj = u);
                }
                o && (d.cmd = "superteams", n.syncPromiseArray.push(d));
            }, r.onCreateSuperTeam = function(e, t) {
                var n = this.db;
                n.enable && (n.putSuperTeam(e), n.putSuperTeamMembers(t));
            }, r.onGetAllSuperTeamMembers = function(e) {
                var t = this, n = this.db, r = e.raw.ser, o = this.superTeamMembersData[r] || {}, i = o.teamId || e.obj && e.obj.teamId;
                if (n.enable) {
                    var a = e.content && e.content.timetag, s = 200 === e.raw.code ? Promise.all(o.pArr) : Promise.resolve();
                    e.promise = s.then(function() {
                        return n.getSuperTeamMembers(i).then(function(t) {
                            a && n.updateSuperTeamMemberTimetag(i, a), e.obj = {
                                members: t,
                                invalid: [],
                                teamId: i
                            };
                        });
                    }).catch(function(e) {
                        return t.logger.error(e);
                    });
                } else e.obj = {
                    members: o.members,
                    invalid: o.invalid,
                    teamId: i
                };
                this.superTeamMembersData[r] = void 0;
            }, r.onSyncSuperTeamMembers = function(e) {
                var t, n = this.db, r = [], o = [], i = e.content.members || [], a = e.raw.ser;
                if (e.obj && (t = e.obj.teamId), t || (t = e.content.teamId), i.forEach(function(e) {
                    (e = s.reverse(e)).valid ? o.push(e) : r.push(e);
                }), n.enable) {
                    this.superTeamMembersData[a] = this.superTeamMembersData[a] || {
                        teamId: t,
                        pArr: []
                    };
                    var c = Promise.resolve();
                    e.content && e.content.isAll && (c = n.deleteSuperTeamMembers(t));
                    var u = c.then(function() {
                        return n.mergeSuperTeamMembers(t, o, r);
                    }).then(function() {
                        return Promise.resolve();
                    });
                    this.superTeamMembersData[a].pArr.push(u);
                } else this.superTeamMembersData[a] = this.superTeamMembersData[a] || {
                    teamId: t,
                    members: [],
                    invalid: []
                }, o.length && (this.superTeamMembersData[a].members = this.api.mergeTeamMembers(this.superTeamMembersData[a].members, o)), 
                r.length && (this.superTeamMembersData[a].invalid = this.api.mergeTeamMembers(this.superTeamMembersData[a].invalid, r));
                e.raw = void 0;
            }, r.onSuperTeamMembers = function(e, t) {
                var n, r = this.db, o = [], i = [];
                (e.content.members || []).forEach(function(e) {
                    (e = s.reverse(e)).valid ? i.push(e) : o.push(e);
                }), e.obj && (n = e.obj.teamId), n || (n = e.content.teamId || i[0] && i[0].teamId), 
                r.enable && !t && r.mergeSuperTeamMembers(n, i, o), e.obj = {
                    members: i,
                    invalid: o,
                    teamId: n
                };
            }, r.onUpdateSuperTeamMember = function(e) {
                e.updateTime || (e.updateTime = +new Date()), this.logger.info("superTeam::onUpdateSuperTeamMember: ", e && e.account), 
                this.options.onUpdateSuperTeamMember(o.simpleClone(e));
                var t = {
                    teamId: e.teamId,
                    memberUpdateTime: e.updateTime
                };
                this.onUpdateSuperTeam(t);
                var n = this.db;
                n.enable && n.updateSuperTeamMember(e);
            }, r.onUpdateSuperTeam = function(e) {
                this.logger.info("superteam::onUpdateSuperTeam:", e && e.teamId), this.options.onUpdateSuperTeam(o.simpleClone(e));
                var t = this.db;
                t.enable && t.updateSuperTeam(e);
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = n(52);
            r.processNotify = function(e) {
                switch (e.cmd) {
                  case "syncOfflineNetcallMsgs":
                  case "syncOfflineMsgs":
                    this.onOfflineMsgs(e);
                    break;

                  case "batchMarkRead":
                    break;

                  case "syncOfflineSysMsgs":
                  case "syncOfflineSuperTeamSysMsgs":
                    this.onOfflineSysMsgs(e);
                    break;

                  case "syncRoamingMsgs":
                  case "syncSuperTeamRoamingMsgs":
                    this.onRoamingMsgs(e);
                    break;

                  case "syncOfflineFilterMsgs":
                    this.onOfflineMsgs(e, !0);
                    break;

                  case "syncOfflineFilterSysMsgs":
                    this.onOfflineSysMsgs(e, !0);
                    break;

                  case "syncMsgReceipts":
                    this.onOfflineMsgReceipts(e);
                    break;

                  case "syncDonnop":
                    this.onDonnop(e, !0);
                    break;

                  case "syncSessionAck":
                    this.syncSessionAck(e);
                    break;

                  case "syncSuperTeamSessionAck":
                    this.syncSuperTeamSessionAck(e);
                    break;

                  case "syncRobots":
                    this.onRobots(e);
                    break;

                  case "syncBroadcastMsgs":
                    this.onBroadcastMsgs(e);
                    break;

                  case "syncDeleteSuperTeamMsgOfflineRoaming":
                    this.onDeleteMsgOfflineRoaming(e);
                    break;

                  case "syncDeleteMsgSelf":
                    this.syncDeleteMsgSelf(e);
                    break;

                  case "syncSessionsWithMoreRoaming":
                    this.syncSessionsWithMoreRoaming(e);
                    break;

                  case "syncStickTopSessions":
                    this.syncStickTopSessions(e);
                    break;

                  case "syncSessionHistoryMsgsDelete":
                    this.syncSessionHistoryMsgsDelete(e);
                }
            }, r.onDonnop = function(e, t) {
                if (!e.error) {
                    var n = this, r = n.db, o = i.reverse(e.content.donnop);
                    n.mergeDonnop(o);
                    var a = n.dbDonnop();
                    if (t) {
                        var s = e.content.timetag;
                        n.timetags.donnop = s, r.enable && (a = a.then(function() {
                            return n.db.updateDonnopTimetag(s);
                        }).catch(function(e) {
                            return n.logger.error("notify::onDonnop: ", e), Promise.reject(e);
                        })), a.cmd = "donnop", n.syncPromiseArray.push(a);
                    } else n.onPushNotificationMultiportConfigUpdate();
                }
            }, r.onUpdateDonnop = function(e) {
                if (!e.error) {
                    var t = e.obj;
                    t && (this.mergeDonnop(o.filterObj(t, [ "shouldPushNotificationWhenPCOnline" ])), 
                    this.dbDonnop(), this.onPushNotificationMultiportConfigUpdate());
                }
            }, r.getPushNotificationMultiportConfig = function() {
                return o.merge({}, this.pushNotificationMultiportConfig);
            }, r.mergeDonnop = function(e) {
                this.pushNotificationMultiportConfig = o.merge({}, this.pushNotificationMultiportConfig, e);
            }, r.dbDonnop = function() {
                return this.db.enable ? this.db.setDonnop(this.pushNotificationMultiportConfig) : Promise.resolve();
            }, r.onPushNotificationMultiportConfigUpdate = function() {
                var e = this;
                setTimeout(function() {
                    var t = e.getPushNotificationMultiportConfig();
                    e.logger.info("link::onPushNotificationMultiportConfigUpdate:", t), e.options.onPushNotificationMultiportConfigUpdate(t);
                });
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = o.undef, a = n(5), s = n(20), c = n(29), u = n(27), l = (n(53), 
            n(9)), d = n(1), f = n(11);
            function p(e, t, n) {
                var r = this, o = r.message.Message, i = n ? "offlineFilterMsgs" : "offlineMsgs";
                if (!(t && t.length > 0)) return Promise.resolve();
                var a = o.getMaxTimetag(t), s = t[0].scene, c = t[0].target;
                r.markMsgRead(t), t = o.sortMsgs(t), t = o.deduplication(t);
                var u = r.genSessionByMsgs(t);
                r.cacheSyncedSession(u);
                var l = r.putMsg(t, "offlineMsgs").then(function(t) {
                    var n = t;
                    (n = r.filterIgnore(n)).length && (r.logger.info("msg::onOfflineMsgs： toreLastSession", i, e, n.length), 
                    r.syncResult[i] = r.syncResult[i] || [], r.syncResult[i].push({
                        sessionId: e,
                        scene: s,
                        to: c,
                        msgs: n,
                        timetag: a
                    }));
                }).catch(function(e) {
                    return r.logger.error("msg::onOfflineMsgs: ", e), Promise.reject(e);
                });
                return l.cmd = "offlineMsgs-" + e, l;
            }
            r.processMsg = function(e) {
                switch (e.cmd) {
                  case "sendMsg":
                    this.onSendMsg(e);
                    break;

                  case "msg":
                    this.onMsg(e);
                    break;

                  case "sysMsg":
                    this.onSysMsg(e);
                    break;

                  case "broadcastMsg":
                    this.onBroadcastMsg(e);
                    break;

                  case "sendCustomSysMsg":
                    this.onSendSysMsg(e);
                    break;

                  case "getHistoryMsgs":
                  case "searchHistoryMsgs":
                    this.onHistoryMsgs(e);
                    break;

                  case "msgFtsInServer":
                  case "msgFtsInServerByTiming":
                    this.onmsgFtsInServer(e);
                    break;

                  case "syncSendMsg":
                    this.onMsg(e);
                    break;

                  case "deleteSessions":
                    this.onDeleteSessions(e);
                    break;

                  case "sendMsgReceipt":
                    this.onSendMsgReceipt(e);
                    break;

                  case "msgReceipt":
                    this.onMsgReceipt(e);
                    break;

                  case "onDeleteMsg":
                    this.onDeleteMsg(e);
                    break;

                  case "onMsgDeleted":
                    this.onMsgDeleted(e);
                    break;

                  case "onDeleteMsgOfflineRoaming":
                    this.onDeleteMsgOfflineRoaming(e);
                    break;

                  case "onMarkSessionAck":
                    this.onMarkSessionAck(e);
                    break;

                  case "syncMarkSessionAck":
                    this.syncMarkSessionAck(e);
                    break;

                  case "syncUpdateServerSession":
                    this.onSyncUpdateServerSession(e);
                    break;

                  case "deleteMsgSelf":
                    this.deleteMsgSelf(e);
                    break;

                  case "deleteMsgSelfBatch":
                    this.deleteMsgSelfBatch(e);
                    break;

                  case "onDeleteMsgSelf":
                    this.onDeleteMsgSelf(e);
                    break;

                  case "onDeleteMsgSelfBatch":
                    this.onDeleteMsgSelfBatch(e);
                    break;

                  case "clearServerHistoryMsgs":
                    this.clearServerHistoryMsgs(e);
                    break;

                  case "onClearServerHistoryMsgs":
                    this.onClearServerHistoryMsgs(e);
                }
            }, r.checkIgnore = function(e) {
                var t = this;
                e.forEach(function(e) {
                    e.ignore || (t.options.shouldIgnoreMsg(e) && (e.ignore = !0), "notification" === e.type && t.options.shouldIgnoreNotification(e) && (e.ignore = !0));
                });
            }, r.filterIgnore = function(e) {
                return e.filter(function(e) {
                    return !e.ignore;
                });
            }, r.genSessionByMsgs = function(e) {
                return this.checkIgnore(e), u.genSessionByMsgs(this.message.Message, e);
            }, r.onRoamingMsgs = function(e) {
                var t = this, n = t.message, r = n.Message, o = r.getMaxTimetag, i = n.reverseMsgs(e.content.msgs), a = o(i);
                i = r.sortMsgs(i);
                var s = (i = r.deduplication(i))[0], c = s.sessionId, u = t.genSessionByMsgs(i);
                t.cacheSyncedSession(u);
                var l = t.putMsg(i, "roamingMsgs").then(function(e) {
                    i = e, (i = t.filterIgnore(i)).length && (t.logger.info("msg::onRoamingMsgs: putRoamingMsgs", c, i.length), 
                    t.syncResult.roamingMsgs = t.syncResult.roamingMsgs || [], t.syncResult.roamingMsgs.push({
                        sessionId: c,
                        scene: s.scene,
                        to: s.target,
                        msgs: i,
                        timetag: a
                    }), t.syncing || t.onSyncDone());
                }).catch(function(e) {
                    return t.logger.error("msg::onRoamingMsgs: ", e), Promise.reject(e);
                });
                l.cmd = "roamingMsgs-" + c, t.syncPromiseArray.push(l);
            }, r.onOfflineMsgs = function(e, t) {
                var n = this, r = this.message, i = null;
                t && (i = {
                    filter: !0
                });
                var a = r.reverseMsgs(e.content.msgs, {
                    modifyObj: i
                }), s = {};
                a.forEach(function(e) {
                    s[e.sessionId] = s[e.sessionId] || [], s[e.sessionId].push(e);
                });
                var c = Object.keys(s).map(function(e) {
                    return {
                        sessionId: e,
                        msgs: s[e]
                    };
                }), u = o.asyncPool(50, c, function(e) {
                    return p.call(n, e.sessionId, e.msgs, t);
                });
                this.syncPromiseArray.push(u);
            }, r.completeMsg = function(e) {
                return e.from = this.account, e.fromNick = this.myInfo && this.myInfo.nick, e.fromClientType = "Web", 
                e.fromDeviceId = a.deviceId, e.time || (e.time = +new Date()), e;
            }, r.onMsgs = function(e) {
                var t = this, n = t.message.reverseMsgs(e.content.msgs, {
                    mapper: function(e) {
                        t.handleMsg(e);
                    }
                });
                t.pushMsgDelay(n);
            }, r.onMsg = function(e, t) {
                if (e.content.msg.attach) {
                    var n = null;
                    try {
                        n = JSON.parse(e.content.msg.attach);
                    } catch (e) {}
                    if (!this.mixStorePolicy) try {
                        this.mixStorePolicy = JSON.parse(localStorage.getItem("NIM-AllMixStorePolicy"))[this.options.appKey];
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        this.logger.error("error:", "get last mixStorePolicy failed", e);
                    }
                    if (n && n.url && this.mixStorePolicy.s3Policy && this.mixStorePolicy.s3Policy.dlcdns && this.mixStorePolicy.s3Policy.dlcdns.length) {
                        var r, o = _createForOfIteratorHelper(this.mixStorePolicy.s3Policy.dlcdns);
                        try {
                            for (o.s(); !(r = o.n()).done; ) {
                                var i = r.value;
                                n.url.indexOf(i) >= 0 && (n.isS3 = !0, i !== this.mixStorePolicy.s3Policy.dlcdn && (n.url = n.url.replace(i, this.mixStorePolicy.s3Policy.dlcdn)));
                            }
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            o.e(e);
                        } finally {
                            o.f();
                        }
                    }
                    e.content.msg.attach = JSON.stringify(n);
                }
                var a = this.message.reverse(e.content.msg);
                t && (a.filter = !0), "syncSendMsg" !== e.cmd || a.from !== a.to ? (this.pushMsgDelay([ a ]), 
                this.syncing ? (this.logger.info("msg::onMsg:is in syncing ..."), this.unhandledMsgs.push({
                    type: "onMsg",
                    msg: a
                })) : this.handleMsg(a)) : this.logger.warn("onMsg::syncSendMsg to self, so ignore", a.idClient, a.idServer);
            }, r.onBroadcastMsgs = function(e) {
                var t = e.content.broadcastMsgs;
                t = t.sort(function(e, t) {
                    return e.broadcastId - t.broadcastId;
                }), this.putBroadcastMsgs(t);
            }, r.onBroadcastMsg = function(e) {
                var t = e.content.broadcastMsg;
                t.time = t.timestamp, this.syncing ? this.unhandledMsgs.push({
                    type: "onBroadcastMsg",
                    msg: t
                }) : t && this.putBroadcastMsg(t);
            }, r.pushMsgTask = function(e) {
                this.msgPromise = this.msgPromise.then(function() {
                    return e();
                });
            }, r.pushMsgDelay = function(e) {
                if (e && e.length > 0) {
                    var t = this;
                    if (t.msgStatEnable && !d.isWeixinApp && void 0 !== t.relativeSeverTime) {
                        var n = e.map(function(e) {
                            return {
                                appkey: t.options.appKey,
                                accid: e.to,
                                fromAccid: e.from,
                                msgId: e.idServer,
                                serverTime: e.time,
                                receiveTime: Date.now() - t.relativeSeverTime,
                                sessionId: t.sdkSession,
                                platform: "web",
                                sdk_ver: d.info.version,
                                manufactor: f.name + " " + f.version
                            };
                        });
                        t.msgDelayArr = t.msgDelayArr.concat(n), t.msgDelayArr.length > 5 && t.doReportMsgDelay();
                    }
                }
            }, r.doReportMsgDelay = function() {
                var e = JSON.stringify(this.msgDelayArr);
                this.msgDelayArr && this.msgDelayArr.length > 0 && (l.sendBeacon("https://statistic.live.126.net/statics/report/im/sdk/msgreceived", e), 
                this.msgDelayArr = []), this.msgDelayTimer && clearTimeout(this.msgDelayTimer), 
                this.socket && (this.msgDelayTimer = setTimeout(this.doReportMsgDelay.bind(this), 1e4));
            }, r.handleMsg = function(e) {
                var t = this, n = t.db, r = e.time;
                t.markMsgRead(e), t.msgPromise = t.msgPromise.then(function() {
                    return t.putMsg(e, "onMsg");
                }).then(function(o) {
                    return t.logger.info("msg::handleMsg:putMsg: done ".concat(e.idServer, " ").concat(e.idClient)), 
                    n.enable ? "superTeam" === e.scene ? n.updateSuperTeamRoamingMsgTimetag(r) : n.updateRoamingMsgTimetag(r) : (t.timetags["superTeam" === e.scene ? "superTeamRoamingMsgs" : "roamingMsgs"] = r, 
                    Promise.resolve());
                }).then(function() {
                    if (e) return t.checkUserUpdate(e);
                }).then(function() {
                    if (e) {
                        var n = e.type;
                        switch (t.logger.info("msg::handleMsg:checkUserUpdate: " + e.scene + " " + n + " msg" + ("notification" === n ? " " + e.attach.type : "")), 
                        n) {
                          case "notification":
                            return t.onTeamNotificationMsg(e);
                        }
                    }
                }).then(function() {
                    e && !e.ignore && (t.logger.info("msg::handleMsg:onmsg: ", e.idClient, e.idServer), 
                    setTimeout(function() {
                        t.options.onmsg(o.copy(e));
                    }, 0));
                }).catch(function(e) {
                    e.callFunc = "msg::handleMsg", t.onCustomError("消息处理错误", e);
                });
            }, r.putMsg = function(e, t) {
                if (o.isArray(e) || (e = [ e ]), e[0].filter) return Promise.resolve(e);
                var n, r = this, a = r.db, s = a.enable, c = Promise.resolve(), u = r.message.Message.getLastMsg(e), l = u.flow, d = r.genSessionByMsgs(e);
                m(d);
                var f = !1, p = [];
                function m(e) {
                    "roamingMsgs" !== t && "offlineMsgs" !== t || r.cacheSyncedSession(e);
                }
                return c = (c = (c = c.then(function() {
                    return s || r.options.autoMarkRead || "roamingMsgs" === t || !d || (r.sessionUnreadMsgs = r.sessionUnreadMsgs || {}, 
                    r.sessionUnreadMsgs[d.id] = r.sessionUnreadMsgs[d.id] || [], r.sessionUnreadMsgs[d.id] = r.sessionUnreadMsgs[d.id].concat(e.filter(function(e) {
                        return r.options.shouldCountNotifyUnread(e);
                    }))), "offlineMsgs" === t || "roamingMsgs" === t ? Promise.reject(e) : s ? a.putMsg(e) : e;
                }).then(function(t) {
                    var n = [];
                    return e.forEach(function(e) {
                        r.checkMsgUnique(e) && n.push(e);
                    }), e = n, p = s ? t : e, Promise.resolve(e);
                })).then(function(e) {
                    return e.length && s && d ? new Promise(function(t, n) {
                        a.getSessions({
                            sessionId: d.id
                        }).then(function(n) {
                            if (n && n.lastMsg) {
                                var r = n.lastMsg;
                                d.lastMsg && d.lastMsg.time < r.time && (d.lastMsg = r);
                            }
                            p && p.length ? d ? a.putSession(d).then(function(e) {
                                t(e);
                            }) : t(n) : (f = !0, p = e, t(n));
                        });
                    }) : Promise.resolve(d);
                })).then(function(e) {
                    if (d && p.length) {
                        n = u.sessionId !== r.currSessionId;
                        var c = "roamingMsgs" === t, g = r.options.syncSessionUnread, h = d.id, y = r.findSession(h) || {}, v = y.ack || 0;
                        if ("offlineMsgs" === t || c && g || "onMsg" === t && "in" === l && n) {
                            s && e ? (d = e, v = v || d.ack || 0) : (e = y) && (d.unread = e.unread || 0), m(d), 
                            d.unread = d.unread || 0;
                            var b = 0;
                            p.forEach(function(e) {
                                var t = r.options.shouldCountNotifyUnread(e), n = ("notification" !== e.type || "notification" === e.type && t) && (i(e.isUnreadable) || e.isUnreadable);
                                if (n && g && (n = e.time > v && "out" !== e.flow), n && (b++, g && !s)) {
                                    var o = y.unreadMsgs || [];
                                    o.push(e), d.unreadMsgs = o;
                                }
                            }), d.unread += b;
                            var T = o.secureOutput("session", d);
                            if (T.unreadMsgs && (T.unreadMsgs = T.unreadMsgs.map(function(e) {
                                return e && e.idServer;
                            })), r.logger.info("msg::putMsg:updateSession: ", T), m(d), s && !f) return a.updateSession({
                                id: d.id,
                                unread: d.unread
                            });
                        }
                    }
                }), "onMsg" === t && (c = c.then(function() {
                    e.length && d && (r.onUpdateSession(d), r.options.syncSessionUnread && !n && r.api.resetSessionUnread(r.currSessionId));
                })), c.then(function() {
                    return Promise.resolve(e);
                }).catch(function(e) {
                    return e && e.length ? Promise.resolve(e) : Promise.reject(e);
                });
            }, r.putBroadcastMsgs = function(e) {
                var t = this, n = t.db, r = e.length;
                if (r > 0) {
                    if (t.doMarkBroadcastMsgsRead(e), n.enable) {
                        var i = e[r - 1].broadcastId;
                        return n.updateBroadcastMsgTimetag(i), n.putBroadcastMsg(e).then(function() {
                            return setTimeout(function() {
                                t.doMarkMsgsRead(), t.options.onbroadcastmsgs(o.copy(e));
                            }, 0), Promise.resolve(e);
                        });
                    }
                    setTimeout(function() {
                        t.options.onbroadcastmsgs(o.copy(e));
                    }, 0);
                }
                return e;
            }, r.putBroadcastMsg = function(e) {
                var t = this, n = t.db;
                return t.doMarkBroadcastMsgsRead([ e ]), n.enable ? (e.broadcastId && n.updateBroadcastMsgTimetag(e.broadcastId), 
                n.putBroadcastMsg(e).then(function() {
                    return setTimeout(function() {
                        t.options.onbroadcastmsg(o.copy(e));
                    }, 0), Promise.resolve(e);
                })) : (setTimeout(function() {
                    t.options.onbroadcastmsg(o.copy(e));
                }, 0), e);
            }, r.doMarkBroadcastMsgsRead = function(e) {
                e = e.map(function(e) {
                    return e.broadcastId;
                }), this.sendCmd("batchMarkRead", {
                    sid: 7,
                    cid: 17,
                    ids: e
                });
            }, r.cacheSyncedSession = function(e) {
                if (e && this.syncResult) {
                    e = Object.assign({}, e), this.syncResult.sessions = this.syncResult.sessions || {};
                    var t = e.id, n = this.syncResult.sessions[t] || {};
                    n && n.ack < e.ack && (e.ack = void 0), n && n.msgReceiptTime < e.msgReceiptTime && (e.msgReceiptTime = void 0), 
                    this.syncResult.sessions[t] = Object.assign(n, e), this.mergeSession(this.syncResult.sessions[t]);
                }
            }, r.checkMsgUnique = o.genCheckUniqueFunc("idClient"), r.revokeMsgUniqueCheck = function(e) {
                this.uniqueSet && this.uniqueSet.idClient && (this.uniqueSet.idClient[e] = !1);
            }, r.storeSendMsg = function(e) {
                if (!this.syncing) {
                    var t = this.putMsg(e, "sendMsg");
                    return this.msgPromise = this.msgPromise.then(function() {
                        return t;
                    }), t;
                }
                this.unhandledMsgs.push({
                    type: "sendMsg",
                    msg: e
                });
            }, r.updateSendMsgError = function(e) {
                if (!this.syncing) {
                    var t = this.updateMsg(e);
                    return this.msgPromise = this.msgPromise.then(function() {
                        return t;
                    }), t;
                }
                this.unupdatedMsgs.push(e);
            }, r.onSendMsg = function(e, t) {
                var n = this, r = e.content && e.content.msg, o = e.obj && e.obj.msg || r;
                if (this.logger.warn("sendMsg::end: ".concat(r && r.idServer, " ").concat(o.idClient)), 
                e.obj) a(); else {
                    var i = n.db;
                    i && i.enable && i.getMsgByIdClient(o.idClient).then(function(e) {
                        e && (o = e, a());
                    }).catch(function(e) {
                        return a();
                    });
                }
                function a() {
                    n.completeMsg(o);
                    var i = e.error && 7101 === e.error.code;
                    e.error && !i || (o.idServer = r.idServer, o.time = +r.time, r.yidunAntiSpamRes && (o.yidunAntiSpamRes = r.yidunAntiSpamRes), 
                    r.callbackExt && (o.callbackExt = r.callbackExt)), i && (o.isInBlackList = !0), 
                    e.error ? o.status = "fail" : o.status = "success", o = n.message.reverse(o), t && (o.filter = !0), 
                    e.obj = o, n.syncing ? n.unupdatedMsgs.push(o) : n.msgPromise = Promise.all([ n.msgPromise, e.obj.promise ]).then(function(e) {
                        return e.length || (o.resend = !0), n.updateMsg(o).then(function() {
                            return n.options.syncSessionUnread && n.currSessionId === o.sessionId && n.api.resetSessionUnread(n.currSessionId), 
                            n.resolveMsgReceiptTask(o), o;
                        });
                    }).catch(function(e) {
                        n.logger.error("onSendMsg::dealMsg error", e);
                    });
                }
            }, r.updateLocalMsg = function(e) {
                var t = this.updateMsg(e);
                return this.msgPromise = this.msgPromise.then(function() {
                    return t;
                }), t;
            }, r.updateMsg = function(e) {
                if (e.filter || this.options.shouldIgnoreMsg(e)) return Promise.resolve(e);
                var t = this, n = t.db, r = "success" === e.status, o = u.genSessionByMsg(e), i = !!e.isLocal;
                return t.onUpdateSession(o), n.enable ? n.updateMsg(e).then(function(t) {
                    var a = n.updateSession(o), s = Promise.resolve();
                    return r && t && !i && (s = "superTeam" === e.scene ? n.updateSuperTeamRoamingMsgTimetag(t.time) : n.updateRoamingMsgTimetag(t.time)), 
                    Promise.all([ a, s ]);
                }).catch(function(e) {
                    t.logger.error("updateMsg error", e);
                }) : (r && !i && (t.timetags.roamingMsgs = e.time), Promise.resolve(e));
            }, r.updateRoamingMsgTimetag = function(e) {
                var t = this.db;
                return t.enable ? t.updateRoamingMsgTimetag(e) : (this.timetags.roamingMsgs = e, 
                Promise.resolve(e));
            }, r.checkUserUpdate = function(e) {
                var t = this, n = e.from;
                return t.logger.info("handleMsg::checkUserUpdate: ", n, t.account), n === t.account ? Promise.resolve() : new Promise(function(r) {
                    var i = t.userSet[n];
                    if (i) {
                        var a = +i.updateTime, s = +e.userUpdateTime;
                        !isNaN(a) && !isNaN(s) && o.isNumber(a) && o.isNumber(s) && a < s ? c() : r();
                    } else c();
                    function c() {
                        t.api.getUser({
                            account: n,
                            sync: !0,
                            done: function(e, n) {
                                e || setTimeout(function() {
                                    t.logger.log("user::checkUserUpdate: onupdateuser", n && n.account), t.options.onupdateuser(n);
                                }, 0), r();
                            }
                        });
                    }
                });
            }, r.processUnsettledMsgs = function() {
                var e = this;
                e.unhandledMsgs.forEach(function(t) {
                    var n = t.msg;
                    switch (t.type) {
                      case "onMsg":
                        e.handleMsg(n);
                        break;

                      case "sendMsg":
                        e.msgPromise = e.msgPromise.then(function() {
                            return e.putMsg(n);
                        });
                        break;

                      case "onBroadcastMsg":
                        e.msgPromise = e.msgPromise.then(function() {
                            return e.putBroadcastMsg(n);
                        });
                    }
                }), e.unupdatedMsgs.forEach(function(t) {
                    e.msgPromise = e.msgPromise.then(function() {
                        return e.updateMsg(t);
                    });
                }), e.resetUnsettledMsgs();
            }, r.onTeamNotificationMsg = function(e) {
                this.db;
                var t = e.attach, n = t.type, r = e.from, o = e.to, i = e.time, a = t.team, s = t.account, c = t.accounts;
                switch (n) {
                  case "updateTeam":
                    return a.updateTime = i, this.onUpdateTeam(a);

                  case "addTeamMembers":
                    return this.onAddTeamMembers(e, a, c);

                  case "removeTeamMembers":
                    return this.onRemoveTeamMembers(a, o, c);

                  case "acceptTeamInvite":
                    return this.onAddTeamMembers(e, a, [ r ]);

                  case "passTeamApply":
                    return this.onAddTeamMembers(e, a, [ s ]);

                  case "addTeamManagers":
                    return this.updateTeamManagers(e, o, c, !0, i);

                  case "removeTeamManagers":
                    return this.updateTeamManagers(e, o, c, !1, i);

                  case "leaveTeam":
                    return this.onRemoveTeamMembers(a, o, [ r ]);

                  case "dismissTeam":
                    return this.onDismissTeam(o, i);

                  case "transferTeam":
                    return this.transferTeam(e, a, r, s);

                  case "updateTeamMute":
                    return this.onUpdateTeamMembersMute(e, a, [ s ], t.mute);

                  case "updateSuperTeam":
                    return a.updateTime = i, this.onUpdateSuperTeam(a);

                  case "addSuperTeamMembers":
                    return this.onAddSuperTeamMembers(e, a, c);

                  case "passSuperTeamApply":
                    return this.onAddSuperTeamMembers(e, a, [ s ]);

                  case "removeSuperTeamMembers":
                    return this.onRemoveSuperTeamMembers(a, o, c);

                  case "leaveSuperTeam":
                    return this.onRemoveSuperTeamMembers(a, o, [ r ]);

                  case "dismissSuperTeam":
                    return this.onDismissSuperTeam(o, i);

                  case "transferSuperTeam":
                    return this.transferSuperTeam(e, a, r, s);

                  case "addSuperTeamManagers":
                    return this.updateSuperTeamManagers(e, o, c, !0, i);

                  case "removeSuperTeamManagers":
                    return this.updateSuperTeamManagers(e, o, c, !1, i);

                  case "updateSuperTeamMembersMute":
                    return this.onUpdateSuperTeamMembersMute(e, a, c, t.mute);
                }
            }, r.onAddSuperTeamMembers = function(e, t, n) {
                var r = this.db, i = c.assembleMembers(t, n);
                e.attach.members = i;
                var a = {
                    team: t,
                    accounts: n,
                    members: i
                };
                if (this.logger.info("team::onAddSuperTeamMembers: ".concat(a.team.teamId, ", "), a.accounts), 
                this.options.onAddSuperTeamMembers(o.simpleClone(a)), r.enable) {
                    var s = r.putSuperTeamMembers(i), u = r.putSuperTeam(t);
                    return Promise.all([ s, u ]);
                }
            }, r.onRemoveSuperTeamMembers = function(e, t, n) {
                var r = this.db, i = {
                    team: e,
                    accounts: n
                };
                this.logger.info("team::onRemoveSuperTeamMembers: ".concat(i.team.teamId, ", "), i.accounts);
                try {
                    this.options.onRemoveSuperTeamMembers && this.options.onRemoveSuperTeamMembers(o.simpleClone(i));
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    throw new Error("Excute onRemoveSuperTeamMembers failed" + e.message);
                }
                if (r.enable) {
                    if (-1 === n.indexOf(this.account)) {
                        var a = r.removeSuperTeamMembersByAccounts(t, n), s = Promise.resolve();
                        return e && (s = r.putSuperTeam(e)), Promise.all([ a, s ]);
                    }
                    return r.leaveSuperTeam(t);
                }
            }, r.onDismissSuperTeam = function(e, t) {
                var n = this.db, r = {
                    teamId: e
                };
                if (this.logger.info("team::onDismissSuperTeam:", e), this.options.onDismissSuperTeam(r), 
                n.enable) return n.dismissSuperTeam(e, t);
            }, r.onAddTeamMembers = function(e, t, n) {
                var r = this, i = r.db, a = t.teamId, c = s.assembleMembers(t, n);
                e.attach.members = c;
                var u = {
                    team: t,
                    accounts: n,
                    members: c
                };
                if (r.logger.info("team::onAddTeamMembers: ", a, n), r.options.onAddTeamMembers(o.simpleClone(u)), 
                i.enable) {
                    var l, d = i.putTeam(t);
                    return -1 === n.indexOf(r.account) ? l = i.putTeamMembers(c) : (r.logger.log("team::onAddTeamMembers: user join team", a), 
                    d = new Promise(function(e) {
                        r.api.getTeamMembers({
                            teamId: a,
                            sync: !0,
                            done: function() {
                                e();
                            }
                        });
                    })), Promise.all([ l, d ]);
                }
            }, r.onRemoveTeamMembers = function(e, t, n) {
                var r = this.db, i = {
                    team: e,
                    accounts: n
                };
                if (this.logger.info("team::onRemoveTeamMembers: " + e.teamId, n), this.options.onRemoveTeamMembers(o.simpleClone(i)), 
                r.enable) {
                    if (-1 === n.indexOf(this.account)) {
                        var a = r.removeTeamMembersByAccounts(t, n), s = Promise.resolve();
                        return e && (s = r.putTeam(e)), Promise.all([ a, s ]);
                    }
                    return r.leaveTeam(t);
                }
            }, r.updateTeamManagers = function(e, t, n, r, i) {
                var a = this.db, c = e.attach.members = n.map(function(e) {
                    return {
                        id: s.genId(t, e),
                        type: r ? "manager" : "normal",
                        updateTime: i
                    };
                }), u = {
                    teamId: "" + t,
                    memberUpdateTime: i
                };
                e.attach.team = u;
                var l = {
                    team: u,
                    accounts: n,
                    isManager: r,
                    members: c
                };
                if (this.logger.info("team::updateTeamManagers:", t, n, r), this.options.onUpdateTeamManagers(o.simpleClone(l)), 
                a.enable) {
                    var d = a.updateTeam(u), f = a.updateTeamManagers(t, n, r, i);
                    return Promise.all([ d, f ]);
                }
            }, r.updateSuperTeamManagers = function(e, t, n, r, i) {
                var a = this.db, c = e.attach.members = n.map(function(e) {
                    return {
                        id: s.genId(t, e),
                        teamId: t,
                        account: e,
                        type: r ? "manager" : "normal",
                        updateTime: i
                    };
                }), u = {
                    teamId: "" + t,
                    memberUpdateTime: i
                };
                e.attach.team = u;
                var l = {
                    team: u,
                    accounts: n,
                    isManager: r,
                    members: c
                };
                if (this.logger.info("team::updateSuperTeamManagers:", t, n, r), this.options.onUpdateSuperTeamManagers(o.simpleClone(l)), 
                a.enable) {
                    var d = a.updateSuperTeam(u), f = a.updateSuperTeamMembers(c);
                    return Promise.all([ d, f ]);
                }
            }, r.onDismissTeam = function(e, t) {
                var n = this.db, r = {
                    teamId: e
                };
                if (this.logger.info("team::onDismissTeam:", e), this.options.onDismissTeam(r), 
                n.enable) return n.dismissTeam(e, t);
            }, r.transferTeam = function(e, t, n, r) {
                var i = this.db, a = t.teamId, c = t.memberUpdateTime, u = {
                    id: s.genId(a, n),
                    type: "normal",
                    updateTime: c
                }, l = {
                    id: s.genId(a, r),
                    type: "owner",
                    updateTime: c
                };
                e.attach.members = [ u, l ];
                var d = {
                    team: t,
                    from: u,
                    to: l
                };
                if (this.logger.info("team::transferTeam: from to", a, n, r), this.options.onTransferTeam(o.simpleClone(d)), 
                i.enable) return i.transferTeam(t, n, r);
            }, r.transferSuperTeam = function(e, t, n, r) {
                var i = this.db, a = t.teamId, s = t.memberUpdateTime, c = {
                    teamId: a,
                    type: "normal",
                    account: n,
                    updateTime: s
                }, u = {
                    teamId: a,
                    type: "owner",
                    account: r,
                    updateTime: s
                };
                e.attach.members = [ c, u ];
                var l = {
                    team: t,
                    from: c,
                    to: u
                };
                if (this.logger.info("team::transferSuperTeam: from to ", a, n, r), this.options.onTransferSuperTeam(o.simpleClone(l)), 
                i.enable) return i.transferSuperTeam(t, c, u);
            }, r.onUpdateTeamMembersMute = function(e, t, n, r) {
                var i = this.db, a = n.map(function(e) {
                    return {
                        id: s.genId(t.teamId, e),
                        account: e,
                        teamId: t.teamId,
                        mute: r,
                        updateTime: t.memberUpdateTime
                    };
                });
                e.attach.members = a;
                var c = {
                    team: t,
                    accounts: n,
                    members: a,
                    mute: r
                };
                if (this.logger.info("team::onUpdateTeamMembersMute:", t.teamId, n, r), this.options.onUpdateTeamMembersMute(o.simpleClone(c)), 
                i.enable) {
                    var u = i.updateTeamMembers(a), l = i.putTeam(t);
                    return Promise.all([ u, l ]);
                }
            }, r.onUpdateSuperTeamMembersMute = function(e, t, n, r) {
                var i = this.db, a = n.map(function(e) {
                    return {
                        id: c.genId(t.teamId, e),
                        account: e,
                        teamId: t.teamId,
                        mute: r,
                        updateTime: t.memberUpdateTime
                    };
                });
                e.attach.members = a;
                var s = {
                    team: t,
                    accounts: n,
                    members: a,
                    mute: r
                };
                if (this.logger.info("team::onUpdateSuperTeamMembersMute:", t.teamId, n, r), this.options.onUpdateSuperTeamMembersMute(o.simpleClone(s)), 
                i.enable) {
                    var u = i.updateSuperTeamMembers(a), l = i.putSuperTeam(t);
                    return Promise.all([ u, l ]);
                }
            }, r.onHistoryMsgs = function(e) {
                e.error || (e.obj.msgs = this.message.reverseMsgs(e.content.msgs));
            }, r.onmsgFtsInServer = function(e) {
                if (!e.error) {
                    var t = this.message.reverseMsgs(e.content.msgs);
                    e.obj.msgs = t, e.content.msgs = t;
                }
            }, r.isFilterMsgs = function(e) {
                return !!e[0].filter;
            }, r.splitMsgs = function(e, t, n, r) {
                e.forEach(function(e) {
                    if (e.filter) r.push(e); else switch (e.scene) {
                      case "p2p":
                        t.push(e);
                        break;

                      case "team":
                        n.push(e);
                    }
                });
            }, r.markMsgRead = function(e, t) {
                if (o.isArray(e) || (e = [ e ]), this.db.enable || this.options.autoMarkRead || t) {
                    var n = e.map(function(e) {
                        return {
                            flag: "msg",
                            idServer: e.idServer,
                            scene: e.scene,
                            filter: e.filter,
                            type: e.type,
                            attachType: e.attach && e.attach.type
                        };
                    });
                    this.msgAckBufferManager.add(n);
                }
            }, r.markSysMsgRead = function(e, t) {
                if (o.isArray(e) || (e = [ e ]), this.db.enable || this.options.autoMarkRead || t) {
                    var n = e.map(function(e) {
                        return {
                            flag: "systemMsg",
                            idServer: e.idServer,
                            scene: e.scene,
                            filter: e.filter,
                            type: e.type
                        };
                    });
                    this.msgAckBufferManager.add(n);
                }
            }, r.handleMsgsAck = function(e) {
                var t = this, n = {
                    p2pSysMsgs: {
                        sid: 7,
                        cid: 3,
                        msgs: []
                    },
                    p2pMsgs: {
                        sid: 7,
                        cid: 2,
                        msgs: []
                    },
                    superTeamSysMsgs: {
                        sid: 21,
                        cid: 19,
                        msgs: []
                    },
                    teamMsgs: {
                        sid: 8,
                        cid: 3,
                        msgs: []
                    },
                    filterSysMsgs: {
                        sid: 101,
                        cid: 3,
                        msgs: []
                    },
                    filterMsgs: {
                        sid: 101,
                        cid: 2,
                        msgs: []
                    },
                    netcallMsgs: {
                        sid: 9,
                        cid: 11,
                        msgs: []
                    }
                };
                e.forEach(function(e) {
                    /^(netcallBill|netcallMiss|netcallReject)$/.test(e.attachType) ? n.netcallMsgs.push(e) : e.filter ? "systemMsg" === e.flag ? n.filterSysMsg.msgs.push(e) : n.filterMsgs.msgs.push(e) : "systemMsg" !== e.flag ? "p2p" === e.scene ? n.p2pMsgs.msgs.push(e) : "team" === e.scene && n.teamMsgs.msgs.push(e) : "superTeam" === e.scene ? n.superTeamSysMsgs.msgs.push(e) : n.p2pSysMsgs.msgs.push(e);
                }), Object.keys(n).forEach(function(e) {
                    return t.doMarkMsgsRead(n[e].sid, n[e].cid, n[e].msgs);
                });
            }, r.doMarkMsgsRead = function(e, t, n) {
                n && n.length && (this.logger.log("markMsgRead::batchMarkRead", e, t, n), this.sendCmd("batchMarkRead", {
                    sid: e,
                    cid: t,
                    ids: n.map(function(e) {
                        return e.idServer;
                    })
                }));
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = (n(0), n(94)), i = n(95);
            function a(e, t, n) {
                var r = this, o = this.timetags && this.timetags.sync;
                this.db.enable && o && t && this.db.getMsgByIdClient(e).then(function(e) {
                    if (e && !(e.commentTimetag && e.commentTimetag <= o && e.time <= o)) {
                        if (e.commentTimetag = t.time, e.comments = e.comments || [], n) e.comments = e.comments.filter(function(e) {
                            return e.body !== t.body || e.from !== t.from;
                        }); else {
                            for (var i, a = 0; a < e.comments.length; a++) if (e.comments[a].from === t.from && e.comments[a].body === t.body) {
                                e.comments[a] = t, i = !0;
                                break;
                            }
                            i || e.comments.push(t);
                        }
                        var s = {
                            idClient: e.idClient,
                            comments: e.comments,
                            commentTimetag: e.commentTimetag
                        };
                        r.db.updateMsg(s);
                    }
                });
            }
            function s(e) {
                e.scene = this.message.sceneReverseMap[+e.scene] || e.scene, e.time = +e.time;
            }
            r.processMsgExtend = function(e) {
                switch (e.cmd) {
                  case "getThreadMsgs":
                    this.onGetThreadMsgs(e);
                    break;

                  case "getMsgsByIdServer":
                    this.onGetMsgsByIdServer(e);
                    break;

                  case "addQuickComment":
                    this.changeQuickComment(e);
                    break;

                  case "deleteQuickComment":
                    this.changeQuickComment(e, !0);
                    break;

                  case "onQuickComment":
                  case "syncAddQuickComment":
                    this.onQuickComment(e);
                    break;

                  case "onDeleteQuickComment":
                  case "syncDeleteQuickComment":
                    this.onQuickComment(e, !0);
                    break;

                  case "getQuickComments":
                    this.getQuickComments(e);
                    break;

                  case "addCollect":
                  case "updateCollect":
                    this.addCollect(e);
                    break;

                  case "deleteCollects":
                    this.deleteCollects(e);
                    break;

                  case "getCollects":
                    this.getCollects(e);
                    break;

                  case "addStickTopSession":
                  case "syncAddStickTopSession":
                    this.onChangeStickTopSession(e, "add");
                    break;

                  case "updateStickTopSession":
                  case "syncUpdateStickTopSession":
                    this.onChangeStickTopSession(e, "update");
                    break;

                  case "deleteStickTopSession":
                  case "syncDeleteStickTopSession":
                    this.onChangeStickTopSession(e, "delete");
                    break;

                  case "addMsgPin":
                  case "onAddMsgPin":
                  case "syncAddMsgPin":
                    this.pinMsgChange(e, "add");
                    break;

                  case "updateMsgPin":
                  case "onUpdateMsgPin":
                  case "syncUpdateMsgPin":
                    this.pinMsgChange(e, "update");
                    break;

                  case "deleteMsgPin":
                  case "onDeleteMsgPin":
                  case "syncDeleteMsgPin":
                    this.pinMsgChange(e, "delete");
                    break;

                  case "getMsgPins":
                    this.getMsgPins(e);
                }
            }, r.onGetThreadMsgs = function(e) {
                if (!e.error) {
                    e.obj.msgs = this.message.reverseMsgs(e.content.msgs), e.obj.threadMsg = this.message.reverse(e.content.threadMsg);
                    var t = e.content.threadMsgsMeta || {};
                    e.obj.total = t.total, e.obj.timetag = t.lastMsgTime;
                }
            }, r.onGetMsgsByIdServer = function(e) {
                e.error || (e.obj.msgs = this.message.reverseMsgs(e.content.msgs));
            }, r.changeQuickComment = function(e, t) {
                e.error || (e.obj.comment.time = e.content.timetag, e.obj.comment = o.reverse(e.obj.comment), 
                s.call(this, e.obj.msg), a.call(this, e.obj.msg.idClient, e.obj.comment, t));
            }, r.onQuickComment = function(e, t) {
                if (e.content) {
                    var n = e.content, r = n.comment, i = n.msg;
                    r && i && (s.call(this, i), r = o.reverse(r), t ? this.options.onDeleteQuickComment(e.content.msg, r) : this.options.onQuickComment(e.content.msg, r), 
                    a.call(this, i.idClient, r, t));
                }
            }, r.getQuickComments = function(e) {
                var t = this;
                if (!e.error) {
                    var n = e.obj.idMap, r = e.obj.indexMap;
                    (e.content && e.content.commentRes || []).forEach(function(e) {
                        var r = [], i = t.parser.unserializeMap.comment;
                        if (1 == +e.modify) try {
                            r = JSON.parse(e.detail);
                        } catch (e) {
                            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                            t.logger.warn("getQuickComments parse detail error", e);
                        }
                        if (r.forEach(function(e, t) {
                            var n = {};
                            Object.keys(e).forEach(function(t) {
                                n[i[t]] = e[t];
                            }), n = o.reverse(n), r[t] = n;
                        }), e.timestamp = +e.timestamp, n[e.idClient]) {
                            var a = {
                                idClient: e.idClient,
                                commentTimetag: e.timestamp
                            };
                            n[e.idClient].commentTimetag = e.timestamp, 1 == +e.modify && (n[e.idClient].comments = r, 
                            a.comments = r), t.db.enable && t.db.updateMsg(a);
                        } else n[e.idClient] = {
                            idServer: e.idServer,
                            idClient: e.idClient,
                            comments: r,
                            commentTimetag: e.timestamp
                        };
                    }), e.obj = [], Object.keys(r).forEach(function(t) {
                        e.obj[r[t]] = n[t];
                    });
                }
            }, r.addCollect = function(e) {
                e.error || (e.obj.collect = i.reverse(e.content.collect));
            }, r.deleteCollects = function(e) {
                e.error || (e.obj.deleteNum = e.content.deleteNum);
            }, r.getCollects = function(e) {
                if (!e.error) {
                    var t = [];
                    (e.content.collectList || []).forEach(function(e) {
                        t.push(i.reverse(e));
                    }), e.obj.collectList = t, e.obj.total = e.content.total;
                }
            }, r.onChangeStickTopSession = function(e, t) {
                var n = this;
                if (!e.error) {
                    var r = e.content.stickTopSession || e.obj.stickTopSession || {}, o = e.content.timetag || +r.updateTime, i = r.id.split("|");
                    "super_team" === i[0] && (i[0] = "superTeam"), r = {
                        id: i.join("-"),
                        scene: i[0],
                        to: i[1],
                        topCustom: r.topCustom || ""
                    }, "delete" === t ? r.isTop = !1 : "add" === t && (r.isTop = !0), r = this.onUpdateSession(r), 
                    e.obj && (e.obj.stickTopSession = r), this.db.enable && (this.db.updateSession(r).then(function(e) {
                        e || n.db.putSession(r);
                    }), this.db.updateTimetag("stickTopSessions", o));
                }
            }, r.pinMsgChange = function(e, t) {
                var n = this;
                if (!e.error) {
                    e.content = e.content || {};
                    var r = this, o = this.db, i = e.obj && e.obj.msg, a = e.content.msg || i || {}, c = e.content.pinTag || e.obj.pinTag, u = e.content.timetag || +c.updateTime, l = Promise.resolve();
                    s.call(this, a), o.enable && (l = o.getMsgByIdClient(a.idClient)), c.createTime && (c.createTime = +c.createTime), 
                    c.updateTime && (c.updateTime = +c.updateTime), l.then(function(s) {
                        return a = s || a, s ? a = s : a.sessionId = a.scene + "-" + n.message.Message.getMsgTarget(a, n.account), 
                        i ? (e.obj.msg = a, e.obj.pinTag = c) : n.options.onPinMsgChange({
                            msg: a,
                            pinTag: c
                        }, t), o.enable && o["delete" === t ? "deleteMsgPin" : "putMsgPin"](_objectSpread(_objectSpread({}, a), {}, {
                            pinFrom: c.pinFrom,
                            pinCustom: c.pinCustom
                        })).then(function() {
                            var e = "pin-" + a.sessionId, t = r.timetags.sync;
                            return o.getTimetag(e).then(function(n) {
                                return n > t ? o.updateTimetag(e, u) : Promise.resolve();
                            });
                        }).catch(function(e) {
                            r.logger.error("msgExtend::pinMsgChange:error", e);
                        }), Promise.resolve;
                    }).then(function() {}), e.promise = l;
                }
            }, r.getMsgPins = function(e) {
                var t = this;
                if (!e.error) {
                    var n = this.db, r = e.content || {};
                    if (r.pins = r.pins || [], r.modify) {
                        var o = [];
                        n.enable && (n.updateTimetag("pin-" + e.obj.id, r.timetag), r.pins.forEach(function(t) {
                            t.sessionId = e.obj.id, o.push(n.getMsgByIdClient(t.idClient));
                        })), e.promise = Promise.all(o).then(function(o) {
                            r.pins.forEach(function(n, r) {
                                o[r] ? Object.assign(n, o[r]) : (n.sessionId = e.obj.id, s.call(t, n));
                            }), e.obj.pins = r.pins, n.enable && n.deleteMsgPins(e.obj.id).then(function() {
                                return n.putMsgPins(r.pins);
                            }).catch(function(e) {
                                t.logger.error("msgExtend::getMsgPins:change db error", e);
                            });
                        });
                    } else n.enable ? (n.updateTimetag("pin-" + e.obj.id, r.timetag), e.promise = n.getMsgPins(e.obj.id).then(function(t) {
                        e.obj.pins = t || [];
                    })) : e.obj.pins = [];
                }
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0);
            n(4), r.onOfflineMsgReceipts = function(e) {
                var t, n = this, r = n.db, o = e.content.msgReceipts, i = [], a = Promise.resolve();
                this.logger.info("onOfflineMsgReceipts", o), o.forEach(function(e) {
                    t = {
                        id: "p2p-" + e.from,
                        msgReceiptTime: +e.time
                    }, n.cacheSyncedSession(t);
                }), n.syncResult.msgReceipts = i, r.enable && (a = r.updateMsgReceiptsTimetag(e.content.timetag)), 
                a.cmd = i, n.syncPromiseArray.push(a);
            }, r.shouldUpdateSessionFromMsgReceipt = function(e, t) {
                return !e || !e.msgReceiptServerTime || t.time > e.msgReceiptServerTime;
            }, r.genSessionFromMsgReceipt = function(e, t) {
                var n = t.time, r = {
                    id: t.sessionId,
                    msgReceiptTime: n,
                    msgReceiptServerTime: n
                };
                return e && e.id === t.sessionId && (r = o.merge({}, e, r)), e && e.updateTime || (r.updateTime = n), 
                r;
            }, r.onMsgReceipt = function(e) {
                var t = this, n = t.db, r = e.content.msgReceipt;
                r.time = +r.time;
                var o = r.idClient, i = Promise.resolve();
                n.enable && o && (i = n.getMsgByIdClient(o)), this.logger.info("onMsgReceipt::", r), 
                i.then(function(e) {
                    var n;
                    if (e) {
                        if (!e.idServer) return void (t.msgReceiptTasks[o] = r);
                        n = e.time;
                    } else n = r.time;
                    r.msgReceiptTime = n, t.updateSessionMsgReceiptTime(r);
                });
            }, r.resolveMsgReceiptTask = function(e) {
                var t = this.msgReceiptTasks[e.idClient];
                t && (t.msgReceiptTime = e.time, this.updateSessionMsgReceiptTime(t));
            }, r.updateSessionMsgReceiptTime = function(e) {
                var t = this.db, n = {
                    id: "p2p-" + e.from,
                    msgReceiptTime: e.msgReceiptTime,
                    msgReceiptServerTime: e.time
                };
                (this.findSession(n.id) || {}).msgReceiptTime >= n.msgReceiptTime ? this.logger.warn("receive old msgReceiptTime", e) : (t.enable && t.putSession(n), 
                this.onUpdateSession(n));
            }, r.onSendMsgReceipt = function(e) {
                if (!e.error) if (e.obj && e.obj.msgReceipt) {
                    var t = e.obj.msgReceipt, n = +t.time, r = +e.content.msgReceipt.time, o = this.findSession("p2p-" + t.to);
                    this.logger.info("sendMsgReceipt on:: param time ".concat(n, ", res time ").concat(r)), 
                    o.msgReceiptSendTime = Math.min(n, r);
                } else this.logger.info("sendMsgReceipt on:: origin msg is missing, it maybe timeout");
            }, r.shouldSendMsgReceipt = function(e) {
                if (e && "p2p" === e.scene && "success" === e.status) {
                    var t = this.findSession(e.sessionId);
                    if (t) {
                        var n = t.msgReceiptSendTime;
                        return !n || n < e.time;
                    }
                }
                return !1;
            }, r.isMsgRemoteRead = function(e) {
                if (e && "p2p" === e.scene && "out" === e.flow && "success" === e.status) {
                    var t = this.findSession(e.sessionId);
                    if (t && t.msgReceiptTime) return e.time <= t.msgReceiptTime;
                }
                return !1;
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(21), i = n(27), a = n(0);
            function s(e, t) {
                return c.apply(this, arguments);
            }
            function c() {
                return (c = _asyncToGenerator(_regeneratorRuntime().mark(function e(t, n) {
                    var r, o, i, a, s, c, u, l, d, f, p, m, g = this;
                    return _regeneratorRuntime().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            if (o = (r = this).db, i = [], t.forEach(function(e) {
                                g.revokeMsgUniqueCheck(e.idClient), i.push(e.idClient);
                            }), r.options.rollbackDelMsgUnread) {
                                e.next = 9;
                                break;
                            }
                            return e.next = 4, o.deleteMsg(i);

                          case 4:
                            if (e.t0 = e.sent, e.t0) {
                                e.next = 7;
                                break;
                            }
                            e.t0 = [];

                          case 7:
                            return a = e.t0, e.abrupt("return", (a = "[object Array]" === Object.prototype.toString.call(a) ? a : [ a ], 
                            void r.logger.info("msg::_deleteMsgSelfBatchInDb, rollback false, affect: ".concat(a.length, " rows"))));

                          case 9:
                            return s = !1, c = r.options.cbUpdateSession || r.updateLocalSession.bind(r), u = r.findSession(n) || {
                                id: n
                            }, l = u.lastMsg || {}, i.includes(l.idClient) && (s = !0), r.logger.info("msg::_deleteMsgSelfBatchInDb session change before:", n, s, u.unread), 
                            e.next = 15, o.deleteMsg(i);

                          case 15:
                            if (e.t1 = e.sent, e.t1) {
                                e.next = 18;
                                break;
                            }
                            e.t1 = [];

                          case 18:
                            if (d = e.t1, d = "[object Array]" === Object.prototype.toString.call(d) ? d : [ d ], 
                            r.logger.info("msg::_deleteMsgSelfBatchInDb affect:", d.length, " rows"), !s) {
                                e.next = 24;
                                break;
                            }
                            return e.next = 22, o.getMsgs({
                                sessionId: n,
                                limit: 1
                            });

                          case 22:
                            f = e.sent, l = f && f[0] ? f[0] : l, u.lastMsg = l;

                          case 24:
                            if (p = !1, u && u.unread && (m = u && u.ack || 0, d.forEach(function(e) {
                                m < e.time && "in" === e.flow && (u.unread = u.unread - 1, p = !0);
                            })), !s && !p) {
                                e.next = 28;
                                break;
                            }
                            return e.abrupt("return", (r.logger.info("msg::_deleteMsgSelfBatchInDb session change after:", n, u.unread), 
                            c(u)));

                          case 28:
                          case "end":
                            return e.stop();
                        }
                    }, e, this);
                }))).apply(this, arguments);
            }
            function u(e, t) {
                t = t || new Date().getTime();
                var n = this.db, r = this.findSession(e), o = !1 !== this.options.rollbackClearMsgsUnread, i = [];
                return n.enable && i.push(n.deleteMsgsBySessionId({
                    sessionId: e,
                    end: t
                })), o && r && (r = this.mergeSession({
                    id: r.id,
                    unread: 0,
                    lastMsg: null
                }), r = this.onUpdateSession(r)), n.enable && o && r && i.push(n.updateSession(r)), 
                Promise.all(i);
            }
            r.onDeleteMsg = function(e) {
                var t = this.db;
                if (delete e.obj.sysMsg, !e.error) {
                    var n = e.obj.msg;
                    e.promise = this.deleteLocalMsg(n).then(function() {
                        if (t.enable) {
                            var e = "superTeam" === n.scene ? "deleteSuperTeamMsg" : "deleteMsg";
                            t.getTimetag(e).then(function(n) {
                                n = n || 0, Date.now() + 1 >= n && t.updateTimetag(e, Date.now() + 1);
                            });
                        }
                    });
                }
            }, r.onMsgDeleted = function(e, t) {
                if (!e.error) {
                    var n = this, r = n.db, i = o.reverse(e.content.sysMsg);
                    i = n.processDeleteMsgSysMsg(i), t || n.markSysMsgRead(i), n.deleteLocalMsg(i.msg).then(function() {
                        if (r.enable) {
                            var e = t ? "deleteSuperTeamMsg" : "deleteMsg";
                            r.updateTimetag(e, i.time + 1);
                        }
                        n.handleSysMsg(i);
                    });
                }
            }, r.processDeleteMsgSysMsg = function(e) {
                return e.msg = {}, [ "scene", "from", "to" ].forEach(function(t) {
                    e.msg[t] = e[t];
                }), e.msg.idClient = e.deletedIdClient, e.msg.idServer = e.deletedIdServer, e.msg.time = e.deletedMsgTime, 
                e.msg.fromNick = e.deletedMsgFromNick, e.opeAccount = e.opeAccount || e.from, e.msg.opeAccount = e.opeAccount, 
                this.message.Message.setExtra(e.msg, this.account), e;
            }, r.onDeleteMsgOfflineRoaming = function(e) {
                if (!e.error) {
                    var t = this, n = 1 == +e.content.type ? "offline" : "roaming", r = o.reverseSysMsgs(e.content.sysMsgs, {
                        mapper: function(e) {
                            return t.processDeleteMsgSysMsg(e);
                        }
                    }), i = r && r[0] && "superTeam" === r[0].scene;
                    t.logger.info("msg::onDeleteMsgOfflineRoaming: on delete ".concat(n, " ").concat(i ? "superTeam" : "", " idServer deletedIdClient deletedIdClient="), r.map(function(e) {
                        return "".concat(e.idServer, "-").concat(e.deletedIdServer, "-").concat(e.deletedIdClient);
                    })), "offline" === n && t.markSysMsgRead(r);
                    var a = e.content.timetag;
                    i ? (t.timetags.deleteSuperTeamMsg = a, t.syncResult.deleteSuperTeamMsgTimetag = a) : (t.timetags.deleteMsg = a, 
                    t.syncResult.deleteMsgTimetag = a);
                    var s = t.putSysMsg(r, "offlineSysMsgs").catch(function(e) {
                        return t.logger.error("msgDelete::onDeleteMsgOfflineRoaming: ", e), Promise.reject(e);
                    });
                    s.cmd = "deleteMsgSysMsgs " + n, t.syncPromiseArray.push(s), t.syncResult.deleteMsgSysMsgs = t.syncResult.deleteMsgSysMsgs || [], 
                    t.syncResult.deleteMsgSysMsgs.push({
                        type: n,
                        sysMsgs: r
                    });
                }
            }, r.deleteMsgOfflineRoaming = function(e, t) {
                if (!e) return Promise.resolve();
                var n = this;
                n.logger.info("msg::deleteMsgOfflineRoaming: ", e.map(function(e) {
                    return e.type + " " + e.sysMsgs.map(function(e) {
                        return "".concat(e.idServer, "-").concat(e.deletedIdServer, "-").concat(e.deletedIdClient);
                    });
                }), a.secureOutput("session", t));
                var r = n.db, o = [];
                return e.forEach(function(e) {
                    e.sysMsgs.forEach(function(e) {
                        var s = n.deleteLocalMsg(e.msg, {
                            cbUpdateSession: function(e) {
                                e = n.mergeSession(e), e = a.simpleClone(e), i.trim(e);
                                var o = a.findObjIndexInArray(t, {
                                    value: e.id
                                });
                                if (-1 !== o && (t[o] = a.merge({}, t[o], e)), r.enable) return r.updateSession(e);
                            }
                        });
                        o.push(s);
                    });
                }), Promise.all(o).then(function() {
                    r.enable && (n.syncResult.deleteMsgTimetag && r.updateTimetag("deleteMsg", n.syncResult.deleteMsgTimetag), 
                    n.syncResult.deleteSuperTeamMsgTimetag && r.updateTimetag("deleteSuperTeamMsg", n.syncResult.deleteSuperTeamMsgTimetag));
                });
            }, r.deleteMsgSelf = function(e) {
                if (!e.error) {
                    var t = this.db, n = e.obj && e.obj.deleteMsgSelfTag;
                    if (n) {
                        var r = e.content && e.content.timetag;
                        n.scene = n.scene + "" == "1" ? "p2p" : "team";
                        var o = [ this.deleteLocalMsg(n) ];
                        r <= this.timetags.deleteMsgSelf || (this.timetags.deleteMsgSelf = r, t.enable && o.push(t.updateDeleteMsgSelf(r))), 
                        e.promise = Promise.all(o);
                    }
                }
            }, r.deleteMsgSelfBatch = function() {
                var e = _asyncToGenerator(_regeneratorRuntime().mark(function e(t) {
                    var n, r, o, i, a, c;
                    return _regeneratorRuntime().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            if (!t.error) {
                                e.next = 2;
                                break;
                            }
                            return e.abrupt("return");

                          case 2:
                            if (n = this, r = this.db, (o = t.obj && t.obj.deleteMsgSelfTags) && o.length > 0) {
                                e.next = 5;
                                break;
                            }
                            return e.abrupt("return");

                          case 5:
                            if (i = o.reduce(function(e, t) {
                                var n = t.sessionId;
                                return e[n] = e[n] || [], e[n].push(t), e;
                            }, {}), r.enable) {
                                e.next = 8;
                                break;
                            }
                            return e.abrupt("return", (Object.keys(i).forEach(function(e) {
                                var t = i[e], r = n.findSession(e);
                                if (n.options.rollbackDelMsgUnread && r) {
                                    var o = r.ack || 0, a = t.filter(function(e) {
                                        return o < e.time && "in" === e.flow;
                                    });
                                    a.length > 0 && r.unread && (r.unread = r.unread ? r.unread - a.length : 0, n.onUpdateSession(r));
                                }
                            }), Promise.resolve()));

                          case 8:
                            a = Object.keys(i).map(function(e) {
                                var t = i[e];
                                return s.call(n, t, e);
                            }), (c = t.content && t.content.timetag) <= n.timetags.deleteMsgSelf || (n.timetags.deleteMsgSelf = c, 
                            a.push(r.updateDeleteMsgSelf(c))), t.promise = Promise.all(a);

                          case 11:
                          case "end":
                            return e.stop();
                        }
                    }, e, this);
                }));
                return function(t) {
                    return e.apply(this, arguments);
                };
            }(), r.onDeleteMsgSelf = function(e) {
                var t = this, n = this.db, r = e.content.deleteMsgSelfTag;
                r.scene = r.scene + "" == "1" ? "p2p" : "team", t.options.onDeleteMsgSelf([ r ]), 
                t.deleteLocalMsg(r).then(function() {
                    var e = r.deletedTime;
                    return e <= t.timetags.deleteMsgSelf || !n.enable ? Promise.resolve() : (t.timetags.deleteMsgSelf = e, 
                    n.updateDeleteMsgSelf(e));
                }).catch(function(e) {
                    t.logger.error("onDeleteMsgSelf error", e);
                });
            }, r.onDeleteMsgSelfBatch = function(e) {
                if (!e.error) {
                    var t = {
                        1: "p2p",
                        2: "team"
                    }, n = a.get(e, "content.deleteMsgSelfTags") || [];
                    n.forEach(function(e) {
                        e.sessionId = "".concat(t[e.scene], "-").concat(e.from), e.deletedTime = parseInt(e.deletedTime), 
                        e.time = parseInt(e.time);
                    });
                    var r = a.get(e, "content.deleteMsgSelfTags[0].deletedTime");
                    r = parseInt(r) || 0, this.deleteMsgSelfBatch({
                        obj: {
                            deleteMsgSelfTags: n
                        },
                        content: {
                            timetag: r
                        }
                    });
                }
            }, r.clearServerHistoryMsgs = function(e) {
                if (!e.error) {
                    var t = this.db, n = e.obj && e.obj.clearMsgsParamsWithSync;
                    if (n) {
                        var r = "p2p" == (n.type && "2" === n.type.toString() ? "team" : "p2p") ? "p2p-" + n.otherAccid : "team-" + n.toTid, o = e.content && parseInt(e.content.timetag);
                        o && o > this.timetags.sessionHistoryMsgsDelete && (this.timetags.sessionHistoryMsgsDelete = o, 
                        t.enable && t.updateTimetag("sessionHistoryMsgsDelete", this.timetags.sessionHistoryMsgsDelete)), 
                        u.call(this, r, o);
                    }
                }
            }, r.onClearServerHistoryMsgs = function(e) {
                if (!e.error) {
                    var t = this.db, n = e.content && e.content.sessionHistoryMsgsDeleteTag;
                    if (n) {
                        var r = "p2p" == (n.type && "2" === n.type.toString() ? "team" : "p2p") ? "p2p-" + n.otherAccid : "team-" + n.toTid, o = parseInt(n.time);
                        this.options.onClearServerHistoryMsgs && this.options.onClearServerHistoryMsgs([ {
                            sessionId: r,
                            time: o
                        } ]), o <= this.timetags.sessionHistoryMsgsDelete || (this.timetags.sessionHistoryMsgsDelete = o, 
                        t.enable && t.updateTimetag("sessionHistoryMsgsDelete", this.timetags.sessionHistoryMsgsDelete)), 
                        u.call(this, r, o);
                    }
                }
            }, r.syncSessionHistoryMsgsDelete = function(e) {
                if (!e.error) {
                    var t = this.db, n = e.content && e.content.sessionHistoryMsgsDeleteTags;
                    if (n && n.length > 0) {
                        var r = n.map(function(e) {
                            return {
                                sessionId: "p2p" == (e.type && "2" === e.type.toString() ? "team" : "p2p") ? "p2p-" + e.otherAccid : "team-" + e.toTid,
                                time: parseInt(e.time)
                            };
                        });
                        this.options.onClearServerHistoryMsgs && this.options.onClearServerHistoryMsgs(r), 
                        this.syncResult.clearServerHistoryMsgs = r;
                        var o = 0;
                        r.forEach(function(e) {
                            e.time > o && (o = e.time);
                        }), t.enable && t.updateTimetag("sessionHistoryMsgsDelete", o);
                    }
                }
            }, r.syncDeleteMsgSelf = function(e) {
                var t = this, n = this.db, r = e.content.deletedMsgs;
                if (r && 0 !== r.length) {
                    var o = [];
                    r.forEach(function(e) {
                        e.scene = "1" === e.scene ? "p2p" : "team", e.deletedTime = +e.deletedTime, e.time = +e.time, 
                        o.push(t.deleteLocalMsg(e));
                    }), t.options.onDeleteMsgSelf(r), Promise.all(o).then(function() {
                        var e = r.slice(-1)[0].deletedTime;
                        if (!(t.timetags.deleteMsgSelf >= e)) return t.timetags.deleteMsgSelf = e, n.enable ? n.updateDeleteMsgSelf(e) : void 0;
                    }).catch(function(e) {
                        t.logger.error("syncDeleteMsgSelf error", e);
                    });
                }
            }, r.deleteLocalMsg = function(e, t) {
                var n = this, r = n.db, o = (t = t || {}).cbUpdateSession || n.updateLocalSession.bind(n);
                if (this.revokeMsgUniqueCheck(e && e.idClient), r.enable && e) {
                    var i = !1, a = null, s = null, c = e.sessionId || e.scene + "-" + this.message.Message.getMsgTarget(e, this.account);
                    return r.getMsgs({
                        sessionId: c,
                        limit: 1
                    }).then(function(t) {
                        t && t[0] && t[0].idClient === e.idClient && (i = !0);
                    }).then(function() {
                        return r.getMsgByIdClient(e.idClient);
                    }).then(function(t) {
                        return s = t, r.deleteMsg(e.idClient);
                    }).then(function() {
                        if (i) return r.getMsgs({
                            sessionId: c,
                            limit: 1
                        });
                    }).then(function(e) {
                        i && e && e[0] && (a = e[0]);
                    }).then(function() {
                        if (n.options.rollbackDelMsgUnread) return r.getSession(c);
                    }).then(function(e) {
                        var t = e || {
                            id: c
                        };
                        i && (t.lastMsg = a);
                        var r = e && e.ack || 0, u = !1;
                        return e && s && r < s.time && "in" === s.flow && e.unread && (n.logger.info("msgDelete::deleteLocalMsg:db.getSessions: unread", e.id, e.unread), 
                        t.unread = e.unread - 1, u = !0), i || u ? o(t) : Promise.resolve();
                    });
                }
                var u = n.findSession(e.sessionId);
                if (n.options.rollbackDelMsgUnread && e && e.sessionId && u) {
                    var l = u.ack || 0;
                    u && l < e.time && "in" === e.flow && u.unread && (n.logger.info("msgDelete::deleteLocalMsg::no db: ", u.id), 
                    u.unread = u.unread - 1, n.onUpdateSession(u));
                }
                return Promise.resolve();
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = n(21);
            r.splitSysMsgs = function(e, t) {
                for (var n, r = e.length - 1; r >= 0; r--) n = e[r], i.isCustom(n) && (e.splice(r, 1), 
                t.push(n));
            }, r.onOfflineSysMsgs = function(e, t) {
                var n = this, r = e.content.sysMsgs.map(function(e) {
                    return e = i.reverse(e), t && (e.filter = !0), e;
                });
                r = r.reverse(), n.markSysMsgRead(r);
                var o = [];
                n.splitSysMsgs(r, o);
                var a = t ? "offlineFilterSysMsgs" : "offlineSysMsgs", s = t ? "offlineFilterCustomSysMsgs" : "offlineCustomSysMsgs";
                if (r.length) {
                    var c = n.putSysMsg(r, "offlineSysMsgs").then(function(e) {
                        (r = e).length && (n.logger.info("sysmsg::onOfflineSysMsgs: ", a, r.length, r && r.map(function(e) {
                            return e.idServer;
                        })), n.syncResult[a] = n.syncResult[a] || [], n.syncResult[a] = n.syncResult[a].concat(r));
                    }).catch(function(e) {
                        return n.logger.error("sysMsg::onOfflineSysMsgs: ", e), Promise.reject(e);
                    });
                    c.cmd = "sysMsgs", n.syncPromiseArray.push(c);
                }
                o.length && (n.logger.info("sysmsg::onOfflineSysMsgs: ", s, o.map(function(e) {
                    return e.idServer;
                })), n.syncResult[s] = n.syncResult[s] || [], n.syncResult[s] = n.syncResult[s].concat(o));
            }, r.onSendSysMsg = function(e, t) {
                var n = e.obj || {};
                n ? (this.completeSysMsg(n), e.error ? n.status = "fail" : n.status = "success", 
                n = i.reverse(n), t && (e.obj.filter = !0), e.obj = n) : this.logger.warn("onSendSysMsg::no obj");
            }, r.completeSysMsg = function(e) {
                return e.from = this.account, e;
            }, r.onSysMsg = function(e, t) {
                var n = i.reverse(e.content.sysMsg);
                this.markSysMsgRead(n), t && (n.filter = !0), i.isCustom(n) ? (this.logger.info("sysmsg::onSysMsg: on customSysMsg"), 
                this.options.oncustomsysmsg(n)) : this.syncing ? this.unhandledSysMsgs.push(n) : this.handleSysMsg(n);
            }, r.handleSysMsg = function(e) {
                var t = this, n = e.type, r = e.from, i = e.serverex;
                t.sysMsgPromise = t.sysMsgPromise.then(function() {
                    return t.putSysMsg(e, "onSysMsg");
                }).then(function(t) {
                    e = t[0];
                }).then(function() {
                    if (e) {
                        var o, a = Promise.resolve();
                        switch (n) {
                          case "addFriend":
                            o = {
                                type: "addFriend",
                                account: r
                            }, i && (o.serverex = i), a = t.onFriendRequest(o);
                            break;

                          case "passFriendApply":
                            o = {
                                type: "passFriendApply",
                                account: r
                            }, a = t.onFriendRequest(o);
                            break;

                          case "deleteFriend":
                            a = t.onDeleteFriend({
                                account: r
                            });
                        }
                        return o && o.friend && (e.friend = o.friend), a;
                    }
                }).then(function() {
                    e && (t.logger.info("sysmsg::handleSysMsg: ", n, o.pickAsString(e, [ "idServer", "deletedIdClient", "deletedIdServer" ])), 
                    setTimeout(function() {
                        t.options.onsysmsg(e);
                    }, 0));
                });
            }, r.putSysMsg = function(e, t) {
                if (o.isArray(e) || (e = [ e ]), e[0].filter) return Promise.resolve(e);
                var n = this, r = n.db, i = r.enable, a = Promise.resolve(), s = [];
                return (a = (a = a.then(function() {
                    return i ? r.putSysMsg(e) : e;
                }).then(function(t) {
                    var r = [];
                    e.forEach(function(e) {
                        n.checkSysMsgUnique(e) && r.push(e);
                    }), e = r, s = i ? t : e;
                })).then(function() {
                    return n.getSysMsgUnread().then(function(r) {
                        return s.length || ((s = e).backward = !0), n.updateSysMsgUnread(s, r, 1).then(function(e) {
                            "offlineSysMsgs" === t && (n.syncResult.sysMsgUnread = e), "onSysMsg" === t && n.onUpdateSysMsgUnread(e);
                        });
                    });
                })).then(function() {
                    return e;
                });
            }, r.checkSysMsgUnique = o.genCheckUniqueFunc("idServer"), r.getSysMsgUnread = function() {
                var e = this, t = e.db;
                return new Promise(function(n) {
                    t.enable ? t.getSysMsgUnread().then(function(e) {
                        n(e);
                    }, function() {
                        n(e.sysMsgUnread);
                    }) : n(e.sysMsgUnread);
                });
            }, r.updateSysMsgUnread = function(e, t, n) {
                if (o.isArray(e) || (e = [ e ]), !e.length) return Promise.resolve(t);
                t = t || {};
                var r, a = this.db;
                return e.forEach(function(e) {
                    (n > 0 && !e.read || n < 0 && e.read) && (r = e.type, t[r] = (t[r] || 0) + n);
                }), t = i.completeUnread(t), this.sysMsgUnread = t, a.enable && !e.backward ? a.updateSysMsgUnread(t) : Promise.resolve(t);
            }, r.reduceSysMsgUnread = function(e) {
                var t = this;
                return t.getSysMsgUnread().then(function(n) {
                    return t.updateSysMsgUnread(e, n, -1);
                }).then(function(e) {
                    t.onUpdateSysMsgUnread(e);
                });
            }, r.onUpdateSysMsgUnread = function(e) {
                var t = this;
                setTimeout(function() {
                    t.logger.info("sysmsg::onUpdateSysMsgUnread:", e), t.options.onupdatesysmsgunread(e);
                }, 0);
            }, r.updateSysMsg = function(e) {
                var t = this, n = t.db;
                (n.enable ? n.updateSysMsg(e) : Promise.resolve(e)).then(function(e) {
                    t.onUpdateSysMsg(e);
                });
            }, r.onUpdateSysMsg = function(e) {
                var t = this;
                setTimeout(function() {
                    o.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                        t.logger.info("sysmsg::onUpdateSysMsg:", e.idServer), t.options.onupdatesysmsg(e);
                    });
                }, 0);
            }, r.processUnsettledSysMsgs = function() {
                var e = this;
                e.unhandledSysMsgs.forEach(function(t) {
                    e.handleSysMsg(t);
                }), e.resetUnsettledSysMsgs();
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0), i = n(27), a = n(4), s = n(21);
            r.processSession = function(e) {
                if (!e.error) switch (e.cmd) {
                  case "getServerSessions":
                    this.onGetServerSessions(e);
                    break;

                  case "getServerSession":
                    this.onGetServerSession(e);
                    break;

                  case "updateServerSession":
                    this.onUpdateServerSession(e);
                }
            }, r.onGetServerSessions = function(e) {
                var t = this, n = e.content && e.content.sessionReqTag, r = e.content && e.content.sessionList, o = [];
                r.forEach(function(e) {
                    if (e.id = e.id.split("|").join("-"), 0 === e.id.indexOf("super_team") && (e.id = "superTeam" + e.id.slice(10)), 
                    e.updateTime = +e.updateTime, e.lastMsg) {
                        var n = "1" === e.lastMsgType ? "sysMsg" : "msg";
                        o.push(t.parser.unserialize(JSON.parse(e.lastMsg), n).then(function(r) {
                            e.lastMsg = "msg" === n ? t.message.reverse(r) : s.reverse(r);
                        }));
                    }
                }), e.promise = Promise.all(o).then(function() {
                    e.obj = {
                        sessionList: r,
                        hasMore: "1" === n.hasMore
                    }, n.minTimestamp && (e.obj.minTimestamp = +n.minTimestamp);
                });
            }, r.onGetServerSession = function(e) {
                var t = this, n = e.content && e.content.session;
                if (n) if (n.id = n.id.split("|").join("-"), 0 === n.id.indexOf("super_team") && (n.id = "superTeam" + n.id.slice(10)), 
                n.updateTime = +n.updateTime, n.lastMsg) {
                    var r = e.content.session && "1" === e.content.session.lastMsgType ? "sysMsg" : "msg";
                    e.promise = t.parser.unserialize(JSON.parse(n.lastMsg), r).then(function(o) {
                        n.lastMsg = "msg" === r ? t.message.reverse(o) : s.reverse(o), e.obj = n;
                    });
                } else e.obj = n;
            }, r.onUpdateServerSession = function(e) {
                e.obj = {};
            }, r.onSyncUpdateServerSession = function(e) {
                var t = this, n = this, r = e.content && e.content.session;
                r && (r.id = r.id.split("|").join("-"), 0 === r.id.indexOf("super_team") && (r.id = "superTeam" + r.id.slice(10)), 
                r.updateTime = +r.updateTime, r.lastMsg ? n.parser.unserialize(JSON.parse(r.lastMsg), "msg").then(function(e) {
                    r.lastMsg = n.message.reverse(e), t.options.onSyncUpdateServerSession(o.simpleClone(r));
                }) : this.options.onSyncUpdateServerSession(o.simpleClone(r)));
            }, r.mergeSession = function(e) {
                e = o.copyWithNull(e);
                var t = this.sessionSet, n = e.id, r = t[n] || {}, a = !1;
                return i.isComplete(e) ? delete r.isDeleted : r.isDeleted && (a = !0), t[n] = o.merge(r, e), 
                e = a ? e : t[n], o.undef(e.unread) && (e.unread = 0), e;
            }, r.mergeSessions = function(e) {
                var t = this;
                return (e = e || []).map(function(e) {
                    return t.mergeSession(e);
                });
            }, r.deleteLocalSession = function(e, t) {
                var n = this;
                o.isArray(e) || (e = [ e ]), t ? e.forEach(function(e) {
                    n.sessionSet[e] && (n.sessionSet[e].isDeleted = !0);
                }) : e.forEach(function(e) {
                    return delete n.sessionSet[e];
                });
            }, r.onDeleteSessions = function(e) {
                e.obj = e.obj.sessions.map(function(e) {
                    return i.parse(e);
                });
            }, r.onUpdateSession = function(e) {
                if (e) {
                    if (e = this.mergeSession(e), e = o.simpleClone(e), i.trim(e), i.isComplete(e)) return this.logger.info("session::onUpdateSession: " + e.id, e.id, o.secureOutput("session", e)), 
                    this.options.onupdatesessions ? this.options.onupdatesessions([ e ]) : this.options.onupdatesession(e), 
                    e;
                    this.logger.warn("session::onUpdateSession::session is not complete", o.secureOutput("session", e));
                }
            }, r.onUpdateSessions = function(e) {
                var t = this;
                if (e) {
                    e = t.mergeSessions(e), (e = o.simpleClone(e)).forEach(function(e) {
                        i.trim(e);
                    });
                    var n = e.filter(function(e) {
                        return i.isComplete(e);
                    }), r = e.filter(function(e) {
                        return !i.isComplete(e);
                    });
                    if (r && r.length > 0 && t.logger.warn("session::onUpdateSessions::sessions is not complete", r.map(function(e) {
                        return e.id;
                    }), o.secureOutput("session", r)), 0 !== n.length) return t.logger.info("session::onUpdateSessions:", o.secureOutput("session", n)), 
                    t.options.onupdatesessions ? t.options.onupdatesessions(n) : n.forEach(function(e) {
                        t.options.onupdatesession(e);
                    }), n;
                    t.logger.warn("session::onUpdateSessions::completeSessions is empty");
                }
            }, r.setCurrSession = function(e) {
                e = "" + e, this.currSessionId = e, this.logger.info("session::setCurrSession:", e);
            }, r.findSession = function(e, t) {
                var n = this.sessionSet[e];
                return !n || n.isDeleted && !t ? void 0 : n;
            }, r.resetSessionUnread = function(e) {
                var t = e.id;
                this.db.enable && this.db.updateSession({
                    id: t,
                    unread: 0
                }), !this.options.autoMarkRead && this.sessionUnreadMsgs && this.sessionUnreadMsgs[t] && (this.markMsgRead(this.sessionUnreadMsgs[t], !0), 
                this.sessionUnreadMsgs[t] = []), this.findSession(t) ? this.onUpdateSession({
                    id: t,
                    unread: 0
                }) : this.onUpdateSession(_objectSpread(_objectSpread({}, e), {}, {
                    unread: 0
                }));
            }, r.resetSessionsUnread = function(e) {
                var t = this, n = this.db;
                n.enable && e.map(function(e) {
                    n.updateSession({
                        id: e.id,
                        unread: 0
                    });
                });
                var r = !this.options.autoMarkRead && this.sessionUnreadMsgs;
                e = e.map(function(e) {
                    return r && t.sessionUnreadMsgs[e.id] && (t.markMsgRead(t.sessionUnreadMsgs[e.id], !0), 
                    t.sessionUnreadMsgs[e.id] = []), t.findSession(e.id) ? {
                        id: e.id,
                        unread: 0
                    } : _objectSpread(_objectSpread({}, e), {}, {
                        unread: 0
                    });
                }), this.onUpdateSessions(e);
            }, r.insertLocalSession = function(e) {
                var t = this, n = t.db, r = e.scene + "-" + e.to, s = t.findSession(r);
                return s && i.isComplete(s) ? Promise.reject(a.sessionExist({
                    callFunc: "session::insertLocalSession",
                    session: s
                })) : (n.enable ? n.getMsgs({
                    sessionId: r,
                    limit: 1
                }) : Promise.resolve()).then(function(a) {
                    if (o.isArray(a) && 1 === a.length) {
                        var c = a[0];
                        (s = i.genSessionByMsg(c)).updateTime = c.time;
                    } else s = {
                        id: r,
                        scene: e.scene,
                        to: e.to,
                        updateTime: +e.updateTime || +new Date(),
                        lastMsg: null
                    };
                    return t.onUpdateSession(s), n.enable ? n.putSession(s) : Promise.resolve(s);
                });
            }, r.updateLocalSession = function(e, t) {
                var n = this;
                return new Promise(function(r, i) {
                    var s = n.db;
                    if (n.findSession(e.id)) {
                        var c = Promise.resolve(), u = o.filterObj(e, "id lastMsg localCustom unread");
                        s.enable && (c = s.updateSession(u)), c.then(function(e) {
                            return n.onUpdateSession(e, t);
                        }).then(r, function(e) {
                            i({
                                callFunc: "session::updateLocalSession",
                                event: e
                            });
                        });
                    } else i(a.sessionNotExist({
                        sessionId: e.id,
                        callFunc: "session::updateLocalSession"
                    }));
                });
            }, r.checkAndUpdateLocalSessionByMsg = function(e) {
                var t, n = this.db, r = this, i = this.options.syncSessionUnread && e !== this.currSessionId, a = n.getMsgs({
                    sessionId: e,
                    limit: 1
                }), s = n.getSession(e).then(function(o) {
                    if (o) return t = Object.assign({}, o), o.ack = o.ack || 0, i ? n.getMsgs({
                        sessionId: e,
                        start: o.ack
                    }) : Promise.resolve();
                    r.logger.error("can't find session that sessionId = " + e);
                });
                return Promise.all([ a, s ]).then(function(i) {
                    var a, s, c = _slicedToArray(i, 2), u = c[0], l = c[1], d = {
                        id: e
                    };
                    if (a = t.lastMsg ? t.lastMsg.idClient : null, u && u[0] ? s = (u = u[0]).idClient : (s = null, 
                    u = null), a !== s && (d.lastMsg = u), void 0 !== l) {
                        var f = 0;
                        (l = l || []).forEach(function(e) {
                            e.isUnreadable && "in" === e.flow && ("notification" !== e.type || r.options.shouldCountNotifyUnread(e)) && f++;
                        }), f !== t.unread && (d.unread = f);
                    }
                    return Object.keys(d).length > 1 ? (r.logger.info("session::checkAndUpdateLocalSessionByMsg::needUpdate newSession:", o.secureOutput("session", d)), 
                    n.updateSession(d).then(function(e) {
                        return r.onUpdateSession(d);
                    })) : Promise.resolve(200);
                });
            }, r.syncSessionsWithMoreRoaming = function(e) {
                var t = this, n = e && e.content && e.content.sessions;
                if (n && n.length) {
                    var r = {
                        0: "p2p",
                        1: "team",
                        5: "superTeam"
                    };
                    if (n.forEach(function(e) {
                        var n = e.to === t.options.account ? e.from : e.to;
                        e.scene = r[e.scene], e.id = "".concat(e.scene, "-").concat(n), e.time = +e.time;
                    }), this.db.enable) {
                        var o = this.db.putSessionsWithMoreRoaming(n);
                        o.cmd = "syncSessionsWithMoreRoaming", this.syncPromiseArray.push(o);
                    }
                    this.syncing && this.syncResult ? this.syncResult.sessionsWithMoreRoaming = n : this.logger.warn("syncSessionsWithMoreRoaming::not in syncing or no syncResult");
                }
            }, r.syncStickTopSessions = function(e) {
                var t = this, n = this.db, r = [], o = [], i = Promise.resolve(), a = e.content.sessions || [];
                this.syncing && this.syncResult ? (a.forEach(function(e) {
                    var t = e.id.split("|");
                    "super_team" === t[0] && (t[0] = "superTeam"), e.id = t.join("-"), e.scene = t[0], 
                    e.to = t[1], e.isTop = !0, r.push(t.join("-")), delete e.createTime, delete e.updateTime, 
                    n.enable && o.push(n.putSession(e));
                }), n.enable && (i = n.updateTimetag("stickTopSessions", e.content.timetag)), i.then(function() {
                    return n.enable ? n.getStickTopSessions() : [];
                }).then(function(i) {
                    if (e.content.modify) {
                        var a = [];
                        i.forEach(function(e) {
                            r.indexOf(e.id) > -1 || (a.push(e.id), e.isTop = !1, e.topCustom = "", o.push(n.putSession(e)));
                        });
                    } else t.syncResult.stickTopSessions = i;
                    return Promise.all(o);
                }), this.syncResult.stickTopSessions = a, i.cmd = "syncStickTopSessions", this.syncPromiseArray.push(i)) : this.logger.warn("syncSessionsWithMoreRoaming::not in syncing or no syncResult");
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0);
            r.syncSessionAck = function(e) {
                var t = this;
                if (this.logger.info("syncSessionAck::", e.content), t.syncing && t.syncResult) {
                    t.saveAck.p2pTeam = e.content.timetag;
                    var n = {};
                    [ [ e.content.p2p, "p2p" ], [ e.content.team.m_map, "team" ] ].forEach(function(e) {
                        var r = e[0], o = e[1];
                        Object.keys(r).forEach(function(e) {
                            n["".concat(o, "-").concat(e)] = r[e];
                            var i = {
                                id: "".concat(o, "-").concat(e),
                                ack: r[e]
                            };
                            t.cacheSyncedSession(i);
                        });
                    }), t.syncResult.ackMap ? t.syncResult.ackMap = Object.assign(t.syncResult.ackMap, n) : t.syncResult.ackMap = n;
                } else t.logger.warn("syncSessionAck: not in syncing or no syncResult", t.syncing, !!t.syncResult);
            }, r.syncSuperTeamSessionAck = function(e) {
                var t = this;
                if (t.syncResult) {
                    t.saveAck.superTeam = e.content.timetag;
                    var n = {}, r = e.content.superTeam.m_map;
                    Object.keys(r).forEach(function(e) {
                        n["superTeam-" + e] = r[e];
                        var o = {
                            id: "superTeam-" + e,
                            ack: r[e]
                        };
                        t.cacheSyncedSession(o);
                    }), t.syncResult.ackMap ? t.syncResult.ackMap = Object.assign(t.syncResult.ackMap, n) : t.syncResult.ackMap = n;
                }
            }, r.onMarkSessionAck = function(e) {
                e.error || this.storeSessionAck(e.obj);
            }, r.syncMarkSessionAck = function(e) {
                this.storeSessionAck(e.content, !0);
            }, r.storeSessionAck = function(e, t) {
                var n = this;
                if (n.options.syncSessionUnread && e) {
                    var r;
                    switch (e.scene) {
                      case 0:
                        r = "p2p";
                        break;

                      case 1:
                        r = "team";
                        break;

                      case void 0:
                      default:
                        r = "superTeam";
                    }
                    var i = "".concat(r, "-").concat(e.to), a = e.timetag;
                    if (a <= ((n.findSession(i) || {}).ack || 0)) n.logger.warn("session::storeSessionAck: ack <= ackInMemory", a); else {
                        var s = {
                            id: i,
                            ack: a
                        };
                        n.mergeSession(s), n.logger.info("session::storeSessionAck:", o.secureOutput("session", s)), 
                        n.markUnreadBySessionAck({
                            sessionId: i,
                            ack: s.ack
                        }, t);
                    }
                }
            }, r.markUnreadBySessionAck = function(e, t) {
                var n = e.sessionId, r = e.ack, o = this, i = o.db;
                if (i.enable) o.pushMsgTask(function() {
                    return i.getMsgCountAfterAck({
                        shouldCountNotifyUnread: o.options.shouldCountNotifyUnread,
                        sessionId: n,
                        ack: r
                    }).then(function(e) {
                        var a = {
                            id: n,
                            unread: e,
                            ack: r
                        };
                        return o.logger.info("session::markUnreadBySessionAck: db.getMsgCountAfterAck done", a), 
                        o.syncing ? o.cacheSyncedSession(a) : t && o.onUpdateSession(a), i.updateSession(a);
                    }).catch(function(e) {
                        o.logger.error("markUnreadBySessionAck::error", e);
                    });
                }); else {
                    var a = o.findSession(n);
                    if (a) {
                        var s = a.unreadMsgs;
                        if (s && s.length) {
                            for (var c = 0, u = [], l = s.length - 1; l >= 0; l--) {
                                var d = s[l];
                                if (!(d.time > r)) break;
                                c++, u.push(d);
                            }
                            a.unreadMsgs = u, a.unread = c, o.logger.info("session::markUnreadBySessionAck: unread " + c), 
                            o.syncing ? o.cacheSyncedSession(a) : t && o.onUpdateSession(a);
                        }
                    }
                }
            };
        }, function(e, t, n) {
            var r = n(2).fn;
            r.processChatroom = function(e) {
                switch (e.cmd) {
                  case "getChatroomAddress":
                    this.onChatroomAddress(e);
                }
            }, r.onChatroomAddress = function(e) {
                e.error || (e.obj.address = e.content.address);
            };
        }, function(e, t, n) {
            var r = n(2).fn;
            r.processQchat = function(e) {
                switch (e.cmd) {
                  case "getQChatAddress":
                    this.onQChatAddress(e);
                }
            }, r.onQChatAddress = function(e) {
                e.error || (e.obj.address = e.content.address);
            };
        }, function(e, t, n) {
            n(2).fn.processFilter = function(e) {
                switch (e.cmd) {
                  case "sendFilterMsg":
                    this.onSendMsg(e, !0);
                    break;

                  case "filterMsg":
                    this.onMsg(e, !0);
                    break;

                  case "filterSysMsg":
                    this.onSysMsg(e, !0);
                    break;

                  case "sendFilterCustomSysMsg":
                    this.onSendSysMsg(e, !0);
                }
            };
        }, function(e, t, n) {
            var r = n(5), o = n(2).fn, i = n(0), a = r.clientTypeMap;
            function s(e) {
                e = e || {};
                var t = i.copy(e);
                return t.clientType && (t.clientType = a[t.clientType] || ""), t.serverCustom && (t.custom = JSON.parse(t.serverCustom), 
                "string" == typeof t.custom[0] && (t.custom = t.custom[0]), delete t.serverCustom), 
                t;
            }
            o.processEventService = function(e) {
                var t = e.content, n = e.error, r = this.options || {};
                switch (n && (n.callFunc = "events::processsEventService", this.onCustomError("事件服务解包失败", "EVENT_SERVICE_ERROR", n)), 
                e.cmd) {
                  case "pushEvent":
                    if (i.isFunction(r.onpushevents)) {
                        var o = {
                            msgEvents: [ s(t.msgEvent) ]
                        };
                        r.onpushevents(o);
                    }
                    break;

                  case "pushEvents":
                    if (i.isFunction(r.onpushevents)) {
                        var a = t.msgEvents, c = a.map(function(e) {
                            return s(e);
                        });
                        a = {
                            msgEvents: c
                        }, r.onpushevents(a);
                    }
                }
            };
        }, function(e, t, n) {
            var r = n(2).fn, o = n(0);
            r.processProxyService = function(e) {
                var t = this, n = e.error;
                switch (n && (n.callFunc = "events::processProxyService", t.onCustomError("proxyService", "EVENT_PROXY_SERVICE_ERROR", n)), 
                e.cmd) {
                  case "onProxyMsg":
                    if (o.isFunction(t.options.onProxyMsg)) {
                        var r = e.content.proxyMsg || {};
                        r.time && (r.time = +r.time), t.options.onProxyMsg(r);
                    }
                    break;

                  case "httpProxy":
                    e.obj = e.content && e.content.proxyTag;
                }
            };
        }, function(e, t, n) {
            var r = n(0), o = function(e) {
                this.account = e.account;
            }, i = o.prototype, a = i.Message = n(15), s = i.TextMessage = n(144), c = i.FileMessage = n(31), u = i.GeoMessage = n(148), l = i.NotificationMessage = n(149), d = i.CustomMessage = n(150), f = i.TipMessage = n(151), p = i.RobotMessage = n(152), m = i.G2Message = n(153);
            i.validScenes = a.validScenes, i.validTypes = a.validTypes, i.sceneMap = a.sceneMap, 
            i.sceneReverseMap = a.sceneReverseMap, i.reverse = function(e) {
                var t;
                switch (a.getType(e)) {
                  case "text":
                    t = s.reverse(e);
                    break;

                  case "image":
                  case "audio":
                  case "video":
                  case "file":
                    t = c.reverse(e);
                    break;

                  case "geo":
                    t = u.reverse(e);
                    break;

                  case "notification":
                    t = l.reverse(e);
                    break;

                  case "custom":
                    t = d.reverse(e);
                    break;

                  case "tip":
                    t = f.reverse(e);
                    break;

                  case "g2":
                    t = m.reverse(e);
                    break;

                  case "robot":
                    t = p.reverse(e);
                    break;

                  default:
                    t = a.reverse(e);
                }
                return a.setExtra(t, this.account), t;
            }, i.reverseMsgs = function(e, t) {
                var n, o, i = this;
                return e.map(function(e) {
                    return e = i.reverse(e), t && ((n = t.modifyObj) && (e = r.merge(e, n)), o = t.mapper, 
                    r.isFunction(o) && (e = o(e))), e;
                });
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(15), o = n(0);
            function i(e) {
                o.verifyOptions(e, "text", "msg::TextMessage"), e.type = "text", r.call(this, e);
            }
            i.prototype = Object.create(r.prototype), i.reverse = function(e) {
                return r.reverse(e);
            }, e.exports = i;
        }, function(e, t, n) {
            n(0);
            var r = n(31);
            function o() {}
            o.prototype = Object.create(r.prototype), o.verifyFile = function(e, t) {
                return !0;
            }, e.exports = o;
        }, function(e, t, n) {
            var r = n(31), o = n(0);
            function i() {}
            i.prototype = Object.create(r.prototype), i.verifyFile = function(e, t) {
                o.verifyOptions(e, "dur", !0, "file.", t);
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(31), o = n(0);
            function i() {}
            i.prototype = Object.create(r.prototype), i.verifyFile = function(e, t) {
                o.verifyOptions(e, "dur w h", !0, "file.", t);
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(15), o = n(0);
            function i(e) {
                e.type = "geo", o.verifyOptions(e, "geo", "msg::GeoMessage"), o.verifyOptions(e.geo, "lng lat title", !0, "geo.", "msg::GeoMessage"), 
                o.verifyParamType("geo.lng", e.geo.lng, "number", "msg::GeoMessage"), o.verifyParamType("geo.lat", e.geo.lat, "number", "msg::GeoMessage"), 
                o.verifyParamType("geo.title", e.geo.title, "string", "msg::GeoMessage"), r.call(this, e), 
                this.attach = JSON.stringify(e.geo);
            }
            i.prototype = Object.create(r.prototype), i.reverse = function(e) {
                var t = r.reverse(e);
                return e.attach = e.attach ? "" + e.attach : "", t.geo = e.attach ? JSON.parse(e.attach) : {}, 
                t;
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(0).notundef, o = n(15), i = n(19).IM, a = n(25), s = n(30), c = {
                0: "addTeamMembers",
                1: "removeTeamMembers",
                2: "leaveTeam",
                3: "updateTeam",
                4: "dismissTeam",
                5: "passTeamApply",
                6: "transferTeam",
                7: "addTeamManagers",
                8: "removeTeamManagers",
                9: "acceptTeamInvite",
                10: "updateTeamMute",
                101: "netcallMiss",
                102: "netcallBill",
                103: "netcallReject",
                401: "addSuperTeamMembers",
                402: "removeSuperTeamMembers",
                403: "leaveSuperTeam",
                404: "updateSuperTeam",
                405: "dismissSuperTeam",
                406: "transferSuperTeam",
                407: "addSuperTeamManagers",
                408: "removeSuperTeamManagers",
                409: "updateSuperTeamMembersMute",
                410: "passSuperTeamApply",
                411: "acceptSuperTeamInvite"
            };
            function u() {}
            u.prototype = Object.create(o.prototype), u.reverse = function(e) {
                var t = o.reverse(e);
                if (e.attach = e.attach ? "" + e.attach : "", e.attach) {
                    var n = JSON.parse(e.attach);
                    if (t.attach = {
                        type: c[n.id] || n.id
                    }, r(n.data)) {
                        var u = n.data;
                        r(u.tinfo) && (t.attach.team = a.reverse(i.syncUnserialize(u.tinfo, "team"), !0)), 
                        r(u.ids) && (t.attach.accounts = u.ids), r(u.id) && (t.attach.account = u.id), r(u.uinfos) && (t.attach.users = u.uinfos.map(function(e) {
                            return s.reverse(i.syncUnserialize(e, "user"));
                        })), r(u.mute) && (t.attach.mute = 1 == +u.mute), r(u.attach) && (t.attach.custom = u.attach), 
                        r(u.channel) && (t.attach.channelId = u.channel), r(u.calltype) && (t.attach.netcallType = u.calltype), 
                        r(u.duration) && (t.attach.duration = u.duration), r(u.time) && (t.attach.time = u.time), 
                        r(u.from) && (t.attach.from = u.from), r(u.ext) && (t.attach.ext = u.ext), t.attach.accounts && t.attach.accounts.length <= 2 && t.from === t.to && t.attach.accounts.some(function(e) {
                            if (e !== t.to) return t.to = e, !0;
                        });
                    }
                } else t.attach = {};
                return t;
            }, e.exports = u;
        }, function(e, t, n) {
            var r = n(15), o = n(0);
            function i(e) {
                o.verifyOptions(e, "content", "msg::CustomMessage"), e.type = "custom", r.call(this, e), 
                this.attach = e.content;
            }
            i.prototype = Object.create(r.prototype), i.reverse = function(e) {
                var t = r.reverse(e);
                return t.content = e.attach, t;
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(15), o = n(0);
            function i(e) {
                o.verifyOptions(e, "tip", "msg::TipMessage"), e.type = "tip", r.call(this, e), this.body = e.tip;
            }
            i.prototype = Object.create(r.prototype), i.reverse = function(e) {
                var t = r.reverse(e);
                return t.text = "", t.tip = e.body, e.attach && (t.attach = e.attach), t;
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(15), o = n(0), i = {
                welcome: "00",
                text: "01",
                link: "03"
            }, a = {
                "01": "text",
                "02": "image",
                "03": "answer",
                11: "template"
            };
            function s(e) {
                o.verifyOptions(e, "content", "msg::RobotMessage"), o.undef(e.robotAccid) && (e.robotAccid = e.to);
                var t = e.content;
                switch (t.type) {
                  case "welcome":
                    o.undef(e.body) && (this.body = "欢迎消息");
                    break;

                  case "text":
                    o.verifyOptions(t, "content", "msg::RobotMessage"), o.undef(e.body) && (this.body = t.content);
                    break;

                  case "link":
                    o.verifyOptions(t, "target", "msg::RobotMessage");
                }
                t.type && (t.type = i[t.type]), t = {
                    param: t,
                    robotAccid: e.robotAccid
                }, this.attach = JSON.stringify(t), e.type = "robot", r.call(this, e);
            }
            s.prototype = Object.create(r.prototype), s.reverse = function(e) {
                var t = r.reverse(e);
                if ("robot" === t.type) {
                    var n = JSON.parse(e.attach);
                    if (n.param && (n.param.type = a[n.param.type] || "unknown"), n.robotMsg) {
                        var i = (n = o.merge(n, n.robotMsg)).message;
                        "bot" === n.flag ? n.message = i.map(function(e) {
                            return e.type = a[e.type] || "unknown", e;
                        }) : n.flag, delete n.robotMsg;
                    }
                    t.content = n;
                }
                return t;
            }, e.exports = s;
        }, function(e, t, n) {
            var r = n(15), o = n(0);
            function i(e) {
                o.verifyOptions(e, "attach", "msg::G2Message"), e.type = "g2", r.call(this, e), 
                this.attach = JSON.stringify(e.attach);
            }
            i.prototype = Object.create(r.prototype), i.reverse = function(e) {
                var t = r.reverse(e);
                return e.attach && (t.attach = JSON.parse(e.attach)), t;
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.isArray, a = n(20);
            r.mergeObjArray = function(e, t, n) {
                return e || (e = []), t ? (i(t) || (t = [ t ]), t.length ? (n = n || {}, o.mergeObjArray(e, t, n)) : e) : e;
            }, r.cutObjArray = function(e, t, n) {
                return e && t ? (i(t) || (t = [ t ]), t.length ? (n = n || {}, o.cutObjArray(e, t, n)) : e) : e;
            }, r.mergeLoginPorts = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "deviceId"
                });
            }, r.cutLoginPorts = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "deviceId",
                    sortPath: "type"
                });
            }, r.mergeRelations = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "account"
                });
            }, r.cutRelations = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "account"
                });
            }, r.findRelation = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "account",
                    value: t
                });
            }, r.mergeFriends = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "account"
                });
            }, r.cutFriends = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "account"
                });
            }, r.cutFriendsByAccounts = function(e, t) {
                i(t) || (t = [ t ]);
                var n = t.map(function(e) {
                    return {
                        account: e
                    };
                });
                return this.cutFriends(e, n);
            }, r.findFriend = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "account",
                    value: t
                });
            }, r.mergeUsers = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "account"
                });
            }, r.findUser = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "account",
                    value: t
                });
            }, r.mergeTeams = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "teamId"
                });
            }, r.cutTeams = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "teamId"
                });
            }, r.findTeam = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "teamId",
                    value: t
                });
            }, r.assembleTeamOwner = a.assembleOwner, r.assembleTeamMembers = a.assembleMembers, 
            r.genTeamMemberId = a.genId, r.mergeTeamMembers = function(e, t) {
                return this.mergeObjArray(e, t);
            }, r.cutTeamMembers = function(e, t) {
                return this.cutObjArray(e, t);
            }, r.cutTeamMembersByAccounts = function(e, t, n) {
                i(n) || (n = [ n ]);
                var r = a.assembleMembers({
                    teamId: t
                }, n);
                return this.cutTeamMembers(e, r);
            }, r.findTeamMember = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "id",
                    value: t
                });
            }, r.mergeSessions = function(e, t) {
                return this.mergeObjArray(e, t, {
                    sortPath: "updateTime",
                    desc: !0
                });
            }, r.cutSessions = function(e, t) {
                return this.cutObjArray(e, t);
            }, r.cutSessionsByIds = function(e, t) {
                i(t) || (t = [ t ]);
                var n = t.map(function(e) {
                    return {
                        id: e
                    };
                });
                return this.cutSessions(e, n);
            }, r.findSession = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "id",
                    value: t
                });
            }, r.mergeMsgs = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "idClient",
                    sortPath: "time"
                });
            }, r.cutMsgs = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "idClient"
                });
            }, r.cutMsgsByIdClients = function(e, t) {
                i(t) || (t = [ t ]);
                var n = t.map(function(e) {
                    return {
                        idClient: e
                    };
                });
                return this.cutMsgs(e, n);
            }, r.findMsg = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "idClient",
                    value: t
                });
            }, r.mergeSysMsgs = function(e, t) {
                return this.mergeObjArray(e, t, {
                    keyPath: "idServer",
                    desc: !0
                });
            }, r.cutSysMsgs = function(e, t) {
                return this.cutObjArray(e, t, {
                    keyPath: "idServer"
                });
            }, r.cutSysMsgsByIdServers = function(e, t) {
                i(t) || (t = [ t ]);
                var n = t.map(function(e) {
                    return {
                        idServer: e
                    };
                });
                return this.cutSysMsgs(e, n);
            }, r.findSysMsg = function(e, t) {
                return o.findObjInArray(e, {
                    keyPath: "idServer",
                    value: t
                });
            }, r.searchLocal = function(e) {
                if (o.verifyOptions(e, "keyword", "searchLocal"), this.db.enable) {
                    var t, n = this, r = this.db, i = e.keyword + "", a = [ "account", "nick", "alias" ], s = [ "id", "scene", "lastMsg.type", "lastMsg.text", "localCustom", "target.account", "target.nick", "target.alias", "target.name" ], c = "", u = e.keyPath;
                    switch (u ? (c = (u = (u + "").split(".")).shift(), u = u.join(".")) : c = "all", 
                    c) {
                      case "user":
                        u && (a = a.filter(function(e) {
                            return e === u || 0 === e.indexOf(u + ".");
                        })), f(a).then(function(t) {
                            e.done(null, {
                                sessions: [],
                                users: t
                            });
                        });
                        break;

                      case "session":
                        u && (s = s.filter(function(e) {
                            return e === u || 0 === e.indexOf(u + ".");
                        })), l(s, !u || u.indexOf("target") > -1).then(function(t) {
                            e.done(null, {
                                sessions: t,
                                users: []
                            });
                        });
                        break;

                      case "all":
                        m().then(function() {
                            Promise.all([ l(s, !0), f(a) ]).then(function(t) {
                                e.done(null, {
                                    sessions: t[0],
                                    users: t[1]
                                });
                            });
                        });
                        break;

                      default:
                        e.done(null, {
                            sessions: [],
                            users: [],
                            msg: 'keyPath must start with "user" or "session"'
                        });
                    }
                } else e.done(null, {
                    sessions: [],
                    users: [],
                    msg: "no db"
                });
                function l(e, t) {
                    return d.apply(this, arguments);
                }
                function d() {
                    return (d = _asyncToGenerator(_regeneratorRuntime().mark(function e(t, n) {
                        var o;
                        return _regeneratorRuntime().wrap(function(e) {
                            for (;;) switch (e.prev = e.next) {
                              case 0:
                                return o = n ? [ r.getSessions(), m(), r.getTeams(), r.getSuperTeams() ] : [ r.getSessions() ], 
                                e.abrupt("return", Promise.all(o).then(function(e) {
                                    var r = e[0] || [], o = {
                                        p2p: e[1] || [],
                                        team: e[2] || [],
                                        superTeam: e[3] || []
                                    }, i = {};
                                    return n && (Object.keys(o).forEach(function(e) {
                                        o[e].forEach(function(t) {
                                            var n = t.teamId || t.account;
                                            i[e + "-" + n] = t;
                                        });
                                    }), r.forEach(function(e) {
                                        e.target = i[e.id];
                                    })), h(t, r);
                                }));

                              case 2:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                    }))).apply(this, arguments);
                }
                function f(e) {
                    return p.apply(this, arguments);
                }
                function p() {
                    return (p = _asyncToGenerator(_regeneratorRuntime().mark(function e(t) {
                        return _regeneratorRuntime().wrap(function(e) {
                            for (;;) switch (e.prev = e.next) {
                              case 0:
                                return e.t0 = h, e.t1 = t, e.next = 4, m();

                              case 4:
                                return e.t2 = e.sent, e.abrupt("return", (0, e.t0)(e.t1, e.t2));

                              case 6:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                    }))).apply(this, arguments);
                }
                function m() {
                    return g.apply(this, arguments);
                }
                function g() {
                    return (g = _asyncToGenerator(_regeneratorRuntime().mark(function e() {
                        var r, o;
                        return _regeneratorRuntime().wrap(function(e) {
                            for (;;) switch (e.prev = e.next) {
                              case 0:
                                if (!t) {
                                    e.next = 2;
                                    break;
                                }
                                return e.abrupt("return", t);

                              case 2:
                                return e.next = 4, n.db.getFriends();

                              case 4:
                                if (e.t0 = e.sent, e.t0) {
                                    e.next = 7;
                                    break;
                                }
                                e.t0 = [];

                              case 7:
                                return r = e.t0, o = n.protocol.userSet || {}, e.abrupt("return", t = r.map(function(e) {
                                    return _objectSpread(_objectSpread({}, e), o[e.account]);
                                }));

                              case 10:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                    }))).apply(this, arguments);
                }
                function h(e, t) {
                    var n = [];
                    return t.forEach(function(t) {
                        for (var r = 0; r < e.length; r++) {
                            var o = y(t, e[r].split("."));
                            if (o && o.indexOf(i) > -1) {
                                n.push(Object.assign({}, t));
                                break;
                            }
                        }
                    }), n;
                }
                function y(e, t) {
                    if ("object" == _typeof(e) && e) return 1 === t.length ? e[t[0]] : y(e[t.shift()], t);
                }
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0);
            r.kick = function(e) {
                o.verifyOptions(e, "deviceIds", "link::kick"), this.processCallback(e), this.sendCmd("kick", {
                    deviceIds: e.deviceIds.slice(0)
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0);
            r.markInBlacklist = function(e) {
                o.verifyOptions(e, "account isAdd", "relation::markInBlacklist"), o.verifyParamType("isAdd", e.isAdd, "boolean", "relation::markInBlacklist"), 
                this.processCallback(e), this.sendCmd("markInBlacklist", {
                    account: e.account,
                    isAdd: e.isAdd
                }, e.callback);
            }, r.addToBlacklist = function(e) {
                return e.isAdd = !0, this.markInBlacklist(e);
            }, r.removeFromBlacklist = function(e) {
                return e.isAdd = !1, this.markInBlacklist(e);
            }, r.markInMutelist = function(e) {
                o.verifyOptions(e, "account", "relation::markInMutelist"), o.verifyParamType("isAdd", e.isAdd, "boolean", "relation::markInMutelist"), 
                this.processCallback(e), this.sendCmd("markInMutelist", {
                    account: e.account,
                    isAdd: e.isAdd
                }, e.callback);
            }, r.addToMutelist = function(e) {
                return e.isAdd = !0, this.markInMutelist(e);
            }, r.removeFromMutelist = function(e) {
                return e.isAdd = !1, this.markInMutelist(e);
            }, r.getRelations = function(e) {
                var t = this, n = t.db, r = 0;
                function i() {
                    t.sendCmd("getRelations", {
                        timetag: r,
                        NOTSTORE: "timetag"
                    }, e.callback);
                }
                e = o.verifyOptions(e), t.processCallback(e), n.enable ? n.getRelationsTimetag().then(function(e) {
                    r = e, i();
                }, i) : i();
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.objs2accounts, a = n(30);
            r.updateMyInfo = function(e) {
                o.verifyOptions(e), this.processCallback(e), e.user = new a(e), delete e.user.account, 
                this.sendCmd("updateMyInfo", {
                    user: e.user,
                    antispamTag: {
                        antiSpamBusinessId: e.antiSpamBusinessId
                    },
                    single: !0
                }, e.callback);
            }, r.getMyInfo = function(e) {
                return (e = e || {}).account = this.account, this.getUser(e);
            }, r.getUser = function(e) {
                var t, n = this, r = n.db;
                function i() {
                    n.sendCmd("getUsers", {
                        accounts: [ t ],
                        single: !0
                    }, e.callback);
                }
                o.verifyOptions(e, "account", "user::getUser"), n.processCallback(e), e.cbaop = function(e, r) {
                    if (!e) return r = r[0] || null, n.logger.info("api::getUser: cbaop " + t), r;
                }, t = e.account, e.sync ? i() : r.enable ? r.getUser(t).then(function(t) {
                    t ? e.done(null, t) : i();
                }, i) : i();
            }, r.getUsers = function(e) {
                var t, n = this, r = n.db, a = [];
                function s() {
                    n.sendCmd("getUsers", {
                        accounts: t,
                        single: !0
                    }, e.callback);
                }
                o.verifyOptions(e, "accounts", "user::getUsers"), o.verifyParamType("accounts", e.accounts, "array", "user::getUsers"), 
                n.processCallback(e), e.cbaop = function(e, r) {
                    if (!e) return r = r.concat(a), n.logger.info("api::getUsers: cbaop " + t), r;
                }, t = o.deduplicate(e.accounts), o.verifyArrayMax("accounts", e.accounts, 150, "user::getUsers"), 
                e.sync ? s() : r.enable ? r.getUsers(t).then(function(n) {
                    if (n && n.length === t.length) e.done(null, n); else {
                        a = n;
                        var r = i(n), o = [];
                        t.forEach(function(e) {
                            -1 === r.indexOf(e) && o.push(e);
                        }), t = o, s();
                    }
                }, s) : s();
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.notundef, a = n(93);
            r.friendRequest = function(e) {
                o.verifyOptions(e, "type account", "friend::friendRequest"), o.verifyParamValid("type", e.type, a.validTypes(), "friend::friendRequest"), 
                this.processPs(e), this.processCallback(e);
                var t = {
                    account: e.account,
                    type: a.getByteFromType(e.type),
                    ps: e.ps
                };
                i(e.idServer) && (t.idServer = e.idServer), this.sendCmd("friendRequest", t, e.callback);
            }, r.addFriend = function(e) {
                e.type = "addFriend", this.friendRequest(e);
            }, r.applyFriend = function(e) {
                e.type = "applyFriend", this.friendRequest(e);
            }, r.passFriendApply = function(e) {
                o.verifyOptions(e, "idServer", "friend::passFriendApply"), e.type = "passFriendApply", 
                this.friendRequest(e);
            }, r.rejectFriendApply = function(e) {
                o.verifyOptions(e, "idServer", "friend::rejectFriendApply"), e.type = "rejectFriendApply", 
                this.friendRequest(e);
            }, r.deleteFriend = function(e) {
                o.verifyOptions(e, "account", "friend::deleteFriend");
                var t = !0 === e.delAlias;
                this.processCallback(e), this.sendCmd("deleteFriend", {
                    account: e.account,
                    delFriendParams: {
                        delAlias: t ? 1 : 0
                    }
                }, e.callback);
            }, r.updateFriend = function(e) {
                this.processCallback(e);
                var t = new a(e);
                this.sendCmd("updateFriend", {
                    friend: t,
                    single: !0
                }, e.callback);
            }, r.getFriends = function(e) {
                var t = this.db;
                o.validate({
                    timetag: {
                        type: "number",
                        required: !1
                    }
                }, e, "friend::getFriends"), this.processCallback(e), t.enable ? t.getFriends({
                    updateTime: e.updateTime || 0
                }).then(function(t) {
                    (t = t.sort(function(e, t) {
                        return e.updateTime - t.updateTime;
                    })).invalid = [], e.done(null, t);
                }) : this.sendCmd("getFriends", {
                    timetag: e.updateTime || 0,
                    NOTSTORE: "timetag"
                }, e.callback);
            }, r.isMyFriend = function(e) {
                var t = this.db;
                o.validate({
                    account: {
                        type: "string",
                        allowEmpty: !1,
                        require: !0
                    }
                }, e), this.processCallback(e), t.enable || e.done(null, !1), t.getFriend(e.account).then(function(t) {
                    t && !0 === t.valid ? e.done(null, !0) : e.done(null, !1);
                });
            }, r.isUserInBlackList = function(e) {
                var t = this.db;
                o.validate({
                    account: {
                        type: "string",
                        allowEmpty: !1,
                        require: !0
                    }
                }, e), this.processCallback(e), t.enable || e.done(null, !1), t.getUserFromBlackList(e.account).then(function(t) {
                    t && t.account ? e.done(null, !0) : e.done(null, !1);
                });
            };
        }, function(e, t, n) {
            n(3).fn.getRobots = function(e) {
                this.logger.warn("this api will be abandon"), (e = e || {}).type = "getRobots", 
                this.processCallback(e), this.sendCmd("sync", {
                    sync: {
                        robots: 0
                    }
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.undef, a = n(25), s = n(20);
            r.createTeam = function(e) {
                o.verifyOptions(e, "type name", "team::createTeam"), i(e.accounts) ? e.accounts = [] : o.verifyParamType("accounts", e.accounts, "array", "team::createTeam"), 
                e.action = "create", this.processPs(e), this.processCallback(e), e.team = new a(e);
                var t = {
                    team: e.team,
                    accounts: e.accounts.slice(0),
                    ps: e.ps,
                    antispamTag: {
                        antiSpamBusinessId: e.antiSpamBusinessId
                    }
                };
                this.sendCmd("createTeam", t, e.callback);
            }, r.updateTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::updateTeam"), e.action = "update", this.processCallback(e), 
                e.team = new a(e), this.sendCmd("updateTeam", {
                    team: e.team,
                    antispamTag: {
                        antiSpamBusinessId: e.antiSpamBusinessId
                    },
                    single: !0
                }, e.callback);
            }, r.addTeamMembers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::addTeamMembers"), o.verifyParamType("accounts", e.accounts, "array", "team::addTeamMembers"), 
                this.processPs(e), o.notexist(e.custom) && (e.custom = ""), this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0),
                    ps: e.ps,
                    attach: e.custom
                };
                this.sendCmd("addTeamMembers", t, e.callback);
            }, r.removeTeamMembers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::removeTeamMembers"), o.verifyParamType("accounts", e.accounts, "array", "team::removeTeamMembers"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0)
                };
                this.sendCmd("removeTeamMembers", t, e.callback);
            }, r.acceptTeamInvite = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::acceptTeamInvite"), this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from
                };
                this.sendCmd("acceptTeamInvite", t, e.callback);
            }, r.rejectTeamInvite = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::rejectTeamInvite"), this.processPs(e), 
                this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from,
                    ps: e.ps
                };
                this.sendCmd("rejectTeamInvite", t, e.callback);
            }, r.applyTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::applyTeam"), this.processPs(e), this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    ps: e.ps
                };
                this.sendCmd("applyTeam", t, e.callback);
            }, r.passTeamApply = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::passTeamApply"), this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from
                };
                this.sendCmd("passTeamApply", t, e.callback);
            }, r.rejectTeamApply = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::rejectTeamApply"), this.processPs(e), 
                this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from,
                    ps: e.ps
                };
                this.sendCmd("rejectTeamApply", t, e.callback);
            }, r.addTeamManagers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::addTeamManagers"), o.verifyParamType("accounts", e.accounts, "array", "team::addTeamManagers"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0)
                };
                this.sendCmd("addTeamManagers", t, e.callback);
            }, r.removeTeamManagers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::removeTeamManagers"), o.verifyParamType("accounts", e.accounts, "array", "team::removeTeamManagers"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0)
                };
                this.sendCmd("removeTeamManagers", t, e.callback);
            }, r.updateInfoInTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::updateInfoInTeam"), this.processCallback(e), 
                this.sendCmd("updateInfoInTeam", {
                    teamMember: new s(e),
                    single: !0
                }, e.callback);
            }, r.updateNickInTeam = function(e) {
                o.verifyOptions(e, "teamId account", "team::updateNickInTeam"), this.processCallback(e), 
                this.sendCmd("updateNickInTeam", {
                    teamMember: new s(e),
                    single: !0
                }, e.callback);
            }, r.updateMuteStateInTeam = function(e) {
                o.verifyOptions(e, "teamId account mute", "team::updateMuteStateInTeam"), this.processCallback(e), 
                e.mute = e.mute ? 1 : 0, this.sendCmd("updateMuteStateInTeam", e);
            }, r.getMutedTeamMembers = function(e) {
                o.verifyOptions(e, "teamId", "team::getMutedTeamMembers"), this.processCallback(e), 
                this.sendCmd("getMutedTeamMembers", e);
            }, r.leaveTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::leaveTeam"), this.processCallback(e);
                var t = {
                    teamId: e.teamId
                };
                this.sendCmd("leaveTeam", t, e.callback);
            }, r.transferTeam = function(e) {
                o.verifyOptions(e, "teamId account leave", "team::transferTeam"), o.verifyParamType("leave", e.leave, "boolean", "team::transferTeam"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    account: e.account,
                    leave: e.leave
                };
                this.sendCmd("transferTeam", t, e.callback);
            }, r.dismissTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::dismissTeam"), this.processCallback(e);
                var t = {
                    teamId: e.teamId
                };
                this.sendCmd("dismissTeam", t, e.callback);
            }, r.getTeam = function(e) {
                var t, n = this, r = n.db;
                function i() {
                    n.sendCmd("getTeam", {
                        teamId: e.teamId
                    }, e.callback);
                }
                o.verifyOptions(e, "teamId", "team::getTeam"), n.processCallback(e), e.cbaop = function(e, r) {
                    e || n.logger.info("api::getTeam: cbaop " + t);
                }, t = e.teamId, r.enable && !e.sync ? r.getTeam(t).then(function(r) {
                    r && r.validToCurrentUser ? (n.logger.log("api::getTeam: db.getTeam " + t), e.done(null, r)) : i();
                }, i) : i();
            }, r.getTeams = function(e) {
                var t = this, n = t.db, r = 0;
                function i() {
                    t.sendCmd("getTeams", {
                        timetag: r,
                        NOTSTORE: "timetag"
                    }, e.callback);
                }
                o.verifyOptions(e), t.processCallback(e), n.enable ? n.getTeamsTimetag().then(function(e) {
                    r = e, i();
                }, i) : i();
            }, r.getTeamsById = function(e) {
                o.verifyOptions(e, "teamIds", "teams::getTeamsById"), this.processCallback(e), this.sendCmd("getTeamsById", {
                    teamIds: e.teamIds
                }, e.callback);
            }, r.getTeamMembers = function(e) {
                o.verifyOptions(e, "teamId", "team::getTeamMembers"), this.processCallback(e), this.sendCmd("getTeamMembers", {
                    teamId: e.teamId,
                    timetag: 0,
                    NOTSTORE: "timetag"
                }, e.callback);
            }, r.getTeamMemberByTeamIdAndAccount = function(e) {
                o.verifyParamType("teamId", e.teamId, "numeric or numeric string", "team::getTeamMemberByTeamIdAndAccount"), 
                o.verifyOptions(e, "account", "team::getTeamMemberByTeamIdAndAccount"), this.processCallback(e), 
                this.sendCmd("getTeamMembers", {
                    teamId: e.teamId,
                    timetag: 0,
                    NOTSTORE: "timetag"
                }, function(t, n, r) {
                    var o = {};
                    if (n && n.members && n.members.length) for (var i = 0; i < n.members.length; i++) if (n.members[i].account === e.account) {
                        o[e.account] = n.members[i];
                        break;
                    }
                    e.callback(t, o, r);
                });
            }, r.getTeamMemberInvitorAccid = function(e) {
                o.verifyParamType("teamId", e.teamId, "numeric or numeric string", "team::getTeamMemberInvitorAccid"), 
                i(e.accounts) || (o.verifyParamType("accounts", e.accounts, "array", "team::getTeamMemberInvitorAccid"), 
                e.accounts.length > 200 && o.onParamError("accounts 参数数组长度不能超过200", "team::getTeamMemberInvitorAccid"));
                var t = {
                    teamId: e.teamId
                };
                e.accounts.length && (t.accounts = e.accounts.slice(0)), this.processCallback(e), 
                this.sendCmd("getTeamMemberInvitorAccid", t, function(t, n, r) {
                    e.callback(t, r && r.accountsMap || {});
                });
            }, r.notifyForNewTeamMsg = function(e) {
                o.verifyOptions(e, "teamIds", "team::notifyForNewTeamMsg"), this.protocol.notifyForNewTeamMsg(e.teamIds).then(function(t) {
                    e.done(t.error || null, t.map, t.miss);
                }, function(t) {
                    e.done(t);
                });
            }, r.getMyTeamMembers = function(e) {
                o.verifyOptions(e, "teamIds", "team::getMyTeamMembers");
                var t = this.processCallbackPromise(e);
                return this.sendCmd("getMyTeamMembers", e), t;
            }, r.getLocalTeams = function(e) {
                var t, n = this.db, r = [];
                function i() {
                    e.teams = r, e.done(t, e);
                }
                o.verifyOptions(e, "teamIds", "team::getLocalTeams"), o.verifyParamType("teamIds", e.teamIds, "array", "team::getLocalTeams"), 
                this.processCallback(e), n.enable ? n.getTeamsByTeamIds(e.teamIds).then(function(e) {
                    r = e.filter(function(e) {
                        return !!e;
                    }), i();
                }, function(e) {
                    t = e, i();
                }) : i();
            }, r.getLocalTeamMembers = function(e) {
                var t, n = this.db, r = [];
                function i() {
                    e.members = r, e.done(t, e);
                }
                o.verifyOptions(e, "teamId accounts", "team::getLocalTeamMembers"), o.verifyParamType("accounts", e.accounts, "array", "team::getLocalTeamMembers"), 
                this.processCallback(e), n.enable ? n.getInvalidTeamMembers(e.teamId, e.accounts).then(function(e) {
                    r = e.filter(function(e) {
                        return !!e;
                    }), i();
                }, function(e) {
                    t = e, i();
                }) : i();
            }, r.deleteLocalTeam = function(e) {
                var t, n = this.db;
                function r() {
                    e.done(t, e);
                }
                o.verifyOptions(e, "teamId", "team::deleteLocalTeam"), this.processCallback(e), 
                n.enable ? n.deleteTeam(e.teamId).then(function() {
                    r();
                }, function(e) {
                    t = e, r();
                }) : r();
            }, r.muteTeamAll = function(e) {
                o.verifyOptions(e, "teamId mute", "team::muteTeamAll"), e.mute = e.mute ? 1 : 0, 
                this.processCallback(e), this.sendCmd("muteTeamAll", e);
            }, r.sendTeamMsgReceipt = function(e) {
                o.verifyOptions(e, "teamMsgReceipts", "team::sendTeamMsgReceipt"), e.teamMsgReceipts.length > 50 ? this.logger.error("team::sendTeamMsgReceipt：teamMsgReceipts length over 50") : (this.processCallback(e), 
                this.sendCmd("sendTeamMsgReceipt", e));
            }, r.getTeamMsgReads = function(e) {
                o.verifyOptions(e, "teamMsgReceipts", "team::getTeamMsgReads"), this.processCallback(e), 
                this.sendCmd("getTeamMsgReads", e);
            }, r.getTeamMsgReadAccounts = function(e) {
                var t, n = this, r = this;
                o.verifyOptions(e, "teamMsgReceipt", "team::getTeamMsgReadAccounts"), e.callback = function(n, r, o) {
                    n && t ? (r = r || {
                        teamMsgReceipt: e.teamMsgReceipt
                    }, e.done(n, r, {
                        teamMsgReceipt: e.teamMsgReceipt,
                        unreadAccounts: t.unreadAccounts,
                        readAccounts: t.readAccounts
                    })) : e.done(n, r, o);
                }, this.db.enable && e.teamMsgReceipt.idClient ? this.db.getMsgReadDetail(e.teamMsgReceipt.idClient).then(function(n) {
                    if (t = n, !n) return Promise.reject("no record");
                    if (n.unreadAccounts && n.unreadAccounts.length > 0) return Promise.reject("unreadAccounts.length > 0");
                    var o = {
                        teamMsgReceipt: e.teamMsgReceipt,
                        unreadAccounts: n.unreadAccounts,
                        readAccounts: n.readAccounts
                    };
                    r.logger.info("getTeamMsgReadAccounts from db"), e.done(null, {
                        teamMsgReceipt: e.teamMsgReceipt
                    }, o);
                }).catch(function(t) {
                    n.logger.warn("db.getMsgReadDetail invalid", t), r.sendCmd("getTeamMsgReadAccounts", e);
                }) : r.sendCmd("getTeamMsgReadAccounts", e);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.undef, a = n(51), s = n(29);
            function c(e) {
                var t = this.db;
                if (!t.enable) return Promise.resolve({
                    valid: !1
                });
                var n = t.getSuperTeam(e), r = t.getSuperTeamMembersTimetag(e);
                return Promise.all([ n, r ]).then(function(e) {
                    var t = _slicedToArray(e, 2), n = t[0], r = t[1], o = n && n.memberUpdateTime, i = {
                        timetag: r = r || 0
                    };
                    return o && r >= o && (i.valid = !0), Promise.resolve(i);
                }).catch(function() {
                    return Promise.resolve({
                        timetag: 0
                    });
                });
            }
            r.addSuperTeamMembers = function(e) {
                o.verifyOptions(e, "teamId accounts", "superTeam::addSuperTeamMembers"), o.verifyParamType("accounts", e.accounts, "array", "superTeam::addSuperTeamMembers");
                var t = o.deduplicate(e.accounts);
                this.processPs(e), this.processCallback(e);
                var n = {
                    teamId: e.teamId,
                    accounts: t,
                    ps: e.ps
                };
                this.sendCmd("addSuperTeamMembers", n, e.callback);
            }, r.removeSuperTeamMembers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::removeSuperTeamMembers"), o.verifyParamType("accounts", e.accounts, "array", "team::removeSuperTeamMembers");
                var t = o.deduplicate(e.accounts);
                this.processCallback(e);
                var n = {
                    teamId: e.teamId,
                    accounts: t
                };
                this.sendCmd("removeSuperTeamMembers", n, e.callback);
            }, r.leaveSuperTeam = function(e) {
                o.verifyOptions(e, "teamId", "superTeam::leaveSuperTeam"), this.processCallback(e);
                var t = {
                    teamId: e.teamId
                };
                this.sendCmd("leaveSuperTeam", t, e.callback);
            }, r.getSuperTeam = function(e) {
                var t, n = this, r = n.db;
                function i() {
                    n.sendCmd("getSuperTeam", {
                        teamId: e.teamId
                    }, e.callback);
                }
                o.verifyOptions(e, "teamId", "team::getSuperTeam"), n.processCallback(e), e.cbaop = function(e, r) {
                    e || n.logger.info("api::getSuperTeam: cbaop " + t);
                }, t = e.teamId, r.enable && !e.sync ? r.getSuperTeam(t).then(function(r) {
                    r && r.validToCurrentUser ? (n.logger.log("api::getSuperTeam: db.getSuperTeam " + t), 
                    e.done(null, r)) : i();
                }).catch(function(e) {
                    i();
                }) : i();
            }, r.getSuperTeams = function(e) {
                var t = this, n = t.db, r = 0;
                function i() {
                    t.sendCmd("getSuperTeams", {
                        timetag: r,
                        NOTSTORE: "timetag"
                    }, e.callback);
                }
                o.verifyOptions(e), t.processCallback(e), n.enable ? n.getSuperTeamsTimetag().then(function(e) {
                    r = e, i();
                }, i) : i();
            }, r.updateSuperTeam = function(e) {
                o.verifyOptions(e, "teamId", "superTeam::updateSuperTeam"), e.action = "update", 
                this.processCallback(e), e.team = new a(e), this.sendCmd("updateSuperTeam", {
                    team: e.team,
                    antispamTag: {
                        antiSpamBusinessId: e.antiSpamBusinessId
                    },
                    single: !0
                }, e.callback);
            }, r.updateInfoInSuperTeam = function(e) {
                o.verifyOptions(e, "teamId", "superTeam::updateInfoInSuperTeam"), this.processCallback(e), 
                this.sendCmd("updateInfoInSuperTeam", {
                    superTeamMember: new s(e),
                    single: !0
                }, e.callback);
            }, r.getSuperTeamMembersByJoinTime = function(e) {
                var t = this, n = (t.db, e), r = n.joinTime, a = n.reverse, s = n.limit, c = n.teamId;
                a = !!a, i(r) && (r = 0), i(s) && (s = 100), o.verifyOptions(e, "teamId", "superTeam::getSuperTeamMembersByJoinTime"), 
                o.verifyParamType("joinTime", r, "number", "api::superTeam::getSuperTeamMembersByJoinTime"), 
                o.verifyParamType("limit", s, "number", "api::superTeam::getSuperTeamMembersByJoinTime"), 
                t.processCallback(e), t.sendCmd("getSuperTeamMembersByJoinTime", {
                    teamId: c,
                    limit: s,
                    joinTime: r,
                    reverse: a,
                    timetag: 0,
                    NOTSTORE: "timetag"
                }, e.callback);
            }, r.getAllSuperTeamMembers = function(e) {
                var t = this, n = this.db;
                function r(n) {
                    n = n || 0, t.sendCmd("getSuperTeamMembers", {
                        teamId: e.teamId,
                        timetag: n,
                        NOTSTORE: "timetag"
                    }, e.callback);
                }
                o.verifyOptions(e, "teamId", "superTeam::getAllSuperTeamMembers"), t.processCallback(e), 
                c.bind(this)(e.teamId).then(function(o) {
                    var i = o.valid, a = o.timetag;
                    i ? (t.logger.info("getAllSuperTeamMembers from local db"), n.getSuperTeamMembers(e.teamId).then(function(t) {
                        var n = {
                            teamId: e.teamId,
                            members: t
                        };
                        e.done(null, n);
                    }, function() {
                        return r();
                    })) : r(a);
                });
            }, r.applySuperTeam = function(e) {
                o.verifyOptions(e, "teamId", "team::applySuperTeam"), o.verifyOptions(e, "teamId", "team::applySuperTeam"), 
                this.processPs(e), this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    ps: e.ps
                };
                this.sendCmd("applySuperTeam", t, e.callback);
            }, r.passSuperTeamApply = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::passSuperTeamApply"), this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from
                };
                this.sendCmd("passSuperTeamApply", t, e.callback);
            }, r.rejectSuperTeamApply = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::rejectSuperTeamApply"), this.processPs(e), 
                this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from,
                    ps: e.ps
                };
                this.sendCmd("rejectSuperTeamApply", t, e.callback);
            }, r.acceptSuperTeamInvite = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::acceptSuperTeamInvite"), this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from
                };
                this.sendCmd("acceptSuperTeamInvite", t, e.callback);
            }, r.rejectSuperTeamInvite = function(e) {
                o.verifyOptions(e, "idServer teamId from", "team::rejectSuperTeamInvite"), this.processPs(e), 
                this.processCallback(e);
                var t = {
                    idServer: e.idServer,
                    teamId: e.teamId,
                    from: e.from,
                    ps: e.ps
                };
                this.sendCmd("rejectSuperTeamInvite", t, e.callback);
            }, r.addSuperTeamManagers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::addSuperTeamManagers"), o.verifyParamType("accounts", e.accounts, "array", "team::addSuperTeamManagers"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0)
                };
                this.sendCmd("addSuperTeamManagers", t, e.callback);
            }, r.removeSuperTeamManagers = function(e) {
                o.verifyOptions(e, "teamId accounts", "team::removeSuperTeamManagers"), o.verifyParamType("accounts", e.accounts, "array", "team::removeSuperTeamManagers"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    accounts: e.accounts.slice(0)
                };
                this.sendCmd("removeSuperTeamManagers", t, e.callback);
            }, r.updateSuperTeamMembersMute = function(e) {
                o.verifyOptions(e, "teamId accounts mute", "team::updateSuperTeamMembersMute"), 
                o.verifyParamType("accounts", e.accounts, "array", "team::updateSuperTeamMembersMute"), 
                o.verifyArrayMax("accounts", e.accounts, 10), this.processCallback(e), e.mute = e.mute ? 1 : 0, 
                this.sendCmd("updateSuperTeamMembersMute", e);
            }, r.updateSuperTeamMute = function(e) {
                o.verifyOptions(e, "teamId mute", "team::updateSuperTeamMute"), e.mute = e.mute ? 1 : 0, 
                this.processCallback(e), this.sendCmd("updateSuperTeamMute", e);
            }, r.updateNickInSuperTeam = function(e) {
                o.verifyOptions(e, "teamId account", "team::updateNickInSuperTeam"), this.processCallback(e), 
                this.sendCmd("updateNickInSuperTeam", {
                    superTeamMember: new s(e),
                    single: !0
                }, e.callback);
            }, r.transferSuperTeam = function(e) {
                o.verifyOptions(e, "teamId account leave", "team::transferSuperTeam"), o.verifyParamType("leave", e.leave, "boolean", "team::transferSuperTeam"), 
                this.processCallback(e);
                var t = {
                    teamId: e.teamId,
                    account: e.account,
                    leave: e.leave
                };
                this.sendCmd("transferSuperTeam", t, e.callback);
            }, r.getSuperTeamMembersByAccounts = function(e) {
                var t = this, n = this.db, r = e.teamId, i = e.accounts;
                if (o.verifyOptions(e, "teamId accounts", "superTeam::getSuperTeamMembersByAccounts"), 
                o.verifyParamType("accounts", i, "array", "superTeam::getSuperTeamMembersByAccounts"), 
                o.verifyArrayMax("accounts", i, 20), i.length <= 0) return o.onParamError("参数accounts不能为空数组", "superTeam::getSuperTeamMembersByAccounts");
                function a() {
                    var n = i.map(function(e) {
                        return r + "|" + e;
                    });
                    t.processCallback(e), t.sendCmd("getSuperTeamMembersByAccounts", {
                        memberIds: n
                    }, function(t, n) {
                        e.done(null, {
                            accounts: i,
                            members: n.members,
                            invaldAccounts: n.invalid
                        });
                    });
                }
                c.call(this, r).then(function(t) {
                    return t.valid ? function() {
                        var t = [], o = [], a = [];
                        i.forEach(function(e) {
                            var i = n.getSuperTeamMemberById("".concat(r, "-").concat(e)).then(function(e) {
                                o.push(e);
                            }).catch(function() {
                                a.push(e);
                            });
                            t.push(i);
                        }), Promise.all(t).then(function() {
                            e.done(null, {
                                accounts: i,
                                members: o,
                                invaldAccounts: a
                            });
                        });
                    }() : a();
                }).catch(function() {
                    return a();
                });
            }, r.getMutedSuperTeamMembers = function(e) {
                var t = e.joinTime, n = e.reverse, r = e.limit, a = e.teamId;
                n = !!n, i(t) && (t = 0), i(r) && (r = 100), o.verifyOptions(e, "teamId", "superTeam::getSuperTeamMembersByJoinTime"), 
                o.verifyParamType("joinTime", t, "number", "api::superTeam::getSuperTeamMembersByJoinTime"), 
                o.verifyParamType("limit", r, "number", "api::superTeam::getSuperTeamMembersByJoinTime"), 
                this.processCallback(e), this.sendCmd("getMutedSuperTeamMembers", {
                    teamId: a,
                    limit: r,
                    joinTime: t,
                    reverse: n
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.undef, a = o.notundef, s = n(48);
            function c(e, t) {
                var n = this, r = [], o = [], i = this.db, a = this;
                return i.enable ? (e.forEach(function(e) {
                    var t = n.protocol.findSession(e);
                    t ? s(t) : o.push(i.getSession(e).then(function(e) {
                        return s(e);
                    }));
                }), Promise.all(o).then(function() {
                    return r;
                })) : (e.forEach(function(e) {
                    return s(n.protocol.findSession(e));
                }), Promise.resolve(r));
                function s(e) {
                    e ? e.lastMsg ? e.scene && e.to ? e.ack >= e.lastMsg.time ? a.logger.warn("".concat(t, " not need ack ").concat(e.id)) : r.push(e) : a.logger.warn("".concat(t, " session.scene|to undefined ").concat(e.id)) : a.logger.warn("".concat(t, " session.lastMsg undefined ").concat(e.id)) : a.logger.warn("".concat(t, " session undefined ").concat(e.id));
                }
            }
            r.setCurrSession = function(e) {
                this.resetSessionUnread(e), this.protocol.setCurrSession(e);
            }, r.resetAllSessionUnread = function() {
                var e = this;
                for (var t in e.protocol.sessionSet) e.protocol.sessionSet[t].unread > 0 && e.resetSessionUnread(t);
            }, r.resetSessionsUnread = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}, n = this;
                n.logger.info("resetSessionsUnread::", e), c.call(this, e, "api::resetSessionsUnread").then(function(e) {
                    if (n.protocol.resetSessionsUnread(e), n.options.syncSessionUnread && 0 !== e.length) {
                        var r = e.map(function(e) {
                            return {
                                scene: "p2p" === e.scene ? 0 : 1,
                                to: e.to,
                                timetag: e.lastMsg.time
                            };
                        });
                        n.sendCmd("markSessionAckBatch", {
                            sessionAckTags: r
                        }, function(e) {
                            t(e || null);
                        });
                    } else t();
                });
            }, r.resetSuperTeamSessionsUnread = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}, n = this;
                n.logger.info("resetSuperTeamSessionsUnread::", e), c.call(this, e, "api::resetSuperTeamSessionsUnread").then(function(e) {
                    if (n.protocol.resetSessionsUnread(e), n.options.syncSessionUnread && 0 !== e.length) {
                        var r = e.map(function(e) {
                            return {
                                to: e.to,
                                timetag: e.lastMsg.time
                            };
                        });
                        n.sendCmd("markSuperTeamSessionsAck", {
                            sessionAckTags: r
                        }, function(e) {
                            t(e || null);
                        });
                    } else t();
                });
            }, r.resetSessionUnread = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}, n = this, r = !1 !== n.options.resetUnreadMode, o = function() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    n ? t(n, e) : t(null);
                };
                n.logger.info("resetSessionUnread::use reset mode", r);
                var i = n.protocol.findSession(e);
                (!i && this.db.enable ? n.db.getSession(e) : Promise.resolve(i)).then(function(t) {
                    return t ? n.options.syncSessionUnread ? (r && n.protocol.resetSessionUnread(t), 
                    void function(t) {
                        if (!t.lastMsg) return n.logger.warn("api::resetSessionUnread: session.lastMsg undefined " + e), 
                        o();
                        if (!t.scene || !t.to) return n.logger.warn("api::resetSessionUnread: session.scene|to undefined " + e), 
                        o();
                        var i = t.lastMsg.time;
                        if (t && t.ack && t.ack >= i) return n.logger.warn("api::resetSessionUnread: session ack not needs " + e), 
                        o();
                        var a = {
                            done: function(e) {
                                e ? (n.logger.error({
                                    message: e || "mark ack failed",
                                    callFunc: "resetSessionUnread"
                                }), o(e || "mark ack failed")) : (r || n.protocol.resetSessionUnread(t), o());
                            }
                        };
                        if (n.processCallback(a), "superTeam" === t.scene) n.sendCmd("markSuperTeamSessionAck", {
                            to: t.to,
                            timetag: i
                        }, a.callback); else {
                            var s = {
                                scene: "p2p" === t.scene ? 0 : 1,
                                to: t.to,
                                timetag: i
                            };
                            n.sendCmd("markSessionAck", s, a.callback);
                        }
                    }(t)) : (n.protocol.resetSessionUnread(t), o()) : (n.logger.warn("api::resetSessionUnread: session undefined " + e), 
                    o());
                });
            }, r.resetCurrSession = function() {
                this.protocol.setCurrSession("");
            }, r.insertLocalSession = function(e) {
                var t, n;
                function r() {
                    e.session = n, e.done(t, e);
                }
                o.verifyOptions(e, "scene to", "scene::insertLocalSession"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "scene::insertLocalSession"), 
                this.protocol.insertLocalSession(e).then(function(e) {
                    n = e, r();
                }, function(e) {
                    t = e, r();
                });
            }, r.getLocalSessions = function(e) {
                var t, n = this, r = n.db, s = [];
                function c() {
                    e.sessions = s, delete e.callback, e.done(t, e);
                }
                o.verifyOptions(e), i(e.limit) && (e.limit = 100), o.verifyParamType("limit", e.limit, "number", "scene::getLocalSessions"), 
                o.verifyParamMax("limit", e.limit, 100, "scene::getLocalSessions"), a(e.reverse) ? o.verifyParamType("reverse", e.reverse, "boolean", "scene::getLocalSessions") : e.reverse = !1, 
                n.processCallback(e), r.enable ? r.getSessions(e).then(function(e) {
                    s = e, n.protocol.mergeSessions(s), c();
                }, function(e) {
                    t = e, c();
                }) : c();
            }, r.getLocalSession = function(e) {
                var t, n = this.db, r = null;
                if (o.verifyOptions(e, "sessionId", "scene::getLocalSession"), o.verifyParamType("sessionId", e.sessionId, "string", "scene::getLocalSession"), 
                n.enable) return this.processCallback(e), void n.getSession(e.sessionId).then(function(e) {
                    e && (r = e), i();
                }, function(e) {
                    t = e, i();
                });
                function i() {
                    e.done(t, r);
                }
                r = this.protocol.findSession(e.sessionId), i();
            }, r.getLocalSessionsByMsgType = function(e) {
                var t = this.db, n = e.exclude, r = [], i = s.validTypes.slice(0);
                if (a(n)) {
                    if ("string" == typeof n) n = [ n ]; else if (!Array.isArray(n)) return void o.onParamInvalidType("exclude", [ "string", "string array" ], "", "exclude::getLocalSessionsByMsgType");
                    n = n.filter(function(e) {
                        return i.indexOf(e) > -1;
                    }), i = i.filter(function(e) {
                        return -1 === n.indexOf(e);
                    });
                }
                this.processCallback(e), t.enable ? t.getSessions().then(function(o) {
                    n && 0 !== n.length ? i && 0 !== i.length ? (o.forEach(function(e, a) {
                        var s, c, u;
                        e.lastMsg && n.indexOf(e.lastMsg.type) > -1 && (s = a, c = e.id, u = t.getMsgs({
                            sessionId: c,
                            limit: 1,
                            types: i
                        }).then(function(e) {
                            return e && e[0] ? o[s].lastMsg = e[0] : o[s].lastMsg = null, Promise.resolve();
                        }), r.push(u));
                    }), Promise.all(r).then(function(t) {
                        e.done(null, {
                            exclude: n,
                            sessions: o
                        });
                    })) : e.done(null, {
                        exclude: n,
                        sessions: o.map(function(e) {
                            e.lastMsg = null;
                        })
                    }) : e.done(null, {
                        exclude: n,
                        sessions: o
                    });
                }) : e.done(null, {
                    exclude: n,
                    sessions: []
                });
            }, r.updateLocalSession = function(e) {
                var t, n = this, r = n.db;
                o.verifyOptions(e, "id", "scene::updateLocalSession"), n.processCallback(e);
                var i = o.filterObj(e, "id localCustom");
                function a() {
                    n.protocol.onUpdateSession(i), e.session = i, e.done(t, e);
                }
                r.enable ? r.updateSession(i).then(function(e) {
                    i = e, a();
                }, function(e) {
                    t = e, a();
                }) : a();
            }, r.deleteLocalSession = function(e) {
                var t, n = this, r = n.db;
                if (o.verifyOptions(e, "id", "session::deleteLocalSession"), n.processCallback(e), 
                r.enable ? (e.isLogic ? r.deleteSessionLogic(e.id) : r.deleteSession(e.id)).then(function() {
                    n.protocol.deleteLocalSession(e.id, e.isLogic), a();
                }, function(e) {
                    t = e, a();
                }) : a(), e.isDeleteRoaming) {
                    var i = "string" == typeof e.id ? [ e.id ] : e.id;
                    i = i.map(function(e) {
                        return e.replace("-", "|");
                    }), this.sendCmd("deleteSessions", {
                        sessions: i
                    }, function() {});
                }
                function a() {
                    e.done(t, e);
                }
            }, r.deleteSession = function(e, t) {
                t || this.logger.warn("this api will be abandon,please use “deleteRoamingMsgBySession”"), 
                o.verifyOptions(e, "scene to", "session::deleteSession"), this.processCallback(e), 
                e.sessions = [ {
                    scene: e.scene,
                    to: e.to
                } ], this.deleteSessions(e);
            }, r.deleteRoamingMsgBySession = function(e) {
                this.deleteSession(e, !0);
            }, r.deleteSessions = function(e) {
                o.verifyOptions(e, "sessions", "session::deleteSessions"), o.verifyParamType("sessions", e.sessions, "array", "session::deleteSessions"), 
                e.sessions.forEach(function(e, t) {
                    o.verifyOptions(e, "scene to", !0, "sessions[" + t + "].", "session::deleteSessions");
                }), this.processCallback(e), this.sendCmd("deleteSessions", {
                    sessions: e.sessions.map(function(e) {
                        return e.scene + "|" + e.to;
                    })
                }, e.callback);
            }, r.getServerSessions = function(e) {
                a(e.minTimestamp) && o.verifyParamType("minTimestamp", e.minTimestamp, "number", "session::deleteSessions"), 
                a(e.maxTimestamp) && o.verifyParamType("maxTimestamp", e.maxTimestamp, "number", "session::deleteSessions"), 
                a(e.needLastMsg) && (e.needLastMsg = !1 === e.needLastMsg ? 0 : 1), a(e.limit) && (o.verifyParamType("limit", e.limit, "number", "session::deleteSessions"), 
                o.verifyParamMax("limit", e.limit, 100, "scene::getLocalSessions")), this.processCallback(e), 
                this.sendCmd("getServerSessions", {
                    sessionReqTag: e
                }, e.callback);
            }, r.getServerSession = function(e) {
                o.verifyOptions(e, "scene to", "scene::getServerSession"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "scene::getServerSession"), 
                o.verifyParamType("to", e.to, "string", "to::getServerSession");
                var t = e.scene + "|" + e.to;
                "superTeam" === e.scene && (t = "super_team|" + e.to), this.processCallback(e), 
                this.sendCmd("getServerSession", {
                    session: {
                        id: t
                    }
                }, e.callback);
            }, r.updateServerSession = function(e) {
                o.verifyOptions(e, "scene to", "scene::updateServerSession"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "scene::updateServerSession"), 
                o.verifyParamType("to", e.to, "string", "to::updateServerSession"), a(e.extra) && o.verifyParamType("extra", e.extra, "string", "extra::updateServerSession");
                var t = e.scene + "|" + e.to;
                "superTeam" === e.scene && (t = "super_team|" + e.to), this.processCallback(e), 
                this.sendCmd("updateServerSession", {
                    session: {
                        id: t,
                        ext: e.extra || ""
                    }
                }, e.callback);
            }, r.deleteServerSessions = function(e) {
                var t = this;
                o.verifyOptions(e, "sessions", "scene::deleteServerSessions"), o.verifyParamType("sessions", e.sessions, "array", "sessions::deleteServerSessions");
                var n = [];
                e.sessions.forEach(function(e) {
                    o.verifyParamValid("scene", e.scene, t.message.validScenes, "scene::deleteServerSessions"), 
                    o.verifyParamType("to", e.to, "string", "to::deleteServerSessions");
                    var r = e.scene + "|" + e.to;
                    "superTeam" === e.scene && (r = "super_team|" + e.to), n.push({
                        id: r
                    });
                }), this.processCallback(e), this.sendCmd("deleteServerSessions", {
                    sessions: n
                }, e.callback);
            }, r.updateSessionsWithMoreRoaming = function(e) {
                if (o.verifyOptions(e, "msg", "session::updateSessionsWithMoreRoaming"), o.verifyCallback(e, "done", "session::updateSessionsWithMoreRoaming"), 
                !this.db.enable) return e.done(null, "db is disable");
                var t = {
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    to: e.msg.to,
                    from: e.msg.from
                };
                o.verifyParamType("msg.time", e.msg.time, "number", "time::updateSessionsWithMoreRoaming"), 
                o.verifyParamType("msg.idServer", e.msg.idServer, "string", "idServer::updateSessionsWithMoreRoaming"), 
                o.verifyParamType("msg.from", e.msg.from, "string", "from::updateSessionsWithMoreRoaming"), 
                o.verifyParamType("msg.to", e.msg.to, "string", "to::updateSessionsWithMoreRoaming"), 
                o.verifyParamValid("scene", e.msg.scene, this.message.validScenes, "scene::updateSessionsWithMoreRoaming");
                var n = t.to === this.account ? t.from : t.to;
                t.id = "".concat(e.msg.scene, "-").concat(n), this.db.updateSessionsWithMoreRoaming(t).then(function(t) {
                    e.done(null, t);
                }).catch(function(t) {
                    e.done(t);
                });
            }, r.deleteSessionsWithMoreRoaming = function(e) {
                if (o.verifyOptions(e, "id", "session::deleteSessionsWithMoreRoaming"), o.verifyCallback(e, "done", "session::deleteSessionsWithMoreRoaming"), 
                !this.db.enable) return e.done(null, "db is disable");
                this.db.deleteSessionsWithMoreRoaming(e.id).then(function(t) {
                    e.done(null, t);
                }).catch(function(t) {
                    e.done(t);
                });
            }, r.getSessionsWithMoreRoaming = function(e) {
                if (o.verifyCallback(e, "done", "session::getSessionsWithMoreRoaming"), !this.db.enable) return e.done(null, "db is disable");
                this.db.getSessionsWithMoreRoaming(e.id).then(function(t) {
                    e.done(null, t);
                }).catch(function(t) {
                    e.done(t);
                });
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.undef, a = o.notundef, s = n(5), c = n(27), u = n(21), l = n(4);
            r.sendG2Msg = function(e) {
                return this.processCallback(e), e.msg = new this.message.G2Message(e), this.sendMsg(e);
            }, r.beforeSendMsg = function(e) {
                var t, n = this.protocol, r = e.msg;
                switch (r.to === this.account && (r.fromDeviceId = s.deviceId), r.userUpdateTime = n.myInfo && n.myInfo.updateTime, 
                r.getScene()) {
                  case "p2p":
                    t = "sendMsg";
                    break;

                  case "team":
                    t = "sendTeamMsg";
                    break;

                  case "superTeam":
                    t = "sendSuperTeamMsg";
                }
                e.filter && (t = "sendFilterMsg", r.filter = !0), e.cmd = t;
            }, r.afterSendMsg = function(e) {
                var t = e.rtnMsg;
                if (!t || !t.ignore) {
                    var n = this.protocol.findSession(t.sessionId);
                    e.isLocal && n && n.lastMsg && t.time < n.lastMsg.time || this.protocol.onUpdateSession(c.genSessionByMsg(t));
                }
            }, r.beforeForwardMsg = function(e) {
                o.verifyOptions(e, "msg scene to", "msg::beforeForwardMsg"), e.msg.scene = e.scene, 
                e.msg.to = e.to;
            }, r.markMsgRead = function(e) {
                var t = this.protocol;
                !e || this.db.enable || t.options.autoMarkRead ? this.logger.warn("api::markMsgRead: 不需要标记消息为已收到 (没有消息, 或者启用了数据库, 或者启用了自动标记已收到)") : t.markMsgRead(e, !0);
            }, r.sendMsgReceipt = function(e) {
                if (o.verifyOptions(e), this.processCallback(e), e.msg) {
                    o.verifyOptions(e, "msg", "msg::sendMsgReceipt");
                    var t = e.msg;
                    o.verifyOptions(t, "target idClient time", !0, "msg.", "msg::sendMsgReceipt"), this.protocol.shouldSendMsgReceipt(t) ? this.sendCmd("sendMsgReceipt", {
                        msgReceipt: {
                            to: t.target,
                            idClient: t.idClient,
                            time: t.time
                        }
                    }, e.callback) : e.done();
                } else e.done();
            }, r.isMsgRemoteRead = function(e) {
                return this.protocol.isMsgRemoteRead(e);
            }, r.recallMsg = function(e) {
                this.deleteMsg(e, !0);
            }, r.deleteMsg = function(e, t) {
                t || this.logger.warn("this api will be abandon,please use “recallMsg”"), o.verifyOptions(e, "msg", "msg::deleteMsg");
                var n = e.msg;
                if ("team" !== n.scene && n.from !== this.account || "success" !== n.status || n.isLocal) return e.done(l.newParamError("只能删除自己发的, 并且发送成功的消息，且不能是本地消息", {
                    callFunc: "msg::deleteMsg"
                }), e);
                o.verifyOptions(n, [ "scene", "to", "from", "time", "idClient", "idServer" ], !0, "msg.", "msg::deleteMsg"), 
                o.verifyParamValid("msg.scene", n.scene, this.message.validScenes, "msg::deleteMsg"), 
                this.processPs(e), this.processCallback(e);
                var r = {
                    deletedIdClient: n.idClient,
                    deletedIdServer: n.idServer,
                    time: n.time,
                    from: n.from,
                    to: n.to,
                    opeAccount: n.from
                }, i = "superTeam" === n.scene ? "deleteSuperTeamMsg" : "deleteMsg";
                r.type = "deleteMsg" + n.scene[0].toUpperCase() + n.scene.slice(1), [ "ps", "apnsText", "pushPayload", "env", "opeAccount", "attach" ].forEach(function(t) {
                    e[t] && (r[t] = e[t]);
                }), r = new u(r), this.sendCmd(i, {
                    sysMsg: r,
                    msg: n
                }, e.callback);
            }, r.deleteMsgSelf = function(e) {
                o.verifyOptions(e, "msg", "msg::deleteMsgSelf");
                var t = e.msg;
                if ("superTeam" === t.scene) return e.done(l.newParamError("单向删除暂不支持超大群场景", {
                    callFunc: "msg::deleteMsgSelf"
                }), e);
                o.verifyOptions(t, [ "scene", "to", "from", "time", "idClient", "idServer" ], !0, "msg.", "msg::deleteMsgSelf"), 
                o.verifyParamValid("msg.scene", t.scene, this.message.validScenes, "msg::deleteMsgSelf"), 
                this.processCallback(e);
                var n = {
                    scene: "p2p" === t.scene ? 1 : 2,
                    from: t.from,
                    to: t.to,
                    time: t.time,
                    idClient: t.idClient,
                    idServer: t.idServer,
                    custom: e.custom
                };
                this.sendCmd("deleteMsgSelf", {
                    deleteMsgSelfTag: n
                }, e.callback);
            }, r.deleteMsgSelfBatch = function(e) {
                var t = this;
                if (o.verifyOptions(e, "msgs", "msg::deleteMsgSelfBatch"), (!Array.isArray(e.msgs) || 0 === e.msgs.length || e.msgs.length > 100) && o.onParamError("msgs应该是数组且数据长度应大于0小于等于100", "msg::deleteMsgSelfBatch"), 
                e.msgs.some(function(e) {
                    return "superTeam" === e.scene;
                })) return e.done(l.newParamError("消息列表中存在超大群消息，单向删除暂不支持超大群场景", {
                    callFunc: "msg::deleteMsgSelfBatch"
                }), e);
                e.msgs.forEach(function(e) {
                    o.verifyOptions(e, [ "scene", "to", "from", "time", "idClient", "idServer" ], !0, "msg.", "msg::deleteMsgSelfBatch"), 
                    o.verifyParamValid("msg.scene", e.scene, t.message.validScenes, "msg::deleteMsgSelfBatch");
                }), this.processCallback(e);
                var n = e.msgs.map(function(t) {
                    return {
                        scene: "p2p" === t.scene ? 1 : 2,
                        from: t.from,
                        to: t.to,
                        time: t.time,
                        idClient: t.idClient,
                        idServer: t.idServer,
                        sessionId: t.sessionId || "".concat(t.scene, "-").concat(t.to),
                        custom: e.custom
                    };
                });
                this.sendCmd("deleteMsgSelfBatch", {
                    deleteMsgSelfTags: n
                }, e.callback);
            };
            var d = {
                text: 0,
                image: 1,
                audio: 2,
                video: 3,
                geo: 4,
                notification: 5,
                file: 6,
                tip: 10,
                robot: 11,
                custom: 100
            };
            r.getHistoryMsgs = function(e) {
                o.verifyOptions(e, "scene to", "msg::getHistoryMsgs"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "msg::getHistoryMsgs"), 
                void 0 === e.beginTime && (e.beginTime = 0);
                var t, n = this.protocol.findSession(e.scene + "-" + e.to), r = n && n.lastEmptyTime;
                switch (r > e.beginTime && (e.beginTime = r), o.verifyParamType("beginTime", e.beginTime, "number", "msg::getHistoryMsgs"), 
                void 0 === e.endTime && (e.endTime = 0), o.verifyParamType("endTime", e.endTime, "number", "msg::getHistoryMsgs"), 
                e.lastMsgId = e.lastMsgId && +e.lastMsgId ? e.lastMsgId : "0", void 0 === e.limit && (e.limit = 100), 
                o.verifyParamType("limit", e.limit, "number", "msg::getHistoryMsgs"), o.verifyParamMax("limit", e.limit, 100, "msg::getHistoryMsgs"), 
                a(e.reverse) ? o.verifyParamType("reverse", e.reverse, "boolean", "msg::getHistoryMsgs") : e.reverse = !1, 
                a(e.asc) ? o.verifyParamType("asc", e.asc, "boolean", "msg::getHistoryMsgs") : e.asc = !1, 
                i(e.msgTypes) ? e.msgTypes = [] : Array.isArray(e.msgTypes) ? (e.msgTypes = e.msgTypes.map(function(e) {
                    return d[e];
                }), e.msgTypes = e.msgTypes.filter(function(e) {
                    return "number" == typeof e;
                })) : "number" == typeof d[e.msgTypes] ? e.msgTypes = [ d[e.msgTypes] ] : e.msgTypes = [], 
                this.processCallback(e), e.asc && (e.cbaop = function(e, t) {
                    e || (t.msgs = t.msgs.reverse());
                }), e.scene) {
                  case "p2p":
                    t = "getHistoryMsgs";
                    break;

                  case "team":
                    t = "getTeamHistoryMsgs";
                    break;

                  case "superTeam":
                    t = "getSuperTeamHistoryMsgs";
                }
                var s = {
                    scene: e.scene,
                    to: e.to,
                    beginTime: e.beginTime,
                    endTime: e.endTime,
                    lastMsgId: e.lastMsgId,
                    limit: e.limit,
                    reverse: e.reverse,
                    msgTypes: e.msgTypes
                };
                this.sendCmd(t, s, e.callback);
            }, r.searchHistoryMsgs = function(e) {
                o.verifyOptions(e, "scene to keyword", "msg::searchHistoryMsgs"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "msg::searchHistoryMsgs"), 
                void 0 === e.beginTime && (e.beginTime = 0);
                var t, n = this.protocol.findSession(e.scene + "-" + e.to), r = n && n.lastEmptyTime;
                switch (r > e.beginTime && (e.beginTime = r), o.verifyParamType("beginTime", e.beginTime, "number", "msg::searchHistoryMsgs"), 
                void 0 === e.endTime && (e.endTime = 0), o.verifyParamType("endTime", e.endTime, "number", "msg::searchHistoryMsgs"), 
                void 0 === e.limit && (e.limit = 100), o.verifyParamType("limit", e.limit, "number", "msg::searchHistoryMsgs"), 
                o.verifyParamMax("limit", e.limit, 100, "msg::searchHistoryMsgs"), a(e.reverse) ? o.verifyParamType("reverse", e.reverse, "boolean", "msg::searchHistoryMsgs") : e.reverse = !1, 
                a(e.asc) ? o.verifyParamType("asc", e.asc, "boolean", "msg::searchHistoryMsgs") : e.asc = !1, 
                this.processCallback(e), e.asc && (e.cbaop = function(e, t) {
                    e || (t.msgs = t.msgs.reverse());
                }), e.scene) {
                  case "p2p":
                    t = "searchHistoryMsgs";
                    break;

                  case "team":
                    t = "searchTeamHistoryMsgs";
                }
                var i = o.filterObj(e, "scene to beginTime endTime keyword limit reverse");
                this.sendCmd(t, i, e.callback);
            }, r.getLocalMsgs = function(e) {
                var t = this, n = t.db, r = [];
                o.verifyOptions(e);
                var s = !1;
                a(e.start) && (s = !0, o.verifyParamType("start", e.start, "number", "msg::getLocalMsgs"));
                var c = !1;
                if (a(e.end) && (c = !0, o.verifyParamType("end", e.end, "number", "msg::getLocalMsgs")), 
                s && c && e.end <= e.start && o.onParamError("参数 end 必须晚于 start"), a(e.subTypes) && o.verifyParamType("subTypes", e.subTypes, "array", "msg::getLocalMsgs"), 
                i(e.limit) && (e.limit = 100), o.verifyParamType("limit", e.limit, "number", "msg::getLocalMsgs"), 
                o.verifyParamMin("limit", e.limit, 1, "msg::getLocalMsgs"), t.processCallback(e), 
                n.enable) {
                    var u = new Date().getTime();
                    n.getMsgs(e).then(function(n) {
                        r = n, t.logger.info("api::getLocalMsgs: query db cost ".concat(new Date().getTime() - u, " ms and the conditions is ").concat(JSON.stringify(e))), 
                        l();
                    }, function(e) {
                        (e = e || {}).message = e.message || "msg::getLocalMsgs:db error", l();
                    });
                } else l();
                function l() {
                    var t = o.simpleClone(e);
                    t.msgs = r, delete t.callback, delete t.done, e.done(null, t);
                }
            }, r.getLocalMsgsInUnread = function(e) {
                var t = this;
                o.validate({
                    sessionId: {
                        type: "string",
                        allowEmpty: !1
                    }
                }, e), this.getLocalSession({
                    sessionId: e.sessionId,
                    done: function(n, r) {
                        n ? e.done && e.done(n) : r ? (r.ack = r.ack || 0, t.getLocalMsgs(_objectSpread({
                            sessionId: e.sessionId,
                            start: r.ack,
                            limit: Number.MAX_SAFE_INTEGER,
                            filterFunc: function(e) {
                                return "in" === e.flow && !0 === e.isUnreadable;
                            },
                            done: function() {}
                        }, e))) : e.done && e.done(new Error("session ".concat(e.sessionId, " not exist")));
                    }
                });
            }, r.getLocalMsgByIdClient = function(e) {
                var t = this.db, n = null, r = null;
                function i() {
                    e.msg = r, e.done(n, e);
                }
                o.verifyOptions(e, "idClient", "msg::getLocalMsgByIdClient"), this.processCallback(e), 
                t.enable ? t.getMsgByIdClient(e.idClient).then(function(e) {
                    e && (r = e), i();
                }, function(e) {
                    n = e, i();
                }) : (this.logger.warn("because db is false,error is null"), i());
            }, r.getLocalMsgsByIdClients = function(e) {
                var t, n = this.db, r = [];
                function i() {
                    e.msgs = r, e.done(t, e);
                }
                o.verifyOptions(e, "idClients", "msg::getLocalMsgByIdClients"), o.verifyParamType("idClients", e.idClients, "array", "msg::getLocalMsgByIdClients"), 
                this.processCallback(e), n.enable ? n.getMsgsByIdClients(e.idClients).then(function(e) {
                    r = e.filter(function(e) {
                        return !!e;
                    }), i();
                }, function(e) {
                    t = e, i();
                }) : i();
            }, r.updateLocalMsg = function(e) {
                var t, n = this.db, r = null;
                if (o.verifyOptions(e, "idClient", "msg::updateLocalMsg"), this.processCallback(e), 
                n.enable) {
                    var i = o.filterObj(e, "idClient localCustom");
                    n.updateMsg(i).then(function(e) {
                        r = e, a();
                    }, function(e) {
                        t = e, a();
                    });
                } else a();
                function a() {
                    e.msg = r, e.done(t, e);
                }
            }, r.deleteLocalMsg = function(e) {
                var t;
                o.verifyOptions(e, "msg", "msg::deleteLocalMsg");
                var n = e.msg;
                function r() {
                    e.done(t, e);
                }
                o.verifyOptions(n, "idClient sessionId", !0, "msg.", "msg::deleteLocalMsg"), this.processCallback(e), 
                this.protocol.deleteLocalMsg(n).then(r, function(e) {
                    t = e, r();
                });
            }, r.deleteLocalMsgsBySession = function(e) {
                var t, n = this, r = n.db;
                o.verifyOptions(e, "scene to", "msg::deleteLocalMsgsBySession"), o.verifyParamValid("scene", e.scene, n.message.validScenes, "msg::deleteLocalMsgsBySession"), 
                e.sessionId = e.scene + "-" + e.to, e.delLastMsg = !0 === e.delLastMsg, e.isTag = !0 === e.isTag;
                var i = new Date().getTime();
                function a() {
                    e.done(t, e);
                }
                n.processCallback(e);
                var s = {
                    id: e.sessionId
                };
                e.delLastMsg && (s.lastMsg = null), e.isTag && (s.lastEmptyTime = i), r.enable ? r.deleteMsgsBySessionId(e).then(function() {
                    e.delLastMsg || e.isTag ? r.updateSession(s).then(function(t) {
                        n.protocol.onUpdateSession(t), e.session = t, a();
                    }) : a();
                }).catch(function(e) {
                    t = e, a();
                }) : (this.logger.warn("because db is false,error is null"), a(), (e.delLastMsg || e.isTag) && n.protocol.onUpdateSession(s));
            }, r.deleteLocalMsgs = function(e) {
                var t, n = this, r = n.db, i = !1 !== e.updateSession;
                function s() {
                    e.done(t, e);
                }
                o.verifyOptions(e, "sessionId", "msg::deleteLocalMsgsBySession"), a(e.start) && o.verifyParamType("start", e.start, "number", "msg::deleteLocalMsgs"), 
                a(e.end) && o.verifyParamType("end", e.end, "number", "msg::deleteLocalMsgs"), a(e.end) && a(e.start) && e.end <= e.start && o.onParamError("参数 end 必须大于 start"), 
                n.processCallback(e), r.enable ? r.deleteMsgsBySessionId(e).then(function() {
                    s(), i && n.protocol.checkAndUpdateLocalSessionByMsg(e.sessionId);
                }, function(e) {
                    t = e, s();
                }) : (this.logger.warn("because db is false,error is null"), s());
            }, r.deleteAllLocalMsgs = function(e) {
                var t, n = this.db;
                function r() {
                    e.done(t, e);
                }
                this.processCallback(e), this.protocol.sessionSet = {}, n.enable ? n.deleteAllMsgs().then(function() {
                    r();
                }, function(e) {
                    t = e, r();
                }) : (this.logger.warn("because db is false,error is null"), r());
            }, r.saveMsgsToLocal = function(e) {
                this.db.enable || (this.logger.warn("because db is false,error is null"), e.done(null, [])), 
                o.verifyOptions(e, "msgs done", "msg::saveMsgsToLocal"), o.verifyParamType("msgs", e.msgs, "Array", "msg::saveMsgsToLocal"), 
                this.db.putMsg(e.msgs).then(function(t, n) {
                    n ? e.done(n) : e.done(null, t);
                });
            }, r.clearServerHistoryMsgs = function(e) {
                o.verifyOptions(e, "account", "msg::clearServerHistoryMsgs");
                var t = !1 !== e.delRoam;
                this.processCallback(e), this.sendCmd("clearServerHistoryMsgs", {
                    clearMsgsParams: {
                        account: e.account,
                        delRoam: t ? 1 : 0
                    }
                }, e.callback);
            }, r.clearServerHistoryMsgsWithSync = function(e) {
                o.verifyOptions(e, "scene to", "msg::clearServerHistoryMsgsWithSync");
                var t = {
                    type: "team" === e.scene ? 2 : 1,
                    isDeleteRoam: 1,
                    isSyncSelf: !0 === e.isSyncSelf ? 1 : 0
                };
                t[2 === t.type ? "toTid" : "otherAccid"] = e.to, void 0 !== e.ext && (t.ext = e.ext), 
                this.processCallback(e), this.sendCmd("clearServerHistoryMsgsWithSync", {
                    clearMsgsParamsWithSync: t
                }, e.callback);
            }, r.msgFtsInServer = function(e) {
                this.processCallback(e), e.callback, e.done;
                var t = _objectWithoutProperties(e, _excluded5);
                o.validate({
                    keyword: {
                        type: "string"
                    },
                    fromTime: {
                        type: "number",
                        required: !1
                    },
                    toTime: {
                        type: "number",
                        required: !1
                    },
                    sessionLimit: {
                        type: "number",
                        min: 0,
                        required: !1
                    },
                    msgLimit: {
                        type: "number",
                        min: 0,
                        required: !1
                    },
                    order: {
                        type: "enum",
                        values: [ "ASC", "DESC" ],
                        required: !1
                    },
                    p2pList: {
                        type: "array",
                        required: !1
                    },
                    teamList: {
                        type: "array",
                        required: !1
                    },
                    senderList: {
                        type: "array",
                        required: !1
                    },
                    msgTypeList: {
                        type: "array",
                        required: !1
                    },
                    msgSubTypeList: {
                        type: "array",
                        required: !1
                    }
                }, t, "msg::msgFtsInServer"), a(t.toTime) && a(t.fromTime) && t.toTime < t.fromTime && o.onParamError("Options error: toTime should be greater than fromTime");
                var n = {
                    ASC: 1,
                    DESC: 2
                };
                t.order && n[t.order] && (t.order = n[t.order]), t.msgTypeList && (t.msgTypeList = t.msgTypeList.map(function(e) {
                    return d[e];
                })), [ "p2pList", "teamList", "senderList", "msgTypeList", "msgSubTypeList" ].forEach(function(e) {
                    Array.isArray(t[e]) && (t[e] = t[e].join(","));
                }), this.sendCmd("msgFtsInServer", {
                    msgFullSearchRequestTag: t
                }, e.callback);
            }, r.msgFtsInServerByTiming = function(e) {
                this.processCallback(e), e.callback, e.done;
                var t = _objectWithoutProperties(e, _excluded6);
                o.validate({
                    keyword: {
                        type: "string"
                    },
                    fromTime: {
                        type: "number",
                        required: !1
                    },
                    toTime: {
                        type: "number",
                        required: !1
                    },
                    msgLimit: {
                        type: "number",
                        min: 0,
                        required: !1
                    },
                    order: {
                        type: "enum",
                        values: [ "ASC", "DESC" ],
                        required: !1
                    },
                    p2pList: {
                        type: "array",
                        required: !1
                    },
                    teamList: {
                        type: "array",
                        required: !1
                    },
                    senderList: {
                        type: "array",
                        required: !1
                    },
                    msgTypeList: {
                        type: "array",
                        required: !1
                    },
                    msgSubTypeList: {
                        type: "array",
                        required: !1
                    }
                }, t, "msg::msgFtsInServerByTimeSort"), a(t.toTime) && a(t.fromTime) && t.toTime < t.fromTime && o.onParamError("Options error: toTime should be greater than fromTime");
                var n = {
                    ASC: 1,
                    DESC: 2
                };
                void 0 === t.msgLimit && (t.msgLimit = 20), t.order && n[t.order] && (t.order = n[t.order]), 
                t.msgTypeList && (t.msgTypeList = t.msgTypeList.map(function(e) {
                    return d[e];
                })), [ "p2pList", "teamList", "senderList", "msgTypeList", "msgSubTypeList" ].forEach(function(e) {
                    Array.isArray(t[e]) && (t[e] = t[e].join(","));
                }), this.sendCmd("msgFtsInServerByTiming", {
                    msgTimingFullSearchRequestTag: t
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = n(94), a = n(95), s = o.notundef;
            function c(e, t, n, r) {
                n = n || "", o.verifyParamType(n + "from", e.from, "string", t), o.verifyParamType(n + "to", e.to, "string", t), 
                o.verifyParamType(n + "idServer", e.idServer, "string", t), o.verifyParamType(n + "time", e.time, "number", t), 
                o.verifyParamValid(n + "scene", e.scene, this.message.validScenes, t), r || o.verifyParamType(n + "idClient", e.idClient, "string", t);
            }
            r.getThreadMsgs = function(e) {
                o.verifyCallback(e, "done", "msg::getThreadMsgs"), o.verifyOptions(e, "scene threadMsgFromAccount threadMsgToAccount threadMsgIdServer threadMsgTime", "msg::getThreadMsgs"), 
                o.verifyParamType("threadMsgFromAccount", e.threadMsgFromAccount, "string", "msg::getThreadMsgs"), 
                o.verifyParamType("threadMsgToAccount", e.threadMsgToAccount, "string", "msg::getThreadMsgs"), 
                o.verifyParamType("threadMsgIdServer", e.threadMsgIdServer, "string", "msg::getThreadMsgs"), 
                o.verifyParamType("threadMsgTime", e.threadMsgTime, "number", "msg::getThreadMsgs"), 
                o.verifyParamValid("scene", e.scene, this.message.validScenes, "msg::getThreadMsgs"), 
                this.processCallback(e);
                var t = {
                    scene: this.message.sceneMap[e.scene],
                    from: e.threadMsgFromAccount,
                    to: e.threadMsgToAccount,
                    time: e.threadMsgTime,
                    idServer: e.threadMsgIdServer
                }, n = {
                    limit: e.limit < 100 ? e.limit : 100,
                    beginTime: "number" == typeof e.beginTime ? e.beginTime : 0,
                    reverse: !0 === e.reverse ? 1 : 0
                };
                e.endTime && e.endTime <= n.beginTime && o.onParamError("endTime应该大于beginTime", "msg::getThreadMsgs"), 
                e.lastMsgId && (n.lastMsgId = e.lastMsgId), this.sendCmd("getThreadMsgs", {
                    msg: t,
                    threadMsgReq: n,
                    NOTSTORE: "msg threadMsgReq"
                }, e.callback);
            }, r.getMsgsByIdServer = function(e) {
                var t = this, n = this, r = "msg::getMsgsByIdServer";
                o.verifyCallback(e, "done", r), (!Array.isArray(e.reqMsgs) || 0 === e.reqMsgs.length || e.reqMsgs.length > 100) && o.onParamError("reqMsgs应该是数组且数据长度应大于0小于等于100", r), 
                e.reqMsgs = e.reqMsgs.slice(0), e.reqMsgs.forEach(function(e, o) {
                    c.call(n, e, r, "reqMsgs[".concat(o, "]."), !0), e.scene = t.message.sceneMap[e.scene];
                }), this.processCallback(e), this.sendCmd("getMsgsByIdServer", {
                    reqMsgs: e.reqMsgs
                }, e.callback);
            }, r.addQuickComment = function(e) {
                o.verifyOptions(e, "msg body", "msg::addQuickComment"), c.call(this, e.msg, "msg::addQuickComment");
                var t = new i(e, "msg::addQuickComment");
                t.from = this.account;
                var n = {
                    scene: this.message.sceneMap[e.msg.scene],
                    from: e.msg.from,
                    to: e.msg.to,
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    idClient: e.msg.idClient
                };
                this.processCallback(e), this.sendCmd("addQuickComment", {
                    msg: n,
                    comment: t
                }, e.callback);
            }, r.deleteQuickComment = function(e) {
                o.verifyOptions(e, "msg body", "msg::deleteQuickComment"), c.call(this, e.msg, "msg::deleteQuickComment");
                var t = new i(e, "msg::addQuickComment");
                t.from = this.account;
                var n = {
                    scene: this.message.sceneMap[e.msg.scene],
                    from: e.msg.from,
                    to: e.msg.to,
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    idClient: e.msg.idClient
                };
                this.processCallback(e), this.sendCmd("deleteQuickComment", {
                    msg: n,
                    comment: t
                }, e.callback);
            }, r.getQuickComments = function(e) {
                var t = this, n = "msg::getQuickComments", r = this, i = {}, a = {};
                o.verifyOptions(e, "msgs", "msg::getQuickComments"), (!Array.isArray(e.msgs) || 0 === e.msgs.length || e.msgs.length > 20) && o.onParamError("msgs应该是数组且数据长度应大于0小于等于20", n);
                var s = [];
                try {
                    s = JSON.parse(JSON.stringify(e.msgs));
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    o.onParamError("msgs 不是合法的对象", n);
                }
                s.forEach(function(e, o) {
                    c.call(r, e, n, "msgs[".concat(o, "]."), !0), e.scene = t.message.sceneMap[e.scene], 
                    i[e.idClient] = null, a[e.idClient] = o;
                }), this.processCallback(e), this.getLocalMsgsByIdClients({
                    idClients: Object.keys(i),
                    done: function(t, n) {
                        var o = r.protocol.timetags.sync;
                        !t && n.msgs && n.msgs.length && o && (n.msgs.forEach(function(e) {
                            i[e.idClient] = e;
                        }), s = s.filter(function(e) {
                            var t = i[e.idClient];
                            return !(t && (t.commentTimetag && (e.timestamp = t.commentTimetag), t.commentTimetag > o));
                        })), r.sendCmd("getQuickComments", {
                            commentReq: s,
                            idMap: i,
                            indexMap: a
                        }, e.callback);
                    }
                });
            }, r.addCollect = function(e) {
                o.verifyOptions(e, "type data", "msg::addCollect");
                var t = new a(e, "msg::addCollect");
                this.processCallback(e), this.sendCmd("addCollect", {
                    collect: t
                }, e.callback);
            }, r.deleteCollects = function(e) {
                o.verifyOptions(e, "collectList", "msg::deleteCollects"), (!Array.isArray(e.collectList) || 0 === e.collectList.length || e.collectList.length > 100) && o.onParamError("collectList应该是数组且数据长度应大于0小于等于100", "msg::deleteCollects"), 
                e.collectList.forEach(function(e, t) {
                    o.verifyParamType("collectList[".concat(t, "].id"), e.id, "string", "msg::deleteCollects"), 
                    o.verifyParamType("collectList[".concat(t, "].createTime"), e.createTime, "number", "msg::deleteCollects");
                }), this.processCallback(e), this.sendCmd("deleteCollects", {
                    collectList: e.collectList
                }, e.callback);
            }, r.updateCollect = function(e) {
                o.verifyOptions(e, "collect", "msg::updateCollect"), o.verifyParamType("collect.id", e.collect.id, "string", "msg::updateCollect"), 
                o.verifyParamType("collect.createTime", e.collect.createTime, "number", "msg::updateCollect"), 
                this.processCallback(e), this.sendCmd("updateCollect", {
                    collect: e.collect
                }, e.callback);
            }, r.getCollects = function(e) {
                o.verifyCallback(e, "done", "msg::getCollects");
                var t = {};
                [ "type", "beginTime", "endTime", "limit" ].forEach(function(n) {
                    s(e[n]) && (o.verifyParamType(n, e[n], "number", "msg::getCollects"), t[n] = e[n]);
                }), e.limit > 100 && o.onParamError("limit不能大于100", "msg::getCollects"), e.beginTime > e.endTime && o.onParamError("beginTime不能大于endTime", "msg::getCollects"), 
                s(e.lastId) && (o.verifyParamType("lastId", e.lastId, "string", "msg::getCollects"), 
                t.lastId = e.lastId), s(e.reverse) && (t.reverse = !0 === e.reverse), this.processCallback(e), 
                this.sendCmd("getCollects", {
                    collectQuery: t,
                    NOTSTORE: "collectQuery"
                }, e.callback);
            }, r.addStickTopSession = function(e) {
                o.verifyOptions(e, "id", "msg::addStickTopSession");
                var t = o.getIdArray(e.id);
                o.verifyParamValid("id的前半部分", t[0], this.message.validScenes, "msg::addStickTopSession"), 
                o.verifyParamType("id的后半部分", t[1], "string", "msg::addStickTopSession"), "superTeam" === t[0] && (t[0] = "super_team");
                var n = {
                    id: t = t.join("|")
                };
                e.topCustom && (o.verifyParamType("topCustom", e.topCustom, "string", "msg::addStickTopSession"), 
                n.topCustom = e.topCustom), this.processCallback(e), this.sendCmd("addStickTopSession", {
                    stickTopSession: n
                }, e.callback);
            }, r.deleteStickTopSession = function(e) {
                o.verifyOptions(e, "id", "msg::deleteStickTopSession");
                var t = o.getIdArray(e.id);
                o.verifyParamValid("id的前半部分", t[0], this.message.validScenes, "msg::deleteStickTopSession"), 
                o.verifyParamType("id的后半部分", t[1], "string", "msg::deleteStickTopSession"), "superTeam" === t[0] && (t[0] = "super_team"), 
                t = t.join("|"), this.processCallback(e), this.sendCmd("deleteStickTopSession", {
                    stickTopSession: {
                        id: t
                    }
                }, e.callback);
            }, r.updateStickTopSession = function(e) {
                o.verifyOptions(e, "id", "msg::updateStickTopSession");
                var t = o.getIdArray(e.id);
                o.verifyParamValid("id的前半部分", t[0], this.message.validScenes, "msg::updateStickTopSession"), 
                o.verifyParamType("id的后半部分", t[1], "string", "msg::updateStickTopSession"), "superTeam" === t[0] && (t[0] = "super_team");
                var n = {
                    id: t = t.join("|")
                };
                e.topCustom && (o.verifyParamType("topCustom", e.topCustom, "string", "msg::updateStickTopSession"), 
                n.topCustom = e.topCustom), this.processCallback(e), this.sendCmd("updateStickTopSession", {
                    stickTopSession: n
                }, e.callback);
            }, r.getStickTopSessions = function(e) {
                o.verifyOptions(e, "done", "msg::getStickTopSessions"), this.processCallback(e);
                var t, n = this.protocol.sessionSet, r = [];
                for (var i in n) (t = this.protocol.findSession(i, e.findDelete)) && t.isTop && r.push(n[i]);
                e.callback(null, r);
            }, r.addMsgPin = function(e) {
                o.verifyOptions(e, "msg", "msg::addMsgPin"), c.call(this, e.msg, "msg::addMsgPin");
                var t = {
                    pinFrom: this.account
                };
                s(e.pinCustom) && (o.verifyParamType("pinCustom", e.pinCustom, "string", "msg::addMsgPin"), 
                t.pinCustom = e.pinCustom);
                var n = {
                    scene: this.message.sceneMap[e.msg.scene],
                    from: e.msg.from,
                    to: e.msg.to,
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    idClient: e.msg.idClient
                };
                this.processCallback(e), this.sendCmd("addMsgPin", {
                    msg: n,
                    pinTag: t
                }, e.callback);
            }, r.updateMsgPin = function(e) {
                o.verifyOptions(e, "msg", "msg::updateMsgPin"), c.call(this, e.msg, "msg::updateMsgPin");
                var t = {
                    pinFrom: this.account
                };
                s(e.pinCustom) && (o.verifyParamType("pinCustom", e.pinCustom, "string", "msg::updateMsgPin"), 
                t.pinCustom = e.pinCustom);
                var n = {
                    scene: this.message.sceneMap[e.msg.scene],
                    from: e.msg.from,
                    to: e.msg.to,
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    idClient: e.msg.idClient
                };
                this.processCallback(e), this.sendCmd("updateMsgPin", {
                    msg: n,
                    pinTag: t
                }, e.callback);
            }, r.deleteMsgPin = function(e) {
                o.verifyOptions(e, "msg", "msg::deleteMsgPin"), c.call(this, e.msg, "msg::deleteMsgPin");
                var t = {
                    pinFrom: this.account
                }, n = {
                    scene: this.message.sceneMap[e.msg.scene],
                    from: e.msg.from,
                    to: e.msg.to,
                    time: e.msg.time,
                    idServer: e.msg.idServer,
                    idClient: e.msg.idClient
                };
                this.processCallback(e), this.sendCmd("deleteMsgPin", {
                    msg: n,
                    pinTag: t
                }, e.callback);
            }, r.getMsgPins = function(e) {
                var t = this;
                o.verifyOptions(e, "id", "msg::getMsgPins");
                var n = this.db, r = o.getIdArray(e.id);
                o.verifyParamValid("id的前半部分", r[0], this.message.validScenes, "msg::getMsgPins"), 
                o.verifyParamType("id的后半部分", r[1], "string", "msg::getMsgPins"), "superTeam" === r[0] && (r[0] = "super_team");
                var i = {
                    sessionId: r = r.join("|"),
                    timetag: 0
                };
                if (this.processCallback(e), n.enable) {
                    var a = this.protocol.timetags.sync;
                    n.getTimetag("pin-" + e.id).then(function(r) {
                        r > a ? n.getMsgPins(e.id).then(function(t) {
                            return e.callback(null, {
                                pins: t || []
                            });
                        }).catch(function(t) {
                            return e.callback(t);
                        }) : (i.timetag = r, s.call(t));
                    });
                } else s.call(this);
                function s() {
                    this.sendCmd("getMsgPins", {
                        msgPinReq: i,
                        id: e.id,
                        NOTSTORE: "msgPinReq"
                    }, e.callback);
                }
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = o.undef, a = o.notundef, s = n(21);
            r.markSysMsgRead = function(e) {
                var t, n = this.db, r = Promise.resolve(), i = this.protocol;
                o.verifyOptions(e, "sysMsgs", "sysmsg::markSysMsgRead");
                var a = e.sysMsgs;
                function s() {
                    e.done(t, e);
                }
                o.isArray(a) || (a = [ a ]), n.enable ? r = n.markSysMsgRead(a).then(function(e) {
                    a = e, i.onUpdateSysMsg(e);
                }) : (a = a.filter(function(e) {
                    return !e.read;
                })).length && (i.options.autoMarkRead || i.markSysMsgRead(a, !0), a.forEach(function(e) {
                    e.read = !0;
                }), i.onUpdateSysMsg(a)), r.then(function() {
                    return i.reduceSysMsgUnread(a);
                }).then(s, function(e) {
                    t = e, s();
                });
            }, r.sendCustomSysMsg = function(e) {
                o.verifyOptions(e, "scene to content", "sysmsg::sendCustomSysMsg"), o.verifyParamValid("scene", e.scene, this.message.validScenes, "sysmsg::sendCustomSysMsg"), 
                this.processCallback(e);
                var t = "sendCustomSysMsg";
                return "p2p" === e.scene ? e.type = "customP2p" : "superTeam" === e.scene ? (e.type = "customSuperTeam", 
                t = "sendSuperTeamCustomSysMsg") : e.type = "customTeam", e.sysMsg = new s(e), e.filter && (t = "sendFilterCustomSysMsg"), 
                this.sendCmd(t, {
                    sysMsg: e.sysMsg,
                    single: !0
                }, e.callback), this.formatReturnSysMsg(e.sysMsg);
            }, r.formatReturnSysMsg = function(e) {
                return e = o.copy(e), this.protocol.completeSysMsg(e), e.status = "sending", s.reverse(e);
            }, r.getLocalSysMsgs = function(e) {
                var t, n = this.db, r = [];
                function c() {
                    e.sysMsgs = r, e.done(t, e);
                }
                o.verifyOptions(e), e.category && o.verifyParamValid("category", e.category, s.validCategories, "sysmsg::getLocalSysMsgs"), 
                e.type && o.verifyParamValid("type", e.type, s.validTypes, "sysmsg::getLocalSysMsgs"), 
                i(e.limit) && (e.limit = 100), o.verifyParamType("limit", e.limit, "number", "sysmsg::getLocalSysMsgs"), 
                o.verifyParamMax("limit", e.limit, 100, "sysmsg::getLocalSysMsgs"), a(e.reverse) ? o.verifyParamType("reverse", e.reverse, "boolean", "sysmsg::getLocalSysMsgs") : e.reverse = !1, 
                this.processCallback(e), n.enable ? n.getSysMsgs(e).then(function(e) {
                    r = e, c();
                }, function(e) {
                    t = e, c();
                }) : c();
            }, r.updateLocalSysMsg = function(e) {
                var t, n = this.db, r = null;
                if (o.verifyOptions(e, "idServer", "sysmsg::updateLocalSysMsg"), this.processCallback(e), 
                n.enable) {
                    var i = o.filterObj(e, "idServer state localCustom");
                    n.updateSysMsg(i).then(function(e) {
                        r = e, a();
                    }, function(e) {
                        t = e, a();
                    });
                } else a();
                function a() {
                    e.sysMsg = r, e.done(t, e);
                }
            }, r.deleteLocalSysMsg = function(e) {
                var t, n = this.db;
                function r() {
                    e.done(t, e);
                }
                o.verifyOptions(e, "idServer", "sysmsg::deleteLocalSysMsg"), this.processCallback(e), 
                n.enable ? n.deleteSysMsg(e.idServer).then(function() {
                    r();
                }, function(e) {
                    t = e, r();
                }) : r();
            }, r.deleteAllLocalSysMsgs = function(e) {
                var t, n = this, r = n.db;
                function o() {
                    n.protocol.onUpdateSysMsgUnread({}), e.done(t, e);
                }
                n.processCallback(e), r.enable && r.deleteAllSysMsgs().then(function() {
                    o();
                }, function(e) {
                    t = e, o();
                });
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = n(1);
            r.getChatroomAddress = function(e) {
                o.verifyOptions(e, "chatroomId", "chatroom::getChatroomAddress"), e.isWeixinApp = i.isWeixinApp, 
                e.type = i.ipVersion, this.processCallback(e), this.sendCmd("getChatroomAddress", e);
            };
        }, function(e, t) {}, function(e, t) {}, function(e, t, n) {
            var r = n(3).fn, o = n(0);
            r.audioToText = function(e) {
                o.verifyOptions(e, "url", "audio::audioToText"), e.audioToText = o.filterObj(e, "url"), 
                this.processCallback(e), this.sendCmd("audioToText", e);
            };
        }, function(e, t, n) {
            var r = n(3).fn;
            r.clearDB = function(e) {
                var t = this.db;
                this.processCallback(e);
                var n = e.done;
                t.enable ? t.clear().then(n, n) : n();
            }, r.removeDB = function(e) {
                var t = this.db;
                this.processCallback(e);
                var n = e.done;
                t.enable ? t.destroy().then(n, n) : n();
            }, r.closeDB = function(e) {
                var t = this.db;
                this.processCallback(e);
                var n = e.done;
                t.enable ? t.close().then(n, n) : n();
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(52), i = n(0), a = i.undef;
            r.getPushNotificationMultiportConfig = function() {
                return this.protocol.getPushNotificationMultiportConfig();
            }, r.updatePushNotificationMultiportConfig = function(e) {
                i.verifyOptions(e), a(e.shouldPushNotificationWhenPCOnline) && (e.shouldPushNotificationWhenPCOnline = !0), 
                e.donnop = new o(e), this.processCallback(e), this.sendCmd("updateDonnop", e);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0), i = n(173), a = n(174);
            function s(e) {
                return "object" == _typeof(e) && (e.msgEventSubscribes ? e = e.msgEventSubscribes : e.msgEventSubscribe ? e = e.msgEventSubscribe : e.accounts ? e = e.accounts : e.msgEvent && (e = e.msgEvent).time && (e.time = +e.time), 
                1 === e.sync ? e.sync = !0 : 0 === e.sync && (e.sync = !1)), e;
            }
            r.batchSendEventsCmds = function(e, t, n) {
                var r = this, i = o.dropArrayDuplicates(t.accounts);
                i = o.reshape2d(i, 100);
                var a = [];
                i.forEach(function(n) {
                    a.push(new Promise(function(i, a) {
                        var c = o.simpleClone(t);
                        c.accounts = n, r.sendCmdWithResp(e, c, function(e, t) {
                            e ? a(e) : i(s(t));
                        });
                    }));
                }), Promise.all(a).then(function(e) {
                    var t = null;
                    if (e.length > 0) if (e[0].msgEventSubscribe) {
                        var r = e[0].msgEventSubscribe;
                        r = s(r);
                        var o = [];
                        e.forEach(function(e) {
                            o = o.concat(e.accounts);
                        }), t = {
                            accounts: o,
                            msgEventSubscribe: r
                        };
                    } else t = [], e.forEach(function(e) {
                        t = t.concat(e);
                    });
                    n(null, t);
                }, function(e) {
                    n(e, null);
                });
            }, r.publishEvent = function(e) {
                var t = new i(e);
                t = t.assembleEvent(), this.processCallback(e), this.sendCmdWithResp("publishEvent", {
                    msgEvent: t
                }, function(t, n) {
                    t || (n = s(n)), e.callback(t, n);
                });
            }, r.subscribeEvent = function(e) {
                o.verifyOptions(e, "accounts", "event::subscribeEvent");
                var t = new a(e);
                o.verifyParamType("accounts", e.accounts, "array", "event::subscribeEvent"), this.processCallback(e), 
                t = t.assembleEvent(), this.batchSendEventsCmds("subscribeEvent", {
                    msgEventSubscribe: t,
                    accounts: e.accounts
                }, function(t, n) {
                    !t && n && (n = {
                        failedAccounts: n
                    }), e.callback(t, n);
                });
            }, r.unSubscribeEventsByAccounts = function(e) {
                o.verifyOptions(e, "accounts", "event::unSubscribeEventsByAccounts"), o.verifyParamType("accounts", e.accounts, "array", "event::unSubscribeEventsByAccounts");
                var t = new a(e);
                t = t.assembleEvent(), this.processCallback(e), this.batchSendEventsCmds("unSubscribeEventsByAccounts", {
                    msgEventSubscribe: t,
                    accounts: e.accounts
                }, function(t, n) {
                    !t && n && (n = {
                        failedAccounts: n
                    }), e.callback(t, n);
                });
            }, r.unSubscribeEventsByType = function(e) {
                var t = new a(e);
                t = t.assembleEvent(), this.processCallback(e), this.sendCmdWithResp("unSubscribeEventsByType", {
                    msgEventSubscribe: t
                }, function(t, n) {
                    e.callback(t);
                });
            }, r.querySubscribeEventsByAccounts = function(e) {
                o.verifyOptions(e, "accounts", "event::querySubscribeEventsByAccounts"), o.verifyParamType("accounts", e.accounts, "array", "event::querySubscribeEventsByAccounts");
                var t = new a(e);
                t = t.assembleEvent(), this.processCallback(e), this.batchSendEventsCmds("querySubscribeEventsByAccounts", {
                    msgEventSubscribe: t,
                    accounts: e.accounts
                }, function(t, n) {
                    !t && n && (n = {
                        msgEventSubscribes: n
                    }), e.callback(t, n);
                });
            }, r.querySubscribeEventsByType = function(e) {
                var t = new a(e);
                t = t.assembleEvent(), this.processCallback(e), this.sendCmdWithResp("querySubscribeEventsByType", {
                    msgEventSubscribe: t
                }, function(t, n) {
                    t || (n = {
                        msgEventSubscribes: s(n)
                    }), e.callback(t, n);
                });
            };
        }, function(e, t, n) {
            var r = n(0), o = r.notundef, i = n(4);
            function a(e) {
                if (r.verifyOptions(e, "type value", "event::MsgEvent"), r.verifyParamType("type", e.type, "number", "event::MsgEvent"), 
                r.verifyParamType("value", e.value, "number", "event::MsgEvent"), this.type = e.type, 
                this.value = e.value, this.idClient = r.guid(), o(e.custom) && (this.custom = "" + e.custom), 
                this.validTime = e.validTime || 604800, r.verifyParamType("validTime", this.validTime, "number", "event::MsgEvent"), 
                r.verifyParamMin("validTime", this.validTime, 60, "event::MsgEvent"), r.verifyParamMax("validTime", this.validTime, 604800, "event::MsgEvent"), 
                o(e.broadcastType)) {
                    if (r.verifyParamType("broadcastType", e.broadcastType, "number", "event::MsgEvent"), 
                    [ 1, 2 ].indexOf(e.broadcastType) < 0) throw new i('参数错误"broadcastType":只能为1或2');
                    this.broadcastType = e.broadcastType;
                } else this.broadcastType = 2;
                o(e.sync) ? (r.verifyParamType("sync", e.sync, "boolean", "event::MsgEvent"), this.sync = e.sync) : this.sync = !1;
            }
            a.prototype.assembleEvent = function() {
                return {
                    type: this.type,
                    value: this.value,
                    idClient: this.idClient,
                    custom: this.custom || "",
                    validTime: this.validTime,
                    broadcastType: this.broadcastType,
                    sync: !0 === this.sync ? 1 : 0
                };
            }, e.exports = a;
        }, function(e, t, n) {
            var r = n(0), o = r.notundef;
            function i(e) {
                r.verifyOptions(e, "type", "event::MsgEventSubscribe"), r.verifyParamType("type", e.type, "number", "event::MsgEventSubscribe"), 
                r.findObjIndexInArray([ 1, 2, 3 ], e.type) < 0 && r.verifyParamMin("type", e.type, 1e5, "event::MsgEventSubscribe"), 
                this.type = e.type, o(e.subscribeTime) ? (r.verifyParamType("subscribeTime", e.subscribeTime, "number", "event::MsgEventSubscribe"), 
                r.verifyParamMin("subscribeTime", e.subscribeTime, 60, "event::MsgEventSubscribe"), 
                r.verifyParamMax("subscribeTime", e.subscribeTime, 2592e3, "event::MsgEventSubscribe"), 
                this.subscribeTime = e.subscribeTime) : this.subscribeTime = 2592e3, o(e.sync) ? (r.verifyParamType("sync", e.sync, "boolean", "event::MsgEventSubscribe"), 
                this.sync = e.sync) : this.sync = !0;
            }
            i.prototype.assembleEvent = function(e) {
                return {
                    type: this.type,
                    subscribeTime: this.subscribeTime,
                    sync: !0 === this.sync ? 1 : 0
                };
            }, e.exports = i;
        }, function(e, t, n) {
            var r = n(3).fn, o = n(0);
            r.httpRequestProxy = function(e) {
                o.verifyOptions(e, "path", "misc::httpRequestProxy");
                var t = Object.assign({}, e);
                delete t.done, this.processCallback(e), this.sendCmd("httpProxy", {
                    proxyTag: t
                }, e.callback);
            };
        }, function(e, t, n) {
            var r = n(3).fn, o = n(1);
            r.getQChatAddress = function(e) {
                this.processCallback(e), this.sendCmd("getQChatAddress", {
                    getQChatAddressTag: {
                        ipType: o.ipVersion
                    }
                }, e.done);
            };
        } ]);
    },
    b1e5: function(e, t, n) {
        var r = n("a994"), o = Object.prototype.hasOwnProperty;
        e.exports = function(e, t, n, i, a, s) {
            var c = 1 & n, u = r(e), l = u.length;
            if (l != r(t).length && !c) return !1;
            for (var d = l; d--; ) {
                var f = u[d];
                if (!(c ? f in t : o.call(t, f))) return !1;
            }
            var p = s.get(e), m = s.get(t);
            if (p && m) return p == t && m == e;
            var g = !0;
            s.set(e, t), s.set(t, e);
            for (var h = c; ++d < l; ) {
                var y = e[f = u[d]], v = t[f];
                if (i) var b = c ? i(v, y, f, t, e, s) : i(y, v, f, e, t, s);
                if (!(void 0 === b ? y === v || a(y, v, n, i, s) : b)) {
                    g = !1;
                    break;
                }
                h || (h = "constructor" == f);
            }
            if (g && !h) {
                var T = e.constructor, _ = t.constructor;
                T == _ || !("constructor" in e) || !("constructor" in t) || "function" == typeof T && T instanceof T && "function" == typeof _ && _ instanceof _ || (g = !1);
            }
            return s.delete(e), s.delete(t), g;
        };
    },
    b218: function(e, t) {
        e.exports = function(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991;
        };
    },
    b4b0: function(e, t, n) {
        var r = n("8d74"), o = n("1a8c"), i = n("ffd6"), a = /^[-+]0x[0-9a-f]+$/i, s = /^0b[01]+$/i, c = /^0o[0-7]+$/i, u = parseInt;
        e.exports = function(e) {
            if ("number" == typeof e) return e;
            if (i(e)) return NaN;
            if (o(e)) {
                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                e = o(t) ? t + "" : t;
            }
            if ("string" != typeof e) return 0 === e ? e : +e;
            e = r(e);
            var n = s.test(e);
            return n || c.test(e) ? u(e.slice(2), n ? 2 : 8) : a.test(e) ? NaN : +e;
        };
    },
    b4c0: function(e, t, n) {
        var r = n("cb5a");
        e.exports = function(e) {
            var t = this.__data__, n = r(t, e);
            return n < 0 ? void 0 : t[n][1];
        };
    },
    b5a7: function(e, t, n) {
        var r = n("0b07")(n("2b3e"), "DataView");
        e.exports = r;
    },
    b639: function(e, t, n) {
        (function(e) {
            var r = n("1fb5"), o = n("9152"), i = n("e3db");
            function a() {
                return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
            }
            function s(e, t) {
                if (a() < t) throw new RangeError("Invalid typed array length");
                return c.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = c.prototype : (null === e && (e = new c(t)), 
                e.length = t), e;
            }
            function c(e, t, n) {
                if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c)) return new c(e, t, n);
                if ("number" == typeof e) {
                    if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                    return d(this, e);
                }
                return u(this, e, t, n);
            }
            function u(e, t, n, r) {
                if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
                return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, r) {
                    if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
                    if (t.byteLength < n + (r || 0)) throw new RangeError("'length' is out of bounds");
                    return t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ? new Uint8Array(t, n) : new Uint8Array(t, n, r), 
                    c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = f(e, t), e;
                }(e, t, n, r) : "string" == typeof t ? function(e, t, n) {
                    if ("string" == typeof n && "" !== n || (n = "utf8"), !c.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
                    var r = 0 | m(t, n), o = (e = s(e, r)).write(t, n);
                    return o !== r && (e = e.slice(0, o)), e;
                }(e, t, n) : function(e, t) {
                    if (c.isBuffer(t)) {
                        var n = 0 | p(t.length);
                        return 0 === (e = s(e, n)).length || t.copy(e, 0, 0, n), e;
                    }
                    if (t) {
                        if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || function(e) {
                            return e != e;
                        }(t.length) ? s(e, 0) : f(e, t);
                        if ("Buffer" === t.type && i(t.data)) return f(e, t.data);
                    }
                    throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
                }(e, t);
            }
            function l(e) {
                if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
                if (e < 0) throw new RangeError('"size" argument must not be negative');
            }
            function d(e, t) {
                if (l(t), e = s(e, t < 0 ? 0 : 0 | p(t)), !c.TYPED_ARRAY_SUPPORT) for (var n = 0; n < t; ++n) e[n] = 0;
                return e;
            }
            function f(e, t) {
                var n = t.length < 0 ? 0 : 0 | p(t.length);
                e = s(e, n);
                for (var r = 0; r < n; r += 1) e[r] = 255 & t[r];
                return e;
            }
            function p(e) {
                if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
                return 0 | e;
            }
            function m(e, t) {
                if (c.isBuffer(e)) return e.length;
                if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
                "string" != typeof e && (e = "" + e);
                var n = e.length;
                if (0 === n) return 0;
                for (var r = !1; ;) switch (t) {
                  case "ascii":
                  case "latin1":
                  case "binary":
                    return n;

                  case "utf8":
                  case "utf-8":
                  case void 0:
                    return B(e).length;

                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return 2 * n;

                  case "hex":
                    return n >>> 1;

                  case "base64":
                    return V(e).length;

                  default:
                    if (r) return B(e).length;
                    t = ("" + t).toLowerCase(), r = !0;
                }
            }
            function g(e, t, n) {
                var r = !1;
                if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
                if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
                if ((n >>>= 0) <= (t >>>= 0)) return "";
                for (e || (e = "utf8"); ;) switch (e) {
                  case "hex":
                    return E(this, t, n);

                  case "utf8":
                  case "utf-8":
                    return A(this, t, n);

                  case "ascii":
                    return w(this, t, n);

                  case "latin1":
                  case "binary":
                    return O(this, t, n);

                  case "base64":
                    return P(this, t, n);

                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return I(this, t, n);

                  default:
                    if (r) throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(), r = !0;
                }
            }
            function h(e, t, n) {
                var r = e[t];
                e[t] = e[n], e[n] = r;
            }
            function y(e, t, n, r, o) {
                if (0 === e.length) return -1;
                if ("string" == typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), 
                n = +n, isNaN(n) && (n = o ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {
                    if (o) return -1;
                    n = e.length - 1;
                } else if (n < 0) {
                    if (!o) return -1;
                    n = 0;
                }
                if ("string" == typeof t && (t = c.from(t, r)), c.isBuffer(t)) return 0 === t.length ? -1 : v(e, t, n, r, o);
                if ("number" == typeof t) return t &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : v(e, [ t ], n, r, o);
                throw new TypeError("val must be string, number or Buffer");
            }
            function v(e, t, n, r, o) {
                var i, a = 1, s = e.length, c = t.length;
                if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) {
                    if (e.length < 2 || t.length < 2) return -1;
                    a = 2, s /= 2, c /= 2, n /= 2;
                }
                function u(e, t) {
                    return 1 === a ? e[t] : e.readUInt16BE(t * a);
                }
                if (o) {
                    var l = -1;
                    for (i = n; i < s; i++) if (u(e, i) === u(t, -1 === l ? 0 : i - l)) {
                        if (-1 === l && (l = i), i - l + 1 === c) return l * a;
                    } else -1 !== l && (i -= i - l), l = -1;
                } else for (n + c > s && (n = s - c), i = n; i >= 0; i--) {
                    for (var d = !0, f = 0; f < c; f++) if (u(e, i + f) !== u(t, f)) {
                        d = !1;
                        break;
                    }
                    if (d) return i;
                }
                return -1;
            }
            function b(e, t, n, r) {
                n = Number(n) || 0;
                var o = e.length - n;
                r ? (r = Number(r)) > o && (r = o) : r = o;
                var i = t.length;
                if (i % 2 != 0) throw new TypeError("Invalid hex string");
                r > i / 2 && (r = i / 2);
                for (var a = 0; a < r; ++a) {
                    var s = parseInt(t.substr(2 * a, 2), 16);
                    if (isNaN(s)) return a;
                    e[n + a] = s;
                }
                return a;
            }
            function T(e, t, n, r) {
                return q(B(t, e.length - n), e, n, r);
            }
            function _(e, t, n, r) {
                return q(function(e) {
                    for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
                    return t;
                }(t), e, n, r);
            }
            function S(e, t, n, r) {
                return _(e, t, n, r);
            }
            function k(e, t, n, r) {
                return q(V(t), e, n, r);
            }
            function M(e, t, n, r) {
                return q(function(e, t) {
                    for (var n, r, o, i = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) n = e.charCodeAt(a), 
                    r = n >> 8, o = n % 256, i.push(o), i.push(r);
                    return i;
                }(t, e.length - n), e, n, r);
            }
            function P(e, t, n) {
                return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(t, n));
            }
            function A(e, t, n) {
                n = Math.min(e.length, n);
                for (var r = [], o = t; o < n; ) {
                    var i, a, s, c, u = e[o], l = null, d = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                    if (o + d <= n) switch (d) {
                      case 1:
                        u < 128 && (l = u);
                        break;

                      case 2:
                        128 == (192 & (i = e[o + 1])) && ((c = (31 & u) << 6 | 63 & i) > 127 && (l = c));
                        break;

                      case 3:
                        i = e[o + 1], a = e[o + 2], 128 == (192 & i) && 128 == (192 & a) && ((c = (15 & u) << 12 | (63 & i) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (l = c));
                        break;

                      case 4:
                        i = e[o + 1], a = e[o + 2], s = e[o + 3], 128 == (192 & i) && 128 == (192 & a) && 128 == (192 & s) && ((c = (15 & u) << 18 | (63 & i) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (l = c));
                    }
                    null === l ? (l = 65533, d = 1) : l > 65535 && (l -= 65536, r.push(l >>> 10 & 1023 | 55296), 
                    l = 56320 | 1023 & l), r.push(l), o += d;
                }
                return function(e) {
                    var t = e.length;
                    if (t <= 4096) return String.fromCharCode.apply(String, e);
                    var n = "", r = 0;
                    for (;r < t; ) n += String.fromCharCode.apply(String, e.slice(r, r += 4096));
                    return n;
                }(r);
            }
            t.Buffer = c, t.SlowBuffer = function(e) {
                return +e != e && (e = 0), c.alloc(+e);
            }, t.INSPECT_MAX_BYTES = 50, c.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function() {
                try {
                    var e = new Uint8Array(1);
                    return e.__proto__ = {
                        __proto__: Uint8Array.prototype,
                        foo: function() {
                            return 42;
                        }
                    }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return !1;
                }
            }(), t.kMaxLength = a(), c.poolSize = 8192, c._augment = function(e) {
                return e.__proto__ = c.prototype, e;
            }, c.from = function(e, t, n) {
                return u(null, e, t, n);
            }, c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, 
            "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
                value: null,
                configurable: !0
            })), c.alloc = function(e, t, n) {
                return function(e, t, n, r) {
                    return l(t), t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof r ? s(e, t).fill(n, r) : s(e, t).fill(n) : s(e, t);
                }(null, e, t, n);
            }, c.allocUnsafe = function(e) {
                return d(null, e);
            }, c.allocUnsafeSlow = function(e) {
                return d(null, e);
            }, c.isBuffer = function(e) {
                return !(null == e || !e._isBuffer);
            }, c.compare = function(e, t) {
                if (!c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
                if (e === t) return 0;
                for (var n = e.length, r = t.length, o = 0, i = Math.min(n, r); o < i; ++o) if (e[o] !== t[o]) {
                    n = e[o], r = t[o];
                    break;
                }
                return n < r ? -1 : r < n ? 1 : 0;
            }, c.isEncoding = function(e) {
                switch (String(e).toLowerCase()) {
                  case "hex":
                  case "utf8":
                  case "utf-8":
                  case "ascii":
                  case "latin1":
                  case "binary":
                  case "base64":
                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return !0;

                  default:
                    return !1;
                }
            }, c.concat = function(e, t) {
                if (!i(e)) throw new TypeError('"list" argument must be an Array of Buffers');
                if (0 === e.length) return c.alloc(0);
                var n;
                if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
                var r = c.allocUnsafe(t), o = 0;
                for (n = 0; n < e.length; ++n) {
                    var a = e[n];
                    if (!c.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
                    a.copy(r, o), o += a.length;
                }
                return r;
            }, c.byteLength = m, c.prototype._isBuffer = !0, c.prototype.swap16 = function() {
                var e = this.length;
                if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
                for (var t = 0; t < e; t += 2) h(this, t, t + 1);
                return this;
            }, c.prototype.swap32 = function() {
                var e = this.length;
                if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
                for (var t = 0; t < e; t += 4) h(this, t, t + 3), h(this, t + 1, t + 2);
                return this;
            }, c.prototype.swap64 = function() {
                var e = this.length;
                if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
                for (var t = 0; t < e; t += 8) h(this, t, t + 7), h(this, t + 1, t + 6), h(this, t + 2, t + 5), 
                h(this, t + 3, t + 4);
                return this;
            }, c.prototype.toString = function() {
                var e = 0 | this.length;
                return 0 === e ? "" : 0 === arguments.length ? A(this, 0, e) : g.apply(this, arguments);
            }, c.prototype.equals = function(e) {
                if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                return this === e || 0 === c.compare(this, e);
            }, c.prototype.inspect = function() {
                var e = "", n = t.INSPECT_MAX_BYTES;
                return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "), 
                this.length > n && (e += " ... ")), "<Buffer " + e + ">";
            }, c.prototype.compare = function(e, t, n, r, o) {
                if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), 
                void 0 === o && (o = this.length), t < 0 || n > e.length || r < 0 || o > this.length) throw new RangeError("out of range index");
                if (r >= o && t >= n) return 0;
                if (r >= o) return -1;
                if (t >= n) return 1;
                if (this === e) return 0;
                for (var i = (o >>>= 0) - (r >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(i, a), u = this.slice(r, o), l = e.slice(t, n), d = 0; d < s; ++d) if (u[d] !== l[d]) {
                    i = u[d], a = l[d];
                    break;
                }
                return i < a ? -1 : a < i ? 1 : 0;
            }, c.prototype.includes = function(e, t, n) {
                return -1 !== this.indexOf(e, t, n);
            }, c.prototype.indexOf = function(e, t, n) {
                return y(this, e, t, n, !0);
            }, c.prototype.lastIndexOf = function(e, t, n) {
                return y(this, e, t, n, !1);
            }, c.prototype.write = function(e, t, n, r) {
                if (void 0 === t) r = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" == typeof t) r = t, 
                n = this.length, t = 0; else {
                    if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                    t |= 0, isFinite(n) ? (n |= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0);
                }
                var o = this.length - t;
                if ((void 0 === n || n > o) && (n = o), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
                r || (r = "utf8");
                for (var i = !1; ;) switch (r) {
                  case "hex":
                    return b(this, e, t, n);

                  case "utf8":
                  case "utf-8":
                    return T(this, e, t, n);

                  case "ascii":
                    return _(this, e, t, n);

                  case "latin1":
                  case "binary":
                    return S(this, e, t, n);

                  case "base64":
                    return k(this, e, t, n);

                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return M(this, e, t, n);

                  default:
                    if (i) throw new TypeError("Unknown encoding: " + r);
                    r = ("" + r).toLowerCase(), i = !0;
                }
            }, c.prototype.toJSON = function() {
                return {
                    type: "Buffer",
                    data: Array.prototype.slice.call(this._arr || this, 0)
                };
            };
            function w(e, t, n) {
                var r = "";
                n = Math.min(e.length, n);
                for (var o = t; o < n; ++o) r += String.fromCharCode(127 & e[o]);
                return r;
            }
            function O(e, t, n) {
                var r = "";
                n = Math.min(e.length, n);
                for (var o = t; o < n; ++o) r += String.fromCharCode(e[o]);
                return r;
            }
            function E(e, t, n) {
                var r = e.length;
                (!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r);
                for (var o = "", i = t; i < n; ++i) o += F(e[i]);
                return o;
            }
            function I(e, t, n) {
                for (var r = e.slice(t, n), o = "", i = 0; i < r.length; i += 2) o += String.fromCharCode(r[i] + 256 * r[i + 1]);
                return o;
            }
            function x(e, t, n) {
                if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
                if (e + t > n) throw new RangeError("Trying to access beyond buffer length");
            }
            function C(e, t, n, r, o, i) {
                if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
                if (t > o || t < i) throw new RangeError('"value" argument is out of bounds');
                if (n + r > e.length) throw new RangeError("Index out of range");
            }
            function R(e, t, n, r) {
                t < 0 && (t = 65535 + t + 1);
                for (var o = 0, i = Math.min(e.length - n, 2); o < i; ++o) e[n + o] = (t & 255 << 8 * (r ? o : 1 - o)) >>> 8 * (r ? o : 1 - o);
            }
            function j(e, t, n, r) {
                t < 0 && (t = 4294967295 + t + 1);
                for (var o = 0, i = Math.min(e.length - n, 4); o < i; ++o) e[n + o] = t >>> 8 * (r ? o : 3 - o) & 255;
            }
            function N(e, t, n, r, o, i) {
                if (n + r > e.length) throw new RangeError("Index out of range");
                if (n < 0) throw new RangeError("Index out of range");
            }
            function L(e, t, n, r, i) {
                return i || N(e, 0, n, 4), o.write(e, t, n, r, 23, 4), n + 4;
            }
            function U(e, t, n, r, i) {
                return i || N(e, 0, n, 8), o.write(e, t, n, r, 52, 8), n + 8;
            }
            c.prototype.slice = function(e, t) {
                var n, r = this.length;
                if ((e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), (t = void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), 
                t < e && (t = e), c.TYPED_ARRAY_SUPPORT) (n = this.subarray(e, t)).__proto__ = c.prototype; else {
                    var o = t - e;
                    n = new c(o, void 0);
                    for (var i = 0; i < o; ++i) n[i] = this[i + e];
                }
                return n;
            }, c.prototype.readUIntLE = function(e, t, n) {
                e |= 0, t |= 0, n || x(e, t, this.length);
                for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256); ) r += this[e + i] * o;
                return r;
            }, c.prototype.readUIntBE = function(e, t, n) {
                e |= 0, t |= 0, n || x(e, t, this.length);
                for (var r = this[e + --t], o = 1; t > 0 && (o *= 256); ) r += this[e + --t] * o;
                return r;
            }, c.prototype.readUInt8 = function(e, t) {
                return t || x(e, 1, this.length), this[e];
            }, c.prototype.readUInt16LE = function(e, t) {
                return t || x(e, 2, this.length), this[e] | this[e + 1] << 8;
            }, c.prototype.readUInt16BE = function(e, t) {
                return t || x(e, 2, this.length), this[e] << 8 | this[e + 1];
            }, c.prototype.readUInt32LE = function(e, t) {
                return t || x(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3];
            }, c.prototype.readUInt32BE = function(e, t) {
                return t || x(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]);
            }, c.prototype.readIntLE = function(e, t, n) {
                e |= 0, t |= 0, n || x(e, t, this.length);
                for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256); ) r += this[e + i] * o;
                return r >= (o *= 128) && (r -= Math.pow(2, 8 * t)), r;
            }, c.prototype.readIntBE = function(e, t, n) {
                e |= 0, t |= 0, n || x(e, t, this.length);
                for (var r = t, o = 1, i = this[e + --r]; r > 0 && (o *= 256); ) i += this[e + --r] * o;
                return i >= (o *= 128) && (i -= Math.pow(2, 8 * t)), i;
            }, c.prototype.readInt8 = function(e, t) {
                return t || x(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];
            }, c.prototype.readInt16LE = function(e, t) {
                t || x(e, 2, this.length);
                var n = this[e] | this[e + 1] << 8;
                return 32768 & n ? 4294901760 | n : n;
            }, c.prototype.readInt16BE = function(e, t) {
                t || x(e, 2, this.length);
                var n = this[e + 1] | this[e] << 8;
                return 32768 & n ? 4294901760 | n : n;
            }, c.prototype.readInt32LE = function(e, t) {
                return t || x(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24;
            }, c.prototype.readInt32BE = function(e, t) {
                return t || x(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3];
            }, c.prototype.readFloatLE = function(e, t) {
                return t || x(e, 4, this.length), o.read(this, e, !0, 23, 4);
            }, c.prototype.readFloatBE = function(e, t) {
                return t || x(e, 4, this.length), o.read(this, e, !1, 23, 4);
            }, c.prototype.readDoubleLE = function(e, t) {
                return t || x(e, 8, this.length), o.read(this, e, !0, 52, 8);
            }, c.prototype.readDoubleBE = function(e, t) {
                return t || x(e, 8, this.length), o.read(this, e, !1, 52, 8);
            }, c.prototype.writeUIntLE = function(e, t, n, r) {
                (e = +e, t |= 0, n |= 0, r) || C(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                var o = 1, i = 0;
                for (this[t] = 255 & e; ++i < n && (o *= 256); ) this[t + i] = e / o & 255;
                return t + n;
            }, c.prototype.writeUIntBE = function(e, t, n, r) {
                (e = +e, t |= 0, n |= 0, r) || C(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                var o = n - 1, i = 1;
                for (this[t + o] = 255 & e; --o >= 0 && (i *= 256); ) this[t + o] = e / i & 255;
                return t + n;
            }, c.prototype.writeUInt8 = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 1, 255, 0), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), 
                this[t] = 255 & e, t + 1;
            }, c.prototype.writeUInt16LE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, 
                this[t + 1] = e >>> 8) : R(this, e, t, !0), t + 2;
            }, c.prototype.writeUInt16BE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, 
                this[t + 1] = 255 & e) : R(this, e, t, !1), t + 2;
            }, c.prototype.writeUInt32LE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, 
                this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : j(this, e, t, !0), 
                t + 4;
            }, c.prototype.writeUInt32BE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, 
                this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : j(this, e, t, !1), 
                t + 4;
            }, c.prototype.writeIntLE = function(e, t, n, r) {
                if (e = +e, t |= 0, !r) {
                    var o = Math.pow(2, 8 * n - 1);
                    C(this, e, t, n, o - 1, -o);
                }
                var i = 0, a = 1, s = 0;
                for (this[t] = 255 & e; ++i < n && (a *= 256); ) e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1), 
                this[t + i] = (e / a >> 0) - s & 255;
                return t + n;
            }, c.prototype.writeIntBE = function(e, t, n, r) {
                if (e = +e, t |= 0, !r) {
                    var o = Math.pow(2, 8 * n - 1);
                    C(this, e, t, n, o - 1, -o);
                }
                var i = n - 1, a = 1, s = 0;
                for (this[t + i] = 255 & e; --i >= 0 && (a *= 256); ) e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1), 
                this[t + i] = (e / a >> 0) - s & 255;
                return t + n;
            }, c.prototype.writeInt8 = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 1, 127, -128), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), 
                e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1;
            }, c.prototype.writeInt16LE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, 
                this[t + 1] = e >>> 8) : R(this, e, t, !0), t + 2;
            }, c.prototype.writeInt16BE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, 
                this[t + 1] = 255 & e) : R(this, e, t, !1), t + 2;
            }, c.prototype.writeInt32LE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 4, 2147483647, -2147483648), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, 
                this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : j(this, e, t, !0), 
                t + 4;
            }, c.prototype.writeInt32BE = function(e, t, n) {
                return e = +e, t |= 0, n || C(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), 
                c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, 
                this[t + 3] = 255 & e) : j(this, e, t, !1), t + 4;
            }, c.prototype.writeFloatLE = function(e, t, n) {
                return L(this, e, t, !0, n);
            }, c.prototype.writeFloatBE = function(e, t, n) {
                return L(this, e, t, !1, n);
            }, c.prototype.writeDoubleLE = function(e, t, n) {
                return U(this, e, t, !0, n);
            }, c.prototype.writeDoubleBE = function(e, t, n) {
                return U(this, e, t, !1, n);
            }, c.prototype.copy = function(e, t, n, r) {
                if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), 
                t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0;
                if (0 === e.length || 0 === this.length) return 0;
                if (t < 0) throw new RangeError("targetStart out of bounds");
                if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
                if (r < 0) throw new RangeError("sourceEnd out of bounds");
                r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n);
                var o, i = r - n;
                if (this === e && n < t && t < r) for (o = i - 1; o >= 0; --o) e[o + t] = this[o + n]; else if (i < 1e3 || !c.TYPED_ARRAY_SUPPORT) for (o = 0; o < i; ++o) e[o + t] = this[o + n]; else Uint8Array.prototype.set.call(e, this.subarray(n, n + i), t);
                return i;
            }, c.prototype.fill = function(e, t, n, r) {
                if ("string" == typeof e) {
                    if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" == typeof n && (r = n, 
                    n = this.length), 1 === e.length) {
                        var o = e.charCodeAt(0);
                        o < 256 && (e = o);
                    }
                    if (void 0 !== r && "string" != typeof r) throw new TypeError("encoding must be a string");
                    if ("string" == typeof r && !c.isEncoding(r)) throw new TypeError("Unknown encoding: " + r);
                } else "number" == typeof e && (e &= 255);
                if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
                if (n <= t) return this;
                var i;
                if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e) for (i = t; i < n; ++i) this[i] = e; else {
                    var a = c.isBuffer(e) ? e : B(new c(e, r).toString()), s = a.length;
                    for (i = 0; i < n - t; ++i) this[i + t] = a[i % s];
                }
                return this;
            };
            var D = /[^+\/0-9A-Za-z-_]/g;
            function F(e) {
                return e < 16 ? "0" + e.toString(16) : e.toString(16);
            }
            function B(e, t) {
                var n;
                t = t || 1 / 0;
                for (var r = e.length, o = null, i = [], a = 0; a < r; ++a) {
                    if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                        if (!o) {
                            if (n > 56319) {
                                (t -= 3) > -1 && i.push(239, 191, 189);
                                continue;
                            }
                            if (a + 1 === r) {
                                (t -= 3) > -1 && i.push(239, 191, 189);
                                continue;
                            }
                            o = n;
                            continue;
                        }
                        if (n < 56320) {
                            (t -= 3) > -1 && i.push(239, 191, 189), o = n;
                            continue;
                        }
                        n = 65536 + (o - 55296 << 10 | n - 56320);
                    } else o && (t -= 3) > -1 && i.push(239, 191, 189);
                    if (o = null, n < 128) {
                        if ((t -= 1) < 0) break;
                        i.push(n);
                    } else if (n < 2048) {
                        if ((t -= 2) < 0) break;
                        i.push(n >> 6 | 192, 63 & n | 128);
                    } else if (n < 65536) {
                        if ((t -= 3) < 0) break;
                        i.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128);
                    } else {
                        if (!(n < 1114112)) throw new Error("Invalid code point");
                        if ((t -= 4) < 0) break;
                        i.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128);
                    }
                }
                return i;
            }
            function V(e) {
                return r.toByteArray(function(e) {
                    if ((e = function(e) {
                        return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "");
                    }(e).replace(D, "")).length < 2) return "";
                    for (;e.length % 4 != 0; ) e += "=";
                    return e;
                }(e));
            }
            function q(e, t, n, r) {
                for (var o = 0; o < r && !(o + n >= t.length || o >= e.length); ++o) t[o + n] = e[o];
                return o;
            }
        }).call(this, n("c8ba"));
    },
    b786: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.deepMerge = function e() {
            var t = {};
            function n(n, o) {
                "object" === r(t[o]) && "object" === r(n) ? t[o] = e(t[o], n) : "object" === r(n) ? t[o] = e({}, n) : t[o] = n;
            }
            for (var o = 0, i = arguments.length; o < i; o++) a(arguments[o], n);
            return t;
        }, t.forEach = a, t.isArray = i, t.isBoolean = function(e) {
            return "boolean" == typeof e;
        }, t.isDate = function(e) {
            return "[object Date]" === o.call(e);
        }, t.isObject = function(e) {
            return null !== e && "object" === r(e);
        }, t.isPlainObject = function(e) {
            return "[object Object]" === Object.prototype.toString.call(e);
        }, t.isURLSearchParams = function(e) {
            return "undefined" != typeof URLSearchParams && e instanceof URLSearchParams;
        }, t.isUndefined = function(e) {
            return void 0 === e;
        };
        var o = Object.prototype.toString;
        function i(e) {
            return "[object Array]" === o.call(e);
        }
        function a(e, t) {
            if (null != e) if ("object" !== r(e) && (e = [ e ]), i(e)) for (var n = 0, o = e.length; n < o; n++) t.call(null, e[n], n, e); else for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && t.call(null, e[a], a, e);
        }
    },
    b8be: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getOrderStatus = s, t.tradeCreate = a;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/alipay/tradeCreate";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/alipay/getOrderStatus";
            return r.default.post(t, e);
        }
        var c = {
            tradeCreate: a,
            getOrderStatus: s
        };
        t.default = c;
    },
    badf: function(e, t, n) {
        var r = n("642a"), o = n("1838"), i = n("cd9d"), a = n("6747"), s = n("f9ce");
        e.exports = function(e) {
            return "function" == typeof e ? e : null == e ? i : "object" == _typeof3(e) ? a(e) ? o(e[0], e[1]) : r(e) : s(e);
        };
    },
    bb4f: function(e, t, n) {
        (function(e) {
            function n(e) {
                return (n = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            function r(e) {
                return {
                    isNull: "[object Null]" === Object.prototype.toString.call(e),
                    isArray: "[object Array]" === Object.prototype.toString.call(e),
                    isSymbol: "[object Symbol]" === Object.prototype.toString.call(e),
                    isObject: "[object Object]" === Object.prototype.toString.call(e),
                    isNumber: "[object Number]" === Object.prototype.toString.call(e),
                    isString: "[object String]" === Object.prototype.toString.call(e),
                    isBoolean: "[object Boolean]" === Object.prototype.toString.call(e),
                    isFunction: "[object Function]" === Object.prototype.toString.call(e),
                    isUndefined: "[object Undefined]" === Object.prototype.toString.call(e)
                };
            }
            function o(e) {
                return r(e).isNull;
            }
            function i(e) {
                return r(e).isArray;
            }
            function a(e) {
                return r(e).isSymbol;
            }
            function s(e) {
                return r(e).isObject;
            }
            function c(e) {
                return r(e).isNumber;
            }
            function u(e) {
                return r(e).isString;
            }
            function l(e) {
                return r(e).isBoolean;
            }
            function d(e) {
                return r(e).isFunction;
            }
            function f(e) {
                return r(e).isUndefined;
            }
            function p(e) {
                if (!e) return e;
                var t;
                if ([ Number, String, Boolean ].forEach(function(n) {
                    e instanceof n && (t = n(e));
                }), void 0 === t) if ("[object Array]" === Object.prototype.toString.call(e)) t = [], 
                e.forEach(function(e, n) {
                    t[n] = p(e);
                }); else if ("object" == n(e)) if (e.nodeType && "function" == typeof e.cloneNode) t = e.cloneNode(!0); else if (e.prototype) t = e.constructor ? new e.constructor() : e; else if (e instanceof Date) t = new Date(e); else for (var r in t = {}, 
                e) t[r] = p(e[r]); else t = e;
                return t;
            }
            function m(e) {
                if (!e) return "";
                var t;
                if ([ Number, String, Boolean ].forEach(function(n) {
                    e instanceof n && (t = n(e));
                }), void 0 === t) if ("[object Array]" === Object.prototype.toString.call(e)) t = [], 
                e.forEach(function(e, n) {
                    t[n] = m(e);
                }); else if ("object" == n(e)) if (e.nodeType && "function" == typeof e.cloneNode) t = e.cloneNode(!0); else if (e.prototype) t = e.constructor ? new e.constructor() : e; else if (e instanceof Date) t = new Date(e); else for (var r in t = {}, 
                e) t[r] = m(e[r]); else t = e;
                return t;
            }
            function g() {
                var e, t, r, o;
                function i(e, t) {
                    var a;
                    if (isNaN(e) && isNaN(t) && "number" == typeof e && "number" == typeof t) return !0;
                    if (e === t) return !0;
                    if ("function" == typeof e && "function" == typeof t || e instanceof Date && t instanceof Date || e instanceof RegExp && t instanceof RegExp || e instanceof String && t instanceof String || e instanceof Number && t instanceof Number) return e.toString() === t.toString();
                    if (!(e instanceof Object && t instanceof Object)) return !1;
                    if (e.isPrototypeOf(t) || t.isPrototypeOf(e)) return !1;
                    if (e.constructor !== t.constructor) return !1;
                    if (e.prototype !== t.prototype) return !1;
                    if (r.indexOf(e) > -1 || o.indexOf(t) > -1) return !1;
                    for (a in t) {
                        if (t.hasOwnProperty(a) !== e.hasOwnProperty(a)) return !1;
                        if (n(t[a]) !== n(e[a])) return !1;
                    }
                    for (a in e) {
                        if (t.hasOwnProperty(a) !== e.hasOwnProperty(a)) return !1;
                        if (n(t[a]) !== n(e[a])) return !1;
                        switch (n(e[a])) {
                          case "object":
                          case "function":
                            if (r.push(e), o.push(t), !i(e[a], t[a])) return !1;
                            r.pop(), o.pop();
                            break;

                          default:
                            if (e[a] !== t[a]) return !1;
                        }
                    }
                    return !0;
                }
                if (arguments.length < 1) return !0;
                for (e = 1, t = arguments.length; e < t; e++) if (r = [], o = [], !i(arguments[0], arguments[e])) return !1;
                return !0;
            }
            function h(e) {
                if (!r(e).isObject) return e;
                for (var t = !1, n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) o[i - 1] = arguments[i];
                return o.forEach(function(e) {
                    r(e).isObject || (t = !0);
                }), t ? e : o.reduce(function(e, t) {
                    return Object.keys(t).reduce(function(e, n) {
                        var o = t[n];
                        return r(o).isObject ? e[n] = h(e[n] ? e[n] : {}, o) : r(o).isArray ? e[n] = o.map(function(t, o) {
                            if (r(t).isObject) {
                                var i = e[n] ? e[n] : [];
                                return h(i[o] ? i[o] : {}, t);
                            }
                            return t;
                        }) : e[n] = o, e;
                    }, e);
                }, e);
            }
            function y(e, t, n) {
                var r;
                return function() {
                    var o = this, i = arguments;
                    if (r && clearTimeout(r), n) {
                        var a = !r;
                        r = setTimeout(function() {
                            r = null;
                        }, t), a && e.apply(o, i);
                    } else r = setTimeout(function() {
                        e.apply(o, i);
                    }, t);
                };
            }
            function v(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2;
                return e = Number(e), (e = isNaN(e) ? 0 : e).toFixed(t);
            }
            function b(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "id";
                return Array.isArray(e) && t ? e = Array.from(new Map(e.map(function(e) {
                    return [ e[t], e ];
                })).values()) : (console.log("list: ".concat(e, ", key: ").concat(t)), []);
            }
            function T(e) {
                if (!e) return {};
                var t = e.split("&");
                return t = t.reduce(function(e, t) {
                    return 2 == (t = t.split("=")).length && (e[t[0]] = t[1]), e;
                }, {});
            }
            function _(e) {
                return e ? Object.keys(e).map(function(t) {
                    return "".concat(t, "=").concat(e[t]);
                }).join("&") : "";
            }
            function S() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = e.split("?");
                return t = t.length ? t[0] : "";
            }
            function k() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = e.split("?");
                return T(t = t.length > 1 ? t[1] : "");
            }
            function M(t, n) {
                var r = getCurrentPages(), o = r[r.length - 1] || {};
                t && e.getSetting({
                    success: function(r) {
                        r.authSetting[t] ? (o.page.isAuthor = !0, "string" == typeof n ? o[n]() : "function" == typeof n && n()) : e.authorize({
                            scope: t,
                            success: function(e) {
                                o.page.isAuthor = !0, "string" == typeof n ? o[n]() : "function" == typeof n && n();
                            },
                            fail: function(e) {
                                o.page.isAuthor = !0, "string" == typeof n ? o[n]() : "function" == typeof n && n();
                            }
                        });
                    },
                    fail: function(e) {
                        "string" == typeof n ? o[n]() : "function" == typeof n && n();
                    }
                });
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.debounce = y, t.deduplicate = b, t.deepClone = p, t.deepCloneNotNull = m, 
            t.deepCompare = g, t.default = void 0, t.getFloatString = v, t.getPath = S, t.getQuery = k, 
            t.getWxAuthor = M, t.isArray = i, t.isBoolean = l, t.isFunction = d, t.isNull = o, 
            t.isNumber = c, t.isObject = s, t.isString = u, t.isSymbol = a, t.isType = r, t.isUndefined = f, 
            t.jsonToQuery = _, t.merge = h, t.queryStringToObj = T;
            var P = {
                isNull: o,
                isArray: i,
                isSymbol: a,
                isObject: s,
                isNumber: c,
                isString: u,
                isBoolean: l,
                isFunction: d,
                isUndefined: f,
                isType: r,
                deepClone: p,
                deepCloneNotNull: m,
                deepCompare: g,
                merge: h,
                debounce: y,
                getFloatString: v,
                deduplicate: b,
                queryStringToObj: T,
                jsonToQuery: _,
                getPath: S,
                getQuery: k,
                getWxAuthor: M
            };
            t.default = P;
        }).call(this, n("543d").default);
    },
    bbbe: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("0f80")).default;
        t.default = r;
    },
    bbc0: function(e, t, n) {
        var r = n("6044"), o = Object.prototype.hasOwnProperty;
        e.exports = function(e) {
            var t = this.__data__;
            if (r) {
                var n = t[e];
                return "__lodash_hash_undefined__" === n ? void 0 : n;
            }
            return o.call(t, e) ? t[e] : void 0;
        };
    },
    bc63: function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAVFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU4H24AAAAHHRSTlMA0ASyy7QPClZcWQbTU6oIYMO6SjAbPXtnZTw7rRydpwAAAWtJREFUWMPtlt12gyAQhFlARdlg/I2m7/+etdqjTdDO2Xjr3uW4WecbQEZdddV7aX2+a3sob9Bd36ZYQNp+dftTukcVGqygCdWj25X2rIjMvfxXpPK5IaqeSu88awMxmSLdHsY9qTNTU2h3e8pmGk6Jy44VZLefFtNkx/IsJfkxg5sbIkzQEL8ASUwWH2L+CBE0weEymUWEB32Ag7EPG1oB+IEPgB/4APiBD4Af++A94Mc+ZC6J+AU+KJUnMv4X4zgMQ+AjfuwDs61ryyzi/7t5grVE1oZ85peWV+VY8zSiHsrpx+cDGAwACMwTAlhCiYnyZRzHeRmLWYF8I5liGUTm7pWWb2Vzy9ZPucSH9U9uOUxOfJh+Zef+5TgXWsy/1uaDkH8poQ8bvwb3BeBHn3XMjy8WzI+vNswPfID8wAfAL/ShbCJ+HHHikOVQyOKDkKVVX9HCj2Ner/TJoHku6vadPhm2z8f9q656q28lCxPZaorM6AAAAABJRU5ErkJggg==";
    },
    bc7e: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.HOSPITAL_TAGS = void 0;
        var r = {
            "朝聚": "chaoju",
            "北辰": "beichen",
            "通用": "base"
        };
        t.HOSPITAL_TAGS = r;
        var o = {
            HOSPITAL_TAGS: r
        };
        t.default = o;
    },
    bcdf: function(e, t) {
        e.exports = function() {};
    },
    bee7: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.SHIPPING_METHOD = t.ORG_TYPE = t.DRUG_STATUS = t.DRUG_PAY_STATUS = void 0;
        var r = {
            "待支付": 0,
            "待接单": 1,
            "待发货": 2,
            "已发货": 3,
            "已签收": 4,
            "已取消": 5,
            "已完成": 6,
            "已退货": 7
        };
        t.DRUG_STATUS = r;
        var o = {
            "待支付": 1,
            "已取消": 2,
            "已付款": 3,
            "退款中": 4,
            "已退款": 5
        };
        t.DRUG_PAY_STATUS = o;
        var i = {
            "到店自提": 0,
            "配送到家": 1
        };
        t.SHIPPING_METHOD = i;
        var a = {
            "院内": "0",
            "院外": "30",
            "云药房": "50"
        };
        t.ORG_TYPE = a;
        var s = {
            DRUG_STATUS: r,
            DRUG_PAY_STATUS: o,
            SHIPPING_METHOD: i,
            ORG_TYPE: a
        };
        t.default = s;
    },
    c05f: function(e, t, n) {
        var r = n("7b97"), o = n("1310");
        e.exports = function e(t, n, i, a, s) {
            return t === n || (null == t || null == n || !o(t) && !o(n) ? t != t && n != n : r(t, n, i, a, e, s));
        };
    },
    c098: function(e, t) {
        var n = /^(?:0|[1-9]\d*)$/;
        e.exports = function(e, t) {
            var r = _typeof3(e);
            return !!(t = null == t ? 9007199254740991 : t) && ("number" == r || "symbol" != r && n.test(e)) && e > -1 && e % 1 == 0 && e < t;
        };
    },
    c19a: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getCheckDeital = c, t.getMyFamilyList = a, t.getPacsDetail = u, 
        t.getReportList = s, t.sendCheckMsg = l;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/patient/getMyFamilyList";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/report/getList";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/report/getCheckDeital";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_ZYY_URL + "beichen/report/getPacsDetail";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/report/v110/Check/sendCheckMsg";
            return r.default.post(t, e);
        }
        var d = {
            getMyFamilyList: a,
            getReportList: s,
            getCheckDeital: c,
            getPacsDetail: u,
            sendCheckMsg: l
        };
        t.default = d;
    },
    c1c9: function(e, t, n) {
        var r = n("a454"), o = n("f3c1")(r);
        e.exports = o;
    },
    c34d: function(e, t, n) {
        (function(e) {
            function r() {
                return e.getSystemInfoSync().platform;
            }
            function o() {
                return e.getSystemInfoSync();
            }
            n.d(t, "a", function() {
                return r;
            }), n.d(t, "b", function() {
                return o;
            });
        }).call(this, n("543d").default);
    },
    c388: function(e, t, n) {
        t.a = {
            toast: 10090,
            noNetwork: 10080,
            popup: 10075,
            mask: 10070,
            navbar: 980,
            topTips: 975,
            sticky: 970,
            indexListSticky: 965
        };
    },
    c4b7: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function(e, t) {
            if (!t) return e;
            var n;
            if (o.isURLSearchParams(t)) n = t.toString(); else {
                var r = [];
                o.forEach(t, function(e, t) {
                    null != e && (o.isArray(e) ? t += "[]" : e = [ e ], o.forEach(e, function(e) {
                        o.isDate(e) ? e = e.toISOString() : o.isObject(e) && (e = JSON.stringify(e)), r.push(a(t) + "=" + a(e));
                    }));
                }), n = r.join("&");
            }
            if (n) {
                var i = e.indexOf("#");
                -1 !== i && (e = e.slice(0, i)), e += (-1 === e.indexOf("?") ? "?" : "&") + n;
            }
            return e;
        };
        var o = function(e, t) {
            if (!t && e && e.__esModule) return e;
            if (null === e || "object" !== r(e) && "function" != typeof e) return {
                default: e
            };
            var n = i(t);
            if (n && n.has(e)) return n.get(e);
            var o = {}, a = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var s in e) if ("default" !== s && Object.prototype.hasOwnProperty.call(e, s)) {
                var c = a ? Object.getOwnPropertyDescriptor(e, s) : null;
                c && (c.get || c.set) ? Object.defineProperty(o, s, c) : o[s] = e[s];
            }
            return o.default = e, n && n.set(e, o), o;
        }(n("b786"));
        function i(e) {
            if ("function" != typeof WeakMap) return null;
            var t = new WeakMap(), n = new WeakMap();
            return (i = function(e) {
                return e ? n : t;
            })(e);
        }
        function a(e) {
            return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
        }
    },
    c584: function(e, t) {
        e.exports = function(e, t) {
            return e.has(t);
        };
    },
    c869: function(e, t, n) {
        var r = n("0b07")(n("2b3e"), "Set");
        e.exports = r;
    },
    c8ba: function(e, t) {
        var n;
        n = function() {
            return this;
        }();
        try {
            n = n || new Function("return this")();
        } catch (e) {
            e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
            "object" === ("undefined" == typeof window ? "undefined" : _typeof3(window)) && (n = window);
        }
        e.exports = n;
    },
    c9c2: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), Object.defineProperty(t, "RouterMount", {
            enumerable: !0,
            get: function() {
                return o.RouterMount;
            }
        }), t.router = void 0;
        var r = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("66fd")), o = n("10c9");
        function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
        }
        var a = (0, o.createRouter)({
            platform: "mp-weixin",
            keepUniOriginNav: !1,
            applet: {
                animationDuration: 300
            },
            h5: {
                scrollBehavior: function(e, t, n) {
                    return {
                        x: 0,
                        y: 0
                    };
                }
            },
            routes: function(e) {
                return function(e) {
                    if (Array.isArray(e)) return i(e);
                }(e) || function(e) {
                    if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e);
                }(e) || function(e, t) {
                    if (e) {
                        if ("string" == typeof e) return i(e, t);
                        var n = Object.prototype.toString.call(e).slice(8, -1);
                        return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(e, t) : void 0;
                    }
                }(e) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }();
            }([ {
                path: "/pages/index/index",
                aliasPath: "/"
            }, {
                path: "/pages/index/message"
            }, {
                path: "/pages/index/health"
            }, {
                path: "/pages/index/user"
            }, {
                path: "/pages/consult/chating/chating"
            }, {
                path: "/pages/consult/chating/video"
            }, {
                path: "/pages/consult/inquiry/card"
            }, {
                path: "/pages/consult/order/detail"
            }, {
                path: "/pages/consult/service-remind/list"
            }, {
                path: "/pages/consult/service-remind/detail"
            }, {
                path: "/pages/consult/appraise/index"
            }, {
                path: "/pages/consult/inquiry/case"
            }, {
                path: "/pages/doctor/list/list"
            }, {
                path: "/pages/doctor/list/platform"
            }, {
                path: "/pages/doctor/detail/index"
            }, {
                path: "/pages/doctor/visit/index"
            }, {
                path: "/pages/doctor/visit/doctorList"
            }, {
                path: "/pages/doctor/guide/assistant"
            }, {
                path: "/pages/doctor/guide/announcement"
            }, {
                path: "/pages/doctor/guide/upload"
            }, {
                path: "/pages/doctor/advance/index"
            }, {
                path: "/pages/doctor/service-package/list"
            }, {
                path: "/pages/doctor/service-package/detail"
            }, {
                path: "/pages/doctor/my-doctor/index"
            }, {
                path: "/pages/doctor/service-package/equity"
            }, {
                path: "/pages/doctor/service-package/advance"
            }, {
                path: "/pages/doctor/service-package/order"
            }, {
                path: "/pages/doctor/check-in/index"
            }, {
                path: "/pages/other/h5/index"
            }, {
                path: "/pages/other/h5/ali-message"
            }, {
                path: "/pages/other/condition/search"
            }, {
                path: "/pages/other/condition/addAllergen"
            }, {
                path: "/pages/other/test/index"
            }, {
                path: "/pages/hospital/brief/index"
            }, {
                path: "/pages/hospital/department/departmentList"
            }, {
                path: "/pages/hospital/department/hospitalHomeDept"
            }, {
                path: "/pages/hospital/list/list"
            }, {
                path: "/pages/hospital/list/platform"
            }, {
                path: "/pages/hospital/notice/hospitalHomeNotice"
            }, {
                path: "/pages/hospital/notice/hospitalListNotices"
            }, {
                path: "/pages/hospital/visitPrescription/hospitalHomeDept"
            }, {
                path: "/pages/hospital/guide/index"
            }, {
                path: "/pages/hospital/advertisement/index"
            }, {
                path: "/pages/hospital/chain/list"
            }, {
                path: "/pages/diagnose/diagnoseGroup"
            }, {
                path: "/pages/diagnose/diagnoseSelectHumen"
            }, {
                path: "/pages/diagnose/diagnoseSelectBody"
            }, {
                path: "/pages/diagnose/diagnoseHome"
            }, {
                path: "/pages/report/query/index"
            }, {
                path: "/pages/report/pacs/index"
            }, {
                path: "/pages/report/inspection/index"
            }, {
                path: "/pages/report/inspect/advance/index"
            }, {
                path: "/pages/report/inspect/register-advance/index"
            }, {
                path: "/pages/report/inspect/detail/index"
            }, {
                path: "/pages/report/inspect/register-detail/index"
            }, {
                path: "/pages/prescription/list/index"
            }, {
                path: "/pages/prescription/detail/index"
            }, {
                path: "/pages/prescription/other-doctor-advice/detail"
            }, {
                path: "/pages/prescription/doctor-advice/index"
            }, {
                path: "/pages/drug/store/list"
            }, {
                path: "/pages/drug/store/detail"
            }, {
                path: "/pages/drug/instructions/list"
            }, {
                path: "/pages/drug/instructions/detail"
            }, {
                path: "/pages/drug/advance/index"
            }, {
                path: "/pages/drug/order/detail"
            }, {
                path: "/pages/drug/cancel/apply"
            }, {
                path: "/pages/drug/cancel/detail"
            }, {
                path: "/pages/drug/logistics/index"
            }, {
                path: "/pages/health/user/index"
            }, {
                path: "/pages/health/case/userCaseDetail"
            }, {
                path: "/pages/health/health/index"
            }, {
                path: "/pages/person/order/list"
            }, {
                path: "/pages/person/order/pay-wait"
            }, {
                path: "/pages/person/order/pay-result"
            }, {
                path: "/pages/person/order/pay-other"
            }, {
                path: "/pages/person/order/pay-fail"
            }, {
                path: "/pages/person/order/pay-wx"
            }, {
                path: "/pages/person/consult/list"
            }, {
                path: "/pages/person/address/addressList"
            }, {
                path: "/pages/person/address/editAddress"
            }, {
                path: "/pages/person/family/list"
            }, {
                path: "/pages/person/family/detail"
            }, {
                path: "/pages/person/family/add"
            }, {
                path: "/pages/person/guardian/list"
            }, {
                path: "/pages/person/ec/h5"
            }, {
                path: "/pages/person/ec/code"
            }, {
                path: "/pages/person/ec/introduce"
            }, {
                path: "/pages/person/ec/ecIntr"
            }, {
                path: "/pages/person/face/index"
            }, {
                path: "/pages/person/face/faceIntr"
            }, {
                path: "/pages/person/login/index"
            }, {
                path: "/pages/payment/wxorder/detail"
            }, {
                path: "/pages/payment/nucleic/index"
            }, {
                path: "/pages/payment/advance/index"
            }, {
                path: "/pages/payment/order/list"
            }, {
                path: "/pages/payment/order/detail"
            }, {
                path: "/pages/registration/department/list"
            }, {
                path: "/pages/registration/doctor/list"
            }, {
                path: "/pages/registration/order/advance"
            }, {
                path: "/pages/registration/order/list"
            }, {
                path: "/pages/registration/order/detail"
            }, {
                path: "/pages/patient/list"
            }, {
                path: "/pages/result/appoint/index"
            }, {
                path: "/pages/result/pay/index"
            }, {
                path: "/pages/mall/open-mall/index"
            }, {
                path: "/pages/mall/open-mall/pay"
            }, {
                path: "/pages/zoos/zoostalk/index"
            }, {
                path: "/hospital/home/hospitalHomeIndex"
            }, {
                path: "/doctor/home/index"
            }, {
                path: "/doctor/list/index"
            }, {
                path: "/doctor/service-package/order"
            }, {
                path: "/drug/order/detail"
            }, {
                path: "/report/query/index"
            }, {
                path: "/user/consult/userConsultDetail"
            }, {
                path: "/user/prescrip/userPrescripList"
            }, {
                path: "/user/prescrip/userPrescripDetail"
            } ])
        });
        t.router = a, a.beforeEach(function(e, t, n) {
            n();
        }), a.afterEach(function(e, t) {}), r.default.use(a);
    },
    cae7: function(e, t, n) {
        var r = n("ffd6");
        e.exports = function(e, t) {
            if (e !== t) {
                var n = void 0 !== e, o = null === e, i = e == e, a = r(e), s = void 0 !== t, c = null === t, u = t == t, l = r(t);
                if (!c && !l && !a && e > t || a && s && u && !c && !l || o && s && u || !n && u || !i) return 1;
                if (!o && !a && !l && e < t || l && n && i && !o && !a || c && n && i || !s && i || !u) return -1;
            }
            return 0;
        };
    },
    caef: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.addAddress = h, t.addAllergen = g, t.attention = a, t.cancleCheckOrder = S, 
        t.checkRegisteringOrder = k, t.checkSource = l, t.createHealthcard = u, t.default = void 0, 
        t.delAddress = y, t.editBaseInfo = b, t.getAddressLists = m, t.getImlist = s, t.getOrderList = T, 
        t.getWaitPayOrderNum = _, t.inquiryStatus = d, t.isExistCardRelation = c, t.search = p, 
        t.setDefaultAddress = v, t.uploadImage = f;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/attention";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/patient/getImlist";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Healthcard/isExistCardRelation";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Healthcard/createHealthcard";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/inquiry/checkSource";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/inquiry/inquiryStatus";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/file/images";
            return r.default.post(t, e);
        }
        function p(e, t) {
            var n = o.default.state.env.VUE_APP_API_URL + e;
            return r.default.post(n, t);
        }
        function m(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Address/getAddressLists";
            return r.default.post(t, e);
        }
        function g(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Inquiry/addAllergen";
            return r.default.post(t, e);
        }
        function h(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Address/addAddress";
            return r.default.post(t, e);
        }
        function y(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Address/delAddress";
            return r.default.post(t, e);
        }
        function v(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Address/setDefaultAddress";
            return r.default.post(t, e);
        }
        function b(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Account/editBaseInfo";
            return r.default.post(t, e);
        }
        function T(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/order/getList";
            return r.default.post(t, e);
        }
        function _() {
            var e = o.default.state.env.VUE_APP_API_URL + "client/v1/order/waitPayOrderNum";
            return r.default.post(e);
        }
        function S(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkOrder/cancel";
            return r.default.post(t, e);
        }
        function k(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkRegisteringOrder/cancel";
            return r.default.post(t, e);
        }
        var M = {
            attention: a,
            getImlist: s,
            isExistCardRelation: c,
            createHealthcard: u,
            checkSource: l,
            inquiryStatus: d,
            uploadImage: f,
            search: p,
            addAllergen: g,
            getAddressLists: m,
            addAddress: h,
            delAddress: y,
            setDefaultAddress: v,
            editBaseInfo: b,
            getOrderList: T,
            getWaitPayOrderNum: _,
            cancleCheckOrder: S,
            checkRegisteringOrder: k
        };
        t.default = M;
    },
    cb5a: function(e, t, n) {
        var r = n("9638");
        e.exports = function(e, t) {
            for (var n = e.length; n--; ) if (r(e[n][0], t)) return n;
            return -1;
        };
    },
    cba4: function(e, t, n) {
        var r = n("9224"), o = a(n("66fd")), i = a(n("8e0b"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        o.default.use(i.default.install), console.log("%c ".concat("Library", " %c ", r.version, " %c"), "background:#35495e ; padding: 1px; border-radius: 3px;  color: #fff", "background:#41b883 ; padding: 1px; border-radius: 3px;  color: #fff", "background:transparent");
    },
    cd5b: function(e, t, n) {
        var r = "1.8.6";
        t.a = {
            v: r,
            version: r,
            type: [ "primary", "success", "info", "error", "warning" ]
        };
    },
    cd9d: function(e, t) {
        e.exports = function(e) {
            return e;
        };
    },
    ce86: function(e, t, n) {
        var r = n("9e69"), o = n("7948"), i = n("6747"), a = n("ffd6"), s = r ? r.prototype : void 0, c = s ? s.toString : void 0;
        e.exports = function e(t) {
            if ("string" == typeof t) return t;
            if (i(t)) return o(t, e) + "";
            if (a(t)) return c ? c.call(t) : "";
            var n = t + "";
            return "0" == n && 1 / t == -1 / 0 ? "-0" : n;
        };
    },
    d02c: function(e, t, n) {
        var r = n("5e2e"), o = n("79bc"), i = n("7b83");
        e.exports = function(e, t) {
            var n = this.__data__;
            if (n instanceof r) {
                var a = n.__data__;
                if (!o || a.length < 199) return a.push([ e, t ]), this.size = ++n.size, this;
                n = this.__data__ = new i(a);
            }
            return n.set(e, t), this.size = n.size, this;
        };
    },
    d2ec: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.isEmail = g, t.isEmpty = o, t.isIDCard = m, t.isInterger = u, 
        t.isMobile = f, t.isNInterger = d, t.isNumber = a, t.isNumerical = s, t.isPInterger = l, 
        t.isPNumerical = c, t.isRange = h, t.isTelephone = p, t.isUrl = i;
        var r = function(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }(n("16ea"));
        function o(e) {
            return null == e || "" === e;
        }
        function i(e) {
            return r.default.url.test(e);
        }
        function a(e) {
            return r.default.number.test(e);
        }
        function s(e) {
            return r.default.numerical.test(e);
        }
        function c(e) {
            return r.default.pNumerical.test(e);
        }
        function u(e) {
            return r.default.integer.test(e);
        }
        function l(e) {
            return r.default.pInterger.test(e);
        }
        function d(e) {
            return r.default.nInterger.test(e);
        }
        function f(e) {
            return r.default.mobile.test(e);
        }
        function p(e) {
            return r.default.telephone.test(e);
        }
        function m(e) {
            return r.default.idCard.test(e);
        }
        function g(e) {
            return r.default.email.test(e);
        }
        function h(e, t, n) {
            for (var r = /(\d+)/g; r.exec(e); ) {
                var o = parseInt(RegExp.$1);
                return !(o < t || o > n);
            }
        }
        var y = {
            pattern: r.default,
            isEmpty: o,
            isUrl: i,
            isNumber: a,
            isNumerical: s,
            isPNumerical: c,
            isInterger: u,
            isPInterger: l,
            isNInterger: d,
            isMobile: f,
            isEmail: g,
            isTelephone: p,
            isIDCard: m,
            isRange: h
        };
        t.default = y;
    },
    d327: function(e, t) {
        e.exports = function() {
            return [];
        };
    },
    d370: function(e, t, n) {
        var r = n("253c"), o = n("1310"), i = Object.prototype, a = i.hasOwnProperty, s = i.propertyIsEnumerable, c = r(function() {
            return arguments;
        }()) ? r : function(e) {
            return o(e) && a.call(e, "callee") && !s.call(e, "callee");
        };
        e.exports = c;
    },
    d3da: function(e, t, n) {
        (function(e) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0, t.hideLoading = c, t.hideToast = a, t.showLoading = s, t.showModal = o, 
            t.showToast = i;
            var r = n("bb4f");
            function o(t, n) {
                if (!t || (0, r.isType)(t).isString || (0, r.isType)(t).isNull) return e.showModal({
                    title: "提示",
                    content: t || "",
                    showCancel: !1,
                    confirmText: "确定",
                    confirmColor: "#00C6AE",
                    success: function(e) {
                        if (e.confirm) return n && n(), !1;
                    }
                }), !1;
                e.showModal({
                    title: t.title || "提示",
                    content: t.content || "",
                    showCancel: !!t.cancelText || !!t.showCancel || !1,
                    confirmText: t.confirmText || "确定",
                    confirmColor: t.confirmColor || "#00C6AE",
                    cancelText: t.cancelText || "取消",
                    cancelColor: t.cancelColor || "#999999",
                    success: function(e) {
                        e.confirm ? t.success && t.success() : t.cancel && t.cancel();
                    },
                    fail: function(e) {
                        t.fail && t.fail();
                    },
                    complete: function(e) {
                        t.complete && t.complete();
                    }
                });
            }
            function i(t, n) {
                if (!t || (0, r.isType)(t).isString || (0, r.isType)(t).isNull) return e.showToast({
                    title: t || "",
                    icon: "none",
                    complete: function(e) {
                        n && n();
                    }
                }), !1;
                e.showToast({
                    title: t.title || "",
                    icon: t.icon || "none",
                    image: t.image,
                    mask: t.mask || !1,
                    duration: +t.duration || 1500,
                    success: function(e) {
                        t.success && t.success();
                    },
                    fail: function(e) {
                        t.fail && t.fail();
                    },
                    complete: function(e) {
                        t.complete && t.complete();
                    }
                });
            }
            function a() {
                e.hideToast();
            }
            function s(t, n) {
                if (!t || (0, r.isType)(t).isString || (0, r.isType)(t).isNull) return e.showLoading({
                    title: t || "",
                    mask: !0,
                    complete: function(e) {
                        n && n();
                    }
                }), !1;
                e.showLoading({
                    title: t.title || "",
                    mask: t.mask || !0,
                    success: function(e) {
                        t.success && t.success();
                    },
                    fail: function(e) {
                        t.fail && t.fail();
                    },
                    complete: function(e) {
                        t.complete && t.complete();
                    }
                });
            }
            function c() {
                e.hideLoading();
            }
            var u = {
                showModal: o,
                showToast: i,
                hideToast: a,
                showLoading: s,
                hideLoading: c
            };
            t.default = u;
        }).call(this, n("543d").default);
    },
    d4b2: function(e, t) {
        e.exports = function(e, t) {
            var n = e.length;
            for (e.sort(t); n--; ) e[n] = e[n].value;
            return e;
        };
    },
    d612: function(e, t, n) {
        var r = n("7b83"), o = n("7ed2"), i = n("dc0f");
        function a(e) {
            var t = -1, n = null == e ? 0 : e.length;
            for (this.__data__ = new r(); ++t < n; ) this.add(e[t]);
        }
        a.prototype.add = a.prototype.push = o, a.prototype.has = i, e.exports = a;
    },
    d6e5: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.doComment = g, t.getAudioToken = v, t.getChatDetail = c, 
        t.getCommentDetail = p, t.getDefaultComment = f, t.getHistoryMsg = y, t.getImTokenList = a, 
        t.getInquiryOrderDetail = u, t.getServiceRemindDetail = d, t.getServiceRemindList = l, 
        t.getSessionList = s, t.isComment = m, t.setVideoProcess = h;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a() {
            var e = o.default.state.env.VUE_APP_API_URL + "client/v1/Patient/getImlist";
            return r.default.post(e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/session/getList";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/account/chatDetail";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/account/inquiryDetail";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/notice/getMsgList";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/notice/getDetail";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Comment/getBaseInfo";
            return r.default.post(t, e);
        }
        function p(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Comment/commentDetail";
            return r.default.post(t, e);
        }
        function m(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Comment/isComment";
            return r.default.post(t, e);
        }
        function g(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Comment/doComment";
            return r.default.post(t, e);
        }
        function h(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/video/process";
            return r.default.post(t, e);
        }
        function y(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/im/getHistoryMsg";
            return r.default.post(t, e);
        }
        function v(e) {
            var t = o.default.state.env.VUE_APP_DUR_API + "bizCore/bizCore/audio";
            return r.default.post(t, e);
        }
        var b = {
            getImTokenList: a,
            getSessionList: s,
            getChatDetail: c,
            getInquiryOrderDetail: u,
            getServiceRemindList: l,
            getServiceRemindDetail: d,
            getDefaultComment: f,
            getCommentDetail: p,
            isComment: m,
            doComment: g,
            setVideoProcess: h,
            getHistoryMsg: y,
            getAudioToken: v
        };
        t.default = b;
    },
    d7a5: function(e, t, n) {
        (function(e) {
            var r = n("134b"), o = n("f6a7"), i = function() {
                function t() {
                    var e = this;
                    _classCallCheck3(this, t), this.config = {
                        baseUrl: "",
                        header: {},
                        method: "POST",
                        dataType: "json",
                        responseType: "text",
                        showLoading: !0,
                        loadingText: "请求中...",
                        loadingTime: 800,
                        timer: null,
                        originalData: !1,
                        loadingMask: !0
                    }, this.interceptor = {
                        request: null,
                        response: null
                    }, this.get = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                        return e.request({
                            method: "GET",
                            url: t,
                            header: r,
                            data: n
                        });
                    }, this.post = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                        return e.request({
                            url: t,
                            method: "POST",
                            header: r,
                            data: n
                        });
                    }, this.put = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                        return e.request({
                            url: t,
                            method: "PUT",
                            header: r,
                            data: n
                        });
                    }, this.delete = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                        return e.request({
                            url: t,
                            method: "DELETE",
                            header: r,
                            data: n
                        });
                    };
                }
                return _createClass3(t, [ {
                    key: "setConfig",
                    value: function(e) {
                        this.config = Object(r.a)(this.config, e);
                    }
                }, {
                    key: "request",
                    value: function() {
                        var t = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        if (this.interceptor.request && "function" == typeof this.interceptor.request) {
                            var r = this.interceptor.request(n);
                            if (!1 === r) return new Promise(function() {});
                            this.options = r;
                        }
                        return n.dataType = n.dataType || this.config.dataType, n.responseType = n.responseType || this.config.responseType, 
                        n.url = n.url || "", n.params = n.params || {}, n.header = Object.assign({}, this.config.header, n.header), 
                        n.method = n.method || this.config.method, new Promise(function(r, i) {
                            n.complete = function(n) {
                                if (e.hideLoading(), clearTimeout(t.config.timer), t.config.timer = null, t.config.originalData) if (t.interceptor.response && "function" == typeof t.interceptor.response) {
                                    var o = t.interceptor.response(n);
                                    !1 !== o ? r(o) : i(n);
                                } else r(n); else if (200 == n.statusCode) if (t.interceptor.response && "function" == typeof t.interceptor.response) {
                                    var a = t.interceptor.response(n.data);
                                    !1 !== a ? r(a) : i(n.data);
                                } else r(n.data); else i(n);
                            }, n.url = o.a.url(n.url) ? n.url : t.config.baseUrl + (0 == n.url.indexOf("/") ? n.url : "/" + n.url), 
                            t.config.showLoading && !t.config.timer && (t.config.timer = setTimeout(function() {
                                e.showLoading({
                                    title: t.config.loadingText,
                                    mask: t.config.loadingMask
                                }), t.config.timer = null;
                            }, t.config.loadingTime)), e.request(n);
                        });
                    }
                } ]), t;
            }();
            t.a = new i();
        }).call(this, n("543d").default);
    },
    d819: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.EMIT_TYPE = void 0;
        var r = {
            DOCTOR_INQUIRY_APPLY_FAMLIY: "DoctorInquiryApplyFamliy",
            DOCTOR_INQUIRY_APPLY_FAMLIY_GUARDIAN: "DoctorInquiryApplyFamilyGuardian",
            DOCTOR_INQUIRY_APPLY_UPLOAD: "DoctorInquiryApplyUpload",
            DOCTOR_INQUIRY_APPLY_ILLNESS: "DoctorInquiryApplyIllness",
            DOCTOR_INQUIRY_APPLY_SUPPLEMENTARY_ALLERGIES_SAVE: "DoctorInquiryApplySupplementaryAllergiesSave",
            DOCTOR_INQUIRY_APPLY_SUPPLEMENTARY_UPLOAD: "DoctorInquiryApplySupplementaryUpload",
            SUPPLEMENTARY_ALLERGIES: "SUPPLEMENTARY_ALLERGIES",
            DOCTOR_RETURNVISIT_RESELECT_NUMBER: "DoctorReturnVisitReselectNumber",
            PERSON_SELECTGUARDIAN: "PersonSelectGuardian"
        };
        t.EMIT_TYPE = r;
        var o = {
            EMIT_TYPE: r
        };
        t.default = o;
    },
    d8e6: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        t.default = {
            baseURL: "",
            header: {},
            method: "GET",
            dataType: "json",
            responseType: "text",
            custom: {},
            timeout: 6e4,
            validateStatus: function(e) {
                return e >= 200 && e < 300;
            }
        };
    },
    d9a8: function(e, t) {
        e.exports = function(e) {
            return e != e;
        };
    },
    d9fa: function(e, t, n) {
        var r = n("f026");
        t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy-mm-dd";
            e || (e = Number(new Date())), 10 == e.toString().length && (e *= 1e3);
            var n = +new Date(Number(e)), o = (Number(new Date()) - n) / 1e3, i = "";
            switch (!0) {
              case o < 300:
                i = "刚刚";
                break;

              case o >= 300 && o < 3600:
                i = parseInt(o / 60) + "分钟前";
                break;

              case o >= 3600 && o < 86400:
                i = parseInt(o / 3600) + "小时前";
                break;

              case o >= 86400 && o < 2592e3:
                i = parseInt(o / 86400) + "天前";
                break;

              default:
                i = !1 === t ? o >= 2592e3 && o < 31536e3 ? parseInt(o / 2592e3) + "个月前" : parseInt(o / 31536e3) + "年前" : Object(r.a)(n, t);
            }
            return i;
        };
    },
    da03: function(e, t, n) {
        var r = n("2b3e")["__core-js_shared__"];
        e.exports = r;
    },
    daef: function(e, t, n) {
        (function(e) {
            function r(e) {
                return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                    return _typeof3(e);
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
                })(e);
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "NetCall", {
                enumerable: !0,
                get: function() {
                    return i.default;
                }
            }), t.inquiryHelper = t.initNIM = t.getServiceRemind = t.destroyNIM = t.default = void 0;
            var o = l(n("b0f2")), i = l(n("753a")), a = l(n("e884")), s = n("c9c2"), c = l(n("04c6")), u = n("8e0b");
            function l(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            function d() {
                d = function() {
                    return e;
                };
                var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", s = o.toStringTag || "@@toStringTag";
                function c(e, t, n) {
                    return Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }), e[t];
                }
                try {
                    c({}, "");
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    c = function(e, t, n) {
                        return e[t] = n;
                    };
                }
                function u(e, t, n, r) {
                    var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = "suspendedStart";
                        return function(o, i) {
                            if ("executing" === r) throw new Error("Generator is already running");
                            if ("completed" === r) {
                                if ("throw" === o) throw i;
                                return {
                                    value: void 0,
                                    done: !0
                                };
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = S(a, n);
                                    if (s) {
                                        if (s === f) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if ("suspendedStart" === r) throw r = "completed", n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = "executing";
                                var c = l(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function l(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                e.wrap = u;
                var f = {};
                function p() {}
                function m() {}
                function g() {}
                var h = {};
                c(h, i, function() {
                    return this;
                });
                var y = Object.getPrototypeOf, v = y && y(y(A([])));
                v && v !== t && n.call(v, i) && (h = v);
                var b = g.prototype = p.prototype = Object.create(h);
                function T(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        c(e, t, function(e) {
                            return this._invoke(t, e);
                        });
                    });
                }
                function _(e, t) {
                    function o(i, a, s, c) {
                        var u = l(e[i], e, a);
                        if ("throw" !== u.type) {
                            var d = u.arg, f = d.value;
                            return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                                o("next", e, s, c);
                            }, function(e) {
                                o("throw", e, s, c);
                            }) : t.resolve(f).then(function(e) {
                                d.value = e, s(d);
                            }, function(e) {
                                return o("throw", e, s, c);
                            });
                        }
                        c(u.arg);
                    }
                    var i;
                    this._invoke = function(e, n) {
                        function r() {
                            return new t(function(t, r) {
                                o(e, n, t, r);
                            });
                        }
                        return i = i ? i.then(r, r) : r();
                    };
                }
                function S(e, t) {
                    var n = e.iterator[t.method];
                    if (void 0 === n) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return f;
                    }
                    var r = l(n, e.iterator, t.arg);
                    if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                    f;
                    var o = r.arg;
                    return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, f);
                }
                function k(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function M(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function P(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(k, this), this.reset(!0);
                }
                function A(e) {
                    if (e) {
                        var t = e[i];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var r = -1, o = function t() {
                                for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = void 0, t.done = !0, t;
                            };
                            return o.next = o;
                        }
                    }
                    return {
                        next: w
                    };
                }
                function w() {
                    return {
                        value: void 0,
                        done: !0
                    };
                }
                return m.prototype = g, c(b, "constructor", g), c(g, "constructor", m), m.displayName = c(g, s, "GeneratorFunction"), 
                e.isGeneratorFunction = function(e) {
                    var t = "function" == typeof e && e.constructor;
                    return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
                }, e.mark = function(e) {
                    return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, c(e, s, "GeneratorFunction")), 
                    e.prototype = Object.create(b), e;
                }, e.awrap = function(e) {
                    return {
                        __await: e
                    };
                }, T(_.prototype), c(_.prototype, a, function() {
                    return this;
                }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                    void 0 === i && (i = Promise);
                    var a = new _(u(t, n, r, o), i);
                    return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                        return e.done ? e.value : a.next();
                    });
                }, T(b), c(b, s, "Generator"), c(b, i, function() {
                    return this;
                }), c(b, "toString", function() {
                    return "[object Generator]";
                }), e.keys = function(e) {
                    var t = [];
                    for (var n in e) t.push(n);
                    return t.reverse(), function n() {
                        for (;t.length; ) {
                            var r = t.pop();
                            if (r in e) return n.value = r, n.done = !1, n;
                        }
                        return n.done = !0, n;
                    };
                }, e.values = A, P.prototype = {
                    constructor: P,
                    reset: function(e) {
                        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                        this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                        !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                    },
                    stop: function() {
                        this.done = !0;
                        var e = this.tryEntries[0].completion;
                        if ("throw" === e.type) throw e.arg;
                        return this.rval;
                    },
                    dispatchException: function(e) {
                        if (this.done) throw e;
                        var t = this;
                        function r(n, r) {
                            return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                            !!r;
                        }
                        for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                            var i = this.tryEntries[o], a = i.completion;
                            if ("root" === i.tryLoc) return r("end");
                            if (i.tryLoc <= this.prev) {
                                var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                                if (s && c) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                } else if (s) {
                                    if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                } else {
                                    if (!c) throw new Error("try statement without catch or finally");
                                    if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                                }
                            }
                        }
                    },
                    abrupt: function(e, t) {
                        for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                            var o = this.tryEntries[r];
                            if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                                var i = o;
                                break;
                            }
                        }
                        i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                        var a = i ? i.completion : {};
                        return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                        f) : this.complete(a);
                    },
                    complete: function(e, t) {
                        if ("throw" === e.type) throw e.arg;
                        return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                        this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                        f;
                    },
                    finish: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                        }
                    },
                    catch: function(e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.tryLoc === e) {
                                var r = n.completion;
                                if ("throw" === r.type) {
                                    var o = r.arg;
                                    M(n);
                                }
                                return o;
                            }
                        }
                        throw new Error("illegal catch attempt");
                    },
                    delegateYield: function(e, t, n) {
                        return this.delegate = {
                            iterator: A(e),
                            resultName: t,
                            nextLoc: n
                        }, "next" === this.method && (this.arg = void 0), f;
                    }
                }, e;
            }
            function f(e, t, n, r, o, i, a) {
                try {
                    var s = e[i](a), c = s.value;
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return void n(e);
                }
                s.done ? t(c) : Promise.resolve(c).then(r, o);
            }
            function p(e) {
                return function() {
                    var t = this, n = arguments;
                    return new Promise(function(r, o) {
                        var i = e.apply(t, n);
                        function a(e) {
                            f(i, r, o, a, s, "next", e);
                        }
                        function s(e) {
                            f(i, r, o, a, s, "throw", e);
                        }
                        a(void 0);
                    });
                };
            }
            var m = function() {
                var e = p(d().mark(function e() {
                    var t, n, r;
                    return d().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            if (t = a.default.state.im.NIM, !(n = a.default.state.im.accountInfo).accid || !n.imToken) {
                                e.next = 13;
                                break;
                            }
                            if (null === (r = t) || void 0 === r || !r.nim) {
                                e.next = 7;
                                break;
                            }
                            b.isLogin() || t.nim.connect(), e.next = 13;
                            break;

                          case 7:
                            return e.next = 9, g(n);

                          case 9:
                            e.t0 = e.sent, e.t1 = n.accid, e.t2 = n.imToken, t = {
                                nim: e.t0,
                                netcall: null,
                                account: e.t1,
                                token: e.t2
                            };

                          case 13:
                            return a.default.commit("im/setNIM", t), e.abrupt("return", t);

                          case 15:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }));
                return function() {
                    return e.apply(this, arguments);
                };
            }();
            t.initNIM = m;
            var g = function() {
                var e = p(d().mark(function e(t) {
                    return d().wrap(function(e) {
                        for (;;) switch (e.prev = e.next) {
                          case 0:
                            return e.abrupt("return", new Promise(function(e) {
                                var n = a.default.state.env.VUE_APP_IM_KEY, r = t && t.accid, i = t && t.imToken;
                                e(o.default.getInstance({
                                    debug: "prod" != a.default.state.env.VUE_APP_ENVIR,
                                    appKey: n,
                                    account: r,
                                    token: i,
                                    db: !1,
                                    syncSessionUnread: !0,
                                    onconnect: v.onConnect,
                                    ondisconnect: v.onDisConnect,
                                    onwillreconnect: v.onWillReconnect,
                                    onerror: v.onError,
                                    onsessions: v.onSessions,
                                    onupdatesession: v.onUpdateSession,
                                    onsysmsg: v.onSysmsg,
                                    oncustomsysmsg: v.onCustomSysMsg,
                                    onmsg: v.onMsg,
                                    onteams: v.onTeams,
                                    shouldIgnoreNotification: function() {
                                        return !0;
                                    }
                                }));
                            }));

                          case 1:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                }));
                return function(t) {
                    return e.apply(this, arguments);
                };
            }(), h = function() {
                return new Promise(function() {
                    var e = p(d().mark(function e(t) {
                        var n;
                        return d().wrap(function(e) {
                            for (;;) switch (e.prev = e.next) {
                              case 0:
                                (n = a.default.state.im.NIM).nim.off("signalingNotify"), n.netcall && n.netcall.destroy(), 
                                n.nim && n.nim.destroy({
                                    done: function() {
                                        console.log("".concat(n.account, "}实例已清除")), a.default.commit("im/setNIM", {}), 
                                        t(!0);
                                    }
                                });

                              case 4:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                    }));
                    return function(t) {
                        return e.apply(this, arguments);
                    };
                }());
            };
            t.destroyNIM = h;
            var y = function() {
                return !a.default.state.im.setServiceRemindLoading && (a.default.commit("im/setServiceRemindLoading", !0), 
                c.default.im.getServiceRemindList({
                    p: 1,
                    size: 1
                }).then(function(t) {
                    var n, r = null === (n = a.default.getters["im/sessionsList"]) || void 0 === n ? void 0 : n.find(function(e) {
                        return 0 != e.unread;
                    }), o = getCurrentPages(), i = o[o.length - 1];
                    [ "pages/index/index", "pages/index/message", "pages/index/health", "pages/index/user" ].includes(i.route) && (r || t.data.unreadNum ? e.showTabBarRedDot({
                        index: 1
                    }) : e.hideTabBarRedDot({
                        index: 1
                    })), a.default.commit("im/setServiceRemind", t.data);
                }).catch(function(e) {
                    console.log("getServiceRemind err", e);
                }).finally(function() {
                    a.default.commit("im/setServiceRemindLoading", !1);
                }));
            };
            t.getServiceRemind = y;
            var v = {
                onConnect: function(e) {
                    var t;
                    console.warn("【 IM 】【 onConnect 】", new Date(), e), null !== (t = a.default.state.im.NIM) && void 0 !== t && t.netcall || i.default.init(), 
                    a.default.state.im.NIM.nim.off("signalingNotify"), a.default.state.im.NIM.nim.on("signalingNotify", b.signalingNotifyHandler);
                },
                onWillReconnect: function(e) {
                    console.warn("【 IM 】【 onWillReconnect 】", new Date(), e);
                },
                onDisConnect: function(e) {
                    if (console.warn("【 IM 】【 onDisConnect 】", new Date(), e), e) switch (e.code) {
                      case 302:
                        console.log("账号或者密码错误");
                        break;

                      case "kicked":
                        console.log("被踢"), a.default.dispatch("user/cleanToken"), h().then(function() {
                            a.default.dispatch("im/cleanIm");
                        }), u.util.showModal({
                            title: "提示",
                            content: "多地登录，请注意您的账号安全",
                            complete: function() {
                                u.util.toLogin();
                            }
                        });
                        break;

                      case 417:
                        console.log("重复登录");
                        break;

                      case "logout":
                        console.log("主动登出");
                    }
                },
                onError: function(e) {
                    console.warn("【 IM 】【 onError 】", new Date(), e);
                },
                onSessions: function(e) {
                    return p(d().mark(function t() {
                        return d().wrap(function(t) {
                            for (;;) switch (t.prev = t.next) {
                              case 0:
                                return console.warn("【 IM 】【 onSessions 】", new Date(), e), t.next = 3, b.updateImSessions(e);

                              case 3:
                              case "end":
                                return t.stop();
                            }
                        }, t);
                    }))();
                },
                onUpdateSession: function(e) {
                    return p(d().mark(function t() {
                        var n;
                        return d().wrap(function(t) {
                            for (;;) switch (t.prev = t.next) {
                              case 0:
                                return console.warn("【 IM 】【 onUpdateSession 】", new Date(), e), (null === (n = a.default.state.im.session) || void 0 === n ? void 0 : n.id) === e.id && (e.unread = 0), 
                                t.next = 4, b.updateImSessions(e);

                              case 4:
                                b.updateImSessionMessages(e);

                              case 5:
                              case "end":
                                return t.stop();
                            }
                        }, t);
                    }))();
                },
                onSysmsg: function(e) {
                    console.warn("【 IM 】【 onSysmsg 】", new Date(), e);
                },
                onCustomSysMsg: function(e) {
                    console.warn("【 IM 】【 onCustomSysMsg 】", new Date(), e), y();
                },
                onMsg: function(e) {
                    console.warn("【 IM 】【 onMsg 】", new Date(), e), y();
                },
                onTeams: function(e) {
                    console.warn("【 IM 】【 onTeams 】", new Date(), e);
                }
            }, b = {
                getTeamsInfo: function(e) {
                    return Array.isArray(e) || (e = [ e ]), new Promise(function(t, n) {
                        a.default.state.im.NIM.nim.getTeams({
                            done: function(r, o) {
                                if (r) n(r); else {
                                    var i = o.filter(function(t) {
                                        return e.some(function(e) {
                                            return t.teamId === e.to;
                                        });
                                    });
                                    console.log("【 IM 】【 getTeamsInfo 】", i), t(i);
                                }
                            }
                        });
                    });
                },
                mergeTeamsInfo: function(e, t) {
                    return e.forEach(function(e) {
                        if ("team" == e.scene) {
                            var n = t.find(function(t) {
                                return t.teamId === e.to;
                            });
                            e.content = (null == n ? void 0 : n.serverCustom) || null;
                        }
                    }), console.log("【 IM 】【 mergeTeamsInfo 】", e), e = e.filter(function(e) {
                        return e.content;
                    });
                },
                deSerializationSessions: function(e) {
                    return Array.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                        if (e.content && !(e.content instanceof Object)) try {
                            e.content = JSON.parse(e.content);
                        } catch (t) {
                            t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                            e.content = null;
                        }
                        !e.lastMsg.content || e.lastMsg.content instanceof Object || (e.lastMsg.content = JSON.parse(e.lastMsg.content));
                    }), e;
                },
                deSerializationMessages: function(e) {
                    return e.forEach(function(t) {
                        e.forEach(function(e) {
                            !e.content || e.content instanceof Object || (e.content = JSON.parse(e.content));
                        });
                    }), e;
                },
                updateImSessions: function(e) {
                    return p(d().mark(function t() {
                        var n, r, o, i, s, c, u, l, f, p;
                        return d().wrap(function(t) {
                            for (;;) switch (t.prev = t.next) {
                              case 0:
                                return r = function(e) {
                                    return !0;
                                }, o = function(e, t) {
                                    if (e.content && t.content) {
                                        var n = e.updateTime;
                                        return t.updateTime - n;
                                    }
                                }, Array.isArray(e) || (e = [ e ]), i = e.filter(function(e) {
                                    return "team" === e.scene;
                                }), t.next = 6, b.getTeamsInfo(i);

                              case 6:
                                s = t.sent, c = b.mergeTeamsInfo(i, s), u = (null === (n = a.default.state.im.sessions) || void 0 === n ? void 0 : n.length) > 0 ? [].concat(a.default.state.im.sessions) : [], 
                                l = a.default.state.im.NIM.nim.mergeSessions(u, c), f = b.deSerializationSessions(l), 
                                p = f.filter(r).sort(o), b.setSessions(p), y();

                              case 14:
                              case "end":
                                return t.stop();
                            }
                        }, t);
                    }))();
                },
                updateImSessionMessages: function(e) {
                    var t, n;
                    if ((null === (t = a.default.state.im.session) || void 0 === t ? void 0 : t.id) === e.id) if ((null === (n = a.default.state.im.sessions) || void 0 === n ? void 0 : n.length) > 0) {
                        var r, o = a.default.state.im.sessions.find(function(t) {
                            return t.to === e.to;
                        }), i = b.deSerializationSessions(e)[0];
                        "team" == i.scene && null != i && null !== (r = i.content) && void 0 !== r && r.inquirySession && i.content.inquirySession.inquiryStatus == u.CONSTANT.INQUIRY.INQUIRY_STATUS.已退诊 && (o = i), 
                        b.setSession(o);
                        var s = a.default.state.im.sessionMessages, c = a.default.state.im.NIM.nim.mergeMsgs(s, e.lastMsg);
                        b.setSessionMessages(c);
                    } else b.resetSession(), b.resetSessionMessages();
                },
                setSessions: function(e) {
                    a.default.commit("im/setSessions", e);
                },
                setSession: function(e) {
                    a.default.commit("im/setSession", e);
                },
                setSessionMessages: function(e) {
                    a.default.commit("im/setSessionMessages", e);
                },
                resetSessions: function() {
                    a.default.commit("im/setSessions", []);
                },
                resetSession: function() {
                    a.default.commit("im/setSession", {});
                },
                resetSessionMessages: function() {
                    a.default.commit("im/setSessionMessages", []);
                },
                isLogin: function() {
                    var e, t;
                    return !(null === (e = a.default.state.im.NIM) || void 0 === e || null === (t = e.nim) || void 0 === t || !t.isConnected());
                },
                resetSessionUnread: function(e) {
                    var t = [].concat(a.default.state.im.sessions);
                    null == t || t.forEach(function(t) {
                        t.id == e && (t.unread = 0);
                    }), b.setSessions(t), a.default.state.im.NIM.nim.resetSessionUnread(e);
                },
                signalingNotifyHandler: function(t) {
                    switch (console.log("signalingOnlineNotify: ", t), t.eventType) {
                      case "ROOM_CLOSE":
                        console.log("独立呼叫信令：频道关闭事件", t), 2 == t.type && e.$emit("signalingRoomClose", t);
                        break;

                      case "ROOM_JOIN":
                        console.log("独立呼叫信令：加入频道事件", t);
                        break;

                      case "INVITE":
                        if (console.log("独立呼叫信令： 邀请事件", t), 2 == t.type) {
                            console.warn("【 NETCALL 】【 被视频邀请 】", new Date(), t);
                            var n = getCurrentPages();
                            if (!0 === n[n.length - 1].route.includes("video") || a.default.state.im.isPushBeCallPage) {
                                console.warn("正在通话中 拒绝视频邀请");
                                var r = {
                                    channelId: t.channelId,
                                    account: t.to,
                                    requestId: t.requestId,
                                    offlineEnabled: !1,
                                    attachExt: ""
                                };
                                return a.default.state.im.NIM.nim.signalingReject(r).then(function(e) {
                                    console.warn("独立呼叫信令，拒绝别人的邀请，data：", e), console.warn("【 NETCALL 】【 signalingReject 】拒绝视频邀请成功", new Date(), e);
                                }).catch(function(e) {
                                    console.warn("独立呼叫信令，拒绝别人的邀请失败，error：", e), console.warn("【 NETCALL 】【 signalingReject 】拒绝视频邀请失败", new Date(), e);
                                }), !1;
                            }
                            a.default.commit("im/setIsPushBeCallPage", !0), a.default.commit("im/setChannelId", t.channelId), 
                            a.default.commit("im/setRequestId", t.requestId), s.router.push({
                                path: "/pages/consult/chating/video",
                                query: t
                            });
                        }
                        break;

                      case "CANCEL_INVITE":
                        if (console.log("独立呼叫信令：取消邀请事件", t), 2 == t.type) {
                            console.warn("【 NETCALL 】【 被视频邀请后取消 】", new Date(), t);
                            var o = getCurrentPages();
                            if (!0 !== o[o.length - 1].route.includes("video") || !a.default.state.im.isPushBeCallPage) return !1;
                            t.channelId == a.default.state.im.channelId && (u.util.showToast("对方已挂断"), setTimeout(function() {
                                a.default.commit("im/setIsPushBeCallPage", !1), a.default.commit("im/setChannelId", ""), 
                                a.default.commit("im/setRequestId", ""), s.router.back();
                            }, 800));
                        }
                        break;

                      case "REJECT":
                        console.log("独立呼叫信令：拒绝邀请事件", t), 2 == t.type && e.$emit("signalingReject", t);
                        break;

                      case "ACCEPT":
                        console.log("独立呼叫信令：接受邀请事件", t), 2 == t.type && e.$emit("signalingAccept", t);
                        break;

                      case "LEAVE":
                        console.log("独立呼叫信令：离开频道事件", t);
                        break;

                      case "CONTROL":
                        console.log("独立呼叫信令：自定义控制事件", t);
                    }
                }
            };
            t.inquiryHelper = b;
            var T = {
                initNIM: m,
                destroyNIM: h,
                getServiceRemind: y,
                inquiryHelper: b,
                NetCall: i.default
            };
            t.default = T;
        }).call(this, n("543d").default);
    },
    dc0f: function(e, t) {
        e.exports = function(e) {
            return this.__data__.has(e);
        };
    },
    dc57: function(e, t) {
        var n = Function.prototype.toString;
        e.exports = function(e) {
            if (null != e) {
                try {
                    return n.call(e);
                } catch (e) {}
                try {
                    return e + "";
                } catch (e) {}
            }
            return "";
        };
    },
    dcbe: function(e, t, n) {
        var r = n("30c9"), o = n("1310");
        e.exports = function(e) {
            return o(e) && r(e);
        };
    },
    df4d: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function(e, t) {
            return e && !(0, r.default)(t) ? (0, o.default)(e, t) : t;
        };
        var r = i(n("ee4f")), o = i(n("6025"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
    },
    e24b: function(e, t, n) {
        var r = n("49f4"), o = n("1efc"), i = n("bbc0"), a = n("7a48"), s = n("2524");
        function c(e) {
            var t = -1, n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n; ) {
                var r = e[t];
                this.set(r[0], r[1]);
            }
        }
        c.prototype.clear = r, c.prototype.delete = o, c.prototype.get = i, c.prototype.has = a, 
        c.prototype.set = s, e.exports = c;
    },
    e2c0: function(e, t, n) {
        var r = n("e2e4"), o = n("d370"), i = n("6747"), a = n("c098"), s = n("b218"), c = n("f4d6");
        e.exports = function(e, t, n) {
            for (var u = -1, l = (t = r(t, e)).length, d = !1; ++u < l; ) {
                var f = c(t[u]);
                if (!(d = null != e && n(e, f))) break;
                e = e[f];
            }
            return d || ++u != l ? d : !!(l = null == e ? 0 : e.length) && s(l) && a(f, l) && (i(e) || o(e));
        };
    },
    e2e4: function(e, t, n) {
        var r = n("6747"), o = n("f608"), i = n("18d8"), a = n("76dd");
        e.exports = function(e, t) {
            return r(e) ? e : o(e, t) ? [ e ] : i(a(e));
        };
    },
    e311: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = p(n("91c8")), o = p(n("543e")), i = p(n("93c6")), a = n("bb4f"), s = n("d3da"), c = n("1bb4"), u = n("ae7b"), l = n("0594"), d = n("0fc0"), f = n("3261");
        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        var m = {
            chunk: r.default,
            unionWith: o.default,
            orderBy: i.default,
            isNull: a.isNull,
            isArray: a.isArray,
            isSymbol: a.isSymbol,
            isObject: a.isObject,
            isNumber: a.isNumber,
            isString: a.isString,
            isBoolean: a.isBoolean,
            isFunction: a.isFunction,
            isUndefined: a.isUndefined,
            isType: a.isType,
            deepClone: a.deepClone,
            deepCompare: a.deepCompare,
            deepCloneNotNull: a.deepCloneNotNull,
            merge: a.merge,
            debounce: a.debounce,
            getFloatString: a.getFloatString,
            deduplicate: a.deduplicate,
            queryStringToObj: a.queryStringToObj,
            jsonToQuery: a.jsonToQuery,
            getPath: a.getPath,
            getQuery: a.getQuery,
            getWxAuthor: a.getWxAuthor,
            showModal: s.showModal,
            showToast: s.showToast,
            hideToast: s.hideToast,
            showLoading: s.showLoading,
            hideLoading: s.hideLoading,
            getLessLimitSizeImage: c.getLessLimitSizeImage,
            imageSizeIsLessLimitSize: c.imageSizeIsLessLimitSize,
            getCanvasImage: c.getCanvasImage,
            dataURLtoBlob: c.dataURLtoBlob,
            formatDate: u.formatDate,
            calcTime: u.calcTime,
            timeToDay: u.timeToDay,
            strToDate: u.strToDate,
            payInvoke: l.payInvoke,
            auth: l.auth,
            pay: l.pay,
            requestPaymentConfirm: l.requestPaymentConfirm,
            getOrderStatus: l.getOrderStatus,
            queryOrderStatus: l.queryOrderStatus,
            gainOrderStatus: l.gainOrderStatus,
            callPhone: d.callPhone,
            toLogin: d.toLogin,
            isLogin: d.isLogin,
            checkVersion: d.checkVersion,
            gotoZoostalk: d.gotoZoostalk,
            gotoOptometryMall: d.gotoOptometryMall,
            inAliApp: f.inAliApp,
            inAliMiniProgram: f.inAliMiniProgram,
            postMessageAli: f.postMessageAli,
            getMessageAli: f.getMessageAli,
            jumpToH5: f.jumpToH5,
            alertAli: f.alertAli,
            jumpToApplet: f.jumpToApplet,
            gotoOtherPage: f.gotoOtherPage
        };
        t.default = m;
    },
    e380: function(e, t, n) {
        var r = n("7b83");
        function o(e, t) {
            if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError("Expected a function");
            var n = function n() {
                var r = arguments, o = t ? t.apply(this, r) : r[0], i = n.cache;
                if (i.has(o)) return i.get(o);
                var a = e.apply(this, r);
                return n.cache = i.set(o, a) || i, a;
            };
            return n.cache = new (o.Cache || r)(), n;
        }
        o.Cache = r, e.exports = o;
    },
    e3db: function(e, t) {
        var n = {}.toString;
        e.exports = Array.isArray || function(e) {
            return "[object Array]" == n.call(e);
        };
    },
    e3f8: function(e, t, n) {
        var r = n("656b");
        e.exports = function(e) {
            return function(t) {
                return r(t, e);
            };
        };
    },
    e629: function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAArlBMVEUAAADNzc3Nzc3Ly8vNzc3Ly8vNzc3JycnNzc3Ozs7MzMzPz8/Q0NDPz8/Q0NDU1NTU1NTNzc3X19fNzc3MzMzPz8/Ozs7Nzc3Nzc3MzMzOzs7Nzc3S0tLOzs7R0dHQ0NDKysrX19fOzs7Ozs7Pz8/Ozs7T09P////MzMzPz8/Jycn09PTq6ur39/fW1tb6+vrw8PDu7u7i4uLf39/R0dH5+fnk5OTx8fHb29vU1NTFwj3pAAAAJ3RSTlMAA/7++vry+93P9Kd8b2cnDcoS6+rewbium5FWVFBCPBgI6OfZmxcEZUMkAAACaUlEQVRYw5yS53bjIBBG8Qyoy73Gju1UBtTl/v4vtkTZzfHZuEmXf4LvamCG/aLVajGzloE/doYe597QGfvB0nyqtu5RxTuLYDZxR28W5wCcW28jdzILFp37iq/t/ir0HQ6E+gwk4I4frvrVmZuGddslQhQcQP0AwAUikdte38y32GfY8zgYg1bHfVwcoiSJDkW8Pypt8sC9XvjJWtfLf546AGhjWsZ5kmXyL1mW5HGZmg0AZ/pcnb2U785d4MKGtCx28he7okzBFhzceffyQ/TbAxKotptIXiHabBUKGrT7F27POk8WKaTv+HUFoSLrqWMi/+c/PAJ7u0/kTZL91gbyPirDuaBv/i/wFMu7xCcUpob+ucC8X9sij9JcPkCemqNW27zkmWA+IMI0kg8RpUg0mP8IvvrfI2Wfcvkg+clW1HtmP4ruFARuY/kw8RYFTLv/CngJHUIy+RoGE3DCl6qEF7bugYBNUkeQbEyktzbh7w6YAYhkLSIzDlUnzFq5gLDJ6gmyjQm5q0oQEtimgzWJUhsorGbYJ8JS1qZEIt9MNFu8I6ZFfUGRIr4vjCBQqMtdfcGu1KgCI5iB0LFsQKwFzBhbTkiovIkgV4ImSxa4CMekiSA5AroB80cI+10TwW4POPLZ+FWrOGsiyGKlX8fMsbQqZCMKpS2HDblWh2aCg9J8yCwjiJoJIiOwGAetkmaCRGngf0qvAxoAYBiGYfxZG4QJXPq/tUkf0FfoR+xv7EHqUe5l6nXeQOlI+1DtWN9i+Wrrct16b8BIxHnISsxr0FzUbdhe3G/heOV56Xrte/F89X35bv0HXyHKtO4k0pcAAAAASUVORK5CYII=";
    },
    e884: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = u(n("66fd")), o = u(n("26cb")), i = u(n("a69e")), a = u(n("027f")), s = u(n("0b97")), c = u(n("15e7"));
        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        r.default.use(o.default);
        var l = new o.default.Store({
            modules: {
                app: i.default,
                user: a.default,
                im: s.default,
                env: c.default
            }
        });
        t.default = l;
    },
    e924: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = t.INQUIRY_TYPE = t.INQUIRY_STATUS = t.INQUIRY_QUIT_STATUS = t.INQUIRY_PAY_STATUS = t.INQUIRY_MESSAGE_TYPE = t.INQUIRY_APPOINTMENT_TYPE = void 0;
        var r = {
            "图文问诊": "image",
            "视频问诊": "video",
            "复诊开药": "returnVisit"
        };
        t.INQUIRY_TYPE = r;
        var o = {
            "待支付": 1,
            "待接诊": 2,
            "问诊中": 3,
            "已退诊": 4,
            "已完成": 5,
            "已取消": 6
        };
        t.INQUIRY_STATUS = o;
        var i = {
            "待支付": 1,
            "已取消": 2,
            "已付款": 3,
            "退款中": 4,
            "已退款": 5
        };
        t.INQUIRY_PAY_STATUS = i;
        var a = {
            "非预约": 0,
            "预约成功": 1,
            "预约关闭": 2
        };
        t.INQUIRY_APPOINTMENT_TYPE = a;
        var s = {
            "待接诊手动退诊": 1,
            "待接诊系统退诊": 2,
            "已接诊系统退诊": 3,
            "已接诊手动退诊": 4,
            "已接诊自动退诊": 5,
            "线下退号退诊": 6
        };
        t.INQUIRY_QUIT_STATUS = s;
        var c = {
            "发起问诊": 700,
            "接诊": 710,
            "病历": 720,
            "处方": 730,
            "审核处方通过": 731,
            "处方被质疑": 732,
            "处方审核不通过": 733,
            "其他医嘱": 734,
            "检验": 735,
            "影像": 736,
            "结束问诊": 740,
            "评价提示": 741,
            "服务包提醒": 745,
            "退诊": 750,
            "取消问诊": 760,
            "视频通话": 770,
            "视频异常": 771,
            "服务提醒": 780,
            "检验挂号单提醒": 781,
            "检验单提醒": 782,
            "问诊卡片": 794,
            "检验挂号单": 797,
            "首诊单": 796,
            "检验单": 798,
            "结束语": 799
        };
        t.INQUIRY_MESSAGE_TYPE = c;
        var u = {
            INQUIRY_TYPE: r,
            INQUIRY_STATUS: o,
            INQUIRY_APPOINTMENT_TYPE: a,
            INQUIRY_QUIT_STATUS: s,
            INQUIRY_MESSAGE_TYPE: c,
            INQUIRY_PAY_STATUS: i
        };
        t.default = u;
    },
    eac5: function(e, t) {
        var n = Object.prototype;
        e.exports = function(e) {
            var t = e && e.constructor;
            return e === ("function" == typeof t && t.prototype || n);
        };
    },
    ec69: function(e, t, n) {
        var r = n("6fcd"), o = n("03dd"), i = n("30c9");
        e.exports = function(e) {
            return i(e) ? r(e) : o(e);
        };
    },
    edfa: function(e, t) {
        e.exports = function(e) {
            var t = -1, n = Array(e.size);
            return e.forEach(function(e, r) {
                n[++t] = [ r, e ];
            }), n;
        };
    },
    ee4f: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function(e) {
            return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
        };
    },
    eedc: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getEcState = t.getEcLink = t.getEcCode = t.default = t.authEc = t.analysisEcState = t.EC_REDIRECT_URL = void 0;
        var o = a(n("04c6")), i = a(n("e884"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function s() {
            s = function() {
                return e;
            };
            var e = {}, t = Object.prototype, n = t.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", c = o.toStringTag || "@@toStringTag";
            function u(e, t, n) {
                return Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t];
            }
            try {
                u({}, "");
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                u = function(e, t, n) {
                    return e[t] = n;
                };
            }
            function l(e, t, n, r) {
                var o = t && t.prototype instanceof p ? t : p, i = Object.create(o.prototype), a = new P(r || []);
                return i._invoke = function(e, t, n) {
                    var r = "suspendedStart";
                    return function(o, i) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw i;
                            return {
                                value: void 0,
                                done: !0
                            };
                        }
                        for (n.method = o, n.arg = i; ;) {
                            var a = n.delegate;
                            if (a) {
                                var s = S(a, n);
                                if (s) {
                                    if (s === f) continue;
                                    return s;
                                }
                            }
                            if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                if ("suspendedStart" === r) throw r = "completed", n.arg;
                                n.dispatchException(n.arg);
                            } else "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var c = d(e, t, n);
                            if ("normal" === c.type) {
                                if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue;
                                return {
                                    value: c.arg,
                                    done: n.done
                                };
                            }
                            "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg);
                        }
                    };
                }(e, n, a), i;
            }
            function d(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        type: "throw",
                        arg: e
                    };
                }
            }
            e.wrap = l;
            var f = {};
            function p() {}
            function m() {}
            function g() {}
            var h = {};
            u(h, i, function() {
                return this;
            });
            var y = Object.getPrototypeOf, v = y && y(y(A([])));
            v && v !== t && n.call(v, i) && (h = v);
            var b = g.prototype = p.prototype = Object.create(h);
            function T(e) {
                [ "next", "throw", "return" ].forEach(function(t) {
                    u(e, t, function(e) {
                        return this._invoke(t, e);
                    });
                });
            }
            function _(e, t) {
                function o(i, a, s, c) {
                    var u = d(e[i], e, a);
                    if ("throw" !== u.type) {
                        var l = u.arg, f = l.value;
                        return f && "object" == r(f) && n.call(f, "__await") ? t.resolve(f.__await).then(function(e) {
                            o("next", e, s, c);
                        }, function(e) {
                            o("throw", e, s, c);
                        }) : t.resolve(f).then(function(e) {
                            l.value = e, s(l);
                        }, function(e) {
                            return o("throw", e, s, c);
                        });
                    }
                    c(u.arg);
                }
                var i;
                this._invoke = function(e, n) {
                    function r() {
                        return new t(function(t, r) {
                            o(e, n, t, r);
                        });
                    }
                    return i = i ? i.then(r, r) : r();
                };
            }
            function S(e, t) {
                var n = e.iterator[t.method];
                if (void 0 === n) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, S(e, t), "throw" === t.method)) return f;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                    }
                    return f;
                }
                var r = d(n, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, 
                f;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                t.delegate = null, f);
            }
            function k(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                this.tryEntries.push(t);
            }
            function M(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t;
            }
            function P(e) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], e.forEach(k, this), this.reset(!0);
            }
            function A(e) {
                if (e) {
                    var t = e[i];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1, o = function t() {
                            for (;++r < e.length; ) if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                            return t.value = void 0, t.done = !0, t;
                        };
                        return o.next = o;
                    }
                }
                return {
                    next: w
                };
            }
            function w() {
                return {
                    value: void 0,
                    done: !0
                };
            }
            return m.prototype = g, u(b, "constructor", g), u(g, "constructor", m), m.displayName = u(g, c, "GeneratorFunction"), 
            e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === m || "GeneratorFunction" === (t.displayName || t.name));
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, g) : (e.__proto__ = g, u(e, c, "GeneratorFunction")), 
                e.prototype = Object.create(b), e;
            }, e.awrap = function(e) {
                return {
                    __await: e
                };
            }, T(_.prototype), u(_.prototype, a, function() {
                return this;
            }), e.AsyncIterator = _, e.async = function(t, n, r, o, i) {
                void 0 === i && (i = Promise);
                var a = new _(l(t, n, r, o), i);
                return e.isGeneratorFunction(n) ? a : a.next().then(function(e) {
                    return e.done ? e.value : a.next();
                });
            }, T(b), u(b, c, "Generator"), u(b, i, function() {
                return this;
            }), u(b, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(), function n() {
                    for (;t.length; ) {
                        var r = t.pop();
                        if (r in e) return n.value = r, n.done = !1, n;
                    }
                    return n.done = !0, n;
                };
            }, e.values = A, P.prototype = {
                constructor: P,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, 
                    this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(M), 
                    !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0);
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;
                    function r(n, r) {
                        return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), 
                        !!r;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return r("end");
                        if (i.tryLoc <= this.prev) {
                            var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc");
                            if (s && c) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            } else if (s) {
                                if (this.prev < i.catchLoc) return r(i.catchLoc, !0);
                            } else {
                                if (!c) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return r(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, 
                    f) : this.complete(a);
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                    this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                    f;
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), M(n), f;
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var n = this.tryEntries[t];
                        if (n.tryLoc === e) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                M(n);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, t, n) {
                    return this.delegate = {
                        iterator: A(e),
                        resultName: t,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = void 0), f;
                }
            }, e;
        }
        function c(e, t, n, r, o, i, a) {
            try {
                var s = e[i](a), c = s.value;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                return void n(e);
            }
            s.done ? t(c) : Promise.resolve(c).then(r, o);
        }
        var u = {
            family: i.default.state.env.VUE_APP_WEB_URL + i.default.state.env.VUE_APP_H5_FLODER_PATH + "pages/person/ec/showRedirect",
            consult: i.default.state.env.VUE_APP_WEB_URL + i.default.state.env.VUE_APP_H5_FLODER_PATH + "pages/person/ec/activationRedirect",
            drug: i.default.state.env.VUE_APP_WEB_URL + i.default.state.env.VUE_APP_H5_FLODER_PATH + "pages/person/ec/activationRedirect"
        };
        t.EC_REDIRECT_URL = u;
        var l = function(e) {
            return new Promise(function() {
                var t = function(e) {
                    return function() {
                        var t = this, n = arguments;
                        return new Promise(function(r, o) {
                            var i = e.apply(t, n);
                            function a(e) {
                                c(i, r, o, a, s, "next", e);
                            }
                            function s(e) {
                                c(i, r, o, a, s, "throw", e);
                            }
                            a(void 0);
                        });
                    };
                }(s().mark(function t(n) {
                    var r, o, i, a;
                    return s().wrap(function(t) {
                        for (;;) switch (t.prev = t.next) {
                          case 0:
                            return t.next = 2, d(e);

                          case 2:
                            if (200 !== (r = t.sent).code) {
                                t.next = 18;
                                break;
                            }
                            if (1 !== (null === (o = r.data) || void 0 === o ? void 0 : o.ecState)) {
                                t.next = 8;
                                break;
                            }
                            n(r), t.next = 16;
                            break;

                          case 8:
                            if (1 !== (null === (i = r.data) || void 0 === i ? void 0 : i.faceVerifyState)) {
                                t.next = 15;
                                break;
                            }
                            return t.next = 11, f({
                                familyId: e.familyId,
                                redirectUrl: u[e.type]
                            });

                          case 11:
                            200 === (a = t.sent).code ? n({
                                code: 201,
                                data: a.data,
                                msg: a.msg
                            }) : n(a), t.next = 16;
                            break;

                          case 15:
                            n({
                                code: 202,
                                data: {},
                                msg: "需进行实人认证"
                            });

                          case 16:
                            t.next = 19;
                            break;

                          case 18:
                            n(r);

                          case 19:
                          case "end":
                            return t.stop();
                        }
                    }, t);
                }));
                return function(e) {
                    return t.apply(this, arguments);
                };
            }());
        };
        t.authEc = l;
        var d = function(e) {
            return new Promise(function(t) {
                o.default.app.getEcState(e).then(function(e) {
                    t({
                        code: 200,
                        data: e.data,
                        msg: "查询医保电子凭证状态成功"
                    });
                }).catch(function() {
                    t({
                        code: 500,
                        data: {},
                        msg: "查询医保电子凭证状态失败"
                    });
                });
            });
        };
        t.getEcState = d;
        var f = function(e) {
            return new Promise(function(t) {
                o.default.app.getEcLink(e).then(function(e) {
                    t({
                        code: 200,
                        data: e.data,
                        msg: "获取医保电子凭证H5链接成功"
                    });
                }).catch(function(e) {
                    var n;
                    202 === (null === (n = e.data) || void 0 === n ? void 0 : n.code) ? t({
                        code: 500,
                        data: {},
                        msg: e.data.msg
                    }) : t({
                        code: 500,
                        data: {},
                        msg: "获取医保电子凭证H5链接失败"
                    });
                });
            });
        };
        t.getEcLink = f;
        var p = function(e) {
            return o.default.app.getEcCode(e);
        };
        t.getEcCode = p;
        var m = function(e) {
            return o.default.app.analysisEcState(e);
        };
        t.analysisEcState = m;
        var g = {
            EC_REDIRECT_URL: u,
            authEc: l,
            getEcState: d,
            getEcLink: f,
            getEcCode: p,
            analysisEcState: m
        };
        t.default = g;
    },
    ef5d: function(e, t) {
        e.exports = function(e) {
            return function(t) {
                return null == t ? void 0 : t[e];
            };
        };
    },
    efb6: function(e, t, n) {
        var r = n("5e2e");
        e.exports = function() {
            this.__data__ = new r(), this.size = 0;
        };
    },
    efbc: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.checkOrderDetail = f, t.checkOrderSubmit = d, t.default = void 0, t.getDetail = c, 
        t.getInspectPreSale = s, t.getInspectRegisterPreSale = a, t.orderSubmit = u, t.registerOrderDetail = l;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkRegisteringOrder/preSale";
            return r.default.post(t, e);
        }
        function s(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkOrder/preSale";
            return r.default.post(t, e);
        }
        function c(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkRegisteringOrder/preSale";
            return r.default.post(t, e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkRegisteringOrder/submit";
            return r.default.post(t, e);
        }
        function l(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkRegisteringOrder/detail";
            return r.default.post(t, e);
        }
        function d(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkOrder/submit";
            return r.default.post(t, e);
        }
        function f(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/checkOrder/detail";
            return r.default.post(t, e);
        }
        var p = {
            getInspectRegisterPreSale: a,
            getInspectPreSale: s,
            getDetail: c,
            orderSubmit: u,
            registerOrderDetail: l,
            checkOrderSubmit: d,
            checkOrderDetail: f
        };
        t.default = p;
    },
    f026: function(e, t, n) {
        String.prototype.padStart || (String.prototype.padStart = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " ";
            if ("[object String]" !== Object.prototype.toString.call(t)) throw new TypeError("fillString must be String");
            var n = this;
            if (n.length >= e) return String(n);
            for (var r = e - n.length, o = Math.ceil(r / t.length); o >>= 1; ) t += t, 1 === o && (t += t);
            return t.slice(0, r) + n;
        }), t.a = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy-mm-dd";
            e || (e = Number(new Date())), 10 == e.toString().length && (e *= 1e3);
            var n, r = new Date(e), o = {
                "y+": r.getFullYear().toString(),
                "m+": (r.getMonth() + 1).toString(),
                "d+": r.getDate().toString(),
                "h+": r.getHours().toString(),
                "M+": r.getMinutes().toString(),
                "s+": r.getSeconds().toString()
            };
            for (var i in o) (n = new RegExp("(" + i + ")").exec(t)) && (t = t.replace(n[1], 1 == n[1].length ? o[i] : o[i].padStart(n[1].length, "0")));
            return t;
        };
    },
    f0b5: function(e, t) {
        e.exports = {
            version: "v1.0.12",
            getCmsConfigErr: "GET_CMSCONFIG_ERROR",
            getCmsConfigCatch: "GET_CMSCONFIG_CATCH",
            requestFail: "REQUEST_FAIL",
            requestCatch: "REQUEST_CATCH",
            getTheNoticeErr: "GET_NOTICE_ERROR",
            sendSmsCodeErr: "SEND_SMSCODE_ERROR",
            verifySmsCodeErr: "VERIFY_SMSCODE_ERROR",
            updateIdinfoErr: "UPDATE_IDINFI_ERROR",
            checkIdinfoErr: "CHECK_IDINFO_ERROR",
            ocrinfoErr: "OCR_INFO_ERROR",
            ocrinfoUploadErr: "OCR_INFO_UPLOAD_ERROR",
            ocrinfoUploadFail: "OCR_INFO_UPLOAD_FAIL",
            preLivingbodyExecErr: "PRE_LIVINGBODY_EXEC_ERROR",
            livingbodyVerifyErr: "LIVINGBODY_VERIFY_ERROR",
            exitVerifyFail: "EXIT_VERIFY_FAIL",
            lipcodeErr: "LIP_CODE_ERROR",
            memoryWarn: "MEMORY_WARNING"
        };
    },
    f0c5: function(e, t, n) {
        function r(e, t, n, r, o, i, a, s, c, u) {
            var l, d = "function" == typeof e ? e.options : e;
            if (c) {
                d.components || (d.components = {});
                var f = Object.prototype.hasOwnProperty;
                for (var p in c) f.call(c, p) && !f.call(d.components, p) && (d.components[p] = c[p]);
            }
            if (u && ((u.beforeCreate || (u.beforeCreate = [])).unshift(function() {
                this[u.__module] = this;
            }), (d.mixins || (d.mixins = [])).push(u)), t && (d.render = t, d.staticRenderFns = n, 
            d._compiled = !0), r && (d.functional = !0), i && (d._scopeId = "data-v-" + i), 
            a ? (l = function(e) {
                (e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (e = __VUE_SSR_CONTEXT__), 
                o && o.call(this, e), e && e._registeredComponents && e._registeredComponents.add(a);
            }, d._ssrRegister = l) : o && (l = s ? function() {
                o.call(this, this.$root.$options.shadowRoot);
            } : o), l) if (d.functional) {
                d._injectStyles = l;
                var m = d.render;
                d.render = function(e, t) {
                    return l.call(t), m(e, t);
                };
            } else {
                var g = d.beforeCreate;
                d.beforeCreate = g ? [].concat(g, l) : [ l ];
            }
            return {
                exports: e,
                options: d
            };
        }
        n.d(t, "a", function() {
            return r;
        });
    },
    f271: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r = n("b786");
        function o(e, t) {
            var n = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable;
                })), n.push.apply(n, r);
            }
            return n;
        }
        function i(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? o(Object(n), !0).forEach(function(t) {
                    a(e, t, n[t]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : o(Object(n)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                });
            }
            return e;
        }
        function a(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e;
        }
        var s = function(e, t, n) {
            var o = {};
            return e.forEach(function(e) {
                (0, r.isUndefined)(n[e]) ? (0, r.isUndefined)(t[e]) || (o[e] = t[e]) : o[e] = n[e];
            }), o;
        };
        t.default = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.method || e.method || "GET", o = {
                baseURL: e.baseURL || "",
                method: n,
                url: t.url || "",
                params: t.params || {},
                custom: i(i({}, e.custom || {}), t.custom || {}),
                header: (0, r.deepMerge)(e.header || {}, t.header || {})
            }, a = [ "getTask", "validateStatus" ];
            if (o = i(i({}, o), s(a, e, t)), "DOWNLOAD" === n) ; else if ("UPLOAD" === n) {
                delete o.header["content-type"], delete o.header["Content-Type"];
                var c = [ "filePath", "name", "formData" ];
                c.forEach(function(e) {
                    (0, r.isUndefined)(t[e]) || (o[e] = t[e]);
                });
            } else {
                var u = [ "data", "timeout", "dataType", "responseType" ];
                o = i(i({}, o), s(u, e, t));
            }
            return o;
        };
    },
    f3c1: function(e, t) {
        var n = Date.now;
        e.exports = function(e) {
            var t = 0, r = 0;
            return function() {
                var o = n(), i = 16 - (o - r);
                if (r = o, i > 0) {
                    if (++t >= 800) return arguments[0];
                } else t = 0;
                return e.apply(void 0, arguments);
            };
        };
    },
    f3da: function(e, t, n) {
        function r(e) {
            return (r = "function" == typeof Symbol && "symbol" == _typeof3(Symbol.iterator) ? function(e) {
                return _typeof3(e);
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof3(e);
            })(e);
        }
        e.exports = function(e) {
            var t = {};
            function n(r) {
                if (t[r]) return t[r].exports;
                var o = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
            }
            return n.m = e, n.c = t, n.d = function(e, t, r) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                });
            }, n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(e, "__esModule", {
                    value: !0
                });
            }, n.t = function(e, t) {
                if (1 & t && (e = n(e)), 8 & t) return e;
                if (4 & t && "object" == r(e) && e && e.__esModule) return e;
                var o = Object.create(null);
                if (n.r(o), Object.defineProperty(o, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e) for (var i in e) n.d(o, i, function(t) {
                    return e[t];
                }.bind(null, i));
                return o;
            }, n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default;
                } : function() {
                    return e;
                };
                return n.d(t, "a", t), t;
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }, n.p = "", n(n.s = 67);
        }([ function(e, t) {
            var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
            "number" == typeof __g && (__g = n);
        }, function(e, t, n) {
            var r = n(36)("wks"), o = n(24), i = n(0).Symbol, a = "function" == typeof i;
            (e.exports = function(e) {
                return r[e] || (r[e] = a && i[e] || (a ? i : o)("Symbol." + e));
            }).store = r;
        }, function(e, t) {
            var n = e.exports = {
                version: "2.6.9"
            };
            "number" == typeof __e && (__e = n);
        }, function(e, t, n) {
            var r = n(8);
            e.exports = function(e) {
                if (!r(e)) throw TypeError(e + " is not an object!");
                return e;
            };
        }, function(e, t, n) {
            t.__esModule = !0, t.default = function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            };
        }, function(e, t, n) {
            t.__esModule = !0;
            var r, o = (r = n(45)) && r.__esModule ? r : {
                default: r
            };
            t.default = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
                        (0, o.default)(e, r.key, r);
                    }
                }
                return function(t, n, r) {
                    return n && e(t.prototype, n), r && e(t, r), t;
                };
            }();
        }, function(e, t, n) {
            var r = n(0), o = n(2), i = n(15), a = n(10), s = n(11), c = function e(t, n, c) {
                var u, l, d, f = t & e.F, p = t & e.G, m = t & e.S, g = t & e.P, h = t & e.B, y = t & e.W, v = p ? o : o[n] || (o[n] = {}), b = v.prototype, T = p ? r : m ? r[n] : (r[n] || {}).prototype;
                for (u in p && (c = n), c) (l = !f && T && void 0 !== T[u]) && s(v, u) || (d = l ? T[u] : c[u], 
                v[u] = p && "function" != typeof T[u] ? c[u] : h && l ? i(d, r) : y && T[u] == d ? function(e) {
                    var t = function(t, n, r) {
                        if (this instanceof e) {
                            switch (arguments.length) {
                              case 0:
                                return new e();

                              case 1:
                                return new e(t);

                              case 2:
                                return new e(t, n);
                            }
                            return new e(t, n, r);
                        }
                        return e.apply(this, arguments);
                    };
                    return t.prototype = e.prototype, t;
                }(d) : g && "function" == typeof d ? i(Function.call, d) : d, g && ((v.virtual || (v.virtual = {}))[u] = d, 
                t & e.R && b && !b[u] && a(b, u, d)));
            };
            c.F = 1, c.G = 2, c.S = 4, c.P = 8, c.B = 16, c.W = 32, c.U = 64, c.R = 128, e.exports = c;
        }, function(e, t, n) {
            var r = n(3), o = n(46), i = n(30), a = Object.defineProperty;
            t.f = n(9) ? Object.defineProperty : function(e, t, n) {
                if (r(e), t = i(t, !0), r(n), o) try {
                    return a(e, t, n);
                } catch (e) {}
                if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
                return "value" in n && (e[t] = n.value), e;
            };
        }, function(e, t) {
            e.exports = function(e) {
                return "object" == r(e) ? null !== e : "function" == typeof e;
            };
        }, function(e, t, n) {
            e.exports = !n(22)(function() {
                return 7 != Object.defineProperty({}, "a", {
                    get: function() {
                        return 7;
                    }
                }).a;
            });
        }, function(e, t, n) {
            var r = n(7), o = n(23);
            e.exports = n(9) ? function(e, t, n) {
                return r.f(e, t, o(1, n));
            } : function(e, t, n) {
                return e[t] = n, e;
            };
        }, function(e, t) {
            var n = {}.hasOwnProperty;
            e.exports = function(e, t) {
                return n.call(e, t);
            };
        }, function(e, t, n) {
            t.__esModule = !0;
            var o = s(n(71)), i = s(n(83)), a = "function" == typeof i.default && "symbol" == r(o.default) ? function(e) {
                return r(e);
            } : function(e) {
                return e && "function" == typeof i.default && e.constructor === i.default && e !== i.default.prototype ? "symbol" : r(e);
            };
            function s(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            t.default = "function" == typeof i.default && "symbol" === a(o.default) ? function(e) {
                return void 0 === e ? "undefined" : a(e);
            } : function(e) {
                return e && "function" == typeof i.default && e.constructor === i.default && e !== i.default.prototype ? "symbol" : void 0 === e ? "undefined" : a(e);
            };
        }, function(e, t, n) {
            var r = n(76), o = n(32);
            e.exports = function(e) {
                return r(o(e));
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = n(127);
            Object.defineProperty(t, "CONSTANT_ERROR", {
                enumerable: !0,
                get: function() {
                    return i(r).default;
                }
            });
            var o = n(128);
            function i(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            Object.defineProperty(t, "CONSTANT_SOCKET", {
                enumerable: !0,
                get: function() {
                    return i(o).default;
                }
            }), t.NETCALL_MODE = {
                NETCALL_MODE_AUDIO_VIDEO: 0,
                NETCALL_MODE_ONLY_AUDIO: 1,
                NETCALL_MODE_ONLY_VIDEO: 2,
                NETCALL_MODE_NOAUDIO_NOVIDEO: 3
            }, t.SESSION_MODE = {
                P2P: 0,
                MEETING: 1
            }, t.ROLE_FOR_MEETING = {
                ROLE_HOST: 0,
                ROLE_AUDIENCE: 1
            }, t.RECORD_TYPE = {
                RECORD_TYPE_MIX_SINGLE: "0",
                RECORD_TYPE_ONLY_MIX: "1",
                RECORD_TYPE_ONLY_SINGLE: "2"
            }, t.RECORD_AUDIO = {
                RECORD_AUDIO_OPEN: 1,
                RECORD_AUDIO_CLOSE: 0
            }, t.RECORD_VIDEO = {
                RECORD_VIDEO_OPEN: 1,
                RECORD_VIDEO_CLOSE: 0
            }, t.RTMP_RECORD = {
                RTMP_RECORD_OPEN: 1,
                RTMP_RECORD_CLOSE: 0
            }, t.LIVE_ENABLE = {
                LIVE_ENABLE_OPEN: 1,
                LIVE_ENABLE_CLOSE: 0
            }, t.VOICE_BEAUTIFIER_TYPE = {
                VOICE_BEAUTIFIER_OFF: 0,
                VOICE_BEAUTIFIER_MUFFLED: 1,
                VOICE_BEAUTIFIER_MELLOW: 2,
                VOICE_BEAUTIFIER_CLEAR: 3,
                VOICE_BEAUTIFIER_MAGNETIC: 4,
                VOICE_BEAUTIFIER_RECORDINGSTUDIO: 5,
                VOICE_BEAUTIFIER_NATURE: 6,
                VOICE_BEAUTIFIER_KTV: 7,
                VOICE_BEAUTIFIER_REMOTE: 8,
                VOICE_BEAUTIFIER_CHURCH: 9,
                VOICE_BEAUTIFIER_BEDROOM: 10,
                VOICE_BEAUTIFIER_LIVE: 11
            }, t.VOICE_EFFECT_TYPE = {
                AUDIO_EFFECT_OFF: 0,
                VOICE_CHANGER_EFFECT_ROBOT: 1,
                VOICE_CHANGER_EFFECT_GIANT: 2,
                VOICE_CHANGER_EFFECT_HORROR: 3,
                VOICE_CHANGER_EFFECT_MATURE: 4,
                VOICE_CHANGER_EFFECT_MANTOWOMAN: 5,
                VOICE_CHANGER_EFFECT_WOMANTOMAN: 6,
                VOICE_CHANGER_EFFECT_MANTOLOLI: 7,
                VOICE_CHANGER_EFFECT_WOMANTOLOLI: 8
            }, t.AUDIO_EQUALIZATION_BAND = {
                AUDIO_EQUALIZATION_BAND_31: 31,
                AUDIO_EQUALIZATION_BAND_62: 62,
                AUDIO_EQUALIZATION_BAND_125: 125,
                AUDIO_EQUALIZATION_BAND_250: 250,
                AUDIO_EQUALIZATION_BAND_500: 500,
                AUDIO_EQUALIZATION_BAND_1K: 1e3,
                AUDIO_EQUALIZATION_BAND_2K: 2e3,
                AUDIO_EQUALIZATION_BAND_4K: 4e3,
                AUDIO_EQUALIZATION_BAND_8K: 8e3,
                AUDIO_EQUALIZATION_BAND_16K: 16e3
            };
        }, function(e, t, n) {
            var r = n(21);
            e.exports = function(e, t, n) {
                if (r(e), void 0 === t) return e;
                switch (n) {
                  case 1:
                    return function(n) {
                        return e.call(t, n);
                    };

                  case 2:
                    return function(n, r) {
                        return e.call(t, n, r);
                    };

                  case 3:
                    return function(n, r, o) {
                        return e.call(t, n, r, o);
                    };
                }
                return function() {
                    return e.apply(t, arguments);
                };
            };
        }, function(e, t, n) {
            t.__esModule = !0;
            var r, o = (r = n(12)) && r.__esModule ? r : {
                default: r
            };
            t.default = function(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" !== (void 0 === t ? "undefined" : (0, o.default)(t)) && "function" != typeof t ? e : t;
            };
        }, function(e, t) {
            e.exports = !0;
        }, function(e, t) {
            e.exports = {};
        }, function(e, t) {
            var n = {}.toString;
            e.exports = function(e) {
                return n.call(e).slice(8, -1);
            };
        }, function(e, t, n) {
            t.__esModule = !0;
            var r = a(n(92)), o = a(n(96)), i = a(n(12));
            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            t.default = function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === t ? "undefined" : (0, 
                i.default)(t)));
                e.prototype = (0, o.default)(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (r.default ? (0, r.default)(e, t) : e.__proto__ = t);
            };
        }, function(e, t) {
            e.exports = function(e) {
                if ("function" != typeof e) throw TypeError(e + " is not a function!");
                return e;
            };
        }, function(e, t) {
            e.exports = function(e) {
                try {
                    return !!e();
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return !0;
                }
            };
        }, function(e, t) {
            e.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                };
            };
        }, function(e, t) {
            var n = 0, r = Math.random();
            e.exports = function(e) {
                return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + r).toString(36));
            };
        }, function(e, t, n) {
            var r = n(7).f, o = n(11), i = n(1)("toStringTag");
            e.exports = function(e, t, n) {
                e && !o(e = n ? e : e.prototype, i) && r(e, i, {
                    configurable: !0,
                    value: t
                });
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = i(n(4)), o = i(n(5));
            function i(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var a = function() {
                function e() {
                    (0, r.default)(this, e), this.eventReset();
                }
                return (0, o.default)(e, [ {
                    key: "eventReset",
                    value: function() {
                        var e = this;
                        this._eventListeners && Object.keys(this._eventListeners).forEach(function(t) {
                            delete e._eventListeners[t];
                        }), this._eventListeners = {}, this._eventOnceListener && Object.keys(this._eventOnceListener).forEach(function(t) {
                            delete e._eventOnceListener[t];
                        }), this._eventOnceListener = {};
                    }
                }, {
                    key: "on",
                    value: function(e, t) {
                        if (!e) throw Error({
                            message: "event listener funkey undefined",
                            callFunc: "adapter:_on"
                        });
                        if (!(t instanceof Function)) throw Error({
                            message: "event listener next param should be function",
                            callFunc: "adapter:_on"
                        });
                        this._eventListeners[e] = t;
                    }
                }, {
                    key: "off",
                    value: function(e) {
                        if (!e) throw Error({
                            message: "event listener funkey undefined",
                            callFunc: "adapter:_off"
                        });
                        if (!this._eventListeners[e]) throw Error({
                            message: "event listener unbind failed!",
                            callFunc: "adapter:_off"
                        });
                        delete this._eventListeners[e];
                    }
                }, {
                    key: "once",
                    value: function(e, t) {
                        if (!e) throw Error({
                            message: "event once listener funkey undefined",
                            callFunc: "adapter:_once"
                        });
                        if (!(t instanceof Function)) throw Error({
                            message: "event once listener next param should be function",
                            callFunc: "adapter:_once"
                        });
                        this._eventOnceListener[e] = t;
                    }
                }, {
                    key: "emit",
                    value: function(e, t) {
                        var n = this;
                        this._eventOnceListener && this._eventOnceListener[e] instanceof Function && setTimeout(function() {
                            n._eventOnceListener[e](t), delete n._eventOnceListener[e];
                        }, 0), this._eventListeners && this._eventListeners[e] instanceof Function && setTimeout(function() {
                            n._eventListeners[e] && n._eventListeners[e](t);
                        }, 0);
                    }
                } ]), e;
            }();
            t.default = a, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r, o, i = (r = n(12)) && r.__esModule ? r : {
                default: r
            }, a = {
                post: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.verifyOptions(t, "url"), new Promise(function(r, o) {
                        "qq" === t.runtimeEnvironment ? qq.request({
                            url: t.url,
                            method: "post",
                            data: e,
                            header: Object.assign({
                                "content-type": "application/x-www-form-urlencoded"
                            }, n),
                            success: function(e) {
                                var t = e.data;
                                r(t);
                            },
                            fail: function(e) {
                                o(e);
                            }
                        }) : wx.request({
                            url: t.url,
                            method: "post",
                            data: e,
                            header: Object.assign({
                                "content-type": "application/x-www-form-urlencoded"
                            }, n),
                            success: function(e) {
                                var t = e.data;
                                r(t);
                            },
                            fail: function(e) {
                                o(e);
                            }
                        });
                    });
                },
                merge: function() {
                    var e = arguments;
                    return e[0] = Object.assign.apply(Object.assign, arguments), e[0];
                },
                verifyOptions: function() {
                    var e = arguments;
                    if (e[0] && e[0].constructor === Object) for (var t = 1; t < arguments.length; t++) {
                        var n = e[t];
                        (n = n.split(" ")).map(function(t) {
                            if (!e[0][t] && 0 != e[0][t]) throw Error("参数缺失 " + t);
                        });
                    }
                },
                deepClone: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    for (var n in e) "object" === (0, i.default)(e[n]) ? (t[n] = e[n].constructor === Array ? [] : {}, 
                    this.deepClone(e[n], t[n])) : t[n] = e[n];
                    return t;
                },
                guid: (o = function() {
                    return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
                }, function() {
                    return o() + o() + o() + o() + o() + o() + o() + o();
                }),
                uuid: function() {
                    var e = function() {
                        return (1e5 * (1 + Math.random()) | 0).toString(10).substring(1);
                    };
                    return function() {
                        return e() + e() + e();
                    };
                }(),
                isString: function(e) {
                    return e.constructor === String;
                },
                isNumber: function(e) {
                    return e.constructor === Number;
                },
                isBoolean: function(e) {
                    return e.constructor === Boolean;
                },
                isObject: function(e) {
                    return e.constructor === Object;
                },
                isArray: function(e) {
                    return e.constructor === Array;
                },
                isFunction: function(e) {
                    return e.constructor === Function;
                },
                isDate: function(e) {
                    return e.constructor === Date;
                },
                isRegExp: function(e) {
                    return e.constructor === RegExp;
                },
                isNull: function(e) {
                    return null === e;
                },
                isUndefined: function(e) {
                    return void 0 === e;
                },
                exist: function(e) {
                    return !isNull(e) && !isUndefined(e);
                }
            };
            t.default = a, e.exports = t.default;
        }, function(e, t, n) {
            var o;
            !function(i) {
                var a, s = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, c = Math.ceil, u = Math.floor, l = "[BigNumber Error] ", d = l + "Number primitive has more than 15 significant digits: ", f = 1e14, p = 14, m = 9007199254740991, g = [ 1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13 ], h = 1e7, y = 1e9;
                function v(e) {
                    var t = 0 | e;
                    return e > 0 || e === t ? t : t - 1;
                }
                function b(e) {
                    for (var t, n, r = 1, o = e.length, i = e[0] + ""; r < o; ) {
                        for (t = e[r++] + "", n = p - t.length; n--; t = "0" + t) ;
                        i += t;
                    }
                    for (o = i.length; 48 === i.charCodeAt(--o); ) ;
                    return i.slice(0, o + 1 || 1);
                }
                function T(e, t) {
                    var n, r, o = e.c, i = t.c, a = e.s, s = t.s, c = e.e, u = t.e;
                    if (!a || !s) return null;
                    if (n = o && !o[0], r = i && !i[0], n || r) return n ? r ? 0 : -s : a;
                    if (a != s) return a;
                    if (n = a < 0, r = c == u, !o || !i) return r ? 0 : !o ^ n ? 1 : -1;
                    if (!r) return c > u ^ n ? 1 : -1;
                    for (s = (c = o.length) < (u = i.length) ? c : u, a = 0; a < s; a++) if (o[a] != i[a]) return o[a] > i[a] ^ n ? 1 : -1;
                    return c == u ? 0 : c > u ^ n ? 1 : -1;
                }
                function _(e, t, n, r) {
                    if (e < t || e > n || e !== u(e)) throw Error(l + (r || "Argument") + ("number" == typeof e ? e < t || e > n ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(e));
                }
                function S(e) {
                    var t = e.c.length - 1;
                    return v(e.e / p) == t && e.c[t] % 2 != 0;
                }
                function k(e, t) {
                    return (e.length > 1 ? e.charAt(0) + "." + e.slice(1) : e) + (t < 0 ? "e" : "e+") + t;
                }
                function M(e, t, n) {
                    var r, o;
                    if (t < 0) {
                        for (o = n + "."; ++t; o += n) ;
                        e = o + e;
                    } else if (++t > (r = e.length)) {
                        for (o = n, t -= r; --t; o += n) ;
                        e += o;
                    } else t < r && (e = e.slice(0, t) + "." + e.slice(t));
                    return e;
                }
                (a = function e(t) {
                    var n, o, i, a, P, A, w, O, E, I = H.prototype = {
                        constructor: H,
                        toString: null,
                        valueOf: null
                    }, x = new H(1), C = 20, R = 4, j = -7, N = 21, L = -1e7, U = 1e7, D = !1, F = 1, B = 0, V = {
                        prefix: "",
                        groupSize: 3,
                        secondaryGroupSize: 0,
                        groupSeparator: ",",
                        decimalSeparator: ".",
                        fractionGroupSize: 0,
                        fractionGroupSeparator: " ",
                        suffix: ""
                    }, q = "0123456789abcdefghijklmnopqrstuvwxyz";
                    function H(e, t) {
                        var n, r, a, c, l, f, g, h, y = this;
                        if (!(y instanceof H)) return new H(e, t);
                        if (null == t) {
                            if (e && !0 === e._isBigNumber) return y.s = e.s, void (!e.c || e.e > U ? y.c = y.e = null : e.e < L ? y.c = [ y.e = 0 ] : (y.e = e.e, 
                            y.c = e.c.slice()));
                            if ((f = "number" == typeof e) && 0 * e == 0) {
                                if (y.s = 1 / e < 0 ? (e = -e, -1) : 1, e === ~~e) {
                                    for (c = 0, l = e; l >= 10; l /= 10, c++) ;
                                    return void (c > U ? y.c = y.e = null : (y.e = c, y.c = [ e ]));
                                }
                                h = String(e);
                            } else {
                                if (!s.test(h = String(e))) return i(y, h, f);
                                y.s = 45 == h.charCodeAt(0) ? (h = h.slice(1), -1) : 1;
                            }
                            (c = h.indexOf(".")) > -1 && (h = h.replace(".", "")), (l = h.search(/e/i)) > 0 ? (c < 0 && (c = l), 
                            c += +h.slice(l + 1), h = h.substring(0, l)) : c < 0 && (c = h.length);
                        } else {
                            if (_(t, 2, q.length, "Base"), 10 == t) return Y(y = new H(e), C + y.e + 1, R);
                            if (h = String(e), f = "number" == typeof e) {
                                if (0 * e != 0) return i(y, h, f, t);
                                if (y.s = 1 / e < 0 ? (h = h.slice(1), -1) : 1, H.DEBUG && h.replace(/^0\.0*|\./, "").length > 15) throw Error(d + e);
                            } else y.s = 45 === h.charCodeAt(0) ? (h = h.slice(1), -1) : 1;
                            for (n = q.slice(0, t), c = l = 0, g = h.length; l < g; l++) if (n.indexOf(r = h.charAt(l)) < 0) {
                                if ("." == r) {
                                    if (l > c) {
                                        c = g;
                                        continue;
                                    }
                                } else if (!a && (h == h.toUpperCase() && (h = h.toLowerCase()) || h == h.toLowerCase() && (h = h.toUpperCase()))) {
                                    a = !0, l = -1, c = 0;
                                    continue;
                                }
                                return i(y, String(e), f, t);
                            }
                            f = !1, (c = (h = o(h, t, 10, y.s)).indexOf(".")) > -1 ? h = h.replace(".", "") : c = h.length;
                        }
                        for (l = 0; 48 === h.charCodeAt(l); l++) ;
                        for (g = h.length; 48 === h.charCodeAt(--g); ) ;
                        if (h = h.slice(l, ++g)) {
                            if (g -= l, f && H.DEBUG && g > 15 && (e > m || e !== u(e))) throw Error(d + y.s * e);
                            if ((c = c - l - 1) > U) y.c = y.e = null; else if (c < L) y.c = [ y.e = 0 ]; else {
                                if (y.e = c, y.c = [], l = (c + 1) % p, c < 0 && (l += p), l < g) {
                                    for (l && y.c.push(+h.slice(0, l)), g -= p; l < g; ) y.c.push(+h.slice(l, l += p));
                                    l = p - (h = h.slice(l)).length;
                                } else l -= g;
                                for (;l--; h += "0") ;
                                y.c.push(+h);
                            }
                        } else y.c = [ y.e = 0 ];
                    }
                    function $(e, t, n, r) {
                        var o, i, a, s, c;
                        if (null == n ? n = R : _(n, 0, 8), !e.c) return e.toString();
                        if (o = e.c[0], a = e.e, null == t) c = b(e.c), c = 1 == r || 2 == r && (a <= j || a >= N) ? k(c, a) : M(c, a, "0"); else if (i = (e = Y(new H(e), t, n)).e, 
                        s = (c = b(e.c)).length, 1 == r || 2 == r && (t <= i || i <= j)) {
                            for (;s < t; c += "0", s++) ;
                            c = k(c, i);
                        } else if (t -= a, c = M(c, i, "0"), i + 1 > s) {
                            if (--t > 0) for (c += "."; t--; c += "0") ;
                        } else if ((t += i - s) > 0) for (i + 1 == s && (c += "."); t--; c += "0") ;
                        return e.s < 0 && o ? "-" + c : c;
                    }
                    function z(e, t) {
                        for (var n, r = 1, o = new H(e[0]); r < e.length; r++) {
                            if (!(n = new H(e[r])).s) {
                                o = n;
                                break;
                            }
                            t.call(o, n) && (o = n);
                        }
                        return o;
                    }
                    function G(e, t, n) {
                        for (var r = 1, o = t.length; !t[--o]; t.pop()) ;
                        for (o = t[0]; o >= 10; o /= 10, r++) ;
                        return (n = r + n * p - 1) > U ? e.c = e.e = null : n < L ? e.c = [ e.e = 0 ] : (e.e = n, 
                        e.c = t), e;
                    }
                    function Y(e, t, n, r) {
                        var o, i, a, s, l, d, m, h = e.c, y = g;
                        if (h) {
                            e: {
                                for (o = 1, s = h[0]; s >= 10; s /= 10, o++) ;
                                if ((i = t - o) < 0) i += p, a = t, m = (l = h[d = 0]) / y[o - a - 1] % 10 | 0; else if ((d = c((i + 1) / p)) >= h.length) {
                                    if (!r) break e;
                                    for (;h.length <= d; h.push(0)) ;
                                    l = m = 0, o = 1, a = (i %= p) - p + 1;
                                } else {
                                    for (l = s = h[d], o = 1; s >= 10; s /= 10, o++) ;
                                    m = (a = (i %= p) - p + o) < 0 ? 0 : l / y[o - a - 1] % 10 | 0;
                                }
                                if (r = r || t < 0 || null != h[d + 1] || (a < 0 ? l : l % y[o - a - 1]), r = n < 4 ? (m || r) && (0 == n || n == (e.s < 0 ? 3 : 2)) : m > 5 || 5 == m && (4 == n || r || 6 == n && (i > 0 ? a > 0 ? l / y[o - a] : 0 : h[d - 1]) % 10 & 1 || n == (e.s < 0 ? 8 : 7)), 
                                t < 1 || !h[0]) return h.length = 0, r ? (t -= e.e + 1, h[0] = y[(p - t % p) % p], 
                                e.e = -t || 0) : h[0] = e.e = 0, e;
                                if (0 == i ? (h.length = d, s = 1, d--) : (h.length = d + 1, s = y[p - i], h[d] = a > 0 ? u(l / y[o - a] % y[a]) * s : 0), 
                                r) for (;;) {
                                    if (0 == d) {
                                        for (i = 1, a = h[0]; a >= 10; a /= 10, i++) ;
                                        for (a = h[0] += s, s = 1; a >= 10; a /= 10, s++) ;
                                        i != s && (e.e++, h[0] == f && (h[0] = 1));
                                        break;
                                    }
                                    if (h[d] += s, h[d] != f) break;
                                    h[d--] = 0, s = 1;
                                }
                                for (i = h.length; 0 === h[--i]; h.pop()) ;
                            }
                            e.e > U ? e.c = e.e = null : e.e < L && (e.c = [ e.e = 0 ]);
                        }
                        return e;
                    }
                    function W(e) {
                        var t, n = e.e;
                        return null === n ? e.toString() : (t = b(e.c), t = n <= j || n >= N ? k(t, n) : M(t, n, "0"), 
                        e.s < 0 ? "-" + t : t);
                    }
                    return H.clone = e, H.ROUND_UP = 0, H.ROUND_DOWN = 1, H.ROUND_CEIL = 2, H.ROUND_FLOOR = 3, 
                    H.ROUND_HALF_UP = 4, H.ROUND_HALF_DOWN = 5, H.ROUND_HALF_EVEN = 6, H.ROUND_HALF_CEIL = 7, 
                    H.ROUND_HALF_FLOOR = 8, H.EUCLID = 9, H.config = H.set = function(e) {
                        var t, n;
                        if (null != e) {
                            if ("object" != r(e)) throw Error(l + "Object expected: " + e);
                            if (e.hasOwnProperty(t = "DECIMAL_PLACES") && (_(n = e[t], 0, y, t), C = n), e.hasOwnProperty(t = "ROUNDING_MODE") && (_(n = e[t], 0, 8, t), 
                            R = n), e.hasOwnProperty(t = "EXPONENTIAL_AT") && ((n = e[t]) && n.pop ? (_(n[0], -y, 0, t), 
                            _(n[1], 0, y, t), j = n[0], N = n[1]) : (_(n, -y, y, t), j = -(N = n < 0 ? -n : n))), 
                            e.hasOwnProperty(t = "RANGE")) if ((n = e[t]) && n.pop) _(n[0], -y, -1, t), _(n[1], 1, y, t), 
                            L = n[0], U = n[1]; else {
                                if (_(n, -y, y, t), !n) throw Error(l + t + " cannot be zero: " + n);
                                L = -(U = n < 0 ? -n : n);
                            }
                            if (e.hasOwnProperty(t = "CRYPTO")) {
                                if ((n = e[t]) !== !!n) throw Error(l + t + " not true or false: " + n);
                                if (n) {
                                    if ("undefined" == typeof crypto || !crypto || !crypto.getRandomValues && !crypto.randomBytes) throw D = !n, 
                                    Error(l + "crypto unavailable");
                                    D = n;
                                } else D = n;
                            }
                            if (e.hasOwnProperty(t = "MODULO_MODE") && (_(n = e[t], 0, 9, t), F = n), e.hasOwnProperty(t = "POW_PRECISION") && (_(n = e[t], 0, y, t), 
                            B = n), e.hasOwnProperty(t = "FORMAT")) {
                                if ("object" != r(n = e[t])) throw Error(l + t + " not an object: " + n);
                                V = n;
                            }
                            if (e.hasOwnProperty(t = "ALPHABET")) {
                                if ("string" != typeof (n = e[t]) || /^.?$|[+\-.\s]|(.).*\1/.test(n)) throw Error(l + t + " invalid: " + n);
                                q = n;
                            }
                        }
                        return {
                            DECIMAL_PLACES: C,
                            ROUNDING_MODE: R,
                            EXPONENTIAL_AT: [ j, N ],
                            RANGE: [ L, U ],
                            CRYPTO: D,
                            MODULO_MODE: F,
                            POW_PRECISION: B,
                            FORMAT: V,
                            ALPHABET: q
                        };
                    }, H.isBigNumber = function(e) {
                        if (!e || !0 !== e._isBigNumber) return !1;
                        if (!H.DEBUG) return !0;
                        var t, n, r = e.c, o = e.e, i = e.s;
                        e: if ("[object Array]" == {}.toString.call(r)) {
                            if ((1 === i || -1 === i) && o >= -y && o <= y && o === u(o)) {
                                if (0 === r[0]) {
                                    if (0 === o && 1 === r.length) return !0;
                                    break e;
                                }
                                if ((t = (o + 1) % p) < 1 && (t += p), String(r[0]).length == t) {
                                    for (t = 0; t < r.length; t++) if ((n = r[t]) < 0 || n >= f || n !== u(n)) break e;
                                    if (0 !== n) return !0;
                                }
                            }
                        } else if (null === r && null === o && (null === i || 1 === i || -1 === i)) return !0;
                        throw Error(l + "Invalid BigNumber: " + e);
                    }, H.maximum = H.max = function() {
                        return z(arguments, I.lt);
                    }, H.minimum = H.min = function() {
                        return z(arguments, I.gt);
                    }, H.random = (a = 9007199254740992 * Math.random() & 2097151 ? function() {
                        return u(9007199254740992 * Math.random());
                    } : function() {
                        return 8388608 * (1073741824 * Math.random() | 0) + (8388608 * Math.random() | 0);
                    }, function(e) {
                        var t, n, r, o, i, s = 0, d = [], f = new H(x);
                        if (null == e ? e = C : _(e, 0, y), o = c(e / p), D) if (crypto.getRandomValues) {
                            for (t = crypto.getRandomValues(new Uint32Array(o *= 2)); s < o; ) (i = 131072 * t[s] + (t[s + 1] >>> 11)) >= 9e15 ? (n = crypto.getRandomValues(new Uint32Array(2)), 
                            t[s] = n[0], t[s + 1] = n[1]) : (d.push(i % 1e14), s += 2);
                            s = o / 2;
                        } else {
                            if (!crypto.randomBytes) throw D = !1, Error(l + "crypto unavailable");
                            for (t = crypto.randomBytes(o *= 7); s < o; ) (i = 281474976710656 * (31 & t[s]) + 1099511627776 * t[s + 1] + 4294967296 * t[s + 2] + 16777216 * t[s + 3] + (t[s + 4] << 16) + (t[s + 5] << 8) + t[s + 6]) >= 9e15 ? crypto.randomBytes(7).copy(t, s) : (d.push(i % 1e14), 
                            s += 7);
                            s = o / 7;
                        }
                        if (!D) for (;s < o; ) (i = a()) < 9e15 && (d[s++] = i % 1e14);
                        for (o = d[--s], e %= p, o && e && (i = g[p - e], d[s] = u(o / i) * i); 0 === d[s]; d.pop(), 
                        s--) ;
                        if (s < 0) d = [ r = 0 ]; else {
                            for (r = -1; 0 === d[0]; d.splice(0, 1), r -= p) ;
                            for (s = 1, i = d[0]; i >= 10; i /= 10, s++) ;
                            s < p && (r -= p - s);
                        }
                        return f.e = r, f.c = d, f;
                    }), H.sum = function() {
                        for (var e = 1, t = arguments, n = new H(t[0]); e < t.length; ) n = n.plus(t[e++]);
                        return n;
                    }, o = function() {
                        function e(e, t, n, r) {
                            for (var o, i, a = [ 0 ], s = 0, c = e.length; s < c; ) {
                                for (i = a.length; i--; a[i] *= t) ;
                                for (a[0] += r.indexOf(e.charAt(s++)), o = 0; o < a.length; o++) a[o] > n - 1 && (null == a[o + 1] && (a[o + 1] = 0), 
                                a[o + 1] += a[o] / n | 0, a[o] %= n);
                            }
                            return a.reverse();
                        }
                        return function(t, r, o, i, a) {
                            var s, c, u, l, d, f, p, m, g = t.indexOf("."), h = C, y = R;
                            for (g >= 0 && (l = B, B = 0, t = t.replace(".", ""), f = (m = new H(r)).pow(t.length - g), 
                            B = l, m.c = e(M(b(f.c), f.e, "0"), 10, o, "0123456789"), m.e = m.c.length), u = l = (p = e(t, r, o, a ? (s = q, 
                            "0123456789") : (s = "0123456789", q))).length; 0 == p[--l]; p.pop()) ;
                            if (!p[0]) return s.charAt(0);
                            if (g < 0 ? --u : (f.c = p, f.e = u, f.s = i, p = (f = n(f, m, h, y, o)).c, d = f.r, 
                            u = f.e), g = p[c = u + h + 1], l = o / 2, d = d || c < 0 || null != p[c + 1], d = y < 4 ? (null != g || d) && (0 == y || y == (f.s < 0 ? 3 : 2)) : g > l || g == l && (4 == y || d || 6 == y && 1 & p[c - 1] || y == (f.s < 0 ? 8 : 7)), 
                            c < 1 || !p[0]) t = d ? M(s.charAt(1), -h, s.charAt(0)) : s.charAt(0); else {
                                if (p.length = c, d) for (--o; ++p[--c] > o; ) p[c] = 0, c || (++u, p = [ 1 ].concat(p));
                                for (l = p.length; !p[--l]; ) ;
                                for (g = 0, t = ""; g <= l; t += s.charAt(p[g++])) ;
                                t = M(t, u, s.charAt(0));
                            }
                            return t;
                        };
                    }(), n = function() {
                        function e(e, t, n) {
                            var r, o, i, a, s = 0, c = e.length, u = t % h, l = t / h | 0;
                            for (e = e.slice(); c--; ) s = ((o = u * (i = e[c] % h) + (r = l * i + (a = e[c] / h | 0) * u) % h * h + s) / n | 0) + (r / h | 0) + l * a, 
                            e[c] = o % n;
                            return s && (e = [ s ].concat(e)), e;
                        }
                        function t(e, t, n, r) {
                            var o, i;
                            if (n != r) i = n > r ? 1 : -1; else for (o = i = 0; o < n; o++) if (e[o] != t[o]) {
                                i = e[o] > t[o] ? 1 : -1;
                                break;
                            }
                            return i;
                        }
                        function n(e, t, n, r) {
                            for (var o = 0; n--; ) e[n] -= o, o = e[n] < t[n] ? 1 : 0, e[n] = o * r + e[n] - t[n];
                            for (;!e[0] && e.length > 1; e.splice(0, 1)) ;
                        }
                        return function(r, o, i, a, s) {
                            var c, l, d, m, g, h, y, b, T, _, S, k, M, P, A, w, O, E = r.s == o.s ? 1 : -1, I = r.c, x = o.c;
                            if (!(I && I[0] && x && x[0])) return new H(r.s && o.s && (I ? !x || I[0] != x[0] : x) ? I && 0 == I[0] || !x ? 0 * E : E / 0 : NaN);
                            for (T = (b = new H(E)).c = [], E = i + (l = r.e - o.e) + 1, s || (s = f, l = v(r.e / p) - v(o.e / p), 
                            E = E / p | 0), d = 0; x[d] == (I[d] || 0); d++) ;
                            if (x[d] > (I[d] || 0) && l--, E < 0) T.push(1), m = !0; else {
                                for (P = I.length, w = x.length, d = 0, E += 2, (g = u(s / (x[0] + 1))) > 1 && (x = e(x, g, s), 
                                I = e(I, g, s), w = x.length, P = I.length), M = w, S = (_ = I.slice(0, w)).length; S < w; _[S++] = 0) ;
                                O = x.slice(), O = [ 0 ].concat(O), A = x[0], x[1] >= s / 2 && A++;
                                do {
                                    if (g = 0, (c = t(x, _, w, S)) < 0) {
                                        if (k = _[0], w != S && (k = k * s + (_[1] || 0)), (g = u(k / A)) > 1) for (g >= s && (g = s - 1), 
                                        y = (h = e(x, g, s)).length, S = _.length; 1 == t(h, _, y, S); ) g--, n(h, w < y ? O : x, y, s), 
                                        y = h.length, c = 1; else 0 == g && (c = g = 1), y = (h = x.slice()).length;
                                        if (y < S && (h = [ 0 ].concat(h)), n(_, h, S, s), S = _.length, -1 == c) for (;t(x, _, w, S) < 1; ) g++, 
                                        n(_, w < S ? O : x, S, s), S = _.length;
                                    } else 0 === c && (g++, _ = [ 0 ]);
                                    T[d++] = g, _[0] ? _[S++] = I[M] || 0 : (_ = [ I[M] ], S = 1);
                                } while ((M++ < P || null != _[0]) && E--);
                                m = null != _[0], T[0] || T.splice(0, 1);
                            }
                            if (s == f) {
                                for (d = 1, E = T[0]; E >= 10; E /= 10, d++) ;
                                Y(b, i + (b.e = d + l * p - 1) + 1, a, m);
                            } else b.e = l, b.r = +m;
                            return b;
                        };
                    }(), P = /^(-?)0([xbo])(?=\w[\w.]*$)/i, A = /^([^.]+)\.$/, w = /^\.([^.]+)$/, O = /^-?(Infinity|NaN)$/, 
                    E = /^\s*\+(?=[\w.])|^\s+|\s+$/g, i = function(e, t, n, r) {
                        var o, i = n ? t : t.replace(E, "");
                        if (O.test(i)) e.s = isNaN(i) ? null : i < 0 ? -1 : 1; else {
                            if (!n && (i = i.replace(P, function(e, t, n) {
                                return o = "x" == (n = n.toLowerCase()) ? 16 : "b" == n ? 2 : 8, r && r != o ? e : t;
                            }), r && (o = r, i = i.replace(A, "$1").replace(w, "0.$1")), t != i)) return new H(i, o);
                            if (H.DEBUG) throw Error(l + "Not a" + (r ? " base " + r : "") + " number: " + t);
                            e.s = null;
                        }
                        e.c = e.e = null;
                    }, I.absoluteValue = I.abs = function() {
                        var e = new H(this);
                        return e.s < 0 && (e.s = 1), e;
                    }, I.comparedTo = function(e, t) {
                        return T(this, new H(e, t));
                    }, I.decimalPlaces = I.dp = function(e, t) {
                        var n, r, o, i = this;
                        if (null != e) return _(e, 0, y), null == t ? t = R : _(t, 0, 8), Y(new H(i), e + i.e + 1, t);
                        if (!(n = i.c)) return null;
                        if (r = ((o = n.length - 1) - v(this.e / p)) * p, o = n[o]) for (;o % 10 == 0; o /= 10, 
                        r--) ;
                        return r < 0 && (r = 0), r;
                    }, I.dividedBy = I.div = function(e, t) {
                        return n(this, new H(e, t), C, R);
                    }, I.dividedToIntegerBy = I.idiv = function(e, t) {
                        return n(this, new H(e, t), 0, 1);
                    }, I.exponentiatedBy = I.pow = function(e, t) {
                        var n, r, o, i, a, s, d, f, m = this;
                        if ((e = new H(e)).c && !e.isInteger()) throw Error(l + "Exponent not an integer: " + W(e));
                        if (null != t && (t = new H(t)), a = e.e > 14, !m.c || !m.c[0] || 1 == m.c[0] && !m.e && 1 == m.c.length || !e.c || !e.c[0]) return f = new H(Math.pow(+W(m), a ? 2 - S(e) : +W(e))), 
                        t ? f.mod(t) : f;
                        if (s = e.s < 0, t) {
                            if (t.c ? !t.c[0] : !t.s) return new H(NaN);
                            (r = !s && m.isInteger() && t.isInteger()) && (m = m.mod(t));
                        } else {
                            if (e.e > 9 && (m.e > 0 || m.e < -1 || (0 == m.e ? m.c[0] > 1 || a && m.c[1] >= 24e7 : m.c[0] < 8e13 || a && m.c[0] <= 9999975e7))) return i = m.s < 0 && S(e) ? -0 : 0, 
                            m.e > -1 && (i = 1 / i), new H(s ? 1 / i : i);
                            B && (i = c(B / p + 2));
                        }
                        for (a ? (n = new H(.5), s && (e.s = 1), d = S(e)) : d = (o = Math.abs(+W(e))) % 2, 
                        f = new H(x); ;) {
                            if (d) {
                                if (!(f = f.times(m)).c) break;
                                i ? f.c.length > i && (f.c.length = i) : r && (f = f.mod(t));
                            }
                            if (o) {
                                if (0 === (o = u(o / 2))) break;
                                d = o % 2;
                            } else if (Y(e = e.times(n), e.e + 1, 1), e.e > 14) d = S(e); else {
                                if (0 == (o = +W(e))) break;
                                d = o % 2;
                            }
                            m = m.times(m), i ? m.c && m.c.length > i && (m.c.length = i) : r && (m = m.mod(t));
                        }
                        return r ? f : (s && (f = x.div(f)), t ? f.mod(t) : i ? Y(f, B, R, void 0) : f);
                    }, I.integerValue = function(e) {
                        var t = new H(this);
                        return null == e ? e = R : _(e, 0, 8), Y(t, t.e + 1, e);
                    }, I.isEqualTo = I.eq = function(e, t) {
                        return 0 === T(this, new H(e, t));
                    }, I.isFinite = function() {
                        return !!this.c;
                    }, I.isGreaterThan = I.gt = function(e, t) {
                        return T(this, new H(e, t)) > 0;
                    }, I.isGreaterThanOrEqualTo = I.gte = function(e, t) {
                        return 1 === (t = T(this, new H(e, t))) || 0 === t;
                    }, I.isInteger = function() {
                        return !!this.c && v(this.e / p) > this.c.length - 2;
                    }, I.isLessThan = I.lt = function(e, t) {
                        return T(this, new H(e, t)) < 0;
                    }, I.isLessThanOrEqualTo = I.lte = function(e, t) {
                        return -1 === (t = T(this, new H(e, t))) || 0 === t;
                    }, I.isNaN = function() {
                        return !this.s;
                    }, I.isNegative = function() {
                        return this.s < 0;
                    }, I.isPositive = function() {
                        return this.s > 0;
                    }, I.isZero = function() {
                        return !!this.c && 0 == this.c[0];
                    }, I.minus = function(e, t) {
                        var n, r, o, i, a = this, s = a.s;
                        if (t = (e = new H(e, t)).s, !s || !t) return new H(NaN);
                        if (s != t) return e.s = -t, a.plus(e);
                        var c = a.e / p, u = e.e / p, l = a.c, d = e.c;
                        if (!c || !u) {
                            if (!l || !d) return l ? (e.s = -t, e) : new H(d ? a : NaN);
                            if (!l[0] || !d[0]) return d[0] ? (e.s = -t, e) : new H(l[0] ? a : 3 == R ? -0 : 0);
                        }
                        if (c = v(c), u = v(u), l = l.slice(), s = c - u) {
                            for ((i = s < 0) ? (s = -s, o = l) : (u = c, o = d), o.reverse(), t = s; t--; o.push(0)) ;
                            o.reverse();
                        } else for (r = (i = (s = l.length) < (t = d.length)) ? s : t, s = t = 0; t < r; t++) if (l[t] != d[t]) {
                            i = l[t] < d[t];
                            break;
                        }
                        if (i && (o = l, l = d, d = o, e.s = -e.s), (t = (r = d.length) - (n = l.length)) > 0) for (;t--; l[n++] = 0) ;
                        for (t = f - 1; r > s; ) {
                            if (l[--r] < d[r]) {
                                for (n = r; n && !l[--n]; l[n] = t) ;
                                --l[n], l[r] += f;
                            }
                            l[r] -= d[r];
                        }
                        for (;0 == l[0]; l.splice(0, 1), --u) ;
                        return l[0] ? G(e, l, u) : (e.s = 3 == R ? -1 : 1, e.c = [ e.e = 0 ], e);
                    }, I.modulo = I.mod = function(e, t) {
                        var r, o, i = this;
                        return e = new H(e, t), !i.c || !e.s || e.c && !e.c[0] ? new H(NaN) : !e.c || i.c && !i.c[0] ? new H(i) : (9 == F ? (o = e.s, 
                        e.s = 1, r = n(i, e, 0, 3), e.s = o, r.s *= o) : r = n(i, e, 0, F), (e = i.minus(r.times(e))).c[0] || 1 != F || (e.s = i.s), 
                        e);
                    }, I.multipliedBy = I.times = function(e, t) {
                        var n, r, o, i, a, s, c, u, l, d, m, g, y, b, T, _ = this, S = _.c, k = (e = new H(e, t)).c;
                        if (!(S && k && S[0] && k[0])) return !_.s || !e.s || S && !S[0] && !k || k && !k[0] && !S ? e.c = e.e = e.s = null : (e.s *= _.s, 
                        S && k ? (e.c = [ 0 ], e.e = 0) : e.c = e.e = null), e;
                        for (r = v(_.e / p) + v(e.e / p), e.s *= _.s, (c = S.length) < (d = k.length) && (y = S, 
                        S = k, k = y, o = c, c = d, d = o), o = c + d, y = []; o--; y.push(0)) ;
                        for (b = f, T = h, o = d; --o >= 0; ) {
                            for (n = 0, m = k[o] % T, g = k[o] / T | 0, i = o + (a = c); i > o; ) n = ((u = m * (u = S[--a] % T) + (s = g * u + (l = S[a] / T | 0) * m) % T * T + y[i] + n) / b | 0) + (s / T | 0) + g * l, 
                            y[i--] = u % b;
                            y[i] = n;
                        }
                        return n ? ++r : y.splice(0, 1), G(e, y, r);
                    }, I.negated = function() {
                        var e = new H(this);
                        return e.s = -e.s || null, e;
                    }, I.plus = function(e, t) {
                        var n, r = this, o = r.s;
                        if (t = (e = new H(e, t)).s, !o || !t) return new H(NaN);
                        if (o != t) return e.s = -t, r.minus(e);
                        var i = r.e / p, a = e.e / p, s = r.c, c = e.c;
                        if (!i || !a) {
                            if (!s || !c) return new H(o / 0);
                            if (!s[0] || !c[0]) return c[0] ? e : new H(s[0] ? r : 0 * o);
                        }
                        if (i = v(i), a = v(a), s = s.slice(), o = i - a) {
                            for (o > 0 ? (a = i, n = c) : (o = -o, n = s), n.reverse(); o--; n.push(0)) ;
                            n.reverse();
                        }
                        for ((o = s.length) - (t = c.length) < 0 && (n = c, c = s, s = n, t = o), o = 0; t; ) o = (s[--t] = s[t] + c[t] + o) / f | 0, 
                        s[t] = f === s[t] ? 0 : s[t] % f;
                        return o && (s = [ o ].concat(s), ++a), G(e, s, a);
                    }, I.precision = I.sd = function(e, t) {
                        var n, r, o, i = this;
                        if (null != e && e !== !!e) return _(e, 1, y), null == t ? t = R : _(t, 0, 8), Y(new H(i), e, t);
                        if (!(n = i.c)) return null;
                        if (r = (o = n.length - 1) * p + 1, o = n[o]) {
                            for (;o % 10 == 0; o /= 10, r--) ;
                            for (o = n[0]; o >= 10; o /= 10, r++) ;
                        }
                        return e && i.e + 1 > r && (r = i.e + 1), r;
                    }, I.shiftedBy = function(e) {
                        return _(e, -m, m), this.times("1e" + e);
                    }, I.squareRoot = I.sqrt = function() {
                        var e, t, r, o, i, a = this, s = a.c, c = a.s, u = a.e, l = C + 4, d = new H("0.5");
                        if (1 !== c || !s || !s[0]) return new H(!c || c < 0 && (!s || s[0]) ? NaN : s ? a : 1 / 0);
                        if (0 == (c = Math.sqrt(+W(a))) || c == 1 / 0 ? (((t = b(s)).length + u) % 2 == 0 && (t += "0"), 
                        c = Math.sqrt(+t), u = v((u + 1) / 2) - (u < 0 || u % 2), r = new H(t = c == 1 / 0 ? "5e" + u : (t = c.toExponential()).slice(0, t.indexOf("e") + 1) + u)) : r = new H(c + ""), 
                        r.c[0]) for ((c = (u = r.e) + l) < 3 && (c = 0); ;) if (i = r, r = d.times(i.plus(n(a, i, l, 1))), 
                        b(i.c).slice(0, c) === (t = b(r.c)).slice(0, c)) {
                            if (r.e < u && --c, "9999" != (t = t.slice(c - 3, c + 1)) && (o || "4999" != t)) {
                                +t && (+t.slice(1) || "5" != t.charAt(0)) || (Y(r, r.e + C + 2, 1), e = !r.times(r).eq(a));
                                break;
                            }
                            if (!o && (Y(i, i.e + C + 2, 0), i.times(i).eq(a))) {
                                r = i;
                                break;
                            }
                            l += 4, c += 4, o = 1;
                        }
                        return Y(r, r.e + C + 1, R, e);
                    }, I.toExponential = function(e, t) {
                        return null != e && (_(e, 0, y), e++), $(this, e, t, 1);
                    }, I.toFixed = function(e, t) {
                        return null != e && (_(e, 0, y), e = e + this.e + 1), $(this, e, t);
                    }, I.toFormat = function(e, t, n) {
                        var o, i = this;
                        if (null == n) null != e && t && "object" == r(t) ? (n = t, t = null) : e && "object" == r(e) ? (n = e, 
                        e = t = null) : n = V; else if ("object" != r(n)) throw Error(l + "Argument not an object: " + n);
                        if (o = i.toFixed(e, t), i.c) {
                            var a, s = o.split("."), c = +n.groupSize, u = +n.secondaryGroupSize, d = n.groupSeparator || "", f = s[0], p = s[1], m = i.s < 0, g = m ? f.slice(1) : f, h = g.length;
                            if (u && (a = c, c = u, u = a, h -= a), c > 0 && h > 0) {
                                for (a = h % c || c, f = g.substr(0, a); a < h; a += c) f += d + g.substr(a, c);
                                u > 0 && (f += d + g.slice(a)), m && (f = "-" + f);
                            }
                            o = p ? f + (n.decimalSeparator || "") + ((u = +n.fractionGroupSize) ? p.replace(new RegExp("\\d{" + u + "}\\B", "g"), "$&" + (n.fractionGroupSeparator || "")) : p) : f;
                        }
                        return (n.prefix || "") + o + (n.suffix || "");
                    }, I.toFraction = function(e) {
                        var t, r, o, i, a, s, c, u, d, f, m, h, y = this, v = y.c;
                        if (null != e && (!(c = new H(e)).isInteger() && (c.c || 1 !== c.s) || c.lt(x))) throw Error(l + "Argument " + (c.isInteger() ? "out of range: " : "not an integer: ") + W(c));
                        if (!v) return new H(y);
                        for (t = new H(x), d = r = new H(x), o = u = new H(x), h = b(v), a = t.e = h.length - y.e - 1, 
                        t.c[0] = g[(s = a % p) < 0 ? p + s : s], e = !e || c.comparedTo(t) > 0 ? a > 0 ? t : d : c, 
                        s = U, U = 1 / 0, c = new H(h), u.c[0] = 0; f = n(c, t, 0, 1), 1 != (i = r.plus(f.times(o))).comparedTo(e); ) r = o, 
                        o = i, d = u.plus(f.times(i = d)), u = i, t = c.minus(f.times(i = t)), c = i;
                        return i = n(e.minus(r), o, 0, 1), u = u.plus(i.times(d)), r = r.plus(i.times(o)), 
                        u.s = d.s = y.s, m = n(d, o, a *= 2, R).minus(y).abs().comparedTo(n(u, r, a, R).minus(y).abs()) < 1 ? [ d, o ] : [ u, r ], 
                        U = s, m;
                    }, I.toNumber = function() {
                        return +W(this);
                    }, I.toPrecision = function(e, t) {
                        return null != e && _(e, 1, y), $(this, e, t, 2);
                    }, I.toString = function(e) {
                        var t, n = this, r = n.s, i = n.e;
                        return null === i ? r ? (t = "Infinity", r < 0 && (t = "-" + t)) : t = "NaN" : (null == e ? t = i <= j || i >= N ? k(b(n.c), i) : M(b(n.c), i, "0") : 10 === e ? t = M(b((n = Y(new H(n), C + i + 1, R)).c), n.e, "0") : (_(e, 2, q.length, "Base"), 
                        t = o(M(b(n.c), i, "0"), 10, e, r, !0)), r < 0 && n.c[0] && (t = "-" + t)), t;
                    }, I.valueOf = I.toJSON = function() {
                        return W(this);
                    }, I._isBigNumber = !0, null != t && H.set(t), H;
                }()).default = a.BigNumber = a, void 0 === (o = function() {
                    return a;
                }.call(t, n, t, e)) || (e.exports = o);
            }();
        }, function(e, t, n) {
            var r = n(8), o = n(0).document, i = r(o) && r(o.createElement);
            e.exports = function(e) {
                return i ? o.createElement(e) : {};
            };
        }, function(e, t, n) {
            var r = n(8);
            e.exports = function(e, t) {
                if (!r(e)) return e;
                var n, o;
                if (t && "function" == typeof (n = e.toString) && !r(o = n.call(e))) return o;
                if ("function" == typeof (n = e.valueOf) && !r(o = n.call(e))) return o;
                if (!t && "function" == typeof (n = e.toString) && !r(o = n.call(e))) return o;
                throw TypeError("Can't convert object to primitive value");
            };
        }, function(e, t) {
            var n = Math.ceil, r = Math.floor;
            e.exports = function(e) {
                return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e);
            };
        }, function(e, t) {
            e.exports = function(e) {
                if (null == e) throw TypeError("Can't call method on  " + e);
                return e;
            };
        }, function(e, t, n) {
            var r = n(3), o = n(75), i = n(37), a = n(35)("IE_PROTO"), s = function() {}, c = function() {
                var e, t = n(29)("iframe"), r = i.length;
                for (t.style.display = "none", n(52).appendChild(t), t.src = "javascript:", (e = t.contentWindow.document).open(), 
                e.write("<script>document.F=Object<\/script>"), e.close(), c = e.F; r--; ) delete c.prototype[i[r]];
                return c();
            };
            e.exports = Object.create || function(e, t) {
                var n;
                return null !== e ? (s.prototype = r(e), n = new s(), s.prototype = null, n[a] = e) : n = c(), 
                void 0 === t ? n : o(n, t);
            };
        }, function(e, t, n) {
            var r = n(50), o = n(37);
            e.exports = Object.keys || function(e) {
                return r(e, o);
            };
        }, function(e, t, n) {
            var r = n(36)("keys"), o = n(24);
            e.exports = function(e) {
                return r[e] || (r[e] = o(e));
            };
        }, function(e, t, n) {
            var r = n(2), o = n(0), i = o["__core-js_shared__"] || (o["__core-js_shared__"] = {});
            (e.exports = function(e, t) {
                return i[e] || (i[e] = void 0 !== t ? t : {});
            })("versions", []).push({
                version: r.version,
                mode: n(17) ? "pure" : "global",
                copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
            });
        }, function(e, t) {
            e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
        }, function(e, t, n) {
            t.f = n(1);
        }, function(e, t, n) {
            var r = n(0), o = n(2), i = n(17), a = n(38), s = n(7).f;
            e.exports = function(e) {
                var t = o.Symbol || (o.Symbol = i ? {} : r.Symbol || {});
                "_" == e.charAt(0) || e in t || s(t, e, {
                    value: a.f(e)
                });
            };
        }, function(e, t) {
            t.f = {}.propertyIsEnumerable;
        }, function(e, t, n) {
            e.exports = n(100);
        }, function(e, t, n) {
            t.__esModule = !0;
            var r, o = (r = n(102)) && r.__esModule ? r : {
                default: r
            };
            t.default = function(e) {
                return function() {
                    var t = e.apply(this, arguments);
                    return new o.default(function(e, n) {
                        return function r(i, a) {
                            try {
                                var s = t[i](a), c = s.value;
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                return void n(e);
                            }
                            if (!s.done) return o.default.resolve(c).then(function(e) {
                                r("next", e);
                            }, function(e) {
                                r("throw", e);
                            });
                            e(c);
                        }("next");
                    });
                };
            };
        }, function(e, t, n) {
            var r = n(21);
            function o(e) {
                var t, n;
                this.promise = new e(function(e, r) {
                    if (void 0 !== t || void 0 !== n) throw TypeError("Bad Promise constructor");
                    t = e, n = r;
                }), this.resolve = r(t), this.reject = r(n);
            }
            e.exports.f = function(e) {
                return new o(e);
            };
        }, function(e) {
            e.exports = {
                name: "nertcMini",
                version: "4.6.0",
                description: "nertc mini SDK 网易云信",
                main: "index.js",
                directories: {
                    test: "test"
                },
                scripts: {
                    clean: "node build/emptyDist.js",
                    "build:sdk": "cross-env PLATFORM=all webpack --config webpack.config.js",
                    "build:sdk:stats": "webpack --profile --json > dist/webpack-stats.json",
                    "build:api": "node build/api",
                    "watch:sdk": "npm run build:sdk -- -w",
                    "zip:api": "cross-env NODE_ENV=production npm run build:api && node build/api/zip.js",
                    "zip:sdk": "cross-env NODE_ENV=production node build/sdk/zip.js",
                    dev: "npm run clean && run-p watch:*",
                    "dev:prod": "cross-env NODE_ENV=production npm run dev",
                    pack: "npm run clean && npm run build:sdk && npm run build:api",
                    "pack:test": "cross-env NODE_ENV=test npm run pack",
                    "pack:prod": "cross-env NODE_ENV=production npm run pack && npm run zip:sdk"
                },
                author: "wulong",
                license: "ISC",
                dependencies: {
                    axios: "^0.18.0",
                    "babel-polyfill": "^6.26.0",
                    backo2: "^1.0.2",
                    "big-integer": "^1.6.48",
                    "bigint-hash": "^0.2.2",
                    bignumber: "^1.1.0",
                    "bignumber.js": "^9.0.1",
                    "crypto-js": "^4.0.0",
                    "deep-access": "^0.1.1",
                    "es6-promise": "^4.2.4",
                    eventemitter3: "^2.0.2",
                    gulp: "^3.9.1",
                    "gulp-jsdoc3": "^2.0.0",
                    happypack: "^5.0.1",
                    "javascript-natural-sort": "^0.7.1",
                    jsdoc: "^3.5.5",
                    "json-bigint": "^1.0.0",
                    md5: "^2.2.1",
                    "string-replace-loader": "^3.0.1",
                    ws: "^5.1.1",
                    x2js: "^3.2.1",
                    xhr: "^2.4.1"
                },
                devDependencies: {
                    "@types/debug": "^4.1.5",
                    "@types/events": "^3.0.0",
                    archiver: "^2.1.1",
                    awaitqueue: "^2.2.3",
                    "babel-core": "^6.26.0",
                    "babel-loader": "^7.1.4",
                    "babel-plugin-add-module-exports": "^0.2.1",
                    "babel-plugin-transform-async-to-generator": "^6.24.1",
                    "babel-plugin-transform-es3-member-expression-literals": "^6.22.0",
                    "babel-plugin-transform-es3-property-literals": "^6.22.0",
                    "babel-plugin-transform-runtime": "^6.23.0",
                    "babel-preset-env": "^1.6.1",
                    "babel-preset-stage-2": "^6.24.1",
                    bowser: "^2.9.0",
                    "cross-env": "^5.1.4",
                    "crypto-js": "^4.0.0",
                    debug: "^4.1.1",
                    eslint: "^4.19.1",
                    "eslint-config-standard": "^11.0.0",
                    "eslint-plugin-import": "^2.11.0",
                    "eslint-plugin-node": "^6.0.1",
                    "eslint-plugin-promise": "^3.7.0",
                    "eslint-plugin-standard": "^3.1.0",
                    events: "^3.1.0",
                    "fs-extra": "^5.0.0",
                    "imports-loader": "^0.8.0",
                    "ink-docstrap": "^1.3.2",
                    "npm-run-all": "^4.1.2",
                    "on-build-webpack": "^0.1.0",
                    "pre-build-webpack": "^0.1.0",
                    prettyjson: "^1.1.3",
                    "raw-loader": "^0.5.1",
                    "sdp-transform": "^2.14.0",
                    "supports-color": "^7.1.0",
                    "watch-cli": "^0.2.3",
                    webpack: "^4.5.0",
                    "webpack-cli": "^3.3.12",
                    "webpack-merge": "^4.1.2",
                    "wolfy87-eventemitter": "^5.2.4",
                    yaml: "^0.3.0",
                    yargs: "^11.0.0"
                }
            };
        }, function(e, t, n) {
            e.exports = {
                default: n(69),
                __esModule: !0
            };
        }, function(e, t, n) {
            e.exports = !n(9) && !n(22)(function() {
                return 7 != Object.defineProperty(n(29)("div"), "a", {
                    get: function() {
                        return 7;
                    }
                }).a;
            });
        }, function(e, t, n) {
            var r = n(73)(!0);
            n(48)(String, "String", function(e) {
                this._t = String(e), this._i = 0;
            }, function() {
                var e, t = this._t, n = this._i;
                return n >= t.length ? {
                    value: void 0,
                    done: !0
                } : (e = r(t, n), this._i += e.length, {
                    value: e,
                    done: !1
                });
            });
        }, function(e, t, n) {
            var r = n(17), o = n(6), i = n(49), a = n(10), s = n(18), c = n(74), u = n(25), l = n(79), d = n(1)("iterator"), f = !([].keys && "next" in [].keys()), p = function() {
                return this;
            };
            e.exports = function(e, t, n, m, g, h, y) {
                c(n, t, m);
                var v, b, T, _ = function(e) {
                    if (!f && e in P) return P[e];
                    switch (e) {
                      case "keys":
                      case "values":
                        return function() {
                            return new n(this, e);
                        };
                    }
                    return function() {
                        return new n(this, e);
                    };
                }, S = t + " Iterator", k = "values" == g, M = !1, P = e.prototype, A = P[d] || P["@@iterator"] || g && P[g], w = A || _(g), O = g ? k ? _("entries") : w : void 0, E = "Array" == t && P.entries || A;
                if (E && (T = l(E.call(new e()))) !== Object.prototype && T.next && (u(T, S, !0), 
                r || "function" == typeof T[d] || a(T, d, p)), k && A && "values" !== A.name && (M = !0, 
                w = function() {
                    return A.call(this);
                }), r && !y || !f && !M && P[d] || a(P, d, w), s[t] = w, s[S] = p, g) if (v = {
                    values: k ? w : _("values"),
                    keys: h ? w : _("keys"),
                    entries: O
                }, y) for (b in v) b in P || i(P, b, v[b]); else o(o.P + o.F * (f || M), t, v);
                return v;
            };
        }, function(e, t, n) {
            e.exports = n(10);
        }, function(e, t, n) {
            var r = n(11), o = n(13), i = n(77)(!1), a = n(35)("IE_PROTO");
            e.exports = function(e, t) {
                var n, s = o(e), c = 0, u = [];
                for (n in s) n != a && r(s, n) && u.push(n);
                for (;t.length > c; ) r(s, n = t[c++]) && (~i(u, n) || u.push(n));
                return u;
            };
        }, function(e, t, n) {
            var r = n(31), o = Math.min;
            e.exports = function(e) {
                return e > 0 ? o(r(e), 9007199254740991) : 0;
            };
        }, function(e, t, n) {
            var r = n(0).document;
            e.exports = r && r.documentElement;
        }, function(e, t, n) {
            var r = n(32);
            e.exports = function(e) {
                return Object(r(e));
            };
        }, function(e, t, n) {
            n(80);
            for (var r = n(0), o = n(10), i = n(18), a = n(1)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), c = 0; c < s.length; c++) {
                var u = s[c], l = r[u], d = l && l.prototype;
                d && !d[a] && o(d, a, u), i[u] = i.Array;
            }
        }, function(e, t) {
            t.f = Object.getOwnPropertySymbols;
        }, function(e, t, n) {
            var r = n(50), o = n(37).concat("length", "prototype");
            t.f = Object.getOwnPropertyNames || function(e) {
                return r(e, o);
            };
        }, function(e, t, n) {
            var r = n(40), o = n(23), i = n(13), a = n(30), s = n(11), c = n(46), u = Object.getOwnPropertyDescriptor;
            t.f = n(9) ? u : function(e, t) {
                if (e = i(e), t = a(t, !0), c) try {
                    return u(e, t);
                } catch (e) {}
                if (s(e, t)) return o(!r.f.call(e, t), e[t]);
            };
        }, function(e, t) {}, function(e, t, n) {
            var r = n(19), o = n(1)("toStringTag"), i = "Arguments" == r(function() {
                return arguments;
            }());
            e.exports = function(e) {
                var t, n, a;
                return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function(e, t) {
                    try {
                        return e[t];
                    } catch (e) {}
                }(t = Object(e), o)) ? n : i ? r(t) : "Object" == (a = r(t)) && "function" == typeof t.callee ? "Arguments" : a;
            };
        }, function(e, t, n) {
            var r = n(3), o = n(21), i = n(1)("species");
            e.exports = function(e, t) {
                var n, a = r(e).constructor;
                return void 0 === a || null == (n = r(a)[i]) ? t : o(n);
            };
        }, function(e, t, n) {
            var r, o, i, a = n(15), s = n(110), c = n(52), u = n(29), l = n(0), d = l.process, f = l.setImmediate, p = l.clearImmediate, m = l.MessageChannel, g = l.Dispatch, h = 0, y = {}, v = function() {
                var e = +this;
                if (y.hasOwnProperty(e)) {
                    var t = y[e];
                    delete y[e], t();
                }
            }, b = function(e) {
                v.call(e.data);
            };
            f && p || (f = function(e) {
                for (var t = [], n = 1; arguments.length > n; ) t.push(arguments[n++]);
                return y[++h] = function() {
                    s("function" == typeof e ? e : Function(e), t);
                }, r(h), h;
            }, p = function(e) {
                delete y[e];
            }, "process" == n(19)(d) ? r = function(e) {
                d.nextTick(a(v, e, 1));
            } : g && g.now ? r = function(e) {
                g.now(a(v, e, 1));
            } : m ? (i = (o = new m()).port2, o.port1.onmessage = b, r = a(i.postMessage, i, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(e) {
                l.postMessage(e + "", "*");
            }, l.addEventListener("message", b, !1)) : r = "onreadystatechange" in u("script") ? function(e) {
                c.appendChild(u("script")).onreadystatechange = function() {
                    c.removeChild(this), v.call(e);
                };
            } : function(e) {
                setTimeout(a(v, e, 1), 0);
            }), e.exports = {
                set: f,
                clear: p
            };
        }, function(e, t) {
            e.exports = function(e) {
                try {
                    return {
                        e: !1,
                        v: e()
                    };
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return {
                        e: !0,
                        v: e
                    };
                }
            };
        }, function(e, t, n) {
            var r = n(3), o = n(8), i = n(43);
            e.exports = function(e, t) {
                if (r(e), o(t) && t.constructor === e) return t;
                var n = i.f(e);
                return (0, n.resolve)(t), n.promise;
            };
        }, function(e, t, n) {
            var r = "https://roomserver.netease.im/v2/sdk/rooms/", o = {
                info: {
                    hash: !1,
                    shortHash: !1,
                    version: "4.6.0"
                }
            };
            console.warn("roomsTaskUrl: ", r), o.miniG2 = {
                checkSumUrl: "https://nrtc.netease.im/demo/getChecksum.action",
                getChannelInfoUrl: "https://nrtc.netease.im/nrtc/getChannelInfos.action",
                roomsTaskUrl: r
            }, e.exports = o;
        }, function(e, t, n) {
            var r, o, i, a, s;
            r = n(142), o = n(66).utf8, i = n(143), a = n(66).bin, (s = function(e, t) {
                e.constructor == String ? e = t && "binary" === t.encoding ? a.stringToBytes(e) : o.stringToBytes(e) : i(e) ? e = Array.prototype.slice.call(e, 0) : Array.isArray(e) || (e = e.toString());
                for (var n = r.bytesToWords(e), c = 8 * e.length, u = 1732584193, l = -271733879, d = -1732584194, f = 271733878, p = 0; p < n.length; p++) n[p] = 16711935 & (n[p] << 8 | n[p] >>> 24) | 4278255360 & (n[p] << 24 | n[p] >>> 8);
                n[c >>> 5] |= 128 << c % 32, n[14 + (c + 64 >>> 9 << 4)] = c;
                var m = s._ff, g = s._gg, h = s._hh, y = s._ii;
                for (p = 0; p < n.length; p += 16) {
                    var v = u, b = l, T = d, _ = f;
                    u = m(u, l, d, f, n[p + 0], 7, -680876936), f = m(f, u, l, d, n[p + 1], 12, -389564586), 
                    d = m(d, f, u, l, n[p + 2], 17, 606105819), l = m(l, d, f, u, n[p + 3], 22, -1044525330), 
                    u = m(u, l, d, f, n[p + 4], 7, -176418897), f = m(f, u, l, d, n[p + 5], 12, 1200080426), 
                    d = m(d, f, u, l, n[p + 6], 17, -1473231341), l = m(l, d, f, u, n[p + 7], 22, -45705983), 
                    u = m(u, l, d, f, n[p + 8], 7, 1770035416), f = m(f, u, l, d, n[p + 9], 12, -1958414417), 
                    d = m(d, f, u, l, n[p + 10], 17, -42063), l = m(l, d, f, u, n[p + 11], 22, -1990404162), 
                    u = m(u, l, d, f, n[p + 12], 7, 1804603682), f = m(f, u, l, d, n[p + 13], 12, -40341101), 
                    d = m(d, f, u, l, n[p + 14], 17, -1502002290), u = g(u, l = m(l, d, f, u, n[p + 15], 22, 1236535329), d, f, n[p + 1], 5, -165796510), 
                    f = g(f, u, l, d, n[p + 6], 9, -1069501632), d = g(d, f, u, l, n[p + 11], 14, 643717713), 
                    l = g(l, d, f, u, n[p + 0], 20, -373897302), u = g(u, l, d, f, n[p + 5], 5, -701558691), 
                    f = g(f, u, l, d, n[p + 10], 9, 38016083), d = g(d, f, u, l, n[p + 15], 14, -660478335), 
                    l = g(l, d, f, u, n[p + 4], 20, -405537848), u = g(u, l, d, f, n[p + 9], 5, 568446438), 
                    f = g(f, u, l, d, n[p + 14], 9, -1019803690), d = g(d, f, u, l, n[p + 3], 14, -187363961), 
                    l = g(l, d, f, u, n[p + 8], 20, 1163531501), u = g(u, l, d, f, n[p + 13], 5, -1444681467), 
                    f = g(f, u, l, d, n[p + 2], 9, -51403784), d = g(d, f, u, l, n[p + 7], 14, 1735328473), 
                    u = h(u, l = g(l, d, f, u, n[p + 12], 20, -1926607734), d, f, n[p + 5], 4, -378558), 
                    f = h(f, u, l, d, n[p + 8], 11, -2022574463), d = h(d, f, u, l, n[p + 11], 16, 1839030562), 
                    l = h(l, d, f, u, n[p + 14], 23, -35309556), u = h(u, l, d, f, n[p + 1], 4, -1530992060), 
                    f = h(f, u, l, d, n[p + 4], 11, 1272893353), d = h(d, f, u, l, n[p + 7], 16, -155497632), 
                    l = h(l, d, f, u, n[p + 10], 23, -1094730640), u = h(u, l, d, f, n[p + 13], 4, 681279174), 
                    f = h(f, u, l, d, n[p + 0], 11, -358537222), d = h(d, f, u, l, n[p + 3], 16, -722521979), 
                    l = h(l, d, f, u, n[p + 6], 23, 76029189), u = h(u, l, d, f, n[p + 9], 4, -640364487), 
                    f = h(f, u, l, d, n[p + 12], 11, -421815835), d = h(d, f, u, l, n[p + 15], 16, 530742520), 
                    u = y(u, l = h(l, d, f, u, n[p + 2], 23, -995338651), d, f, n[p + 0], 6, -198630844), 
                    f = y(f, u, l, d, n[p + 7], 10, 1126891415), d = y(d, f, u, l, n[p + 14], 15, -1416354905), 
                    l = y(l, d, f, u, n[p + 5], 21, -57434055), u = y(u, l, d, f, n[p + 12], 6, 1700485571), 
                    f = y(f, u, l, d, n[p + 3], 10, -1894986606), d = y(d, f, u, l, n[p + 10], 15, -1051523), 
                    l = y(l, d, f, u, n[p + 1], 21, -2054922799), u = y(u, l, d, f, n[p + 8], 6, 1873313359), 
                    f = y(f, u, l, d, n[p + 15], 10, -30611744), d = y(d, f, u, l, n[p + 6], 15, -1560198380), 
                    l = y(l, d, f, u, n[p + 13], 21, 1309151649), u = y(u, l, d, f, n[p + 4], 6, -145523070), 
                    f = y(f, u, l, d, n[p + 11], 10, -1120210379), d = y(d, f, u, l, n[p + 2], 15, 718787259), 
                    l = y(l, d, f, u, n[p + 9], 21, -343485551), u = u + v >>> 0, l = l + b >>> 0, d = d + T >>> 0, 
                    f = f + _ >>> 0;
                }
                return r.endian([ u, l, d, f ]);
            })._ff = function(e, t, n, r, o, i, a) {
                var s = e + (t & n | ~t & r) + (o >>> 0) + a;
                return (s << i | s >>> 32 - i) + t;
            }, s._gg = function(e, t, n, r, o, i, a) {
                var s = e + (t & r | n & ~r) + (o >>> 0) + a;
                return (s << i | s >>> 32 - i) + t;
            }, s._hh = function(e, t, n, r, o, i, a) {
                var s = e + (t ^ n ^ r) + (o >>> 0) + a;
                return (s << i | s >>> 32 - i) + t;
            }, s._ii = function(e, t, n, r, o, i, a) {
                var s = e + (n ^ (t | ~r)) + (o >>> 0) + a;
                return (s << i | s >>> 32 - i) + t;
            }, s._blocksize = 16, s._digestsize = 16, e.exports = function(e, t) {
                if (null == e) throw new Error("Illegal argument " + e);
                var n = r.wordsToBytes(s(e, t));
                return t && t.asBytes ? n : t && t.asString ? a.bytesToString(n) : r.bytesToHex(n);
            };
        }, function(e, t) {
            var n = {
                utf8: {
                    stringToBytes: function(e) {
                        return n.bin.stringToBytes(unescape(encodeURIComponent(e)));
                    },
                    bytesToString: function(e) {
                        return decodeURIComponent(escape(n.bin.bytesToString(e)));
                    }
                },
                bin: {
                    stringToBytes: function(e) {
                        for (var t = [], n = 0; n < e.length; n++) t.push(255 & e.charCodeAt(n));
                        return t;
                    },
                    bytesToString: function(e) {
                        for (var t = [], n = 0; n < e.length; n++) t.push(String.fromCharCode(e[n]));
                        return t.join("");
                    }
                }
            };
            e.exports = n;
        }, function(e, t, n) {
            var r = n(68);
            e.exports = r.YunXinMiniappSDK;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.YunXinMiniappSDK = void 0;
            var r = d(n(4)), o = d(n(5)), i = d(n(16)), a = d(n(20)), s = d(n(99)), c = d(n(27)), u = d(n(140)), l = n(14);
            function d(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            t.YunXinMiniappSDK = function(e) {
                function t(e) {
                    (0, r.default)(this, t);
                    var n = (0, i.default)(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return c.default.verifyOptions(e, "appkey"), Object.assign(s.default.prototype, u.default), 
                    n._init({
                        appkey: e.appkey,
                        nim: e.nim,
                        logger: n.logger
                    }), t.VOICE_BEAUTIFIER_OFF = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF, t.VOICE_BEAUTIFIER_MUFFLED = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_MUFFLED, 
                    t.VOICE_BEAUTIFIER_MELLOW = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_MELLOW, t.VOICE_BEAUTIFIER_CLEAR = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_CLEAR, 
                    t.VOICE_BEAUTIFIER_MAGNETIC = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_MAGNETIC, 
                    t.VOICE_BEAUTIFIER_RECORDINGSTUDIO = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_RECORDINGSTUDIO, 
                    t.VOICE_BEAUTIFIER_NATURE = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_NATURE, t.VOICE_BEAUTIFIER_REMOTE = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_REMOTE, 
                    t.VOICE_BEAUTIFIER_CHURCH = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_CHURCH, t.VOICE_BEAUTIFIER_BEDROOM = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_BEDROOM, 
                    t.VOICE_BEAUTIFIER_LIVE = l.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_LIVE, t.AUDIO_EFFECT_OFF = l.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF, 
                    t.VOICE_CHANGER_EFFECT_ROBOT = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_ROBOT, t.VOICE_CHANGER_EFFECT_GIANT = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_GIANT, 
                    t.VOICE_CHANGER_EFFECT_HORROR = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_HORROR, 
                    t.VOICE_CHANGER_EFFECT_MATURE = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_MATURE, 
                    t.VOICE_CHANGER_EFFECT_MANTOWOMAN = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_MANTOWOMAN, 
                    t.VOICE_CHANGER_EFFECT_WOMANTOMAN = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_WOMANTOMAN, 
                    t.VOICE_CHANGER_EFFECT_MANTOLOLI = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_MANTOLOLI, 
                    t.VOICE_CHANGER_EFFECT_WOMANTOLOLI = l.VOICE_EFFECT_TYPE.VOICE_CHANGER_EFFECT_WOMANTOLOLI, 
                    t.AUDIO_EQUALIZATION_BAND_31 = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_31, 
                    t.AUDIO_EQUALIZATION_BAND_62 = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_62, 
                    t.AUDIO_EQUALIZATION_BAND_125 = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_125, 
                    t.AUDIO_EQUALIZATION_BAND_250 = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_250, 
                    t.AUDIO_EQUALIZATION_BAND_500 = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_500, 
                    t.AUDIO_EQUALIZATION_BAND_1K = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_1K, 
                    t.AUDIO_EQUALIZATION_BAND_2K = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_2K, 
                    t.AUDIO_EQUALIZATION_BAND_4K = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_4K, 
                    t.AUDIO_EQUALIZATION_BAND_8K = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_8K, 
                    t.AUDIO_EQUALIZATION_BAND_16K = l.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_16K, 
                    n;
                }
                return (0, a.default)(t, e), (0, o.default)(t, null, [ {
                    key: "Client",
                    value: function(e) {
                        return t.instance ? t.instance : t.instance = new t(e);
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        t.instance = null;
                    }
                } ]), t;
            }(s.default);
        }, function(e, t, n) {
            n(70);
            var r = n(2).Object;
            e.exports = function(e, t, n) {
                return r.defineProperty(e, t, n);
            };
        }, function(e, t, n) {
            var r = n(6);
            r(r.S + r.F * !n(9), "Object", {
                defineProperty: n(7).f
            });
        }, function(e, t, n) {
            e.exports = {
                default: n(72),
                __esModule: !0
            };
        }, function(e, t, n) {
            n(47), n(54), e.exports = n(38).f("iterator");
        }, function(e, t, n) {
            var r = n(31), o = n(32);
            e.exports = function(e) {
                return function(t, n) {
                    var i, a, s = String(o(t)), c = r(n), u = s.length;
                    return c < 0 || c >= u ? e ? "" : void 0 : (i = s.charCodeAt(c)) < 55296 || i > 56319 || c + 1 === u || (a = s.charCodeAt(c + 1)) < 56320 || a > 57343 ? e ? s.charAt(c) : i : e ? s.slice(c, c + 2) : a - 56320 + (i - 55296 << 10) + 65536;
                };
            };
        }, function(e, t, n) {
            var r = n(33), o = n(23), i = n(25), a = {};
            n(10)(a, n(1)("iterator"), function() {
                return this;
            }), e.exports = function(e, t, n) {
                e.prototype = r(a, {
                    next: o(1, n)
                }), i(e, t + " Iterator");
            };
        }, function(e, t, n) {
            var r = n(7), o = n(3), i = n(34);
            e.exports = n(9) ? Object.defineProperties : function(e, t) {
                o(e);
                for (var n, a = i(t), s = a.length, c = 0; s > c; ) r.f(e, n = a[c++], t[n]);
                return e;
            };
        }, function(e, t, n) {
            var r = n(19);
            e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
                return "String" == r(e) ? e.split("") : Object(e);
            };
        }, function(e, t, n) {
            var r = n(13), o = n(51), i = n(78);
            e.exports = function(e) {
                return function(t, n, a) {
                    var s, c = r(t), u = o(c.length), l = i(a, u);
                    if (e && n != n) {
                        for (;u > l; ) if ((s = c[l++]) != s) return !0;
                    } else for (;u > l; l++) if ((e || l in c) && c[l] === n) return e || l || 0;
                    return !e && -1;
                };
            };
        }, function(e, t, n) {
            var r = n(31), o = Math.max, i = Math.min;
            e.exports = function(e, t) {
                return (e = r(e)) < 0 ? o(e + t, 0) : i(e, t);
            };
        }, function(e, t, n) {
            var r = n(11), o = n(53), i = n(35)("IE_PROTO"), a = Object.prototype;
            e.exports = Object.getPrototypeOf || function(e) {
                return e = o(e), r(e, i) ? e[i] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null;
            };
        }, function(e, t, n) {
            var r = n(81), o = n(82), i = n(18), a = n(13);
            e.exports = n(48)(Array, "Array", function(e, t) {
                this._t = a(e), this._i = 0, this._k = t;
            }, function() {
                var e = this._t, t = this._k, n = this._i++;
                return !e || n >= e.length ? (this._t = void 0, o(1)) : o(0, "keys" == t ? n : "values" == t ? e[n] : [ n, e[n] ]);
            }, "values"), i.Arguments = i.Array, r("keys"), r("values"), r("entries");
        }, function(e, t) {
            e.exports = function() {};
        }, function(e, t) {
            e.exports = function(e, t) {
                return {
                    value: t,
                    done: !!e
                };
            };
        }, function(e, t, n) {
            e.exports = {
                default: n(84),
                __esModule: !0
            };
        }, function(e, t, n) {
            n(85), n(58), n(90), n(91), e.exports = n(2).Symbol;
        }, function(e, t, n) {
            var o = n(0), i = n(11), a = n(9), s = n(6), c = n(49), u = n(86).KEY, l = n(22), d = n(36), f = n(25), p = n(24), m = n(1), g = n(38), h = n(39), y = n(87), v = n(88), b = n(3), T = n(8), _ = n(53), S = n(13), k = n(30), M = n(23), P = n(33), A = n(89), w = n(57), O = n(55), E = n(7), I = n(34), x = w.f, C = E.f, R = A.f, j = o.Symbol, N = o.JSON, L = N && N.stringify, U = m("_hidden"), D = m("toPrimitive"), F = {}.propertyIsEnumerable, B = d("symbol-registry"), V = d("symbols"), q = d("op-symbols"), H = Object.prototype, $ = "function" == typeof j && !!O.f, z = o.QObject, G = !z || !z.prototype || !z.prototype.findChild, Y = a && l(function() {
                return 7 != P(C({}, "a", {
                    get: function() {
                        return C(this, "a", {
                            value: 7
                        }).a;
                    }
                })).a;
            }) ? function(e, t, n) {
                var r = x(H, t);
                r && delete H[t], C(e, t, n), r && e !== H && C(H, t, r);
            } : C, W = function(e) {
                var t = V[e] = P(j.prototype);
                return t._k = e, t;
            }, Q = $ && "symbol" == r(j.iterator) ? function(e) {
                return "symbol" == r(e);
            } : function(e) {
                return e instanceof j;
            }, J = function e(t, n, r) {
                return t === H && e(q, n, r), b(t), n = k(n, !0), b(r), i(V, n) ? (r.enumerable ? (i(t, U) && t[U][n] && (t[U][n] = !1), 
                r = P(r, {
                    enumerable: M(0, !1)
                })) : (i(t, U) || C(t, U, M(1, {})), t[U][n] = !0), Y(t, n, r)) : C(t, n, r);
            }, K = function(e, t) {
                b(e);
                for (var n, r = y(t = S(t)), o = 0, i = r.length; i > o; ) J(e, n = r[o++], t[n]);
                return e;
            }, Z = function(e) {
                var t = F.call(this, e = k(e, !0));
                return !(this === H && i(V, e) && !i(q, e)) && (!(t || !i(this, e) || !i(V, e) || i(this, U) && this[U][e]) || t);
            }, X = function(e, t) {
                if (e = S(e), t = k(t, !0), e !== H || !i(V, t) || i(q, t)) {
                    var n = x(e, t);
                    return !n || !i(V, t) || i(e, U) && e[U][t] || (n.enumerable = !0), n;
                }
            }, ee = function(e) {
                for (var t, n = R(S(e)), r = [], o = 0; n.length > o; ) i(V, t = n[o++]) || t == U || t == u || r.push(t);
                return r;
            }, te = function(e) {
                for (var t, n = e === H, r = R(n ? q : S(e)), o = [], a = 0; r.length > a; ) !i(V, t = r[a++]) || n && !i(H, t) || o.push(V[t]);
                return o;
            };
            $ || (c((j = function() {
                if (this instanceof j) throw TypeError("Symbol is not a constructor!");
                var e = p(arguments.length > 0 ? arguments[0] : void 0), t = function t(n) {
                    this === H && t.call(q, n), i(this, U) && i(this[U], e) && (this[U][e] = !1), Y(this, e, M(1, n));
                };
                return a && G && Y(H, e, {
                    configurable: !0,
                    set: t
                }), W(e);
            }).prototype, "toString", function() {
                return this._k;
            }), w.f = X, E.f = J, n(56).f = A.f = ee, n(40).f = Z, O.f = te, a && !n(17) && c(H, "propertyIsEnumerable", Z, !0), 
            g.f = function(e) {
                return W(m(e));
            }), s(s.G + s.W + s.F * !$, {
                Symbol: j
            });
            for (var ne = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), re = 0; ne.length > re; ) m(ne[re++]);
            for (var oe = I(m.store), ie = 0; oe.length > ie; ) h(oe[ie++]);
            s(s.S + s.F * !$, "Symbol", {
                for: function(e) {
                    return i(B, e += "") ? B[e] : B[e] = j(e);
                },
                keyFor: function(e) {
                    if (!Q(e)) throw TypeError(e + " is not a symbol!");
                    for (var t in B) if (B[t] === e) return t;
                },
                useSetter: function() {
                    G = !0;
                },
                useSimple: function() {
                    G = !1;
                }
            }), s(s.S + s.F * !$, "Object", {
                create: function(e, t) {
                    return void 0 === t ? P(e) : K(P(e), t);
                },
                defineProperty: J,
                defineProperties: K,
                getOwnPropertyDescriptor: X,
                getOwnPropertyNames: ee,
                getOwnPropertySymbols: te
            });
            var ae = l(function() {
                O.f(1);
            });
            s(s.S + s.F * ae, "Object", {
                getOwnPropertySymbols: function(e) {
                    return O.f(_(e));
                }
            }), N && s(s.S + s.F * (!$ || l(function() {
                var e = j();
                return "[null]" != L([ e ]) || "{}" != L({
                    a: e
                }) || "{}" != L(Object(e));
            })), "JSON", {
                stringify: function(e) {
                    for (var t, n, r = [ e ], o = 1; arguments.length > o; ) r.push(arguments[o++]);
                    if (n = t = r[1], (T(t) || void 0 !== e) && !Q(e)) return v(t) || (t = function(e, t) {
                        if ("function" == typeof n && (t = n.call(this, e, t)), !Q(t)) return t;
                    }), r[1] = t, L.apply(N, r);
                }
            }), j.prototype[D] || n(10)(j.prototype, D, j.prototype.valueOf), f(j, "Symbol"), 
            f(Math, "Math", !0), f(o.JSON, "JSON", !0);
        }, function(e, t, n) {
            var o = n(24)("meta"), i = n(8), a = n(11), s = n(7).f, c = 0, u = Object.isExtensible || function() {
                return !0;
            }, l = !n(22)(function() {
                return u(Object.preventExtensions({}));
            }), d = function(e) {
                s(e, o, {
                    value: {
                        i: "O" + ++c,
                        w: {}
                    }
                });
            }, f = e.exports = {
                KEY: o,
                NEED: !1,
                fastKey: function(e, t) {
                    if (!i(e)) return "symbol" == r(e) ? e : ("string" == typeof e ? "S" : "P") + e;
                    if (!a(e, o)) {
                        if (!u(e)) return "F";
                        if (!t) return "E";
                        d(e);
                    }
                    return e[o].i;
                },
                getWeak: function(e, t) {
                    if (!a(e, o)) {
                        if (!u(e)) return !0;
                        if (!t) return !1;
                        d(e);
                    }
                    return e[o].w;
                },
                onFreeze: function(e) {
                    return l && f.NEED && u(e) && !a(e, o) && d(e), e;
                }
            };
        }, function(e, t, n) {
            var r = n(34), o = n(55), i = n(40);
            e.exports = function(e) {
                var t = r(e), n = o.f;
                if (n) for (var a, s = n(e), c = i.f, u = 0; s.length > u; ) c.call(e, a = s[u++]) && t.push(a);
                return t;
            };
        }, function(e, t, n) {
            var r = n(19);
            e.exports = Array.isArray || function(e) {
                return "Array" == r(e);
            };
        }, function(e, t, n) {
            var o = n(13), i = n(56).f, a = {}.toString, s = "object" == ("undefined" == typeof window ? "undefined" : r(window)) && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            e.exports.f = function(e) {
                return s && "[object Window]" == a.call(e) ? function(e) {
                    try {
                        return i(e);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return s.slice();
                    }
                }(e) : i(o(e));
            };
        }, function(e, t, n) {
            n(39)("asyncIterator");
        }, function(e, t, n) {
            n(39)("observable");
        }, function(e, t, n) {
            e.exports = {
                default: n(93),
                __esModule: !0
            };
        }, function(e, t, n) {
            n(94), e.exports = n(2).Object.setPrototypeOf;
        }, function(e, t, n) {
            var r = n(6);
            r(r.S, "Object", {
                setPrototypeOf: n(95).set
            });
        }, function(e, t, n) {
            var r = n(8), o = n(3), i = function(e, t) {
                if (o(e), !r(t) && null !== t) throw TypeError(t + ": can't set as prototype!");
            };
            e.exports = {
                set: Object.setPrototypeOf || ("__proto__" in {} ? function(e, t, r) {
                    try {
                        (r = n(15)(Function.call, n(57).f(Object.prototype, "__proto__").set, 2))(e, []), 
                        t = !(e instanceof Array);
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        t = !0;
                    }
                    return function(e, n) {
                        return i(e, n), t ? e.__proto__ = n : r(e, n), e;
                    };
                }({}, !1) : void 0),
                check: i
            };
        }, function(e, t, n) {
            e.exports = {
                default: n(97),
                __esModule: !0
            };
        }, function(e, t, n) {
            n(98);
            var r = n(2).Object;
            e.exports = function(e, t) {
                return r.create(e, t);
            };
        }, function(e, t, n) {
            var r = n(6);
            r(r.S, "Object", {
                create: n(33)
            });
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = h(n(41)), o = h(n(42)), i = h(n(118)), a = h(n(4)), s = h(n(5)), c = h(n(16)), u = h(n(20)), l = h(n(26)), d = h(n(27)), f = h(n(119)), p = h(n(131)), m = n(14), g = n(14);
            function h(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var y = n(132), v = n(28), b = function(e) {
                function t() {
                    var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    (0, a.default)(this, t);
                    var r = (0, c.default)(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return r.logger = new y({
                        debug: n.debug,
                        prefix: "mini"
                    }), r._status = {
                        appkey: n.appkey || null,
                        startSessionTime: 0,
                        endSessionTime: 0,
                        lastSessionDuation: 0,
                        publishAudio: !1,
                        publishVideo: !1,
                        channelServer: "",
                        statisticsServer: "",
                        role: "broadcaster",
                        audioChangeMode: 0,
                        voiceBeautifierType: g.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF,
                        voiceEffectType: g.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF,
                        pitch: "1.25",
                        AudioEqualizationBand: (e = {}, (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_31, 0), 
                        (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_62, 0), (0, 
                        i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_125, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_250, 0), 
                        (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_500, 0), (0, 
                        i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_1K, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_2K, 0), 
                        (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_4K, 0), (0, 
                        i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_8K, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_16K, 0), 
                        e),
                        runtimeEnvironment: "undefined" == typeof qq ? "wechat" : "qq"
                    }, r._wsController = null, r;
                }
                return (0, u.default)(t, e), (0, s.default)(t, [ {
                    key: "_init",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        this._resetStatus(), Object.assign(this, m.ROLE_FOR_MEETING, m.SESSION_MODE, m.LIVE_ENABLE, m.RECORD_TYPE, m.RECORD_AUDIO, m.RECORD_VIDEO, m.NETCALL_MODE, m.RTMP_RECORD), 
                        this._wsController = new f.default(Object.assign(e, {
                            status: this._status
                        })), this._dataReporter = new p.default(), this._bindEvent();
                    }
                }, {
                    key: "_resetStatus",
                    value: function() {
                        var e;
                        Object.assign(this._status, {
                            isBigNumberOfLocalUid: !1,
                            joinChannelParam: null,
                            isInTheRoom: !1,
                            createChannelResponse: {},
                            closeEvent: m.CONSTANT_ERROR.closeNormal,
                            rtmpPushAddress: "",
                            audioChangeMode: 0,
                            voiceBeautifierType: g.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF,
                            voiceEffectType: g.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF,
                            pitch: "1.25",
                            audioEqualizationBand: (e = {}, (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_31, 0), 
                            (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_62, 0), (0, 
                            i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_125, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_250, 0), 
                            (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_500, 0), (0, 
                            i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_1K, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_2K, 0), 
                            (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_4K, 0), (0, 
                            i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_8K, 0), (0, i.default)(e, g.AUDIO_EQUALIZATION_BAND.AUDIO_EQUALIZATION_BAND_16K, 0), 
                            e)
                        }), this._status.publishAudio = !1, this._status.publishVideo = !1, this._info = {
                            pushUrl: "",
                            userlist: new Map(),
                            cid: 0,
                            uid: 0
                        };
                    }
                }, {
                    key: "_updateStatus",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        Object.assign(this._status, e);
                    }
                }, {
                    key: "_bindEvent",
                    value: function() {
                        var e, t = this;
                        this._wsController && (this._wsController.on("reconnectFailed", function(e) {
                            t.apiEventReport("setDisconnect", {
                                reason: "reconnectFailed"
                            }), t._status.closeEvent = m.CONSTANT_ERROR.reconnectFail, t.destroy();
                        }), this._wsController.on("kicked", function(e) {
                            t.apiEventReport("setDisconnect", {
                                reason: "kicked"
                            }), t._status.closeEvent = m.CONSTANT_ERROR.kicked, t.emit("kicked", e), t.destroy();
                        }), this._wsController.on("roomRefused", function(e) {
                            t._status.closeEvent = m.CONSTANT_ERROR.roomRefused, t.apiEventReport("setDisconnect", {
                                reason: "roomRefused"
                            }), t.emit("kicked", e), t.destroy();
                        }), this._wsController.on("loginFailed", function(e) {
                            e ? e.code == m.CONSTANT_ERROR.loginFailed.code ? t._status.closeEvent = m.CONSTANT_ERROR.loginFailed : e.code === m.CONSTANT_ERROR.loginFailedEncrypt.code && (t._status.closeEvent = m.CONSTANT_ERROR.loginFailedEncrypt) : t._status.closeEvent = m.CONSTANT_ERROR.loginFailed;
                            var n = t._info.joinChannelParam || t._info.createChannelResponse || {};
                            t.apiEventReport("setLogin", {
                                a_record: !!n.recordAudio,
                                v_record: !!n.recordVideo,
                                record_type: n.recordType ? n.recordType + "" : "0",
                                host_speaker: !!n.isHostSpeaker,
                                result: e.code,
                                serverIp: n.address || ""
                            }), t.destroy();
                        }), this._wsController.on("destroy", function() {
                            var e = Object.assign({}, t._status.closeEvent);
                            t.logger.log("mainController::ws ondestroy: ", e), t._resetStatus(), t.emit("disconnect", e);
                        }), this._wsController.on("error", function(e) {
                            t.apiEventReport("setDisconnect", {
                                reason: "ws error"
                            }), t.emit("error", e);
                        }), this._wsController.on("syncDone", function(e) {
                            t.logger.log("mainController: syncDone 成功:", e);
                            var n = "setLogin";
                            t._status.needReconnect && (n = "setRelogin");
                            var r = t._info.joinChannelParam || t._info.createChannelResponse || {};
                            t.apiEventReport(n, {
                                a_record: !!r.recordAudio,
                                v_record: !!r.recordVideo,
                                record_type: r.recordType ? r.recordType + "" : "0",
                                host_speaker: !!r.isHostSpeaker,
                                result: 0,
                                serverIp: r.address || ""
                            }), e.userlist.map(function(e) {
                                var n = !1;
                                return v.isBigNumber(e.uid) && (n = !0), n && v.isBigNumber(t._info.uid) && e.uid.eq(t._info.uid) || !n && !v.isBigNumber(t._info.uid) && e.uid == t._info.uid || e.uid.toString() == t._info.uid.toString() ? (t._info.pushUrl && t._info.pushUrl !== e.url && (t.logger.log("推流地址发生了变化: ", t._info.pushUrl), 
                                t.emit("syncDone", {
                                    uid: t._info.uid,
                                    url: e.url,
                                    isBigNumber: n
                                })), t._info.pushUrl = e.url, void t.logger.log("推流地址: ", t._info.pushUrl)) : (t.logger.log("房间里有其他人: ", e.uid), 
                                e.subscribed = {
                                    userSubAudio: !1,
                                    audio: !1,
                                    slaveAudio: !1,
                                    video: !1,
                                    screenShare: !1
                                }, t._info.userlist.set(e.uid.toString(), e), 1 == e.role ? void t.logger.log(e.uid + " 为观众角色，忽略") : (t.emit("clientJoin", {
                                    uid: e.uid,
                                    isBigNumber: n
                                }), (e.audio_on || e.video_on || e.screen_on) && (e.audio_on && (t.logger.log(e.uid + " 发布了自己的 audio"), 
                                t.emit("stream-added", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "audio",
                                    isBigNumber: n
                                }), t.emit("stream-added", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "slaveAudio",
                                    isBigNumber: n
                                })), e.video_on && (t.logger.log(e.uid + " 发布了自己的 video"), t.emit("stream-added", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "video",
                                    isBigNumber: n
                                })), e.screen_on && (t.logger.log(e.uid + " 发布了自己的 screenShare"), t.emit("stream-added", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "screenShare",
                                    isBigNumber: n
                                })), "off" === e.audio_status && e.audio_on && t.emit("media-status", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "audio",
                                    status: "off",
                                    isBigNumber: n
                                }), "off" === e.video_status && e.video_on && t.emit("media-status", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "video",
                                    status: "off",
                                    isBigNumber: n
                                }), "off" === e.screen_status && e.screen_on && t.emit("media-status", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: "screenShare",
                                    status: "off",
                                    isBigNumber: n
                                })), e));
                            });
                        }), this._wsController.on("clientLeave", function(e) {
                            t.logger.log("有人离开: ", e.uid);
                            var n = !1;
                            v.isBigNumber(e.uid) && (n = !0), t.emit("clientLeave", {
                                uid: e.uid,
                                isBigNumber: n
                            }), t._info.userlist.delete(e.uid.toString());
                        }), this._wsController.on("clientMute", function(e) {
                            t.logger.log("mainController: clientMute 有人mute:", e);
                            var n = !1;
                            v.isBigNumber(e.uid) && (t.logger.log("mainController: clientMute isBigNumber:", n), 
                            n = !0), "audio" == e.mediaType ? e.mute ? n ? t.emit("mute-audio", e.uid.toString) : t.emit("mute-audio", e.uid) : n ? t.emit("unmute-audio", e.uid.toString) : t.emit("unmute-audio", e.uid) : "video" == e.mediaType && (e.mute ? n ? t.emit("mute-video", e.uid.toString) : t.emit("mute-video", e.uid) : n ? t.emit("unmute-video", e.uid.toString) : t.emit("unmute-video", e.uid));
                        }), this._wsController.on("clientJoin", function(e) {
                            if (e.subscribed = {
                                userSubAudio: !1,
                                audio: !1,
                                slaveAudio: !1,
                                video: !1,
                                screenShare: !1
                            }, t.logger.log("mainController: clientJoin 有人加入房间:", e), t._info.userlist.set(e.uid.toString(), e), 
                            1 != e.role) {
                                var n = !1;
                                v.isBigNumber(e.uid) && (t.logger.log("mainController: clientJoin isBigNumber:", n), 
                                n = !0), t.emit("clientJoin", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    isBigNumber: n
                                });
                            } else t.logger.log("clientJoin " + e.uid + " 为观众角色，忽略");
                        }), this._wsController.on("clientUpdate", function(e) {
                            t.emit("clientUpdate", e);
                        }), this._wsController.on("liveRoomClose", function(e) {
                            t.emit("liveRoomClose", e);
                        }), this._wsController.on("willreconnect", function(e) {
                            t.apiEventReport("setDisconnect", {
                                reason: "willreconnect"
                            }), t.emit("willreconnect", e);
                        }), this._wsController.on("reconnected", (e = (0, o.default)(r.default.mark(function e(n) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    if (t.setRole(t._status.role), !t._status.publishAudio) {
                                        e.next = 5;
                                        break;
                                    }
                                    return t._status.publishAudio = !1, e.next = 5, t.publish("audio");

                                  case 5:
                                    if (!t._status.publishVideo) {
                                        e.next = 9;
                                        break;
                                    }
                                    return t._status.publishVideo = !1, e.next = 9, t.publish("video");

                                  case 9:
                                    t.emit("reconnected", n);

                                  case 10:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, t);
                        })), function(t) {
                            return e.apply(this, arguments);
                        })), this._wsController.on("clientPublished", function(e) {
                            var n = !1;
                            if (v.isBigNumber(e.uid) && (t.logger.log("mainController: clientPublished isBigNumber:", n), 
                            n = !0), t.logger.log("clientPublished: ", e), "open" == e.status) {
                                if (t.logger.log(e.uid + " 发布了自己的 " + e.mediaType), t.emit("stream-added", {
                                    uid: n ? e.uid.toString() : e.uid,
                                    mediaType: e.mediaType,
                                    isBigNumber: n
                                }), "audio" == e.mediaType) ; else if ("screenShare" === e.mediaType) {
                                    var r = t._info.userlist.get(e.uid.toString());
                                    r.screen_url = e.url, t._info.userlist.set(e.uid.toString(), r);
                                }
                            } else "close" == e.status && (t.logger.log(e.uid + " 取消发布了自己的 " + e.mediaType), 
                            t.emit("stream-removed", {
                                uid: n ? e.uid.toString() : e.uid,
                                mediaType: e.mediaType,
                                isBigNumber: n
                            }));
                        }), this._wsController.on("changeRoled", function(e) {
                            var n = !1;
                            v.isBigNumber(e.uid) && (t.logger.log("mainController: changeRoled isBigNumber:", n), 
                            n = !0), t.emit("role-Changed", {
                                uid: n ? e.uid.toString() : e.uid,
                                role: e.role,
                                isBigNumber: n
                            }), t.logger.log(e.uid + " 变更了自己的角色: " + e.role), 0 == e.role ? (t.logger.log(e.uid + " 变成了观众通知： " + e.role), 
                            t.emit("clientJoin", {
                                uid: n ? e.uid.toString() : e.uid,
                                isBigNumber: n
                            })) : 1 == e.role && (t._info.userlist.get(e.uid.toString()) ? (t.logger.log(e.uid + " 变成了直播通知： " + e.role), 
                            t.emit("clientLeave", {
                                uid: n ? e.uid.toString() : e.uid,
                                isBigNumber: n
                            })) : t.logger.log("没有此成员，忽略"));
                        }), this._wsController.on("abilityNotSupport", function(e) {
                            var n = !1;
                            v.isBigNumber(e.uid) && (t.logger.log("mainController: abilityNotSupport isBigNumber:", n), 
                            n = !0), t.emit("ability-not-support", {
                                uid: n ? e.uid.toString() : e.uid,
                                code: e.code,
                                errMsg: e.errMsg,
                                isBigNumber: n
                            }), t.logger.warn("房间媒体协商出现问题：: " + e.msg);
                        }), this._wsController.on("clientMediaStatus", function(e) {
                            var n = !1;
                            v.isBigNumber(e.uid) && (t.logger.log("mainController: clientMediaStatus isBigNumber:", n), 
                            n = !0), t.emit("media-status", {
                                uid: n ? e.uid.toString() : e.uid,
                                url: e.url,
                                mediaType: e.mediaType,
                                status: e.status,
                                isBigNumber: n
                            });
                        }), this._wsController.on("rtmpTaskStatus", function(e) {
                            console.warn("event: ", e);
                            var n = !1;
                            v.isBigNumber(e.uid) && (t.logger.log("mainController: rtmpTaskStatus isBigNumber:", n), 
                            n = !0), t.emit("rtmp-tasks-status", {
                                uid: n ? e.uid.toString() : e.uid,
                                hotsUid: n ? e.hotsUid.toString() : e.hotsUid,
                                streamUrl: e.streamUrl,
                                code: e.code,
                                msg: e.msg,
                                taskId: e.taskId,
                                isBigNumber: n
                            });
                        }), this._wsController.on("sendCommandOverTime", function(e) {
                            t.apiEventReport("setDisconnect", {
                                reason: "sendCommandOverTime"
                            }), t.emit("sendCommandOverTime", e);
                        }), this._wsController.on("sessionStart", this.setStartSessionTime.bind(this)), 
                        this._wsController.on("sessionEnd", this.setEndSessionTime.bind(this))), this._dataReporter && this._dataReporter.on("updateStatistics", function(e) {
                            t._dataReporter.updateStatistics(e);
                        });
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._wsController && this._wsController._destroy();
                    }
                }, {
                    key: "getStatus",
                    value: function() {
                        return d.default.deepClone(this._status);
                    }
                }, {
                    key: "setStartSessionTime",
                    value: function() {
                        this._status.startSessionTime = +Date.now(), this._status.endSessionTime = 0, this.emit("sessionStart");
                    }
                }, {
                    key: "setEndSessionTime",
                    value: function() {
                        this._status.startSessionTime ? (this._status.endSessionTime = +Date.now(), this._status.lastSessionDuation = this._status.endSessionTime - this._status.startSessionTime) : this.logger.log("mainController: setEndSessionTime failed: startSessionTime undefined！");
                    }
                } ]), t;
            }(l.default);
            t.default = b, e.exports = t.default;
        }, function(e, t, n) {
            var r = function() {
                return this;
            }() || Function("return this")(), o = r.regeneratorRuntime && Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime") >= 0, i = o && r.regeneratorRuntime;
            if (r.regeneratorRuntime = void 0, e.exports = n(101), o) r.regeneratorRuntime = i; else try {
                delete r.regeneratorRuntime;
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                r.regeneratorRuntime = void 0;
            }
        }, function(e, t) {
            !function(t) {
                var n, o = Object.prototype, i = o.hasOwnProperty, a = "function" == typeof Symbol ? Symbol : {}, s = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", u = a.toStringTag || "@@toStringTag", l = "object" == r(e), d = t.regeneratorRuntime;
                if (d) l && (e.exports = d); else {
                    (d = t.regeneratorRuntime = l ? e.exports : {}).wrap = _;
                    var f = "suspendedStart", p = "suspendedYield", m = "executing", g = "completed", h = {}, y = {};
                    y[s] = function() {
                        return this;
                    };
                    var v = Object.getPrototypeOf, b = v && v(v(C([])));
                    b && b !== o && i.call(b, s) && (y = b);
                    var T = P.prototype = k.prototype = Object.create(y);
                    M.prototype = T.constructor = P, P.constructor = M, P[u] = M.displayName = "GeneratorFunction", 
                    d.isGeneratorFunction = function(e) {
                        var t = "function" == typeof e && e.constructor;
                        return !!t && (t === M || "GeneratorFunction" === (t.displayName || t.name));
                    }, d.mark = function(e) {
                        return Object.setPrototypeOf ? Object.setPrototypeOf(e, P) : (e.__proto__ = P, u in e || (e[u] = "GeneratorFunction")), 
                        e.prototype = Object.create(T), e;
                    }, d.awrap = function(e) {
                        return {
                            __await: e
                        };
                    }, A(w.prototype), w.prototype[c] = function() {
                        return this;
                    }, d.AsyncIterator = w, d.async = function(e, t, n, r) {
                        var o = new w(_(e, t, n, r));
                        return d.isGeneratorFunction(t) ? o : o.next().then(function(e) {
                            return e.done ? e.value : o.next();
                        });
                    }, A(T), T[u] = "Generator", T[s] = function() {
                        return this;
                    }, T.toString = function() {
                        return "[object Generator]";
                    }, d.keys = function(e) {
                        var t = [];
                        for (var n in e) t.push(n);
                        return t.reverse(), function n() {
                            for (;t.length; ) {
                                var r = t.pop();
                                if (r in e) return n.value = r, n.done = !1, n;
                            }
                            return n.done = !0, n;
                        };
                    }, d.values = C, x.prototype = {
                        constructor: x,
                        reset: function(e) {
                            if (this.prev = 0, this.next = 0, this.sent = this._sent = n, this.done = !1, this.delegate = null, 
                            this.method = "next", this.arg = n, this.tryEntries.forEach(I), !e) for (var t in this) "t" === t.charAt(0) && i.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = n);
                        },
                        stop: function() {
                            this.done = !0;
                            var e = this.tryEntries[0].completion;
                            if ("throw" === e.type) throw e.arg;
                            return this.rval;
                        },
                        dispatchException: function(e) {
                            if (this.done) throw e;
                            var t = this;
                            function r(r, o) {
                                return s.type = "throw", s.arg = e, t.next = r, o && (t.method = "next", t.arg = n), 
                                !!o;
                            }
                            for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                                var a = this.tryEntries[o], s = a.completion;
                                if ("root" === a.tryLoc) return r("end");
                                if (a.tryLoc <= this.prev) {
                                    var c = i.call(a, "catchLoc"), u = i.call(a, "finallyLoc");
                                    if (c && u) {
                                        if (this.prev < a.catchLoc) return r(a.catchLoc, !0);
                                        if (this.prev < a.finallyLoc) return r(a.finallyLoc);
                                    } else if (c) {
                                        if (this.prev < a.catchLoc) return r(a.catchLoc, !0);
                                    } else {
                                        if (!u) throw new Error("try statement without catch or finally");
                                        if (this.prev < a.finallyLoc) return r(a.finallyLoc);
                                    }
                                }
                            }
                        },
                        abrupt: function(e, t) {
                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                var r = this.tryEntries[n];
                                if (r.tryLoc <= this.prev && i.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                                    var o = r;
                                    break;
                                }
                            }
                            o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                            var a = o ? o.completion : {};
                            return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, 
                            h) : this.complete(a);
                        },
                        complete: function(e, t) {
                            if ("throw" === e.type) throw e.arg;
                            return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, 
                            this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), 
                            h;
                        },
                        finish: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var n = this.tryEntries[t];
                                if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), I(n), h;
                            }
                        },
                        catch: function(e) {
                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                var n = this.tryEntries[t];
                                if (n.tryLoc === e) {
                                    var r = n.completion;
                                    if ("throw" === r.type) {
                                        var o = r.arg;
                                        I(n);
                                    }
                                    return o;
                                }
                            }
                            throw new Error("illegal catch attempt");
                        },
                        delegateYield: function(e, t, r) {
                            return this.delegate = {
                                iterator: C(e),
                                resultName: t,
                                nextLoc: r
                            }, "next" === this.method && (this.arg = n), h;
                        }
                    };
                }
                function _(e, t, n, r) {
                    var o = t && t.prototype instanceof k ? t : k, i = Object.create(o.prototype), a = new x(r || []);
                    return i._invoke = function(e, t, n) {
                        var r = f;
                        return function(o, i) {
                            if (r === m) throw new Error("Generator is already running");
                            if (r === g) {
                                if ("throw" === o) throw i;
                                return R();
                            }
                            for (n.method = o, n.arg = i; ;) {
                                var a = n.delegate;
                                if (a) {
                                    var s = O(a, n);
                                    if (s) {
                                        if (s === h) continue;
                                        return s;
                                    }
                                }
                                if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                                    if (r === f) throw r = g, n.arg;
                                    n.dispatchException(n.arg);
                                } else "return" === n.method && n.abrupt("return", n.arg);
                                r = m;
                                var c = S(e, t, n);
                                if ("normal" === c.type) {
                                    if (r = n.done ? g : p, c.arg === h) continue;
                                    return {
                                        value: c.arg,
                                        done: n.done
                                    };
                                }
                                "throw" === c.type && (r = g, n.method = "throw", n.arg = c.arg);
                            }
                        };
                    }(e, n, a), i;
                }
                function S(e, t, n) {
                    try {
                        return {
                            type: "normal",
                            arg: e.call(t, n)
                        };
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        return {
                            type: "throw",
                            arg: e
                        };
                    }
                }
                function k() {}
                function M() {}
                function P() {}
                function A(e) {
                    [ "next", "throw", "return" ].forEach(function(t) {
                        e[t] = function(e) {
                            return this._invoke(t, e);
                        };
                    });
                }
                function w(e) {
                    var t;
                    this._invoke = function(n, o) {
                        function a() {
                            return new Promise(function(t, a) {
                                !function t(n, o, a, s) {
                                    var c = S(e[n], e, o);
                                    if ("throw" !== c.type) {
                                        var u = c.arg, l = u.value;
                                        return l && "object" == r(l) && i.call(l, "__await") ? Promise.resolve(l.__await).then(function(e) {
                                            t("next", e, a, s);
                                        }, function(e) {
                                            t("throw", e, a, s);
                                        }) : Promise.resolve(l).then(function(e) {
                                            u.value = e, a(u);
                                        }, s);
                                    }
                                    s(c.arg);
                                }(n, o, t, a);
                            });
                        }
                        return t = t ? t.then(a, a) : a();
                    };
                }
                function O(e, t) {
                    var r = e.iterator[t.method];
                    if (r === n) {
                        if (t.delegate = null, "throw" === t.method) {
                            if (e.iterator.return && (t.method = "return", t.arg = n, O(e, t), "throw" === t.method)) return h;
                            t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method");
                        }
                        return h;
                    }
                    var o = S(r, e.iterator, t.arg);
                    if ("throw" === o.type) return t.method = "throw", t.arg = o.arg, t.delegate = null, 
                    h;
                    var i = o.arg;
                    return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", 
                    t.arg = n), t.delegate = null, h) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), 
                    t.delegate = null, h);
                }
                function E(e) {
                    var t = {
                        tryLoc: e[0]
                    };
                    1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), 
                    this.tryEntries.push(t);
                }
                function I(e) {
                    var t = e.completion || {};
                    t.type = "normal", delete t.arg, e.completion = t;
                }
                function x(e) {
                    this.tryEntries = [ {
                        tryLoc: "root"
                    } ], e.forEach(E, this), this.reset(!0);
                }
                function C(e) {
                    if (e) {
                        var t = e[s];
                        if (t) return t.call(e);
                        if ("function" == typeof e.next) return e;
                        if (!isNaN(e.length)) {
                            var r = -1, o = function t() {
                                for (;++r < e.length; ) if (i.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = n, t.done = !0, t;
                            };
                            return o.next = o;
                        }
                    }
                    return {
                        next: R
                    };
                }
                function R() {
                    return {
                        value: n,
                        done: !0
                    };
                }
            }(function() {
                return this;
            }() || Function("return this")());
        }, function(e, t, n) {
            e.exports = {
                default: n(103),
                __esModule: !0
            };
        }, function(e, t, n) {
            n(58), n(47), n(54), n(104), n(116), n(117), e.exports = n(2).Promise;
        }, function(e, t, n) {
            var r, o, i, a, s = n(17), c = n(0), u = n(15), l = n(59), d = n(6), f = n(8), p = n(21), m = n(105), g = n(106), h = n(60), y = n(61).set, v = n(111)(), b = n(43), T = n(62), _ = n(112), S = n(63), k = c.TypeError, M = c.process, P = M && M.versions, A = P && P.v8 || "", w = c.Promise, O = "process" == l(M), E = function() {}, I = o = b.f, x = !!function() {
                try {
                    var e = w.resolve(1), t = (e.constructor = {})[n(1)("species")] = function(e) {
                        e(E, E);
                    };
                    return (O || "function" == typeof PromiseRejectionEvent) && e.then(E) instanceof t && 0 !== A.indexOf("6.6") && -1 === _.indexOf("Chrome/66");
                } catch (e) {}
            }(), C = function(e) {
                var t;
                return !(!f(e) || "function" != typeof (t = e.then)) && t;
            }, R = function(e, t) {
                if (!e._n) {
                    e._n = !0;
                    var n = e._c;
                    v(function() {
                        for (var r = e._v, o = 1 == e._s, i = 0, a = function(t) {
                            var n, i, a, s = o ? t.ok : t.fail, c = t.resolve, u = t.reject, l = t.domain;
                            try {
                                s ? (o || (2 == e._h && L(e), e._h = 1), !0 === s ? n = r : (l && l.enter(), n = s(r), 
                                l && (l.exit(), a = !0)), n === t.promise ? u(k("Promise-chain cycle")) : (i = C(n)) ? i.call(n, c, u) : c(n)) : u(r);
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                l && !a && l.exit(), u(e);
                            }
                        }; n.length > i; ) a(n[i++]);
                        e._c = [], e._n = !1, t && !e._h && j(e);
                    });
                }
            }, j = function(e) {
                y.call(c, function() {
                    var t, n, r, o = e._v, i = N(e);
                    if (i && (t = T(function() {
                        O ? M.emit("unhandledRejection", o, e) : (n = c.onunhandledrejection) ? n({
                            promise: e,
                            reason: o
                        }) : (r = c.console) && r.error && r.error("Unhandled promise rejection", o);
                    }), e._h = O || N(e) ? 2 : 1), e._a = void 0, i && t.e) throw t.v;
                });
            }, N = function(e) {
                return 1 !== e._h && 0 === (e._a || e._c).length;
            }, L = function(e) {
                y.call(c, function() {
                    var t;
                    O ? M.emit("rejectionHandled", e) : (t = c.onrejectionhandled) && t({
                        promise: e,
                        reason: e._v
                    });
                });
            }, U = function(e) {
                var t = this;
                t._d || (t._d = !0, (t = t._w || t)._v = e, t._s = 2, t._a || (t._a = t._c.slice()), 
                R(t, !0));
            }, D = function e(t) {
                var n, r = this;
                if (!r._d) {
                    r._d = !0, r = r._w || r;
                    try {
                        if (r === t) throw k("Promise can't be resolved itself");
                        (n = C(t)) ? v(function() {
                            var o = {
                                _w: r,
                                _d: !1
                            };
                            try {
                                n.call(t, u(e, o, 1), u(U, o, 1));
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                U.call(o, e);
                            }
                        }) : (r._v = t, r._s = 1, R(r, !1));
                    } catch (t) {
                        t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                        U.call({
                            _w: r,
                            _d: !1
                        }, t);
                    }
                }
            };
            x || (w = function(e) {
                m(this, w, "Promise", "_h"), p(e), r.call(this);
                try {
                    e(u(D, this, 1), u(U, this, 1));
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    U.call(this, e);
                }
            }, (r = function(e) {
                this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, 
                this._n = !1;
            }).prototype = n(113)(w.prototype, {
                then: function(e, t) {
                    var n = I(h(this, w));
                    return n.ok = "function" != typeof e || e, n.fail = "function" == typeof t && t, 
                    n.domain = O ? M.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && R(this, !1), 
                    n.promise;
                },
                catch: function(e) {
                    return this.then(void 0, e);
                }
            }), i = function() {
                var e = new r();
                this.promise = e, this.resolve = u(D, e, 1), this.reject = u(U, e, 1);
            }, b.f = I = function(e) {
                return e === w || e === a ? new i(e) : o(e);
            }), d(d.G + d.W + d.F * !x, {
                Promise: w
            }), n(25)(w, "Promise"), n(114)("Promise"), a = n(2).Promise, d(d.S + d.F * !x, "Promise", {
                reject: function(e) {
                    var t = I(this);
                    return (0, t.reject)(e), t.promise;
                }
            }), d(d.S + d.F * (s || !x), "Promise", {
                resolve: function(e) {
                    return S(s && this === a ? w : this, e);
                }
            }), d(d.S + d.F * !(x && n(115)(function(e) {
                w.all(e).catch(E);
            })), "Promise", {
                all: function(e) {
                    var t = this, n = I(t), r = n.resolve, o = n.reject, i = T(function() {
                        var n = [], i = 0, a = 1;
                        g(e, !1, function(e) {
                            var s = i++, c = !1;
                            n.push(void 0), a++, t.resolve(e).then(function(e) {
                                c || (c = !0, n[s] = e, --a || r(n));
                            }, o);
                        }), --a || r(n);
                    });
                    return i.e && o(i.v), n.promise;
                },
                race: function(e) {
                    var t = this, n = I(t), r = n.reject, o = T(function() {
                        g(e, !1, function(e) {
                            t.resolve(e).then(n.resolve, r);
                        });
                    });
                    return o.e && r(o.v), n.promise;
                }
            });
        }, function(e, t) {
            e.exports = function(e, t, n, r) {
                if (!(e instanceof t) || void 0 !== r && r in e) throw TypeError(n + ": incorrect invocation!");
                return e;
            };
        }, function(e, t, n) {
            var r = n(15), o = n(107), i = n(108), a = n(3), s = n(51), c = n(109), u = {}, l = {};
            (t = e.exports = function(e, t, n, d, f) {
                var p, m, g, h, y = f ? function() {
                    return e;
                } : c(e), v = r(n, d, t ? 2 : 1), b = 0;
                if ("function" != typeof y) throw TypeError(e + " is not iterable!");
                if (i(y)) {
                    for (p = s(e.length); p > b; b++) if ((h = t ? v(a(m = e[b])[0], m[1]) : v(e[b])) === u || h === l) return h;
                } else for (g = y.call(e); !(m = g.next()).done; ) if ((h = o(g, v, m.value, t)) === u || h === l) return h;
            }).BREAK = u, t.RETURN = l;
        }, function(e, t, n) {
            var r = n(3);
            e.exports = function(e, t, n, o) {
                try {
                    return o ? t(r(n)[0], n[1]) : t(n);
                } catch (t) {
                    t = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(t);
                    var i = e.return;
                    throw void 0 !== i && r(i.call(e)), t;
                }
            };
        }, function(e, t, n) {
            var r = n(18), o = n(1)("iterator"), i = Array.prototype;
            e.exports = function(e) {
                return void 0 !== e && (r.Array === e || i[o] === e);
            };
        }, function(e, t, n) {
            var r = n(59), o = n(1)("iterator"), i = n(18);
            e.exports = n(2).getIteratorMethod = function(e) {
                if (null != e) return e[o] || e["@@iterator"] || i[r(e)];
            };
        }, function(e, t) {
            e.exports = function(e, t, n) {
                var r = void 0 === n;
                switch (t.length) {
                  case 0:
                    return r ? e() : e.call(n);

                  case 1:
                    return r ? e(t[0]) : e.call(n, t[0]);

                  case 2:
                    return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);

                  case 3:
                    return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);

                  case 4:
                    return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3]);
                }
                return e.apply(n, t);
            };
        }, function(e, t, n) {
            var r = n(0), o = n(61).set, i = r.MutationObserver || r.WebKitMutationObserver, a = r.process, s = r.Promise, c = "process" == n(19)(a);
            e.exports = function() {
                var e, t, n, u = function() {
                    var r, o;
                    for (c && (r = a.domain) && r.exit(); e; ) {
                        o = e.fn, e = e.next;
                        try {
                            o();
                        } catch (r) {
                            r = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(r);
                            throw e ? n() : t = void 0, r;
                        }
                    }
                    t = void 0, r && r.enter();
                };
                if (c) n = function() {
                    a.nextTick(u);
                }; else if (!i || r.navigator && r.navigator.standalone) if (s && s.resolve) {
                    var l = s.resolve(void 0);
                    n = function() {
                        l.then(u);
                    };
                } else n = function() {
                    o.call(r, u);
                }; else {
                    var d = !0, f = document.createTextNode("");
                    new i(u).observe(f, {
                        characterData: !0
                    }), n = function() {
                        f.data = d = !d;
                    };
                }
                return function(r) {
                    var o = {
                        fn: r,
                        next: void 0
                    };
                    t && (t.next = o), e || (e = o, n()), t = o;
                };
            };
        }, function(e, t, n) {
            var r = n(0).navigator;
            e.exports = r && r.userAgent || "";
        }, function(e, t, n) {
            var r = n(10);
            e.exports = function(e, t, n) {
                for (var o in t) n && e[o] ? e[o] = t[o] : r(e, o, t[o]);
                return e;
            };
        }, function(e, t, n) {
            var r = n(0), o = n(2), i = n(7), a = n(9), s = n(1)("species");
            e.exports = function(e) {
                var t = "function" == typeof o[e] ? o[e] : r[e];
                a && t && !t[s] && i.f(t, s, {
                    configurable: !0,
                    get: function() {
                        return this;
                    }
                });
            };
        }, function(e, t, n) {
            var r = n(1)("iterator"), o = !1;
            try {
                var i = [ 7 ][r]();
                i.return = function() {
                    o = !0;
                }, Array.from(i, function() {
                    throw 2;
                });
            } catch (e) {}
            e.exports = function(e, t) {
                if (!t && !o) return !1;
                var n = !1;
                try {
                    var i = [ 7 ], a = i[r]();
                    a.next = function() {
                        return {
                            done: n = !0
                        };
                    }, i[r] = function() {
                        return a;
                    }, e(i);
                } catch (e) {}
                return n;
            };
        }, function(e, t, n) {
            var r = n(6), o = n(2), i = n(0), a = n(60), s = n(63);
            r(r.P + r.R, "Promise", {
                finally: function(e) {
                    var t = a(this, o.Promise || i.Promise), n = "function" == typeof e;
                    return this.then(n ? function(n) {
                        return s(t, e()).then(function() {
                            return n;
                        });
                    } : e, n ? function(n) {
                        return s(t, e()).then(function() {
                            throw n;
                        });
                    } : e);
                }
            });
        }, function(e, t, n) {
            var r = n(6), o = n(43), i = n(62);
            r(r.S, "Promise", {
                try: function(e) {
                    var t = o.f(this), n = i(e);
                    return (n.e ? t.reject : t.resolve)(n.v), t.promise;
                }
            });
        }, function(e, t, n) {
            t.__esModule = !0;
            var r, o = (r = n(45)) && r.__esModule ? r : {
                default: r
            };
            t.default = function(e, t, n) {
                return t in e ? (0, o.default)(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n, e;
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = p(n(41)), o = p(n(42)), i = p(n(4)), a = p(n(5)), s = p(n(16)), c = p(n(20)), u = p(n(120)), l = p(n(26)), d = n(130), f = n(14);
            function p(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var m = function(e) {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    (0, i.default)(this, t);
                    var n = (0, s.default)(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return n._init(e), n._websocket = null, n;
                }
                return (0, c.default)(t, e), (0, a.default)(t, [ {
                    key: "_init",
                    value: function(e) {
                        var t = e.status, n = e.logger, r = void 0 === n ? d.pureLogger : n;
                        this._mainStatus = t, this.logger = r, this._initStatus();
                    }
                }, {
                    key: "_initStatus",
                    value: function() {
                        var e = this;
                        this._status || (this._status = {}), Object.keys(this._status).forEach(function(t) {
                            delete e._status[t];
                        }), Object.assign(this._status, {
                            needReconnect: !1,
                            reconnectTimer: null,
                            currentOptions: null,
                            reconnectCount: 0,
                            reconnectMaxNum: 8,
                            destroy: !1
                        });
                    }
                }, {
                    key: "_destroy",
                    value: function() {
                        return this._resetReconnectStatus(!0), this.stopSignal();
                    }
                }, {
                    key: "_resetReconnectStatus",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        clearTimeout(this._status.reconnectTimer), Object.assign(this._status, {
                            needReconnect: !1,
                            reconnectCount: 0,
                            reconnectTimer: null,
                            destroy: e
                        });
                    }
                }, {
                    key: "_resetWhenClose",
                    value: function() {
                        this._resetReconnectStatus(), this._unbindEvent(), this._websocket = null, this._initStatus();
                    }
                }, {
                    key: "_bindEvent",
                    value: function() {
                        var e = this;
                        this._websocket ? (this._websocket.on("open", this._onOpen.bind(this)), this._websocket.on("error", this._onError.bind(this)), 
                        this._websocket.on("close", this._onClose.bind(this)), this._websocket.on("hangup", this._onHangup.bind(this)), 
                        this._websocket.on("syncDone", this._onSyncDone.bind(this)), this._websocket.on("clientLeave", this._onClientLeave.bind(this)), 
                        this._websocket.on("clientJoin", this._onClientJoin.bind(this)), this._websocket.on("clientUpdate", this._onClientUpdate.bind(this)), 
                        this._websocket.on("clientMute", this._onClientMute.bind(this)), this._websocket.on("liveRoomClose", this._onLiveRoomClose.bind(this)), 
                        this._websocket.on("kicked", this._onKicked.bind(this)), this._websocket.on("roomRefused", this._onRoomRefused.bind(this)), 
                        this._websocket.on("clientPublished", this._onClientPublished.bind(this)), this._websocket.on("changeRoled", this._onChangeRoled.bind(this)), 
                        this._websocket.on("abilityNotSupport", this._onAbilityNotSupport.bind(this)), this._websocket.on("clientMediaStatus", this._onClientMediaStatus.bind(this)), 
                        this._websocket.on("rtmpTaskStatus", this._onRtmpTaskStatus.bind(this)), this._websocket.on("sendCommandOverTime", this._onSendCommandOverTime.bind(this)), 
                        this._websocket.on("heartbeatOverTime", function(t) {
                            e.logger.log("WSController::heartbeatOverTime", t), e.stopSignal(!0);
                        })) : this.logger.warn("WSController::_bindEvent: _websocket为空！");
                    }
                }, {
                    key: "_unbindEvent",
                    value: function() {
                        this._websocket && (this._websocket.off("open"), this._websocket.off("error"), this._websocket.off("close"), 
                        this._websocket.off("hangup"), this._websocket.off("syncDone"), this._websocket.off("clientLeave"), 
                        this._websocket.off("clientJoin"), this._websocket.off("clientUpdate"), this._websocket.off("clientMute"), 
                        this._websocket.off("liveRoomClose"), this._websocket.off("kicked"), this._websocket.off("roomRefused"), 
                        this._websocket.off("clientPublished"), this._websocket.off("changeRoled"), this._websocket.off("abilityNotSupport"), 
                        this._websocket.off("sendCommandOverTime"), this._websocket.off("heartbeatOverTime"));
                    }
                }, {
                    key: "_onOpen",
                    value: function(e) {}
                }, {
                    key: "_onError",
                    value: function(e) {
                        this.logger.error("wsController::onerror: ", e), e && e.code && "登录失败" == e.desc ? (this._resetReconnectStatus(), 
                        this.emit("loginFailed", e)) : this._status.reconnectTimer || (this.logger.log("wsController 没有重连计时器，调用stopSignal"), 
                        this.stopSignal(!0)), this._status.needReconnect || (e.connectCount = this._status.reconnectCount, 
                        this.logger.log("反馈error事件"), this.emit("error", e));
                    }
                }, {
                    key: "_onClose",
                    value: function() {
                        var e = this;
                        if (this.logger.log("主动 _onClose"), this._status.needReconnect) this._unbindEvent(), 
                        this._websocket = null, this.logger.log("wsController::onclose: 重连 try reconnect No. " + this._status.reconnectCount, new Date().toString()), 
                        this.emit("willreconnect", {
                            count: this._status.reconnectCount
                        }), clearTimeout(this._status.reconnectTimer), this._status.reconnectTimer = setTimeout(function() {
                            e._status.reconnectTimer = null, e.logger.log("重连： startSignal"), e.startSignal().then(function(t) {
                                e.logger.log("重连成功"), e.emit("reconnected");
                            }).catch(function(t) {
                                e.logger.warn("重连失败: ", t), "login timeout" == t && e._onClose();
                            });
                        }, 5e3); else {
                            this.logger.log("主动触发的destroy");
                            var t = this._status.destroy;
                            this._resetWhenClose(), t ? this.emit("destroy") : (this.emit("close"), this.logger.log("wsController::onclose: close need not reconnect"));
                        }
                    }
                }, {
                    key: "_onHangup",
                    value: function() {
                        return this.setEndSessionTime(), this._resetReconnectStatus(!0), this.stopSignal();
                    }
                }, {
                    key: "_onSyncDone",
                    value: function(e) {
                        e.connectCount = this._status.reconnectCount, this._status.reconnectCount = 0, this.emit("syncDone", e);
                    }
                }, {
                    key: "_onClientLeave",
                    value: function(e) {
                        if (this._mainStatus.sessionMode === f.SESSION_MODE.P2P) return this.emit("_invokeHangup", {
                            channelId: e.cid,
                            timetag: +new Date(),
                            account: e.accid
                        }), void this.logger.log("wsController::onClientLeave: _invokeHangup");
                        var t = Object.assign({}, e);
                        this.emit("clientLeave", t);
                    }
                }, {
                    key: "_onClientJoin",
                    value: function(e) {
                        var t = Object.assign({}, e);
                        this.emit("clientJoin", t);
                    }
                }, {
                    key: "_onClientUpdate",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("clientUpdate", t);
                    }
                }, {
                    key: "_onClientMute",
                    value: function(e) {
                        Object.assign({}, e), this.emit("clientMute", e);
                    }
                }, {
                    key: "_onLiveRoomClose",
                    value: function(e) {
                        this.emit("liveRoomClose", e);
                    }
                }, {
                    key: "_onKicked",
                    value: function(e) {
                        this.emit("kicked", e);
                    }
                }, {
                    key: "_onRoomRefused",
                    value: function(e) {
                        this.emit("roomRefused", e);
                    }
                }, {
                    key: "_onSendCommandOverTime",
                    value: function() {
                        this.emit("sendCommandOverTime");
                    }
                }, {
                    key: "_onClientPublished",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("clientPublished", t);
                    }
                }, {
                    key: "_onChangeRoled",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("changeRoled", t);
                    }
                }, {
                    key: "_onAbilityNotSupport",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("abilityNotSupport", t);
                    }
                }, {
                    key: "_onClientMediaStatus",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("clientMediaStatus", t);
                    }
                }, {
                    key: "_onRtmpTaskStatus",
                    value: function(e) {
                        var t = Object.assign({}, e.body);
                        this.emit("rtmpTaskStatus", t);
                    }
                }, {
                    key: "joinChannel",
                    value: function(e) {
                        return this.setStartSessionTime(), e.logger = this.logger, e.mainStatus = this._mainStatus, 
                        this._status.currentOptions = e, this.startSignal(e);
                    }
                }, {
                    key: "leaveChannel",
                    value: function() {
                        return this.logger.log("主动离开房间"), this.setEndSessionTime(), this._resetReconnectStatus(!0), 
                        this.stopSignal();
                    }
                }, {
                    key: "startSignal",
                    value: function(e) {
                        if (e || (e = this._status.currentOptions), this.logger.log("reconnect count <= reconnectMaxNum ? " + this._status.reconnectCount + "," + this._status.reconnectMaxNum), 
                        !(this._status.reconnectCount <= this._status.reconnectMaxNum)) {
                            this._resetReconnectStatus(!0), this.logger.warn("wsController: maxceed reconnect times ...");
                            var t = {
                                message: "number of connections exceeded"
                            };
                            return this.emit("reconnectFailed", t), Promise.reject(t);
                        }
                        return this._websocket ? (this.logger.log("已经有websocket了"), this.logger.log("wsController: already in session ..."), 
                        Promise.reject({
                            message: "already in session"
                        })) : (this._status.needReconnect = !0, this._status.reconnectCount++, this._websocket = new u.default(e), 
                        this._bindEvent(), this.logger.log("开始连接小程序服务器"), this._websocket.login());
                    }
                }, {
                    key: "stopSignal",
                    value: function(e) {
                        return this.logger.log("是否是重连 isConnect: ", e), this._websocket && !e ? (this.logger.log("wsController::stopSignal: start..."), 
                        this._websocket.logout()) : (this._onClose(), Promise.resolve());
                    }
                }, {
                    key: "publish",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.publish(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "unpublish",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.unpublish(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "subscribe",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t, n, o) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    if ("slaveAudio" !== n) {
                                        e.next = 2;
                                        break;
                                    }
                                    return e.abrupt("return", this._websocket.setDualAudio(t, o));

                                  case 2:
                                    return e.abrupt("return", this._websocket.subscribe(t, n));

                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t, n, r) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "unsubscribe",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t, n, o) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    if ("slaveAudio" !== n) {
                                        e.next = 2;
                                        break;
                                    }
                                    return e.abrupt("return", this._websocket.setDualAudio(t, o));

                                  case 2:
                                    return e.abrupt("return", this._websocket.unsubscribe(t, n));

                                  case 3:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t, n, r) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "mute",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t, n) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.mute(t, n));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t, n) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "unmute",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t, n) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.unmute(t, n));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t, n) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "changeRole",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.changeRole(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "updateAudioChangeMode",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.updateAudioChangeMode(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "updateVoiceBeautifierPreset",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.updateVoiceBeautifierPreset(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "updateAudioEffectPreset",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.updateAudioEffectPreset(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "updateLocalVoicePitch",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.updateLocalVoicePitch(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "updateLocalVoiceEqualization",
                    value: function() {
                        var e = (0, o.default)(r.default.mark(function e(t) {
                            return r.default.wrap(function(e) {
                                for (;;) switch (e.prev = e.next) {
                                  case 0:
                                    return e.abrupt("return", this._websocket.updateLocalVoiceEqualization(t));

                                  case 1:
                                  case "end":
                                    return e.stop();
                                }
                            }, e, this);
                        }));
                        return function(t) {
                            return e.apply(this, arguments);
                        };
                    }()
                }, {
                    key: "switchMode",
                    value: function(e) {
                        return this._websocket.updatePushMode(e);
                    }
                }, {
                    key: "setStartSessionTime",
                    value: function() {
                        this.emit("sessionStart");
                    }
                }, {
                    key: "setEndSessionTime",
                    value: function() {
                        this.emit("sessionEnd");
                    }
                } ]), t;
            }(l.default);
            t.default = m, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = m(n(4)), o = m(n(5)), i = m(n(16)), a = m(n(20)), s = m(n(26)), c = m(n(27)), u = n(121), l = n(122), d = n(123), f = n(14), p = n(129);
            function m(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var g = function(e) {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    (0, r.default)(this, t);
                    var n = (0, i.default)(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return n._reset(), n.$options = e, n._mainStatus = e.mainStatus, n.logger = e.logger, 
                    n._resetStatus(), Object.keys(n._status).forEach(function(t) {
                        var r = e[t];
                        null != r && (n._status[t] = r);
                    }), n._status.edgeAddr = e.edgeAddr || "59.111.239.249:31101", n;
                }
                return (0, a.default)(t, e), (0, o.default)(t, [ {
                    key: "_resetStatus",
                    value: function() {
                        if (this._status && (clearInterval(this._status.heartbeatTimer), clearTimeout(this._status.heartbeatOverTimer), 
                        this._status.sendCommandTimerMap && 0 !== Object.keys(this._status.sendCommandTimerMap).length)) for (var e in this._status.sendCommandTimerMap) clearTimeout(this._status.sendCommandTimerMap[e]);
                        this._status = {
                            dualAudio: 0,
                            uid: "",
                            cid: "",
                            accid: "",
                            token: "",
                            address: [],
                            webrtc: 1,
                            mode: 0,
                            scene: 1,
                            usertype: 3,
                            liveEnable: 0,
                            rtmpRecord: 0,
                            rtmpUrl: "",
                            splitMode: "",
                            recordAudio: 0,
                            recordVideo: 0,
                            recordType: 0,
                            isHostSpeaker: 0,
                            role: 0,
                            seq: 1,
                            cmdTasksMap: {},
                            heartbeatTimer: null,
                            heartbeatOverTimer: null,
                            sendCommandTimerMap: {},
                            layout: "",
                            socketStatus: "CLOSED",
                            checkP2PUserTimer: null,
                            edgeAddr: "",
                            audioChangeMode: 0,
                            audioLocalPitch: "1",
                            audioChangeType: 0,
                            audioBeautyType: 0
                        }, this._resolve = null, this._reject = null, this._loginTimer && clearTimeout(this._loginTimer), 
                        this._loginTimer = null;
                    }
                }, {
                    key: "_reset",
                    value: function() {
                        this.$options = {}, this._resetStatus(), this._wsLink = null;
                    }
                }, {
                    key: "login",
                    value: function() {
                        var e = this;
                        return new Promise(function(t, n) {
                            if (e.logger.log("建立长链接, url: ", e._status.address), e._reject = n, "qq" == e._mainStatus.runtimeEnvironment) e._wsLink = qq.connectSocket({
                                url: e._status.address,
                                fail: function(t) {
                                    e.logger.error("ws connect 动作执行失败： ", f.CONSTANT_ERROR.connectSocketFail.desc), 
                                    e._status.socketStatus = "CLOSED", n(f.CONSTANT_ERROR.connectSocketFail);
                                },
                                success: function(n) {
                                    e._status.socketStatus = "OPENING", e._resolve = t;
                                },
                                complete: function(e) {}
                            }); else {
                                if ("wechat" !== e._mainStatus.runtimeEnvironment) throw Error("WS 不支持的平台");
                                e._wsLink = wx.connectSocket({
                                    url: e._status.address,
                                    fail: function(t) {
                                        e.logger.error("ws connect 动作执行失败： ", f.CONSTANT_ERROR.connectSocketFail.desc), 
                                        e._status.socketStatus = "CLOSED", n(f.CONSTANT_ERROR.connectSocketFail);
                                    },
                                    success: function(n) {
                                        e._status.socketStatus = "OPENING", e._resolve = t;
                                    },
                                    complete: function(e) {}
                                });
                            }
                            e._bindWXSocketEvent(), e._loginTimer = setTimeout(function() {
                                e._reject && (e.closeSocket(), e._reject("login timeout"));
                            }, 6e5);
                        });
                    }
                }, {
                    key: "logout",
                    value: function() {
                        var e = this, t = {
                            uid: this._status.uid,
                            cid: this._status.cid,
                            statistic: {},
                            seq: this._status.seq++
                        };
                        return this.logger.log("ws::logout: ws status " + this._status.socketStatus), Promise.resolve().then(function() {
                            return "LOGIN" === e._status.socketStatus ? e.sendCmd("logout", t).then(function(t) {
                                return t && e.logger.log("ws::logout:", t.code), Promise.resolve(t);
                            }) : Promise.resolve();
                        }).then(function() {
                            if (!e._wsLink) return e.emit("close"), Promise.resolve();
                            switch (clearInterval(e._status.heartbeatTimer), e._status.socketStatus) {
                              case "OPENING":
                              case "OPEN":
                              case "LOGIN":
                              case "CLOSING":
                                return e.closeSocket();

                              case "CLOSED":
                                return e.emit("close"), Promise.resolve();
                            }
                        });
                    }
                }, {
                    key: "closeSocket",
                    value: function() {
                        var e = this;
                        return new Promise(function(t, n) {
                            e.logger.log("ws::close WebSocket starting..."), clearInterval(e._status.heartbeatTimer), 
                            clearTimeout(e._status.heartbeatOverTimer), e._wsLink.onOpen = null, e._wsLink.onOpen = null, 
                            e._wsLink.onOpen = null, e._wsLink.onMessage = null, e._wsLink.close({
                                code: 1e3,
                                reason: "ws::user force close websocket",
                                success: function(t) {
                                    e._status.socketStatus = "CLOSING", e.logger.log("ws::close WebSocket force closed success");
                                },
                                fail: function(t) {
                                    e._status.socketStatus = "CLOSING", e.logger.log("ws::close WebSocket force closed fail");
                                },
                                complete: function() {
                                    e.emit("close"), t();
                                }
                            });
                        });
                    }
                }, {
                    key: "publish",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("publish", {
                                mediaType: e,
                                uid: t._status.uid,
                                cid: t._status.cid,
                                status: "open"
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "unpublish",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("unpublish", {
                                mediaType: e,
                                uid: t._status.uid,
                                cid: t._status.cid,
                                status: "close"
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "subscribe",
                    value: function(e, t) {
                        var n = this;
                        return new Promise(function(r, o) {
                            n.sendCmd("subscribe", {
                                mediaType: t,
                                uid: n._status.uid,
                                srcUid: e,
                                cid: n._status.cid,
                                sub: !0
                            }).then(function(e) {
                                n.logger.log("订阅返回结果：", JSON.stringify(e, null, " ")), 200 === e.code ? r() : o(e);
                            });
                        });
                    }
                }, {
                    key: "unsubscribe",
                    value: function(e, t) {
                        var n = this;
                        return new Promise(function(r, o) {
                            n.sendCmd("unsubscribe", {
                                mediaType: t,
                                uid: n._status.uid,
                                srcUid: e,
                                cid: n._status.cid,
                                sub: !1
                            }).then(function(e) {
                                200 === e.code ? r() : o(e);
                            });
                        });
                    }
                }, {
                    key: "setDualAudio",
                    value: function(e, t) {
                        var n = this;
                        return new Promise(function(r, o) {
                            n.sendCmd("dualAudio", {
                                uid: n._status.uid,
                                srcUid: e,
                                cid: n._status.cid,
                                dualAudio: t
                            }).then(function(e) {
                                n.logger.log("dualAudio返回结果：", JSON.stringify(e, null, " ")), 200 === e.code ? r() : o(e);
                            });
                        });
                    }
                }, {
                    key: "mute",
                    value: function(e, t) {
                        var n = this;
                        return new Promise(function(r, o) {
                            n.sendCmd("mute", {
                                uid: e || n._status.uid,
                                mediaType: t,
                                cid: n._status.cid,
                                mute: !0
                            }).then(function(e) {
                                200 === e.code ? r() : o(e);
                            });
                        });
                    }
                }, {
                    key: "unmute",
                    value: function(e, t) {
                        var n = this;
                        return new Promise(function(r, o) {
                            n.sendCmd("unmute", {
                                uid: e || n._status.uid,
                                mediaType: t,
                                cid: n._status.cid,
                                mute: !1
                            }).then(function(e) {
                                200 === e.code ? r() : o(e);
                            });
                        });
                    }
                }, {
                    key: "changeRole",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("changeRole", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                role: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updateAudioChangeMode",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("updateAudioChangeMode", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                mode: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updateVoiceBeautifierPreset",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("updateVoiceBeautifierPreset", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                type: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updateAudioEffectPreset",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("updateAudioEffectPreset", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                type: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updateLocalVoicePitch",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("updateLocalVoicePitch", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                pitch: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updateLocalVoiceEqualization",
                    value: function(e) {
                        var t = this;
                        return new Promise(function(n, r) {
                            t.sendCmd("updateLocalVoiceEqualization", {
                                uid: t._status.uid,
                                cid: t._status.cid,
                                equa: e
                            }).then(function(e) {
                                200 === e.code ? n() : r(e);
                            });
                        });
                    }
                }, {
                    key: "updatePushMode",
                    value: function(e) {
                        var t = this;
                        return this._status.mode = e, new Promise(function(e, n) {
                            t.sendCmd("updatePushMode", t._status).then(function(t) {
                                200 === t.code ? e() : n(t);
                            });
                        });
                    }
                }, {
                    key: "startHeartbeat",
                    value: function() {
                        var e = this;
                        this._status.heartbeatTimer = setInterval(function() {
                            if (!e._status.heartbeatOverTimer) {
                                var t = Date.now();
                                e._status.heartbeatOverTimer = setTimeout(function() {
                                    e.logger.log("ws::heartbeating: overtime:", new Date().toString()), e.emit("heartbeatOverTime", {
                                        lastTime: t
                                    });
                                }, p.Config.heartbeatOverTime);
                            }
                            return e.sendCmd("heartbeat", e._status);
                        }, p.Config.heartbeatInterval);
                    }
                }, {
                    key: "getUploadUserList",
                    value: function() {
                        var e = this;
                        return new Promise(function(t, n) {
                            e.sendCmd("getUploadUserList", e._status).then(function(e) {
                                200 === e.code ? t(e) : n(e);
                            });
                        });
                    }
                }, {
                    key: "_judgeRoleAndSave",
                    value: function(e) {
                        var t = this, n = c.default.deepClone(e);
                        return "audience" === this._mainStatus.role && n.userlist.map(function(e) {
                            e.uid === t._status.uid && (t._mainStatus.rtmpPushAddress = e.url, e.url = null);
                        }), n;
                    }
                }, {
                    key: "_bindWXSocketEvent",
                    value: function() {
                        var e = this;
                        this._wsLink.onOpen(function(t) {
                            e._status.socketStatus = "OPEN", e._status.newprotocol = 2, e.emit("open", f.CONSTANT_SOCKET.connectSocketSuccess), 
                            e.logger.log("开始登录小程序网关: ", e._status), e.sendCmd("login", e._status).then(function(t) {
                                e.logger.log("ws::onlogin"), e._status.socketStatus = "LOGIN", e.startHeartbeat(), 
                                e.emit("syncDone", t), e._resolve && (e._resolve(), e._loginTimer && clearTimeout(e._loginTimer), 
                                e._loginTimer = null);
                            }).catch(function(t) {
                                e.emit("error", {
                                    code: t.code,
                                    desc: "登录失败"
                                });
                            });
                        }), this._wsLink.onError(function(t) {
                            e.logger.log("ws::onerror ", t), e.emit("error", t);
                        }), this._wsLink.onClose(function(t) {
                            e._status.socketStatus = "CLOSED", e.logger.log("ws::onclose ", t), e.emit("close", t), 
                            e._reset();
                        }), this._wsLink.onMessage(function(t) {
                            var n = t.data;
                            if (n = (0, d.parsePacket)(n)) {
                                if ("onHeartbeat" !== n.cmd && e.logger.log("ws::onmessage", n), n.seq) {
                                    var r = e._status.cmdTasksMap[n.seq];
                                    r && (delete e._status.cmdTasksMap[n.seq], r.resolve(n.body));
                                }
                                e[n.cmd] && e[n.cmd](n), 0 !== Object.keys(e._status.sendCommandTimerMap).length && (clearTimeout(e._status.sendCommandTimerMap[n.seq]), 
                                delete e._status.sendCommandTimerMap[n.seq]);
                            } else e.logger.log("ws::onmessage unknown data");
                        });
                    }
                }, {
                    key: "sendCmd",
                    value: function(e, t) {
                        var n = this;
                        if ("heartbeat" === e) {
                            var r = (0, d.genPacket)(e, t, this._status.seq++, this._status.isHostSpeaker, this._mainStatus.isBigNumberOfLocalUid);
                            return this._wsLink.send({
                                data: r
                            }), Promise.resolve();
                        }
                        var o = setTimeout(function() {
                            n.logger.log("oops! ws::sendCmd timmout: ", e), n.emit("sendCommandOverTime", {
                                cmd: e
                            });
                        }, p.Config.sendCommandOverTime);
                        return this._status.sendCommandTimerMap[this._status.seq] = o, new Promise(function(r, o) {
                            "logout" === e && setTimeout(function() {
                                r();
                            }, 300), n._status.cmdTasksMap[n._status.seq] = {
                                resolve: r,
                                reject: o
                            };
                            var i = (0, d.genPacket)(e, t, n._status.seq++);
                            n.logger.log("小程序ws::sendCmd ", i);
                            try {
                                n._wsLink.send({
                                    data: i
                                });
                            } catch (e) {
                                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                                n.logger.error("小程序ws::信令发送失败");
                            }
                        });
                    }
                } ]), t;
            }(s.default);
            (0, u.apiMixin)(g), (0, l.messageMixin)(g), t.default = g, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.apiMixin = function(e) {
                e.prototype;
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.messageMixin = function(e) {
                var t = e.prototype;
                t.onClientLeave = function(e) {
                    this.emit("clientLeave", e.body);
                }, t.onClientJoin = function(e) {
                    this.emit("clientJoin", e.body);
                }, t.onClientMute = function(e) {
                    this.emit("clientMute", e.body);
                }, t.onClientUpdate = function(e) {
                    this.emit("clientUpdate", e);
                }, t.onUpdatePushMode = function(e) {
                    this.emit("updatePushMode", e);
                }, t.onLiveRoomClose = function(e) {
                    this.emit("liveRoomClose", e);
                }, t.onKicked = function(e) {
                    this.emit("kicked", e);
                }, t.onRoomRefused = function(e) {
                    this.emit("roomRefused", e);
                }, t.clientPublished = function(e) {
                    this.emit("clientPublished", e);
                }, t.changeRoled = function(e) {
                    this.emit("changeRoled", e);
                }, t.abilityNotSupport = function(e) {
                    this.emit("abilityNotSupport", e);
                }, t.clientMediaStatus = function(e) {
                    this.emit("clientMediaStatus", e);
                }, t.rtmpTaskStatus = function(e) {
                    this.emit("rtmpTaskStatus", e);
                }, t.onHeartbeat = function(e) {
                    clearTimeout(this._status.heartbeatOverTimer), this._status.heartbeatOverTimer = null;
                };
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.genPacket = function(e, t, n) {
                var i = o[e];
                if (i) {
                    var a = {
                        cmd: i.cmd,
                        body: {},
                        seq: n
                    }, s = Object.assign({}, a);
                    return i.body.forEach(function(e) {
                        (t[e.key] || 0 === t[e.key]) && (s.body[e.key] = t[e.key]);
                    }), r.stringify(s);
                }
            }, t.parsePacket = function(e) {
                var t = r.parse(e);
                if (t) {
                    var n = i[t.cmd];
                    if (n) return t.cmd = n.cmd, t;
                    console.log("未知消息: ", e);
                } else console.log("协议解析失败: ", e);
                return null;
            };
            var r = n(124), o = {
                login: {
                    cmd: 0,
                    body: [ {
                        key: "accid",
                        type: "String"
                    }, {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "accid",
                        type: "Number"
                    }, {
                        key: "token",
                        type: "String"
                    }, {
                        key: "mode",
                        type: "Number"
                    }, {
                        key: "scene",
                        type: "Number"
                    }, {
                        key: "usertype",
                        type: "Number"
                    }, {
                        key: "liveEnable",
                        type: "Number"
                    }, {
                        key: "webrtc",
                        type: "Number"
                    }, {
                        key: "recordAudio",
                        type: "Number"
                    }, {
                        key: "recordVideo",
                        type: "Number"
                    }, {
                        key: "rtmpRecord",
                        type: "Number"
                    }, {
                        key: "rtmpUrl",
                        type: "String"
                    }, {
                        key: "splitMode",
                        type: "Number"
                    }, {
                        key: "layout",
                        type: "Boolean"
                    }, {
                        key: "recordType",
                        type: "String"
                    }, {
                        key: "role",
                        type: "Number"
                    }, {
                        key: "isHostSpeaker",
                        type: "Number"
                    }, {
                        key: "edgeAddr",
                        type: "String"
                    }, {
                        key: "newprotocol",
                        type: "Number"
                    }, {
                        key: "audioChangeMode",
                        type: "Number"
                    }, {
                        key: "audioLocalPitch",
                        type: "String"
                    }, {
                        key: "audioChangeType",
                        type: "Number"
                    }, {
                        key: "audioBeautyType",
                        type: "Number"
                    } ]
                },
                heartbeat: {
                    cmd: 2,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "statistic",
                        type: "Object"
                    } ]
                },
                logout: {
                    cmd: 4,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "statistic",
                        type: "Object"
                    } ]
                },
                publish: {
                    cmd: 10,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "status",
                        type: "String"
                    } ]
                },
                unpublish: {
                    cmd: 10,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "status",
                        type: "String"
                    } ]
                },
                subscribe: {
                    cmd: 16,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "srcUid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "sub",
                        type: "Boolean"
                    } ]
                },
                unsubscribe: {
                    cmd: 16,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "srcUid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "sub",
                        type: "Boolean"
                    } ]
                },
                dualAudio: {
                    cmd: 17,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "srcUid",
                        type: "String"
                    }, {
                        key: "dualAudio",
                        type: "Number"
                    } ]
                },
                mute: {
                    cmd: 11,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "mute",
                        type: "Boolean"
                    } ]
                },
                unmute: {
                    cmd: 11,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "mediaType",
                        type: "String"
                    }, {
                        key: "mute",
                        type: "Boolean"
                    } ]
                },
                changeRole: {
                    cmd: 12,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "String"
                    }, {
                        key: "role",
                        type: "Number"
                    } ]
                },
                getUploadUserList: {
                    cmd: 5,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    } ]
                },
                updatePushMode: {
                    cmd: 7,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "mode",
                        type: "Number"
                    } ]
                },
                updateAudioChangeMode: {
                    cmd: 40,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "mode",
                        type: "Number"
                    } ]
                },
                updateLocalVoicePitch: {
                    cmd: 41,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "pitch",
                        type: "String"
                    } ]
                },
                updateAudioEffectPreset: {
                    cmd: 42,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "type",
                        type: "Number"
                    } ]
                },
                updateVoiceBeautifierPreset: {
                    cmd: 43,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "type",
                        type: "Number"
                    } ]
                },
                updateLocalVoiceEqualization: {
                    cmd: 7,
                    body: [ {
                        key: "uid",
                        type: "Number"
                    }, {
                        key: "cid",
                        type: "Number"
                    }, {
                        key: "equa",
                        type: "String"
                    } ]
                }
            }, i = {
                1: {
                    cmd: "onLogin",
                    body: [ {
                        key: "code"
                    }, {
                        key: "errmsg"
                    }, {
                        key: "userlist"
                    } ]
                },
                3: {
                    cmd: "onHeartbeat",
                    body: [ {
                        key: "code"
                    }, {
                        key: "errmsg"
                    }, {
                        key: "userlist"
                    } ]
                },
                6: {
                    cmd: "onUploadUserList",
                    body: [ {
                        key: "code"
                    }, {
                        key: "errmsg"
                    }, {
                        key: "userlist"
                    } ]
                },
                8: {
                    cmd: "onUpdatePushMode",
                    body: [ {
                        key: "code"
                    }, {
                        key: "errmsg"
                    } ]
                },
                9: {
                    cmd: "onLogout",
                    body: [ {
                        key: "code"
                    } ]
                },
                14: {
                    cmd: "onPublishOrUnpublish",
                    body: [ {
                        key: "code"
                    }, {
                        key: "errmsg"
                    }, {
                        key: "cid"
                    }, {
                        key: "uid"
                    } ]
                },
                15: {
                    cmd: "onClientMute",
                    body: [ {
                        key: "mediaType"
                    }, {
                        key: "mute"
                    }, {
                        key: "cid"
                    }, {
                        key: "uid"
                    } ]
                },
                20: {
                    cmd: "onClientJoin",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "url"
                    }, {
                        key: "screenUrl"
                    }, {
                        key: "mode"
                    }, {
                        key: "role"
                    } ]
                },
                21: {
                    cmd: "onClientLeave",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    } ]
                },
                22: {
                    cmd: "onClientUpdate",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "mode"
                    } ]
                },
                23: {
                    cmd: "onLiveRoomClose",
                    body: [ {
                        key: "cid"
                    }, {
                        key: "reason"
                    } ]
                },
                24: {
                    cmd: "onKicked",
                    body: [ {
                        key: "cid"
                    }, {
                        key: "reason"
                    } ]
                },
                25: {
                    cmd: "onRoomRefused",
                    body: [ {
                        key: "cid"
                    }, {
                        key: "reason"
                    } ]
                },
                26: {
                    cmd: "clientPublished",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "mediaType"
                    }, {
                        key: "status"
                    } ]
                },
                27: {
                    cmd: "changeRoled",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "role"
                    } ]
                },
                28: {
                    cmd: "abilityNotSupport",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "code"
                    }, {
                        key: "msg"
                    } ]
                },
                30: {
                    cmd: "clientMediaStatus",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "cid"
                    }, {
                        key: "url"
                    }, {
                        key: "mediaType"
                    }, {
                        key: "status"
                    } ]
                },
                31: {
                    cmd: "rtmpTaskStatus",
                    body: [ {
                        key: "uid"
                    }, {
                        key: "accid"
                    }, {
                        key: "hotsUid"
                    }, {
                        key: "cid"
                    }, {
                        key: "streamUrl"
                    }, {
                        key: "taskId"
                    }, {
                        key: "code"
                    }, {
                        key: "msg"
                    } ]
                }
            };
        }, function(e, t, n) {
            var r = n(125).stringify, o = n(126);
            e.exports = function(e) {
                return {
                    parse: o(e),
                    stringify: r
                };
            }, e.exports.parse = o(), e.exports.stringify = r;
        }, function(e, t, n) {
            var o = n(28), i = e.exports;
            !function() {
                var e, t, n, a = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, s = {
                    "\b": "\\b",
                    "\t": "\\t",
                    "\n": "\\n",
                    "\f": "\\f",
                    "\r": "\\r",
                    '"': '\\"',
                    "\\": "\\\\"
                };
                function c(e) {
                    return a.lastIndex = 0, a.test(e) ? '"' + e.replace(a, function(e) {
                        var t = s[e];
                        return "string" == typeof t ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
                    }) + '"' : '"' + e + '"';
                }
                "function" != typeof i.stringify && (i.stringify = function(i, a, s) {
                    var u;
                    if (e = "", t = "", "number" == typeof s) for (u = 0; u < s; u += 1) t += " "; else "string" == typeof s && (t = s);
                    if (n = a, a && "function" != typeof a && ("object" != r(a) || "number" != typeof a.length)) throw new Error("JSON.stringify");
                    return function i(a, s) {
                        var u, l, d, f, p, m = e, g = s[a], h = null != g && (g instanceof o || o.isBigNumber(g));
                        switch (g && "object" == r(g) && "function" == typeof g.toJSON && (g = g.toJSON(a)), 
                        "function" == typeof n && (g = n.call(s, a, g)), r(g)) {
                          case "string":
                            return h ? g : c(g);

                          case "number":
                            return isFinite(g) ? String(g) : "null";

                          case "boolean":
                          case "null":
                          case "bigint":
                            return String(g);

                          case "object":
                            if (!g) return "null";
                            if (e += t, p = [], "[object Array]" === Object.prototype.toString.apply(g)) {
                                for (f = g.length, u = 0; u < f; u += 1) p[u] = i(u, g) || "null";
                                return d = 0 === p.length ? "[]" : e ? "[\n" + e + p.join(",\n" + e) + "\n" + m + "]" : "[" + p.join(",") + "]", 
                                e = m, d;
                            }
                            if (n && "object" == r(n)) for (f = n.length, u = 0; u < f; u += 1) "string" == typeof n[u] && (d = i(l = n[u], g)) && p.push(c(l) + (e ? ": " : ":") + d); else Object.keys(g).forEach(function(t) {
                                var n = i(t, g);
                                n && p.push(c(t) + (e ? ": " : ":") + n);
                            });
                            return d = 0 === p.length ? "{}" : e ? "{\n" + e + p.join(",\n" + e) + "\n" + m + "}" : "{" + p.join(",") + "}", 
                            e = m, d;
                        }
                    }("", {
                        "": i
                    });
                });
            }();
        }, function(e, t, n) {
            var o = null, i = /(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/, a = /(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;
            e.exports = function(e) {
                var t = {
                    strict: !1,
                    storeAsString: !1,
                    alwaysParseAsBig: !1,
                    useNativeBigInt: !1,
                    protoAction: "error",
                    constructorAction: "error"
                };
                if (null != e) {
                    if (!0 === e.strict && (t.strict = !0), !0 === e.storeAsString && (t.storeAsString = !0), 
                    t.alwaysParseAsBig = !0 === e.alwaysParseAsBig && e.alwaysParseAsBig, t.useNativeBigInt = !0 === e.useNativeBigInt && e.useNativeBigInt, 
                    void 0 !== e.constructorAction) {
                        if ("error" !== e.constructorAction && "ignore" !== e.constructorAction && "preserve" !== e.constructorAction) throw new Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '.concat(e.constructorAction));
                        t.constructorAction = e.constructorAction;
                    }
                    if (void 0 !== e.protoAction) {
                        if ("error" !== e.protoAction && "ignore" !== e.protoAction && "preserve" !== e.protoAction) throw new Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '.concat(e.protoAction));
                        t.protoAction = e.protoAction;
                    }
                }
                var s, c, u, l, d = {
                    '"': '"',
                    "\\": "\\",
                    "/": "/",
                    b: "\b",
                    f: "\f",
                    n: "\n",
                    r: "\r",
                    t: "\t"
                }, f = function(e) {
                    throw {
                        name: "SyntaxError",
                        message: e,
                        at: s,
                        text: u
                    };
                }, p = function(e) {
                    return e && e !== c && f("Expected '" + e + "' instead of '" + c + "'"), c = u.charAt(s), 
                    s += 1, c;
                }, m = function() {
                    var e, r = "";
                    for ("-" === c && (r = "-", p("-")); c >= "0" && c <= "9"; ) r += c, p();
                    if ("." === c) for (r += "."; p() && c >= "0" && c <= "9"; ) r += c;
                    if ("e" === c || "E" === c) for (r += c, p(), "-" !== c && "+" !== c || (r += c, 
                    p()); c >= "0" && c <= "9"; ) r += c, p();
                    if (e = +r, isFinite(e)) return null == o && (o = n(28)), r.length > 15 ? t.storeAsString ? r : t.useNativeBigInt ? BigInt(r) : new o(r) : t.alwaysParseAsBig ? t.useNativeBigInt ? BigInt(e) : new o(e) : e;
                    f("Bad number");
                }, g = function() {
                    var e, t, n, r = "";
                    if ('"' === c) for (var o = s; p(); ) {
                        if ('"' === c) return s - 1 > o && (r += u.substring(o, s - 1)), p(), r;
                        if ("\\" === c) {
                            if (s - 1 > o && (r += u.substring(o, s - 1)), p(), "u" === c) {
                                for (n = 0, t = 0; t < 4 && (e = parseInt(p(), 16), isFinite(e)); t += 1) n = 16 * n + e;
                                r += String.fromCharCode(n);
                            } else {
                                if ("string" != typeof d[c]) break;
                                r += d[c];
                            }
                            o = s;
                        }
                    }
                    f("Bad string");
                }, h = function() {
                    for (;c && c <= " "; ) p();
                };
                return l = function(e) {
                    function t() {
                        return e.apply(this, arguments);
                    }
                    return t.toString = function() {
                        return e.toString();
                    }, t;
                }(function() {
                    switch (h(), c) {
                      case "{":
                        return function() {
                            var e, n = Object.create(null);
                            if ("{" === c) {
                                if (p("{"), h(), "}" === c) return p("}"), n;
                                for (;c; ) {
                                    if (e = g(), h(), p(":"), !0 === t.strict && Object.hasOwnProperty.call(n, e) && f('Duplicate key "' + e + '"'), 
                                    !0 === i.test(e) ? "error" === t.protoAction ? f("Object contains forbidden prototype property") : "ignore" === t.protoAction ? l() : n[e] = l() : !0 === a.test(e) ? "error" === t.constructorAction ? f("Object contains forbidden constructor property") : "ignore" === t.constructorAction ? l() : n[e] = l() : n[e] = l(), 
                                    h(), "}" === c) return p("}"), n;
                                    p(","), h();
                                }
                            }
                            f("Bad object");
                        }();

                      case "[":
                        return function() {
                            var e = [];
                            if ("[" === c) {
                                if (p("["), h(), "]" === c) return p("]"), e;
                                for (;c; ) {
                                    if (e.push(l()), h(), "]" === c) return p("]"), e;
                                    p(","), h();
                                }
                            }
                            f("Bad array");
                        }();

                      case '"':
                        return g();

                      case "-":
                        return m();

                      default:
                        return c >= "0" && c <= "9" ? m() : function() {
                            switch (c) {
                              case "t":
                                return p("t"), p("r"), p("u"), p("e"), !0;

                              case "f":
                                return p("f"), p("a"), p("l"), p("s"), p("e"), !1;

                              case "n":
                                return p("n"), p("u"), p("l"), p("l"), null;
                            }
                            f("Unexpected '" + c + "'");
                        }();
                    }
                }), function(e, t) {
                    var n;
                    return u = e + "", s = 0, c = " ", n = l(), h(), c && f("Syntax error"), "function" == typeof t ? function e(n, o) {
                        var i, a = n[o];
                        return a && "object" == r(a) && Object.keys(a).forEach(function(t) {
                            void 0 !== (i = e(a, t)) ? a[t] = i : delete a[t];
                        }), t.call(n, o, a);
                    }({
                        "": n
                    }, "") : n;
                };
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = {
                invalidOperation: {
                    code: 434,
                    reason: "非法操作"
                },
                closeNormal: {
                    code: "0",
                    reason: "mini: normally closed"
                },
                connectSocketFail: {
                    code: "401",
                    reason: "mini: connectSocket: fail"
                },
                reconnectFail: {
                    code: "403",
                    reason: "mini: maxceed reconnect times"
                },
                kicked: {
                    code: "405",
                    reason: "mini: kicked"
                },
                roomRefused: {
                    code: "406",
                    reason: "mini: roomRefused"
                },
                loginFailed: {
                    code: "417",
                    reason: "mini: login failed cause room destroyed"
                },
                loginFailedEncrypt: {
                    code: "418",
                    reason: "mini: login failed cause room no encryption"
                },
                addTasksFailed: {
                    code: "434",
                    reason: "mini: add task failed cause server refused"
                },
                deleteTasksFailed: {
                    code: "435",
                    reason: "mini: delete task failed cause server refused"
                },
                updateTasksFailed: {
                    code: "436",
                    reason: "mini: update task failed cause server refused"
                }
            }, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = {
                connectSocketSuccess: {
                    code: "200",
                    desc: "wx: connectSocket: success"
                }
            }, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Config = {
                heartbeatInterval: 3e3,
                heartbeatOverTime: 1e4,
                sendCommandOverTime: 1e4
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.pureLogger = void 0;
            var r = i(n(4)), o = i(n(5));
            function i(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var a = function() {
                function e(t) {
                    var n = t.debug;
                    (0, r.default)(this, e), this.debug = n;
                }
                return (0, o.default)(e, [ {
                    key: "log",
                    value: function(e) {
                        if (this.debug) {
                            for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                            return console.log("%c WeAppRTC:: " + e, "color:#bada55", n);
                        }
                    }
                }, {
                    key: "warn",
                    value: function(e) {
                        if (this.debug) {
                            for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                            return console.warn("%c WeAppRTC:: " + e, n);
                        }
                    }
                }, {
                    key: "error",
                    value: function(e) {
                        if (this.debug) {
                            for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                            return console.error("%c WeAppRTC:: " + e, n);
                        }
                    }
                } ]), e;
            }();
            t.default = a, t.pureLogger = {
                trace: function() {},
                debug: function() {},
                log: function() {},
                warn: function() {},
                error: function() {}
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = c(n(4)), o = c(n(5)), i = c(n(16)), a = c(n(20)), s = c(n(26));
            function c(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var u = n(44).version, l = function(e) {
                function t() {
                    (0, r.default)(this, t);
                    var e = (0, i.default)(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                    return e._statisticsServer = "", e._initStatistics(), e;
                }
                return (0, a.default)(t, e), (0, o.default)(t, [ {
                    key: "_initStatistics",
                    value: function() {
                        this._statistics = {
                            ver: 1,
                            time: null,
                            sdk_ver: u || "v4.0.0",
                            platform: "mini",
                            uid: null,
                            cid: null,
                            appkey: null,
                            P2P: {
                                value: 0
                            },
                            meeting: {
                                value: 0
                            },
                            always_keep_calling: {
                                value: 0
                            },
                            miniapp_mode: null
                        };
                    }
                }, {
                    key: "updateStatisticsServer",
                    value: function(e) {
                        this._statisticsServer = e;
                    }
                }, {
                    key: "updateStatistics",
                    value: function(e) {
                        Object.assign(this._statistics, e), this.sendStatistics();
                    }
                }, {
                    key: "sendStatistics",
                    value: function() {
                        var e = this;
                        Object.assign(this._statistics, {
                            time: +new Date()
                        });
                        var t = "https://statistic.live.126.net/statistic/realtime/sdkFunctioninfo";
                        this._statisticsServer && (t = this._statisticsServer);
                        var n = this._statistics.platform;
                        if (this._statistics.platform = "mini", "mini" === n || "wechat" === n) wx.request({
                            url: t,
                            method: "POST",
                            data: this._statistics,
                            header: {
                                "content-type": "application/json"
                            },
                            complete: function() {
                                e._initStatistics();
                            }
                        }); else {
                            if ("qq" !== n) throw Error("DataReporter 不支持的平台");
                            qq.request({
                                url: t,
                                method: "POST",
                                data: this._statistics,
                                header: {
                                    "content-type": "application/json"
                                },
                                complete: function() {
                                    e._initStatistics();
                                }
                            });
                        }
                    }
                } ]), t;
            }(s.default);
            t.default = l, e.exports = t.default;
        }, function(e, t, n) {
            var r = "qq", o = n(133), i = n(139);
            function a() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                o.merge(this, {
                    options: e,
                    debug: !1,
                    api: "log",
                    style: "color:#1cb977;",
                    log: o.emptyFunc,
                    info: o.emptyFunc,
                    warn: o.emptyFunc,
                    error: o.emptyFunc
                }), this.prefix = e.prefix || "", this.setDebug(e.debug), e.isSavedLogs && (this.logHelper = new i(e));
            }
            var s = a.prototype, c = [ "Chrome", "Safari", "Firefox" ];
            s.setDebug = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = this;
                if (t.debug = e, e.style && (t.style = e.style), t.debug && o.exist(console)) {
                    var n = console;
                    t.debug = function() {
                        this.logHelper && this.logHelper.log(arguments);
                        var e = t.formatArgs(arguments);
                        -1 !== c.indexOf(r) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("debug", e);
                    }, t.log = function() {
                        this.logHelper && this.logHelper.log(arguments);
                        var e = t.formatArgs(arguments);
                        -1 !== c.indexOf(r) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("log", e);
                    }, t.info = function() {
                        this.logHelper && this.logHelper.log(arguments);
                        var e = t.formatArgs(arguments);
                        -1 !== c.indexOf(r) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("info", e);
                    }, t.warn = function() {
                        this.logHelper && this.logHelper.log(arguments);
                        var e = t.formatArgs(arguments);
                        -1 !== c.indexOf(r) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("warn", e);
                    }, t.error = function() {
                        this.logHelper && this.logHelper.log(arguments);
                        var e = t.formatArgs(arguments);
                        -1 !== c.indexOf(r) && o.isString(e[0]) && (e[0] = "%c" + e[0], e.splice(1, 0, t.style)), 
                        t._log("error", e);
                    }, t._log = function(e, r) {
                        var i = t.options.logFunc, a = null;
                        if (i && (i[e] && (a = i[e]), o.isFunction(a))) a.apply(i, r); else if (n[e]) try {
                            n[e].apply ? t.chrome(e, r) : t.ie(e, r);
                        } catch (e) {}
                    }, t.chrome = function(e, o) {
                        -1 !== c.indexOf(r) ? n[e].apply(n, o) : t.ie(e, o);
                    }, t.ie = function(e, t) {
                        t.forEach(function(t) {
                            n[e](JSON.stringify(t, null, 4));
                        });
                    };
                }
            }, s.formatArgs = function(e) {
                e = [].slice.call(e, 0);
                var t = new Date(), n = "[LOG " + u(t.getMonth() + 1) + "-" + u(t.getDate()) + " " + u(t.getHours()) + ":" + u(t.getMinutes()) + ":" + u(t.getSeconds()) + ":" + u(t.getMilliseconds(), 3) + " " + this.prefix.toUpperCase() + "]  ";
                return o.isString(e[0]) ? e[0] = n + e[0] : e.splice(0, 0, n), e.forEach(function(t, n) {
                    (o.isArray(t) || o.isObject(t)) && (e[n] = o.simpleClone(t));
                }), e;
            };
            var u = function(e, t) {
                t = t || 2;
                for (var n = "" + e; n.length < t; ) n = "0" + n;
                return n;
            };
            e.exports = a;
        }, function(e, t, n) {
            var r, o = (r = n(12)) && r.__esModule ? r : {
                default: r
            }, i = n(134), a = n(135);
            function s(e) {
                "object" === (void 0 === e ? "undefined" : (0, o.default)(e)) ? (this.callFunc = e.callFunc || null, 
                this.message = e.message || "UNKNOW ERROR") : this.message = e, this.time = new Date(), 
                this.timetag = +this.time;
            }
            n(136);
            var c, u, l = n(137), d = l.getGlobal(), f = /\s+/;
            l.deduplicate = function(e) {
                var t = [];
                return e.forEach(function(e) {
                    -1 === t.indexOf(e) && t.push(e);
                }), t;
            }, l.capFirstLetter = function(e) {
                return e ? (e = "" + e).slice(0, 1).toUpperCase() + e.slice(1) : "";
            }, l.guid = (c = function() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
            }, function() {
                return c() + c() + c() + c() + c() + c() + c() + c();
            }), l.extend = function(e, t, n) {
                for (var r in t) void 0 !== e[r] && !0 !== n || (e[r] = t[r]);
            }, l.filterObj = function(e, t) {
                var n = {};
                return l.isString(t) && (t = t.split(f)), t.forEach(function(t) {
                    e.hasOwnProperty(t) && (n[t] = e[t]);
                }), n;
            }, l.copy = function(e, t) {
                return t = t || {}, e ? (Object.keys(e).forEach(function(n) {
                    l.exist(e[n]) && (t[n] = e[n]);
                }), t) : t;
            }, l.copyWithNull = function(e, t) {
                return t = t || {}, e ? (Object.keys(e).forEach(function(n) {
                    (l.exist(e[n]) || l.isnull(e[n])) && (t[n] = e[n]);
                }), t) : t;
            }, l.findObjIndexInArray = function(e, t) {
                e = e || [];
                var n = t.keyPath || "id", r = -1;
                return e.some(function(e, o) {
                    if (a(e, n) === t.value) return r = o, !0;
                }), r;
            }, l.findObjInArray = function(e, t) {
                var n = l.findObjIndexInArray(e, t);
                return -1 === n ? null : e[n];
            }, l.mergeObjArray = function() {
                var e = [], t = [].slice.call(arguments, 0, -1), n = arguments[arguments.length - 1];
                l.isArray(n) && (t.push(n), n = {});
                var r, o = n.keyPath = n.keyPath || "id";
                for (n.sortPath = n.sortPath || o; !e.length && t.length; ) e = (e = t.shift() || []).slice(0);
                return t.forEach(function(t) {
                    t && t.forEach(function(t) {
                        -1 !== (r = l.findObjIndexInArray(e, {
                            keyPath: o,
                            value: a(t, o)
                        })) ? e[r] = l.merge({}, e[r], t) : e.push(t);
                    });
                }), n.notSort || (e = l.sortObjArray(e, n)), e;
            }, l.cutObjArray = function(e) {
                var t = e.slice(0), n = arguments.length, r = [].slice.call(arguments, 1, n - 1), o = arguments[n - 1];
                l.isObject(o) || (r.push(o), o = {});
                var i, s = o.keyPath = o.keyPath || "id";
                return r.forEach(function(e) {
                    l.isArray(e) || (e = [ e ]), e.forEach(function(e) {
                        e && (o.value = a(e, s), -1 !== (i = l.findObjIndexInArray(t, o)) && t.splice(i, 1));
                    });
                }), t;
            }, l.sortObjArray = function(e, t) {
                var n = (t = t || {}).sortPath || "id";
                i.insensitive = !!t.insensitive;
                var r, o, s, c = !!t.desc;
                return s = l.isFunction(t.compare) ? t.compare : function(e, t) {
                    return r = a(e, n), o = a(t, n), c ? i(o, r) : i(r, o);
                }, e.sort(s);
            }, l.emptyFunc = function() {}, l.isEmptyFunc = function(e) {
                return e === l.emptyFunc;
            }, l.notEmptyFunc = function(e) {
                return e !== l.emptyFunc;
            }, l.splice = function(e, t, n) {
                return [].splice.call(e, t, n);
            }, l.reshape2d = function(e, t) {
                if (Array.isArray(e)) {
                    l.verifyParamType("type", t, "number", "util::reshape2d");
                    var n = e.length;
                    if (n <= t) return [ e ];
                    for (var r = Math.ceil(n / t), o = [], i = 0; i < r; i++) o.push(e.slice(i * t, (i + 1) * t));
                    return o;
                }
                return e;
            }, l.flatten2d = function(e) {
                if (Array.isArray(e)) {
                    var t = [];
                    return e.forEach(function(e) {
                        t = t.concat(e);
                    }), t;
                }
                return e;
            }, l.dropArrayDuplicates = function(e) {
                if (Array.isArray(e)) {
                    for (var t = {}, n = []; e.length > 0; ) t[e.shift()] = !0;
                    for (var r in t) !0 === t[r] && n.push(r);
                    return n;
                }
                return e;
            }, l.onError = function(e) {
                throw new s(e);
            }, l.verifyParamPresent = function(e, t, n, r) {
                n = n || "";
                var o = !1;
                switch (l.typeOf(t)) {
                  case "undefined":
                  case "null":
                    o = !0;
                    break;

                  case "string":
                    "" === t && (o = !0);
                    break;

                  case "StrStrMap":
                  case "object":
                    Object.keys(t).length || (o = !0);
                    break;

                  case "array":
                    t.length ? t.some(function(e) {
                        if (l.notexist(e)) return o = !0, !0;
                    }) : o = !0;
                }
                o && l.onParamAbsent(n + e, r);
            }, l.onParamAbsent = function(e, t) {
                l.onParamError("缺少参数 " + e + ", 请确保参数不是 空字符串、空对象、空数组、null或undefined, 或数组的内容不是 null/undefined", t);
            }, l.verifyParamAbsent = function(e, t, n, r) {
                n = n || "", void 0 !== t && l.onParamPresent(n + e, r);
            }, l.onParamPresent = function(e, t) {
                l.onParamError("多余的参数 " + e, t);
            }, l.verifyParamType = function(e, t, n, r) {
                var o = l.typeOf(t).toLowerCase();
                l.isArray(n) || (n = [ n ]);
                var i = !0;
                switch (-1 === (n = n.map(function(e) {
                    return e.toLowerCase();
                })).indexOf(o) && (i = !1), o) {
                  case "number":
                    isNaN(t) && (i = !1);
                    break;

                  case "string":
                    "numeric or numeric string" === n.join("") && (i = !!/^[0-9]+$/.test(t));
                }
                i || l.onParamInvalidType(e, n, "", r);
            }, l.onParamInvalidType = function(e, t, n, r) {
                n = n || "", t = l.isArray(t) ? (t = t.map(function(e) {
                    return '"' + e + '"';
                })).join(", ") : '"' + t + '"', l.onParamError('参数"' + n + e + '"类型错误, 合法的类型包括: [' + t + "]", r);
            }, l.verifyParamValid = function(e, t, n, r) {
                l.isArray(n) || (n = [ n ]), -1 === n.indexOf(t) && l.onParamInvalidValue(e, n, r);
            }, l.onParamInvalidValue = function(e, t, n) {
                l.isArray(t) || (t = [ t ]), t = t.map(function(e) {
                    return '"' + e + '"';
                }), l.isArray(t) && (t = t.join(", ")), l.onParamError("参数 " + e + "值错误, 合法的值包括: [" + JSON.stringify(t) + "]", n);
            }, l.verifyParamMin = function(e, t, n, r) {
                t < n && l.onParamError("参数" + e + "的值不能小于" + n, r);
            }, l.verifyParamMax = function(e, t, n, r) {
                t > n && l.onParamError("参数" + e + "的值不能大于" + n, r);
            }, l.verifyArrayMax = function(e, t, n, r) {
                t.length > n && l.onParamError("参数" + e + "的长度不能大于" + n, r);
            }, l.verifyEmail = (u = /^\S+@\S+$/, function(e, t, n) {
                u.test(t) || l.onParamError("参数" + e + "邮箱格式错误, 合法格式必须包含@符号, @符号前后至少要各有一个字符", n);
            }), l.verifyTel = function() {
                var e = /^[+\-()\d]+$/;
                return function(t, n, r) {
                    e.test(n) || l.onParamError("参数" + t + "电话号码格式错误, 合法字符包括+、-、英文括号和数字", r);
                };
            }(), l.verifyBirth = function() {
                var e = /^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;
                return function(t, n, r) {
                    e.test(n) || l.onParamError("参数" + t + '生日格式错误, 合法为"yyyy-MM-dd"', r);
                };
            }(), l.onParamError = function(e, t) {
                l.onError({
                    message: e,
                    callFunc: t
                });
            }, l.verifyOptions = function(e, t, n, r, o) {
                if (e = e || {}, t && (l.isString(t) && (t = t.split(f)), l.isArray(t))) {
                    "boolean" != typeof n && (o = n || null, n = !0, r = "");
                    var i = n ? l.verifyParamPresent : l.verifyParamAbsent;
                    t.forEach(function(t) {
                        i.call(l, t, e[t], r, o);
                    });
                }
                return e;
            }, l.verifyParamAtLeastPresentOne = function(e, t, n) {
                t && (l.isString(t) && (t = t.split(f)), l.isArray(t) && (t.some(function(t) {
                    return l.exist(e[t]);
                }) || l.onParamError("以下参数[" + t.join(", ") + "]至少需要传入一个", n)));
            }, l.verifyParamPresentJustOne = function(e, t, n) {
                t && (l.isString(t) && (t = t.split(f)), l.isArray(t) && 1 !== t.reduce(function(t, n) {
                    return l.exist(e[n]) && t++, t;
                }, 0) && l.onParamError("以下参数[" + t.join(", ") + "]必须且只能传入一个", n));
            }, l.verifyBooleanWithDefault = function(e, t, n, r, o) {
                l.undef(n) && (n = !0), f.test(t) && (t = t.split(f)), l.isArray(t) ? t.forEach(function(t) {
                    l.verifyBooleanWithDefault(e, t, n, r, o);
                }) : void 0 === e[t] ? e[t] = n : l.isBoolean(e[t]) || l.onParamInvalidType(t, "boolean", r, o);
            }, l.verifyFileInput = function(e, t) {
                return l.verifyParamPresent("fileInput", e, "", t), l.isString(e) && ((e = "undefined" == typeof document ? void 0 : document.getElementById(e)) || l.onParamError("找不到要上传的文件对应的input, 请检查fileInput id " + e, t)), 
                e.tagName && "input" === e.tagName.toLowerCase() && "file" === e.type.toLowerCase() || l.onParamError("请提供正确的 fileInput, 必须为 file 类型的 input 节点 tagname:" + e.tagName + ", filetype:" + e.type, t), 
                e;
            }, l.verifyFileType = function(e, t) {
                l.verifyParamValid("type", e, l.validFileTypes, t);
            }, l.verifyCallback = function(e, t, n) {
                f.test(t) && (t = t.split(f)), l.isArray(t) ? t.forEach(function(t) {
                    l.verifyCallback(e, t, n);
                }) : e[t] ? l.isFunction(e[t]) || l.onParamInvalidType(t, "function", "", n) : e[t] = l.emptyFunc;
            }, l.verifyFileUploadCallback = function(e, t) {
                l.verifyCallback(e, "uploadprogress uploaddone uploaderror uploadcancel", t);
            }, l.validFileTypes = [ "image", "audio", "video", "file" ], l.validFileExts = {
                image: [ "bmp", "gif", "jpg", "jpeg", "jng", "png", "webp" ],
                audio: [ "mp3", "wav", "aac", "wma", "wmv", "amr", "mp2", "flac", "vorbis", "ac3" ],
                video: [ "mp4", "rm", "rmvb", "wmv", "avi", "mpg", "mpeg" ]
            }, l.filterFiles = function(e, t) {
                var n, r, o = "file" === (t = t.toLowerCase()), i = [];
                return [].forEach.call(e, function(e) {
                    o ? i.push(e) : (n = e.name.slice(e.name.lastIndexOf(".") + 1), (r = e.type.split("/"))[0] && r[1] && (r[0].toLowerCase() === t || -1 !== l.validFileExts[t].indexOf(n)) && i.push(e));
                }), i;
            };
            var p, m, g = l.supportFormData = l.notundef(d.FormData);
            l.getFileName = function(e) {
                return e = l.verifyFileInput(e), g ? e.files[0].name : e.value.slice(e.value.lastIndexOf("\\") + 1);
            }, l.getFileInfo = (p = {
                ppt: 1,
                pptx: 2,
                pdf: 3
            }, function(e) {
                var t = {};
                if (!(e = l.verifyFileInput(e)).files) return t;
                var n = e.files[0];
                return g && (t.name = n.name, t.size = n.size, t.type = n.name.match(/\.(\w+)$/), 
                t.type = t.type && t.type[1].toLowerCase(), t.transcodeType = p[t.type] || 0), t;
            }), l.sizeText = (m = [ "B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "BB" ], function(e) {
                var t, n = 0;
                do {
                    t = (e = Math.floor(100 * e) / 100) + m[n], e /= 1024, n++;
                } while (e > 1);
                return t;
            }), l.promises2cmds = function(e) {
                return e.map(function(e) {
                    return e.cmd;
                });
            }, l.objs2accounts = function(e) {
                return e.map(function(e) {
                    return e.account;
                });
            }, l.teams2ids = function(e) {
                return e.map(function(e) {
                    return e.teamId;
                });
            }, l.objs2ids = function(e) {
                return e.map(function(e) {
                    return e.id;
                });
            }, l.getMaxUpdateTime = function(e) {
                var t = e.map(function(e) {
                    return +e.updateTime;
                });
                return Math.max.apply(Math, t);
            }, l.genCheckUniqueFunc = function(e, t) {
                return e = e || "id", t = t || 1e3, function(t) {
                    this.uniqueSet = this.uniqueSet || {}, this.uniqueSet[e] = this.uniqueSet[e] || {};
                    var n = this.uniqueSet[e], r = t[e];
                    return !n[r] && (n[r] = !0, !0);
                };
            }, l.fillPropertyWithDefault = function(e, t, n) {
                return !!l.undef(e[t]) && (e[t] = n, !0);
            }, e.exports = l;
        }, function(e, t) {
            e.exports = function e(t, n) {
                var o, i, a = /(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi, s = /(^[ ]*|[ ]*$)/g, c = /(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/, u = /^0x[0-9a-f]+$/i, l = /^0/, d = function(t) {
                    return e.insensitive && ("" + t).toLowerCase() || "" + t;
                }, f = d(t).replace(s, "") || "", p = d(n).replace(s, "") || "", m = f.replace(a, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), g = p.replace(a, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), h = parseInt(f.match(u), 16) || 1 !== m.length && f.match(c) && Date.parse(f), y = parseInt(p.match(u), 16) || h && p.match(c) && Date.parse(p) || null;
                if (y) {
                    if (h < y) return -1;
                    if (h > y) return 1;
                }
                for (var v = 0, b = Math.max(m.length, g.length); v < b; v++) {
                    if (o = !(m[v] || "").match(l) && parseFloat(m[v]) || m[v] || 0, i = !(g[v] || "").match(l) && parseFloat(g[v]) || g[v] || 0, 
                    isNaN(o) !== isNaN(i)) return isNaN(o) ? 1 : -1;
                    if (r(o) != r(i) && (o += "", i += ""), o < i) return -1;
                    if (o > i) return 1;
                }
                return 0;
            };
        }, function(e, t) {
            e.exports = function(e, t) {
                for (var n = t.split("."); n.length; ) {
                    var r = n.shift(), o = !1;
                    if ("?" == r[r.length - 1] && (r = r.slice(0, -1), o = !0), !(e = e[r]) && o) return e;
                }
                return e;
            };
        }, function(e, t, n) {
            var r = n(64);
            "undefined" != typeof window && (window.console || r.isWeixinApp || (window.console = {
                log: function() {},
                info: function() {},
                warn: function() {},
                error: function() {}
            }));
        }, function(e, t, n) {
            (function(e) {
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }), t.url2origin = t.uniqueID = t.off = t.removeEventListener = t.on = t.addEventListener = t.format = t.regWhiteSpace = t.regBlank = t.emptyFunc = t.f = t.emptyObj = t.o = void 0;
                var r, o, i, a = (r = n(12)) && r.__esModule ? r : {
                    default: r
                };
                function s() {
                    return "undefined" != typeof window ? window : void 0 !== e ? e : {};
                }
                function c(e, t) {
                    t = t || 2;
                    for (var n = "" + e; n.length < t; ) n = "0" + n;
                    return n;
                }
                function u(e) {
                    return "" + e.getFullYear();
                }
                function l(e) {
                    return c(e.getMonth() + 1);
                }
                function d(e) {
                    return c(e.getDate());
                }
                function f(e) {
                    return c(e.getHours());
                }
                function p(e) {
                    return c(e.getMinutes());
                }
                function m(e) {
                    return c(e.getSeconds());
                }
                function g(e) {
                    return c(e.getMilliseconds(), 3);
                }
                function h(e) {
                    return Object.prototype.toString.call(e).slice(8, -1);
                }
                function y(e) {
                    return h(e).toLowerCase();
                }
                function v(e) {
                    return "string" === y(e);
                }
                function b(e) {
                    return "array" === y(e);
                }
                function T(e) {
                    return "function" === y(e);
                }
                function _(e) {
                    return "date" === y(e);
                }
                function S(e) {
                    return null === e;
                }
                function k(e) {
                    return null !== e;
                }
                function M(e) {
                    return void 0 === e;
                }
                function P(e) {
                    return void 0 !== e;
                }
                function A(e) {
                    return P(e) && k(e);
                }
                function w(e) {
                    return M(e) || S(e);
                }
                function O(e) {
                    return A(e) && "object" === y(e);
                }
                t.getGlobal = s, t.detectCSSFeature = function(e) {
                    var t = !1, n = "Webkit Moz ms O".split(" ");
                    if ("undefined" != typeof document) {
                        var r = document.createElement("div"), o = null;
                        if (e = e.toLowerCase(), void 0 !== r.style[e] && (t = !0), !1 === t) {
                            o = e.charAt(0).toUpperCase() + e.substr(1);
                            for (var i = 0; i < n.length; i++) if (void 0 !== r.style[n[i] + o]) {
                                t = !0;
                                break;
                            }
                        }
                        return t;
                    }
                    console.log("error:fn:detectCSSFeature document is undefined");
                }, t.fix = c, t.getYearStr = u, t.getMonthStr = l, t.getDayStr = d, t.getHourStr = f, 
                t.getMinuteStr = p, t.getSecondStr = m, t.getMillisecondStr = g, t.dateFromDateTimeLocal = function(e) {
                    return e = "" + e, new Date(e.replace(/-/g, "/").replace("T", " "));
                }, t.getClass = h, t.typeOf = y, t.isString = v, t.isNumber = function(e) {
                    return "number" === y(e);
                }, t.isBoolean = function(e) {
                    return "boolean" === y(e);
                }, t.isArray = b, t.isFunction = T, t.isDate = _, t.isRegExp = function(e) {
                    return "regexp" === y(e);
                }, t.isError = function(e) {
                    return "error" === y(e);
                }, t.isnull = S, t.notnull = k, t.undef = M, t.notundef = P, t.exist = A, t.notexist = w, 
                t.isObject = O, t.isEmpty = function(e) {
                    return w(e) || (v(e) || b(e)) && 0 === e.length;
                }, t.containsNode = function(e, t) {
                    if (e === t) return !0;
                    for (;t.parentNode; ) {
                        if (t.parentNode === e) return !0;
                        t = t.parentNode;
                    }
                    return !1;
                }, t.calcHeight = function(e) {
                    var t = e.parentNode || ("undefined" == typeof document ? null : document.body);
                    if (!t) return 0;
                    (e = e.cloneNode(!0)).style.display = "block", e.style.opacity = 0, e.style.height = "auto", 
                    t.appendChild(e);
                    var n = e.offsetHeight;
                    return t.removeChild(e), n;
                }, t.remove = function(e) {
                    e.parentNode && e.parentNode.removeChild(e);
                }, t.dataset = function(e, t, n) {
                    if (!A(n)) return e.getAttribute("data-" + t);
                    e.setAttribute("data-" + t, n);
                }, t.target = function(e) {
                    return e.target || e.srcElement;
                }, t.createIframe = function(e) {
                    if ("undefined" != typeof document) {
                        var t;
                        if ((e = e || {}).name) try {
                            (t = document.createElement('<iframe name="' + e.name + '"></iframe>')).frameBorder = 0;
                        } catch (n) {
                            n = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(n);
                            (t = document.createElement("iframe")).name = e.name;
                        } else t = document.createElement("iframe");
                        e.visible || (t.style.display = "none"), T(e.onload) && x(t, "load", function n(r) {
                            t.src && (e.multi || R(t, "load", n), e.onload(r));
                        }), (e.parent || document.body).appendChild(t);
                        var n = e.src || "about:blank";
                        return setTimeout(function() {
                            t.src = n;
                        }, 0), t;
                    }
                }, t.html2node = function(e) {
                    if ("undefined" != typeof document) {
                        var t = document.createElement("div");
                        t.innerHTML = e;
                        var n = [], r = void 0, o = void 0;
                        if (t.children) for (r = 0, o = t.children.length; r < o; r++) n.push(t.children[r]); else for (r = 0, 
                        o = t.childNodes.length; r < o; r++) {
                            var i = t.childNodes[r];
                            1 === i.nodeType && n.push(i);
                        }
                        return n.length > 1 ? t : n[0];
                    }
                }, t.scrollTop = function(e) {
                    return "undefined" != typeof document && A(e) && (document.documentElement.scrollTop = document.body.scrollTop = e), 
                    window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
                }, t.forOwn = j, t.mixin = N, t.isJSON = L, t.parseJSON = function e(t) {
                    try {
                        L(t) && (t = JSON.parse(t)), O(t) && j(t, function(n, r) {
                            switch (y(r)) {
                              case "string":
                              case "object":
                                t[n] = e(r);
                            }
                        });
                    } catch (e) {
                        e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                        console.log("error:", e);
                    }
                    return t;
                }, t.simpleClone = function(e) {
                    var t = [], n = JSON.stringify(e, function(e, n) {
                        if ("object" === (void 0 === n ? "undefined" : (0, a.default)(n)) && null !== n) {
                            if (-1 !== t.indexOf(n)) return;
                            t.push(n);
                        }
                        return n;
                    });
                    return JSON.parse(n);
                }, t.merge = function() {
                    for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                    return n.forEach(function(t) {
                        N(e, t);
                    }), e;
                }, t.fillUndef = function(e, t) {
                    return j(t, function(t, n) {
                        M(e[t]) && (e[t] = n);
                    }), e;
                }, t.checkWithDefault = function(e, t, n) {
                    var r = e[t] || e[t.toLowerCase()];
                    return w(r) && (r = n, e[t] = r), r;
                }, t.fetch = function(e, t) {
                    return j(e, function(n, r) {
                        A(t[n]) && (e[n] = t[n]);
                    }), e;
                }, t.string2object = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ",", n = {};
                    return e.split(t).forEach(function(e) {
                        var t = e.split("="), r = t.shift();
                        r && (n[decodeURIComponent(r)] = decodeURIComponent(t.join("=")));
                    }), n;
                }, t.object2string = U, t.genUrlSep = function(e) {
                    return e.indexOf("?") < 0 ? "?" : "&";
                }, t.object2query = function(e) {
                    return U(e, "&", !0);
                }, t.isFileInput = D, t.getKeys = function(e, t) {
                    var n = Object.keys(e);
                    return t && n.sort(function(t, n) {
                        var r = D(e[t]);
                        return r === D(e[n]) ? 0 : r ? 1 : -1;
                    }), n;
                }, t.o = {}, t.emptyObj = {}, t.f = function() {}, t.emptyFunc = function() {}, 
                t.regBlank = /\s+/gi, t.regWhiteSpace = /\s+/gi, t.format = (o = /yyyy|MM|dd|hh|mm|ss|SSS/g, 
                i = {
                    yyyy: u,
                    MM: l,
                    dd: d,
                    hh: f,
                    mm: p,
                    ss: m,
                    SSS: g
                }, function(e, t) {
                    return e = new Date(e), isNaN(+e) ? "invalid date" : (t = t || "yyyy-MM-dd").replace(o, function(t) {
                        return i[t](e);
                    });
                });
                var E, I = t.addEventListener = function(e, t, n) {
                    e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n);
                }, x = t.on = I, C = t.removeEventListener = function(e, t, n) {
                    e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n);
                }, R = t.off = C;
                function j() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {}, n = arguments[2];
                    for (var r in e) e.hasOwnProperty(r) && t.call(n, r, e[r]);
                }
                function N(e, t) {
                    j(t, function(t, n) {
                        e[t] = n;
                    });
                }
                function L(e) {
                    return v(e) && 0 === e.indexOf("{") && e.lastIndexOf("}") === e.length - 1;
                }
                function U(e, t, n) {
                    if (!e) return "";
                    var r = [];
                    return j(e, function(e, t) {
                        T(t) || (_(t) ? t = t.getTime() : b(t) ? t = t.join(",") : O(t) && (t = JSON.stringify(t)), 
                        n && (t = encodeURIComponent(t)), r.push(encodeURIComponent(e) + "=" + t));
                    }), r.join(t || ",");
                }
                function D(e) {
                    var t = s();
                    return e.tagName && "INPUT" === e.tagName.toUpperCase() || t.Blob && e instanceof t.Blob;
                }
                t.uniqueID = (E = 0, function() {
                    return "" + E++;
                }), t.url2origin = function() {
                    var e = /^([\w]+?:\/\/.*?(?=\/|$))/i;
                    return function(t) {
                        return e.test(t || "") ? RegExp.$1.toLowerCase() : "";
                    };
                }();
            }).call(this, n(138));
        }, function(e, t) {
            var n;
            n = function() {
                return this;
            }();
            try {
                n = n || new Function("return this")();
            } catch (e) {
                e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                "object" == ("undefined" == typeof window ? "undefined" : r(window)) && (n = window);
            }
            e.exports = n;
        }, function(e, t, n) {
            var r, o = (r = n(12)) && r.__esModule ? r : {
                default: r
            };
            e.exports = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this;
                if (e.maxLogsLines && "number" == typeof e.maxLogsLines && !isNaN(e.maxLogsLines) || (e.maxLogsLines = 5e3), 
                e.logFilename && (e.logFilename = e.logFilename + ".txt"), t.useTimestamps = e.useTimestamps || !1, 
                t.useLocalStorage = e.useLocalStorage || !1, t.autoTrim = !0, t.maxLines = e.maxLogsLines || 5e3, 
                t.tailNumLines = 100, t.logFilename = e.logFilename || "nimWebRtcLog.txt", t.maxDepth = 5, 
                t.depth = 0, t.parentSizes = [ 0 ], t.currentResult = "", t.startTime = new Date(), 
                t.output = "", this.getLog = function() {
                    var e = new Date();
                    if (t.useLocalStorage) {
                        var n = window.localStorage.getItem("nimWebRtcLog");
                        n && (n = JSON.parse(n), t.startTime = new Date(n.startTime), t.output = n.log, 
                        e = new Date(n.lastLog));
                    }
                    return t.output + "\n---- Log retrieved: " + e + " ----\n" + t.formatSessionDuration(t.startTime, e);
                }, this.tail = function(e) {
                    return e = e || t.tailLines, t.trimLog(t.getLog(), e);
                }, this.search = function(e) {
                    for (var n = t.output.split("\n"), r = new RegExp(e), o = [], i = 0; i < n.length; i++) {
                        var a = "[" + i + "] ";
                        n[i].match(r) && o.push(a + n[i]);
                    }
                    var s = o.join("\n");
                    return 0 == s.length && (s = 'Nothing found for "' + e + '".'), s;
                }, this.getSlice = function(e, n) {
                    return t.output.split("\n").slice(e, e + n).join("\n");
                }, this.downloadLog = function() {
                    var e = t.getLog(), n = new Blob([ e ], {
                        type: "data:text/plain;charset=utf-8"
                    }), r = document.createElement("a");
                    r.href = window.URL.createObjectURL(n), r.target = "_blank", r.download = t.logFilename, 
                    document.body.appendChild(r), r.click(), document.body.removeChild(r), window.URL.revokeObjectURL(r.href);
                }, this.clear = function() {
                    var e = new Date();
                    if (t.output = "---- Log cleared: " + e + " ----\n", t.useLocalStorage) {
                        var n = {
                            startTime: t.startTime,
                            log: t.output,
                            lastLog: e
                        };
                        n = JSON.stringify(n), window.localStorage.setItem("nimWebRtcLog", n);
                    }
                }, this.log = function(e) {
                    var n = t.determineType(e);
                    if (null != n) {
                        var r = t.formatType(n, e);
                        if (t.useTimestamps) {
                            var o = new Date();
                            t.output += t.formatTimestamp(o);
                        }
                        if (t.output += r + "\n", t.autoTrim && (t.output = t.trimLog(t.output, t.maxLines)), 
                        t.useLocalStorage) {
                            var i = new Date(), a = {
                                startTime: t.startTime,
                                log: t.output,
                                lastLog: i
                            };
                            a = JSON.stringify(a), window.localStorage.setItem("nimWebRtcLog", a);
                        }
                    }
                    t.depth = 0, t.parentSizes = [ 0 ], t.currentResult = "";
                }, this.determineType = function(e) {
                    if (null != e) {
                        var t = void 0 === e ? "undefined" : (0, o.default)(e);
                        return "object" == t ? null == e.length ? "function" == typeof e.getTime ? "Date" : "function" == typeof e.test ? "RegExp" : "Object" : "Array" : t;
                    }
                    return null;
                }, this.formatType = function(e, n) {
                    if (t.maxDepth && t.depth >= t.maxDepth) return "... (max-depth reached)";
                    switch (e) {
                      case "Object":
                        t.currentResult += "{\n", t.depth++, t.parentSizes.push(t.objectSize(n));
                        var r = 0;
                        for (var o in n) {
                            t.currentResult += t.indentsForDepth(t.depth), t.currentResult += o + ": ";
                            var i = t.determineType(n[o]);
                            (a = t.formatType(i, n[o])) ? ("function" !== i && (t.currentResult += a), r != t.parentSizes[t.depth] - 1 && (t.currentResult += ","), 
                            t.currentResult += "\n") : (r != t.parentSizes[t.depth] - 1 && (t.currentResult += ","), 
                            t.currentResult += "\n"), r++;
                        }
                        if (t.depth--, t.parentSizes.pop(), t.currentResult += t.indentsForDepth(t.depth), 
                        t.currentResult += "}", 0 == t.depth) return t.currentResult;
                        break;

                      case "Array":
                        for (t.currentResult += "[", t.depth++, t.parentSizes.push(n.length), r = 0; r < n.length; r++) {
                            var a;
                            "Object" != (i = t.determineType(n[r])) && "Array" != i || (t.currentResult += "\n" + t.indentsForDepth(t.depth)), 
                            (a = t.formatType(i, n[r])) ? (t.currentResult += a, r != t.parentSizes[t.depth] - 1 && (t.currentResult += ", "), 
                            "Array" == i && (t.currentResult += "\n")) : (r != t.parentSizes[t.depth] - 1 && (t.currentResult += ", "), 
                            ("Object" != i || r == t.parentSizes[t.depth] - 1) && (t.currentResult += "\n"));
                        }
                        if (t.depth--, t.parentSizes.pop(), t.currentResult += "]", 0 == t.depth) return t.currentResult;
                        break;

                      case "function":
                        var s = (n += "").split("\n");
                        for (r = 0; r < s.length; r++) s[r].match(/\}/) && t.depth--, t.currentResult += t.indentsForDepth(t.depth), 
                        s[r].match(/\{/) && t.depth++, t.currentResult += s[r] + "\n";
                        return t.currentResult;

                      case "RegExp":
                        return "/" + n.source + "/";

                      case "Date":
                      case "string":
                        return t.depth > 0 || 0 == n.length ? '"' + n + '"' : n;

                      case "boolean":
                        return n ? "true" : "false";

                      case "number":
                        return n + "";
                    }
                }, this.indentsForDepth = function(e) {
                    for (var t = "", n = 0; n < e; n++) t += "\t";
                    return t;
                }, this.trimLog = function(e, t) {
                    var n = e.split("\n");
                    return n.length > t && (n = n.slice(n.length - t)), n.join("\n");
                }, this.lines = function() {
                    return t.output.split("\n").length;
                }, this.formatSessionDuration = function(e, t) {
                    var n = t - e, r = Math.floor(n / 1e3 / 60 / 60), o = ("0" + r).slice(-2);
                    n -= 1e3 * r * 60 * 60;
                    var i = Math.floor(n / 1e3 / 60), a = ("0" + i).slice(-2);
                    n -= 1e3 * i * 60;
                    var s = Math.floor(n / 1e3);
                    return n -= 1e3 * s, "---- Session duration: " + o + ":" + a + ":" + ("0" + s).slice(-2) + " ----";
                }, this.formatTimestamp = function(e) {
                    var t = e.getFullYear(), n = e.getDate();
                    return "[" + t + "-" + ("0" + (e.getMonth() + 1)).slice(-2) + "-" + n + " " + Number(e.getHours()) + ":" + ("0" + e.getMinutes()).slice(-2) + ":" + ("0" + e.getSeconds()).slice(-2) + "]: ";
                }, this.objectSize = function(e) {
                    var t, n = 0;
                    for (t in e) e.hasOwnProperty && e.hasOwnProperty(t) && n++;
                    return n;
                }, t.useLocalStorage) {
                    var n = window.localStorage.getItem("nimWebRtcLog");
                    if (n) {
                        n = JSON.parse(n), t.output = n.log;
                        var r = new Date(n.startTime), i = new Date(n.lastLog);
                        t.output += "\n---- Session end: " + n.lastLog + " ----\n", t.output += t.formatSessionDuration(r, i), 
                        t.output += "\n\n";
                    }
                }
                t.output += "---- Session started: " + t.startTime + " ----\n\n";
            };
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = u(n(41)), o = u(n(42)), i = u(n(27)), a = n(14), s = u(n(141)), c = u(n(65));
            function u(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var l = n(64), d = n(44).version, f = n(28), p = {
                init: function() {
                    return Promise.resolve();
                },
                setVoiceBeautifierPreset: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("NErtc::setVoiceBeautifierPreset type: " + e), !(!Number.isInteger(e) || e < 0 || e > 11)) {
                                    n.next = 4;
                                    break;
                                }
                                return t.logger.log("NErtc::setVoiceBeautifierPreset type参数错误"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "setVoiceBeautifierPreset接口type参数错误"
                                })));

                              case 4:
                                if (!t._status.isInTheRoom) {
                                    n.next = 19;
                                    break;
                                }
                                if (e === a.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF) {
                                    n.next = 15;
                                    break;
                                }
                                return t.logger.log("NErtc::setVoiceBeautifierPreset 设置为美声处理"), t._status.audioChangeMode = 2, 
                                n.next = 10, t._wsController.updateAudioChangeMode(2);

                              case 10:
                                return t.logger.log("NErtc::setVoiceBeautifierPreset 设置为美声模式为 " + e), n.next = 13, 
                                t._wsController.updateVoiceBeautifierPreset(e);

                              case 13:
                                n.next = 19;
                                break;

                              case 15:
                                if (2 != t._status.audioChangeMode) {
                                    n.next = 19;
                                    break;
                                }
                                return t.logger.log("NErtc::setVoiceBeautifierPreset 设置为不处理"), n.next = 19, t._wsController.updateAudioChangeMode(0);

                              case 19:
                                e !== a.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF && (t.logger.warn("NErtc::setVoiceBeautifierPreset 设置了美声声，将音调和变声恢复到默认值"), 
                                t._status.pitch = "1.25", t._status.voiceEffectType = a.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF), 
                                t._status.voiceBeautifierType = e;

                              case 21:
                              case "end":
                                return n.stop();
                            }
                        }, n, t);
                    }))();
                },
                setAudioEffectPreset: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("NErtc::setAudioEffectPreset type: " + e), !(!Number.isInteger(e) || e < 0 || e > 8)) {
                                    n.next = 4;
                                    break;
                                }
                                return t.logger.log("NErtc::setAudioEffectPreset type参数错误"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "setAudioEffectPreset接口type参数错误"
                                })));

                              case 4:
                                if (!t._status.isInTheRoom) {
                                    n.next = 18;
                                    break;
                                }
                                if (e === a.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF) {
                                    n.next = 15;
                                    break;
                                }
                                return t.logger.log("NErtc::setAudioEffectPreset 设置为变声处理"), t._status.audioChangeMode = 1, 
                                n.next = 10, t._wsController.updateAudioChangeMode(1);

                              case 10:
                                return t.logger.log("NErtc::setAudioEffectPreset 设置为变声模式为 " + e), n.next = 13, t._wsController.updateAudioEffectPreset(e);

                              case 13:
                                n.next = 18;
                                break;

                              case 15:
                                if (1 != t._status.audioChangeMode) {
                                    n.next = 18;
                                    break;
                                }
                                return n.next = 18, t._wsController.updateAudioChangeMode(0);

                              case 18:
                                t._status.voiceEffectType = e, e !== a.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF && (t.logger.warn("NErtc::setAudioEffectPreset 设置了变声，将音调和美声恢复到默认值"), 
                                t._status.pitch = "1.25", t._status.voiceBeautifierType = a.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF);

                              case 20:
                              case "end":
                                return n.stop();
                            }
                        }, n, t);
                    }))();
                },
                setLocalVoicePitch: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("NErtc::setLocalVoicePitch pitch: " + e), !("number" == typeof e && e >= .5 && e <= 2)) {
                                    n.next = 4;
                                    break;
                                }
                                n.next = 6;
                                break;

                              case 4:
                                return t.logger.log("NErtc::setLocalVoicePitch pitch参数错误"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "setLocalVoicePitch接口pitch参数错误"
                                })));

                              case 6:
                                if (!t._status.isInTheRoom) {
                                    n.next = 22;
                                    break;
                                }
                                if (1.25 == e) {
                                    n.next = 19;
                                    break;
                                }
                                return t._status.audioChangeMode = 1, n.next = 11, t._wsController.updateAudioChangeMode(1);

                              case 11:
                                return t.logger.log("NErtc::setLocalVoicePitch 设置本地语音音调, 先关闭之前的变声设置: ", t._status.voiceEffectType), 
                                n.next = 14, t._wsController.updateAudioEffectPreset(a.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF);

                              case 14:
                                return t.logger.log("NErtc::setLocalVoicePitch 设置本地语音音调, pitch: ", e), n.next = 17, 
                                t._wsController.updateLocalVoicePitch(e + "");

                              case 17:
                                n.next = 22;
                                break;

                              case 19:
                                if (1 != t._status.audioChangeMode) {
                                    n.next = 22;
                                    break;
                                }
                                return n.next = 22, t._wsController.updateAudioChangeMode(0);

                              case 22:
                                1 != e && (t.logger.warn("NErtc::setLocalVoicePitch 设置了音调，将变声和美声恢复到默认值"), t._status.voiceEffectType = a.VOICE_EFFECT_TYPE.AUDIO_EFFECT_OFF, 
                                t._status.voiceBeautifierType = a.VOICE_BEAUTIFIER_TYPE.VOICE_BEAUTIFIER_OFF), t._status.pitch = e + "";

                              case 24:
                              case "end":
                                return n.stop();
                            }
                        }, n, t);
                    }))();
                },
                setLocalVoiceEqualization: function(e, t) {
                    var n = this;
                    return (0, o.default)(r.default.mark(function o() {
                        var i;
                        return r.default.wrap(function(r) {
                            for (;;) switch (r.prev = r.next) {
                              case 0:
                                if (n.logger.log("NErtc::setLocalVoiceEqualization bandFrequency: " + e + ", gain: " + t), 
                                Object.values(a.AUDIO_EQUALIZATION_BAND).includes(e)) {
                                    r.next = 4;
                                    break;
                                }
                                return n.logger.error("NErtc::setLocalVoiceEqualization bandFrequency参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "setLocalVoiceEqualization接口bandFrequency参数错误"
                                })));

                              case 4:
                                if (!(!Number.isInteger(t) || t < -15 || t > 15)) {
                                    r.next = 7;
                                    break;
                                }
                                return n.logger.error("NErtc::setLocalVoiceEqualization gain参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "setLocalVoiceEqualization接口gain参数错误"
                                })));

                              case 7:
                                if (n._status.audioEqualizationBand[e] = t, !n._status.isInTheRoom) {
                                    r.next = 13;
                                    break;
                                }
                                return i = Object.values(n._status.audioEqualizationBand).join(), n.logger.log("NErtc::setLocalVoiceEqualization 更新本地语音音效均衡, equa: ", i), 
                                r.next = 13, n._wsController.updateLocalVoiceEqualization(i);

                              case 13:
                              case "end":
                                return r.stop();
                            }
                        }, o, n);
                    }))();
                },
                setRole: function() {
                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "broadcaster";
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (e.logger.log("NErtc::setRole role:" + t + ", publishAudio: " + e._status.publishAudio + ", publishVideo: " + e._status.publishVideo), 
                                e._status.role = t, e._status.isInTheRoom) {
                                    n.next = 5;
                                    break;
                                }
                                return e.logger.log("NErtc::setRole 当前不在房间中"), n.abrupt("return");

                              case 5:
                                if (n.prev = 5, "audience" != t) {
                                    n.next = 13;
                                    break;
                                }
                                if (!e._status.publishAudio) {
                                    n.next = 10;
                                    break;
                                }
                                return n.next = 10, e.unpublish("audio");

                              case 10:
                                if (!e._status.publishVideo) {
                                    n.next = 13;
                                    break;
                                }
                                return n.next = 13, e.unpublish("video");

                              case 13:
                                return n.next = 15, e._wsController.changeRole("audience" == t ? 1 : 0);

                              case 15:
                                return e.apiEventReport("setFunction", {
                                    name: "setRole",
                                    oper: "1",
                                    value: t
                                }), n.abrupt("return");

                              case 19:
                                return n.prev = 19, n.t0 = n.catch(5), n.abrupt("return", Promise.reject(n.t0));

                              case 22:
                              case "end":
                                return n.stop();
                            }
                        }, n, e, [ [ 5, 19 ] ]);
                    }))();
                },
                join: function(e) {
                    var t = this;
                    if (this._status.isInTheRoom) return this.logger.log("正在房间中，请勿重复加入！"), Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                        reason: "重复加入房间"
                    }));
                    this.logger.log("join: ", JSON.stringify(e, null, " ")), this._updateStatus({
                        isInTheRoom: !0
                    });
                    var n = this, r = null;
                    i.default.verifyOptions(e, "channelName"), this.logger.log("开始请求小程序网关地址"), "number" != typeof e.uid || isNaN(e.uid) ? "string" == typeof e.uid ? (console.log("uid是string"), 
                    r = new f(e.uid)) : f.isBigNumber(e.uid) ? r = e.uid : null != e.uid && null != e.uid || (r = new f(i.default.uuid())) : (console.log("uid是number"), 
                    r = e.uid), n._updateStatus({
                        joinChannelParam: e
                    }), e.scene = a.SESSION_MODE.MEETING, n._dataReporter.updateStatistics(Object.assign({}, {
                        appkey: n._status.appkey,
                        uid: r,
                        miniapp_mode: e.mode ? e.mode : 0,
                        platform: n._status.runtimeEnvironment
                    }, {
                        meeting: {
                            value: 1
                        }
                    }));
                    var o = +new Date(), s = Date.now();
                    n._info.joinChannelParam = e;
                    var u = l.miniG2.getChannelInfoUrl;
                    return e.channelServer && (u = e.channelServer), this._status.channelServer = e.channelServer, 
                    this._status.statisticsServer = e.statisticsServer, this._status.roomServer = e.roomServer, 
                    this._dataReporter && this._dataReporter.updateStatisticsServer(e.statisticsServer), 
                    this._info.uid = r, new Promise(function(a, l) {
                        return i.default.post({
                            uid: r,
                            appkey: n._status.appkey,
                            channelName: e.channelName,
                            secureType: e.token ? "1" : "2",
                            osType: "4",
                            mode: 2,
                            netType: "0",
                            version: d + ".0" || !1,
                            curtime: o,
                            checksum: e.token ? e.token : (0, c.default)(n._status.appkey + "." + r.toString() + "." + o),
                            nrtcg2: 1,
                            t1: s
                        }, {
                            url: u,
                            runtimeEnvironment: t._status.runtimeEnvironment
                        }).then(function(o) {
                            if (200 === o.code) {
                                t.logger.log("请求到房间信息");
                                var i = o.ips, s = void 0 === i ? {} : i, c = o.time, u = void 0 === c ? {} : c;
                                if (!s.wechatapparray) return t.logger.error("服务器没有返回网关地址，加入房间失败"), t.apiEventReport("setLogin", {
                                    a_record: !!n._info.joinChannelParam.recordAudio,
                                    v_record: !!n._info.joinChannelParam.recordVideo,
                                    record_type: n._info.joinChannelParam.recordType ? n._info.joinChannelParam.recordType + "" : "0",
                                    host_speaker: !!n._info.joinChannelParam.isHostSpeaker,
                                    result: -2,
                                    serverIp: s.wechatapparray || ""
                                }), n._updateStatus({
                                    isInTheRoom: !1
                                }), l("no address");
                                Object.assign(n._status.createChannelResponse, o, e), n._status.createChannelResponse.token = o.token, 
                                n._status.createChannelResponse.uid = r, n._info.T4 = Date.now();
                                var d = n._info.T4 - u.t1 - (u.t3 - u.t2);
                                n._info.clientNtpTime = u.t3 + Math.round(d / 2);
                                var p = n._generateJoinParam(e);
                                p.role = "broadcaster" === t._status.role ? 0 : 1, p.dualAudio = 0, t._status.voiceEffectType ? p.audioChangeMode = 1 : t._status.voiceBeautifierType ? p.audioChangeMode = 2 : p.audioChangeMode = 0, 
                                t._status.audioChangeMode = p.audioChangeMode, p.audioLocalPitch = "" + t._status.pitch, 
                                p.audioChangeType = t._status.voiceEffectType, p.audioBeautyType = t._status.voiceBeautifierType, 
                                n._info.dualAudio = p.dualAudio, n._info.joinChannelParam = p, n._info.turnToken = s.token, 
                                t.logger.log("开始joinChannel: ", p), n._wsController.joinChannel(p).then(function() {
                                    t._info.cid = o.cid, n._dataReporter.updateStatistics({
                                        cid: t._info.cid,
                                        appkey: n._status.appkey,
                                        uid: r
                                    }), t.logger.log("开始joinChannel 加入房间成功"), a({
                                        cid: o.cid,
                                        code: o.code,
                                        uid: f.isBigNumber(r) ? r.toString() : r
                                    });
                                }).catch(function(e) {
                                    t.logger.error("开始joinChannel 加入房间失败: ", e), l(e);
                                });
                            } else t.logger.error("小程序网关地址请求失败: ", o), t.apiEventReport("setLogin", {
                                a_record: !!n._info.joinChannelParam.recordAudio,
                                v_record: !!n._info.joinChannelParam.recordVideo,
                                record_type: n._info.joinChannelParam.recordType ? n._info.joinChannelParam.recordType + "" : "0",
                                host_speaker: !!n._info.joinChannelParam.isHostSpeaker,
                                result: o.code,
                                serverIp: n._info.joinChannelParam.address || ""
                            }), n._updateStatus({
                                isInTheRoom: !1
                            }), l(o);
                        }).catch(function(e) {
                            t.apiEventReport("setLogin", {
                                a_record: !!n._info.joinChannelParam.recordAudio,
                                v_record: !!n._info.joinChannelParam.recordVideo,
                                record_type: n._info.joinChannelParam.recordType ? n._info.joinChannelParam.recordType + "" : "0",
                                host_speaker: !!n._info.joinChannelParam.isHostSpeaker,
                                result: -2,
                                serverIp: n._info.joinChannelParam.address || ""
                            }), n._updateStatus({
                                isInTheRoom: !1
                            }), l(e);
                        });
                    });
                },
                publish: function() {
                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (e.logger.log("NErtc::publish mediaType:" + t + ", publishAudio: " + e._status.publishAudio + ", publishVideo: " + e._status.publishVideo + ", role: " + e._status.role), 
                                e._status.isInTheRoom) {
                                    n.next = 6;
                                    break;
                                }
                                return e.logger.log("NErtc::publish 当前不在房间中，无法进行publish操作"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "在join之前，不允许执行publish操作"
                                })));

                              case 6:
                                if ("audio" === t || "video" === t || "" === t) {
                                    n.next = 11;
                                    break;
                                }
                                return e.logger.log("NErtc::publish mediaType参数错误"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "publish接口mediaType参数错误"
                                })));

                              case 11:
                                if ("audience" != e._status.role) {
                                    n.next = 14;
                                    break;
                                }
                                return e.logger.log("NErtc::publish 当前是观众模式"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "观众角色不允许publish"
                                })));

                              case 14:
                                if ("audio" !== t || !e._status.publishAudio) {
                                    n.next = 19;
                                    break;
                                }
                                return e.logger.log("NErtc::publish 音频已经publish，重复"), n.abrupt("return", e._info.pushUrl);

                              case 19:
                                if ("video" !== t || !e._status.publishVideo) {
                                    n.next = 24;
                                    break;
                                }
                                return e.logger.log("NErtc::publish 视频已经publish，重复"), n.abrupt("return", e._info.pushUrl);

                              case 24:
                                if (!e._status.publishAudio || !e._status.publishVideo) {
                                    n.next = 27;
                                    break;
                                }
                                return e.logger.log("NErtc::publish 音视频已经publish，重复"), n.abrupt("return", e._info.pushUrl);

                              case 27:
                                return n.abrupt("return", new Promise(function() {
                                    var n = (0, o.default)(r.default.mark(function n(i, a) {
                                        var s;
                                        return r.default.wrap(function(n) {
                                            for (;;) switch (n.prev = n.next) {
                                              case 0:
                                                s = setInterval((0, o.default)(r.default.mark(function n() {
                                                    return r.default.wrap(function(n) {
                                                        for (;;) switch (n.prev = n.next) {
                                                          case 0:
                                                            if (e.logger.log("NErtc::publish 定时器 推流地址： ", e._info.pushUrl), "broadcaster" !== e._status.role && (e.logger.log("NErtc::publish 异步操作，角色已经发送了变化"), 
                                                            clearInterval(s), s = null, i()), !e._info.pushUrl) {
                                                                n.next = 31;
                                                                break;
                                                            }
                                                            if (clearInterval(s), s = null, e.apiEventReport("setFunction", {
                                                                name: "publish",
                                                                oper: "1",
                                                                value: "success"
                                                            }), e.logger.log("NErtc::publish 定时器发送publish消息"), n.prev = 7, !t) {
                                                                n.next = 15;
                                                                break;
                                                            }
                                                            return e.logger.log("publish: ", t), n.next = 12, e._wsController.publish(t);

                                                          case 12:
                                                            "audio" === t ? e._status.publishAudio = !0 : "video" === t && (e._status.publishVideo = !0), 
                                                            n.next = 25;
                                                            break;

                                                          case 15:
                                                            if (e._status.publishAudio) {
                                                                n.next = 19;
                                                                break;
                                                            }
                                                            return e.logger.log("publish audio"), n.next = 19, e._wsController.publish("audio");

                                                          case 19:
                                                            if (e._status.publishVideo) {
                                                                n.next = 23;
                                                                break;
                                                            }
                                                            return e.logger.log("publish video"), n.next = 23, e._wsController.publish("video");

                                                          case 23:
                                                            e._status.publishAudio = !0, e._status.publishVideo = !0;

                                                          case 25:
                                                            i(e._info.pushUrl), n.next = 31;
                                                            break;

                                                          case 28:
                                                            n.prev = 28, n.t0 = n.catch(7), a(n.t0);

                                                          case 31:
                                                          case "end":
                                                            return n.stop();
                                                        }
                                                    }, n, e, [ [ 7, 28 ] ]);
                                                })), 100), setTimeout(function() {
                                                    clearInterval(s), s = null, e._info.pushUrl || (e.logger.error("NErtc::publish 没有获取到推流地址"), 
                                                    e.apiEventReport("setFunction", {
                                                        name: "publish",
                                                        oper: "1",
                                                        value: "failed"
                                                    }), a("no pushUrl"));
                                                }, 5e3);

                                              case 2:
                                              case "end":
                                                return n.stop();
                                            }
                                        }, n, e);
                                    }));
                                    return function(e, t) {
                                        return n.apply(this, arguments);
                                    };
                                }()));

                              case 28:
                              case "end":
                                return n.stop();
                            }
                        }, n, e);
                    }))();
                },
                unpublish: function() {
                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return (0, o.default)(r.default.mark(function n() {
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (e.logger.log("NErtc::unpublish mediaType:" + t + ", publishAudio: " + e._status.publishAudio + ", publishVideo: " + e._status.publishVideo), 
                                e._status.isInTheRoom) {
                                    n.next = 6;
                                    break;
                                }
                                return e.logger.log("NErtc::unpublish 不正在房间中，请勿调用！"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "在join之前，不允许执行unpublish操作"
                                })));

                              case 6:
                                if ("audio" === t || "video" === t || "" === t) {
                                    n.next = 9;
                                    break;
                                }
                                return e.logger.log("NErtc::unpublish mediaType参数错误"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "unpublish接口mediaType参数错误"
                                })));

                              case 9:
                                if ("audio" !== t || e._status.publishAudio) {
                                    n.next = 13;
                                    break;
                                }
                                return n.abrupt("return");

                              case 13:
                                if ("video" !== t || e._status.publishVideo) {
                                    n.next = 17;
                                    break;
                                }
                                return n.abrupt("return");

                              case 17:
                                if (e._status.publishAudio || e._status.publishVideo) {
                                    n.next = 19;
                                    break;
                                }
                                return n.abrupt("return");

                              case 19:
                                if (e.logger.log("NErtc::unpublish 停止发布媒体: ", e._info.pushUrl), n.prev = 20, !t) {
                                    n.next = 27;
                                    break;
                                }
                                return n.next = 24, e._wsController.unpublish(t);

                              case 24:
                                "audio" === t ? e._status.publishAudio = !1 : "video" === t && (e._status.publishVideo = !1), 
                                n.next = 35;
                                break;

                              case 27:
                                if (!e._status.audio) {
                                    n.next = 30;
                                    break;
                                }
                                return n.next = 30, e._wsController.unpublish("audio");

                              case 30:
                                if (!e._status.video) {
                                    n.next = 33;
                                    break;
                                }
                                return n.next = 33, e._wsController.unpublish("video");

                              case 33:
                                e._status.publishAudio = !1, e._status.publishVideo = !1;

                              case 35:
                                return e.apiEventReport("setFunction", {
                                    name: "unpublish",
                                    oper: "1",
                                    value: "success"
                                }), n.abrupt("return");

                              case 39:
                                return n.prev = 39, n.t0 = n.catch(20), n.abrupt("return", Promise.reject(n.t0));

                              case 42:
                              case "end":
                                return n.stop();
                            }
                        }, n, e, [ [ 20, 39 ] ]);
                    }))();
                },
                subscribe: function(e) {
                    var t = this, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    return (0, o.default)(r.default.mark(function o() {
                        var i, s, c, u;
                        return r.default.wrap(function(r) {
                            for (;;) switch (r.prev = r.next) {
                              case 0:
                                if (t._status.isInTheRoom) {
                                    r.next = 5;
                                    break;
                                }
                                return t.logger.log("NErtc::subscribe 不正在房间中，请勿调用！"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "在join之前，不允许执行unpublish操作"
                                })));

                              case 5:
                                if ("audio" === n || "video" === n || "screenShare" === n) {
                                    r.next = 10;
                                    break;
                                }
                                return t.logger.log("NErtc::subscribe mediaType参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "subscribe接口mediaType参数错误"
                                })));

                              case 10:
                                if (e && t._info.userlist.get(e.toString())) {
                                    r.next = 13;
                                    break;
                                }
                                return t.logger.log("NErtc::subscribe " + e + " 不正在房间中，或者没有发布媒体"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: e + " 不正在房间中，或者没有发布媒体"
                                })));

                              case 13:
                                if (i = e, t.logger.log("NErtc::subscribe 订阅媒体: ", n), t.logger.log("NErtc::subscribe 订阅媒体 uid: ", i), 
                                "string" == typeof e && (i = new f(e), t.logger.log("NErtc::subscribe 订阅媒体 remoteUid: ", i)), 
                                t.apiEventReport("setFunction", {
                                    name: "subscribe",
                                    oper: i.toString(),
                                    value: "success"
                                }), r.prev = 18, t.logger.log("NErtc::subscribe 开始发送sub消息"), (s = t._info.userlist.get(i.toString())).subscribed[n] = !0, 
                                "slaveAudio" !== n) {
                                    r.next = 33;
                                    break;
                                }
                                if (t._info.userlist.set(i.toString(), s), c = 2, s.subscribed.userSubAudio) {
                                    r.next = 29;
                                    break;
                                }
                                return r.next = 28, t._wsController.subscribe(i, "audio");

                              case 28:
                                c = 1;

                              case 29:
                                return r.next = 31, t._wsController.subscribe(i, n, c);

                              case 31:
                                r.next = 55;
                                break;

                              case 33:
                                if ("audio" !== n) {
                                    r.next = 52;
                                    break;
                                }
                                if (s.subscribed.userSubAudio) {
                                    r.next = 41;
                                    break;
                                }
                                return s.subscribed.userSubAudio = !0, t._info.userlist.set(i.toString(), s), r.next = 39, 
                                t._wsController.subscribe(i, n);

                              case 39:
                                r.next = 42;
                                break;

                              case 41:
                                t._info.userlist.set(i.toString(), s);

                              case 42:
                                if (!(s = t._info.userlist.get(i.toString())).subscribed.slaveAudio) {
                                    r.next = 48;
                                    break;
                                }
                                return r.next = 46, t._wsController.subscribe(i, "slaveAudio", 2);

                              case 46:
                                r.next = 50;
                                break;

                              case 48:
                                return r.next = 50, t._wsController.subscribe(i, "slaveAudio", 0);

                              case 50:
                                r.next = 55;
                                break;

                              case 52:
                                return t._info.userlist.set(i.toString(), s), r.next = 55, t._wsController.subscribe(i, n);

                              case 55:
                                return t.logger.log("NErtc::subscribe 订阅 " + i + " 的 " + n + "媒体的请求, 发送成功"), u = s.url, 
                                t.logger.log("user: ", s), "screenShare" === n && (u = s.screen_url), t.logger.log("NErtc::subscribe 订阅 " + s.uid + " 的 " + n + " 成功: " + u), 
                                r.abrupt("return", Promise.resolve({
                                    uid: f.isBigNumber(e) ? e.toString() : e,
                                    url: u
                                }));

                              case 63:
                                return r.prev = 63, r.t0 = r.catch(18), t.logger.error("NErtc::subscribe 订阅媒体: ", n, "失败: ", r.t0), 
                                r.abrupt("return", Promise.reject(r.t0));

                              case 67:
                              case "end":
                                return r.stop();
                            }
                        }, o, t, [ [ 18, 63 ] ]);
                    }))();
                },
                unsubscribe: function(e) {
                    var t = this, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                    return (0, o.default)(r.default.mark(function o() {
                        var i;
                        return r.default.wrap(function(r) {
                            for (;;) switch (r.prev = r.next) {
                              case 0:
                                if (t._status.isInTheRoom) {
                                    r.next = 5;
                                    break;
                                }
                                return t.logger.log("NErtc::unsubscribe 不正在房间中，请勿调用！"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "在join之前，不允许执行unpublish操作"
                                })));

                              case 5:
                                if ("audio" === n || "video" === n || "screenShare" === n) {
                                    r.next = 10;
                                    break;
                                }
                                return t.logger.log("NErtc::unsubscribe mediaType参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "unsubscribe接口mediaType参数错误"
                                })));

                              case 10:
                                if (e && t._info.userlist.get(e.toString())) {
                                    r.next = 13;
                                    break;
                                }
                                return t.logger.log("NErtc::unsubscribe " + e + " 不正在房间中，或者没有发布媒体"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: e + " 不正在房间中，或者没有发布媒体"
                                })));

                              case 13:
                                if ("string" == typeof e && (e = new f(e)), t.logger.log("NErtc::unsubscribe 停止订阅 " + e + " 的 " + n + " 媒体"), 
                                (i = t._info.userlist.get(e.toString())).subscribed[n] = !1, "slaveAudio" !== n) {
                                    r.next = 28;
                                    break;
                                }
                                if (t._info.userlist.set(e.toString(), i), i.subscribed.userSubAudio) {
                                    r.next = 24;
                                    break;
                                }
                                return r.next = 22, t._wsController.unsubscribe(e, "audio");

                              case 22:
                                r.next = 26;
                                break;

                              case 24:
                                return r.next = 26, t._wsController.unsubscribe(e, n, 0);

                              case 26:
                                r.next = 44;
                                break;

                              case 28:
                                if ("audio" !== n) {
                                    r.next = 41;
                                    break;
                                }
                                if (!i.subscribed.slaveAudio) {
                                    r.next = 35;
                                    break;
                                }
                                return t._info.userlist.set(e.toString(), i), r.next = 33, t._wsController.unsubscribe(e, "slaveAudio", 1);

                              case 33:
                                r.next = 39;
                                break;

                              case 35:
                                return i.subscribed.userSubAudio = !1, t._info.userlist.set(e.toString(), i), r.next = 39, 
                                t._wsController.unsubscribe(e, n);

                              case 39:
                                r.next = 44;
                                break;

                              case 41:
                                return t._info.userlist.set(e.toString(), i), r.next = 44, t._wsController.unsubscribe(e, n);

                              case 44:
                                t.apiEventReport("setFunction", {
                                    name: "unsubscribe",
                                    oper: e.toString(),
                                    value: "success"
                                });

                              case 45:
                              case "end":
                                return r.stop();
                            }
                        }, o, t);
                    }))();
                },
                mute: function() {
                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    return (0, o.default)(r.default.mark(function o() {
                        return r.default.wrap(function(r) {
                            for (;;) switch (r.prev = r.next) {
                              case 0:
                                if (e._status.isInTheRoom) {
                                    r.next = 5;
                                    break;
                                }
                                return e.logger.log("NErtc::mute 不正在房间中，请勿调用！"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "在join之前，不允许执行mute操作"
                                })));

                              case 5:
                                if ("audio" === t || "video" === t) {
                                    r.next = 8;
                                    break;
                                }
                                return e.logger.log("NErtc::mute mediaType参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "mute接口mediaType参数错误"
                                })));

                              case 8:
                                if (e.logger.log("NErtc::mute: ", t), r.prev = 9, !t) {
                                    r.next = 15;
                                    break;
                                }
                                return r.next = 13, e._wsController.mute(n, t);

                              case 13:
                                r.next = 19;
                                break;

                              case 15:
                                return r.next = 17, e._wsController.mute(n, "audio");

                              case 17:
                                return r.next = 19, e._wsController.mute(n, "video");

                              case 19:
                                return e.apiEventReport("setFunction", {
                                    name: "mute",
                                    oper: "1",
                                    value: "success"
                                }), r.abrupt("return");

                              case 23:
                                return r.prev = 23, r.t0 = r.catch(9), r.abrupt("return", Promise.reject(r.t0));

                              case 26:
                              case "end":
                                return r.stop();
                            }
                        }, o, e, [ [ 9, 23 ] ]);
                    }))();
                },
                unmute: function() {
                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    return (0, o.default)(r.default.mark(function o() {
                        return r.default.wrap(function(r) {
                            for (;;) switch (r.prev = r.next) {
                              case 0:
                                if (e._status.isInTheRoom) {
                                    r.next = 4;
                                    break;
                                }
                                e.logger.log("NErtc::unmute 不正在房间中，请勿调用！"), r.next = 7;
                                break;

                              case 4:
                                if ("audio" === t || "video" === t) {
                                    r.next = 7;
                                    break;
                                }
                                return e.logger.log("NErtc::unmute mediaType参数错误"), r.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "unmute接口mediaType参数错误"
                                })));

                              case 7:
                                if (e.logger.log("NErtc::unmute: ", t), r.prev = 8, !t) {
                                    r.next = 14;
                                    break;
                                }
                                return r.next = 12, e._wsController.unmute(n, t);

                              case 12:
                                r.next = 18;
                                break;

                              case 14:
                                return r.next = 16, e._wsController.unmute(n, "audio");

                              case 16:
                                return r.next = 18, e._wsController.unmute(n, "video");

                              case 18:
                                return e.apiEventReport("setFunction", {
                                    name: "unmute",
                                    oper: "1",
                                    value: "success"
                                }), r.abrupt("return");

                              case 22:
                                return r.prev = 22, r.t0 = r.catch(8), r.abrupt("return", Promise.reject(r.t0));

                              case 25:
                              case "end":
                                return r.stop();
                            }
                        }, o, e, [ [ 8, 22 ] ]);
                    }))();
                },
                dataReporter: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "push", t = arguments[1], n = arguments[2];
                    this.apiEventReport("setFunction", {
                        name: t,
                        oper: e,
                        value: JSON.stringify(n, null, " ")
                    });
                },
                apiEventReport: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "setFunction", t = arguments[1];
                    if (e) {
                        var n = new s.default({
                            channelInfo: Object.assign(this._info, this._status)
                        });
                        n[e](Object.assign({
                            uid: "" + this._info.uid,
                            cid: "" + this._info.cid,
                            time: Date.now()
                        }, t)), n.send(), n = null;
                    }
                },
                leave: function() {
                    return this._status.isInTheRoom ? (this.apiEventReport("setLogout", {
                        reason: 0
                    }), this._updateStatus({
                        isInTheRoom: !1
                    }), this._dataReporter.sendStatistics(), this._resetStatus(), this._wsController.leaveChannel()) : (this.logger.log("不在房间中，请勿重复离开"), 
                    Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                        reason: "重复离开房间"
                    })));
                },
                addTasks: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        var o, s, c, u, d, f, p;
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("增加互动直播推流任务, options: ", JSON.stringify(e)), o = e.rtmpTasks, s = void 0 === o ? [] : o, 
                                t._status.isInTheRoom) {
                                    n.next = 6;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "addTasks: 请先加入房间"
                                })));

                              case 6:
                                if ("audience" !== t._status.role) {
                                    n.next = 10;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "addTasks: 观众不允许进行直播推流操作"
                                })));

                              case 10:
                                if (s && Array.isArray(s) && s.length) {
                                    n.next = 13;
                                    break;
                                }
                                return t.logger.error("添加推流任务失败: 参数格式错误，rtmpTasks为空，或者该数组长度为空"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "addTasks: 接口参数错误"
                                })));

                              case 13:
                                c = l.miniG2.roomsTaskUrl, t.logger.log("缺省roomsTaskUrl: ", c), t._status.roomServer && (c = t._status.roomServer + "/", 
                                t.logger.warn("私有化配置roomsTaskUrl: ", c)), c = "" + c + t._info.cid + "/tasks", u = t._info.uid, 
                                d = 0;

                              case 19:
                                if (!(d < s.length)) {
                                    n.next = 43;
                                    break;
                                }
                                return s[d].hostUid = u - 0, s[d].version = 1, t.logger.log("rtmpTask: ", JSON.stringify(s[d])), 
                                f = s[d].layout, n.prev = 24, n.next = 27, i.default.post({
                                    version: 1,
                                    taskId: s[d].taskId + "",
                                    streamUrl: s[d].streamUrl,
                                    record: s[d].record,
                                    hostUid: s[d].hostUid,
                                    layout: f,
                                    config: s[d].config,
                                    extraInfo: s[d].extraInfo
                                }, {
                                    url: c
                                }, {
                                    "content-type": "application/json;charset=utf-8",
                                    Token: t._info.turnToken
                                });

                              case 27:
                                if (200 !== (p = n.sent).code) {
                                    n.next = 32;
                                    break;
                                }
                                t.logger.log("添加推流任务完成"), n.next = 34;
                                break;

                              case 32:
                                return t.logger.error("添加推流任务失败: ", p), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.addTasksFailed, {
                                    reason: "addTasks: " + (p.reason || p.errmsg)
                                })));

                              case 34:
                                n.next = 40;
                                break;

                              case 36:
                                return n.prev = 36, n.t0 = n.catch(24), t.logger.error("addTasks 发生错误: ", n.t0.name, n.t0.message, n.t0), 
                                n.abrupt("return", Promise.reject(a.CONSTANT_ERROR.addTasksFailed));

                              case 40:
                                d++, n.next = 19;
                                break;

                              case 43:
                              case "end":
                                return n.stop();
                            }
                        }, n, t, [ [ 24, 36 ] ]);
                    }))();
                },
                deleteTasks: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        var o, s, c, u, d;
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("删除互动直播推流任务, options: ", JSON.stringify(e)), o = e.taskIds, s = void 0 === o ? [] : o, 
                                t._status.isInTheRoom) {
                                    n.next = 6;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "deleteTasks: 请先加入房间"
                                })));

                              case 6:
                                if ("audience" !== t._status.role) {
                                    n.next = 10;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "deleteTasks: 观众不允许进行直播推流操作"
                                })));

                              case 10:
                                if (s && Array.isArray(s) && s.length) {
                                    n.next = 13;
                                    break;
                                }
                                return t.logger.error("deleteTasks: 参数格式错误，taskIds为空，或者该数组长度为空"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "deleteTasks: 接口参数错误"
                                })));

                              case 13:
                                c = l.miniG2.roomsTaskUrl, t.logger.log("缺省roomsTaskUrl: ", c), t._status.roomServer && (c = t._status.roomServer + "/", 
                                t.logger.warn("私有化配置roomsTaskUrl: ", c)), c = "" + c + t._info.cid + "/tasks/delete", 
                                u = 0;

                              case 18:
                                if (!(u < s.length)) {
                                    n.next = 39;
                                    break;
                                }
                                return t.logger.log("deleteTasks: ", s[u]), n.prev = 20, n.next = 23, i.default.post({
                                    taskId: s[u] + ""
                                }, {
                                    url: c
                                }, {
                                    "content-type": "application/json;charset=utf-8",
                                    Token: t._info.turnToken
                                });

                              case 23:
                                if (200 !== (d = n.sent).code) {
                                    n.next = 28;
                                    break;
                                }
                                t.logger.log("删除推流任务完成"), n.next = 30;
                                break;

                              case 28:
                                return t.logger.log("删除推流任务请求失败:", JSON.stringify(d)), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.deleteTasksFailed, {
                                    reason: "deleteTasks: " + (d.reason || d.errmsg)
                                })));

                              case 30:
                                n.next = 36;
                                break;

                              case 32:
                                return n.prev = 32, n.t0 = n.catch(20), t.logger.error("deleteTasks发生错误: d", n.t0.name, n.t0.message, n.t0), 
                                n.abrupt("return", Promise.reject(a.CONSTANT_ERROR.deleteTasksFailed));

                              case 36:
                                u++, n.next = 18;
                                break;

                              case 39:
                                return n.abrupt("return");

                              case 40:
                              case "end":
                                return n.stop();
                            }
                        }, n, t, [ [ 20, 32 ] ]);
                    }))();
                },
                updateTasks: function(e) {
                    var t = this;
                    return (0, o.default)(r.default.mark(function n() {
                        var o, s, c, u, d, f;
                        return r.default.wrap(function(n) {
                            for (;;) switch (n.prev = n.next) {
                              case 0:
                                if (t.logger.log("更新互动直播推流任务, options: ", JSON.stringify(e)), o = e.rtmpTasks, s = void 0 === o ? [] : o, 
                                t._status.isInTheRoom) {
                                    n.next = 6;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "updateTasks: 请先加入房间"
                                })));

                              case 6:
                                if ("audience" !== t._status.role) {
                                    n.next = 10;
                                    break;
                                }
                                return n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "updateTasks: 观众不允许进行直播推流操作"
                                })));

                              case 10:
                                if (s && Array.isArray(s) && s.length) {
                                    n.next = 13;
                                    break;
                                }
                                return t.logger.error("updateTasks: 参数格式错误，rtmpTasks为空，或者该数组长度为空"), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.invalidOperation, {
                                    reason: "updateTasks: 接口参数错误"
                                })));

                              case 13:
                                c = l.miniG2.roomsTaskUrl, t.logger.log("缺省roomsTaskUrl: ", c), t._status.roomServer && (c = t._status.roomServer + "/", 
                                t.logger.warn("私有化配置roomsTaskUrl: ", c)), c = "" + c + t._info.cid + "/task/update", 
                                t._info.uid, u = 0;

                              case 19:
                                if (!(u < s.length)) {
                                    n.next = 41;
                                    break;
                                }
                                return d = s[u].layout, t.logger.log("rtmpTask: ", JSON.stringify(s[u])), n.prev = 22, 
                                n.next = 25, i.default.post({
                                    version: 1,
                                    taskId: s[u].taskId + "",
                                    streamUrl: s[u].streamUrl,
                                    record: s[u].record,
                                    hostUid: s[u].hostUid,
                                    layout: d,
                                    config: s[u].config,
                                    extraInfo: s[u].extraInfo
                                }, {
                                    url: c
                                }, {
                                    "content-type": "application/json;charset=utf-8",
                                    Token: t._info.turnToken
                                });

                              case 25:
                                if (200 !== (f = n.sent).code) {
                                    n.next = 30;
                                    break;
                                }
                                t.logger.log("更新推流任务完成"), n.next = 32;
                                break;

                              case 30:
                                return t.logger.error("更新推流任务失败：", JSON.stringify(f)), n.abrupt("return", Promise.reject(Object.assign(a.CONSTANT_ERROR.updateTasksFailed, {
                                    reason: "updateTasks: " + (f.reason || f.errmsg)
                                })));

                              case 32:
                                n.next = 38;
                                break;

                              case 34:
                                return n.prev = 34, n.t0 = n.catch(22), t.logger.error("updateTasks 发生错误: ", n.t0.name, n.t0.message, n.t0), 
                                n.abrupt("return", Promise.reject(a.CONSTANT_ERROR.updateTasksFailed));

                              case 38:
                                u++, n.next = 19;
                                break;

                              case 41:
                              case "end":
                                return n.stop();
                            }
                        }, n, t, [ [ 22, 34 ] ]);
                    }))();
                },
                switchMode: function(e) {
                    return i.default.isNumber(e) ? (this._dataReporter.updateStatistics({
                        miniapp_mode: e
                    }), this.logger.log("设置推流模式: ", e), this._wsController.switchMode(e)) : Promise.reject("switchMode: 入参类型必须为Number");
                },
                getUploadUserList: function() {
                    return this._wsController._websocket.getUploadUserList();
                },
                _generateJoinParam: function(e) {
                    var t = {}, n = this._status.createChannelResponse;
                    return t.cid = parseInt(n.cid), t.uid = n.uid, t.token = n.token, t.mode = parseInt(e.mode), 
                    t.scene = n.scene, t.liveEnable = e.liveEnable ? a.LIVE_ENABLE.LIVE_ENABLE_OPEN : a.LIVE_ENABLE.LIVE_ENABLE_CLOSE, 
                    t.role = e.role ? a.ROLE_FOR_MEETING.ROLE_AUDIENCE : a.ROLE_FOR_MEETING.ROLE_HOST, 
                    t.webrtc = 1, t.address = e.address || "wss://" + n.ips.wechatapparray[0], t.edgeAddr = e.edgeAddr || n.ips.turnaddrs[0][0], 
                    t.recordType = e.recordType ? e.recordType : a.RECORD_TYPE.RECORD_TYPE_MIX_SINGLE, 
                    t.recordAudio = e.recordAudio ? a.RECORD_AUDIO.RECORD_AUDIO_OPEN : a.RECORD_AUDIO.RECORD_AUDIO_CLOSE, 
                    t.recordVideo = e.recordVideo ? a.RECORD_VIDEO.RECORD_VIDEO_OPEN : a.RECORD_VIDEO.RECORD_VIDEO_CLOSE, 
                    t.isHostSpeaker = e.isHostSpeaker ? 1 : 0, this.logger.log("NErtc::joinChannel", t), 
                    t;
                },
                _getLink: function() {
                    return this._wsController._websocket;
                }
            };
            t.default = p, e.exports = t.default;
        }, function(e, t, n) {
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = a(n(4)), o = a(n(5)), i = a(n(65));
            function a(e) {
                return e && e.__esModule ? e : {
                    default: e
                };
            }
            var s = n(44).version, c = function() {
                function e(t) {
                    (0, r.default)(this, e), this.channelInfo = t.channelInfo || {}, this.cid = "" + this.channelInfo.cid, 
                    this.uid = "" + this.channelInfo.uid;
                    var n = this.channelInfo.startSessionTime || Date.now();
                    this.time = this.channelInfo.clientNtpTime - this.channelInfo.T4, this.common = {
                        ver: "2.0",
                        sdk_type: "nrtc2",
                        session_id: (0, i.default)(this.cid + ":" + this.uid + ":" + n),
                        app_key: this.channelInfo.appkey || ""
                    }, this.platform = "mini", this.model = this.channelInfo.runtimeEnvironment || "mini", 
                    this.event = [], this.api = null, this.heartbeat = null;
                }
                return (0, o.default)(e, [ {
                    key: "addEvent",
                    value: function(e) {
                        return -1 == this.event.indexOf(e) && this.event.push(e), this;
                    }
                }, {
                    key: "updateCommon",
                    value: function(e) {
                        return Object.assign(this.common, e), this;
                    }
                }, {
                    key: "setEvent",
                    value: function(e, t) {
                        this.addEvent(e), this[e] = t;
                    }
                }, {
                    key: "setHeartbeat",
                    value: function(e) {
                        var t = this, n = e.uid, r = e.cid, o = e.sys, i = e.tx, a = e.rx;
                        this.heartbeat = {
                            uid: n,
                            cid: r,
                            sys: o,
                            tx: i,
                            rx: a
                        }, this.api = this.adapterRef.apiEvents.length ? this.adapterRef.apiEvents : this.adapterRef.apiEvent;
                        var s = {
                            apiEvent: []
                        };
                        for (var c in this.api) this.api[c].length && this.api[c].forEach(function(e) {
                            e.uid = t.uid - 0, e.cid = t.cid - 0;
                        }), s.apiEvent = s.apiEvent.concat(this.api[c]);
                        return this.api = null, this.api = s.apiEvent.length ? s : null, this.adapterRef.apiEvents = {}, 
                        this.adapterRef.apiEvent = {}, this;
                    }
                }, {
                    key: "setLogin",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.sdk_ver, o = void 0 === r ? s : r, i = (e.platform, 
                        e.app_key), a = void 0 === i ? this.common.app_key : i, c = e.meeting_mode, u = void 0 === c ? 1 : c, l = e.a_record, d = e.v_record, f = e.record_type, p = e.host_speaker, m = e.server_ip, g = e.result, h = e.time, y = e.signal_time_elapsed, v = e.time_elapsed;
                        this.addEvent("login"), h = this.time + h, this.login = {
                            uid: t,
                            cid: n,
                            sdk_ver: o,
                            platform: this.platform,
                            model: this.model,
                            app_key: a,
                            meeting_mode: u,
                            a_record: l,
                            v_record: d,
                            record_type: f,
                            host_speaker: p,
                            server_ip: m,
                            result: g,
                            time: h,
                            signal_time_elapsed: y,
                            time_elapsed: v
                        };
                    }
                }, {
                    key: "setRelogin",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.meeting_mode, o = void 0 === r ? 1 : r, i = e.a_record, a = e.v_record, s = e.record_type, c = e.host_speaker, u = e.server_ip, l = e.result, d = e.time, f = e.reason;
                        this.addEvent("relogin"), d = this.time + d, this.relogin = {
                            uid: t,
                            cid: n,
                            platform: this.platform,
                            meeting_mode: o,
                            a_record: i,
                            v_record: a,
                            record_type: s,
                            host_speaker: c,
                            server_ip: u,
                            result: l,
                            time: d,
                            reason: f
                        };
                    }
                }, {
                    key: "setLogout",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.time, o = e.reason;
                        this.addEvent("logout"), r = this.time + r, this.logout = {
                            uid: t,
                            cid: n,
                            time: r,
                            reason: o
                        };
                    }
                }, {
                    key: "deviceAbnormal",
                    value: function(e) {
                        var t = e.uid, n = e.cid;
                        this.addEvent("deviceAbnormal"), time = this.time + time, this.deviceAbnormal = {
                            uid: t,
                            cid: n
                        };
                    }
                }, {
                    key: "setDisconnect",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.reason, o = e.time;
                        this.addEvent("disconnect"), o = this.time + o, this.disconnect = {
                            uid: t,
                            cid: n,
                            reason: r,
                            time: o
                        };
                    }
                }, {
                    key: "setRecvFirstFrame",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.pull_uid, o = e.time, i = e.media_type;
                        this.addEvent("recvFirstFrame"), o = this.time + o, this.recvFirstFrame = {
                            uid: t,
                            cid: n,
                            pull_uid: r,
                            time: o,
                            media_type: i
                        };
                    }
                }, {
                    key: "setSendFirstPackage",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.time, o = e.media_type;
                        this.addEvent("firstPacketSent"), r = this.time + r, this.firstPacketSent = {
                            uid: t,
                            cid: n,
                            time: r,
                            media_type: o
                        };
                    }
                }, {
                    key: "setRecvFirstPackage",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.pull_uid, o = e.time, i = e.media_type;
                        this.addEvent("recvFirstPackage"), o = this.time + o, this.recvFirstPackage = {
                            uid: t,
                            cid: n,
                            pull_uid: r,
                            time: o,
                            media_type: i
                        };
                    }
                }, {
                    key: "setFunction",
                    value: function(e) {
                        var t = e.uid, n = e.cid, r = e.oper, o = e.value, i = e.time, a = e.name;
                        this.addEvent("function"), i = this.time + i, this.function = {
                            uid: t,
                            cid: n,
                            oper: r,
                            value: o,
                            time: i,
                            name: a
                        };
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.event = [], this.api = null, this.heartbeat = null;
                    }
                }, {
                    key: "send",
                    value: function(e) {
                        var t = this, n = {
                            common: this.common
                        };
                        if (e || (e = this.event || null), this.heartbeat && (n.heartbeat = this.heartbeat, 
                        this.api && (n.event = this.api)), e) e.length && (n.event = e.reduce(function(e, n) {
                            return e[n] = t[n], e;
                        }, {})); else if (!this.heartbeat) return this;
                        var r = "https://statistic.live.126.net/statics/report/common/form";
                        this.channelInfo.statisticsServer && (r = this.channelInfo.statisticsServer);
                        var o = this;
                        if ("mini" === this.model || "wechat" === this.model) wx.request({
                            method: "post",
                            url: r,
                            data: n,
                            header: {
                                "content-type": "application/json",
                                sdktype: this.common.sdk_type,
                                appkey: this.common.app_key,
                                platform: this.platform,
                                sdkver: s
                            },
                            complete: function() {
                                "function" == typeof o.reset && o.reset();
                            }
                        }); else {
                            if ("qq" !== this.model) throw Error("FunctionReport 不支持的平台");
                            qq.request({
                                method: "post",
                                url: r,
                                data: n,
                                header: {
                                    "content-type": "application/json",
                                    sdktype: this.common.sdk_type,
                                    appkey: this.common.app_key,
                                    platform: this.platform,
                                    sdkver: s
                                },
                                complete: function() {
                                    "function" == typeof o.reset && o.reset();
                                }
                            });
                        }
                        return this;
                    }
                } ]), e;
            }();
            t.default = c, e.exports = t.default;
        }, function(e, t) {
            var n, r;
            n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = {
                rotl: function(e, t) {
                    return e << t | e >>> 32 - t;
                },
                rotr: function(e, t) {
                    return e << 32 - t | e >>> t;
                },
                endian: function(e) {
                    if (e.constructor == Number) return 16711935 & r.rotl(e, 8) | 4278255360 & r.rotl(e, 24);
                    for (var t = 0; t < e.length; t++) e[t] = r.endian(e[t]);
                    return e;
                },
                randomBytes: function(e) {
                    for (var t = []; e > 0; e--) t.push(Math.floor(256 * Math.random()));
                    return t;
                },
                bytesToWords: function(e) {
                    for (var t = [], n = 0, r = 0; n < e.length; n++, r += 8) t[r >>> 5] |= e[n] << 24 - r % 32;
                    return t;
                },
                wordsToBytes: function(e) {
                    for (var t = [], n = 0; n < 32 * e.length; n += 8) t.push(e[n >>> 5] >>> 24 - n % 32 & 255);
                    return t;
                },
                bytesToHex: function(e) {
                    for (var t = [], n = 0; n < e.length; n++) t.push((e[n] >>> 4).toString(16)), t.push((15 & e[n]).toString(16));
                    return t.join("");
                },
                hexToBytes: function(e) {
                    for (var t = [], n = 0; n < e.length; n += 2) t.push(parseInt(e.substr(n, 2), 16));
                    return t;
                },
                bytesToBase64: function(e) {
                    for (var t = [], r = 0; r < e.length; r += 3) for (var o = e[r] << 16 | e[r + 1] << 8 | e[r + 2], i = 0; i < 4; i++) 8 * r + 6 * i <= 8 * e.length ? t.push(n.charAt(o >>> 6 * (3 - i) & 63)) : t.push("=");
                    return t.join("");
                },
                base64ToBytes: function(e) {
                    e = e.replace(/[^A-Z0-9+\/]/gi, "");
                    for (var t = [], r = 0, o = 0; r < e.length; o = ++r % 4) 0 != o && t.push((n.indexOf(e.charAt(r - 1)) & Math.pow(2, -2 * o + 8) - 1) << 2 * o | n.indexOf(e.charAt(r)) >>> 6 - 2 * o);
                    return t;
                }
            }, e.exports = r;
        }, function(e, t) {
            function n(e) {
                return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);
            }
            e.exports = function(e) {
                return null != e && (n(e) || function(e) {
                    return "function" == typeof e.readFloatLE && "function" == typeof e.slice && n(e.slice(0, 0));
                }(e) || !!e._isBuffer);
            };
        } ]);
    },
    f4d6: function(e, t, n) {
        var r = n("ffd6");
        e.exports = function(e) {
            if ("string" == typeof e || r(e)) return e;
            var t = e + "";
            return "0" == t && 1 / e == -1 / 0 ? "-0" : t;
        };
    },
    f608: function(e, t, n) {
        var r = n("6747"), o = n("ffd6"), i = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, a = /^\w*$/;
        e.exports = function(e, t) {
            if (r(e)) return !1;
            var n = _typeof3(e);
            return !("number" != n && "symbol" != n && "boolean" != n && null != e && !o(e)) || a.test(e) || !i.test(e) || null != t && e in Object(t);
        };
    },
    f6a7: function(e, t, n) {
        function r(e) {
            switch (_typeof3(e)) {
              case "undefined":
                return !0;

              case "string":
                if (0 == e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g, "").length) return !0;
                break;

              case "boolean":
                if (!e) return !0;
                break;

              case "number":
                if (0 === e || isNaN(e)) return !0;
                break;

              case "object":
                if (null === e || 0 === e.length) return !0;
                for (var t in e) return !1;
                return !0;
            }
            return !1;
        }
        t.a = {
            email: function(e) {
                return /[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(e);
            },
            mobile: function(e) {
                return /^1[3-9]\d{9}$/.test(e);
            },
            url: function(e) {
                return /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(e);
            },
            date: function(e) {
                return !/Invalid|NaN/.test(new Date(e).toString());
            },
            dateISO: function(e) {
                return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e);
            },
            number: function(e) {
                return /^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e);
            },
            digits: function(e) {
                return /^\d+$/.test(e);
            },
            idCard: function(e) {
                return /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e);
            },
            carNo: function(e) {
                return 7 === e.length ? /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/.test(e) : 8 === e.length && /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(e);
            },
            amount: function(e) {
                return /^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e);
            },
            chinese: function(e) {
                return /^[\u4e00-\u9fa5]+$/gi.test(e);
            },
            letter: function(e) {
                return /^[a-zA-Z]*$/.test(e);
            },
            enOrNum: function(e) {
                return /^[0-9a-zA-Z]*$/g.test(e);
            },
            contains: function(e, t) {
                return e.indexOf(t) >= 0;
            },
            range: function(e, t) {
                return e >= t[0] && e <= t[1];
            },
            rangeLength: function(e, t) {
                return e.length >= t[0] && e.length <= t[1];
            },
            empty: r,
            isEmpty: r,
            jsonString: function(e) {
                if ("string" == typeof e) try {
                    var t = JSON.parse(e);
                    return !("object" != _typeof3(t) || !t);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    return !1;
                }
                return !1;
            },
            landline: function(e) {
                return /^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e);
            },
            object: function(e) {
                return "[object Object]" === Object.prototype.toString.call(e);
            },
            array: function(e) {
                return "function" == typeof Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e);
            },
            code: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 6;
                return new RegExp("^\\d{".concat(t, "}$")).test(e);
            }
        };
    },
    f753: function(e, t, n) {
        (function(e) {
            function n() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 ? arguments[1] : void 0;
                try {
                    e.setStorageSync(t, n);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log(e);
                }
            }
            function r() {
                var t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                try {
                    t = e.getStorageSync(n);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log(e);
                }
                return t;
            }
            function o(t) {
                var n = !1;
                try {
                    n = e.getStorageInfoSync().keys.includes(t);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log(e);
                }
                return n;
            }
            function i() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                try {
                    e.removeStorageSync(t);
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log(e);
                }
            }
            function a() {
                try {
                    e.clearStorageSync();
                } catch (e) {
                    e = VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);
                    console.log(e);
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.clear = a, t.default = void 0, t.get = r, t.has = o, t.remove = i, t.set = n;
            var s = {
                set: n,
                get: r,
                has: o,
                remove: i,
                clear: a
            };
            t.default = s;
        }).call(this, n("543d").default);
    },
    f809: function(e, t, n) {
        t.a = function(e, t) {
            if (e >= 0 && t > 0 && t >= e) {
                var n = t - e + 1;
                return Math.floor(Math.random() * n + e);
            }
            return 0;
        };
    },
    f83f: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getAccessToken = u, t.getAccountInfo = s, t.getAuthorToken = c, 
        t.getMedicalGuide = d, t.toLogin = l;
        var r = n("6c87"), o = a(n("211c")), i = a(n("e884"));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function s() {
            var e = i.default.state.env.VUE_APP_API_URL + "client/v1/account/getInfo";
            return o.default.post(e);
        }
        function c(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/auth/login";
            return o.default.post(t, e);
        }
        function u(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/auth/login";
            return o.default.post(t, e, {
                header: {
                    "access-token": r.cache.get("authorToken")
                }
            });
        }
        function l(e) {
            var t = i.default.state.env.VUE_APP_API_URL + "client/auth/login";
            return o.default.post(t, e);
        }
        function d() {
            var e = i.default.state.env.VUE_APP_API_ZYY_URL + "beichen/patient/getMedicalGuide";
            return o.default.post(e);
        }
        var f = {
            getAccountInfo: s,
            getAuthorToken: c,
            getAccessToken: u,
            toLogin: l,
            getMedicalGuide: d
        };
        t.default = f;
    },
    f98f: function(e, t, n) {
        (function(e) {
            t.a = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1500;
                e.showToast({
                    title: t,
                    icon: "none",
                    duration: n
                });
            };
        }).call(this, n("543d").default);
    },
    f9ce: function(e, t, n) {
        var r = n("ef5d"), o = n("e3f8"), i = n("f608"), a = n("f4d6");
        e.exports = function(e) {
            return i(e) ? r(a(e)) : o(e);
        };
    },
    fba5: function(e, t, n) {
        var r = n("cb5a");
        e.exports = function(e) {
            return r(this.__data__, e) > -1;
        };
    },
    fd7f: function(e, t, n) {
        function r(e) {
            for (var t = this.$parent; t; ) {
                if (!t.$options || t.$options.name === e) return t;
                t = t.$parent;
            }
            return !1;
        }
        n.d(t, "a", function() {
            return r;
        });
    },
    feb1: function(e, t, n) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0, t.getBodySymptomDetail = s, t.getBodySymptomLists = u, t.getDetail = a, 
        t.getHumenList = c;
        var r = i(n("211c")), o = i(n("e884"));
        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            };
        }
        function a(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Crowd/detail";
            return r.default.post(t, e);
        }
        function s(e, t) {
            var n = o.default.state.env.VUE_APP_API_URL + t;
            return r.default.post(n, e);
        }
        function c() {
            var e = o.default.state.env.VUE_APP_API_URL + "client/v1/Crowd/lists";
            return r.default.post(e);
        }
        function u(e) {
            var t = o.default.state.env.VUE_APP_API_URL + "client/v1/Guide/getBodySymptomLists";
            return r.default.post(t, e);
        }
        var l = {
            getDetail: a,
            getHumenList: c,
            getBodySymptomLists: u,
            getBodySymptomDetail: s
        };
        t.default = l;
    },
    ffd6: function(e, t, n) {
        var r = n("3729"), o = n("1310");
        e.exports = function(e) {
            return "symbol" == _typeof3(e) || o(e) && "[object Symbol]" == r(e);
        };
    }
} ]);