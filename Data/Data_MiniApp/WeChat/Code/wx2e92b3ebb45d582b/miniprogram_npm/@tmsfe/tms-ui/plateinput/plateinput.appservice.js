$gwx_XC_45=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_45 || [];
function gz$gwx_XC_45_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_45_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'wrap '],[[7],[3,'skin']]])
Z([3,'plate'])
Z([3,'plate-input-fields'])
Z([[7],[3,'fields']])
Z([3,'index'])
Z([3,'onFieldTap'])
Z([a,[3,'item '],[[2,'?:'],[[2,'&&'],[[7],[3,'showKeyboard']],[[2,'==='],[[7],[3,'activeField']],[[7],[3,'index']]]],[1,'focus'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'item']],[1,'has-item'],[1,'default-item']]])
Z([[7],[3,'index']])
Z([3,''])
Z([[7],[3,'item']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'index']],[1,0]],[[2,'!'],[[7],[3,'item']]]])
Z([[2,'==='],[[7],[3,'skin']],[1,'simple']])
Z([[2,'&&'],[[2,'==='],[[7],[3,'index']],[[2,'-'],[[6],[[7],[3,'fields']],[3,'length']],[1,1]]],[[2,'!'],[[7],[3,'item']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'==='],[[7],[3,'skin']],[1,'simple']],[[2,'<='],[[7],[3,'activeField']],[1,0]]],[[2,'!'],[[7],[3,'hasSecondKey']]]])
Z([3,'lineIndex'])
Z([3,'line'])
Z([[7],[3,'keyboard']])
Z(z[14])
Z(z[15])
Z([[2,'==='],[[7],[3,'lineIndex']],[[2,'-'],[[6],[[7],[3,'keyboard']],[3,'length']],[1,1]]])
Z(z[19])
Z([[7],[3,'showKeyboard']])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_45_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_45_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_45=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_45=true;
var x=['./miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_45_1()
var cHM=_n('view')
_rz(z,cHM,'class',0,e,s,gg)
var oJM=_mz(z,'view',['class',1,'id',1],[],e,s,gg)
var oLM=_v()
_(oJM,oLM)
var lMM=function(tOM,aNM,ePM,gg){
var oRM=_mz(z,'view',['catchtap',5,'class',1,'data-index',2,'data-value',3],[],tOM,aNM,gg)
var xSM=_v()
_(oRM,xSM)
if(_oz(z,9,tOM,aNM,gg)){xSM.wxVkey=1
}
var oTM=_v()
_(oRM,oTM)
if(_oz(z,10,tOM,aNM,gg)){oTM.wxVkey=1
var cVM=_v()
_(oTM,cVM)
if(_oz(z,11,tOM,aNM,gg)){cVM.wxVkey=1
}
cVM.wxXCkey=1
}
var fUM=_v()
_(oRM,fUM)
if(_oz(z,12,tOM,aNM,gg)){fUM.wxVkey=1
}
xSM.wxXCkey=1
oTM.wxXCkey=1
fUM.wxXCkey=1
_(ePM,oRM)
return ePM
}
oLM.wxXCkey=2
_2z(z,3,lMM,e,s,gg,oLM,'item','index','index')
var cKM=_v()
_(oJM,cKM)
if(_oz(z,13,e,s,gg)){cKM.wxVkey=1
}
cKM.wxXCkey=1
_(cHM,oJM)
var hWM=_v()
_(cHM,hWM)
var oXM=function(oZM,cYM,l1M,gg){
var t3M=_n('view')
_rz(z,t3M,'class',18,oZM,cYM,gg)
var e4M=_v()
_(t3M,e4M)
if(_oz(z,19,oZM,cYM,gg)){e4M.wxVkey=1
}
var b5M=_v()
_(t3M,b5M)
if(_oz(z,20,oZM,cYM,gg)){b5M.wxVkey=1
}
e4M.wxXCkey=1
b5M.wxXCkey=1
_(l1M,t3M)
return l1M
}
hWM.wxXCkey=2
_2z(z,16,oXM,e,s,gg,hWM,'line','lineIndex','lineIndex')
var hIM=_v()
_(cHM,hIM)
if(_oz(z,21,e,s,gg)){hIM.wxVkey=1
}
hIM.wxXCkey=1
_(r,cHM)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_45";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_45();	if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.wxml'] = [$gwx_XC_45, './miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.wxml'];else __wxAppCode__['miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.wxml'] = $gwx_XC_45( './miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.wxml' );
	;__wxRoute = "miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput";__wxRouteBegin = true;__wxAppCurrentFile__="miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.js";define("miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t=require("../../../../@babel/runtime/helpers/slicedToArray"),r=(e=require("../../../../@babel/runtime/regenerator"))&&e.__esModule?e:{default:e},a=require("../../../../@babel/runtime/helpers/asyncToGenerator"),n=require("../../../../@babel/runtime/helpers/toConsumableArray");var i={timer:null,fieldsNum:8,keyboards:{letter:[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],province:[["京","津","渝","沪","冀","晋","辽","吉","黑","苏"],["浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼"],["川","贵","云","陕","甘","青","蒙","桂","宁","新"],["藏","使","领","警","学","港","澳"]]}};Component({properties:{skin:{type:String,value:""},plate:{type:String,value:"",observer:function(e){var t=this;if(e!==this.data.fields.join("")){var r,a=e.replace("·","").split("").slice(0,8);r=a.length<i.fieldsNum?[].concat(n(a),n(new Array(i.fieldsNum-a.length))):a;var s=0===a.length?"province":"letter",o=a.length<i.fieldsNum-1;this.setData({hasSecondKey:!!r[1],fields:r,keyboardType:s,activeField:o?a.length:-1,keyboard:i.keyboards[s]}),this.triggerEvent("keyboard-change",{showKeyboard:o}),o?i.timer=setTimeout((function(){t.setData({showKeyboard:o}),t.adjustFieldsPosition()}),1e3):(clearTimeout(i.timer),this.setData({showKeyboard:o}))}}}},ready:function(){var e=this;setTimeout((function(){null===e.data.activeField&&(e.setData({showKeyboard:!0,activeField:0}),e.adjustFieldsPosition())}),1e3)},data:{fields:new Array(i.fieldsNum),activeField:null,keyboard:i.keyboards.province,showKeyboard:!1,keyboardType:"province",disabledKeys:[]},methods:{asyncSetData:function(e){var t=this;return a(r.default.mark((function a(){return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new Promise((function(r){return t.setData(e,r)}));case 2:case"end":return r.stop()}}),a)})))()},adjustFieldsPosition:function(){var e=this;return a(r.default.mark((function a(){var n,i,s,o,c;return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=e.createSelectorQuery()).select("#plate-input-fields").boundingClientRect(),n.selectViewport().scrollOffset(),r.next=5,new Promise((function(e){return n.exec(e)}));case 5:i=r.sent,s=t(i,2),o=s[0].top,c=s[1].scrollTop,wx.pageScrollTo({scrollTop:c+o-80});case 10:case"end":return r.stop()}}),a)})))()},onFieldTap:function(e){var t=e.currentTarget.dataset.index,r=0===t?"province":"letter";this.triggerEvent("keyboard-change",{showKeyboard:!0});var a=this.data.fields,n=a.filter((function(e,t){return e&&0!==t})),s=t;"simple"!==this.data.skin||0===t||a[t]||(s=n.length+1),this.setData({activeField:s,showKeyboard:!0,keyboard:i.keyboards[r],keyboardType:r}),this.adjustFieldsPosition()},closeKeyBoard:function(){var e=this;return a(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.triggerEvent("keyboard-change",{showKeyboard:!1}),t.next=3,e.asyncSetData({showKeyboard:!1,activeField:-1});case 3:e.dispatchPlate();case 4:case"end":return t.stop()}}),t)})))()},onKeyTap:function(e){var t=this;return a(r.default.mark((function a(){var n,s,o,c,d,u,l,f;return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.currentTarget.dataset,s=n.key,o=n.disabled,c=t.data,d=c.fields,u=c.activeField,l=c.keyboardType,!o){r.next=4;break}return r.abrupt("return");case 4:if("type"!==s){r.next=9;break}return f="province"===t.data.keyboardType?"letter":"province",r.next=8,t.asyncSetData({keyboardType:f,keyboard:i.keyboards[f]});case 8:return r.abrupt("return");case 9:if("backspace"!==s){r.next=12;break}return t.backSpace(d,u,l),r.abrupt("return");case 12:t.addField(s,d,u);case 13:case"end":return r.stop()}}),a)})))()},backSpace:function(e,t,s){var o=this;return a(r.default.mark((function a(){var c,d,u;return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=1,!(u=n(e))[t]){r.next=8;break}u[t]="",c=t,d=s,r.next=14;break;case 8:if("simple"!==o.data.skin||1!==t){r.next=12;break}return r.abrupt("return");case 12:u[c=t<=0?0:t-1]="";case 14:return"simple"===o.data.skin&&(u=o.subFieldsList(u))[t]&&(c=1===t?1:t-1),d=0===c?"province":"letter",r.next=18,o.asyncSetData({hasSecondKey:!!u[1],fields:u,activeField:c,keyboardType:d,keyboard:i.keyboards[d]});case 18:case"end":return r.stop()}}),a)})))()},addField:function(e,t,s){var o=this;return a(r.default.mark((function a(){var c,d;return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n(t),"simple"===o.data.skin&&c[s]&&0!==s?(c.splice(s+1,0,e),d=s+1):(c[s]=e,d=s>=i.fieldsNum-1?s:s+1),"simple"===o.data.skin&&(c=o.subFieldsList(c)),r.next=5,o.asyncSetData({hasSecondKey:!!c[1],fields:c,activeField:d,keyboardType:"letter",keyboard:i.keyboards.letter});case 5:case"end":return r.stop()}}),a)})))()},subFieldsList:function(e){var t=e.slice(1).filter((function(e){return!!e})).slice(0,7),r=[e[0]].concat(n(t));return t.length<i.fieldsNum-1&&(r=[e[0]].concat(n(t),n(new Array(i.fieldsNum-1-t.length)))),r},dispatchPlate:function(){var e=n(this.data.fields);this.triggerEvent("plate-change",{prefix:e.shift()||"",number:e.join("")})}}});
},{isPage:false,isComponent:true,currentFile:'miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.js'});require("miniprogram_npm/@tmsfe/tms-ui/plateinput/plateinput.js");