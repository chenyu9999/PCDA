$gwx_XC_81=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_81 || [];
function gz$gwx_XC_81_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_81_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[4],[[5],[[5],[[5],[[5],[1,'indexPage']],[[2,'&&'],[[7],[3,'showThemeSkin']],[1,'themeSkin']]],[[2,'&&'],[[7],[3,'IS_WX_MINI']],[1,'br-28']]],[[2,'&&'],[[7],[3,'IS_H5']],[1,'br-28']]]])
Z([[7],[3,'pageStyle']])
Z([3,'__l'])
Z([3,'vue-ref'])
Z([3,'hNavBar'])
Z([1,false])
Z([[7],[3,'navScrollTop']])
Z([3,'8dd740cc-1'])
Z([[4],[[5],[1,'default']]])
Z([1,true])
Z(z[2])
Z([3,'Swiper'])
Z([3,'首页'])
Z([[2,'&&'],[[7],[3,'isOnShow']],[[7],[3,'bannerHide']]])
Z([3,'8dd740cc-2'])
Z(z[2])
Z([[7],[3,'isThemeGray']])
Z([[7],[3,'showThemeSkin']])
Z([3,'8dd740cc-3'])
Z([[7],[3,'isShowChannelsLiving']])
Z(z[2])
Z(z[16])
Z([[7],[3,'liveContentInfo']])
Z(z[17])
Z([3,'8dd740cc-4'])
Z([[7],[3,'isShowChannelsLiveNotice']])
Z(z[2])
Z(z[16])
Z(z[22])
Z(z[17])
Z([3,'8dd740cc-5'])
Z([[6],[[7],[3,'homeHotArticle']],[3,'length']])
Z(z[2])
Z(z[3])
Z([3,'hotInfomation'])
Z([3,'HotInfomation'])
Z(z[16])
Z([3,'8dd740cc-6'])
Z(z[2])
Z([3,'hot-recommends'])
Z([[7],[3,'homeHotProducts']])
Z([3,'8dd740cc-7'])
Z([[7],[3,'addTop']])
Z(z[2])
Z([[7],[3,'mainMounted']])
Z([[7],[3,'navBarHeight']])
Z([[7],[3,'pageScrollTop']])
Z([3,'8dd740cc-8'])
Z(z[2])
Z([3,'__e'])
Z(z[49])
Z([[7],[3,'RightFloatBoxBottom']])
Z(z[3])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^openShopCart']],[[4],[[5],[[4],[[5],[1,'e0']]]]]]]],[[4],[[5],[[5],[1,'^showImage']],[[4],[[5],[[4],[[5],[1,'handleShowImg']]]]]]]]])
Z([3,'touchFloatBox'])
Z(z[12])
Z([[7],[3,'hideFloatContact']])
Z(z[16])
Z(z[9])
Z([3,'8dd740cc-9'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'userLogined']]],[[7],[3,'showLoginTip']]])
Z(z[2])
Z(z[49])
Z([[4],[[5],[[4],[[5],[[5],[1,'^login']],[[4],[[5],[[4],[[5],[1,'toLogin']]]]]]]]])
Z(z[16])
Z([3,'8dd740cc-10'])
Z([[2,'!'],[[7],[3,'loading']]])
Z(z[2])
Z(z[49])
Z([[4],[[5],[[4],[[5],[[5],[1,'^bigOrder']],[[4],[[5],[[4],[[5],[1,'orderlookBigOrder']]]]]]]]])
Z(z[56])
Z(z[16])
Z([3,'8dd740cc-11'])
Z(z[2])
Z(z[49])
Z([[4],[[5],[[4],[[5],[[5],[1,'^input']],[[4],[[5],[[4],[[5],[[5],[1,'__set_model']],[[4],[[5],[[5],[[5],[[5],[1,'']],[1,'shopCartPickerVisible']],[1,'$event']],[[4],[[5]]]]]]]]]]]]])
Z([3,'home'])
Z([[7],[3,'shopCartPickerVisible']])
Z([3,'8dd740cc-12'])
Z(z[2])
Z(z[49])
Z(z[49])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^updateShow']],[[4],[[5],[[4],[[5],[[5],[[5],[1,'__set_sync']],[[4],[[5],[[5],[[5],[1,'$0']],[1,'protocolPopVisible']],[1,'$event']]]],[[4],[[5],[1,'']]]]]]]]]],[[4],[[5],[[5],[1,'^confirm']],[[4],[[5],[[4],[[5],[1,'handleAgreeProtocol']]]]]]]]])
Z([[7],[3,'updateProtocols']])
Z([[7],[3,'protocolPopVisible']])
Z([3,'8dd740cc-13'])
Z(z[2])
Z(z[49])
Z(z[49])
Z([[6],[[7],[3,'normalDialog']],[3,'confirmText']])
Z([[6],[[7],[3,'normalDialog']],[3,'content']])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^confirm']],[[4],[[5],[[4],[[5],[1,'callPhone']]]]]]]],[[4],[[5],[[5],[1,'^input']],[[4],[[5],[[4],[[5],[[5],[[5],[1,'__set_model']],[[4],[[5],[[5],[[5],[[5],[1,'$0']],[1,'show']],[1,'$event']],[[4],[[5]]]]]],[[4],[[5],[1,'normalDialog']]]]]]]]]]])
Z(z[9])
Z(z[9])
Z([[6],[[7],[3,'normalDialog']],[3,'show']])
Z([3,'8dd740cc-14'])
Z(z[2])
Z(z[49])
Z(z[49])
Z(z[49])
Z([3,'24'])
Z([3,'取消'])
Z([[4],[[5],[[5],[[5],[[4],[[5],[[5],[1,'^click']],[[4],[[5],[[4],[[5],[1,'onSelectPhone']]]]]]]],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'onClose']]]]]]]],[[4],[[5],[[5],[1,'^input']],[[4],[[5],[[4],[[5],[[5],[[5],[1,'__set_model']],[[4],[[5],[[5],[[5],[[5],[1,'$0']],[1,'Show']],[1,'$event']],[[4],[[5]]]]]],[[4],[[5],[1,'ActionSheet']]]]]]]]]]])
Z([[6],[[7],[3,'ActionSheet']],[3,'actions']])
Z(z[9])
Z([[6],[[7],[3,'ActionSheet']],[3,'Show']])
Z([3,'8dd740cc-15'])
Z(z[2])
Z(z[49])
Z(z[3])
Z([[4],[[5],[[4],[[5],[[5],[1,'^agree']],[[4],[[5],[[4],[[5],[1,'getLocationByPrivacy']]]]]]]]])
Z([3,'privacy'])
Z([3,'获取定位授权'])
Z([3,'8dd740cc-16'])
Z(z[8])
Z(z[2])
Z([1,0])
Z([[7],[3,'canTabBackTop']])
Z([3,'8dd740cc-17'])
Z(z[2])
Z(z[3])
Z([3,'touchPopup'])
Z([3,'8dd740cc-18'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_81_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_81_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_81=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_81=true;
var x=['./pages/index/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_81_1()
var aDW=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var oJW=_mz(z,'h-nav-bar',['bind:__l',2,'class',1,'data-ref',2,'isBack',3,'scrollTop',4,'vueId',5,'vueSlots',6],[],e,s,gg)
_(aDW,oJW)
var fKW=_mz(z,'swiper-banner',['adapted',9,'bind:__l',1,'id',2,'pageName',3,'showPage',4,'vueId',5],[],e,s,gg)
_(aDW,fKW)
var cLW=_mz(z,'button-group',['bind:__l',15,'isThemeGray',1,'showThemeSkin',2,'vueId',3],[],e,s,gg)
_(aDW,cLW)
var tEW=_v()
_(aDW,tEW)
if(_oz(z,19,e,s,gg)){tEW.wxVkey=1
var hMW=_mz(z,'channels-living',['bind:__l',20,'isThemeGray',1,'liveContentInfo',2,'showThemeSkin',3,'vueId',4],[],e,s,gg)
_(tEW,hMW)
}
var eFW=_v()
_(aDW,eFW)
if(_oz(z,25,e,s,gg)){eFW.wxVkey=1
var oNW=_mz(z,'channels-live-notice',['bind:__l',26,'isThemeGray',1,'liveContentInfo',2,'showThemeSkin',3,'vueId',4],[],e,s,gg)
_(eFW,oNW)
}
var bGW=_v()
_(aDW,bGW)
if(_oz(z,31,e,s,gg)){bGW.wxVkey=1
var cOW=_mz(z,'hot-infomation',['bind:__l',32,'class',1,'data-ref',2,'id',3,'isThemeGray',4,'vueId',5],[],e,s,gg)
_(bGW,cOW)
}
var oPW=_mz(z,'hot-recommend',['bind:__l',38,'class',1,'list',2,'vueId',3],[],e,s,gg)
_(aDW,oPW)
var lQW=_mz(z,'brand-ctn',['addTop',42,'bind:__l',1,'mainMounted',2,'navBarHeight',3,'pageScrollTop',4,'vueId',5],[],e,s,gg)
_(aDW,lQW)
var aRW=_mz(z,'right-float-box',['bind:__l',48,'bind:openShopCart',1,'bind:showImage',2,'bottom',3,'class',4,'data-event-opts',5,'data-ref',6,'from',7,'hideFloatContact',8,'isThemeGray',9,'shopCart',10,'vueId',11],[],e,s,gg)
_(aDW,aRW)
var oHW=_v()
_(aDW,oHW)
if(_oz(z,60,e,s,gg)){oHW.wxVkey=1
var tSW=_mz(z,'no-login-bar',['bind:__l',61,'bind:login',1,'data-event-opts',2,'isThemeGray',3,'vueId',4],[],e,s,gg)
_(oHW,tSW)
}
var xIW=_v()
_(aDW,xIW)
if(_oz(z,66,e,s,gg)){xIW.wxVkey=1
var eTW=_mz(z,'order-look',['bind:__l',67,'bind:bigOrder',1,'data-event-opts',2,'hideFloatContact',3,'isThemeGray',4,'vueId',5],[],e,s,gg)
_(xIW,eTW)
var bUW=_mz(z,'shop-cart-cascader',['bind:__l',73,'bind:input',1,'data-event-opts',2,'openFrom',3,'value',4,'vueId',5],[],e,s,gg)
_(xIW,bUW)
var oVW=_mz(z,'protocol-pop',['bind:__l',79,'bind:confirm',1,'bind:updateShow',2,'data-event-opts',3,'list',4,'show',5,'vueId',6],[],e,s,gg)
_(xIW,oVW)
}
var xWW=_mz(z,'h-confirm',['bind:__l',86,'bind:confirm',1,'bind:input',2,'confirmText',3,'content',4,'data-event-opts',5,'maskCloseAble',6,'showCancelButton',7,'value',8,'vueId',9],[],e,s,gg)
_(aDW,xWW)
var oXW=_mz(z,'u-action-sheet',['bind:__l',96,'bind:click',1,'bind:close',2,'bind:input',3,'borderRadius',4,'cancelText',5,'data-event-opts',6,'list',7,'safeAreaInsetBottom',8,'value',9,'vueId',10],[],e,s,gg)
_(aDW,oXW)
var fYW=_mz(z,'weixin-user-privacy',['bind:__l',107,'bind:agree',1,'class',2,'data-event-opts',3,'data-ref',4,'title',5,'vueId',6,'vueSlots',7],[],e,s,gg)
_(aDW,fYW)
var cZW=_mz(z,'weixin-tabbar',['bind:__l',115,'selected',1,'showTop',2,'vueId',3],[],e,s,gg)
_(aDW,cZW)
var h1W=_mz(z,'touch-popup',['bind:__l',119,'class',1,'data-ref',2,'vueId',3],[],e,s,gg)
_(aDW,h1W)
tEW.wxXCkey=1
tEW.wxXCkey=3
eFW.wxXCkey=1
eFW.wxXCkey=3
bGW.wxXCkey=1
bGW.wxXCkey=3
oHW.wxXCkey=1
oHW.wxXCkey=3
xIW.wxXCkey=1
xIW.wxXCkey=3
_(r,aDW)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_81";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_81();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/index.wxml'] = [$gwx_XC_81, './pages/index/index.wxml'];else __wxAppCode__['pages/index/index.wxml'] = $gwx_XC_81( './pages/index/index.wxml' );
	;__wxRoute = "pages/index/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/index.js";define("pages/index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/index/index"],{"0af1":function(t,e,n){},"3b4b":function(t,e,n){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uActionSheet:function(){return n.e("node-modules/uview-ui/components/u-action-sheet/u-action-sheet").then(n.bind(null,"99aa"))},weixinUserPrivacy:function(){return n.e("uni_modules/components/weixin-user-privacy/weixin-user-privacy").then(n.bind(null,"958d"))},weixinTabbar:function(){return n.e("uni_modules/components/weixin-tabbar/weixin-tabbar").then(n.bind(null,"f863"))}},r=function(){var t=this;t.$createElement;t._self._c,t._isMounted||(t.e0=function(e){t.shopCartPickerVisible=!0})},i=[]},"4d31":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=p(n("4795")),r=p(n("2ef0")),i=n("d257"),a=(n("b7c7"),n("2f62")),c=p(n("6918")),u=p(n("d601")),s=n("2a2c"),l=p(n("1477")),f=n("a63a"),h=p(n("0613")),d=n("8f93");function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n,o,r,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){m(i,o,r,a,c,"next",t)}function c(t){m(i,o,r,a,c,"throw",t)}a(void 0)}))}}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I="https://cdn.haimati.cn/himo-user-miniapp/assets/image/new/tabbar/",P="".concat(I,"home.png"),w="".concat(I,"home_cur.png"),T="".concat(I,"topping.png"),y={name:"home",components:{BrandCtn:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/BrandCtn/index")]).then(function(){return resolve(n("220c"))}.bind(null,n)).catch(n.oe)},SwiperBanner:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/SwiperBanner/index")]).then(function(){return resolve(n("191c"))}.bind(null,n)).catch(n.oe)},ButtonGroup:function(){n.e("pages/index/components/ButtonGroup/index").then(function(){return resolve(n("a4aa"))}.bind(null,n)).catch(n.oe)},HotInfomation:function(){n.e("pages/index/components/HotInformation/index").then(function(){return resolve(n("5cf1"))}.bind(null,n)).catch(n.oe)},HotRecommend:function(){n.e("pages/index/components/HotRecommend/index").then(function(){return resolve(n("2293"))}.bind(null,n)).catch(n.oe)},NoLoginBar:function(){n.e("pages/index/components/NoLoginBar/index").then(function(){return resolve(n("392b"))}.bind(null,n)).catch(n.oe)},OrderLook:function(){n.e("pages/index/components/OrderLook/index").then(function(){return resolve(n("b540"))}.bind(null,n)).catch(n.oe)},ProtocolPop:function(){n.e("pages/index/components/ProtocolPop/index").then(function(){return resolve(n("c3cd"))}.bind(null,n)).catch(n.oe)},RightFloatBox:function(){Promise.all([n.e("common/vendor"),n.e("Components/business/RightFloatBox/index")]).then(function(){return resolve(n("f930"))}.bind(null,n)).catch(n.oe)},ChannelsLiving:function(){n.e("pages/index/components/ChannelsLiving/index").then(function(){return resolve(n("93be"))}.bind(null,n)).catch(n.oe)},ChannelsLiveNotice:function(){n.e("pages/index/components/ChannelsLiveNotice/index").then(function(){return resolve(n("5b95"))}.bind(null,n)).catch(n.oe)}},mixins:[c.default,u.default,i.IS_H5&&wechatShareConfig,l.default],computed:b(b(b({},(0,a.mapState)({showThemeSkin:function(t){return t.home.showThemeSkin},isThemeGray:function(t){return t.home.isThemeGray},homeHotProducts:function(t){return t.home.homeHotProducts},homeHotArticle:function(t){return t.home.homeHotArticle},isGoBrother:function(t){return t.home.isGoBrother},homeUseOrderInfo:function(t){return t.home.homeUseOrderInfo},homePopopAdConfig:function(t){return t.home.homePopopAdConfig||[]},userProtocolList:function(t){return t.user.userProtocolList},unionId:function(t){return t.auth.userAuthInfo.unionId},showLoginTip:function(t){return t.user.showLoginTip},currentLocation:function(t){return t.city.location}})),(0,a.mapGetters)(["cityText","currentCityInfo","locatError"])),{},{cityId:function(t){var e=t.currentCityInfo;return(null==e?void 0:e.code)||0},isLogin:function(){return Boolean(h.default.state.user.base.id)},isShowChannelsLiving:function(t){var e=t.liveContentInfo;return e&&e.status===s.CHANNEL_LIVE_STATUS.LIVING},isShowChannelsLiveNotice:function(t){var e=t.liveContentInfo;return e&&e.status===s.CHANNEL_LIVE_STATUS.LIVE_NOTICE}}),data:function(){return{IS_H5:i.IS_H5,IS_WX_MINI:i.IS_WX_MINI,RightFloatBoxBottom:"",mainMounted:0,navBarHeight:0,hideFloatContact:!1,navScrollTop:!1,pageScrollTop:0,addTop:0,oldIconPath:P,oldSelectedIconPath:w,toppingIcon:T,ActionSheet:{Show:!1,actions:[]},normalDialog:{content:"",title:"提示",confirmText:"确定",phone:"",show:!1},shopCartPickerVisible:!1,showPage:!1,isOnShow:!1,protocolPopVisible:!1,updateProtocols:[],loading:!0,bannerHide:!0,showHotInfomation:!1,isScroll:!1,canTabBackTop:!1,liveContentInfo:{}}},onLoad:function(){this.initNonReactiveData(),this.initData()},onShow:function(){var t=this;return g(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.showPage=t.isOnShow=!0,t.mainMounted&&t.initPageScrollPosition(),t.isLoadHomeOrderInfo=!1,t.getHomeOrderInfoFn(),t.$nextTick((function(){var e,n;null!==(e=t.$refs)&&void 0!==e&&e.hotInfomation&&(null===(n=t.$refs)||void 0===n||n.hotInfomation.trackStoryShow())})),!t.isLogin){e.next=10;break}return e.next=8,h.default.dispatch("updateFamilyShopCart");case 8:return e.next=10,h.default.dispatch("updateFamilyCheckList");case 10:case"end":return e.stop()}}),e)})))()},mounted:function(){var t,e,n=this;this.navBarHeight=null===(t=this.$refs)||void 0===t||null===(e=t.hNavBar)||void 0===e?void 0:e.navBarHeight,this.$nextTick((function(){n.getPageInfo()})),this.handleGetChannelLive()},onHide:function(){this.showPage=this.isOnShow=!1,this.setHomeIcon()},methods:b(b(b({},(0,a.mapMutations)(["SET_IS_GO_BROTHER"])),(0,a.mapActions)(["getHomeUseOrderInfo","getHomeData","getHomeHotProducts","agreeProtocolVersion","getProtocolVersion","autoLocate","setUserCity"])),{},{handleGetChannelLive:function(){var t=this;return g(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getLiveInfoApi)();case 2:n=e.sent,t.liveContentInfo=n;case 4:case"end":return e.stop()}}),e)})))()},getLocationByPrivacy:function(){var t=this;return g(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cityId){e.next=8;break}if(!t.$refs.privacy.open()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.autoLocate();case 6:t.$sensors.setCurrentProps("location",t.currentLocation),t.setUserCity(t.cityId);case 8:case"end":return e.stop()}}),e)})))()},handleViewPrivacy:function(){this.$refs.privacy.handleOpenPrivacyContract()},initPageScrollPosition:function(){var t=this;return g(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.queryClientRect)(t,".indexPage");case 2:n=e.sent,t.addTop=t.pageScrollTop=Math.abs(r.default.get(n,"top",0)),t.isGoBrother&&(t.addTop=t.pageScrollTop=0),t.mainMounted=(new Date).getTime(),t.SET_IS_GO_BROTHER(!1);case 7:case"end":return e.stop()}}),e)})))()},initNonReactiveData:function(){this.oldCityId="",this.scrollTimer=null,this.canTabBackTop=!1},initData:function(){var t=this;return g(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cityId!==t.oldCityId){e.next=2;break}return e.abrupt("return");case 2:return t.oldCityId=t.cityId,e.next=5,Promise.all([t.getHomeData({cityId:t.cityId,CHANNEL:i.CHANNEL}),t.getHomeOrderInfoFn()]);case 5:t.isLoadHomeOrderInfo=!1,t.loading=!1,setTimeout(g(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLocationByPrivacy();case 2:case"end":return e.stop()}}),e)}))),300);case 8:case"end":return e.stop()}}),e)})))()},getHomeOrderInfoFn:function(){this.isLoadHomeOrderInfo||(this.isLoadHomeOrderInfo=!0,this.getHomeUseOrderInfo({donotApi:!this.userLogined}))},getPageInfo:function(){var t=this;return g(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.queryClientRect)(t,".indexPage");case 2:n=e.sent,t.addTop=t.pageScrollTop=Math.abs(r.default.get(n,"top",0)),t.mainMounted=(new Date).getTime();case 5:case"end":return e.stop()}}),e)})))()},handleShowImg:function(){},hideFloatBox:function(){var t=this;this.scrollTimer?(this.scrollTimer.stop(),this.scrollTimer=null):this.hideFloatContact=!0,this.scrollTimer=this.$timeout((function(){t.showPage&&(t.getPageInfo(),t.showPage=!1),t.scrollTimer.stop(),t.scrollTimer=null,t.hideFloatContact=!1}),300)},setTopping:function(){var e={index:0,iconPath:this.toppingIcon,selectedIconPath:this.toppingIcon};t.setTabBarItem(e)},setHomeIcon:function(){var e={index:0,iconPath:this.oldIconPath,selectedIconPath:this.oldSelectedIconPath};t.setTabBarItem(e)},toCity:function(){this.$Router.push({name:"city"})},toLogin:function(){var t=this;return g(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkAuth();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:t.$toLogin();case 6:case"end":return e.stop()}}),e)})))()},orderlookBigOrder:function(t){var e=t.content,n=t.confirmText,o=t.phone;this.normalDialog.content=e,this.normalDialog.phone=o,this.normalDialog.confirmText=n||"确定",this.normalDialog.show=!0},callPhone:function(){t.makePhoneCall({phoneNumber:this.normalDialog.phone})},onSelectPhone:function(e){this.ActionSheet.Show=!1;var n=this.ActionSheet.actions[e].value;if(!n)return this.$littleToast({title:"未找到门店电话",duration:2e3,icon:"none"});t.makePhoneCall({phoneNumber:n})},onClose:function(){this.ActionSheet.Show=!1},setH5Share:function(){},handleAgreeProtocol:function(t){this.agreeProtocolVersion(t)},trackHotProdExposure:function(t){var e=this;return g(o.default.mark((function n(){var i;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.default.isEmpty(t)){n.next=2;break}return n.abrupt("return");case 2:return e.releaseExposureHolder(),n.next=5,e.calcHotRecommendExposureMargins();case 5:i=n.sent,t.map((function(t,n){var o,r=t.productId,a=t.bucket;o=".hot-recommends >>> .hotprod_".concat(r,"_").concat(n),e.exposure(o,".indexPage",(function(t){e.track("content_show_up",{content_type:"商品",content_id:r,test_flag:a,cur_spm:"1001.1001.m1002_loc5.".concat(n+1),duration:Number(null==t?void 0:t.duration)})}),{top:i.top,bottom:i.bottom})}));case 7:case"end":return n.stop()}}),n)})))()},calcHotRecommendExposureMargins:function(){var t=this;return g(o.default.mark((function e(){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,n=t.navBarHeight,e.next=4,t.calcTabBarHeight();case 4:return r=e.sent,e.abrupt("return",{top:-n,bottom:-r});case 6:case"end":return e.stop()}}),e)})))()},calcTabBarHeight:function(){var e=t.getSystemInfoSync();if(e){var n=e.windowHeight;return(e.screenHeight-n-e.statusBarHeight)*e.pixelRatio}return 0}}),onShareAppMessage:function(){return{title:"点击进入海马体照相馆，和我一起寻找、探索和记录生活中所有美的瞬间",imageUrl:"".concat("https://cdn.haimati.cn/himo-user-miniapp/assets","/image/new/common/share_message_mini.png"),path:"/pages/index/index"}},onPageScroll:r.default.throttle(function(){var t=g(o.default.mark((function t(e){var n,r,a,c,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isScroll){t.next=2;break}return t.abrupt("return");case 2:return this.isScroll=!0,n=e.scrollTop,this.addTop=this.pageScrollTop=n,this.navScrollTop=n>5,n>1e3?(this.canTabBackTop=!0,console.log("置顶"),this.setTopping()):(this.canTabBackTop=!1,this.setHomeIcon()),t.next=9,(0,i.queryClientRect)(this,"#Swiper");case 9:return(r=t.sent)&&(this.bannerHide=Math.abs(r.top)<r.height),t.next=13,(0,i.queryClientRect)(this,"#HotInfomation");case 13:(a=t.sent)&&((c=Math.abs(null==a?void 0:a.top)-(null==a?void 0:a.height)<0)!==this.showHotInfomation&&(this.showHotInfomation=c,this.showHotInfomation&&(null===(u=this.$refs)||void 0===u||u.hotInfomation.trackStoryShow()))),this.hideFloatBox(),this.isScroll=!1;case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),100,{trailing:!0}),onTabItemTap:function(e){0===e.index&&this.canTabBackTop?t.pageScrollTo({scrollTop:0,duration:100}):this.setHomeIcon()},watch:{unionId:{handler:function(){this.getHomeData({cityId:this.cityId,CHANNEL:i.CHANNEL})},immediate:!0},cityId:{handler:function(t,e){var n=this;return g(o.default.mark((function r(){return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t&&t!==e&&(n.initData(),n.getHomeHotProducts({cityId:t}));case 1:case"end":return o.stop()}}),r)})))()}},userLogined:{handler:function(t){var e=this;return g(o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(0,i.getTabBarBottom)(),t?(e.RightFloatBoxBottom="",e.getProtocolVersion()):(e.RightFloatBoxBottom="calc(221rpx + ".concat(r.safeArea,"px)"),console.log(e.RightFloatBoxBottom,"RightFloatBoxBottom"),e.protocolPopVisible=!1),e.getHomeOrderInfoFn(),e.getHomeHotProducts({cityId:e.cityId});case 4:case"end":return n.stop()}}),n)})))()},immediate:!0},userProtocolList:function(t){r.default.isEmpty(t)||(this.updateProtocols=t.filter((function(t){return t.userProtocolKey!==f.PROTOCOL_TYPE.CONTENT_PROTOCOL})),this.protocolPopVisible=this.updateProtocols.some((function(t){return null==t?void 0:t.updateVersion})))},trackSavePhoto:function(t,e,n){this.track("save_img_click",{page_name:"我的相册-详情页",photo_path:t,is_success:e,error_info:n})},homeHotProducts:function(t){this.trackHotProdExposure(t)}}};e.default=y}).call(this,n("543d").default)},8069:function(t,e,n){n.r(e);var o=n("4d31"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e.default=r.a},b297:function(t,e,n){var o=n("0af1");n.n(o).a},d537:function(t,e,n){(function(t){function e(t){return t&&t.__esModule?t:{default:t}}n("6cdc"),e(n("66fd")),t(e(n("f75a")).default)}).call(this,n("543d").createPage)},f75a:function(t,e,n){n.r(e);var o=n("3b4b"),r=n("8069");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("b297");var a=n("f0c5"),c=Object(a.a)(r.default,o.b,o.c,!1,null,null,null,!1,o.a,void 0);e.default=c.exports}},[["d537","common/runtime","common/vendor"]]]);
},{isPage:true,isComponent:true,currentFile:'pages/index/index.js'});require("pages/index/index.js");