$gwx_XC_63=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_63 || [];
function gz$gwx_XC_63_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_63_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'>'],[[6],[[7],[3,'brands']],[3,'length']],[1,0]])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[7],[3,'$root']],[3,'l1']])
Z([3,'brandId'])
Z([3,'__e'])
Z([[4],[[5],[[5],[[5],[[5],[1,'_div']],[1,'data-v-472da670']],[1,'tab']],[[2,'&&'],[[2,'!'],[[7],[3,'pin']]],[1,'disabled']]]])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[[5],[1,'onBrandSelected']],[[4],[[5],[[5],[1,'$0']],[[7],[3,'index']]]]],[[4],[[5],[[4],[[5],[[4],[[5],[[5],[[5],[1,'brands']],[1,'brandId']],[[6],[[6],[[7],[3,'item']],[3,'$orig']],[3,'brandId']]]]]]]]]]]]]]]])
Z([[2,'+'],[1,'p-brand-tab-item-'],[[7],[3,'index']]])
Z([[2,'==='],[[7],[3,'index']],[[7],[3,'current']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_63_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_63_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_63=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_63=true;
var x=['./pages/allProduct/components/BrandTab/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_63_1()
var o0P=_v()
_(r,o0P)
if(_oz(z,0,e,s,gg)){o0P.wxVkey=1
var xAQ=_v()
_(o0P,xAQ)
var oBQ=function(cDQ,fCQ,hEQ,gg){
var cGQ=_mz(z,'view',['bindtap',5,'class',1,'data-event-opts',2,'id',3],[],cDQ,fCQ,gg)
var oHQ=_v()
_(cGQ,oHQ)
if(_oz(z,9,cDQ,fCQ,gg)){oHQ.wxVkey=1
}
oHQ.wxXCkey=1
_(hEQ,cGQ)
return hEQ
}
xAQ.wxXCkey=2
_2z(z,3,oBQ,e,s,gg,xAQ,'item','index','brandId')
}
o0P.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_63";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_63();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/allProduct/components/BrandTab/index.wxml'] = [$gwx_XC_63, './pages/allProduct/components/BrandTab/index.wxml'];else __wxAppCode__['pages/allProduct/components/BrandTab/index.wxml'] = $gwx_XC_63( './pages/allProduct/components/BrandTab/index.wxml' );
	;__wxRoute = "pages/allProduct/components/BrandTab/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/allProduct/components/BrandTab/index.js";define("pages/allProduct/components/BrandTab/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/allProduct/components/BrandTab/index"],{5712:function(t,n,e){var r=e("db21");e.n(r).a},ba92:function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("4795")),i=c(e("2ef0")),a=e("a63a"),o=e("d257");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,n,e,r,i,a,o){try{var c=t[a](o),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,i)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){u(a,r,i,o,c,"next",t)}function c(t){u(a,r,i,o,c,"throw",t)}o(void 0)}))}}var d={name:"BrandTab",props:{theme:{type:String,default:"product"},brands:{type:Array,default:function(){return[]}},selectedIndex:{type:Number,default:0},pin:{type:Boolean,default:!1},cityText:String},data:function(){return{current:0,scrollLeft:0,progress:0,pinIndicator:"".concat(a.IMG_HOST,"/product/all_prod_brand_pin_indicator.png")}},activated:function(){var t=this;this.$nextTick((function(){t.getDomInfos()}))},mounted:function(){var t=this;this.isMounted=!0,this.current=this.selectedIndex,this.isSensorDefault=!0,this.$nextTick((function(){t.getDomInfos()}))},watch:{theme:{immediate:!0,handler:function(t){this.pinIndicator="".concat(a.IMG_HOST,"/").concat(t,"/all_prod_brand_pin_indicator.png")}},brands:function(t){var n=this;this.isSensorDefault=!0,this.$nextTick((function(){n.getDomInfos()}))},selectedIndex:function(t){this.current!==t&&(this.current=t)},current:function(t){this.scrollByIndex()},pin:function(t){var n=this;setTimeout((function(){n.$nextTick((function(){n.getDomInfos()}))}),400)},cityText:function(t){this.isSensorDefault=!0}},methods:{brandIcon:function(t,n){if(i.default.isEmpty(t.images))return null;var e=i.default.find(t.images,(function(t){return t.scene===(n?a.IMAGE_SCENE.SELECTED:a.IMAGE_SCENE.DEFAULT)}));return null==e?void 0:e.url},pinIcon:function(t){if(i.default.isEmpty(t.images))return null;var n=i.default.find(t.images,(function(t){return t.scene===a.IMAGE_SCENE.CEILING}));return null==n?void 0:n.url},onBrandSelected:function(t,n){this.isSensorDefault=!1,this.current=n,this.$emit("onBrandSelected",t,n),this.sensorBrandSelected()},getDomInfos:function(){var t=this;return s(r.default.mark((function n(){var e;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.brands.length){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,o.queryClientRect)(t,"#brands-container");case 5:e=n.sent,t.parentLeft=e.left,t.componentWidth=e.width,t.getTabRect(),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(2);case 13:case"end":return n.stop()}}),n,null,[[2,11]])})))()},getTabRect:function(){var t=this;return s(r.default.mark((function n(){var e,i,a;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=[],i=0;i<t.brands.length;i++)a=t.pin?"#p-brand-tab-item-".concat(i):"#n-brand-tab-item-".concat(i),e.push(a);return n.next=4,(0,o.queryClientRectMultiIds)(t,e);case 4:return t.tabQueryInfo=n.sent,n.next=7,t.scrollByIndex();case 7:case"end":return n.stop()}}),n)})))()},scrollByIndex:function(){if(this.current===this.brands.length-1||this.current+1===this.brands.length-1)this.scrollLeft=this.componentWidth;else if(this.current<this.brands.length-1){var t,n,e=null===(t=this.tabQueryInfo)||void 0===t?void 0:t[this.current+1],r=null===(n=this.tabQueryInfo)||void 0===n?void 0:n[0];if(!e)return;var i,a=e.width,o=e.left,c=o-this.parentLeft;i=o>this.componentWidth?c-(this.componentWidth-a/2)+Math.abs(r.left):Math.abs(r.left)-(this.componentWidth-c-a/2),this.scrollLeft=i<0?0:i}},sensorBrandSelected:function(){var t;i.default.isEmpty(this.brands)||this.track("prdmarksClick",{marks_area_name:"品牌",marks_title:null===(t=this.brands[this.current])||void 0===t?void 0:t.name,second_marks_title:"",is_default:this.isSensorDefault,city:this.cityText})}}};n.default=d},c6db:function(t,n,e){e.r(n);var r=e("ba92"),i=e.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(a);n.default=i.a},c989:function(t,n,e){e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var r=function(){var t=this,n=(t.$createElement,t._self._c,t.brands.length>0?t.__map(t.brands,(function(n,e){return{$orig:t.__get_orig(n),m0:t.brandIcon(n,e===t.current)}})):null),e=t.brands.length>0?t.__map(t.brands,(function(n,e){return{$orig:t.__get_orig(n),m1:t.pinIcon(n)}})):null;t.$mp.data=Object.assign({},{$root:{l0:n,l1:e}})},i=[]},db21:function(t,n,e){},f2b0:function(t,n,e){e.r(n);var r=e("c989"),i=e("c6db");for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("5712");var o=e("f0c5"),c=Object(o.a)(i.default,r.b,r.c,!1,null,"472da670",null,!1,r.a,void 0);n.default=c.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages/allProduct/components/BrandTab/index-create-component",{"pages/allProduct/components/BrandTab/index-create-component":function(t,n,e){e("543d").createComponent(e("f2b0"))}},[["pages/allProduct/components/BrandTab/index-create-component"]]]);
},{isPage:false,isComponent:true,currentFile:'pages/allProduct/components/BrandTab/index.js'});require("pages/allProduct/components/BrandTab/index.js");