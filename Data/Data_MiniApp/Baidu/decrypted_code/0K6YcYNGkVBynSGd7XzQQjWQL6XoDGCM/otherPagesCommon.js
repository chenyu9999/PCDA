var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};!function(t){t.global,t.Function;var e=t.setTimeout,a=t.setInterval;t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;window.define("2",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";Component({properties:{bmrt:{type:Number},showty:{type:String,value:""}},data:{},attached:function(){},detached:function(){},methods:{}})})),window.define("4",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(5);Component({properties:{pageName:{type:String,value:"希财网"},showHome:{type:Boolean,default:!0},bgColor:{type:String,default:"#f23835"}},data:{navH:66,showBack:!1,isIos:!1},attached:function(){var t=o.getSystemInfoSync(),e=!0;T.compareVersion(t.swanNativeVersion,"2.28.0")>=0&&(e=!1),-1==t.system.toLowerCase().indexOf("android")&&this.setData("isIos",!0),this.properties.showBack=e,this.setData({navH:t.statusBarHeight})},methods:{home:function(){o.switchTab({url:"/pages/main/index/index"})},back:function(){}}})})),window.define("5",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";function T(t){return(t=t.toString())[1]?t:"0"+t}function D(t,e){var a=["Y","M","D","h","m","s"],i=[];for(var o in i.push(t.getFullYear()),i.push(T(t.getMonth()+1)),i.push(T(t.getDate())),i.push(T(t.getHours())),i.push(T(t.getMinutes())),i.push(T(t.getSeconds())),i)e=e.replace(a[o],i[o]);return e}function S(t,e){o.showToast({title:t,icon:e,duration:2e3})}var k={};k.info=function(t){S(t,"none")},k.success=function(t){S(t,"success")},e.exports={getLink:function(t,e){e=e||"0000000000000000000000000000000";var a="string"==typeof t?unescape(t):"";return a=-1!=a.indexOf("?")?a+"&vs=bd20&token="+e:a+"?vs=bd20&token="+e},getRandLink:function(t,e){return t?(-1!=t.indexOf("?")?t=t:t+="?b=1",t+"&token="+(e||"0000000000000000000000000000000")+"&v="+(new Date).getTime()):""},formatTime:function(t,e){return D(new Date(-1==t.toString().indexOf("-")?1*t:t.toString().replace(/-/g,"/")),e)},formatNowTime:function(t){return D(new Date,t)},layer:k,autoImg:function(t){return t.replace(/="\/\/static.csai.cn\//gi,'="https://static.csai.cn/').replace(/width=/gi,"k=").replace(/height=/gi,"b=").replace(/<img/gi,'<img style="max-width: 100%;heigth:auto;"')},log:function(t){},setTkd:function(t,e,a,i){if(null!=t){var n={title:t,keywords:e||"",description:a||"",success:function(){}};i&&(n.image=i),o.setPageInfo&&o.setPageInfo(n)}},setClipboard:function(t,e,a){a=a||"复制成功",o.setClipboardData({data:t,success:function(t){o.showToast({title:a}),"function"==typeof e&&e()},fail:function(t){o.showToast({title:"复制失败"})}})},splicStr:function(t,e){return(Array(e).join("0")+t).slice(-e)},getMToTime:function(t){t=t-1<=0?600:t-1;var e=parseInt(t/60),a=parseInt(t%60);return T(e)+":"+T(a)},showFavorite:function(){o.showFavoriteGuide({type:"bar",content:"一键关注小程序",success:function(t){console.log("关注成功：",t)},fail:function(t){console.log("关注失败：",t)}})},strToInt:function(t,e){if(2==(t=t.split("/")).length){var a=1*t[0]*10,i=1*t[1];return a%i==0?a/i:(a/i).toFixed(e||1)}return t},compareVersion:function(t,e){t=t.split("."),e=e.split(".");for(var a=Math.max(t.length,e.length);t.length<a;)t.push("0");for(;e.length<a;)e.push("0");for(var i=0;i<a;i++){var o=parseInt(t[i]),n=parseInt(e[i]);if(o>n)return 1;if(o<n)return-1}return 0},goXcx:function(t,e){o.navigateToSmartProgram({appKey:t,path:e})},toUrl:function(t){-1!=t.indexOf("http")&&(t="/pages/comm/webload/webload?url="+escape(t)),o.navigateTo({url:t})},formatTimeComm:D}})),window.define("7",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";t(8);var T=t(10),D=n();Component({properties:{showtype:{type:String,value:""},pdlr:{type:String,value:""},channelId:{type:Number,value:""}},data:{fromId:0,bxadv:{},nbadv:{},xbadv:{}},attached:function(){"bx_all_adv"==this.properties.showtype?this.getNbAdv():this.getbxAdv()},methods:{closeAd:function(t){var e=t.currentTarget.dataset,a=this.data.nbadv;a[e.v]=null,a.nbzn||a.nblpsl||a.nbtdsl||(a.isHidden=!0),this.setData({nbadv:a})},closeAd1:function(t){var e=t.currentTarget.dataset,a=this.data.bxadv;a[e.v]=null,this.setData({bxadv:a})},goUrl:function(t){var e=t.currentTarget.dataset,a=e.url.replace(/\s+/g,""),i={url:a};"xcx"==a&&(i.path=e.path,i.key=e.key);this.triggerEvent("link",i,{bubbles:!1})},getNbAdv:function(){var t=this;t.getAdByCode("baidu_article_ad_bx",(function(e){e&&t.setData({nbadv:e})})),t.properties.channelId},getbxAdv:function(){var t=this;this.getAdByCode("baidu_article_ad_cmsask",(function(e){D.globalData.baidu_article_ad_cmsask=e,t.setData("bxadv",e)}))},getAdByCode:function(t,e){T.get("/api/getad.do",{code:t},(function(t){t&&e(t)}))}}})})),window.define("8",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(9);e.exports=T})),window.define("9",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";e.exports={imgHost:"https://static.csai.cn",reqHost:"https://app.csai.cn",reqCsaiHost:"https://m.csai.cn",reqbxApi:"https://bxapi.xicaimao.cn",reqsjHost:"https://shangjia.csai.cn",csaiUrl:"https://m.csai.cn",zytUrl:"https://bx.baoxianjie.net",xcmUrl:"https://m.xicaimao.cn",token:"cstk",actionUrl:"https://statapi.csai.cn/stat/module",kcadformId:453221,wtbzyUrl:"https://zyt.baoxianjie.net",baseUploadUrl:"https://base.csaimall.com",resmodule:"bx",resprefix:"wutongbao"}})),window.define("10",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(11),S=n(),k=!1,x="application/x-www-form-urlencoded;charset=utf-8";function L(t){var e=S.globalData.token||"",a={"content-type":t||"application/json;charset=UTF-8",equipType:"API"};return a[T.token]=e,a}function U(t){k||(k=!0,o.getNetworkType({success:function(t){"unknown"===t.networkType||"none"===t.networkType?o.showModal({title:"温馨提示",content:"网络不太好哟，请检查您的手机网络状态",showCancel:!0,cancelText:"关闭",confirmText:"刷新试试",success:function(t){var e=D.getCurrentPageUrlWithArgs();t.confirm&&(-1!=e.indexOf("pages/main/index/index")||-1!=e.indexOf("pages/my/study/study")||-1!=e.indexOf("pages/edu/myindex/myindex")?o.reLaunch({url:"/"+e}):o.redirectTo({url:"/"+e})),k=!1},fail:function(t){k=!1}}):k=!1},fail:function(t){k=!1}}))}function P(t,e,a,i){N({module:41009,textValue1:a,textValue3:t,textValue4:e=e?JSON.stringify(e):"",textValue5:i})}var A={webappId:0,bizType:0,fromId:0,csaiUid:0,uid:0,clientType:"BDP",clientName:"在线课程希财网百度小程序",url:"",referer:"",userAgent:"",appVersion:"",appStore:"",deviceType:""};function N(t){var e=S.globalData.sysInfo;e&&(A.userAgent=e.model,A.deviceType=e.dev);var a,i,n={module:0,dataId:0,prevId:0,visitTime:0,textValue1:"",textValue2:"",textValue3:"",textValue4:"",textValue5:""};Object.assign(n,t),Object.assign(A,n),A.uid=S.globalData.uid||0,a=T.actionUrl,i=A,o.request({url:a,method:"POST",dataType:"json",data:i,header:{"content-type":x},success:function(t){},fail:function(t){}})}e.exports={post:function(t,e,a,i,n){!function(t,e,a,i,n){-1==e.indexOf("http")&&(e=T.reqHost+e);var s=L(t);o.request({url:e,method:"POST",dataType:"json",data:a,header:s,success:function(t){200==t.statusCode?i(t.data):(P(e,a,t.statusCode,""),n&&n())},fail:function(t){U(),P(e,a,t.errCode,t.errMsg),n&&n()}})}(n?"":x,t,e,a,i)},get:function(t,e,a,i){-1==t.indexOf("http")&&(t=T.reqHost+t);var n=L();o.request({url:t,method:"GET",dataType:"json",data:e,header:n,success:function(o){200==o.statusCode?a(o.data):(P(t,e,o.statusCode,""),i&&i())},fail:function(a){U(),P(t,e,a.errCode,a.errMsg),i&&i()}})},action:N,setTkd:function(t,e,a){null!=t&&o.setPageInfo&&o.setPageInfo({title:t,keywords:e||"",description:a||"",success:function(){}})},upload:function(t,e,a){o.uploadFile({url:T.baseUploadUrl+"/kechengapi/user/updateHeadimg.do",filePath:t,name:"imgUrl",header:{"Content-Type":"multipart/form-data"},formData:{module:T.resmodule,prefix:T.resprefix},success:function(t){if(200==t.statusCode)try{e(JSON.parse(t.data))}catch(t){}},fail:function(t){"function"==typeof a&&a()}})}}})),window.define("11",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";e.exports={getCurrentPageUrl:function(){var t=getCurrentPages();return t[t.length-1].route},getCurrentPageUrlWithArgs:function(){var t=getCurrentPages(),e=t[t.length-1],a=e.route,i=e.options,o=a+"?";for(var n in i){o+=n+"="+i[n]+"&"}return o=o.substring(0,o.length-1)}}})),window.define("13",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";t(8);var T=t(10);n();Component({properties:{showtype:{type:String,value:""},jxty:{type:String,value:""},channelId:{type:Number,value:""}},data:{xbadv:{},fromId:0},attached:function(){this.getbxAdv()},methods:{closeAd:function(t){var e=t.currentTarget.dataset,a=this.data.xbadv;a[e.v]=null,this.setData({xbadv:a})},goUrl:function(t){var e=t.currentTarget.dataset;if("kc"==e.ty)o.navigateTo({url:"/pages/edu/show/show?isCms=1&id="+e.id});else{var a={url:e.url.replace(/\s+/g,"")};this.triggerEvent("link",a,{bubbles:!1})}},getbxAdv:function(){var t=this;this.getAdByCode("kecheng_xcx_xly",(function(e){t.setAdv(e)}))},setAdv:function(t){var e=this.properties.channelId,a=this.properties.jxty;if(29==e)switch(a){case"LC":e=24;break;case"GP":e=23;break;case"JJ":e=6}switch(e){case 23:t.xbkcs=t.xbkcsgp,t.xbadc=t.xbadgp;break;case 6:t.xbkcs=t.xbkcsjj,t.xbadc=t.xbadjj;break;default:t.xbadc=t.xbad}this.setData({xbadv:t,fromId:0})},getAdByCode:function(t,e){T.get("/api/getad.do",{code:t},(function(t){t&&e(t)}))}}})})),window.define("15",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10);Component({properties:{showtype:{type:String,value:"wmwz"},channelId:{type:Number,value:""},showTitle:{type:String,value:"true"}},data:{dklist:[],csaiUrl:T.csaiUrl,wzAdv:{},zixun:{},lcWmadv:{},isIos:!1},attached:function(){this.getAdv(),-1==o.getSystemInfoSync().system.toLowerCase().indexOf("android")&&this.setData("isIos",!0)},methods:{gokf:function(t){var e=t.currentTarget.dataset;D.action({module:e.model||50349})},closeAd1:function(t){t.currentTarget.dataset;this.setData({dkAdv:null})},closeAd:function(t){t.currentTarget.dataset;this.setData({dklist:[]})},getAdv:function(){var t=this,e=this.properties.channelId;2==e||4==e?t.getAdByCode("baidu_article_dk_ad",(function(a){if(a){2==e||4==e?t.setData({dklist:a.plats||[],dkAdv:a.dkAdv,wzAdv:a.wzAdv||{},zixun:a.zixun||{}}):t.setData({zixun:a.zixunlc||{}})}})):t.getAdByCode("bdxcx_cms_wm_xsyh",(function(e){e&&t.setData({lcWmadv:e})}))},getAdByCode:function(t,e){D.get("/api/getad.do",{code:t},(function(t){t&&e(t)}))},goLink:function(t){var e=t.currentTarget.dataset;e.model&&D.action({module:e.model});var a=e.ty,i=e.url,o={url:e.url.replace(/\s+/g,"")};if("xcx"==a){var n=i.split("|");2==n.length&&(o={url:"xcx",key:n[0],path:n[1]})}this.triggerEvent("link",o,{bubbles:!1})}}})})),window.define("17",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10);n();Component({properties:{artid:{type:Number},wztype:{type:String,value:"3"},channelId:{value:0},jxType:{value:""},place:{type:String,value:"top"}},data:{tgPage:1,tgTotalpage:1,kcList:[],pageSize:5,firstAdv:null},attached:function(){var t=this.properties.jxType;if(29==this.properties.channelId)switch(t){case"LC":this.properties.channelId=24;break;case"GP":this.properties.channelId=23;break;case"JJ":this.properties.channelId=6}},observers:{artid:function(t){this.properties.artid&&this.loadData()}},methods:{bindKctj:function(t){var e=this.data.tgPage+1,a=this.data.pageSize;e>(this.data.tgTotalpage>a?a:this.data.tgTotalpage)&&(e=1),this.setData("tgPage",e),this.getKeCheng()},goLink:function(t){var e=t.currentTarget.dataset,a="";"kecheng"==e.ltype?o.navigateTo({url:"/pages/edu/show/show?isCms=1&id="+e.id}):"xly"==e.ltype?(a=T.csaiUrl+"/kecheng/xly?from_id="+T.kcadformId,o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)})):o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e.url)})},getAdv:function(t,e){D.get("/api/getad.do",{code:t},(function(t){t&&e(t)}))},getkctj:function(){var t=this,e=t.properties.channelId.toString();t.getAdv("kecheng_content_kctj",(function(a){var i=!1;if(a.length>0)for(var o=0;o<a.length;o++){if(-1!=a[o].channel.split(",").indexOf(e)){t.setData({firstAdv:a[o]}),i=!0;break}}i&&(t.data.pageSize=4),t.getKeCheng()}))},loadData:function(){var t=this;if("center"===t.properties.place)t.data.tgPage=2,t.data.pageSize=4,t.getKeCheng();else{if(100==t.properties.channelId)return void t.getAdv("baidu_article_ad_kctj",(function(e){t.setData({kcList:e,tgTotalpage:1})}));t.getkctj()}},getCourseListByTag:function(){var t=this,e=(t.data.page,{classTagId:28,childTagId:0,page:t.data.tgPage,limit:t.data.pageSize});D.post(T.reqCsaiHost+"/kechengapi/loadCourseByTagClassify.do",e,(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model.pageData.datas,o=0;o<i.length;o++){var n=i[o];n.studyNum>=1e3&&(n.studyNum=(n.studyNum/1e4).toFixed(1)+"万"),a.push(n)}t.setData({kcList:a,tgTotalpage:e.model.pageData.totalPages})}}))},getKeCheng:function(){var t=this;t.getAdv("bdxcx_wz_kc_ad",(function(e){if(e){var a=[];switch(t.properties.channelId){case 23:a=e.gupiao;break;case 6:a=e.jijin;break;default:a=e.licai}t.setData({kcList:a,tgTotalpage:1})}}))}}})})),window.define("18",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=(t(20),n.getSystemInfoSync()),U=s();Page({data:{imgHost:D.imgHost,csaiUrl:D.csaiUrl,swiperImg:[1,2,3],newCourseList:[],adList:[],page:1,hasmore:!0,isload:!1,navList:[],hmktList:[],tagkcList:[],cmsList:[],tradeHyMode:!1,tagId:8,tagList:[],isSuperVip:"N",ads:[],tcArr:[],todayMs:{},randomImgIndex:1,needFlash:!1,isIos:!1},onLoad:function(t){var e=this;-1==L.system.toLowerCase().indexOf("android")&&this.setData({isIos:!0}),this.getTagList(),this.getNewCourse(),this.getAdvs(),this.getIndexTcAd(),this.getNav(),this.gethmktList(),this.getArticle(),this.getSysInfo(),k.showFavorite(),this.getRandomImg(),x.isLogin((function(t){e.setData({needFlash:t})}))},getRandomImg:function(){this.setData({randomImgIndex:Math.floor(5*Math.random())+1})},toBenefits:function(){n.navigateTo({url:"/pages/edu/benefits/benefits"})},toDx:function(){n.navigateTo({url:"/pages/edu/daxin/daxin"})},getTodayMs:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/baidu/todayKillCourses.do",{limit:1},(function(e){console.log(e),"SUCCESS"==e.resultCode&&e.model.length&&(t.setData({todayMs:e.model[0]}),console.log(t.data))}))},toPay:function(){var t=this;x.login((function(e){if(""==e.show){var a={},i=t.data.todayMs;a.proInfo={proImg:i.courses.wellThumbImg,proName:i.courses.name,payPrice:i.seckillPrice/100},a.pay={siteId:9,notifyUrl:"",redirectUrl:"",currentUrl:"",orderUrl:"/kechengapi/baidu/submitSeckillCourseOrder.do",orderData:{seckillId:i.id,payType:"BAIDU",fromCode:D.kcadformId}},n.navigateTo({url:"/pages/comm/payinfo/payinfo?id="+i.courses.id+"&tp=2&ishy=false&isfl=true&payinfo="+btoa(encodeURIComponent(JSON.stringify(a)))})}}),!0)},isVipUser:function(){var t=this;x.isExistToken()&&S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isMember:"Y"==a.isVip,isSuperVip:a.isSuperVip})}}))},getIndexTcAd:function(){var t=this;S.get(D.csaiUrl+"/api/getad.do",{code:"bdxcx_index_top_jptc"},(function(e){console.log(e),e&&t.setData({tcArr:e})}))},linkTcDetail:function(t){var e=t.currentTarget.dataset.url;k.toUrl(e)},getSysInfo:function(){var t=this,a=U.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),200):"Android"==a.dev&&t.setData({tradeHyMode:!0})},getTagList:function(){this.setData({tagList:[{id:8,name:"女性理财"},{id:9,name:"房产投资"},{id:10,name:"职业技能"},{id:11,name:"家庭理财"},{id:24,name:"上班一族"}]})},getNewCourse:function(){var t=this;if(this.data.hasmore){var e=this.data.page,a={page:e,limit:4};t.setData({isload:!0}),S.post(D.reqCsaiHost+"/kechengapi/baidu/loadRecCourseByPage.do",a,(function(a){if(console.log(a),"SUCCESS"==a.resultCode){var i=a.model.datas;t.data.hasmore=a.model.totalPages>t.data.page,t.data.page=e+1,t.setData("newCourseList["+(e-1)+"]",i)}t.setData({isload:!1})}))}},getAdvs:function(){var t,e=this;t=e.data.isIos?{code:"kecheng_h5_banner_bd_ios"}:{code:"kecheng_h5_banner_bd"},S.get(D.csaiUrl+"/api/getad.do",t,(function(t){e.setData({adList:t})}))},getNav:function(){var t="https://static.csai.cn/csaicms/h5/cms/images",e=[{id:2,name:"文章",type:"",url:"../../main/list/list?formId=0",wellIcon:t+"/xchome_nav2.png"},{id:5,name:"问答",type:"",url:"../../main/list/list?formId=29",wellIcon:t+"/xchome_nav5.png"},{id:7,name:"广场",type:"",url:"../../main/list/list?formId=0",wellIcon:t+"/xchome_nav7.png"}];this.setData({navList:e})},gethmktList:function(){var t=this;S.get(D.reqCsaiHost+"/kechengapi/loadHotCourses.do",{limit:5},(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model,o=0;o<i.length;o++){var n=i[o];n.wellThumbImg&&-1==n.wellThumbImg.indexOf("http")&&(n.wellThumbImg="https:"+n.wellThumbImg),a.push(n)}t.setData({hmktList:a})}}))},getkcListByTag:function(){var t=this,e={limit:3,page:1,classTagId:this.data.tagId,childTagId:0};S.get(D.reqCsaiHost+"/kechengapi/loadCourseByTagClassify.do",e,(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model.pageData.datas,o=0;o<i.length;o++){var n=i[o];n.wellThumbImg&&-1==n.wellThumbImg.indexOf("http")&&(n.wellThumbImg="https:"+n.wellThumbImg),a.push(n)}t.setData({tagkcList:a})}}))},getArticle:function(){var t=this;t.setData({isload:!0}),S.get("/api/formArticles.do",{page:1,formId:0,size:4},(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model.datas,o=0;o<i.length;o++){var n=i[o];"Y"==n.img&&n.imgUrl&&-1==n.imgUrl.indexOf("https")&&(n.imgUrl="https:"+n.imgUrl);var s=new Date(n.publishTime);n.createTime=s.getFullYear()+"-"+d(s.getMonth()+1)+"-"+d(s.getDate()),a.push(n)}t.setData({cmsList:a,isload:!1})}else t.setData({isload:!1});function d(t){return t.toString().length>1?t:"0"+t}}))},showClick:function(t){var e=t.currentTarget.dataset.id.split("|"),a=e[0],i=e[1];n.navigateTo({url:"/pages/show/show?channel="+i+"&id="+a})},tagClick:function(t){var e=t.currentTarget.dataset.id;this.setData({tagId:e}),this.getkcListByTag()},bindlink:function(t){var e=t.currentTarget.dataset.url;if(-1!=e.indexOf("http"))n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)});else if("ad"==e)S.action({module:12026});else{var a=this.getUrlParam(e);a&&S.action({module:12024,dataId:a,textValue1:""}),n.navigateTo({url:e})}},bindToNav:function(t){var e=t.currentTarget.dataset;-1!=e.type.indexOf("edu")?S.action({module:12023,dataId:e.id,textValue1:""}):S.action({module:12023});var a=e.url;-1!=a.indexOf("http")?n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)}):n.navigateTo({url:e.url})},goLink:function(t){var e=t.currentTarget.dataset;n.navigateTo({url:"/pages/edu/show/show?id="+e.id})},getUrlParam:function(t,e){var a=t.split("id");return a.length>1?a[1].replace("=",""):a},bindserch:function(t){var e=t.currentTarget.dataset.url;S.action({module:50019}),n.navigateTo({url:e})},onReachBottom:function(){this.getNewCourse()},onShow:function(){var t=this;this.isVipUser(),k.setTkd("希财网 - 财金知识服务平台","财金知识，金融知识","希财网是专业的财金知识服务平台，主要提供贷款、保险、理财、信用卡等财金领域的原创知识内容，帮助用户学习财金知识。"),U.globalData.redirectUrl=null,x.isLogin((function(e){e!=t.data.needFlash&&(t.setData({page:1,hasmore:!0,isload:!1,needFlash:e,newCourseList:[]}),t.getNewCourse())})),S.action({module:12001})}})})),window.define("19",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=s(),L=null;function U(){var t=x.globalData.token;return t&&""!=t?t:t=O("token")}function P(t){var e=U(),a=!1;e&&""!=e?S.post(D.reqCsaiHost+"/kechengapi/oauth/validateToken.do",{token:e},(function(e){"SUCCESS"==e.resultCode&&"Y"==e.model.canUse&&(a=!0),a||B(),t(a)})):t(a)}function A(t,e){L=t,n.checkSession({success:function(t){var a=function(){var t=x.globalData.sessionKey;return t||((t=O("sessionKey"))&&(x.globalData.sessionKey=t),t)}();a?_(e.encryptedData,e.iv,a):N(e)},fail:function(t){N(e)}})}function N(t){n.getLoginCode({success:function(e){e.code&&function(t,e){var a={code:t};S.get(D.reqCsaiHost+"/kechengapi/oauth/loadSessionKey.do",a,(function(t){if("SUCCESS"==t.resultCode){var a=t.model;i=a.sessionKey,x.globalData.sessionKey=i,H("sessionKey",i),_(e.encryptedData,e.iv,a.sessionKey)}var i}))}(e.code,t)},fail:function(t){console.log(t)}})}function _(t,e,a){n.showLoading({title:"登录中...",mask:!0});var i={data:t,iv:e,sessionKey:a};M((function(t){i.swanid=t,S.post(D.reqCsaiHost+"/kechengapi/oauth/login.do",i,(function(t){var e;"SUCCESS"==t.resultCode&&(t.model&&t.model.token?(x.globalData.token=t.model.token,x.globalData.uid=t.model.uid,H("uid",t.model.uid),H("token",t.model.token),e=!0,n.hideLoading(),"function"==typeof L&&L(e)):k.layer.info(t.resultMsg)),n.hideLoading()}))}))}function M(t){var e=x.globalData.swanid;e?t(e):n.getSwanId({success:function(e){e.data&&(x.globalData.swanid=e.data.swanid,t(e.data.swanid))},fail:function(e){t(0)}})}function H(t,e){n.setStorage({key:t,data:e})}function O(t){try{var e=n.getStorageSync(t);return e||e}catch(t){}return null}function B(){x.globalData.token="",function(t,e){try{n.setStorageSync(t,e)}catch(t){}}("token","")}function q(t,e){x.globalData.token=t,x.globalData.uid=e||0,H("uid",e||0),H("token",t)}function E(t,e,a){n.hideLoading(),"SUCCESS"==a.resultCode?a.model?(a.model.token&&q(a.model.token,a.model.uid),e(a,{show:""}),t.fun({show:""})):(e(a,{show:""}),t.fun({show:""})):e(a,{})}function R(t){k.layer.info("请先登录"),e((function(){n.navigateTo({url:"/pages/my/login/login?backUrl="+(t||"")})}),400)}a.exports={dealLogin:function(t,e){n.showLoading({title:"请稍等...",mask:!0}),"login"==t.show?function(t,e){S.post(D.reqCsaiHost+"/kechengapi/user/dologin.do",t,(function(a){E(t,e,a)}))}(t,e):"phone"==t.show&&function(t,e){S.post(D.reqCsaiHost+"/kechengapi/user/bindPhone.do",t,(function(a){E(t,e,a)}))}(t,e)},login:function(t,e,a){var i={show:""};i.fun=t,P((function(o){o?(i.show="",t(i)):(i.show="login",i.tip="为了保存您的学习记录，请登录",i.btn="快捷登录",t(i),e&&R(a))}))},setToken:q,againLogin:function(t,e){B(),A(t,e)},clear:B,isLogin:P,getSwanId:M,isExistToken:function(){var t=U();return!(!t||""==t)},getOpenId:function(t){if(x.globalData.openid)return t(x.globalData.openid);n.getLoginCode({success:function(e){console.log("是否登陆",e),function(t,e){var a={code:t};S.get(D.reqCsaiHost+"/kechengapi/oauth/getBaiduOpenIdByCode.do",a,(function(t){if("SUCCESS"==t.resultCode){var a=t.model;x.globalData.openid=a.openId,e(a.openId)}else e(0)}),(function(){e(0)}))}(e.code,t)},fail:function(e){console.log(e),t("")}})},goLogin:R}})),window.define("20",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";function T(t){return N(D(A(t),8*t.length))}function D(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var a=1732584193,i=-271733879,o=-1732584194,n=271733878,s=0;s<t.length;s+=16){var d=a,r=i,c=o,u=n;a=k(a,i,o,n,t[s+0],7,-680876936),n=k(n,a,i,o,t[s+1],12,-389564586),o=k(o,n,a,i,t[s+2],17,606105819),i=k(i,o,n,a,t[s+3],22,-1044525330),a=k(a,i,o,n,t[s+4],7,-176418897),n=k(n,a,i,o,t[s+5],12,1200080426),o=k(o,n,a,i,t[s+6],17,-1473231341),i=k(i,o,n,a,t[s+7],22,-45705983),a=k(a,i,o,n,t[s+8],7,1770035416),n=k(n,a,i,o,t[s+9],12,-1958414417),o=k(o,n,a,i,t[s+10],17,-42063),i=k(i,o,n,a,t[s+11],22,-1990404162),a=k(a,i,o,n,t[s+12],7,1804603682),n=k(n,a,i,o,t[s+13],12,-40341101),o=k(o,n,a,i,t[s+14],17,-1502002290),a=x(a,i=k(i,o,n,a,t[s+15],22,1236535329),o,n,t[s+1],5,-165796510),n=x(n,a,i,o,t[s+6],9,-1069501632),o=x(o,n,a,i,t[s+11],14,643717713),i=x(i,o,n,a,t[s+0],20,-373897302),a=x(a,i,o,n,t[s+5],5,-701558691),n=x(n,a,i,o,t[s+10],9,38016083),o=x(o,n,a,i,t[s+15],14,-660478335),i=x(i,o,n,a,t[s+4],20,-405537848),a=x(a,i,o,n,t[s+9],5,568446438),n=x(n,a,i,o,t[s+14],9,-1019803690),o=x(o,n,a,i,t[s+3],14,-187363961),i=x(i,o,n,a,t[s+8],20,1163531501),a=x(a,i,o,n,t[s+13],5,-1444681467),n=x(n,a,i,o,t[s+2],9,-51403784),o=x(o,n,a,i,t[s+7],14,1735328473),a=L(a,i=x(i,o,n,a,t[s+12],20,-1926607734),o,n,t[s+5],4,-378558),n=L(n,a,i,o,t[s+8],11,-2022574463),o=L(o,n,a,i,t[s+11],16,1839030562),i=L(i,o,n,a,t[s+14],23,-35309556),a=L(a,i,o,n,t[s+1],4,-1530992060),n=L(n,a,i,o,t[s+4],11,1272893353),o=L(o,n,a,i,t[s+7],16,-155497632),i=L(i,o,n,a,t[s+10],23,-1094730640),a=L(a,i,o,n,t[s+13],4,681279174),n=L(n,a,i,o,t[s+0],11,-358537222),o=L(o,n,a,i,t[s+3],16,-722521979),i=L(i,o,n,a,t[s+6],23,76029189),a=L(a,i,o,n,t[s+9],4,-640364487),n=L(n,a,i,o,t[s+12],11,-421815835),o=L(o,n,a,i,t[s+15],16,530742520),a=U(a,i=L(i,o,n,a,t[s+2],23,-995338651),o,n,t[s+0],6,-198630844),n=U(n,a,i,o,t[s+7],10,1126891415),o=U(o,n,a,i,t[s+14],15,-1416354905),i=U(i,o,n,a,t[s+5],21,-57434055),a=U(a,i,o,n,t[s+12],6,1700485571),n=U(n,a,i,o,t[s+3],10,-1894986606),o=U(o,n,a,i,t[s+10],15,-1051523),i=U(i,o,n,a,t[s+1],21,-2054922799),a=U(a,i,o,n,t[s+8],6,1873313359),n=U(n,a,i,o,t[s+15],10,-30611744),o=U(o,n,a,i,t[s+6],15,-1560198380),i=U(i,o,n,a,t[s+13],21,1309151649),a=U(a,i,o,n,t[s+4],6,-145523070),n=U(n,a,i,o,t[s+11],10,-1120210379),o=U(o,n,a,i,t[s+2],15,718787259),i=U(i,o,n,a,t[s+9],21,-343485551),a=P(a,d),i=P(i,r),o=P(o,c),n=P(n,u)}return Array(a,i,o,n)}function S(t,e,a,i,o,n){return P((s=P(P(e,t),P(i,n)))<<(d=o)|s>>>32-d,a);var s,d}function k(t,e,a,i,o,n,s){return S(e&a|~e&i,t,e,o,n,s)}function x(t,e,a,i,o,n,s){return S(e&i|a&~i,t,e,o,n,s)}function L(t,e,a,i,o,n,s){return S(e^a^i,t,e,o,n,s)}function U(t,e,a,i,o,n,s){return S(a^(e|~i),t,e,o,n,s)}function P(t,e){var a=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(a>>16)<<16|65535&a}function A(t){for(var e=Array(),a=0;a<8*t.length;a+=8)e[a>>5]|=(255&t.charCodeAt(a/8))<<a%32;return e}function N(t){for(var e="0123456789abcdef",a="",i=0;i<4*t.length;i++)a+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return a}e.exports={hex_md5:T}})),window.define("23",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5);n();Page({data:{navIndex:0,navData:[{name:"热门评测",id:0,check:!0}],hotArtList:[],page:1,hasmore:!0,isload:!1,companyList:[],artClassList:[]},onLoad:function(){this.getHotArticle(),S.setTkd("保险评测 - 希财网","","")},bindNav:function(t){var e=t.currentTarget.dataset.id;1==e?this.getArtClass():2==e&&this.getCompany(),this.setData({navIndex:e})},getHotArticle:function(){var t=this,e={page:1,limit:20};D.post(T.reqCsaiHost+"/kechengapi/article/loadHotArticle.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model.hotArticle.datas;a&&t.setData("hotArtList[0]",a)}}))},getNewestArticle:function(){var t=this,e=t.data.page,a={page:e,limit:10};t.data.hasmore&&(t.setData({isload:!0}),D.post(T.reqCsaiHost+"/kechengapi/article/loadNewestArticle.do",a,(function(a){if("SUCCESS"==a.resultCode){var i=a.model.newestArticle.datas;i&&i.length>0&&(t.setData("hotArtList["+e+"]",i),t.data.page=e+1),t.setData({isload:!1}),t.data.page>8&&(t.data.hasmore=!1)}})))},getCompany:function(){var t=this;t.data.companyList.length>0||(t.setData({isload:!0}),D.post(T.reqCsaiHost+"/kechengapi/article/loadCompanysByGroup.do",{limit:999},(function(e){if("SUCCESS"==e.resultCode){var a=[],i=e.model;if(i)for(var o=Object.getOwnPropertyNames(i).sort(),n=0;n<o.length;n++){var s=o[n];i[s];a.push({key:s,items:i[s]})}t.setData({companyList:a,isload:!1})}})))},getArtClass:function(){var t=this;t.data.artClassList.length>0||(t.setData({isload:!0}),D.post(T.reqCsaiHost+"/kechengapi/article/loadArticleClasses.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&a.length>0&&t.setData({artClassList:a,isload:!1})}})))},bindSearch:function(){D.action({module:41001}),o.navigateTo({url:"../result/result"})},onReachBottom:function(){0==this.data.navIndex&&this.getNewestArticle()},onShow:function(){D.action({module:41010})},bindbxzx:function(){o.navigateTo({url:"/pages/comm/webload/webload?url="+escape("https://m.csai.cn/bx/zx/?from_id=107&top=xcx")})}})})),window.define("26",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(19),x=t(20),L=t(5),U=s();Page({data:{imgHost:D.imgHost,csaiUrl:D.csaiUrl,zytUrl:D.zytUrl,isMember:!1,id:0,artDetail:"",isShow:!0,cheacked:!0,codeTit:{title:"获取验证码",click:!0},countdown:60,clearCountdown:"",payType:"zfb",telValue:"",payTkShow:!1,isPhoneShow:!0,isCanView:"Y",privateKey:"",sessionId:"",firstPayMd:!0,firstNopayMd:!0,pcType:"",isBindShow:!1,fromCode:"1001",authTk:!0,codeStats:!0,bxadv:{},commentParam:{}},onLoad:function(t){this.data.id=t.id,this.isMemberDt(),this.getArtDet(),this.getAdvs()},bindShowWz:function(t){this.data.isMember,t.currentTarget.dataset.url},getArtDet:function(t){var e=this,a={articleId:e.data.id};S.post(D.reqCsaiHost+"/kechengapi/article/loadArticleDetail.do",a,(function(a){if("SUCCESS"==a.resultCode){var i=a.model,o=i.article;if(o.createTime&&(o.createTime=L.formatTime(o.createTime,"Y-M-D")),o.initVisitNum=o.initVisitNum?parseInt(o.initVisitNum):0,o.visitNum=o.visitNum?parseInt(o.visitNum):0,o.title&&e.setNavBar(o.title.replace(/对比：|分析：/,"")),o.content?o.content=L.autoImg(o.content):o.feeIntroduce&&(o.feeIntroduce=L.autoImg(o.feeIntroduce)),i.yuedu)for(var n=0;n<i.yuedu.length;n++){var s=i.yuedu[n];s.imgUrl&&-1==s.imgUrl.indexOf("http")&&(i.yuedu[n].imgUrl="https:"+s.imgUrl)}L.setTkd(o.title,o.keyword,o.description),e.setPlParam(i.article,"COMPARE"==o.type),e.setData("artDetail",i),e.data.pcType="COMPARE"==o.type?"对比":"分析","Y"==i.eduArticle.canView?(e.setData({isCanView:"Y"}),e.data.firstNopayMd&&(e.data.firstNopayMd=!1,S.action({module:41002,dataId:e.data.id,textValue1:e.data.pcType}))):(e.setData({isCanView:"N"}),e.data.firstPayMd&&(e.data.firstPayMd=!1,S.action({module:41003,dataId:e.data.id,textValue1:e.data.pcType})),"function"==typeof t&&t())}}))},isMemberDt:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;t.setData("isMember","Y"==a.isVip)}else"NOT_LOGIN"==e.resultCode&&k.clear()}))},setNavBar:function(t){n.setNavigationBarTitle({title:t})},bindLink:function(t){var e=t.currentTarget.dataset,a=e.url.replace(/\s+/g,""),i=e.title;a=a.replace("{from_title}",escape(i)),n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)})},goLink:function(t){var e=t.currentTarget.dataset.url;e&&n.navigateTo({url:e})},showClick:function(t){var e=t.currentTarget.dataset.id;n.navigateTo({url:"/pages/bxpc/pcshow/pcshow?id="+e})},agreeXy:function(t){var e=t.currentTarget.dataset.cheack;this.setData({cheacked:!e})},hideTc:function(t){this.setData({isBindShow:!1})},goXyLink:function(t){var e=t.currentTarget.dataset.url;e&&n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)})},authCancel:function(t){this.setData({authTk:!this.data.authTk})},authClick:function(t){var e=this;n.authorize({scope:"scope.userInfo",success:function(t){k.login((function(t){t?(e.data.isAuth=!0,e.getArtDet((function(){e.bindShowBuy()}))):n.showToast({title:"未授权，登录失败"})})),e.setData("authTk",!0)},fail:function(t){n.showToast({title:"授权失败"}),e.setData("authTk",!0)}})},bindInput:function(t){this.data.telValue=t.detail.value},random:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return this.random()+this.random()+"-"+this.random()+"-"+this.random()+"-"+this.random()+"-"+this.random()+this.random()+this.random()},getPrivateKey:function(t){var e=this,a=this.data.telValue,i=this.data.codeStats,o=t.currentTarget.dataset;e.isPhone(a)&&1==o.click&&(e.data.sessionId=e.guid(),S.post(D.reqCsaiHost+"/kechengapi/loadPrivateKey.do",{},(function(t){"SUCCESS"==t.resultCode&&i&&(e.data.privateKey=t.model.privateKey,e.getCode())})))},getCode:function(t){var e=this,a=e.data.privateKey,i=e.data.sessionId,o=e.data.telValue,n=(new Date).getMilliseconds(),s={phone:o,sessionId:i,privateKey:a,sign:x.hex_md5(o+n+a),timestamp:n};S.post(D.reqCsaiHost+"/kechengapi/sms/send.do",s,(function(t){"SUCCESS"==t.resultCode&&e.countdown()}))},countdown:function(){var t=this,a=t.data.countdown;if(0==a)return t.data.countdown=60,t.data.codeStats=!0,void t.setData("codeTit",{title:"获取验证码",click:!0});t.setData("codeTit",{title:"重新发送("+a+")",click:!1}),t.data.countdown=--a,t.data.clearCountdown=e((function(){t.countdown()}),1e3)},formSubmit:function(t){var e=this,a=t.detail.value,i=e.data.sessionId;if(e.isPhone(a.phone))if(""!=a.code){S.action({module:41005,dataId:this.data.id,textValue1:a.phone});a={phone:a.phone,code:a.code,sessionId:i,oid:e.data.id,fromCode:e.data.fromCode};S.post(D.reqCsaiHost+"/kechengapi/user/bindPhone.do",a,(function(t){"SUCCESS"==t.resultCode?(e.data.clearCountdown&&clearTimeout(e.data.clearCountdown),L.layer.info("绑定成功"),e.setData({isBindShow:!1})):L.layer.info(t.resultMsg)}))}else L.layer.info("请输入短信验证码")},isPhone:function(t){if(""==t)return L.layer.info("请输入您的手机号码"),!1;return!!/^(13|15|17|18|14|16|19)\d{9}$/.test(t)||(L.layer.info("手机号码格式不正确"),!1)},addOrder:function(t){var e="WXGZH";"zfb"==this.data.payType&&(e="ALIPAYH5");var a=this.data.artDetail.article.id;S.action({module:41004,dataId:this.data.id,textValue1:this.data.pcType});var i={articleId:a,payType:"BAIDU"};S.post(D.reqCsaiHost+"/kechengapi/user/submitArticleOrder.do",i,(function(t){if("SUCCESS"==t.resultCode){var a=t.model,i={siteId:9};i.outTradeNo=a.order.orderId,i.amount=a.order.payPrice,i.descp=a.order.remark?a.order.remark:"订单支付",i.notifyUrl=a.callBackUrl,i.redirectUrl=a.payredirectUrl+"&id="+a.order.orderId,i.payType=e,i.equip="MOBILE",i.currentUrl="/bxpc/pcshow/pcshow/";var o=escape(JSON.stringify(i));n.navigateTo({url:"/pages/comm/pay/pay?payInfo="+btoa(o)})}}))},isBindPhone:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/user/hasBindPhone.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model.bindPhone;t.setData({isPhoneShow:"Y"==a})}else"NOT_LOGIN"==e.resultCode&&k.clear()}))},bindPhone:function(){this.setData({isShow:!1}),S.action({module:12019,dataId:this.data.id,textValue1:this.data.pcType})},onShow:function(){var t=U.globalData.redirectUrl;!t||-1==t.indexOf("/kecheng/my/payMember")&&-1==t.indexOf("/bxpc/pcshow/pcshow/")||(U.globalData.redirectUrl="",this.isBindPhone(),this.getArtDet(),this.setData({payTkShow:!1,isBindShow:!0}))},bindShowBuy:function(t){var e=this;S.action({module:12009,dataId:e.data.courseId,textValue1:""}),k.login((function(t){t?e.setData({payTkShow:!0}):e.setData("authTk",!1)}))},bindPayMeth:function(t){var e=t.currentTarget.dataset.type;this.setData({payType:e})},onHide:function(){clearTimeout(this.data.clearCountdown)},bindCancel:function(){this.setData({payTkShow:!1})},getAdvs:function(){var t=this,e=U.globalData.kecheng_baidu_ad_bxpc;e?t.setData("bxadv",e):S.get(D.csaiUrl+"/api/getad.do",{code:"kecheng_baidu_ad_bxpc"},(function(e){e&&(t.setData("bxadv",e),U.globalData.kecheng_baidu_ad_bxpc=e)}))},setPlParam:function(t,e){var a=U.globalData.openid,i={snid:t.id+(e?"300000000":"400000000"),openid:a,path:"/pages/bxpc/pcshow/pcshow?&id="+t.id,title:t.title,content:t.content};this.commentParam=i},getOpenid:function(){var t=this;k.getOpenId((function(e){t.setData("commentParam.openid",e)}))}})})),window.define("29",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10);n();Page({data:{imgHost:T.imgHost,navIndex:0,navData:[{name:"全部",id:0,check:!0,type:"all"},{name:"分析",id:1,check:!1,type:"COMPARE"},{name:"对比",id:2,check:!1,type:"ANALYZE"},{name:"介绍",id:3,check:!1,type:"INTRO"}],keyWord:"",searchResList:[],fxList:[],dbList:[],jsList:[],isload:!1,oldKeyWord:"",page1:1,page2:1,page3:1,page4:1,isMore1:!0,isMore2:!0,isMore3:!0,isMore4:!0,isNodata1:!0,isNodata2:!0,isNodata3:!0,isNodata4:!0},onLoad:function(t){this.setData({keyWord:t.keyWord}),this.getSearchRes(),o.setNavigationBarTitle({title:"保险评测"})},bindNav:function(t){for(var e=t.currentTarget.dataset.id,a=this.data.navData,i=0;i<a.length;i++)e==a[i].id?a[i].check=!0:a[i].check=!1;this.setData({navData:a,navIndex:e}),1!=this.data.page1&&1!=this.data.page2&&1!=this.data.page3&&1!=this.data.page4||this.getSearchRes()},bindSearchKey:function(t){this.data.keyWord=t.detail.value,this.data.page1=1,this.data.page2=1,this.data.page3=1,this.data.page4=1,this.data.isMore1=!0,this.data.isMore2=!0,this.data.isMore3=!0,this.data.isMore4=!0,this.setData({searchResList:[],fxList:[],dbList:[],jsList:[],isNodata1:!0,isNodata2:!0,isNodata3:!0,isNodata4:!0}),this.getSearchRes()},bindSearch:function(){this.data.oldKeyWord!=this.data.keyWord&&(this.data.page1=1,this.data.page2=1,this.data.page3=1,this.data.page4=1,this.data.isMore1=!0,this.data.isMore2=!0,this.data.isMore3=!0,this.data.isMore4=!0,this.setData({searchResList:[],fxList:[],dbList:[],jsList:[]}),this.getSearchRes())},getSearchRes:function(){var t,e=this,a=1,i=e.data.navIndex,o="";if(0==i?(o="",a=e.data.page1,t=e.data.isMore1):1==i?(a=e.data.page2,t=e.data.isMore2,o="ANALYZE"):2==i?(a=e.data.page3,t=e.data.isMore3,o="COMPARE"):(a=e.data.page4,t=e.data.isMore4,o="INTRO"),t){var n={page:a,limit:15,type:o,keyWord:e.data.keyWord};e.data.oldKeyWord=e.data.keyWord,e.setData({isload:!0}),D.post(T.reqCsaiHost+"/kechengapi/article/searchProd.do",n,(function(t){if("SUCCESS"==t.resultCode){var o=[],n=t.model;if(n.articles)for(var s=0;s<n.articles.length;s++){var d=n.articles[s];e.data.keyWord&&-1!=d.title.indexOf(e.data.keyWord)&&(d.title=d.title.replace(e.data.keyWord,'<span class="red">'+e.data.keyWord+"</span>")),o.push(d)}if(n.introList)for(s=0;s<n.introList.length;s++){d=n.introList[s];e.data.keyWord&&-1!=d.planName.indexOf(e.data.keyWord)&&(d.planName=d.planName.replace(e.data.keyWord,'<span class="red">'+e.data.keyWord+"</span>")),o.push(d)}0==i?(e.data.page1+=1,e.setData("searchResList["+(a-1)+"]",o),e.setData({isNodata1:e.data.searchResList[0].length>0}),e.data.isMore1=o.length>=15):1==i?(e.data.page2+=1,e.setData("fxList["+(a-1)+"]",o),e.setData({isNodata2:e.data.fxList[0].length>0}),e.data.isMore2=o.length>=15):2==i?(e.data.page3+=1,e.setData("dbList["+(a-1)+"]",o),e.setData({isNodata3:e.data.dbList[0].length>0}),e.data.isMore3=o.length>=15):(e.data.page4+=1,e.setData("jsList["+(a-1)+"]",o),e.setData({isNodata4:e.data.jsList[0].length>0}),e.data.isMore4=o.length>=15),e.setData({isload:!1})}}))}},onReachBottom:function(){this.getSearchRes()}})})),window.define("32",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5),k=t(19),x=n();Page({data:{imgHost:T.imgHost,zytUrl:T.zytUrl,id:0,artDetail:"",adObj:{},commentParam:{},canIUse:!1},onLoad:function(t){this.data.id=t.id,this.getArtDet();var e=o.getSystemInfoSync();S.compareVersion(e.SDKVersion,"3.180.3")>=0&&this.setData("canIUse",!0)},getArtDet:function(){var t=this,e={introId:t.data.id};D.post(T.reqCsaiHost+"/kechengapi/article/loadIntroDetail.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model,i=a.intro;if(a)i.createTime&&(i.createTime=S.formatTime(i.createTime,"Y-M-D")),i.planName&&t.setNavBar(i.planName),i.initVisitNum=i.initVisitNum?parseInt(i.initVisitNum):0,i.visitNum=i.visitNum?parseInt(i.visitNum):0,i.content&&(i.content=S.autoImg(i.content)),S.setTkd(i.title,i.keyword,i.description),a.intro=i,t.setData("artDetail",a),t.setPlParam(a.intro),t.getAdvs()}}))},bindLinkIntro:function(t){var e,a=t.currentTarget.dataset,i=a.id,n=a.type;e="COMPARE"==n||"ANALYZE"==n?"../pcshow/pcshow":"../jsshow/jsshow",o.navigateTo({url:e+"?id="+i})},bindLink:function(t){var e=t.currentTarget.dataset,a=e.url;a=(a=a.replace("{from_title}",e.title)).replace("{tagName}",e.tagName),o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)})},setNavBar:function(t){o.setNavigationBarTitle({title:t})},showClick:function(t){var e=t.currentTarget.dataset.id;o.navigateTo({url:"/pages/wdshow/wdshow?id="+e})},getAdvs:function(){var t=this,e=x.globalData.kecheng_baidu_ad_bxpc;if(e){var a=e;a.txtAd1&&a.txtAd1.txtred&&(a.txtAd1.txtred=a.txtAd1.txtred.replace("{icAbb}",t.data.artDetail.intro.icAbb)),t.setData("adObj",a)}else D.get(T.csaiUrl+"/api/getad.do",{code:"kecheng_baidu_ad_bxpc"},(function(e){e&&(x.globalData.kecheng_baidu_ad_bxpc=e,e.txtAd1&&e.txtAd1.txtred&&(e.txtAd1.txtred=e.txtAd1.txtred.replace("{icAbb}",t.data.artDetail.intro.icAbb)),t.setData("adObj",e))}))},setPlParam:function(t){var e=x.globalData.openid,a={snid:t.id+"500000000",openid:e,path:"/pages/bxpc/jsshow/jsshow?&id="+t.id,title:t.planName,content:t.content};this.setData({commentParam:a})},getOpenid:function(){var t=this;k.getOpenId((function(e){t.setData("commentParam.openid",e)}))}})})),window.define("35",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=s();Page({data:{imgHost:D.imgHost,zytUrl:D.zytUrl,id:0,cmsinfo:{},relCmsList:[],newCmsList:[],page:1,hasmore:!0,isload:!1,tagBxArticles:[],bxtagName:"",channelId:0,commentParam:{},detailPath:"",canIUse:!1,isIos:!1,toolbarConfig:{share:{title:"希财网"}},wdList:[],showCourseAd:!1,relateReadTop:0,hasClose:!1,tradeHyMode:!1},onLoad:function(t){var e=t.id;if(e){if(e>2e9&&"baoxian"==t.channel)return void n.redirectTo({url:"/pages/comm/dhshow/dhshow?id="+e});this.setData("id",e),1==t.isCms&&S.action({module:50330,dataId:this.data.courseId}),this.getCmsInfo(),this.getSysInfo()}var a=n.getSystemInfoSync();k.compareVersion(a.SDKVersion,"3.180.3")>=0&&this.setData("canIUse",!0),-1==a.system.toLowerCase().indexOf("android")&&this.setData("isIos",!0)},onShow:function(){this.setData({showCourseAd:!1})},onPageScroll:function(t){this.data.tradeHyMode&&this.data.relateReadTop&&2!=this.data.cmsinfo.channelId&&4!=this.data.cmsinfo.channelId&&t.scrollTop>=this.data.relateReadTop&&!this.data.hasClose&&this.data.isIos},onReady:function(){requireDynamicLib("myDynamicLib").listenEvent()},closeMask:function(){this.setData({showCourseAd:!1})},getSysInfo:function(){var t=this,a=L.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),200):"Android"==a.dev&&t.setData({tradeHyMode:!0})},getCmsInfo:function(){var t=this;S.get("/api/article.do",{id:t.data.id},(function(a){if("SUCCESS"==a.resultCode){var i=a.model,o=i.article;if(o.createTime=o.createTime?k.formatTime(o.createTime,"Y-M-D h:m"):"",o.content&&(o.content=k.autoImg(o.content),o.content=o.content.replace(/<p>/g,"<p class='p'>").replace(/&times;/gi,"&#215;").replace(/&divide;/gi,"&#247;"),o.content=o.content.replace(/\{\#CsaiShopPlugin\[(\d|,)*\]\#\}/gi,"")),o.tagList){var s=t.getBxtagName(o,1),d=s||t.getBxtagName(o,2);t.setData("bxtagName",d)}t.setPlParam(o),t.setData("cmsinfo",o),o.channelId>0&&(t.data.channelId=o.channelId),t.setData("tagBxArticles",i.tagBxArticles);for(var r=[],c=i.tagArticles,u=0;u<c.length;u++){var l=c[u];"Y"==l.img&&-1==l.imgUrl.indexOf("https")&&(l.imgUrl="https:"+l.imgUrl),l.createTime=l.createTime?k.formatTime(l.createTime,"Y-M-D h:m"):"",r.push(l)}if(t.setData("relCmsList",r),e((function(){n.createSelectorQuery().select(".relateRead").boundingClientRect((function(e){e&&e.top&&t.setData({relateReadTop:e.top+100})})).exec()}),1e3),new Date(o.createTime.replace(/-/g,"/")).getTime()>1654559569e3){var g=i.tkd;g&&k.setTkd(g.title,g.kword,g.descp,o.imgUrl)}else k.setTkd(o.artTitle+" - 希财网",o.keyword,o.description,o.imgUrl);t.data.isIos&&t.getWendaList(),t.getNewList()}}))},getBxtagName:function(t,e){for(var a=0;a<t.tagList.length;a++){var i=t.tagList[a];if(i.tagType==e)return i.name}return""},setPlParam:function(t){L.globalData.openid;var e="/pages/show/show?channel="+t.channelpinyin+"&id="+t.id,a={snid:""+(t.id+1e8),path:e,title:t.artTitle,content:t.content};this.setData({commentParam:a,toolbarConfig:{share:{title:t.artTitle,path:e}}})},clickComment:function(t){t.data.srid;var e=this.data.cmsinfo;this.setData({detailPath:"/pages/show/show?channel="+e.channelpinyin+"&id="+e.id})},showClick:function(t){var e=t.currentTarget.dataset.id.split("|"),a=e[0],i=e[1];n.navigateTo({url:"/pages/show/show?channel="+i+"&id="+a})},getNewList:function(){var t=this,e=t.data.page;if(t.data.hasmore){var a={channelId:t.data.channelId,page:e,size:5};t.setData("isload",!0),S.get("/api/channelArticles.do",a,(function(a){if("SUCCESS"==a.resultCode){for(var i=[],o=a.model.datas,n=0;n<o.length;n++){var s=o[n];"Y"==s.img&&-1==s.imgUrl.indexOf("https")&&(s.imgUrl="https:"+s.imgUrl),s.createTime=s.createTime?k.formatTime(s.createTime,"Y-M-D h:m"):"",i.push(s)}t.data.hasmore=a.model.totalPages>e,t.data.page=e+1,t.setData("newCmsList["+(e-1)+"]",i)}t.setData({isload:!1})}))}},getOpenid:function(){var t=this;x.getOpenId((function(e){t.setData("commentParam.openid",e)}))},onReachBottom:function(){this.getNewList()},getWendaList:function(){var t=this,e="",a=0;switch(1*t.data.channelId){case 24:e="LC",a=24;break;case 23:e="GP",a=23;break;case 6:e="JJ",a=25}var i={page:1,channelId:a,size:10,ordseg:"id.desc",jxType:e};S.get("/api/quesPage.do",i,(function(e){if("SUCCESS"==e.resultCode){var a=e.model.datas;a&&t.setData("wdList",a)}}))},bindLink:function(t){S.action({module:41007,dataId:this.data.id});var e=t.url.replace(/\s+/g,"");if(e.indexOf("weixin://")>-1){var a=e.replace("weixin://","");k.setClipboard(a,(function(){}),"复制成功，请打开微信添加好友。")}else if("xcx"==e)k.goXcx(t.key,t.path);else{var i=this.data.cmsinfo,o=i.title,s=i.operUname,d=i.operUid,r=i.createTime;(e=(e=(e=(e=e.replace("{from_title}",escape(o))).replace("{auth_id}",escape(d))).replace("{auth_name}",escape(s))).replace("{create_time}",escape(r))).indexOf("http")>-1?n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)}):n.navigateTo({url:e})}}})})),window.define("38",(function(t,e,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=s();Page({data:{imgHost:D.imgHost,id:0,cmsinfo:{},relWdList:[],relCmsList:[],kgQuesList:[],newCmsList:[],page:1,hasmore:!0,isload:!1,commentParam:{},canIUse:!1,channelId:0,dcsxList:[],currentTime:"00:00",totalTime:"00:00",play:!1,sliderValue:0,isStop:!0,flag:!1,isIos:!1},onLoad:function(t){t.id&&this.setData("id",t.id);var e=n.getSystemInfoSync();k.compareVersion(e.SDKVersion,"3.180.3")>=0&&this.setData("canIUse",!0),-1==e.system.toLowerCase().indexOf("android")&&this.setData("isIos",!0),this.getCmsInfo()},getCmsInfo:function(){var t=this,e={id:t.data.id};S.get("/api/question2.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model,i=a.question;if(i.createTime&&(i.createTime=k.formatTime(i.createTime,"Y-M-D h:m")),i.answers&&i.answers.length>0?(i.content=k.autoImg(i.answers[0].content),i.content=i.content.replace(/&times;/gi,"&#215;").replace(/&divide;/gi,"&#247;")):i.content="",i.imgUrl&&-1==i.imgUrl.indexOf("http")&&(i.imgUrl="https:"+i.imgUrl),t.setData("cmsinfo",i),t.setPlParam(i),a.kgQues&&t.setData("kgQuesList",a.kgQues),a.tagQues&&t.setData("relWdList",a.tagQues),i.id>981381){var o=a.tkd;o&&k.setTkd(o.title,o.kword,o.descp,i.imgUrl)}else k.setTkd(i.title+" - 希财网",i.title,i.acceptedAnswer,i.imgUrl);var n=i.channelId;if(29==n){switch(i.jxType){case"DK":n=2;break;case"LC":n=24;break;case"BX":n=22;break;case"XYK":n=4;break;case"GP":n=23;break;case"JJ":n=6;break;default:n=22}t.listenFun()}t.data.channelId=n,t.data.isIos&&t.getRelCmsList(),t.getNewList()}}))},showClick:function(t){var e=t.currentTarget.dataset.id;n.navigateTo({url:"/pages/wdshow/wdshow?id="+e})},showClick1:function(t){var e=t.currentTarget.dataset.id.split("|"),a=e[0],i=e[1];n.navigateTo({url:"/pages/show/show?channel="+i+"&id="+a})},bindLink:function(t){var e=t.url.replace(/\s+/g,"");if(e.indexOf("weixin://")>-1){var a=e.replace("weixin://","");k.setClipboard(a,(function(){}),"复制成功，请打开微信添加好友。")}else if("xcx"==e)k.goXcx(t.key,t.path);else{var i=this.data.cmsinfo,o=i.title,s=i.operUname,d=i.operUid,r=i.createTime;(e=(e=(e=(e=e.replace("{from_title}",escape(o))).replace("{auth_id}",escape(d))).replace("{auth_name}",escape(s))).replace("{create_time}",escape(r))).indexOf("http")>-1?n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)}):n.navigateTo({url:e})}},getRelCmsList:function(){var t=this,e={channelId:t.data.channelId,page:1,size:5};S.get("/api/channelArticles.do",e,(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model.datas,o=0;o<i.length;o++){var n=i[o];"Y"==n.img&&n.imgUrl&&-1==n.imgUrl.indexOf("http")&&(n.imgUrl="https:"+n.imgUrl),n.createTime=n.createTime?k.formatTime(n.createTime,"Y-M-D h:m"):"",a.push(n)}t.setData("relCmsList",a)}}))},getNewList:function(){var t=this,e=t.data.channelId;if(29==e&&"JJ"==t.cmsinfo.jxType&&(e=6),!(e<=0)){var a=t.data.page;if(t.data.hasmore){var i={channelId:e,page:t.data.isIos?a+1:a,size:5};t.setData("isload",!0),S.get("/api/channelArticles.do",i,(function(e){if("SUCCESS"==e.resultCode){for(var i=[],o=e.model.datas,n=0;n<o.length;n++){var s=o[n];"Y"==s.img&&s.imgUrl&&-1==s.imgUrl.indexOf("http")&&(s.imgUrl="https:"+s.imgUrl),s.createTime=s.createTime?k.formatTime(s.createTime,"Y-M-D h:m"):"",i.push(s)}t.data.hasmore=e.model.totalPages>a,t.data.page=a+1,t.setData("newCmsList["+(a-1)+"]",i)}t.setData({isload:!1})}))}}},onReachBottom:function(){this.getNewList()},bdParseImgTap:function(t){var e=t.target.dataset.src;n.previewImage({current:e,urls:[e]})},setPlParam:function(t){L.globalData.openid;var e="/pages/wdshow/wdshow?id="+t.id,a={snid:""+(t.id+2e8),path:e,title:t.title,content:t.content};this.setData({commentParam:a,toolbarConfig:{share:{title:t.title,path:e}}})},getOpenid:function(){var t=this;x.getOpenId((function(e){t.setData("commentParam.openid",e)}))},getDcsxList:function(){var t=this;S.get("/api/getad.do",{code:"baidu_article_ad_dcsxzl"},(function(e){e&&t.setData({dcsxList:e})}))},onHide:function(){this.stopTimer(),this.audioContext.destroy()},onUnload:function(){this.stopTimer(),this.audioContext.destroy()},bindplay:function(t){this.audioContext.paused?this.currentTime>=this.data.cmsinfo.audioDuration?this.resetTimer():this.audioContext.play():this.audioContext.pause()},listenFun:function(){var t=this;this.setData("totalTime",this.getTime(this.data.cmsinfo.audioDuration));var e=n.createInnerAudioContext();e.onPlay((function(e){t.setData({play:!0,isStop:!1}),t.startTimer()})),e.onStop((function(e){t.setData("play",!1),t.stopTimer()})),e.onPause((function(e){t.setData("play",!1),t.stopTimer()})),e.onEnded((function(){t.audioContext.stop(),t.stopTimer()})),this.audioContext=e,this.audioContext.src=this.data.cmsinfo.audioUrl,this.audioContext.play(),this.currentTime=0},seek:function(t){var e=t.detail.value;this.currentTime=e,this.setData({currentTime:this.getTime(this.currentTime)}),this.audioContext.seek(this.currentTime)},startTimer:function(){var t=this;this.timer>0&&this.stopTimer(),this.timer=a((function(){t.flag=!0,t.currentTime++,t.currentTime>=t.data.cmsinfo.audioDuration&&(t.currentTime=t.data.cmsinfo.audioDuration),t.setData({currentTime:t.getTime(t.currentTime),sliderValue:t.currentTime})}),1e3)},resetTimer:function(){this.currentTime=0;var t=this.data.cmsinfo.audioUrl;this.audioContext.src=t,this.audioContext.play(),this.setData({currentTime:this.getTime(0),sliderValue:1})},stopTimer:function(){this.timer&&clearInterval(this.timer),this.timer=0},getTime:function(t,e){var a,i,o=0;return t>=3600&&(t-=3600*(o=parseInt(t/3600,10))),a=parseInt(t/60,10),i=parseInt(t-60*a,10),e?this.getTimeData(o)+":"+this.getTimeData(a)+":"+this.getTimeData(i):this.getTimeData(a)+":"+this.getTimeData(i)},getTimeData:function(t){return t>=10?t:"0"+t}})})),window.define("41",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";t(8),t(10);var D=t(42),S=s();Page({data:{path:"",recordId:"",payinfo:{},notpayArray:["BDWallet"],isIOS:!1},onLoad:function(t){S.globalData.navigationUrl="",S.globalData.redirectUrl="";try{if(t.payInfo){var e=JSON.parse(unescape(atob(t.payInfo)));this.data.payinfo=e,"ALIPAYH5"==e.payType||"ALIPAY"==e.payType?this.data.notpayArray=["WeChat","BDWallet"]:this.data.notpayArray=["Alipay","BDWallet"],D.callPay(this.data.payinfo,this.data.notpayArray)}else this.fails()}catch(t){this.fails()}this.getSysInfo()},getSysInfo:function(){var t=this,a=S.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),100):"IOS"==a.dev&&(t.data.isIOS=!0)},fails:function(){n.navigateBack()},onShow:function(){if(this.data.isIOS)if(2==this.data.payinfo.payMethod)S.globalData.navigationUrl=this.data.payinfo.redirectUrl,n.navigateBack();else{var t=this.data.payinfo.currentUrl+"&v="+(new Date).getTime();n.redirectTo({url:"/pages/comm/webload/webload?url="+escape(this.data.payinfo.redirectUrl)+"&redirectUrl="+escape(t)})}}})})),window.define("42",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5),k=n();function x(t,e,a){o.requestPolymerPayment({orderInfo:{dealId:t.dealId,appKey:t.appKey,totalAmount:t.totalAmount,tpOrderId:t.tpOrderId,dealTitle:t.dealTitle,signFieldsRange:t.signFieldsRange,rsaSign:t.rsaSign,bizInfo:t.bizInfo},bannedChannels:a||["BDWallet"],success:function(t){o.showToast({title:"支付完成",icon:"success",duration:1e3});var a=e.currentUrl+"&v="+(new Date).getTime();2==e.payMethod?(k.globalData.navigationUrl=e.redirectUrl,o.navigateBack()):o.redirectTo({url:"/pages/comm/webload/webload?url="+escape(e.redirectUrl)+"&redirectUrl="+escape(a)})},fail:function(t){console.log(t),a.length>=2&&o.navigateBack()}}),o.hideLoading()}e.exports={goPay:function(t){o.showLoading({title:"正在初始化支付环境",duration:1e4}),D.post(T.reqCsaiHost+t.orderUrl,t.orderData,(function(e){if("SUCCESS"==e.resultCode){var a=e.model,i=a.order?a.order:a,n={},s=e.model.miniProgramParams;n.redirectUrl=a.payredirectUrl?a.payredirectUrl:t.redirectUrl,n.redirectUrl=n.redirectUrl+(-1==n.redirectUrl.indexOf("?")?"?":"&")+"id="+i.orderId,n.currentUrl=t.currentUrl,n.payMethod=t.payMethod,x(s,n,["BDWallet"])}else d=e.resultMsg||"支付异常",o.hideLoading(),S.layer.info(d);var d}))},callPay:function(t,e){var a="https://zfapi.csai.cn/pay/baiduPay.do?";a+="siteId=9",a+="&outTradeNo="+t.outTradeNo,a+="&amount="+t.amount,a+="&descp="+t.descp,a+="&notifyUrl="+t.notifyUrl,a+="&redirectUrl="+escape(t.redirectUrl),a+="&payType=ALIPAYH5",a+="&equip=MOBILE",D.get(a,{},(function(a){"SUCCESS"==a.resultCode?x(a.model,t,e):S.layer.info("唤起支付失败，请重试")}),(function(t){}))}}})),window.define("45",(function(t,e,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(19),x=t(42),L=s();Page({data:{imgHost:D.imgHost,ishy:!1,isfl:!1,proInfo:{},pay:{},yhjList:[],couponId:0,yhjMoney:0,payType:"wx",isshowyh:!1,isshowfl:!1,isshowgz:!1,payinfo:{},id:0,fen:0,miao:0,totalTime:0,disPrice:0,intervalTime:null,tp:0,descp:"新用户限时优惠"},onLoad:function(t){try{var e=JSON.parse(decodeURIComponent(atob(t.payinfo)));-1==e.proInfo.proImg.indexOf("http")&&(e.proInfo.proImg="https:"+e.proInfo.proImg);var a=e.proInfo;a&&(a.disPrice=a.disPrice?1*a.disPrice:0),this.setData({ishy:"true"==t.ishy,isfl:"true"==t.isfl,proInfo:a,pay:e.pay,tp:t.tp?t.tp:"no"})}catch(t){console.log(t)}this.data.id=t.id},loadCoupon:function(){switch(this.data.tp){case"1":k.isExistToken()&&this.loadCanUseCoupon()}},goGetYh:function(){n.navigateTo({url:"/pages/edu/benefits/benefits"})},addClick:function(){this.data.pay.module&&S.action({module:this.data.pay.module,dataId:this.data.id,textValue1:""})},onShow:function(){this.data.proInfo.disPrice>0&&this.getTime(),this.loadCoupon()},showyh:function(t){this.setData({isshowyh:!this.data.isshowyh})},showfl:function(t){},getTime:function(){var t=this;S.get(D.csaiUrl+"/kechengapi/loadConfigByName.do",{name:"unlogin_discount_limit"},(function(e){var a=e.model;if(a)try{a=JSON.parse(a.code),t.data.totalTime=a.time?1*a.time:60,t.setData({descp:a.descp}),t.setTime()}catch(t){}}))},setTime:function(){var t=this;if(100!=t.data.tp){var e="limit"+this.data.tp+t.data.id,i=t.data.totalTime,o=n.getStorageSync(e),s=parseInt((new Date).getTime()/1e3);if(o){if(!(s-o<i))return void t.setData({disPrice:0});i-=s-o}else n.setStorageSync(e,s);t.setData({disPrice:t.data.proInfo.disPrice,fen:Math.floor(i/60),miao:i%60}),t.data.totalTime=i-1,this.data.intervalTime=a((function(){var e=t.data.totalTime;if(e<=0)return clearInterval(t.data.intervalTime),void t.setData({disPrice:0});t.setData({fen:Math.floor(e/60),miao:e%60}),t.data.totalTime=e-1}),1e3)}else{var d=t.data.proInfo.disPrice;d&&d>0&&t.setData({disPrice:d})}},showgz:function(t){this.setData({isshowgz:!this.data.isshowgz})},loadCanUseCoupon:function(){var t=this,e={courseId:this.data.id};S.get(D.csaiUrl+"/kechengapi/user/bdloadCanUseCoupon.do",e,(function(e){if("SUCCESS"==e.resultCode&&e.model){for(var a=e.model,i=0,o=0,n=0;n<a.length;n++)0==n?(a[n].active=!0,i=a[n].id,o=a[n].couponAmount):a[n].active=!1;t.setData({couponId:i,yhjMoney:o/100,yhjList:a})}}))},yhCheeck:function(t){for(var e=t.currentTarget.dataset,a=this.data.yhjList,i=0;i<a.length;i++)a[i].active=!1;a[e.ind].active=!0,this.setData({couponId:a[e.ind].id,yhjMoney:e.v,yhjList:a,isshowyh:!this.data.isshowyh})},onHide:function(){clearInterval(this.data.intervalTime)},addOrder:function(t){if("10004"!==t.detail.errCode&&"904"!==t.detail.errCode){L.globalData.navigationUrl="",L.globalData.redirectUrl="";this.addClick();var e=this.data.pay;this.data.couponId>0&&(e.orderData.couponId=this.data.couponId),this.data.disPrice>0&&this.data.totalTime>0?e.orderData.isActive=2:e.orderData.isActive=0,k.getOpenId((function(t){console.log(t),t&&(e.orderData.openId=t),x.goPay(e,t)}))}}})})),window.define("48",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(5),D=t(19),S=(t(11).getCurrentPageUrl,t(10)),k=n();Page({data:{path:""},onLoad:function(t){var e=k.globalData.token;t.refreshToken&&(e||(D.setToken(t.refreshToken,0),e=t.refreshToken,k.globalData.refreshPage=!0));var a=t.url;a?(-1==(a=-1!=a.indexOf("m.csai.cn")?T.getLink(a,e):unescape(a)).indexOf("dxks34j1")&&-1==a.indexOf("kf4qhr50")&&-1==a.indexOf("dvt2ggud")||(a="https://m.baoxianjie.net/yyzx/?from_id=zmt005"),this.setData({path:a})):(this.getUrl(t.redirectid),console.log(t.redirectid)),t.redirectUrl&&(k.globalData.redirectUrl=unescape(t.redirectUrl)),k.globalData.navigationUrl=""},onShow:function(){k.globalData.navigationUrl&&(this.data.path=k.globalData.navigationUrl,k.globalData.navigationUrl="",o.redirectTo({url:"/pages/comm/webload/webload?url="+escape(this.data.path)}))},getUrl:function(t){if(t){var e=this;S.post("https://m.baoxianjie.net/appapi/common/getParam",{name:t},(function(t){var a=t.model;a&&e.setData({path:decodeURIComponent(a)})}))}}})})),window.define("51",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(19),x=t(5),L=(t(20),s());Page({data:{imgHost:D.imgHost,csaiUrl:D.csaiUrl,userInfo:{},authTk:!0,kefuTk:!0,tradeHyMode:!1,myIndexAd:null,newHdtk:!0,oldaddwxtk:!0,newaddwxtk:!0,phoneFromCode:1002,regtk:!0,gzhTc:!0,isPhoneShow:!0,loginData:{},isLogin:!1,isSuperVip:"N",isVip:"N"},onLoad:function(t){this.getSysInfo(),this.getAdByCode();var e=L.globalData.isNewUser;t.isNewUser&&(e=t.isNewUser),1==e?(this.data.newaddwxtk=!1,S.action({module:12034})):2==e&&(this.data.oldaddwxtk=!1,S.action({module:12035})),L.globalData.isNewUser=3},isVipUser:function(){var t=this;k.isExistToken()&&S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isSuperVip:a.isSuperVip,isVip:a.isVip})}}))},bindCopywx2:function(t){var e=t.currentTarget.dataset;x.setClipboard(e.k,(function(){})),S.action({module:12033})},bindclstk:function(t){var e=t.currentTarget.dataset;"oldaddwxtk"==e.ty?this.setData({oldaddwxtk:!0}):"newaddwxtk"==e.ty?this.setData({newaddwxtk:!0}):"regtk"==e.ty?this.setData({regtk:!0}):"newHdtk"==e.ty&&this.setData({newHdtk:!0})},getSysInfo:function(){var t=this,a=L.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),200):"Android"==a.dev&&t.setData({tradeHyMode:!0})},getUserInfo:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/user/loadUserDetail.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a.user&&((a=a.user).lastLoginTime&&(a.lastLoginTime=x.formatTime(a.lastLoginTime,"Y-M-D")),a.id&&(a.id=x.splicStr(a.id,6)),t.setData({userInfo:a,isLogin:!0,loginData:{}}))}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||k.clear()}))},goLink:function(t){var e=t.currentTarget.dataset,a=e.url;"myintr"==e.ty||"yhj"==e.ty?("myintr"==e.ty&&S.action({module:50009}),this.data.isLogin?n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)}):k.goLogin()):"kefu"==e.ty&&(S.action({module:50010}),n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)}))},goPage:function(t){var e=t.currentTarget.dataset;"black"==e.ltype?n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(this.data.myIndexAd.link)}):"member"==e.ltype?(this.data.userInfo.vipId>0?S.action({module:50014}):S.action({module:50013}),n.navigateTo({url:"/pages/my/vip/vip"})):("mykc"==e.ty?S.action({module:50007}):"mysc"==e.ty?S.action({module:50008}):"study"==e.ty&&S.action({module:50012}),"tab"==e.to?n.switchTab({url:e.url}):this.data.isLogin?n.navigateTo({url:e.url}):k.goLogin())},bindClosetk:function(){this.setData("kefuTk",!this.data.kefuTk)},bindClipboard:function(){x.setClipboard("csai2018",(function(){}))},getAdByCode:function(){var t=this;S.get("/api/getad.do",{code:"kecheng_baidu_ad_black"},(function(e){e.myindex&&t.setData({myIndexAd:e.myindex})}))},showAddWx:function(){S.action({module:50011}),this.setData({gzhTc:!1})},hideGzhTc:function(){this.setData({gzhTc:!0})},goBindPhone:function(){var t=this;k.login((function(e){t.setData({loginData:e})}),!0)},chooseImage:function(t){var e=this;n.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var a=t.tempFilePaths[0];e.uploadImg(a)}})},uploadImg:function(t){var e=this;S.upload(t,(function(t){if(t.model.accessUri){var a=t.model.accessUrl;x.layer.info("上传成功"),e["userInfo.wellHeadImg"]=a}}))},bindlogoff:function(){k.clear(),this.setData({userInfo:{},isLogin:!1,isVip:"N"}),x.layer.info("已退出登录")},bindwxfl:function(){var t=this;this.data.isLogin?t.isActiveNewUser((function(e){"Y"==e?t.ishadReceived((function(e){"Y"==e?t.setData("oldaddwxtk",!1):n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(D.csaiUrl+"/kecheng/commpage1/?page=hdred")})})):t.setData("oldaddwxtk",!1)})):k.goLogin()},isActiveNewUser:function(t){S.post(D.reqCsaiHost+"/kechengapi/user/isActiveNewUser.do",{},(function(e){"SUCCESS"==e.resultCode&&t(e.model)}))},ishadReceived:function(t){S.post(D.reqCsaiHost+"/kechengapi/user/hadReceived.do",{},(function(e){"SUCCESS"==e.resultCode&&t(e.model)}))},onReachBottom:function(){},onShow:function(){x.setTkd("个人中心 - 希财课堂");var t=this;S.action({module:12003}),L.globalData.refreshPage=!1,this.isVipUser(),k.login((function(e){""==e.show&&(t.data.loginData=e,t.getUserInfo())}),!1)},onHide:function(){}})})),window.define("54",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(19),k=t(5),x=t(42),L=n();Page({data:{imgHost:T.imgHost,navIndex:1,navData:[{name:"已拥有",id:1,clas:"payedType"},{name:"待付款",id:0,clas:"waitType"}],orderList:[],page:1,hasmore:!0,isload:!1,orderList2:[],page2:1,hasmore2:!0,isMember:!1,courseId:0,nodata1:!0,nodata2:!0,navList:[],tradeHyMode:!1,openid:""},onLoad:function(){this.isMemberDt(),this.getOrderList(),this.getNavList(),this.getSysInfo(),this.getOpenid()},onShow:function(){var t=L.globalData.pjIndex;if(L.globalData.pjIndex=[],t.length>0){var e=this.data.orderList2;e[t[0]][t[1]].commentStatus=!0,this.setData({orderList2:e})}},getSysInfo:function(){var t=L.globalData.sysInfo;null==t||"Android"==t.dev&&this.setData("tradeHyMode",!0)},getOpenid:function(){var t=this;S.getOpenId((function(e){t.setData("openid",e)}))},toComment:function(t){var e=t.currentTarget.dataset.id,a=t.currentTarget.dataset.idx,i=t.currentTarget.dataset.index;o.navigateTo({url:"/pages/edu/comment/comment?cid="+e+"&idx="+a+"&index="+i})},bindNav:function(t){var e=t.currentTarget.dataset.id;this.setData({navIndex:e}),1==this.data.page&&this.getOrderList()},getOrderList:function(){var t=this,e=t.data.navIndex,a="PAYED",i=1,o="",n=this.data.parentClassId;if(0==e){if(o="/kechengapi/user/loadCourseOrderList.do",a="PAYING",i=t.data.page,!t.data.hasmore)return}else if(o="/kechengapi/user/loadMyCourses.do",a="PAYED",i=t.data.page2,!t.data.hasmore2)return;var s={payStatus:a,page:i,limit:10,parentClassId:n,classId:0};t.setData({isload:!0}),D.post(T.reqCsaiHost+o,s,(function(a){if("SUCCESS"==a.resultCode){for(var o=[],n=a.model.dataPage.datas,s=0;s<n.length;s++){var d=n[s];d.wellThumbImg&&-1==d.wellThumbImg.indexOf("http")&&(d.wellThumbImg="https:"+d.wellThumbImg),d.createTime&&(d.createTime=k.formatTime(d.createTime,"Y-M-D h:m")),d.deadTime&&(d.deadTime=k.formatTime(d.deadTime,"Y-M-D h:m")),o.push(d)}0==e?(t.data.page=t.data.page+1,t.data.hasmore=a.model.dataPage.totalPages>i,t.setData("orderList["+(i-1)+"]",o),t.setData("nodata1",t.data.orderList[0].length>0)):(t.data.page2=t.data.page2+1,t.data.hasmore2=a.model.dataPage.totalPages>i,t.setData("orderList2["+(i-1)+"]",o),t.setData("nodata2",t.data.orderList2[0].length>0))}t.setData({isload:!1})}))},isMemberDt:function(){var t=this;D.post(T.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;t.setData("isMember","Y"==a.isVip)}}))},bindDel:function(t){var e=this,a=t.currentTarget.dataset,i=a.orderId,o=a.tp;this.showModal((function(){e.delOrder(i,o)}))},delOrder:function(t,e){var a=this,i={orderId:t};D.post(T.reqCsaiHost+"/kechengapi/user/delOrder.do",i,(function(i){if("SUCCESS"==i.resultCode){var n;n=0==e?a.data.orderList:a.data.orderList2;for(var s=0;s<n.length;s++)if(n[s].length>0)for(var d=0;d<n[s].length;d++)n[s][d].orderId==t&&n[s].splice(d,1);0==e?a.setData({orderList:n,nodata1:n[0].length>0}):a.setData({orderList2:n})}else o.showToast({title:i.resultMsg,icon:"none"})}))},onReachBottom:function(){this.getOrderList()},showModal:function(t){o.showModal({title:"删除",content:"确定要删除该项吗？",cancelColor:"#999999",confirmColor:"#0099cc",success:function(e){e.confirm&&t()}})},bindPayMeth:function(t){var e=t.currentTarget.dataset.type;this.setData({payType:e})},addOrder:function(){var t="WXGZH";"zfb"==this.data.payType&&(t="ALIPAYH5");var e={courseId:this.data.courseId,payType:"BAIDU",fromCode:T.kcadformId,openId:this.data.openid?this.data.openid:""};D.post(T.reqCsaiHost+"/kechengapi/order/submitCourseOrderNew.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model,i={siteId:9};i.outTradeNo=a.order.orderId,i.amount=a.order.payPrice,i.descp=a.order.remark?a.order.remark:"课程支付",i.notifyUrl=a.callBackUrl,i.redirectUrl=a.payredirectUrl+"?id="+a.order.orderId,i.payType=t,i.equip="MOBILE",i.currentUrl="/edu/orderList/orderList/",x.callPay(i)}}))},bindShowBuy:function(t){var e=t.currentTarget.dataset;this.data.courseId=e.cid,this.addOrder()},getNavList:function(){var t=this;D.get(T.reqCsaiHost+"/kechengapi/loadNavigation.do",{parentId:0},(function(e){if("SUCCESS"==e.resultCode&&e.model&&e.model.classify.length>0){for(var a=0;a<e.model.classify.length;a++)e.model.classify[a].check=!1;e.model.classify.unshift({id:0,name:"全部",check:!0}),t.setData({navList:e.model.classify})}}))},bindClassNav:function(t){var e=t.currentTarget.dataset.tid,a=(this.data.navIndex,this.data.navList);this.data.parentClassId=e;for(var i=0;i<a.length;i++)e==a[i].id?a[i].check=!0:a[i].check=!1;this.setData({orderList:[],page:1,hasmore:!0,isload:!1,orderList2:[],page2:1,hasmore2:!0,navList:a}),this.getOrderList()}})})),window.define("57",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=(t(20),t(5)),x=t(19),L="",U=n.getSystemInfoSync(),P=s();Page({data:{imgHost:D.imgHost,csaiUrl:D.csaiUrl,current:0,navIndex:0,navData:[{name:"简介",id:0,check:!0},{name:"目录",id:1,check:!1}],degIndex:0,degreeData:[],degreeList:[],commentNum:0,courseId:0,courseDet:{},kfPhone:"",isMember:!1,src:"",autoplay:!1,firstsrc:"",firstPerid:0,firstSt:!0,tradeHyMode:!1,ktShowMore:!1,ktsmIndex:0,currentTime:0,fromCode:0,phoneFromCode:1002,classifyId:0,firstHytk:!0,firstNhytk:!0,firstFlhdtk:!0,ketjList:[],playTk:!0,loginData:{},startPlay:!1,isLogin:!1,periodId:0,path:"",istiyan:!1,isPrice:!0,cTime:0,cleartime:"",day:0,hour:0,minute:0,sec:0,isSuperVip:"N",page:1,pageSize:10,commentLevel:"",rate:"0%",greatNum:0,midNum:0,badNum:0,isload:!1,hasmore:!0,showBuy:!1,praiseNum:{},sourceType:1,showBackTop:!1,windowHeight:0,isDiscoutSale:!1,isIos:!1,showIosMask:!1,openid:""},onLoad:function(t){this.data.courseId=t.id,t.periodId&&(this.data.periodId=t.periodId),t.vAd&&(this.data.sourceType=2),-1==U.system.toLowerCase().indexOf("android")&&this.setData({isIos:!0}),1==t.isCms&&(S.action({module:50330,dataId:this.data.courseId}),this.setData({navIndex:1})),1==t.showMl&&this.setData({navIndex:1}),this.getWinHeight(),this.getSysInfo(),this.getCourseDet(),this.isVipUser(),this.getNetworkType(),this.getComment(),this.getOpenid()},onReachBottom:function(){this.getComment()},onPageScroll:function(t){t.scrollTop>this.data.windowHeight?(this.data.showBackTop=!0,this.setData({showBackTop:!0})):this.setData({showBackTop:!1})},getWinHeight:function(){var t=this;n.getSystemInfo({success:function(e){t.data.windowHeight=e.windowHeight}})},getOpenid:function(){var t=this;x.getOpenId((function(e){t.setData("openid",e)}))},copyUrl:function(){var t=this,e="https://m.csai.cn/kecheng/"+this.data.courseDet.dbData.id+".html";n.setClipboardData({data:e,success:function(e){t.setData("showIosMask",!1),n.showToast({title:"复制成功",icon:"none"})},fail:function(e){n.showToast({title:"复制失败",icon:"none"}),t.setData("showIosMask",!1)}})},backTop:function(){var t=this;n.pageScrollTo({scrollTop:0,duration:300,success:function(){t.setData({showBackTop:!1})}})},getNetworkType:function(){n.getNetworkType({success:function(t){"wifi"==t.networkType&&(L="wifi")}}),n.onNetworkStatusChange((function(t){var e=t.networkType;"wifi"==L&"wifi"!=e&&"unknown"!=e&&"none"!=e&&n.showToast({title:"您正在使用流量观看",icon:"none",duration:2e3,mask:!1,success:function(t){},fail:function(t){}}),L=e}))},networkHandle:function(t){"unknown"!=t.networkType&&"none"!=t.networkType||this.setData("networkType",t.networkType)},changeComment:function(t){var e=t.currentTarget.dataset.id;this.setData({degIndex:e,page:1,degreeList:[],isload:!1,hasmore:!0})},getComment:function(){var t=this;if(t.data.hasmore){var e=this.data.page;t.setData({isload:!0}),S.post(D.reqCsaiHost+"/kechengapi/loadCoursesComments.do",{courseId:t.data.courseId,page:e,limit:t.data.pageSize,commentLevel:0==t.data.degIndex?"":1==t.data.degIndex?"Y":2==t.data.degIndex?"U":"N"},(function(a){var i=a.extraInfoMap;if("SUCCESS"==a.resultCode){if(!t.data.degreeData.length){var o=[{name:"全部("+(Number(i.positiveVote)+Number(i.middleVote)+Number(i.badVote))+")",id:0},{name:"好评("+i.positiveVote+")",id:1},{name:"中评("+i.middleVote+")",id:2},{name:"差评("+i.badVote+")",id:3}];t.setData({degreeData:o,rate:i.applauseRate+"%",praiseNum:i})}var n=t.data.degreeList,s=[];a.model.datas&&a.model.datas.forEach((function(e){s.push({degImg:e.headImg||"",name:e.userName,time:k.formatTimeComm(new Date(e.createTime),"Y-M-D"),text:e.content,stars:t.handStarsArr(e.starLevel)})})),1!=e&&(s=n.concat(s)),t.setData({degreeList:s}),t.data.hasmore=a.model.totalPages>t.data.page,t.data.page=e+1}t.setData({isload:!1})}))}},handStarsArr:function(t){for(var e=[],a=1;a<=5;a++)a<=t?e.push(1):e.push(0);return e},bindLect:function(t){var e=t.currentTarget.dataset.url;n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)})},getSysInfo:function(){var t=this,a=P.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),100):"Android"==a.dev&&t.setData({tradeHyMode:!0})},play:function(t){"Y"!=this.data.courseDet.canUse&&this.data.firstSt&&(this.data.firstSt=!1,S.action({module:12008,dataId:this.data.courseId})),this.setData("periodId",this.data.periodId)},pause:function(t){this.data.courseDet.canUse},ended:function(t){if("Y"!=this.data.courseDet.canUse)S.action({module:12013,dataId:this.data.courseId,visitTime:Math.ceil(this.data.currentTime)});else{var e=!1,a=!1,i="",o=this.data.courseDet.periods,n=this.data.periodId;n<=0&&(n=this.data.firstPerid);for(var s=0;s<o.length&&!a;s++)if(o[s].children.length>0)for(var d=0;d<o[s].children.length;d++){var r=o[s].children[d];if(e){i="next",n=r.id,a=!0;break}n==r.id&&(e=!0)}else{if(e){i="next",n=o[s].id;break}n==o[s].id&&(e=!0)}if(""!=i){var c=this;c.loadPeriodDetail((function(t){c.setData({periodId:n,src:t,startPlay:!0,autoplay:!0})}),n)}}},bindNav:function(t){var e=t.currentTarget.dataset.id,a=t.currentTarget.dataset.type,i=this.data.navData;if("study"==a){e=1;var o=this;o.loadPeriodDetail((function(t){o.setData({src:t,periodId:o.data.firstPerid,startPlay:!0,autoplay:!0,navIndex:1})}),o.data.firstPerid)}for(var n=0;n<i.length;n++)e==i[n].id?i[n].check=!0:i[n].check=!1;this.setData({navData:i,navIndex:e})},getCourseDet:function(){var t=this,e={courseId:t.data.courseId};S.post(D.reqCsaiHost+"/kechengapi/loadCoursesDetail.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a.dbData&&(a.dbData.buyNotice=t.addClass(a.dbData.buyNotice),a.dbData.descp=t.addClass(a.dbData.descp),a.dbData.suitable=t.addClass(a.dbData.suitable,"p2"),t.data.classifyId=a.dbData.classifyId,a.dbData.vipDiscount&&(a.dbData.vipDiscount=k.strToInt(a.dbData.vipDiscount)),t.getkctj()),a.lecturer&&(a.lecturer.descp=t.addClass(a.lecturer.descp)),k.setTkd(a.dbData.name+"- 理财课堂_希财网",a.dbData.keywords,a.dbData.descp);var i=t.data.periodId>0,o=(new Date).getTime();"Y"==a.canUse||2!=P.globalData.isBuyLogin||t.data.isIos||(P.globalData.isBuyLogin=1,t.gotoPay()),"Y"!=a.canUse&&"Y"==a.dbData.flashSaleFlag&&o>a.dbData.flashSaleBeginTime&&o<a.dbData.flashSaleEndTime&&(t.setData({isDiscoutSale:!0}),t.data.cTime=parseInt((a.dbData.flashSaleEndTime-o)/1e3),t.coutime()),t.setData({courseDet:a,src:t.getPayUrl(a),commentNum:a.commentCount}),i&&t.bindTips({})}else"NOT_LOGIN"==e.resultCode&&x.clear()}))},toComment:function(){n.navigateTo({url:"/pages/edu/comment/comment?cid="+this.data.courseDet.dbData.id})},convertAddTime:function(t){return new Date(t).getTime()},coutime:function(){var t=this,a=t.data.cTime-1;t.data.cTime=a,a<1&&clearTimeout(t.cleartime);var i=parseInt(a/86400),o=t.cut2(parseInt(a%86400/3600)),n=t.cut2(parseInt(a%3600/60)),s=t.cut2(parseInt(a%60));t.setData({day:i,hour:o,minute:n,sec:s}),a>0&&(t.cleartime=e((function(){t.coutime()}),1e3))},cut2:function(t){return t.toString().length>1?t:"0"+t},addClass:function(t,e){return t&&(t=(t=e?t.replace(/<p/gi,'<p class="'+e+'"'):t.replace(/<p/gi,'<p class="p"')).replace(/<img/gi,'<img class="smallimg" ')),t},bindShowLogin:function(t){this.data.isLogin||x.goLogin()},bindPlayer:function(t){S.action({module:12008,dataId:this.data.courseId});var e=this;e.data.tradeHyMode||e.data.periodId?""!=e.data.firstPerid&&(2==e.data.sourceType&&S.action({module:50366,dataId:e.data.courseId}),e.loadPeriodDetail((function(t){e.setData({startPlay:!0,autoplay:!0,src:t,navIndex:1})}),e.data.periodId)):k.layer.info("此课程暂无试听")},bindToLink:function(t){var e=t.currentTarget.dataset.url,a=t.currentTarget.dataset.name;e=e+"&coursesName="+escape(a),S.action({module:50021,dataId:this.data.courseId}),n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)})},bindDx:function(){n.navigateTo({url:"/pages/edu/daxin/daxin"})},bindLinkhome:function(){n.switchTab({url:"/pages/main/index/index"})},isVipUser:function(){var t=this;x.isExistToken()?(t.data.loginData={},S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isLogin:!0,isMember:"Y"==a.isVip,isSuperVip:a.isSuperVip})}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||x.clear()}))):this.setData({isLogin:!1})},gotoPay:function(t){var e=this.data.courseDet.dbData,a=(this.data.courseDet.fullDecr,{});a.proInfo={proImg:e.wellCoverImg,proName:e.name,disPrice:0},this.data.isDiscoutSale?a.proInfo.payPrice=e.flashSalePrice/100:this.data.isMember?a.proInfo.payPrice=e.vipPrice/100:a.proInfo.payPrice=e.payPrice/100,a.pay={siteId:9,notifyUrl:"",redirectUrl:"https://m.csai.cn/kecheng/payResult/",currentUrl:"/edu/show/show/",orderUrl:"/kechengapi/"+(this.data.isLogin,"order/submitCourseOrderNew.do"),orderData:{courseId:e.id,payType:"BAIDU",fromCode:D.kcadformId,openId:this.data.openid?this.data.openid:""},module:12010},n.navigateTo({url:"/pages/comm/payinfo/payinfo?id="+e.id+"&tp=1&ishy="+(!this.data.isMember&&1*e.vipPrice==0&&"10001"==e.accountId)+"&isfl=true&payinfo="+btoa(encodeURIComponent(JSON.stringify(a)))})},bindShowBuy:function(t){var e=this,a=t.target.dataset;2==this.data.sourceType&&S.action({module:50366,dataId:e.data.courseId}),"zttk"==a.tp?S.action({module:12029,dataId:e.data.courseId}):S.action({module:12009,dataId:e.data.courseId}),e.data.isIos?e.iosShow():e.data.tradeHyMode?(P.globalData.refreshPage=!0,P.globalData.isBuyLogin=1,x.login((function(t){""==t.show&&"Y"!=e.data.courseDet.canUse&&e.gotoPay()}),!0)):(P.globalData.refreshPage=!0,x.login((function(t){e.data.loginData=t,""==t.show&&e.addFeedback()}),!0))},getYh:function(){S.action({module:50374,dataId:this.data.courseId}),n.navigateTo({url:"/pages/edu/benefits/benefits"})},openMember:function(t){this.data.isMember?S.action({module:50027,dataId:this.data.courseId,textValue1:"会员优选"}):(P.globalData.refreshPage=!0,S.action({module:12011,dataId:this.data.courseId,textValue1:"会员"})),n.navigateTo({url:"/pages/my/vip/vip"})},addStudyrecord:function(){var t={periodId:this.data.periodId,timeEnd:Math.ceil(this.data.currentTime)};S.post(D.reqCsaiHost+"/kechengapi/user/makeStudyrecord.do",t,(function(t){t.resultCode}))},getPayUrl:function(t){var e="",a=(t=t||this.data.courseDet).periods;if(a.length>0){var i=-1;"Y"==t.canUse&&(i=0);for(var o=0;o<a.length;o++){if(a[o].children.length>0)for(var n=0;n<a[o].children.length;n++){var s=a[o].children[n];if((0==i&&o==i||""==e&&"Y"==s.prevue)&&(e=this.setPeriodId(0,s.id,s.videoUrl)),0==o&&(this.data.firstsrc=s.videoUrl,this.data.firstPerid=s.id),this.data.periodId==s.id&&""==e&&(e=this.setPeriodId(s.id,s.id,s.videoUrl)),""!=e)break}else{var d=a[o];(0==i&&o==i||""==e&&"Y"==d.prevue)&&(e=this.setPeriodId(0,d.id,d.videoUrl)),0==o&&(this.data.firstsrc=d.videoUrl,this.data.firstPerid=d.id),this.data.periodId==d.id&&""==e&&(e=this.setPeriodId(d.id,d.id,d.videoUrl))}if(""!=e)break}}return e},setPeriodId:function(t,e,a){return this.data.periodId==t?(this.data.periodId=e,a):""},startPayler:function(t){var e=t.currentTarget.dataset;if("1"==e.pty){if("Y"!=this.data.courseDet.canUse&&this.data.isPrice)return this.data.isIos?void this.iosShow():(k.layer.info(this.data.tradeHyMode?"购买后可观看所有章节":"请先点击学习"),void(this.data.tradeHyMode&&this.setData({showBuy:!0})))}else S.action({module:12008,dataId:this.data.courseId});var a=this;a.data.periodId=e.id,a.loadPeriodDetail((function(t){a.setData({startPlay:!0,src:t,autoplay:!0}),2==a.data.sourceType&&"Y"!=a.data.courseDet.canUse&&S.action({module:50365,dataId:a.data.courseId})}),a.data.periodId)},iosShow:function(){n.showModal({title:"提示",content:"本课程只提供试听章节，听全部课程请点击客服后留言咨询！",showCancel:!1,confirmText:"确定",success:function(t){}})},loadPeriodDetail:function(t,e){S.post(D.reqCsaiHost+"/kechengapi/loadPeriodDetail.do",{periodId:e},(function(e){if("SUCCESS"==e.resultCode){var a=e.model.data;a.videoUrl&&t(a.videoUrl),n.pageScrollTo({scrollTop:0,duration:300,success:function(t){},fail:function(t){console.log("pageScrollTo fail",t)}})}else"NEED_BUY"==e.resultCode&&k.layer.info("购买后可观看")}))},callPhone:function(t){n.makePhoneCall({phoneNumber:t,success:function(){},fail:function(){}})},timeupdate:function(t){this.data.currentTime=t.detail.currentTime},bindTips:function(t){var e=this;""!=e.data.firstPerid?e.loadPeriodDetail((function(t){e.setData({src:t,startPlay:!0,autoplay:!0,navIndex:1})}),e.data.firstPerid):k.layer.info("购买后可观看")},showMore:function(t){var e=t.currentTarget.dataset,a=!0;this.data.ktsmIndex==e.index&&(a=!this.data.ktShowMore),this.setData({ktShowMore:a,ktsmIndex:e.index})},storeCourse:function(){var t=this,e={courseId:t.data.courseId};S.post(D.reqCsaiHost+"/kechengapi/user/storeCourse.do",e,(function(e){"SUCCESS"==e.resultCode&&(k.layer.info("收藏成功"),t.setData("courseDet.hasStore","Y"))}))},cancelStore:function(){var t=this,e={courseId:t.data.courseId};S.post(D.reqCsaiHost+"/kechengapi/user/cancelStoreCourse.do",e,(function(e){"SUCCESS"==e.resultCode&&(k.layer.info("已取消收藏"),t.setData("courseDet.hasStore","N"))}))},bindStore:function(t){var e=t.currentTarget.dataset;0==e.check?S.action({module:50015,dataId:this.data.courseId,textValue1:"收藏"}):S.action({module:50015,dataId:this.data.courseId,textValue1:"取消收藏"}),this.data.isLogin?1==e.check?this.cancelStore():this.storeCourse():x.goLogin()},getkctj:function(){var t=this,e={parentClassId:0,classId:t.data.classifyId,page:1,limit:5};S.get(D.csaiUrl+"/kechengapi/loadRecommendCoursesByClass.do",e,(function(e){"SUCCESS"==e.resultCode&&e.model&&t.setData("ketjList",e.model.datas)}))},gokeList:function(){n.navigateTo({url:"../list/list?id="+this.data.classifyId})},bindmytab:function(){S.action({module:50016,dataId:this.data.courseId}),n.switchTab({url:"../myindex/myindex"})},addFeedback:function(){if(P.globalData.istudy)k.layer.info("已为您预约此课程，稍后客服将联系您");else{var t={coursesId:this.data.courseId,msg:"想了解下该课程，请及时回复。",imgUrl:"",coursesName:this.data.courseDet.dbData.name};S.post(D.reqCsaiHost+"/kechengapi/user/saveLeaveMsg.do",t,(function(t){"SUCCESS"==t.resultCode&&(k.layer.info("已为您预约此课程，稍后客服将联系您"),P.globalData.istudy=!0)}))}},onShareAppMessage:function(t){S.action({module:12005,dataId:this.data.courseId,textValue1:""});var e=this.data.courseDet.dbData;return{title:e.name,path:"/pages/edu/show/show?id="+this.data.courseId,imageUrl:e.wellCoverImg,content:e.subName}},onShow:function(){if(this.data.courseId>0){P.globalData.refreshPage&&(this.getCourseDet(),this.isVipUser(),P.globalData.refreshPage=!1,this.data.periodId=0);var t=P.globalData.redirectUrl;!t||-1==t.indexOf("/edu/show/show")&&-1==t.indexOf("/kecheng/my/payMember")||(P.globalData.redirectUrl=null,this.getCourseDet(),this.data.periodId=0)}S.action({module:12025,dataId:this.data.courseId,textValue1:""})},onHide:function(){this.data.currentTime>0&&"Y"!=this.data.courseDet.canUse&&S.action({module:12013,dataId:this.data.courseId,visitTime:Math.ceil(this.data.currentTime)}),this.data.isLogin&&this.data.currentTime>0&&this.addStudyrecord()},onUnload:function(){this.data.isLogin&&this.data.currentTime>0&&this.addStudyrecord()}})})),window.define("60",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=s();Page({data:{imgHost:D.imgHost,courseList:[],page:1,hasmore:!0,isload:!1,navList:[],navIndex:0,classTagId:0,isShow:!0,tradeHyMode:!1,classId:0,titleName:"",remark:"",istag:!1,total:0,isMember:!1,isSuperVip:"N"},onLoad:function(t){this.setData({classTagId:t.id?t.id:t.pdid?t.pdid:0,istag:t.pdid>0}),this.getNav(),this.getCourseList(),this.getSysInfo(),this.isVipUser()},getSysInfo:function(){var t=this,a=L.globalData.sysInfo;null==a?e((function(){t.getSysInfo()}),200):"Android"==a.dev&&t.setData("tradeHyMode",!0)},isVipUser:function(){var t=this;x.isExistToken()&&S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isMember:"Y"==a.isVip,isSuperVip:a.isSuperVip})}else"NOT_LOGIN"==e.resultCode||e.resultCode}))},getCourseList:function(){var t=this,e=t.data.page,a={classTagId:t.data.classTagId,childTagId:t.data.classId,page:e,limit:10};t.data.hasmore&&(t.setData("isload",!0),S.post(D.reqCsaiHost+"/kechengapi/loadCourseByTagClassify.do",a,(function(a){if("SUCCESS"==a.resultCode){for(var i=[],o=a.model.pageData.datas,n=0;n<o.length;n++){var s=o[n];s.wellThumbImg&&-1==s.wellThumbImg.indexOf("http")&&(s.wellThumbImg="https:"+s.wellThumbImg),s.studyNum=s.studyNum+s.virtualStudyNum,i.push(s)}t.data.hasmore=a.model.pageData.totalPages>t.data.page,t.data.page=e+1,t.setData("courseList["+(e-1)+"]",i),t.setData({total:a.model.pageData.totalCount,isShow:i.length>0})}t.setData("isload",!1)})))},getNav:function(){var t=this,e={classTagId:t.data.classTagId};S.post(D.reqCsaiHost+"/kechengapi/loadTagNavigation.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model.navigation;a.length>0&&a.unshift({id:0,name:"全部"});var i=e.model.tagClass;t.setData({navList:a,titleName:i.name,remark:i.remark}),k.setTkd(t.data.titleName+"视频课堂 - 希财网",t.data.titleName+"教育,"+t.data.titleName+"知识","希财网"+t.data.titleName+"视频课堂提供在线"+t.data.titleName+"教育培训服务。"),n.setNavigationBarTitle({title:t.data.titleName})}}))},changeArtic:function(t){t.currentTarget.dataset.index;this.data.hasmore=!0,this.setData({isload:!1,courseList:[],classId:t.currentTarget.dataset.v}),this.data.page=1,this.getCourseList()},onReachBottom:function(){this.getCourseList()},onShow:function(){S.action({module:12014})}})})),window.define("63",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(19),k=t(5);n();Page({data:{imgHost:T.imgHost,csaiUrl:T.csaiUrl,userInfo:{}},onLoad:function(t){},getUserInfo:function(){var t=this;D.post(T.reqCsaiHost+"/kechengapi/user/loadUserDetail.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a.user&&((a=a.user).lastLoginTime&&(a.lastLoginTime=k.formatTime(a.lastLoginTime,"Y-M-D")),a.id&&(a.id=k.splicStr(a.id,6)),t.setData("userInfo",a))}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||S.againLogin((function(){t.getUserInfo()}))}))},onShow:function(){var t=this;D.action({module:12003}),S.login((function(e){e&&(t.getUserInfo(),t.data.isAuth=!0)}))}})})),window.define("66",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(19),x=t(5),L=s();Page({data:{imgHost:D.imgHost,csaiUrl:D.csaiUrl,userInfo:{},navList:[],dataList:[],hasmore:!0,page:1,isload:!1,hasData:!0,parentClassId:0,nowPage:"",studyApi:"/kechengapi/user/viewList.do",storeApi:"/kechengapi/user/storeList.do",tradeHyMode:!1},onLoad:function(t){if(this.getNavList(),this.data.nowPage=t.code,this.getSysInfo(),"study"==t.code){n.setNavigationBarTitle({title:"学习记录"});var e=this.data.studyApi;this.getStudyOrStore(e)}else if("mysc"==t.code){n.setNavigationBarTitle({title:"我的收藏"});var a=this.data.storeApi;this.getStudyOrStore(a)}},getSysInfo:function(){var t=this;e((function(){var e=L.globalData.sysInfo;null==e?t.getSysInfo():"Android"==e.dev&&t.setData("tradeHyMode",!0)}),100)},getUserInfo:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/user/loadUserDetail.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a.user&&((a=a.user).lastLoginTime&&(a.lastLoginTime=x.formatTime(a.lastLoginTime,"Y-M-D")),a.id&&(a.id=x.splicStr(a.id,6)),t.setData("userInfo",a))}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||k.againLogin((function(){t.getUserInfo()}))}))},getNavList:function(){var t=this;S.get(D.reqCsaiHost+"/kechengapi/loadNavigation.do",{parentId:0},(function(e){if("SUCCESS"==e.resultCode&&e.model&&e.model.classify.length>0){for(var a=0;a<e.model.classify.length;a++)e.model.classify[a].check=!1;e.model.classify.unshift({id:0,name:"全部",check:!0}),t.setData({navList:e.model.classify})}}))},bindNav:function(t){var e=t.currentTarget.dataset.tid,a=this.data.nowPage,i=this.data.navList;this.data.parentClassId=e;for(var o=0;o<i.length;o++)e==i[o].id?i[o].check=!0:i[o].check=!1;if(this.setData({navList:i,dataList:[],hasmore:!0,isload:!1,page:1}),"study"==a){var n=this.data.studyApi;this.getStudyOrStore(n)}else if("mysc"==a){var s=this.data.storeApi;this.getStudyOrStore(s)}},getStudyOrStore:function(t){var e=this,a=this.data.parentClassId,i=this.data.page,o={page:i,parentClassId:a,classId:0,limit:10};e.data.hasmore&&(e.setData({isload:!0}),S.get(D.reqCsaiHost+t,o,(function(t){if("SUCCESS"==t.resultCode){var a=[];if(t.model&&t.model.datas.length>0){console.log(t);for(var o=0;o<t.model.datas.length;o++){var n=t.model.datas[o],s=new Date(n.createTime);n.createTime=s.getFullYear()+"-"+d(s.getMonth()+1)+"-"+d(s.getDate()),a.push(n)}e.data.hasmore=t.model.totalPages>i,e.data.page=i+1,e.setData("dataList["+(i-1)+"]",a),e.setData({hasData:!0})}else e.setData({hasData:!1})}function d(t){return t.toString().length>1?t:"0"+t}})))},onShow:function(){var t=this;S.action({module:12003}),k.login((function(e){e&&(t.getUserInfo(),t.data.isAuth=!0)}))},onReachBottom:function(){var t=this.data.nowPage;if("study"==t){var e=this.data.studyApi;this.getStudyOrStore(e)}else if("mysc"==t){var a=this.data.storeApi;this.getStudyOrStore(a)}}})})),window.define("69",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=s();Page({data:{imgHost:D.imgHost,courseList:[],hasmore:!0,isload:!1,isShow:!0,tradeHyMode:!1,keyWords:"",isSuperVip:"N"},onLoad:function(t){t.accountId&&this.setData("accountId",t.accountId),this.getSysInfo(),this.isVipUser()},getSysInfo:function(){var t=this;e((function(){var e=L.globalData.sysInfo;null==e?t.getSysInfo():"Android"==e.dev&&t.setData("tradeHyMode",!0)}),100)},isVipUser:function(){var t=this;x.isExistToken()&&S.post(D.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isSuperVip:a.isSuperVip})}}))},bindKeyInput:function(t){var a=this,i=t.detail.value.replace(/\s+/g,"");this.data.keyWords=t.detail.value,e((function(){a.data.accountId?(a.data.page=1,a.data.hasmore=!0,a.getsjckList(i)):a.getCourseList(i)}),200)},bindSearch:function(){var t=this.data.keyWords.replace(/\s+/g,"");""==t?k.layer.info("关键词不能为空"):this.data.accountId?(this.data.page=1,this.data.hasmore=!0,this.getsjckList(t)):this.getCourseList(t)},getsjckList:function(t){var e=this;if(e.data.hasmore){var a=e.data.page,i={accountId:e.data.accountId,page:a,limit:20,keyWord:t};e.setData({isload:!0}),S.post(D.reqCsaiHost+"/kechengapi/loadCoursesByAcId.do",i,(function(t){var i=[];if("SUCCESS"==t.resultCode){for(var o=t.model.datas,n=0;n<o.length;n++){var s=o[n];s.wellThumbImg&&-1==s.wellThumbImg.indexOf("http")&&(s.wellThumbImg="http:"+s.wellThumbImg),"10001"!=s.accountId&&(s.iosPrice=s.payPrice),i.push(s)}e.data.hasmore=t.model.totalPages>e.data.page,e.data.page=a+1,e.setData({courseList:i,isShow:i.length>0})}e.setData({isload:!1})}))}},getCourseList:function(t){var e=this,a={keyWords:t};S.action({module:50020,textValue1:t}),e.setData({isload:!0}),S.post(D.reqCsaiHost+"/kechengapi/searchCourse.do",a,(function(t){if("SUCCESS"==t.resultCode){for(var a=[],i=t.model,o=0;o<i.length;o++){var n=i[o];n.wellThumbImg&&-1==n.wellThumbImg.indexOf("http")&&(n.wellThumbImg="https:"+n.wellThumbImg),a.push(n)}e.setData({courseList:a,isShow:a.length>0})}e.setData({isload:!1})}))},onReachBottom:function(){},onShow:function(){}})})),window.define("72",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(5),S=t(8),k=t(10),x=s();Page({data:{stars:[0,0,0,0,0],courseId:0,starNum:0,content:"",contentLen:0,idx:"",index:""},tapStar:function(t){for(var e=t.currentTarget.dataset.index,a=[0,0,0,0,0],i=0;i<=e;i++)a[i]=1;this.setData({stars:a,starNum:e+1})},bindinput:function(t){this.data.content=t.detail.value,this.data.contentLen=this.data.content.length,this.setData({contentLen:t.detail.value.length})},sub:function(){if(0!=this.data.starNum)if(this.data.content){var t=this;k.post(S.reqCsaiHost+"/kechengapi/addCoursesComments.do",{courseId:t.data.courseId,content:t.data.content,starLevel:t.data.starNum},(function(a){if("SUCCESS"==a.resultCode){D.layer.info("评论成功");var i=t.data.idx,o=t.data.index;x.globalData.pjIndex=[i,o],e((function(){n.navigateBack({})}),1e3)}else D.layer.info(a.resultMsg)}))}else D.layer.info("请输入评论");else D.layer.info("请选择星级")},onInit:function(){},onLoad:function(t){this.data.courseId=t.cid,this.data.index=t.index,this.data.idx=t.idx},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},onError:function(){}})})),window.define("75",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(5),D=t(8),S=t(10),k=n(),x=t(19);Page({data:{bonds:[],market:[],channelStatus:"",stock:[],tabIndex:0,quesShowArr:[!0,!1,!1,!1,!1,!1,!1,!1,!1],formId:"",subId:"",type:"",showNotice:!1,showCancelNotice:!1,isLogin:!0},getSyncKey:function(){var t=k.globalData.uid;t||(t=this.getStorageSync("uid"))&&(k.globalData.uid=t),this.setData({uid:t})},objToArray:function(t){if(!t)return[];var e=[];for(var a in t)e.push({name:a,items:t[a]});return e},getStorageSync:function(t){try{var e=o.getStorageSync(t);return e||e}catch(t){}return null},changeTab:function(t){var e=t.currentTarget.dataset.index;this.setData({tabIndex:e})},goLink:function(t){var e=t.currentTarget.dataset.url;T.toUrl(e)},expose:function(t){var e=t.currentTarget.dataset.index,a=this.data.quesShowArr;a[e]=!a[e],this.setData({quesShowArr:a})},formSubmit:function(t){var e=this;if(e.data.isLogin){e.setData({formId:t.detail.formId,subId:t.target.dataset.id?t.target.dataset.id:"-1",type:t.target.dataset.type?t.target.dataset.type:"CHANNEL"});var a=t.target.dataset.index1,i=t.target.dataset.index2,o=e.data.channelStatus;if("STOCK"==e.data.type||"BONDS"==e.data.type)"Y"==t.target.dataset.status?e.unSub(a,i):e.sub(a,i);else"Y"==o?e.unSub():e.sub()}else x.login((function(a){if(console.log(a),""==a.show){e.setData({formId:t.detail.formId,subId:t.target.dataset.id?t.target.dataset.id:"-1",type:t.target.dataset.type?t.target.dataset.type:"CHANNEL"});var i=t.target.dataset.index1,o=t.target.dataset.index2,n=e.data.channelStatus;if("STOCK"==e.data.type||"BONDS"==e.data.type)"Y"==t.target.dataset.status?e.unSub(i,o):e.sub(i,o);else"Y"==n?e.unSub():e.sub()}}),!0)},sub:function(t,e){var a=this;S.post(D.reqCsaiHost+"/kechengapi/calendar/subscribeByType.do",{type:a.data.type,subId:a.data.subId,formId:a.data.formId},(function(i){if("SUCCESS"==i.resultCode){var o=[];"STOCK"==a.data.type?((o=a.data.stock)[t].items[e].subscribeFlag="Y",a.setData({stock:o})):"BONDS"==a.data.type?((o=a.data.bonds)[t].items[e].subscribeFlag="Y",a.setData({bonds:o})):a.setData({channelStatus:"Y"}),a.setData({showNotice:!0})}}))},unSub:function(t,e){var a=this;S.post(D.reqCsaiHost+"/kechengapi/calendar/unsubscribeByType.do",{type:a.data.type,subId:a.data.subId},(function(i){if("SUCCESS"==i.resultCode){var o=[];"STOCK"==a.data.type?((o=a.data.stock)[t].items[e].subscribeFlag="N",a.setData({stock:o})):"BONDS"==a.data.type?((o=a.data.bonds)[t].items[e].subscribeFlag="N",a.setData({bonds:o})):a.setData({channelStatus:"N"})}}))},closeModal:function(){this.setData({showNotice:!1})},getListMarket:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/calendar/listMarket.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=t.objToArray(e.model);t.setData({market:a})}}))},getCalendarStock:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/calendar/listCalendarStock.do",{},(function(e){if("SUCCESS"==e.resultCode){for(var a=t.objToArray(e.model),i=0;i<a.length;i++)for(var o=0;o<a[i].items.length;o++){var n=a[i].items[o].stockType;if(n){switch(n){case"KE":n="科";break;case"HU":n="沪";break;case"CHUANG":n="创";break;case"SHEN":n="深";break;case"BEI":n="京";break;case"ZHONG":n="中";break;default:n="深"}a[i].items[o].stockTypeName=n}}t.setData({channelStatus:e.extraInfoMap.channelSubscribe?e.extraInfoMap.channelSubscribe:"N",stock:a})}}))},getCalendarBonds:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/calendar/listCalendarBonds.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=t.objToArray(e.model);t.setData({bonds:a})}}))},onInit:function(){},onLoad:function(t){},onReady:function(){},onShow:function(){x.isExistToken()||this.setData({isLogin:!1}),this.getCalendarStock(),this.getCalendarBonds(),this.getListMarket()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},onError:function(){}})})),window.define("78",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5),k=t(19);Page({data:{imgHost:T.imgHost,userInfo:{},isLogin:!1,loginData:{},lastRecord:{},recordList:{}},onLoad:function(t){},getUserInfo:function(){var t=this;D.post(T.reqCsaiHost+"/kechengapi/user/loadUserDetail.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model;a.user&&((a=a.user).lastLoginTime&&(a.lastLoginTime=S.formatTime(a.lastLoginTime,"Y-M-D")),a.id&&(a.id=S.splicStr(a.id,6)),t.setData("userInfo",a),t.data.isLogin=!0)}else t.data.isLogin=!1,t.setData("userInfo",{});t.data.loginData={},t.getRecord()}))},loginClick:function(){var t=this;k.login((function(e){t.data.loginData=e}),!0)},isUserLogin:function(t){this.data.isLogin?o.navigateTo({url:t.currentTarget.dataset.url}):k.goLogin()},getRecord:function(){var t=this;D.get(T.reqCsaiHost+"/kechengapi/user/loadStudyrecord.do",{limit:10},(function(e){if("SUCCESS"==e.resultCode){var a=e.model||{},i=a.lastRecord||{};i&&(i.createTime&&(i.createTime=S.formatTime(i.createTime,"Y-M-D h:m:s")),i.timeEnd=S.getMToTime(i.timeEnd)),t.setData({recordList:a.history,lastRecord:i})}}))},onShow:function(){this.getUserInfo(),S.setTkd("学习记录 - 希财课堂"),D.action({module:50118,dataId:0})},onReachBottom:function(){}})})),window.define("81",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=(t(20),t(5)),k=t(19),x=n();Page({data:{imgHost:T.imgHost,csaiUrl:T.csaiUrl,members:[],changxueKC:[],rumenKC:[],jinjieKC:[],isLogin:!1,loginData:{},isMember:!1,isSuperVip:"N",vipId:0,vipname:"",price:0,payType:"zfb",vipOpenedDays:"1",userInfo:{},mebIndex:0,hytip:"",fulldecrMap:{},fullDecr:0,tempPath:T.csaiUrl+"/kecheng/my/payMember/?vtype=cj",path:"",ismebLoad:!1,openid:""},onLoad:function(t){this.getOpenid()},onShow:function(){this.setSupperPath(),S.setTkd("VIP会员"),D.action({module:50119,dataId:0}),this.getMembers(),this.loadData();var t=x.globalData.redirectUrl;!t||-1==t.indexOf("/my/vip/vip")&&-1==t.indexOf("/kecheng/my/payMember")||(x.globalData.redirectUrl=null)},setSupperPath:function(t){var e=x.globalData.token,a=S.getLink(this.data.tempPath,e);this.setData({path:a})},loadData:function(){var t=this;this.getUserInfo(),this.isVipUser(),this.getCourses("vip_index_changxue_course_ids",(function(e){t.setData("changxueKC",e)})),this.getCourses("vip_index_rumen_course_ids",(function(e){t.setData("rumenKC",e)})),this.getCourses("vip_index_jinjie_course_ids",(function(e){t.setData("jinjieKC",e)}))},showLogin:function(){var t=this;t.data.isLogin||k.login((function(e){console.log(e),t.setData("loginData",e)}),!0)},getOpenid:function(){var t=this;k.getOpenId((function(e){t.setData("openid",e)}))},payMember:function(){if(D.action({module:50158,dataId:0}),this.data.isLogin){var t={};t.proInfo={proImg:this.data.imgHost+"/csaicms/h5/ketang/main/images/viplst_bg.png",proName:this.data.vipname,payPrice:this.data.price,disPrice:!this.data.isLogin&&this.data.fullDecr?this.data.fullDecr/100:0},t.pay={siteId:9,notifyUrl:"https://m.csai.cn/kechengapi/vipCallback.do",redirectUrl:"https://m.csai.cn/kecheng/payMemResult/",currentUrl:"/my/vip/vip",orderUrl:"/kechengapi/"+(this.data.isLogin,"order/submitVipOrderNew.do"),orderData:{vipId:this.data.vipId,payMethod:"BAIDU",fromCode:1002,fromObjId:0,openId:this.data.openid?this.data.openid:""},module:50159},o.navigateTo({url:"/pages/comm/payinfo/payinfo?id="+this.data.vipId+"&tp=2&ishy=false&isfl=true&payinfo="+btoa(encodeURIComponent(JSON.stringify(t)))})}else k.goLogin()},changeVip:function(t){var e=t.currentTarget.dataset.index,a=this.data.members[e];if("SUPER"!=a.vipType){var i=0,n=this.data.fulldecrMap;i=n.hasOwnProperty(a.id.toString())?n[a.id.toString()]:0,this.setData({vipId:a.id,vipname:a.name,price:a.price/100,mebIndex:e,fullDecr:i})}else o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(this.data.tempPath+"&vipId="+a.id)})},getUserInfo:function(){var t=this;if(k.isExistToken()){D.post(T.reqCsaiHost+"/kechengapi/user/loadUserDetail.do",{},(function(e){if("SUCCESS"==e.resultCode){if(e.model.user){var a=[];e.model.user.vipOpenedDays>0&&(a=e.model.user.vipOpenedDays.toString().split("")),t.setData({isLogin:!0,loginData:{},userInfo:e.model.user,vipOpenedDays:a})}}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||k.clear()}))}else this.data.isLogin=!1},getMembers:function(){var t=this;D.get(T.reqCsaiHost+"/kechengapi/vipListAct.do",{isActive:2},(function(e){if("SUCCESS"==e.resultCode){for(var a=e.model.list,i=0;i<a.length;i++)a[i].daymon=(a[i].price/(100*a[i].termLimit)).toFixed(1);var o=e.model.fulldecrMap,n=a[t.data.mebIndex],s=0;o&&o.hasOwnProperty(n.id.toString())&&(s=o[n.id.toString()]),t.setData({vipId:n.id,vipname:n.name,price:n.price/100,members:a,fullDecr:s,fulldecrMap:o})}}))},isVipUser:function(){var t=this;k.isExistToken()?(t.setData("loginData",{}),D.post(T.reqCsaiHost+"/kechengapi/isVipUser.do",{},(function(e){if(console.log(e),"SUCCESS"==e.resultCode){var a=e.model;a&&t.setData({isMember:"Y"==a.isVip,isSuperVip:a.isSuperVip})}else"NOT_LOGIN"!=e.resultCode&&"DATA_NOTEXIST"!=e.resultCode||k.clear();t.setData({ismebLoad:!0})}))):t.setData({isMember:!1,isLogin:!1,ismebLoad:!0})},getCourses:function(t,e){var a={paramCode:t,limit:4};D.get(T.reqCsaiHost+"/kechengapi/loadCourseFromSysParam.do",a,(function(t){if("SUCCESS"==t.resultCode){for(var a=[],i=t.model,o=0;o<i.length;o++){var n=i[o];n.wellThumbImg&&-1==n.wellThumbImg.indexOf("http")&&(n.wellThumbImg="http:"+n.wellThumbImg),a.push(n)}e(a)}}))},onReachBottom:function(){}})})),window.define("84",(function(t,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=t(20),U=s();Page({data:{imgHost:D.imgHost,loginBottom:0,oldBottom:100,showDefault:!1,loginCode:"",djscount:60,clearCountdown:"",tel:"",code:"",codeStats:!0,isAgree:!1,userInfo:{},codeTit:{title:"获取验证码",click:!0},loginData:{show:"login",btn:"登录",fun:function(){}},backUrl:"",isAgreeFast:!1},onLoad:function(t){console.log(t),k.setTkd("登录 - 希财网","",""),t.backUrl&&this.setData({backUrl:t.backUrl});var e=getCurrentPages(),a=getCurrentPages().length;console.log(e),"pages/edu/daxin/daxin"!=e[a-2].route&&"pages/edu/show/show"!=e[a-2].route||this.setData({showDefault:!0})},checkAgree:function(){this.setData({isAgreeFast:!this.data.isAgreeFast})},isCheckAgree:function(){this.data.isAgreeFast||k.layer.info("请先同意用户协议")},random:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return this.random()+this.random()+"-"+this.random()+"-"+this.random()+"-"+this.random()+"-"+this.random()+this.random()+this.random()},getPrivateKey:function(t){var e=t.currentTarget.dataset,a=this,i=this.data.tel,o=this.data.codeStats;o?a.isPhone(i)&&1==e.click&&(a.data.sessionId=a.guid(),S.post(D.reqCsaiHost+"/kechengapi/loadPrivateKey.do",{},(function(t){"SUCCESS"==t.resultCode&&o?(a.data.privateKey=t.model.privateKey,a.getCode(i)):a.data.codeStats=!0}))):a.data.codeStats=!1},addActive:function(t){var e=getCurrentPages(),a=e[e.length-2].route;S.action({module:t,dataId:0,textValue1:a})},getCode:function(t){var e=this;e.addActive(50115);var a=e.data.privateKey,i=e.data.sessionId;e.data.codeStats=!1;t=e.data.tel;var o=(new Date).getMilliseconds(),s={phone:t,sessionId:i,privateKey:a,sign:L.hex_md5(t+o+a),timestamp:o};n.showLoading({title:"请稍等...",mask:!0}),S.post(D.reqCsaiHost+"/kechengapi/sms/send.do",s,(function(t){n.hideLoading(),"SUCCESS"==t.resultCode?(e.countdown(),k.layer.info("短信发送成功")):(e.data.codeStats=!1,k.layer.info("短信发送失败，请重试。"))}),(function(){n.hideLoading(),e.data.codeStats=!1,k.layer.info("短信发送失败，请重试。")}))},countdown:function(){var t=this,a=t.data.djscount;if(0==a)return t.data.djscount=60,t.data.codeStats=!0,void t.setData("codeTit",{title:"获取验证码",click:!0});t.setData("codeTit",{title:"重新发送("+a+")",click:!1}),t.data.djscount=--a,t.data.clearCountdown=e((function(){t.countdown()}),1e3)},ipttel:function(t){this.setData({tel:t.detail.value})},iptLoginCode:function(t){this.setData({loginCode:t.detail.value})},iptcode:function(t){this.setData({code:t.detail.value})},subTelForm:function(t){var e,a,i=this,o=i.data.sessionId,s=(t.currentTarget.dataset,i.data.isAgree),d=i.data.loginData;if(e=this.data.tel,a=this.data.code,i.isPhone(e))if(null!=o)if(""!=a)if(s||"login"!=d.show){i.addActive(50116);var r={phone:e,code:a,sessionId:o,oid:0,fromCode:D.kcadformId,show:d.show,fun:d.fun};x.dealLogin(r,(function(t,e){"SUCCESS"==t.resultCode?(i.data.clearCountdown&&clearTimeout(i.data.clearCountdown),U.globalData.refreshPage=!0,U.globalData.isBuyLogin=2,i.addActive(50117),i.data.backUrl?n.redirectTo({url:i.data.backUrl}):n.navigateBack()):k.layer.info(t.resultMsg)}))}else k.layer.info("请先同意服务协议");else k.layer.info("请输入短信验证码");else k.layer.info("请先获取短信验证码")},isPhone:function(t){if(""==t)return k.layer.info("请输入您的手机号码"),!1;return!!/^(13|15|17|18|14|16|19)\d{9}$/.test(t)||(k.layer.info("手机号码格式不正确"),!1)},goXyLink:function(t){var e=t.currentTarget.dataset.url;e&&n.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e)})},bindAgree:function(){this.setData({isAgree:!this.data.isAgree})},changgeLogin:function(t){this.setData({showDefault:"1"!=t.target.dataset.id})},subTelForm1:function(){var t=this.data.loginCode;if(""!=t){var e={loginCode:t};S.post(D.reqCsaiHost+"/kechengapi/validateLoginCode.do",e,(function(e){"SUCCESS"==e.resultCode?(U.globalData.refreshPage=!0,n.redirectTo({url:"/pages/comm/webload/webload?url="+escape(D.csaiUrl+"/kecheng/my/bindmobile/?logincode="+t)})):k.layer.info(e.resultMsg)}))}else k.layer.info("请输入登录码")},onShow:function(){this.djscount<60&&this.countdown(),this.addActive(50114)},bindGetUserInfo:function(t){var a=this;n.authorize({scope:"scope.userInfo",success:function(i){x.againLogin((function(){k.layer.info("登录成功"),U.globalData.refreshPage=!0,U.globalData.isBuyLogin=2,e((function(){a.data.backUrl?n.redirectTo({url:a.data.backUrl}):n.navigateBack()}),1500)}),t.detail)},fail:function(t){console.log(t)}})},onHide:function(){clearTimeout(this.data.clearCountdown)}})})),window.define("87",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5);n();Page({data:{imgHost:T.imgHost,csaiUrl:T.csaiUrl,cmsList:[],wdList:[],vdList:[],channelList:[],formList:[],wdNavList:[],vdNavList:[],page:1,formId:100,channelId:24,hasmore:!0,isload:!1,vdNavtag:""},onLoad:function(t){this.getfromData(),300==this.data.formId?this.getvdList():this.getCmsList()},onShow:function(){29==this.data.formId?S.setTkd("希财网问答-专业的贷款、理财、保险、信用卡问答平台","贷款问答,信用卡问答,理财问答,保险问答","希财问答频道提供专业的贷款问答大全、理财使用心得交流、信用卡办理相关问题、保险问答、P2P平台答疑等相关知识分享，有问题，找希财网问答专区。"):S.setTkd("文章_财金文章大全-希财网","文章","希财网文章频道提供理财、保险、股票、贷款、信用卡等知识文章大全。")},addyinDao:function(){o.showFavoriteGuide({type:"bar",content:"一键添加到我的小程序",success:function(t){},fail:function(t){}})},onReachBottom:function(){300==this.data.formId?this.getvdList():this.getCmsList()},getfromData:function(){this.setData({formList:[{id:100,name:"知识"},{id:29,name:"问答"}],channelList:[{id:24,name:"理财"},{id:6,name:"基金"},{id:22,name:"保险"},{id:4,name:"信用卡"},{id:2,name:"贷款"},{id:23,name:"股票"},{id:37,name:"社保"}],wdNavList:[{id:29,type:"",name:"最新"},{id:22,type:"BX",name:"保险"},{id:24,type:"LC",name:"理财"},{id:23,type:"GP",name:"股票"},{id:25,type:"JJ",name:"基金"},{id:2,type:"DK",name:"贷款"},{id:4,type:"XYK",name:"信用卡"},{id:37,type:"SB",name:"社保"},{id:0,type:"",name:"更多"}],vdNavList:[{id:0,name:"推荐",tag:""},{id:1,name:"贷款",tag:"dk"},{id:2,name:"保险",tag:"bx"},{id:3,name:"信用卡",tag:"xyk"},{id:4,name:"理财",tag:"lc"},{id:5,name:"股票",tag:"gp"},{id:6,name:"P2P",tag:"p2p"}]})},formClick:function(t){this.setData("formId",t.currentTarget.dataset.id),300==this.data.formId?this.vdNavClick():31==this.data.formId?o.navigateTo({url:"/pages/bxpc/result/result"}):(this.setData({channelId:0==this.data.formId?0:29==this.data.formId?29:24}),this.data.hasmore=!0,this.data.page=1,this.getCmsList())},channelClick:function(t){var e=t.currentTarget.dataset,a=e.id,i=e.type;this.setData({channelId:a,wdType:i,wdList:[]}),this.data.hasmore=!0,this.data.page=1,this.getCmsList(),o.pageScrollTo({scrollTop:0,duration:100})},vdNavClick:function(){this.data.hasmore=!0,this.data.page=1,this.getvdList(),o.pageScrollTo({scrollTop:0,duration:100})},getCmsList:function(){var t,e=this.data.formId;29==e?(t={page:this.data.page,channelId:29==this.data.channelId?-1:this.data.channelId,size:14,ordseg:"id.desc"},this.data.wdType&&(t.jxType=this.data.wdType)):t={page:this.data.page,channelId:this.data.channelId,size:10,ordseg:"id.desc"};var a=this;a.data.hasmore&&(this.setData({isload:!0}),D.get("/api/"+(29==e?"quesPage.do":"channelArticles.do"),t,(function(t){29==e?a.setWenDaList(t):a.setSmsList(t)})))},setSmsList:function(t){if("SUCCESS"==t.resultCode){for(var e=[],a=t.model.datas,i=0;i<a.length;i++){var o=a[i];"Y"==o.img&&o.imgUrl&&-1==o.imgUrl.indexOf("http")&&(o.imgUrl="https:"+o.imgUrl),o.createTime=o.createTime?S.formatTime(o.createTime,"Y-M-D h:m"):"",e.push(o)}var n=this.data.page-1;1==this.data.page&&0==this.data.cmsList.length?this.setData("cmsList",[e]):this.setData("cmsList["+n+"]",e),this.data.hasmore=t.model.totalPages>this.data.page,this.data.page=this.data.page+1}this.setData("isload",!1)},setWenDaList:function(t){if("SUCCESS"==t.resultCode){for(var e=[],a=t.model.datas,i=0;i<a.length;i++){var o=a[i];o.createTime=o.createTime?S.formatTime(o.createTime,"Y-M-D h:m"):"",e.push(o)}var n=this.data.page-1;1==this.data.page&&0==this.data.wdList.length?this.setData("wdList",[e]):this.setData("wdList["+n+"]",e),this.data.hasmore=t.model.totalPages>this.data.page,this.data.page=this.data.page+1}this.setData("isload",!1)},getvdList:function(){var t=this,e={pageNum:this.data.page,pageSize:10};t.data.hasmore&&(t.setData("isload",!0),D.get("/api/video/list.do",e,(function(e){if("SUCCESS"==e.resultCode){for(var a=[],i=e.model.datas,o=0;o<i.length;o++){var n=i[o];n.videoTime&&(n.videoTime=n.videoTime.replace(".",":")),n.tags.length>0&&(n.xztags=n.tags[0].name),n.createTime=n.createTime?S.formatTime(n.createTime,"Y-M-D"):"",a.push(n)}var s=t.data.page-1;1==t.data.page?t.setData("vdList",[a]):t.setData("vdList["+s+"]",a),t.data.hasmore=e.model.totalPages>t.data.page,t.data.page=t.data.page+1}t.setData("isload",!1)})))},goLink:function(t){var e=t.currentTarget.dataset;"0"==e.id?o.switchTab({url:"/pages/edu/index/index"}):o.navigateTo({url:"/pages/edu/show/show?id="+e.id})}})})),window.define("90",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";n();Page({data:{},onLoad:function(t){o.switchTab({url:"/pages/main/index/index"})},onShow:function(){}})})),window.define("93",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5);t(19),n();Page({data:{imgHost:T.imgHost,csaiUrl:T.csaiUrl,clientX:0,clientY:0,accountId:"",shop:{},sjindex:{},newCourseList:[],page:1,hasmore:!0,isload:!1,windowWidth:0,windowHeight:0,statusBarHeight:44,isBackShow:!1},onLoad:function(t){t.accountId&&(this.setData("accountId",t.accountId),this.getsjInfo(),this.getNewCourse());var e=o.getSystemInfoSync();if(e){var a=e.windowWidth,i=e.windowHeight,n=e.statusBarHeight+5;this.setData({windowWidth:a,windowHeight:i,statusBarHeight:n})}S.compareVersion(e.swanNativeVersion,"2.28.0")>=0||this.setData("isBackShow",!0)},bindreturn:function(){o.navigateBack()},getsjInfo:function(){var t=this,e={accountId:t.data.accountId};D.get(T.reqsjHost+"/shangjiaapi/account/shopIndex",e,(function(e){if("SUCCESS"==e.code){var a=e.data;t.setData("sjindex",a),a&&(a.shop&&a.shop.banner&&(a.shop.banner=JSON.parse(a.shop.banner)),t.setData("shop",a.shop))}else S.layer.info(e.msg)}))},getNewCourse:function(){var t=this;if(t.data.hasmore){var e=this.data.page,a={accountId:t.data.accountId,page:e,limit:10,keyWord:""};t.setData("isload",!0),D.post(T.reqCsaiHost+"/kechengapi/loadCoursesByAcId.do",a,(function(a){var i=[];if("SUCCESS"==a.resultCode){for(var o=a.model.datas,n=0;n<o.length;n++){var s=o[n];s.wellThumbImg&&-1==s.wellThumbImg.indexOf("http")&&(s.wellThumbImg="http:"+s.wellThumbImg),"10001"!=s.accountId&&(s.iosPrice=s.payPrice),i.push(s)}t.data.hasmore=a.model.totalPages>t.data.page,t.data.page=e+1,t.setData("newCourseList["+(e-1)+"]",i)}t.setData("isload",!1)}))}},onReachBottom:function(){},onShow:function(){}})})),window.define("96",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5);Page({data:{imgHost:T.imgHost,navIndex:0,id:2000062651,bxdhlist:"",bxxzType:"",cot:0,sex:{name:"先生",type:"M"},isAgreen:!0,category:"",multiCityIndex:[0,0,0],multiCity:[[],[],[]],parentId:0,loadcounty:!1,objInfo:{districtId:0,districtName:"",districtAreaId:0,districtAreaName:"",userAgent:"BAIDU",srcClient:"MOBILE",category:null,typeId:0,type:null,fromId:null,isPromotion:0}},onLoad:function(t){t.id&&(this.data.id=t.id),this.getbxdhInfo(),this.getbxxzType()},navtap:function(t){var e=t.currentTarget.dataset;this.setData({navIndex:e.idx})},bindAdLink:function(t){var e=t.currentTarget.dataset,a="";"bxdz"==e.ty?a=T.zytUrl+"/shenqing.html?tp=tg1&from_id=333":"hbcx"==e.ty?a=T.zytUrl+"/hb/":"znzd"==e.ty?a=T.zytUrl+"/zn/fx/?v=bxdh":"bdzd"==e.ty&&(a=T.zytUrl+"/qzd.do"),a&&o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)})},getbxdhInfo:function(){var t={id:(e=this).data.id},e=this;D.get("/api/bxPro.do",t,(function(t){var a=t.model;if(t.model){a.product.answer=a.product.answer.replace("查看常见拒赔情况&gt;&gt;",""),a.product.createTime&&(a.product.createTime=S.formatTime(a.product.createTime,"Y-M-D h:m"));var i=a.product.bxArts;if(i&&i.length>0){for(var o=!1,n=!1,s=0;s<i.length;++s)"ANALYZE"==i[s].artType?o=!0:"COMPARE"==i[s].artType&&(n=!0);a.product.isbxArtsFx=o,a.product.isbxArtsDb=n}var d=a.courses.datas;if(d)for(s=0;s<d.length;++s)d[s].studyNum?a.courses.datas[s].studyNum=Math.ceil(d[s].studyNum/1e3)/10:a.courses.datas[s].studyNum=0,d[s].wellThumbImg&&-1==d[s].wellThumbImg.indexOf("http")&&(a.courses.datas[s].wellThumbImg="https:"+d[s].wellThumbImg);var r=a.articles;if(r)for(s=0;s<r.length;++s)r[s].createTime&&(a.articles[s].createTime=S.formatTime(r[s].createTime,"Y-M-D h:m")),r[s].imgUrl&&-1==r[s].imgUrl.indexOf("http")&&(a.articles[s].imgUrl="https:"+r[s].imgUrl);S.setTkd(a.product.title+"-希财网",a.product.keyword,a.product.description),e.setData({bxdhlist:a})}}))},bdParseTagATap:function(t){var e=t.currentTarget.dataset;e.src&&-1==e.src.indexOf("javascript")&&o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(e.src)})},getbxxzType:function(){var t=this;D.post(T.reqbxApi+"/ca/getTypeList.do",{},(function(e){if("SUCCESS"==e.resultCode)for(var a=e.model,i=0;i<a.length;i++)if("insureTypes"==a[i].key){for(var o=a[i].options,n=0;n<o.length;n++)a[i].options[n].check=!1;t.setData({bxxzType:o})}}))},goXyLink:function(t){var e=t.currentTarget.dataset,a=T.wtbzyUrl+e.url;a&&o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(a)})},bindLink:function(t){var e=t.currentTarget.dataset;e.authName,e.authId;"bx"==e.ltype&&3==e.idx?(this.getbxAdv(),this.setData({navIndex:3})):o.navigateTo({url:"/pages/comm/webload/webload?url="+escape("")})},getbxAdv:function(){this.getAdByCode("baidu_article_ad_cmsask",(function(t){t.cms_bx_wtzx&&o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(t.cms_bx_wtzx.href)})}))},getAdByCode:function(t,e){D.get("/api/getad.do",{code:t},(function(t){t&&e(t)}))}})})),window.define("99",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=t(5);Page({data:{xlylist:{}},onLoad:function(){this.getAdvs()},onReady:function(){},onShow:function(){},goLink:function(t){var e=t.currentTarget.dataset.v;S.toUrl(e)},getAdvs:function(){var t=this;D.get(T.csaiUrl+"/api/getad.do",{code:"baidu_kecheng_xly_index"},(function(e){t.setData({xlylist:e})}))}})})),window.define("102",(function(t,e,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b,T){"use strict";var D=t(8),S=t(10),k=t(5),x=t(19),L=(t(20),s(),n.getSystemInfoSync());Component({properties:{propName:{type:String,value:"val",observer:function(t,e){}}},data:{barHeight:L.statusBarHeight,todayMs:{},remain:0,page:1,pageSize:3,hh:"00",mm:"00",ss:"00",list:[],randomImgIndex:1,hasmore:!0,isload:!1},onLoad:function(){var t=this;-1==L.system.toLowerCase().indexOf("android")&&this.setData({isIos:!0}),t.data.isIos?n.showModal({title:"提示",content:"抱歉，ios版本暂不支持此服务",showCancel:!1,cancelText:"取消",confirmText:"确定",success:function(t){n.navigateBack({})}}):(this.getTodayMs(),this.getMsList(),this.getRandomImg(),a((function(){t.timeCount()}),1e3))},onReachBottom:function(){},onHide:function(){null},onUnload:function(){null},methods:{toPay:function(){var t=this;x.login((function(e){if(""==e.show){var a={},i=t.data.todayMs;a.proInfo={proImg:i.courses.wellThumbImg,proName:i.courses.name,payPrice:i.seckillPrice/100},a.pay={siteId:9,notifyUrl:"",redirectUrl:"",currentUrl:"",orderUrl:"/kechengapi/baidu/submitSeckillCourseOrder.do",orderData:{seckillId:i.id,payType:"BAIDU",fromCode:D.kcadformId}},n.navigateTo({url:"/pages/comm/payinfo/payinfo?id="+i.courses.id+"&tp=2&ishy=false&isfl=true&payinfo="+btoa(encodeURIComponent(JSON.stringify(a)))})}}),!0)},getRandomImg:function(){this.setData({randomImgIndex:Math.floor(5*Math.random())+1})},getTodayMs:function(){var t=this;S.post(D.reqCsaiHost+"/kechengapi/baidu/todayKillCourses.do",{limit:1},(function(e){if("SUCCESS"==e.resultCode&&e.model.length){var a=(new Date).getHours(),i=Math.floor((24-a)/24*100);t.setData({todayMs:e.model[0],remain:i})}}))},getMsList:function(){var t=this,e=this.data.page,a={pageSize:this.data.pageSize,pageIndex:e,trailerType:"Y"};S.post(D.reqCsaiHost+"/kechengapi/baidu/killCoursesByPage.do",a,(function(e){if("SUCCESS"==e.resultCode){var a=e.model.datas;a.length&&a.forEach((function(t){t.seckillDay=k.formatTime(t.seckillDay,"M月D日 h:s")})),t.setData({list:a})}}))},timeCount:function(){var t,e,a,i=(new Date).getTime(),o=new Date((new Date).toDateString()).getTime()+864e5-i;o>=0&&(t=Math.floor(o/1e3/60/60%24),e=Math.floor(o/1e3/60%60),a=Math.floor(o/1e3%60),1==String(t).length&&(t="0"+t),1==String(e).length&&(e="0"+e),1==String(a).length&&(a="0"+a)),0==o&&this.getTodayMs(),this.setData({hh:t,mm:e,ss:a})}}}),Page({_isCustomComponentPage:!0})})),window.define("105",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10),S=(t(5),t(19)),k=(t(20),n(),o.getSystemInfoSync());Component({properties:{propName:{type:String,value:"val",observer:function(t,e){}}},created:function(){},onLoad:function(t){},onShow:function(){-1==k.system.toLowerCase().indexOf("android")&&this.setData({isIos:!0}),this.data.isIos?o.showModal({title:"提示",content:"抱歉，ios版本暂不支持此服务",showCancel:!1,confirmText:"确定",success:function(t){o.navigateBack({})}}):(this.getTopImg(),this.isLogin(),this.getTodayMs(),this.getHot(),this.addAction())},data:{barHeight:k.statusBarHeight,coupon:[],total:0,hh:"00",mm:"00",ss:"00",todayMs:{},remain:0,hotList:[],topImgUrl:"",isLogin:!1,csaiUrl:T.csaiUrl,isIos:!1},onHide:function(){null},onUnload:function(){null},methods:{addAction:function(){D.action({module:50373})},goLogin:function(){o.navigateTo({url:"/pages/my/login/login"})},toMyYh:function(){o.navigateTo({url:"/pages/comm/webload/webload?url="+escape(this.data.csaiUrl+"/kecheng/my/coupon/")})},isLogin:function(){var t=this;S.isLogin((function(e){e?t.receiveYh():t.getMyYh(),t.setData({isLogin:e})}))},getTodayMs:function(){var t=this;D.post(T.reqCsaiHost+"/kechengapi/baidu/todayKillCourses.do",{limit:1},(function(e){if("SUCCESS"==e.resultCode&&e.model.length){var a=(new Date).getHours(),i=Math.floor((24-a)/24*100);t.setData({todayMs:e.model[0],remain:i})}}))},receiveYh:function(){var t=this;D.get(T.reqCsaiHost+"/kechengapi/baidu/loadReceiveCoupon.do",{},(function(e){"SUCCESS"==e.resultCode&&t.getMyYh()}))},timeCount:function(){var t,e,a,i=(new Date).getTime(),o=new Date((new Date).toDateString()).getTime()+864e5-i;o>=0&&(t=Math.floor(o/1e3/60/60%24),e=Math.floor(o/1e3/60%60),a=Math.floor(o/1e3%60),1==String(t).length&&(t="0"+t),1==String(e).length&&(e="0"+e),1==String(a).length&&(a="0"+a)),0==o&&this.getTodayMs(),this.setData({hh:t,mm:e,ss:a})},getMyYh:function(){var t=this;D.get(T.reqCsaiHost+"/kechengapi/baidu/loadCouponByUserId.do",{},(function(e){if("SUCCESS"==e.resultCode){var a=e.model,i=0;a.forEach((function(t){i+=t.couponAmount})),i=(i/100).toFixed(2),t.setData({total:i,coupon:a})}}))},getTopImg:function(){var t=this;D.get(T.csaiUrl+"/kechengapi/loadConfigByName.do",{name:"csai_baidu_xcx_xsyh_img"},(function(e){var a=e.model;if(a&&a.code){var i=JSON.parse(a.code).url;t.setData({topImgUrl:i})}}))},getHot:function(){var t=this;D.post(T.reqCsaiHost+"/kechengapi/baidu/loadRecCourseByPage.do",{page:1,limit:8},(function(e){if("SUCCESS"==e.resultCode){var a=e.model.datas;t.setData({hotList:a})}}))},scrollTo:function(){o.pageScrollTo({scrollTop:375,duration:300,success:function(){},fail:function(t){}})},toPay:function(){var t=this;S.login((function(e){if(""==e.show){var a={},i=t.data.todayMs;a.proInfo={proImg:i.courses.wellThumbImg,proName:i.courses.name,payPrice:i.seckillPrice/100},a.pay={siteId:9,notifyUrl:"",redirectUrl:"",currentUrl:"",orderUrl:"/kechengapi/baidu/submitSeckillCourseOrder.do",orderData:{seckillId:i.id,payType:"BAIDU",fromCode:T.kcadformId}},o.navigateTo({url:"/pages/comm/payinfo/payinfo?id="+i.courses.id+"&tp=2&ishy=false&isfl=true&payinfo="+btoa(encodeURIComponent(JSON.stringify(a)))})}}),!0)}}}),Page({_isCustomComponentPage:!0})})),window.define("108",(function(t,e,a,i,o,n,s,d,r,c,u,l,g,h,m,p,f,v,w,y,C,I,b){"use strict";var T=t(8),D=t(10);Page({data:{cmsList:[],wdList:[],newCourseList:[],hotArtList:[],jsList:[],page:1,hasmore:!0,hasmore2:!0,hasmore3:!0,hasmore4:!0,hasmore5:!0,isload:!1},onLoad:function(t){t.page&&(this.data.page=t.page),this.getList()},getList:function(){this.getArticle(),this.getWd(),this.getKt(),this.getPc(),this.getBx()},getArticle:function(){var t=1*this.data.page,e={page:t,formId:0,size:10},a=this;a.data.hasmore&&(a.setData({isload:!0}),D.get("/api/formArticles.do",e,(function(e){if("SUCCESS"==e.resultCode){var i=e.model.datas,o=a.data.page-1;i.length>0&&a.setData("cmsList["+o+"]",i),a.data.hasmore=e.model.totalPages>a.data.page,a.data.page=a.data.page+1,a.initPagination(t,e.model.totalPages)}a.setData({isload:!1})})))},getWd:function(){var t=this,e={page:this.data.page,channelId:29,size:10,ordseg:"id.desc"};t.data.hasmore2&&D.get("/api/channelQues.do",e,(function(e){if("SUCCESS"==e.resultCode){var a=e.model.datas,i=t.data.page-1;t.setData("wdList["+i+"]",a),t.data.hasmore2=e.model.totalPages>t.data.page}}))},getKt:function(){var t=this;if(t.data.hasmore3){var e=this.data.page,a={page:e,limit:10};D.post(T.reqCsaiHost+"/kechengapi/loadNewestCourses.do",a,(function(a){if("SUCCESS"==a.resultCode){for(var i=[],o=a.model.dataPage.datas,n=0;n<o.length;n++){var s=o[n];-1==s.wellThumbImg.indexOf("http")&&(s.wellThumbImg="https:"+s.wellThumbImg),i.push(s)}t.data.hasmore3=a.model.dataPage.totalPages>t.data.page,t.data.page=e+1,t.setData("newCourseList["+(e-1)+"]",i)}}))}},getPc:function(){var t=this,e=t.data.page,a={page:e,limit:10};t.data.hasmore4&&D.post(T.reqCsaiHost+"/kechengapi/article/loadHotArticle.do",a,(function(a){if("SUCCESS"==a.resultCode){var i=a.model.hotArticle.datas;i&&i.length>0&&(t.setData("hotArtList["+e+"]",i),t.data.hasmore4=a.model.hotArticle.totalPages>e+1)}}))},getBx:function(){var t=this,e=t.data.page,a={page:e,limit:10,type:"INTRO",keyWord:""};t.data.hasmore5&&D.post(T.reqCsaiHost+"/kechengapi/article/searchProd.do",a,(function(a){if("SUCCESS"==a.resultCode){var i=[],o=a.model;if(o.articles)for(var n=0;n<o.articles.length;n++){var s=o.articles[n];t.data.keyWord&&-1!=s.title.indexOf(t.data.keyWord)&&(s.title=s.title.replace(t.data.keyWord,'<span class="red">'+t.data.keyWord+"</span>")),i.push(s)}if(o.introList)for(n=0;n<o.introList.length;n++){s=o.introList[n];t.data.keyWord&&-1!=s.planName.indexOf(t.data.keyWord)&&(s.planName=s.planName.replace(t.data.keyWord,'<span class="red">'+t.data.keyWord+"</span>")),i.push(s)}t.setData("jsList["+e+"]",i)}}))},onPageChange:function(t){this.renderData(t.currentTarget.dataset.page)},initPagination:function(t,e){this.setData({page:t,pageCount:e,lastPage:Math.max(+t-1,1),nextPage:Math.min(+t+1,e)})}})})),window.__swanRoute="common/kefuadv/kefuadv",window.usingComponents=[],window.usingPluginComponents=[],require("2"),window.__swanRoute="common/comnavbar/comnavbar",window.usingComponents=[],window.usingPluginComponents=[],require("4"),window.__swanRoute="common/kcrmadv/kcrmadv",window.usingComponents=[],window.usingPluginComponents=[],require("7"),window.__swanRoute="common/xbrmadv/xbrmadv",window.usingComponents=[],window.usingPluginComponents=[],require("13"),window.__swanRoute="common/dksq/dksq",window.usingComponents=[],window.usingPluginComponents=[],require("15"),window.__swanRoute="common/kcadv/kcadv",window.usingComponents=[],window.usingPluginComponents=[],require("17"),window.__swanRoute="pages/main/index/index",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("18"),window.__swanRoute="pages/bxpc/index/index",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("23"),window.__swanRoute="pages/bxpc/pcshow/pcshow",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("26"),window.__swanRoute="pages/bxpc/result/result",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("29"),window.__swanRoute="pages/bxpc/jsshow/jsshow",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("32"),window.__swanRoute="pages/show/show",window.usingComponents=["common/kcadv/kcadv","common/dksq/dksq","common/kefuadv/kefuadv","common/xbrmadv/xbrmadv","common/kcrmadv/kcrmadv","common/comnavbar/comnavbar"],window.usingPluginComponents=[],require("35"),window.__swanRoute="pages/wdshow/wdshow",window.usingComponents=["common/kcadv/kcadv","common/dksq/dksq","common/xbrmadv/xbrmadv","common/kefuadv/kefuadv","common/kcrmadv/kcrmadv","common/comnavbar/comnavbar"],window.usingPluginComponents=[],require("38"),window.__swanRoute="pages/comm/pay/pay",window.usingComponents=[],window.usingPluginComponents=[],require("41"),window.__swanRoute="pages/comm/payinfo/payinfo",window.usingComponents=[],window.usingPluginComponents=[],require("45"),window.__swanRoute="pages/comm/webload/webload",window.usingComponents=[],window.usingPluginComponents=[],require("48"),window.__swanRoute="pages/edu/myindex/myindex",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("51"),window.__swanRoute="pages/edu/orderList/orderList",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("54"),window.__swanRoute="pages/edu/show/show",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("57"),window.__swanRoute="pages/edu/list/list",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("60"),window.__swanRoute="pages/edu/myInfo/myInfo",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("63"),window.__swanRoute="pages/edu/myrec/myrec",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("66"),window.__swanRoute="pages/edu/search/search",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("69"),window.__swanRoute="pages/edu/comment/comment",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("72"),window.__swanRoute="pages/edu/daxin/daxin",window.usingComponents=[],window.usingPluginComponents=[],require("75"),window.__swanRoute="pages/my/study/study",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("78"),window.__swanRoute="pages/my/vip/vip",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("81"),window.__swanRoute="pages/my/login/login",window.usingComponents=["common/kefuadv/kefuadv"],window.usingPluginComponents=[],require("84"),window.__swanRoute="pages/main/list/list",window.usingComponents=[],window.usingPluginComponents=[],require("87"),window.__swanRoute="pages/edu/index/index",window.usingComponents=[],window.usingPluginComponents=[],require("90"),window.__swanRoute="pages/edu/sjIndex/sjIndex",window.usingComponents=[],window.usingPluginComponents=[],require("93"),window.__swanRoute="pages/comm/dhshow/dhshow",window.usingComponents=[],window.usingPluginComponents=[],require("96"),window.__swanRoute="pages/main/xlyList/xlyList",window.usingComponents=[],window.usingPluginComponents=[],require("99"),window.__swanRoute="pages/edu/ms/ms",window.usingComponents=["pages/edu/ms/ms"],window.usingPluginComponents=[],require("102"),window.__swanRoute="pages/edu/benefits/benefits",window.usingComponents=["pages/edu/benefits/benefits"],window.usingPluginComponents=[],require("105"),window.__swanRoute="swan-sitemap/index",window.usingComponents=[],window.usingPluginComponents=[],require("108")}(__hacked);