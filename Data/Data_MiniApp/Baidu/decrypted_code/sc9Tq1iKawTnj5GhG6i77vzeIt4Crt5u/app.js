var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};(function(_ref){var global=_ref.global,Function=_ref.Function,setTimeout=_ref.setTimeout,setInterval=_ref.setInterval,setImmediate=_ref.setImmediate,requestAnimationFrame=_ref.requestAnimationFrame,swanGlobal=_ref.swanGlobal,jsNative=_ref.jsNative,masterManager=_ref.masterManager,_openSourceDebugInfo=_ref._openSourceDebugInfo,System=_ref.System,Bdbox_aiapps_jsbridge=_ref.Bdbox_aiapps_jsbridge,Bdbox_android_jsbridge=_ref.Bdbox_android_jsbridge,Bdbox_android_utils=_ref.Bdbox_android_utils,_naFile=_ref._naFile,_naInteraction=_ref._naInteraction,_naNetwork=_ref._naNetwork,_naRouter=_ref._naRouter,_naSetting=_ref._naSetting,_naStorage=_ref._naStorage,_naUtils=_ref._naUtils,globalThis=_ref.globalThis;window.define("23",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("25"),T=t("33");App({onLaunch:function(t){this.globalData.scene=t.scene||"",this.preSet(),(0,S.getDevicesInfo)()},globalData:{userInfo:null,platform:"",devicesInfo:null,apiResultCached:{},isSupportTop:!1,appKey:"sc9Tq1iKawTnj5GhG6i77vzeIt4Crt5u"},preSet:function(){var t=(0,T.checkSupportTop)();Object.assign(this.globalData,{isSupportTop:t})}})})),window.define("25",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.getDevicesInfo=n.getCommonSysInfo=n.getChannelId=n.getBdussCommon=void 0,n.getLoginStatus=I,n.getSystemInfo=void 0;var T=S(t("17")),k=t("33"),x={};r.getStorage({key:"apiResultCached",success:function(t){Object.assign(x,t.data)}});var D=new Map;function I(){if(void 0!==x.isLoginSync)return x.isLoginSync;var t=r.isLoginSync().isLogin;return x.isLoginSync=t,t}var C=R((function(){return new Promise((function(t,e){r.getSystemInfo({success:function(e){return t(function(t){var e,n;e="ios"===t.platform?t.model.replace(/<[^>]*>/g,"")+"_"+t.system.replace("iOS ","").replace("Android ",""):t.model+"_"+t.system.replace("Android ","").replace("iOS ","")+"_0_";t.version&&"baiduboxapp"===t.host?n=t.version:t.version=n=function(t){if(!t)return"11.0.0";var e={"10.10":["1.10.28","1.11.12"],10.11:["1.11.12","1.12.14"],10.12:["1.12.14","1.13.18"],10.13:["1.13.18","2.0.2"],"11.0.0":["2.0.2","2.10.7"],"11.1.0":["2.10.7","3.0.2"],"11.2.0":["3.0.2","3.10.4"],"11.3.0":["3.10.4","3.20.6"],"11.5.0":["3.20.6","3.30.7"],"11.6.0":["3.30.7","3.40.4"],"11.7.0":["3.40.4","3.50.3"],"11.8.0":["3.50.3","3.60.2"],"11.9.0":["3.60.2","3.70.2"],"11.10.0":["3.70.2","3.80.2"],"11.11.0":["3.80.2","3.90.1"],"11.12.0":["3.90.1","255.255.255"]};for(var n in e)if(2===e[n].length){var a=(0,T.default)(e[n],2),r=a[0],o=a[1];if((0,k.versionCompare)(t,r)>=0&&(0,k.versionCompare)(t,o)<0)return n}return"11.0.0"}(t.SDKVersion);t.enableNavigationStyle=(0,k.versionCompare)(n,"11.1")>=0;var a=parseInt(t.screenWidth,10)*parseInt(t.pixelRatio,10)+"_"+parseInt(t.screenHeight,10)*parseInt(t.pixelRatio,10)+"_"+("ios"===t.platform?"iphone":"android")+"_"+n+"_0",r="",o=t.statusBarHeight;"android"===t.platform?(r="a0",t.isAndroid=!0,o+=38):(r="i0",t.isAndroid=!1,o+=44);var i=t.cuid;return Object.assign(t,{uid:i,ut:e,ua:a,osbranch:r,version:n,topbarHeight:o})}(e))},fail:function(){e()}})}))}),"getSystemInfoAPI");n.getSystemInfo=C;var P=function(t){return new Promise((function(e){I()?e(t()):e({bduss:""})}))}.bind(null,(function(){return new Promise((function(t){r.canIUse("getBDUSS")&&r.getBDUSS({success:t,fail:function(){return t({bduss:""})}}),t()}))}));n.getBdussCommon=P;var O=R((function(){return Promise.all([C(),E(),B()]).then((function(t){var e=(0,T.default)(t,3),n=e[0],a=e[1],r=e[2];return Object.assign(n,a,r,{uid:a.cuid})}))}),"getDevicesInfoAPI");n.getDevicesInfo=O;var E=R((function(){return new Promise((function(t){r.getCommonSysInfo({success:t,fail:function(e){(0,k.report)("getcomsysinfo_fail",{error:JSON.stringify(e),type:1}),t({})}})}))}),"getCommonSysInfoAPI");n.getCommonSysInfo=E;var B=R((function(){return C().then((function(t){return(0,k.versionCompare)(t.version,"11.11")<0?Promise.resolve({channelId:""}):new Promise((function(t){try{r.getChannelID({success:function(e){return t({channelId:e.channelId})},fail:function(){return t({channelId:""})}})}catch(e){t({channelId:""})}}))}))}),"getChannelIdAPI");function R(t,e){var n=t.name||e;return function(){if(x[n]){if(Date.now()-x[n].__timestamp<6048e5)return t().then((function(t){x[n]=t,x[n].__timestamp=Date.now()})),Promise.resolve(x[n]);x[n]=null}var e=D.get(n);return e||(e=new Promise((function(e,a){t().then((function(t){x[n]=t,x[n].__timestamp=Date.now(),r.setStorage({key:"apiResultCached",data:x}),e(t)})).catch((function(t){a(t)})).finally((function(){D.delete(n)}))})),D.set(n,e),e)}}n.getChannelId=B})),window.define("10",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("17",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("1"),T=t("12"),k=t("21"),x=t("13");e.exports=function(t,e){return S(t)||T(t,e)||k(t,e)||x()},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("1",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("12",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("21",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("0");e.exports=function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("0",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("13",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("33",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.checkAppKeyIsOfficial=function(t){return!(Array.isArray(t)?t:[t]).find((function(t){return t.includes("_")}))},n.checkPlatformVersion=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both",n=r.getSystemInfoSync(),a=t.split("."),o=n.version.split("."),i=parseInt(o[0],10)>parseInt(a[0],10)||parseInt(o[0],10)===parseInt(a[0],10)&&parseInt(o[1],10)>=parseInt(a[1],10);if("both"===e)return i;if(e.toLowerCase()===n.platform.toLowerCase())return i;return!1},n.checkSupportTop=function(){return["addTop","deleteTop","getTopList"].map((function(t){return r.canIUse(t)})).every((function(t){return t}))},n.dealGuide=function(t,e){var n=this;(function(t,e){return new Promise((function(n,a){r.getStorage({key:"guideCount",success:function(a){var o=a.data||{indexGuide:0,discoryGuide:0,favorGuide:0,categoryGuide:0};["categoryGuide","indexGuide","discoryGuide","favorGuide"].filter((function(e){return"index"===t?!e.startsWith(t):!e.startsWith(t)&&"categoryGuide"!==e})).some((function(t){return o[t]<(e[t]||1)&&(o[t]++,r.setStorage({key:"guideCount",data:o}),n(t),!0)})),n("")},fail:function(t){a("")}})}))})(t,e).then((function(t){n.setData({guide:t},(function(){t&&setTimeout((function(){n.hideGuide()}),5e3)}))}))},n.debounce=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(e),e=setTimeout((function(){t.apply(a,o)}),n)}},n.deleteKey=function(t,e){e.forEach((function(e){delete t[e]}))},n.firstJudge=function(t){var e=this,n=t.bind(this);return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];e.firstRenderLoad?setTimeout((function(){n.apply(void 0,a),e.renderLoad=!0}),O):(e.firstRenderLoad=!0,n.apply(void 0,a))}},n.getAppKey=M,n.getCategoryTab=function(t){return t.map((function(t,e){return C(C({},t),{},{name:e,label:t.sub_title})}))},n.getDate=function(t){var e=new Date(1e3*t),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes();return R(n)+"月"+R(a)+"日"+R(r)+":"+R(o)},n.getElementRect=function(t){return r.createSelectorQuery().select(t).boundingClientRect()},n.getRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))},n.getSchemaInfo=B,n.getSchemaParams=E,n.getSwanId=function(){return new Promise((function(t,e){r.getSwanId({success:function(e){t(e.data.swanid)}})}))},n.handleTabTotalLength=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.length;if(!e||a<=e)return t;var r={isMore:!0,title:"查看全部",icon:"../../images/more.png"};if(n){if(t.filter((function(t){return!t.isTop})).length<=e)return t;var o=e,i=t.filter((function(t){return!!t.isTop||o>0&&(o--,!0)}));return i.push(r),i}return[].concat((0,T.default)(t.slice(0,e)),[r])},n.initAnimate=function(t,e,n){return r.createAnimation({duration:t,timingFunction:e,delay:n})},n.isNetConnect=function(){return new Promise((function(t,e){r.getNetworkType({success:function(n){"none"===n.networkType.toLowerCase()&&e({errMsg:"no network",network:!1}),t({network:!0})},fail:e})}))},n.mergeList=function(t,e){return t.map((function(t){var n=e.find((function(e){return M(t)===M(e)}));return C(C({},t),n)}))},n.openApp=function(t){var e=t.appKey,n=t.scheme,a=t.from,o=(t.frameType,t.linkQuery),i=t.path,s="",c=i||"";if(n){var u=B(n);s=u.appkey,c=u.path}o&&(c="".concat(c,"?").concat(o));r.navigateToSmartProgram({appKey:e||s,path:c,from:a})},n.openAppByopenBdbox=function(t){var e=t.appKey,n=t.scheme,a=t.from,i=t.frameType,s=t.linkQuery,c=t.path,u="",l=c||"",p=!1,d=o()||{globalData:{appKey:"sc9Tq1iKawTnj5GhG6i77vzeIt4Crt5u"}},f={_baiduboxapp:{from:a},callback:"_bdbox_js_275",ubc:{pre_appid:d.globalData.appKey},upgrade:0};if(p=!!i&&1==+i,n){var h=B(n);u=h.appkey,l=h.path||"",p=h.isGame,Object.assign(f._baiduboxapp,JSON.parse(h.params._baiduboxapp||"{}"))}var g={};if(s)try{for(var v=s.split("&"),m=0,y=v.length;m<y;m++){var _=v[m].split("=");_[0]&&_[1]&&(g[_[0]]=decodeURIComponent(_[1]))}}catch(t){}Object.assign(f,g);var b=[];if(Object.entries(f).forEach((function(t){var e=(0,x.default)(t,2),n=e[0],a=e[1];"_baiduboxapp"===n||!a&&0!=+a||("[object Object]"===Object.prototype.toString.call(a)&&(a=JSON.stringify(a)),b.push("".concat(n,"=").concat(encodeURIComponent(a))))})),a===P.search)return void r.navigateToSmartProgram({appKey:e||u,path:"".concat(l,"?").concat(b.join("&")),from:a,queryDecode:!0,success:function(t){},fail:function(t){console.error("navigateToSmartProgram fail",t)}});r.openBdboxWebview({authority:p?"swangame":"swan",path:"/".concat(e||u).concat(l),parameters:f,success:function(t){},fail:function(t){console.error("openBdboxWebview fail",t)}})},n.pickDataList=function(t){if(!t.length)return;var e=[],n=[],a=[];return t.forEach((function(t,r){if(t.module_type!==D.MODULE_TYPE.SERVICE&&t.module_type!==D.MODULE_TYPE.MATERIAL){var o={title:t.title,sub_title:t.sub_title,id:t.module_id,moduleType:t.module_type,icon:t.float_new_icon||""};t.module_type===D.MODULE_TYPE.OPERATE&&(o.isOperate=!0),n.push(o);var i=t.elements||[];e.push(i)}else a=t.elements||[]})),{categoryList:n,appList:e,serviceList:a}},n.queryStringify=function(t){var e=[];for(var n in t){var a=t[n];["",void 0,null].includes(a)||e.push(encodeURIComponent(n)+"="+a)}return e.join("&")},n.report=function(t,e){r.reportAnalytics(t.toLowerCase(),e)},n.showActionSheet=function(t){return new Promise((function(e,n){r.showActionSheet({itemList:t,success:e,fail:n})}))},n.toast=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";r.showToast({title:t,icon:e})},n.versionCompare=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("."),a=e.split("."),r=Math.max(n.length,a.length),o=0;o<r;o++){var i=Number(n[o])||0,s=Number(a[o])||0;if(i!==s)return i>s?1:-1}return 0};var T=S(t("19")),k=S(t("6")),x=S(t("17")),D=t("27");function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){(0,k.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=D.from,O=15e5;function E(t){var e=["_baiduboxapp","callback","upgrade"],n=t.split("?")[1],a={};n&&n.split("&").forEach((function(t){var n=t.split("=");n[0]&&n[1]&&e.includes(n[0])&&(a[n[0]]=decodeURIComponent(n[1]))}));return a}function B(t){if(t){var e="",n=!1,a=(t.match(/[a-zA-Z]\/.+?(\/.+?)\?/)||[])[1],r=t.match(/\/\/swangame\/([^\/\?]*)/);if(r)e=r[1],n=!0;else{var o=t.match(/\/\/swan\/([^\/\?]*)/);o&&(e=o[1])}return{appkey:e,path:a,isGame:n,params:E(t)}}}function R(t){return parseInt(t,10)<10&&(t="0"+t),t}function M(t){return t.appkey||t.appKey||t.app_id||t.app_key||t.appid||t.appId}})),window.define("19",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("2"),T=t("11"),k=t("21"),x=t("14");e.exports=function(t){return S(t)||T(t)||k(t)||x()},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("2",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("0");e.exports=function(t){if(Array.isArray(t))return S(t)},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("11",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("14",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("6",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("27",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.topicUrl=n.sugUrl=n.searchUrl=n.hostUrl=n.from=n.defaultBanner=n.commonUrl=n.TOP_TOASTS=n.TOP_BTN_TEXTS=n.TOP_ACTIONS=n.SEARCH_PAGE=n.MODULE_TYPE=n.MODE_TYPE_MAPS=n.LINK_TYPE=n.INDEX_PAGE=n.HOT_PAGE=n.FAVOR_PAGE=n.EDIT_APP_PAGE=n.DISCOVERY_PAGE=n.COMMON_PAGE=n.BANNER_STATUS=n.ADD_FAVOR_PAGE=n.ACTION_TIP=void 0;var S="https://mbd.baidu.com/ma",T="".concat(S,"/recommend/page");n.hostUrl=T;var k="".concat(S,"/recommend/topic");n.topicUrl=k;var x="".concat(S,"/smarket-api/pagedata");n.commonUrl=x;n.searchUrl="https://m.baidu.com/sf/vsearch";n.sugUrl="https://m.baidu.com/sugrec?prod=open_xcx";n.from={history:"1201004210003000",favor:"1201004210095000",discovery:"1201004210070000",search:"1201004210107000",category:"1201004210004000",active_hb:"1201004210005000",act_attention:"1201004210005000",govDraw:"1201004210006000",act_rank:"1201004210005000",youth:"1201004210008000",material:"1201004210108000",top:"1201004210109000"};n.ACTION_TIP={ADD_FAVOR:"关注",CANCEL_FAVOR:"取消关注",DEL_MINE:"移出我的小程序",ADD_MINE:"添加到我的小程序",DEL:"删除"};var D={PULLUP:Symbol("pullUp"),PULLDOWN:Symbol("pullDown")};n.BANNER_STATUS=D;n.MODE_TYPE_MAPS={BANNER:7,RANK:5,BIANJI:10,RECOMMEND:2,OPERATE:13};var I={UNDO:0,SMARTPROGRAM:1,SMARTGAME:2,SPECIAL:3,PATH:4};n.LINK_TYPE=I;n.MODULE_TYPE={HEAD:1,OPERATE:2,TASK:8,PROCESS:13,SERVICE:10,RANK:9,POPULAR:20,MATERIAL:30};var C={showBanner:!0,elements:[{back_color:"#00429e",icon:"https://sp-cms-bj.cdn.bcebos.com/smarket-plat/2020-10/1602746414169/5dbe5e4cd812.png",link_type:I.PATH,path:"/activities/special-topic/index",schema:"/activities/special-topic/index?topicId=18",action:0,element_type:1,link_query:"topicId=18",pos:1,status:0}]};n.defaultBanner=C;n.DISCOVERY_PAGE="/pages/discovery/discovery";n.INDEX_PAGE="/pages/index/index";n.FAVOR_PAGE="/pages/favor/favor";n.SEARCH_PAGE="/pages/search/search";n.HOT_PAGE="/pages/hot/hot";n.ADD_FAVOR_PAGE="/pages/add-favor/add-favor";n.EDIT_APP_PAGE="/pages/edit/edit";n.COMMON_PAGE="/pages/use/use";n.TOP_BTN_TEXTS={TOP:"置顶",TOP_DOWN:"取消置顶"};var P={TOP:"top",UP:"up",DOWN:"down",TOP_MAX_NUM:9,CLICK_TOP:"click_top"};n.TOP_ACTIONS=P;var O={TOP_SUCC:"置顶成功",DOWN_SUCC:"取消成功",TOP_NUM_OVER:"最多可拥有".concat(P.TOP_MAX_NUM,"个置顶小程序"),FAIL:"业务繁忙，请稍后重试",FAIL_TOP_DEV:"开发版/体验版小程序无法进行置顶"};n.TOP_TOASTS=O})),window.define("55",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("27"),T=t("33"),k=t("25"),x=t("30"),D=t("28"),I=t("24"),C=t("49"),P="#dcdcdc",O=0,E=0,B=0,R=!0;Page({onInitLoaded:!1,data:{pageModule:[{banner_config:{duration:500,interval:5e3},elements:[{icon:" ",back_color:"#f5f5f5"}],showBanner:!0},{title:"热门榜单",elements:[{name:"热搜榜",description:"最热搜索",icon:" ",path:"".concat(S.HOT_PAGE,"?pageType=0")},{name:"分享榜",description:"传播最广",icon:" ",path:"".concat(S.HOT_PAGE,"?pageType=1")},{name:"关注榜",description:"关注最多",icon:" ",path:"".concat(S.HOT_PAGE,"?pageType=2")}],showRank:!0},{sub_modules:[{elements:[{app_name:"",icon:" "},{app_name:"",icon:" "},{app_name:"",icon:" "}]}],showOperate:!0},{title:"为你推荐",elements:[{app_name:"",icon:" "},{app_name:"",icon:" "},{app_name:"",icon:" "},{app_name:"",icon:" "},{app_name:"",icon:" "}],showRecommend:!0}],headerColor:"#dcdcdc",headerFontColor:"#fff",reachTop:!0,guide:null,appFrom:"",appKey:"",hasFoldBanner:!1,firstBanner:{},isBannerUnfold:!1,isBannerAnimating:!1,stopFirstScreenTouch:!1,isShowSignalUp:!0,isAutoPlay:!0,searchPresetword:"搜索小程序",networkError:!1},onInit:function(){this.renderPage=T.firstJudge.call(this,this.renderPage),this.onInitLoaded||(this.onInitLoaded=!0,this.getPageData())},onLoad:function(t){var e=this;this.modalY=0,this.setData({appFrom:S.from.discovery}),this.firstLoad=!0,this.onInitLoaded||(this.onInitLoaded=!0,this.getPageData()),setInterval((function(){e.refreshData()}),6e5),this.touch={},(0,k.getSystemInfo)().then((function(t){e.windowHeight=t.windowHeight})),this.isfirstUnfoldBanner=!0,this.taskId=+t.taskId,this.taskId&&(C.taskSupplier.init({query:t,sdkConfig:{useBdtls:!0,secretMap:{106:"7d15092e-5020-a2b4-2d15-9c00854685f0",351:"5ff66750-71f5-5708-ad94-0307f906c64a"}}}),C.taskSupplier.execute({command:"action",aid:[106]}),(0,T.report)("jifen_show")),this.dateStamp=0,(0,I.getHistory)().then((function(t){t.length&&(e.dateStamp=t[0].dateStamp)}))},onShow:function(){var t=this;I.checkNetwork.call(this),setTimeout((function(){E=1}),500),this.taskId&&(0,I.getHistory)().then((function(e){if(e.length){var n=e[0].dateStamp;t.dateStamp!==n&&(C.taskSupplier.execute({command:"action",aid:[351]}),(0,T.report)("baibian_ll_show"))}})),this.firstLoad||I.updateSearchPresetword.call(this),this.firstLoad=!1,r.setPageInfo({title:"发现更多精彩小程序"})},onHide:function(){this.hideGuide(),E=0},backReport:function(){C.taskSupplier.isTaskUser({id:[106]})?(0,T.report)("jifen_click"):(0,T.report)("baibian_ll_click")},getPageData:function(){var t=this;(0,k.getDevicesInfo)().then((function(e){(R=e.enableNavigationStyle)?t.headerStyle="fff":r.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})})),r.getStorage({key:"discoveryData",success:function(e){e.data&&!t.requestBack&&t.renderPage(e.data)}}),this.refreshData()},refreshData:function(){var t=this;(0,I.getDiscoveryData)().then((function(e){t.requestBack=!0,I.setSearchPresetword.call(t,e.data.sugs||{});var n={requestId:e.request_id,pageModule:e.data.modules};t.setData({networkError:!1}),t.renderPage(n),r.setStorage({key:"discoveryData",data:n})})).catch((function(e){t.removeSkeleton&&t.removeSkeleton()}))},renderPage:function(t){var e=this,n=t.requestId,a=t.pageModule;this.requestId=n,a.forEach((function(t,n){var a=t.elements,o=t.module_type;switch(a=o!==S.MODE_TYPE_MAPS.OPERATE&&null==a?[]:a,o){case S.MODE_TYPE_MAPS.BANNER:if(t.showBanner=!!a.length,t.showBanner&&0===n){var i=t.elements?t.elements[0]:{},s=!(!i.big_icon&&!i.big_video_url);s&&(e.isfirstUnfoldBanner=!0,e.smallAnimation=r.createAnimationVideo&&r.createAnimationVideo("smallBannerAnimationVideo"),e.bigAnimation=r.createAnimationVideo&&r.createAnimationVideo("bigBannerAnimationVideo"),e.setData({firstBanner:i,hasFoldBanner:s})),e.setBgColorByBanner(a)}(0,T.deleteKey)(t,["title","sub_title","module_id","module_type","logid"]),t.elements.forEach((function(t){(0,T.deleteKey)(t,["action","app_key","bid","description","element_type","path","pos","status"])}));break;case S.MODE_TYPE_MAPS.RANK:t.showRank=!!a.length,(0,T.deleteKey)(t,["sub_title","module_id","module_type","logid"]),t.elements.forEach((function(t){(0,T.deleteKey)(t,["action","element_type","status"])}));break;case S.MODE_TYPE_MAPS.RECOMMEND:t.showRecommend=!!a.length,(0,T.deleteKey)(t,["sub_title","module_id","module_type","logid"]),t.elements.forEach((function(t){(0,T.deleteKey)(t,["action","app_key","element_type","status"])}));break;case S.MODE_TYPE_MAPS.OPERATE:var c=t.sub_modules&&t.sub_modules.some((function(t){return null!==t.elements}));t.showOperate=c,(0,T.deleteKey)(t,["title","sub_title","module_id","module_type","logid","elements"]),t.sub_modules.forEach((function(t){(0,T.deleteKey)(t,["sub_title","module_id","module_type","logid"]),t.elements.forEach((function(t){(0,T.deleteKey)(t,["action","app_key","element_type","status"])}))}))}})),a[0].showBanner||(a.unshift(S.defaultBanner),this.setBgColorByBanner(S.defaultBanner.elements));var o=a.map((function(t){if(t.module_type===S.MODE_TYPE_MAPS.RECOMMEND){var e=Object.assign({},t);return e.elements=(t.elements||[]).slice(0,5),e}return t}));this.setData({pageModule:this.firstRenderLoad?a:o,networkError:!1},(function(){e.removeSkeleton&&e.removeSkeleton(),e.data.hasFoldBanner&&e.initFoldBanner(),e.pageModule=a}))},hideGuide:function(){this.setData({guide:null})},initFoldBanner:function(){var t=this;this.isUnFoldBanner()?setTimeout((function(){t.doUnfoldBanner()}),1e3):setTimeout((function(){t.setData({pullDownAnimation:t.setPullAnimation(S.BANNER_STATUS.PULLDOWN)},(function(){t.data.firstBanner.video_url&&t.smallAnimation&&t.smallAnimation.play()}))}),200)},doUnfoldBanner:function(){this.modalY=0,this.data.firstBanner.big_video_url&&this.bigAnimation&&this.bigAnimation.play(),this.isfirstUnfoldBanner||this.setData({isShowSignalUp:!1}),this.setData({isBannerUnfold:!0,isBannerAnimating:!0,isAutoPlay:!1}),this.setBannerUnfoldAnimation(),this.setStopFirstScreenTouch(!0),(0,T.report)("down_halfbanner");var t=this.data.firstBanner.schema,e=(0,T.getSchemaInfo)(t).appkey;(0,D.log)({type:"show_items",page:"find_page",value:"half-Banner",ext:{topic_id:t,appkey:e,request_id:this.requestId}},D.logId.newUtc)},doFoldBanner:function(){this.modalY=0,this.data.firstBanner.video_url&&this.smallAnimation&&this.smallAnimation.play(),this.setBannerFoldAnimation(),this.setData({isBannerUnfold:!1,isBannerAnimating:!0,isAutoPlay:!0}),this.setStopFirstScreenTouch(!1),(0,T.report)("up_halfbanner")},setBgColorByBanner:function(t){if(0!==t.length&&t[O]){var e=this.transColor(t[O].back_color);B<=100?(P=e,O=0,this.setData({reachTop:!0,headerColor:e})):(this.setData({reachTop:!1,headerColor:"#fff",headerFontColor:"#000"}),r.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"}))}},isUnFoldBanner:function(){var t=r.getStorageSync("folderBanner"),e=new Date,n="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());return(!t||t!==n)&&(r.setStorage({key:"folderBanner",data:n}),!0)},onPageScroll:function(t){!this.getData("networkError")&&R&&(this.initedModule||(this.setData({pageModule:this.pageModule}),this.initedModule=!0),(B=t.scrollTop)>100?(this.setData({reachTop:!1,headerColor:"#fff",headerFontColor:"#000"}),"fff"!==this.headerStyle&&(r.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"}),this.headerStyle="fff")):(this.setData({reachTop:!0,headerColor:P,headerFontColor:"#fff"}),R&&"000"!==this.headerStyle&&(r.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#ffffff"}),this.headerStyle="000")))},openSearch:function(){(0,T.report)("search_click",{page:"discovery"}),r.navigateTo({url:S.SEARCH_PAGE})},onTabItemTap:function(t){B>10&&E>0&&r.pageScrollTo({scrollTop:0,duration:300})},bannerUpdate:function(t){var e=t.detail.current,n=this.data.pageModule[0].elements;if(n[e]){var a=this.transColor(n[e].back_color);P=a,O=e,B<=100&&this.setData({headerColor:a})}},rankTap:function(t){var e=t.currentTarget.dataset,n=e.name,a=e.path,r=e.index,o=e.type,i=e.schema;this.actionByType(o,a,i),(0,D.log)({type:"click",page:"find_page",value:"rank_list",ext:{pos:r+1,title:"热门榜单",rank_name:n,request_id:this.requestId}},D.logId.newUtc),(0,T.report)("new_faxian_rank",{pos:r+1,name:n})},actionByType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";t!==S.LINK_TYPE.UNDO&&(t===S.LINK_TYPE.SMARTPROGRAM||t===S.LINK_TYPE.SMARTGAME?(0,x.openAppByHost)({scheme:n,from:S.from.discovery,linkQuery:a}):t===S.LINK_TYPE.PATH&&r.navigateTo({url:e}))},openImageApp:function(t){var e=t.currentTarget.dataset,n=e.path,a=e.index,r=e.linkType,o=e.schema,i=e.linkQuery,s=e.bannerType,c="";o&&(c=(0,T.getSchemaInfo)(o).appkey),this.actionByType(r,n,o,i),s&&"half-banner"===s?(0,T.report)("new_halfbanner",{appkey:1===r||2===r?c:""}):(0,T.report)("new_faxian_banner",{pos:a+1,topic_id:4===r?o:"",appkey:1===r||2===r?c:""}),(0,D.log)({type:"click",page:"find_page",value:s||"banner",ext:{pos:a+1,topic_id:4===r?o:"",appkey:1===r||2===r?c:"",request_id:this.requestId}},D.logId.newUtc)},transColor:function(t){if(t){var e=t.split(".");if(2===e.length&&6===e[0].length){var n=parseInt(e[0].substr(0,2),16),a=parseInt(e[0].substr(2,2),16),r=parseInt(e[0].substr(4,2),16),o=e[1].substring(0,e[1].indexOf("%"));return"rgba(".concat(n,",").concat(a,",").concat(r,",").concat(1-parseFloat(o)/100,")")}return e[0]||""}},rankListTap:function(t){(0,D.log)({type:"click",page:"find_page",value:"rank_list",ext:{pos:t.index+1,title:"热门榜单",rank_name:this.data.hotList.list[t.index].name,request_id:this.requestId}},D.logId.newUtc),(0,T.report)("new_faxian_rank",{pos:t.index+1,name:this.data.hotList.list[t.index].name}),r.navigateTo({url:S.HOT_PAGE+"?pageType="+t.index})},suggestionAppTap:function(t){var e=t.currentTarget.dataset;(0,D.log)({type:"click",page:"find_page",value:"bianji_list",ext:{pos:t.pos+3*e.index,title:e.title,request_id:this.requestId,name:t.name}},D.logId.newUtc),(0,T.report)("new_faxian_bianji",{pos:t.pos+3*e.index})},verticalAppTap:function(t){(0,D.log)({type:"click",page:"find_page",value:"recommend_list",ext:{pos:t.index+1,title:"为你推荐",appkey:t.appkey,request_id:this.requestId}},D.logId.newUtc),(0,T.report)("new_faxian_recommend",{pos:t.index+1})},setStopFirstScreenTouch:function(t){var e=this;setTimeout((function(){e.setData({stopFirstScreenTouch:t})}),500)},touchStart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=void 0===e?{}:e,a=t.touches,r=void 0===a?[]:a;this.data.hasFoldBanner&&((n.offsetTop||0)<this.windowHeight?(this.touch.inFirstScreen=!0,r[0]&&(this.touch.moveClientX=r[0].clientX||0,this.touch.moveClientY=r[0].clientY||0)):this.touch.inFirstScreen=!1)},touchMove:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).touches,e=void 0===t?[]:t;if(this.data.hasFoldBanner&&this.touch.inFirstScreen&&!this.data.isBannerAnimating&&e[0]){var n=e[0].clientX,a=e[0].clientY,r=n-this.touch.moveClientX,o=a-this.touch.moveClientY;if(Math.abs(r>10))return void(this.touch.moveClientX=n);if(this.data.isBannerUnfold)if(this.modalY>-10&&o<0){this.modalY=this.modalY-1;var i=this.initAnimate(0,"linear",0).step().top(this.modalY).step().export();this.setData({bigModeAnimation:i})}else if(this.modalY<10&&o>0){this.modalY=this.modalY+1;var s="calc(100vw - 1rem + ".concat(this.modalY,"px)"),c=this.initAnimate(0,"linear",0).height(s).opacity(10).step().export(),u=this.initAnimate(0,"linear",0).step().top(this.modalY).step().export();this.setData({bannerAnimation:c,bigModeAnimation:u})}B<=0&&!this.data.isBannerUnfold&&o>0?(this.doUnfoldBanner(),this.touch.moveClientY=a,this.isfirstUnfoldBanner=!1):this.data.isBannerUnfold&&this.modalY<=-10&&(this.doFoldBanner(),this.touch.moveClientY=a)}},touchEnd:function(){if(this.data.hasFoldBanner){if(this.data.isBannerUnfold&&!this.data.isBannerAnimating){var t=this.initAnimate(400,"linear",0).step().top(0).step().export(),e=this.initAnimate(300,"linear",0).height("calc(100vw - 1rem)").step().export();this.setData({bannerAnimation:e,bigModeAnimation:t}),this.modalY<0&&this.doFoldBanner(),this.modalY=0}this.touch.moveClientX=0,this.touch.moveClientY=0}},setPullAnimation:function(t){var e=this.initAnimate(600,"linear",0).translateY(3).step().translateY(-3).step().translateY(3).step().translateY(-3);return e=t===S.BANNER_STATUS.PULLUP?e.step().translateY(3).step().export():e.opacity(0).step().export()},setBannerFoldAnimation:function(){var t=this,e=this.initAnimate(280,"ease-out",200).opacity(10).step().export(),n=this.initAnimate(400,"ease-out",200).opacity(10).step().export(),a=this.initAnimate(400,"ease-out",200).opacity(10).step().export(),r=this.initAnimate(0,"ease-out",400).opacity(10).step().export(),o=this.initAnimate(1e3,"ease-out",300).opacity(10).step().export(),i=this.initAnimate(400,"ease-out",200).height("1.31rem").opacity(10).step().export(),s=this.initAnimate(400,"ease-out",230).top("-100vw").opacity(0).step().export(),c=this.setPullAnimation(S.BANNER_STATUS.PULLDOWN);this.setData({bannerAnimation:i,bigModeAnimation:s,smallModeAnimation:a,topbarAnimation:e,searchModeAnimation:n,pullUpAnimation:o},(function(){t.setData({bgAnimation:r,pullDownAnimation:c})})),this.bannerAnimateEnd()},setBannerUnfoldAnimation:function(){var t=this,e=this.initAnimate(400,"ease-out",250).height("calc(100vw - 1rem)").opacity(10).step().export(),n=this.initAnimate(400,"ease-out",200).top(0).opacity(10).step().export(),a=this.initAnimate(400,"ease-out",250).opacity(0).step().export(),r=this.initAnimate(400,"ease-out",250).opacity(0).step().export(),o=this.initAnimate(700,"ease-out",250).opacity(0).step().export(),i=this.initAnimate(0,"ease-out",250).opacity(0).step().export(),s=this.setPullAnimation(S.BANNER_STATUS.PULLUP);this.setData({topbarAnimation:o,bannerAnimation:e,bigModeAnimation:n,smallModeAnimation:r,searchModeAnimation:a,bgAnimation:i},(function(){t.setData({pullUpAnimation:s})})),this.bannerAnimateEnd()},bannerAnimateEnd:function(){var t=this;setTimeout((function(){t.setData({isBannerAnimating:!1})}),500)},initAnimate:function(t,e,n){return r.createAnimation({duration:t,timingFunction:e,delay:n})}})})),window.define("30",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPlatform=function(){var t=o(),e=t&&t.globalData.platform;if(""===e)return(0,k.getSystemInfo)().then((function(e){return t.globalData.platform=e.platform,x(e.platform)}));return x(e)},n.getScrollSize=function(){return new Promise((function(t,e){(0,k.getSystemInfo)().then((function(e){var n,a,r=(n=e.windowWidth,a=100,new Map([[414,96.8599],[401,94.9275],[393,93.2367],[386,90.5797],[375,86.9565],[360,77.2946]]).forEach((function(t,e){n<e&&(a=t)})),a);t(e.windowWidth-.17*r*2)}))}))},n.openAppByHost=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,k.getSystemInfo)().then((function(t){("baiduboxapp"===t.host?T.openAppByopenBdbox:T.openApp).call(null,e[0])}))};var S=t("27"),T=t("33"),k=t("25");function x(t){return new Promise((function(e){if("ios"===t){var n=getCurrentPages(),a=n[n.length-1].route;r.hideTabBar({complete:function(){"/".concat(a)===S.DISCOVERY_PAGE&&r.switchTab({url:S.INDEX_PAGE}),e(t)},fail:function(t){(0,T.report)("hidetabbar_fail",{error:JSON.stringify(t),page:a})}})}e(t)}))}})),window.define("28",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.log=D,n.logId=void 0;var S=t("25"),T=t("31"),k={index:10310,discovery:10309,search:10164,active_hb:10461,newUtc:10448,attention_hl:{recommendShow:10508,centerShow:10509,otherShow:10510,recommendClick:10511,centerClick:10512,otherClick:10513},draw:10547};n.logId=k;var x=null;function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10101;t?(0,S.getDevicesInfo)().then((function(n){var a=n.ua,r=n.ut,i=n.osbranch,s=n.cuid,c=Date.now();e===k.newUtc&&Object.assign(t,{from:"swan",source:o().globalData.scene||t.source||""});var u={appid:1,dataid:2,cateid:99,actionid:2,actiontype:"0"},l=Object.assign({type:0,timestamp:c,id:e,content:t},u);(0,T.getRequest)("https://mbd.baidu.com/tcbox",{params:{service:"bdbox",action:"pblog",uid:s,ua:a,ut:r,osbranch:i,data:JSON.stringify(Object.assign(u,{actiondata:l}))},isRequirePublicParams:!1})})):this.init()}["type","page","source","value","ext"].forEach((function(t){D.prototype[t]=function(e){return x[t]=e,this}})),D.prototype.send=function(t){D(x,t),this.init()},D.prototype.init=function(){x={from:"swan"}}})),window.define("31",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.getRequest=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P().then((function(n){var a=n.defaultParams,r=n.defaultHeader,o=e.params,i=void 0===o?{}:o,s=e.isRequirePublicParams,c=void 0===s||s,u=e.header,l=void 0===u?{}:u;return c&&(i=Object.assign(i,a)),l=Object.assign({},r,l),O(t,{params:i,header:l,successCallback:C})}))},n.postRequest=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P().then((function(a){var r=a.defaultParams,o=a.defaultHeader,i=n.params,s=void 0===i?{}:i,c=n.isRequirePublicParams,u=void 0===c||c,l=n.header;u&&(s=Object.assign(s,r));var p=(0,k.queryStringify)(s);return l=Object.assign({},o,l),O(t+"?"+p,{method:"POST",params:e,header:l,successCallback:C})}))};var T=S(t("17")),k=t("33"),x=t("25"),D={login:{},notLogin:{}};function I(t){var e=t.uid,n=t.osbranch,a=t.ua,r=t.ut,o=t.sid,i=t.channelId;return{osname:"baiduboxapp",uid:e,osbranch:n,ua:a,ut:r,from:i,cfrom:i,pkgname:"",network:"1_0",service:"bdbox",sid:o,zid:t.zid,swanNativeVersion:t.swanNativeVersion,SDKVersion:t.SDKVersion}}function C(t,e){return function(n){200===n.statusCode&&n.data&&((void 0===n.data.errno||"0"===n.data.errno&&"{}"!==JSON.stringify(n.data.data))&&t(n.data),e({errMsg:n.data.errmsg,errno:n.data.errno})),e({errMsg:"请求失败"})}}function P(){var t=(0,x.getLoginStatus)(),e=t?D.login:D.notLogin;return Object.keys(e).length?Promise.resolve(e):Promise.all([(0,x.getDevicesInfo)(),(0,x.getBdussCommon)()]).then((function(e){var n=(0,T.default)(e,2),a=n[0],o=n[1],i=a.uuid,s=void 0===i?"":i,c=a.cuid,u=void 0===c?"":c,l=a.uid,p=a.osbranch,d=a.ua,f=a.ut,h=a.sid,g=a.channelId,v=a.zid,m=a.swanNativeVersion,y=a.SDKVersion,_=a.privacyMode,b={},w=["bdenvmode=".concat(void 0===_?"0":_)];r.canIUse("getBDUSS")&&w.push("BDUSS=".concat(o.bduss)),b={"content-type":"application/json",cookie:w.join(";")},s&&(b["x-u-id"]=s),u&&(b["x-c2-id"]=u);var A={defaultParams:I({uid:l,osbranch:p,ua:d,ut:f,sid:h,channelId:g,zid:v,swanNativeVersion:m,SDKVersion:y}),defaultHeader:b};return D[t?"login":"notLogin"]=A,A}))}function O(t,e){var n=e.method,a=void 0===n?"GET":n,o=e.params,i=e.header,s=e.successCallback;return new Promise((function(e,n){r.request({url:t,method:a,dataType:"json",data:o,header:i,success:s(e,n),fail:n})}))}})),window.define("24",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.addFavor=function(t){try{return(0,C.getDevicesInfo)().then((function(e){return N(e,t).then((function(){return q(t)}))})).catch((function(e){return q(t)}))}catch(e){return q(t)}},n.addTop=function(t){var e=t.appid,n=t.invokeFrom,a=void 0===n?"api":n;return new Promise((function(t){if(!r.canIUse("addTop"))return t(!1),void console.warn("swan.addTop not exist!");r.addTop({appid:e,invokeFrom:a,success:function(e){t(!0)},fail:function(e){t(!1),console.warn("swan.addTop fail",e)}})}))},n.bulkDeleteHistory=function(t){return new Promise((function(e,n){var a={success:e,fail:n};Object.assign(a,{appList:t}),r.bulkDeleteHistory(a)}))},n.changeCategoryScrollLeft=function(t,e,n,a){(t+1)*a>e+n?e=(t+3.5)*a-n:t*a<e?e=(t-2.5)*a:(t+1)*a>e+n-a?e=(t+3)*a-n:t*a<e+a&&(e=(t-1.5)*a);return e},n.checkNetwork=function(){var t=this;r.getNetworkType({success:function(e){"none"===e.networkType.toLowerCase()?(t.setData({networkError:!0}),r.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})):t.setData({networkError:!1})}})},n.deleteFavor=function(t){try{return(0,C.getDevicesInfo)().then((function(e){return function(t,e){var n=t.version,a=t.isAndroid,r=t.uid,o=t.ua,i=t.ut;if(!a||(0,I.versionCompare)(n,"11.9")<0)return Promise.reject({errMsg:"device not match"});var s="https://mbd.baidu.com/ma/favorite/delete?service=bdbox&uid=".concat(r,"&from=1020779b&ua=").concat(o,"&ut=").concat(i,"&osname=baiduboxapp&osbranch=a0&pkgname=com.baidu.searchbox&network=1_0&cfrom=757b&ctv=2&cen=uid_ua_ut"),c={data:JSON.stringify({app_key:e})};return(0,P.postRequest)(s,c,{header:{"content-type":"application/x-www-form-urlencoded"}})}(e,t).then((function(){return z(t)}))})).catch((function(e){return z(t)}))}catch(e){return z(t)}},n.deleteHistory=function(t){return new Promise((function(e,n){r.deleteHistory||n({errMsg:"deleteHistory not exist!"});var a={success:e,fail:n};"object"===(0,T.default)(t)?Object.assign(a,t):a.appid=t,r.deleteHistory(a)}))},n.deleteTop=function(t){var e=t.appid,n=t.invokeFrom,a=void 0===n?"api":n;return new Promise((function(t){if(!r.canIUse("deleteTop"))return t(!1),void console.warn("swan.deleteTop not exist!");r.deleteTop({appid:e,invokeFrom:a,success:function(e){t(!0)},fail:function(e){t(!1),console.warn("swan.deleteTop fail",e)}})}))},n.getCategory=function(t){var e={cate_id:t||"",page_source:"baidu_macenter_cate_all",page_id:208};return(0,P.getRequest)(D.hostUrl,{params:e})},n.getCategoryData=function(){return G().then((function(t){return{category:t.data,requestId:t.request_id,sugs:t.data.sugs||{}}}))},n.getCommonCategory=G,n.getDiscoveryData=function(){return(0,P.getRequest)(D.hostUrl,{params:{page_id:217,page_source:"baidu_macenter_discover_v2"}})},n.getFavor=U,n.getFavorData=V,n.getHistory=F,n.getHistoryAndFavor=M,n.getHistoryAndFavorMergeLocalList=function(){return Promise.all([M(),j()]).then((function(t){var e=(0,x.default)(t,2),n=e[0],a=e[1],r=n.history,o=n.favor,i=(a.data.favor||[]).map((function(t){return E(E({},t),{},{checked:!1,disabled:!1})}));return{history:r,favor:(0,I.mergeList)(o,i)}}))},n.getHistoryAndTopStatus=H,n.getHistoryIdentifyByFavor=function(){return Promise.all([F(),U()]).then((function(t){var e=(0,x.default)(t,2),n=e[0];return e[1].forEach((function(t){for(var e=0,a=n.length;e<a;e++){var r=n[e];if(t.appid===r.appid){r.isFavor=!0;break}}})),n}))},n.getIndexData=function(){return Promise.all([F(),U(),G()]).then((function(t){var e=(0,x.default)(t,3),n=e[0],a=e[1],r=e[2];return a.forEach((function(t){for(var e=0,a=n.length;e<a;e++){var r=n[e];if(t.appid===r.appid){r.isFavor=!0;break}}})),{history:n,favor:a,category:r.data,requestId:r.request_id,sugs:r.data.sugs||{}}}))},n.getLocalFavorList=j,n.getMaterialData=function(t){var e={page_source:"baidu_macenter_cate_recommend",refresh_index:t||1,page_id:230};return(0,P.getRequest)(D.hostUrl,{params:e})},n.getSearchData=function(){return(0,P.getRequest)(D.hostUrl,{params:{page_id:219,page_source:"baidu_macenter_search"}})},n.getSearchQuery=function(){return(0,P.postRequest)(D.commonUrl,"page_source=baidu_macenter_search_noresult",{header:{"content-type":"application/x-www-form-urlencoded"}})},n.getSearchSuggestion=function(t){return(0,P.getRequest)(D.sugUrl+"&wd="+t,{isRequirePublicParams:!1})},n.getTopList=L,n.getTopicData=function(t){var e={topic_id:t};return(0,P.getRequest)(D.topicUrl,{params:e})},n.getYouthCategory=function(){return(0,P.getRequest)(D.hostUrl,{params:{page_source:"baidu_macenter_cate_young",page_id:224}})},n.setLocalFavorList=function(t){return new Promise((function(e,n){r.setStorage({key:"favorList",data:{favor:t},success:e,fail:n})}))},n.setSearchPresetword=Y,n.setTopFavor=function(t){return(0,C.getDevicesInfo)().then((function(e){return N(e,t).then((function(){return K(t)}))})).catch((function(e){return K(t)}))},n.updateSearchPresetword=function(){var t=this;V().then((function(e){var n=e.data.sugs,a=void 0===n?{}:n;Y.call(t,a)}))};var T=S(t("20")),k=S(t("6")),x=S(t("17")),D=t("27"),I=t("33"),C=t("25"),P=t("31");function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,k.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B=o()||{globalData:{appKey:"sc9Tq1iKawTnj5GhG6i77vzeIt4Crt5u"}},R=new RegExp(B.globalData.appKey);function M(){return Promise.all([H(),U()]).then((function(t){var e=(0,x.default)(t,2),n=e[0],a=e[1];return a.forEach((function(t){for(var e=0,a=n.length;e<a;e++){var r=n[e];if(t.appid===r.appid){r.isFavor=!0;break}}})),{history:n,favor:a}}))}function j(){return new Promise((function(t,e){r.getStorage({key:"favorList",success:t,fail:e})}))}function F(){return new Promise((function(t,e){r.getHistory||(console.warn("swan.getHistory not exist!"),t([])),r.getHistory({success:function(e){var n=e.history||[];n=n.filter((function(t){return t.icon=t.iconUrl,t.appkey=t.appid,t.stateType="history",t.isTop=!1,!R.test(t.appid)})),t(n)},fail:function(e){console.warn("swan.getHistory fail!"),t([])}})}))}function L(){return new Promise((function(t){if(!r.canIUse("getTopList"))return t([]),void console.warn("swan.getTopList not exist!");r.getTopList({success:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tops,n=void 0===e?[]:e;n=n.filter((function(t){var e=t.iconUrl,n=t.appid;return Object.assign(t,{icon:e,appkey:n,stateType:"history",isTop:!0}),!R.test(n)})),t(n)},fail:function(e){t([]),console.warn("swan.getTopList fail",e)}})}))}function H(){return Promise.all([F(),L()]).then((function(t){var e=(0,x.default)(t,2),n=e[0],a=e[1],r=new Map,o=new Set(n.map((function(t){return t.appid})));return a.forEach((function(t,e){var a=t.appid;r.set(a,e),o.has(a)||n.push(Object.assign({},t,{isAutoTop:!0}))})),n.forEach((function(t){var e=t.appid,n=!1;if(r.has(e)){n=!0;var a=r.get(e);Object.assign(t,{topRank:a})}Object.assign(t,{isTop:n})})),n}))}function U(){return new Promise((function(t,e){r.getFavor||(console.warn("swan.getFavor not exist!"),t([])),r.getFavor({success:function(e){var n=e.favors||[];n=n.filter((function(t){return t.icon=t.iconUrl,t.appkey=t.appid||t.appKey,t.stateType="favor",!(R.test(t.appid)||""===t.iconUrl||""===t.title)})),t(n)},fail:function(e){console.warn("swan.getFavor fail!"),t([])}})}))}function N(t,e){var n=t.version,a=t.isAndroid,r=t.uid,o=t.ua,i=t.ut;if(!a||(0,I.versionCompare)(n,"11.9")<0)return Promise.reject({errMsg:"device not match"});var s="https://mbd.baidu.com/ma/favorite/update?service=bdbox&uid=".concat(r,"&from=1020779b&ua=").concat(o,"&ut=").concat(i,"&osname=baiduboxapp&osbranch=a0&pkgname=com.baidu.searchbox&network=1_0&cfrom=757b&ctv=2&cen=uid_ua_ut"),c={data:JSON.stringify({app_key:e,index:1})};return(0,P.postRequest)(s,c,{header:{"content-type":"application/x-www-form-urlencoded"}})}function q(t){return new Promise((function(e,n){r.addFavor||n({errMsg:"addFavor not exist!"}),r.addFavor({appid:t,success:e,fail:n})}))}function z(t){return new Promise((function(e,n){r.deleteFavor||n({errMsg:"deleteFavor not exist!"}),r.deleteFavor({appid:t,success:e,fail:n})}))}function K(t){return new Promise((function(e,n){r.setTopFavor||n({errMsg:"setTopFavor not exist!"}),r.setTopFavor({appid:t,success:e,fail:n})}))}function G(t){var e={cate_id:t||"",refresh_index:0,page_source:"baidu_macenter_cate",page_id:207};return(0,P.getRequest)(D.hostUrl,{params:e})}function Y(t){var e=this;t&&r.getStorage({key:"sugsData",success:function(n){var a=n.data;if(a&&a.id===t.id)e.setData({searchPresetword:a.current});else{var o=(t.elements||[])[0]||"搜索小程序";a=E(E({},t),{},{current:o}),r.setStorage({key:"sugsData",data:a}),e.setData({searchPresetword:o})}e.sugsData=a}})}function V(){return(0,P.getRequest)(D.hostUrl,{params:{page_id:220,page_source:"baidu_macenter_personal"}})}})),window.define("20",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";function S(t){return e.exports=S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,S(t)}e.exports=S,e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("49",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.taskSupplier=n.eventTypes=n.eventCenter=void 0,n.transToRgba=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,n=parseInt("0x".concat(t.substring(1,3)),16),a=parseInt("0x".concat(t.substring(3,5)),16),r=parseInt("0x".concat(t.substring(5)),16);return"rgba(".concat(n,", ").concat(a,", ").concat(r,", ").concat(e,")")},n.uiTypes=void 0;var T,k=S(t("7")),x=S(t("9")),D=S(t("15")),I=S(t("8")),C=S(t("4")),P=S(t("5")),O=S(t("6")),E=S(t("51")),B=S(t("52"));function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,I.default)(t);if(e){var r=(0,I.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,D.default)(this,n)}}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){(0,O.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F={TOAST:1,LAYER:2,MODAL:3};n.uiTypes=F;var L={};(0,O.default)(L,F.TOAST,"toast"),(0,O.default)(L,F.LAYER,"layer"),(0,O.default)(L,F.MODAL,"modal");n.eventTypes={GUIDE:1,UPDATE:2,DONE:3};var H=7,U=6,N=["baiduboxapp"],q=new(function(){function t(){(0,C.default)(this,t),this.clientMap=new Map}return(0,P.default)(t,[{key:"on",value:function(t,e){this.clientMap.has(t)||this.clientMap.set(t,[]),this.clientMap.get(t).push(e)}},{key:"emit",value:function(t,e){var n=this.clientMap.get(t);if(n&&n.length)for(var a=0,r=n.length;a<r;a++)n[a].call(null,e)}},{key:"off",value:function(t,e){if(this.clientMap.has(t)){var n=this.clientMap.get(t);if(e)for(var a=n.length;a>-1;a--)n[a]===e&&n.splice(a,1);else n=[]}}}]),t}());n.eventCenter=q;var z="https://efe-h2.cdn.bcebos.com/ceug/resource/res/2020-07/1594974129596/n5v18h4a8yzf.png?x-bce-process=image/quality,q_90";function K(t,e){var n=e.total,a=e.left,r=e.complete;if(!t)return"";return t.replace(/\!\(left\)/g,a).replace(/\!\(total\)/g,n).replace(/\!\(complete\)/g,r)}function G(t){return"[object Array]"===Object.prototype.toString.call(t)}var Y=!0,V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Y||console.log(t,JSON.stringify(e))}catch(t){console.log("console catch",JSON.stringify(t))}},W=function(){function t(){(0,C.default)(this,t),this.candoTask=!1}return(0,P.default)(t,[{key:"init",value:function(t){var e=t.id,n=t.aid,a=t.type,r=t.token,o=t.guide,i=t.completeUI,s=t.meter,c=t.rule,u=t.outside,l=t.sdkConfig,p=t.sdkParams;this.id=e,this.aid=n||e,this.type=a,this.token=r,this.outside=+u||0,this.sdkParams=p||{},this.sdkConfig=l||{},this.completeUI=i,this.guided=!1,this.doing=!1,this.uiGuide=o&&o.uiType?{uiType:o.uiType,ui:o.ui}:null,V("TaskSupplier 引导组件信息",this.uiGuide),this.uiMeter=s&&s.uiType?{uiType:s.uiType,ui:s.ui}:null,this.rule=c,this.candoTask=!0,q.emit("taskUiInit")}},{key:"guide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.guided&&this.doing||(this.guided=!0,this.showUi((0,E.default)({},this.uiGuide,t)))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.doing=!0,this.showUi((0,E.default)({},this.uiMeter,t))}},{key:"compolete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.showUi((0,E.default)({},t))}},{key:"showUi",value:function(t){q.emit("taskUi",t)}},{key:"clear",value:function(t){var e=t.isClearUi,n=void 0!==e&&e;this.candoTask=!1,n&&q.emit("clearUi")}},{key:"getCando",value:function(){return this.candoTask}},{key:"isActionMatch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return G(e)?e.some((function(e,n){return e.toString()===t.aid})):e.toString()===this.aid}},{key:"isIdMatch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return G(e)?e.some((function(e,n){return e.toString()===t.id})):e.toString()===this.id}}]),t}(),X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,C.default)(this,t),this.timer=null,this.total=e,this.left=e,this.callback=n}return(0,P.default)(t,[{key:"start",value:function(){var t=this;clearInterval(this.timer),this.callback.call(null,{total:this.total,left:this.left}),this.timer=setInterval((function(){t.left--,t.callback.call(null,{total:t.total,left:t.left}),t.left<=0&&t.clear()}),1e3)}},{key:"pause",value:function(){clearInterval(this.timer)}},{key:"clear",value:function(){clearInterval(this.timer),this.left=this.total}}]),t}(),J=function(t){(0,x.default)(n,t);var e=R(n);function n(){return(0,C.default)(this,n),e.apply(this,arguments)}return(0,P.default)(n,[{key:"init",value:function(t){var e=this;(0,k.default)((0,I.default)(n.prototype),"init",this).call(this,t);var a=this.rule.stay;this.timer=new X(a,(function(t){var n=t.total,a=t.left;a>0?e.uiMeter&&e.update({ui:{message:e.uiMeter?K(e.uiMeter.ui.message,{total:n,left:a,complete:n-a}):"",left:a,isStart:n-a==1,proportion:parseInt((n-a)/n*100,10)}}):e.compolete()})),this.delayTimer=null;var r=this.rule,o=r.delay,i=void 0===o?200:o,s=r.auto;void 0!==s&&s&&(i?this.delayTimer=setTimeout((function(){e.guide(),e.start()}),i):(this.guide(),this.start()))}},{key:"start",value:function(){this.timer.start()}},{key:"pause",value:function(){this.timer.pause()}},{key:"clear",value:function(t){var e=t.isDone,a=void 0===e||e,r=t.isClearUi,o=void 0!==r&&r;a&&(0,k.default)((0,I.default)(n.prototype),"clear",this).call(this,{isClearUi:o}),this.timer.clear(),clearTimeout(this.delayTimer)}}]),n}(W),Q=function(t){(0,x.default)(n,t);var e=R(n);function n(){return(0,C.default)(this,n),e.apply(this,arguments)}return(0,P.default)(n,[{key:"init",value:function(t){(0,k.default)((0,I.default)(n.prototype),"init",this).call(this,t);var e=this.rule.repeat;this.left=e}},{key:"action",value:function(t){this.left--;var e=this.rule.repeat;this.left>0?this.uiMeter&&this.update({ui:{message:this.uiMeter?K(this.uiMeter.ui.message,{total:e,left:this.left,complete:e-this.left}):"",left:this.left,isStart:e-this.left==1,proportion:parseInt((e-this.left)/e*100,10)}}):this.compolete(t)}},{key:"clear",value:function(t){var e=t.isDone,a=void 0===e||e,r=t.isClearUi,o=void 0!==r&&r;a&&(0,k.default)((0,I.default)(n.prototype),"clear",this).call(this,{isClearUi:o});var i=this.rule.repeat;this.left=i}}]),n}(W);function $(t,e){return t(e={exports:{}},e.exports),e.exports}var Z=$((function(t,e){var n;t.exports=(n=n||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},r=a.lib={},o=r.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},i=r.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,a=this.sigBytes,r=t.sigBytes;if(this.clamp(),a%4)for(var o=0;o<r;o++){var i=n[o>>>2]>>>24-o%4*8&255;e[a+o>>>2]|=i<<24-(a+o)%4*8}else for(o=0;o<r;o+=4)e[a+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,a=[],r=function(e){var n=987654321,a=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&a)<<16)+(e=18e3*(65535&e)+(e>>16)&a)&a;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=r(4294967296*(n||t.random()));n=987654071*s(),a.push(4294967296*s()|0)}return new i.init(a,e)}}),s=a.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,a=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;a.push((o>>>4).toString(16)),a.push((15&o).toString(16))}return a.join("")},parse:function(t){for(var e=t.length,n=[],a=0;a<e;a+=2)n[a>>>3]|=parseInt(t.substr(a,2),16)<<24-a%8*4;return new i.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,a=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;a.push(String.fromCharCode(o))}return a.join("")},parse:function(t){for(var e=t.length,n=[],a=0;a<e;a++)n[a>>>2]|=(255&t.charCodeAt(a))<<24-a%4*8;return new i.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},p=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,a=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,r);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(a,l);var p=a.splice(0,c);n.sigBytes-=u}return new i.init(p,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(r.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math),n)})),tt=$((function(t,e){var n,a,r;t.exports=(a=(n=r=Z).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,a=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(a.charAt(i>>>6*(3-s)&63));var c=a.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var i=n.charAt(64);if(i){var s=t.indexOf(i);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],o=0,i=0;i<e;i++)if(i%4){var s=n[t.charCodeAt(i-1)]<<i%4*2,c=n[t.charCodeAt(i)]>>>6-i%4*2;r[o>>>2]|=(s|c)<<24-o%4*8,o++}return a.create(r,o)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)})),et=($((function(t,e){var n;t.exports=(n=Z,function(t){var e=n,a=e.lib,r=a.WordArray,o=a.Hasher,i=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=i.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var a=e+n,r=t[a];t[a]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,i=t[e+0],c=t[e+1],f=t[e+2],h=t[e+3],g=t[e+4],v=t[e+5],m=t[e+6],y=t[e+7],_=t[e+8],b=t[e+9],w=t[e+10],A=t[e+11],S=t[e+12],T=t[e+13],k=t[e+14],x=t[e+15],D=o[0],I=o[1],C=o[2],P=o[3];D=u(D,I,C,P,i,7,s[0]),P=u(P,D,I,C,c,12,s[1]),C=u(C,P,D,I,f,17,s[2]),I=u(I,C,P,D,h,22,s[3]),D=u(D,I,C,P,g,7,s[4]),P=u(P,D,I,C,v,12,s[5]),C=u(C,P,D,I,m,17,s[6]),I=u(I,C,P,D,y,22,s[7]),D=u(D,I,C,P,_,7,s[8]),P=u(P,D,I,C,b,12,s[9]),C=u(C,P,D,I,w,17,s[10]),I=u(I,C,P,D,A,22,s[11]),D=u(D,I,C,P,S,7,s[12]),P=u(P,D,I,C,T,12,s[13]),C=u(C,P,D,I,k,17,s[14]),D=l(D,I=u(I,C,P,D,x,22,s[15]),C,P,c,5,s[16]),P=l(P,D,I,C,m,9,s[17]),C=l(C,P,D,I,A,14,s[18]),I=l(I,C,P,D,i,20,s[19]),D=l(D,I,C,P,v,5,s[20]),P=l(P,D,I,C,w,9,s[21]),C=l(C,P,D,I,x,14,s[22]),I=l(I,C,P,D,g,20,s[23]),D=l(D,I,C,P,b,5,s[24]),P=l(P,D,I,C,k,9,s[25]),C=l(C,P,D,I,h,14,s[26]),I=l(I,C,P,D,_,20,s[27]),D=l(D,I,C,P,T,5,s[28]),P=l(P,D,I,C,f,9,s[29]),C=l(C,P,D,I,y,14,s[30]),D=p(D,I=l(I,C,P,D,S,20,s[31]),C,P,v,4,s[32]),P=p(P,D,I,C,_,11,s[33]),C=p(C,P,D,I,A,16,s[34]),I=p(I,C,P,D,k,23,s[35]),D=p(D,I,C,P,c,4,s[36]),P=p(P,D,I,C,g,11,s[37]),C=p(C,P,D,I,y,16,s[38]),I=p(I,C,P,D,w,23,s[39]),D=p(D,I,C,P,T,4,s[40]),P=p(P,D,I,C,i,11,s[41]),C=p(C,P,D,I,h,16,s[42]),I=p(I,C,P,D,m,23,s[43]),D=p(D,I,C,P,b,4,s[44]),P=p(P,D,I,C,S,11,s[45]),C=p(C,P,D,I,x,16,s[46]),D=d(D,I=p(I,C,P,D,f,23,s[47]),C,P,i,6,s[48]),P=d(P,D,I,C,y,10,s[49]),C=d(C,P,D,I,k,15,s[50]),I=d(I,C,P,D,v,21,s[51]),D=d(D,I,C,P,S,6,s[52]),P=d(P,D,I,C,h,10,s[53]),C=d(C,P,D,I,w,15,s[54]),I=d(I,C,P,D,c,21,s[55]),D=d(D,I,C,P,_,6,s[56]),P=d(P,D,I,C,x,10,s[57]),C=d(C,P,D,I,m,15,s[58]),I=d(I,C,P,D,T,21,s[59]),D=d(D,I,C,P,g,6,s[60]),P=d(P,D,I,C,A,10,s[61]),C=d(C,P,D,I,f,15,s[62]),I=d(I,C,P,D,b,21,s[63]),o[0]=o[0]+D|0,o[1]=o[1]+I|0,o[2]=o[2]+C|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,n=e.words,a=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(a/4294967296),i=a;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,a,r,o,i){var s=t+(e&n|~e&a)+r+i;return(s<<o|s>>>32-o)+e}function l(t,e,n,a,r,o,i){var s=t+(e&a|n&~a)+r+i;return(s<<o|s>>>32-o)+e}function p(t,e,n,a,r,o,i){var s=t+(e^n^a)+r+i;return(s<<o|s>>>32-o)+e}function d(t,e,n,a,r,o,i){var s=t+(n^(e|~a))+r+i;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)})),$((function(t,e){var n,a,r,o,i,s,c,u;t.exports=(a=(n=u=Z).lib,r=a.WordArray,o=a.Hasher,i=n.algo,s=[],c=i.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,a=n[0],r=n[1],o=n[2],i=n[3],c=n[4],u=0;u<80;u++){if(u<16)s[u]=0|t[e+u];else{var l=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=l<<1|l>>>31}var p=(a<<5|a>>>27)+c+s[u];p+=u<20?1518500249+(r&o|~r&i):u<40?1859775393+(r^o^i):u<60?(r&o|r&i|o&i)-1894007588:(r^o^i)-899497514,c=i,i=o,o=r<<30|r>>>2,r=a,a=p}n[0]=n[0]+a|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;return e[a>>>5]|=128<<24-a%32,e[14+(a+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(a+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=o._createHelper(c),n.HmacSHA1=o._createHmacHelper(c),u.SHA1)})),$((function(t,e){var n,a,r;t.exports=(a=(n=Z).lib.Base,r=n.enc.Utf8,void(n.algo.HMAC=a.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,a=4*n;e.sigBytes>a&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),i=this._iKey=e.clone(),s=o.words,c=i.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=i.sigBytes=a,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))})),$((function(t,e){var n,a,r,o,i,s,c,u;t.exports=(r=(a=(n=u=Z).lib).Base,o=a.WordArray,s=(i=n.algo).MD5,c=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,a=n.hasher.create(),r=o.create(),i=r.words,s=n.keySize,c=n.iterations;i.length<s;){u&&a.update(u);var u=a.update(t).finalize(e);a.reset();for(var l=1;l<c;l++)u=a.finalize(u),a.reset();r.concat(u)}return r.sigBytes=4*s,r}}),n.EvpKDF=function(t,e,n){return c.create(n).compute(t,e)},u.EvpKDF)})),$((function(t,e){var n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b;t.exports=void((n=Z).lib.Cipher||(a=n,r=a.lib,o=r.Base,i=r.WordArray,s=r.BufferedBlockAlgorithm,c=a.enc,c.Utf8,u=c.Base64,l=a.algo.EvpKDF,p=r.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:y}return function(e){return{encrypt:function(n,a,r){return t(a).encrypt(e,n,a,r)},decrypt:function(n,a,r){return t(a).decrypt(e,n,a,r)}}}}()}),r.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=a.mode={},f=r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=d.CBC=function(){var t=f.extend();function e(t,e,n){var a=this._iv;if(a){var r=a;this._iv=void 0}else r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var a=this._cipher,r=a.blockSize;e.call(this,t,n,r),a.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),t.Decryptor=t.extend({processBlock:function(t,n){var a=this._cipher,r=a.blockSize,o=t.slice(n,n+r);a.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=o}}),t}(),g=(a.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,a=n-t.sigBytes%n,r=a<<24|a<<16|a<<8|a,o=[],s=0;s<a;s+=4)o.push(r);var c=i.create(o,a);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:h,padding:g}),reset:function(){p.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=n.createEncryptor;else a=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==a?this._mode.init(this,e&&e.words):(this._mode=a.call(n,this,e&&e.words),this._mode.__creator=a)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),v=r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),m=(a.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var a=i.create([1398893684,1701076831]).concat(n).concat(e);else a=e;return a.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var a=i.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:a})}},y=r.SerializableCipher=o.extend({cfg:o.extend({format:m}),encrypt:function(t,e,n,a){a=this.cfg.extend(a);var r=t.createEncryptor(n,a),o=r.finalize(e),i=r.cfg;return v.create({ciphertext:o,key:n,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:a.format})},decrypt:function(t,e,n,a){return a=this.cfg.extend(a),e=this._parse(e,a.format),t.createDecryptor(n,a).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=(a.kdf={}).OpenSSL={execute:function(t,e,n,a){a||(a=i.random(8));var r=l.create({keySize:e+n}).compute(t,a),o=i.create(r.words.slice(e),4*n);return r.sigBytes=4*e,v.create({key:r,iv:o,salt:a})}},b=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(t,e,n,a){var r=(a=this.cfg.extend(a)).kdf.execute(n,t.keySize,t.ivSize);a.iv=r.iv;var o=y.encrypt.call(this,t,e,r.key,a);return o.mixIn(r),o},decrypt:function(t,e,n,a){a=this.cfg.extend(a),e=this._parse(e,a.format);var r=a.kdf.execute(n,t.keySize,t.ivSize,e.salt);return a.iv=r.iv,y.decrypt.call(this,t,e,r.key,a)}})))})),$((function(t,e){var n;t.exports=(n=Z,function(){var t=n,e=t.lib.BlockCipher,a=t.algo,r=[],o=[],i=[],s=[],c=[],u=[],l=[],p=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,a=0;for(e=0;e<256;e++){var h=a^a<<1^a<<2^a<<3^a<<4;h=h>>>8^255&h^99,r[n]=h,o[h]=n;var g=t[n],v=t[g],m=t[v],y=257*t[h]^16843008*h;i[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*m^65537*v^257*g^16843008*n,l[h]=y<<24|y>>>8,p[h]=y<<16|y>>>16,d[h]=y<<8|y>>>24,f[h]=y,n?(n=g^t[t[t[m^g]]],a^=t[t[a]]):n=a=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],g=a.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,a=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],i=0;i<a;i++)if(i<n)o[i]=e[i];else{var s=o[i-1];i%n?n>6&&i%n==4&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=h[i/n|0]<<24),o[i]=o[i-n]^s}for(var c=this._invKeySchedule=[],u=0;u<a;u++)i=a-u,s=u%4?o[i]:o[i-4],c[u]=u<4||i<=4?s:l[r[s>>>24]]^p[r[s>>>16&255]]^d[r[s>>>8&255]]^f[r[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,s,c,u,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,p,d,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,a,r,o,i,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],p=t[e+2]^n[2],d=t[e+3]^n[3],f=4,h=1;h<c;h++){var g=a[u>>>24]^r[l>>>16&255]^o[p>>>8&255]^i[255&d]^n[f++],v=a[l>>>24]^r[p>>>16&255]^o[d>>>8&255]^i[255&u]^n[f++],m=a[p>>>24]^r[d>>>16&255]^o[u>>>8&255]^i[255&l]^n[f++],y=a[d>>>24]^r[u>>>16&255]^o[l>>>8&255]^i[255&p]^n[f++];u=g,l=v,p=m,d=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[f++],v=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],m=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[f++],t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),n.AES)}))),nt=($((function(t,e){var n;t.exports=(n=Z,function(t){var e=n,a=e.lib,r=a.WordArray,o=a.Hasher,i=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),a=2;a<=n;a++)if(!(e%a))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var a=2,r=0;r<64;)e(a)&&(r<8&&(s[r]=n(t.pow(a,.5))),c[r]=n(t.pow(a,1/3)),r++),a++}();var u=[],l=i.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,a=n[0],r=n[1],o=n[2],i=n[3],s=n[4],l=n[5],p=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|t[e+f];else{var h=u[f-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=u[f-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[f]=g+u[f-7]+m+u[f-16]}var y=a&r^a&o^r&o,_=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&p)+c[f]+u[f];d=p,p=l,l=s,s=i+b|0,i=o,o=r,r=a,a=b+(_+y)|0}n[0]=n[0]+a|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,a=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(a/4294967296),n[15+(r+64>>>9<<4)]=a,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),$((function(t,e){t.exports=Z.HmacSHA256}))),at=$((function(t,e){t.exports=Z.enc.Hex})),rt=$((function(t,e){t.exports=Z.enc.Utf8})),ot=$((function(t,e){t.exports=Z.pad.Pkcs7})),it={aes:et,hmacSHA256:nt,base64:tt,hex:at,utf8:rt,padPkcs7:ot},st=it.aes,ct=it.hmacSHA256,ut=it.base64,lt=it.hex,pt=it.utf8,dt=it.padPkcs7;function ft(t,e){if(!e)return"";var n,a=[];return Object.keys((n=t,(0,B.default)(n,(function(t){return void 0!==t})))).sort().forEach((function(e){var n,r=t[e];n=r,"[object String]"!==Object.prototype.toString.call(n)&&(r=JSON.stringify(r)),a.push("".concat(e,"=").concat(r))})),ct(a.join("&"),e).toString()}var ht=(T={},(0,O.default)(T,H,J),(0,O.default)(T,U,Q),T),gt={taskExecutor:void 0,init:function(t){var e=t.query,n=void 0===e?{}:e,a=t.reqParams,o=void 0===a?{}:a,i=t.sdkConfig,s=void 0===i?{}:i;s.debug&&(Y=!1);var c=n.taskInfo,u=n.ttId;if(V("TaskSupplier 初始化开始 query:",n),c){if(!u)try{c=JSON.parse((l=c,p=[219,74,195,53,166,242,116,193,174,134,57,176,41,16,150,94,233,21,62,77,117,76,201,232,66,209,249,34,66,113,52,203].reduce((function(t,e){return t.toString(16)+e.toString(16)})),d=l,f={iv:lt.parse(d.slice(0,32)),padding:dt},st.decrypt(ut.stringify(lt.parse(d.slice(32))),lt.parse(p),f).toString(pt)))}catch(t){(c=JSON.parse(decodeURIComponent(c))).outside||V("TaskSupplier Error: taskInfo解析失败",c)}var l,p,d,f;+c.outside&&(c=function(t){var e=t.meter&&t.meter.ui||{},n=t.guide&&t.guide.ui||{},a=t.completeUI&&t.completeUI.ui||{},r=t.rule||{},o=t.guide&&t.guide.uiType||2,i=j(j({},t),{},{completeUI:{uiType:o,ui:j({txtColor:n.txtColor||e.txtColor||"#FFFFFF",bgUrl:n.bgUrl||e.bgUrl,closeBg:z,message:"任务完成\n领取奖励",backBtn:{}},a)},rule:j({repeat:1,style:10,auto:!1},r)});return t.guide&&(i.guide={uiType:o,ui:j({txtColor:e.txtColor||"#FFFFFF",bgUrl:e.bgUrl,closeBg:z},n)}),t.meter&&(i.meter={uiType:o,ui:j({txtColor:n.txtColor||"#FFFFFF",bgUrl:n.bgUrl},e)}),i}(c));var h=c.rule,g=void 0===h?{}:h;if(g.expire&&Date.now()>g.expire)V("TaskSupplier Error: 任务已过期!");else{this.taskExecutor&&(this.taskExecutor.clear({isDone:!0,isClearUi:!0}),this.taskExecutor=void 0);var v=c.type,m=function(t){(0,x.default)(n,t);var e=R(n);function n(){return(0,C.default)(this,n),e.apply(this,arguments)}return(0,P.default)(n,[{key:"guide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.pages=this.getCurrentPage(),(0,k.default)((0,I.default)(n.prototype),"guide",this).call(this,t)}},{key:"compolete",value:function(t){var e,a,o,i,s,c,u,l=this,p=this,d={method:"POST",data:j({token:this.token},this.sdkConfig.reqParams)},f={taskId:this.id};if(this.outside&&(d.data=j({taskId:this.id,timestamp:Date.parse(new Date)},this.sdkParams),this.sdkConfig.extDomain&&(f.extDomain=this.sdkConfig.extDomain),d.header={"content-type":"application/x-www-form-urlencoded"}),this.sdkConfig.domain&&(f.domain=this.sdkConfig.domain),d.url=(e=f,a=this.outside,o=e.taskId,s=void 0===(i=e.domain)?"https://eopa.baidu.com":i,u=void 0===(c=e.extDomain)?"https://activity.baidu.com":c,a?+a>1?"".concat(s,"/api/task/external/biztask/complete"):"".concat(u,"/incentive/biztask/external/complete"):"".concat(s,"/api/task/external/").concat(o,"/complete")),this.sdkConfig.useBdtls&&!this.outside){var h=r.getEnvInfoSync().scheme;N.includes(h)&&(d.ext={serviceId:"ug_task",enableBdtls:!0,customHost:"https://ug.baidu.com"})}var g=this.sdkConfig.callBackMap;g&&g[this.id]&&g[this.id].reqCallback&&(d=g[this.id].reqCallback(d)),d.data.sign=ft(d.data,this.sdkConfig.secretMap[this.id]),V("TaskSupplier 发送请求",d),r.request(j(j({},d),{},{success:function(e){var a=e.data,r=e.statusCode;if(p.clear({isDone:!0,isClearUi:!0}),V("TaskSupplier 请求成功",a),g&&g[l.id]&&g[l.id].resCallback&&(a=g[l.id].resCallback(a)),200===r&&0===a.errno){var o,i;l.outside&&((null===(o=a.data)||void 0===o?void 0:o.schema)&&(l.completeUI.ui.backBtn.schema=null===(i=a.data)||void 0===i?void 0:i.schema),a.data=j(j({},a.data),l.completeUI));var s=a.data,c=s.progress,u=s.ui,d=s.uiType;p.clear({isDone:!c||c.done});var f=t&&t.compolete&&t.compolete.allPages;(0,k.default)((0,I.default)(n.prototype),"compolete",l).call(l,{uiType:d,ui:j(j({},u),{},{message:K(u.message,{total:c&&c.total,complete:c&&c.complete,left:c&&c.total-c&&c.complete}),proportion:100,isCompolete:!0}),page:f?"":p.getCurrentPage(),noJump:!!p.sdkConfig.noJump})}},fail:function(t){p.clear({isDone:!0,isClearUi:!0}),V("TaskSupplier 请求异常",t)}}))}},{key:"getCurrentPage",value:function(){var t=getCurrentPages();return t[t.length-1].route}}]),n}(ht[+v]);this.taskExecutor=new m,this.taskExecutor.init(j(j({},c),{},{reqParams:o,sdkConfig:s})),this.taskExecutor.getCando()?V("TaskSupplier 初始化成功!"):V("TaskSupplier 初始化失败!")}}else V("TaskSupplier Error: taskInfo 不存在")},isTaskUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!!this.taskExecutor&&this.taskExecutor.getCando();return e&&t.id&&(e=this.taskExecutor.isIdMatch(t.id)),e},execute:function(t){var e=t.command,n=t.aid,a=t.params,r=t.id;if(this.taskExecutor)if("clear"===e&&r&&this.taskExecutor.isIdMatch(r))this.taskExecutor.clear({isDone:!0,isClearUi:!0});else if(this.taskExecutor.isActionMatch(n)&&this.taskExecutor.getCando()&&this.taskExecutor[e])return this.taskExecutor[e](a)}};n.taskSupplier=gt})),window.define("7",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("18");function T(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=T=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=T=function(t,e,n){var a=S(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},e.exports.__esModule=!0,e.exports.default=e.exports),T.apply(this,arguments)}e.exports=T,e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("18",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("8");e.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("8",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";function S(t){return e.exports=S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=!0,e.exports.default=e.exports,S(t)}e.exports=S,e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("9",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("16");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("16",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";function S(t,n){return e.exports=S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e.exports.__esModule=!0,e.exports.default=e.exports,S(t,n)}e.exports=S,e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("15",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("20").default,T=t("3");e.exports=function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("3",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("4",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("5",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";function S(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}e.exports=function(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},e.exports.__esModule=!0,e.exports.default=e.exports})),window.define("51",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("20")),T="__lodash_hash_undefined__",k=9007199254740991,x="[object Arguments]",D="[object AsyncFunction]",I="[object Function]",C="[object GeneratorFunction]",P="[object Null]",O="[object Object]",E="[object Proxy]",B="[object Undefined]",R=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[x]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object Boolean]"]=j["[object DataView]"]=j["[object Date]"]=j["[object Error]"]=j[I]=j["[object Map]"]=j["[object Number]"]=j[O]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object WeakMap]"]=!1;var F="object"==(void 0===global?"undefined":(0,S.default)(global))&&global&&global.Object===Object&&global,L="object"==(void 0===u?"undefined":(0,S.default)(u))&&u&&u.Object===Object&&u,H=F||L||Function("return this")(),U="object"==(void 0===n?"undefined":(0,S.default)(n))&&n&&!n.nodeType&&n,N=U&&"object"==(void 0===e?"undefined":(0,S.default)(e))&&e&&!e.nodeType&&e,q=N&&N.exports===U,z=q&&F.process,K=function(){try{var t=N&&N.require&&N.require("util").types;return t||z&&z.binding&&z.binding("util")}catch(t){}}(),G=K&&K.isTypedArray;var Y,V,W,X=Array.prototype,J=Function.prototype,Q=Object.prototype,$=H["__core-js_shared__"],Z=J.toString,tt=Q.hasOwnProperty,et=(Y=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",nt=Q.toString,at=Z.call(Object),rt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=q?H.Buffer:void 0,it=H.Symbol,st=H.Uint8Array,ct=ot?ot.allocUnsafe:void 0,ut=(V=Object.getPrototypeOf,W=Object,function(t){return V(W(t))}),lt=Object.create,pt=Q.propertyIsEnumerable,dt=X.splice,ft=it?it.toStringTag:void 0,ht=function(){try{var t=Ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),gt=ot?ot.isBuffer:void 0,vt=Math.max,mt=Date.now,yt=Ut(H,"Map"),_t=Ut(Object,"create"),bt=function(){function t(){}return function(e){if(!$t(e))return{};if(lt)return lt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function Tt(t){var e=this.__data__=new At(t);this.size=e.size}function kt(t,e){var n=Vt(t),a=!n&&Yt(t),r=!n&&!a&&Xt(t),o=!n&&!a&&!r&&te(t),i=n||a||r||o,s=i?function(t,e){for(var n=-1,a=Array(t);++n<t;)a[n]=e(n);return a}(t.length,String):[],c=s.length;for(var u in t)!e&&!tt.call(t,u)||i&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Nt(u,c))||s.push(u);return s}function xt(t,e,n){(void 0!==n&&!Gt(t[e],n)||void 0===n&&!(e in t))&&Ct(t,e,n)}function Dt(t,e,n){var a=t[e];tt.call(t,e)&&Gt(a,n)&&(void 0!==n||e in t)||Ct(t,e,n)}function It(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function Ct(t,e,n){"__proto__"==e&&ht?ht(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}wt.prototype.clear=function(){this.__data__=_t?_t(null):{},this.size=0},wt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wt.prototype.get=function(t){var e=this.__data__;if(_t){var n=e[t];return n===T?void 0:n}return tt.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return _t?void 0!==e[t]:tt.call(e,t)},wt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_t&&void 0===e?T:e,this},At.prototype.clear=function(){this.__data__=[],this.size=0},At.prototype.delete=function(t){var e=this.__data__,n=It(e,t);return!(n<0)&&(n==e.length-1?e.pop():dt.call(e,n,1),--this.size,!0)},At.prototype.get=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return It(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,a=It(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this},St.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(yt||At),string:new wt}},St.prototype.delete=function(t){var e=Ht(this,t).delete(t);return this.size-=e?1:0,e},St.prototype.get=function(t){return Ht(this,t).get(t)},St.prototype.has=function(t){return Ht(this,t).has(t)},St.prototype.set=function(t,e){var n=Ht(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this},Tt.prototype.clear=function(){this.__data__=new At,this.size=0},Tt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var a=n.__data__;if(!yt||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new St(a)}return n.set(t,e),this.size=n.size,this};var Pt,Ot=function(t,e,n){for(var a=-1,r=Object(t),o=n(t),i=o.length;i--;){var s=o[Pt?i:++a];if(!1===e(r[s],s,r))break}return t};function Et(t){return null==t?void 0===t?B:P:ft&&ft in Object(t)?function(t){var e=tt.call(t,ft),n=t[ft];try{t[ft]=void 0;var a=!0}catch(t){}var r=nt.call(t);a&&(e?t[ft]=n:delete t[ft]);return r}(t):function(t){return nt.call(t)}(t)}function Bt(t){return Zt(t)&&Et(t)==x}function Rt(t){return!(!$t(t)||function(t){return!!et&&et in t}(t))&&(Jt(t)?rt:R).test(function(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Mt(t){if(!$t(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=qt(t),n=[];for(var a in t)("constructor"!=a||!e&&tt.call(t,a))&&n.push(a);return n}function jt(t,e,n,a,r){t!==e&&Ot(e,(function(o,i){if(r||(r=new Tt),$t(o))!function(t,e,n,a,r,o,i){var s=zt(t,n),c=zt(e,n),u=i.get(c);if(u)return void xt(t,n,u);var l=o?o(s,c,n+"",t,e,i):void 0,p=void 0===l;if(p){var d=Vt(c),f=!d&&Xt(c),h=!d&&!f&&te(c);l=c,d||f||h?Vt(s)?l=s:Zt(_=s)&&Wt(_)?l=function(t,e){var n=-1,a=t.length;e||(e=Array(a));for(;++n<a;)e[n]=t[n];return e}(s):f?(p=!1,l=function(t,e){if(e)return t.slice();var n=t.length,a=ct?ct(n):new t.constructor(n);return t.copy(a),a}(c,!0)):h?(p=!1,g=c,v=!0?(m=g.buffer,y=new m.constructor(m.byteLength),new st(y).set(new st(m)),y):g.buffer,l=new g.constructor(v,g.byteOffset,g.length)):l=[]:function(t){if(!Zt(t)||Et(t)!=O)return!1;var e=ut(t);if(null===e)return!0;var n=tt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Z.call(n)==at}(c)||Yt(c)?(l=s,Yt(s)?l=function(t){return function(t,e,n,a){var r=!n;n||(n={});var o=-1,i=e.length;for(;++o<i;){var s=e[o],c=a?a(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),r?Ct(n,s,c):Dt(n,s,c)}return n}(t,ee(t))}(s):$t(s)&&!Jt(s)||(l=function(t){return"function"!=typeof t.constructor||qt(t)?{}:bt(ut(t))}(c))):p=!1}var g,v,m,y;var _;p&&(i.set(c,l),r(l,c,a,o,i),i.delete(c));xt(t,n,l)}(t,e,i,n,jt,a,r);else{var s=a?a(zt(t,i),o,i+"",t,e,r):void 0;void 0===s&&(s=o),xt(t,i,s)}}),ee)}function Ft(t,e){return Kt(function(t,e,n){return e=vt(void 0===e?t.length-1:e,0),function(){for(var a=arguments,r=-1,o=vt(a.length-e,0),i=Array(o);++r<o;)i[r]=a[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=a[r];return s[e]=n(i),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,re),t+"")}var Lt=ht?function(t,e){return ht(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:re;function Ht(t,e){var n,a,r=t.__data__;return n=e,("string"==(a=(0,S.default)(n))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}function Nt(t,e){var n=(0,S.default)(t);return!!(e=null==e?k:e)&&("number"==n||"symbol"!=n&&M.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Q)}function zt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Kt=function(t){var e=0,n=0;return function(){var a=mt(),r=16-(a-n);if(n=a,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Lt);function Gt(t,e){return t===e||t!=t&&e!=e}var Yt=Bt(function(){return arguments}())?Bt:function(t){return Zt(t)&&tt.call(t,"callee")&&!pt.call(t,"callee")},Vt=Array.isArray;function Wt(t){return null!=t&&Qt(t.length)&&!Jt(t)}var Xt=gt||function(){return!1};function Jt(t){if(!$t(t))return!1;var e=Et(t);return e==I||e==C||e==D||e==E}function Qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=k}function $t(t){var e=(0,S.default)(t);return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==(0,S.default)(t)}var te=G?function(t){return function(e){return t(e)}}(G):function(t){return Zt(t)&&Qt(t.length)&&!!j[Et(t)]};function ee(t){return Wt(t)?kt(t,!0):Mt(t)}var ne,ae=(ne=function(t,e,n){jt(t,e,n)},Ft((function(t,e){var n=-1,a=e.length,r=a>1?e[a-1]:void 0,o=a>2?e[2]:void 0;for(r=ne.length>3&&"function"==typeof r?(a--,r):void 0,o&&function(t,e,n){if(!$t(n))return!1;var a=(0,S.default)(e);return!!("number"==a?Wt(n)&&Nt(e,n.length):"string"==a&&e in n)&&Gt(n[e],t)}(e[0],e[1],o)&&(r=a<3?void 0:r,a=1),t=Object(t);++n<a;){var i=e[n];i&&ne(t,i,n,r)}return t})));function re(t){return t}e.exports=ae})),window.define("52",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("20")),T="__lodash_hash_undefined__",k=1,x=2,D=1/0,I=9007199254740991,C="[object Arguments]",P="[object Array]",O="[object Boolean]",E="[object Date]",B="[object Error]",R="[object Function]",M="[object GeneratorFunction]",j="[object Map]",F="[object Number]",L="[object Object]",H="[object Promise]",U="[object RegExp]",N="[object Set]",q="[object String]",z="[object Symbol]",K="[object WeakMap]",G="[object ArrayBuffer]",Y="[object DataView]",V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,X=/^\./,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/\\(\\)?/g,$=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt[C]=tt[P]=tt[G]=tt[O]=tt[Y]=tt[E]=tt[B]=tt[R]=tt[j]=tt[F]=tt[L]=tt[U]=tt[N]=tt[q]=tt[K]=!1;var et="object"==(void 0===global?"undefined":(0,S.default)(global))&&global&&global.Object===Object&&global,nt="object"==(void 0===u?"undefined":(0,S.default)(u))&&u&&u.Object===Object&&u,at=et||nt||Function("return this")(),rt="object"==(void 0===n?"undefined":(0,S.default)(n))&&n&&!n.nodeType&&n,ot=rt&&"object"==(void 0===e?"undefined":(0,S.default)(e))&&e&&!e.nodeType&&e,it=ot&&ot.exports===rt&&et.process,st=function(){try{return it&&it.binding("util")}catch(t){}}(),ct=st&&st.isTypedArray;function ut(t,e){for(var n=-1,a=e.length,r=t.length;++n<a;)t[r+n]=e[n];return t}function lt(t,e){for(var n=-1,a=t?t.length:0;++n<a;)if(e(t[n],n,t))return!0;return!1}function pt(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function dt(t){var e=-1,n=Array(t.size);return t.forEach((function(t,a){n[++e]=[a,t]})),n}function ft(t,e){return function(n){return t(e(n))}}function ht(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var gt,vt=Array.prototype,mt=Function.prototype,yt=Object.prototype,_t=at["__core-js_shared__"],bt=(gt=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+gt:"",wt=mt.toString,At=yt.hasOwnProperty,St=yt.toString,Tt=RegExp("^"+wt.call(At).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=at.Symbol,xt=at.Uint8Array,Dt=ft(Object.getPrototypeOf,Object),It=yt.propertyIsEnumerable,Ct=vt.splice,Pt=Object.getOwnPropertySymbols,Ot=ft(Object.keys,Object),Et=ue(at,"DataView"),Bt=ue(at,"Map"),Rt=ue(at,"Promise"),Mt=ue(at,"Set"),jt=ue(at,"WeakMap"),Ft=ue(Object,"create"),Lt=be(Et),Ht=be(Bt),Ut=be(Rt),Nt=be(Mt),qt=be(jt),zt=kt?kt.prototype:void 0,Kt=zt?zt.valueOf:void 0,Gt=zt?zt.toString:void 0;function Yt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function Vt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function Wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}function Xt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Wt;++e<n;)this.add(t[e])}function Jt(t){this.__data__=new Vt(t)}function Qt(t,e){var n=Te(t)||Se(t)?function(t,e){for(var n=-1,a=Array(t);++n<t;)a[n]=e(n);return a}(t.length,String):[],a=n.length,r=!!a;for(var o in t)!e&&!At.call(t,o)||r&&("length"==o||fe(o,a))||n.push(o);return n}function $t(t,e){for(var n=t.length;n--;)if(Ae(t[n][0],e))return n;return-1}function Zt(t,e){for(var n=0,a=(e=he(e,t)?[e]:oe(e)).length;null!=t&&n<a;)t=t[_e(e[n++])];return n&&n==a?t:void 0}function te(t,e){return null!=t&&e in Object(t)}function ee(t,e,n,a,r){return t===e||(null==t||null==e||!Ie(t)&&!Ce(e)?t!=t&&e!=e:function(t,e,n,a,r,o){var i=Te(t),s=Te(e),c=P,u=P;i||(c=(c=de(t))==C?L:c);s||(u=(u=de(e))==C?L:u);var l=c==L&&!pt(t),p=u==L&&!pt(e),d=c==u;if(d&&!l)return o||(o=new Jt),i||Ee(t)?ie(t,e,n,a,r,o):function(t,e,n,a,r,o,i){switch(n){case Y:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case G:return!(t.byteLength!=e.byteLength||!a(new xt(t),new xt(e)));case O:case E:case F:return Ae(+t,+e);case B:return t.name==e.name&&t.message==e.message;case U:case q:return t==e+"";case j:var s=dt;case N:var c=o&x;if(s||(s=ht),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;o|=k,i.set(t,e);var l=ie(s(t),s(e),a,r,o,i);return i.delete(t),l;case z:if(Kt)return Kt.call(t)==Kt.call(e)}return!1}(t,e,c,n,a,r,o);if(!(r&x)){var f=l&&At.call(t,"__wrapped__"),h=p&&At.call(e,"__wrapped__");if(f||h){var g=f?t.value():t,v=h?e.value():e;return o||(o=new Jt),n(g,v,a,r,o)}}if(!d)return!1;return o||(o=new Jt),function(t,e,n,a,r,o){var i=r&x,s=Be(t),c=s.length,u=Be(e),l=u.length;if(c!=l&&!i)return!1;var p=c;for(;p--;){var d=s[p];if(!(i?d in e:At.call(e,d)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);var g=i;for(;++p<c;){var v=t[d=s[p]],m=e[d];if(a)var y=i?a(m,v,d,e,t,o):a(v,m,d,t,e,o);if(!(void 0===y?v===m||n(v,m,a,r,o):y)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,a,r,o)}(t,e,ee,n,a,r))}function ne(t){return!(!Ie(t)||(e=t,bt&&bt in e))&&(xe(t)||pt(t)?Tt:$).test(be(t));var e}function ae(t){return"function"==typeof t?t:null==t?Me:"object"==(0,S.default)(t)?Te(t)?function(t,e){if(he(t)&&ve(e))return me(_e(t),e);return function(n){var a=function(t,e,n){var a=null==t?void 0:Zt(t,e);return void 0===a?n:a}(n,t);return void 0===a&&a===e?function(t,e){return null!=t&&function(t,e,n){e=he(e,t)?[e]:oe(e);var a,r=-1,o=e.length;for(;++r<o;){var i=_e(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}if(a)return a;o=t?t.length:0;return!!o&&De(o)&&fe(i,o)&&(Te(t)||Se(t))}(t,e,te)}(n,t):ee(e,a,void 0,k|x)}}(t[0],t[1]):function(t){var e=function(t){var e=Be(t),n=e.length;for(;n--;){var a=e[n],r=t[a];e[n]=[a,r,ve(r)]}return e}(t);if(1==e.length&&e[0][2])return me(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,a){var r=n.length,o=r,i=!a;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(i&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var c=(s=n[r])[0],u=t[c],l=s[1];if(i&&s[2]){if(void 0===u&&!(c in t))return!1}else{var p=new Jt;if(a)var d=a(u,l,c,t,e,p);if(!(void 0===d?ee(l,u,a,k|x,p):d))return!1}}return!0}(n,t,e)}}(t):he(e=t)?(n=_e(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Zt(e,t)}}(e);var e,n}function re(t){if(!Ie(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ge(t),n=[];for(var a in t)("constructor"!=a||!e&&At.call(t,a))&&n.push(a);return n}function oe(t){return Te(t)?t:ye(t)}function ie(t,e,n,a,r,o){var i=r&x,s=t.length,c=e.length;if(s!=c&&!(i&&c>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,p=!0,d=r&k?new Xt:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var f=t[l],h=e[l];if(a)var g=i?a(h,f,l,e,t,o):a(f,h,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!lt(e,(function(t,e){if(!d.has(e)&&(f===t||n(f,t,a,r,o)))return d.add(e)}))){p=!1;break}}else if(f!==h&&!n(f,h,a,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function se(t){return function(t,e,n){var a=e(t);return Te(t)?a:ut(a,n(t))}(t,Re,pe)}function ce(t,e){var n,a,r=t.__data__;return n=e,("string"==(a=(0,S.default)(n))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function ue(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ne(n)?n:void 0}Yt.prototype.clear=function(){this.__data__=Ft?Ft(null):{}},Yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Yt.prototype.get=function(t){var e=this.__data__;if(Ft){var n=e[t];return n===T?void 0:n}return At.call(e,t)?e[t]:void 0},Yt.prototype.has=function(t){var e=this.__data__;return Ft?void 0!==e[t]:At.call(e,t)},Yt.prototype.set=function(t,e){return this.__data__[t]=Ft&&void 0===e?T:e,this},Vt.prototype.clear=function(){this.__data__=[]},Vt.prototype.delete=function(t){var e=this.__data__,n=$t(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ct.call(e,n,1),!0)},Vt.prototype.get=function(t){var e=this.__data__,n=$t(e,t);return n<0?void 0:e[n][1]},Vt.prototype.has=function(t){return $t(this.__data__,t)>-1},Vt.prototype.set=function(t,e){var n=this.__data__,a=$t(n,t);return a<0?n.push([t,e]):n[a][1]=e,this},Wt.prototype.clear=function(){this.__data__={hash:new Yt,map:new(Bt||Vt),string:new Yt}},Wt.prototype.delete=function(t){return ce(this,t).delete(t)},Wt.prototype.get=function(t){return ce(this,t).get(t)},Wt.prototype.has=function(t){return ce(this,t).has(t)},Wt.prototype.set=function(t,e){return ce(this,t).set(t,e),this},Xt.prototype.add=Xt.prototype.push=function(t){return this.__data__.set(t,T),this},Xt.prototype.has=function(t){return this.__data__.has(t)},Jt.prototype.clear=function(){this.__data__=new Vt},Jt.prototype.delete=function(t){return this.__data__.delete(t)},Jt.prototype.get=function(t){return this.__data__.get(t)},Jt.prototype.has=function(t){return this.__data__.has(t)},Jt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vt){var a=n.__data__;if(!Bt||a.length<199)return a.push([t,e]),this;n=this.__data__=new Wt(a)}return n.set(t,e),this};var le=Pt?ft(Pt,Object):je,pe=Pt?function(t){for(var e=[];t;)ut(e,le(t)),t=Dt(t);return e}:je,de=function(t){return St.call(t)};function fe(t,e){return!!(e=null==e?I:e)&&("number"==typeof t||Z.test(t))&&t>-1&&t%1==0&&t<e}function he(t,e){if(Te(t))return!1;var n=(0,S.default)(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Pe(t))||(W.test(t)||!V.test(t)||null!=e&&t in Object(e))}function ge(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)}function ve(t){return t==t&&!Ie(t)}function me(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Et&&de(new Et(new ArrayBuffer(1)))!=Y||Bt&&de(new Bt)!=j||Rt&&de(Rt.resolve())!=H||Mt&&de(new Mt)!=N||jt&&de(new jt)!=K)&&(de=function(t){var e=St.call(t),n=e==L?t.constructor:void 0,a=n?be(n):void 0;if(a)switch(a){case Lt:return Y;case Ht:return j;case Ut:return H;case Nt:return N;case qt:return K}return e});var ye=we((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Pe(t))return Gt?Gt.call(t):"";var e=t+"";return"0"==e&&1/t==-D?"-0":e}(e);var n=[];return X.test(t)&&n.push(""),t.replace(J,(function(t,e,a,r){n.push(a?r.replace(Q,"$1"):e||t)})),n}));function _e(t){if("string"==typeof t||Pe(t))return t;var e=t+"";return"0"==e&&1/t==-D?"-0":e}function be(t){if(null!=t){try{return wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function we(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var a=arguments,r=e?e.apply(this,a):a[0],o=n.cache;if(o.has(r))return o.get(r);var i=t.apply(this,a);return n.cache=o.set(r,i),i};return n.cache=new(we.Cache||Wt),n}function Ae(t,e){return t===e||t!=t&&e!=e}function Se(t){return function(t){return Ce(t)&&ke(t)}(t)&&At.call(t,"callee")&&(!It.call(t,"callee")||St.call(t)==C)}we.Cache=Wt;var Te=Array.isArray;function ke(t){return null!=t&&De(t.length)&&!xe(t)}function xe(t){var e=Ie(t)?St.call(t):"";return e==R||e==M}function De(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}function Ie(t){var e=(0,S.default)(t);return!!t&&("object"==e||"function"==e)}function Ce(t){return!!t&&"object"==(0,S.default)(t)}function Pe(t){return"symbol"==(0,S.default)(t)||Ce(t)&&St.call(t)==z}var Oe,Ee=ct?(Oe=ct,function(t){return Oe(t)}):function(t){return Ce(t)&&De(t.length)&&!!tt[St.call(t)]};function Be(t){return ke(t)?Qt(t):function(t){if(!ge(t))return Ot(t);var e=[];for(var n in Object(t))At.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function Re(t){return ke(t)?Qt(t,!0):re(t)}function Me(t){return t}function je(){return[]}e.exports=function(t,e){return null==t?{}:function(t,e,n){for(var a=-1,r=e.length,o={};++a<r;){var i=e[a],s=t[i];n(s,i)&&(o[i]=s)}return o}(t,se(t),ae(e))}})),window.define("47",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("33"),T=t("25"),k=t("27");Component({properties:{title:{type:String,value:"智能小程序中心"},color:{type:String,value:"#000"},backgroundColor:{type:String,value:"#f8f8f9"},pulldownBg:{type:Boolean,value:!1},pulldownBackColor:{type:String,value:"transparent"},backColor:{type:String,value:"black"},showBorder:{type:Boolean,value:!1},showSearch:{type:Boolean,value:!1},showHome:{type:Boolean,value:!1},showBack:{type:Boolean,value:!1},showSearchBox:{type:Boolean,value:!1},barHeight:{type:String,value:"undefined"},topBarAnimation:{type:Object,default:function(){return{}}}},data:{showTopBar:!1,statusBarHeight:28,isAndroid:!0,topbarHeight:64,compatibleBack:!0},attached:function(){var t=this,e=getCurrentPages(),n="/"+e[e.length-1].route;(0,T.getDevicesInfo)().then((function(e){t.setData({statusBarHeight:e.statusBarHeight,topbarHeight:"undefined"!==t.data.barHeight?+t.data.barHeight:e.topbarHeight,showTopBar:!!r.getFavor||e.enableNavigationStyle,isAndroid:e.isAndroid,compatibleBack:(0,S.versionCompare)(e.swanNativeVersion,"2.28.0")>=0&&![k.COMMON_PAGE,k.DISCOVERY_PAGE,k.INDEX_PAGE,k.FAVOR_PAGE].includes(n)})}))},methods:{goBack:function(){this.triggerEvent("navigateback")},goHome:function(){this.triggerEvent("navigatehome")},goSearch:function(){r.navigateTo({url:k.SEARCH_PAGE})}}})})),window.define("48",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("26")),T=t("28"),k=t("25"),x=t("33");Component({behaviors:[S.default],properties:{hasPlaceholder:{type:Boolean,value:!1},showTitle:{type:Boolean,value:!0},morePath:{type:String,value:""},showRank:{type:Boolean,value:!1},dataFrom:{type:String,value:""},startOrder:{type:Number,value:0},max:{type:Number,value:100},showBorderTop:{type:Boolean,value:!1},showBorderBottom:{type:Boolean,value:!0},showFavorIcon:{type:Boolean,value:!1},rightBtnText:{type:String,value:""},rightTipText:{type:String,value:""},showPayProtected:{type:Boolean,value:!1},list:{type:Array,value:[],observer:function(t){var e=this;this.setData({appList:(t||[]).map((function(t){return{animationType:t.animation_type||"0",appkey:t.app_key||t.appkey,scheme:t.schema||t.scheme,linkquery:t.link_query,name:t.name||t.title||t.app_name,isFavor:t.isFavor,icon:t.icon,displayName:e.processAppname(t.name||t.title||t.app_name),animationDesc:t.animation_desc,animationIcon:t.animation_icon,description:t.description,payProtected:!!t.payProtected||!1,stateType:e.getStateType(t.stateType,t.type)}}))})}}},data:{imageBorder:"",borderBottom:"temp-border-bottom-300",moreAndroid:"",componentType:"ver",appList:[],isIOS:"",getDevices:!1},attached:function(){var t=this;(0,k.getDevicesInfo)().then((function(e){var n=e.devicePixelRatio||e.pixelRatio;(n*=100)>200&&n<205&&(n=201);var a="temp-border-bottom-"+(e.isAndroid?"android":n);t.setData({imageBorder:e.isAndroid?"image-border-android":"image-border-"+n,borderBottom:a,moreAndroid:e.isAndroid?"more-android":"",isIOS:"ios"===e.platform,getDevices:!0})}))},methods:{processAppname:function(t){return t&&t.length>10?t.slice(0,10)+"...":t},getStateType:function(t,e){var n=[!1,"开发版","审核版","体验版"];return this.data.getDevices?this.data.isIOS?n[e]:"history"===t?["开发版",!1,"审核版","体验版"][e]:"favor"===t?n[e]:"":""},more:function(){(0,T.log)({from:"swan",type:"billboard_more",page:"details"},T.logId.discovery),(0,x.report)("hot_search_all");var t=this.properties.morePath;t&&r.navigateTo({url:t})},startTimer:function(t){var e=this,n=setTimeout((function(){e.onlongpress(t)}),500);this.timer=n},stopTimer:function(t){this.timer&&clearTimeout(this.timer)},onlongpress:function(t){var e=t.currentTarget.dataset,n=e.index,a=e.appkey,r=e.isFavor;this.triggerEvent("longpressEvent",{index:n,appkey:a,isFavor:r})}}})})),window.define("26",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var S=t("30"),T=Behavior({properties:{title:{type:String,value:""},list:{type:Array,value:["","","",""]},templateId:{type:String,value:""},cateId:{type:String,value:""},from:{type:String,value:""}},methods:{appTap:function(t){var e=t.currentTarget.dataset,n=e.appkey,a=e.index,r=e.scheme,o=e.name,i=e.linkquery,s=e.source,c=a+1;this.triggerEvent("appTap",{appkey:n,pos:c,index:a,name:o,source:s}),(0,S.openAppByHost)({appKey:n,scheme:r,from:this.properties.from,linkQuery:i})}}});n.default=T})),window.define("35",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Component({properties:{headerColor:{type:String,value:"val"},banner:{type:Array,value:[]},bannerAnimation:{type:Object,default:function(){}},smallModeAnimation:{type:Object,default:function(){}},pullAnimation:{type:Object,default:function(){}},autoPlay:{type:Boolean,value:!0},hasFoldBanner:{type:Boolean,value:!1}},methods:{bannerUpdate:function(t){var e=t.detail.current;this.triggerEvent("bannerupdate",{current:e})},openImageApp:function(t){var e=t.currentTarget;this.triggerEvent("openimageapp",{currentTarget:e})}}})})),window.define("39",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("33");Component({data:{reloadLoading:!1,reloadText:"重新加载"},attached:function(){var t=this;r.onNetworkStatusChange((function(e){e.isConnected&&t.triggerEvent("networkready")}))},methods:{reload:function(){var t=this;this.setData({reloadLoading:!0,reloadText:"加载中"}),(0,S.isNetConnect)().then((function(){t.triggerEvent("networkready")})).catch().finally((function(){t.setData({reloadLoading:!1,reloadText:"重新加载"})}))}}})})),window.define("50",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("6")),T=t("49");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){(0,S.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Component({properties:{zIndex:{type:String,value:"999"},toastBottom:{type:String,value:"8vw"},layerPosition:{type:String,value:"right"},layerBottom:{type:String,value:"20vw"}},data:{page:"",toast:null,layer:null,modal:null,isLayerClosed:!1,noJump:!1},created:function(){var t=this,e=getCurrentPages();this.page=e[e.length-1].route,T.eventCenter.on("taskUi",this.eventHandler.bind(this)),T.eventCenter.on("taskUiInit",(function(){t.setData({isLayerClosed:!1})})),T.eventCenter.on("clearUi",(function(){t.setData({modal:null,layer:null,toast:null})}))},methods:{eventHandler:function(t){var e=this,n=t.page,a=t.uiType,r=t.ui,o=t.noJump;this.setData({noJump:!!o}),n&&n!==this.page||(a===T.uiTypes.TOAST&&this.setData({toast:{backcolor:(0,T.transToRgba)(r.backcolor),message:(r.message||"").split("\n"),duration:r.duration,txtColor:r.txtColor,backBtn:r.backBtn}},(function(){clearTimeout(e.toastTimer),e.toastTimer=setTimeout((function(){e.setData({toast:null})}),1e3*e.data.toast.duration)})),a===T.uiTypes.LAYER&&((r.isStart||r.isCompolete)&&(this.data.isLayerClosed=!1),this.data.isLayerClosed||this.setData({layer:{message:(r.message||"").split("\n"),txtColor:r.txtColor,bgUrl:r.bgUrl,closeBg:r.closeBg,progress:r.progress,backBtn:r.backBtn,proportion:r.proportion}})),a===T.uiTypes.MODAL&&this.setData({modal:{modalType:r.modalType,txtColor:r.txtColor,closeBg:r.closeBg,bgUrl:r.bgUrl,progress:r.progress,backBtn:r.backBtn,cancelBtn:r.cancelBtn}}))}},closeLayerHandle:function(){this.data.isLayerClosed=!0,this.setData({layer:null})},closeModalHandle:function(){this.setData({modal:null})},stayHandle:function(t){var e=t.currentTarget.dataset.type,n=this.data[e];this.triggerEvent("stayBtnClk",{data:n}),this.closeModalHandle()},jumpHandle:function(t){var e=t.currentTarget.dataset.type,n=this.data[e];if(n&&n.backBtn){if(this.triggerEvent("backBtnClk",{data:n}),!this.data.noJump)if(n.backBtn.inside&&n.backBtn.options){var a={};try{a=JSON.parse(n.backBtn.options)}catch(t){}!!a.appKey&&!!a.path?r.navigateToSmartProgram(x(x({},a),{},{fail:function(t){}})):r.openBdboxWebview(x(x({},a),{},{fail:function(t){}}))}else r.openAppByURL({url:n.backBtn.schema,fail:function(t){}});this.setData({modal:null,layer:null,toast:null})}}})})),window.define("59",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10"),T=S(t("6")),k=S(t("19")),x=S(t("17")),D=t("24"),I=t("28"),C=t("27"),P=t("30"),O=t("25"),E=t("33");Page({reIndex:0,firstInit:!0,data:{categoryList:[],active:0,appList:[],currentTab:0,scrollLeft:0,scrollY:!1,reachTop:!0,heightMap:{},loadedAllMap:{},topTitle:"小程序中心",headerColor:"#4e6ef2",headerFontColor:"#fff",categoryReachTop:!1,searchPresetword:"搜索小程序"},attr:{visibleAreaTop:null},onInit:function(t){var e=+t.curTab||this.data.currentTab;this.setData({currentTab:e,pathQuery:t}),this.firstInit&&this.getPageData()},onLoad:function(){var t=this;(0,P.getScrollSize)().then((function(e){t.scrollWidth=e,t.scrollItemWidth=.18181818*e})),(0,O.getDevicesInfo)().then((function(e){t.device=e})),r.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#000000"}),(0,E.getElementRect)(".category-tab").exec((function(e){e[0]&&e[0].height&&(t.categoryNavHeight=e[0].height)})),this.setData({mateFrom:C.from.material,cateFrom:C.from.category}),this.setTabShowFlag()},onShow:function(){D.checkNetwork.call(this),this.firstInit||this.getTabRequestData(),D.updateSearchPresetword.call(this)},onHide:function(){this.firstInit=!1},getPageData:function(){var t=this;Promise.all([this.getTabRequestData(),this.getCategoryRequestData()]).then((function(e){var n=(0,x.default)(e,2),a=(n[0],n[1]);(0,I.log)({type:"show",page:"changyong_page"},I.logId.newUtc);var r=a.sugs;t.removeSkeleton&&t.removeSkeleton(),D.setSearchPresetword.call(t,r)})).catch((function(e){t.removeSkeleton&&t.removeSkeleton()}))},refreshData:function(){this.getPageData(),D.checkNetwork.call(this)},onPageScroll:function(t){var e=t.scrollTop,n=(0,E.initAnimate)(700,"ease-out",0),a=(0,E.initAnimate)(700,"ease-out",0);e>0?(this.setData({reachTop:!1,showBack:!1,headerFontColor:"#000",topTitle:""}),n.backgroundColor("#fff").step(),a.opacity(0).step(),r.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})):(this.setData({reachTop:!0,showBack:!1,headerFontColor:"#fff",topTitle:"小程序中心"}),a.opacity(1).step(),n.backgroundColor("#4e6ef2").step(),r.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#000000"})),this.setData({searchModeAnimation:a.export(),topbarAnimation:n.export()}),this.setCategoryFixedStyle()},onReachBottom:function(){this.loadData()},setCategoryFixedStyle:function(){var t=this,e=(0,E.initAnimate)(200,"ease-out",0),n=(0,E.initAnimate)(200,"ease-out",0);(0,E.getElementRect)(".category-tab").exec((function(a){t.getTabShowFlag()>a[0].top?(e.opacity(1).height("auto").step(),n.opacity(0).step(),t.setData({categoryReachTop:!0})):(e.opacity(0).height(0).step(),n.opacity(1).step(),t.setData({categoryReachTop:!1})),t.setData({cateTabFixedAnimation:e.export(),cateTabAnimation:n.export()})}))},setTabShowFlag:function(){var t=this;(0,E.getElementRect)(".flag").exec((function(e){var n;t.attr.visibleAreaTop=null===(n=e[0])||void 0===n?void 0:n.top}))},getTabShowFlag:function(){return this.attr.visibleAreaTop||120},getTabRequestData:function(){var t=this;(0,D.getHistoryAndFavorMergeLocalList)().then((function(e){var n=e.history,a=e.favor,r=t.data.appList,o=a.map((function(t){return(0,E.getAppKey)(t)}));t.setData({tabData:{history:n,favor:a},favorAppkeyList:o}),r.length&&t.setData({"appList[0]":t.renderAppFavor(r[0])})}))},getCategoryRequestData:function(){var t=this;(0,D.getCategoryData)().then((function(e){var n=e.requestId,a=e.category,r=e.sugs;t.renderCategory({requestId:n,category:a,sugs:r})})).catch((function(e){t.removeSkeleton&&t.removeSkeleton()}))},renderCategory:function(t){var e=this,n=t.category,a=this.data.active,r=(0,E.pickDataList)(n.modules),o=r.appList,i=r.categoryList;i=[].concat((0,k.default)(i),[{isMore:!0,sub_title:"更多",type:n.link_type,schema:n.schema}]);var s=this.renderAppFavor(o[a]);this.setData({categoryList:i,appList:o,"appList[active]":s},(function(){e.activeChange(a),e.setCategoryHeight(a)}))},renderAppFavor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,k.default)(this.data.favorAppkeyList)||[];return t.map((function(t){return Object.assign({},t,{isFavor:e.includes(t.app_key)})}))},setCategoryHeight:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.device.isAndroid?500:200;setTimeout((function(){(0,E.getElementRect)(".category-list-".concat(t)).exec((function(a){if(a[0]&&a[0].height){var r,o=Math.ceil(a[0].height);e.setData((r={},(0,T.default)(r,"heightMap[".concat(t,"]"),"".concat(o,"px")),(0,T.default)(r,"loadedAllMap[".concat(t,"]"),n),r))}}))}),a)},loadData:function(){var t=(0,k.default)(this.data.categoryList)||[],e=this.data,n=e.active,a=e.loadedAllMap,r=t[n].moduleType;a[n]||(r===C.MODULE_TYPE.MATERIAL?this.loadMaterialMore():this.loadMore())},loadMore:function(){var t=this,e=this.data.active,n=(0,k.default)(this.data.categoryList);(0,D.getCommonCategory)(n[e].id).then((function(n){var a=n.data.modules[0].elements;t.data.appList[e]=a,t.setData({"appList[active]":a}),t.setCategoryHeight(e,!0)})).catch((function(n){t.setData((0,T.default)({},"loadedAllMap[".concat(e,"]"),!0)),n.errMsg.indexOf("no network")>0&&(0,E.toast)("请检查网络连接")}))},loadMaterialMore:function(){var t=this,e=this.data.active,n=(0,k.default)(this.data.appList)[e];++this.reIndex;var a=this.reIndex;(0,D.getMaterialData)(a).then((function(a){var r=a.data.modules[0].elements;n=t.renderAppFavor([].concat((0,k.default)(n),(0,k.default)(r))),t.setData((0,T.default)({},"appList[".concat(e,"]"),n)),t.setCategoryHeight(e,!0)})).catch((function(n){t.setData((0,T.default)({},"loadedAllMap[".concat(e,"]"),!0)),n.errMsg.indexOf("no network")>0&&(0,E.toast)("请检查网络连接")}))},onCategoryTabScroll:function(t){this.scrollLeft=t.detail.scrollLeft},categoryClick:function(t){var e=t.currentTarget.dataset.index,n=(0,k.default)(this.data.categoryList);this.setData({active:e}),this.activeChange(e),(0,E.report)("changyong_name",{name:n[e].title,pos:e+1}),(0,I.log)({type:"click_cate_name",page:"changyong_page",value:n[e].title,ext:{cate_id:n[e].id||0,cate_pos:e+1,request_id:this.requestId}},I.logId.newUtc)},categoryChange:function(t){var e=t.detail,n=e.current;"touch"===e.source&&((0,E.report)("new_fenlei_"+(n>this.data.active?"left":"right")),n!==this.data.active&&this.activeChange(n))},activeChange:function(t){var e=this.scrollWidth,n=this.scrollItemWidth,a=(0,k.default)(this.data.categoryList),r=this.scrollLeft||this.data.scrollLeft;if(r=(0,D.changeCategoryScrollLeft)(t,r,e,n),t+1===a.length)return(0,E.report)("changyong_name",{name:a[t].title,pos:t+1}),(0,I.log)({type:"click_cate_name",page:"changyong_page",value:a[t].title,ext:{cate_id:a[t].id||0,cate_pos:t+1,request_id:this.requestId}},I.logId.newUtc),void this.actionByType(a[t].type,a[t].schema);this.setData({active:t,scrollLeft:r}),0===t||this.data.loadedAllMap[t]||(this.loadData(),this.setCategoryHeight(t)),this.scrollLeft=null},openSearch:function(){(0,E.report)("search_click",{page:"changyong_page"}),r.navigateTo({url:C.SEARCH_PAGE})},clickEditIcon:function(t){var e=t.detail.currentTab;r.navigateTo({url:"".concat(C.EDIT_APP_PAGE,"?action=edit&curTab=").concat(e)})},longPressAppIcon:function(t){var e=t.detail,n=e.index,a=e.currentTab;r.navigateTo({url:"".concat(C.EDIT_APP_PAGE,"?action=edit&curTab=").concat(a,"&curIndex=").concat(n)})},clickToTotal:function(t){var e=t.detail.currentTab;r.navigateTo({url:"".concat(C.EDIT_APP_PAGE,"?action=manage&curTab=").concat(e)})},changeCateFavor:function(t){var e=this,n={},a=this.data.tabData.favor,r=t.detail,o=r.app,i=r.action,s=(0,k.default)(this.data.appList),c=this.data.active,u=s[c],l="addFavor"===i,p=l?D.addFavor:D.deleteFavor,d=l?"关注成功":"取消关注";p(o.appKey).then((function(t){"addFavor"===i?(o.redDot=!0,a.unshift(o),a=a.reduce((function(t,e){var a=(0,E.getAppKey)(e);return!n[a]&&(n[a]=t.push(e)),t}),[]),(0,I.log)({type:"add",page:"changyong_page",ext:{appid:(0,E.getAppKey)(o)}},I.logId.newUtc)):"deleteFavor"===i&&(a=a.filter((function(t){return(0,E.getAppKey)(t)!==o.appKey}))),(0,E.toast)(d),u.forEach((function(t,n){t.app_key===o.appKey&&e.setData("appList[".concat(c,"][").concat(n,"].isFavor"),l)})),e.setData({"tabData.favor":a})}))},actionByType:function(t,e){t!==C.LINK_TYPE.UNDO&&(t===C.LINK_TYPE.SMARTPROGRAM||t===C.LINK_TYPE.SMARTGAME?(0,P.openAppByHost)({scheme:e,from:C.from.category}):t===C.LINK_TYPE.PATH&&r.navigateTo({url:e}))},appMateTap:function(t){var e=t.index,n=t.appkey;(0,I.log)({type:"click_feedrec",page:"changyong_page",value:e+1,ext:{appid:n}},I.logId.newUtc)},appTempTap:function(t){var e=this.data.active,n=(0,k.default)(this.data.categoryList),a=n[e];n[e].isOperate?(0,E.report)("changyong_operate",{name:t.name,pos:t.pos}):((0,E.report)("changyong_fenlei_app",{name:a.title,pos:t.pos}),(0,I.log)({type:"click_cate_app",page:"changyong_page",value:t.pos,ext:{appkey:t.appkey,cate_id:a.id,cate_name:a.title,cate_pos:e,request_id:this.requestId}},I.logId.newUtc))}})})),window.define("36",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("25");Component({data:{path:"/anims/guide-top/data.json",loop:!0,autoplay:!0,action:"play",hidden:!1,popupStatus:!1},attached:function(){var t=this;(0,S.getSystemInfo)().then((function(e){"bdhonorbrowser"!==e.host&&t.awakenPopup()}))},methods:{awakenPopup:function(){var t,e=!(null===(t=o().globalData)||void 0===t||!t.isSupportTop),n=r.getStorageSync("guide-top-show-time");e&&!n&&this.changePopupStatus()},changePopupStatus:function(){var t=this.data.popupStatus;r[["hideTabBar","showTabBar"][+t]](),this.setData({popupStatus:!t})},closePopupHandle:function(){this.changePopupStatus(),r.setStorage({key:"guide-top-show-time",data:+new Date})}}})})),window.define("42",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Component({properties:{status:{type:Boolean,value:!1}},methods:{forbidden:function(){},cancel:function(){this.triggerEvent("cancel")}}})})),window.define("46",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10"),T=S(t("6")),k=S(t("19")),x=t("24"),D=t("33"),I=t("30"),C=t("27"),P=t("28"),O=(o()||{}).globalData;Component({selectedAppIndex:[],options:{addGlobalClass:!0},properties:{page:{type:String,value:"total_page"},isCanEdit:{type:Boolean,value:!0},isEdit:{type:Boolean,value:!1},showTips:{type:Boolean,value:!0},maxTabListNum:{type:Number,value:0},pathQuery:{type:Object,value:{}},currentTab:{type:Number,value:0},tabList:{type:Array,value:[{type:"history",tabName:"最近使用",emptyIcon:"../../images/empty.png",emptyText:"暂无小程序使用历史，搜索一下，体验更多小程序",logValue:"common_tab",tabClickType:"click_his",button:[{value:"top",label:"置顶",isShow:!0,disabled:!1},{value:"add",label:"添加",isShow:!0,disabled:!1},{value:"delete",label:"删除",isShow:!0,disabled:!1}]},{type:"favor",tabName:"我的小程序",emptyIcon:"../../images/empty.png",emptyText:"暂未关注小程序，可在小程序右上角菜单内添加关注",logValue:"subs_tab",tabClickType:"click_subs",button:[{value:"delete",label:"删除",isShow:!0,disabled:!1}]}]},tabData:{type:Object,observer:function(t){this.setShowTopTips(),this.setTopDownNum(),this.renderGrid(t),this.selectedChangeHandle()}}},data:{isEdit:!1,currentTab:0,tabArray:[],topArray:[],currentList:[],heightTabMap:{},selectedAppItem:[],topDownedNum:0,showTopTips:!1,selectedAppTotalNum:0},observers:{selectedAppItem:function(){this.selectedChangeHandle()},tabArray:function(){this.setTopArray()}},attached:function(){this.setTopBtnShowStatus()},methods:{renderGrid:function(t){var e,n=this,a=(0,k.default)(t.favor)||[],r=this.data.tabList,o=this.data.pathQuery,i=o.action,s=void 0===i?"":i,c=o.curIndex,u=void 0===c?"":c,l=r.map((function(e){var a=t[e.type];return a.forEach((function(t){t.isDevPkg=-1!==t.appid.indexOf("_dev")})),(0,D.handleTabTotalLength)(a,n.data.maxTabListNum,!0)})),p=null===(e=l[0])||void 0===e?void 0:e.filter((function(t){return t.isTop})).sort((function(t,e){return t.topRank-e.topRank}));this.setData({topArray:p,tabArray:l},(function(){n.setTabSwiperHeight()})),(0,x.setLocalFavorList)(a),s&&u&&"edit"===s&&this.selectSingleApp({index:u})},changeNav:function(t){var e=t.target.dataset.current;this.changeCurrentTab(e,"tab_click")},changeSwiper:function(t){var e=t.detail.current;this.changeCurrentTab(e,"tab_slide")},changeCurrentTab:function(t,e){var n=this,a=this.data.page;this.setData({currentTab:t,isEdit:!1},(function(){n.setTabSwiperHeight()})),this.data.isCanEdit&&this.resetEditSelectStatus(),(0,P.log)({type:e,page:a,value:this.data.tabList[t].logValue},P.logId.newUtc)},clickEditIcon:function(t){var e=this.data,n=e.isCanEdit,a=e.currentTab;n&&this.setData({isEdit:!this.data.isEdit}),this.data.isEdit&&(0,P.log)({type:"show",value:"edit"},P.logId.newUtc),n&&!this.data.isEdit&&this.resetEditSelectStatus(),this.triggerEvent("clickEditIconEvent",{currentTab:a})},resetEditSelectStatus:function(){var t,e=this.data.currentTab,n=(0,k.default)(this.data.tabArray[e]),a=[];this.selectedAppIndex=[],n.forEach((function(t){t.disabled=!1,t.checked=!1,a.push(t)})),this.setData((t={selectedAppItem:[],selectedAppTotalNum:0},(0,T.default)(t,"tabArray[".concat(e,"]"),a),(0,T.default)(t,"pathQuery",{}),t)),this.setTopArray()},setTabSwiperHeight:function(){var t=this,e=this.data.currentTab;(0,D.getElementRect)(".tab-swiper-".concat(e)).exec((function(n){if(n[0]&&n[0].height){var a=Math.ceil(n[0].height);t.setData((0,T.default)({},"heightTabMap[".concat(e,"]"),"".concat(a,"px")))}}))},changeCheckbox:function(t){var e=this,n=[],a=[],r=t.detail.value,o=this.data.currentTab,i=(0,k.default)(this.data.tabArray[o]);this.selectedAppIndex=r.filter((function(t){var e=i.find((function(e){return e.appid===t}));return!!e&&(n.push(e),!0)})),this.selectedAppIndex.length>=10&&(0,D.toast)("每次最多选择10个小程序"),i.forEach((function(t,n){var r=t.appid;t.disabled=e.selectedAppIndex.length>=10&&-1===e.selectedAppIndex.indexOf(r),t.checked=e.selectedAppIndex.indexOf(r)>-1,a.push(t)})),this.setData((0,T.default)({selectedAppItem:n,selectedAppTotalNum:this.selectedAppIndex.length},"tabArray[".concat(o,"]"),a)),this.setTopArray()},longPress:function(t){var e=this.data.currentTab,n=t.currentTarget.dataset,a=n.index,r=n.item;this.triggerEvent("longPressEvent",{index:a,item:r,currentTab:e}),this.data.isCanEdit&&!r.disabled&&this.selectSingleApp({index:a,item:r})},selectSingleApp:function(t){var e=t.index,n=t.item,a=this.data.currentTab,r=(0,k.default)(this.data.tabArray[a]),o=r.findIndex((function(t){return t.appid===e}));this.selectedAppIndex=[e],this.setData((0,T.default)({selectedAppItem:[n||r[o]],isEdit:!0,checkedAppNum:1,selectedAppTotalNum:1},"tabArray[".concat(a,"][").concat(o,"].checked"),!0)),this.setTopArray(),this.selectedChangeHandle(),this.data.isEdit&&(0,P.log)({type:"show",value:"edit"},P.logId.newUtc)},openApp:function(t){if(!this.data.isEdit){var e=this.data.currentTab,n=this.data.tabList[e],a=n.type,r=n.tabClickType,o=t.currentTarget.dataset,i=(o.index,o.item),s=o.idx;if(null!=i&&i.isTop)r=C.TOP_ACTIONS.CLICK_TOP,a=C.TOP_ACTIONS.TOP;var c={appKey:(0,D.getAppKey)(i),scheme:i.schema||i.scheme,linkQuery:i.linkQuery||i.linkquery,from:C.from[a]};(0,P.log)({type:r,page:this.data.page,value:s+1,ext:{appid:(0,D.getAppKey)(i)}},P.logId.newUtc),this.removeRedDot({index:s,item:i}),(0,I.openAppByHost)(c)}},removeRedDot:function(t){var e=t.index,n=t.item,a=this.data.tabData.favor;1===this.data.currentTab&&n.redDot&&(a[e].redDot=!1,(0,x.setLocalFavorList)(a))},clickToTotal:function(t){var e=this.data.currentTab,n=this.data.tabList;(0,P.log)({type:"click_total",page:this.data.page,value:n[e].logValue},P.logId.newUtc),this.triggerEvent("clickToTotalEvent",{currentTab:e})},clickEditButton:function(t){if(!this.data.selectedAppTotalNum.length){var e=t.target.dataset,n=e.type,a=e.action;e.disabled||(this.triggerEvent("clickEditButton",{type:n,action:a,topAction:this.getTopBtnAction(),selectedApp:this.data.selectedAppItem,selectedAppIndex:this.selectedAppIndex}),this.setData({isEdit:!1}),this.resetEditSelectStatus())}},selectedChangeHandle:function(){this.setTopBtnStatus(),this.setMyBtnStatus(),this.setDelStatus(),this.setDelMyStatus(),this.setTopBtnText()},getSelectedNum:function(){var t=this.data.selectedAppItem;return null==t?void 0:t.length},getTopedList:function(){var t,e=null===(t=this.data.tabData)||void 0===t?void 0:t.history;return null==e?void 0:e.filter((function(t){return t.isTop}))},getTopedNum:function(){return this.getTopedList().length},getTopDownedList:function(){var t,e=null===(t=this.data.tabData)||void 0===t?void 0:t.history;return null==e?void 0:e.filter((function(t){return!t.isTop}))},getTopDownedNum:function(){return this.getTopDownedList().length},getSelTopList:function(){var t=this.data.selectedAppItem;return null==t?void 0:t.filter((function(t){return t.isTop}))},getSelectedTopNum:function(){var t;return null===(t=this.getSelTopList())||void 0===t?void 0:t.length},getSelTopDownList:function(){var t=this.data.selectedAppItem;return null==t?void 0:t.filter((function(t){return!t.isTop}))},getSelectedTopDownNum:function(){var t;return null===(t=this.getSelTopDownList())||void 0===t?void 0:t.length},setMyBtnStatus:function(){var t=this.getSelectedNum();this.setData({"tabList[0].button[1].disabled":!t})},setDelStatus:function(){var t=this.getSelectedNum(),e=this.getSelectedTopNum();this.setData({"tabList[0].button[2].disabled":!t||e})},setDelMyStatus:function(){var t=this.getSelectedNum();this.setData({"tabList[1].button[0].disabled":!t})},setShowTopTips:function(){var t=this.data.showTopTips,e=!1;O.isSupportTop&&t!==(e=!!this.getTopedNum())&&e&&this.sendTopShowLog(),this.setData({showTopTips:e})},setTopBtnText:function(){var t=C.TOP_BTN_TEXTS.TOP,e=C.TOP_BTN_TEXTS.TOP_DOWN,n=this.getSelectedTopNum(),a=this.getSelectedNum(),r=this.getSelectedTopDownNum();if(!(!a||n&&r)){var o=n===a;this.setData({"tabList[0].button[0].label":o?e:t})}},setTopBtnStatus:function(){var t=this.getSelectedNum(),e=this.getSelectedTopNum(),n=this.getSelectedTopDownNum(),a=!t||n&&e;this.setData({"tabList[0].button[0].disabled":a})},getTopBtnAction:function(){return[C.TOP_ACTIONS.UP,C.TOP_ACTIONS.DOWN][+this.data.selectedAppItem.every((function(t){return t.isTop}))]},setTopBtnShowStatus:function(){var t=o().globalData.isSupportTop;this.setData({"tabList[0].button[0].isShow":!!t})},sendTopShowLog:function(){var t=this.data.page;(0,P.log)({type:"show",page:{changyong_page:"top_page",total_page:"top_totalpage"}[t]},P.logId.newUtc)},setTopArray:function(){var t,e=this.data.tabArray,n=[];O.isSupportTop&&(n=null===(t=e[0])||void 0===t?void 0:t.filter((function(t){return t.isTop})).sort((function(t,e){return t.topRank-e.topRank})));this.setData({topArray:n})},setTopDownNum:function(){var t=this.getTopDownedNum();this.setData({topDownedNum:t})}}})})),window.define("38",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10"),T=S(t("19")),k=S(t("26")),x=t("28");Component({reIndex:0,behaviors:[k.default],properties:{list:{type:Array,value:[],observer:function(t){this.setData({materialList:(t||[]).map((function(t,e){return(0,x.log)({type:"show_feedrec",page:"changyong_page",value:e+1},x.logId.newUtc),{title:t.name||t.title||t.app_name,appKey:t.app_key||t.appkey||t.appid,scheme:t.schema||t.scheme,linkQuery:t.link_query,description:t.description,icon:t.icon,image:t.element_image,type:t.element_type,isFavor:t.isFavor,nid:t.nid||"",ext:encodeURIComponent(JSON.stringify(t.ext))||""}}))})}}},data:{materialList:[]},attached:function(){},detached:function(){},methods:{changeFavor:function(t){var e=(0,T.default)(this.data.list),n=t.currentTarget.dataset,a=n.item,r=n.index;e[r].isFavor?this.triggerEvent("changeFavor",{action:"deleteFavor",app:a,index:r}):this.triggerEvent("changeFavor",{action:"addFavor",app:a,index:r}),this.setData({list:e})}}})})),window.define("57",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("28"),T=t("25"),k=t("33"),x=t("27"),D=t("24"),I=!0;Page({onInitLoaded:!1,data:{favors:null,guide:null,appFrom:"",lowFollowVersion:!1,showHomeIcon:!1,showBackIcon:!1,searchPresetword:"搜索小程序",networkError:!1},onInit:function(){this.onInitLoaded||(this.onInitLoaded=!0,this.showPageData())},onLoad:function(t){this.setData({appFrom:x.from.favor}),this.firstLoad=!0,this.onInitLoaded||(this.onInitLoaded=!0,this.showPageData())},onShow:function(){var t=this;D.checkNetwork.call(this),I&&(I=!1),this.firstLoad||this.showPageData(),this.firstLoad=!1,(0,T.getDevicesInfo)().then((function(e){t.setData({lowFollowVersion:(0,k.versionCompare)(e.version,"11.15")<0})})),D.updateSearchPresetword.call(this),r.setPageInfo({title:"我的小程序"})},onHide:function(){I=!0,this.hideGuide()},goDiscovery:function(t){var e=t.currentTarget.dataset.type;(0,k.report)("empty"===e?"wode_lijitianjia":"wode_tianjia"),r.navigateTo({url:x.ADD_FAVOR_PAGE})},showPageData:function(){var t=this;(0,D.getFavor)().then((function(e){var n=e.length;n>=12&&(0,k.report)("favor_num",{num:n}),t.setData({favors:e,networkError:!1}),t.removeSkeleton&&t.removeSkeleton()})).catch((function(){t.removeSkeleton&&t.removeSkeleton()}))},hideGuide:function(){this.setData({guide:null})},longPress:function(t){var e,n=this,a=t.appkey,r=t.index;e=0==+r?["删除"]:["移到最前","删除"],(0,k.showActionSheet)(e).then((function(e){var o=e.tapIndex,i=0===o?D.setTopFavor:D.deleteFavor;0==+r&&(i=D.deleteFavor),i(a).then((function(){n.showPageData()})).catch((function(){(0,k.toast)("error")})),(0,S.log)({type:0===o?"move":"delete",page:"mine_page",value:t.detail.index+1,ext:{appkey:t.e.detail.appkey}},S.logId.newUtc)})).catch((function(){}))},appTap:function(t){(0,k.report)("new_wode_myswan",{pos:t.pos}),(0,S.log)({type:"click",page:"mine_page",value:t.pos,ext:{appkey:t.appkey}},S.logId.newUtc)},back:function(){r.switchTab({url:x.INDEX_PAGE})},onTabItemTap:function(t){I||r.pageScrollTo({scrollTop:0,duration:300})},goHome:function(){r.switchTab({url:x.DISCOVERY_PAGE})}})})),window.define("43",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("27"),T=t("33");Component({properties:{title:{type:String,value:"搜索小程序"},report:{type:String,value:""},page:{type:String,value:""}},methods:{openSearch:function(){this.properties.report&&(0,T.report)(this.properties.report,{page:this.properties.page}),r.navigateTo({url:S.SEARCH_PAGE})}}})})),window.define("60",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("27"),T=t("33"),k=t("25"),x=t("30"),D=t("28"),I=t("24"),C=t("32"),P=new D.log;Page({data:{searchPresetword:"",searchValue:"",isFocus:!1,showActions:!1,appFrom:S.from.search,historyItems:[],operateItems:[],popularItems:[],suggestionItems:[],queryItems:[],searchResult:[],isLoading:!1,showStatus:!1,pageStatus:{title:"",icon:"",btnText:"",showBtn:!1},keybordHeight:0,hasMore:0,pageNum:1,noResult:!1,topbarHeight:64},onLoad:function(t){var e=this;(0,k.getDevicesInfo)().then((function(t){e.setData({topbarHeight:t.topbarHeight})})),this.getPageInfo(),this.searchWithQuery(t),this.historyLabelTap=(0,T.debounce)(this.historyLabelTap),this.removeSkeleton&&this.removeSkeleton()},onShow:function(){if(this.firstLoaded){var t=getCurrentPages(),e=t[t.length-1].options;this.updateOperateArea(),e&&e.query!==this.data.searchValue&&this.searchWithQuery(e)}this.firstLoaded=!0,""===this.data.searchValue&&this.setData({isFocus:"1"!==this.cfrom}),""===this.data.searchValue&&(0,T.report)("hispage_show"),r.setPageInfo({title:"搜索小程序"})},getPageInfo:function(){var t=this;this.requestBack=!1,r.getStorage({key:"searchData",success:function(e){e.data&&!t.requestBack&&t.setData({operateItems:e.data})}}),r.getStorage({key:"popularItems",success:function(e){e.data&&!t.requestBack&&t.setData({popularItems:e.data})}}),r.getStorage({key:"sugsData",success:function(e){e.data&&!t.requestBack&&(t.setData({searchPresetword:e.data.current}),t.sugsData=e.data)}}),r.getStorage({key:"queryData",success:function(e){var n=e.data||[];t.setData({historyItems:n.map((function(t){return{label:t,status:0}}))})}}),this.updateOperateArea()},searchWithQuery:function(t){this.cfrom=t.cfrom,t.query&&((0,D.log)({from:"swan",type:"search",page:"index",value:"feizhudong",ext:{query:t.query}},D.logId.search),this.startSearch(t.query,this.data.pageNum))},updateOperateArea:function(){var t=this;(0,I.getSearchData)().then((function(e){var n=e.data,a=n.modules,o=void 0===a?[]:a,i=n.sugs,s=void 0===i?{}:i;t.requestBack=!0;var c=(o.filter((function(t){return t.module_type===S.MODULE_TYPE.OPERATE}))[0]||{}).elements||[];r.setStorage({key:"searchData",data:c});var u=(o.filter((function(t){return t.module_type===S.MODULE_TYPE.POPULAR}))[0]||{}).elements||[];u.length>0&&P.type("show").page("index").source("usually").value("0").send(D.logId.search),r.setStorage({key:"popularItems",data:u}),I.setSearchPresetword.call(t,s),t.setData({operateItems:c,popularItems:u})}))},changeSearchPresetword:function(){var t=this;return new Promise((function(e){var n=t.sugsData||{id:-1,elements:[],current:"搜索小程序"};if(n.elements&&n.elements.length>1){for(var a=(0,T.getRandomInt)(n.elements.length);a===n.elements.findIndex((function(t){return n.current===t}));)a=(0,T.getRandomInt)(n.elements.length);return n.current=n.elements[a],t.setData({searchPresetword:n.current}),t.sugsData=n,void r.setStorage({key:"sugsData",data:n,success:function(){e()}})}e()}))},homeHdl:function(){this.changeSearchPresetword().then((function(){r.switchTab({url:S.DISCOVERY_PAGE})}))},backHdl:function(){this.changeSearchPresetword().then((function(){r.navigateBack()}))},historyLableLongpress:function(t){if(!this.data.showActions){var e=t.currentTarget.dataset.index;this.setData({historyItems:this.data.historyItems.map((function(t,n){return t.status=n===e?1:0,t}))})}},historyLabelTap:function(t){var e=t.currentTarget.dataset,n=e.status,a=e.index,o=e.value;if(0===n)P.type("search").page("list").source("his").value(a+1).ext({query:o}).send(D.logId.search),(0,T.report)("search_history_label",{pos:a+1}),this.startSearch(o);else if(1===n){var i=this.data.historyItems.filter((function(t,e){return e!==a}));r.setStorage({key:"queryData",data:i.map((function(t){return t.label}))}),this.setData({historyItems:i})}},operateItemTap:function(t){P.type("click").page("index").source(t.source).value(t.index+1).ext({info:t.appley}).send(D.logId.search),"usually"!==t.source?(0,T.report)("search_operate_item",{pos:t.index+1}):(0,T.report)("search_common_item",{pos:t.index+1})},showActions:function(){this.setData({showActions:!0,historyItems:this.data.historyItems.map((function(t){return t.status=1,t}))})},hideActions:function(){this.setData({showActions:!1,historyItems:this.data.historyItems.map((function(t){return t.status=0,t}))})},deleteAll:function(){var t=this;r.showModal({content:"确认删除全部历史搜索记录？",confirmText:"确认",success:function(e){e.confirm&&(r.removeStorage({key:"queryData"}),t.setData({historyItems:[]}))}})},search:function(){var t=this.data.searchValue.trim();(""!==t||""!==this.data.searchPresetword&&"搜索小程序"!==this.data.searchPresetword)&&(""===t&&(P.type("search").page(this.data.searchResult.length>0?"list":"index").source("lead").value((this.sugsData.elements||[]).indexOf(this.data.searchPresetword)+1).ext({query:this.data.searchPresetword}).send(D.logId.search),(0,T.report)("search_direct_query")),t=t||this.data.searchPresetword,this.changeSearchPresetword(),P.type("search").page(this.data.searchResult.length>0?"list":"index").source("normal").value("1"===this.cfrom?"feizhudong":"").ext({query:t}).send(D.logId.search),this.startSearch(t))},updateQueryHistory:function(t){if(0!==t.length){var e=this.data.historyItems,n=e.findIndex((function(e){return e.label===t}));n>-1&&e.splice(n,1),e.unshift({label:t,status:0}),e.slice(0,20),this.setData({historyItems:e}),r.setStorage({key:"queryData",data:e.map((function(t){return t.label}))})}},clear:function(){var t=this;this.setData({isLoading:!1,showStatus:!1,noResult:!1,searchValue:"",suggestionItems:[],searchResult:[],isFocus:!1}),r.nextTick((function(){r.pageScrollTo({scrollTop:0,duration:0}),t.setData({isFocus:!0})}))},input:function(t){var e=this,n=t.value.trim();this.setData({isLoading:!1,showStatus:!1,searchValue:n,searchResult:[]},(function(){""!==n?(0,I.getSearchSuggestion)(n).then((function(t){var a=(t.g||[]).map((function(t){return t.q}));e.setData({isFocus:!0,suggestionItems:a.reduce((function(t,e){return t.push({label:e,textArr:e.split(n).reduce((function(t,e,a,r){return t.push(e),a!==r.length-1&&t.push(n),t}),[])}),t}),[])})})):e.setData({suggestionItems:[]})}))},focus:function(t){!this.data.keybordHeight&&this.setData({keybordHeight:t.detail.height})},startSearch:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.data.isLoading||this.setData({showStatus:!1,noResult:!1,searchValue:t,suggestionItems:[],isLoading:!0,pageNum:n,pageStatus:{title:"正在加载...",icon:1===n?"loading":"",btnText:""}},(function(){e.updateQueryHistory(t);try{(0,C.newSearch)(t,n).then((function(a){if(e.data.searchValue===t){var r=n>1?e.data.searchResult.concat(a.list):a.list;P.type("show").page(r.length>0?"has_result":"no_result").value("1"===e.cfrom?"feizhudong":"").ext({query:t,info:r.map((function(t){return t.app_key}))}).send(D.logId.search),0===r.length?(e.setData({isLoading:!1,hasMore:0,showStatus:!1,noResult:!0,pageStatus:{title:"没有搜索到相关小程序",icon:"search",btnText:"发现更多小程序"}},(function(){(0,T.report)("no_result_lead_show")})),(0,I.getSearchQuery)().then((function(t){t.data.searchQuerys.length>0&&e.setData({queryItems:t.data.searchQuerys.splice(0,10)})}))):e.setData({isLoading:!1,hasMore:a.hasMore,searchValue:t,searchResult:e.queryHighLight(r,t)})}}))}catch(t){e.setData({isLoading:!1,showStatus:!0,pageStatus:{title:"网络不给力，请稍后重试",icon:"wifi",btnText:"重新加载"}})}}))},suggestionTap:function(t){var e=t.currentTarget.dataset,n=e.item,a=e.index;this.setData({suggestionItems:[]}),P.type("search").page(this.data.searchResult.length>0?"list":"index").source("sug").value(a+1).ext({query:n}).send(D.logId.search),this.startSearch(n)},suggestionArrowTap:function(t){var e=this,n=t.currentTarget.dataset.item;this.setData({searchValue:n,suggestionItems:[]},(function(){e.input({value:n})}))},queryHighLight:function(t,e){return t.forEach((function(t){t.textArr=t.name.split(e).reduce((function(t,n,a,r){return t.push(n),a!==r.length-1&&t.push(e),t}),[])})),t},resultItemTap:function(t){var e=t.currentTarget.dataset,n=e.appId,a=e.frameType;P.type("click").page("has_result").value("1"===this.cfrom?"feizhudong":"").ext({query:this.data.searchValue,info:n}).send(D.logId.search),(0,T.report)("has_result_click"),(0,x.openAppByHost)({appKey:n,from:S.from.search,frameType:a})},sublinkItemTap:function(t){var e=t.currentTarget.dataset,n=e.appkey,a=e.path,r=e.query,o=e.frameType,i=e.index;P.type("click").page("has_result").value("1"===this.cfrom?"feizhudong":"").ext({query:this.data.searchValue,info:n}).send(D.logId.search),P.type("search").source("card").value(i+1).send(D.logId.search),(0,x.openAppByHost)({appKey:n,from:S.from.search,path:a,linkQuery:r,frameType:o})},containerTap:function(){this.hideActions()},reloading:function(){var t=this.data.pageStatus.icon;"wifi"===t?this.startSearch(this.data.searchValue):"search"===t&&(P.type("click").page("no_result").value("no_result_lead").send(D.logId.search),(0,T.report)("search_no_result"),r.switchTab({url:S.DISCOVERY_PAGE}))},onReachBottom:function(){this.isLoading||0!==this.data.hasMore&&this.startSearch(this.data.searchValue,this.data.pageNum+1)},discoveryTap:function(){P.type("click").page("no_result").value("no_result_lead").send(D.logId.search),(0,T.report)("search_no_result"),r.switchTab({url:S.DISCOVERY_PAGE})},queryItemTap:function(t){var e=t.currentTarget.dataset.index;P.type("click").page("no_result").value("q_".concat(e)).send(D.logId.search),(0,T.report)("search_no_result_q"),this.startSearch(this.data.queryItems[e].query)}})})),window.define("32",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10");Object.defineProperty(n,"__esModule",{value:!0}),n.newSearch=function(t,e){return new Promise((function(n,a){r.request({url:R(t,e),method:"GET",dataType:"json",header:{"content-type":"application/json"},success:function(t){if(200===t.statusCode&&t.data&&t.data.root){var e=function(t){var e=[],n=0;try{for(var a=0,o=t.result.length;a<o;a++){var i=B(t.result[a]);Object.prototype.isPrototypeOf(i)&&0!==Object.keys(i).length&&e.push(i)}e=e.filter((function(t){return!E.test(t.app_key)})),t.more&&(n=parseInt(t.more,10))}catch(t){(0,x.report)("search_error",{error:t.message}),r.showToast({icon:"none",title:"数据加载异常,请稍后重试"})}return{hasMore:n,list:e,pn:1}}(t.data.root);n(e)}a({errMsg:"search error"})},fail:a})}))};var T=S(t("19")),k=t("27"),x=t("33"),D=t("29"),I="2019052119",C="127.0.0.1",P="9d04a0dcea169e07",O=[7,3,17,13,1,21],E=/sc9Tq1iKawTnj5GhG6i77vzeIt4Crt5u/;function B(t){var e=t.result.htmlData.xcx_xz_data;if(Object.prototype.isPrototypeOf(e)&&0!==Object.keys(e).length){var n=t.result.htmlData.vinfo||{},a=e.xcx_params.xcx_appkey,r=function(t){if(!t)return[];var e=t.split(",");if(0===e.length)return[];for(var n=[],a=0,r=e.length;a<r;a++)e[a]&&(e[a].indexOf("_")>-1?n=n.concat(e[a].split("_")):n.push(e[a]));if(n.length)return(0,T.default)(new Set(n));return n}(e.app_category),o=e.customer_name||"",i=e.description,s="swangame"===e.genre?1:0,c=e.icon,u=e.name,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e={num:0,unit:""};return[{n:1e9,m:1e8,unit:"亿",point:0},{n:1e8,m:1e8,unit:"亿",point:1},{n:1e5,m:1e4,unit:"万",point:0},{n:1e4,m:1e4,unit:"万",point:1},{n:1,m:1,unit:"",point:0}].some((function(n){if(+t/n.n>=1){var a=Math.pow(10,n.point);return e={num:Math.floor(+t/n.m*a)/a,unit:n.unit},!0}return!1})),""===e.unit&&e.num<1e3?"":"".concat(e.num).concat(e.unit,"人使用过")}(e.userCount),p=!(!n||!n.baoCompName),d=(e.subLinks||[]).map((function(t){return{title:t.title,abstract:t.abstract,appkey:t.xcx_params.xcx_appkey,path:t.xcx_params.xcx_path,query:t.xcx_params.xcx_query}})).splice(0,4);return{app_key:a,category:r,company:o,desc:i,frame_type:s,icon:c,name:u,textArr:[],userCount:l,isPayProtected:p,subLinks:d=d.splice(0,d.length-d.length%2)}}}function R(t,e){var n=encodeURIComponent(t),a="".concat(I).concat(t).concat(C).concat(P);a=D(a);var r="";O.forEach((function(t){r+=a[t]}));var o="".concat(k.searchUrl,"?auth=").concat(r,"&from=").concat(I)+"&pd=mini_program&word=".concat(n,"&clientip=").concat(C,"&tn=apijson");return e>1&&(o+="&pn="+10*(e-1)),o}})),window.define("29",(function(require,module,exports,define,swan,getApp,window,document,frames,self,location,navigator,localStorage,history,Caches,swaninterface,top,_naSwan,_swanApp,parent,open,sessionStorage,DocumentFragment){"use strict";var _interopRequireDefault=require("10"),_typeof2=_interopRequireDefault(require("20")),ERROR="input is invalid type",WINDOW="object"===(void 0===window?"undefined":(0,_typeof2.default)(window)),root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===(void 0===self?"undefined":(0,_typeof2.default)(self)),NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===("undefined"==typeof process?"undefined":(0,_typeof2.default)(process))&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===(void 0===module?"undefined":(0,_typeof2.default)(module))&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===(0,_typeof2.default)(t)&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=(0,_typeof2.default)(t);if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var a,r,o=0,i=t.length,s=this.blocks,c=this.buffer8;o<i;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)if(ARRAY_BUFFER)for(r=this.start;o<i&&r<64;++o)c[r++]=t[o];else for(r=this.start;o<i&&r<64;++o)s[r>>2]|=t[o]<<SHIFT[3&r++];else if(ARRAY_BUFFER)for(r=this.start;o<i&&r<64;++o)(a=t.charCodeAt(o))<128?c[r++]=a:a<2048?(c[r++]=192|a>>6,c[r++]=128|63&a):a<55296||a>=57344?(c[r++]=224|a>>12,c[r++]=128|a>>6&63,c[r++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),c[r++]=240|a>>18,c[r++]=128|a>>12&63,c[r++]=128|a>>6&63,c[r++]=128|63&a);else for(r=this.start;o<i&&r<64;++o)(a=t.charCodeAt(o))<128?s[r>>2]|=a<<SHIFT[3&r++]:a<2048?(s[r>>2]|=(192|a>>6)<<SHIFT[3&r++],s[r>>2]|=(128|63&a)<<SHIFT[3&r++]):a<55296||a>=57344?(s[r>>2]|=(224|a>>12)<<SHIFT[3&r++],s[r>>2]|=(128|a>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&a)<<SHIFT[3&r++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),s[r>>2]|=(240|a>>18)<<SHIFT[3&r++],s[r>>2]|=(128|a>>12&63)<<SHIFT[3&r++],s[r>>2]|=(128|a>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&a)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,a,r,o,i=this.blocks;this.first?e=((e=((t=((t=i[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(a=((a=(-1732584194^2004318071&t)+i[1]-117830708)<<12|a>>>20)+t<<0)&(-271733879^t))+i[2]-1126478375)<<17|n>>>15)+a<<0)&(a^t))+i[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((a=this.h3)^e&(n^a))+i[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(a=((a+=(n^t&(e^n))+i[1]-389564586)<<12|a>>>20)+t<<0)&(t^e))+i[2]+606105819)<<17|n>>>15)+a<<0)&(a^t))+i[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(a^e&(n^a))+i[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(a=((a+=(n^t&(e^n))+i[5]+1200080426)<<12|a>>>20)+t<<0)&(t^e))+i[6]-1473231341)<<17|n>>>15)+a<<0)&(a^t))+i[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(a^e&(n^a))+i[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(a=((a+=(n^t&(e^n))+i[9]-1958414417)<<12|a>>>20)+t<<0)&(t^e))+i[10]-42063)<<17|n>>>15)+a<<0)&(a^t))+i[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(a^e&(n^a))+i[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(a=((a+=(n^t&(e^n))+i[13]-40341101)<<12|a>>>20)+t<<0)&(t^e))+i[14]-1502002290)<<17|n>>>15)+a<<0)&(a^t))+i[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((a=((a+=(e^n&((t=((t+=(n^a&(e^n))+i[1]-165796510)<<5|t>>>27)+e<<0)^e))+i[6]-1069501632)<<9|a>>>23)+t<<0)^t&((n=((n+=(t^e&(a^t))+i[11]+643717713)<<14|n>>>18)+a<<0)^a))+i[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((a=((a+=(e^n&((t=((t+=(n^a&(e^n))+i[5]-701558691)<<5|t>>>27)+e<<0)^e))+i[10]+38016083)<<9|a>>>23)+t<<0)^t&((n=((n+=(t^e&(a^t))+i[15]-660478335)<<14|n>>>18)+a<<0)^a))+i[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((a=((a+=(e^n&((t=((t+=(n^a&(e^n))+i[9]+568446438)<<5|t>>>27)+e<<0)^e))+i[14]-1019803690)<<9|a>>>23)+t<<0)^t&((n=((n+=(t^e&(a^t))+i[3]-187363961)<<14|n>>>18)+a<<0)^a))+i[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((a=((a+=(e^n&((t=((t+=(n^a&(e^n))+i[13]-1444681467)<<5|t>>>27)+e<<0)^e))+i[2]-51403784)<<9|a>>>23)+t<<0)^t&((n=((n+=(t^e&(a^t))+i[7]+1735328473)<<14|n>>>18)+a<<0)^a))+i[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((o=(a=((a+=((r=e^n)^(t=((t+=(r^a)+i[5]-378558)<<4|t>>>28)+e<<0))+i[8]-2022574463)<<11|a>>>21)+t<<0)^t)^(n=((n+=(o^e)+i[11]+1839030562)<<16|n>>>16)+a<<0))+i[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((o=(a=((a+=((r=e^n)^(t=((t+=(r^a)+i[1]-1530992060)<<4|t>>>28)+e<<0))+i[4]+1272893353)<<11|a>>>21)+t<<0)^t)^(n=((n+=(o^e)+i[7]-155497632)<<16|n>>>16)+a<<0))+i[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((o=(a=((a+=((r=e^n)^(t=((t+=(r^a)+i[13]+681279174)<<4|t>>>28)+e<<0))+i[0]-358537222)<<11|a>>>21)+t<<0)^t)^(n=((n+=(o^e)+i[3]-722521979)<<16|n>>>16)+a<<0))+i[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((o=(a=((a+=((r=e^n)^(t=((t+=(r^a)+i[9]-640364487)<<4|t>>>28)+e<<0))+i[12]-421815835)<<11|a>>>21)+t<<0)^t)^(n=((n+=(o^e)+i[15]+530742520)<<16|n>>>16)+a<<0))+i[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((a=((a+=(e^((t=((t+=(n^(e|~a))+i[0]-198630844)<<6|t>>>26)+e<<0)|~n))+i[7]+1126891415)<<10|a>>>22)+t<<0)^((n=((n+=(t^(a|~e))+i[14]-1416354905)<<15|n>>>17)+a<<0)|~t))+i[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((a=((a+=(e^((t=((t+=(n^(e|~a))+i[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+i[3]-1894986606)<<10|a>>>22)+t<<0)^((n=((n+=(t^(a|~e))+i[10]-1051523)<<15|n>>>17)+a<<0)|~t))+i[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((a=((a+=(e^((t=((t+=(n^(e|~a))+i[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+i[15]-30611744)<<10|a>>>22)+t<<0)^((n=((n+=(t^(a|~e))+i[6]-1560198380)<<15|n>>>17)+a<<0)|~t))+i[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((a=((a+=(e^((t=((t+=(n^(e|~a))+i[4]-145523070)<<6|t>>>26)+e<<0)|~n))+i[11]-1120210379)<<10|a>>>22)+t<<0)^((n=((n+=(t^(a|~e))+i[2]+718787259)<<15|n>>>17)+a<<0)|~t))+i[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=a+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+a<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,a=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,a=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&a,a>>8&255,a>>16&255,a>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,a="",r=this.array(),o=0;o<15;)t=r[o++],e=r[o++],n=r[o++],a+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=r[o],a+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="},module.exports=createMethod()})),window.define("44",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Component({properties:{title:{type:String,value:"区块标题"},maxHeight:{type:String,value:""},isMargin:{type:Boolean,value:!1}}})})),window.define("40",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";Component({properties:{icon:{type:String,value:""},title:{type:String,value:""},desc:{type:String,value:""},btnText:{type:String,value:""}},methods:{onTap:function(){var t=this;this.isClicked||(this.isClicked=!0,setTimeout((function(){t.triggerEvent("btntap"),t.isClicked=!1}),200))}}})})),window.define("45",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("30");Component({properties:{theme:{type:String,value:""},placeholder:{type:String,value:"搜索关键词"},placeholderStyle:{type:String,value:""},searchIconColor:{type:String,value:"#999"},confirmType:{type:String,value:"search"},value:{type:String,value:""},focus:{type:Boolean,value:!1,observer:function(t){t&&this.setFocus()}},presetWord:{type:String,value:"",observer:function(t){this.setData({placeholder:t})}}},options:{addGlobalClass:!0},data:{platform:"",searchKeyWord:""},attached:function(){var t=this;(0,S.getPlatform)().then((function(e){t.setData({platform:e})}))},observers:{"value,presetWord":function(t,e){this.setData({searchKeyWord:t||e})}},methods:{focusHdl:function(t){var e=t.detail;this.setFocus(),this.triggerEvent("focus",e)},setFocus:function(){this.setData({showSearchBtn:!0,showClear:!!this.data.value,clearPreventBlur:!1,searchPreventBlur:!1})},blurHdl:function(t){var e=t.detail,n=this.data,a=n.clearPreventBlur,r=n.searchPreventBlur,o=n.value,i=n.presetWord;if(a||r)this.setData({searchPreventBlur:!1,clearPreventBlur:!1,focus:!1});else{var s=!!o||i;this.setData({showSearchBtn:s,showClear:!1,focus:!1}),this.triggerEvent("blur",e)}},inputHdl:function(t){var e=t.detail;this.setData({showClear:""!==e.value,showSearchBtn:!0}),this.triggerEvent("input",e)},triggerFocusHdl:function(){var t=this.data,e=t.showClear,n=t.showSearchBtn;e||n||this.setData({focus:!0})},clearHdl:function(){this.triggerFocusHdl(),this.setData({value:"",showSearchBtn:!0,focus:!0,showClear:!1,clearPreventBlur:!0}),this.triggerEvent("clear",{value:""})},searchHdl:function(){var t=this.data.searchKeyWord;this.setData({searchPreventBlur:!0}),this.triggerFocusHdl(),this.setData({searchKeyWord:t,showSearchBtn:!t,showClear:!1}),this.triggerEvent("search",{value:this.data.searchKeyWord})}}})})),window.define("37",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("26")),T=t("25");Component({behaviors:[S.default],properties:{col:{type:Number,value:4}},data:{imageBorder:"image-border-100",componentType:"hor"},attached:function(){var t=this;(0,T.getDevicesInfo)().then((function(e){var n=e.devicePixelRatio||e.pixelRatio;(n*=100)>200&&n<205&&(n=201),t.setData({imageBorder:e.isAndroid?"image-border-201":"image-border-"+n})}))},methods:{}})})),window.define("41",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("26")),T=t("25");Component({behaviors:[S.default],properties:{col:{type:Number,value:4}},data:{imageBorder:"image-border-100",componentType:"hor"},attached:function(){var t=this;(0,T.getDevicesInfo)().then((function(e){var n=e.devicePixelRatio||e.pixelRatio;(n*=100)>200&&n<205&&(n=201),t.setData({imageBorder:e.isAndroid?"image-border-201":"image-border-"+n})}))}})})),window.define("58",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("28"),T=t("33"),k=t("25"),x=t("27"),D=t("31"),I=!0;Page({data:{topThree:[],others:[],showTopBar:!1,height:20,isIos:!1,topbarHeight:64,reachTop:!0,activeTab:0,pageData:{},compatibleBack:!0},onLoad:function(t){var e=t.pageType,n=void 0===e?0:e;this.setData({activeTab:n,showBackBtn:getCurrentPages().length>1}),this.requestData(),this.headerStyle="fff",this.requestId=""},onShow:function(){r.setPageInfo({title:"小程序热门榜单"})},requestData:function(){var t=this;(0,k.getDevicesInfo)().then((function(e){t.setPageStyle(e);return(0,D.getRequest)(x.hostUrl,{params:{page_id:203,page_source:"baidu_macenter_rank"}})})).then((function(e){t.requestId=e.request_id;var n=e.data.modules;t.setData({pageData:n,pageTitle:e.data.title}),t.setPageData(n)})).catch((function(t){(0,T.toast)(t.errMsg)}))},setPageStyle:function(t){var e=t.statusBarHeight,n=!!r.getFavor||t.enableNavigationStyle;I=t.enableNavigationStyle,this.setData({height:e,showTopBar:n,isIos:!t.isAndroid,topbarHeight:t.topbarHeight,compatibleBack:(0,T.versionCompare)(t.swanNativeVersion,"2.28.0")>=0})},setPageData:function(t){var e=t[this.data.activeTab],n=e.elements,a=[Object.assign({rank:2,name:"xxx",rankClass:"second"},n[1]),Object.assign({rank:1,name:"xxx",rankClass:"first"},n[0]),Object.assign({rank:3,name:"xxx",rankClass:"third"},n[2])],r=n.slice(3);this.setData({topThree:a,others:r,bgImg:e.picture,bgColor:e.picture_color})},tabChange:function(t){var e=t.currentTarget.dataset.index;this.setData({activeTab:+e}),this.setPageData(this.data.pageData),r.pageScrollTo({scrollTop:0,duration:0}),(0,T.report)("rank_detail_name",{name:this.data.pageData[e].title})},openApp:function(t){var e=t.currentTarget.dataset,n=e.appkey,a=e.index,o=e.needNavigate;o||(n=t.appkey,a=t.index+4);var i=this.data.pageData[this.data.activeTab].title;(0,S.log)({type:"click",page:"rank_page",value:i,ext:{pos:t.index+4,appkey:t.appkey,request_id:this.requestId}},S.logId.newUtc),(0,T.report)("rank_detail_app",{name:i,pos:a}),o&&r.navigateToSmartProgram({appKey:n,from:x.from.discovery})},onPageScroll:function(t){t.scrollTop>0?this.setData({reachTop:!1}):(this.setData({reachTop:!0}),I&&"000"!==this.headerStyle&&(r.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#ffffff"}),this.headerStyle="000"))},back:function(){r.navigateBack()}})})),window.define("54",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("28"),T=t("33"),k=t("24"),x=t("27");Page({data:{cateList:[],appList:["","","","","","","",""],appDataLoaded:!1,activeIndex:0,cateId:"",scrollTop:"",appFrom:""},onLoad:function(t){var e=this;this.requestId="";var n=t.cateId?parseInt(t.cateId,10):"";this.setData({appFrom:x.from.category,cateId:n}),(0,k.getCategory)(n).then((function(t){e.requestId=t.request_id;var n=(0,T.pickDataList)(t.data.modules),a=n.categoryList,r=n.appList;e.setCategoryData(a),e.setCategoryAppData(r[0]),(0,S.log)({from:"swan",type:"show",page:"category"},S.logId.discovery)})).catch((function(t){(0,T.toast)(t.errMsg)}))},onShow:function(){r.setPageInfo({title:"小程序分类精选"})},setCategoryData:function(t){var e=this,n=this.getData("cateId"),a=0;t.forEach((function(t,r){t.title=t.title.substr(0,2),t.id===n&&(e.setData({activeIndex:r}),a=r)})),a=(a-=3)<0?0:a,this.setData({cateId:t[a].id,cateList:t},(function(){e.setData({scrollTop:"cate"+t[a].id})}))},setCategoryAppData:function(t){var e=this,n=t.slice(0,10);this.setData({appList:n}),t.length>6&&setTimeout((function(){e.setData({appList:t,appDataLoaded:!0})}),500)},selectCategory:function(t){var e=this,n=t.currentTarget.dataset,a=n.index,r=n.cateId,o=n.name,i=this.getData("activeIndex");if(a!==i){var s={from:"swan",type:"click",page:"category",value:a,ext:{cateid:r}};(0,S.log)(s,S.logId.discovery),(0,T.report)("erji_fenlei",{pos:a+1,name:o}),(0,S.log)({type:"click_cate_name",page:"all_cate_page",value:o,ext:{cate_id:r,cate_pos:a+1,request_id:this.requestId}},S.logId.newUtc);var c=this.getData("cateList");this.setData({activeIndex:a},(function(){var t=a-3;t=t<0?0:t,e.setData({scrollTop:"cate"+c[t].id})})),(0,k.getCategory)(r).then((function(t){e.setData({appDataLoaded:!1,cateId:r,categoryScrollTop:0});var n=(0,T.pickDataList)(t.data.modules).appList;e.setCategoryAppData(n[0])})).catch((function(t){(0,T.toast)(t.errMsg)}))}},back:function(){r.navigateBack()},reportData:function(t){var e=t.appkey,n=t.pos,a=t.index,r=this.getData(),o=r.cateList,i=r.cateId,s=o.find((function(t){return t.id===i})).name,c={from:"swan",type:"click",page:"category",value:a,ext:{appid:e,moudle_id:"erji_fenlei_miniapp",cat_id:i}};(0,S.log)(c,S.logId.discovery),(0,S.log)({type:"click_cate_app",page:"all_cate_page",value:t.pos,ext:{appkey:e,cate_id:i,cate_name:s,cate_pos:n+1,request_id:this.requestId}},S.logId.newUtc),(0,T.report)("erji_fenlei_miniapp",{appkey:e,type:s,pos:n})}})})),window.define("53",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("6")),T=t("28"),k=t("24"),x=t("33"),D=t("25"),I=t("27"),C=t("31"),P=t("49");Page({data:{recommonendList:[""],recommed:!1,historyAppClass:"",borderBottom:"border-bottom",recommBorder:"recomm-border",isAndroid:!1,lowVersion:!1,lowFollowVersion:!1,appId:"",searchPresetword:"搜想要的小程序",showBackIcon:!1},onLoad:function(t){var e=this;this.taskId=+t.taskId,P.taskSupplier.init({query:t,sdkConfig:{useBdtls:!0,secretMap:{352:"f9eccd77-40af-013e-d495-cedbe3901eef"}}}),this.requestId="",r.onNetworkStatusChange((function(t){t.isConnected&&e.showPageData()})),r.getNetworkType({success:function(t){"none"===t.networkType.toLowerCase()&&(0,x.toast)("暂无网络")}}),this.recommonendLoad=!1,this.showPageData()},onShow:function(){var t=this,e=getCurrentPages();(0,D.getDevicesInfo)().then((function(n){n.isAndroid&&t.setData({historyAppClass:"history-app-android",borderBottom:"border-bottom-android",recommBorder:"recomm-border-android",isAndroid:!0,lowVersion:(0,x.versionCompare)(n.version,"11.2")<0}),t.setData({lowFollowVersion:(0,x.versionCompare)(n.version,"11.15")<0,showBackIcon:e.length>1})})),this.recommonendLoad&&this.setAppFavor(),this.checkFavorChange(),k.updateSearchPresetword.call(this),r.setPageInfo({title:"添加到我的小程序"})},checkFavorChange:function(){var t=this;this.taskId&&(0,k.getFavor)().then((function(e){t.favorNum?e.length>t.favorNum&&(P.taskSupplier.execute({command:"action",aid:[352]}),(0,x.report)("baibian_gz_show")):t.favorNum=e.length}))},backReport:function(){(0,x.report)("baibian_gz_click")},showPageData:function(){var t=this;(0,k.getFavor)().then((function(e){(0,C.getRequest)(I.hostUrl,{params:{page_source:"baidu_suggest_follow",page_id:211}}).then((function(n){t.recommonendLoad=!0,t.requestId=n.request_id;var a=e.length,r=[];n.data.modules[0].elements.forEach((function(t){for(var n=!1,o=0;o<a;o++)if(t.app_key===e[o].appid){n=!0;break}n||r.push(t)})),t.setData({recommed:!0,recommonendList:r})}))}))},setAppFavor:function(){var t=this;(0,k.getFavor)().then((function(e){var n=t.getData("appId"),a=t.getData("recommonendList").findIndex((function(t){return t.appkey===n}));n&&(e.findIndex((function(t){return t.appid===n}))>-1?a>-1&&t.setData((0,S.default)({},"recommonendList["+a+"].isFavor",!0)):a>-1&&t.setData((0,S.default)({},"recommonendList["+a+"].isFavor",!1)),t.setData({appId:""}))}))},openApp:function(t,e){var n=t.currentTarget.dataset,a=n.appid,o=n.type,i=n.index,s={from:"swan",type:"click",page:"details",source:"history"===o?"his":"myswan",value:i,ext:{appid:a}};(0,T.log)(s,T.logId.index),(0,T.log)({type:"click_app",page:"mine_recommend",value:i+1,ext:{appkey:a,request_id:this.requestId}},T.logId.newUtc),(0,x.report)("tianjia_xiaochengxu"),r.navigateToSmartProgram({appKey:a,from:I.from.favor,success:function(){e()}})},imageError:function(t){var e=t.currentTarget.dataset,n=e.index,a=e.type,r=this.getData(a);r[n].iconUrl="",this.setData((0,S.default)({},a,r))},addAppFavor:function(t){var e=t.currentTarget.dataset,n=e.appid,a=e.index,o=e.isFavor;if(!o&&n)(0,x.report)("tianjia_button"),this.openApp(t,(function(){setTimeout((function(){(0,k.addFavor)(n)}),2e3)})),this.setData((0,S.default)({appId:n},"recommonendList["+a+"].isFavor",!0));else if(o){(0,x.report)("tianjia_yitianjia");var i="已添加至我的小程序";this.getData("lowFollowVersion")||(i="关注成功"),r.showToast({title:i,icon:"none"})}(0,T.log)({type:"click_button",page:"mine_recommend",value:a+1,ext:{appkey:n,request_id:this.requestId}},T.logId.newUtc)},goDiscovery:function(){(0,x.report)("tianjia_faxian"),r.switchTab({url:I.DISCOVERY_PAGE})},back:function(){r.navigateBack()}})})),window.define("56",(function(t,e,n,a,r,o,i,s,c,u,l,p,d,f,h,g,v,m,y,_,b,w,A){"use strict";var S=t("10")(t("19")),T=t("24"),k=t("33"),x=t("28"),D=t("27");Page({selectedApp:[],selectedAppIndex:[],data:{isEdit:!1,currentTab:0},onInit:function(t){var e=t.action,n=void 0===e?"":e,a=t.curTab,r=void 0===a?0:a,o=t.curIndex,i=void 0===o?"":o;this.setData({currentTab:+r||this.data.currentTab,isEdit:"edit"===n,pathQuery:t}),"edit"!==n||i||(0,x.log)({type:"show",value:"edit"},x.logId.newUtc)},onShow:function(){this.requestTabData()},requestTabData:function(){var t=this;(0,T.getHistoryAndFavorMergeLocalList)().then((function(e){var n=e.history,a=e.favor;t.setData({tabData:{history:n,favor:a}}),(0,x.log)({type:"show",page:"total_page"},x.logId.newUtc)}))},getSelectedAppData:function(t){this.selectedApp=t.detail.selectedApp,this.selectedAppIndex=t.detail.selectedAppIndex,this.setData({selectedAppTotalNum:t.detail.selectedAppTotalNum})},clickEditButton:function(t){var e=this,n=t.detail,a=n.type,o=n.action,i=n.selectedApp,s=n.selectedAppIndex,c=n.topAction;if(o!==D.TOP_ACTIONS.TOP){this.selectedApp=i,this.selectedAppIndex=s;var u=this.data.tabData,l=u.history,p=u.favor,d="add"===o?T.addFavor:"favor"===a?T.deleteFavor:T.deleteHistory,f=r.getSystemInfoSync();if(d===T.deleteHistory&&((0,k.checkPlatformVersion)("13.14","ios")||(0,k.checkPlatformVersion)("13.13","android")||"bdhonorbrowser"===f.host)){var h=i.map((function(t){return Object.assign({},{appKey:t.appKey,type:t.type,version:t.version})}));(0,T.bulkDeleteHistory)(h).then((function(t){(0,k.toast)("已删除"),e.deleteHistoryApp(l)}))}else this.batchOperateApp(d).then((function(t){switch(d){case T.addFavor:(0,k.toast)("已添加到我的小程序"),e.addFavorApp(p);break;case T.deleteFavor:(0,k.toast)("已删除"),e.deleteFavorApp(p);break;case T.deleteHistory:(0,k.toast)("已删除"),e.deleteHistoryApp(l)}}))}else this.aboutTopAction({topAction:c,selectedApp:i})},addFavorApp:function(t){var e={},n=this.selectedApp.map((function(t){return Object.assign({},t,{redDot:!0,isTop:!1,disabled:!1,checked:!1})})).reverse(),a=[].concat((0,S.default)(n),(0,S.default)(t)).reduce((function(t,n){var a=(0,k.getAppKey)(n);return!e[a]&&(e[a]=t.push(n)),t}),[]);(0,x.log)({type:"add",page:"total_page"},x.logId.newUtc),this.setData({"tabData.favor":a})},deleteHistoryApp:function(t){var e=this.selectedAppIndex,n=t.filter((function(t){return!e.includes(t.appid)}));(0,x.log)({type:"delete_his",page:"total_page"},x.logId.newUtc),this.setData({"tabData.history":n})},deleteFavorApp:function(t){var e=this.selectedAppIndex,n=t.filter((function(t){return!e.includes(t.appid)}));(0,x.log)({type:"delete_subs",page:"total_page"},x.logId.newUtc),this.setData({"tabData.favor":n})},batchOperateApp:function(t){var e=this.selectedApp;return Promise.all(e.map((function(e){var n=(0,k.getAppKey)(e);return t(n)})))},aboutTopAction:function(t){var e=t.topAction,n=t.selectedApp,a=D.TOP_ACTIONS.UP,r=D.TOP_ACTIONS.DOWN;switch(e){case a:this.topApp({selectedApp:n});break;case r:this.downApp({selectedApp:n})}},topApp:function(t){var e=this,n=t.selectedApp,a=D.TOP_TOASTS.TOP_NUM_OVER,r=D.TOP_TOASTS.TOP_SUCC,o=D.TOP_TOASTS.FAIL,i=D.TOP_TOASTS.FAIL_TOP_DEV,s=n.map((function(t){return t.appid}));this.preTopAppCheck({selectedApp:n})?(0,T.addTop)({appid:s}).then((function(t){if(t)return e.changeAppTopStatus({appid:s,status:!0}),(0,k.toast)(r),void(0,x.log)({type:"top",page:"top_totalpage",source:s.length,ext:{appid:s}},x.logId.newUtc);var n=o;(0,k.checkAppKeyIsOfficial)(s)||(n=i),(0,k.toast)(n)})):(0,k.toast)(a)},preTopAppCheck:function(t){var e,n,a=t.selectedApp,r=D.TOP_ACTIONS.TOP_MAX_NUM;return!((null===(e=this.data.tabData)||void 0===e||null===(n=e.history)||void 0===n?void 0:n.filter((function(t){return t.isTop})).length)+(null==a?void 0:a.map((function(t){return t.appid})).length)>r)},downApp:function(t){var e=this,n=t.selectedApp,a=D.TOP_TOASTS.DOWN_SUCC,r=D.TOP_TOASTS.FAIL,o=n.map((function(t){return t.appid})),i=n.filter((function(t){return t.isAutoTop})).map((function(t){return t.appid}));(0,T.deleteTop)({appid:o}).then((function(t){if(t)return e.changeAppTopStatus({appid:o,status:!1,filterApps:i}),(0,k.toast)(a),void(0,x.log)({type:"delete",page:"top_totalpage",source:o.length,ext:{appid:o}},x.logId.newUtc);(0,k.toast)(r)}))},changeAppTopStatus:function(t){var e,n=t.appid,a=t.status,r=t.filterApps,o=this.data.tabData.history,i=+(null===(e=o.filter((function(t){return t.isTop})).sort((function(t,e){return t.topRank-e.topRank}))[0])||void 0===e?void 0:e.topRank),s=o.map((function(t){var e=t.appid;return n.includes(e)&&(Object.assign(t,{isTop:a}),a&&Object.assign(t,{topRank:--i})),t}));if(r&&r.length){var c=new Set(r);s=s.filter((function(t){return!c.has(t.appid)}))}this.setData({"tabData.history":s})}})})),window.__swanRoute="app",window.usingComponents=[],window.usingPluginComponents=[],require("23"),window.__swanRoute="pages/add-favor/add-favor",window.usingComponents=["components/topbar/topbar","components/search-bar/search-bar","node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("53"),window.__swanRoute="pages/category/category",window.usingComponents=["components/topbar/topbar","components/vertical-temp/vertical-temp"],window.usingPluginComponents=[],require("54"),window.__swanRoute="pages/discovery/discovery",window.usingComponents=["components/topbar/topbar","components/vertical-temp/vertical-temp","components/banner/banner","components/network/network","node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("55"),window.__swanRoute="pages/edit/edit",window.usingComponents=["components/tab-icon-grid/tab-icon-grid"],window.usingPluginComponents=[],require("56"),window.__swanRoute="pages/favor/favor",window.usingComponents=["components/search-bar/search-bar","components/topbar/topbar","components/vertical-temp/vertical-temp","components/network/network"],window.usingPluginComponents=[],require("57"),window.__swanRoute="pages/hot/hot",window.usingComponents=["components/vertical-temp/vertical-temp"],window.usingPluginComponents=[],require("58"),window.__swanRoute="pages/index/index",window.usingComponents=["components/topbar/topbar","components/guide-top/index","components/tab-icon-grid/tab-icon-grid","components/vertical-temp/vertical-temp","components/material-waterfall/material-waterfall","components/network/network","node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("59"),window.__swanRoute="pages/search/search",window.usingComponents=["components/topbar/topbar","components/search-block/search-block","components/page-status/page-status","components/search/search","components/horizontal-temp/horizontal-temp","components/popular/popular"],window.usingPluginComponents=[],require("60"),window.__swanRoute="components/banner/banner",window.usingComponents=[],window.usingPluginComponents=[],require("35"),window.__swanRoute="components/guide-top/index",window.usingComponents=["components/popup/index"],window.usingPluginComponents=[],require("36"),window.__swanRoute="components/horizontal-temp/horizontal-temp",window.usingComponents=[],window.usingPluginComponents=[],require("37"),window.__swanRoute="components/material-waterfall/material-waterfall",window.usingComponents=[],window.usingPluginComponents=[],require("38"),window.__swanRoute="components/network/network",window.usingComponents=["components/topbar/topbar"],window.usingPluginComponents=[],require("39"),window.__swanRoute="components/page-status/page-status",window.usingComponents=[],window.usingPluginComponents=[],require("40"),window.__swanRoute="components/popular/popular",window.usingComponents=[],window.usingPluginComponents=[],require("41"),window.__swanRoute="components/popup/index",window.usingComponents=[],window.usingPluginComponents=[],require("42"),window.__swanRoute="components/search-bar/search-bar",window.usingComponents=[],window.usingPluginComponents=[],require("43"),window.__swanRoute="components/search-block/search-block",window.usingComponents=[],window.usingPluginComponents=[],require("44"),window.__swanRoute="components/search/search",window.usingComponents=[],window.usingPluginComponents=[],require("45"),window.__swanRoute="components/tab-icon-grid/tab-icon-grid",window.usingComponents=[],window.usingPluginComponents=[],require("46"),window.__swanRoute="components/topbar/topbar",window.usingComponents=[],window.usingPluginComponents=[],require("47"),window.__swanRoute="components/vertical-temp/vertical-temp",window.usingComponents=[],window.usingPluginComponents=[],require("48"),window.__swanRoute="node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index",window.usingComponents=[],window.usingPluginComponents=[],require("50")})(__hacked);
//# sourceMappingURL=app.js.map