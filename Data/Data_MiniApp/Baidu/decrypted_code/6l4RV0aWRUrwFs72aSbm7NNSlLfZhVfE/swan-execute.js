window.renderPage=function(e){function n(o){return new Promise(function(e,n){var t=document.createElement("script");t.type="text/javascript",t.src=o,t.onload=function(){e()},t.onerror=n,document.head.appendChild(t)})}var s=window.require(e),u=window.componentFactory,l=u.getAllComponents(),r=s.componentUsingComponentMap,t=s.isComponent,o=s.template;t&&(o="<custom-component></custom-component>",(r={})[s.componentPath]=["custom-component"]);var m=s.initialFilters,c=s.pageModules,C=!!Object.keys(r).length;Promise.resolve().then(function(){if(!C)return{customComponents:{},pageTemplateComponents:s.createTemplateComponent(l)};var e=window.pageInfo.appPath,o=Object.create(null),c=Object.create(null),a=0,p={},i=function(t){var m=Object.create(null);return Object.keys(t).forEach(function(o){var e=t[o],s=window.require(o);if(p[o]||(p[o]=s.size||0),Object.keys(s.componentUsingComponentMap).length){if(!c[o]){c[o]={};var n=i(s.componentUsingComponentMap);Object.assign(c[o],n)}}else c[o]={};var r=s.createTemplateComponent(Object.assign(l,c[o]));e.forEach(function(e){var n="swan-"+e,t="components/"+e+"/"+e+a++;!function(e,n){var t=document.querySelectorAll("style");if(!Array.from(t).map(function(e){return e.getAttribute("_from")}).includes(e)&&""!==n.trim()){var o=document.createElement("style");o.setAttribute("_from",e),o.innerHTML=n,document.head.appendChild(o)}}(t,u.translateAllCustomImportCss(s.customComponentCss,e)),u.componentDefine(t,Object.assign({},u.getProtos("super-custom-component"),{template:"<"+n+">"+s.template+"</"+n+">",componentPath:s.componentPath,componentName:e,componentUniqueName:t,customComponentCss:""}),{classProperties:{components:Object.assign(c[o],l,r),filters:Object.assign({},s.filters)}}),m[e]=u.getComponents(t)})}),m};return Promise.all([n(e+"/allImportedCssContent.js"),n(e+"/allCusomComponents.swan.js")]).then(function(){var e=i(r),t=0,n=Object.keys(p).reduce(function(e,n){return e+=parseInt(p[n],10),t+=1,e},0);return Object.assign(o,l,e),{pageTemplateComponents:s.createTemplateComponent(o),customComponents:e,customComponentsSizeInfo:{allCustomComponentsSize:n,allCustomComponentsNum:t}}})}).then(function(e){window.pageRender(o,e.pageTemplateComponents,e.customComponents,m,c,"newTemplate",e.customComponentsSizeInfo)}).catch(function(e){throw window.errorMsg.execError=e})};