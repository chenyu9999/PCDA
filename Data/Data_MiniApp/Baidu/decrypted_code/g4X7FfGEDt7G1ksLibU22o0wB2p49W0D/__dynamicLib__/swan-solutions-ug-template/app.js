window.defineDynamicLib("dynamicLib://swan-solutions-ug-template",(function(t,e,n,r){t("1",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C=t(2),I=t(4),T=t(9);(0,C.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initComp(t)}}},pageLifetimes:{show:function(){this.initPrizeList()}},data:{popupData:{isShow:!1,status:1,styleData:{},btnStyle:{},title:"",icon:"",name:"",category:100},drawTipsData:{},imgAnimationUrl:"",leftDrawNum:0,prizeList:[],rollPrize:[0,1,2,4,7,6,5,3],marqueeScroll:[]},attached:function(){var t=this;this.attr={isRolling:!1,imgTimer:null,scrollPageSize:30,scrollPage:0,initPrizeListRequesting:!1},this.initComp(),this.initMarquee(),this.initPrizeList(),this.initEventHub(),this.storeSubscribe(["isLogin"],(function(){t.initPrizeList()}))},deattached:function(){clearInterval(this.attr.imgTimer)},methods:{initComp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData,n=e.lightImg,r=e.darkImg,a=e.drawTips;this.attr.imgTimer&&clearInterval(this.attr.imgTimer),this.attr.imgTimer=setInterval((function(){var e=t.data.imgAnimationUrl||n;e=e===n?r:n,t.setData({imgAnimationUrl:e})}),300);var o=a.text&&a.text.split("${}")||["",""],i={beforeText:o[0],afterText:o[1]};this.setData({drawTipsData:i})},initMarquee:function(){var t=this,e=this.getRequestPageSource();this.request({url:this.data.configData.marquee$api,method:"post",data:Object.assign({},(0,I.getCommonSign)(),{componentId:this.properties.componentId,activityName:e,pageSize:this.attr.scrollPageSize,page:this.attr.scrollPage})}).then((function(e){!+e.code&&e.data.scrollList&&t.setData({marqueeScroll:e.data.scrollList.map((function(t){return t.name}))})}))},initPrizeList:function(){var t=this;if(!this.attr.initPrizeListRequesting){this.attr.initPrizeListRequesting=!0;var e=this.getRequestPageSource();this.request({url:this.data.configData.draw$api,method:"post",data:Object.assign({activityName:e,componentId:this.properties.componentId},(0,I.getCommonSign)())}).then((function(e){if(!+e.code){var n=e.data,r=n.awards,a=n.leftDrawNum,o=e.data&&r.map((function(t){return t.winning=!1,t}));t.setData({prizeList:o,leftDrawNum:a})}})).finally((function(){t.attr.initPrizeListRequesting=!1}))}},initEventHub:function(){var t=this;this.onEventHubMessage(T.EVENTS.COMPLETE_TASK,(function(e){if(e.data){var n=t.data.leftDrawNum+e.data.taskCompleteAddCount;t.setData({leftDrawNum:n})}}))},beginLottery:function(t){this.sendUbcLog("click",{idValue:"lottery",idName:"抽奖",idStatus:0}),"login:ok"===t.detail.errMsg&&this.startLottery(),this.store.commit("updateLoginState")},startLottery:(k=regeneratorRuntime.mark((function t(){var e,n,r,o,i,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.attr.isRolling){t.next=2;break}return t.abrupt("return");case 2:if(!(this.data.leftDrawNum<=0)){t.next=5;break}return a.showToast({title:"机会没了，继续做任务吧",icon:"none"}),t.abrupt("return");case 5:return a.showLoading({title:"加载中",mask:!0}),t.next=8,(0,C.getCommonSysInfo)(!0);case 8:e=t.sent,n=e.zid,r=e.cuid,o=C.globalData.systemInfo.platform,i=this.getRequestPageSource(),this.request({url:this.data.configData.lottery$api,method:"post",data:Object.assign({},(0,I.getCommonSign)(),{activityName:i,componentId:this.properties.componentId,sourceType:1,lotteryType:1,zid:n,cuid:r,app:o||"universe"})}).then((function(t){if(a.hideLoading(),+t.code)a.showToast({title:"活动太火爆，请稍后重试",icon:"none"});else{var e=t.data,n=e.position,r=e.activityStatus,o=e.category,i=e.showname,u=e.icon,c=e.leftDrawNum,d=s.data.configData.popupConfig,p=d.noWinningConfig,l=d.winningConfig,f=d.btnStatusMap,h=d.closeImg,g=100===o?p:l,m=f[o];if(m.bgColor="linear-gradient("+m.startColor+" 0%,  "+m.endColor+" 100%)",1===r){s.startLotteryAnimation(+n);var v=s.data.popupData;s.setData({popupData:Object.assign({},v,{name:i,icon:u,styleData:g,btnStyle:m,category:o,closeImg:h}),leftDrawNum:c})}else a.showToast({title:"活动已结束",icon:"none"});s.sendUbcLog("click",{idValue:"lottery",idName:"抽奖",idStatus:1})}})).catch((function(t){console.log(t),a.hideLoading(),a.showToast({title:"活动太火爆，请稍后重试",icon:"none"})}));case 14:case"end":return t.stop()}}),t,this)})),_=function(){var t=k.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(){return _.apply(this,arguments)}),startLotteryAnimation:function(t){var e=this.data.rollPrize;this.attr.isRolling=!0;var n=0;e.forEach((function(e,r){e===t&&(n=r)})),this.startScroll(0,120,16,n)},startScroll:function(t,e,n,r){var a=this;if(n+r<t){var o=this.data.popupData;return o.isShow=!0,this.setData({popupData:o}),this.attr.isRolling=!1,void this.sendUbcLog("display",{idValue:"popup-"+(100===o.category?"nowin":"win"),idName:"弹窗"})}for(var i=this.data,s=i.prizeList,u=i.rollPrize,c=0;c<s.length;c++)s[u[c]].winning=c===t%8;this.setData({prizeList:s});var d=setTimeout((function(){t>n-8&&(e+=5*(t-n+8)),t++,a.startScroll(t,e,n,r),clearTimeout(d)}),e)},clickPopupBtn:function(t){var e=this;this.navigate(this.data.popupData.btnStyle.jumpConfig).catch((function(t){console.log(t)})).finally((function(){e.closePopup(t)}))},closePopup:function(t){var e=this.data,n=e.popupData,r=e.prizeList,a=t.target.dataset.place;n.isShow=!1,this.setData({popupData:n,prizeList:r.map((function(t){return t.winning=!1,t}))}),this.sendUbcLog("click",{idValue:"popup-"+(100===n?"nowin":"win")+"-"+a+"}",idName:"关闭弹窗"})}}})})),t("2",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){(function(t){var e,r,s,u,d=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}u=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":l(t))&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":l(t))&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){var r=n(4),a=n(5),o=n(6),i=n(8);t.exports=function(t,e){return r(t)||a(t,e)||o(t,e)||i()}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?t.exports=n=function(t){return void 0===t?"undefined":l(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":l(t)},n(e)}t.exports=n},function(t,e,n){t.exports=n(9)},function(t,e){function n(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function s(t){n(i,a,o,s,u,"next",t)}function u(t){n(i,a,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d={};function p(){}function f(){}function h(){}var g={};g[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==e&&n.call(v,a)&&(g=v);var b=h.prototype=p.prototype=Object.create(g);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,s){var u=c(t[a],t,o);if("throw"!==u.type){var d=u.arg,p=d.value;return p&&"object"==(void 0===p?"undefined":l(p))&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(p).then((function(t){d.value=t,i(d)}),(function(t){return r("throw",t,i,s)}))}s(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=b.constructor=h,h.constructor=f,f.displayName=s(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},y(w.prototype),w.prototype[o]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(b),s(b,i,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"isSymbol",(function(){return f})),n.d(r,"isObject",(function(){return h})),n.d(r,"isEmptyObject",(function(){return g})),n.d(r,"isString",(function(){return m})),n.d(r,"isPlainObject",(function(){return v})),n.d(r,"isKey",(function(){return b})),n.d(r,"isFunction",(function(){return y})),n.d(r,"isArray",(function(){return w})),n.d(r,"toString",(function(){return x})),n.d(r,"tagTester",(function(){return S})),n.d(r,"isTelephoneNum",(function(){return k})),n.d(r,"compareVersion",(function(){return _})),n.d(r,"sleep",(function(){return C}));var a={};n.r(a),n.d(a,"assign",(function(){return I})),n.d(a,"pickKeysInObject",(function(){return T}));var o={};n.r(o),n.d(o,"deepAssign",(function(){return N})),n.d(o,"deepAssignWith",(function(){return H}));var i={};n.r(i),n.d(i,"stringifyQuery",(function(){return Q})),n.d(i,"stringifyURL",(function(){return Z})),n.d(i,"parseQuery",(function(){return X})),n.d(i,"parseURL",(function(){return tt}));var s={};n.r(s),n.d(s,"formatDecimal",(function(){return nt}));var u={};n.r(u),n.d(u,"promiseAllSettled",(function(){return st})),n.d(u,"runUntilMaxTime",(function(){return ut})),n.d(u,"memoizePromise",(function(){return ct})),n.d(u,"promiseRetry",(function(){return dt}));var c=n(1),d=n.n(c),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function f(t){return"symbol"===d()(t)||h(t)&&"[object Symbol]"===Object.prototype.toString(t)}function h(t){return"object"===d()(t)&&null!==t}function g(t){return v(t)&&0===Object.keys(t).length}function m(t){return"[object String]"===Object.prototype.toString.call(t)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&t instanceof n}function b(t,e){if(Array.isArray(t))return!1;var n=d()(t);return!("number"!==n&&"symbol"!==n&&"boolean"!==n&&null!==t&&!f(t))||l.test(t)||!p.test(t)||null!==e&&t in Object(e)}function y(t){return"function"==typeof t}function w(t){return Array.isArray(t)}var x=Object.prototype.toString;function S(t,e){return x.call(e)==="[object "+t+"]"}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^1[3-9][0-9]{9}$/.test(t)||/^\*{7}[0-9]{4}$/.test(t)}function _(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var r=0;r<n;r++){var a=parseInt(t[r],10),o=parseInt(e[r],10);if(a>o)return 1;if(a<o)return-1}return 0}function C(t){return new Promise((function(e){return setTimeout(e,t)}))}function I(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[0]=e[0]||{},Object.assign.apply(Object,e)}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e){"string"==typeof e&&Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})),n}function D(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{mapObject:!1},a=r.mapObject;if(!w(t)&&!h(t))return t;var o=w(t)?t:Object.keys(t),i=w(t)?function(t){return t}:function(t,e){return e[t]},s={},u=[],c=h(t)&&a?function(t,e){s[e]=t}:function(t){u.push(t)};return Array.prototype.forEach.call(o,(function(r){var a=i.call(n,r,t);a=y(e)?e.call(n,a,r,t):a,c.call(n,a,r)})),h(t)&&a?s:u}var L=Symbol.prototype.toString;function P(t){if("string"==typeof t)return t;if(w(t))return D(t,P).toString();if(null==t)return"";if(v(t))return JSON.stringify(t);if(f(t))return L?L.call(t):"";var e="".concat(t);return"0"===e&&1/t==-1/0?"-0":e}var A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/\\(\\)?/g;function O(t){if("string"==typeof t||f(t))return t;var e=t+"";return"0"===e&&1/t==-1/0?"-0":e}function j(t,e){for(var n=0,r=(e=function(t,e){return w(t)?t:b(t,e)?[t]:(n=P(t),r=[],46===n.charCodeAt(0)&&r.push(""),n.replace(A,(function(t,e,n,a){r.push(n?a.replace(B,"$1"):e||t)})),r);var n,r}(e,t)).length;null!=t&&n<r;)t=t[O(e[n++])];return n&&n===r?t:void 0}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=j(t,e);return null==r?n:r}function E(t,e,n){var r,a,o,i,s,u,c=0,d=!1,p=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=a;return r=a=void 0,c=e,i=t.apply(o,n)}function h(t){return c=t,s=setTimeout(m,e),d?f(t):i}function g(t){var n=t-u;return void 0===u||n>=e||n<0||p&&t-c>=o}function m(){var t=Date.now();if(g(t))return b(t);s=setTimeout(m,function(t){var n=t-c,r=e-(t-u);return p?Math.min(r,o-n):r}(t))}function b(t){return s=void 0,l&&r?f(t):(r=a=void 0,i)}function y(){for(var t=Date.now(),n=g(t),o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];if(r=Array.prototype.slice.call(c),a=this,u=t,n){if(void 0===s)return h(u);if(p)return s=setTimeout(m,e),f(u)}return void 0===s&&(s=setTimeout(m,e)),i}return e=+e||0,v(n)&&(d=!!n.leading,o=(p="maxWait"in n)?Math.max(+n.maxWait||0,e):o,l="trailing"in n?!!n.trailing:l),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=a=s=void 0},y.flush=function(){return void 0===s?i:b(Date.now())},y}function U(t,e){if(t||(t=w(e)?[]:{}),h(e))for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(e[n])?U(t[n],e[n]):e[n]);return t}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(U,e[0])}function M(t,e,n,r){if("function"==typeof r){var a=r(t,e,n);if(void 0!==a)return a}if(t||(t=w(e)?[]:{}),h(e)){for(var o in e)e.hasOwnProperty(o)&&(t[o]=M(t[o],e[o],o,r));return t}return n?e:t}function H(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r?(e.pop(),e.reduce((function(t,e){return M(t,e,"",r)}),e[0])):N.apply(void 0,e)}var q=n(0),K=n.n(q);function V(t){return m(t)&&1===t.length}function F(t,e){return t=P(t),e.encode?encodeURIComponent(t):t}function W(t,e){return e.decode&&null!=t?(t=t.replace(/\+/g," "),decodeURIComponent(t)):t}function G(t,e){return void 0===t||e.skipNull&&null===t||e.skipEmptyString&&""===t}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=",n=t.indexOf(e);return""===e||-1===n?[t]:[t.substring(0,n),t.substring(n+1)]}function $(t,e,n,r){return t.filter((function(t){return!G(t,r)})).map((function(t,a){return n(e,t,a,r)})).join("&")}function Y(t,e,n){return null!==e?"".concat(F(t,n),"=").concat(F(e,n)):"".concat(F(t,n))}function J(t,e){return e.parseBoolean&&null!=t&&["true","false"].includes(t.toLowerCase())&&(t="true"===t.toLowerCase()),e.parseNumber&&null!=t&&!Number.isNaN(Number(t))&&Number.isFinite(Number(t))&&"string"==typeof t&&""!==t.trim()&&(t=+t),t}function Q(t,e){if(!h(t))throw new TypeError("Expect a Object");if(!V((e=Object.assign({encode:!0,queryFormat:"none",queryFormatSeparator:",",parseFormat:"array",parseFormatSeparator:",",skipNull:!1,skipEmptyString:!1},e)).queryFormatSeparator)||!V(e.parseFormatSeparator))throw new TypeError("Separator should be a single character");for(var n=[],r=function(t){var e,n=t.queryFormat,r=t.queryFormatSeparator,a=t.parseFormat,o=t.parseFormatSeparator;switch(n){case"bracket":e=function(t,e,n,r){return null===e?"".concat(F(t,r),"[]"):"".concat(F(t,r),"[]=").concat(F(e,r))};break;case"index":e=function(t,e,n,r){return null===e?"".concat(F(t,r),"[").concat(n,"]"):"".concat(F(t,r),"[").concat(n,"]=").concat(F(e,r))};break;case"separator":return"string"===a?function(e,n){var a=m(n)?n.split(o):[];if(a.length>1){var i=a.filter((function(t){return null!=t&&""!==t})).map((function(e){return F(e,t)})).join(r);return"".concat(F(e,t),"=").concat(i)}return Y(e,n,t)}:function(e,n){if(Array.isArray(n)){var a=n.filter((function(t){return null!=t&&""!==t})).map((function(e){return F(e,t)})).join(r);return a?"".concat(F(e,t),"=").concat(a):""}return Y(e,n,t)};default:e=function(t,e,n,r){return null===e?"".concat(F(t,r)):"".concat(F(t,r),"=").concat(F(e,r))}}return"string"===a?function(t,e){return function(n,r){var a=m(r)?r.split(e.parseFormatSeparator):[];return a.length>1?$(a,n,t,e):Y(n,r,e)}}(e,t):function(t,e){return function(n,r){return Array.isArray(r)?$(r,n,t,e):Y(n,r,e)}}(e,t)}(e),a=0,o=Object.entries(t);a<o.length;a++){var i=K()(o[a],2),s=i[0],u=i[1];if(!G(u,e)&&null!=s){var c=r(s,u);c&&n.push(c)}}return n.join("&")}function Z(t,e){if(!h(t))throw new TypeError("Expect a Object");e=Object.assign({encode:!0},e);var n,r,a=t.url,o=t.query,i=t.hash,s=void 0===i?"":i,u=z(a,"#"),c=K()(u,2);a=c[0],r=c[1];var d=z(a,"?"),p=K()(d,2);if(a=p[0],void 0!==(n=p[1])){var l=X(n);o=h(o)?Object.assign({},l,o):l}return h(o)&&(o=Q(o,e)),o=o?"?".concat(o):"",s?s=e.encode?"#".concat(F(s,{encode:!0})):"#".concat(s):r&&(s="#".concat(r)),"".concat(a).concat(o).concat(s)}function X(t,e){if(!m(t))throw new TypeError("Expected a string");if(!V((e=Object.assign({decode:!0,queryFormat:"none",queryFormatSeparator:",",parseFormat:"array",parseFormatSeparator:",",rewrite:!1,parseNumber:!1,parseBoolean:!1},e)).queryFormatSeparator)||!V(e.parseFormatSeparator))throw new TypeError("Separator should be a single character");var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!m(t))return"";var e=(t=et(t)).indexOf("?");return-1!==e?t.substring(e+1):t}(t),r={},a=function(t){var e=t.queryFormat,n=t.queryFormatSeparator;switch(e){case"bracket":return function(e,n,r){var a=/(\[\])$/.exec(e);if(n=W(n,t),a){var o=r[e=e.replace(/(\[\])$/,"")];r[e]=o?[].concat(o,n):[n]}else r[e]=n};case"index":return function(e,n,r){var a=/\[(\d*)\]$/.exec(e);if(n=W(n,t),a)return r[e=e.replace(/\[(\d*)\]$/,"")]=r[e]||[],void(r[e][a[1]]=n);r[e]=n};case"separator":return function(e,r,a){var o=r?r.split(n):[""];o.length>1?a[e]=o.map((function(e){return W(e,t)})):a[e]=W(r,t)};default:return function(e,n,r){var a=r[e];n=W(n,t),r[e]=void 0!==a?[].concat(a,n):n}}}(e);n.split("&").forEach((function(t){var n,o=z(t,"="),i=K()(o,2),s=i[0],u=i[1],c=void 0===u?null:u;(m(n=s)?""!==n.trim():n)&&(s=W(s,e),a(s,c,r))}));var o=function(t){var e=t.parseFormat,n=t.parseFormatSeparator,r=t.rewrite;switch(e){case"array":return function(e,n,r){Array.isArray(n)?r[e]=n.filter((function(t){return void 0!==t})).map((function(e){return J(e,t)})):r[e]=J(n,t)};case"string":return function(e,a,o){if(Array.isArray(a))return a=a.filter((function(t){return void 0!==t})),void(o[e]=r?J(a.pop(),t):a.join(n));o[e]=J(a,t)}}}(e);return Object.entries(r).forEach((function(t){var e=K()(t,2),n=e[0],a=e[1];o(n,a,r)})),r}function tt(t,e){if(!m(t))throw new TypeError("Expected a string");e=Object.assign({decode:!0},e);var n=z(t,"#"),r=K()(n,2),a=r[0],o=r[1],i=void 0===o?"":o,s=z(a,"?"),u=K()(s,2),c=u[0],d=u[1],p=void 0===d?"":d;return{url:c,path:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!m(t))return"";var e=t.replace(/(http|https)?:?\/\//,""),n=e.indexOf("/");return-1!==n?e.substring(n):""}(c),query:p=X(p,e),hash:W(i,e)}}function et(t){return z(t,"#")[0]}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t=parseFloat(t),isNaN(t))throw"TypeError";if(n)return Number(t.toFixed(e));var r=(t=t.toString()).indexOf(".");return t=-1!==r?t.substring(0,e+r+1):t.substring(0),Number(parseFloat(t).toFixed(e))}var rt=n(2),at=n.n(rt),ot=n(3),it=n.n(ot);function st(t){return pt.isArray(t)?Promise.all(t.map((function(t){return new Promise((function(e){t.then((function(t){e({status:"fulfilled",value:t})})).catch((function(t){e({status:"rejected",reason:t})}))}))}))):Promise.reject(new TypeError("arguments must be an iterator"))}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;if("[object Promise]"!==Object.prototype.toString.call(t))throw new TypeError("Expected a promise");function n(t){return new Promise((function(e,n){setTimeout((function(){n({err:"运行超时"})}),t)}))}return Promise.race([n(e),t])}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(!pt.isFunction(t))throw new TypeError("func must be a function");var r,a=Symbol(),o=Symbol(),i=a,s=pt.assign({isReusePromise:!0,isResolveForever:!1,defaultValue:null,cacheResultExcepted:o},e),u=s.isReusePromise,c=s.defaultValue,d=s.isResolveForever,p=s.cacheResultExcepted;return function(){var e=i!==a;if(e||r&&u)return e?Promise.resolve(i):r;for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(r=t.apply(n,s)).then((function(t){return t!==p?i=t:r=null,Promise.resolve(t)})).catch((function(t){return d?Promise.resolve(c||t):Promise.reject(c||t)}))}}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=pt.deepAssign({times:1,time:0,resultValidator:function(){return!0}},e),a=r.times,o=r.time,i=r.resultValidator;return it()(at.a.mark((function e(){var r,s,u,c,d=arguments;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=d.length,s=new Array(r),u=0;u<r;u++)s[u]=d[u];case 1:return e.prev=1,e.next=4,t.apply(n,s);case 4:if(c=e.sent,i(c)){e.next=7;break}throw c;case 7:return e.abrupt("return",c);case 10:if(e.prev=10,e.t0=e.catch(1),a){e.next=16;break}throw e.t0;case 16:if(!o){e.next=19;break}return e.next=19,pt.sleep(o);case 19:if(a--){e.next=1;break}case 20:case"end":return e.stop()}}),e,null,[[1,10]])})))}var pt=e.default=Object.assign({},r,a,i,o,s,u,{get:R,throttle:function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return v(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),E(t,e,{leading:r,maxWait:e,trailing:a})},debounce:E,forEach:function(t,e){var n=this;if(!w(t)&&!h(t))return t;var r=w(t)?t:Object.keys(t),a=w(t)?function(t){return t}:function(t,e){return e[t]};return Array.prototype.forEach.call(r,(function(r){var o=a.call(n,r,t);y(e)&&e.call(n,o,r,t)})),t},map:D,unset:function(t,e){if(!t||!e)return!0;var n=e in t?[e]:e.match(/[^.[\]]+/g),r=n.length<2?t:R(t,n.slice(0,-1),null),a=n[n.length-1];return null===r||delete r[a]},toString:P})}])},function(t,e,n){"use strict";n.r(e),n.d(e,"AmuNamespace",(function(){return s}));var r=n(11),o=n(13),i=n(14),s=function(){function t(){m(this,t)}return p(t,[{key:"eventHub",get:function(){return this._eventHub||(this._eventHub=o.eventHub),this._eventHub}},{key:"storeManager",get:function(){return this._storeManager||(this._storeManager=new i.StoreManager),this._storeManager}},{key:"globalData",get:function(){return this._globalData||(this._globalData=r.globalData),this._globalData}},{key:"extraGlobalData",get:function(){return this._extraGlobalData||(this._extraGlobalData={}),this._extraGlobalData}},{key:"externalPageBehaviors",get:function(){return this._externalPageBehaviors||(this._externalPageBehaviors={before:[],after:[]}),this._externalPageBehaviors}},{key:"externalComponentBehaviors",get:function(){return this._externalComponentBehaviors||(this._externalComponentBehaviors={before:[],after:[]}),this._externalComponentBehaviors}}],[{key:"sharedInstance",get:function(){return a.amu||(a.amu=new this),a.amu}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"compareVersion",(function(){return u})),n.d(e,"getSign",(function(){return c})),n.d(e,"isSimulator",(function(){return p})),n.d(e,"getProjectKeyAndPageId",(function(){return l})),n.d(e,"getPageKey",(function(){return f})),n.d(e,"checkInvalidResponseData",(function(){return h}));var r=n(9),a=n.n(r),o=n(1),i=n(0),s=n.n(i);function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var r=0;r<n;r++){var a=parseInt(t[r],10),o=parseInt(e[r],10);if(a>o)return 1;if(a<o)return-1}return 0}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t).sort(),n="";return e.forEach((function(e){n+=e+"="+t[e]})),a()(n)}function p(){var t=o.AmuNamespace.sharedInstance.globalData;return!(!t.simulatorProxyAPI||!t.simulatorOrigin)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("_"),n=d(e,2),r=n[0],a=n[1],o=(r||"").split("-"),i=d(o,2),s=i[0],u=i[1];return{projectKey:(s||"")+(a?"_":"")+(a||""),pageId:u||""}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(t||"").split("_"),a=d(r,2),o=a[0],i=a[1],s=i&&n?"preOnline":i;return o+"-"+e+(s?"_"+s:"")}function h(t){var e={};return e.isInvalid=0!=+s.a.get(t,"data.errNo")&&0!=+s.a.get(t,"data.status")&&0!=+s.a.get(t,"data.code"),e.isInvalid&&(e.msg=s.a.get(t,"data.errMsg",s.a.get(t,"data.msg","invalid data"))),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"swanp",(function(){return o}));var r=n(4);n.d(e,"promisify",(function(){return r.promisify}));var o=Object(r.promisifyAll)(a);o.getBDUSS=Object(r.promisify)(a.getBDUSS),o.getUnionBDUSS=Object(r.promisify)(a.getUnionBDUSS),o.getCommonSysInfo=Object(r.promisify)(a.getCommonSysInfo),o.getLoginCode=Object(r.promisify)(a.getLoginCode),o.openBdboxWebview=Object(r.promisify)(a.openBdboxWebview),o.addFavor=Object(r.promisify)(a.addFavor)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":l(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0});var a,o=(a={},["request","uploadFile","downloadFile","connectSocket","sendSocketMessage","closeSocket","ai.ocrIdCard","ai.ocrBankCard","ai.ocrDrivingLicense","ai.ocrVehicleLicense","ai.textReview","ai.textToAudio","ai.imageAudit","ai.advancedGeneralIdentify","ai.objectDetectIdentify","ai.carClassify","ai.dishClassify","ai.animalClassify","ai.plantClassify","ai.faceDetect","ai.faceMatch","ai.faceSearch","ai.facePersonVerify","ai.facePersonIdmatch","ai.faceLivenessSessioncode","ai.nlpLexerCustom","setInnerAudioOption","chooseVideo","saveVideoToPhotosAlbum","saveFile","getFileInfo","getSavedFileList","getSavedFileInfo","removeSavedFile","openDocument","setStorage","getStorage","getStorageInfo","removeStorage","clearStorage","getLocation","chooseLocation","openLocation","canvasGetImageData","canvasPutImageData","canvasToTempFilePath","showToast","showLoading","showModal","showActionSheet","setNavigationBarTitle","setNavigationBarColor","setTabBarBadge","removeTabBarBadge","showTabBarRedDot","hideTabBarRedDot","setTabBarStyle","setTabBarItem","showTabBar","hideTabBar","navigateTo","redirectTo","switchTab","reLaunch","pageScrollTo","setBackgroundColor","setBackgroundTextStyle","startPullDownRefresh","showFavoriteGuide","getSystemInfo","getNetworkType","startAccelerometer","stopAccelerometer","startCompass","stopCompass","startDeviceMotionListening","stopDeviceMotionListening","getBatteryInfo","scanCode","setScreenBrightness","getScreenBrightness","setKeepScreenOn","vibrateLong","vibrateShort","addPhoneContact","makePhoneCall","setClipboardData","getClipboardData","login","checkSession","authorize","getSwanId","getUserInfo","openSetting","getSetting","openShare","shareFile","chooseAddress","requestPolymerPayment","openCommunityEditor","closeCommunityEditor","openReplyEditor","closeReplyEditor","chooseInvoiceTitle","navigateToSmartProgram","navigateBackSmartProgram","setPageInfo","setMetaDescription","setMetaKeywords","setDocumentTitle","loadSubPackage"].forEach((function(t){a[t]=!0})),a);function i(t){return function(e){for(var n,r=arguments.length,a=new Array(1<r?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];e=e||{};var i=Object.assign({},e),s=new Promise((function(r,o){["fail","success","complete"].forEach((function(t){i[t]=function(n){try{e[t]&&e[t](n)}catch(n){}"success"===t?r(n):"fail"===t&&o(n)}})),n=t.apply(null,[i].concat(a))}));return s.returnValue=n,s}}function s(t,e,n,r){n="function"==typeof r&&o[n],t[e]=n?i(r):r}e.addAsyncAPIs=function(t){t.forEach((function(t){o[t]=!0}))},e.promisify=i,e.promisifyAll=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){var a=t[n];"object"===r(a)?(e[n]=e[n]||{},Object.keys(a).forEach((function(t){var r=a[t],o="".concat(n,".").concat(t);s(e[n],t,o,r)}))):s(e,n,n,a)})),e},e.removeAsyncAPIs=function(t){t.forEach((function(t){delete o[t]}))}},function(t,e,n){(function(t,n){var r=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var i="object"==(void 0===t?"undefined":l(t))&&t&&t.Object===Object&&t,s="object"==(void 0===c?"undefined":l(c))&&c&&c.Object===Object&&c,u=i||s||Function("return this")(),d=e&&!e.nodeType&&e,p=d&&"object"==(void 0===n?"undefined":l(n))&&n&&!n.nodeType&&n,f=p&&p.exports===d,h=f&&i.process,g=function(){try{return p&&p.require&&p.require("util").types||h&&h.binding&&h.binding("util")}catch(t){}}(),m=g&&g.isTypedArray;function v(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var b,y,w,x=Array.prototype,S=Function.prototype,k=Object.prototype,_=u["__core-js_shared__"],C=S.toString,I=k.hasOwnProperty,T=(b=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",D=k.toString,L=C.call(Object),P=RegExp("^"+C.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=f?u.Buffer:void 0,B=u.Symbol,O=u.Uint8Array,j=(A&&A.allocUnsafe,y=Object.getPrototypeOf,w=Object,function(t){return y(w(t))}),R=Object.create,E=k.propertyIsEnumerable,U=x.splice,N=B?B.toStringTag:void 0,M=function(){try{var t=at(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),H=A?A.isBuffer:void 0,q=Math.max,K=Date.now,V=at(u,"Map"),F=at(Object,"create"),W=function(){function t(){}return function(e){if(!mt(e))return{};if(R)return R(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function G(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Y(t){var e=this.__data__=new z(t);this.size=e.size}function J(t,e,n){(void 0!==n&&!ct(t[e],n)||void 0===n&&!(e in t))&&X(t,e,n)}function Q(t,e,n){var r=t[e];I.call(t,e)&&ct(r,n)&&(void 0!==n||e in t)||X(t,e,n)}function Z(t,e){for(var n=t.length;n--;)if(ct(t[n][0],e))return n;return-1}function X(t,e,n){"__proto__"==e&&M?M(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function tt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":N&&N in Object(t)?function(t){var e=I.call(t,N),n=t[N];try{t[N]=void 0;var r=!0}catch(t){}var a=D.call(t);return r&&(e?t[N]=n:delete t[N]),a}(t):function(t){return D.call(t)}(t)}function et(t){return vt(t)&&"[object Arguments]"==tt(t)}function nt(t,e,n,r,a){t!==e&&function(t,e,n){for(var r=-1,a=Object(t),o=n(t),i=o.length;i--;){var s=o[++r];if(!1===e(a[s],s))break}}(e,(function(o,i){if(a||(a=new Y),mt(o))!function(t,e,n,r,a,o,i){var s=st(t,n),u=st(e,n),c=i.get(u);if(c)J(t,n,c);else{var d,p,l,f,h,g=o?o(s,u,n+"",t,e,i):void 0,m=void 0===g;if(m){var v=pt(u),b=!v&&ft(u),y=!v&&!b&&bt(u);g=u,v||b||y?pt(s)?g=s:vt(h=s)&&lt(h)?g=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(s):b?(m=!1,g=function(t,e){return t.slice()}(u)):y?(m=!1,f=new(l=(d=u).buffer).constructor(l.byteLength),new O(f).set(new O(l)),p=f,g=new d.constructor(p,d.byteOffset,d.length)):g=[]:function(t){if(!vt(t)||"[object Object]"!=tt(t))return!1;var e=j(t);if(null===e)return!0;var n=I.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==L}(u)||dt(u)?(g=s,dt(s)?g=function(t){return function(t,e,n,r){var a=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],u=void 0;void 0===u&&(u=t[s]),a?X(n,s,u):Q(n,s,u)}return n}(t,yt(t))}(s):mt(s)&&!ht(s)||(g=function(t){return"function"!=typeof t.constructor||it(t)?{}:W(j(t))}(u))):m=!1}m&&(i.set(u,g),a(g,u,r,o,i),i.delete(u)),J(t,n,g)}}(t,e,i,n,nt,r,a);else{var s=r?r(st(t,i),o,i+"",t,e,a):void 0;void 0===s&&(s=o),J(t,i,s)}}),yt)}function rt(t,e){var n,r,a=t.__data__;return("string"==(r=l(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function at(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!mt(t)||function(t){return!!T&&T in t}(t))&&(ht(t)?P:r).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function ot(t,e){var n=void 0===t?"undefined":l(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&a.test(t))&&t>-1&&t%1==0&&t<e}function it(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||k)}function st(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}G.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},G.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},G.prototype.get=function(t){var e=this.__data__;if(F){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return I.call(e,t)?e[t]:void 0},G.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:I.call(e,t)},G.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=F&&void 0===e?"__lodash_hash_undefined__":e,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(t){var e=this.__data__,n=Z(e,t);return!(n<0||(n==e.length-1?e.pop():U.call(e,n,1),--this.size,0))},z.prototype.get=function(t){var e=this.__data__,n=Z(e,t);return n<0?void 0:e[n][1]},z.prototype.has=function(t){return Z(this.__data__,t)>-1},z.prototype.set=function(t,e){var n=this.__data__,r=Z(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},$.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(V||z),string:new G}},$.prototype.delete=function(t){var e=rt(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return rt(this,t).get(t)},$.prototype.has=function(t){return rt(this,t).has(t)},$.prototype.set=function(t,e){var n=rt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new z,this.size=0},Y.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Y.prototype.get=function(t){return this.__data__.get(t)},Y.prototype.has=function(t){return this.__data__.has(t)},Y.prototype.set=function(t,e){var n=this.__data__;if(n instanceof z){var r=n.__data__;if(!V||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $(r)}return n.set(t,e),this.size=n.size,this};var ut=function(t){var e=0,n=0;return function(){var r=K(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(M?function(t,e){return M(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:St);function ct(t,e){return t===e||t!=t&&e!=e}var dt=et(function(){return arguments}())?et:function(t){return vt(t)&&I.call(t,"callee")&&!E.call(t,"callee")},pt=Array.isArray;function lt(t){return null!=t&&gt(t.length)&&!ht(t)}var ft=H||function(){return!1};function ht(t){if(!mt(t))return!1;var e=tt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function mt(t){var e=void 0===t?"undefined":l(t);return null!=t&&("object"==e||"function"==e)}function vt(t){return null!=t&&"object"==(void 0===t?"undefined":l(t))}var bt=m?function(t){return function(e){return t(e)}}(m):function(t){return vt(t)&&gt(t.length)&&!!o[tt(t)]};function yt(t){return lt(t)?function(t,e){var n=pt(t),r=!n&&dt(t),a=!n&&!r&&ft(t),o=!n&&!r&&!a&&bt(t),i=n||r||a||o,s=i?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ot(c,u))||s.push(c);return s}(t):function(t){if(!mt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=it(t),n=[];for(var r in t)("constructor"!=r||!e&&I.call(t,r))&&n.push(r);return n}(t)}var wt,xt=(wt=function(t,e,n){nt(t,e,n)},function(t,e){return ut(function(t,e,n){return e=q(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=q(r.length-e,0),i=Array(o);++a<o;)i[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(i),v(t,this,s)}}(t,void 0,St),t+"")}((function(t,e){var n=-1,r=e.length,a=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(a=wt.length>3&&"function"==typeof a?(r--,a):void 0,o&&function(t,e,n){if(!mt(n))return!1;var r=void 0===e?"undefined":l(e);return!!("number"==r?lt(n)&&ot(e,n.length):"string"==r&&e in n)&&ct(n[e],t)}(e[0],e[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++n<r;){var i=e[n];i&&wt(t,i,n)}return t})));function St(t){return t}n.exports=xt}).call(this,n(24),n(28)(t))},function(t,e,n){"use strict";n.r(e),n.d(e,"LINK_TYPE",(function(){return u})),n.d(e,"NAVIGATE_PARAMS_KEY",(function(){return c})),n.d(e,"navigateToWebView",(function(){return d})),n.d(e,"navigateToSmartProgram",(function(){return p})),n.d(e,"openBdboxWebview",(function(){return l})),n.d(e,"navigateTo",(function(){return f})),n.d(e,"navigate",(function(){return h}));var r=n(0),a=n.n(r),o=n(3),i=n(1),s=n(2),u={PAGE:0,SMART_PROGRAM:1,WEB_VIEW:3,BD_BOX_WEB_VIEW:5,PROJECT_PAGE:6,TAB_BAR_PAGE:7},c="amuOptions";function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.AmuNamespace.sharedInstance.globalData,r=a.a.stringifyURL({url:n.webViewPagePath||"dynamicLib://"+n.amuHost.name+"/pages/web-view/index",query:a.a.assign({},e,{url:t})});return o.swanp.navigateTo({url:r})}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.swanp.navigateToSmartProgram(Object.assign({appKey:t,path:a.a.stringifyURL({url:e,query:n},i)},r))}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v11",r=a.a.parseURL(t).query.token||e.token;Object.keys(e).forEach((function(t){var n=e[t];r&&n&&("url"===t||"query"===t)&&n.startsWith("https://m.baidu.com")&&n.includes("!(token)")&&(e[t]=n.replace("!(token)",encodeURIComponent(r)))}));var i={path:t,authority:n,parameters:e},s=/^\/[v][0-9]{1,9}\//;return s.test(t)&&(i.path=t.replace(s,"/"),i.authority=(s.exec(t)[0]||"").replace(/\//g,"")),o.swanp.openBdboxWebview(i)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.swanp.navigateTo({url:a.a.stringifyURL({url:t,query:e})})}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e=i.AmuNamespace.sharedInstance.globalData,n=a.a.get(e,"currentPage.options",{}),r=JSON.parse(a.a.get(e,"currentPage.options['"+c+"']","{}")),h=a.a.get(e,"currentPage.pageData.name",r.projectName),m=n.pageKey||n.pageSource||r.pageKey,v=Object.assign({},g({source:e.source,sfrom:e.sfrom},c,a.a.assign({testId:n.testId,source:e.source,sfrom:e.sfrom,pageKey:m,projectName:h,activityId:m,activityName:h,cdVersion:e.amuHost.cdVersion,cdName:e.amuHost.name},a.a.get(t,c,{}))),a.a.parseQuery(a.a.get(t,"linkQuery",""))),b={};if(void 0!==t.isAllQueryEncode&&(b.encode=t.isAllQueryEncode),+t.linkType===u.PAGE)return f(t.linkPath,v);if(+t.linkType===u.SMART_PROGRAM){var y={from:e.sfrom,extraData:{entry_id:"amu_"+m}};return void 0!==t.isQueryDecode&&(y.queryDecode=t.isQueryDecode),p(t.appKey,t.linkPath,v,y,b)}if(+t.linkType===u.WEB_VIEW)return d(t.url,v);if(+t.linkType===u.BD_BOX_WEB_VIEW)return l(t.linkPath,v,t.authority||"v11");if(+t.linkType===u.PROJECT_PAGE){var w=Object(s.getProjectKeyAndPageId)(m),x=w.projectKey,S=a.a.parseURL(t.linkPath),k=Object(s.getProjectKeyAndPageId)(S.query.pageKey),_=k.pageId;return v.pageKey=Object(s.getPageKey)(x,_),f(t.linkPath,v)}return+t.linkType===u.TAB_BAR_PAGE?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.AmuNamespace.sharedInstance.globalData,r=i.AmuNamespace.sharedInstance.extraGlobalData,s=a.a.parseURL(t);return e[c]=JSON.stringify(e[c]||{}),r.fromPage={path:n.currentPage.uri,query:n.currentPage.options},r.toPage={path:s.path,query:a.a.deepAssign({},s.query,e)},o.swanp.switchTab({url:s.path})}(t.linkPath,v):Promise.reject()}catch(t){return Promise.reject()}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":l(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){},u=function(t){return"object"===r(t)?{"[object Object]":"object","[object Array]":"array","[object Null]":"null"}[Object.prototype.toString.call(t)]:r(t)};function c(t,e){if(t=t||("array"===u(e)?[]:{}),"object"===u(e))for(var n in e)e.hasOwnProperty(n)&&(t[n]="object"===u(e[n])?c(t[n],e[n]):e[n]);return t}var d=function(){function t(){a(this,t),this.handlers={}}return i(t,[{key:"getHandlers",value:function(t){return t?this.handlers[t]||[]:this.handlers}},{key:"on",value:function(t,e){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)}},{key:"emit",value:function(t,e){"function"===u(e)?e(t):this.handlers[e]&&this.handlers[e].length&&this.handlers[e].forEach((function(e){return e(t)}))}},{key:"off",value:function(t,e){t||(this.handlers={}),this.handlers[t]=e?this.handlers[t].filter((function(t){return t!==e})):[]}}],[{key:"getInstance",value:function(){return t.instance=t.instance?t.instance:new t}}]),t}(),p=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.state=e.state,this.fields=e.fields||["*"],this.mutations=e.mutations,this.actions=e.actions,this.emitter=new d}return i(t,[{key:"subscribe",value:function(t,e){var n=this;if("object"!==u(t)&&"array"!==u(t)&&"*"!==t)throw new Error("wrong fields from subscribe");var r={fields:"object"===u(t)?Object.values(t):t,handler:e};return this.emitter.on("store",r),function(){n.emitter.off("store",r)}}},{key:"getState",value:function(t){var e=this;return t.match(/\./)?t.split(".").reduce((function(t,n){return t[n]||e.state[n]}),{}):this.state[t]}},{key:"commit",value:function(t,e){var n=this;if(!t||!this.mutations[t])throw new Error("i do not have this mutation");var r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(c,e[0])}({},this.state);this.mutations[t].call(this,this.state,e),this.emitter.getHandlers("store").forEach((function(t){(function t(e,n){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return!!("*"===e||Array.isArray(e)&&e.includes("*"))||n.some((function(n){return!!~e.indexOf(n)||(n.match(/\./)?(n=n.split(".").reduce((function(t,e,n){return e=t.length?t[n-1]+"."+e:e,t.push(e),t}),[]),!!r&&t(e,n,!1)):void 0)}))})(t.fields,function t(e,n){var r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];for(r in e)"object"===u(n[r])&&"object"===u(e[r])?t(n[r],e[r],a+"."+r,o):n[r]!==e[r]&&o.push((a+"."+r).replace(/^\./,""));return o}(r,n.state))&&n.emitter.emit(n.state,t.handler)}))}},{key:"dispatch",value:function(t,e){var n=this;if(!t||!this.actions[t])throw new Error("i do not have this action");this.actions[t].call(this,{state:this.state,commit:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];n.commit.apply(n,[t].concat(r))}},e)}},{key:"unsubscribeAll",value:function(){this.emitter.off()}}]),t}(),f=function(t,e){if(!e)throw new Error("store is empty");return(t.store=e).subscribe(e.fields,(function(n){"object"!==u(e.fields)||(n=Object.keys(e.fields).reduce((function(t,n){return t[n]=e.getState(e.fields[n]),t}),t.data)),t.setData(n)}))};e.connect=function(t,e){return function(n){var r=null,a=null,o=null,i=null;if(t===Page){if(r=n,a="onLoad",o="onUnload",!e)throw new Error("store is empty")}else r=n.lifetimes||{},a="attached",o="detached";var u=e||getCurrentPages().slice(-1)[0].store,c=r[a]||s;r[a]=function(){i=f(this,u);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];c.call.apply(c,[this].concat(e))};var d=r[o]||s;r[o]=function(){i();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];d.call.apply(d,[this].concat(e))},t(n)}},e.createStore=function(t){return new p(t)},e.storeBinding=f},function(t,e,n){"use strict";n.r(e),n.d(e,"SpyClient",(function(){return c})),n.d(e,"spyClient",(function(){return d}));var r=n(0),o=n.n(r),i=n(1),s=n(2),u=n(6),c=function(){function t(){m(this,t)}return p(t,[{key:"sendJSErrorLog",value:function(t){try{var e=this.constructor.formatError(t),n=e.msg,r=e.stack,a=r||n;if(this.jsErrorCache[a])return;this.jsErrorCache[a]=!0,this.sendException("error_js",{msg:n,stack:r})}catch(t){}}},{key:"sendRequestErrorLog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t.includes(this.url)){o.a.unset(n,"header.Cookie"),o.a.unset(r,"header[Set-Cookie]"),o.a.unset(r,"header[set-cookie]"),o.a.unset(r,"data.data");var a=this.constructor.formatError(e),i=a.msg,s=a.stack;this.sendException("error_request",{url:t,msg:i,stack:s,options:n,response:r})}}},{key:"sendPvLog",value:function(){this.sendCount("pv",{pv:1})}},{key:"sendException",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.send("except",t,e,n)}},{key:"sendCount",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.send("count",t,e,n)}},{key:"send",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var c=i.AmuNamespace.sharedInstance.globalData,d=o.a.get(c,"currentPage.options",{}),p=JSON.parse(o.a.get(c,"currentPage.options['"+u.NAVIGATE_PARAMS_KEY+"']","{}")),l=d.pageKey||p.pageKey||d.pageSource;if(Object(s.isSimulator)()||!this.pId||l.includes("_"))return;var f=Object(s.getProjectKeyAndPageId)(l),h=f.projectKey,g=f.pageId,m=o.a.get(c,"currentPage.uri",""),v=c.systemInfo,b=v.os,y=v.env,w=Date.now(),x={pid:this.pId,ts:w,lid:w,type:t,group:e,info:Object.assign({source:c.source,sfrom:c.sfrom,amuHost:c.amuHost,pageOptions:c.currentPage.options,envInfo:c.envInfo},n),dim:o.a.assign({os:b,env:y,appKey:c.envInfo.appKey,project:h,path:m,pageId:g},r)};a.request({url:""+this.host+this.constructor.url+"?"+o.a.stringifyQuery(x),defer:!0,dataType:"no-response",method:"HEAD"})}catch(t){}}},{key:"host",get:function(){return this.constructor.host}},{key:"url",get:function(){return this.constructor.url}},{key:"pId",get:function(){return this._pId},set:function(t){this._pId=t}},{key:"jsErrorCache",get:function(){return this._jsErrorCache||(this._jsErrorCache={}),this._jsErrorCache}}],[{key:"sendJSErrorLog",value:function(t){this.sharedInstance.sendJSErrorLog(t)}},{key:"sendRequestErrorLog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.sharedInstance.sendRequestErrorLog(t,e,n,r)}},{key:"sendPvLog",value:function(){this.sharedInstance.sendPvLog()}},{key:"formatError",value:function(t){var e=void 0,n=void 0;return t instanceof Error||o.a.isPlainObject(t)?(e=(t=JSON.parse(JSON.stringify(t,Object.getOwnPropertyNames(t)))).message||t.errMsg,n=t.stack,t.errCode&&(e=t.errCode+": "+e)):e=t,{msg:e,stack:n}}},{key:"host",get:function(){return this._host||(this._host="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a"),this._host}},{key:"url",get:function(){return this._url||(this._url="/mwb2.gif"),this._url}},{key:"sharedInstance",get:function(){return this._sharedInstance||(this._sharedInstance=new this),this._sharedInstance}}]),t}(),d=c.sharedInstance},function(t,e,n){var r,a,o,i,s;r=n(18),a=n(16).utf8,o=n(19),i=n(16).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?i.stringToBytes(t):a.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=r.bytesToWords(t),u=8*t.length,c=1732584193,d=-271733879,p=-1732584194,l=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var h=s._ff,g=s._gg,m=s._hh,v=s._ii;for(f=0;f<n.length;f+=16){var b=c,y=d,w=p,x=l;c=h(c,d,p,l,n[f+0],7,-680876936),l=h(l,c,d,p,n[f+1],12,-389564586),p=h(p,l,c,d,n[f+2],17,606105819),d=h(d,p,l,c,n[f+3],22,-1044525330),c=h(c,d,p,l,n[f+4],7,-176418897),l=h(l,c,d,p,n[f+5],12,1200080426),p=h(p,l,c,d,n[f+6],17,-1473231341),d=h(d,p,l,c,n[f+7],22,-45705983),c=h(c,d,p,l,n[f+8],7,1770035416),l=h(l,c,d,p,n[f+9],12,-1958414417),p=h(p,l,c,d,n[f+10],17,-42063),d=h(d,p,l,c,n[f+11],22,-1990404162),c=h(c,d,p,l,n[f+12],7,1804603682),l=h(l,c,d,p,n[f+13],12,-40341101),p=h(p,l,c,d,n[f+14],17,-1502002290),c=g(c,d=h(d,p,l,c,n[f+15],22,1236535329),p,l,n[f+1],5,-165796510),l=g(l,c,d,p,n[f+6],9,-1069501632),p=g(p,l,c,d,n[f+11],14,643717713),d=g(d,p,l,c,n[f+0],20,-373897302),c=g(c,d,p,l,n[f+5],5,-701558691),l=g(l,c,d,p,n[f+10],9,38016083),p=g(p,l,c,d,n[f+15],14,-660478335),d=g(d,p,l,c,n[f+4],20,-405537848),c=g(c,d,p,l,n[f+9],5,568446438),l=g(l,c,d,p,n[f+14],9,-1019803690),p=g(p,l,c,d,n[f+3],14,-187363961),d=g(d,p,l,c,n[f+8],20,1163531501),c=g(c,d,p,l,n[f+13],5,-1444681467),l=g(l,c,d,p,n[f+2],9,-51403784),p=g(p,l,c,d,n[f+7],14,1735328473),c=m(c,d=g(d,p,l,c,n[f+12],20,-1926607734),p,l,n[f+5],4,-378558),l=m(l,c,d,p,n[f+8],11,-2022574463),p=m(p,l,c,d,n[f+11],16,1839030562),d=m(d,p,l,c,n[f+14],23,-35309556),c=m(c,d,p,l,n[f+1],4,-1530992060),l=m(l,c,d,p,n[f+4],11,1272893353),p=m(p,l,c,d,n[f+7],16,-155497632),d=m(d,p,l,c,n[f+10],23,-1094730640),c=m(c,d,p,l,n[f+13],4,681279174),l=m(l,c,d,p,n[f+0],11,-358537222),p=m(p,l,c,d,n[f+3],16,-722521979),d=m(d,p,l,c,n[f+6],23,76029189),c=m(c,d,p,l,n[f+9],4,-640364487),l=m(l,c,d,p,n[f+12],11,-421815835),p=m(p,l,c,d,n[f+15],16,530742520),c=v(c,d=m(d,p,l,c,n[f+2],23,-995338651),p,l,n[f+0],6,-198630844),l=v(l,c,d,p,n[f+7],10,1126891415),p=v(p,l,c,d,n[f+14],15,-1416354905),d=v(d,p,l,c,n[f+5],21,-57434055),c=v(c,d,p,l,n[f+12],6,1700485571),l=v(l,c,d,p,n[f+3],10,-1894986606),p=v(p,l,c,d,n[f+10],15,-1051523),d=v(d,p,l,c,n[f+1],21,-2054922799),c=v(c,d,p,l,n[f+8],6,1873313359),l=v(l,c,d,p,n[f+15],10,-30611744),p=v(p,l,c,d,n[f+6],15,-1560198380),d=v(d,p,l,c,n[f+13],21,1309151649),c=v(c,d,p,l,n[f+4],6,-145523070),l=v(l,c,d,p,n[f+11],10,-1120210379),p=v(p,l,c,d,n[f+2],15,718787259),d=v(d,p,l,c,n[f+9],21,-343485551),c=c+b>>>0,d=d+y>>>0,p=p+w>>>0,l=l+x>>>0}return r.endian([c,d,p,l])})._ff=function(t,e,n,r,a,o,i){var s=t+(e&n|~e&r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},s._gg=function(t,e,n,r,a,o,i){var s=t+(e&r|n&~r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},s._hh=function(t,e,n,r,a,o,i){var s=t+(e^n^r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},s._ii=function(t,e,n,r,a,o,i){var s=t+(n^(e|~r))+(a>>>0)+i;return(s<<o|s>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(s(t,e));return e&&e.asBytes?n:e&&e.asString?i.bytesToString(n):r.bytesToHex(n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"AMU_HOST_TYPE",(function(){return r}));var r={DYNAMIC_LIB:1,SWAN_ORIGIN:2,DEPENDENCY:3}},function(t,e,n){"use strict";n.r(e),n.d(e,"globalData",(function(){return s})),n.d(e,"initGlobalDataForSimulator",(function(){return u}));var r=n(8),o=n(0),i=n.n(o),s={get systemInfo(){return this._systemInfo&&this._systemInfo.host||(this._systemInfo=function(){try{return a.getSystemInfoSync()}catch(t){return null}}(),function(t){if(t){t.isWeb="web"===t.platform;var e=(t.system||"").toLowerCase();e.includes("android")?(t.os="android",t.isAndroid=!0):e.includes("ios")&&(t.os="ios",t.isIOS=!0),t.env="swan",t.isWeb&&(t.env=t.os?"h5":"pc",t.isPC="pc"===t.env),c(t)}}(this._systemInfo)),this._systemInfo||{}},get envInfo(){return this._envInfo&&this._envInfo.appKey||(this._envInfo=function(){try{var t=a.getEnvInfoSync();if(t instanceof Error)throw t;if(!i.a.get(t,"appKey")&&i.a.get(t,"lastAppURL")){var e=i.a.get(t,"lastAppURL","").match(/\/\/swan\/([^\/]+)\//);t.appKey=e&&e[1]}if(t&&!t.appKey)throw new Error(JSON.stringify(t));return t}catch(t){return r.spyClient.sendJSErrorLog({message:t&&t.message||"swan.getEnvInfoSync() failed",stack:"swan.getEnvInfoSync() failed\ngetEnvInfoSync"}),null}}()),this._envInfo||{}},commonSysInfo:null,pageDataPromiseCache:{},currentPage:{options:{},uri:""},host:"https://minipro.baidu.com",oldHost:"https://mbd.baidu.com",amuHost:{name:"",cdVersion:"",type:n(10).AMU_HOST_TYPE.DYNAMIC_LIB},dynamicLib:{get name(){return a.amu.globalData.amuHost.name},set name(t){a.amu.globalData.amuHost.name=t},get cdVersion(){return a.amu.globalData.amuHost.cdVersion},set cdVersion(t){a.amu.globalData.amuHost.cdVersion=t}},webViewPagePath:"",source:"",sfrom:"",simulatorOrigin:"",simulatorProxyAPI:"",simulatorAmuComponentDynamicLibPrefixPath:"",isDevEditor:!1};function u(t){var e=t.deviceInfo,n=void 0===e?{}:e,r=t.systemInfo,o=void 0===r?{}:r,i=t.envInfo,s=void 0===i?{}:i,u=t.simulatorOrigin,d=void 0===u?"":u,p=t.simulatorProxyAPI,l=void 0===p?"/api/proxy/index":p,f=t.simulatorAmuComponentDynamicLibPrefixPath,h=void 0===f?"":f,g=t.isDevEditor,m=void 0!==g&&g,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.amu.globalData;v.systemInfo.isWeb&&(Object.assign(v.systemInfo,o),Object.assign(v.envInfo,s),v.simulatorOrigin=d,v.simulatorProxyAPI=l,v.simulatorAmuComponentDynamicLibPrefixPath=h,v.isDevEditor=m,c(v.systemInfo,n))}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){+e.width&&(t.screenWidth=t.windowWith=+e.width),+e.height&&(t.screenHeight=t.screenHeight=+e.height),+e.statusBarHeight>=0&&(t.statusBarHeight=+e.statusBarHeight),+e.navigationBarHeight>=0&&(t.navigationBarHeight=+e.navigationBarHeight),t.navigationBarAndStatusBarHeight=t.navigationBarHeight+t.statusBarHeight;var n=+e.bottomSafeAreaHeight>=0?+e.bottomSafeAreaHeight:44===t.statusBarHeight?34:0;t.safeArea=Object.assign({left:0,top:t.statusBarHeight,right:t.screenWidth,height:t.screenHeight-t.statusBarHeight-n,bottom:t.screenHeight-n},t.safeArea),t.bottomSafeAreaHeight=t.screenHeight-t.safeArea.bottom}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var i=function(){function t(){r(this,t),this.queueSet={}}return o(t,[{key:"get",value:function(t){return this.queueSet[t]||(this.queueSet[t]=[]),this.queueSet[t]}},{key:"pushTo",value:function(t,e){this.get(t).push(e)}},{key:"has",value:function(t){return"[object Array]"===Object.prototype.toString.call(this.queueSet[t])}},{key:"del",value:function(t,e){if("*"===t)this.queueSet={};else if(e){var n=this.get(t).findIndex((function(t){return t.handler===e}));this.queueSet[t].splice(n,1)}else this.queueSet[t]=[]}}]),t}(),s=function(){function t(){r(this,t),this.handlerQueueSet=new i,this.messageQueueSet=new i}return o(t,[{key:"fireMessage",value:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{};if(!t||!t.type)throw new Error("message error");return this.handlerQueueSet.get(t.type)&&(r.notStore||this.messageQueueSet.pushTo(t.type,t),this.handlerQueueSet.get(t.type).forEach((function(e){n._handlerWrapper(e,t.type,t)})),this.handlerQueueSet.get("*").forEach((function(e){n._handlerWrapper(e,"*",t)}))),this}},{key:"onMessage",value:function(t,e,n){var r=this,a=2<arguments.length&&void 0!==n?n:{};if("[object Array]"!==Object.prototype.toString.call(t))return this.handlerQueueSet.pushTo(t,{handler:e,once:a.once}),a.listenPreviousEvent&&this.messageQueueSet.has(t)&&this.messageQueueSet.get(t).forEach((function(t){r._handlerWrapper({handler:e,once:a.once},t.type,t)})),function(){return r.handlerQueueSet.del(t,e)};var o=t.map((function(t){return r.onMessage(t,e,a)}));return function(){return o.forEach((function(t){return t()}))}}},{key:"delHandler",value:function(t){if(!t)throw new Error("wrong type in delHandler");return this.handlerQueueSet.del(t),this}},{key:"_handlerWrapper",value:function(t,e,n){var r=t.handler,a=t.once;return!!r&&(r.call(this,n),a&&this.handlerQueueSet.del(e,r),!0)}}],[{key:"merge",value:function(){for(var e=new t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return[].concat(r).forEach((function(t){t.onMessage("*",(function(t){return e.fireMessage(t)}))})),e}}]),t}();t.exports=s},function(t,e,n){"use strict";n.r(e),n.d(e,"eventHub",(function(){return a}));var r=n(12),a=new(n.n(r).a)},function(t,e,n){"use strict";n.r(e),n.d(e,"StoreManager",(function(){return a}));var r=n(7);n.d(e,"storeBinding",(function(){return r.storeBinding}));var a=function(){function t(){m(this,t)}return p(t,[{key:"initStore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._store||(this._store=Object(r.createStore)(t))}},{key:"storeBinding",value:function(t){if(t&&this.store)return this.store&&this.store.state&&t.setData(this.store.state),Object(r.storeBinding)(t,this.store)}},{key:"store",get:function(){return this._store}}]),t}()},function(t,e,n){"use strict";var r,o,i,s=(r=h(regeneratorRuntime.mark((function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p.AmuNamespace.sharedInstance.globalData.systemInfo.isWeb){t.next=3;break}return t.abrupt("return","");case 3:if(!l||r){t.next=5;break}return t.abrupt("return",l);case 5:return t.next=7,d.swanp.getBDUSS();case 7:return e=t.sent,n=e.bduss,t.abrupt("return",l=n);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return","");case 15:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return r.apply(this,arguments)}),u=(o=h(regeneratorRuntime.mark((function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f||r){t.next=3;break}return t.abrupt("return",f);case 3:return t.next=5,d.swanp.getUnionBDUSS();case 5:return e=t.sent,n=e.bduss,t.abrupt("return",f=n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return","");case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return o.apply(this,arguments)}),c=(i=h(regeneratorRuntime.mark((function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=p.AmuNamespace.sharedInstance.globalData,t.t0=e.commonSysInfo&&!n,t.t0){t.next=7;break}return t.next=6,d.swanp.getCommonSysInfo();case 6:e.commonSysInfo=t.sent;case 7:return t.abrupt("return",e.commonSysInfo);case 10:return t.prev=10,t.t1=t.catch(0),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return i.apply(this,arguments)});n.r(e),n.d(e,"getBDUSS",(function(){return s})),n.d(e,"getUnionBDUSS",(function(){return u})),n.d(e,"getCommonSysInfo",(function(){return c})),n.d(e,"getCommonSysInfoCallback",(function(){return g}));var d=n(3),p=n(1),l="",f="";function g(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=p.AmuNamespace.sharedInstance.globalData;if(n.commonSysInfo&&!e)return t&&t(n.commonSysInfo);a.getCommonSysInfo({success:function(e){n.commonSysInfo=e,t&&t(n.commonSysInfo)},fail:function(){t&&t(n.commonSysInfo||{})}})}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";var r=this;n.r(e),n.d(e,"ubcLogger",(function(){return ot})),n.d(e,"AmuUbcLogger",(function(){return rt})),n.d(e,"amuUbcLogger",(function(){return at}));var i=n(9),s=n.n(i),u=n(20),c=n.n(u),f=n(5),g=n.n(f),v=void 0,b=new Promise((function(t,e){try{wx&&(v=wx,t())}catch(t){e()}})),y=new Promise((function(t,e){try{a&&(v=a,t())}catch(t){e()}})),w=new Promise((function(t,e){try{qq&&(v=qq,t())}catch(t){e()}}));h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.race([b,y,w]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),v=a;case 8:case"end":return t.stop()}}),t,r,[[0,5]])})))();var x=v,S={tiebaclient:"tieba",baidubox:"baiduboxapp",mapmnp:"baidumap"},k=x.getEnvInfoSync&&x.getEnvInfoSync()||{};function _(){if(k){var t=k.scheme;return S[t]||t||"baiduboxapp"}try{if(wx)return"weixin"}catch(t){}try{if(qq)return"qq"}catch(t){}}var C,I,T,D=c()((function(){return Object.assign({},x.getSystemInfoSync(),{appname:_(),appkey:k.lastAppURL&&k.lastAppURL.split("/")[3],env:k.env})})),L=function(t){if(null===t)return String(t);var e={};return"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach((function(t){e["[object "+t+"]"]=t.toLowerCase()})),"object"==(void 0===t?"undefined":l(t))||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":void 0===t?"undefined":l(t)},P={cuid:"BAIDUCUID",bduss:"BDUSS",baidu_id:"BAIDUID",bd_logap_verify:"bd_logap_verify"},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return e&&(t.bd_logap_verify=1),Object.keys(t).forEach((function(e){t[e]&&n.push(P[e]+"="+t[e])})),n.join("; ")},B=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,r){if(!x[t])return r();x[t](Object.assign({},e,{success:n,fail:r}))}))}},O={getCommonSysInfo:B("getCommonSysInfo"),getBDUSS:B("getBDUSS"),request:B("request")},j=D().appname,R=c()(h(regeneratorRuntime.mark((function t(){var e,n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e={}).cuid,a=e.baidu_id,t.prev=1,t.next=4,O.getCommonSysInfo();case 4:o=t.sent,n=o.cuid,a=o.baidu_id,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",{cuid:n,baidu_id:a});case 12:case"end":return t.stop()}}),t,r,[[1,9]])})))),E=(T=h(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.prev=1,t.next=4,O.getBDUSS();case 4:n=t.sent,e=n.bduss,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.abrupt("return",{bduss:e});case 11:case"end":return t.stop()}}),t,r,[[1,8]])}))),function(){return T.apply(this,arguments)}),U=(I=h(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.prev=1,n=Date.now(),t.next=5,O.request({method:"GET",url:"https://www.baidu.com/favicon.ico?from=ubcloggergetbaiduid&_="+n});case 5:a=t.sent,(e=M(a.header["Set-Cookie"]))&&x.setStorageSync("_ug-swan-logger_baiduid",e),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,r,[[1,9]])}))),function(){return I.apply(this,arguments)}),N=c()(h(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=x.getStorageSync("_ug-swan-logger_baiduid")||"",t.t0=e,t.t0){t.next=6;break}return t.next=5,U();case 5:e=t.sent;case 6:return t.abrupt("return",{baidu_id:e});case 7:case"end":return t.stop()}}),t,r)})))),M=function(t){var e="";return t&&(e=/BAIDUID=(.*?);/.exec(t)[1]),e},H=(C=h(regeneratorRuntime.mark((function t(){var e,n,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!["weixin","qq"].includes(j)&&!a){t.next=5;break}return t.next=3,N();case 3:return e=t.sent,t.abrupt("return",(e.baidu_id||U.then((function(t){t&&N.cache.set(void 0,{baidu_id:t})})).catch((function(t){console.log("[ug-swan-logger-error] retry saveOutsideUserID err",t)})),e));case 5:return t.next=7,R();case 7:if(n=t.sent,t.t0=!o,!t.t0){t.next=17;break}return t.t1=Object,t.t2={},t.t3=n,t.next=15,E();case 15:t.t4=t.sent,n=t.t1.assign.call(t.t1,t.t2,t.t3,t.t4);case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,r)}))),function(){return C.apply(this,arguments)}),q={iqiyi:12016,baiduboxapp:1,baiduboxlite:10001,baiduhaokan:11e3,bdminivideo:12002,tieba:11001,baidumap:11006,bdnetdisk:12018,askmybaby:11007,xifan:12006,baiduboxmission:10006,tomas:12117,yymobile:12121,weixin:19999,qq:19998},K={1:{UBC_URL:"https://mbd.baidu.com/tcbox",FELOG_BACKUP_URL:"https://activity.baidu.com/activity/felog/log",DEFAULT_LOG_DATA:{appid:"1",dataid:"2",cateid:"99",actionid:"1",actiontype:"0",actiondata:{id:"0",type:"0",timestamp:0,content:{boxVersion:"-",platform:"-",inBox:1,page:"-",type:"-",value:"-",source:"default",from:"act",ext:{apptype:"-"}}}},DEFAULT_QUERY:{action:"pblog"}},2:{UBC_URL:"https://mbd.baidu.com/ztbox",FELOG_BACKUP_URL:"https://activity.baidu.com/activity/felog/log",DEFAULT_LOG_DATA:{cateid:"99",actiondata:{id:"0",type:"0",timestamp:0,content:{swan_name:"-",page:"-",type:"-",value:"-",source:"default",from:"act",ext:{}}}},DEFAULT_QUERY:{action:"zpblog",v:"2.0",appname:"baiduboxapp",from:"",cfrom:"",smfw:"",sid:"",sn:""}}},V={cateid:"101",data:[]},F={action:"mpblog",v:"2.0",appname:"baiduboxapp",from:"",cfrom:"",smfw:"",sid:"",sn:""},W=function(){function t(e,n){var r=this;m(this,t),this.logMergeOpt=g()({ifAutoMerge:!1,mergeInterval:5,mergeNumMax:5},e||{}),this.sendFn=n,this.mergeLogsList={auto:[],manual:[]},x.onAppHide&&x.onAppHide((function(){r._logAutoMergeEnd("auto"),r._logAutoMergeEnd("manual")}))}return p(t,[{key:"_mergeRealSend",value:function(t){this.sendFn(t)}},{key:"set",value:function(t){this.logMergeOpt.ifAutoMerge&&function(t,e){if(!e||"[object Object]"!==Object.prototype.toString.call(e)||Object.keys(e).length<1)return!1;var n=Object.keys(e),r=!1;return n.forEach((function(n){t[n]&&t[n]!==e[n]&&(r=!0)})),r}(this.logMergeOpt,t)&&(this._logAutoMergeEnd("auto"),this._logAutoMergeEnd("manual")),this.logMergeOpt=g()(this.logMergeOpt,t||{})}},{key:"pushMergeList",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";0===this.mergeLogsList[e].length&&this._setMergeSendTimer(e),this.mergeLogsList[e].push(t),this.mergeLogsList[e].length>=this.logMergeOpt.mergeNumMax&&this._sendMergeLogInterval(e)}},{key:"_sendMergeLogInterval",value:function(t){if(this.mergeLogsList[t].length>0){var e=this.mergeLogsList[t].splice(0);this._mergeRealSend(e)}this._clearMergeSendTimer(t)}},{key:"_setMergeSendTimer",value:function(t){var e=this;this.logMergeOpt[t+"Timer"]||(this.logMergeOpt[t+"Timer"]=setInterval((function(){e._sendMergeLogInterval(t)}),1e3*this.logMergeOpt.mergeInterval))}},{key:"_clearMergeSendTimer",value:function(t){this.logMergeOpt[t+"Timer"]&&(clearInterval(this.logMergeOpt[t+"Timer"]),this.logMergeOpt[t+"Timer"]=null)}},{key:"_logAutoMergeEnd",value:function(t){if(this.mergeLogsList[t].length>0){var e=this.mergeLogsList[t].splice(0);e.length>0&&this._mergeRealSend(e),this._clearMergeSendTimer(t)}}}]),t}(),G={request:B("request")};["weixin","qq"].includes(D().appname)&&H().then().catch();var z=function(){try{if(!o())return;var t=o().globalData;if(t&&t.query&&t.query.idfrom)return t.query.idfrom;if(t&&t.entryType)return t.entryType;if(x.getURLQuery&&getCurrentPages&&getCurrentPages().length>0){var e=x.getURLQuery();if(e&&(e.idfrom||e.source))return e.idfrom||e.source}return}catch(t){return void console.log("[ug-swan-logger-error] getAppQuery err",t)}},$=function(t,e){var n={};return Object.keys(e).forEach((function(t){e[t]&&(n[t]=e[t])})),0===Object.keys(n).length?t:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+(~t.indexOf("?")?"&":"?")+function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return"";var e="";for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];null==r?r="":"object"==(void 0===r?"undefined":l(r))&&(r=JSON.stringify(r)),e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(r)}return e.slice(1)}(e)}(t,n)},Y=function(){var t=getCurrentPages();return(t&&t.length>0&&t[t.length-1]||{}).uri||"unknown"},J=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t),this.ubcParams={},this.logInited=!1,this.sendJobsArr=[],this.sampleConf=g()({},n.sample),this.logBackup=!0===n.logBackup,this.backupUrl=n.backupUrl,this.testMode=n.testMode||!1,this.sourceFrom=n.source||n.idfrom,this.timerMap={},this.timerPagesOpt={},this.pageTimingLogBegin=0,this.pageTimingLogEnd=1,this.launchid="",x.onAppShow&&x.onAppShow((function(t){e.launchid=t.launchId||""})),this.ubcVersion=+n.version||2,this.noUseApiGetUserInfo=n.noUseApiGetUserInfo,this.bdussIgnore=n.bdussIgnore,this.logMergeOpt=n.logMergeOpt||{},2!=+this.ubcVersion&&this.logMergeOpt.ifAutoMerge&&(console.log("[ug-swan-logger-waring] 日志合并配置失败: ubcVersion为2时，支持日志合并"),this.logMergeOpt.ifAutoMerge=!1),this.mergeSend=new W(this.logMergeOpt,(function(t){e._mergeRealSend(t)})),this._initUbcParamsWithVersion(),this._initUbcUrlWithVersion(n),g()(this.ubcParams,{actiondata:{id:n.serverId,content:{source:this.sourceFrom||z(),page:n.page,from:n.from,swan_name:n.swan_name,ext:void 0!==n.ext&&"object"===L(n.ext)?n.ext:{}}}}),this._ifSwanReport=!(!1===n.ifSwanReport),this._checkServerId(),this.logErrRetry=!0===n.logErrRetry,this._retryLogMap=new Map,this._retryTimesMax=3,this._retryListMax=5,this._retryIntervalTimer=null,this._retryDelayMapConf={1:1,2:5,3:10+Math.round(5*Math.random())},this._bindErrLogPageEvt=!1,this.logErrRetry&&this._initErrLogs()}var e,n,r,a,o,i,u;return p(t,[{key:"_initErrLogs",value:function(){var t=this,e=x.getStorageSync("LOGGER_RETRY_LOG_LIST")||[];this._retryLogMap=new Map(e.map((function(e){return[e[0],Object.assign({},e[1],{failTimes:1,sendCountDown:t._retryDelayMapConf[1]})]}))),this._bindErrLogPageEvt||(this._bindErrLogPageEvt=!0,App.after({methods:{onHide:function(e){t.logErrRetry&&x.setStorageSync("LOGGER_RETRY_LOG_LIST",Array.from(t._retryLogMap))}}}))}},{key:"_updateErrLog",value:function(t){var e=this._retryLogMap.get(t);if(e){var n=e.failTimes;n+1>this._retryTimesMax?this._removeErrLog(t):this._retryLogMap.set(t,Object.assign({},e,{failTimes:n+1,sendCountDown:this._retryDelayMapConf[n+1]}))}}},{key:"_addErrLog",value:function(t,e){if(this._retryLogMap.set(t,{sendData:e,failTimes:1,sendCountDown:this._retryDelayMapConf[1]}),this._retryLogMap.size>this._retryListMax){var n=this._retryLogMap.keys().next().value;this._retryLogMap.delete(n)}this._startErrLogTimer()}},{key:"_removeErrLog",value:function(t){this._retryLogMap.delete(t),this._retryLogMap.size<1&&this._retryIntervalTimer&&(clearInterval(this._retryIntervalTimer),this._retryIntervalTimer=null)}},{key:"_startErrLogTimer",value:function(){var t=this;this._retryIntervalTimer||this._retryLogMap.size<1||(this._retryIntervalTimer=setInterval((function(){t._retryIntervalTimerHandler()}),1e3))}},{key:"_retryIntervalTimerHandler",value:function(){var t=this;this._retryLogMap.size>0&&this._retryLogMap.forEach((function(e,n){e.sendCountDown<0||(0==+e.sendCountDown?(e.sendCountDown=-1,t._retrySend(n,e.sendData).then((function(){t._removeErrLog(n)})).catch((function(e){t._updateErrLog(n)}))):e.sendCountDown--)}))}},{key:"_swanReport",value:function(t){var e=t.actiondata.content,n={page:e.page,type:e.type,value:e.value,source:e.source};try{x.reportAnalytics&&x.reportAnalytics("ubc",n)}catch(t){console.log(t)}}},{key:"_initUbcParamsWithVersion",value:function(){var t=K[this.ubcVersion];this.ubcParams={},this.ubcDefaultLogData=t.DEFAULT_LOG_DATA,g()(this.ubcParams,this.ubcDefaultLogData,this._getDeviceInfo())}},{key:"_initUbcUrlWithVersion",value:function(t){var e=K[this.ubcVersion],n=t.queryParams||{},r={appname:n.appname,from:n.from,cfrom:n.cfrom,smfw:n.smfw,sid:n.sid,sn:n.sn};t.testMode&&(r.debug=1),this.ubcUrl=$(t.testMode&&t.testUrl?t.testUrl:e.UBC_URL,g()(e.DEFAULT_QUERY,r));var a=this.backupUrl||e.FELOG_BACKUP_URL;this.backUpUbcUrl=$(a,g()(e.DEFAULT_QUERY,r)),this.ubcMergeUrl=$(t.testMode&&t.testUrl?t.testUrl:"https://mbd.baidu.com/ztbox",g()(F,r))}},{key:"_getDeviceInfo",value:function(){var t=D(),e=t.version,n=t.platform,r=t.appname,a={actiondata:{content:{ext:{apptype:q[r]}}}};return 1===this.ubcVersion?g()({},a,{actiondata:{content:{boxVersion:e,platform:n}}}):a}},{key:"_checkServerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"0"===this.ubcParams.actiondata.id?(t&&console.log("[ug-swan-logger] serverId 未设置"),!1):(this.logInited=!0,!0)}},{key:"_checkSampleHit",value:(u=h(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.sampleConf||{},!(Object.keys(e).length>0)){t.next=7;break}return t.next=4,H(this.noUseApiGetUserInfo,this.bdussIgnore);case 4:return n=t.sent,r=n.cuid,t.abrupt("return",function(t,e){var n=+t.rate;if(isNaN(n)||!e)return!0;if(1===n)return!0;if(0===n)return!1;try{var r=s()(e);return parseInt(r.substr(-6).toLowerCase(),16)%1e4/1e4<=n}catch(t){return!0}}(e,r));case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"set",value:(i=h(regeneratorRuntime.mark((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.noUseApiGetUserInfo&&(this.noUseApiGetUserInfo=e.noUseApiGetUserInfo),void 0!==e.bdussIgnore&&(this.bdussIgnore=e.bdussIgnore),this.sampleConf=g()(this.sampleConf,e.sample),this.sourceFrom=e.source||e.idfrom||this.sourceFrom,e.version&&+e.version!==this.ubcVersion&&(this.ubcVersion=+e.version||2,this._initUbcParamsWithVersion()),this.logMergeOpt=Object.assign({},this.logMergeOpt,e.logMergeOpt),1==+this.ubcVersion&&this.logMergeOpt.ifAutoMerge&&(console.log("[ug-swan-logger-waring] 日志合并配置失败: ubcVersion为2时，支持日志合并"),this.logMergeOpt.ifAutoMerge=!1),e.logMergeOpt&&this.mergeSend.set(this.logMergeOpt),void 0!==e.logBackup&&(this.logBackup=e.logBackup),void 0!==e.backupUrl&&(this.backupUrl=e.backupUrl),void 0!==e.testMode&&(this.testMode=e.testMode),(e.testMode||e.version||Object.keys(e.queryParams||{}).length>0||void 0!==e.backupUrl)&&this._initUbcUrlWithVersion(e),g()(this.ubcParams,{actiondata:{id:e.serverId,content:{source:this.sourceFrom||z(),page:e.page,from:e.from,swan_name:e.swan_name,ext:void 0!==e.ext&&"object"===L(e.ext)?e.ext:{}}}}),this._ifSwanReport=!(!1===e.ifSwanReport),this._checkServerId(!0)&&this.sendJobsArr.length>0&&(Promise.all(this.sendJobsArr.map((function(t){return t()}))),this.sendJobsArr=[]),!0!==e.logErrRetry&&!1!==e.logErrRetry||(e.logErrRetry&&this._initErrLogs(),this.logErrRetry=e.logErrRetry);case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"_retrySend",value:(o=h(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(this.noUseApiGetUserInfo,this.bdussIgnore);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return e=t.t0,n=i.logData,r=i.uid,a=i._,n.actiondata.metadata.uploadTimeStamp=Date.now(),t.prev=10,t.next=13,G.request({method:"GET",url:this.ubcUrl,defer:!0,baiduCORS:!0,data:{data:JSON.stringify(n),uid:r,_:a},header:{"content-type":"application/x-www-form-urlencoded",cookie:A(e,this.testMode)}});case 13:return o=t.sent,t.abrupt("return",(this.logBackup&&this._sendBackupLog({data:JSON.stringify(n),uid:r,_:a},e),200==+o.statusCode?Promise.resolve():Promise.reject(o.statusCode)));case 17:return t.prev=17,t.t1=t.catch(10),t.abrupt("return",Promise.reject(t.t1));case 20:case"end":return t.stop()}}),t,this,[[10,17]])}))),function(){return o.apply(this,arguments)})},{key:"_realSend",value:(a=h(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkSampleHit();case 2:if(t.sent){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return t.next=6,H(this.noUseApiGetUserInfo,this.bdussIgnore);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(e=t.t0,n={},r=Date.now(),"flow"===c?this._getFlowData(g()(n,this.ubcParams,{actiondata:{timestamp:r,content:Object.assign({},u)}})):(g()(n,this.ubcParams,{actiondata:{timestamp:r,content:Object.assign({},u)}}),this._ifSwanReport&&this._swanReport(n)),a="",o="",!this.logErrRetry){t.next=19;break}return t.next=17,H(this.noUseApiGetUserInfo,this.bdussIgnore);case 17:(o=t.sent.baidu_id)&&(a=s()(o+r+JSON.stringify(n)))&&(n.actiondata.metadata={md5:a,uploadTimeStamp:Date.now()});case 19:return t.prev=19,t.next=22,G.request({method:"GET",url:this.ubcUrl,defer:!0,baiduCORS:!0,data:{data:JSON.stringify(n),uid:e.cuid,_:r},header:{"content-type":"application/x-www-form-urlencoded",cookie:A(e,this.testMode)}});case 22:return i=t.sent,t.abrupt("return",(this.logBackup&&this._sendBackupLog({data:JSON.stringify(n),uid:e.cuid,_:r},e),200==+i.statusCode?Promise.resolve({logId:a,res:i}):Promise.reject({logId:a,baiduId:o,err:i.statusCode,sendData:{logData:n,uid:e.cuid,_:r}})));case 26:return t.prev=26,t.t1=t.catch(19),t.abrupt("return",Promise.reject({logId:a,baiduId:o,err:t.t1,sendData:{logData:n,uid:e.cuid,_:r}}));case 29:case"end":return t.stop()}}),t,this,[[19,26]])}))),function(){return a.apply(this,arguments)})},{key:"send",value:(r=h(regeneratorRuntime.mark((function t(e){var n,r,a,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.launchid&&(e.ext=Object.assign({},e.ext||{},{launchid:this.launchid})),!this.logMergeOpt.ifAutoMerge||"event"!==s){t.next=2;break}return t.abrupt("return",(this.mergeSend.pushMergeList(e,"auto"),Promise.resolve()));case 2:if(this.logInited){t.next=4;break}return t.abrupt("return",new Promise((function(t,n){i.sendJobsArr.push((function(){i._realSend(Object.assign({},e),s).then((function(e){var n=e.res;i.logErrRetry&&i._startErrLogTimer(),t(n)})).catch((function(t){var e=t.logId,r=t.baiduId,a=t.err,o=t.sendData;i.logErrRetry&&r&&i._addErrLog(e,o),n(a)}))}))})));case 4:return t.prev=4,t.next=7,this._realSend(Object.assign({},e),s);case 7:return n=t.sent,r=n.res,t.abrupt("return",(this.logErrRetry&&this._startErrLogTimer(),Promise.resolve(r)));case 12:if(t.prev=12,t.t0=t.catch(4),e=t.t0.logId,s=t.t0.err,a=t.t0.baiduId,o=t.t0.sendData,t.t1=this.logErrRetry&&a,!t.t1){t.next=22;break}return t.next=22,this._addErrLog(e,o);case 22:return t.abrupt("return",Promise.reject(s));case 23:case"end":return t.stop()}}),t,this,[[4,12]])}))),function(t){return r.apply(this,arguments)})},{key:"_getFlowData",value:function(t){var e=g()({},t.actiondata.content),n=e.swan_name,r=e.timing,a=r.starttime,o=r.endtime,i=r.duration;delete t.actiondata.content,delete e.timing,delete e.swan_name,g()(t.actiondata,{starttime:a,endtime:o}),g()(t.actiondata,{type:1,content:{duration:i,swan_name:n,option:e}})}},{key:"setPageTimingLog",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pageTimingLogBegin,a={flag:r,begin:Date.now()},o=Y();if(this.timerPagesOpt[o]=Object.assign({},e,{timing:{}}),!function(t){for(var e=getCurrentPages(),n=0;n<e.length-1;n++)if(t===e[n].uri)return!0;return!1}(o)){var i=function(e){!n&&t.stopPageTimingLog(e)};Page.after({url:o,methods:{onShow:function(e){var n=e.args.accessUri.split("?")[0];t.timerMap[n]=g()(a,{begin:Date.now(),end:-1,flag:r})},onUnload:i,onHide:i}})}}},{key:"stopPageTimingLog",value:function(t){var e=this.pageTimingLogBegin,n=this.pageTimingLogEnd,r=(t&&t.args.accessUri||Y()).split("?")[0];this.timerMap[r]&&this.timerMap[r].flag===e&&(this.timerMap[r].flag=n,this.timerMap[r].end=Date.now(),this.send(g()(this.timerPagesOpt[r],{timing:{duration:(this.timerMap[r].end-this.timerMap[r].begin)/1e3,starttime:this.timerMap[r].begin,endtime:this.timerMap[r].end}}),"flow"))}},{key:"sendMergeLog",value:(n=h(regeneratorRuntime.mark((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",2!=+this.ubcVersion?(console.log("[ug-swan-logger-waring] sendMergeLog调用失败！请配置ubcVersion为2"),this.send(e)):(this.mergeSend.pushMergeList(e,"manual"),Promise.resolve()));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_mergeRealSend",value:(e=h(regeneratorRuntime.mark((function t(e){var n,r,a,o,i,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._checkSampleHit();case 2:if(t.sent){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return t.next=6,H(this.noUseApiGetUserInfo,this.bdussIgnore);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:return n=t.t0,r=Date.now(),a=[],e.map((function(t){t&&a.push(t)})),o=a.map((function(t){var e=g()({},s.ubcParams.actiondata.content),n=g()(e,Object.assign({},t));return Object.assign({},s.ubcParams.actiondata,{timestamp:r,content:n})})),i=g()({},V,{data:o}),t.abrupt("return",(this.logBackup&&this._sendBackupLog({data:JSON.stringify(i)},n),G.request({method:"POST",defer:!0,baiduCORS:!0,url:this.ubcMergeUrl+"&uid="+n.cuid+"&_="+r,data:{data:JSON.stringify(i)},header:{"content-type":"application/x-www-form-urlencoded",cookie:A(n,this.testMode)}})));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_sendBackupLog",value:function(t,e){G.request({method:"GET",defer:!0,baiduCORS:!0,url:this.backUpUbcUrl,data:t,header:{"content-type":"application/x-www-form-urlencoded",cookie:A(e,this.testMode)}}).then().catch()}}]),t}();new J;var Q=n(1),Z=n(3),X=n(0),tt=n.n(X),et=n(6),nt=n(2),rt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t),this._serverId=e.serverId,this._testMode=!!e.testMode}var e,n,r;return p(t,[{key:"sendLog",value:(r=h(regeneratorRuntime.mark((function t(e,n){var r,a,o,i,s,u,c,p,l,f,h,g,m,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.getSwanId(),this.getNetworkType()]);case 2:return r=t.sent,a=d(r,2),o=a[0],i=a[1],s=Q.AmuNamespace.sharedInstance.globalData,u=s.currentPage,v=Object.assign({},v,this.getCommonParams()),c=tt.a.get(u,"options",{}),p=JSON.parse(tt.a.get(u,"options['"+et.NAVIGATE_PARAMS_KEY+"']","{}")),l=tt.a.get(u,"pageData.name",p.projectName),f=c.pageKey||c.pageSource||p.pageKey,h=Object(nt.getProjectKeyAndPageId)(f),g=h.projectKey,m=h.pageId,n=Object.assign({swanId:o,networkType:i,swanVersion:s.systemInfo.sdkVersion,hostname:s.systemInfo.host,appKey:s.envInfo.appKey,pagePath:tt.a.stringifyURL({url:u.uri,query:u.options}),activityId:f,activityName:l,projectKey:g,projectName:l,pageId:m,sfrom:s.sfrom},n),c.testId&&(n.abtest=c.testId),t.next=14,this.ubcLogger.send(Object.assign({},v,{type:e,ext:n}));case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({testMode:this.testMode,version:"2.0",serverId:this.serverId,from:"",type:"",page:"",value:""},t),this.ubcLogger.set(Object.assign({},t))}},{key:"setPageTimingLog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Object.assign({},t,this.getCommonParams()),this.ubcLogger.setPageTimingLog(t,e)}},{key:"getSwanId",value:(n=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.swanId){t.next=2;break}return t.abrupt("return",this.swanId);case 2:return t.prev=2,t.next=5,Z.swanp.getSwanId();case 5:return t.abrupt("return",this._swanId=t.sent.data.swanid);case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return","");case 11:case"end":return t.stop()}}),t,this,[[2,8]])}))),function(){return n.apply(this,arguments)})},{key:"getNetworkType",value:(e=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.swanp.getNetworkType();case 3:return t.abrupt("return",t.sent.networkType);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return","");case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return e.apply(this,arguments)})},{key:"getCommonParams",value:function(){var t=Q.AmuNamespace.sharedInstance.globalData,e=t.currentPage;return{testMode:this.testMode,serverId:this.serverId,source:t.source,page:e.uri,version:"2.0"}}},{key:"ubcLogger",get:function(){return this._ubcLogger||(this._ubcLogger=new J),this._ubcLogger}},{key:"serverId",get:function(){return this._serverId||"0"},set:function(t){this.ubcLogger.set({serverId:t}),this._serverId=t}},{key:"testMode",get:function(){return this._testMode},set:function(t){this.ubcLogger.set({testMode:!!t}),this._testMode=!!t}},{key:"swanId",get:function(){return this._swanId}}]),t}(),at=new rt,ot=at.ubcLogger},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var a=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(a>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,a=0;r<t.length;a=++r%4)0!=a&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(t.charAt(r))>>>6-2*a);return e}},t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
     * Determine if an object is a Buffer
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){(function(e){var n,r=/^\[object .+?Constructor\]$/,a="object"==(void 0===e?"undefined":l(e))&&e&&e.Object===Object&&e,o="object"==(void 0===c?"undefined":l(c))&&c&&c.Object===Object&&c,i=a||o||Function("return this")(),s=Array.prototype,u=Function.prototype,d=Object.prototype,p=i["__core-js_shared__"],f=(n=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=u.toString,g=d.hasOwnProperty,m=d.toString,v=RegExp("^"+h.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=s.splice,y=I(i,"Map"),w=I(Object,"create");function x(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function S(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(t,e){for(var n,r,a=t.length;a--;)if((n=t[a][0])===(r=e)||n!=n&&r!=r)return a;return-1}function C(t,e){var n,r,a=t.__data__;return("string"==(r=l(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function I(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!D(t)||(e=t,f&&f in e))&&(function(t){var e=D(t)?m.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?v:r).test(function(t){if(null!=t){try{return h.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(n)?n:void 0}function T(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=t.apply(this,r);return n.cache=o.set(a,i),i};return n.cache=new(T.Cache||k),n}function D(t){var e=void 0===t?"undefined":l(t);return!!t&&("object"==e||"function"==e)}x.prototype.clear=function(){this.__data__=w?w(null):{}},x.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},x.prototype.get=function(t){var e=this.__data__;if(w){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return g.call(e,t)?e[t]:void 0},x.prototype.has=function(t){var e=this.__data__;return w?void 0!==e[t]:g.call(e,t)},x.prototype.set=function(t,e){return this.__data__[t]=w&&void 0===e?"__lodash_hash_undefined__":e,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(t){var e=this.__data__,n=_(e,t);return!(n<0||(n==e.length-1?e.pop():b.call(e,n,1),0))},S.prototype.get=function(t){var e=this.__data__,n=_(e,t);return n<0?void 0:e[n][1]},S.prototype.has=function(t){return _(this.__data__,t)>-1},S.prototype.set=function(t,e){var n=this.__data__,r=_(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},k.prototype.clear=function(){this.__data__={hash:new x,map:new(y||S),string:new x}},k.prototype.delete=function(t){return C(this,t).delete(t)},k.prototype.get=function(t){return C(this,t).get(t)},k.prototype.has=function(t){return C(this,t).has(t)},k.prototype.set=function(t,e){return C(this,t).set(t,e),this},T.Cache=k,t.exports=T}).call(this,n(24))},function(t,e,n){"use strict";var r,a,o=(r=h(regeneratorRuntime.mark((function t(e){var n,r,a,o=e.url,s=void 0===o?"":o,u=e.method,d=void 0===u?"GET":u,l=e.data,f=void 0===l?{}:l,h=e.dataType,g=void 0===h?"json":h,m=e.header,v=void 0===m?{}:m,b=e.cors,y=void 0!==b&&b,w=e.baiduCORS,x=void 0===w||w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={url:s,method:d,data:f,dataType:g,header:v,cors:y,baiduCORS:x},s){t.next=3;break}throw c.a.unset(v,"Cookie"),new Error("request url不能为空，当前为："+s+", options: "+JSON.stringify(n));case 3:if(p.AmuNamespace.sharedInstance.globalData.host){t.next=7;break}return t.next=6,i(n);case 6:return t.abrupt("return",t.sent);case 7:return t.prev=7,!(r=c.a.parseURL(s)).url.startsWith("http")&&r.query.proxyKey&&(r.query.proxyType=d.toLocaleUpperCase(),d="POST"),a={url:s=c.a.stringifyURL(r),data:f,method:d,dataType:g,header:v,cors:y,baiduCORS:x},t.next=13,i(a);case 13:return t.abrupt("return",t.sent);case 16:throw t.prev=16,t.t0=t.catch(7),t.t0;case 19:case"end":return t.stop()}}),t,this,[[7,16]])}))),function(t){return r.apply(this,arguments)}),i=(a=h(regeneratorRuntime.mark((function t(e){var n,r,a,o,i,u,h,m,v,b,y,w,x,S,k,_,C=e.url,I=void 0===C?"":C,T=e.method,D=void 0===T?"GET":T,L=e.data,P=void 0===L?{}:L,A=e.dataType,B=void 0===A?"json":A,O=e.header,j=void 0===O?{}:O,R=e.cors,E=void 0!==R&&R,U=e.baiduCORS,N=void 0===U||U;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I){t.next=2;break}throw c.a.unset(j,"Cookie"),new Error("request url不能为空，当前为："+I+", options: "+JSON.stringify({url:I,method:D,data:P,dataType:B,header:j,cors:E,baiduCORS:N}));case 2:return n=p.AmuNamespace.sharedInstance.globalData,I.startsWith("http")||(r=I.startsWith("/")?"":"/",a=I.includes("/ma/smarket-api")?n.oldHost:n.host,I=""+a+r+I),o={},t.prev=5,P=c.a.assign({cdVersion:n.amuHost.cdVersion},P),t.next=9,Promise.all([Object(l.getBDUSS)(),Object(l.getCommonSysInfo)()]);case 9:return i=t.sent,u=d(i,2),h=u[0],m=u[1],v=m.baidu_id,b=m.cuid,y=n.systemInfo.host,w=n.envInfo.schema,x=[],h&&x.push("BDUSS="+h),y&&x.push("HOSTNAME="+y),w&&x.push("SCHEMA="+w),v&&x.push("BAIDUID="+v),b&&x.push("CUID="+b),x.push(c.a.get(j,"Cookie",""),c.a.get(j,"cookie","")),x=x.filter((function(t){return""!==t})),j=Object.assign({},j,{Cookie:x.join(";")}),N&&(j["Content-Type"]=j["Content-Type"]||"application/x-www-form-urlencoded"),Object.assign(o,{url:I,data:P,method:D,dataType:B,header:j,cors:E,baiduCORS:N}),t.next=21,s.swanp.request(o);case 21:return S=t.sent,(k=Object(g.checkInvalidResponseData)(S)).isInvalid&&(_=new Error(k.msg),f.spyClient.sendRequestErrorLog(I,_,o,S)),t.abrupt("return",S.data);case 27:throw t.prev=27,t.t0=t.catch(5),f.spyClient.sendRequestErrorLog(I,t.t0,o),t.t0;case 30:case"end":return t.stop()}}),t,this,[[5,27]])}))),function(t){return a.apply(this,arguments)});n.r(e),n.d(e,"request",(function(){return i})),n.d(e,"proxyRequest",(function(){return o}));var s=n(3),u=n(0),c=n.n(u),p=n(1),l=n(15),f=n(8),g=n(2)},function(t,e,n){"use strict";n.r(e),n.d(e,"API",(function(){return r}));var r={GET_PAGE_SCHEMA:"/ma/smarket-api/componentdata",GET_PAGE_DATA:"/amu-api/componentdata"}},function(t,e,n){"use strict";n.r(e),n.d(e,"pxToVw",(function(){return u})),n.d(e,"rgbaToHex",(function(){return d})),n.d(e,"formatStyle",(function(){return s})),n.d(e,"splitCamelCase",(function(){return c}));var r=n(0),a=n.n(r),o=["width","height","lineHeight","marginLeft","marginTop","marginRight","marginBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","borderRadius","borderWidth","gridColumnGap","gridRowGap","fontSize"],i=["backgroundImage","startBackgroundColor","endBackgroundColor","linearGradientDegree","borderImageSource","borderImageWidth","gridTemplateColumnsCount","boxShadowHorizontal","boxShadowVertical","boxShadowBlur","boxShadowSpread","boxShadowColor","boxShadowInset","flexShrink"];function s(t){if(!a.a.isPlainObject(t))return{};var e={};return t.backgroundImage?e["background-image"]="url('"+t.backgroundImage+"')":t.startBackgroundColor&&t.endBackgroundColor?e["background-image"]="linear-gradient("+a.a.get(t,"linearGradientDegree",90)+"deg, "+t.startBackgroundColor+" 0%, "+t.endBackgroundColor+" 100%)":t.startBackgroundColor?e["background-color"]=t.backgroundColor||t.startBackgroundColor:t.endBackgroundColor&&(e["background-color"]=t.backgroundColor||t.endBackgroundColor),!e.gridTemplateColumns&&t.gridTemplateColumnsCount&&(e["grid-template-columns"]="repeat("+t.gridTemplateColumnsCount+", 1fr)"),null!==t.flexShrink&&void 0!==t.flexShrink&&(e["flex-shrink"]=+t.flexShrink),(t.boxShadowHorizontal||t.boxShadowVertical||t.boxShadowBlur||t.boxShadowSpread||t.boxShadowColor||t.boxShadowInset)&&(e["box-shadow"]=u(t.boxShadowHorizontal)+" "+u(t.boxShadowVertical)+" "+u(t.boxShadowBlur)+" "+u(t.boxShadowSpread)+" "+t.boxShadowColor+" "+(t.boxShadowInset?"inset":"")),Object.keys(t).forEach((function(n){if(!i.includes(n)){var r=t[n];if(null!=r&&""!==r){var a=c(n);o.includes(n)&&!isNaN(+r)?e[a]=u(r):e[a]=r}}})),e}function u(t){return t/1242*100+"vw"}var c=function(t){var e={};return function(t){return e[t]||(e[t]=function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}(t))}}();function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=(t||"").toLocaleLowerCase(),!/^(rgb)/.test(t))return t;var n="#",r=t.replace(/(?:\(|\)|rgb(a*))*/g,"").split(",")||[];return e&&r.splice(3),(r||[]).forEach((function(t,e){3===e&&(t=Math.floor(255*t)),n+=(+t).toString(16).padStart(2,"0")})),n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==(void 0===i?"undefined":l(i))&&(n=i)}t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"getPageFirstMeanData",(function(){return p}));var r=n(1),o=n(22),i=n(0),s=n.n(i),u=n(8),c=n(2),d=n(15);function p(t){if(!t||!t.pageKey&&!t.pageSource)return Promise.reject();var e=r.AmuNamespace.sharedInstance.globalData,n=t.pageKey||t.pageSource,i=n+(t.testId?"-"+t.testId:""),p=s.a.get(e,"pageDataPromiseCache."+i,null);return t.cached&&p&&!p.isReject||(p=new Promise((function(r,i){var l=function(){var d=Object(c.getProjectKeyAndPageId)(n),l=d.projectKey,f=d.pageId,h="",g={timestamp:Math.round(Date.now()/1e3),appKey:e.envInfo.appKey},m=l&&!f;m?(h=o.API.GET_PAGE_SCHEMA,g.pageSource=l):(h=o.API.GET_PAGE_DATA,g.projectKey=l,g.pageSource=f),g.sign=Object(c.getSign)(g),t.testId&&!m&&(g.testId=t.testId,g.cuid=s.a.get(e,"commonSysInfo.cuid","")),g.cdVersion=e.amuHost.cdVersion;var v={url:""+(h.includes("/ma/smarket-api")?e.oldHost:e.host)+h,data:g,baiduCORS:!0,header:{"Content-Type":"application/x-www-form-urlencoded"}};a.request(Object.assign({},v,{success:function(t){var e=Object(c.checkInvalidResponseData)(t);if(e.isInvalid){var n=new Error(e.msg);u.spyClient.sendRequestErrorLog(h,n,v,t)}r(t.data)},fail:function(t){p.isReject=!0,i(t),u.spyClient.sendRequestErrorLog(h,t,v)}}))};t.testId?Object(d.getCommonSysInfoCallback)(l):l()})),t.cached&&(e.pageDataPromiseCache[i]=p)),p}},function(t,e,n){"use strict";n.r(e),n.d(e,"commonBehavior",(function(){return a}));var r=n(1),a=Behavior({onInit:function(){this.initCommonBehavior()},onLoad:function(){this.initCommonBehavior()},onUnload:function(){this.destroyCommonBehavior()},created:function(){this.initCommonBehavior()},detached:function(){this.destroyCommonBehavior()},methods:{initCommonBehavior:function(){this.isCommonBehaviorInited||(this.isCommonBehaviorInited=!0,this.eventHub=r.AmuNamespace.sharedInstance.eventHub,this.unbindStoreHandlers=this.unbindStoreHandlers||[],this.unbindEventHubHandlers=this.unbindEventHubHandlers||[],this.bindStore())},destroyCommonBehavior:function(){this.unbindStore(),this.unbindStoreHandlers&&this.unbindStoreHandlers.forEach((function(t){return t&&t()})),this.unbindStoreHandlers=null,this.unbindEventHubHandlers&&this.unbindEventHubHandlers.forEach((function(t){return t&&t()})),this.unbindEventHubHandlers=null},bindStore:function(){if(!this.unbindStoreHandler){var t=r.AmuNamespace.sharedInstance.storeManager;t.store&&t.store.state&&this.setData(t.store.state),this.unbindStoreHandler=t.storeBinding(this)}},unbindStore:function(){this.unbindStoreHandler&&this.unbindStoreHandler()},storeSubscribe:function(t,e){this.store&&(this.unbindStoreHandlers=this.unbindStoreHandlers||[],this.unbindStoreHandlers.push(this.store.subscribe(t,e)))},onEventHubMessage:function(t,e){this.unbindEventHubHandlers=this.unbindEventHubHandlers||[],this.unbindEventHubHandlers.push(this.eventHub.onMessage(t,e))},setDataAsync:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Promise((function(e){t.setData.apply(t,f(n).concat([e]))}))}}})},function(t,e,n){"use strict";n.r(e),n.d(e,"commonPageBehavior",(function(){return l}));var r=n(26),a=n(1),o=n(17),i=n(2),s=n(21),u=n(0),c=n.n(u),d=n(6),p=n(25),l=Behavior({behaviors:[r.commonBehavior],data:{schema:{}},onInit:function(t){this.onInitOrLoad(t)},onLoad:function(t){!this.isInitOrLoaded&&this.onInitOrLoad(t),o.amuUbcLogger.set({page:this.uri,source:a.AmuNamespace.sharedInstance.globalData.source}),o.amuUbcLogger.setPageTimingLog()},onShow:function(){o.amuUbcLogger.set({page:this.uri,source:a.AmuNamespace.sharedInstance.globalData.source}),this.setCurrentPage()},methods:{navigate:d.navigate,request:s.request,onInitOrLoad:function(t){this.isInitOrLoaded=!0,this.fixOptions(t);var e=a.AmuNamespace.sharedInstance.globalData;this.setCurrentPage(),this.pageData={from:this.options.sfrom,endTime:0,startTime:0},e.source=this.options.source||e.source,e.sfrom=this.options.sfrom||e.sfrom},fixOptions:function(t){this.options=c.a.deepAssign({},this.options,t);try{var e=this.options[d.NAVIGATE_PARAMS_KEY]||"";(e||"").startsWith("%7B")?this.options[d.NAVIGATE_PARAMS_KEY]=decodeURIComponent(e):(e||"").startsWith("%257B")&&(this.options[d.NAVIGATE_PARAMS_KEY]=decodeURIComponent(decodeURIComponent(e)))}catch(t){}},setCurrentPage:function(){a.AmuNamespace.sharedInstance.globalData.currentPage=this},getPageData:function(t){var e=this;return Object(p.getPageFirstMeanData)(c.a.assign({},this.options,t)).then((function(t){e.pageData=c.a.assign(e.pageData,c.a.get(t,"data",{}));var n=e.options.pageKey||e.options.pageSource;if(e.originalPageKey=n,e.testId=e.options.testId,e.options.pageKey){var r=Object(i.getProjectKeyAndPageId)(n),o=r.projectKey,s=r.pageId;e.originalPageId=s;var u=c.a.get(e.pageData,"schema.pages[0]",{});+u.id&&+u.id!=+s&&(e.options.pageKey=Object(i.getPageKey)(o,u.id))}else e.pageData.name=e.pageData.remark,c.a.unset(e.pageData,"remark");var d=a.AmuNamespace.sharedInstance.globalData;return d.sfrom=e.options.sfrom||d.sfrom||e.pageData.from,t}))},sendClick:function(t,e){this.sendUbcLog("click",t,e)},sendDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sendUbcLog("display",t,e)},sendUbcLog:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.amuUbcLogger.sendLog(t,e,n)},getShareConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=c.a.get(this.data,"schema.pageConfig.navigationBarTitleText",""),n=JSON.parse(this.options[d.NAVIGATE_PARAMS_KEY]||"{}"),r=this.pageData.name||n.projectName,a=c.a.get(this.data,"schema.pageConfig.shareConfig.title",r||e),o=c.a.get(this.data,"schema.pageConfig.shareConfig.params",""),i=c.a.get(this.data,"schema.pageConfig.shareConfig.content",""),s=c.a.get(this.data,"schema.pageConfig.shareConfig.imageUrl",""),u=c.a.get(this.data,"schema.pageConfig.shareConfig.path",this.uri);return{title:a,content:i,imageUrl:s,path:c.a.stringifyURL({url:u,query:c.a.assign({},this.options,c.a.parseQuery(o),t)})}},onShareAppMessage:function(){return Object.assign({},this.getShareConfig(),{pannel:["ugc_forward","weixin_friend","weixin_timeline","qqfriend","qqdenglu","baiduhi","sinaweibo","screenshot","others"]})},clearMeanDataPromise:function(){var t=this.originalPageKey+(this.testId?"-"+this.testId:""),e=a.AmuNamespace.sharedInstance.globalData;c.a.unset(e,"pageDataPromiseCache."+t)}}})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"storeManager",(function(){return x})),n.d(e,"globalData",(function(){return S})),n.d(e,"extraGlobalData",(function(){return k})),n.d(e,"eventHub",(function(){return w}));var r=n(1);n.d(e,"AmuNamespace",(function(){return r.AmuNamespace}));var a=n(0),o=n.n(a);n.d(e,"Base",(function(){return o.a}));var i=n(7);n.d(e,"createStore",(function(){return i.createStore})),n.d(e,"storeBinding",(function(){return i.storeBinding}));var s=n(3);n.d(e,"swanp",(function(){return s.swanp})),n.d(e,"promisify",(function(){return s.promisify}));var u=n(30);n.d(e,"createPage",(function(){return u.createPage}));var c=n(32);n.d(e,"createComponent",(function(){return c.createComponent}));var d=n(11);n.d(e,"initGlobalDataForSimulator",(function(){return d.initGlobalDataForSimulator}));var p=n(21);n.d(e,"request",(function(){return p.request}));var l=n(15);n.d(e,"getBDUSS",(function(){return l.getBDUSS})),n.d(e,"getCommonSysInfo",(function(){return l.getCommonSysInfo})),n.d(e,"getUnionBDUSS",(function(){return l.getUnionBDUSS}));var f=n(2);n.d(e,"compareVersion",(function(){return f.compareVersion})),n.d(e,"isSimulator",(function(){return f.isSimulator})),n.d(e,"getProjectKeyAndPageId",(function(){return f.getProjectKeyAndPageId})),n.d(e,"getPageKey",(function(){return f.getPageKey}));var h=n(17);n.d(e,"ubcLogger",(function(){return h.ubcLogger})),n.d(e,"AmuUbcLogger",(function(){return h.AmuUbcLogger})),n.d(e,"amuUbcLogger",(function(){return h.amuUbcLogger}));var g=n(6);n.d(e,"LINK_TYPE",(function(){return g.LINK_TYPE})),n.d(e,"NAVIGATE_PARAMS_KEY",(function(){return g.NAVIGATE_PARAMS_KEY})),n.d(e,"navigateToWebView",(function(){return g.navigateToWebView})),n.d(e,"navigateToSmartProgram",(function(){return g.navigateToSmartProgram})),n.d(e,"openBdboxWebview",(function(){return g.openBdboxWebview})),n.d(e,"navigateTo",(function(){return g.navigateTo})),n.d(e,"navigate",(function(){return g.navigate}));var m=n(8);n.d(e,"SpyClient",(function(){return m.SpyClient})),n.d(e,"spyClient",(function(){return m.spyClient}));var v=n(25);n.d(e,"getPageFirstMeanData",(function(){return v.getPageFirstMeanData}));var b=n(23);n.d(e,"pxToVw",(function(){return b.pxToVw})),n.d(e,"rgbaToHex",(function(){return b.rgbaToHex})),n.d(e,"formatStyle",(function(){return b.formatStyle})),n.d(e,"splitCamelCase",(function(){return b.splitCamelCase}));var y=n(10);n.d(e,"AMU_HOST_TYPE",(function(){return y.AMU_HOST_TYPE}));var w=r.AmuNamespace.sharedInstance.eventHub,x=r.AmuNamespace.sharedInstance.storeManager,S=r.AmuNamespace.sharedInstance.globalData,k=r.AmuNamespace.sharedInstance.extraGlobalData},function(t,e,n){"use strict";n.r(e),n.d(e,"createPage",(function(){return c}));var r=n(0),a=n.n(r),o=n(27),i=n(1),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];"function"==typeof e&&e.call.apply(e,[this].concat(r)),"function"==typeof t&&t.call.apply(t,[this].concat(r))}},u={onInit:s,onLoad:s,onReady:s,onShow:s,onHide:s,onUnload:s};function c(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.behaviors=[].concat(f(o.commonPageBehavior.behaviors),[o.commonPageBehavior],f(a.a.get(n,"behaviors",[])));var r=i.AmuNamespace.sharedInstance.externalPageBehaviors.before.map((function(t){return Behavior(t)})),s=i.AmuNamespace.sharedInstance.externalPageBehaviors.after.map((function(t){return Behavior(t)}));return(t=n.behaviors).unshift.apply(t,f(r)),(e=n.behaviors).push.apply(e,f(s)),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((function(e){for(var n in e)u[n]&&(t[n]=u[n](t[n],e[n]))}))}(n,n.behaviors),n=function(t){if(a.a.isArray(t.behaviors)){for(var e={},n={},r=0;r<t.behaviors.length;r++){var o=t.behaviors[t.behaviors.length-1-r];a.a.deepAssign(e,o.data),a.a.deepAssign(n,o.methods)}return t.data=a.a.deepAssign(e,t.data),a.a.deepAssign(n,t)}}(n),Page(n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"commonComponentBehavior",(function(){return l}));var r=n(1),o=n(0),i=n.n(o),s=n(17),u=n(21),c=n(23),d=n(6),p={options:{},uri:""},l=Behavior({properties:{configData:{type:Object,value:{}},componentId:{type:Number,value:0},componentIndex:{type:Number,value:0},componentName:{type:String,value:""},componentVersion:{type:String,value:""},componentDescription:{type:String,value:""}},pageLifetimes:{show:function(){var t=getCurrentPages();r.AmuNamespace.sharedInstance.globalData.currentPage=t[t.length-1]}},created:function(){this.onPageConfigChange&&this.onPageConfigChange(i.a.get(this.getCurrentPage(),"data.schema.pageConfig",{}))},attached:function(){this.sendDisplay()},methods:{navigate:function(t){return t=i.a.deepAssign({},g({},d.NAVIGATE_PARAMS_KEY,{componentId:this.properties.componentId,componentIndex:this.properties.componentIndex,componentName:this.properties.componentName,componentVersion:this.properties.componentVersion,componentDescription:this.properties.componentDescription}),t),Object(d.navigate)(t)},request:function(t){return Object(u.proxyRequest)(t)},getCurrentPage:function(){return r.AmuNamespace.sharedInstance.globalData.currentPage||p},sendClick:function(t,e){this.sendUbcLog("click",t,e)},sendDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sendUbcLog("display",t,e)},sendUbcLog:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.amuUbcLogger.sendLog(t,Object.assign({componentInfo:{componentId:this.properties.componentId,componentName:this.properties.componentName,componentIndex:this.properties.componentIndex,componentVersion:this.properties.componentVersion,componentDescription:this.properties.componentDescription},index:this.properties.componentIndex,module:this.properties.componentName,moduleName:this.properties.componentDescription},e),n)},getShareConfig:function(t){return this.getCurrentPage().getShareConfig(t)},getRequestPageKey:function(){if(!this.requestPageKey){var t=i.a.get(this.getCurrentPage(),"options.pageKey","");this.requestPageKey=t.replace(/_(\w*)/,"_preOnline")}return this.requestPageKey},getRequestPageSource:function(){return this.getRequestPageKey()||i.a.get(this.getCurrentPage(),"options.pageSource","").replace(/_(\w*)/,"_preOnline")},setStyles:function(t){var e=this,n={},r=t||this.data.configData;this.attr.styleDataKeysMap=this.attr.styleDataKeysMap||{},this.attr.styleKeysArray.forEach((function(t){var a=e.attr.styleDataKeysMap[t]=e.attr.styleDataKeysMap[t]||t.replace(/\.([a-z])/g,(function(t,e){return e.toUpperCase()}));n[a]=Object(c.formatStyle)(i.a.get(r,t))})),this.setData(n)},commonObserver:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[.9],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.createIntersectionObserver(this,{thresholds:n,selectAll:!0}).relativeToViewport();return o.observe(t,(function(t){var n=t.dataset,a=n.ubcShow,o=n.id,i={};try{i=JSON.parse(a)||{}}catch(t){console.log("埋点数据json格式错误")}var s=o||t.id;r[s]||(r[s]=!0,e.sendDisplay(i))})),o}}})},function(t,e,n){"use strict";n.r(e),n.d(e,"createComponent",(function(){return u}));var r=n(0),a=n.n(r),o=n(31),i=n(26),s=n(29);function u(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.behaviors=[i.commonBehavior,o.commonComponentBehavior].concat(f(a.a.get(n,"behaviors",[])));var r=s.AmuNamespace.sharedInstance.externalComponentBehaviors.before.map((function(t){return Behavior(t)})),u=s.AmuNamespace.sharedInstance.externalComponentBehaviors.after.map((function(t){return Behavior(t)}));return(t=n.behaviors).unshift.apply(t,f(r)),(e=n.behaviors).push.apply(e,f(u)),Component(n)}}])},"object"==l(n)&&"object"==l(t)?t.exports=u():(r=[],void 0===(s="function"==typeof(e=u)?e.apply(n,r):e)||(t.exports=s))}).call(this,t(3)(e))})),t("3",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}})),t("4",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_;Object.defineProperty(n,"__esModule",{value:!0}),n.getAntiFraudParams=n.getWidgetReqSign=n.getIndustrySign=n.getCommonSign=n.px2vw=n.px2rpx=void 0,n.getAntiFraudParams=(k=regeneratorRuntime.mark((function t(e,n){var r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,C.getCommonSysInfo)();case 3:return r=t.sent,a=r.zid,o=r.cuid,t.next=8,T(e);case 8:return i=t.sent,s=i.view,u=i.Token,c=C.globalData.sfrom,d=C.globalData.source,p=C.globalData.systemInfo,l=C.globalData.envInfo,f=p.version,h=p.platform,g=p.brand,m=p.model,v=h||"universe",b=JSON.stringify({sfrom:c,source:d,activityId:n,appKey:l.appKey}),t.abrupt("return",{cuid:o,app:v,zid:a,vw:s,to:u,ver:f,model:m,brand:g,returnData:b});case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",{});case 21:case"end":return t.stop()}}),t,this,[[0,18]])})),_=function(){var t=k.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t,e){return _.apply(this,arguments)}),n.addFavor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.globalData.envInfo.appKey;return C.swanp.addFavor({appid:t})},n.antiFraudGetDataV2Async=T,n.findTarget=function(t,e){if(t)return new Promise((function(n,r){a.createSelectorQuery().in(e).select(t).boundingClientRect((function(t){n(t)})).exec()}))},n.pathDataTransform=function(t,e,n){var r=t,a=e.paramPath.split(".");!e.paramKey&&(e.paramKey=a[a.length-1]);for(var o={};a[0];){if(r=r[a.shift()],a.length&&n)try{r=JSON.parse(r)}catch(t){}if(void 0===r)break;o[e.paramKey]=r}return o};var C=t(2),I=t(5);function T(t){return new Promise((function(e){t.getDataV2((function(t){return e(t)}))}))}n.px2rpx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.60386;if(!t)return"";var r=n*parseInt(t,10);return r=r.toFixed(e),parseInt(r,10)===+r?parseInt(r,10):r},n.px2vw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.08051529790660225;return t?e*t:""},n.getCommonSign=function(){var t=C.globalData.envInfo.appKey,e=Date.now().toString();return{appKey:t,timestamp:e,sign:I("timestamp="+e+"&appKey="+t)}},n.getIndustrySign=function(t){var e=C.globalData.amuHost.cdVersion,n=t.activityName,r=t.componentId,a=Math.floor(Date.now()/1e3).toString(),o=Object.assign({timestamp:a,cdVersion:e},t),i=Object.keys(o).sort(),s="";return i.forEach((function(t){s+=t+"="+o[t]})),{cdVersion:e,timestamp:a,sign:I(s),activityName:n,componentId:r}},n.getWidgetReqSign=function(t){var e=Date.now(),n=Object.assign({timestamp:e},t),r=[];Object.keys(n).sort().reverse().forEach((function(t){r.push(t+"="+n[t])}));var a=r.join("&"),o=I(a);return Object.assign({},t,{timestamp:e,sign:o})}})),t("5",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C,I,T;k=t(6),_=t(7).utf8,C=t(8),I=t(7).bin,(T=function t(e,n){e.constructor==String?e=n&&"binary"===n.encoding?I.stringToBytes(e):_.stringToBytes(e):C(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=k.bytesToWords(e),a=8*e.length,o=1732584193,i=-271733879,s=-1732584194,u=271733878,c=0;c<r.length;c++)r[c]=16711935&(r[c]<<8|r[c]>>>24)|4278255360&(r[c]<<24|r[c]>>>8);r[a>>>5]|=128<<a%32,r[14+(a+64>>>9<<4)]=a;var d=t._ff,p=t._gg,l=t._hh,f=t._ii;for(c=0;c<r.length;c+=16){var h=o,g=i,m=s,v=u;o=d(o,i,s,u,r[c+0],7,-680876936),u=d(u,o,i,s,r[c+1],12,-389564586),s=d(s,u,o,i,r[c+2],17,606105819),i=d(i,s,u,o,r[c+3],22,-1044525330),o=d(o,i,s,u,r[c+4],7,-176418897),u=d(u,o,i,s,r[c+5],12,1200080426),s=d(s,u,o,i,r[c+6],17,-1473231341),i=d(i,s,u,o,r[c+7],22,-45705983),o=d(o,i,s,u,r[c+8],7,1770035416),u=d(u,o,i,s,r[c+9],12,-1958414417),s=d(s,u,o,i,r[c+10],17,-42063),i=d(i,s,u,o,r[c+11],22,-1990404162),o=d(o,i,s,u,r[c+12],7,1804603682),u=d(u,o,i,s,r[c+13],12,-40341101),s=d(s,u,o,i,r[c+14],17,-1502002290),o=p(o,i=d(i,s,u,o,r[c+15],22,1236535329),s,u,r[c+1],5,-165796510),u=p(u,o,i,s,r[c+6],9,-1069501632),s=p(s,u,o,i,r[c+11],14,643717713),i=p(i,s,u,o,r[c+0],20,-373897302),o=p(o,i,s,u,r[c+5],5,-701558691),u=p(u,o,i,s,r[c+10],9,38016083),s=p(s,u,o,i,r[c+15],14,-660478335),i=p(i,s,u,o,r[c+4],20,-405537848),o=p(o,i,s,u,r[c+9],5,568446438),u=p(u,o,i,s,r[c+14],9,-1019803690),s=p(s,u,o,i,r[c+3],14,-187363961),i=p(i,s,u,o,r[c+8],20,1163531501),o=p(o,i,s,u,r[c+13],5,-1444681467),u=p(u,o,i,s,r[c+2],9,-51403784),s=p(s,u,o,i,r[c+7],14,1735328473),o=l(o,i=p(i,s,u,o,r[c+12],20,-1926607734),s,u,r[c+5],4,-378558),u=l(u,o,i,s,r[c+8],11,-2022574463),s=l(s,u,o,i,r[c+11],16,1839030562),i=l(i,s,u,o,r[c+14],23,-35309556),o=l(o,i,s,u,r[c+1],4,-1530992060),u=l(u,o,i,s,r[c+4],11,1272893353),s=l(s,u,o,i,r[c+7],16,-155497632),i=l(i,s,u,o,r[c+10],23,-1094730640),o=l(o,i,s,u,r[c+13],4,681279174),u=l(u,o,i,s,r[c+0],11,-358537222),s=l(s,u,o,i,r[c+3],16,-722521979),i=l(i,s,u,o,r[c+6],23,76029189),o=l(o,i,s,u,r[c+9],4,-640364487),u=l(u,o,i,s,r[c+12],11,-421815835),s=l(s,u,o,i,r[c+15],16,530742520),o=f(o,i=l(i,s,u,o,r[c+2],23,-995338651),s,u,r[c+0],6,-198630844),u=f(u,o,i,s,r[c+7],10,1126891415),s=f(s,u,o,i,r[c+14],15,-1416354905),i=f(i,s,u,o,r[c+5],21,-57434055),o=f(o,i,s,u,r[c+12],6,1700485571),u=f(u,o,i,s,r[c+3],10,-1894986606),s=f(s,u,o,i,r[c+10],15,-1051523),i=f(i,s,u,o,r[c+1],21,-2054922799),o=f(o,i,s,u,r[c+8],6,1873313359),u=f(u,o,i,s,r[c+15],10,-30611744),s=f(s,u,o,i,r[c+6],15,-1560198380),i=f(i,s,u,o,r[c+13],21,1309151649),o=f(o,i,s,u,r[c+4],6,-145523070),u=f(u,o,i,s,r[c+11],10,-1120210379),s=f(s,u,o,i,r[c+2],15,718787259),i=f(i,s,u,o,r[c+9],21,-343485551),o=o+h>>>0,i=i+g>>>0,s=s+m>>>0,u=u+v>>>0}return k.endian([o,i,s,u])})._ff=function(t,e,n,r,a,o,i){var s=t+(e&n|~e&r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},T._gg=function(t,e,n,r,a,o,i){var s=t+(e&r|n&~r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},T._hh=function(t,e,n,r,a,o,i){var s=t+(e^n^r)+(a>>>0)+i;return(s<<o|s>>>32-o)+e},T._ii=function(t,e,n,r,a,o,i){var s=t+(n^(e|~r))+(a>>>0)+i;return(s<<o|s>>>32-o)+e},T._blocksize=16,T._digestsize=16,e.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=k.wordsToBytes(T(t,e));return e&&e.asBytes?n:e&&e.asString?I.bytesToString(n):k.bytesToHex(n)}})),t("6",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_;k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&_.rotl(t,8)|4278255360&_.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=_.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var r=t[n]<<16|t[n+1]<<8|t[n+2],a=0;a<4;a++)8*n+6*a<=8*t.length?e.push(k.charAt(r>>>6*(3-a)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,r=0;n<t.length;r=++n%4)0!=r&&e.push((k.indexOf(t.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|k.indexOf(t.charAt(n))>>>6-2*r);return e}},e.exports=_})),t("7",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k={utf8:{stringToBytes:function(t){return k.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(k.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};e.exports=k})),t("8",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){function k(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(t){return null!=t&&(k(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&k(t.slice(0,0))}(t)||!!t._isBuffer)}})),t("9",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.HOST="https://zw.baidusmartapps.com",n.INDUSTRY_HOST="https://mbd.baidu.com",n.EVENTS={COMPLETE_TASK:"event-complete-task",OPEN_INVITE_SHARE:"event-open-invite-share"}})),t("11",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(4),_=t(12),C=t(2);(0,C.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initData(t)}}},pageLifetimes:{show:function(){this.attr.isFirstShow||this.initSubBtn(),this.attr.isFirstShow=!1}},data:{leftBtnData:[]},attached:function(){var t=this;this.attr={subBtnIndex:-1,subscribeID:"",isFirstShow:!0,alreadyAutoSub:!1},this.initData(),this.initSubBtn(),this.storeSubscribe(["isLogin"],(function(){t.initSubBtn()}))},methods:{initData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData,n=e.leftBtnList,r=[];if(n&&(r=n.map((function(e,n){return"sub"===e.type&&(t.attr.subBtnIndex=n,e.status=_.SUB_STATUS.NO_SUB),e.showText=e.text,e})),this.setData({leftBtnData:r})),e.bgAnimation){var a=(0,k.px2vw)(e.bgAnimationHeigthPx);this.setData({bgAnimationHeigthVw:a})}},clickBtn:function(t){var e=t.target.dataset,n=e.btn,r=e.index,o=e.place;if("sub"!==n.type||"tap"!==t.type){if("jump"===n.type){this.navigate(n.jumpConfig);var i=n.jumpConfig,s=i.appKey,u=i.linkPath,c=i.url;this.sendUbcLog("click",{idValue:"jump-"+o+"-"+r,idName:n.text,jumpedAppkey:s,jumpedUrl:u||c})}if("share"===n.type){var d=C.globalData.source,p=C.globalData.sfrom,l=this.getShareConfig({source:d,sfrom:p});a.openShare(Object.assign({},l,{success:function(t){a.showToast({title:"分享成功",icon:"none"})}}))}"sub"===n.type&&a.isLoginSync().isLogin&&(this.store.commit("updateLoginState"),n.status===_.SUB_STATUS.NO_SUB&&(this.addSubHandle(),this.sendUbcLog("click",{idValue:"sub",idName:"订阅"})),n.status===_.SUB_STATUS.HAS_SUB&&(this.cancelSubHandle(),this.sendUbcLog("click",{idValue:"cancel-sub",idName:"取消订阅"})))}},initSubBtn:function(){var t=this,e=this.data.leftBtnData,n=this.attr.subBtnIndex,r=this.data.configData.subConfig,o=r.subscribedText,i=r.autoSub,s=r.cardFlag,u=e[n];if(u){var c={cardFlag:s,subQueryApi:this.data.configData.subQuery$api};(0,_.querySub)(c,this).then((function(n){u.status=n.status,t.attr.subscribeID=n.id;var r="sub",s="订阅";n&&n.status===_.SUB_STATUS.HAS_SUB&&(u.showText=o,t.setData({leftBtnData:e}),r="cancelSub",s="取消订阅");var c=a.isLoginSync();i&&n.status===_.SUB_STATUS.NO_SUB&&c&&c.isLogin&&!t.attr.alreadyAutoSub&&t.addSubHandle(!0),t.attr.alreadyAutoSub=!0,t.sendUbcLog("display",{idValue:r,idName:s})})).catch((function(t){console.log(t)}))}},addSubHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.data.configData.subConfig,r=n.subscribedText,o=n.cardFlag,i=this.data.leftBtnData,s=this.attr.subBtnIndex,u=i[s];if(u){var c={opType:_.OP_TYPE.ADD_SUB,sourceFlag:o,subscribeID:this.attr.subscribeID,subUpdateApi:this.data.configData.subUpdate$api};(0,_.updateSub)(c,this).then((function(n){var o="订阅成功";0===n.code||200000006===n.code?(u.showText=r,u.status=_.SUB_STATUS.HAS_SUB,t.setData({leftBtnData:i})):o="订阅失败",e||a.showToast({title:o,icon:"none"})})).catch((function(t){console.log(t),e||a.showToast({title:"订阅失败",icon:"none"})}))}},cancelSubHandle:function(){var t=this,e=this.data.configData.subConfig.cardFlag,n=this.data.leftBtnData,r=this.attr.subBtnIndex,o=n[r];if(o){var i={opType:_.OP_TYPE.CANCEL_SUB,sourceFlag:e,subscribeID:this.attr.subscribeID,subUpdateApi:this.data.configData.subUpdate$api};(0,_.updateSub)(i,this).then((function(e){+e.code?a.showToast({title:"取消订阅失败",icon:"none"}):(o.showText=o.text,o.status=_.SUB_STATUS.NO_SUB,t.setData({leftBtnData:n}),a.showToast({title:"已取消订阅",icon:"none"}))})).catch((function(t){console.log(t),a.showToast({title:"服务繁忙",icon:"none"})}))}}}})})),t("12",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.SUB_STATUS=n.OP_TYPE=n.updateSub=n.querySub=void 0;var k,_,C,I=(k=t(13))&&k.__esModule?k:{default:k};function T(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}n.querySub=(_=T(regeneratorRuntime.mark((function t(e,n){var r,a,o,i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.cardFlag,a=e.subQueryApi,t.next=3,I.default.getQuerySubParams(r);case 3:return o=t.sent,i=o.data,s=o.header,u=o.method,t.next=9,n.request({url:a,method:u,data:i,header:s});case 9:if(+(c=t.sent).status){t.next=12;break}return t.abrupt("return",c.data[0]);case 12:throw c;case 13:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return _.apply(this,arguments)}),n.updateSub=(C=T(regeneratorRuntime.mark((function t(e,n){var r,a,o,i,s,u,c,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.subscribeID,a=e.opType,o=e.sourceFlag,i=e.subUpdateApi,t.next=3,I.default.getUpdateSubParams(r,a,o);case 3:return s=t.sent,u=s.method,c=s.data,d=s.header,t.next=9,n.request({url:i,method:u,data:c,header:d});case 9:if(!(p=t.sent)){t.next=13;break}return p.code=+p.code,t.abrupt("return",p);case 13:throw p;case 14:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return C.apply(this,arguments)}),n.OP_TYPE={ADD_SUB:1,CANCEL_SUB:0},n.SUB_STATUS={HAS_SUB:1,NO_SUB:0}})),t("13",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0});var k,_,C,I,T,D,L,P,A,B=(k=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){a.canIUse("getBDUSS")?a.getBDUSS({success:function(e){var n=e.bduss;t(n)},fail:function(t){e(t)}}):e("")})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),O=(_=K(regeneratorRuntime.mark((function t(e){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,B();case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n="";case 10:return r=Date.now().toString(),t.next=13,(0,H.default)("timestamp="+r+"&appKey="+J);case 13:return a=t.sent,o={card_flag:e,appKey:J,timestamp:r,sign:a},i=[],n&&i.push("BDUSS="+n),s={"Content-Type":"application/x-www-form-urlencoded",Cookie:i.join(";")},t.abrupt("return",{data:o,header:s,method:"POST"});case 19:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(t){return _.apply(this,arguments)}),j=(C=K(regeneratorRuntime.mark((function t(e){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return n=t.sent,r=n.data,o=n.header,i=n.method,t.abrupt("return",new Promise((function(t,e){a.request({url:F,data:r,header:o,method:i,success:function(n){n.data&&!+n.data.status?t(n.data.data[0]):e(n.data)},fail:e})})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return C.apply(this,arguments)}),R=(I=K(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!$){t.next=2;break}return t.abrupt("return",Promise.resolve($));case 2:return e=Date.now().toString(),t.next=6,(0,H.default)("timestamp="+e+"&appKey="+J);case 6:return n=t.sent,t.abrupt("return",new Promise((function(t,r){a.request({url:z,data:{timestamp:e,appKey:J,sign:n},success:function(e){if(e&&e.data&&0===e.data.code){var n=["北京","上海","天津","重庆"],r=e.data.data;$=new Map,r.forEach((function(t){var e=t.label,r=t.value,a=t.children,o=n.includes(e)?e+"市":e;$.set(o,String(r)),a.forEach((function(t){var e=t.label,r=t.value,a=n.includes(e)?e+"市":e;$.set(o+a,String(r))}))})),t($)}},fail:r})})));case 8:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)}),E=(T=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){a.getLocation({type:"gcj02",success:t,fail:e})})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)}),U=(D=K(regeneratorRuntime.mark((function t(e,n,r,a){var o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="",t.prev=1,t.next=4,B();case 4:o=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o="";case 10:if(i={},!a){t.next=29;break}if(s=a.intervene,u=a.interveneType,!s){t.next=17;break}i.intervene=s,t.next=28;break;case 17:if(!(u&&+u<=2)){t.next=28;break}return t.prev=18,t.next=21,Promise.all([R(),E()]);case 21:(c=t.sent)&&(d=c[0]||null,p=c[1]||null,d&&p&&(l=p.city,f=p.province,l&&f&&(i.intervene=JSON.stringify([{type:u,value:d.get(1==+u?f+l:f)}])))),t.next=27;break;case 25:t.prev=25,t.t1=t.catch(18);case 27:case 28:case 29:return t.next=32,X();case 32:return h=t.sent,g=h.cuid,t.next=36,(0,q.getSystemInfo)();case 36:return m=t.sent,v=m.platform,b=m.host,y=Date.now().toString(),t.next=42,(0,H.default)("timestamp="+y+"&appKey="+J);case 42:return w=t.sent,x=Object.assign({subscribeID:e,opType:n,sourceFlag:r,source:1,appKey:J,timestamp:y,cuid:g,sourceApp:tt(b),deviceType:"android"===v?2:1,sign:w},i),S=[],o&&S.push("BDUSS="+o),k={"Content-Type":"application/x-www-form-urlencoded",Cookie:S.join(";")},t.abrupt("return",{method:"POST",data:x,header:k});case 48:case"end":return t.stop()}}),t,this,[[1,7],[18,25]])}))),function(t,e,n,r){return D.apply(this,arguments)}),N=(L=K(regeneratorRuntime.mark((function t(e,n,r,o){var i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,r,o);case 2:return i=t.sent,s=i.method,u=i.data,c=i.header,t.abrupt("return",new Promise((function(t,e){a.request({url:W,method:s,data:u,header:c,success:function(n){n.data.code&&(n.data.code=+n.data.code),n.data&&(n.data.sendData=u),n.data?t(n.data):e()},fail:e})})));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return L.apply(this,arguments)}),M=(P=K(regeneratorRuntime.mark((function t(e,n,r,o){var i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,r);case 2:return i=t.sent,s=i.method,u=i.data,c=i.header,t.abrupt("return",new Promise((function(t,e){a.request({url:G,method:s,data:Object.assign({},u,{intervene:o}),header:c,success:function(e){t(e)},fail:e})})));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return P.apply(this,arguments)}),H=(A=t(5))&&A.__esModule?A:{default:A},q=t(14);function K(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var V="https://zw.baidusmartapps.com",F=V+"/ma/zw/subscribe/get_subscribe",W=V+"/ma/zw/subscribe/miniapp/subscribe",G=V+"/ma/zw/subscribe/miniapp/modifyintervene",z=V+"/ma/zw/city_list",$=null,Y={baiduboxapp:405384,bdlite:10014697,tomas:23164036,defaultValue:405384},J=void 0,Q=function(){try{var t=a.getEnvInfoSync();if(t instanceof Error)throw t;if(!t.appKey&&t.lastAppURL){var e=t.lastAppURL.match(/\/\/swan\/([^\/]+)\//);t.appKey=e&&e[1]}if(t&&!t.appKey)throw new Error(JSON.stringify(t));return t}catch(t){console.log("swan.getEnvInfoSync() failed",t)}}();Q instanceof Error&&(Q={}),J=Q.appKey||"";var Z=void 0,X=function(){return Z?Promise.resolve(Z):new Promise((function(t,e){a.getCommonSysInfo({success:function(e){Z=e,t(e)},fail:e})}))},tt=function(t){return Y[t]||Y.defaultValue};n.default={querySub:j,addSub:function(t,e,n){return N(t,1,e,n)},cancelSub:function(t,e){return N(t,0,e)},toManage:function(){a.navigateToSmartProgram({appKey:"FV8FuO4q887e9aj54GZpQHlwEUOd1XVc",path:"/pages/home/index"})},SUB_QUERY:F,SUB_UPDATE:W,getQuerySubParams:O,getUpdateSubParams:U,modifyIntervene:M}})),t("14",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.getSystemInfo=function(){return new Promise((function(t,e){a.getSystemInfo({success:function(e){t(e)},fail:e})}))}})),t("16",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C,I,T,D,L=t(2),P=(k=t(13))&&k.__esModule?k:{default:k},A=t(4),B=t(9);function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}(0,L.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initComp(t)}}},pageLifetimes:{show:function(){this.initTaskList()}},data:{curTab:0,tabList:[],tabActiveColor:"",taskList:[],tabHeigth:1007.246},attached:function(){var t=this;this.attr={initTaskListRequesting:!1,curLogin:!1},this.initComp(),this.initTaskList(),this.storeSubscribe(["isLogin"],(function(){t.initTaskList()}))},methods:{initComp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData,e=t.tabConfig;this.setData({tabActiveColor:"linear-gradient("+e.activeStartColor+" 0%,  "+e.activeEndColor+" 100%)"})},changeTab:function(t){var e=t.target.dataset.index;this.setData({curTab:e}),this.sendUbcLog("click",{idValue:"taskTab-"+e,idName:this.data.tabList[e]}),this.logDisplayTask(e)},switchTab:function(t){var e=t.detail.current;e!==this.data.curTab&&(this.setData({curTab:e}),this.logDisplayTask(e))},logDisplayTask:function(t){var e=this.data.taskList;e&&this.sendUbcLog("display",{ids:e[t].map((function(e){return{idParent:"taskTab-"+t,idValue:e.bid,idName:e.name,idType:e.elementType,idStatus:e.status}}))})},initTaskList:(D=j(regeneratorRuntime.mark((function t(){var e,n,r,o,i,s,u,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getRequestPageSource(),t.next=3,(0,L.getCommonSysInfo)();case 3:if(n=t.sent,r=n.cuid,o=L.globalData.source,i=L.globalData.sfrom,s=L.globalData.systemInfo,u="0",s&&(u="android"===s.platform?"2":"1"),!this.attr.initTaskListRequesting){t.next=10;break}return t.abrupt("return");case 10:this.attr.initTaskListRequesting=!0,this.request({url:this.data.configData.taskList$api,method:"post",data:Object.assign({},(0,A.getCommonSign)(),{activityName:e,componentId:this.properties.componentId,cuid:r,page:this.getCurrentPage().uri,source:o,sfrom:i,platform:u})}).then((function(t){if(!+t.code){c.attr.curLogin=a.isLoginSync().isLogin;var e=0,n=[],r=t.data&&t.data.map((function(t){return e=Math.max(e,t.taskList.length),t.taskList=t.taskList.map((function(t){return t.status=2===t.status?2:0,t})),n.push(t.taskList),t.text}));c.setData({tabList:r,taskList:n,tabHeigth:126.812*e},(function(){c.logDisplayTask(c.data.curTab)}))}})).finally((function(){c.attr.initTaskListRequesting=!1}));case 12:case"end":return t.stop()}}),t,this)}))),function(){return D.apply(this,arguments)}),subscribeTaskHandle:(T=j(regeneratorRuntime.mark((function t(e,n){var r,o,i,s,u,c,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==(r=this.data.taskList[e][n]).status){t.next=3;break}return t.abrupt("return");case 3:return o=r.cardFlag,a.showLoading({title:"加载中",mask:!0}),t.prev=5,t.next=8,this.querySub(o);case 8:if(i=t.sent,s=void 0,1!==i.status){t.next=16;break}return t.next=13,this.completeTask(r);case 13:s=t.sent,t.next=26;break;case 16:return u=i.id,r.subscribeID=u,c={interveneType:r.styleData&&r.styleData.subscribIntervene},t.next=21,this.updateSub(u,1,o,c);case 21:if(0!==(d=t.sent).code&&200000006!==d.code){t.next=26;break}return t.next=25,this.completeTask(r);case 25:s=t.sent;case 26:if(!s||!s.data.progress.done){t.next=32;break}a.showToast({title:"订阅成功，抽奖次数+"+r.taskCompleteAddCount,icon:"none"}),r.status=2,this.setData(O({},"taskList["+e+"]["+n+"]",r)),t.next=33;break;case 32:throw i;case 33:a.hideLoading(),t.next=44;break;case 36:return t.prev=36,t.t0=t.catch(5),console.log(t.t0),a.hideLoading(),t.next=42,L.swanp.getNetworkType();case 42:(p=t.sent)&&"none"===p.networkType?a.showToast({title:"网络不给力，请稍后重试",mask:!0,icon:"none"}):a.showToast({title:"订阅失败",mask:!0,icon:"none"});case 44:case"end":return t.stop()}}),t,this,[[5,36]])}))),function(t,e){return T.apply(this,arguments)}),querySub:(I=j(regeneratorRuntime.mark((function t(e){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.default.getQuerySubParams(e);case 2:return n=t.sent,r=n.data,a=n.header,o=n.method,t.next=8,this.request({url:this.data.configData.subQuery$api,method:o,data:r,header:a});case 8:if(+(i=t.sent).status){t.next=11;break}return t.abrupt("return",i.data[0]);case 11:throw i;case 12:case"end":return t.stop()}}),t,this)}))),function(t){return I.apply(this,arguments)}),updateSub:(C=j(regeneratorRuntime.mark((function t(e,n,r,a){var o,i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.default.getUpdateSubParams(e,n,r,a);case 2:return o=t.sent,i=o.method,s=o.data,u=o.header,t.next=8,this.request({url:this.data.configData.subUpdate$api,method:i,data:s,header:u});case 8:if(!(c=t.sent)){t.next=12;break}return c.code=+c.code,t.abrupt("return",c);case 12:throw c;case 13:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return C.apply(this,arguments)}),jumpTask:function(t){var e=this;if("login:ok"===t.detail.errMsg&&this.attr.curLogin){this.store.commit("updateLoginState");var n=t.target.dataset,r=n.task,a=n.index,o=n.tIndex;this.sendUbcLog("click",{idParent:"taskTab-"+this.data.curTab,idValue:r.bid,idName:r.name,idType:r.elementType,idStatus:r.status,jumpedAppkey:r.appKey,jumpedUrl:r.linkPath||r.url});var i=this.getCurrentPage().options,s=i.pageSource,u=i.source,c={module:this.data.componentName,source:u,activityId:s,taskId:r.bid,sfrom:L.globalData.sfrom},d=L.extraGlobalData.compInviteNode;r[L.NAVIGATE_PARAMS_KEY]={inviteData:d,taskData:{status:r.status}},r.linkPath=L.Base.stringifyURL({url:r.linkPath,query:{token:encodeURIComponent(r.token),taskParameters:encodeURIComponent(JSON.stringify(c))}}),5!==r.elementType?9!==r.elementType?this.navigate(r).then((function(){2===r.elementType&&2!==r.status&&e.completeTask(r)})):this.subscribeTaskHandle(a,o):this.sharePage(r.token)}},sharePage:function(t){var e=this,n=this.getShareConfig();a.openShare(Object.assign({},n,{success:function(n){a.showToast({title:"分享成功",icon:"none"}),e.completeTask(t)}}))},completeTask:(_=j(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.token){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,L.getCommonSysInfo)();case 5:return r=t.sent,o=r.zid,i=r.cuid,s=this.getRequestPageSource(),t.abrupt("return",new Promise((function(t,r){u.request({url:u.data.configData.complete$api,method:"post",data:Object.assign({},(0,A.getCommonSign)(),{activityName:s,componentId:u.properties.componentId,token:n,zid:o,cuid:i})}).then((function(n){if(0==+n.code)u.eventHub.fireMessage({type:B.EVENTS.COMPLETE_TASK,data:e}),L.globalData.systemInfo.isWeb?a.showToast({title:"请打开百度APP参与活动",icon:"none"}):a.showToast({title:"任务完成",icon:"none"}),t(n);else{if(10000005!=+n.code)throw new Error;a.showToast({title:"未登录",icon:"none"}),r()}})).catch((function(t){console.log(t),a.showToast({title:"活动太火爆啦，请稍后重试",icon:"none"}),r()}))})));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})}})})),t("18",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2),_=t(4),C=t(9);function I(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var T,D,L,P=t(19);(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(){var t=this,e=setTimeout((function(){t.initComp(),clearTimeout(e),e=null}))}}},pageLifetimes:{show:function(){this.initComp()}},data:{tipsText:"",btnStatus:1,nodeList:[],residue:0,popupData:{closeImg:"",isShow:!1,btnStyle:{},status:1,styleData:{},title:"",icon:"",name:""},cooperationPopup:{closeImg:"",isShow:!1}},attached:function(){var t=this;this.attr={token:"",initInviteRequesting:!1,curLogin:!1};try{var e=this.data.configData.antifraudConfig,n=e.aid,r=e.dataApp;n&&r&&P.init({aid:n,dataApp:r})}catch(t){}this.storeSubscribe(["isLogin"],(function(){t.initComp(),t.inviteNew()})),this.initComp(),this.inviteNew(),this.initEventHub(),this.backflowHandle()},methods:{initComp:function(){this.initInvite()},initInvite:(L=I(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.attr.initInviteRequesting){t.next=2;break}return t.abrupt("return");case 2:this.attr.initInviteRequesting=!0,e=this.getRequestPageSource(),this.request({url:this.data.configData.invite$api,method:"post",data:Object.assign({},(0,_.getCommonSign)(),{activityName:e,componentId:this.properties.componentId})}).then((function(t){if(!+t.code){n.attr.curLogin=n.isLogin();var e=t.data,r=e.inviteHead,a=e.totalInvite,o=e.actList,i=e.num,s=e.token;n.attr.token=s;var u={},c=0;o&&o.forEach((function(t){u[t.inviteNum-1]={bgImg:t.actInfo.prizes[0].icon,actStatus:t.actInfo.act.status,wincount:t.userWininfo&&t.userWininfo.wincount,drawId:t.drawId}}));var d=new Array(Math.max(a,(r||[]).length)).fill(""),p=[];d=d.map((function(t,e){return t={bgImg:n.data.configData.nodeImg,status:0},u[e]&&(e>i-1&&0===c&&(c=e-i+1),t.bgImg=u[e].bgImg,t.drawId=u[e].drawId),r&&r[e]&&(t.bgImg=r[e].smallIconUrl,u[e]&&(t.status=0===u[e].wincount?2:1,2===t.status&&p.push(e))),t})),n.sendUbcLog("dispaly",{ids:p.map((function(t){return{idValue:"redback-"+t,idName:"红包"}}))});var l=n.data.configData.tipsConfig.tipsText;l=l.replace("${}",c),n.setData({residue:c,nodeList:d,tipsText:l,btnStatus:i===a?2:1})}})).finally((function(){n.attr.initInviteRequesting=!1}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)}),getRedback:(D=I(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.dataset.index,this.sendUbcLog("click",{idValue:"redback-"+n,idName:"红包",idStatus:0}),a.showLoading({title:"加载中",mask:!0}),r=this.getRequestPageSource(),t.next=6,(0,k.getCommonSysInfo)(!0);case 6:o=t.sent,i=o.zid,s=o.cuid,u=k.globalData.systemInfo.platform,this.request({url:this.data.configData.lottery$api,method:"post",data:Object.assign({},(0,_.getCommonSign)(),{activityName:r,componentId:this.properties.componentId,sourceType:1,lotteryType:2,drawId:this.data.nodeList[n].drawId,zid:i,cuid:s,app:u||"universe"})}).then((function(t){if(a.hideLoading(),c.sendUbcLog("click",{idValue:"redback-"+n,idName:"红包",idStatus:1}),+t.code)a.showToast({title:"活动太火爆了，请稍后重试",icon:"none"});else{var e=t.data,r=e.activityStatus,o=e.showname,i=e.icon,s=e.category,u=e.desc,d=c.data.configData.popupConfig,p=d.btnStatusMap,l=d.winningConfig,f=d.closeImg,h=p[1];if(h.bgColor="linear-gradient("+h.startColor+" 0%,  "+h.endColor+" 100%)",1===r)if(100==+s)a.showToast({title:u,icon:"none"});else{var g=c.data.popupData;c.data.nodeList[n].status=1,c.setData({popupData:Object.assign({},g,{isShow:!0,name:o,icon:i,styleData:l,btnStyle:h,closeImg:f}),nodeList:c.data.nodeList})}else a.showToast({title:"活动已结束",icon:"none"})}})).catch((function(t){console.log(t),a.hideLoading(),a.showToast({title:"活动太火爆了，请稍后重试",icon:"none"})}));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return D.apply(this,arguments)}),backflowHandle:function(){var t=this.getCurrentPage().options.token;t&&(this.data.configData.isCooperation&&(k.extraGlobalData.compInviteNode={componentId:this.properties.componentId,inviteToken:t}),(this.data.configData.isCooperation||this.data.configData.openBackflowPopup)&&(this.setData({cooperationPopup:{closeImg:this.data.configData.popupConfig.closeImg,isShow:!0}}),this.sendUbcLog("display",{idValue:"cooperation-popup",idName:"回流弹窗"})))},clickCooperationPopup:function(){var t=this;this.navigate(this.data.configData.popupConfig.cooperationConfig.jumpConfig).catch((function(t){console.log(t)})).finally((function(){t.closeCooperationPopup()})),this.sendUbcLog("click",{idValue:"cooperation-popup",idName:"回流弹窗"})},closeCooperationPopup:function(){var t,e;this.setData((!1,(e="cooperationPopup.isShow")in(t={})?Object.defineProperty(t,e,{value:!1,enumerable:!0,configurable:!0,writable:!0}):t[e]=!1,t))},inviteNew:(T=I(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getCurrentPage().options.token,r=void 0===n?"":n,o=this.getRequestPageSource(),i=k.globalData.sfrom,s=k.globalData.source,t.next=5,(0,k.getCommonSysInfo)();case 5:if(u=t.sent,c=u.cuid,!this.data.configData.isCooperation||!r||e){t.next=9;break}return t.abrupt("return");case 9:if(this.isLogin()){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,(0,_.getAntiFraudParams)(P,o);case 13:d=t.sent,this.request({url:this.data.configData.invitenew$api,method:"post",data:Object.assign({},(0,_.getCommonSign)(),d,{activityName:o,componentId:this.properties.componentId,token:decodeURIComponent(r),cuid:c,sfrom:i,source:s})}).then((function(t){r&&!e&&(0==+t.code?(a.showToast({title:"助力成功!",icon:"none"}),k.Base.get(k.globalData,"systemInfo.platform","").includes("web")&&a.showToast({title:"请打开百度APP参与活动",icon:"none"})):110000001==+t.code?a.showToast({title:"您已参与活动，无法助力",icon:"none"}):110000012==+t.code&&a.showToast({title:t.msg,icon:"none"}))}));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)}),popupJump:function(){var t=this;this.navigate(this.data.popupData.btnStyle.jumpConfig).catch((function(t){console.log(t)})).finally((function(){t.closePopup()}))},closePopup:function(){this.setData({popupData:Object.assign({},this.data.popupData,{isShow:!1})})},sharePage:function(t){this.sendUbcLog("click",{idValue:"share",idName:"分享"}),"login:ok"===t.detail.errMsg&&this.attr.curLogin&&this.openShare()},openShare:function(){if(this.isLogin()){var t=encodeURIComponent(this.attr.token),e=k.globalData.source,n=k.globalData.sfrom,r=this.getShareConfig({token:t,forceLogin:"true",source:e,sfrom:n});a.openShare(Object.assign({},r,{success:function(t){a.showToast({title:"分享成功",icon:"none"})}}))}},isLogin:function(){return a.isLoginSync().isLogin},initEventHub:function(){var t=this;this.onEventHubMessage(C.EVENTS.COMPLETE_TASK,(function(e){e.data&&t.data.configData.isCooperation&&t.inviteNew(!0)})),this.onEventHubMessage(C.EVENTS.OPEN_INVITE_SHARE,(function(e){e.scope===t.getCurrentPage().options.pageKey&&t.openShare()}))}}})})),t("19",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I=["hasOwnProperty","propertyIsEnumerable","DataView","constructor","ver","appKey","000","ios","dataApp","getCommonSysInfo","cuid","zid","getZidInfo","slice","route","1.0","floor","random","pow","assign","imei","hgzAs","type","swanInfo","startAccelerometer","onAccelerometerChange","onDeviceMotionChange","gamma","shift","aid","Token","getData","getDataV2","defineProperty","length","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","forEach","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","charCodeAt","keyStr","charAt","indexOf","fromCharCode","utf8Decode","replace","concat","40$","setStorageSync","test","testValue","removeStorageSync","substr","getStorageSync","toString","encrypt","decode","time","toLocaleLowerCase","now","0000","string","app_key","action_url","browserURL","stringify","encode","request","POST","application/x-www-form-urlencoded","data","undefined","error","abort","CODED--v20","ens","then","oct","catch","browser_url","app_view","send_interval","getSystemInfoSync","platform","https://sfp.safe.baidu.com/sfp/v1/rd","getTime","zidAndCuid","$1,$2,$3,$4,$5,$6,$7,$8","split","push","join","Geckodriver","prototype"];k=I,_=417,function(t){for(;--t;)k.push(k.shift())}(++_);var T=function(t,e){return I[t-=0]};function D(t,e,n){return e in t?Object[T("0x0")](t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){for(var e=1;e<arguments[T("0x1")];e++){var n=null!=arguments[e]?arguments[e]:{},r=Object[T("0x2")](n);"function"==typeof Object[T("0x3")]&&(r=r.concat(Object.getOwnPropertySymbols(n)[T("0x4")]((function(t){return Object[T("0x5")](n,t)[T("0x6")]})))),r[T("0x7")]((function(e){D(t,e,n[e])}))}return t}var P={keyStr:T("0x8"),encode:function(t){var e,n,r,a,o,i,s,u="",c=0;for(t=P.utf8Encode(t);c<t[T("0x1")];)a=(e=t[T("0x9")](c++))>>2,o=(3&e)<<4|(n=t[T("0x9")](c++))>>4,i=(15&n)<<2|(r=t.charCodeAt(c++))>>6,s=63&r,isNaN(n)?i=s=64:isNaN(r)&&(s=64),u=u+this[T("0xa")][T("0xb")](a)+this[T("0xa")][T("0xb")](o)+this.keyStr[T("0xb")](i)+this[T("0xa")][T("0xb")](s);return u},decode:function(t){var e,n,r,a,o,i,s="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t[T("0x1")];)e=this.keyStr.indexOf(t[T("0xb")](u++))<<2|(a=this[T("0xa")][T("0xc")](t.charAt(u++)))>>4,n=(15&a)<<4|(o=this[T("0xa")][T("0xc")](t[T("0xb")](u++)))>>2,r=(3&o)<<6|(i=this[T("0xa")][T("0xc")](t.charAt(u++))),s+=String.fromCharCode(e),64!==o&&(s+=String[T("0xd")](n)),64!==i&&(s+=String[T("0xd")](r));return P[T("0xe")](s)},utf8Encode:function(t){t=t[T("0xf")](/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t[T("0x9")](n);r<128?e+=String[T("0xd")](r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String[T("0xd")](r>>12|224),e+=String[T("0xd")](r>>6&63|128)),e+=String[T("0xd")](63&r|128))}return e},utf8Decode:function(t){for(var e="",n=0,r=0,a=0,o=0;n<t.length;)(r=t[T("0x9")](n))<128?(e+=String[T("0xd")](r),n++):191<r&&r<224?(a=t[T("0x9")](n+1),e+=String[T("0xd")]((31&r)<<6|63&a),n+=2):(a=t[T("0x9")](n+1),o=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&o),n+=3);return e}};function A(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function B(t,e,n,r,a,o){return A((i=A(A(e,t),A(r,o)))<<(s=a)|i>>>32-s,n);var i,s}function O(t,e,n,r,a,o,i){return B(e&n|~e&r,t,e,a,o,i)}function j(t,e,n,r,a,o,i){return B(e&r|n&~r,t,e,a,o,i)}function R(t,e,n,r,a,o,i){return B(e^n^r,t,e,a,o,i)}function E(t,e,n,r,a,o,i){return B(n^(e|~r),t,e,a,o,i)}function U(t,e){var n,r,a,o,i;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,u=-271733879,c=-1732584194,d=271733878;for(n=0;n<t.length;n+=16)u=E(u=E(u=E(u=E(u=R(u=R(u=R(u=R(u=j(u=j(u=j(u=j(u=O(u=O(u=O(u=O(a=u,c=O(o=c,d=O(i=d,s=O(r=s,u,c,d,t[n],7,-680876936),u,c,t[n+1],12,-389564586),s,u,t[n+2],17,606105819),d,s,t[n+3],22,-1044525330),c=O(c,d=O(d,s=O(s,u,c,d,t[n+4],7,-176418897),u,c,t[n+5],12,1200080426),s,u,t[n+6],17,-1473231341),d,s,t[n+7],22,-45705983),c=O(c,d=O(d,s=O(s,u,c,d,t[n+8],7,1770035416),u,c,t[n+9],12,-1958414417),s,u,t[n+10],17,-42063),d,s,t[n+11],22,-1990404162),c=O(c,d=O(d,s=O(s,u,c,d,t[n+12],7,1804603682),u,c,t[n+13],12,-40341101),s,u,t[n+14],17,-1502002290),d,s,t[n+15],22,1236535329),c=j(c,d=j(d,s=j(s,u,c,d,t[n+1],5,-165796510),u,c,t[n+6],9,-1069501632),s,u,t[n+11],14,643717713),d,s,t[n],20,-373897302),c=j(c,d=j(d,s=j(s,u,c,d,t[n+5],5,-701558691),u,c,t[n+10],9,38016083),s,u,t[n+15],14,-660478335),d,s,t[n+4],20,-405537848),c=j(c,d=j(d,s=j(s,u,c,d,t[n+9],5,568446438),u,c,t[n+14],9,-1019803690),s,u,t[n+3],14,-187363961),d,s,t[n+8],20,1163531501),c=j(c,d=j(d,s=j(s,u,c,d,t[n+13],5,-1444681467),u,c,t[n+2],9,-51403784),s,u,t[n+7],14,1735328473),d,s,t[n+12],20,-1926607734),c=R(c,d=R(d,s=R(s,u,c,d,t[n+5],4,-378558),u,c,t[n+8],11,-2022574463),s,u,t[n+11],16,1839030562),d,s,t[n+14],23,-35309556),c=R(c,d=R(d,s=R(s,u,c,d,t[n+1],4,-1530992060),u,c,t[n+4],11,1272893353),s,u,t[n+7],16,-155497632),d,s,t[n+10],23,-1094730640),c=R(c,d=R(d,s=R(s,u,c,d,t[n+13],4,681279174),u,c,t[n],11,-358537222),s,u,t[n+3],16,-722521979),d,s,t[n+6],23,76029189),c=R(c,d=R(d,s=R(s,u,c,d,t[n+9],4,-640364487),u,c,t[n+12],11,-421815835),s,u,t[n+15],16,530742520),d,s,t[n+2],23,-995338651),c=E(c,d=E(d,s=E(s,u,c,d,t[n],6,-198630844),u,c,t[n+7],10,1126891415),s,u,t[n+14],15,-1416354905),d,s,t[n+5],21,-57434055),c=E(c,d=E(d,s=E(s,u,c,d,t[n+12],6,1700485571),u,c,t[n+3],10,-1894986606),s,u,t[n+10],15,-1051523),d,s,t[n+1],21,-2054922799),c=E(c,d=E(d,s=E(s,u,c,d,t[n+8],6,1873313359),u,c,t[n+15],10,-30611744),s,u,t[n+6],15,-1560198380),d,s,t[n+13],21,1309151649),c=E(c,d=E(d,s=E(s,u,c,d,t[n+4],6,-145523070),u,c,t[n+11],10,-1120210379),s,u,t[n+2],15,718787259),d,s,t[n+9],21,-343485551),s=A(s,r),u=A(u,a),c=A(c,o),d=A(d,i);return[s,u,c,d]}function N(t){var e,n="",r=32*t[T("0x1")];for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function M(t){var e,n=[];for(n[(t[T("0x1")]>>2)-1]=void 0,e=0;e<n[T("0x1")];e+=1)n[e]=0;var r=8*t[T("0x1")];for(e=0;e<r;e+=8)n[e>>5]|=(255&t[T("0x9")](e/8))<<e%32;return n}function H(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t[T("0x9")](n),r+="0123456789abcdef"[T("0xb")](e>>>4&15)+"0123456789abcdef"[T("0xb")](15&e);return r}function q(t){return unescape(encodeURIComponent(t))}function K(t){return N(U(M(e=q(t)),8*e.length));var e}function V(t,e){return function(t,e){var n,r,a=M(t),o=[],i=[];for(o[15]=i[15]=void 0,16<a.length&&(a=U(a,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^a[n],i[n]=1549556828^a[n];return r=U(o[T("0x10")](M(e)),512+8*e[T("0x1")]),N(U(i[T("0x10")](r),640))}(q(t),q(e))}function F(t,e,n){return e?n?V(e,t):H(V(e,t)):n?K(t):H(K(t))}var W,G,z={},$={},Y=T("0x11"),J="",Q=function(){try{if(!a)return!1;try{return a[T("0x12")](T("0x13"),T("0x14")),a[T("0x15")]("test"),!0}catch(t){return!1}}catch(t){return!1}}(),Z=function(t){for(var e="";e[T("0x1")]<t;)e+=Math.ceil(9*Math.random());return e[T("0x16")](0,t)},X=function(){var t=Q?a[T("0x17")]("s"):$.s;return t||(t=Date.now()[T("0x18")]()+Z(11),Q?a[T("0x12")]("s",t):$.s=t),t},tt=function(){return Q?a[T("0x17")]("um"):$.um},et=function(){return Q?a[T("0x17")](T("0x19")):J},nt=function(t){return t[T("0x1")]?JSON.parse(P[T("0x1a")](t)):{}},rt=function(t){var e=t.um,n=t[T("0x1b")],r=t.rm,a=t[T("0x19")],o=n+r;return e&&(o+=e),a&&(o+=a),F(F(o)[T("0x1c")]()).toLocaleLowerCase().slice(0,10)},at=function(t,e){var n=tt(),r=et(),a=e?e+"":Date[T("0x1d")]()[T("0x18")](),o=Z(4),i=Y+(t||T("0x1e"))+X()+a+o;return i[T("0x1")],n&&(i+=T("0x1f")==(void 0===n?"undefined":C(n))?n:""),r&&(i+="string"==typeof r?r:""),i+rt(L({um:n,time:a,rm:o},r?{encrypt:r}:{}))},ot=function(t){var e=nt(t||""),n=e[T("0x20")],r=e[T("0x21")],a=e.browser_url,o=e.app_view,i=e.send_interval,s=at(n);return z={Token:s,appKey:n,actionURL:r,browserURL:a,appView:o,sendIntervals:i}},it=function(t,e,n){var r=n[T("0x19")],a=n.um,o=t,i=Z(4),s=Y+(e||T("0x1e"))+X()+o+i;return s[T("0x1")],a&&(s+=T("0x1f")==(void 0===a?"undefined":C(a))?a:""),r&&(s+=T("0x1f")==(void 0===r?"undefined":C(r))?r:""),s+rt(L({um:a,time:o,rm:i},r?{encrypt:r}:{}))},st=function(t){for(var e="",n=0;n<t[T("0x1")];n++){var r=t.charCodeAt(n),a=n%32;e+=r<=122&&41<=r?122<r+a?String[T("0xd")](40+r-122+a):String.fromCharCode(r+a):String[T("0xd")](t.charCodeAt(n))}return e},ut=function(t,e,n){(function(t){var e=z[T("0x22")],n=JSON[T("0x23")](t),r=st(P.encode(n));if(a)return new Promise((function(t,n){clearTimeout(G),G=setTimeout((function(){W&&W[T("0x2b")](),t()}),3e3),W=a[T("0x25")]({url:e,method:T("0x26"),data:"c="+encodeURIComponent(T("0x2c")+r),header:{"content-type":T("0x27")},success:function(e){var n=e.data[T("0x28")];if(n&&null!==n.id&&T("0x29")!==n.id&&void 0!==n.id){var r=n.id,o=n[T("0x2d")]||et();Q?a.setStorageSync("um",r):$.um=r,Q?a[T("0x12")]("encrypt",o):J=o,t({um:r,encrypt:o})}else t()},fail:function(t){console.error(t),n()}})}))})(t)[T("0x2e")]((function(r){n(it(t[T("0x2f")],e,r||{encrypt:et(),um:tt()}))}))[T("0x30")]((function(){n(it(t.oct,e,{encrypt:et(),um:tt()}))}))},ct=function(){if(a)return"ios"===a[T("0x34")]()[T("0x35")]?"1":"0"},dt={};dt.startLoadTime=(new Date)[T("0x37")](),dt[T("0x38")]={},dt.BI={},dt.b={ios:function(){}},dt.BI[40]=dt.b.ios();var pt=function(t){var e=function(t){var e,n,r=[];e=(n=t,n+function(t,e){var n="";if(t<32)for(var r=0;r<32-t;r++)n+="0";return n}(n[T("0x1")])+"")[T("0xf")](/^(\S{4})(\S{4})(\S{4})(\S{4})(\S{4})(\S{4})(\S{4})(\S{4})$/,T("0x39"))[T("0x3a")](",");for(var a=0;a<e[T("0x1")];a++)r[T("0x3b")](parseInt(e[a],2)[T("0x18")](16));return r[T("0x3c")]("")}(function(){var t=[],e="";e+=p&&(p.webdriver||p[T("0x3d")]||p.geckodriver)?"1":"0";var n=function(t,e){Object[T("0x3e")][T("0x3f")].call(t,e)&&Object[T("0x3e")][T("0x40")].call(t,e)},r=function(t,e){return Object[T("0x5")](t,e).writable},a=function(t,e){return Object[T("0x5")](t,e).configurable};t[T("0x3b")]((function(){var t=T("0x41");n(this,t)&&r(this,t)&&a(this,t)})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){})),t[T("0x3b")]((function(){Int8Array[T("0x3e")][T("0x42")]!==Int8Array&&n(Int8Array.prototype,T("0x42"))&&!r(Int8Array[T("0x3e")],T("0x42"))&&a(Int8Array[T("0x3e")],T("0x42"))})),t[T("0x3b")]((function(){})),t[T("0x3b")]((function(){Uint16Array[T("0x3e")][T("0x42")]!==Uint16Array&&n(Uint16Array[T("0x3e")],T("0x42"))&&!r(Uint16Array[T("0x3e")],T("0x42"))&&a(Uint16Array.prototype,T("0x42"))})),t[T("0x3b")]((function(){})),t[T("0x3b")]((function(){Uint32Array[T("0x3e")][T("0x42")]!==Uint32Array&&n(Uint32Array[T("0x3e")],T("0x42"))&&!r(Uint32Array[T("0x3e")],T("0x42"))&&a(Uint32Array[T("0x3e")],"constructor")})),t[T("0x3b")]((function(){})),t[T("0x3b")]((function(){Uint8Array[T("0x3e")][T("0x42")]!==Uint8Array&&n(Uint8Array[T("0x3e")],T("0x42"))&&!r(Uint8Array.prototype,"constructor")&&a(Uint8Array[T("0x3e")],T("0x42"))})),t.push((function(){})),t[T("0x3b")]((function(){Uint8ClampedArray.prototype[T("0x42")]!==Uint8Array&&n(Uint8ClampedArray[T("0x3e")],"constructor")&&!r(Uint8ClampedArray[T("0x3e")],T("0x42"))&&a(Uint8ClampedArray.prototype,T("0x42"))})),t[T("0x3b")]((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t[T("0x3b")]((function(){return"0"})),t.push((function(){return"0"})),t[T("0x3b")]((function(){return"0"}));for(var o=0;o<t[T("0x1")];o++)try{var i;e+="0"===(i=t[o]())?i:"1"}catch(t){e+="0"}return e}())||"",n=t.ak||"",r=t[T("0x43")]||"",a=t[T("0x44")]||"",o=function(t,e){for(var n=0;n<e;n++)t+="0";return t.substr(0,e)},i=function(t,e,n){if(n&&n<t)return n+"";for(var r=0;r<e;r++)t="0"+t;return t[T("0x16")](-e)},s=["02",T("0x45"),i(dt.b[T("0x46")](),1),i(a[T("0x1")],1,9),o(a,9),i(n.length,2,20),o(n,20),i(r[T("0x1")],2,16),o(r,16),i(e[T("0x1")],1,8),o(e,8),i(""[T("0x1")],2,50),o("",50),i(""[T("0x1")],3),""],u=s[T("0x3c")]("")[T("0x1")];return s[1]=(T("0x45")+u)[T("0x16")](-3),s[T("0x3c")]("")},lt={},ft={},ht={},gt=0,mt=[],vt=[],bt=0,yt=function(){var t=ot(ht[T("0x47")])[T("0x44")];return pt({appKey:t,ak:ht.ak})},wt=function(t,e){a[T("0x48")]({success:function(e){e[T("0x49")]!==lt[T("0x49")]||(e[T("0x4a")],T("0x4a")),Object.assign(lt,e),t(e)},fail:function(t){console[T("0x2a")]("getCommonSysInfo",t),e(t)}})},xt=function(){return new Promise((function(t,e){a[T("0x4b")]?a[T("0x4b")]({eventId:2040,eventInfo:"",success:function(n){var r;(r=T("0x1f")==(void 0===n?"undefined":C(n))?{zid:n}:n).zid,T("0x4a"),Object.assign(lt,r),r[T("0x4a")]?t(r):wt(t,e)},fail:function(n){console[T("0x2a")]("getZidInfo",n),wt(t,e)}}):a[T("0x48")]?wt(t,e):e()}))},St=function(t){var e,n,r={17:"",24:"",25:"",40:ct(),42:yt(),53:"1",54:"",ve:T("0x4e"),ap:"",to:"",ovisit:(e=getCurrentPages(),n=[],e[T("0x4c")](e[T("0x1")]-20).forEach((function(t,e){n[T("0x3b")](D({},t[T("0x4d")],e))})),n),osa:mt,osm:vt,oct:(new Date).getTime(),ononce:Math[T("0x4f")](Math[T("0x50")]()*Math[T("0x51")](10,6))+""};return Object[T("0x52")](ft,ht,t),Object[T("0x2")](ft).map((function(t){if(-1!==t.indexOf("cuid")||"c"===t)r[25]=ft[T("0x49")]||ft.c||"";else if(-1!==t.indexOf(T("0x4a")))r[24]=ft.zid||"";else if(-1!==t[T("0xc")](T("0x53")))r[54]=ft[T("0x53")]||"";else if("dataApp"===t){var e=ot(ft.dataApp)[T("0x44")];r.ap=e,r.to=at(e,r.oct)}else r[t]=ft[t]})),r},kt=function(t){if(5<(gt+=1))return null;var e=St(t);(function(t){var e,n,r,o;e=t,n=z[T("0x22")],r=JSON[T("0x23")](e),o=st(P[T("0x24")](r)),a&&a[T("0x25")]({url:n,method:T("0x26"),data:"c="+encodeURIComponent("CODED--v20"+o),header:{"content-type":T("0x27")},success:function(t){var e=t[T("0x28")][T("0x28")];if(e&&null!==e.id&&T("0x29")!==e.id&&void 0!==e.id){var n=e.id,r=e.ens||et();Q?a[T("0x12")]("um",n):$.um=n,Q?a[T("0x12")](T("0x19"),r):J=r}return!0},fail:function(t){return console[T("0x2a")](t),!1}})})(e),gt<2&&function(t,e){if(a){var n=JSON[T("0x23")](t),r=st(P[T("0x24")](n));a.request({url:T("0x36"),method:T("0x26"),data:"c="+encodeURIComponent(T("0x2c")+r),header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){t[T("0x28")]},fail:function(t){return console[T("0x2a")](t),!1}})}}(e)},_t=function(t,e,n){T("0x54")===e&&n(t.zid||""),kt(t)};function Ct(t){var e=t[T("0x55")],n=t.cb,r=t[T("0x56")];e&&T("0x54")===e?_t(r,T("0x54"),n):_t(r)}var It=function(t,e){var n,r;n=t,r=e,xt()[T("0x2e")]((function(t){Ct({type:n,cb:r,swanInfo:L({},t)})})).catch((function(){Ct({type:n,cb:r,swanInfo:{}})}))},Tt=function(t){setTimeout((function(){lt.cuid&&lt[T("0x4a")]||It()}),t)},Dt={init:function(t){return!(!t||!t[T("0x5c")]||(a[T("0x57")]({interval:"ui"}),a[T("0x58")]((function(t){var e=t.x,n=t.y,r=t.z;mt[T("0x3b")](""[T("0x10")](e,",")[T("0x10")](n,",")[T("0x10")](r,",")[T("0x10")](Date[T("0x1d")]()[T("0x18")]())),200<mt.length&&mt.shift()})),a.startDeviceMotionListening({interval:"ui",success:function(){a[T("0x59")]((function(t){var e=t.alpha,n=t.beta,r=t[T("0x5a")];vt[T("0x3b")](""[T("0x10")](e,",")[T("0x10")](n,",")[T("0x10")](r,",").concat(Date[T("0x1d")]()[T("0x18")]())),200<vt[T("0x1")]&&vt[T("0x5b")]()}))}}),e=0,clearInterval(bt),bt=setInterval((function(){30===(e+=1)&&clearInterval(bt),gt=0}),6e5),Object[T("0x52")](ht,t),It(),Tt(500),Tt(1e3),0));var e},hgzAs:function(t,e){if(!e||"function"!=typeof e)return"";It(T("0x54"),e)},getData:function(){return{Token:ot(ht[T("0x47")])[T("0x5d")],view:yt()}},getDataV2:function(t){!function(t,e){var n,r,a=nt(e||""),o=a[T("0x20")],i=a[T("0x21")],s=a[T("0x31")],u=a[T("0x32")],c=a[T("0x33")];n=o,r=function(e){t(z={Token:e,appKey:o,actionURL:i,browserURL:s,appView:u,sendIntervals:c})},xt()[T("0x2e")]((function(t){var e=St(t);ut(e,n,r)}))[T("0x30")]((function(){var t=St({});ut(t,n,r)}))}((function(e){var n,r,a={Token:e[T("0x5d")],view:(n=e,r=n[T("0x44")],pt({appKey:r,ak:ht.ak}))};t(a)}),ht[T("0x47")])}},Lt={init:Dt.init,setInfo:Dt.setInfo,hgzAs:Dt[T("0x54")],getData:Dt[T("0x5e")],getDataV2:Dt[T("0x5f")]};e.exports=Lt})),t("21",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2);(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(){this.setStyles()}}},attr:{styleKeysArray:["container.style","innerContainer.style"]},methods:{handleKongItemTap:function(t){var e=t.currentTarget.dataset,n=e.item,r=n.jump,a=n.title,o=e.index;r[k.NAVIGATE_PARAMS_KEY]={idValue:o,idName:a},this.navigate(r).then((function(){console.log("调用成功")}));var i=r.linkType,s=void 0===i?"":i,u=r.linkPath,c=void 0===u?"":u,d=r.appKey,p=void 0===d?"":d,l=r.url,f=void 0===l?"":l;this.sendClick({jumpedAppkey:p,jumpedUrl:3==+s?f:c,idType:"",idValue:o,idName:a})}}})})),t("23",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){(0,t(2).createComponent)({properties:{configData:{type:Object,value:{},observer:function(){this.setStyles()}}},attr:{styleKeysArray:["container.style","bgImgContainer.style","fbContainer.style"]},methods:{gotoFeedback:function(){var t=this.data.configData,e=t.fbBtn,n=t.fbContainer.fbBtn.jumpConfig||e.jumpConfig;this.navigate(n),this.sendUbcLog({idName:"feedback",jumpedUrl:n.linkPath},"click")}}})})),t("25",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Component({properties:{configData:{type:Object,value:{}}},data:{},attached:function(){},detached:function(){},methods:{}})})),t("27",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2);(0,k.createComponent)({properties:{configData:{type:Object,observer:function(t){t.tabs.length&&this.updateSwiperHeight(),this.setStyles()},value:{}}},data:{current:0,height:0},attr:{styleKeysArray:["btn.style","container.style","title.style","listContainer.style"]},methods:{handleTabChange:function(t){if(t.currentTarget.dataset.idx!==this.data.current){var e=t.currentTarget.dataset.idx;this.setData("current",e),this.sendClick({idType:e,idValue:"",idName:this.data.configData.tabs[e].name})}},handleSwiperChange:function(t){if(t.detail.current!==this.data.current){var e=t.detail.current;this.setData("current",e),this.sendClick({idType:e,idValue:"",idName:this.data.configData.tabs[e].name})}},updateSwiperHeight:function(){var t=this,e=a.createSelectorQuery().in(this);e.selectAll(".servie-list").boundingClientRect(),e.exec((function(e){1===e[0].length?t.setData("height",e[0][0].height):t.setData("height",Math.max(e[0][0].height,e[0][1].height))}))},handleServerItemTap:function(t){var e=t.currentTarget.dataset,n=e.item,r=n.jump,a=n.title,o=e.index;r[k.NAVIGATE_PARAMS_KEY]={idValue:o,idName:a},this.navigate(r).then((function(){console.log("调用成功")}));var i=r.linkType,s=void 0===i?"":i,u=r.linkPath,c=void 0===u?"":u,d=r.appKey,p=void 0===d?"":d,l=r.url,f=void 0===l?"":l;this.sendClick({jumpedAppkey:p,jumpedUrl:3==+s?f:c,idType:this.data.current,idValue:o,idName:a})}},ready:function(){this.data.configData.tabs.length&&this.updateSwiperHeight(),this.sendDisplay({idType:this.data.current,idValue:"",idName:this.data.configData.tabs[this.data.current].name})}})})),t("29",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2),_=t(4);(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initComp(t)}}},data:{current:0,borderRadiusVw:36,bannerHeightVw:99},attr:{styleKeysArray:["container.style"]},attached:function(){},methods:{initComp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData;this.setData({borderRadiusVw:(0,_.px2vw)(t.borderRadius),bannerHeightVw:(0,_.px2vw)(t.bannerHeight)}),this.setStyles()},handleSwiperChange:function(t){t.detail.current!==this.data.current&&(this.setData("current",t.detail.current),this.sendDisplay({idType:"",idValue:t.detail.current,idName:""}))},handleSwiperItemTap:function(t){var e=t.currentTarget.dataset,n=e.item.jump,r=e.index;this.navigate(n).then((function(){console.log("调用成功")}));var a=n.linkType,o=void 0===a?"":a,i=n.linkPath,s=void 0===i?"":i,u=n.appKey,c=void 0===u?"":u,d=n.url,p=void 0===d?"":d;this.sendClick({jumpedAppkey:c,jumpedUrl:3==+o?p:s,idType:"",idValue:r,idName:""})}},ready:function(){this.sendDisplay({idType:"",idValue:this.data.current,idName:""})}})})),t("31",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(4);(0,t(2).createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initComp(t)}}},data:{borderRadiusVw:36},attached:function(){this.initComp()},methods:{initComp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData;this.setData({borderRadiusVw:(0,k.px2vw)(t.borderRadius)})},handleGridItemTap:function(t){var e=t.currentTarget.dataset,n=e.item,r=n.jump,a=n.title,o=e.index;this.navigate(r).then((function(){console.log("调用成功")}));var i=r.linkType,s=void 0===i?"":i,u=r.linkPath,c=void 0===u?"":u,d=r.appKey,p=void 0===d?"":d,l=r.url,f=void 0===l?"":l;this.sendClick({jumpedAppkey:p,jumpedUrl:3==+s?f:c,idType:"",idValue:o,idName:a.text})}}})})),t("33",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2);(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t){k.Base.get(t,"images.style")&&this.setStyles()}}},attr:{styleKeysArray:["images.style"]},methods:{clickImg:function(t){var e=t.currentTarget.dataset.item,n=e.jumpConfig,r=e.customId;n&&(this.sendUbcLog("click",{idValue:r||"img",idName:"图片",jumpedAppkey:n.appKey,jumpedUrl:n.linkPath||n.url}),this.navigate(n).catch((function(t){console.log(t)})))}}})})),t("35",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2),_=t(4);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var T,D,L,P,A,B,O,j,R=t(19),E="https://gimg0.baidu.com/search/src=https%3A%2F%2Famu-bj.cdn.bcebos.com%2Famu%2Fstatic%2Fsmartprogram-solution-components%2Ff3fe1b45-8d23-42c3-a615-dac9ccb43dee.png&refer=http%3A%2F%2Fwww.baidu.com&app=2027&size=f9999,10000&n=0&g=0n&er=404&q=75&fmt=auto";(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(){(0,k.isSimulator)()&&this.initConfigData()}}},pageLifetimes:{show:function(){this.initCouponList()}},data:{popupData:{closeImg:E,styleType:0},couponData:{},isSimulator:!1},attr:{styleKeysArray:["popup.placeholder.style","popup.background.style","popup.couponList.style","popup.description.style"],getCouponListRequesting:!1,ajaxLock:!1,packStatus:0,couponList:[],hasInitPopShow:!1},created:function(){this.setData("isSimulator",(0,k.isSimulator)())},attached:(j=I(regeneratorRuntime.mark((function t(){var e,n,r,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.initCouponList(),this.onStore=this.storeSubscribe(["isLogin"],(function(){a.initCouponList()})),e=this.data.configData.antifraudConfig,n=e.aid,r=e.dataApp,R.init({aid:n,dataApp:r}),this.initConfigData();case 5:case"end":return t.stop()}}),t,this)}))),function(){return j.apply(this,arguments)}),detached:function(){clearTimeout(this.attr.couponTimer)},methods:{initConfigData:function(){this.setStyles();var t=k.Base.get(this.data.configData,"popup.styleType",0),e=1===t,n={"popupData.closeImg":k.Base.get(this.data.configData,"popup.closeImg",e?"https://amu-bj.cdn.bcebos.com/amu/static/smartprogram-solution-components/5a2b34ab-645e-4e25-8c61-fa9107de50df.png":E),"popupData.closeImgStyle":k.Base.get(this.data.configData,"popup.close"),"popupData.type":t,"popupData.placeholder":k.Base.get(this.data.configData,"popup.placeholder.src"),couponData:Object.assign({},this.data.configData,{coupons:this.attr.couponList,packStatus:this.attr.packStatus})};(0,k.isSimulator)()&&(n["popupData.isShow"]=k.Base.get(this.data.configData,"popup.isMockShow",!1)),this.setData(n)},getPackStatus:function(t){if(t.length){var e=this.data.configData,n=e.displayType,r=e.modeType;if(!n&&3===!r)return this.attr.packStatus;var a=!0,o=!0,i=!1;return t.forEach((function(t){var e=t.status;a=a&&(5===e||6===e),o=o&&(1===e||5===e),i=i||2===e})),a?4:o?1:i?2:3}},getCouponList:(O=I(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getRequestPageSource(),n=this.properties.componentId,t.next=4,(0,k.getCommonSysInfo)();case 4:if(r=t.sent,a={cuid:r.cuid},o=k.Base.stringifyURL({url:this.data.configData.couponData$api,query:(0,_.getIndustrySign)(Object.assign({activityName:e,componentId:n},a))}),!this.attr.getCouponListRequesting){t.next=9;break}return t.abrupt("return");case 9:return this.attr.getCouponListRequesting=!0,i=null,t.prev=11,t.next=14,this.request({url:o,method:"post",data:a});case 14:i=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),console.error(t.t0);case 20:return this.attr.getCouponListRequesting=!1,t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this,[[11,17]])}))),function(){return O.apply(this,arguments)}),initCouponList:(B=I(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getCouponList();case 3:+(e=t.sent).errNo||(n=e.data.filter((function(t){var e=!!t.isShow;return r.data.configData.btnOneShow||1!==t.status||(e=!1),"number"!=typeof k.Base.get(t,"styleData.borderRadius")&&k.Base.unset(t,"styleData.borderRadius"),e})),this.attr.packStatus=this.getPackStatus(n),this.attr.couponList=n,this.setData({couponData:Object.assign({},this.data.configData,{coupons:n,packStatus:this.attr.packStatus})}),this.checkCouponTimer()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:(0,k.isSimulator)()||1!==this.data.configData.displayType||this.data.popupData.isShow||this.hasInitPopShow||this.popInitShow();case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return B.apply(this,arguments)}),checkCouponStatusById:(A=I(regeneratorRuntime.mark((function t(e,n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.prev=1,t.next=4,this.getCouponList();case 4:return(a=t.sent)&&!+a.errNo&&(o=a.data.filter((function(t){return t.couponBatchId===e})),1===n&&2===o.status&&(r=!0)),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t,e){return A.apply(this,arguments)}),watchCouponStatus:(P=I(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!1,n=!1,t.prev=2,t.next=5,this.getCouponList();case 5:return r=t.sent,a=this.attr.couponList,r&&!+r.errNo&&(a=this.attr.couponList.map((function(t){var a=r.data.filter((function(e){return e.couponBatchId===t.couponBatchId}));return 1===t.status&&2===a[0].status&&(t.status=2,n=!0),1===a[0].status&&(e=!0),t})),o=this.attr.packStatus,3!==this.data.configData.modeType||1!==o&&3!==o||(e=!0,2!==(i=this.getPackStatus(a))&&4!==i||(this.attr.packStatus=i,n=!0)),n&&(this.attr.couponList=a,this.setData({"couponData.coupons":a,"couponData.packStatus":this.attr.packStatus}))),t.abrupt("return",e);case 11:return t.prev=11,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",e);case 15:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(){return P.apply(this,arguments)}),checkCouponTimer:function(){var t,e=this,n=Date.now(),r=0,a=(t=I(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.watchCouponStatus();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:o=3e3*r,i=Date.now()-n,s=i-o,r++,e.attr.couponTimer=setTimeout((function(){clearTimeout(e.attr.couponTimer),a()}),3e3-s);case 10:case"end":return t.stop()}}),t,e)}))),function(){return t.apply(this,arguments)});a()},takeCouponList:(L=I(regeneratorRuntime.mark((function t(){var e,n,r,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S,T,D=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data.isLogin){t.next=2;break}return t.abrupt("return");case 2:if(this.sendUbcLog("click",{idValue:"take_coupon_list",idStatus:this.attr.packStatus}),2===this.attr.packStatus||1===this.attr.packStatus){t.next=5;break}return t.abrupt("return");case 5:if(!this.attr.ajaxLock){t.next=7;break}return t.abrupt("return");case 7:return this.attr.ajaxLock=!0,e=this.attr.couponList.filter((function(t){return 2===t.status})).map((function(t){return t.couponBatchId})),n=e.join(","),r=this.getRequestPageSource(),t.next=13,(0,k.getCommonSysInfo)();case 13:return o=t.sent,i=o.zid,s=o.cuid,t.next=18,this.getDataV2();case 18:u=t.sent,c=u.view,d=u.Token,p=JSON.stringify({batchid:n}),l=k.globalData.sfrom,f=k.globalData.source,h=k.globalData.systemInfo,g=k.globalData.envInfo,m=h.version,v=h.platform,b=h.brand,y=h.model,w=v||"universe",x=JSON.stringify({sfrom:l,source:f,activityId:r,appKey:g.appKey}),S={cuid:s,couponBatchIds:n,app:w,zid:i,vw:c,to:d,ver:m,brand:b,model:y,extra:p,returnData:x},T=k.Base.stringifyURL({url:this.data.configData.couponTake$api,query:(0,_.getIndustrySign)(Object.assign({},S,{activityName:r,componentId:this.properties.componentId}))}),a.showLoading({title:"正在加载...",mask:!0}),this.request({url:T,method:"post",data:S}).then(function(){var t=I(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(+e.errNo||!e.data){t.next=11;break}return r=!1,D.attr.couponList=D.attr.couponList.map((function(t){return e.data[t.couponBatchId]&&(t.status=e.data[t.couponBatchId].showStatus,1!==e.data[t.couponBatchId].takeStatus&&(r=!0)),t})),D.attr.packStatus=D.getPackStatus(D.attr.couponList),D.setData((C(n={},"couponData.packStatus",D.attr.packStatus),C(n,"couponData.coupons",D.attr.couponList),n)),t.next=7,D.takeCouponListAfter();case 7:o=t.sent,r?a.showToast({title:"活动太火爆啦，请稍后重试",icon:"none"}):a.showToast({title:o,icon:"none"}),t.next=12;break;case 11:throw new Error(e.tipMsg);case 12:case"end":return t.stop()}}),t,D)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=I(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.swanp.getNetworkType();case 2:(n=t.sent)&&"none"===n.networkType?a.showToast({title:"网络不给力，请稍后重试",mask:!0,icon:"none"}):a.showToast({title:"领取失败",mask:!0,icon:"none"}),console.log(e);case 5:case"end":return t.stop()}}),t,D)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){D.attr.ajaxLock=!1,a.hideLoading()}));case 30:case"end":return t.stop()}}),t,this)}))),function(){return L.apply(this,arguments)}),takeCouponListAfter:(D=I(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e="领取成功~",1!==this.data.configData.packBtnActionType){t.next=12;break}return t.prev=2,t.next=5,addFavor();case 5:"1"===t.sent.success&&(e="领取并关注成功~"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(){return D.apply(this,arguments)}),takeCoupon:(T=I(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S,T,D,L,P,A,B,O,j,R,E=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data.isLogin){t.next=2;break}return t.abrupt("return");case 2:if(n=e.detail,r=this.attr.couponList[n],o=r.styleData,i=o.customId,s=o.jumpConfig,u=void 0===s?{}:s,c=o.unqualifiedJumpConfig,d=void 0===c?{}:c,this.sendUbcLog("click",{idValue:i||"take-coupon",couponId:r.couponBatchId,idStatus:r.status,jumpedAppkey:u.appKey,jumpedUrl:u.linkPath||u.url}),3!==r.status){t.next=9;break}return this.navigate(r.styleData.jumpConfig),t.abrupt("return");case 9:if(6!==r.status||void 0===d.linkType){t.next=12;break}return this.navigate(d),t.abrupt("return");case 12:if(2===r.status||1===r.status){t.next=14;break}return t.abrupt("return");case 14:if(1!==r.status){t.next=21;break}return t.next=17,this.checkCouponStatusById(r.couponBatchId,r.status);case 17:if(t.sent){t.next=21;break}return a.showToast({title:"领取失败，未开始",mask:!0,icon:"none"}),t.abrupt("return");case 21:if(!this.attr.ajaxLock){t.next=23;break}return t.abrupt("return");case 23:return this.attr.ajaxLock=!0,p=r.couponBatchId,l=this.getRequestPageSource(),t.next=28,(0,k.getCommonSysInfo)();case 28:return f=t.sent,h=f.zid,g=f.cuid,t.next=33,this.getDataV2();case 33:m=t.sent,v=m.view,b=m.Token,y=JSON.stringify({batchid:p}),w=k.globalData.sfrom,x=k.globalData.source,S=k.globalData.systemInfo,T=k.globalData.envInfo,D=S.version,L=S.platform,P=S.brand,A=S.model,B=L||"universe",O=JSON.stringify({sfrom:w,source:x,activityId:l,appKey:T.appKey}),j={cuid:g,couponBatchIds:p,app:B,zid:h,vw:v,to:b,ver:D,brand:P,model:A,extra:y,returnData:O},R=k.Base.stringifyURL({url:this.data.configData.couponTake$api,query:(0,_.getIndustrySign)(Object.assign({},j,{activityName:l,componentId:this.properties.componentId}))}),a.showLoading({title:"正在加载...",mask:!0}),this.request({url:R,method:"post",data:j}).then((function(t){var e=t.data&&t.data[p];if(+t.errNo||!t.data||!e)throw new Error(t.tipMsg);var o,i=E.attr.couponList;i[n].status=e.showStatus;var s=E.getPackStatus(i);E.setData((C(o={},"couponData.coupons["+n+"].status",e.showStatus),C(o,"couponData.packStatus",s),o)),E.attr.packStatus=s;var u=E.data.configData,c=u.takeStatusConfig,d=u.oneClickToTakeAndUse,l=void 0!==d&&d;a.showToast({title:c[e.takeStatus].text,icon:"none",complete:function(){1===e.takeStatus&&l&&setTimeout((function(){E.navigate(r.styleData.jumpConfig)}),300)}})})).catch(function(){var t=I(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.swanp.getNetworkType();case 2:(n=t.sent)&&"none"===n.networkType?a.showToast({title:"网络不给力，请稍后重试",mask:!0,icon:"none"}):a.showToast({title:"领取失败",mask:!0,icon:"none"}),console.log(e);case 5:case"end":return t.stop()}}),t,E)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){E.attr.ajaxLock=!1,a.hideLoading()}));case 45:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)}),getDataV2:function(){return new Promise((function(t){R.getDataV2((function(e){t(e)}))}))},clickPopupPlaceholder:function(){this.setData("popupData.isShow",!0)},closePopup:function(){this.setData("popupData.isShow",!1)},popInitShow:function(){var t=this.data.configData.popup,e=t.showType,n=t.frequencyType,r=this.getCurrentPage().options.pageKey+"-"+this.data.componentId+"-coupon-pop-show",o=this.attr.couponList.map((function(t){return t.couponBatchId})).join(","),i=!0;if(1===e&&(i=!1),2!==n){var s=a.getStorageSync(r)||{},u=(s.couponIds||"")===o;if(0===n)s.onlyOnce&&u?i=!1:(s.onlyOnce=(new Date).getTime(),s.couponIds=o,a.setStorageSync(r,s));else if(1===n){var c=s.everyday;c&&u&&this.isToday(c)&&(i=!1),s.everyday=(new Date).getTime(),s.couponIds=o,a.setStorageSync(r,s)}}i=i&&2===this.attr.packStatus,this.attr.hasInitPopShow=!0,this.setData("popupData.isShow",i)},isToday:function(t){return new Date(t).setHours(0,0,0,0)-(new Date).setHours(0,0,0,0)==0}}})})),t("37",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2);(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initData(t);var n=k.Base.get(t,"container.style",""),r=k.Base.get(e,"container.style","");try{JSON.stringify(n)!==JSON.stringify(r)&&this.setStyles()}catch(t){console.err("get feed style error")}}}},data:{feedList:[]},attr:{styleKeysArray:["container.style"]},attached:function(){this.initData()},methods:{initData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData;t.feedList&&this.setData({feedList:t.feedList.map((function(t){return t.isVisited=!1,t}))})},clickFeedItem:function(t){var e=this,n=t.currentTarget.dataset.index,r=this.data.feedList[n];if(r){this.sendUbcLog("click",{idValue:"feed-item",idType:r.newsId});var a=encodeURIComponent("https://feed.baidu.com/feed/data/box/landingreact?pageType=2&feed_id="+r.newsId),o=2!==r.newsType?{linkType:5,linkPath:"/easybrowse/hybrid",linkQuery:'upgrade=1&type=hybrid&tpl_id=bjh_news.html&context={"nid":"'+r.newsId+'"}&style={"toolbaricons":{"toolids":["4","1","2","3"],"menumode":"2","showtoolbar":"1"}}\n                    &newbrowser=1&slog=[]&ch_url='+a}:r.jumpConfig;this.navigate(o).then((function(t){var r,a,o=(!0,(a="feedList["+n+"].isVisited")in(r={})?Object.defineProperty(r,a,{value:!0,enumerable:!0,configurable:!0,writable:!0}):r[a]=!0,r);e.setData(o)}))}}}})})),t("39",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_=t(2),C=t(4),I=t(9);function T(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L,P,A=t(19),B="https://gimg0.baidu.com/search/src=https%3A%2F%2Famu-bj.cdn.bcebos.com%2Famu%2Fstatic%2Fsmartprogram-solution-components%2Ff3fe1b45-8d23-42c3-a615-dac9ccb43dee.png&refer=http%3A%2F%2Fwww.baidu.com&app=2027&size=f9999,10000&n=0&g=0n&er=404&q=75&fmt=auto",O=(D(k={},1,{textKey:"goodsListItemBuyButton.normal.text",styleKey:"goodsListItemBuyButtonNormalStyle",exchangeToastKey:"exchange.success"}),D(k,2,{textKey:"goodsListItemBuyButton.exchanged.text",styleKey:"goodsListItemBuyButtonExchangedStyle",exchangeToastKey:"exchange.fail.exchanged"}),D(k,3,{textKey:"goodsListItemBuyButton.stockInsufficient.text",styleKey:"goodsListItemBuyButtonStockInsufficientStyle",exchangeToastKey:"exchange.fail.stockInsufficient"}),D(k,4,{textKey:"goodsListItemBuyButton.pointInsufficient.text",styleKey:"goodsListItemBuyButtonPointInsufficientStyle",exchangeToastKey:"exchange.fail.pointInsufficient"}),k);(0,_.createComponent)({properties:{configData:{type:Object,value:{},observer:function(){(0,_.isSimulator)()&&this.initConfigData()}}},pageLifetimes:{show:function(){this.getPointData()}},data:{leftPointNum:0,goodsList:[]},attr:{styleKeysArray:["container.style","title.style","currency.style","currency.name.style","currency.point.style","goodsList.style","goodsListItem.style","goodsListItemImage.style","goodsListItemDescription.style","goodsListItemDescription.title.style","goodsListItemDescription.price.style","goodsListItemBuyButton.normal.style","goodsListItemBuyButton.exchanged.style","goodsListItemBuyButton.pointInsufficient.style","goodsListItemBuyButton.stockInsufficient.style","popup.background.style","popup.shopImage.style","popup.shopName.style","popup.buyButton.style"]},attached:function(){var t=this;this.storeSubscribe(["isLogin"],(function(){t.getPointData()}));try{var e=this.data.configData.antifraudConfig,n=e.aid,r=e.dataApp;n&&r&&A.init({aid:n,dataApp:r})}catch(t){}this.getPointData(),this.initConfigData()},methods:{initConfigData:function(){this.setStyles(),(0,_.isSimulator)()&&(this.setData({popupData:{isShow:_.Base.get(this.data.configData,"popup.isMockShow"),closeImg:_.Base.get(this.data.configData,"popup.closeButtonImage",B),shopName:"蝙蝠侠伞"},'popupShopImageStyle["background-image"]':'url("https://eopa.bdstatic.com/draw/6267dfb0_1ed2e2.png")'}),this.setGoodsListData(this.data.goodsList))},getPointData:(P=T(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getRequestPageKey(),n=this.properties.componentId,t.next=4,(0,_.getCommonSysInfo)();case 4:return r=t.sent,a={cuid:r.cuid},o=_.Base.stringifyURL({url:this.data.configData.pointData$api,query:(0,C.getIndustrySign)(Object.assign({activityName:e,componentId:n},a))}),t.next=9,this.request({url:o,method:"post",data:a});case 9:i=t.sent,s=_.Base.get(i,"data.list",[]),u=_.Base.get(i,"data.leftPointNum",0),this.setGoodsListData(s,u),this.sendDisplay({ids:s.map((function(t){return{idValue:t.goodsId,idName:t.name,idType:t.category,idStatus:t.status}}))});case 14:case"end":return t.stop()}}),t,this)}))),function(){return P.apply(this,arguments)}),setGoodsListData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.data.leftPointNum;(t||[]).forEach((function(t){t.showPrice=_.Base.get(e.data.configData,"goodsListItemDescription.price.template","").replace("$0",t.pointNum),t.text=_.Base.get(e.data.configData,O[t.status].textKey,"立即兑换"),t.style=e.data[O[t.status].styleKey]})),this.setData({goodsList:t,leftPointNum:n})},buy:function(t){var e=this.data.goodsList[t.target.dataset.index];if(e&&e.goodsId){var n=+e.status;this.sendClick({idValue:e.goodsId,idName:e.name,idType:e.category,idStatus:e.status}),4!==n?1===n?(this.popupGoodsData=e,this.setData({popupData:{isShow:!0,closeImg:_.Base.get(this.data.configData,"popup.closeButtonImage",B),shopName:e.name},'popupShopImageStyle["background-image"]':"url('"+e.icon+"')"})):a.showToast({icon:"none",title:_.Base.get(this.data.configData,O[n].exchangeToastKey,"兑换失败")}):this.eventHub.fireMessage({type:I.EVENTS.OPEN_INVITE_SHARE,scope:this.getCurrentPage().options.pageKey})}else a.showToast({icon:"none",title:"兑换失败"})},buyConfirm:(L=T(regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getRequestPageKey(),t.next=3,(0,C.getAntiFraudParams)(A,e);case 3:return n=t.sent,r=_.Base.stringifyURL({url:this.data.configData.pointExchange$api,query:(0,C.getIndustrySign)(Object.assign({},n,{activityName:e,goodsId:this.popupGoodsData.goodsId,componentId:this.properties.componentId}))}),a.showLoading({title:"正在加载...",mask:!0}),t.prev=6,t.next=9,this.request({url:r,method:"post",data:Object.assign({},n,{goodsId:this.popupGoodsData.goodsId})});case 9:if(!+(o=t.sent).errNo){t.next=12;break}throw"兑换失败";case 12:return i=_.Base.get(o,"data.status"),a.showToast({icon:"none",title:_.Base.get(this.data.configData,O[i].exchangeToastKey,"兑换失败")}),t.next=16,this.getPointData();case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),a.showToast({icon:"none",title:_.Base.get(this.data.configData,"exchange.fail.common","兑换失败")});case 21:return t.prev=21,a.hideLoading(),t.finish(21);case 24:case"end":return t.stop()}}),t,this,[[6,18,21,24]])}))),function(){return L.apply(this,arguments)}),closePopup:function(){this.popupGoodsData=null,this.setData({"popupData.isShow":!1})}}})})),t("41",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C,I,T=t(2),D=t(4);function L(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}(0,T.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t,e){this.initConfigData(t,e)}}},data:{currentCategory:0,categoryScrollLeft:0,waterfallList:[],heightMap:[]},attr:{styleKeysArray:["container.style","tabConfig.style","tabConfig.active.style","tabConfig.active.text.style","tabConfig.active.switchImage.style","tabConfig.normal.style","tabConfig.normal.text.style","skuList.style","skuColumn.style","skuItem.s0.container.style","skuItem.s0.image.style","skuItem.s0.info.container.style","skuItem.s0.info.title.style","skuItem.s0.info.description.style","skuItem.s0.info.originPrice.style","skuItem.s0.info.currentPrice.style","skuItem.s0.button.bg.style","skuItem.s0.button.text.style"],ajaxLock:!1,initWaterfallStore:[],hasSendLog:{},intersectionObserver:null},attached:function(){this.initData(),this.initEvent(),this.initConfigData()},detached:function(){this.attr.hasSendLog={},this.attr.intersectionObserver&&this.attr.intersectionObserver.disconnect(),this.setData({currentCategory:0,categoryScrollLeft:0,heightMap:[],waterfallList:[]})},pageLifetimes:{show:function(){this.attr.hasSendLog={}}},methods:{initConfigData:function(t,e){var n=this;if(this.setStyles(),t&&(0,T.isSimulator)()){if(!e.skuColumn)return;var r=t.skuColumn.number!==e.skuColumn.number,a=t.skuItem.type!==e.skuItem.type;(r||a)&&this.setData({currentCategory:0,categoryScrollLeft:0,heightMap:[],waterfallList:[]},(function(){n.attr.ajaxLock=!1,n.attr.initWaterfallStore=[],n.attr.hasSendLog={},n.initData()}))}},initData:(I=A(regeneratorRuntime.mark((function t(){var e,n,r,a,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=1,n=this.data.currentCategory,t.prev=2,this.attr.ajaxLock=!0,t.next=6,this.fetchData(e,"");case 6:if(0==+(r=t.sent).errNo){t.next=9;break}return t.abrupt("return");case 9:return a=this.getNewWaterfallList(r.data,n,e),t.next=12,this.setDataAsync({waterfallList:a});case 12:this.attr.ajaxLock=!1,this.setCategoryHeight(),this.enterObserve(),r.data.tabInfo.forEach((function(t,r){r!==n&&o.getWaterFall(r,e)})),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),this.attr.ajaxLock=!1;case 21:case"end":return t.stop()}}),t,this,[[2,18]])}))),function(){return I.apply(this,arguments)}),initEvent:function(){var t,e=this;Page.after({url:new RegExp(this.getCurrentPage.uri),methods:{onReachBottom:(t=A(regeneratorRuntime.mark((function t(){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.data,r=n.waterfallList,a=n.currentCategory,r[a]){t.next=3;break}return t.abrupt("return");case 3:if(o=r[a],i=o.hasMore,s=o.goodsPn,i){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,t.next=9,e.getWaterFall(a,s+1);case 9:e.setCategoryHeight(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),console.error("reachBottom error",t.t0);case 15:case"end":return t.stop()}}),t,this,[[6,12]])}))),function(){return t.apply(this,arguments)})}})},setCategoryHeight:function(){var t=this;a.nextTick((function(){var e,n=t.data.currentCategory;(0,D.findTarget)(".waterfall-list-"+n,t).then((e=A(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&r.height&&t.setData(P({},"heightMap["+n+"]",Math.ceil(r.height)+"px"));case 1:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)})).catch((function(t){console.error("findTarget error",t)}))}))},enterObserve:function(){var t=this;a.nextTick((function(){t.attr.intersectionObserver&&t.attr.intersectionObserver.disconnect();try{t.attr.intersectionObserver=t.commonObserver(".sku-item",[1],t.attr.hasSendLog)}catch(t){console.error("commonObserver error",t)}}))},fetchData:(C=A(regeneratorRuntime.mark((function t(e){var n,r,a,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getRequestPageKey(),r=this.properties.componentId,t.next=4,(0,T.getCommonSysInfo)();case 4:return a=t.sent,o={cuid:a.cuid},i=T.Base.stringifyURL({url:this.data.configData.pointData$api,query:Object.assign({},{pageSize:10,pageNum:e,tab:s},(0,D.getIndustrySign)(Object.assign({activityName:n,componentId:r},o)))}),t.abrupt("return",this.request({url:i,method:"post",data:o}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return C.apply(this,arguments)}),decorateGoodsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.map((function(t){return t.originPrice=(t.orgPrice/100).toFixed(2),t.salePrice=(t.realPrice/100).toFixed(2),t}));return e},divideTabListToColumns:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.data.configData.skuColumn.number,n=0,r=[];n<e;){for(var a=0,o=e*a+n,i=[];o<t.length;)i.push(t[o]),o=e*++a+n;r[n]=i,n++}return r},sortListLength:function(t){var e=t.map((function(t,e){return{length:t.length,index:e}}));return e.sort((function(t,e){return t.length-e.length})),e.map((function(t){return t.index}))},getNewWaterfallList:function(t,e,n){var r=t.tabInfo,a=this.data.waterfallList,o=Math.min(e,r.length-1),i=this.decorateGoodsList(r[o].list),s=this.divideTabListToColumns(i);if(a.length){var u=a[e].goodsList,c=a[e].title;u.length||(u=new Array(this.data.configData.skuColumn.number).fill([]));var d=this.sortListLength(u),p=u.map((function(t,e){return[].concat(L(t),L(s[d[e]]))})),l=r[o].total;a[e]={title:c,goodsList:p,goodsPn:n,hasMore:l>10*n,loading:{isShow:l>10,status:l>10*n?"loading":"loaded"}}}else r.forEach((function(t,r){a.push({title:t.tab,goodsList:r===e?[].concat(L(s)):[],goodsPn:n,hasMore:t.total>10*n,loading:{isShow:t.total>10,status:t.total>10*n?"loading":"loaded"}})})),this.attr.initWaterfallStore=t;return a},getWaterFall:(_=A(regeneratorRuntime.mark((function t(e,n){var r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.data.waterfallList[e]){t.next=3;break}return t.abrupt("return");case 3:if(r.goodsList.length){t.next=8;break}return a=this.getNewWaterfallList(this.attr.initWaterfallStore,e,n),t.next=7,this.setDataAsync(P({},"waterfallList["+e+"]",a[e]));case 7:return t.abrupt("return");case 8:if(!this.attr.ajaxLock){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,this.attr.ajaxLock=!0,t.next=14,this.fetchData(n,r.title);case 14:if(!(o=t.sent)||0!=+o.errNo||!o.data){t.next=21;break}return i=this.getNewWaterfallList(o.data,e,n),t.next=19,this.setDataAsync(P({},"waterfallList["+e+"]",i[e]));case 19:t.next=22;break;case 21:1===n?this.showErrorToast(o):this.setData(P({},"waterfallList["+e+"].loading",{isShow:!0,status:"failed"}));case 22:this.attr.ajaxLock=!1,t.next=28;break;case 25:t.prev=25,t.t0=t.catch(10),this.attr.ajaxLock=!1;case 28:case"end":return t.stop()}}),t,this,[[10,25]])}))),function(t,e){return _.apply(this,arguments)}),reachBottomChecker:(k=A(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.data,n=e.currentCategory,r=e.waterfallList,a=r[n],o=a.hasMore,i=a.goodsList,s=void 0===i?[]:i,u=a.goodsPn,c=s.reduce((function(t,e){return t+e.length}),0),!(o&&c<=3)){t.next=7;break}return t.next=6,T.Base.sleep(300);case 6:this.getWaterFall(n,u);case 7:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),swiperCategoryChange:function(t){var e=t.detail,n=e.current;"touch"===e.source&&this.onClickCategoryTab({currentTarget:{dataset:{index:n}}})},onClickCategoryTab:function(t){var e=this,n=t.currentTarget.dataset.index,r=this.data.currentCategory;(0,D.findTarget)(".category-item",this).then((function(t){e.setData({currentCategory:n,categoryScrollLeft:(r-1.8)*t.width},(function(){e.setCategoryHeight(),e.enterObserve(),e.reachBottomChecker()}))}))},handleClickSku:function(t){var e=t.currentTarget.dataset.index,n=this.data,r=n.currentCategory,a=n.waterfallList,o=e.split("-")[0],i=e.split("-")[1],s=a[r].goodsList[o][i];if(s&&s.path){this.sendClick({idValue:s.mid,idName:s.title,idType:a[r].title});var u=s.path.indexOf("?"),c=s.path,d="";-1!==u&&(c=s.path.substring(0,u),d=s.path.substring(u+1)),s.appKey===T.globalData.envInfo.appKey?this.navigate({linkType:T.LINK_TYPE.PAGE,linkPath:c,linkQuery:d}):this.navigate({appKey:s.appKey,linkType:T.LINK_TYPE.SMART_PROGRAM,linkPath:c,linkQuery:d})}else console.error("jump error")},spintapHandler:function(){var t=this.data,e=t.currentCategory,n=t.waterfallList;this.getWaterFall(e,n[e].goodsPn+1)},showErrorToast:function(t){a.showToast({icon:"none",title:"请稍后重试"})}}})})),t("43",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){(0,t(2).createComponent)({properties:{configData:{type:Object,value:function(){},observer:function(){this.setStyles()}}},attr:{styleKeysArray:["wordEdit.style"]},methods:{clickText:function(){var t=this.data.configData.wordEdit,e=t.jumpConfig,n=t.customId;e&&(this.sendClick({idValue:n||"text",idName:"文本编辑",jumpedAppkey:e.appKey,jumpedUrl:e.linkPath||e.url}),this.navigate(e).catch((function(t){console.log(t)})))}}})})),t("45",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2),_=t(12);function C(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}var I,T,D,L,P,A,B,O,j="https://alayn.baidu.com/movie/ajax/updatewish";(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t){this.setStyles();var e=t.subConfig,n=e.subType,r=e.defaultText,a=e.defaultWishText,o=void 0===a?"猫眼想看":a;this.setData({btn:{status:_.SUB_STATUS.NO_SUB,showText:2!==n?r:o}})}}},data:{btn:{status:_.SUB_STATUS.NO_SUB,showText:""},subType:0,moviePopupImage:"https://gimg0.baidu.com/search/src=https%3A%2F%2Famu-bj.cdn.bcebos.com%2Famu%2Fstatic%2Fsmartprogram-solution-components%2Fea3c2af0-6510-4264-aca6-fc1ad4d2ce12.png&refer=http%3A%2F%2Fwww.baidu.com&app=2027&size=f9999,10000&n=0&g=0n&er=404&q=75&fmt=auto",showAddWishSuccess:!1,defaultAgreeCheck:!1,authLoading:!1,popupData:{isShow:!1,type:1,closeImg:"https://amu-bj.cdn.bcebos.com/amu/static/other/866707da-f67a-4a20-80cb-ebf1f87b3de2.png",closeImgStyle:{style:{marginTop:"12px",marginRight:"12px"}}},movieBtnPos:{},arrowPos:""},attr:{styleKeysArray:["container.style","s0.image.style","s0.button.style","s1.image.style","s1.button.style","s1.info.style","s1.title.style","s1.description.style","s2.image.style","s2.button.style"],isFirstShow:!0,subscribeID:"",alreadyAutoSub:!1,ajaxLock:!1,agreeCheck:!1,isMovieAuth:!1,showAddWishTimer:null,location:null},pageLifetimes:{show:function(){this.attr.isFirstShow||this.initSubBtn(),this.attr.isFirstShow=!1}},attached:function(){var t=this;this.initSubBtn(),this.storeSubscribe(["isLogin"],(function(){t.initSubBtn()}))},destroyed:function(){this.attr.showAddWishTimer=null},methods:{initSubBtn:function(){var t=k.Base.get(this.data,"configData.subConfig.subType",0);switch(this.setData({subType:t}),t){case 0:this.getPushSubStatus();break;case 1:this.getSwanSubStatus();break;case 2:this.getMovieWishStatus()}},updateBtn:function(t){var e=this.data.configData.subConfig,n=e.subscribedText,r=e.defaultText,a=e.defaultWishText,o=void 0===a?"猫眼想看":a,i=e.wishedText,s=void 0===i?"已想看":i,u=e.subType,c=t===_.SUB_STATUS.HAS_SUB;this.setData({btn:{showText:c?2!==u?n:s:2!==u?r:o,status:c?_.SUB_STATUS.HAS_SUB:_.SUB_STATUS.NO_SUB}})},displayBtnLog:function(t){var e=t===_.SUB_STATUS.HAS_SUB,n={idName:e?"取消订阅":"订阅",idValue:e?"cancelSub":"sub"};this.sendDisplay(n)},getPushSubStatus:function(){var t=this,e=this.data.configData.subConfig,n=e.autoSub,r={cardFlag:e.cardFlag,subQueryApi:this.data.configData.subQuery$api};(0,_.querySub)(r,this).then((function(e){t.attr.subscribeID=e.id,e?t.updateBtn(e.status):t.updateBtn(_.SUB_STATUS.NO_SUB);var r=t.isLogin();n&&e.status===_.SUB_STATUS.NO_SUB&&r&&!t.attr.alreadyAutoSub&&t.addSubHandler(!0),t.attr.alreadyAutoSub=!0,t.displayBtnLog(e?e.status:_.SUB_STATUS.NO_SUB)})).catch((function(t){console.log(t)}))},getSwanSubStatus:function(){var t=this,e=k.Base.get(this.data,"configData.subConfig"),n=e.templateId,r=e.subscribeId;a.subscribeService({templateId:n,subscribeId:r,type:"query",success:function(e){var n=1==+e.status?_.SUB_STATUS.HAS_SUB:_.SUB_STATUS.NO_SUB;t.updateBtn(n),t.displayBtnLog(n)},fail:function(){t.updateBtn(_.SUB_STATUS.NO_SUB),t.displayBtnLog(_.SUB_STATUS.NO_SUB)}})},getMovieWishStatus:(O=C(regeneratorRuntime.mark((function t(){var e,n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=k.Base.get(this.data,"configData.subConfig.movieId","")).trim()){t.next=5;break}return this.updateBtn(_.SUB_STATUS.NO_SUB),this.displayBtnLog(_.SUB_STATUS.NO_SUB),t.abrupt("return");case 5:return t.prev=5,t.next=8,this.request({url:"https://alayn.baidu.com/movie/ajax/getuserwishlist"});case 8:(n=t.sent)&&0==+n.code&&n.data?(r=n.data.wishMovieList||[],a=r.some((function(t){return e===String(t.movieId)})),o=a?_.SUB_STATUS.HAS_SUB:_.SUB_STATUS.NO_SUB,this.updateBtn(o),this.displayBtnLog(o)):(this.updateBtn(_.SUB_STATUS.NO_SUB),this.displayBtnLog(_.SUB_STATUS.NO_SUB)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),this.updateBtn(_.SUB_STATUS.NO_SUB),this.displayBtnLog(_.SUB_STATUS.NO_SUB);case 16:case"end":return t.stop()}}),t,this,[[5,12]])}))),function(){return O.apply(this,arguments)}),isLogin:function(){return a.isLoginSync().isLogin},showToast:function(t){a.showToast({title:t,icon:"none"})},getLocationInfo:(B=C(regeneratorRuntime.mark((function t(){var e,n,r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getCurrentPage().options.pageKey,n=e+"-"+this.data.componentId+"-subscribe",!this.attr.location){t.next=4;break}return t.abrupt("return",this.attr.location);case 4:if(!(r=a.getStorageSync(n))){t.next=9;break}return t.abrupt("return",r);case 9:return t.next=11,k.swanp.getLocation().then((function(t){var e=t.city,r=void 0===e?"":e,o=t.cityCode,s=void 0===o?"":o;if(r&&s){var u={city:r,cityCode:s};return i.attr.location=u,a.setStorageSync(n,u),u}return{}})).catch((function(t){return console.log(t),{}}));case 11:return o=t.sent,t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this)}))),function(){return B.apply(this,arguments)}),clickBtn:function(t){if(!this.attr.ajaxLock){this.attr.ajaxLock=!0;var e=this.data.btn;this.isLogin()?(this.store.commit("updateLoginState"),e.status===_.SUB_STATUS.NO_SUB&&(this.sendClick({idValue:"sub",idName:"订阅"}),this.subscribe(t)),e.status===_.SUB_STATUS.HAS_SUB&&this.cancel()):(this.attr.ajaxLock=!1,this.showToast("请先登录"))}},subscribe:function(t){switch(this.data.subType){case 0:this.addSubHandler();break;case 1:this.swanSubHandler(t);break;case 2:this.movieWishHandler()}},cancel:function(){var t=this,e=this.data.subType,n=2!==e?"订阅":"想看";a.showModal({content:"取消"+n+"后无法为您推送相关信息，是否确认取消？",cancelText:"保留"+n,confirmText:"取消"+n,success:function(n){if(n.cancel)t.attr.ajaxLock=!1;else switch(t.sendClick({idValue:"cancel-sub",idName:"取消订阅"}),e){case 0:t.cancelSubHandler();break;case 1:t.cancelSwanSubHandler();break;case 2:t.cancelMovieWishHandler()}}})},addSubHandler:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.data.configData.subConfig,r=n.subscribedText,a=n.cardFlag,o={opType:_.OP_TYPE.ADD_SUB,sourceFlag:a,subscribeID:this.attr.subscribeID,subUpdateApi:this.data.configData.subUpdate$api},i=this.data.btn;(0,_.updateSub)(o,this).then((function(n){var a="订阅成功";0===n.code||200000006===n.code?(i.showText=r,i.status=_.SUB_STATUS.HAS_SUB,t.setData({btn:i}),t.sendClick({idValue:"sub-success",idName:"订阅成功"})):a="订阅失败",e||t.showToast(a)})).catch((function(n){console.log(n),e||t.showToast("订阅失败")})).finally((function(){t.attr.ajaxLock=!1}))},cancelSubHandler:function(){var t=this,e=this.data.configData.subConfig,n=e.defaultText,r=e.cardFlag,a={opType:_.OP_TYPE.CANCEL_SUB,sourceFlag:r,subscribeID:this.attr.subscribeID,subUpdateApi:this.data.configData.subUpdate$api},o=this.data.btn;(0,_.updateSub)(a,this).then((function(e){+e.code?t.showToast("取消订阅失败"):(o.showText=n,o.status=_.SUB_STATUS.NO_SUB,t.setData({btn:o}),t.showToast("已取消订阅"))})).catch((function(e){console.log(e),t.showToast("服务繁忙")})).finally((function(){t.attr.ajaxLock=!1}))},swanSubHandler:function(t){"0"===t.detail.status?(this.updateBtn(_.SUB_STATUS.HAS_SUB),this.showToast("订阅成功"),this.sendClick({idValue:"sub-success",idName:"订阅成功"})):this.showToast(t.detail.message||"订阅失败"),this.attr.ajaxLock=!1},cancelSwanSubHandler:function(){var t=this,e=this.data.configData.subConfig,n=e.templateId,r=e.subscribeId;a.subscribeService({templateId:n,subscribeId:r,type:"cancel",success:function(){t.showToast("取消订阅成功");var e=t.data.configData.subConfig.defaultText;t.setData({btn:{showText:e,status:_.SUB_STATUS.NO_SUB}})},fail:function(){t.showToast("操作失败，请稍后重试")},complete:function(){t.attr.ajaxLock=!1}})},movieUserAuth:(A=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.request({url:"https://alayn.baidu.com/movie/ajax/userauth"});case 3:if(0!=+t.sent.code){t.next=6;break}return t.abrupt("return",!0);case 6:return t.abrupt("return",!1);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return A.apply(this,arguments)}),updateMovieWish:(P=C(regeneratorRuntime.mark((function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={movieId:r,action:a,pageName:"xcx_activity"},o&&(e.cityCode=o),t.prev=2,t.next=5,this.request({url:j,data:e,method:"get"});case 5:if(!(n=t.sent)){t.next=18;break}if(0!=+n.code){t.next=11;break}return t.abrupt("return",Object.assign({},n.data,{isAuth:!0}));case 11:if(10007!=+n.code){t.next=15;break}return t.abrupt("return",{isAuth:!1});case 15:return t.abrupt("return",{error:n.msg||"标记失败，请稍后重试"});case 16:t.next=19;break;case 18:return t.abrupt("return",{error:"标记失败，请稍后重试"});case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(2),t.abrupt("return",{error:"标记失败，请稍后重试"});case 24:case"end":return t.stop()}}),t,this,[[2,21]])}))),function(){return P.apply(this,arguments)}),getPageRect:function(){var t=this;return new Promise((function(e,n){t.attr.pageRect?e(t.attr.pageRect):a.createSelectorQuery().select(".wrap").boundingClientRect().exec((function(r){r[0]?(t.attr.pageRect=r[0],e(r[0])):n()}))}))},setMovieTipsPos:function(){var t,e=this;return new Promise((t=C(regeneratorRuntime.mark((function t(n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==e.data.movieBtnPos.top&&n(),t.prev=1,t.next=4,e.getPageRect();case 4:o=t.sent,a.createSelectorQuery().in(e).selectAll(".movie-tip-pos").boundingClientRect().exec((function(t){if(t[0]&&2===t[0].length){var a=t[0][1],i=a.top,s=a.height,u=a.right,c={top:i-t[0][0].top,right:t[0][0].right-u};o.height+o.top-(i+s)<42?e.setData({arrowPos:"bottom",movieBtnPos:{top:c.top-42,right:c.right}}):e.setData({arrowPos:"top",movieBtnPos:{top:c.top+s+2,right:c.right}}),n()}else console.log("error",t),r()})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r();case 11:case"end":return t.stop()}}),t,e,[[1,8]])}))),function(e,n){return t.apply(this,arguments)}))},showAddWishSuccess:(L=C(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=k.Base.get(this.data,"configData.subConfig.jumpConfig"))&&e.linkPath){t.next=5;break}this.showToast("已标记想看"),t.next=15;break;case 5:return t.prev=5,t.next=8,this.setMovieTipsPos();case 8:this.setData("showAddWishSuccess",!0),this.attr.showAddWishTimer=setTimeout((function(){n.setData("showAddWishSuccess",!1),n.attr.showAddWishTimer=null}),3e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),this.showToast("已标记想看");case 15:case"end":return t.stop()}}),t,this,[[5,12]])}))),function(){return L.apply(this,arguments)}),movieWishHandler:(D=C(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=k.Base.get(this.data,"configData.subConfig.movieId","")).trim()){t.next=5;break}return this.showToast("电影ID不能为空"),this.attr.ajaxLock=!1,t.abrupt("return");case 5:return t.next=7,this.getLocationInfo();case 7:return n=t.sent,r=n.cityCode,t.next=11,this.updateMovieWish(e,"add",r);case 11:!1===(a=t.sent).isAuth?this.setData("popupData.isShow",!0):a.error?this.showToast(a.error):(this.closePopup(),this.updateBtn(_.SUB_STATUS.HAS_SUB),this.showAddWishSuccess(),this.sendClick({idValue:"sub-success",idName:"订阅"})),this.attr.ajaxLock=!1;case 14:case"end":return t.stop()}}),t,this)}))),function(){return D.apply(this,arguments)}),cancelMovieWishHandler:(T=C(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=k.Base.get(this.data,"configData.subConfig.movieId",""),t.next=3,this.updateMovieWish(e,"del");case 3:"0"===(n=t.sent).isWish?(this.showToast("已取消想看"),this.updateBtn(_.SUB_STATUS.NO_SUB)):n.error&&this.showToast(n.error),this.attr.ajaxLock=!1;case 6:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)}),jumpToMovie:function(){var t=k.Base.get(this.data,"configData.subConfig.jumpConfig");this.sendClick({idValue:"电影落地页",idName:"订阅"}),this.navigate(t),this.setData("showAddWishSuccess",!1),this.attr.showAddWishTimer=null},agreeCheckChange:function(){this.attr.agreeCheck=!this.attr.agreeCheck},movieAuthHandler:(I=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.attr.agreeCheck){t.next=5;break}return this.showToast("请阅读并同意服务协议"),t.abrupt("return");case 5:return this.setData("authLoading",!0),this.attr.ajaxLock=!0,t.next=9,this.movieUserAuth();case 9:if(!t.sent){t.next=15;break}return t.next=13,this.movieWishHandler();case 13:t.next=16;break;case 15:this.showToast("标记失败，请稍后重试");case 16:this.attr.ajaxLock=!1,this.setData("authLoading",!1);case 18:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)}),jumpToAgree:function(t){var e=t.currentTarget.dataset.type,n={linkType:k.LINK_TYPE.BD_BOX_WEB_VIEW,linkPath:"/browser/open",linkQuery:"user"===e?"url=https://m.maoyan.com/terms/terms":"url=https://m.maoyan.com/terms/private"};this.navigate(n)},closePopup:function(){this.attr.agreeCheck=!1,this.attr.ajaxLock=!1,this.setData({authLoading:!1,"popupData.isShow":!1})}}})})),t("47",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_,C,I,T=t(2),D=t(4),L=t(9);function P(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}(0,T.createComponent)({properties:{configData:{type:Object,value:function(){},observer:function(){this.initComp()}}},data:{isMoveWidget:!0,isSimulator:!1,containerBottom:"",foldPosition:""},attr:{styleKeysArray:["container.style","icon.style","initText.style"],timer:null,addLock:!1,showTime:3e3,host:""},pageLifetimes:{show:function(){this.attr.isIos&&this.data.configData.isAutoFold&&this.hideWidget()},hide:function(){clearInterval(this.attr.timer)}},created:function(){var t=T.globalData.systemInfo,e=t.platform,n=t.host,r=(0,T.isSimulator)();this.attr.isIos="ios"===e,this.attr.host=n,"web"===e&&(this.attr.host="web"),this.setData({isSimulator:r})},methods:{initComp:function(){var t=T.Base.get(this.data,"configData.container.bottom",350),e=T.Base.get(this.data,"configData.container.foldPosition",240),n=T.Base.get(this.data,"configData.showTime",3),r={isMoveWidget:!0,containerBottom:(0,D.px2vw)(parseInt(t,10)),foldPosition:(0,D.px2vw)(parseInt(e,10)),showTime:1e3*n};this.setStyles(),this.setData(r),this.data.configData.isAutoFold&&this.hideWidget()},hideWidget:function(){var t=this;this.attr.timer=setTimeout((function(){t.setData({isMoveWidget:!1})}),this.data.showTime)},getUpdateId:(I=P(regeneratorRuntime.mark((function t(){var e,n,r,a,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={widgetType:T.Base.get(this.data,"configData.govReq.widgetType","")},n=T.Base.get(this.data,"configData.updateId$api",L.HOST+"/ma/zw/services/widget/add"),r=T.Base.stringifyURL({url:n,query:Object.assign({},(0,D.getWidgetReqSign)({from:"amu"}))}),t.next=5,(0,T.getCommonSysInfo)();case 5:return a=t.sent,o=a.cuid,i={Cookie:"BAIDUCUID="+o},t.next=10,this.request({header:i,url:r,method:"post",data:e});case 10:if(0!=+(s=t.sent).errNo||!s.data||!s.data.updateId){t.next=13;break}return t.abrupt("return",s.data.updateId);case 13:throw new Error(s);case 14:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)}),getLocationInfo:(C=P(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getCurrentPage().options.pageKey,n=e+"-"+this.data.componentId+"-widget-location",!(r=a.getStorageSync(n))){t.next=7;break}return t.abrupt("return",r);case 7:return t.next=9,T.swanp.getLocation().then((function(t){return t.city&&t.cityCode?(a.setStorageSync(n,t),t):""})).catch((function(t){return console.log(t),""}));case 9:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)}),submitLocationHdl:(_=P(regeneratorRuntime.mark((function t(){var e,n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.data.configData,n=e.hasLocation,r=e.locationConfig,a={statistic:{},params:{}},!n||!r.length){t.next=7;break}return t.next=5,this.getLocationInfo();case 5:(o=t.sent)&&r.forEach((function(t){var e=t.oriKey,n=t.newKey,r=t.confName;r&&void 0!==e&&(a[r][n||e]=o[e])}));case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),submitUrlQueryHdl:function(){var t=this.data.configData,e=t.hasQuery,n=t.queryConfig,r={statistic:{},params:{}};if(e&&n.length){var a=this.getCurrentPage().options;n.forEach((function(t){var e=t.key,n=t.path,o=t.confName;if(void 0!==e){var i=(0,D.pathDataTransform)(a,{paramPath:n,paramKey:e},!0);void 0!==i[e]&&(r[o][e]=i[e])}}))}return r},showToast:function(t){a.showToast({title:t,icon:"none"})},openWidget:function(){this.data.isMoveWidget?this.addWidget():(clearInterval(this.attr.timer),this.setData({isMoveWidget:!0}),this.data.configData.isAutoFold&&this.hideWidget())},addWidget:(k=P(regeneratorRuntime.mark((function t(){var e,n,r,o,i,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sendClick({idValue:"addWidget",idName:"一键添桌"}),"baiduboxapp"===this.attr.host){t.next=4;break}return this.unsupportedModal(),t.abrupt("return");case 4:if(a.canIUse("addCustomWidget")||this.attr.isIos){t.next=7;break}return this.showToast("当前APP版本过低，请升级最新版后重试"),t.abrupt("return");case 7:if(!this.attr.isIos){t.next=10;break}return this.navigate({linkType:T.LINK_TYPE.BD_BOX_WEB_VIEW,linkPath:"/browser/open",linkQuery:"url=https://motion.baidu.com/activity/widget/ios"}).catch((function(t){console.log(t)})),t.abrupt("return");case 10:if(!this.attr.addLock){t.next=12;break}return t.abrupt("return");case 12:if(this.attr.addLock=!0,e=this.data.configData,n=e.widgetId,r=e.customWidgetConfig,o=e.govReq,i=void 0===o?{}:o,n){t.next=17;break}return this.showToast("添加失败：缺少widgetId"),t.abrupt("return");case 17:clearInterval(this.attr.timer),a.checkWidgetState({type:"14",success:function(){var t=P(regeneratorRuntime.mark((function t(){var e,o,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.submitLocationHdl();case 2:if(e=t.sent,o=s.submitUrlQueryHdl(),u={statistic:{},params:{}},!i.needUpdateId){t.next=16;break}return t.prev=6,t.next=9,s.getUpdateId();case 9:u.params.updateId=t.sent,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(6),console.log("update error",t.t0),u.params.updateId="";case 16:try{r=JSON.parse(r)}catch(t){r={statistic:{},params:{}}}Object.keys(r).forEach((function(t){r[t]=Object.assign({},r[t],e[t],o[t])})),a.addCustomWidget({widgetId:n,widgetConfig:r.params,customWidgetConfig:r,success:function(){s.sendClick({idValue:"widget成功",idName:"一键添桌"}),s.showToast("添加成功")},fail:function(t){var e;e="this widget already exists"===t.errMsg?"桌面已存在，无需重复添加":1001==+t.errCode||3e3==+t.errCode?"系统不支持":"添加失败",s.showToast(e)},complete:function(){s.afterAddWidgetHdl()}});case 19:case"end":return t.stop()}}),t,s,[[6,12]])})));return function(){return t.apply(this,arguments)}}(),fail:function(t){console.log(t),a.addToDesktop?a.addToDesktop({success:function(){s.sendClick({idValue:"desktop成功",idName:"一键添桌"}),s.showToast("添加成功")},fail:function(t){console.log("addToDesktop fail",t),s.showToast("添加失败")},complete:function(){s.afterAddWidgetHdl()}}):s.afterAddWidgetHdl()}});case 19:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),afterAddWidgetHdl:function(){this.attr.addLock=!1,this.data.configData.isAutoFold&&this.hideWidget()},unsupportedModal:function(){a.showModal({title:"提示",content:"当前功能建设中，敬请期待，您也可以在百度APP中先行体验完整功能",showCancel:!1,confirmText:"我知道了"})}}})})),t("49",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2);function _(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(0,k.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t){this.initComp(t)}}},data:{current:0,isSimulator:!1,itemList:[]},attr:{styleKeysArray:["container.style"]},methods:{initComp:function(t){this.setData({itemList:[].concat(_(t.adList))}),this.setStyles()},adErrorHandle:function(t){console.error(t);var e=this.data.itemList;this.setData({itemList:e.filter((function(t){return!(t&&t.apid)}))}),k.spyClient.sendJSErrorLog(t)},adCloseHandle:function(t){1===this.data.itemList.length&&this.setData({itemList:[]})}},attached:function(){this.sendDisplay({idValue:0,idName:"广告组件"})},created:function(){this.setData("isSimulator",(0,k.isSimulator)())}})})),t("51",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){t(52);var k,_,C=t(2),I=t(58);function T(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}}(0,C.createPage)({behaviors:[I.pageBehavior],data:{schema:{},isShowLoginModal:!1,navigationBarOptions:{},navigationBarAndStatusBarHeight:C.globalData.systemInfo.navigationBarAndStatusBarHeight,pageDataRequestErrNo:0,triggerViewHeight:!1,isShowWatermark:!1},onInit:function(){C.Base.get(C.globalData,"envInfo.appKey")&&this.init()},onLoad:function(){!this.isInit&&this.init()},onShow:(_=T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkActivityTime();case 2:this.checkLogin();case 3:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),login:function(t){"login:ok"===t.detail.errMsg?this.store.commit("updateLoginState",!!C.swanp.isLoginSync().isLogin):C.swanp.showToast({icon:"none",title:"登录失败"})},init:function(){var t,e=this;this.isInit=!0,this.getPageData({cached:!0}).then((t=T(regeneratorRuntime.mark((function t(n){var r,o,i,s,u,c,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.data||{},0==+n.errNo){t.next=6;break}return t.next=4,e.setDataAsync({pageDataRequestErrNo:+n.errNo});case 4:return e.renderCompletion(),t.abrupt("return");case 6:return o=C.Base.get(r,"schema.pages"),i=C.Base.isArray(o)?o[0]:r.schema,s=C.Base.get(i,"pageConfig.forceOpenNASmartProgram",!0),u=C.globalData.bootstrapPagePath||"",c=u.startsWith("/")?"":"/",d=u?{path:""+c+u,query:e.options}:null,s&&C.swanp.openNASmartProgram&&C.swanp.openNASmartProgram(d),(p=C.Base.get(i,"pageConfig.backgroundColor",""))&&a.setBackgroundColor({backgroundColor:p}),!C.Base.get(i,"pageConfig.loginModal")&&C.Base.deepAssign(i,{pageConfig:{loginModal:{isShow:!1,backgroundImage:"https://gimg0.baidu.com/search/src=https%3A%2F%2Famu-bj.cdn.bcebos.com%2Famu%2Fstatic%2Fsmartprogram-solution-components%2F487039a0-5533-4781-bb7b-84382e74958f.png&refer=http%3A%2F%2Fwww.baidu.com&app=2027&size=f9999,10000&n=0&g=0n&er=404&q=75&fmt=auto",loginButtonText:"登录",closeButtonImage:"https://sp-cms-bj.cdn.bcebos.com/codeless/16e058cc-69c4-4278-a089-4c68a66ebc3b.png",isShowClose:!1}}}),t.next=18,e.setDataAsync({schema:i,navigationBarOptions:{title:C.Base.get(i,"pageConfig.navigationBarTitleText",""),frontColor:C.Base.get(i,"pageConfig.navigationBarFrontColor"),titleTextColor:C.Base.get(i,"pageConfig.navigationBarTitleTextColor"),navigationBarBackgroundColor:C.Base.get(i,"pageConfig.navigationBarBackgroundColor"),translucent:C.Base.get(i,"pageConfig.navigationBarTranslucent",!0),homepagePath:C.Base.get(i,"pageConfig.homepagePath")}});case 18:return e.isInitCompletion=!0,e.renderCompletion(),t.next=22,e.checkActivityTime();case 22:e.checkLogin();case 23:case"end":return t.stop()}}),t,e)}))),function(e){return t.apply(this,arguments)})).catch(T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setDataAsync({pageDataRequestErrNo:!0});case 2:e.renderCompletion();case 3:case"end":return t.stop()}}),t,e)})))).finally((function(){e.clearMeanDataPromise(),C.spyClient.sendPvLog(),e.sendDisplay()}));var n=this.options,r=n.pageKey,o=void 0===r?"":r,i=n._watermark,s=void 0===i?"":i;o.indexOf("_dev")>0&&this.setData("isShowWatermark","0"!==s)},renderCompletion:function(){this.setData({triggerViewHeight:!0}),this.removeSkeleton()},checkLogin:function(){if(this.isInitCompletion&&!this.isShowTimeInvalidModal){var t=!!C.swanp.isLoginSync().isLogin;this.store.state.isLogin!==t&&this.store.commit("updateLoginState",t);var e=C.Base.get(this.data,"schema.pageConfig.loginModal.isForceLogin");this.setData({"schema.pageConfig.loginModal.isShow":("true"===this.options.forceLogin||e)&&!t})}},checkActivityTime:(k=T(regeneratorRuntime.mark((function t(){var e,n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInitCompletion&&!this.isShowTimeInvalidModal){t.next=2;break}return t.abrupt("return");case 2:if(e=this.pageData,n=this.data.schema,r=Date.now()/1e3,t.prev=5,!(e.endTime<r)){t.next=18;break}return a=C.Base.get(n,"pageConfig.expiredModal",{}),this.isShowTimeInvalidModal=!0,t.next=11,C.swanp.showModal(Object.assign({title:"活动提示",content:"当前活动已结束！",showCancel:!1},a));case 11:if(t.sent.confirm){t.next=14;break}return t.abrupt("return");case 14:o=C.Base.get(a,"confirmAction.linkType",-1),a.navigateBackOnConfirm?C.swanp.navigateBack():-1!==o&&this.navigate(a.confirmAction),t.next=22;break;case 18:if(!(r<e.startTime)){t.next=22;break}return this.isShowTimeInvalidModal=!0,t.next=22,C.swanp.showModal({title:"活动提示",content:"当前活动未开始！",showCancel:!1});case 22:return t.prev=22,this.isShowTimeInvalidModal=!1,t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[5,,22,25]])}))),function(){return k.apply(this,arguments)}),closeLoginModal:function(){this.setData({"schema.pageConfig.loginModal.isShow":!1})},reloadComponentsData:function(){this.isInit=!1,this.setData({pageDataRequestErrNo:0}),this.init()}})})),t("52",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.getPageData=n.extraGlobalData=n.handleBeforeAppClose=n.getPageFirstMeanData=n.navigateToTemplatePage=void 0;var k,_,C=(k=regeneratorRuntime.mark((function t(e){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,I.getPageFirstMeanData)({pageKey:e.pageKey});case 3:return n=t.sent,r=n.data||{},a=I.Base.get(r,"schema.pages"),(o=I.Base.isArray(a)?a[0]:r.schema).componentsMap={},(o.components||[]).forEach((function(t){o.componentsMap[t.id]=t})),t.abrupt("return",{errNo:n.errNo,data:o});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{errNo:1});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})),_=function(){var t=k.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));e(s)}("next")}))},function(t){return _.apply(this,arguments)}),I=t(2),T=t(53),D=t(54),L=t(55),P=t(56);t(57);var A=!1,B=["dynamicLib://"+P.dynamicLibName+"/pages/index/index"];A||(I.globalData.webViewPagePath="dynamicLib://"+P.dynamicLibName+"/pages/web-view/index",I.globalData.amuHost.name=P.dynamicLibName,I.globalData.amuHost.cdVersion=P.version,I.globalData.amuHost.env=P.env,I.globalData.amuHost.buildTime=P.buildTime,I.amuUbcLogger.serverId="13770",I.amuUbcLogger.testMode="development"===P.env,I.spyClient.pId="27_128",!I.storeManager.store&&I.storeManager.initStore(T.store),A=!0,App.after({methods:{onLaunch:function(t){try{var e=I.Base.get(t,"args.query",{}),n=I.Base.get(t,"args.path","");e.pageKey&&(n.includes("/swan-solutions-ug-template/")||n.includes("pages/bootstrap/index"))&&(0,I.getPageFirstMeanData)(Object.assign({},e,{cached:!0})).catch((function(){}))}finally{}}}})),n.navigateToTemplatePage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.globalData.templatePageNavigateOptions=n,I.globalData.bootstrapPagePath=e,a.redirectTo({url:I.Base.stringifyURL({url:"dynamicLib://"+P.dynamicLibName+"/pages/index/index",query:t})})},n.getPageFirstMeanData=I.getPageFirstMeanData,n.handleBeforeAppClose=function(t){try{var e=I.Base.get((0,L.getCurrentPage)(),"uri","");return!!B.includes(e)&&(t&&t.preventDefault&&t.preventDefault(),I.eventHub.fireMessage({type:D.EVENT_TYPE.BEFORE_APP_CLOSE,data:{event:t}}),!0)}catch(t){return!1}},n.extraGlobalData=I.extraGlobalData,n.getPageData=C})),t("53",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.store=void 0;var k=t(2);n.store={state:{isLogin:!!k.swanp.isLoginSync().isLogin},fields:"*",mutations:{updateLoginState:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.swanp.isLoginSync().isLogin;t.isLogin=e}}}})),t("54",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.EVENT_TYPE={BEFORE_APP_CLOSE:"BEFORE_APP_CLOSE"}})),t("55",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0});var k={uri:"",options:{}};n.getCurrentPage=function(){var t=getCurrentPages()||[];return t&&t.length&&t[t.length-1]||k}})),t("56",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){e.exports=JSON.parse('{"dynamicLibName":"swan-solutions-ug-template","version":"0.1.27","env":"production","buildTime":"2023-05-04 10:57:51"}')})),t("57",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){})),t("58",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0}),n.pageBehavior=void 0;var k=t(54),_=t(55),C=t(2),I=Behavior({data:{isShowBeforeAppCloseModal:!1},onLoad:function(){var t=this;this.onEventHubMessage(k.EVENT_TYPE.BEFORE_APP_CLOSE,(function(){t.showBeforeAppClose()}))},methods:{showBeforeAppClose:function(){(0,_.getCurrentPage)()===this&&(C.Base.get(this.data,"schema.pageConfig.beforeAppCloseModal",{}).isShow?(this.setData({isShowBeforeAppCloseModal:!0}),this.sendDisplay({idName:"挽留弹窗",idValue:"keep-stay-pop"})):this.closeApp())},closeApp:function(){this.setData({isShowBeforeAppCloseModal:!1}),a.exit()},cancelCloseApp:function(){this.setData({isShowBeforeAppCloseModal:!1})}}});n.pageBehavior=I})),t("61",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){t(52),(0,t(2).createPage)({data:{url:""},onLoad:function(t){this.sendDisplay(),this.setData({url:t.url})}})})),t("63",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){(0,t(2).createComponent)({properties:{configData:{type:Object,value:{isShow:!1,closeImg:"https://b.bdstatic.com/searchbox/icms/searchbox/img/city-close.png"},observer:function(){this.setStyles()}},componentName:{type:String,value:"popup"},componentDescription:{type:String,value:"弹窗"}},attr:{styleKeysArray:["closeImgStyle.style"],styleDataKeysMap:{"closeImgStyle.style":"closeStyle"}},methods:{close:function(){this.triggerEvent("close")},catchTouchMove:function(){}}})})),t("65",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k,_=t(2),C=(k=t(66))&&k.__esModule?k:{default:k},I=t(4);function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D={HEADER:{OLD_KEY:"headerBgImg",NEW_KEY:"couponHeader"},BODY:{OLD_KEY:"bodyBgImg",NEW_KEY:"couponList"},FOOTER:{OLD_KEY:"footerBgImg",NEW_KEY:"couponFooter"}};(0,_.createComponent)({properties:{configData:{type:Object,value:{},observer:function(t){this.initComp(t)}},componentName:{type:String,value:"coupon-main"},componentDescription:{type:String,value:"基础-优惠券"}},data:{packStatus:0,couponList:[],couponPackHeightVw:0,couponData:{},isSimulator:!1,packBtnStyle:{}},attr:{styleKeysArray:["coupon.style","couponList.style","couponsItem.style","couponHeader.style","couponFooter.style","verticalMedia.style","packHeader.style","packBtnConfig.style","packBtnConfig.1.style","packBtnConfig.2.style","packBtnConfig.3.style","packBtnConfig.4.style"],styleDataKeysMap:{"packBtnConfig.1.style":"packBtnStyle[1]","packBtnConfig.2.style":"packBtnStyle[2]","packBtnConfig.3.style":"packBtnStyle[3]","packBtnConfig.4.style":"packBtnStyle[4]"}},created:function(){this.setData("isSimulator",(0,_.isSimulator)())},attached:function(){},detached:function(){},methods:{initComp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.configData;this.attr.styleKeysArray.forEach((function(e){var n=e.split(".")[0];t[n]&&t[n].style||(t[n]={style:Object.assign({},C.default[n].style)})})),1!==t.modeType&&Object.keys(D).forEach((function(e){var n=D[e],r=n.OLD_KEY,a=n.NEW_KEY;t[a].style.backgroundImage||(t[a].style.backgroundImage=t[r])}));var e=t.couponConfig[7],n=e.borderColor,r=e.borderShadowColor;n&&!t.verticalMedia.style.borderColor&&(t.verticalMedia.style.borderColor=n),r&&!t.verticalMedia.style.boxShadowColor&&(t.verticalMedia.style.boxShadowColor=r),this.setStyles(t);var a=t.couponPackHeight,o=this.data.couponData;Object.keys(t.couponConfig).forEach((function(e){o[e]||(o[e]={}),t.couponConfig[e]&&(o[e].couponHeightVw=(0,I.px2vw)(t.couponConfig[e].couponHeight),o[e].bottomHeightVw=(0,I.px2vw)(t.couponConfig[e].bottomHeight),o[e].titleBottomVw=(0,I.px2vw)(t.couponConfig[e].titleBottom),o[e].topHeightVw=o[e].couponHeightVw-o[e].bottomHeightVw)})),this.setData({couponPackHeightVw:(0,I.px2vw)(a),couponData:o,packStatus:t.packStatus,couponList:t.coupons}),this.sendDisplay({ids:t.coupons.map((function(t){return{idValue:t.styleData.customId,couponId:t.couponBatchId,idStatus:t.status}}))})},takeCouponList:function(){this.triggerEvent("takecouponlist")},takeCoupon:function(t){this.triggerEvent("takecoupon",t.target.dataset.index)},couponJump:function(t){var e=t.target.dataset.index,n=this.data.couponList[e],r=n.styleData.jumpConfig||{};this.sendUbcLog("click",{idValue:"jump-btn",couponId:n.couponBatchId,idStatus:n.status,jumpedAppkey:r.appKey,jumpedUrl:r.linkPath||r.url}),this.navigate(n.styleData.secondJumpConfig)},pauseVideo:function(t){var e=T({},"couponList["+t.target.dataset.index+"].isPlaying",!1);this.setData(e)},playVideo:function(t){var e=T({},"couponList["+t.target.dataset.index+"].isPlaying",!0);this.setData(e)}}})})),t("66",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Object.defineProperty(n,"__esModule",{value:!0});var k=t(9);n.default={displayType:0,isBox:!1,modeType:1,headerBgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/fd9f26b7-3f5a-4b83-a53e-48b8c806657a.png",bodyBgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/f9aec85c-24fe-49ed-bbf8-3fd9ff923eff.png",footerBgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/bed8cba7-3864-4ddc-a4a3-81997e8af5e9.png",isPack:!1,packConfig:{num:"100",numColor:"#DE1B1B",desc:"团油加油满100.1元使用",descColor:"#DE1B1B"},couponPackHeight:659,packBtnActionType:0,packHeader:{style:{}},packBtnConfig:{position:0,style:{width:600,height:132},1:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"未开始",textColor:"#ef2200",style:{}},2:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"可领取",textColor:"#ef2200",style:{}},3:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"已领取",textColor:"#ef2200",style:{}},4:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"已结束",textColor:"#ef2200",style:{}}},layoutType:1,horizontalPadding:0,couponData$api:k.INDUSTRY_HOST+"/ma/smarket-api/coupondata",couponTake$api:k.INDUSTRY_HOST+"/ma/smarket-api/coupontake",antifraudConfig:{aid:0,dataApp:""},oneClickToTakeAndUse:!1,guideSrc:"https://scenter.cdn.bcebos.com/finger_afx.mp4",coupon:{style:{display:"flex",flexWrap:"wrap"}},couponScroll:{style:{}},couponList:{style:{}},couponsItem:{style:{display:"flex"}},couponHeader:{style:{display:"flex",width:1138,height:72}},couponFooter:{style:{display:"flex",width:1138,height:72}},verticalMedia:{style:{display:"block",borderWidth:2,borderRadius:30,borderStyle:"solid",height:0,boxShadowHorizontal:0,boxShadowVertical:4,boxShadowBlur:21,boxShadowSpread:0}},couponConfig:{1:{bgColor:"#b8310e",titleColor:"#fff",descBgColor:"rgba(0, 0, 0, 0.6)",descTextColor:"#eee",borderRadius:20},2:{bgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/2ecb9c8e-4cd0-4041-a11b-83021c0aaeab.png",titleColor:"#fff",couponHeight:713,bottomHeight:150,titleBottom:-18,borderRadius:0,doubleBtn:!1,btnJumpConfig:{text:"点击想看",textColor:"#f54930"}},3:{bgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/10ec8a05-6d0c-4c27-9368-7ea4d734bd5f.png",discountColor:"#de1b1b",nameColor:"#683723",descTextColor:"#683723",limitColor:"#FFC7C7"},4:{bgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/29e918fd-eafc-430a-a045-40b3bd00da2f.png",discountColor:"#de1b1b",descTextColor:"#683723",tipColor:"#683723"},5:{bgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/cb5ebbe7-ba3a-49d1-83f4-1da625d6241c.png",discountColor:"#de1b1b",nameColor:"#683723",descTextColor:"#683723",limitColor:"#FFC7C7"},6:{bgImg:"https://sp-cms-bj.cdn.bcebos.com/codeless/7e5b0d8b-f091-4e60-9d25-b073e31dd95d.png",discountColor:"#de1b1b",nameColor:"#683723"},7:{nameColor:"#683723",doubleBtn:!0,borderColor:"#fff",btnJumpConfig:{text:"点击想看",textColor:"#f1547d",bgImg:""}}},btnOneShow:!1,btnConfig:{1:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"未开始",textColor:"#ef2200",btnBg:""},2:{startBgColor:"#ffeb8f",endBgColor:"#ff9608",text:"领券下单 >",textColor:"#ef2200",btnBg:""},3:{startBgColor:"#ffeb8f",endBgColor:"#ffeb8f",text:"去使用",textColor:"#ef2200",btnBg:""},4:{startBgColor:"#ffeb8f",endBgColor:"#ffeb8f",text:"已使用",textColor:"#ef2200",btnBg:""},5:{startBgColor:"#ffeb8f",endBgColor:"#ffeb8f",text:"已抢光",textColor:"#ef2200",btnBg:""},6:{startBgColor:"#ffeb8f",endBgColor:"#ffeb8f",text:"无资格",textColor:"#ef2200",btnBg:""},7:{startBgColor:"#ffeb8f",endBgColor:"#ffeb8f",text:"已过期",textColor:"#ef2200",btnBg:""}},takeStatusConfig:{1:{text:"领取成功"},2:{text:"领取失败"},3:{text:"领取失败，未开始"},4:{text:"领取失败，达到领取上限"},5:{text:"已抢光"}},popup:{showType:0,frequencyType:2,styleType:0,placeholder:{style:{}},background:{style:{width:1242,backgroundImage:"",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",borderRadius:54}},couponList:{style:{}},description:{isShow:!1,text:"优惠立减",style:{}},close:{style:{}}}}})),t("68",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Component({properties:{status:{type:String,value:"loading"},isShow:{type:Boolean,value:!1},unloadedText:{type:String,value:"点击加载更多"},loadingText:{type:String,value:"正在加载..."},loadedText:{type:String,value:"已经到底啦"},failedText:{type:String,value:"加载失败 点击重新加载"}},methods:{onTap:function(){var t=this.data.status;"loading"!==t&&"loaded"!==t&&this.triggerEvent("loadingtap")}}})})),t("70",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){var k=t(2),_=k.globalData.systemInfo;Component({properties:{options:{type:Object,value:{frontColor:"#ffffff",navigationBarBackgroundColor:"transparent"},observer:function(){this.setNavigationBarOptions()}}},data:{navigationBarAndStatusBarHeight:_.navigationBarAndStatusBarHeight,navigationBarHeight:_.navigationBarHeight,statusBarHeight:_.statusBarHeight,showHomepageIcon:!1,showBackIcon:!1,navigationBarStyle:{navigationBarBackgroundColor:"#0000"},leftIconColor:"black",quot:'"'},created:function(){this.setNavigationBarOptions(),this.supportNativeBack=(0,k.compareVersion)(_.swanNativeVersion,"2.28.0")>=0},methods:{isCustomBackButton:function(){return k.Base.get(k.globalData.templatePageNavigateOptions,"isCustomBackButton",!1)||"BqMNg4PRZq9U4GlZLMdOkEwBbbKLMGhu"===k.globalData.envInfo.appKey},setNavigationBarOptions:function(){var t=this.supportNativeBack&&!this.isCustomBackButton();this.setData({showBackIcon:!t});var e=k.Base.get(this.properties.options,"frontColor")||"#000000",n=k.Base.get(this.properties.options,"navigationBarBackgroundColor")||"#0000";k.swanp.setNavigationBarColor({frontColor:e,backgroundColor:(0,k.rgbaToHex)(n,!0)});var r=k.Base.get(this.properties.options,"homepagePath");this.setData({showHomepageIcon:!!r&&1===getCurrentPages().length,leftIconColor:"#000000"===e?"black":"white"})},back:function(){getCurrentPages().length>1?k.swanp.navigateBack():k.swanp.exit()},relaunchHomepage:function(){var t=k.Base.get(this.properties.options,"homepagePath");t&&k.swanp.reLaunch({url:t})}}})})),t("72",(function(t,e,n,r,a,o,i,s,u,c,d,p,l,f,h,g,m,v,b,y,w,x,S){Component({data:{text:"测试环境，请勿分发",count:8,markArr:[]},attached:function(){var t=this.data,e=t.text,n=void 0===e?"测试环境，请勿分发":e,r=t.count,a=void 0===r?8:r;this.setData("markArr",new Array(a).fill(n))}})})),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/sudoku/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index"],window.usingPluginComponents=[],e("1"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/header-btn/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("11"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/task-list/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("16"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/invite-node/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index"],window.usingPluginComponents=[],e("18"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/kong-site/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("21"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/feedback/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("23"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/divider-view/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("25"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/tabs-server/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("27"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/swiper-banner/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("29"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/grid-chunk/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("31"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/image-view/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("33"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/coupon/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index","node_modules/@baidu/smartprogram-solution-components/components/base/coupon-main/swan/index"],window.usingPluginComponents=[],e("35"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/feed/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("37"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/bonus-goods/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index"],window.usingPluginComponents=[],e("39"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/sku/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/loading/swan/index"],window.usingPluginComponents=[],e("41"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/word-edit/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("43"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/subscribe/swan/index",window.usingComponents=["node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index"],window.usingPluginComponents=[],e("45"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/add-widget/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("47"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/advert/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("49"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/pages/index/index",window.usingComponents=["components/navigation-bar/navigation-bar","components/watermark/watermark","node_modules/@baidu/smartprogram-solution-components/components/sudoku/swan/index","node_modules/@baidu/smartprogram-solution-components/components/header-btn/swan/index","node_modules/@baidu/smartprogram-solution-components/components/task-list/swan/index","node_modules/@baidu/smartprogram-solution-components/components/invite-node/swan/index","node_modules/@baidu/smartprogram-solution-components/components/kong-site/swan/index","node_modules/@baidu/smartprogram-solution-components/components/feedback/swan/index","node_modules/@baidu/smartprogram-solution-components/components/divider-view/swan/index","node_modules/@baidu/smartprogram-solution-components/components/tabs-server/swan/index","node_modules/@baidu/smartprogram-solution-components/components/swiper-banner/swan/index","node_modules/@baidu/smartprogram-solution-components/components/grid-chunk/swan/index","node_modules/@baidu/smartprogram-solution-components/components/image-view/swan/index","node_modules/@baidu/smartprogram-solution-components/components/coupon/swan/index","node_modules/@baidu/smartprogram-solution-components/components/feed/swan/index","node_modules/@baidu/smartprogram-solution-components/components/bonus-goods/swan/index","node_modules/@baidu/smartprogram-solution-components/components/sku/swan/index","node_modules/@baidu/smartprogram-solution-components/components/word-edit/swan/index","node_modules/@baidu/smartprogram-solution-components/components/subscribe/swan/index","node_modules/@baidu/smartprogram-solution-components/components/add-widget/swan/index","node_modules/@baidu/smartprogram-solution-components/components/advert/swan/index"],window.usingPluginComponents=[],e("51"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/pages/web-view/index",window.usingComponents=[],window.usingPluginComponents=[],e("61"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/base/popup/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("63"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/base/coupon-main/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("65"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/node_modules/@baidu/smartprogram-solution-components/components/base/loading/swan/index",window.usingComponents=[],window.usingPluginComponents=[],e("68"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/components/navigation-bar/navigation-bar",window.usingComponents=[],window.usingPluginComponents=[],e("70"),window.__swanRoute="dynamicLib://swan-solutions-ug-template/components/watermark/watermark",window.usingComponents=[],window.usingPluginComponents=[],e("72"),n.exports=function(){return e("52")}}),{"dynamicLib://swan-solutions-ug-template/sudoku":"node_modules/@baidu/smartprogram-solution-components/components/sudoku/swan/index","dynamicLib://swan-solutions-ug-template/header-btn":"node_modules/@baidu/smartprogram-solution-components/components/header-btn/swan/index","dynamicLib://swan-solutions-ug-template/task-list":"node_modules/@baidu/smartprogram-solution-components/components/task-list/swan/index","dynamicLib://swan-solutions-ug-template/invite-node":"node_modules/@baidu/smartprogram-solution-components/components/invite-node/swan/index","dynamicLib://swan-solutions-ug-template/kong-site":"node_modules/@baidu/smartprogram-solution-components/components/kong-site/swan/index","dynamicLib://swan-solutions-ug-template/feedback":"node_modules/@baidu/smartprogram-solution-components/components/feedback/swan/index","dynamicLib://swan-solutions-ug-template/divider-view":"node_modules/@baidu/smartprogram-solution-components/components/divider-view/swan/index","dynamicLib://swan-solutions-ug-template/tabs-server":"node_modules/@baidu/smartprogram-solution-components/components/tabs-server/swan/index","dynamicLib://swan-solutions-ug-template/swiper-banner":"node_modules/@baidu/smartprogram-solution-components/components/swiper-banner/swan/index","dynamicLib://swan-solutions-ug-template/grid-chunk":"node_modules/@baidu/smartprogram-solution-components/components/grid-chunk/swan/index","dynamicLib://swan-solutions-ug-template/image-view":"node_modules/@baidu/smartprogram-solution-components/components/image-view/swan/index","dynamicLib://swan-solutions-ug-template/coupon":"node_modules/@baidu/smartprogram-solution-components/components/coupon/swan/index","dynamicLib://swan-solutions-ug-template/feed":"node_modules/@baidu/smartprogram-solution-components/components/feed/swan/index","dynamicLib://swan-solutions-ug-template/bonus-goods":"node_modules/@baidu/smartprogram-solution-components/components/bonus-goods/swan/index","dynamicLib://swan-solutions-ug-template/sku":"node_modules/@baidu/smartprogram-solution-components/components/sku/swan/index","dynamicLib://swan-solutions-ug-template/word-edit":"node_modules/@baidu/smartprogram-solution-components/components/word-edit/swan/index","dynamicLib://swan-solutions-ug-template/subscribe":"node_modules/@baidu/smartprogram-solution-components/components/subscribe/swan/index","dynamicLib://swan-solutions-ug-template/add-widget":"node_modules/@baidu/smartprogram-solution-components/components/add-widget/swan/index","dynamicLib://swan-solutions-ug-template/advert":"node_modules/@baidu/smartprogram-solution-components/components/advert/swan/index"}),window.__swanRoute="dynamicLib://swan-solutions-ug-template";
//# sourceMappingURL=/output/__dynamicLib__/swan-solutions-ug-template/app.js.map