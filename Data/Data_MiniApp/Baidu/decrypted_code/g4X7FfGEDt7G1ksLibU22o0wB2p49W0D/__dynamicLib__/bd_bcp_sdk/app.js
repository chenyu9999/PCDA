window.defineDynamicLib("dynamicLib://bd_bcp_sdk",(function(t,e,n,i){t("1",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=t(2),T=t(3),P=t(4),D=t(6),x=t(21),E=t(31),I=t(32),M=t(19),O=(t(39),t(20)),A=t(14),R=t(16),N=t(65),B=t(66),U=t(67),L=t(68).default,H=t(69),j=t(70).default,K=t(76).default,q=t(36),F=t(29),V=t(78),z=t(41),G=t(40),W=new N,Y=new R,J=t(5).default,Q=a;function X(t){var e=t.sdk;e&&e.stop(),x.unbindChatViewScroll(t.imlpData.chatViewScrollList);var n=t.data.component;n.input.placeholder="请您输入...",n.input.showBottomTool=!1,n.input.showFace=!1,n.input.bottomToolBtnShowStatus=!1,n.input.showMenus=!1,n.lastMessageId=0,n.message={},t.cookieManager=null,t.request=null,t.pluginUtil=null,t.sdk=null,t.setData({slideTags:null,pageError:null,inputFocus:!1,showHelp:0,messageList:[],component:n,inputText:"",dialog:null,scrollToMessageId:"",unreadMessageCount:0,baseData:{},verificationCode:null,verificationCodeConfirmResult:null,pageData:null,useNewTypebox:!0,bottomNewMessage:{direction:"down",text:"0条新消息"},topNewMessageList:[],topNewMessage:{count:0,text:"0条新消息"}}),t.setImlpData({initComponent:!1,chatViewScrollList:null,connectStep:0,delayConnectTime:0,messageScrollLower:!0,baseData:{},verificationCode:null,verificationCodeConfirmResult:null,autoConnectSource:null,inputText:"",unreadMessage:[],initSdkData:null,messageContainerRect:null,preload:0,changeIM:0})}function $(t,e,n){n&&e.setImlpData({isReload:n}),e.setStepTime("loadPageDataStart"),Z(e);var i=t.pageParams||{};if(e.imlpData.isReload||x.setPageStep("loadPageDataStart",i),function(t,e){var n=e.sdkUtil;e.cookieManager=new O(Q);var i=null;F.then("newSdk",(function(){i=q})).online((function(){i=M})),e.request=I.initRequest(t,e,i,A,n,Y,Q)}(t,e),e.request){var o=null;F.then("newSdk",(function(){o=q})).online((function(){o=M})),e.pluginUtil||(e.pluginUtil=new U(a,o,O,E)),V.onData({url:i.url,xst:i.xst},(function(t){var n=(t=t||{}).result;if(n&&"object"===(void 0===n?"undefined":w(n))&&!n.error&&e.setImlpData({preload:2}),!I.setPageData(e,e.sdkUtil,n,null)){var a=e.request;F.then("newSdk",(function(){e.sdk.getCookie((function(t){e.setConnectStep(1),a.request("pageData",null,null,t)}))})).online((function(){e.pluginUtil.syncBaiduidCookie(i.baiduid,(function(t){e.setConnectStep(1),a.request("pageData")}))}))}}))}}function Z(t){if(!t.imlpData.initComponent){(0,C.initComponent)(t),(0,T.init)(t),(0,P.init)(t),t.devCodeTool=new H(t),t.setImlpData({initComponent:!0}),t.sdk=D(),t.sdkUtil=new z(t,t.sdk,null,I),t.logUtil=new G;try{t.sendlog("sdkLog",{type:"newSdk",content:(F.isExp("newSdk")?1:0).toString()})}catch(t){}}}function tt(t,e,n){!e.imlpData.isInit&&t&&t&&t.pageParams&&t.pageParams.url&&(1!==e.getDataByType("openType")?e.setConfirmClose(E.appConfirmClose.title):(e.setConfirmClose(null),e.setData("inputFixed",!0)),n&&(e.data.initData=t),Z(e),e.setImlpData({isInit:!0}),0===t.pageParams.url.indexOf("//")&&(t.pageParams.url="https:"+t.pageParams.url),0===t.pageParams.url.indexOf("http://")&&(t.pageParams.url=t.pageParams.url.replace("http://","https://")),e.devCodeTool.run("lifetime",(function(){$(t,e)}),(function(){e.imlpData.componentIsReady?$(t,e):e.setImlpData({readyData:t})})))}Component({externalClasses:["swan-security-padding-bottom"],behaviors:[L,j,K],imlpData:{stepTime:{created:0,attached:0,ready:0,loadPageDataStart:0,loadPageDataResult:0,entrySite:0,entrySiteResult:0,antiCheck:0,antiCheckResult:0,sdkConnect:0,taskbeginResult:0},connectStep:0,componentIsReady:!1,isInit:!1,messageScrollLower:!0,delayConnectTime:0,detached:!1,diffTime:0,hasPreset:!1,placeholderDefault:"请您输入...",scrollToMessageId:"",autoConnectSource:null,inputText:"",popupState:null,unreadMessage:[],initSdkData:null,messageContainerRect:null,preload:0,changeIM:0},data:{inputFixed:!1,inputFocus:!1,unreadMessageCount:0,messageList:[],dialog:null,pageError:null,baseData:{},verificationCode:null,verificationCodeConfirmResult:null,showHelp:0,component:{lastMessageId:"",input:{bottomToolBtnShowStatus:!1,showBottomTool:!1,showFace:!1,placeholder:"请您输入...",showMenus:!1},message:{}},slideTags:null,emojiList:["[难过]","[微笑]","[调皮]","[色]","[睡]","[疑问]","[流泪]","[汗]","[晕]","[撇嘴]","[惊恐]","[尴尬]","[害羞]","[委屈]","[大笑]","[大哭]","[可爱]","[再见]","[偷笑]","[乖]"],inputText:"",pageData:{},platform:"ios",confirmType:"default",popup:{show:!1,data:{}},useNewTypebox:!0,bottomNewMessage:{direction:"down",text:"0条新消息"},topNewMessageList:[],topNewMessage:{count:0,text:"0条新消息"}},messages:{uiEventAction:function(t){var e=t.value;this.uiEventAction(e)},setinputData:function(t){var e=t.value.inputText;this.setData({inputText:e}),this.setImlpData({inputText:e}),this.pushPageInfoToPopup({inputText:e})},timeline:function(t){this.sendTimeline(t.value)},showPopup:function(t){this.setData({popup:{show:!0,data:t.value}}),this.messages.stopAutoScroll.call(this)},hidePopup:function(t){this.setData({popup:{show:!1,data:{}},showHelp:!1})},hideMenus:function(){this.hideMenus()},bindChatViewScrollEvent:function(t){var e=t.value,n=this.imlpData.chatViewScrollList;n||(n=[],this.setImlpData({chatViewScrollList:n})),n.push(e)},stopAutoScroll:function(){this.setImlpData({messageScrollLower:!1})},stopPlayingVideoAndSetUpcomingPlayVideo:function(t){var e=this.imlpData.nowPlayVideoId||"",n=t.value;if(e!==n){var i=a.createVideoContext(e);i&&i.pause(),this.setImlpData({nowPlayVideoId:n})}},scrollToReact:function(t){var e=this;if(this.setImlpData({scrollToRectData:t.value}),!this.messageBoundingClientRect){var n=a.createSelectorQuery().in(this);this.messageBoundingClientRect=n.select(".imlp_base_message_outer").boundingClientRect((function(t){var n=e.imlpData.scrollToRectData,i=t.top,a=t.bottom,o=n.top,r=n.bottom,s=n.offset||0,c=e.imlpData.messageScroll;if(c){var u=c.scrollTop;if(i>o){var l=u-(i-o+s);l===e.data.messageScrollTop&&(l+=1),e.setData("messageScrollTop",l)}else if(a<r){var d=u-(a-r-s);d===e.data.messageScrollTop&&(d+=1),e.setData("messageScrollTop",d)}}}))}this.messageBoundingClientRect.exec()},imgload:function(t){B.event(t.value,this)},openPage:function(t){I.sendEvent(this,{eventName:"openLink",data:t.value})},sendUserAction:function(t){var e=t.value,n=e.history,i=e.actionParam,a=e.cardType,o=e.log,r=i.value,s=void 0===r?{}:r,c=i.type,u=s.type,l=s.content,d=s.ext,p=i.value.content&&i.value.content.remark&&i.value.content.remark.text||"";if(i.value.ext&&"guess_card"===i.value.ext.tag&&p&&J.guessTrackHandle(i.value,this.getConnectState()),n){var f=J.getTrackHistory({history:n,cardType:a});J.trackHandle(f,i.value,this.getConnectState())}var m={type:"onClick"};d&&"guess_card"===d.tag&&p?m.data={ext:i.value.ext}:"card"===u&&l?m.data={type:"card",text:l.title||l.text||"",value:l.cid||l.value||""}:"standardcard"===c&&o?(m.data={type:s.type,value:Object.assign({},o,s,{subtitle:n}),ext:s.ext},"url"===s.type&&(m.data.value.url=s.value,delete m.data.value.value)):m.data=s,this.sdkUtil.sendUserAction(m)},sendlog:function(t){var e=t.value||{},n=e.name,i=e.payload;this.sendlog(n,i)},sendMessage:function(t){var e=this.sdk;if(e&&e.isInit()){var n=this.sdkUtil,i=t.name,a=t.value;if("sendMessage"===i&&a){var o=this.getDataByType("im_type")+"";if("user-guess"===a.sourceTag&&"0"!==o&&"1"!==o&&"3"!==o)return;n.sendMessage(a)}}else console.log("sdk not init")},resendMessage:function(t){var e=(t.value||{}).messageId,n=this.sdkUtil;n&&e&&n.resendMessage(e)},addMessage:function(t){this.sdkUtil.pushMessage(t.value)},leaveWord:function(t){this.sdkUtil.leaveWord(t.value)},getAsyncCard:function(t){this.getAsyncCard(t.value)},scrollToMessage:function(t){var e=this;if(t.value.msgId){var n=this.sdkUtil;this.currentCardId=t.value.msgId,this.scrollToCardHandle&&clearTimeout(this.scrollToCardHandle),this.scrollToCardHandle=setTimeout((function(){n.scrollBottom(t.value.msgId),e.scrollToCardHandle=null}),0)}},focusInput:function(t){this.setInputFocusState(!0)},dial:function(t){var e=t.value;"object"===(void 0===e?"undefined":w(e))&&(e=e.number),this.phoneTracker&&this.phoneTracker.getCallNumber&&(e=this.phoneTracker.getCallNumber(e).virtualPhone||e),a.makePhoneCall({phoneNumber:e,success:function(t){},fail:function(t){}})},scrolltolower:function(){this.scrollToMessageId()}},properties:{initData:{type:Object,value:{},observer:function(t,e){var n=this;Z(this),this.devCodeTool.isDev("lifetime")?tt(t,this):!this.imlpData.isInit&&t&&t&&t.pageParams&&t.pageParams.url&&(Z(this),this.setImlpData({isInit:!0}),0===t.pageParams.url.indexOf("//")&&(t.pageParams.url="https:"+t.pageParams.url),0===t.pageParams.url.indexOf("http://")&&(t.pageParams.url=t.pageParams.url.replace("http://","https://")),this.devCodeTool.run("lifetime",(function(){$(t,n)}),(function(){n.imlpData.componentIsReady?$(t,n):n.setImlpData({readyData:t})})))}},pageData:{observer:function(t,e){t=t||{},e&&t.pageTitle===e.pageTitle||this.setPageTitle(t.pageTitle),this.emitPageInfoEvent()}},pageError:{observer:function(t,e){!e&&t&&(this.sendlog("pageError",t),this.setConfirmClose(null))}}},lifetimes:{created:function(){this.setStepTime("created"),F.init()},attached:function(){var t=this;this.setStepTime("attached");var e=this;a.getSystemInfo({success:function(t){var n=t.platform?t.platform.toLowerCase():e.data.platform,i=x.compareVersion(t.SDKVersion,"3.130.7")>0?"send":"default";e.setData({platform:n,confirmType:i})}}),this.getBoundingClientRect(".imlp_app_input_inputarea",(function(e){t.pushPageInfoToPopup({bottomHeight:e.height})})).exec()},ready:function(){var t=this;this.setStepTime("ready"),Z(this),this.devCodeTool.run("lifetime",(function(){t.data.messageList&&t.data.messageList.length&&t.sdkUtil.scrollBottom(null,!0)}),(function(){var e=t.imlpData.readyData;e&&$(e,t)})),this.setImlpData({componentIsReady:!0,readyData:null})},detached:function(){var t=this.sdk;t&&t.stop(),this.setConfirmClose(null),this.setImlpData({detached:!0}),x.unbindChatViewScroll(this.imlpData.chatViewScrollList),this.imlpData.chatViewScrollList=null}},pageLifetimes:{show:function(){var t=this.sdk;t&&t.start();var e=this.jumpPage;this.jumpPage=null,e&&"baozhang"===e.pageType&&this.logUtil&&this.logUtil.baozhang();var n=this.getDataByType("openType");this.initData&&1!==n&&this.setConfirmClose(E.appConfirmClose.title)},hide:function(){var t=this.sdk;t&&t.stop();try{clearTimeout(this.jumpPageKey)}catch(t){}this.setConfirmClose(null),this.pageHideProcess()}},methods:{sendUserAction:function(t){this.sdkUtil.sendUserAction(t)},imlpStart:function(){this.sdkUtil.connect(null,{source:"send"})},showUserCard:function(t){this.sdkUtil.pushMessage(t,!1,!0)},sendMessage:function(t){this.sdkUtil.sendMessage(t)},showKefuTipByType:function(t){var e=this.getDataByType("appid"),n=this.data.pageData.kefuTipConf,i={type:"8000",source:"system",content:(n[e]||n.default)[t]};this.sdkUtil.pushMessage(i)},showKefuTip:function(t,e){var n=t?"robot":"manual",i=this.data.pageData.xyl,a=this.data.pageData.zhidao,o=this.getDataByType("appid"),r=this.data.pageData.kefuTipMessage||{},s=this.data.pageData.kefuTipConf,c=s.default;if(i?c=s.xyl:a?c=s.zhidao:s[o]&&(c=s[o]),e){var u=e.status?"success":"fail",l=c.switch;r.content=l[u]}else r.content=c[n];var d=this.data.pageData.address;d&&(r.content=Object.assign({},r.content,{info:"医院地址："+d})),this.sdkUtil.pushMessage(r)},setInputFocusState:function(t){var e=+new Date,n=!0===t,i={inputFocus:n};n&&(i["component.input.showMenus"]=!1),this.setData(i),this.sendBtnTouchTime&&e-this.sendBtnTouchTime<100&&this.sdkEvent({currentTarget:{dataset:{eventType:"send"}},type:"blur"}),n||this.pushKeybordInfoToPopup(0),n&&this.sendlog("inputFocus")},inputConfirm:function(){this.sdkEvent({currentTarget:{dataset:{eventType:"send"}},type:"confirm"})},sendbtnTouchstart:function(t){this.sendBtnTouchTime=+new Date},initPlaceholder:function(){var t=this,e=this.data.pageData.presetMessage,n=e.enabled,i=e.from,a=e.showType,o=e.message,r=this.data.component;if(n&&o&&1===a){var s=o.trim();this.setImlpData({hasPreset:!0,presetFrom:i}),this.devCodeTool.run("setdata",(function(){t.setData({"component.input.placeholder":s}),t.pushPageInfoToPopup({presetMessage:s})}),(function(){r.input.placeholder=s,t.setData({component:r})})),this.sendlog("presetMessage",{type:"show",content:encodeURIComponent(s),from:i})}},focusHandle:function(t){this.sendlog("inputFocus"),this.pushKeybordInfoToPopup(t.detail.height),this.data.inputFocus||this.setData({inputFocus:!0}),this.sdkUtil.connect(null,{source:"focus"})},inputText:function(t){var e=t.detail.value;(!this.imlpData.inputText&&e||this.imlpData.inputText&&!e)&&this.setData({inputText:e}),this.setImlpData({inputText:e}),this.pushPageInfoToPopup({inputText:e})},prevent:function(){this.setInputFocusState(!1)},sdkEvent:function(t){var e=this,n=this.sdk;if(n&&n.isInit()){t.type;var i=t.currentTarget.dataset.eventType,a=(this.data,this.sdkUtil),o=this.data.component;if("send"===i){var r=+new Date;if("blur"===t.type)this.blurTime=r;else if(this.blurTime&&this.sendBtnTouchTime&&r-this.sendBtnTouchTime<350&&this.blurTime>this.sendBtnTouchTime)return;var s="",c=!1;!this.imlpData.inputText&&this.imlpData.hasPreset?(s=o.input.placeholder,c=!0):this.imlpData.inputText&&this.imlpData.inputText.trim()&&(s=this.imlpData.inputText.trim()),s&&(a.sendMessage({source:"user",content:s,trigger:"input",content_type:"text",contenttext:s}),this.setImlpData({hasPreset:!1,inputText:""}),this.devCodeTool.run("setdata",(function(){e.setData({"component.input.placeholder":e.imlpData.placeholderDefault,inputText:""}),e.pushPageInfoToPopup({inputText:"",presetMessage:""})}),(function(){o.input.placeholder=e.imlpData.placeholderDefault,e.setData({component:o,inputText:""})})),c&&this.sendlog("presetMessage",{type:"send",content:s,from:this.imlpData.presetFrom}))}}else console.log("sdk not init")},addFace:function(t){var e=t.currentTarget.dataset,n=this.imlpData.inputText||"";n+=e.text,this.setData({inputText:n}),this.setImlpData({inputText:n}),this.pushPageInfoToPopup({inputText:n})},deleteText:function(t){var e=this.imlpData.inputText||"",n=this.data.emojiList,i=/\[[^\[\]]*\]$/,a=i.exec(e)||[];e=-1!==n.indexOf(a[0])?e.replace(i,""):e.substring(0,e.length-1),this.setData({inputText:e}),this.setImlpData({inputText:e}),this.pushPageInfoToPopup({inputText:e})},messageEvent:function(t){B.event(t,this)},toggleBottomTool:function(){var t=this.data.component.input,e=t.showBottomTool,n=t.showFace,i=e||n;this.setData({"component.input.showBottomTool":!i,"component.input.showFace":!1,"component.input.showMenus":!1})},bottomToolClick:function(t){var e=t.currentTarget.dataset.type,n=this.data.pageData||{},i=this.sdkUtil,a=n.phoneNumber,o=n.homeLink;if("face"===e)this.showFace();else if("home"===e){this.toggleBottomTool();var r={type:"typeBox",value:{type:"url",pageType:"hospitalIndex",linkType:"index",content:o}};this.cardClickHandle(r)}else if("pic"===e)i.sendImage();else if("phone"===e&&a)this.cardClickHandle({type:"typeBox",history:"底部电话按钮",value:{type:"tel",value:a}});else if("comment"===e){this.toggleBottomTool();var s={type:"typeBox",value:{type:"url",pageType:"comment",value:n.feedbackURL}};this.cardClickHandle(s)}else if("baozhang"===e){this.toggleBottomTool();var c={type:"typeBox",value:{type:"url",pageType:"baozhang",value:n.baozhangUrl}};this.cardClickHandle(c)}},showFace:function(){var t=this;this.devCodeTool.run("setdata",(function(){t.setData({"component.input.showBottomTool":!1,"component.input.showFace":!0})}),(function(){var e=t.data.component;e.input.showBottomTool=!1,e.input.showFace=!0,t.setData({component:e})}))},hideFace:function(){var t=this;this.devCodeTool.run("setdata",(function(){t.setData({"component.input.showFace":!1})}),(function(){var e=t.data.component;e.input.showFace=!1,t.setData({component:e})}))},toggleFace:function(){var t=!this.data.component.input.showFace;this.setData({"component.input.showFace":t,"component.input.bottomToolBtnShowStatus":t,"component.input.showBottomTool":!1,"component.input.showMenus":!1})},slideClick:function(t){var e=(t.currentTarget.dataset||{}).slideData||{};"tel"===e.type?a.makePhoneCall({phoneNumber:e.value,success:function(t){console.log("phone success",t)},fail:function(t){console.log("phone fail",t)}}):"url"===e.type&&I.sendEvent(this,{eventName:"openLink",data:{url:e.value}})},messageScroll:function(t){clearTimeout(this.messageScrollKey);var e=this;this.imlpData.messageScroll=t.detail,this.messageScrollKey=setTimeout((function(){var n=t.currentTarget,i=t.detail;a.createSelectorQuery().in(e).select("#"+n.id).boundingClientRect((function(t){var n=e.imlpData.chatViewScrollList;x.chatViewScroll(n,t);var a=t.height,o=i.scrollHeight-a-i.scrollTop<50,r=e.data.unreadMessageCount;o&&(r=0),e.setData({unreadMessageCount:r,"bottomNewMessage.text":r+"条新消息"}),e.setImlpData({messageScrollLower:o})})).exec(),e.messageScrollEnd()}),100)},messageScrollLower:function(t){this.setData({unreadMessageCount:0}),this.setImlpData({messageScrollLower:!0})},menuClick:function(t){var e=this,n=this.data.pageData,i=t.currentTarget.dataset,o=(this.data.component,i.menuValue),r=i.menuType,s=this.request;if("showHelp"===r)o=parseInt(o,10)||0,this.setData({showHelp:o}),2===o?I.sendEvent(this,{eventName:"openLink",data:{pageType:"imlpWebview",url:E.url.help,needWebview:!0}}):3===o&&I.sendEvent(this,{eventName:"openLink",data:{pageType:"imlpWebview",url:E.url.statement,params:{imType:n.im_type,name:n.header.title},needWebview:!0}});else if("verificationCodeCancel"===r)this.setConnectStep(-3),this.sdkUtil.pushMessage(E.antiHoldBack),this.setData({verificationCode:null});else if("verificationCodeConfirm"===r){var c=this.data.verificationCode||{};if(n=this.data.pageData||{},this.setData({verificationCodeConfirmResult:null}),!c.inputValue)return void a.showToast({title:"答案为空,请重新输入",icon:"none"});var u={input:c.inputValue||"",code:c.code||"",pvKey:n.pvKey};F.then("newSdk",(function(){e.sdk.checkAntiCaptcha(u)})).online((function(){s.request("verificationCheck",u)}))}},scrollToMessageId:function(){if(this.sdkUtil){this.setData({unreadMessageCount:0});var t=this.imlpData.scrollToMessageId;this.sdkUtil.scrollBottom(t,!0)}},getAsyncCard:function(t){var e=this,n=Object.assign({},t,{xst:this.data.pageData.xst,ucid:this.data.pageData.user_id,imid:this.data.pageData.imid});F.then("newSdk",(function(){e.sdk.getCard(n)})).online((function(){e.request.request("getCard",Object.assign({},t,{xst:e.data.pageData.xst,ucid:e.data.pageData.user_id,imid:e.data.pageData.imid}))}))},changeVerificationCode:function(){this.request.request("verificationCode")},verificationCodeInput:function(t){var e=t.detail.value;(this.data.verificationCode||{}).inputValue=e},getSetCookieStr:function(t){return this.cookieManager.getSetCookieStr(t)},base64:{encode:function(t,e){return W.encode(t,e)},decode:function(t,e){return W.decode(t,e)}},getSdkData:function(){return this.sdkUtil.getData()},getConnectState:function(){return this.sdkUtil.getConnectState()},leaveWord:function(t){this.sdkUtil.leaveWord(t.detail)},openMenu:function(t){this.messages.stopAutoScroll.call(this),this.menuClick({currentTarget:{dataset:{menuValue:1,menuType:"showHelp"}}})},showMenus:function(t){this.setData({"component.input.showMenus":!this.data.component.input.showMenus})},hideMenus:function(){this.setData({"component.input.showFace":!1,"component.input.showBottomTool":!1,"component.input.showMenus":!1})},sendlog:function(t,e){this.logUtil.log(t,e)},setConfirmClose:function(t){var e;a.confirmAppClose&&(e={content:t||"",success:function(t){},fail:function(t){}},a.confirmAppClose(e))},changeKefuInputStatus:function(t,e){var n=this,i=this.data.pageData,a=i.feature,o=void 0===a?{}:a,r=i.pageTitle,s=void 0===r?"":r;if(o.kefu_input_status)if(this.imlpData.detached)clearInterval(this.imlpData.kefuInfuIntervelHandle);else{if("hide"===t)return clearInterval(this.imlpData.kefuInfuIntervelHandle),this.setPageTitle(s),void this.setImlpData({kefuInputHandle:null,kefuInfuIntervelHandle:null});if("dot"!==t){if(this.imlpData.kefuInputHandle)clearTimeout(this.imlpData.kefuInputHandle);else{this.imlpData.kefuInputStatusShow||(this.sendlog("kefuInputStatusShow"),this.setImlpData({kefuInputStatusShow:!0})),this.setPageTitle("客服正在输入中");var c=0,u=setInterval((function(){n.changeKefuInputStatus("dot",c++)}),700);this.setImlpData({kefuInfuIntervelHandle:u})}var l=setTimeout((function(){n.changeKefuInputStatus("hide")}),3e3);this.setImlpData({kefuInputHandle:l})}else this.setPageTitle("客服正在输入中"+{0:"",1:".",2:"..",3:"..."}[e%4])}},setPageTitle:function(t){t=t||"",1===this.getDataByType("openType")?(this.getDataByType("pageTitle")===t&&(t="客服在线为您服务"),this.pushPageInfoToPopup({pageTitle:t})):a.setNavigationBarTitle({title:t})},emitImlpClick:function(t,e){switch(t){case"inputPhone":this.bottomToolClick({currentTarget:{dataset:{type:"phone"}}});break;case"inputMore":this.toggleBottomTool();break;case"inputFocus":this.setInputFocusState(!0);break;case"faceClick":this.toggleFace();break;case"sendClick":this.sdkEvent({currentTarget:{dataset:{eventType:"send"}},type:"blur"});break;case"topNewMessage":this.toTopNewMessage();break;default:console.log("other clickType: "+t,e)}},changePageParams:function(t){I.changePageParams(this,t)},changePageParamsAndReEntrySite:function(){return I.changePageParamsAndReEntrySite(this)},popupChangeStateEnd:function(t){var e=t.state;this.imlpData.messageContainerRect=null;var n={"component.input.showFace":!1,"component.input.showBottomTool":!1,"component.input.showMenus":!1};"open"!==e&&(n.inputFocus=!1),this.setData(n),this.sdkUtil.scrollBottom(null,!0),this.imlpData.popupState=t,console.log("清除未读消息数组"),this.imlpData.unreadMessage=[],"open"===t.state&&this.imlpData.initSdkData&&I.initSdk(this.imlpData.initSdkData,this),this.setTopNewMessageState(),this.sendlog("popupStateChange",t.log||{})},popupShowInvite:function(t){1===this.data.initData.pageParams.openType&&2===this.imlpData.connectStep&&(this.sendlog("popupInvite",t),this.sdkUtil.pushMessage({message_id:"invite"+Date.now(),message_time:Date.now(),source:"service",content:t.content,content_type:"text",type:"invite"}))},getDataByType:function(t,e){var n=this.data.initData||{},i=n.pageParams||{},a=this.data.pageData||{},o=this.imlpData||{},r=void 0;return"initData"===t?r=this.data.initData:"pageData"===t?r=this.data.pageData:"pageParams"===t?r=n.pageParams:-1!==["openType"].indexOf(t)?r=i[t]:-1!==["presetMessage","pageTitle","abTest","im_type","appid"].indexOf(t)?r=a[t]:-1!==["popupState","unreadMessage"].indexOf(t)&&(r=o[t]),null==r&&(r=e),r},emitPageInfoEvent:function(){this.pushPageInfoToPopup({pageTitle:"客服在线为您服务",presetMessage:this.getDataByType("presetMessage",{}).message,inputText:this.data.inputText,topNewMessage:0})},pushPageInfoToPopup:function(t){t&&this.triggerEvent("imlpEvent",{type:"pageInfo",data:t})},pushKeybordInfoToPopup:function(t){var e=this.data.pageData.feature;e&&e.keyboard_auto||this.triggerEvent("imlpEvent",{type:"keyboard",data:{height:t}})},imlpDialogEvent:function(t){if(t){var e=t.type,n=t.data||{},i=n.dialogId,a=n.buttonType;"dialogButtonClick"===e&&this.dialogClick(null,{dialogId:i,dialogButtonType:a})}},showDialog:function(t){1!==this.getDataByType("openType")?this.setData({dialog:E.disconnectDialog}):this.triggerEvent("imlpEvent",{type:"showDialog",data:t})},onMessage:function(t){if(t&&0!==t.length&&(this.checkTopNewMessage(t),1===this.getDataByType("openType")&&"close"===this.getDataByType("popupState",{}).state)){this.imlpData.unreadMessage=this.imlpData.unreadMessage||[];var e=this.imlpData.unreadMessage;e.push.apply(e,t);var n=Y.JSON.parse(Y.JSON.stringify(t));this.triggerEvent("imlpEvent",{type:"unreadMessage",data:{count:e.length,abTest:this.getDataByType("abTest"),unread:n}})}},imlpButtonEvent:function(t){if("tap"===(t.detail||{}).type){var e=t.currentTarget.dataset||{};"bottomNewMessage"===e.type?this.scrollToMessageId():"topNewMessage"===e.type&&this.toTopNewMessage()}},toTopNewMessage:function(){var t=(this.imlpData.topNewMessageList||[])[0];if(t){var e="message_"+(t.msgid||t.message_id);this.sdkUtil&&this.sdkUtil.scrollBottom(e),this.imlpData.topNewMessageList=[],this.setTopNewMessageState()}},checkTopNewMessage:function(t){this.imlpData.topNewMessageList=this.imlpData.topNewMessageList||[];var e=this.imlpData.topNewMessageList;if(t||0!==e.length){var n=this.getDataByType("openType"),i=this.getDataByType("popupState",{});(t&&0===e.length||t&&1===n&&"close"===i.state)&&e.push.apply(e,t),this.imlpData.messageScrollLower||this.setTopNewMessageState()}else this.setTopNewMessageState()},setTopNewMessageState:function(){var t=this.imlpData.topNewMessageList||[];if(0===t.length)return this.setData("topNewMessage.count",0),void this.pushPageInfoToPopup({topNewMessage:0});var e=this.getDataByType("openType"),n=this.getDataByType("popupState",{});if(1!==e||"close"!==n.state){var i=t[0],a="#message_"+(i.message_id||i.msgid),o=null,r=null,s=0;this.getMessageContainerRect((function(t){l(o=t,r)}));var c=this.getBoundingClientRect(a,(function(t){s++,l(o,r=t,!0)}));c.exec();var u=this}function l(e,n,i){i&&!n&&s<10?setTimeout((function(){c.exec()}),100):e&&n&&(n.top>=e.top-10&&(t.length=0),u.setData({"topNewMessage.count":t.length,"topNewMessage.text":t.length+"条新消息"}),u.pushPageInfoToPopup({topNewMessage:t.length}))}},getMessageContainerRect:function(t){var e=this,n=this.imlpData.messageContainerRect;n?t(n):this.getBoundingClientRect(".imlp_app_message_container",(function(n){e.imlpData.messageContainerRect=n,t(n)})).exec()},getBoundingClientRect:function(t,e){return a.createSelectorQuery().in(this).select(t).boundingClientRect(e)},messageScrollEnd:function(){this.setTopNewMessageState()},sendTimeline:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.timelineData=this.timelineData||{};var e=t.type;this.timelineData[e]||(t.ext=t.ext||{},this.data.pageData&&(t.ext.page=this.data.pageData.currentPageLogUrl||""),this.triggerEvent("imlpEvent",{type:"timeline",data:t}),this.timelineData[e]=!0)},setMsgListHeight:function(){var t=this;this.messageListRect||(this.messageListRect=this.getBoundingClientRect(".imlp-message-list-selector",(function(e){t.pushPageInfoToPopup({messageListHeight:e.height})}))),this.messageListRect.exec()}},dialogClick:function(t,e){var n=(t?t.currentTarget:{}).dataset||e,i=n.dialogButtonType;if(n.dialogId,this.setData({dialog:null}),"confirm"===i){console.log("重新连接");var a=this.data.initData;X(this),$(a,this,!0)}},reloadPage:function(){var t=this.data.initData;X(this),$(t,this,!0)},setImlpData:function(t){for(var e in t)this.imlpData[e]=t[e]},setStepTime:function(t){if(!this.imlpData.stepTime[t]){var e=Date.now();this.imlpData.stepTime[t]=e;var n={created:"imlp_created",attached:"imlp_attached",loadPageDataStart:"loadpage_start",loadPageDataResult:"loadpage_end"};if(n[t]&&this.sendTimeline({type:n[t],timestamp:e}),"loadPageDataResult"===t&&!this.imlpData.isReload){var i=(this.data.initData||{}).pageParams||{};x.setPageStep("loadPageDataResult",i)}if("taskbeginResult"===t){var a=this.imlpData.stepTime,o=a.loadPageDataResult-a.loadPageDataStart,r=a.entrySiteResult-a.entrySite,s=a.antiCheckResult-a.antiCheck,c=a.taskbeginResult-a.sdkConnect,u=a.ready-a.created,l=[a.loadPageDataResult-a.created,o,r,s,c,u];console.log("------",l.join("\t"))}}},setConnectStep:function(t){if(this.setImlpData({connectStep:t}),this.triggerEvent("imlpEvent",{type:"imlpState",data:t}),2===t){var e=this.imlpData.preload;this.triggerEvent("imlpEvent",{type:"pageDataSuccess",data:{preload:e,timestamp:Date.now()}})}},setInitData:function(t){tt(t,this,!0)},pageHideProcess:function(){var t=this.imlpData.nowPlayVideoId||"",e=a.createVideoContext(t);e&&e.pause()},moreMenuClick:function(t){var e=t.target.dataset.index,n=this.data.pageData.typeboxConfig.menu[e];this.cardClickHandle({type:"typebox",value:n,history:n.text}),this.showMenus()},sendEnvLog:function(){try{var t=a.getEnvInfoSync(),e=t.lastAppURL;t.appKey,t.appName,this.logUtil.sendlog({type:"envInfo",from:"imlp",content:e})}catch(t){}}})})),t("2",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){function w(t,e){return function(n){if(!n)return t[e];if(-1===n.indexOf("."))return t[e][n];var i=t[e],a=n.split(".");try{for(var o=0;o<a.length;o++){var r=a[o];if(!i)return;i=i[r]}return i}catch(t){i=void 0}return i}}function C(t){t.dispatchAction||(t.dispatchAction=function(e,n){if(t.imlpactions&&t.imlpactions[e]){var i={payload:n,getState:w(t,"data"),getImlpData:w(t,"imlpData"),setData:function(e){t.setData(e)},setImlpData:function(e){t.setImlpData(e)},sendlog:t.sendlog.bind(t),dispatchAction:t.dispatchAction,request:t.request,component:t};t.imlpactions[e](i)}})}Object.defineProperty(n,"__esModule",{value:!0}),n.addAction=function(t,e,n){t.dispatchAction||C(t),n&&"function"==typeof n&&(t.imlpactions=t.imlpactions||{},t.imlpactions[e]=n)},n.initComponent=C})),t("3",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.init=function(t){(0,w.addAction)(t,"updateRecommend",T),(0,w.addAction)(t,"getRecommend",C),(0,w.addAction)(t,"clearRecommend",P),(0,w.addAction)(t,"updateMessageCountForRecommend",D)};var w=t(2);function C(t){var e=t.getState,n=t.payload,i=void 0===n?{}:n,a=t.request,o={userid:e("pageData.user_id")||"",xst:e("pageData.xst")||"",message_id:i.message_id||"",content:i.content||"",appid:e("pageData.appid")||""};a.request("getRecommend",o)}function T(t){var e=t.getState,n=t.sendlog,i=t.payload,a=void 0===i?[]:i,o=t.setData,r=t.setImlpData,s=e("pageData.typeboxConfig.inputSuggest.dynamic")||[],c=[];a.forEach((function(t){c.push(t.question_id),t.id=Math.floor(1e5*Math.random())+1e4})),n("logInputSug",{content:c.join("-"),type:"show"});var u=e("pageData.typeboxConfig.inputSuggest"),l=[a].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s)).slice(0,1);o(u?{"pageData.typeboxConfig.inputSuggest.dynamic":l}:{"pageData.typeboxConfig.inputSuggest":{dynamic:l}}),r({msgCountAfterDynamic:1})}function P(t){var e=t.setData,n=t.setImlpData;(0,t.getState)("pageData.typeboxConfig.inputSuggest")&&e({"pageData.typeboxConfig.inputSuggest.dynamic":[]}),n({msgCountAfterDynamic:0})}function D(t){var e=t.payload,n=t.getState,i=(t.setData,t.setImlpData),a=t.dispatchAction,o=t.getImlpData;if("service"===e.source&&0!==((n("pageData.typeboxConfig.inputSuggest")||{}).dynamic||[]).length){var r=(o("msgCountAfterDynamic")||0)+1;r>=3?a("clearRecommend",{source:"kefu_message"}):i({msgCountAfterDynamic:r})}}})),t("4",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.init=function(t){(0,C.addAction)(t,"sendInitMsgTrack",P),(0,C.addAction)(t,"sendTrack",D)};var w,C=t(2),T=(w=t(5))&&w.__esModule?w:{default:w};function P(t){var e=t.getState,n=t.dispatchAction,i=e("pageData.presetMessage")||{},a=i.enabled,o=i.message,r=i.showType;a&&o&&(2===r||3===r)&&(o=3===r?o:'[访客轨迹]:访客点击"'+o+'"进入咨询',n("sendTrack",{value:{ext:T.default.getTrackMsg(o)}}))}function D(t){var e=t.component,n=t.payload;e.sdkUtil.sendUserAction({data:n.value})}})),t("5",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default={getTrackMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imlp";return{tag:"xyl_history",history:t,connected:e?1:0,from:n}},getGuessTrackMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imlp",i={question:t.content&&t.content.text||"",answer:t.content&&t.content&&t.content.remark&&t.content.remark.text||""};return{tag:"guess_card",history:"",connected:e?1:0,from:n,data:i}},trackHandle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.ext=this.getTrackMsg(t)},guessTrackHandle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.ext=this.getGuessTrackMsg(t)},getTrackHistory:function(t){var e=t.cardType,n=t.history;switch(e){case"sugQa":n='内容为"'+n+'"的动态回复推荐按钮';break;case"cip.hospital":case"6009":n='"医院介绍"详情卡';break;case"6004":n='"'+n+'"列表卡';break;case"cip.disease":case"6005":n='"'+n+'"详情卡';break;case"6006":n='"'+n+'"列表卡';break;case"cip.doctor":case"6007":n='"'+n+'"医生详情卡';break;case"6008":n='"文章"列表卡';break;case"cip.article":case"6010":n='"'+n+'"文章';break;case"topic":case"6014":n='"'+n+'"专题卡';break;case"wt_activity":case"6016":n='"'+n+'"活动卡';break;case"5000":case"5001":n='"'+n+'"营销活动卡';break;default:n='标题为"'+n+'"的卡片/按钮'}return"该访客在咨询页点击了"+n}}})),t("6",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(7))&&w.__esModule?w:{default:w},T=t(9),P=(r=t(10),t(11)),D=t(12),x=t(13),E=t(14),I=t(15),M=t(16),O=t(17),A=t(18),R=t(19),N=t(23),B=t(24),U=t(25),L=t(26),H=t(27),j=t(28),K=t(29),q=t(21),F=["init","on","connect","send","leaveWord","reset","getData","disconnect","getHistory","resend","getConnectState","isInit","resetFreeTime","sendUserAction","sendUserState","stop","start","addMessage","formatMessage","getCookie","antiCheck","getCard","getAntiCaptcha","checkAntiCaptcha","getStatusConfig"];function V(t,e,n){if(e)return e[t].apply(e,n)}e.exports=function(){var t=null;K.init(),K.then("newSdk",(function(){t=new C.default})).online((function(){}));for(var e={},n=0;n<F.length;n++)i(F[n],e);function i(e,n){n[e]=function(){return V(e,t,arguments)}}return e.init=function(e,n,i,a){var o=!1;return K.then("newSdk",(function(){var s=function(t,e,n,i){var a=r.create(i);return{imParam:t,pageParam:{imid:t.imid,pvKey:e.pvKey,wsid:q.wsid,abTest:e.abTest,url:n.url,referrer:n.url,title:n.title,appid:e.appid,channel:e.channel,userid:e.user_id,dpi:[a.screen.availWidth,a.screen.availHeight].join("x"),autoConnect:e.autoConnect,aduserid:e.aduserid,bidword:e.bidword,cuid:n.cuid,xst:e.xst,ipv6:"",params:e.params,client:e.client,imlpAccessId:e.imlpAccessId,plat:e.plat,clientSource:e.clientSource},options:{apiHost:n.host,needBlockConnect:n.needBlockConnect||!1,dlVersion:n.dlVersion}}}(e,n,i,a);o=t.init(s)})).online((function(){t=new T(r.create(a),{EventEmitter:P,FreeTimeModel:D,getImCallbacks:x,Callback:E,isMiniProgram:!0,miniProgram:a,Util:M,EntrySite:I,SdkDataModel:O,StorageModel:B,HistoryModel:U,SaveDataModel:L,SyncMessageModel:H,request:{GetRequest:R,PostRequest:R},sdkConfig:A,FetchData:N,MessageStatusManager:j,host:i.host}),n.wsid=q.wsid,o=t.init(e,n,i)})),o},e}})),t("7",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){(function(t){var e,i,o,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":s(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=60)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSDK_STORAGE_CONFIG=e.REQUEST_BAIDUID_URL=e.STORAGE_COOKIE_KEY=e.IUID_KEY=e.SessionStatus=e.PA_CONFIG=e.QUESTION_REG=e.LEVAE_WORD_TYPES=e.STORAGE_CONFIG=e.requestHeaders=e.setCustomHost=e.getApiUrl=e.API_URI=e.NET_CONFIG=void 0;var i=n(9);Object.defineProperty(e,"API_URI",{enumerable:!0,get:function(){return i.API_URI}}),e.NET_CONFIG={DEFAULT_TIMEOUT:2e4};var a={},o={hn:{"x-client":"HN"},"smart-app":{"X-CLIENT":"BAIDUBOXAPP"},h5:a,pc:a};e.requestHeaders=o,e.QUESTION_REG=/(\u597d\u4e0d\u597d|\u6709\u6ca1\u6709|\u662f\u4e0d\u662f|\u5728\u4e0d\u5728|\u0029|\uff1f|\u003f|\u5417|\u554a|\u5462|\u54c8|\u8fd8).*/;var r,s="",c=!1;e.IUID_KEY="iuid",e.CSDK_STORAGE_CONFIG={KEY:"imlp_csdk_paramsdata",CACHE_TIME:72e5},e.STORAGE_CONFIG={KEY:"imlp_save_base_data",CACHE_TIME:864e5,HISTORY_CACHE_TIME:31536e6},e.LEVAE_WORD_TYPES={phone:"电话",qq:"QQ",email:"Email",wechat:"微信",offlineForm:"离线表单"},e.getApiUrl=function(t){return(s||"https://ada.baidu.com")+(c?t+".json":t+"")},e.setCustomHost=function(t,e){s=t,c=!!e},e.PA_CONFIG={PA_TYPE:"7",SUB_PA_TYPE:"16"},e.STORAGE_COOKIE_KEY="imlpcookie",e.REQUEST_BAIDUID_URL="https://ada.baidu.com/imlp/hello",function(t){t[t.UNCONNECT=0]="UNCONNECT",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"}(r||(r={})),e.SessionStatus=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.util=void 0;var i=new(function(){function t(){}return t.prototype.mergeJson=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t},t.prototype.createOneKey=function(t){return(t=t||"key")+(new Date).getTime().toString(16)+Math.round(1e5*Math.random()).toString(16)},t.prototype.cloneJson=function(t){var e=null;try{var n=JSON.stringify(t);e=JSON.parse(n)}catch(t){}return e},t.prototype.setQueryToUrl=function(t,e){if(!e)return t;var n=t.split("?"),a={};n[1]&&n[1].split("&").forEach((function(t){var e=t.split("=");a[e[0]]=decodeURIComponent(e[1]||"")})),a=i.mergeJson(a,e);var o=[];for(var r in a)o.push(r+"="+encodeURIComponent(a[r]));if(o.length){var s=o.join("&");t=n[0]+"?"+s}return t},t.prototype.compareVersion=function(t,e){e=e||"";for(var n=(t=t||"").split("."),i=e.split("."),a=Math.max(n.length,i.length);n.length<a;)n.push("0");for(;i.length<a;)i.push("0");for(var o=0;o<a;o++){var r=parseInt(n[o],10),s=parseInt(i[o],10);if(r>s)return 1;if(r<s)return-1}return 0},t}());e.util=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.imlpUtil=void 0;var i=new(function(){function t(){}return t.prototype.getBaseQuery=function(t){if(!t)return null;var e={userid:t.pageParam.userid,pvKey:t.pageParam.pvKey,wsid:t.pageParam.wsid,plat:t.pageParam.plat||t.pageParam.clientType,xst:t.pageParam.xst||"",appid:t.pageParam.appid||""};return t.pageParam.paid&&(e.pa_uid=(t.pageParam.paid||"").toString()),t.pageParam.cuid&&(e.cuid=t.pageParam.cuid),e},t}());e.imlpUtil=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SdkStatusConfig=void 0,e.SdkStatusConfig={SEND_SERVER_FORBID:13,ANTI_VERIFICATION:1,TASKBEGIN_ROBOT_STATUS:0,BFE_LIMIT:1404}},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ClientType=e.checkHostType=void 0,function(t){t.HN="hn",t.SAPP="smart-app",t.H5="h5",t.PC="pc"}(i||(i={})),e.ClientType=i,e.checkHostType=function(t){return t instanceof talos?i.HN:i.SAPP}},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MsgType=void 0,function(t){t.TEXT="text",t.IMAGE="image",t.CARD="card"}(i||(i={})),e.MsgType=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;var i=function(){function t(){this.events={}}return t.prototype.on=function(t,e){t&&e&&(this.events[t]=this.events[t]||[],this.events[t].push(e))},t.prototype.off=function(t,e){var n=this.events[t];if(n)for(var i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1)},t.prototype.offAll=function(t){t&&this.events[t]?delete this.events[t]:this.events={}},t.prototype.getEvents=function(t){return this.events[t]},t.prototype.emit=function(t,e){var n=this.events[t];if(n){Array.isArray(e)||(e=[e]);for(var i=0;i<n.length;i++)n[i].apply(null,e)}},t}();e.EventEmitter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestRetry=void 0;var i=n(4),a=n(1),o=function(){function t(t,e){this.cacheRequestData={},this.request=t,this.options=e||{},this.options.retryDelay||0===this.options.retryDelay||(this.options.retryDelay=500),this.options.retryCount||0===this.options.retryCount||(this.options.retryCount=3)}return t.prototype.get=function(t,e,n){var i=this,o=a.util.createOneKey();return new Promise((function(a,r){i.requestByGet({url:t,params:e,header:n},{resolve:a,reject:r},o)}))},t.prototype.post=function(t,e,n,i){var o=this,r=a.util.createOneKey();return new Promise((function(a,s){o.requestByPost({url:t,params:n,header:i,data:e},{resolve:a,reject:s},r)}))},t.prototype.requestByPost=function(t,e,n){var i=this;this.requestStart(n),this.request.post(t.url,t.data,t.params,t.header).then((function(a){if(i.isBfeLimit(a))return i.retryEnd(n),void e.reject(a);!i.options.checkSuccess||i.options.checkSuccess(a)?(i.retryEnd(n),e.resolve(a)):i.errorProcess(a,"post",t,e,n)})).catch((function(a){i.errorProcess(a,"post",t,e,n)}))},t.prototype.requestByGet=function(t,e,n){var i=this;this.requestStart(n),this.request.get(t.url,t.params,t.header).then((function(a){if(i.isBfeLimit(a))return i.retryEnd(n),void e.reject(a);!i.options.checkSuccess||i.options.checkSuccess(a)?(i.retryEnd(n),e.resolve(a)):i.errorProcess(a,"get",t,e,n)})).catch((function(a){i.errorProcess(a,"get",t,e,n)}))},t.prototype.errorProcess=function(t,e,n,i,a){var o=this;if(this.isMaxRetry(a))this.retryEnd(a),i.reject(t);else{var r=this.options.retryDelay;setTimeout((function(){"get"===e?o.requestByGet(n,i,a):"post"===e&&o.requestByPost(n,i,a)}),r)}},t.prototype.requestStart=function(t){var e=this.cacheRequestData[t];e?e.count++:this.cacheRequestData[t]={count:0}},t.prototype.retryEnd=function(t){delete this.cacheRequestData[t]},t.prototype.isMaxRetry=function(t){var e=this.cacheRequestData[t],n=this.options.retryCount;return e.count>=n},t.prototype.isBfeLimit=function(t){return((t=t||{}).data||{}).status===i.SdkStatusConfig.BFE_LIMIT},t}();e.RequestRetry=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API_URI=void 0,e.API_URI={CONNECT:"/imlp-message/imlp/start",DISCONNECT:"/imlp-message/imlp/leave",SEND:"/imlp-message/imlp/send",LEAVE_WORD:"/imlp-message/imlp/send",HEARTBEAT:"/imlp-message/heartbeat",USER_ACTION:"/imlp-message/imlp/action",GET_ASYNC_CARD:"/imlp/imlp/getCardMat",ENTRY_SITE:"/imlp-message/track/start",FETCH:"/imlp-message/heartbeat",SYSTEM:"/imlp-message/imlp/system",ANTY_CHECK:"/imlp-message/anti/check",ANTY_CODE:"/imlp-message/anti/captcha/code",ANTY_CODE_CHECK:"/imlp-message/anti/captcha/check",RECOMMEND:"/imlp-message/imlp/recommend",LOG:"/nclick-imlp/index"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImSdk=void 0;var i=n(7),a=n(0),o=n(1),r=n(4),s=n(11),c=function(){function t(){this.initState=!1,this.initCallbackCache=[],this.sessionData={ssid:"",connected:0,connectState:0,bcpssid:""},this.modelEventEmitter=new i.EventEmitter,this.appEventEmitter=new i.EventEmitter,this.bindEvent()}return t.prototype.init=function(t){if(this.checkSdkParam(t)){var e=t.options||{};e.apiHost&&a.setCustomHost(e.apiHost),t.pageParam.clientType=this.clientType;var n=this.getCipTrack();n&&(t.pageParam.cipTrack=n),this.siteModle.init(t),this.sessionModle.init(t),this.antiCheckModel.init(t),this.messageModel.init(t),this.historyModel.init(t),this.heartbeatModel.init(t),this.imlpLog=new s.ImlpLog(this.request,this.modelEventEmitter),this.imlpLog.init(t),e.needBlockConnect||this.entrySite()}},t.prototype.run=function(){var t=this,e=this.storageTimeLimit.get(a.IUID_KEY);e&&this.setSessionData({iuid:e}),this.siteModle.siteIn(),this.historyModel.getHistory((function(e){t.modelEventEmitter.emit("history",[e])})),this.initState=!0,this.initCallbackCache.forEach((function(t){t()})),this.initCallbackCache.length=0},t.prototype.start=function(){this.modelEventEmitter.emit("start",null)},t.prototype.stop=function(){this.modelEventEmitter.emit("stop",null)},t.prototype.entrySite=function(){this.initState=!1,this.run()},t.prototype.onInit=function(t){t&&(this.initState?t():this.initCallbackCache.push(t))},t.prototype.isInit=function(){return this.initState},t.prototype.on=function(t,e){this.appEventEmitter.on(t,e)},t.prototype.off=function(t,e){this.appEventEmitter.off(t,e)},t.prototype.antiCheck=function(){this.antiCheckModel.check()},t.prototype.getAntiCaptcha=function(){this.antiCheckModel.getCaptcha()},t.prototype.checkAntiCaptcha=function(t){this.antiCheckModel.checkCaptcha(t)},t.prototype.send=function(t){return this.messageModel.send(t)},t.prototype.resend=function(t){return this.messageModel.resend(t)},t.prototype.formatMessage=function(t){return this.messageModel.formateSendMessage(t)},t.prototype.getConnectState=function(){return this.sessionModle.getConnectStatus()},t.prototype.connect=function(t){this.sessionModle.connect(t)},t.prototype.leaveWord=function(t){this.messageModel.leaveWord(t)},t.prototype.getHistroy=function(t){this.historyModel.getHistory(t)},t.prototype.getHistory=function(t){this.historyModel.getHistory(t)},t.prototype.sendUserAction=function(t){this.siteModle.sendUserAction(t)},t.prototype.getCard=function(t){this.siteModle.getCard(t)},t.prototype.getData=function(){return o.util.cloneJson(this.sessionData)},t.prototype.addMessage=function(t,e){var n=this.formatMessage(t);return this.modelEventEmitter.emit("addMessageToHistory",[[n],e]),n},t.prototype.getRequest=function(){return this.request},t.prototype.getStorage=function(){},t.prototype.disconnect=function(){return this.sessionModle.disconnect()},t.prototype.sendLog=function(t){this.imlpLog&&this.imlpLog.sendLog(t)},t.prototype.checkSdkParam=function(t){return!!t},t.prototype.bindEvent=function(){var t=this;this.modelEventEmitter.on("error",(function(e){var n=e.result||{};"taskbegin"===e.type&&n.ssid&&(t.sessionData.ssid=n.ssid,t.modelEventEmitter.emit("sessionData",t.sessionData)),t.appEventEmitter.emit("error",e)})),this.modelEventEmitter.on("entrySite",(function(e){var n=e.iuid;t.storageTimeLimit.save(a.IUID_KEY,n,0),t.setSessionData({iuid:n}),t.appEventEmitter.emit("entrySite",e)})),this.modelEventEmitter.on("entrySiteEnd",(function(){t.setSessionData({entrySiteEnd:!0}),t.heartbeatModel.start()})),this.modelEventEmitter.on("antiCheck",(function(e){t.appEventEmitter.emit("antiCheck",e)})),this.modelEventEmitter.on("antiCaptcha",(function(e){t.appEventEmitter.emit("antiCaptcha",e)})),this.modelEventEmitter.on("checkAntiCaptcha",(function(e){t.appEventEmitter.emit("checkAntiCaptcha",e)})),this.modelEventEmitter.on("taskbegin",(function(e){t.sessionData.ssid=e.ssid,t.sessionData.connected=1,t.modelEventEmitter.emit("sessionData",t.sessionData),t.appEventEmitter.emit("taskbegin",e)})),this.modelEventEmitter.on("message",(function(e){var n=o.util.cloneJson(e);t.appEventEmitter.emit("message",[n])})),this.modelEventEmitter.on("switchToManual",(function(e){t.appEventEmitter.emit("switchToManual",[e])})),this.modelEventEmitter.on("kefuInput",(function(e){t.appEventEmitter.emit("kefuInput",[e])})),this.modelEventEmitter.on("disconnect",(function(e){t.sessionData.connected&&(t.sessionData.connected=0,t.sessionData.connectState=0,t.modelEventEmitter.emit("sessionData",t.sessionData),t.modelEventEmitter.emit("stopSdk",{type:e.from||"service"}),t.appEventEmitter.emit("disconnect",[e]))})),this.modelEventEmitter.on("readData",(function(e){t.appEventEmitter.emit("readData",[e])})),this.modelEventEmitter.on("recommend",(function(e,n){t.appEventEmitter.emit("recommend",[e,n])})),this.modelEventEmitter.on("card",(function(e,n){t.appEventEmitter.emit("card",[e,n])})),this.modelEventEmitter.on("inviteMessage",(function(e){var n=o.util.cloneJson(e);t.appEventEmitter.emit("inviteMessage",[n])})),this.modelEventEmitter.on("updateSessionData",(function(e){t.setSessionData(e)})),this.modelEventEmitter.on("storgeUpdate",(function(e){t.appEventEmitter.emit("storgeUpdate",[e])})),this.modelEventEmitter.on("send",(function(e){t.appEventEmitter.emit("send",[e])}))},t.prototype.setSessionData=function(t){for(var e in t)this.sessionData[e]=t[e];this.modelEventEmitter.emit("sessionData",this.sessionData)},t.getModel=function(t){return null},t.getStatusConfig=function(){return o.util.cloneJson(r.SdkStatusConfig)},t.prototype.getStatusConfig=function(){return t.getStatusConfig()},t.prototype.getCipTrack=function(){return null},t}();e.ImSdk=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImlpLog=void 0;var i=n(0),a=n(8),o=n(1),r=function(){function t(t,e){this.sessionData={},this.eventEmitter=e,this.requestRetry=new a.RequestRetry(t,{retryCount:3}),this.bindEvent()}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.sendLog=function(t){if(t){t=o.util.cloneJson(t);var e=this.getBaseData(),n=o.util.mergeJson(t,e)||{},a=this.sdkParam||{};(a.options||{}).dlVersion&&(n.ext=n.ext||{},n.ext.dlVersion=a.options.dlVersion),this.requestRetry.get(i.getApiUrl(i.API_URI.LOG),n)}},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.on("log",(function(e){t.sendLog(e)})),this.eventEmitter.on("sessionData",(function(e){t.sessionData=e}))},t.prototype.getBaseData=function(){var t={from:"imlp",tag:"fc_imlp"};t.timestamp=Date.now();var e=this.sdkParam;return e&&(t.clientName=e.pageParam.appName,t.appKey=e.pageParam.appKey,t.params=e.pageParam.params,t.state=this.sessionData.connectState,t.sessionid=this.sessionData.ssid,t.wsid=e.pageParam.wsid,t.channel=e.pageParam.channel,t.imlpAccessId=e.pageParam.imlpAccessId,t.client=e.pageParam.client,t.pvKey=e.pageParam.pvKey,t.abTest=e.pageParam.abTest,t.im_type=e.imParam.im_type,t.imlp_id=e.pageParam.imid,t.app_id=e.pageParam.appid,t.ucid=e.pageParam.aduserid,t.xst=e.pageParam.xst,t.expidlist=e.pageParam.expidlist),t},t}();e.ImlpLog=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SessionModel=void 0;var i=n(0),a=n(3),o=n(4),r=n(1),s=function(){function t(t,e,n){this.sessionData={},this.storageTimeLimit=n,this.request=t,this.event=e,this.curStatus=i.SessionStatus.UNCONNECT,this.event.emit("updateSessionData",{connectState:i.SessionStatus.UNCONNECT}),this.bindEvent()}return t.prototype.init=function(t){this.sdkParam=t;var e=this.getCacheSessionId(),n=this.getCacheBcpSessionId();e&&this.event.emit("updateSessionData",{ssid:e}),n&&this.event.emit("updateSessionData",{bcpssid:n})},t.prototype.connect=function(t){var e=this;if(this.curStatus!==i.SessionStatus.CONNECTING&&this.curStatus!==i.SessionStatus.CONNECTED){if(!this.sdkParam)throw new Error("sdkParam must init");this.event.emit("sessionConnecting",null),this.curStatus=i.SessionStatus.CONNECTING,this.event.emit("updateSessionData",{connectState:i.SessionStatus.CONNECTING});var n=a.imlpUtil.getBaseQuery(this.sdkParam)||{},r=this.createConnectData(t);this.request.post(i.getApiUrl(i.API_URI.CONNECT),r,n).then((function(t){var n=t.data||{};if(0===n.status||2===n.status){n.robot=n.robot_status===o.SdkStatusConfig.TASKBEGIN_ROBOT_STATUS,e.curStatus=i.SessionStatus.CONNECTED,e.event.emit("updateSessionData",{connectState:i.SessionStatus.CONNECTED});var a=n.ssid;e.cacheSessionId(a);var s=n.bcp_ssid;e.cacheBcpSessionId(s),e.event.emit("taskbegin",n)}else e.stop(),e.sendError(n,r,"taskbegin");11===n.status&&e.event.emit("stopSdk",{type:"taskbegin",result:n})})).catch((function(t){e.stop(),e.sendError(t,r,"taskbegin")}))}},t.prototype.disconnect=function(){var t,e=this,n=a.imlpUtil.getBaseQuery(this.sdkParam)||{},o={im_type:null===(t=this.sdkParam)||void 0===t?void 0:t.imParam.im_type,ssid:this.sessionData.ssid},s=r.util.mergeJson(o,n)||{};this.request.get(i.getApiUrl(i.API_URI.DISCONNECT),s).then((function(t){var n=t.data;e.stop(),e.event.emit("disconnect",{from:"user",result:n})})).catch((function(t){e.sendError(t,o,"disconnect")}))},t.prototype.getConnectStatus=function(){return this.curStatus},t.prototype.stop=function(){this.curStatus=i.SessionStatus.UNCONNECT,this.event.emit("updateSessionData",{connectState:i.SessionStatus.UNCONNECT})},t.prototype.bindEvent=function(){var t=this;this.event.on("stopSdk",(function(){t.stop()})),this.event.on("sessionData",(function(e){t.sessionData=e}))},t.prototype.createConnectData=function(t){t=t||{};var e={},n=this.sdkParam;if(n){var i=n.pageParam||{},a=["wcWord","cardId","pt","ac","t"];Object.assign(e,n.imParam,n.pageParam),e.abTest=n.pageParam.abTest,e.ac=n.pageParam.ac||"",e.aduserid=n.pageParam.aduserid||"",e.appid=n.pageParam.appid,e.channel=n.pageParam.channel,e.dpi=n.pageParam.dpi,e.imid=n.pageParam.imid,e.params=n.pageParam.params||"",e.pvKey=n.pageParam.pvKey,e.source=n.pageParam.referrer,e.ssid=this.sessionData.ssid,e.url=n.pageParam.url,e.user_id=n.pageParam.userid,e.wsid=n.pageParam.wsid,e.xst=n.pageParam.xst||"",e.bd_bxst=n.pageParam.bd_bxst||"",e.fid=n.pageParam.fid||"",e.client_source=n.pageParam.clientSource||"",e.cuid=n.pageParam.cuid||"",n.pageParam.cuid&&(e.cuid=n.pageParam.cuid),n.pageParam.paid&&(e.pa_uid=n.pageParam.paid),i.cipTrack&&(e.cipText=i.cipTrack.cipText||"",e.cipUrl=i.cipTrack.cipUrl||""),delete e.cipTrack,delete e.clientSource;for(var o=0;o<a.length;o++){var r=a[o],s=t[r];null!=s&&(e[r]=s)}}return e},t.prototype.cacheSessionId=function(t){var e=this.getSaveSsidKey();if(e&&t)try{this.storageTimeLimit.save(e,t,i.STORAGE_CONFIG.CACHE_TIME)}catch(t){this.sendError(t,"cacheSessionId","localStorage")}},t.prototype.cacheBcpSessionId=function(t){var e=this.getSaveBcpSsidKey();if(e&&t)try{this.storageTimeLimit.save(e,t,i.STORAGE_CONFIG.CACHE_TIME)}catch(t){this.sendError(t,"cacheSessionId","localStorage")}},t.prototype.getCacheSessionId=function(){var t,e=this.getSaveSsidKey();if(!e)return"";try{t=this.storageTimeLimit.get(e)}catch(t){this.sendError(t,"getCacheSessionId","localStorage")}return t||""},t.prototype.getCacheBcpSessionId=function(){var t,e=this.getSaveBcpSsidKey();if(!e)return"";try{t=this.storageTimeLimit.get(e)}catch(t){this.sendError(t,"getCacheBcpSessionId","localStorage")}return t||""},t.prototype.getSaveSsidKey=function(){if(this.sdkParam){var t=this.sdkParam.imParam||{};return["ssid",(this.sdkParam.pageParam||{}).paid||"",t.level1,t.level2,t.level3,t.im_type].join("_")}},t.prototype.getSaveBcpSsidKey=function(){if(this.sdkParam){var t=this.sdkParam.imParam||{};return["bcpssid",(this.sdkParam.pageParam||{}).paid||"",t.level1,t.level2,t.level3,t.im_type].join("_")}},t.prototype.sendError=function(t,e,n){this.event.emit("error",{type:n,data:e,result:t})},t}();e.SessionModel=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AntiCheckModel=void 0;var i=n(0),a=n(3),o=function(){function t(t,e){this.request=t,this.eventEmitter=e}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.check=function(){var t=this;if(!this.sdkParam)throw new Error("sdkParam must init");var e=this.createParams(),n=a.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.ANTY_CHECK),e,n).then((function(n){var i=n.data;0===i.status?t.eventEmitter.emit("antiCheck",i):t.sendError(i,e,"antiCheck"),0!==i.status&&1!==i.status&&t.eventEmitter.emit("stopSdk",{type:"antiCheck",result:i})})).catch((function(n){t.sendError(n,e,"antiCheck")}))},t.prototype.getCaptcha=function(){var t=this;if(!this.sdkParam)throw new Error("sdkParam must init");var e=a.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.get(i.getApiUrl(i.API_URI.ANTY_CODE),e).then((function(n){var i=n.data;0===i.status?t.eventEmitter.emit("antiCaptcha",i):t.sendError(i,e,"antiCaptcha")})).catch((function(n){t.sendError(n,e,"antiCaptcha")}))},t.prototype.checkCaptcha=function(t){var e=this;if(!this.sdkParam)throw new Error("sdkParam must init");var n=a.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.ANTY_CODE_CHECK),t,n).then((function(t){var i=t.data;0===i.status?e.eventEmitter.emit("checkAntiCaptcha",i):e.sendError(i,n,"checkAntiCaptcha")})).catch((function(t){e.sendError(t,n,"checkAntiCaptcha")}))},t.prototype.sendError=function(t,e,n){this.eventEmitter.emit("error",{type:n,data:e,result:t})},t.prototype.createParams=function(){var t=this.sdkParam.imParam,e=this.sdkParam.pageParam;return this.sdkParam.options,{xst:e.xst||"",aduserid:e.aduserid,level1:t.level1,level2:t.level2||"",level3:t.level3||"",user_id:e.userid,appid:e.appid,abTest:e.abTest,autoConnect:e.autoConnect,pvKey:e.pvKey,client:e.client,url:e.url,imid:e.imid,channel:e.channel,im_type:t.im_type,source:e.referrer,wsid:e.wsid}},t}();e.AntiCheckModel=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StorageTimeLimit=void 0;var i=n(7),a=function(){function t(t,e){this.eventEmitter=new i.EventEmitter,this.isReady=!1,this.baseKey=t,this.storage=e}return t.prototype.onReady=function(t){this.isReady?t():this.eventEmitter.on("ready",t)},t.prototype.ready=function(){this.isReady=!0,this.eventEmitter.emit("ready",null),this.eventEmitter.offAll("ready")},t.prototype.save=function(t,e,n){var i={timestamp:n?Date.now()+n:0,data:e},a=this.getBaseData();a[t]=i,this.saveBaseData(a)},t.prototype.get=function(t){return(this.getBaseData()[t]||{}).data||null},t.prototype.getJson=function(t){var e=this.get(t),n=null;if(!e)return n;if("object"==(void 0===e?"undefined":s(e)))return e;try{n=JSON.parse(e)}catch(t){this.sendError(t,"getJson")}return n},t.prototype.setItem=function(t,e){return this.storage.setStorageItem(t,e)},t.prototype.getItem=function(t){return this.storage.getStorageItem(t)},t.prototype.removeItem=function(t){return this.storage.removeStorageItem(t)},t.prototype.clear=function(){return this.storage.clearStorage()},t.prototype.saveBaseData=function(t){var e=JSON.stringify(t);try{this.storage.setStorageItem(this.baseKey,e)}catch(t){this.sendError(t,"saveBaseData")}},t.prototype.getBaseData=function(){var t=null;try{var e=this.storage.getStorageItem(this.baseKey);"string"==typeof e&&(t=JSON.parse(e))}catch(t){this.sendError(t,"getBaseData")}return this.clearTimeoutData(t||{})},t.prototype.clearTimeoutData=function(t){var e=Date.now();for(var n in t){var i=t[n]||{};i.timestamp&&i.timestamp<e&&delete t[n]}return t},t.prototype.sendError=function(t,e){var n=["StorageTimeLimit",e].join(".");this.eventEmitter.emit("sendLog",[[n,t]])},t}();e.StorageTimeLimit=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageModel=void 0;var i=n(6),a=n(0),o=n(1),r=n(3),s=n(4),c=function(){function t(t,e){this.sendCount=0,this.sendList=[],this.retryCache={},this.sessionData={},this.request=t,this.eventEmitter=e,this.bindEvent()}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.send=function(t){if(!this.sdkParam)return this.sendError(new Error("sdkParam must init"),t,"send"),t;this.sendCount++;var e=this.formateSendMessage(t),n=o.util.cloneJson(e);this.eventEmitter.emit("saveHistory",[n]);var i=e.message_id;return i&&(this.retryCache[i]={retryCount:0,message:e}),this.sendMessageWithRetry(e),e},t.prototype.resend=function(t){var e=this.retryCache[t]||{};return e.message&&this.sendMessage(e.message),e.message},t.prototype.leaveWord=function(t){var e,n,r=(a.LEVAE_WORD_TYPES[t.type]||"未知")+": "+t.content,s=o.util.createOneKey(),c={ssid:this.sessionData.ssid,content:r,source:"leaveword",msgid:s,message_id:s,content_type:i.MsgType.TEXT,message_time:Date.now(),im_type:null===(e=this.sdkParam)||void 0===e?void 0:e.imParam.im_type,imid:null===(n=this.sdkParam)||void 0===n?void 0:n.pageParam.imid,seq:this.sendCount};this.sendCount++,this.sendLeaveWord(c)},t.prototype.sendLeaveWord=function(t){var e=this,n=r.imlpUtil.getBaseQuery(this.sdkParam)||{},i=o.util.mergeJson(t,n);this.request.get(a.getApiUrl(a.API_URI.LEAVE_WORD),i).then((function(n){var i=n.data||{};0===i.status?e.eventEmitter.emit("leaveWord",i):e.sendError(i,t,"leaveWord")})).catch((function(n){e.sendError(n,t,"leaveWord")}))},t.prototype.sendMessage=function(t){var e=this;if(t.content_type!==i.MsgType.CARD){var n=r.imlpUtil.getBaseQuery(this.sdkParam)||{},s=o.util.mergeJson(t,n);this.request.get(a.getApiUrl(a.API_URI.SEND),s).then((function(n){var i=n.data||{};0===i.status?e.eventEmitter.emit("send",i):e.sendError(i,t,"send")})).catch((function(n){e.sendError(n,t,"send")}))}else this.sendMessageByPost(t)},t.prototype.sendMessageByPost=function(t){var e=this,n=r.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(a.getApiUrl(a.API_URI.SEND),t,n).then((function(n){var i=n.data||{};0===i.status?e.eventEmitter.emit("send",i):e.sendError(i,t,"send")})).catch((function(n){e.sendError(n,t,"send")}))},t.prototype.sendMessageWithRetry=function(t){var e=this;if(t.content_type!==i.MsgType.CARD){var n=r.imlpUtil.getBaseQuery(this.sdkParam)||{},c=o.util.mergeJson(t,n);this.request.get(a.getApiUrl(a.API_URI.SEND),c).then((function(n){var i=n.data||{};i.status!==s.SdkStatusConfig.BFE_LIMIT?0===i.status?e.eventEmitter.emit("send",i):i.status!==s.SdkStatusConfig.SEND_SERVER_FORBID&&e.retrySendMessage(t)||e.sendError(i,t,"send"):e.sendError(i,t,"send")})).catch((function(n){e.retrySendMessage(t)||e.sendError(n,t,"send")}))}else this.sendMessageWithRetryByPost(t)},t.prototype.sendMessageWithRetryByPost=function(t){var e=this,n=r.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(a.getApiUrl(a.API_URI.SEND),t,n).then((function(n){var i=n.data||{};i.status!==s.SdkStatusConfig.BFE_LIMIT?0===i.status?e.eventEmitter.emit("send",i):i.status!==s.SdkStatusConfig.SEND_SERVER_FORBID&&e.retrySendMessage(t)||e.sendError(i,t,"send"):e.sendError(i,t,"send")})).catch((function(n){e.retrySendMessage(t)||e.sendError(n,t,"send")}))},t.prototype.retrySendMessage=function(t){var e=this,n=t.message_id||"",i=this.retryCache[n];return!!(i&&i.retryCount<3)&&(i.retryCount++,setTimeout((function(){e.sendMessageWithRetry(t)}),1e3),!0)},t.prototype.formateSendMessage=function(t){if(!this.sdkParam)return t;var e=t.message_id||t.msgid||o.util.createOneKey();return{seq:this.sendCount,message_id:e,msgid:e,message_time:t.message_time||Date.now(),imid:this.sdkParam.pageParam.imid,paid:this.sdkParam.pageParam.paid||0,im_type:this.sdkParam.imParam.im_type,source:t.source||"user",ssid:this.sessionData.ssid||"",content_type:t.content_type,content:t.content,contenttext:t.contenttext,trigger:t.trigger,fromid:t.fromid||"",source_tag:t.source_tag||t.sourceTag||"",card:t.card}},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.on("sessionData",(function(e){t.sessionData=e})),this.eventEmitter.on("historyNewMessage",(function(e){var n=[];e.forEach((function(t){"service"!==t.source&&"leads-sys"!==t.source||n.push(t)})),n.length&&t.eventEmitter.emit("message",[n])})),this.eventEmitter.on("userMessageReadData",(function(e){var n=null;e.forEach((function(e){var i=e.user_message_id,a=e.is_read,o=t.retryCache[i];o&&o.isRead!==a&&(o.isRead=a,(n=n||{})[i]=a)})),n&&t.eventEmitter.emit("readData",[n])}))},t.prototype.sendError=function(t,e,n){this.eventEmitter.emit("error",{type:n,data:e,result:t})},t}();e.MessageModel=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SiteModle=void 0;var i=n(0),a=n(6),o=n(3),r=n(8),s=function(){function t(t,e,n){this.sessionData={},n=n||{},this.request=t,this.requestRetry=new r.RequestRetry(t,{retryCount:3,retryDelay:n.retryDelay||1e3,checkSuccess:function(t){return t&&t.data&&0===t.data.status}}),this.eventEmitter=e,this.bindEvent()}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.siteIn=function(){var t=this;if(!this.sdkParam)throw new Error("sdkParam must init");var e=o.imlpUtil.getBaseQuery(this.sdkParam)||{},n=this.createEntryData();this.requestRetry.post(i.getApiUrl(i.API_URI.ENTRY_SITE),n,e).then((function(e){console.log(e.data);var n=e.data;t.eventEmitter.emit("entrySite",n),t.eventEmitter.emit("entrySiteEnd",null)})).catch((function(e){var i=e;e instanceof Error||!e.data||(i=e.data),t.sendError(i,n,"entrySite"),t.eventEmitter.emit("entrySiteEnd",null)}))},t.prototype.sendUserAction=function(t){var e=this;if(!this.sdkParam)throw new Error("sdkParam must init");var n="sendUserAction",a=this.sdkParam.imParam.im_type;t.im_type=a,t.ssid=this.sessionData.ssid||"";var r=o.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.USER_ACTION),t,r).then((function(i){var a=i.data||{};0===a.status?e.eventEmitter.emit(n,a):e.sendError(a,t,n)})).catch((function(i){e.sendError(i,t,n)}))},t.prototype.getCard=function(t){var e,n=this,a=o.imlpUtil.getBaseQuery(this.sdkParam)||{};a.imid=null===(e=this.sdkParam)||void 0===e?void 0:e.pageParam.imid,this.request.post(i.getApiUrl(i.API_URI.GET_ASYNC_CARD),t,a).then((function(e){var i=e.data||{};n.cardResult(i,t)})).catch((function(e){n.sendError(e,t,"card")}))},t.prototype.cardResult=function(t,e){var n=t.data;0===t.status&&n&&n.length?this.eventEmitter.emit("card",[n,e]):this.sendError(t,e,"card")},t.prototype.sendSystem=function(t){var e=this,n=o.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.SYSTEM),t,n).then((function(n){var i=n.data||{};0===i.status?e.eventEmitter.emit("system",i):e.sendError(i,t,"system")})).catch((function(n){e.sendError(n,t,"system")}))},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.on("sessionData",(function(e){t.sessionData=e})),this.eventEmitter.on("sendMessageSystem",(function(e){e.forEach((function(e){var n,i;if("service"===e.source){var a={message:e,ssid:t.sessionData.ssid,im_type:null===(n=t.sdkParam)||void 0===n?void 0:n.imParam.im_type};(null===(i=t.sdkParam)||void 0===i?void 0:i.pageParam.recommend)&&t.checkRecommend(e),t.sendSystem(a)}}))}))},t.prototype.checkRecommend=function(t){var e=i.QUESTION_REG,n=t.inputSuggest;n&&n.length||t.content_type===a.MsgType.TEXT&&"string"==typeof t.content&&e.test(t.content)&&this.getRecommend(t)},t.prototype.getRecommend=function(t){var e,n,a,r=this,s=t.content.replace(/<.*?>/g,""),c={userid:null===(e=this.sdkParam)||void 0===e?void 0:e.pageParam.userid,message_id:t.message_id,xst:(null===(n=this.sdkParam)||void 0===n?void 0:n.pageParam.xst)||"",content:s,abtest:null===(a=this.sdkParam)||void 0===a?void 0:a.pageParam.abTest},u=o.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.RECOMMEND),c,u).then((function(t){var e=t.data||{};0===e.status?r.eventEmitter.emit("recommend",[e,c]):r.sendError(e,c,"recommend")})).catch((function(t){r.sendError(t,c,"recommend")}))},t.prototype.createEntryData=function(){var t={};if(this.sdkParam){var e=this.sdkParam.imParam,n=this.sdkParam.pageParam,i=this.sdkParam.options,a={};a.dpi=n.dpi,a.ipv6=n.ipv6||"",a.pagetitle=n.title,a.pvkey=n.pvKey,a.source=n.referrer,a.url=n.url,a.wsid=n.wsid,a.xst=n.xst||"",a.bd_bxst=n.bd_bxst||"",a.manualInviteEnabled=i.manualInviteEnabled,a.fid=n.fid||"",n.cuid&&(a.cuid=n.cuid),n.paid&&(a.pa_uid=n.paid);var o=[],r={appid:n.appid,channel:n.channel,im_type:e.im_type,level1:e.level1,level2:e.level2||"",level3:e.level3||"",imid:n.imid,ucid:n.userid};o.push(r),t.client=a,t.service=o,t.f=i.f||""}return t},t.prototype.sendError=function(t,e,n){this.eventEmitter.emit("error",{type:n,data:e,result:t})},t}();e.SiteModle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeat=void 0;var i=n(0),a=n(3),o=n(1),r=function(){function t(t,e){this.TIME_OUT_DELAY=1e4,this.HEART_BEAT_CHECK_RATE=1e3,this.lastServiceMessageTime=0,this.lastUserMessageReadTime=0,this.requestId=0,this.requestStart=0,this.processingHeartbeatTime=0,this.sessionData={},this.status={isStart:!1,isPending:!1,runtime:0},this.request=t,this.event=e,this.initEvent()}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.start=function(){!this.status.isStart&&this.sessionData.entrySiteEnd&&(this.status.isStart=!0,this.routine(),this.heartbeatMonitor())},t.prototype.stop=function(){this.status.isStart=!1,this.runHandle&&clearInterval(this.runHandle),this.requestHandle&&clearTimeout(this.requestHandle)},t.prototype.reset=function(){this.stop()},t.prototype.initEvent=function(){var t=this;this.event.on("sessionData",(function(e){t.sessionData=e})),this.event.on("history",(function(e){e.forEach((function(e){var n=parseInt((e.message_time||"0").toString(),10)||0;if(!(n.toString().length>10)){var i=e.content_type;("service"===e.source||"leads-sys"===e.source)&&"system"!==i&&n>t.lastServiceMessageTime&&(t.lastServiceMessageTime=n)}}))})),this.event.on("historyNewMessage",(function(e){e.forEach((function(e){var n=parseInt((e.message_time||"0").toString(),10)||0,i=e.content_type;("service"===e.source||"leads-sys"===e.source)&&"system"!==i&&n>t.lastServiceMessageTime&&(t.lastServiceMessageTime=n)}))})),this.event.on("userMessageReadData",(function(e){e.forEach((function(e){var n=parseInt(e.user_message_time,10)||0;n>t.lastUserMessageReadTime&&(t.lastUserMessageReadTime=n)}))})),this.event.on("stopSdk",(function(e){t.reset()})),this.event.on("start",(function(){t.start()})),this.event.on("stop",(function(){t.stop()}))},t.prototype.heartbeatMonitor=function(){var t=this;this.runHandle&&clearInterval(this.runHandle),this.runHandle=setInterval((function(){if(Date.now()-t.requestStart>t.TIME_OUT_DELAY)try{t.routine()}catch(t){console.log(t)}}),1e3)},t.prototype.routine=function(){var t=this;this.requestHandle&&clearTimeout(this.requestHandle);var e=Date.now();this.requestId=e,this.requestStart=Date.now();var n=this.getHeartBeatBody(),o=a.imlpUtil.getBaseQuery(this.sdkParam)||{};this.request.post(i.getApiUrl(i.API_URI.HEARTBEAT),n,o).then((function(e){var i=e.data;if(0===i.status)try{t.heartBeatCallback(i,n)}catch(t){}else t.sendError("heartbeat",i,n)})).catch((function(e){t.sendError("heartbeat",e,n)})).finally((function(){t.requestId===e&&t.status.isStart&&(t.requestHandle=setTimeout((function(){t.routine()}),t.HEART_BEAT_CHECK_RATE))}))},t.prototype.getHeartBeatBody=function(){var t,e,n={wsid:null===(t=this.sdkParam)||void 0===t?void 0:t.pageParam.wsid,noHeartBeat:1};Date.now()-this.processingHeartbeatTime>15e3&&(delete n.noHeartBeat,this.processingHeartbeatTime=Date.now());var i=null===(e=this.sdkParam)||void 0===e?void 0:e.imParam.im_type,a="number"==typeof i?i.toString():"",o={invite:!0,main:n,system:{last_sys_time:this.lastUserMessageReadTime||""},talk:{last_mes_time:this.lastServiceMessageTime||"",connected:this.sessionData.connected,im_type:a,ssid:this.sessionData.ssid}};return this.formatHeartbeatBody(o)},t.prototype.formatHeartbeatBody=function(t){return t},t.prototype.heartBeatCallback=function(t,e){var n=t.talk||{},i=t.invite||{},a=t.system||{};this.inviteMessageHandle(i),void 0!==n.switchtomanual&&this.event.emit("switchToManual",[n.switchtomanual]),n.kefuInput&&this.event.emit("kefuInput",[n.kefuInput.timestamp]);var o=null==a?void 0:a.message;o&&o.length&&this.event.emit("userMessageReadData",[o]),this.serviceMessageHandle(n)},t.prototype.serviceMessageHandle=function(t){var e=t.message;if(e instanceof Array){var n=[],i=t.disconnect;e.forEach((function(t){var e=t.content_type,a=t.content||{};"system"!==e||"cmd"!==a.type||"close"!==a.value?n.push(t):i||(i={from:"service",result:a})})),n.length&&this.event.emit("saveHistory",[n]),i&&this.event.emit("disconnect",[i])}},t.prototype.inviteMessageHandle=function(t){var e=this;if(t.content&&t.content instanceof Array){var n=t.imType,i=t.level1,a=t.level2,r=t.level3;t.content.forEach((function(t){var s=o.util.createOneKey("invite"),c={imType:n,level1:i,level2:a,level3:r,type:"text",source:"service",content:t,msgid:s,message_id:s,msgtime:0,message_time:0,tag:"kefu"};e.event.emit("inviteMessage",c)}))}},t.prototype.sendError=function(t,e,n){this.event.emit("error",{type:t,data:n,result:e})},t}();e.HeartBeat=r},function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StorageHistory=void 0;var o=n(19),r=n(5),s=n(0),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.maxCount=50,i.stroageTimeLimit=n,i}return a(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.historyKey=this.getHistoryKey()||"",this.loadHistory()},e.prototype.loadHistory=function(){var t=this;this.stroageTimeLimit.onReady((function(){var e=t.stroageTimeLimit.getJson(t.historyKey);e instanceof Array?t.loadHistorySuccess(e):t.loadHistorySuccess([])}))},e.prototype.saveHistory=function(t){if(this.historyList){var e=this.historyList.length;e>this.maxCount&&this.historyList.splice(0,e-this.maxCount),this.stroageTimeLimit.save(this.historyKey,this.historyList,s.STORAGE_CONFIG.HISTORY_CACHE_TIME)}},e.prototype.getHistoryKey=function(){if(this.sdkParam){var t=this.sdkParam.pageParam,e=this.sdkParam.options,n=this.sdkParam.imParam,i=e.historyKey,a=t.userid||t.aduserid,o=n.im_type,s="msg"+t.imid+o,c=this.sdkParam.pageParam.paid;return c&&this.clientType===r.ClientType.HN?"paid"+c:i?"hmsg"+i:a?"uidmsg"+a:s}},e}(o.HistoryModel);e.StorageHistory=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryModel=void 0;var i=n(1),a=function(){function t(t){this.historyKeyMap={},this.messageCache=[],this.callbackCache=[],this.eventEmitter=t,this.bindEvent()}return t.prototype.init=function(t){this.sdkParam=t},t.prototype.getHistory=function(t){this.historyList?t(i.util.cloneJson(this.historyList)):this.callbackCache.push(t)},t.prototype.add=function(t){var e=i.util.cloneJson(t);e.card&&this.removeCardShowAction(e.card),this.historyList?this.addMessageToHistory([e],!0):this.messageCache.push(e)},t.prototype.removeCardShowAction=function(t){},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.on("saveHistory",(function(e){e instanceof Array?e.forEach((function(e){t.add(e)})):t.add(e)})),this.eventEmitter.on("inviteMessage",(function(e){var n;null===(n=t.historyList)||void 0===n||n.push(e),t.saveHistory([e])})),this.eventEmitter.on("addMessageToHistory",(function(e,n){t.addMessageToHistory(e,n)}))},t.prototype.emitHistory=function(){var t=i.util.cloneJson(this.historyList||[]);this.callbackCache.forEach((function(e){e(t)})),this.callbackCache.length=0},t.prototype.addMessageToHistory=function(t,e){var n=this.getNewMessageList(t);if(n.length){var a=i.util.cloneJson(n);n.forEach((function(t){var e=t.content;if("image"===t.content_type&&"string"==typeof e)try{t.content=JSON.parse(t.content)}catch(t){}})),this.saveHistory(n);var o=i.util.cloneJson(n);e&&(this.eventEmitter.emit("historyNewMessage",[o]),this.eventEmitter.emit("sendMessageSystem",[a]))}return n},t.prototype.getNewMessageList=function(t){var e=this,n=[];return t.forEach((function(t){var i,a=t.message_id;a&&!e.historyKeyMap[a]&&(e.historyKeyMap[a]=a,null===(i=e.historyList)||void 0===i||i.push(t),n.push(t))})),n},t.prototype.loadHistorySuccess=function(t){var e=this;this.historyList=t||[],this.historyList.forEach((function(t){var n=t.message_id||"";e.historyKeyMap[n]=n})),this.addMessageToHistory(this.messageCache,!0),this.emitHistory()},t}();e.HistoryModel=a},,,,,,,,,,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SwanCookieManage=void 0;var r=n(62),s=n(0),c=n(30),u=function(t){function e(){var e=t.call(this,new c.SwanStorage)||this;return e.isBdAuthorize=!0,e.bduss="",e}return o(e,t),e.prototype.getCookie=function(n){var i=this;return this.getBduss((function(a){i.getBaiduid((function(a){t.prototype.getCookie.call(i,(function(t){t=t||"",a||(t=(t=[t,"BAIDUID="+e.tempBaiduid].join("; ")).replace(/^\s*;\s*/,"")),n(t)}))}))})),""},e.prototype.getBaiduid=function(t){var e=this,n=this.getCookieItem("BAIDUID");n?t(n.cookieValue):this.getBaiduidBySystem((function(n){if(n)return e.updateCookitItem({cookieKey:"BAIDUID",cookieValue:n}),void t(n);e.requestBaiduid((function(e){t(e)}))}))},e.prototype.requestBaiduid=function(t){var n=this;if(2!==e.getRequestTag)if(1!==e.getRequestTag){e.getRequestTag=1;var i="";a.request({url:s.REQUEST_BAIDUID_URL,data:{},method:"GET",success:function(t){var e=t.header["Set-Cookie"];e&&n.saveResponseCookie(e);var a=n.getCookieItem("BAIDUID");a&&(i=a.cookieValue)},fail:function(t){},complete:function(){e.getRequestTag=2,t(i),e.baiduidCallbackCache.forEach((function(t){t(i)})),e.baiduidCallbackCache.length=0}})}else e.baiduidCallbackCache.push(t);else t()},e.prototype.getBaiduidBySystem=function(t){var e=this,n=this.getCallbackResult(t,300);if(this.isBdAuthorize)try{a.getCommonSysInfo({success:function(t){var e=t.baidu_id;n(e)},fail:function(t){e.checkBdAuthorize(t),n()},complete:function(){n()}})}catch(t){n()}else n()},e.prototype.getBduss=function(t){var e=this,n=this.getCallbackResult(t,300);if(this.isBdAuthorize)try{a.getBDUSS({success:function(t){var i=t.bduss;i&&i!==e.bduss?(e.bduss=i,e.updateCookitItem({cookieKey:"BDUSS",cookieValue:i})):i=null,n(i)},fail:function(t){e.checkBdAuthorize(t),n()},complete:function(){n()}})}catch(t){n()}else n()},e.prototype.checkBdAuthorize=function(t){var e=(t=t||{}).errCode+"",n=t.status+"";return"202"!==e&&"10005"!==e&&"10005"!==n||(this.isBdAuthorize=!1,!1)},e.prototype.getCallbackResult=function(t,e){var n;e&&(n=setTimeout(a,e));var i=!1;function a(e){i||(i=!0,n&&clearTimeout(n),t.apply(null,arguments))}return a},e.tempBaiduid="baiduid"+Date.now().toString(16),e.baiduidCallbackCache=[],e.getRequestTag=0,e}(r.CookieManage);e.SwanCookieManage=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SwanStorage=void 0;var i=function(){function t(){}return t.prototype.setStorageItem=function(t,e){a.setStorageSync(t,e)},t.prototype.getStorageItem=function(t){var e=a.getStorageSync(t);return"string"==typeof e?e:""},t.prototype.removeStorageItem=function(t){a.removeStorageSync(t)},t.prototype.clearStorage=function(){a.clearStorageSync()},t.prototype.setCookie=function(t,e,n){},t.prototype.getCookie=function(t){return""},t}();e.SwanStorage=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),r=n(0),s=n(12),c=n(13),u=n(16),l=n(17),d=n(15),p=n(5),f=n(61),m=n(63),h=n(18),g=n(29),v=function(t){function e(){var e=t.call(this)||this;return e.cookieManage=new g.SwanCookieManage,e.clientType=p.ClientType.SAPP,e.request=new f.SwanNet,e.storageTimeLimit=new m.SwanStorageTimeLimit(r.STORAGE_CONFIG.KEY),e.siteModle=new u.SiteModle(e.request,e.modelEventEmitter),e.heartbeatModel=new l.HeartBeat(e.request,e.modelEventEmitter),e.sessionModle=new s.SessionModel(e.request,e.modelEventEmitter,e.storageTimeLimit),e.antiCheckModel=new c.AntiCheckModel(e.request,e.modelEventEmitter),e.messageModel=new d.MessageModel(e.request,e.modelEventEmitter),e.historyModel=new h.StorageHistory(e.modelEventEmitter,e.storageTimeLimit),e}return a(e,t),e.prototype.getCookie=function(t){this.cookieManage.getCookie(t)},e.prototype.saveResponseCookie=function(t){this.cookieManage.saveResponseCookie(t)},e.getModel=function(t){var e=null;switch(t){case"Request":e=f.SwanNet}return e},e}(o.ImSdk);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SwanNet=void 0;var i=n(29),o=n(0),r=n(1),c=function(){function t(){this.cookieManager=new i.SwanCookieManage}return t.prototype.get=function(t,e,n){var i=this;for(var o in e){var r=e[o];if(r&&"object"==(void 0===r?"undefined":s(r)))try{e[o]=JSON.stringify(r)}catch(t){}}return new Promise((function(o,r){i.getHeader(n||{},(function(n){a.request({url:t,data:e,method:"GET",header:n||{},success:function(t){i.saveResponseCookie(t.header);var e=i.convertToAxiosResponse(t);o(e)},fail:function(t){r(t)}})}))}))},t.prototype.post=function(t,e,n,i){var o=this;return t=r.util.setQueryToUrl(t,n),new Promise((function(n,r){o.getHeader(i||{},(function(i){a.request({url:t,data:e,method:"POST",header:i||{},success:function(t){o.saveResponseCookie(t.header);var e=o.convertToAxiosResponse(t);n(e)},fail:function(t){r(t)}})}))}))},t.prototype.convertToAxiosResponse=function(t){return{data:t.data,status:t.statusCode,headers:t.header}},t.prototype.saveResponseCookie=function(t){if(t&&t["Set-Cookie"]){var e=t["Set-Cookie"];this.cookieManager.saveResponseCookie(e)}},t.prototype.getHeader=function(t,e){var n=this;this.cookieManager.getCookie((function(i){t.Cookie=i||"",t=n.mergeDefaultHeader(t),e(t)}))},t.prototype.mergeDefaultHeader=function(t){var e=o.requestHeaders["smart-app"];return r.util.mergeJson(t||{},e)},t}();e.SwanNet=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookieManage=void 0;var i=n(0),a=function(){function t(t){this.noReadyCallbackCache=[],this.storage=t,this.loadCookie()}return t.prototype.loadCookie=function(){var e=this;if(!t.isReady){var n=this.storage.getStorageItem(i.STORAGE_COOKIE_KEY);try{n=decodeURIComponent(n);var a=JSON.parse(n);a instanceof Array&&a.forEach((function(e){var n=e.cookieKey;t.baseCookieData[n]=e}))}catch(t){}t.baseCookieData=this.removeExpires(t.baseCookieData),t.isReady=!0,this.noReadyCallbackCache.length&&this.getCookie((function(t){e.noReadyCallbackCache.forEach((function(e){e(t)}))}))}},t.prototype.saveResponseCookie=function(t){var e=this;if(t){var n=this.parseSetCookie(t);n&&n.length&&n.forEach((function(t){e.updateCookitItem(t)}))}},t.prototype.getCookie=function(e){if(t.isReady||!e){var n=[],i=t.baseCookieData;for(var a in i){var o=i[a];o.cookieValue&&n.push(o.cookieKey+"="+o.cookieValue)}return e&&e(n.join("; ")),n.join("; ")}this.noReadyCallbackCache.push(e)},t.prototype.getCookieItem=function(e){return t.baseCookieData[e]||null},t.prototype.updateCookitItem=function(e){t.baseCookieData[e.cookieKey]=e,this.delaySaveCookie()},t.prototype.parseSetCookie=function(t){for(var e="####"+(new Date).getTime()+"####",n=(t=t.replace(/(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s/g,"$1"+e)).split(/,\s*/),i=new RegExp("(Mon|Tue|Wed|Thu|Fri|Sat|Sun)"+e,"g"),a=[],o=0;o<n.length;o++){var r=n[o].replace(i,"$1, "),s=this.parseSetCookieItem(r);s&&a.push(s)}return a},t.prototype.parseSetCookieItem=function(t){for(var e=null,n=t.split(/;\s?/),i=0;i<n.length;i++){e=e||{};var a=n[i],o=a.indexOf("="),r=a.substring(0,o),s=a.substring(o+1,a.length);-1===o&&(r=a,s=!0,0===i&&(s="")),0!==i?"expires"!==r.toLowerCase()||"string"!=typeof s?e[r]=s:(e.expiresStr=s,e.expires=new Date(s).getTime()):(e.cookieKey=r,e.cookieValue=s)}return e},t.prototype.removeExpires=function(t){var e=(new Date).getTime(),n=!1;for(var i in t){var a=t[i];a.expires&&a.expires<e&&(n=!0,delete t[i])}return n&&this.delaySaveCookie(),t},t.prototype.saveCookie=function(t){try{var e=[];for(var n in t)e.push(t[n]);var a=JSON.stringify(e);a=encodeURIComponent(a),this.storage.setStorageItem(i.STORAGE_COOKIE_KEY,a)}catch(t){}},t.prototype.delaySaveCookie=function(){var e=this;this.delaySaveCookieHandle&&clearTimeout(this.delaySaveCookieHandle),this.delaySaveCookieHandle=setTimeout((function(){e.saveCookie(t.baseCookieData)}),100)},t.baseCookieData={},t.isReady=!1,t}();e.CookieManage=a},function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SwanStorageTimeLimit=void 0;var o=n(14),r=n(30),s=function(t){function e(e){var n=this,i=new r.SwanStorage;return(n=t.call(this,e,i)||this).ready(),n}return a(e,t),e}(o.StorageTimeLimit);e.SwanStorageTimeLimit=s}]).default},"object"==s(n)&&"object"==s(t)?t.exports=r():(i=[],void 0===(o="function"==typeof(e=r)?e.apply(n,i):e)||(t.exports=o))}).call(this,t(8)(e))})),t("8",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}})),t("9",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};try{e.exports=function(t,e){var n=this,i=(e=e||{}).sdkConfig||{},a=e.EventEmitter,o=e.isMiniProgram||!1,r=e.miniProgram,s=e.Util,c=e.host||i.host||"",u=(i.imTypes,i.defaultImType,e.FreeTimeModel),l=e.Callback,d=e.getImCallbacks,p=e.EntrySite,f=e.SdkDataModel,m=e.request,h=e.FetchData,g=e.StorageModel,v=e.HistoryModel,y=e.SaveDataModel,b=e.MessageStatusManager,S=e.SyncMessageModel,k=m.GetRequest,_=m.PostRequest,C=new f(i),T=(new Date).getTime().toString("16"),P={resendCount:2,resendDelay:1e3,heartDely:12e3},D=c+"/imlp/";Date.now||(Date.now=function(){return(new Date).getTime()});var x=Date.now(),E={phone:"电话",qq:"QQ",email:"Email",wechat:"微信"},I={SEND_SERVER_FORBID:13,BFE_LIMIT:1404},M={connect:D+"imlp/start",disconnect:D+"imlp/leave",send:D+"imlp/send",leaveWord:D+"imlp/send",heartbeat:D+"imlp/heart",getMessage:D+"imlp/message",userState:D+"imlp/status",userAction:D+"imlp/action",getAsyncCard:D+"imlp/getCardMat",entrySite:D+"track/start",fetch:D+"heartbeat",system:D+"imlp/system"},O={};O.emit=lt,O.updateData=function(t){if(J.imParam=J.imParam||{},J.visitParam=J.visitParam||{},ft(J,"ssid",t.ssid),t.ssid){var e=C.getSaveKey(J.imParam,"ssid");V.save(e,t.ssid,864e5)}ft(J.imParam,"im_type",t.imType),ft(J.visitParam,"aduserid",t.aduserid),ft(J.visitParam,"shop_id",t.shopid),Y=t.connectState,Q=t.isForbidden},O.disconnect=ut,O.startFreeCheck=function(){},O.resend=nt,O.setReadData=it,O.checkKefuMessage=at,O.sdkInnerKey=T,O.stop=ct,O.start=st,O.getConnectState=Z;var A=C.getPageParams(o),R=null,N=null,B=new s(t),U=d(O),L=null,H=null,j=null,K=null,q=null,F=null,V=new y(g,t,"imlp_save_base_data",B),z=new b(this),G=new a,W=!1,Y=0,J={},Q=!1,X=0,$={};function Z(){return Y}function tt(t){W&&ot({type:"freetime",data:t})}function et(t,e){if(W){var n=dt()||{};rt();var i=C.formatMessage(t,n);if(e||(X++,i.seq=X),J.sdkOptions.isSaveHistory){var a=function(t){var e=null;try{e=JSON.parse(JSON.stringify(t))}catch(n){e=t}return e}(i);q.add(a)}return e||($["send"+i.message_id]={retry:0,data:i},"card"===i.content_type&&delete i.card,"card"===i.content_type?N.request("send",i):R.request("send",i),lt("debug",[{type:"send",message:"send message",data:i}])),i}lt("error",[{type:"send",data:t}])}function nt(t,e,n){if(t){var i=$["send"+t];if(i){var a=i.data||{};if(n!==T)return z.resetReadStatus(t),void("card"===a.content_type?N.request("send",a):R.request("send",a));e.status===I.SEND_SERVER_FORBID||i.retry>=P.resendCount||e.status===I.BFE_LIMIT?O.emit("error",[{type:"send",data:t,result:e}]):(rt(),setTimeout((function(){i.retry++,"card"===a.content_type?N.request("send",a):R.request("send",a)}),P.resendDelay))}}}function it(t){return z.setReadData(t)}function at(t){return z.checkKefuMessage(t)}function ot(t){if(t||t.type){var e=dt()||{};t.im_type=e.imType,t.ssid=e.ssid,"object"===w(t.data)&&(t.data=B.JSON.stringify(t.data)),R.request("userState",t)}}function rt(){K&&K.reset()}function st(){j&&j.start(),F&&F.start()}function ct(){j&&j.isStart()&&j.stop(),K&&K.stop()}function ut(t){if(t)return t.eventName="disconnect",Y=0,ct(),delete t.key,void O.emit("disconnect",[t]);if(0!==Y){var e=dt(),n={im_type:e.imType,ssid:e.ssid};R.request("disconnect",n)}else ct()}function lt(t,e){if(e=e||[],G.emit(t,e),"message"===t)a=e[0],q.add(a);else if("readData"===t){var n=e[0]||{};for(var i in n)n.hasOwnProperty(i)&&"0"===n[i]&&delete $["send"+i]}var a}function dt(){var t=J.imParam||{},e=J.visitParam||{};return{aduserid:C.getUserId(e)||"",ssid:J.ssid||"",imType:t.im_type||0,imid:t.imid||t.imId||"",msgCount:X,wsid:e.wsid}}function pt(t,e){if(t)try{e(t)}catch(t){}}function ft(t,e,n){if(t&&e&&("number"==typeof n||n))return t[e]=n,t}this.init=function(e,i,a){if(W)return!1;if(a=a||{},(e=e||{}).imId=e.imId||e.imid,e.imid=e.imId,J.imParam=e||{},J.visitParam=i||{},J.sdkOptions=a||{},J.ssid=J.visitParam.ssid||"",J.url=a.url,void 0===J.sdkOptions.isSaveHistory&&(J.sdkOptions.isSaveHistory=!0),C.addApiParams(M,{wsid:i.wsid,pvKey:i.pvKey,ipv6:a.ipv6}),M.fetch=M.fetch+"&appid="+i.appid,M.send=M.send+"&appid="+i.appid,M.userAction=M.userAction+"&appid="+i.appid,M.leaveWord=M.leaveWord+"&appid="+i.appid,M.system=M.system+"&appid="+i.appid,M.getAsyncCard=M.getAsyncCard+"&appid="+i.appid,A=C.appendPageParams(A,a),!J.ssid){var o=C.getSaveKey(J.imParam,"ssid"),c=V.get(o);c&&(J.ssid=c)}L=new l(this,U),R=new k({miniProgram:r,method:"GET"},M,L),N=new _({miniProgram:r,method:"POST"},M,L),K=new u({minFreeTime:30,callback:tt},t),H=new p({source:A.referrer,url:A.url,xst:i.xst,pagetitle:A.title,pvkey:i.pvKey,appKey:a.appKey,appName:a.appName,cuid:a.cuid,wsid:i.wsid,f:a.f,ipv6:a.ipv6,imData:{im:{imParam:{appid:i.appid,ucid:C.getUserId(i),channel:i.channel,im_type:e.im_type,level1:e.level1,level2:e.level2,level3:e.level3,imid:e.imid}}}},M,L,l,{miniProgram:r,Util:s,SdkStatusConfig:I},_,t),j=new h(this,M,L,l,{fetchDelay:500,timeoutDelay:1e4,miniProgram:r,formatParamsFn:function(t){var e=0;2===Y?(e=1,j.updateParams({fetchDelay:1e3})):j.updateParams({fetchDelay:3e3});var i=n.getReadData();return t.system=t.system||{},t.system.last_sys_time=i.system.lastTime||"",t.talk=t.talk||{},t.talk.last_mes_time=i.message.lastTime||"",t.talk.connected=e,t}},_,t),!J.sdkOptions.cancelEntrySite&&H&&H.entry();var d=C.getHistoryKey(e,i,a);return q=new v({maxCount:50,key:d,historyStorageKey:"imlphistory"},g,t,B),z.init({messageTemp:$}),F=new S({key:d,historyStorageKey:"imlphistory",getLastMessageId:function(){return q.getLastMessageId()},change:function(t){if(t&&t.length){var e=t[t.length-1].message_id;q.setLastMessageId(e),lt("syncMessage",[t])}}},t,B),st(),W=!0,lt("init"),!0},this.on=function(t,e){return G.on(t,e),this},this.off=function(t,e){return G.off(t,e),this},this.connect=function(t){if(W&&2!==Y&&1!==Y&&!Q){st(),Y=1;var e=C.getConnectParams(J,t);return R.request("connect",e),this}},this.send=et,this.addMessage=function(t){return et(t,!0)},this.leaveWord=function(t){rt();var e=(E[t.type]||"未知")+": "+t.content,n=dt()||{},i=C.createMessageId(n.ssid,x),a={ssid:n.ssid,content:e,source:"leaveword",msgid:i};return a.message_id=i,a.content_type="text",a.message_time=Date.now(),a.im_type=n.imType,a.imid=n.imid,a.seq=0,R.request("leaveWord",a),lt("debug",[{type:"leaveWord",message:"leave word"}]),i},this.reset=function(){ct(),G.offAll(),pt(L,(function(t){t.destroy(),t=null})),pt(R,(function(t){t.destroy(),t=null})),pt(H,(function(t){t.destroy(),t=null})),pt(j,(function(t){t.destroy(),t=null})),q=null},this.getData=dt,this.disconnect=ut,this.getHistory=function(){if(q){var t=q.get()||[];return lt("history",[t]),t}lt("error",[{type:"getHistory",data:P}])},this.resend=nt,this.getReadData=function(){return z.getData()},this.setReadData=it,this.checkKefuMessage=at,this.kefuMessageRead=function(t){var e=dt()||{},n={ssid:e.ssid,message:t};n.im_type=e.imType,R.request("system",n)},this.getConnectState=Z,this.isInit=function(){return W},this.resetFreeTime=rt,this.sendUserAction=function(t){if(t||t.type){rt();var e=dt()||{};t.im_type=J.imParam.im_type||0,t.ssid=e.ssid,"object"===w(t.data)&&(t.data=B.JSON.stringify(t.data)),R.request("userAction",t)}},this.sendUserState=ot,this.stop=ct,this.start=st,this.formatMessage=function(t){var e=dt()||{};return C.formatMessage(t,e)},this.emitEvent=function(t,e){lt(t,[e])}}}catch(t){}})),t("10",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){function w(t){var e={},n={setItem:function(e,n){t.setStorageSync(e,n)},getItem:function(e){return t.getStorageSync(e)},removeItem:function(e){t.removeStorageSync(e)}};this.screen={availWidth:t.getSystemInfoSync().windowWidth,availHeight:t.getSystemInfoSync().windowHeight},this.JSON=JSON,this.postMessage=function(t,n){!function(t,n){var i=e.message;if(i)for(var a=0;a<i.length;a++)i[a].apply(null,n)}(0,[{type:"message",data:t}])},this.addEventListener=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.localStorage=n,this.sessionStorage=n,this.removeEventListener=function(t,n){var i=e[t];if(i)for(var a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)},this.top=this,this.parant=this,this.self=this,this.setTimeout=setTimeout,this.clearTimeout=function(t){try{clearTimeout(t)}catch(t){}},this.clearInterval=function(t){try{clearInterval(t)}catch(t){}},this.setInterval=setInterval}e.exports={create:function(t){return new w(t)}}})),t("11",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(){var t={};this.on=function(e,n){e&&n&&(t[e]=t[e]||[],t[e].push(n))},this.emit=function(e,n){var i=t[e];if(i)for(var a=0;a<i.length;a++)i[a].apply(null,n)},this.off=function(e,n){var i=t[e];if(i)for(var a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)},this.offAll=function(e){e?t[e]=null:t={}},this.getEvents=function(e){return t[e]}}}catch(t){}})),t("12",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e){var n=0,i=t.minFreeTime||15,a=t.callback||function(){},o=0;this.start=function(){o||(n=0,o=setInterval((function(){(n+=5)>=i&&n%5==0&&a(n)}),5e3))},this.stop=function(){clearInterval(o),o=0},this.reset=function(){n=0}}}catch(t){}})),t("13",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){function w(t){t=t||[];for(var e={messageList:[],disconnect:null},n=0;n<t.length;n++){var i=t[n],a=i.content_type,o=i.content||{};"system"!==a||"cmd"!==o.type||"close"!==o.value?e.messageList.push(i):e.disconnect={from:"service",result:o}}return e}try{e.exports=function(t){function e(e){return function(n,i){!n||0!==n.status&&"0"!==n.status?t.emit("error",[{type:e,data:i,result:n}]):t.emit(e,arguments)}}function n(e){return function(n,i){t.emit("error",[{type:e,data:n,result:i}])}}function i(e){return function(n){t.emit("end",[{type:e,data:n}])}}function a(t){return{onResult:e(t),onError:n(t),onEnd:i(t)}}var o={};return o.connect={onResult:function(e){var n={isForbidden:!1,connectState:0,status:(e=e||{}).status,ssid:e.ssid,awake:e.awake,shopid:e.shopid,aduserid:e.aduserid,imType:e.im_type,robot:0===parseInt(e.robot_status,10)};11===n.status?(t.disconnect(n,{key:t.sdkInnerKey,type:"cheat",result:n}),n.isForbidden=!0):0!==n.status&&2!==n.status||(n.connectState=2),t.updateData(n),0===n.status||2===n.status?(t.startFreeCheck(),t.emit("taskbegin",[n])):t.emit("error",[{type:"taskbegin",data:n,result:e}])},onError:function(e){t.emit("error",[{type:"taskbegin"}]),t.updateData({connectState:0})},onEnd:i("taskbegin")},o.send={onResult:function(e,n){!e||0!==e.status&&"0"!==e.status?n&&n.msgid?t.resend(n.msgid,e,t.sdkInnerKey):t.emit("error",[{type:"send",data:null}]):t.emit("send",arguments)},onError:function(e){e?t.resend(e.msgid,null,t.sdkInnerKey):t.emit("error",[{type:"send",data:null}])},onEnd:i("send")},o.leaveWord=a("leaveWord"),o.userState=a("userState"),o.userAction=a("userAction"),o.entrySite=a("entrySite"),o.fetch={onResult:function(e){(e=e||{}).talk=e.talk||{};var n=e.talk;if(11===e.status||n&&n.status,n&&(void 0!==n.switchtomanual&&t.emit("switchToManual",[n.switchtomanual]),n.message instanceof Array)){if(n.kefuInput&&t.emit("kefuInput",[n.kefuInput.timestamp]),e.system&&e.system.message){var i=t.setReadData(e.system.message);i&&t.emit("readData",[i])}for(var a=w(n.message)||{},o=a.messageList||[],r=[],s=0;s<o.length;s++){var c=t.checkKefuMessage(o[s]);c&&r.push(o[s])}r.length&&t.emit("message",[r]),n.disconnect=n.disconnect||a.disconnect,!0===n.disconnect&&(n.disconnect={from:"service",result:!0});var u=t.getConnectState();2!==u&&delete n.disconnect,n.disconnect&&t.disconnect(n.disconnect),t.emit("fetch",arguments)}},onError:n("fetch"),onEnd:i("fetch")},o.getMessage=o.fetch,o.disconnect={onResult:function(e,n){!e||0!==e.status&&"0"!==e.status?t.emit("error",[{type:"disconnect",data:n,result:e}]):(t.stop(),t.emit("disconnect",{from:"client",result:e,data:n}))},onError:n("disconnect"),onEnd:i("disconnect")},o}}catch(t){}})),t("14",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e){t=t||this,this.destroy=function(){},this.getCallback=function(n){if(!e)return null;var i=e[n]||{},a={onResult:function(){},onEnd:function(){},onError:function(){}};return i.onResult&&(a.onResult=function(e){i.onResult.apply(t,arguments)}),i.onEnd&&(a.onEnd=function(){i.onEnd.apply(t,arguments)}),i.onError&&(a.onError=function(){i.onError.apply(t,arguments)}),a}}}catch(t){}})),t("15",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n,i,a,o,r){var s=(a=a||{}).retryDelay||5e3,c=a.retryCount||3,u=a.miniProgram,l=a.Util,d=a.SdkStatusConfig||{},p=new l(r),f="entrySite",m={};n&&n.getCallback&&(m=n.getCallback(f)||{});var h=null,g={entrySite:{onResult:function(t,e){0===t.status?(m.onResult&&m.onResult(t),m.onEnd&&m.onEnd()):t.status===d.BFE_LIMIT?v(e,t):h()||v(e,t)},onError:function(t){h()||v(t)},onEnd:function(){}}};function v(t,e){m.onError&&m.onError(t,e),m.onEnd&&m.onEnd()}var y=function(t){var e=r.screen.availWidth,n=r.screen.availHeight,i=t.imData,a={},o=[],s=t.xst,c={client:{source:t.source,url:t.url,dpi:e+"x"+n,xst:s,pagetitle:t.pagetitle,pvkey:t.pvkey,appKey:t.appKey,appName:t.appName,cuid:t.cuid,wsid:t.wsid||"",ipv6:t.ipv6||""},service:[],f:t.f||""},u=(o=[],[]),l={uid:{},appid:{}};for(var d in i){var f=(i[d]||{}).imParam;if(f){var m=f.ucid;m&&!a[m]&&(a[m]=1,o.push(m));var h=f.appid;h&&!l.appid[h]&&(l.appid[h]=1,u.push(h));var g=f.imid;if(!g&&f.imUrl&&p)g=p.parseUrl(f.imUrl).params.imid;c.service.push({ucid:m,channel:f.channel,im_type:f.im_type,level1:f.level1,level2:f.level2,level3:f.level3,appid:h,imid:g})}}return{appidList:u,userIdList:o,entryData:c}}(t)||{},b=y.entryData,S=(y.userIdList||[]).join(","),k=(y.appidList||[]).join(","),_={};-1===e[f].indexOf("?")?_[f]=e[f]+"?userid="+encodeURIComponent(S):_[f]=e[f]+"&userid="+encodeURIComponent(S),_[f]+="&appid="+encodeURIComponent(k),t.pvkey&&(_[f]+="&pvkey="+encodeURIComponent(t.pvkey||""));var w,C,T,P=new o({miniProgram:u},_,new i(this,g));w=0,C=c,T=0,h=function(){return!(-1!==C&&w>=C||(clearTimeout(T),T=setTimeout((function(){w++,P.request(f,b)}),s),0))},this.entry=function(){P.request(f,b)},this.onSuccess=function(t){},this.destroy=function(){}}}catch(t){}})),t("16",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};try{e.exports=function(t){function e(t){return new function t(e){var n={},i=(e=e||"").indexOf("#"),a="";-1!==i&&(a=e.substring(i),e=e.substring(0,i));for(var o=e.split("?"),r=o[0],s=(o[1]||"").split("&"),c=0;c<s.length;c++){var u=s[c];if(u){var l=u.split("="),d=l[0],p=l[1]||"";try{p=decodeURIComponent(p)}catch(t){p=l[1]||""}n[d]=p}}var f=r.replace(/\?.*/,"").replace(/^(https?:)?\/\//i,"").replace(/\/.*/,""),m=f.replace(/:\d+$/,""),h=r.replace(/:?\/\/.*/,""),g=r.replace(/^(https?:)?\/\/.*?(\/|$)/i,"");function v(){var t=(h?h+":":"")+"//"+f+g,e=this.params;if(e){var n=[];for(var i in e){var o=e[i];if(null!=o){var r=void 0===o?"undefined":w(o);if("string"!==r&&"number"!==r)try{o=JSON.stringify(o)}catch(t){continue}n.push(i+"="+encodeURIComponent(o))}}n&&n.length&&(t+="?"+n.join("&"))}return a&&(t+=a),t}g&&(g="/"+g),this.params=n,this.url=e,this.removeParam=function(t){delete this.params[t],this.url=v.call(this)},this.addParam=function(t,e){this.params[t]=e,this.url=v.call(this)},this.getHost=function(){return f},this.getHostname=function(){return m},this.getProtocol=function(){return h},this.getPathname=function(){return g},this.removeHash=function(){a="",this.url=v.call(this)},this.setOrigin=function(e){var n=new t(e);h=n.getProtocol(),m=n.getHostname(),f=n.getHost(),this.url=v.call(this)}}(t)}function n(t){try{return t()}catch(t){}}function i(t){try{return JSON.parse(t)}catch(t){}}function a(t){try{return JSON.stringify(t)}catch(t){}}function o(t){return i(a(t))}this.isMiniProgramIframe=function(t,e){return new RegExp("^https?://"+e+"/imsdk/page","i").test(t)},this.createCData=function(t,e,i){var a=[t.channel||"",t.level1||"",t.level2||"",t.level3||"",t.user_id||t.aduserid||"",t.im_type||"",t.ssid||"",t.appid||""].join("__");return e&&n((function(){a=e.encode(a,i)})),a},this.parseCData=function(t,e,i){t=t||"",e&&n((function(){t=e.decode(t,i)}));var a=t.split("__")||[];return{channel:a[0]||"",level1:a[1]||"",level2:a[2]||"",level3:a[3]||"",ucid:a[4]||"",imType:a[5]||"",ssid:a[6]||"",appid:a[7]||""}},this.isChargeLink=function(t){return-1!==t.indexOf("baidu.php?url=")||-1!==t.indexOf("link?url=")||-1!==t.indexOf("baidu.php?sc.")},this.isImlpUrl=function(t,e){for(var n=[new RegExp("^https?://"+e+"/imlp","i"),new RegExp("^https?://"+e+"/site/[^/]+/.*","i"),new RegExp("^https?://"+e+"/imsdk/page","i")],i=!1,a=0;a<n.length;a++)i=i||n[a].test(t);return i},this.getBrowser=function(t){var e=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=null;e?i="android":n&&(i="ios");var a=null;return/(SogouMobileBrowser|SogouMSE)/i.test(t)&&(a="sogou"),{os:i,browser:a}},this.parseUrl=e,this.eachArray=function(t,e){if(t&&"function"==typeof e)for(var n=0;n<t.length;n++)e(t[n],n)},this.trycatch=n,this.mergeObject=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t},this.JSON={stringify:a,parse:i},this.bindEvent=function(e,n){t&&(t.addEventListener?t.addEventListener(e,n):t.attachEvent&&t.attachEvent("on"+e,n))},this.jsonClone=o,this.mergeJson=function(t,e,n){var i=t||{};for(var a in n&&(i=o(i)),e=e||{}){var r=i[a];r||"number"==typeof r||(i[a]=e[a])}return i},this.createOneKey=function(t){return(t=t||"key")+(new Date).getTime().toString(16)+parseInt(1e5*Math.random()).toString(16)},this.filterEmptyStr=function(t){return"undefined"===t&&(t=void 0),t},this.getPageParams=function(t,n){return{referrer:t,urlParams:e(n).params||{},pageUrl:n}},this.getValue=function(t,e,n){if(!t||"string"!=typeof e)return n;for(var i=e.split("."),a=t,o=0,r=0,s=i.length;r<s&&a;r++)a=a[i[r]],o++;return null!=a&&o===i.length||(a=n),a}}}catch(t){}})),t("17",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t){var e,n,i=h(),a=t.imTypes,o=t.defaultImType,r=(e="abcdefghijklmnopqrstuvwxyz1234567890",(n=(e+=e).split("")).sort((function(){return c()%2-1||1})),n);function c(t){return t=t||1e4,Math.round(Math.random()*t)}function u(t){var e=(t=t||function(t){for(var e=[],n=r.length,i=0;i<32;i++){var a=c()%n;e.push(r[a])}return e.join("")}()).substr(-6),n=h();return"m"+((e+=n.toString(16).substr(-10))+(n-i).toString(16))}function d(t,e,n,i){n||null!=n?t[e]=n:void 0!==i&&(t[e]=i)}function p(t,e,n){var i=f(e);if(!i||!n)return n;var a={};for(var o in i)t?a[i[o]]=n[o]:a[o]=n[i[o]];return function(t){for(var e in t){var n=t[e];"number"==typeof n||n||delete t[e]}}(a),a}function f(t){if("send"===t){return{type:"content_type",content:"content",ssid:"ssid",contenttext:"contenttext",fromid:"fromid",msgid:"msgid",trigger:"trigger",source:"source",imid:"imid",seq:"seq",sourceTag:"source_tag",card:"card",message_id:"message_id",message_time:"message_time",im_type:"im_type"}}}function m(t){return(t=t||{}).user_id||t.aduserid}function h(){return(new Date).getTime()}this.getConnectParams=function(t,e){e=e||{};var n=["wcWord","cardId","pt","ac","t"],i=t.imParam||{},a=t.visitParam||{},o=t.sdkOptions||{},r={};(r={xst:a.xst||"",query:a.query||"",bidword:a.bidword||"",city:a.city||"",aduserid:a.aduserid||"",level1:i.level1||"",level2:i.level2||"",level3:i.level3||"",client_source:a.clientSource,cuid:o.cuid}).user_id=a.user_id||"",r.userid=r.user_id,r.user_id_type=a.user_id_type||"",r.abTest=a.abTest||"",r.autoConnect=a.autoConnect||0,r.transparent=a.transparent||"",r.appid=a.appid||"",d(r,"imid",i.imId||i.imid),d(r,"channel",a.channel),d(r,"imlpAccessId",a.imlpAccessId),d(r,"url",a.url||t.url),d(r,"notifyIM",i.notifyIM),d(r,"cipUrl",a.cipUrl),d(r,"cipText",a.cipText);for(var s=0;s<n.length;s++){var c=n[s];d(r,c,e[c])}return d(r,"im_type",i.im_type,0),r.ssid=t.ssid||"",r.params=a.params||"",r},this.createMessageId=u,this.getPageParams=function(t){var e={};try{t||(e.url=l.href,e.referrer=s.referrer,e.title=s.title)}catch(t){}return e},this.getHistoryKey=function(t,e,n){var i=(n=n||{}).historyKey,a=m(e)||"",o=t.im_type,r=t.imId||"";return i?"hmsg"+i:a?"uidmsg"+a:"msg"+r+o},this.convertInputOutputParam=p,this.getSaveKey=function(t,e){var n=(t=t||{}).im_type,i=a[n]||o,r=(t.imId||"")+"_"+e;if("bcp"===i.server){var s=Number(t.level2)?t.level2:"",c=Number(t.level3)?t.level3:"";r=[t.level1,s,c,n,e].join("_")}return r},this.appendPageParams=function(t,e){return d(t=t||{},"url",(e=e||{}).url),d(t,"title",e.title),d(t,"referrer",e.referrer),t},this.getUserId=m,this.addApiParams=function(t,e){var n=[];for(var i in e)(e[i]||0===e[i])&&n.push(i+"="+encodeURIComponent(e[i]));var a=n.join("&");for(var i in t)-1===t[i].indexOf("?")?t[i]+="?"+a:t[i]+="&"+a;return t},this.formatMessage=function(t,e){var n=(e=e||{}).ssid||"",i=e.imType||"",r=e.imid||"",s=t.msgid||t.message_id||u(n);t.ssid=n,t.source=t.source||"user",t.message_time=h(),t.msgid=s,t.message_id=s,t.im_type=i,t.imid=r;var c=f("send");for(var l in c){var d=c[l];l!==d&&(t[l]||0===t[l]||(t[l]=t[d]))}t.type=t.type||t.content_type||"text";var m=p(!0,"send",t),g=m.content_type||"text";g+="";var v=a[i]||o;return"1"!==g||"bcp"!==v.server&&"aiservice"!==v.server||(m.content_type="text"),"2"===g&&(m.content_type="image"),m}}}catch(t){}})),t("18",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w={imlpApp:{appid:"wx2fde1496e4d81009",path:""},host:"https://ada.baidu.com",defaultImType:{name:"default",server:"bcp"},clientSdkDataTimeout:432e5};!function(t){var e=[];e[0]={name:"爱番番",server:"bcp"},e[1]={name:"商务通",server:"bcp"},e[2]={name:"53客服",server:"bcp"},e[3]={name:"快商通",server:"bcp"},e[4]={name:"ai客服",server:"aiservice"},e[5]={name:"咨询分诊",server:"guide"},e[6]={name:"乐语",server:"bcp"},e[7]={name:"美洽",server:"bcp"},e[8]={name:"易聊通",server:"bcp"},e[9]={name:"螳螂",server:"bcp"},e[10]={name:"鱼塘",server:"bcp"},e[11]={name:"live800",server:"bcp"},e[12]={name:"小能",server:"bcp"},e[10001]={name:"熊掌号",server:"bcp"},t.imTypes=e}(w);try{e.exports=w}catch(t){}})),t("19",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=t(20),T=t(21);e.exports=function(t,e,n){var i=!1,a=(t=t||{}).method||"POST",o=t.miniProgram,r=new C(o);function s(t,s,c,u,l){var d={};for(var p in s){var f=s[p];if(d[p]=f,"object"===(void 0===f?"undefined":w(f)))try{d[p]=JSON.stringify(f)}catch(t){}}"POST"===a&&(d=s);var m=e[t];if(!/(\?|&)wsid=/.test(m))if("POST"===a){var h="&wsid="+encodeURIComponent(T.wsid||"");-1===m.indexOf("?")&&(h="?wsid="+encodeURIComponent(T.wsid||"")),-1!==m.indexOf("#")?m=m.replace("#",h+"#"):m+=h}else d.wsid=T.wsid;var g=n?n.getCallback(t):null;o.request({url:m,data:d,method:a,dataType:"json",header:{"X-CLIENT":"BAIDUBOXAPP",Cookie:u},success:function(t){r.headerSetCookie(t.header["Set-Cookie"]),c&&c.onResult&&c.onResult(t.data,s,m),g&&g.onResult&&!i&&g.onResult(t.data,s,m,l)},fail:function(t){c&&c.onError&&c.onError(s,t,m),g&&g.onError&&!i&&g.onError(s,t,m,l)},complete:function(){c&&c.onEnd&&c.onEnd(s,m),g&&g.onEnd&&!i&&g.onEnd(s,m,l)}})}this.request=function(t,e,n,i){var a=Date.now();return i?(s(t,e,n,i,a),a):(r.getCookie((function(i){s(t,e,n,i,a)})),a)},this.startHeartbeat=function(t,e){},this.stopHeartbeat=function(){},this.destroy=function(){i=!0},this.addOrReplaceApi=function(t,n){(e=e||{})[t]=n}}})),t("20",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=null;e.exports=function(t){var e=!0;function n(e){try{var n=JSON.stringify(e);n=encodeURIComponent(n),t.setStorageSync("imlpcookie",n)}catch(t){}}function i(t,e){for(var n=0;n<e.length;n++)if(e[n].cookieKey===t.cookieKey)return void(e[n]=t);e.push(t)}function a(t,e){for(var n=r()||[],i=0;i<n.length;i++){var a=n[i];if(a.cookieKey===t)return e?a:a.cookieValue}}function o(t,e){var a=r();i({cookieKey:t,cookieValue:e},a=a||[]),n(a)}function r(e){if(w=w||[],!e)return w;var i=t.getStorageSync("imlpcookie");if(!i)return w;try{i=decodeURIComponent(i),w=JSON.parse(i)}catch(t){}return w=function(t){t=t||[];for(var e=(new Date).getTime(),i=[],a=[],o=!1,r=0;r<t.length;r++){var s=t[r];s.expires&&s.expires<e?o=!0:(a.push(s),i.push(s.cookieKey+"="+s.cookieValue))}return o&&n(a),a}(w=w||[])}function s(t){for(var e=null,n=t.split(/;\s?/),i=0;i<n.length;i++){e=e||{};var a=n[i],o=a.indexOf("="),r=a.substring(0,o),s=a.substring(o+1,a.length);-1===o&&(r=a,s=!0,0===i&&(s="")),0!==i?"expires"!==r?e[r]=s:(e.expiresStr=s,e.expires=new Date(s).getTime()):(e.cookieKey=r,e.cookieValue=s)}return e}w||(w=r(!0)),this.getSetCookieStr=function(t){var e=[],n=a(t,!0);if(n){e.push(n.cookieKey+"="+n.cookieValue);var i=["cookieValue","cookieKey","expires"];for(var o in n)-1===i.indexOf(o)&&("expiresStr"!==o?e.push(o+"="+n[o]):e.push("expires="+n[o]))}return e.join("; ")},this.getValue=a,this.getCookie=function(n){var i=r();i=i||[];for(var a=[],s={},c=0;c<i.length;c++){var u=i[c];s[u.cookieKey]=u.cookieValue,a.push(u.cookieKey+"="+u.cookieValue)}return n&&function(n,i){n=n||function(){};var a=!1,r=setTimeout(s,300);if(e)try{t.getBDUSS({success:function(t){var e=t.bduss;e&&e!==i?o("BDUSS",e):e=null,s(e)},fail:function(t){var n=t.errCode;202!==n&&"10005"!==n&&10005!==n||(e=!1),console.log("error",t),s()},complate:function(){s()}})}catch(t){s()}else s();function s(t){a||(a=!0,clearTimeout(r),n(t))}}((function(t){t&&(a.forEach((function(t,e){0===t.indexOf("BDUSS=")&&a.splice(e,1)})),a.push("BDUSS="+t)),n(a.join("; "))}),s.BDUSS),a.join("; ")},this.headerSetCookie=function(t){if(t){var e=r();e=e||[];var a=function(t){for(var e="####"+(new Date).getTime()+"####",n=(t=t.replace(/(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s/g,"$1"+e)).split(","),i=new RegExp("(Mon|Tue|Wed|Thu|Fri|Sat|Sun)"+e,"g"),a=[],o=0;o<n.length;o++){var r=s(n[o].replace(i,"$1, "));r&&a.push(r)}return a}(t);if(a&&0!==a.length){for(var o=0;o<a.length;o++)i(a[o],e);n(e)}}},this.addCookie=o}})),t("21",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(22),C={},T={isShowLog:!1,prefetchUrl:"https://ada.baidu.com/imlp/hello",nclickUrl:"https://ada.baidu.com/nclick-imlp/index"};function P(t){return(t=t||"key")+(new Date).getTime().toString(16)+parseInt(1e5*Math.random()).toString(16)}T.appStartTime=Date.now(),T.wsid=P("wsid"),T.showLog=function(){T.isShowLog&&console.log.apply(console.log,arguments)},T.createOneKey=P,T.bindChatViewScroll=function(t,e){C[t]=e},T.unbindChatViewScroll=function(t){t&&t.forEach&&(t.forEach((function(t){delete C[t]})),console.log("unbindChatViewScroll",C))},T.chatViewScroll=function(t,e){t&&t.forEach&&t.forEach((function(t){var n=C[t];if(n&&n.onChatViewScroll)try{n.onChatViewScroll(e)}catch(t){}}))},T.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var a=parseInt(t[i],10),o=parseInt(e[i],10);if(a>o)return 1;if(a<o)return-1}return 0},T.setData=function(t,e){"appInfo"===t?T.appInfo=e:"aop"===t&&(T.aop=e)},T.setPageStep=function(t,e){var n=Date.now();setTimeout((function(){var i=function(){if(T.aop&&T.aop.getAopData)return T.aop.getAopData()}()||{};"loadPageDataStart"===t&&i.openPage<=1?T.log("first_load_data_start",n-T.appStartTime,e):"loadPageDataResult"===t&&i.openPage<=1&&T.log("first_load_data_success",n-T.appStartTime,e)}),1e3)},T.log=function(t,e,n){n=n||{};var i=T.appInfo||{};if(e&&"string"!=typeof e)try{e=JSON.stringify(e)}catch(t){}var o={type:t,tag:"fc_imlp",from:"imlp",timestamp:Date.now(),xst:n.xst,content:e,appKey:i.appKey||n.appKey,abTest:w.abTest,client:"native-smart-app",url:n.url,wsid:T.wsid};a.request({url:T.nclickUrl,data:o})},e.exports=T})),t("22",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w={aopPreload:!0},C={},T={abTest:null},P={};function D(){}T.setXst=function(t){var e=function(t){if(t){if(P[t])return P[t];var e=function(t){var e=[0,1,3,7,15,31,63],n=[32,4,1,67,80,35,23,33,56,0,52,17,60,11,53,59,2,3,12,43,21,44,33,54,36,8,38,15,25,22,13,13,43,32,46,44,23,4,21,24,11,53,39,43,24,37,11,11,0,51,10,56,57,15,32,5,46,33,36,41,63,34,3,11,25,6,34,40,4,47,9,41,19,29,42,1,55,39,21,63,13,11,20,62,28,27,45,35,30,52,7,13,12,44,5,44,47,2,36,8,53,59,16,23,38,18,3,49,58,24,12,43,26,61,14,48,60,25,54,17,31,22,50,43,50,15,0,27],i=t.length;if(i<=0||1===i&&0!==t.charCodeAt(0)||6*i%8>=6)return!1;for(var a=0;a<i;a++)if(t.charCodeAt(a)>127||-1===n[t.charCodeAt(a)])return!1;var o=6*i/8;o=parseInt(o,10);for(var r=0,s=0,c=0,u="";o--;)r>0&&(c|=(n[t.charCodeAt(s)]&e[r])<<8-r,s++),(r=8-r)>=6&&(c|=n[t.charCodeAt(s)]<<r-6,r-=6,s++),r>0&&(c|=n[t.charCodeAt(s)]>>6-r,r=6-r),u+=String.fromCharCode(255&c),c=0;return u}(t);if(!e)return null;var n=e.split(""),i={},a=!0,o=!1,r=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value.split("="),l=u[0]||"",d=u[1]||"";i[l]=d}}catch(t){o=!0,r=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw r}}return P[t]=i,i}}(t);if(e){var n=e.e;T.abTest=n,C[n]&&(w[C[n]]=!0)}},T.on=function(t,e,n){e=e||D,w[t]?e():n&&n()},e.exports=T})),t("23",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n,i,a,o,r){var s=(a=a||{}).fetchDelay||1e3,c=a.timeoutDelay||15e3,u=s,l=a.formatParamsFn,d=a.miniProgram,p=function(){if(t)return t.getData().aduserid}(),f=!1,m=0,h={};n&&n.getCallback&&(h=n.getCallback("fetch")||{});var g={};g.fetch={onResult:function(t,e,n,i){h.onResult&&h.onResult(t),w(i)},onError:function(t,e,n,i){w(i)},onEnd:function(t,e,n){w(n)}};var v={};-1===e.fetch.indexOf("?")?v.fetch=e.fetch+"?userid="+encodeURIComponent(p):v.fetch=e.fetch+"&userid="+encodeURIComponent(p);var y=new o({miniProgram:d},v,new i(this,g)),b=0,S=0,k=0;function _(e){if(k++,S++,e||1e3*S>u){S=0,u=c;var n=!0;k>15&&(k=0,n=!1);var i=function(e){var n={main:{}};if(t&&t.getData){var i=t.getData();i.ssid&&(n.talk={ssid:i.ssid},n.talk.im_type=i.imType),n.main.wsid=i.wsid||""}return e&&(n.main.noHeartBeat=1),n}(n);"function"==typeof l&&(i=l(i)),m=y.request("fetch",i)}}function w(t){m===t&&(u=s,S=0)}function C(){clearInterval(b),f=!1}this.isStart=function(){return f},this.addOrReplaceApi=function(t,e){y.addOrReplaceApi(t,e)},this.start=function(){return!f&&(C(),f=!0,_(!0),b=setInterval(_,1e3),!0)},this.stop=C,this.updateParams=function(t){"number"==typeof t.fetchDelay&&(s=t.fetchDelay)},this.destroy=function(){C()}}}catch(t){}})),t("24",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e){var n=t.localStorage;e&&(n=t.sessionStorage),this.setItem=function(t,e){n&&n.setItem(t,e)},this.getItem=function(t){if(n)return n.getItem(t)},this.removeItem=function(t){n&&n.removeItem(t)},this.clear=function(){n&&n.clear()},this.length=function(){return n&&n.length,0}}}catch(t){}})),t("25",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n,i){var a=null,o=new e(n),r=t.maxCount||50,s=t.key,c=t.historyStorageKey;function u(t){try{var e=i.JSON.stringify(t);o.setItem(c,e)}catch(t){"QuotaExceededError"===t.name||t.code}}function l(){var t=null;try{t=o.getItem(c)}catch(t){}if(t)try{t=i.JSON.parse(t)}catch(t){}return t||{}}this.get=function(){var t=null,e=l()[s];return e&&(t=e.msgList||[],e.updateTime=(new Date).getTime()),t&&(a=t[t.length-1].message_id),t},this.add=function(t){var e=l();e[s]=e[s]||{};var n=e[s];n.msgList=n.msgList||[],function(t,e){if(t){var n=t.msgList;if(e instanceof Array){for(var i=0;i<e.length;i++)n.push(e[i]);a=e[e.length-1].message_id}else n.push(e),a=e.message_id;-1!==r&&r>0&&n.length>r&&n.splice(0,n.length-r),t.updateTime=(new Date).getTime()}}(n,t),u(e)},this.getLastMessageId=function(){return a},this.setLastMessageId=function(t){a=t},this.remove=function(){var t=l();t[s]&&(delete t[s],u(t))},this.changeKey=function(t){var e=l();e[s]&&(e[t]=e[s],e[t].updateTime=(new Date).getTime(),delete e[s],u(e)),s=t}}}catch(t){}})),t("26",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n,i){var a=new t(e),o=new t(e,!0);function r(t){return t?o:a}function s(t){var e=r(t),a=e.getItem(n),o=i.JSON.parse(a)||{};o=function(t){if(t){var e=(new Date).getTime();for(var n in t)c(t[n],e)&&delete t[n];return t}}(o);var s=i.JSON.stringify(o);return e.setItem(n,s),o}function c(t,e){return e=e||(new Date).getTime(),!!t.timestamp&&t.timestamp<e}this.save=function(t,e,a,o){var c=r(o),u=s(o)||{},l=0;a&&(l=a+(new Date).getTime()),u[t]={timestamp:l,data:e};var d=i.JSON.stringify(u);c.setItem(n,d)},this.get=function(t,e){return((s(e)||{})[t]||{}).data}}}catch(t){}})),t("27",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n){var i=!1,a=t.key,o=t.historyStorageKey,r=t.change||function(){},s=t.getLastMessageId||function(){};function c(t){if((t=t||e.event)&&t.key===o){var i=n.JSON.parse(t.newValue)||{};if(i[a]){var c=i[a].msgList;if(c&&c.length){for(var u=s(),l=[],d=!1,p=0;p<c.length;p++){var f=c[p];f.message_id!==u?d&&l.push(f):d=!0}d||(l=c),l&&l.length&&r(l)}}}}function u(){i=!1}this.start=function(){i||(i=!0,n.bindEvent("storage",c))},this.stop=u,this.destroy=function(){u()}}}catch(t){}})),t("28",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t){var e={system:{list:{},lastTime:0},message:{list:{},lastTime:0}},n=0,i={};this.init=function(e){i=e.messageTemp;for(var n=t.getHistory(),a=0;a<n.length;a++){var o=n[a];this.checkKefuMessage(o,!0)}},this.resetReadStatus=function(t){delete e.system.list[t]},this.getData=function(){return e},this.setReadData=function(t){for(var n={},a=e.system,o=!1,r=0;r<t.length;r++){var s=t[r],c=s.user_message_id,u=parseInt(s.user_message_time,10)||0,l=s.is_read;u>a.lastTime&&(a.lastTime=u),a.lastTime=u,"0"!==a.list[c]&&i["send"+c]&&a.list[c]!==l&&(n[c]=l,a.list[c]=l,o=!0)}return!!o&&n},this.checkKefuMessage=function(i,a){if("service"===i.source&&"system"!==i.content_type){var o=i.message_id,r=i.message_time?parseInt(i.message_time,10):0;return e.message.lastTime<r&&(e.message.lastTime=r),(0===n||r<n)&&(n=r),!o||!r||(a?(e.message.list[o]=1,!1):!(r<n||e.message.list[o]||(e.message.list[o]=1,t.kefuMessageRead(i),0)))}return!0}}}catch(t){}})),t("29",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(30),C={},T="";function P(t,e){this.then=function(n){return e[t]&&n&&n(),this},this.online=function(n){return!e[t]&&n&&n(),this}}var D=new function(t){var e=i(t),n=new w;function i(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}this.init=function(){var a=n.getXst();T!==a&&(T=a,e=i(t),function(t){var n=C[t];if(n&&n.endsWith(":off"))return n=n.substr(0,n.length-4),void(e[n]=!1);n&&(e[n]=!0)}((n.parseXst(a)||{}).e||""))},this.then=function(t,n){return new P(t,e).then(n)},this.isExp=function(t){return e[t]}}({newSdk:!0});e.exports=D})),t("30",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(16),C=a.getSystemInfoSync();e.exports=function(){var t=new w,e={};this.getXst=function(){var e=(this.getEnvInfo()||{}).lastAppURL;return e&&(t.parseUrl(e).params||{}).xst||""},this.parseXst=function(t){if(!t)return null;if(e[t])return e[t];try{var n=function(t){if(!t)return"";var e=[0,1,3,7,15,31,63],n=[32,4,1,67,80,35,23,33,56,0,52,17,60,11,53,59,2,3,12,43,21,44,33,54,36,8,38,15,25,22,13,13,43,32,46,44,23,4,21,24,11,53,39,43,24,37,11,11,0,51,10,56,57,15,32,5,46,33,36,41,63,34,3,11,25,6,34,40,4,47,9,41,19,29,42,1,55,39,21,63,13,11,20,62,28,27,45,35,30,52,7,13,12,44,5,44,47,2,36,8,53,59,16,23,38,18,3,49,58,24,12,43,26,61,14,48,60,25,54,17,31,22,50,43,50,15,0,27],i=t.length;if(i<=0||1===i&&0!==t.charCodeAt(0)||6*i%8>=6)return!1;for(var a=0;a<i;a++)if(t.charCodeAt(a)>127||-1===n[t.charCodeAt(a)])return!1;var o=6*i/8;o=parseInt(o,10);for(var r=0,s=0,c=0,u="";o--;)r>0&&(c|=(n[t.charCodeAt(s)]&e[r])<<8-r,s++),(r=8-r)>=6&&(c|=n[t.charCodeAt(s)]<<r-6,r-=6,s++),r>0&&(c|=n[t.charCodeAt(s)]>>6-r,r=6-r),u+=String.fromCharCode(255&c),c=0;return u}(t);if(!n)return null;var i=n.split(""),a={},o=!0,r=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value.split("="),d=l[0]||"",p=l[1]||"";a[d]=p.trim()}}catch(t){r=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw s}}return e[t]=a,a}catch(t){}return null},this.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var a=parseInt(t[i],10),o=parseInt(e[i],10);if(a>o)return 1;if(a<o)return-1}return 0},this.getEnvInfo=function(){return a.getEnvInfoSync()},this.getSystemInfo=function(){return C||(C=a.getSystemInfoSync()),C}}})),t("31",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="https://ada.baidu.com",C={type:"8000",source:"system",content:{text:"抱歉，目前访客较多，暂时无法接待"},status:0};D(C,"8000");var T={type:"8003",source:"service",title:null,contact:[{text:"电话",type:"phone",pattern:/.+/},{text:"微信",type:"wechat",pattern:/.+/},{text:"QQ",type:"qq",pattern:/.+/},{text:"邮箱",type:"email",pattern:/.+/}]};D(T,"8003");var P={type:"8000",source:"system",content:{title:"您的对话将会同步至",text:'百度APP-"我的"-"私信"'}};function D(t,e){t.message_time=(new Date).getTime(),e&&(t.content_type=e),t.message_id||(t.message_id="msg_"+t.message_time)}D(P,"8000");var x={dynamicLibVersion:"20220517",base64EncryptKey:"6IFz+lkbYT7mM0w5spJCPx3ZoHf9eyQDhjgOrEKANtUi2R1B/8anLvXSVcqWdG4u=",host:w,url:{help:w+"/imlp/static?page=1",statement:w+"/imlp/static?page=2&imType=##imType##&name=##name##",uploadUrl:"https://ada.baidu.com/imlp/upload",getBaiduIdUrl:w+"/imlp/hello",verificationCode:w+"/imlp/anti/captcha/code",verificationCheck:w+"/imlp/anti/captcha/check",getRecommend:w+"/imlp/imlp/recommend"},leaveWordMsg:T,openLinkUrl:w+"/imsdk/page",appConfirmClose:{title:"确定要离开当前咨询页吗？"},disconnectDialog:{id:"disconnectDialog",title:"提示",isSingle:!0,desc:"您好，由于您长时间未发言，页面已经中断您此次的访问。若您想继续访问，请刷新页面重新建立连接。",buttons:[{text:"取消",type:"cancel"},{text:"重新连接",type:"confirm"}]},defaultConnectTime:400,antiHoldBack:C,defaultImType:99999,defaultDelayConnectTime:2e4,delayConnectTimeKey:"time_before_connect",chatTipTitle:"正在接待",chatTipText:"如需医生专业建议/专业医疗诊断，请到院咨询",baozhang:{title:"已加入百度网民权益保障计划，登录百度账号",text:"如遇虚假、欺诈蒙受经济损失，可",btnText:"申请保障",tag:"baozhang",newText:"登录百度账号享受网民权益保障，如遇欺诈等可申请保障"},imTypeMap:{0:"爱番番",1:"忠仕网站商务通",2:"53快服",3:"快商通",6:"乐语",7:"美洽",8:"易聊通",9:"螳螂",10:"鱼塘",11:"live800",12:"小能",13:"安徽网新",14:"BCIC（智聊通）",15:"华韩通",16:"科瓦",17:"蜜邦",18:"一洽",19:"中联",20:"环信",21:"晓多",22:"天下商机",23:"米多客",24:"V5智能客服",25:"udesk",26:"快连通",27:"上学说",10001:"东大正保"},apps:{cip:{key:"Gz7Grjwr0GhpGSDIhtUk6RB1EiBCRmHK",name:"每日医晓"},bcp:{key:"RbA1qPRYPjA0Lxb1u0sZlET3mLssfImm",name:"极速服务"},eduZnhx:{key:"Tv397hxPNa5PYBBAHds139ymOm3v2nsQ",name:"知鸟好学"},eduZxj:{key:"pOP6hqPxQYA40Cxp5vDbVw6fooPnFO9p",name:"装馨家"},default:{key:"RbA1qPRYPjA0Lxb1u0sZlET3mLssfImm",name:"极速服务"}},appKeyMap:{Gz7Grjwr0GhpGSDIhtUk6RB1EiBCRmHK:"cip",RbA1qPRYPjA0Lxb1u0sZlET3mLssfImm:"bcp",Tv397hxPNa5PYBBAHds139ymOm3v2nsQ:"edu_znhx",pOP6hqPxQYA40Cxp5vDbVw6fooPnFO9p:"edu_zxj",default:"default"},sdkStatus:{SEND_SERVER_FORBID:13},awakeMessage:P};e.exports=x})),t("32",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T=(w=t(33))&&w.__esModule?w:{default:w},P=t(31),D=t(16),x=t(38),E=t(19),I=t(39),M=t(14),O=new D,A=t(36),R=t(29),N=t(6),B=t(40),U=t(41),L=t(64),H={};function j(t){var e=t.sdkUtil,n=t.request;e.on("entrySite",(function(e,i){var a=t.data.baseData||{};t.setStepTime("entrySiteResult"),t.setStepTime("antiCheck"),t.setConnectStep(5);var o=a.antiParams;R.then("newSdk",(function(){t.sdk.antiCheck()})).online((function(){n.request("antiCheck",o)}));var r=a.pageData||{},s=r.autoConnect||0,c=1e3*(r.time_before_connect||0);if(s&&e&&e.time){var u=e.time,l=c-(u.now-u.enter||0);l>0&&(t.imlpData.delayConnectTime=Date.now()+l)}}))}function K(t,e){var n=function(t){var e=((t=t||{}).urlParams||{}).config||{},n=e.preset_message;return(e.preset_input||{}).message||n}(e);if(((t.getDataByType("pageData")||{}).presetMessage||{}).message!==n&&n){var i={enabled:1,message:n,showType:1,from:"cip-question"};t.setData("pageData.presetMessage",i),t.initPlaceholder()}}function q(t,e,n,i){if(t.imlpData.changeImKey===e){var a=H.formatPageData(i),o=t.data.baseData||{},r=t.data.initData,s=o.pageData;if(o.antiParams,o.imData,function(t,e){for(var n=["level1","level2","level3","im_type"],i=[],a=[],o=0;o<n.length;o++){var r=n[o],s=O.getValue(t,r,""),c=O.getValue(e,r,"");i.push(s),a.push(c)}return(i=i.join("_"))!==(a=a.join("_"))}(s,a.pageData)){t.sdkUtil.sendUserAction({type:"onClick",data:{type:"card",text:"访客已联通其他客服，您无需继续接待",ext:{tag:"xyl_history",history:"访客已联通其他客服，您无需继续接待",from:"imlp"}}});var c=t.sdk;c&&c.stop(),r.pageParams=n,["title","landpageurl","contactNumber","header","service","user","baozhangUrl","im_type","leaveWord","ssid","imid","appid","level1","channel","user_id","aduserid","level2","level3","content_provider","manual_connect_strategy","terminal","pageTitle","feedbackURL","mode","logo","serviceAvatar","xst","pageInfo","config","pvKey","welcomeWord","phoneNumber","homeLink","sendImage","baozhangMessage","navigation","presetMessage"].forEach((function(t){s[t]=a.pageData[t]})),o.antiParams=a.antiParams,o.imData=a.imData;var u=P.host,l=r.options||{};l.host&&(u=l.host),o.imData&&o.imData.sdkOptions&&(o.imData.sdkOptions.host=u),t.pushPageInfoToPopup({contactNumber:s.contactNumber}),t.setData({"pageData.baozhangMessage":s.baozhangMessage,"pageData.feedbackURL":s.feedbackURL,"pageData.sendImage":s.sendImage,"pageData.homeLink":s.homeLink,"pageData.contactNumber":s.contactNumber,"pageData.presetMessage":s.presetMessage,"pageData.typeboxConfig.inputSuggest":{},"pageData.user":s.user,"pageData.service":s.service}),t.initPlaceholder(),t.sdk=N(),t.sdkUtil=new U(t,t.sdk,{noHistory:!0},H),t.logUtil=new B,H.initSdk(o.imData,t),H.initLog(o.pageData,t),j(t)}else K(t,n)}}function F(t,e){var n=["imid","config.im.level1","config.im.level2","config.im.level3","config.im.im_type"];return e&&(n=["urlParams.imid","urlParams.config.im.level1","urlParams.config.im.level2","urlParams.config.im.level3","urlParams.config.im.im_type"]),V(t,n)}function V(t,e){var n=[];return e.forEach((function(e){n.push(O.getValue(t,e,""))})),n.join("_")}H.formatPageData=function(t,e){var n=t.config||{},i={visitParam:{xst:t.xst,user_id:t.user_id||"",aduserid:t.aduserid,user_id_type:"",query:"",bidword:"",city:"",params:t.params||"",abTest:t.abTest,autoConnect:t.autoConnect,transparent:"",appid:t.appid,pvKey:t.pvKey,channel:t.channel,imlpAccessId:"",client:t.terminal||"",plat:t.plat,clientSource:n.clientSource,recommend:t.recommend},imParam:{level1:t.level1,level2:t.level2||"",level3:t.level3||"",im_type:t.im_type,imid:t.imid},sdkOptions:{needBlockConnect:t.review||!1,dlVersion:P.dynamicLibVersion}};t.content_provider&&t.content_provider.length&&(i.sdkOptions.historyKey=t.content_provider[0]);var a={xst:"",user_id:t.user_id||"",aduserid:t.aduserid,user_id_type:"",query:"",bidword:"",city:"",params:"",abTest:t.abTest,autoConnect:t.autoConnect,transparent:"",appid:t.appid,pvKey:t.pvKey,channel:t.channel,imlpAccessId:"",level1:t.level1,level2:t.level2||"",level3:t.level3||"",im_type:t.im_type,imid:t.imid},o=O.parseUrl(this.pageDataUrl).params||{};if(t.message=o.rebound?[]:t.message||[],t.message.forEach((function(t){try{e.formatAction("card",t)}catch(t){}})),t.tips){var r={type:"8000",source:"system",content:{text:t.tips}};t.message.unshift(r)}t.message.forEach((function(t){t.source=t.source||"system",t.tag="card_sync"})),t.feature.baozhang&&t.baozhangUrl&&("native-smart-app-window"===t.terminal?t.baozhangMessage={type:"8000",source:"system",content:{title:P.baozhang.title,text:P.baozhang.text,btnText:P.baozhang.btnText,tag:P.baozhang.tag,url:t.baozhangUrl}}:t.baozhangData={text:P.baozhang.newText,url:t.baozhangUrl});var s=t.feature,c=t.disables||[];if(c.length&&(t.feature=function(t,e,n){var i={};for(var a in e=e||[],n=n||[],t=t||{})t.hasOwnProperty(a)&&(i[a]=!(e.indexOf(a)>-1));var o=!0,r=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;i.hasOwnProperty(l)||(i[l]=!0)}}catch(t){r=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw s}}return i}(s,c,t.enables)),(t.xiaohao||t.passBack||t.rebound)&&(t.cancelCard=!0,t.message=[]),t.kefuTipMessage={type:"8000",source:"system",content:{}},t.kefuTipConf=L,t.zhidao=t.appid&&"ext_zhidao"===t.appid,t.xyl=t.appid&&(0===t.appid.indexOf("xyl_ad")||0===t.appid.indexOf("xyl_cip")),t.baozhangMessage&&t.message.unshift(t.baozhangMessage),t.welcomeWord){var u="welcom"+Date.now(),l={source:"service",content:t.welcomeWord,status:0,tag:"welcome"};l.message_id=u,l.message_time=Date.now(),l.content_type=1,t.message.push(l)}var d=(t.ext||{}).mat||{},p=d.cid||"",f={cid:p,mat:d,tag:"guess-card",xst:t.xst};t.feature.guess_card&&p&&(t.guessCardParams=f),t.rebound=!!o.rebound,t.contactNumber&&t.contactNumber.length>9&&(t.contactNumber=t.contactNumber.replace(/^\+?86/,"")),t.pageTitle=t.pageTitle||t.title||"",t.homeLink=t.landpageurl,t.phoneNumber=t.contactNumber;var m=t.user;if(m&&m.avatar&&-1===m.avatar.indexOf("http")&&(m.avatar=P.host+m.avatar),t.imlpServiceStatement=H.getImlpServiceStatement(t.im_type,t.pageTitle),t.imlpPageNotes=H.getImlpPageNotes(t.appid),x.formatNavigation(t.navigation),t.feature&&t.feature.typebox2?(x.formatTypeboxMenu(t.typeboxConfig,t),t.useNewTypebox=!0):t.useNewTypebox=!1,t.manual_connect_strategy&&"string"==typeof t.manual_connect_strategy){var h=t.manual_connect_strategy;t.autoConnectSource={auto:!0,send:!0},t.autoConnectSource[h]=!0}return{pageData:t,imData:i,antiParams:a}},H.setPageData=function(t,e,n,i){if(n&&"object"===(void 0===n?"undefined":C(n))&&!n.error){t.setStepTime("loadPageDataResult"),t.setConnectStep(2);var a=H.formatPageData(n,t),o=a.pageData||{},r=o.message||[],s=o.session||{};if(t.imlpData.delayConnectTime=Date.now()+(s.delayTime||0),t.setImlpData({autoConnectSource:o.autoConnectSource}),r.length&&e.pushMessage(r),o.interaction&&o.interaction.phone){var c=o.interaction.phone,u=c.protectPrivacy,l=c.fbu;if(u&&l){t.phoneTracker=new T.default;var d=o.interaction||{},p=(o.typeboxConfig||{}).inputSuggest||{};t.phoneTracker.init&&t.phoneTracker.init({interaction:d.phone||{},xst:o.xst,contactNumber:o.contactNumber,staticSuggest:p.static})}}var f=a.antiParams,m=a.imData;m.sdkOptions=m.sdkOptions||{},m.sdkOptions.host=i;var h={pageData:o,antiParams:f,imData:m};return H.setBaseData(t,h),!0}return!1},H.createPageCallback=function(t,e,n,i,a,o){return new e({},{pageData:{onResult:function(e,i,r){H.changePageParamsAndReEntrySite(t)||H.setPageData(t,n,e,a)||(t.setConnectStep(-1),o.sendEvent({eventName:"error",data:{eventType:"pageData",data:{html:e,url:r},params:i}}),t.triggerEvent)},onEnd:function(e){t.setStepTime("loadPageDataResult"),console.log("onEnd",e)},onError:function(e,n,i){console.log("onError",e,n),H.changePageParamsAndReEntrySite(t)||(t.setConnectStep(-1),o.sendEvent({eventName:"error",data:{eventType:"pageData",data:Object.assign({},n,{url:i}),params:e}}))}},antiCheck:{onResult:function(e,n){H.changePageParamsAndReEntrySite(t)||H.setAntiCheckResult(t,e)},onEnd:function(e){t.setStepTime("antiCheckResult")},onError:function(e,n){H.changePageParamsAndReEntrySite(t)||o.sendEvent({eventName:"error",data:{eventType:"antiCheck",data:n,params:e}})}},baiduid:{},getCard:{onResult:function(e,i){if(e.data&&e.data.length)if(e.data.forEach((function(t,e){t.type&&(t.type+=""),t.source="4005"===t.type?t.source:"system",t.status=0,t.tag="card_async",t.msgtime=(new Date).getTime(),t.message_id=t.message_id||O.createOneKey("card"),t.domid="message_"+t.message_id})),"popStatus"===i.popStatus){var a=e.data[0]&&e.data[0].content||{},o=e.data[0]&&e.data[0].log;t.cardClickHandle({type:"standardcard",value:a.action,log:o})}else n.pushMessage(e.data,!1,!0)},onEnd:function(t){},onError:function(t,e){o.sendEvent({eventName:"error",data:{eventType:"getCard",data:e,params:t}})}},verificationCode:{onResult:function(e){var n="data:image/svg+xml;base64,"+t.base64.encode(e.data);e.base64Data=n,o.setData("verificationCode",e)}},verificationCheck:{onResult:function(e){H.setVerificationCodeConfirmResult(t,e)},onError:function(e,n){H.setVerificationCodeConfirmResult(t,n||{status:"error",notice:"输入错误"})}},getRecommend:{onResult:function(e){e&&e.suggestInfo&&e.suggestInfo.length&&t.dispatchAction("updateRecommend",e.suggestInfo)}}})},H.sendEvent=function(t,e,n){if("openLink"===e.eventName){var i={},a=e.data||{},o=a.url,r=void 0===o?"":o,s=a.params,c=void 0===s?{}:s,u=a.pageType,l=void 0===u?"webview":u,d=a.linkType,p=void 0===d?"webview":d;for(var f in c){var m=c[f],h=new RegExp("##"+f+"##","g");r=r.replace(h,encodeURIComponent(m))}var g=t.getSdkData()||{},v=t.data.pageData;v.ssid=g.ssid;var y=O.createCData(v,t.base64);i.url=r;var b=(t.data.initData||{}).pageParams,S=O.parseUrl(b.url);if(S.addParam("xst",b.xst||S.xst),S.addParam("cdata",y),S.removeHash(),i.imlpUrl=S.url,"imlpWebview"===l||"baozhang"===l){var k=-1!==P.openLinkUrl.indexOf("?"),_=[P.openLinkUrl,k?"&":"?","url="+encodeURIComponent(r),"&cdata="+encodeURIComponent(y)];i.webviewUrl=_.join("")}else i.webviewUrl=i.url;i.pageType=l,i.linkType=p,t.jumpPage={pageType:l,time:Date.now()};try{t.jumpPageKey=setTimeout((function(){console.log("清除跳转数据"),t.jumpPage=null}),3e3)}catch(t){}e.data=i}else if("error"===e.eventName){var w=e.data||{};if("pageData"===w.eventType){this.initLog({},t);var C=w.data||"",T="",D=0,x="";if(C.errCode)T="swan",D=C.errCode,x=C.errMsg;else if(C.html&&C.html.error){var E=C.html;T="imlp",D=E.error,x=E.errorText}else try{var I=/错误码:(\d+)/.exec(C.html);2===I.length&&(D=I[1],T="imlp")}catch(t){}t.setData({pageError:{code:D,msg:x,from:T,pageUrl:C.url}}),t.sendEnvLog()}}e.data.eventName=e.eventName,t.triggerEvent("imlpEvent",e.data,n)},H.initRequest=function(t,e,n,i,a,o,r){if(t&&t.pageParams){var s=t.pageParams,c=o.parseUrl(s.url),u=c.params||{};c.addParam("xst",s.xst||u.xst||""),1===e.getDataByType("openType")&&c.addParam("plat","nsaw");var l=P.host,d=t.options||{};d.host&&(l=d.host,c.setOrigin(l)),c.removeHash();var p=c.url;this.pageDataUrl=p;var f=l+"/imlp/",m=H.createPageCallback(e,i,a,r,l,{getData:function(t){return e.data[t]},setData:function(t,n){try{var i=JSON.stringify(n);n=JSON.parse(i)}catch(t){}var a=e.data;a[t]=n,e.setData(a)},sendEvent:function(t){H.sendEvent(e,t)}});return new n({miniProgram:r,method:"GET"},{pageData:p,antiCheck:f+"anti/check",baiduid:P.url.getBaiduIdUrl,getCard:f+"imlp/getCardMat",verificationCode:P.url.verificationCode,verificationCheck:P.url.verificationCheck,getRecommend:P.url.getRecommend},m)}},H.setBaseData=function(t,e){if(e&&e.antiParams&&e.imData&&e.pageData){t.data.baseData=e,e.pageData.appKey=t.data.initData.pageParams.appKey;try{var n=t.data.initData.pageParams.url||"";n=n.replace(/(\?|&)xst=[^\?&]*(&|$)/g,"$1"),e.pageData.currentPageLogUrl=n}catch(t){}var i={pageData:e.pageData};i.theme=e.pageData.theme||{},e.pageData.useNewTypebox!==t.data.useNewTypebox&&(i.useNewTypebox=e.pageData.useNewTypebox),t.pushPageInfoToPopup({contactNumber:i.pageData.contactNumber}),t.setData(i),H.initSdk(e.imData,t),H.initLog(e.pageData,t),t.logUtil.pv(),t.sendEnvLog(),t.initPlaceholder(),j(t);var a=t.sdkUtil;e.pageData&&e.pageData.guessCardParams&&t.getAsyncCard(e.pageData.guessCardParams);var o=(e.pageData.config||{}).inviteType;("manual"===o||"auto"===o||"smart"===o)&&a.addMessage({source:"service",content:e.pageData.config.inviteData,content_type:"text",contenttext:e.pageData.config.inviteData})}},H.changePageParamsAndReEntrySite=function(t){var e=t.imlpData.changePageParams;if(!e)return!1;t.imlpData.changePageParams=null,t.imlpData.changeIM++;var n=Date.now();t.imlpData.changeImKey=n;var i,o,r,s=O.getValue(t.imlpData,"pageDataCache",{})[F(e,!0)];if(!s)return i=e.url,o=function(i){!function(t,e,n){t.imlpData.pageDataCache=t.imlpData.pageDataCache||{};var i=t.imlpData.pageDataCache,a=F(e);i[a]||(i[a]=e)}(t,i),q(t,n,e,i)},r=null,R.then("newSdk",(function(){r=A})).online((function(){r=E})),new r({miniProgram:a,method:"GET"},{pageData:i},null).request("pageData",null,{onResult:function(t,e,n){t&&"object"===(void 0===t?"undefined":C(t))&&!t.error&&o(t)}}),!0;q(t,n,e,s)},H.initSdk=function(t,e){var n=e.getDataByType("openType"),i=e.getDataByType("popupState",{});if(1!==n||"open"===i.state){e.imlpData.initSdkData=null,e.setStepTime("entrySite");var o=(e.data.initData||{}).pageParams||{},r=e.data.pageData||{},s=e.sdkUtil;t.sdkOptions=t.sdkOptions||{},t.visitParam=t.visitParam||{};var c=t.visitParam,u=t.sdkOptions;for(var l in c.xst=c.xst||o.xst,o)u[l]=u[l]||o[l];r.pageTitle&&(u.title=r.pageTitle),s.setData(t,a)}else e.setImlpData({initSdkData:t})},H.initLog=function(t,e){var n=null;R.then("newSdk",(function(){n=A})).online((function(){n=E}));var i=e.sdkUtil;e.sdkLog=new I(t,!0,{CallbackModel:M,Request:n,miniProgram:a,dynamicLibVersion:P.dynamicLibVersion}),e.logUtil.init(e.sdkLog,i)},H.setAntiCheckResult=function(t,e){if(t.data&&t.data.baseData&&t.data.baseData.imData){t.data.baseData.pageData;var n=t.sdkUtil,i=t.request,a=e||{},o=a.st||0,r=Date.now(),s=Math.abs(o-r);t.imlpData.diffTime=s,0===a.status?(t.setConnectStep(6),n.connect(null,{source:"auto"}),t.sendlog("updateSessionStatus","connect")):1===a.status?(t.sendlog("antiLog","captcha_show"),R.then("newSdk",(function(){t.sdk.getAntiCaptcha()})).online((function(){i.request("verificationCode")}))):(t.setConnectStep(-3),n.pushMessage(P.antiHoldBack),t.sendlog("updateSessionStatus","forbidden"),n.stop())}},H.setVerificationCodeConfirmResult=function(t,e){if(e){if(e.pass)return t.sendlog("antiLog","captcha_success"),t.setData({verificationCode:null}),void H.setAntiCheckResult(t,{status:0});var n=e.noMoreRetry,i=e.notice||"输入错误";if(n?t.sendlog("antiLog","captcha_limit"):t.sendlog("antiLog","captcha_err"),a.showToast({title:i,icon:"none"}),n)return t.setConnectStep(-3),t.sdkUtil.pushMessage(P.antiHoldBack),void t.setData({verificationCode:null});t.changeVerificationCode();var o=t.data.verificationCode;o.inputValue="",t.setData({verificationCode:o})}},H.getImlpServiceStatement=function(t,e){var n=P.imTypeMap[t]||"第三方";e=e||"";var i="本服务是由商家和第三方咨询软件向百度用户提供，其中，咨询服务是由##imName##提供，咨询内容均由##title##提供，商家对本服务信息内容、数据资料及其运营行为等的真实性、合法性及有效性承担全部责任。百度向商家和第三方咨询软件提供技术支持服务。如果用户提供数据给服务提供方，适用服务提供方隐私政策，请联系服务提供方索取相关信息。";return(i=i.replace("##imName##",n)).replace("##title##",e)},H.getImlpPageNotes=function(t){var e=["1、为节省您的时间、免收重复输入的困扰，您的搜索词将会在该页面上的输入框中展示，您可以自行选择是否向商家发送该信息，您也可以自行在输入框中修改该信息。若您确认发送，则代表您同意将该信息发送给提供咨询服务的商家；若您没有发送，则您的搜索词信息不会提供给商家。请您在发送之前仔细核查自己的输入信息，避免隐私泄露。","2、为了方便您后续回访查看与商家沟通的消息记录，当您使用手机百度咨询时，您的对话内容将会同步到手机百度APP-我的-私信 里面。","3、本站仅提供技术服务，无法追踪、核查您与商家的沟通内容，网友、商家言论仅代表其个人观点，不代表本站立场，请谨慎参阅，本站不承担由此引起的法律责任。","4、如果您咨询医疗相关问题，由于网络沟通场景无法使医生明确了解您的真实情况，医生仅能根据您的描述内容为您提供咨询建议，但任何关于疾病的网络建议都不能替代医生的面对面诊断，因此请您完成咨询后选择线下就医。为了能够让医生给您提供更准确的建议，请您在线上沟通时务必如实陈述，若因您虚假陈述导致的后果，均与医院、医生及本站无关。"],n={};return n.ext_search_vertical_zhiliaohaoxue=[e[0],e[1],e[2]],n.ext_search_vertical_home_decoration=[e[0],e[1],e[2]],n.zcm=[e[0],e[1],e[2]],n[t]||e},H.changePageParams=function(t,e){var n=["urlParams.imid","urlParams.config.im.level1","urlParams.config.im.level2","urlParams.config.im.level3","urlParams.config.im.im_type"];if(V(t.getDataByType("pageParams"),n)!==V(e,n)){var i=t.data,a=t.imlpData;t.imlpData.changePageParams=e;var o=a.connectStep;i.pageError?(t.data.initData.pageParams=e,t.reloadPage()):8===o||6===o||4===o||2===o?H.changePageParamsAndReEntrySite(t):5===o?i.verificationCode&&(t.setData("verificationCode",null),H.changePageParamsAndReEntrySite(t)):o>=0||o<0&&H.changePageParamsAndReEntrySite(t)}else K(t,e)},e.exports=H})),t("33",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),C=t(34),T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.phoneSdk=C()}return w(t,[{key:"init",value:function(t){var e=t.interaction,n=void 0===e?{}:e,i=t.xst,a=void 0===i?"":i,o=t.url,r=void 0===o?"":o,s=t.contactNumber,c=void 0===s?"":s,u=t.staticSuggest,l=void 0===u?[]:u,d=n.protectPrivacy,p=n.fbu,f=n.solutionID;if(n.phone,d&&p&&this.phoneSdk&&this.phoneSdk.init){var m=[],h=[];c&&m.push(c),f&&h.push(f);for(var g=0;g<l.length;g++){var v=l[g],y=v.type,b=v.value;if("tel"===y)if("string"==typeof b&&-1===m.indexOf(b))m.push(b);else{var S=b||{},k=S.number,_=S.solutionID;_&&-1===h.indexOf(_)&&h.push(_),k&&-1===m.indexOf(k)&&m.push(k)}}return(0!==h.length||0!==m.length)&&(this.phoneSdk.init({uid:p,xst:a,url:r,realPhones:m.join("|"),solutionIds:h.join("|"),sourceType:26001}),!0)}}},{key:"getCallNumber",value:function(t){return this.phoneSdk.getCallNumber(t)}}]),t}();n.default=T})),t("34",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=t(35),P=t(19),D=t(14),x=t(36),E=t(29),I=t(37);function M(){this.key="";var t="",e=null;E.then("newSdk",(function(){e=x})).online((function(){e=P}));var n=new T({miniProgram:a,Request:e,CallbackModel:D,callbacks:null,api:{log:"https://fclick.baidu.com/w.gif",click:"https://ada.baidu.com/phone-tracker/clicklog",yxtClick:"https://ada.baidu.com/phone-tracker/clicklog2yxt"}});function i(t,e){var i="log";t.indexOf("ada.baidu.com/phone-tracker/clicklog")>-1?i="click":t.indexOf("ada.baidu.com/phone-tracker/clicklog2yxt")>-1&&(i="yxtClick"),n.log(e,i)}function o(t,n,i,o){var r=t.substr(t.lastIndexOf("/")+1);new e({method:"GET",miniProgram:a},C({},r,t),new D(this,C({},r,{onResult:function(t,e){i(t)},onError:function(t){o.onError&&o.onError()}}))).request(r,n)}this.init=function(e){t=e.uid,e.requestUtil=o.bind(this),e.logUtil=i,this.key=I.init(e)},this.getCallNumber=function(e){return"object"===(void 0===e?"undefined":w(e))?(e.uid=e.uid||t,e.key=this.key||""):e={key:this.key,realPhone:e,uid:t},I.getCallNumber(e)}}e.exports=function(){return new M}})),t("35",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t){var e=t.miniProgram,n=t.Request,i=t.CallbackModel,a=new n({method:"GET",miniProgram:e},t.api,new i(this,t.callbacks||{}));this.log=function(t,e,n){e=e||"log",a.request(e,t,n)}}}catch(t){}})),t("36",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(7))&&w.__esModule?w:{default:w},T=t(21);e.exports=function(t,e,n){var i=!1,a=(t=t||{}).method||"POST",o=(t.miniProgram,new(C.default.getModel("Request")));this.request=function(t,r,s){!function(t,r,s){var c=T.wsid||"";r=r||{};var u={wsid:c},l=e[t],d=n?n.getCallback(t):null,p=null;"POST"===a?p=o.post(l,r,u):(r.wsid=c,"log"===t&&(l+="?type="+encodeURIComponent(r.type),delete r.type),p=o.get(l,r)),p.then((function(t){var e=t.data;s&&s.onResult&&s.onResult(e,r,l),d&&d.onResult&&!i&&d.onResult(e,r,l)})).catch((function(t){s&&s.onError&&s.onError(r,t,l),d&&d.onError&&!i&&d.onError(r,t,l)})).finally((function(){s&&s.onEnd&&s.onEnd(r,l),d&&d.onEnd&&!i&&d.onEnd(r,l)}))}(t,r,s)},this.startHeartbeat=function(t,e){},this.stopHeartbeat=function(){},this.destroy=function(){i=!0},this.addOrReplaceApi=function(t,n){(e=e||{})[t]=n}}})),t("37",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){(function(t){var e,i,o,c,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};c=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":u(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobalStoreFunc=e.getGlobalStoreFunc=e.globalStore=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":u(t)};e.setFuncs=function(t,n){e.getGlobalStoreFunc=t,e.setGlobalStoreFunc=n},e.init=function(t){var e=t.key;if(e)return t.status=0,t.pvt=+new Date,r[e]=t,t},e.getData=l,e.setPhone=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(e){var n=l(e);if(n){"{}"===JSON.stringify(t)?n.phone=[]:n.phone=Array.isArray(t)?t:[t];for(var i=0;i<n.phone.length;i++){var a=n.phone[i];"click"===a.mode&&(c[e]=!0),a.time=+new Date,a.expiredFuncs=[],!n.uid&&a.useridInBase64&&(n.uid=a.useridInBase64),p(a)}}}},e.getPhone=d,e.setLastUser=function(t){r.lastUid=t},e.getLastUser=function(){return r.lastUid},e.setStatus=function(t,e){var n=r[e];n&&("loading"===t?n.status=1:"end"===t&&(n.status=2))},e.setExpiredTime=function(t,e,n,i){var a=d(t,e);if(!a)return!1;a.time=+new Date,a.expiredTime=n,a.hasHeart=i,p(a)},e.startCountdown=p,e.setValue=function(t,e,n){var i=r[t];if(!i)return!1;i[e]=n},e.resetPhone=function(t,e,n){if(t){var i=l(t);if(i){if(Array.isArray(i.phone)){for(var a=0;a<i.phone.length;a++)i.phone[a][e]=n;return}i.phone[e]=n}}},e.generateKeyForStore=function(t){var e=t.uid,n=t.sid;if(!e&&!n)return null;var i=e||n,a=t.solutionIds||"",o=t.realPhones||"";return i+(a.replace(/![0-9,a-z,A-z]/g,"")+o.replace(/![0-9,a-z,A-z]/g,"")+(t.mode||""))},e.checkExpired=function(t){var e=t.time,n=t.expiredTime,i=t.hasHeart,a=t.clickLeftTime||60,o=t.heartClickLeftTime||5;return+new Date-e>1e3*(n-(i?o:a))},e.isClickMode=function(t){return c[t]||c.DEFAULT},e.setGlobalStore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"!==(void 0===t?"undefined":a(t))&&console.error("插入globalStore的数据格式错误"),e.globalStore=s=i({},s,t)},e.getGlobalStore=function(t){return s[t]};var o=n(4),r={},s=e.globalStore={};e.getGlobalStoreFunc=null,e.setGlobalStoreFunc=null;var c={DEFAULT:!1};function l(t){return r[t]}function d(t,e){var n=[];if(r[t]){var i=r[t]||{};n=i.phone||[],Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++)n[a].datakey=t,n[a].datafrom=i.from,n[a].datapvt=i.pvt,n[a].datapageid=i.pageid}else for(var s in r){var c=r[s];if(c.uid===t||c.sid===t){var u=c.phone||[];Array.isArray(n)||(u=[u]);for(var l=0;l<u.length;l++)u[l].datakey=s,u[l].datafrom=c.from,u[l].datapvt=c.pvt,u[l].datapageid=c.pageid;n=n.concat(u)}}for(var d=null,p=0;p<n.length;p++){var f=n[p],m=f.realPhone,h=f.virtualPhone;if((0,o.isSamePhoneNum)(m,e)||(0,o.isSamePhoneNum)(h,e)){d=f;break}}return d||(d=n[0]),d}function p(t){var e=t.dynamicPhone,n=t.hasHeart,i=t.timeoutHandle,a=t.expiredTime,o=t.time,r=t.heartClickLeftTime,s=t.clickLeftTime,c=t.expiredFuncs,u=void 0===c?[]:c;if(e){i&&(t.timeoutHandle=null,clearTimeout(i));var l=1e3*a-1e3*(n?r:s)-(+new Date-o);l>0?t.timeoutHandle=setTimeout((function(){u.forEach((function(t){t()}))}),l):u.forEach((function(t){t()}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLATFORM_TYPES=e.PHONE_SYSTEMS=void 0,e.PHONE_SYSTEMS={WINDOWS_PHONE:"windows",IOS:"ios",ANDROID:"android",UNKNOWN:"unknown"},e.PLATFORM_TYPES={COMMON:"common",IOS:"ios",ANDROID:"android"}},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"search",n=new RegExp("(^|&|\\?)"+t+"=([^&]*)(&|$)"),i=r.location[e].substr(1).match(n);return null!=i?unescape(i[2]):null}Object.defineProperty(e,"__esModule",{value:!0}),e.getQuery=i,e.getReferrerQuery=function(t){var e=s.referrer,n=new RegExp("(\\?|&)"+t+"=[^&]*");if(n.test(e))return e.match(n)[0].split("=")[1]},e.getParam=function(t){return i(t,"search")||i(t,"hash")},e.getCookie=function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=s.cookie.match(e);return n?unescape(n[2]):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":u(t)};e.createId=function(){return"p"+(new Date).getTime().toString(16)+parseInt(1e6*Math.random(),10).toString(16)},e.ch2channel=function(t){var e={3:"3",4:"1"};return void 0!==e[t]?e[t]:null},e.sdkHost=function(t,e){return e&&/^https?:\/\/[^\/]+\.baidu\.com:\d+$/.test(e)?t.replace("https://ada.baidu.com",e):t},e.dataTypeTrans=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!==(void 0===t?"undefined":i(t))||["solutionId","solutionIds","realPhone","realPhones"].forEach((function(e){t.hasOwnProperty(e)&&(t[e]=String(t[e]))})),t}},function(t,e,n){"use strict";function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/-/g,"").replace(/\+/g,"").replace(/\s/,"")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 11===(t=r(t)).length&&0===t.indexOf("1")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===(t=r(t)).indexOf("400")&&10===t.length}function r(t){return 0===t.indexOf("86")?t.substring(2):0===t.indexOf("+86")?t.substring(3):t}Object.defineProperty(e,"__esModule",{value:!0}),e.isSamePhoneNum=function(t,e){if((t=r(i(t)))===(e=r(i(e))))return!0;var n=t.indexOf(e),a=e.indexOf(t);return(3===n||4===n)&&0===t.indexOf("0")||(3===a||4===a)&&0===e.indexOf("0")},e.removeSymbol=i,e.isMobileNum=a,e.is400=o,e.getNumReplaceText=function(t){if(o(t=r(t=i(t)))){var e=[t.substring(0,3),t.substring(3,6),t.substring(6,10)],n=[t.substring(0,4),t.substring(4,7),t.substring(7,10)];return[t,e.join(" "),e.join("-"),n.join(" "),n.join("-")]}if(a(t))return["+86"+t,"86"+t,t];var s=["+86"+t,"86"+t,t];if(0===t.indexOf("0")){var c=[],u=t.length;10===u?c.push(3):12===u?c.push(4):11===u&&(c=[3,4]),c.forEach((function(e){var n=[t.substring(0,e),t.substring(e)];s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s),[n.join(" "),n.join("-"),"+86"+t.substring(e),"86"+t.substring(e),t.substring(e)])}))}return s},e.remove86=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GET_CODED_PHONE_NUMBER=e.GET_PHONE_NUMBER_ARGS=e.GET_LOCATION=e.LAUNCH_XCX=e.LAUNCH_LOGIN_COMPONENT=e.GET_ACCOUNT_PHONE=e.GET_NETWORK_TYPE=void 0,e.GET_NETWORK_TYPE="GET_NETWORK_TYPE",e.GET_ACCOUNT_PHONE="GET_ACCOUNT_PHONE",e.LAUNCH_LOGIN_COMPONENT="LAUNCH_LOGIN_COMPONENT",e.LAUNCH_XCX="LAUNCH_XCX",e.GET_LOCATION="GET_LOCATION",e.GET_PHONE_NUMBER_ARGS="GET_PHONE_NUMBER_ARGS",e.GET_CODED_PHONE_NUMBER="GET_CODED_PHONE_NUMBER"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.init=function(t){t.logUtil&&(a=t.logUtil)},e.click=u,e.clickStatic=function(t,e,n){u(t,e,n,"clickStatic")},e.clickDynamic=function(t,e,n){u(t,e,n,"clickDynamic")},e.clickError=function(t,e,n){u(t,e,n,"clickError")},e.show=function(t){l("show",t)},e.requestExpired=function(t){l("requestExpired",t)},e.pv=function(t){l("pv",t)},e.nomatch=function(t,e){p(t,{logtype:"nomatch",mtPhone:e})},e.requestError=function(t){l("errorLog",t)},e.log=l,e.addComputeParams=d,e.version="3.0.14";var a=null,o={ad:"ecom_virtual_phone",lp:"ec_bcp_virtualNum"},r={bcp:"https://ada.baidu.com/phone-tracker/clicklog",bcp2yxt:"https://ada.baidu.com/phone-tracker/clicklog2yxt",fclick:"https://fclick.baidu.com/w.gif"},s={show:"fclick",click:["bcp2yxt"],requestExpired:"fclick",pv:"fclick",nomatch:"fclick",clickStatic:["bcp2yxt"],clickDynamic:"fclick",errorLog:"bcp",clickError:["bcp2yxt"]},c={clickStatic:"click",clickDynamic:"click",clickError:"noRes"};function u(t,e,n,i){var a={logtype:i||"click"};"ad"===t.from&&(a.phoneNum=e),"lp"===t.from&&(a.virtualPhone=e,a.realPhone=n),p(t,a)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&s[t]&&(n.logtype=t,p(e,n))}function d(t,e){e.timestamp=+new Date;var n=t.from||"lp";e.tag=o[n];var i=(t.phone||[]).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dynamicPhone,n=void 0===e?"":e,i=t.virtualPhone,a=void 0===i?"":i,o=t.realPhone,r=void 0===o?"":o;return n+"_"+a+"_"+r}));e.phones=i.join("|"),t.bdVid&&(e.bdVid=t.bdVid),t.pvt&&(e.duration=+new Date-t.pvt),"native-smart-app"===t.client&&(e.appName=t.appName,e.appKey=t.appKey),t.sourceType&&(e.lpFrom=t.sourceType)}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a){var n={};["uid","siteid","baiduid","pageid","kDomain","fid","spid","xst","ch","status","channel","dpopen","url","referrer","lpType","sdkType","sdkVersion","query","client","expired","solutionId","busSiteId","busPageId","expInfo","fromError"].forEach((function(e){n[e]=t[e]})),n.solutionId=t.solutionId||t.solutionIds,i(n,e),d(t,n),function(t){var e=t.logtype,n=s[e]||[];"string"==typeof n&&(n=[n]),n.forEach((function(n){c[e]&&(t.logtype=c[e]),a(r[n],t)}))}(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.SOURCE_TYPE_MAP=e.LPTYPE=void 0,e.isJiMuYu=m,e.isJiMuYuPreview=h,e.isThird=g,e.isMedical=function(t){return[o.JMY_MEDICAL_ACCOUNT,o.JMY_MEDICAL_PAGE].includes(+t)};var i=n(2),a=e.LPTYPE={SMARTLP:1,AIPAGE:2,NA:3,JIMUYU:4,THIRD:5,PREVIEW:6,BAOZHANG:7,OTHER:0},o=e.SOURCE_TYPE_MAP={JMY:1001,CONSULT_LP:26001,BAOZHANG_PC:33001,BAOZHANG_PASS:33002,BAOZHANG_WISE:33003,JMY_MEDICAL_ACCOUNT:4003,JMY_MEDICAL_PAGE:4004},c=[33001,33002,33003];function u(t){return-1!==t.indexOf("slp.baidu.com")||-1!==t.indexOf("sp0.baidu.com/5bgWsjip0QIZ8tyhnq")}function p(t){return-1!==t.indexOf("aipage.cn")}function f(t){return-1!==t.indexOf("fix=1")&&d&&d.userAgent&&d.userAgent.match(/baiduboxapp\/([\d+.]+)/)}function m(t){for(var e=["isite.baidu.com","sjh.baidu.com","wejianzhan.com","sitei.baidu.com","shj.baidu.com","wjz.baidu.com","wzj.baidu.com","jzw.baidu.com"],n=0;n<e.length;n++){var i=e[n];if(-1!==t.indexOf(i))return!0}}function h(t){for(var e=["preview-sjh-offline.baidu.com","preview-sjh-preonline.baidu.com","preview-sjh.baidu.com","audit-sjh-offline.baidu.com","audit-sjh-preonline.baidu.com","audit-sjh.baidu.com","sjh-offline.baidu.com"],n=0;n<e.length;n++){var i=e[n];if(-1!==t.indexOf(i))return!0}}function g(t){return!(-1!==t.indexOf("baidu.com")||u(t)||p(t)||f(t)||m(t))}function v(t){return c.indexOf(t)>=0}e.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=a.OTHER;void 0!==t.type&&(e=t.type);var n=l.href;u(n)?e=a.SMARTLP:p(n)?e=a.AIPAGE:f(n)?e=a.NA:m(n)?e=a.JIMUYU:g(n)?e=a.THIRD:h(n)&&(e=a.PREVIEW),v(t.sourceType)&&(e=a.BAOZHANG);var o={lpType:e,url:l.href,referrer:s.referrer};(0,i.getQuery)("sdkhost","search")&&(o.sdkhost=(0,i.getQuery)("sdkhost","search"));try{if(h(n)||m(n)){var c=r.location.pathname.split("/").pop(),d=(0,i.getCookie)(c);o.expInfo=d}}catch(t){console.log(t)}return e===a.PREVIEW&&(o.previewChannel=(0,i.getQuery)("channel","search")),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ajaxUrl=e.requestUtil=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.loadPhoneNumber=function(t){var e=p(t),n=e.params,a=e.onResult,r=e.onError,f={onResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.setStatus)("end",t.key);var n=e.channel,i=e.baiduid;void 0!==n&&(0,o.setValue)(t.key,"channel",n),i&&(0,o.setValue)(t.key,"baiduid",i),a(e)},onError:function(e){(0,o.setStatus)("end",t.key),r(e)}};if(l){n.mode=t.mode,n.expInfo=t.expInfo;var m=t.realPhones||"",h=m.split("|").map((function(t){return(0,c.removeSymbol)((0,c.remove86)(t))}));m=h.join("|"),(0,s.default)().then((function(e){l(d+"getNumber",i({},n,{realPhones:m,extraInfo:e}),f.onResult,f,u.requestError),(0,o.setLastUser)(t.key),(0,o.setStatus)("loading",t.key)})).catch((function(){l(d+"getNumber",i({},n,{realPhones:m}),f.onResult,f,u.requestError),(0,o.setLastUser)(t.key),(0,o.setStatus)("loading",t.key)}))}},e.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.requestUtil&&(e.requestUtil=l=t.requestUtil),e.ajaxUrl=d=(0,r.sdkHost)(d,t.sdkhost)},e.delayPhoneTime=function(t,e){var n=p(t)||{},a=n.params,o=n.onResult,r=n.onError;a.dynamicPhone=t.phone.dynamicPhone,a.reqMd5=t.phone.reqMd5,a.clicklog=1,a.ch=t.ch,a.status=t.status,a.referrer=t.referrer,a.lpType=t.lpType,a.sdkType=t.sdkType,a.expired=t.expired,(0,u.addComputeParams)(i({},t,{phone:[t.phone]}),a),a.rand=a.timestamp,"ad"===t.from&&(a.phoneNum=a.dynamicPhone),"lp"===t.from&&(a.virtualPhone=a.dynamicPhone,a.realPhone=e),l(d+"delayPhoneTime",a,o,{onResult:o,onError:r})},e.startHeart=function(t){var e=p(t)||{},n=e.params,i=e.onResult,a=e.onError;n.dynamicPhone=t.phone.dynamicPhone,n.reqMd5=t.phone.reqMd5,l(d+"startHeart",n,i,{onResult:i,onError:a})};var a,o=n(0),r=n(3),s=(a=n(15))&&a.__esModule?a:{default:a},c=n(4),u=n(6),l=e.requestUtil=null,d=e.ajaxUrl="https://ada.baidu.com/phone-tracker/";function p(t){var e=t.uid,n=t.sid,i=t.baiduid,a=t.channel,o=t.dpopen,r=t.kDomain,s=t.fid,c=t.spid,u=t.query,l=(t.from,t.lpType,t.xst),d=t.sdkVersion,p=t.client;return{params:{useridInBase64:e,siteid:n,baiduid:i,channel:a,dpopen:o,query:u,kDomain:r,fid:s,spid:c,xst:l,sdkVersion:d,url:t.url,client:p,pageid:t.pageid,sourceType:t.sourceType,solutionIds:t.solutionIds,busSiteId:t.busSiteId,busPageId:t.busPageId},onResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors,i=e.status,a=e.data;200===i?t.onResult(a):t.onError&&t.onError(n)},onError:function(e){t.onError&&t.onError(e)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(19),o=n(20),c=(i=n(21))&&i.__esModule?i:{default:i};var u=function(t){return"JMY_CAPABILITIES_CALLBACK_".concat(t)},l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a={duration:2e3,withCb:!0,platform:(0,o.getMobileOperatingSystem)(),useCache:!1,dynamicPath:""};this.opts=Object.assign(a,i),this.params=n,this.schemaName=e,this.isLoading=!1,this.cbName=u(e)}var e;return(e=[{key:"generalSchema",value:function(){var t=(c.default[this.opts.platform]||c.default.default)[this.schemaName]||"",e=this.getParams(),n=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"),i=this.opts.dynamicPath,a=void 0===i?"":i;return"".concat(t).concat(a,"?").concat(n)}},{key:"getParams",value:function(){return this.opts.withCb?Object.assign({},this.params,{callback:this.cbName}):Object.assign({},this.params)}},{key:"execute",value:function(){var t=this;return this.isLoading=!0,this.response=new Promise((function(e,n){var i=s.createElement("iframe"),o=t.generalSchema(),c=setTimeout((function(){t.isLoading=!1,i&&i.parentNode===s.body&&s.body.removeChild(i),e(a.timeOutError)}),t.opts.duration);r[t.cbName]=function(n){clearTimeout(c),t.isLoading=!1,i&&i.parentNode===s.body&&s.body.removeChild(i);try{e(JSON.parse(n))}catch(t){e(n)}},i.style.display="none",i.src=o,(s.body||s.getElementsByTagName("body")[0]).appendChild(i)})),this.response}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r[t]&&r[t].isLoading&&n.useCache)return r[t].response;var i=new l(t,e,n);return n.useCache&&(r[t]=i),i.execute()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFromAd=c,e.isChargeUrl=u,e.initAdParams=function(t){var e={uid:t.uid||r.bdDataLayer.uid||(0,i.getReferrerQuery)("cegduid")||(0,i.getReferrerQuery)("cegduid","search")||(0,i.getReferrerQuery)("cegduid","hash")||(0,i.getReferrerQuery)("BD_FC_UID"),sid:r.bdDataLayer.sid,baiduid:(0,i.getCookie)("BAIDUID"),dpopen:t.dpopen||r.bdDataLayer.dpopen||(0,i.getReferrerQuery)("dpopen")||1,bdRank:t.bdRank||(0,i.getReferrerQuery)("bdrank"),kDomain:t.kDomain||d(),channel:t.channel,query:t.query};if(t.solutionId&&!t.solutionIds&&(e.solutionIds=t.solutionId,delete t.solutionId),t.realPhone&&!t.realPhones&&(e.realPhones=t.realPhone),"lp"===t.from){e.siteid=e.sid,e.busSiteId=t.busSiteId;for(var n=["fid","ch","spid","xst"],s=0;s<n.length;s++){var c=n[s];e[c]=t[c]||(0,i.getParam)(c)}void 0!==e.channel||e.kDomain||(4===t.lpType&&e.ch&&e.fid?e.channel=(0,a.ch2channel)(e.ch):t.previewChannel?e.channel=t.previewChannel:6===t.lpType?e.channel="5":e.channel="4")}return e.fromAd=!!("ad"===t.from||e.kDomain||e.fid||e.spid||e.xst||t.sourceType===o.SOURCE_TYPE_MAP.CONSULT_LP||4===t.lpType||6===t.lpType||t.lpType===o.LPTYPE.BAOZHANG||(0,o.isThird)(l.href)&&(0,i.getQuery)("bd_vid","search")),e.pageid=(0,a.createId)(),e.busPageId=t.busPageId||"",e};var i=n(2),a=n(3),o=n(7);function c(){return u(s.referrer)}function u(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("baidu.php")}function d(){if(!c())return"";var t=s.referrer,e=/url=([^\.]+\.)([^\.]+\.)([^&]+)/,n=/sc\.([^\.]+\.)([^\.]+\.)([^&]+)/;return e.test(t)?e.exec(t)[3]:n.test(t)?n.exec(t)[3]:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};try{var o=function(t){s.getElementsByTagName("head")&&s.getElementsByTagName("head")[0]&&s.getElementsByTagName("head")[0].removeChild(h),delete r[c],i.onEnd&&(i.onEnd(e),a())};if(!t||!e)return;n=n||function(){};var c="bcpDynamic",u=1e7;c+=(new Date).getTime()%u,c+=(Math.random()*u).toFixed(0),r[c]=n,e.callback=c;var l=[],d=Object.prototype.toString;for(var p in e){var f="",m=void 0;if("number"==typeof e[p]&&(f=0),"[object Object]"===d.call(e[p])){try{m=JSON.stringify(e[p])}catch(t){m="{}"}l.push(p+"="+encodeURIComponent(m))}else l.push(p+"="+encodeURIComponent(e[p]||f))}delete e.callback,l=l.join("&"),-1!==t.indexOf("?")?t+="&"+l:t+="?"+l;var h=s.createElement("script");h.setAttribute("async","true"),h.addEventListener("load",o,!1),h.addEventListener("error",(function(t){s.getElementsByTagName("head")&&s.getElementsByTagName("head")[0]&&s.getElementsByTagName("head")[0].removeChild(h),delete r[c],i.onError&&i.onError(e)}),!1),i.onLoad&&"function"==typeof i.onLoad&&i.onLoad(),s.getElementsByTagName("head")[0].appendChild(h),h.src=t}catch(t){console.error(t)}},e.log=function(t,e){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i+"="+encodeURIComponent(void 0===e[i]?"":e[i]));n.push("rand="+(new Date).getTime()),t+="?"+n.join("&");var a=new Image,o=0;a.onload=a.onerror=a.onabort=function(e){if("error"===e.type&&o<2)return o++,void(a.src=t+"&retryCount="+o);a.onload=a.onerror=a.onabort=null,a=null},a.src=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERIFY_TYPES=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.userCheck=function(t){var e=t.onSuccess,n=void 0===e?function(){}:e,a=t.onError,o=void 0===a?function(){}:a,c=t.uid,u=t.appId,l=t.siteId,d=t.pageId,p=t.lpUrl,f=(new Date).getTime(),m=r.ajaxUrl+"identityUserCheck",h={onResult:function(t){var e=t.data,i=void 0===e?{}:e,a=t.status;0===a?n({passCheck:i.passCheck,status:a}):o({passCheck:!0,status:2})},onFail:function(){o({passCheck:!0,status:2})}},g=i({useridInBase64:c,appId:u,siteId:l,pageId:d,lpUrl:p,clickTime:f},(0,s.default)());(0,r.requestUtil)(m,g,h.onResult,{onError:h.onFail})},e.createVerify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onSuccess,n=void 0===e?function(){}:e,i=t.onLoad,a=void 0===i?function(){}:i,s=t.onError,u=void 0===s?function(){}:s,l=t.uid,d=(void 0===l?"":l)||(0,o.getGlobalStoreFunc)("uid"),p={userId:d,verify:"slide-picture"},f=r.ajaxUrl+"identityCreateVerify";if("function"==typeof n){var m={onResult:function(t){var e,i=t.data,a=void 0===i?{}:i,r=t.status,s=(a.verifyIdentifyCode,function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(a,["verifyIdentifyCode"]));0===r?((0,o.setGlobalStoreFunc)((c(e={},d+"Code",a.verifyIdentifyCode||""),c(e,d+"Image",a.pictureBase64||""),c(e,d+"BackgroundImage",a.bkPictureBase64||""),e)),(0,o.setGlobalStoreFunc)(c({},d+"CodePulled",!0)),n({data:s,status:r})):((0,o.setGlobalStoreFunc)(c({},d+"CodePulled",!1)),u({data:{},status:2}))},onFail:function(){(0,o.setGlobalStoreFunc)(c({},d+"CodePulled",!1)),u({data:{},status:2})}};(0,r.requestUtil)(f,p,m.onResult,{onError:m.onFail,onLoad:a})}else n({data:{},status:2,errors:"onSuccess has to be type of Function"})},e.checkVerify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onSuccess,n=void 0===e?function(){}:e,i=t.onLoad,a=void 0===i?function(){}:i,s=t.onError,u=void 0===s?function(){}:s,l=t.coordinate,d=t.uid,p=void 0===d?"":d;if("function"==typeof n){var f=p||(0,o.getGlobalStoreFunc)("uid"),m={userId:f,verifyIdentifyCode:(0,o.getGlobalStoreFunc)(f+"Code")||"",coordinate:l},h=r.ajaxUrl+"identityCheckVerify",g={onResult:function(t){var e=t.data,i=void 0===e?{}:e;t.status?n({result:!1}):((0,o.setGlobalStoreFunc)(c({},p+"Result",!!i.result)),n({result:!!i.result}))},onFail:function(){(0,o.setGlobalStoreFunc)(c({},p+"Result",!1)),u({result:!1,status:2})}};(0,r.requestUtil)(h,m,g.onResult,{onError:g.onFail,onLoad:a})}else n({result:!1,errors:"onSuccess has to be type of Function"})};var a,o=n(0),r=n(8),s=(a=n(25))&&a.__esModule?a:{default:a};function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.VERIFY_TYPES={ERROR_VERIFY:2,ALL_VERIFY:1,PASS:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PHONE_TYPE_MAP={0:"STATIC",1:"PRIVATE",2:"EXT400",STATIC:0,PRIVATE:1,EXT400:2},e.STATUS_MAP={STATIC:0,DYNAMIC:1,TIMEOUT:4,SUCCESS_ONLY_REAL:2,REQUEST_ERROR:5,VERIFY:100}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0;var i="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":u(t)},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.init=k,e.getCallNumber=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={};return"object"===(void 0===t?"undefined":i(t))?(n=(0,r.dataTypeTrans)(t)).key=n.key||n.uid||n.sid:(n.realPhone=String(t),e||(e=(0,l.getLastUser)()),n.key=e),((0,l.getData)(n.key)||{}).useIdentity&&n.key.endsWith("show")?function(t){var e={status:100},n=(0,l.getPhone)(t.key,t.realPhone)||{},i=(0,l.getData)(t.key)||{},a=n.phoneAntiCheatConf&&n.phoneAntiCheatConf.beforeShow||v.VERIFY_TYPES.PASS,o=t.uid||i.uid,r=function(e){var n=e.passCheck;void 0===n||n?_(t):(0,l.getGlobalStoreFunc)(o+"CodePulled")?t.onVerify({data:{pictureBase64:(0,l.getGlobalStoreFunc)(o+"Image"),bkPictureBase64:(0,l.getGlobalStoreFunc)(o+"BackgroundImage")},status:S.IMG_EXIST}):(0,v.createVerify)({uid:o,onSuccess:function(e){t.onVerify(e)},onError:function(e){t.onVerify(e)},onLoad:t.onLoad})},s=(0,l.getGlobalStoreFunc)(o+"Result"),c=(0,l.getGlobalStoreFunc)(o+"CodePulled")||!1;return a!==v.VERIFY_TYPES.ERROR_VERIFY||s?a!==v.VERIFY_TYPES.ALL_VERIFY||s?([v.VERIFY_TYPES.ERROR_VERIFY,v.VERIFY_TYPES.ALL_VERIFY].includes(a)&&((0,l.setGlobalStoreFunc)(y({},o+"Result",!0)),(0,l.setGlobalStoreFunc)(y({},o+"CodePulled",!1))),_(t)):c?(t.onVerify({data:{pictureBase64:(0,l.getGlobalStoreFunc)(o+"Image"),bkPictureBase64:(0,l.getGlobalStoreFunc)(o+"BackgroundImage")},status:S.IMG_EXIST}),e):((0,v.createVerify)({uid:o,onSuccess:function(e){t.onVerify(e)},onError:function(e){t.onVerify(e)},onLoad:t.onLoad}),e):((0,v.userCheck)({uid:i.uid,appId:i.appId||"",siteId:i.busSiteId||"",pageId:i.busPageId||"",lpUrl:i.url,onSuccess:function(t){return r(t)},onError:function(t){return r(t)}}),e)}(n):_(n)},e.getShowCallNumber=w,e.delayTime=function(t,e,n){var i=(0,l.getData)(t),o=(0,l.getPhone)(t,n)||{};if(o.dynamicPhone&&(0,g.isSamePhoneNum)(e,o.dynamicPhone)){var r={onResult:function(e){(0,l.setExpiredTime)(t,n,e.expiredTime,e.hasHeart),o.hasHeart=e.hasHeart,C(t,o)},onError:function(t){}};(0,c.delayPhoneTime)(a({},i,r,{phone:o}),n)}},e.checkHeart=C;var o,r=n(3),c=n(8),l=n(0),d=n(6),p=n(7),f=n(10),m=n(11),h=(o=m)&&o.__esModule?o:{default:o},g=n(4),v=n(12);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=e.version="3.0.21",S={IMG_EXIST:-1};function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,r.dataTypeTrans)(t),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pageInitFunc?t.pageInitFunc(t):{},n=t.adInitFunc?t.adInitFunc(a({},t,e)):{pageid:(0,r.createId)()},i=a({},t,e,n);i.key=(0,l.generateKeyForStore)(i),i.sdkVersion=b,(0,c.init)(i),(0,d.init)(i);var o=i.uid,s=void 0===o?"":o,u=i.key;return(void 0===u?"click":u).endsWith("show")&&((0,l.setFuncs)(t.getGlobalData||l.getGlobalStore,t.setGlobalData||l.setGlobalStore),(0,l.setGlobalStoreFunc)({uid:s})),!!i.fromAd&&!!i.key&&((0,l.init)(i),i)}(e);if(n){var i=(0,l.getData)(n.key);return i&&i.status?(setTimeout((function(){e.callback&&e.callback()}),10),n.key):((0,d.pv)(n),function(t,e){var n=t.key,i=(0,l.getData)(n),o={onResult:function(e){if((0,l.setPhone)(e,n),t.replaceFunc)t.replaceFunc(t);else{var a=!1;(Array.isArray(e)&&e[0]&&(e[0].virtualPhone||e[0].dynamicPhone)||e.virtualPhone||e.dynamicPhone)&&(a=!0),a&&(C(n),(0,d.show)(i),t.callback&&t.callback())}},onError:function(t){}};(0,c.loadPhoneNumber)(a({},i,o,{mode:e}))}(n,e.mode||"show"),n.key)}}function _(t){var e=(0,l.isClickMode)(t.key)||"click"===t.mode,n=w(t.realPhone,t.key);if(t.callback&&(n.type="show",t.callback(n)),e&&t.callback)var i=k(a({from:t.from||"lp",mode:"click",requestUtil:h.default,logUtil:m.log,sdkType:t.sdkType||"api",client:t.client||"h5",pageInitFunc:p.init,adInitFunc:f.initAdParams},t,{callback:function(){var e=w(t.realPhone,i);1===e.status&&(e.type="click",t.callback(e))}}));return n}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,l.getPhone)(e,t)||{},i=(0,l.getData)(e)||{},o=(0,p.isMedical)(i.sourceType)&&!t?n.realPhone:t,r={phoneAntiCheatConf:n.phoneAntiCheatConf&&n.phoneAntiCheatConf.beforeShow||null};return n||(r=a({},r,{status:4,key:e,virtualPhone:o,realPhone:null,openPopUps:null})),!e||!String(e).endsWith("show")||e&&(0,l.getData)(e)&&(0,l.getData)(e).phone&&(Array.isArray((0,l.getData)(e).phone)?(0,l.getData)(e).phone.length:"{}"!==JSON.stringify((0,l.getData)(e).phone))?e&&(n.dynamicPhone||n.virtualPhone)?"ad"===n.datafrom||(0,g.isSamePhoneNum)(o,n.realPhone)?n.dynamicPhone?(0,l.checkExpired)(n)?((0,l.setValue)(e,"expired",1),r=a({},r,{status:0,virtualPhone:n.virtualPhone?(0,g.remove86)(n.virtualPhone):o,realPhone:o,key:n.datakey,openPopUps:n.openPopUps})):r=a({},r,{status:1,virtualPhone:(0,g.remove86)(n.dynamicPhone),realPhone:o,time:n.time,expiredTime:n.expiredTime,backPhone:n.virtualPhone?(0,g.remove86)(n.virtualPhone):o,key:n.datakey,openPopUps:n.openPopUps}):n.virtualPhone&&(r=a({},r,{status:0,virtualPhone:(0,g.remove86)(n.virtualPhone),realPhone:o,key:n.datakey,openPopUps:n.openPopUps})):r=a({},r,{status:3,virtualPhone:o,realPhone:null,key:n.datakey,openPopUps:null}):r=a({},r,{status:2,virtualPhone:o,realPhone:null,key:n.datakey,openPopUps:!1}):r=a({},r,{status:5,virtualPhone:o,realPhone:o,key:e,openPopUps:!1}),r.pageid=n.datapageid,n.datapvt&&(r.duration=+new Date-n.datapvt),-1===[0,1,5].indexOf(r.status)&&r.key&&(r.status=0),0!==r.status&&1!==r.status||(r.success=!0),!r.virtualPhone&&o&&(r.virtualPhone=o),r}function C(t,e){var n=(0,l.getData)(t);(e?[e]:n.phone||[]).forEach((function(e){var i=e.dynamicPhone,o=e.hasHeart,r=e.heartHandle,u=e.time,d=e.expiredTime,p=e.heartLeftTime,f=void 0===p?10:p,m=e.heartClickLeftTime,h=void 0===m?5:m,g=e.needHeart;if(i&&o&&!1!==g){r&&(clearTimeout(r),e.heartHandle=null);var v=+new Date-u;if(1e3*(d-h)>v){var y=1e3*(d-f)-v;e.heartHandle=setTimeout((function(){e.heartHandle=null;var i={onResult:function(n){(0,l.setExpiredTime)(t,e.realPhone,n.expiredTime,n.hasHeart),C(t,e)},onError:function(t){}};s&&s.visibilityState&&"visible"!==s.visibilityState||(0,c.startHeart)(a({},n,{phone:e},i))}),y>0?y:0)}}else r&&(clearTimeout(r),n.heartHandle=null)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocation=void 0;var i=n(16),a=n(24),o=e.getLocation=function(){var t=(0,a.getEnv)();return(0,a.isBaiduApp)()&&"swan"!==t?i.capabilities.getLocation({configs:{useCache:!0}}):Promise.resolve({data:{location:""},status:-1,message:"非手百环境"})};e.default=function(){var t={};return o().then((function(e){var n=e.data,i=void 0===n?{}:n;if(0!=+e.status)return t;var o={clientType:(0,a.isIOS)()?"ios":"android",ip:"0.0.0.0"};return(0,a.isIOS)()?(o.longitude=i.location.split(",")[0],o.latitude=i.location.split(",")[1]):o.encryption=i.location,o}))}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":u(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.capabilities=e.videoUtils=void 0;var a=s(n(17));e.videoUtils=a;var o=s(n(18));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}e.capabilities=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.getSingleVideoInstance=e.SjhVideo=void 0;var s=function(){function t(e,n){i(this,t),this.videoId=e.videoId||"6666666",this.actions=n}return o(t,[{key:"onPushOut",value:function(){this.actions.onPushOut&&this.actions.onPushOut()}},{key:"onPushIn",value:function(){this.actions.onPushIn&&this.actions.onPushIn()}}]),t}();e.SjhVideo=s;var c=function(){function t(){i(this,t),this.instance=null}return o(t,[{key:"checkInstance",value:function(t){for(var e=["videoId","onPushOut"],n=0;n<e.length;n++)if(!t[e[n]])return!1;return!0}},{key:"employInstance",value:function(t){this.checkInstance(t)&&(this.instance&&String(this.instance.videoId)===String(t.videoId)||(this.instance&&this.instance.onPushOut(),this.instance=t,this.instance.onPushIn()))}},{key:"releaseInstance",value:function(t){var e=this.instance&&String(this.instance.videoId)===String(t);t&&!e||(this.instance&&this.instance.onPushOut(),this.instance=null)}}]),t}();e.getSingleVideoInstance=function(){return r.SingletonVideoInstance||(r.SingletonVideoInstance=new c),r.SingletonVideoInstance}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getNetworkType",{enumerable:!0,get:function(){return r.default}}),e.getCodedPhoneNumber=e.getPhoneNumArgs=e.getLocation=e.launchXcx=e.launchLoginComponent=e.getAccountPhone=void 0;var i=s(n(9)),a=n(5),o=n(1),r=s(n(23));function s(t){return t&&t.__esModule?t:{default:t}}e.getAccountPhone=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{upgrade:0}:e,r=t.configs,s=void 0===r?{}:r;return(0,i.default)(a.GET_ACCOUNT_PHONE,n,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!0},s))},e.launchLoginComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{upgrade:0}:e,r=t.configs,s=void 0===r?{}:r;return(0,i.default)(a.LAUNCH_LOGIN_COMPONENT,n,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!0},s))},e.launchXcx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=t.configs,r=void 0===n?{}:n,s=t.path;return(0,i.default)(a.LAUNCH_XCX,e,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!1,dynamicPath:s},r))},e.getLocation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{}:e,r=t.configs,s=void 0===r?{}:r;return(0,i.default)(a.GET_LOCATION,n,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!1},s))},e.getPhoneNumArgs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{}:e,r=t.configs,s=void 0===r?{}:r;return(0,i.default)(a.GET_PHONE_NUMBER_ARGS,n,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!1},s))},e.getCodedPhoneNumber=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{}:e,r=t.configs,s=void 0===r?{}:r;return(0,i.default)(a.GET_CODED_PHONE_NUMBER,n,Object.assign({platform:o.PLATFORM_TYPES.COMMON,useCache:!1},s))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeOutError=void 0,e.timeOutError={status:4080,data:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMobileOperatingSystem=void 0;var i=n(1);e.getMobileOperatingSystem=function(){var t=d.userAgent||d.vendor||r.opera;return/windows phone/i.test(t)?i.PHONE_SYSTEMS.WINDOWS_PHONE:/android/i.test(t)?i.PHONE_SYSTEMS.ANDROID:/iPad|iPhone|iPod/.test(t)&&!r.MSStream?i.PHONE_SYSTEMS.IOS:i.PHONE_SYSTEMS.UNKNOWN}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,o=(i=n(22))&&i.__esModule?i:{default:i},r=n(1);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={},u=(s(a={},r.PLATFORM_TYPES.COMMON,o.default),s(a,r.PLATFORM_TYPES.ANDROID,c),s(a,r.PLATFORM_TYPES.IOS,{}),s(a,"default",c),a);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n(5);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=(o(i={},a.GET_NETWORK_TYPE,"baiduboxapp://v19/utils/getNetworkType"),o(i,a.GET_ACCOUNT_PHONE,"baiduboxapp://account/getPhoneNumArgs"),o(i,a.LAUNCH_LOGIN_COMPONENT,"baiduboxapp://account/launchLoginComponent"),o(i,a.LAUNCH_XCX,"baiduboxapp://swan"),o(i,a.GET_LOCATION,"baiduboxapp://v20/location/getLocation"),o(i,a.GET_PHONE_NUMBER_ARGS,"baiduboxapp://account/getPhoneNumArgs"),o(i,a.GET_CODED_PHONE_NUMBER,"baiduboxapp://account/getCodedPhoneNumber"),i);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=(i=n(9))&&i.__esModule?i:{default:i},o=n(5),r=n(1);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params,n=void 0===e?{}:e,i=t.configs,s=void 0===i?{}:i;return(0,a.default)(o.GET_NETWORK_TYPE,n,Object.assign({platform:r.PLATFORM_TYPES.COMMON,useCache:!0},s))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=function(){return void 0!==a&&a.getSystemInfo?"swan":"undefined"!=typeof groot?"loki":"h5"},e.isBaiduApp=function(){return!(void 0===r||!r)&&r.navigator.userAgent.indexOf("baiduboxapp")>-1},e.isIOS=function(){return!(void 0===r||!r)&&/iPhone|iPad|iPod/i.test(r.navigator.userAgent)},e.isAndroid=function(){return!(void 0===r||!r)&&/Android/i.test(r.navigator.userAgent)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(2);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,a.getCookie)("BAIDUID")||"",n=(0,a.getCookie)("BCLID")||"",o=(0,a.getCookie)("BIDUPSID")||"",r=(0,a.getCookie)("BAIDUCUID")||"",c=(0,a.getCookie)("BA_HECTOR")||"",u=(0,a.getCookie)("BAIDULOC")||"",l=s.referrer||"",p=d.userAgent;return i({baiduId:e,logId:n,baiduPsId:o,cuid:r,baHector:c,baiduloc:u,referrer:l,ua:p},t)}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(13),o=n(14),r=n(6),s=n(0);e.default={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t&&(t={uid:t});var e=i({from:"lp",sdkType:"api",client:"native-smart-app",mode:"show",adInitFunc:function(t){var e={feed:"3",fc:"1",other:"4"},n=t.channel,i=void 0===n?"other":n;return e[i]&&(i=e[i]),{channel:i,fromAd:!("4"!==i&&"3"!==i&&"1"!==i&&!t.xst&&!t.spid),baiduid:t.baiduid||+new Date,dpopen:void 0===t.dpopen?"1":t.dpopen}}},t);return(0,o.init)(e)},getCallNumber:function(){var t=o.getCallNumber.apply(void 0,arguments);return t&&t.status===a.STATUS_MAP.REQUEST_ERROR&&clickError(i({},(0,s.getData)(t.key),{fromError:1}),t.virtualPhone,t.realPhones),0!==t.status&&1!==t.status||(1===t.status&&(0,o.delayTime)(t.key,t.virtualPhone),(0,r.click)((0,s.getData)(t.key),t.virtualPhone,t.realPhone)),4===t.status&&(0,r.requestExpired)((0,s.getData)(t.key)),t},version:o.version}}]).default},"object"==u(n)&&"object"==u(t)?t.exports=c():(i=[],void 0===(o="function"==typeof(e=c)?e.apply(n,i):e)||(t.exports=o))}).call(this,t(8)(e))})),t("38",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.formatMessage=function t(e){if("card"!==e.content_type){if(e.content&&["4005","4007"].indexOf(e.type)>-1){var n=e.content,i=e.pageSize,a=void 0===i?3:i,o=parseInt(n.items.length/a,10)+(n.items.length%a==0?0:1);n.totalPage=o}var r,s=!(!e.style||"card"!==e.type||"standard"!==e.name),c=!(!e.style||"card"!==e.type||"combined"!==e.name);if((c||s||e.type&&["6004","6005","6006","6007","6008","6009","6010","6011","6012","6013","6014","6015","6017"].indexOf(e.type)>-1)&&(T(e,s,c),s&&e.content&&e.content.action&&"popup"===e.content.action.type&&T(e.content.action.value,s,c)),e.type&&"8000"===e.type){var u=e.content.category,l=C[u],d=w[u]||0;e.visible=!(l&&d>=l),w[r=u]=(w[r]?w[r]:0)+1}}else t(e.card)},n.formatNavigation=function(t){if(t){var e={moreNav:"more",tel:"tel"};t.items&&t.items.length>0&&t.items.forEach((function(t){var n=t.type;"url"===n&&(t.pageType="hospitalIndex",t.linkType="index"),e[n]&&(t.icon=e[n])})),t.moreItems&&t.moreItems.length>0&&(t.moreItems=t.moreItems.filter((function(t){return!(t.text&&t.text.indexOf("视频")>-1)})))}},n.formatTypeboxMenu=function(t,e){t&&(t.inputSuggest&&t.inputSuggest.static&&t.inputSuggest.static.length>0&&t.inputSuggest.static.forEach((function(t){"url"===t.type&&(t.pageType="hospitalIndex",t.linkType="index");var n=e.feature||{};"tel"!==t.type||n.phone_modal_on||(t.highlight=!0)})),t.menu&&t.menu.length>0&&(t.menu=t.menu.filter((function(t){return!(t.text&&t.text.indexOf("视频")>-1)}))))};var w={},C={doctor:2};function T(t,e,n){if(n&&t.content.list&&!t.content.showCount&&(t.content.showCount=3),t.content&&t.content.list&&t.content.list.length>t.content.showCount&&"HL2"!==t.style?t.moreStatus=1:t.moreStatus=0,t.content&&t.content.list&&t.content.list.length>0)for(var i=0;i<t.content.list.length;i++){var a=t.content.list[i];if("buttonGroup"===a.name){for(var o=a.row,r=a.cell,s=a.list,c=[],u=0;u*r<s.length;u++)c.push(s.slice(u*r,(u+1)*r));a.list=c,a.moreStatus=c.length>o?1:0}else if("detailBase"===a.name||"detailBase"===a.type)a.around&&a.image&&a.image.src&&!e&&!n?a.needInline=!0:a.needInline=!1,P(a);else if("description"===a.type)x(a);else if("tabs"===a.type)a.info.forEach((function(t){T(t.action.value,!0,!1)}));else if(n&&a.content&&a.content.list){var l=!(!a.style||"card"!==a.type||"standard"!==a.name),d=!(!a.style||"card"!==a.type||"combined"!==a.name);a.content&&a.content.action&&"popup"===a.content.action.type&&T(a.content.action.value,l,d),T(a,l,d)}}}function P(t){for(var e=t.info,n=0;n<e.length;n++){var i=e[n];"tagText"===i.type?x(i):"price"===i.type&&D(i)}}function D(t){var e={1:"￥",2:"$"};t&&t.data&&t.data.unit&&(t.data.unit=""+t.data.unit,e[t.data.unit]&&(t.data.unit=e[t.data.unit]))}function x(t){var e=t.tag,n=t.text;if(t.displayText=n,e&&(t.displayText=e+": "+n),t.displayText){t.more&&t.maxHeight?(t.text=t.text.replace(/<img( ?)/g,'<img style="max-width: 100%;"$1'),t.text=t.text.replace(/<\/p><br \/><p>/g,"</p><p>")):(t.displayText=t.displayText.replace(/&lt;/g,"<"),t.displayText=t.displayText.replace(/&gt;/g,">")),t.displayText=t.displayText.replace(/\n+$/,""),t.displayText=t.displayText.replace(/(\u000A)+/g,"\n");var i=t.more,a=t.lineNumber,o=t.displayText,r=t.maxHeight,s=t.normal;if(i&&!r&&1!==s){var c=21*a-16;o.length>c&&(t.shortDisplayText=o.substr(0,c)+"...",t.moreStatus=1)}}}})),t("39",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n){var i=n.from||"imlp",a=n.Request,o=n.miniProgram,r=n.dynamicLibVersion||0,s=t||{};e&&(s=function(t){var e={},n={aduserid:"ucid",imid:"imlp_id",pvKey:"pvKey",xst:"xst",abTest:"abTest",pp:"pp",tt:"tt",ip:"ip",effectiveTest:"effectiveTest",channel:"channel",terminal:"client",sessionid:"sessionid",appid:"app_id",clientSource:"clientSource",clientSourceExt:"clientSourceExt",appKey:"appkey",currentPageLogUrl:"url",im_type:"im_type"};for(var i in n){e[n[i]]=t[i]}return e}(t)),s.tag="fc_imlp",s.from=i,s.dlVersion=r;var c=new a({miniProgram:o,method:"GET"},{log:"https://ada.baidu.com/nclick-imlp/index"},null);function u(t,e,n,i){var a=function(){var t=JSON.stringify(s),e={};try{e=JSON.parse(t)}catch(t){}return e}()||{};a=Object.assign({type:t},a),e&&(a.from=e),n&&(a.content=n),(i=i||{}).dlVersion=r,i&&(a.ext=i),a.timestamp=(new Date).getTime(),c.request("log",a)}this.send=u,this.pv=function(){u("pv")},this.baozhang=function(){u("pv",null,"baozhang")}}}catch(t){}})),t("40",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w={logSyncMessage:function(t,e,n){var i=t.source;if(!t.history&&"system"===i){var a={type:"system",content:t.type,from:"imlp",tag:t.tag||""};switch(t.tag){case"card_sync":a.type="card"}return a}},updateReadStatusForMsg:function(t,e){return{type:"readStatus",from:"system",content:t.msgid,ext:{source:t.source,isRead:t.isRead}}},popupInvite:function(t,e){return{type:"popupInvite",from:"manual"===t.type?"service":"imlp",content:t}},AddMessageToChatView:function(t,e,n){var i=t.source;if(!t.history){if("user"===i){n.sendMessageCount++;var a="client_msg";switch(n.sendMessageCount){case 1:a="beginchat";break;case 3:a="goodchat"}return{type:a,from:"client",content:t.message_id||t.msgid||"",ext:{track:t.track}}}if("service"===i){var o=t.type||t.content_type,r={type:"kefu_msg",from:"kefu"};switch(o){case"text":case"1":r.content=t.msgid||t.message_id||"";break;case"1":r.content=t.content;break;case"8003":r.type="msg_pv",r.from="imlp",r.content=o;break;case"invite":r.from="invite";break;default:r.type="card",r.content=o}return r}if("system"===i){var s={type:"system",content:t.type,from:"imlp",tag:t.tag||""};switch(t.tag){case"card_async":case"card_sync":s.type="card","standard"!==t.name&&"combined"!==t.name||(s.content=t.log)}return s}return{type:i||"addMsg",content:t.type,from:"imlp",tag:"addMsg"}}},updateSessionStatus:function(t,e){if(t)return{type:"connectting"===t?"connect":t,from:"imlp"}},leaveWord:function(t,e){return{type:"msgSubmit",from:"client",content:JSON.stringify(t,e)}},logInputSug:function(t,e){return{type:"inputSug_"+t.type,from:"imlp",content:t.content||""}},ChatAction:function(t,e){var n=t,i=t.type,a=t.log,o=n.value.type,r=n.value&&n.value.ext,s="click";switch(o){case"tel":s="phone_click";break;case"url":s="website_click";break;case"xcx":s="website_xcx_click";break;case"copy":s="copy_click";break;case"video":s="video_click",n.value.value={id:n.value.id,duration:n.value.duration};break;case"popup":s="popup_click";break;case"combined":s="combined_click"}var c={type:s,from:i||"imlp",content:n.value.value||n.value||""};return r&&(c.ext=r),"standardcard"===i&&(c.content=a),c},UserInteraction:function(t,e){},cardShow:function(t,e){return{type:t.logType||"card_show",from:t.frome||"imlp",content:t.content||"",ext:t.ext||""}},detentionAction:function(t,e){},antisendlog:function(t,e){return{type:t,from:"imlp",content:store.getState("anti.strategyid")}},inputFocus:function(t,e){return{type:"inputFocus",from:"imlp",content:t}},logPresetMsg:function(t,e){return{type:t.type,from:"imlp",content:t.content}},logKefuMsgStatus:function(t,e){return{type:"phone_click",from:t.from||"kefu_msg",content:t.value.value}},updateOnlineStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1===t.status){var e={type:"online",from:"imlp",content:t.time||(new Date).getTime()};return e}},showTelFloat:function(){return{type:"show_tel_float",from:"imlp"}},video:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.duration,i=t.currentTime,a=t.videoUrl,o={id:e,duration:n,currentTime:i,videoUrl:a},r={type:t.type,from:"imlp",content:o};return r},logXh:function(t,e){return{type:"xh",from:"imlp",content:t}},logXhModal:function(t,e){return{type:"xhModal",from:"imlp",content:JSON.stringify(t,e)}},triggerYxtCardFromKefu:function(t,e){return{type:"yxt",from:"imlp",content:t}},manualResendMessage:function(t,e){return{type:"resend_click",from:"imlp",content:t}},logSdk:function(t,e){if(t&&t.type)return{type:"sdk_"+t.type,from:"imlp",content:t.message||""}},logSwipeInfo:function(t,e){if(store.getState("feature").track&&t)return{type:"track",from:"imlp",content:{type:t.type,value:t.content}}},presetMessage:function(t,e){var n=t.from,i=t.content;return{type:"preset_"+t.type+"_"+n,content:i}},pageError:function(t,e){return t.code,t.msg,t.type,{type:"page_error",from:"imlp",content:t}},kefuInputStatusShow:function(t,e){return{type:"inputStatus_show",from:"imlp",content:""}},popupStateChange:function(t,e){return(t=t||{}).from=t.from||"",{type:"popupStateChange",content:t}},tabChange:function(t,e){return{type:"tab_change",content:(t=t||{}).content,ext:{index:t.index,text:t.text}}},focusBtnClick:function(t,e){return{type:"focusbtn_click",content:(t=t||{}).content}},antiLog:function(t,e){return{type:t}},sdkLog:function(t,e){return t},log:function(t,e){return t}};function C(t,e){this.sender=null,this.sdkUtil=null,this.cache=[],this.sendMessageCount=0}C.prototype.init=function(t,e){this.sender=t,this.sdkUtil=e},C.prototype.pv=function(){var t=this;this.sender&&this.sender.pv(),setTimeout((function(){t.cache.length>0&&(t.cache.forEach((function(e){t.log(e.name,e.payload)})),t.cache.length=0)}),200)},C.prototype.baozhang=function(){this.sender&&this.sender.baozhang()},C.prototype.log=function(t,e){if(this.sender){if(w[t]){var n=w[t](e,this.sdkUtil,this);this.sendlog(n)}}else this.cache.push({name:t,payload:e})},C.prototype.sendlog=function(t){var e=t.type,n=t.from,i=t.content,a=t.ext;this.sender&&this.sender.send(e,n,i,a)},e.exports=C})),t("41",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=t(31),T=t(38),P=t(42),D=t(51),x=t(16),E=t(29),I=new x;e.exports=function(t,e,n,i){var o=null,r=null,s=[],c=[];n=n||{};var u={};function l(e){f(e,!0),function(e,n){var i=0,o=Date.now(),r=!1,s=(e=e||[])[e.length-1];if(s){var c=s.message_id;if(c){var u=a.createSelectorQuery().in(t);clearInterval(i),i=setInterval((function(){u.select("#message_"+c).boundingClientRect((function(t){t&&l()})).exec(),Date.now()-o>3e3&&l()}),1e3)}else n()}else n();function l(){r||(r=!0,n(),clearInterval(i))}}(e,(function(){setTimeout((function(){h(null,!0)}),1e3)}))}this.on=function(t,e){u[t]=u[t]||[],u[t].push(e)},this.getData=function(){return e.getData()},this.getConnectState=function(){return e.getConnectState()},this.setData=function(a,d){var p=this;return o=a,r=d,t.setConnectStep(3),e.init(o.imParam,o.visitParam,o.sdkOptions,r),e.on("entrySite",(function(e,n){t.setConnectStep(4),function(t,e){var n=u.entrySite;if(n)for(var i=0;i<n.length;i++)n[i].apply(null,e)}(0,[e,n])})),e.on("taskbegin",(function(e,n){if(!t.changePageParamsAndReEntrySite()){t.sendlog("updateSessionStatus","connected"),t.setStepTime("taskbeginResult"),t.setConnectStep(8),t.setData({"pageData.robot":e.robot}),t.imlpData.changeIM?(t.showKefuTipByType("changeIM"),p.sendUserAction({type:"onClick",data:{type:"card",text:"访客已从其他客服切换至此，您可立即启动接待服务",ext:{tag:"xyl_history",history:"访客已从其他客服切换至此，您可立即启动接待服务",from:"imlp"}}})):t.showKefuTip(e.robot);var i=e.awake;1===parseInt(i,10)&&f(C.awakeMessage);for(var a=0;a<s.length;a++){var o=s[a];p.sendMessage(o,"cache")}s=[];for(var r=0;r<c.length;r++)p.sendUserAction(c[r]);c=[],t.dispatchAction("sendInitMsgTrack")}})),e.on("message",(function(e,n){e=e||[],t.onMessage(e),f(e),e.forEach((function(e){t.dispatchAction("updateMessageCountForRecommend",e);var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0,n=t.inputSuggest,i=t.message_id;if(i&&n&&n.length){var a={};a.question_id=i,a.suggest_reply=n,e=[a]}return e}(e);n?setTimeout((function(){t.dispatchAction("updateRecommend",n)}),0):/(\u597d\u4e0d\u597d|\u6709\u6ca1\u6709|\u662f\u4e0d\u662f|\u5728\u4e0d\u5728|\u0029|\uff1f|\u003f|\u5417|\u554a|\u5462|\u54c8|\u8fd8).*/.test(e.content)&&(e.isQuestion=!0,E.then("newSdk",null).online((function(){setTimeout((function(){t.dispatchAction("getRecommend",e)}),0)})))}))})),e.on("disconnect",(function(e,n){"service"===(e=e||{}).from&&(t.showDialog(C.disconnectDialog),t.logUtil&&t.logUtil.sender.send("closed"))})),e.on("kefuInput",(function(e,n){t.changeKefuInputStatus(e)})),e.on("readData",(function(e){for(var n=t.data.pageData||{},i=t.data.messageList,a={},o=!1,r=n.feature||{},s=0;s<i.length;s++){var c=i[s],u=e[c.message_id];if(void 0!==u){if(t.sendlog("updateReadStatusForMsg",{isRead:u,source:c.source,msgid:c.msgid}),!r.message_read1)continue;c.isRead=u,c.sendError="1"===u,a["messageList."+s]=c,o=!0}}o&&t.setData(a)})),e.on("send",(function(t,e){})),e.on("switchToManual",(function(e,n){t.setData({"pageData.robot":!e}),t.showKefuTip(!e,{status:e})})),e.on("syncMessage",(function(t,e){})),e.on("leaveWord",(function(t,e){})),e.on("fetch",(function(t,e){})),e.on("userState",(function(t,e){})),e.on("userAction",(function(t,e){})),e.on("closedByKefu",(function(e,n){t.sendlog("updateSessionStatus","closed")})),e.on("error",(function(n){var a=n.data,o=n.type,r=n.result,s=t.data.pageData||{};if("send"===n.type){n.data&&"object"===w(n.data)&&(a=n.data.message_id);for(var c=t.data.messageList,u=null,l=-1,d=0;d<c.length;d++){var p=c[d];p.message_id===a&&(p.sendError=!0,p.resend=!0,u=p,l=d)}if(!u)return;r.status===C.sdkStatus.SEND_SERVER_FORBID&&(u.resend=!1,f({type:"8000",source:"system",content:{text:r.message}})),t.devCodeTool.run("setdata",(function(){t.setData("messageList["+l+"]",u)}),(function(){t.setData({messageList:c})}))}else if("taskbegin"===o&&r&&11!==r.status){if(t.setStepTime("taskbeginResult"),t.setConnectStep(-4),t.sendlog("updateSessionStatus","failed"),t.imlpData.changeIM&&t.showKefuTipByType("changeIMError"),"0"!==s.messageBoard){var m=C.leaveWordMsg;c=t.data.messageList,s.leaveWord&&s.leaveWord.title&&(m.title=s.leaveWord.title,m.message_id="message_"+Date.now(),f(m))}}else if("taskbegin"===o&&r&&11===r.status){t.setConnectStep(-4);var h=C.antiHoldBack;h.message_id="message_"+Date.now(),f(h)}else if("checkAntiCaptcha"===o)i.setVerificationCodeConfirmResult(t,r||{status:"error",notice:"输入错误"});else if("antiCheck"===o){if(t.setStepTime("antiCheckResult"),i.changePageParamsAndReEntrySite(t))return;var g=e.getStatusConfig();if(r.status===g.ANTI_VERIFICATION)return void i.setAntiCheckResult(t,r);i.sendEvent(t,{eventName:"error",data:{eventType:"antiCheck",data:r,params:a}})}})),e.on("end",(function(t){})),e.on("history",(function(t){l(t)})),e.on("antiCheck",(function(e){t.setStepTime("antiCheckResult"),i.changePageParamsAndReEntrySite(t)||i.setAntiCheckResult(t,e)})),e.on("recommend",(function(e){e&&e.suggestInfo&&e.suggestInfo.length&&t.dispatchAction("updateRecommend",e.suggestInfo)})),e.on("card",(function(e,n){if(e&&e.length)if(e.forEach((function(t,e){t.type&&(t.type+=""),t.source="4005"===t.type?t.source:"system",t.status=0,t.tag="card_async",t.msgtime=(new Date).getTime(),t.message_id=t.message_id||I.createOneKey("card"),t.domid="message_"+t.message_id})),n&&"popStatus"===n.popStatus){var i=e[0]&&e[0].content||{},a=e[0]&&e[0].log;t.cardClickHandle({type:"standardcard",value:i.action,log:a})}else f(e,!1,!0)})),e.on("antiCaptcha",(function(e){var n="data:image/svg+xml;base64,"+t.base64.encode(e.data);e.base64Data=n,t.setData("verificationCode",e)})),e.on("checkAntiCaptcha",(function(e){i.setVerificationCodeConfirmResult(t,e)})),e.on("sdkLog",(function(e){t.sendlog("sdkLog",e)})),n.noHistory||e.getHistory((function(t){setTimeout((function(){l(t)}),200)})),this};var d=0;function p(n){t.setStepTime("sdkConnect"),t.setConnectStep(7);var i=(t.data.baseData||{}).pageData||{};n=n||{};var a=Date.now(),o=function(e){var n="",i=t.imlpData.diffTime,a=(t.data.pageData||{}).pvKey||"",o=a.length,r=a.substring(o-16,o),s=parseInt(1e7*Math.random())%10,c=(s+1)%10,u=e+"",l=new RegExp(s,"g"),d=new RegExp(c,"g"),p=[s,u=(u=(u=u.replace(l,"A")).replace(d,s)).replace(/A/g,c),"X",i].join("");try{var f=P.AES.encrypt(p,r).toString();n=P.enc.Base64.stringify(P.enc.Utf8.parse(f))}catch(t){}return n}(a);e.connect({cardId:o,wcWord:i.welcomeWord,t:a})}function f(n,i,a){var o=t.imlpData.messageScrollLower,r=t.data.unreadMessageCount,s=t.imlpData.scrollToMessageId;n instanceof Array||(n=[n]),e&&n[0]&&n[0].type,n.forEach((function(e){i||t.sendlog("AddMessageToChatView",e),"service"===e.source&&(e.avatar=I.getValue(t.data,"pageData.service.avatar")),T.formatMessage(e)}));var c=t.data.messageList;if(i)c.unshift.apply(c,n),a=!0;else{c.push.apply(c,n);var u=n[0];u&&!o&&(0===r&&(s="message_"+n[0].message_id),r+=n.length),u&&"user"===u.source&&(r=0,s="",a=!0)}D(c,t.data.emojiList),t.setData({unreadMessageCount:r,"bottomNewMessage.text":r+"条新消息",messageList:c},(function(){t.sendTimeline({type:"addMessage",timestamp:Date.now()}),t.setMsgListHeight()})),t.setImlpData({scrollToMessageId:s}),h(null,a)}this.connect=function(n,i){var a=e.getConnectState(),o=t.imlpData.connectStep;if(0===a&&!(o<6)){var r=t.imlpData.autoConnectSource,c=t.data.pageData||{};clearTimeout(d);var u=null;if(i&&i.source&&(u=i.source),c.rebound||!r||!u||r[u]){var l=(t.imlpData.delayConnectTime||0)-Date.now();1!==t.getDataByType("openType")&&!s.length&&l>0&&"auto"===u?d=setTimeout((function(){p()}),l):p()}}},this.sendMessage=function(n,i){var a=e.formatMessage(n);i||f(a);var o=e.getConnectState();if(!(t.imlpData.connectStep<0))return 0===o?(s.push(a),void this.connect(null,{source:"send"})):void(1!==o?(t.dispatchAction("clearRecommend",{source:"send"}),e.send(a)):s.push(a))},this.addMessage=function(t){t=e.addMessage(t),this.pushMessage(t)},this.leaveWord=function(t){return e.leaveWord(t)},this.sendUserAction=function(t){if(2===e.getConnectState())return e.sendUserAction(t);c.push(t)},this.scrollBottom=h,this.pushMessage=f,this.sendImage=function(){var t=this;r.chooseImage({count:1,success:function(e){var n=e.tempFiles[0],i=n.path;n.size,r.uploadFile({url:C.url.uploadUrl,filePath:i,name:"file",success:function(e){var n=e.data||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(t){}if(0===n.status){var i=n.content;t.sendMessage({content:{image_url:i,thumb_url:i},type:"image",content_type:"image"})}},fail:function(t){console.log("upload fail",t)}})},fail:function(t){console.log("choose image fail",t)}})},this.resendMessage=function(n){for(var i=t.data.messageList,a=null,o=-1,r=0;r<i.length;r++){var s=i[r]||{};if(s.sendError&&s.message_id===n){delete s.sendError,delete s.isRead,a=s,o=r,e.resend(n);break}}a&&t.devCodeTool.run("setdata",(function(){t.setData("messageList["+o+"]",a)}),(function(){t.setData({messageList:i})}))},this.stop=function(){e.stop()};var m=0;function h(e,n){clearTimeout(m),m=setTimeout((function(){var i=t.imlpData.messageScrollLower;if(n||i||e){var a=t.data.component;t.devCodeTool.run("setdata",(function(){var n="scrollbottomid1";"scrollbottomid1"===a.lastMessageId&&(n="scrollbottomid2"),e&&(n=e),t.setData("component.lastMessageId",n)}),(function(){"scrollbottomid1"===a.lastMessageId?a.lastMessageId="scrollbottomid2":a.lastMessageId="scrollbottomid1",e&&(a.lastMessageId=e),t.setData({component:a})})),t.setImlpData({scrollToMessageId:""})}}),100)}}})),t("42",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){return t},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50)):(C=[t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("43",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},a=i.lib={},o=a.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=a.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,a=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<a;o++){var r=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=r<<24-(i+o)%4*8}else for(o=0;o<a;o+=4)e[i+o>>>2]=n[o>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],a=function(e){e=e;var n=987654321,i=4294967295;return function(){var a=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return a/=4294967296,(a+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=a(4294967296*(n||t.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new r.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var o=e[a>>>2]>>>24-a%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new r.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var o=e[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new r.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},d=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,a);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(i,l);var d=i.splice(0,c);n.sigBytes-=u}return new r.init(d,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(a.Hasher=d.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}}),i.algo={});return i}(Math);return t},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P():(C=[],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("44",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){var e,n;return n=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var a=[],o=0;o<n;o+=3)for(var r=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)a.push(i.charAt(r>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(t){var e=t.length,i=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var o=0;o<i.length;o++)a[i.charCodeAt(o)]=o}var r=i.charAt(64);if(r){var s=t.indexOf(r);-1!==s&&(e=s)}return function(t,e,i){for(var a=[],o=0,r=0;r<e;r++)if(r%4){var s=i[t.charCodeAt(r-1)]<<r%4*2,c=i[t.charCodeAt(r)]>>>6-r%4*2;a[o>>>2]|=(s|c)<<24-o%4*8,o++}return n.create(a,o)}(t,e,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43)):(C=[t(43)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("45",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){return function(e){var n=t,i=n.lib,a=i.WordArray,o=i.Hasher,r=n.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=r.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,a=t[i];t[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var o=this._hash.words,r=t[e+0],c=t[e+1],f=t[e+2],m=t[e+3],h=t[e+4],g=t[e+5],v=t[e+6],y=t[e+7],b=t[e+8],S=t[e+9],k=t[e+10],_=t[e+11],w=t[e+12],C=t[e+13],T=t[e+14],P=t[e+15],D=o[0],x=o[1],E=o[2],I=o[3];D=u(D,x,E,I,r,7,s[0]),I=u(I,D,x,E,c,12,s[1]),E=u(E,I,D,x,f,17,s[2]),x=u(x,E,I,D,m,22,s[3]),D=u(D,x,E,I,h,7,s[4]),I=u(I,D,x,E,g,12,s[5]),E=u(E,I,D,x,v,17,s[6]),x=u(x,E,I,D,y,22,s[7]),D=u(D,x,E,I,b,7,s[8]),I=u(I,D,x,E,S,12,s[9]),E=u(E,I,D,x,k,17,s[10]),x=u(x,E,I,D,_,22,s[11]),D=u(D,x,E,I,w,7,s[12]),I=u(I,D,x,E,C,12,s[13]),E=u(E,I,D,x,T,17,s[14]),D=l(D,x=u(x,E,I,D,P,22,s[15]),E,I,c,5,s[16]),I=l(I,D,x,E,v,9,s[17]),E=l(E,I,D,x,_,14,s[18]),x=l(x,E,I,D,r,20,s[19]),D=l(D,x,E,I,g,5,s[20]),I=l(I,D,x,E,k,9,s[21]),E=l(E,I,D,x,P,14,s[22]),x=l(x,E,I,D,h,20,s[23]),D=l(D,x,E,I,S,5,s[24]),I=l(I,D,x,E,T,9,s[25]),E=l(E,I,D,x,m,14,s[26]),x=l(x,E,I,D,b,20,s[27]),D=l(D,x,E,I,C,5,s[28]),I=l(I,D,x,E,f,9,s[29]),E=l(E,I,D,x,y,14,s[30]),D=d(D,x=l(x,E,I,D,w,20,s[31]),E,I,g,4,s[32]),I=d(I,D,x,E,b,11,s[33]),E=d(E,I,D,x,_,16,s[34]),x=d(x,E,I,D,T,23,s[35]),D=d(D,x,E,I,c,4,s[36]),I=d(I,D,x,E,h,11,s[37]),E=d(E,I,D,x,y,16,s[38]),x=d(x,E,I,D,k,23,s[39]),D=d(D,x,E,I,C,4,s[40]),I=d(I,D,x,E,r,11,s[41]),E=d(E,I,D,x,m,16,s[42]),x=d(x,E,I,D,v,23,s[43]),D=d(D,x,E,I,S,4,s[44]),I=d(I,D,x,E,w,11,s[45]),E=d(E,I,D,x,P,16,s[46]),D=p(D,x=d(x,E,I,D,f,23,s[47]),E,I,r,6,s[48]),I=p(I,D,x,E,y,10,s[49]),E=p(E,I,D,x,T,15,s[50]),x=p(x,E,I,D,g,21,s[51]),D=p(D,x,E,I,w,6,s[52]),I=p(I,D,x,E,m,10,s[53]),E=p(E,I,D,x,k,15,s[54]),x=p(x,E,I,D,c,21,s[55]),D=p(D,x,E,I,b,6,s[56]),I=p(I,D,x,E,P,10,s[57]),E=p(E,I,D,x,v,15,s[58]),x=p(x,E,I,D,C,21,s[59]),D=p(D,x,E,I,h,6,s[60]),I=p(I,D,x,E,_,10,s[61]),E=p(E,I,D,x,f,15,s[62]),x=p(x,E,I,D,S,21,s[63]),o[0]=o[0]+D|0,o[1]=o[1]+x|0,o[2]=o[2]+E|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var o=e.floor(i/4294967296),r=i;n[15+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,i,a,o,r){var s=t+(e&n|~e&i)+a+r;return(s<<o|s>>>32-o)+e}function l(t,e,n,i,a,o,r){var s=t+(e&i|n&~i)+a+r;return(s<<o|s>>>32-o)+e}function d(t,e,n,i,a,o,r){var s=t+(e^n^i)+a+r;return(s<<o|s>>>32-o)+e}function p(t,e,n,i,a,o,r){var s=t+(n^(e|~i))+a+r;return(s<<o|s>>>32-o)+e}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),t.MD5},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43)):(C=[t(43)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("46",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){var e,n,i,a,o,r,s;return n=(e=t).lib,i=n.WordArray,a=n.Hasher,o=e.algo,r=[],s=o.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)r[u]=0|t[e+u];else{var l=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=l<<1|l>>>31}var d=(i<<5|i>>>27)+c+r[u];d+=u<20?1518500249+(a&o|~a&s):u<40?1859775393+(a^o^s):u<60?(a&o|a&s|o&s)-1894007588:(a^o^s)-899497514,c=s,s=o,o=a<<30|a>>>2,a=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=a._createHelper(s),e.HmacSHA1=a._createHmacHelper(s),t.SHA1},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43)):(C=[t(43)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("47",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){var e,n,i;n=(e=t).lib.Base,i=e.enc.Utf8,e.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,a=4*n;e.sigBytes>a&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),r=this._iKey=e.clone(),s=o.words,c=r.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=r.sigBytes=a,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43)):(C=[t(43)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("48",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){var e,n,i,a,o,r,s;return i=(n=(e=t).lib).Base,a=n.WordArray,r=(o=e.algo).MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:r,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=a.create(),r=o.words,s=n.keySize,c=n.iterations;r.length<s;){u&&i.update(u);var u=i.update(t).finalize(e);i.reset();for(var l=1;l<c;l++)u=i.finalize(u),i.reset();o.concat(u)}return o.sigBytes=4*s,o}}),e.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)},t.EvpKDF},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43),t(46),t(47)):(C=[t(43),t(46),t(47)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("49",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){var e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y;t.lib.Cipher||(i=(n=(e=t).lib).Base,a=n.WordArray,o=n.BufferedBlockAlgorithm,(r=e.enc).Utf8,s=r.Base64,c=e.algo.EvpKDF,u=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?y:g}return function(e){return{encrypt:function(n,i,a){return t(i).encrypt(e,n,i,a)},decrypt:function(n,i,a){return t(i).decrypt(e,n,i,a)}}}}()}),n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=e.mode={},d=n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=l.CBC=function(){var t=d.extend();function e(t,e,n){var i=this._iv;if(i){var a=i;this._iv=void 0}else a=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=a[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,a=i.blockSize;e.call(this,t,n,a),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+a)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,a=i.blockSize,o=t.slice(n,n+a);i.decryptBlock(t,n),e.call(this,t,n,a),this._prevBlock=o}}),t}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,o=i<<24|i<<16|i<<8|i,r=[],s=0;s<i;s+=4)r.push(o);var c=a.create(r,i);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),m=n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=a.create([1398893684,1701076831]).concat(n).concat(e);else i=e;return i.toString(s)},parse:function(t){var e=s.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=a.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return m.create({ciphertext:e,salt:i})}},g=n.SerializableCipher=i.extend({cfg:i.extend({format:h}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var a=t.createEncryptor(n,i),o=a.finalize(e),r=a.cfg;return m.create({ciphertext:o,key:n,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,n,i){i||(i=a.random(8));var o=c.create({keySize:e+n}).compute(t,i),r=a.create(o.words.slice(e),4*n);return o.sigBytes=4*e,m.create({key:o,iv:r,salt:i})}},y=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:v}),encrypt:function(t,e,n,i){var a=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=a.iv;var o=g.encrypt.call(this,t,e,a.key,i);return o.mixIn(a),o},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var a=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=a.iv,g.decrypt.call(this,t,e,a.key,i)}}))},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43),t(48)):(C=[t(43),t(48)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("50",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C,T,P;P=function(t){return function(){var e=t,n=e.lib.BlockCipher,i=e.algo,a=[],o=[],r=[],s=[],c=[],u=[],l=[],d=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var m=i^i<<1^i<<2^i<<3^i<<4;m=m>>>8^255&m^99,a[n]=m,o[m]=n;var h=t[n],g=t[h],v=t[g],y=257*t[m]^16843008*m;r[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*v^65537*g^257*h^16843008*n,l[m]=y<<24|y>>>8,d[m]=y<<16|y>>>16,p[m]=y<<8|y>>>24,f[m]=y,n?(n=h^t[t[t[v^h]]],i^=t[t[i]]):n=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],h=i.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],r=0;r<i;r++)if(r<n)o[r]=e[r];else{var s=o[r-1];r%n?n>6&&r%n==4&&(s=a[s>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s]):(s=a[(s=s<<8|s>>>24)>>>24]<<24|a[s>>>16&255]<<16|a[s>>>8&255]<<8|a[255&s],s^=m[r/n|0]<<24),o[r]=o[r-n]^s}for(var c=this._invKeySchedule=[],u=0;u<i;u++)r=i-u,s=u%4?o[r]:o[r-4],c[u]=u<4||r<=4?s:l[a[s>>>24]]^d[a[s>>>16&255]]^p[a[s>>>8&255]]^f[a[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,s,c,u,a)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,d,p,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,a,o,r,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],d=t[e+2]^n[2],p=t[e+3]^n[3],f=4,m=1;m<c;m++){var h=i[u>>>24]^a[l>>>16&255]^o[d>>>8&255]^r[255&p]^n[f++],g=i[l>>>24]^a[d>>>16&255]^o[p>>>8&255]^r[255&u]^n[f++],v=i[d>>>24]^a[p>>>16&255]^o[u>>>8&255]^r[255&l]^n[f++],y=i[p>>>24]^a[u>>>16&255]^o[l>>>8&255]^r[255&d]^n[f++];u=h,l=g,d=v,p=y}h=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[f++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],y=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[f++],t[e]=h,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});e.AES=n._createHelper(h)}(),t.AES},"object"===("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)?e.exports=n=P(t(43),t(44),t(45),t(48),t(49)):(C=[t(43),t(44),t(45),t(48),t(49)],void 0===(T="function"==typeof(w=P)?w.apply(n,C):w)||(e.exports=T))})),t("51",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(52),C=null;e.exports=function(t,e){var n=function(t){if(C)return C;t=t||[];for(var e=0;e<t.length;e++)(C=C||{})[t[e]]=e;return C||{}}(e),i=t;t instanceof Array||(i=[t]);for(var a=0;a<i.length;a++){var o=i[a],r=o.content_type,s=o.content;if("text"===r||1===r){var c=w(s,n,o.tag||"");o.textRichList=c}o.trackByKey||(o.trackByKey="track"+a+Date.now())}}})),t("52",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(53))&&w.__esModule?w:{default:w},T={},P=null;function D(t){var e="all",n=null;if(t&&t.length){e=t.join("_"),n={};for(var i=0;i<t.length;i++)n[t[i]]=!0}var a=T[e];return a||(a=function(t){for(var e=[{type:"phone",str:"0[1-9][0-9]{1,2}-?[2-8][0-9]{6,7}|1[0-9]{10}",pattern:null},{type:"emoji",str:"\\[[^\\[\\]]+\\]",pattern:null},{type:"likePhone",str:"[\\d-]+",pattern:null},{type:"text",str:"[^\\[\\]\\d]+",pattern:null},{type:"text",str:"\\][^\\[\\]\\d]*",pattern:null},{type:"text",str:"\\[[^\\[\\]\\d]*",pattern:null}],n=[],i=[],a=0;a<e.length;a++){var o=e[a],r=o.type,s=new RegExp("^"+o.str+"$"),c={type:r,str:o.str,pattern:s};t?t[r]&&(i.push(o.str),n.push(c)):(i.push(o.str),n.push(c))}return{itemPatternList:n,pattern:new RegExp("("+i.join("|")+")","g")}}(n),T[e]=a),a}function x(t,e){e=e||[];for(var n=0;n<e.length;n++){var i=e[n];if(i.pattern.test(t))return i.type}return"text"}e.exports=function(t,e,n){if("welcome"===n)return function(t){t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(0,C.default)({p:[""],br:[""],font:[""],ul:[""],ol:[""],li:[""],div:[""]},t)).replace(/(\n)/g,"<br/>")).replace(/(<br(\s*\/?)?>)/g,"<br/>")).replace(/(^(<p><br\/><\/p>)+|(<p><br\/><\/p>)+$)|(<p><\/p>)+/g,"")).replace(/(<div><\/div>)+|^(<div><br\/><\/div>)+|(<div><br\/><\/div>)+$/g,"")).replace(/((<p><br\/><\/p>)|(<div><br\/><\/div>))/g,"<br/>")).replace(/<p><ul>/g,"<ul>")).replace(/<\/ul><\/p>/g,"</ul>")).replace(/<p><ol>/g,"<ol>")).replace(/<\/ol><\/p>/g,"</ol>")).replace(/<p>/g,"")).replace(/<br\/><\/p>/g,"<br/>")).replace(/<\/p>/g,"<br/>")).replace(/<ul.*?>(.*?)<\/ul>/g,(function(t,e){return"<ul>"+(e=e.replace(/<li>/g,'<li><span style="font-weight: bolder;">· </span>'))+"</ul>"}))).replace(/<ol>/g,'<ol style="margin: 0;padding: 0;list-style: decimal inside;">')).replace(/<ul>/g,'<ul style="margin: 0;padding: 0;list-style: none;">');for(var e=D(["phone"]).itemPatternList[0].pattern,n=(t=(t=t.replace(/<span.*?>(.*?)<\/span>/g,(function(t,n){return e.test(n)?n:t}))).replace(/(^(<br\/>)+|(<br\/>)+$)/,"")).split(/(0[1-9][0-9]{1,2}-?[2-8][0-9]{6,7}|1[0-9]{10})/),i=[],a=0;a<n.length;a++){var o=n[a];i.push({type:e.test(o)?"phone":"text",content:o})}return i}(t);t=(0,C.default)({},t),P=e;var i=[];!function(t,e,n){for(var i=D(["emoji","likePhone","text"]),a=i.itemPatternList,o=i.pattern,r=o.exec(e);null!==r;){var s=r[0],c=x(s,a),u={type:c,content:s};if("emoji"===c){var l=P[s];u.emojiIndex=l,l||0===l||(u.type="text")}t.push(u),r=o.exec(e)}}(i,t);try{for(var a=D(["phone"]).itemPatternList[0].pattern,o=0;o<i.length;o++){var r=i[o];"likePhone"===r.type&&a.test(r.content)&&(r.type="phone")}}catch(t){}return i}})),t("53",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n={whiteList:t,stripIgnoreTag:!0,stripIgnoreTagBody:["script"],onTagAttr:function(t,e,n,i){if("font"===t&&"color"===e)return"#ff5c00"===n?'color="#ff5c00"':""},onTag:function(t,e,n){return'<font color="#ff5c00">'===e?'<span style="color:#ff5c00">':"</font>"===e?"</span>":"font"===t?"<span>":void 0}};return(0,C.default)(e,n)};var w,C=(w=t(54))&&w.__esModule?w:{default:w}})),t("54",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(55),C=t(62),T=t(63);function P(t,e){return new T(e).process(t)}for(var D in(n=e.exports=P).filterXSS=P,n.FilterXSS=T,w)n[D]=w[D];for(var D in C)n[D]=C[D];void 0!==r&&(r.filterXSS=e.exports),void 0!==u&&"undefined"!=typeof DedicatedWorkerGlobalScope&&u instanceof DedicatedWorkerGlobalScope&&(u.filterXSS=e.exports)})),t("55",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(56).FilterCSS,C=t(56).getDefaultWhiteList,T=t(61);var P=new w;function D(t){return t.replace(x,"&lt;").replace(E,"&gt;")}var x=/</g,E=/>/g,I=/"/g,M=/&quot;/g,O=/&#([a-zA-Z0-9]*);?/gim,A=/&colon;?/gim,R=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,B=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,U=/u\s*r\s*l\s*\(.*/gi;function L(t){return t.replace(I,"&quot;")}function H(t){return t.replace(M,'"')}function j(t){return t.replace(O,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function K(t){return t.replace(A,":").replace(R," ")}function q(t){for(var e="",n=0,i=t.length;n<i;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return T.trim(e)}function F(t){return q(t=K(t=j(t=H(t))))}function V(t){return D(t=L(t))}var z=/<!--[\s\S]*?-->/g;n.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},n.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},n.onTag=function(t,e,n){},n.onIgnoreTag=function(t,e,n){},n.onTagAttr=function(t,e,n){},n.onIgnoreTagAttr=function(t,e,n){},n.safeAttrValue=function(t,e,n,i){if(n=F(n),"href"===e||"src"===e){if("#"===(n=T.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===e){if(N.lastIndex=0,N.test(n))return""}else if("style"===e){if(B.lastIndex=0,B.test(n))return"";if(U.lastIndex=0,U.test(n)&&(N.lastIndex=0,N.test(n)))return"";!1!==i&&(n=(i=i||P).process(n))}return V(n)},n.escapeHtml=D,n.escapeQuote=L,n.unescapeQuote=H,n.escapeHtmlEntities=j,n.escapeDangerHtml5Entities=K,n.clearNonPrintableCharacter=q,n.friendlyAttrValue=F,n.escapeAttrValue=V,n.onIgnoreTagStripAll=function(){return""},n.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),i=[],a=!1;return{onIgnoreTag:function(o,r,s){if(function(e){return!!n||-1!==T.indexOf(t,e)}(o)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return i.push([!1!==a?a:s.position,u]),a=!1,c}return a||(a=s.position),"[removed]"}return e(o,r,s)},remove:function(t){var e="",n=0;return T.forEach(i,(function(i){e+=t.slice(n,i[0]),n=i[1]})),e+=t.slice(n)}}},n.stripCommentTag=function(t){return t.replace(z,"")},n.stripBlankChar=function(t){var e=t.split("");return(e=e.filter((function(t){var e=t.charCodeAt(0);return!(127===e||e<=31&&10!==e&&13!==e)}))).join("")},n.cssFilter=P,n.getDefaultCSSWhiteList=C})),t("56",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(57),C=t(58);for(var T in(n=e.exports=function(t,e){return new C(e).process(t)}).FilterCSS=C,w)n[T]=w[T];void 0!==r&&(r.filterCSS=e.exports)})),t("57",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){function w(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var C=/javascript\s*\:/gim;n.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},n.getDefaultWhiteList=w,n.onAttr=function(t,e,n){},n.onIgnoreAttr=function(t,e,n){},n.safeAttrValue=function(t,e){return C.test(e)?"":e}})),t("58",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(57),C=t(59);function T(t){return null==t}function P(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).whiteList=t.whiteList||w.whiteList,t.onAttr=t.onAttr||w.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||w.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||w.safeAttrValue,this.options=t}t(60),P.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,i=e.onAttr,a=e.onIgnoreAttr,o=e.safeAttrValue;return C(t,(function(t,e,r,s,c){var u=n[r],l=!1;if(!0===u?l=u:"function"==typeof u?l=u(s):u instanceof RegExp&&(l=u.test(s)),!0!==l&&(l=!1),s=o(r,s)){var d,p={position:e,sourcePosition:t,source:c,isWhite:l};return l?T(d=i(r,s,p))?r+":"+s:d:T(d=a(r,s,p))?void 0:d}}))},e.exports=P})),t("59",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(60);e.exports=function(t,e){";"!==(t=w.trimRight(t))[t.length-1]&&(t+=";");var n=t.length,i=!1,a=0,o=0,r="";function s(){if(!i){var n=w.trim(t.slice(a,o)),s=n.indexOf(":");if(-1!==s){var c=w.trim(n.slice(0,s)),u=w.trim(n.slice(s+1));if(c){var l=e(a,r.length,c,u,n);l&&(r+=l+"; ")}}}a=o+1}for(;o<n;o++){var c=t[o];if("/"===c&&"*"===t[o+1]){var u=t.indexOf("*/",o+2);if(-1===u)break;a=(o=u+1)+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||s():"\n"===c&&s()}return w.trim(r)}})),t("60",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){e.exports={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,a;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}})),t("61",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){e.exports={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,a;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}}})),t("62",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(61);function C(t){var e=w.spaceIndex(t);if(-1===e)var n=t.slice(1,-1);else n=t.slice(1,e+1);return"/"===(n=w.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function T(t){return"</"===t.slice(0,2)}var P=/[^a-zA-Z0-9_:\.\-]/gim;function D(t,e){for(;e<t.length;e++){var n=t[e];if(" "!==n)return"="===n?e:-1}}function x(t,e){for(;e>0;e--){var n=t[e];if(" "!==n)return"="===n?e:-1}}function E(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}n.parseTag=function(t,e,n){"use strict";var i="",a=0,o=!1,r=!1,s=0,c=t.length,u="",l="";t:for(s=0;s<c;s++){var d=t.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===r){if("<"===d){i+=n(t.slice(a,s)),o=s,a=s;continue}if(">"===d){i+=n(t.slice(a,o)),u=C(l=t.slice(o,s+1)),i+=e(o,i.length,u,l,T(l)),a=s+1,o=!1;continue}if('"'===d||"'"===d)for(var p=1,f=t.charAt(s-p);""===f.trim()||"="===f;){if("="===f){r=d;continue t}f=t.charAt(s-++p)}}else if(d===r){r=!1;continue}}return a<t.length&&(i+=n(t.substr(a))),i},n.parseAttr=function(t,e){"use strict";var n=0,i=[],a=!1,o=t.length;function r(t,n){if(!((t=(t=w.trim(t)).replace(P,"").toLowerCase()).length<1)){var a=e(t,n||"");a&&i.push(a)}}for(var s=0;s<o;s++){var c,u=t.charAt(s);if(!1!==a||"="!==u)if(!1===a||s!==n||'"'!==u&&"'"!==u||"="!==t.charAt(s-1)){if(/\s|\n|\t/.test(u)){if(t=t.replace(/\s|\n|\t/g," "),!1===a){if(-1===(c=D(t,s))){r(w.trim(t.slice(n,s))),a=!1,n=s+1;continue}s=c-1;continue}if(-1===(c=x(t,s-1))){r(a,E(w.trim(t.slice(n,s)))),a=!1,n=s+1;continue}}}else{if(-1===(c=t.indexOf(u,s+1)))break;r(a,w.trim(t.slice(n+1,c))),a=!1,n=(s=c)+1}else a=t.slice(n,s),n=s+1}return n<t.length&&(!1===a?r(t.slice(n)):r(a,E(w.trim(t.slice(n))))),w.trim(i.join(" "))}})),t("63",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(56).FilterCSS,C=t(55),T=t(62),P=T.parseTag,D=T.parseAttr,x=t(61);function E(t){return null==t}function I(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=C.onIgnoreTagStripAll),t.whiteList=t.whiteList||C.whiteList,t.onTag=t.onTag||C.onTag,t.onTagAttr=t.onTagAttr||C.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||C.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||C.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||C.safeAttrValue,t.escapeHtml=t.escapeHtml||C.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new w(t.css))}I.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,i=e.onTag,a=e.onIgnoreTag,o=e.onTagAttr,r=e.onIgnoreTagAttr,s=e.safeAttrValue,c=e.escapeHtml,u=this.cssFilter;e.stripBlankChar&&(t=C.stripBlankChar(t)),e.allowCommentTag||(t=C.stripCommentTag(t));var l=!1;e.stripIgnoreTagBody&&(l=C.StripTagBody(e.stripIgnoreTagBody,a),a=l.onIgnoreTag);var d=P(t,(function(t,e,l,d,p){var f,m={sourcePosition:t,position:e,isClosing:p,isWhite:n.hasOwnProperty(l)};if(!E(f=i(l,d,m)))return f;if(m.isWhite){if(m.isClosing)return"</"+l+">";var h=function(t){var e=x.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var n="/"===(t=x.trim(t.slice(e+1,-1)))[t.length-1];return n&&(t=x.trim(t.slice(0,-1))),{html:t,closing:n}}(d),g=n[l],v=D(h.html,(function(t,e){var n,i=-1!==x.indexOf(g,t);return E(n=o(l,t,e,i))?i?(e=s(l,t,e,u))?t+'="'+e+'"':t:E(n=r(l,t,e,i))?void 0:n:n}));return d="<"+l,v&&(d+=" "+v),h.closing&&(d+=" /"),d+">"}return E(f=a(l,d,m))?c(d):f}),c);return l&&(d=l.remove(d)),d},e.exports=I})),t("64",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w={type:"standard",contentList:[[{text:"根据您的咨询需求，已为您联通相应客服"}]]},C={type:"standard",contentList:[[{text:"根据您的咨询需求，已为您切换客服"}],[{text:"但当前客服不在线，如需帮助请留言，我们会及时回复"}]]},T={xyl:{robot:{title:"智能客服正在接待",text:"如需医生专业建议/专业医疗诊断，请到院咨询"},manual:{title:"院方客服正在接待",text:"如需医生专业建议/专业医疗诊断，请到院咨询"},switch:{success:{title:"院方客服正在接待",text:"如需医生专业建议/专业医疗诊断，请到院咨询"},fail:{text:"人工客服暂不在，智能客服继续为您服务"}}},zhidao:{robot:{title:"已为您接入智能客服服务",text:"为保证服务质量，聊天信息会被记录"},manual:{title:"已为您接入人工客服服务",text:"为保证服务质量，聊天信息会被记录"},switch:{success:{title:"已为您接入人工客服服务",text:"为保证服务质量，聊天信息会被记录"},fail:{text:"人工客服暂无法接待，智能客服继续为您服务"}}},default:{robot:{text:"智能客服正在接待"},manual:{text:"人工客服正在接待"},switch:{success:{text:"专家客服正在接待"},fail:{text:"人工客服暂不在，智能客服继续为您服务"}}}},P={ext_search_vertical_zhiliaohaoxue:"extSearchVerticalZhiliaohaoxue",ext_search_vertical_home_decoration:"extSearchVerticalHomeDecoration",zcm:"zcm",service_mall:"service_mall"},D={extSearchVerticalZhiliaohaoxue:{robot:{type:"standard",contentList:[[{text:"智能客服接待中，继续咨询代表您已经同意"},{text:"服务协议",linkType:"serviceAgreement",pageType:"serviceAgreement",type:"link",url:"https://ada.baidu.com/imsdk/agreement?type=service&ak=extSearchVerticalZhiliaohaoxue"},{text:"和"},{text:"隐私政策",linkType:"privacyAgreement",pageType:"privacyAgreement",type:"link",url:"https://ada.baidu.com/imsdk/agreement?type=privacy&ak=extSearchVerticalZhiliaohaoxue"}]]},manual:{type:"standard",contentList:[[{text:"您在知了好学小程序内的咨询，均由第三方客服对接并提供服务。请勿轻信他人索要银行账户、密码等行为，谨防上当受骗。继续咨询代表您已经同意"},{text:"《服务协议》",linkType:"serviceAgreement",pageType:"serviceAgreement",type:"link",url:"https://ada.baidu.com/imsdk/agreement?type=service&ak=extSearchVerticalZhiliaohaoxue"},{text:"和"},{text:"《隐私政策》",linkType:"privacyAgreement",pageType:"privacyAgreement",type:"link",url:"https://ada.baidu.com/imsdk/agreement?type=privacy&ak=extSearchVerticalZhiliaohaoxue"}]]},switch:{success:{type:"standard",contentList:[[{text:"人工客服接待中，请勿轻信他人索要银行账户、密码等行为，谨防上当受骗"}]]},fail:{type:"standard",contentList:[[{text:"人工客服暂不在，智能客服继续为您服务"}]]}}},extSearchVerticalHomeDecoration:{robot:{type:"standard",contentList:[[{text:"智能客服正在为您提供服务，您可以留下您的联系方式，店铺将尽快与您联系；您也可以通过店铺页的电话按钮直接联系店铺"}]]},manual:{type:"standard",contentList:[[{text:"您在装馨家平台内的咨询，均由第三方客服对接并提供服务。请勿轻信他人索要银行账号、密码、验证码等行为，谨防上当受骗。继续咨询代表您已经同意"},{text:"《免责声明》",linkType:"serviceAgreement",pageType:"serviceAgreement",type:"link",url:"http://jia.baidu.com/m/pages/statement/index?_=lz2rxsm48zh"}]]},switch:{success:{type:"standard",contentList:[[{text:"已为您转接人工客服；您在装馨家平台内的咨询，均由第三方客服对接并提供服务。请勿轻信他人索要银行账号、密码、验证码等行为，谨防上当受骗。继续咨询代表您已经同意"},{text:"《免责声明》",linkType:"serviceAgreement",pageType:"serviceAgreement",type:"link",url:"http://jia.baidu.com/m/pages/statement/index?_=lz2rxsm48zh"}]]},fail:{type:"standard",contentList:[[{text:"人工客服正忙，智能客服将继续为您提供服务，您也可以通过店铺页的电话按钮直接联系店铺"}]]}}},zcm:{robot:{text:"智能客服正在接待，古物潮玩提醒您，如有鉴定诉求，可在古物潮玩平台申请专业鉴定师鉴定"},manual:{text:"商家客服正在接待，古物潮玩提醒您，如有鉴定诉求，可在古物潮玩平台申请专业鉴定师鉴定"},switch:{success:{text:"商家客服正在接待，古物潮玩提醒您，如有鉴定诉求，可在古物潮玩平台申请专业鉴定师鉴定"},fail:{text:"人工客服暂不在，智能客服继续为您服务"}}},service_mall:{robot:{text:""},manual:{text:"商家人工客服正在接待"},switch:{success:{text:"商家人工客服正在接待"},fail:{text:""}}}};for(var x in P){var E=P[x];T[x]=D[E]}for(var I in T)T[I].changeIM||(T[I].changeIM=w,T[I].changeIMError=C);e.exports=T})),t("65",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){function w(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}w.prototype.encode=function(t,e){e=e||this._keyStr;var n,i,a,o,r,s,c,u="",l=0;for(t=this._utf8_encode(t);l<t.length;)o=(n=t.charCodeAt(l++))>>2,r=(3&n)<<4|(i=t.charCodeAt(l++))>>4,s=(15&i)<<2|(a=t.charCodeAt(l++))>>6,c=63&a,isNaN(i)?s=c=64:isNaN(a)&&(c=64),u=u+e.charAt(o)+e.charAt(r)+e.charAt(s)+e.charAt(c);return u},w.prototype.decode=function(t,e){e=e||this._keyStr;var n,i,a,o,r,s,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)n=e.indexOf(t.charAt(u++))<<2|(o=e.indexOf(t.charAt(u++)))>>4,i=(15&o)<<4|(r=e.indexOf(t.charAt(u++)))>>2,a=(3&r)<<6|(s=e.indexOf(t.charAt(u++))),c+=String.fromCharCode(n),64!==r&&(c+=String.fromCharCode(i)),64!==s&&(c+=String.fromCharCode(a));return this._utf8_decode(c)},w.prototype._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},w.prototype._utf8_decode=function(t){for(var e="",n=0,i=0,a=0,o=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(a=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&a),n+=2):(a=t.charCodeAt(n+1),o=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o),n+=3);return e};try{e.exports=w}catch(t){}})),t("66",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w={width:0},C={event:function(t,e){t.owner;var n=t.event,i=(n.detail,n.type),a=n.currentTarget.dataset;"load"===i&&"image"===a.tagName&&this.imageLoad(e,t)},findMessage:function(t,e){e=e||[];for(var n=0;n<e.length;n++){var i=e[n];if(i.message_id===t)return i}},findMessageIndex:function(t,e){var n=-1;e=e||[];for(var i=0;i<e.length;i++)if(e[i].message_id===t){n=i;break}return n},imageLoad:function(t,e){var n=e.owner,i=e.event,a=i.detail,o=(i.type,i.currentTarget.dataset.msgid),r=t.data.messageList,s=this.findMessage(o,r);if(s){var c=this;this.getMessageContentWidth(n,(function(e){a.width=a.width||200,a.height=a.height||160,a.width<e&&(e=a.width);var n=a.height/a.width;s.content.image_height=n*e,s.content.image_width=e,t.devCodeTool.run("setdata",(function(){var e="messageList["+c.findMessageIndex(o,r)+"]";t.setData(e,s)}),(function(){t.setData({messageList:r})}))}))}},getMessageContentWidth:function(t,e){w.width?e(w.width):(w.query||a.createSelectorQuery().in(t)).select(".message_content").boundingClientRect((function(t){var n=t.width;w.width=n,e(n)})).exec()}};e.exports=C})),t("67",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=null,C=!1,T=[];e.exports=function(t,e,n,i){var a=!0,o=null,r=new n(t);try{o=new e({miniProgram:t,method:"GET"},{baiduid:i.url.getBaiduIdUrl})}catch(t){}function s(e){if(T.push(e),!C){C=!0;var n=c((function(t){C=!1,T.forEach((function(e){e(t)})),T.length=0}),1e4);!function(e){var n=c(e,300);if(a)try{t.getCommonSysInfo({success:function(t){var e=t.baidu_id;n(e)},fail:function(t){202===t.errCode&&(a=!1),n()},complate:function(){n()}})}catch(t){n()}else n()}((function(t){t?n(t):w?n(w):o.request("baiduid",null,{onResult:function(){var t=r.getValue("BAIDUID");w=t,n(t)},onEnd:function(){n()}})}))}}function c(t,e){var n=0;e&&(n=setTimeout(a,e));var i=!1;function a(){i||(i=!0,clearTimeout(n),t.apply(null,arguments))}return a}this.getBaiduid=s,this.syncBaiduidCookie=function(t,e){var n=r.getValue("BAIDUID");return t?(t!==n&&r.addCookie("BAIDUID",t),void e(t)):n?void e(n):void s((function(t){r.addCookie("BAIDUID",t),e(t)}))}}})),t("68",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w;function C(t){var e="webview";switch(t){case"6005":case"6006":e="doctorDetail"}return e}Object.defineProperty(n,"__esModule",{value:!0}),(w=t(5))&&w.__esModule,n.default=Behavior({properties:{openType:Number,theme:{type:Object,value:{code:"unready"}}},methods:{passEvent:function(t){var e=t.detail,n=t.type;this.triggerEvent(n,e)},openPage:function(t,e,n,i){this.messages&&this.messages.sendUserAction?this.messages.openPage.call(this,{value:{url:t,needWebview:!1,pageType:e||C(n),linkType:i}}):this.dispatch("openPage",{url:t,needWebview:!1,pageType:e||C(n),linkType:i})},dial:function(t){this.messages&&this.messages.dial?this.messages.dial.call(this,{value:t}):this.dispatch("dial",t)},userAction:function(t){this.messages&&this.messages.sendUserAction?this.messages.sendUserAction.call(this,{value:t}):this.dispatch("sendUserAction",t)},sendMessageHandle:function(t){this.dispatch("sendMessage",t)},addMessage:function(t){this.dispatch("addMessage",t)},leaveWord:function(t){this.dispatch("leaveWord",t)},openMenu:function(){this.triggerEvent("openMenu",{menuType:"showHelp",menuValue:1})},popup:function(t){this.messages&&this.messages.showPopup?this.messages.showPopup.call(this,{value:t}):this.dispatch("showPopup",t)},sendSug:function(t){var e=t.value.value||"";this.sendMessageHandle({source:"user",type:"1",content_type:"text",content:e,contenttext:e,trigger:"sug",fromid:t.fromid||"",sourceTag:"sugRecommend"})},sugQa:function(t){var e=this,n=t.value.text||"",i=t.value.value||"";this.sendMessageHandle({source:"user",type:"1",content_type:"text",content:n,contenttext:n,trigger:"sug",fromid:t.fromid||"",sourceTag:"sugRecommend"}),"[object Object]"===Object.prototype.toString.call(i)&&"card"===i.type&&i.value&&this.asynAction({mat:JSON.stringify(i.value)}),"[object String]"===Object.prototype.toString.call(i)&&setTimeout((function(){var t="message_"+ +new Date;e.addMessage({type:"1",source:"service",content:i,content_type:"text",message_id:t,msgid:t,msgtime:(new Date).getTime(),tag:"sugRecommend",trigger:"sug",sourceTag:"sugRecommend"})}),500)},asynAction:function(t){this.messages&&this.messages.getAsyncCard?this.messages.getAsyncCard.call(this,{value:t}):this.dispatch("getAsyncCard",t)},cardLinkHandle:function(t){var e=t.type,n=t.value,i=void 0===n?{}:n;switch(e){case"textLinkItem":var a=i&&i.content&&i.content.value||i.content.text;if(i&&i.content&&i.content.remark&&i.content.remark.text){var o=i,r={title:"您还想问",text:o.content.remark.text,items:o.content.list||[]};this.sendMessageHandle({source:"user",type:"1",content_type:"text",content:a,contenttext:a,trigger:"card",fromid:o.fromid||"",sourceTag:"user-guess"});var s={type:"4007",cid:o.cid,source:"service",content:r,msgid:"message_"+ +new Date,msgtime:(new Date).getTime(),status:0,tag:"card_async",name:"linkscard"};s.message_id=s.msgid,this.addMessage(s)}else"string"==typeof a&&this.sendMessageHandle({source:"user",type:"1",content_type:"text",content:a,contenttext:a,trigger:"card",fromid:i.fromid||"",sourceTag:"user-guess-click"})}console.log("子链点击:",t)},cardClickHandle:function(t){this.dispatch("hideMenus");var e=t.cardType,n=void 0===e?0:e,i=t.type,a=t.value,o=void 0===a?{}:a,r=t.history,s=t.log,c=o.pageType,u=o.linkType,l=o.type,d=o.actionType,p=o.mat,f=void 0===p?{}:p,m=(o.text,o.value),h=void 0===m?"":m,g=o.content;!h&&g&&(h=g);var v={name:"ChatAction",payload:{type:i,value:Object.assign({},o),log:s}};"leaveWord"===i?(this.leaveWord(o),v.name="leaveWord"):"logKefuMsgStatus"===i&&(v.name="logKefuMsgStatus"),"popup"===l&&(v.payload.value.value=r),this.messages&&this.messages.sendlog?this.messages.sendlog.call(this,{value:v}):this.dispatch("sendlog",v);var y={type:i,value:o};if(this.userAction({history:r,actionParam:y,cardType:o.trackTag||("standardcard"===i?s&&s.material?s.material:n:o&&o.mat&&o.mat.cardType||n),log:s}),"async-popup"===l&&"async"===d)this.asynAction({cid:h,mat:f,popStatus:"popStatus"});else if("async"===d)this.asynAction({cid:h,mat:f});else if("sync"===d);else switch(l){case"url":this.openPage(h,c,n,u);break;case"tel":this.dial(h);break;case"moreNav":this.setData("showMore",!this.data.showMore);break;case"card":this.cardLinkHandle(t);break;case"menu":this.openMenu();break;case"popup":this.popup(h);break;case"client_msg":this.sendSug(t);break;case"sugQa":this.sugQa(t);break;case"track":this.addMessage({type:"8000",source:"system",content:{text:o.tips,tag:"track"}})}},imgload:function(t){this.dispatch("timeline",{timestamp:(new Date).getTime(),type:"imgload",ext:{src:t.currentTarget.dataset.src}})}}})})),t("69",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(21),C={lifetime:!0,setdata:!0};e.exports=function(t){function e(e){var n={};return t&&t.data&&(n=t.data.devTag||{}),C[e]||n[e]}this.run=function(t,n,i){n=n||function(){},i=i||function(){},e(t)?(w.showLog("DevCodeTool",t,"dev code run",n),n()):(w.showLog("DevCodeTool",t,"online code run",i),i())},this.isDev=e}})),t("70",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w=T(t(71)),C=T(t(72));function T(t){return t&&t.__esModule?t:{default:t}}var P=[new w.default,new C.default];n.default=Behavior({methods:{formatAction:function(t,e){for(var n=0;n<P.length&&!P[n].format(t,e);n++);return e}}})})),t("71",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w,C=(w=t(72))&&w.__esModule?w:{default:w};n.default=function(){var t=new C.default;this.format=function(e,n){return"card"===e&&"combined"===n.name&&(function(e,n){e&&e.length&&e.forEach((function(e,n){"standard"===e.name&&(e.combinedCardRank=n,t.format("card",e),e.actionData=null)}))}((n.content||{}).list),!0)}}})),t("72",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w,C=(w=t(73))&&w.__esModule?w:{default:w};n.default=function(){var t=new C.default;this.format=function(e,n){if("card"!==e||"standard"!==n.name)return!1;if(n.content){var i=n.content.bottom||{};t.format(i,n)}return!0}}})),t("73",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w=T(t(74)),C=T(t(75));function T(t){return t&&t.__esModule?t:{default:t}}n.default=function(){var t=new w.default,e=new C.default;this.format=function(n,i){if(n&&"brand"===n.name&&n.data){var a=n.data,o=a.brandRight;a.brandLeft,function(n,i){if(n&&n.action){var a=n.action,o=a.type;if("showUserCard"===o){var r={};for(var s in a)if("type"!==s){if("value"!==s)if("message"!==s)r[s]=a[s];else{var c=a[s];r.sendMessage={content:c,content_type:"card",source:"user",trigger:"card",card:a.value}}}else r[o]=a.value;a.message&&delete r[o];var u={type:"onClick"},l={actionTypes:["click"],action:r,log:{type:"user_send_card",tag:"fc_imlp",from:"imlp",content:e.cloneJson(i.log)},userAction:u};n.actionData=l;var d=t.findSubtitle(i);u.data={type:"card",ext:{tag:"xyl_history",history:'该访客在咨询页点击了标题为"'+d+'"的卡片/按钮',connected:1,from:"imlp"}}}}}(o,i)}}}})),t("74",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this.findSubtitle=function(t){var e=(t.content||{}).list||[],n="";return e.forEach((function(t){n||(t&&"subtitle"===t.type&&t.text?n=t.text:t&&"detailBase"===t.type&&t.info&&t.info.forEach((function(t){t&&"subtitle"===t.type&&t.text&&(n=t.text)})))})),n}}})),t("75",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this.cloneJson=function(t){try{return JSON.parse(JSON.stringify(t))}catch(t){}},this.mergeJson=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t}}})),t("76",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w,C=new(((w=t(77))&&w.__esModule?w:{default:w}).default);function T(t,e){t.sendlog("log",e)}function P(t,e,n){if(n&&e&&0===t.indexOf("video")){var i=n.video;if(!i)return;e.content=e.content||{},i.duration=i.duration||e.content.duration,C.mergeJson(e.content,i)}}n.default=Behavior({methods:{uiEventAction:function(t){var e=t.eventName;-1!==((t.actionData||{}).actionTypes||[]).indexOf(e)&&(function(t,e){e.eventName;var n=(e.actionData||{}).userAction;t.sendUserAction(n)}(this,t),function(t,e){var n=e.eventName,i=(e.actionData||{}).action||{},a=i[n]||i;a.imlpStart&&t.imlpStart(),a.showUserCard&&t.showUserCard(a.showUserCard),a.sendMessage&&t.sendMessage(a.sendMessage)}(this,t),function(t,e){var n=e.eventName,i=e.actionData||{},a=i.action||{},o=e.ext||{},r=C.cloneJson(i.log);if((!a[n]||a[n].log)&&(a[n]||r))if(a[n]){var s=a[n].log;s instanceof Array?s.forEach((function(e,i){var a=C.cloneJson(r);a=C.mergeJson(a,e),P(n,a,o),T(t,a)})):(r=C.mergeJson(r,s),P(n,r,o),T(t,r))}else P(n,r,o),T(t,r)}(this,t))}}})})),t("77",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this.cloneJson=function(t){try{return JSON.parse(JSON.stringify(t))}catch(t){}},this.mergeJson=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t}}})),t("78",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=t(31),T=t(19),P=t(20),D=t(16),x=t(67),E=(t(79),t(22),new P(a)),I=(new D,{}),M={},O={},A=new x(a,T,P,C);function R(t){var e=B(t);if(e)return e;var n=U(t),i=Date.now(),a=i+48e4;return I[n]={inputData:t,status:0,startTime:i,endTime:a},I[n]}function N(t,e,n){var i=R(t);return i.result=e,i.status=1,n&&(i.status=-1),i}function B(t){var e=U(t),n=I[e],i=Date.now();return n&&n.endTime&&n.endTime<i&&(delete I[e],n=null),n}function U(t){var e=[t.type||"",t.url||""];return t.xst&&e.push(t.xst),encodeURIComponent(e.join(""))}function L(t){var e=B(t),n=U(t),i=M[n];i&&e&&0!==e.status&&(M[n]=[],i.forEach((function(t){var n=t.callback;n&&n(e)})),M[n]=[],function(t){var e=U(t);delete I[e]}(t))}O.run=function(){},O.onData=function(t,e){var n=B(t);if(n){var i=U(t);M[i]=M[i]||[],M[i].push({inputData:t,callback:e}),n&&0!==n.status&&L(t)}else e({inputData:t,status:-2})},O.loadImlpData=function(t){!function(t){if(!B(t)){R(t);var e=function(t){var e=t.url,n={xst:t.xst},i=[];for(var a in n){var o=n[a];(o||0===o)&&i.push(a+"="+encodeURIComponent(o))}if(i.push("preload=1"),i=i.join("&")){var r=-1===e.indexOf("?")?"?":"&";e=e+r+i}return e}(t);A.syncBaiduidCookie(null,(function(n){new T({method:"GET",miniProgram:a},{pageData:e}).request("pageData",null,{onResult:function(e){N(t,e),L(t)},onError:function(){N(t,null,!0),L(t)}})}))}}(t)},O.addPrefetchData=function(t){if(t){var e={xst:t.xst,url:t.url},n=t.result;if(n||"object"===(void 0===n?"undefined":w(n))){var i=t.setCookie;E.headerSetCookie(i);var a=t.baiduid,o=E.getValue("BAIDUID");a&&a!==o&&E.addCookie("BAIDUID",a),N(e,n)}}},e.exports=O})),t("79",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(21),C=t(11),T=t(22),P=new function(){w.setData("aop",this);var t=!0,e=new C,n=null,i={openPage:0};try{App.after({methods:{onLogin:function(t){},onLaunch:function(t){!function(t){o(t);var i=n||{};e.emit("onAppLaunch",[i])}(t)},onShow:function(i){!function(i){o(i);var a=n||{};t?e.emit("appFirstShow",[a]):e.emit("appShow",[a]),t=!1}(i)},onHide:function(i){!function(i){t=!1,o(i);var a=n||{};e.emit("appHide",[a])}(i)},onError:function(t){},onPageNotFound:function(t){},onPrefetch:function(t){a(t)}}}),Page.after({methods:{onLoad:function(t){i.openPage++},onReady:function(t){},onShow:function(t){},onHide:function(t){},onUnload:function(t){},onForceReLaunch:function(t){},onPullDownRefresh:function(t){},onReachBottom:function(t){},onShareAppMessage:function(t){},onPageScroll:function(t){},onTabItemTap:function(t){},onURLQueryChange:function(t){}}})}catch(t){}function a(t){var n=(t=t||{}).path,i=t.query||{},a=t.state;if(i.url&&/^https?%3a%2f%2f/i.test(i.url))for(var o in i)i[o]=decodeURIComponent(i[o]||"");i.xst&&T.setXst(i.xst);var r={path:n,state:a,query:i};e.emit("onPrefetch",[r])}function o(t){n||(n=function(t){var e=t.args;if(e){var n={appId:e.appId,appLaunchScheme:e.appLaunchScheme,appURL:e.appURL,appid:e.appid,appname:e.appname,clkid:e.clkid,cuid:e.cuid,mtjCuid:e.mtjCuid,path:e.path,srcAppId:e.srcAppId,scene:e.scene},i=n.appLaunchScheme;if(i){var a=/^(.*):\/\/swan\/([^\/]+)([^\?]+)\??(.*)?/.exec(i),o=((a=a||[])[1],a[2]||""),r=a[3]||"",s=function(t){var e=t?t.split("&"):[],n={};if(e.forEach((function(t){var e=t.split("="),i=e[1]||"";n[e[0]]=decodeURIComponent(i)})),n.url&&/^https?%3a%2f%2f/i.test(n.url))for(var i in n)n[i]=decodeURIComponent(n[i]);return n}(a[4]);n.appKey=o,n.launchParams=s,n.launchPath=r,n.searchInfo={spid:s.spid},s.xst&&T.setXst(s.xst)}return n}}(t)),n&&!w.appInfo&&w.setData("appInfo",n)}this.onPrefetch=a,this.getAopData=function(){return i},this.on=function(t,n){e.on(t,n)}};e.exports=P})),t("81",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(20),C=t(19),T=t(67),P=t(31),D=t(82),x=null,E=t(36),I=t(29);Component({properties:{list:{observer:function(t,e){}}},myData:{},data:{showPopup:!1},methods:{imlpPopupEvent:function(t){var e=t.detail||{},n=e.type;if("unreadMessage"===n||"popupStateChange"===n){var i=this.data.sdk,a=this.myData.imlpKey;if(i.emitEvent(a,e.type,e.data),"popupStateChange"!==n)return}else{if("imlpState"===n)return this.myData.imlpState=e.data,void this.checkInvite();"popupLifetime"===n&&"created"===e.data&&this.initPopup()}this.triggerEvent("imlpCSdkEvent",{type:e.type,data:e.data})},setSmartInvite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.myData.smartInvite){this.myData.smartInvite=t;var e=t.list,n=void 0===e?[]:e,i=t.config,a=void 0===i?{}:i,o=a.isOpen;a.startInterval,o&&0!==n.length&&this.checkInvite()}},startSmartInvite:function(){var t=this,e=this.myData.smartInvite,n=e.list,i=void 0===n?[]:n,a=e.config,o=void 0===a?{}:a,r=o.rollInterval,s=o.startInterval,c=r;void 0===this.myData.smartInvite.rollIndex&&(c=s,this.myData.smartInvite.rollIndex=0),this.myData.smartInvite.startHandle=setTimeout((function(){var e=t.myData.smartInvite.rollIndex;e>=i.length||(t.myData.imlpPopup.showInvite({type:"smart",content:i[e].text}),t.myData.smartInvite.rollIndex+=1,t.startSmartInvite())}),1e3*c)},checkInvite:function(){var t=this.myData,e=t.smartInvite,n=void 0===e?{}:e,i=t.imlpState;n.list&&!n.started&&2===i&&(n.started=!0,this.startSmartInvite())},showPopup:function(){this.setData({showPopup:!0})},initPopup:function(){var t=this.myData.popupData,e=t.method,n=t.imlpData,i=t.imlpOptions,a=t.openType,o=this.selectComponent("imlpPopup");this.myData.imlpPopup=o;var r={pageParams:n,options:i};o&&o[e]&&o[e](r,a)},popupAction:function(t,e,n,i){this.myData.popupData={method:t,imlpData:e,imlpOptions:n,openType:i},this.data.showPopup?this.initPopup():this.showPopup()}},lifetimes:{created:function(){var t=this.selectComponent("imlpPopup");this.myData.imlpPopup=t,console.log("csdk created");var e="key"+Date.now();this.myData.imlpKey=e;var n=D(a,e);!function(t,e){t.sdkInit=t.init,t.init=function(e,n,i){n=n||{},x.syncBaiduidCookie(n.baiduid,(function(a){t.sdkInit(e,n,i)}))},function t(e,n){e.on("popupInit",(function(t,e,i){n.popupAction("initPopup",t,e,i)})),e.on("inviteMessage",(function(t){t&&t.content&&("string"==typeof t.content?n.myData.imlpPopup.showInvite({type:t.type,content:t.content}):t.content.length&&t.content.forEach((function(e){n.myData.imlpPopup.showInvite({type:t.type,content:e})})),n.myData.smartInvite&&clearTimeout(n.myData.smartInvite.startHandle))})),e.on("openIMByPopup",(function(t,e,i){n.popupAction("openIM",t,e,i)})),e.on("sdkDestroy",(function(){t(e,n)}))}(t,e)}(n,this),this.data.sdk=n,I.init();var i=null;I.then("newSdk",(function(){i=E})).online((function(){i=C})),x=new T(a,i,w,P),this.triggerEvent("imlpCSdkEvent",{type:"sdk",sdk:n})},attached:function(){console.log("csdk attached")},ready:function(){console.log("csdk ready")},detached:function(){console.log("csdk detached");var t=this.data.sdk;t&&t.destory(),this.myData.smartInvite&&clearTimeout(this.myData.smartInvite.startHandle)}},pageLifetimes:{show:function(){console.log("csdk show");var t=this.data.sdk;t&&t.run()},hide:function(){console.log("csdk hide");var t=this.data.sdk;t&&t.pause()}}})})),t("82",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){r=t(10);var w=t(11),C=t(16),T=t(83),P=t(86),D=(C=t(16),t(65)),x=(w=t(11),t(18)),E=t(87),I=new(t(30));function M(t,e,n,i){if(!n){var a=(t=t||{}).host||x.host,o=r.create(e),s=new T(e,o,a),c=I.getEnvInfo()||{},u=(I.getSystemInfo()||{}).version||"";I.compareVersion(u,"12.17.0.0"),n=new P(s,o,{EventEmitter:w,host:a,Util:C,Base64:D,sdkConfig:t.sdkConfig,isMiniProgram:!0,miniProgram:e,CSdkDataModel:E,config:x,imlpKey:i,appKey:c.appKey,appName:c.appName,hnSupport:!1})}return n}try{e.exports=function(t,e,n){var i=M(n,t,null,e),a={};return{init:function(t,e,n){var o=i.init(t,e,n);return function(t,e){if(t&&e)for(var n in t){var i=t[n];i.forEach&&i.forEach((function(t){e.on(n,t)})),delete t[n]}}(a,i),o},addIM:function(e,n){return(i=M(null,t,i)).addIM(e,n)},track:function(t,e){i&&i.track(t,e)},isReady:function(){if(i)return i.isReady()},on:function(t,e){i?i.on(t,e):function(t,e,n){t&&(t[e]||(t[e]=[]),t[e].push(n))}(a,t,e)},openIM:function(t,e,n){i&&i.openIM(t,e,n)},pause:function(){i&&i.pause()},run:function(){i&&i.run()},reset:function(){i&&i.reset(),i=null},isInit:function(){return!!i&&i.isInit()},destory:function(){if(i){var t=i;i=null,t.destory()}},emitEvent:function(t,e,n){if(i)return i.emitEvent(t,e,n)}}}}catch(t){}})),t("83",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(36))&&w.__esModule?w:{default:w};r=t(10);var T=t(84),P=t(16),D=t(19),x=t(15),E=t(23),I=t(14),M=t(65),O=t(85),A=t(21),R=t(29);try{e.exports=function(t,e,n){R.init();var i=r.create(t),a=null,o=null;R.then("newSdk",(function(){o=C.default})).online((function(){o=D})),this.init=function(r,s){a=new T(i,{FetchData:E,EntrySite:x,Request:o,Util:P,Callback:I,Base64:M,sdkWindow:e,IImlpSdk:O,miniProgram:t,isMiniProgram:!0,host:n||"",params:{wsid:A.wsid},wsid:A.wsid})},this.getWindow=function(){return i},this.reset=function(){a.reset(),a=null}}}catch(t){}})),t("84",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};try{e.exports=function(t,e){var n=(e=e||e).FetchData,i=e.EntrySite,a=e.Request,o=e.Util,r=e.Callback,s=e.Base64,c=e.isMiniProgram,u=e.host,l=u.replace(/^https?:\/\//,""),f=e.sdkWindow,m=e.IImlpSdk,h=e.miniProgram,g=e.params||{},v=e.wsid||"",y=new s,b=new o(t),S="imlp_csdk_paramsdata",k="imlp_csdk_trackkey",_=[S,v].join("_"),C=[k,v].join("_"),T=!1;b.trycatch((function(){!function(t,e){for(var n=b.trycatch((function(){if(h)return(h.getStorageInfoSync()||{}).keys;for(var t=p.length||0,e=[],n=0;n<t;n++)e.push(p.key(n));return e}))||[]||[],i=0;i<n.length;i++){var a=n[i],o=!1;b.eachArray(t,(function(t){t===a&&(o=!0)})),o||b.eachArray(e,(function(t){0===a.indexOf(t)&&X().removeItem(a)}))}}([_,C],[S,k])}));var P=[],D=[],x=!1,E=null,I=function(t){var e=!1;try{var n=t.location.href;e=b.isImlpUrl(n,l)}catch(t){}return e}(t.top),M=null;if(!c){var O={ios:{},android:{sogou:!0}},A=b.getBrowser(d.userAgent);O[A.os]&&O[A.os][A.browser]&&(x=!0,E="local")}var R={entrySite:u+"/imlp-message/track/start",fetch:u+"/imlp-message/heartbeat"};for(var N in R)R[N]+="?wsid="+encodeURIComponent(g.wsid||"");$.prototype=new m,$.prototype.constructor=$;var B,U=new $,L=(B={},function(t){var e={messageList:[],messageIds:[]};t=t||[];for(var n=0;n<t.length;n++)try{var i=JSON.parse(t[n]),a=i.message_id;if(B[a])continue;B[a]=a,e.messageList.push(i),e.messageIds.push(a)}catch(t){}return e}),H=new r(this,{entrySite:{onResult:function(t){if(t){var e=t.autoInvite,n=t.feature||{};e&&(n.abTest,n.pvKey,W({type:"invite",data:{inviteType:"auto",data:e,abTest:n.abTest}}))}}},fetch:{onResult:function(t){if(t){var e=t.talk||{},n=t.invite||{},i=t.feature||{};if(n.content&&n.content.length&&(n.level1,n.level2,n.level3,n.imType,i.abTest,i.pvKey,W({type:"invite",data:{inviteType:"manual",data:{content:n.content,imType:n.imType,level1:n.level1,level2:n.level2,level3:n.level3},abTest:i.abTest}})),e.unread){var a=L(e.message);W({type:"event",data:{eventName:"unreadMessage",data:{count:e.unread,unread:a.messageList,abTest:i.abTest}}})}}}}});function j(){M&&M.stop()}function K(){var t=encodeURIComponent(P.join(",")),e=encodeURIComponent(D.join(",")),n=-1===R.fetch.indexOf("?")?"?":"&";return R.fetch+n+"userid="+t+"&appid="+e}function q(t){if(b.isImlpUrl(t,l)){var e=b.parseUrl(t).params.cdata;try{return b.parseCData(e,y)}catch(t){}}}function F(t){var e=V();(e=function(t){if(!t)return t;if(t.openImUrl){var e=b.parseUrl(t.openImUrl.data);e.removeParam("cdata"),e.addParam("rebound","1"),e.addParam("storage",E),t.openImUrl.data=e.url}return t}(e))?(!t&&c&&delete e.openImUrl,W({type:"param_data",data:e})):W({type:"param_data",data:{}})}function V(){var t=Q(_,!0);if(t){var e=(new Date).getTime(),n=!1;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];"object"===(void 0===a?"undefined":w(a))?e-(a.timestamp||0)>36e5&&(n=!0,delete t[i]):(delete t[i],n=!0)}return n&&J(_,t),t}}function z(t){if(t){var e=V()||{},n=!1;b.eachArray(t,(function(t,i){e[t]&&(delete e[t],n=!0)})),n&&J(_,e)}}function G(t){(t=(t=t||"").replace(/#.*$/,""))&&!b.isChargeLink(t)||z(["openImUrl"]);var e=!1;if(b.isImlpUrl(t,l)){if(-1===t.indexOf("cdata="))return void z(["openImUrl"]);var n=q(t);if(!n||!n.ssid)return;e=!0,Y("openImUrl",t)}F(e)}function W(t){t.from="track_page",t.validate="";try{f.postMessage(t,"*")}catch(t){return!1}return!0}function Y(t,e,n){if(t&&e){var i=n||(new Date).getTime(),a=Q(_,!0)||{};if(!(a[t]&&a[t].timestamp>i)){var o={data:e,timestamp:i};return a[t]=o,J(_,a)}}}function J(e,n){try{var i=n;"object"===(void 0===n?"undefined":w(n))&&(i=b.JSON.stringify(n)),x?t.localStorage.setItem(e,i):t.sessionStorage.setItem(e,i)}catch(t){return!1}return!0}function Q(e,n){var i=null;try{i=x?t.localStorage.getItem(e):t.sessionStorage.getItem(e),n&&(i=b.JSON.parse(i))}catch(t){i=null}return i}function X(){return x?t.localStorage:t.sessionStorage}function $(){var t=null,e=null,n=null,i=0;this.setImType=function(t){i=t},this.getImType=function(){return i},this.setSsid=function(e){t=e},this.getSsid=function(){return t},this.getImData=function(){return{imParam:e,visitParam:n}},this.setImParam=function(t){e=t},this.visitParam=function(t){n=t},this.getData=function(){var e=n||{};return{aduserid:e.aduserid,ssid:t,imType:i,wsid:g.wsid,pvKey:e.pvKey}}}t.addEventListener("message",(function(e){var s=e.data;if(s&&"sdk"===s.from){var u=s.data;"save_track"===s.type?function(t){if(t&&t.trackData){var e=(new Date).getTime(),n=Q(C,!0);n&&e-36e5>(n.timestamp||0)&&(n=null),n&&n.data&&!t.isFullTrack||(n={timestamp:e,data:[]}),t.trackData instanceof Array?n.data.push.apply(n.data,t.trackData):n.data.push(t.trackData),J(C,n)?W({type:"save_track_success",data:{id:t.id}}):W({type:"save_track_error",data:{id:t.id}})}}(u):"save_data"===s.type?Y(u.type,u.data,u.timestamp):"entry_site"===s.type?function(e){if(!T||e.isAppendIM){var s=b.isMiniProgramIframe(e.url,l),u=e.referrer;G(u),s&&G(e.url);var d=q(u);if(!d&&!c){var p=V()||{};p&&p.openImUrl&&p.openImUrl.data&&(d=q(p.openImUrl.data))}var f=null,m=!1;if(1===e.openType&&d&&!d.ssid&&(d=null),d)m=d.ssid,U.setSsid(d.ssid),U.setImType(d.imType),f={url:e.url,xst:e.xst,pagetitle:e.pagetitle,appKey:e.appKey,appName:e.appName,cuid:e.cuid,imData:{im:{imParam:{appid:d.appid,ucid:d.ucid,channel:d.channel,im_type:d.imType,level1:d.level1,level2:d.level2,level3:d.level3}}}};else{if(!e.imData)return;f=e}if(T=!0,f&&f.imData)for(var v in f.imData){var y=(f.imData[v]||{}).imParam;y&&y.ucid&&S(y.ucid),y&&y.appid&&D.push(y.appid)}f&&(f.wsid=g.wsid),m||new i(f,R,H,r,{miniProgram:h,Util:o},a,t).entry(),M?M.addOrReplaceApi("fetch",K()):((M=new n(U,R,H,r,{fetchDelay:1e4,timeoutDelay:2e4,miniProgram:h,formatParamsFn:function(t){return(t=t||{}).main&&delete t.main.noHeartBeat,t.invite=!0,e&&e.imData&&(t.invite=!(0===parseInt(e.imData.inviteSwitch,10))),t.talk?(t.talk.action="preview",t):t}},a,t)).addOrReplaceApi("fetch",K()),M.start())}function S(t){for(var e=0;e<P.length;e++)if(P[e]===t)return;P.push(t)}}(u):"set_params"===s.type||("remove_params"===s.type?z(u):"run"===s.type?M&&M.start():"pause"===s.type&&j())}})),W({type:"load",data:{key:"{{data}}",storage:E,topIsImlp:I}}),F(),this.reset=function(){j()}}}catch(t){}})),t("85",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(){this.getSsid=function(){},this.getImType=function(){},this.isInit=function(){return!1},this.isConnect=function(){return!1},this.isConnectting=function(){return!1},this.init=function(t,e,n){},this.connect=function(){},this.send=function(t){},this.leaveWord=function(t){},this.disconnect=function(){},this.getHistory=function(){},this.sendUserState=function(t){},this.getAsyncCard=function(t){},this.on=function(t,e){},this.off=function(t,e){},this.resetFreeTime=function(){},this.getImData=function(){},this.sendUserAction=function(){}}}catch(t){}})),t("86",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};try{e.exports=function(t,e,n){var i=this,a=(n=n||{}).sdkConfig||{},o=n.config,r=n.EventEmitter,c=n.isMiniProgram||!1,u=n.miniProgram,p=n.Util,f=n.Base64,m=n.host||a.host||"",h=n.CSdkDataModel,g=n.imlpKey||(new Date).getTime(),v=new f,y=new p(e),b=new r,S=new h(e,y,o),k={},_={},C=!1,T=N(),P=!1,D=null,x=null,E=null,I=null,M=null,O=null,A={},R=null;function N(){return{innerKey:"key"+(new Date).getTime(),defImKey:null,defImRun:!1}}!function(){try{if(!c){A.url=l.href,A.referrer=s.referrer,A.title=s.title,A.userAgent=d.userAgent;var t=y.parseUrl(A.referrer).params;t.xst&&(R={data:t.xst,timestamp:(new Date).getTime()})}}catch(t){}}();var B,U=!1;function L(e){return!(!P||!t.getWindow()||(e=e||{},y.trycatch((function(){e.from="sdk",e.validate="",t.getWindow().postMessage(e,"*")})),0))}function H(t,e){O=O||{};var n=S.filterImData(O,t);for(var i in t)O[i]||(O[i]=t[i]);return V(n,!0),K(e),n}function j(t,e){var n=(e=e||{}).openType||{};return 1===t.openType&&(W("openIMByPopup",[t,{host:m},n]),!0)}function K(t){T.defImKey||(T.defImKey=t),T.defImKey&&(t=T.defImKey,y.trycatch((function(){var e=M||{};if(t&&O&&O[t]&&!T.defImRun){T.defImRun=!0;var n=e.openType;n&&1===n.type&&["small","open"].indexOf(n.initState)>=0&&i.on("ready",(function(){i.openIM(t,null,null,{innerKey:T.innerKey,popupInit:n.initState})}))}})))}function q(){P=!1,C=!1,T=N(),b.offAll(),t.reset()}function F(){L({type:"pause",data:null})}function V(t,e){var n=M?M.xst:null,a=S.getEntrySiteParams(A,t,n,e);M&&(a.referrer=M.imlpUrl||M.referrer);var o=y.getValue(M,"openType.type")||y.getValue(M,"openType")||0;a.openType=o,M&&c&&(a.appName=M.appName,a.appKey=M.appKey,a.cuid=M.cuid),i.on("ready",(function(){a.xst&&L({type:"save_data",data:{type:"xst",data:n}}),L({type:"entry_site",data:a})}))}function z(t,i,a){if(a=a||{},"number"!=typeof i&&(i=200),c)!function(t,e){n.hnSupport?function(t,e,n){e=e||function(){},n=n||function(){},u.openBdboxWebview({module:"imChatHN",action:"entry",parameters:{url:t},success:function(t){e()},fail:function(){n()}})}(t,null,(function(){G(t,e)})):G(t,e)}(t,a);else{var o=A.userAgent||"",r=e.swan,s=-1!==o.indexOf("swan-baiduboxapp");if(r&&r.webView&&s&&a.imlpPath)try{0===t.indexOf("//")&&(t="https:"+t),r.webView.navigateTo({url:a.imlpPath+"?url="+encodeURIComponent(t),fail:function(){(e.top||e).location.href=t}})}catch(t){}else setTimeout((function(){(e.top||e).location.href=t}),i)}}function G(t,e){u&&e.imlpPath?u.navigateTo({url:e.imlpPath+"?url="+encodeURIComponent(t)}):W("openIM",[{url:t}])}function W(t,e){b.getEvents(t)?b.emit(t,e):k[t]=[e]}e.addEventListener("message",(function(t){var n=t.data;if(n){var i=n.from;"track_page"===i?function(t){var n=t.type,i=(t.from,t.data);if("load"===n)D=i.storage,U=i.topIsImlp,P=!0,e.parent!==e.self&&y.trycatch((function(){e.parent.postMessage({type:"sdk_init",validate:"",from:"sdk"},"*")})),R&&L({type:"save_data",data:{type:"xst",data:R.data}}),W("ready");else if("param_data"===n)E=i.xst,I=null,i.openImUrl&&i.openImUrl.data&&(I=i.openImUrl.data);else if("event"===n){W(i.eventName,[i.data])}else if("invite"===n){var a=i.inviteType,o=y.createOneKey("invite");i.data.key=o;var r={key:o,type:a,content:i.data.content||"",delay:i.data.delay||"",abTest:i.abTest};_[a]=i.data,W("inviteMessage",[r])}}(n):"parent"===i&&function(t){var e=t.type,n=(t.from,t.data);"hide_dom"===e&&function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)n(s.querySelectorAll(t[e]));function n(t){for(var e=0;e<t.length;e++)t[e].style.display="none"}}(n)}(n)}})),this.isReady=function(){return P},this.on=function(t,e){t&&e&&("ready"===t&&P?e():b.on(t,e),function(t){if(k[t]){var e=k[t];y.eachArray(e,(function(e){W(t,e)})),k[t]=null,delete k[t]}}(t))},this.init=function(t,e,n){if(!t||!e)return!1;if(C)return H(t,n),!1;!function(t){if(t=t||{},c)y.mergeJson(A,t);else for(var e in t)A[e]=t[e]||A[e];if(!R){var n=y.parseUrl(A.referrer).params;n.xst&&(R={data:n.xst,timestamp:(new Date).getTime()})}}(e),e=e||{};try{e=JSON.parse(JSON.stringify(e))}catch(t){}return O=t,M=e,V(t),C=!0,K(n),!0},this.addIM=H,this.track=function(t,e){var n=S.findTrackXST(t);return n&&!R&&L({type:"save_data",data:{type:"xst",data:(x=n).data,timestamp:x.timestamp}}),L({type:"save_track",data:{id:(new Date).getTime(),isFullTrack:!!e,trackData:t}})},this.openIM=function(t,a,o,r){if(U&&e.self!==e.top)!function(t,e){try{t.postMessage({type:"openIM",from:"sdk"},"*")}catch(t){}}(e.top);else{if(!this.isReady()||!t)return!1;if(!I&&"string"==typeof t)return function(t,e,n,a){if(O){var o=O[t]||{},r=y.mergeObject(o.visitParam,e),s=y.mergeObject(o.options,n);i.openIM(o.imParam,r,s,a)}}(t,a,o,r);t=t||{},a=a||{},o=(o=y.mergeJson(o,M,!0))||{};var s,c=S.getXST(a.xst,R,x,E,o),u=a.ext;u&&(u.url=A.url,L({type:"save_data",data:{type:"ext",data:u}})),a&&a.material&&(s=a.material);var l={};if(u){var d=u.question;d&&("去咨询更多问题"!==d&&(l.preset_message='我想咨询"'+d+'"'),(d.indexOf("？")>-1||d.indexOf("?")>-1)&&(l.preset_message=d)),u.disease&&(l.preset_message="我想咨询一下"+u.disease),u.doctor&&(l.preset_message="我想咨询一下"+u.doctor+"大夫的情况");var p=u.init_cards;p instanceof Array&&p.length&&(l.init_cards=p);var f=u.init_msg;f&&(l.preset_input={message:f.msg||"",action:f.type||""})}var h=o&&o.theme||M&&M.theme;h&&(l.theme=h);var g,b=t.fid,k=t.ch,C=t.zjopen,P={url:"",urlParams:null,appName:o.appName,appKey:o.appKey,referrer:A.url||o.url,cuid:o.cuid,title:o.title,scene:o.scene,openType:o.openType},N=!1;if(r&&r.innerKey===T.innerKey&&(N="popup"===function(){var t="page",e=(M||{}).openType;return!e||1!==e&&1!==e.type||(t="popup"),t}()&&r.popupInit),o.openType&&"object"===w(o.openType)&&o.openType.type&&(P.openType=o.openType.type),I){var B=y.parseUrl(I);return b&&B.addParam("fid",b),k&&B.addParam("ch",k),C&&B.addParam("zjopen",C),o.jointExpTag&&"string"==typeof o.jointExpTag&&B.addParam("bmw",o.jointExpTag),P.url=B.url,N?void W("popupInit",[P,{host:m},o.openType]):void(j(P,o)||z(B.url,null,o))}var H=t.appid||"xyl_cip",K=t.channel,q=t.imlpAccessId;l.appid=H,l.appKey=n.appKey,l.appName=n.appName,l.ucid=t.ucid,l.clientSource=t.clientSource,l.channel=K,l.imlpAccessId=q,l.im={level1:t.level1,level2:y.filterEmptyStr(t.level2),level3:y.filterEmptyStr(t.level3),im_type:t.im_type};var F=t.inviteType;if("smart"===F)l.inviteType=F,l.inviteData=t.inviteText||"";else if("manual"===F&&_[F]){var V=_[F];l.inviteType=F,l.inviteData=V.content,l.im={level1:V.level1,level2:y.filterEmptyStr(V.level2),level3:y.filterEmptyStr(V.level3)},l.im.im_type=V.imType}else _[F]&&(V=_[F],l.inviteType=F,l.inviteData=V.content);l.detain=a.detain,g=y.JSON.stringify(l);var G={};if(t.imid)G.imid=t.imid;else if(t.imUrl){var Y=y.parseUrl(t.imUrl).params;Y.imid&&(G.imid=Y.imid)}G.config=v.encode(g),G.from="sdk",b&&(G.fid=b),k&&(G.ch=k),C&&(G.zjopen=C),c&&(G.xst=c),D&&(G.storage=D),o.jointExpTag&&"string"==typeof o.jointExpTag&&(G.bmw=o.jointExpTag);var J="";s&&s.params&&(J="com",s.key&&(G.key=s.key),G.params=s.params);var Q=y.jsonClone(G);Q.config=l;var X=S.createUrlParam(G),$=m+"/imlp/"+J+"?"+X;P.url=$,P.urlParams=Q,N?W("popupInit",[P,{host:m},o.openType]):j(P,o)||z($,null,o)}},this.reset=q,this.pause=F,this.run=function(){L({type:"run",data:null})},this.isInit=function(){return C},this.destory=function(){var t=b.getEvents("sdkDestroy")||[];F(),q(),t.forEach((function(t){t.apply(null)}))},this.emitEvent=function(t,e,n){t===g&&("unreadMessage"!==e&&"popupStateChange"!==e||W(e,[n]))},c||i.on("ready",(function(){L({type:"entry_site",data:S.getEntrySiteParams(A)})})),B="key"+(new Date).getTime(),t.init(e,{isMiniProgram:c,miniProgram:u,host:m,params:{trackKey:B}})}}catch(t){}})),t("87",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){try{e.exports=function(t,e,n){function i(t){for(var e in t=t||{}){var n=t[e],i=n.visitParam||{};if(i.xst)return i.xst;var a=n.options||{};if(a.xst)return a.xst}return null}this.getEntrySiteParams=function(n,a,o,r){var s=t.screen.availWidth,c=t.screen.availHeight,u=e.parseUrl(n.referrer).params||{};o=o||u.xst||i(a);var l={pagetitle:n.title,url:n.url,dpi:s+"x"+c,referrer:n.referrer,isAppendIM:r,xst:o};return a&&(l.imData=a),l},this.findXstByImData=i,this.getXST=function(t,e,i,a,o){if(t)return t;if(o&&o.xst)return o.xst;var r=null,s=(new Date).getTime(),c=[];return e&&c.push(e),i&&c.push(i),a&&c.push(a),c.sort((function(t,e){return e.timestamp-t.timestamp})),c[0]&&s-c[0].timestamp<n.clientSdkDataTimeout&&(r=c[0].data),r},this.filterImData=function(t,e){t=t||{};var n={};for(var i in t){var a=c((r=t[i]||{}).imParam||{});n[a]=a}var o=null;for(var i in e){var r=e[i]||{};t[i]||s(r)||((o=o||{})[i]=e[i])}function s(t){var e=c((t=t||{}).imParam||{});return n[e]}function c(t){return[(t=t||{}).level1||"",t.level2||"",t.level3||"",t.im_type||""].join("_")}return o},this.createUrlParam=function(t){t=t||{};var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},this.findTrackXST=function(t){var n=null;if(t instanceof Array)for(var i=0;i<t.length;i++){var a=o(t[i]);a&&(n?a.timestamp>n.timestamp&&(n=a):n=a)}else n=o(t);if(n)return n;function o(t){if("page_entry"===t.type){var n=t.timestamp,i=t.payload.refer,a=e.parseUrl(i);if(a.xst)return{data:a.xst,timestamp:n}}}}}}catch(t){}})),t("89",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{list:Array,more:Array},data:{showMore:!1},methods:{navClick:function(t){var e=t.currentTarget.dataset.index,n=this.data.list[e];this.cardClickHandle({type:"navigation",value:n,history:n.text})},moreClick:function(t){var e=t.target.dataset.index,n=this.data.more[e];this.cardClickHandle({type:"navigation",value:n,history:n.text}),this.setData("showMore",!this.data.showMore)}},lifetimes:{attached:function(){console.log(this.list)}}})})),t("91",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=P(t(92)),C=P(t(93)),T=P(t(68));function P(t){return t&&t.__esModule?t:{default:t}}t(66),Component({behaviors:[T.default,w.default,C.default],messages:{imgload:function(t){this.dispatch("imgload",t.value)}},properties:{},data:{messageList:[],messageShowList:[],userAvatar:"",serviceAvatar:""},methods:{methods:function(t){}},lifetimes:{attached:function(){}}})})),t("92",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=Behavior({methods:{passEvent:function(t){var e=t.detail,n=t.type;this.triggerEvent(n,e)}}})})),t("93",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=Behavior({methods:{scrollToMessage:function(t){var e=this.data.domid;t&&"scrollToMessage"===t.type&&t.detail&&t.detail.msgId&&(e=t.detail.msgId),e?this.dispatch("scrollToMessage",{msgId:e}):this.triggerEvent("scrollToMessage",{msgId:e})}}})})),t("95",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{number:String},data:{direction:"right",left:null,top:null},lifetimes:{attached:function(){var t=this;this.touch=!1,this.startX=-1,this.startY=-1,this.offsetX=-1,this.offsetY=-1,this.minLeft=-9999,this.maxLeft=9999,this.minTop=-9999,this.maxTop=9999,a.getSystemInfo({success:function(e){t.windowWidth=e.windowWidth,t.windowHeight=e.windowHeight}}),a.createSelectorQuery().in(this).select(".imlp_app_phoneicon").boundingClientRect((function(e){t.eleWidth=e.width,t.eleHeight=e.height,void 0!==e.top&&(t.eleTop=e.top)})).exec()}},methods:{clickHandle:function(t){this.cardClickHandle({type:"phoneModal",history:"电话浮窗",value:{type:"tel",value:this.data.number}})},start:function(t){var e=t.touches[0];this.touch=!0,this.startX=e.clientX,this.startY=e.clientY,this.offsetX=t.target.offsetLeft,this.offsetY=t.target.offsetTop,!this.rangeSetted&&this.eleWidth&&this.windowWidth&&(this.minTop=this.offsetY-this.eleTop,this.maxTop=this.offsetY+this.windowHeight-this.eleTop-this.eleHeight,this.minLeft=0,this.maxLeft=this.windowWidth-this.eleWidth,this.rangeSetted=!0)},refreshUi:function(t){var e=t.clientX-this.startX,n=t.clientY-this.startY,i=this.offsetX+e,a=this.offsetY+n;a<this.minTop&&(a=this.minTop),a>this.maxTop&&(a=this.maxTop),i<this.minLeft&&(i=this.minLeft),i>this.maxLeft&&(i=this.maxLeft),a+="px;",i+="px;",this.setData({left:i,top:a}),this.direction=t.clientX<this.windowWidth/2?"left":"right"},move:function(t){if(this.touch){var e=t.touches[0];this.refreshUi(e)}},end:function(t){this.touch=!1,this.setData({left:"",direction:this.direction})}}})})),t("97",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{data:Object,unreadNum:{type:Number,value:0},preventTouchMove:{type:Boolean,value:!1}},data:{},methods:{hide:function(){this.dispatch("hidePopup")},stop:function(){console.log(1111)},scroll:function(){this.hide(),this.dispatch("scrolltolower")},setTouchMove:function(){this.outerHeight&&this.innerHeight&&this.innerHeight-this.outerHeight<2&&this.setData({preventTouchMove:!0})}},lifetimes:{attached:function(){var t=this,e=a.createSelectorQuery().in(this);e.select(".popup-content").boundingClientRect((function(e){t.outerHeight=e.height,t.setTouchMove()})).exec(),e.select(".popup-inner").boundingClientRect((function(e){t.innerHeight=e.height,t.setTouchMove()})).exec(),console.log("popup",this.data)}}})})),t("99",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=C(t(68));function C(t){return t&&t.__esModule?t:{default:t}}function T(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var P=new(C(t(16)).default);Component({behaviors:[w.default],properties:{inputSuggest:{type:Object,value:{},observer:function(t,e){this.compute(t)}},robot:{type:Boolean,value:!1,observer:function(t,e){this.compute()}},openType:Number},data:{dynamics:[],static:[]},methods:{compute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=t||{},this.hideQuestions=this.hideQuestions||[];for(var e=t.dynamic||P.getValue(this.data,"inputSuggest.dynamic",[]),n=t.static||P.getValue(this.data,"inputSuggest.static",[]),i=this.data.robot,a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)this.hideQuestions.indexOf(e[a][o].id)>-1&&(e[a][o].clicked=!0);this.setData({dynamic:e}),i?this.setData({static:[].concat(T(n),[{type:"text",text:"转人工",value:"转人工"}])}):this.setData({static:n})},onClick:function(t){var e=t.currentTarget.dataset,n=e.type,i=e.index,a=e.dynamic,o=e.question,r=null;if("dynamic"===n){var s=this.data.inputSuggest.dynamic[a][o];r=s.suggest_reply[i],this.hideQuestions.push(s.id),this.compute(),this.dispatch("sendlog",{name:"logInputSug",payload:{content:r.reply_id,type:"send"}})}else"static"===n&&(r=this.data.static[i]);var c=r.text;"text"===r.type?(r.type="client_msg",r.trackTag="sugQa"):"qa"===r.type?(r.type="sugQa",r.trackTag="sugQa"):"track"===r.type&&(c=r.value),this.cardClickHandle({type:"sugSlider",value:r,history:c})}},attached:function(){this.compute()}})})),t("101",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({myData:{},data:{type:null,options:null,btnClassName:null,button:{text:""}},properties:{options:{observer:function(t,e){this.updateOptions(t)}}},methods:{updateOptions:function(t){var e=this.data.type,n=function(t,e){var n={},i=t.myData.options;if(i)for(var a in e){var o=e[a];i[a]!==o&&(i[a]=o,n[a]=o)}else t.myData.options=e,n=e;return n}(this,t),i=null;if("newMessage"===e)for(var a in n){var o=n[a];"text"===a?this.setData("button.text",o):"direction"===a&&"down"===o&&(i=i||[]).push("imlp_button_new_message_down")}i&&this.setData("btnClassName",i.join(" "))},buttonEvent:function(t){var e=t.type,n=(t.changedTouches||[])[0];this.triggerEvent("imlpButtonEvent",{type:e,data:n})}},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}}})})),t("103",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{text:String,url:String},methods:{handleClick:function(t){this.cardClickHandle({type:"notification",cardType:"8000",value:{type:"url",value:this.data.url,pageType:"baozhang"}})}}})})),t("105",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(106))&&w.__esModule?w:{default:w},T=null,P=0,D=0,x=0,E=0,I=0;function M(t){T||function(){if(T)return T;try{var t=a.getSystemInfoSync();t instanceof Error||(P=(T=t).windowHeight,D=T.windowWidth)}catch(t){}}(),x=.925*P,E=.05*D,I=.363*P,t.myData.stateHeight.open=x,t.myData.stateHeight.close=E,t.myData.stateHeight.small=I}var O=new(t(16));Component({properties:{},myData:{stateHeight:{small:I,close:E,open:x},imlp:null,popupState:null,titleTouch:{startTime:0,start:0,move:0},positionOffset:{small:0,open:0,close:0},popupType:"close_open",messageTouchData:{},stateConfig:{},initPopupKey:0,titleHeight:0},data:{popupState:null,pageTitle:"客服在线为您服务",transformTop:0,imlpHeight:x,popupHeight:0,imlpInitData:null,zIndex:1e4,topNewMessage:{},dialog:null,adjustPaddingBottom:0,adjustBottom:0},methods:{initPopup:function(t,e){var n=this,i=O.getValue(e,"initDelay");i&&"number"==typeof i?this.myData.initPopupKey=setTimeout((function(){n.setInitData("initPopup",t,e)}),i):this.setInitData("initPopup",t,e)},openIM:function(t,e){this.setInitData("openIM",t,e)},setInitData:function(t,e,n){var i=this;if(M(this),e){clearTimeout(this.myData.initPopupKey),n=n||{};var a=this.myData.stateHeight,o=n.stateConfig||{},r=n.initState;this.myData.initState=r,this.myData.stateConfig=o;var s=n.zIndex;n.switch,"small"===r&&(this.myData.popupType="close_small_open"),n.popupType&&(this.myData.popupType=n.popupType),o.close&&(this.myData.positionOffset.close=o.close.bottom||0,o.close.disable&&(this.myData.positionOffset.close=0,a.close=x)),o.small&&(this.myData.positionOffset.small=o.small.bottom||0),o.open&&(this.myData.positionOffset.open=o.open.bottom||0),a.open=x-this.myData.positionOffset.open,"number"==typeof s&&this.setData("zIndex",s),"initPopup"===t&&!this.data.imlpInitData&&r?this.changePopupState(r,{target:"",trigger:"initPopup"}):"openIM"===t&&setTimeout((function(){i.changePopupState("open",{target:"",trigger:"openIM"})}),50),this.data.imlpInitData?"openIM"===t&&n.multiIM&&this.myData.imlp&&this.myData.imlp.changePageParams(e.pageParams):this.setData("imlpInitData",e)}},titleTouchstart:function(t){var e=(t.touches||[])[0]||{};this.myData.titleTouch.startTime=Date.now(),this.myData.titleTouch.start=e.pageY||0,this.myData.titleTouch.move=e.pageY||0},titleTouchMove:function(t){},titleTouchCancel:function(t){this.changePopupState()},titleTouchEnd:function(t){var e=(t.target.dataset||{}).type,n=(((t.changedTouches||[])[0]||{}).pageY||0)-(this.myData.titleTouch.start||0),i=Date.now()-this.myData.titleTouch.startTime;if(n>10)this.changePopupStateByEventType("touchDown");else if(n<-10)this.changePopupStateByEventType("touchUp");else if(0===n&&i<300){var a="closeButton"===e?"close":"clickTitle";this.changePopupStateByEventType(a,{trigger:"click",target:"closeButton"===e?"close":"title"})}else this.changePopupState()},layerClick:function(t){this.changePopupStateByEventType("clickTitle",{target:"layer",trigger:"click"})},changePopupStateByEventType:function(t,e){var n=this.myData.popupType,i=this.myData.popupState,a=null;"close"===t?a="close":"clickTitle"===t?i&&"close"!==i&&"small"!==i?"open"===i&&(a="small"):a="open":"touchDown"===t&&"open"===i?a="small":"touchDown"===t&&"small"===i?a="close":"touchUp"!==t||i&&"close"!==i?"touchUp"===t&&"small"===i&&(a="open"):a="open","close_open"===n&&"small"===a&&(a="open"===i?"close":"open"),e=e||{},this.changePopupState(a,{target:e.target||"title",trigger:e.trigger||"touch"})},changePopupState:function(t,e){var n=this;this.setData("imlpHeight",this.myData.stateHeight.open),this.setData("popupHeight",this.myData.stateHeight.open);var i=this.myData.positionOffset,a=this.myData.popupState;t&&(this.myData.popupState=t,this.setData("popupState",t));var o=this.myData.stateHeight[t]||0,r=0;if("close"===t?r=P-i.close-this.myData.stateHeight.close:"small"===t?r=P-i.small-this.myData.stateHeight.small:"open"===t&&(r=P-i.open-this.myData.stateHeight.open),t){var s={state:t,rect:{width:D,height:o,left:0,top:r},log:{from:a,to:t,target:e.target,trigger:e.trigger}};this.emitEvent("popupStateChange",s),this.setPopupPosition(t),setTimeout((function(){n.setPopupSize(t),n.myData.imlp.popupChangeStateEnd(s)}),300)}else this.setPopupSize(a)},setPopupPosition:function(t){var e=-(this.myData.positionOffset[t]||0)-(this.myData.stateHeight[t]||0);O.getValue(this.myData,"stateConfig.close.disable")&&"close"===t&&(e=10),this.setData({transformTop:e,imlpBottom:0})},setPopupSize:function(t){var e=this;t&&("close"===t?(this.setData("imlpHeight",this.myData.stateHeight.open),this.setData("popupHeight",this.myData.stateHeight.close)):"small"===t?(this.setData("imlpHeight",this.myData.stateHeight.small),this.setData("popupHeight",this.myData.stateHeight.small)):"open"===t&&(this.setData("imlpHeight",this.myData.stateHeight.open),this.setData("popupHeight",this.myData.stateHeight.open))),this.myData.titleHeight>0||a.nextTick((function(){e.myData.querySelector.select(".imlp_popup_title").boundingClientRect().exec((function(t){e.myData.titleHeight=t[0].height,e.keyboardModel.setData("titleHeight",t[0].height)}))}))},messageContainerTouch:function(t){var e=this,n=t.changedTouches[0]||{},i=t.type,a=this.myData.messageTouchData;if("touchstart"===i)a.start=n.clientY||0,a.end=n.clientY||0;else if("touchend"===i){a.end=n.clientY||0;var o=Math.abs(a.end-a.start);a.start=0,a.end=0,o>10&&(this.changePopupState("open",{target:"messageContainer",trigger:"touch"}),setTimeout((function(){e.myData.imlp.emitImlpClick("messageContainer")}),300))}else a.start=0,a.end=0},popupClick:function(t){var e=this,n=(t.currentTarget.dataset||{}).type,i=0;if("inputMore"===n||"faceClick"===n||"inputFocus"===n||"topNewMessage"===n||"messageContainer"===n)i=300,this.changePopupState("open",{target:n,trigger:"click"});else if("inputPhone"===n);else if("sendClick"===n){var a=this.myData.imlpPageInfo||{};if(!a.presetMessage&&!a.inputText)return;this.changePopupState("open",{target:n,trigger:"click"}),i=300}"topNewMessage"===n&&this.setData("topNewMessage",null),setTimeout((function(){e.myData.imlp.emitImlpClick(n)}),i)},showInvite:function(t){this.myData.imlp.popupShowInvite(t)},emitEvent:function(t,e){this.triggerEvent("imlpPopupEvent",{type:t,data:e})},imlpEvent:function(t){var e=t.detail;if(e){var n=e.eventName,i=e.type,a=e.data;if("pageInfo"!==i)if("showDialog"!==i){if("unreadMessage"===i);else if("imlpState"===i)this.myData.imlpState=a;else if("keyboard"===i){var o=this.keyboardModel.getHeight(a.height),r=o.paddingBottom,s=o.bottom,c={};return void 0!==r&&(c.adjustPaddingBottom=r),void 0!==s&&(c.adjustBottom=s),void this.setData(c)}"openLink"===n?this.emitEvent(n,e):this.emitEvent(i,a)}else this.setData("dialog",a);else{var u=function(t,e){var n={},i=t.myData.imlpPageInfo;if(i)for(var a in e){var o=e[a];i[a]!==o&&(i[a]=o,n[a]=o)}else t.myData.imlpPageInfo=e,n=e;return n}(this,a);for(var l in u){var d=u[l];"pageTitle"===l?this.setData("pageTitle",d||""):"topNewMessage"===l?this.setData("topNewMessage",{count:d,text:d+"条新消息"}):"contactNumber"===l?this.setData("contactNumber",d):"bottomHeight"!==l&&"messageListHeight"!==l||this.keyboardModel.setData(l,d)}}}},imlpButtonEvent:function(t){"topNewMessage"===(t.currentTarget.dataset||{}).type&&this.popupClick(t)},imlpDialogEvent:function(t){this.setData("dialog",null);var e=t.detail;this.myData.imlp.imlpDialogEvent(e)},prevent:function(){return!1}},lifetimes:{created:function(){var t=this.selectComponent("imlp");this.myData.imlp=t,this.emitEvent("popupLifetime","created"),this.keyboardModel=new C.default,M(this),this.keyboardModel.setData("totalHeight",x)},attached:function(){this.myData.querySelector=a.createSelectorQuery().in(this)},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}}})})),t("106",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0});var w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.totalHeight=0,this.bottomHieght=0,this.titleHeight=0,this.messageScroll=!1,this.messageListHeight=0}return w(t,[{key:"getHeight",value:function(t){t=t||0;var e=this.messageListHeight+60;if(0===t)return{paddingBottom:0,bottom:0};if(0===this.totalHeight||0===this.bottomHeight||0===this.titleHeight)return{};var n=this.totalHeight-this.titleHeight-this.bottomHieght;return n<=e||!0===this.messageScroll?(this.messageScroll=!0,{paddingBottom:0,bottom:t}):n-e>t?{paddingBottom:t,bottom:0}:n-e<=t?{paddingBottom:n-e,bottom:t-n+e}:void 0}},{key:"setData",value:function(t,e){this[t]=e}}]),t}();n.default=C})),t("108",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(92)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{type:String,source:String,action:String,content:{type:Object},domid:String,moreStatus:Number},data:{},methods:{toggleMore:function(){var t=this.data.moreStatus;this.setData("moreStatus",1===t?2:1)}},lifetimes:{attached:function(){}}})})),t("110",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=P(t(68)),C=P(t(92)),T=P(t(93));function P(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default,T.default],properties:{type:String,source:String,action:String,content:{type:Object},domid:String},data:{consult:{theme:1,text:"更多详情请在本页进行咨询",label:"咨询"}},methods:{clickHandle:function(t){var e=this.data,n=e.content,i=e.type;this.cardClickHandle({type:i,value:Object.assign({},n,{type:"url",value:n.url})})}},lifetimes:{attached:function(){this.data.content.heatType&&this.setData({"consult.heatType":this.data.content.heatType,"consult.heatNum":this.data.content.heatNum})}}})})),t("112",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=P(t(92)),C=P(t(93)),T=P(t(68));function P(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default,T.default],properties:{type:String,source:String,action:String,content:{type:Object},domid:String},data:{pageSize:3,pageNo:0,clicked:[]},methods:{nextPage:function(){var t=this.data,e=t.content,n=(t.pageSize,t.pageNo);this.setData("pageNo",n===e.totalPage-1?0:n+1),this.log()},getIdStr:function(){return(this.data.content.items||[]).map((function(t){return t.id})).join("_")},log:function(t){var e=this.data,n=(e.type,e.pageNo),i=e.log,a=this.getIdStr(),o=i;o||(o=this.getCurrentItems().map((function(t){return t.log||t.text}))),this.dispatch("sendlog",{name:"cardShow",payload:{ext:{page:n,tag:"guess_card",question:a,first:t?1:0},content:o}})},clickHandle:function(t){var e=this.data,n=e.content,i=e.type,a=e.msgid,o=void 0===a?"":a,r=e.clicked,s=t.currentTarget.dataset.index,c=n.items[s];if(!r[s]){r[s]=!0,this.setData({clicked:r});var u={type:"textLinkItem",value:{type:"card",content:c,fromid:o,value:c.log||c.text,actionType:"chat"}};void 0!==i&&(u.value.ext={card:i});var l=c.id;void 0!==l&&(u.value.ext=u.value.ext||{},u.value.ext.question=l,u.value.ext.tag="guess_card"),this.cardClickHandle(u)}},getCurrentItems:function(){var t=this.data,e=t.pageNo,n=t.pageSize,i=t.content.items||[],a=i.length,o=e*n,r=o+n>a?a:o+n;return i.slice(o,r)}},lifetimes:{attached:function(){var t=this.data,e=t.content,n=t.pageSize,i=(t.pageNo,parseInt(e.items.length/n,10),e.items.length,e.items.length);this.setData({clicked:new Array(i)}),this.log(!0)}}})})),t("114",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{type:String,source:String,action:String,content:{type:Object},visible:Boolean},data:{},methods:{handleClick:function(t){var e=((t.currentTarget||{}).dataset||{}).data||{},n=this.data.content,i=n.tag,a=n.url;"baozhang"===i?this.cardClickHandle({type:"notification",cardType:"8000",value:{type:"url",value:a,pageType:"baozhang"}}):"link"===e.type&&this.cardClickHandle({type:"notification",cardType:"8000",value:{type:"url",value:e.url,pageType:e.pageType||"webview",linkType:e.linkType||"webview"}})}},lifetimes:{attached:function(){}}})})),t("116",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(92)),C=T(t(68));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[C.default,w.default],properties:{item:Object,userAvatar:String,serviceAvatar:String},data:{},methods:{imgloadHandle:function(t){this.dispatch("imgload",t.detail)},statusClick:function(t){var e=(t.currentTarget||{}).dataset||{},n=e.messageId,i=e.sendError;e.resend&&i&&this.dispatch("resendMessage",{messageId:n})}},lifetimes:{attached:function(){this.dispatch("timeline",{timestamp:(new Date).getTime(),type:"attached",ext:{messageType:"normal"}})}}})})),t("118",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{style:String,type:String,content:Object,domid:String,moreStatus:Number,combined:Boolean,cardIndex:{type:Number,value:0},log:{type:Object,value:{}},from:{type:String,value:"card"},parentStyle:String,space:Number},data:{},methods:{handleClick:function(t){var e=(this.data.content||{}).action,n=((t.currentTarget||{}).dataset||{}).cardType||0;if(e){var i=this.data.log||{};for(var a in i.rank=this.data.cardIndex||0,this.logContent)i[a]=this.logContent[a];this.cardClickHandle({type:"standardcard",value:e,cardType:n,history:this.track,log:i})}}},lifetimes:{attached:function(){var t=this;((this.data.content||{}).list||[]).forEach((function(e){e&&"subtitle"===e.type&&e.text?(t.track=e.text,t.logContent={subtitle:e.text}):e&&"detailBase"===e.type&&e.info&&e.info.forEach((function(e){e&&"subtitle"===e.type&&e.text&&(t.track=e.text,t.logContent={subtitle:e.text})}))})),this.dispatch("timeline",{timestamp:(new Date).getTime(),type:"attached",ext:{messageType:"card"}})}}})})),t("120",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{style:String,type:String,content:Object,domid:String,moreStatus:Number,display:Boolean,parentStyle:String,space:Number},data:{},methods:{toggleMore:function(){var t=this.data.moreStatus;this.setData("moreStatus",1===t?2:1)}}})})),t("122",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({myData:{},data:{dialog:null,zIndex:1e4},properties:{dialog:{observer:function(t,e){}}},methods:{dialogClick:function(t){var e=t.currentTarget.dataset||{},n=e.dialogButtonType,i=e.dialogId;this.triggerEvent("imlpDialogEvent",{type:"dialogButtonClick",data:{dialogId:i,buttonType:n}})}},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}}})})),t("124",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{card:Number,display:Boolean,data:{type:Object}},data:{track:""},methods:{handleClick:function(t){var e=(this.data.data||{}).action,n=((t.currentTarget||{}).dataset||{}).cardType||0;e&&this.cardClickHandle({type:"DetailBase",value:e,cardType:n,history:this.track})}},lifetimes:{attached:function(){var t=this;((this.data.data||{}).info||[]).forEach((function(e){"subtitle"===e.type&&e.text&&(t.track=e.text)}))}}})})),t("126",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({properties:{data:{type:Object},card:Number,from:String,isStandard:{type:Boolean,value:!1}},data:{},methods:{focusInput:function(){this.dispatch("focusInput")}}})})),t("128",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{data:{type:Object},moreStatus:String},data:{},methods:{toggleMore:function(){var t=this.data.moreStatus;this.setData("moreStatus",1===t?2:1),this.scrollToMessage()},handleClick:function(t){var e=t.currentTarget.dataset,n=e.row,i=e.cell,a=this.data.data.list[n][i];this.cardClickHandle({type:"buttonGroup",value:a,history:a.text})}},lifetimes:{attached:function(){}}})})),t("130",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({properties:{},data:{},methods:{},lifetimes:{attached:function(){}}})})),t("132",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(68))&&w.__esModule?w:{default:w};t(66),Component({behaviors:[C.default],properties:{data:{type:Array},type:String},data:{},methods:{messageEvent:function(t){this.isLoad||(this.isLoad=!0,this.triggerEvent("imgload",{event:t,owner:this}))},phoneClick:function(t){if("service"===this.data.data.source){var e=t.target.dataset.tel;this.cardClickHandle({type:"logKefuMsgStatus",value:{type:"tel",value:e,text:"客服电话"}})}},imageClickHandle:function(t){var e=t.target.dataset.src;a.previewImage({urls:[e],success:function(t){console.log(t)},fail:function(t){console.log(t)}})}},lifetimes:{attached:function(){}}})})),t("134",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(135))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{},data:{},methods:{stopProgaration:function(){}},lifetimes:{attached:function(){}}})})),t("135",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(21),C={data:{videoInfo:null,behaviorVideoKey:0,videoControls:!1,videoPlay:!1,showNoWifiTip:!1,playCount:0},methods:{play:function(){this.videoLog("video_click"),this.data.playCount++,clearTimeout(this.data.behaviorVideoKey),this.setData("videoState","play"),this.getVideo().play(),this.chatAction(),this.showNoWifiTip()},stopAutoScroll:function(){this.dispatch("stopAutoScroll")},stopPlayingVideoAndSetUpcomingPlayVideo:function(t){this.dispatch("stopPlayingVideoAndSetUpcomingPlayVideo",t)},consult:function(){this.dispatch("focusInput")},setVideoInfo:function(){var t=(this.data.widgetData||{}).data;if(t){var e={id:t.id,title:t.title,tips:"本视频仅作知识科普，不作就医参考，如有异议请向院方反馈",source:t.video,poster:t.cover,refkey:T(),duration:t.duration,category:t.category,capacity:t.capacity};this.setData("videoInfo",e)}},getVideoDomId:function(){var t=this.data.videoInfo;if(t)return t.refkey},getVideo:function(){if(this.video)return this.video;var t=this.getVideoDomId();if(!t)return null;var e=a.createVideoContext(t);return this.video=e,e},videoOnPlay:function(t){this.data.videoPlay=!0,clearTimeout(this.data.behaviorVideoKey),this.stopAutoScroll(),this.stopPlayingVideoAndSetUpcomingPlayVideo(this.getVideoDomId()),this.setData("videoControls",!0),this.videoLog("video_play")},videoOnPause:function(t){this.data.videoPlay=!1,this.videoLog("video_pause")},videoOnEnded:function(t){this.data.videoPlay=!1,this.videoLog("video_ended"),this.setData("videoState","end")},videoOnTimeupdate:function(t){var e=t.detail;this.videoCurrentTime=e.currentTime,this.videoUpdateTime=this.videoUpdateTime||0;var n=+new Date;n-this.videoUpdateTime>3e3&&(this.videoLog("video_timeupdate"),this.videoUpdateTime=n)},videoOnFullscreenchange:function(t){},videoOnError:function(t){this.data.videoPlay=!1},videoLog:function(t){var e=this.data.videoInfo;if(e){var n={name:"video",payload:{type:t,id:e.id,duration:e.duration,currentTime:this.videoCurrentTime||0,videoUrl:e.source||""}};this.dispatch("sendlog",n)}},chatAction:function(){var t=this.data.videoInfo;if(t){var e={actionParam:{type:"imlp",value:{type:"video",id:t.id,duration:t.duration,text:'用户正在观看"'+t.title+'"视频'}}};this.dispatch("sendUserAction",e)}},onChatViewScroll:function(t){var e=this;clearTimeout(this.chatViewScrollKey||0),this.chatViewScrollKey=setTimeout((function(){e.boundingClientRectExec(t)}),300)},playBoundingClientRectExec:function(){var t=this;this.playBoundingClientRectResult||(this.playBoundingClientRectResult=this.createBoundingClientRect(".widget-videobase",(function(e){t.dispatch("scrollToReact",{top:e.top,bottom:e.bottom,left:e.left,right:e.right,offset:10})}))),this.playBoundingClientRectResult.exec()},boundingClientRectExec:function(t){if(this.data.videoPlay){var e=this.getVideo();this.boundingClientRectResult||(this.boundingClientRectResult=this.createBoundingClientRect(".widget-videobase",(function(n){var i=n.top,a=n.bottom,o=t.top,r=t.bottom;(o>i+10||r<a-30)&&e.pause()}))),this.boundingClientRectResult.exec()}},createBoundingClientRect:function(t,e){return a.createSelectorQuery().in(this).select(t).boundingClientRect(e)},showNoWifiTip:function(){if(!(this.data.playCount>1)){var t=this;a.getNetworkType({success:function(e){var n=e.networkType;"wifi"!==n&&"none"!==n&&(t.setData("showNoWifiTip",!0),setTimeout((function(){t.setData("showNoWifiTip",!1)}),2e3))}})}}},lifetimes:{created:function(){this.setVideoInfo()},attached:function(){this.videoLog("video_show");var t=w.createOneKey("videobase");this.dispatch("bindChatViewScrollEvent",t),w.bindChatViewScroll(t,this)}}};function T(){var t="key";return(t+=(new Date).getTime().toString(16))+parseInt(1e6*Math.random()).toString(16)}e.exports=Behavior(C)})),t("137",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{card:Number,display:Boolean,data:{type:Object},from:String,isStandard:Boolean},data:{track:""},methods:{handleClick:function(t){var e=(this.data.data||{}).action,n=((t.currentTarget||{}).dataset||{}).cardType||0;e&&this.cardClickHandle({type:"DetailBase",value:e,cardType:n,history:this.track})}},lifetimes:{attached:function(){var t=this;((this.data.data||{}).info||[]).forEach((function(e){"subtitle"===e.type&&e.text&&(t.track=e.text)}))}}})})),t("139",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=P(t(68)),C=P(t(93)),T=P(t(140));function P(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{source:String,data:{type:Object},from:{type:String,value:"card"},isLast:{type:Boolean,value:!0}},data:{track:"",text:"",hasPEle:!0},methods:{handleClick:function(t){}},lifetimes:{attached:function(){var t=this.data.data.text;t=(0,T.default)(t,"em","imlp-high-light-content");var e=(t=(0,T.default)(t,"strong","imlp-high-light-content-bold")).indexOf("<p>")>-1;this.setData({text:t,hasPEle:e})}}})})),t("140",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){e.exports=function(t,e,n){var i="<"+e+">",a="</"+e+">",o=t.split(i).length-1,r=t.split(a).length-1,s=new RegExp(i,"g"),c=new RegExp(a,"g"),u=new RegExp(i+"|"+a,"g");return o!==r?t.replace(u,""):(t=t.replace(s,'<span class="'+n+'">')).replace(c,"</span>")}})),t("142",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({behaviors:[],properties:{data:{type:Object}},data:{track:""},methods:{emitUiEventAction:function(t){var e=(t.currentTarget.dataset||{}).actionData;e&&this.dispatch("uiEventAction",{actionData:e,eventName:"click"})}}})})),t("144",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(93));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default],properties:{data:{type:Object},from:{type:String,value:"card"}},data:{track:""},methods:{handleClick:function(t){}},lifetimes:{attached:function(){}}})})),t("146",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=T(t(68)),C=T(t(140));function T(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default],properties:{content:{type:Object}},data:{clickIndex:0,info:[],tabsContent:"",hasTitle:!0,title:""},methods:{tabclick:function(t){var e=t.target.dataset.index,n=this.data.info[e].text;n=this.formatDes(n),this.setData({clickIndex:e,tabsContent:n});var i=t.target.dataset.tab,a={name:"tabChange",payload:{type:"tab_change",content:this.data.info[e].log,index:e,text:i}};this.dispatch("sendlog",a)},textclick:function(t){var e=this.data.clickIndex,n=this.data.info[e].text,i=this.data.info[e].action,a=this.data.info[e].log,o=t.target.dataset.cardType||0;i&&this.cardClickHandle({type:"standardcard",value:i,cardType:o,history:n,log:a})}},lifetimes:{attached:function(){var t=this.data.content.info,e=t[0].text,n=this.data.content.title||"",i=n.length;e=this.formatDes(e),this.setData({info:t,tabsContent:e,hasTitle:i,title:t.length>1?n:n+t[0].title})}},formatDes:function(t){return t=(0,C.default)(t,"em","imlp-high-light-content"),(0,C.default)(t,"strong","imlp-high-light-content-bold")}})})),t("148",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w,C=(w=t(93))&&w.__esModule?w:{default:w};Component({behaviors:[C.default],properties:{data:{type:Object,observer:function(t,e){}},inline:Boolean,moreStatus:{type:Number,observer:function(t,e){this.data.textBoxmoreStatus||this.setData({textBoxmoreStatus:t})}},from:{type:String,value:"card"}},data:{cutType:0,textBoxmoreStatus:0},methods:{toggleMore:function(){var t=this.data.textBoxmoreStatus;this.setData("textBoxmoreStatus",1===t?2:1),this.scrollToMessage()}},lifetimes:{attached:function(){var t=this,e=this.data,n=e.data;e.width,e.inline,setTimeout((function(){var e=n.more,i=n.maxHeight;e&&i&&a.createSelectorQuery().in(t).selectAll(".imlp-textBox-content").boundingClientRect((function(e){e&&e[0]&&e[0].height-i>5&&t.setData("textBoxmoreStatus",1)})).exec()}),50)}}})})),t("150",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({properties:{data:{type:Object,observer:function(t,e){for(var n=t.score,i=n%1,a=parseInt(n,10)+(i>.5?1:.5),o=[],r=1;r<=5;r++)a-r>=0?o.push(100):r-a<1?o.push(100*(r-a)):o.push(0);t.stars=o,this.setData("data",t)}}},data:{},methods:{},lifetimes:{attached:function(){}}})})),t("152",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=D(t(68)),C=D(t(92)),T=D(t(93)),P=D(t(153));function D(t){return t&&t.__esModule?t:{default:t}}Component({behaviors:[w.default,C.default,T.default],properties:{type:String,content:Object,msgid:String},data:{types:["电话","微信","QQ","邮箱"],typeValues:["phone","wechat","qq","email"],typeIndex:0,input:"",disabled:!1},methods:{typeChange:function(t){this.setData({typeIndex:t.detail.value})},inputHandle:function(t){this.setData({input:t.detail.value.trim&&t.detail.value.trim()})},submit:function(t){var e=this.data,n=e.typeIndex,i=e.typeValues,o=e.input;if(!e.disabled){var r=i[n];(0,P.default)(r,o)?(this.cardClickHandle({type:"leaveWord",value:{type:r,content:o}}),this.setData({disabled:!0})):a.showToast({title:"输入错误",icon:"none"})}}},lifetimes:{}})})),t("153",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n=!1;switch(t){case"phone":e.length>0&&("0"===e.substr(0,1)?n=C(e):"1"===e.substr(0,1)&&(n=w(e)));break;case"email":n=T(e);break;case"qq":n=P(e);break;case"wechat":n=D(e)}return n};var w=function(t){return!!/^1\d{10}$/.test(t)},C=function(t){return!!/^0\d{2,3}-?\d{7,8}$/.test(t)},T=function(t){return!!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(t)},P=function(t){return!!/^[1-9]\d{4,}$/.test(t)},D=function(t){return!!/^[a-zA-Z\d_]{6,}$/.test(t)}})),t("155",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({behaviors:[],properties:{source:String,data:{type:Object},from:{type:String,value:"card"}},data:{track:""},methods:{}})})),t("157",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){Component({properties:{content:{type:Object},log:{type:Object}},data:{},methods:{input:function(){var t=this.data.content.data.bottomMessage,e={name:"focusBtnClick",payload:{type:"focusbtn_click",content:this.data.log}};this.dispatch("focusInput"),this.dispatch("sendlog",e),this.dispatch("setinputData",{inputText:t})}},lifetimes:{attached:function(){}}})})),t("159",(function(t,e,n,i,a,o,r,s,c,u,l,d,p,f,m,h,g,v,y,b,S,k,_){var w=t(34),C=t(21),T=t(79),P=t(78);P.run(),function(){try{a.request({url:C.prefetchUrl})}catch(t){}}(),e.exports={getSdk:function(t){if("phone"===t)return w()},onPrefetch:function(t){try{T.onPrefetch(t)}catch(t){}},addPrefetchData:function(t){try{P.addPrefetchData(t)}catch(t){}}}})),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/imlp/imlp",window.usingComponents=["components/navigation/navigation","components/messageList/messageList","components/phoneicon/phoneicon","components/message/standard/popup/pupup","components/sugSlider/sugSlider","components/button/button","components/baozhang/baozhang"],window.usingPluginComponents=[],e("1"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/csdk/csdk",window.usingComponents=["components/imlpPopup/popup"],window.usingPluginComponents=[],e("81"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/navigation/navigation",window.usingComponents=[],window.usingPluginComponents=[],e("89"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/messageList/messageList",window.usingComponents=["components/message/card/baseCard/baseCard","components/message/card/cipCard/cipCard","components/message/card/linkCard/linkCard","components/message/card/notificationCard/notificationCard","components/message/normal/message/message","components/message/standard/standardCard/standardCard","components/message/standard/combinedCard/combinedCard"],window.usingPluginComponents=[],e("91"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/phoneicon/phoneicon",window.usingComponents=[],window.usingPluginComponents=[],e("95"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/popup/pupup",window.usingComponents=["components/message/standard/standardCard/standardCard"],window.usingPluginComponents=[],e("97"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/sugSlider/sugSlider",window.usingComponents=[],window.usingPluginComponents=[],e("99"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/button/button",window.usingComponents=[],window.usingPluginComponents=[],e("101"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/baozhang/baozhang",window.usingComponents=[],window.usingPluginComponents=[],e("103"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/imlpPopup/popup",window.usingComponents=["components/imlp/imlp","components/button/button","components/dialog/dialog"],window.usingPluginComponents=[],e("105"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/baseCard/baseCard",window.usingComponents=["components/message/widgets/detailBase/detailBase","components/message/widgets/consult/consult","components/message/widgets/buttonGroup/buttonGroup","components/message/widgets/videoBase/videoBase"],window.usingPluginComponents=[],e("108"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/cipCard/cipCard",window.usingComponents=["components/message/widgets/consult/consult"],window.usingPluginComponents=[],e("110"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/linkCard/linkCard",window.usingComponents=[],window.usingPluginComponents=[],e("112"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/notificationCard/notificationCard",window.usingComponents=[],window.usingPluginComponents=[],e("114"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/normal/message/message",window.usingComponents=["components/message/normal/content/content"],window.usingPluginComponents=[],e("116"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/standardCard/standardCard",window.usingComponents=["components/message/standard/widget/videoBase/videoBase","components/message/standard/widget/detailBase/detailBase","components/message/widgets/consult/consult","components/message/widgets/buttonGroup/buttonGroup","components/message/standard/widget/description/description","components/message/standard/widget/brand/brand","components/message/standard/widget/image/image","components/message/card/tabsCard/tabsCard"],window.usingPluginComponents=[],e("118"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/combinedCard/combinedCard",window.usingComponents=["components/message/standard/standardCard/standardCard","components/message/widgets/consult/consult","components/message/standard/combinedCard/combinedCard","components/message/standard/widget/brand/brand"],window.usingPluginComponents=[],e("120"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/dialog/dialog",window.usingComponents=[],window.usingPluginComponents=[],e("122"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/detailBase/detailBase",window.usingComponents=["components/message/widgets/textBox/textBox","components/message/widgets/rank/rank","components/message/widgets/consult/consult"],window.usingPluginComponents=[],e("124"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/consult/consult",window.usingComponents=[],window.usingPluginComponents=[],e("126"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/buttonGroup/buttonGroup",window.usingComponents=[],window.usingPluginComponents=[],e("128"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/videoBase/videoBase",window.usingComponents=["components/message/standard/widget/videoBase/videoBase"],window.usingPluginComponents=[],e("130"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/normal/content/content",window.usingComponents=["components/message/card/linkCard/linkCard","components/message/card/leaveWord/leaveWord","components/message/standard/standardCard/standardCard","components/message/standard/combinedCard/combinedCard"],window.usingPluginComponents=[],e("132"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/videoBase/videoBase",window.usingComponents=[],window.usingPluginComponents=[],e("134"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/detailBase/detailBase",window.usingComponents=["components/message/widgets/textBox/textBox","components/message/widgets/rank/rank","components/message/widgets/consult/consult","components/message/standard/widget/price/price"],window.usingPluginComponents=[],e("137"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/description/description",window.usingComponents=["components/message/widgets/textBox/textBox"],window.usingPluginComponents=[],e("139"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/brand/brand",window.usingComponents=[],window.usingPluginComponents=[],e("142"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/image/image",window.usingComponents=[],window.usingPluginComponents=[],e("144"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/tabsCard/tabsCard",window.usingComponents=["components/message/widgets/consultButton/consultButton"],window.usingPluginComponents=[],e("146"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/textBox/textBox",window.usingComponents=[],window.usingPluginComponents=[],e("148"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/rank/rank",window.usingComponents=[],window.usingPluginComponents=[],e("150"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/card/leaveWord/leaveWord",window.usingComponents=[],window.usingPluginComponents=[],e("152"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/standard/widget/price/price",window.usingComponents=[],window.usingPluginComponents=[],e("155"),window.__swanRoute="dynamicLib://bd_bcp_sdk/components/message/widgets/consultButton/consultButton",window.usingComponents=[],window.usingPluginComponents=[],e("157"),n.exports=function(){return e("159")}}),{"dynamicLib://bd_bcp_sdk/imlp":"components/imlp/imlp","dynamicLib://bd_bcp_sdk/csdk":"components/csdk/csdk"}),window.__swanRoute="dynamicLib://bd_bcp_sdk";
//# sourceMappingURL=/output/__dynamicLib__/bd_bcp_sdk/app.js.map