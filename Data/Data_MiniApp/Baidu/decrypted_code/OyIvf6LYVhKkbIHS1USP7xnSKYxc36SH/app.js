var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};!function(t){var a=t.global,i=t.Function,n=t.setTimeout,o=t.setInterval;t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;window.define("2",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({data:{navHeight:P.globalData.navHeight},ready:function(){this.data.navHeight!==P.globalData.navHeight&&this.setData({navHeight:P.globalData.navHeight})},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}}})})),window.define("4",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{theme:{type:String,value:"default"},titleText:{type:String,value:""},isBatch:{type:Boolean,value:!1},showBack:{type:Boolean,value:!0},showHome:{type:Boolean,value:!0},isShowBarBtn:{type:Boolean,value:!0},swanIdForSystem:{type:String,value:"123445"}},data:{titleText:"百度网盘",statusBarHeight:20,totalHeight:68},ready:function(){var e=getCurrentPages().length||0;this.setData({statusBarHeight:P.globalData.statusBarHeight,totalHeight:P.globalData.navHeight,compatible:P.globalData.systemInfo.compatibleVersion}),e<2&&(this.data.compatible?this.setData({showBack:!0}):this.setData({showBack:!1}))},methods:{navigateBack:function(){this.data.isBatch?this.triggerEvent("back"):n.navigateBack()},home:function(){n.reLaunch({url:"/pages/home/index"})},setTitle:function(e){e&&this.setData({titleText:e})},setShowBack:function(e){this.setData({showBack:!!e})}}})})),window.define("6",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(7),S=e(8),D=(0,P.swanApiToPromise)("canvasToTempFilePath"),C={up:0,left:-90,right:90,down:180},T=n.getSystemInfoSync().pixelRatio,I=2540,E=1440;(0,S.checkIsAndroid)()&&(I/=T,E/=T),Component({data:{show:!1,width:I,height:E},created:function(){this.resizeCanvas=n.createCanvasContext("resizeCanvas")},methods:{setDataPromise:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(a){e.setData(t,a)}))},resize:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this,i=arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.width,s=e.height,c=e.orientation;if(void 0!==i&&(I=i.width,E=i.height,(0,S.checkIsAndroid)()&&(I/=T,E/=T)),r<I||s<E||t)return Promise.resolve(e);if(!1===n.canIUse("canvasToTempFilePath"))return Promise.resolve(e);var l=0,p=0;if(!0===o){var u=r/I,d=s/E;if(u>=d)if(r>I){var h=I/r;l=I,p=s*h}else l=r,p=s;else if(s>E){var g=E/s;p=E,l=r*g}else p=s,l=r}else p=E,l=I;var f=["right","left"].includes(c);return new Promise((function(t){var i={width:l,height:p};f&&(i={width:p,height:l}),a.setDataPromise(i).then((function(){var i=C[c],n=0,o=0;i?(n=p/2,o=l/2):(n=l/2,o=p/2),a.resizeCanvas.translate(n,o),a.resizeCanvas.rotate(i*Math.PI/180),f?a.resizeCanvas.drawImage(e.path,-o,-n,l,p):a.resizeCanvas.drawImage(e.path,-n,-o,l,p),a.resizeCanvas.draw(!1,(function(){D({x:0,y:0,width:l,height:p,destWidth:l,destHeight:p,canvasId:"resizeCanvas",fileType:"jpg",quality:1}).then((function(a){t(Object.assign({},e,{width:l,height:p,path:a.tempFilePath}))})).catch((function(){t(e)}))}))}))}))}}})})),window.define("7",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getBDUSS=function(){return new Promise((function(e,t){var a=(o()||{}).globalData,i=(void 0===a?{}:a).canUseApi,r=void 0===i?{}:i,s=r.canIUseGetBDUSS,c=void 0!==s&&s,l=r.canIUseGetUnionBDUSS,p=void 0!==l&&l,u={bduss:"",openBduss:""};c||void 0!==n.netdisk?n.getBDUSS({success:function(a){a&&a.bduss?(u.bduss=a.bduss,e(u)):t()},fail:function(){t()}}):p?n.getUnionBDUSS({success:function(a){a&&a.bduss?(u.openBduss=a.bduss,e(u)):t()},fail:function(){t()}}):e(u)}))},a.getStoken=function(e){return new Promise((function(t,a){n.getStoken({tpl:e,success:t,fail:a})}))},a.clipboardData=function(e){return new Promise((function(t,a){n.setClipboardData({data:e,success:t,fail:a})}))},a.swanApiToPromise=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(a,i){n[e](Object.assign({},t,{success:a,fail:i}))}))}},a.getImageInfo=function(e){return new Promise((function(t,a){n.getImageInfo({src:e,success:t,fail:a})}))}})),window.define("8",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.generateSharePageLink=a.makeSchema=a.makeShareLinkSchema=a.makeSpacialScheme=a.getSchemaParam=a.systemInfoSync=a.initSystemInfo=a.compareVersion=a.schemaActionType=void 0;var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};a.dealWithFrom=I,a.formatLogargs=E,a.saveDataToGlobalData=function(e,t){void 0!==t&&e&&(o().globalData[e]=t)},a.makeDefultHomeSchema=function(){var e=o().globalData,t=e.uk,a=void 0===t?"":t,i=e.from,n=void 0===i?"":i;return T("MYFILE",{isSaved:"yes",uk:a,behavior:"app_open",loginUK:a,origin:2,source:n})},a.makeAppHomeSchema=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o().globalData,a=t.uk,i=void 0===a?"":a,n=t.from,r=void 0===n?"":n,s=T("HUO_DONG",{isSaved:"yes",uk:i,behavior:"app_open",loginUK:i,origin:2,source:r,logargs:JSON.stringify(e)});return s},a.getPercent=function(e,t){if(e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t))return 0;return t<=0?0:Math.round(e/t*1e4)/100},a.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},a.getSystemPlatform=x,a.checkIsIos=function(){return"ios"===x().platform},a.checkIsAndroid=function(){return"android"===x().platform};var S=(0,e(7).swanApiToPromise)("getSystemInfo"),D=a.schemaActionType={HUO_DONG:"HUO_DONG",SHARE_LINK:"SHARE_LINK",SEARCH:"search",DOC_SERVICE_KING_KONG:"docservicekingkong",AROUTER:"arouter",DOC_SCAN:"docscan"},C=a.compareVersion=function(e,t){if(!e||!t)return-1;e=e.split("."),t=t.split(".");for(var a=Math.max(e.length,t.length);e.length<a;)e.push("0");for(;t.length<a;)t.push("0");for(var i=0;i<a;i++){var n=parseInt(e[i]),o=parseInt(t[i]);if(n>o)return 1;if(n<o)return-1}return 0},T=(a.initSystemInfo=function(){return S().then((function(e){return function(e){var t=72;/IOS/.test(e.system)&&(e.system4Fe="ios"),/iPhone/.test(e.model)&&(t=64),/Android/.test(e.system)&&(t=68,e.system4Fe="android"),/iPhone X|PAAM00|COR-AL00/.test(e.model)&&(t=88),e.ratio=(750/e.windowWidth).toFixed(2),e.visualHeightRpx=(e.windowHeight-t)*e.ratio,o().globalData.statusBarHeight=e.statusBarHeight,o().globalData.totalHeight=t-e.statusBarHeight,o().globalData.navHeight=t,o().globalData.sequence=!0}(e),e.screenHeightRpx=e.screenHeight*(750/e.screenWidth),e.screenWidthRpx=750,e.windowHeightRpx=e.windowHeight*(750/e.screenWidth),e.windowWidthRpx=e.windowWidth*(750/e.screenWidth),o().globalData.systemInfo=e,e}))},a.systemInfoSync=function(){var e=n.getSystemInfoSync();(e.safeArea&&e.safeArea.bottom!==e.screenHeight||/iPhone X/.test(e.model)||/iPhone XS Max/.test(e.model))&&(o().globalData.isIpx=!0),e.system4Fe="other",/IOS/gi.test(e.system)&&(e.system4Fe="ios"),/Android/gi.test(e.system)&&(e.system4Fe="android"),e.compatibleVersion=C(e.swanNativeVersion,"2.28.0")>=0,o().globalData.systemInfo=e,e.screenHeightRpx=e.screenHeight*(750/e.screenWidth),e.screenWidthRpx=750,e.windowHeightRpx=e.windowHeight*(750/e.screenWidth),e.windowWidthRpx=e.windowWidth*(750/e.screenWidth),o().globalData.statusBarHeight=e.statusBarHeight,o().globalData.totalHeight=e.navigationBarHeight+e.statusBarHeight,o().globalData.navHeight=e.navigationBarHeight},a.getSchemaParam=function(e){var t={behavior:"none",isSaved:"none"};return["behavior","isSaved"].forEach((function(a){var i=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),n=e.match(i);n&&(t[a]=n[2])})),t},a.makeSpacialScheme=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HUO_DONG",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o().globalData,n=i.uk,r=void 0===n?"":n,s=i.from,c=void 0===s?"":s,l=T(e,Object.assign({isSaved:"yes",uk:r,behavior:"app_open",loginUK:r,origin:2,source:c},a,{logargs:JSON.stringify(t)}));return l},a.makeShareLinkSchema=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={behavior:"app_open",isSaved:"no",hasPanCode:"no",surl:String(e).replace(/^1/,""),pwd:t};return T(D.SHARE_LINK,a)},a.makeSchema=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o().globalData,i="bdnetdisk://n/action."+e+"?",n=a.isUserLogin,r=a.loginInfo,s=a.from,c=r&&r.uk_str,l={m_n_v:"8.3.0",origin:3,channelType:"sp",userType:n?"bd":"",source:s||""};c&&""!==c&&Object.assign(l,{loginUK:c}),t&&Object.assign(l,t);var p=I();return p&&Object.assign(l,{logargs:p}),Object.keys(l).forEach((function(e,t){i+=(0!==t?"&":"")+e+"="+l[e]})),i});a.generateSharePageLink=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{memberType:0,memberLevel:0},i=a.memberType,n=a.memberLevel,o="链接: "+e+" 提取码: "+t+" 复制这段内容后打开百度网盘手机App，操作更方便哦";return 2===i&&(o+="\r\n——来自百度网盘超级会员"+(0===n?"":"v"+n)+"的分享"),o};function I(){var e=o().globalData.from;if(e){var t=E(e);if(t)return t}return!1}function E(e){var t=e.split("_"),a=P(t,2),i=a[0],n=a[1];if(i&&n){var o={launch_ch:i,down_ch:n};return JSON.stringify(o)}return!1}function x(){return o().globalData.systemInfo}})),window.define("10",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{titleText:{type:String,value:""},isBatch:{type:Boolean,value:!1},showBack:{type:Boolean,value:!1},showHome:{type:Boolean,value:!0},isShowBarBtn:{type:Boolean,value:!0},cancelSelected:{type:Boolean,value:!1},vipType:{type:String,value:""},theme:{type:String,value:"#fff"},customBg:{type:String,value:""},newTheme:{type:String,value:""}},data:{statusBarHeight:20,totalHeight:52,navHeight:72,homeUrl:"/pages/home/index",loginTask:"",compatible:""},lifetimes:{created:function(){this.setData({statusBarHeight:P.globalData.statusBarHeight,totalHeight:P.globalData.totalHeight,navHeight:P.globalData.navHeight})},attached:function(){},ready:function(){var e=getCurrentPages();e.length>1?(this.setData({showBack:!0}),"pages/home/index"===e[e.length-1].uri?this.setData({compatible:!1}):this.setData({compatible:P.globalData.systemInfo.compatibleVersion})):(this.setData({compatible:P.globalData.systemInfo.compatibleVersion}),this.data.compatible&&"pages/home/index"!==e[e.length-1].uri&&this.setData({showBack:!0}))},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{navigateBack:function(){if(this.data.isBatch)this.triggerEvent("back");else{var e=getCurrentPages();P.globalData.movingIndex===e.length+1&&(P.globalData.moving=!1,P.globalData.movingIndex=1),n.navigateBack()}},home:function(){n.log.header.homeBtnClick.send(),P.globalData.moving?n.navigateTo({url:"/pages/home/index?path=/&pageType="+P.globalData.currentPageType}):n.reLaunch({url:this.data.homeUrl})},setTitle:function(e){e&&this.setData({titleText:e})},setShowBack:function(e){this.setData({showBack:!!e})}}})})),window.define("12",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(13);o();Component({properties:{size:{type:String,value:"normal"},isVip:{type:Boolean,value:!1}},data:{age:1},methods:{selectFileHandle:function(){n.navigateTo({url:"/pages/select-local-and-pan/index?mode=pdfToWord"}),(0,P.setVipAndWorkInfo)(!0).then((function(e){n.newLog.pdfTowordPage.clkSelectFile.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})}))}}})})),window.define("13",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.loadVipInfoAndFingerSDK=a.setVipAndWorkInfo=a.setVipInfo=void 0;var P=e(14),S=e(35),D=e(15),C=e(20),T=e(36),I=void 0;function E(){return(0,C.bdLogin)().then((function(e){return(0,C.getUserInfo)().then((function(e){return 0===e.errno?(o().globalData.loginInfo=e.login_info,(0,D.userQueryApi)().then((function(e){if(39508===e.error_code)return{userType:"hit"};var t=1===JSON.parse(e.user_tag).is_svip,a=!1;return 0!==Object.keys(e.current_privilege_card_v2).length&&(a="privilegecard_work"===e.current_privilege_card_v2[0].cluster),o().globalData.isPuzzleSvip=t,o().globalData.isPuzzleWork=a,{is_svip:t,is_workPackage:a,type:t?"svip":a?"work":"user"}})).catch((function(){}))):Promise.reject()}))}))}var x=a.setVipInfo=function(){return new Promise((function(e){e((0,C.bdLogin)().then((function(e){return(0,C.getUserInfo)().then((function(e){if(0===e.errno)return o().globalData.loginInfo=e.login_info,(0,P.getVipInfo)({user_list:"["+e.login_info.uk_str+"]"}).then((function(e){if(0===e.errno)return o().globalData.vipInfo=e.records[0],(0,S.getUserQuota)().then((function(e){0===e.errno&&(o().globalData.quotaSize=e)}))}))}))})))}))};a.setVipAndWorkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t){!0===e&&void 0!==I?t(I):E().then((function(e){I=e,t(e)}))}))},a.loadVipInfoAndFingerSDK=function(){x().then((function(e){(0,T.loadFingerSDK)()})).catch((function(e){console.log(e)}))}})),window.define("14",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getUserGuide=a.getGuideConfig=a.getVipInfo=void 0;var P=e(15);o(),a.getVipInfo=function(e){var t={hasError:!1};return(0,P.vipInfoApi)(e).then((function(e){return t.errno=e.errno,t.records=e.records,t})).catch((function(e){return t.hasError=!0,t}))},a.getGuideConfig=function(e){var t={hasError:!1};return(0,P.guideConfigApi)(e).then((function(e){return t.errno=e.error_code,t.config=e.config,t})).catch((function(e){return t.hasError=!0,t}))},a.getUserGuide=function(e){var t={hasError:!1};return(0,P.userGuideApi)(e).then((function(e){return t.errno=e.error_code,t.status_data=e.status_data,t.guide_data=e.guide_data,t.tips_data=e.tips_data,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("15",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.userQueryApi=a.userGuideApi=a.guideConfigApi=a.vipInfoApi=void 0;var P=e(16);o(),a.vipInfoApi=function(e){return(0,P.bdRequest)({api:"api/user/getinfo",data:e,method:"GET",clientType:32})},a.guideConfigApi=function(e){var t="rest/2.0/membership/product?method=guideconfig";return t+="&sid="+e.sid,t+="&data="+JSON.stringify(e.config),(0,P.bdRequest)({api:t,method:"POST",clientType:32})},a.userGuideApi=function(e){var t="rest/2.0/membership/user?method=guide";return t+="&type="+e.type,t+="&data="+JSON.stringify(e.config),(0,P.bdRequest)({api:t,data:e,method:"POST",clientType:32})},a.userQueryApi=function(e){return(0,P.bdRequest)({api:"rest/2.0/membership/user?method=query",data:e,method:"GET"})}})),window.define("16",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.bdRequest=void 0;var P=e(17),S=e(20),D=e(33),C=e(8),T=e(34),I=e(22),E=n.ENV,x=E.hostPanName,A=E.pcsDataHost,L=E.version,B=(E.debug,E.cType),F=E.cel,N=(E.swanReq,function(){var e=o();return e?e.globalData:{}}),O=function(e,t,a,i,n){var o=(new Date).getTime();(t.includes("lifeactivity/api/activityentry")||t.includes("act/api/activityentry"))&&(o/=1e3,o=(o=parseInt(o,10))+"&rand="+(0,P.md5)(i+o+"mdaqit#gxan@tm"+n));var r=e+t+(/\?/.test(t)?"&":"?")+"channel="+i+"&time="+o+"&version="+(n||L)+"&clienttype="+a;e===A&&(r=e+t+(/\?/.test(t)?"&":"?")+"channel="+i+"&version="+L+"&clienttype="+a);try{r+="&dp-logid="+I.BpDataInit.getDpLogId()}catch(e){console.log(e)}return r};a.bdRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:param,t=e.api,a=e.data,i=void 0===a?{}:a,r=e.method,s=void 0===r?"GET":r,c=e.hostName,l=void 0===c?x:c,p=e.clientType,u=void 0===p?B:p,d=e.channel,h=void 0===d?F:d,g=e.version,f=e.customHeader,m=void 0===f?{}:f,v=N();if(!v.isConnected)return n.sptoasthide()&&n.sptoasthide(),void n.showToast({title:"服务器出错，请退出稍后重试",duration:1500});var y=t.includes("api/shorturlinfo"),w=t.includes("api/analytics"),b=t.includes("api/list"),_=O(l,t,u,h,g),k=Object.assign({},{"content-type":"application/x-www-form-urlencoded",Cookie:(0,T.getCookie)(),devuid:"NA"},m);return new Promise((function(e,t){n.request({url:_,data:i,method:s,success:e,fail:t,complete:function(e){v.isOffLine=!(!e.errMsg||!e.errMsg.includes("request:fail"))},dataType:"json",header:k})})).then((function(e){if(!w&&e&&e.data&&S.badAccountTip[e.data.errno]){var t=S.badAccountTip[e.data.errno],a=o(),i=a&&a.globalData&&a.globalData.loginInfo&&a.globalData.loginInfo.uk||"",r=encodeURI("我的资源/"),s=(0,C.makeSchema)("MYFILE",{uk:i,path:r,behavior:n.ENV.fileTypeMap.MYFILE||"app_open",isSaved:"home"===a.globalData.processPage?"yes":"no",hasPanCode:"no"});(0,S.startDialog)({schema:s,showCancel:!0,showConfirm:!1,confirm:function(){n.log.badAccount.click.send()},showLogin:!0,noClip:!0,showBtn:!0,cancelText:"关闭",contents:[e.data.end_time&&9100===e.data.errno?t.contents+"期限："+(0,D.timestampTurnsTime)(e.data.end_time,2)+"。":t.contents],loginValue:t.confirmText,title:t.title}),n.log.badAccount.show.send(),e.data.tipDone=!0;try{n.sptoasthide()}catch(e){console.log(e)}}return y||b?e:e.data}),(function(e){return Promise.reject(e)})).catch((function(e){console.log(e)}))}})),window.define("17",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.md5=void 0,a.decrypt=function(e,t,a){var i=D.default.enc.Base64.parse(e);i=D.default.enc.Hex.stringify(i);var n=D.default.enc.Utf8.parse(t),o=D.default.enc.Hex.parse(i),r=D.default.enc.Base64.stringify(o),s=D.default.enc.Utf8.parse(a);return D.default.AES.decrypt(r,n,{iv:s,mode:D.default.mode.CBC,padding:D.default.pad.Pkcs7}).toString(D.default.enc.Utf8).toString()},a.encrypt=function(e,t,a){var i=D.default.enc.Utf8.parse(t),n=D.default.enc.Utf8.parse(a),o=D.default.enc.Utf8.parse(e);return D.default.AES.encrypt(o,i,{iv:n,mode:D.default.mode.CBC,padding:D.default.pad.Pkcs7}).ciphertext.toString().toUpperCase()};var P,S=e(18),D=(P=S)&&P.__esModule?P:{default:P},C=e(19);a.md5=C.hex_md5})),window.define("18",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S,D,C,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};C=function(){var e,t,a,i,n,o=o||function(e,t){var a=Object.create||function(){function e(){}return function(t){var a;return e.prototype=t,a=new e,e.prototype=null,a}}(),i={},n=i.lib={},o=n.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=n.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,a=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<n;o++){var r=a[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=r<<24-(i+o)%4*8}else for(o=0;o<n;o+=4)t[i+o>>>2]=a[o>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a,i=[],n=function(t){t=t;var a=987654321,i=4294967295;return function(){var n=((a=36969*(65535&a)+(a>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return n/=4294967296,(n+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=n(4294967296*(a||e.random()));a=987654071*s(),i.push(4294967296*s()|0)}return new r.init(i,t)}}),s=i.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,i=[],n=0;n<a;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,a=[],i=0;i<t;i+=2)a[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new r.init(a,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,i=[],n=0;n<a;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,a=[],i=0;i<t;i++)a[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new r.init(a,t)}},p=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},u=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,i=a.words,n=a.sigBytes,o=this.blockSize,s=n/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*c,n);if(c){for(var p=0;p<c;p+=o)this._doProcessBlock(i,p);var u=i.splice(0,c);a.sigBytes-=l}return new r.init(u,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(n.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new d.HMAC.init(e,a).finalize(t)}}}),i.algo={});return i}(Math);return t=(e=o).lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,i=this._map;e.clamp();for(var n=[],o=0;o<a;o+=3)for(var r=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<a;s++)n.push(i.charAt(r>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(e){var a=e.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<i.length;o++)n[i.charCodeAt(o)]=o}var r=i.charAt(64);if(r){var s=e.indexOf(r);-1!==s&&(a=s)}return function(e,a,i){for(var n=[],o=0,r=0;r<a;r++)if(r%4){var s=i[e.charCodeAt(r-1)]<<r%4*2,c=i[e.charCodeAt(r)]>>>6-r%4*2;n[o>>>2]|=(s|c)<<24-o%4*8,o++}return t.create(n,o)}(e,a,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){var t=o,a=t.lib,i=a.WordArray,n=a.Hasher,r=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=r.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var i=t+a,n=e[i];e[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,r=e[t+0],c=e[t+1],h=e[t+2],g=e[t+3],f=e[t+4],m=e[t+5],v=e[t+6],y=e[t+7],w=e[t+8],b=e[t+9],_=e[t+10],k=e[t+11],P=e[t+12],S=e[t+13],D=e[t+14],C=e[t+15],T=o[0],I=o[1],E=o[2],x=o[3];T=l(T,I,E,x,r,7,s[0]),x=l(x,T,I,E,c,12,s[1]),E=l(E,x,T,I,h,17,s[2]),I=l(I,E,x,T,g,22,s[3]),T=l(T,I,E,x,f,7,s[4]),x=l(x,T,I,E,m,12,s[5]),E=l(E,x,T,I,v,17,s[6]),I=l(I,E,x,T,y,22,s[7]),T=l(T,I,E,x,w,7,s[8]),x=l(x,T,I,E,b,12,s[9]),E=l(E,x,T,I,_,17,s[10]),I=l(I,E,x,T,k,22,s[11]),T=l(T,I,E,x,P,7,s[12]),x=l(x,T,I,E,S,12,s[13]),E=l(E,x,T,I,D,17,s[14]),T=p(T,I=l(I,E,x,T,C,22,s[15]),E,x,c,5,s[16]),x=p(x,T,I,E,v,9,s[17]),E=p(E,x,T,I,k,14,s[18]),I=p(I,E,x,T,r,20,s[19]),T=p(T,I,E,x,m,5,s[20]),x=p(x,T,I,E,_,9,s[21]),E=p(E,x,T,I,C,14,s[22]),I=p(I,E,x,T,f,20,s[23]),T=p(T,I,E,x,b,5,s[24]),x=p(x,T,I,E,D,9,s[25]),E=p(E,x,T,I,g,14,s[26]),I=p(I,E,x,T,w,20,s[27]),T=p(T,I,E,x,S,5,s[28]),x=p(x,T,I,E,h,9,s[29]),E=p(E,x,T,I,y,14,s[30]),T=u(T,I=p(I,E,x,T,P,20,s[31]),E,x,m,4,s[32]),x=u(x,T,I,E,w,11,s[33]),E=u(E,x,T,I,k,16,s[34]),I=u(I,E,x,T,D,23,s[35]),T=u(T,I,E,x,c,4,s[36]),x=u(x,T,I,E,f,11,s[37]),E=u(E,x,T,I,y,16,s[38]),I=u(I,E,x,T,_,23,s[39]),T=u(T,I,E,x,S,4,s[40]),x=u(x,T,I,E,r,11,s[41]),E=u(E,x,T,I,g,16,s[42]),I=u(I,E,x,T,v,23,s[43]),T=u(T,I,E,x,b,4,s[44]),x=u(x,T,I,E,P,11,s[45]),E=u(E,x,T,I,C,16,s[46]),T=d(T,I=u(I,E,x,T,h,23,s[47]),E,x,r,6,s[48]),x=d(x,T,I,E,y,10,s[49]),E=d(E,x,T,I,D,15,s[50]),I=d(I,E,x,T,m,21,s[51]),T=d(T,I,E,x,P,6,s[52]),x=d(x,T,I,E,g,10,s[53]),E=d(E,x,T,I,_,15,s[54]),I=d(I,E,x,T,c,21,s[55]),T=d(T,I,E,x,w,6,s[56]),x=d(x,T,I,E,C,10,s[57]),E=d(E,x,T,I,v,15,s[58]),I=d(I,E,x,T,S,21,s[59]),T=d(T,I,E,x,f,6,s[60]),x=d(x,T,I,E,k,10,s[61]),E=d(E,x,T,I,h,15,s[62]),I=d(I,E,x,T,b,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+I|0,o[2]=o[2]+E|0,o[3]=o[3]+x|0},_doFinalize:function(){var t=this._data,a=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;a[n>>>5]|=128<<24-n%32;var o=e.floor(i/4294967296),r=i;a[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(a.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var p=c[l];c[l]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,a,i,n,o,r){var s=e+(t&a|~t&i)+n+r;return(s<<o|s>>>32-o)+t}function p(e,t,a,i,n,o,r){var s=e+(t&i|a&~i)+n+r;return(s<<o|s>>>32-o)+t}function u(e,t,a,i,n,o,r){var s=e+(t^a^i)+n+r;return(s<<o|s>>>32-o)+t}function d(e,t,a,i,n,o,r){var s=e+(a^(t|~i))+n+r;return(s<<o|s>>>32-o)+t}t.MD5=n._createHelper(c),t.HmacMD5=n._createHmacHelper(c)}(Math),function(){var e=o,t=e.lib,a=t.WordArray,i=t.Hasher,n=e.algo,r=[],s=n.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,i=a[0],n=a[1],o=a[2],s=a[3],c=a[4],l=0;l<80;l++){if(l<16)r[l]=0|e[t+l];else{var p=r[l-3]^r[l-8]^r[l-14]^r[l-16];r[l]=p<<1|p>>>31}var u=(i<<5|i>>>27)+c+r[l];u+=l<20?1518500249+(n&o|~n&s):l<40?1859775393+(n^o^s):l<60?(n&o|n&s|o&s)-1894007588:(n^o^s)-899497514,c=s,s=o,o=n<<30|n>>>2,n=i,i=u}a[0]=a[0]+i|0,a[1]=a[1]+n|0,a[2]=a[2]+o|0,a[3]=a[3]+s|0,a[4]=a[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(a/4294967296),t[15+(i+64>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),function(e){var t=o,a=t.lib,i=a.WordArray,n=a.Hasher,r=t.algo,s=[],c=[];!function(){function t(t){for(var a=e.sqrt(t),i=2;i<=a;i++)if(!(t%i))return!1;return!0}function a(e){return 4294967296*(e-(0|e))|0}for(var i=2,n=0;n<64;)t(i)&&(n<8&&(s[n]=a(e.pow(i,.5))),c[n]=a(e.pow(i,1/3)),n++),i++}();var l=[],p=r.SHA256=n.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var a=this._hash.words,i=a[0],n=a[1],o=a[2],r=a[3],s=a[4],p=a[5],u=a[6],d=a[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var g=l[h-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,m=l[h-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[h]=f+l[h-7]+v+l[h-16]}var y=i&n^i&o^n&o,w=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&p^~s&u)+c[h]+l[h];d=u,u=p,p=s,s=r+b|0,r=o,o=n,n=i,i=b+(w+y)|0}a[0]=a[0]+i|0,a[1]=a[1]+n|0,a[2]=a[2]+o|0,a[3]=a[3]+r|0,a[4]=a[4]+s|0,a[5]=a[5]+p|0,a[6]=a[6]+u|0,a[7]=a[7]+d|0},_doFinalize:function(){var t=this._data,a=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return a[n>>>5]|=128<<24-n%32,a[14+(n+64>>>9<<4)]=e.floor(i/4294967296),a[15+(n+64>>>9<<4)]=i,t.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=n._createHelper(p),t.HmacSHA256=n._createHmacHelper(p)}(Math),function(){var e=o,t=e.lib.WordArray,a=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}a.Utf16=a.Utf16BE={stringify:function(e){for(var t=e.words,a=e.sigBytes,i=[],n=0;n<a;n+=2){var o=t[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var a=e.length,i=[],n=0;n<a;n++)i[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return t.create(i,2*a)}},a.Utf16LE={stringify:function(e){for(var t=e.words,a=e.sigBytes,n=[],o=0;o<a;o+=2){var r=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(r))}return n.join("")},parse:function(e){for(var a=e.length,n=[],o=0;o<a;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(n,2*a)}}}(),function(){if("function"==typeof ArrayBuffer){var e=o.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var a=e.byteLength,i=[],n=0;n<a;n++)i[n>>>2]|=e[n]<<24-n%4*8;t.call(this,i,a)}else t.apply(this,arguments)}).prototype=e}}(),
/** @preserve
 (c) 2012 by Cédric Mesnil. All rights reserved.
 	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
 	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
     - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
function(e){var t=o,a=t.lib,i=a.WordArray,n=a.Hasher,r=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=r.RIPEMD160=n.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var i=t+a,n=e[i];e[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,r,h,b,_,k,P,S,D,C,T,I=this._hash.words,E=u.words,x=d.words,A=s.words,L=c.words,B=l.words,F=p.words;for(k=o=I[0],P=r=I[1],S=h=I[2],D=b=I[3],C=_=I[4],a=0;a<80;a+=1)T=o+e[t+A[a]]|0,T+=a<16?g(r,h,b)+E[0]:a<32?f(r,h,b)+E[1]:a<48?m(r,h,b)+E[2]:a<64?v(r,h,b)+E[3]:y(r,h,b)+E[4],T=(T=w(T|=0,B[a]))+_|0,o=_,_=b,b=w(h,10),h=r,r=T,T=k+e[t+L[a]]|0,T+=a<16?y(P,S,D)+x[0]:a<32?v(P,S,D)+x[1]:a<48?m(P,S,D)+x[2]:a<64?f(P,S,D)+x[3]:g(P,S,D)+x[4],T=(T=w(T|=0,F[a]))+C|0,k=C,C=D,D=w(S,10),S=P,P=T;T=I[1]+h+D|0,I[1]=I[2]+b+C|0,I[2]=I[3]+_+k|0,I[3]=I[4]+o+P|0,I[4]=I[0]+r+S|0,I[0]=T},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process();for(var n=this._hash,o=n.words,r=0;r<5;r++){var s=o[r];o[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function g(e,t,a){return e^t^a}function f(e,t,a){return e&t|~e&a}function m(e,t,a){return(e|~t)^a}function v(e,t,a){return e&a|t&~a}function y(e,t,a){return e^(t|~a)}function w(e,t){return e<<t|e>>>32-t}t.RIPEMD160=n._createHelper(h),t.HmacRIPEMD160=n._createHmacHelper(h)}(Math),function(){var e=o,t=e.lib.Base,a=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),r=this._iKey=t.clone(),s=o.words,c=r.words,l=0;l<i;l++)s[l]^=1549556828,c[l]^=909522486;o.sigBytes=r.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,a=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(a))}})}(),function(){var e=o,t=e.lib,a=t.Base,i=t.WordArray,n=e.algo,r=n.SHA1,s=n.HMAC,c=n.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,n=s.create(a.hasher,e),o=i.create(),r=i.create([1]),c=o.words,l=r.words,p=a.keySize,u=a.iterations;c.length<p;){var d=n.update(t).finalize(r);n.reset();for(var h=d.words,g=h.length,f=d,m=1;m<u;m++){f=n.finalize(f),n.reset();for(var v=f.words,y=0;y<g;y++)h[y]^=v[y]}o.concat(d),l[0]++}return o.sigBytes=4*p,o}});e.PBKDF2=function(e,t,a){return c.create(a).compute(e,t)}}(),function(){var e=o,t=e.lib,a=t.Base,i=t.WordArray,n=e.algo,r=n.MD5,s=n.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,n=a.hasher.create(),o=i.create(),r=o.words,s=a.keySize,c=a.iterations;r.length<s;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var p=1;p<c;p++)l=n.finalize(l),n.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,a){return s.create(a).compute(e,t)}}(),function(){var e=o,t=e.lib.WordArray,a=e.algo,i=a.SHA256,n=a.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(n),e.HmacSHA224=i._createHmacHelper(n)}(),function(e){var t=o,a=t.lib,i=a.Base,n=a.WordArray,r=t.x64={};r.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,a=[],i=0;i<t;i++){var o=e[i];a.push(o.high),a.push(o.low)}return n.create(a,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),a=t.length,n=0;n<a;n++)t[n]=t[n].clone();return e}})}(),function(e){var t=o,a=t.lib,i=a.WordArray,n=a.Hasher,r=t.x64.Word,s=t.algo,c=[],l=[],p=[];!function(){for(var e=1,t=0,a=0;a<24;a++){c[e+5*t]=(a+1)*(a+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var n=1,o=0;o<24;o++){for(var s=0,u=0,d=0;d<7;d++){if(1&n){var h=(1<<d)-1;h<32?u^=1<<h:s^=1<<h-32}128&n?n=n<<1^113:n<<=1}p[o]=r.create(s,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=r.create()}();var d=s.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new r.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var a=this._state,i=this.blockSize/2,n=0;n<i;n++){var o=e[t+2*n],r=e[t+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(I=a[n]).high^=r,I.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,g=0,f=0;f<5;f++)h^=(I=a[d+5*f]).high,g^=I.low;var m=u[d];m.high=h,m.low=g}for(d=0;d<5;d++){var v=u[(d+4)%5],y=u[(d+1)%5],w=y.high,b=y.low;for(h=v.high^(w<<1|b>>>31),g=v.low^(b<<1|w>>>31),f=0;f<5;f++)(I=a[d+5*f]).high^=h,I.low^=g}for(var _=1;_<25;_++){var k=(I=a[_]).high,P=I.low,S=c[_];S<32?(h=k<<S|P>>>32-S,g=P<<S|k>>>32-S):(h=P<<S-32|k>>>64-S,g=k<<S-32|P>>>64-S);var D=u[l[_]];D.high=h,D.low=g}var C=u[0],T=a[0];for(C.high=T.high,C.low=T.low,d=0;d<5;d++)for(f=0;f<5;f++){var I=a[_=d+5*f],E=u[_],x=u[(d+1)%5+5*f],A=u[(d+2)%5+5*f];I.high=E.high^~x.high&A.high,I.low=E.low^~x.low&A.low}I=a[0];var L=p[s];I.high^=L.high,I.low^=L.low}},_doFinalize:function(){var t=this._data,a=t.words,n=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;a[n>>>5]|=1<<24-n%32,a[(e.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*a.length,this._process();for(var r=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],p=0;p<c;p++){var u=r[p],d=u.high,h=u.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(d)}return new i.init(l,s)},clone:function(){for(var e=n.clone.call(this),t=e._state=this._state.slice(0),a=0;a<25;a++)t[a]=t[a].clone();return e}});t.SHA3=n._createHelper(d),t.HmacSHA3=n._createHmacHelper(d)}(Math),function(){var e=o,t=e.lib.Hasher,a=e.x64,i=a.Word,n=a.WordArray,r=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var p=r.SHA512=t.extend({_doReset:function(){this._hash=new n.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var a=this._hash.words,i=a[0],n=a[1],o=a[2],r=a[3],s=a[4],p=a[5],u=a[6],d=a[7],h=i.high,g=i.low,f=n.high,m=n.low,v=o.high,y=o.low,w=r.high,b=r.low,_=s.high,k=s.low,P=p.high,S=p.low,D=u.high,C=u.low,T=d.high,I=d.low,E=h,x=g,A=f,L=m,B=v,F=y,N=w,O=b,R=_,U=k,M=P,j=S,z=D,V=C,H=T,W=I,q=0;q<80;q++){var G=l[q];if(q<16)var J=G.high=0|e[t+2*q],K=G.low=0|e[t+2*q+1];else{var Q=l[q-15],Y=Q.high,X=Q.low,$=(Y>>>1|X<<31)^(Y>>>8|X<<24)^Y>>>7,Z=(X>>>1|Y<<31)^(X>>>8|Y<<24)^(X>>>7|Y<<25),ee=l[q-2],te=ee.high,ae=ee.low,ie=(te>>>19|ae<<13)^(te<<3|ae>>>29)^te>>>6,ne=(ae>>>19|te<<13)^(ae<<3|te>>>29)^(ae>>>6|te<<26),oe=l[q-7],re=oe.high,se=oe.low,ce=l[q-16],le=ce.high,pe=ce.low;J=(J=(J=$+re+((K=Z+se)>>>0<Z>>>0?1:0))+ie+((K+=ne)>>>0<ne>>>0?1:0))+le+((K+=pe)>>>0<pe>>>0?1:0),G.high=J,G.low=K}var ue,de=R&M^~R&z,he=U&j^~U&V,ge=E&A^E&B^A&B,fe=x&L^x&F^L&F,me=(E>>>28|x<<4)^(E<<30|x>>>2)^(E<<25|x>>>7),ve=(x>>>28|E<<4)^(x<<30|E>>>2)^(x<<25|E>>>7),ye=(R>>>14|U<<18)^(R>>>18|U<<14)^(R<<23|U>>>9),we=(U>>>14|R<<18)^(U>>>18|R<<14)^(U<<23|R>>>9),be=c[q],_e=be.high,ke=be.low,Pe=H+ye+((ue=W+we)>>>0<W>>>0?1:0),Se=ve+fe;H=z,W=V,z=M,V=j,M=R,j=U,R=N+(Pe=(Pe=(Pe=Pe+de+((ue+=he)>>>0<he>>>0?1:0))+_e+((ue+=ke)>>>0<ke>>>0?1:0))+J+((ue+=K)>>>0<K>>>0?1:0))+((U=O+ue|0)>>>0<O>>>0?1:0)|0,N=B,O=F,B=A,F=L,A=E,L=x,E=Pe+(me+ge+(Se>>>0<ve>>>0?1:0))+((x=ue+Se|0)>>>0<ue>>>0?1:0)|0}g=i.low=g+x,i.high=h+E+(g>>>0<x>>>0?1:0),m=n.low=m+L,n.high=f+A+(m>>>0<L>>>0?1:0),y=o.low=y+F,o.high=v+B+(y>>>0<F>>>0?1:0),b=r.low=b+O,r.high=w+N+(b>>>0<O>>>0?1:0),k=s.low=k+U,s.high=_+R+(k>>>0<U>>>0?1:0),S=p.low=S+j,p.high=P+M+(S>>>0<j>>>0?1:0),C=u.low=C+V,u.high=D+z+(C>>>0<V>>>0?1:0),I=d.low=I+W,d.high=T+H+(I>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(a/4294967296),t[31+(i+128>>>10<<5)]=a,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(p),e.HmacSHA512=t._createHmacHelper(p)}(),function(){var e=o,t=e.x64,a=t.Word,i=t.WordArray,n=e.algo,r=n.SHA512,s=n.SHA384=r.extend({_doReset:function(){this._hash=new i.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(s),e.HmacSHA384=r._createHmacHelper(s)}(),o.lib.Cipher||function(e){var t=o,a=t.lib,i=a.Base,n=a.WordArray,r=a.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,p=a.Cipher=r.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:v}return function(t){return{encrypt:function(a,i,n){return e(i).encrypt(t,a,i,n)},decrypt:function(a,i,n){return e(i).decrypt(t,a,i,n)}}}}()}),u=(a.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=a.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=u.CBC=function(){var e=d.extend();function t(e,t,a){var i=this._iv;if(i){var n=i;this._iv=void 0}else n=this._prevBlock;for(var o=0;o<a;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,a){var i=this._cipher,n=i.blockSize;t.call(this,e,a,n),i.encryptBlock(e,a),this._prevBlock=e.slice(a,a+n)}}),e.Decryptor=e.extend({processBlock:function(e,a){var i=this._cipher,n=i.blockSize,o=e.slice(a,a+n);i.decryptBlock(e,a),t.call(this,e,a,n),this._prevBlock=o}}),e}(),g=(t.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,i=a-e.sigBytes%a,o=i<<24|i<<16|i<<8|i,r=[],s=0;s<i;s+=4)r.push(o);var c=n.create(r,i);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},f=(a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:h,padding:g}),reset:function(){p.reset.call(this);var e=this.cfg,t=e.iv,a=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=a.createEncryptor;else i=a.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,t&&t.words):(this._mode=i.call(a,this,t&&t.words),this._mode.__creator=i)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),a.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,a=e.salt;if(a)var i=n.create([1398893684,1701076831]).concat(a).concat(t);else i=t;return i.toString(c)},parse:function(e){var t=c.parse(e),a=t.words;if(1398893684==a[0]&&1701076831==a[1]){var i=n.create(a.slice(2,4));a.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:i})}},v=a.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,a,i){i=this.cfg.extend(i);var n=e.createEncryptor(a,i),o=n.finalize(t),r=n.cfg;return f.create({ciphertext:o,key:a,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,a,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(a,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,a,i){i||(i=n.random(8));var o=l.create({keySize:t+a}).compute(e,i),r=n.create(o.words.slice(t),4*a);return o.sigBytes=4*t,f.create({key:o,iv:r,salt:i})}},w=a.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,a,i){var n=(i=this.cfg.extend(i)).kdf.execute(a,e.keySize,e.ivSize);i.iv=n.iv;var o=v.encrypt.call(this,e,t,n.key,i);return o.mixIn(n),o},decrypt:function(e,t,a,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var n=i.kdf.execute(a,e.keySize,e.ivSize,t.salt);return i.iv=n.iv,v.decrypt.call(this,e,t,n.key,i)}})}(),o.mode.CFB=function(){var e=o.lib.BlockCipherMode.extend();function t(e,t,a,i){var n=this._iv;if(n){var o=n.slice(0);this._iv=void 0}else o=this._prevBlock;i.encryptBlock(o,0);for(var r=0;r<a;r++)e[t+r]^=o[r]}return e.Encryptor=e.extend({processBlock:function(e,a){var i=this._cipher,n=i.blockSize;t.call(this,e,a,n,i),this._prevBlock=e.slice(a,a+n)}}),e.Decryptor=e.extend({processBlock:function(e,a){var i=this._cipher,n=i.blockSize,o=e.slice(a,a+n);t.call(this,e,a,n,i),this._prevBlock=o}}),e}(),o.mode.ECB=((a=o.lib.BlockCipherMode.extend()).Encryptor=a.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),a.Decryptor=a.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),a),o.pad.AnsiX923={pad:function(e,t){var a=e.sigBytes,i=4*t,n=i-a%i,o=a+n-1;e.clamp(),e.words[o>>>2]|=n<<24-o%4*8,e.sigBytes+=n},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso10126={pad:function(e,t){var a=4*t,i=a-e.sigBytes%a;e.concat(o.lib.WordArray.random(i-1)).concat(o.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso97971={pad:function(e,t){e.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(e,t)},unpad:function(e){o.pad.ZeroPadding.unpad(e),e.sigBytes--}},o.mode.OFB=(i=o.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(e,t){var a=this._cipher,i=a.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),a.encryptBlock(o,0);for(var r=0;r<i;r++)e[t+r]^=o[r]}}),i.Decryptor=n,i),o.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var t=o,a=t.lib.CipherParams,i=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return a.create({ciphertext:t})}}}(),function(){var e=o,t=e.lib.BlockCipher,a=e.algo,i=[],n=[],r=[],s=[],c=[],l=[],p=[],u=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var a=0,o=0;for(t=0;t<256;t++){var g=o^o<<1^o<<2^o<<3^o<<4;g=g>>>8^255&g^99,i[a]=g,n[g]=a;var f=e[a],m=e[f],v=e[m],y=257*e[g]^16843008*g;r[a]=y<<24|y>>>8,s[a]=y<<16|y>>>16,c[a]=y<<8|y>>>24,l[a]=y,y=16843009*v^65537*m^257*f^16843008*a,p[g]=y<<24|y>>>8,u[g]=y<<16|y>>>16,d[g]=y<<8|y>>>24,h[g]=y,a?(a=f^e[e[e[v^f]]],o^=e[e[o]]):a=o=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],f=a.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,n=4*((this._nRounds=a+6)+1),o=this._keySchedule=[],r=0;r<n;r++)if(r<a)o[r]=t[r];else{var s=o[r-1];r%a?a>6&&r%a==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=g[r/a|0]<<24),o[r]=o[r-a]^s}for(var c=this._invKeySchedule=[],l=0;l<n;l++)r=n-l,s=l%4?o[r]:o[r-4],c[l]=l<4||r<=4?s:p[i[s>>>24]]^u[i[s>>>16&255]]^d[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,c,l,i)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,p,u,d,h,n),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,i,n,o,r,s){for(var c=this._nRounds,l=e[t]^a[0],p=e[t+1]^a[1],u=e[t+2]^a[2],d=e[t+3]^a[3],h=4,g=1;g<c;g++){var f=i[l>>>24]^n[p>>>16&255]^o[u>>>8&255]^r[255&d]^a[h++],m=i[p>>>24]^n[u>>>16&255]^o[d>>>8&255]^r[255&l]^a[h++],v=i[u>>>24]^n[d>>>16&255]^o[l>>>8&255]^r[255&p]^a[h++],y=i[d>>>24]^n[l>>>16&255]^o[p>>>8&255]^r[255&u]^a[h++];l=f,p=m,u=v,d=y}f=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^a[h++],m=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^a[h++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^a[h++],y=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^a[h++],e[t]=f,e[t+1]=m,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(f)}(),function(){var e=o,t=e.lib,a=t.WordArray,i=t.BlockCipher,n=e.algo,r=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=n.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],a=0;a<56;a++){var i=r[a]-1;t[a]=e[i>>>5]>>>31-i%32&1}for(var n=this._subKeys=[],o=0;o<16;o++){var l=n[o]=[],p=c[o];for(a=0;a<24;a++)l[a/6|0]|=t[(s[a]-1+p)%28]<<31-a%6,l[4+(a/6|0)]|=t[28+(s[a+24]-1+p)%28]<<31-a%6;for(l[0]=l[0]<<1|l[0]>>>31,a=1;a<7;a++)l[a]=l[a]>>>4*(a-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(a=0;a<16;a++)u[a]=n[15-a]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,a){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var i=0;i<16;i++){for(var n=a[i],o=this._lBlock,r=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((r^n[c])&p[c])>>>0];this._lBlock=r,this._rBlock=o^s}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var a=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=a,this._lBlock^=a<<e}function h(e,t){var a=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=a,this._rBlock^=a<<e}e.DES=i._createHelper(u);var g=n.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=u.createEncryptor(a.create(e.slice(0,2))),this._des2=u.createEncryptor(a.create(e.slice(2,4))),this._des3=u.createEncryptor(a.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(g)}(),function(){var e=o,t=e.lib.StreamCipher,a=e.algo,i=a.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;n=0;for(var o=0;n<256;n++){var r=n%a,s=t[r>>>2]>>>24-r%4*8&255;o=(o+i[n]+s)%256;var c=i[n];i[n]=i[o],i[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var e=this._S,t=this._i,a=this._j,i=0,n=0;n<4;n++){a=(a+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[a],e[a]=o,i|=e[(e[t]+e[a])%256]<<24-8*n}return this._i=t,this._j=a,i}e.RC4=t._createHelper(i);var r=a.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)n.call(this)}});e.RC4Drop=t._createHelper(r)}(),
/** @preserve
  * Counter block mode compatible with  Dr Brian Gladman fileenc.c
  * derived from CryptoJS.mode.CTR
  * Jan Hruby jhruby.web@gmail.com
  */
o.mode.CTRGladman=function(){var e=o.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,a=e>>8&255,i=255&e;255===t?(t=0,255===a?(a=0,255===i?i=0:++i):++a):++t,e=0,e+=t<<16,e+=a<<8,e+=i}else e+=1<<24;return e}var a=e.Encryptor=e.extend({processBlock:function(e,a){var i=this._cipher,n=i.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(r);var s=r.slice(0);i.encryptBlock(s,0);for(var c=0;c<n;c++)e[a+c]^=s[c]}});return e.Decryptor=a,e}(),function(){var e=o,t=e.lib.StreamCipher,a=e.algo,i=[],n=[],r=[],s=a.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,a=0;a<4;a++)e[a]=16711935&(e[a]<<8|e[a]>>>24)|4278255360&(e[a]<<24|e[a]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,a=0;a<4;a++)c.call(this);for(a=0;a<8;a++)n[a]^=i[a+4&7];if(t){var o=t.words,r=o[0],s=o[1],l=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),p=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=l>>>16|4294901760&p,d=p<<16|65535&l;for(n[0]^=l,n[1]^=u,n[2]^=p,n[3]^=d,n[4]^=l,n[5]^=u,n[6]^=p,n[7]^=d,a=0;a<4;a++)c.call(this)}},_doProcessBlock:function(e,t){var a=this._X;c.call(this),i[0]=a[0]^a[5]>>>16^a[3]<<16,i[1]=a[2]^a[7]>>>16^a[5]<<16,i[2]=a[4]^a[1]>>>16^a[7]<<16,i[3]=a[6]^a[3]>>>16^a[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,a=0;a<8;a++)n[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,a=0;a<8;a++){var i=e[a]+t[a],o=65535&i,s=i>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);r[a]=c^l}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}e.Rabbit=t._createHelper(s)}(),o.mode.CTR=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var a=this._cipher,i=a.blockSize,n=this._iv,o=this._counter;n&&(o=this._counter=n.slice(0),this._iv=void 0);var r=o.slice(0);a.encryptBlock(r,0),o[i-1]=o[i-1]+1|0;for(var s=0;s<i;s++)e[t+s]^=r[s]}});return e.Decryptor=t,e}(),function(){var e=o,t=e.lib.StreamCipher,a=e.algo,i=[],n=[],r=[],s=a.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,a=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=a[n+4&7];if(t){var o=t.words,r=o[0],s=o[1],l=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),p=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=l>>>16|4294901760&p,d=p<<16|65535&l;for(i[0]^=l,i[1]^=u,i[2]^=p,i[3]^=d,i[4]^=l,i[5]^=u,i[6]^=p,i[7]^=d,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var a=this._X;c.call(this),i[0]=a[0]^a[5]>>>16^a[3]<<16,i[1]=a[2]^a[7]>>>16^a[5]<<16,i[2]=a[4]^a[1]>>>16^a[7]<<16,i[3]=a[6]^a[3]>>>16^a[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,a=0;a<8;a++)n[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,a=0;a<8;a++){var i=e[a]+t[a],o=65535&i,s=i>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);r[a]=c^l}e[0]=r[0]+(r[7]<<16|r[7]>>>16)+(r[6]<<16|r[6]>>>16)|0,e[1]=r[1]+(r[0]<<8|r[0]>>>24)+r[7]|0,e[2]=r[2]+(r[1]<<16|r[1]>>>16)+(r[0]<<16|r[0]>>>16)|0,e[3]=r[3]+(r[2]<<8|r[2]>>>24)+r[1]|0,e[4]=r[4]+(r[3]<<16|r[3]>>>16)+(r[2]<<16|r[2]>>>16)|0,e[5]=r[5]+(r[4]<<8|r[4]>>>24)+r[3]|0,e[6]=r[6]+(r[5]<<16|r[5]>>>16)+(r[4]<<16|r[4]>>>16)|0,e[7]=r[7]+(r[6]<<8|r[6]>>>24)+r[5]|0}e.RabbitLegacy=t._createHelper(s)}(),o.pad.ZeroPadding={pad:function(e,t){var a=4*t;e.clamp(),e.sigBytes+=a-(e.sigBytes%a||a)},unpad:function(e){for(var t=e.words,a=e.sigBytes-1;!(t[a>>>2]>>>24-a%4*8&255);)a--;e.sigBytes=a+1}},o},"object"===T(a)?t.exports=a=C():(S=[],void 0===(D="function"==typeof(P=C)?P.apply(a,S):P)||(t.exports=D))})),window.define("19",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.hex_md5=function(e){return L(P(x(e),8*e.length))},a.b64_md5=function(e){return B(P(x(e),8*e.length))},a.str_md5=function(e){return A(P(x(e),8*e.length))};function P(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,i=-271733879,n=-1732584194,o=271733878,r=0;r<e.length;r+=16){var s=a,c=i,l=n,p=o;a=D(a,i,n,o,e[r+0],7,-680876936),o=D(o,a,i,n,e[r+1],12,-389564586),n=D(n,o,a,i,e[r+2],17,606105819),i=D(i,n,o,a,e[r+3],22,-1044525330),a=D(a,i,n,o,e[r+4],7,-176418897),o=D(o,a,i,n,e[r+5],12,1200080426),n=D(n,o,a,i,e[r+6],17,-1473231341),i=D(i,n,o,a,e[r+7],22,-45705983),a=D(a,i,n,o,e[r+8],7,1770035416),o=D(o,a,i,n,e[r+9],12,-1958414417),n=D(n,o,a,i,e[r+10],17,-42063),i=D(i,n,o,a,e[r+11],22,-1990404162),a=D(a,i,n,o,e[r+12],7,1804603682),o=D(o,a,i,n,e[r+13],12,-40341101),n=D(n,o,a,i,e[r+14],17,-1502002290),a=C(a,i=D(i,n,o,a,e[r+15],22,1236535329),n,o,e[r+1],5,-165796510),o=C(o,a,i,n,e[r+6],9,-1069501632),n=C(n,o,a,i,e[r+11],14,643717713),i=C(i,n,o,a,e[r+0],20,-373897302),a=C(a,i,n,o,e[r+5],5,-701558691),o=C(o,a,i,n,e[r+10],9,38016083),n=C(n,o,a,i,e[r+15],14,-660478335),i=C(i,n,o,a,e[r+4],20,-405537848),a=C(a,i,n,o,e[r+9],5,568446438),o=C(o,a,i,n,e[r+14],9,-1019803690),n=C(n,o,a,i,e[r+3],14,-187363961),i=C(i,n,o,a,e[r+8],20,1163531501),a=C(a,i,n,o,e[r+13],5,-1444681467),o=C(o,a,i,n,e[r+2],9,-51403784),n=C(n,o,a,i,e[r+7],14,1735328473),a=T(a,i=C(i,n,o,a,e[r+12],20,-1926607734),n,o,e[r+5],4,-378558),o=T(o,a,i,n,e[r+8],11,-2022574463),n=T(n,o,a,i,e[r+11],16,1839030562),i=T(i,n,o,a,e[r+14],23,-35309556),a=T(a,i,n,o,e[r+1],4,-1530992060),o=T(o,a,i,n,e[r+4],11,1272893353),n=T(n,o,a,i,e[r+7],16,-155497632),i=T(i,n,o,a,e[r+10],23,-1094730640),a=T(a,i,n,o,e[r+13],4,681279174),o=T(o,a,i,n,e[r+0],11,-358537222),n=T(n,o,a,i,e[r+3],16,-722521979),i=T(i,n,o,a,e[r+6],23,76029189),a=T(a,i,n,o,e[r+9],4,-640364487),o=T(o,a,i,n,e[r+12],11,-421815835),n=T(n,o,a,i,e[r+15],16,530742520),a=I(a,i=T(i,n,o,a,e[r+2],23,-995338651),n,o,e[r+0],6,-198630844),o=I(o,a,i,n,e[r+7],10,1126891415),n=I(n,o,a,i,e[r+14],15,-1416354905),i=I(i,n,o,a,e[r+5],21,-57434055),a=I(a,i,n,o,e[r+12],6,1700485571),o=I(o,a,i,n,e[r+3],10,-1894986606),n=I(n,o,a,i,e[r+10],15,-1051523),i=I(i,n,o,a,e[r+1],21,-2054922799),a=I(a,i,n,o,e[r+8],6,1873313359),o=I(o,a,i,n,e[r+15],10,-30611744),n=I(n,o,a,i,e[r+6],15,-1560198380),i=I(i,n,o,a,e[r+13],21,1309151649),a=I(a,i,n,o,e[r+4],6,-145523070),o=I(o,a,i,n,e[r+11],10,-1120210379),n=I(n,o,a,i,e[r+2],15,718787259),i=I(i,n,o,a,e[r+9],21,-343485551),a=E(a,s),i=E(i,c),n=E(n,l),o=E(o,p)}return Array(a,i,n,o)}function S(e,t,a,i,n,o){return E((r=E(E(t,e),E(i,o)))<<(s=n)|r>>>32-s,a);var r,s}function D(e,t,a,i,n,o,r){return S(t&a|~t&i,e,t,n,o,r)}function C(e,t,a,i,n,o,r){return S(t&i|a&~i,e,t,n,o,r)}function T(e,t,a,i,n,o,r){return S(t^a^i,e,t,n,o,r)}function I(e,t,a,i,n,o,r){return S(a^(t|~i),e,t,n,o,r)}function E(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function x(e){for(var t=Array(),a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t}function A(e){for(var t="",a=0;a<32*e.length;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function L(e){for(var t="0123456789abcdef",a="",i=0;i<4*e.length;i++)a+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return a}function B(e){for(var t="",a=0;a<4*e.length;a+=3)for(var i=(e[a>>2]>>a%4*8&255)<<16|(e[a+1>>2]>>(a+1)%4*8&255)<<8|e[a+2>>2]>>(a+2)%4*8&255,n=0;n<4;n++)8*a+6*n>32*e.length?t+="":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-n)&63);return t}})),window.define("20",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.badAccountTip=a.startDialog=a.toLoginPage=a.getUserInfo=a.checkUserLogin=a.checkAppLogin=a.appLogin=a.bdLogin=a.bpStoken=a.bdBDUSS=void 0;var P,S=e(7),D=e(16),C=e(21),T=(P=C)&&P.__esModule?P:{default:P};var I=a.bdBDUSS=function(){return(0,S.getBDUSS)().then((function(e){try{n.setStorageSync("bduss",e.bduss),n.setStorageSync("openBduss",e.openBduss)}catch(e){console.log("SET_BDUSS_CRASH_ERR: ",e)}}),(function(e){console.log("GET_BDUSS_ERR: ",e)})).catch((function(e){console.log("GET_BDUSS_CRASH_ERR: ",e)}))},E=a.bpStoken=function(){return(0,S.getStoken)("netdisk").then((function(e){try{n.setStorageSync("stoken",e.stoken)}catch(e){console.log("SET_STOKEN_CRASH_ERR: ",e)}}),(function(e){console.log("GET_STOKEN_ERR: ",e)})).catch((function(e){console.log("GET_STOKEN_CRASH_ERR: ",e)}))};a.bdLogin=function(){var e=(o()||{}).globalData,t=(void 0===e?{}:e).canUseApi,a=(void 0===t?{}:t).canIUseBDUSS,i=void 0!==a&&a,n=I(),r=E();return i?Promise.all([n,r]):Promise.all([r])},a.appLogin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sms",a=o()||{},i=a.globalData,r=void 0===i?{}:i;n.thirdPartyLogin({type:t,success:function(t){t.code&&(r.isAppLogin=!0,e&&n.reLaunch({url:e}))},fail:function(e){10004===e.errCode&&(r.isAppLogin=!1)},complete:function(e){10004===e.errCode?r.isAppLogin=!1:e.code&&(r.isAppLogin=!0)}})},a.checkAppLogin=function(){var e=(o()||{}).globalData,t=void 0===e?{}:e;try{var a=n.isLoginSync();t.isAppLogin=a.isLogin||!1}catch(e){t.isAppLogin=!1}},a.checkUserLogin=function(){var e=(o()||{}).globalData,t=void 0===e?{}:e,a=t.canUseApi,i=(void 0===a?{}:a).canIUseBDUSS,r=void 0!==i&&i,s=n.getStorageSync("stoken");if(r){var c=n.getStorageSync("bduss"),l=n.getStorageSync("openBduss");c?t.isUserLogin=Boolean(c&&s):l&&(t.isUserLogin=Boolean(l&&s))}else t.isUserLogin=Boolean(s)},a.getUserInfo=function(){return new Promise((function(e){(0,D.bdRequest)({api:"api/loginStatus",method:"GET"}).then((function(t){0===t.errno&&T.default&&T.default.updateConfig({uk:t.login_info.uk}),e(t)}))}))},a.toLoginPage=function(e){n.redirectTo({url:e})},a.startDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.always,a=e.confirm,i=e.showCancel,o=e.cancelText,r=e.content,s=e.confirmText,c=e.showConfirm,l=e.showLogin,p=e.showBtn,u=e.title,d=e.contents,h=e.loginValue,g=e.schema;n.showDialog&&n.showDialog({schema:g,always:t,showCancel:i,showConfirm:c,showLogin:l,cancelText:o,content:r,confirm:a,confirmText:s,showBtn:p,title:u,contents:d,loginValue:h})},a.badAccountTip={9100:{title:"帐号被封禁",contents:"您的帐号涉嫌传播色情音视频、电子书等非法违规文件。按照法律法规要求，对您的帐号进行封禁。",confirmText:"打开App申诉"},9600:{title:"帐号被冻结",contents:"您的帐号由于空间连续超限而被冻结，为了不影响您的使用，请您登录百度网盘App或网页版及时解冻。",confirmText:"打开App解冻"}}})),window.define("21",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(22),D=e(32),C=(P=D)&&P.__esModule?P:{default:P};var T=null;try{T||(T=new C.default({window:n,namespace:"wp_sp",productId:"100400",sessionId:S.BpDataInit.sessionId}))}catch(e){console.error(e)}a.default=T})),window.define("22",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.BpDataInit=void 0;var P,S=e(23),D=(P=S)&&P.__esModule?P:{default:P};var C={serverId:13326,from:"main",page:"swan_common",parasitifer:"swan",appId:"16426097"},T=a.BpDataInit=new D.default(C);n.newLog=function(e){var t={};return Object.keys(e).forEach((function(a){var i=e[a];t[a]=Object.assign({},i);var n=t[a].commonBase||C;Object.keys(i).forEach((function(e){t[a][e]={send:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.config(n);var a=Object.assign({ext:{}},i[e],t);a.ext.source=o().globalData.from||"",T.sendLog(a)}}}))})),t}({commonAction:{commonBase:{serverId:13326,from:"main",page:"swan_common",parasitifer:"swan",appId:"16426097"},diskHome:{type:"display",value:"disk_home",comment:"首页展现"}},videoPlayRelate:{commonBase:{serverId:13218,from:"video",page:"Shoubai_video_play_page",parasitifer:"swan",appId:"16426097"},OriginalVideo:{type:"display",value:"Original_video",comment:"转码未成功，播放原画视"},TurnAndPlay:{type:"display",value:"Turn_and_play",comment:"转码成功，播放边转边播视频"},OrigStartTime:{type:"display",value:"Orig_start_time",comment:"转码未成功，播放原画的视频起播耗时"},TurnStartTime:{type:"display",value:"Turn_start_time",comment:"转码成功，播放边转边播的视频起播耗时"},allStartTime:{type:"display",value:"all_start_time",comment:"全部视频的起播耗时"},videoPageDisplay:{type:"display",value:"prev_disp",comment:"视频预览页面展现"},screenShareBtn:{type:"clk",value:"screenshare",comment:"视频预览页屏幕分享按钮点击"},fullScreenBtn:{type:"clk",value:"fullscreen",comment:"视频预览全屏按钮点击"},videoEnd:{type:"display",value:"video_end",comment:"视频播放结束"},previewFail:{type:"display",value:"prev_fail",comment:"视频播放出错"},previewFailSave:{type:"clk",value:"prevErrSave",comment:"视频播放出错转存点击"},previewFailRetryBtnDisplay:{type:"display",value:"retryBtnDisp",comment:"视频播放出错重试按钮展示"},previewFailRetryBtnClk:{type:"clk",value:"retryBtnClk",comment:"视频播放出错重试按钮点击"},previewFailOpenApp:{type:"clk",value:"errOpenApp",comment:"视频播放出错App内查看按钮点击"},previewFailOpenAppConfirm:{type:"clk",value:"confOpenApp",comment:"视频播放出错App内查看按钮点击，确定回端"},videoScrollDisp:{type:"display",value:"episodeDisp",comment:"视频分集展示"},videoScrollClk:{type:"clk",value:"episodeClk",comment:"视频分集点击"},videoScrollMoreBtnDisp:{type:"display",value:"epMoreDisp",comment:"视频分集更多展示"},videoScrollMoreBtnClk:{type:"clk",value:"epMoreClk",comment:"视频分集更过点击"},wholeFileClk:{type:"clk",value:"whoFileClk",comment:"查看{Uname}的全部文件点击"},repeatShareClk:{type:"clk",value:"repShareClk",comment:"转发文件按钮点击"},shareClk:{type:"clk",value:"shareClk",comment:"分享文件按钮点击"},savePanClk:{type:"clk",value:"savePanClk",comment:"保存到网盘按钮点击"},viewAppClk:{type:"clk",value:"viewAppClk",comment:"App内查看按钮点击"},transferDisp:{type:"display",value:"transDisp",comment:"进度条上「试看2分钟，保存后查看全部」转存引导飘条-展现"},transferClk:{type:"clk",value:"transClk",comment:"进度条上「试看2分钟，保存后查看全部」转存引导飘条-点击"},viewInApp:{type:"clk",value:"videoAdClk",comment:"视频播放广告回端引导点击"},viewTime:{type:"display",value:"viewTime",comment:"视频播放页展示时长"},viewNumber:{type:"display",value:"viewNumber",comment:"视频播放页视频播放集数"},playEndDisplay:{type:"display",value:"playEndDisplay",comment:"播放结束后，保存到网盘按钮的展现"},playEndClk:{type:"clk",value:"playEndClk",comment:"播放结束后，保存到网盘按钮的点击"},promptForSuccessfulSave:{type:"display",value:"promptForSuccessfulSave",comment:"保存成功提示条展现"},myResourcesInPromptForSuccess:{type:"clk",value:"myResourcesInPromptForSuccess",comment:"保存成功提示条上，点击【我的资源】"},playbackErrorTryAgain:{type:"clk",value:"playbackErrorTryAgain",comment:"播放出错，点击重试"},playbackErrorSave:{type:"clk",value:"playbackErrorSave",comment:"播放出错，点击保存到网盘按钮"},videoPageTime:{type:"display",value:"viewpagetime",comment:"视频页面展示总时长"},videoPrewviewTotal:{type:"display",value:"Playtol",comment:"视频播放总集数"},videoPrewviewFail:{type:"display",value:"Playfail",comment:"视频播放失败"},videoPrewviewSuccess:{type:"display",value:"Playsucc",comment:"视频播放成功"},startStripeShow:{type:"display",value:"start_oc_dsp",comment:"非会员起播飘条展现"},startStripeVipShow:{type:"display",value:"start_oc_v_dsp",comment:"会员起播飘条展现"},startStripeClick:{type:"clk",value:"start_oc_clk",comment:"非会员起播飘条点击"},startStripeVipClick:{type:"clk",value:"start_oc_v_clk",comment:"会员起播飘条点击"},startStripeHide:{type:"clk",value:"start_oc_cls",comment:"非会员起播飘条关闭"},startStripeVipHide:{type:"clk",value:"start_oc_v_cls",comment:"会员起播飘条关闭"},openCallClientShow:{type:"display",value:"openclnt_dsp",comment:"横屏调端飘条展现"},openCallClientClick:{type:"clk",value:"openclnt_clk",comment:"横屏调端飘条点击"},openCallClientHide:{type:"clk",value:"openclnt_fold",comment:"横屏调端飘条收起"},openCallClientOpen:{type:"clk",value:"openclnt_unfold",comment:"横屏调端飘条展开"},weakNetTipShow:{type:"display",value:"weak_net_show",comment:"弱网飘条展现"},weakNetTipClick:{type:"clk",value:"weak_net_clk",comment:"弱网飘条点击"},weakNetTipHide:{type:"clk",value:"weak_net_fold",comment:"弱网飘条关闭"},videoNextTipShow:{type:"display",value:"video_next_show",comment:"完播飘条展现"},videoNextTipHide:{type:"clk",value:"video_next_hide",comment:"完播飘条关闭"},videoNextTipClick:{type:"clk",value:"video_next_click",comment:"完播飘条点击"},picMoreFileClick:{type:"clk",value:"pic_more_file_click",comment:"选集查看更多文件点击"},picMoreFileShow:{type:"display",value:"pic_more_file_show",comment:"选集查看更多文件展现"},btnMoreFileShow:{type:"display",value:"btn_more_file_show",comment:"底部文案查看更多文件展现"},btnMoreFileClick:{type:"display",value:"btn_more_file_click",comment:"底部文案查看更多文件点击"},existHistoryTask:{type:"display",value:"historytask",comment:"秒传-存在历史任务"},rapidAddTask:{type:"display",value:"addtask",comment:"秒传任务添加任务"},rapidAddTaskSucc:{type:"display",value:"addtasksuccess",comment:"秒传任务添加任务-成功"},rapidAddTaskFail:{type:"display",value:"addtaskfail",comment:"秒传任务添加任务-失败"},spnativePageShow:{type:"display",value:"sp_ntv_sw",comment:"流畅播视频页面展现"},spnativeTabClick:{type:"clk",value:"sp_ntv_clk",comment:"流畅播视频tab点击"},allVideoTabClick:{type:"clk",value:"all_v_clk",comment:"全部视频tab点击"}},audioPlayRelate:{listenTime:{type:"display",value:"listenTime",comment:"音频播放时长"}},homePage:{commonBase:{serverId:13605,from:"home",page:"sp_home_page",parasitifer:"swan",appId:"16426097"},homeFileShow:{type:"display",value:"dis_home_file",comment:"我的文件展现"},recentFileShow:{type:"display",value:"dis_home_lastest",comment:"最近查看展现"},bannerShow:{type:"display",value:"dis_home_banner",comment:"首页运营banner展现"},homeFileClk:{type:"clk",value:"clk_home_file",comment:"我的文件点击"},recentFileClk:{type:"clk",value:"clk_home_lastest",comment:"最近查看点击"},bannerClk:{type:"clk",value:"clk_home_banner",comment:"首页运营banner点击"},bannerCloseClk:{type:"clk",value:"clk_hom_ba_close",comment:"首页运营banner点击关闭"},homeAppFileClk:{type:"clk",value:"clk_home_applook",comment:"首页app查看点击"},recentDocFileClk:{type:"clk",value:"clk_recent_doc",comment:"最近查看文档点击"},recentPhotoFileClk:{type:"clk",value:"clk_recent_photo",comment:"最近查看图片点击"},recentVideoFileClk:{type:"clk",value:"clk_recent_video",comment:"最近查看视频点击"},recentAudioFileClk:{type:"clk",value:"clk_recent_audio",comment:"最近查看音频点击"},recentUrlFileClk:{type:"clk",value:"clk_recent_waiurl",comment:"最近查看外链点击"},recentAllFileClk:{type:"clk",value:"clk_recent_all",comment:"最近查看所有点击(不区分文件类型)"},recentPmoreClk:{type:"clk",value:"clk_recent_pmore",comment:"最近查看点击进入图片聚合页"},recentVmoreClk:{type:"clk",value:"clk_recent_vmore",comment:"最近查看点击进入视频聚合页"},recentOperaShow:{type:"display",value:"dis_recent_caozuo",comment:"最近记录底部操作面板展现uv/pv"},clearClk:{type:"clk",value:"clk_re_qingchu",comment:"点击清除记录(最近记录下操作面板)"},openListClk:{type:"clk",value:"clk_re_openlist",comment:"点击打开目录（最近记录下操作面板）"},renameClk:{type:"clk",value:"clk_re_rename",comment:"点击重命名（最近记录下操作面板）"},shareClk:{type:"clk",value:"clk_re_share",comment:"点击分享（最近记录下操作面板）"},deleteClk:{type:"clk",value:"clk_re_delete",comment:"点击删除记录（最近记录下操作面板）"},searchInputShow:{type:"display",value:"search_dsp",comment:"搜索框展现"},searchInputClick:{type:"clk",value:"search_clk",comment:"搜索框点击"},recentToNaClick:{type:"clk",value:"clk_recent_end",comment:"最近查看底部回端点击"},recentToNaShow:{type:"display",value:"dis_recent_end",comment:"最近查看底部回端展现"},deleteFileSecurityClk:{type:"clk",value:"de_fail_sec_c",comment:"删除文件失败-132"}},photoPolymerization:{commonBase:{serverId:13604,page:"recent_juhe_photo",parasitifer:"swan",appId:"16426097"},pageShow:{type:"display",value:"dis_re_juhe",comment:"聚合页展现"},listClk:{type:"clk",value:"clk_jh_list",comment:"聚合页点击"},openListClk:{type:"clk",value:"clk_jh_openlist",comment:"点击打开目录（聚合页下操作面板）"},moveClk:{type:"clk",value:"clk_jh_move",comment:"点击移动（聚合页下操作面板）"},renameClk:{type:"clk",value:"clk_jh_rename",comment:"点击重命名（聚合页下操作面板）"},shareClk:{type:"clk",value:"clk_jh_share",comment:"点击分享（聚合页下操作面板）"},deleteClk:{type:"clk",value:"clk_jh_delete",comment:"点击删除记录（聚合页下操作面板）"}},videoPolymerization:{commonBase:{serverId:13604,page:"recent_juhe_video",parasitifer:"swan",appId:"16426097"},pageShow:{type:"display",value:"dis_re_juhe",comment:"聚合页展现"},listClk:{type:"clk",value:"clk_jh_list",comment:"聚合页点击"},openListClk:{type:"clk",value:"clk_jh_openlist",comment:"点击打开目录（聚合页下操作面板）"},moveClk:{type:"clk",value:"clk_jh_move",comment:"点击移动（聚合页下操作面板）"},renameClk:{type:"clk",value:"clk_jh_rename",comment:"点击重命名（聚合页下操作面板）"},shareClk:{type:"clk",value:"clk_jh_share",comment:"点击分享（聚合页下操作面板）"},deleteClk:{type:"clk",value:"clk_jh_delete",comment:"点击删除记录（聚合页下操作面板）"}},shareCode:{commonBase:{serverId:13616,from:"share",page:"Shoubai_extraction_code_page",appname:"wangpan",parasitifer:"swan",source:"swan"},showBtn:{type:"display",value:"Add_friends_d",comment:"加好友按钮的展现"},clkBtn:{type:"clk",value:"Add_friends_c",comment:"加好友按钮的点击"},addSuccess:{type:"display",value:"Added_success_d",comment:"添加成功"},refuseAdd:{type:"display",value:"Refuse_add_f",comment:"对方拒绝加好友的提示"},showVerifyMessage:{type:"display",value:"Verifi_infor_d",comment:"验证信息弹窗的展现"},verifyMessageClk:{type:"clk",value:"Verifi_infor_c",comment:"验证信息弹窗的点击"},showVerifyBtn:{type:"display",value:"Wait_verif_d",comment:"等待验证的展现"},verifyBtnClk:{type:"clk",value:"Wait_verif_c",comment:"等待验证的点击"},showAnswer:{type:"display",value:"Quest_answer_d",comment:"回答弹窗的展现"},answerClk:{type:"clk",value:"Quest_answer_c",comment:"回答弹窗的点击"},answerCorrect:{type:"display",value:"Correct_answer",comment:"回答正确的提示"},answerWrong:{type:"display",value:"Wrong_answer",comment:"回答错误的提示"},showSendMessage:{type:"display",value:"Send_message_d",comment:"发送消息的展现"},sendMessageClk:{type:"clk",value:"Send_message_c",comment:"发送消息的点击"}},error:{commonBase:{serverId:14801,from:"share",page:"Invalid_page",appname:"wangpan",parasitifer:"swan",source:"swan"},showShareUserInfo:{type:"display",value:"Invalid_page_c",comment:"失效页展示分享者信息"},showBtn:{type:"display",value:"Add_friends_d",comment:"加好友按钮的展现"},clkBtn:{type:"clk",value:"Add_friends_c",comment:"加好友按钮的点击"},addSuccess:{type:"display",value:"Added_success_d",comment:"添加成功"},refuseAdd:{type:"display",value:"Refuse_add_f",comment:"对方拒绝加好友的提示"},showVerifyMessage:{type:"display",value:"Verifi_infor_d",comment:"验证信息弹窗的展现"},verifyMessageClk:{type:"clk",value:"Verifi_infor_c",comment:"验证信息弹窗的点击"},showVerifyBtn:{type:"display",value:"Wait_verif_d",comment:"等待验证的展现"},verifyBtnClk:{type:"clk",value:"Wait_verif_c",comment:"等待验证的点击"},showAnswer:{type:"display",value:"Quest_answer_d",comment:"回答弹窗的展现"},answerClk:{type:"clk",value:"Quest_answer_c",comment:"回答弹窗的点击"},answerCorrect:{type:"display",value:"Correct_answer",comment:"回答正确的提示"},answerWrong:{type:"display",value:"Wrong_answer",comment:"回答错误的提示"},showSendMessage:{type:"display",value:"Send_message_d",comment:"发送消息的展现"},sendMessageClk:{type:"clk",value:"Send_message_c",comment:"发送消息的点击"}},shareList:{commonBase:{serverId:13603,from:"share",page:"Shoubai_external_chain_list_page",appname:"wangpan",parasitifer:"swan",source:"swan"},showBtn:{type:"display",value:"Add_friends_d",comment:"加好友按钮的展现"},clkBtn:{type:"clk",value:"Add_friends_c",comment:"加好友按钮的点击"},addSuccess:{type:"display",value:"Added_success_d",comment:"添加成功"},refuseAdd:{type:"display",value:"Refuse_add_f",comment:"对方拒绝加好友的提示"},showVerifyMessage:{type:"display",value:"Verifi_infor_d",comment:"验证信息弹窗的展现"},verifyMessageClk:{type:"clk",value:"Verifi_infor_c",comment:"验证信息弹窗的点击"},showVerifyBtn:{type:"display",value:"Wait_verif_d",comment:"等待验证的展现"},verifyBtnClk:{type:"clk",value:"Wait_verif_c",comment:"等待验证的点击"},showAnswer:{type:"display",value:"Quest_answer_d",comment:"回答弹窗的展现"},answerClk:{type:"clk",value:"Quest_answer_c",comment:"回答弹窗的点击"},answerCorrect:{type:"display",value:"Correct_answer",comment:"回答正确的提示"},answerWrong:{type:"display",value:"Wrong_answer",comment:"回答错误的提示"},showSendMessage:{type:"display",value:"Send_message_d",comment:"发送消息的展现"},sendMessageClk:{type:"clk",value:"Send_message_c",comment:"发送消息的点击"}},globalPage:{commonBase:{serverId:13326,page:"swan_common_page",parasitifer:"swan",appId:"16426097"},fileTabClk:{type:"clk",value:"clk_file",comment:"文件点击"},transformTabClk:{type:"clk",value:"clk_uploag",comment:"传输点击"},usercenterTabClk:{type:"clk",value:"clk_myself",comment:"我的点击"},openAppClk:{type:"clk",value:"clk_goapp",comment:"打开app点击"},cameraTabClk:{type:"clk",value:"clk_scan_tab",comment:"文档扫描点击"},toolsTabClk:{type:"clk",value:"clk_tools_tab",comment:"工具页面点击"}},uploadPage:{commonBase:{serverId:13811,page:"swan_common_page",parasitifer:"swan",appId:"16426097"},uploadShow:{type:"display",value:"dis_uploading",comment:"上传中列表展现"},uploadPause:{type:"clk",value:"clk_upload_ting",comment:"上传中点击暂停"},uploadStart:{type:"clk",value:"clk_upload_start",comment:"暂停上传中点击开始"},uploadFloder:{type:"clk",value:"clk_upload_see",comment:"上传完成点击查看文件"},uploadClear:{type:"clk",value:"clk_upload_empty",comment:"上传完成点击清空"},uploadFinished:{type:"display",value:"dis_upload_suc",comment:"上传成功列表展现"},uploadWifiOnly:{type:"dispaly",value:"dis_upload_wifi",comment:"上传的等待wifi中展现"},uploadPreview:{type:"clk",value:"clk_upload_view",comment:"点击文件预览"},uploadFail:{type:"display",value:"dis_upload_fail",comment:"上传失败列表展现"},uploadRestart:{type:"clk",value:"clk_reupload",comment:"上传失败点击重试"},uploadDelete:{type:"display",value:"dis_tab_empty",comment:"底部清除记录展现"},uploadDeleteClk:{type:"clk",value:"clk_tab_empty",comment:"底部清楚记录点击"},uploadPageDisplay:{type:"display",value:"dis_upload",comment:"备份列表页面展现"},backupOpenDisplay:{type:"display",value:"dis_up_backup",comment:"去开启自动备份展现"},backupOpenClk:{type:"clk",value:"clk_up_backup",comment:"去开启自动备份点击"},backupWait:{type:"display",value:"dis_back_wait",comment:"等待自动备份展现"},backupRunning:{type:"display",value:"dis_backing",comment:"正在自动备份展现"},backupPause:{type:"clk",value:"clk_back_ting",comment:"备份中点击暂停"},backupStart:{type:"clk",value:"clk_back_start",comment:"备份暂停点击开始"},backupFinished:{type:"display",value:"dis_back_suc",comment:"备份完成展现"},backupOnlyWifi:{type:"display",value:"dis_back_wifi",comment:"备份的等待wifi中展现"},backupFloder:{type:"clk",value:"clk_back_see",comment:"点击查看备份"}},downloadPage:{commonBase:{serverId:13810,from:"index",page:"shoubai_save_page",parasitifer:"swan",appId:"16426097"},pageDisplay:{type:"display",value:"dis_save",comment:"保存列表展现"},savingDisplay:{type:"display",value:"dis_saving",comment:"保存中列表展现"},downloadSuccessListDisplay:{type:"display",value:"dis_save_suc",comment:"保存成功列表展现"},downloadFailDisplay:{type:"display",value:"dis_save_fail",comment:"保存失败列表展现"},savingDeleteClick:{type:"clk",value:"clk_save_delet",comment:"点击保存中删除"},clickViewFile:{type:"clk",value:"clk_save_see",comment:"保存完成点击查看文件"},emptyDoneFileClick:{type:"clk",value:"clk_save_empty",comment:"保存完成点击清空"},emptyErrorFileClick:{type:"clk",value:"clk_error_empty",comment:"保存失败点击清空"},downloadSuccessClick:{type:"cls",value:"clk_save_view",comment:"点击文件预览"},clearBtnDisplay:{type:"display",value:"dis_tab_empty",comment:"底部清除记录展现"},clearBtnClick:{type:"clk",value:"clk_tab_empty",comment:"底部清楚记录点击"}},flutterGuideOpenAddBtn:{commonBase:{serverId:14002,page:"index",from:"index",parasitifer:"swan",appId:"16426097"},homeSearchInAppGuide:{type:"display",value:"search_display",comment:"搜索飘条展现"},homeSearchInAppBtnClick:{type:"clk",value:"search_click",comment:"搜索飘条点击"},homeSearchInAppShrinkClick:{type:"clk",value:"search_close",comment:"搜索飘条关闭/收起"},getTipsConfSuccess:{type:"success",value:"tips_success",comment:"飘条文案获取成功"},getTipsConfFail:{type:"fail",value:"tips_fail",comment:"飘条文案获取失败"},getTipsConfError:{type:"error",value:"tips_error",comment:"飘条文案获取错误"}},shareRetail:{commonBase:{serverId:14651,page:"transfer_page",from:"index",parasitifer:"swan",appId:"16426097"},shareRetailCheckUserType:{type:"display",value:"sp_shareRetailCheckUserType",comment:"检查用户是否为分销身份接口"},shareRetailGetSuccess:{type:"display",value:"sp_shareRetailGetSuccess",comment:"红包领取成功"},shareRetailGetError:{type:"display",value:"sp_shareRetailGetError",comment:"红包领取失败"},retailSuccessDistributionActive:{type:"clk",value:"sp_retailSuccessDistributionActive",comment:"分销成功banner--点击按钮"}},documentScanSelect:{commonBase:{serverId:14900,page:"select_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_fuceng",comment:"文档扫描-选择图片-浮层展现"},album:{type:"click",value:"clk_select_ph",comment:"文档扫描-选择图片-点击选择相册"},camera:{type:"click",value:"clk_take_pic",comment:"文档扫描-选择图片-点击拍照"}},documentScanCamera:{commonBase:{serverId:14900,page:"take_photo_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_photo",comment:"文档扫描-相机拍摄照片"}},documentScanEidtPage:{commonBase:{serverId:14900,page:"ty_edit_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_ty_edit",comment:"文档扫描-通用编辑页展现"},showScanIntroduce:{type:"display",value:"dis_ty_edit_introduce",comment:"文档扫描-通用编辑页展现-搜索落地页"},showLoading:{type:"display",value:"dis_loading",comment:"文档扫描-loading态展现"},retake:{type:"click",value:"clk_retake",comment:"文档扫描-重拍点击"},cut:{type:"click",value:"clk_cut",comment:"文档扫描-裁切点击"},clkNext:{type:"click",value:"clk_next",comment:"文档扫描-下一步点击"},failLoad:{type:"display",value:"fail_load",comment:"文档扫描-加载失败"},filterClick:{type:"click",value:"clk_lvjing",comment:"文档扫描-滤镜点击"},finishFilter:{type:"click",value:"dis_lvjing",comment:"文档扫描-点击下一步时滤镜使用"}},documentScanCutPage:{commonBase:{serverId:14900,page:"cut_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_cut_page",comment:"文档扫描-裁剪页展现"},showScanIntroduce:{type:"display",value:"dis_cut_page_introduce",comment:"文档扫描-裁剪页展现-搜索落地页"},rotate:{type:"click",value:"clk_romate",comment:"文档扫描-旋转点击"},showFail:{type:"display",value:"fail_cut",comment:"文档扫描-裁剪加载失败"},showLoading:{type:"display",value:"dis_loading",comment:"文档扫描-loading态展现"},clkCutSave:{type:"click",value:"clk_cut_save",comment:"点击保存/下一步"}},documentScanUploadingPage:{commonBase:{serverId:14900,page:"uploading_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_uploading",comment:"文档扫描-上传页面展现"},showScanIntroduce:{type:"display",value:"dis_uploading_introduce",comment:"文档扫描-上传页面展现-搜索介绍"},clickPDF:{type:"click",value:"clk_pdf",comment:"文档扫描-导出pdf点击"},clickSave:{type:"click",value:"clk_save",comment:"文档扫描-保存本地点击"},clickPDFScanIntroduce:{type:"click",value:"clk_pdf_introduce",comment:"文档扫描-导出pdf点击-搜索介绍"},clickSaveScanIntroduce:{type:"click",value:"clk_save_introduce",comment:"文档扫描-保存本地点击-搜索介绍"},picUploadSuccess:{type:"display",value:"su_photo_up",comment:"文档扫描-图片上传成功"},picUploadFail:{type:"display",value:"fa_photo_up",comment:"文档扫描-图片上传失败"},pdfUploadSuccess:{type:"display",value:"su_pdf_up",comment:"文档扫描-pdf上传成功"},pdfUploadFail:{type:"display",value:"fa_pdf_up",comment:"文档扫描-pdf上传失败"},exportPDFSuccess:{type:"display",value:"su_pdf_import",comment:"文档扫描-pdf导出成功"},exportPDFFail:{type:"display",value:"fa_pdf_import",comment:"文档扫描-pdf导出失败"}},documentScanPerformance:{commonBase:{serverId:14901,page:"document_scan_performance",from:"index",parasitifer:"swan",appId:"16426097"},serverTime:{type:"display",value:"per_server_time",comment:"文档扫描-服务接口耗时"},serverProbability:{type:"display",value:"per_server_probability",comment:"文档扫描-服务接口成功率"},imageInfo:{type:"display",value:"per_image_info",comment:"文档扫描-图片信息"}},documentScanIntroducePage:{commonBase:{serverId:14900,page:"sann_trans_page",from:"index",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_sann_trans",comment:"文档扫描-搜索落地页展示"},album:{type:"click",value:"clk_trans_pic",comment:"文档扫描-搜索落地页-点击选择相册"},camera:{type:"click",value:"clk_trans_selec",comment:"文档扫描-搜索落地页-点击拍照"}},documentPuzzlePage:{commonBase:{serverId:15932,page:"pintu_page",from:"from_pintu",parasitifer:"swan",source:"word_scan",appId:"16426097"},disPinjiePage:{type:"display",value:"dis_pinjie_page",comment:"拼接主页展现"},clkSelectFile:{type:"click",value:"clk_select_file",comment:"点击选择文件"},clkPhone:{type:"click",value:"clk_phone",comment:"点击选择本地文件"},clkPan:{type:"click",value:"clk_pan",comment:"点击选择网盘文件"},clkSelectPan:{type:"click",value:"clk_select_pan",comment:"点击选择网盘图片"},clkSavePan:{type:"click",value:"clk_save_pan",comment:"点击完成选择"},clkSelectPhone:{type:"click",value:"clk_select_phone",comment:"点击选择图片"},clkSavePhone:{type:"click",value:"clk_save_phone",comment:"点击完成选择"},show:{type:"display",value:"pintu_view",comment:"拼图页面展现"},muban:{type:"click",value:"muban_clk",comment:"模板点击"},addPage:{type:"click",value:"newpage_clk",comment:"空白页点击"},save:{type:"click",value:"save",comment:"保存按钮点击"},saveSuc:{type:"click",value:"save_suc",comment:"保存成功点击"},edit:{type:"click",value:"edit",comment:"开始编辑点击"},finishEdit:{type:"click",value:"edit_finish",comment:"完成编辑点击"},payPanelShow:{type:"display",value:"pay_panel",comment:"支付面板展现"},payPanelClick:{type:"click",value:"pay_clk",comment:"支付点击"}},pdfTowordPage:{commonBase:{serverId:16148,page:"pdf_toword_page",from:"from_pdf_toword",parasitifer:"swan",source:"from_pdftoword_shoubai",appId:"16426097"},pdfTowordDis:{type:"display",value:"pdf_toword_dis",comment:"pdf转word主页展现"},pdfListDis:{type:"display",value:"pdf_list_dis",comment:"pdf列表展现"},wordListClk:{type:"click",value:"word_list_clk",comment:"word列表文件预览点击"},wordExportClk:{type:"click",value:"word_export_clk",comment:"word列表导出点击"},retryClk:{type:"click",value:"retry_clk",comment:"转换重试点击"},transClk:{type:"click",value:"trans_clk",comment:"pdf开始转换点击"},openPayClk:{type:"click",value:"open_pay_clk",comment:"点击开通超级会员"},clkSelectFile:{type:"click",value:"clk_select_file",comment:"点击选择文件"},clkPhone:{type:"click",value:"clk_phone",comment:"点击选择本地文件"},clkPan:{type:"click",value:"clk_pan",comment:"点击选择网盘文件"},wordViewDis:{type:"click",value:"wordViewDis",comment:"word预览页展现"},clkSelectPan:{type:"click",value:"clk_select_pan",comment:"点击选择网盘具体pdf"},clkSavePan:{type:"click",value:"clk_save_pan",comment:"点击完成选择"},clkSelectPhone:{type:"click",value:"clk_select_phone",comment:"点击选择本地具体pdf"},clkSavePhone:{type:"click",value:"clk_save_phone",comment:"点击完成选择"},payPanelDis:{type:"click",value:"pay_panel_dis",comment:"支付面板展现"},closePayClk:{type:"click",value:"close_pay_clk",comment:"点击支付面板关闭"},uploadResult:{type:"click",value:"upload_result",comment:"上传结果"},transResult:{type:"click",value:"trans_result",comment:"转换结果"}},aitoolsPage:{commonBase:{serverId:10619,page:"ai_tool_page",from:"shoubai",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_ai_tool",comment:"工具箱页面展现"},toolsTabClk:{type:"click",value:"clk_ai_tool",comment:"工具箱tab点击"},clkWordScan:{type:"click",value:"clk_word_scan",comment:"文档扫描点击"},clkToword:{type:"click",value:"clk_toword",comment:"拍图转word点击"},clkCutShuiyin:{type:"click",value:"clk_cut_shuiyin",comment:"去水印点击"},clkCardScan:{type:"click",value:"clk_card_scan",comment:"证件扫描点击"},clkTestScan:{type:"click",value:"clk_test_scan",comment:"试卷去手写点击"},clkWenziScan:{type:"click",value:"clk_wenzi_scan",comment:"文字识别点击"},clkPintu:{type:"click",value:"clk_pic_puzzle",comment:"图片拼接点击"},clkImgdeWatermark:{type:"click",value:"clk_pic_dewatermark",comment:"图片去水印点击"},clkPdfToword:{type:"click",value:"clk_pdf_toword",comment:"PDF转Word点击"},clkImgProcesss:{type:"click",value:"reduce_clk",comment:"图片压缩"},wordscanShow:{type:"display",value:"dis_word_scan_show",comment:"文档扫描工具展现"},photoToWordShow:{type:"display",value:"dis_photo_to_word_show",comment:"拍图转word工具展现"},picCompressShow:{type:"display",value:"dis_pic_compress_show",comment:"图片压缩工具展现"},picPzzleShow:{type:"display",value:"dis_pic_pzzle_show",comment:"图片拼接工具展现"},picDeWatermarkShow:{type:"display",value:"dis_pic_deWatermark_show",comment:"图片去水印工具展现"}},takePhotoPage:{commonBase:{serverId:14900,page:"take_photo_page",from:"shoubai",parasitifer:"swan",appId:"16426097"},show:{type:"display",value:"dis_photo",comment:"拍摄页展现"},userCenterShow:{type:"display",value:"dis_user_center_photo",comment:"拍摄页展现"},searchCardShow:{type:"display",value:"dis_search_card_photo",comment:"拍摄页展现"},dataOptionsReport:{type:"display",value:"dis_data_options_report",comment:"页面数据上报"},clk_word_tab:{type:"click",value:"clk_word_tab",comment:"点击文档扫描功能tab"},clk_toword_tab:{type:"click",value:"clk_toword_tab",comment:"点击转word功能tab"},clkPanPhoto:{type:"click",value:"clk_pan_photo",comment:"点击网盘图片"},clkPhonePhoto:{type:"click",value:"clk_phone_photo",comment:"点击相册图片"},clkFinish:{type:"click",value:"clk_finish",comment:"点击完成"}},albumPhotoPage:{commonBase:{serverId:14900,page:"album_photo_page",from:"shoubai",parasitifer:"swan",appId:"16426097"},clkSavePhone:{type:"click",value:"clk_save_phone",comment:"点击完成选择"}},wangpanPhotoPage:{commonBase:{serverId:14900,page:"wangpan_photo_page",from:"shoubai",parasitifer:"swan",appId:"16426097"},clkSelectPan:{type:"click",value:"clk_select_pan",comment:"点击选择网盘图片"},clkSavePan:{type:"click",value:"clk_save_pan",comment:"点击完成选择"}},towordUpPage:{commonBase:{serverId:14900,page:"toword_up_page",from:"shoubai",parasitifer:"swan",appId:"16426097"},disTowordUp:{type:"display",value:"dis_toword_up",comment:"转word上传页展现"},wordPhotoUpSuc:{type:"click",value:"word_photo_up_suc",comment:"图片上传成功"},wordPhotoUpFail:{type:"click",value:"word_photo_up_fail",comment:"图片上传失败"},clkTopanToword:{type:"click",value:"clk_topan_toword",comment:"点击去百度网盘导出"}},pdfDeWatermark:{commonBase:{serverId:16078,page:"pdf_demark_page",from:"shoubai",parasitifer:"swan",appId:"16426097",source:"tool"},pdfDeWatermarkShow:{type:"display",value:"pdf_demark_tool_dis",comment:"pdf去水印工具首页展现"},panFileShow:{type:"display",value:"pan_file_dis",comment:"网盘文件选择页展现"},pdfProcessShow:{type:"display",value:"pdf_demark_page_dis",comment:"pdf去水印效果预览页展现"},pdfListShow:{type:"display",value:"pdf_list_dis",comment:"pdf列表展现"},chooseResult:{type:"state",value:"choose_result",comment:"选择文件结果"},exportResult:{type:"state",value:"export_result",comment:"导出结果"},payPanelShow:{type:"display",value:"pay_panel_dis",comment:"支付面板展现"},fileClk:{type:"clk",value:"file_clk",comment:"选择文件点击"},checkClk:{type:"clk",value:"check",comment:"预览页对比按钮点击"},exportClk:{type:"clk",value:"export",comment:"预览页导出按钮点击"},payPanelClk:{type:"clk",value:"pay_panel_clk",comment:"支付面板点击"},pdfListClk:{type:"clk",value:"pdf_list_clk",comment:"pdf列表文件点击（不包括重试点击）"},retryClk:{type:"clk",value:"retry_clk",comment:"重试点击"}},picCompress:{commonBase:{serverId:16078,page:"pic_compress_page",from:"shoubai",parasitifer:"swan",appId:"16426097",source:"tool"},show:{type:"display",value:"reduce_tool_dis",comment:"图片压缩工具首页展现"},showProcess:{type:"display",value:"reduce_dis",comment:"图片压缩页参数展现"},chooseLocalFile:{type:"clk",value:"local_clk",comment:"选择本地文件"},chooseNetFile:{type:"clk",value:"pan_clk",comment:"选择网盘文件"},picClk:{type:"clk",value:"pic_clk",comment:"图片预览点击"},changeSize:{type:"clk",value:"volume_edit",comment:"修改大小"},chooseTemplate:{type:"clk",value:"pixel_type_clk",comment:"选择尺寸模板"},changeWrap:{type:"clk",value:"pixel_custom",comment:"调整分辨率"},saveBtn:{type:"clk",value:"reduce_done",comment:"压缩保存按钮点击"},savePer:{type:"clk",value:"reduce_state",comment:"压缩结果"}},picTool:{commonBase:{serverId:16078,page:"pic_tool_page",from:"shoubai",parasitifer:"swan",appId:"16426097",source:"tool"},show:{type:"display",value:"pic_tool_page_dis",comment:"工具首页展现"},userCenterShow:{type:"display",value:"dis_user_center_photo",comment:"选择图片展现-手百入口"},searchCardShow:{type:"display",value:"dis_search_card_photo",comment:"选择图片展现-搜索卡片"},dataOptionsReport:{type:"display",value:"dis_data_options_report",comment:"页面数据上报"},showPanPic:{type:"display",value:"pan_pic_dis",comment:"网盘图片选择页展现"},showLocalPic:{type:"display",value:"local_pic_dis",comment:"本地相册图片选择页展现"},showTakePhoto:{type:"display",value:"take_photo_dis",comment:"拍摄页展现"},showTuijian:{type:"display",value:"tuijian_dis",comment:"推荐模块展现"},panClk:{type:"clk",value:"pan_clk",comment:"网盘图片按钮点击"},localClk:{type:"clk",value:"local_clk",comment:"本地图片按钮点击"},takeClk:{type:"clk",value:"take_clk",comment:"拍摄图片按钮点击"},takePanClk:{type:"clk",value:"take_pan_clk",comment:"相机页网盘图片点击"},takeLocalClk:{type:"clk",value:"take_local_clk",comment:"相机页本地图片点击"},panDone:{type:"clk",value:"pan_done",comment:"网盘图片选择完成点击"},localDone:{type:"clk",value:"local_done",comment:"本地图片选择完成点击"},takeDone:{type:"clk",value:"take_done",comment:"拍摄完成点击"},tuijianClk:{type:"clk",value:"tuijian_clk",comment:"推荐模块点击"}}})})),window.define("23",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(24);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(){T=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,i=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var o=t&&t.prototype instanceof d?t:d,r=Object.create(o.prototype),s=new C(n||[]);return i(r,"_invoke",{value:_(e,a,s)}),r}function p(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function h(){}function g(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(I([])));v&&v!==t&&a.call(v,o)&&(f=v);var y=g.prototype=d.prototype=Object.create(f);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;i(this,"_invoke",{value:function(i,o){function r(){return new t((function(n,r){!function i(n,o,r,s){var c=p(e[n],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==(void 0===u?"undefined":P(u))&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,r,s)}),(function(e){i("throw",e,r,s)})):t.resolve(u).then((function(e){l.value=e,r(l)}),(function(e){return i("throw",e,r,s)}))}s(c.arg)}(i,o,n,r)}))}return n=n?n.then(r,r):r()}})}function _(e,t,a){var i="suspendedStart";return function(n,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw o;return E()}for(a.method=n,a.arg=o;;){var r=a.delegate;if(r){var s=k(r,a);if(s){if(s===u)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===i)throw i="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i="executing";var c=p(e,t,a);if("normal"===c.type){if(i=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i="completed",a.method="throw",a.arg=c.arg)}}}function k(e,t){var a=t.method,i=e.iterator[a];if(void 0===i)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),u;var n=p(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(a.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=g,i(y,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,r,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,i,n,o){void 0===o&&(o=Promise);var r=new b(l(t,a,i,n),o);return e.isGeneratorFunction(a)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var i in t)a.push(i);return a.reverse(),function e(){for(;a.length;){var i=a.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(a,i){return r.type="throw",r.arg=e,t.next=a,i&&(t.method="next",t.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),D(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var i=a.completion;if("throw"===i.type){var n=i.arg;D(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:I(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}function I(e){return(I="function"==typeof Symbol&&"symbol"==P(Symbol.iterator)?function(e){return void 0===e?"undefined":P(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":P(e)})(e)}function E(e,t,a,i,n,o,r){try{var s=e[o](r),c=s.value}catch(e){return void a(e)}s.done?t(c):Promise.resolve(c).then(i,n)}function x(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var o=e.apply(t,a);function r(e){E(o,i,n,r,s,"next",e)}function s(e){E(o,i,n,r,s,"throw",e)}r(void 0)}))}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,M(i.key),i)}}function B(e,t,a){return t&&L(e.prototype,t),a&&L(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e,t,a){return(t=M(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){if(t&&("object"===(void 0===t?"undefined":P(t))||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,i=N(e);if(t){var n=N(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return R(this,a)}}function M(e){var t=function(e,t){if("object"!==(void 0===e?"undefined":P(e))||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!==(void 0===i?"undefined":P(i)))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(void 0===t?"undefined":P(t))?t:String(t)}var j=function(){function e(t){A(this,e),this.sessionId=this.getRandomInt(6),this.userId="00"+this.getRandomInt(8),this._countId=0,this.client=t.client||""}return B(e,[{key:"getRandomInt",value:function(e){return Math.floor((9*Math.random()+1)*Math.pow(10,e-1))}},{key:"prefixInteger",value:function(e,t){return e+="",new Array(t-e.length).fill("0").join("")+e}},{key:"getCountId",value:function(){return this._countId<9999?this._countId+=1:this._countId=0,this.prefixInteger(this._countId,4)}},{key:"validateUk",value:function(e){return 10===(e+"").length}},{key:"getDpLogId",value:function(e){var t=this.userId;return e&&this.validateUk(e)&&(t=e),"".concat(this.client).concat(this.sessionId).concat(t).concat(this.getCountId())}},{key:"getDpLogIdByUrl",value:function(e){var t=e.match(/dp-logid=(\d+)/);return t&&t[1]?t[1]:this.getDpLogId()}},{key:"addDpLogId",value:function(e,t,a){if(/dp-logid=\d+/.test(e))return e;var i=a||this.getDpLogId(t);return e+=/\?/.test(e)?"&":"?",e+="dp-logid=".concat(i)}},{key:"axiosLogIdPlugin",value:function(e){return/dp-logid=\d+/.test(e.url)||e.params&&e.params["dp-logid"]||(e.params=C(C({},e.params),{},{"dp-logid":this.getDpLogId()})),e}}]),e}(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"log",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="【BP-DATA】: ";"error"===e?console.error("".concat(i," ").concat(t),a):"warn"===e?console.warn("".concat(i," ").concat(t),a):console.log("".concat(i," ").concat(t),a)},V=function(e){return new Promise((function(t,a){return n[e]({success:t,fail:a})}))},H=function(){var e=x(T().mark((function e(t,a,i){var o,r,s,c,l,p=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:"GET",r=a.bduss,s=a.baidu_id,c=a.cuid,l="BDUSS=".concat(r,";BAIDUID=").concat(s,";CUID=").concat(c),e.abrupt("return",new Promise((function(e,a){n.request({url:t,data:i,method:o,header:{"content-type":"application/x-www-form-urlencoded",Cookie:l},success:function(t){return e(t)},fail:function(e){return a(e)}})})));case 4:case"end":return e.stop()}}),e)})));return function(t,a,i){return e.apply(this,arguments)}}(),W=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return H(e,t,a)},q={debug:!1,appname:"wangpan",source:"",clientType:32,parasitifer:"swan"},G=function(){try{var e=n.getSystemInfoSync();return{device:e.model,brand:e.brand,os:e.platform,soft_version:e.version}}catch(e){return z("error","config.js getCommonSystemInfoSync error",e),{}}},J=function(){var e=x(T().mark((function e(){var t,a,i,o,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t="",a="",i="",!n.canIUse("getBDUSS")){e.next=9;break}return e.next=7,V("getBDUSS");case 7:o=e.sent,t=o.bduss;case 9:if(!n.canIUse("getCommonSysInfo")){e.next=15;break}return e.next=12,V("getCommonSysInfo");case 12:r=e.sent,a=r.baidu_id,i=r.cuid;case 15:return e.abrupt("return",{bduss:t,baidu_id:a,cuid:i});case 18:return e.prev=18,e.t0=e.catch(0),z("warn","config.js getCookiesParamsSync",e.t0),e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.appId,a=e.serverId,i=e.from,n=e.page;return!!(t&&a&&i&&n)||(z("error","check.js checkInitParams, ERROR-MSG: appId, serverId, from，page为必传参数"),!1)}catch(e){return z("error","check.js checkInitParams error",e),!1}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.bduss,a=void 0===t?"":t,i=e.baidu_id,n=void 0===i?"":i,o=e.cuid,r=void 0===o?"":o;return!!(a&&n&&r)||(z("warn","check.js checkCookieData, MSG: 当前小程序未获取到用户登录信息，埋点数据为无登录态"),!1)}catch(e){return z("error","check.js checkCookieData, ERROR-MSG:",e),!1}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.type,a=e.value,i=e.comment;return!!(t&&a&&i)||(z("error","check.js checkSendLogParams, ERROR-MSG: type, value, comment为必传参数"),!1)}catch(e){return z("error","check.js checkSendLogParams error",e),!1}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e,{version:"v5"}),i="https://pan.baidu.com/api/analytics";Object.keys(a).forEach((function(t){var a=e[t];"object"===I(a)&&(a=JSON.stringify(a)),i+=(i.match(/\?/)?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(""+a)})),i+=(i.match(/\?/)?"&":"?")+"t="+ +new Date,W(i,t)},$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(i,e);var t,a=U(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(A(this,i),e=a.call(this,t),K(t)){e.globalData=q,e.systemInfo=G(),e.cookieData=J(),e.initParams=t;var n=Object.assign({},e.globalData,e.systemInfo,e.initParams),o=n.debug,r=n.serverId,s=n.from,c=n.page,l=n.source,p=n.appname;e.ubcLogger=new S.UbcLogger({testMode:o,version:"2.0",serverId:r,from:s,page:c,source:l,queryParams:{appname:p}})}return e}return B(i,[{key:"config",value:function(e){Object.assign(this.initParams,e);var t=Object.assign({},this.globalData,this.systemInfo,this.initParams),a=t.serverId,i=t.from,n=t.page,o=t.source;this.ubcLogger.set({serverId:a,from:i,page:n,source:o})}},{key:"sendLog",value:(t=x(T().mark((function e(){var t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S,D,C=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.length>0&&void 0!==C[0]?C[0]:{},e.prev=1,!Y(t)){e.next=18;break}if(a=Object.assign({},this.globalData,this.systemInfo,this.initParams,t),i=a.appname,n=a.parasitifer,o=a.serverId,r=a.from,s=a.page,c=a.type,l=a.value,p=a.comment,u=a.source,d=void 0===u?"":u,h=a.dpLogId,g=(void 0===h?"":h)||this.getDpLogId(),f="".concat(i,"_").concat(n,"_").concat(o,"_").concat(r,"_").concat(s,"_").concat(c,"_").concat(l),m=a.clientType,v=a.appId,y=a.device,w=a.brand,b=a.os,_=a.soft_version,k=Object.assign({clienttype:m,parasitifer:n,serverId:o,appid:v,device:y,brand:w,os:b,soft_version:_,bpKey:f,bpComment:p,source:d,dpLogId:g,"dp-logid":g,value:l},t.ext||{}),P=Object.assign({},k,{sendType:"ubc"}),S=Object.assign({},k,{sendType:"apiAnalytics"}),this.ubcLogger.send({type:c,page:s,value:l,ext:P}),Q(this.cookieData)){e.next=16;break}return e.next=15,J();case 15:this.cookieData=e.sent;case 16:D=Object.assign({},S,{type:f,utype:c,page:s,value:p},{ext:S}),X(D,this.cookieData);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("BpdataSwanLog send error:",e.t0);case 23:case"end":return e.stop()}}),e,this,[[1,20]])}))),function(){return t.apply(this,arguments)})}]),i}(j);a.default=$})),window.define("24",(function(e,t,a,i,n,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ubcLogger=a.UbcLogger=void 0;var S=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=E(e(25)),T=E(e(26)),I=E(e(30));function E(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var L=void 0;try{n&&(L=n,console.log("手百内"))}catch(e){L=wx,console.log("微信内")}var B=L,F={tiebaclient:"tieba",baidubox:"baiduboxapp",mapmnp:"baidumap"},N=B.getEnvInfoSync&&B.getEnvInfoSync()||{};function O(){if(N){var e=N.scheme;return F[e]||e||"baiduboxapp"}if(wx)return"weixin"}var R=(0,C.default)((function(){return Object.assign({},B.getSystemInfoSync(),{appname:O(),appkey:N.lastAppURL&&N.lastAppURL.split("/")[3],env:N.env})})),U={cuid:"BAIDUCUID",bduss:"BDUSS",baidu_id:"BAIDUID"},M=function(e){var t=[];return Object.keys(e).forEach((function(a){e[a]&&t.push(U[a]+"="+e[a])})),t.join("; ")};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var t="";for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];null==i?i="":"object"===(void 0===i?"undefined":D(i))&&(i=JSON.stringify(i)),t+="&"+encodeURIComponent(a)+"="+encodeURIComponent(i)}return t.slice(1)}var z,V,H,W=function(e,t){if(!t||"[object Object]"!==Object.prototype.toString.call(t)||Object.keys(t).length<1)return!1;var a=Object.keys(t),i=!1;return a.forEach((function(a){e[a]&&e[a]!==t[a]&&(i=!0)})),i},q=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(a,i){if(!B[e])return i();B[e](Object.assign({},t,{success:a,fail:i}))}))}},G={getCommonSysInfo:q("getCommonSysInfo"),getBDUSS:q("getBDUSS"),request:q("request")},J=R().appname,K=(0,C.default)(A(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(t={}).cuid,i=t.baidu_id,e.prev=1,e.next=4,G.getCommonSysInfo();case 4:n=e.sent,a=n.cuid,i=n.baidu_id,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",{cuid:a,baidu_id:i});case 12:case"end":return e.stop()}}),e,void 0,[[1,9]])})))),Q=(z=A(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,G.getBDUSS();case 4:a=e.sent,t=a.bduss,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",{bduss:t});case 11:case"end":return e.stop()}}),e,void 0,[[1,8]])}))),function(){return z.apply(this,arguments)}),Y=(V=A(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,a=Date.now(),e.next=5,G.request({method:"GET",url:"https://www.baidu.com/favicon.ico?from=ubcloggergetbaiduid&_="+a});case 5:i=e.sent,(t=$(i.header["Set-Cookie"]))&&B.setStorageSync("_ug-swan-logger_baiduid",t),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,void 0,[[1,10]])}))),function(){return V.apply(this,arguments)}),X=(0,C.default)(A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=B.getStorageSync("_ug-swan-logger_baiduid")||"")){e.next=3;break}return e.abrupt("return",{baidu_id:t});case 3:return e.next=5,Y();case 5:return t=e.sent,e.abrupt("return",{baidu_id:t});case 7:case"end":return e.stop()}}),e,void 0)})))),$=function(e){var t="";return e&&(t=/BAIDUID=(.*?);/.exec(e)[1]),t},Z=(H=A(regeneratorRuntime.mark((function e(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("weixin"!==J&&!a){e.next=8;break}return e.next=3,X();case 3:return(t=e.sent).baidu_id||Y.then((function(e){e&&X.cache.set(void 0,{baidu_id:e})})).catch((function(e){console.log("retry saveOutsideUserID err",e)})),e.abrupt("return",t);case 8:return e.t0=Object,e.t1={},e.next=12,K();case 12:return e.t2=e.sent,e.next=15,Q();case 15:return e.t3=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2,e.t3));case 17:case"end":return e.stop()}}),e,void 0)}))),function(){return H.apply(this,arguments)}),ee=function(e,t){var a=+e.rate;if(isNaN(a)||!t)return!0;if(1===a)return!0;if(0===a)return!1;try{var i=(0,T.default)(t);return parseInt(i.substr(-6).toLowerCase(),16)%1e4/1e4<=a}catch(e){return!0}},te={iqiyi:12016,baiduboxapp:1,baiduboxlite:10001,baiduhaokan:11e3,bdminivideo:12002,tieba:11001,baidumap:11006,bdnetdisk:11005,askmybaby:11007,xifan:12006,baiduboxmission:10006,tomas:12117,yymobile:12121,weixin:19999},ae={1:{UBC_URL:"https://mbd.baidu.com/tcbox",TEST_UBC_URL:"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/tcbox",DEFAULT_LOG_DATA:{appid:"1",dataid:"2",cateid:"99",actionid:"1",actiontype:"0",actiondata:{id:"0",type:"0",timestamp:0,content:{boxVersion:"-",platform:"-",inBox:1,page:"-",type:"-",value:"-",source:"default",from:"act",ext:{apptype:"-"}}}},DEFAULT_QUERY:{action:"pblog"}},2:{UBC_URL:"https://mbd.baidu.com/ztbox",TEST_UBC_URL:"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/ztbox",DEFAULT_LOG_DATA:{cateid:"99",actiondata:{id:"0",type:"0",timestamp:0,content:{swan_name:"-",page:"-",type:"-",value:"-",source:"default",from:"act",ext:{}}}},DEFAULT_QUERY:{action:"zpblog",v:"2.0",appname:"baiduboxapp",from:"",cfrom:"",smfw:"",sid:"",sn:""}}},ie="https://mbd.baidu.com/ztbox",ne="http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/ztbox",oe={cateid:"101",data:[]},re={action:"mpblog",v:"2.0",appname:"baiduboxapp",from:"",cfrom:"",smfw:"",sid:"",sn:""},se={request:q("request")};Z().then().catch();var ce=function(){if(r()){var e=r().globalData;if(e&&e.query&&e.query.idfrom)return e.query.idfrom;if(e&&e.entryType)return e.entryType;if(B.getURLQuery&&getCurrentPages&&getCurrentPages().length>0){var t=B.getURLQuery();if(t&&(t.idfrom||t.source))return t.idfrom||t.source}}},le=function(e,t){var a={};return Object.keys(t).forEach((function(e){t[e]&&(a[e]=t[e])})),0===Object.keys(a).length?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+(~e.indexOf("?")?"&":"?")+j(t)}(e,a)},pe=function(){var e=getCurrentPages();return(e&&e.length>0&&e[e.length-1]||{}).uri||"unknown"},ue=function(e){for(var t=getCurrentPages(),a=0;a<t.length-1;a++)if(e===t[a].uri)return!0;return!1},de=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x(this,e),this.ubcParams={},this.logInited=!1,this.sendJobsArr=[],this.sampleConf=(0,I.default)({},a.sample),this.timerMap={},this.timerPagesOpt={},this.pageTimingLogBegin=0,this.pageTimingLogEnd=1,this.ubcVersion=+a.version||2,this.noUseApiGetUserInfo=a.noUseApiGetUserInfo,this.logMergeOpt=(0,I.default)({ifAutoMerge:!1,mergeInterval:5,mergeNumMax:5},a.logMergeOpt||{}),2!=+this.ubcVersion&&this.logMergeOpt.ifAutoMerge&&(console.log("[ug-swan-logger-waring] 日志合并配置失败: ubcVersion为2时，支持日志合并"),this.logMergeOpt.ifAutoMerge=!1),this.mergeLogsList={auto:[],manual:[]},this._defineMergeLogListProxy("auto"),this._defineMergeLogListProxy("manual"),B.onAppHide((function(){t._logAutoMergeEnd("auto"),t._logAutoMergeEnd("manual")})),this._initUbcParamsWithVersion(),this._initUbcUrlWithVersion(a),(0,I.default)(this.ubcParams,{actiondata:{id:a.serverId,content:{source:a.source||a.idfrom||ce(),page:a.page,from:a.from,swan_name:a.swan_name}}}),this._ifSwanReport=!(!1===a.ifSwanReport),this._checkServerId(),this.logErrRetry=!0===a.logErrRetry,this._retryLogMap=new Map,this._retryTimesMax=3,this._retryListMax=5,this._retryIntervalTimer=null,this._retryDelayMapConf={1:1,2:5,3:10+Math.round(5*Math.random())},this._bindErrLogPageEvt=!1,this.logErrRetry&&this._initErrLogs()}var t,a,i,n,r,s,c,l,p;return S(e,[{key:"_initErrLogs",value:function(){var e=this,t=B.getStorageSync("LOGGER_RETRY_LOG_LIST")||[];if(this._retryLogMap=new Map(t.map((function(t){return[t[0],Object.assign({},t[1],{failTimes:1,sendCountDown:e._retryDelayMapConf[1]})]}))),!this._bindErrLogPageEvt){this._bindErrLogPageEvt=!0;App.after({methods:{onHide:function(t){e.logErrRetry&&B.setStorageSync("LOGGER_RETRY_LOG_LIST",Array.from(e._retryLogMap))}}})}}},{key:"_updateErrLog",value:function(e){var t=this._retryLogMap.get(e);if(t){var a=t.failTimes;a+1>this._retryTimesMax?this._removeErrLog(e):this._retryLogMap.set(e,Object.assign({},t,{failTimes:a+1,sendCountDown:this._retryDelayMapConf[a+1]}))}}},{key:"_addErrLog",value:function(e,t){if(this._retryLogMap.set(e,{sendData:t,failTimes:1,sendCountDown:this._retryDelayMapConf[1]}),this._retryLogMap.size>this._retryTimesMax){var a=this._retryLogMap.keys().next().value;this._retryLogMap.delete(a)}this._startErrLogTimer()}},{key:"_removeErrLog",value:function(e){this._retryLogMap.delete(e),this._retryLogMap.size<1&&this._retryIntervalTimer&&(clearInterval(this._retryIntervalTimer),this._retryIntervalTimer=null)}},{key:"_startErrLogTimer",value:function(){var e=this;this._retryIntervalTimer||this._retryLogMap.size<1||(this._retryIntervalTimer=o((function(){e._retryIntervalTimerHandler()}),1e3))}},{key:"_retryIntervalTimerHandler",value:function(){var e=this;this._retryLogMap.size>0&&this._retryLogMap.forEach((function(t,a){t.sendCountDown<0||(0==+t.sendCountDown?(t.sendCountDown=-1,e._retrySend(a,t.sendData).then((function(){e._removeErrLog(a)})).catch((function(t){e._updateErrLog(a)}))):t.sendCountDown--)}))}},{key:"_defineMergeLogListProxy",value:function(e){var t=this;this.mergeLogsList[e]=new Proxy([],function(e){return{set:function(a,i,n,r){return a.length===r.length&&0==+i&&(t.logMergeOpt[e+"Timer"]||(t.logMergeOpt[e+"Timer"]=o((function(){t._sendMergeLogInterval(e)}),1e3*t.logMergeOpt.mergeInterval))),a.length===r.length&&"length"===i&&0==+n&&t.logMergeOpt[e+"Timer"]&&(clearInterval(t.logMergeOpt[e+"Timer"]),t.logMergeOpt[e+"Timer"]=null),"length"===i&&+n>=t.logMergeOpt.mergeNumMax&&t._sendMergeLogInterval(e),Reflect.set(a,i,n,r)}}}(e))}},{key:"_swanReport",value:function(e){var t=e.actiondata.content,a={page:t.page,type:t.type,value:t.value,source:t.source};try{B.reportAnalytics&&B.reportAnalytics("ubc",a)}catch(e){console.log(e)}}},{key:"_initUbcParamsWithVersion",value:function(){var e=ae[this.ubcVersion];this.ubcParams={},this.ubcDefaultLogData=e.DEFAULT_LOG_DATA,(0,I.default)(this.ubcParams,this.ubcDefaultLogData,this._getDeviceInfo())}},{key:"_initUbcUrlWithVersion",value:function(e){var t=ae[this.ubcVersion],a=e.queryParams||{},i={appname:a.appname,from:a.from,cfrom:a.cfrom,smfw:a.smfw,sid:a.sid,sn:a.sn};this.ubcUrl=le(e.testMode?e.testUrl?e.testUrl:t.TEST_UBC_URL:t.UBC_URL,(0,I.default)(t.DEFAULT_QUERY,i)),this.ubcMergeUrl=le(e.testMode?e.testUrl?e.testUrl:ne:ie,(0,I.default)(re,i))}},{key:"_getDeviceInfo",value:function(){var e=R(),t=e.version,a=e.platform,i=e.appname,n={actiondata:{content:{ext:{apptype:te[i]}}}};return 1===this.ubcVersion?(0,I.default)({},n,{actiondata:{content:{boxVersion:t,platform:a}}}):n}},{key:"_checkServerId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"0"===this.ubcParams.actiondata.id?(e&&console.log("[ug-swan-logger] serverId 未设置"),!1):(this.logInited=!0,!0)}},{key:"_checkSampleHit",value:(p=A(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.sampleConf||{},!(Object.keys(t).length>0)){e.next=7;break}return e.next=4,Z(this.noUseApiGetUserInfo);case 4:return a=e.sent,i=a.cuid,e.abrupt("return",ee(t,i));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"set",value:(l=A(regeneratorRuntime.mark((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.noUseApiGetUserInfo&&(this.noUseApiGetUserInfo=t.noUseApiGetUserInfo),this.sampleConf=(0,I.default)(this.sampleConf,t.sample),t.version&&+t.version!==this.ubcVersion&&(this.ubcVersion=+t.version||2,this._initUbcParamsWithVersion()),W(this.logMergeOpt,t.logMergeOpt)&&(this._logAutoMergeEnd("auto"),this._logAutoMergeEnd("manual"),this.logMergeOpt=(0,I.default)(this.logMergeOpt,t.logMergeOpt||{}),1==+this.ubcVersion&&t.logMergeOpt.ifAutoMerge&&(console.log("[ug-swan-logger-waring] 日志合并配置失败: ubcVersion为2时，支持日志合并"),this.logMergeOpt.ifAutoMerge=!1)),(t.testMode||t.version||Object.keys(t.queryParams||{}).length>0)&&this._initUbcUrlWithVersion(t),(0,I.default)(this.ubcParams,{actiondata:{id:t.serverId,content:{source:t.source||t.idfrom||ce(),page:t.page,from:t.from,swan_name:t.swan_name}}}),this._ifSwanReport=!(!1===t.ifSwanReport),this._checkServerId(!0)&&this.sendJobsArr.length>0&&(Promise.all(this.sendJobsArr.map((function(e){return e()}))),this.sendJobsArr=[]),!0!==t.logErrRetry&&!1!==t.logErrRetry||(t.logErrRetry&&this._initErrLogs(),this.logErrRetry=t.logErrRetry);case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_retrySend",value:(c=A(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(this.noUseApiGetUserInfo);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,a=r.logData,i=r.uid,n=r._,a.actiondata.metadata.uploadTimeStamp=Date.now(),e.prev=8,e.next=11,se.request({method:"GET",url:this.ubcUrl,baiduCORS:!0,data:{data:JSON.stringify(a),uid:i,_:n},header:{"content-type":"application/x-www-form-urlencoded",cookie:M(t)}});case 11:return o=e.sent,e.abrupt("return",200==+o.statusCode?Promise.resolve():Promise.reject(o.statusCode));case 15:return e.prev=15,e.t1=e.catch(8),e.abrupt("return",Promise.reject(e.t1));case 18:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(){return c.apply(this,arguments)})},{key:"_realSend",value:(s=A(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkSampleHit();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.next=6,Z(this.noUseApiGetUserInfo);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(t=e.t0,a={},i=Date.now(),"flow"===l?this._getFlowData((0,I.default)(a,this.ubcParams,{actiondata:{timestamp:i,content:Object.assign({},c)}})):((0,I.default)(a,this.ubcParams,{actiondata:{timestamp:i,content:Object.assign({},c)}}),this._ifSwanReport&&this._swanReport(a)),n="",o="",!this.logErrRetry){e.next=21;break}return e.next=18,Z(this.noUseApiGetUserInfo);case 18:r=e.sent,(o=r.baidu_id)&&(n=(0,T.default)(o+i+JSON.stringify(a)))&&(a.actiondata.metadata={md5:n,uploadTimeStamp:Date.now()});case 21:return e.prev=21,e.next=24,se.request({method:"GET",url:this.ubcUrl,baiduCORS:!0,data:{data:JSON.stringify(a),uid:t.cuid,_:i},header:{"content-type":"application/x-www-form-urlencoded",cookie:M(t)}});case 24:return s=e.sent,e.abrupt("return",200==+s.statusCode?Promise.resolve({logId:n,res:s}):Promise.reject({logId:n,baiduId:o,err:s.statusCode,sendData:{logData:a,uid:t.cuid,_:i}}));case 28:return e.prev=28,e.t1=e.catch(21),e.abrupt("return",Promise.reject({logId:n,baiduId:o,err:e.t1,sendData:{logData:a,uid:t.cuid,_:i}}));case 31:case"end":return e.stop()}}),e,this,[[21,28]])}))),function(){return s.apply(this,arguments)})},{key:"send",value:(r=A(regeneratorRuntime.mark((function e(t){var a,i,n,o,r,s,c=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.logMergeOpt.ifAutoMerge||"event"!==l){e.next=4;break}return e.next=3,this.mergeLogsList.auto.push(t);case 3:return e.abrupt("return",Promise.resolve());case 4:if(this.logInited){e.next=6;break}return e.abrupt("return",new Promise((function(e,a){c.sendJobsArr.push((function(){c._realSend(Object.assign({},t),l).then((function(t){var a=t.res;c.logErrRetry&&c._startErrLogTimer(),e(a)})).catch((function(e){var t=e.logId,i=e.baiduId,n=e.err,o=e.sendData;c.logErrRetry&&i&&c._addErrLog(t,o),a(n)}))}))})));case 6:return e.prev=6,e.next=9,this._realSend(Object.assign({},t),l);case 9:return a=e.sent,i=a.res,this.logErrRetry&&this._startErrLogTimer(),e.abrupt("return",Promise.resolve(i));case 15:if(e.prev=15,e.t0=e.catch(6),n=e.t0.logId,o=e.t0.err,r=e.t0.baiduId,s=e.t0.sendData,e.t1=this.logErrRetry&&r,!e.t1){e.next=25;break}return e.next=25,this._addErrLog(n,s);case 25:return e.abrupt("return",Promise.reject(o));case 26:case"end":return e.stop()}}),e,this,[[6,15]])}))),function(e){return r.apply(this,arguments)})},{key:"_getFlowData",value:function(e){var t=(0,I.default)({},e.actiondata.content),a=t.swan_name,i=t.timing,n=i.starttime,o=i.endtime,r=i.duration;delete e.actiondata.content,delete t.timing,delete t.swan_name,(0,I.default)(e.actiondata,{starttime:n,endtime:o}),(0,I.default)(e.actiondata,{type:1,content:{duration:r,swan_name:a,option:t}})}},{key:"setPageTimingLog",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.pageTimingLogBegin,n={flag:i,begin:Date.now()},o=pe();if(this.timerPagesOpt[o]=Object.assign({},t,{timing:{}}),!ue(o)){var r=function(t){var a=t.args.accessUri;e.timerMap[a]=(0,I.default)(n,{begin:Date.now(),end:-1,flag:i})},s=function(t){!a&&e.stopPageTimingLog(t)};Page.after({url:o,methods:{onShow:r,onUnload:s,onHide:s}})}}},{key:"stopPageTimingLog",value:function(e){var t=this.pageTimingLogBegin,a=this.pageTimingLogEnd,i=pe(),n=e&&e.args.accessUri||i;this.timerMap[n]&&this.timerMap[n].flag===t&&(this.timerMap[n].flag=a,this.timerMap[n].end=Date.now(),this.send((0,I.default)(this.timerPagesOpt[i],{timing:{duration:(this.timerMap[n].end-this.timerMap[n].begin)/1e3,starttime:this.timerMap[n].begin,endtime:this.timerMap[n].end}}),"flow"))}},{key:"_mergeRealSend",value:(n=A(regeneratorRuntime.mark((function e(t){var a,i,n,o,r,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkSampleHit();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.next=6,Z(this.noUseApiGetUserInfo);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:return a=e.t0,i=Date.now(),n=[],t.map((function(e){e&&n.push(e)})),o=n.map((function(e){var t=(0,I.default)({},s.ubcParams.actiondata.content),a=(0,I.default)(t,Object.assign({},e));return Object.assign({},s.ubcParams.actiondata,{timestamp:i,content:a})})),r=(0,I.default)({},oe,{data:o}),e.abrupt("return",se.request({method:"POST",baiduCORS:!0,url:this.ubcMergeUrl+"&uid="+a.cuid+"&_="+i,data:{data:JSON.stringify(r)},header:{"content-type":"application/x-www-form-urlencoded",cookie:M(a)}}));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_sendMergeLogInterval",value:(i=A(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=this.mergeLogsList[t]).length>0)){e.next=5;break}return i=a.splice(0),this._defineMergeLogListProxy(t),e.abrupt("return",this._mergeRealSend(i));case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"sendMergeLog",value:(a=A(regeneratorRuntime.mark((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2==+this.ubcVersion){e.next=3;break}return console.log("[ug-swan-logger-waring] sendMergeLog调用失败！请配置ubcVersion为2"),e.abrupt("return",this.send(t));case 3:this.mergeLogsList.manual.push(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_logAutoMergeEnd",value:(t=A(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mergeLogsList[t].length>0&&(a=this.mergeLogsList[t].splice(0)).length>0&&a[a.length-1]&&this._mergeRealSend(a);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),he=new de;a.UbcLogger=de,a.ubcLogger=he})),window.define("25",(function(e,t,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S){"use strict";var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=/^\[object .+?Constructor\]$/,T="object"==(void 0===a?"undefined":D(a))&&a&&a.Object===Object&&a,I="object"==(void 0===u?"undefined":D(u))&&u&&u.Object===Object&&u,E=T||I||i("return this")();var x,A=Array.prototype,L=i.prototype,B=Object.prototype,F=E["__core-js_shared__"],N=(x=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",O=L.toString,R=B.hasOwnProperty,U=B.toString,M=RegExp("^"+O.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=A.splice,z=Q(E,"Map"),V=Q(Object,"create");function H(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function W(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function q(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function G(e,t){for(var a,i,n=e.length;n--;)if((a=e[n][0])===(i=t)||a!=a&&i!=i)return n;return-1}function J(e){return!(!X(e)||(t=e,N&&N in t))&&(function(e){var t=X(e)?U.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?M:C).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function K(e,t){var a=e.__data__;return function(e){var t=void 0===e?"undefined":D(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?a["string"==typeof t?"string":"hash"]:a.map}function Q(e,t){var a=function(e,t){return null==e?void 0:e[t]}(e,t);return J(a)?a:void 0}function Y(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function a(){var i=arguments,n=t?t.apply(this,i):i[0],o=a.cache;if(o.has(n))return o.get(n);var r=e.apply(this,i);return a.cache=o.set(n,r),r};return a.cache=new(Y.Cache||q),a}function X(e){var t=void 0===e?"undefined":D(e);return!!e&&("object"==t||"function"==t)}H.prototype.clear=function(){this.__data__=V?V(null):{}},H.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},H.prototype.get=function(e){var t=this.__data__;if(V){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return R.call(t,e)?t[e]:void 0},H.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:R.call(t,e)},H.prototype.set=function(e,t){return this.__data__[e]=V&&void 0===t?"__lodash_hash_undefined__":t,this},W.prototype.clear=function(){this.__data__=[]},W.prototype.delete=function(e){var t=this.__data__,a=G(t,e);return!(a<0)&&(a==t.length-1?t.pop():j.call(t,a,1),!0)},W.prototype.get=function(e){var t=this.__data__,a=G(t,e);return a<0?void 0:t[a][1]},W.prototype.has=function(e){return G(this.__data__,e)>-1},W.prototype.set=function(e,t){var a=this.__data__,i=G(a,e);return i<0?a.push([e,t]):a[i][1]=t,this},q.prototype.clear=function(){this.__data__={hash:new H,map:new(z||W),string:new H}},q.prototype.delete=function(e){return K(this,e).delete(e)},q.prototype.get=function(e){return K(this,e).get(e)},q.prototype.has=function(e){return K(this,e).has(e)},q.prototype.set=function(e,t){return K(this,e).set(e,t),this},Y.Cache=q,t.exports=Y})),window.define("26",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S,D,C,T;P=e(27),S=e(28).utf8,D=e(29),C=e(28).bin,(T=function e(t,a){t.constructor==String?t=a&&"binary"===a.encoding?C.stringToBytes(t):S.stringToBytes(t):D(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=P.bytesToWords(t),n=8*t.length,o=1732584193,r=-271733879,s=-1732584194,c=271733878,l=0;l<i.length;l++)i[l]=16711935&(i[l]<<8|i[l]>>>24)|4278255360&(i[l]<<24|i[l]>>>8);i[n>>>5]|=128<<n%32,i[14+(n+64>>>9<<4)]=n;var p=e._ff,u=e._gg,d=e._hh,h=e._ii;for(l=0;l<i.length;l+=16){var g=o,f=r,m=s,v=c;o=p(o,r,s,c,i[l+0],7,-680876936),c=p(c,o,r,s,i[l+1],12,-389564586),s=p(s,c,o,r,i[l+2],17,606105819),r=p(r,s,c,o,i[l+3],22,-1044525330),o=p(o,r,s,c,i[l+4],7,-176418897),c=p(c,o,r,s,i[l+5],12,1200080426),s=p(s,c,o,r,i[l+6],17,-1473231341),r=p(r,s,c,o,i[l+7],22,-45705983),o=p(o,r,s,c,i[l+8],7,1770035416),c=p(c,o,r,s,i[l+9],12,-1958414417),s=p(s,c,o,r,i[l+10],17,-42063),r=p(r,s,c,o,i[l+11],22,-1990404162),o=p(o,r,s,c,i[l+12],7,1804603682),c=p(c,o,r,s,i[l+13],12,-40341101),s=p(s,c,o,r,i[l+14],17,-1502002290),o=u(o,r=p(r,s,c,o,i[l+15],22,1236535329),s,c,i[l+1],5,-165796510),c=u(c,o,r,s,i[l+6],9,-1069501632),s=u(s,c,o,r,i[l+11],14,643717713),r=u(r,s,c,o,i[l+0],20,-373897302),o=u(o,r,s,c,i[l+5],5,-701558691),c=u(c,o,r,s,i[l+10],9,38016083),s=u(s,c,o,r,i[l+15],14,-660478335),r=u(r,s,c,o,i[l+4],20,-405537848),o=u(o,r,s,c,i[l+9],5,568446438),c=u(c,o,r,s,i[l+14],9,-1019803690),s=u(s,c,o,r,i[l+3],14,-187363961),r=u(r,s,c,o,i[l+8],20,1163531501),o=u(o,r,s,c,i[l+13],5,-1444681467),c=u(c,o,r,s,i[l+2],9,-51403784),s=u(s,c,o,r,i[l+7],14,1735328473),o=d(o,r=u(r,s,c,o,i[l+12],20,-1926607734),s,c,i[l+5],4,-378558),c=d(c,o,r,s,i[l+8],11,-2022574463),s=d(s,c,o,r,i[l+11],16,1839030562),r=d(r,s,c,o,i[l+14],23,-35309556),o=d(o,r,s,c,i[l+1],4,-1530992060),c=d(c,o,r,s,i[l+4],11,1272893353),s=d(s,c,o,r,i[l+7],16,-155497632),r=d(r,s,c,o,i[l+10],23,-1094730640),o=d(o,r,s,c,i[l+13],4,681279174),c=d(c,o,r,s,i[l+0],11,-358537222),s=d(s,c,o,r,i[l+3],16,-722521979),r=d(r,s,c,o,i[l+6],23,76029189),o=d(o,r,s,c,i[l+9],4,-640364487),c=d(c,o,r,s,i[l+12],11,-421815835),s=d(s,c,o,r,i[l+15],16,530742520),o=h(o,r=d(r,s,c,o,i[l+2],23,-995338651),s,c,i[l+0],6,-198630844),c=h(c,o,r,s,i[l+7],10,1126891415),s=h(s,c,o,r,i[l+14],15,-1416354905),r=h(r,s,c,o,i[l+5],21,-57434055),o=h(o,r,s,c,i[l+12],6,1700485571),c=h(c,o,r,s,i[l+3],10,-1894986606),s=h(s,c,o,r,i[l+10],15,-1051523),r=h(r,s,c,o,i[l+1],21,-2054922799),o=h(o,r,s,c,i[l+8],6,1873313359),c=h(c,o,r,s,i[l+15],10,-30611744),s=h(s,c,o,r,i[l+6],15,-1560198380),r=h(r,s,c,o,i[l+13],21,1309151649),o=h(o,r,s,c,i[l+4],6,-145523070),c=h(c,o,r,s,i[l+11],10,-1120210379),s=h(s,c,o,r,i[l+2],15,718787259),r=h(r,s,c,o,i[l+9],21,-343485551),o=o+g>>>0,r=r+f>>>0,s=s+m>>>0,c=c+v>>>0}return P.endian([o,r,s,c])})._ff=function(e,t,a,i,n,o,r){var s=e+(t&a|~t&i)+(n>>>0)+r;return(s<<o|s>>>32-o)+t},T._gg=function(e,t,a,i,n,o,r){var s=e+(t&i|a&~i)+(n>>>0)+r;return(s<<o|s>>>32-o)+t},T._hh=function(e,t,a,i,n,o,r){var s=e+(t^a^i)+(n>>>0)+r;return(s<<o|s>>>32-o)+t},T._ii=function(e,t,a,i,n,o,r){var s=e+(a^(t|~i))+(n>>>0)+r;return(s<<o|s>>>32-o)+t},T._blocksize=16,T._digestsize=16,t.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var a=P.wordsToBytes(T(e,t));return t&&t.asBytes?a:t&&t.asString?C.bytesToString(a):P.bytesToHex(a)}})),window.define("27",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S;P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&S.rotl(e,8)|4278255360&S.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=S.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],a=0,i=0;a<e.length;a++,i+=8)t[i>>>5]|=e[a]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],a=0;a<32*e.length;a+=8)t.push(e[a>>>5]>>>24-a%32&255);return t},bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},bytesToBase64:function(e){for(var t=[],a=0;a<e.length;a+=3)for(var i=e[a]<<16|e[a+1]<<8|e[a+2],n=0;n<4;n++)8*a+6*n<=8*e.length?t.push(P.charAt(i>>>6*(3-n)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],a=0,i=0;a<e.length;i=++a%4)0!=i&&t.push((P.indexOf(e.charAt(a-1))&Math.pow(2,-2*i+8)-1)<<2*i|P.indexOf(e.charAt(a))>>>6-2*i);return t}},t.exports=S})),window.define("28",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P={utf8:{stringToBytes:function(e){return P.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(P.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],a=0;a<e.length;a++)t.push(255&e.charCodeAt(a));return t},bytesToString:function(e){for(var t=[],a=0;a<e.length;a++)t.push(String.fromCharCode(e[a]));return t.join("")}}};t.exports=P})),window.define("29",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function P(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(P(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&P(e.slice(0,0))}(e)||!!e._isBuffer)}})),window.define("30",(function(e,t,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=/^\[object .+?Constructor\]$/,r=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var c="object"==(void 0===a?"undefined":t(a))&&a&&a.Object===Object&&a,l="object"==(void 0===u?"undefined":t(u))&&u&&u.Object===Object&&u,p=c||l||i("return this")(),d="object"==t(n)&&n&&!n.nodeType&&n,h=d&&"object"==t(e)&&e&&!e.nodeType&&e,g=h&&h.exports===d,f=g&&c.process,m=function(){try{var e=h&&h.require&&h.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(e){}}(),v=m&&m.isTypedArray;function y(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}var w,b,_,k=Array.prototype,P=i.prototype,S=Object.prototype,D=p["__core-js_shared__"],C=P.toString,T=S.hasOwnProperty,I=(w=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",E=S.toString,x=C.call(Object),A=RegExp("^"+C.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=g?p.Buffer:void 0,B=p.Symbol,F=p.Uint8Array,N=L?L.allocUnsafe:void 0,O=(b=Object.getPrototypeOf,_=Object,function(e){return b(_(e))}),R=Object.create,U=S.propertyIsEnumerable,M=k.splice,j=B?B.toStringTag:void 0,z=function(){try{var e=de(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=L?L.isBuffer:void 0,H=Math.max,W=Date.now,q=de(p,"Map"),G=de(Object,"create"),J=function(){function e(){}return function(t){if(!Se(t))return{};if(R)return R(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function K(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function Q(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function Y(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}function X(e){var t=this.__data__=new Q(e);this.size=t.size}function $(e,t){var a=we(e),i=!a&&ye(e),n=!a&&!i&&_e(e),o=!a&&!i&&!n&&Ce(e),r=a||i||n||o,s=r?function(e,t){for(var a=-1,i=Array(e);++a<e;)i[a]=t(a);return i}(e.length,String):[],c=s.length;for(var l in e)!t&&!T.call(e,l)||r&&("length"==l||n&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||he(l,c))||s.push(l);return s}function Z(e,t,a){(void 0!==a&&!ve(e[t],a)||void 0===a&&!(t in e))&&ae(e,t,a)}function ee(e,t,a){var i=e[t];T.call(e,t)&&ve(i,a)&&(void 0!==a||t in e)||ae(e,t,a)}function te(e,t){for(var a=e.length;a--;)if(ve(e[a][0],t))return a;return-1}function ae(e,t,a){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}K.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(G){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return T.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:T.call(t,e)},K.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(e){var t=this.__data__,a=te(t,e);return!(a<0)&&(a==t.length-1?t.pop():M.call(t,a,1),--this.size,!0)},Q.prototype.get=function(e){var t=this.__data__,a=te(t,e);return a<0?void 0:t[a][1]},Q.prototype.has=function(e){return te(this.__data__,e)>-1},Q.prototype.set=function(e,t){var a=this.__data__,i=te(a,e);return i<0?(++this.size,a.push([e,t])):a[i][1]=t,this},Y.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(q||Q),string:new K}},Y.prototype.delete=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return ue(this,e).get(e)},Y.prototype.has=function(e){return ue(this,e).has(e)},Y.prototype.set=function(e,t){var a=ue(this,e),i=a.size;return a.set(e,t),this.size+=a.size==i?0:1,this},X.prototype.clear=function(){this.__data__=new Q,this.size=0},X.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var a=this.__data__;if(a instanceof Q){var i=a.__data__;if(!q||i.length<199)return i.push([e,t]),this.size=++a.size,this;a=this.__data__=new Y(i)}return a.set(e,t),this.size=a.size,this};var ie,ne=function(e,t,a){for(var i=-1,n=Object(e),o=a(e),r=o.length;r--;){var s=o[ie?r:++i];if(!1===t(n[s],s,n))break}return e};function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?function(e){var t=T.call(e,j),a=e[j];try{e[j]=void 0;var i=!0}catch(e){}var n=E.call(e);i&&(t?e[j]=a:delete e[j]);return n}(e):function(e){return E.call(e)}(e)}function re(e){return De(e)&&"[object Arguments]"==oe(e)}function se(e){return!(!Se(e)||function(e){return!!I&&I in e}(e))&&(ke(e)?A:o).test(function(e){if(null!=e){try{return C.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ce(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=ge(e),a=[];for(var i in e)("constructor"!=i||!t&&T.call(e,i))&&a.push(i);return a}function le(e,t,a,i,n){e!==t&&ne(t,(function(o,r){if(n||(n=new X),Se(o))!function(e,t,a,i,n,o,r){var s=fe(e,a),c=fe(t,a),l=r.get(c);if(l)return void Z(e,a,l);var p=o?o(s,c,a+"",e,t,r):void 0,u=void 0===p;if(u){var d=we(c),h=!d&&_e(c),g=!d&&!h&&Ce(c);p=c,d||h||g?we(s)?p=s:De(w=s)&&be(w)?p=function(e,t){var a=-1,i=e.length;t||(t=Array(i));for(;++a<i;)t[a]=e[a];return t}(s):h?(u=!1,p=function(e,t){if(t)return e.slice();var a=e.length,i=N?N(a):new e.constructor(a);return e.copy(i),i}(c,!0)):g?(u=!1,f=c,m=!0?(v=f.buffer,y=new v.constructor(v.byteLength),new F(y).set(new F(v)),y):f.buffer,p=new f.constructor(m,f.byteOffset,f.length)):p=[]:function(e){if(!De(e)||"[object Object]"!=oe(e))return!1;var t=O(e);if(null===t)return!0;var a=T.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&C.call(a)==x}(c)||ye(c)?(p=s,ye(s)?p=function(e){return function(e,t,a,i){var n=!a;a||(a={});var o=-1,r=t.length;for(;++o<r;){var s=t[o],c=i?i(a[s],e[s],s,a,e):void 0;void 0===c&&(c=e[s]),n?ae(a,s,c):ee(a,s,c)}return a}(e,Te(e))}(s):Se(s)&&!ke(s)||(p=function(e){return"function"!=typeof e.constructor||ge(e)?{}:J(O(e))}(c))):u=!1}var f,m,v,y;var w;u&&(r.set(c,p),n(p,c,i,o,r),r.delete(c));Z(e,a,p)}(e,t,r,a,le,i,n);else{var s=i?i(fe(e,r),o,r+"",e,t,n):void 0;void 0===s&&(s=o),Z(e,r,s)}}),Te)}function pe(e,t){return me(function(e,t,a){return t=H(void 0===t?e.length-1:t,0),function(){for(var i=arguments,n=-1,o=H(i.length-t,0),r=Array(o);++n<o;)r[n]=i[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=i[n];return s[t]=a(r),y(e,this,s)}}(e,t,xe),e+"")}function ue(e,a){var i=e.__data__;return function(e){var a=void 0===e?"undefined":t(e);return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==e:null===e}(a)?i["string"==typeof a?"string":"hash"]:i.map}function de(e,t){var a=function(e,t){return null==e?void 0:e[t]}(e,t);return se(a)?a:void 0}function he(e,a){var i=void 0===e?"undefined":t(e);return!!(a=null==a?9007199254740991:a)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<a}function ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var me=function(e){var t=0,a=0;return function(){var i=W(),n=16-(i-a);if(a=i,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(a=t,function(){return a}),writable:!0});var a}:xe);function ve(e,t){return e===t||e!=e&&t!=t}var ye=re(function(){return arguments}())?re:function(e){return De(e)&&T.call(e,"callee")&&!U.call(e,"callee")},we=Array.isArray;function be(e){return null!=e&&Pe(e.length)&&!ke(e)}var _e=V||function(){return!1};function ke(e){if(!Se(e))return!1;var t=oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Se(e){var a=void 0===e?"undefined":t(e);return null!=e&&("object"==a||"function"==a)}function De(e){return null!=e&&"object"==(void 0===e?"undefined":t(e))}var Ce=v?function(e){return function(t){return e(t)}}(v):function(e){return De(e)&&Pe(e.length)&&!!s[oe(e)]};function Te(e){return be(e)?$(e,!0):ce(e)}var Ie,Ee=(Ie=function(e,t,a){le(e,t,a)},pe((function(e,a){var i=-1,n=a.length,o=n>1?a[n-1]:void 0,r=n>2?a[2]:void 0;for(o=Ie.length>3&&"function"==typeof o?(n--,o):void 0,r&&function(e,a,i){if(!Se(i))return!1;var n=void 0===a?"undefined":t(a);return!!("number"==n?be(i)&&he(a,i.length):"string"==n&&a in i)&&ve(i[a],e)}(a[0],a[1],r)&&(o=n<3?void 0:o,n=1),e=Object(e);++i<n;){var s=a[i];s&&Ie(e,s,i,o)}return e})));function xe(e){return e}e.exports=Ee}).call(this,e(31)(t))})),window.define("31",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";t.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}})),window.define("32",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C="",T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e),this.initConf(t),this.initEvent()}return S(e,[{key:"updateConfig",value:function(e){this.conf=Object.assign(this.conf,e)}},{key:"initConf",value:function(e){var t={url:"https://pan.baidu.com/bpapi/analytics",method:"GET"},a={};Object.assign(a,t,e.remote);var i={};Object.assign(i,{typeWithRoute:!0},e,{remote:void 0}),this.validateConf(i),this.defaultRemoteConf=t,this.remoteConf=a,this.conf=i}},{key:"validateConf",value:function(e){if(!this.validateTypeConf(e))throw new Error("type config invalid");if(!this.validateWindowConf(e))throw new Error("window config invalid");if(!this.validateNamespaceConf(e))throw new Error("namespace config invalid");if(!this.validateProductId(e))throw new Error("productId invalid")}},{key:"validateTypeConf",value:function(e){return!!e.commonType||!!e.typeWithRoute}},{key:"validateWindowConf",value:function(e){return"object"===P(e.window)}},{key:"validateNamespaceConf",value:function(e){return!(e.typeWithRoute&&!e.namespace)}},{key:"validateProductId",value:function(e){return!!e.productId}},{key:"initEvent",value:function(){var e=this.conf.window;if("function"==typeof e.onError){C&&e.offError(C);var t=this.handleErr.bind(this);C=t,e.onError(t)}else this.reportSdkErr("onError is not function")}},{key:"getType",value:function(e,t){var a="";return e.commonType?a=e.commonType:e.typeWithRoute&&(a=t?t.replace(/\//g,"_"):"root_app"),a?(e.namespace&&(a=e.namespace+"_"+a),a):a}},{key:"handleErr",value:function(e){try{var t=this.conf,a=getCurrentPages().map((function(e){return e.route})),i=a[a.length-1],n=this.getType(t,i),o="[object Object]"===Object.prototype.toString.call(e)?e.stack:e;if(o=o.toString().replace(/\"(bduss|stoken|uid)\"(\s*)?:(\s*)?(\"?[a-zA-Z0-9]*\"?)?,?/g,""),!n)throw new Error("type invalid");var r={type:n,routes:JSON.stringify(a),currentRoute:i,message:o,sdkVersion:"1.0.0",productId:this.conf.productId,sessionId:this.conf.sessionId,uk:this.conf.uk,msg:o,url:this.conf.url,query:this.conf.query};"function"==typeof t.addParams&&Object.assign(r,t.addParams());var s={};Object.assign(s,this.remoteConf,{data:r}),this.report(s)}catch(e){this.reportSdkErr(e)}}},{key:"report",value:function(e){this.conf.window.request(e)}},{key:"reportSdkErr",value:function(e){var t=this.conf.window,a={};Object.assign(a,this.defaultRemoteConf,{data:{type:"badjs_mp_error",message:"object"===(void 0===e?"undefined":P(e))?JSON.stringify(e):e,sdkVersion:"1.0.0"}}),t.request(a)}}]),e}();a.default=T})),window.define("33",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=a.timestampTurnsTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=void 0;10===String(e).length&&(e+="000");var i=new Date(Number(e)),n=i.getFullYear(),o=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,r=i.getDate()<10?"0"+i.getDate():i.getDate(),s=i.getHours()<10?"0"+i.getHours():i.getHours(),c=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),l=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();switch(t){case 1:a=n+"-"+o+"-"+r+" "+s+":"+c+":"+l;break;case 2:a=n+"-"+o+"-"+r;break;case 3:a=o+"-"+r+" "+s+":"+c+":"+l;break;default:a=n+"-"+o+"-"+r+" "+s+":"+c+":"+l}return a};a.toFriendlyQuotaSize=function(e,t){return t&&"number"==typeof e&&(e/=8),"number"==typeof e||"string"==typeof e&&/^[\d\.]+$/.test(e)?e<1024?Math.round(e)+"B":e<1048576&&e>=1024?Math.round(e/1024)+"KB":e<1073741824&&e>=1048576?10*(e/1024/1024).toFixed(1)/10+"M":100*(e/1024/1024/1024).toFixed(2)/100+"G":"-"},a.msToMin=function(e){var t=Math.floor(e/60);t<10&&(t="0"+t);var a=Math.floor(e%60);return a<10&&(a="0"+a),t+":"+a},a.disposeFileName=function(e){var t=function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length};if(t(e)<=32)return e;for(var a=e.split(""),i="",n="",o=0;t(i)<14;o++)i+=a[o];for(var r=a.length-1;t(n)<14;r--)n=a[r]+n;return i+"...."+n},a.disposeTaskFileName=function(e){var t=function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length};if(t(e)<=18)return e;for(var a=e.split(""),i="",n="",o=0;t(i)<9;o++)i+=a[o];for(var r=a.length-1;t(n)<9;r--)n=a[r]+n;return i+"...."+n},a.disposeMultLineFileName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:86,a=function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length};if(a(e)<=t)return e;for(var i=e.split(""),n="",o="",r=(t-4)/2,s=0;a(n)<r;s++)n+=i[s];for(var c=i.length-1;a(o)<r;c--)o=i[c]+o;return n+"...."+o},a.dealExpiretime=function(e){var t="";if(!e)return"永久有效";var a=(e=1e3*Number(e))-Date.now();if(a>864e5)t=Math.floor(a/864e5)+"天后失效";else if(a>=36e5){var i=Math.floor(a/36e5);t=i+"小时"+Math.floor((a-36e5*i)/6e4)+"分后失效"}else if(a>0&&a<36e5){var n=Math.floor(a/6e4);t=(n>1?n:"1")+"分后失效"}else t="";return t},a.dealReportTime=function(e){var t=Number(e+"000"),a=Date.now(),i=a-t,n=new Date(t).getFullYear(),o=new Date(a).getFullYear(),r="";if(i<6e4)r="刚刚";else if(i<36e5){r=parseInt(i/6e4)+"分钟前"}else if(i>=36e5&&i<864e5){r=parseInt(i/36e5)+"小时前"}else r=P(t,n===o?3:1);return r},a.secondToTimeFormatter=function(e){var t="00",a="00",i="00";if(e<60)i=e>9?String(e):"0"+e;else if(e>60&&e<3600){var n=parseInt(e/60),o=e%60;a=n>10?String(n):"0"+n,i=o>10?String(o):"0"+o}else{var r=parseInt(e/3600),s=e%3600,c=parseInt(s/60),l=s%60;t=r>10?String(r):"0"+r,a=c>10?String(c):"0"+c,i=l>10?String(l):"0"+l}return t+":"+a+":"+i},a.getPathName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new Date,i=function(e){return String(e).padStart(2,"0")},n=a.getFullYear(),o=i(a.getMonth()+1),r=i(a.getDate()),s=i(a.getHours()),c=i(a.getMinutes()),l=i(a.getSeconds());return{path:e+"_"+n+o+r+"_"+s+c+l,name:t+"_"+n+o+r+"_"+s+c+l,timestamp:a.getTime()}}})),window.define("34",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getCookie=function(){var e=(o()||{}).globalData,t=(void 0===e?{}:e).canUseApi,a=(void 0===t?{}:t).canIUseBDUSS,i=void 0!==a&&a,r=n.getStorageSync("stoken"),s=n.getStorageSync("randsk"),c=n.getStorageSync("BAIDUID"),l=n.getStorageSync("ndut_fmt"),p="STOKEN="+r+";BDCLND="+s+";BAIDUID="+c+";";if(l&&(p+="ndut_fmt="+l+";"),i){var u=n.getStorageSync("bduss"),d=n.getStorageSync("openBduss");u?p+="BDUSS="+u+";":d&&(p+="OPENBDUSS="+d+";")}return p}})),window.define("35",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getUser=a.getUserLevel=a.getUserQuota=a.getUserBaseInfo=void 0;var P=e(16);a.getUserBaseInfo=function(){return(0,P.bdRequest)({api:"api/wechat/userinfo",method:"GET",clientType:"25"})},a.getUserQuota=function(){return(0,P.bdRequest)({api:"api/quota",method:"GET",clientType:"25"})},a.getUserLevel=function(e){return(0,P.bdRequest)({api:"api/user/getinfo",data:e,method:"GET",clientType:"25"})},a.getUser=function(){return(0,P.bdRequest)({api:"rest/2.0/membership/user?method=query",method:"GET",clientType:"25"})}})),window.define("36",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.loadFingerSDK=function(){if(S)return;n.getSystemInfo({success:function(e){var t={},a=/Authorized|Enabled/;Object.keys(e).forEach((function(i){a.test(i)||(t[i]=e[i])}));var i=(0,P.encrypt)("bdck"+(new Date).getTime(),"01hltm9JcnEfqy5t",D);(function(e,t,a,i){var r=(o()||{}).globalData,s=(void 0===r?{}:r).canUseApi,c=(void 0===s?{}:s).canIUseBDUSS,l=void 0!==c&&c,p={"content-type":"application/x-www-form-urlencoded"};if(l){var u=n.getStorageSync("bduss"),d=n.getStorageSync("openBduss");u?p.Cookie="BDUSS="+u+";ndut_fmt="+i+";":d&&(p.Cookie="OPENBDUSS="+d+";ndut_fmt="+i+";")}return new Promise((function(i,o){n.request({url:e,method:a,data:t,header:p,success:function(e){i(e.data)},fail:function(e){o(e)}})}))})("https://pan.baidu.com/wfm/jnqp","data="+(0,P.encrypt)(JSON.stringify(t),"01hltm9JcnEfqy5t",D),"POST",i).then((function(e){0===e.errno&&(n.setStorage({key:"ndut_fmt",data:i}),S=!0)}))}})};var P=e(17),S=!1,D="Fsadviz5BSekw310"})),window.define("38",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{propName:{type:String,value:"val",observer:function(e,t){}}},data:{info:null,show:!1,tipsError:!1,value:"",autoFocus:!0,showPlaceholder:!0,showCursor:!1},attached:function(){var e=n.createSelectorQuery();this.selectorQuery=e,this.input=this.selectorQuery.select("secretInput")},detached:function(){},methods:{blurAction:function(){this.setData({showPlaceholder:!this.data.value.length,showCursor:!1})},focusAction:function(){this.setData({showPlaceholder:!1,showCursor:!0})},invokeFocus:function(){var e=this;console.log(this.input),this.setData({autoFocus:!1},(function(){e.setData({autoFocus:!0})}))},clear:function(){this.inputAction({detail:{value:""}})},cancel:function(){this.toggle()},confirm:function(){var e=this;if(!this.data.value.length)return n.showToast({title:"密码不能为空",icon:"none",mask:!1,success:function(t){e.setData({disabled:!1})},fail:function(e){console.log("showToast fail",e)}});this.triggerEvent("verifyPasswd",{passwd:this.data.value,info:this.data.info}),this.toggle()},toggle:function(e){this.setData({value:"",show:!this.data.show,info:e})},inputAction:function(e){this.setData({value:e.detail.value.trim()}),this.setData({showPlaceholder:!this.data.value.length})}}})})),window.define("40",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=(e(13),o());Component({properties:{filename:{type:String,default:"-"}},data:{schema:"",isAdjust:!1},attached:function(){S.getPageQuery();if((0,P.checkIsIos)()&&!n.netdisk){var e="bdnetdisk://swan/OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH/pages/pdf-to-word/pdf-to-word?uk="+S.globalData.loginInfo.uk_str+"&from=smart&is_advert_filter=1";this.setData({isAdjust:!0,schema:e})}},closeHandle:function(){this.triggerEvent("close")},upgradeMember:function(){S.getPageQuery();this.triggerEvent("upgradeMember")}})})),window.define("42",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(43),D=e(44),C=e(8),T=e(13),I=r(),E=(0,S.shortenWithFilename)(26);Component({data:{vipType:-1,showDialog:!1,filename:"",hasWorkPackage:!1,schema:"",isAdjust:!1},attached:function(){var e=(0,C.checkIsIos)();if(this.data.vipType<1&&!this.data.hasWorkPackage&&e&&!o.netdisk){var t="bdnetdisk://swan/OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH/pages/pdf-to-word/pdf-to-word?uk="+I.globalData.loginInfo.uk_str+"&from=smart&is_advert_filter=1";this.setData({isAdjust:!0,schema:t})}},checkWorkPackage:function(){var e=this;return(0,D.getUserProductInfo)().then((function(t){var a=t.product_infos||[];e.hasWorkPackage=!1;for(var i=0;i<a.length;i++)if("privilegecard_work"===a[i].cluster){e.setData({hasWorkPackage:!0}),I.globalData.userInfo.hasWorkPackage=!0;break}return e.data.hasWorkPackage}))},getUserVipType:function(){var e=this,t=I.globalData.loginInfo.uk;return(0,D.getUserInfo)().then((function(a){if(t&&t!==a.uk)return 9;var i=a.vip_type;return I.globalData.userInfo=a,e.setData({vipType:i}),i}))},getUserMemberCase:function(){this.closeDialog();var e=this.data.vipType;return this.getUserVipType().then((function(t){return 9===t?t:t?0===e&&t>0?2:1:0}))},tapHandle:function(){var e=(0,C.checkIsIos)();try{o.netdisk?(o.netdisk.pageTransition({action:"vip",data:{from:"from_toword_shoubai",to:132}},(function(e){o.hideToast(),console.log(e)})),(0,T.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.openPayClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",from:"from_pdfToword_shoubai"}})}))):e||(o.navigateTo({url:"/payment/pay/pages/cashierDesk/index?category=svip&svip=1&from=from_toword_shoubai"}),(0,T.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.openPayClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})})))}catch(e){o.showToast({title:"请在百度网盘内使用此小程序",icon:"none"})}},checkIsMember:function(e,t){return!t&&this.data.vipType<1&&(this.setData({showDialog:!0,filename:E(e)}),(0,T.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.payPanelDis.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})}))),this.data.vipType>0},closeDialog:function(){this.data.showDialog&&(this.setData({showDialog:!1,filename:""}),(0,T.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.closePayClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})})))},upgradeMember:function(){var e=this;o.showToast({title:"loading..",icon:"loading",duration:1e3});var t=0;this.closeDialog(),t="IOS"===I.globalData.environment.clientType?100:800,n((function(){e.tapHandle()}),t)}})})),window.define("43",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};a.date=function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+I(t.getMonth()+1)+"-"+I(t.getDate())+" "+I(t.getHours())+":"+I(t.getMinutes())},a.size=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e,a=0;do{t/=D,a++}while(t>D);return t.toFixed(2).replace(".00","")+C[a]},a.safeSet=function(e,t){try{o.setStorageSync(e,t)}catch(e){console.log(e)}},a.safeGet=function(e){try{return o.getStorageSync(e)}catch(e){return""}},a.sleep=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(a,i){n((function(){var t=null;try{if((t=e())instanceof Promise)return t.then(a,i)}catch(e){return i(e)}a(t)}),t)}))},a.findIndexs=function(e,t){var a=[];return e.forEach((function(e,i){e===t&&a.push(i)})),a},a.getRandomToken=E,a.parse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t;if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(e){return t}},a.shortenWithFilename=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(e/2);return function(a){if(!t)return a;for(var i=a.length,n=0,o=0,r=0,s=0;s<i&&(a.charCodeAt(s)>127?n+=2:n+=1,n>t&&!o&&(o=s),!(n>e));s++);if(n<e)return a;n=0;for(var c=i-1;c>0;c--)if(a.charCodeAt(c)>127?n+=2:n+=1,n>t){r=c;break}return a.slice(0,o)+"..."+a.slice(r)}},a.packFileList=function(e,t){return Promise.all([e,t]).then((function(e){var t,a,i=S(e,2),n=i[0],o=i[1];return x(n.list),x(o.list),t=n.list,a=o.list,(t=t.filter((function(e){return!a.some((function(t){return t.fs_id===e.fs_id}))}))).concat(a)})).then((function(e){return e=e.map((function(e){return e.uniqueId||(e.uniqueId=E()),e}))}))},a.getErrInfoByCode=function(e){if(!(e=Number(e)))return"";switch(e){case 1:return"未知错误";case 2:return"暂不支持PDF加密文档转换";case 3:case 4:case 6:return"服务器开小差，请重试";case 1e3:return"转换超时";default:return"转换失败，请重试"}};var D=1024,C=["B","K","M","G","T","P"],T=a.STATUS={IGNORE:0,NOT_DO:1,DOING:2,DOING_FAILURE:3,PASSWDERROR:5,WAITING_FOR_TARGET_META:9};function I(e){return e?(e=String(e)).length<2?"0"+e:e:""}function E(){return Math.random().toString(36).slice(2)}function x(e){e.forEach((function(e){void 0===e.status&&(/\.pdf$/.test(e.filename||e.server_filename)?e.status=T.NOT_DO:e.status=T.IGNORE)}))}})),window.define("44",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getUserInfo=function(){return(0,P.bdRequest)({api:"rest/2.0/xpan/nas?method=uinfo",method:"GET"})},a.getUserProductInfo=function(){return(0,P.bdRequest)({api:"rest/2.0/membership/user?method=query",method:"GET",original:!0})},a.getFileList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={dir:e,start:100*t,web:!0,limit:100};return(0,P.bdRequest)({api:"rest/2.0/xpan/file?method=list",method:"GET",data:a}).then((function(e){return e.hasMore=100===e.list.length,e.list=e.list.filter((function(e){return e.isdir||/\.pdf$/.test(e.server_filename||e.filename)})),e.list.forEach((function(e){e.beautyTime=(0,D.date)(e.server_mtime),e.beautySize=(0,D.size)(e.size)})),C(e.list,32),e}))},a.getFileById=T,a.getPureTransferredList=I,a.getTransferredFileList=function(){return I().then((function(e){var t=e.map((function(e){return e.fsid})),a=e.filter((function(e){return 1===e.status})).map((function(e){return e.target_fsid}));return T(t.concat(a)).then((function(t){var a=t.list;return e.map((function(e){var t=null;if(1===e.status&&(t=a.find((function(t){return t.fs_id===e.target_fsid}))))return t;if(t=a.find((function(t){return t.fs_id===e.fsid}))){switch(0!==e.cnv_errcode&&(e.status=2),e.status){case 0:t.status=D.STATUS.DOING,t.process=e.process,t.taskid=e.taskid;break;case 2:2===e.cnv_errcode&&(t.unCheck=!0),t.status=D.STATUS.DOING_FAILURE,t.process=0,t.errInfo=(0,D.getErrInfoByCode)(e.cnv_errcode);break;case 1:t.errInfo="转换后的word已被删除";case 9:t.status=D.STATUS.NOT_DO,t.process=0}return t}}))})).then((function(e){return{list:e.filter((function(e){return!!e}))}}))}))},a.commitFileForPendingProcess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return E({fsid:e,action:4}).then((function(e){return e})).catch((function(e){console.log(e)}))},a.startFileForTranscoding=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Promise.resolve({data:[]});if(!e)return a;Array.isArray(e)||(e=[e]);if(!e.length)return a;var i={fsid:e,action:1};t&&(i.passwd=t);return E(i).then((function(e){return e}))},a.getProcessingRateForFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||!e.length)return Promise.resolve({});return E({tasklist:e,action:3}).then((function(e){return e}))};var P=e(16),S=e(45),D=e(43);o();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=(0,D.shortenWithFilename)(t);return e.forEach((function(e){var t=e.filename||e.server_filename,i="is-";e.isdir?i+="dir":/\.pdf$/.test(t)?i+="pdf":/\.docx?$/.test(t)&&(i+="word"),e.className=i,e.shortFilename=a(t),e.filename=t})),e}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return Promise.resolve({list:[]});var t={fsids:JSON.stringify(e),hidden:1,extra:1};return(0,P.bdRequest)({api:"rest/2.0/xpan/multimedia?method=filemetas",method:"GET",data:t,clientType:25}).then((function(e){return e.list.forEach((function(e){e.beautyTime=(0,D.date)(e.server_mtime),e.beautySize=(0,D.size)(e.size)})),C(e.list,24),e}))}function I(){return(0,P.bdRequest)({api:"api/transcoding/list",method:"GET",data:{conv_type:1,page:1,per_page:100}}).then((function(e){return e.data}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({conv_type:1,tasklist:[],fsid:[],device_id:1111,hidden:1},e);t.fsid=JSON.stringify(t.fsid),t.tasklist=JSON.stringify(t.tasklist),t.clienttype=25;var a=(0,S.getQueryFromObj)(t);return(0,P.bdRequest)({api:"api/transcoding/process?"+a,method:"POST",clienttype:25}).catch((function(e){var t="服务器异常",a=e.detail?e.detail.data:{};if(a.errno){var i=18601===a.errno;t=i?"转换次数超限，明天再试吧":e.message||"服务器开小差，请重试"}throw n.showToast({title:t,icon:"none"}),e}))}})),window.define("45",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function S(e){var t="";for(var a in e)if(Object.hasOwnProperty.call(e,a)){var i=e[a];void 0!==i&&(t+="&"+a+"="+i)}return t.substring(1)}a.getThirdUrl=function(e){e=e.split(/https:\/\/pan.baidu.com\/link\/(.*?)\//);var t=void 0;3!==e.length||e[0]||(t={surl:e[2].split("?")[0],from:e[1]});return t},a.getUrlQuery=function(e){var t=e.split("?")[1],a={};if(t){var i=t.split("&"),n=!0,o=!1,r=void 0;try{for(var s,c=i[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value.split("="),p=P(l,2),u=p[0],d=p[1];a[u]=d}}catch(e){o=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw r}}}return a},a.getQueryFromObj=S,a.getUrlAddQuery=function(e,t){var a=e.length,i=e.lastIndexOf("?");-1===i?e+="?":i+1!==a&&(e+="&");return e+=S(t)}})),window.define("47",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(43),S=o();Component({promise:null,resolve:null,reject:null,accessAuth:!1,data:{accessAuth:!1,show:!1},showAuthTip:function(){var e=this;if(this.accessAuth)return Promise.resolve(!0);var t=this.accessAuth=!!(0,P.safeGet)(S.globalData.storeKey.accessAuthTip());return this.setData({accessAuth:t,show:!t}),t?Promise.resolve(!0):(this.promise=new Promise((function(t,a){e.resolve=t})),this.promise)},cancelHandle:function(){this.setData({show:!1}),this.resolve&&this.resolve(!1)},sureHandle:function(){this.setData({accessAuth:!0,show:!1}),(0,P.safeSet)(S.globalData.storeKey.accessAuthTip(),!0),this.resolve&&this.resolve(!0)}})})),window.define("49",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{list:{type:Array,value:[]},isLoading:{type:Boolean,value:!1},height:{type:Number,value:100},shortname:{type:Boolean,value:!1},isVip:{type:Boolean,value:!1}},data:{},methods:{tapHandle:function(e){var t=e.currentTarget.dataset.index;this.triggerEvent("fileselected",this.data.list[t])},lowerHandle:function(){this.triggerEvent("loadmore")},append:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&this.setData({list:this.data.list.concat(e)})}}})})),window.define("51",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{msg:{type:String,value:"加载中，请稍后..."},hideSchedule:{type:Boolean,value:!0},schedule:{type:Number,value:0}},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{handleCancel:function(){this.triggerEvent("cancel")}}})})),window.define("53",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(54);Component({data:{show:!1,currentUploadIndex:0,finished:!1},startIndex:0,methods:{start:function(e,t){var a=this,i=e.imageList,n=e.uploadPath;return new Promise((function(e,o){a.setData({show:!0,imageList:i}),a.uploadPath=n,a.stateUpdateCallback=t,a.startUpload(e,o,[])}))},startUpload:function(e,t,a){var i=this,o=this.getNextUploadFile();this.startIndex+=1,o.then((function(o){i.generateUploadTask(o).then((function(r){a.push(r);var s=i.data.currentUploadIndex+1;i.setData({currentUploadIndex:s}),i.data.imageList.length===s&&(i.setData({finished:!0,finishedMsg:"扫描图片备份成功"}),n((function(){i.setData({show:!1})}),3e3),e(a)),i.startUpload(e,t,a),i.stateUpdateCallback(o.filePath,"delete")})).catch((function(e){t(e)}))})).catch((function(){}))},getNextUploadFile:function(){var e=this.data.imageList[this.startIndex];return void 0===e?Promise.reject():this.stateUpdateCallback(e,"create")},generateUploadTask:function(e){var t=this;return new Promise((function(a,i){var n=e.fileName,o=e.filePath;(0,S.uploadFile)(o,t.uploadPath,n).then((function(e){try{if("string"==typeof e){var n=JSON.parse(e);a(n)}else if(void 0!==e.fs_id)a(e);else{t.setData({finished:!0,finishedMsg:"上传失败，服务器开小差"})}}catch(e){i(e)}})).catch((function(e){var a="上传失败，服务器开小差";31112===e.code&&(a="空间不足，抓紧购买会员扩容吧"),t.setData({finished:!0,finishedMsg:a}),i(e)}))}))}}})})),window.define("54",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.uploadFile=a.getUploadSign=void 0;var P=e(16);a.getUploadSign=function(e,t){return(0,P.bdRequest)({api:"api/wechat/upload?dir="+encodeURIComponent(e)+"&filename="+t})},a.uploadFile=function(e,t,a,i){var r=(o()||{}).globalData,s=(void 0===r?{}:r).canUseApi,c=(void 0===s?{}:s).canIUseBDUSS,l=void 0!==c&&c,p=n.ENV.pcsHost+"rest/2.0/pcs/file?method=upload&dir="+encodeURIComponent(t)+"&filename="+a+"&app_id=250528";i&&(p+="&upload_sign="+i);var u={Host:"inner.pcs.bae.baidu.com"};if(l){var d=n.getStorageSync("bduss"),h=n.getStorageSync("openBduss");d?u.Cookie="BDUSS="+d+";":h&&(u.Cookie="OPENBDUSS="+h+";")}return new Promise((function(t,a){n.uploadFile({url:p,filePath:e,header:u,name:"file",success:function(e){200===e.statusCode?t(e.data):a(e)},fail:function(e){a(e)}})}))}})),window.define("56",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(57),S=e(33),D=(e(58),e(60)),C=e(65),T=o();Component({properties:{fileInfo:{type:Object,value:{},observer:function(e,t){e&&(this.dataMapping(),this.initInfo())}},index:{type:Number,value:0},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1}},data:{iconCdnPath:"",fileName:"",size:0,mtime:"",isdir:"",category:"",hasSendList:[],hasImg:!1},lifetimes:{created:function(){this.dataMapping(),this.initInfo(),this.initType()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initType:function(){3!==this.data.category&&1!==this.data.category||this.setData({hasImg:!0})},dataMapping:function(){this.setData({isdir:Number(this.properties.fileInfo.isdir),category:Number(this.properties.fileInfo.category)})},getPic:function(){var e=this.properties.fileInfo.server_filename;if(3!==this.data.category&&1!==this.data.category){var t=void 0;if(this.data.isdir)t="folder";else{var a=e.split(".");t=a[a.length-1]}return(0,P.getSuffixIconCdnPath)(t)}if(this.properties.fileInfo.thumbs&&this.properties.fileInfo.thumbs.url3)return this.properties.fileInfo.thumbs.url3},initInfo:function(){var e=this.properties.fileInfo,t=e.server_filename,a=e.server_mtime,i=e.size,n=void 0===i?0:i;this.setData({iconCdnPath:this.getPic(),mtime:(0,S.timestampTurnsTime)(a),fileName:(0,S.disposeMultLineFileName)(t)}),0!==n&&this.setData({size:(0,S.toFriendlyQuotaSize)(n)})},filetap:function(){if(this.data.isdir)this.tapFolder();else switch(this.data.category){case 0:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;case 1:this.tapVideo();break;case 2:this.tapAudio();break;case 3:this.tapImage();break;case 4:this.tapDocFile();break;case 5:case 6:case 7:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;default:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"})}},selectItem:function(){this.triggerEvent("selectItem",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},tapImage:function(){this.triggerEvent("tapImage",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.imageClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:T.globalData.currentPageType})},tapAudio:function(){this.triggerEvent("tapVideo",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.audioClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:T.globalData.currentPageType})},tapVideo:function(){this.triggerEvent("tapVideo",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.videoClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:T.globalData.currentPageType,previewFromType:(0,C.getHomePreviewFromType)(T.globalData.currentPageType)})},tapDocFile:function(){T.globalData.currentPageType="home",T.globalData.tapFileInfo=this.properties.fileInfo,(0,D.documentPreview)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:T.globalData.currentPageType,previewFromType:(0,C.getHomePreviewFromType)(T.globalData.currentPageType)})},tapFolder:function(){this.triggerEvent("tapFolder",this.properties.fileInfo.path)}}})})),window.define("57",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P={apk:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_apk.png",audio:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",cad:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_cad.png",compress:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_compress.png",css:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_css.png",csv:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",dwg:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_dmg.png",dmg:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_cad.png",dxf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_cad.png",dwt:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_cad.png",doc:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_word.png",docx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_word.png",dot:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_word.png",dotx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_word.png",excel:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",exe:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_exe.png",eot:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",flash:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_flash.png",flv:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_flash.png",fla:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_flash.png",folder:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_folder.png",font:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",fon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",html:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_html.png",js:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_js.png",link:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_link.png",mp3:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",wma:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",ma4:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",wav:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",mmf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",amr:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",aac:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",flac:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",aif:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_audio.png",mm:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_mm.png",mmap:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_mmap.png",numbers:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_numbers.png",other:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_other.png",otf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",page:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_page.png",pdf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_pdf.png",ppt:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",pptx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",ppsx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",potx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",pps:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",pot:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_ppt.png",psd:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_psd.png",share:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_share.png",swf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_flash.png",torrent:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_torrent.png",txt:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_txt.png",ttf:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",ttc:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",vcard:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_vcard.png",video:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_video.png",vsd:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_vsd.png",web:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_web.png",word:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_word.png",woff:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",woff2:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_font.png",xmind:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_xmind.png",xmap:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_xmind.png",xls:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",xlsx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",xlt:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",xltx:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_excel.png",rar:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_compress.png","7z":"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_compress.png",zip:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_compress.png",arj:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_compress.png",transfer:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_transfer.png",transferhover:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_transfer_hover.png",sortdown:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_sort_down.png",sortup:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_sort_up.png",sort:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_sort.png",fail:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_fail.png",clear:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_clear.png",file:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_fold_black.png",filehover:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_fold_blue.png",record:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_record.png",jpg:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",jpeg:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",png:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",png8:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",png24:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",gif:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",svg:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",bmp:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",webp:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",defaultDoc:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-list-item.png",camera:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_filescan-1.png",camerahover:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_filescan-hover.png",tools:"https://staticsns.cdn.bcebos.com/amis/2022-7/1658823945435/tools.png",toolshover:"https://staticsns.cdn.bcebos.com/amis/2022-7/1658823945814/toos-hover.png"},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e.toLowerCase();var t=P[e];return void 0===t&&(t="https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic_other.png"),t},D=(a.getPic=function(e){var t=e.server_filename,a=e.category;if(3!==Number(a)&&1!==Number(a)){var i=void 0;if(Number(e.isdir))i="folder";else{var n=t.split(".");i=n[n.length-1]}return S(i)}if(e.thumbs&&e.thumbs.url3)return e.thumbs.url3},a.getSuffixIconCdnPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S(e)});a.getFileParentPath=function(e){if(!e||-1===e.indexOf("/"))return!1;var t=e.lastIndexOf("/");return 0===t?"/":e.substr(0,t)},a.disposeFileName=function(e){var t=function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length};if(t(e)<=32)return e;for(var a=e.split(""),i="",n="",o=0;t(i)<14;o++)i+=a[o];for(var r=a.length-1;t(n)<14;r--)n=a[r]+n;return i+"...."+n},a.makeFileIcon=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.category,a=void 0===t?"":t,i=e.fileName,n=void 0===i?"":i;if(!n)return D();var o="";if(a)return a=Number(a),D(o=1===a?"video":2===a?"mp3":3===a?"jpg":4===a?"defaultDoc":5===a?"apk":"");var r=n.split(".");return r.length>1&&(o=r[r.length-1]),D(o)}})),window.define("58",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getDocumentUrl=void 0;var P=e(59);a.getDocumentUrl=function(e){var t={hasError:!1};return(0,P.getDocumentUrlApi)(e).then((function(e){return t=e})).catch((function(e){return t.hasError=!0,t}))}})),window.define("59",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getDocumentUrlApi=void 0;var P=e(16);a.getDocumentUrlApi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.url,a=e.hostname;return(0,P.bdRequest)({api:t,method:"GET",hostName:a})}})),window.define("60",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.giveAutoSaveTip=a.needAutoSave=a.setfilelistStorage=a.filePreview=a.superMakeShareParams=a.docFileClickJumpLoadPage=a.downloadOpenFile=a.audioClick=a.imageClick=a.videoClick=a.markdownClick=a.folderClick=a.otherFileClick=void 0;var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){var e=F(regeneratorRuntime.mark((function e(t,a){var i,o,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return i={sekey:decodeURIComponent(n.getStorageSync("randsk"))},o={fid_list:"["+a.fs_id+"]",primaryid:O.globalData.shareInfo.shareId,product:"share",uk:O.globalData.shareInfo.uk,extra:JSON.stringify(i)},e.next=5,(0,B.getShareDlink)(o);case 5:return r=e.sent,e.abrupt("return",r&&r.list&&r.list[0]);case 7:return e.next=9,(0,L.getFileDuration)({target:JSON.stringify([a.path]),dlink:0,text:1});case 9:return s=e.sent,e.abrupt("return",s&&s.info&&s.info[0]);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}();a.documentPreview=q,a.previewFullDocument=function(e){var t=e.dlink,a=e.server_filename,i=e.previewType,n=e.pageType,o=e.fileType,r=e.success,s=e.fail,c=e.useNovel,l=t.replace("http","https"),p="bdfile://usr/"+a.replace(/_/g,"-");J({url:l,fileType:o,header:{Cookie:(0,C.getCookie)()},filePath:p,pageType:n,previewType:i,success:r,fail:s,useNovel:c})},a.determineFileType=function(e){var t=e.fileType,a=e.previewType;if(!n.ENV.CONF.docAccessArr.includes(t))return n.log[""+a].docPreviewNotSupport.send(),!1;return!0},a.determineFileSize=function(e){var t=e.fileType,a=e.size,i=e.previewType,o=10485760;["pdf","doc","docx","ppt","pptx"].includes(t)&&(o*=2);if(a>=o)return n.log[""+i].docPreviewBigSize.send(),!1;return!0},a.docFileClickLog=function(e){var t=e.pageType,a=e.previewType,i=e.fileType;n.log.docPreview.fileClick.send({from:t,prevPageType:t}),n.log[""+a].docPreview.send({from:i}),n.log.docPreview.fileType.send({fileType:i,pageType:"outsite",from:i})},a.getFileType=K,a.openAppBtnLog=function(e,t){if(!e||!t)return void n.log.loadDocFile.otherErrorsOpenApp.send();var a={docPreviewFailOpenApp:t,docPreviewNotSupportOpenApp:t,docPreviewBigSizeOpenApp:t,fileMovedOrDeletedOpenApp:t,fileHasBeenDeletedOpenApp:t,loadingInTheBackgroundOpenApp:t,previewWatchAll:"preViewPage"}[e];a?n.log[a][e].send():n.log[t].otherErrorsOpenApp.send()},a.getInitViewUrlFromDocpreview=function(e){var t=e.docpreview,a=(t=t.replace(/https?:\/\/pcsdata\.baidu\.com/,""))+"&type=pdf&from=lo&clientType="+N;return{initViewUrl0:a,initViewUrl1:a+"&method=newinfo&part_index=0"}};e(58);var D=e(61),C=e(34),T=e(62),I=e(63),E=e(65),x=e(45),A=(e(8),e(66)),L=e(67),B=e(69);function F(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var N=n.ENV.cType,O=o();function R(e,t){var a=t.showCancel,i=t.cancelText,o=t.loginValue,r=t.content,s=t.confirmText,c=t.showConfirm,l=t.showLogin,p=t.showBtn,u=t.title,d=t.contents,h=void 0===d?[]:d;n.showDialog({always:e,showCancel:a,showConfirm:c,showLogin:l,cancelText:i,loginValue:o,content:r,confirmText:s,showBtn:p,title:u,contents:h})}function U(e){if(e.url){var t=e.url;e.needRedirect?n.redirectTo({url:t}):n.navigateTo({url:t})}}var M,j=a.otherFileClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.previewType,i=e.pageType,o=e.thirdParty;(0,I.reportFileFunc)("category",i,t);var r=function(e){e.confirm&&n.log[""+a].otherFileOpenApp.send()};R(r,{showCancel:!o,showConfirm:o,showLogin:!o,showBtn:!0,cancelText:"取消",content:"",title:"暂不支持该格式预览，请"+(o?"保存后查看":"在百度网盘App内查看"),confirmText:o?"知道了":"使用App打开"})},z=a.folderClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=(e.pageNum,e.index,e.previewType),i=e.pageType,n=e.thirdParty,o=e.needRedirect,r=void 0!==o&&o,s=e.needCustomSort,c=void 0===s?0:s,l=t.path,p=void 0===l?"/":l;p=encodeURIComponent(p);var u="";"home"===i?(u="/pages/home/index?path="+p+"&pageType="+O.globalData.currentPageType,1===Number(c)&&(u+="&needCustomSort="+c)):u="/pages/outsite-chain/"+(n?"third-":"")+"file-list/file-list?path="+p+"&s="+O.globalData.shorturl+"&pageType="+i+"&previewType="+a+"&thirdParty="+n,U({url:u,needRedirect:r})},V=(a.markdownClick=(M=F(regeneratorRuntime.mark((function e(t){var a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y=t.fileInfo,w=void 0===y?{}:y,b=t.previewType,_=t.needRedirect,k=t.isShare;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(k,w);case 2:if(a=e.sent,o=(i=a||w).picdocpreview,r=void 0===o?"":o,s=i.dlink,c=void 0===s?"":s,l=i.size,i.originSize,p=i.server_filename,u=i.fs_id,d=i.path,(0,A.isSupportMarkdownSize)(l)){e.next=8;break}return R((function(e){e.confirm&&n.log[""+b].markdownPreviewNotSupportOpenApp.send()}),{showCancel:!1,showConfirm:!0,showLogin:!1,showBtn:!0,cancelText:"取消",content:"",title:"文档较大，暂不支持预览",confirmText:"知道了"}),e.abrupt("return");case 8:if(r||c){e.next=12;break}return n.sptoast({type:"info",title:"文档加载失败"}),n.log[""+b].markdownInfoGetError.send(),e.abrupt("return");case 12:h=k?"swan_share":"swan_main",g=encodeURIComponent(r.replace(/^http:\/\//,"https://")),f=encodeURIComponent(c.replace(/^http:\/\//,"https://")),m=encodeURIComponent(d),v=encodeURIComponent(p),U({url:"/pages/file/preview-markdown/preview-markdown?size="+l+(g?"&picdocpreview="+g:"")+(f?"&dlink="+f:"")+"&path="+m+"&server_filename="+v+"&fs_id="+u+"&scence="+h,needRedirect:_});case 19:case"end":return e.stop()}}),e,void 0)}))),function(e){return M.apply(this,arguments)}),a.videoClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=(e.fileInfo,e.pageNum),a=(e.index,e.previewType),i=e.pageType,o=e.thirdParty,r=e.playSource,s=e.needRedirect,c=e.previewFromType,l=void 0===c?E.previewFromTypeObj.OTHER_VIEW:c;if(O.globalData.playingAudioInfo.isPlay){O.globalData.playingAudioInfo.isPlay=!1;var p=n.getBackgroundAudioManager();p.pause()}var u="/pages/file/play-video/index?pageType="+i+"&previewType="+a+"&thirdParty="+o+"&playSource="+r+"&pageNum="+t+"&previewFromType="+l;U({url:u,needRedirect:s})}),H=a.imageClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=(e.pageNum,e.index,e.previewType),i=e.pageType,n=e.thirdParty,o=e.needRedirect;(0,I.reportFileFunc)("category",i,t);var r="/pages/file/preview-image/preview-image?pageType="+i+"&previewType="+a+"&thirdParty="+n;U({url:r,needRedirect:o})},W=a.audioClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=(e.pageNum,e.index,e.previewType),i=e.pageType,o=e.thirdParty,r=e.needRedirect;(0,I.reportFileFunc)("category",i,t);var s=t.server_filename,c=t.size,l=(s.lastIndexOf("."),K(s));if(n.ENV.CONF.audioSupportedFormatList.includes(l))if(O.globalData.audioDataError)n.sptoasthide(),n.sptoast({type:"info",title:"服务器出错，请退出稍后重试"});else{var p=52428800;if(+c>p){var u=function(e){e.confirm&&n.log[""+a].audioPreviewNotSupportOpenApp.send()};R(u,{showCancel:!o,showConfirm:o,showLogin:!o,showBtn:!0,cancelText:"取消",content:"",title:"文件过大，请"+(o?"保存后查看":"在百度网盘App内查看"),confirmText:o?"知道了":"使用App打开"})}else{var d="/pages/audio/index?fsId="+t.fs_id+"&pageType="+i+"&previewType="+a+"&thirdParty="+o;U({url:d,needRedirect:r})}}else{var h=function(e){e.confirm&&n.log[""+a].audioPreviewNotSupportOpenApp.send()};R(h,{showCancel:!o,showConfirm:o,showLogin:!o,showBtn:!0,cancelText:"取消",content:"",title:"暂不支持该格式预览，请"+(o?"保存后查看":"在百度网盘App内查看"),confirmText:o?"知道了":"使用App打开"})}};function q(e){var t=e.fileInfo,a=(e.pageNum,e.index,e.previewType),i=e.thirdParty,n=e.pageType,o=e.needRedirect,r=e.previewFromType,s=void 0===r?E.previewFromTypeObj.OTHER_VIEW:r,c=e.action,l=void 0===c?"":c,p=t.server_filename,u=t.size,d=t.category,h=t.isdir,g=t.docpreview,f=t.dlink,m=t.thumbs,v=(t.fs_id,{path:t.path,server_filename:p,size:u,category:d,isdir:h,docpreview:g,dlink:f,thumbs:m,previewType:a,thirdParty:i,needRedirect:o,previewFromType:s,picdocpreview:t.picdocpreview,action:l});(0,I.reportFileFunc)("category",n,t),Q(v)}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.tempFilePath,a=e.fileType,i=e.success,o=e.fail,r=e.useNovel,s=void 0!==r&&r,c=function(){G({tempFilePath:t,fileType:a,success:i,fail:o,useNovel:s})},l=function(){i(c)};"txt"===a&&s?X(t,a,l,o):n.openDocument({filePath:t,fileType:a,success:function(e){l()},fail:function(e){o()}})}function J(e){var t=e.url,a=e.header,i=e.filePath,o=e.fileType,r=e.pageType,s=e.previewType,c=e.pageStartTime,l=e.success,p=e.fail,u=e.useNovel;void 0===c&&(c=Date.now());var d={url:t,success:function(e){try{n.log[""+s].docPreviewSuccess.send({from:o}),n.log.docPreview.fileTransSuccess.send({from:o,prevPageType:r}),n.log.docPreview.fileTransSuccessTime.send({from:Date.now()-c,fileType:o,previewType:s,useNovel:u})}catch(e){}G({tempFilePath:e.filePath||e.tempFilePath,fileType:o,success:l,fail:p,useNovel:u})},fail:function(e){n.log.docPreview.fileTransFail.send({from:o,prevPageType:r}),n.log[""+s].docPreviewFail.send(),p()}};i&&(d.filePath=i),a&&(d.header=a),n.downloadFile(d)}function K(e){var t=e.substring(e.lastIndexOf(".")+1);return t=t.toLowerCase()}a.downloadOpenFile=J;var Q=a.docFileClickJumpLoadPage=function(e){var t=e.path,a=e.server_filename,i=e.size,o=e.category,r=e.isdir,s=e.docpreview,c=e.dlink,l=e.thumbs,p=e.previewType,u=e.thirdParty,d=e.needRedirect,h=e.picdocpreview,g=e.previewFromType,f=void 0===g?E.previewFromTypeObj.OTHER_VIEW:g,m=e.action;n.setStorageSync("previewFile",{docFileMates:{docInfo:{path:t,server_filename:a,size:i,category:o,isdir:r,docpreview:s,dlink:c,thumbs:l,picdocpreview:h},previewType:p,pageType:O.globalData.currentPageType,thirdParty:u}});var v={previewFromType:f};m&&(v=Object.assign({},v,{action:m,path:t})),U({url:(0,x.getUrlAddQuery)(E.DOC_LOAD_PAGE,v),needRedirect:d})},Y=(a.superMakeShareParams=function(e){return{from:"batch",fid_list:e,pwd:(0,D.randomWord)(!1,4,4),schannel:4,period:O.globalData.globalPeriod}},a.filePreview=function(e){var t=e.filelist,a=void 0===t?[]:t,i=e.pageType,o=void 0===i?"":i,r=e.previewType,s=void 0===r?"":r,c=e.needRedirect,l=void 0!==c&&c,p=e.previewFromType,u=e.needCustomSort,d=void 0===u?0:u;if(a&&Array.isArray(a)){var h=O.globalData,g=1===a.length,f={fileInfo:a[0],pageNum:0,index:0,previewType:s,pageType:o||h.currentPageType,needRedirect:l,previewFromType:p,needCustomSort:d},m={1:[V,"singleVideoShow"],2:[W,"singleAudioShow"],3:[H,"singleImageShow"],4:[q,"singleDocShow"],6:[z,"singleFolderShow"],other:[j,"otherFileClick"]};if(g){var v=a[0];O.globalData.tapFileInfo=v;var y=String(v.category);if(m[y]){var w=P(m[y],2),b=w[0],_=w[1];"outsitePreview"===s&&(O.globalData.shareInfo.rootFilesNum=1,O.globalData.outsideSingleFile=!0,n.log.outsiteChainShareCode[_].send()),Y(a),b(f)}else{var k=P(m.other,2),S=k[0];k[1];Y(a),S(f)}}else{(0,T.checkIsAllVideo)(a)&&(O.globalData.tapFileInfo=a[0],n.log.outsiteChainShareCode.multiVideoShow.send(),Y(a),V(f))}}},a.setfilelistStorage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e&&Array.isArray(e)&&n.setStorageSync("fileList",{list:e,fileInfo:t||e[0],pageNum:a,index:i,currentFsId:t?t.fs_id:e[0].fs_id})});a.needAutoSave=function(e){return e&&["save","save_view"].includes(e)},a.giveAutoSaveTip=function(){var e=O.globalData.viewAction;return!(!e||"save_view"!==e)&&(n.sptoast({type:"info",title:"文件已保存到我的资源"}),delete O.globalData.viewAction,!0)};function X(e,t,a,i){n.log.docPreview.txtNovelOpen.send();n.openBdboxWebview({module:"novel",action:"openReader",parameters:{action:"openReader",param:{from:"wangpan_xiaochengxu",filepath:e,filetype:t,xiaochengxu_bundleid:"OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH"}},success:function(e){a(),n.log.docPreview.txtNovelOpenSuccess.send()},fail:function(e){i(),n.log.docPreview.txtNovelOpenFail.send()}})}})),window.define("61",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.randomWord=function(e,t,a){var i="",n=t,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(n=Math.round(Math.random()*(a-t))+t);for(var r=0;r<n;r++){i+=o[Math.round(Math.random()*(o.length-1))]}return i}})),window.define("62",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.checkIsAllVideo=function(e){return!(!e||!Array.isArray(e))&&e.every((function(e){return 1===Number(e.category)}))},a.transMultiArrayToSingle=function(e){return!(!e||!Array.isArray(e))&&[].concat.apply([],e)},a.filterVideosList=function(e){return!(!e||!Array.isArray(e))&&e.filter((function(e){return"1"===String(e.category)}))}})),window.define("63",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reportFileApi=a.reportFileFunc=void 0;var P=e(64),S=o();a.reportFileFunc=function(e,t,a,i,n,o){var r={category:D,outsite:C};r[e]&&r[e](t,a,i,n,o)};function D(e,t){if("outsiteChainFileList"!==e){var a=JSON.stringify([{type:3,category:+t.category,fs_id:+t.fs_id,op_time:Math.floor((new Date).getTime()/1e3)}]);T(a)}}function C(e,t,a,i,n){var o=S.globalData.shareInfo,r=n?+o.ctime+86400*+o.expiredType:0,s=JSON.stringify({thirdParty:a,isdir:+t.isdir,server_filename:t.server_filename,category:Number(t.category),expiretimestamp:r,shorturl:S.globalData.shareInfo.shorturl,pwdcode:S.globalData.shareInfo.pwd,shareUserName:S.globalData.shareInfo.shareUserName,rootFilesNum:S.globalData.shareInfo.rootFilesNum}),c=JSON.stringify([{type:15,category:6,fs_id:i,op_time:Math.floor((new Date).getTime()/1e3),extra_info:s}]);T(c)}var T=a.reportFileApi=function(e){(0,P.reportFile)(e).then((function(e){0===e.errno?console.log("上报成功"):console.log("上报失败")}))}})),window.define("64",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reportFile=a.deleteRecentRecord=a.getRecentList=void 0;var P=e(16);a.getRecentList=function(){return(0,P.bdRequest)({api:"recent/list?single_client_type=1&need_detail=1",method:"GET"})},a.deleteRecentRecord=function(e){return(0,P.bdRequest)({api:"recent/delete?id_list="+e,method:"GET"})},a.reportFile=function(e){return(0,P.bdRequest)({method:"POST",api:"recent/report",data:{detail:e}})}})),window.define("65",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getHomePreviewFromType=a.DOC_LOAD_PAGE=a.DOC_GRAPHIC_PAGE=a.previewTypeObj=a.previewFromTypeObj=void 0,a.isGraphicView=function(e,t){var a=["doc","docx","ppt","pptx","xls","xlsx","pdf"].includes(e),i=t<=157286400;return a&&i},a.openDocInGraphic=function(e,t,a,i,o,r,s){var c=C(e,t,a,i,o,r,s);c=encodeURIComponent(c),n.redirectTo({url:D+"?url="+c})},a.createGraphicURL=C;var P=e(45),S=a.previewFromTypeObj={SHARE_VIEW:"share_view",SHARE_TRANS_VIEW:"share_trans_view",UPLOAD_LIST_VIEW:"upload_list_view",SAVE_LIST_VIEW:"save_list_view",HOME_VIEW:"home_view",CATEGORY_VIEW:"category_view",RECENT_VIDEO_VIEW:"recent_video_view",SCHEME_VIEW:"scheme_view",OTHER_VIEW:"other_view"},D=(a.previewTypeObj={OUTSITE_PREVIEW:"outsitePreview",HOME_PREVIEW:"homePreview"},a.DOC_GRAPHIC_PAGE="/pages/file/doc-graphic-view/doc-graphic-view");a.DOC_LOAD_PAGE="/pages/file/load-doc-file/load-doc-file",a.getHomePreviewFromType=function(e){return["video_category_page","audio_category_page","image_category_page","doc_category_page"].includes(e)?S.CATEGORY_VIEW:"recent_video_page"===e?S.RECENT_VIDEO_VIEW:S.HOME_VIEW};function C(e,t,a,i,n,o,r){var s={picdocpreview:encodeURIComponent(e),size:t,server_filename:encodeURIComponent(a),fs_id:i,client:"netdisk_swan",scence:n,membertype:r};return o&&(s.uk=o),(0,P.getUrlAddQuery)("https://pan.baidu.com/wap/doc",s)}})),window.define("66",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.isSupportMarkdownType=function(e){var t=new RegExp("\\.(txt|as|sh|c|cpp|h|cs|asp|css|pas|diff|patch|erl|groovy|java|jsp|js|json|pl|php|py|rb|sass|scss|scala|sql|vb|xml|xhtml|html|html|md|less|lua|go|bat|wml|cc|ejs|vue|jsx|yml)$","i");return!!e&&t.test(e)},a.isSupportMarkdownSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:524288,a=parseInt(e,10),i=parseInt(t,10);return a<=i}})),window.define("67",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFileDuration=a.getFileList=void 0;var P=e(68);a.getFileList=function(e){var t={hasError:!1};return(0,P.fileList)(e).then((function(e){if(e.header["Set-Cookie"]){var a=e.header["Set-Cookie"].split(";"),i=!0,o=!1,r=void 0;try{for(var s,c=a[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;/^BAIDUID=/g.test(l)&&(n.getStorageSync("BAIDUID")||n.setStorage({key:"BAIDUID",data:l.slice(8)}))}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}var p=e.data;return t.errno=p.errno,t.endTime=p.end_time,t.tipDone=p.tipDone,t.list=p.list,t})).catch((function(e){return t.hasError=!0,t}))},a.getFileDuration=function(e){var t={hasError:!1};return(0,P.getFileMetas)(e).then((function(e){var a=e.info,i=e.errno;return t.errno=i,t.info=a||[],t.duration=a.length>0?a[0].duration:0,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("68",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFileList=a.getFileMetas=a.fileList=void 0;var P=e(16),S=o();a.fileList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.url,a=e.dir,i=e.start,n=e.limit,o=S.globalData.listOrder||"time",r=S.globalData.listDesc,s={api:t,data:{dir:a,start:i,limit:n,order:o,desc:r},method:"POST",clientType:25};return(0,P.bdRequest)(s)},a.getFileMetas=function(e){var t={api:"api/filemetas",data:e,method:"GET"};return(0,P.bdRequest)(t)},a.getFileList=function(e){var t={api:"rest/2.0/xpan/file?method=list",data:e,method:"GET"};return(0,P.bdRequest)(t)}})),window.define("69",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getShareDlink=void 0;var P=e(16),S=o();a.getShareDlink=function(e){return(0,P.bdRequest)({api:"api/sharedownload?sign="+S.globalData.shareInfo.sign+"&timestamp="+S.globalData.shareInfo.timestamp,data:e,method:"POST"})}})),window.define("71",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(20),S=e(57),D=e(72),C=o();Component({properties:{currentTab:{type:String,value:"home",observer:function(e,t){this.setData({active:e})}}},data:{taskPageIsUsable:!1,tabBar:[],userIcon:C.globalData.loginInfo.photo_url,active:"home",isIpx:C.globalData.isIpx},lifetimes:{created:function(){this.data.illegalFolderReg=new RegExp('[\\\\/:*?"<>|]'),this.setData({taskPageIsUsable:!0}),this.getUserInfoFn(),this.setTabBar()}},pageLifetimes:{show:function(){},hide:function(){}},methods:{handleTabBar:function(e){var t=e.currentTarget.dataset,a=t.name,i=t.index,o=t.type;if(this.data.active!==a){var r={home:"fileTabClk",transfer:"transformTabClk",usercenter:"usercenterTabClk",tools:"toolsTabClk"};"tools"===a?n.newLog.aitoolsPage[r[a]].send({ext:{fromPage:this.data.currentTab}}):n.newLog.globalPage[r[a]].send(),"custom"!==o?"home"===this.data.active?n.navigateTo({url:this.data.tabBar[i].url}):"home"===a?n.reLaunch({url:this.data.tabBar[i].url}):n.redirectTo({url:this.data.tabBar[i].url}):this.triggerEvent("clickTab",a)}},getUserInfoFn:function(){var e=this;(0,P.getUserInfo)().then((function(t){0===t.errno&&(C.globalData.loginInfo=t.login_info,e.setData({userIcon:t.login_info.photo_url||"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/default_avatar.png"}))}))},setTabBar:function(){var e=(0,D.checkTaskPageIsUsable)()?"sp_native_upload":"sp_native";this.setData({tabBar:[{title:"文件",ename:"home",type:"normal",url:"/pages/home/index",icon:(0,S.getSuffixIconCdnPath)("file"),hoverIcon:(0,S.getSuffixIconCdnPath)("filehover")},{title:"传输",ename:"transfer",type:"normal",url:"/pages/task/index?current_type="+e,icon:(0,S.getSuffixIconCdnPath)("transfer"),hoverIcon:(0,S.getSuffixIconCdnPath)("transferhover")},{title:"工具箱",ename:"tools",type:"normal",url:"/pages/tools/tools",icon:(0,S.getSuffixIconCdnPath)("tools"),hoverIcon:(0,S.getSuffixIconCdnPath)("toolshover")},{title:"我的",ename:"usercenter",type:"avator",url:"/pages/usercenter/usercenter"}]})}}})})),window.define("72",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.checkTaskPageIsUsable=function(){var e=n.canIUse("deleteNetDiskTasks"),t=n.canIUse("getNetDiskTaskInfo"),a=n.canIUse("getNetDiskTaskList"),i=n.canIUse("pauseNetDiskTasks"),o=n.canIUse("resumeNetDiskTasks"),r=n.canIUse("setNetDiskUploadOption"),s=e&&t&&a&&i&&o&&r;s||(s=Boolean(n.deleteNetDiskTasks)&&Boolean(n.getNetDiskTaskInfo)&&Boolean(n.getNetDiskTaskList)&&Boolean(n.pauseNetDiskTasks)&&Boolean(n.resumeNetDiskTasks)&&Boolean(n.setNetDiskUploadOption));return s},a.checkIsBaiduInside=function(){return n.canIUse("getBDUSS")}})),window.define("74",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=(0,e(7).swanApiToPromise)("canvasToTempFilePath"),C=o.getSystemInfoSync().pixelRatio,T=595,I=842;C>=2&&C<3?(T=1240,I=1754):C>=3&&(T=2479,I=3508),Component({data:{show:!1,width:T,height:I},created:function(){this.resizeCanvas=o.createCanvasContext("resizeCanvas")},methods:{setDataPromise:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(a){e.setData(t,a)}))},scale:function(e,t){return Number(e*t.toFixed(2))},resize:function(e){var t=this;if(console.log("resize",e),!1===o.canIUse("canvasToTempFilePath"))return Promise.resolve(e);var a=e.images,i=T/e.width,r=0,s=[],c=function(e,t){return new Promise((function(a){var i=n((function(){console.log("setTimeout",t),a(t)}),3e3);o.downloadFile({url:e,header:{"content-type":"application/json"},success:function(e){clearTimeout(i),console.log("success",t),a(e.tempFilePath)},fail:function(){clearTimeout(i),a(t)}})}))},l=function e(){var t=s.shift();t&&(r++,c(t.dlink,t.url).then((function(a){--r<5&&e(),t.reslove(a)})))};this.resizeCanvas.clearRect(0,0,T,I),this.resizeCanvas.setFillStyle("#fff"),this.resizeCanvas.fillRect(0,0,T,I);var p=a.map((function(e){var a=Promise.resolve(e.imageInfo.url);return void 0!==e.imageInfo.dlink?a=function(e){return new Promise((function(t){r>=5?s.push({dlink:e.dlink,url:e.url,reslove:t}):(r++,c(e.dlink,e.url).then((function(e){--r<5&&l(),t(e)})))}))}(e.imageInfo):void 0!==e.imageInfo.localLink&&(a=Promise.resolve(e.imageInfo.localLink)),a.then((function(a){console.log("draw",a,e),t.resizeCanvas.save();var n=e.imageInfo.point,o=S(n[0],2),r=o[0],s=o[1],c=S(n[2],2),l=c[0],p=c[1],u=S(e.imageInfo.center,2),d=u[0],h=u[1];t.resizeCanvas.translate(t.scale(d,i),t.scale(h,i)),t.resizeCanvas.rotate(e.deg*Math.PI/180),t.resizeCanvas.scale(e.scale,e.scale),t.resizeCanvas.drawImage(a,t.scale(r-d-10,i),t.scale(s-h,i),t.scale(l-r,i),t.scale(p-s,i)),t.resizeCanvas.restore()}))}));return Promise.all(p).then((function(){return new Promise((function(e,a){var i={width:T,height:I};t.setDataPromise(i).then((function(){t.resizeCanvas.draw(!1,(function(){D({x:0,y:0,width:T,height:I,destWidth:T,destHeight:I,canvasId:"resizeCanvas",fileType:"jpg",quality:1}).then((function(t){e(t.tempFilePath)})).catch((function(t){D({x:0,y:0,width:T,height:I,destWidth:T/C,destHeight:I/C,canvasId:"resizeCanvas",fileType:"jpg",quality:1}).then((function(t){e(t.tempFilePath)})).catch((function(e){a(e)}))}))}))}))}))}))}}})})),window.define("76",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{titleTextList:{type:Array,val:[]},leftTextList:{type:Array,val:[]},rightTextList:{type:Array,val:[]},schemeLeft:{type:String,default:""},schemeRight:{type:String,default:""}},methods:{handleClose:function(){this.triggerEvent("close")},handleLeft:function(){!this.data.schemeLeft&&this.triggerEvent("handleLeft")},handleRight:function(){!this.data.schemeRight&&this.triggerEvent("handleLeft")}}})})),window.define("78",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{item:{type:Object,value:{},observer:function(e,t){var a="",i="";4===e.taskStatus?a="success":5===e.taskStatus||3===e.taskStatus?5===e.taskStatus&&21===e.substatus?(a="tip",i="PDF页数超过100张～"):a="error":a=1===e.taskStatus||2===e.taskStatus?"running":"normal",this.setData({taskStatus:a,taskTip:i})}},index:{type:Number}},data:{taskStatus:""},lifetimes:{created:function(){},attached:function(){},ready:function(){}},methods:{handlePreview:function(){if("success"===this.data.taskStatus){var e=this.data.item,t=e.taskId,a=e.fileName,i=e.size,n=e.fsid,o=e.outFile,r=e.processFile;this.triggerEvent("preview",{size:i,fsid:n,outFile:o,taskId:t,fileName:a,processFile:r})}},handleRedo:function(){var e=this.data.item.taskId;this.triggerEvent("redo",{taskId:e,index:this.data.index})}}})})),window.define("80",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{allLength:{type:Number,value:1},index:{type:Number,value:0,observer:function(e){this.setData({currentIndex:e+1})}}},data:{currentIndex:1},attached:function(){this.setData({currentIndex:this.data.index+1})},detached:function(){},methods:{handlePre:function(){var e=this.data.currentIndex;1!==e&&(this.setData({currentIndex:e-1}),this.dispatch("childmessage",{name:"swan"}),this.triggerEvent("toggle",{currentIndex:this.data.currentIndex-1,preIndex:e-1}))},handleNext:function(){var e=this.data.currentIndex;e!==this.data.allLength&&(this.setData({currentIndex:e+1}),this.triggerEvent("toggle",{currentIndex:this.data.currentIndex-1,preIndex:e-1}))}}})})),window.define("82",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{show:{type:Boolean,value:!1}},data:{},methods:{hide:function(){this.triggerEvent("hide")}}})})),window.define("84",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(85),S=o();Component({properties:{custom:{type:Boolean,value:!1}},data:{show:!1},created:function(){this.imageResize=this.selectComponent("#imageResize")},methods:{onHide:function(){this.triggerEvent("hide")},getImageForPhotoAlbum:function(){var e=this;this.preChoose="album";var t=Date.now();n.newLog.documentScanSelect.album.send(),(0,P.getImageForPhotoAlbum)().then((function(a){var i=Date.now();n.newLog.documentScanPerformance.imageInfo.send({ext:{api:"getImageForPhotoAlbum",time:i-t,msg:"从相册选择图片时间"}}),e.imageResize.resize(a).then((function(t){n.getFileInfo({filePath:t.path,success:function(e){n.newLog.documentScanPerformance.imageInfo.send({ext:{api:"resize",size:a.size,originalWidth:a.width,originalHeight:a.height,width:t.width,height:t.height,time:Date.now()-i,resize:e.size,msg:"相册图片压缩"}})}}),e.navigateToEditPage(t)}))})).catch((function(e){n.showToast({title:e,icon:"none"})}))},getImageForPhotoCamera:function(){var e=this;this.preChoose="camera";var t=Date.now();n.newLog.documentScanSelect.camera.send(),(0,P.getImageForPhotoCamera)().then((function(a){var i=Date.now();n.newLog.documentScanPerformance.imageInfo.send({ext:{api:"getImageForPhotoCamera",time:i-t,msg:"从相机选择图片时间"}}),e.imageResize.resize(a).then((function(t){n.getFileInfo({filePath:t.path,success:function(e){n.newLog.documentScanPerformance.imageInfo.send({ext:{api:"resize",size:a.size,originalWidth:a.width,originalHeight:a.height,width:t.width,height:t.height,time:Date.now()-i,resize:e.size,msg:"相册图片压缩"}})}}),e.navigateToEditPage(t)}))})).catch((function(e){n.showToast({title:e,icon:"none"})}))},hide:function(){this.setData({show:!1})},show:function(){this.setData({show:!0}),n.newLog.documentScanSelect.show.send()},choose:function(){"camera"===this.preChoose&&this.getImageForPhotoCamera(),"album"===this.preChoose&&this.getImageForPhotoAlbum()},navigateToEditPage:function(e){if(!0===this.data.custom)return this.triggerEvent("chooseImage",e),void this.hide();S.globalData.autoChooseImage=!0,this.hide(),n.navigateTo({url:"/pages/image-process/index?type=3006&images="+e.path+"&hash="+e.digest})}}})})),window.define("85",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.compressImageInfo=a.getImageForPhotoCamera=a.getImageForPhotoAlbum=void 0;var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=e(86),D=(a.getImageForPhotoAlbum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;return(0,S.chooseImage)({count:1,sizeType:["original"],sourceType:["album"]}).then((function(t){return D(t.tempFiles,e,!1)}))},a.getImageForPhotoCamera=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;return(0,S.chooseImage)({count:1,sizeType:["original"],sourceType:["camera"]}).then((function(t){return D(t.tempFiles,e,!1)}))},a.compressImageInfo=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e[0].path;return new Promise((function(e,n){a?(0,S.compressImage)({src:i,qualiy:80}).then((function(e){return e.tempFilePath})).catch((function(){return i})).then((function(a){Promise.all([(0,S.getFileInfo)({filePath:a}),(0,S.getImageInfo)({src:a})]).then((function(i){var o=P(i,2),r=o[0],s=r.digest,c=r.size,l=o[1],p=l.width,u=l.height,d=l.orientation;console.log("compressImage size",c),c<t?e({path:a,digest:s,size:c,width:p,height:u,orientation:d}):n("图片过大，请重新拍摄")})).catch((function(){n("发生未知错误")}))})):Promise.all([(0,S.getFileInfo)({filePath:i}),(0,S.getImageInfo)({src:i})]).then((function(a){var o=P(a,2),r=o[0],s=r.digest,c=r.size,l=o[1],p=l.width,u=l.height,d=l.orientation;c<t?e({path:i,digest:s,size:c,width:p,height:u,orientation:d}):n("图片过大，请重新拍摄")})).catch((function(t){console.log(t),e("发生未知错误")}))}))})})),window.define("86",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=void 0!==n,S="undefined"!=typeof wx;a.getFileSystemManager=function(){var e=null;S||P&&(e=n.getFileSystemManager());var t=null!==e;return{readFile:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.readFile(Object.assign({},a,{success:t,fail:i}))}))},writeFile:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.writeFile(Object.assign({},a,{success:t,fail:i}))}))},access:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.access(Object.assign({},a,{success:t,fail:i}))}))},mkdir:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.mkdir(Object.assign({},a,{success:t,fail:i}))}))},removeSavedFile:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.removeSavedFile(Object.assign({},a,{success:t,fail:i}))}))},rmdir:function(a){return!1===t?Promise.reject():new Promise((function(t,i){e.rmdir(Object.assign({},a,{success:t,fail:i}))}))}}},a.canvasToTempFilePath=function(e){return P?n.canvasToTempFilePath(e):S?wx.canvasToTempFilePath(e):void 0},a.canvasCtxApi=function(e){var t={};return P&&(t={}),S&&(t={}),Object.getOwnPropertyNames(t).forEach((function(a){e[a]=t[a].bind(e)})),e},a.chooseImage=function(e){return new Promise((function(t,a){return P?n.chooseImage(Object.assign({},e,{success:t,fail:a})):S?wx.chooseImage(Object.assign({},e,{success:t,fail:a})):void 0}))},a.compressImage=function(e){return new Promise((function(t,a){return P?n.compressImage(Object.assign({},e,{success:t,fail:a})):S?wx.compressImage(Object.assign({},e,{success:t,fail:a})):void 0}))},a.getFileInfo=function(e){return new Promise((function(t,a){return P?n.getFileInfo(Object.assign({},e,{success:t,fail:a})):S?wx.getFileInfo(Object.assign({},e,{success:t,fail:a})):void 0}))},a.getImageInfo=function(e){return new Promise((function(t,a){return P?n.getImageInfo(Object.assign({},e,{success:t,fail:a})):S?wx.getImageInfo(Object.assign({},e,{success:t,fail:a})):void 0}))}})),window.define("88",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{chooseType:{type:String},identity:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{btnText:""},methods:{clickButton:function(){this.triggerEvent("clickPrivilegeButton")}},observers:{"chooseType, identity":function(e,t){var a,i,n;"vip"===e?(a="10元/月 ",n="会员"):"svip"===e?(a="30元/月 ",n="超级会员"):a="",i="normal"===t&&"vip"===e||"normal"===t&&"svip"===e?"开通":"vip"===t&&"vip"===e?"续费":"vip"===t&&"svip"===e?"升级":"svip"===t&&"vip"===e||"svip"===t&&"svip"===e?"续费":"开通",this.setData({btnText:a+i+n})}}})})),window.define("90",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{chooseType:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{contentHeight:0},methods:{},ready:function(){var e=this;n.getSystemInfo({success:function(t){e.setData({contentHeight:P.globalData.navHeight+t.screenHeight/10+10})},error:function(){},complete:function(){}})}})})),window.define("92",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P={titleName:"会员",type:"vip"};Component({properties:{identity:{type:String},chooseType:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{privilegeTab:[{titleName:"免费用户",type:"normal"},{titleName:"超级会员",type:"svip"}]},observers:{identity:function(){var e=this.properties.identity,t=this.data.privilegeTab;"vip"===e&&(t.splice(1,0,P),this.setData({privilegeTab:t}))}},methods:{clickPrivilegeTab:function(e){var t=e.currentTarget.dataset.type;this.triggerEvent("changeTab",{type:t}),n.log.send({type:"swan_pay_privilege_tab_"+t+"_click",value:"会员中心-特权页-tab-类型-点击切换"})}}})})),window.define("94",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{getResultSuc:{type:Boolean},type:{type:String},price:{type:String},productName:{type:String},endTime:{type:String},backurl:{type:String},username:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{name:{vip1_1y:"1年会员",vip1_3m:"3个月会员",vip1_1m:"1个月会员",vip2_1y:"1年超级会员",vip2_3m:"3个月超级会员",vip2_1m:"1个月超级会员"},isSvip:!0},ready:function(){this.setData({isSvip:this.properties.productName&&this.properties.productName.indexOf("vip2")>-1})}})})),window.define("96",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{chooseType:{type:String},userVipStatus:{type:String},productId:{type:String},productIdCanBuy:{type:String},productName:{type:String},productPrice:{type:String},productPriceNote:{type:String},showBottomBtn:{type:Boolean},swanIdForSystem:{type:String,value:"123445"}},data:{name:{vip1_1y:"1年会员",vip1_3m:"3个月会员",vip1_1m:"1个月会员",vip2_1y:"1年超级会员",vip2_3m:"3个月超级会员",vip2_1m:"1个月超级会员"}},methods:{payCheck:function(e){this.triggerEvent("payCallback",e.detail)}}})})),window.define("98",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=function(){};n.showDialog=function(e){var t=n.getCurrentViewPage();t.showDialog&&t.showDialog.show(e)};var S={title:"",content:"",showCancel:!0,cancelText:"取消",cancelColor:"fc-dark-gray",confirmText:"确定",confirmColor:"fc-blue",cancel:P,confirm:P,always:P,isConfirmBtnFastHide:!0};Component({data:Object.assign({},S),ready:function(){this.dialog=this.selectComponent("#dialog")},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}},methods:{show:function(e){this.setData(Object.assign({},S,e)),this.dialog.show({isConfirmBtnFastHide:this.data.isConfirmBtnFastHide})},cancel:function(){var e=this.data,t=e.cancel,a=void 0===t?P:t,i=e.always,n=void 0===i?P:i;a(),n({cancel:!0})},confirm:function(e){var t=e.detail,a=this.data,i=a.confirm,n=void 0===i?P:i,o=a.always,r=void 0===o?P:o,s=a.isConfirmBtnFastHide?P:t.hide;n({hide:s}),r({confirm:!0,hide:s})}}})})),window.define("100",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=o.ENV.staticPath,C=0,T=function(e){e||(e=o.getCurrentViewPage()),clearTimeout(C),e.toast&&e.toast.hide()};o.wetoast=function(e){var t=o.getCurrentViewPage(),a=e.success,i=void 0===a?function(){}:a;if(t.toast){var r=e.content,s=e.loading||!1,c=e.duration||800,l=e.memberType||0;clearTimeout(C),t.toast.show({content:r,loading:s,memberType:l}),"number"==typeof c&&(C=n((function(){i(),T(t)}),e.duration||800))}},o.toasthide=function(){var e=o.getCurrentViewPage();T(e)};var I={0:D+"/ic_non_member_v2.png",1:D+"/ic_member_v2.png",2:D+"/ic_super_member_v2.png"};Component({data:{isShow:!1,toastAnimationData:null,content:"",outClass:null,loading:!1,memberType:0,memberIcon:""},methods:{show:function(e){var t=void 0,a=!1,i=0;"object"!==(void 0===e?"undefined":S(e))?t=e:(t=e.content,a=e.loading,i=e.memberType||0);var n=I[i];this.setData({isShow:!0,content:t,outClass:null,loading:a,memberType:i,memberIcon:n})},hide:function(){this.setData({isShow:!1,outClass:"toastOut"})},isShow:function(){return this.data.isShow}},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}}})})),window.define("102",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{chooseType:{type:String},userVipStatus:{type:String},swanIdForSystem:{type:String,value:"123445"}},methods:{goToPrivilegeContrastPage:function(){n.log.send({type:"swan_pay_home_privilegebtn_"+this.data.chooseType+"_click",value:"会员中心-首页-特权按钮-类型-点击"}),n.navigateTo({url:"/payment/pay/pages/payPrivilege/index?userVipStatus="+this.properties.userVipStatus+"&chooseType="+this.data.chooseType})},log:function(){n.log.send({type:"swan_pay_home_privilege_"+this.data.chooseType+"_click",value:"会员中心-首页-特权图片-类型-点击"}),n.navigateTo({url:"/payment/pay/pages/payPrivilege/index?userVipStatus="+this.properties.userVipStatus+"&chooseType="+this.data.chooseType})}}})})),window.define("104",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{bgColor:{type:String,value:"blue"},fontColor:{type:String,value:"white"},openType:{type:String,value:"getUserInfo"},parameter:{type:String,value:""},isShowIcon:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},type:{type:String,value:"big"},isShade:{type:Boolean,value:!1},swanIdForSystem:{type:String,value:"123445"}},externalClasses:["icon-class"],data:{},ready:function(){var e=this,t=this.data.type,a=["big","small","mini"];a.indexOf(t)<=-1&&n.createSelectorQuery().in(this).select(".btn-container").boundingClientRect((function(i){var n=i.width>140?0:1;t=a[n],e.setData({type:t})})).exec()},methods:{tap:function(){this.triggerEvent("action")}}})})),window.define("106",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(107);function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var D=o().globalData;Component({data:{userInfo:{},productInfo:{},userShowStatus:{vipLeaveDay:0,svipLeaveDay:0,overlayShow:!1}},lifetimes:{created:function(){},ready:function(){this.setData({height:"70px"})}},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}},methods:{initUserData:function(){var e=this;Promise.all([P.userCenter.getUserInfo(),P.userCenter.getUser()]).then((function(t){var a=t[0]||{},i=t[1]||{};if(0==+a.error_code){e.setData({userInfo:a.user_info,productInfo:i}),D.payUserInfo=a.user_info;var n=a.user_info.is_svip?"svip":a.user_info.is_vip?"vip":"";e.triggerEvent("updateUserVipStatus",{userVipStatus:n})}if(i.product_infos&&"[object Array]"===Object.prototype.toString.call(i.product_infos)){var o,r=e.getTermTime(i.product_infos),s=0!==r.vipEndTime?e.timeFormat(r.vipEndTime):0,c=0!==r.svipEndTime?e.timeFormat(r.svipEndTime):0;e.setData((S(o={},"userShowStatus.vipLeaveDay",s),S(o,"userShowStatus.svipLeaveDay",c),o))}})).catch((function(e){console.log("获取用户会员数据fail："+e)}))},getTermTime:function(e){for(var t=e,a=[],i=[],n=0;n<t.length;n++){var o=t[n].product_name,r=t[n].detail_cluster;"string"!=typeof o||!/vip[1|2]/gi.test(o)||"vip"!==r&&"evip"!==r?"string"==typeof o&&/vip[1|2]/gi.test(o)&&"svip"===r&&i.push(t[n].end_time):a.push(t[n].end_time)}return{vipEndTime:a.length>0?Math.max.apply(Math,a):0,svipEndTime:i.length>0?Math.max.apply(Math,i):0}},timeFormat:function(e,t){var a=new Date(1e3*parseFloat(e));if(+t){var i=a.getMonth()+1,n=a.getDate(),o=a.getHours(),r=a.getMinutes(),s=a.getSeconds();return a.getFullYear()+"-"+(String(i).length<2?"0"+i:i)+"-"+(String(n).length<2?"0"+n:n)+" "+(String(o).length<2?"0"+o:o)+":"+(String(r).length<2?"0"+r:r)+":"+(String(s).length<2?"0"+s:s)}i=a.getMonth()+1,n=a.getDate();return a.getFullYear()+"-"+(String(i).length<2?"0"+i:i)+"-"+(String(n).length<2?"0"+n:n)},changeOverlay:function(){this.setData(S({},"userShowStatus.overlayShow",!this.data.userShowStatus.overlayShow))},closeOverlay:function(){this.setData(S({},"userShowStatus.overlayShow",!1))}}})})),window.define("107",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.userCenter=void 0;var P=e(16);a.userCenter={getUserInfo:function(){return(0,P.bdRequest)({api:"rest/2.0/membership/user/info",data:{method:"query"},method:"GET"})},getUser:function(){return(0,P.bdRequest)({api:"rest/2.0/membership/user",data:{method:"query"},method:"GET"})}}})),window.define("109",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{isShowCloseBtn:{type:Boolean,value:!1},textAlignClassName:{type:String,value:"center"},position:{type:String,value:""},swanIdForSystem:{type:String,value:"123445"}},options:{multipleSlots:!0},data:Object.assign({},{isShow:!1}),methods:{show:function(e){this.setData({isShow:!0})},hide:function(){this.setData({isShow:!1})},close:function(){this.hide(),this.triggerEvent("close")},preventD:function(){}}})})),window.define("111",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S=e(112);(0,((P=S)&&P.__esModule?P:{default:P}).default)({options:{},data:Object.assign({},{}),methods:{}})})),window.define("112",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(113),D=(P=S)&&P.__esModule?P:{default:P};var C={content:"",isCancelBtnFastHide:!0,isConfirmBtnFastHide:!0},T={properties:{btnCancelColor:{type:String,value:"fc-dark-gray"},btnConfirmColor:{type:String,value:"fc-blue"},isShowCloseBtn:{type:Boolean,value:!1},textAlignClassName:{type:String,value:"center"},position:{type:String,value:""},title:{type:String,value:"弹窗标题"},cancelValue:{type:String,value:"取消"},confirmValue:{type:String,value:"确定"},isHideCancel:{type:Boolean,value:!1},isHideConfirm:{type:Boolean,value:!1}},data:Object.assign({},C),ready:function(){this.popup=this.selectComponent("#popup")},methods:{initData:function(e){e&&this.setData(Object.assign({},C,e))},show:function(e){e&&this.setData(Object.assign({},e)),this.popup.show()},hide:function(){this.popup.hide()},emitEvent:function(e){var t=this;this.triggerEvent(e,{hide:function(){t.hide()}})},cancel:function(){this.emitEvent("cancel"),this.data.isCancelBtnFastHide&&this.hide()},ok:function(){this.emitEvent("confirm"),this.data.isConfirmBtnFastHide&&this.hide()},close:function(){this.triggerEvent("close")}}};a.default=function(e){return(0,D.default)(e,T)}})),window.define("113",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){e.properties=Object.assign({},t.properties,e.properties),e.data=Object.assign({},t.data,e.data),e.methods=Object.assign({},t.methods,e.methods),e.options=Object.assign({},t.options,e.options);var a=e.ready;return e.ready=function(){t.ready.call(this),a&&a.call(this)},Component(e)}})),window.define("115",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(116);o().globalData;Component({properties:{chooseType:{type:String},choosedProductPrice:{type:String},choosenProduct:{type:String},choosedProductIdCanBuy:{type:String},userVipStatus:{type:String},styleType:{type:String,value:""},swanIdForSystem:{type:String,value:"123445"}},data:{btnText:"开通",showOverlay:!1,goodsInfo:{}},observers:{"userVipStatus, chooseType":function(){var e=this.properties.userVipStatus,t=this.properties.chooseType,a="开通";"svip"===e||"vip"===e&&"vip"===t?a="续费":"vip"===e&&"svip"===t&&(a="升级"),this.setData({btnText:a})}},methods:{showRiskManagement:function(e){switch(e){case"3y":n.showToast({title:"壕，您已经把百度网盘会员承包啦，请下次再来买吧",icon:"none",duration:500})}},clickPayBtn:function(){0==+this.properties.choosedProductIdCanBuy?this.showRiskManagement("3y"):this.show()},show:function(){var e=this;n.log.payment.payBuyClick.send(),n.wetoast({content:"订单正在火速处理中",loading:!0,duration:!0});var t=this.properties.choosenProduct;P.vipApi.placeOrder({product_id:t,business_no:(new Date).getTime()+""+Math.round(9999*Math.random()),from:this.data.loadData.from||"normal",clienttype:32,channel:"netdisk_bdmin"}).then((function(t){n.toasthide();var a=t;if(0!=+a.error_code)return e.setData({showOverlay:!1}),void(39513==+a.error_code?e.showRiskManagement("3y"):n.showToast({title:"网络异常，请稍后重试",icon:"none",duration:2e3}));e.goodsInfo=a.purchase.orderInfo;n.requestPolymerPayment({orderInfo:e.goodsInfo,success:function(t){n.toasthide(),e.setData({showOverlay:!0}),n.log.payment.payBuyClick.send(),function t(a,i,o){var r=++a<i;return new Promise((function(e,t){P.vipApi.getOrderPayInfo({order_no:o}).then((function(t){var a=t,i=1===a.pay_status;return e({isUpdateToken:!i&&r,result:a})}))})).then((function(e){var n=e.isUpdateToken,r=e.result;if(n){for(var s=Date.now();Date.now()-s<1e3;);return t(a,i,o)}return Promise.resolve(r)})).catch((function(t){console.log(t),n.toasthide(),e.setData({showOverlay:!1})}))}(0,4,e.goodsInfo.tpOrderId).then((function(t){n.toasthide(),1===t.pay_status?e.triggerEvent("paycheck",{payStatus:!0,payInfo:{price:t.price,product_name:t.product_name,end_time:t.end_time}}):e.triggerEvent("paycheck",{payStatus:!1})})).catch((function(e){n.toasthide(),console.log(e)}))},fail:function(t){n.toasthide(),console.log(t),e.setData({showOverlay:!1});n.showToast({title:{10002:"网络请求失败",10005:"系统拒绝"}[t.errCode],icon:"none",duration:2e3})},complete:function(e){n.toasthide()}})})).catch((function(t){n.toasthide(),e.setData({showOverlay:!1})}))}},ready:function(){this.setData({loadData:n.getCurrentViewPage().options})}})})),window.define("116",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.vipApi=void 0;var P=e(16),S="rest/2.0/membership/product?method=get",D="rest/2.0/membership/product?method=purchase",C="rest/2.0/membership/order?method=query";a.vipApi={getProductList:function(e){return(0,P.bdRequest)({api:S,data:e,method:"GET"})},placeOrder:function(e){return(0,P.bdRequest)({api:D,data:e,method:"GET"})},getOrderPayInfo:function(e){return(0,P.bdRequest)({api:C,data:e,method:"GET"})}}})),window.define("118",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(116);Component({properties:{chooseType:{type:String},productType:{type:String},userVipStatus:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{vipProductName:["vip1_1y","vip1_3m","vip1_1m"],svipProductName:["vip2_1y","vip2_3m","vip2_1m"],buyTime:{"1y":12,"3m":3},vipList:[],svipList:[],choosedProductId:"",choosedProductPrice:"",idPriceObj:{},idPriceNoteObj:{},idNameObj:{},choosedProductIdCanBuy:1,svipDefaultCanBuyProductId:"",vipDefaultCanBuyProductId:""},created:function(){},observers:{chooseType:function(e){var t="svip"===e?this.data.svipDefaultCanBuyProductId:this.data.vipDefaultCanBuyProductId;this.data.svipDefaultCanBuyProductId&&(this.setData({choosedProductId:t,choosedProductPrice:this.data.idPriceObj[t]}),this.triggerEvent("changeProduct",{productId:t,productIdCanBuy:this.data.choosedProductIdCanBuy,productName:this.data.idNameObj[t],productPrice:this.data.idPriceObj[t],productPriceNote:this.data.idPriceNoteObj[t]}))}},methods:{initProductInfo:function(){var e=this;this.setData({choosedProductIdCanBuy:1}),P.vipApi.getProductList({cluster:""}).then((function(t){var a=t.product_infos||[],i=[],n=[],o=e.data.vipProductName,r=e.data.svipProductName,s="",c="",l={},p={},u={};a.forEach((function(t){t.price=parseFloat(t.price/100,10);var a=t.product_name.split("_")[1];t.priceNote=Math.ceil(t.price/e.data.buyTime[a]*10)/10,t.showJiaobiao=t.product_name.indexOf("1y")>-1,l[t.product_id]=t.price,p[t.product_id]=t.priceNote,u[t.product_id]=t.product_name,o.indexOf(t.product_name)>-1?(1==+t.can_buy?s=t.product_id:o[0]!==t.product_name||s||(s=t.product_id,e.setData({choosedProductIdCanBuy:0})),i.unshift(t)):r.indexOf(t.product_name)>-1&&(1==+t.can_buy?c=t.product_id:r[0]!==t.product_name||c||(c=t.product_id,e.setData({choosedProductIdCanBuy:0})),n.unshift(t))}));var d="svip"===e.properties.chooseType?c:s;e.setData({vipList:i,svipList:n,svipDefaultCanBuyProductId:c,vipDefaultCanBuyProductId:s,choosedProductId:d,idPriceObj:l,idPriceNoteObj:p,idNameObj:u,choosedProductPrice:l[d]}),e.triggerEvent("changeProduct",{productId:d,productIdCanBuy:e.data.choosedProductIdCanBuy,productName:u[d],productPrice:l[d],productPriceNote:p[d]})}))},changeProduct:function(e){var t=e.currentTarget.dataset;this.setData({choosedProductId:t.productId,choosedProductPrice:t.productPrice,choosedProductIdCanBuy:t.canBuy}),this.triggerEvent("changeProduct",{productId:t.productId,productIdCanBuy:t.canBuy,productPrice:t.productPrice,productName:t.productName,productPriceNote:t.productPriceNote}),n.log.send({type:"swan_pay_home_product_"+t.productName+"_click",value:"会员中心-首页-商品-名称-点击切换"})},payCheck:function(e){this.triggerEvent("payCallback",e.detail)}}})})),window.define("120",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P={titleName:"会员VIP",type:"vip"},S=[{text:"日常价：是指非限时活动的超级会员商品销售价格。"}];Component({properties:{userVipStatus:{type:String},chooseType:{type:String},productType:{type:String},swanIdForSystem:{type:String,value:"123445"}},data:{vipTab:[{titleName:"超级会员SVIP",type:"svip"}],isDialogShow:!1,dialogList:[S]},lifetimes:{attached:function(){this.getDialogText()}},observers:{userVipStatus:function(){var e=this.properties.userVipStatus,t=this.data.vipTab;"vip"===e&&(t.unshift(P),this.setData({vipTab:t}),this.clickVip()),this.getDialogText()}},methods:{getDialogText:function(){var e=this.properties.userVipStatus,t=[].concat(S),a="月均价：平均单月价格，计算方式为超级会员"+("vip"===e?"/会员":"")+"商品的销售标价除以对应月份。";t.push({text:a}),this.setData({dialogList:t})},clickSvip:function(){this.triggerEvent("changeTab",{type:"svip"})},clickVip:function(){this.triggerEvent("changeTab",{type:"vip"})},showPriceNoteDialog:function(){this.setData({isDialogShow:!0})},hidePriceNoteDialog:function(){this.setData({isDialogShow:!1})}}})})),window.define("122",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(35);function D(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var C;r();o.sptoast=function(e){var t=o.getCurrentViewPage();e&&t.toast&&t.toast.showToast(e)},o.sptoasthide=function(){var e=o.getCurrentViewPage();e&&e.toast&&e.toast.hideToast()},Component({properties:{},data:{color:"",type:"",title:"",isShow:!1,animationData:"",stageIcon:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_loading.gif",stage:""},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){this._showTimer&&clearTimeout(this._showTimer)}},pageLifetimes:{show:function(){},hide:function(){this._showTimer&&clearTimeout(this._showTimer)}},methods:{showToast:function(){var e=D(regeneratorRuntime.mark((function e(t){var a,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this,this._showTimer&&clearTimeout(this._showTimer),this.setData({title:t.title,type:t.type,isShow:!0,color:t.color||"#FFF"}),(i=o.createAnimation({duration:0,timingFunction:"ease",delay:0})).opacity(1).step(),a.setData({animationData:i.export()}),this.setData({stage:0}),"loading"!==t.type){e.next=14;break}if(!t.stage&&0!==t.stage){e.next=13;break}return e.next=11,this.checkUserType(t.stage);case 11:r=e.sent,this.setData({stageIcon:r.iconUrl,title:r.title,stage:t.stage||0});case 13:return e.abrupt("return");case 14:this._showTimer=n((function(){a.hideToast(),t.compelete&&"function"==typeof t.compelete&&t.compelete()}),t.duration||1500);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),hideToast:function(){var e=o.createAnimation({duration:0,timingFunction:"ease",delay:0});e.opacity(0).step(),this.setData({animationData:e.export()}),this.setData({isShow:!1,type:""})},checkUserType:(C=D(regeneratorRuntime.mark((function e(){var t,a,i,n,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="转存中...",a="",i="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_loading.gif",n="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram/toast_vip.png",o="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram/toast_svip.png","1"!=(r+="")){e.next=11;break}t=n,a="尊敬的会员，正在为您转存...",e.next=20;break;case 11:if("2"!==r){e.next=16;break}t=o,a="尊敬的超级会员，正在为您转存...",e.next=20;break;case 16:return t=i,e.next=19,(0,S.getUser)().then((function(e){for(var t=!1,a=e.product_infos||[],i=0;i<a.length;i++)if("privilegecard_work"===a[i].cluster){t=!0;break}return t?"正在享受转存上限提升特权，保存中…":"转存中..."}));case 19:a=e.sent;case 20:return e.abrupt("return",{iconUrl:t,title:a});case 21:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})}})})),window.define("124",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(125),S={isShow:!1,title:"",selectionEnd:0,placeholder:"",errorText:"",showExampleText:!1,exampleText:"",value:"",defaultText:"",showErrorText:!1,inputText:"",shareDir:!1,confirmFnName:"dialogConfirm"};function D(e){var t=e.detail.value,a=P.validation.AppealValidationCheck(t);this.setData({errorText:"legal"===a?null:a,inputText:t,activeLength:t.length||0}),t.length>=Number(this.data.maxLength)&&this.setData({errorText:"不可键入更多内容",showErrorText:!0})}function C(){var e=this.data,t=e.value,a=e.inputText;return""===t||t!==a&&""!==a}Component({data:Object.assign({},S),ready:function(){this.dialog=this.selectComponent("#dialog")},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}},methods:{show:function(e){e.isCertUser?n.log.certification.appealDialog.send({type:"sp_appeal_dialog_show_cert_display",value:"申诉弹窗展示-企业用户"}):(n.log.certification.shareErrorPageDialogCertEntrance.send({type:"sp_share_error_page_dialog_cert_entrance_display",value:"认证入口展示-申诉页-申诉弹窗"}),n.log.certification.appealDialog.send({type:"sp_appeal_dialog_show_display",value:"申诉弹窗展示-非企业用户"})),this.setData(Object.assign({},S,e,{isShow:!0})),this.dialog.show({isConfirmBtnFastHide:!1})},hide:function(){this.dialog.hide(),this.setData({isShow:!1}),this.data.isCertUser?n.log.certification.appealDialogCancelButton.send({type:"sp_appeal_dialog_cancel_cert_clk",value:"申诉弹窗取消按钮点击-企业用户"}):n.log.certification.appealDialogCancelButton.send({type:"sp_appeal_dialog_cancel_clk",value:"申诉弹窗取消按钮点击-非企业用户"})},getInputText:function(){return this.data.inputText},bindKeyInput:function(e){D.call(this,e)},bindInputBlur:function(e){D.call(this,e)},viewCertIntro:function(){this.data.isCertUser||(n.log.certification.shareErrorPageDialogCertEntrance.send({type:"sp_share_error_page_dialog_cert_entrance_clk",value:"认证入口点击-申诉页-申诉弹窗"}),this.triggerEvent("aboutCert"))},dialogConfirm:function(e){var t=e.detail;if(C.call(this)){var a=P.validation.AppealValidationCheck(this.data.inputText),i=!1,n="legal"===a?null:a;n?i=!0:this.hide(),this.setData({errorText:n,showErrorText:i}),n||(t.hide(),this.triggerEvent("makeAppeal",this.data.inputText),this.setData({inputText:"",value:"",showErrorText:!1,errorText:P.validation.TextValidationCheck("")}))}else this.hide()}}})})),window.define("125",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=/[\\\/\:\*\?'<>\|]+/gi,S=/(?:[\xA9\xAE\u2122\u23E9-\u23EF\u23F3\u23F8-\u23FA\u24C2\u25B6\u2600-\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDE51\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF])+/g;a.validation={TextValidationCheck:function(e){return P.test(e)?"文件名不能包含非法字符":S.test(e)?"文件名不能包含表情":""===e?"文件名不能为空":"legal"},AppealValidationCheck:function(e){return P.test(e)?"申诉内容不能包含非法字符":S.test(e)?"申诉内容不能包含表情":"legal"}}})),window.define("127",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(8),D=r();Component({properties:{btnWidth:{type:Number,value:208},btnAction:{type:String,value:""}},data:{btnTitle:"立即下载",progress:"",schema:""},lifetimes:{created:function(){},attached:function(){var e=(0,S.makeSchema)("HUO_DONG",{behavior:"download",isSaved:"no",hasPanCode:"no"});this.setData({schema:e})},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{reportAction:function(e){var t=e||"",a=""+this.properties.btnAction+t+"DownloadBtnClick";o.log[this.properties.btnAction][a].send()},startDownLoad:function(e){this.reportAction();"iOS"===e.split(" ")[0]?(n((function(){o.sptoast({title:"请打开 App Store 下载百度网盘"})}),1e3),this.reportAction("Ios")):this.reportAction("Android")},launchError:function(e){console.log("open app error：",e),o.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,S.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:D&&D.globalData.isUserLogin?"bd":""}))},download:function(e){var t=this;o.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,S.getSchemaParam)(this.data.schema),{isSuccess:"none",userType:D&&D.globalData.isUserLogin?"bd":""})),o.getSystemInfo({success:function(e){t.startDownLoad(e.system)},fail:function(e){o.sptoast({title:"获取系统版本失败，请重试"})}})}}})})),window.define("129",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({data:{btnTitle:"立即下载"},properties:{btnWidth:{type:Number,value:208},btnAction:{type:String,value:""}},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("131",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(132),S=e(136),D=e(20),C=e(138),T=e(139),I=e(140),E=o();Component({properties:{pageType:{type:String,value:""},errStatus:{type:Boolean,value:!1},errorTxt:{type:String,value:""},limitError:{type:Boolean,value:!1},hitriskInfo:{type:Object,observer:function(e,t){e.hitrisk&&n.log.certification.shareErrorPageDialogCertEntrance.send({type:"sp_share_error_page_dialog_cert_entrance_clk",value:"认证入口展示-申诉页-申诉弹窗"})}}},data:{showBtn:!1,errorMsg:"",queryUrlcode:"",errorlist:{2:"服务器开小差了\n请刷新后再试","-9":"提取码错误\n请检查后再试","-12":"服务器开小差了\n请刷新后再试","-7":"你来晚了\n该分享文件已过期",105:"链接错误没找到文件\n请打开正确的分享链接","-4":"此链接分享内容暂时不可访问","-8":"你来晚了\n该分享文件已过期","-3":"你来晚了\n分享文件已被删除","-21":"你来晚了\n分享文件已被取消分享",124:"您访问的链接已被冻结\n可联系分享者进行激活",5002:"网络不给力请稍后重试",5003:"链接错误没找到文件\n请打开正确的分享链接"},canReprotNum:[2,12,7,105,4,8,3,21,5002,5003],btnState:1,showFeedback:!1,feedbackStatus:!1},lifetimes:{ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{checkErrorStatus:function(e){var t=Math.abs(Number(e));return!!this.data.canReprotNum.includes(t)},initPageInfo:function(e){var t=Math.abs(Number(e));E.globalData.currentPageType="error",n.log.page.error.send();var a=E.globalData.vipInfo.certuser_data,i=(0,I.getUserCertInfo)(a);this.setData(Object.assign({errorMsg:this.data.errorlist[e]||"未知错误"},i));var o="invalid"+t;this.data.canReprotNum.includes(t)?n.log.invalid[o].send():n.log.invalid.invalidother.send(),this.checkReportStatus()},back:function(){n.getNetworkType({success:function(e){"none"!==e.networkType&&n.navigateBack(),n.sptoast({title:"无网络链接"})}})},aboutCert:function(){var e=this.data.isCertUser?"https://pan.baidu.com/disk/main#/certification/info?uk="+uk:"https://pan.baidu.com/disk/main#/certification/introductionmobile";n.navigateTo({url:"/pages/h5/index?src="+encodeURIComponent(e)})},certClick1:function(){n.log.certification.shareErrPageCertEntrance.send({type:"sp_share_error_page_cert_entrance_clk",value:"认证入口点击-申诉页"}),this.aboutCert()},makeAppealDialog:function(){var e=this.data.hitriskInfo.canClickAppealBtn,t=this.selectComponent("#appealDialog");e&&t&&(t.show({title:"链接失效申诉",placeholder:"请填写申诉原因",maxLength:30,activeLength:0,showExampleText:!0,exampleText:this.data.isCertUser?"企业专属申诉通道":"申请网盘认证，体验专属服务",isCertUser:this.data.isCertUser}),this.data.isCertUser?n.log.certification.appealButton.send({type:"sp_appeal_btn_cert_clk",value:"申诉按钮点击-企业用户"}):n.log.certification.appealButton.send({type:"sp_appeal_btn_clk",value:"申诉按钮点击-非企业用户"}))},makeAppeal:function(e){var t=this,a=e.detail,i={shareid:E.globalData.shareInfo.shareId,shorturl:E.globalData.shorturl,reason:a};(0,T.postAppeal)(i).then((function(e){if(0===e.errno){n.sptoast({title:"提交成功，可在网页端我的分享查看进展"});var a=(0,C.getAppealStatus)(e.appeal_status,t.data.isCertUser);t.triggerEvent("makeAppealResult",a)}else n.sptoast({title:"提交失败，请重试"})})).catch((function(e){console.log("postAppeal error: "+e),n.sptoast({title:"提交失败，请重试"})})),this.data.isCertUser?n.log.certification.appealDialogSubmitButton.send({type:"sp_appeal_dialog_btn_cert_clk",value:"申诉弹窗提交按钮点击-企业用户"}):n.log.certification.appealDialogSubmitButton.send({type:"sp_appeal_dialog_btn_clk",value:"申诉弹窗提交按钮点击-非企业用户"})},feedback:function(){n.log.invalid.invalidNoticeBtnClick.send(),(0,P.remindError)({shareid:E.globalData.shareInfo.shareId,share_uk:E.globalData.shareInfo.uk,feedback_type:1}).then((function(e){console.log(e)})),this.setData({btnState:0,errorMsg:"分享者已收到你的消息\n感谢你的反馈"})},checkReportStatus:function(){var e=this;(0,D.checkAppLogin)(),E.globalData.isAppLogin&&(this.data.loginTask=(0,D.bdLogin)().then((function(t){(0,D.getUserInfo)().then((function(t){0===t.errno?(E.globalData.loginInfo=t.login_info,String(E.globalData.loginInfo.uk_str)!==String(E.globalData.shareInfo.uk)&&(0,S.getFeedbackButton)({share_surl:E.globalData.shareInfo.shorturl.slice(1),shareid:E.globalData.shareInfo.shareId,share_uk:E.globalData.shareInfo.uk,feedback_type:1}).then((function(t){t.hasError||t.pressed||(n.log.invalid.invalidNoticeBtnShow.send(),e.setData({showFeedback:!0}))}))):n.sptoast({title:"服务出错"})})).catch((function(e){console.log(e)}))})))}}})})),window.define("132",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFeedbackBtn=a.remindError=a.shareUrl=a.shareTaskQuery=a.shareTransfer=a.getcaptcha=a.shareVerify=a.getShorturlinfo=a.getShareList=void 0;var P=e(133),S=e(134);a.getShareList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shorturl;t&&(e.shorturl=t.slice(1));var a={hasError:!1};return(0,P.getShareListApi)(e).then((function(e){return a.errno=e.errno,a.list=(0,S.sortFileList)(e.list),a.title=e.title,a.sharetype=e.sharetype,a.vip_type=e.vip_type,a.vip_level=e.vip_level,a.svip10_id=e.svip10_id,a.uk=e.uk,e.sign2&&(a.iv=e.iv,a.sign1=e.sign1,a.sign2=e.sign2,a.server_time=e.server_time),a.hitrisk=e.hitrisk||0,a.appeal_status=e.appeal_status||0,a.sign=e.sign,a.server_time=e.server_time,a})).catch((function(e){return a.hasError=!0,a}))},a.getShorturlinfo=function(e){var t={hasError:!1};return(0,P.getShorturlinfoApi)(e).then((function(e){if(e.header["Set-Cookie"]){var a=e.header["Set-Cookie"].split(";"),i=!0,o=!1,r=void 0;try{for(var s,c=a[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;/^BAIDUID=/g.test(l)&&(n.getStorageSync("BAIDUID")||n.setStorage({key:"BAIDUID",data:l.slice(8)}))}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}var p=e.data;return t.randsk=p.randsk||"",t.errno=p.errno,t.sharetype=p.sharetype,t.view_limit=p.view_limit,t.view_visited=p.view_visited,t.list=p.list,t.uk=p.uk,t.share_photo=p.share_photo,t.share_username=p.share_username,t.shareId=p.shareid,t.sharelink_command=p.sharelink_command||"",t.expireDays=p.expire_days,t.pwd=p.pwd,t.shorturl=p.shorturl,t.expiretimestamp=p.expiretimestamp,t.expiredType=p.expired_type,t.ctime=p.ctime?p.ctime:"",t.third=p.third,t.shortUrlType=p.Elink_info&&1===p.Elink_info.isElink?"enterprise":"",t.vipType=p.vipType?p.vipType:"",t.vipLevel=p.vipLevel?p.vipLevel:"",t.cert_user=p.cert_user?p.cert_user:"",t})).catch((function(e){return t.hasError=!0,t}))},a.shareVerify=function(e){var t={hasError:!1};return(0,P.shareVerifyApi)(e).then((function(e){return t.errno=e.errno,t.randsk=e.randsk,t})).catch((function(e){return t.hasError=!0,t}))},a.getcaptcha=function(e){var t={hasError:!1};return(0,P.getcaptchaApi)(e).then((function(e){return t=e})).catch((function(e){return t.hasError=!0,t}))},a.shareTransfer=function(e){var t={hasError:!1};return(0,P.shareTransferApi)(e).then((function(e){return t.errno=e.errno,t.show_msg=e.show_msg,t.info=e.info,t.task_id=e.task_id,t.extra=e.extra,t.endTime=e.end_time,t.tipDone=e.tipDone,t.arget_file_nums=e.arget_file_nums,t.limit=e.limit,t.non_vip_limit=e.non_vip_limit,t.num_limit_no_super_vip=e.num_limit_no_super_vip,t.target_file_nums=e.target_file_nums,t.target_file_nums_limit=e.target_file_nums_limit,t})).catch((function(e){return t.hasError=!0,t}))},a.shareTaskQuery=function(e){var t={hasError:!1};return(0,P.shareTaskQueryApi)(e).then((function(e){return t.errno=e.errno,t.progress=e.progress,t.status=e.status,t})).catch((function(e){return t.hasError=!0,t}))},a.shareUrl=function(e){var t={hasError:!1};return(0,P.shareUrlApi)(e).then((function(e){return t.errno=e.errno,t.progress=e.progress,t})).catch((function(e){return t.hasError=!0,t}))},a.remindError=function(e){var t={hasError:!1};return(0,P.remindErrorApi)(e).then((function(e){return t.errno=e.errno,t.request_id=e.request_id,t})).catch((function(e){return t.hasError=!0,t}))},a.getFeedbackBtn=function(e){var t={hasError:!1};return(0,P.getFeedbackBtnApi)(e).then((function(e){return t.errno=e.errno,t.button=e.button,t.login=e.login,t.newno=e.newno,t.request_id=e.request_id,t.show_msg=e.show_msg,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("133",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getUkInfo=a.remindErrorApi=a.shareUrlApi=a.shareTaskQueryApi=a.shareTransferApi=a.getcaptchaApi=a.shareVerifyApi=a.getShorturlinfoApi=a.getShareListApi=void 0;var P=e(16);a.getShareListApi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,t=e.shareid,a=void 0===t?"":t,i=e.uk,n=void 0===i?"":i,o=e.shorturl,r=void 0===o?"":o,s=e.desc,c=void 0===s?1:s,l=e.dir,p=void 0===l?"":l,u=e.page,d=void 0===u?1:u,h=e.num,g=void 0===h?20:h,f=e.order,m=void 0===f?"other":f,v=e.clientType,y={shareid:a,uk:n,desc:c,page:d,num:g,order:m};return r&&(y.shorturl=r),p?y.dir=p:y.root=1,(0,P.bdRequest)({api:"share/list",data:y,clientType:v})},a.getShorturlinfoApi=function(e){return(0,P.bdRequest)({api:"api/shorturlinfo",data:Object.assign({},e,{type:0,root:1}),method:"GET"})},a.shareVerifyApi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.pwd,a=e.surl,i=e.vcode_str,n=e.vcode,o=e.shareid,r=e.uk,s=e.third,c={pwd:t,vcode_str:i,vcode:n,surl:a};return a&&(c.surl=a),(0,P.bdRequest)({api:"share/verify?shareid="+o+"&uk="+r+"&third="+s,data:c,method:"POST"})},a.getcaptchaApi=function(){return(0,P.bdRequest)({api:"api/getcaptcha?",data:{prod:"shareverify",app_id:"16426097",web:"1"},method:"GET"})},a.shareTransferApi=function(e){var t=e.uk,a=e.shareid,i=e.fsidlist,n=e.path,o=void 0===n?"/我的资源":n,r=e.type,s=void 0===r?1:r;return(0,P.bdRequest)({api:"share/transfer",data:{ondup:"newcopy",from:t,shareid:a,fsidlist:i,path:o,type:s,async:1},method:"POST"})},a.shareTaskQueryApi=function(e){var t=e.taskid;return(0,P.bdRequest)({api:"share/taskquery",data:{taskid:t}})},a.shareUrlApi=function(e){var t=e.shorturl;return(0,P.bdRequest)({api:"s/"+t})},a.remindErrorApi=function(e){return(0,P.bdRequest)({api:"share/linkfeedbackreport",data:e,method:"GET"})},a.getUkInfo=function(e){return(0,P.bdRequest)({api:"pcloud/user/getinfo",data:e,method:"GET"})}})),window.define("134",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sortFileList=void 0;var P,S=e(135),D=(P=S)&&P.__esModule?P:{default:P};a.sortFileList=function(e){if(!Array.isArray(e)||1===e.length)return e;try{return e.sort((function(e,t){return+e.isdir!=+t.isdir?+t.isdir-+e.isdir:(0,D.default)(e.server_filename,t.server_filename)}))}catch(t){return console.log(t),e}}})),window.define("135",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";(function(e){var t,i,n,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":r(e))&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a.r(t),t.default=function(e,t){var a=e,i=t,n=a.match(/[0-9]+/g),o=i.match(/[0-9]+/g);if(!n||!o)return a.localeCompare(i);for(var r=0,s=Math.min(n.length,o.length);r<s;r++){var c=a.indexOf(n[r]),l=i.indexOf(o[r]),p=a.substring(0,c),u=a.substring(0,l);if(c!=l||p!=u)return a.localeCompare(i);if(n[r]!==o[r])return~~n[r]==~~o[r]?n[r].lastIndexOf(~~n[r]+"")-o[r].lastIndexOf(~~o[r]+""):~~n[r]-~~o[r];if(r==s-1)return a.substring(c).localeCompare(i.substring(l));a=a.substring(c+n[r].length),i=i.substring(l+o[r].length)}}}]).default},"object"==r(a)&&"object"==r(e)?e.exports=o():(i=[],void 0===(n="function"==typeof(t=o)?t.apply(a,i):t)||(e.exports=n))}).call(this,e(31)(t))})),window.define("136",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFeedbackButton=a.shortUrlReport=void 0;var P=e(137);a.shortUrlReport=function(e){var t={hasError:!1};return(0,P.shortUrlReportApi)(e).then((function(e){return 0!==e.errno&&(t.hasError=!0),t})).catch((function(e){return t.hasError=!0,t}))},a.getFeedbackButton=function(e){var t={hasError:!1};return(0,P.getFeedbackButtonApi)(e).then((function(e){var a=e.button;return t.pressed=a.pressed,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("137",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFeedbackButtonApi=a.shortUrlReportApi=void 0;var P=e(16);o(),a.shortUrlReportApi=function(e){return(0,P.bdRequest)({api:"share/linkfeedbackreport",data:e,method:"GET",clientType:32})},a.getFeedbackButtonApi=function(e){return(0,P.bdRequest)({api:"share/getfeedbackbutton",data:e,method:"GET",clientType:32})}})),window.define("138",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getAppealStatus=function(e,t){var a="",i=!1;switch(Number(e)){case 1:a="申诉中";break;case 2:a="申诉通过";break;case 3:a="申诉失败";break;default:a=t?"企业专属申诉":"链接失败申诉",i=!0}return{appealStatusTxt:a,canClickAppealBtn:i}}})),window.define("139",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.postAppeal=void 0;var P=e(16);o(),a.postAppeal=function(e){return new Promise((function(t){t((0,P.bdRequest)({api:"api/certuser/appeal",data:e,method:"GET"}))}))}})),window.define("140",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getUserCertInfo=function(e){var t,a,i=!1,n=!1,o="",r="";return e&&e instanceof Object?(a=Number(e.cancel_status||0),1===(t=Number(e.cert_status||0))?(o="审核中",r="duraing-cert"):2===t?(o="已认证",r="is-cert"):3===t?(o="认证失败",r="fail-cert"):(o="未认证",r="no-cert"),1===a?(o="认证已过期，请重新申请",i=!1,r="outtime-cert"):0===a&&2===t?(i=!0,r="is-cert"):i=!1,(1===a||0===a&&0!==t)&&(n=!0),0===a&&0===t&&(n=!1),{isCertUser:i,certStatus:t,cancelStatus:a,showCertStatus:n,statusText:o,abbrName:e.abbr_name||"",certInfo:e.cert_info||"",userCenterCertStatusClass:r}):{isCertUser:!1,certStatus:0,cancelStatus:0,showCertStatus:!1,statusText:"",abbrName:"",certInfo:"",userCenterCertStatusClass:""}}})),window.define("142",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(20),S=e(143),D=e(8),C=e(60),T=o();Component({properties:{btnsType:{type:String,value:"share"}},data:{isIpx:T.globalData.isIpx,confirmTitle:"",confirmTip:"",confirmInfo:"",hasCopy:!1,showConfirm:!1,schema:"",canIUseLoginButton:"",isAndroid:!1,hasApp:!1},lifetimes:{created:function(){},attached:function(){var e=(0,D.makeSchema)("HUO_DONG",{behavior:"app_open",isSaved:"no",hasPanCode:"no"});this.setData({schema:e})},ready:function(){this.setData({canIUseLoginButton:T.globalData.canUseApi.canIUseLoginButton,isAndroid:"android"===T.globalData.systemInfo.system4Fe,hasApp:T.globalData.hasInstalledApp})},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{handleMask:function(){this.hidden()},doShare:function(){this.data.hasCopy?this.hidden():this.copyShortUrl()},hidden:function(){this.setData({showConfirm:!1}),this.showAudioPreviewEvent()},show:function(e,t){if(e&&"custom"===e.type)this.customConfirm(t);else if(this.showAudioPreviewEvent(),this.setData({showConfirm:!0}),"share"===e.type&&this.copyShortUrl(),"login"===e.type){if(this.setData({confirmTitle:"帐号未登录",confirmTip:"可以打开百度网盘App进行直接转存",confirmInfo:T.globalData.shareInfo.sharelinkCommand}),!T.globalData.shareInfo.sharelinkCommand)return void n.sptoast({type:"info",title:"获取短链接失败"});n.setClipboardData({data:T.globalData.shareInfo.sharelinkCommand,success:function(e){},fail:function(e){}})}},customConfirm:function(e){this.setData({confirmTitle:"分享链接已复制",confirmTip:"分享链接已复制到剪贴板，快去粘贴吧",confirmInfo:e.sharePageLink,btnsType:"usershare"}),e.sharePageLink?(this.setData({showConfirm:!0}),n.setClipboardData({data:e.sharePageLink,success:function(e){},fail:function(e){this.hidden()}})):n.sptoast({type:"info",title:"获取短链接失败"})},douserShare:function(){this.hidden()},setConfirmConf:function(){},downloadBtn:function(){!this.data.isAndroid||this.data.hasApp?(n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:T&&T.globalData.systemInfo.system4Fe},(0,D.getSchemaParam)(this.data.schema),{isSuccess:"none",userType:T&&T.globalData.isUserLogin?"bd":""})),n.log.save.saveOpenApp.send()):n.navigateTo({url:"/pages/download-page/index"})},launchError:function(e){console.log("open app error：",e),n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:T&&T.globalData.systemInfo.system4Fe},(0,D.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:T&&T.globalData.isUserLogin?"bd":""}))},copyShortUrl:function(){if(T.globalData.shareInfo.sharelinkCommand){var e=this;n.setClipboardData({data:T.globalData.shareInfo.sharelinkCommand,success:function(t){e.setData({confirmTitle:"分享链接已复制",confirmTip:"分享链接已复制到剪贴板，快去粘贴吧",confirmInfo:T.globalData.shareInfo.sharelinkCommand,hasCopy:!0})},fail:function(t){e.setData({confirmTitle:"复制失败",confirmTip:"请再次点击【一键复制】复制文件链接",confirmInfo:T.globalData.shareInfo.sharelinkCommand,hasCopy:!1})}})}else n.sptoast({type:"info",title:"获取短链接失败"})},loginSuccess:function(e){e.data.loginTask=(0,P.bdLogin)().then((function(t){e.getUser("save")})),(0,P.checkAppLogin)(),e.hidden(),(0,S.reportUser)(),n.log.save.loginSuccess.send(),n.sptoast({type:"info",title:"登录成功"})},loginError:function(e){n.log.save.loginFail.send({from:e}),n.sptoast({title:"登录失败"})},loginHandle:function(){var e=this;n.log.save.loginClick.send(),(0,C.needAutoSave)(T.globalData.viewAction)&&n.log.autoSaveAndExtract.transLoginToPass.send(),e.data.canIUseLoginButton?n.getLoginCode({success:function(){e.loginSuccess(e)},fail:function(t){e.loginError(t)}}):n.login({success:function(){e.loginSuccess(e)},fail:function(t){e.loginError(t)}})},getUser:function(e){var t=this;(0,P.getUserInfo)().then((function(a){0===a.errno&&(T.globalData.loginInfo=a.login_info,"save"===e?t.triggerEvent("canSave"):t.triggerEvent("checkUser"))})).catch((function(e){console.log(e)}))},showAudioPreviewEvent:function(){var e={showBox:!this.data.showConfirm};this.triggerEvent("showAudioPreview",e)}}})})),window.define("143",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reportUser=a.reportAction=void 0;var P=e(16);a.reportAction=function(e){var t=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");return(0,P.bdRequest)({api:"api/analytics?"+t,method:"GET"})},a.reportUser=function(){return(0,P.bdRequest)({api:"api/report/user",data:{timestamp:(new Date).getTime(),action:"swan_netdisk_miniprogram"},method:"POST"})}})),window.define("145",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{type:{type:String,value:"text"},password:{type:Boolean,value:!1},dataType:{type:String,value:""},maxlength:{type:Number,value:140},placeholderClass:{type:String,value:""},class:{type:String,value:""},disabled:{type:String,value:!1},cursorSpacing:{type:Number,value:0},cursor:{type:Number,value:100},focus:{type:Boolean,value:!1},placeholder:{type:String,value:"请输入内容"},adjustPosition:{type:Boolean,value:!1},bindfocus:{type:String,value:"focus"},bindblur:{type:String,value:"blur"},bindconfirm:{type:String,value:"confirm"},bindinput:{type:String,value:"input"},width:{type:Number,value:590},height:{type:Number,value:100},inputValue:{type:String,value:""}},data:{specialCodeMap:[]},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{focus:function(){this.triggerEvent(this.properties.bindfocus)},blur:function(){this.triggerEvent(this.properties.bindblur)},confirm:function(){this.triggerEvent(this.properties.bindconfirm)},input:function(e){this.triggerEvent(this.properties.bindinput,e)},updateValue:function(e){this.setData({inputValue:e})}}})})),window.define("147",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(132),D=e(148),C=e(17),T=e(20),I=e(8),E=e(149),x=e(154),A=e(60),L=e(65),B=e(63),F=e(45),N=e(155),O=e(153),R=r();Component({behaviors:[E.shareFileSave],properties:{showPasswd:{type:Boolean,value:!1},pageReady:{type:Boolean,value:!1},errStatus:{type:Boolean,value:!1},thirdParty:{type:String,value:""},limitShare:{type:Boolean,value:!1},view_limit:{type:String,value:""},view_visited:{type:String,value:""},expiredType:{type:Number,value:0},pageType:{type:String,value:""}},data:{showVer:!1,extCode:"",verCode:"",extCodeMsg:"提取码错误，请检查后再试",verCodeMsg:"验证码错误，请检查后再试",extPass:"",verPass:"",vcodeStr:"",vcodeImg:"",outsiteChain:"/pages/outsite-chain/file-list/file-list",thirdOutSiteChain:"/pages/outsite-chain/third-file-list/file-list",errorPage:"/pages/error/index?code=",mySourceUrl:"/pages/home/index?path=/我的资源&pageType=outsiteChainFileList",checking:!1,deadTime:"",schema:"",showOpenAppBtn:!1,hasHWiseSids:!1,deadTimeShow:!1,isLessThreeDay:!1,btnsType:"share",needLoading:!0,infoLoading:!1,statusInfo:"正在验证提取码信息",saveType:!1,fromSource:""},observers:{limitShare:function(e){e&&o.log.limitShare.limitShowCode.send()}},lifetimes:{created:function(){},attached:function(){},ready:function(){var e=R.globalData,t=e.shorturl,a=e.shareInfo,i=(a=void 0===a?{}:a).pwd,n=(0,I.makeShareLinkSchema)(t,i);this.setData({schema:n})},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{fillInStatusData:function(e){this.setData(e)},makeMsg:function(e){var t={e0:{extCodeMsg:"请输入提取码"},e1:{extPass:!1,verPass:!0,extCodeMsg:"提取码错误，请检查后再试"},e2:{extPass:!1,extCodeMsg:"提取码格式错误"},v0:{verPass:!1,verCodeMsg:"请输入验证码"},v1:{verPass:!1,verCodeMsg:"验证码错误，请检查后再试"},v2:{verPass:!1,verCodeMsg:"验证码格式错误"},default:{extCodeMsg:"验证码错误，请检查后再试",verCodeMsg:"验证码错误，请检查后再试"}};this.setData(t[e]||t.default)},setVal:function(e){var t=e.detail,a=t.detail.value,i=t.currentTarget.dataset.type;a=(0,D.trim)(a),"extraction"===i?this.setData({extCode:a,extPass:!0}):"verification"===i&&this.setData({verCode:a,verPass:!0})},verifyStatus:function(e){R.globalData.pwdcode?(this.setData(e),e.checking&&o.log.autoSaveAndExtract.codePageLoadingDisplay.send()):(this.setData({checking:e.checking}),e.checking?o.sptoast({type:"loading",title:"正在加载..."}):o.sptoasthide())},saveStatus:function(e){this.setData(e)},checkSubmit:function(){var e=!0,t=this.data,a=R.globalData;return t.showVer&&0===t.verCode.length?(this.makeMsg("v0"),!1):t.showVer&&!(0,D.checkVcode)(t.verCode)?(this.makeMsg("v2"),!1):((0,D.checkEcode)(t.extCode)||(0,D.checkEcode)(a.pwdcode)?this.setData({extPass:!0}):(this.makeMsg("e2"),e=!1),e)},startSubmit:function(){var e=this;if(this.data.limitShare){if((0,T.checkAppLogin)(),!R.globalData.isAppLogin){var t=getCurrentPages()[0];return o.navigateTo({url:"/pages/login/index?backUrl=/pages/outsite-chain/share-code/index&url="+t.options.url}),void o.log.limitShare.limitShowLogin.send()}(0,T.bdLogin)().then((function(t){(0,T.getUserInfo)().then((function(t){0===t.errno&&(R.globalData.loginInfo=t.login_info,e.checkSubmit()&&e.postCode())})).catch((function(e){console.log(e)}))}))}else!0===this.data.showOpenAppBtn?(o.log.outsiteChainShareCode.shareCodePagePlanAClickSmartProgram.send(),"tieba_spmini"===this.data.fromSource&&o.log.outsiteChainShareCode.shareCodePagePlanATiebaClickSmartProgram.send(),"zhidao_spmini"===this.data.fromSource&&o.log.outsiteChainShareCode.shareCodePagePlanAZhidaoClickSmartProgram.send()):(!0===this.data.hasHWiseSids&&o.log.outsiteChainShareCode.shareCodePagePlanBPickFile.send(),o.log.outsiteChainShareCode.shareCodePickFile.send()),this.checkSubmit()&&this.postCode()},postCode:function(e){var t=this,a=R.globalData;a.hasDeadTime&&o.log.outsiteChainShareCode.deadTimeShowVerCode.send();var i=this;this.verifyStatus({checking:!0,needLoading:!0,infoLoading:!0,statusInfo:"正在验证提取码信息"});var n=this.data,r=n.extCode,s=n.vcodeStr,c=n.verCode,l=a.shorturl,p=a.pwdcode,u=a.shareIdAndUkInfo,d=u.shareid,h=u.uk,g=u.third;p&&r&&o.log.autoSaveAndExtract.codePageVerifyExtFailClickBtn.send();var f={pwd:r||p,vcode_str:s,vcode:c,surl:l,shareid:d,uk:h,third:g};(0,S.shareVerify)(f).then((function(e){switch(t.verifyStatus({checking:!1,needLoading:!0,infoLoading:!0,statusInfo:"提取码验证成功"}),(0,O.verifyMonitor)(e.errno),0!==e.errno&&(t.autoExtStatusLog("Fail"),t.verifyStatus({needLoading:!1,infoLoading:!1,statusInfo:"请输入正确验证码"}),o.log.outsiteChainShareCode.shareCodePageWrongCode.send()),e.errno){case 0:o.log.outsiteChainShareCode.shareCodePageRightCode.send(),t.setRandsk(e),a.pwdcode="",t.updateUrlInfo();break;case-62:t.getVerificationCode(),t.setData({showVer:!0}),o.log.outsiteChainShareCode.verCodeShow.send(),0===i.data.verCode.length?t.makeMsg("v0"):t.makeMsg("v1");break;case-9:t.setData({showVer:!1,vcodeStr:"",vcodeImg:""}),t.makeMsg("e1");break;case-12:t.setData({showVer:!1}),t.makeMsg("e1");break;default:o.sptoasthide(),o.sptoast({type:"info",title:"接口异常"+e.errno}),o.log.outsiteChainShareCode.shareCodePageFailCode.send()}})).catch((function(){(0,O.verifyMonitor)()}))},setRandsk:function(e){o.setStorageSync("randsk",e.randsk)},getVerificationCode:function(){var e=this;(0,S.getcaptcha)().then((function(t){0===t.errno?e.setData({vcodeStr:t.vcode_str,vcodeImg:t.vcode_img}):o.sptoast({type:"info",title:"接口异常"})}))},setfilelistStorage:function(e){o.setStorageSync("fileList",{list:e,fileInfo:e[0],pageNum:0,index:0,currentFsId:e[0].fs_id})},updateUrlInfo:function(){var e=this,t=R.globalData,a=t.shareIdAndUkInfo,i={shareid:a.shareid,uk:a.uk};this.data.thirdParty&&(i.linksource=this.data.thirdParty,i.csign=(0,C.md5)(""+i.shorturl+o.ENV.CONF.thirdPartyMap[i.linksource].secret)),(0,S.getShorturlinfo)(i).then((function(a){var i=a.sharelink_command,n=a.pwd,r=a.shorturl,s=a.uk,c=a.shareId,l=a.ctime,p=a.expiredType;switch(a.errno){case 0:if(a.sharelink_command){t.shareInfo.sharelinkCommand=i,t.shareInfo.pwd=n,t.shareInfo.shorturl=r,t.shareInfo.uk=s,t.shareInfo.shareId=c,t.shareInfo.ctime=l,t.shareInfo.expiredType=p;var u=(0,N.getShareDataFromUrl)(r).shorturl;t.shorturl=u,e.dealShareInfo(a)}else o.redirectTo({url:e.data.errorPage+"105"});break;default:o.redirectTo({url:""+e.data.errorPage+a.errno})}}))},dealShareInfo:function(e){(0,B.reportFileFunc)("outsite",this.data.pageType,e.list[0],this.data.thirdParty,e.ctime,e.expiredType);var t=R.globalData;if(e.list,this.autoExtStatusLog("Success"),(0,x.setRootFsIdToGlobal)(e.list),(0,A.needAutoSave)(t.viewAction))return this.setData({saveType:"all"}),this.saveStatus({infoLoading:!0,needLoading:!0,statusInfo:"文件正在转存中"}),this.preSaveCheck(),void o.log.save.saveBtnClick.send({from:"ishome"});this.viewShareInfo(e)},viewShareInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,a=R.globalData,i=a.shareInfo,n=i.isSingleVideoShareList,r=i.isSingleDirShareList,s=e.list||[],c=n||a.isCooperate&&r;if(!t.data.thirdParty&&c)this.setfilelistStorage(s),(0,A.filePreview)({filelist:s,previewType:"outsitePreview",pageType:"outsiteChainFileList",needRedirect:!0,previewFromType:L.previewFromTypeObj.SHARE_VIEW});else{var l=this.data,p=l.outsiteChain,u=l.pageType,d=l.thirdParty,h=l.thirdOutSiteChain,g=a.shorturl,f={s:g,pageType:u};d&&(g=encodeURIComponent(g),f=Object.assign({},f,{s:g,thirdParty:d}));var m=(0,F.getUrlAddQuery)(d?h:p,f);o.redirectTo({url:m})}},dealTime:function(e){var t="",a=e,i=!0,n=(e=1e3*Number(e))-(new Date).getTime();if(n>864e5)o.log.outsiteChainShareCode.deadTimeShow.send({from:"day"}),t=Math.floor(n/864e5)+"天后过期";else if(n>=36e5){var r=Math.floor(n/36e5);t=r+"小时"+Math.floor((n-36e5*r)/6e4)+"分后过期"}else if(n>0&&n<36e5){var s=Math.floor(n/6e4);t=(s>1?s:"1")+"分后过期"}else i=!1;this.setData({deadTime:t,deadTimeShow:i,isLessThreeDay:this.lessThreeDay(a-parseInt(Date.now()/1e3))})},lessThreeDay:function(e){if("number"!=typeof e)return!1;return Math.floor(e/86400)<3},dealSaveError:function(e,t,a,i){var o=this;this.saveStatus({infoLoading:!0,needLoading:!0,statusInfo:"文件转存失败，正在为你打开外链"}),n((function(){o.viewShareInfo()}),1e3)},autoExtStatusLog:function(e){var t=R.globalData;t.pwdcode&&("save"===t.viewAction&&o.log.autoSaveAndExtract["codePageVerifyExt"+e+"Save"].send(),"save_view"===t.viewAction&&o.log.autoSaveAndExtract["codePageVerifyExt"+e+"SaveView"].send(),"preview_file"===t.viewAction&&o.log.autoSaveAndExtract["codePageVerifyExt"+e+"PreviewFile"].send(),"view_list"===t.viewAction&&o.log.autoSaveAndExtract["codePageVerifyExt"+e+"ViewList"].send())},openAPP:function(){o.log.outsiteChainShareCode.shareCodePagePlanAClickOpenApp.send(),"zhidao_spmini"===this.data.fromSource&&o.log.outsiteChainShareCode.shareCodePagePlanAZhidaoClickOpenApp.send(),"tieba_spmini"===this.data.fromSource&&o.log.outsiteChainShareCode.shareCodePagePlanATiebaClickOpenApp.send();var e=R.globalData,t=e.shorturl,a=e.pwdcode;o.setClipboardData({data:(0,I.generateSharePageLink)("https://pan.baidu.com/s/"+t,a),success:function(e){},fail:function(e){}})}}})})),window.define("148",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.checkEcode=function(e){return e?/^[A-Za-z0-9]{1,}$/.test(e):""},a.checkVcode=function(e){return e?/^[A-Za-z0-9]{4}$/.test(e):""},a.trim=function(e){return e?e.replace(/\s+/g,""):""},a.countdown=function(e){var t=parseInt(Date.parse(new Date)/1e3),a=parseInt(e/1e3-t);return{h:Math.floor(a/3600),m:Math.floor(a/60%60),s:Math.floor(a%60)}},a.deadTime=function(e){var t=new Date(e);return{Y:t.getFullYear(),M:t.getMonth()+1,D:t.getDate()}},a.uniqueArray=function(e,t){for(var a=[e[0]],i=1;i<e.length;i++){for(var n=e[i],o=!1,r=0;r<a.length;r++)if(n[t]==a[r][t]){o=!0;break}o||a.push(n)}return a}})),window.define("149",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shareFileSave=void 0;var S=e(20),D=e(132),C=e(13),T=e(150),I=e(60),E=e(153),x=r();a.shareFileSave=Behavior({properties:{},data:{},methods:{preSaveCheck:function(){var e=this;if(x.globalData.selectList.length>0||"all"===this.data.saveType){(0,S.checkAppLogin)();var t=(0,I.needAutoSave)(x.globalData.viewAction);t&&o.log.autoSaveAndExtract.transLoginStatusDisplay.send(),x.globalData.isAppLogin?(t&&o.log.autoSaveAndExtract.transLoginSuccess.send(),(0,S.getUserInfo)().then((function(t){0===t.errno&&(x.globalData.loginInfo=t.login_info,x.globalData.saveList=[],e.showToast&&e.showToast({type:"loading",title:"保存中",stage:x.globalData.vipInfo.vip_type}),x.globalData.loginInfo&&x.globalData.vipInfo&&x.globalData.quotaSize?(e.setData({saving:!0}),e.postSaveList()):(0,C.setVipInfo)().then((function(){e.setData({saving:!0}),e.postSaveList()})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))):(t&&o.log.autoSaveAndExtract.transLoginFail.send(),o.log.save.notLogged.send(),this.bottomConfirm=this.selectComponent("#outBottomConfirm"),this.bottomConfirm&&this.bottomConfirm.show({type:"login"}),this.setData({btnsType:"login"}))}else this.showToast&&this.showToast({type:"infos",title:"程序出错"})},makefsId:function(){var e="[";return"all"===this.data.saveType?e=x.globalData.shareInfo.rootFsIdArr:(x.globalData.selectList.map((function(t,a){a&&(e+=","),e+=Number(t.fs_id)})),e+="]"),e},postSaveList:function(){var e=this;x.globalData.lightOff=!1,x.globalData.closePop=!1;var t=o.performance.sendTimePerf("shareTransfer",{group:"share_perf",project:"swan-share",pageName:"multi_page",clientType:"swan"});return t.start(),(0,D.shareTransfer)({uk:x.globalData.shareInfo.uk,shareid:x.globalData.shareInfo.shareId,fsidlist:this.makefsId()}).then((function(a){if(o.sptoasthide(),e.setData({saving:!1}),e.triggerEvent("goback"),(0,E.saveFileMonitor)(a.errno),!a.errno)return"all"===e.data.saveType?o.log.save.transferSuccess.send({from:"all"}):o.log.save.transferSuccess.send({from:"selectsave"}),void e.sendSavedMsg(a).then((function(){t.end()}));if(t.end(),12===Number(a.errno)){x.globalData.closePop=!0;var i=0;a.info.map((function(e){e.errno&&!i&&(i=e.errno)})),o.log.save.transferFail.send({from:i}),e.data.limitShare&&(o.log.limitShare.limitTransSaveFail.send(),o.log.limitShare.limitTransSaveFailReason.send());var n=0;n="all"===e.data.saveType?x.globalData.shareInfo.rootFilesNum:x.globalData.selectList,o.log.save.transferFailNum.send({from:n});var r={};i=Math.abs(Number(i)),r.infoErrno=i;var s=(0,T.dealLimitfile)(a);return e.dealSaveError?void([120,130,31075,31175].includes(i)?e.dealSaveError("outSaveMaxFileAndGiveGuide",r,s,a):[33].includes(i)?e.dealSaveError("outSaveMaxFile",r,s,a):[10,32].includes(i)?e.dealSaveError("notEnoughSpace",r,s,a):e.dealSaveError("saveError",r,s,a)):void(e.showToast&&e.showToast({type:"info",title:a.show_msg||"保存失败，请稍后再试"}))}e.dealSaveError("otherError",{},{},a)})).catch((function(e){(0,E.saveFileMonitor)(),console&&console.log(e)}))},sendSavedMsg:function(e){var t=this;return new Promise((function(a,i){var o=function(){var i=[];e.extra&&e.extra.list&&(i=e.extra.list),x.globalData.saveList=i,t.afterSave(),a()};Number(e.task_id)?function t(){(0,D.shareTaskQuery)({taskid:e.task_id}).then((function(e){100===Number(e.progress)||["failed","success"].includes(e.status)?o():n(t,1e3)})).catch(i)}():o()}))},afterSave:function(){var e=this;"all"===this.data.saveType?x.globalData.shareInfo.saveNum=x.globalData.shareInfo.rootFilesNum:x.globalData.shareInfo.saveNum=x.globalData.saveList.length,o.log.save.transferSuccessNum.send({from:x.globalData.shareInfo.saveNum}),this.data.limitShare&&o.log.limitShare.limitTransSaveSuccess.send(),this.popupopen&&this.popupopen(),x.globalData.closePop=!1,o.log.popup.display.send(),o.log.openApp.openPopup.send();var t="save_view"===x.globalData.viewAction?this.data.mySourceUrl+"&autoPreview=1":this.data.mySourceUrl;if("save_view"===x.globalData.viewAction&&this.saveStatus)return this.saveStatus({infoLoading:!0,needLoading:!0,statusInfo:"转存成功，正在打开文件..."}),void n((function(){(0,T.goPreviewPage)(e.data.saveType,t)}),1500);(0,T.goPreviewPage)(this.data.saveType,t)},checkUser:function(){if(!x.globalData.loginInfo||!x.globalData.loginInfo.uk_str)return this.setData({sameUk:!1}),void(x.globalData.shareInfo.sameUser=!1);x.globalData.shareInfo.sameUser=String(x.globalData.loginInfo.uk_str)===String(x.globalData.shareInfo.uk),this.setData({sameUk:x.globalData.shareInfo.sameUser}),this.triggerEvent("initUserInfo")},canSave:function(){this.checkUser(),this.data.sameUk?(o.sptoast({type:"info",title:"相同的帐号，请换个帐号保存..."}),this.triggerEvent("goback")):this.postSaveList()}}})})),window.define("150",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.checkIsVideoPlayPage=a.goPreviewPage=a.dealLimitfile=void 0;var P,S=(P=I(regeneratorRuntime.mark((function e(){var t,a,i,o,r,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.saveList,a=E.shareInfo,i=n.getStorageSync("fileList"),(o=i.fileInfo)&&o.server_filename){e.next=4;break}return e.abrupt("return",!1);case 4:return r=a.activePath||"",r=B(s,c),e.next=8,(0,D.getFileListByPath)({path:r,category:1}).then((function(e){var a=e.hasError,i=e.list;if(!a&&Array.isArray(i)&&i.length>0){var r=o.server_filename;c&&(r=t[0].to.split("/").reverse()[0]);var s=i.filter((function(e){return e.server_filename===r}))[0];return s=s||i[0],E.processPage="home",n.setStorageSync("fileList",{list:i,fileInfo:s,pageNum:5,currentFsId:s.fs_id}),(0,C.videoClick)({fileInfo:s,previewType:"homePreview",pageType:"home",previewFromType:"save_list_view",needRedirect:!0}),!0}return!1})).catch((function(e){return console.log(e),!1}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)}),D=e(151),C=e(60);function T(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function I(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var E=o().globalData;a.dealLimitfile=function(e){var t={},a=e.target_file_nums,i=e.limit,n=e.non_vip_limit,o=e.num_limit_no_super_vip,r=e.target_file_nums_limit;return a?(a=Number(a),i=Number(i),n=Number(n),o=Number(o),t.target_file_nums=a,a>=5e4?t.canGuid=!1:(t.canGuid=!0,n?n&&o?(t.transfer_status=2,t.errorFileNum=r||""):(t.transfer_status=1,t.errorFileNum=r||""):(t.transfer_status=2,t.errorFileNum=r||""))):t.canGuid=!1,t},a.goPreviewPage=function(){var e=I(regeneratorRuntime.mark((function e(){var t,a,i,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.isCooperate,a=x(r),i=A(r),o=F(),t){e.next=7;break}return n.redirectTo({url:s}),e.abrupt("return");case 7:o&&(a||i)?S(a,i).then((function(e){e||n.redirectTo({url:s})})):a?L():n.redirectTo({url:s});case 8:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}();function x(e){var t=E.shareInfo,a=E.selectList;return"all"===e?t.isSingleDirShareList:1===a.length&&"6"===a[0].category&&"1"===a[0].isdir}function A(e){var t=E.shareInfo,a=E.selectList;return"all"===e?t.isSingleVideoShareList:1===a.length&&"1"===a[0].category}function L(){var e=E.saveList;(0,C.folderClick)({fileInfo:{path:e[0].to},pageType:"home",needRedirect:!0,needCustomSort:1})}function B(e,t){var a=E.saveList,i=E.shareInfo,n=a[0].to.split("/");if(e){var o=i.activePath.split("/");return[].concat(T(n),T(o.slice(2))).join("/")}if(t)return n.slice(0,2).join("/")}var F=a.checkIsVideoPlayPage=function(){var e=n.getCurrentViewPage().route;return/^pages\/file\/play-video\/index$/.test(e)}})),window.define("151",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFileListByPath=a.getFileListByCategory=void 0;var P=e(152);a.getFileListByCategory=function(e){var t={hasError:!1};return(0,P.categoryList)(e).then((function(e){return t.errno=e.errno,t.endTime=e.end_time,t.tipDone=e.tipDone,t.list=e.info,t})).catch((function(e){return t.hasError=!0,t}))},a.getFileListByPath=function(e){var t={hasError:!1};return(0,P.categoryListByPath)(e).then((function(e){return t.errno=e.errno,t.list=e.info,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("152",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.categoryListByPath=a.categoryList=void 0;var P=e(16),S=o();a.categoryList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.category,a=e.page,i=e.num,n=e.media,o=void 0===n?0:n,r=e.parent_path,s=S.globalData.listOrder||"time";i=i||20;var c=S.globalData.listDesc,l={api:"api/categorylist",data:{category:t,order:s,desc:c,page:a,num:i,media:o,web:1},method:"GET",clientType:32};return r&&(l.data.parent_path=r),(0,P.bdRequest)(l)},a.categoryListByPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.category,a=e.path,i={api:"api/categorylist",data:{category:t,parent_path:a,media:1,web:0},method:"GET",clientType:32};return(0,P.bdRequest)(i)}})),window.define("153",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.saveFileMonitor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;S(e,"shareTransferSuccess","shareTransferFail")},a.verifyMonitor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;S(e,"shareVerifySuccess","shareVerifyFail")},a.shareMonitor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;S(e,"shareSetSuccess","shareSetFail")};var P=a.INTERFACE_FAIL_CODE=-100;function S(e,t,a){var i=function(e){return 0===Number(e)}(e)?t:a;n.log.monitor[i].send()}})),window.define("154",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=o();a.setRootFsIdToGlobal=function(e){if(0!==e.length){var t="[";e.map((function(e,a){a&&(t+=","),t+=Number(e.fs_id)})),t+="]",P.globalData.shareInfo.rootFsIdArr=t,P.globalData.shareInfo.rootFilesNum=e.length,P.globalData.shareInfo.isSingleDirShareList=1===e.length&&"6"===e[0].category&&1==+e[0].isdir,P.globalData.shareInfo.isSingleVideoShareList=1===e.length&&"1"===e[0].category}}})),window.define("155",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getShareListParams=function(e,t,a){var i={};i=a?{shorturl:a}:{shareid:e,uk:t};return i},a.getShareDataFromUrl=function(e){if("string"!=typeof e)return!1;if(/^(https?:\/\/)?(yun|pan)\.baidu\.com\/s\/(1([a-zA-Z\d\-_]*))/.test(e)){return{shorturl:RegExp.$3}}if(S.test(e)){var t=(0,P.getUrlQuery)(e),a=t.shareid,i=t.uk,n=t.surl;return{shareid:a,uk:i,shorturl:n&&"1"+n}}return!1};var P=e(45);var S=/^(https?:\/\/)?(yun|pan)\.baidu\.com\/(share|wap)\/(link|init|shareview)((\?&?shareid=(\d*)&uk=(\d*))|(\?&?uk=(\d*)&shareid=(\d*))|(\?&?surl=([a-zA-Z\d\-_]*)))/})),window.define("157",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class"],options:{addGlobalClass:!0},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}},data:{width:"33.33%"}})})),window.define("159",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class"],options:{addGlobalClass:!0},properties:{length:{type:Number,value:2},swanIdForSystem:{type:String,value:""}},attached:function(){this.setGridItemWidth()},methods:{setGridItemWidth:function(){var e=getCurrentPages()[getCurrentPages().length-1].selectAllComponents("."+this.data.swanIdForSystem),t=100/e.length;e.forEach((function(e){e.setData({width:t+"%"})}))}},ready:function(){this.setGridItemWidth()}})})),window.define("161",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class","u-class-mask"],options:{addGlobalClass:!0},properties:{title:{type:String,value:""},showOk:{type:Boolean,value:!0},showCancel:{type:Boolean,value:!0},okText:{type:String,value:"确定"},cancelText:{type:String,value:"取消"},actions:{type:Array,value:[]},defaultBtns:{type:Boolean,value:!0},swanIdForSystem:{type:String,value:"123445"},defaultBody:{type:Boolean,value:!0}},methods:{handleClickOk:function(){this.triggerEvent("ok")},handleClickCancel:function(){this.triggerEvent("cancel")},handleClose:function(){this.triggerEvent("close")}}})})),window.define("163",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class"],options:{addGlobalClass:!0},properties:{type:{type:String,value:""},custom:{type:String,value:""},size:{type:Number,value:24},color:{type:String,value:"#000"},swanIdForSystem:{type:String,value:"123445"}}})})),window.define("165",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class"],options:{addGlobalClass:!0},properties:{type:{type:String,value:"text"},value:{type:String,optionalTypes:[String,Number]},placeholder:{type:String,value:""},disabled:{type:Boolean,value:!1},maxlength:{type:Number,value:140},title:{type:String,value:""},borderRadius:{type:Number,value:10},errorMessage:{type:String,value:""},placeholderStyle:{type:String,value:""},adjustPosition:{type:Boolean,value:!0},cursorSpacing:{type:Number,value:0},autoHeight:{type:Boolean,default:!1},showConfirmBar:{type:Boolean,default:!0},backgroundColor:{type:String,default:""},swanIdForSystem:{type:String,value:"123445"}},data:{},methods:{handleInput:function(e){this.triggerEvent("input",e.detail)},handleFocus:function(e){this.triggerEvent("focus",e.detail)},handleBlur:function(e){this.triggerEvent("blur",e.detail)},handleConfirm:function(e){this.triggerEvent("confirm",e.detail)},handleKeyboardHeightChange:function(e){this.triggerEvent("keyboardheightchange",e.detail)},handleLinechange:function(e){this.triggerEvent("linechange",e.detail)}}})})),window.define("167",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({externalClasses:["u-class"],options:{addGlobalClass:!0},properties:{type:{type:String,value:""},formType:{type:String,value:""},size:{type:String,value:"default"},inline:{type:Boolean,value:!1},long:{type:Boolean,value:!1},circle:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},loading:{type:Boolean,value:!1},openType:String,appParameter:String,hoverStopPropagation:Boolean,hoverStartTime:{type:Number,value:20},hoverStayTime:{type:Number,value:70},sessionFrom:{type:String,value:""},sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,swanIdForSystem:{type:String,value:"123445"}},methods:{handleTap:function(){if(this.disabled)return!1;this.triggerEvent("click")},bindgetuserinfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("getuserinfo",a)},bindcontact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("contact",a)},bindgetphonenumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("getphonenumber",a)},binderror:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("error",a)},bindopensetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("optnsetting",a)},bindlaunchapp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.detail,a=void 0===t?{}:t;this.triggerEvent("launchapp",a)}}})})),window.define("169",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S,D=e(170),C=(S=D)&&S.__esModule?S:{default:S},T=e(20),I=e(186);var E=r();Component({properties:{vipType:{type:String,value:""},logFrom:{type:String,value:""},thirdParty:{type:String,value:""}},data:{showAddBtn:!0,visibleMessage:!1,visibleAnswer:!1,verifyMessage:"希望可以添加你为好友~",answer:"",questionText:"",addText:"加好友",clickType:"normal",nameKey:""},observers:{logFrom:function(e,t){e!==t&&""!==e&&(this.setData({nameKey:e}),this.showAddFriend())}},lifetimes:{created:function(){var e=E.globalData.shareInfo.shortUrlType;this.setData({showAddBtn:"enterprise"!==e})},ready:function(){(0,T.checkAppLogin)(),(0,T.checkUserLogin)()}},methods:{showAddFriend:function(){var e=this,t=E.globalData,a=t.isAppLogin,i=t.loginInfo;a&&!i?(0,T.bdLogin)().then((function(t){(0,T.getUserInfo)().then((function(t){0===t.errno&&(E.globalData.loginInfo=t.login_info),e.checkShareRelation()}))})):this.checkShareRelation()},handleMessage:function(){if(o.newLog[this.data.nameKey].verifyMessageClk.send(),this.data.verifyMessage.trim()){var e={text:this.data.verifyMessage};this.setData({visibleMessage:!1,verifyMessage:""}),this.handleAddFriend(e,!1)}else o.sptoast({type:"info",duration:2e3,title:"验证信息不能为空"})},handleAnswer:function(){if(o.newLog[this.data.nameKey].answerClk.send(),this.data.answer.trim()){var e={answer:this.data.answer.replace(/(^\s*)|(\s*$)/g,"")};this.setData({visibleAnswer:!1,answer:""}),this.handleAddFriend(e,!1)}else o.sptoast({type:"info",duration:2e3,title:"答案不能为空"})},checkShareRelation:function(){var e=this,t=E.globalData.loginInfo.uk,a=E.globalData.shareInfo.uk;if(!t)return this.setData({addText:"发消息",clickType:"logout"}),void o.newLog[this.data.nameKey].showSendMessage.send({ext:{loginStatus:"logout"}});if(t!==a){var i={data:"user_list=["+a+"]"};(0,I.checkRelation)(i).then((function(t){0===t.errno&&(1==t.records[0].follow_flag?(e.setData({addText:"发消息",clickType:"sendMessage"}),o.newLog[e.data.nameKey].showSendMessage.send()):(e.setData({addText:"加好友"}),o.newLog[e.data.nameKey].showBtn.send()))}))}else this.setData({showAddBtn:!1})},handleAddFriend:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(this.data.clickType){case"verify":return void o.newLog[this.data.nameKey].verifyBtnClk.send();case"sendMessage":return o.sptoast({type:"info",title:"暂不支持，请去网盘APP进行聊天"}),void o.newLog[this.data.nameKey].sendMessageClk.send();case"logout":var i=o.getCurrentViewPage();return o.newLog[this.data.nameKey].sendMessageClk.send({ext:{loginStatus:"logout"}}),void o.navigateTo({url:"/pages/login/index?backUrl=/"+i.route+"&url="+i.options.url})}a&&o.newLog[this.data.nameKey].clkBtn.send();var n={};t.currentTarget||(n=t),o.sptoast({type:"loading",title:"加载中..."});var r=E.globalData.shareInfo.uk,s=E.globalData.loginInfo.bdstoken,c={params:"uk="+r+"&bdstoken="+s+"&type=normal&scene=0",data:C.default.stringify(n)};(0,I.addFriend)(c).then((function(t){e.dealAddFriend(t)})).catch((function(e){o.sptoasthide(),o.sptoast({type:" error",duration:2e3,title:"添加失败, 请重试"})}))},dealAddFriend:function(e){switch(o.sptoasthide(),e.errno){case 0:0===e.status?(this.setData({addText:"发消息",clickType:"sendMessage"}),o.newLog[this.data.nameKey].showSendMessage.send(),this.data.visibleAnswer&&this.setData({visibleAnswer:!1}),o.sptoast({type:"info",duration:2e3,title:"添加成功，快去网盘APP开始聊天"}),o.newLog[this.data.nameKey].addSuccess.send()):2===e.status&&(this.setData({addText:"等待验证",clickType:"verify",visibleMessage:!1}),o.sptoast({type:"info",duration:2e3,title:"验证信息已发送"}),o.newLog[this.data.nameKey].showVerifyBtn.send());break;case 2115:o.sptoast({type:"info",duration:2e3,title:"不能添加自己为好友"});break;case 2117:o.sptoast({type:"info",duration:2e3,title:"好友数超出限制了"});break;case 2124:o.sptoast({type:"info",duration:2e3,title:"添加的用户不存在"});break;case 2163:2===e.status?(this.setData({visibleMessage:!0}),o.newLog[this.data.nameKey].showVerifyMessage.send()):0===e.status&&(this.setData({questionText:e.permission.question,visibleAnswer:!0}),o.newLog[this.data.nameKey].showAnswer.send());break;case 2164:o.sptoast({type:"info",duration:2e3,title:"问题回答错误"}),o.newLog[this.data.nameKey].answerWrong.send();break;case 2165:o.sptoast({type:"info",duration:2e3,title:"对方拒绝任何人添加其为好友"}),o.newLog[this.data.nameKey].refuseAdd.send();break;case 2166:o.sptoast({type:"info",duration:2e3,title:"不能包含敏感词"});break;case 2118:o.sptoast({type:"info",duration:2e3,title:"已经是好友"});break;case-19:o.sptoast({type:"info",duration:2e3,title:"添加好友太频繁, 请稍候再试"});break;default:o.sptoast({type:"info",duration:2e3,title:"加好友太频繁，请稍后再试"})}n((function(){o.sptoasthide()}),2e3)},inputVerifyMessage:function(e){this.setData({verifyMessage:e.detail.value})},inputVerifyAnswer:function(e){this.setData({answer:e.detail.value})},closeMessage:function(){this.setData({visibleMessage:!1})},closeAnswer:function(){this.setData({visibleAnswer:!1})}}})})),window.define("170",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(171),S=e(185),D=e(184);t.exports={formats:D,parse:S,stringify:P}})),window.define("171",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(172),D=e(183),C=e(184),T=Object.prototype.hasOwnProperty,I={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},E=Array.isArray,x=Array.prototype.push,A=function(e,t){x.apply(e,E(t)?t:[t])},L=Date.prototype.toISOString,B=C.default,F={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:D.encode,encodeValuesOnly:!1,format:B,formatter:C.formatters[B],indices:!1,serializeDate:function(e){return L.call(e)},skipNulls:!1,strictNullHandling:!1},N=function e(t,a,i,n,o,r,s,c,l,p,u,d,h,g,f){var m,v=t;if(f.has(t))throw new RangeError("Cyclic object value");if("function"==typeof s?v=s(a,v):v instanceof Date?v=p(v):"comma"===i&&E(v)&&(v=D.maybeMap(v,(function(e){return e instanceof Date?p(e):e}))),null===v){if(n)return r&&!h?r(a,F.encoder,g,"key",u):a;v=""}if("string"==typeof(m=v)||"number"==typeof m||"boolean"==typeof m||"symbol"===(void 0===m?"undefined":P(m))||"bigint"==typeof m||D.isBuffer(v))return r?[d(h?a:r(a,F.encoder,g,"key",u))+"="+d(r(v,F.encoder,g,"value",u))]:[d(a)+"="+d(String(v))];var y,w=[];if(void 0===v)return w;if("comma"===i&&E(v))y=[{value:v.length>0?v.join(",")||null:void 0}];else if(E(s))y=s;else{var b=Object.keys(v);y=c?b.sort(c):b}for(var _=0;_<y.length;++_){var k=y[_],C="object"===(void 0===k?"undefined":P(k))&&void 0!==k.value?k.value:v[k];if(!o||null!==C){var T=E(v)?"function"==typeof i?i(a,k):a:a+(l?"."+k:"["+k+"]");f.set(t,!0);var I=S();A(w,e(C,T,i,n,o,r,s,c,l,p,u,d,h,g,I))}}return w};t.exports=function(e,t){var a,i=e,n=function(e){if(!e)return F;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||F.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=C.default;if(void 0!==e.format){if(!T.call(C.formatters,e.format))throw new TypeError("Unknown format option provided.");a=e.format}var i=C.formatters[a],n=F.filter;return("function"==typeof e.filter||E(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:F.addQueryPrefix,allowDots:void 0===e.allowDots?F.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:F.charsetSentinel,delimiter:void 0===e.delimiter?F.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:F.encode,encoder:"function"==typeof e.encoder?e.encoder:F.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:F.encodeValuesOnly,filter:n,format:a,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:F.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:F.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:F.strictNullHandling}}(t);"function"==typeof n.filter?i=(0,n.filter)("",i):E(n.filter)&&(a=n.filter);var o,r=[];if("object"!==(void 0===i?"undefined":P(i))||null===i)return"";o=t&&t.arrayFormat in I?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=I[o];a||(a=Object.keys(i)),n.sort&&a.sort(n.sort);for(var c=S(),l=0;l<a.length;++l){var p=a[l];n.skipNulls&&null===i[p]||A(r,N(i[p],p,s,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var u=r.join(n.delimiter),d=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}})),window.define("172",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(173),D=e(179),C=e(181),T=S("%TypeError%"),I=S("%WeakMap%",!0),E=S("%Map%",!0),x=D("WeakMap.prototype.get",!0),A=D("WeakMap.prototype.set",!0),L=D("WeakMap.prototype.has",!0),B=D("Map.prototype.get",!0),F=D("Map.prototype.set",!0),N=D("Map.prototype.has",!0),O=function(e,t){for(var a,i=e;null!==(a=i.next);i=a)if(a.key===t)return i.next=a.next,a.next=e.next,e.next=a,a};t.exports=function(){var e,t,a,i={assert:function(e){if(!i.has(e))throw new T("Side channel does not contain "+C(e))},get:function(i){if(I&&i&&("object"===(void 0===i?"undefined":P(i))||"function"==typeof i)){if(e)return x(e,i)}else if(E){if(t)return B(t,i)}else if(a)return function(e,t){var a=O(e,t);return a&&a.value}(a,i)},has:function(i){if(I&&i&&("object"===(void 0===i?"undefined":P(i))||"function"==typeof i)){if(e)return L(e,i)}else if(E){if(t)return N(t,i)}else if(a)return function(e,t){return!!O(e,t)}(a,i);return!1},set:function(i,n){I&&i&&("object"===(void 0===i?"undefined":P(i))||"function"==typeof i)?(e||(e=new I),A(e,i,n)):E?(t||(t=new E),F(t,i,n)):(a||(a={key:{},next:null}),function(e,t,a){var i=O(e,t);i?i.value=a:e.next={key:t,next:e.next,value:a}}(a,i,n))}};return i}})),window.define("173",(function(e,t,a,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=SyntaxError,C=i,T=TypeError,I=function(e){try{return C('"use strict"; return ('+e+").constructor;")()}catch(e){}},E=Object.getOwnPropertyDescriptor;if(E)try{E({},"")}catch(e){E=null}var x=function(){throw new T},A=E?function(){try{return x}catch(e){try{return E(arguments,"callee").get}catch(e){return x}}}():x,L=e(174)(),B=Object.getPrototypeOf||function(e){return e.__proto__},F={},N="undefined"==typeof Uint8Array?void 0:B(Uint8Array),O={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":L?B([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":F,"%AsyncGenerator%":F,"%AsyncGeneratorFunction%":F,"%AsyncIteratorPrototype%":F,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":F,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L?B(B([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":S(JSON))?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&L?B((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&L?B((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L?B(""[Symbol.iterator]()):void 0,"%Symbol%":L?Symbol:void 0,"%SyntaxError%":D,"%ThrowTypeError%":A,"%TypedArray%":N,"%TypeError%":T,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},R={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=e(176),M=e(178),j=U.call(i.call,Array.prototype.concat),z=U.call(i.apply,Array.prototype.splice),V=U.call(i.call,String.prototype.replace),H=U.call(i.call,String.prototype.slice),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,G=function(e){var t=H(e,0,1),a=H(e,-1);if("%"===t&&"%"!==a)throw new D("invalid intrinsic syntax, expected closing `%`");if("%"===a&&"%"!==t)throw new D("invalid intrinsic syntax, expected opening `%`");var i=[];return V(e,W,(function(e,t,a,n){i[i.length]=a?V(n,q,"$1"):t||e})),i},J=function(e,t){var a,i=e;if(M(R,i)&&(i="%"+(a=R[i])[0]+"%"),M(O,i)){var n=O[i];if(n===F&&(n=function e(t){var a;if("%AsyncFunction%"===t)a=I("async function () {}");else if("%GeneratorFunction%"===t)a=I("function* () {}");else if("%AsyncGeneratorFunction%"===t)a=I("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(a=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&(a=B(n.prototype))}return O[t]=a,a}(i)),void 0===n&&!t)throw new T("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:i,value:n}}throw new D("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new T('"allowMissing" argument must be a boolean');var a=G(e),i=a.length>0?a[0]:"",n=J("%"+i+"%",t),o=n.name,r=n.value,s=!1,c=n.alias;c&&(i=c[0],z(a,j([0,1],c)));for(var l=1,p=!0;l<a.length;l+=1){var u=a[l],d=H(u,0,1),h=H(u,-1);if(('"'===d||"'"===d||"`"===d||'"'===h||"'"===h||"`"===h)&&d!==h)throw new D("property names with quotes must have matching quotes");if("constructor"!==u&&p||(s=!0),M(O,o="%"+(i+="."+u)+"%"))r=O[o];else if(null!=r){if(!(u in r)){if(!t)throw new T("base intrinsic for "+e+" exists, but the property is not available.");return}if(E&&l+1>=a.length){var g=E(r,u);r=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:r[u]}else p=M(r,u),r=r[u];p&&!s&&(O[o]=r)}}return r}})),window.define("174",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S="undefined"!=typeof Symbol&&Symbol,D=e(175);t.exports=function(){return"function"==typeof S&&("function"==typeof Symbol&&("symbol"===P(S("foo"))&&("symbol"===P(Symbol("bar"))&&D())))}})),window.define("175",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===P(Symbol.iterator))return!0;var e={},t=Symbol("test"),a=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}})),window.define("176",(function(e,t,a,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(177);t.exports=i.prototype.bind||S})),window.define("177",(function(e,t,a,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,C=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==C.call(t))throw new TypeError(S+t);for(var a,n=D.call(arguments,1),o=function(){if(this instanceof a){var i=t.apply(this,n.concat(D.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(D.call(arguments)))},r=Math.max(0,t.length-n.length),s=[],c=0;c<r;c++)s.push("$"+c);if(a=i("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,a.prototype=new l,l.prototype=null}return a}})),window.define("178",(function(e,t,a,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(176);t.exports=S.call(i.call,Object.prototype.hasOwnProperty)})),window.define("179",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(173),S=e(180),D=S(P("String.prototype.indexOf"));t.exports=function(e,t){var a=P(e,!!t);return"function"==typeof a&&D(e,".prototype.")>-1?S(a):a}})),window.define("180",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(176),S=e(173),D=S("%Function.prototype.apply%"),C=S("%Function.prototype.call%"),T=S("%Reflect.apply%",!0)||P.call(C,D),I=S("%Object.getOwnPropertyDescriptor%",!0),E=S("%Object.defineProperty%",!0),x=S("%Math.max%");if(E)try{E({},"a",{value:1})}catch(e){E=null}t.exports=function(e){var t=T(P,C,arguments);if(I&&E){var a=I(t,"length");a.configurable&&E(t,"length",{value:1+x(0,e.length-(arguments.length-1))})}return t};var A=function(){return T(P,D,arguments)};E?E(t.exports,"apply",{value:A}):t.exports.apply=A})),window.define("181",(function(e,t,a,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D="function"==typeof Map&&Map.prototype,C=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,T=D&&C&&"function"==typeof C.get?C.get:null,I=D&&Map.prototype.forEach,E="function"==typeof Set&&Set.prototype,x=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,A=E&&x&&"function"==typeof x.get?x.get:null,L=E&&Set.prototype.forEach,B="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,F="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,N="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,R=Object.prototype.toString,U=i.prototype.toString,M=String.prototype.match,j="function"==typeof BigInt?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,V="function"==typeof Symbol&&"symbol"===S(Symbol.iterator)?Symbol.prototype.toString:null,H="function"==typeof Symbol&&"object"===S(Symbol.iterator),W=Object.prototype.propertyIsEnumerable,q=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),G=e(182).custom,J=G&&$(G)?G:null,K="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function Q(e,t,a){var i="double"===(a.quoteStyle||t)?'"':"'";return i+e+i}function Y(e){return String(e).replace(/"/g,"&quot;")}function X(e){return!("[object Array]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}function $(e){if(H)return e&&"object"===(void 0===e?"undefined":S(e))&&e instanceof Symbol;if("symbol"===(void 0===e?"undefined":S(e)))return!0;if(!e||"object"!==(void 0===e?"undefined":S(e))||!V)return!1;try{return V.call(e),!0}catch(e){}return!1}t.exports=function e(t,a,i,n){var o=a||{};if(ee(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var r=!ee(o,"customInspect")||o.customInspect;if("boolean"!=typeof r&&"symbol"!==r)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,a){if(t.length>a.maxStringLength){var i=t.length-a.maxStringLength,n="... "+i+" more character"+(i>1?"s":"");return e(t.slice(0,a.maxStringLength),a)+n}return Q(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,ie),"single",a)}(t,o);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var s=void 0===o.depth?5:o.depth;if(void 0===i&&(i=0),i>=s&&s>0&&"object"===(void 0===t?"undefined":S(t)))return X(t)?"[Array]":"[Object]";var c=function(e,t){var a;if("\t"===e.indent)a="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;a=Array(e.indent+1).join(" ")}return{base:a,prev:Array(t+1).join(a)}}(o,i);if(void 0===n)n=[];else if(ae(n,t)>=0)return"[Circular]";function l(t,a,r){if(a&&(n=n.slice()).push(a),r){var s={depth:o.depth};return ee(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,i+1,n)}return e(t,o,i+1,n)}if("function"==typeof t){var p=function(e){if(e.name)return e.name;var t=M.call(U.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),u=ce(t,l);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(u.length>0?" { "+u.join(", ")+" }":"")}if($(t)){var d=H?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(t);return"object"!==(void 0===t?"undefined":S(t))||H?d:ne(d)}if(function(e){if(!e||"object"!==(void 0===e?"undefined":S(e)))return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var h="<"+String(t.nodeName).toLowerCase(),g=t.attributes||[],f=0;f<g.length;f++)h+=" "+g[f].name+"="+Q(Y(g[f].value),"double",o);return h+=">",t.childNodes&&t.childNodes.length&&(h+="..."),h+="</"+String(t.nodeName).toLowerCase()+">"}if(X(t)){if(0===t.length)return"[]";var m=ce(t,l);return c&&!function(e){for(var t=0;t<e.length;t++)if(ae(e[t],"\n")>=0)return!1;return!0}(m)?"["+se(m,c)+"]":"[ "+m.join(", ")+" ]"}if(function(e){return!("[object Error]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t)){var v=ce(t,l);return 0===v.length?"["+String(t)+"]":"{ ["+String(t)+"] "+v.join(", ")+" }"}if("object"===(void 0===t?"undefined":S(t))&&r){if(J&&"function"==typeof t[J])return t[J]();if("symbol"!==r&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!T||!e||"object"!==(void 0===e?"undefined":S(e)))return!1;try{T.call(e);try{A.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var y=[];return I.call(t,(function(e,a){y.push(l(a,t,!0)+" => "+l(e,t))})),re("Map",T.call(t),y,c)}if(function(e){if(!A||!e||"object"!==(void 0===e?"undefined":S(e)))return!1;try{A.call(e);try{T.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var w=[];return L.call(t,(function(e){w.push(l(e,t))})),re("Set",A.call(t),w,c)}if(function(e){if(!B||!e||"object"!==(void 0===e?"undefined":S(e)))return!1;try{B.call(e,B);try{F.call(e,F)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return oe("WeakMap");if(function(e){if(!F||!e||"object"!==(void 0===e?"undefined":S(e)))return!1;try{F.call(e,F);try{B.call(e,B)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return oe("WeakSet");if(function(e){if(!N||!e||"object"!==(void 0===e?"undefined":S(e)))return!1;try{return N.call(e),!0}catch(e){}return!1}(t))return oe("WeakRef");if(function(e){return!("[object Number]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t))return ne(l(Number(t)));if(function(e){if(!e||"object"!==(void 0===e?"undefined":S(e))||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}(t))return ne(l(j.call(t)));if(function(e){return!("[object Boolean]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t))return ne(O.call(t));if(function(e){return!("[object String]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t))return ne(l(String(t)));if(!function(e){return!("[object Date]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t)&&!function(e){return!("[object RegExp]"!==te(e)||K&&"object"===(void 0===e?"undefined":S(e))&&K in e)}(t)){var b=ce(t,l),_=q?q(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",P=!_&&K&&Object(t)===t&&K in t?te(t).slice(8,-1):k?"Object":"",D=(_||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(P||k?"["+[].concat(P||[],k||[]).join(": ")+"] ":"");return 0===b.length?D+"{}":c?D+"{"+se(b,c)+"}":D+"{ "+b.join(", ")+" }"}return String(t)};var Z=Object.prototype.hasOwnProperty||function(e){return e in this};function ee(e,t){return Z.call(e,t)}function te(e){return R.call(e)}function ae(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1}function ie(e){var t=e.charCodeAt(0),a={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return a?"\\"+a:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function ne(e){return"Object("+e+")"}function oe(e){return e+" { ? }"}function re(e,t,a,i){return e+" ("+t+") {"+(i?se(a,i):a.join(", "))+"}"}function se(e,t){if(0===e.length)return"";var a="\n"+t.prev+t.base;return a+e.join(","+a)+"\n"+t.prev}function ce(e,t){var a=X(e),i=[];if(a){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=ee(e,n)?t(e[n],e):""}var o,r="function"==typeof z?z(e):[];if(H){o={};for(var s=0;s<r.length;s++)o["$"+r[s]]=r[s]}for(var c in e)ee(e,c)&&(a&&String(Number(c))===c&&c<e.length||H&&o["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?i.push(t(c,e)+": "+t(e[c],e)):i.push(c+": "+t(e[c],e))));if("function"==typeof z)for(var l=0;l<r.length;l++)W.call(e,r[l])&&i.push("["+t(r[l])+"]: "+t(e[r[l]],e));return i}})),window.define("undefined",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){})),window.define("183",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(184),D=Object.prototype.hasOwnProperty,C=Array.isArray,T=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),I=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(a[i]=e[i]);return a};t.exports={arrayToObject:I,assign:function(e,t){return Object.keys(t).reduce((function(e,a){return e[a]=t[a],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],r=Object.keys(o),s=0;s<r.length;++s){var c=r[s],l=o[c];"object"===(void 0===l?"undefined":P(l))&&null!==l&&-1===a.indexOf(l)&&(t.push({obj:o,prop:c}),a.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),a=t.obj[t.prop];if(C(a)){for(var i=[],n=0;n<a.length;++n)void 0!==a[n]&&i.push(a[n]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,a){var i=e.replace(/\+/g," ");if("iso-8859-1"===a)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,a,i,n){if(0===e.length)return e;var o=e;if("symbol"===(void 0===e?"undefined":P(e))?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===a)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var r="",s=0;s<o.length;++s){var c=o.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||n===S.RFC1738&&(40===c||41===c)?r+=o.charAt(s):c<128?r+=T[c]:c<2048?r+=T[192|c>>6]+T[128|63&c]:c<55296||c>=57344?r+=T[224|c>>12]+T[128|c>>6&63]+T[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(s)),r+=T[240|c>>18]+T[128|c>>12&63]+T[128|c>>6&63]+T[128|63&c])}return r},isBuffer:function(e){return!(!e||"object"!==(void 0===e?"undefined":P(e)))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(C(e)){for(var a=[],i=0;i<e.length;i+=1)a.push(t(e[i]));return a}return t(e)},merge:function e(t,a,i){if(!a)return t;if("object"!==(void 0===a?"undefined":P(a))){if(C(t))t.push(a);else{if(!t||"object"!==(void 0===t?"undefined":P(t)))return[t,a];(i&&(i.plainObjects||i.allowPrototypes)||!D.call(Object.prototype,a))&&(t[a]=!0)}return t}if(!t||"object"!==(void 0===t?"undefined":P(t)))return[t].concat(a);var n=t;return C(t)&&!C(a)&&(n=I(t,i)),C(t)&&C(a)?(a.forEach((function(a,n){if(D.call(t,n)){var o=t[n];o&&"object"===(void 0===o?"undefined":P(o))&&a&&"object"===(void 0===a?"undefined":P(a))?t[n]=e(o,a,i):t.push(a)}else t[n]=a})),t):Object.keys(a).reduce((function(t,n){var o=a[n];return D.call(t,n)?t[n]=e(t[n],o,i):t[n]=o,t}),n)}}})),window.define("184",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=String.prototype.replace,S=/%20/g,D="RFC1738",C="RFC3986";t.exports={default:C,formatters:{RFC1738:function(e){return P.call(e,S,"+")},RFC3986:function(e){return String(e)}},RFC1738:D,RFC3986:C}})),window.define("185",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(183),S=Object.prototype.hasOwnProperty,D=Array.isArray,C={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:P.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},T=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},I=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},E=function(e,t,a,i){if(e){var n=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,r=a.depth>0&&/(\[[^[\]]*])/.exec(n),s=r?n.slice(0,r.index):n,c=[];if(s){if(!a.plainObjects&&S.call(Object.prototype,s)&&!a.allowPrototypes)return;c.push(s)}for(var l=0;a.depth>0&&null!==(r=o.exec(n))&&l<a.depth;){if(l+=1,!a.plainObjects&&S.call(Object.prototype,r[1].slice(1,-1))&&!a.allowPrototypes)return;c.push(r[1])}return r&&c.push("["+n.slice(r.index)+"]"),function(e,t,a,i){for(var n=i?t:I(t,a),o=e.length-1;o>=0;--o){var r,s=e[o];if("[]"===s&&a.parseArrays)r=[].concat(n);else{r=a.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);a.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&a.parseArrays&&l<=a.arrayLimit?(r=[])[l]=n:r[c]=n:r={0:n}}n=r}return n}(c,t,a,i)}};t.exports=function(e,t){var a=function(e){if(!e)return C;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?C.charset:e.charset;return{allowDots:void 0===e.allowDots?C.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:C.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:C.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:C.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:C.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:C.comma,decoder:"function"==typeof e.decoder?e.decoder:C.decoder,delimiter:"string"==typeof e.delimiter||P.isRegExp(e.delimiter)?e.delimiter:C.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:C.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:C.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:C.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:C.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:C.strictNullHandling}}(t);if(""===e||null==e)return a.plainObjects?Object.create(null):{};for(var i="string"==typeof e?function(e,t){var a,i={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,r=n.split(t.delimiter,o),s=-1,c=t.charset;if(t.charsetSentinel)for(a=0;a<r.length;++a)0===r[a].indexOf("utf8=")&&("utf8=%E2%9C%93"===r[a]?c="utf-8":"utf8=%26%2310003%3B"===r[a]&&(c="iso-8859-1"),s=a,a=r.length);for(a=0;a<r.length;++a)if(a!==s){var l,p,u=r[a],d=u.indexOf("]="),h=-1===d?u.indexOf("="):d+1;-1===h?(l=t.decoder(u,C.decoder,c,"key"),p=t.strictNullHandling?null:""):(l=t.decoder(u.slice(0,h),C.decoder,c,"key"),p=P.maybeMap(I(u.slice(h+1),t),(function(e){return t.decoder(e,C.decoder,c,"value")}))),p&&t.interpretNumericEntities&&"iso-8859-1"===c&&(p=T(p)),u.indexOf("[]=")>-1&&(p=D(p)?[p]:p),S.call(i,l)?i[l]=P.combine(i[l],p):i[l]=p}return i}(e,a):e,n=a.plainObjects?Object.create(null):{},o=Object.keys(i),r=0;r<o.length;++r){var s=o[r],c=E(s,i[s],a,"string"==typeof e);n=P.merge(n,c,a)}return!0===a.allowSparse?n:P.compact(n)}})),window.define("186",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.postVerifyCode=a.getVerifyCode=a.addFriend=a.checkRelation=void 0;var P=e(16);a.checkRelation=function(e){var t={api:"mbox/relation/check",method:"POST",clientType:32,data:e.data};return(0,P.bdRequest)(t)},a.addFriend=function(e){var t={api:"mbox/relation/addfriend?"+e.params,method:"POST",clientType:32,data:e.data};return(0,P.bdRequest)(t)},a.getVerifyCode=function(e){var t={api:"api/vcode/v2/get?"+e,method:"GET",clientType:32};return(0,P.bdRequest)(t)},a.postVerifyCode=function(e){var t={api:"api/vcode/v2/verify",method:"GET",clientType:32,options:e};return(0,P.bdRequest)(t)}})),window.define("188",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{showMemberLevel:{type:Boolean,value:!1},memberType:{type:Number,value:0},memberLevel:{type:Number,value:0},historyLevel:{type:Number,value:0},historyType:{type:Number,value:0}},data:{},attached:function(){},detached:function(){},observers:{"memberType, memberLevel, historyLevel, historyType":function(e,t,a,i){var n="icon";switch(e){case 1:case 2:n+="-"+e+"-"+t;break;default:n+=0!==i?"-history-"+i+"-"+a:"-ordinary"}this.setData({formatClass:n})}}})})),window.define("190",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{avatorImg:{type:String,value:""},width:{type:Number,value:98},height:{type:Number,value:98},vipType:{type:String,value:""},borderColor:{type:String,value:"#fff"}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("192",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(133);o();Component({properties:{pageReady:{type:Boolean,value:!1},showUser:{type:Boolean,value:!1},shareInfo:{type:Object,value:{}},isThird:{type:Boolean,value:!1},shareUk:{type:String,value:""},memberType:{type:Number,value:0},memberLevel:{type:Number,value:0},svip10Id:{type:Number,value:0},sourceFrom:{type:String,value:""}},data:{tipTxt:"暂无签名",requestOnceFlag:!1},observers:{shareUk:function(e){var t=this;if(e&&!this.data.requestOnceFlag){var a={query_uk:e};try{(0,P.getUkInfo)(a).then((function(e){t.setData({tipTxt:e.user_info&&e.user_info.intro||"暂无签名"}),0===Number(e.errno)&&t.setData({requestOnceFlag:!0})}))}catch(e){console.log("GET_UKINFO_ERROR: ",e)}}}},lifetimes:{created:function(){this.data.isThird&&this.setData({tipTxt:"来自"})},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("194",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(20),S=e(149),D=e(8),C={4:"转存出错了，请稍后重试","-30":"文件已存在","-31":"转存出错了，请稍后重试","-32":"空间不足，转存失败","-33":"所选文件数量超出上限，无法保存",111:"当前有其他保存任务正在进行，请稍后重试",120:"所选文件数量超出上限，无法保存",130:"所选文件数量超出上限，无法保存",31061:"文件已存在",31069:"转存出错了，请稍后重试",31112:"空间不足，转存失败",31075:"所选文件数量超出上限，无法保存",31171:"当前有其他保存任务正在进行，请稍后重试",31174:"所选文件数量超出上限，无法保存",31175:"所选文件数量超出上限，无法保存"},T=o();Component({behaviors:[S.shareFileSave],properties:{canSelected:{type:Boolean,value:!1},home:{type:Boolean,value:!1},count:{type:Number,value:0},fortieba:{type:Boolean,value:!1},isShow:{type:Boolean,value:!0},isHomeDir:{type:Boolean,value:!1},imgPre:{type:Boolean,value:!1},audioPre:{type:Boolean,value:!1},videoPre:{type:Boolean,value:!1},outsideSingleFile:{type:Boolean,value:!1},outsidePre:{type:Boolean,value:!1},thirdParty:{type:String,value:""}},data:{sameUk:!1,showConfirm:!1,isIpx:T.globalData.isIpx,saving:!1,mySourceUrl:"/pages/home/index?path=/我的资源&pageType=outsiteChainFileList",myHomeUrl:"/pages/home/index?path=",loginTask:"",btnsType:"share",illegalFolderReg:null,saveType:!1,schema:"",limitShare:!1,isAndroid:!1,hasApp:!1},lifetimes:{created:function(){},attached:function(){},ready:function(){this.bottomConfirm=this.selectComponent("#outBottomConfirm"),this.initLogin();var e=T.globalData,t=e.shorturl,a=e.shareInfo,i=(a=void 0===a?{}:a).pwd,n=(0,D.makeShareLinkSchema)(t,i);this.setData({schema:n,limitShare:T.globalData.limitShare,isAndroid:"android"===T.globalData.systemInfo.system4Fe,hasApp:T.globalData.hasInstalledApp})},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{doShortUrl:function(e){T.globalData.limitShare||((0,P.checkAppLogin)(),this.data.isHomeDir?n.log.outsiteChainFileList.shareClick.send({from:"isHomeDir"}):this.data.audioPre?n.log.outsiteChainFileList.shareClick.send({from:"audioPre"}):this.data.videoPre?(this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"repeatShareClk"}),n.log.outsiteChainFileList.shareClick.send({from:"videoPre"})):this.data.imgPre?n.log.outsiteChainFileList.shareClick.send({from:"imgPre"}):n.log.outsiteChainFileList.shareClick.send(),this.setData({btnsType:"share"}),this.bottomConfirm.show({type:"share"}))},initLogin:function(){var e=this;(0,P.checkAppLogin)(),T.globalData.isAppLogin&&(this.data.loginTask||(this.data.loginTask=(0,P.bdLogin)().then((function(t){(0,P.getUserInfo)().then((function(t){0===t.errno&&(T.globalData.loginInfo=t.login_info,e.checkUser())})).catch((function(e){console.log(e)}))}))))},saveAll:function(){this.data.thirdParty&&n.log.outsiteChainShareCode.thirdShareSave.send({from:this.data.thirdParty}),this.data.saving||(this.data.audioPre||this.data.imgPre?(this.preSaveCheck(),n.log.save.saveBtnClick.send({from:"isDetail"}),this.data.audioPre?n.log.save.saveBtnClick.send({from:"audioPre"}):this.data.videoPre?(this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"savePanClk"}),n.log.save.saveBtnClick.send({from:"videoPre"})):n.log.save.saveBtnClick.send({from:"imgPre"})):(this.setData({saveType:"all"}),this.preSaveCheck(),this.data.videoPre&&this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"savePanClk"}),n.log.save.saveBtnClick.send({from:"ishome"})),this.data.limitShare&&n.log.limitShare.limitTransSave.send())},selectSave:function(){this.data.thirdParty&&n.log.outsiteChainShareCode.thirdShareSave.send({from:this.data.thirdParty}),this.data.saving||(this.setData({saveType:""}),this.preSaveCheck(),n.log.save.saveBtnClick.send({from:"selectsave"}),this.data.limitShare&&n.log.limitShare.limitTransSave.send())},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,o=t.content,r=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn,p=t.title,u=t.contents;n.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:o,confirmText:r,showBtn:l,title:p,contents:u})},toHome:function(){n.navigateTo({url:this.data.myHomeUrl})},initUrl:function(){this.setData({mySourceUrl:"/pages/home/index?path=/我的资源&pageType="+T.globalData.currentPageType})},openMySource:function(){n.navigateTo({url:this.data.mySourceUrl})},outsideCallNative:function(){!this.data.isAndroid||this.data.hasApp?(n.log.openApp.outSidePage.send(),this.triggerEvent("outsideCallNative")):n.navigateTo({url:"/pages/download-page/index"})},launchError:function(e){n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:T&&T.globalData.systemInfo.system4Fe},(0,D.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:T&&T.globalData.isUserLogin?"bd":""}))},showAudioPreview:function(e){var t={showBox:e.showBox};this.triggerEvent("showAudioPreview",t)},popupclose:function(){this.triggerEvent("popupclose")},popupopen:function(){this.triggerEvent("popupopen")},downLoad:function(){this.triggerEvent("downLoad")},dealSaveError:function(e,t,a,i){var o=this,r={outSaveMaxFileAndGiveGuide:function(){a.canGuid?o.dealSystem()?(t.errortips="文件数超出"+a.errorFileNum+"无法保存",t.limitStatus=a,o.triggerEvent("dealVipCard",t),n.log.vipGuide.limitNumShow.send()):t.limitStatus+""=="1"?o.vipDialog():o.svipDialog():n.sptoast({type:"info",title:i.show_msg||C[i.errno]})},outSaveMaxFile:function(){a.canGuid?(t.errortips="文件数超出"+a.errorFileNum+"无法保存",t.limitStatus=a,o.triggerEvent("dealVipCard",t),n.log.vipGuide.limitNumShow.send()):n.sptoast({type:"info",title:i.show_msg||C[i.errno]})},notEnoughSpace:function(){o.dealSystem()?(o.dealOuterSpace(t),n.log.vipGuide.noSpaceShow.send()):n.sptoast({type:"info",title:i.show_msg||C[i.errno]})},saveError:function(){n.sptoast({type:"info",title:i.show_msg||C[i.errno]||"保存失败，请稍后再试"})},otherError:function(){T.globalData.closePop=!0,i.tipDone||n.sptoast({type:"info",title:i.show_msg||C[i.errno]||"保存失败，请稍后再试"}),n.log.save.transferFail.send({from:i.errno}),o.data.limitShare&&(n.log.limitShare.limitTransSaveFail.send(),n.log.limitShare.limitTransSaveFailReason.send())}};r[e]&&r[e]()},showToast:function(e){n.sptoast(e)},dealOuterSpace:function(e){T.globalData.quotaSize.total/1024/1024/1024/1024>=5?n.sptoast({type:"info",title:"空间不足，清理空间后再进行保存"}):(e.errortips="网盘容量不足",this.triggerEvent("dealVipCard",e))},dealSystem:function(){return!new RegExp("ios","gi").test(T.globalData.systemInfo.system)},vipDialog:function(){this.startDialog((function(e){e.confirm&&n.log.save.transferFailOpenApp.send()}),{showCancel:!0,showConfirm:!1,showLogin:!0,showBtn:!0,cancelText:"取消",contents:["非会员支持一次性转存3000以内文件，请升级会员后重试，或打开百度网盘APP转存。"],confirmText:"确认",title:"超出保存数量限制"})},svipDialog:function(){this.startDialog((function(e){e.confirm&&n.log.save.transferFailOpenApp.send()}),{showCancel:!0,showConfirm:!1,showLogin:!0,showBtn:!0,cancelText:"取消",contents:["开通超级会员可将转存文件数提至5万个，请升级超级会员后重试，或打开百度网盘APP转存。"],confirmText:"确认",title:"超出保存数量限制"})}}})})),window.define("196",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{},data:{showDialog:!1,resMsg:"",tips:"",btnTxt:"",status:0},ready:function(){},pageLifetimes:{show:function(){},hide:function(){}},methods:{initDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.showDialog,a=e.resMsg,i=e.tips,n=e.btnTxt;this.setData({showDialog:t,resMsg:a,tips:i,btnTxt:n,status:0})},reportSuccess:function(){0===this.data.status?(n.log.getUrlLink.getUrlLinkStart.send(),this.setData({resMsg:"通知开启成功，等待分享更新吧",tips:"",btnTxt:"好的",status:1}),n.log.getUrlLink.getUrlLinkConfirm.send()):this.close()},close:function(){this.setData({status:2,showDialog:!1})}}})})),window.define("198",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=e(199),D=o();Component({properties:{popupText:{type:String,default:""},savedDir:{type:String,default:"/我的资源"}},data:{saveNum:0,pageRootFilesNum:0,schema:"",isIpx:D.globalData.isIpx,isAndroid:!1,hasApp:!1,mySourceUrl:"/pages/home/index?path=",getRightsStatus:S.FAIL,shareRetailPanCode:"",showShareRetailBanner:!1,showSavedDir:"我的资源"},ready:function(){this.initProps(),this.makeScheme(),this.setData({isAndroid:"android"===D.globalData.systemInfo.system4Fe,hasApp:D.globalData.hasInstalledApp}),n.newLog.videoPlayRelate.promptForSuccessfulSave.send({ext:{from:D.globalData.currentPageType}}),this.checkFxUserType()},pageLifetimes:{show:function(){this.makeScheme()},hide:function(){}},methods:{makeScheme:function(){var e=encodeURI(this.properties.savedDir+"/ "),t=D.globalData.loginInfo.uk,a=(0,P.makeSchema)("MYFILE",{uk:t,path:e,behavior:n.ENV.fileTypeMap.MYFILE||"app_open",isSaved:"home"===D.globalData.processPage?"yes":"no",hasPanCode:"no"});console.log(a),this.setData({schema:a})},initProps:function(){var e=this.properties.savedDir,t=new RegExp(/^\/{1}/);e&&t.test(e)&&this.setData({showSavedDir:e.replace(t,"")}),this.setData({saveNum:D.globalData.shareInfo.saveNum})},close:function(){n.log.openApp.closePopup.send(),n.log.popup.closePopup.send(),D.globalData.closePop=!0,this.triggerEvent("popupclose")},launchError:function(e){console.log("open app error：",e),n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,P.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:D&&D.globalData.isUserLogin?"bd":""}))},openApp:function(){if(this.data.isAndroid&&!this.data.hasApp)return n.navigateTo({url:"/pages/download-page/index"}),void this.close();n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,P.getSchemaParam)(this.data.schema),{isSuccess:"none",userType:D&&D.globalData.isUserLogin?"bd":""})),n.log.save.saveSuccessOpenApp.send({from:D.globalData.currentPageType}),n.log.popup.clickViewInApp.send({from:D.globalData.currentPageType}),this.triggerEvent("openApp",{}),this.close()},openResource:function(){n.newLog.videoPlayRelate.myResourcesInPromptForSuccess.send({ext:{from:D.globalData.currentPageType}}),n.log.openApp.closePopup.send({from:D.globalData.currentPageType}),n.log.popup.closePopup.send({from:D.globalData.currentPageType}),D.globalData.closePop=!0,n.redirectTo({url:""+this.data.mySourceUrl+this.properties.savedDir+"&pageType="+D.globalData.currentPageType})},checkFxUserType:function(){var e=this;(0,S.getCheckFxUserFn)().then((function(t){var a=t.isFxUser,i=t.status,n=t.panCode,o=e.checkShowShareRetailBanner({getRightsStatus:i,shareRetailPanCode:n});e.setData({isFxUser:a,getRightsStatus:i,shareRetailPanCode:n,showShareRetailBanner:o})}))},receiveRedEnvelopes:function(){var e=D.globalData,t=(0,P.checkIsIos)(),a=this.data,i=a.shareRetailPanCode,o=a.isFxUser,r=void 0,s=void 0;t?(r="请长按复制下方链接并打开浏览器查看",s="https://pan.baidu.com/wap/buy/center?"+("from="+S.SHARE_RETAIL_PLATFORM+"&activitab=svip&loginUk="+e.loginInfo.uk+"&isCheckH5Uk=true")):(r="请长按复制下方盘口令并打开百度网盘APP收银台直接购买",s="#"+i+"#");n.showDialog({title:r,content:s,showCancel:!1,showConfirm:!0,confirmText:"确定",showBtn:!0}),n.newLog.shareRetail.retailSuccessDistributionActive.send({from:o?"isFxUser":"isNormalUser"})},checkShowShareRetailBanner:function(e){var t=e.shareRetailPanCode,a=e.getRightsStatus,i=!!(0,P.checkIsIos)()||t;return a===S.SUCCESS&&i}}})})),window.define("199",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getCheckFxUserFn=a.SHARE_RETAIL_PLATFORM=a.POPUP_DISPLAY_TIME=a.PADDING=a.FAIL=a.SUCCESS=void 0;a.getCheckFxUserFn=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,a,i,o,r,s,c,l,p,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.globalData,a=t.shareInfo.uk,e.next=4,(0,P.getCheckFxUserData)(a);case 4:return i=e.sent,o=i.errno,r=i.isFxUser,s=i.status,o?n.newLog.shareRetail.shareRetailCheckUserType.send({from:"error"}):s===C?n.newLog.shareRetail.shareRetailCheckUserType.send({from:"success"}):s===T&&n.newLog.shareRetail.shareRetailCheckUserType.send({from:"error"}),e.next=11,x(r);case 11:if(c=e.sent,(l=c.status)!==T){e.next=15;break}return e.abrupt("return",{status:l});case 15:if(p="",!(0,S.checkIsAndroid)()){e.next=22;break}return u="from="+I+"&activitab=svip&loginUk="+D.globalData.uk+"&isCheckH5Uk=true",d="bdnetdisk://n/action.COMMON_H5?url="+encodeURIComponent(E+"?"+u),e.next=21,(0,P.setPcodeData)(d);case 21:p=e.sent;case 22:return e.abrupt("return",{status:l,isFxUser:r,panCode:p});case 23:case"end":return e.stop()}}),e,this)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}();a.getRightsDatafn=x;var P=e(200),S=e(8);var D=o(),C=a.SUCCESS="success",T=a.FAIL="fall",I=(a.PADDING="padding",a.POPUP_DISPLAY_TIME=3e4,a.SHARE_RETAIL_PLATFORM="swansave"),E="https://pan.baidu.com/wap/vip/user";function x(e){var t=D.globalData.shareInfo||{},a=t.uk,i=t.shareId;return a&&i?(0,P.getRightsData)(a,i).then((function(t){var a=t.status,i=t.errno;return a===C?n.newLog.shareRetail.shareRetailGetSuccess.send({from:e?"isFxUser":"isNormalUser"}):70006===i?n.newLog.shareRetail.shareRetailGetError.send({from:"70006"}):n.newLog.shareRetail.shareRetailGetError.send({from:e?"isFxUser":"isNormalUser"}),{isFxUser:e,status:a}})).catch((function(){return n.newLog.shareRetail.shareRetailGetError.send({from:e?"isFxUser":"isNormalUser"}),{isFxUser:e,status:T}})):Promise.resolve({status:T})}})),window.define("200",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getCheckFxUserData=function(e){return(0,P.checkFxUser)(e).then((function(e){var t=e.errno,a=e.data,i=!1,n=S.FAIL;return a&&0===t&&(i=a.is_sign,n=S.SUCCESS),{isFxUser:i,status:n}})).catch((function(){return{error:!0,isFxUser:!1}}))},a.getRightsData=function(e,t){return(0,P.getRights)(e,t).then((function(e){var t=(e||{}).errno,a=S.FAIL;return 0!==t&&70005!==t||(a=S.SUCCESS),{status:a,errno:t}})).catch((function(){return{status:S.FAIL}}))},a.setPcodeData=function(e){return(0,P.setPcode)(e).then((function(e){var t=e||{},a=t.errno,i=t.data;return 0===a&&i&&i.pcode?i.pcode:""})).catch((function(){return""}))};var P=e(201),S=e(199)})),window.define("201",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.checkFxUser=function(e){return(0,D.bdRequest)({api:"rest/2.0/xpan/fx/user?method=checkuser",data:{fx_uk:e,bussid:10},method:"GET"})},a.getRights=function(e,t){var a=(new Date).getTime(),i="10"+a+"wwtBgEbUKS";return(0,D.bdRequest)({api:"rest/2.0/xpan/fx/product?method=obtain",data:{fx_uk:e,scene_id:t,bussid:10,scene_type:0,timestamp:a,sign:(0,S.hex_md5)(i)},method:"GET"})},a.setPcode=function(e){var t={mg_appid:10010,mg_ak:"weixin",mg_type:C(e),pdata:e,need_uk:0,pdata_format:"schema"};e&&(t.pdata=e+"&logargs="+(0,P.formatLogargs)("1025652b_1025652c"));return(0,D.bdRequest)({api:"api/mg/pcode/set",data:t,method:"GET"})};var P=e(8),S=e(19),D=e(16);function C(e){return e.includes("AUDIO")?2:e.includes("MYPLAY")?3:e.includes("DOC")?4:e.includes("MYFILE")?5:e.includes("COMMON_H5")?11:void 0}})),window.define("203",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{isPlay:{type:Boolean,value:!1}},methods:{run:function(e,t,a){var i=2*Math.PI*a-.5*Math.PI;this.data.ctx2.arc(e,t,e-2,-.5*Math.PI,i),this.data.ctx2.setStrokeStyle("#C6C9D2"),this.data.ctx2.setLineWidth("4"),this.data.ctx2.setLineCap("butt"),this.data.ctx2.stroke(),this.data.ctx2.beginPath(),this.data.ctx2.draw()},draw:function(e){var t=this,a=n.createCanvasContext("runCanvas");t.setData({ctx2:a}),n.createSelectorQuery().select("#runCanvas").boundingClientRect((function(a){if(a){var i=parseInt(a.width/2),n=parseInt(a.height/2);t.run(i,n,e)}})).exec()},toAudioPage:function(){this.triggerEvent("toAudioPage")}}})})),window.define("205",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{},data:{isPlay:!1,currentIndex:0,audioList:[],isIpx:P.globalData.isIpx},lifetimes:{ready:function(){var e=n.getBackgroundAudioManager();this.audioPlayer=e;var t=P.globalData.playingAudioInfo.isPlayOwnAudioList?P.globalData.ownAudioList:P.globalData.audioList;this.audioPlayer.title=t[P.globalData.playingAudioInfo.currentIndex].server_filename,this.initPlayer()},detached:function(){}},pageLifetimes:{show:function(){this.initPlayer(),"outsiteChainFileList"===P.globalData.processPage&&n.log.outsitePreview.audioPreviewBdModes.send(),"home"===P.globalData.processPage&&n.log.homePreview.audioPreviewBdModes.send()},hide:function(){this.updateMsg()}},methods:{initPlayer:function(){var e=P.globalData.playingAudioInfo.isPlayOwnAudioList?P.globalData.ownAudioList:P.globalData.audioList;this.setData({isPlay:P.globalData.playingAudioInfo.isPlay,currentIndex:P.globalData.playingAudioInfo.currentIndex,audioList:e}),this.playAudio()},updateMsg:function(){this.closePlayer()},closePlayer:function(){"outsiteChainFileList"===P.globalData.processPage&&n.log.outsitePreview.audioPreviewBdModesClose.send(),"home"===P.globalData.processPage&&n.log.homePreview.audioPreviewBdModesClose.send(),this.setData({isPlay:!1}),P.globalData.playingAudioInfo.isPlay=this.data.isPlay,P.globalData.playingAudioInfo.isPlayOwnAudioList=this.data.isPlay,this.triggerEvent("closePlayer"),this.audioPlayer.pause()},audioPlay:function(){this.data.isPlay?(this.audioPlayer.pause(),"outsiteChainFileList"===P.globalData.processPage&&n.log.outsitePreview.audioPreviewBdModesStop.send(),"home"===P.globalData.processPage&&n.log.homePreview.audioPreviewBdModesStop.send()):this.audioPlayer.play()},nextPlay:function(){this.reportTime(),"outsiteChainFileList"===P.globalData.processPage&&n.log.outsitePreview.audioPreviewControlClick.send(),"home"===P.globalData.processPage&&n.log.homePreview.audioPreviewControlClick.send(),+this.data.currentIndex==this.data.audioList.length-1?this.data.currentIndex=0:this.data.currentIndex=this.data.currentIndex+1;var e=this.data.audioList[this.data.currentIndex];this.audioPlayer.src=e.dlink,this.audioPlayer.title=this.data.audioList[this.data.currentIndex].server_filename,this.playAudio()},playAudio:function(e){var t=this;this.audioPlayer.onPlay((function(){P.globalData.playingAudioInfo.startTime=Date.now(),t.setData({isPlay:!0})})),this.audioPlayer.onPause((function(e){t.reportTime(),t.setData({isPlay:!1})})),this.audioPlayer.onEnded((function(e){t.reportTime(),t.setData({isPlay:!1}),t.nextPlay()})),this.audioPlayer.onTimeUpdate((function(){if(null!==t.audioPlayer.duration&&0!==t.audioPlayer.duration&&t.selectComponent("#progress")){var e=t.audioPlayer.currentTime/t.audioPlayer.duration;t.selectComponent("#progress").draw(e)}}))},toAudioPage:function(){var e=this.data.audioList[P.globalData.playingAudioInfo.currentIndex].fs_id;this.audioPlayer.pause();var t=P.globalData.processPage,a="home"===P.globalData.processPage?"homePreview":"outsitePreview";n.navigateTo({url:"/pages/audio/index?fsId="+e+"&isFromMiniPlayer=true&pageType="+t+"&previewType="+a})},reportTime:function(){if(P.globalData.playingAudioInfo.startTime){var e=this.data.audioList[this.data.currentIndex];n.newLog.audioPlayRelate.listenTime.send({ext:{fsid:e.fs_id,file_ext:e.real_category,file_name:e.server_filename,file_size:e.originSize,file_path:e.path,file_duration:this.audioPlayer.duration,time:Date.now()-P.globalData.playingAudioInfo.startTime,scene:"home"===P.globalData.processPage?"main":"share",client:"shoubai"}}),P.globalData.playingAudioInfo.startTime=null}}}})})),window.define("207",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{},data:{fileName:"",dialogShow:!1,type:"",noticeMsg:""},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{show:function(e){this.setData({dialogShow:!0,type:e.type}),"rename"===this.data.type&&this.setData({fileName:P.globalData.selectList[0].server_filename})},hidden:function(){this.setData({dialogShow:!1,fileName:"",type:"",noticeMsg:""})},focus:function(e){console.log(e)},trim:function(e){return e.replace(/\s+/g,"")},setVal:function(e){this.data.fileName=e.detail.value},cancelCreate:function(){this.hidden()},doCreate:function(){"rename"===this.data.type?this.data.fileName.length>0?this.triggerEvent("doRename",{fileName:this.data.fileName}):this.setData({noticeMsg:"文件名不能为空"}):this.data.fileName.length>0?this.triggerEvent("doCreate",{fileName:this.data.fileName}):this.setData({noticeMsg:"文件名不能为空"})},clearName:function(){this.setData({fileName:""})},upDateNotice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.errorno;0===t?this.setData({dialogShow:!1}):-7===t?this.setData({noticeMsg:"文件名称不合法"}):-8===t?this.setData({noticeMsg:"文件或目录已存在"}):-10===t?this.setData({noticeMsg:"空间已满"}):-4===t?this.setData({noticeMsg:"已存在同名文件，请重新填写"}):this.setData({noticeMsg:"接口错误"})}}})})),window.define("209",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";e(20),e(132);var P=e(8),S=e(64),D=o();Component({properties:{canSelected:{type:Boolean,value:!1},outside:{type:Boolean,value:!1},home:{type:Boolean,value:!1},canMove:{type:Boolean,value:!1},canShare:{type:Boolean,value:!1},moveCount:{type:Number,value:0},count:{type:Number,value:0},operaing:{type:Boolean,value:!1},fortieba:{type:Boolean,value:!1},outsidePage:{type:Boolean,value:!1},isShow:{type:Boolean,value:!0},isHomeDir:{type:Boolean,value:!1},imgPre:{type:Boolean,value:!1},audioPre:{type:Boolean,value:!1},videoPre:{type:Boolean,value:!1},theme:{type:String,value:""},thirdParty:{type:String,value:""},scheme:{type:String,value:""},isShareSingleFile:{type:Boolean,value:!1},isOpenDir:{type:Boolean,value:!1},isRecentRecord:{type:Boolean,value:!1},polymerization:{type:Boolean,value:!1},pageType:{type:String,value:""}},data:{isIpx:D.globalData.isIpx,myHomeUrl:"/pages/home/index?path=/",loginTask:"",btnsType:"share",illegalFolderReg:null,saveType:!1,homeScheme:"",isAndroid:!1,hasApp:!1},lifetimes:{created:function(){this.data.illegalFolderReg=new RegExp('[\\\\/:*?"<>|]')},attached:function(){},ready:function(){this.inputDialog=this.selectComponent("#inputDialog"),this.bottomConfirm=this.selectComponent("#bottomConfirm"),this.setSchema(),this.setData({isAndroid:"android"===D.globalData.systemInfo.system4Fe,hasApp:D.globalData.hasInstalledApp})},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{setSchema:function(){var e=(0,P.makeDefultHomeSchema)();this.setData({homeScheme:e})},toHome:function(){n.navigateTo({url:this.data.myHomeUrl})},startShare:function(){this.triggerEvent("startShare")},makeShareLink:function(e){if(!this.properties.shareLink){if(e.target.id&&"select"===e.currentTarget.id){n.log.home.homeLongPressShare.send();var t=this.properties.pageType;"recentViewImgs"===t?n.newLog.photoPolymerization.shareClk.send():"recentViewVideos"===t?n.newLog.videoPolymerization.shareClk.send():n.newLog.homePage.shareClk.send()}this.triggerEvent("makeShareLink")}},clearRecord:function(e){var t=this;if(0!==D.globalData.selectList.length){var a=D.globalData.selectList.map((function(e){return e.op_id}));e&&n.newLog.homePage.clearClk.send(),(0,S.deleteRecentRecord)(JSON.stringify(a)).then((function(e){0===e.errno&&(t.triggerEvent("doClearRecord"),n.sptoast({type:"info",title:"已清除所选记录"}))}))}},openDir:function(){var e=this.properties,t=e.count,a=e.polymerization,i=e.isOpenDir;if(0!==D.globalData.selectList.length&&1===t&&!a&&i){var o=this.properties.pageType;"recentViewImgs"===o?n.newLog.photoPolymerization.openListClk.send():"recentViewVideos"===o?n.newLog.videoPolymerization.openListClk.send():n.newLog.homePage.openListClk.send(),this.triggerEvent("doOpenDir")}},deleteFile:function(){var e=this,t=this.properties.shareLink;if(0!==D.globalData.selectList.length&&!t){var a=[];if(D.globalData.selectList.forEach((function(t,i){e.data.isHomeDir&&"apps"===t.server_filename&&a.push(t)})),a.length>0)n.sptoast({type:"info",title:"apps文件夹不支持删除"});else{var i=this.properties.pageType;"recentViewImgs"===i?n.newLog.photoPolymerization.deleteClk.send():"recentViewVideos"===i?n.newLog.videoPolymerization.deleteClk.send():n.newLog.homePage.deleteClk.send(),n.log.opera.deleteclick.send();var o="";0===D.globalData.memberType?o="10天内可在百度网盘App回收站中找回已删文件":1===D.globalData.memberType?o="15天内可在百度网盘App回收站中找回已删文件":2===D.globalData.memberType&&(o="30天内可在百度网盘App回收站中找回已删文件");this.startDialog((function(t){t.confirm?(n.log.opera.confirmdelete.send(),e.properties.isRecentRecord&&e.clearRecord(!1),e.triggerEvent("doDeleteFile")):n.log.opera.canceldelete.send()}),{showCancel:!0,showConfirm:!0,showLogin:!1,showBtn:!0,cancelText:"取消",content:o,confirmText:"确认删除",title:"删除文件"})}}},moveFile:function(){var e=this;if(0!==D.globalData.selectList.length){var t=this.properties.pageType;"recentViewImgs"===t?n.newLog.photoPolymerization.moveClk.send():"recentViewVideos"===t&&n.newLog.videoPolymerization.moveClk.send();var a=[];D.globalData.selectList.forEach((function(t,i){e.data.isHomeDir&&"apps"===t.server_filename&&a.push(t)})),a.length>0?n.sptoast({type:"info",title:"apps文件夹不支持移动"}):(n.log.opera.moveclick.send(),this.triggerEvent("doMoveFile"))}},startCreate:function(){n.log.opera.createclick.send(),this.inputDialog.show({type:"create"}),this.inputDialog.clearName()},doCreate:function(e){this.triggerEvent("doCreate",{fileName:e.fileName})},doMove:function(){n.log.opera.domove.send(),this.triggerEvent("doMove")},satrtRename:function(){var e=this,t=this.properties,a=t.polymerization,i=t.shareLink;if(n.log.opera.renameclick.send(),0!==D.globalData.selectList.length&&1===this.data.count&&!a&&!i){var o=this.properties.pageType;"recentViewImgs"===o?n.newLog.photoPolymerization.renameClk.send():"recentViewVideos"===o?n.newLog.videoPolymerization.renameClk.send():n.newLog.homePage.renameClk.send();var r=[];D.globalData.selectList.forEach((function(t,a){e.data.isHomeDir&&"apps"===t.server_filename&&r.push(t)})),r.length>0?n.sptoast({type:"info",title:"apps文件夹不支持重命名"}):this.inputDialog.show({type:"rename"})}},doRename:function(e){var t=(e.fileName||"").trim();this.data.illegalFolderReg.test(t)?n.sptoast({type:"info",title:"包括非法字符"}):this.triggerEvent("doRename",{fileName:t})},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,o=t.content,r=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn,p=t.title,u=t.contents;n.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:o,confirmText:r,showBtn:l,title:p,contents:u})},initUrl:function(){this.setData({mySourceUrl:"/pages/home/index?path=/我的资源&pageType="+D.globalData.currentPageType})},showAudioPreview:function(e){var t={showBox:e.showBox};this.triggerEvent("showAudioPreview",t)},popupclose:function(){this.triggerEvent("popupclose")},popupopen:function(){this.triggerEvent("popupopen")},maskEvent:function(){},openMySource:function(){n.navigateTo({url:this.data.mySourceUrl})},doShortUrl:function(e){e.target.id&&"nothome"===e.currentTarget.id&&n.log.outsiteChainShareCode.detailPageShare.send(),n.log.share.shareClick.send(),this.bottomConfirm.show({type:"share"})},upDateNotice:function(e){this.inputDialog.upDateNotice(e)},updateDialog:function(){this.inputDialog.hidden()},showConfirm:function(e){this.bottomConfirm.show({type:"custom"},e)},tiebaShare:function(){n.log.tieba.homeShareTiebaClick.send(),this.triggerEvent("tiebaShare")},doShareTieba:function(){this.triggerEvent("doShareTieba")},downLoad:function(){this.triggerEvent("downLoad")},upDateStaus:function(){this.setData({tiebaSharing:!1})},launchError:function(e){console.log("open app error：",e),n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,P.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:D&&D.globalData.isUserLogin?"bd":""}))},openApp:function(){if(D.globalData.isUserLogin){if(this.data.videoPre&&this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewAppClk"}),this.data.isAndroid&&!this.data.hasApp)return n.navigateTo({url:"/pages/download-page/index"}),void this.close();n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,P.getSchemaParam)(this.data.scheme),{isSuccess:"none",userType:D&&D.globalData.isUserLogin?"bd":""})),n.log.openApp.homeToNaClick.send(),this.triggerEvent("openApp",{}),this.close()}},close:function(){n.log.openApp.closePopup.send(),D.globalData.closePop=!0,this.triggerEvent("popupclose")},shareAllFile:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"shareClk"}),this.triggerEvent("shareAllFile")}}})})),window.define("211",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{cancelDialogShow:{type:Boolean,value:!1},content:{type:String,value:"不再订阅此分享链接后，将不再收到更新内容的实时通知"},ConfirmTxt:{type:String,value:"不再订阅"},cancelTxt:{type:String,value:"继续订阅"}},methods:{cancelSubscribe:function(){this.triggerEvent("cancelSubscribe")},close:function(){this.triggerEvent("close")}}})})),window.define("213",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{topBanner:{type:String,value:""},title:{type:String,value:""},content:{type:String,value:""},btnText:{type:String,value:""},showCloseBtn:{type:Boolean,value:!0}},methods:{handleBtnClick:function(){this.triggerEvent("handleBtnClick")}}})})),window.define("215",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(216),D=r().globalData;Component({properties:{vipType:{type:String,value:""},thirdParty:{type:String,value:""}},data:{isOwner:!0,shortLinkData:"",hasSubscribed:!1,userUk:"",isLoading:!0,topBanner:"https://staticwx.cdn.bcebos.com/mini-program/images/subscribe_share_link.png",isShowSuccessModal:!1,loginUrl:"/pages/login/index?backUrl=/pages/outsite-chain/share-code/index",isFirstSubscribe:!1,cancelDialogShow:!1},methods:{addSubscribe:function(){var e=this;o.log.shareListPage.clickSubscribeBtn.send(),this.checkLogin()&&(this.handleToast("loading","正在订阅..."),(0,S.addSubscribe)({list:this.data.shortLinkData}).then((function(t){if(0===t.errno&&0===t.data[0].result)e.setData({hasSubscribed:!0,isShowSuccessModal:!0},(function(){o.sptoasthide(),o.log.shareListPage.showHasSubscribedBtn.send(),o.log.shareListPage.showSubscribeSuccessModal.send()}));else if(-6===t.errno){if(!e.checkLogin())return}else e.handleToast("info","订阅失败，请稍后重试")})).catch((function(){e.handleToast("info","订阅失败，请稍后重试")})))},cancelSubscribe:function(){var e=this;o.log.shareListPage.clickCancelSubscribeBtn.send(),this.handleToast("loading","正在取消订阅..."),(0,S.cancelSubscribe)({list:this.data.shortLinkData}).then((function(t){0===t.errno&&0===t.data[0].result?e.setData({hasSubscribed:!1,cancelDialogShow:!1},(function(){e.handleToast("info","取消成功"),o.log.shareListPage.showSubscribeBtn.send()})):e.handleToast("info","取消失败，请稍后重试")})).catch((function(){e.handleToast("info","取消失败，请稍后重试")}))},querySubscribeMsg:function(){var e=this,t=this.data.shortLinkData;(0,S.querySubscribeMsg)({list:t}).then((function(t){if(0===t.errno){var a=t.data&&t.data.list;a&&a.length&&e.setData({hasSubscribed:0===a[0].status})}e.setData({isLoading:!1},(function(){e.tipsShow(),e.data.hasSubscribed?o.log.shareListPage.showHasSubscribedBtn.send():o.log.shareListPage.showSubscribeBtn.send()}))}))},handleToast:function(e,t){o.sptoast({type:e,title:t})},showCancelDialog:function(){o.log.shareListPage.clickHasSubscribedBtn.send(),this.checkLogin()&&(o.log.shareListPage.showSubscribeCancelModal.send(),this.setData({cancelDialogShow:!0}))},checkLogin:function(){return!!D.isAppLogin||(o.redirectTo({url:this.data.loginUrl+"&url="+D.shareInfo.shorturl}),!1)},handleBtnClick:function(){this.setData({isShowSuccessModal:!1},(function(){o.log.shareListPage.clickSubscribeSuccessModal.send()}))},tipsShow:function(){var e=this;o.getStorageSync("subscribe_tips_has_show")||!1||this.data.hasSubscribed||this.setData({isFirstSubscribe:!0},(function(){o.setStorageSync("subscribe_tips_has_show",!0),n((function(){e.setData({isFirstSubscribe:!1})}),5e3)}))},close:function(){this.setData({cancelDialogShow:!1}),o.log.shareListPage.clickContinueSubscribeBtn.send()}},lifetimes:{ready:function(){var e=this,t=D.loginInfo,a=D.shareInfo,i=t?t.uk:"",n=a?a.uk:"",o=[{uk:n,share_id:a?a.shareId:""}];i!==n&&"enterprise"!==a.shortUrlType&&this.setData({userUk:i,shortLinkData:JSON.stringify(o),isOwner:!1},(function(){e.querySubscribeMsg()}))}}})})),window.define("216",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.cancelSubscribe=a.addSubscribe=a.querySubscribeMsg=void 0;var P=e(16);a.querySubscribeMsg=function(e){return(0,P.bdRequest)({api:"share/subscribe?method=query",data:e,method:"GET"})},a.addSubscribe=function(e){return(0,P.bdRequest)({api:"share/subscribe?method=add",data:e,method:"GET"})},a.cancelSubscribe=function(e){return(0,P.bdRequest)({api:"share/subscribe?method=cancel",data:e,method:"GET"})}})),window.define("218",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(133),S=o();Component({properties:{topHeight:{type:Number,value:72},pageType:{type:String,value:""},thirdParty:{type:String,value:""},shareUk:{type:String,value:""},vipType:{type:String,value:""},themeData:{type:Object,observer:function(e,t){this.setData({svipTheme:e})}},shareVideo:{type:Boolean,value:!1}},data:{shareUserName:"",shareUserPhoto:"",expireDays:"",shorturl:"",thirdPartyMap:n.ENV.CONF.thirdPartyMap,svipTheme:"",isCertUser:!1,abbrName:"",certInfo:"",shortUrlType:"",requestOnceFlag:!1},observers:{shareUk:function(e){var t=this;if(e&&!this.data.requestOnceFlag){var a={query_uk:e};try{(0,P.getUkInfo)(a).then((function(e){t.setData({tipTxt:e.user_info&&e.user_info.intro||"暂无签名"}),0===Number(e.errno)&&t.setData({requestOnceFlag:!0})}))}catch(e){console.log("GET_UKINFO_ERROR: ",e)}}}},ready:function(){var e=S.globalData.shareInfo,t=e.memberType-0==2?"is-svip":"";this.setData({shareUserName:e.shareUserName,shareUserPhoto:e.shareUserPhoto,expireDays:e.expireDays,pageRootFilesNum:e.rootFilesNum,shorturl:e.shorturl,memberType:e.memberType,memberLevel:e.memberLevel,svip10Id:e.svip10Id,memberFormatClass:t,isCertUser:e.isCertUser,abbrName:e.abbrName,certInfo:e.certInfo,shortUrlType:S.globalData.shortUrlType}),e.isCertUser&&n.log.certification.shareListCertIcon.send({type:"sp_share_list_cert_icon_display",value:"认证标识展示-文件分享页-外链页"})},methods:{report:function(){n.log.outsiteChainFileList.shareInfoPageReportClick.send({from:this.data.pageType});var e="https://pan.baidu.com/wap/reportbad?shareid="+S.globalData.shareInfo.shareId+"&reporthref="+encodeURI("https://pan.baidu.com/s/"+this.data.shorturl)+"&origin=applet";this.triggerEvent("openwebview",{url:encodeURIComponent(e),title:"举报"})}}})})),window.define("220",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("222",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{isEmpty:{type:Boolean,value:!1},errData:{type:Object,value:{}}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("224",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(57),S=e(33),D=e(60),C=e(65),T=o();Component({properties:{fileInfo:{type:Object,value:{}},index:{type:Number,value:0},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},sameUk:{type:Boolean,value:!1,observer:function(e,t){this.initUser()}},thirdParty:{type:String,value:""}},data:{iconCdnPath:"",fileName:"",size:0,mtime:"",isdir:"",category:"",hasSendList:[],hasImg:!1,touched:!1},lifetimes:{created:function(){this.dataMapping(),this.initInfo(),this.initType()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initType:function(){3!==this.data.category&&1!==this.data.category||this.setData({hasImg:!0})},dataMapping:function(){this.setData({isdir:Number(this.properties.fileInfo.isdir),category:Number(this.properties.fileInfo.category)})},initInfo:function(){var e=this.properties.fileInfo,t=e.server_filename,a=e.server_mtime,i=e.size,n=void 0===i?0:i;this.setData({iconCdnPath:(0,P.getPic)(this.properties.fileInfo),mtime:(0,S.timestampTurnsTime)(a),fileName:(0,S.disposeFileName)(t)}),0!==Number(n)&&this.setData({size:(0,S.toFriendlyQuotaSize)(n)})},filetap:function(e){if(e.target&&e.target.dataset&&e.target.dataset.selectMode)this.itemlongpress();else if(this.properties.canSelected)this.selectItem();else if(this.data.isdir)this.tapFolder();else switch(T.globalData.tapFileInfo=this.properties.fileInfo,n.log.docPreview.fileUseNum.send({from:this.data.category}),n.log.outsiteFileClick.outsiteFliesClickAll.send(),n.log.outsiteFileClick["type"+this.data.category].send(),this.data.category){case 0:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"});break;case 1:this.tapVideo();break;case 2:this.tapAudio();break;case 3:this.tapImage();break;case 4:this.tapDocFile();break;case 5:case 6:case 7:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview",thirdParty:this.data.thirdParty});break;default:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview",thirdParty:this.data.thirdParty})}},selectItem:function(){this.triggerEvent("selectItem",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},itemlongpress:function(){this.data.sameUk||this.properties.canSelected||this.triggerEvent("itemlongpress",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},tapFolder:function(){(0,D.folderClick)({thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:T.globalData.currentPageType})},tapImage:function(){this.triggerEvent("tapImage",{thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.imageClick)({thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:T.globalData.currentPageType})},tapAudio:function(){this.triggerEvent("tapAudio",{thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.audioClick)({thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:T.globalData.currentPageType})},tapVideo:function(){this.triggerEvent("tapVideo",{thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.videoClick)({thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:T.globalData.currentPageType,previewFromType:C.previewFromTypeObj.SHARE_VIEW})},tapDocFile:function(){(0,D.documentPreview)({thirdParty:this.properties.thirdParty,fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:T.globalData.currentPageType,previewFromType:C.previewFromTypeObj.SHARE_VIEW})},touchstart:function(){this.setData({touched:!0})},touchend:function(){this.setData({touched:!1})},initUser:function(){this.setData({sameUk:T.globalData.shareInfo.sameUser})}}})})),window.define("226",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{pageInfo:{type:Array,value:[]},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},sameUk:{type:Boolean,value:!1},thirdParty:{type:String,value:""}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{tapFolder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapFolder",{fileInfo:t,pageNum:a,index:i})},tapOtherFile:function(e){var t=e.detail;t.fileInfo,t.pageNum},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapVideo",{fileInfo:t,pageNum:a,index:i})},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapImage",{fileInfo:t,pageNum:a,index:i})},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapAudio",{fileInfo:t,pageNum:a,index:i})},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("selectItem",{fileInfo:t,pageNum:a,index:i})},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("itemlongpress",{fileInfo:t,pageNum:a,index:i})}}})})),window.define("228",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{isShowCloseBtn:{type:Boolean,value:!1},textAlignClassName:{type:String,value:"center"},position:{type:String,value:""}},options:{multipleSlots:!0},data:Object.assign({},{isShow:!1}),methods:{show:function(e){this.setData({isShow:!0})},hide:function(){this.setData({isShow:!1})},close:function(){this.hide(),this.triggerEvent("close")},preventD:function(){}}})})),window.define("230",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S=e(231);(0,((P=S)&&P.__esModule?P:{default:P}).default)({options:{},data:Object.assign({},{}),methods:{}})})),window.define("231",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(232),D=(P=S)&&P.__esModule?P:{default:P},C=e(8);var T=o(),I={content:"",isCancelBtnFastHide:!0,isConfirmBtnFastHide:!0,schema:"",isAndroid:!1,hasApp:!1},E={properties:{btnCancelColor:{type:String,value:"fc-dark-gray"},btnConfirmColor:{type:String,value:"fc-blue"},isShowCloseBtn:{type:Boolean,value:!1},textAlignClassName:{type:String,value:"center"},position:{type:String,value:""},title:{type:String,value:"弹窗标题"},cancelValue:{type:String,value:"取消"},confirmValue:{type:String,value:"确定"},loginValue:{type:String,value:"使用App打开"},isHideCancel:{type:Boolean,value:!1},isHideConfirm:{type:Boolean,value:!1},isHideLogin:{type:Boolean,value:!0},showBtn:{type:Boolean,value:!1}},data:Object.assign({},I),ready:function(){this.popup=this.selectComponent("#popup"),this.setData({isAndroid:"android"===T.globalData.systemInfo.system4Fe,hasApp:T.globalData.hasInstalledApp})},methods:{download:function(){if(this.data.isAndroid&&!this.data.hasApp)return this.data.isConfirmBtnFastHide&&this.hide(),void n.navigateTo({url:"/pages/download-page/index"});n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:T&&T.globalData.systemInfo.system4Fe},(0,C.getSchemaParam)(this.data.schema),{isSuccess:"none",userType:T&&T.globalData.isUserLogin?"bd":""})),this.emitEvent("confirm"),this.data.isConfirmBtnFastHide&&this.hide()},launchError:function(e){console.log("open app error：",e),n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:T&&T.globalData.systemInfo.system4Fe},(0,C.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:T&&T.globalData.isUserLogin?"bd":""}))},initData:function(e){e&&this.setData(Object.assign({},I,e))},show:function(e){e.isHideLogin||(console.log("openAppSchema",T.globalData.openAppSchema),this.setData({schema:T.globalData.openAppSchema})),e&&this.setData(Object.assign({},e)),this.popup.show()},hide:function(){this.popup.hide()},emitEvent:function(e){var t=this;this.triggerEvent(e,{hide:function(){t.hide()}})},cancel:function(){this.emitEvent("cancel"),this.data.isCancelBtnFastHide&&this.hide()},ok:function(){this.emitEvent("confirm"),this.data.isConfirmBtnFastHide&&this.hide()},close:function(){this.triggerEvent("close")}}};a.default=function(e){return(0,D.default)(e,E)}})),window.define("232",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){e.properties=Object.assign({},t.properties,e.properties),e.data=Object.assign({},t.data,e.data),e.methods=Object.assign({},t.methods,e.methods),e.options=Object.assign({},t.options,e.options);var a=e.ready;return e.ready=function(){t.ready.call(this),a&&a.call(this)},Component(e)}})),window.define("234",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(235),S=o(),D=function(){};n.showDialog=function(e){var t=n.getCurrentViewPage();t.showDialog&&t.showDialog.show(e)},Component({data:{title:"",content:"",showCancel:!0,showConfirm:!0,showLogin:!1,isHideCancel:!1,isHideConfirm:!1,isShowCloseBtn:!1,isHideLogin:!0,cancelText:"取消",cancelColor:"fc-dark-gray",confirmText:"确定",confirmColor:"fc-blue",contents:[],cancel:D,confirm:D,always:D,isConfirmBtnFastHide:!0},ready:function(){this.dialog=this.selectComponent("#dialog")},methods:{show:function(e){if(e&&e.showLogin&&n.log.openApp.showDialog.send(),this.setData({title:e.title||"",content:e.content||"",showCancel:e.showCancel,showConfirm:e.showConfirm,showLogin:e.showLogin,loginValue:e.loginValue||"使用App打开",isHideCancel:!e.showCancel,isHideConfirm:!e.showConfirm,isHideLogin:!e.showLogin,cancelText:e.cancelText||"取消",cancelColor:e.cancelColor||"fc-dark-gray",confirmText:e.confirmText||"确定",confirmColor:e.confirmColor||"fc-blue",cancel:e.cancel,confirm:e.confirm,always:e.always,isConfirmBtnFastHide:!0,showBtn:e.showBtn,contents:e.contents,isShowCloseBtn:e.ShowCloseBtn||!1}),e.showLogin){var t=this;S.globalData.shareInfo.sameUser?e.noClip?(S.globalData.openAppSchema=e.schema||(0,P.makeScheme)(),t.dialog.show(Object.assign({},t.data))):n.setClipboardData({data:"百度网盘",success:function(e){console.log("setClipboardData success",e)},fail:function(e){console.log("setClipboardData fail",e)},complete:function(a){S.globalData.openAppSchema=e.schema||(0,P.makeScheme)(),t.dialog.show(Object.assign({},t.data))}}):"outsiteChainFileList"!==S.globalData.processPage&&"outsiteChainShareCode"!==S.globalData.processPage||e.noClip?(S.globalData.openAppSchema=e.schema||(0,P.makeScheme)(),t.dialog.show(Object.assign({},t.data))):n.setClipboardData({data:S.globalData.shareInfo.sharelinkCommand,success:function(e){console.log("setClipboardData success",e)},fail:function(e){console.log("setClipboardData fail",e)},complete:function(a){S.globalData.openAppSchema=e.schema||(0,P.makeScheme)(),t.dialog.show(Object.assign({},t.data))}})}else this.dialog.show(Object.assign({},this.data))},cancel:function(){var e=this.data,t=e.cancel,a=void 0===t?D:t,i=e.always,n=void 0===i?D:i;a(),n({cancel:!0})},confirm:function(e){var t=e.detail,a=this.data,i=a.confirm,n=void 0===i?D:i,o=a.always,r=void 0===o?D:o,s=a.isConfirmBtnFastHide?D:t.hide;n({hide:s}),r({confirm:!0,hide:s})}}})})),window.define("235",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.makeScheme=void 0;var P=e(8),S=o();S.globalData,a.makeScheme=function(){if("outsiteChainFileList"===S.globalData.processPage||"outsiteChainShareCode"===S.globalData.processPage){if(S.globalData.shareInfo.sameUser){var e=encodeURI("我的资源/"),t=S.globalData.loginInfo.uk;return(0,P.makeSchema)("MYFILE",{uk:t,path:e,behavior:n.ENV.fileTypeMap.MYFILE||"app_open",isSaved:"yes",hasPanCode:"no"})}return(0,P.makeSchema)("HUO_DONG",{behavior:"no_format",isSaved:"no",hasPanCode:"no"})}return["task","video_category_page","home"].indexOf(S.globalData.processPage)?function(){if(!S.globalData.loginInfo||!S.globalData.tapFileInfo)return n.showToast({title:"缺少用户信息",duration:1500}),"";var e=S.globalData.loginInfo.uk,t=S.globalData.tapFileInfo,a=["task","video_category_page","home"].indexOf(S.globalData.processPage)?"yes":"no",i="MYFILE",o=t.path;if(t.category)switch(t.category.toString()){case"1":3,i="MYPLAY";break;case"2":2,i="AUDIO";break;case"4":4,i="DOC";break;default:5,i="MYFILE"}return o=encodeURI(o),(0,P.makeSchema)(i,{uk:e,path:o,behavior:n.ENV.fileTypeMap[i]||"app_open",isSaved:a,hasPanCode:"no"})}():(0,P.makeSchema)("HUO_DONG",{behavior:"no_format",isSaved:"no",hasPanCode:"no"})}})),window.define("237",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{canSelected:{type:Boolean,value:!1}},data:{count:0,selectedList:[],isSelectedAll:!1},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{selectedAll:function(){this.triggerEvent("selectedAll")},cancelSelected:function(){this.triggerEvent("cancelSelected")},updateCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.count,a=e.selectedList,i=e.isSelectedAll;this.setData({count:t,selectedList:a,isSelectedAll:i})}}})})),window.define("239",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{},data:{content:"",icon:"",text:"",price:"",action_url:"",errortips:"",userStatus:"",bgClass:"",fontClass:"",showCard:!1,sid:""},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{dealData:function(e){return{content:e.content,icon:e.icon,text:e.text,price:e.price,action_url:e.action_url,errortips:e.errortips,userStatus:e.userStatus,showCard:e.showCard}},choseBtnBg:function(e){0===e.button_type&&2===e.theme_type?this.setData({bgClass:"golden-btn",fontClass:"svip-font-color "}):0===e.button_type&&3===e.theme_type?this.setData({bgClass:"red-btn",fontClass:"vip-font-color"}):0!==e.button_type&&2!==e.button_type||1!==e.theme_type?0!==e.button_type&&2!==e.button_type||3!==e.theme_type?this.setData({bgClass:"golden-btn",fontClass:"svip-font-color "}):this.setData({bgClass:"red-btn",fontClass:"vip-font-color"}):this.setData({bgClass:"golden-btn",fontClass:"svip-font-color "})},init:function(e){this.setData(this.dealData(e)),this.choseBtnBg(e)},hide:function(){this.setData({showCard:!1}),P.globalData.showGuide=0},imageErr:function(e){this.data.sid+""=="1"?this.setData({icon:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram/popup_ic_space.png"}):this.setData({icon:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram/popup_ic_save.png"})},vipAction:function(){var e="",t="";P.globalData.showGuide=0,this.data.sid+""=="1"?(t="buyquota_transfer",n.log.vipGuide.noSpaceBuy.send()):(t="transfer_file",n.log.vipGuide.limitNumBuy.send()),e=this.data.action_url?this.data.action_url+"&from="+t:"/pages/usercenter/usercenter",n.redirectTo({url:e})}}})})),window.define("241",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{target:{type:String,value:""},bottom:{type:Number,value:172},left:{type:Number,value:32}},data:{},ready:function(){},pageLifetimes:{show:function(){},hide:function(){}},methods:{close:function(){this.triggerEvent("closeReportPopper")}}})})),window.define("243",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(244);Component({properties:{activity:{type:Object,value:{}},show:{type:Boolean,value:!0}},methods:{handleActivityClick:function(){this.triggerEvent("activityClick"),(0,P.navActivity)(this.data.activity)}}})})),window.define("244",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(33);t.exports={validateActivity:function(e){e.forEach((function(e){var t=!0;if(e.start_time&&e.end_time){var a=Date.parse(new Date)/1e3;t=a>e.start_time&&a<e.end_time}var i=!1;1===e.nav_type?i=!!e.tourl:2===e.nav_type&&(i=!!e.appid);var n=!!e.showImg;e.isValid=t&&i&&n}))},navActivity:function(e){switch(e.nav_type){case 1:e.tourl&&n.navigateTo({url:"/pages/h5/index?src="+encodeURIComponent(e.tourl||e.path)+"&title="+(e.title||"")});break;case 2:e.appid&&(e.appid===n.ENV.appKey?n.navigateTo({url:e.tourl}):n.navigateToSmartProgram({appKey:e.appid,appId:e.appid,path:e.tourl||""}))}},isShowActivity:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lastShowIconActivityDate",a=(0,P.timestampTurnsTime)((new Date).getTime(),2),i=n.getStorageSync(t);if(!e){var o=!1;return i?a!==i&&(o=!0):o=!0,o}try{e&&n.setStorageSync(t,a)}catch(e){console.log(t,e)}}}})),window.define("246",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(244);Component({properties:{activity:{type:Object,value:{}},show:{type:Boolean,value:!0}},methods:{handleActivityClick:function(){this.triggerEvent("activityClick"),(0,P.navActivity)(this.data.activity)}}})})),window.define("248",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=n.ENV.staticPath,S=o();Component({properties:{activities:{type:Array,value:[]},bottom:{type:String,value:"0"},top:{type:String,value:"200rpx"}},data:{closeIcon:P+"/feed-close.png",isIpx:S.globalData.isIpx},lifetimes:{ready:function(){n.log.activity.feedOutShow.send()}},methods:{handleActivityClick:function(e){var t=e.currentTarget.dataset.activity;this.triggerEvent("activityClick",t);if(14===t.pop_type)n.log.activity.feedBannerOutClick.send();else if(15===t.pop_type){var a=this.data.activities.filter((function(e){return 15===e.pop_type})),i=0;a.map((function(e,a){e.activityid===t.activityid&&(i=a)}));var o=n.log.activity["feedIcon"+(i+1)+"OutClick"];o&&o.send()}},handleClose:function(){this.triggerEvent("close"),n.log.activity.feedOutCancle.send()}}})})),window.define("250",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(244);o();Component({externalClasses:["activity-class"],properties:{activity:{type:Object,value:{}},show:{type:Boolean,value:!0},bottom:{type:String,value:"300rpx"},top:{type:String,value:"auto"},showCancel:{type:Boolean,value:!0}},data:{innerShow:!0},methods:{actClick:function(){this.triggerEvent("iconClick"),(0,P.navActivity)(this.data.activity)},actCancel:function(){this.setData({innerShow:!1}),this.triggerEvent("iconCancel")}}})})),window.define("252",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(253),D=r();Component({properties:{type:{type:String,value:"bar"},isHome:{type:Boolean,value:!0},isHomeDir:{type:Boolean,value:!0},bottom:{type:String,value:"112rpx"}},data:{show:!1,statusBarHeight:72,totalHeight:52,navHeight:72},lifetimes:{created:function(){this.setData({statusBarHeight:D.globalData.statusBarHeight,totalHeight:D.globalData.totalHeight,navHeight:D.globalData.navHeight}),this.data.isHome?o.log.favor.myShow.send():o.log.favor.outShow.send()},ready:function(){},attached:function(){this.checkMyFavor()}},methods:{close:function(){this.data.isHome||o.log.favor.outCancelClick.send(),this.setData({show:!1})},checkMyFavor:function(){var e=this,t=(0,S.isShowFavoriteGuide)();t&&(0,S.checkFavor)().then((function(a){!a||a.isFavor&&"0"!==a.isFavor||(e.setData({show:t}),t&&(0,S.isShowFavoriteGuide)(!0),"tip"===e.data.type&&n((function(){e.close()}),5e3))}))},addFavorite:function(){var e=this;this.data.isHome?o.log.favor.myLoveClick.send():o.log.favor.outLoveClick.send(),o.addFavor({appid:o.ENV.appKey,success:function(t){(0,S.isShowFavoriteGuide)(!0),o.showToast({icon:"none",title:"关注成功\n在“百度App-我的”查看",duration:2e3}),e.close(),console.log(t)},fail:function(e){o.showToast({icon:"none",title:"暂无网络，稍后重试",duration:2e3}),console.log(e)},complete:function(e){console.log("add favor complete",e)}})}}})})),window.define("253",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.checkFavor=a.isShowFavoriteGuide=void 0;var P=e(33);a.isShowFavoriteGuide=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,P.timestampTurnsTime)((new Date).getTime(),2),a=n.getStorageSync("showFavoriteGuideDate");if(!e){var i=!1;return a?(new Date(t)-new Date(a))/864e5>7&&(i=!0):i=!0,i}try{e&&n.setStorageSync("showFavoriteGuideDate",t)}catch(e){console.log("lastShowFavoriteKey",e)}},a.checkFavor=function(){return new Promise((function(e,t){n.checkFavor({appid:n.ENV.appId,success:e,fail:t,complete:function(e){}})}))}})),window.define("255",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(57),S=e(33),D=e(60),C=e(65),T=e(66),I=o();Component({properties:{fileInfo:{type:Object,value:{}},index:{type:Number,value:0},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},sameUk:{type:Boolean,value:!1,observer:function(e,t){this.initUser()}}},data:{iconCdnPath:"",fileName:"",size:0,mtime:"",isdir:"",category:"",hasSendList:[],hasImg:!1,touched:!1},lifetimes:{created:function(){this.dataMapping(),this.initInfo(),this.initType()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initType:function(){3!==this.data.category&&1!==this.data.category||this.setData({hasImg:!0})},dataMapping:function(){this.setData({isdir:Number(this.properties.fileInfo.isdir),category:Number(this.properties.fileInfo.category)})},initInfo:function(){var e=this.properties.fileInfo,t=e.server_filename,a=e.server_mtime,i=e.size,n=void 0===i?0:i;this.setData({iconCdnPath:(0,P.getPic)(this.properties.fileInfo),mtime:(0,S.timestampTurnsTime)(a),fileName:(0,S.disposeMultLineFileName)(t)}),0!==Number(n)&&this.setData({size:(0,S.toFriendlyQuotaSize)(n)})},filetap:function(e){if(e.target&&e.target.dataset&&e.target.dataset.selectMode)this.itemlongpress();else if(this.properties.canSelected)this.selectItem();else if(this.data.isdir)this.tapFolder();else switch(I.globalData.tapFileInfo=this.properties.fileInfo,n.log.docPreview.fileUseNum.send({from:this.data.category}),n.log.outsiteFileClick.outsiteFliesClickAll.send(),I.globalData.limitShare&&n.log.limitShare.limitShowContentCount.send(),n.log.outsiteFileClick["type"+this.data.category].send(),this.data.category){case 0:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"});break;case 1:this.tapVideo();break;case 2:this.tapAudio();break;case 3:this.tapImage();break;case 4:this.tapDocFile();break;case 5:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"});break;case 6:if((0,T.isSupportMarkdownType)(this.properties.fileInfo.server_filename))return void this.handleMarkdownPreview();(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"});break;case 7:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"});break;default:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"outsitePreview"})}},selectItem:function(){this.triggerEvent("selectItem",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},itemlongpress:function(){this.data.sameUk||this.properties.canSelected||this.triggerEvent("itemlongpress",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},handleMarkdownPreview:function(){var e={fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType,isShare:!0};(0,D.markdownClick)(e)},tapFolder:function(){(0,D.folderClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType})},tapImage:function(){this.triggerEvent("tapImage",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.imageClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType})},tapAudio:function(){this.triggerEvent("tapAudio",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.audioClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType})},tapVideo:function(){this.triggerEvent("tapVideo",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.videoClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType,previewFromType:C.previewFromTypeObj.SHARE_VIEW})},tapDocFile:function(){(0,D.documentPreview)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"outsitePreview",pageType:I.globalData.currentPageType,previewFromType:C.previewFromTypeObj.SHARE_VIEW})},touchstart:function(){this.setData({touched:!0})},touchend:function(){this.setData({touched:!1})},initUser:function(){this.setData({sameUk:I.globalData.shareInfo.sameUser})}}})})),window.define("257",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{pageInfo:{type:Array,value:[]},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},sameUk:{type:Boolean,value:!1}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{tapFolder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapFolder",{fileInfo:t,pageNum:a,index:i})},tapOtherFile:function(e){var t=e.detail;t.fileInfo,t.pageNum},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapVideo",{fileInfo:t,pageNum:a,index:i})},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapImage",{fileInfo:t,pageNum:a,index:i})},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapAudio",{fileInfo:t,pageNum:a,index:i})},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("selectItem",{fileInfo:t,pageNum:a,index:i})},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("itemlongpress",{fileInfo:t,pageNum:a,index:i})}}})})),window.define("259",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=B(e(260)),D=B(e(261)),C=e(61),T=e(262),I=e(264),E=e(57),x=e(8),A=e(63),L=e(153);function B(e){return e&&e.__esModule?e:{default:e}}function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N=r().globalData,O=r(),R=new RegExp("size=\\S*?&"),U=new RegExp("http://pcsdata.baidu.com/");function M(e){var t=[];return e.map((function(e,a){t.push(e.thumbs.url3.replace(R,"size=c1999_u1999&").replace(U,"https://pcsdata.baidu.com/"))})),t}Component({properties:{propName:{type:String,value:"val",observer:function(e,t){}},homePre:{type:Boolean,value:!1},outsidePre:{type:Boolean,value:!1}},data:{mode:"scaleToFill",imageList:[],currentImg:[],sizeList:[],isLoaded:!1,isOrigin:[],width:0,height:0,flag:!0,isDown:!1,currentIndex:0,fromPreview:!0,swiperImg:[],maxSize:40,loadOriginImage:0,allText:"",isShare:!0,loadNum:{},showImg:!1,compatible:""},created:function(){o.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#ff0000"})},ready:function(){var e=N.systemInfo.statusBarHeight;this.setData({statusHeight:e,screenHeightRpx:N.systemInfo.screenHeightRpx,compatible:O.globalData.systemInfo.compatibleVersion}),o.sptoast({type:"loading",title:"正在加载..."})},methods:{previewImage:function(e){if(!(this.data.loadOriginImage>0)){var t=e.target.id.replace("img","")-0;o.previewImage({current:this.data.currentImg[t],urls:this.data.currentImg})}},getImageSize:function(e,t){var a=0,i=0,n=N.systemInfo.windowWidthRpx,o=N.systemInfo.windowHeightRpx,r=n/o,s=e/t;return e<=n/4||this.data.isOrigin&&e<=n&&t>=o&&s<r?(a=e,i=t):s<r&&e>=n/4&&e<=n&&t>=o/4&&t<=o?(a=D.default.imageZoomWidthUtil(e,t,o).imageWidth,i=o):(a=n,i=D.default.imageZoomHeightUtil(e,t,n).imageHeight),{imgWidth:a,imgHeight:i}},imageLoad:function(e){var t=e.target.id.replace("img","")-0;!0===this.data.isOrigin[t]&&(this.data.showText[t]="complete",this.setData(this.data),t===this.data.loadOriginImage-1&&(this.data.loadOriginImage=0));var a=e.detail.width,i=e.detail.height,n=this.getImageSize(a,i);o.sptoasthide(),this.data.sizeList[t]={width:n.imgWidth,height:n.imgHeight},this.data.isLoaded=!0;var r="sizeList["+t+"]";this.setData(F({isLoaded:this.data.isLoaded},r,this.data.sizeList[t]))},imageError:function(e){var t;o.log.imagePreview.previewError.send({from:N.currentPageType,prevPageType:N.processPage});var a=e.currentTarget.id,i=parseInt(a.replace("img",""),10);if(this.data.loadNum[a])this.data.currentImg[i]="https://staticwx.cdn.bcebos.com/mini-program/images/ic_image.png?v=1.0";else{this.data.loadNum[a]=1;var n=this.data.currentImg[i],r=n.indexOf("&wxtime=");this.data.currentImg[i]=r>=0?n.substr(0,r)+"&wxtime="+Date.parse(new Date):n+"&wxtime="+Date.parse(new Date)}var s="currentImg["+i+"]",c="swiperImg["+i+"]";this.setData((F(t={},s,this.data.currentImg[i]),F(t,c,this.data.currentImg[i]),t))},downLoad:function(){var e=this;if(!this.data.isDown){var t=this.data.imageList[this.data.currentIndex].thumbs.url3||"";t=t.indexOf("http:")>-1?t.replace("http","https"):t,(0,S.default)(t),this.data.isDown=!0,n((function(){e.data.isDown=!1}),1500)}},loadList:function(e,t,a,i){o.getCurrentViewPage().options;var n,r,s,c=o.getStorageSync("uk")===e.data.uk,l=(n=e.data.list,r=[],s=[],n.map((function(e,t){if(e.size/1024)if(e.size<1048576){var a=e.size/1024;r.push("查看大图 ("+a.toFixed(2)+"KB)")}else{var i=e.size/1048576;r.push("查看大图 ("+i.toFixed(2)+"MB)")}else r.push("查看大图 ("+e.size+")");s.push(!1)})),{size:r,isOrigin:s});if(this.setData({imageList:e.data.list,surl:t,path:a,owner:c,transfer:i||!1,currentImg:M(e.data.list),showText:l.size,isOrigin:l.isOrigin,currentIndex:e.data.currentIndex?e.data.currentIndex-1:0,fromPreview:!!e.data.fromPreview&&e.data.fromPreview,allText:e.data.fromPreview?"全部":""}),this.data.currentImg.length<=this.data.maxSize)this.data.swiperImg=this.data.currentImg;else{var p=this.data.currentIndex;this.data.swiperImg.length=this.data.currentImg.length,this.data.swiperImg[p]=this.data.currentImg[p],p>0&&(this.data.swiperImg[p-1]=this.data.currentImg[p-1]),p>0&&p<this.data.currentImg.length-1&&(this.data.swiperImg[p+1]=this.data.currentImg[p+1])}this.data.showImg=!0,this.setData(this.data)},onSlideChangeEnd:function(e){if(this.data.showImg&&"touch"===e.detail.source){var t=e.detail.current;this.data.currentIndex=t,this.data.currentImg.length>this.data.maxSize&&(this.data.swiperImg[t]=this.data.currentImg[t],t>0&&(this.data.swiperImg[t-1]=this.data.currentImg[t-1]),t>0&&t<this.data.currentImg.length-1&&(this.data.swiperImg[t+1]=this.data.currentImg[t+1])),this.setData(this.data),(0,A.reportFileFunc)("category",N.currentPageType,this.data.imageList[this.data.currentIndex])}},changeToOrigin:function(){var e=void 0;e=this.data.imageList[this.data.currentIndex].server_filename.indexOf(".heic")>=0?this.data.currentImg[this.data.currentIndex]+"?v=1":this.data.imageList[this.data.currentIndex].thumbs.url3,this.data.currentImg[this.data.currentIndex]=e,this.data.swiperImg[this.data.currentIndex]=e,this.data.isOrigin[this.data.currentIndex]=!0,this.data.loadOriginImage=this.data.currentIndex+1,this.setData(this.data),o.sptoast({type:"loading",title:"正在加载..."})},startShare:function(){var e=this;if(!this.data.sharing){o.log.home.indexShareLink.send(),this.setData({sharing:!0});var t=(0,C.randomWord)(!1,4,4);this.setData({linkPwd:t});var a={from:"batch",fid_list:[""+this.data.imageList[this.data.currentIndex].fs_id],pwd:t,schannel:4,period:7};(0,T.postFileShare)(a).then((function(t){if(e.setData({sharing:!1}),(0,L.shareMonitor)(t.errno),0===t.errno){var a={confirmTip:"下列链接已复制到剪贴板，粘贴分享给好友",sharePageLink:(0,x.generateSharePageLink)(t.shorturl,e.data.linkPwd,{memberType:N.vipIconInfo.memberType,memberLevel:N.vipIconInfo.memberLevel})};e.triggerEvent("showConfirm",a)}else o.sptoast({type:" info",title:"分享失败请重试"})})).catch((function(){(0,L.shareMonitor)()}))}},tiebaShare:function(){var e=this;if(!this.data.tiebaSharing){this.setData({tiebaSharing:!0});var t=(0,C.randomWord)(!1,4,4);this.setData({linkPwd:t});var a={from:"batch",fid_list:[""+this.data.imageList[this.data.currentIndex].fs_id],pwd:t,schannel:4,period:7},i=this;(0,T.postFileShare)(a).then((function(t){if(e.setData({tiebaSharing:!1}),(0,L.shareMonitor)(t.errno),0===t.errno){var a,n=t.shorturl;a=i.getPic(e.data.imageList[e.data.currentIndex]);var r={code:i.data.linkPwd,img:a,url:n};(0,I.callTieba)(r,(function(){"outsiteChainFileList"===O.globalData.processPage&&o.log.tieba.outsideShareTiebaSuccess.send(),"home"===O.globalData.processPage&&o.log.tieba.homeShareTiebaSuccess.send()}))}else o.sptoast({type:" info",title:"分享失败请重试"})})).catch((function(){(0,L.shareMonitor)()}))}},getPic:function(e){var t=e.server_filename,a=e.category;if(3!==a&&1!==a){var i=void 0;if(e.isdir)i="folder";else{var n=t.split(".");i=n[n.length-1]}return(0,E.getSuffixIconCdnPath)(i)}if(e.thumbs&&e.thumbs.url3)return e.thumbs.url3},startSave:function(){O.globalData.selectList=[],O.globalData.selectList.push(this.data.imageList[this.data.currentIndex]),this.triggerEvent("doSave")}}})})),window.define("260",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){if(++S>1)return;o.sptoast({type:"loading",title:"下载中..."});o.downloadFile({url:e,success:function(e){o.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){o.sptoasthide(),n((function(){o.sptoast({title:"成功保存到本地"}),S=0}),500)},fail:function(e){o.sptoasthide(),"Permission denied"===e.errMsg||200301===e.errCode?o.getSetting({success:function(e){e.authSetting["scope.writePhotosAlbum"]||o.authorize({scope:"scope.writePhotosAlbum",success:function(){console.log("WritePhotosAlbum: 授权成功")},fail:function(){o.showModal({title:"保存失败提示",content:"请您设置允许【保存到相册】后再尝试下载",confirmText:"确定",cancelText:"取消",success:function(e){e.confirm&&o.openSetting({}),e.cancel&&console.log("相册授权：用户取消")}}),S=0}})}}):"saveImageToPhotosAlbum:fail system deny"===e.errMsg||"saveImageToPhotosAlbum:fail:system denied"===e.errMsg?(o.showModal({title:"保存失败提示",content:"请您设置允许【保存到相册】后再尝试下载",confirmText:"确定",cancelText:"取消",success:function(e){e.confirm&&o.openSetting({}),e.cancel&&console.log("相册授权：用户取消")}}),S=0):(o.sptoast({title:"保存失败",duration:2e3}),S=0)},complete:function(e){S=0}})}})};var S=0})),window.define("261",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return P(e,null,[{key:"imageZoomHeightUtil",value:function(e,t,a){var i={};return a?(i.imageWidth=a,i.imageHeight=a*t/e):n.getSystemInfo({success:function(n){a=n.windowWidth,i.imageWidth=a,i.imageHeight=a*t/e}}),i}},{key:"imageZoomWidthUtil",value:function(e,t,a){var i={};return a?(i.imageWidth=a*e/t,i.imageHeight=a):n.getSystemInfo({success:function(n){a=n.windowHeight,i.imageWidth=a*e/t,i.imageHeight=a}}),i}}]),e}();a.default=S})),window.define("262",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.postFileShare=void 0;var P=e(263);a.postFileShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fid_list,a=e.from,i=e.schannel,o=e.pwd,r=e.period,s=JSON.stringify([]);t=JSON.stringify(t);var c={hasError:!1},l=n.performance.sendTimePerf("shareCreate",{group:"share_perf",project:"swan-share",pageName:(a||"unkown")+"_page",clientType:"swan"});return l.start(),(0,P.shareSetApi)({channel_list:s,fid_list:t,from:a,schannel:i,pwd:o,period:r}).then((function(e){return c.errno=e.errno,c.shorturl=e.shorturl,c})).catch((function(e){return c.hasError=!0,c})).then((function(e){return l.end(),e}))}})),window.define("263",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shareSetApi=void 0;var P=e(16);a.shareSetApi=function(e){return(0,P.bdRequest)({api:"share/set",data:e,method:"POST",clientType:32})}})),window.define("264",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";t.exports={callTieba:function(e,t){var a={third_app_id:"OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH",third_app_name:"百度网盘  提取码："+e.code,third_app_avatar:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_home_logo50.png",third_app_pic:e.img,third_app_link:"/pages/outsite-chain/share-code/index?url="+e.url+"&from=tiebashare"},i=encodeURIComponent(JSON.stringify(a));n.navigateToSmartProgram({appKey:"flFqXclepWs7RdugAszy9eERL7G5dS0I",path:"/pages/frshistory/frshistory?extradata="+i,extraData:{from:"bp-smartprogram"},success:function(e){t&&t()}})}}})),window.define("266",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Component({properties:{videoList:{type:Array,value:[],observer:function(e){return e&&(this.calculateActiveVideo(),this.setData({dataReady:!0})),e}},currentVideo:{type:Object,value:{},observer:function(e){return e&&(this.calculateActiveVideo(),this.setSchema(e.path)),e}},viewMultiViewDisplay:{type:Boolean,value:!1,observer:function(e){e&&this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"picMoreFileShow"})}},viewMultiViewText:{type:String,value:""},viewBackBtnDisplay:{type:Boolean,value:!1},viewBackBtnText:{type:String,value:""},isPause:{type:Boolean,value:!0},outsideSingleFile:{type:Boolean,value:!1},prevPageType:{type:String,value:""}},data:{dataReady:!1,scrollIntoView:"",scrollXDist:0,content:"去APP内查看更多文件",schemeUrl:"",isAndroid:!1,hasApp:!1,processPage:""},lifetimes:{ready:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoScrollDisp"}),this.setData({isAndroid:"android"===S.globalData.systemInfo.system4Fe,hasApp:S.globalData.hasInstalledApp})}},methods:{setSchema:function(e){var t=(0,P.makeSpacialScheme)("MYFILE",{launch_ch:"1027940k",down_ch:"1027940l"},{path:e});this.setData({schemeUrl:t})},toAppClick:function(e){var t=this.data,a=t.isAndroid,i=t.hasApp,o="btn"===e.target.dataset.type?"btnMoreFileClick":"picMoreFileClick";this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:o}),S.globalData.isUserLogin&&(n.setClipboardData({data:this.data.schemeUrl,fail:function(e){console.warn(e)}}),!a||i||n.navigateTo({url:"/pages/download-page/index"}))},launchError:function(e){n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:S&&S.globalData.systemInfo.system4Fe},(0,P.getSchemaParam)(this.data.schemeUrl),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:S&&S.globalData.isUserLogin?"bd":""}))},calculateActiveVideo:function(){var e=S.globalData.systemInfo,t=this.properties,a=t.videoList,i=t.currentVideo,n=0;a.forEach((function(t,a){if(0!==a&&1!==a&&t.fs_id===i.fs_id){var o=20+8*a+132*(a+.5);n=o<e.screenWidth/2?0:o-e.screenWidth/2}})),this.setData({scrollIntoView:"video_"+i.fs_id,scrollXDist:n})},handleVideoClick:function(e){var t=e.currentTarget.id;t=t.split("_")[1],this.data.currentVideo.fs_id!==t&&(this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoScrollClk"}),this.triggerEvent("handleSwitchVideo",t))},handleViewMultiClick:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoScrollMoreBtnClk"}),this.triggerEvent("handleViewMultiClick")},handleViewAllFileClick:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"wholeFileClk"}),this.triggerEvent("handleViewAllFileClick")}}})})),window.define("268",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(235),S=e(8),D=o();Component({properties:{videoDirecMode:{type:String,value:""},topHeight:{type:Number,value:0},outsidePre:{type:Boolean,value:!1}},data:{schema:"",isAndroid:!1,hasApp:!1},lifetimes:{ready:function(){this.setData({isAndroid:"android"===D.globalData.systemInfo.system4Fe,hasApp:D.globalData.hasInstalledApp})}},methods:{setPreviewSchema:function(){var e=(0,P.makeScheme)();this.setData({schema:e})},handleViewClick:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewInApp"}),!this.data.isAndroid||this.data.hasApp?(n.log.openApp.outSidePage.send(),this.properties.outsidePre&&n.setClipboardData({data:D.globalData.shareInfo.sharelinkCommand})):n.navigateTo({url:"/pages/download-page/index"})},launchError:function(e){n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:D&&D.globalData.systemInfo.system4Fe},(0,S.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:D&&D.globalData.isUserLogin?"bd":""}))}}})})),window.define("270",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o(),D=n.getSystemInfoSync(),C=void 0;C=(0,P.compareVersion)(D.swanNativeVersion,"2.28.0")>=0,Component({properties:{titleText:{type:String,value:""},outsideSingleFile:{type:Boolean,value:!1}},data:{statusBarHeight:20,totalHeight:52,navHeight:72,homeUrl:"/pages/home/index",showBack:!1,compatible:"",isHighVersion:C},lifetimes:{created:function(){this.setData({statusBarHeight:S.globalData.statusBarHeight,totalHeight:S.globalData.totalHeight,navHeight:S.globalData.navHeight,compatible:S.globalData.systemInfo.compatibleVersion})},attached:function(){},ready:function(){(getCurrentPages().length>1||this.data.compatible)&&this.setData({showBack:!0})},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{navigateBack:function(){var e=getCurrentPages();S.globalData.movingIndex===e.length+1&&(S.globalData.moving=!1,S.globalData.movingIndex=1),n.navigateBack()},home:function(){n.log.header.homeBtnClick.send(),n.reLaunch({url:this.data.homeUrl})},setTitle:function(e){e&&this.setData({titleText:e})},setShowBack:function(e){this.setData({showBack:!!e})}}})})),window.define("272",(function(e,t,a,i,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S){"use strict";var D=e(33),C=e(273),T=e(7),I=e(274),E=e(276),x=e(278),A=e(149),L=e(8),B=s(),F=!0,N=(new Date).getTime(),O=!0,R=null;Component({behaviors:[A.shareFileSave],properties:{homePre:{type:Boolean,value:!1},outsidePre:{type:Boolean,value:!1},prevPageType:{type:String,value:""},outsideSingleFile:{type:Boolean,value:!1},networkStatus:{type:String,value:null},topHeight:{type:Number,value:0},autoSwitchNextVideo:{type:Boolean,value:!1},isSpnativePre:{type:Boolean,value:!1}},data:{videoStatus:"loading",lock:!1,size:"",name:"",path:"",retryTimes:0,mobileplaysrc:null,thumbs:"",fs_id:"",category:"",sizeWidth:"",feedTop:"",isPause:!1,videoMode:"landscape",isEnded:!1,autoPlay:!0,isAutoFullScreen:!0,longVideo:!1,coverVideoStatus:!1,currentTime:0,summaryInfo:null,source:"",isDlink:!1,initialTime:0,videoFit:"contain",videoFitIcon:"cover",isFullScreen:!1,needRecentTime:!1,outSideSaveTipsIsShow:null,showRecentTip:!1,videoViewTime:0,videoViewNumber:0,vipType:0,isTipsShow:!1,showWeakNetworkTips:!0,showFinishTips:!1,endStripeHasShowed:!1,nextSchemeUrl:"",nextVideo:"",nextVideoName:""},sum:0,lifetimes:{created:function(){this.setData({videoViewTime:(new Date).getTime()})},attached:function(){},ready:function(e){},detached:function(){r.log.videoPreview.currentTime.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage,currentTime:this.data.currentTime});var e=this.rawVideo||{};this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewTime",config:{fsid:e.fs_id,file_ext:e.real_category,file_name:e.server_filename,file_size:e.size,file_path:e.path,file_duration:e.duration,time:(new Date).getTime()-this.data.videoViewTime,scene:this.data.homePre?"main":"share",client:"shoubai",videoViewTime:(new Date).getTime()-this.data.videoViewTime}}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewNumber",config:{videoViewNumber:this.data.videoViewNumber}}),this.outSideSaveTipsTimer&&clearTimeout(this.outSideSaveTipsTimer),this.recentTipsTimer&&clearTimeout(this.recentTipsTimer),this.finishTipTimer&&clearTimeout(this.finishTipTimer)}},pageLifetimes:{show:function(){this.setData({videoViewTime:(new Date).getTime()})},hide:function(){r.log.videoPreview.currentTime.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage,currentTime:this.data.currentTime});var e=this.rawVideo||{};this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewTime",config:{fsid:e.fs_id,file_ext:e.real_category,file_name:e.server_filename,file_size:e.size,file_path:e.path,file_duration:e.duration,time:(new Date).getTime()-this.data.videoViewTime,scene:this.data.homePre?"main":"share",client:"shoubai",videoViewTime:(new Date).getTime()-this.data.videoViewTime}}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"viewNumber",config:{videoViewNumber:this.data.videoViewNumber}})}},methods:{closeEndTips:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoNextTipHide"}),this.setData({showFinishTips:!1}),this.triggerEvent("closeEndTips")},setSchema:function(e){var t=(0,L.makeSpacialScheme)("MYPLAY",{launch_ch:"1027940k",down_ch:"1027940l"},{path:e});this.setData({nextSchemeUrl:t})},handleNet:function(){"wifi"!==this.data.networkStatus?(this.pause(),"4g"!==this.data.networkStatus&&"3g"!==this.data.networkStatus&&"2g"!==this.data.networkStatus||this.setData({videoStatus:"mobileDataTip",isFullScreen:!1})):"wifi"===this.data.networkStatus&&this.play()},getNetworkType:function(e){var t=this;r.getNetworkType({success:function(e){t.setData("networkStatus",e.networkType.toLowerCase()),t.handleNet()},fail:function(e){console.log(e)}})},getVideoSummaryInfo:function(e){var t=e.path,a=e.size,i=e.width,n=e.height,o=e.bitmap,r=e.duration,s=e.fs_id;this.summaryInfo={path:encodeURIComponent(t),size:a,width:i,height:n,bitmap:o,duration:r,fs_id:s,media_source:"801",initTime:(new Date).getTime(),playTimes:0}},init:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.getNetworkType(),this.video=r.createVideoContext("videoId"),this.checkWeakNet(),this.source=t,B.globalData.selectList=[e],this.rawVideo=e,this.getVideoSummaryInfo(this.rawVideo),this.summaryInfo.playSource=a,r.log.videoPreview.playShow.send({from:t||this.summaryInfo.playSource,extra:JSON.stringify(this.summaryInfo)});var n=(0,D.toFriendlyQuotaSize)(this.rawVideo.size||0);this.setData({path:this.rawVideo.path,size:n,name:(0,D.disposeFileName)(this.rawVideo.server_filename),thumbs:this.rawVideo.thumbs,width:this.rawVideo.width,height:this.rawVideo.height,fs_id:this.rawVideo.fs_id,videoStatus:"loading",category:this.rawVideo.category,sizeWidth:28*(n.length+9),feedTop:!0===this.data.outsideSingleFile?B.globalData.systemInfo.screenHeightRpx-490-96-24-475-260+"rpx":B.globalData.systemInfo.screenHeightRpx-490-96-24-475+"rpx",isFullScreen:!1,isAutoFullScreen:!0,needRecentTime:i,videoFit:"contain",videoFitIcon:"cover",outSideSaveTipsIsShow:null,videoViewNumber:this.data.videoViewNumber+1}),this.getVideoMode(),this.getRecentVideoTime(),this.getVideoSrc(!1),this.triggerEvent("initName",this.data.name),this.triggerEvent("makeLogPoint",{point:"videoPrewviewTotal",config:{data:JSON.stringify(e)}})},setNextVideoInfo:function(e){if(e){var t=e.server_filename,a="";a=t.length>18?t.substr(0,10)+"..."+t.substr(t.length-8):t,this.setData({nextVideo:e,endStripeHasShowed:!1,showFinishTips:!1,nextVideoName:a}),this.setSchema(e.path)}},checkWeakNet:function(){var e=this;n((function(){e.data.src||e.data.mobileplaysrc||(e.setData({videoStatus:"weakNetwork"}),e.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"weakNetTipShow"}))}),2e3)},closeWeakTips:function(){this.setData({videoStatus:"manualTranscode"}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"weakNetTipHide"})},getVideoSrc:function(e){var t=this,a=this,i=this.data;this.setTimer(),i.networkStatus||a.getNetworkType(),this.setData({enterTime:""});var n={path:encodeURIComponent(i.path),fromuk:""};"outsiteChainFileList"===B.globalData.processPage&&(n.fromuk=B.globalData.shareInfo.uk,n.shareid=B.globalData.shareInfo.shareId),(0,C.videocheck)(n).then((function(e){if(e&&!e.audiotoken&&[e.error_code,e.errno].includes(31341)){var i="outsiteChainFileList"===B.globalData.processPage?"outsiteChain":"home";return r.newLog.videoPlayRelate.OriginalVideo.send({ext:{from:i}}),Promise.resolve(e)}return F=!0,a.handleResult(e)?("weakNetwork"!==t.data.videoStatus&&t.setData({videoStatus:"ready"}),(0,C.streamingAPI)(e.audiotoken,t.data.prevPageType)):Promise.reject()})).then((function(n){if(n.dlink)return"weakNetwork"!==t.data.videoStatus&&t.setData({videoStatus:"playing"}),void t.setData({isDlink:!0,src:n.dlink});if(!a.handleResult(n))return t.triggerEvent("makeLogPoint",{point:"videoPrewviewFail",config:{data:JSON.stringify(n)}}),void("outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewFail.send():r.log.homePreview.videoPreviewFail.send());a.setData({streamingStatus:!0,enterTime:(new Date).getTime()});var o=(0,C.getStreaming)(t.data.prevPageType);t.summaryInfo.playSrc=encodeURIComponent(o),a.setData({mobileplaysrc:o}),i.networkStatus&&!e&&"weakNetwork"!==i.videoStatus&&a.handleNetworkAndStreamingStatus(),"playing"===i.videoStatus&&(r.log.videoPreview.previewSuccess.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage,extra:JSON.stringify(t.summaryInfo)}),r.newLog.videoPlayRelate.TurnAndPlay.send(),t.triggerEvent("makeLogPoint",{point:"videoPrewviewSuccess"}),"outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewSuccess.send():r.log.homePreview.videoPreviewSuccess.send(),a.setData({src:o}),t.getReqData(o))})).catch((function(e){t.triggerEvent("makeLogPoint",{point:"videoPrewviewFail",config:{data:JSON.stringify(e)}}),"outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewFail.send():r.log.homePreview.videoPreviewFail.send()}))}},getReqData:function(e){var t=e.replace("https://pan.baidu.com/","");(0,x.getRequestData)(t).then((function(e){e&&!/#EXT-X-ENDLIST/.test(e)&&(r.log.videoDuration.noProgress.send(),n((function(){r.sptoast({type:"",title:"此视频当前暂不支持拖动进度"})}),1e3))}))},setTimer:function(){var e=this;if(!this.data.isDlink)var t=o((function(){"loading"!==e.data.videoStatus&&"ready"!==e.data.videoStatus||(e.handleNetworkAndStreamingStatus("errorRetry"),e.setData({lock:!0})),clearInterval(t)}),2e4)},handleResult:function(e){return!this.data.lock&&(e?e.errno&&0!==e.errno?(this.handleNetworkAndStreamingStatus("errorRetry"),!1):!e.error_code||("manualTranscode"===this.data.videoStatus&&r.sptoast({type:"loading",title:"视频后台处理中，请稍后"}),31347===e.error_code?(this.handleNetworkAndStreamingStatus("errorNotSupport"),!1):31341===e.error_code?(this.handleNetworkAndStreamingStatus("transcode"),!1):31339===e.error_code?(this.handleNetworkAndStreamingStatus("illegalVideo"),!1):(this.handleNetworkAndStreamingStatus("errorRetry"),!1)):(this.handleNetworkAndStreamingStatus("errorRetry"),!1))},handleNetworkAndStreamingStatus:function(e){var t=this,a=this.data.networkStatus,i=e||this.data.videoStatus,o=this.data.streamingStatus;if(!this.data.lock)switch(i){case"transcode":this.data.retryTimes>3?(this.setData({videoStatus:"manualTranscode"}),r.log.videoPreview.previewFail.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFail"}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFailRetryBtnDisplay"})):(this.setData({videoStatus:"transcode"}),n((function(){t.retryPlayVideo()}),2e3));break;case"errorRetry":this.data.retryTimes>3?(this.setData({videoStatus:"manualRetry"}),r.log.videoPreview.previewFail.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFail"}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFailRetryBtnDisplay"})):(this.setData({videoStatus:"errorRetry"}),n((function(){t.retryPlayVideo()}),2e3));break;case"errorNotSupport":this.setData({videoStatus:"errorNotSupport"}),r.log.videoPreview.previewFail.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFail"});this.startDialog((function(e){e.confirm&&("outsiteChainFileList"===B.globalData.processPage&&r.log.outsitePreview.videoPreviewNotSupportOpenApp.send(),"home"===B.globalData.processPage&&r.log.homePreview.videoPreviewNotSupportOpenApp.send())}),{showCancel:!0,showConfirm:!1,showLogin:!0,cancelText:"取消",content:"该视频无法播放，请在App内查看",confirmText:"使用App打开",showBtn:!0});break;case"illegalVideo":this.setData({videoStatus:"illegalVideo"}),r.log.videoPreview.previewFail.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFail"});break;case"ready":o&&"wifi"!==a?this.setData({videoStatus:"mobileDataTip"}):this.setData({videoStatus:"playing"});break;default:this.setData({videoStatus:"errorRetry"})}},prevFailRetryPlayVideo:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"playbackErrorTryAgain"}),this.retryPlayVideo()},retryPlayVideo:function(e){!1!==F&&(this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"retryBtnClk"}),e||(this.data.retryTimes=this.data.retryTimes+1),F=!1,this.setData({lock:!1}),this.getVideoSrc())},getRecentVideoTime:function(){var e=this,t=this.data,a=t.fs_id;t.needRecentTime&&(0,E.getRecentVideoList)({url:"recent/video/list",needDetail:1}).then((function(t){if(!t.hasError&&0===t.errno){var i=t.list.filter((function(e){return e.fs_id.toString()===a.toString()}));i&&i[0]&&(e.setData({initialTime:i[0].vtime||0}),e.setRecentTipIsShow())}}))},getVideoMode:function(){var e=this,t=this.data,a=t.thumbs,i=t.height,n=t.width,o=function(t,a){t&&a&&t/a>1&&e.setData({videoMode:"portrait"})};if(i&&n)o(i,n);else if(a&&a.icon){var r=(a.icon||"").replace(/http:\/\//,"https://");(0,T.getImageInfo)(r).then((function(e){var t=e.width,a=e.height;o(a,t)}),(function(e){console.log(e)}))}},onPlay:function(e){var t=this;this.summaryInfo.first_frame_time=(new Date).getTime();var a=this.summaryInfo.first_frame_time-N;O&&(this.data.isDlink?r.newLog.videoPlayRelate.OrigStartTime.send({time:a}):r.newLog.videoPlayRelate.TurnStartTime.send({time:a}),r.newLog.videoPlayRelate.allStartTime.send({time:a}),O=!1),this.checkCanShowSaveTips(),r.log.videoPreview.playOn.send({from:this.source||this.summaryInfo.playSource,extra:JSON.stringify(this.summaryInfo)}),this.setData({isPause:!1,isEnded:!1},(function(){t.triggerEvent("videoPauseStatusChange",!1)})),this.summaryInfo.playTimes++},onPause:function(){var e=this;this.setData({isPause:!0},(function(){e.triggerEvent("videoPauseStatusChange",!0)}))},onFullscreen:function(e){var t=this,a=e.detail;this.setData({vipType:B.globalData.vipInfo.vip_type||0,isFullScreen:1===Number(a.fullscreen)}),clearTimeout(R),"outsiteChainFileList"!==this.data.prevPageType&&1===Number(a.fullscreen)?(0!==this.data.vipType&&r.log.coverView.videoCoverViewAppBtnDisplay.send(),this.setData({coverVideoStatus:!0}),this.triggerEvent("makeLogPoint",{point:this.data.vipType?"startStripeVipShow":"startStripeShow"}),R=n((function(){t.setData({coverVideoStatus:!1}),t.data.isTipsShow||(t.setData({isTipsShow:!0}),t.triggerEvent("makeLogPoint",{point:"openCallClientShow"}))}),7e3)):this.setData({coverVideoStatus:!1}),r.log.videoPreview.fullScreenClick.send({from:B.globalData.currentPageType,prevPageType:B.globalData.processPage}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"fullScreenBtn",config:{isFullScreen:Number(a.fullscreen)}})},changeTipsShow:function(){this.triggerEvent("makeLogPoint",{point:this.data.isTipsShow?"openCallClientOpen":"openCallClientHide"}),this.setData({isTipsShow:!this.data.isTipsShow})},handleTipsClick:function(){this.triggerEvent("makeLogPoint",{point:"openCallClientClick"}),this.exitFullScreen()},handleStartStripe:function(){var e=this.data,t=e.vipType,a=e.videoStatus;this.triggerEvent("makeLogPoint",{point:t?"startStripeVipClick":"startStripeClick"}),"weakNetwork"===a&&this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"weakNetTipClick"}),this.exitFullScreen()},handleEndStripe:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoNextTipClick"}),this.setData({showFinishTips:!1}),this.video.exitFullScreen();var e=this.data.nextSchemeUrl;this.startDialog((function(e){e.confirm&&("outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewOpenApp.send():r.log.homePreview.videoPreviewOpenApp.send())}),{showBtn:!0,showCancel:!0,showConfirm:!1,showLogin:!0,cancelText:"取消",content:"",contents:[],title:"打开百度网盘App 观看全片",confirmText:"使用App打开",schema:e})},exitFullScreen:function(){this.video.exitFullScreen(),this.setData({coverVideoStatus:!1,showFinishTips:!1}),this.openApp()},closeCoverView:function(){this.triggerEvent("makeLogPoint",{point:this.data.vipType?"startStripeVipHide":"startStripeHide"}),this.setData({coverVideoStatus:!1,isTipsShow:!0}),isTipsShow&&r.newLog.callClientOptimization.openCallClientShow.send()},onEnded:function(e){var t=this;if(this.summaryInfo.endTime=(new Date).getTime(),r.log.videoPreview.playEnd.send({from:this.source||this.summaryInfo.playSource,extra:JSON.stringify(this.summaryInfo)}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoEnd"}),this.data.autoSwitchNextVideo)this.triggerEvent("autoSwitchNextVideo");else{if(this.summaryInfo.duration&&this.summaryInfo.duration<120)return;this.setData({videoStatus:"playEnd"}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"playEndDisplay"})}this.setData({isEnded:!0},(function(){t.triggerEvent("videoPauseStatusChange",!0)}))},onError:function(e){this.setData({videoStatus:"errorNotSupport"})},timeupdate:function(e){var t=this,a=e.detail,i=a.currentTime,o=a.duration,r=this.data.endStripeHasShowed,s=parseInt(i);this.setData({currentTime:s});var c=o>300&&o-s<120;if(!r&&(c||o<300&&o>60&&o-s<=5)){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"videoNextTipShow"}),this.setData({showFinishTips:!0,endStripeHasShowed:!0});var l=c?12e4:5e3;this.finishTipTimer=n((function(){t.setData({showFinishTips:!1})}),l)}s%3==0&&this.reportVideo(i),this.sum>0||this.data.isPause||(this.sum+=1,this.dealTime(o))},reportVideo:function(e){"outsiteChainFileList"!==this.data.prevPageType&&(0,I.reportRecentVideo)({url:"recent/report",detail:JSON.stringify([{type:3,fs_id:Number(this.data.fs_id),category:Number(this.data.category),view_time:parseInt(e),op_time:Math.floor((new Date).getTime()/1e3)}])})},dealTime:function(e){Number(e)>=120&&this.setData({longVideo:!0})},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,n=t.content,o=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn,p=t.title,u=t.contents,d=t.schema;r.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:n,confirmText:o,showBtn:l,title:p,contents:u,schema:d})},playVideoBy4G:function(){"outsiteChainFileList"===B.globalData.processPage&&r.log.outsitePreview.videoPreviewOnTraffic.send(),"home"===B.globalData.processPage&&r.log.homePreview.videoPreviewOnTraffic.send();var e=this.data.mobileplaysrc;this.setData({src:e,videoStatus:"playing"})},play:function(){this.setData({src:this.data.mobileplaysrc,videoStatus:"playing"})},pause:function(){this.video.pause()},errOpenApp:function(){var e=this;this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFailOpenApp"});this.startDialog((function(t){t.confirm&&e.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFailOpenAppConfirm"})}),{showBtn:!0,showCancel:!0,showConfirm:!1,showLogin:!0,cancelText:"取消",content:"",contents:[],title:"打开百度网盘App 观看全片",confirmText:"使用App打开"})},openApp:function(){"outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewOpenAppClick.send():r.log.homePreview.videoPreviewOpenAppClick.send();this.startDialog((function(e){e.confirm&&("outsiteChainFileList"===B.globalData.processPage?r.log.outsitePreview.videoPreviewOpenApp.send():r.log.homePreview.videoPreviewOpenApp.send())}),{showBtn:!0,showCancel:!0,showConfirm:!1,showLogin:!0,cancelText:"取消",content:"",contents:[],title:"打开百度网盘App 观看全片",confirmText:"使用App打开"})},handleVideoFit:function(){"contain"===this.data.videoFit?this.setData({videoFit:"cover",videoFitIcon:"contain"}):this.setData({videoFit:"contain",videoFitIcon:"cover"})},openShare:function(){this.data.isFullScreen&&this.video.exitFullScreen(),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"screenShareBtn"}),this.triggerEvent("singleVideoShare")},checkCanShowSaveTips:function(){var e=this;"outsiteChainFileList"===this.data.prevPageType&&null===this.data.outSideSaveTipsIsShow&&n((function(){e.setSaveTipsIsShow()}),500)},setSaveTipsIsShow:function(){var e=this;this.setData({outSideSaveTipsIsShow:!0}),this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"transferDisp"}),this.outSideSaveTipsTimer=n((function(){e.closeOutSideSaveTips()}),3e3)},setRecentTipIsShow:function(){var e=this;0!==this.data.initialTime&&(this.setData({showRecentTip:!0}),this.recentTipsTimer=n((function(){e.setData({showRecentTip:!1})}),3e3))},closeOutSideSaveTips:function(){this.setData({outSideSaveTipsIsShow:!1})},saveVideoTransfer:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"transferClk"}),this.preSaveCheck(),r.log.save.saveBtnClick.send({from:"ishome"})},saveVideo:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"previewFailSave"}),this.preSaveCheck(),r.log.save.saveBtnClick.send({from:"ishome"})},prevFailSaveVideo:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"playbackErrorSave"}),this.saveVideo()},playEndSaveVideo:function(){this.triggerEvent("makeLogPoint",{internal:"videoPlayRelate",point:"playEndClk"}),this.saveVideo()},showToast:function(e){r.sptoast(e)}})})),window.define("273",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getStreaming=a.streamingAPI=a.videocheck=void 0;var P=e(16),S="";a.videocheck=function(e){var t=e.path,a=e.fromuk;return(0,P.bdRequest)({api:"api/wechat/videocheck?path="+t+"&type=M3U8_FLV_264_480&fromuk="+a,method:"GET",clientType:32})},a.streamingAPI=function(e,t){var a=32,i="netdisk_bdmin",n="api/wechat/videostream.m3u8?audiotoken="+e;return"outsiteChainFileList"!==t&&(a=25,i="weixin",n+="&isfull=1"),e?(S=e,(0,P.bdRequest)({api:n,method:"POST",clientType:a,channel:i})):Promise.reject()},a.getStreaming=function(e){var t="https://pan.baidu.com/api/wechat/videostream.m3u8?audiotoken="+S+"&clienttype=25";return"outsiteChainFileList"!==e&&(t+="&isfull=1"),t}})),window.define("274",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reportRecentVideo=void 0;var P=e(275);a.reportRecentVideo=function(e){return(0,P.reportVideo)(e).then((function(e){return e})).catch((function(e){console.log("上报视频播放时间失败")}))}})),window.define("275",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.reportVideo=void 0;var P=e(16);a.reportVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.url,a=e.detail,i={api:t,data:{detail:a},method:"POST",clientType:32};return(0,P.bdRequest)(i)}})),window.define("276",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getRecentVideoList=void 0;var P=e(277);a.getRecentVideoList=function(e){var t={hasError:!1};return(0,P.recentVideoList)(e).then((function(e){return t.errno=e.errno,t.endTime=e.end_time,t.tipDone=e.tipDone,t.list=e.detail,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("277",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.recentVideoList=void 0;var P=e(16);a.recentVideoList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.url,a=e.needDetail,i=void 0===a?0:a,n={api:t,data:{need_detail:i},method:"GET",clientType:32};return(0,P.bdRequest)(n)}})),window.define("278",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getRequestData=void 0;var P=e(279);a.getRequestData=function(e){var t={hasError:!1};return(0,P.requestTest)(e).then((function(e){return t=e})).catch((function(e){return hasError=!0,t}))}})),window.define("279",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.requestTest=void 0;var P=e(16);a.requestTest=function(e){var t={api:e};return(0,P.bdRequest)(t)}})),window.define("281",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=n.ENV.staticPath;Component({properties:{memberType:{type:Number,value:0}},data:{svipIcon:P+"/banner_logo_svip.png",rightArrowIcon:P+"/banner_ic_enter.png",title:"",subTitle:"",desc:"",vip_type:"",bgUrl:"",btnTxt:"",btnColor:"",showVip:"",action_url:""},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{init:function(e){this.setData(e),this.choseBg(e.vip_type),this.setData({btnTxt:e.button.text,action_url:e.button.action_url})},handleEntryTap:function(){},choseBg:function(e){var t=void 0,a=void 0;e+""=="0"?(t="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fimage_free.png",a="color: #03081A;"):e+""=="1"?(t="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fimage_vip.png",a="color: #FA4641;"):(t="https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fimage_svip.png",a="color: #402200;"),this.setData({bgUrl:t,btnColor:a})},vipAction:function(){var e;e=this.data.action_url+"&from=myvip",n.log.vipGuide.myVipGuide.send(),n.redirectTo({url:e})}}})})),window.define("283",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S=e(284),D=(P=S)&&P.__esModule?P:{default:P},C=e(293);function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=o();Component({downloadTaskManage:new D.default,behaviors:[C.taskList],timer:0,properties:{topHeight:{type:Number,value:0}},data:{currentType:"sp_native",initDuraing:!1,isEmpty:!0,emptyIcon:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-download-icon.png",emptyText:"暂无保存记录",overlimit:40,overlimitText:"仅展示40条保存完成记录",doneList:[],undoneList:[],errorList:[],selectedList:[],canSelect:!1,doneListIsShow:!1,undoneListIsShow:!1,errorListIsShow:!1,clearBtnIsShow:!1},lifetimes:{created:function(){},attached:function(){},ready:function(){console.warn("downlodList Component is ready"),this.checkDownloadManager()},detached:function(){this.clearUpdateTaskTimer()}},pageLifetimes:{show:function(){console.warn("downlodList Component is show"),n.newLog.downloadPage.pageDisplay.send(),this.setData({previewIng:!1}),this.checkDownloadManager()},hide:function(){console.warn("downlodList Component is hide"),this.clearUpdateTaskTimer()}},methods:{checkDownloadManager:function(){var e=I.globalData.downloadTaskManage;e&&e instanceof D.default?(this.downloadTaskManage=e,this.updateTaskList(e)):n.sptoast({type:"",title:"加载中"}),this.setData({initDuraing:!0}),this.initDownloadList()},initDownloadList:function(){var e=this;this.downloadTaskManage.initData({successCallback:function(){n.sptoasthide(),e.setData({initDuraing:!1}),e.updateTaskList()},failCallback:function(){e.setData({initDuraing:!1}),n.sptoast({type:"",title:"加载失败"})},updateListener:function(){e.updateTaskList()}})},updateTaskList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=e||this.downloadTaskManage;var t=this.data,a=t.doneListIsShow,i=t.undoneListIsShow,o=t.errorListIsShow,r={};r.doneList=e.getDoneTaskList(),r.undoneList=e.getUndoneTaskList(),r.errorList=e.getErrorTaskList(),r.isEmpty=!r.doneList.length&&!r.undoneList.length&&!r.errorList.length,r.doneList.length>0&&!a&&n.newLog.downloadPage.downloadSuccessListDisplay.send(),r.doneListIsShow=!!r.doneList.length,r.undoneList.length>0&&!i&&n.newLog.downloadPage.savingDisplay.send(),r.undoneListIsShow=!!r.undoneList.length,r.errorList.length>0&&!o&&n.newLog.downloadPage.downloadFailDisplay.send(),r.errorListIsShow=!!r.errorList.length,this.setData(r)},checkForUndoneTasks:function(){var e=this;this.downloadTaskManage.checkForUndoneTasks((function(){e.updateTaskList()}))},clearUpdateTaskTimer:function(){this.downloadTaskManage.clearTimer()},makeSelect:function(e){var t=this,a=this.data,i=a.doneList,n=a.undoneList,o=a.errorList,r=Number(e.status),s=e.task_id,c={done:{type:"doneList",list:i},undone:{type:"undoneList",list:n},error:{type:"errorList",list:o}},l="";l=0===r?"done":[4,5].includes(r)?"error":"undone",c[l].list.forEach((function(a,i){if(a.task_id===s){e.selected=!a.selected;var n=c[l].type+"["+i+"].selected";t.setData(T({},n,!a.selected))}})),this.makeSelectedList({type:"single",task:e}),this.data.canSelect?this.clearUpdateTaskTimer():this.checkForUndoneTasks()},makeSelectedList:function(e){var t=e.type,a=e.task,i=e.selectAll,o=void 0===i||i,r=this.data,s=r.doneList,c=r.undoneList,l=r.errorList,p=this.data.selectedList;if("single"===t){var u=p.findIndex((function(e){return e.task_id===a.task_id})),d=Boolean(~u);d&&!a.selected&&(p=p.filter((function(e){return e.task_id!==a.task_id}),{})),!d&&a.selected&&(p[p.length]=a)}"multi"===t&&(p=o?a:[]),this.setData({selectedList:p,canSelect:!!p.length,isSelectedAll:p.length===s.length+c.length+l.length}),!this.data.clearBtnIsShow&&this.data.canSelect&&(n.newLog.downloadPage.clearBtnDisplay.send(),this.setData({clearBtnIsShow:!0})),this.data.canSelect||this.setData({clearBtnIsShow:!1}),this.updateCanSelect(this.data.canSelect)},selectedAll:function(){var e=this,t=this.data,a=t.doneList,i=t.undoneList,n=t.errorList,o=[{type:"doneList",list:a},{type:"undoneList",list:i},{type:"errorList",list:n}],r=this.data.selectedList.length!==a.length+i.length+n.length,s=function(t){var a=t.type;t.list.forEach((function(t,i){var n=a+"["+i+"].selected";e.setData(T({},n,r))}))},c=!0,l=!1,p=void 0;try{for(var u,d=o[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){s(u.value)}}catch(e){l=!0,p=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw p}}var h=a.concat(i).concat(n);this.makeSelectedList({type:"multi",task:h,selectAll:r})},cancelSelected:function(){this.setData({selectedList:[],canSelect:!1,isSelectedAll:!1}),this.updateCanSelect(!1),this.updateTaskList(),this.checkForUndoneTasks()},deleteSelected:function(){0!==this.data.selectedList.length&&(n.newLog.downloadPage.clearBtnClick.send(),this.deleteTask(this.data.selectedList))},deleteTask:function(e){n.sptoast({type:"",title:"删除中"}),this.downloadTaskManage.deleteTask(e),this.cancelSelected(),n.sptoast({type:"",title:"删除成功"})},operateActionView:function(){n.newLog.downloadPage.clickViewFile.send(),this.toBaiduPath()},confirmDeleteTask:function(e){var t=this;n.showDialog({always:function(a){a.confirm&&t.deleteTask(e)},showCancel:!0,showConfirm:!0,showLogin:!1,cancelText:"取消",confirmText:"确定",showBtn:!0,title:"确定清除全部记录？"})},operateActionClearDoneList:function(){this.confirmDeleteTask(this.data.doneList),n.newLog.downloadPage.emptyDoneFileClick.send()},operateActionClearErrorList:function(){this.confirmDeleteTask(this.data.errorList),n.newLog.downloadPage.emptyErrorFileClick.send()},handleItemSelected:function(e){var t=e.detail.customData;this.makeSelect(t)},handleOperateClick:function(e){var t=e.detail.customData;switch(t.statusType){case"deleteTask":this.deleteTask([t]),n.newLog.downloadPage.savingDeleteClick.send()}},handleFilePreview:function(e){var t=e.detail.customData;1!==Number(t.status)?[4,5].includes(Number(t.status))?n.sptoast({type:"",title:"文件保存失败，暂不支持预览"}):(this.filePreview(t),n.newLog.downloadPage.downloadSuccessClick.send()):n.sptoast({type:"",title:"文件正在保存中，请稍等"})}}})})),window.define("284",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var S,D=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),C=e(8),T=e(285),I=e(287),E=(S=I)&&S.__esModule?S:{default:S},x=e(292);function A(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var L=r(),B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.allTaskList=[],a.timer=0,a.updateListener=0,a}var a,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"initData",value:function(){var e=A(regeneratorRuntime.mark((function e(){var t,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,n=i.successCallback,r=i.failCallback,s=i.updateListener;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.bdstoken=o.getStorageSync("stoken"),e.next=3,this.getListTasks();case 3:if(!1!==(t=e.sent)||!r){e.next=7;break}return r(),e.abrupt("return");case 7:return e.next=9,this.getQueryTasks(t);case 9:if(!1!==(a=e.sent)||!r){e.next=13;break}return r(),e.abrupt("return");case 13:this.updateAndFilterList(t,a),n&&n(),this.updateListener=s,this.checkForUndoneTasks();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAndFilterList",value:function(e,t){this.allTaskList=this.updateTasksInfo(e,t);var a=this.filterTaskList(this.allTaskList);this.setTaskList(a),L.globalData.downloadTaskManage=this}},{key:"setTaskList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.doneList,a=e.undoneList,i=e.errorList;this.doneStatusList.setList(t),this.undoneStatusList.setList(a),this.errorStatusList.setList(i)}},{key:"filterTaskList",value:function(e){var t=[],a=[],i=[];return e.forEach((function(e){if(e.canshow){var n=Number(e.status),o=(0,x.getTaskOperateByStatus)({type:"sp_native",status:n}),r=o.statusType,s=o.statusImg;e.statusType=r,e.statusImg=s,e.selected=!1,e.textInfo=e.createTime,0===n&&t.length<40&&t.push(e),[4,5].includes(n)&&i.push(e),1===n&&(e.rate=(0,C.getPercent)(e.finished_size,e.file_size),e.textInfo=e.finishedSize+"/"+e.fileSize,a.push(e))}})),{doneList:t,undoneList:a,errorList:i}}},{key:"updateTasksInfo",value:function(e,t){return e.map((function(e){if(t[e.task_id]){var a=t[e.task_id];e.canshow=!0,e.status=a.status,e.file_size=a.file_size,e.finished_size=a.finished_size,a.thumbs&&(e.thumbs=a.thumbs),e=(0,x.transDownloadTaskAttributes)(e)}return e}))}},{key:"getListTasks",value:(r=A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.getOutlineList)({bdstoken:this.bdstoken});case 2:if(!(t=e.sent).errCode){e.next=5;break}return e.abrupt("return",!1);case 5:if(Array.isArray(t.task_info)){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",t.task_info);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getQueryTasks",value:(i=A(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=t.map((function(e){return e.task_id}))).length){e.next=3;break}return e.abrupt("return",{});case 3:return a=a.join(",")+",",e.next=6,(0,T.queryOutlineTask)({bdstoken:this.bdstoken,task_ids:a});case 6:if(!(i=e.sent).errCode){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",i.task_info||{});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"checkForUndoneTasks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"function"==typeof e&&(this.updateListener=e);var t=this.undoneStatusList.getList();0!==t.length&&this.makeTimer(t)}},{key:"makeTimer",value:(a=A(regeneratorRuntime.mark((function e(t){var a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQueryTasks(t);case 2:if(!1!==(a=e.sent)){e.next=5;break}return e.abrupt("return");case 5:if(this.updateAndFilterList(this.allTaskList,a),"function"==typeof this.updateListener&&this.updateListener(),0!==this.undoneStatusList.getList().length){e.next=10;break}return this.clearTimer(),e.abrupt("return");case 10:this.timer=n((function(){i.checkForUndoneTasks()}),1500);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"clearTimer",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"deleteTask",value:function(e){var t=this;if(0!==e.length){e.forEach((function(e){t.deleteTaskItem(e)}));var a=e.map((function(e){return e.task_id}));this.allTaskList.forEach((function(e){a.includes(e.task_id)&&(e.canshow=!1)}));var i=this.filterTaskList(this.allTaskList);this.setTaskList(i)}}},{key:"deleteTaskItem",value:function(e){if(e){var t=Number(e.status),a={bdstoken:this.bdstoken,task_id:e.task_id};1===t?(0,T.cancelOutlineTask)(a).then((function(){(0,T.deleteOutlineTask)(a)})):(0,T.deleteOutlineTask)(a)}}}]),t}(E.default);a.default=B})),window.define("285",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addOutlineTask=a.cancelOutlineTask=a.deleteOutlineTask=a.queryOutlineTaskByUrl=a.queryOutlineTask=a.getOutlineList=void 0;var P=e(286);a.getOutlineList=function(e){var t={hasError:!1};return(0,P.outlineListApi)(e).then((function(e){return t.errCode=e.error_code,t.errno=e.errno,t.request_id=e.request_id,t.task_info=e.task_info,t.total=e.total,t})).catch((function(e){return t.hasError=!0,t}))},a.queryOutlineTask=function(e){var t={hasError:!1};return(0,P.outlineTaskApi)(e).then((function(e){return t.errno=e.errno,t.request_id=e.request_id,t.task_info=e.task_info,t.total=e.total,t})).catch((function(e){return t.hasError=!0,t}))},a.queryOutlineTaskByUrl=function(e){var t={hasError:!1};return(0,P.outlineTaskApiByUrl)(e).then((function(e){return t.error_code=e.error_code,t.request_id=e.request_id,t.task_info=e.task_info,t})).catch((function(e){return t.hasError=!0,t}))},a.deleteOutlineTask=function(e){var t={hasError:!1};return(0,P.deleteTaskApi)(e).then((function(e){return t.request_id=e.request_id,t})).catch((function(e){return t.hasError=!0,t}))},a.cancelOutlineTask=function(e){var t={hasError:!1};return(0,P.cancelTaskApi)(e).then((function(e){return t.errno=e.errno,t.request_id=e.request_id,t})).catch((function(e){return t.hasError=!0,t}))},a.addOutlineTask=function(e,t){var a={hasError:!1};return(0,P.addTaskApi)(e,t).then((function(e){return e.task_id?(a.error_code=0,a.request_id=e.request_id,a.task_id=e.task_id,a.show_msg="添加成功"):(a.error_code=e.error_code||-2,a.request_id=e.request_id||0,a.show_msg=e.error_code?e.error_msg+"-"+e.show_msg:"未知错误"),a})).catch((function(e){return a.hasError=!0,a.error_code=-2,a.show_msg=JSON.stringify(e),a}))}})),window.define("286",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addTaskApi=a.cancelTaskApi=a.deleteTaskApi=a.outlineTaskApiByUrl=a.outlineTaskApi=a.outlineListApi=void 0;var P=e(16),S="rest/2.0/services/cloud_dl",D="5494197";a.outlineListApi=function(e){var t=e.bdstoken;return(0,P.bdRequest)({api:S+"?bdstoken="+t+"&app_id="+D+"&method=list_task&need_task_info=1&status=255",method:"GET",clientType:"5",channel:"chunlei"})},a.outlineTaskApi=function(e){var t=e.bdstoken,a=e.task_ids;return(0,P.bdRequest)({api:S+"?bdstoken="+t+"&web=5&app_id="+D+"&method=query_task&task_ids="+a+"&op_type=1",method:"GET",clientType:"5",channel:"chunlei"})},a.outlineTaskApiByUrl=function(e){var t=e.bdstoken,a=e.task_urls;return(0,P.bdRequest)({api:S+"?bdstoken="+t+"&web=5&app_id="+D+"&method=query_task&task_urls="+a+"&query_type=1&op_type=1",method:"GET",clientType:"5",channel:"chunlei"})},a.deleteTaskApi=function(e){var t=e.bdstoken,a=e.task_id;return(0,P.bdRequest)({api:S+"?bdstoken="+t+"&web=5&app_id="+D+"&method=delete_task&task_id="+a,method:"GET",clientType:"5",channel:"chunlei"})},a.cancelTaskApi=function(e){var t=e.bdstoken,a=e.task_id;return(0,P.bdRequest)({api:S+"?bdstoken="+t+"&web=5&app_id="+D+"&method=cancel_task&task_id="+a,method:"GET",clientType:"5",channel:"chunlei"})},a.addTaskApi=function(e,t){return t.app_id=t.app_id||D,(0,P.bdRequest)({api:S+"?bdstoken="+e+"&method=add_task",data:t,method:"POST",clientType:"",channel:"chunlei"})}})),window.define("287",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),S=T(e(288)),D=T(e(290)),C=T(e(291));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doneStatusList=new S.default,this.undoneStatusList=new D.default,this.errorStatusList=new C.default}return P(e,[{key:"getDoneTaskList",value:function(){return this.doneStatusList.getList()}},{key:"getUndoneTaskList",value:function(){return this.undoneStatusList.getList()}},{key:"getErrorTaskList",value:function(){return this.errorStatusList.getList()}},{key:"getAllTaskList",value:function(){return this.allTaskList}}]),e}();a.default=I})),window.define("288",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(289);var D=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((P=S)&&P.__esModule?P:{default:P}).default);a.default=D})),window.define("289",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[]}return P(e,[{key:"getList",value:function(){return this.list}},{key:"setList",value:function(e){Array.isArray(e)&&(this.list=e)}}]),e}();a.default=S})),window.define("290",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(289);var D=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((P=S)&&P.__esModule?P:{default:P}).default);a.default=D})),window.define("291",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P,S=e(289);var D=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((P=S)&&P.__esModule?P:{default:P}).default);a.default=D})),window.define("292",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.transDownloadTaskAttributes=a.transBackupAttributes=a.transUploadTaskAttributes=a.getErrorMsg=a.getTaskOperateByStatus=void 0;var P=e(33),S=e(57),D=e(8),C=[{errorCode:1001,errMsg:"等待wifi中"},{errorCode:1002,errMsg:"等待wifi中"},{errorCode:2001,errMsg:"没有登录"},{errorCode:2003,errMsg:"没有网盘空间"},{errorCode:2004,errMsg:"账号封禁"},{errorCode:3001,errMsg:"本地文件不存在"},{errorCode:3003,errMsg:"上传文件名格式非法"},{errorCode:3004,errMsg:"上传文件数超过500W"},{errorCode:3005,errMsg:"上传文件超过4G"},{errorCode:3006,errMsg:"文件已被其他app上传"},{errorCode:3008,errMsg:"文件不完整"},{errorCode:4001,errMsg:"参数错误"},{errorCode:4002,errMsg:"数据库错误"},{errorCode:5001,errMsg:"低电量"}],T="https://staticwx.cdn.bcebos.com/mini-program/images/task_delete.png",I="https://staticwx.cdn.bcebos.com/mini-program/images/task_resume.png",E="https://staticwx.cdn.bcebos.com/mini-program/images/task_stop.png",x="https://staticwx.cdn.bcebos.com/mini-program/images/task_upload.png",A=a.getTaskOperateByStatus=function(e){var t=e.type,a=void 0===t?"":t,i=e.status,n=void 0===i?0:i,o={statusType:"",statusImg:""};return n=Number(n),"sp_native_upload"===a&&(0===n?(o.statusType="pauseUploadTask",o.statusImg=E):2===n?(o.statusType="startUploadTask",o.statusImg=x):-1===n&&(o.statusType="retryUploadTask",o.statusImg=I)),"sp_native"===a&&1===n&&(o.statusType="deleteTask",o.statusImg=T),o},L=a.getErrorMsg=function(e){var t=C.find((function(t){return t.errorCode===e}));return t?t.errMsg:"未知错误"};a.transUploadTaskAttributes=function(e,t,a){return a.map((function(a){a.type=t,a.selected=!1,a.file_name=(0,P.disposeTaskFileName)(a.fileName),a.file_img=(0,S.makeFileIcon)(a),"running"!==t&&"paused"!==t||(a.rate=(0,D.getPercent)(a.currentSize,a.fileSize),a.speed="number"==typeof a.speed&&0!==a.speed?(0,P.toFriendlyQuotaSize)(a.speed)+"/s":"");var i=A({type:e,status:a.status}),n=i.statusType,o=i.statusImg;return a.status_type=n,a.status_img=o,a.create_time=(0,P.timestampTurnsTime)(a.createTime),"number"!=typeof a.currentSize?a.finished_size=0:a.finished_size=(0,P.toFriendlyQuotaSize)(a.currentSize),a.file_size=(0,P.toFriendlyQuotaSize)(a.fileSize),["running","paused"].includes(t)&&(a.textInfo=a.finished_size+"/"+a.file_size),["finished"].includes(t)&&(a.textInfo=a.create_time+" "+a.file_size),a.errorCode&&(a.errorMsg=L(a.errorCode),"running"===t&&(a.textInfo=a.errorMsg)),a}))},a.transBackupAttributes=function(e){var t=e.status,a=e.finishedNum,i=e.totalNum;return t=Number(t),e.rate=(0,D.getPercent)(a,i),e.transPath=e.savePath,e.transPath&&"/"===e.transPath[0]&&(e.transPath=e.transPath.substr(1)),1e3===t?(e.statusImg=E,e.statusType="waitInit",e.title="自动备份",e.textInfo="等待备份中，正在收集文件 "+(i-a)+" 个",e.needRate=!1,e.needOperate=!1):1001===t?(e.statusImg=E,e.statusType="pauseBackup",e.title="自动备份（剩余"+(i-a)+"个）",e.textInfo=a+" / "+i+"项",e.needRate=!0,e.needOperate=!0):1002===t?(e.statusImg=x,e.statusType="resumeBackup",e.title="自动备份（剩余"+(i-a)+"个）",e.textInfo=a+" / "+i+"项",e.needRate=!0,e.needOperate=!0):1003===t?(e.statusImg=x,e.statusType="finishedBackup",e.title="自动备份已完成 >",e.textInfo="暂无可备份文件",e.needRate=!1,e.needOperate=!1):2004===t?(e.statusImg=x,e.statusType="waitWifi",e.title="自动备份（剩余"+(i-a)+"个）",e.textInfo=a+" / "+i+"项 等待wifi中",e.needRate=!0,e.needOperate=!1):(e.statusImg=x,e.statusType="",e.title="自动备份",e.textInfo="暂无可备份文件",e.needRate=!1,e.needOperate=!1),e},a.transDownloadTaskAttributes=function(e){return e.taskName=(0,P.disposeTaskFileName)(e.task_name),e.createTime=(0,P.timestampTurnsTime)(e.create_time),e.fileSize=(0,P.toFriendlyQuotaSize)(e.file_size),e.finishedSize=(0,P.toFriendlyQuotaSize)(e.finished_size),e.thumbs&&e.thumbs.url3?e.fileImg=e.thumbs.url3:e.fileImg=(0,S.makeFileIcon)(e),e}})),window.define("293",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.taskList=void 0;var P=e(67),S=e(60),D=e(65),C=o(),T={sp_native_upload:D.previewFromTypeObj.UPLOAD_LIST_VIEW,sp_native:D.previewFromTypeObj.SAVE_LIST_VIEW};a.taskList=Behavior({data:{previewIng:!1,loginUrl:"/pages/login/index?backUrl=/pages/task/index"},methods:{updateCanSelect:function(e){this.triggerEvent("updateCanSelect",e)},filePreview:function(e){var t=this;this.data.previewIng||(n.sptoast({type:"",title:"加载中"}),e.save_path?(0,P.getFileDuration)({bdstoken:C.globalData.loginInfo.bdstoken,dlink:1,target:JSON.stringify([e.save_path])}).then((function(a){switch(a.errno){case 0:var i=a.info&&a.info[0]||null;return void t.dealFileList(e,i);case-6:n.sptoasthide(),n.redirectTo({url:t.data.loginUrl});break;case 12:n.sptoast({type:" info",title:"该文件已移动保存位置或删除"});break;default:n.sptoast({type:" info",title:"该文件暂不支持预览"})}})):this.getBaiduPathFileList(e))},getBaiduPathFileList:function(e){var t=this;(0,P.getFileList)({url:"api/list",dir:"/来自：百度App",start:0,limit:200}).then((function(a){switch(a.errno){case 0:var i=a.list;if(0===i.length)return void n.sptoast({type:" info",title:"该文件已移动保存位置或删除"});var o=i.filter((function(t){return t.fs_id===e.fileID}),{})[0];o=o||null,t.dealFileList(e,o);break;case-6:n.sptoasthide(),n.redirectTo({url:t.data.loginUrl});break;case-9:n.sptoast({type:" info",title:"未找到文件夹"});break;default:n.sptoast({type:" info",title:"打开失败"})}}))},dealFileList:function(e,t){var a=this;if(t)this.setAudioList(t),this.makePreview(e,t);else{if(!e.fileID)return void n.sptoast({type:" info",title:"文件删除不存在"});(0,P.getFileDuration)({bdstoken:C.globalData.loginInfo.bdstoken,dlink:1,fsids:JSON.stringify([""+e.fileID])}).then((function(i){var o=i.info;o&&o.length?(t=o[0],a.setAudioList(t),a.makePreview(e,t)):(n.sptoast({type:"",title:"文件删除不存在"}),n.log.upload.uploadFileFindError.send())}))}},setAudioList:function(e){C.globalData.ownAudioList.push(e)},makePreview:function(e,t){C.globalData.tapFileInfo=t,C.globalData.processPage="home",this.setData({previewIng:!1}),n.sptoasthide(),(0,S.filePreview)({filelist:[t],pageType:"task",previewType:"homePreview",previewFromTypeObj:T[this.data.currentType]})},toBaiduPath:function(e){"/"!==(e=e||"/来自：百度App")[0]&&(e="/"+e),e=encodeURIComponent(e),n.navigateTo({url:"/pages/home/index?path="+e+"&pageType=task"})}}})})),window.define("295",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(293);Component({behaviors:[P.taskList],properties:{canSelect:{type:Boolean,value:!1},isAutoBackup:{type:Boolean,value:!0},savePath:{type:String,value:"/来自：百度App"},transPath:{type:String,value:"来自：百度App"},status:{type:Number,value:0},title:{type:String,value:""},textInfo:{type:String,value:""},needRate:{type:Boolean,value:!1},rate:{type:Number,value:0},needOperate:{type:Boolean,value:!1},statusImg:{type:String,value:""},statusType:{type:String,value:""}},data:{closeStatusImg:"https://staticwx.cdn.bcebos.com/mini-program/images/backup_closed.png",openStatusImg:"https://staticwx.cdn.bcebos.com/mini-program/images/backup_running.png"},lifetimes:{created:function(){},attached:function(){},ready:function(){this.properties.isAutoBackup||n.newLog.uploadPage.backupOpenDisplay.send()},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{handleOpenBackup:function(){n.newLog.uploadPage.backupOpenClk.send(),n.openBdboxWebview({authority:"downloadCenter",path:"/openAutoBackupSetting",parameters:{ubcPage:"Applet"}})},operateActionViewBackup:function(){var e=this.properties.savePath;n.newLog.uploadPage.backupFloder.send(),this.toBaiduPath(e)},handleOperateClick:function(){var e="";1001===this.properties.status?(e="backupRunning",n.newLog.uploadPage.backupPause.send()):1002===this.properties.status&&(e="backupPause",n.newLog.uploadPage.backupStart.send()),this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:e})},handleAutoBackupClick:function(){"finishedBackup"===this.properties.statusType&&this.operateActionViewBackup()}}})})),window.define("297",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{tip:{type:String,value:""},num:{type:Number,value:0},operateBtnNum:{type:Number,value:0},opetateTextLeft:{type:String,value:""},opetateTextRight:{type:String,value:""},infoText:{type:String,value:""},canSelect:{type:Boolean,value:!1}},data:{},methods:{handleClick:function(e){var t=e.target.dataset;t.action&&this.triggerEvent(t.action)}}})})),window.define("299",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{selectList:{type:Array,value:[]},isSelectedAll:{type:Boolean,value:!1},canSelected:{type:Boolean,value:!1}},data:{selectedList:[],isSelectedAll:!1},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{selectedAll:function(){this.triggerEvent("selectedAll")},cancelSelected:function(){this.triggerEvent("cancelSelected")},updateCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.selectedList,a=e.isSelectedAll;this.setData({selectedList:t,isSelectedAll:a})}}})})),window.define("301",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Component({properties:{canSelect:{type:Boolean,value:!1}},data:{isIpx:S.globalData.isIpx},lifetimes:{created:function(){this.genScheme()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{deleteSelected:function(){this.triggerEvent("deleteSelected")},genScheme:function(){var e=encodeURI("/来自：百度App/a"),t=S.globalData.loginInfo.uk,a=(0,P.makeSchema)("MYFILE",{uk:t,path:e,behavior:"app_open",isSaved:"yes",hasPanCode:"no"});this.setData({schema:a})}}})})),window.define("303",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{text:{type:String,value:""}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}}})})),window.define("305",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{height:{type:Number,value:0},icon:{type:String,value:""},text:{type:String,value:""}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}}})})),window.define("307",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{canSelect:{type:Boolean,value:!1},selected:{type:Boolean,value:!1},needOperate:{type:Boolean,value:!0},operateType:{type:String,value:"selectBtn"},statusImg:{type:String,value:""},buttonText:{type:String,value:""}},methods:{handleSelectBtnClick:function(){this.triggerEvent("handleSelectBtnClick")},handleStatusBtnClick:function(){this.triggerEvent("handleStatusBtnClick")},handleButtonClick:function(){this.triggerEvent("handleButtonClick")}}})})),window.define("309",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{rate:{type:Number,value:0}},data:{},methods:{}})})),window.define("311",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{title:{type:String,value:""},textInfo:{type:String,value:""},textInfoType:{type:String,value:""},errorMsg:{type:String,value:""},rightText:{type:String,value:""},rightTextType:{type:String,value:""},needRate:{type:Boolean,value:!1},rate:{type:Number,value:0}},data:{},methods:{fileInfoClick:function(){this.triggerEvent("fileInfoClick")}}})})),window.define("313",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(57);Component({properties:{fileImg:{type:String,value:""},title:{type:String,value:""},needRunning:{type:Boolean,value:!1}},data:{fileImg:""},methods:{loadDefaultFileImg:function(){this.setData({fileImg:(0,P.makeFileIcon)({fileName:this.properties.title})})},fileInfoClick:function(){this.triggerEvent("fileInfoClick")}}})})),window.define("315",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{canSelect:{type:Boolean,value:!1},selected:{type:Boolean,value:!1},fileImg:{type:String,value:""},title:{type:String,value:""},needRunning:{type:Boolean,value:!1},textInfo:{type:String,value:""},textInfoType:{type:String,value:""},errorMsg:{type:String,value:""},rightText:{type:String,value:""},rightTextType:{type:String,value:""},needRate:{type:Boolean,value:!1},rate:{type:Number,value:0},needOperate:{type:Boolean,value:!0},operateType:{type:String,value:"selectBtn"},statusImg:{type:String,value:""},buttonText:{type:String,value:""},customStyle:{type:String,value:""},customData:{type:Object,value:{}}},data:{},methods:{itemlongpress:function(){this.handleSelectBtnClick()},handleSelectBtnClick:function(){var e=this.properties.customData;this.triggerEvent("handleItemSelected",{customData:e})},handleStatusBtnClick:function(){var e=this.properties.customData;this.triggerEvent("handleOperateClick",{customData:e})},fileInfoClick:function(){var e=this.properties,t=e.canSelect,a=e.rate,i=e.customData;a||(t?this.handleSelectBtnClick():this.triggerEvent("handleFilePreview",{customData:i}))},handleButtonClick:function(){var e=this.properties.customData;this.triggerEvent("handleButtonClick",{customData:e})}}})})),window.define("317",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(293);Component({behaviors:[P.taskList],properties:{topHeight:{type:Number,value:0},runningRenderList:{type:Array,value:[]},pausedRenderList:{type:Array,value:[]},finishedRenderList:{type:Array,value:[]},failedRenderList:{type:Array,value:[]},isEmpty:{type:Boolean,value:!0},canSelect:{type:Boolean,value:!1},selectList:{type:Array,value:[]},isSelectedAll:{type:Boolean,value:!1},runningList:{type:Array,value:[]},pausedList:{type:Array,value:[]},finishedList:{type:Array,value:[]},failedList:{type:Array,value:[]}},data:{currentType:"sp_native_upload",emptyIcon:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Ftask-upload-icon.png",emptyText:"暂无上传记录"},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){this.setData({previewIng:!1})},hide:function(){}},methods:{handleItemSelected:function(e){var t=e.detail.customData;this.triggerEvent("selectPage",{task:t})},handleOperateClick:function(e){var t=e.detail.customData;this.triggerEvent("uploadOperate",{operateMultiple:!1,operateType:t.sourceType,taskID:t.taskID})},handleFilePreview:function(e){var t=e.detail.customData;n.newLog.uploadPage.uploadPreview.send(),this.filePreview(t)},cancelSelected:function(){this.triggerEvent("uploadCancelSelected")},selectedAll:function(){this.triggerEvent("uploadSelectedAll")},deleteSelected:function(){this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:"delete"})},operateRetryAll:function(){this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:"failed",listType:"failed"})},operateClearFail:function(){this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:"delete",listType:"failed"})},operateClearfinished:function(){this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:"delete",listType:"finished"})},operateUploading:function(){var e=this.properties.runningRenderList.length>0?"running":"paused";this.triggerEvent("uploadOperate",{operateMultiple:!0,operateType:e,listType:e})},operateActionView:function(){n.newLog.uploadPage.uploadFloder.send(),this.toBaiduPath()}}})})),window.define("319",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{topHeight:{type:Number,value:0},taskTabs:{type:Array,value:[]},active:{type:Number,value:0}},methods:{handleTabChange:function(e){var t=e.target.dataset;t&&t.name===this.properties.active||this.triggerEvent("tabchange",t)}}})})),window.define("321",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{dialogTitle:{type:String,value:""},dialogContent:{type:String,value:""},dialogIcon:{type:String,value:""},isDraw:{type:Boolean,value:!1},isScratch:{type:Boolean,value:!1},showDialogHead:{type:Boolean,value:!0},swanIdForSystem:{type:String,value:"123445"}},data:{title:""},methods:{handleClose:function(){this.triggerEvent("close")},catchTouchMove:function(){console.log("catchtouchmove")}}})})),window.define("323",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S,D=e(324),C=e(325),T=(S=C)&&S.__esModule?S:{default:S};Component({properties:{activityId:{type:String,value:""},drawRemain:{type:Number,value:0},luckyDrawImg:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/1592380620.png"},bpKey:{type:String,value:""},bpName:{type:String,value:""},swanIdForSystem:{type:String,value:"123445"}},data:{tip:{1003:"未登录",1001:"参数缺失",4005:"活动结束",1024:"今日机会已用完，下次再来哦~",1025:"哎呀，没中奖"},giftInfo:{id:"",title:""},showMask:!0,scratch:{awardTxt:""},renderImg:"default",dialogIcon:"",dialogTitle:"",dialogContent:"",showDialog:!1,errorIcon:"https://staticiot.cdn.bcebos.com/gui/1590579160987630898.png",successIcon:"https://staticiot.cdn.bcebos.com/gui/1590579000173564502.png",awardTxt:"",res:{}},lifetimes:{attached:function(){this.page=getCurrentPages()[getCurrentPages().length-1]},moved:function(){},detached:function(){}},methods:{closeDialog:function(){var e=this;this.setData({showDialog:!1,renderImg:""}),n((function(){e.onStart()}),600)},initScratch:function(){var e=this;this.setData({renderImg:""}),this.scratch=new T.default(this,{canvasWidth:283,canvasHeight:83,imageResource:this.data.luckyDrawImg,maskColor:"red",r:30,awardTxt:"",awardTxtColor:"#FFFFFF",awardTxtFontSize:"24px",callback:function(){console.log("清除画布"),e.showDialogHandler()}}),this.onStart()},handleCanvarToImg:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?o.canvasToTempFilePath({x:0,y:0,width:this.data.scratch.width,height:this.data.scratch.height,canvasId:"scratch",success:function(t){e.setData({renderImg:t.tempFilePath})}}):this.setData({renderImg:""})},onStart:function(){this.setData({showMask:!0}),this.scratch.restart()},showDialogHandler:function(e){this.triggerEvent("refresh",{no:!0});var t=this.data,a=t.errorIcon,i=t.successIcon,n=a,r="",s="",c=this.data.res.errno;if(r=this.data.tip[c]||this.data.res.errmsg,0==+c){var l=this.data.res.data.hit_gift,p=this.data.res.data.gift_info;1==+l?(o.log.send({value:this.data.bpName,type:this.page.cfgName+"_"+this.page.clientType+"_"+this.data.bpKey+"_success"}),n=i,s="恭喜你",r="获得"+p.title):o.log.send({value:this.data.bpName,type:this.page.cfgName+"_"+this.page.clientType+"_"+this.data.bpKey+"_fail"})}else o.log.send({value:this.data.bpName,type:this.page.cfgName+"_"+this.page.clientType+"_"+this.data.bpKey+"_fail"});e&&"function"==typeof e&&e(),this.handleCanvarToImg(!0),this.setData({dialogIcon:n,dialogTitle:s,dialogContent:r,showDialog:!0})},setAwardText:function(){var e=this.data.res.errno,t=this.data.res.errmsg;if(0==+e){var a=this.data.res.data.hit_gift,i=this.data.res.data.gift_info;1==+a&&(t=i.title)}this.setData(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({awardTxt:t},"scratch.awardTxt",t))},lotteryCommit:function(e){var t=this;this.setData({showMask:!1}),(0,D.wxReq)("act/celebrationday/lotterycommit",{tid:this.data.activityId,noTip:!0},"GET").then((function(e){t.setData({res:e}),t.setAwardText()})).catch((function(e){t.setData({res:e}),t.setAwardText()}))}}})})),window.define("324",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.wxReq=void 0;var P=e(34),S=n.ENV,D=S.hostPanName,C=S.version,T=S.debug,I=S.debugHostName,E=S.channel,x=(o(),["api/analytics","api/user/getinfo"]),A=["api/analytics","act/celebrationday/home","act/celebrationday/lotterycommit"],L={},B=a.wxReq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments[3],o=A.filter((function(t){return e.includes(t)})).length;o||(L[e]=!0,n.showLoading({title:"加载中"})),i||(i=T?I:D);var r=e.includes("api/analytics"),s=(new Date).getTime(),c=i+e+(/\?/.test(e)?"&":"?")+"channel="+E+"&time="+s+"&version="+C+(t.clienttype?"":"&clienttype=32");return new Promise((function(e,i){n.request({url:c,data:t,method:a,success:e,fail:i,complete:function(e){},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded",Cookie:(0,P.getCookie)(),devuid:"NA"}})})).then((function(a){if(delete L[e],Object.keys(L).length||n.hideLoading(),!r){if(404===a.statusCode)return Promise.reject(wxRequest.ERROR_REQUEST_SERVER_FAILURE);var i=a.data.errno;if(-6!==i||x.filter((function(t){return e.includes(t)})).length)return 0!==i?(o||t.noTip||n.showToast({icon:"none",title:"服务器出错，请稍后重试",duration:1500}),Promise.reject(a.data)):a.data;n.reLaunch({url:"/pages/home/index"})}}),(function(e){return Promise.reject(e)})).catch((function(t){return delete L[e],Object.keys(L).length||n.hideLoading(),Promise.reject(t)}))};B.ERROR_SERVER_UNAVAILABLE="ERROR_SERVER_UNAVAILABLE",B.ERROR_REQUEST_SERVER_FAILURE="ERROR_REQUEST_SERVER_FAILURE"})),window.define("325",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();var S=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t,this.canvasWidth=a.canvasWidth,this.canvasHeight=a.canvasHeight,this.imageResource=a.imageResource,this.maskColor=a.maskColor,this.r=a.r||4,this.endCallBack=a.callback,this.lastX=0,this.lastY=0,this.minX="",this.minY="",this.maxX="",this.maxY="",this.isStart=!1,this.init(),this.page.touchStart=this.touchStart.bind(this),this.page.touchMove=this.touchMove.bind(this),this.page.touchEnd=this.touchEnd.bind(this),this.page.imgOnLoad=this.imgOnLoad.bind(this),this.page.setData({scratch:{awardTxt:a.awardTxt,awardTxtColor:a.awardTxtColor,awardTxtFontSize:a.awardTxtFontSize,awardTxtLineHeight:a.canvasHeight,width:a.canvasWidth,height:a.canvasHeight,imageResource:a.imageResource},isScroll:!0})}return P(e,[{key:"init",value:function(){var e=this.canvasWidth,t=this.canvasHeight,a=this.imageResource,i=this.maskColor,o=this;this.ctx=n.createCanvasContext("scratch",this.page),this.ctx.clearRect(0,0,e,t),a&&""!=a?n.downloadFile({url:a,success:function(a){o.ctx.drawImage(a.tempFilePath,0,0,e,t),o.ctx.draw()}}):(o.ctx.setFillStyle(i),o.ctx.fillRect(0,0,e,t),o.ctx.draw())}},{key:"drawRect",value:function(e,t){var a=this.r,i=this.minX,n=this.minY,o=this.maxX,r=this.maxY,s=e-a>0?e-a:0,c=t-a>0?t-a:0;return""!=i?(this.minX=i>s?s:i,this.minY=n>c?c:n,this.maxX=o>s?o:s,this.maxY=r>c?r:c):(this.minX=s,this.minY=c,this.maxX=s,this.maxY=c),this.lastX=s,this.lastY=c,[s,c,2*a]}},{key:"start",value:function(){this.isStart=!0,this.page.setData({isScroll:!1})}},{key:"restart",value:function(){this.init(),this.lastX=0,this.lastY=0,this.minX="",this.minY="",this.maxX="",this.maxY="",this.isStart=!0,this.page.setData({isScroll:!1})}},{key:"touchStart",value:function(e){if(this.isStart){var t=this.drawRect(e.touches[0].x,e.touches[0].y);this.ctx.clearRect(t[0],t[1],t[2],t[2]),this.ctx.draw(!0);var a=this.canvasWidth,i=this.canvasHeight,n=this.minX,o=this.minY,r=this.maxX,s=this.maxY;r-n>.3*a&&s-o>.3*i&&(this.ctx.draw(),this.endCallBack&&this.endCallBack(),this.isStart=!1,this.page.setData({isScroll:!0}))}}},{key:"touchMove",value:function(e){if(this.isStart){var t=this.drawRect(e.touches[0].x,e.touches[0].y);this.ctx.clearRect(t[0],t[1],t[2],t[2]),this.ctx.draw(!0)}}},{key:"touchEnd",value:function(e){if(this.isStart){var t=this.canvasWidth,a=this.canvasHeight,i=this.minX,n=this.minY,o=this.maxX,r=this.maxY;o-i>.3*t&&r-n>.3*a&&(this.ctx.draw(),this.endCallBack&&this.endCallBack(),this.isStart=!1,this.page.setData({isScroll:!0}))}}},{key:"reset",value:function(){this.init()}},{key:"imgOnLoad",value:function(){}}]),e}();a.default=S})),window.define("327",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(324);Component({properties:{activityId:{type:String,value:"243611589195"},luckyDrawStyle:{type:String,value:""},luckyDrawImg:{type:String,value:"https://staticiot.cdn.bcebos.com/gui%2Fguaguaka.png"},ruleContent:{type:String,value:"超级会员每日3次，普通会员每日2次，非会员用户每日1次，活动期间充值用户额外每天多1次。刮奖次数每日刷新，请在当日内使用。"},ruleIcon:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/mid-year-icon-question.png"},myAward:{type:String,value:""},bpKey:{type:String,value:""},bpName:{type:String,value:""},swanIdForSystem:{type:String,value:"123445"}},data:{drawRemain:0,showRule:!1,rule:"",tip:{1003:"未登录",1001:"参数缺失",4005:"活动结束"},showDialogIcon:!0},lifetimes:{created:function(){},attached:function(){this.getDrawRemain(),this.scratchCard=this.selectComponent("#scratchCard")},ready:function(){},detached:function(){}},methods:{closeRule:function(){this.scratchCard&&this.scratchCard.handleCanvarToImg(!1),this.setData({showRule:!1})},showMyRule:function(){this.scratchCard&&this.scratchCard.handleCanvarToImg(!0),this.setData({rule:decodeURIComponent(this.data.myAward),showDialogIcon:!1,showRule:!0})},getDrawRemain:function(e){var t=this;(0,P.wxReq)("/act/celebrationday/lotterycnt",{tid:this.data.activityId,noTip:!0},"GET").then((function(a){var i=Number(a.data.count||0);t.setData({drawRemain:i}),(!e||e&&e.detail&&!e.detail.no)&&t.scratchCard.initScratch()})).catch((function(a){(!e||e&&e.detail&&!e.detail.no)&&t.scratchCard.initScratch()}))}}})})),window.define("329",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({data:{},properties:{src:{type:String,value:"https://staticwx.cdn.bcebos.com/mini-program/images/netdisk_logo.png"},styles:{type:String,value:""},url:{type:String,value:""},mode:{type:String,value:"cover"},bpKey:{type:String,value:"imageClick"},bpName:{type:String,value:"点击图片埋点"},swanIdForSystem:{type:String,value:"123445"}},lifetimes:{ready:function(){}},methods:{navigate:function(){var e=getCurrentPages()[getCurrentPages().length-1];n.log.send({value:this.data.bpName,type:e.cfgName+"_"+e.clientType+"_"+this.data.bpKey}),this.data.url&&e.navigateTo({},{url:this.data.url})}}})})),window.define("331",(function(e,t,a,i,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S){"use strict";var D=e(324);Component({properties:{activityId:{type:String,value:""},swiperTextBefore:{type:String,value:"恭喜用户"},speed:{type:[Number,String],value:1e3},isAutoplay:{type:String,value:"1"},width:{type:String,value:"205px"},height:{type:String,value:"20px"},bpKey:{type:String,value:""},bpName:{type:String,value:""},iconTempStyle:{type:String,value:""},rewardStyle:{type:String,value:""},timerStep:{type:[Number,String],value:6e4},swanIdForSystem:{type:String,value:"123445"}},data:{swiperTextArr:[],isError:!1,tip:{1003:"未登录",1001:"参数缺失",4005:"活动结束"}},detached:function(){clearInterval(this.timer)},attached:function(){var e=this;this.getActivityData(),n((function(){e.data.timerStep&&!e.data.isError&&(e.timer=o((function(){e.getActivityData()}),e.data.timerStep))}),2e3)},methods:{getActivityData:function(){var e=this;(0,D.wxReq)("act/celebrationday/home",{tid:this.data.activityId,action:"prod_winning_list",noTip:!0},"GET").then((function(t){var a=t.data&&t.data.prod_winning_list||[];e.setData({swiperTextArr:a})})).catch((function(){e.data.isError=!0}))}}})})),window.define("333",(function(e,t,a,i,n,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(324);Component({properties:{bgImg:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/1591201925853689046.jpg"},height:{type:String,value:"146px"},btnBgImg:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/1591304269918872400.png"},btnFailBgImg:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/1591280159.png"},btnWidth:{type:String,value:"202px"},btnMsg:{type:String,value:"抢六折神券"},activityId:{type:String,value:"243611589195"},successContent:{type:String,value:""},iconTempStyle:{type:String,value:""},rewardStyle:{type:String,value:""},swiperTextBefore:{type:String,value:""},bpKey:{type:String,value:""},bpName:{type:String,value:""},swanIdForSystem:{type:String,value:"123445"}},data:{tip:{1003:"未登录",1001:"参数缺失",4005:"不在活动时段内"},btnNormalMsg:"",ticketState:1,countdown:"",dialogIcon:"",dialogTitle:"",dialogContent:"",showDialog:!1,errorIcon:"https://staticiot.cdn.bcebos.com/gui/1590579160987630898.png",successIcon:"https://staticiot.cdn.bcebos.com/gui/1590579000173564502.png"},methods:{handleObtain:function(){var e=this,t=getCurrentPages()[getCurrentPages().length-1];n.log.send({value:this.data.bpName,type:t.cfgName+"_"+t.clientType+"_"+this.data.bpKey+"_click"}),this.data.ticketState&&(0,S.wxReq)("act/celebrationday/sendgift",{tid:this.data.activityId,noTip:!0},"GET").then((function(a){var i=a.errmsg,o=e.data,r=o.errorIcon,s=o.successIcon,c=a.errno?r:s;e.setData({dialogIcon:c,dialogTitle:i,dialogContent:decodeURIComponent(e.data.successContent),showDialog:!0}),e.page.luckyDrawComp&&e.page.luckyDrawComp.scratchCard&&e.page.luckyDrawComp.scratchCard.handleCanvarToImg(!0),n.log.send({value:e.data.bpName,type:t.cfgName+"_"+t.clientType+"_"+e.data.bpKey+"_success"})})).catch((function(a){n.log.send({value:e.data.bpName,type:t.cfgName+"_"+t.clientType+"_"+e.data.bpKey+"_fail"}),n.showToast({icon:"none",title:e.data.tip[a.errno]||a.errmsg||"服务器出错",duration:1500})}))},closeDialog:function(){this.setData({showDialog:!1}),this.page.luckyDrawComp&&this.page.luckyDrawComp.scratchCard&&this.page.luckyDrawComp.scratchCard.handleCanvarToImg(!1)},toFriendlyPeriod:function(e){if("number"!=typeof e||e<0)return"";var t=Math.floor(e/60/60/24),a=Math.floor(e/60/60%24),i=Math.floor(e/60%60,10),n=Math.floor(e%60,10);return a=this.formatTwoString(a),i=this.formatTwoString(i),n=this.formatTwoString(n),t>0?t+"天"+a+":"+i+":"+n:a+":"+i+":"+n},formatTwoString:function(e){return e.toString().padStart(2,"0")},initCountdown:function(e){var t=this;e=Number(e),this.countdownTimer=o((function(){var a=t.toFriendlyPeriod(e-parseInt(Date.now()/1e3));a||(t.setData({btnNormalMsg:t.data.btnMsg,ticketState:1}),clearInterval(t.countdownTimer)),t.setData({countdown:a})}),1e3)},getActivityInfo:function(){var e=this;(0,S.wxReq)("act/celebrationday/home",{tid:this.data.activityId,action:"send_prod_info",noTip:!0},"GET").then((function(t){if(t&&t.data&&t.data.send_prod_info){var a=t.data.send_prod_info,i=e.data.btnMsg,n=1;2===a.user_status?(i="机会已被用光了",n=0):3===a.user_status?n=1:0!==a.is_active&&a.has_left||0===Number(a.next_active)?0!==a.is_active&&a.has_left||0!==Number(a.next_active)?1===a.is_active&&0===a.user_status&&a.has_left&&(n=1):(i="神券已被抢光",n=0):(e.initCountdown(a.next_active),i="后开抢",n=0),e.setData({btnNormalMsg:i,ticketState:n})}})).catch((function(t){e.setData({btnNormalMsg:e.data.tip[t.errno]||t.errmsg,ticketState:4005===t.errno?0:1})}))}},attached:function(){this.page=getCurrentPages()[getCurrentPages().length-1]},detached:function(){this.countdownTimer&&clearInterval(this.countdownTimer)},ready:function(){this.getActivityInfo()}})})),window.define("335",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{dialogTitle:{type:String,value:""},dialogContent:{type:String,value:""},dialogIcon:{type:String,value:""},isDraw:{type:Boolean,value:!1},headerStyle:{type:String,value:""},footerStyle:{type:String,value:""},buttonStyle:{type:String,value:""},titleStyle:{type:String,value:""},contentStyle:{type:String,value:""},btnText:{type:String,value:"知道了"},swanIdForSystem:{type:String,value:"123445"}},data:{},methods:{handleClose:function(){this.triggerEvent("close")},catchTouchMove:function(){console.log("catchtouchmove")}}})})),window.define("337",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(324);Component({properties:{bgImage:{type:String,value:"https://staticiot.cdn.bcebos.com/gui/1590576727516626456.jpg"},activityId:{type:String,value:"243611589195"},letterSpacing:{type:String,value:"27"},top:{type:String,value:"13"},showRule:{type:Boolean,value:!0},ruleTitleText:{type:String,value:"活动规则"},textContent:{type:String,value:""},userDialogContentStyle:{type:String,value:"color: rgba(92, 0, 0, 1);background-image: url(https://staticiot.cdn.bcebos.com/gui/1591067502569145681.png)"},ruleDialogButtonText:{type:String,value:"知道了"},ruleButtonStyle:{type:String,value:"color:white;background-image: url(https://staticiot.cdn.bcebos.com/gui/1591297593835834225.png)"},userDialogTitleStyle:{type:String,value:"background-image: url(https://staticiot.cdn.bcebos.com/gui/1591296994822677039.png)"},headerStyle:{type:String,value:"background-image:url(https://staticiot.cdn.bcebos.com/gui/1591296897827426355.png)"},userDialogFooterStyle:{type:String,value:"background-image:url(https://staticiot.cdn.bcebos.com/gui/1591297473922422587.png)"},swanIdForSystem:{type:String,value:"123445"}},data:{ticketMsg:"0000",isShowDialog:!1,textContentData:"",tip:{1003:"未登录",1001:"参数缺失",4005:"活动结束"}},attached:function(){this.showTicket(),this.page=getCurrentPages()[getCurrentPages().length-1]},methods:{showDialog:function(){this.setData({textContentData:decodeURIComponent(this.data.textContent),isShowDialog:!0}),this.page.luckyDrawComp&&this.page.luckyDrawComp.scratchCard&&this.page.luckyDrawComp.scratchCard.handleCanvarToImg(!0)},closeDialog:function(){this.setData({isShowDialog:!1}),this.page.luckyDrawComp&&this.page.luckyDrawComp.scratchCard&&this.page.luckyDrawComp.scratchCard.handleCanvarToImg(!1)},showTicket:function(){var e=this;(0,P.wxReq)("act/celebrationday/home",{tid:this.data.activityId,action:"send_prod_info",noTip:!0},"GET").then((function(t){t&&t.data&&t.data.send_prod_info&&t.data.send_prod_info.number?e.setData({ticketMsg:t.data.send_prod_info.number.toString().padStart(4,"0")||"0000"}):e.setData({ticketMsg:"0000"})})).catch((function(e){console.log(e)}))}}})})),window.define("339",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Component({data:{searchScheme:"",isAndroid:!1,hasApp:!1},lifetimes:{ready:function(){this.setSchema(),this.setData({isAndroid:"android"===S.globalData.systemInfo.system4Fe,hasApp:S.globalData.hasInstalledApp})}},methods:{setSchema:function(){var e=(0,P.makeSchema)("search",{from:"searchresult",content:""});this.setData({searchScheme:e})},toAppSearch:function(){n.newLog.homePage.searchInputClick.send();var e=this.data,t=e.isAndroid,a=e.hasApp;S.globalData.isUserLogin&&(n.setClipboardData({data:this.data.searchScheme,fail:function(e){console.warn(e)}}),!t||a||n.navigateTo({url:"/pages/download-page/index"}))},launchError:function(e){n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:S&&S.globalData.systemInfo.system4Fe},getSchemaParam(this.data.searchScheme),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:S&&S.globalData.isUserLogin?"bd":""}))}}})})),window.define("341",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(8),D=e(342),C=r();Component({data:{isAndroid:!1,hasApp:!1,homeScheme:"",btnTips:"",isBtnTipsShow:!1},properties:{isScrollTopOverFiveFiles:{type:Boolean,value:!1}},observers:{isScrollTopOverFiveFiles:function(e){var t=this;C.globalData.openAppGuideHasShow||(this.setData({isBtnTipsShow:e},(function(){n((function(){t.setData({isBtnTipsShow:!1})}),5e3)})),C.globalData.openAppGuideHasShow=!0,o.newLog.flutterGuideOpenAddBtn.homeSearchInAppGuide.send())}},lifetimes:{ready:function(){this.setSchema(),this.setData({isAndroid:"android"===C.globalData.systemInfo.system4Fe,hasApp:C.globalData.hasInstalledApp}),this.showOpenAppGuide()}},pageLifetimes:{hide:function(){this.setData({isBtnTipsShow:!1})}},methods:{setSchema:function(){var e=(0,S.makeAppHomeSchema)();this.setData({homeScheme:e})},openApp:function(){if(C.globalData.isUserLogin){var e=this.data,t=e.isBtnTipsShow,a=e.isAndroid,i=e.hasApp;if(t){o.newLog.flutterGuideOpenAddBtn.homeSearchInAppBtnClick.send(),this.setData({homeScheme:(0,S.makeAppHomeSchema)({launch_ch:"1026350i",down_ch:"1026350j"})})}this.triggerEvent("openApp",{}),o.setClipboardData({data:this.data.homeScheme,fail:function(e){console.warn(e)}}),!a||i||o.navigateTo({url:"/pages/download-page/index"})}},launchError:function(e){console.log("open app error：",e),o.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:C&&C.globalData.systemInfo.system4Fe},(0,S.getSchemaParam)(this.data.schema),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:C&&C.globalData.isUserLogin?"bd":""}))},showOpenAppGuide:function(){var e=this;(0,D.getOpenAppTips)().then((function(t){0===t.errno?(e.setData({btnTips:t.data.length&&t.data[0].conf_value&&t.data[0].conf_value.btn_tips||""}),o.newLog.flutterGuideOpenAddBtn.getTipsConfSuccess.send()):(e.setData({isBtnTipsShow:!1}),o.newLog.flutterGuideOpenAddBtn.getTipsConfFail.send())})).catch((function(){e.setData({isBtnTipsShow:!1}),o.newLog.flutterGuideOpenAddBtn.getTipsConfError.send()}))},hideTips:function(){this.setData({isBtnTipsShow:!1}),o.newLog.flutterGuideOpenAddBtn.homeSearchInAppShrinkClick.send()}}})})),window.define("342",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getOpenAppTips=void 0;var P=e(16);a.getOpenAppTips=function(){return(0,P.bdRequest)({api:"act/api/conf?conf_key=swan_open_app_guide_tips"})}})),window.define("344",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(244),S=n.ENV.staticPath;Component({properties:{activities:{type:Array,value:[]}},data:{showactivities:[],closeIcon:S+"/feed-close.png",isClose:!1,current:0},observers:{activities:function(e){var t=e.filter((function(e){return 18===e.pop_type}));this.setData({showactivities:t})}},lifetimes:{ready:function(){}},methods:{handleActivityClick:function(e){this.triggerEvent("bannerClick");var t=e.target.dataset.active;t.nav_type=t.nav_type||1,(0,P.navActivity)(t)},handleClose:function(){this.setData({isClose:!0}),this.triggerEvent("close")},curentChange:function(e){this.setData({current:e.detail.current})}}})})),window.define("346",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{activeName:{type:String,value:""},icon:{type:String},name:{type:String,value:""},index:{type:Number,value:0}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("348",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Component({properties:{activeName:{type:String,value:""},activeIndex:{type:Number,value:0},uClass:{type:String,value:""},backIndex:{type:Boolean,value:!1},list:{type:String,value:""}},data:{activeItem:"",activeItemIndex:0,bottomLineL:48.5},lifetimes:{created:function(){var e=this;this.properties.list.length>0&&this.properties.list.forEach((function(t,a){t===e.properties.activeName&&e.setData({activeItem:t,activeItemIndex:a})})),this.data.activeItem||this.setData({activeItem:this.properties.activeName,activeItemIndex:this.properties.activeIndex}),this.setData({bottomLineL:48.5*(this.data.activeItemIndex+1)})},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){this.properties.backIndex&&this.setData({activeItemIndex:0,bottomLineL:48.5})},hide:function(){}},methods:{handleClick:function(e){e.target.dataset.name&&(this.setData({activeItem:e.target.dataset.name,activeItemIndex:Number(e.target.dataset.index),bottomLineL:48.5*(Number(e.target.dataset.index)+1)}),this.triggerEvent("tabsChange",{activeItem:this.data.activeItem,activeIndex:this.data.activeItemIndex}))}}})})),window.define("350",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(351);Component({behaviors:[P.fileView],properties:{},data:{icon:""},lifetimes:{created:function(){this.initIcon()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initIcon:function(){this.initCategoryIcon(this.data.fileInfo.extra_info)},handleShareFile:function(){if(!this.properties.canSelected){"homeRecentView"===this.properties.from&&(n.newLog.homePage.recentUrlFileClk.send(),n.newLog.homePage.recentAllFileClk.send());var e=this.data.fileInfo.extra_info,t=e.shorturl,a=e.pwdcode,i="";i=e.thirdParty?encodeURIComponent(t):t+"&pwdcode="+a,n.navigateTo({url:"/pages/outsite-chain/share-code/index?url="+i})}}}})})),window.define("351",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.fileView=void 0;var P=e(57);a.fileView=Behavior({properties:{pageType:{type:String,value:""},previewType:{type:String,value:""},pageNum:{type:Number,value:0},fileInfo:{type:Object,value:{},observer:function(e){if(e){var t=e.server_filename||e.extra_info.server_filename;this.initFileName(t)}}},canSelected:{type:Boolean,value:!1},recentInfo:{type:Object,value:{}},from:{type:String,value:""}},data:{icon:"",fileName:""},methods:{initCategoryIcon:function(e){var t="";if(+e.isdir)t="folder";else if(e.server_filename.includes(".")){var a=e.server_filename.split(".");t=a[a.length-1]}this.setData({icon:(0,P.getSuffixIconCdnPath)(t)})},initFileName:function(e){this.setData({fileName:(0,P.disposeFileName)(e)})}}})})),window.define("353",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(351),S=e(65),D=e(60),C=o();Component({behaviors:[P.fileView],properties:{},data:{},lifetimes:{created:function(){this.initIcon()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initIcon:function(){this.initCategoryIcon(this.properties.fileInfo)},tapFile:function(){var e=this.properties,t=e.canSelected,a=e.fileInfo,i=e.from;if(!t){if("homeRecentView"===i){var o=+a.category>0?+a.category-1:0;n.newLog.homePage[["recentAllFileClk","recentAudioFileClk","recentAllFileClk","recentDocFileClk"][o]].send(),n.newLog.homePage.recentAllFileClk.send()}C.globalData.tapFileInfo=a,4==+a.category?(0,D.documentPreview)({fileInfo:a,pageNum:0,index:0,previewType:"homePreview",pageType:C.globalData.currentPageType,previewFromType:(0,S.getHomePreviewFromType)(C.globalData.currentPageType),action:"homeRecentView"===i?"docPreview":""}):2==+a.category?(0,D.audioClick)({fileInfo:a,previewType:"homePreview"}):(0,D.otherFileClick)({fileInfo:a,previewType:"homePreview"})}}}})})),window.define("355",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(60),S=e(65),D=e(33),C=e(351),T=o();Component({behaviors:[C.fileView],properties:{recentVideoList:{type:Array,value:[],observer:function(e,t){e&&e.length>0&&this.initViewTime()}}},data:{curTimeText:"",index:0},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{tapVideo:function(){if(!this.properties.canSelected){"homeRecentView"===this.properties.from&&(n.newLog.homePage.recentVideoFileClk.send(),n.newLog.homePage.recentAllFileClk.send());var e=this.properties.pageNum,t=this.data.index,a=this.properties.fileInfo,i=this.data.recentVideoList;T.globalData.tapFileInfo=a,this.triggerEvent("tapVideo",{fileInfo:a,pageNum:e,index:t}),this.setfilelistStorage(i,a,e,t),(0,P.videoClick)({fileInfo:a,pageNum:e,index:t,previewType:"homePreview",pageType:T.globalData.currentPageType,previewFromType:(0,S.getHomePreviewFromType)(T.globalData.currentPageType)})}},initViewTime:function(){var e=0,t=0,a=this.data.recentVideoList,i=this.properties.fileInfo;a.some((function(a,n){if(a.fs_id.toString()===i.fs_id.toString())return e=a.vtime,t=n,!0})),this.setData({curTimeText:(0,D.secondToTimeFormatter)(e),index:t})},setfilelistStorage:function(e,t,a,i){n.setStorageSync("fileList",{list:e,fileInfo:t,pageNum:a,index:i,currentFsId:t.fs_id})}}})})),window.define("357",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(60),S=e(351);o();Component({behaviors:[S.fileView],properties:{list:{type:Array,value:[],observer:function(e,t){e&&e.length>0&&this.initData()}},reportTimeText:{type:String,value:"浏览图片"}},data:{deaImgList:[],more:0},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initData:function(){var e=[];if(this.properties.list.length>4){e=this.properties.list.filter((function(e,t){return t<4}));var t=this.properties.list.length-4,a=0;a=t>0&&t<99?t:t>99?99:0,this.setData({more:a})}else e=this.properties.list;this.setData({deaImgList:e})},tapImg:function(e){if(!this.properties.canSelected){var t=e.target.dataset.index,a=this.properties.list[t],i=this.properties.from;if(e.target.dataset.more){"homeRecentView"===i&&n.newLog.homePage.recentPmoreClk.send();var o=this.properties.reportTimeText;n.setStorageSync("recentViewList",{list:this.properties.list,errno:0,hasError:!1}),n.navigateTo({url:"/pages/home/index?&category=3&pageType=recentViewImgs&recentFile=3&title="+o})}else{"homeRecentView"===i&&n.newLog.homePage.recentPhotoFileClk.send(),"homeRecentView"===i&&n.newLog.homePage.recentAllFileClk.send();var r=this.properties,s=r.pageType,c=r.previewType,l=r.pageNum;this.triggerEvent("tapImage",{fileInfo:a,pageNum:l,index:t}),this.setfilelistStorage(a,l,t),(0,P.imageClick)({fileInfo:a,pageNum:l,index:t,previewType:c,pageType:s})}}},setfilelistStorage:function(e,t,a){n.setStorageSync("fileList",{list:this.properties.list,fileInfo:e,pageNum:t,index:a,currentFsId:e.fs_id})}}})})),window.define("359",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Component({properties:{fileItem:{type:Object,value:null,observer:function(e,t){e&&this.initData()}},recentVideoList:{type:Array,value:[]},fileIndex:{type:Number,value:0},canSelected:{type:Boolean,value:!1}},data:{previewType:"homeRecentView",pageType:P.globalData.currentPageType,title:"",dealList:[]},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{tapRecordLongpress:function(){this.data.canSelected||this.triggerEvent("recordLongpress",{fileInfo:this.properties.fileItem,index:this.properties.fileIndex,isRecentRecord:!0})},tapRecord:function(){this.data.canSelected&&this.triggerEvent("selectRecord",{fileInfo:this.properties.fileItem,index:this.properties.fileIndex,isRecentRecord:!0})},initData:function(){var e="";if(15===this.properties.fileItem.type)e="查看分享";else switch(this.properties.fileItem.category){case 1:e="播放视频";var t=this.properties.fileItem.detail.filter((function(e,t){return t<2}));this.setData({dealList:t});break;case 3:e="浏览图片";break;default:e="查看文档"}this.setData({title:e})},toAllVideo:function(){n.newLog.homePage.recentVmoreClk.send();var e=this.data.fileItem.reportTimeText;n.setStorageSync("recentViewList",{list:this.properties.fileItem.detail,errno:0,hasError:!1}),n.navigateTo({url:"/pages/home/index?&category=1&pageType=recentViewVideos&recentFile=1&title="+e})}}})})),window.define("361",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(33),S=e(57),D=e(276),C=e(8);var T,I,E,x=o();Component({properties:(T={topHeight:{type:Number,value:64},count:{type:Number,value:0},isSelectedAll:{type:Boolean,value:!1},selectedList:{type:Array,value:[]},canSelected:{type:Boolean,value:!1},recentLoadFail:{type:Boolean,value:!1},noHistory:{type:Boolean,value:!1},recentList:{type:Array,value:[],observer:function(e,t){e&&e.length>0&&(this.setData({dealList:this.dealFileList(e)}),this.hasVideo()&&this.getRecentByVideoList())}}},I="canSelected",E={type:Boolean,value:!1},I in T?Object.defineProperty(T,I,{value:E,enumerable:!0,configurable:!0,writable:!0}):T[I]=E,T),data:{dealList:[],schemeUrl:"",isAndroid:!1,hasApp:!1},lifetimes:{created:function(){},attached:function(){},ready:function(){this.setData({isAndroid:"android"===x.globalData.systemInfo.system4Fe,hasApp:x.globalData.hasInstalledApp}),this.setSchema()}},methods:{setSchema:function(){var e={launch_ch:"1027327s",down_ch:"1027327t"},t="";t=this.data.isAndroid?(0,C.makeSpacialScheme)("arouter",e,{routo:"WXtorPXPddpUjtMD/mkPyX6CD5IOIrbUk3jaIXvpREs/SqeoeCCTzzcoZ5Hc3pdPBhvqqw",sc:x.globalData.from}):(0,C.makeSpacialScheme)("recent",e,{page:"main_recent"}),this.setData({schemeUrl:t})},launchError:function(e){n.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:x&&x.globalData.systemInfo.system4Fe},(0,C.getSchemaParam)(this.data.schemeUrl),{isSuccess:"no",errorMsg:JSON.stringify(e&&e.detail),userType:x&&x.globalData.isUserLogin?"bd":""}))},toAppClick:function(){n.newLog.homePage.recentToNaClick.send();var e=this.data,t=e.isAndroid,a=e.hasApp;x.globalData.isUserLogin&&(n.setClipboardData({data:this.data.schemeUrl,fail:function(e){console.warn(e)}}),!t||a||n.navigateTo({url:"/pages/download-page/index"}))},dealFileList:function(e){var t=this;return e.map((function(e){var a={};if(e.extra_info){var i=JSON.parse(e.extra_info),n=(0,P.dealExpiretime)(i.expiretimestamp);a={category:Number(i.category),extra_info:i,statusText:n||"内容已失效",statusTextType:n?"normal":"warning"}}else{if(0===e.detail.length)return{};a={category:Number(e.detail[0].category),fileIcon:t.getPic(e.detail[0])}}return Object.assign({selected:!1},e,a,{reportTimeText:(0,P.dealReportTime)(e.smtime)})}))},getPic:function(e){var t=e.server_filename,a=e.category,i=e.isdir;if(3==+a||1==+a)return"";var n=void 0;if(+i)n="folder";else{var o=t.split(".");n=o[o.length-1]}return(0,S.getSuffixIconCdnPath)(n)},getRecentByVideoList:function(){var e=this;(0,D.getRecentVideoList)({url:"recent/video/list",needDetail:1}).then((function(t){t.hasError||0!==t.errno||e.setData({recentVideoList:t.list})}))},hasVideo:function(){return this.data.dealList.some((function(e){return 15!==e.type&&1===e.category}))},recordLongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.index,i=e.isRecentRecord;this.triggerEvent("recordLongpress",{fileInfo:t,index:a,isRecentRecord:i})},selectRecord:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.index,i=e.isRecentRecord;this.triggerEvent("selectRecord",{fileList:this.data.dealList,fileInfo:t,index:a,isRecentRecord:i})},handleReload:function(){this.triggerEvent("reloadRecentList")}}})})),window.define("363",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({methods:{categoryClick:function(e){this.triggerEvent("categoryClick",e)}}})})),window.define("365",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{isEmpty:{type:Boolean,value:!1}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{}})})),window.define("367",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(57),S=e(33),D=(e(58),e(60)),C=e(65),T=e(66),I=(e(67),o());Component({properties:{fileInfo:{type:Object,value:{},observer:function(e,t){e&&(this.dataMapping(),this.initInfo())}},index:{type:Number,value:0},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},canMove:{type:Boolean,value:!1},canOperate:{type:Boolean,value:!1},pageType:{type:String,value:""},needCustomSort:{type:Number,value:0}},data:{iconCdnPath:"",fileName:"",size:0,mtime:"",isdir:"",category:"",hasSendList:[],hasImg:!1},lifetimes:{created:function(){this.dataMapping(),this.initInfo(),this.initType()},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initType:function(){3!==this.data.category&&1!==this.data.category||this.setData({hasImg:!0})},dataMapping:function(){this.setData({isdir:Number(this.properties.fileInfo.isdir),category:Number(this.properties.fileInfo.category)})},getPic:function(){var e=this.properties.fileInfo.server_filename;if(3!==this.data.category&&1!==this.data.category){var t=void 0;if(this.data.isdir)t="folder";else{var a=e.split(".");t=a[a.length-1]}return(0,P.getSuffixIconCdnPath)(t)}if(this.properties.fileInfo.thumbs&&this.properties.fileInfo.thumbs.url3)return this.properties.fileInfo.thumbs.url3},initInfo:function(){var e=this.properties.fileInfo,t=e.server_filename,a=e.server_mtime,i=e.size,n=void 0===i?0:i;this.setData({iconCdnPath:this.getPic(),mtime:(0,S.timestampTurnsTime)(a),fileName:(0,S.disposeMultLineFileName)(t)}),0!==n&&this.setData({size:(0,S.toFriendlyQuotaSize)(n)})},filetap:function(e){var t=this.properties.pageType;if(this.data.fileInfo.light&&n.log.lightClick.action.send(),e.target&&e.target.dataset&&e.target.dataset.selectMode)this.itemlongpress();else if(I.globalData.lightOff=!0,this.properties.canSelected)this.selectItem();else if(this.data.isdir)this.tapFolder();else if(!this.properties.canMove)switch("recentViewImgs"===t?n.newLog.photoPolymerization.listClk.send():"recentViewVideos"===t&&n.newLog.videoPolymerization.listClk.send(),I.globalData.tapFileInfo=this.properties.fileInfo,n.log.docPreview.fileUseNum.send({from:this.data.category}),n.log.homeFliesClick.homeFliesClickAll.send(),n.log.homeFliesClick["type"+this.data.category].send(),this.data.category){case 0:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;case 1:this.tapVideo();break;case 2:this.tapAudio();break;case 3:this.tapImage();break;case 4:this.tapDocFile();break;case 5:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;case 6:if((0,T.isSupportMarkdownType)(this.properties.fileInfo.server_filename))return void this.handleMarkdownPreview();(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;case 7:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"});break;default:(0,D.otherFileClick)({fileInfo:this.properties.fileInfo,previewType:"homePreview"})}},selectItem:function(){this.triggerEvent("selectItem",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index})},itemlongpress:function(){!this.data.canMove&&this.data.canOperate&&(this.properties.canSelected||this.triggerEvent("itemlongpress",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}))},handleMarkdownPreview:function(){var e={fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:I.globalData.currentPageType,isShare:!1};(0,D.markdownClick)(e)},tapImage:function(){this.triggerEvent("tapImage",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.imageClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:I.globalData.currentPageType})},tapAudio:function(){this.triggerEvent("tapVideo",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.audioClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:I.globalData.currentPageType})},tapVideo:function(){this.triggerEvent("tapVideo",{fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index}),(0,D.videoClick)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:I.globalData.currentPageType,previewFromType:(0,C.getHomePreviewFromType)(I.globalData.currentPageType)})},tapDocFile:function(){(0,D.documentPreview)({fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:I.globalData.currentPageType,previewFromType:(0,C.getHomePreviewFromType)(I.globalData.currentPageType)})},tapFolder:function(){var e={fileInfo:this.properties.fileInfo,pageNum:this.data.pageNum,index:this.properties.index,previewType:"homePreview",pageType:"home"};(this.properties.fileInfo.light||1===this.properties.needCustomSort)&&(e.needCustomSort=1),(0,D.folderClick)(e)},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,o=t.content,r=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn,p=t.contents,u=void 0===p?[]:p,d=t.title;n.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:o,confirmText:r,showBtn:l,contents:u,title:d})}}})})),window.define("369",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Component({properties:{pageInfo:{type:Array,value:[]},pageNum:{type:Number,value:0},canSelected:{type:Boolean,value:!1},canMove:{type:Boolean,value:!1},canOperate:{type:Boolean,value:!1},pageType:{type:String,value:""},needCustomSort:{type:Number,value:0}},data:{},lifetimes:{created:function(){},attached:function(){},ready:function(){},detached:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{tapOtherFile:function(e){var t=e.detail;t.fileInfo,t.pageNum},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapVideo",{fileInfo:t,pageNum:a,index:i})},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapImage",{fileInfo:t,pageNum:a,index:i})},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("tapAudio",{fileInfo:t,pageNum:a,index:i})},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("selectItem",{fileInfo:t,pageNum:a,index:i})},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.triggerEvent("itemlongpress",{fileInfo:t,pageNum:a,index:i})}}})})),window.define("370",(function(t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P,S){"use strict";var D=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=t(67),T=t(64),I=t(276),E=t(151),x=t(20),A=t(8),L=t(134),B=t(61),F=t(262),N=t(371),O=t(35),R=t(264),U=t(60),M=t(57),j=t(244),z=t(373),V=t(143),H=t(8),W=t(60),q=t(65),G=t(148),J=t(153),K=t(199);function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Y(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var X=s();Page({data:{isHome:!0,showBack:!0,topHeight:72,pageList:[],dataReady:!1,dir:"/",page:0,num:20,hasMore:!1,start:0,isIpx:!1,loginTask:"",loginUrl:"/pages/login/index",screenHeight:"",hasChecked:!1,isEmpty:!1,pageReady:!1,scrollHeight:"",canSelected:!1,shareButtonShow:!1,isSelectedAll:!1,count:0,selectedList:[],allList:[],prevPageType:"",pageType:"home",popupIsShow:!1,isShowAudioPreview:!1,isShowPlayer:!1,sharing:!1,timeOut:"timeout",canMove:!1,moving:!1,currentName:"我的网盘",moveCount:0,operaing:!1,operaType:"",createMsg:"",reload:!1,operaName:"",tiebaSharing:!1,fortieba:!1,isShowBottom:!0,icon:{},banner:{},isHomeDir:!1,titleTxt:"百度网盘",sortType:"time",desc:1,savedList:[],savedDir:"/我的资源",stayTime:"",schema:"",category:0,isCategoryPage:!1,hasRecentVideo:!1,recentvideo:0,listSortDisplay:!0,nickName:"",autoPreview:!1,pageStackCount:0,activeTabItem:"file",showSortPicker:!1,recentFile:0,recentList:[],recentLoadFail:!1,noHistory:!1,recentTabsList:["file","recently"],shareLink:!1,polymerization:!1,currentTab:"home",activitiesBanner:[],bannerShowKey:"lastActiveBannerDate",canShowActiveIcon:!0,canShowActiveBanner:!0,isScrollTopOverFiveFiles:!1,needCustomSort:0},onLoad:function(e){var t=this;X.globalData.pageStackCount=X.globalData.pageStackCount+1,this.dealOpt(e),(0,x.checkAppLogin)(),(0,x.checkUserLogin)(),this.data.loginTask=(0,x.bdLogin)().then((function(a){return t.setUk(),t.initData(e)})).then((function(e){t.setData({nickName:e},(function(){t.setPageInfo()}))})),"/"!==e.path&&e.path||e.category||e.recentvideo||this.setData({listSortDisplay:!1}),X.globalData.outsideSingleFile=!1,this.initPageInfo(),this.initGlobalMoveStatus();var a=(0,j.isShowActivity)(),i=(0,j.isShowActivity)(!1,this.data.bannerShowKey);this.setData({canShowActiveIcon:a,canShowActiveBanner:i}),(a||i)&&this.activityIcon()},onShow:function(){var e=this,t=r.getURLQuery();this.setData({sortType:X.globalData.listOrder,desc:X.globalData.listDesc}),this.dealOpt(t),getCurrentPages().length<X.globalData.pageStackCount&&("recentVideo"===this.data.activeTabItem&&this.setData({activeTabItem:"file"}),X.globalData.pageStackCount=X.globalData.pageStackCount-1);var a=this.data,i=a.isHomeDir,o=a.pageType,s=a.activeTabItem;i&&"home"===o&&("file"===s&&r.newLog.homePage.homeFileShow.send(),"recently"===s&&r.newLog.homePage.recentFileShow.send()),this.setPageInfo(),r.sptoasthide(),X.globalData.playingAudioInfo.isPlayOwnAudioList&&this.setData({isShowPlayer:!0}),this.getRecentVideoNum(),n((function(){e.popupclose()}),K.POPUP_DISPLAY_TIME),void 0!==this.documentScanPicker&&X.globalData.autoChooseImage&&(X.globalData.autoChooseImage=!1);var c=this.data,l=c.isHome,p=c.isCategoryPage,u=c.canMove,d=c.canSelected,h=c.recentvideo;!l||p||u||d||h||r.newLog.homePage.searchInputShow.send()},onReady:function(){this.showDialog=this.selectComponent("#showDialog"),this.documentScanPicker=this.selectComponent("#documentScanPicker"),this.toast=this.selectComponent("#toasts"),this.bottomBtnBar=this.selectComponent("#bottomBtnBar")},onHide:function(){this.sendDwellTimeLog(),X.globalData.lightOff=!0},onUnload:function(){this.sendDwellTimeLog(),X.globalData.lightOff=!0,r.sptoasthide()},dealOpt:function(e){if(e.isSaved&&1===Number(e.isSaved)&&(X.globalData.closePop=!1),e.saveList)try{X.globalData.saveList=JSON.parse(e.saveList),X.globalData.lightOff=!1,X.globalData.savedDir=e.path,this.setData({savedList:[]})}catch(e){console.log(e)}if(this.setData({popupIsShow:!X.globalData.closePop,savedDir:X.globalData.savedDir||this.data.savedDir}),e.needCustomSort&&1===Number(e.needCustomSort)&&this.setData({needCustomSort:Number(e.needCustomSort),num:100}),e.pageType&&this.setData({prevPageType:e.pageType}),r.newLog.commonAction.diskHome.send(),e.autoPreview&&this.setData({autoPreview:!!Number(e.autoPreview)}),this.setData({isHomeDir:"/"===e.path||!e.path}),e.path&&(this.setData({dir:e.path}),this.makeScheme(e.path||this.data.dir)),e.path&&"/"!==e.path){var t=e.path.split("/"),a=t.length-1;this.setData({titleTxt:t[a]})}else this.setData({titleTxt:this.data.titleTxt?this.data.titleTxt:"百度网盘"});if((0,A.saveDataToGlobalData)("from",e.from),e.category){var i=Number(e.category),n="",o=!0,s=this.data.pageType;switch(i){case 1:n="视频",s="video_category_page",r.log.home.homeVideoCategoryPageDisplay.send({from:s});break;case 2:n="音乐",s="audio_category_page",r.log.home.homeAudioCategoryPageDisplay.send({from:s});break;case 3:n="图片",s="image_category_page",r.log.home.homeImageCategoryPageDisplay.send({from:s});break;case 4:n="文档",s="doc_category_page",r.log.home.homeDocCategoryPageDisplay.send({from:s});break;default:n="百度网盘",o=!1}this.setData({titleTxt:n,category:i,pageType:s,isCategoryPage:o})}if(this.data.isHomeDir){var c="file";1===Number(e.recently)&&(c="recently"),this.setData({activeTabItem:c})}if("video_category_page"===this.data.pageType){var l="file";1===Number(e.recentvideo)?l="recentVideo":1===Number(e.spnativevideo)&&(l="spnativeVideo"),this.setData({activeTabItem:l})}1===Number(e.spnativevideo)&&(this.setData({spnativevideo:1,pageType:e.pageType||"video_category_page"}),r.newLog.videoPlayRelate.spnativePageShow.send()),1!==Number(e.recentFile)&&1!==Number(e.recentvideo)||(this.setData({titleTxt:e.title?e.title+" 播放视频":"最近观看",pageType:e.pageType,recentvideo:e.recentFile?0:1,recentFile:e.recentFile?e.recentFile:0}),r.log.home.homeVideoRecentPageDisplay.send({from:this.data.pageType}),"recentViewVideos"===e.pageType&&r.newLog.videoPolymerization.pageShow.send()),3===Number(e.recentFile)&&(this.setData({titleTxt:e.title?e.title+" 浏览图片":"浏览图片",pageType:e.pageType,recentFile:3}),r.newLog.photoPolymerization.pageShow.send()),"home"===this.data.pageType&&r.log.page.home.send({from:this.data.pageType}),"outsiteChainFileList"===this.data.prevPageType&&"/我的资源"===this.data.dir&&(this.pageStartTime=Date.now()),X.globalData.currentPageType=this.data.pageType,X.globalData.processPage=this.data.pageType,this.data.pageType!==e.pageType&&((0,V.reportUser)(),r.log.page.pageValue.send({from:this.data.pageType})),e.from&&("sp_native"===e.from?r.log.from.mybaiduboxapp.send():r.log.from.fromOther.send())},makeScheme:function(e){e=encodeURI(e);var t=X.globalData.loginInfo.uk,a=(0,H.makeSchema)("MYFILE",{uk:t,path:e,behavior:r.ENV.fileTypeMap.MYFILE||"app_open",isSaved:"yes",hasPanCode:"no"});this.setData({schema:a})},setUk:function(){this.data.isHome&&(0,x.getUserInfo)().then((function(e){0===e.errno&&(X.globalData.loginInfo=e.login_info)})).catch((function(e){console.log(e)}))},initPageInfo:function(){if(X.globalData.systemInfo||(0,A.systemInfoSync)(),this.setData({topHeight:X.globalData.totalHeight,isIpx:X.globalData.isIpx,isHome:"/"===this.data.dir,screenHeight:X.globalData.systemInfo.screenHeight-X.globalData.totalHeight}),this.data.isHome)this.setData({moveCount:X.globalData.selectList.length});else{var e=this.data.dir.split("/"),t=e.length-1;this.setData({currentName:e[t],moveCount:X.globalData.selectList.length})}},initData:function(e){return e.recentFile?this.getRecentViewList(e):this.getList({}),this.getUserBaseInfoFunc()},getUserBaseInfoFunc:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X.globalData.isAppLogin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,O.getUserBaseInfo)();case 4:return 0===(t=e.sent).errno&&(X.globalData.memberType=t.vip_type,X.globalData.vipIconInfo.memberType=t.vip_type,X.globalData.vipIconInfo.memberLevel=t.vip_level,this.getUserMemberInfo(t.vip_type)),e.abrupt("return",t.displayname||"");case 7:case"end":return e.stop()}}),e,this)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}(),getUserMemberInfo:function(e){0===e&&(0,O.getUser)().then((function(e){var t=1,a=0;try{var i=e.previous_product,n=e.level_info.current_level;if(Array.isArray(i)&&0===i.length||0===Object.keys(i).length)a=0,t=1;else{var o=i.detail_cluster;t=n,a={svip:2,vip:1}[o],X.globalData.vipIconInfo.historyLevel=t,X.globalData.vipIconInfo.historyType=a}}catch(e){console.log(e.message)}}))},checkEmpty:function(){this.data.hasChecked||(this.setData({hasChecked:!0}),this.data.pageList.length>0&&this.data.pageList[0].length>0?this.setData({isEmpty:!1}):this.setData({isEmpty:!0}))},showPick:function(){this.setData({showSortPicker:!0})},hidePick:function(){this.setData({showSortPicker:!1})},sortList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=t.target,i=this.data.sortType;if(a.id===this.data.sortType){var n=0;n=0===this.data.desc?1:0,X.globalData.listDesc=n,this.setData({desc:n})}else X.globalData.listOrder=a.id,this.setData({sortType:a.id});"time"===i?r.log.home.homeTimeClick.send():"name"===i&&r.log.home.homeNameclick.send(),this.setData({start:0,page:0}),this.getList({}),this.hidePick()},getRecentVideoNum:function(){var e=this;if(1===this.data.category){(0,I.getRecentVideoList)({url:"recent/video/list",needDetail:1,reqType:"recentvideo"}).then((function(t){t.list&&t.list.length>0&&e.setData({hasRecentVideo:!0})}))}},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,a=t.type,i=void 0===a?"":a;i&&"update"===i&&r.log.home.homePullUpRefresh.send(),"recently"===this.data.activeTabItem?this.reloadRecentList():1===this.data.spnativevideo?Promise.all([(0,E.getFileListByCategory)({category:1,page:this.data.page+1,parent_path:"/来自：百度App"}),(0,E.getFileListByCategory)({category:1,page:this.data.page+1,parent_path:"/来自：流畅播视频"})]).then((function(e){var t=D(e,2),a=t[0],i=t[1];if(!a.list&&!i.list)return[];if(a.list&&!i.list)return a;if(!a.list&&i.list)return i;var n=[].concat(Y(a.list),Y(i.list));return{errno:0,list:(0,L.sortFileList)(n)}})).then((function(t){e.resolveGetListResult(t,i)})):this.data.category?(0,E.getFileListByCategory)({category:this.data.category,page:this.data.page+1}).then((function(t){e.resolveGetListResult(t,i)})):1===this.data.recentvideo?(0,I.getRecentVideoList)({url:"recent/video/list",needDetail:1}).then((function(t){e.resolveGetListResult(t,i)})):(0,C.getFileList)({url:"api/list",dir:this.data.dir,start:this.data.start,limit:this.data.num}).then((function(t){1===e.data.needCustomSort&&(t.list=(0,L.sortFileList)(t.list)),e.resolveGetListResult(t,i)}))},getRecentViewList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.recentFile){var t=r.getStorageSync("recentViewList");this.resolveGetListResult(t,"")}},resolveGetListResult:function(e,t){switch(r.sptoasthide(),e.errno){case 0:var a="/我的资源"===this.data.dir&&"outsiteChainFileList"===this.data.prevPageType,i=X.globalData.saveList&&0!==X.globalData.saveList.length;(a||i)&&0===this.data.savedList.length?this.preList(e):this.dealList(e);break;case-6:r.redirectTo({url:this.data.loginUrl});break;case-9:this.data.pageReady||this.setData({isEmpty:!0}),this.setPageReady(!0),r.sptoast({type:" info",title:"未找到文件夹"}),"task"===this.data.prevPageType?r.redirectTo({url:"/pages/task/index"}):r.reLaunch({url:"/pages/home/index"});break;default:r.log.home.indexRequestError.send(),t&&"update"===t&&r.log.home.homePullUpRefreshFail.send(),e.tipDone||r.sptoast({type:" info",title:e.errno})}},preList:function(e){var t=this,a={url:"api/list",dir:this.data.dir,start:0,limit:500};(0,C.getFileList)(a).then((function(a){var i=[];a.list.forEach((function(e,t){i.push(e)}));var n=[];i.forEach((function(e,t){X.globalData.saveList.forEach((function(t,a){e.path===t.to&&(e.light=!0,n.push(e))}))})),t.setData("savedList",(0,L.sortFileList)(n)),t.dealList(e,"pre")}))},mergeArray:function(e,t){for(var a=[],i=0;i<e.length;i++)a.push(e[i]);for(var n=0;n<t.length;n++){for(var o=!0,r=0;r<e.length;r++)if(t[n].path===e[r].to){o=!1;break}o&&a.push(t[n])}return a},dealList:function(e,t){if(e.list&&e.list.length>0){var a=e.list;if(this.data.savedList&&this.data.savedList.length>0){var i=[],n=[];this.data.savedList.forEach((function(e,t){i.push(e.path)})),n=JSON.stringify(a),n=JSON.parse(n),a.forEach((function(e,t){i.includes(e.path)&&delete n[t]}));var o=[];n.forEach((function(e,t){e&&o.push(e)})),a=o,"pre"===t&&(a=this.mergeArray(this.data.savedList,a))}this.setData("pageList["+this.data.page+"]",a),1===this.data.recentvideo?this.setData({hasMore:!1}):this.setData({hasMore:e.list.length>=this.data.num}),this.setData({start:this.data.num*(this.data.page+1),page:++this.data.page}),this.setAudioList(),this.updateSelectAll(),this.makeSaveListPreview()}else this.setData({hasMore:!1});this.checkEmpty(),this.data.pageReady||this.setPageReady(!0),this.initAllList(),this.initLight()},initAllList:function(){var e=[];this.data.pageList.map((function(t,a){e=e.concat(t)})),this.setData({allList:e})},scroll:function(e){var t=this,a=this.data,i=a.isHome,n=a.isCategoryPage,o=a.recentvideo,s=a.activeTabItem,c=a.pageList,l=a.recentList;if(i&&!n&&!o){if(e.detail.scrollTop>110?this.setData({listSortDisplay:!0}):this.setData({listSortDisplay:!1}),X.globalData.openAppGuideHasShow)return;var p=r.createSelectorQuery(),u=0;if("file"===s){if(c&&c[0]&&c[0].length<5)return;u=64,p.select("#home_list_0_4").boundingClientRect()}else if("recently"===s){if(l&&l.length<5)return;p.select("#recent_list_4").boundingClientRect()}p.exec((function(e){e[0].top<=u&&t.setData({isScrollTopOverFiveFiles:!0})}))}},lower:function(e){"recently"!==this.data.activeTabItem&&this.data.hasMore&&(this.setData({hasMore:!1}),r.sptoast({type:"loading",title:"数据加载中"}),e&&e.type?this.getList({type:e.type}):this.getList({type:"update"}))},categoryClick:function(e){var t=e.target.dataset.type||0,a=Number(t);switch(a){case 1:r.log.home.homeVideoCategoryClick.send();break;case 2:r.log.home.homeAudioCategoryClick.send();break;case 3:r.log.home.homeImageCategoryClick.send();break;case 4:r.log.home.homeDocCategoryClick.send();break;default:console.log("未知分类")}r.navigateTo({url:"/pages/home/index?&pageType="+X.globalData.currentPageType+"&category="+a})},recentVideoClick:function(){r.log.home.homeVideoRecentBtnClick.send(),r.navigateTo({url:"/pages/home/index?&pageType="+X.globalData.currentPageType+"&recentvideo=1&category=1"})},spnativeVideoClick:function(){r.newLog.videoPlayRelate.spnativeTabClick.send(),r.navigateTo({url:"/pages/home/index?&pageType="+X.globalData.currentPageType+"&spnativevideo=1&category=1"})},allVideoClick:function(){r.newLog.videoPlayRelate.allVideoTabClick.send(),r.navigateTo({url:"/pages/home/index?&pageType=home&category=1"})},tapOtherFile:function(e){},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},setAudioList:function(){var e=[];this.data.pageList.map((function(t,a){e=e.concat(t)})),e.map((function(e,t){2===e.category&&e.size<52428800&&X.globalData.ownAudioList.push(e)}))},setfilelistStorage:function(e,t,a){r.setStorageSync("fileList",{list:this.data.pageList,fileInfo:e,pageNum:t,index:a,currentFsId:e.fs_id})},startShare:function(){X.globalData.lightOff=!0,this.initLight(),r.log.home.indexShareBtnclick.send(),r.log.home.indexselectshow.send(),X.globalData.saveList=[],X.globalData.selectList=[],this.setData({canSelected:!0,canShare:!0,shareButtonShow:!0,isSelectedAll:!1})},startOpera:function(e){r.log.home.indexselectshow.send(),X.globalData.lightOff=!0,this.initLight(),e||(X.globalData.saveList=[]),X.globalData.selectList=[],this.setData({canSelected:!0,canShare:!1,shareButtonShow:!e,isSelectedAll:!1,canMove:!1})},doClearRecord:function(){this.setData({canSelected:!1}),this.reloadRecentList()},reloadRecentList:function(){var e=this;r.sptoast({type:"loading",title:"加载中..."}),(0,T.getRecentList)().then((function(t){var a=!1,i=[],n=!1;0===t.errno?t.list&&0!==t.list.length?i=t.list.slice(0,15):a=!0:n=!0,e.setData({noHistory:a,recentList:i,recentLoadFail:n}),r.sptoasthide(),e.setPageReady(!0)}))},goback:function(){var e=this;r.log.home.indexselectcancel.send(),"recently"===this.data.activeTabItem?this.data.recentList.forEach((function(t,a){if(t.selected){var i="recentList["+a+"].selected";e.setData(Q({},i,!1))}})):this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(Q({},n,!1))}}))})),this.setData({count:0,isSelectedAll:!1,canSelected:!1,shareButtonShow:!1,selectedList:[],canShare:!1,canMove:!1,fortieba:!1,shareLink:!1}),X.globalData.moving=!1,X.globalData.movingIndex=1},updateSelectAll:function(){this.data.isSelectedAll&&(this.setData({isSelectedAll:!1}),this.selectedAll())},selectedAll:function(){var e=this;if(this.data.isSelectedAll)"recently"===this.data.activeTabItem?(this.data.recentList.forEach((function(t,a){if(t.selected){var i="recentList["+a+"].selected";e.setData(Q({},i,!1))}})),this.setData({polymerization:!1,shareLink:!1})):this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(Q({},n,!1))}}))})),this.setData({count:0,selectedList:[],isSelectedAll:!1});else{r.log.home.indexAllClick.send();var t=[];if("recently"===this.data.activeTabItem){var a=[],i=!1;this.data.recentList.forEach((function(n,o){var r={};n.total_num&&n.total_num>1&&(i=!0),r=15!==n.type?Object.assign({},n,{server_filename:n.detail[0].server_filename,path:n.detail[0].path}):n;var s="recentList["+o+"].selected";e.setData(Q({},s,!0)),t.push(r),a.push(n.type)})),this.setData({polymerization:i,shareLink:a.includes(15)})}else{var n=0;this.data.pageList.map((function(a,i){a.map((function(a,o){if(++n>=500)r.sptoast({type:"info",title:"最多仅能对500个文件进行操作"});else if(!a.deleted&&(t.push(a),!a.selected)){var s="pageList["+i+"]["+o+"].selected";e.setData(Q({},s,!0))}}))}))}this.setData({count:t.length,selectedList:t,isSelectedAll:!0})}this.initGlobalSelectList()},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index,n=e.isRecentRecord;n&&r.newLog.homePage.recentOperaShow.send(),this.startOpera(n),this.selectItem({fileInfo:t,pageNum:a,index:i,isRecentRecord:n})},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index,n=e.isRecentRecord;if(this.data.selectedList.length>=500)r.sptoast({type:"info",title:"最多仅能对500个文件进行操作"});else{var o=[],s=!1;if(n){var c=[],l=!1,p="recentList["+i+"].selected";this.setData(Q({},p,!this.data.recentList[i].selected)),this.data.recentList.forEach((function(e){if(e.selected){var t={};e.total_num&&e.total_num>1&&(l=!0),t=15!==e.type?Object.assign({},e,{server_filename:e.detail[0].server_filename,path:e.detail[0].path}):e,o.push(t),c.push(e.type)}})),s=this.data.recentList.length===o.length,this.setData({polymerization:l,shareLink:c.includes(15)})}else{var u="pageList["+a+"]["+i+"].selected";this.setData(Q({},u,!t.selected)),this.data.pageList.map((function(e,t){e.map((function(e,t){e.selected&&o.push(e)}))})),s=this.data.allList.length===o.length}this.setData({count:o.length,selectedList:o,isSelectedAll:s}),this.initGlobalSelectList()}},makeShareLink:function(e){var t=this,a=[];if(this.data.selectedList.forEach((function(e){3===e.type&&e.detail?e.detail.forEach((function(e){a.push(e)})):a.push(e)})),a=(0,G.uniqueArray)(a,"fs_id"),!(this.data.count<=0||this.data.sharing)){this.setData({sharing:!0}),r.log.home.indexShareLink.send({from:this.data.pageType});var i=(0,B.randomWord)(!1,4,4);this.setData({linkPwd:i});var n={from:"batch",fid_list:a.map((function(e){return e.fs_id})),pwd:i,schannel:4,period:0};(0,F.postFileShare)(n).then((function(e){if(t.setData({sharing:!1}),(0,J.shareMonitor)(e.errno),0===e.errno){var a={confirmTip:"下列链接已复制到剪贴板，粘贴分享给好友",sharePageLink:(0,A.generateSharePageLink)(e.shorturl,t.data.linkPwd,{memberType:X.globalData.vipIconInfo.memberType,memberLevel:X.globalData.vipIconInfo.memberLevel})};t.bottomBtnBar||(t.bottomBtnBar=t.selectComponent("#bottomBtnBar")),t.bottomBtnBar.showConfirm(a),t.goback()}else r.sptoast({type:" info",title:"分享失败请重试"}),t.goback()})).catch((function(){(0,J.shareMonitor)()}))}},initLight:function(){var e=this;X.globalData.saveList.length>0&&this.data.pageList.length>0&&this.data.pageList.map((function(t,a){t.map((function(t,i){X.globalData.saveList.map((function(n,o){if(X.globalData.lightOff){if(n.to===t.path&&t.light){var r="pageList["+a+"]["+i+"].light";e.setData(Q({},r,!1))}}else if(n.to===t.path&&!t.light){var s="pageList["+a+"]["+i+"].light";e.setData(Q({},s,!0))}}))}))}))},openAppByBtn:function(){r.newLog.globalPage.openAppClk.send(),this.openApp()},openApp:function(){X.globalData.lightOff=!0},popupclose:function(){X.globalData.closePop=!0,this.setData({popupIsShow:!X.globalData.closePop})},closePlayer:function(){this.setData({isShowPlayer:!1})},showAudioPreview:function(e){this.setData({isShowAudioPreview:e.showBox})},doDeleteFile:function(){var e=this;if(0!==this.data.count&&!this.data.operaing){this.setData({operaing:!0,operaType:"delete"});var t=[];this.data.selectedList.forEach((function(e){3===e.type&&e.detail?e.detail.forEach((function(e){t.push(e.path)})):t.push(e.path)})),t=Array.from(new Set(t)),r.sptoast({type:"loading",title:"删除中..."});var a={filelist:JSON.stringify(t)};(0,N.deleteFile)(a).then((function(t){if(0===t.errno)e.queryTask({taskid:t.taskid});else{if(e.setData({operaing:!1}),r.sptoasthide(),2===t.errno)return void r.sptoast({type:" info",title:"apps文件夹不支持被删除"});if(132===t.errno){e.startDialog((function(e){e.confirm&&r.newLog.homePage.deleteFileSecurityClk.send()}),{showCancel:!1,showConfirm:!0,showLogin:!1,showBtn:!0,content:"删除文件量较大，请使用手机或网页进行安全验证后删除",confirmText:"确定",title:"删除失败"})}else r.sptoast({type:" info",title:"接口出错"})}}))}},queryTask:function(e){var t=this;this.bottomBtnBar||(this.bottomBtnBar=this.selectComponent("#bottomBtnBar"));var a=this;e&&e.taskid?(0,N.taskQuery)(e).then((function(i){if(0===i.errno)if("pending"===i.status||"running"===i.status)a.timeOutId=n((function(){a.queryTask(e)}),1e3);else if("success"===i.status)r.sptoasthide(),clearTimeout(t.timeOutId),t.setData({operaing:!1}),"delete"===t.data.operaType&&(r.sptoast({type:" info",title:"删除成功"}),t.goback(),t.hiddenItem()),"move"===t.data.operaType&&(r.sptoast({type:" info",title:"移动成功"}),X.globalData.moving=!1,t.goback(),t.dealOpenDir({path:t.data.dir,pageType:X.globalData.currentPageType,routeType:"relaunch"})),"rename"===t.data.operaType&&(a.bottomBtnBar.updateDialog(),a.itemRename(i.list[0]),"recently"===t.data.activeTabItem&&t.reloadRecentList(),a.goback(),r.sptoast({type:" info",title:"重命名成功"}));else if("failed"===i.status){if(t.setData({operaing:!1}),r.sptoasthide(),clearTimeout(t.timeOutId),"rename"===t.data.operaType)return void a.bottomBtnBar.upDateNotice({errorno:-4});if("move"===t.data.operaType){if(-30===i.task_errno){r.log.opera.movesamename.send();var o=!1;if(i.list.forEach((function(e,t){"/"+e.from===e.to&&(o=!0)})),o){return void t.startDialog((function(e){t.cancelMove()}),{showCancel:!1,showConfirm:!0,showLogin:!1,showBtn:!0,content:"无法将文件移动到自身或其者子目录下",confirmText:"确定",title:"文件无法移动"})}t.startDialog((function(e){e.confirm?t.doOverwriteDir(i.list):e.cancel&&(r.sptoast({type:" info",title:"移动成功"}),X.globalData.moving=!1,t.goback(),t.dealOpenDir({path:t.data.dir,pageType:X.globalData.currentPageType,routeType:"reLaunch"}))}),{showCancel:!0,showConfirm:!0,showLogin:!1,showBtn:!0,cancelText:"跳过",content:"共 "+i.list.length+" 个同名文件，请针对同名文件选择操作",confirmText:"保留全部",title:"存在同名文件",cancelColor:"fc-blue"})}else if(4===i.task_errno){r.log.opera.cannotmove.send();t.startDialog((function(e){t.cancelMove()}),{showCancel:!1,showConfirm:!0,showLogin:!1,showBtn:!0,content:"无法将文件移动到自身或其者子目录下",confirmText:"确定",title:"文件无法移动"})}return}r.sptoast({type:" info",title:"操作失败"})}else t.setData({operaing:!1}),r.sptoasthide(),r.sptoast({type:" info",title:"接口出错"});else t.setData({operaing:!1}),r.sptoasthide(),r.sptoast({type:" info",title:"接口出错"})})):(this.setData({operaing:!1}),r.sptoasthide(),clearTimeout(this.timeOutId),r.sptoast({type:" info",title:"参数错误"}))},hiddenItem:function(){var e=this,t=[];this.data.isSelectedAll&&this.data.hasMore?r.reLaunch({url:"/pages/home/index?path="+this.data.dir}):(this.data.pageList.forEach((function(e,a){e.forEach((function(e,i){X.globalData.selectList.forEach((function(n,o){e.path===n.path&&t.push({pageNum:a,index:i})}))}))})),t.forEach((function(t,a){var i="pageList["+t.pageNum+"]["+t.index+"].deleted";e.setData(Q({},i,!0))})),this.checkRealEmpty())},itemRename:function(e){var t=this;this.data.pageList.forEach((function(a,i){a.forEach((function(a,n){t.data.selectedList.forEach((function(o,r){if(a.path===o.path){var s,c="pageList["+i+"]["+n+"].server_filename",l="pageList["+i+"]["+n+"].selected",p="pageList["+i+"]["+n+"].path";X.globalData.selectList=[],t.data.selectList=[],t.setData((Q(s={},c,t.data.operaName),Q(s,l,!1),Q(s,p,e.to),s))}}))}))}))},checkRealEmpty:function(){var e=[];this.data.pageList.forEach((function(t,a){t.forEach((function(t,a){t.deleted||e.push(t)}))})),e.length>0?this.setData({isEmpty:!1}):this.setData({isEmpty:!0})},doMoveFile:function(){var e=[];if(X.globalData.selectList.forEach((function(t,a){t.server_filename.includes("来自：")&&e.push(t)})),e.length>0)r.sptoast({type:"info",title:"来自XX文件夹无法移动"});else{X.globalData.moving=!0,X.globalData.moveSourcePath=this.data.dir;this.dealOpenDir({path:"/",pageType:this.data.pageType,routeType:"navigateTo"})}},initGlobalMoveStatus:function(){this.setData({canMove:X.globalData.moving})},cancelMove:function(){if(r.log.opera.movecancel.send(),X.globalData.moving){X.globalData.moving=!1;var e=X.globalData.moveSourcePath;this.dealOpenDir({path:e,pageType:this.data.pageType,routeType:"reLaunch"})}else this.initGlobalMoveStatus()},doCreate:function(e){var t=this;if(!this.data.operaing){this.setData({operaType:"create",operaing:!0,operaName:e.fileName}),r.sptoast({type:"loading",title:"创建中..."});var a={path:""+(this.data.isHome?"/"+e.fileName:this.data.dir+"/"+e.fileName),isdir:1,block_list:"[]"},i=this;(0,N.createDir)(a).then((function(e){t.setData({operaing:!1}),0===e.errno?(r.sptoasthide(),t.bottomBtnBar||(t.bottomBtnBar=t.selectComponent("#bottomBtnBar")),i.bottomBtnBar.upDateNotice({errorno:e.errno}),r.sptoast({type:"info",title:"创建成功"}),n((function(){t.reloadList()}),300)):-7===e.errno||-8===e.errno||-10===e.errno?(r.sptoasthide(),i.bottomBtnBar.upDateNotice({errorno:e.errno})):(r.sptoasthide(),r.sptoast({type:"info",title:"创建失败"}))}))}},reloadList:function(){this.setData({pageList:[],page:0,hasMore:!0,start:0}),this.lower({type:"reload"})},doMove:function(){var e=this;if(!this.data.operaing){this.setData({operaType:"move",operaing:!0});var t=X.globalData.selectList,a=[];t.forEach((function(t,i){a.push({dest:e.data.dir,path:t.path,newname:(t.path.match(/\/([^\/]+)\/?$/)||[])[1],ondup:"fail"})}));var i={filelist:JSON.stringify(a)};r.sptoast({type:"loading",title:"移动中..."}),(0,N.moveDir)(i).then((function(t){if(0===t.errno)e.queryTask({taskid:t.taskid});else{if(e.setData({operaing:!1}),r.sptoasthide(),e.goback(),2===t.errno)return r.sptoast({type:" info",title:"apps文件夹不支持被移动"}),void n((function(){e.cancelMove()}),1e3);r.sptoast({type:" info",title:"接口出错"})}}))}},doOverwriteDir:function(e){var t=this;if(!this.data.operaing){this.setData({operaing:!0});var a=X.globalData.selectList,i=[];a.forEach((function(a,n){e.forEach((function(e,n){e.from===a.path&&i.push({dest:t.data.dir,path:a.path,newname:(a.path.match(/\/([^\/]+)\/?$/)||[])[1],ondup:"newcopy"})}))}));var n={filelist:JSON.stringify(i)};(0,N.overwriteDir)(n).then((function(e){0===e.errno?(r.sptoast({type:"loading",title:"移动中..."}),t.queryTask({taskid:e.taskid})):(t.setData({operaing:!1}),r.sptoasthide(),r.sptoast({type:" info",title:"接口出错"}))}))}},doSkipDir:function(){var e=this;if(!this.data.operaing){this.setData({operaing:!0});var t=X.globalData.selectList,a=[];t.forEach((function(t,i){a.push({dest:e.data.dir,path:t.path,newname:(t.path.match(/\/([^\/]+)\/?$/)||[])[1],ondup:"skip"})}));var i={filelist:JSON.stringify(a)};(0,N.skipDir)(i).then((function(t){0===t.errno?(r.sptoast({type:"loading",title:"跳过处理中..."}),e.queryTask({taskid:t.taskid})):(e.setData({operaing:!1}),r.sptoasthide(),r.sptoast({type:" info",title:"接口出错"}))}))}},doRename:function(e){var t=this;if(!this.data.operaing){this.setData({operaing:!0,operaType:"rename",operaName:e.fileName});var a=X.globalData.selectList,i=[];a.forEach((function(t,a){i.push({path:t.path,newname:e.fileName})})),r.sptoast({type:"loading",title:"重命名中..."});var n={filelist:JSON.stringify(i)};(0,N.renameDir)(n).then((function(e){if(0===e.errno)t.queryTask({taskid:e.taskid});else{if(t.setData({operaing:!1}),r.sptoasthide(),t.goback(),t.bottomBtnBar||(t.bottomBtnBar=t.selectComponent("#bottomBtnBar")),t.bottomBtnBar.updateDialog(),2===e.errno)return void r.sptoast({type:" info",title:"apps文件夹不支持被重命名"});r.sptoast({type:" info",title:"接口出错"})}})).catch((function(e){t.setData({operaing:!1}),r.sptoasthide()}))}},doOpenDir:function(){var e={},t=X.globalData.selectList[0];if((e=3===t.type&&t.detail?t.detail[0]:t).path){var a=e.path.split("/");a.pop(),this.dealOpenDir({path:a.join("/"),pageType:this.data.pageType,routeType:"navigateTo"})}},dealOpenDir:function(e){var t=e.path,a=e.pageType,i=e.routeType;t||(t="/");var o=encodeURIComponent(t);n((function(){r[i]({url:"/pages/home/index?path="+o+"&pageType="+a})}),300)},initGlobalSelectList:function(){X.globalData.selectList=this.data.selectedList},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,n=t.content,o=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn,p=t.contents,u=void 0===p?[]:p,d=t.ShowCloseBtn,h=t.cancelColor,g=t.title;r.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:n,confirmText:o,showBtn:l,contents:u,ShowCloseBtn:d,cancelColor:h,title:g})},tiebaShare:function(){r.log.home.indexselectshow.send(),this.setData({canSelected:!0,fortieba:!0})},doShareTieba:function(){var e=this;if(!this.data.tiebaSharing){this.setData({tiebaSharing:!0});var t=this.data.selectedList;if(!(this.data.count<=0||this.data.sharing)){var a=t.map((function(e){return e.fs_id})),i=(0,U.superMakeShareParams)(a);this.setData({linkPwd:i.pwd});var n=this;(0,F.postFileShare)(i).then((function(t){if((0,J.shareMonitor)(t.errno),0===t.errno){e.setData({tiebaSharing:!1});var a=t.shorturl,i="";i=n.data.selectedList.length>1?"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/tieba-list.png":(0,M.getPic)(X.globalData.selectList[0]);var o={code:n.data.linkPwd,img:i,url:a};e.goback(),(0,R.callTieba)(o,(function(){e.setData({canSelected:!1,fortieba:!1}),"outsiteChainFileList"===X.globalData.processPage?r.log.tieba.outsideShareTiebaSuccess.send():r.log.tieba.homeShareTiebaSuccess.send()}))}else e.setData({tiebaSharing:!1}),r.sptoast({type:" info",title:"分享失败请重试"}),e.goback()})).catch((function(){(0,J.shareMonitor)()}))}}},handleIconClick:function(){r.log.activity.iconMyClick.send()},handleBannerClick:function(){r.newLog.homePage.bannerClk.send()},handleBannerCancel:function(){r.newLog.homePage.bannerCloseClk.send(),(0,j.isShowActivity)(!0,this.data.bannerShowKey),this.setData({canShowActiveBanner:!1})},handleIconCancel:function(){(0,j.isShowActivity)(!0)},activityIcon:function(){var e=this;(0,z.getIcon)().then((function(t){var a={},i={},n=[];t.forEach((function(e){switch(e.pop_type){case 1:a=e;break;case 2:i=e;break;case 18:n.push(e)}}));var o=e.data,s=o.canShowActiveIcon,c=o.canShowActiveBanner,l=o.isHome,p=o.isCategoryPage,u=o.canMove,d=o.canSelected;a.isValid&&s&&l&&p&&(r.log.activity.iconShow.send(),r.log.activity.iconMyShow.send()),n.length>0&&c&&l&&!p&&!u&&!d&&r.newLog.homePage.bannerShow.send(),e.setData({activitiesBanner:n,icon:a,banner:i})}))},sendDwellTimeLog:function(){"outsiteChainFileList"===this.data.prevPageType&&"/我的资源"===this.data.dir&&r.log.transferOptimization.dwellTime.send({other0:Date.now()-this.pageStartTime})},setPageInfo:function(){var e=this.data,t=e.nickName,a=e.titleTxt,i="百度网盘首页";e.isHome?""!==t&&(i=t+"的百度网盘"):i="百度网盘的"+a+"文件",r.setPageInfo({title:i,keywords:"百度网盘"})},makeSaveListPreview:function(){this.data.autoPreview&&this.data.savedList&&this.data.savedList.length>0&&(0,W.filePreview)({filelist:this.data.savedList,pageType:X.globalData.currentPageType,previewType:"homePreview",needRedirect:!0,previewFromType:q.previewFromTypeObj.SHARE_TRANS_VIEW})},setPageReady:function(e){var t=this;this.setData({pageReady:e},(function(){e&&(t.bottomBtnBar=t.selectComponent("#bottomBtnBar"))}))},tabsChange:function(e){var t=e.activeItem,a={file:"homeFileShow",recently:"recentFileShow"},i={file:"homeFileClk",recently:"recentFileClk"};t!==this.data.activeTabItem&&(this.data.recentList&&0===this.data.recentList.length&&this.reloadRecentList(),this.setData({activeTabItem:e.activeItem}),"home"===this.data.pageType&&(r.newLog.homePage[a[t]].send(),r.newLog.homePage[i[t]].send(),"recently"===t&&r.newLog.homePage.recentToNaShow.send()))},handleClickTabBar:function(e){"camera"===e.detail&&this.documentScanPicker.show()}})})),window.define("371",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createDir=a.renameDir=a.skipDir=a.overwriteDir=a.moveDir=a.deleteFile=a.taskQuery=void 0;var P=e(372);o(),a.taskQuery=function(e){var t={hasError:!1};return(0,P.taskQueryApi)(e).then((function(e){return t.errno=e.errno,t.status=e.status,t.task_errno=e.task_errno,t.list=e.list,t})).catch((function(e){return t.hasError=!0,t}))},a.deleteFile=function(e){var t={hasError:!1};return(0,P.deleteFileApi)(e).then((function(e){return t.errno=e.errno,t.taskid=e.taskid,t})).catch((function(e){return t.hasError=!0,t}))},a.moveDir=function(e){var t={hasError:!1};return(0,P.moveDirApi)(e).then((function(e){return t.errno=e.errno,t.taskid=e.taskid,t})).catch((function(e){return t.hasError=!0,t}))},a.overwriteDir=function(e){var t={hasError:!1};return(0,P.overwriteDirApi)(e).then((function(e){return t.errno=e.errno,t.taskid=e.taskid,t})).catch((function(e){return t.hasError=!0,t}))},a.skipDir=function(e){var t={hasError:!1};return(0,P.skipDirApi)(e).then((function(e){return t.errno=e.errno,t.taskid=e.taskid,t})).catch((function(e){return t.hasError=!0,t}))},a.renameDir=function(e){var t={hasError:!1},a=(0,P.renameDirApi)(e);return a?a.then((function(e){return t.taskid=e.taskid,t.errno=e.errno,t})).catch((function(e){return t.hasError=!0,t})):Promise.reject("网络异常,请稍后再试")},a.createDir=function(e){var t={hasError:!1};return(0,P.createDirApi)(e).then((function(e){return t.errno=e.errno,t})).catch((function(e){return t.hasError=!0,t}))}})),window.define("372",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createDirApi=a.skipDirApi=a.overwriteDirApi=a.moveDirApi=a.renameDirApi=a.deleteFileApi=a.taskQueryApi=void 0;var P=e(16);o(),a.taskQueryApi=function(e){return(0,P.bdRequest)({api:"api/taskquery?taskid="+e.taskid,method:"GET",clientType:32})},a.deleteFileApi=function(e){return(0,P.bdRequest)({api:"api/filemanager?opera=delete&async=2&onnest=fail",data:e,method:"POST",clientType:32})},a.renameDirApi=function(e){return(0,P.bdRequest)({api:"api/filemanager?opera=rename&async=2&ondup=fail",data:e,method:"POST",clientType:32,channel:"weixin"})},a.moveDirApi=function(e){return(0,P.bdRequest)({api:"api/filemanager?opera=move&async=2&web=1",data:e,method:"POST",clientType:32})},a.overwriteDirApi=function(e){return(0,P.bdRequest)({api:"api/filemanager?opera=move&async=2&onnest=fail&web=1",data:e,method:"POST",clientType:32})},a.skipDirApi=function(e){return(0,P.bdRequest)({api:"api/filemanager?opera=move&async=2&ondup=skip&web=1",data:e,method:"POST",clientType:32})},a.createDirApi=function(e){return(0,P.bdRequest)({api:"api/create?rtype=0",data:e,method:"POST",clientType:32})}})),window.define("373",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getIcon=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(16),D=e(244);a.getIcon=function(){return(0,S.bdRequest)({api:"act/api/activityentry?entry_type=2&app_id="+n.ENV.appId,channel:"chunlei_netdisk",version:"2.0"},{},"GET").then((function(e){"object"!==(void 0===(e=e||{})?"undefined":P(e))&&(e={});var t=[];return 0===e.errno&&Array.isArray(e.popup_list)&&((t=e.popup_list).forEach((function(e){var t=(e.entry_info||[])[0]||{};Object.assign(e,t),e.showImg=e.popup_content_url||e.popup_icon_url,"string"==typeof e.pop_type&&e.pop_type.length&&(e.pop_type=+e.pop_type),"string"==typeof e.nav_type&&e.nav_type.length&&(e.nav_type=+e.nav_type)})),(0,D.validateActivity)(t)),t}))}})),window.define("376",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(377),D=e(378),C=e(20),T="超级会员日-online-2020-06-27";Page({data:{loadingCfg:!0},onReady:function(){var e=this;n((function(){e.luckyDrawComp=e.selectComponent("#luckyDrawComp")}),800)},onLoad:function(){var e=this;this.loginTask=(0,C.bdLogin)().then((function(){o.log.send({value:"页面PV、UV",type:e.cfgName+"_"+e.clientType})})).catch((function(){o.log.send({value:"页面PV、UV",type:e.cfgName+"_"+e.clientType})})),this.cfgName=T,this.clientType=6,o.log.send({value:"页面PV、UV",type:this.cfgName+"_"+this.clientType}),(0,D.getCfg)(T,6).then((function(t){if(t&&0===t.errno){var a={pages:[]};try{a=JSON.parse(t.data)||a}catch(e){console.log("反序列化失败")}e.pageData=a.pages.filter((function(e){return"index"===e.name}))[0]||{},console.log(e.pageData),e.validateDate(e.pageData)?e.setData(e.pageData):e.navigateTo("",{url:e.pageData.errorPage||"/pages/error/index"}),e.initPageInfo()}else e.loadLocalCfg();e.setData({loadingCfg:!1})})).catch((function(t){e.setData({loadingCfg:!1}),e.loadLocalCfg(),n((function(){e.luckyDrawComp=e.selectComponent("#luckyDrawComp")})),console.log(t)}))},loadLocalCfg:function(){this.pageData=S.dlLocal.pages.filter((function(e){return"index"===e.name}))[0]||{},console.log(this.pageData),this.validateDate(this.pageData)?this.setData(Object.assign({},this.pageData)):this.navigateTo("",{url:this.pageData.errorPage||"/pages/error/index"}),this.initPageInfo()},initPageInfo:function(){this.pageData.shareOption&&this.pageData.shareOption.enabled||o.showToast({title:"hideShareMenu暂时不支持，请酌情处理",icon:"none"}),o.setNavigationBarTitle({title:this.pageData.title||"运营活动"})},validateDate:function(e){if(!e.startDate||!e.endDate)return!1;var t=new Date(e.startDate.replace(/-/gi,"/")).getTime(),a=new Date(e.endDate.replace(/-/gi,"/")).getTime(),i=(new Date).getTime();return i>t&&i<a},navigateTo:function(e,t){var a=t&&t.url||e.target.dataset.link;if(a){if(a.indexOf(",")>0){var i=a.split(",");o.navigateToSmartProgram({appId:i[0],path:i[1],success:function(e){}})}else/^http(s)?:\/\/+/.test(a)?o.navigateTo({url:"/pages/h5/index?src="+encodeURIComponent(t&&t.url||e.target.dataset.link)}):o.navigateTo({url:a})}}})})),window.define("377",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.dlLocal={pages:[{id:"KDO4QG0UO13MM9IQ3HJTIHM7OTLL7PQ7",name:"index",pageComps:[{id:"u-image",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui/1591217450062877791.jpg",url:"",styles:"width: 100%;",bpKey:"ime-head",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"5F23AA22B2D692C3",isHover:!1,btnPosition:207},{id:"u-extra-ticket",name:"u-extra-ticket.vue",props:{activityId:"197561593064",bgImage:"https://staticiot.cdn.bcebos.com/gui/1590576727516626456.jpg",letterSpacing:"26.6",top:"0",showRule:!0,ruleTitleText:"活动规则",textContent:"%3Cp%3E%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E3%80%90%E8%B6%85%E7%BA%A7%E4%BC%9A%E5%91%98%E6%97%A5%E3%80%91%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%3C%2Fp%3E%3Cp%3E1.%E6%B4%BB%E5%8A%A8%E6%97%B6%E9%97%B4%EF%BC%9A6%E6%9C%8827%E6%97%A500%EF%BC%9A00-23%EF%BC%9A59%EF%BC%88%E4%B9%8B%E5%90%8E%E6%AF%8F%E8%87%AA%E7%84%B6%E6%9C%88%E5%91%A8%E5%85%AD%E9%83%BD%E4%B8%BA%E8%B6%85%E7%BA%A7%E4%BC%9A%E5%91%98%E6%97%A5%E4%B8%8A%E7%BA%BF%EF%BC%8C%E9%81%87%E9%87%8D%E5%A4%A7%E8%8A%82%E5%81%87%E6%97%A5%E3%80%81%E7%81%BE%E5%AE%B3%E7%AD%89%E7%89%B9%E6%AE%8A%E6%97%B6%E9%97%B4%E9%A1%BA%E5%BB%B6%E8%87%B3%E4%B8%8B%E5%91%A8%E5%85%AD%EF%BC%89%3C%2Fp%3E%3Cp%3E2.6%E6%8A%98%E7%A5%9E%E5%88%B8%E4%BB%B7%E6%A0%BC%E8%AF%B4%E6%98%8E%EF%BC%9A6%E6%8A%98%E7%A5%9E%E5%88%B8%E4%BB%85%E9%99%90%E8%B4%AD%E4%B9%B0%E8%BF%9E%E7%BB%AD%E5%8C%85%E6%9C%88%E4%BC%9A%E5%91%98%E5%95%86%E5%93%81%EF%BC%8C%E5%B7%B2%E8%B4%AD%E4%B9%B0%E8%BF%9E%E7%BB%AD%E5%8C%85%E6%9C%88%E4%BC%9A%E5%91%98%E7%94%A8%E6%88%B7%E5%8F%8A%E9%A6%96%E6%AC%A1%E8%B4%AD%E4%B9%B0%E4%BC%9A%E5%91%98%E7%94%A8%E6%88%B7%E6%9A%82%E4%B8%8D%E6%94%AF%E6%8C%81%E4%BD%BF%E7%94%A8%EF%BC%9B%E8%B6%85%E7%BA%A7%E4%BC%9A%E5%91%98%E8%BF%9E%E7%BB%AD%E5%8C%85%E6%9C%88%E9%A6%96%E6%9C%886%E6%8A%98%E6%8A%98%E6%89%A3%EF%BC%8C%E6%AC%A1%E6%9C%88%E6%81%A2%E5%A4%8D%E6%AD%A3%E5%B8%B8%E5%8C%85%E6%9C%88%E8%B4%B9%E7%94%A825%E5%85%83%2F%E6%9C%88%EF%BC%8C%E7%A5%9E%E5%88%B8%E5%8F%AF%E5%89%8D%E5%BE%80%E4%BC%9A%E5%91%98%E4%B8%AD%E5%BF%83%EF%BC%8C%E8%B4%AD%E4%B9%B0%E8%BF%9E%E7%BB%AD%E5%8C%85%E6%9C%88%E7%9B%B8%E5%BA%94%E5%95%86%E5%93%81%E6%97%B6%EF%BC%8C%E5%8F%AF%E6%8C%89%E7%85%A7%E7%9B%B8%E5%BA%94%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%E8%BF%9B%E8%A1%8C%E7%9B%B4%E6%8E%A5%E6%8A%B5%E6%89%A3%EF%BC%9B%E8%87%AA%E5%8A%A8%E7%BB%AD%E8%B4%B9%E5%8F%AF%E9%9A%8F%E6%97%B6%E5%8F%96%E6%B6%88%EF%BC%8C%E6%9C%AC%E6%AC%A1%E4%BC%98%E6%83%A0%E4%BB%B7%E6%A0%BC%E4%BB%85%E9%99%90%E5%9C%A8%E7%BD%91%E7%9B%98%E5%AE%89%E5%8D%93%E7%AB%AF%E3%80%81%E7%BD%91%E9%A1%B5%E7%AB%AF%E3%80%81%E7%94%B5%E8%84%91%E7%AB%AF%E4%BD%BF%E7%94%A8%E3%80%82%3C%2Fp%3E%3Cp%3E3.%E8%AF%95%E6%89%8B%E6%B0%94%E5%88%AE%E5%A5%96%E8%A7%84%E5%88%99%E8%AF%B4%E6%98%8E%EF%BC%9A%3C%2Fp%3E%3Cp%3E1)%E6%AF%8F%E4%BD%8D%E7%94%A8%E6%88%B7%E6%AF%8F%E6%9C%9F%E6%B4%BB%E5%8A%A81%E6%AC%A1%E6%8A%BD%E5%A5%96%E6%9C%BA%E4%BC%9A%EF%BC%9B%3C%2Fp%3E%3Cp%3E2)%E6%B4%BB%E5%8A%A8%E5%A5%96%E5%93%81%EF%BC%9A%E9%9A%8F%E6%9C%BA%E8%8E%B7%E5%BE%97%E8%B6%85%E7%BA%A7%E4%BC%9A%E5%91%98%E8%BF%9E%E7%BB%AD%E5%8C%85%E6%9C%88%2F%E5%AD%A3%2F%E4%BC%98%E6%83%A0%E5%88%B8%EF%BC%9B%3C%2Fp%3E%3Cp%3E3)%E4%BC%98%E6%83%A0%E5%88%B8%E5%8F%AF%E5%89%8D%E5%BE%80%E4%BC%9A%E5%91%98%E4%B8%AD%E5%BF%83%EF%BC%8C%E8%B4%AD%E4%B9%B0%E7%9B%B8%E5%BA%94%E5%95%86%E5%93%81%E6%97%B6%EF%BC%8C%E5%8F%AF%E6%8C%89%E7%85%A7%E7%9B%B8%E5%BA%94%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%E8%BF%9B%E8%A1%8C%E7%9B%B4%E6%8E%A5%E6%8A%B5%E6%89%A3%E3%80%82%3C%2Fp%3E%3Cp%3E4.%E4%BC%98%E6%83%A0%E5%88%B8%E6%9C%89%E6%95%88%E6%9C%9F%EF%BC%9A%E6%B4%BB%E5%8A%A8%E4%BC%98%E6%83%A0%E5%88%B8%E8%AF%B7%E5%9C%A8%E4%B8%AD%E5%A5%96%E5%BD%93%E5%A4%A900%EF%BC%9A00-23%EF%BC%9A59%E5%86%85%E4%BD%BF%E7%94%A8%EF%BC%9B%3C%2Fp%3E%3Cp%3E5.6%E6%8A%98%E7%A5%9E%E5%88%B8%E8%87%AA%E5%8A%A8%E7%BB%AD%E8%B4%B9%E5%A5%97%E9%A4%90%E4%BC%98%E6%83%A0%E5%88%B8%E7%AD%89%E9%9D%9E%E7%8E%B0%E9%87%91%E6%80%A7%E7%A6%8F%E5%88%A9%E4%B8%8D%E6%94%AF%E6%8C%81%E8%BD%AC%E8%AE%A9%E3%80%81%E9%80%80%E8%B4%A7%E3%80%81%E6%92%A4%E9%94%80%E7%AD%89%E5%8F%8D%E5%90%91%E4%BA%A4%E6%98%93%EF%BC%8C%E4%B8%8D%E6%94%AF%E6%8C%81%E5%85%91%E6%8D%A2%E6%88%90%E7%8E%B0%E9%87%91%E6%88%96%E5%85%B6%E4%BB%96%E5%A5%96%E5%93%81%E3%80%82%3C%2Fp%3E%3Cp%3E6.%E7%A6%81%E6%AD%A2%E7%94%A8%E6%88%B7%E4%BB%A5%E4%BB%BB%E4%BD%95%E4%B8%8D%E6%AD%A3%E5%BD%93%E6%89%8B%E6%AE%B5%E5%8F%8A%E8%88%9E%E5%BC%8A%E8%A1%8C%E4%B8%BA%E5%8F%82%E4%B8%8E%E6%9C%AC%E6%B4%BB%E5%8A%A8%EF%BC%8C%E4%B8%80%E7%BB%8F%E5%8F%91%E7%8E%B0%EF%BC%8C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E6%9C%89%E6%9D%83%E6%92%A4%E6%B6%88%E8%AF%A5%E7%94%A8%E6%88%B7%E5%8F%82%E4%B8%8E%E6%B4%BB%E5%8A%A8%E7%9A%84%E8%B5%84%E6%A0%BC%EF%BC%8C%E6%9C%89%E6%9D%83%E6%94%B6%E5%9B%9E%E7%94%A8%E6%88%B7%E5%B7%B2%E9%A2%86%E5%8F%96%E7%9A%84%E5%A5%96%E5%93%81%EF%BC%8C%E5%B9%B6%E4%BF%9D%E7%95%99%E8%BF%BD%E7%A9%B6%E8%AF%A5%E7%94%A8%E6%88%B7%E8%B4%A3%E4%BB%BB%E7%9A%84%E6%9D%83%E5%88%A9%E3%80%82%E4%B8%8D%E6%AD%A3%E5%BD%93%E6%89%8B%E6%AE%B5%E5%8F%8A%E8%88%9E%E5%BC%8A%E8%A1%8C%E4%B8%BA%E5%8C%85%E6%8B%AC%E4%BD%86%E4%B8%8D%E9%99%90%E4%BA%8E%EF%BC%9A%E4%B8%8B%E8%BD%BD%E9%9D%9E%E5%AE%98%E6%96%B9%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%9B%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%8B%9F%E5%99%A8%E3%80%81%E6%8F%92%E4%BB%B6%E3%80%81%E5%A4%96%E6%8C%82%E7%AD%89%E9%9D%9E%E6%B3%95%E5%B7%A5%E5%85%B7%E6%89%AB%E7%A0%81%E3%80%81%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E6%B3%A8%E5%86%8C%E3%80%81%E7%99%BB%E5%BD%95%E3%80%81%E5%8F%82%E5%8A%A0%E6%B4%BB%E5%8A%A8%EF%BC%9B%E6%81%B6%E6%84%8F%E6%B3%A8%E5%86%8C%E5%A4%9A%E4%B8%AA%E8%B4%A6%E5%8F%B7%EF%BC%9B%E7%AF%A1%E6%94%B9%E8%AE%BE%E5%A4%87%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BC%AA%E9%80%A0%E6%88%90%E7%94%A8%E6%88%B7%EF%BC%9B%E6%89%B0%E4%B9%B1%E5%B9%B3%E5%8F%B0%E7%A7%A9%E5%BA%8F%E3%80%81%E4%BD%BF%E7%94%A8%E6%8F%92%E4%BB%B6%E3%80%81%E5%A4%96%E6%8C%82%E3%80%81%E7%B3%BB%E7%BB%9F%E6%88%96%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7%E5%AF%B9%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%8A%E6%9C%AC%E6%B4%BB%E5%8A%A8%E8%BF%9B%E8%A1%8C%E5%B9%B2%E6%89%B0%E3%80%81%E7%A0%B4%E5%9D%8F%E3%80%81%E4%BF%AE%E6%94%B9%E6%88%96%E6%96%BD%E5%8A%A0%E5%85%B6%E4%BB%96%E5%BD%B1%E5%93%8D%E5%8F%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E8%AE%A4%E4%B8%BA%E7%9A%84%E5%85%B6%E4%BB%96%E4%B8%8D%E6%AD%A3%E5%BD%93%E6%89%8B%E6%AE%B5%E3%80%82%3C%2Fp%3E%3Cp%3E6.%E4%B8%8D%E5%90%8C%E7%94%A8%E6%88%B7%E5%B8%90%E5%8F%B7%E4%B8%8B%E7%9A%84%E6%89%8B%E6%9C%BA%E5%8F%B7%E7%A0%81%E3%80%81%E9%82%AE%E7%AE%B1%E3%80%81QQ%E5%8F%B7%E3%80%81%E5%BE%AE%E5%8D%9A%E5%8F%B7%E3%80%81%E5%BE%AE%E4%BF%A1%E5%8F%B7%E3%80%81%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F%E3%80%81%E8%BA%AB%E4%BB%BD%E8%AF%81%E4%BB%B6%E3%80%81%E9%93%B6%E8%A1%8C%E5%8D%A1%E5%8F%B7%E3%80%81%E6%94%AF%E4%BB%98%E5%B8%90%E5%8F%B7%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%AD%89%E4%B8%A4%E9%A1%B9%E6%88%96%E5%A4%9A%E9%A1%B9%E4%BF%A1%E6%81%AF%E7%9B%B8%E5%90%8C%E7%9A%84%E6%88%96%E5%85%B6%E4%BB%96%E5%8F%AF%E4%BB%A5%E5%90%88%E7%90%86%E6%98%BE%E7%A4%BA%E4%B8%BA%E5%90%8C%E4%B8%80%E7%94%A8%E6%88%B7%E7%9A%84%EF%BC%8C%E5%9D%87%E8%A7%86%E4%B8%BA%E5%90%8C%E4%B8%80%E7%94%A8%E6%88%B7%E3%80%82%3C%2Fp%3E%3Cp%3E7.%E6%B4%BB%E5%8A%A8%E6%9C%9F%E9%97%B4%EF%BC%8C%E5%9B%A0%E7%94%A8%E6%88%B7%E6%93%8D%E4%BD%9C%E4%B8%8D%E5%BD%93%E6%88%96%E7%94%A8%E6%88%B7%E6%89%80%E5%9C%A8%E5%9C%B0%E5%8C%BA%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E3%80%81%E6%94%AF%E4%BB%98%E5%B9%B3%E5%8F%B0%E7%BD%91%E7%BB%9C%E4%B8%8D%E7%95%85%E3%80%81%E7%94%B5%E4%BF%A1%E8%BF%90%E8%90%A5%E5%95%86%E6%95%85%E9%9A%9C%E7%AD%89%E9%9D%9E%E7%99%BE%E5%BA%A6%E6%89%80%E8%83%BD%E6%8E%A7%E5%88%B6%E7%9A%84%E5%8E%9F%E5%9B%A0%E5%AF%BC%E8%87%B4%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E5%8F%82%E4%B8%8E%E6%B4%BB%E5%8A%A8%E6%88%96%E5%8F%82%E4%B8%8E%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%B7%E6%82%A8%E8%81%94%E7%B3%BB%E5%BD%93%E5%9C%B0%E7%94%B5%E4%BF%A1%E8%BF%90%E8%90%A5%E5%95%86%E8%A7%A3%E5%86%B3%EF%BC%8C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E8%B4%9F%E7%BB%8F%E6%B5%8E%E6%88%96%E6%B3%95%E5%BE%8B%E8%B4%A3%E4%BB%BB%E3%80%82%3C%2Fp%3E%3Cp%3E8.%E5%A6%82%E5%AF%B9%E6%9C%AC%E6%B4%BB%E5%8A%A8%E7%8E%AF%E8%8A%82%E6%9C%89%E4%BB%BB%E4%BD%95%E5%BC%82%E8%AE%AE%EF%BC%8C%E8%AF%B7%E9%80%9A%E8%BF%87%E5%A6%82%E4%B8%8B%E9%80%9A%E9%81%93%E8%BF%9B%E8%A1%8C%E5%8F%8D%E9%A6%88%EF%BC%9A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App-%E6%88%91%E7%9A%84-%E7%94%A8%E6%88%B7%E5%8F%8D%E9%A6%88%E3%80%82%3C%2Fp%3E%3Cp%3E9.%E5%9C%A8%E6%B3%95%E5%BE%8B%E5%85%81%E8%AE%B8%E7%9A%84%E8%8C%83%E5%9B%B4%E5%86%85%EF%BC%8C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E5%8F%AF%E8%83%BD%E5%AF%B9%E6%9C%AC%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%E8%BF%9B%E8%A1%8C%E5%8F%98%E5%8A%A8%E6%88%96%E8%B0%83%E6%95%B4%EF%BC%8C%E7%9B%B8%E5%85%B3%E5%8F%98%E5%8A%A8%E6%88%96%E8%B0%83%E6%95%B4%E5%B0%86%E5%85%AC%E5%B8%83%E5%9C%A8%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%E9%A1%B5%E9%9D%A2%E4%B8%8A%EF%BC%8C%E5%B9%B6%E4%BA%8E%E5%85%AC%E5%B8%83%E6%97%B6%E5%8D%B3%E6%97%B6%E7%94%9F%E6%95%88%EF%BC%8C%E7%94%A8%E6%88%B7%E7%BB%A7%E7%BB%AD%E5%8F%82%E4%B8%8E%E8%AF%A5%E6%B4%BB%E5%8A%A8%E5%88%99%E8%A7%86%E4%B8%BA%E5%AF%B9%E5%89%8D%E8%BF%B0%E5%8F%98%E5%8A%A8%E6%88%96%E8%80%85%E8%B0%83%E6%95%B4%E7%9A%84%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%E4%BA%88%E4%BB%A5%E5%90%8C%E6%84%8F%E3%80%82%E5%A6%82%E6%9E%9C%E7%94%A8%E6%88%B7%E6%8B%92%E7%BB%9D%E4%B8%8A%E8%BF%B0%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%E7%9A%84%E5%8F%98%E6%9B%B4%E6%88%96%E8%80%85%E8%B0%83%E6%95%B4%EF%BC%8C%E5%88%99%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E6%94%BE%E5%BC%83%E5%8F%82%E4%B8%8E%E5%8F%98%E6%9B%B4%E5%90%8E%E7%9A%84%E8%AF%A5%E6%B4%BB%E5%8A%A8%E3%80%82%3C%2Fp%3E%3Cp%3E10.%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E6%8F%90%E9%86%92%E7%94%A8%E6%88%B7%E6%B3%A8%E6%84%8F%E4%BB%A5%E4%B8%8A%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%EF%BC%8C%E7%94%A8%E6%88%B7%E5%8F%82%E4%B8%8E%E6%B4%BB%E5%8A%A8%E5%8D%B3%E8%A7%86%E4%B8%BA%E6%82%A8%E5%B7%B2%E9%98%85%E8%AF%BB%E5%B9%B6%E8%AE%A4%E5%8F%AF%E6%9C%AC%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%EF%BC%8C%E7%90%86%E8%A7%A3%E5%B9%B6%E6%84%BF%E6%84%8F%E6%8E%A5%E5%8F%97%E6%9C%AC%E6%B4%BB%E5%8A%A8%E8%A7%84%E5%88%99%E7%9A%84%E7%BA%A6%E6%9D%9F%E3%80%82%3C%2Fp%3E%3Cp%3E11.%E5%9C%A8%E6%B3%95%E5%BE%8B%E5%85%81%E8%AE%B8%E8%8C%83%E5%9B%B4%E5%86%85%EF%BC%8C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E5%AF%B9%E6%9C%AC%E6%AC%A1%E6%B4%BB%E5%8A%A8%E4%BA%AB%E6%9C%89%E8%A7%A3%E9%87%8A%E6%9D%83%E3%80%82%3C%2Fp%3E",userDialogContentStyle:"color: rgba(92, 0, 0, 1);background-image: url(https://staticiot.bj.bcebos.com/gui/1591067502569145681.png)",ruleDialogButtonText:"知道了",ruleButtonStyle:"color:white;background-image: url(https://staticiot.cdn.bcebos.com/gui/1591297593835834225.png)",userDialogTitleStyle:"background-image: url(https://staticiot.cdn.bcebos.com/gui/1591296994822677039.png)",headerStyle:"background-image:url(https://staticiot.cdn.bcebos.com/gui/1591296897827426355.png)",userDialogFooterStyle:'background-image:url("https://staticiot.cdn.bcebos.com/gui/1591297473922422587.png")',bpKey:"",bpName:""},slot:"",type:"union",events:[],originId:"u-extra-ticket",uuid:"DE9E78FA5F052193",isHover:!1,btnPosition:81},{id:"u-vip-receive",name:"u-vip-receive.vue",props:{activityId:"197561593064",bgImg:"https://staticiot.cdn.bcebos.com/gui/1591201925853689046.jpg",height:"146px",btnBgImg:"https://staticiot.cdn.bcebos.com/gui/1591199900895975441.png",btnWidth:"202px",btnMsg:"抢6折神劵",successContent:"%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%B8%80%3A%3Cbr%3E%E8%AF%B7%E4%BD%BF%E7%94%A8%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%89%93%E5%BC%80%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E3%80%90%E6%88%91%E7%9A%84%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E4%BC%9A%E5%91%98%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E7%A6%8F%E5%88%A9%E3%80%91-%E3%80%90%E4%BC%98%E6%83%A0%E5%88%B8%E3%80%91%E6%9F%A5%E7%9C%8B%E5%B9%B6%E4%BD%BF%E7%94%A8%EF%BC%9B%3Cbr%3E%20%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%BA%8C%3A%3Cbr%3E%E8%AF%B7%E7%99%BB%E5%BD%95%E7%BD%91%E9%A1%B5%E7%89%88%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%9C%A8%E6%94%B6%E9%93%B6%E5%8F%B0%E8%BF%9B%E8%A1%8C%E4%BD%BF%E7%94%A8%EF%BC%9B",swiperTextBefore:"",iconTempStyle:"",rewardStyle:"",bpKey:"recieve",bpName:"点击按钮"},slot:"",type:"union",events:[],originId:"u-vip-receive",uuid:"E56E709A56E89DD2",isHover:!1,btnPosition:148},{id:"u-lucky-draw",name:"u-lucky-draw.vue",props:{activityId:"197561593064",luckyDrawImg:"https://staticiot.cdn.bcebos.com/gui%2Fguaguaka.png",ruleContent:"超级会员每日3次，普通会员每日2次，非会员用户每日1次，活动期间充值用户额外每天多1次。刮奖次数每日刷新，请在当日内使用。",ruleIcon:"https://staticiot.cdn.bcebos.com/gui/mid-year-icon-question.png",myAward:"%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%B8%80%3A%3Cbr%3E%E8%AF%B7%E4%BD%BF%E7%94%A8%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%89%93%E5%BC%80%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E3%80%90%E6%88%91%E7%9A%84%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E4%BC%9A%E5%91%98%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E7%A6%8F%E5%88%A9%E3%80%91-%E3%80%90%E4%BC%98%E6%83%A0%E5%88%B8%E3%80%91%E6%9F%A5%E7%9C%8B%E5%B9%B6%E4%BD%BF%E7%94%A8%EF%BC%9B%3Cbr%3E%20%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%BA%8C%3A%3Cbr%3E%E8%AF%B7%E7%99%BB%E5%BD%95%E7%BD%91%E9%A1%B5%E7%89%88%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%9C%A8%E6%94%B6%E9%93%B6%E5%8F%B0%E8%BF%9B%E8%A1%8C%E4%BD%BF%E7%94%A8%EF%BC%9B",bpKey:"scratch-card",bpName:"刮刮卡"},slot:"",type:"union",events:[],originId:"u-lucky-draw",uuid:"F38256494F587646",isHover:!1,btnPosition:193},{id:"u-image",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui%2F1591202507190637612.jpg",url:"",styles:"width: 100%;",bpKey:"imageClick",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"048E164DA788B0D0",isHover:!1,btnPosition:303},{id:"u-image2",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui/1591202523835155254.jpg",url:"https://pan.baidu.com/wap/vip/privilege_detail?privilege=1&user_identity=expired&form=primeDay",styles:"width: 100%;",bpKey:"image-detail",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"060E1AD887829814",isHover:!1,btnPosition:67}],code:"\nimport {dlLocal} from '../../app-dl.js';\nimport {systemInfoSync} from \"../../utils/logicUtils\";\nimport {getCfg} from \"../../requestapi/getCfg\";\nPage({\n data: {\n loadingCfg: true\n },\n onLoad(options = {}) {\n this.cfgName = cfgName;\n this.clientType = clientType;\n wx.log.send({value: '页面PV、UV', type: `${this.cfgName}_${this.clientType}`});\n getCfg(cfgName, clientType).then(res => {\n if (res && res.errno === 0) {\n let dl = {pages: []};\n try {\n dl = JSON.parse(res.data) || dl;\n } catch(e) {\n console.log('反序列化失败');\n }\n this.pageData = dl.pages.filter(i => i.name === pageId)[0] || {};\n console.log(this.pageData);\n if (this.validateDate(this.pageData)) {\n this.setData(this.pageData);\n } else {\n this.navigateTo('', {url: this.pageData.errorPage || '/pages/error/index'});\n }\n this.initPageInfo();\n } else {\n this.loadLocalCfg();\n }\n this.setData({loadingCfg: false});\n }).catch(error => {\n this.setData({loadingCfg: false});\n this.loadLocalCfg();\n console.log(error);\n });\n systemInfoSync();\n },\n loadLocalCfg() {\n // 加载本地配置\n this.pageData = dlLocal.pages.filter(i => i.name === pageId)[0] || {};\n console.log(this.pageData);\n if (this.validateDate(this.pageData)) {\n this.setData({...this.pageData});\n } else {\n this.navigateTo('', {url: this.pageData.errorPage || '/pages/error/index'});\n }\n this.initPageInfo();\n },\n onShareAppMessage: function () {\n return {\n title: this.data.shareOption.title,\n path: `/pages/${pageId}/index`,\n imageUrl: this.data.shareOption.image\n };\n },\n initPageInfo() {\n // 分享设置\n if (!this.pageData.shareOption || !this.pageData.shareOption.enabled) {\n wx.hideShareMenu();\n }\n // 标题\n wx.setNavigationBarTitle({\n title: this.pageData.title || '运营活动'\n });\n },\n // 校验页面有效期\n validateDate(pageData) {\n if (!pageData.startDate || !pageData.endDate) {\n return false;\n }\n const startDate = new Date(pageData.startDate.replace(/-/ig, '/')).getTime();\n const endDate = new Date(pageData.endDate.replace(/-/ig, '/')).getTime();\n const now = new Date().getTime();\n return now > startDate && now < endDate;\n },\n navigateTo(e, option) {\n const url=option && option.url || e.target.dataset.link;\n if (!url) {\n return;\n }\n const splitChar=',' ;\n if (url.indexOf(splitChar)> 0) {\n const urlArr = url.split(splitChar);\n wx.navigateToMiniProgram({\n appId: urlArr[0],\n path: urlArr[1],\n success(res) {\n // 打开成功\n }\n })\n } else {\n if (/^http(s)?:\\/\\/+/.test(url)) {\n wx.navigateTo({\n url: '/pages/h5/index?src=' + encodeURIComponent(option && option.url || e.target.dataset.link) \n });\n } else {\n wx.navigateTo({\n url: url\n });\n }\n }\n }\n})",isHome:!1,shareOption:{enabled:!0,title:"",image:""},title:"超级会员日",startDate:"2020-06-22 00:00:00",endDate:"2022-08-08 00:00:00",errorPage:"/pages/error/index"}],project:{name:"test",appid:"16426097",clientType:6,cfgName:"超级会员日-online-2020-06-27",sourceType:"shoubai"}}})),window.define("378",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getCfg=void 0;var P=e(324);a.getCfg=function(e,t){return(0,P.wxReq)("api/wechat/guiconfget",{name:e,clienttype:t},"GET")}})),window.define("381",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(382),S=e(378),D=e(20),C="超级会员活动-online-2020-08-17";Page({data:{loadingCfg:!0},onReady:function(){},onLoad:function(){var e=this;this.loginTask=(0,D.bdLogin)().then((function(){n.log.send({value:"页面PV、UV",type:e.cfgName+"_"+e.clientType})})).catch((function(){n.log.send({value:"页面PV、UV",type:e.cfgName+"_"+e.clientType})})),this.cfgName=C,this.clientType=6,(0,S.getCfg)(C,6).then((function(t){if(t&&0===t.errno){var a={pages:[]};try{a=JSON.parse(t.data)||a}catch(e){console.log("反序列化失败")}e.pageData=a.pages.filter((function(e){return"index"===e.name}))[0]||{},console.log(e.pageData),e.validateDate(e.pageData)?e.setData(e.pageData):e.navigateTo("",{url:e.pageData.errorPage||"/pages/error/index"}),e.initPageInfo()}else e.loadLocalCfg();e.setData({loadingCfg:!1})})).catch((function(t){e.setData({loadingCfg:!1}),e.loadLocalCfg(),console.log(t)}))},loadLocalCfg:function(){this.pageData=P.dlLocal.pages.filter((function(e){return"index"===e.name}))[0]||{},console.log(this.pageData),this.validateDate(this.pageData)?this.setData(Object.assign({},this.pageData)):this.navigateTo("",{url:this.pageData.errorPage||"/pages/error/index"}),this.initPageInfo()},onShareAppMessage:function(){return{title:this.data.shareOption.title,path:"/pages/index/index",imageUrl:this.data.shareOption.image}},initPageInfo:function(){this.pageData.shareOption&&this.pageData.shareOption.enabled||n.showToast({title:"hideShareMenu暂时不支持，请酌情处理",icon:"none"}),n.setNavigationBarTitle({title:this.pageData.title||"运营活动"})},validateDate:function(e){if(!e.startDate||!e.endDate)return!1;var t=new Date(e.startDate.replace(/-/gi,"/")).getTime(),a=new Date(e.endDate.replace(/-/gi,"/")).getTime(),i=(new Date).getTime();return i>t&&i<a},navigateTo:function(e,t){var a=t&&t.url||e.target.dataset.link;if(a){if(a.indexOf(",")>0){var i=a.split(",");n.navigateToSmartProgram({appId:i[0],path:i[1],success:function(e){}})}else/^http(s)?:\/\/+/.test(a)?n.navigateTo({url:"/pages/h5/index?src="+encodeURIComponent(t&&t.url||e.target.dataset.link)}):n.navigateTo({url:a})}}})})),window.define("382",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.dlLocal={pages:[{id:"KDO4QG0UO13MM9IQ3HJTIHM7OTLL7PQ7",name:"index",pageComps:[{id:"u-image",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui/1592909524385900911.jpg",url:"",styles:"width: 100%;",bpKey:"ime-head",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"5F23AA22B2D692C3",isHover:!1,btnPosition:44},{id:"u-image",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui/1592896319876878281.jpg",url:"",styles:"width: 100%;",bpKey:"imageClick",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"368234A9AFDF3D53",isHover:!1,btnPosition:286},{id:"u-lucky-draw",name:"u-lucky-draw.vue",props:{activityId:"964581597117",luckyDrawStyle:"background-image: url(https://staticiot.cdn.bcebos.com/gui/1592896395552224273.jpg);height:140px;padding-top:20px;",luckyDrawImg:"https://staticiot.cdn.bcebos.com/gui%2Fguaguaka.png",ruleContent:"超级会员每日3次，普通会员每日2次，非会员用户每日1次，活动期间充值用户额外每天多1次。刮奖次数每日刷新，请在当日内使用。",ruleIcon:"https://staticiot.cdn.bcebos.com/gui/mid-year-icon-question.png",myAward:"%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%B8%80%3A%3Cbr%3E%E8%AF%B7%E4%BD%BF%E7%94%A8%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%89%93%E5%BC%80%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98App%E3%80%90%E6%88%91%E7%9A%84%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E4%BC%9A%E5%91%98%E3%80%91-%E3%80%90%E6%88%91%E7%9A%84%E7%A6%8F%E5%88%A9%E3%80%91-%E3%80%90%E4%BC%98%E6%83%A0%E5%88%B8%E3%80%91%E6%9F%A5%E7%9C%8B%E5%B9%B6%E4%BD%BF%E7%94%A8%EF%BC%9B%3Cbr%3E%20%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%BA%8C%3A%3Cbr%3E%E8%AF%B7%E7%99%BB%E5%BD%95%E7%BD%91%E9%A1%B5%E7%89%88%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%9C%A8%E6%94%B6%E9%93%B6%E5%8F%B0%E8%BF%9B%E8%A1%8C%E4%BD%BF%E7%94%A8%EF%BC%9B",bpKey:"scratch-card",bpName:"刮刮卡",luckyDrawBgImg:"https://staticiot.cdn.bcebos.com/gui/1592896395552224273.jpg"},slot:"",type:"union",events:[],originId:"u-lucky-draw",uuid:"F38256494F587646",isHover:!1,btnPosition:102},{id:"u-image",name:"u-image.vue",props:{src:"https://staticiot.cdn.bcebos.com/gui/1592896346391096464.jpg",url:"",styles:"width: 100%;",bpKey:"imageClick",bpName:"点击图片埋点"},slot:"",type:"union",events:[],originId:"u-image",uuid:"048E164DA788B0D0",isHover:!1,btnPosition:622}],code:"\nimport {dlLocal} from '../../app-dl.js';\nimport {systemInfoSync} from \"../../utils/logicUtils\";\nimport {getCfg} from \"../../requestapi/getCfg\";\nPage({\n data: {\n loadingCfg: true\n },\n onLoad(options = {}) {\n this.cfgName = cfgName;\n this.clientType = clientType;\n wx.log.send({value: '页面PV、UV', type: `${this.cfgName}_${this.clientType}`});\n getCfg(cfgName, clientType).then(res => {\n if (res && res.errno === 0) {\n let dl = {pages: []};\n try {\n dl = JSON.parse(res.data) || dl;\n } catch(e) {\n console.log('反序列化失败');\n }\n this.pageData = dl.pages.filter(i => i.name === pageId)[0] || {};\n console.log(this.pageData);\n if (this.validateDate(this.pageData)) {\n this.setData(this.pageData);\n } else {\n this.navigateTo('', {url: this.pageData.errorPage || '/pages/error/index'});\n }\n this.initPageInfo();\n } else {\n this.loadLocalCfg();\n }\n this.setData({loadingCfg: false});\n }).catch(error => {\n this.setData({loadingCfg: false});\n this.loadLocalCfg();\n console.log(error);\n });\n systemInfoSync();\n },\n loadLocalCfg() {\n // 加载本地配置\n this.pageData = dlLocal.pages.filter(i => i.name === pageId)[0] || {};\n console.log(this.pageData);\n if (this.validateDate(this.pageData)) {\n this.setData({...this.pageData});\n } else {\n this.navigateTo('', {url: this.pageData.errorPage || '/pages/error/index'});\n }\n this.initPageInfo();\n },\n onShareAppMessage: function () {\n return {\n title: this.data.shareOption.title,\n path: `/pages/${pageId}/index`,\n imageUrl: this.data.shareOption.image\n };\n },\n initPageInfo() {\n // 分享设置\n if (!this.pageData.shareOption || !this.pageData.shareOption.enabled) {\n wx.hideShareMenu();\n }\n // 标题\n wx.setNavigationBarTitle({\n title: this.pageData.title || '运营活动'\n });\n },\n // 校验页面有效期\n validateDate(pageData) {\n if (!pageData.startDate || !pageData.endDate) {\n return false;\n }\n const startDate = new Date(pageData.startDate.replace(/-/ig, '/')).getTime();\n const endDate = new Date(pageData.endDate.replace(/-/ig, '/')).getTime();\n const now = new Date().getTime();\n return now > startDate && now < endDate;\n },\n navigateTo(e, option) {\n const url=option && option.url || e.target.dataset.link;\n if (!url) {\n return;\n }\n const splitChar=',' ;\n if (url.indexOf(splitChar)> 0) {\n const urlArr = url.split(splitChar);\n wx.navigateToMiniProgram({\n appId: urlArr[0],\n path: urlArr[1],\n success(res) {\n // 打开成功\n }\n })\n } else {\n if (/^http(s)?:\\/\\/+/.test(url)) {\n wx.navigateTo({\n url: '/pages/h5/index?src=' + encodeURIComponent(option && option.url || e.target.dataset.link) \n });\n } else {\n wx.navigateTo({\n url: url\n });\n }\n }\n }\n})",isHome:!1,shareOption:{enabled:!0,title:"",image:""},title:"超级会员刮刮卡",startDate:"2020-08-17 00:00:00",endDate:"2030-09-30 00:00:00"}],project:{name:"test",appid:"16426097",clientType:6,cfgName:"超级会员活动-online-2020-08-17",sourceType:"shoubai"}}})),window.define("385",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(386),D=e(387),C=e(392),T=e(390),I=e(143),E=e(13),x=e(14),A=e(393),L=e(8),B=e(20),F=e(388),N=e(292);function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R=r(),U="",M=["running","paused","finished","failed"],j=[{key:"pauseTasks",value:"暂停成功",updatePull:["running","paused"],loadingText:"暂停中",statusType:"running",checkNet:!1},{key:"startTasks",value:"开始成功",updatePull:["running","failed","paused","finished"],loadingText:"开始中",statusType:"paused",checkNet:!0},{key:"retryTasks",value:"重试成功",updatePull:["running","failed","finished"],loadingText:"重试中",statusType:"failed",checkNet:!0},{key:"deleteTasks",value:"删除成功",updatePull:["running","failed","paused","finished"],loadingText:"删除中",statusType:"delete",checkNet:!1},{key:"pauseBackup",value:"暂停成功",loadingText:"暂停中",statusType:"backupRunning",checkNet:!1},{key:"resumeBackup",value:"开始成功",loadingText:"开始中",statusType:"backupPause",checkNet:!1}],z={running:30,paused:30,finished:100,failed:30},V=[2003],H=[3005],W=[{key:"uploadSizeLimit",code:3005,title:"上传文件大小超限",msg:"单次最大可上传4G以内的文件"}],q="";Page({data:{channelInfo:{type:"sp_native"},pageInfo:{loginUrl:"/pages/login/index?backUrl=/pages/task/index",currentTab:"transfer",canSelect:!1,isSelectedAll:!1,topHeight:R.globalData.totalHeight,paddingBottom:0,pageType:"task",prevPageType:"",tabsSwitch:[{name:"sp_native_upload",label:"备份列表"},{name:"sp_native",label:"保存列表"}],isIpx:R.globalData.isIpx,pageMode:0,pageTitle:"传输列表"},uploadInfo:{runningList:[],pausedList:[],finishedList:[],failedList:[],runningRenderList:[],pausedRenderList:[],finishedRenderList:[],failedRenderList:[],runningLoading:!1,pausedLoading:!1,finishedLoading:!1,failedLoading:!1,runningReady:!1,pausedReady:!1,finishedReady:!1,failedReady:!1,runningIds:[],updatePoll:[],allowMobile:!1,selectList:[],autoUpdate:!0,operaLock:!1,resumeRunningNum:0,vipGuideLock:!1,bigSizeLock:!1},backupInfo:{backupReady:!1,backupItem:{},backupLoading:!1,isAutoBackup:!1,isWiFiOnly:!1},netType:""},onLoad:function(e){(0,I.reportUser)(),(0,B.checkAppLogin)(),(0,B.checkUserLogin)();var t=R.globalData,a=t.isAppLogin,i=t.isUserLogin,n=this.data.pageInfo,r=n.loginUrl,s=n.pageType;a||(0,B.toLoginPage)(r+"&from="+e.from),i||this.setTokenInfo(),(0,L.saveDataToGlobalData)("from",e.from);var c="sp_native";e.current_type&&(c=e.current_type),R.globalData.currentType=c,this.setData({"channelInfo.type":c,"pageInfo.pageMode":Number(e.page_mode)||0,"pageInfo.pageTitle":1===Number(e.page_mode)?"网盘备份列表":"传输列表"}),this.setCurrentChannel(c),this.setNaInfo(),this.intNetWork(),this.updatePaddingBottom(),o.log.page[""+s].send({from:c})},onShow:function(){this.data.uploadInfo.runningReady&&((0,C.checkListApi)("upload")&&this.initTaskList(),(0,C.checkListApi)("backup")&&this.initBackList());var e=o.getURLQuery(),t=R.globalData.currentType||e.current_type||"sp_native";(0,L.saveDataToGlobalData)("from",e.from),this.setData({"channelInfo.type":t,"pageInfo.pageMode":Number(e.page_mode)||0,"pageInfo.pageTitle":1===Number(e.page_mode)?"网盘备份列表":"传输列表"}),void 0!==this.documentScanPicker&&R.globalData.autoChooseImage&&(R.globalData.autoChooseImage=!1,this.documentScanPicker.choose())},onHide:function(){this.uploadListDestory()},onUnload:function(){R.globalData.downloadTaskManage=null},onReady:function(){this.toast=this.selectComponent("#toasts"),this.showDialog=this.selectComponent("#showDialog"),this.documentScanPicker=this.selectComponent("#documentScanPicker"),this.vipCard=this.selectComponent("#vipCard"),"sp_native_upload"===this.data.channelInfo.type&&((0,C.checkListApi)("upload")&&this.initTaskList(),(0,C.checkListApi)("backup")&&this.initBackList(),o.newLog.uploadPage.uploadPageDisplay.send())},swiperChange:function(){"sp_native_upload"===this.data.channelInfo.type&&((0,C.checkListApi)("upload")&&this.initTaskList(),(0,C.checkListApi)("backup")&&this.initBackList(),o.newLog.uploadPage.uploadPageDisplay.send()),R.globalData.currentType=this.data.channelInfo.type},intNetWork:function(){var e=this;(0,A.networkType)().then((function(t){e.setData({netType:t})})).catch((function(e){(0,S.errMsg)({errCode:321001},{from:"networkType"+JSON.stringify(e)})})).finally((function(){})),o.onNetworkStatusChange((function(t){e.onNetChange(t.networkType)}))},currentNetAllow:function(e){var t=["wifi"];return this.data.uploadInfo.allowMobile&&t.push("mobile"),t.includes(e)},onNetChange:function(e){var t=this,a=this.data,i=a.netType,r=a.channelInfo,s="";["wifi","mobile"].includes(i)&&["none"].includes(e)&&(s="无网络"),"none"===i&&["wifi"].includes(e)&&(s="wifi恢复连接"),"wifi"===i&&"wifi"!==e&&!this.data.uploadInfo.allowMobile&&this.data.uploadInfo.runningList.length>0&&newLog.uploadPage.uploadWifiOnly.send(),s&&o.sptoast({type:"",title:s}),"none"!==e&&["none","mobile"].includes(i)&&"sp_native_upload"===r.type&&(0,C.checkListApi)("upload")&&(q=n((function(){t.checkUpdate()}),1e3)),this.setData({netType:(0,A.chooseNetType)(e)})},netTips:function(e,t){"mobile"===this.data.netType&&this.openAllowMobileModel(e,t),"none"===this.data.netType&&(0,S.errMsg)({errCode:321003},{unNeedReport:!0})},setCurrentChannel:function(e){var t="from",a="fromOther";if(e){t={sp_native:"from",sp_native_upload:"upload"}[e]||t,a={sp_native:"baiduboxapp",sp_native_upload:"uploadShow"}[e]||a}o.log[t][a].send()},openAllowMobileModel:function(e,t){var a=this;o.showDialog({always:function(e){e.confirm?(0,F.setUploadOption)(!1).then((function(){a.setData(O({},"uploadInfo.allowMobile",!0)),a.choosenAction(t)})).catch((function(e){(0,S.errMsg)(e,{from:"setUploadOption"+e.errCode})})).finally((function(){o.log.upload.allowShow4gDialog.send()})):(a.setData(O({},"uploadInfo.allowMobile",!1)),o.log.upload.cancelShow4gDialog.send())},showCancel:!0,showConfirm:!0,showLogin:!1,cancelText:"取消",content:"当前为非WIFI网络,是否使用流量上传？",confirmText:"继续上传",showBtn:!0,title:"流量保护提示"})},setTokenInfo:function(){var e=this;U||(U=(0,B.bdLogin)().then((function(){U=!0,n((function(){e.setUserInfo()}),800)})).catch((function(t){U=!1,"none"===e.data.netType&&(0,S.errMsg)({errCode:322001},{from:"setTokenInfo"+JSON.stringify(t)})})))},setUserInfo:function(){(0,B.getUserInfo)().then((function(e){0===e.errno?(R.globalData.isUserLogin=!0,R.globalData.loginInfo=e.login_info):(0,S.errMsg)({errCode:322002},{from:"setUserInfo"+e.errno})})).catch((function(e){(0,S.errMsg)({errCode:322003},{from:"setUserInfo"+JSON.stringify(e)})}))},setNaInfo:function(){R.globalData.systemInfo||(0,L.systemInfoSync)()},initTaskList:function(){this.loadUploadList(M,"initTaskList")},loadUploadList:function(e){var t,a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Array.isArray(e)||(e=M,o.log.task.getListUpload.send({from:"mapListerr"}));var n="initTaskList"===i;n&&this.setData((O(t={},"uploadInfo.runningReady",!1),O(t,"uploadInfo.pausedReady",!1),O(t,"uploadInfo.finishedReady",!1),O(t,"uploadInfo.failedReady",!1),t)),e.forEach((function(e){a.setData(O({},"uploadInfo."+e+"Loading",!0)),o.log.task.getListUpload.send({from:e+i}),(0,F.getTaskList)(e).then((function(t){a.setData(O({},"uploadInfo."+e+"List",t)),"running"===e?(a.setData(O({},"uploadInfo.runningIds",(0,F.taskIdFilter)(t))),o.newLog.uploadPage.uploadShow.send()):"failed"===e?o.newLog.uploadPage.uploadFail.send():"finished"===e&&o.newLog.uploadPage.uploadFinished.send(),o.log.task.getListUploadSuccess.send({from:e+i})})).catch((function(t){if(console.warn("end get "+e+" task list catch: ",t),V.concat(H).includes(t.errCode))return V.includes(t.errCode)&&a.noSpaceGuide(),H.includes(t.errCode)&&a.errorDialog(t),void o.log.task.getDataFail.send({from:""+e+i+t.errCode});(0,S.errMsg)(t,{from:""+e+i+t.errCode})})).finally((function(){n&&a.setData(O({},"uploadInfo."+e+"Ready",!0)),a.setData(O({},"uploadInfo."+e+"Loading",!1)),a.UploadListReady(e),a.checkIsEmpty()}))}))},checkIsEmpty:function(){var e=this.data.uploadInfo,t=e.runningReady,a=e.pausedReady,i=e.finishedReady,n=e.failedReady,o=e.runningList,r=e.pausedList,s=e.finishedList,c=e.failedList,l=this.data.backupInfo.isAutoBackup;if(t&&a&&i&&n){var p=o.concat(r,s,c);this.setData({"uploadInfo.isEmpty":0===p.length&&!l})}},checkError:function(){var e=this.data.uploadInfo,t=e.failedList,a=e.vipGuideLock,i=e.bigSizeLock,n=t.find((function(e){return 2003===e.errorCode})),o=t.find((function(e){return 3005===e.errorCode}));n?!a&&this.noSpaceGuide():o&&!i&&this.errorDialog({errorCode:3005,errMsg:"上传文件大小超限"})},UploadListReady:function(e){var t=this.data.uploadInfo[e+"List"];this.data.uploadInfo[e+"Ready"]&&this.uploadListMounted(e,t)},uploadListMounted:function(e,t){var a=this;"running"===e&&(q&&clearTimeout(q),q=n((function(){a.checkUpdate()}),1e3)),this.renderDom(e,t)},renderDom:function(e,t){if(Array.isArray(t)){var a=z[e];a&&"number"==typeof a&&(t=t.length>a?t.slice(0,a):t,t=(0,N.transUploadTaskAttributes)(this.data.channelInfo.type,e,t),"paused"!==e&&this.setData(O({},"uploadInfo."+e+"RenderList",t)),"paused"===e&&this.asyncRenderDom(e,t,a))}},asyncRenderDom:function(e,t,a){var i=this,o=this.data.uploadInfo,r=o.runningLoading,s=o.runningList.length;if(r)n((function(){i.asyncRenderDom(t,a)}),800);else{var c=[];s<30&&(c=t.slice(0,a-s)),this.setData(O({},"uploadInfo."+e+"RenderList",c))}},checkUpdate:function(){var e=this,t=this.data.uploadInfo,a=t.runningIds,i=t.runningLoading,o=t.autoUpdate,r=t.resumeRunningNum;i?q=n((function(){e.checkUpdate()}),1e3):0===a.length?(0===a.length&&clearTimeout(q),o&&(q=n((function(){e.loadUploadList(M)}),3e3),this.setData(O({},"uploadInfo.autoUpdate",!1)))):(!r&&this.resumeUploadRunningTask(a),this.uploadListUpdate(a))},uploadListUpdate:function(e){var t=this;e=Array.isArray(e)?e:this.data.uploadInfo.runningIds,this.checkError(),(0,F.queryNetDiskTaskInfo)(e).then((function(e){t.readyUpdateDom((0,F.sortDiff)(e))})).catch((function(e){if(V.concat(H).includes(e.errCode))return V.includes(e.errCode)&&t.noSpaceGuide(),H.includes(e.errCode)&&t.errorDialog(e),void o.log.task.getDataFail.send({from:""+type+applyName+e.errCode});(0,S.errMsg)(e,{from:"uploadListUpdate"+e.errCode})})).finally((function(){}))},readyUpdateDom:function(e){var t=this;e.forEach((function(e){e.update&&t.updateSourceList(e)}))},checkWifiOnly:function(e){return e.find((function(e){return 1002===e.errorCode}))||""},updateSourceList:function(e){var t=this,a=e.value,i=e.key;if("running"===i){var o;this.setData((O(o={},"uploadInfo.runningList",a),O(o,"uploadInfo.runningIds",(0,F.taskIdFilter)(a)),o)),this.checkWifiOnly(a).errorCode||(q=n((function(){t.checkUpdate()}),1e3))}else{this.setData(O({},"uploadInfo."+i+"List",[].concat(a,this.data.uploadInfo[i+"List"])))}this.updateDom(i,this.data.uploadInfo[i+"List"])},updateDom:function(e,t){this.renderDom(e,t)},uploadListDestory:function(){o.sptoasthide(),q&&clearTimeout(q),this.setData(O({},"pageInfo.canSelect",!1)),this.upLoadSelectAll("all",!0,!0)},emitterUpdate:function(){},initBackList:function(){var e=this;(0,T.getBackupOptions)().then((function(t){var a=t.isAutoBackup,i=t.isWiFiOnly;e.setData({"backupInfo.isAutoBackup":a,"backupInfo.isWiFiOnly":i,"backupInfo.backupReady":!0}),a&&e.updateBackupDom()})).catch((function(e){(0,S.errMsg)(e,{from:"getBackupOptions"+e.errCode})})).finally((function(){}))},updateBackupDom:function(){var e=this;o.onNetDiskBackupProgressUpdate((function t(a){"waitInit"===(a=(0,N.transBackupAttributes)(a)).statusType?o.newLog.uploadPage.backupWait.send():"pauseBackup"===a.statusType?o.newLog.uploadPage.backupRunning.send():"finishedBackup"===a.statusType?o.newLog.uploadPage.backupFinished.send():"waitWifi"===a.statusType&&o.newLog.uploadPage.backupOnlyWifi.send(),e.setData(O({},"backupInfo.backupItem",a)),[0,1003].includes(a.status)&&o.offNetDiskBackupProgressUpdate(t)}))},choosenAction:function(e){switch(e){case"running":this.pauseUploadTask();break;case"paused":this.startUploadTask();break;case"delete":this.deleteUploadTask();break;case"failed":this.retryUploadTask();break;case"backupRunning":this.pauseBackup();break;case"backupPause":this.resumeBackup();break;case"listUpdate":this.checkUpdate()}return""},twiceConfirm:function(e){this.operateDialog(e)},uploadOperate:function(e){var t=e.operateMultiple,a=e.operateType,i=e.listType,n=e.taskID,r=e.confirm;if("delete"===a&&i&&!r)return o.newLog.uploadPage.uploadClear.send(),void this.twiceConfirm(e);t?(i&&this.upLoadSelectAll(i,!1,!1),!i&&o.newLog.uploadPage.uploadDeleteClk.send()):this.updateSelectList(n,a,!0),this.choosenAction(a)},handleOperateSuccess:function(e,t,a){var i=t||e,r=j.find((function(e){return e.key===i}));o.sptoast({type:"",title:r&&r.value}),o.log.task.operateSuccess.send({from:e+t}),n((function(){var e;r.updatePull&&a.loadUploadList(r.updatePull,"initTaskList"),a.setData((O(e={},"uploadInfo.selectList",[]),O(e,"pageInfo.isSelectedAll",!1),O(e,"pageInfo.canSelect",!1),O(e,"uploadInfo.operaLock",!1),e))}),1e3)},handleOperateErr:function(e,t,a,i){if(q=n((function(){i.setData(O({},"uploadInfo.operaLock",!1)),i.checkUpdate()}),1e3),V.concat(H).includes(a.errCode))return V.includes(a.errCode)&&this.noSpaceGuide(),H.includes(a.errCode)&&this.errorDialog(a),void o.log.task.getDataFail.send({from:""+e+applyName+a.errCode});(0,S.errMsg)(a,{from:e+t})},handleOperateFinally:function(){},handleOperate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;if(!i.data.uploadInfo.operaLock){i.setData(O({},"uploadInfo.operaLock",!0)),q&&clearTimeout(q);var r=(0,D.choosenDetail)(t.taskStatus)||e,s=j.find((function(e){return e.key===r}));o.sptoast({type:"",title:s&&s.loadingText});var c=this.data.uploadInfo,l=c.runningIds,p=c.selectList,u={success:this.handleOperateSuccess,err:this.handleOperateErr,complete:this.handleOperateFinally},d={selectList:p};if(t=Object.assign({},d,t),a=Object.assign({},u,a),!this.currentNetAllow(this.data.netType)&&s.checkNet)return this.netTips(l.length>0,s.statusType),void i.setData(O({},"uploadInfo.operaLock",!1));n((function(){(0,D.operateTask)(e,t,a,i)}),500)}},deleteUploadTask:function(){this.handleOperate("deleteTasks")},resumeUploadRunningTask:function(e){var t=this;o.resumeNetDiskTasks({taskIDList:e,taskStatus:"running",success:function(){o.log.task.operateSuccess.send({from:"resumeUploadRunningTask"})},fail:function(e){(0,S.errMsg)(e,{from:"resumeUploadRunningTask"})},complete:function(){t.setData(O({},"uploadInfo.resumeRunningNum",t.data.uploadInfo.resumeRunningNum+1))}})},startUploadTask:function(){var e={taskStatus:"paused"};this.handleOperate("resumeTasks",e),o.newLog.uploadPage.uploadStart.send()},retryUploadTask:function(){var e={taskStatus:"failed"};this.handleOperate("resumeTasks",e),o.newLog.uploadPage.uploadRestart.send()},pauseUploadTask:function(){this.handleOperate("pauseTasks"),o.newLog.uploadPage.uploadPause.send()},pauseBackup:function(){this.handleOperate("pauseBackup")},resumeBackup:function(){this.handleOperate("resumeBackup")},operateDialog:function(e){var t=this;o.showDialog({always:function(a){a.confirm&&(e.confirm=!0,t.uploadOperate(e))},showCancel:!0,showConfirm:!0,showLogin:!1,cancelText:"取消",confirmText:"确定",showBtn:!0,title:"确定清除全部记录？"})},upLoadSelectAll:function(e,t,a){var i;if(t)this.clearupLoadSelectList(a);else{var n=this.chooseSourceList(e),o=[],r="all"===e&&!this.data.pageInfo.isSelectedAll;n.map((function(e){o.push(e.taskID)})),this.setData((O(i={},"uploadInfo.selectList",o),O(i,"pageInfo.isSelectedAll",r),i));var s="",c=[];"all"===e?(s=r,c=M):(s=!0,c.push(e)),a&&this.renderAllSelect(c,s)}},chooseSourceList:function(e){var t=this.data.uploadInfo,a=t.runningList,i=t.pausedList,n=t.finishedList,o=t.failedList,r=[];return r="all"===e?r.concat(a,i,n,o):this.data.uploadInfo[e+"List"]},clearupLoadSelectList:function(e){var t;this.setData((O(t={},"uploadInfo.selectList",[]),O(t,"pageInfo.isSelectedAll",!1),t)),e&&this.renderAllSelect(M,!1)},renderAllSelect:function(e,t){var a=this;e.forEach((function(e){a.data.uploadInfo[e+"RenderList"].forEach((function(i,n){a.setData(O({},"uploadInfo."+e+"RenderList["+n+"].selected",t))}))}))},checkInclude:function(e,t){return t.findIndex((function(t){return t===e}))},updateSelectList:function(e,t,a){var i=this,o=this.data.uploadInfo.selectList,r=this.data.uploadInfo,s=r.runningRenderList,c=r.pausedRenderList,l=r.finishedRenderList,p=r.failedRenderList,u=[];a?(this.clearupLoadSelectList(!1),u.push(e)):-1===this.checkInclude(e,o)||0===o.length?(u=o).push(e):o.forEach((function(t){t!==e&&u.push(t)})),this.setData(O({},"uploadInfo.selectList",u)),!a&&this.setData(O({},"pageInfo.canSelect",!!u.length)),0===u.length&&(this.setData(O({},"uploadInfo.operaLock",!1)),q=n((function(){i.checkUpdate()}),1e3));var d=u.length===s.length+c.length+l.length+p.length;this.setData(O({},"pageInfo.isSelectedAll",d)),!a&&this.renderSelectDom(e,t)},renderSelectDom:function(e,t){var a=this.data.uploadInfo[t+"RenderList"],i=a.findIndex((function(t){return t.taskID===e}));i>=0&&this.setData(O({},"uploadInfo."+t+"RenderList["+i+"].selected",!a[i].selected))},uploadCancelSelected:function(){var e=this;this.setData(O({},"pageInfo.canSelect",!1)),this.upLoadSelectAll("all",!0,!0),q=n((function(){e.checkUpdate()}),1e3)},uploadSelectedAll:function(){var e=this,t=this.data.pageInfo.isSelectedAll;t&&(q=n((function(){e.checkUpdate()}),1e3)),this.upLoadSelectAll("all",t,!0),this.setData(O({},"pageInfo.canSelect",!t))},selectPage:function(e){var t=e.task;this.data.pageInfo.canSelect||(this.clearupLoadSelectList(!0),this.setData(O({},"pageInfo.canSelect",!0)),this.updatePaddingBottom(),q&&clearTimeout(q),o.newLog.uploadPage.uploadDelete.send()),this.updateSelectList(t.taskID,t.sourceType)},updatePaddingBottom:function(){var e=this.data.pageInfo,t=e.canSelect,a=e.isIpx?68:10,i=0;i=t?122+a:98+a,this.setData(O({},"pageInfo.paddingBottom",i))},tabsSwitchChange:function(e){var t=e.detail;this.setData(O({},"channelInfo.type",t.name)),this.swiperChange()},updateCanSelect:function(e){var t=e.detail;this.setData(O({},"pageInfo.canSelect",t)),this.updatePaddingBottom()},noVipInfo:function(){var e=R.globalData,t=e.vipInfo,a=e.quotaSize;return!t||!a},getGuideData:function(){var e=this,t=R.globalData,a=t.vipInfo,i=t.quotaSize,n={config:{user_status:a.vip_type,quota_size:i.total,level:a.vip_level},sid:1};(0,x.getGuideConfig)(n).then((function(t){if(0===t.errno){var i=t.config,n=i.icon,o=i.content,r=i.button_list;r[0].action_url="/payment/pay/pages/cashierDesk/index?category=svip&svip=1&active_svip=1y_auto";var s=Object.assign({},{errortips:"网盘容量不足",userStatus:a.vip_type,icon:n,content:o,showCard:!0},r[0]);e.vipCard.init(s)}else(0,S.errMsg)({errCode:421002},{from:"sp_uploadNoSpaceGuide"+t.errno})})).catch((function(e){(0,S.errMsg)({errCode:421002},{from:"sp_uploadNoSpaceGuide"})}))},noSpaceGuide:function(){var e=this;this.setData(O({},"uploadInfo.vipGuideLock",!0)),this.noVipInfo?(0,E.setVipInfo)().then((function(){e.getGuideData()})).catch((function(e){(0,S.errMsg)({errCode:421001},{from:"sp_uploadNoSpace"})})):this.getGuideData(),o.log.upload.uploadNoSpace.send()},errorDialog:function(e){this.setData(O({},"uploadInfo.bigSizeLock",!0));var t=W.find((function(t){return t.code===e.errorCode})),a=t.title,i=t.msg;o.showDialog({always:function(){},showCancel:!1,showConfirm:!0,showLogin:!1,showBtn:!0,content:i,confirmText:"我知道了",title:a}),o.log.upload.uploadBigSize.send()},handleClickTabBar:function(e){"camera"===e.detail&&this.documentScanPicker.show()}})})),window.define("386",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=[{code:321001,msg:"获取网络状态失败"},{code:321002,msg:"监听网络状态失败"},{code:321003,msg:"网络条件不佳，请重试"},{code:322001,msg:"获取登录信息失败"},{code:322002,msg:"获取用户信息失败"},{code:322003,msg:"获取用户信息异常"},{code:421001,msg:"会员信息获取失败"},{code:421002,msg:"引导信息获取失败"},{code:329999,msg:"未知错误"}],S=a.errMsgFilter=function(e){var t=P.find((function(t){return t.code===e}));return t?t.msg:"未知错误"};a.errMsg=function(e,t){var a=e.errCode,i=void 0===a?329999:a,o=e.errMsg,r=void 0===o?"":o,s=r||S(i);n.sptoast({type:"",title:s});var c=t.parent,l=void 0===c?"task":c,p=t.type,u=void 0===p?"getDataFail":p,d=t.from,h=void 0===d?"":d,g=t.unNeedReport;!(void 0!==g&&g)&&n.log[l][u].send({from:h||i})}})),window.define("387",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.operateTask=a.choosenDetail=a.choosenOperateTask=void 0;var P=e(388),S=e(390),D=e(8),C=a.choosenOperateTask=function(e){var t="";switch(e){case"pauseTasks":t=P.pauseTasks;break;case"resumeTasks":t=P.resumeTasks;break;case"deleteTasks":t=P.deleteTasks;break;case"pauseBackup":t=S.pauseBackup;break;case"resumeBackup":t=S.resumeBackup}return t},T=a.choosenDetail=function(e){var t="";switch(e){case"running":t="";break;case"paused":t="startTasks";break;case"failed":t="retryTasks"}return t};a.operateTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],n=C(e);if(n){var o=T(t.taskStatus);n(t).then((function(t){(0,D.isFunction)(a.success)&&a.success(e,o,i)})).catch((function(t){(0,D.isFunction)(a.err)&&a.err(e,o,t,i)})).finally((function(){(0,D.isFunction)(a.complete)&&a.complete(e,o)}))}}})),window.define("388",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.setUploadOption=a.deleteTasks=a.resumeTasks=a.pauseTasks=a.taskProgressUpdate=a.queryNetDiskTaskInfo=a.sortDiff=a.statusDiff=a.taskIdFilter=a.zipSourceType=a.zipTaskList=a.getTaskList=void 0;var P=e(389),S=(a.getTaskList=function(e){return new Promise((function(t,a){(0,P.getNetDiskTaskList)(e).then((function(a){return a&&Array.isArray(a.taskListInfo)?t(S(a.taskListInfo,e)):t([])})).catch((function(e){return a(e)}))}))},a.zipTaskList=function(e){var t=[];return e.forEach((function(e){e.taskID=e.taskID+"",e.sourceType=D(e.status),t.unshift(e)})),t}),D=a.zipSourceType=function(e){var t="";switch(e){case-1:t="failed";break;case 0:t="running";break;case 1:t="finished";break;case 2:t="paused";break;default:t=""}return t},C=(a.taskIdFilter=function(e){if(e&&Array.isArray(e)){var t=[];return e.forEach((function(e){e.status+""=="0"&&t.push(e.taskID+"")})),t}return[]},a.statusDiff=function(e,t){var a=[];return e.forEach((function(e){e.status===t&&a.push(e)})),Array.isArray(a)?a:[]});a.sortDiff=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e),0===e.length)return[];var a=C(e,0),i=C(e,2),n=C(e,1),o=C(e,-1);return[{key:"running",update:!0,value:a},{key:"failed",update:t||o.length>0,value:o},{key:"finished",update:t||n.length>0,value:n},{key:"paused",update:!0,value:i}]},a.queryNetDiskTaskInfo=function(e){return new Promise((function(t,a){(0,P.getNetDiskTaskInfo)(e).then((function(e){return e&&Array.isArray(e.taskListInfo)?(e.taskListInfo.length>0&&e.taskListInfo.map((function(e){e.taskID=e.taskID+"",e.sourceType=D(e.status)})),t(e.taskListInfo)):t([])})).catch((function(e){return a(e)}))}))},a.taskProgressUpdate=function(e){n.setNetDiskUploadOption((function(t){e(t)}))},a.pauseTasks=function(e){return new Promise((function(t,a,i){(0,P.pauseNetDiskTasks)(e).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))},a.resumeTasks=function(e){return new Promise((function(t,a){(0,P.resumeNetDiskTasks)(e).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))},a.deleteTasks=function(e){return new Promise((function(t,a){(0,P.deleteNetDiskTasks)(e).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))},a.setUploadOption=function(e){return new Promise((function(t,a){(0,P.setNetDiskUploadOption)(e).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}})),window.define("389",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getNetDiskTaskList=function(e){return new Promise((function(t,a){n.getNetDiskTaskList({type:e,success:t,fail:a})}))},a.getNetDiskTaskInfo=function(e){return new Promise((function(t,a){n.getNetDiskTaskInfo({taskIDList:e,success:t,fail:a})}))},a.pauseNetDiskTasks=function(e){return new Promise((function(t,a){n.pauseNetDiskTasks({taskIDList:e.selectList,success:t,fail:a})}))},a.resumeNetDiskTasks=function(e){return new Promise((function(t,a){n.resumeNetDiskTasks({taskStatus:e.taskStatus,taskIDList:e.selectList,success:t,fail:a})}))},a.deleteNetDiskTasks=function(e){return new Promise((function(t,a){n.deleteNetDiskTasks({taskIDList:e.selectList,success:t,fail:a})}))},a.setNetDiskUploadOption=function(e){return new Promise((function(t,a){n.setNetDiskUploadOption({checkWiFi:e,success:t,fail:a})}))}})),window.define("390",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.resumeBackup=a.pauseBackup=a.getBackupOptions=a.backupProgressUpdate=void 0;var P=e(391);a.backupProgressUpdate=function(e){n.onNetDiskBackupProgressUpdate((function(t){e(t)}))},a.getBackupOptions=function(){return new Promise((function(e,t){(0,P.getNetDiskBackupOptions)().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))},a.pauseBackup=function(){return new Promise((function(e,t){(0,P.pauseNetDiskBackup)().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))},a.resumeBackup=function(){return new Promise((function(e,t){(0,P.resumeNetDiskBackup)().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))}})),window.define("391",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getNetDiskBackupOptions=function(){return new Promise((function(e,t){n.getNetDiskBackupOptions({success:e,fail:t})}))},a.pauseNetDiskBackup=function(){return new Promise((function(e,t,a){n.pauseNetDiskBackup({success:e,fail:t,complete:a})}))},a.resumeNetDiskBackup=function(){return new Promise((function(e,t,a){n.resumeNetDiskBackup({success:e,fail:t,complete:a})}))}})),window.define("392",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=["getNetDiskTaskList","getNetDiskTaskInfo","pauseNetDiskTasks","resumeNetDiskTasks","deleteNetDiskTasks","setNetDiskUploadOption"],S=["onNetDiskTaskProgressUpdate"],D=["onNetDiskBackupProgressUpdate","getNetDiskBackupOptions","pauseNetDiskBackup","resumeNetDiskBackup","offNetDiskBackupProgressUpdate"],C=a.preCheckApi=function(e){return n.canIUse(e)};a.checkListApi=function(e){if(e){var t=[];switch(e){case"upload":t=P;break;case"backup":t=D;break;case"update":t=S;break;default:t=P}var a=!0;return t.forEach((function(e){C(e)||(a=!1)})),a}}})),window.define("393",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.networkType=a.chooseNetType=void 0;var P=e(394),S=[{key:["wifi"],value:"wifi"},{key:["2g","3g","4g","5g"],value:"mobile"},{key:["unknown"],value:"mobile"},{key:["none"],value:"none"}],D=a.chooseNetType=function(e){var t="";return S.forEach((function(a){a.key.includes(e.toLowerCase())&&(t=a.value)})),t};a.networkType=function(){return new Promise((function(e,t){(0,P.getNetworkType)().then((function(t){return e(D(t.networkType))})).catch((function(e){return t(e)}))}))}})),window.define("394",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getNetworkType=function(){return new Promise((function(e,t,a){n.getNetworkType({success:e,fail:t,complete:a})}))}})),window.define("397",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";e(20);var P=e(8),S=e(13),D=o();Page({data:{showHome:!1,showBack:!1,titleText:"百度网盘",menuList:[{idx:1,text:"自动备份"},{idx:2,text:"智能分类"},{idx:3,text:"多端同步"}],topHeight:72,isIpx:!1,backUrl:"/pages/home/index",loginTask:"",prevPageType:"",pageType:"login",canIUseLoginButton:""},onLoad:function(e){e.backUrl&&(this.setData({backUrl:""+e.backUrl}),e.from&&this.setData({backUrl:e.backUrl+"?from="+e.from}),e.url&&this.setData({backUrl:e.backUrl+"?url="+e.url})),e.pageType&&this.setData({prevPageType:e.pageType}),D.globalData.currentPageType=this.data.pageType,n.log.page[""+this.data.pageType].send(),this.setData({canIUseLoginButton:D.globalData.canUseApi.canIUseLoginButton}),this.initPageInfo()},onShow:function(){n.setPageInfo({title:"百度网盘登录页面",keywords:"百度网盘",image:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_home_logo.png"})},onReady:function(){this.toast=this.selectComponent("#toasts")},onHide:function(){},onShareAppMessage:function(){n.log.header.systemShare.send()},initPageInfo:function(){D.globalData.systemInfo||(0,P.systemInfoSync)(),this.setData({topHeight:D.globalData.totalHeight,isIpx:D.globalData.isIpx})},loginError:function(e){n.log.login.loginFail.send({from:e}),n.sptoast({title:"登录失败"})},loginSuccess:function(e){(0,S.loadVipInfoAndFingerSDK)(),n.log.login.loginSuccess.send(),n.reLaunch({url:e.data.backUrl})},loginHandle:function(e){var t=this;n.log.login.loginBtnClick.send(),t.data.canIUseLoginButton?n.getLoginCode({success:function(){t.loginSuccess(t)},fail:function(e){t.loginError(e)}}):n.login({success:function(){t.loginSuccess(t)},fail:function(e){t.loginError(e)}})}})})),window.define("400",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(33),D=e(61),C=e(262),T=e(264),I=e(57),E=e(8),x=e(20),A=e(13),L=e(14),B=e(60),F=e(153),N=e(65),O=e(68);var R=r();Page({data:{isPlay:!1,isMarquee:!0,audioSize:"",currentTime:"00:00",endTime:"00:00",audioProgress:0,audioName:"\b",durationMoving:!1,currentIndex:0,audioList:[],durationData:{},pixelRatio:2,popupIsShow:!1,isFromMiniPlayer:!1,prevPageType:"",pageType:"audio",showBottomBar:!1,homePre:!1,outsidePre:!1,audioPre:!0,isAudioViewBySchema:!1,thirdParty:"",action:"",path:"",previewFromType:""},onLoad:function(e){var t=this;this.reportTime(),this.dealOpt(e);var a=String(this.data.previewFromType)===N.previewFromTypeObj.SCHEME_VIEW&&"audioPreview"===this.data.action&&this.data.path;return this.setData({isAudioViewBySchema:a}),new Promise((function(i,n){Boolean(e.path)||Boolean(e.fsId)||n(),a?i(t.getAudioTargetWithSchema(e)):(t.getAudioTargetWithoutSchema(e.fsId),i())})).then((function(){0===t.data.audioList.length&&o.sptoast({type:"info",title:"无法找到音频文件"}),t.setData({thirdParty:e.thirdParty,pixelRatio:R.globalData.systemInfo.pixelRatio,topHeight:R.globalData.totalHeight,homePre:"homePreview"===e.previewType,schemaPre:String(e.previewFromType)===N.previewFromTypeObj.SCHEME_VIEW,outsidePre:"outsitePreview"===e.previewType}),t.setMarqueeWidth(),t.createAudioPlayer();var a=o.getStorageSync("fileList");return R.globalData.selectList=[a.fileInfo],t.playAudioInNextTick(),Promise.resolve()})).catch((function(e){o.sptoast({type:"info",title:"无法找到音频文件"})}))},getAudioTargetWithoutSchema:function(e){var t=0,a=[];a="outsiteChainFileList"!==this.data.prevPageType?R.globalData.ownAudioList:R.globalData.audioList;for(var i=0;i<a.length;i++)+e===a[i].fs_id&&(t=i);this.setData({audioList:a,currentIndex:+t})},setMarqueeWidth:function(){var e,t,a,i=this.data.audioList[this.data.currentIndex].server_filename,n=this.getWidth(i);this.setData((a=n,(t="marquee.width")in(e={})?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e))},createAudioPlayer:function(){var e=o.getBackgroundAudioManager();this.audioPlayer=e,this.audioPlayer.title=this.data.audioList[this.data.currentIndex].server_filename},getAudioTargetWithSchema:function(e){var t=this,a=e.path;return new Promise((function(e){t.getFileMetas(a).then((function(a){o.setStorageSync("fileList",{fileInfo:a}),t.setData({audioList:[a],currentIndex:0}),e()}))}))},getFileMetas:function(e){var t=this;return(0,O.getFileMetas)({target:[e],dlink:1}).then((function(e){if(0===e.errno)return e.info[0];var a="文件异常";12===e.errno&&(a="该文件已移动保存位置或删除"),t.setData({isLoading:!1,errText:a})})).catch((function(e){throw new Error(e)}))},dealOpt:function(e){var t={};Object.keys(e).forEach((function(a){["path","action","previewFromType"].includes(a)&&(t[a]=e[a]),"isFromMiniPlayer"===a&&(t[a]=!0),"pageType"===a&&(t.prevPageType=e[a])})),this.setData(t),R.globalData.currentPageType=this.data.pageType,R.globalData.processPage=this.data.prevPageType,o.log.page.audio.send({from:R.globalData.currentPageType,prevPageType:R.globalData.processPage}),o.log.page.pageValue.send({from:this.data.pageType})},playAudioInNextTick:function(){var e=this,t=(0,B.giveAutoSaveTip)()?2e3:0;n((function(){e.playAudio(e.data.currentIndex)}),t)},audioPlay:function(){this.data.isPlay?this.audioPlayer.pause():this.audioPlayer.play()},previousPlay:function(){this.reportTime(),"outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewControlClick.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewControlClick.send(),0==+this.data.currentIndex?this.data.currentIndex=this.data.audioList.length-1:this.data.currentIndex=this.data.currentIndex-1,this.data.isFromMiniPlayer=!1,this.playAudio(this.data.currentIndex)},nextPlay:function(){this.reportTime(),"outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewControlClick.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewControlClick.send(),+this.data.currentIndex==this.data.audioList.length-1?this.data.currentIndex=0:this.data.currentIndex=this.data.currentIndex+1,this.data.isFromMiniPlayer=!1,this.playAudio(this.data.currentIndex)},playAudio:function(e){var t=this;o.sptoast({type:"loading",title:"加载中"});var a=this.data.audioList[e];if(this.setData({audioName:a.server_filename,audioSize:(0,S.toFriendlyQuotaSize)(a.size),currentTime:"00:00",audioProgress:0}),this.data.isFromMiniPlayer)this.audioPlayer.play();else{var i=a.dlink.replace(/https:/g,"http:");this.audioPlayer.src=i,this.audioPlayer.title=this.data.audioList[this.data.currentIndex].server_filename}this.audioPlayer.onTimeUpdate((function(){if(!t.data.durationMoving&&null!==t.audioPlayer.duration&&0!==t.audioPlayer.duration&&(t.setData({currentTime:(0,S.msToMin)(t.audioPlayer.currentTime),endTime:(0,S.msToMin)(t.audioPlayer.duration),audioProgress:t.audioPlayer.currentTime/t.audioPlayer.duration*100}),t.selectComponent("#progress"))){var e=t.audioPlayer.currentTime/t.audioPlayer.duration;t.selectComponent("#progress").draw(e)}})),this.audioPlayer.onPlay((function(){R.globalData.playingAudioInfo.startTime=Date.now(),o.sptoasthide(),o.log.audioPreview.previewSuccess.send({from:R.globalData.currentPageType,prevPageType:R.globalData.processPage}),"outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewSuccess.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewSuccess.send(),t.setData({isPlay:!0})})),this.audioPlayer.onPause((function(e){t.reportTime(),t.setData({isPlay:!1})})),this.audioPlayer.onStop((function(e){t.reportTime(),t.setData({isPlay:!1})})),this.audioPlayer.onEnded((function(e){t.reportTime(),t.setData({isPlay:!1}),t.nextPlay()})),this.audioPlayer.onError((function(e){o.sptoasthide(),o.log.audioPreview.previewFail.send({from:R.globalData.currentPageType,prevPageType:R.globalData.processPage}),"outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewFail.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewFail.send(),t.setData({isPlay:!1})})),this.audioPlayer.onSeeked((function(e){t.setData({isPlay:!0})}))},getWidth:function(e){return[].reduce.call(e,(function(t,a,i,n){return e.charCodeAt(i)>255?t++:t+=.5,t}),0)},durationStart:function(e){this.data.durationMoving=!0,this.data.durationData.sPageX=e.changedTouches[0].pageX,this.data.durationData.sOffestLeft=e.currentTarget.offsetLeft},durationMove:function(e){this.data.durationData.nPageX=e.changedTouches[0].pageX;var t=this.data.durationData.nPageX-this.data.durationData.sPageX;this.data.durationData.cOffestLeft=this.data.durationData.sOffestLeft+t;var a=this.data.durationData.cOffestLeft*this.data.pixelRatio/498;t>0&&this.data.durationData.cOffestLeft*this.data.pixelRatio>498?a=1:t<0&&this.data.durationData.cOffestLeft*this.data.pixelRatio<=0&&(a=0),this.setData({currentTime:(0,S.msToMin)(this.audioPlayer.duration*a),audioProgress:100*a})},durationEnd:function(e){var t=this;this.data.durationMoving=!1,this.data.durationData.ePageX=e.changedTouches[0].pageX;var a=this.data.durationData.ePageX-this.data.durationData.sPageX;this.data.durationData.cOffestLeft=this.data.durationData.sOffestLeft+a;var i=this.data.durationData.cOffestLeft*this.data.pixelRatio/498;a>0&&this.data.durationData.cOffestLeft*this.data.pixelRatio>498?i=1:a<0&&this.data.durationData.cOffestLeft*this.data.pixelRatio<=0&&(i=0),this.setData({currentTime:(0,S.msToMin)(this.audioPlayer.duration*i),audioProgress:100*i},(function(e){t.audioPlayer.seek(t.audioPlayer.duration*i)}))},onReady:function(){this.toast=this.selectComponent("#toasts"),this.showDialog=this.selectComponent("#showDialog"),this.bottomBtnBar=this.selectComponent("#bottomBtnBar"),this.vipCard=this.selectComponent("#vipCard"),this.data.isAudioViewBySchema||this.playAudioInNextTick()},onShow:function(){},onHide:function(){this.initPagePreviewStatus()},onUnload:function(){this.initPagePreviewStatus()},back:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},initPagePreviewStatus:function(){R.globalData.playingAudioInfo.isPlay=this.data.isPlay,R.globalData.playingAudioInfo.currentIndex=this.data.currentIndex,"home"===this.data.prevPageType?R.globalData.playingAudioInfo.isPlayOwnAudioList=!0:R.globalData.playingAudioInfo.isPlayOwnAudioList=!1},popupopen:function(){R.globalData.closePop=!1,this.setData({popupIsShow:!R.globalData.closePop})},popupclose:function(){R.globalData.closePop=!0,this.setData({popupIsShow:!1})},openApp:function(){"outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewOpenAppClick.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewOpenAppClick.send();this.startDialog((function(e){e.confirm&&("outsiteChainFileList"===R.globalData.processPage&&o.log.outsitePreview.audioPreviewOpenApp.send(),"home"===R.globalData.processPage&&o.log.homePreview.audioPreviewOpenApp.send())}),{showCancel:!0,showConfirm:!1,showLogin:!0,cancelText:"取消",content:"打开百度网盘App听该音频",confirmText:"使用App打开",showBtn:!0})},startDialog:function(e,t){var a=t.showCancel,i=t.cancelText,n=t.content,r=t.confirmText,s=t.showConfirm,c=t.showLogin,l=t.showBtn;o.showDialog({always:e,showCancel:a,showConfirm:s,showLogin:c,cancelText:i,content:n,confirmText:r,showBtn:l})},startShare:function(){var e=this;if(!this.data.sharing){this.setData({sharing:!0}),o.log.home.indexShareLink.send({from:this.data.pageType}),o.sptoast({type:"loading",title:"生成中..."});var t=(0,D.randomWord)(!1,4,4);this.setData({linkPwd:t});var a={from:"batch",fid_list:[""+this.data.audioList[this.data.currentIndex].fs_id],pwd:t,schannel:4,period:7};(0,C.postFileShare)(a).then((function(t){if(e.setData({sharing:!1}),o.sptoasthide(),(0,F.shareMonitor)(t.errno),0===t.errno){var a={confirmTip:"下列链接已复制到剪贴板，粘贴分享给好友",sharePageLink:(0,E.generateSharePageLink)(t.shorturl,e.data.linkPwd,{memberType:R.globalData.vipIconInfo.memberType,memberLevel:R.globalData.vipIconInfo.memberLevel})};e.bottomBtnBar.showConfirm(a)}else o.sptoast({type:" info",title:"分享失败请重试"})})).catch((function(){(0,F.shareMonitor)()}))}},tiebaShare:function(){var e=this;if(!this.data.tiebaSharing){this.setData({tiebaSharing:!0});var t=(0,D.randomWord)(!1,4,4);this.setData({linkPwd:t});var a={from:"batch",fid_list:[""+this.data.audioList[this.data.currentIndex].fs_id],pwd:t,schannel:4,period:7},i=this;(0,C.postFileShare)(a).then((function(t){if(e.setData({tiebaSharing:!1}),(0,F.shareMonitor)(t.errno),0===t.errno){var a,n=t.shorturl;a=(0,I.getPic)(e.data.audioList[e.data.currentIndex]);var r={code:i.data.linkPwd,img:a,url:n};(0,T.callTieba)(r,(function(){o.log.tieba.homeShareTiebaSuccess.send({from:e.data.pageType})}))}else o.sptoast({type:" info",title:"分享失败请重试"})})).catch((function(){(0,F.shareMonitor)()}))}},dealVipCard:function(e){var t=this,a=["120","130","31075","31175","33"],i={},n=R.globalData,o=n.loginInfo,s=n.vipInfo,c=n.quotaSize;o&&s&&c?(i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,L.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))):((0,x.checkAppLogin)(),r().globalData.isAppLogin&&(0,A.setVipInfo)().then((function(n){o=R.globalData.loginInfo,s=R.globalData.vipInfo,c=R.globalData.quotaSize,i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,L.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))})).catch((function(e){console.log(e)})))},reportTime:function(){if(R.globalData.playingAudioInfo.startTime){var e=this.data.audioList[this.data.currentIndex];o.newLog.audioPlayRelate.listenTime.send({ext:{fsid:e.fs_id,file_ext:e.real_category,file_name:e.server_filename,file_size:e.originSize,file_path:e.path,file_duration:this.audioPlayer.duration,time:Date.now()-R.globalData.playingAudioInfo.startTime,scene:this.data.homePre?"main":"share",client:"shoubai"}}),R.globalData.playingAudioInfo.startTime=null}}})})),window.define("403",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Page({data:{topHeight:72,prevPageType:"",pageType:"guider"},onLoad:function(e){e.pageType&&this.setData({prevPageType:e.pageType}),S.globalData.currentPageType=this.data.pageType,n.log.page[""+this.data.pageType].send(),this.initPageInfo()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},initPageInfo:function(){S.globalData.systemInfo||(0,P.systemInfoSync)(),this.setData({topHeight:S.globalData.totalHeight,isIpx:S.globalData.isIpx})}})})),window.define("406",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(68),S=e(7),D=e(407),C=e(13);var T=o(),I=(0,S.swanApiToPromise)("downloadFile"),E=(0,S.swanApiToPromise)("shareFile");Page({data:{needShow:!1,url:"",prevPageType:"",pageType:"report"},onLoad:function(e){this.webViewContext=n.createWebViewContext("webview"),e.pageType&&this.setData({prevPageType:e.pageType}),T.globalData.currentPageType=this.data.pageType,n.log.page[""+this.data.pageType].send(),this.setData({url:e.url,needShow:!0}),n.setNavigationBarTitle({title:e.title||"网盘"});try{this.userInfo=D.globalCache.get(e.userId),this.imageList=D.globalCache.get(e.imgId),this.pathInfo=D.globalCache.get(e.pathId)}catch(e){console.log(e)}},onReady:function(){},onShow:function(){var e=this;(0,C.setVipAndWorkInfo)().then((function(){var t=T.globalData.isPuzzleSvip,a=T.globalData.isPuzzleWork;e.userInfo={svip:t,comboProduct:a}}))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){n.log.header.systemShare.send()},postMessage:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,i,o,r,s,c,l,p,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.detail.data,i=a.callbackId,o=a.data,r=a.type,e.t0=r,e.next="init"===e.t0?5:"clipboardReadText"===e.t0?7:"clipboardWriteText"===e.t0?9:"getUserInfo"===e.t0?11:"getExportName"===e.t0?13:"exportSuccess"===e.t0?15:34;break;case 5:return this.webViewContext.postMessage({data:{callbackId:i,data:[{userInfo:this.userInfo,imageList:this.imageList,from:"from_scan_toword_shoubai"}]}}),e.abrupt("break",34);case 7:return n.getClipboardData({success:function(e){u.webViewContext.postMessage({data:{callbackId:i,data:[e.data]}})},fail:function(e){console.log("getClipboardData fail",e)}}),e.abrupt("break",34);case 9:return n.setClipboardData({data:o[0],success:function(e){u.webViewContext.postMessage({data:{callbackId:i,data:[]}})},fail:function(e){console.log("setClipboardData fail",e)}}),e.abrupt("break",34);case 11:return this.webViewContext.postMessage({data:{callbackId:i,data:[this.userInfo]}}),e.abrupt("break",34);case 13:return this.webViewContext.postMessage({data:{callbackId:i,data:[{title:this.pathInfo.pageTitle,path:this.pathInfo.path}]}}),e.abrupt("break",34);case 15:return e.prev=15,e.next=18,(0,P.getFileMetas)({target:[o[1]],dlink:1});case 18:if(0!==(s=e.sent).errno){e.next=28;break}return c=s.info[0],l=(l=c.dlink).replace("http://","https://"),e.next=25,I({url:l});case 25:p=e.sent,this.webViewContext.postMessage({data:{callbackId:i,data:[{status:1}]}}),E({filePath:p.tempFilePath});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(15),this.webViewContext.postMessage({data:{callbackId:i,data:[{status:0}]}});case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}}),e,this,[[15,30]])})),function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))});return function(e){return t.apply(this,arguments)}}()})})),window.define("407",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.rmdir=a.deleteFile=a.saveBase64ToImageUrl=a.netdiskPicToBase64=a.netdiskPicToLocal=a.localImageToBase64=a.base64ToImageUrl=a.TaskSchedule=a.globalCache=a.Cache=a.getID=void 0;var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),D=e(86);function C(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var I,E,x,A,L,B=(0,e(7).swanApiToPromise)("downloadFile"),F=(0,D.getFileSystemManager)(),N=new(function(){function e(){T(this,e),this.db={}}return S(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filter_0";return this.db[e]?this.db[e][t]:""}},{key:"add",value:function(e){var t=Date.now();return this.db[t]=e,t}},{key:"update",value:function(e,t,a){void 0!==this.db[e]&&(this.db[e][t]=a)}},{key:"base64ToImage",value:function(e){return"data:image/png;base64,"+e.replace(/[\r\n]/g,"")}},{key:"imageToBase64",value:function(e){return new Promise((function(t,a){F.readFile({filePath:e,encoding:"base64"}).then((function(e){t(e.data)})).catch(a)}))}},{key:"saveBase64Data",value:function(e,t,a){return F.access({path:e}).then((function(){return F.writeFile({filePath:e+"/"+t,data:a,encoding:"base64"})})).catch((function(){return F.mkdir({dirPath:e,recursive:!0}).then((function(){return F.writeFile({filePath:e+"/"+t,data:a,encoding:"base64"})}))}))}},{key:"delete",value:function(e){return F.removeSavedFile({filePath:e})}},{key:"rmdir",value:function(e){return F.rmdir({dirPath:e,recursive:!0})}}]),e}()),O=(I="",E=0,function(){var e=new Date,t=""+e.getTime()+e.getMilliseconds();return t===I?E+=1:E=0,I=t,t+"_"+E}),R=a.getID=function(){return O()},U=a.Cache=function(){function e(){T(this,e),this.db={}}return S(e,[{key:"get",value:function(e){var t=this.db[e];if(void 0!==t)return"once"===t.type&&delete this.db[e],t.data}},{key:"add",value:function(e){var t=R();return this.set(t,e),t}},{key:"set",value:function(e,t){this.db[e]={type:"always",data:t}}},{key:"setOnce",value:function(e,t){this.db[e]={type:"once",data:t}}}]),e}();a.globalCache=new U,a.TaskSchedule=function(){function e(t,a){var i=a.taskCallback,n=void 0===i?function(){}:i,o=a.max,r=void 0===o?5:o,s=a.index,c=void 0===s?0:s,l=a.processCallback,p=void 0===l?function(){}:l;T(this,e),this.list=t,this.taskCallback=n,this.processCallback=p,this.max=r,this.success=[],this.error=[],this.index=c,this.cancelFlag=!1}return S(e,[{key:"start",value:function(){var e=this,t=this.max>this.list.length?this.list.length:this.max;new Array(t).fill(0).forEach((function(){e.execute()}))}},{key:"execute",value:function(){var e=this,t=this.getNextTask();if(null!==t&&!0!==this.cancelFlag){var a=P(t,2),i=a[0],n=a[1];this.taskCallback(i,n).then((function(t){e.success.push(t),e.execute()})).catch((function(t){e.error.push(t)})).finally((function(){e.done()}))}}},{key:"getNextTask",value:function(){var e=this.list[this.index];return this.index+=1,void 0!==e?[e,this.index-1]:null}},{key:"done",value:function(){this.processCallback(this.success,this.error)}},{key:"cancel",value:function(){this.cancelFlag=!0}}]),e}(),a.base64ToImageUrl=function(e){return"data:image/png;base64,"+e.replace(/[\r\n]/g,"")},a.localImageToBase64=function(e){return new Promise((function(t,a){F.readFile({filePath:e,encoding:"base64"}).then((function(e){t(e.data)})).catch(a)}))},a.netdiskPicToLocal=(x=C(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("http://","https://"),e.next=3,B({url:t});case 3:return a=e.sent,i=a.tempFilePath,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,void 0)}))),function(e){return x.apply(this,arguments)}),a.netdiskPicToBase64=(A=C(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(void 0).netdiskPicToLocal(t);case 3:return a=e.sent,e.next=6,(void 0).localImageToBase64(a);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,void 0,[[0,9]])}))),function(e){return A.apply(this,arguments)}),a.saveBase64ToImageUrl=(L=C(regeneratorRuntime.mark((function e(t,a,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.access({path:t});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,F.mkdir({dirPath:t,recursive:!0});case 9:return e.next=11,F.writeFile({filePath:t+"/"+a,data:i,encoding:"base64"});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,void 0,[[0,5]])}))),function(e,t,a){return L.apply(this,arguments)}),a.deleteFile=function(e){return F.removeSavedFile({filePath:e})},a.rmdir=function(e){return F.rmdir({dirPath:e,recursive:!0})};a.default=N})),window.define("410",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P,S=e(35),D=e(33),C=e(20),T=e(8),I=e(244),E=e(14),x=e(13),A=e(140);e(72);function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=o();Page({data:(P={memberType:"0",quotaSize:{},quotaUsageRate:"",userWxInfo:{},topHeight:72,loginTask:"",prevPageType:"",pageType:"usercenter",url:"/pages/h5/index?src="+encodeURIComponent("http://ufosdk.baidu.com/?m=Client&a=postViewNew&appid=237155&needFbtype=true&hasTitleBar=false&hasFbtype=true&fbtnPlace=br")+"&title=",memberLevel:"",historyLevel:""},L(P,"historyLevel",""),L(P,"loginUrl","/pages/login/index?backUrl=/pages/usercenter/usercenter"),L(P,"showVip",!1),L(P,"isCertUser",!1),L(P,"certStatus",0),L(P,"abbrName",""),L(P,"isBaiduInside",!0),L(P,"currentTab","usercenter"),L(P,"showSvip10id",!1),L(P,"svip10id",""),P),onLoad:function(e){var t=new RegExp("ios","gi");this.setData({showVip:!t.test(B.globalData.systemInfo.system)}),e.pageType&&this.setData({prevPageType:e.pageType}),B.globalData.currentPageType=this.data.pageType,n.log.page[""+this.data.pageType].send(),(0,C.checkAppLogin)(),B.globalData.isAppLogin?this.initPageInfo():n.redirectTo({url:this.data.loginUrl})},onShow:function(){void 0!==this.documentScanPicker&&B.globalData.autoChooseImage&&(B.globalData.autoChooseImage=!1,this.documentScanPicker.choose())},onHide:function(){},onUnload:function(){},onReady:function(){this.memberEntry=this.selectComponent("#memberEntry"),this.documentScanPicker=this.selectComponent("#documentScanPicker")},initPageInfo:function(){var e=this;B.globalData.systemInfo||(0,T.systemInfoSync)(),this.setData({topHeight:B.globalData.totalHeight,isIpx:B.globalData.isIpx});var t={};if(B.globalData.loginInfo&&B.globalData.vipInfo&&B.globalData.quotaSize){this.getUserBaseInfoFunc(),this.getUserCertInfoFunc(),this.getUserQuotaFunc();var a={type:"1",config:{user_status:B.globalData.vipInfo.vip_type,level:B.globalData.vipInfo.vip_level}};(0,E.getUserGuide)(a).then((function(a){a.hasError||(t={title:a.guide_data.title,subTitle:a.status_data,desc:a.guide_data.content,vip_type:B.globalData.vipInfo.vip_type,button:a.guide_data.button,showVip:e.data.showVip},e.memberEntry.init(t))}))}else(0,x.setVipInfo)().then((function(a){e.getUserBaseInfoFunc(),e.getUserCertInfoFunc(),e.getUserQuotaFunc();var i={type:"1",config:{user_status:B.globalData.vipInfo.vip_type,level:B.globalData.vipInfo.vip_level}};(0,E.getUserGuide)(i).then((function(a){a.hasError||(t={title:a.guide_data.title,subTitle:a.status_data,desc:a.guide_data.content,vip_type:B.globalData.vipInfo.vip_type,button:a.guide_data.button,showVip:e.data.showVip},console.log("guideConfig",t),e.memberEntry.init(t))}))})).catch((function(e){console.log(e)}))},getUserQuotaFunc:function(){this.setData({quotaSize:{usedQuota:(0,D.toFriendlyQuotaSize)(B.globalData.quotaSize.used),totalQuota:(0,D.toFriendlyQuotaSize)(B.globalData.quotaSize.total)},quotaUsageRate:(B.globalData.quotaSize.used/B.globalData.quotaSize.total*100).toFixed(2)})},getUserBaseInfoFunc:function(){var e=this;(0,S.getUserBaseInfo)().then((function(t){if(0===t.errno){var a=B.globalData.vipIconInfo,i=a.historyType,o=a.historyLevel,r=t.is_vip,s=t.vip_level,c=t.vip_type,l=t.svip10_id,p=r,u=s;0===p&&(o<1||o>8)||u<1||u>8?n.log.userMemberInfo.getLevelError.send({memberType:p,historyLevel:o,memberLevel:u,type:"userCenter_get_member_error"}):n.log.userMemberInfo.getLevelSuccess.send({type:"userCenter_get_member_success"}),e.setData({userWxInfo:{avatarUrl:t.avatar_url,nickName:t.displayname},memberType:p,memberLevel:u,historyType:i,historyLevel:o,svip10Id:l,showSvip10id:2==c&&10==s&&l})}})).catch((function(e){console&&console.log("err:",e)}))},getUserCertInfoFunc:function(){var e=B.globalData.vipInfo.certuser_data,t=B.globalData.loginInfo.uk,a=(0,A.getUserCertInfo)(e),i=a.isCertUser?"https://pan.baidu.com/disk/main#/certification/info?uk="+t:"https://pan.baidu.com/disk/main#/certification/introductionmobile";this.setData(Object.assign({},a,{certIntroUrl:"/pages/h5/index?src="+encodeURIComponent(i)})),a.isCertUser&&(n.log.certification.usercenterCertEntrance.send({type:"sp_usercenter_cert_entrance_display",value:"认证入口展示-个人中心-我"}),n.log.certification.usercenterCertIcon.send({type:"sp_usercenter_cert_icon_display",value:"认证标识展示-用户个人中心"}))},_touchStart:function(){this.setData({contactTouchStyle:"background: #F9F9FA"})},_touchEnd:function(){this.setData({contactTouchStyle:""})},_touchStart0:function(){this.setData({contactTouchStyle0:"background: #F9F9FA"})},_touchEnd0:function(){this.setData({contactTouchStyle0:""})},_touchStart2:function(){this.setData({contactTouchStyle2:"background: #F9F9FA"})},_touchEnd2:function(){this.setData({contactTouchStyle2:""})},_clickCert:function(){n.log.certification.usercenterCertEntrance.send({type:"sq_usercenter_cert_entrance_clk",value:"认证入口点击-个人中心-我"}),n.navigateTo({url:this.data.certIntroUrl})},_click:function(){},_click2:function(){n.log.usercenter.customReportNum.send()},toReport:function(){(0,I.navActivity)({nav_type:1,tourl:"http://ufosdk.baidu.com/?m=Client&a=postViewNew&appid=237155&needFbtype=true&hasTitleBar=false&hasFbtype=true&fbtnPlace=br"})},handleClickTabBar:function(e){"camera"===e.detail&&this.documentScanPicker.show()}})})),window.define("413",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S,D=e(57),C=e(373),T=e(414),I=e(244),E=e(20),x=e(13),A=e(14),L=e(67),B=e(151),F=e(62),N=e(235),O=e(33),R=e(415),U=e(65),M=e(8),j=e(134),z=e(33),V=e(199);function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var W=r();Page((H(S={data:{popupIsShow:!1,prevPageType:"",pageType:"filePlayVideo",sharing:!1,isIpx:W.globalData.isIpx,feedActivities:[],closeFeedActivities:!1,feedTop:"0rpx",outsideSingleFile:!1,outsidePre:!1,name:"",topHeight:"",shorturl:W.globalData.shareInfo.shorturl,thirdParty:"",currentVideo:{},videoList:[],viewMultiViewDisplay:!0,viewMultiViewText:"",viewBackBtnDisplay:!1,viewBackBtnText:"",outsiteChain:"/pages/outsite-chain/file-list/file-list?s=",homeSourceUrl:"/pages/home/index",scheme:"",autoSwitchNextVideo:!1,isPause:!0,isShareSingleFile:!1,statusBarHeight:20,popupText:"保存成功，可完整观看",savedDir:"/我的资源",pageViewTime:0,isSniffVideo:0,isAndroid:!1,hasApp:!1,spnativePre:!1},onLoad:function(e){this.setData({pageViewTime:(new Date).getTime()}),(0,M.saveDataToGlobalData)("from",e.from),o.sptoast({type:JSON.stringify(e),title:"文件播放异常"}),this.dealOpt(e),(0,I.isShowActivity)(!1,"lastShowFeedActivityDate")?this.activityIcon():this.setData({closeFeedActivities:!0}),this.initSingleFile(),this.checkIsSingleFile()},onShow:function(){this.setPageTitle("视频播放");var e=o.getURLQuery();this.dealOpt(e),this.setData({pageViewTime:(new Date).getTime()}),o.sptoasthide(),o.log.page.filePlayVideo.send({from:W.globalData.currentPageType,prevPageType:W.globalData.processPage}),o.log.page.pageValue.send({from:this.data.pageType}),this.makeLogPoint({point:"videoPageDisplay"})},onReady:function(){var e=this;this.toast=this.selectComponent("#toasts"),this.baseVideo=this.selectComponent("#baseVideo"),this.showDialog=this.selectComponent("#showDialog"),this.bottomBtnBar=this.selectComponent("#bottomBtnBar"),this.vipCard=this.selectComponent("#vipCard"),this.viewInApp=this.selectComponent("#viewInApp"),o.onNetworkStatusChange((function(t){e.baseVideo.getNetworkType()})),this.initVideoType()},onHide:function(){this.makeLogPoint({point:"videoPageTime",config:{videoPageTime:(new Date).getTime()-this.data.pageViewTime}})},onUnload:function(){this.makeLogPoint({point:"videoPageTime",config:{videoPageTime:(new Date).getTime()-this.data.pageViewTime}}),o.sptoasthide(),W.globalData.closePop=!0},dealOpt:function(e){this.setData({thirdParty:e.thirdParty,statusBarHeight:W.globalData.statusBarHeight,topHeight:W.globalData.totalHeight,navHeight:W.globalData.navHeight,homePre:"homePreview"===e.previewType,spnativePre:"spnative"===e.source,outsidePre:"outsitePreview"===e.previewType,options:e,savedDir:W.globalData.savedDir||this.data.savedDir}),this.data.spnativePre&&this.setData({savedDir:"/来自：百度App",isSniffVideo:+e.is_sniff_video||0,options:Object.assign({},this.data.options,{previewFromType:U.previewFromTypeObj.SCHEME_VIEW})}),e.pageType&&this.setData({prevPageType:e.pageType}),W.globalData.processPage=this.data.prevPageType,W.globalData.currentPageType=this.data.pageType,W.globalData.savedDir=this.data.savedDir},initVideoType:function(){var e=this,t=this.data,a=t.homePre,i=t.spnativePre;a?(this.getHomePreview(),this.setData({popupIsShow:!W.globalData.closePop}),n((function(){e.popupclose()}),V.POPUP_DISPLAY_TIME)):i?this.getSpnativePre():this.getNormalPre()},getHomePreview:function(){var e=this,t=this.data.options.pageNum,a=o.getStorageSync("fileList"),i=a.fileInfo,n=a.list;n=(0,F.transMultiArrayToSingle)(n);var r=W.globalData.processPage;if("task"===r)return this.setData({viewMultiViewDisplay:!1,viewBackBtnDisplay:!0,viewBackBtnText:"返回【传输列表】"}),void this.resolveVideoList({type:"storage"});if("home"===r||"video_category_page"===r){var s=(0,D.getFileParentPath)(i.path),c="";"/"===s?c="去APP查看【我的文件】":((s=(s=s.split("/")).pop()).length>14&&(s=s.substr(0,4)+"..."+s.substr(s.length-4)),c="去APP内查看 【"+s+"】 的全部文件"),this.setData({viewMultiViewDisplay:!0,viewMultiViewText:"去APP查看其他文件",viewBackBtnDisplay:!0,viewBackBtnText:c}),this.makeLogPoint({point:"btnMoreFileShow"})}this.playVideo(i);var l={video_category_page:{func:B.getFileListByCategory,params:{category:1,page:1,num:20*(parseInt(t)+1),media:1}},home:{func:B.getFileListByPath,params:{category:1,path:(0,D.getFileParentPath)(i.path)}}}.home;(0,l.func)(l.params).then((function(t){if(!t.hasError&&0===t.errno&&t.list.length){t.list=(0,j.sortFileList)(t.list),t.list.length===n.length&&e.setData({viewMultiViewDisplay:!1});var a=t.list.findIndex((function(e){return e.fs_id===i.fs_id}));e.resolveVideoList({type:"normal",currentVideo:t.list[a],videoList:t.list,needPlayVideo:!1})}else e.resolveVideoList({type:"storage",needPlayVideo:!1})}))},getSpnativePre:function(){var e=this.data.options,t=e.is_rapid,a=e.is_sniff_video,i=e.exp_id;1==+a&&1==+t&&3==+i?this.dealRapidVideoPre():this.dealSpnativePre()},dealRapidVideoPre:function(){var e=this;(0,T.resolveRapidVideo)(this.data.options,(function(t){e.makeLogPoint(t)})).then((function(t){var a=t.ishistory,i=t.savepath;i&&(e.data.options.savepath=i,e.data.options.ishistory=a),e.dealSpnativePre()})).catch((function(){e.dealSpnativePre()}))},dealSpnativePre:function(){var e=this,t=this.data.options,a=t.savepath,i=t.exp_id,n=t.ishistory,r=[a];r=JSON.stringify(r);var s=W.globalData.loginInfo.bdstoken;this.setData({viewMultiViewDisplay:!1,viewBackBtnDisplay:!1}),(0,L.getFileDuration)({target:r,media:1,bdstoken:s,dlink:1}).then((function(t){if(t.hasError&&(console&&console.log("GetFileDuration-catch: ",err),e.resolveVideoList({type:"storage"})),0===t.errno){var a=t.info[0];W.globalData.tapFileInfo=a,W.globalData.closePop=!1,3==+i&&0===n&&e.setData({popupIsShow:!W.globalData.closePop}),e.resolveVideoList({type:"normal",currentVideo:a,videoList:t.info})}else 12===t.errno?o.sptoast({type:" info",title:"该文件已移动保存位置或删除"}):o.sptoast({type:" info",title:"文件播放异常"})}))},getNormalPre:function(){var e=this.data.outsideSingleFile,t=o.getStorageSync("fileList").fileInfo,a=W.globalData.shareInfo.shareUserName,i=(0,R.getFileList)(),n=(0,F.filterVideosList)(i);this.setData({viewBackBtnDisplay:!0,viewBackBtnText:"查看【"+a+"】的全部分享"});var r=i.length===n.length;this.setData({viewMultiViewDisplay:!e&&!r,viewMultiViewText:"去APP内查看更多文件"}),this.resolveVideoList({type:"normal",currentVideo:t,videoList:n})},resolveVideoList:function(e){var t=e.type,a=e.currentVideo,i=e.videoList,n=e.needPlayVideo,r=void 0===n||n,s=o.getStorageSync("fileList"),c=s.fileInfo,l=s.list;l=(0,F.transMultiArrayToSingle)(l),"storage"===t&&(a=c,i=[c]),i=i.map((function(e){return e.durationMin=e.duration&&(0,O.msToMin)(e.duration)||(0,O.toFriendlyQuotaSize)(e.size,!0)||"",e.dispost_name=(0,z.disposeMultLineFileName)(e.server_filename,36),e})),a||(a=c,i=l),this.setData({videoList:i}),this.setAutoSwitchNextVideo(),r&&this.playVideo(a),this.setNextVideo(a)},handleSwitchVideo:function(e){var t=e.detail,a=this.data.videoList.filter((function(e){return e.fs_id.toString()===t}))[0];a&&this.playVideo(a)},playVideo:function(e){this.setCurrentVideoToTapFileInfo(e);var t=this.data.options,a=t.source,i=t.playSource,n=this.data.homePre;this.baseVideo.init(e,a,i,n),this.setNextVideo(e)},setNextVideo:function(e){var t=this.data.videoList,a=t.findIndex((function(t){return t.fs_id===e.fs_id})),i=t[a+1];i&&this.baseVideo.setNextVideoInfo(i)},handleViewAllFileClick:function(){var e=this.data,t=e.homePre,a=e.spnativePre,i=e.outsidePre,n=e.outsideSingleFile,r=e.outsiteChain,s=e.homeSourceUrl,c=e.pageType,l=e.currentVideo,p=W.globalData,u=p.shorturl,d=p.currentPageType,h=(p.processPage,p.viewAction);if(!a)if(i)n||"preview_file"===h?(W.globalData.viewAction="",o.redirectTo({url:""+r+u+"&pageType="+d})):o.navigateBack();else if("save_view"!==h)if(t){var g=s+"?path="+(0,D.getFileParentPath)(l.path)+"&pageType="+c;o.redirectTo({url:g})}else o.redirectTo({url:s});else o.redirectTo({url:s+"?path=/我的资源&pageType="+c})},handleViewMultiClick:function(){var e=this.data,t=e.homePre,a=e.spnativePre,i=e.outsidePre,n=e.outsideSingleFile,r=e.currentVideo,s=e.homeSourceUrl,c=e.pageType;W.globalData.processPage;if(t){var l=s+"?path="+(0,D.getFileParentPath)(r.path)+"&pageType="+c;o.redirectTo({url:l})}else i&&n||a||o.navigateBack()}},"handleSwitchVideo",(function(e){var t=e.detail,a=this.data.videoList.filter((function(e){return e.fs_id.toString()===t}))[0];a&&(this.setCurrentVideoToTapFileInfo(a),this.playVideo(a))})),H(S,"activityIcon",(function(){var e=this;(0,C.getIcon)().then((function(t){t.forEach((function(e){switch(e.pop_type){case 3:e;break;case 4:e;break;case 16:e}}));var a=t.filter((function(e){return(14===e.pop_type||15===e.pop_type)&&e.isValid}));e.setData({feedActivities:a})}))})),H(S,"handleFeedClose",(function(){(0,I.isShowActivity)(!0,"lastShowFeedActivityDate"),this.setData({closeFeedActivities:!0})})),H(S,"dealVipCard",(function(e){var t=this,a=W.globalData,i=a.loginInfo,n=a.vipInfo,o=a.quotaSize;i&&n&&o?this.makeGuideConfig(e,n,o):((0,E.checkAppLogin)(),r().globalData.isAppLogin&&(0,x.setVipInfo)().then((function(a){i=W.globalData.loginInfo,n=W.globalData.vipInfo,o=W.globalData.quotaSize,t.makeGuideConfig(e,n,o)})).catch((function(e){console.log(e)})))})),H(S,"makeGuideConfig",(function(e,t,a){var i=this,n={};n=["120","130","31075","31175","33"].indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:t.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:a.total,used:a.used,show_priv_button:1,level:t.vip_level},sid:2}:{config:{user_status:t.vip_type,quota_size:a.total,level:t.vip_level},sid:1},(0,A.getGuideConfig)(n).then((function(a){if(0===a.errno){var n=a.config,o=n.icon,r=n.content,s=n.button_list;e.icon=o,e.content=r,e.text=s[0].text,e.price=s[0].price,e.action_url=s[0].action_url,e.userStatus=t.vip_type,e.showCard=!0,e.button_type=s[0].button_type,e.theme_type=s[0].theme_type,e.sid=s[0].sid,i.vipCard.init(e)}})).catch((function(e){}))})),H(S,"setCurrentVideoToTapFileInfo",(function(e){W.globalData.tapFileInfo=e,this.viewInApp.setPreviewSchema(),this.setData({currentVideo:e,scheme:(0,N.makeScheme)()}),o.setStorageSync("fileList",{list:this.data.videoList,fileInfo:e,currentFsId:e.fs_id})})),H(S,"openwebview",(function(e){var t=e.detail.url,a=e.detail.title;o.navigateTo({url:"/pages/webview/webview?url="+t+"&title="+encodeURIComponent(a)})})),H(S,"popupopen",(function(){W.globalData.closePop=!1})),H(S,"popupclose",(function(){W.globalData.closePop=!0,this.setData({popupIsShow:!1})})),H(S,"shareAllFile",(function(){var e=this.data,t=e.spnativePre,a=e.homePre,i=e.currentVideo,n=e.prevPageType,o=i.path,r=(0,D.getFileParentPath)(o);t||"task"===n?this.shareCurrentVideo():a?"/"===r?"video_category_page"===n?this.shareCurrentVideoList():this.shareHomeDirFile():this.shareParentDir(r):this.shareCurrentVideoList()})),H(S,"shareHomeDirFile",(function(){var e=this,t=(0,R.getFileIdListFromFileList)();o.showDialog({title:"分享全部文件",showBtn:!0,showCancel:!0,showConfirm:!0,content:"当前在根目录下，点击后将分享根目录前"+t.length+"项文件，确定执行此操作？",always:function(a){a.confirm&&e.shareFile(t)}})})),H(S,"shareCurrentVideoList",(function(){var e=this.data.videoList.map((function(e){return e.fs_id}));this.shareFile(e)})),H(S,"shareCurrentVideo",(function(){var e=this.data.currentVideo;this.shareFile([e.fs_id])})),H(S,"shareParentDir",(function(e){var t=this;if(!e){var a=this.data.currentVideo.path;e=(0,D.getFileParentPath)(a)}var i=W.globalData.loginInfo.bdstoken,n=JSON.stringify([e]);(0,L.getFileDuration)({target:n,media:1,bdstoken:i,dlink:1}).then((function(e){if(0===e.errno){var a=[e.info[0].fs_id];t.shareFile(a)}else o.sptoast({type:" info",title:"分享失败请重试"})})).catch((function(e){o.sptoast({type:" info",title:"分享失败请重试"})}))})),H(S,"shareFile",(function(e){var t=this;if(e&&e.length>0){if(this.data.sharing)return;this.setData({sharing:!0}),o.log.home.indexShareLink.send({form:this.data.pageType}),(0,R.shareFile)(e).then((function(e){t.setData({sharing:!1}),e&&t.bottomBtnBar.showConfirm(e)}))}})),H(S,"videoPauseStatusChange",(function(e){var t=e.detail;this.setData({isPause:t})})),H(S,"initName",(function(e){this.setData({name:e.detail})})),H(S,"setAutoSwitchNextVideo",(function(){var e=this.data,t=e.homePre,a=e.videoList,i=W.globalData.processPage;t&&"task"!==i&&a.length>3?this.setData({autoSwitchNextVideo:!0}):this.setData({autoSwitchNextVideo:!1})})),H(S,"closeEndTips",(function(){this.setData({autoSwitchNextVideo:!1})})),H(S,"autoSwitchNextVideo",(function(){var e=this.data,t=e.currentVideo,a=e.videoList,i=e.autoSwitchNextVideo;if(i){var n=a.findIndex((function(e){return e.fs_id===t.fs_id}));if(a.length!==n){var o=a[n+1];this.setCurrentVideoToTapFileInfo(o),this.playVideo(o)}}})),H(S,"initSingleFile",(function(){this.setData({outsideSingleFile:W.globalData.outsideSingleFile})})),H(S,"checkIsSingleFile",(function(){var e=this.data,t=e.spnativePre,a=e.homePre,i=e.outsidePre,n=e.prevPageType;if(!i){var o=!1;if((t||"task"===n)&&(o=!0),a&&"video_category_page"!==n)1===(0,R.getFileList)().length&&(o=!0);this.setData({isShareSingleFile:o})}})),H(S,"setPageTitle",(function(e){o.setPageInfo({title:e,keywords:e,description:e})})),H(S,"makeLogPoint",(function(e){var t=e.internal,a=void 0===t?"videoPlayRelate":t,i=e.point,n=e.config,r=void 0===n?{}:n;a&&i&&o.newLog[a]&&o.newLog[a][i]&&(r.isSniffVideo=this.data.isSniffVideo,void 0===this.data.currentVideo.exp_id&&void 0===this.data.options.exp_id||(r.exp_id=this.data.currentVideo.exp_id||this.data.options.exp_id),o.newLog[a][i].send({ext:Object.assign({from:this.data.options.previewFromType,vipType:W.globalData.vipInfo.vip_type||0},r)}))})),S))})),window.define("414",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.resolveRapidVideo=void 0;var P,S,D,C=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=(a.resolveRapidVideo=function(){var e=L(regeneratorRuntime.mark((function e(t,a){var i,n,o,r,s,c,l,p,u,d,h,g,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.source_url,n=t.type,o=t.file_name,r=t.http_type,s=t.app_id,c=t.exp_id,l=void 0===c?-1:c,i&&o&&s){e.next=3;break}return e.abrupt("return");case 3:if(B.globalData.loginInfo){e.next=7;break}return e.next=7,(0,A.setVipInfo)();case 7:return p=B.globalData.loginInfo.bdstoken,e.next=10,T(p,i);case 10:if(u=e.sent,console.log("checkExistTaskId",u),!u){e.next=22;break}return e.next=15,E(p,u);case 15:if(d=e.sent,console.log("checkTaskResult",d),F({code:-1,url:i,error:"任务已存在",data:Object.assign({},d,{exist_task_id:u})}),a({point:"existHistoryTask",config:d}),d){e.next=21;break}return e.abrupt("return");case 21:return e.abrupt("return",{ishistory:1,savepath:d.save_path});case 22:return a({point:"rapidAddTask",config:h={save_path:"/来自：百度App/",source_url:i,type:n,file_name:o,http_type:r,app_id:s,exp_id:l}}),e.next=26,I(p,h);case 26:if(F({code:(g=e.sent).error_code,url:i,data:g,error:g.show_msg}),a({point:g.task_id?"rapidAddTaskSucc":"rapidAddTaskFail",config:g}),g.task_id){e.next=31;break}return e.abrupt("return");case 31:return e.next=33,E(p,g.task_id);case 33:if(!(f=e.sent)){e.next=36;break}return e.abrupt("return",{ishistory:0,savepath:f.save_path});case 36:return e.abrupt("return");case 37:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),P=L(regeneratorRuntime.mark((function e(t,a){var i,n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.queryOutlineTaskByUrl)({bdstoken:t,task_urls:JSON.stringify([a])});case 2:if(i=e.sent,n=i.task_info){e.next=6;break}return e.abrupt("return");case 6:if(o=[],r=[],0!==Object.keys(n).length&&Object.entries(n).forEach((function(e){var t=C(e,2),a=t[0],i=t[1];0==+i.status&&o.push({key:a,value:i}),1==+i.status&&r.push({key:a,value:i})})),!(o.length>0)){e.next=11;break}return e.abrupt("return",o[0].key);case 11:if(!(r.length>0)){e.next=13;break}return e.abrupt("return",r[0].key);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)}),I=(S=L(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.addOutlineTask)(t,a);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)}),E=(D=L(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.queryOutlineTask)({bdstoken:t,task_ids:a+","});case 2:if(!(i=e.sent).hasError){e.next=5;break}return e.abrupt("return");case 5:if(i.task_info&&i.task_info[a]){e.next=7;break}return e.abrupt("return");case 7:if([0,1].includes(+i.task_info[a].status)){e.next=9;break}return e.abrupt("return");case 9:if(0!=+i.task_info[a].status||!i.task_info[a].save_path){e.next=11;break}return e.abrupt("return",i.task_info[a]);case 11:if(1!=+i.task_info[a].status){e.next=17;break}if(!i.task_info[a].save_path){e.next=14;break}return e.abrupt("return",i.task_info[a]);case 14:return e.next=16,E(t,a);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return D.apply(this,arguments)}),x=e(285),A=e(13);function L(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var B=o();function F(e){console.log("swan.openBdboxWebview: ",e),n.openBdboxWebview({module:"search",action:"saveCloudResult",parameters:{params:e}})}})),window.define("415",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shareFile=function(e){var t=o();n.sptoast({type:"loading",title:"生成中..."});var a=(0,D.superMakeShareParams)(e),i=a.pwd;return(0,P.postFileShare)(a).then((function(e){return n.sptoasthide(),(0,C.shareMonitor)(e.errno),0===e.errno?{confirmTip:"下列链接已复制到剪贴板，粘贴分享给好友",sharePageLink:(0,S.generateSharePageLink)(e.shorturl,i,{memberType:t.globalData.vipIconInfo.memberType,memberLevel:t.globalData.vipIconInfo.memberLevel}),data:Object.assign({pwd:i},e)}:(n.sptoast({type:" info",title:"分享失败请重试"}),!1)})).catch((function(){(0,C.shareMonitor)()}))},a.getFileIdListFromFileList=function(){return T().map((function(e){return e.fs_id}))},a.getFileList=T;var P=e(262),S=e(8),D=e(60),C=e(153);function T(){var e=n.getStorageSync("fileList").list,t=[];return e&&e.length>0&&(t=(t=[].concat.apply([],e)).filter((function(e){return!e.deleted}))),t}})),window.define("418",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(20),S=e(13),D=e(65),C=e(14),T=e(68),I=n.APP.globalData,E=o();Page({data:{list:[],currentIndex:0,fromPreview:!1,isHideShare:!0,prevPageType:"",pageType:"filePreviewImage",homePre:!1,outsidePre:!1,sharing:!1,tiebaSharing:!1,statusBarHeightRpx:0,activity:{},thirdParty:""},onLoad:function(e){this.ImagePreview=this.selectComponent("#ImagePreview"),e.pageType&&this.setData({prevPageType:e.pageType});var t=e.path,a=e.previewFromType,i=e.action,o=(e.pageType,e.thirdParty),r=I.imgActivity,s=I.systemInfo.statusBarHeight,c=String(a)===D.previewFromTypeObj.SCHEME_VIEW&&"imagePreview"===i&&t;this.setData({schemaPath:t,previewFromType:a,action:i,isAudioViewBySchema:c,thirdParty:o,statusBarHeightRpx:s*(+I.systemInfo.pixelRatio||1),activity:r,schemaPre:String(e.previewFromType)===D.previewFromTypeObj.SCHEME_VIEW,homePre:"homePreview"===e.previewType,outsidePre:"outsitePreview"===e.previewType}),"undefined"===this.data.thirdParty&&this.setData({thirdParty:""});var l=n.getStorageSync("fileList");E.globalData.selectList=[l.fileInfo],E.globalData.currentPageType=this.data.pageType,E.globalData.processPage=this.data.prevPageType,n.log.page.filePreviewImage.send({from:E.globalData.currentPageType,prevPageType:E.globalData.processPage}),n.log.page.pageValue.send({from:this.data.pageType})},onShow:function(){n.setPageInfo({title:"百度网盘图片预览页",keywords:"百度网盘图片预览页",description:"百度网盘图片预览页"}),n.sptoasthide()},onReady:function(){var e=this;return this.toast=this.selectComponent("#toasts"),this.ImagePreview=this.selectComponent("#ImagePreview"),this.bottomBtnBar=this.selectComponent("#bottomBtnBar"),this.vipCard=this.selectComponent("#vipCard"),getCurrentPages().length>1?this.setData({fromPreview:!0}):n.log.historyPreview.historyImagePreview.send(),new Promise((function(t,a){e.data.isAudioViewBySchema?t(e.loadListWithSchema()):(e.loadListWithoutSchema(),t())})).then((function(){e.data.activity&&e.data.activity.isValid&&n.log.activity.imgIconShow.send()})).catch((function(){n.sptoast({type:" info",title:"无法找到图片文件"})}))},loadListWithoutSchema:function(){var e=this;n.getStorage({key:"fileList",success:function(t){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=[],i=0,n=[];return e.map((function(e,t){n=n.concat(e)})),n.map((function(e,n){e.category-0==3&&a.push(e),e.fs_id===t&&(i=a.length)})),{imageList:a,currentIndex:i}}(t.data.list,t.data.currentFsId);n.getStorageSync("uk"),t.data.uk;e.setData({isHideShare:e.data.isHideShare,isShare:"share"===e.data.preview,list:a.imageList,currentIndex:a.currentIndex,surl:t.data.surl||"",uk:t.data.uk||"",pwd:t.data.pwd||""}),e.ImagePreview.loadList({data:e.data},t.data.surl||"",e.currentPath||"/",e.transfer||!1)}})},loadListWithSchema:function(){var e=this,t=this;return new Promise((function(a){e.getFileMetas(t.data.schemaPath).then((function(e){var i=[e];n.setStorageSync("fileList",{imageList:i,currentIndex:0}),t.setData({list:i,currentIndex:0,isHideShare:t.data.isHideShare,isShare:t.data.isShare,surl:"",uk:"",pwd:""}),E.globalData.selectList=i,t.ImagePreview.loadList({data:t.data},t.data.surl||"",t.currentPath||"/",t.transfer||!1),a()}))}))},getFileMetas:function(e){var t=this;return(0,T.getFileMetas)({target:[e],dlink:1}).then((function(e){if(0===e.errno)return e.info[0];var a="文件异常";12===e.errno&&(a="该文件已移动保存位置或删除"),t.setData({isLoading:!1,errText:a})})).catch((function(e){n.sptoast({type:"info",title:"图片信息获取失败"})}))},onShareAppMessage:function(){n.log.header.systemShare.send()},downLoad:function(){"outsiteChainFileList"===E.globalData.processPage&&n.log.outsitePreview.imgDownload.send(),"home"===E.globalData.processPage&&n.log.homePreview.imgDownload.send(),this.ImagePreview=this.selectComponent("#ImagePreview"),this.ImagePreview.downLoad()},startSave:function(){this.ImagePreview.startSave()},doSave:function(){this.bottomBtnBar.doSave()},popupopen:function(){E.globalData.closePop=!1},popupclose:function(){E.globalData.closePop=!0},startShare:function(){this.ImagePreview.startShare()},tiebaShare:function(){this.ImagePreview.tiebaShare()},showConfirm:function(e){this.bottomBtnBar.showConfirm(e)},handleIconClick:function(){n.log.activity.imgIconClick.send()},dealVipCard:function(e){var t=this,a=["120","130","31075","31175","33"],i={},n=E.globalData,r=n.loginInfo,s=n.vipInfo,c=n.quotaSize;r&&s&&c?(i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,C.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))):((0,P.checkAppLogin)(),o().globalData.isAppLogin&&(0,S.setVipInfo)().then((function(n){r=E.globalData.loginInfo,s=E.globalData.vipInfo,c=E.globalData.quotaSize,i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,C.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))})).catch((function(e){console.log(e)})))}})})),window.define("421",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(68),D=e(8),C=e(60),T=e(57),I=e(33),E=e(58),x=e(235),A=e(65);var L=[],B=r(),F="https://pcsdata.baidu.com";function N(e,t){try{o.log.loadDocFile.openAppDisplay.send(),t?o.log[t][e].send():o.log.loadDocFile[e].send()}catch(e){o.log.loadDocFile.otherErrorsOpenApp.send()}}Page({data:{titleTxt:"百度网盘-文档预览",isHome:!1,docInfo:{},topHeight:72,isLoading:!0,displayDocInfo:{iconCdnPath:"",fileName:"",size:""},errText:"",openAppBtnText:"",txtContinuePreview:!1,openAppLogType:"",previewType:"",scheme:"",homeScheme:"",previewFromType:A.previewFromTypeObj.OTHER_VIEW,openBtnStatus:!1},onLoad:function(e){var t=this;this.initPageInfo();var a=e.path,i=e.action,n=e.from,r=e.previewFromType,s=void 0===r?A.previewFromTypeObj.OTHER_VIEW:r,c=B.globalData,l=c.loginInfo,p=c.memberType,u=l.uk;if(this.setData({previewFromType:s}),(0,D.saveDataToGlobalData)("from",n),o.log.loadDocFile.pageDispla.send({previewFromType:s}),"docPreview"===i&&a)this.getFileMetas(a).then((function(e){if(e){B.globalData.tapFileInfo=e,t.setSchema();t.openFileProcess({docInfo:e,previewType:"homePreview",pageType:B.globalData.currentPageType,uk:u,memberType:p})}}));else{this.setSchema();var d=o.getStorageSync("previewFile").docFileMates,h=d.docInfo,g=d.pageType,f=d.previewType,m=d.thirdParty;d&&h&&g&&f?this.openFileProcess({docInfo:h,previewType:f,pageType:g,thirdParty:m,uk:u,memberType:p}):(this.setData({isLoading:!1,errText:"该文件已移动保存位置或删除",openAppLogType:"fileMovedOrDeletedOpenApp"}),N(fileMovedOrDeleted))}},onReady:function(){this.toast=this.selectComponent("#toasts"),(0,C.giveAutoSaveTip)()},setSchema:function(){var e=(0,D.makeDefultHomeSchema)();this.setData({scheme:(0,x.makeScheme)(),homeScheme:e})},getFileMetas:function(e){var t=this;return(0,S.getFileMetas)({target:[e],dlink:1}).then((function(e){if(0===e.errno)return e.info[0];var a="文件异常";12===e.errno&&(a="该文件已移动保存位置或删除"),t.setData({isLoading:!1,errText:a})}))},openFileProcess:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,a,i,n,o,r,s,c,l,p,u,d,h,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,f=g.docInfo,m=g.previewType,v=g.thirdParty,y=g.pageType,w=g.uk,b=g.memberType;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initFileInfo(f,m),t=f.server_filename,a=f.docpreview,i=f.size,n=f.dlink,o=(0,C.getFileType)(t),(0,C.docFileClickLog)({pageType:y,previewType:m,fileType:o}),!(0,A.isGraphicView)(o,i)){e.next=11;break}return e.next=7,this.docGraphicView(f,m,w,b);case 7:if(r=e.sent,this.setData({isLoading:!1}),!r){e.next=11;break}return e.abrupt("return");case 11:if(!1!==(0,C.determineFileType)({fileType:o,previewType:m})){e.next=14;break}return this.setData({isLoading:!1,errText:"暂不支持该格式预览"+(v?"":"，请在百度网盘App内查看"),openAppBtnText:v?"知道了":"",openAppLogType:"docPreviewNotSupportOpenApp"}),e.abrupt("return",!1);case 14:if(!1!==(0,C.determineFileSize)({fileType:o,size:i,previewType:m})){e.next=17;break}return this.setData({isLoading:!1,errText:"文档过大无法直接预览，打开App可进行预览",openAppBtnText:v?"知道了":"",openAppLogType:"docPreviewBigSizeOpenApp"}),e.abrupt("return",!1);case 17:s=(0,C.getInitViewUrlFromDocpreview)({docpreview:a}),c=s.initViewUrl0,l=s.initViewUrl1,p={initViewUrl1:l,initViewUrl0:c,retryTimes:0,docInfo:f,previewType:m,thirdParty:v,pageType:y,fileType:o},u=B.globalData.environment.version,d="txt"===o&&-1===(0,D.compareVersion)(u,"13.26.00"),"outsiteChainFileList"===y||d?this.previewDocument(p):(h=this,(0,C.previewFullDocument)({dlink:n,server_filename:t,previewType:m,pageType:y,fileType:o,useNovel:!0,success:function(e){h.openSuccessCallBack(e)},fail:function(){h.setData({isLoading:!1,errText:"文档加载失败，请稍后重试或使用App打开",openAppLogType:"docPreviewFailOpenApp"})}}));case 23:case"end":return e.stop()}}),e,this)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}(),previewDocument:function(e){var t=this,a=e.initViewUrl1,i=e.initViewUrl0,r=e.retryTimes,s=e.docInfo,c=e.previewType,l=e.thirdParty,p=e.pageType,u=Date.now();(0,E.getDocumentUrl)({url:a,hostname:F}).then((function(e){return"PROCESSING"===e.status&&r<3?(r+=1,n((function(){t.previewDocument({initViewUrl1:a,initViewUrl0:i,retryTimes:r,docInfo:s,previewType:c,thirdParty:l,pageType:p})}),2e3),!1):"HITNDB"===e.status&&e&&e.page_num>10?(t.setData({isLoading:!1,errText:"小程序内最多查看前10页，App内可预览全部",txtContinuePreview:{resData:e,initViewUrl0:i,previewType:c,pageType:p,pageStartTime:u},openAppLogType:"previewWatchAll"}),o.log.preViewPage.previewShowDialog.send(),!1):void t.ContinuePreviewTxt(e,{initViewUrl0:i,previewType:c,pageType:p,pageStartTime:u})}))},initPageInfo:function(){B.globalData.systemInfo||(0,D.systemInfoSync)(),this.setData({topHeight:B.globalData.totalHeight})},initFileInfo:function(e,t){var a=e.server_filename,i=e.size,n=void 0===i?0:i,o=this.getPic(e),r=(0,I.disposeFileName)(a);0!==n&&(n=(0,I.toFriendlyQuotaSize)(n)),this.setData({docInfo:e,displayDocInfo:{iconCdnPath:o,fileName:r,size:n},previewType:t,titleTxt:a})},getPic:function(e){var t=e.server_filename,a=e.category,i=e.isdir,n=e.thumbs;if(3!==a&&1!==a){var o=void 0;if(1===Number(i))o="folder";else{var r=t.split(".");o=r[r.length-1]}return(0,T.getSuffixIconCdnPath)(o)}if(n&&n.url3)return n.url3},handleClickTxtContinuePreview:function(){var e=this.data.txtContinuePreview,t=e.resData,a=e.initViewUrl0,i=e.previewType,n=e.pageType,r=e.pageStartTime;o.log.preViewPage.previewShowTen.send({previewFromType:this.data.previewFromType}),r=Date.now(),this.ContinuePreviewTxt(t,{initViewUrl0:a,previewType:i,pageType:n,pageStartTime:r})},ContinuePreviewTxt:function(e,t){var a=t.initViewUrl0,i=t.previewType,n=t.pageType,o=t.pageStartTime;if(e){var r=this.data.docInfo,s=r.server_filename;if("HITNDB"!==e.status){var c="文档正在后台加载中，请耐心等待，稍后再试";L.includes(r.server_filename)?c="正在后台加载中，请稍后再试":L.push(r.server_filename),this.setData({isLoading:!1,errText:c,openAppLogType:"loadingInTheBackgroundOpenApp"}),N("loadingInTheBackground",i)}else{if(""===e.ndb_key||!e.ndb_key)return this.setData({isLoading:!1,errText:"该文件已被删除，无法预览",openAppLogType:"fileHasBeenDeletedOpenApp"}),void N("fileHasBeenDeleted",i);var l=(0,C.getFileType)(s),p=F+a+"&method=newview&ndb_key="+e.ndb_key+"&region="+e.region,u=this;(0,C.downloadOpenFile)({url:p,fileType:l,pageType:n,previewType:i,pageStartTime:o,success:function(e){u.openSuccessCallBack(e)},fail:function(){u.setData({isLoading:!1,errText:"文档加载失败，请稍后重试或使用App打开",openAppLogType:"docPreviewFailOpenApp"})}})}}},openDocSuccessBackPage:function(){n((function(){o.navigateBack()}),500)},openApp:function(){var e=this.data,t=e.openAppLogType,a=e.previewType,i=e.scheme;(0,C.openAppBtnLog)(t,a);var n="android"===B.globalData.systemInfo.system4Fe,r=B.globalData.hasInstalledApp;!n||r?(o.log.loadDocFile.openAppClick.send({previewFromType:this.data.previewFromType}),o.log.commonLaunch.launch.send(Object.assign({browser:"sp",platform:B&&B.globalData.systemInfo.system4Fe},(0,D.getSchemaParam)(i),{isSuccess:"none",userType:B&&B.globalData.isUserLogin?"bd":""})),a===A.previewTypeObj.OUTSITE_PREVIEW&&o.setClipboardData({data:B.globalData.shareInfo.sharelinkCommand,success:function(e){},fail:function(e){}})):o.navigateTo({url:"/pages/download-page/index"})},docGraphicView:function(e,t,a,i){var n=this,o=e.path,r=e.picdocpreview,s=this.data.previewFromType;return new Promise((function(a,i){if(r){var c=e.fs_id,l=e.server_filename,p=e.size;a({picdocpreview:r,size:p,server_filename:l,fs_id:c,previewFromType:s})}else o&&t===A.previewTypeObj.HOME_PREVIEW?n.getFileMetas(o).then((function(e){if(e){var t=e.picdocpreview,n=e.fs_id,o=e.server_filename,r=e.size;t?a({picdocpreview:t,size:r,server_filename:o,fs_id:n,previewFromType:s}):i()}i()})):i()})).then((function(e){var t=e.picdocpreview,n=e.size,o=e.server_filename,r=e.fs_id,s=e.previewFromType;return!!t&&((0,A.openDocInGraphic)(t,n,o,r,s,a,i),!0)})).catch((function(){return!1}))},openSuccessCallBack:function(e){this.reOpenFn=e,this.setData({isLoading:!1,openBtnStatus:!Boolean(this.data.txtContinuePreview)})},openDoc:function(){this.reOpenFn?(this.reOpenFn(),o.log.loadDocFile.reopenDoc.send()):o.log.loadDocFile.reopenDocErr.send()}})})),window.define("424",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=e(60),D=e(132),C=e(373),T=e(425),I=e(426),E=e(244),x=e(136),A=e(20),L=e(427),B=e(154),F=e(13),N=e(14),O=e(65);function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=o();Page({data:{isHome:!1,topHeight:72,pageList:[],dataReady:!1,page:0,num:100,hasMore:!1,start:0,isIpx:!1,loginTask:"",loginUrl:"/pages/login/index",screenHeight:"",isEmpty:!1,pageReady:!1,scrollHeight:"",sharedUserVipType:"",canSelected:!1,bottomBtnBarShow:!0,isSelectedAll:!1,count:0,selectedList:[],allList:[],shorturl:"",dir:"",listTitle:"",pageRootFilesNum:0,fidList:[],popupIsShow:!1,isShowAudioPreview:!1,isShowPlayer:!1,prevPageType:"",pageType:"outsiteChainFileList",mySourceUrl:"/pages/home/index?path=/我的资源",memberType:"",tiebaSharing:!1,isShowBottom:!0,icon:{},banner:{},feedActivities:[],closeFeedActivities:!1,feedTop:"200rpx",bgTop:"0rpx",shareUk:"",sameUk:!1,showReport:!1,hasdir:!1,themeData:"",limitShare:!1,errData:{}},hasChecked:!1,onLoad:function(e){this.dealOpt(e),this.initPageInfo(),this.initData(),(0,E.isShowActivity)(!1,"lastShowFeedActivityDate")?this.activityIcon():this.setData({closeFeedActivities:!0}),(0,A.checkUserLogin)(),this.setData({shareUk:U.globalData.shareInfo.uk})},onShow:function(){this.setPageInfo(),U.globalData.playingAudioInfo.isPlay&&this.setData({isShowPlayer:!0}),this.setData({popupIsShow:!1}),U.globalData.currentPageType=this.data.pageType},onReady:function(){this.showDialog=this.selectComponent("#showDialog"),this.reportDialog=this.selectComponent("#reportDialog"),this.toast=this.selectComponent("#toasts"),this.selectBar=this.selectComponent("#selectBar"),this.vipCard=this.selectComponent("#vipCard")},onHide:function(){},onUnload:function(){n.sptoasthide(),this.setData({showReport:!1})},dealOpt:function(e){e.pageType&&(this.data.pageType!==e.pageType&&(n.log.page.pageValue.send({from:this.data.pageType}),n.log.page.outsiteChainFileList.send()),this.setData({prevPageType:e.pageType}),U.globalData.currentPageType=this.data.pageType,U.globalData.processPage=this.data.prevPageType),e.path&&(e.path=decodeURIComponent(e.path)||""),this.setData({shorturl:e.s,dir:e.path||""}),U.globalData.shareInfo.activePath=e.path||"",this.initUrl()},initUrl:function(){this.setData({mySourceUrl:"/pages/home/index?path=/我的资源&pageType="+U.globalData.currentPageType})},initUserInfo:function(){this.setData({sameUk:U.globalData.shareInfo.sameUser})},initPageInfo:function(){this.setData({isHome:!this.data.dir}),this.data.isHome?n.log.shareListPage.homePageDisplay.send():n.log.shareListPage.notHomePageDisplay.send(),U.globalData.systemInfo||(0,P.systemInfoSync)(),this.setData({topHeight:U.globalData.totalHeight,isIpx:U.globalData.isIpx,screenHeight:U.globalData.systemInfo.screenHeight-U.globalData.totalHeight,feedTop:U.globalData.systemInfo.screenHeightRpx-530-200+"rpx"})},initData:function(){var e=n.performance.sendTimePerf("shareList",{group:"share_perf",project:"swan-share",pageName:"multi_page",clientType:"swan"});e.start(),this.getFileListFromApi().then((function(){n.performance.sendSharePerf("multi_page"),e.end()}))},checkEmpty:function(e){this.hasChecked||(this.hasChecked=!0,this.setData({isEmpty:!(e&&e.length>0)}))},checkHasDir:function(e){var t=[];e.find((function(e){Number(e.isdir)&&t.push(e)})),this.setData({hasdir:t.length>0})},updateShareinfo:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,i,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=U.globalData,i=Number(t.vip_type)||0,o=Number(t.vip_level)||0,a.shareInfo.vipType=2===i?"svip":1===i?"vip":"",a.shareInfo.memberType=0!==i?i:0,a.shareInfo.memberLevel=0!==o?o:0,a.shareInfo.svip10Id=t.svip10_id,this.setData({sharedUserVipType:a.shareInfo.vipType}),"enterprise"===U.globalData.shareInfo.shortUrlType&&n.log.outsiteChainFileList.elinkShow.send(),2!==i){e.next=12;break}return n.log.outsiteChainFileList.openSvipShare.send({memberLevel:o,type:"open_outsiteChain_svipShare"}),e.abrupt("return",(0,T.shareTheme)(t.uk).then((function(e){var t=I.bpMode.defaultConfig;e&&e.data&&e.data.swan_sharelink?(n.log.themeData.svipTheme.send({from:e.data.id}),t=(0,I.checkValue)(I.bpMode,e.data.swan_sharelink)):n.log.themeData.defaultTheme.send(),r.setData({themeData:t})})));case 12:case"end":return e.stop()}}),e,this)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))});return function(e){return t.apply(this,arguments)}}(),getFileListFromApi:function(e){var t=this;e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefresh.send();var a=this.data,i=a.page,o=a.dir,r=a.shorturl,s=a.num;return(0,D.getShareList)({clientType:n.ENV.wapClientType,shorturl:r,page:i,dir:o,num:s}).then((function(a){switch(a.sign&&(U.globalData.shareInfo.sign=a.sign,U.globalData.shareInfo.timestamp=a.server_time),4===a.sharetype&&(t.setData({limitShare:!0}),0===a.errno&&n.log.limitShare.limitShowTotal.send(),a.list&&a.list.length>0&&n.log.limitShare.limitShowContent.send()),n.sptoasthide(),a.errno){case 0:if(t.checkEmpty(a.list),t.data.prevPageType!==t.data.pageType?t.checkHasDir(a.list):t.setData({hasdir:!1}),t.data.isEmpty)return void t.setData({pageReady:!0});if(t.data.hasdir&&t.checkReportStatus(),t.updateShareinfo(a),t.data.isHome){if((0,B.setRootFsIdToGlobal)(a.list),t.setData({pageRootFilesNum:U.globalData.shareInfo.rootFilesNum}),a.list.length>20){var i=t.data.page*t.data.num,o=0;o=a.list.length-(t.data.page+1)*t.data.num>=0?(t.data.page+1)*t.data.num:a.list.length,t.setData("pageList["+t.data.page+"]",a.list.slice(i,o)),t.setData({page:++t.data.page,hasMore:o-i===t.data.num,pageReady:!0}),a.list=a.list.slice(i,o)}else t.setData("pageList["+t.data.page+"]",a.list),t.setData({page:++t.data.page,hasMore:!1,pageReady:!0});(0,L.initAudioList)(a).then((function(){"preview_file"===U.globalData.viewAction&&a.list.length<20&&(0,S.filePreview)({filelist:a.list,previewType:"outsitePreview",needRedirect:!0,previewFromType:O.previewFromTypeObj.SHARE_VIEW})}))}else{if(t.data.listTitle&&t.data.listTitle===a.list)return n.sptoast({title:"没有更多了"}),void t.setData({hasMore:!1});t.setData("pageList["+t.data.page+"]",a.list),0===t.data.page&&(t.data.page+=1),t.setData({listTitle:a.title,page:++t.data.page,hasMore:a.list.length===t.data.num,pageReady:!0}),(0,L.initAudioList)(a)}t.initAllList(),e&&"update"===e&&t.updateSelectAll();var r=U.globalData.systemInfo.screenHeightRpx-530;if(a.list&&a.list.length<=2){var s=a.list.length;r=U.globalData.systemInfo.screenHeightRpx-(886-130*s)}t.setData({bgTop:r});break;case-9:e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefreshFail.send(),n.sptoast({type:" info",title:a.errno}),n.redirectTo({url:"/pages/outsite-chain/share-code/index?url=https://pan.baidu.com/s/"+U.globalData.shorturl});break;case 123:t.setData({isEmpty:!0,pageReady:!0,errData:{errClass:"err-custom",errIcon:"https://staticwx.cdn.bcebos.com/mini-program%2Fimages%2Flock%402x.png",errorTxt:"该链接已超过访问人数上限\n可联系分享者重新分享"}}),n.log.limitShare.limitShowError.send();break;case-11:n.showDialog({always:function(e){e.confirm&&n.navigateTo({url:"/pages/home/index"})},showCancel:!1,showConfirm:!0,showLogin:!1,cancelText:"",content:"分享者已被封禁，暂不能查看内容",confirmText:"回到首页",showBtn:!0});break;default:e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefreshFail.send(),n.sptoast({type:" info",title:"系统出错了，请稍后再试"})}})).catch((function(e){console&&console.log("err:",e)}))},initAllList:function(){var e=this,t=[];this.data.pageList.map((function(e,a){t=t.concat(e)})),this.setData({allList:t},(function(){e.setPageInfo()}))},lower:function(){this.data.hasMore&&(this.setData({hasMore:!1}),n.sptoast({type:"loading",title:"数据加载中"}),this.getFileListFromApi("update"))},tapOtherFile:function(e){},tapFolder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data;e.fileInfo,e.pageNum,e.index},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},setAudioList:function(){var e=[];this.data.pageList.map((function(t,a){e=e.concat(t)})),e.map((function(e,t){2===e.category&&e.size<52428800&&U.globalData.ownAudioList.push(e)}))},setfilelistStorage:function(e,t,a){n.setStorageSync("fileList",{list:this.data.pageList,fileInfo:e,pageNum:t,index:a,currentFsId:e.fs_id})},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.startSave(),this.selectItem({fileInfo:t,pageNum:a,index:i})},startSave:function(){U.globalData.saveList=[],U.globalData.shareSelectList=[],this.setData({canSelected:!0,bottomBtnBarShow:!0,isSelectedAll:!1}),n.log.save.selectshow.send()},goback:function(){var e=this;n.log.save.selectcancel.send(),0!==this.data.pageList.length&&(this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(R({},n,!1))}}))})),this.setData({count:0,isSelectedAll:!1,canSelected:!1,selectedList:[]}),this.initGlobalSelectList())},initGlobalSelectList:function(){U.globalData.selectList=this.data.selectedList},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.popupclose();var n="pageList["+a+"]["+i+"].selected";this.setData(R({},n,!t.selected));var o=[];this.data.pageList.map((function(e,t){e.map((function(e,t){e.selected&&o.push(e)}))})),this.setData({count:o.length,selectedList:o,isSelectedAll:this.data.allList.length===o.length}),this.updateSelectBar(),this.initGlobalSelectList()},selectedAll:function(){var e=this;if(!U.globalData.closePop&&this.popupclose(),this.data.isSelectedAll)this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(R({},n,!1))}}))})),this.setData({count:0,selectedList:[],isSelectedAll:!1});else{var t=[];this.data.pageList.map((function(a,i){a.map((function(a,n){if(t.push(a),!a.selected){var o="pageList["+i+"]["+n+"].selected";e.setData(R({},o,!0))}}))})),this.setData({count:t.length,selectedList:t,isSelectedAll:!0}),n.log.save.selectallshow.send()}this.updateSelectBar(),this.initGlobalSelectList()},updateSelectBar:function(){this.selectBar.updateCount({count:this.data.count,selectedList:this.data.selectedList,isSelectedAll:this.data.isSelectedAll})},updateSelectAll:function(){this.data.isSelectedAll&&(this.setData({isSelectedAll:!1}),this.selectedAll())},popupopen:function(){U.globalData.closePop=!1,this.setData({popupIsShow:!0})},popupclose:function(){U.globalData.closePop=!0,this.setData({popupIsShow:!1})},closePlayer:function(){this.setData({isShowPlayer:!1})},showAudioPreview:function(e){this.setData({isShowAudioPreview:e.showBox})},openwebview:function(e){var t=e.detail.url,a=e.detail.title;n.navigateTo({url:"/pages/webview/webview?url="+t+"&title="+encodeURIComponent(a)})},outsideCallNative:function(){this.data.tiebaSharing||(this.setData({tiebaSharing:!0}),n.setClipboardData({data:U.globalData.shareInfo.sharelinkCommand,success:function(e){},fail:function(e){}}),this.setData({tiebaSharing:!1}))},handleIconClick:function(){n.log.activity.iconOutClick.send()},handleFeedClose:function(){(0,E.isShowActivity)(!0,"lastShowFeedActivityDate"),this.setData({closeFeedActivities:!0})},activityIcon:function(){var e=this;(0,C.getIcon)().then((function(t){var a={},i={};t.forEach((function(e){switch(e.pop_type){case 1:a=e;break;case 2:i=e;break;case 3:e;break;case 4:e;break;case 16:e}}));var o=t.filter((function(e){return(14===e.pop_type||15===e.pop_type)&&e.isValid}));a.isValid&&(n.log.activity.iconShow.send(),n.log.activity.iconOutShow.send()),e.setData({icon:a,banner:i,feedActivities:o})}))},checkReportStatus:function(){var e=this;(0,A.checkAppLogin)(),U.globalData.isAppLogin&&(this.data.loginTask=(0,A.bdLogin)().then((function(t){(0,A.getUserInfo)().then((function(t){0===t.errno?(U.globalData.loginInfo=t.login_info,String(U.globalData.loginInfo.uk_str)!==String(U.globalData.shareInfo.uk)&&(0,x.getFeedbackButton)({share_surl:e.data.shorturl.slice(1),shareid:U.globalData.shareInfo.shareId,share_uk:U.globalData.shareInfo.uk,feedback_type:0}).then((function(e){e.hasError||e.pressed||n.log.getUrlLink.getUrlLinkShow.send()}))):n.sptoast({title:"服务出错"})})).catch((function(e){console.log(e)}))})))},reportMsg:function(){var e=this;n.log.getUrlLink.getUrlLinkShowClick.send(),this.closeReportPopper(),(0,x.shortUrlReport)({share_surl:this.data.shorturl.slice(1),shareid:U.globalData.shareInfo.shareId,share_uk:U.globalData.shareInfo.uk,feedback_type:0}).then((function(t){t.hasError?n.sptoast({title:"服务出错"}):(n.log.getUrlLink.getUrlLinkMsgShow.send(),e.reportDialog.initDialog({showDialog:!0,resMsg:"订阅成功",tips:"开启通知后，已订阅的分享更新时将\n第一时间通知你",btnTxt:"立即开启通知"}))}))},closeReportPopper:function(){this.setData({showReport:!1})},dealVipCard:function(e){var t=this,a=["120","130","31075","31175","33"],i={},n=U.globalData,r=n.loginInfo,s=n.vipInfo,c=n.quotaSize;r&&s&&c?(i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,N.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))):((0,A.checkAppLogin)(),o().globalData.isAppLogin&&(0,F.setVipInfo)().then((function(n){r=U.globalData.loginInfo,s=U.globalData.vipInfo,c=U.globalData.quotaSize,i=a.indexOf(e.infoErrno+"")+""!="-1"?{config:{user_status:s.vip_type,transfer_status:e.limitStatus.transfer_status,quota_size:c.total,used:c.used,show_priv_button:1,level:s.vip_level},sid:2}:{config:{user_status:s.vip_type,quota_size:c.total,level:s.vip_level},sid:1},(0,N.getGuideConfig)(i).then((function(a){if(0===a.errno){var i=a.config,n=i.icon,o=i.content,r=i.button_list;e.icon=n,e.content=o,e.text=r[0].text,e.price=r[0].price,e.action_url=r[0].action_url,e.userStatus=s.vip_type,e.showCard=!0,e.button_type=r[0].button_type,e.theme_type=r[0].theme_type,e.sid=r[0].sid,t.vipCard.init(e)}})).catch((function(e){}))})).catch((function(e){console.log(e)})))},setPageInfo:function(){var e="百度网盘分享",t=this.data.allList[0],a=U.globalData.shareInfo;t&&t.server_filename&&a&&a.shareUserName&&(e=t.server_filename+"等文件，来自"+a.shareUserName+"的百度网盘分享"),n.setPageInfo({title:e,keywords:"百度网盘"})}})})),window.define("425",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shareTheme=void 0;var P=e(16);a.shareTheme=function(e){var t={api:"act/v2/skin/inuse",data:{stype:1001,share_page:1,uk:e},method:"GET"};return(0,P.bdRequest)(t)}})),window.define("426",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.bpMode={parmsNum:5,defaultConfig:{share_back:"https://staticsns.cdn.bcebos.com/amis/2022-10/1667030983840/mini_program_share_bg.png",share_head:"#D1EDFE",share_name:"#402200",share_one:"#8C7861",top_back_color:"linear-gradient(282.11deg, #FFEBC0 7.63%, #FFE4BE 90.53%)"}};a.checkValue=function(e,t){return"{}"!==JSON.stringify(t)&&function(e,t){var a="",i=!0,n=0;for(a in e)n+=1,e[a]||(i=!1);return i&&n===t}(t,e.parmsNum)?t:e.defaultConfig}})),window.define("427",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.initAudioList=void 0;var P=e(428),S=e(17),D=e(69),C=o();a.initAudioList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.sign2,a=e.list,i=e.sign1,o=e.iv,r=e.server_time;if(0!==a.length){var s=[];if(a.forEach((function(e,t){2==+e.category&&(s=[].concat(s,a[t].fs_id))})),t){var c=t.slice(i[0],t.length-i[1]),l=P.Base64.decode(c);C.globalData.shareInfo.sign=(0,S.decrypt)(l,"sjbaidush@relist",o),C.globalData.shareInfo.timestamp=r;var p={sekey:decodeURIComponent(n.getStorageSync("randsk"))},u={fid_list:JSON.stringify(s),primaryid:C.globalData.shareInfo.shareId,product:"share",uk:C.globalData.shareInfo.uk,extra:JSON.stringify(p)};return(0,D.getShareDlink)(u).then((function(e){if(0===e.errno){n.sptoasthide();for(var t=[],a=function(a){var i=e.list.findIndex((function(e,t,i){return+e.fs_id==+s[a]}));e.list[i].size<52428800&&t.push(e.list[i])},i=0;i<s.length;i++)a(i);C.globalData.audioList=t}else C.globalData.audioDataError=!0,n.sptoast({type:" info",title:"服务器出错，请退出稍后重试"})})).catch((function(e){console.log(e)}))}return new Promise((function(e){return e()}))}}})),window.define("428",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=a.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,i,n,o,r,s,c="",l=0;for(e=P._utf8_encode(e);l<e.length;)n=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(a=e.charCodeAt(l++))>>4,r=(15&a)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(a)?r=s=64:isNaN(i)&&(s=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(s);return c},decode:function(e){var t,a,i,n,o,r,s="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(n=this._keyStr.indexOf(e.charAt(c++)))>>4,a=(15&n)<<4|(o=this._keyStr.indexOf(e.charAt(c++)))>>2,i=(3&o)<<6|(r=this._keyStr.indexOf(e.charAt(c++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(a)),64!=r&&(s+=String.fromCharCode(i));return s=P._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",a=0,i=0,n=0,o=0;a<e.length;)(i=e.charCodeAt(a))<128?(t+=String.fromCharCode(i),a++):i>191&&i<224?(n=e.charCodeAt(a+1),t+=String.fromCharCode((31&i)<<6|63&n),a+=2):(n=e.charCodeAt(a+1),o=e.charCodeAt(a+2),t+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&o),a+=3);return t}}})),window.define("431",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=e(132),D=(e(264),e(57),e(427)),C=e(154);function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=o();Page({data:{isHome:!1,topHeight:72,pageList:[],dataReady:!1,page:0,num:100,hasMore:!1,start:0,isIpx:!1,loginTask:"",loginUrl:"/pages/login/index",screenHeight:"",isEmpty:!1,pageReady:!1,scrollHeight:"",canSelected:!1,bottomBtnBarShow:!0,isSelectedAll:!1,count:0,selectedList:[],allList:[],shorturl:"",dir:"",listTitle:"",pageRootFilesNum:0,fidList:[],popupIsShow:!1,isShowAudioPreview:!1,isShowPlayer:!1,prevPageType:"",pageType:"outsiteChainFileList",mySourceUrl:"/pages/home/index?path=/我的资源",memberType:"",tiebaSharing:!1,isShowBottom:!0,feedTop:"200rpx",sameUk:!1,showReport:!1,hasdir:!1,thirdParty:""},hasChecked:!1,onLoad:function(e){this.dealOpt(e),this.initPageInfo(),this.initData()},onShow:function(){n.setPageInfo({title:"百度网盘分享",keywords:"百度网盘"}),I.globalData.playingAudioInfo.isPlay&&this.setData({isShowPlayer:!0}),this.setData({popupIsShow:!I.globalData.closePop})},onReady:function(){this.showDialog=this.selectComponent("#showDialog"),this.reportDialog=this.selectComponent("#reportDialog"),this.toast=this.selectComponent("#toasts"),this.selectBar=this.selectComponent("#selectBar")},onHide:function(){},onUnload:function(){n.sptoasthide(),this.setData({showReport:!1})},dealOpt:function(e){e.pageType&&(this.data.pageType!==e.pageType&&n.log.page.pageValue.send({from:this.data.pageType}),this.setData({prevPageType:e.pageType}),I.globalData.currentPageType=this.data.pageType,I.globalData.processPage=this.data.prevPageType),e.path&&(e.path=decodeURIComponent(e.path)||""),this.setData({thirdParty:e.thirdParty,shorturl:e.s,dir:e.path||""}),this.initUrl()},initUrl:function(){this.setData({mySourceUrl:"/pages/home/index?path=/我的资源&pageType="+I.globalData.currentPageType})},initUserInfo:function(){this.setData({sameUk:I.globalData.shareInfo.sameUser})},initPageInfo:function(){this.setData({isHome:!this.data.dir}),I.globalData.systemInfo||(0,P.systemInfoSync)(),this.setData({topHeight:I.globalData.totalHeight,isIpx:I.globalData.isIpx,screenHeight:I.globalData.systemInfo.screenHeight-I.globalData.totalHeight})},initData:function(){this.getFileListFromApi()},checkEmpty:function(e){this.hasChecked||(this.hasChecked=!0,this.setData({isEmpty:!(e&&e.length>0)}))},checkHasDir:function(e){var t=[];e.find((function(e){Number(e.isdir)&&t.push(e)})),this.setData({hasdir:t.length>0})},getFileListFromApi:function(e){var t=this;e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefresh.send();var a={shareid:I.globalData.shareInfo.shareId,uk:I.globalData.shareInfo.uk,page:this.data.page,dir:this.data.dir,num:this.data.num};(0,S.getShareList)(a).then((function(a){switch(n.sptoasthide(),a.errno){case 0:if(t.checkEmpty(a.list),t.data.prevPageType!==t.data.pageType?t.checkHasDir(a.list):t.setData({hasdir:!1}),t.data.isEmpty)return void t.setData({pageReady:!0});if(t.data.isHome){if((0,C.setRootFsIdToGlobal)(a.list),t.setData({pageRootFilesNum:I.globalData.shareInfo.rootFilesNum}),a.list.length>20){var i=t.data.page*t.data.num,o=0;o=a.list.length-(t.data.page+1)*t.data.num>=0?(t.data.page+1)*t.data.num:a.list.length,t.setData("pageList["+t.data.page+"]",a.list.slice(i,o)),t.setData({page:++t.data.page,hasMore:o-i===t.data.num,pageReady:!0}),a.list=a.list.slice(i,o)}else t.setData("pageList["+t.data.page+"]",a.list),t.setData({page:++t.data.page,hasMore:!1,pageReady:!0});(0,D.initAudioList)(a)}else{if(t.data.listTitle&&t.data.listTitle===a.list)return n.sptoast({title:"没有更多了"}),void t.setData({hasMore:!1});t.setData("pageList["+t.data.page+"]",a.list),0===t.data.page&&(t.data.page+=1),t.setData({listTitle:a.title,page:++t.data.page,hasMore:a.list.length===t.data.num,pageReady:!0}),(0,D.initAudioList)(a)}t.initAllList(),e&&"update"===e&&t.updateSelectAll();break;case-9:e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefreshFail.send(),n.sptoast({type:" info",title:a.errno}),n.redirectTo({url:"/pages/outsite-chain/share-code/index?url=https://pan.baidu.com/s/"+I.globalData.shorturl});break;default:e&&"update"===e&&n.log.outsiteChainFileList.shareInfoPagePullUpRefreshFail.send(),n.sptoast({type:" info",title:a.errno})}})).catch((function(e){console&&console.log("err:",e)}))},initAllList:function(){var e=[];this.data.pageList.map((function(t,a){e=e.concat(t)})),this.setData({allList:e})},lower:function(){this.data.hasMore&&(this.setData({hasMore:!1}),n.sptoast({type:"loading",title:"数据加载中"}),this.getFileListFromApi("update"))},tapOtherFile:function(e){},tapFolder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data;e.fileInfo,e.pageNum,e.index},tapVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},tapAudio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.setfilelistStorage(t,a,i)},setAudioList:function(){var e=[];this.data.pageList.map((function(t,a){e=e.concat(t)})),e.map((function(e,t){2===e.category&&e.size<52428800&&I.globalData.ownAudioList.push(e)}))},setfilelistStorage:function(e,t,a){n.setStorageSync("fileList",{list:this.data.pageList,fileInfo:e,pageNum:t,index:a,currentFsId:e.fs_id})},itemlongpress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.startSave(),this.selectItem({fileInfo:t,pageNum:a,index:i})},startSave:function(){I.globalData.saveList=[],I.globalData.shareSelectList=[],this.setData({canSelected:!0,bottomBtnBarShow:!0,isSelectedAll:!1}),n.log.save.selectshow.send()},goback:function(){var e=this;n.log.save.selectcancel.send(),0!==this.data.pageList.length&&(this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(T({},n,!1))}}))})),this.setData({count:0,isSelectedAll:!1,canSelected:!1,selectedList:[]}),this.initGlobalSelectList())},initGlobalSelectList:function(){I.globalData.selectList=this.data.selectedList},selectItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.fileInfo,a=e.pageNum,i=e.index;this.popupclose();var n="pageList["+a+"]["+i+"].selected";this.setData(T({},n,!t.selected));var o=[];this.data.pageList.map((function(e,t){e.map((function(e,t){e.selected&&o.push(e)}))})),this.setData({count:o.length,selectedList:o,isSelectedAll:this.data.allList.length===o.length}),this.updateSelectBar(),this.initGlobalSelectList()},selectedAll:function(){var e=this;if(!I.globalData.closePop&&this.popupclose(),this.data.isSelectedAll)this.data.pageList.map((function(t,a){t.map((function(t,i){if(t.selected){var n="pageList["+a+"]["+i+"].selected";e.setData(T({},n,!1))}}))})),this.setData({count:0,selectedList:[],isSelectedAll:!1});else{var t=[];this.data.pageList.map((function(a,i){a.map((function(a,n){if(t.push(a),!a.selected){var o="pageList["+i+"]["+n+"].selected";e.setData(T({},o,!0))}}))})),this.setData({count:t.length,selectedList:t,isSelectedAll:!0}),n.log.save.selectallshow.send()}this.updateSelectBar(),this.initGlobalSelectList()},updateSelectBar:function(){this.selectBar.updateCount({count:this.data.count,selectedList:this.data.selectedList,isSelectedAll:this.data.isSelectedAll})},updateSelectAll:function(){this.data.isSelectedAll&&(this.setData({isSelectedAll:!1}),this.selectedAll())},popupopen:function(){I.globalData.closePop=!1,this.setData({popupIsShow:!I.globalData.closePop})},popupclose:function(){I.globalData.closePop=!0,this.setData({popupIsShow:!I.globalData.closePop})},closePlayer:function(){this.setData({isShowPlayer:!1})},showAudioPreview:function(e){this.setData({isShowAudioPreview:e.showBox})},openwebview:function(e){var t=e.detail.url,a=e.detail.title;n.navigateTo({url:"/pages/webview/webview?url="+t+"&title="+encodeURIComponent(a)})},outsideCallNative:function(){this.data.tiebaSharing||(this.setData({tiebaSharing:!0}),n.setClipboardData({data:I.globalData.shareInfo.sharelinkCommand,success:function(e){},fail:function(e){}}),this.setData({tiebaSharing:!1}))},handleFeedClose:function(){isShowActivity(!0,"lastShowFeedActivityDate"),this.setData({closeFeedActivities:!0})}})})),window.define("434",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=e(132),C=e(14),T=e(45),I=e(8),E=e(8),x=e(138),A=e(143),L=(e(435),e(17)),B=e(20),F=e(140),N=e(155),O=r();Page({data:{needExtCode:!1,shareInfo:{},outsiteChain:"/pages/outsite-chain/file-list/file-list?s=",thirdOutSiteChain:"/pages/outsite-chain/third-file-list/file-list?s=",errorPage:"/pages/error/index?code=",pageReady:!1,showBack:!1,topHeight:72,prevPageType:"",pageType:"outsiteChainShareCode",errStatus:!1,errorCode:"",thirdParty:"",shareUk:"",memberType:"",memberLevel:"",svip10Id:0,limitShare:!1,view_limit:"",view_visited:"",limitError:!1,limitErrorTxt:"",expiredType:0,hitriskInfo:{hitrisk:!1,hitriskTxt:"",appealStatusTxt:"",canClickAppealBtn:!1},sourceFrom:"",schema:"",showOpenAppBtn:!1},timeout:"",canCount:!0,onLoad:function(e){e.from&&o.log.from.NA.send({from:e.from}),(0,E.saveDataToGlobalData)("from",e.from),o.log.page.pageValue.send({from:this.data.pageType}),o.log.page.outsiteChainShareCode.send(),o.log.autoSaveAndExtract.extcodePageDisplay.send(),e.source&&["spnative","zhidao_spmini","tieba_spmini"].includes(e.source)&&o.log.outsiteChainShareCode.thirdShareExtractShow.send(),(0,A.reportUser)(),this.initOpt(e),this.initPageInfo(),this.getOpenAppStatus(e),O.globalData.shareInfo.isSaved=!1},onShow:function(){this.setPageInfo(),this.fillPwd()},onReady:function(){this.toast=this.selectComponent("#toasts"),this.error=this.selectComponent("#error"),this.shareForm=this.selectComponent("#shareForm"),this.data.errorCode?this.toError(this.data.errorCode):this.postUrl()},onUnload:function(){this.canCount=!1,clearTimeout(this.timeout),o.sptoasthide(),"enterprise"===O.globalData.shareInfo.shortUrlType&&o.log.outsiteChainShareCode.elinkExtractShow.send()},onShareAppMessage:function(){o.log.header.systemShare.send()},initPageInfo:function(){O.globalData.systemInfo||(0,E.systemInfoSync)(),this.setData({topHeight:O.globalData.totalHeight})},fillPwd:function(){var e=O.globalData;e.pwdcode&&this.shareForm&&this.shareForm.fillInStatusData({extCode:e.pwdcode,extPass:!0})},initOpt:function(e){var t=O.globalData;e.pageType&&this.setData({prevPageType:e.pageType}),t.currentPageType=this.data.pageType;var a=e.pwdcode,i=void 0===a?"":a,n=e.action,r=void 0===n?"":n,s=e.url;if(t.viewAction=r,t.isCooperate=["zhidao_spmini","tieba_spmini"].includes(e.source),s){i=i.replace(/\s+/g,""),s=(s=decodeURIComponent(s)).replace(/\s+/g,"");var c=(0,N.getShareDataFromUrl)(s),l=(0,T.getThirdUrl)(s);if(l){var p=l.from,u=l.surl;return t.pwdcode=i,t.shorturl=u,void this.setData({thirdParty:p})}if(c){var d=c,h=d.shorturl,g=d.uk,f=d.shareid;return t.pwdcode=i,t.shorturl=h,c={uk:g,shareid:f},void(t.shareIdAndUkInfo=c)}o.log.invalid.invalid5003.send(),this.setData({errorCode:5003})}else o.log.invalid.invalid5002.send(),this.setData({errorCode:5002})},postUrl:function(){this.fillPwd(),this.shareForm.fillInStatusData({schema:this.data.schema,showOpenAppBtn:this.data.showOpenAppBtn}),o.sptoast({type:"loading",title:"正在加载..."}),this.shorUrl()},checkPwdCode:function(e){O.globalData.pwdcode&&(this.shareForm.fillInStatusData({infoLoading:!0,needLoading:!0}),this.shareForm.startSubmit())},getOpenAppStatus:function(e){O.globalData;var t=(0,I.makeSchema)("HUO_DONG",{behavior:"app_open",isSaved:"no",hasPanCode:"no"});e.source&&["zhidao_spmini","tieba_spmini"].includes(e.source)&&("zhidao_spmini"===e.source&&(t+="&logargs="+JSON.stringify({launch_ch:"1027327h",down_ch:"1027327i"}),o.log.outsiteChainShareCode.shareCodePagePlanA.send()),"tieba_spmini"===e.source&&o.log.outsiteChainShareCode.shareCodePagePlanATieba.send(),this.setData({schema:t,showOpenAppBtn:!0}),void 0!==this.shareForm&&this.shareForm.fillInStatusData({schema:t,showOpenAppBtn:!0,fromSource:e.source}))},handleSendPlanB:function(){o.log.outsiteChainShareCode.shareCodePagePlanB.send(),void 0!==this.shareForm&&this.shareForm.fillInStatusData({hasHWiseSids:!0})},shorUrl:function(){var e=this,t=this,a=O.globalData,i=a.shorturl,n=a.shareIdAndUkInfo,r=n||{},s=r.shareid,c=r.uk,l=(0,N.getShareListParams)(s,c,i),p=Object.assign({},l,{certuser:1});this.data.thirdParty&&(o.log.outsiteChainShareCode.thirdShareShow.send({from:this.data.thirdParty}),p.linksource=this.data.thirdParty,p.csign=(0,L.md5)(""+p.shorturl+o.ENV.CONF.thirdPartyMap[p.linksource].secret)),Promise.all([(0,D.getShorturlinfo)(p),(0,D.getShareList)(l)]).then((function(i){var r=S(i,2),s=r[0],c=r[1],l=c.vip_level,p=c.vip_type,u=c.svip10_id,d=c.hitrisk,h=c.appeal_status,g=c.errno;if(o.sptoasthide(),e.setData({shareUk:s.uk,memberType:p||s.vipType,memberLevel:l||s.vipLevel,svip10Id:u||0,limitShare:4===s.sharetype,view_limit:s.view_limit,view_visited:s.view_visited,expiredType:s.expiredType}),O.globalData.limitShare=4===s.sharetype,O.globalData.shareInfo.shortUrlType=s.shortUrlType,l<1||l>8?o.log.userMemberInfo.getLevelError.send({memberType:p,memberLevel:l,svip10Id:u,type:"share_code_get_member_error"}):o.log.userMemberInfo.getLevelSuccess.send({type:"share_code_get_member_success"}),123===g)return e.setData({limitError:!0,pageReady:!0,errStatus:!0,limitErrorTxt:"该链接已超过访问人数上限\n可联系分享者重新分享"}),o.log.limitShare.limitShowError.send(),void e.setErrorInfo(s);if(4===s.sharetype&&o.log.limitShare.limitShowTotal.send(),2===p&&o.log.outsiteChainShareCode.vipExtractPageShow.send(),!s.hasError){t.getUserCertInfo(s),t.shareInfo(s);var f=O.globalData.loginInfo.uk===s.uk;if(1===Number(d)&&f)return void t.getHitristInfo(s,d,h)}if(e.error.checkErrorStatus(g)){var m=s.share_username,v=s.share_photo,y=s.cert_user,w=(0,F.getUserCertInfo)(y);return m&&v&&!w.isCertUser&&(e.setData({pageReady:!0}),e.shareInfo(s),o.newLog.error.showShareUserInfo.send()),e.setData({sourceFrom:"error"}),void e.setErrorInfo({errno:g})}e.setData({sourceFrom:"shareCode"});var b=s.third,_=s.randsk,k=s.sharelink_command,P=s.pwd,D=s.uk,C=s.shareId,T=s.shorturl;switch(n=Object.assign({},n,{third:b,uk:D,shareid:C}),a.shareIdAndUkInfo=n,s.errno){case-9:e.setData({pageReady:!0}),t.shareInfo(s),e.timeFun(s),t.setData({needExtCode:!0});break;case 0:e.setData({pageReady:!0,needExtCode:!0}),_&&""!==_&&t.setRandsk(s),k?(a.shareInfo.sharelinkCommand=k,a.shareInfo.pwd=P,a.shareInfo.shorturl=T,a.shareInfo.expiredType=s.expiredType,a.shareInfo.ctime=s.ctime):o.sptoast({type:"info",title:"没有获取到短链"});var I=(0,N.getShareDataFromUrl)(T).shorturl;a.shorturl=I,t.shareInfo(s),o.log.outsiteChainShareCode.noShareCodePage.send(),e.shareForm.dealShareInfo(s);break;default:e.setErrorInfo(s)}}))},setRandsk:function(e){o.setStorageSync("randsk",e.randsk)},getUserCertInfo:function(e){var t=this,a=O.globalData.shareInfo;(0,C.getVipInfo)({user_list:"["+e.uk+"]"}).then((function(e){if(!e.hasError&&0===e.errno){var i=e.records[0]&&e.records[0].certuser_data,n=(0,F.getUserCertInfo)(i);a.isCertUser=n.isCertUser,a.abbrName=n.abbrName,a.certInfo=n.certInfo,t.setData({shareInfo:a}),n.isCertUser&&o.log.certification.shareExtractPageCertIcon.send({type:"sp_share_extract_page_cert_icon_display",value:"认证标识展示-文件分享页-提取码页"})}}))},getHitristInfo:function(e,t,a){if((0,B.checkAppLogin)(),O.globalData.isAppLogin){var i=O.globalData.vipInfo.certuser_data,n=(0,F.getUserCertInfo)(i),r=(0,x.getAppealStatus)(a,n.isCertUser),s=r.appealStatusTxt,c=r.canClickAppealBtn;this.setData({hitriskInfo:{hitrisk:!0,hitriskTxt:"分享链接中有违规或违法内容，无法继续查看",appealStatusTxt:s,canClickAppealBtn:c}}),n.isCertUser?o.log.certification.appealButton.send({type:"sp_appeal_btn_cert_display",value:"申诉按钮展示-企业用户"}):(o.log.certification.shareErrPageCertEntrance.send({type:"sp_share_error_page_cert_entrance_display",value:"认证入口展示-申诉页"}),o.log.certification.appealButton.send({type:"sp_appeal_btn_display",value:"申诉按钮展示-非企业用户"})),this.toError(e.errno)}},makeAppealResult:function(e){var t=e.appealStatusTxt,a=e.canClickAppealBtn,i=this.data.hitriskInfo;this.setData({hitriskInfo:Object.assign({},i,{appealStatusTxt:t,canClickAppealBtn:a})})},shareInfo:function(e){var t=this,a=O.globalData.shareInfo;a.shareUserPhoto=e.share_photo,a.shareUserName=e.share_username,a.uk=e.uk,a.shareId=e.shareId,a.expireDays=e.expireDays,this.setData({shareInfo:a},(function(){t.setPageInfo()}))},setErrorInfo:function(e){var t=O.globalData.shareInfo;t.uk=e.uk,t.shareId=e.shareId,this.toError(e.errno)},setfilelistStorage:function(e){o.setStorageSync("fileList",{list:e,fileInfo:e[0],pageNum:0,index:0,currentFsId:e[0].fs_id})},toError:function(e){this.setData({errStatus:!0,code:e,pageType:this.data.pageType}),this.error.initPageInfo(e)},timeFun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:data,t=e.expiretimestamp,a=void 0===t?"":t;a&&this.startCountTime(a),a&&(O.globalData.hasDeadTime=!0)},startCountTime:function(e){var t=this;this.shareForm.dealTime(e);var a=(e*=1e3)-(new Date).getTime();a>0&&a<864e5&&this.canCount?(e/=1e3,this.timeout||o.log.outsiteChainShareCode.deadTimeShow.send({from:"hour"}),this.timeout=n((function(){t.startCountTime(e)}),1e3)):a>864e5&&(this.timeout||o.log.outsiteChainShareCode.deadTimeShow.send({from:"day"}))},setPageInfo:function(){var e=this.data.shareInfo.shareUserName,t="百度网盘分享";e&&(t="提取码页面，来自"+e+"的百度网盘分享"),o.setPageInfo({title:t,keywords:"百度网盘"})}})})),window.define("435",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=o();a.getOpenAppStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return new Promise((function(a,i){n.request({url:"https://ug.baidu.com/mcp/wise/netdisk",data:JSON.stringify({baiduid:n.getStorageSync("BAIDUID"),invoke_info:t}),method:"POST",success:a,fail:i,complete:function(e){P.globalData.isOffLine=!(!e.errMsg||!e.errMsg.includes("request:fail"))},dataType:"json",header:{Cookie:"H_WISE_SIDS="+e}})})).then((function(e){return e.data}))}})),window.define("438",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Page({data:{src:"",errMsg:""},onLoad:function(e){var t=decodeURIComponent(e.src),a=e.title;this.setData({src:t}),n.setNavigationBarTitle({title:a||""})},handleError:function(e){console.log(e)},handleLoad:function(){}})})),window.define("441",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Page({data:{showHome:!1,showBack:!1,titleText:"百度网盘",topHeight:72,isIpx:!1,pageType:"download"},onLoad:function(e){e.pageType&&this.setData({prevPageType:e.pageType}),this.initPageInfo()},onShow:function(){n.setPageInfo({title:"百度网盘下载页面",keywords:"百度网盘",image:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_home_logo.png"})},onReady:function(){this.toast=this.selectComponent("#toasts")},onHide:function(){},onShareAppMessage:function(){},initPageInfo:function(){S.globalData.systemInfo||(0,P.systemInfoSync)();var e=(0,P.makeSchema)("HUO_DONG",{behavior:"app_open",isSaved:"no",hasPanCode:"no"});this.setData({schema:e,topHeight:S.globalData.totalHeight,isIpx:S.globalData.isIpx})},golink:function(e){e.currentTarget.dataset.link&&n.navigateTo({url:"/pages/h5/index?src="+e.currentTarget.dataset.link})},gopage:function(){n.navigateTo({url:"/pages/download-permission/index"})}})})),window.define("444",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";o();Page({data:{titleText:"应用权限",topHeight:72,pageType:"download-permission",listData:[{title:"完全的网络访问权限",desc:"允许该应用创建网络套接字和使用自定义网络协议。浏览器和其他某些应用提供了向互联网发送数据的途径，因此应用无需该权限即可向互联网发送数据"},{title:"查看网络状态",desc:"允许应用程序查看所有网络的状态。例如存在和连接的网络"},{title:"查看WLAN状态",desc:"允许程序访问WLAN网络状态信息"},{title:"更改网络连接",desc:"允许该应用更改网络连接的状态"},{title:"写入外部存储",desc:"允许程序写入外部存储，如SD卡上写文件"},{title:"对正在运行的应用重新排序",desc:"允许应用将任务移动到前台和后台。该应用可能不经您的命令自行执行此操作"},{title:"控制震动",desc:"允许应用控制振动设备"},{title:"修改系统设置",desc:"允许应用程序修改系统的设置数据"},{title:"防止手机休眠",desc:"允许该应用阻止手机进入休眠状态"},{title:"检索当前运行的应用程序",desc:"允许应用检索近期和当前运行的任务信息。此权限可让该应用了解设备上使用了哪些应用"},{title:"开机启动",desc:"允许应用在系统完成引引导后立即自动启动。这样可能会延长手机的启动时间，并允许应用始终运行，从而导致手机总体运行速度减慢。"},{title:"装载和卸载文件",desc:"允许安装和卸载文件系统可移动存储文件"},{title:"读取联系人",desc:"读取联系人  允许应用读取您手机上存储的联系人的相关数据，包括您通过打电话、发送电子邮件或以其他方式与特定个人通信的频率。此权限可让应用保存您的联系人数据，而恶意应用可能会在您不知情的情况下分享联系人数据"},{title:"添加联系人",desc:"允许应用程序修改存储在手机上的联系人的数据，包括您与特定联系人的通话、发送电子邮件"},{title:"读取短信息",desc:"允许程序读取短信息"},{title:"编写短信",desc:"允许应用程序写入存储在手机或SIM卡上的短信息"},{title:"更改WLAN状态",desc:"允许应用程序连接到WLAN接入点以及与WLAN接入点断开连接，并对配置的WLAN网络进行更改"},{title:"访问大致位置信息（基于网络进行定位）",desc:"允许应用根据网络来源（例如基站和 WLAN 网络）获取您的位置信息。您的手机必须支持并开启这些位置信息服务，此应用才能使用这些服务"},{title:"访问精确位置（基于GPS和网络）",desc:"允许应用根据GPS或网络来源（例如基站和WLN网络）获取您的位置信息。您的手机必须支持并开启这些位置信息服务，应用才能使用这些服务。这可能会增加耗电量"},{title:"读取系统日志文件",desc:"允许程序读取底层系统日志文件"},{title:"拍摄照片和视频",desc:"允许访问摄像头进行拍照或录制视频"},{title:"停用屏幕锁定",desc:"允许应用程序禁用密钥锁和任何相关的密码安全性。例如，当接到来电时，手机会禁用钥匙锁，然后在通话结束后重新启用钥匙锁"},{title:"发送持久广播",desc:"允许应用程序发送持久广播，在广播结束后仍然保留。过度使用可能会导致手机使用过多的内存，从而使手机变慢或不稳定"},{title:"闪光灯",desc:"允许访问闪光灯"},{title:"允许接受WLAN多播",desc:"允许应用程序使用多播地址接收发送到WLAN网络上所有设备（而不仅仅是您的手机）的数据包"},{title:"展开/收拢状态栏",desc:"允许应用程序展开或收起状态栏"},{title:"与蓝牙设备配对",desc:"允许该应用查看手机上的蓝牙配置，以及与配对设备建立连接或接受其连接请求"},{title:"接收短信",desc:"允许应用程序接收和处理短信息"},{title:"录音",desc:"允许该应用使用麦克风录制音频"},{title:"缓存清理",desc:"允许一个程序清除缓存从所有安装的程序在设备中"},{title:"结束后台进程",desc:"允许应用结束其他应用的后台进程。此权限可导致其他应用停止运行"},{title:"接收彩信",desc:"允许应用程序接收和处理彩信"},{title:"接收推送信息",desc:"允许应用程序接收和处理WAP消息"},{title:"获取额外的位置信息提供程序命令",desc:"允许该应用程序使用其他位置信息提供程序命令。此权限使该应用可以干扰GPS或其他位置信息源的运作"},{title:"访问蓝牙设置",desc:"允许应用配置本地蓝牙手机，并允许其查找远程设备且与之配对"},{title:"读取手机状态和身份",desc:"允许应用访问设备的电话功能。此权限可让应用确定本机号码和设备ID、是否正处于通话状态以及拨打的号码。"},{title:"更改音频设置",desc:"允许应用程序修改全局音频设置，例如音量和用于输出的扬声器"},{title:"结束后台进程",desc:"允许应用程序结束其他应用程序的后台进程。这可能会导致其他应用程序停止运行"}]},onLoad:function(e){e.pageType&&this.setData({prevPageType:e.pageType})},onShow:function(){n.setPageInfo({title:"百度网盘应用权限页面",keywords:"百度网盘",image:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2Fic_home_logo.png"})},onReady:function(){this.toast=this.selectComponent("#toasts")},onHide:function(){},onShareAppMessage:function(){}})})),window.define("447",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Page({data:{src:""},onLoad:function(e){var t=e.url;this.setData({src:t}),n.log.loadDocFile.graphicPreviewClick.send({"start-time":(new Date).getTime()})}})})),window.define("450",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(20),S=o(),D=S.globalData;Page({data:{height:S.globalData.navHeight,chooseType:"svip",productType:"vip",backurl:"",from:"normal",userVipStatus:"",productId:"",productIdCanBuy:1,productName:"",productPrice:"",productPriceNote:"",showBottomBtnHeight:"",showBottomBtn:!1,loginTask:"",loginUrl:"/pages/login/index?backUrl=/payment/pay/pages/cashierDesk/index",isShowPage:!0},setUk:function(){var e=this;(0,P.getUserInfo)().then((function(t){0===t.errno&&(S.globalData.loginInfo=t.login_info,e.userLoginInfo.initUserData(),e.vipProductList.initProductInfo())})).catch((function(e){console.log(e)}))},onLoad:function(e){"ios"!==D.systemInfo.platform?this.setData({productType:e.type||"vip",chooseType:e.category||"svip",backurl:e.backurl||"",from:e.from||"normal"}):this.setData({isShowPage:!1})},onReady:function(){var e=this;this.toast=this.selectComponent("#toast"),this.showDialog=this.selectComponent("#showDialog"),this.userLoginInfo=this.selectComponent("#userLoginInfo"),this.vipProductList=this.selectComponent("#vipProductList"),(0,P.checkAppLogin)(),S.globalData.isAppLogin?this.data.loginTask=(0,P.bdLogin)().then((function(t){e.setUk(),n.log.payment.payPageShow.send()})):n.redirectTo({url:this.data.loginUrl}),n.toasthide()},onUnload:function(){D.payScene="nomal"},onShow:function(){var e=this,t=D.payScene,a=D.goCashierFromPrivilegePage||"",i="";(t.indexOf("svip")>-1&&a?(i="svip",D.goCashierFromPrivilegePage=!1,this.setData({chooseType:i})):t.indexOf("vip")>-1&&a&&(i="vip",D.goCashierFromPrivilegePage=!1,this.setData({chooseType:i})),this.data.showBottomBtnHeight)||n.createSelectorQuery().select("#cut-line").boundingClientRect((function(t){var a=t.bottom+60;e.setData({showBottomBtnHeight:a})})).exec()},scrollEvent:function(e){var t=e.detail&&e.detail.scrollTop;t>this.data.showBottomBtnHeight&&!this.data.showBottomBtn?this.setData({showBottomBtn:!0}):t<this.data.showBottomBtnHeight&&this.data.showBottomBtn&&this.setData({showBottomBtn:!1})},onChangeTab:function(e){var t=e.detail&&e.detail.type;this.setData({chooseType:t})},updateUserVipStatus:function(e){this.setData({userVipStatus:e.detail&&e.detail.userVipStatus})},goProtocol:function(){n.navigateTo({url:"/payment/pay/pages/protocolOfPayment/index"})},changeProduct:function(e){var t=e.detail&&e.detail.productId,a=e.detail&&e.detail.productIdCanBuy,i=e.detail&&e.detail.productPrice,n=e.detail&&e.detail.productName,o=e.detail&&e.detail.productPriceNote;this.setData({productId:t,productIdCanBuy:a,productName:n,productPrice:i,productPriceNote:o})},payCallback:function(e){var t=e.detail&&e.detail.payStatus,a="/payment/pay/pages/payResult/index?backurl="+encodeURIComponent(this.data.backurl||"/payment/pay/pages/cashierDesk/index?type=vip&category=svip");if(t){var i=e.detail&&e.detail.payInfo;a+="&type="+this.data.productType+"&price="+i.price+"&product_name="+i.product_name+"&end_time="+i.end_time+"&username="+S.globalData.payUserInfo.username}n.redirectTo({url:a})}})})),window.define("453",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o().globalData;Page({data:{height:P.navHeight,getResultSuc:!1,type:"",price:"",productName:"",endTime:"",backurl:"",username:""},onReady:function(){},onLoad:function(e){if(e.hasOwnProperty("price")&&e.hasOwnProperty("product_name")){var t=this.formatDate(1e3*e.end_time);this.setData({backurl:e.backurl,getResultSuc:!0,type:e.type,price:parseFloat(e.price/100,10),productName:e.product_name,endTime:t,username:e.username})}else this.setData({backurl:e.backurl})},onUnload:function(){P.payScene="nomal"},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},goBack:function(){var e=decodeURIComponent(this.data.backurl);n.reLaunch({url:/^\//.test(e)?e:"/"+e})}})})),window.define("456",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Page({data:{height:P.globalData.navHeight,identity:"normal",type:"svip"},onReady:function(){n.setNavigationBarColor&&n.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#ffffff"}),n.log.send({type:"swan_pay_privilege_show",value:"会员中心-特权页-展示"})},onLoad:function(e){Object.keys(e).length>0&&this.setData({identity:e.userVipStatus,type:e.chooseType})},goBack:function(){var e=decodeURIComponent(this.data.backurl);n.reLaunch({url:/^\//.test(e)?e:"/"+e})},onChangeTab:function(e){var t=e.detail&&e.detail.type;this.setData({type:t})},clickPrivilegeButton:function(){P.globalData.payScene="privilege_"+this.data.type,P.globalData.goCashierFromPrivilegePage=!0,n.log.send({type:"swan_pay_privilege_gobuy_"+this.data.type+"_click",value:"会员中心-特权页-购买按钮-会员类型-点击"}),n.navigateBack()}})})),window.define("459",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=o();Page({data:{systemInfo:{},height:0},onReady:function(){},onLoad:function(){this.setData({systemInfo:P.globalData.systemInfo,height:P.globalData.navHeight})},goHistoryPage:function(){n.navigateTo({url:"/payment/pay/pages/historyProtocol/index"})}})})),window.define("462",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Page({data:{},onInit:function(){},onLoad:function(){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},onError:function(){}})})),window.define("465",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(7),S=o(),D=(0,P.swanApiToPromise)("chooseImage"),C=(0,P.swanApiToPromise)("getFileInfo"),T=(0,P.swanApiToPromise)("compressImage");Page({data:{topHeight:0,isIpx:!1,screenHeight:0,flash:"off",flashOffIcon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-flash-off.png",flashOnIcon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-flash-on.png",bottomOperateHeight:188,photoAlbumIcon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-photo-album.png"},onInit:function(){},onLoad:function(){this.initPageInfo()},onReady:function(){},initPageInfo:function(){this.setData({topHeight:S.globalData.totalHeight,isIpx:S.globalData.isIpx,screenHeight:S.globalData.systemInfo.screenHeight-S.globalData.totalHeight})},onCameraStop:function(){},onCameraError:function(){},takePhoto:function(){var e=this;n.createCameraContext().takePhoto({quality:"high",success:function(t){e.navigateToEditPage([t.tempImagePath])},fail:function(e){n.showToast({duration:3e3,title:"拍照失败",icon:"none",mask:!1})}})},getImageForPhotoAlbum:function(){var e=this;D({count:1,sizeType:["original"],sourceType:["album"]}).then((function(t){e.navigateToEditPage(t.tempFilePaths)})).catch((function(e){n.showToast({duration:3e3,title:"打开相册选择照片失败",icon:"none",mask:!1})}))},getFileInfo:function(e){return new Promise((function(t,a){T({src:e,qualiy:80}).then((function(e){return e.tempFilePath})).catch((function(){return e})).then((function(e){C({filePath:e}).then((function(i){i.size<10485760?t(e):a(e)})).catch((function(){t(e)}))}))}))},navigateToEditPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0];this.getFileInfo(t).then((function(e){n.redirectTo({url:"/pages/image-process/index?type=3006&images="+e,success:function(){},fail:function(){}})})).catch((function(){n.showToast({title:"",icon:"none"})}))},handleCheckFlash:function(){this.setData({flash:"off"===this.data.flash?"on":"off"})}})})),window.define("468",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=e(469),D=e(407),C=e(13);function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=[{image:"https://internal-amis-res.cdn.bcebos.com/images/Mask%2520Groupic-filter-original.png",name:"原图",op_id:0},{image:"https://internal-amis-res.cdn.bcebos.com/images/%E5%A2%9E%E5%BC%BA%E9%94%90%E5%8C%96ic-filter-sharpen.png",name:"锐化增强",op_id:3103},{image:"https://internal-amis-res.cdn.bcebos.com/images/%E9%87%8D%E6%8B%8Dic-filter-BW.png",name:"黑白",op_id:3107},{image:"https://internal-amis-res.cdn.bcebos.com/images/%E5%8E%BB%E9%98%B4%E5%BD%B1ic-filter-go-shadow.png",name:"去阴影",op_id:3101}],E=o();Page({data:{topHeight:0,isIpx:!1,screenHeight:0,filterList:I,bottomOperateHeight:189,imageList:[],currentImageIndex:0,pageName:"image-process",processStatus:"success",processDone:0,errorMsg:"",PROCESSING_ICON:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-img-progress_v2.gif",PROCESS_ERROR_ICON:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-img-progress-error.png",currentIndex:0},handleRetryCallbackMap:{},onInit:function(){},onLoad:function(e){this.initPageInfo(),this.initDataNew(e)},onShow:function(){E.globalData.autoChooseImage=!1,this.pageParams&&"scanIntroduce"===this.pageParams.from&&n.newLog.documentScanEidtPage.showScanIntroduce.send(),n.newLog.documentScanEidtPage.show.send()},onReady:function(){this.showDocumentScanPicker=this.selectComponent("#showDocumentScanPicker")},initPageInfo:function(){this.setData({topHeight:E.globalData.totalHeight,isIpx:E.globalData.isIpx,screenHeight:E.globalData.systemInfo.screenHeight-E.globalData.totalHeight})},initDataNew:function(e){var t=this;this.pageParams=e;var a="";try{a=D.globalCache.get(e.paramsId),void 0!==e.params&&JSON.parse(e.params)}catch(e){console.log(e)}this.setData({imageList:a.map((function(t){var a="pengding",i=0;return"3005"===e.type&&!1===t.change&&(a="success",i=t.currentOpId),Object.assign({},t,{base64Id:t.base64Id||"",points:t.points||[],currentOpId:i,processStatus:a,imageUrl:t.path,errorMsg:""})}))}),a.forEach((function(a,i){"3005"===e.type&&!1===a.change||t.imageInitInfo(a,i,e)}))},handleToggleImage:function(e){var t=e.detail.currentIndex;this.setData({currentIndex:t})},imageInitInfo:function(e,t,a){var i=this;return(0,D.localImageToBase64)(e.path).then((function(o){Promise.resolve();return("3005"===a.type?Promise.all([i.getFilterList(),i.customClipWrap(o,{points:e.points,orientation:e.orientation})]):Promise.all([i.getFilterList(),i.getDocWrap(o)])).then((function(n){var o,r=P(n,2),s=r[0],c=void 0===s?[]:s,l=r[1],p=e.points||[];"3006"===a.type&&(p=l.points);var u=l.image,d=D.globalCache.add(u);D.globalCache.set(d+"_0",u),i.setData((T(o={},"imageList["+t+"].imageUrl",(0,D.base64ToImageUrl)(u)),T(o,"imageList["+t+"].processStatus","success"),T(o,"imageList["+t+"].base64Id",d),T(o,"imageList["+t+"].points",p),T(o,"filterList",c),o)),"pengding"===i.data.processStatus&&(i.setData({processDone:i.data.processDone+1}),i.data.processDone===i.data.imageList.length&&i.hanlderNextNew())})).catch((function(o){var r;if(30004===o)return n.newLog.documentScanCutPage.showFail.send(),n.showToast({title:"手动调整的坐标不规范，无法裁剪",icon:"none"}),void i.setData(T({},"imageList["+t+"].processStatus","success"));i.setData((T(r={},"imageList["+t+"].processStatus","error"),T(r,"imageList["+t+"].errorMsg","图片处理失败，点击重试"),r)),i.handleRetryCallbackMap[t]=i.imageInitInfo.bind(i,e,t,a)}))}))},aiSyncProgress:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise((function(i,n){(0,S.aiSync)({op_ids:JSON.stringify(t),image:e,feature_proccess:JSON.stringify(a)}).then((function(e){0===e.errno?i(e.data):n(e.errno)}))}))},customClipWrap:function(e,t){return this.aiSyncProgress(e,[3005],t)},getFilterList:function(){return I.length>0?Promise.resolve(I):(0,S.getFilterList)().then((function(e){if(0===e.errno)return I=e.data,e.data;n.showToast({title:"获取配置接口异常: "+e.errno,icon:"none"})})).catch((function(){n.showToast({title:"获取配置接口异常",icon:"none"})}))},getDocWrap:function(e){return this.aiSyncProgress(e,[3006])},handleReTakePhoto:function(){var e="/pages/mobile-camera/mobile-camera?multiple=true&count=20";e+="&targetPage="+encodeURIComponent("/pages/image-process/index?type=3006&from=scanIntroduce"),n.navigateTo({url:e}),n.newLog.documentScanEidtPage.retake.send()},handleClipImage:function(){n.newLog.documentScanEidtPage.cut.send();var e=this.data,t=e.imageList,a=e.currentIndex,i=D.globalCache.add(t.map((function(e){return Object.assign({},e,{change:!1})})));n.navigateTo({url:"/pages/image-clip/index?currentIndex="+a+"&paramsId="+i+"&from="+this.pageParams.from,success:function(){},fail:function(){}})},handleImageError:function(e){},handleImageLoad:function(){},hanlderNextNew:function(){var e=this;(0,C.setVipAndWorkInfo)(!0).then((function(t){n.newLog.documentScanEidtPage.clkNext.send({ext:{user_type:t.type,pic_number:e.data.imageList.length}})}));var t=this.data,a=t.imageList,i=t.currentIndex,o=a.filter((function(e){return"success"===e.processStatus}));o.length<a.length?this.setData(T({processStatus:"pengding",processDone:o.length},"imageList["+i+"].processStatus","success")):(this.setData({processStatus:"success",processDone:o.length}),n.navigateTo({url:"/pages/document-scan-result/index?images="+encodeURIComponent(JSON.stringify(this.data.imageList))+"&from="+this.pageParams.from,success:function(){},fail:function(){}}))},handleFilterShow:function(e){var t,a=this,i=e.currentTarget.dataset.opid,o=this.data.currentIndex,r=this.data.imageList[o],s=r.base64Id+"_"+i,c=D.globalCache.get(s);if(""===c||void 0===c){n.newLog.documentScanEidtPage.filterClick.send({ext:{lvjing_type:i}}),n.newLog.documentScanEidtPage.showLoading.send(),this.setData((T(t={},"imageList["+o+"].currentOpId",i),T(t,"imageList["+o+"].processStatus","pengding"),t));var l=D.globalCache.get(r.base64Id);this.aiSyncProgress(l,[i]).then((function(e){if(a.data.imageList[o].currentOpId===i){var t,n=(0,D.base64ToImageUrl)(e.image);a.setData((T(t={},"imageList["+o+"].imageUrl",n),T(t,"imageList["+o+"].processStatus","success"),t))}D.globalCache.set(s,e.image),"pengding"===a.data.processStatus&&(a.setData({processDone:a.data.processDone+1}),a.data.processDone===a.data.imageList.length&&a.hanlderNextNew())})).catch((function(t){var i;a.setData((T(i={},"imageList["+o+"].processStatus","error"),T(i,"errorMsg","图片处理失败，点击重试"),i)),a.handleRetryCallbackMap[o]=a.handleFilterShow.bind(a,e)}))}else{var p;this.setData((T(p={},"imageList["+o+"].imageUrl",(0,D.base64ToImageUrl)(c)),T(p,"imageList["+o+"].currentOpId",i),T(p,"imageList["+o+"].processStatus","success"),p))}},reloadImage:function(e){e.detail},handleRetry:function(e){var t=e.target.dataset.index,a=this.handleRetryCallbackMap[t];"function"==typeof a&&(this.setData(T({},"imageList["+t+"].processStatus","pengding")),a())},handleImageTouch:function(e){var t=e.touches[0];this.touch={flag:!0,x:t.pageX}},handleImageMove:function(e){var t=e.touches[0];if(this.touch.flag){var a=t.pageX-this.touch.x,i=this.data,n=i.currentOpId,o=i.filterList,r=o.findIndex((function(e){return e.op_id===n}));if(a>0){if(r===o.length-1)return;r=(r+1)%o.length}else{if(0===r)return;r=(r-1)%o.length}this.touch.flag=!1,this.handleFilterShow({currentTarget:{dataset:{opid:o[r]?o[r].op_id:0}}}),this.touch.x=t.pageX}},handleImageTouchEnd:function(){this.touch.flag=!1}})})),window.define("469",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getPuzzle=a.setPuzzle=a.getConfig=a.mkdir=a.createPicList=a.aiSync=a.getFilterList=void 0;var P=e(16);a.getFilterList=function(){return new Promise((function(e,t){(0,P.bdRequest)({api:"dosp/webconf/list?op_id=3000&op_version=1",method:"POST",clientType:32}).then((function(a){void 0!==a?e(a):t()}))}))},a.aiSync=function(e){var t=Date.now();return new Promise((function(a,i){(0,P.bdRequest)({api:"dosp/webfeature/sync",data:e,method:"POST"}).then((function(o){n.newLog.documentScanPerformance.serverTime.send({ext:{api:"aiSync",op_ids:e.op_ids,startT:t,time:Date.now()-t,errno:o&&o.errno}}),void 0!==o?a(o):i()})).catch((function(e){i(e)}))}))},a.createPicList=function(e){var t=Date.now();return new Promise((function(a,i){(0,P.bdRequest)({api:"api/transcoding/newpiclist",data:e,method:"POST"}).then((function(e){n.newLog.documentScanPerformance.serverTime.send({ext:{api:"newpiclist",startT:t,time:Date.now()-t,errno:e&&e.errno}}),void 0!==e?a(e):i()}))}))},a.mkdir=function(e){return(0,P.bdRequest)({api:"api/create",data:{path:e,isdir:1,block_list:[]},method:"POST"})},a.getConfig=function(){return(0,P.bdRequest)({api:"act/api/conf?conf_key=swan_document_scan_config"})},a.setPuzzle=function(e){return new Promise((function(t,a){(0,P.bdRequest)({api:"dosp/external/setdata",method:"POST",data:e}).then((function(e){void 0!==e?t(e):a()}))}))},a.getPuzzle=function(){return new Promise((function(e,t){(0,P.bdRequest)({api:"dosp/external/getdata?key=pic_puzzle",method:"POST"}).then((function(a){void 0!==a?e(a):t()}))}))}})),window.define("472",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=L(e(473)),D=e(86),C=e(7),T=e(469),I=e(407),E=L(I),x=e(8),A=e(13);function L(e){return e&&e.__esModule?e:{default:e}}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var F=o(),N=(0,C.swanApiToPromise)("getImageInfo"),O=(0,C.swanApiToPromise)("getSystemInfo"),R="devtools"===n.getSystemInfoSync().platform,U=(0,x.checkIsAndroid)(),M={180:3,0:1,90:6,270:8};Page({data:{topHeight:0,isIpx:!1,screenHeight:0,bottomOperateHeight:82,clipImageUrl:"",imageBgWrap:{w:0,h:0,top:0,left:0},canvasWrap:{w:0,h:0,top:0,left:0},textUrl:"",showDocumentScanPicker:!1,showPreviewLoading:!1,pageName:"image-clip",processStatus:"success",currentIndex:0,imageList:[],imagesList:[],isLoading:!1,processDone:0,finishButtonText:"保存",pageText:"文档扫描"},onLoad:function(e){this.pageParams=e,this.pageParams&&"photoToWord"===this.pageParams.from&&this.setData({finishButtonText:"下一步",pageText:"拍图转word"}),this.initPageInfo(),this.initImagesClip(e)},onShow:function(){this.pageParams&&"scanIntroduce"===this.pageParams.from&&n.newLog.documentScanCutPage.showScanIntroduce.send(),n.newLog.documentScanCutPage.show.send()},initPageInfo:function(){this.setData({topHeight:F.globalData.totalHeight,isIpx:F.globalData.isIpx,screenHeight:F.globalData.systemInfo.screenHeight-F.globalData.totalHeight})},initImagesClip:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[];try{a=I.globalCache.get(e.paramsId)}catch(e){}var i=Number(e.currentIndex)||0;this.setData({currentIndex:i,imageList:a.map((function(e){return Object.assign({},e,{rotate:e.rotate||0,orientation:e.orientation||1})}))});var n=this.data.imageList[i];this.initClip(n,t)},handleToggleImage:function(e){var t=this,a=e.detail.currentIndex;this.setData({currentIndex:a},(function(){var e=t.data.imageList[a];t.initClip(e,!1)}))},initClip:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentUrl=e.path,this.hash=e.hash,this.getConfig(e,a).then((function(a){var i=P(a,3),n=i[0],o=i[1],r=i[2],s=t.data,c=s.screenHeight,l=s.bottomOperateHeight,p=(0,D.canvasCtxApi)(t.imageCtx),u=(0,D.canvasCtxApi)(t.operateCtx),d=r.points,h=r.height,g=r.width;t.polygonDraw=new S.default(u,p,{lineWidth:2,lineColor:"#06A7FF",vertexRadius:7,wrap:{width:n.screenWidth-60,height:c-l-68},imageInfo:{width:o.width,height:o.height,url:e.path},rotate:e.rotate});var f=t.polygonDraw.getDOMStyle(),m=P(f,2),v=m[0],y=m[1];t.setData({imageBgWrap:y,canvasWrap:v,showPreviewLoading:!1},(function(){t.polygonDraw.setPoint(d,g,h,e.rotate%180!=0),t.polygonDraw.translateCenterCanvas(),t.polygonDraw.translateCenterImage(),t.polygonDraw.draw(),t.polygonDraw.drawImage(),0!==e.rotate&&t.polygonDraw.rotate(e.rotate,!0,!1)}))})).catch((function(e){console.log(e)}))},getDefaultWrap:function(e,t){var a=this,i=e.path,o=(e.hash,e.points),r=e.cachePoints,s=e.width,c=e.height,l=function(){return N({src:i}).then((function(e){return{width:e.width,height:e.height,points:[{x:0,y:0},{x:e.width,y:0},{x:e.width,y:e.height},{x:0,y:e.height}]}}))};return void 0===o&&void 0===r||void 0===s||void 0===c?(this.setData({showPreviewLoading:!0}),n.newLog.documentScanCutPage.showLoading.send(),E.default.imageToBase64(i).then((function(e){return(0,T.aiSync)({op_ids:JSON.stringify([3004]),image:e,feature_proccess:JSON.stringify({})}).then((function(e){var i;return 0===e.errno?(a.setData((B(i={},"imageList["+t+"].points",params.points),B(i,"imageList["+t+"].rotate",params.rotate),B(i,"imageList["+t+"].orientation",params.orientation),i)),e.data):l()})).catch((function(){return l()}))}))):U?N({src:i}).then((function(e){return{points:r||o,width:e.width,height:e.height}})):{points:r||o,width:s,height:c}},getConfig:function(e,t){return this.setData({clipImageUrl:e.path}),t&&(this.imageCtx=n.createCanvasContext("canvasBg"),this.operateCtx=n.createCanvasContext("canvasOperate"),"function"==typeof this.imageCtx.setLineCap&&this.imageCtx.setLineCap("round")),Promise.all([O(),N({src:e.path}),this.getDefaultWrap(e,this.data.currentIndex)])},touchStart:function(e){if(!this.data.isLoading){var t=e.touches[0],a=this.data,i=a.canvasWrap,n=a.topHeight;!1===R?this.polygonDraw.touch([t.x,t.y]):this.polygonDraw.touch([t.x-i.left-30,t.y-i.top-n])}},touchMove:function(e){if(!this.data.isLoading){var t=e.touches[0],a=this.data,i=a.canvasWrap,n=a.topHeight,o=[];o=!1===R?[t.x,t.y]:[t.x-i.left-30,t.y-i.top-n],this.polygonDraw.move(o)}},saveDrawInfo:function(){var e,t=this.getPoint(),a=this.data.currentIndex,i=this.data.imageList[a],n=function(e,t){if(void 0===e||void 0===t)return!0;for(var a=0;a<e.length;a++){var i=e[a],n=t[a];if(Math.abs(i.x-n.x)>1||Math.abs(i.y-n.y)>1)return!0}return!1}(t.points,i.points)||t.rotate!==i.rotate;this.setData((B(e={},"imageList["+a+"].cachePoints",t.cachePoints),B(e,"imageList["+a+"].points",t.points),B(e,"imageList["+a+"].rotate",t.rotate),B(e,"imageList["+a+"].change",n),B(e,"imageList["+a+"].orientation",t.orientation),e))},handleReTakePhoto:function(){this.setData({showDocumentScanPicker:!0})},handleRotate:function(){n.newLog.documentScanCutPage.rotate.send(),this.polygonDraw.rotate(),this.saveDrawInfo()},getPoint:function(){var e=this.polygonDraw.getPoint();return{cachePoints:e.cachePoints,points:e.points,rotate:e.rotate,orientation:M[String(e.rotate)]}},imageInitInfo:function(e,t){var a=this;return(0,I.localImageToBase64)(e.path).then((function(i){Promise.resolve();return(e.points&&e.points.length>0?Promise.all([a.customClipWrap(i,{points:e.points,orientation:e.orientation})]):Promise.all([a.getDocWrap(i)])).then((function(e){var i,o=P(e,1)[0].image,r=I.globalCache.add(o);if(I.globalCache.set(r+"_0",o),a.setData((B(i={},"imagesList["+t+"].processStatus","success"),B(i,"imagesList["+t+"].base64Id",r),B(i,"imagesList["+t+"].points",[]),i)),a.data.imagesList[t].base64Id&&(a.setData({processDone:a.data.processDone+1}),a.data.processDone===a.data.imagesList.length)){a.setData({isLoading:!1});var s=I.globalCache.add(a.data.imagesList);n.navigateTo({url:"/pages/toword-middle-page/toword-middle-page?paramsId="+s+"&from="+a.pageParams.from,success:function(){},fail:function(){}})}})).catch((function(){a.setData({isLoading:!1}),n.showToast({title:"图片导出失败，请重试",icon:"none",mask:!1})}))})).catch((function(){a.setData({isLoading:!1}),n.showToast({title:"图片导出失败，请重试",icon:"none",mask:!1})}))},customClipWrap:function(e,t){return this.aiSyncProgress(e,[3005],t)},getDocWrap:function(e){return this.aiSyncProgress(e,[3006])},aiSyncProgress:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise((function(i,n){(0,T.aiSync)({op_ids:JSON.stringify(t),image:e,feature_proccess:JSON.stringify(a)}).then((function(e){0===e.errno?i(e.data):n(e.errno)})).catch((function(e){n(e)}))}))},handleNext:function(){var e=this,t=getCurrentPages(),a=t[t.length-2],i="photoToWord"===this.pageParams.from?"photoToWord":"wordscan";if((0,A.setVipAndWorkInfo)(!0).then((function(t){n.newLog.documentScanCutPage.clkCutSave.send({source:i,ext:{user_type:t.type,pagesource:i,pic_number:e.data.imageList.length}})})),"photoToWord"===this.pageParams.from){var o=this.data.imageList;this.setData({imagesList:this.data.imageList.map((function(e){return Object.assign({},e,{base64Id:e.base64Id||"",points:e.points||[],currentOpId:0,processStatus:"pengding",imageUrl:e.path})})),isLoading:!0,processDone:0}),o.forEach((function(t,a){return e.imageInitInfo(t,a)}))}else{n.navigateBack();var r=I.globalCache.add(this.data.imageList);a.initDataNew({type:"3005",paramsId:r,from:this.pageParams.from})}},hideDocumentScanPicker:function(){this.setData({showDocumentScanPicker:!1})},reloadImage:function(e){this.hideDocumentScanPicker();var t=e.detail;n.redirectTo({url:"/pages/image-clip/index?url="+t[0],success:function(){},fail:function(){}})}})})),window.define("473",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),D=e(474),C=e(86);function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var I="line",E="point",x="other",A="center",L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,e),this.actionInfo={},this.canvasCtx=t,this.imageBgCtx=a,this.drawOptions=i,this.imageInfo=i.imageInfo,this.rotateAngle=i.rotate,this.rotateY=this.rotateAngle%180!=0,this.initWrap(i.wrap),this.initImage()}return S(e,[{key:"setPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments[2],i=arguments[3],n=this.drawOptions,o=this.imageInfo,r=0,s=[],c=o.startPosition;o.width===t&&o.height===a||i?(r=o.calculateWidth/t,s=e.map((function(e){var t=e.x,a=e.y;return[t*r+c[0],a*r+c[1]]}))):(r=o.calculateWidth/t,s=e.map((function(e){var t=e.x;return[e.y*r+c[1],t*r+c[0]]}))),o.original={width:t,height:a},this.pointList=s.map((function(e){var t=P(e,2),a=t[0],i=t[1];return[a+n.vertexRadius,i+n.vertexRadius]}))}},{key:"getPoint",value:function(){var e=this,t=this.rotateAngle,a=this.pointList,i=this.rotateY,n=this.drawOptions,o=this.imageInfo,r=o.width,s=o.height,c=o.original,l=o.startPosition,p=0;p=!0===i?o.calculateHeight/s:o.calculateWidth/r;var u=this.imageInfoRotateY/2;return Object.assign({points:a.map((function(t){var a=P(t,2),i=a[0],o=a[1];return e.rotateY?{x:(i-n.vertexRadius)/p|0,y:(o-n.vertexRadius+u-l[0])/p|0}:{x:(i-n.vertexRadius-l[0])/p|0,y:(o-n.vertexRadius-l[1])/p|0}})),cachePoints:a.map((function(t){var a=P(t,2),i=a[0],o=a[1];return e.rotateY,{x:(i-n.vertexRadius-l[0])/p|0,y:(o-n.vertexRadius-l[1])/p|0}})),rotate:t},c)}},{key:"initWrap",value:function(e){var t=this.drawOptions,a={width:e.width,height:e.height-2*t.vertexRadius};a.left=(e.width-a.width)/2,a.top=(e.height-a.height)/2;var i={width:a.width+2*t.vertexRadius,height:e.height,top:a.top-t.vertexRadius,left:a.left-t.vertexRadius};this.canvasWrap=i,this.imageBgWrap=a}},{key:"initImage",value:function(){var e=this.imageInfo,t=this.imageBgWrap,a=this.drawOptions,i=e.width/e.height;if(t.width/e.width<t.height/e.height){this.imageInfo.calculateWidth=t.width;var n=t.width/i;this.imageInfo.calculateHeight=n,this.imageInfo.startPosition=[0,0]}else{this.imageInfo.calculateHeight=t.height;var o=this.imageInfo.calculateHeight*i;this.imageInfo.calculateWidth=o,this.imageInfo.startPosition=[(t.width-o)/2,0]}if(this.rotateY){this.imageInfo.scale=this.imageInfo.calculateHeight/a.wrap.width,this.imageInfo.translate=(a.wrap.width-this.imageInfo.calculateHeight)/2,this.imageInfo.calculateHeight=a.wrap.width;var r=this.imageInfo.calculateWidth;this.imageInfo.calculateWidth=this.imageInfo.calculateHeight*i,this.imageInfoRotateY=this.imageInfo.calculateWidth-r}else this.imageInfo.scale=a.wrap.width/this.imageInfo.calculateHeight}},{key:"getDOMStyle",value:function(){return[this.canvasWrap,this.imageBgWrap]}},{key:"actionJudgment",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=P(e,2),a=t[0],i=t[1],n=this.pointList,o=0;o<n.length;o++){var r=n[o];if((0,D.clickArc)(r,30,[a,i]))return{type:E,point:r,idx:o};var s=P(r,2),c=s[0],l=s[1],p=(o+1)%n.length,u=P(n[p],2),d=u[0],h=u[1],g=d-(d-c)/2,f=h-(h-l)/2;if((0,D.clickArc)(this.modalToCanvasPoint([a,i]),30,this.modalToCanvasPoint([g,f])))return{type:I,lineIdx:[o,p],point:[a,i]}}return(0,D.rayCasting)([a,i],n)?{type:A,point:[a,i]}:{type:x}}},{key:"drawImage",value:function(){var e=this.imageBgCtx,t=this.imageInfo,a=this.imagePointTranslat(t.startPosition),i=P(a,2),n=i[0],o=i[1];e.drawImage(this.imageInfo.url,n,o,t.calculateWidth,t.calculateHeight,0,0,t.width,t.height),e.draw()}},{key:"translateCenterCanvas",value:function(){var e=this.canvasWrap;this.canvasCenterX=e.width/2,this.canvasCenterY=e.height/2,this.canvasCtx.translate(this.canvasCenterX,this.canvasCenterY)}},{key:"translateCenterImage",value:function(){var e=this.imageBgWrap;this.imageCenterX=e.width/2,this.imageCenterY=e.height/2,this.imageBgCtx.translate(this.imageCenterX,this.imageCenterY)}},{key:"modalToCanvasPoint",value:function(e){var t=P(e,2),a=t[0],i=t[1],n=this.canvasCenterX,o=this.canvasCenterY,r=this.canvasWrap,s=this.drawOptions,c=this.imageInfo;return[a-n,i-(o-(r.height-2*s.vertexRadius-c.calculateHeight)/2)]}},{key:"canvasPointToModal",value:function(e){var t=P(e,2),a=t[0],i=t[1],n=this.canvasCenterX,o=this.canvasCenterY,r=this.canvasWrap,s=this.drawOptions,c=this.imageInfo;return[a+n,i+(o-(r.height-2*s.vertexRadius-c.calculateHeight)/2)]}},{key:"imagePointTranslat",value:function(e){var t=P(e,2),a=t[0],i=t[1];return this.rotateY?[-this.imageInfo.calculateWidth/2,i-(this.imageCenterY-(this.imageBgWrap.height-this.imageInfo.calculateHeight)/2)]:[a-this.imageCenterX,i-(this.imageCenterY-(this.imageBgWrap.height-this.imageInfo.calculateHeight)/2)]}},{key:"getMoveMaxWrap",value:function(){var e=this.drawOptions,t=this.imageInfo;if(this.rotateY){var a=(t.calculateHeight-t.calculateWidth)/2;return[e.vertexRadius,e.vertexRadius+a,t.calculateHeight+e.vertexRadius,t.calculateWidth+e.vertexRadius+a]}return[e.vertexRadius+t.startPosition[0],e.vertexRadius+t.startPosition[1],t.calculateWidth+e.vertexRadius+t.startPosition[0],t.calculateHeight+e.vertexRadius+t.startPosition[1]]}},{key:"draw",value:function(){this.drawPoint(),this.canvasCtx.draw()}},{key:"drawPoint",value:function(){var e=this,t=this.pointList,a=this.canvasCtx,i=this.drawOptions;a.setLineWidth(i.lineWidth),a.setLineJoin("miter");var n=t.map((function(t){return e.modalToCanvasPoint(t)}));n.forEach((function(e,t){var i=P(e,2),n=i[0],o=i[1];0===t?a.moveTo(n,o):a.lineTo(n,o)}));var o=P(n[0],2),r=o[0],s=o[1];a.lineTo(r,s),a.setStrokeStyle(i.lineColor),a.stroke(),a.beginPath(),a.setFillStyle("#d8f3fe");for(var c=0;c<n.length;c++){var l=P(n[c],2),p=l[0],u=l[1];a.moveTo(p,u),a.arc(p,u,i.vertexRadius-i.lineWidth,0,2*Math.PI,!1);var d=(c+1)%n.length,h=P(n[d],2),g=h[0],f=h[1],m=g-(g-p)/2,v=f-(f-u)/2;a.moveTo(m,v),a.arc(m,v,i.vertexRadius-i.lineWidth,0,2*Math.PI,!1)}a.stroke(),a.fill(),a.closePath()}},{key:"touch",value:function(e){e=[e[0],e[1]-(this.imageBgWrap.height-2*this.drawOptions.vertexRadius-this.imageInfo.calculateHeight)/2];var t=this.actionJudgment(e);this.actionInfo=t}},{key:"move",value:function(e){e=[e[0],e[1]-(this.canvasWrap.height-2*this.drawOptions.vertexRadius-this.imageInfo.calculateHeight)/2];var t=this.actionInfo,a=this.canvasCtx;switch(t.type){case E:this.pointTrans(e);break;case I:this.lineTrans(e)}this.translateCenterCanvas(),this.drawPoint(),a.draw()}},{key:"pointTrans",value:function(e){var t=P(e,2),a=t[0],i=t[1],n=this.actionInfo,o=this.pointList,r=(0,D.boundaryJudgment)([a,i],this.getMoveMaxWrap());o[n.idx]=[r[2],r[3]]}},{key:"lineTrans",value:function(e){var t=P(e,2),a=t[0],i=t[1],n=this.actionInfo,o=this.pointList,r=n.point,s=a-r[0],c=i-r[1],l=P(n.lineIdx,2),p=l[0],u=l[1],d=o[p],h=o[u],g=this.getMoveMaxWrap(),f=(0,D.shapeTranslation)([d,h],s,c,g),m=P(f,2),v=m[0],y=m[1],w=(0,D.boundaryJudgment)(v,g),b=P(w,2),_=b[0],k=b[1],S=(0,D.boundaryJudgment)(y,g),C=P(S,2),T=C[0],I=C[1];n.point=[a,i],!0===_&&!0===T&&(o[p][0]=v[0],o[u][0]=y[0]),!0===k&&!0===I&&(o[p][1]=v[1],o[u][1]=y[1])}},{key:"shapeTrans",value:function(e){var t=P(e,2),a=t[0],i=t[1],n=this.actionInfo,o=this.pointList,r=n.point,s=a-r[0],c=i-r[1];n.point=[a,i];var l=(0,D.shapeTranslation)(o,s,c,this.getMoveMaxWrap());this.pointList=l}},{key:"rotate",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.imageBgCtx,o=this.pointList,r=this.canvasCtx,s=this.imageInfo;if(this.rotateAngle=void 0!==e?e%360:(this.rotateAngle+90)%360,this.rotateY=this.rotateAngle%180!=0,a&&(this.initImage(),this.translateCenterImage(),n.rotate(this.rotateAngle*Math.PI/180),this.drawImage()),i){this.translateCenterCanvas();var c=s.scale;this.pointList=o.map((function(e){var a=P(e,2),i=a[0],n=a[1],o=(0,D.rotatePoint)(t.modalToCanvasPoint([i,n]),90),r=P(o,2);return i=r[0],n=r[1],t.rotateY?t.canvasPointToModal([(i-t.imageInfo.translate)/c,n/c]):t.canvasPointToModal([(i+t.imageInfo.translate)/c,n/c])})),this.drawPoint(),r.draw()}}},{key:"clipImage",value:function(e){var t=this,a=this.canvasCtx,i=this.imageBgCtx,n=this.imageInfo;this.translateCenterCanvas();var o=this.imagePointTranslat([0,0]),r=P(o,2),s=r[0],c=r[1];return a.rotate(this.rotateAngle*Math.PI/180),a.drawImage(this.imageInfo.url,s,c,n.calculateWidth,n.calculateHeight,0,0,n.width,n.height),a.rotate(-this.rotateAngle*Math.PI/180),this.drawPoint(),new Promise((function(n,o){a.draw(!1,(function(){t.drawImageClip(),i.draw(!1,(function(){t.canvasToTempFilePath(e).then((function(e){n(e)})).catch(o)}))}))}))}},{key:"drawImageClip",value:function(){var e=this,t=this.imageBgCtx,a=this.imageBgWrap,i=this.pointList,n=this.imageInfo;this.translateCenterImage(),t.clearRect(0,0,a.width,a.height),t.beginPath(),i.forEach((function(a,i){var n=e.modalToCanvasPoint(a),o=P(n,2),r=o[0],s=o[1];0===i?t.moveTo(r,s):t.lineTo(r,s)})),t.closePath(),t.clip(),t.rotate(this.rotateAngle*Math.PI/180);var o=this.imagePointTranslat([0,0]),r=P(o,2),s=r[0],c=r[1];t.drawImage(this.imageInfo.url,s,c,n.calculateWidth,n.calculateHeight)}},{key:"canvasToTempFilePath",value:function(e){var t=this.imageBgWrap;return new Promise((function(a,i){(0,C.canvasToTempFilePath)({x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,canvasId:e,fileType:"jpg",quality:1,success:function(e){a(e.tempFilePath)},fail:function(e){i(e)}})}))}}]),e}();a.default=L})),window.define("474",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=a.getPointDis=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=P(e,2),a=t[0],i=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],o=P(n,2),r=o[0],s=o[1];return Math.sqrt(Math.pow(a-r,2)+Math.pow(i-s,2))},D=(a.clickArc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],i=S(e,a);return i<=t},a.clickLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=P(e,2),a=t[0],i=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],o=S(a,i),r=S(a,n),s=S(i,n);return(0|o)==(r+s|0)},a.rayCasting=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e[0],i=e[1],n=!1,o=0,r=t.length,s=r-1;o<r;s=o,o++){var c=t[o][0],l=t[o][1],p=t[s][0],u=t[s][1];if(l<i&&u>=i||l>=i&&u<i){var d=c+(i-l)*(p-c)/(u-l);d>a&&(n=!n)}}return n},a.boundaryJudgmentX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e<=t?[!1,t]:e>=a?[!1,a]:[!0,e]}),C=a.boundaryJudgmentY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e<=t?[!1,t]:e>=a?[!1,a]:[!0,e]},T=a.boundaryJudgment=function(e,t){var a=P(e,2),i=a[0],n=a[1],o=P(t,4),r=o[0],s=o[1],c=o[2],l=o[3],p=D(i,r,c),u=P(p,2),d=u[0],h=u[1],g=C(n,s,l),f=P(g,2);return[d,f[0],h,f[1]]};a.shapeTranslation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments[3],n=P(i,4),o=n[0],r=void 0===o?0:o,s=n[1],c=void 0===s?0:s,l=n[2],p=void 0===l?0:l,u=n[3],d=void 0===u?0:u;return e.map((function(e){var i=P(e,2),n=i[0],o=i[1],s=T([n+t,o+a],[r,c,p,d]);return[s[2],s[3]]}))},a.calculateRectangle=function(e,t,a){var i={x:t,y:a,width:0,height:0},n=0,o=0;return e.forEach((function(e){var t=P(e,2),a=t[0],r=t[1];a<i.x&&(i.x=a),r<i.y&&(i.y=r),a>n&&(n=a),r>o&&(o=r)})),i.width=n-i.x,i.height=o-i.y,i},a.rotatePoint=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=P(e,2),a=t[0],i=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=a*Math.cos(n*Math.PI/180)-i*Math.sin(n*Math.PI/180),r=a*Math.sin(n*Math.PI/180)+i*Math.cos(n*Math.PI/180);return[o,r]}})),window.define("477",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(7),D=e(478),C=e(469),T=e(60),I=e(65),E=e(68),x=e(407);function A(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var L=(0,S.swanApiToPromise)("authorize"),B=(0,S.swanApiToPromise)("saveImageToPhotosAlbum"),F=r();Page({data:{topHeight:0,pageTitle:"",isIpx:!1,screenHeight:0,bottomOperateHeight:82,images:[],uploadRes:[],disabledExportPDF:!0,showExportPDF:!1},onInit:function(){},onLoad:function(e){this.pageParams=e,this.initPageInfo(),this.initData(e)},onReady:function(){},onShow:function(){this.pageParams&&"scanIntroduce"===this.pageParams.from&&o.newLog.documentScanUploadingPage.showScanIntroduce.send(),o.newLog.documentScanUploadingPage.show.send()},initData:function(e){var t=this,a=[];try{a=JSON.parse(decodeURIComponent(e.images))}catch(e){}if(0!==a.length){this.setData({images:a.map((function(e){return Object.assign({},e,{previewUrl:(0,x.base64ToImageUrl)(x.globalCache.get(e.base64Id+"_"+e.currentOpId))})})),disabledExportPDF:!0}),this.pathInfo=this.genPathName(),this.setData({pageTitle:this.pathInfo.pageTitle});var i=o.env.USER_DATA_PATH+"/documentscan";(0,x.rmdir)(i).finally((function(){t.uploadTip.start({imageList:a,uploadPath:t.pathInfo.path},(function(e,a){if("create"===a){var n=Date.now()+".jpg";return(0,x.saveBase64ToImageUrl)(i,n,x.globalCache.get(e.base64Id+"_"+e.currentOpId)).then((function(a){return{filePath:i+"/"+n,fileName:t.pathInfo.timestamp+"_"+String(e.hash).substr(10)+".jpg"}}))}"delete"===a&&(0,x.deleteFile)(e)})).then((function(e){o.newLog.documentScanUploadingPage.picUploadSuccess.send(),t.uploadRes=e,t.setData({disabledExportPDF:!1})})).catch((function(e){o.newLog.documentScanUploadingPage.picUploadFail.send()}))}))}},initPageInfo:function(){this.setData({topHeight:F.globalData.totalHeight,isIpx:F.globalData.isIpx,screenHeight:F.globalData.systemInfo.screenHeight-F.globalData.totalHeight}),this.uploadTip=this.selectComponent("#upload-tip")},genPathName:function(){var e=new Date,t=function(e){return String(e).padStart(2,"0")},a=e.getFullYear(),i=t(e.getMonth()+1),n=t(e.getDate()),o=t(e.getHours()),r=t(e.getMinutes()),s=t(e.getSeconds());return{path:"/文档加工/文档扫描/文档扫描_"+a+i+n+"_"+o+r+s,pageTitle:"文档扫描_"+a+i+n+"_"+o+r+s,timestamp:e.getTime()}},handleExportPDF:function(){var e=this;o.newLog.documentScanUploadingPage.clickPDF.send(),this.pageParams&&"scanIntroduce"===this.pageParams.from&&o.newLog.documentScanUploadingPage.clickPDFScanIntroduce.send();var t=this.uploadRes.map((function(e){return e.fs_id}));this.exportPDFStartTime=Date.now(),this.setData({showExportPDF:!0,disabledExportPDF:!0}),(0,C.createPicList)({name:this.pathInfo.pageTitle,fsids:JSON.stringify(t),pos:JSON.stringify(t.map((function(e,t){return t+1})))}).then((function(a){a&&0===a.errno&&new D.PicToPDFTask({fsidList:t,piclistid:a.data.piclistid,savepath:e.pathInfo.path,savename:e.pathInfo.timestamp+".pdf",processCallback:function(){}}).start().then((function(t){o.newLog.documentScanUploadingPage.exportPDFSuccess.send(),e.setData({showExportPDF:!1,disabledExportPDF:!1}),e.handlePDFPreview()})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.newLog.documentScanUploadingPage.exportPDFFail.send(),o.showToast({title:t.show_msg,icon:"none"}),e.setData({showExportPDF:!1,disabledExportPDF:!1})}))})).catch((function(){e.setData({disabledExportPDF:!1})}))},handleSaveLocal:function(){var e=this;o.newLog.documentScanUploadingPage.clickSave.send(),this.pageParams&&"scanIntroduce"===this.pageParams.from&&o.newLog.documentScanUploadingPage.clickSaveScanIntroduce.send(),L({scope:"scope.writePhotosAlbum"}).then((function(){B({filePath:e.data.images[0]}).then((function(){o.showToast({title:"图片保存本地成功",icon:"none"})})).catch((function(){o.showToast({title:"图片保存本地失败",icon:"none"})}))})).catch((function(){o.openSetting({})}))},handleSaveLocalNew:function(){var e=this,t=function(){var t=A(regeneratorRuntime.mark((function t(a){var i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=o.env.USER_DATA_PATH+"/documentscan",n=Date.now()+".jpg",e.next=5,(0,x.saveBase64ToImageUrl)(i,n,a);case 5:return r=i+"/"+n,e.next=8,B({filePath:r});case 8:return e.next=10,(0,x.deleteFile)(r);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),t,e,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();o.newLog.documentScanUploadingPage.clickSave.send(),this.pageParams&&"scanIntroduce"===this.pageParams.from&&o.newLog.documentScanUploadingPage.clickSaveScanIntroduce.send(),L({scope:"scope.writePhotosAlbum"}).then(A(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,i=0;case 2:if(!(i<e.data.images.length)){a.next=9;break}return n=e.data.images[i],a.next=6,t(x.globalCache.get(n.base64Id+"_"+n.currentOpId));case 6:i++,a.next=2;break;case 9:o.showToast({title:"图片保存本地成功",icon:"none"}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),o.showToast({title:"图片保存本地失败",icon:"none"});case 15:case"end":return a.stop()}}),a,e,[[0,12]])})))).catch((function(){o.openSetting({})}))},handlePDFPreview:function(){var e=this;(0,E.getFileMetas)({target:[this.pathInfo.path+"/"+this.pathInfo.timestamp+".pdf"]}).then((function(t){if(0===t.errno){var a=t.info[0];F.globalData.currentPageType="document_scan_result",F.globalData.tapFileInfo=a,n((function(){(0,T.documentPreview)({fileInfo:a,pageNum:0,index:0,previewType:"documentScanPreview",pageType:"document_scan_result",previewFromType:I.previewFromTypeObj.OTHER_VIEW}),o.newLog.documentScanPerformance.imageInfo.send({ext:{api:"exportPDF",time:Date.now()-e.exportPDFStartTime,msg:"导出pdf"}})}),300)}}))}})})),window.define("478",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.PicToPDFTask=void 0;var S=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),D=e(479);a.PicToPDFTask=function(){function e(t){var a=t.fsidList,i=void 0===a?[]:a,n=t.piclistid,o=void 0===n?"":n,r=t.savepath,s=void 0===r?"/":r,c=t.savename,l=void 0===c?"":c,p=t.processCallback,u=void 0===p?function(){}:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fsidList=i,this.piclistid=o,this.processCallback=u,this.savepath=s,this.savename=l}return S(e,[{key:"start",value:function(){var e=this;return new Promise((function(t,a){(0,D.picToPDF)({fsid:JSON.stringify([e.fsidList[0]]),pic_fsid:JSON.stringify(e.fsidList),piclistid:e.piclistid,savepath:e.savepath,savename:e.savename}).then((function(i){if(0===i.errno){var n=i.data[0];e.taskid=n.taskid,100===n.process?t(i):e.select(n.taskid,t,a)}else a(i)}))}))}},{key:"select",value:function(e,t,a){var i=this;this.timer=n((function(){(0,D.selectTranscoding)({taskid:e,fsid:JSON.stringify([i.fsidList[0]]),pic_fsid:JSON.stringify(i.fsidList),piclistid:i.piclistid,savepath:i.savepath,savename:i.savename}).then((function(n){if(0===n.errno){var o=n.data[0];i.processCallback(o.process),100===o.process?t(n):i.select(e,t,a)}else a(n)}))}),1e3)}},{key:"stop",value:function(){clearTimeout(this.timer)}},{key:"cancel",value:function(){return this.stop(),(0,D.cancelTranscoding)(this.taskid)}}]),e}()})),window.define("479",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.selectTranscoding=a.cancelTranscoding=a.picToPDF=void 0;var P=e(16),S=e(45);a.picToPDF=function(e){var t=e.fsid,a=e.pic_fsid,i=e.piclistid,n=e.savepath,o=e.savename;return new Promise((function(e,r){var s={conv_type:8,action:1,fsid:t,pic_fsid:a,piclistid:i,doc_layout:1,device_id:"deviceid",str_fsid:a,doc_savepath:n,doc_savename:o},c=(0,S.getQueryFromObj)(s);(0,P.bdRequest)({api:"api/transcoding/process?"+c,method:"POST",clientType:32}).then((function(t){void 0!==t?e(t):r()}))}))},a.cancelTranscoding=function(e){return new Promise((function(t,a){var i=(0,S.getQueryFromObj)({action:2,taskid:e,device_id:"deviceid"});(0,P.bdRequest)({api:"/api/transcoding/process?"+i,method:"POST",clientType:32}).then((function(e){void 0!==e?t(e):a()}))}))},a.selectTranscoding=function(e){var t=e.taskid,a=e.fsid,i=e.pic_fsid,n=e.piclistid,o=e.savepath,r=e.savename;return new Promise((function(e,s){var c=(0,S.getQueryFromObj)({conv_type:8,action:3,taskid:t,device_id:"deviceid",doc_layout:1,fsid:a,str_fsid:i,pic_fsid:i,piclistid:n,doc_savepath:o,doc_savename:r});(0,P.bdRequest)({api:"api/transcoding/process?"+c,method:"POST",clientType:32}).then((function(t){void 0!==t?e(t):s()}))}))}})),window.define("482",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P={docscan:{title:"文档扫描",titleBg:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/document-scan-introduce-title-v2.png",subtitle:"自动识别文档，快速生成PDF",targetPath:"/pages/image-process/index?type=3006&from=scanIntroduce"},pic2word:{title:"图片转word",titleBg:"https://staticsns.cdn.bcebos.com/amis/2022-9/1663314615528/pic2word.png",subtitle:"自动识别文档，快速生成word",targetPath:"/pages/image-clip/index?from=photoToWord"}};Page({data:{title:"文档扫描",titleBg:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/document-scan-introduce-title-v2.png",subtitle:"自动识别文档，快速生成PDF",targetPath:"/pages/image-process/index?type=3006&from=scanIntroduce",type:"docscan"},onLoad:function(e){var t=e.type||"docscan",a=P[t];void 0!==a&&this.setData({title:a.title,titleBg:a.titleBg,subtitle:a.subtitle,targetPath:a.targetPath,type:t}),this.options=e},onShow:function(){n.newLog.documentScanIntroducePage.show.send({ext:{pagesource:this.options&&this.options.type,pagescene:this.options&&this.options.scene}})},onReady:function(){this.imageResize=this.selectComponent("#imageResize")},getImageForPhotoAlbum:function(){n.newLog.documentScanIntroducePage.album.send({ext:{pagesource:this.data.type}});var e="/pages/mobile-camera/mobile-camera?multiple=true&count=20&from=wordscan&showAlbum=true";e+="&targetPage="+encodeURIComponent(encodeURIComponent(this.data.targetPath)),n.navigateTo({url:e})},getImageForPhotoCamera:function(){n.newLog.documentScanIntroducePage.camera.send({ext:{pagesource:this.data.type}});var e="/pages/mobile-camera/mobile-camera?multiple=true&count=20&from=wordscan";e+="&targetPage="+encodeURIComponent(encodeURIComponent(this.data.targetPath)),n.navigateTo({url:e})},navigateToEditPage:function(e){n.navigateTo({url:"/pages/image-process/index?type=3006&images="+e.path+"&hash="+e.digest+"&from=scanIntroduce"})}})})),window.define("485",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(486),D=e(33),C=e(407),T=(e(8),e(487));function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var E=r();Page({data:{viewportHeight:E.globalData.totalHeight,pdfList:[],loadingToast:{show:!1,msg:""},listLoding:!1,isNetdisk:!1},onInit:function(){o.netdisk&&this.setData({isNetdisk:!0})},onLoad:function(e){this.options=e},onShow:function(){(0,T.sendLog)("pdfDeWatermarkShow",{pagescene:this.options&&this.options.scene});var e=E.globalData.actionFrom;switch(e){case"selectLocalFile":this.chooseFile(1);break;case"openPanFile":o.showModalPage({url:"/pages/select-file-for-netdisk/index?multiple=true&selectFileMax=1&fileType=pdf&fileSizeMax=104857600",success:function(){},fail:function(){}}),(0,T.sendLog)("panFileShow");break;case"selectPanFile":this.chooseFile()}e&&(E.globalData.actionFrom=""),this.initPdfList(!0)},onHide:function(){clearTimeout(this.initPdfListTimer)},handleSelectFile:function(){(0,T.sendLog)("fileClk"),o.navigateTo({url:"/pages/select-local-and-pan/index?fileSizeMax=104857600"})},chooseFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=E.globalData.selectFileList;if(t.length){var a=t[0].fs_id;(0,T.sendLog)("chooseResult",{choose_result:"suc",pdf_fsid:t[0].fs_id,pdf_size:(0,D.toFriendlyQuotaSize)(t[0].size)}),this.handleCreateTask(a,e),E.globalData.selectFileList=[]}},initPdfList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,S.getDeWatermarkList)().then((function(a){0===a.errno?(e.data.listLoding&&e.setData({listLoding:!1}),e.setData({pdfList:e.dealList(a.data.list)}),t&&(0,T.sendLog)("pdfListShow"),a.data.list.filter((function(e){return 2===e.task_status})).length&&(e.initPdfListTimer=n((function(){e.initPdfList()}),2e3))):e.data.listLoding&&e.setData({listLoding:!1})})).catch((function(){e.data.listLoding&&e.setData({listLoding:!1})}))},handlePreview:function(e){var t=e.fileName,a=e.fsid,i=e.size,n=e.processFile,r=[],s=[];n.forEach((function(e){r.push(e.in_fsid),s.push(e.out_fsid)}));var c={originFsids:r,resultFsids:s,fileName:t,fsid:a,size:i,originPath:n[0]?n[0].in_path:"",resultPath:n[0]?n[0].out_path:""},l=C.globalCache.add(c);o.navigateTo({url:"/pages/deWatermark/pdf-process/index?paramsId="+l}),(0,T.sendLog)("pdfListClk")},handleRedo:function(e){var t=e.taskId,a=e.index;this.handleRedoTask(t,a),(0,T.sendLog)("retryClk")},handleCreateTask:function(e,t){var a=this;this.toggleLoading(!0,"正在添加至去水印列表");var i={op_id:6010,fs_ids:"["+e+"]",hidden:t,op_version:1};(0,S.createTask)(i).then((function(e){a.toggleLoading(!1),0===e.errno?a.initPdfList():o.showToast({duration:2e3,title:e.show_msg,icon:"none",mask:!1})})).catch((function(){a.toggleLoading(!1,""),o.showToast({duration:2e3,title:"创建任务失败",icon:"none",mask:!1})}))},handleRedoTask:function(e,t){var a=this;this.setData(I({},"pdfList["+t+"].retring",!0)),(0,S.reDoTask)({task_id:e}).then((function(e){a.setData(I({},"pdfList["+t+"].retring",!1)),0===e.errno?o.showToast({title:"重试成功",icon:"none",duration:2e3}):o.showToast({title:"重试失败",icon:"none",duration:2e3}),a.initPdfList()})).catch((function(){o.showToast({title:"重试超时",icon:"none",duration:2e3})}))},handleCancel:function(){this.toggleLoading(!1,"")},toggleLoading:function(e,t){this.setData({loadingToast:{show:e,msg:t}})},dealList:function(e){return e.map((function(e,t){return{fsid:e.in_files[0].fsid,outFile:e.out_files[0],fileName:e.in_files[0].filename||"",mtime:e.mtime,ctime:e.ctime?(0,D.timestampTurnsTime)(e.ctime,2):"-",size:e.in_files[0].size?(0,D.toFriendlyQuotaSize)(e.in_files[0].size):"-",schedule:e.predict_finish_schedule?Math.trunc(100*e.predict_finish_schedule):0,taskId:e.task_id,taskStatus:e.task_status,substatus:e.task_substatus,processFile:e.process_file,retring:!1}}))}})})),window.define("486",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getDeWatermarkList=a.reDoTask=a.deWatermark=a.queryTask=a.createTask=void 0;var P=e(16);a.createTask=function(e){return(0,P.bdRequest)({api:"dosp/async/createtask",data:e,method:"POST",clientType:32})},a.queryTask=function(e){return(0,P.bdRequest)({api:"dosp/async/querytask",data:e,method:"POST",clientType:32})},a.deWatermark=function(e){var t="fs_ids=["+e.fsid+"]&op_ids=[3008]&hidden="+e.hidden;return e.taskId&&(t+="&task_id="+e.taskId),(0,P.bdRequest)({api:"dosp/feature/fsidssync?"+t,method:"GET",clientType:32})},a.reDoTask=function(e){return(0,P.bdRequest)({api:"dosp/async/redotask",data:e,method:"POST",clientType:32})},a.getDeWatermarkList=function(e){return(0,P.bdRequest)({api:"dosp/async/tasklist",data:e,method:"POST",clientType:32})}})),window.define("487",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sendLog=void 0;var P=e(13),S=o();a.sendLog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,P.setVipAndWorkInfo)(!0).then((function(a){n.newLog.pdfDeWatermark[e].send({ext:Object.assign({from:"tool",appsource:n.netdisk?"shoubai"===S.globalData.sourceFrom?"from_shoubai":"na":"shoubai",pagesource:"pdf_shuiyin",user_type:a.type,time_stamp:Date.now()},t)})}))}})),window.define("490",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(68),D=e(491),C=e(469),T=e(478),I=(e(35),e(407)),E=e(8),x=e(33),A=e(7),L=e(13),B=e(487);function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var O,R,U=(0,A.swanApiToPromise)("downloadFile"),M=(0,A.swanApiToPromise)("shareFile"),j=r();Page({data:{titleText:"",viewport:{left:0,top:0,height:0,width:0},exportTip:"文件导出中",showSuccessTip:!1,successTip:"",originFsids:[],resultFsids:[],imageListIndex:[],imageMap:{},isVipOrWork:!1,userTypeLoading:!1,showDelWaterMark:!0,ifExporting:!1,textList:["您还没有去水印特权！","超级会员更可畅想去水印等所有特权","推荐给你"],leftTextList:["超级会员","49项特权","畅享拼图等所有特权","推荐!全面服务超值优惠","￥25/月","去开通","￥30"],rightTextList:["工作套餐","19项特权","pdf去水印","扫描及工作专属","￥15/月","去看看"],cancel:!1,schemeUrl:"",isIos:!1,showVipGuide:!1,isNetdisk:!1,limitFreeNum:0,showLoadingTip:!1,inFile:{}},onInit:function(e){"smart"===e.from?j.globalData.sourceFrom="shoubai":j.globalData.sourceFrom="";var t={},a=[],i=[],r="",s="",c="";if(this.initViewPort(),this.initVipInfo(),o.netdisk&&"smart"!==e.from?this.agentFrom="from_pdf_demark_tool":this.agentFrom="from_pdf_demark_tool_shoubai",e.paramsId)this.paramsId=e.paramsId,t=I.globalCache.get(e.paramsId);else if("smart"===e.from&&o.netdisk){n((function(){j.globalData.loginInfo.uk_str!==e.uk&&(o.showModal({content:"当前账号与百度账号不一致，请切换账号后再试",showCancel:!1,confirmText:"确定"}),o.hideLoading())}),500);try{t=JSON.parse(decodeURIComponent(e.fileParams))}catch(e){console.log(e)}}if(Object.keys(t).length>0){var l=t,p=l.fileName,u=l.fsid,d=l.size;a=l.originFsids,i=l.resultFsids,r=p,s=u,c=d}this.setData({isIos:(0,E.checkIsIos)(),titleText:r,originFsids:a,resultFsids:i,inFile:{name:r,size:c,fsid:s},isNetdisk:!!o.netdisk}),this.getImgList(this.data.originFsids,this.data.resultFsids),this.data.isNetdisk||this.checkTrial(),"true"===e.showVipGuide&&(this.setData({showVipGuide:!0}),(0,B.sendLog)("payPanelShow"))},getImgList:function(){var e=N(regeneratorRuntime.mark((function e(t,a){var i,r,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.showLoading({title:"正在加载...",mask:!1}),i={},t.forEach((function(e,t){i[t]={origin:e,result:a[t],originPath:"",resultPath:"",status:!1}})),this.setData({imageListIndex:Object.keys(i),imageMap:i}),r=Object.values(i),e.next=7,new Promise((function(e){n((function(){e()}),2e3),N(regeneratorRuntime.mark((function t(){var a,i,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getImageSrc(r[0]);case 2:return n=t.sent,t.next=5,(0,I.netdiskPicToLocal)(n.originDlink);case 5:return o=t.sent,s.setData((F(a={},"imageMap[0].originPath",o),F(a,"imageMap[0].status",!0),F(a,"exportTip","文件导出中"),a)),t.next=9,(0,I.netdiskPicToLocal)(n.resultDlink);case 9:c=t.sent,s.setData((F(i={},"imageMap[0].resultPath",c),F(i,"showLoadingTip",!0),i)),e();case 12:case"end":return t.stop()}}),t,s)})))()}));case 7:o.hideLoading(),new I.TaskSchedule(r,{taskCallback:function(){var e=N(regeneratorRuntime.mark((function e(t,a){var i,n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getImageSrc(t);case 2:return n=e.sent,e.next=5,(0,I.netdiskPicToLocal)(n.originDlink);case 5:return o=e.sent,e.next=8,(0,I.netdiskPicToLocal)(n.resultDlink);case 8:return r=e.sent,s.setData((F(i={},"imageMap["+a+"].originPath",o),F(i,"imageMap["+a+"].resultPath",r),F(i,"imageMap["+a+"].status",void 0!==o),i)),e.abrupt("return",Object.assign({},n,{index:a}));case 11:case"end":return e.stop()}}),e,s)})));return function(t,a){return e.apply(this,arguments)}}(),max:4,index:1,processCallback:function(){}}).start();case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),getImageSrc:(R=N(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.getFileMetas)({fsids:[String(t.origin),String(t.result)],dlink:1,hidden:1});case 2:if(0!==(a=e.sent).errno){e.next=9;break}return i=a.info.find((function(e){return String(e.fs_id)===String(t.origin)})),n=a.info.find((function(e){return String(e.fs_id)===String(t.result)})),e.abrupt("return",{originDlink:i.dlink,resultDlink:n.dlink});case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)}),onShow:function(){(0,B.sendLog)("pdfProcessShow")},onReady:function(){if(this.data.isIos&&!this.data.isNetdisk&&this.data.resultFsids.length<21){var e=this.data,t=e.originFsids,a=e.resultFsids,i=e.inFile,n=j.globalData.loginInfo.uk_str,o="bdnetdisk://swan/OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH/pages/deWatermark/pdf-process/index?fileParams="+encodeURIComponent(JSON.stringify({fsid:i.fsid,size:i.size,fileName:i.name,originFsids:t,resultFsids:a}))+"&uk="+n+"&from=smart&showVipGuide=true&is_advert_filter=1";this.setData({schemeUrl:o})}},downloadImage:function(e){var t=this;this.data[e].forEach((function(a,i){var n=a.dlink.replace("http://","https://");o.downloadFile({url:n,header:{"content-type":"application/json"},success:function(a){200===a.statusCode&&(t.data[e][i].filePath=a.tempFilePath,t.setData(F({},e,t.data[e])),i===t.data[e].length-1&&o.hideLoading())},fail:function(){o.showToast({title:"网络错误，请重试",icon:"none",duration:2e3}),o.hideLoading()}})}))},closeMaxTip:function(){this.setData({showMaxTip:!1})},handleExport:function(){(0,B.sendLog)("exportClk"),this.setData({ifExporting:!0,cancel:!1}),this.batchPicToPdf()},batchPicToPdf:(O=N(regeneratorRuntime.mark((function e(){var t,a,i,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,x.getPathName)("/文档加工/pdf去水印/pdf去水印","pdf去水印"),a=Object.values(this.data.imageMap).map((function(e){return e.result})),i=Math.ceil(a.length/20),n=new Array(i).fill(1).map((function(){return a.splice(0,20)})),i>1&&this.setData({exportTip:"正在拆分导出第1/"+i+"个pdf"}),e.next=7,(0,C.mkdir)(t.path);case 7:this.exportTaskSchedule=new I.TaskSchedule(n,{taskCallback:function(){var e=N(regeneratorRuntime.mark((function e(a,n){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.name,i>1&&(o=t.name+"-"+(n+1)),e.next=4,r.picToPdf(t.path,o,a);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,r)})));return function(t,a){return e.apply(this,arguments)}}(),max:1,index:0,processCallback:function(e,t){if(i>1&&r.setData({exportTip:"正在拆分导出第"+e.length+"/"+i+"个pdf"}),e.length===i){var a=e[0];r.handleShareOrPreview(a,r.data.resultFsids.length)}else t.length>0&&t.length+e.length===i&&(r.setData({ifExporting:!1}),o.showToast({title:"导出失败，请重试",icon:"none",duration:2e3}))}}),this.exportTaskSchedule.start();case 9:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)}),picToPdf:function(e,t,a){var i=this;return new Promise((function(n,o){(0,C.createPicList)({name:t,fsids:a}).then((function(r){r&&0===r.errno&&(i.picToPDFTask=new T.PicToPDFTask({fsidList:a,piclistid:r.data.piclistid,savepath:e,savename:t+".pdf",processCallback:function(){}}),i.picToPDFTask.start().then((function(e){(0,B.sendLog)("exportResult",{upload_result:"suc",pdf_fsid:i.data.inFile.fsid,pdf_size:i.data.inFile.size,pdf_pages:i.data.resultFsids.length}),n(e.data[0].target_fsid)})).catch((function(e){(0,B.sendLog)("exportResult",{export_result:"fail",fail_reason:JSON.stringify(e),pdf_fsid:i.data.inFile.fsid,pdf_size:i.data.inFile.size,pdf_pages:i.data.resultFsids.length}),o()})))})).catch((function(e){(0,B.sendLog)("exportResult",{export_result:"fail",fail_reason:JSON.stringify(e),pdf_fsid:i.data.inFile.fsid,pdf_size:i.data.inFile.size,pdf_pages:i.data.resultFsids.length}),o()}))}))},handleShareOrPreview:function(e){var t=this;(0,S.getFileMetas)({fsids:[""+e],dlink:1}).then((function(e){if(0===e.errno){var a=e.info[0],i=a.path.split("/");if(o.netdisk){t.setData({ifExporting:!1}),t.setData({showSuccessTip:!0,successTip:"导出成功，已保存至"+i[1]+"-"+i[2]}),n((function(){t.setData({showSuccessTip:!1})}),3e3);var r={fs_id:a.fs_id,path:a.path,size:a.size,md5:a.md5},s={};if(t.data.isIos)s={action:"doc_previewer",data:{from:250,file:r}};else{if(a.size>10485760)return void o.showToast({title:"文件过大，无法打开",icon:"none"});s={action:"swan",data:{entrance:250,invokeUrl:"wps_00001",files:[r]}}}o.netdisk.pageTransition(s,(function(e){(0,B.sendLog)("pdfGageShow"),console.log(e)}))}else{!t.data.isVipOrWork&&t.useLimitFreeNum();var c=a.dlink.replace("http://","https://");U({url:c}).then((function(e){t.setData({ifExporting:!1}),t.setData({showSuccessTip:!0,successTip:"导出成功，已保存至"+i[1]+"-"+i[2]}),n((function(){t.setData({showSuccessTip:!1})}),3e3),n((function(){M({filePath:e.tempFilePath})}),300)}))}}else t.setData({ifExporting:!1}),o.showToast({title:"导出失败",icon:"none",duration:2e3})})).catch((function(e){t.setData({ifExporting:!1}),o.showToast({title:"导出失败",icon:"none",duration:2e3}),console.log(e)}))},checkTrial:function(){var e=this;(0,D.getDataApi)("watermark_free_num").then((function(t){0===t.errno?""===t.data.value?(0,D.initSysConfByPromise)("sp_pdf_del_water_mark_limit_free","num").then((function(t){"number"==typeof t&&(0,D.setDataApi)({key:"watermark_free_num",value:String(t)}).then((function(a){0===a.errno?e.setData({limitFreeNum:+t}):o.showToast({duration:2e3,title:"服务器出错",icon:"none",mask:!1})}))})).catch((function(){o.showToast({duration:2e3,title:"服务器出错",icon:"none",mask:!1})})):e.setData({limitFreeNum:+t.data.value}):o.showToast({duration:2e3,title:"服务器出错",icon:"none",mask:!1})})).catch((function(){o.showToast({duration:2e3,title:"服务器出错",icon:"none",mask:!1})}))},useLimitFreeNum:function(){var e=this,t=this.data.limitFreeNum-1;(0,D.setDataApi)({key:"watermark_free_num",value:String(t)}).then((function(a){0===a.errno?e.setData({limitFreeNum:t<0?0:t}):o.showToast({title:"服务器出错",icon:"none",duration:2e3})})).catch((function(){o.showToast({title:"网络错误",icon:"none",duration:2e3})}))},handleBuySVip:function(){(0,B.sendLog)("payPanelClk",{pay_type:"svip_pay"}),o.netdisk.pageTransition({action:"vip",data:{from:this.agentFrom,to:132}},(function(e){console.log(e)}))},handleBuyWorkCombo:function(){(0,B.sendLog)("payPanelClk",{pay_type:"work_pay"}),o.netdisk.pageTransition({action:"richMedia",link_url:"https://pan.baidu.com/wap/vip/user?combo=1&active_combo_tab=privilegecard_work&from="+this.agentFrom},(function(e){console.log(e)}))},handleCancel:function(){this.setData({ifExporting:!1}),this.picToPDFTask&&this.picToPDFTask.cancel(),this.exportTaskSchedule&&this.exportTaskSchedule.cancel()},initViewPort:function(){var e=j.globalData.systemInfo.screenWidth,t=j.globalData.isIpx,a=j.globalData.systemInfo.screenHeight-j.globalData.totalHeight-(t?82:48)-12;this.setData({"viewport.height":a,"viewport.width":e,"viewport.top":j.globalData.totalHeight+12,"viewport.left":0})},initVipInfo:function(){var e=this;(0,L.setVipAndWorkInfo)(!1).then((function(t){(t.is_svip||t.is_workPackage)&&e.setData({isVipOrWork:!0,userTypeLoading:!0})}))},showDelwaterMarkPdf:function(){this.setData({showDelWaterMark:!1}),(0,B.sendLog)("checkClk")},showOriginalPdf:function(){this.setData({showDelWaterMark:!0})},closeVipGuide:function(){this.setData({showVipGuide:!1})}})})),window.define("491",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.initSysConfByPromise=a.getDataApi=a.setDataApi=void 0;var P=e(16);a.setDataApi=function(e){return(0,P.bdRequest)({api:"dosp/external/setdata",data:e,method:"POST",clientType:32})},a.getDataApi=function(e){return(0,P.bdRequest)({api:"dosp/external/getdata?key="+e,method:"GET",clientType:32})},a.initSysConfByPromise=function(e,t){return new Promise((function(a,i){var n;(n=e,new Promise((function(e,t){return(0,P.bdRequest)({api:"/act/api/conf?conf_key="+n,method:"GET",clientType:32}).then((function(a){var i=a.errno,n=a.data;0===i&&n?e(n):t(n.errno)})).catch((function(e){t(e)}))}))).then((function(e){if(!Array.isArray(e))return a("default");var i=e[0];try{if(t)return a(JSON.parse(i.conf_value[t]));var n=i.conf_value;for(var o in n)Object.hasOwnProperty.call(n,o)&&(n[o]=JSON.parse(n[o]));a(n)}catch(e){return a("default")}})).catch((function(e){return i(e)}))}))}})),window.define("494",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S,D=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=e(495),T=e(496),I=e(13),E=e(497),x=(S=E)&&S.__esModule?S:{default:S},A=e(469),L=e(474),B=e(407),F=e(498),N=e(7),O=e(8);function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}function M(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var j=(0,N.swanApiToPromise)("authorize"),z=(0,N.swanApiToPromise)("saveImageToPhotosAlbum"),V=r(),H="devtools"===o.getSystemInfoSync().platform,W=[{name:"拼接",type:"puzzle",purpose:"puzzle",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780415174/icon-puzzle-template-1.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780813079/icon-puzzle-template-selected-1.jpg"},{name:"2X1",type:"table",purpose:"id",icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237206337/id.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237205846/id-selcectd.jpg"},{name:"拼接",type:"puzzle",purpose:"house",icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237205474/house.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237205240/house-selected.jpg"},{name:"2X1",type:"table",purpose:"bankcard",icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237204652/bankcard.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237204312/bankcard-selected.jpg"},{name:"拼接",type:"puzzle",purpose:"passport",icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237207662/passport.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237207332/passport-selected.jpg"},{name:"2X1",type:"table",purpose:"invoice",icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237207070/invoice.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661237206682/invoice-selected.jpg"},{name:"2X1",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780415661/icon-puzzle-template-2.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780813445/icon-puzzle-template-selected-2.jpg"},{name:"1X2",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780416019/icon-puzzle-template-3.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780813821/icon-puzzle-template-selected-3.jpg"},{name:"3X1",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780416434/icon-puzzle-template-4.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780814159/icon-puzzle-template-selected-4.jpg"},{name:"2X2",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780416834/icon-puzzle-template-5.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780814580/icon-puzzle-template-selected-5.jpg"},{name:"3X2",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780417223/icon-puzzle-template-6.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780814912/icon-puzzle-template-selected-6.jpg"},{name:"2X3",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780417562/icon-puzzle-template-7.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780815331/icon-puzzle-template-selected-7.jpg"},{name:"3X3",type:"table",purpose:"table",icon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780417933/icon-puzzle-template-8.jpg",selectedIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655780815764/icon-puzzle-template-selected-8.jpg"}];Page({data:{titleText:"拼图",showImageForPhoto:!1,isLoading:!1,showNum:!1,showComboPicker:!1,isIpx:!1,isSvip:!1,isWorkPackage:!1,isFromShoubai:!1,editType:"move",userStatus:"user",TEMPLATE_ACTIVE:1,drawPageslength:1,currentPage:1,typeTransX:0,typesettingWidth:57*W.length+36,typeShow:!0,TEMPLATE_LIST_ACTIVE:[],topHeight:0,viewport:{scrollY:!0,scrollTop:0,left:0,top:0,height:0,width:0},drawPages:[{id:"canvas_0",left:0,top:0,height:0,width:0,images:[{url:"",left:0,top:0,width:0,height:0,scale:0,deg:0,del:!1,fsid:""}]}],svipIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655974697494/svip.jpg",limitIcon:"https://staticsns.cdn.bcebos.com/amis/2023-1/1673936192013/limitIcon.png",isIos:(0,O.checkIsIos)(),schemeUrl:"",isAdjust:!1,isCanJump:!1,usersType:!0},onShow:function(){var e=this;this.uploadTip=this.selectComponent("#upload-tip");var t=[],a=[],i=0;this.setData({isLoading:!0});try{var r=getCurrentPages();t=r[r.length-1].options}catch(e){console.log(e)}if("smart"===t.from){this.setData({isFromShoubai:!0}),n((function(){V.globalData.loginInfo.uk_str!==t.uk&&(o.showModal({content:"当前账号与百度账号不一致，请切换账号后再试",showCancel:!1,confirmText:"确定"}),o.hideLoading())}),500),this.from="from_pintu_shoubai";try{(0,A.getPuzzle)().then((function(t){var a=JSON.parse(t.data.value);Promise.all([(0,C.getImageListInfo)(a,!0)]).then((function(t){e.initPageInfo(),e.setData({drawPages:t[0],TEMPLATE_LIST_ACTIVE:e.initTemplateList(a[0].currentPuzzleIndex),drawPageslength:t[0].length,isLoading:!1})})).catch((function(e){o.showModal({title:"图片读取错误",content:JSON.stringify(e),confirmText:"确定"})}))}))}catch(e){console.log(e)}}else{if("puzzlePage"===t.from)this.puzzleFrom="puzzlePage",this.setData({isFromShoubai:!0}),this.tempImageList=B.globalCache.get(t.paramsId),this.tempImageList.forEach((function(e){a.push([1,e.path,e.path])})),(0,I.setVipAndWorkInfo)().then((function(t){"hit"!==t.userType?t.is_svip||t.is_workPackage||e.setData({isAdjust:!0,usersType:!1}):e.setData({usersType:!0})}));else try{a=JSON.parse(t.image),this.savePath=decodeURIComponent(t.savePath)}catch(e){console.log(e)}0===a.length&&o.showModal({title:"getImageInfo",content:"图片为空",confirmText:"确定"}),i=a.length,this.mode=t.mode,this.initData(a)}V.globalData.isAppLogin&&(0,I.setVipAndWorkInfo)().then((function(t){if("hit"!==t.userType){var a=t.is_svip,i=t.is_workPackage;e.isSvip=t.is_svip,e.isWorkPackage=t.is_workPackage;var n="user";a?n="svip":i&&(n="work"),e.setData({isSvip:a,isWorkPackage:i,userStatus:n,usersType:!1})}else e.setData({usersType:!0})})),o.newLog.documentPuzzlePage.show.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),pic_number:i,pagesource:this.data.isFromShoubai?"photo_pinjie":""}})},initDefaltPageInfo:function(){var e=V.globalData.systemInfo.screenWidth-20;return{idx:0,left:10,top:0,height:1.41*e,width:e,intervalHeight:12}},initData:function(e){var t=this;Promise.all([(0,C.getImageListInfo)(e)]).then((function(e){t.initPageInfo();var a=(0,T.handlePosition)(e[0],"table","2X1",t.initDefaltPageInfo(),"id");t.init(a,!0),t.setData({TEMPLATE_LIST_ACTIVE:t.initTemplateList(),drawPageslength:a.length,isLoading:!1})})).catch((function(e){o.showModal({title:"图片读取错误",content:JSON.stringify(e),confirmText:"确定"})}))},initPageInfo:function(){var e=V.globalData.systemInfo.screenWidth,t=V.globalData.isIpx,a=V.globalData.systemInfo.screenHeight-V.globalData.totalHeight-(t?82:48)-12;this.setData({topHeight:V.globalData.totalHeight,"viewport.height":a,"viewport.width":e,"viewport.top":V.globalData.totalHeight+12,"viewport.left":0,isIpx:t})},init:function(e){for(var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],n=this.initDefaltPageInfo(),o=function(o){t.initPuzzlePage(e[o].page,n,o).then((function(n){if(i.push(n),o===e.length-1&&(t.setData({drawPages:i}),t.data.isIos&&a&&t.mode)){new B.TaskSchedule([].concat(M(t.tempImageList)),{taskCallback:function(){var e=U(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.uploadImage2Pan)(a.url||a.path,"/_pcs_.appdata/qwettyuioojh",""+a.hash+(new Date).getTime()+".jpg");case 2:return i=e.sent,e.abrupt("return",{info:i});case 4:case"end":return e.stop()}}),e,t)})));return function(t){return e.apply(this,arguments)}}(),max:t.tempImageList.length,processCallback:function(e,a){if(e.length+a.length===t.tempImageList.length){for(var i=e.map((function(e){return e.info.fs_id})),n=0;n<t.data.drawPages.length;n++)for(var o=0;o<t.data.drawPages[n].images.length;o++)t.setData(R({},"drawPages["+n+"].images["+o+"].imageInfo.fsid",i[n*t.data.drawPages[0].images.length+o]));var r="bdnetdisk://swan/OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH/pages/puzzle/puzzle?uk="+V.globalData.loginInfo.uk_str+"&from=smart&is_advert_filter=1";t.setData({isCanJump:!0,schemeUrl:r})}}}).start()}}))},r=0;r<e.length;r++)o(r)},onReady:function(){this.exportImage=this.selectComponent("#exportImage")},initPuzzlePage:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 0===Object.keys(e).length?e=Object.assign({},t,{id:"canvas_"+a,idx:a,images:[],top:a*(t.height+t.intervalHeight)}):e.images=e.images.map((function(e){return{url:e.url,imageInfo:e,allDeg:0,width:e.point[1][0]-e.point[0][0],height:e.point[2][1]-e.point[1][1],left:e.point[0][0]-10,top:e.point[0][1],scale:1,deg:0,del:!1,focus:!1,zIndex:7}})),new Promise((function(t){t(e)}))},initTemplateList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return W.map((function(t,a){var i=t.name,n=t.type,o=t.icon,r=t.selectedIcon,s=t.purpose;return a===e?{name:i,type:n,icon:r,purpose:s}:{name:i,type:n,icon:o,purpose:s}}))},diff:function(e,t,a){return this.data.drawPages.map((function(i,n){return Object.assign({},i,{images:i.images.map((function(i,o){return i.del?i:Object.assign({},i,a(e===n&&t===o,i))}))})}))},handleFocusImage:function(e){var t=e.currentTarget.dataset,a=t.page,i=t.image;if(!0!==t.del){var n=!1,o=this.diff(a,i,(function(e){return e&&(n=!0),{focus:e,zIndex:e?10:1}}));this.setData({drawPages:o,"viewport.scrollY":!n})}},start:function(e){var t=this.data.viewport,a=e.changedTouches[0],i=[a.pageX,a.pageY];!0===H&&(i=[a.pageX-t.left-20,a.pageY-t.top]),this.startPoint=i,this.handleFocusImage(e),o.newLog.documentPuzzlePage.edit.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),pagesource:this.data.isFromShoubai?"photo_pinjie":""}})},transPointToCenter:function(e,t){var a=D(e,2),i=a[0],n=a[1];return[i-(t.left+t.width/2),n-(t.top+t.height/2)]},scroll:function(e){var t=this;0!==e.detail.deltaY&&this.setData({typeShow:!1}),n((function(){var a=100,i=20,o=t.data.drawPageslength;i-=5*Math.floor(o/20),a-=Math.floor(o/4)*i;var r=Math.floor(e.detail.scrollTop/(1.41*t.data.viewport.width-a));t.setData({currentPage:r+1}),t.data.drawPageslength>=1&&(t.data.showNum||t.setData({showNum:!0}),t.timer&&clearTimeout(t.timer),t.timer=n((function(){t.setData({showNum:!1})}),5e3))}))},move:function(e){var t=this.data.viewport;if(!t.scrollY){this.setData({typeShow:!1});var a=e.currentTarget.dataset,i=a.page,n=a.image,r=a.del,s=a.focus;if(r&&o.newLog.documentPuzzlePage.finishEdit.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),edit_type:"del",pagesource:this.data.isFromShoubai?"photo_pinjie":""}}),!0!==r&&!1!==s){var c=e.changedTouches[0],l=[c.pageX,c.pageY];!0===H&&(l=[c.pageX-t.left-20,c.pageY-t.top]);var p=D(l,2),u=p[0],d=p[1];if(void 0!==this.startPoint){var h=this.startPoint,g=this.data.drawPages[i].images[n];if(!0!==this.isRotate){var f=u-h[0],m=d-h[1],v=Object.assign({},g,{left:g.left+f,top:g.top+m});v.top+(v.height-v.height*v.scale)/2>this.data.drawPages[i].height&&(this.pageChange={flag:!0,type:"next",idx:i,iidx:n}),v.top+v.height*v.scale<0&&(this.pageChange={flag:!0,type:"pre",idx:i,iidx:n}),this.startPoint=[u,d];var y=v.imageInfo.point.map((function(e){var t=D(e,2),a=t[0],i=t[1];return[a+f,i+m]}));v.imageInfo.point=y;var w=y[0],b=y[2];v.imageInfo.center=[w[0]+(b[0]-w[0])/2,w[1]+(b[1]-w[1])/2],this.setData(R({editType:"move"},"drawPages["+i+"].images["+n+"]",v))}else{var _=this.transPointToCenter(h,g),k=D(_,2),P=k[0],S=k[1],C=(0,L.getPointDis)([0,0],[P,S]),T=this.transPointToCenter([u,d],g),I=D(T,2),E=I[0],x=I[1],A=(0,L.getPointDis)([0,0],[E,x]),B=Math.atan2(S,P),F=(Math.atan2(x,E)-B)/(2*Math.PI)*360;this.startPoint=[u,d],g.allDeg+=F;var N=g.allDeg%90;!0===Math.abs(N)<15?(F=0,!1===this.isPositive&&(this.isPositive=!0,F=g.allDeg-N-g.deg,o.vibrateShort())):this.isPositive=!1;var O=Object.assign({},g,{deg:g.deg+F,scale:g.scale*(A/C)}),U=this.data.drawPages[i].images[n].scale.toFixed(3)-O.scale.toFixed(3)?"big":"small";this.setData(R({editType:U},"drawPages["+i+"].images["+n+"]",O))}}else this.startPoint=[u,d]}}},end:function(){if(this.isRotate=!1,this.isPositive=!1,delete this.startPoint,this.pageChange&&!0===this.pageChange.flag){this.pageChange.flag=!1;var e=this.pageChange,t=e.idx,a=e.iidx,i=e.type,n=this.data.drawPages,r=n[t].images[a],s=0;if("pre"===i){var c=n[t-1].images;r.focus=!0,r.top=r.top+n[t].height+30,s=n[t].height+30,c.push(r),n[t].images.splice(a,1)}if("next"===i){var l=n[t+1].images;r.focus=!0,r.top=r.top-n[t].height-30,s=-n[t].height-30,l.push(r),n[t].images.splice(a,1)}r.imageInfo.center=[r.left+r.width/2,r.top+r.height/2],r.imageInfo.point=r.imageInfo.point.map((function(e){var t=D(e,2);return[t[0],t[1]+s]})),this.setData({drawPages:n}),"big"!==this.data.editType&&"small"!==this.data.editType||o.newLog.documentPuzzlePage.finishEdit.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),edit_type:"revolve",pagesource:this.data.isFromShoubai?"photo_pinjie":""}}),o.newLog.documentPuzzlePage.finishEdit.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),edit_type:this.data.editType,pagesource:this.data.isFromShoubai?"photo_pinjie":""}})}},handleTypeStart:function(e){var t=e.touches[0].clientX;this.typeStartX=t},handleTypeMove:function(e){var t=e.touches[0].clientX,a=t-this.typeStartX,i=this.data.typeTransX+a;i>=0||i<=V.globalData.systemInfo.screenWidth-this.data.typesettingWidth||(this.setData({typeTransX:i}),this.typeStartX=t)},handleChooseType:function(e){this.initPageInfo(),this.getPuzzlePageData(this.data.drawPages);var t=[];this.data.drawPages.map((function(e){e.images.map((function(e){t.push(e.imageInfo)}))}));var a=(0,T.handlePosition)(t,e.currentTarget.dataset.type,e.currentTarget.dataset.mode,this.initDefaltPageInfo(),e.currentTarget.dataset.purpose);this.init(a),this.setData({"viewport.scrollY":!0,"viewport.scrollTop":0,drawPageslength:a.length,TEMPLATE_LIST_ACTIVE:this.initTemplateList(e.currentTarget.dataset.index),TEMPLATE_ACTIVE:e.currentTarget.dataset.index}),o.newLog.documentPuzzlePage.muban.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),muban_type:e.currentTarget.dataset.index,pagesource:this.data.isFromShoubai?"photo_pinjie":""}})},handleToggleType:function(){this.setData({typeShow:!this.data.typeShow})},handleDelImage:function(e){var t=e.currentTarget.dataset,a=t.page,i=t.image,n=this.diff(a,i,(function(e){return{del:e}}));this.setData({drawPages:n})},handleRotateImage:function(){this.isRotate=!0},handleAddPage:function(){var e=this,t=this.data.drawPageslength,a=0;if(this.getPuzzlePageData(this.data.drawPages,!1),this.data.drawPages.forEach((function(e){a+=e.images.length})),t+1>a)o.showToast({title:"空白页数量不能超过图片数量",icon:"none",mask:!1});else{var i=this.initDefaltPageInfo();this.initPuzzlePage({},i,t).then((function(a){var i=e.data.drawPages;e.setData({drawPageslength:t+1,drawPages:[].concat(M(i),[a])})})),o.newLog.documentPuzzlePage.addPage.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),pagesource:this.data.isFromShoubai?"photo_pinjie":""}})}},getPuzzlePageData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[];e.map((function(e){var i=e.images.filter((function(e){return!e.del}));!0===t?i.length>0&&a.push(Object.assign({},e,{images:i})):a.push(Object.assign({},e,{images:i}))})),this.setData({drawPages:a})},handleExport:function(){var e=this;this.setData({isLoading:!0}),this.getPuzzlePageData(this.data.drawPages),this.pathInfo=this.getName();var t=this.data.drawPages,a=[];new x.default((function(i){return e.exportImage.resize(i).then((function(i){return o.netdisk||(a.push(i),a.length===t.length&&j({scope:"scope.writePhotosAlbum"}).then(U(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,i=0;case 2:if(!(i<a.length)){t.next=8;break}return t.next=5,z({filePath:a[i]});case 5:i++,t.next=2;break;case 8:e.setData({isLoading:!1}),o.showToast({title:"图片保存本地成功",icon:"none"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),o.showToast({title:"图片保存本地失败",icon:"none"});case 15:case"end":return t.stop()}}),t,e,[[0,12]])})))).catch((function(){o.openSetting({})}))),{fileName:e.pathInfo.pageTitle+"_"+(new Date).getTime()+".jpg",filePath:i}}))})).start(t,this.pathInfo.path).then((function(t){var a=t.map((function(e){return e.fs_id})),i=t.map((function(e,t){return t+1}));(0,A.createPicList)({name:e.pathInfo.pageTitle,fsids:JSON.stringify(a),pos:JSON.stringify(i)}).then((function(t){e.setData({isLoading:!1}),0===t.errno?(console.log("创建记录成功",t),o.netdisk&&o.netdisk.pageTransition({action:"puzzle",data:{picid:t.data.piclistid}},(function(e){console.log(e)})),o.newLog.documentPuzzlePage.saveSuc.send({ext:{user_type:e.data.userStatus,time_stamp:(new Date).getTime(),muban_type:e.data.TEMPLATE_ACTIVE,fsid:JSON.stringify(a),pagesource:e.data.isFromShoubai?"photo_pinjie":""}}),o.showToast({title:"保存成功",icon:"none",mask:!1})):o.showToast({title:"保存失败",icon:"none",mask:!1})})).catch((function(t){console.log(t),e.setData({isLoading:!1}),o.showToast({title:"保存失败",icon:"none",mask:!1})}))})).catch((function(){e.setData({isLoading:!1}),o.showToast({title:"保存失败",icon:"none",mask:!1})}))},getName:function(){var e=new Date,t=function(e){return String(e).padStart(2,"0")},a=e.getFullYear(),i=t(e.getMonth()+1),n=t(e.getDate()),o=t(e.getHours()),r=t(e.getMinutes()),s=t(e.getSeconds());return{path:"/文档加工/文档扫描/文档扫描_"+a+i+n+"_"+o+r+s,pageTitle:"拼图_"+a+i+n+"_"+o+r+s,timestamp:e.getTime()}},handleSave:function(){var e=this;if(void 0!==o.netdisk)if("puzzlePage"===this.puzzleFrom&&!this.data.isCanJump&&this.data.isIos&&this.data.isAdjust)o.showToast({title:"图片上传中，请稍候重试",icon:"none",mask:!1});else if(this.data.usersType)(0,I.setVipAndWorkInfo)().then((function(t){"hit"!==t.userType?(e.isSvip=t.is_svip,e.isWorkPackage=t.is_workPackage,t.is_svip||t.is_workPackage||e.setData({isAdjust:!0}),e.setData({userStatus:t.type,usersType:!1})):o.showToast({title:"操作过快，请稍后重试~",icon:"none",mask:!1})}));else{if(this.isSvip||this.isWorkPackage)this.handleExport();else{if(this.data.isAdjust&&!this.data.isIos)return void o.navigateTo({url:"/payment/pay/pages/cashierDesk/index?category=svip&svip=1&from=from_pintu_shoubai"});this.setData({showComboPicker:!0});var t=0;this.getPuzzlePageData(this.data.drawPages,!1),this.data.drawPages.forEach((function(e){t+=e.images.length})),o.newLog.documentPuzzlePage.payPanelShow.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),pic_number:t,pagesource:this.data.isFromShoubai?"photo_pinjie":""}})}o.newLog.documentPuzzlePage.save.send({ext:{user_type:this.data.userStatus,time_stamp:(new Date).getTime(),muban_type:this.data.TEMPLATE_ACTIVE,pagesource:this.data.isFromShoubai?"photo_pinjie":""}})}else this.handleExport()},handleCloseComboPicker:function(){this.setData({showComboPicker:!1})},handleBuySVip:function(){var e=this;o.netdisk.pageTransition({action:"vip",data:{from:this.from?this.from:"from_pintu",to:132}},(function(t){o.newLog.documentPuzzlePage.payPanelClick.send({ext:{user_type:e.data.userStatus,time_stamp:(new Date).getTime(),pay_type:"svip_pay",from:e.from,pagesource:e.data.isFromShoubai?"photo_pinjie":""}}),console.log(t)}))},handleBuyWorkCombo:function(){var e=this,t=this.from?this.from:"from_pintu";o.netdisk.pageTransition({action:"richMedia",link_url:"https://pan.baidu.com/wap/vip/user?combo=1&active_combo_tab=privilegecard_work&from="+t},(function(t){o.newLog.documentPuzzlePage.payPanelClick.send({ext:{user_type:e.data.userStatus,time_stamp:(new Date).getTime(),pay_type:"work_pay",from:e.from,pagesource:e.data.isFromShoubai?"photo_pinjie":""}}),console.log(t)}))},handleSavePuzzle:function(){this.setPuzzlePic()},setPuzzlePic:function(){this.getPuzzlePageData(this.data.drawPages);var e=this.data.drawPages;return e[0].currentPuzzleIndex=this.data.TEMPLATE_ACTIVE,new Promise((function(t,a){(0,A.setPuzzle)({key:"pic_puzzle",value:JSON.stringify(e)}).then((function(e){0===e.errno?t(e):a(e)}))}))}})})),window.define("495",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getImageListInfo=a.getImageInfoForNetwork=a.getImageInfoForLocal=a.getImageInfo=void 0;var P=e(7),S=e(68),D=a.getImageInfo=(0,P.swanApiToPromise)("getImageInfo"),C=a.getImageInfoForLocal=function(e,t){return D({src:e}).then((function(e){return e.localLink=t,e}))},T=a.getImageInfoForNetwork=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={fsids:JSON.stringify(e),dlink:1,speedup:1};return t&&(a.hidden=1),(0,S.getFileMetas)(a).then((function(t){if(0===t.errno){var a=t.info.map((function(t,a){return D({src:(t.thumbs.url3||t.thumbs.url2||t.thumbs.url1).replace(/^http/,"https")}).then((function(i){return Object.assign({},i,{dlink:t.dlink,fsid:e[a]})}))}));return Promise.all(a)}return Promise.reject()}))};a.getImageListInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return Promise.resolve([]);var a=[],i=[];return t?(e.forEach((function(e){e.images.forEach((function(e){i.push(String(e.imageInfo.fsid))}))})),i.length>0&&a.push(T(i,!0)),Promise.all(a).then((function(t){for(var a=0,i=0;i<e.length;i++)for(var n=0;n<e[i].images.length;n++)e[i].images[n].url=t[0][a].path,e[i].images[n].imageInfo.url=t[0][a].path,e[i].images[n].imageInfo.dlink=t[0][a].dlink,a++;return e}))):(e.forEach((function(e){1===Number(e[0])?a.push(C(decodeURIComponent(e[2]),decodeURIComponent(e[2]))):i.push(e[1])})),i.length>0&&a.push(T(i)),Promise.all(a).then((function(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),t})))}})),window.define("496",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(e,t,a){var i=5,n=10,o=Math.floor(e.width-2*i),r=Math.floor(o*t[0][1]/t[0][0]),s=new Array,c=0;if(r+2*n>e.height){if("house"===a)r=355,o=Math.floor(r*t[0][0]/t[0][1]),c=Math.floor((e.width-o-2*i)/2),n=Math.floor((e.height-r)/2);else if("passport"===a)r=290,o=Math.floor(r*t[0][0]/t[0][1]),c=Math.floor((e.width-o-2*i)/2),n=Math.floor((e.height-r)/2);else{var l=Math.floor((e.height-2*n)*t[0][0]/t[0][1]);c=Math.floor((e.width-l-2*i)/2),o=l,r=e.height-2*n}s.push([[10+i+c,n],[e.width+10-i-c,n],[e.width+10-i-c,n+r],[10+i+c,n+r]])}else"house"===a?(o=245,r=Math.floor(o*t[0][1]/t[0][0]),i=Math.floor((e.width-o)/2)):"passport"===a&&(o=220,r=Math.floor(o*t[0][1]/t[0][0]),i=Math.floor((e.width-o)/2)),c=Math.floor((e.height-2*n-r)/2),s.push([[i+10,n+c],[i+10+o,n+c],[i+10+o,e.height-n-c],[i+10,e.height-n-c]]);return s},S=function(e,t,a,i,n){for(var o=5,r=10,s=13,c=Math.floor((e.width-2*o-(a-1)*s)/a),l=Math.floor((e.height-2*r-(i-1)*s)/i),p=Array(t.length).fill(c),u=Array(t.length).fill(l),d=new Array,h=0,g=0,f=0;f<t.length;f++){var m=Math.floor(p[f]*t[f][1]/t[f][0]);m<u[f]+2?("id"===n||"bankcard"===n?(p[f]=153,u[f]=96,s=-48,g=Math.floor((l-u[f])/2),o=Math.floor((c-p[f])/2)):"invoice"===n?(p[f]=200,u[f]=148,s=-24,g=Math.floor((l-u[f])/2),o=Math.floor((c-p[f])/2)):(g=Math.floor((u[f]-m)/2),u[f]=m),d.push([[o+10+(c+s)*(f%a),r+(l+s)*h+g],[o+10+p[f]+(c+s)*(f%a),r+(l+s)*h+g],[o+10+p[f]+(c+s)*(f%a),r+(l+s)*h+l-g],[o+10+(c+s)*(f%a),r+(l+s)*h+l-g]]),o=5):("id"===n||"bankcard"===n?(u[f]=96,s=-48,r=Math.floor((l-u[f])/2)):"invoice"===n&&(u[f]=148,s=-24,r=Math.floor((l-u[f])/2)),p[f]=Math.floor(u[f]*t[f][0]/t[f][1]),g=Math.floor((c-p[f])/2),d.push([[o+10+(c+s)*(f%a)+g,r+(l+s)*h],[o+10+(c+s)*(f%a)+c-g,r+(l+s)*h],[o+10+(c+s)*(f%a)+c-g,r+(l+s)*h+u[f]],[o+10+(c+s)*(f%a)+g,r+(l+s)*h+u[f]]]),r=10),(f+1)%a==0&&h++}return d},D=function(e){var t=e,a=t[0],i=t[2];return[a[0]+(i[0]-a[0])/2,a[1]+(i[1]-a[1])/2]};a.handlePosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2X1",i=arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"id",o=[];if("puzzle"===t){for(var r=0;r<e.length;r++){var s=Object.assign({},i,{id:"canvas_"+r,idx:r,top:r*(i.height+i.intervalHeight)}),c=P(s,[[e[r].width,e[r].height]],n),l=D(c[0]),p={url:e[r].path||e[r].url,point:c[0],center:l,dlink:e[r].dlink,height:e[r].height,width:e[r].width,localLink:e[r].localLink,fsid:e[r].fsid};s.images=[p],o.push({page:s})}return o}for(var u=a.split("X"),d=+u[1],h=+u[0],g=d*h,f=Math.ceil(e.length/g),m=function(t){var a=Object.assign({},i,{id:"canvas_"+t,idx:t,top:t*(i.height+i.intervalHeight)}),r=e.slice(g*t,g*(t+1)),s=S(a,r.map((function(e){return[e.width,e.height]})),d,h,n);a.images=r.map((function(e,t){var a=D(s[t]);return{url:e.path||e.url,point:s[t],center:a,dlink:e.dlink,height:e.height,width:e.width,localLink:e.localLink,fsid:e.fsid}})),o.push({page:a})},v=0;v<f;v++)m(v);return o}})),window.define("497",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),S=e(54);function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return Promise.resolve()},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};D(this,e),this.getImageCallback=t,this.processCallback=a,this.currentUploadIndex=0}return P(e,[{key:"start",value:function(e,t){var a=this;return new Promise((function(i,n){a.uploadPath=t,a.pages=e,a.startUpload(i,n,[])}))}},{key:"startUpload",value:function(e,t,a){var i=this;this.getNextUploadFile().then((function(n){i.generateUploadTask(n).then((function(n){a.push(n);var o=i.currentUploadIndex+1;i.pages.length!==o?(i.processCallback(a),i.currentUploadIndex=o,i.startUpload(e,t,a)):e(a)})).catch((function(e){t(e)}))}))}},{key:"getNextUploadFile",value:function(){var e=this.currentUploadIndex,t=this.pages[e];return this.getImageCallback(t)}},{key:"generateUploadTask",value:function(e){var t=this,a=e.fileName,i=e.filePath;return new Promise((function(e,n){(0,S.uploadFile)(i,t.uploadPath,a).then((function(t){try{if("string"==typeof t){var a=JSON.parse(t);e(a)}else void 0!==t.fs_id?e(t):n(t)}catch(e){n(e)}})).catch((function(e){n(e)}))}))}},{key:"removePic",value:function(e){n.removeSavedFile({filePath:e,success:function(){console.log("已删除","none",e)}})}}]),e}();a.default=C})),window.define("498",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Upload=a.uploadImage2Pan=void 0;var P=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),S=e(54);a.uploadImage2Pan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise((function(i,o){(0,S.uploadFile)(e,t,a).then((function(e){i(e)})).catch((function(e){var t="上传至网盘失败，服务器开小差";switch(e.code){case 31112:t="网盘空间不足，抓紧购买会员扩容吧";break;case 31061:t="文件已上传，请勿重复操作"}n.showToast({title:t,icon:"none",duration:2e3}),o(e)}))}))},a.Upload=function(){function e(t,a,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imageList=t,this.uploadPath=a,this.pengdingTaskNum=0,this.waitList=[],this.cancel=!1,this.isTempFile=i||!1,this.name=n||Date.now()}return P(e,[{key:"work",value:function(e){var t=this;return new Promise((function(a,i){t.fileSystemManager=n.getFileSystemManager();var o=n.env.USER_DATA_PATH,r=t.name+".jpg",s="";t.isTempFile?s=e.filePath:(t.fileSystemManager.writeFileSync(o+"/"+r,e.filePath,"base64"),s=o+"/"+r),(0,S.uploadFile)(s,t.uploadPath,r).then((function(e){try{if("string"==typeof e){var t=JSON.parse(e);a(t)}else a(e)}catch(e){i(e)}})).catch((function(e){try{var t="上传至网盘失败，服务器开小差";switch(JSON.parse(e.data).error_code){case 31112:t="网盘空间不足，抓紧购买会员扩容吧";break;case 31061:t="文件已上传，请勿重复操作"}n.showToast({title:t,icon:"none",duration:2e3})}catch(e){console.log(e)}i(e)})).finally((function(){!t.isTempFile&&t.fileSystemManager.removeSavedFile({filePath:o+"/"+r,success:function(e){console.log("removeSavedFile success",e)},fail:function(e){console.log("removeSavedFile fail",e)}})}))}))}},{key:"getImageFor",value:function(e){var t=this;return new Promise((function(a){t.pengdingTaskNum>=5?t.waitList.push({filePath:e.filePath,reslove:a}):(t.pengdingTaskNum++,t.work(e).then((function(e){t.pengdingTaskNum--,t.pengdingTaskNum<5&&t.nextWork(),a(e)})))}))}},{key:"nextWork",value:function(){var e=this,t=this.waitList.shift();t&&(this.pengdingTaskNum++,this.work(t).then((function(a){e.pengdingTaskNum--,e.pengdingTaskNum<5&&e.nextWork(),t.reslove(a)})))}},{key:"start",value:function(){for(var e=[],t=0;t<this.imageList.length;t++){if(this.cancel)return;e.push(this.getImageFor(this.imageList[t]))}return Promise.all(e)}},{key:"cancel",value:function(){this.cancel=!0}}]),e}()})),window.define("501",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S=e(7),D=e(407),C=e(13);var T=r(),I=(0,S.swanApiToPromise)("chooseImage"),E=(0,S.swanApiToPromise)("getImageInfo"),x=!1;Page({data:{topHeight:0,isIpx:!1,screenHeight:T.globalData.systemInfo.screenHeight-T.globalData.totalHeight,bottomOperateHeight:168,flashOffIcon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-flash-off.png",flashOnIcon:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram/ic-flash-on.png",maxPhotoLength:20,isFinish:!1,lastPhotoUrl:"",photoLength:0,multiple:!1,count:1,canPhoto:!0},targetPage:"",photoUrls:[],onInit:function(){},onLoad:function(e){var t=this;this.options=e,this.ctx=o.createCameraContext(),this.initPageInfo(),this.imageResize=this.selectComponent("#imageResize"),this.setData({multiple:"true"===e.multiple,count:"true"===e.multiple?e.count||10:1,maxPhotoLength:"false"===e.multiple?1:20}),this.targetPage=e.targetPage,o.newLog.takePhotoPage.show.send({source:this.options.from,ext:{pagesource:this.options.from}}),"true"===e.showAlbum&&n((function(){t.getImageForPhotoAlbum()}),300),"true"===e.usercenter&&o.newLog.takePhotoPage.userCenterShow.send({ext:{pagesource:e.from}}),"true"===e.searchcard&&o.newLog.takePhotoPage.searchCardShow.send({ext:{pagesource:e.from}}),"wordscan"===e.from&&o.newLog.aitoolsPage.wordscanShow.send(),"photoToWord"===e.from&&o.newLog.aitoolsPage.photoToWordShow.send()},onReady:function(){},onShow:function(){x=!1},initPageInfo:function(){this.setData({topHeight:T.globalData.totalHeight,isIpx:T.globalData.isIpx,screenHeight:T.globalData.systemInfo.screenHeight-T.globalData.totalHeight})},getImageForPhotoAlbum:function(){var e=this;this.setData({canPhoto:!1,isFinish:!0}),I({count:this.data.count,sizeType:["original"],sourceType:["album"]}).then(function(){var t,a=(t=regeneratorRuntime.mark((function t(a){var i,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.tempFilePaths,n=0;case 2:if(!(n<i.length)){t.next=11;break}return t.next=5,e.resizeImage(i[n]);case 5:(r=t.sent).url=r.path,e.photoUrls.push(r);case 8:n++,t.next=2;break;case 11:e.setData({lastPhotoUrl:e.photoUrls[e.photoUrls.length-1].path,photoLength:e.photoUrls.length}),e.photoUrls.length===i.length&&e.goToPage(),(0,C.setVipAndWorkInfo)(!0).then((function(t){o.newLog.albumPhotoPage.clkSavePhone.send({source:e.options.from,ext:{user_type:t.type,pagesource:e.options.from,pic_number:e.photoUrls.length}}),o.newLog.picTool.takeLocalClk.send({ext:{tool_name:e.options.picToolType}})}));case 14:case"end":return t.stop()}}),t,e)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function i(n,o){try{var r=e[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));t(s)}("next")}))});return function(e){return a.apply(this,arguments)}}()).catch((function(t){1002===t.errCode&&e.setData({canPhoto:!0,isFinish:!1})})),(0,C.setVipAndWorkInfo)(!0).then((function(t){o.newLog.takePhotoPage.clkPhonePhoto.send({source:e.options.from,ext:{user_type:t.type,pagesource:e.options.from}})}))},getPhotoForCloud:function(){var e=this,t=this.targetPage;"picTools"===this.options.from&&(t=encodeURIComponent(this.targetPage+"&type=pan"),this.options.from=this.options.picToolType),o.showModalPage({url:"/pages/select-file-for-netdisk/index?fileInfoType="+this.options.fileInfoType+"&fileType=img&from="+this.options.from+"&multiple="+this.data.multiple+"&selectFileMax=20&targetPage="+t,success:function(){},fail:function(){}}),(0,C.setVipAndWorkInfo)(!0).then((function(t){o.newLog.takePhotoPage.clkPanPhoto.send({source:e.options.from,ext:{user_type:t.type,pagesource:e.options.from}}),o.newLog.picTool.takePanClk.send({ext:{tool_name:e.options.picToolType}})}))},takePhoto:function(){var e=this;!0!==x&&(x=!0,this.data.canPhoto&&(this.photoUrls.length>=this.data.maxPhotoLength?o.showToast({title:"目前最多支持"+this.data.maxPhotoLength+"张照片",icon:"none",mask:!1}):(this.ctx.takePhoto({quality:"normal",success:function(t){var a=e.data.photoLength;e.setData({isFinish:!0,lastPhotoUrl:t.tempImagePath,photoLength:a+1}),e.resizeImage(t.tempImagePath).then((function(t){t.url=t.path,e.photoUrls.push(t),x=!1}))},fail:function(){o.showToast({duration:3e3,title:"拍照失败",icon:"none",mask:!1})}}),o.vibrateShort())))},resizeImage:function(e){return E({src:e}).then(this.imageResize.resize.bind(this.imageResize)).then((function(e){return Object.assign({},e,{hash:(0,D.getID)()})})).catch((function(e){console.log(e)}))},handleCheckOne:function(){this.setData({multiple:!1})},handleCheckMore:function(){this.setData({multiple:!0})},handleCheckFlash:function(){this.setData({flash:"off"===this.data.flash?"on":"off"})},goToPage:function(){var e=this,t=D.globalCache.add(this.photoUrls),a=decodeURIComponent(this.targetPage)+"&paramsId="+t;o.redirectTo({url:a}),(0,C.setVipAndWorkInfo)(!0).then((function(t){o.newLog.takePhotoPage.clkFinish.send({source:e.options.from,ext:{user_type:t.type,pic_number:e.photoUrls.length,pagesource:e.options.from}}),o.newLog.picTool.takeDone.send({ext:{tool_name:e.options.picToolType}})}))}})})),window.define("504",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=e(13),D=o(),C="https://staticsns.cdn.bcebos.com/amis/2022-7",T=!!(0,P.getSystemPlatform)()&&(0,P.compareVersion)((0,P.getSystemPlatform)().SDKVersion,"3.480")>=0;Page({data:{currentTab:"tools",totalHeight:0,isIos:!1,tools:{scan:{name:"手机扫描仪",child:[{icon:C+"/1658823361056/word-scan.png",name:"文档扫描",type:"wordScan",logKey:"clkWordScan"},{icon:C+"/1658823361523/wordto-wrod.png",name:"拍图转word",type:"photoToWord",logKey:"clkToword",hidden:!T}]},pdf:{name:"PDF工具",child:[{icon:C+"/1658823360297/to-watermark.png",name:"PDF去水印",type:"toWatermark",logKey:"clkCutShuiyin"},{icon:"https://staticsns.cdn.bcebos.com/amis/2022-9/1662447839867/pdf-to-word.jpg",name:"PDF转Word",type:"pdfToWord",logKey:"clkPdfToword"}]},pic:{name:"图片工具",child:[{icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1660532072296/compress.png",name:"图片压缩",type:"picCompress",logKey:"clkImgProcesss"},{icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661148719948/puzzle-pic.jpg",name:"图片拼接",type:"picPzzle",logKey:"clkPintu"},{icon:"https://staticsns.cdn.bcebos.com/amis/2022-9/1663568381552/pic-dewatermark.png",name:"图片去水印",type:"picDeWatermark",logKey:"clkImgdeWatermark"}]}},toApp:[{icon:C+"/1658823359892/scan-id.png",name:"证件扫描",logKey:"clkCardScan",iosscheme:(0,P.makeSchema)("docservicekingkong",{serviceID:113,from:16,is_advert_filter:1}),androidscheme:(0,P.makeSchema)("arouter",{routo:"WXtorPXPddpUjtMD%2FmkPyX6CD5MIJP3TgWecOX%2ByYn4IMZSmfhWV1AUuSpfp1JVPBAuhu8%2B2tA%2Bnb%2BS20XsjaybzKe5HGQ",is_advert_filter:1})},{icon:C+"/1658823360709/to-write-by-hand.png",name:"试卷去手写",logKey:"clkTestScan",iosscheme:(0,P.makeSchema)("docservicekingkong",{serviceID:114,from:16,is_advert_filter:1}),androidscheme:(0,P.makeSchema)("arouter",{routo:"WXtorPXPddpUjtMD%2FmkPyX6CD5MIJP3TgWecOX%2ByYn4IMZSmfhWV1AUuSpfp1JVPBAuhu8%2B2tA%2Bnb%2BSl1XkycA",is_advert_filter:1})},{icon:C+"/1658823359522/ocr-font.png",name:"文字提取",logKey:"clkWenziScan",iosscheme:(0,P.makeSchema)("docservicekingkong",{serviceID:106,from:16,is_advert_filter:1}),androidscheme:(0,P.makeSchema)("arouter",{routo:"WXtorPXPddpUjtMD%2FmkPyX6CD5MIJP3TgWecOX%2ByYn4IMZSmfhWV1AUuSpfp1JVPBAuhu8%2B2tA%2Bnb%2BSi23sz",is_advert_filter:1})}],isIpx:!1,showFooter:1},onInit:function(){},onShow:function(){(0,S.setVipAndWorkInfo)(!0).then((function(e){n.newLog.aitoolsPage.show.send({ext:{user_type:e.type}})}))},onLoad:function(e){this.initPage(e),this.setData({isIos:(0,P.checkIsIos)()})},initPage:function(e){this.setData({totalHeight:D.globalData.totalHeight,isIpx:D.globalData.isIpx,showFooter:0===Number(e.showFooter)?0:1})},handleToolClick:function(e){var t=e.currentTarget.dataset.type,a=e.currentTarget.dataset.log,i="";switch(t){case"wordScan":this.wordScan();break;case"photoToWord":this.photoToWord();break;case"toWatermark":n.navigateTo({url:"/pages/deWatermark/entrance/index",success:function(){},fail:function(){}});break;case"pdfToWord":this.pdfToWord();break;case"picCompress":i="/pages/image-tools/compress/proccess/index?from=picCompressPage",this.toPicTools(t,i);break;case"picDeWatermark":i="/pages/image-tools/deWatermark/proccess/index?from=picDeWatermarkPage",this.toPicTools(t,i);break;case"picPzzle":i="/pages/puzzle/puzzle?from=puzzlePage",this.toPicTools(t,i)}try{(0,S.setVipAndWorkInfo)(!0).then((function(e){n.newLog.aitoolsPage[a].send({ext:{user_type:e.type}})}))}catch(e){}},pdfToWord:function(){n.navigateTo({url:"/pages/pdf-to-word/pdf-to-word"})},toPicTools:function(e,t){var a="/pages/choose-img/choose-img?type="+e;a+="&targetPage="+encodeURIComponent(encodeURIComponent(t)),n.navigateTo({url:a})},photoToWord:function(){var e="/pages/mobile-camera/mobile-camera?multiple=true&count=20&from=photoToWord";e+="&targetPage="+encodeURIComponent(encodeURIComponent("/pages/image-clip/index?from=photoToWord")),n.navigateTo({url:e})},wordScan:function(){var e="/pages/mobile-camera/mobile-camera?multiple=true&count=20&from=wordscan";e+="&targetPage="+encodeURIComponent(encodeURIComponent("/pages/image-process/index?type=3006&from=tools")),n.navigateTo({url:e})},handleToApp:function(e){var t=e.target.dataset.log;try{(0,S.setVipAndWorkInfo)(!0).then((function(e){n.newLog.aitoolsPage[t].send({ext:{user_type:e.type}})}))}catch(e){}}})})),window.define("507",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(68),S=e(407),D=e(7),C=e(13);function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=(0,D.swanApiToPromise)("getImageInfo"),E=o(),x={},A={img:/.(png|jpg|jpeg)$/i,pdf:/.pdf$/i,word:/.word$/i},L=function(e,t,a){var i=e+"_"+t;return void 0!==x[i]?Promise.resolve(x[i]):(0,P.fileList)({url:"api/list",dir:e,start:20*t,web:!0,limit:20}).then((function(e){var t=[],n=e.data,o=A[a]||/.$/;return n.list.forEach((function(e){e.selected=!1,1===e.isdir?(e.canSelect=!1,t.push(e)):o.test(e.server_filename||e.filename)&&(e.canSelect=!0,t.push(e))})),x[i]=t,t}))};Page({pageIndex:0,data:{rootPath:"",multiple:!1,stackRemove:!0,fileType:"",currentPath:"",pathStack:[],filelist:[],isLoading:!1,hasMore:!1,fileSizeMax:0,selectFileMax:0,selectFileNum:0,selectFileMap:{},canSelect:!0,titleText:"选择文件",pageName:"百度网盘",fileLength:0,viewportHeight:E.globalData.totalHeight,fileInfoType:"local"},onLoad:function(e){this.options=e;var t=e.multiple,a=e.rootPath,i=e.fileType,n=e.stackRemove,o=e.fileSizeMax,r=e.selectFileMax,s=e.targetPage,c=e.fileInfoType,l=0;l="img"===i?10485760:20971520,this.setData({rootPath:a||"/",multiple:"true"===t||!1,fileType:i||"",stackRemove:!n||"true"===n,fileSizeMax:o||l,selectFileMax:"false"===t?1:r||10,fileInfoType:c||"local"}),this.targetPage=s,this.push(this.data.rootPath)},onShow:function(){},push:function(e){this.pageIndex=0,this.fetchDataForPath(e,0,!0)},onFileSelected:function(e){var t=this.data,a=t.selectFileMap,i=t.fileSizeMax,o=t.selectFileNum,r=t.selectFileMax;return e.size>i?(n.showToast({title:"请选择"+i/1024/1024+"M以下的文件",icon:"none"}),!1):!0===this.data.multiple&&this.data.selectFileNum>=r?(n.showToast({title:"请选择"+r+"个以内的文件",icon:"none"}),!1):(a[e.fs_id]=e,this.setData({selectFileMap:a,selectFileNum:o+1}),!0)},handleDone:function(){var e=this,t=this.data,a=t.selectFileMap,i=t.stackRemove,o=Object.values(a);if(!this.targetPage)return E.globalData.selectFileList=o,E.globalData.actionFrom="selectPanFile",void this.handleClose();this.setData({isLoading:!0}),new S.TaskSchedule([].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(o)),{taskCallback:function(){var t,a=(t=regeneratorRuntime.mark((function t(a){var i,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.dlink,a.size>3145728&&(i=a.thumbs.url3||a.dlink),e.next=4,(0,S.netdiskPicToLocal)(i);case 4:return n=e.sent,e.next=7,I({src:n});case 7:return o=e.sent,e.abrupt("return",Object.assign({},o,{hash:(0,S.getID)()}));case 9:case"end":return e.stop()}}),t,e)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function i(n,o){try{var r=e[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));t(s)}("next")}))});return function(e){return a.apply(this,arguments)}}(),max:o.length,processCallback:function(t,a){if(t.length+a.length===o.length){e.setData({isLoading:!1});var r="";r="pan"===e.data.fileInfoType?S.globalCache.add(o):S.globalCache.add(t);var s=e.targetPage+"&paramsId="+r;!0===i?n.redirectTo({url:s}):n.navigateTo({url:s})}}}).start(),(0,C.setVipAndWorkInfo)(!0).then((function(t){n.newLog.wangpanPhotoPage.clkSavePan.send({source:e.options.from,ext:{user_type:t.type,pagesource:e.options.from,pic_number:e.data.selectFileNum}}),"puzzlePage"===e.options.from&&n.newLog.documentPuzzlePage.clkSavePan.send({source:"photo_pinjie",ext:{user_type:t.type,pagesource:"photo_pinjie"}}),["picCompress","picPzzle","picDeWatermark"].includes(e.options.from)&&n.newLog.picTool.panDone.send({ext:{tool_name:e.options.from}})}))},onLoadMore:function(){!1!==this.data.hasMore&&(this.pageIndex++,this.fetchDataForPath(this.data.currentPath,this.pageIndex))},fetchDataForPath:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!0!==this.data.isLoading)return this.setData({isLoading:!0}),L(e,t,this.data.fileType).then((function(n){var o=20===n.length;if(!0===i){var r=a.data.pathStack;a.setData({pathStack:r.concat(e),currentPath:e})}var s=[];n.forEach((function(e){void 0!==a.data.selectFileMap[e.fs_id]&&(e.selected=!0),0===e.isdir&&s.push(e)})),a.setData({hasMore:o,filelist:0===t?n:a.data.filelist.concat(n),isLoading:!1,fileLength:s.length})})).catch((function(){n.showToast({title:"加载文件信息失败",icon:"none"}),a.setData({filelist:[],isLoading:!1,hasMore:!1})}))},handleClose:function(){n.hideModalPage()},tapFolder:function(e){this.push(e.detail)},selectItem:function(e){var t=this,a=e.index,i=e.fileInfo,o=!i.selected;if(!0===o){var r=this.data,s=r.selectFileNum,c=r.selectFileMax;if(s===c)return void n.showToast({title:"只能选择"+c+"个文件",icon:"none",duration:2e3});!0===this.onFileSelected(i)&&this.setData(T({},"filelist["+a+"].selected",o))}else{var l=this.data,p=l.selectFileNum,u=l.selectFileMap;delete u[i.fs_id],this.setData(T({selectFileMap:u,selectFileNum:p-1},"filelist["+a+"].selected",!1))}!1===this.data.multiple&&this.handleDone(),(0,C.setVipAndWorkInfo)(!0).then((function(e){n.newLog.wangpanPhotoPage.clkSelectPan.send({source:t.options.from,ext:{user_type:e.type,pagesource:t.options.from,pic_number:t.data.selectFileNum}}),"puzzlePage"===t.options.from&&n.newLog.documentPuzzlePage.clkSelectPan.send({source:"photo_pinjie",ext:{user_type:e.type,pagesource:"photo_pinjie"}})}))},handleBack:function(){var e=this.data.pathStack;if(e.length>1){e.pop();var t=e.pop();this.push(t)}},handleSelectAll:function(){var e=this.data,t=e.filelist,a=e.selectFileNum,i=e.fileLength,o=e.selectFileMax,r=e.fileSizeMax;if(i===a)return t.forEach((function(e){0===e.isdir&&(e.selected=!1)})),void this.setData({selectFileMap:{},selectFileNum:0,filelist:t});var s={},c=0,l=!1;t.forEach((function(e){c>=o||0===e.isdir&&(e.size<=r?(s[e.fs_id]=e,e.selected=!0,c++):l=!0)})),!0===l&&n.showToast({title:"请选择"+r/1024/1024+"M以下的文件",icon:"none"}),this.setData({selectFileMap:s,selectFileNum:Object.keys(s).length,filelist:t})},tapImage:function(e){var t=e.fileInfo,a=e.index,i=e.pageNum;n.setStorageSync("fileList",{list:this.data.filelist,fileInfo:t,pageNum:i,index:a,currentFsId:t.fs_id})}})})),window.define("510",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=e(511),D=e(407),C=e(13),T=o();Page({data:{imageList:[],viewport:{scrollY:!0,scrollTop:0,left:0,top:0,height:0,width:0},isIpx:!1,scheme:"",pageTitle:"",isNetdisk:n.netdisk,isIos:(0,P.checkIsIos)(),limitIcon:"https://staticsns.cdn.bcebos.com/amis/2023-1/1673936192013/limitIcon.png",svipIcon:"https://staticsns.cdn.bcebos.com/amis/2022-6/1655974697494/svip.jpg",canExport:!1},onLoad:function(e){var t=this;this.imageListLength=D.globalCache.get(e.paramsId).length,T.globalData.isAppLogin&&(0,C.setVipAndWorkInfo)().then((function(e){var a=T.globalData.isPuzzleSvip,i=T.globalData.isPuzzleWork;t.userInfo={svip:a,comboProduct:i},t.userType=e.type,n.newLog.towordUpPage.disTowordUp.send({source:"photoToWord",ext:{user_type:t.userType,pagesource:"photoToWord",pic_number:t.imageListLength}})})),this.initPageInfo(),this.initData(e)},onReady:function(){},onShow:function(){},setSchema:function(){var e=(0,P.makeSchema)("docscan",{doc_scan_category:12,uk:T.globalData.loginInfo.uk,taskid:"mobile_baidu_pic2word",needLogin:1,check_uk:1,from:16,is_advert_filter:1});this.setData({scheme:e})},initPageInfo:function(){var e=T.globalData.systemInfo.screenWidth,t=T.globalData.isIpx,a=T.globalData.systemInfo.screenHeight-T.globalData.totalHeight-(t?82:48)-12;this.setData({topHeight:T.globalData.totalHeight,"viewport.height":a,"viewport.width":e,"viewport.top":T.globalData.totalHeight-(t?86:68),"viewport.left":0,isIpx:t}),this.uploadTip=this.selectComponent("#upload-tip")},initData:function(e){var t=this,a=D.globalCache.get(e.paramsId);this.setData({imageList:a.map((function(e){return Object.assign({},e,{previewUrl:(0,D.base64ToImageUrl)(D.globalCache.get(e.base64Id+"_"+e.currentOpId))})}))}),this.pathInfo=this.getPathName(),this.setData({pageTitle:this.pathInfo.pageTitle});var i=n.env.USER_DATA_PATH+"/documentscan";this.uploadTip.start({imageList:a,uploadPath:this.pathInfo.path},(function(e,a){if("create"===a){var n=Date.now()+".jpg";return(0,D.saveBase64ToImageUrl)(i,n,D.globalCache.get(e.base64Id+"_"+e.currentOpId)).then((function(){return{filePath:i+"/"+n,fileName:t.pathInfo.timestamp+"_"+String(e.hash).substr(10)+".jpg"}}))}"delete"===a&&(0,D.deleteFile)(e)})).then((function(e){t.uploadRes=e,t.setData({canExport:!0}),n.newLog.towordUpPage.wordPhotoUpSuc.send({source:"photoToWord",ext:{user_type:t.userType,pagesource:"photoToWord",pic_number:t.imageListLength}}),t.toWordEdit()})).catch((function(e){n.newLog.towordUpPage.wordPhotoUpFail.send({source:"photoToWord",ext:{user_type:t.userType,pagesource:"photoToWord",pic_number:t.imageListLength}}),t.setData({canExport:!1}),console.log(e)}))},setPicList:function(){var e=this.uploadRes.map((function(e){return{fsid:e.fs_id,path:e.path}}));return new Promise((function(t,a){(0,S.setPics)({key:"mobile_baidu_pic2word",value:JSON.stringify(e)}).then((function(e){0===e.errno?t(e):a(e)}))}))},getPathName:function(){var e=new Date,t=function(e){return String(e).padStart(2,"0")},a=e.getFullYear(),i=t(e.getMonth()+1),n=t(e.getDate()),o=t(e.getHours()),r=t(e.getMinutes()),s=t(e.getSeconds());return{path:"/文档加工/拍图转word/拍图转word"+a+i+n+"_"+o+r+s,pageTitle:"转word_"+a+i+n+"_"+o+r+s,timestamp:e.getTime()}},openApp:function(){this.data.canExport&&""!==this.data.scheme?(n.newLog.towordUpPage.clkTopanToword.send({source:"photoToWord",ext:{user_type:this.userType,pagesource:"photoToWord",pic_number:this.imageListLength}}),this.setPicList()):n.showToast({title:"图片上传中，稍后再试",icon:"none",mask:!1})},toWordEdit:function(){if(this.data.canExport){var e=this.uploadRes.map((function(e){return{fsid:e.fs_id,path:e.path,state:3,id:e.fs_id,isRemote:!0}})),t=D.globalCache.add(e),a=D.globalCache.add(this.userInfo),i=D.globalCache.add(this.pathInfo);n.navigateTo({url:"/pages/webview/webview?url=https://pan.baidu.com/disk/ceditrender/&title="+encodeURIComponent("")+"&imgId="+t+"&userId="+a+"&pathId="+i})}else n.showToast({title:"图片上传中，稍后再试",icon:"none",mask:!1})},launchError:function(e){console.log("open app error：",e)}})})),window.define("511",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFreeNum=a.setPics=void 0;var P=e(16);a.setPics=function(e){return new Promise((function(t,a){(0,P.bdRequest)({api:"dosp/external/setdata",method:"POST",data:e}).then((function(e){void 0!==e?t(e):a()}))}))},a.getFreeNum=function(){return new Promise((function(e,t){(0,P.bdRequest)({api:"dosp/external/getdata?key=toword_free_num",method:"POST"}).then((function(a){void 0!==a?e(a):t()}))}))}})),window.define("514",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(407),S=e(515),D=o();Page({data:{topHeight:72,isIpx:!1},onLoad:function(e){this.initPage(),this.options=e},onShow:function(){(0,S.sendLog)("show",{pagescene:this.options&&this.options.scene})},initPage:function(){this.setData({totalHeight:D.globalData.totalHeight,isIpx:D.globalData.isIpx})},handleLocalFile:function(){n.chooseImage({count:1,sizeType:["original"],sourceType:["album","camera"],success:function(e){var t=P.globalCache.add([{path:e.tempFilePaths[0]}]);n.navigateTo({url:"/pages/image-tools/compress/proccess/index?paramsId="+t})},fail:function(e){console.log(e.errCode+"："+e.errMsg)}}),(0,S.sendLog)("chooseLocalFile")},handlePanFile:function(){var e=encodeURIComponent("/pages/image-tools/compress/proccess/index?type=pan");n.showModalPage({url:"/pages/select-file-for-netdisk/index?multiple=false&fileType=img&targetPage="+e,success:function(){},fail:function(){}}),(0,S.sendLog)("chooseNetFile")}})})),window.define("515",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sendLog=void 0;var P=e(13),S=o();a.sendLog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,P.setVipAndWorkInfo)(!0).then((function(a){n.newLog.picCompress[e].send({ext:Object.assign({from:"tool",appsource:n.netdisk?"shoubai"===S.globalData.sourceFrom?"from_shoubai":"na":"shoubai",pagesource:"reduce_page",user_type:a.type,time_stamp:Date.now()},t)})}))}})),window.define("518",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=e(498),D=e(33),C=e(407),T=e(7),I=e(515);function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A,L,B,F,N=o(),O=(0,T.swanApiToPromise)("getFileInfo"),R=(0,T.swanApiToPromise)("getImageInfo"),U=(0,T.swanApiToPromise)("compressImage"),M=(0,T.swanApiToPromise)("authorize"),j=(0,T.swanApiToPromise)("saveImageToPhotosAlbum");Page({data:{topHeight:72,screenHeight:"",isIpx:!1,oldImage:{width:"",height:"",src:"",size:"",type:"",originSize:""},newImage:{width:"",height:"",src:"",size:"",type:"",originSize:""},targetSize:{width:"",height:"",size:0},compressSize:70,compressQuality:70,canvasW:"",canvasH:"",isCollapse:!1,showCustomSize:!1,clockSize:!0,temActiveIndex:0,scrollTmpWidth:0,keyboardHeight:0,defaultTem:[{name:"自定义",size:[0,1]},{name:"身份证",size:[390,260]},{name:"护照",size:[567,390]},{name:"1寸",size:[413,295]},{name:"2寸",size:[626,413]},{name:"5寸",size:[1200,840]},{name:"6寸",size:[1440,960]}]},onShow:function(){},onReady:function(){this.imageResize=this.selectComponent("#imageResize")},onInit:function(e){var t=this;if(this.initPage(),e.paramsId){var a=C.globalCache.get(e.paramsId)[0].path;this.getImageInfoByFile(a).then((function(e){var i=e.width,n=e.height,o=e.type,r=e.size,s=e.originSize;t.setData(x({oldImage:Object.assign({},t.data.oldImage,{width:i,height:n,type:o,originSize:Math.floor(s/1024),size:r,src:a}),targetSize:{width:i,height:n,size:Math.floor(s/1024)}},"defaultTem[0].size",[n,i])),(0,I.sendLog)("showProcess",{volume_num:r,pixel_num:i+"_"+n})}))}this.setData({scrollTmpWidth:N.globalData.systemInfo.screenWidth-36-60-20})},initPage:function(){this.setData({totalHeight:N.globalData.totalHeight,isIpx:N.globalData.isIpx,screenHeight:N.globalData.systemInfo.screenHeight-N.globalData.totalHeight})},handleCompress:function(){var e=E(regeneratorRuntime.mark((function e(){var t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,S,D,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Date.now(),a=this.data,i=a.targetSize,o=i.width,r=i.height,s=i.size,c=a.oldImage,l=c.width,p=c.height,u=c.originSize,(0,I.sendLog)("saveBtn",{oldV:{size:u,width:l,height:p},newV:{size:s,width:o,height:r},sizeR:s/u}),!(s>u)){e.next=6;break}return n.showToast({title:"压缩大小不能大于原图大小",icon:"none"}),e.abrupt("return");case 6:if(!(o>l||r>p)){e.next=9;break}return n.showToast({title:"自定义尺寸不能大于原尺寸",icon:"none"}),e.abrupt("return");case 9:if(n.showLoading({title:"压缩中，请稍候...",mask:!0}),d=this.data.oldImage.src,!0!==this.changeSizeFlag){e.next=60;break}if(this.changeSizeFlag=!1,h=1024*s,o===l&&r===p){e.next=25;break}return e.next=17,this.handleSize(d,{width:o,height:r});case 17:if(!((g=e.sent).originSize<=h)){e.next=24;break}return n.hideLoading(),this.setData({newImage:{src:g.path,width:g.width,height:g.height,size:g.size}}),this.saveImageToPhotosAlbum(g.path,this.data.newImage.type),(0,I.sendLog)("savePer",{suc:!0,reduce_time:Date.now()-t,sizeR:g.originSize/1024/this.data.oldImage.originSize}),e.abrupt("return");case 24:d=g.path;case 25:return e.next=27,this.handleQuality(d,h);case 27:if(f=e.sent,m=P(f,2),v=m[0],y=m[1],!1!==v){e.next=51;break}return e.next=34,R({src:y.path});case 34:return w=e.sent,e.next=37,this.handleQuerySize(w,w.width,w.height,h);case 37:return b=e.sent,_=P(b,2),k=_[0],S=_[1],console.log(k),e.next=44,this.getImageInfoByFile(S);case 44:D=e.sent,n.hideLoading(),this.setData({newImage:{src:D.path,width:D.width,height:D.height,size:D.size}}),this.saveImageToPhotosAlbum(D.path,this.data.newImage.type),(0,I.sendLog)("savePer",{suc:!0,reduce_time:Date.now()-t,sizeR:D.originSize/1024/this.data.oldImage.originSize}),e.next=58;break;case 51:return e.next=53,this.getImageInfoByFile(y.path);case 53:C=e.sent,n.hideLoading(),this.setData({newImage:{src:C.path,width:C.width,height:C.height,size:C.size}}),this.saveImageToPhotosAlbum(C.path,this.data.oldImage.type),(0,I.sendLog)("savePer",{suc:!0,reduce_time:Date.now()-t,sizeR:C.originSize/1024/this.data.oldImage.originSize});case 58:e.next=67;break;case 60:return e.next=62,this.handleSize(d,{width:o,height:r});case 62:T=e.sent,n.hideLoading(),this.setData({newImage:{src:T.path,width:T.width,height:T.height,size:T.size}}),this.saveImageToPhotosAlbum(T.path,this.data.oldImage.type),(0,I.sendLog)("savePer",{suc:!0,reduce_time:Date.now()-t,sizeR:T.originSize/1024/this.data.oldImage.originSize});case 67:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),changeSizePercent:function(e){var t=e.detail.value;this.setData({compressSize:t})},handleQuality:(F=E(regeneratorRuntime.mark((function e(){var t,a,i,o,r,s,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",p=arguments[1];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={size:p,path:l},e.prev=1,a=33,i=99;case 4:if(!(i-a>1)){e.next=30;break}return o=(i+a)/2|0,e.next=8,U({src:l,quality:o});case 8:return r=e.sent,e.next=11,O({filePath:r.tempFilePath});case 11:if(s=e.sent,(c=s.size)!=t.size){e.next=17;break}return e.abrupt("return",[!1,t]);case 17:(t=s).path=r.tempFilePath;case 19:if(!(c>p)){e.next=23;break}i=o,e.next=28;break;case 23:if(!(c<p)){e.next=27;break}a=o,e.next=28;break;case 27:return e.abrupt("break",30);case 28:e.next=4;break;case 30:if(!(t.size>p)){e.next=32;break}return e.abrupt("return",[!1,t]);case 32:return e.abrupt("return",[!0,t]);case 35:return e.prev=35,e.t0=e.catch(1),(0,I.sendLog)("savePer",{fail:!0}),n.showToast({title:"压缩失败，请重试",icon:"none",duration:2e3}),e.abrupt("return",[!1,t]);case 40:case"end":return e.stop()}}),e,this,[[1,35]])}))),function(){return F.apply(this,arguments)}),handleQuerySize:(B=E(regeneratorRuntime.mark((function e(t,a,i,o){var r,s,c,l,p,u,d,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.prev=1,s=1,c=99,l=!1;case 5:if(!(c-s>1)){e.next=32;break}return u={width:a*(p=(c+s)/2|0)/100+1|0,height:i*p/100+1|0},e.next=10,this.imageResize.resize(t,!1,u,!0);case 10:return d=e.sent,e.next=13,O({filePath:d.path});case 13:if(h=e.sent,!((g=h.size)>o)){e.next=23;break}if(c=p,!0!==l){e.next=19;break}return e.abrupt("return",[!0,r.path]);case 19:l=!1,r=d,e.next=30;break;case 23:if(!(g<o)){e.next=29;break}s=p,l=!0,r=d,e.next=30;break;case 29:return e.abrupt("break",32);case 30:e.next=5;break;case 32:if(!(r.size>o)){e.next=34;break}return e.abrupt("return",[!1,r.path]);case 34:return e.abrupt("return",[!0,r.path]);case 37:return e.prev=37,e.t0=e.catch(1),(0,I.sendLog)("savePer",{fail:!0}),n.showToast({title:"压缩失败，请重试",icon:"none",duration:2e3}),e.abrupt("return",[!1,r.path]);case 42:case"end":return e.stop()}}),e,this,[[1,37]])}))),function(e,t,a,i){return B.apply(this,arguments)}),handleSize:(L=E(regeneratorRuntime.mark((function e(t,a){var i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R({src:t});case 3:return i=e.sent,e.next=6,this.imageResize.resize(i,!1,a,this.data.clockSize);case 6:return o=e.sent,e.next=9,this.getImageInfoByFile(o.path);case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(0),n.showToast({title:"压缩失败，请重试",icon:"none",duration:2e3});case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t){return L.apply(this,arguments)}),handleChangeSize:function(e){var t=e.detail.value,a=e.target.dataset.name,i=this.data,n=i.clockSize,o=i.oldImage,r=o.height,s=o.width;if(n)if("width"===a){var c=t/s;this.setData({"targetSize.height":Math.trunc(r*c)})}else if("height"===a){var l=t/r;this.setData({"targetSize.width":Math.trunc(s*l)})}"size"===a&&(this.changeSizeFlag=!0),this.setData(x({},"targetSize."+a,t))},handlePreview:function(){(0,I.sendLog)("picClk")},handleFocusSize:function(){(0,I.sendLog)("changeSize")},handleFocusWidth:function(){(0,I.sendLog)("changeWrap",{width:!0})},handleFocusHeight:function(){(0,I.sendLog)("changeWrap",{height:!0})},getImageInfoByFile:function(e){return Promise.all([O({filePath:e}),R({src:e})]).then((function(e){var t=P(e,2),a=t[0],i=t[1];return Object.assign({},i,{originSize:a.size,size:(0,D.toFriendlyQuotaSize)(a.size)})}))},saveImageToPhotosAlbum:(A=E(regeneratorRuntime.mark((function e(t,a){var i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,D.getPathName)("/文档加工/图片压缩/图片压缩","图片压缩"),o=i.path,r=i.name;try{M({scope:"scope.writePhotosAlbum"})}catch(e){n.showModal({title:"保存失败提示",content:"请您设置允许【保存到相册】后再尝试下载",confirmText:"确定",cancelText:"取消"})}try{j({filePath:t}),n.showToast({title:"压缩成功，已保存至手机相册",icon:"none"})}catch(e){n.showToast({title:e,icon:"none"})}return e.next=6,(0,S.uploadImage2Pan)(t,o,r+"."+a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)}),handleCollapsePanel:function(){this.setData({isCollapse:!this.data.isCollapse})},handleCustomSise:function(){this.setData({showCustomSize:!0})},handleCloseCustomSize:function(){this.setData({showCustomSize:!1})},handleClockSize:function(){this.setData({clockSize:!this.data.clockSize})},handleSelectTmp:function(e){var t=e.target.dataset.index,a=this.data.defaultTem[t];(0,I.sendLog)("chooseTemplate",{rpixel_type:a.name,rpixel_index:t}),this.setData({temActiveIndex:t,"targetSize.width":a.size[1],"targetSize.height":a.size[0],"targetSize.size":this.data.oldImage.originSize})}})})),window.define("521",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(407),S=(e(498),o());Page({data:{topHeight:72,isIpx:!1,cancelUpload:!1,showLoading:!1},onLoad:function(e){this.initPage(),this.options=e},initPage:function(){this.setData({totalHeight:S.globalData.totalHeight,isIpx:S.globalData.isIpx})},onShow:function(){n.newLog.pdfDeWatermark.pdfDeWatermarkShow.send({ext:{pagesource:"pic_shuiyin",pagescene:this.options&&this.options.scene}})},handleLocalFile:function(){var e=this;n.newLog.pdfDeWatermark.fileClk.send({ext:{pagesource:"pic_shuiyin"}}),n.chooseImage({count:10,sourceType:["album"],success:function(e){var t=e.tempFilePaths.map((function(e){return{filePath:e}})),a=P.globalCache.add(t);n.navigateTo({url:"/pages/image-tools/deWatermark/proccess/index?paramsId="+a})},fail:function(){e.setData({showLoading:!1})}})},handlePanFile:function(){n.newLog.pdfDeWatermark.panFileShow.send({ext:{pagesource:"pic_shuiyin"}});var e=encodeURIComponent("/pages/image-tools/deWatermark/proccess/index?type=pan");n.showModalPage({url:"/pages/select-file-for-netdisk/index?fileInfoType=pan&stackRemove=true&multiple=true&fileType=img&targetPage="+e,success:function(){},fail:function(){}})},handleCancel:function(){this.setData({showLoading:!1,cancelUpload:!0})}})})),window.define("524",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(407),S=e(33),D=e(486),C=e(498),T=e(7);function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var x,A,L=(0,T.swanApiToPromise)("saveImageToPhotosAlbum"),B=(0,T.swanApiToPromise)("authorize"),F=o();Page({data:{topHeight:72,screenHeight:"",isIpx:!1,cancelUpload:!1,showLoading:!1,showDelWaterMark:!0,resultImageList:[],loadingMsg:"",isExporting:!1},onInit:function(e){var t=[];if(e.type&&"pan"===e.type){var a=P.globalCache.get(e.paramsId);console.log(a),t=a.map((function(e){return{filePath:e.thumbs.url3,dlink:e.dlink,fsid:e.fs_id,state:1,isPanFile:!0,resFilePath:e.thumbs.url3}}))}else{if(e.paramsId)t=(P.globalCache.get(e.paramsId)||[]).map((function(e){return{filePath:e.path}})),Array.isArray(t)&&(t=t.map((function(e){return Object.assign({},e,{state:1,isPanFile:!1,resFilePath:e.filePath})})))}this.startDeWatermark(t),n.newLog.pdfDeWatermark.pdfProcessShow.send({ext:{pagesource:"pic_shuiyin",picLength:t.length}})},onLoad:function(){this.setData({totalHeight:F.globalData.totalHeight,isIpx:F.globalData.isIpx,screenHeight:F.globalData.systemInfo.screenHeight-F.globalData.totalHeight})},startDeWatermark:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setData({resultImageList:t});var a=new P.TaskSchedule(t,{taskCallback:function(){var t=E(regeneratorRuntime.mark((function t(a,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doDeWatermark(a,i);case 2:case"end":return t.stop()}}),t,e)})));return function(e,a){return t.apply(this,arguments)}}(),max:3,processCallback:function(){}});a.start()},doDeWatermark:(A=E(regeneratorRuntime.mark((function e(t,a){var i,n,o,r,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i="",!t.isPanFile){e.next=7;break}i=t.fsid,(0,P.netdiskPicToLocal)(t.dlink).then((function(e){c.setData(I({},"resultImageList["+a+"].filePath",e))})),e.next=12;break;case 7:return n=t.filePath.substring(t.filePath.lastIndexOf(".")+1),e.next=10,(0,C.uploadImage2Pan)(t.filePath,"/_pcs_.appdata/图片去水印/",Date.now()+"."+n);case 10:o=e.sent,i=o.fs_id;case 12:return e.next=14,(0,D.deWatermark)({fsid:i,hidden:t.isPanFile?0:1});case 14:return 0===(r=e.sent).errno?this.setData((I(s={},"resultImageList["+a+"].state",3),I(s,"resultImageList["+a+"].resFilePath",r.data.image),s)):this.setData(I({},"resultImageList["+a+"].state",2)),e.abrupt("return",r);case 19:e.prev=19,e.t0=e.catch(0),this.setData(I({},"resultImageList["+a+"].state",2));case 22:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e,t){return A.apply(this,arguments)}),handleReload:function(e){var t=e.target.dataset.index;this.doDeWatermark(this.data.resultImageList[t]),n.newLog.pdfDeWatermark.retryClk.send({ext:{pagesource:"pic_shuiyin"}})},handleExport:function(){var e=this;n.newLog.pdfDeWatermark.exportClk.send({ext:{pagesource:"pic_shuiyin"}}),!this.data.showLoading&&this.setData({showLoading:!0,loadingMsg:"导出中，请稍候..."});var t=this.data.resultImageList;if(this.data.resultImageList.every((function(e){return 3===e.state}))){var a,i=(0,S.getPathName)("/文档加工/图片去水印","去水印").name;new P.TaskSchedule(this.data.resultImageList,{taskCallback:(a=E(regeneratorRuntime.mark((function t(a,o){var r,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=i+"_"+(o+1)+".jpg",s=n.env.USER_DATA_PATH+"/picDeWatermark",t.next=5,(0,P.saveBase64ToImageUrl)(s,r,a.resFilePath);case 5:return t.next=7,(0,C.uploadImage2Pan)(s+"/"+r,"/文档加工/图片去水印/",r);case 7:return c=t.sent,t.next=10,e.saveImage(s+"/"+r);case 10:return(0,P.deleteFile)(s+"/"+r),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,e,[[0,14]])}))),function(e,t){return a.apply(this,arguments)}),max:3,processCallback:function(a){a.length===t.length&&(e.setData({showLoading:!1}),n.showToast({title:"导出成功，已保存到相册",icon:"none",duration:5e3}))}}).start()}else this.data.isExporting||this.setData({isExporting:!0})},saveImage:(x=E(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({scope:"scope.writePhotosAlbum"});case 2:return e.next=4,L({filePath:t});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)}),showDelwaterMarkPdf:function(){n.newLog.pdfDeWatermark.checkClk.send({ext:{pagesource:"pic_shuiyin"}}),this.setData({showDelWaterMark:!1})},showOriginalPdf:function(){this.setData({showDelWaterMark:!0})},handleCancel:function(){this.setData({showLoading:!1,cancelUpload:!0,isExporting:!1})}})})),window.define("527",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(8),S=o();Page({data:{src:"",pdfList:[],isQueryTaskList:!1},onInit:function(e){var t="";"pdfToWord"===e.mode&&(t="/文档加工/pdf转word");var a=S.globalData.vipInfo.vip_type,i=!!n.netdisk,o="https://pan.baidu.com/disk/mobile/localfile?accept=application/pdf&hideLocalBtn="+(i&&(0,P.checkIsIos)()?1:0)+"&isNetdisk="+i+"&vipType="+a+"&uploadPath="+encodeURIComponent(t)+"&fileSizeMax="+(e.fileSizeMax||20971520);this.setData({src:o})},onMessage:function(e){if(e.detail&&e.detail.data){var t=e.detail.data;switch(t.action||t[0].action){case"openPanFile":S.globalData.actionFrom="openPanFile";break;case"selectLocalFile":S.globalData.actionFrom="selectLocalFile",S.globalData.selectFileList=t.files}}}})})),window.define("530",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(7),S=e(407),D=e(13);var C=o(),T=(0,P.swanApiToPromise)("chooseImage"),I=(0,P.swanApiToPromise)("getImageInfo");Page({data:{totalHeight:0,isIpx:!1,puzzleHeader:{icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661148719948/puzzle-pic.jpg",title:"图片拼接",content:"拼接后的图片保存至「文档加工-图片拼接」"}},onInit:function(){},onLoad:function(e){var t=this;this.options=e,C.globalData.isAppLogin&&(0,D.setVipAndWorkInfo)().then((function(a){t.isSvip=a.is_svip,t.isWorkPackage=a.is_workPackage,t.user_status=a.type,n.newLog.documentPuzzlePage.disPinjiePage.send({source:"photo_pinjie",ext:{user_type:t.user_status,pagesource:"photo_pinjie",pagescene:e.scene}})})),this.initPage(),this.imageResize=this.selectComponent("#imageResize"),this.targetPage=e.targetPage},onShow:function(){},initPage:function(){this.setData({totalHeight:C.globalData.totalHeight,isIpx:C.globalData.isIpx})},getImageForPhotoAlbum:function(){var e=this;this.photoUrls=[],n.newLog.documentPuzzlePage.clkPhone.send({source:"photo_pinjie",ext:{user_type:this.user_status,pagesource:"photo_pinjie"}}),T({count:9,sizeType:["original"],sourceType:["album"]}).then(function(){var t,a=(t=regeneratorRuntime.mark((function t(a){var i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),i=a.tempFilePaths,o=0;case 3:if(!(o<i.length)){t.next=12;break}return t.next=6,e.resizeImage(i[o]);case 6:(r=t.sent).url=r.path,e.photoUrls.push(r);case 9:o++,t.next=3;break;case 12:e.photoUrls.length===i.length&&(console.log(e.photoUrls),e.goToPage(),n.newLog.documentPuzzlePage.clkSavePhone.send({source:"photo_pinjie",ext:{user_type:e.user_status,pagesource:"photo_pinjie"}}));case 13:case"end":return t.stop()}}),t,e)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function i(n,o){try{var r=e[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));t(s)}("next")}))});return function(e){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),1002===t.errCode&&e.setData({canPhoto:!0,isFinish:!1})}))},resizeImage:function(e){return I({src:e}).then(this.imageResize.resize.bind(this.imageResize)).then((function(e){return Object.assign({},e,{hash:(0,S.getID)()})})).catch((function(e){console.log(e)}))},getPhotoForCloud:function(){n.showModalPage({url:"/pages/select-file-for-netdisk/index?fileType=img&from="+this.options.from+"&multiple=true&selectFileMax=20&targetPage="+this.targetPage,success:function(){},fail:function(){}}),n.newLog.documentPuzzlePage.clkPan.send({source:"photo_pinjie",ext:{user_type:this.user_status,pagesource:"photo_pinjie"}})},goToPage:function(){var e=S.globalCache.add(this.photoUrls),t=decodeURIComponent(this.targetPage)+"&paramsId="+e+"&mode=local";n.redirectTo({url:t})}})})),window.define("533",(function(e,t,a,i,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k,P){"use strict";var S,D=e(44),C=e(43),T=e(68),I=e(13),E=e(7),x=e(60),A=e(65);function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function i(n,o){try{var r=t[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(s)}("next")}))}}var F=(0,E.swanApiToPromise)("downloadFile"),N=(0,E.swanApiToPromise)("shareFile"),O=r();function R(){var e=getCurrentPages().filter((function(e){return"pages/pdf-to-word/pdf-to-word"===e.route}));if(!e.length)return[];var t=e[e.length-1];return[].slice.call(t.data.filelist)}function U(e){return Promise.resolve({list:e})}var M,j=(0,C.shortenWithFilename)(24);Page((L(S={backIntoShadow:!1,polling:!1,privilege:null,authtip:null,promises:[],loadPromise:Promise.resolve(),data:{processing:!1,filelist:[],isLoading:!0,isVip:!1,isLoadingReport:!1},onLoad:function(e){this.options=e},onHide:function(){this.backIntoShadow=!0},onShow:function(){var e=this,t=[];try{var a=getCurrentPages();t=a[a.length-1].options}catch(e){console.log(e)}"smart"===t.from&&n((function(){O.globalData.loginInfo.uk_str!==t.uk&&(o.showModal({content:"当前账号与百度账号不一致，请切换账号后再试",showCancel:!1,confirmText:"确定"}),o.hideLoading())}),500);var i=O.globalData.actionFrom;switch(i){case"selectLocalFile":this.chooseFile(!0),(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.clkPhone.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})}));break;case"openPanFile":o.showModalPage({url:"/pages/select-file-for-netdisk/index?multiple=true&selectFileMax=1&fileType=pdf",success:function(){},fail:function(){}}),(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.clkPan.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai"}})}));break;case"selectPanFile":this.chooseFile()}i&&(O.globalData.actionFrom=""),(0,I.setVipAndWorkInfo)(!0).then((function(t){o.newLog.pdfTowordPage.pdfTowordDis.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pagescene:e.options&&e.options.scene}})}));var r=this.backIntoShadow;this.backIntoShadow=!1,this.loadPromise.then((function(){return e.privilege.getUserMemberCase()})).then(function(){var t=B(regeneratorRuntime.mark((function t(a){var i,n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(9!==a){t.next=4;break}return O.globalData.userInfo={},o.redirectTo({url:"pages/pdf-to-word/pdf-to-word"}),t.abrupt("return");case 4:if(e.setData({isVip:a>0}),i=e.data.filelist.filter((function(e){return e.status===C.STATUS.NOT_DO&&!e.errInfo||-4===e.status})),n=O.getPageQuery(),s=r||!n||"jiugongge"===n,1!==e.data.filelist.length||!e.data.filelist[0].unCheck){t.next=10;break}return t.abrupt("return",e.startTransferWithPasswd([e.data.filelist[4]]));case 10:return t.next=12,e.privilege.checkWorkPackage();case 12:return t.abrupt("return",e.startTransfer(i,s));case 13:case"end":return t.stop()}}),t,e)})));return function(e){return t.apply(this,arguments)}}())},chooseFile:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=O.globalData.selectFileList,a=t[0];if(a.className="is-pdf",!a.server_filename){var i=a.path.split("/");a.server_filename=i[i.length-1],a.errInfo=""}a.shortFilename=j(a.server_filename);var n=R(),r=n.length;(0,I.setVipAndWorkInfo)(!0).then((function(t){e?(o.newLog.pdfTowordPage.clkSelectPhone.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:a.fs_id}}),o.newLog.pdfTowordPage.clkSavePhone.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:a.fs_id}}),o.newLog.pdfTowordPage.uploadResult.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:a.fs_id}})):(o.newLog.pdfTowordPage.clkSelectPan.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:a.fs_id}}),o.newLog.pdfTowordPage.clkSavePan.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:a.fs_id}}))})),(0,C.packFileList)(U([a]),U(n)).then((function(e){return r!==e.length&&O.globalData.userInfo.vip_type<1?(0,D.commitFileForPendingProcess)([a.fs_id]).then((function(){return e})):e})).then((function(e){O.__index_data_snapshot__=Object.assign({},{filelist:e,isLoading:!1}),o.redirectTo({url:"/pages/pdf-to-word/pdf-to-word?from=relaunch"})}))}},"onLoad",(function(e){var t=this;if(O.setPageQuery(e.from),this.authtip=this.selectComponent("#authtip"),this.privilege=this.selectComponent("#privilege"),this.verifypasswd=this.selectComponent("#verifypasswd"),"relaunch"===e.from)return this.setData(O.__index_data_snapshot__),void(O.__index_data_snapshot__=null);if("jiugongge"===e.from&&!(0,C.safeGet)(O.globalData.storeKey.guide()))return(0,D.getPureTransferredList)().then((function(a){a.length?t.getFileList(e):o.reLaunch({url:"/pages/guide/index"})}));this.getFileList(e)})),L(S,"getFileList",(function(e){var t=this,a=(0,C.parse)(e.files,[]);a=a.map((function(e){return Number(e.fileId)})),this.loadPromise=(0,C.packFileList)((0,D.getTransferredFileList)(),(0,D.getTransferredFileList)()).then((function(e){t.setData({filelist:e,isLoading:!1});for(var a=function(e){"is-pdf"===t.data.filelist[e].className&&(0,I.setVipAndWorkInfo)(!0).then((function(a){o.newLog.pdfTowordPage.pdfListDis.send({source:"from_pdftoword_shoubai",ext:{user_type:a.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:t.data.filelist[e].fs_id,pdf_size:t.data.filelist[e].beautySize}})}))},i=0;i<t.data.filelist.length;i++)a(i)})).catch((function(e){console.log(e),t.setData({filelist:[],isLoading:!1}),o.showToast({title:"列表加载失败",icon:"none"})}))})),L(S,"onFileSelected",(function(e){e&&"is-pdf"!==e.className&&((0,T.getFileMetas)({target:[e.path]}).then((function(e){if(0===e.errno){var t=e.info[0];O.globalData.currentPageType="document_scan_result",O.globalData.tapFileInfo=t,n((function(){(0,x.documentPreview)({fileInfo:t,pageNum:0,index:0,previewType:"documentScanPreview",pageType:"document_scan_result",previewFromType:A.previewFromTypeObj.OTHER_VIEW}),(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.wordViewDis.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",time_stamp:(new Date).getTime()}})}))}),300)}})),(0,I.setVipAndWorkInfo)(!0).then((function(t){o.newLog.pdfTowordPage.wordListClk.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",word_fsid:e.fs_id}})})))})),L(S,"handelFileSelected",(M=B(regeneratorRuntime.mark((function e(t){var a,i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setData({isLoadingReport:!0}),e.next=4,(0,T.getFileMetas)({target:[t.currentTarget.dataset.path],dlink:1});case 4:if(0!==(a=e.sent).errno){e.next=14;break}return i=a.info[0],n=(n=i.dlink).replace("http://","https://"),e.next=11,F({url:n});case 11:r=e.sent,this.setData({isLoadingReport:!1}),N({filePath:r.tempFilePath});case 14:(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.wordExportClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",word_fsid:t.currentTarget.dataset.fsid}})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(e){return M.apply(this,arguments)})),L(S,"onLoadMore",(function(){})),L(S,"normalizeInfo",(function(e){var t="";if(e.target){var a=e.target.dataset.index;e=[this.data.filelist[a]||{}]}return{uniqueIds:e.map((function(e){return!(t=t||e.filename||e.server_filename)&&(t=e.filename||e.server_filename),e.errInfo="",e.uniqueId})),filename:t}})),L(S,"verifyPasswdAction",(function(e){var t=this.normalizeInfo(e.info).uniqueIds;this.mappingData(t,(function(e){e.unCheck=!1,e.process=0})),this.startTransferring(t,e.passwd)})),L(S,"startTransferWithPasswd",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.verifypasswd.toggle(e)})),L(S,"startTransfer",(function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];t.currentTarget&&(t.currentTarget.dataset.errInfo?(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.retryClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:t.currentTarget.dataset.fsid}})})):(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.transClk.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",pdf_fsid:t.currentTarget.dataset.fsid}})})));var i=this.normalizeInfo(t),n=i.uniqueIds,r=i.filename,s=O.globalData.userInfo.hasWorkPackage;return n.length&&(s||this.privilege.checkIsMember(r,a))?this.authtip.showAuthTip().then((function(t){if(t)return e.startTransferring(n)})):this.checkProcessingRate()})),L(S,"mappingData",(function(e,t){var a=this.data.filelist.map((function(a){return e.some((function(e){return e===a.uniqueId}))&&t(a),a}));this.setData({filelist:a})})),L(S,"startTransferring",(function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.mappingData(e,(function(e){e.status=C.STATUS.DOING,e.process=0}));var i=e.map((function(e){return t.data.filelist.find((function(t){return t.uniqueId===e})).fs_id}));return(0,D.startFileForTranscoding)(i,a).catch((function(a){return t.mappingData(e,(function(e){e.status=C.STATUS.DOING_FAILURE,e.process=0})),null})).then((function(a){if(a){var i=a.data||[];t.mappingData(e,(function(e){var t=i.find((function(t){return t.fsid===e.fs_id}));t&&(1===t.status?(e.status=C.STATUS.WAITING_FOR_TARGET_META,e.target_fsid=t.target_fsid):e.taskid=t.taskid)}))}})).then((function(){return t.checkProcessingRate()}))})),L(S,"checkProcessingRate",(function(){var e=this;if(!this.backIntoShadow&&!this.polling){var t=this.data.filelist.filter((function(e){return e.status===C.STATUS.DOING&&e.process<100&&e.taskid})),a=this.data.filelist.filter((function(e){return e.status===C.STATUS.WAITING_FOR_TARGET_META}));if(t.length+a.length!==0){this.setData({processing:!0}),this.polling=!0;var i=t.map((function(e){return e.taskid})),n=t.map((function(e){return e.uniqueId})),r=!1,s=[],c=[];return a.forEach((function(e){s.push(e.target_fsid),c.push(e.uniqueId)})),(0,D.getProcessingRateForFile)(i).then((function(t){var a=t.data;a?e.mappingData(n,(function(e){var t=a.find((function(t){return t.fsid===e.fs_id}));if(t){O.getPageQuery();if(2===t.status||t.cnv_errcode)return 2===t.cnv_errcode?(e.status=C.STATUS.PASSWDERROR,void 0===e.unCheck?e.isFirst=!0:e.isFirst=!1):(e.status=C.STATUS.DOING_FAILURE,e.errInfo=(0,C.getErrInfoByCode)(t.cnv_errcode)),e.process=0,void(0,I.setVipAndWorkInfo)(!0).then((function(t){o.newLog.pdfTowordPage.transResult.send({source:"from_pdftoword_shoubai",ext:{user_type:t.type,pagesource:"from_pdftoword_shoubai",trans_result:"fail",trans_reason:e.errInfo}})}));if(0===t.status)return r=!0,e.status=C.STATUS.DOING,void(t.process>e.process&&(e.process=t.process));e.status=C.STATUS.DOING,e.process=100,(0,I.setVipAndWorkInfo)(!0).then((function(e){o.newLog.pdfTowordPage.transResult.send({source:"from_pdftoword_shoubai",ext:{user_type:e.type,pagesource:"from_pdftoword_shoubai",trans_result:"suc"}})})),s.push(t.target_fsid),c.push(e.uniqueId)}})):console.log("getProcessingRateForFile processes is null: ",a)})).then((function(){var t=Promise.resolve();if(s.length){console.log("fsid:"+JSON.stringify(s)),console.log("uniqueId:"+JSON.stringify(c));var a=e.data.filelist;t=(0,D.getFileById)(s).then((function(t){t.list.forEach((function(e){(0,C.findIndexs)(s,e.fs_id).forEach((function(t){var i=c[t],n=a.find((function(e){return e.uniqueId===i}));n&&Object.assign(n,e,{status:C.STATUS.IGNORE,taskid:0,process:0})}))})),e.setData({filelist:a})}))}return t.then((function(){if(e.polling=!1,r)return(0,C.sleep)(e.checkProcessingRate.bind(e),5e3);e.setData({processing:!1})}))}))}}})),S))})),window.define("536",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(43),S=o();Page({data:{},onLoad:function(){(0,P.safeSet)(S.globalData.storeKey.guide(),"true")}})})),window.define("539",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(7),S=e(407);var D=o(),C=(0,P.swanApiToPromise)("chooseImage"),T=(0,P.swanApiToPromise)("getImageInfo");Page({data:{totalHeight:0,isIpx:!1,loaclBackgroundUrl:"https://staticsns.cdn.bcebos.com/amis/2022-10/1666944507710/local-background.png",currentTool:[],recommendTools:[],type:"",tools:[{icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1660532072296/compress.png",name:"图片压缩",type:"picCompress",describe:"一键压缩图片大小，调整尺寸",targetUrl:"/pages/image-tools/compress/proccess/index?from=picCompressPage"},{icon:"https://staticsns.cdn.bcebos.com/amis/2022-8/1661148719948/puzzle-pic.jpg",name:"图片拼接",type:"picPzzle",describe:"一键拼接长图、宫格图、证件图",targetUrl:"/pages/puzzle/puzzle?from=puzzlePage"},{icon:"https://staticsns.cdn.bcebos.com/amis/2022-9/1663568381552/pic-dewatermark.png",name:"图片去水印",type:"picDeWatermark",describe:"一键去除水印，保留原图内容",targetUrl:"/pages/image-tools/deWatermark/proccess/index?from=picDeWatermarkPage"}],isNetdisk:n.netdisk},initPage:function(){this.setData({totalHeight:D.globalData.totalHeight,isIpx:D.globalData.isIpx})},onReady:function(){},onLoad:function(e){this.params=e;var t=[];try{var a=getCurrentPages();t=a[a.length-1].options}catch(e){console.log(e)}this.targetPage=t.targetPage;var i=[],o=[];this.data.tools.forEach((function(e){e.type===t.type?i.push(e):o.push(e)})),this.setData({currentTool:i,recommendTools:o,type:t.type}),this.initPage(),this.imageResize=this.selectComponent("#imageResize"),n.newLog.picTool.show.send({ext:{tool_name:this.data.currentTool[0].type}}),this.data.isNetdisk&&n.newLog.picTool.showTuijian.send(),"true"===t.usercenter&&n.newLog.picTool.userCenterShow.send({ext:{tool_name:this.data.currentTool[0].type}}),"true"===t.searchcard&&n.newLog.picTool.searchCardShow.send({ext:{tool_name:this.data.currentTool[0].type}}),"picCompress"===t.type&&n.newLog.aitoolsPage.picCompressShow.send(),"picPzzle"===t.type&&n.newLog.aitoolsPage.picPzzleShow.send(),"picDeWatermark"===t.type&&n.newLog.aitoolsPage.picDeWatermarkShow.send()},onShow:function(){},getImageForPhotoAlbum:function(){var e=this;this.photoUrls=[],C({count:"picCompress"===this.data.type?1:9,sizeType:["original"],sourceType:["album"]}).then(function(){var t,a=(t=regeneratorRuntime.mark((function t(a){var i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.tempFilePaths,o=0;case 2:if(!(o<i.length)){t.next=11;break}return t.next=5,e.resizeImage(i[o]);case 5:(r=t.sent).url=r.path,e.photoUrls.push(r);case 8:o++,t.next=2;break;case 11:e.photoUrls.length===i.length&&e.goToPage(),n.newLog.picTool.showLocalPic.send({ext:{tool_name:e.data.currentTool[0].type}}),n.newLog.picTool.localDone.send({ext:{tool_name:e.data.currentTool[0].type}});case 14:case"end":return t.stop()}}),t,e)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function i(n,o){try{var r=e[n](o),s=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(s).then((function(e){i("next",e)}),(function(e){i("throw",e)}));t(s)}("next")}))});return function(e){return a.apply(this,arguments)}}()).catch((function(t){1002===t.errCode&&e.setData({canPhoto:!0,isFinish:!1})})),n.newLog.picTool.localClk.send({ext:{tool_name:this.data.currentTool[0].type}})},resizeImage:function(e){return T({src:e}).then(this.imageResize.resize.bind(this.imageResize)).then((function(e){return Object.assign({},e,{hash:(0,S.getID)()})})).catch((function(e){console.log(e)}))},getPhotoForCloud:function(){var e=encodeURIComponent(decodeURIComponent(this.targetPage+"&type=pan"));n.showModalPage({url:"/pages/select-file-for-netdisk/index?fileInfoType="+("picDeWatermark"===this.data.type?"pan":"local")+"&fileType=img&from="+this.options.from+"&multiple="+("picCompress"!==this.data.type)+"&selectFileMax=20&targetPage="+e,success:function(){},fail:function(){}}),n.newLog.picTool.showPanPic.send({ext:{tool_name:this.data.currentTool[0].type}}),n.newLog.picTool.panClk.send({ext:{tool_name:this.data.currentTool[0].type}})},goToPage:function(){var e=S.globalCache.add(this.photoUrls),t=decodeURIComponent(this.targetPage)+"&paramsId="+e+"&mode=local";n.navigateTo({url:t})},toMobileCamera:function(){var e="/pages/mobile-camera/mobile-camera?fileInfoType="+("picDeWatermark"===this.data.type?"pan":"local")+"&multiple="+("picCompress"!==this.data.type)+"&count=20&from=picTools";e+="&targetPage="+this.targetPage+"&picToolType="+this.data.currentTool[0].type,n.navigateTo({url:e}),n.newLog.picTool.showTakePhoto.send({ext:{tool_name:this.data.currentTool[0].type}}),n.newLog.picTool.takeClk.send({ext:{tool_name:this.data.currentTool[0].type}})},toPicTools:function(e){var t=e.currentTarget.dataset,a=t.type,i=t.targetUrl,o="/pages/choose-img/choose-img?type="+a;o+="&targetPage="+encodeURIComponent(encodeURIComponent(i)),n.redirectTo({url:o}),n.newLog.picTool.tuijianClk.send({ext:{tool_name:a}})}})})),window.define("542",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(22),S=o();Page({data:{src:"",startTime:"",endTime:"",previewTime:""},onLoad:function(e){var t=(new Date).valueOf(),a=this.createMarkdownReaderURL(e);this.setData({src:a,startTime:t})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){var e=(new Date).valueOf(),t=e-this.data.startTime;this.setData({endTime:e,previewTime:t}),n.log.page.markdownPreviewTime.send({from:S.globalData.currentPageType,extra:JSON.stringify({startTime:this.data.startTime,endTime:e,previewTime:t})})},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},createMarkdownReaderURL:function(e){var t=e.picdocpreview,a=e.dlink,i=e.size,o=e.server_filename,r=e.fs_id,s=e.path,c=e.scence,l={server_filename:encodeURIComponent(o),fs_id:r,path:encodeURIComponent(s),size:i,client:"shoubai",scence:c,"dp-logid":P.BpDataInit.getDpLogId(),uk:S.globalData.loginInfo.uk_str,showRetry:0};t&&(l.picdocpreview=encodeURIComponent(t)),a&&(l.dlink=encodeURIComponent(a));var p=Object.keys(l).map((function(e){return e+"="+l[e]}));return n.log.page.markdownPreview.send({from:S.globalData.currentPageType}),"https://pan.baidu.com/wap/markdown?"+p.join("&")}})})),window.define("545",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=x(e(546));e(547),e(548),e(549),e(22);var S=x(e(21)),D=e(8),C=e(143),T=e(373),I=e(13),E=e(20);function x(e){return e&&e.__esModule?e:{default:e}}n.performance=P.default;var A="";App({globalData:{appCode:"",isAppLogin:!1,isUserLogin:!1,isConnected:!0,isOffLine:!1,statusBarHeight:20,totalHeight:72,navHeight:52,sequence:!1,isIpx:!1,systemInfo:"",loginInfo:"",vipInfo:"",quotaSize:"",tapFileInfo:"",shorturl:"",user:{uk:""},vipIconInfo:{historyLevel:0,historyType:0,memberType:0,memberLevel:0},shareInfo:{uk:"",shareId:"",isSaved:!1,sameUser:!1,shareUserName:"",shareUserPhoto:"",rootFsIdArr:[],expireDays:0,rootFilesNum:0,sharelinkCommand:"",sign:"",timestamp:"",saveNum:"",shorturl:"",pwd:"",expiretimestamp:"",expiredType:"",ctime:"",shortUrlType:"",isCooperate:!1,isSingleDirShareList:!1},limitShare:!1,openAppSchema:"",playingAudioInfo:{isPlay:!1,currentIndex:0,isPlayOwnAudioList:!1},audioList:[],ownAudioList:[],listOrder:"time",listDesc:1,selectList:[],saveList:[],shareSelectList:[],audioDataError:!1,closePop:!0,currentPageType:"",lightOff:!1,processPage:"",moving:!1,movingIndex:1,moveSourcePath:"/",memberType:0,imgActivity:{},outsideSingleFile:!1,globalPeriod:7,hasDeadTime:!1,gerrorMsg:"",payScene:"nomal",showGuide:0,canUseApi:{},hasInstalledApp:!1,pageStackCount:0,openAppGuideHasShow:!1,selectFileList:[],actionFrom:"",sourceFrom:""},setPageQuery:function(e){e&&(A=String(e))},getPageQuery:function(){return A||""},onLaunch:function(e){var t=this;n.__perf_white_screen=n.performance.now(),this.dataReport(e),n.APP=this,this.checkCanIUse(),this.checkNetWork(),(0,D.systemInfoSync)(),(0,E.checkAppLogin)(),(0,I.setVipAndWorkInfo)(),this.checkisAppInstalled(),o().globalData.isAppLogin&&(0,I.loadVipInfoAndFingerSDK)(),this.setPageQuery(e.from);var a=n.getSystemInfoSync();this.globalData.userInfo={},this.globalData.environment={clientType:a.system.indexOf("Android")>-1?"Android":"IOS",platform:a.platform,version:a.version,system:a.system,SDKVersion:a.SDKVersion},this.globalData.storeKey={guide:function(){return"pdf2word_has_show_guide_"+(t.globalData.loginInfo.uk||"")},accessAuthTip:function(){return"pdf2word_access_auth_tip_"+(t.globalData.loginInfo.uk||"")}}},onShow:function(){n.__perf_first_screen=n.performance.now()},onHide:function(){},onError:function(e){var t=getCurrentPages()[getCurrentPages().length-1];if(t){var a=t.route,i=JSON.stringify(t.options);S.default.updateConfig({url:a,query:i})}console.log(e)},onPageNotFound:function(){n.reLaunch({url:"pages/home/index?pageType=404"})},checkNetWork:function(){var e=this;n.getNetworkType({success:function(t){"none"===t.networkType&&(e.globalData.isConnected=!1)},fail:function(e){console.log(e)}}),n.onNetworkStatusChange((function(t){e.globalData.isConnected=t.isConnected}))},activityIcon:function(){var e=this;(0,T.getIcon)().then((function(t){var a=t.filter((function(e){return 17===e.pop_type&&e.isValid}));e.globalData.imgActivity=a[0]||{}})).catch((function(e){console.error(e)}))},dataReport:function(e){if((0,C.reportUser)(),this.activityIcon(),n.log.actions.actionsUserNumber.send(),e.scene){var t=e.scene;n.log.scene.sceneValue.send({from:t})}},checkCanIUse:function(){this.globalData.canUseApi.canIUseLoginButton=Boolean(n.canIUse("getLoginCode")),this.globalData.canUseApi.canIUseGetBDUSS=Boolean(n.canIUse("getBDUSS")),this.globalData.canUseApi.canIUseGetUnionBDUSS=Boolean(n.canIUse("getUnionBDUSS")),this.globalData.canUseApi.canIUseBDUSS=Boolean(n.canIUse("getBDUSS"))||Boolean(n.canIUse("getUnionBDUSS"))},checkisAppInstalled:function(){var e=this;n.isAppInstalled({name:"com.baidu.netdisk",success:function(t){t.hasApp&&(e.globalData.hasInstalledApp=t.hasApp)},fail:function(e){console.log(e)}})}})})),window.define("546",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var P=Date.now();function S(){return Date.now()-P}var D={mark:Object.create(null),sendPerf:function(e){var t=e.group,a=void 0===t?"":t,i=e.info,o=void 0===i?{}:i,r=e.dim,s=void 0===r?{}:r;if(!(Math.random()>1)){var c=["pid=14_89","type=perf","group="+a,"info="+encodeURIComponent(JSON.stringify(o)),"dim="+encodeURIComponent(JSON.stringify(s))].join("&");n.request({url:"https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif?"+c})}},startMark:function(e){D[e]=Date.now()},endMark:function(e){return D[e]?Date.now()-D[e]:0}};a.default={now:S,getSpyInstance:function(){return D},sendSharePerf:function(e){var t=n.__perf_white_screen,a=n.__perf_first_screen,i=S();D.sendPerf({group:"share_perf",info:{whiteScreen:t,firstScreen:a,completeScreen:i},dim:{group:"share_perf",project:"swan-share",clientType:"swan",pageName:e}})},sendTimePerf:function(e,t,a){var i=!1;if(e){1===arguments.length&&(t=0,a={}),2===arguments.length&&("number"==typeof t?a={}:(a=t,t=0));var n=a.group||"share-perf",o=a.project||"swan-share",r=a.pageName||"",s=a.clientType||"swan";if(n){var c=(new Date).getTime(),l={start:function(){D.startMark(e)},end:function(a){if(!i){i=!0;var l={};l[e]=t||D.endMark(e)||(new Date).getTime()-c,Object.assign(l,a),D.sendPerf({group:n,info:l,dim:{project:o,pageName:r,clientType:s}})}}};return l}}}}})),window.define("547",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";n.getCurrentViewPage=function(){var e=getCurrentPages()||[];return e[e.length-1]}})),window.define("548",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";n.ENV={appId:"16426097",appKey:"OyIvf6LYVhKkbIHS1USP7xnSKYxc36SH",debug:!1,version:"1.3.2",pcsHost:"https://pcs.baidu.com/",pcsDataHost:"https://pcsdata.baidu.com",hostPanName:"https://pan.baidu.com/",staticName:"https://staticiot.cdn.bcebos.com/",staticPath:"https://staticiot.cdn.bcebos.com/union/netdisk-bp-smartprogram",wapClientType:"5",cType:"32",cel:"netdisk_bdmin",swanReq:{ERROR_IS_LOGINING:"ERROR_IS_LOGINING",ERROR_REQUEST_SERVER_FAILURE:"ERROR_REQUEST_SERVER_FAILURE",ERROR_USER_NOT_LOGIN:"ERROR_USER_NOT_LOGIN",ERROR_USER_LOGIN_FAILURE:"ERROR_USER_LOGIN_FAILURE",ERROR_SERVER_UNAVAILABLE:"ERROR_SERVER_UNAVAILABLE"},CONF:{audioSupportedFormatList:["3gp","aac","flac","xmf","mxmf","rtttl","rtx","ota","imy","mp3","ogg","wav"],docAccessArr:["doc","xls","ppt","pdf","xlsx","docx","pptx","txt"],thirdPartyMap:{zhihu:{name:"知乎",logo:{src:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2F%E7%AC%AC%E4%B8%89%E6%96%B9%E5%A4%96%E9%93%BE%E5%90%88%E4%BD%9C-%E7%9F%A5%E4%B9%8E%E9%93%BE%E6%8E%A5.png",height:43,width:366},secret:"11056e66"},zhidao:{name:"知道",logo:{src:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2F%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98logo.png",height:43,width:223},secret:"697858e1"},baiduapp:{name:"百度App",logo:{src:"https://staticiot.cdn.bcebos.com/union%2Fnetdisk-bp-smartprogram%2F%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98logo.png",height:43,width:223},secret:"4c71949f"}}},fileTypeMap:{MYPLAY:"video",AUDIO:"audio",DOC:"document"}}})),window.define("549",(function(e,t,a,i,n,o,r,s,c,l,p,u,d,h,g,f,m,v,y,w,b,_,k){"use strict";var P=e(143);var S,D,C,T={actions:{actionsUserNumber:{type:"sp_actions_usernumber",value:"数据报活"}},from:{NA:{type:"fromNA",value:"各客户端跳转次数"},baiduboxapp:{type:"sp_baiduboxapp",value:"百度App图片保存总数"},mybaiduboxapp:{type:"sp_my_baiduboxapp",value:"我的网盘入口"},zhidao:{type:"sp_zhidao",value:"知道跳转总数"},tieba:{type:"sp_tieba",value:"贴吧"},tiebashare:{type:"sp_tiebashare",value:"贴吧"},fromOther:{type:"sp_from_unknow",value:"未知来源访问"}},scene:{sceneValue:{type:"sp_scene_sceneValue",value:"场景"}},page:{pageValue:{type:"sp_pageType",value:"各页面展示次数"},home:{type:"sp_home",value:"首页展示次数"},outsiteChainShareCode:{type:"sp_outsitechain_sharecode",value:"提取码页展示次数"},outsiteChainFileList:{type:"sp_outsitechain_filelist",value:"外链页展示次数"},filePreviewImage:{type:"sp_preview_image",value:"图片预览页展示次数"},filePlayVideo:{type:"sp_play_video",value:"视频预览页展示次数"},audio:{type:"sp_audio",value:"音频预览页展示次数"},login:{type:"sp_login",value:"登录页展示次数"},usercenter:{type:"sp_usercenter",value:"用户中心页展示次数"},guider:{type:"sp_guider",value:"切换帐号引导页展示次数"},report:{type:"sp_report",value:"举报页展示次数"},error:{type:"sp_error",value:"失效页展示次数"},task:{type:"sp_task",value:"离线任务页展示次数"},markdownPreview:{type:"sp_preview_markdown",value:"markdown预览页展示次数"},markdownPreviewTime:{type:"sp_preview_markdown_time",value:"markdown预览时长"}},home:{indexRequestError:{type:"sp_index_requestError",value:"首页请求失败次数"},indexShareBtnclick:{type:"sp_index_sharebtnclick",value:"首页分享至好友点击次数"},indexShareLink:{type:"sp_index_sharelink",value:"首页生成分享链接次数"},indexAllClick:{type:"sp_index_allclick",value:"首页全选点击次数"},indexselectshow:{type:"sp_indexselectshow",value:"首页批选页展现"},indexselectcancel:{type:"sp_indexselectcancel",value:"首页批选页点击取消的"},homePullUpRefresh:{type:"sp_index_pulluprefresh",value:"首页上拉加载次数"},homePullUpRefreshFail:{type:"sp_index_pulluprefresh_fail",value:"首页上拉加载失败次数"},homeTimeClick:{type:"sp_index_time_click",value:"首页时间排序点击次数"},homeNameclick:{type:"sp_index_name_click_fail",value:"首页名称排序点击次数"},homeLongPressShare:{type:"sp_index_home_Longpress_share",value:"首页长按分享次数"},homeImageCategoryClick:{type:"sp_home_category_image_click",value:"首页图片分类点击"},homeVideoCategoryClick:{type:"sp_home_category_video_click",value:"首页视频分类点击"},homeDocCategoryClick:{type:"sp_home_category_doc_click",value:"首页文档分类点击"},homeAudioCategoryClick:{type:"sp_home_category_audio_click",value:"首页音频分类点击"},homeImageCategoryPageDisplay:{type:"sp_home_category_image_page_display",value:"首页图片分类展示"},homeVideoCategoryPageDisplay:{type:"sp_home_category_video_page_display",value:"首页视频分类展示"},homeDocCategoryPageDisplay:{type:"sp_home_category_doc_page_display",value:"首页文档分类展示"},homeAudioCategoryPageDisplay:{type:"sp_home_category_audio_page_display",value:"首页音频分类展示"},homeVideoRecentBtnClick:{type:"sp_recent_video_btn_click",value:"最近播放按钮的点击"},homeVideoRecentPageDisplay:{type:"sp_recent_video_page_display",value:"最近播放页展现"}},outsiteChainShareCode:{shareCodePageRightCode:{type:"sp_sharecodepage_rightcode",value:"提取码输入正确次数"},shareCodePageWrongCode:{type:"sp_sharecodepage_wrongcode",value:"提取码输入错误次数"},noShareCodePage:{type:"sp_no_sharecodepage_show",value:"跳过提取码页面的次数"},singleVideoShow:{type:"sp_single_video_show",value:"单视频预览"},multiVideoShow:{type:"sp_multi_video_show",value:"全视频预览"},singleAudioShow:{type:"sp_single_audio_show",value:"单音频预览"},singleImageShow:{type:"sp_single_image_show",value:"单图片预览"},singleDocShow:{type:"sp_single_doc_show",value:"单文档预览"},singleFolderShow:{type:"sp_single_folder_show",value:"单文件夹预览"},verCodeShow:{type:"sp_vercode_show",value:"验证码展示次数"},deadTimeShow:{type:"sp_deadtime_show",value:"倒计时展示次数"},deadTimeShowVerCode:{type:"sp_vercode_deadtime_show",value:"倒计时展示且输入提取码数量"},thirdShareShow:{type:"sp_third_share_show",value:"第三方外链查看"},thirdShareSave:{type:"sp_third_share_save",value:"第三方外链转存"},shareCodePickFile:{type:"sp_sharecode_pickfile",value:"外链提取码页-提取文件按钮点击"},shareCodePageFailCode:{type:"sp_sharecodepage_Failcode",value:"提取码失败次数"},elinkExtractShow:{type:"elink_extract_show",value:"提取码页展示-个人企业外链展示"},vipExtractPageShow:{type:"vip_extract_show",value:"提取码页展示-SVIP外链展示"},thirdShareExtractShow:{type:"sp_third_share_extract_show",value:"提取码页展示-三方外链展示"},shareCodePagePlanA:{type:"sp_sharecodepage_plan_a_show",value:"提取码页展示-展示调端按钮"},shareCodePagePlanATieba:{type:"sp_sharecodepage_plan_a_tieba_show",value:"提取码页展示-展示调端按钮-贴吧"},shareCodePagePlanAClickOpenApp:{type:"sp_sharecodepage_plan_a_click_open_app",value:"提取码页展示-点击调端按钮"},shareCodePagePlanATiebaClickOpenApp:{type:"sp_sharecodepage_plan_a_tieba_click_open_app",value:"提取码页展示-点击调端按钮"},shareCodePagePlanAZhidaoClickOpenApp:{type:"sp_sharecodepage_plan_a_zhidao_click_open_app",value:"提取码页展示-点击调端按钮"},shareCodePagePlanAClickSmartProgram:{type:"sp_sharecodepage_plan_a_click_smart_program",value:"提取码页-点击小程序内查看"},shareCodePagePlanATiebaClickSmartProgram:{type:"sp_sharecodepage_plan_a_tieba_click_smart_program",value:"提取码页-点击小程序内查看-贴吧"},shareCodePagePlanAZhidaoClickSmartProgram:{type:"sp_sharecodepage_plan_a_zhidao_click_smart_program",value:"提取码页-点击小程序内查看-知道"},shareCodePagePlanBPickFile:{type:"sp_sharecodepage_plan_b_pick_file",value:"提取码页-b方案-点击提取文件"},shareCodePagePlanB:{type:"sp_sharecodepage_plan_b_show",value:"提取码页展示-不展示调端按钮"}},outsiteChainFileList:{shareClick:{type:"sp_share_click",value:"点击分享次数"},shareInfoPageReportClick:{type:"sp_shareinfopage_report_click",value:"外链页-点击举报按钮次数"},openSvipShare:{type:"sp_shareinfopage_open_svip_share",value:"外链页-打开svip外链分享页"},shareInfoPagePullUpRefresh:{type:"sp_shareinfopage_pulluprefresh",value:"外链页-上拉加载次数"},shareInfoPagePullUpRefreshFail:{type:"sp_shareinfopage_pulluprefresh_fail",value:"外链页-上拉加载失败次数"},elinkShow:{type:"elink_page_show",value:"外链页-企业外链展示"}},save:{saveBtnClick:{type:"sp_save_btn_click",value:"点击保存按钮次数"},notLogged:{type:"sp_save_notlogged",value:"保存按钮 未登录弹窗次数"},saveOpenApp:{type:"sp_save_openapp",value:"保存按钮 App中打开"},loginClick:{type:"sp_save_login_click",value:"保存按钮 点击登录次数"},loginSuccess:{type:"sp_save_login_success",value:"保存按钮 登录成功次数"},loginFail:{type:"sp_save_login_fail",value:"保存按钮 登录失败次数"},transferSuccess:{type:"sp_save_transfer_success",value:"每日转存成功数"},transferSuccessNum:{type:"sp_save_transfer_success_num",value:"每日转存成功文件数"},transferFailNum:{type:"sp_save_transfer_fail_num",value:"每日转存失败文件数"},transferFail:{type:"sp_transfer_fail",value:"每日转存失败数"},transferFailOpenApp:{type:"sp_save_transfer_fail_openapp",value:"转存失败 使用App打开"},saveSuccessOpenApp:{type:"sp_save_success_openapp",value:"转存成功 使用提示栏App查看文件"},selectshow:{type:"sp_selectshow",value:"外链页-批选页展现"},selectallshow:{type:"sp_selectallshow",value:"外链页-批选页点击全选"},selectcancel:{type:"sp_selectcancel",value:"外链页-批选页点击取消的"}},getUrlLink:{getUrlLinkShow:{type:"geturllink_show",value:"有效外链订阅浮窗展示"},getUrlLinkShowClick:{type:"geturllink_show_click",value:"有效外链订阅浮窗展示-点订阅"},getUrlLinkMsgShow:{type:"geturllink_msg_show",value:"订阅消息说明弹窗展示"},getUrlLinkStart:{type:"geturllink_start",value:"订阅消息说明弹窗展示-点开启订阅"},getUrlLinkConfirm:{type:"geturllink_confirm",value:"确认开启通知弹窗展示"}},task:{toFolder:{type:"sp_task_tofolder",value:"离线页跳转网盘首页百度App文件夹次数"},deleteHistory:{type:"sp_task_deleteHistory",value:"离线页删除记录次数"},goToView:{type:"sp_task_go_to_view",value:"去查看点击"},goToViewFail:{type:"sp_task_go_to_view_fail",value:"去查看调端失败"},getListSaveSuccess:{type:"sp_task_get_list_save_success",value:"获取保存列表成功"},getListSave:{type:"sp_task_get_list_save",value:"获取保存列表"},getListUploadSuccess:{type:"sp_task_get_list_upload_success",value:"获取上传列表成功"},getListUpload:{type:"sp_task_get_list_upload",value:"获取上传列表"},getDataFail:{type:"sp_task_get_data_fail",value:"获取数据错误"},operateSuccess:{type:"sp_task_operate_success",value:"操作成功"}},usercenter:{customReportNum:{type:"sp_usercenter_custom_report_num",value:"用户反馈次数"}},header:{homeBtnClick:{type:"sp_header_homebtn_click",value:"点击首页按钮的总数"},systemShare:{type:"sp_header_systemShare_click",value:"点击右上角进行分享次数"}},tieba:{outsideShareTiebaClick:{type:"sp_outside_sharetieba_click",value:"外链-点击分享贴吧次数"},outsideShareTiebaSuccess:{type:"sp_outside_sharetieba_success",value:"外链-分享贴吧成功次数"},homeShareTiebaClick:{type:"sp_home_sharetieba_click",value:"首页-点击分享贴吧次数"},homeShareTiebaSuccess:{type:"sp_home_sharetieba_success",value:"首页-分享贴吧成功次数"}},outsitePreview:{otherFileOpenApp:{type:"sp_outsite_otherfile_openapp",value:"外链页-其它文件打开App数量"},imgDownload:{type:"sp_outsite_imgdownload",value:"外链页-图片下载次数"},docPreview:{type:"sp_outsite_docpreview",value:"外链页-文档预览次数"},docPreviewSuccess:{type:"sp_outsite_docpreview_success",value:"外链页-文档预览成功次数"},docPreviewFail:{type:"sp_outsite_docpreview_fail",value:"外链页-文档加载失败次数"},docPreviewFailOpenApp:{type:"sp_outsite_docpreview_fail_openapp",value:"外链页-文档加载失败,使用APP打开次数"},docPreviewNotSupport:{type:"sp_outsite_docpreview_notsupport",value:"外链页-文档格式不支持次数"},docPreviewNotSupportOpenApp:{type:"sp_outsite_docpreview_notsupport_openapp",value:"外链页-文档格式不支持,使用APP打开次数"},docPreviewBigSize:{type:"sp_outsite_docpreview_bigsize",value:"外链页-文件过大次数"},docPreviewBigSizeOpenApp:{type:"sp_outsite_docpreview_bigsize_openapp",value:"外链页-文件过大,使用APP打开次数"},videoPreviewSuccess:{type:"sp_outsite_videopreview_success",value:"外链-视频预览页-视频预览成功次数"},videoPreviewFail:{type:"sp_outsite_videopreview_fail",value:"外链-视频预览页-视频预览失败次数"},videoPreviewOpenAppClick:{type:"sp_outsite_videopreview_openapp_click",value:"外链-视频预览页【打开百度网盘APP观看全片】按钮点击次数"},videoPreviewOpenApp:{type:"sp_outsite_videopreview_openapp",value:"外链-视频预览页【打开百度网盘APP观看全片】打开App次数"},videoPreviewOnTraffic:{type:"sp_outsite_videopreview_ontraffic",value:"外链-视频预览页-流量观看次数"},videoPreviewNotSupportOpenApp:{type:"sp_outsite_videopreview_notsupport_openapp",value:"外链-视频预览页-视频格式不支持,【使用APP打开】打开App次数"},audioPreviewSuccess:{type:"sp_outsite_audiopreview_success",value:"外链-音频预览页-音频预览成功次数"},audioPreviewFail:{type:"sp_outsite_audiopreview_fail",value:"外链--音频预览页-音频预览失败次数"},audioPreviewOpenAppClick:{type:"sp_outsite_audiopreview_openapp_click",value:"外链-音频预览页-【打开百度网盘APP听该音频】按钮点击次数"},audioPreviewOpenApp:{type:"sp_outsite_audiopreview_openapp",value:"外链-音频预览页-【打开百度网盘APP听该音频】打开App次数"},audioPreviewControlClick:{type:"sp_outsite_audiopreview_controlclick",value:"外链-音频预览页-音频预览,上一首/下一首点击次数"},audioPreviewBdModes:{type:"sp_outsite_audiopreview_bdmodes_show",value:"外链-音频预览页-音频预览,悬浮播放器展示次数"},audioPreviewBdModesStop:{type:"sp_outsite_audiopreview_bdmodes_stop",value:"外链-音频预览页-音频预览,悬浮播放器暂停按钮点击次数"},audioPreviewBdModesClose:{type:"sp_outsite_audiopreview_bdmodes_close",value:"外链-音频预览页-音频预览,悬浮播放器关闭按钮点击次数"},audioPreviewNotSupportOpenApp:{type:"sp_outsite_audiopreview_notsupport_openapp",value:"外链-音频预览页-音频格式不支持,【使用APP打开】按钮点击次数"},audioPreviewBigSizeOpenApp:{type:"sp_outsite_audiopreview_bigsize_openapp",value:"外链-音频预览页-音频格式文件过大,【使用APP打开】打开App次数"},fileMovedOrDeleted:{type:"sp_outsite_file_moved_or_deleted",value:"外链-该文件已移动保存位置或删除次数"},fileMovedOrDeletedOpenApp:{type:"sp_outsite_file_moved_or_deleted_open_app",value:"外链-该文件已移动保存位置或删除,【使用APP打开】打开App次数"},otherErrorsOpenApp:{type:"sp_outsite_other_errors_open_app",value:"外链-其他错误点击打开App"},fileHasBeenDeleted:{type:"sp_outsite_file_has_been_deleted",value:"外链-该文件已被删除，无法预览出现次数"},fileHasBeenDeletedOpenApp:{type:"sp_outsite_file_has_been_deleted_open_app",value:"外链-该文件已被删除，无法预览。打开App次数"},loadingInTheBackground:{type:"sp_outsite_loading_in_the_background",value:"外链-正在后台加载中，请稍后再试出现次数"},loadingInTheBackgroundOpenApp:{type:"sp_outsite_loading_in_the_background_open_app",value:"外链-正在后台加载中，请稍后再试 。打开App次数"},markdownPreviewNotSupportOpenApp:{type:"sp_outsite_markdownpreview_notsupport_openapp",value:"外链-markdown预览页-格式不支持,【使用APP打开】按钮点击次数"},markdownInfoGetError:{type:"sp_home_markdownpreview_info_geterror",value:"外链-markdown预览页-信息获取失败"}},documentScanPreview:{docPreview:{type:"dis_pdf_view",value:"来自文档扫描-文档预览次数"}},homePreview:{otherFileOpenApp:{type:"sp_home_otherfile_openapp",value:"首页-其它文件打开App数量"},imgDownload:{type:"sp_home_imgdownload",value:"首页-图片下载次数"},docPreview:{type:"sp_home_docpreview",value:"首页-文档预览次数"},docPreviewSuccess:{type:"sp_home_docpreview_success",value:"首页-文档预览成功次数"},docPreviewFail:{type:"sp_home_docpreview_fail",value:"首页-文档加载失败次数"},docPreviewFailOpenApp:{type:"sp_home_docpreview_fail_openapp",value:"首页-文档加载失败,使用APP打开次数"},docPreviewNotSupport:{type:"sp_home_docpreview_notsupport",value:"首页-文档格式不支持次数"},docPreviewNotSupportOpenApp:{type:"sp_home_docpreview_notsupport_openapp",value:"首页-文档格式不支持,使用APP打开次数"},docPreviewBigSize:{type:"sp_home_docpreview_bigsize",value:"首页-文件过大次数"},docPreviewBigSizeOpenApp:{type:"sp_home_docpreview_bigsize_openapp",value:"首页-文件过大,使用APP打开次数"},videoPreviewSuccess:{type:"sp_home_videopreview_success",value:"首页-视频预览页-视频预览成功次数"},videoPreviewFail:{type:"sp_home_videopreview_fail",value:"首页-视频预览页-视频预览失败次数"},videoPreviewOpenAppClick:{type:"sp_home_videopreview_openapp_click",value:"首页-视频预览页【打开百度网盘APP观看全片】按钮点击次数"},videoPreviewOpenApp:{type:"sp_home_videopreview_openapp",value:"首页-视频预览页【打开百度网盘APP观看全片】打开App次数"},videoPreviewOnTraffic:{type:"sp_home_videopreview_ontraffic",value:"首页-视频预览页-流量观看次数"},videoPreviewNotSupportOpenApp:{type:"sp_home_videopreview_notsupport_openapp",value:"首页-视频预览页-视频格式不支持,【使用APP打开】打开App次数"},audioPreviewSuccess:{type:"sp_home_audiopreview_success",value:"首页-音频预览页-音频预览成功次数"},audioPreviewFail:{type:"sp_home_audiopreview_fail",value:"首页--音频预览页-音频预览失败次数"},audioPreviewOpenAppClick:{type:"sp_home_audiopreview_openapp_click",value:"首页-音频预览页-【打开百度网盘APP听该音频】按钮点击次数"},audioPreviewOpenApp:{type:"sp_home_audiopreview_openapp",value:"首页-音频预览页-【打开百度网盘APP听该音频】打开App次数"},audioPreviewControlClick:{type:"sp_home_audiopreview_controlclick",value:"首页-音频预览页-音频预览,上一首/下一首点击次数"},audioPreviewBdModes:{type:"sp_home_audiopreview_bdmodes_show",value:"首页-音频预览页-音频预览,悬浮播放器展示次数"},audioPreviewBdModesStop:{type:"sp_home_audiopreview_bdmodes_stop",value:"首页-音频预览页-音频预览,悬浮播放器暂停按钮点击次数"},audioPreviewBdModesClose:{type:"sp_home_audiopreview_bdmodes_close",value:"首页-音频预览页-音频预览,悬浮播放器关闭按钮点击次数"},audioPreviewNotSupport:{type:"sp_home_audiopreview_notsupport",value:"首页-音频预览页-音频格式不支持次数"},audioPreviewNotSupportOpenApp:{type:"sp_home_audiopreview_notsupport_openapp",value:"首页-音频预览页-音频格式不支持,引导弹窗【使用APP打开】按钮点击次数"},audioPreviewBigSizeOpenApp:{type:"sp_home_audiopreview_bigsize_openapp",value:"首页-音频预览页-音频格式文件过大,【使用APP打开】打开App次数"},fileMovedOrDeleted:{type:"sp_home_file_moved_or_deleted",value:"首页-该文件已移动保存位置或删除次数"},fileMovedOrDeletedOpenApp:{type:"sp_home_file_moved_or_deleted_open_app",value:"首页-该文件已移动保存位置或删除,【使用APP打开】打开App次数"},otherErrorsOpenApp:{type:"sp_home_other_errors_open_app",value:"首页-其他错误点击打开App"},fileHasBeenDeleted:{type:"sp_home_file_has_been_deleted",value:"首页-该文件已被删除，无法预览出现次数"},fileHasBeenDeletedOpenApp:{type:"sp_home_file_has_been_deleted_open_app",value:"首页-该文件已被删除，无法预览。打开App次数"},loadingInTheBackground:{type:"sp_home_loading_in_the_background",value:"首页-正在后台加载中，请稍后再试出现次数"},loadingInTheBackgroundOpenApp:{type:"sp_home_loading_in_the_background_open_app",value:"首页-正在后台加载中，请稍后再试 。打开App次数"},markdownPreviewNotSupportOpenApp:{type:"sp_home_markdownpreview_notsupport_openapp",value:"首页-markdown预览页-格式不支持,【使用APP打开】按钮点击次数"},markdownInfoGetError:{type:"sp_home_markdownpreview_info_geterror",value:"首页-markdown预览页-信息获取失败"}},invalid:{invalidValue:{type:"sp_invalid_value",value:"失效页错误类型"},invalid2:{type:"sp_invalid_2",value:"失效页-服务器开小差了次数"},invalid3:{type:"sp_invalid_3",value:"失效页-分享文件已被删除次数"},invalid4:{type:"sp_invalid_4",value:"失效页-分享链接中有违规或违法内容次数"},invalid7:{type:"sp_invalid_7",value:"失效页-分享文件已过期次数"},invalid8:{type:"sp_invalid_8",value:"失效页-分享文件已过期次数"},invalid12:{type:"sp_invalid_12",value:"失效页-分享文件已过期次数"},invalid21:{type:"sp_invalid_21",value:"失效页-分享文件已被删除次数"},invalid105:{type:"sp_invalid_105",value:"失效页-链接错误没找到文件次数"},invalid5002:{type:"sp_invalid_5002",value:"失效页-异常错误"},invalid5003:{type:"sp_invalid_5003",value:"失效页-链接错误"},invalidother:{type:"sp_invalid_other",value:"失效页-未知错误"},invalidDownloadBtnClick:{type:"sp_invalid_download_click",value:"失效页-下载按钮点击总次数"},invalidIosDownloadBtnClick:{type:"sp_invalid_ios_download_click",value:"失效页-Ios下载按钮点击次数"},invalidAndroidDownloadBtnClick:{type:"sp_invalid_android_download_click",value:"失效页-Android下载按钮点击次数"},invalidNoticeBtnShow:{type:"sp_invalid_notice_btn_show",value:"失效页-提醒按钮展示"},invalidNoticeBtnClick:{type:"sp_invalid_notice_btn_click",value:"失效页-点击发送提示"}},login:{loginBtnClick:{type:"sp_loginbtn_click",value:"登录按钮点击次数"},loginSuccess:{type:"sp_login_success",value:"登录成功次数"},loginFail:{type:"sp_login_fail",value:"登录失败次数"}},outsiteFileClick:{outsiteFliesClickAll:{type:"sp_outsite_fileclick_all",value:"外链页文件点击总次数"},type0:{type:"sp_outsite_nousedata_click",value:"外链页脏数据点击次数"},type1:{type:"sp_outsite_video_click",value:"外链页视频点击次数"},type2:{type:"sp_outsite_audio_click",value:"外链页音乐点击次数"},type3:{type:"sp_outsite_image_click",value:"外链页图片点击次数"},type4:{type:"sp_outsite_doc_click",value:"外链页文档点击次数"},type5:{type:"sp_outsite_apk_click",value:"外链页APK点击次数"},type6:{type:"sp_outsite_other_click",value:"外链页其他文件点击次数"},type7:{type:"sp_outsite_bt_click",value:"外链页种子点击次数"}},homeFliesClick:{homeFliesClickAll:{type:"sp_home_fileclick_all",value:"网盘首页文件点击总次数"},type0:{type:"sp_home_nousedata_click",value:"网盘首页脏数据点击次数"},type1:{type:"sp_home_video_click",value:"网盘首页视频点击次数"},type2:{type:"sp_home_audio_click",value:"网盘首页音乐点击次数"},type3:{type:"sp_home_image_click",value:"网盘首页图片点击次数"},type4:{type:"sp_home_doc_click",value:"网盘首页文档点击次数"},type5:{type:"sp_home_apk_click",value:"网盘首页APK点击次数"},type6:{type:"sp_home_other_click",value:"网盘首页其他文件点击次数"},type7:{type:"sp_home_bt_click",value:"网盘首页种子点击次数"}},activity:{iconShow:{type:"sp_activity_icon_show",value:"小程序角标展示"},iconMyShow:{type:"sp_activity_my_icon_show",value:"小程序我的网盘页角标展示"},iconMyClick:{type:"sp_activity_my_icon_click",value:"小程序我的网盘角标点击"},iconOutShow:{type:"sp_activity_out_icon_show",value:"小程序外链页角标展示"},iconOutClick:{type:"sp_activity_out_icon_click",value:"小程序外链角标点击"},feedOutShow:{type:"sp_activity_out_feed_show",value:"外链页feed运营位展现的PV UV"},feedOutCancle:{type:"sp_activity_out_feed_cancel",value:"外链页feed运营位点击关闭的PV UV"},feedBannerOutClick:{type:"sp_activity_out_feed_banner_click",value:"外链feed运营位banner 点击的PV UV"},feedIcon1OutClick:{type:"sp_activity_out_feed_icon1_click",value:"外链feed运营位 icon1 点击的PV UV"},feedIcon3OutClick:{type:"sp_activity_out_feed_icon3_click",value:"外链feed运营位 icon3 点击的PV UV"},feedIcon2OutClick:{type:"sp_activity_out_feed_icon2_click",value:"外链feed运营位 icon2 点击的PV UV"},imgIconShow:{type:"sp_activity_img_show",value:"大图预览页运营位展现的PV UV"},imgIconClick:{type:"sp_activity_img_click",value:"大图预览页运营位点击的PV UV"}},favor:{myShow:{type:"sp_favor_my_show",value:"我的网盘页关注引导条展现的pv uv"},myLoveClick:{type:"sp_favor_my_love_click",value:"我的网盘页关注引导条点击【关注】的pv uv"},outShow:{type:"sp_favor_out_show",value:"外链页关注小程序引导条展现的pv uv"},outLoveClick:{type:"sp_favor_out_love_click",value:"外链页关注小程序引导条点击【关注】的pv  uv"},outCancelClick:{type:"sp_favor_out_cancel_click",value:"外链页关注小程序引导条点击【关闭】的pv uv"}},transferOptimization:{dwellTime:{type:"sp_transferOptimization_myResource",value:"用户在我的资源根目录下停留时间"}},lightClick:{action:{type:"sp_lightClick",value:"转存后，马上消费"}},opera:{moveclick:{type:"sp_moveclick",value:"点击【移动】按钮的次数"},domove:{type:"sp_domove",value:"移动文件选择页，点击【确认移动】的次数"},createclick:{type:"sp_createclick",value:"移动文件选择页，点击【新建文件夹】的次数"},movecancel:{type:"sp_movecancel",value:"移动文件选择页，点击【取消】的次数"},movesamename:{type:"sp_movesamename",value:"存在同名文件提示弹窗展现的次数"},cannotmove:{type:"sp_cannotmove",value:"无法移动文件到自身目录的次数"},renameclick:{type:"sp_renameclick",value:"点击【重命名】按钮的次数"},deleteclick:{type:"sp_deleteclick",value:"点击【删除】按钮的次数"},confirmdelete:{type:"sp_confirmdelete",value:"确认删除弹窗点击【确定】按钮的次数"},canceldelete:{type:"sp_canceldelete",value:"确认删除弹窗点击【取消】按钮的次数"}},badAccount:{show:{type:"sp_badAccount_show",value:"封禁提示弹窗展现的PV UV"},click:{type:"sp_badAccount_click",value:"封禁提示弹窗点击【去APP申诉】的PV UV"}},openApp:{showDialog:{type:"sp_openapp_showdialog",value:"回端弹窗显示总次数"},openPopup:{type:"sp_openapp_openPopup",value:"底部以保存至我的资源页面弹框，展示次数"},closePopup:{type:"sp_openapp_closePopup",value:"底部以保存至我的资源页面弹框，关闭按钮点击次数"},outSidePage:{type:"sp_outSidePage",value:"回端次数"},homeToNaClick:{type:"sp_openapp_to_na",value:"文件页底部点击App内查看按钮，点击次数"}},docPreview:{fileType:{type:"sp_docpreview_filetype",value:"各种类型的文件预览次数"},fileTransSuccess:{type:"sp_file_transsuccess",value:"各种类型的文件成功预览次数"},fileTransFail:{type:"sp_file_transfail",value:"各种类型的文件失败预览次数"},fileTransSuccessTime:{type:"sp_file_transsuccess_time",value:"文档转码时间"},fileUseNum:{type:"sp_file_use_num",value:"每日消费文件数量（音频、视频、文档、图片 加和）"},fileClick:{type:"sp_file_click",value:"文档点击"},txtNovelOpen:{type:"sp_txt_novel_open",value:"txt小说打开"},txtNovelOpenSuccess:{type:"sp_txt_novel_success",value:"txt小说打开成功"},txtNovelOpenFail:{type:"sp_txt_novel_fail",value:"txt小说失败"}},upload:{uploadShow:{type:"sp_uploadShow",value:"上传列表展现"},uploadNoSpace:{type:"sp_uploadNoSpace",value:"提示上传空间不足弹窗展现"},uploadBigSize:{type:"sp_uploadBigSize",value:"提示上传文件过大弹窗展示"},uploadStopAll:{type:"sp_uploadStopAll",value:"全部暂停按钮点击"},uploadStartAll:{type:"sp_uploadStartAll",value:"全部开始按钮点击"},uploadReStartAll:{type:"sp_uploadReStartAll",value:"全部重试按钮点击"},uploadDeleteHistory:{type:"sp_uploadDeleteHistory",value:"删除上传记录"},uploadFindFile:{type:"sp_uploadFindFile",value:"去查看按钮点击"},uploadVideoPreview:{type:"sp_uploadVideoPreview",value:"上传列表视频预览"},uploadAudioPreview:{type:"sp_uploadAudioPreview",value:"上传列表音频预览"},uploadImgPreview:{type:"sp_uploadImgPreview",value:"上传列表图片预览"},uploadFilePreview:{type:"sp_uploadFilePreview",value:"上传列表文件预览"},uploadOpenApp:{type:"sp_uploadOpenApp",value:"上传列表回端弹窗"},uploadFileFindError:{type:"sp_uploadFileFindError",value:"未找到文件次数"},allowShow4gDialog:{type:"sp_allowShow4gDialog",value:"使用流量上传"},cancelShow4gDialog:{type:"sp_cancelShow4gDialog",value:"稍后wifi上传"}},historyPreview:{historyImagePreview:{type:"sp_historyImagePreview",value:"无页面栈图片预览次数"}},payment:(S={payPageShow:{type:"swan_pay_home_show",value:"收银台页面展现"},payBuyClick:{type:"swan_pay_buy_click",value:"收银台页面点击购买"}},D="payBuyClick",C={type:"swan_pay_success_show",value:"支付成功展示"},D in S?Object.defineProperty(S,D,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[D]=C,S),commonLaunch:{launch:{type:"wap-call-client",value:"各个端调端总的展示"}},vipGuide:{myVipGuide:{type:"sp-myVipGuide",value:"我的页面付费引导条点击"},limitNumShow:{type:"sp-limitNumShow",value:"转存付费引导弹窗展现"},limitNumBuy:{type:"sp-limitNumBuy",value:"转存付费引导弹窗点击购买按钮"},noSpaceShow:{type:"sp-noSpaceShow",value:"容量付费引导弹窗展现"},noSpaceBuy:{type:"sp-noSpaceBuy",value:"容量付费引导弹窗点击购买按钮"}},userMemberInfo:{getLevelError:{type:"wx_index_user_member_level_error",value:"用户会员信息获取失败"},getLevelSuccess:{type:"wx_index_user_member_level_success",value:"用户会员信息获取成功"}},themeData:{defaultTheme:{type:"sp_default_share_theme_data",value:"svip外链分享使用默认皮肤"},svipTheme:{type:"sp_svip_share_theme_data",value:"svip外链分享使用主题皮肤"}},certification:{usercenterCertEntrance:{type:"sp_usercenter_cert_entrance",value:"认证入口-个人中心-我"},shareErrPageCertEntrance:{type:"sp_share_error_page_cert_entrance",value:"认证入口-申诉页"},shareErrorPageDialogCertEntrance:{type:"sp_share_error_page_dialog_cert_entrance",value:"认证入口-申诉页-申诉弹窗"},usercenterCertIcon:{trpe:"sp_usercenter_cert_icon",value:"认证标识-用户个人中心"},shareExtractPageCertIcon:{trpe:"sp_share_extract_page_cert_icon",value:"认证标识-文件分享页-提取码页"},shareListCertIcon:{trpe:"sp_share_list_cert_icon",value:"认证标识-文件分享页-外链页"},appealButton:{type:"sp_appeal_btn",value:"申诉按钮"},appealDialog:{type:"sp_appeal_dialog",value:"申诉弹窗"},appealDialogSubmitButton:{type:"sp_appeal_dialog_submit_btn",value:"申诉弹窗提交按钮"},appealDialogCancelButton:{type:"sp_appeal_dialog_cancel_btn",value:"申诉按钮取消按钮"}},limitShare:{limitShowTotal:{type:"sp_limitShowTotal",value:"密享外链展示总数"},limitShowCode:{type:"sp_limitShowCode",value:"密享外链-提取码页面展示"},limitShowLogin:{type:"sp_limitShowLogin",value:"密享外链-登录页面展示"},limitShowError:{type:"sp_limitShowError",value:"密享外链超过访问人数错误页面展示"},limitShowContent:{type:"sp_limitShowContent",value:"密享外链页面-有内容"},limitShowContentCount:{type:"sp_limitShowContentCount",value:"密享外链列表页预览内容总数"},limitTransSave:{type:"sp_limitTransSave",value:"密享外链点击转存"},limitTransSaveSuccess:{type:"sp_limitTransSaveSuccess",value:"密享外链转存成功"},limitTransSaveFail:{type:"sp_limitAppSave",value:"密享外链转存失败-总数"},limitTransSaveFailReason:{type:"sp_limitTransSaveFailReason",value:"密享外链转存失败-失败原因"}},preViewPage:{previewShowDialog:{type:"sp_previewShowDialog",value:"10页提示-出现次数"},previewWatchAll:{type:"sp_previewWatchAll",value:"10页弹窗点击查看全部"},previewShowTen:{type:"sp_previewShowTen",value:"10页弹窗点击只看前10页"}},coverView:{videoCoverViewCloseBtnClick:{type:"sp_video_yd_close_btn_click",value:"视频播放页飘条关闭按钮点击"},videoCoverViewAppBtnClick:{type:"sp_video_yd_app_btn_click",value:"视频播放页飘条回端按钮点击"},videoCoverViewAppBtnDisplay:{type:"sp_video_yd_app_btn_display",value:"视频播放页飘条回端按钮展现"}},videoPreview:{previewSuccess:{type:"sp_video_preview_success",value:"视频预览成功"},previewFail:{type:"sp_video_preview_fail",value:"视频预览失败"},currentTime:{type:"sp_video_current_time",value:"视频当前播放时长"},fullScreenClick:{type:"sp_video_full_screen_click",value:"全屏按钮点击"},playShow:{type:"sp_video_play_show",value:"视频预览展示"},playOn:{type:"sp_video_play_on",value:"首次播放"},playEnd:{type:"sp_video_play_end",value:"播放结束"}},audioPreview:{previewSuccess:{type:"sp_audio_preview_success",value:"音频预览成功"},previewFail:{type:"sp_audio_preview_fail",value:"音频预览失败"}},imagePreview:{previewError:{type:"sp_image_preview_error"}},videoDuration:{noProgress:{type:"sp_video_noProgress"}},loadDocFile:{pageDispla:{type:"sp_load_doc_page_display",value:"文档预览loading页展现"},openAppClick:{type:"sp_load_doc_page_open_app_click",value:"文档预览loading页点击回端"},fileMovedOrDeleted:{type:"sp_load_doc_file_moved_or_deleted",value:"其他情况,该文件已移动保存位置或删除。出现次数"},openAppDisplay:{type:"sp_load_doc_open_app_display",value:"文档加载页，打开App出现次数"},otherErrorsOpenApp:{type:"sp_load_doc_other_errors_open_app",value:"其他错误，点击打开App"},graphicPreviewClick:{type:"sp_graphic_preview_click",value:"在webview中进行极速预览"},reopenDoc:{type:"sp_load_doc_reopen_click",value:"点击重新打开文档"},reopenDocErr:{type:"sp_load_doc_reopen_err",value:"打开文档失败"}},popup:{display:{type:"trans_success_openapp_display",value:"转存飘条-“打开app查看”展示"},clickViewInApp:{type:"trans_success_openapp_click",value:"转存飘条-“打开app查看”点击"},closePopup:{type:"trans_success_openapp_close",value:"转存飘条-“打开app查看”"}},autoSaveAndExtract:{extcodePageDisplay:{type:"ext_code_page_display"},transLoginStatusDisplay:{type:"trans_login_page_display"},transLoginSuccess:{type:"trans_login_page_success"},transLoginFail:{type:"trans_login_page_fail"},transLoginToPass:{type:"trans_login_page_fail_passport"},codePageLoadingDisplay:{type:"code_page_loading_status_display"},codePageVerifyExtSuccessSave:{type:"code_page_verify_ext_success_save"},codePageVerifyExtSuccessSaveView:{type:"code_page_verify_ext_success_save_view"},codePageVerifyExtSuccessPreviewFile:{type:"code_page_verify_ext_success_preview_file"},codePageVerifyExtSuccessViewList:{type:"code_page_verify_ext_success_view_list"},codePageVerifyExtFailSave:{type:"code_page_verify_ext_fail_save"},codePageVerifyExtFailSaveView:{type:"code_page_verify_ext_fail_save_view"},codePageVerifyExtFailPreviewFile:{type:"code_page_verify_ext_fail_preview_file"},codePageVerifyExtFailViewList:{type:"code_page_verify_ext_fail_view_list"},codePageVerifyExtFailClickBtn:{type:"code_page_verify_ext_fail_click_btn"}},shareListPage:{homePageDisplay:{type:"share_list_home_page_display"},notHomePageDisplay:{type:"share_list_not_home_page_display"},showSubscribeBtn:{type:"subscribe_display",value:"订阅按钮展现"},clickSubscribeBtn:{type:"subscribe_clk",value:"订阅按钮点击"},showHasSubscribedBtn:{type:"subscribed_display",value:"已订阅按钮展现"},clickHasSubscribedBtn:{type:"subscribed_clk",value:"已订阅按钮点击"},showSubscribeSuccessModal:{type:"tc_succeed_display",value:"订阅成功弹窗展现"},clickSubscribeSuccessModal:{type:"tc_succeed_clk",value:"订阅成功弹窗点击"},showSubscribeCancelModal:{type:"tc_cancel_display",value:"取消订阅弹窗展现"},clickCancelSubscribeBtn:{type:"tc_cancel_1_clk",value:"取消订阅弹窗不再订阅点击"},clickContinueSubscribeBtn:{type:"tc_cancel_2_clk",value:"取消订阅弹窗继续订阅点击"}},common:{setCode:{type:"sp_set_pcode",value:"获取盘口令"}},monitor:{shareTransferSuccess:{type:"sp-share-transfer-success",value:"外链转存接口调用-成功"},shareTransferFail:{type:"sp-share-transfer-fail",value:"外链转存接口调用-失败"},shareVerifySuccess:{type:"sp-share-verify-success",value:"外链提取调用-成功"},shareVerifyFail:{type:"sp-share-verify-fail",value:"外链提取调用-失败"},shareSetSuccess:{type:"sp-share-set-success",value:"外链创建-成功"},shareSetFail:{type:"sp-share-set-fail",value:"外链创建-失败"}}},I=n.log={register:function(e){Object.keys(e).forEach((function(t){var a=e[t],i=I[t]={};Object.keys(a).forEach((function(e){i[e]={send:function(t){(0,P.reportAction)(Object.assign({source:o().globalData.from||""},a[e],t))}}}))}))},send:function(e){return(0,P.reportAction)(e)}};I.register(T)})),window.__swanRoute="app",window.usingComponents=[],window.usingPluginComponents=[],require("545"),window.__swanRoute="payment/Components/NavbarPlaceholder/placeholder",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("2"),window.__swanRoute="payment/Components/Navbar/Navbar",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("4"),window.__swanRoute="components/image-resize/image-resize",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("6"),window.__swanRoute="components/nav-bar/nav-bar",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("10"),window.__swanRoute="components/selectbutton/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("12"),window.__swanRoute="components/verifypasswd/verifypasswd",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("38"),window.__swanRoute="components/privilege/dialog",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("40"),window.__swanRoute="components/privilege/bubble",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/privilege/dialog"],window.usingPluginComponents=[],require("42"),window.__swanRoute="components/authtip/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("47"),window.__swanRoute="components/filelist/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("49"),window.__swanRoute="components/loading-process/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("51"),window.__swanRoute="components/upload-tip/upload-tip",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("53"),window.__swanRoute="pages/select-file-for-netdisk/file-list/file-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("56"),window.__swanRoute="components/tab-bar/tab-bar",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("71"),window.__swanRoute="components/export-image/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("74"),window.__swanRoute="components/intelligentVipGuide/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("76"),window.__swanRoute="pages/deWatermark/entrance/pdf-list-progress/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("78"),window.__swanRoute="components/toggle-image/toggle-image",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("80"),window.__swanRoute="components/custom-picker/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("82"),window.__swanRoute="components/choose-image-picker/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/custom-picker/index","components/image-resize/image-resize"],window.usingPluginComponents=[],require("84"),window.__swanRoute="payment/pay/components/privilegeButton/privilegeButton",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("88"),window.__swanRoute="payment/pay/components/privilegeContent/privilegeContent",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("90"),window.__swanRoute="payment/pay/components/privilegeTab/privilegeTab",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("92"),window.__swanRoute="payment/pay/components/vipPayResult/vipPayResult",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("94"),window.__swanRoute="payment/pay/components/cashierBottomBtn/cashierBottomBtn",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/pay/components/purchase/purchase"],window.usingPluginComponents=[],require("96"),window.__swanRoute="payment/Components/Dialogs/ShowDialog/ShowDialog",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/UI/Components/Base/Popups/Dialog/Dialog"],window.usingPluginComponents=[],require("98"),window.__swanRoute="payment/Components/Toast/Toast",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("100"),window.__swanRoute="payment/pay/components/privilegeOverview/privilegeOverview",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("102"),window.__swanRoute="payment/UI/Components/Base/Buttons/Button/Button",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("104"),window.__swanRoute="payment/pay/components/userInfo/userInfo",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/UI/Components/Base/Buttons/Button/Button"],window.usingPluginComponents=[],require("106"),window.__swanRoute="payment/UI/Components/Base/Popups/Popup/Popup",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("109"),window.__swanRoute="payment/UI/Components/Base/Popups/Dialog/Dialog",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/UI/Components/Base/Popups/Popup/Popup"],window.usingPluginComponents=[],require("111"),window.__swanRoute="payment/pay/components/purchase/purchase",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/UI/Components/Base/Popups/Dialog/Dialog"],window.usingPluginComponents=[],require("115"),window.__swanRoute="payment/pay/components/vipProductList/vipProductList",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/pay/components/purchase/purchase"],window.usingPluginComponents=[],require("118"),window.__swanRoute="payment/pay/components/tab/tab",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("120"),window.__swanRoute="components/toasts/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("122"),window.__swanRoute="payment/Components/Dialogs/AppealDialog/AppealDialog",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/UI/Components/Base/Popups/Dialog/Dialog"],window.usingPluginComponents=[],require("124"),window.__swanRoute="components/download-btn/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("127"),window.__swanRoute="components/bottom-popper/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/download-btn/index"],window.usingPluginComponents=[],require("129"),window.__swanRoute="components/error/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/bottom-popper/index","components/nav-bar/nav-bar","components/toasts/index","payment/Components/Dialogs/AppealDialog/AppealDialog"],window.usingPluginComponents=[],require("131"),window.__swanRoute="components/bottom-confirm/bottom-confirm",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("142"),window.__swanRoute="components/base-input/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("145"),window.__swanRoute="components/share-form/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/base-input/index","components/bottom-confirm/bottom-confirm"],window.usingPluginComponents=[],require("147"),window.__swanRoute="node_modules/@baidu/union-design-swan/union-design-wechat/grid-item/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("157"),window.__swanRoute="node_modules/@baidu/union-design-swan/union-design-wechat/grid/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("159"),window.__swanRoute="components/addFriend/modal/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","node_modules/@baidu/union-design-swan/union-design-wechat/grid/index","node_modules/@baidu/union-design-swan/union-design-wechat/grid-item/index","node_modules/@baidu/union-design-swan/union-design-wechat/icon/index","node_modules/@baidu/union-design-swan/union-design-wechat/button/index"],window.usingPluginComponents=[],require("161"),window.__swanRoute="node_modules/@baidu/union-design-swan/union-design-wechat/icon/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("163"),window.__swanRoute="node_modules/@baidu/union-design-swan/union-design-wechat/input/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("165"),window.__swanRoute="node_modules/@baidu/union-design-swan/union-design-wechat/button/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("167"),window.__swanRoute="components/addFriend/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","node_modules/@baidu/union-design-swan/union-design-wechat/button/index","node_modules/@baidu/union-design-swan/union-design-wechat/input/index","node_modules/@baidu/union-design-swan/union-design-wechat/icon/index","components/addFriend/modal/index"],window.usingPluginComponents=[],require("169"),window.__swanRoute="components/member-level-badge/member-level-badge",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("188"),window.__swanRoute="components/base-avator/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("190"),window.__swanRoute="components/user-info/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/base-avator/index","components/member-level-badge/member-level-badge","components/addFriend/index"],window.usingPluginComponents=[],require("192"),window.__swanRoute="components/outside-bottom-bar/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/bottom-confirm/bottom-confirm"],window.usingPluginComponents=[],require("194"),window.__swanRoute="components/report-dialog/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("196"),window.__swanRoute="components/popup/popup",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("198"),window.__swanRoute="components/canvas-progress/canvas-progress",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("203"),window.__swanRoute="components/audio-preview/audio-preview",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/canvas-progress/canvas-progress"],window.usingPluginComponents=[],require("205"),window.__swanRoute="components/bottom-btn-bar/input-dialog/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("207"),window.__swanRoute="components/bottom-btn-bar/bottom-btn-bar",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/bottom-btn-bar/input-dialog/index","components/bottom-confirm/bottom-confirm"],window.usingPluginComponents=[],require("209"),window.__swanRoute="components/subscribe-dialog/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("211"),window.__swanRoute="components/subscribe-outside-link/modal/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("213"),window.__swanRoute="components/subscribe-outside-link/subscribe-outside-link",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/subscribe-outside-link/modal/index","components/subscribe-dialog/index"],window.usingPluginComponents=[],require("215"),window.__swanRoute="components/sharer-info/sharer-info",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/base-avator/index","components/member-level-badge/member-level-badge","components/addFriend/index","components/subscribe-outside-link/subscribe-outside-link"],window.usingPluginComponents=[],require("218"),window.__swanRoute="components/loading-list/loading-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("220"),window.__swanRoute="components/empty-list/empty-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("222"),window.__swanRoute="pages/outsite-chain/third-file-list/outsite-list-item/outsite-list-item",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("224"),window.__swanRoute="pages/outsite-chain/third-file-list/outsite-list/outsite-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/outsite-chain/third-file-list/outsite-list-item/outsite-list-item"],window.usingPluginComponents=[],require("226"),window.__swanRoute="ui/base/popups/popup/popup",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("228"),window.__swanRoute="ui/base/popups/Dialog/Dialog",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","ui/base/popups/popup/popup"],window.usingPluginComponents=[],require("230"),window.__swanRoute="components/new-dialogs/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","ui/base/popups/Dialog/Dialog"],window.usingPluginComponents=[],require("234"),window.__swanRoute="components/select-bar/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("237"),window.__swanRoute="components/vip-card/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("239"),window.__swanRoute="components/base-popper/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("241"),window.__swanRoute="components/activity-feed-icon/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("243"),window.__swanRoute="components/activity-banner/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("246"),window.__swanRoute="components/activity-feed/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/activity-banner/index","components/activity-feed-icon/index"],window.usingPluginComponents=[],require("248"),window.__swanRoute="components/activity-btn/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("250"),window.__swanRoute="components/favorite-guid/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("252"),window.__swanRoute="pages/outsite-chain/file-list/outsite-list-item/outsite-list-item",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("255"),window.__swanRoute="pages/outsite-chain/file-list/outsite-list/outsite-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/outsite-chain/file-list/outsite-list-item/outsite-list-item"],window.usingPluginComponents=[],require("257"),window.__swanRoute="components/image-preview/image-preview",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("259"),window.__swanRoute="pages/file/play-video/video-list-scroll/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("266"),window.__swanRoute="pages/file/play-video/view-in-app/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("268"),window.__swanRoute="pages/file/play-video/play-nav-bar/play-nav-bar",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("270"),window.__swanRoute="components/base-video/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("272"),window.__swanRoute="components/member-entry/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("281"),window.__swanRoute="components/task/download-list/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/task/empty-list/index","components/task/overlimit-tip/index","components/task/bottom-btn/index","components/task/select-bar/index","components/task/task-status/index","components/toasts/index","components/file-item/index"],window.usingPluginComponents=[],require("283"),window.__swanRoute="components/task/backup-list/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/task/task-status/index","components/file-item/index"],window.usingPluginComponents=[],require("295"),window.__swanRoute="components/task/task-status/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("297"),window.__swanRoute="components/task/select-bar/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("299"),window.__swanRoute="components/task/bottom-btn/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","node_modules/@baidu/union-design-swan/union-design-wechat/button/index"],window.usingPluginComponents=[],require("301"),window.__swanRoute="components/task/overlimit-tip/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("303"),window.__swanRoute="components/task/empty-list/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("305"),window.__swanRoute="components/file-item/file-operate/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("307"),window.__swanRoute="components/line-progress/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("309"),window.__swanRoute="components/file-item/file-info/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/line-progress/index"],window.usingPluginComponents=[],require("311"),window.__swanRoute="components/file-item/file-image/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("313"),window.__swanRoute="components/file-item/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/file-item/file-image/index","components/file-item/file-info/index","components/file-item/file-operate/index"],window.usingPluginComponents=[],require("315"),window.__swanRoute="components/task/upload-list/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/file-item/index","components/task/empty-list/index","components/task/overlimit-tip/index","components/task/bottom-btn/index","components/task/select-bar/index","components/task/task-status/index"],window.usingPluginComponents=[],require("317"),window.__swanRoute="components/tab-switch/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("319"),window.__swanRoute="components/union-design/dialog/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("321"),window.__swanRoute="components/union-design/scratchCard/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/dialog/index"],window.usingPluginComponents=[],require("323"),window.__swanRoute="components/union-design/lucky-draw/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/scratchCard/index","components/union-design/dialog/index"],window.usingPluginComponents=[],require("327"),window.__swanRoute="components/union-design/image/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("329"),window.__swanRoute="components/union-design/swiper-text/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("331"),window.__swanRoute="components/union-design/vip-receive/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/swiper-text/index","components/union-design/dialog/index"],window.usingPluginComponents=[],require("333"),window.__swanRoute="components/union-design/user-rule-dialog/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("335"),window.__swanRoute="components/union-design/extra-ticket/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/user-rule-dialog/index"],window.usingPluginComponents=[],require("337"),window.__swanRoute="components/top-search/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("339"),window.__swanRoute="components/open-app-btn/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("341"),window.__swanRoute="components/banner/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("344"),window.__swanRoute="components/m-tabs/tabs-item/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("346"),window.__swanRoute="components/m-tabs/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("348"),window.__swanRoute="components/file-view/file-view-share/file-view-share",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("350"),window.__swanRoute="components/file-view/file-view-other/file-view-other",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[];require("353"),window.__swanRoute="components/file-view/file-view-video/file-view-video",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("355"),window.__swanRoute="components/file-view/file-view-imgs/file-view-imgs",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("357"),window.__swanRoute="pages/home/recently/recent-list-item/recent-list-item",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/file-view/file-view-imgs/file-view-imgs","components/file-view/file-view-video/file-view-video","components/file-view/file-view-other/file-view-other","components/file-view/file-view-share/file-view-share"],window.usingPluginComponents=[],require("359"),window.__swanRoute="pages/home/recently/recent-list/recent-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/home/recently/recent-list-item/recent-list-item"],window.usingPluginComponents=[],require("361"),window.__swanRoute="components/category-list/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("363"),window.__swanRoute="pages/home/empty-list/empty-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("365"),window.__swanRoute="pages/home/home-list-item/home-list-item",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/home/home-list-item/home-list-item"],window.usingPluginComponents=[],require("367"),window.__swanRoute="pages/home/home-list/home-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/home/home-list-item/home-list-item"],window.usingPluginComponents=[],require("369"),window.__swanRoute="pages/home/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/new-dialogs/index","components/toasts/index","pages/home/home-list/home-list","pages/home/empty-list/empty-list","components/loading-list/loading-list","components/popup/popup","components/audio-preview/audio-preview","components/bottom-btn-bar/bottom-btn-bar","components/favorite-guid/index","components/activity-btn/index","components/category-list/index","pages/home/recently/recent-list/recent-list","components/m-tabs/index","components/m-tabs/tabs-item/index","components/tab-bar/tab-bar","components/banner/index","components/open-app-btn/index","components/custom-picker/index","components/choose-image-picker/index","components/top-search/index"],window.usingPluginComponents=[],require("370"),window.__swanRoute="pages/super-vip-day/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/image/index","components/union-design/extra-ticket/index","components/union-design/vip-receive/index","components/union-design/lucky-draw/index"],window.usingPluginComponents=[],require("376"),window.__swanRoute="pages/super-vip-act/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/union-design/image/index","components/union-design/lucky-draw/index"],window.usingPluginComponents=[],require("381"),window.__swanRoute="pages/task/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/tab-bar/tab-bar","components/toasts/index","components/new-dialogs/index","components/nav-bar/nav-bar","components/tab-switch/index","components/task/upload-list/index","components/task/backup-list/index","components/task/download-list/index","components/vip-card/index","components/choose-image-picker/index"],window.usingPluginComponents=[],require("385"),window.__swanRoute="pages/login/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/download-btn/index","components/nav-bar/nav-bar","components/toasts/index"],window.usingPluginComponents=[],require("397"),window.__swanRoute="pages/audio/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/toasts/index","components/popup/popup","components/new-dialogs/index","components/nav-bar/nav-bar","components/outside-bottom-bar/index","components/bottom-btn-bar/bottom-btn-bar","components/vip-card/index"],window.usingPluginComponents=[],require("400"),window.__swanRoute="pages/guider/guider",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar"],window.usingPluginComponents=[],require("403"),window.__swanRoute="pages/webview/webview",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("406"),window.__swanRoute="pages/usercenter/usercenter",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/member-level-badge/member-level-badge","components/member-entry/index","components/tab-bar/tab-bar","components/choose-image-picker/index"],window.usingPluginComponents=[],require("410"),window.__swanRoute="pages/file/play-video/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/popup/popup","components/toasts/index","components/new-dialogs/index","components/base-video/index","components/activity-feed/index","pages/file/play-video/play-nav-bar/play-nav-bar","pages/file/play-video/view-in-app/index","pages/file/play-video/video-list-scroll/index","components/outside-bottom-bar/index","components/bottom-btn-bar/bottom-btn-bar","components/sharer-info/sharer-info","components/vip-card/index"],window.usingPluginComponents=[],require("413"),window.__swanRoute="pages/file/preview-image/preview-image",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/image-preview/image-preview","components/toasts/index","components/outside-bottom-bar/index","components/activity-btn/index","components/bottom-btn-bar/bottom-btn-bar","components/vip-card/index"],window.usingPluginComponents=[],require("418"),window.__swanRoute="pages/file/load-doc-file/load-doc-file",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/toasts/index"],window.usingPluginComponents=[],require("421"),window.__swanRoute="pages/outsite-chain/file-list/file-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/select-bar/index","components/new-dialogs/index","components/toasts/index","pages/outsite-chain/file-list/outsite-list/outsite-list","components/empty-list/empty-list","components/loading-list/loading-list","components/sharer-info/sharer-info","components/bottom-btn-bar/bottom-btn-bar","components/audio-preview/audio-preview","components/popup/popup","components/favorite-guid/index","components/activity-btn/index","components/activity-feed/index","components/base-popper/index","components/report-dialog/index","components/outside-bottom-bar/index","components/vip-card/index"],window.usingPluginComponents=[],require("424"),window.__swanRoute="pages/outsite-chain/third-file-list/file-list",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/select-bar/index","components/new-dialogs/index","components/toasts/index","pages/outsite-chain/third-file-list/outsite-list/outsite-list","components/empty-list/empty-list","components/loading-list/loading-list","components/sharer-info/sharer-info","components/bottom-btn-bar/bottom-btn-bar","components/audio-preview/audio-preview","components/popup/popup","components/report-dialog/index","components/outside-bottom-bar/index"],window.usingPluginComponents=[],require("431"),window.__swanRoute="pages/outsite-chain/share-code/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/toasts/index","components/nav-bar/nav-bar","components/user-info/index","components/share-form/index","components/error/index"],window.usingPluginComponents=[],require("434"),window.__swanRoute="pages/h5/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("438"),window.__swanRoute="pages/download-page/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/toasts/index"],window.usingPluginComponents=[],require("441"),window.__swanRoute="pages/download-permission/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/toasts/index"],window.usingPluginComponents=[],require("444"),window.__swanRoute="pages/file/doc-graphic-view/doc-graphic-view",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("447"),window.__swanRoute="payment/pay/pages/cashierDesk/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/Components/Navbar/Navbar","payment/pay/components/tab/tab","payment/pay/components/vipProductList/vipProductList","payment/pay/components/userInfo/userInfo","payment/pay/components/privilegeOverview/privilegeOverview","payment/Components/Toast/Toast","payment/Components/Dialogs/ShowDialog/ShowDialog","payment/pay/components/cashierBottomBtn/cashierBottomBtn"],window.usingPluginComponents=[],require("450"),window.__swanRoute="payment/pay/pages/payResult/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/Components/Navbar/Navbar","payment/pay/components/vipPayResult/vipPayResult"],window.usingPluginComponents=[],require("453"),window.__swanRoute="payment/pay/pages/payPrivilege/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/Components/Navbar/Navbar","payment/pay/components/privilegeTab/privilegeTab","payment/pay/components/privilegeContent/privilegeContent","payment/pay/components/privilegeButton/privilegeButton"],window.usingPluginComponents=[],require("456"),window.__swanRoute="payment/pay/pages/protocolOfPayment/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","payment/Components/Navbar/Navbar"],window.usingPluginComponents=[],require("459"),window.__swanRoute="payment/pay/pages/historyProtocol/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("462"),window.__swanRoute="pages/camera/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar"],window.usingPluginComponents=[],require("465"),window.__swanRoute="pages/image-process/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/choose-image-picker/index","components/toggle-image/toggle-image"],window.usingPluginComponents=[],require("468"),window.__swanRoute="pages/image-clip/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/choose-image-picker/index","components/toggle-image/toggle-image"],window.usingPluginComponents=[],require("472"),window.__swanRoute="pages/document-scan-result/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/upload-tip/upload-tip"],window.usingPluginComponents=[],require("477"),window.__swanRoute="pages/document-scan-introduce/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/image-resize/image-resize"],window.usingPluginComponents=[],require("482"),window.__swanRoute="pages/deWatermark/entrance/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","pages/deWatermark/entrance/pdf-list-progress/index","components/loading-process/index"],window.usingPluginComponents=[],require("485"),window.__swanRoute="pages/deWatermark/pdf-process/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/intelligentVipGuide/index","components/loading-process/index"],window.usingPluginComponents=[],require("490"),window.__swanRoute="pages/puzzle/puzzle",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/export-image/index","components/upload-tip/upload-tip"],window.usingPluginComponents=[],require("494"),window.__swanRoute="pages/mobile-camera/mobile-camera",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/image-resize/image-resize"],window.usingPluginComponents=[],require("501"),window.__swanRoute="pages/tools/tools",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/tab-bar/tab-bar"],window.usingPluginComponents=[],require("504"),window.__swanRoute="pages/select-file-for-netdisk/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","pages/select-file-for-netdisk/file-list/file-list","components/nav-bar/nav-bar"],window.usingPluginComponents=[],require("507"),window.__swanRoute="pages/toword-middle-page/toword-middle-page",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/upload-tip/upload-tip"],window.usingPluginComponents=[],require("510"),window.__swanRoute="pages/image-tools/compress/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar"],window.usingPluginComponents=[],require("514"),window.__swanRoute="pages/image-tools/compress/proccess/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/image-resize/image-resize"],window.usingPluginComponents=[],require("518"),window.__swanRoute="pages/image-tools/deWatermark/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/loading-process/index"],window.usingPluginComponents=[],require("521"),window.__swanRoute="pages/image-tools/deWatermark/proccess/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/loading-process/index"],window.usingPluginComponents=[],require("524"),window.__swanRoute="pages/select-local-and-pan/index",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("527"),window.__swanRoute="pages/pic-puzzle-page/pic-puzzle-page",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/image-resize/image-resize"],window.usingPluginComponents=[],require("530"),window.__swanRoute="pages/pdf-to-word/pdf-to-word",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/filelist/index","components/authtip/index","components/privilege/bubble","components/selectbutton/index","components/verifypasswd/verifypasswd","components/nav-bar/nav-bar"],window.usingPluginComponents=[],require("533"),window.__swanRoute="pages/guide/guide",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/selectbutton/index"],window.usingPluginComponents=[],require("536"),window.__swanRoute="pages/choose-img/choose-img",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder","components/nav-bar/nav-bar","components/image-resize/image-resize"],window.usingPluginComponents=[],require("539"),window.__swanRoute="pages/file/preview-markdown/preview-markdown",window.usingComponents=["payment/Components/Navbar/Navbar","payment/Components/NavbarPlaceholder/placeholder"],window.usingPluginComponents=[],require("542")}(__hacked);
//# sourceMappingURL=/output/app.js.map