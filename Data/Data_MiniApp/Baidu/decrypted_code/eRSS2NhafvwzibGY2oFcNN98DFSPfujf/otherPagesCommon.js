var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};!function(e){e.global,e.Function;var t=e.setTimeout,o=e.setInterval,a=(e.setImmediate,e.requestAnimationFrame);e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;window.define("91",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.chooseGift=a.getHomeLetterGiftSelected=a.getHomeLetterGiftList=a.createOrder=a.homeLetterQuery=a.chooseAddress=a.homeLetterWrite=a.getHomePageInfo=a.getHomeLetterAuth=a.getHomeLetterActivityTime=void 0;var T=e(92),x=e(94),P=e(58),D=e(4),_=e(93),k=e(97),A={isMain:!0},j=function(e,o){var a=e.status;[x.HOME_LETTER_ERR_CODE.NOT_LOGIN,x.HOME_LETTER_ERR_CODE.AUTH_FAIL,x.HOME_LETTER_ERR_CODE.AUTH_NOT_QUALIFIED].includes(+a)?((0,D.normalToast)({title:x.HOME_LETTER_RESPONSE_STATUS_MAP[a]}),t((function(){(0,P.jumpToInnerSwan)({path:x.INTRO_PAGE})}),1e3)):o(e)};a.getHomeLetterActivityTime=function(e){return new Promise((function(t,o){var a=x.API.getHomeLetterActivityTime;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},a.getHomeLetterAuth=function(e){return new Promise((function(t,o){var a=x.API.getHomeLetterAuth;(0,T.request)(Object.assign({url:a,data:e},A)).then((function(e){(0,D.bdxdAddLog)(void 0,{compTargetId:"ssv_335"}),function(e){var t=e._downgradeHeader,o=void 0;try{o=JSON.parse(t.Comp)}catch(e){o=[]}!1===(0,_.getUseFuncs)(_.downgradeFeature.homeLetter,o).intro&&(r().globalData.siteData.downgradeHomeLetter=!0,(0,k.createDKLKey)())}(e),t(e)})).catch((function(e){o(e)}))}))},a.getHomePageInfo=function(e){return new Promise((function(t,o){var a=x.API.getHomePageInfo,i=Object.assign({activityId:x.ACTIVITY_ID},e);(0,T.request)({url:a,data:i}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.homeLetterWrite=function(e){return new Promise((function(t,o){var a=x.API.homeLetterWrite;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.chooseAddress=function(e){return new Promise((function(t,o){var a=x.API.chooseAddress,i=Object.assign({activityId:x.ACTIVITY_ID},e);(0,T.request)({url:a,data:i}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.homeLetterQuery=function(e){return new Promise((function(t,o){var a=x.API.homeLetterQuery;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.createOrder=function(e){return new Promise((function(t,o){var a=x.API.createOrder,i=Object.assign({activityId:x.ACTIVITY_ID},e);(0,T.request)({url:a,data:i}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.getHomeLetterGiftList=function(e){return new Promise((function(t,o){var a=x.API.getHomeLetterGiftList;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.getHomeLetterGiftSelected=function(e){return new Promise((function(t,o){var a=x.API.getHomeLetterGiftSelected;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))},a.chooseGift=function(e){return new Promise((function(t,o){var a=x.API.chooseGift;(0,T.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){j(e,o)}))}))}})),window.define("94",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;Object.defineProperty(o,"__esModule",{value:!0}),o.UFO_PATH=o.RULE_PAGE=o.homeLetterPageUrls=o.HOME_LETTER_RESPONSE_STATUS_MAP=o.HOME_LETTER_ERR_TXT=o.HOME_LETTER_ERR_CODE=o.EXPIRED_OPERATE=o.IS_FORM_HOME_LETTER=o.ERROR_PAGE_CONFIG=o.INTRO_PAGE=o.HOME_PAGE=o.HOME_LETTER_STATUS=o.WEB_VIEW_PATH=o.DELIVERY_PATH=o.ADDRESS_PATH=o.LETTER_PREVIEW=o.LETTER_EDIT_PATH=o.PICK_GIFT_PATH=o.HOME_PAGE_PATH=o.INTRO_PATH=o.ACTIVITY_ID=o.API=void 0;var T=e(95),x=e(59),P=e(96);function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.API={getHomeLetterActivityTime:"api/homebook/v1.0/activity/time",getHomePageInfo:"api/activity/v1.0/gift/letter/get",chooseAddress:"api/activity/v1.0/gift/address/choose",createOrder:"api/activity/v1.0/inner/order/create",homeLetterWrite:"api/home/v1.0/letter/write",homeLetterQuery:"api/home/v1.0/letter/query",getHomeLetterAuth:"/api/homebook/v1.0/auth",getHomeLetterGiftList:"/search/activity/v1.0/productList/batch/get",getHomeLetterGiftSelected:"/api/activity/v1.0/gift/get",chooseGift:"/api/activity/v1.0/gift/choose"},o.ACTIVITY_ID=1637234392,o.INTRO_PATH="/wjz/dxdjx/home-letter-intro/home-letter-intro",o.HOME_PAGE_PATH="/wjz/dxdjx/home-letter/homepage/homepage",o.PICK_GIFT_PATH="/wjz/dxdjx/home-letter/pick-gift/pick-gift",o.LETTER_EDIT_PATH="/wjz/dxdjx/home-letter/letter-edit/letter-edit",o.LETTER_PREVIEW="/wjz/dxdjx/home-letter/letter-preview/letter-preview",o.ADDRESS_PATH="/wjz/bdxd/submit-related/address-list/address-list",o.DELIVERY_PATH="/wjz/bdxd/after-sale/delivery/delivery",o.WEB_VIEW_PATH="/wjz/bdxd/communicate/common-web-view/common-web-view",o.HOME_LETTER_STATUS={default:0,selected:1,send:2},o.HOME_PAGE="/wjz/dxdjx/home-letter/homepage/homepage",o.INTRO_PAGE="/wjz/dxdjx/home-letter-intro/home-letter-intro",o.ERROR_PAGE_CONFIG={errTitle:"度家有礼",errText:"活动太火爆了~ 请稍后再试试",errBtn:"重试",frontColor:"white",theme:"home-letter"},o.IS_FORM_HOME_LETTER=1,o.EXPIRED_OPERATE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n().globalData.siteData.activityDateEnd,o=void 0===t?(new Date).getTime():t,a=e||o,i=(0,T.formateDate)(a,"YYYY年MM月DD日 hh:mm");return"非常抱歉，线上填写时间在"+i+"已结束，您的操作不能生效，请您理解。如有问题请联系客服~"};var _=o.HOME_LETTER_ERR_CODE=Object.assign({},x.RESPONSE_STATUS,{AUTH_NOT_QUALIFIED:5003,AUTH_FAIL:5004,SYS_ERR:500,ACTIVITY_PRODUCT_NOT_MATCH:9020,ACTIVITY_PRODUCT_CHECK_ERROR:9021,ACTIVITY_NOT_START:9022,UUAP_FAIL:5006,ACTIVITY_END:5005,PARAM_ERR:5500,ALL_BUSINESS_ERR:3500,ORDER_NOT_EXIST:7004,CHANGE_GIFT_ORDER_ERR:9023,CHOOSE_GIFT_SYS_ERR:5101,CREATE_ORDER_NO_GIFT:6007,CREATE_ORDER_MORE:1100}),k=o.HOME_LETTER_ERR_TXT={LIMIT_ERR_TXT:"访问人数太多啦~ 请稍后再试试",NOT_LOGIN_TXT:"请用绑定百度员工身份的账号登录手百APP",DEFAULT_ERR_TXT:"活动太火爆了~ 请稍后再试试",NO_GIFT_ORDER_TXT:"选个礼物给家人吧",CREATE_ORDER_MORE_TXT:"手速太快了，请稍后再试试"},A=(o.HOME_LETTER_RESPONSE_STATUS_MAP=(D(I={},_.NOT_LOGIN,k.NOT_LOGIN_TXT),D(I,_.LIMIT,k.LIMIT_ERR_TXT),D(I,_.PARAM_ERR,k.DEFAULT_ERR_TXT),D(I,_.ALL_BUSINESS_ERR,k.DEFAULT_ERR_TXT),D(I,_.ORDER_NOT_EXIST,k.DEFAULT_ERR_TXT),D(I,_.CHANGE_GIFT_ORDER_ERR,k.DEFAULT_ERR_TXT),D(I,_.CHOOSE_GIFT_SYS_ERR,k.DEFAULT_ERR_TXT),D(I,_.SYS_ERR,k.DEFAULT_ERR_TXT),D(I,_.CREATE_ORDER_NO_GIFT,k.NO_GIFT_ORDER_TXT),D(I,_.CREATE_ORDER_MORE,k.CREATE_ORDER_MORE_TXT),I),o.homeLetterPageUrls={letterPreviewH5:{offline:"/site/clf2sh.com/98eb1f83-593b-4e86-a17f-622775354a52",preonline:"/site/wjz7t0qr/4598b3a7-7d21-4cd9-b051-f3cffc6fe022",online:"/site/wjz3m3ts/f93c9b7d-38d3-49cd-ab16-879f19c6ab3c"},shareMidPage:{offline:"https://activity.baidu.com/mbox/preview/4a80a0996c/matrixShareSimple",online:"https://activity.baidu.com/mbox/4a80a0996c/matrixShareSimple"},rulePageUrl:{local:"http://cp01-ufo-script.bcc-szwg.baidu.com:8084/ufosdk/imConfig/VYSRx4OLQ0vtY9NPV17Jkw%3D%3D/25781034",offline:"http://cp01-ufo-script.bcc-szwg.baidu.com:8084/ufosdk/imConfig/VYSRx4OLQ0vtY9NPV17Jkw%3D%3D/25781034",preonline:"https://ufosdk.baidu.com/ufosdk/imConfig/hUsmc3gYYf%2BX%2B79r9RFJJQ%3D%3D/256829",online:"https://ufosdk.baidu.com/ufosdk/imConfig/hUsmc3gYYf%2BX%2B79r9RFJJQ%3D%3D/256829"},ufoPageUrl:{local:"http://cp01-ufo-script.bcc-szwg.baidu.com:8084/ufosdk/imConfig/Uf%2FkE02d6vjgnGfTqv1cjA%3D%3D/25781034",offline:"http://cp01-ufo-script.bcc-szwg.baidu.com:8084/ufosdk/imConfig/Uf%2FkE02d6vjgnGfTqv1cjA%3D%3D/25781034",preonline:"https://ufosdk.baidu.com/ufosdk/imConfig/ImtKapH%2BLTZpfApl4mZjBw%3D%3D/256829",online:"https://ufosdk.baidu.com/ufosdk/imConfig/ImtKapH%2BLTZpfApl4mZjBw%3D%3D/256829"}});o.RULE_PAGE=(0,P.getPageUrlByEnv)(A.rulePageUrl),o.UFO_PATH=(0,P.getPageUrlByEnv)(A.ufoPageUrl)})),window.define("95",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.timeStampTransDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",o=new Date(Number(e)),a=o.getFullYear(),i=o.getMonth()+1,n=o.getDate();return[a,i,n].join(String(t))},o.formateDate=function(e,t){e=Number(e),t=t||"YYYY-MM-DD hh:mm:ss";var o=new Date(e),a={yy:(o.getFullYear()+"").slice(2),YYYY:o.getFullYear(),MM:o.getMonth()+1,DD:o.getDate(),H:o.getHours()%12,hh:o.getHours()>9?o.getHours():"0"+o.getHours(),I:o.getMinutes(),mm:o.getMinutes()>9?o.getMinutes():"0"+o.getMinutes(),S:o.getSeconds(),ss:o.getSeconds()>9?o.getSeconds():"0"+o.getSeconds(),a:o.getHours()>=12?"pm":"am",A:o.getHours()>=12?"下午":"上午",w:o.getDay(),W:["日","一","二","三","四","五","六"][o.getDay()]};for(var i in a)t=t.replace(new RegExp(i,"g"),a[i]);return t}})),window.define("96",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getDxdjxAppKey=o.getH5PageUrlByEnv=o.getPageUrlByEnv=void 0;var I,T=e(82),x=(I=T)&&I.__esModule?I:{default:I};var P={offline:"eRSS2NhafvwzibGY2oFcNN98DFSPfujf_trial",online:"eRSS2NhafvwzibGY2oFcNN98DFSPfujf"},D={offline:"http://sjh-offline.baidu.com",preonline:"http://sjh-preonline.baidu.com",online:"https://sjh.baidu.com"},_=o.getPageUrlByEnv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=x.default.currentEnv;return e[t]||e.online};o.getH5PageUrlByEnv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(D)+_(e)},o.getDxdjxAppKey=function(){return _(P)}})),window.define("97",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.letterAppPreviewPageShare=o.letterAppShare=o.letterPageShare=o.getPreviewPageShareUrl=o.createDKLKey=void 0;var I,T=e(4),x=e(98),P=e(51),D=e(94),_=e(82),k=((I=_)&&I.__esModule,e(96));var A={title:"礼包送暖 家书传爱",content:"这封信，给我亲爱的家人",imageUrl:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/homeLetterShareCard.jpg"},j={title:"度家有礼",content:"礼包送暖，家书传爱",imageUrl:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/homeLetterShareCard.jpg"},O="",L=(0,k.getPageUrlByEnv)(D.homeLetterPageUrls.shareMidPage),E=(0,k.getH5PageUrlByEnv)(D.homeLetterPageUrls.letterPreviewH5),N=P.PAGES.HOME_LETTER_INTRO+"?sceneValue=43",R="baiduboxapp://swan/"+(0,k.getDxdjxAppKey)()+N,M=[P.PAGES.ADDRESS_EDIT,P.PAGES.ADDRESS_LIST,P.PAGES.LOGISTICS_DETAIL],B=(o.createDKLKey=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=2;break}return e.abrupt("return");case 2:return t=R.replace("baiduboxapp://swan/",""),e.next=6,(0,x.getDKLKey)(966,t);case 6:O=e.sent;case 7:case"end":return e.stop()}}),e,void 0)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,o){return function a(i,n){try{var r=t[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}(),function(e){return"【"+e+"】复制这条信息，打开【百度APP】参与活动"}),F=o.getPreviewPageShareUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,T.bdxdAddLog)({},{compTargetId:"ssv_330"});var t=encodeURIComponent(e.token),o=E+"?token="+t,a=""+encodeURIComponent(E+"?token=")+t,i="baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf"+P.PAGES.COMMUNICATE_WEB_VIEW+"?url="+a;return{previewPageShareUrl:o,previewPageShareUrlDowngrade:i}};o.letterPageShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=F(e),o=t.previewPageShareUrl,a=t.previewPageShareUrlDowngrade,i=Object.assign({},A),r=null,s=n().globalData.siteData.downgradeHomeLetter;s?(i.command={info:{title:B(A.title),content:B(A.content)}},r={activityId:966,klUrl:a.replace("baiduboxapp://swan/","")}):i.shareUrl=o,(0,x.generalShare)({klParams:r,shareParams:i})},o.letterAppShare=function(){(0,T.bdxdAddLog)({},{compTargetId:"ssv_330"});var e="/"+(0,T.getCurPath)();if(M.includes(e)&&+(0,T.parsePageQuery)().isFromHomeLetter!==D.IS_FORM_HOME_LETTER)return{};var t=Object.assign({},j,{shareUrl:L+"?appName=baiduboxapp&scheme="+encodeURIComponent(R)});return n().globalData.siteData.downgradeHomeLetter&&(t.command={cmd_pannel:x.DEFAULT_CMD_CHANNEL,info:{type:x.DEFAULT_INFO_TYPE,title:B(j.title),content:B(j.content),key:O}}),t},o.letterAppPreviewPageShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=F(e),o=t.previewPageShareUrl;return Object.assign({},A,{shareUrl:o})}})),window.define("98",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.generalShare=o.DEFAULT_INFO_TYPE=o.DEFAULT_CMD_CHANNEL=o.getDKLKey=void 0;var I=o.getDKLKey=function(){var e=x(regeneratorRuntime.mark((function e(t,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({activity_id:t,url:o}),e.next=3,(0,T.b64EnDecode)({operateContent:a});case 3:return i=e.sent,e.abrupt("return",i.data&&i.data.algorithmResult);case 5:case"end":return e.stop()}}),e,this)})));return function(t,o){return e.apply(this,arguments)}}(),T=e(99);function x(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,o){return function a(i,n){try{var r=t[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))}}var P,D=o.DEFAULT_CMD_CHANNEL=["weixin_friend","weixin_timeline","qqfriend","qqdenglu","baiduhi","sinaweibo"],_=o.DEFAULT_INFO_TYPE=0;o.generalShare=(P=x(regeneratorRuntime.mark((function e(t){var o,a,n,r,s,d,u,c,p,l,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.klParams,a=t.shareParams,!o){e.next=14;break}if(n=o.activityId,r=o.klUrl,n&&r){e.next=6;break}return console.warn("配置度口令，参数activityId、klUrl都不能为空。"),e.abrupt("return");case 6:return s=a.command||{},d=s.cmd_pannel,u=s.info,c=(u=void 0===u?{}:u).type,p=u.title,l=u.content,e.next=12,I(n,r);case 12:g=e.sent,a.command={cmd_pannel:d||D,info:{type:c||_,title:p||a.title,content:l||a.content,key:g}};case 14:i.openShare(Object.assign({},a));case 15:case"end":return e.stop()}}),e,void 0)}))),function(e){return P.apply(this,arguments)})})),window.define("99",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.b64EnDecode=void 0;var I=e(92),T=e(51),x=e(4),P=e(100);o.b64EnDecode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operateType,o=void 0===t?0:t,a=e.operateContent,i=void 0===a?"":a,n=(0,P.AESencrypt)(JSON.stringify({operateContent:i,timestamp:Date.now()})),r=T.API.b64EnDecode,s=(0,x.performanceLogTime)({},"start_request");return(0,I.request)({url:r,data:{token:n,operateType:o,operateContent:i}}).then((function(e){return s=(0,x.performanceLogTime)(s,"end_request"),Object.assign({},e,{_reqLogTime:s})}))}})),window.define("100",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AESencrypt=function(e){return I.AES.encrypt(e,T,{iv:x,mode:I.mode.CBC,padding:I.pad.Pkcs7}).toString()};var I=e(101),T="1ngvdxjggnp11js8",x="9709m6tb1bbid6cu";T=I.enc.Utf8.parse(T),x=I.enc.Utf8.parse(x)})),window.define("101",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T,x=x||function(e,t){var o={},a=o.lib={},i=function(){},n=a.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=a.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,o=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var i=0;i<e;i++)t[a+i>>>2]|=(o[i>>>2]>>>24-i%4*8&255)<<24-(a+i)%4*8;else if(65535<o.length)for(i=0;i<e;i+=4)t[a+i>>>2]=o[i>>>2];else t.push.apply(t,o);return this.sigBytes+=e,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=e.ceil(o/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var o=[],a=0;a<t;a+=4)o.push(4294967296*e.random()|0);return new r.init(o,t)}}),s=o.enc={},d=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var o=[],a=0;a<e;a++){var i=t[a>>>2]>>>24-a%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,o=[],a=0;a<t;a+=2)o[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new r.init(o,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var o=[],a=0;a<e;a++)o.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return o.join("")},parse:function(e){for(var t=e.length,o=[],a=0;a<t;a++)o[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new r.init(o,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var o=this._data,a=o.words,i=o.sigBytes,n=this.blockSize,s=i/(4*n);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*n,i=e.min(4*t,i),t){for(var d=0;d<t;d+=n)this._doProcessBlock(a,d);d=a.splice(0,t),o.sigBytes-=i}return new r.init(d,i)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=p.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,o){return new e.init(o).finalize(t)}},_createHmacHelper:function(e){return function(t,o){return new l.HMAC.init(e,o).finalize(t)}}});var l=o.algo={};return o}(Math);T=(I=x).lib.WordArray,I.enc.Base64={stringify:function(e){var t=e.words,o=e.sigBytes,a=this._map;e.clamp(),e=[];for(var i=0;i<o;i+=3)for(var n=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,r=0;4>r&&i+.75*r<o;r++)e.push(a.charAt(n>>>6*(3-r)&63));if(t=a.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,o=this._map;(a=o.charAt(64))&&-1!=(a=e.indexOf(a))&&(t=a);for(var a=[],i=0,n=0;n<t;n++)if(n%4){var r=o.indexOf(e.charAt(n-1))<<n%4*2,s=o.indexOf(e.charAt(n))>>>6-n%4*2;a[i>>>2]|=(r|s)<<24-i%4*8,i++}return T.create(a,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,o,a,i,n,r){return((e=e+(t&o|~t&a)+i+r)<<n|e>>>32-n)+t}function o(e,t,o,a,i,n,r){return((e=e+(t&a|o&~a)+i+r)<<n|e>>>32-n)+t}function a(e,t,o,a,i,n,r){return((e=e+(t^o^a)+i+r)<<n|e>>>32-n)+t}function i(e,t,o,a,i,n,r){return((e=e+(o^(t|~a))+i+r)<<n|e>>>32-n)+t}for(var n=x,r=(d=n.lib).WordArray,s=d.Hasher,d=n.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;d=d.MD5=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var r=0;16>r;r++){var s=e[d=n+r];e[d]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}r=this._hash.words;var d=e[n+0],c=(s=e[n+1],e[n+2]),p=e[n+3],l=e[n+4],g=e[n+5],h=e[n+6],m=e[n+7],f=e[n+8],v=e[n+9],b=e[n+10],w=e[n+11],y=e[n+12],C=e[n+13],S=e[n+14],I=e[n+15],T=t(T=r[0],D=r[1],P=r[2],x=r[3],d,7,u[0]),x=t(x,T,D,P,s,12,u[1]),P=t(P,x,T,D,c,17,u[2]),D=t(D,P,x,T,p,22,u[3]);T=t(T,D,P,x,l,7,u[4]),x=t(x,T,D,P,g,12,u[5]),P=t(P,x,T,D,h,17,u[6]),D=t(D,P,x,T,m,22,u[7]),T=t(T,D,P,x,f,7,u[8]),x=t(x,T,D,P,v,12,u[9]),P=t(P,x,T,D,b,17,u[10]),D=t(D,P,x,T,w,22,u[11]),T=t(T,D,P,x,y,7,u[12]),x=t(x,T,D,P,C,12,u[13]),P=t(P,x,T,D,S,17,u[14]),T=o(T,D=t(D,P,x,T,I,22,u[15]),P,x,s,5,u[16]),x=o(x,T,D,P,h,9,u[17]),P=o(P,x,T,D,w,14,u[18]),D=o(D,P,x,T,d,20,u[19]),T=o(T,D,P,x,g,5,u[20]),x=o(x,T,D,P,b,9,u[21]),P=o(P,x,T,D,I,14,u[22]),D=o(D,P,x,T,l,20,u[23]),T=o(T,D,P,x,v,5,u[24]),x=o(x,T,D,P,S,9,u[25]),P=o(P,x,T,D,p,14,u[26]),D=o(D,P,x,T,f,20,u[27]),T=o(T,D,P,x,C,5,u[28]),x=o(x,T,D,P,c,9,u[29]),P=o(P,x,T,D,m,14,u[30]),T=a(T,D=o(D,P,x,T,y,20,u[31]),P,x,g,4,u[32]),x=a(x,T,D,P,f,11,u[33]),P=a(P,x,T,D,w,16,u[34]),D=a(D,P,x,T,S,23,u[35]),T=a(T,D,P,x,s,4,u[36]),x=a(x,T,D,P,l,11,u[37]),P=a(P,x,T,D,m,16,u[38]),D=a(D,P,x,T,b,23,u[39]),T=a(T,D,P,x,C,4,u[40]),x=a(x,T,D,P,d,11,u[41]),P=a(P,x,T,D,p,16,u[42]),D=a(D,P,x,T,h,23,u[43]),T=a(T,D,P,x,v,4,u[44]),x=a(x,T,D,P,y,11,u[45]),P=a(P,x,T,D,I,16,u[46]),T=i(T,D=a(D,P,x,T,c,23,u[47]),P,x,d,6,u[48]),x=i(x,T,D,P,m,10,u[49]),P=i(P,x,T,D,S,15,u[50]),D=i(D,P,x,T,g,21,u[51]),T=i(T,D,P,x,y,6,u[52]),x=i(x,T,D,P,p,10,u[53]),P=i(P,x,T,D,b,15,u[54]),D=i(D,P,x,T,s,21,u[55]),T=i(T,D,P,x,f,6,u[56]),x=i(x,T,D,P,I,10,u[57]),P=i(P,x,T,D,h,15,u[58]),D=i(D,P,x,T,C,21,u[59]),T=i(T,D,P,x,l,6,u[60]),x=i(x,T,D,P,w,10,u[61]),P=i(P,x,T,D,c,15,u[62]),D=i(D,P,x,T,v,21,u[63]);r[0]=r[0]+T|0,r[1]=r[1]+D|0,r[2]=r[2]+P|0,r[3]=r[3]+x|0},_doFinalize:function(){var t=this._data,o=t.words,a=8*this._nDataBytes,i=8*t.sigBytes;o[i>>>5]|=128<<24-i%32;var n=e.floor(a/4294967296);for(o[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(o.length+1),this._process(),o=(t=this._hash).words,a=0;4>a;a++)i=o[a],o[a]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.MD5=s._createHelper(d),n.HmacMD5=s._createHmacHelper(d)}(Math),function(){var e,t=x,o=(e=t.lib).Base,a=e.WordArray,i=(e=t.algo).EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var o=(s=this.cfg).hasher.create(),i=a.create(),n=i.words,r=s.keySize,s=s.iterations;n.length<r;){d&&o.update(d);var d=o.update(e).finalize(t);o.reset();for(var u=1;u<s;u++)d=o.finalize(d),o.reset();i.concat(d)}return i.sigBytes=4*r,i}});t.EvpKDF=function(e,t,o){return i.create(o).compute(e,t)}}(),x.lib.Cipher||function(e){var t=(g=x).lib,o=t.Base,a=t.WordArray,i=t.BufferedBlockAlgorithm,n=g.enc.Base64,r=g.algo.EvpKDF,s=t.Cipher=i.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,o){this.cfg=this.cfg.extend(o),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,o,a){return("string"==typeof o?h:l).encrypt(e,t,o,a)},decrypt:function(t,o,a){return("string"==typeof o?h:l).decrypt(e,t,o,a)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=g.mode={},u=function(e,t,o){var a=this._iv;a?this._iv=void 0:a=this._prevBlock;for(var i=0;i<o;i++)e[t+i]^=a[i]},c=(t.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var o=this._cipher,a=o.blockSize;u.call(this,e,t,a),o.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),c.Decryptor=c.extend({processBlock:function(e,t){var o=this._cipher,a=o.blockSize,i=e.slice(t,t+a);o.decryptBlock(e,t),u.call(this,e,t,a),this._prevBlock=i}}),d=d.CBC=c,c=(g.pad={}).Pkcs7={pad:function(e,t){for(var o,i=(o=(o=4*t)-e.sigBytes%o)<<24|o<<16|o<<8|o,n=[],r=0;r<o;r+=4)n.push(i);o=a.create(n,o),e.concat(o)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:d,padding:c}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=t.createEncryptor;else o=t.createDecryptor,this._minBufferSize=1;this._mode=o.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var p=t.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),l=(d=(g.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(n)},parse:function(e){var t=(e=n.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var o=a.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:o})}},t.SerializableCipher=o.extend({cfg:o.extend({format:d}),encrypt:function(e,t,o,a){a=this.cfg.extend(a);var i=e.createEncryptor(o,a);return t=i.finalize(t),i=i.cfg,p.create({ciphertext:t,key:o,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,o,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),e.createDecryptor(o,a).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),g=(g.kdf={}).OpenSSL={execute:function(e,t,o,i){return i||(i=a.random(8)),e=r.create({keySize:t+o}).compute(e,i),o=a.create(e.words.slice(t),4*o),e.sigBytes=4*t,p.create({key:e,iv:o,salt:i})}},h=t.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:g}),encrypt:function(e,t,o,a){return o=(a=this.cfg.extend(a)).kdf.execute(o,e.keySize,e.ivSize),a.iv=o.iv,(e=l.encrypt.call(this,e,t,o.key,a)).mixIn(o),e},decrypt:function(e,t,o,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),o=a.kdf.execute(o,e.keySize,e.ivSize,t.salt),a.iv=o.iv,l.decrypt.call(this,e,t,o.key,a)}})}(),function(){for(var e=x,t=e.lib.BlockCipher,o=e.algo,a=[],i=[],n=[],r=[],s=[],d=[],u=[],c=[],p=[],l=[],g=[],h=0;256>h;h++)g[h]=128>h?h<<1:h<<1^283;var m=0,f=0;for(h=0;256>h;h++){var v=(v=f^f<<1^f<<2^f<<3^f<<4)>>>8^255&v^99;a[m]=v,i[v]=m;var b=g[m],w=g[b],y=g[w],C=257*g[v]^16843008*v;n[m]=C<<24|C>>>8,r[m]=C<<16|C>>>16,s[m]=C<<8|C>>>24,d[m]=C,C=16843009*y^65537*w^257*b^16843008*m,u[v]=C<<24|C>>>8,c[v]=C<<16|C>>>16,p[v]=C<<8|C>>>24,l[v]=C,m?(m=b^g[g[g[y^b]]],f^=g[g[f]]):m=f=1}var S=[0,1,2,4,8,16,32,64,128,27,54];o=o.AES=t.extend({_doReset:function(){for(var e=(o=this._key).words,t=o.sigBytes/4,o=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],n=0;n<o;n++)if(n<t)i[n]=e[n];else{var r=i[n-1];n%t?6<t&&4==n%t&&(r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r]):(r=a[(r=r<<8|r>>>24)>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r],r^=S[n/t|0]<<24),i[n]=i[n-t]^r}for(e=this._invKeySchedule=[],t=0;t<o;t++)n=o-t,r=t%4?i[n]:i[n-4],e[t]=4>t||4>=n?r:u[a[r>>>24]]^c[a[r>>>16&255]]^p[a[r>>>8&255]]^l[a[255&r]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,n,r,s,d,a)},decryptBlock:function(e,t){var o=e[t+1];e[t+1]=e[t+3],e[t+3]=o,this._doCryptBlock(e,t,this._invKeySchedule,u,c,p,l,i),o=e[t+1],e[t+1]=e[t+3],e[t+3]=o},_doCryptBlock:function(e,t,o,a,i,n,r,s){for(var d=this._nRounds,u=e[t]^o[0],c=e[t+1]^o[1],p=e[t+2]^o[2],l=e[t+3]^o[3],g=4,h=1;h<d;h++){var m=a[u>>>24]^i[c>>>16&255]^n[p>>>8&255]^r[255&l]^o[g++],f=a[c>>>24]^i[p>>>16&255]^n[l>>>8&255]^r[255&u]^o[g++],v=a[p>>>24]^i[l>>>16&255]^n[u>>>8&255]^r[255&c]^o[g++];l=a[l>>>24]^i[u>>>16&255]^n[c>>>8&255]^r[255&p]^o[g++],u=m,c=f,p=v}m=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^o[g++],f=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[g++],v=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^o[g++],l=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^o[g++],e[t]=m,e[t+1]=f,e[t+2]=v,e[t+3]=l},keySize:8});e.AES=t._createHelper(o)}(),t.exports=x})),window.define("123",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["wrapper-class","login-btn-class","login-content-class"],properties:{loginImg:{type:String,value:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fdxdjx%2Funlogin.png"},loginTip:{type:String,value:"登录后可查看更多"},loginBtnText:{type:String,value:"登录"},loginType:{type:Number,value:1},wrapperStyle:{type:Object,value:{},observer:function(e){this.setData({containerStyle:e})}},isLogin:{type:Boolean,value:null}},data:{containerStyle:{height:"calc(100vh - 44px)"}},messages:{onLogin:function(e){this.triggerEvent("childLoginHandle",e.value)}},created:function(){var e=this;n().globalData.siteData.systemInfoPromise.then((function(t){var o=t.statusBarHeight,a=t.navigationBarHeight;e.setData({containerStyle:Object.assign({height:"calc(100vh - "+o+"px - "+a+"px)"},e.properties.wrapperStyle)})}))}})})),window.define("129",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.confirmReceipt=o.deleteOrder=o.cancelOrder=o.payOrder=void 0;var I=e(4),T=e(51),x=e(92),P={title:"确认删除订单",content:"删除之后订单无法恢复，无法处理售后问题，请慎重考虑",confirmColor:"#FD503E",cancelColor:"#000"},D={title:"提示",content:"确定取消订单吗?",cancelColor:"#000",confirmColor:"#3388ff"},_={title:"确认收货",content:"确认收货后，钱会打给商家",cancelColor:"#000",confirmColor:"#3388ff"},k="确认收货成功",A="确认收货失败",j=(o.payOrder=function(e){var t=e.orderId,o=void 0===t?"":t,a=e.batchId,n=void 0===a?"":a,r=e.payOrderInfo,s=void 0===r?{}:r,d=e.success,u=void 0===d?I.noop:d,c=e.fail,p=void 0===c?I.noop:c,l=e.complete,g=void 0===l?I.noop:l;i.getSystemInfo({complete:function(e){var t=e.system,a=void 0===t?"":t,r=a.indexOf("iOS")>-1,d=a.split(" ")[1]||"",c=r&&(0,I.compareVersion)({version:d,lowVersionPart:[14,2]});i.requestPolymerPayment({orderInfo:(0,I.filterNullProperty)(s),bannedChannels:c?["BDWallet"]:[],success:function(){(0,I.normalToast)({title:"支付成功",icon:"success"}),u&&u({payRes:T.PAY_RESULT.SUCCESS})},fail:function(e){e&&e.errCode===T.CANCEL_PAY||(0,I.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-pay",tpOrderId:s.tpOrderId||"",orderId:o,batchId:n,path:(0,I.getCurrentPage)().route},[T.logTypeMap.error,T.logTypeMap.apiError]),p&&p(e,{payRes:T.PAY_RESULT.FAILURE})},complete:function(){g&&g(),(0,I.bdxdAddLog)(void 0,{compTargetId:"order_pay_complete"})}})}})},!1),O=(o.cancelOrder=function(e){var t=e.orderId,o=void 0===t?"":t,a=e.batchId,n=void 0===a?"":a,r=e.cancelReason,s=void 0===r?"":r,d=e.success,u=void 0===d?I.noop:d,c=e.fail,p=void 0===c?I.noop:c,l=e.complete,g=void 0===l?I.noop:l;i.showModal(Object.assign({},D,{success:function(e){if(!e.cancel&&!j){j=!0;var t={url:T.API.orderCancel,data:{orderId:o,batchId:n,cancelReason:s}};(0,x.request)(t).then((function(e){e&&e.data?u&&u():(0,I.errToast)(e.statusInfo)})).catch((function(e){p&&p(e),(0,I.errToast)(e.statusInfo)})).finally((function(){g&&g(),j=!1}))}}}))},!1),L=(o.deleteOrder=function(e){var t=e.orderId,o=void 0===t?"":t,a=e.batchId,n=void 0===a?"":a,r=e.success,s=void 0===r?I.noop:r,d=e.fail,u=void 0===d?I.noop:d,c=e.complete,p=void 0===c?I.noop:c;i.showModal(Object.assign({},P,{success:function(e){if(!e.cancel&&!O){O=!0;var t={url:T.API.orderDelete,data:{orderId:o,batchId:n}};(0,x.request)(t).then((function(e){!e||e&&!e.data?(0,I.errToast)(e.statusInfo):e&&200===e.status&&(i.showToast({title:"删除成功~",icon:T.ICON_NONE,mask:!0}),s&&s())})).catch((function(e){u&&u(e)})).finally((function(){p&&p(),O=!1}))}},complete:function(){(0,I.bdxdAddLog)(void 0,{compTargetId:"order_del_modal_show"})}}))},!1);o.confirmReceipt=function(e){var t=e.orderId,o=void 0===t?"":t,a=e.payType,n=void 0===a?T.PAYMENT.ONLINE:a,r=e.success,s=void 0===r?I.noop:r,d=e.fail,u=void 0===d?I.noop:d,c=e.complete,p=void 0===c?I.noop:c,l=n===T.PAYMENT.OFFLINE,g=function(){if(!L){L=!0;var e={url:T.API.confirmReceipt,data:{orderId:o}};(0,x.request)(e).then((function(e){e&&e.data?((0,I.normalToast)({title:k,icon:"success"}),s&&s()):(0,I.errToast)(l?A:e.statusInfo)})).catch((function(e){u&&u(e)})).finally((function(){p&&p(),L=!1}))}};l?g():i.showModal(Object.assign({},_,{success:function(e){e.cancel||g()}}))}})),window.define("131",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=["省份","城市","城镇"];Component({options:{addGlobalClass:!0},properties:{isSelected:{type:Boolean,value:!1},addressArray:{type:Array,value:[]},addressOpen:{type:Boolean,value:!1},addressInfo:{type:Array,value:[],observer:function(e){this.hasSelected(e)}},containerStyle:{type:Object,value:{}},cascaderData:{type:Object,value:{},observer:function(e){this.getTabs(e),this.getOptions(e)}}},data:{showCity:!1,showArea:!1,curTab:0,selected:[],value:[],topNum:0,options:[],selectorTabs:[],viewHeight:"calc(100vh * 0.8 - 165rpx)"},logicData:{tabTitle:[]},lifetimes:{attached:function(){this.getTabTitle(I),this.getSelected(I)}},methods:{getChildrenOptions:function(e,t){var o=this.properties.cascaderData;return t&&o["level"+e]&&o["level"+e][t.value]&&o["level"+e][t.value].length?this.properties.cascaderData["level"+e][t.value]:""},hasSelected:function(){this.properties.isSelected&&this.setData({selected:[].concat(this.properties.addressInfo)})},changeTab:function(e){var t=e.target.dataset.index;if(this.setData({curTab:t,topNum:0}),0===t)this.setData({options:JSON.parse(JSON.stringify(this.properties.cascaderData.level0))});else{var o=this.data.selected[""+(t-1)].value;this.setData({options:this.properties.cascaderData["level"+this.data.curTab][o]})}},closeAddress:function(){this.triggerEvent("closeAddress")},getTabTitle:function(){var e=I.map((function(e){return{name:e,value:-1}}));this.logicData.tabTitle=e},getSelected:function(){var e=this,t=I.map((function(t,o){return e.properties.addressInfo[o]?e.properties.addressInfo[o]:" "}));this.setData({selected:t})},onChange:function(e){var t=this.data.options[e.target.dataset.key],o=this.data.curTab,a=this.data.selected;if(this.setData({topNum:0,curTab:this.getChildrenOptions(o+1,t)?o+1:o}),a[o]=t,a=this.resetSelected(a,o),this.setData({selected:a}),o!==this.data.curTab){var i=this.data.selected[""+o],n=i&&i.value;this.setData({options:this.properties.cascaderData["level"+this.data.curTab][n]})}0===o?this.setData({showCity:!0,showArea:!1}):1===o&&this.setData({showArea:!0}),this.getTabs(),!this.getChildrenOptions(o+1,t)&&this.onChangeCallBackHander()},resetSelected:function(e,t){e=e.slice(0);for(var o=t+1;o<e.length;o++)e[o]="";return e},onChangeCallBackHander:function(){this.triggerEvent("onChange",this.data.selected)},getOptions:function(){0!==this.properties.addressInfo.length?this.setData({options:this.properties.addressArray[this.data.curTab],showCity:!0,showArea:!0}):this.setData({options:JSON.parse(JSON.stringify(this.properties.cascaderData.level0))})},getTabs:function(){for(var e=this.data.selected,t=[],o=0;o<this.logicData.tabTitle.slice(0,e.length).length;o++){var a=e[o].value||this.logicData.tabTitle[o].value,i=e[o].name||this.logicData.tabTitle[o].name;t.push({value:a,name:i})}this.setData({selectorTabs:t})}}})})),window.define("133",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({externalClasses:["customClass","custom-label-class"],properties:{label:{type:String,value:""},labelFor:{type:String,value:""},itemStyle:{type:Object,value:{}},isLast:{type:Boolean,default:!1}}})})),window.define("135",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x=e(92);Component({options:{addGlobalClass:!0},properties:{otherId:{type:Object,value:{},observer:function(e){e&&this.getAddressArray(e)}},isSelected:{type:Boolean,value:!1},addressInfo:{type:Array,value:[]},productType:{type:Number,value:0},name:{type:String,value:""},telephone:{type:String,value:""},detailAddress:{type:String,value:""},province:{type:Object,value:{}},city:{type:Object,value:{}},town:{type:Object,value:{}},detailNoborder:{type:Boolean,value:!1}},data:{addressInfo:[],cascaderData:{},addressOpen:!1,addressId:"",name:"",telephone:"",detailAddress:"",addressArray:[[],[],[]],province:{},city:{},town:{},isShow:!1},logicData:{addressId:"",hasAddressInfoChanged:!1},observers:{"name, telephone, detailAddress, addressInfo":function(){this.logicData.hasAddressInfoChanged||(0,I.bdxdAddLog)(this,{compTargetId:"ssv_497",userExtra:{productType:this.data.productType}}),this.logicData.hasAddressInfoChanged=!0}},lifetimes:{attached:function(){var e=(0,I.parsePageQuery)().addressId;!e&&this.getAllAddress(),this.logicData.addressId=e}},methods:{getAddressArray:function(e){var t=this,o=e.cityId,a=e.districtId,i=e.provinceId;this.getAllAddress().then((function(){var e=[],n=o||a,r=t.data.cascaderData,s=r.level0,d=r.level1,u=r.level2;e[0]=s,e[1]=d[i],e[2]=u[n],t.setData({addressArray:e})}))},onNameChange:function(e){var t=(0,I.trimAll)(e.detail.value);this.setData({name:t}),this.triggerEvent("getName",{name:t})},onNameFocus:function(){this.triggerEvent("nameFocus")},onTelephoneChange:function(e){var t=(0,I.trimAll)(e.detail.value);this.setData({telephone:t}),this.triggerEvent("getTelephone",{telephone:t})},onTelephoneFocus:function(){this.triggerEvent("telephoneFocus")},onAddressOpen:function(){this.setData({addressOpen:!0})},onDetailAddressChange:function(e){var t=(0,I.trimAll)(e.detail.value);this.setData({detailAddress:t}),this.triggerEvent("getAddress",{detailAddress:t})},onDetailAddressFocus:function(){this.triggerEvent("detailAddressFocus")},closeAddress:function(){this.setData({addressOpen:!1})},onAddressChangeHandler:function(e){this.setData({addressOpen:!1});var t=function(t){var o=e.detail[t]||{};return{value:o.value,name:o.name,type:o.type}},o=[t(0),t(1),t(2)],a={province:o[0],city:o[1],town:o[2]};this.setData(Object.assign({addressInfo:o},a)),this.triggerEvent("getArea",{area:a})},getAllAddress:function(){var e=this;return new Promise((function(t){(0,x.request)({url:T.API.queryAllRegionListCDN,method:"GET",completeUrl:!0}).then((function(o){e.setData({cascaderData:o.data}),t()})).catch((function(){(0,x.request)({url:T.API.queryAllRegionList}).then((function(o){e.setData({cascaderData:o.data}),t()})).catch((function(e){console.error(e)}))}))}))}}})})),window.define("137",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{url:{type:String,value:""},loop:{type:Boolean,value:!1},autoplay:{type:Boolean,value:!0},hidden:{type:Boolean,value:!0},imgSrc:{type:String,value:""},action:{type:String,value:"play"},width:{type:String,value:"100%"},height:{type:String,value:"auto"}},data:{supportLottie:!1,canPaintImg:!1,path:""},lifetimes:{attached:function(){var e=this;i.getSystemInfo({success:function(t){e.properties.url&&e.compareVersion(t.SDKVersion,"3.250.12")?e.initLottie():e.setData("canPaintImg",!0)},fail:function(t){e.setData("canPaintImg",!0)}})}},methods:{initLottie:function(){var e=this;i.downloadFile({url:this.properties.url,header:{"content-type":"application/json"},success:function(t){var o=t.tempFilePath;e.setData({supportLottie:!0,path:o})},fail:function(t){e.setData("canPaintImg",!0)}})},compareVersion:function(e,t){return this.getNum(e)>=this.getNum(t)},getNum:function(e){return e.split(".").reduce((function(e,t){return 1e3*e+t}),0)}}})})),window.define("139",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){if(e){var t="",o="";e.mSizeWidth&&e.mSizeWidth.value&&(t=2*e.mSizeWidth.value+"rpx"),e.mSizeHeight&&e.mSizeHeight.value&&(o=2*e.mSizeHeight.value+"rpx"),this.setData({width:t,height:o})}}}},methods:{linkTo:function(){var e=this.properties.componentData,t=e.jumpType,o=e.jumpUrl;t&&o&&i[t]({url:o})}}})})),window.define("142",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.postPrizeInfo=o.getPrizeListV2Req=o.getPrizePhoneReq=o.getBigPrizeReq=o.getChanceReq=o.getAssistReq=o.getEncryptReq=o.getAvatarReq=o.getShareListReq=o.getPrizeReq=void 0;var I=e(92),T=e(59),x={isMain:!0};o.getPrizeReq=function(e){return new Promise((function(t,o){var a=T.API.getPrizeList;(0,I.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},o.getShareListReq=function(){return new Promise((function(e,t){var o=T.API.getShareList;(0,I.request)({url:o}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},o.getAvatarReq=function(e){return new Promise((function(t,o){var a=T.API.getAvatar;(0,I.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},o.getEncryptReq=function(){return new Promise((function(e,t){var o=T.API.getEncrypt;(0,I.request)({url:o}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},o.getAssistReq=function(e){return new Promise((function(t,o){(0,I.request)({url:T.API.getAssist,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},o.getChanceReq=function(){return new Promise((function(e,t){var o=T.API.getChance;(0,I.request)({url:o,downGradeOpts:x}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},o.getBigPrizeReq=function(e){return new Promise((function(e,t){var o=T.API.getBigPrize;(0,I.request)({url:o}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},o.getPrizePhoneReq=function(e){return new Promise((function(t,o){var a=T.API.getPrizePhoneList;(0,I.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},o.getPrizeListV2Req=function(e){return new Promise((function(t,o){var a=T.API.getPrizeListV2;(0,I.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},o.postPrizeInfo=function(e){return new Promise((function(t,o){var a=T.API.postPrizeAddr;(0,I.request)({url:a,data:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))}})),window.define("143",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BIG_PRIZE_IMAGES=o.SUCCESS_TOAST=o.SHARE_TIP_INFO=o.BACKPAGE=o.RULEPAGE=o.PRIZEPAGE=o.HOMEPAGE=o.MAINPAGE=o.ACTIVITY_ID=o.BOX_HELP_SHARE_INFO=o.PANNEL_BASIC_CONFIG=o.BOX_DEFAULT_SHARE_INFO=o.SHARE_MID_PAGE_URL=o.SHARE_OPEN_PAGE_URL=o.BINDBOXPAGE=void 0;var I,T=e(82),x=(I=T)&&I.__esModule?I:{default:I};var P={content:"打开百度app0元抽茅台，还有海量5折、9.9元商品等你来拿！开出心动，开出惊喜！",imageUrl:"https://mpics.bdstatic.com/qm/202205/pic_MtNrYZ_1653649026.png"},D=o.BINDBOXPAGE="/wjz/dxdjx/blind-box/blind-box",_=o.SHARE_OPEN_PAGE_URL="baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf"+("offline"===x.default.currentEnv?"_trial":"")+D,k=o.SHARE_MID_PAGE_URL="offline"===x.default.currentEnv?"https://activity.baidu.com/mbox/preview/4a83ae9962/matrixInvokePage":"https://activity.baidu.com/mbox/4a83ae9962/matrixInvokePage",A=(o.BOX_DEFAULT_SHARE_INFO=Object.assign({title:"心动开盲盒，惊喜就在百度618！"},P,{shareUrl:k+"?appName=baiduboxapp&scheme="+encodeURIComponent(_)}),o.PANNEL_BASIC_CONFIG=["weixin_friend","weixin_timeline","qqfriend","qqdenglu","baiduhi","sinaweibo"]);o.BOX_HELP_SHARE_INFO=Object.assign({title:"我在百度618开盲盒，快来帮我助力吧！"},P,{pannel:[].concat(A,["copylink","others"])}),o.ACTIVITY_ID=944,o.MAINPAGE="baiduboxapp://v1/easybrowse/open?url=https%3A%2F%2Fm.baidu.com%2Fsf%2Ftalos%2Fhome%3Fpd%3Dduhuasuan%26openapi%3D1%26from_sf%3D1%26dspName%3Diphone%26resource_id%3D4530%26group%3Dducheap%26method%3Dentry%26query%3Dfeed%26atn%3Dindex%26ext%3D%257B%2522sa%2522%253A%2522ozxj_6_168-170_entry_liteh5%2522%257D%26sa%3Dozxj_6_168-170_entry_liteh5%26word%3Dfeed&style=%7B%22toolbaricons%22%3A%7B%22toolids%22%3A%5B3%5D%7D%7D&newbrowser=1",o.HOMEPAGE="baiduboxapp://v1/easybrowse/open?url=https%3A%2F%2Fm.baidu.com%2Fsf%2Ftalos%2Fhome%3Fpd%3Dduhuasuan%26openapi%3D1%26from_sf%3D1%26dspName%3Diphone%26resource_id%3D4530%26group%3Dducheap%26method%3Dentry%26query%3Dfeed%26atn%3Dindex%26ext%3D%257B%2522sa%2522%253A%2522ozxj_6_169-113_entry_liteh5%2522%257D%26sa%3Dozxj_6_169-113_entry_liteh5%26word%3Dfeed&style=%7B%22toolbaricons%22%3A%7B%22toolids%22%3A%5B3%5D%7D%7D&newbrowser=1",o.PRIZEPAGE="/wjz/dxdjx/activity/blind-award/blind-award",o.RULEPAGE="baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf/wjz/dxdjx/dynamic-marketing-page/dynamic-marketing-page?pageId=108813431&url=https%3A%2F%2Faisite.wejianzhan.com%2Fsite%2Fwjz5darx%2Ffcca6dda-1b27-470f-b531-5884aa9e4def",o.BACKPAGE="https://ufosdk.baidu.com/ufosdk/imConfig/mBiKM11e%2B3lNxYFVIAoD%2BA%3D%3D/247341",o.SHARE_TIP_INFO={1:{title:"我在参加百度618心动开盲盒\n拜托帮我助力一下吧",content:""},200:{title:"帮好友助力成功~",content:"每分享一个好友可额外获得一次抽奖\n盲盒好礼多多快来参与吧~"},9002:{title:"本次助力已过期",content:"618心动盲盒奖品多多，快去玩吧~"},9003:{title:"不可以给自己助力哦~",content:""},9004:{title:"当日助力好友数量已达上限",content:""},9005:{title:"你已经帮过他了",content:""}},o.SUCCESS_TOAST="领取成功！",o.BIG_PRIZE_IMAGES=[{productId:"1111",productName:"飞天 53%vol 500ml 贵州茅台酒",posterNormal:"https://mpics.bdstatic.com/qm/202205/pic_2GvAxz_1653653275.png"},{productId:"2222",productName:"小度真无线智能耳机",posterNormal:"https://mpics.bdstatic.com/qm/202205/pic_3Bukr6_1653653297.png"},{productId:"3333",productName:"200元京东卡",posterNormal:"https://mpics.bdstatic.com/qm/202205/pic_3KvxWS_1653653317.png"}]})),window.define("151",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.PEIZE_TYPE_INFO={1:{btn:"去领取",tips:"点击去领取后填写中奖问卷即可"},2:{btn:"去充值",tips:"支付时以提交订单页实际支付价格为准"},3:{btn:"去抢购",tips:"支付时以提交订单页实际支付价格为准"}},o.PRIZE_POPUP_TEXT={1:{title:"开奖失败，请重新再试",tips:"",btn:"再开一次",btnType:"open"},3:{title:"分享好友获得开盲盒机会",tips:"邀请好友助力，获得额外开盲盒机会！",btn:"分享好友",btnType:"share"}},o.MY_COUPON_PAGE="/wjz/dxdjx/activity/blind-award/blind-award",o.GET_PRIZE_PAGE="/wjz/dxdjx/activity/blind-award-address/blind-award-address"})),window.define("153",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},externalClasses:[],properties:{couponInfo:{type:Object,value:{}}},data:{price:"",priceFix:""},methods:{handlePrice:function(){var e=(this.properties.couponInfo||{}).salePrice,t=void 0===e?"":e,o=(0,T.formatPrice)(t),a=I(o,2),i=a[0],n=a[1];this.setData({price:i,priceFix:n})}}})})),window.define("155",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=e(151),P=e(92),D=e(59),_=e(81),k=e(126),A=(T=k)&&T.__esModule?T:{default:T},j=e(142),O=e(4),L=e(156),E=e(93),N=e(143);Component({options:{addGlobalClass:!0},properties:{prizePopupVisiable:{type:Boolean,value:!1,observer:function(e){e&&this.getPrizeInfo()}},windowWidth:{type:Number,value:375,observer:function(e){e&&this.setData({videoWidth:e})}}},data:{videoWidth:375,PEIZE_TYPE_INFO:x.PEIZE_TYPE_INFO,PRIZE_POPUP_TEXT:x.PRIZE_POPUP_TEXT,prizeLevel:"",prizeName:"",productInfo:{},couponInfo:{},prizeStatus:"",showVideo:!1,showCard:!1,productId:"",closeButton:!1,autoPlay:!1,OPENBOXURI:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/video/afx-open.mp4"},logicData:{videostartFlag:!1,openFlag:!1,openMoreFlag:!1,isShareDownGrade:!1,requestFinally:!1,time:0,boxTimer:null},methods:{getPrizeInfo:function(){var e=this;this.logicData.openFlag||(this.logicData.boxTimer&&(clearTimeout(this.logicData.boxTimer),this.logicData.boxTimer=null),Object.assign(this.logicData,{openFlag:!0,time:Date.parse(new Date),videostartFlag:!1,requestFinally:!1}),this.setData({showVideo:!0,autoPlay:!0,showCard:!1,closeButton:!1,prizeLevel:"",prizeName:"",productInfo:{},couponInfo:{},prizeStatus:""},(function(){e.boxAnimation=n.createAnimationVideo("animationVideo"),e.boxAnimation&&e.boxAnimation.play()})),t((function(){e.logicData.videostartFlag||e.setData({showVideo:!1,showCard:!0})}),2e3),this.logicData.boxTimer=t((function(){e.data.showVideo&&e.setData({showVideo:!1})}),4e3),t((function(){e.logicData.requestFinally&&e.setData({closeButton:!0})}),3500),A.default.hgzAs(D.antifraudConfig.blindBox).then((function(t){e.openBoxPrize({antiCheatVo:t})})).catch((function(){e.openBoxPrize()})))},openBoxPrize:function(e){var t=this,o=e.antiCheatVo,a={};o&&(a.antiCheatVo=o),(0,P.request)({url:D.API.openBoxPrize,data:a}).then((function(e){var o=e.data,a=o.prizeLevel,i=o.prizeName,n=o.productId,r=void 0===n?"":n,s=o.productInfo,d=void 0===s?{}:s,u=o.couponInfo,c=void 0===u?{}:u;if(t.setData({prizeLevel:a,prizeName:i,productInfo:d,couponInfo:c,productId:r,prizeStatus:0}),1===a){var p=N.BIG_PRIZE_IMAGES.find((function(e){return e.productId===r}))||{};t.setData({productInfo:Object.assign({},d,p)})}})).catch((function(){t.setData({prizeStatus:1})})).finally((function(){Object.assign(t.logicData,{openFlag:!1,requestFinally:!0}),Date.parse(new Date)-t.logicData.time>3500&&t.setData({closeButton:!0})}))},openBox:function(e){if("share"===(e&&e.target&&e.target.dataset||{}).type)return(0,L.blindBoxShare)({isShareDownGrade:this.logicData.isShareDownGrade}),void(0,O.bdxdAddLog)(this,{compTargetId:"share_btn_click"});(0,O.bdxdAddLog)(this,{compTargetId:"prize_more_click"}),this.getChance()},getChance:function(){var e=this;this.logicData.openMoreFlag||(this.logicData.openMoreFlag=!0,(0,j.getChanceReq)().then((function(t){var o=t._downgradeHeader,a=(void 0===o?{}:o).Comp,i=void 0===a?"[]":a,n=JSON.parse(i);if(n.length>0&&(e.logicData.isShareDownGrade=!(0,E.getUseFuncs)(E.downgradeFeature.blindBox,n).chance),t&&t.data){var r=t.data||{},s=r.blindBoxChance,d=void 0===s?0:s;r.blindBoxUseTotalNum;d>0?e.getPrizeInfo():e.setData({prizeStatus:3})}})).catch((function(){(0,O.normalToast)({title:"系统错误，请重试"})})).finally((function(){e.logicData.openMoreFlag=!1})))},videoEnd:function(){this.setData({showVideo:!1})},videostarted:function(){var e=this;this.logicData.videostartFlag=!0,t((function(){e.setData({showCard:!0})}),2300)},closePopup:function(){this.triggerEvent("closePrize"),this.logicData.boxTimer&&(clearTimeout(this.logicData.boxTimer),this.logicData.boxTimer=null)},jumpDetail:function(){var e=this.data,t=e.prizeLevel,o=e.productId,a=e.productInfo,i=void 0===a?{}:a,n=e.couponInfo,s=void 0===n?{}:n,d="",u="",c="";1===t?(r().globalData.curPrizeData=i,d=x.GET_PRIZE_PAGE+"?productId="+o):2===t?(d=s.jumpForward,u=s.batchId,2===t&&s.batchId&&(d=s.jumpForward+"&batchId="+s.batchId)):(d=i.webappUrl,c=i.spuId,u=i.batchId),(0,O.bdxdAddLog)(this,{compTargetId:"prize_detail_jump",userExtra:{prizeLevel:t,url:d,comp_material_id:d===s.jumpForward?u:c,spuId:c,batchId:u}}),(0,_.generalJump)({url:d,params:D.CHANNEL_INFO.blindBox}),this.closePopup()},jumpMyCoupon:function(){(0,_.generalJump)({url:x.MY_COUPON_PAGE}),this.closePopup()}}})})),window.define("156",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.boxDefaultPageShare=o.boxDefaultCommandShare=o.getB64EnDecode=o.blindBoxShare=void 0;var I=e(98),T=e(4),x=e(142),P=e(99),D=e(51),_=e(143);o.blindBoxShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isShareDownGrade,o=void 0!==t&&t,a=Object.assign({},_.BOX_HELP_SHARE_INFO),n=null;(0,x.getEncryptReq)().then((function(e){var t=(e&&e.data||{}).content,r=void 0===t?"":t;if(r){var s={isHelpShare:1,content:r},d=_.SHARE_OPEN_PAGE_URL+"?"+(0,T.objToQueryString)(s);if(o)return n={activityId:_.ACTIVITY_ID,klUrl:d.replace("baiduboxapp://swan/","")},void(0,I.generalShare)({klParams:n,shareParams:a});var u=_.SHARE_MID_PAGE_URL+"?appName=baiduboxapp&scheme="+encodeURIComponent(d);return a.shareUrl=u,void(0,I.generalShare)({klParams:n,shareParams:a})}i.openShare(Object.assign({},_.BOX_DEFAULT_SHARE_INFO))})).catch((function(){i.openShare(Object.assign({},_.BOX_DEFAULT_SHARE_INFO))}))},o.getB64EnDecode=function(){return new Promise((function(e,t){var o=JSON.stringify({activity_id:_.ACTIVITY_ID,url:_.SHARE_OPEN_PAGE_URL.replace("baiduboxapp://swan/","")});(0,P.b64EnDecode)({operateContent:o}).then((function(t){e(t.data&&t.data.algorithmResult||"")})).catch((function(e){(0,T.addErrorLog)(e,{compTargetId:"b64-enDecode-req-err"},[D.logTypeMap.apiError]),t(e)}))}))},o.boxDefaultCommandShare=function(e){var t=_.BOX_DEFAULT_SHARE_INFO.title,o=_.BOX_DEFAULT_SHARE_INFO.content;return{content:o,title:t,command:{cmd_pannel:_.PANNEL_BASIC_CONFIG,info:{title:t,content:o,type:0,key:e}}}},o.boxDefaultPageShare=function(){return Object.assign({},_.BOX_DEFAULT_SHARE_INFO,{path:_.BINDBOXPAGE})}})),window.define("165",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4),x=e(61),P=e(62);Component({options:{addGlobalClass:!0},properties:{index:{type:Number},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}}},data:{price:"",priceFix:"",rankNum:{3:2,1:1,2:3}},lifetimes:{ready:function(){this.intersectionObserver=(0,x.observerElementShowLog)({context:this,selector:".product-card-observer",logParams:{compTargetId:"ssv_250",userExtra:{spuId:this.properties.value.spuId,comp_material_id:this.properties.value.spuId}},logSort:P.logSortMap.PRODUCT})},detach:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{handleValue:function(e){var t=e.groupPrice,o=void 0===t?"":t,a=(0,T.formatPrice)(o),i=I(a,2),n=i[0],r=i[1];this.setData({price:n,priceFix:r})},jumpToDetail:function(){this.dispatch("clickend",Object.assign({},this.properties.value,{index:this.properties.index||0,type:1}))}}})})),window.define("167",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{componentData:{type:Object,value:{},observer:function(e){this.handleValue(e)}},isHasTab:{type:Boolean,value:!1}},data:{cardList:[],switchDuration:500,autoPlayInterval:5e3,switchAutoPlayStatus:!0,currentCardBtm:0},methods:{handleValue:function(e){var t={0:0,1:2,2:1};this.setData({cardList:e.map((function(o,a){return o.pos=t[a],o.bigBg=!a||!1,e[t[a]]}))})},swiperChange:function(e){var t=this.data.cardList;this.setData({cardList:t.map((function(t,o){return t.bigBg=o===e.detail.current||!1,t}))})}}})})),window.define("169",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(170);Component({options:{addGlobalClass:!0},properties:{feedMinHeight:{type:Object,value:{},observer:function(e){e&&this.setData({feedMinHeight:e})}},tabList:{type:Array,value:[]},currentTab:{type:String,value:""},isTabSlider:{type:Boolean,value:!1}},data:{feedMinHeight:{}},messages:{imgLoaded:function(e){var t=this,o=e&&e.value&&e.value.target&&e.value.target.dataset||{};this.dispatch("imgLoaded",o),(0,I.throttle)((function(){t.getFeedListHeigt()}),300).bind(this)()}},methods:{swiperChange:function(e){var t=e.detail,o=t.current,a=t.currentItemId;this.triggerEvent("swiperChange",{current:o,currentTab:+a.split("_")[1]})},getFeedListHeigt:function(){var e=this,t=this.properties.tabList;t&&t.length>0&&(0,T.getFeedNodeRect)(".swiper-wrap-"+this.properties.currentTab,this).then((function(t){t&&t.height&&e.setData("feedMinHeight",Object.assign({},e.data.feedMinHeight,{height:t.height+"px"}))}))}}})})),window.define("172",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:2},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},cardConfig:{type:Object,value:{showUnderlinePrice:!0,btnConfig:{btnBgImg:"",btnPriceColor:"",btnTextColor:"",btnText:"立即购买"}},observer:function(e){e&&this.handleCardConfig(e)}}},data:{btnStyle:{},labels:[],feedCardTag:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/feedProductCardTag.png"},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.btnConfig,o=void 0===t?{}:t,a=o.btnBgImg,i=void 0===a?"":a,n=o.btnBgColor,r=void 0===n?"":n,s=o.btnTextColor,d=void 0===s?"":s,u=i?{"background-image":"url("+i+")","background-size":"100% auto","border-radius":"0"}:{"background-color":r,color:d};this.setData({btnStyle:u})},handleValue:function(e){var t=e.price,o=void 0===t?"":t,a=e.originPrice,i=void 0===a?"":a,n=e.onHandPrice,r=void 0===n?"":n,s=e.sellPoints,d=void 0===s?[]:s,u=r||o,c=r?o:i,p=(0,T.formatPrice)(u),l=I(p,2),g=l[0],h=l[1],m=(0,T.formatPrice)(c),f=I(m,2),v={currentPriceInteger:g,currentPriceFloat:h,underlinePriceInteger:f[0],underlinePriceFloat:f[1],labels:d?d.slice(0,2):[]};this.setData(v)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}},lifetimes:{attached:function(){this.handleCardConfig(this.properties.cardConfig)}}})})),window.define("174",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81),T=e(4);Component({options:{addGlobalClass:!0},properties:{advertInfo:{type:Object,value:{}},index:{type:Number,value:0},col:{type:Number,value:0},column:{type:Number}},methods:{onAdvertClick:function(e){var t=this.properties,o=t.index,a={subSceneValue:t.ssv},i={userExtra:{event_index:t.column*o+t.col}},n=e.currentTarget.dataset.cmd;if(n&&-1!==n.indexOf("?"))return n=n+"&"+(0,T.objToQueryString)(a),void(0,I.generalJump)({url:n,log:i});n&&(0,I.generalJump)({url:n+"?"+(0,T.objToQueryString)(a),log:i})}}})})),window.define("176",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}},isFirst:{type:Boolean,value:!0},productList:{type:Array,value:[]}}})})),window.define("178",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var x={NOTICE:1,LIVE:2,REPLAY:3},P=(T(I={},x.NOTICE,{text:"预告",icon:"icon-zhibo-preheart preheart-icon-size"}),T(I,x.LIVE,{text:"人",icon:""}),T(I,x.REPLAY,{text:"回放",icon:"iconhuifang"}),I);Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],properties:{liveInfo:{type:Object,value:{},observer:function(e){var t=e.status;if((void 0===t?x.LIVE:t)===x.LIVE){if(~String(e.watchNum).indexOf("万"))return void this.setData({watchNum:e.watchNum});var o=Number(e.watchNum),a=parseInt(o/1e4,10),i=parseInt(o%1e4/1e3,10);a?this.setData({watchNum:i?a+"."+i+"万":a+"万"}):this.setData({watchNum:""+o})}}},index:{type:Number},col:{type:Number},column:{type:Number},cardConfig:{type:Object,value:{}}},data:{watchNum:null,liveStatusStyleMap:P,liveStatusMap:x,liveCardThemeMap:{TALENT:"one",OFFICIAL:"two"}},methods:{onLiveCardClick:function(){var e=this.properties,t=e.liveInfo,o=e.index,a=e.col,i=e.column;this.dispatch("onLiveCardClick",{liveInfo:t,index:i*o+a,col:a})}}})})),window.define("183",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};Component({properties:{value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},suffix:{type:String,value:"double"},postCouponPrice:{type:Number,value:0},descLineNum:{type:Number,value:2},priceCustomStyle:{type:Object,value:{}},salesPrefix:{type:String,value:"已售"},salesThreshold:{type:Number,value:0},spikeProcessThreshold:{type:Number,value:0},recommendTagImg:{type:String,value:""},index:{type:Number},col:{type:Number}},data:{labels:[],recommendList:[],atHandPriceTag:"到手价",discount:"",currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:"",currentPriceBreakW:!1,underlinePriceBreakW:!1,showSpikeProgress:!1,spikeProgressSale:"0rpx",recommendTagStyle:{}},methods:{formatPrice:function(e){var t=+e>=1e4;t&&(e=(parseInt(e,10)/1e4).toFixed(2)+"");var o=((/-/.test(e)?""+e.split("-")[0]:e)||"").split("."),a=I(o,2),i=a[0],n=void 0===i?"":i,r=a[1],s=void 0===r?"":r;return t&&(s=s.replace(/0+$/g,"")),[n,s]},handleValue:function(e){var t=e.onHandPrice,o=void 0===t?"":t,a=e.reportedPrice,i=void 0===a?"":a,n=e.salePrice,r=void 0===n?"":n,s=e.price,d=void 0===s?"":s,u=e.spikePrice,c=void 0===u?"":u,p=e.sales,l=void 0===p?"":p,g=e.progress,h=void 0===g?0:g,m=this.properties,f=m.salesThreshold,v=void 0===f?0:f,b=m.spikeProcessThreshold,w=void 0===b?0:b,y=m.recommendTagImg,C=void 0===y?"":y,S=o||i||c||r||"",T=d,x=+S>=1e4,P=+T>=1e4,D=this.formatPrice(S),_=I(D,2),k=_[0],A=_[1],j=this.formatPrice(T),O=I(j,2),L=O[0],E=O[1],N="0rpx",R=!1;w&&(R=+h>=w,N=97*+h/100*1.81+"rpx");var M={spikeProgressSale:N,showSpikeProgress:R,currentPriceBreakW:x,underlinePriceBreakW:P,isShowSales:!v||+l>=v,labels:(e.sellingPoints||[]).map((function(e){return{value:e.name}})).slice(0,2),currentPriceInteger:k,currentPriceFloat:A,underlinePriceInteger:L,underlinePriceFloat:E,discount:e.discount||"",recommend:(e.recommend||"").substr(0,4)};C&&(M.recommendTagStyle={"background-image":this.fixImageUrl(C)}),this.setData(M)},fixImageUrl:function(e){return~e.indexOf("linear-gradient")?e:"url("+e+")"},jumpToDetail:function(){this.dispatch("clickend",{spuId:this.properties.value.spuId,pageOnlineUrl:this.properties.value.pageOnlineUrl,webappUrl:this.properties.value.webappUrl,goodsPictureUrl:this.properties.value.goodsPictureUrl||"",index:this.properties.index||0,col:this.properties.col||0,productType:this.properties.value&&this.properties.value.productType||2})}}})})),window.define("185",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51);Component({options:{addGlobalClass:!0},properties:{size:{type:Number,value:14},number:{type:Number,observer:function(){this.init()}}},data:{numList:[],numFontSize:"",styleMargin:{},widthRait:{0:11/16,1:.625,2:11/16,3:11/16,4:.75,5:11/16,6:11/16,7:11/16,8:11/16,9:11/16}},methods:{init:function(){var e=this.properties,t=e.number,o=e.size,a=String(t).split("");this.setData({numList:a,numFontSize:+o*I.rpx+"rpx"})}}})})),window.define("187",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:1},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},btnText:{type:String,value:"立即购买"},cardConfig:{type:Object,value:{showUnderlinePrice:!0,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},observer:function(e){e&&this.handleCardConfig(e)}}},data:{btnStyle:{},showTag:!1,showRecommend:!1,hotImgSrc:"https://mall-static.cdn.bcebos.com/doujin/C/image/rankHot.png",rankRecommendImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/rankRecommend.png",labels:[]},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.btnConfig,o=void 0===t?{}:t,a=o.btnBgImg,i=void 0===a?"":a,n=o.btnBgColor,r=void 0===n?"":n,s=o.btnTextColor,d=void 0===s?"":s,u=i?{"background-image":"url("+i+")","background-size":"100% auto","border-radius":"0"}:{"background-color":r,color:d};this.setData({btnStyle:u})},handleValue:function(e){var t=e.price,o=void 0===t?"":t,a=e.originPrice,i=void 0===a?"":a,n=e.onHandPrice,r=void 0===n?"":n,s=e.sellPoints,d=void 0===s?[]:s,u=e.groupPrice,c=void 0===u?"":u,p=r||o,l=r?o:i,g=(0,T.formatPrice)(p),h=I(g,2),m=h[0],f=h[1],v=(0,T.formatPrice)(l),b=I(v,2),w=b[0],y=b[1],C=(0,T.formatPrice)(c),S=I(C,2),x=S[0],P=S[1],D={currentPriceInteger:m,currentPriceFloat:f,underlinePriceInteger:w,underlinePriceFloat:y,labels:d.slice(0,2).map((function(e){var t=e.name,o=void 0===t?"":t;return Object.assign({},e,{name:o.trim()})})).filter((function(e){return e.name})),groupPriceInteger:x,groupPriceFloat:P};this.setData(D)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))},productPicClick:function(){this.dispatch("onProductImgclick")}},lifetimes:{attached:function(){this.handleCardConfig(this.properties.cardConfig)}}})})),window.define("189",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:3},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},cardConfig:{type:Object,value:{showSales:!0,showRestStock:!0,showUnderlinePrice:!0,showTag:!0,showSubsidy:!0}}},data:{currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:"",labels:[]},methods:{handleValue:function(e){var t=e.discountsPrice,o=void 0===t?"":t,a=e.price,i=void 0===a?"":a,n=e.sellPoints,r=void 0===n?[]:n,s=o,d=i,u=(0,T.formatPrice)(s),c=I(u,2),p=c[0],l=c[1],g=(0,T.formatPrice)(d),h=I(g,2),m={currentPriceInteger:p,currentPriceFloat:l,underlinePriceInteger:h[0],underlinePriceFloat:h[1],labels:r.slice(0,2)};this.setData(m)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}}})})),window.define("191",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(148);Component({properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:2},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},cardConfig:{type:Object,value:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showTag:!0,specialTagColor:"",specialTagText:""},observer:function(e){e&&this.handleCardConfig(e)}},ssv:{type:String,value:""}},data:{specialTagStyle:{},recommendTagStyle:{},currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:"",labels:[],recommend:""},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.specialTagConfig,o=void 0===t?{}:t,a=e.recommendTagConfig,i=void 0===a?{}:a,n={"background-color":o.specialTagColor||"",color:o.specialTagFontColor||"#fff"},r={"background-image":"url("+(i.recommendTagBgImg||"")+")",color:i.recommendTagColor||""};this.setData({specialTagStyle:n,recommendTagStyle:r})},handleValue:function(e){var t=e.onHandPrice,o=void 0===t?"":t,a=e.discountsPrice,i=void 0===a?"":a,n=e.price,r=void 0===n?"":n,s=e.sellPoints,d=void 0===s?[]:s,u=e.recommend,c=void 0===u?"":u,p=o||i,l=r,g=(0,I.transformPriceToW)(p),h=g.int,m=g.decimals,f=g.priceBreakW,v=(0,I.transformPriceToW)(l),b={currentPriceInteger:h,currentPriceFloat:m,currentPriceBreakW:f,underlinePriceInteger:v.int,underlinePriceFloat:v.decimals,underlinePriceBreakW:v.priceBreakW,labels:d.slice(0,2),recommend:c.substr(0,4)};this.setData(b)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}},lifetimes:{attached:function(){this.handleCardConfig()}}})})),window.define("193",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({externalClasses:["wrapperStyleClass"],properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:1},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},btnText:{type:String,value:"立即购买"},cardConfig:{type:Object,value:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},observer:function(e){e&&this.handleCardConfig(e)}}},data:{btnStyle:{},showTag:!1,showRecommend:!1},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.btnConfig,o=void 0===t?{}:t,a=o.btnBgImg,i=void 0===a?"":a,n=o.btnBgColor,r=void 0===n?"":n,s=o.btnTextColor,d=void 0===s?"":s,u={color:d};i?(u["background-image"]="url("+i+")",u["border-radius"]="0"):u["background-color"]=r,this.setData({btnStyle:u})},handleValue:function(e){var t=e.discountsPrice,o=void 0===t?"":t,a=e.price,i=void 0===a?"":a,n=e.sellPoints,r=void 0===n?[]:n,s=o,d=i,u=(0,T.formatPrice)(s),c=I(u,2),p=c[0],l=c[1],g=(0,T.formatPrice)(d),h=I(g,2),m={currentPriceInteger:p,currentPriceFloat:l,underlinePriceInteger:h[0],underlinePriceFloat:h[1],labels:r.slice(0,3)};this.setData(m)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}},lifetimes:{attached:function(){this.handleCardConfig(this.properties.cardConfig)}}})})),window.define("195",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:3},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},cardConfig:{type:Object,value:{showSales:!0,showUnderlinePrice:!0,showTag:!0}}},data:{currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:"",labels:[]},methods:{handleValue:function(e){var t=e.originPrice,o=void 0===t?"":t,a=e.price,i=void 0===a?"":a,n=e.sellPoints,r=void 0===n?[]:n,s=e.onHandPrice,d=(void 0===s?"":s)||i,u=o,c=(0,T.formatPrice)(d),p=I(c,2),l=p[0],g=p[1],h=(0,T.formatPrice)(u),m=I(h,2),f={currentPriceInteger:l,currentPriceFloat:g,underlinePriceInteger:m[0],underlinePriceFloat:m[1],labels:r.slice(0,2)};this.setData(f)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}}})})),window.define("197",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(148),T=e(86);Component({properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:2},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},cardConfig:{type:Object,value:{showSales:!0,showUnderlinePrice:!0,showTag:!0,specialTagColor:"",specialTagText:""},observer:function(e){e&&this.handleCardConfig(e)}}},data:{specialTagStyle:{},currentPriceInteger:"",currentPriceFloat:"",currentPriceBreakW:!1,underlinePriceInteger:"",underlinePriceFloat:"",underlinePriceBreakW:!1,labels:[],pricePostionMap:T.pricePostionMap},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.specialTagConfig,o=void 0===t?"":t,a={"background-color":o.specialTagColor||"",color:o.specialTagFontColor||"#fff"};this.setData({specialTagStyle:a})},handleValue:function(e){var t=e.originPrice,o=void 0===t?"":t,a=e.price,i=void 0===a?"":a,n=e.onHandPrice,r=void 0===n?"":n,s=e.sellPoints,d=void 0===s?[]:s,u=r||i,c=o,p=(0,I.transformPriceToW)(u),l=p.int,g=p.decimals,h=p.priceBreakW,m=(0,I.transformPriceToW)(c),f={currentPriceInteger:l,currentPriceFloat:g,currentPriceBreakW:h,underlinePriceInteger:m.int,underlinePriceFloat:m.decimals,underlinePriceBreakW:m.priceBreakW,labels:d.slice(0,2)};this.setData(f)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}},lifetimes:{attached:function(){this.handleCardConfig()}}})})),window.define("199",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({properties:{index:{type:Number},col:{type:Number},column:{type:Number,value:1},value:{type:Object,value:{},observer:function(e){e&&this.handleValue(e)}},btnText:{type:String,value:"立即购买"},cardConfig:{type:Object,value:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},observer:function(e){e&&this.handleCardConfig(e)}}},data:{currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:"",labels:[]},methods:{handleCardConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.btnConfig,o=void 0===t?{}:t,a=o.btnBgImg,i=void 0===a?"":a,n=o.btnBgColor,r=void 0===n?"":n,s=o.btnTextColor,d=void 0===s?"":s,u={color:d};i?(u["background-image"]="url("+i+")",u["border-radius"]="0"):u["background-color"]=r,this.setData({btnStyle:u})},handleValue:function(e){var t=e.originPrice,o=void 0===t?"":t,a=e.price,i=void 0===a?"":a,n=e.onHandPrice,r=void 0===n?"":n,s=e.sellPoints,d=void 0===s?[]:s,u=r||i,c=o,p=(0,T.formatPrice)(u),l=I(p,2),g=l[0],h=l[1],m=(0,T.formatPrice)(c),f=I(m,2),v={currentPriceInteger:g,currentPriceFloat:h,underlinePriceInteger:f[0],underlinePriceFloat:f[1],labels:d.slice(0,3)};this.setData(v)},jumpToDetail:function(){var e=this.properties,t=e.column,o=e.index,a=e.col,i=e.value;this.dispatch("clickend",Object.assign({},i,{index:t*o+a}))}},lifetimes:{attached:function(){this.handleCardConfig(this.properties.cardConfig)}}})})),window.define("205",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(86),T=e(51),x={1:8,2:8,3:6};Component({externalClasses:["list-wrapper-class"],options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{theme:0},observer:function(e){e&&this.setListStyle(e)}},isFirst:{type:Boolean,value:!0},productList:{type:Array,value:[]}},data:{cardTypeConfigMap:I.cardTypeConfigMap,cardTypeMap:I.cardTypeMap,productTypeMap:I.productTypeMap,cardBorderStyle:{},cardSpace:-1},methods:{setListStyle:function(e){var t=e.cardBorderRadius,o=void 0===t?-1:t,a=e.backgroundConfig,i=e.column,n=void 0===i?2:i,r=!1,s=x[n];if(a){var d=a.contentPadding,u=void 0===d?0:d,c=a.cardSpace,p=void 0===c?x[n]:c;r=!(u||p),s=p}this.setData({cardBorderStyle:o>=0&&{"border-radius":o*T.rpx+"rpx"},needCardBorderLine:r,cardSpace:s})}}})})),window.define("207",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x,P,D,_,k,A,j,O,L,E,N,R,M,B,F,U,G=e(4),H=e(81),q=e(58),z=e(56),V=e(59),Y=e(170),W=te(e(3)),J=e(51),X=e(93),K=e(92),Q=e(208),$=e(86),Z=te(e(209)),ee=e(211);function te(e){return e&&e.__esModule?e:{default:e}}function oe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ae=1,ie=2,ne=0,re="live",se={sellPoints:"sellingPoints",productName:"name",originPrice:"price",posterNormal:"goodsPictureUrl"},de=1,ue=2,ce={1:"single",2:"double",3:"triple"},pe={30:(T={},oe(T,de,"特惠秒杀"),oe(T,ue,"特惠秒杀"),T),31:(x={},oe(x,de,"特惠秒杀"),oe(x,ue,"特惠秒杀"),x),32:(P={},oe(P,de,"特惠秒杀"),oe(P,ue,"特惠秒杀"),P),33:(D={},oe(D,de,"特惠秒杀"),oe(D,ue,"特惠秒杀"),D),35:(_={},oe(_,de,"9成新"),oe(_,ue,"9成新"),_),34:(k={},oe(k,de,"源头精选"),oe(k,ue,"源头精选"),k),19:(A={},oe(A,de,"品牌正品"),oe(A,ue,"品牌正品"),A),20:(j={},oe(j,de,"品牌正品"),oe(j,ue,"品牌正品"),j),21:(O={},oe(O,de,"品牌正品"),oe(O,ue,"品牌正品"),O),22:(L={},oe(L,de,"品牌正品"),oe(L,ue,"品牌正品"),L),23:(E={},oe(E,de,"品牌正品"),oe(E,ue,"品牌正品"),E),24:(N={},oe(N,de,"品牌正品"),oe(N,ue,"品牌正品"),N),25:(R={},oe(R,de,"品牌正品"),oe(R,ue,"品牌正品"),R),26:(M={},oe(M,de,"源头精选"),oe(M,ue,"品牌正品"),M),27:(B={},oe(B,de,"9成新"),oe(B,ue,"品牌正品"),B),28:(F={},oe(F,de,"中古优品"),oe(F,ue,"中古优品"),F),29:(U={},oe(U,de,"品牌正品"),oe(U,ue,"品牌正品"),U)};Component({options:{addGlobalClass:!0},externalClasses:["tab-item-class","tab-container-class"],properties:{componentData:{type:Object,value:{},observer:function(e){if(e){var t=this.properties.componentData.__type;(void 0===t?$.widgetTypeMap.GOODS_CARD:t)===$.widgetTypeMap.GOODS_CARD?this.handleGoodsCard():this.handleFeed()}}},isPullRefresh:{type:Boolean,value:!1,observer:function(e){e&&(this.setData({next:1,isFirst:!0,productList:[]}),this.getMallData({start:1,sourceTab:this.data.currentTab},ae))}},isNextRefresh:{type:Number,value:0,observer:function(e){this.onReachBottom()}},isMallIndex:{type:Number,value:0},stickyTop:{type:String,value:""},isCustom:{type:Boolean,value:!1},isTabSlider:{type:Boolean,value:!1},hasTopThreeCart:{type:Boolean,value:!1}},data:{next:1,productList:[],tabList:[],currentTab:"",isFirst:!0,hasGetData:!1,tabBgColor:"",navHeight:64,isLoading:!0,isTabConfig:!1,getGoodsList:!1,tabSelectedBarStyle:{},tabSelectedStyle:{},tabWrapStyle:{},positionStyle:{},tabInitFlag:!1,canScrollX:!1,isFail:!1,feedMinHeight:{},scrollIntoView:"",widgetTypeMap:$.widgetTypeMap,topList:[],currentTabSSV:""},logicData:{ducheapReqParams:{},pageSize:18,scrollTop:0,scrollOffsetY:0,duSid:"",isTabSticky:!1,feedScrollTop:0,lastNext:1,feedCacheData:{},curPageUrl:"",screenWidth:375,isTagShowAll:!1},lifetimes:{attached:function(){var e=this;this.logicData.curPageUrl=(0,G.getCurPath)(),n.getSystemInfo({complete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.logicData.screenWidth=t.screenWidth}})}},messages:{monitorGoods:function(e){var t={index:e.value.index,pos:e.value.pos};this.triggerEvent("monitorGoods",t,{bubbles:!0})},clickend:function(e){var t=this;if(this.isDucheap())return this.ducheapClick(e);var o=this.data.currentTabSSV,a=e.value,i=a.productType,n=void 0===i?ue:i,s=a.spuId,d=a.webappUrl,u=a.index,c=void 0===u?0:u,p=this.getChannalInfo();if(n===ue)(0,X.delayFunc)((function(){(0,q.jumpToInnerSwan)({path:J.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:s,taskToken:r().globalData.siteData.taskToken},p,{subSceneValue:o}),log:{ctx:t,userExtra:{event_index:c}}})}));else{var l={url:d,params:Object.assign({fr:getCurrentPages().pop().route.split("/").pop().replace("-","_")},p)};(0,H.generalJump)(l)}},onLiveCardClick:function(e){var t=this.data.currentTabSSV,o=e.value,a=o.liveInfo,i=void 0===a?{}:a,n=o.index,r=i.jumpLink,s=void 0===r?"":r,d=i.liveType,u=void 0===d?2:d,c=(0,H.parseLiveUrl)(s).params,p=void 0===c?{}:c;s&&(0,H.goToLive)(s,V.JUMP_SOURCE_INFO.liveList_home,u,{},{context:this,compTargetId:t,userExtra:{room_id:p.roomId||"",room_type:i.roomType,event_index:n}})},onLoadFail:function(){this.data.isFail&&this.setData({isFail:!1}),this.getProductList()}},methods:{getChannalInfo:function(){var e=this.properties.componentData,t=e.__type,o=e.ch,a=void 0===o?"":o,i=e.sch,n=void 0===i?"":i,r=e.column,s=e.tabConfig,d=(s=void 0===s?{}:s).tabChSch,u=void 0===d?{}:d;if(a&&n)return{ch:a,sch:n};var c=this.data,p=c.tabList,l=c.currentTab;return p.length>0&&"{}"!==JSON.stringify(u)?u[l]||{}:t===$.widgetTypeMap.GOODS_CARD?$.widgetsChannalInfoMap["card"+ce[r]]:$.widgetsChannalInfoMap["feed"+ce[r]]},handleGoodsCard:function(){var e=this,t=this.properties.componentData.requestConfig,o=void 0===t?{}:t,a=o&&o.serviceConfig&&o.serviceConfig.path||"";if(a){var i=o.value||0;(0,Q.downgradeInterface)({url:a,pageType:i}).then((function(t){var o=e.productKeyTrans(t.data.activityProductVos||[]);e.setData({productList:o},(function(){e.setData({getGoodsList:!0}),(0,G.removeSkeleton)({delayTime:150})}))})).catch((function(){})).finally((function(){e.setData({hasGetData:!0})}))}},handleFeed:function(){var e=this;this.logicData.pageSize=this.properties.componentData.pageSize||18,this.initTabConfig(),W.default.addHandler("getNavHeight",(function(t){var o=(e.properties.componentData.tabConfig&&e.properties.componentData.tabConfig.tabStyleConfig||{}).tabHeight,a=void 0===o?0:o;e.setData({navHeight:+t.replace("px",""),feedMinHeight:{"min-height":"calc(100vh - "+t+" - "+1.81*a+"rpx)"}},(function(){var t=(e.properties.componentData.tabConfig||{}).tabStyleConfig;e.initTabStyle(t)}))})),W.default.addHandler("onPageScroll",(function(t){e.logicData.scrollTop=t.scrollTop,e.data.tabList.length&&e.changeStickyStyle(t)}))},getMallData:function(e,t){var o=this,a=this.data.currentTab;if(t===ie){var i=this.logicData.feedCacheData[a],n=i&&i.time;if(n){var r=n&&(new Date).getTime()-n,s=function(){var e={data:{items:i.items,next:i.next,duSid:i.duSid,sp:i.sp,hasp:i.hasp}};o.successCallback(e,t),o.finallyCallBack(t)};return r>12e4?void this.mallFeedReq(Object.assign({sourceTab:a,start:1},e)).then((function(e){var t=e.data||{};o.mallCacheUpdate(t),s()})):void s()}}var d=this.data.next;this.mallFeedReq(Object.assign({sourceTab:a,start:d},e)).then((function(e){o.successCallback(e,t)})).catch((function(e){o.failCallBack(e)})).finally((function(){o.finallyCallBack(t)}))},mallFeedReq:function(e){return this.isDucheap()?this.ducheapFeedReq(e):(0,K.request)({url:V.API.getFeedList,data:Object.assign({},e,{size:10,source:(0,G.isLiteApp)()?1:0,ocpcInfo:{dxdPvId:(0,z.getDxdPvId)(),expIdList:(0,z.getExpIdList)().join(",")}})})},mallCacheUpdate:function(e){var t=this.data.currentTab,o=e.sp,a=e.hasp,i=e.items,n=e.next,r=e.duSid;this.logicData.feedCacheData[t]={items:i,next:n,time:(new Date).getTime(),duSid:r,sp:o,hasp:a}},changeStickyStyle:function(e){var t=this,o=this.properties.componentData.tabConfig&&this.properties.componentData.tabConfig.tabStyleConfig||{},a=o.tabStickyBgColor,i=void 0===a?"":a,n=o.tabStickySelectedColor,r=void 0===n?"":n,s=o.tabStickySelectedBarColor,d=void 0===s?"":s,u=o.tabStickyColor,c=void 0===u?"":u;"sticky"===this.data.positionStyle.position&&(0,Y.getFeedNodeRect)(".scroll-wrap",this).then((function(e){if(e){var o=e.top<=t.data.navHeight;if(o!==t.logicData.isTabSticky&&(i||r||d||c)){var a=Object.assign({},t.data.positionStyle),n=Object.assign({},t.data.tabSelectedStyle),s=Object.assign({},t.data.tabSelectedBarStyle),u=Object.assign({},t.data.tabWrapStyle),p=t.properties.componentData.tabConfig&&t.properties.componentData.tabConfig.tabStyleConfig&&t.properties.componentData.tabConfig.tabStyleConfig||"",l=p.tabWrapBgColor,g=void 0===l?"":l,h=p.tabSelectedColor,m=void 0===h?"":h,f=p.tabSelectedBarColor,v=void 0===f?"":f,b=p.tabWrapColor,w=void 0===b?"":b;c&&(u.color=o?c:w),i&&(a["background-color"]=o?i:g),r&&(n.color=o?r:m),d&&(s["background-color"]=o?d:v),t.setData({positionStyle:a,tabSelectedStyle:n,tabSelectedBarStyle:s,tabWrapStyle:u}),t.logicData.isTabSticky=o}}}))},initTabConfig:function(){var e=this,t=this.properties.componentData,o=t.tabConfig,a=void 0===o?{}:o,i=t.requestConfig,n=t.isMarketingComp,r=void 0===n||n,s=this.properties.componentData.tabList;this.customTabList&&(s=this.customTabList);var d=a.tabStyleConfig,u=void 0===d?{}:d,c=a.tabSource,p=void 0===c?{}:c;if(p.url)!this.data.hasGetData&&this.initTabList(p,r),this.initTabStyle(u);else{if(s.length?(this.initTabListStatic(s),this.initTabStyle(u),(0,G.removeSkeleton)({delayTime:150})):this.setData({currentTabSSV:this.properties.componentData.ssv||"",isTabConfig:!0}),this.data.hasGetData)return;var l=this.properties.isMallIndex,g=i&&i.serviceConfig&&i.serviceConfig.path||"",h=i.value||0;if(l)return void this.getMallData({duSid:this.logicData.duSid},ne);r?(0,Q.downgradeInterface)({url:g,pageType:h}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)})).finally((function(){(0,G.removeSkeleton)({delayTime:150}),e.finallyCallBack()})):this.getProductList()}},initTabStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setData({tabSelectedStyle:{color:e.tabSelectedColor||"","font-weight":700,"background-color":e.tabSelectedBgColor||""},tabSelectedBarStyle:{"background-color":e.tabSelectedBarColor||"",bottom:1.81*e.tabSelectedBarBottom+"rpx"||!1},tabWrapStyle:{height:1.81*e.tabHeight+"rpx"||!1,"background-image":e.tabWrapBgImage||"","font-size":1.81*(+e.tabFontSize||16)+"rpx",color:e.tabWrapColor||""},positionStyle:{top:this.properties.stickyTop?this.properties.stickyTop+"px":this.data.navHeight-1+"px","background-color":e.tabWrapBgColor||"",position:e.isSticky?"sticky":"static","margin-top":1.81*e.tabYSpace+"rpx"||!1,"margin-bottom":1.81*e.tabYSpace+"rpx"||!1,"padding-top":1.81*e.tabYPaddingTop+"rpx"||!1,"padding-bottom":1.81*e.tabYPaddingBottom+"rpx"||!1}})},getCurrentTabSSV:function(e,t){return(e.find((function(e){return e.tabConfig===t}))||{}).ssv||""},initTabListStatic:function(e){var o=this,a=+(0,G.parsePageQuery)().cate||e[0]&&e[0].tabConfig||"",i=this.getCurrentTabSSV(e,a),n=a===(e[0]&&e[0].tabConfig);this.setData({canScrollX:e.length>4,currentTab:a,currentTabSSV:i,tabList:e,isTabConfig:!0},(function(){t((function(){o.setData({scrollIntoView:a&&!n?"tab_"+a:""})}),200)}))},initTabList:function(e,o){var a=this,i=function(e){if(e&&e.data){var o=(a.properties.componentData&&a.properties.componentData.tabConfig||{}).tabSSV,i=void 0===o?[]:o,n=e.data,r=n.configurationData,s=void 0===r?[]:r,d=n.tabData,u=void 0===d?{}:d,c=s.map((function(e,t){return{tabName:e.data,tabConfig:e.id,ssv:i[t]||""}})),p=+(0,G.parsePageQuery)().cate||u.id||"",l=p||c[0]&&c[0].tabConfig,g=a.getCurrentTabSSV(c,l);a.setData({currentTabSSV:g,canScrollX:c.length>4,currentTab:l,tabList:c,isTabConfig:!0},(function(){a.getProductList(),t((function(){a.setData({scrollIntoView:p?"tab_"+p:""})}),200)}))}};o?(0,Q.downgradeInterface)({url:e.url,pageType:this.properties.componentData.pageType}).then((function(e){i(e)})).finally((function(){(0,G.removeSkeleton)({delayTime:150})})):(0,Q.activityInterFace)({url:e.url,data:e.params}).then((function(e){i(e)})).finally((function(){(0,G.removeSkeleton)({delayTime:150})}))},handleFeedScrollTop:function(e){this.logicData.feedScrollTop=this.logicData.scrollTop+e-this.data.navHeight+3},clickTab:function(e){var t=e.target.dataset,o=t.type,a=t.index,i=t.ssv,n=void 0===i?"":i;this.handleChangeTab(o,a,n),this.isMallPage()&&r().logTempStore.reportLog(this,{compTargetId:"dxdjx_feed_show",userExtra:{curPageUrl:this.logicData.curPageUrl}})},handleChangeTab:function(e,o,a){var i=this,r=this.properties.componentData.isSticky,s=this.properties.componentData.tabConfig&&this.properties.componentData.tabConfig.tabStyleConfig||{},d=s.tabHeight,u=void 0===d?0:d,c=s.tabYSpace,p=void 0===c?0:c,l=s.tabYPaddingTop,g=void 0===l?0:l,h=s.tabYPaddingBottom,m=void 0===h?0:h;(0,Y.getFeedNodeRect)(".feed",this).then((function(s){(0,Y.getFeedNodeRect)(".scroll-wrap",i).then((function(d){!i.logicData.feedScrollTop&&i.handleFeedScrollTop(s.top);var c=d.top<=i.data.navHeight,l=c?"calc(100vh - "+1.81*(p+g+m)+"rpx - "+(i.data.navHeight-2)+"px - "+1.81*u+"rpx)":"calc(100vh - "+s.top+"px)";e!==i.data.currentTab&&(i.isDucheap()&&(i.logicData.ducheapReqParams={}),(0,G.bdxdAddLog)(i,{compTargetId:a,userExtra:{tab_id:e}}),i.logicData.lastNext=1,i.setData(Object.assign({currentTabSSV:a,currentTab:e,next:1,isFirst:!0,feedMinHeight:Object.assign({"min-height":l},i.properties.isTabSlider?{height:l}:{}),productList:[],scrollIntoView:"tab_"+i.data.tabList[o&&o-1].tabConfig},i.properties.hasTopThreeCart&&{topList:[]}),(function(){c&&n.pageScrollTo({scrollTop:i.logicData.feedScrollTop,duration:100,complete:function(){i.properties.isTabSlider&&t((function(){n.pageScrollTo({scrollTop:i.logicData.feedScrollTop})}),150)}}),i.logicData.scrollOffsetY=r&&s.top<0?i.logicData.scrollTop+s.top-i.data.navHeight:0,i.getProductList(ie)})))}))}))},onReachBottom:function(){var e=this;(0,G.debounce)((function(){var t=e.properties.componentData.__type;if((void 0===t?$.widgetTypeMap.GOODS_CARD:t)!==$.widgetTypeMap.GOODS_CARD){e.setData({isFirst:!1,isFail:!1});var o=(e.properties.componentData&&e.properties.componentData.tabConfig||{}).tabSource;(void 0===o?{}:o).url&&!e.data.isTabConfig||e.logicData.lastNext!==e.data.next&&e.getProductList()}}),50).bind(this)()},isMallPage:function(){return 1===this.properties.isMallIndex},getProductList:function(e){var t=this,o=this.data,a=o.next,i=o.currentTab,n=this.properties.componentData,r=n.requestConfig,s=void 0===r?{}:r,d=n.useTabAsPageType,u=void 0!==d&&d;if(!(-1===Number(a)||this.data.isLoading&&1!==Number(a)))if(this.setData("isLoading",!0),this.isMallPage())this.getMallData({duSid:this.logicData.duSid},e);else{var c={start:a,size:this.logicData.pageSize};this.properties.hasTopThreeCart&&this.data.isFirst&&(c=Object.assign({},c,{topNum:3}));var p=s.value||0,l=s&&s.serviceConfig&&s.serviceConfig.path||"";i&&(c.tab=i),p&&(c.pageType=p),u&&i&&(c.pageType=i),(0,Q.activityInterFace)({url:l,data:c}).then((function(e){t.successCallback(e)})).catch((function(e){t.failCallBack(e)})).finally((function(){t.finallyCallBack()}))}},productKeyTrans:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){if(t.cardType===re)return t;var o=Object.assign({},t,{recommendLabel:pe[e.data.currentTab]&&pe[e.data.currentTab][t.productType]||""});return Object.keys(se).forEach((function(e){"originPrice"===e&&o.price||t[e]&&(o[se[e]]=t[e])})),o}))},successCallback:function(e,t){var o=this,a=e.data||{},i=[],n=this.data.currentTab,r=a.tab,s=void 0===r?"":r,d=function(){var e=o.data.isFirst&&0===i.length?-1:+a.next;o.logicData.lastNext=o.data.next,o.setData(Object.assign({productList:i,next:e},o.data.isFail?{isFail:!1}:{}))},u=function(){i=(a.items||[]).map((function(e,t){return Object.assign({},e,{index:t,tabId:n,page:o.data.next})}));var e=t===ne||t===ie||t===ae;i.length&&e&&o.mallCacheUpdate(a),o.logicData.duSid=a.duSid,d(),o.logicData.scrollOffsetY&&(t===ie&&o.triggerEvent("getScrollTop",o.logicData.scrollOffsetY),o.logicData.scrollOffsetY=0)},c=function(){i=o.productKeyTrans(a.activityProductVos||[]),a.topActivityProductVos&&(o.setData({topList:a.topActivityProductVos||[]}),!i.length&&o.dispatch("marketingFeedIsEmpty",!0)),d(),o.logicData.scrollOffsetY&&(o.logicData.scrollOffsetY=0)};if(this.isMallPage())return s?void(s===n&&u()):void u();s&&n?s===n&&c():c()},failCallBack:function(e){this.setData({isFail:!0,isLoading:!1}),(0,G.addErrorLog)(e,{compTargetId:"dxdjx-marketing-feed-err",errType:"api_marketingfeed_err"},[V.logTypeMap.apiError])},finallyCallBack:function(e){e===ae&&this.triggerEvent("stoprefresh");this.setData({isLoading:!1,hasGetData:!0})},swiperChange:function(e){var t=e.detail,o=t.currentTab,a=t.current;if(o!==this.data.currentTab){var i=this.getCurrentTabSSV(this.data.tabList,o);this.handleChangeTab(o,a,i)}},isDucheap:function(){return"ducheap"===this.properties.feedType},ducheapClick:function(e){var t=e.value,o=t.logInfo,a=t.jump,i=(e.value.jump||{}).urlXcxParams;if(i){(0,ee.sendJumpLog)({logInfo:o,jump:a},{clk_info:{action:"sku_clk"},extra:{area_type:"feed"}});var n=i.xcxPath,s=i.xcxQuery,d=Z.default.parseUrlObject(n+"?"+s).searchParams,u=d.shopId,c=d.spuId,p=d._cecom_ext,l=decodeURIComponent(p),g=this.getChannalInfo();(0,q.jumpToInnerSwan)({path:J.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:c,shopId:u,taskToken:r().globalData.siteData.taskToken},g,{_cecom_ext:l,subSceneValue:"ssv_"+(10+this.data.currentTab)})})}},ducheapFeedReq:function(e){var t=this,o=e.sourceTab,a=this.logicData.feedCacheData[o]||{},i=this.customTabList&&this.customTabList[o-1].asyncUrl||"https://ducheap.baidu.com/api/feed",n=Z.default.parseUrlObject(i),r=n.searchParams,s=n.hostAndPath;return(0,K.request)({url:s,completeUrl:!0,useCustomCookie:!0,method:"get",data:Object.assign({page:e.start-1,pn:10*(e.start-1),ext:JSON.stringify({sa:V.DUCHEAP_SA.feedSa}),env:"normal"},r,{sp:this.logicData.ducheapReqParams.sp||a.sp||0,hasp:this.logicData.ducheapReqParams.hasp||a.hasp||0})}).then((function(a){var i=a.data,n=i.sp,r=i.hasp,s=i.goodsList,d=i.applid;return t.triggerEvent("ducheapFeedLoaded",d),t.logicData.ducheapReqParams={sp:n,hasp:r},t.customTabList||(t.customTabList=i.tabList.map((function(e){return{tabName:e.title,tabConfig:e.pos+1,asyncUrl:e.asyncUrl}})),t.initTabListStatic(t.customTabList),t.initTabStyle(t.properties.componentData.tabConfig&&t.properties.componentData.tabConfig.tabStyleConfig||{}),(0,G.removeSkeleton)({delayTime:150})),(0,K.request)({url:"https://ducheap.baidu.com/api/log/exposure",completeUrl:!0,method:"get",data:{scene:i.scene,data:JSON.stringify(i.reqLogInfo),data_type:0,ext:JSON.stringify({sa:V.DUCHEAP_SA.feedSa}),sa:V.DUCHEAP_SA.feedSa,env:"normal"}}).catch((function(){})),{data:{sp:n,hasp:r,isShow:!0,next:+e.start+1,tab:+o||1,items:s.map((function(e){var t=e.promotionTag,o=e.serviceTag,a=e.tags,i=[].concat(a).concat(t&&t[0]).concat(o&&o[0]).filter((function(e){return e&&(e.text||e.name)}));return{cardType:"product",goodsPictureUrl:e.img,hasDiscount:!1,name:e.title.sub||"",price:e.price.integer+e.price.decimal,qualityTag:0,sales:e.sales_volume,sellingPoints:i.map((function(e){return{name:e.name||e.text}})),jump:e.jump,logInfo:e.logInfo}}))}}})).catch((function(){}))}}})})),window.define("208",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.downgradeConfig=o.getMainActive618=o.getMainFeed618=o.getFeedProductList=o.getKoiQuery=o.getKoiPrize=o.getKoiNum=o.getMarquee=o.getOldSeckillList=o.getSeckillList=o.getLiveInfo=o.inviteList=o.marketingFeed=o.getTabList=o.floatBall=o.generalImage=void 0,o.initDowngrade=function(e){var t=!0,o=[];e.pageModuleIds.forEach((function(a){e.widgets[a].child.forEach((function(a){var i=e.widgets[a],r=(0,_.transCamelToDash)(i.name),s=i.properties;Z[r]&&("function"==typeof Z[r]?Z[r](s):Z[r]).forEach((function(a){var i="function"==typeof a?a({properties:s,pageConfig:e}):a,r=0;r=Array.isArray(s.requestConfig)?s.pageType||s.requestConfig[0]&&s.requestConfig[0].value||0:s.requestConfig&&s.requestConfig.value||0;var d=(0,P.encodeReqName)({url:i.url,pageId:e.pageid,pageType:r}),u={url:i.url,method:i.method||"POST",data:i.data&&i.data.pageType?i.data:Object.assign({pageType:r},i.data),downGradeOpts:{isMain:t,pageId:e.pageid||0,pageType:r}};t?(O=n().globalData.pageReqCache[d]=(0,T.request)(u).then((function(e){return o.forEach((function(e){n().globalData.pageReqCache[e.reqName]=(0,T.request)(e.reqParams).then().catch((function(e){L&&ee(e,s)}))})),e})).catch((function(e){if(L&&ee(e,s),e.statusCode===I.RESPONSE_STATUS.LIMIT)return e;o.forEach((function(e){n().globalData.pageReqCache[e.reqName]=(0,T.request)(e.reqParams).then().catch((function(e){L&&ee(e,s)}))}))})),t=!1):o.push({reqName:d,reqParams:u})}))}))}))},o.downgradeInterface=function(e){var t=e.url,o=void 0===t?"":t,a=e.pageId,i=void 0===a?n().globalData.pageData.pageid:a,r=e.pageType,s=void 0===r?0:r,d=(0,P.encodeReqName)({url:o,pageId:i,pageType:s});if(n().globalData.pageReqCache[d])return n().globalData.pageReqCache[d];return new Promise((function(e,t){O.finally((function(){n().globalData.pageReqCache[d]||t(new Error("接口已命中降级")),n().globalData.pageReqCache[d].then((function(t){e(t)})).catch((function(e){return t(e)}))})).catch((function(e){return t(e)}))}))},o.activityInterFace=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t||e.data&&e.data.pageType||0;return(0,T.request)(Object.assign({},e,{downGradeOpts:Object.assign({pageType:o,pageId:n().globalData.pageData.pageid},e.downGradeOpts)}))};var I=e(59),T=e(92),x=e(4),P=e(93),D=e(86),_=e(63),k=e(58),A=["wjz/dxdjx/main-active/main-active","wjz/dxdjx/special-seckill/special-seckill","wjz/dxdjx/billion-subsidy/billion-subsidy","wjz/dxdjx/dynamic-marketing-page/dynamic-marketing-page"],j={"main-active":0,"special-seckill":1,"billion-subsidy":2},O=Promise.resolve({}),L=!0,E=o.generalImage={url:I.API.generalImage,method:"GET"},N=o.floatBall=function(e){var t=e.properties.pageType;return{method:"GET",url:I.API.generalImage,pageType:t}},R=o.getTabList=function(e){e.properties;var t=(0,x.getCurrentPage)().route.split("/").pop(),o=(0,x.parsePageQuery)(),a=o.zcm,i=void 0===a?"":a,n=o.spuId,r=void 0===n?"":n;return{url:I.API.getTabList,data:{spuId:i?"":r,meetingType:j[t]}}},M=o.marketingFeed=function(e){var t=e.properties,o=t.tabConfig;return o&&o.tabSource&&o.tabSource.url?R({properties:t}):{url:I.API.getMarketingProductList,data:{start:1,size:18}}},B=o.inviteList=function(e){return{url:e.properties.path,data:{start:1,size:10}}},F=o.getLiveInfo=function(e){var t=e.properties,o=(Array.isArray(t.requestConfig||{})?t.requestConfig[0]||{}:t.requestConfig||{}).serviceConfig||{};return{url:o.path,method:o.method,data:o.params}},U=o.getSeckillList=function(e){var t=e.properties,o=(Array.isArray(t.requestConfig||{})?t.requestConfig[0]||{}:t.requestConfig||{}).serviceConfig||{};return{url:o.path||"",method:o.method||"GET",data:o.params||{}}},G=o.getOldSeckillList={url:I.API.getSeckillList,method:"GET"},H=o.getMarquee=function(e){return{url:e.properties.path,method:"GET"}},q=o.getKoiNum=function(e){return{url:e.properties.koiPath,method:"GET"}},z=(o.getKoiPrize=function(e){return{url:e.properties.path,method:"GET"}},o.getKoiQuery=function(e){return{url:e.properties.path}}),V=o.getFeedProductList=function(e){var t=e.properties,o=t.requestConfig,a=void 0===o?[]:o,i=t.__type,n=void 0===i?D.widgetTypeMap.FEED:i,r={};return{url:(r=Array.isArray(a)?a[0]&&a[0].serviceConfig||{}:a.serviceConfig||"").path||"",method:r.method||"POST",data:Object.assign({},r.params,{start:1,size:t.pageSize||D.pageSizeDefaultMap[n]})}},Y=(o.getMainFeed618={url:I.API.getFeedMain,data:{start:1,size:20}},o.getMainActive618={url:I.API.getMainActive}),W=1,J=2,X=1,K=2,Q=function(e){var t=e.properties,o=(0,x.parsePageQuery)(),a=o.zcm,i=o.spuId,n=o.cate,r={sourceType:i?J:W,productType:a?X:K,partMeetType:t.theme,tab:+n,spuId:i};return{url:I.API.getGoodsInfo,data:r}},$=function(e){var t=e.properties,o=Array.isArray(t.requestConfig)?t.requestConfig[0]||{}:t.requestConfig||{},a=(o.serviceConfig&&o.serviceConfig.params&&o.serviceConfig.params.couponList||t.couponList||[]).map((function(e){return e.value}));return{method:"GET",url:I.API.getCouponList,data:{params:a.join(",")}}},Z=o.downgradeConfig={"mip-dxdjx-marketing-banner":[E],"mip-dxdjx-marketing-optimum-goods":[M],"mip-dxdjx-marketing-invite-list":[B],"mip-dxdjx-marketing-feed":[M],"mip-dxdjx-marketing-seckill":[G],"mip-dxdjx-marketing-live":[F],"gt-dxdjx-h5-marketing-seckill":[U],"gt-dxdjx-h5-koi-lottery":[q,B],"gt-dxdjx-h5-koi-marquee":[H],"gt-dxdjx-h5-goods-card":[Q],"gt-dxdjx-h5-top-goods-card":[Q],"gt-dxdjx-h5-query-word":[z],"gt-dxdjx-h5-marketing-koi":[Y],"gt-dxdjx-h5-product-list-single":[V],"gt-dxdjx-h5-product-list-double":[V],"gt-dxdjx-h5-product-list-triple":[V],"gt-dxdjx-h5-shop-card-feed-single":[V],"gt-dxdjx-h5-shop-card-feed-double":[V],"gt-dxdjx-h5-shop-card-feed-triple":[V],"gt-dxdjx-h5-coupon":[$],"gt-dxdjx-h5-coupon-double":[$],"gt-dxdjx-h5-coupon-triple":[$],"gt-dxdjx-h5-bd-cost-effective":function(){var e=(0,x.parsePageQuery)().takeId,t=void 0===e?"":e;return t?[{url:I.API.getCouponBind,method:"GET",data:{takeId:t}}]:[]},"gt-dxdjx-h5-marketing-live":[F],"mip-dxdjx-marketing-floatball":[N]},ee=function(e,t){var o="wjz/bdxd/communicate/login-page/login-page",a=(0,x.getCurrentPage)().route;if(a!==o&&e&&e.status===I.RESPONSE_STATUS.NOT_LOGIN&&!A.includes(a)){t.jumpBackUrl;(0,k.jumpToInnerSwan)({path:"/"+o,params:{jumpBackUrl:"/"+a},type:k.innerJumpType.redirectTo,success:function(){L=!1}})}}})),window.define("209",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getReferrerUrl=a.getBDUserInfo=a.shuffle=a.arrayEqual=a.debounce=a.promisify=a.CHANNEL_MAP=void 0;var T,x=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=e(210),D=(T=P)&&T.__esModule?T:{default:T};var _=3,k=a.CHANNEL_MAP={11010061:"fc"},A=function(e){for(var t=[],o=0;o<e;o++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")},j=function(e){var t={};if(!e)return t;var o=e;return e.indexOf("?")>-1&&(o=e.split("?")[1]),o.split("&").forEach((function(e){var o=e.split("=");t[o[0]]=o[1]})),t},O=function(){var e=getCurrentPages();return e[e.length-1]},L=function(){var e=getCurrentPages(),t=e[e.length-1];return t&&t.options},E=a.promisify=function(e){return function(t){for(var o=arguments.length,a=Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return new Promise((function(o,i){e.apply(void 0,[Object.assign({},t,{success:o,fail:i})].concat(a))}))}},N=a.debounce=function(e,o){var a=null;return function(){for(var i=this,n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];clearTimeout(a),a=t((function(){e.apply.apply(e,[i].concat(r))}),o)}},R=a.arrayEqual=function(e,t){var o=!0;return e.length!==t.length&&(o=!1),e.forEach((function(e,a){e!==t[a]&&(o=!1)})),o},M=a.shuffle=function(e){for(var t=e.slice(),o=t.length-1;o>=0;o--){var a=Math.floor(Math.random()*(o+1)),i=[t[a],t[o]];t[o]=i[0],t[a]=i[1]}return t},B=function(){return new Promise((function(e,t){n.getCommonSysInfo({success:function(t){e(t)},fail:function(){e({})}})}))},F=function(){return n.canIUse("getBDUSS")?"getBDUSS":"getUnionBDUSS"},U=function(e,t){n[F()]({success:function(t){e(t)},fail:function(e){t(e)}})},G=function(){return new Promise((function(e){U(e,(function(){e({})}))}))},H=a.getBDUserInfo=function(){return Promise.all([B(),G()])},q=a.getReferrerUrl=function(){var e="",t=getCurrentPages();t&&t.length>=2&&(e=(t[t.length-2].options||{}).url);return e},z=function(e){if(null==e)return 0;var t=e.trim(),o=t.match(/[^\x20-\xff]/g);return t.length+(o?o.length:0)};a.default={getFinalPhoneNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=null;return a=t||{realPhone:t,solutionId:o,sourceType:4003},e?e.getCallNumber(a).virtualPhone:t},getRealPhoneNumParams:function(){var e=r().globalData,t=e.siteData,o=e.pageData,a=t.searchEndParams,i=o.vpucid,s=a.spid,d=function(){var e=r().globalData.siteData.scene;e||console.log("getChannel未获取到场景值");return k[e]||"other"}(),u=_,c=o.url,p=a.bd_vid||"",l=n.getEnvInfoSync();return{uid:i,spid:s,channel:d,type:u,url:c,bdVid:p,appKey:l.appKey,appName:l.appName}},shuffle:M,arrayEqual:R,debounce:N,rand16Num:A,parsePageQuery:L,parseUrlParams:j,stringifyQuery:function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o+"="+e[o]);return""+t.join("&")},getImlpAccessId:function(){return(new Date).getTime()+A(23)},getWorkingYears:function(e){e=(e=e.substring(0,19)).replace(/-/g,"/");var t=new Date(e),o=new Date,a=parseInt((o.getTime()-t.getTime()+15768e6)/31536e6,10);return 0===a?"":"从业"+a+"年"},getRandom:function(){for(var e=1e7*Math.random();e<1e7;)e<<=1;return e},isFromAd:function(){var e=!1;return(L().xst||"").length>0&&(e=!0),e},getCookieInfo:function(e){try{var t=d.cookie||"",o={};return t&&t.split(";").forEach((function(e){var t=e.split("=");t.length>1&&(o[t[0].trim()]=t[1].trim())})),o[e]}catch(e){return null}},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=new RegExp("(^|/?|&)"+e+"=([^&]*)(&|$)","i"),a=void 0;try{a=s.top.location.search.substr(1).match(t)||s.top.location.hash.substr(1).match(o)}catch(e){a=s.location.search.substr(1).match(t)||s.location.hash.substr(1).match(o)}return null!==a?decodeURI(a[2]):null},isThreeDaysBefore:function(e){var t=new Date,o=e.replace(/-/g,"/"),a=new Date(o).getTime(),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return a<new Date(i-1728e5).getTime()},checkURLEncode:function(e){var t=e||"",o={actionId:"site_req_recv",generalParams:{},compTargetId:"site_imlp_warning_log"};if(0===t.indexOf("http")&&!/^https?:\/\//.test(t))try{t=decodeURIComponent(t)}catch(a){try{t=unescape(e),D.default.doUserDefinedLog(o,{url:e,error:a})}catch(a){t=e,D.default.doUserDefinedLog(Object.assign({},o,{compTargetId:"site_imlp_error_log"}),{url:e,error:a})}}return t},formatTime:function(e){var t=e.replace(/-/g,"/"),o=new Date(t).getTime(),a=(new Date).getTime(),i=parseInt((a-o)/1e3,10);return i<60?i+"秒":i>=60&&i<3600?parseInt(i/60,10)+"分钟":parseInt(i/60/60,10)+"小时"},getXst:function(){return L().xst||""},getPageId:function(){return r().globalData.pageData.pageId||0},getUserId:function(){return r().globalData.pageData.userid||0},getPageData:function(){return r().globalData.pageData||{}},isPhoneX:function(){return r().globalData.medicalGlobalData.isIpx},getDiseaseId:function(){return r().globalData.medicalGlobalData.diseaseId||0},getMedicalData:function(){return r().globalData.medicalGlobalData||{}},getBDInfo:B,getBDUSSInfo:G,getBDUserInfo:H,promisify:E,getReferrerUrl:q,getElementPageOffset:function(e){var t=new Promise((function(t){n.createSelectorQuery().select(e).boundingClientRect((function(e){t(e)})).exec()})),o=new Promise((function(e){n.createSelectorQuery().selectViewport().scrollOffset((function(t){e({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})})).exec()}));return Promise.all([t,o]).then((function(e){var t=x(e,2),o=t[0],a=t[1];return{top:a.scrollTop+o.top,left:a.scrollLeft+o.left}}))},getCurPage:O,formatRichContent:function(e){var t="";return e&&(t=e.replace(/<img/gi,'<img style="max-width:100%;height:auto"')),t},isTrans:function(){return r().globalData.medicalGlobalData.isTrans},setCurPageImlpSdk:function(e){var t=O();t.data||(t.data={}),t.data.imlpSdk=e},getCurPageImlpSdk:function(){return O().data.imlpSdk||{}},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},getLengthInBytes:z,getCnTextByMaxByte:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],o=e.trim();t=t||z(o);var a=o.split("").reduce((function(e,o){var a=e+o;return z(a)<=t?a:e}),"");return a},checkOS:function(e){return{isAndroid:/Android/gi.test(e),isIOS:/iOS/gi.test(e)}},getBdussOrUnionBdussApiStr:F,getSwanBudss:U,parseUrlObject:function(e){var t=e.split("?")[0];return{hostAndPath:t,searchParams:t===e?{}:j(e)}}}})),window.define("210",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SITE_BAR_CLICK=o.SITE_COMP_CLICK=void 0;var I,T=e(5),x=(I=T)&&I.__esModule?I:{default:I};var P=x.default.configOfLogAction.actionIdForDeveloper,D=o.SITE_COMP_CLICK=P.SITE_COMP_CLICK,_=(o.SITE_BAR_CLICK=P.SITE_BAR_CLICK,P.SITE_REQ_RECV),k=function(e,t){var o=e.actionId,a=e.generalParams,i=e.compTargetId,n=Object.assign({},a,{actionId:o,compTargetId:i,userExtra:Object.assign({},t)});x.default.logActions.addUserDefinedLog(n)},A=function(e,t){k({actionId:_,generalParams:e,compTargetId:"m-vision-log-image-load"},Object.assign({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),o={};try{var a=n().globalData.pageData||{},i=a.initTimestamp,r=void 0===i?0:i,s=n().globalData.siteData||{},d=s.launchTimestamp,u=void 0===d?0:d;r&&r>0&&(o["page_"+e]=t-r),u&&u>0&&(o["site_"+e]=t-u)}catch(e){console.log(e)}return o}("img_loaded",t)))};o.default={doClickLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x.default.logActions.addUserDefinedLog(Object.assign({},t,{actionId:D,compTargetId:e,userExtra:Object.assign({},o)}))},doImlpLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],a=arguments[3],i=o.adviceType,n=o.imlpAccessId,r=o.url,s=a.solutionId,d=void 0===s?"":s,u=a.solutionType,c=void 0===u?"":u;d?x.default.logActions.addImlpLog(Object.assign({},t,{target:r,solutionType:c,solutionId:d,compTargetId:e,adviceType:i,imlpId:n})):x.default.logActions.addImlpLog(Object.assign({},t,{target:r,compTargetId:e,adviceType:i,imlpId:n}))},doFormSubmitLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x.default.logActions.addFormLog(Object.assign({},t,{compTargetId:e}))},doJumpLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];x.default.logActions.addUserDefinedLog(Object.assign({},t,{actionId:D,compTargetId:e,userExtra:{target_info:o}}))},doTelLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];x.default.logActions.addTelLog(Object.assign({target:o},t,{compTargetId:e}))},doUserDefinedLog:k,initLogData:function(e,t){x.default.initSiteData(e),x.default.initPageData(t)},sendPerfLog:A,sendFirstImgLogInRoute:function(e,t,o){var a;t.indexOf((a=getCurrentPages(),a[a.length-1]).route)>-1&&A(e,o)}}})),window.define("211",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sendDisplayLog=function(e,t){var o=e.logInfo,a=void 0===o?{}:o,i={clk_extra:Object.assign({area_type:"dxdxcx_home"},a,t.clk_extra||{}),clk_info:Object.assign({applid:a.applid,t:Date.now()},t.clk_info||{})},n={q:"手机",tcreq4log:1,clk_info:"",extra:{},ct:138,cst:4};return n.clk_info=JSON.stringify(i.clk_info),n.clk_extra=JSON.stringify(i.clk_extra),x(n)},a.sendJumpLog=function(e,t){var o=e.logInfo,a=void 0===o?{}:o,i=e.jump,n=void 0===i?{}:i,r={extra:Object.assign({jump_type:"jump"},a,t.extra||{}),clk_info:Object.assign({type:"xcx",applid:a.applid,atn:"index",t:Date.now()},t.clk_info||{})},s={q:"百度商城",tcreq4log:1,clk_info:"",extra:{},src:encodeURIComponent(n.url)||"",cyc:1};return s.clk_info=JSON.stringify(r.clk_info),s.extra=JSON.stringify(r.extra),x(s)},a.sendLog=x,a.tcLog=P;var T=e(92);function x(e){var o=e.ct,a=e.cst,i=e.tcreq4log,n=void 0===i?1:i,r=e.q,s=e.clk_info,d=e.extra,u=e.src,c=void 0===u?"":u,p=e.cyc,l=void 0===p?"":p,g=e.clk_extra,h=JSON.parse(s),m=JSON.stringify(h),f={module:"sf",pd:"duhuasuan",applid:h.lid||h.applid,lid:h.lid||h.applid,ct:o,cst:a,clk_info:m,tcreq4log:n,extra:d,q:r,src:c,cyc:l,clk_extra:g};return t((function(){P(f)}),10),f}function P(e){(0,T.request)({url:"https://m.baidu.com/tc",useCustomCookie:!0,completeUrl:!0,method:"get",data:e}).catch((function(){}))}})),window.define("225",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(4),x=e(81),P=e(59),D=e(208),_=e(51),k=e(58),A=e(48);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{moveAreaCustom:"",moveBallCustom:"",closeBtnCustom:"",imageStyle:{}}}},data:{isShow:!1,ballImg:""},logicData:{jumpUrl:""},lifetimes:{attached:function(){this.getFloatBallItem()}},methods:{getFloatBallItem:function(){var e=this;this.properties.componentData.isMarketingComp?(0,D.downgradeInterface)({url:P.API.generalImage,pageType:this.properties.componentData.pageType}).then((function(t){return e.floatBallData(t)})):(0,I.request)({url:P.API.generalImage,data:{pageType:this.properties.componentData.pageType},downGradeOpts:{pageType:this.properties.componentData.pageType,pageId:this.properties.componentData.pageId},method:"GET"}).then((function(t){return e.floatBallData(t)}))},floatBallData:function(e){if(e&&e.data){var t=e.data||{};this.logicData.jumpUrl=t.bizJumpUrl||"";var o=t.dayImage||"";this.setData({ballImg:o,isShow:!0}),(0,T.bdxdAddLog)(this,{compTargetId:"ssv_10",logType:A.bdtjLogType.elemShow})}},onClickBallOpen:function(){var e=decodeURIComponent(this.logicData.jumpUrl);if((0,T.isH5)(e))(0,k.jumpToInnerSwan)({path:_.PAGES.COMMUNICATE_WEB_VIEW,params:{url:e}});else if((0,T.isBdH5)(e)){var t=e.split("easybrowse/open?url=").pop()||"";(0,x.jumpToEasyBrowseH5)(t)}else(0,T.isSwan)(e)?(0,x.generalJump)({url:e,params:{subSceneValue:"ssv_10"}}):(0,x.goToLive)(e,P.JUMP_SOURCE_INFO.floatBall,2,{},{ctx:this,compTargetId:"ssv_10"})},onClickBallClose:function(){this.setData({isShow:!1})}}})})),window.define("227",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(4),x={0:"px",1:"rpx"};Component({options:{addGlobalClass:!0},externalClasses:["common-class"],properties:{countValue:{type:String,value:"",observer:function(e){e&&(0,T.isType)(+e,"Number")&&this.init(e)}},scrollTime:{type:Number,value:1e3},delay:{type:Number,value:100},height:{type:Number,value:22},unitType:{type:Number,value:0}},data:{countValueList:[],styleArr:[],countValeStyle:{},numBeforeLen:0},logicData:{allValuelist:[],numberArr:["0","1","2","3","4","5","6","7","8","9"]},methods:{init:function(e){var t=this,o=e.split(".")[0].length;this.setData({numBeforeLen:o}),e.split("").map((function(e,o){t.getArrayList(e,o)})),this.initAnimate()},initAnimate:function(){var e=this,o=[],a=this.getHight(),i=x[this.properties.unitType];this.setData({countValeStyle:{height:a+i}}),this.logicData.allValuelist.map((function(t){var n=t.length;o.push({transform:"translateY("+-a*(n-1)+i+")",transition:"all "+(n-1==0?0:e.properties.scrollTime/1e3)+"s cubic-bezier(.25,.1,.25,1)"})})),this.setData({countValueList:this.logicData.allValuelist},(function(){t((function(){e.setData({styleArr:o})}),e.properties.delay)}))},getArrayList:function(e,t){var o=[];if("."!==e){var a=Object.assign([],this.logicData.numberArr),i=Math.floor(5*Math.random()+5),n=a.slice(0,i),r=n.indexOf(e);r>-1&&n.splice(r,1);var s=(0,T.shuffle)(n);s.push(e),o=s}else o=["."];this.logicData.allValuelist[t]=o},getHight:function(){var e=this.properties,t=e.unitType,o=e.height,a=0;return 1===t&&(a=1.81*o),0===t&&(a=o),a}}})})),window.define("229",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(61),T=e(62);Component({options:{addGlobalClass:!0},properties:{topCardInfo:{type:Object,value:{},observer:function(e){this.setData({cardInfo:Object.assign({},e)})}},componentData:{type:Object,value:{topTagTheme:1,customStyle:null},observer:function(e){e.customStyle&&this.setData({customStyle:e.customStyle})}}},data:{imageStyle:{},cardInfo:{},scrollTime:2e3,showScanLight:!1,rankTopCardBorder:"https://mall-static.cdn.bcebos.com/doujin/C/image/rankTopCardBorder.png",topTagImg:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/topProductCardTag.png",customStyle:{}},lifetimes:{ready:function(){this.intersectionObserver=(0,I.observerElementShowLog)({context:this,selector:".product-card-observer",logParams:{compTargetId:"ssv_27",userExtra:{spuId:this.data.topCardInfo.spuId||"",comp_material_id:this.data.topCardInfo.spuId||""}},logSort:T.logSortMap.PRODUCT})},attached:function(){this.setData("imageStyle",{animation:"transScale 1s linear 0.5s infinite alternate;"})},detach:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{handleBtnClick:function(){this.dispatch("jumpDetail")}}})})),window.define("246",(function(e,t,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(51),x=e(61);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,observer:function(e){var t=this;if(e){var o=e.activityList,a=void 0===o?[]:o,i=e.bg,n=void 0===i?"":i,r=e.color,s=void 0===r?{}:r,d=e.type,u=void 0===d?"":d,c=e.tag_pic,p=void 0===c?"":c;this.setData(Object.assign({},"rank"===u?{rankList:this.rankDataHandle(a)}:{},{cardStyle:this.setCartStyle({bg:n,color:s}),tagPicStyle:{width:(new RegExp("[?&]w=([^&]+)","gmi").test(p)?+RegExp.$1:"")*T.rpx/3+"rpx","background-image":"url("+p+")"}}),(function(){t.animationFun()}))}}},listLength:{type:Number,value:0},ssvMap:{type:Object,value:{}}},data:{rankList:[],cardStyle:{},tagPicStyle:{},currIndex:0},logicData:{timer:null},lifetimes:{ready:function(){var e=this.properties.componentData.type;this.obserberInstance=(0,x.observerElementShowLog)({context:this,selector:".diamond-card",logParams:{compTargetId:this.properties.ssvMap[e]||""}})},detached:function(){clearInterval(this.logicData.timer),this.logicData.timer=null,this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null}},methods:{rankDataHandle:function(e){for(var t=[],o=[],a=0;a<e.length;a++)a%2?o.push(e[a]):t.push(e[a]);return[t,o]},goodsClick:function(e){var t=e.currentTarget.dataset,o={spuId:t.spuId,index:t.index,listType:t.listType,cmd:t.cmd};this.triggerEvent("goodsClick",o)},setCartStyle:function(e){var t=e.bg,o=e.color,a=(o=void 0===o?{}:o).from,i=o.to;return t?{"background-image":"url("+t+")"}:a&&i?{"background-image":"linear-gradient(180deg, "+a+" 0%, "+i+" 100%)"}:{}},animationFun:function(){var e=this,t=this.data.rankList,a=void 0===t?[]:t;a.length<2||(this.logicData.timer=o((function(){var t=e.data.currIndex;e.setData({currIndex:t+1>=a.length?0:t+1})}),5e3))}}})})),window.define("248",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(58),x={rank:"ssv_167",subsidy:"ssv_168"};Component({properties:{componentData:{type:Object,value:{}}},methods:{goodsClick:function(e){var t=e.detail,o=t.listType,a=t.cmd,i=void 0===a?"":a,n=t.index,r=void 0===n?0:n,s=(0,I.parseSwanUrl)(i),d=s.path,u=s.options;(0,T.jumpToInnerSwan)({path:d,params:Object.assign({},u,{subSceneValue:x[o]}),log:{ctx:this,userExtra:{event_index:r}}})}}})})),window.define("250",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81),T=e(61),x=1;Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){if(e){var t=e.bg,o=void 0===t?"":t,a=e.color,i=void 0===a?{}:a;this.setData({cardStyle:this.setCartStyle({bg:o,color:i})})}}},ssvMap:{type:Object,value:{}}},data:{cardStyle:{}},methods:{newAndOldUserJumpDetail:function(){var e=this.properties.componentData,t=e.cmd,o=e.type;t&&(0,I.generalJump)({url:t,params:{subSceneValue:this.properties.ssvMap[o]||""},log:{userExtra:{index:0}}})},onGoodsDot:function(e){var t=this.properties.componentData,o=t.type,a=t.activityList,i=void 0===a?[]:a,n=t.cmd,r=e.currentTarget.dataset.index,s=r||0===r?r:e.target.dataset.index,d=o===x,u=o!==x&&i[s]&&i[s].cmd;d?(0,I.generalJump)({url:n,params:{subSceneValue:this.properties.ssvMap[o]||""},log:{userExtra:{index:s}}}):(0,I.generalJump)({url:u,params:{subSceneValue:this.properties.ssvMap[o]||""},log:{userExtra:{index:s}}})},setCartStyle:function(e){var t=e.bg,o=e.color,a=(o=void 0===o?{}:o).from,i=o.to;return t?{"background-image":"url("+t+")"}:a&&i?{"background-image":"linear-gradient(180deg, "+a+" 0%, "+i+" 100%)"}:{}}},lifetimes:{ready:function(){var e=this.properties.componentData.type,t=this.properties.ssvMap[e]||"";this.obserberInstance=(0,T.observerElementShowLog)({context:this,selector:".mall-user-container",logParams:{compTargetId:t}})},detached:function(){this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null}}})})),window.define("256",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51);Component({options:{addGlobalClass:!0},properties:{__id__:{type:String},__name__:{type:String},__title__:{type:String},__type__:{type:String},groupMsg:{type:Object,value:{},observer:function(){this.setTransform()}},isShow:{type:Boolean,value:!1},countDownTime:{type:String,value:"0"}},data:{transformStyle:""},attached:function(){},methods:{onPopupCloseClick:function(){this.triggerOutEvent("toggleGroupLayer",{isOpen:!1})},onJoinGroupLayer:function(){var e=this.data.groupMsg.groupId;this.triggerOutEvent("toggleGroupLayer",{groupId:e,isOpen:!1}),(0,I.bdxdAddLog)(this,{compTargetId:"ssv_280",userExtra:{}})},triggerOutEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.triggerEvent(e,t)},setTransform:function(){var e="transform:translateX("+5*((this.properties.groupMsg&&this.properties.groupMsg.headPortraits&&this.properties.groupMsg.headPortraits.length||0)-1)*T.rpx/2+"rpx);";this.setData({transformStyle:e})}}})})),window.define("276",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(48),x=e(51),P=e(277);Component({options:{addGlobalClass:!0},properties:{bestShopCoupon:{type:Object,value:{},observer:function(e){if(e&&e[0]&&e[0].promotionType===x.promotionTypeMap.mPriceN)this.setData({showCouponBar:!0,promotionList:e});else if(e&&e.batchId&&e.remainingTime&&e.remainingTime>0){var t=!1;+e.remainingTime<"86400000"&&(t=!0),this.addCouponShowLog(),this.setData({showCouponBar:!0,showCountDownBar:t,countDownTime:e.remainingTime})}}},from:{type:String,value:""}},data:{countDownTime:0,showCouponBar:!1,showCountDownBar:!1,promotionList:[]},methods:{addCouponShowLog:function(){(0,I.bdxdAddLog)(this,{compTargetId:"ssv_607",logType:T.bdtjLogType.elemShow})},closeCouponBar:function(){this.setData({showCouponBar:!1}),(0,I.bdxdAddLog)(this,{compTargetId:"ssv_606"}),this.triggerEvent("setBottomCoupon")},gotoActive:function(){var e=this.data.promotionList[0].promotionId;(0,P.jumpToDuTab)({promotionId:e,pos:"bottomBanner",log:{compTargetId:"ssv_639"}})}}})})),window.define("277",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.jumpToDuTab=void 0;var I=e(58),T={bottomBanner:"ozxj_6_223-113__na",couponLayer:"ozxj_6_224-113__na",cart:"ozxj_6_225-113__na"};o.jumpToDuTab=function(e){var t=e.promotionId,o=e.pos,a=e.log,i=void 0===a?{}:a,n={routerInfo:{url:"/sf/talos/cartactivity",data:{action:{type:"anchor",value:t}}},ext:{sa:T[o]}};(0,I.openBdboxWebview)({module:"browser",action:"invokeTalosBeeLandingPage",parameters:{startparams:JSON.stringify({mainBizName:"box.rnplugin.searchmanifest",subBizName:"SearchDuhuasuan",bundleName:"SearchDuhuasuan",moduleName:"SearchDuhuasuan"}),bizparams:JSON.stringify(n)},log:i})}})),window.define("279",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{couponInfo:{type:Object,value:{}}}})})),window.define("281",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(277);Component({options:{addGlobalClass:!0},properties:{couponInfo:{type:Object,value:{}}},methods:{gotoActive:function(){var e=this.properties.couponInfo.promotionId;(0,I.jumpToDuTab)({promotionId:e,pos:"couponLayer",log:{compTargetId:"ssv_638"}}),this.triggerEvent("gotoActive")}}})})),window.define("283",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(59),x=e(284),P=e(285),D=e(286),_={1:"去使用",2:"已使用",3:"已失效",4:"立即领取",5:"立即领取",6:"已失效"},k={1:{name:"去使用",value:""},2:{name:"已使用",value:"iconcoupon-used"},3:{name:"已失效",value:"iconcoupon-invalid"},4:{name:"立即领取",value:""},5:{name:"已领取",value:"iconcoupon-got"},6:{name:"已失效",value:"iconcoupon-lose"}};Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],properties:{couponClassify:{type:Number,observer:function(e){this.setData({btnText:_[e],couponIcon:k[e].value||""})}},couponInfo:{type:Object,value:{},observer:function(e){e&&this.setCouponData(e)}},status:{type:Number,value:1,observer:function(e){this.setData({btnText:_[e],couponIcon:k[e].value||""})}},showRulerArea:{type:Boolean,value:!1},couponBizType:{type:Number,value:2},couponType:{type:Number,value:1},currentSelect:{type:Boolean,value:!1},couponFuncType:{type:String,value:T.COUPON_FUNC_TYPE_MAP.ENABLE_TAKE},isMyRedPacketType:{type:Boolean,value:!1}},data:{btnText:"去使用",couponTypeText:"",couponIcon:"",useRulerOpen:!1,couponFuncTypeMap:T.COUPON_FUNC_TYPE_MAP,couponData:{},isMutiLineContent:!1,mutiLineStyle:!1,isRedPacketType:!1},methods:{onCouponClick:function(){var e=this.properties,t=e.couponClassify,o=e.couponInfo,a=e.couponFuncType;e.isMyRedPacketType||-1!==[T.COUPON_FUNC_TYPE_MAP.ENABLE_TAKE,T.COUPON_FUNC_TYPE_MAP.ENABLE_SELECT,T.COUPON_FUNC_TYPE_MAP.ENABLE_USE].indexOf(a)&&this.dispatch("onCouponClick",{couponClassify:t,couponInfo:o})},onUseRuler:function(e){this.setData({useRulerOpen:!this.data.useRulerOpen})},setCouponData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.salePrice,o=e.rangeType,a=e.newPersonCoupon,i=e.useStart,n=e.useEnd,r=e.useTimeRange,s=e.platformCouponDesc,d=e.promotionBizType,u=e.redPacketDesc,c=e.subTitle,p=e.promotionType,l=e.perPromotionUseDesc,g=this.properties,h=g.couponFuncType,m=g.couponBizType,f=g.couponType,v=g.isMyRedPacketType,b=(0,D.isRedPacket)(h),w=(0,D.isMultiplePromotion)(p),y={inited:!0,couponPriceLen:t.toString().length>7?7:t.toString().length,rangeText:(0,D.getCouponRangeText)(m,o,h,v,w,l),couponRootClass:(0,D.getCouponThemeClass)(m,h,p),couponTypeText:(0,x.getCouponTypeText)({couponBizType:m,promotionBizType:d,newPersonCoupon:a,subTitle:c,isForceEmpty:b||v}),couponUseTime:(0,D.getCouponUseTime)({useStart:i,useEnd:n,useTimeRange:r}),couponMainText:(0,D.getCouponMainText)({couponInfo:e,couponType:f,isMyRedPacketType:v,couponFuncType:h}),platformCouponDesc:(0,D.getCouponDesc)(s,u)};this.setData({couponData:y,isRedPacketType:b})},handRuleIconTap:function(){this.data.isMutiLineContent&&this.setData({mutiLineStyle:!this.data.mutiLineStyle})}},lifetimes:{ready:function(){var e=this,o=this.properties,a=o.showRulerArea,i=o.isMyRedPacketType,n=(o.couponInfo||{}).platformCouponDesc;a&&((void 0===n?"":n)||i)&&t((function(){var t={compContext:e,hiddenElement:".coupon-rule-hidden-text",normalElement:".coupon-rule-text"};(0,P.checkTextOverflow)(t).then((function(t){e.setData({isMutiLineContent:t})}))}),100)}}})})),window.define("284",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getPromotionTitle=o.getCouponTypeText=void 0;var I=e(51);o.getCouponTypeText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.promotionBizType,o=e.couponBizType,a=e.newPersonCoupon,i=e.isForceEmpty,n=void 0!==i&&i,r=e.subTitle,s="";return n?s:r||(1===t?s="平台活动":2===t?s="店铺活动":1===a?s="新人专属":1===o?s="平台优惠券":2===o&&(s="店铺优惠券"),s)},o.getPromotionTitle=function(e){var t=e.promotionType,o=e.limitCondition,a=e.discountPrice,i="";return t===I.promotionTypeMap.fullPromotion?i="满"+Number(o)+"减"+Number(a):t===I.promotionTypeMap.multiplePromotion?i="每满"+Number(o)+"减"+Number(a):t===I.promotionTypeMap.mPriceN&&(i=Number(a)+"元"+Number(o)+"件"),i}})),window.define("285",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};o.checkTextOverflow=function(e){var t=e.compContext,o=e.hiddenElement,a=e.normalElement,n=e.compareKey,r=void 0===n?"width":n;return new Promise((function(e){var n=i.createSelectorQuery().in(t);n.select(o).boundingClientRect().exec(),n.select(a).boundingClientRect().exec((function(t){var o=I(t||[],2),a=o[0],i=o[1];if(a&&i){var n=a[r]>i[r];e(n)}}))}))}})),window.define("286",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;Object.defineProperty(o,"__esModule",{value:!0}),o.getCouponDesc=o.getCouponMainText=o.getCouponUseTime=o.getCouponThemeClass=o.getCouponRangeText=o.isMultiplePromotion=o.isRedPacket=void 0;var T=e(59),x=e(51);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var D={1:(I={},P(I,-1,"平台通用"),P(I,2,"指定商品可用"),P(I,3,"指定店铺可用"),P(I,4,"指定品类可用"),I),2:{1:"全场通用",2:"部分商品可用"}},_=o.isRedPacket=function(e){return e===T.COUPON_FUNC_TYPE_MAP.RED_PACKET_USE||e===T.COUPON_FUNC_TYPE_MAP.RED_PACKET_UNABLE_USE||e===T.COUPON_FUNC_TYPE_MAP.RED_PACKET_USE_DETAIL};o.isMultiplePromotion=function(e){return e===x.promotionTypeMap.multiplePromotion},o.getCouponRangeText=function(e,t,o,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return i?n:_(o)?T.RED_PACKET_RANGE_MAP[o]:a?T.MY_RED_PACKET_RANGE_MAP[T.COUPON_FUNC_TYPE_MAP.MY_RED_PACKET]:D[e]&&D[e][t]},o.getCouponThemeClass=function(e,t,o){return[T.COUPON_FUNC_TYPE_MAP.PROMOTION_COUPON,T.COUPON_FUNC_TYPE_MAP.ALREADY_USED,T.COUPON_FUNC_TYPE_MAP.UNABLE_USE,T.COUPON_FUNC_TYPE_MAP.RED_PACKET_USE,T.COUPON_FUNC_TYPE_MAP.RED_PACKET_UNABLE_USE,T.COUPON_FUNC_TYPE_MAP.RED_PACKET_USE_DETAIL,T.COUPON_FUNC_TYPE_MAP.MY_RED_PACKET,T.COUPON_FUNC_TYPE_MAP.UNABLE_LOSE].includes(t)?"coupon-card-func-type-"+t:"coupon-card-type-"+e},o.getCouponUseTime=function(e){var t=e.useStart,o=e.useEnd,a=e.useTimeRange;return t&&o?t+"-"+o:a||void 0},o.getCouponMainText=function(e){var t=e.couponInfo,o=e.couponType,a=e.isMyRedPacketType,i=e.couponFuncType,n=t.promotionType;return o===x.COUPON_TYPE.NPRICE?t.salePrice+"元购优惠券":1!==t.isNoThreshold?n===x.promotionTypeMap.multiplePromotion?"每满"+t.fullPrice+"元可用":"满"+t.fullPrice+"元可用":a||_(i)?a||_(i)?"无使用门槛":void 0:"无门槛"},o.getCouponDesc=function(e,t){return e||(t||T.DEFAULT_MY_REDPACT_DESC)}})),window.define("288",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(92),x=e(51),P=e(59),D=e(4),_=e(126),k=(I=_)&&I.__esModule?I:{default:I};var A=1,j=n().globalData.siteData.appId;Component({options:{addGlobalClass:!0},properties:{couponPopupShow:{type:Boolean,value:!1,observer:function(e){this.setData({isVisiable:e})}},couponList:{type:Array,value:[],observer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return 1!==e.newPersonCoupon})),o=e.filter((function(e){return 1===e.newPersonCoupon}));this.setData({formatCouponList:t.map((function(e){return Object.assign({isHad:!1},e)})),newPersonCouponList:o.map((function(e){return Object.assign({isHad:!1},e)}))})}},promotionList:{type:Array,value:[],observer:function(e){this.formatPromotion(e)}},spuId:{type:String,value:0}},data:{isVisiable:!1,formatCouponList:[],newPersonCouponList:[],couponTypeMap:P.COUPON_FUNC_TYPE_MAP,popupCloseStyle:P.POPUP_CLOSE_STYLE,closeWrapStyle:P.CLOSE_WRAP_STYLE,formatPromotionList:[],mPriceN:8},logicData:{generalParams:{id:"coupon-take",name:"coupon-take",type:"coupon-take",title:"领券"}},attached:function(){},methods:{formatPromotion:function(e){e&&e.length&&this.setData({formatPromotionList:e.map((function(e){var t=e.endTime,o=e.startTime,a=e.discountPrice,i=e.limitCondition,n=o.split(" ")[0].replace(/-/g,"."),r=t.split(" ")[0].replace(/-/g,".");return Object.assign({},e,{originStartTime:o,originEndTime:t,startTime:n,endTime:r,useStart:n,useEnd:r,salePrice:a,fullPrice:i})}))})},takeCoupon:function(e){var t=this,o=e.couponInfo,a=e.antiCheatVo,i=n().globalData.pageData[o.shopId],r="",s="";if((0,D.parsePageQuery)().directCouponId||(0,D.parsePageQuery)().directTaskId?(r=(0,D.parsePageQuery)().directCouponId||"",s=(0,D.parsePageQuery)().directTaskId||""):i&&(i.directCouponId||i.directTaskId)&&(r=i.directCouponId||"",s=i.directTaskId||""),!this.isTaking){this.isTaking=!0;var d=function(){t.data.newPersonCouponList.forEach((function(e){e.batchId===o.batchId&&(e.takeStatus=A)})),t.setData({formatCouponList:t.data.formatCouponList.map((function(e){return e.batchId===o.batchId?Object.assign({},e,{takeStatus:A}):e})),newPersonCouponList:t.data.newPersonCouponList})},u={appId:j,batchId:o.batchId,shopId:o.shopId};this.properties.spuId&&(u.spuId=this.properties.spuId),a&&(u.antiCheatVo=a),(r||s)&&(u.directCouponInfo={directCouponId:r,directTaskId:s}),(0,T.request)({url:x.API.couponTake,data:u}).then((function(e){d(),(0,D.normalToast)({title:"优惠券领取成功"})})).catch((function(e){e&&700004==+e.status&&d(),e.statusCode!==x.RESPONSE_STATUS.LIMIT&&(0,D.normalToast)({title:x.errorTips[x.API.couponTake][e.status]||e.statusInfo||x.errorTips[x.API.couponTake][500]})})).finally((function(){t.isTaking=!1})),(0,D.bdxdAddLog)(this,{compTargetId:"ssv_152",userExtra:{batch_id:o.batchId,spu_id:this.properties.spuId,comp_material_id:o.batchId}})}},onClosePopup:function(){this.dispatch("onClosePopup")}},messages:{onCouponClick:function(e){var t=this;this.dispatch("onCouponClick",Object.assign({},e.value));var o=e.value.couponInfo;return k.default.hgzAs(x.antifraudConfig.userGrowth).then((function(e){t.takeCoupon({couponInfo:o,antiCheatVo:e})})).catch((function(){t.takeCoupon({couponInfo:o})}))}}})})),window.define("290",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=e(92),P=e(51),D=e(284),_=e(4);function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var A="优惠",j="领券",O=(k(T={},"platform",1),k(T,"shop",2),T),L={todaySpecial:"todaySpecial",newPersonCoupon:"newPersonCoupon",platformActivity:"platformActivity",shopActivity:"shopActivity",platformCoupon:"platformCoupon",shopCoupon:"shopCoupon"},E=[L.todaySpecial,L.newPersonCoupon,L.platformActivity,L.shopActivity,L.platformCoupon,L.shopCoupon];Component({options:{addGlobalClass:!0},properties:{couponList:{type:Array,value:[],observer:function(e){e&&e.length&&this.initCouponBarList(e)}},promotionList:{type:Array,value:[],observer:function(e){e&&e.length&&this.initPromotionList(e)}},platformRedPacket:{type:Object,value:null,observer:function(e){e&&e.salePrice&&this.initPlatformRedPacket(e)}},wrapStyle:{type:Object,value:{}},theme:{type:String,value:"dark"},spuId:{type:String,value:""},spuRestStock:{type:Number,value:0}},data:{couponBarList:[],couponPopupShow:!1,isShowTodaySpecial:!0,isShowPlatfromRedPacket:!0,couponText:"",todaySpecialTipText:"",newPersonTipText:"",isShowNewPersonTip:!0,platformRedPacketTipText:"",redPacketImg:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/smallRedPacket.png"},logicData:{couponBarMap:{}},messages:{onClosePopup:function(){this.setData({couponPopupShow:!1}),this.triggerEvent("changeCouponLayer",!1)},onLogin:function(e){var t=this;n.canIUse("button.open-type.login")?e&&e.value&&e.value.errMsg===P.LOGIN_SUCCESS_TEXT&&(0,_.isExistBduss)().then((function(){t.conponBarClick(),t.dispatch("productDetailLoginSuccess")})):(0,x.goToLogin)((function(){t.conponBarClick(),t.dispatch("productDetailLoginSuccess")}))}},attached:function(){this.initCouponBarList(),this.initPromotionList()},methods:{closeNewPersonTip:function(){this.setData({isShowNewPersonTip:!1})},getNewCouponTipText:function(e){var t=e[0];return t&&t.couponType===L.newPersonCoupon?t.tip:""},getTodaySpecialTipText:function(e){var o=this,a=e[0];return a&&a.couponType===L.todaySpecial?(t((function(){o.setData({isShowTodaySpecial:!1})}),3e3),a.tip):""},getPlatfromRedPacketTipText:function(e){return e&&e.salePrice?"您有一个¥"+parseFloat(e.salePrice)+"红包，现在下单立即使用":""},initPlatformRedPacket:function(e){this.setData({platformRedPacketTipText:this.getPlatfromRedPacketTipText(e)})},initCouponBarList:function(){var e=this,t=this.logicData.couponBarMap;[L.newPersonCoupon,L.platformCoupon,L.shopCoupon].forEach((function(e){t[e]=[]})),this.properties.couponList.forEach((function(o){1==+o.newPersonCoupon?t[L.newPersonCoupon].push(Object.assign({},e.getCouponBarItem(o),{couponType:L.newPersonCoupon,tag:"新人券",tip:e.getNewPersonTipText(o)})):o.couponBizType===O.platform?t[L.platformCoupon].push(e.getCouponBarItem(o)):t[L.shopCoupon].push(e.getCouponBarItem(o))})),t.newPersonCoupon.sort((function(e,t){return t.source.fullPrice-e.source.fullPrice})),this.setData({couponText:this.properties.couponList.length?j:A}),this.setCouponBarList()},initPromotionList:function(){var e=this,t=this.logicData.couponBarMap;[L.todaySpecial,L.platformActivity,L.shopActivity].forEach((function(e){t[e]=[]})),this.properties.promotionList.forEach((function(o){1===o.promotionTopicType&&e.isInActivityProcessing(o)?t[L.todaySpecial].push(Object.assign({},e.getPromotionBarItem(o),{couponType:L.todaySpecial,tag:"今日特惠",tip:"此商品正在参与特惠，下单再减"+Number(o.discountPrice)+"元"})):o.promotionBizType===O.platform?t[L.platformActivity].push(e.getPromotionBarItem(o)):o.promotionBizType===O.shop&&t[L.shopActivity].push(e.getPromotionBarItem(o))})),this.setCouponBarList()},setCouponBarList:function(){var e=this.logicData.couponBarMap,t=[],o=new Set;E.forEach((function(a){(e[a]||[]).forEach((function(e){var a=e.subTitle,i=void 0===a?"":a;o.has(i)||(o.add(i),-1===e.text.indexOf(i)&&(e.text=i+e.text)),t[0]&&t[0].tag?t.length<2&&t.push(e):t.length<3&&t.push(e)}))})),this.setData({couponBarList:t,newPersonTipText:this.getNewCouponTipText(t),todaySpecialTipText:this.getTodaySpecialTipText(t)})},getCouponBarItem:function(e){var t=e.couponType,o=e.isNoThreshold,a=e.salePrice,i=void 0===a?"":a,n=e.fullPrice,r=void 0===n?"":n,s=e.couponBizType,d=e.subTitle,u=void 0===d?"":d;return{text:15===t?Number(i)+"元购优惠券":1===o?"直减"+Number(i)+"元":"满"+Number(r)+"减"+Number(i),subTitle:u,type:s===O.platform?"platform":"shop",tag:"",source:e}},getPromotionBarItem:function(e){var t=(0,D.getPromotionTitle)(e),o=e.subTitle,a=void 0===o?"":o,i=e.promotionBizType;return{type:(void 0===i?1:i)===O.platform?"platform":"shop",text:t,subTitle:a,tag:"",source:e}},getNewPersonTipText:function(e){var t=e.isNoThreshold,o=e.fullPrice,a=e.salePrice,i=e.useEnd,n=e.useTimeType,r=e.useTimeRange,s=n&&{1:"有效期至"+i,2:void 0===r?"":r}[n];return"新人"+(1===t?"直减"+Number(a)+"元":"满"+Number(o)+"减"+Number(a))+"优惠券 "+s},isInActivityProcessing:function(e){var t=new Date(e.currentSystemTime.replace(/-/g,"/")).getTime(),o=new Date(e.startTime.replace(/-/g,"/")).getTime(),a=new Date(e.endTime.replace(/-/g,"/")).getTime();return!(t<o||t>a)},conponBarClick:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,_.isExistBduss)().then((function(){e.setData({couponPopupShow:!0}),e.triggerEvent("changeCouponLayer",!0)})).catch((function(o){t&&e.triggerEvent("changeCouponLayer",!1),(0,_.addErrorLog)(o,{compTargetId:"bdxd-log-req-coupon-list"},[P.logTypeMap.error])})),(0,_.bdxdAddLog)(this,{compTargetId:"ssv_277",userExtra:{spu_id:this.properties.spuId,comp_material_id:this.properties.spuId}})}}})})),window.define("292",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x=2e3,P={width:160*T.rpx+"rpx",height:36*T.rpx+"rpx"},D="decrease",_="increase";Component({options:{addGlobalClass:!0},externalClasses:["custom-class","custom-number","custom-iconfont"],properties:{min:{type:Number,value:-1/0},max:{type:Number,value:1/0,observer:function(e){this.setInputNum(0)}},step:{type:Number,value:1},minDiabledText:{type:String,value:""},maxDiabledText:{type:String,value:""},precision:{type:Number,value:0},disabled:{type:Boolean,value:!1},placeholder:{type:String,value:""},model:{type:Number,value:1,observer:function(e){this.setInputNum(0)}},inputNumberStyle:{type:Object,value:P},debounceTime:{type:Number,value:80}},data:{disabledMin:!1,disabledMax:!1,value:1},methods:{decreaseNum:function(){var e=this;this.data.disabled||(0,I.debounce)((function(){e.setInputNum(-e.data.step,D)}),this.properties.debounceTime).bind(this)()},increaseNum:function(){var e=this;this.data.disabled||(0,I.debounce)((function(){e.setInputNum(e.data.step,_)}),this.properties.debounceTime).bind(this)()}},financial:function(e){return+Number.parseFloat(e).toFixed(this.data.precision)},setInputNum:function(e,t){if(e&&(e===this.data.step?this.data.disabledMax:this.data.disabledMin))t===D?this.data.disabledMin&&this.showDisable(this.properties.minDiabledText):t===_&&this.data.disabledMax&&this.showDisable(this.properties.maxDiabledText);else{var o=this.data,a=o.min,i=o.max,n=parseInt(this.data.model,10)+e;+i<+a?this.setData({value:this.financial(n)}):n<+a?this.setData({value:this.financial(+a)}):n>+i?this.setData({value:this.financial(+i)}):this.setData({value:this.financial(n)}),0!==e&&this.triggerEvent("change",{val:this.data.value}),this.updateDisabledStatus()}},updateDisabledStatus:function(){var e=void 0,t=void 0,o=this.data,a=o.model,i=o.min,n=o.max;+n<+i||a===+i&&a===+n?(e=!0,t=!0):a===+i?(e=!0,t=!1):a===+n?(e=!1,t=!0):(e=!1,t=!1),this.setData({disabledMin:e,disabledMax:t})},showDisable:function(e){e&&i.showToast({icon:"none",duration:x,title:e})},ready:function(){this.setInputNum(0)}})})),window.define("294",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=e(92),P=e(51),D=e(4);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k="有货",A="请选择规格",j=3e3,O="onAttrItemChange",L="onAttrNumberChange",E="onSubmitBtnClick",N="onCommentSpuChange",R=1,M=99,B=50;Component({options:{addGlobalClass:!0},externalClasses:["custom-class","attr-number-class","submit-btn-class","attr-select-class","attr-info-class"],observers:{allData:function(e){this.initAllData()}},properties:{allData:{type:Object,default:{}},discountArr:{type:Array,value:[]},defaultPrice:{type:Number,default:0},defaultImage:{type:String,default:""},btnText:{type:String,value:"立即购买"},minDiabledText:{type:String,value:"最少买一件, 不能再减了"},maxDiabledText:{type:String,value:"宝贝已不能购买更多了"},selectSpecData:{type:Object,value:null},groupbookPromotion:{type:Object,value:null},scene:{type:Number,value:1,observer:function(e){this.updateSkuSelect(),this.setData({isSceneHasCar:[P.ATTR_LAYER_MAP.GROUP_BOOK_SINGLE_BUY,P.ATTR_LAYER_MAP.NORMAL].includes(e)})}},hasCar:{type:Boolean,value:!1},isCarlistSpu:{type:Boolean,value:!1},isLogin:{type:Boolean,value:null},isShow:{type:Boolean,value:!1,observer:function(){this.setScrollViewHeight()}},hasSkuDiscount:{type:Boolean,value:!1},isSkuSelect:{type:Boolean,value:!1,observer:function(e){"请选择商品规格"===this.data.selectedChangeText&&this.initAllData()}},name:{type:String,value:""},skuIdText:{type:String,value:""},isBjhColumn:{type:Boolean,value:!1},isHalfScreen:{type:Boolean,value:!1},titleHeight:{type:Number,value:0},bestShopCoupon:{type:Object,value:{},observer:function(e){(e&&e[0]&&e[0].promotionType===promotionTypeMap.mPriceN||e&&e.batchId&&e.remainingTime&&e.remainingTime>0)&&this.setData({defaultHeight:"height: 250px"})}},isDelivery:{type:Boolean,value:!1}},data:{allData:{},skuInfo:{},packList:[],specOptionInfo:{},selectedSkuInfo:{},selectedText:"",count:1,min:R,max:R,price:0,stockTip:"",goodsTypeMap:P.goodsTypeMap,specOptionInfoList:[],spikeIcon:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Fseckill.png",attrLayerMap:P.ATTR_LAYER_MAP,customMaxDisabledText:"",hasSkuSelected:!0,formatNPrice:{integer:"",decimals:""},formatPrice:{start:"",startFix:"",concat:"",end:"",endFix:""},isSceneHasCar:!1,selectedChangeText:"请选择商品规格",scrollAreaHeight:0,defaultHeight:"height: 270px",seckilling:P.beltTypeMap.seckilling},logicData:{picUrlList:[],selectedPackInfo:{},selectedSkuKeysInfo:{},defaultMax:M,isReload:!1},messages:{onLogin:function(e){n.canIUse("button.open-type.login")?e&&e.value&&e.value.errMsg===P.LOGIN_SUCCESS_TEXT&&this.clickConfirm("addressScene"):(0,x.goToLogin)(this.clickConfirm.bind(this))}},methods:{catchMove:function(){},isPackage:function(){return this.properties.allData.packages&&this.properties.allData.packages.length},initAllData:function(){this.properties.allData.goodsType===P.goodsTypeMap.virtualCard&&(this.logicData.defaultMax=20),this.properties.allData.goodsType===P.goodsTypeMap.recharge&&(this.logicData.defaultMax=1),6==+this.properties.allData.scene&&(this.logicData.defaultMax=B),this.getPicUrls(),this.isPackage()?(this.logicData.selectedPackInfo={},this.initPackData()):this.initSkuData("",!0)},getPicUrls:function(){var e=[],t=[],o=[],a=this.properties.defaultImage;e.push(a),this.isPackage()?this.properties.allData.packages.forEach((function(e){t=t.concat(e.skuList)})):t=this.properties.allData.skuList||[],(t=t.filter((function(e){return+e.restStock>0}))||[]).some((function(e){return e.picUrl!==a}))&&(o=t.map((function(e){return e.picUrl+"?skuId="+e.skuId})),e=e.concat(o)),this.logicData.picUrlList=e},previewClick:function(e){var t=e.currentTarget.dataset.url,o=e.currentTarget.dataset.id;this.logicData.picUrlList.length>1&&(t=t+"?skuId="+o),n.previewImage({current:t,urls:this.logicData.picUrlList})},initPackData:function(){var e=this,t=this.properties.allData.packages,o=this.properties.selectSpecData,a=o&&o.packageId,i=void 0;a&&(i=t.some((function(e){var t=!(e.skuList&&e.skuList.length>0);if(+a==+e.id&&!t)return!0})));var n=t.map((function(t,o){var n=!1,r=!(t.skuList&&t.skuList.length>0);return i?+a==+t.id&&(n=!0,e.selectPack(t)):r||Object.keys(e.logicData.selectedPackInfo).length||(n=!0,e.selectPack(t)),Object.assign({},t,{isSelected:n,isDisabled:r})}));this.setData({packList:n})},selectPack:function(e){this.logicData.selectedPackInfo={id:e.id,name:e.name},this.initSkuData({skuList:e.skuList,specifications:e.specifications},!0)},clickPackSelect:function(e){var t=this,o=e.target.dataset,a=o.id,i=o.pack,n=i.isDisabled,r=i.isSelected;if(!n&&!r){var s=this.data.packList;s.map((function(e){e.isSelected=a===e.id,e.isSelected&&(t.logicData.selectedPackInfo={id:a,name:e.name},t.initSkuData({skuList:e.skuList,specifications:e.specifications}))})),this.setData({packList:s})}},initSkuData:function(e,t){var o=e&&e.skuList?e:{skuList:this.properties.allData.skuList||[],specifications:this.properties.allData.specifications||[]};this.initSpecifications(o.specifications),this.initSkuList(o),this.initSkuSelect(o.skuList,t)},initSpecifications:function(e){var t=0,o=e.reduce((function(e,o){var a=o.name,i=o.key,n=o.values.map((function(e){return{optionId:e.optionId,optionValue:e.optionValue,isDisabled:!1,isSelected:!1}}));return e[i]={name:a,values:n,index:t++},e}),{});this.setData({specOptionInfo:o,specOptionInfoList:this.formatSpecOptionInfo(o)})},formatSpecOptionInfo:function(e){var t=Object.keys(e),o=[];return t.map((function(t){o[e[t].index]={key:t,values:e[t].values,name:e[t].name}})),o},initSkuList:function(e){var t=this,o={},a=e.skuList.filter((function(e){return+e.restStock>0}))||[];1===e.specifications.length?a.map((function(e){var t=[],a=void 0,i=void 0,n=void 0,r=void 0;if(e.predictPrice){var s=(String(e.predictPrice)||"").split("."),d=T(s,2),u=d[0];a=void 0===u?"":u;var c=d[1];i=void 0===c?"":c}if(e.groupPredictPrice){var p=(String(e.groupPredictPrice)||"").split("."),l=T(p,2),g=l[0];n=void 0===g?"":g;var h=l[1];r=void 0===h?"":h}e.specifications.map((function(s){t.push(s.optionValue);var d={spikeInfoVO:e.spikeInfoVO,groupSkuInfo:e.groupSkuInfo};o[s.optionId]=Object.assign({},d,{restStock:!e.spikeInfoVO&&e.restStockNoSpike?+e.restStockNoSpike:+e.restStock,price:e.price,longPrice:e.longPrice,skuId:e.skuId,image:e.picUrl,predictPrice:e.predictPrice,predictPriceInteger:a,predictPriceFloat:i,groupPredictText:e.groupPredictText,groupPredictPrice:e.groupPredictPrice,groupPredictPriceInteger:n,groupPredictPriceFloat:r,optionValues:t,predictText:e.predictText,beltType:e.beltType,salePrice:e.salePrice,showSeckill:e.showSeckill})}))})):a.map((function(e,a){var i=t.handleSkuItem(e);for(var n in i)o[n]?o[n].restStock+=+i[n].restStock:o[n]=i[n]})),this.setData({skuInfo:o})},handleSkuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.restStockNoSpike,i=e.restStock,n=e.price,r=e.longPrice,s=e.skuId,d=e.specifications,u=e.picUrl,c=e.spikeInfoVO,p=e.groupSkuInfo,l=e.predictText,g=e.predictPrice,h=e.groupPredictText,m=e.groupPredictPrice,f=e.beltType,v=e.salePrice,b=e.showSeckill,w=d.length,y=d[t],C=y.optionId,S=y.optionValue,I=[S],x=void 0,P=void 0,D=void 0,k=void 0;if(g){var A=(String(g)||"").split("."),j=T(A,2),O=j[0];x=void 0===O?"":O;var L=j[1];P=void 0===L?"":L}if(m){var E=(String(m)||"").split("."),N=T(E,2),R=N[0];D=void 0===R?"":R;var M=N[1];k=void 0===M?"":M}for(var B=_({},C,{restStock:+i,price:this.properties.defaultPrice,image:this.properties.defaultImage,optionValues:I.concat()}),F=Object.keys(o),U=0;U<F.length;U++){var G=F[U],H=this.sortOptionIds(G,C),q=[].concat(G,C).join(";");I=this.sortOptionValues(q,B,o);var z=null;z=H.split(";").length===w?{skuId:s,price:n,image:u}:{price:this.properties.defaultPrice,image:this.properties.defaultImage};var V={spikeInfoVO:c,groupSkuInfo:p};Object.assign(B,_({},H,Object.assign({},z,{restStock:!c&&a?+a:+i,optionValues:I},V,{predictPrice:g,predictPriceInteger:x,predictPriceFloat:P,predictText:l,groupPredictPrice:m,groupPredictPriceInteger:D,groupPredictPriceFloat:k,groupPredictText:h,beltType:f,salePrice:v,longPrice:r,showSeckill:b})))}return Object.assign(o,B),t>=w-1?o:this.handleSkuItem(e,t+1,o)},sortOptionValues:function(e,t,o){var a=e?e.split(";"):[],i={},n=[];return Object.assign(i,t,o),a.map((function(e){n.push.apply(n,i[e].optionValues)})),n},sortOptionIds:function(e,t){var o=e?e.split(";"):[];return t&&o.push(t),o.sort((function(e,t){return e.length===t.length?e.localeCompare(t):e.length-t.length})).join(";")},objectValues:function(e){return Object.keys(e).map((function(t){return e[t]}))},initSkuSelect:function(e,t){if(e.length){var o=!this.properties.isSkuSelect||this.properties.isSkuSelect&&"选款式"!==this.properties.skuIdText;if(t){var a=this.properties.selectSpecData,i=a&&a.skuId,n=a&&a.count,r={},s=void 0;i&&(s=e.some((function(e,t){if(+i==+e.skuId&&+e.restStock>0)return!0}))),s&&e.some((function(e,t){if(+i==+e.skuId)return n=Math.min(+e.restStock,n),!0})),e.some((function(e,t){if(s){if(+i==+e.skuId)return e.specifications.map((function(e,t){r[e.key]=e.optionId})),!0}else if(+e.restStock>0)return e.specifications.map((function(e,t){r[e.key]=e.optionId})),!0})),this.logicData.selectedSkuKeysInfo=r,o&&this.updateSkuSelect(s?n:R)}else{var d={};e.some((function(e,t){if(+e.restStock>0)return e.specifications.map((function(e,t){d[e.key]=e.optionId})),!0})),this.logicData.selectedSkuKeysInfo=d,o&&this.updateSkuSelect()}}},clickSkuSelect:function(e){var t=e.target.dataset,o=t.option,a=t.key,i=o.isDisabled,n=o.isSelected,r=o.optionId;i||(n?delete this.logicData.selectedSkuKeysInfo[a]:this.logicData.selectedSkuKeysInfo[a]=r,this.updateSkuSelect())},updateSkuSelect:function(e){this.updateSpecOptions(),this.updateSelectedText();var t=this.isSelectAll(),o=this.getSkuSelectedSpikeInfo(),a=o.spikeStock,i=o.spikePrice,n=this.getSkuSelectedGroupbookInfo(),r=n.groupbookPrice,s=n.groupbookRemainStock;if(t){var d=Math.min(this.logicData.defaultMax,this.data.selectedSkuInfo.restStock,s,a),u=this.properties.maxDiabledText;r&&this.properties.groupbookPromotion&&this.properties.groupbookPromotion.groupLimitNum&&d===s&&(u="拼团商品限购"+this.properties.groupbookPromotion.groupLimitNum+"件"),d=d<1?1:d,this.updatePriceStock(r||i||this.data.selectedSkuInfo.price,e||R,R,d,k,u)}else this.updatePriceStock(this.properties.defaultPrice,R,R,R,"","");this.setData({hasSkuSelected:t}),this.triggerOuterEvent(O)},getSkuSelectedSpikeInfo:function(){var e=void 0,t=void 0,o=void 0;return this.data.selectedSkuInfo.spikeInfoVO&&(t=this.data.selectedSkuInfo.spikeInfoVO.spikeLimitNum-(this.data.selectedSkuInfo.spikeInfoVO.userUsedNum||0),e=Math.min(this.data.selectedSkuInfo.spikeInfoVO.spikeRestStock,t),o=this.data.selectedSkuInfo.salePrice),{spikeStock:e||M,spikePrice:o}},getSkuSelectedGroupbookInfo:function(){if(this.properties.scene!==P.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY||!this.properties.groupbookPromotion)return{groupbookPrice:"",groupbookRemainStock:M};var e=(this.data.selectedSkuInfo.groupSkuInfo||{}).promotionPrice||"",t=M;return this.properties.groupbookPromotion&&(t=this.properties.groupbookPromotion.groupLimitNum-this.properties.groupbookPromotion.userUsedNum),{groupbookPrice:e,groupbookRemainStock:t||M}},updateSpecOptions:function(){var e=this;this.resetSpecOptions();var t=this.data,o=t.specOptionInfo,a=t.skuInfo,i=this.objectValues(this.logicData.selectedSkuKeysInfo),n=this.sortOptionIds(i.join(";"));this.setData({selectedSkuInfo:a[n]||{}}),Object.keys(o).map((function(t){var n=e.logicData.selectedSkuKeysInfo[t],r=o[t].values.map((function(e){return e.optionId})),s=i.concat();n&&s.splice(s.indexOf(n),1),s=s.join(";"),r.map((function(o){if(n&&o===n)e.handleOptionStatus(t,o,"isSelected",!0);else{var i=e.sortOptionIds(s,o);a[i]&&a[i].restStock||e.handleOptionStatus(t,o,"isDisabled",!0)}}))}))},resetSpecOptions:function(){var e=this.data.specOptionInfo;this.objectValues(e).map((function(e){e.values.map((function(e){e.isDisabled=!1,e.isSelected=!1}))})),this.setData({specOptionInfo:e,specOptionInfoList:this.formatSpecOptionInfo(e)})},handleOptionStatus:function(e,t,o,a){var i=this.data.specOptionInfo,n=Object.assign({},i);n[e].values.map((function(e){e.optionId===t&&(e[o]=a)})),this.setData({specOptionInfo:n,specOptionInfoList:this.formatSpecOptionInfo(n)})},updateSelectedText:function(){var e=this.data.selectedSkuInfo,t="";this.isPackage()&&(t+=this.logicData.selectedPackInfo.name),t&&(t+="，"),t+=e.optionValues&&e.optionValues.length?e.optionValues.join("，"):"";var o=this.properties.isSkuSelect;this.setData(Object.assign({selectedText:t},o?{selectedChangeText:t||"请选择商品规格"}:{}))},updatePriceStock:function(e,t,o,a,i,n){var r=this.properties.isBjhColumn?1:a,s=this.formatPriceFunc(e);this.setData({price:e,formatPrice:s,count:t,min:o,max:r,stockTip:i,customMaxDisabledText:n})},formatPriceFunc:function(e){if(e.includes("-")){var t=e.split("-"),o=T(t,2),a=o[0],i=o[1],n=a.split("."),r=T(n,2),s=r[0],d=void 0===s?"":s,u=r[1],c=void 0===u?"":u,p=i.split("."),l=T(p,2),g=l[0],h=void 0===g?"":g,m=l[1];return{prevPrice:a,nextPrice:i,start:d,startFix:c,concat:"-",end:h,endFix:void 0===m?"":m}}var f=e.split("."),v=T(f,2),b=v[0],w=void 0===b?"":b,y=v[1];return{prevPrice:e,start:w,startFix:void 0===y?"":y,concat:"",end:"",endFix:""}},isSelectAll:function(){var e=this.data.specOptionInfo;return Object.keys(e).length&&Object.keys(this.logicData.selectedSkuKeysInfo).length===Object.keys(e).length},triggerOuterEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.data,a=o.selectedSkuInfo,i=o.selectedText,n=o.count,r=this.isSelectAll(),s={isSelectAll:r,subScene:t.subScene,text:i,selectedList:this.logicData.selectedSkuKeysInfo};if(r){var d={salePrice:a.price,longPrice:a.longPrice,skuId:a.skuId,count:n};this.isPackage()&&Object.assign(d,{packageId:this.logicData.selectedPackInfo.id}),s.info=d}this.triggerEvent(e,s)},clickConfirm:(0,D.debounce)((function(e){"addressScene"===e&&this.properties.isDelivery||(this.isSelectAll()?this.triggerOuterEvent(E,{subScene:e&&e.target&&e.target.dataset.subScene||""}):this.showErrorTip())}),200),changeNumber:function(e){this.setData({count:e.val}),this.triggerOuterEvent(L)},showErrorTip:function(){n.showToast({icon:"none",duration:j,title:A})},setScrollViewHeight:function(){var e=this;this.properties.isHalfScreen?0===this.data.scrollAreaHeight&&t((function(){var t=n.createSelectorQuery().in(e);t.select(".custom-attributes-select").boundingClientRect(),t.select(".head-content").boundingClientRect(),t.select(".bottom-content").boundingClientRect(),t.exec((function(t){var o=e.properties.titleHeight;if(t&&t[0]&&t[0].height){var a=t[0].height-t[1].height-t[2].height-15-o;e.setData({scrollAreaHeight:"height: "+a+"px"})}}))}),200):t((function(){var t=n.createSelectorQuery().in(e);t.select(".custom-attributes-select-info").boundingClientRect(),t.exec((function(t){t&&t[0]&&t[0].height&&e.setData({scrollAreaHeight:"height: "+t[0].height+"px"})}))}),150)},clickReload:function(){this.logicData.isReload=!0,this.setData({selectedChangeText:"请选择商品规格"}),this.resetSpecOptions()},clickSpuComment:function(){var e=this.data,t=(e.specOptionInfo,e.selectedText),o={};o.optionId=this.data.selectedSkuInfo&&this.data.selectedSkuInfo.skuId||"",this.triggerEvent(N,{spuCommentItem:Object.assign({},o,{selectedText:t,isReload:this.logicData.isReload,isSelectAll:"请选择商品规格"!==this.data.selectedChangeText&&this.isSelectAll()})}),this.logicData.isReload=!1}}})})),window.define("296",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(4),x=e(51),P=e(59),D="onPackageChange",_="onAttrItemChange",k="onAttrNumberChange",A="onSubmitBtnClick",j="closeLayer",O="onCommentSpuChange";Component({properties:{isShow:{type:Boolean,value:!1},productData:{type:Object,value:{},observer:function(e){if(1===this.properties.productType){var t,o=e.skuList.map((function(e){return Object.assign({},e,{restStock:+e.restStock?"1":e.restStock})}));t=Object.assign({},e,{skuList:o}),this.setData({productFormatData:t})}}},selectSpecData:{type:Object,value:null},productType:{type:Number,value:x.PRODUCTTYPE.ORDINARY,observer:function(e){1===e&&this.setData({orderMax:1})}},btnText:{type:String,value:""},minDiabledText:{type:String,value:"最少买一件, 不能再减了"},maxDiabledText:{type:String,value:"宝贝已不能购买更多了"},containerStyle:{type:Object,value:{}},scene:{type:Number,value:1},groupbookPromotion:{type:Object,value:null},hasCar:{type:Boolean,value:!1},isCarlistSpu:{type:Boolean,value:!1},discountArr:{type:Array,value:[]},serviceText:{type:String,value:""},hasSkuDiscount:{type:Boolean,value:!1},isSkuSelect:{type:Boolean,value:!1,observer:function(e){e&&this.getTitleHeight()}},spuTitle:{type:String,value:""},name:{type:String,value:""},skuIdText:{type:String,value:""},isNft:{type:Boolean,value:!1},isBjhColumn:{type:Boolean,value:!1},spuId:{type:String,value:""},shopId:{type:String,value:""},couponList:{type:Array,value:[]},promotionList:{type:Array,value:[]},spuStatus:{type:Object,value:{}},bestShopCoupon:{type:Object,value:{}},bottomCouponClose:{type:Boolean,value:!1},isHalfScreen:{type:Boolean,value:!1},isDelivery:{type:Boolean,value:!1}},data:{productFormatData:{},popupCloseStyle:P.POPUP_CLOSE_STYLE,closeWrapStyle:P.CLOSE_WRAP_STYLE,titleHeight:0,skuInfo:[]},methods:{onClickAttrChange:function(e){this.setSelectedSku(e.detail),this.triggerOutEvent(_,Object.assign({},e.detail,{useScene:this.properties.scene}))},onPackageChange:function(e){this.setSelectedSku(e.detail),this.triggerOutEvent(D,Object.assign({},e.detail,{useScene:this.properties.scene}))},onClickNumChange:function(e){this.triggerOutEvent(k,Object.assign({},e.detail,{useScene:this.properties.scene}))},onClickConfirmBtnChange:function(e){var t=e.subScene||this.properties.scene;this.triggerOutEvent(A,Object.assign({},e.detail,{useScene:t}));var o=e.detail&&e.detail.info&&e.detail.info.skuId||"";(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_288":"ssv_333",userExtra:{useScene:t,scene:this.properties.scene,sku_id:o}})},onCommentSpuChange:function(e){var t=e.detail.spuCommentItem;this.triggerOutEvent(O,{spuCommentItem:t})},setSelectedSku:function(e){var t=e.info||{};(e||{}).isSelectAll&&this.setData({skuInfo:[{price:t.longPrice,num:t.count,skuId:t.skuId}]})},onClickCloseChange:function(){this.closeLayer()},triggerOutEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.triggerEvent(e,t)},closeLayer:function(){this.triggerOutEvent(j,{isOpen:!1})},changeCouponLayer:function(e){var t=e.detail;this.triggerEvent("changeCouponLayer",t)},setBottomCoupon:function(){this.triggerEvent("setBottomCoupon")},getTitleHeight:function(){var e=this;t((function(){var t=n.createSelectorQuery().in(e);t.select(".spu-title").boundingClientRect(),t.exec((function(t){if(t&&t[0]&&t[0].height){var o=t[0].height;e.setData({titleHeight:o})}}))}),150)}}})})),window.define("298",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4);function T(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Component({options:{addGlobalClass:!0},externalClasses:["card-border-style","card-wrapper-class"],properties:{__id__:{type:String},__name__:{type:String},__title__:{type:String},__type__:{type:String},groupMsg:{type:Object,value:{},observer:function(e){this.formatGroupMsg(e)}},countDownTime:{type:String,value:"0",observer:function(){this.formatTime()}},isFriend:{type:Boolean,value:!1}},data:{timeArr:["00","00","00"],headPortraits:[]},attached:function(){},methods:{formatTime:function(){var e=(0,I.timeStampConvert)(this.properties.countDownTime).slice(1);this.setData({timeArr:e})},formatGroupMsg:function(e){var t=e.headPortraits,o=e.haveJoin,a=e.canJoinPersons;if(o+a>2){var i=new Array(o+a-t.length).fill("https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/groupDefaultAvatar.png");this.setData({headPortraits:[].concat(T(t),T(i))})}else this.setData({headPortraits:t})},joinGroupClick:function(e){if(this.properties.countDownTime){var t=e.currentTarget.dataset.groupId,o=this.properties.isFriend;this.dispatch("groupLayerSwitch",{groupId:t,isFriend:o,isOpen:!0})}else this.triggerEvent("handleTimeOver")}},messages:{imgLoaded:function(){}}})})),window.define("300",(function(e,t,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(4),x=1,P={HAVE_STYLE:1,NO_STYLE:2};Component({options:{addGlobalClass:!0},externalClasses:["common-class"],properties:{start:{type:Number,value:0,observer:function(){this.run()}},end:{type:Number,value:0,observer:function(){this.run()}},timeStamp:{type:Number,value:0,observer:function(){this.run()}},inputStyle:{type:Number,value:x},outputStyle:{type:Number,value:P.HAVE_STYLE},theme:{type:Number,value:0},useCountDown:{type:Boolean,value:!0}},staticData:{timer:null},data:{day:0,timeArr:["00","00","00"],outputStyleMap:P},attached:function(){this.run()},detached:function(){this.staticData.timer&&clearInterval(this.staticData.timer)},methods:{run:function(){var e=this,t=this.properties.inputStyle===x?this.properties.end-this.properties.start:this.properties.timeStamp;t<=0||(this.setTimeNum(t),!this.staticData.timer&&this.properties.useCountDown&&(this.staticData.timer=o((function(){if((t-=1e3)<0)return e.staticData.timer&&clearInterval(e.staticData.timer),e.staticData.timer=null,void e.dispatch("onEnd");e.setTimeNum(t)}),1e3)))},setTimeNum:function(e){var t=(0,T.timeStampConvert)(e),o=t[0],a=t.slice(1);o>0&&this.dispatch("onDayExist"),this.setData({day:o>0?o:0,timeArr:a})}}})})),window.define("314",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(58),x=e(4);Component({options:{addGlobalClass:!0},properties:{addressDelivery:{type:Object,value:{},observer:function(e){this.setAddressText(e)}}},data:{addressText:""},methods:{setAddressText:function(e){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_651"});var t=e.provinceName,o=e.cityName,a=e.districtName,i=e.detailAddr,n=""+(t.substring(0,1)===o.substring(0,1)?"":t)+o+a+i,r=n.length>12?n.substring(0,12)+"...":n;this.setData({addressText:r})},jumpAddressList:function(){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_650"}),(0,T.jumpToInnerSwan)({path:I.PAGES.ADDRESS_LIST,params:{from:"productBottomBar"}})}}})})),window.define("316",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{coupons:{type:Array,value:[]},buttonPredictPrice:{type:String,value:""}}})})),window.define("321",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x,P,D=e(4),_=e(81),k=e(92),A=e(58),j=e(322),O=e(51),L=e(59),E=e(3),N=(P=E)&&P.__esModule?P:{default:P};e(323);function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var M=(R(T={},O.ATTR_LAYER_MAP.BUY_ATTR,"ssv_159"),R(T,O.ATTR_LAYER_MAP.BUY_CAR_ATTR,"ssv_160"),R(T,O.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY,"ssv_161"),R(T,O.ATTR_LAYER_MAP.GROUP_BOOK_SINGLE_BUY,"ssv_162"),T),B=(R(x={},O.ATTR_LAYER_MAP.BUY_ATTR,"ssv_328"),R(x,O.ATTR_LAYER_MAP.BUY_CAR_ATTR,"ssv_324"),R(x,O.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY,"ssv_325"),R(x,O.ATTR_LAYER_MAP.GROUP_BOOK_SINGLE_BUY,"ssv_326"),x);Component({options:{addGlobalClass:!0},data:{visitParamExt:{},carAmountOver:!1,showAmount:!1,ballStyle:{},ballInnerStyle:{},showBall:!1,isAdr:r().globalData.siteData.isAdr,attrLayerMap:O.ATTR_LAYER_MAP,groupActivityState:O.groupActivityState,groupBooking:O.beltTypeMap.groupbooking},properties:{carAmount:{type:Number,value:"",observer:function(e){e>=10?this.setData({carAmountOver:!0,showAmount:!0}):e>0&&e<10?this.setData({carAmountOver:!1,showAmount:!0}):this.setData({carAmountOver:!1,showAmount:!1})}},hasCar:{type:Boolean,value:!1},isBlockCar:{type:Boolean,value:!1},showConsult:{type:Boolean,value:!1},phone:{type:String,value:""},consult:{type:String,value:""},spuStatus:{type:Object,value:{}},spuId:{type:String,value:"",observer:function(){this.initConsultVisit()}},name:{type:String,value:""},coupons:{type:Array,value:[]},ucId:{type:String,value:""},shopUrl:{type:String,value:""},shopId:{type:Number,value:0,observer:function(){this.initConsultVisit()}},isNft:{type:Boolean,value:!1},notUseSDK:{type:Boolean,value:!1},spikeIsOnReady:{type:Boolean,value:!1},bjhInfo:{type:Object,value:null},predictPrice:{type:Number,value:0},isFrom:{type:String,value:""},isSingleSku:{type:Boolean,value:!1},bestShopCoupon:{type:Object,value:{}},bottomCouponClose:{type:Boolean,value:!1},isHalfScreen:{type:Boolean,value:!1},beltType:{type:Number,value:0},salePrice:{type:String,value:""},groupPrice:{type:String,value:""},buttonPredictPrice:{type:String,value:""},isDelivery:{type:Boolean,value:!1},addressDelivery:{type:Object,value:{}}},logicData:{generalParams:{id:"mip-bdxd-product-bottom-bar",name:"mip-bdxd-product-bottom-bar",type:"mip-bdxd-product-bottom-bar",title:"商详底部bar"}},lifetimes:{created:function(){N.default.clearEvents(["onBallFall"])},attached:function(){var e=this;N.default.addHandler("onBallFall",(function(){return e.onBallFall()}))},detached:function(){N.default.clearEvents(["onBallFall"])}},messages:{onLogin:function(e){var t=this,o=(e.target||{dataset:{}}).dataset,a=o.loginScene,i=o.scene;n.canIUse("button.open-type.login")?e&&e.value&&e.value.errMsg===O.LOGIN_SUCCESS_TEXT&&(0,D.isExistBduss)().then((function(){t.dispatch("productDetailLoginSuccess"),"singleSku"===a&&t.onBuyClick(e,i)})):(0,k.goToLogin)((function(){t.dispatch("productDetailLoginSuccess"),"singleSku"===a?t.onBuyClick(e,i):N.default.trigger("onBcpUserLogin")}))}},methods:{resetFallBall:function(){this.setData({showBall:!1,ballStyle:{transform:"translateX(0)"},ballInnerStyle:{transform:"translateY(0)"}})},onShopClick:function(){(0,D.bdxdAddLog)(this,{compTargetId:"ssv_284",userExtra:{spu_id:this.properties.spuId,comp_material_id:this.properties.spuId}}),(0,_.generalJump)({url:this.properties.shopUrl})},onConsultClick:function(e){var t=this;if((0,D.bdxdAddLog)(this,{compTargetId:"ssv_285",actionId:"site_bar_click",userExtra:{spu_id:this.properties.spuId,target:this.properties.consult,comp_material_id:this.properties.spuId}}),this.properties.notUseSDK){var o=L.JD_KEFU_INFO.find((function(e){return+e.shopId==+t.properties.shopId}));(0,A.jumpToInnerSwan)({path:O.PAGES.COMMUNICATE_WEB_VIEW,params:{url:o.kefuUrlInSpu+"?productId="+this.properties.spuId+"&shopId="+this.properties.shopId+"&shopName="+o.shopName+"&userid="+this.properties.ucId+"&productLineAppid=5"}})}else r().globalData.siteData.isClickedImpl=!0},onPhoneClick:function(e){(0,D.bdxdAddLog)(this,{compTargetId:"ssv_286",actionId:"site_bar_click",userExtra:{spu_id:this.properties.spuId,target:this.properties.phone,comp_material_id:this.properties.spuId}});var t=this.properties.phone;t?n.makePhoneCall({phoneNumber:t,fail:function(){n.showModal({title:"拨打失败",content:"商家电话号码有误",showCancel:!1})}}):n.showToast({title:"商家电话号码有误"})},onBuyClick:function(e,t){var o=this.properties,a=o.spuStatus,i=o.spikeIsOnReady,n=o.spuId,s=o.isNft,d=o.bjhInfo,u=o.isSingleSku,c=o.isDelivery;if(a&&1===a.state&&a.restStock>=1&&!(a&&1===a.state&&s&&i)){var p=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.scene||t;if(!c||p===this.data.attrLayerMap.BUY_CAR_ATTR){var l=r().globalData.siteData.ocpcInfo||{},g=l.bdVid,h=void 0===g?"":g,m=l.fid,f=h||(void 0===m?"":m);if(!("baiduhaokan"===r().globalData.siteData.host)&&!f&&d&&d.dxdClassMode===O.COLUMNTYPE.COLUMN&&d.bjhColumnId)return d.source="duxd_syd_column",void(0,j.jumpToColumn)(d);u&&p===this.data.attrLayerMap.BUY_ATTR?this.triggerEvent("orderConfirmHandler"):this.triggerEvent("togglespeclayer",{isOpen:!0,scene:p,isResetGroup:!0}),(0,D.bdxdAddLog)(this,{compTargetId:(0,D.isInProductPage)()?M[p]:B[p],actionId:"site_bar_click",userExtra:{spu_id:n,comp_material_id:n}})}}},onCarListClick:function(e){(0,D.bdxdAddLog)(this,{compTargetId:"ssv_287",userExtra:{}}),(0,A.jumpToInnerSwan)({path:O.PAGES.SHOP_CART_DETAIL})},initConsultVisit:function(){this.setData({visitParamExt:{init_cards:[{service:10,value:{clientType:"smart-app",spuId:this.properties.spuId,appId:r().globalData.siteData.appId,shopId:this.properties.shopId,url:(0,D.getCurUrl)()}}],init_msg:{msg:"商品："+this.properties.name+" 商品详情页咨询按钮",type:3}}})},onBallFall:function(){var e=this;this.setData({showBall:!0}),t((function(){e.setData({ballStyle:{transform:"translateX(-240rpx)"},ballInnerStyle:{transform:"translateY(200rpx)"}}),t((function(){e.resetFallBall()}),550)}),200)},setBottomCoupon:function(){this.triggerEvent("setBottomCoupon")}}})})),window.define("325",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x=e(59);Component({properties:{spuId:{type:String,required:!0},spuStatus:{type:Object,value:{}},shopRedPacket:{type:Object,value:null},platformRedPacket:{type:Object,value:null}},observers:{"shopRedPacket, platformRedPacket":function(){this.handleRedPacket()}},data:{hasSale:!1,salePrice:0,isSalePriceOverFlow:!1,redPacketInfo:null,hasRedPacket:!1,couponFuncTypeMap:x.COUPON_FUNC_TYPE_MAP,couponIconMap:T.COUPON_ICON_MAP},logicData:{generalParams:{id:"mip-bdxd-sale-activity-bar",name:"mip-bdxd-sale-activity-bar",type:"mip-bdxd-sale-activity-bar",title:"立减活动bar"}},methods:{handleRedPacket:function(){this.clearData();var e=this.properties,t=e.shopRedPacket,o=e.platformRedPacket;o&&o.batchId?this.handlePlatformRedPacket(o):this.handleShopRedPacket(t)},useNow:function(){this.properties.spuStatus&&1===this.properties.spuStatus.state&&this.properties.spuStatus.restStock>=1&&(this.triggerEvent("usenowclick",{isOpen:!0,scene:T.ATTR_LAYER_MAP.NORMAL}),(0,I.bdxdAddLog)(this,{compTargetId:"ssv_278",userExtra:{spu_id:this.properties.spuId,comp_material_id:this.properties.spuId}}))},handlePlatformRedPacket:function(e){this.setData({redPacketInfo:e,hasRedPacket:!0})},handleShopRedPacket:function(e){this.setData({hasSale:e.switcher||!1,salePrice:Math.floor(+e.amount)||0,isSalePriceOverFlow:Math.floor(+e.amount)>999||!1})},clearData:function(){this.setData({hasSale:!1,salePrice:0,redPacketInfo:null,hasRedPacket:!1})}}})})),window.define("327",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(4),x=e(51);Component({options:{addGlobalClass:!0},properties:{collectStatus:{type:Number},shopId:{type:String,value:""},isLogin:{type:Boolean,value:null}},logicData:{generalParams:{id:"mip-bdxd-product-collection",name:"mip-bdxd-product-collection",type:"mip-bdxd-product-collection",title:"商详收藏"}},messages:{onLogin:function(e){var t=this;i.canIUse("button.open-type.login")?e&&e.value&&e.value.errMsg===x.LOGIN_SUCCESS_TEXT&&(0,T.isExistBduss)().then((function(){t.onStoresClick(),t.dispatch("productDetailLoginSuccess",{from:"collect"})})):(0,I.goToLogin)((function(){t.onStoresClick(),t.dispatch("productDetailLoginSuccess",{from:"collect"})}))}},methods:{handleStoresClick:function(e){var t=this,o=n().globalData.siteData.ocpcInfo,a=o.fid,r=void 0===a?"":a,s=o.bdVid,d=void 0===s?"":s,u=n().globalData.siteData.channelInfo.ch,c=void 0===u?"":u,p=x.API.getCollectInfo,l={shopId:this.properties.shopId,appId:n().globalData.siteData.appId||"",spuId:(0,T.parsePageQuery)().spuId,extVo:{fid:r,bdVid:d,ch:c}},g=this.properties.collectStatus?0:1;(0,I.request)({url:p,data:Object.assign({},l,{operateType:g})}).then((function(e){(e.data||{}).operateResult&&(t.dispatch("collectChange",g?1:0),i.showToast({title:g?"商品收藏成功":"取消商品收藏成功",icon:"none"}),(0,T.bdxdAddLog)(t,{compTargetId:"ssv_279",userExtra:{operateType:g,spu_id:(0,T.parsePageQuery)().spuId,comp_material_id:(0,T.parsePageQuery)().spuId}}))})).catch((function(e){console.log(e.statusInfo||"获取收藏状态失败")}))},onStoresClick:function(){var e=this;(0,T.isExistBduss)().then((function(){e.handleStoresClick()}))}}})})),window.define("329",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(51),x=e(4);Component({options:{addGlobalClass:!0},properties:{beltInfo:{type:Object,value:null,observer:function(e){e&&this.handleBeltInfo(e)}},saleCount:{type:Number,value:0}},data:{isGroupbook:!1,groupPrice:"",groupPriceFloat:"",hasDay:!1,start:0,end:0,isGroupbooking:T.beltTypeMap.groupbooking,totalMember:0},messages:{onEnd:function(){this.setData({beltType:0}),this.triggerEvent("refreshMarketingInfo")},onDayExist:function(){this.setData("hasDay",!0)}},methods:{handleBeltInfo:function(e){var t=e.beltType,o=void 0===t?0:t,a=e.totalMember,i=e.beltSalePrice,n=e.beltPredictPrice,r=e.predictText,s=void 0===r?"":r,d=e.startTime,u=void 0===d?"":d,c=e.endTime,p=void 0===c?"":c,l=e.currentSystemTime,g=void 0===l?"":l,h=T.GROUPBOOK_MAP.includes(o),m=(0,x.formatPrice)(String(i)),f=I(m,2),v=f[0],b=void 0===v?"":v,w=f[1],y=void 0===w?"":w,C=(0,x.formatPrice)(String(n)),S=I(C,3),P=S[0],D=void 0===P?"":P,_=S[1],k=void 0===_?"":_,A=S[2],j=function(e){return+new Date(e.replace(/-/g,"/"))},O=j(g),L=j(o===this.data.isGroupbooking?p:u);this.setData({beltType:o,isGroupbook:h,totalMember:a,groupPrice:b,groupPriceFloat:y,predictPrice:n?D:"",predictPriceFloat:k,ispredictPriceRange:A,predictText:s,start:O,end:L})}}})})),window.define("331",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=e(51),P=e(4);function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _=(D(I={},x.beltTypeMap.atmospherePre,"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/activity618yaodaiPre.png"),D(I,x.beltTypeMap.atmosphereing,"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/activity618yaodaiIn.png"),I);Component({options:{addGlobalClass:!0},properties:{beltInfo:{type:Object,value:null,observer:function(e){e&&this.handleBeltInfo(e)}},saleCount:{type:String,value:"0"}},data:{status:0,beltType:0,isAtmosphere:!1,isSeckill:!1,beltSalePriceInteger:0,beltSalePriceFloat:0,beltPredictPriceInteger:0,beltPredictPriceFloat:0,isRangeBeltPrice:!1,isRangeBeltPredictPrice:!1,beltSalePrice:0,beltPredictPrice:0,predictText:"",hasDay:!1,start:0,end:0,percent:"0%",seckillPre:x.beltTypeMap.seckillPre,seckilling:x.beltTypeMap.seckilling,beltImage:"",atmosphereing:x.beltTypeMap.atmosphereing,isAtmosphereEasy:!1},methods:{handleBeltInfo:function(e){var t=this.data,o=t.atmosphereing,a=t.seckilling,i=e.beltType,n=void 0===i?0:i,r=e.beltImage,s=e.beltSalePrice,d=e.beltPredictPrice,u=void 0===d?"":d,c=e.predictText,p=e.currentSystemTime,l=void 0===p?"":p,g=e.startTime,h=void 0===g?"":g,m=e.endTime,f=void 0===m?"":m,v=e.stock,b=void 0===v?0:v,w=e.restStock,y=void 0===w?0:w,C=e.preheatStartTime,S=x.ATMOSPHERE_MAP.includes(n),I=n===x.beltTypeMap.atmosphereEasy,D=x.SECKILL_MAP.includes(n),k={"background-image":"url("+(r||_[n])+")"},A=(0,P.formatPrice)(String(s)),j=T(A,2),O=j[0],L=void 0===O?"":O,E=j[1],N=void 0===E?"":E,R=(0,P.formatPrice)(String(u)),M=T(R,2),B=M[0],F=void 0===B?"":B,U=M[1],G=void 0===U?"":U,H=s.includes("-"),q=u.includes("-"),z=function(e){return+new Date(e.replace(/-/g,"/"))},V=z(C||"")?1:2,Y=z(n===o||n===a?f:h),W=b?Math.floor((b-y)/b*100)+"%":"0%";this.setData({status:V,isAtmosphere:S,isSeckill:D,beltType:n,atmosphereConfig:k,beltSalePriceInteger:L,beltSalePriceFloat:N,beltPredictPriceInteger:F,beltPredictPriceFloat:G,isRangeBeltPrice:H,isRangeBeltPredictPrice:q,beltSalePrice:H?s.split("-")[0]:s,beltPredictPrice:q?u.split("-")[0]:u,predictText:c,start:z(l),end:Y,percent:W,beltImage:r,isAtmosphereEasy:I})}},messages:{onEnd:function(){var e=this.data.beltType,t=!1;e.beltType===e.seckillPre&&(t=!0),this.setData({beltType:0}),this.triggerEvent("refreshMarketingInfo",{showSeckill:t})},onDayExist:function(){this.setData("hasDay",!0)}}})})),window.define("333",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(51),x=e(92),P=e(4),D=[T.beltTypeMap.seckilling,T.beltTypeMap.groupbooking,T.beltTypeMap.atmosphereing,T.beltTypeMap.atmosphereEasy],_="dark",k="weak";Component({options:{addGlobalClass:!0},properties:{spuId:{type:String,value:""},spuStatus:{type:Object,value:{}},name:{type:String,value:""},isOverseas:{type:Number,value:0},qualityTag:{type:Number,value:0},isBrandProduct:{type:Boolean,value:!1},saleCount:{type:String,value:"0"},showCollect:{type:Boolean,value:!1},collectStatus:{type:Number,value:0},shopId:{type:String,value:"",observer:function(e){e&&this.getMarketingInfo()}},showTopBar:{type:Boolean,value:!0},labels:{type:Array,value:[]},supportPayType:{type:String,value:""},isLogin:{type:Boolean,observer:function(e,t){!0===e&&!1===t&&this.getMarketingInfo()}},productPriceMsg:{type:Object,value:{}},secondShow:{type:Boolean,value:!1,observer:function(e){e&&this.getMarketingInfo()}}},data:{hasCheckActivityStatus:!1,salePriceFormat:{},shopRedPacket:null,platformRedPacket:null,beltType:T.beltTypeMap.noBelt,coupons:[],promotionList:[],beltInfoVo:{},iconImage:"",isAtmosphere:!1,isSeckill:!1,isGroupbook:!1,isGroupbooking:!1,isBelting:!0,couponTakenStyle:k,isAtmosphereEasy:!1},logicData:{priceRequestFlag:!0},lifetimes:{attached:function(){var e=(0,P.parsePageQuery)().spuId;this.setData({spuId:e}),this.getMarketingInfo()}},methods:{getMarketingInfo:function(e){var t=this;if(this.properties.shopId&&this.logicData.priceRequestFlag){var o=!1;e&&(o=e.detail.showSeckill),this.logicData.priceRequestFlag=!1;var a=[this.getSpuPriceInfo(),Promise.resolve({})];Promise.all(a).then((function(e){var a=I(e,2),i=a[0],n=void 0===i?{}:i,r=(a[1],n.data||{}),s=r.redPackageComp||{},d="{}"!==JSON.stringify(s),u=d?s:null,c=r.reducePromotionComp,p=void 0===c?{}:c,l=p.switcher?p:null,g=r.beltInfoVo,h=void 0===g?{}:g,m=r.coupons,f=void 0===m?[]:m,v=r.promotions,b=void 0===v?[]:v,w=r.salePrice,y=r.groupPrice,C=r.predictPrice,S=r.buttonPredictPrice,x=r.skuPriceList,P=void 0===x?[]:x,_=h.beltType||T.beltTypeMap.noBelt,k=h.iconImage||"";t.handleGroupPromotion(h),t.handlePrice(r),t.setCouponTakeStyle(r,_,f);var A=f,j=b.filter((function(e){return e.promotionBizType===T.promotionBizTypeMap.platform&&T.ACTIVE_PROMOTION_TYPES.includes(e.promotionType)||e.promotionBizType===T.promotionBizTypeMap.business&&T.ACTIVE_PROMOTION_TYPES.includes(e.promotionType)&&"-1"===e.shopId})),O=t.setBestShopCoupon(A,j);t.triggerEvent("setPriceInfo",{beltType:_,salePrice:w,groupPrice:y,coupons:f,predictPrice:C,buttonPredictPrice:S,platformRedPacket:u,promotionList:j,bestShopCoupon:O,skuPriceList:P,showSeckill:o}),t.setData({beltType:_,coupons:f,promotionList:j,shopRedPacket:l,platformRedPacket:u,beltInfoVo:h,iconImage:k,isAtmosphere:T.ATMOSPHERE_MAP.includes(_),isSeckill:T.SECKILL_MAP.includes(_),isGroupbook:T.GROUPBOOK_MAP.includes(_),isGroupbooking:+T.beltTypeMap.groupbooking==+_,isBelting:D.includes(_),isAtmosphereEasy:_===T.beltTypeMap.atmosphereEasy}),d&&t.triggerEvent("setShopCartHide"),t.sendPromotionLog({coupons:f,promotions:b,beltInfoVo:h})})).catch((function(){t.handleFailRes()})).finally((function(){t.logicData.priceRequestFlag=!0,t.setData({hasCheckActivityStatus:!0},(function(){t.dispatch("responseDone")}))}))}},getSpuPriceInfo:function(){var e=this;return new Promise((function(t,o){(0,x.request)({url:T.API.getSpuPriceInfo,data:{sourceScene:2,promotionTypes:[T.promotionTypeMap.orderDown,T.promotionTypeMap.productDown,T.promotionTypeMap.limitSeckill,T.promotionTypeMap.fullPromotion,T.promotionTypeMap.groupPromotion,T.promotionTypeMap.mPriceN,T.promotionTypeMap.multiplePromotion],shopId:e.properties.shopId,appId:n().globalData.siteData.appId,spuId:e.data.spuId,supportPayType:e.properties.supportPayType,cpsInfo:n().globalData.siteData.channelInfo}}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},getPlatformRedPackets:function(){var e=this;return new Promise((function(t,o){var a={spuId:e.data.spuId,cpsInfo:n().globalData.siteData.channelInfo},i=T.API.getRedPacket;(0,x.request)({url:i,data:a}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},handleFailRes:function(){var e=this.properties.productPriceMsg,t=(void 0===e?{}:e).salePrice,o=void 0===t?"":t,a=(0,P.formatPrice)(String(o)||""),i=I(a,2),n=i[0],r=i[1];this.setData({salePrice:o,salePriceFormat:{salePriceInteger:n,salePriceFloat:r,isSalePriceRange:o.includes("-")}})},handleGroupPromotion:function(e){var t=e.beltType,o=void 0===t?0:t,a={groupLimitNum:e.groupLimitNum,userUsedNum:e.userUsedNum,promotionId:e.promotionId,totalMember:e.totalMember};o===T.beltTypeMap.groupbooking&&this.triggerEvent("setGroupbookPromotion",a)},handlePrice:function(e){var t=e.salePrice,o=void 0===t?"":t,a=e.predictPrice,i=void 0===a?"":a,n=e.predictText,r=void 0===n?"":n,s=(0,P.formatPrice)(String(o)||""),d=I(s,2),u=d[0],c=d[1],p=(0,P.formatPrice)(String(i)||""),l=I(p,2),g=l[0],h=l[1];this.setData({salePrice:o,salePriceFormat:{salePriceInteger:u,salePriceFloat:c,isSalePriceRange:o.includes("-")},predictPrice:i,predictPriceFormat:{predictPriceInteger:g,predictPriceFloat:h,ispredictPriceRange:i.includes("-")},predictText:r})},setCouponTakeStyle:function(e,t,o){var a=e.predictPrice,i=void 0===a?"":a,n=k;n=o.length?D.includes(t)?_:i?k:_:k,this.setData({couponTakeStyle:n})},setBestShopCoupon:function(e,t){var o=e.find((function(e){var t=e.couponBizType,o=e.remainingTime,a=void 0===o?0:o;return t===T.COUPON_BIZ_TYPE.SHOP&&a>0}))||{};return o=t.length&&t[0].promotionType===T.promotionTypeMap.mPriceN?t:o},changeCouponLayer:function(e){var t=e.detail;this.triggerEvent("changeCouponLayer",t)},toggleSpecLayer:function(e){e&&this.triggerEvent("usenowclick",e)},sendPromotionLog:function(e){var t=e.coupons,o=void 0===t?[]:t,a=e.promotions,i=void 0===a?[]:a,n=e.beltInfoVo,r=void 0===n?{}:n,s=o.map((function(e){return[e.couponBizType,e.couponType,e.rangeType].join("-")})),d=i.map((function(e){return[e.promotionBizType,e.promotionType,e.scopeType].join("-")})),u={beltType:r.beltType,groupState:r.groupState,startTime:r.startTime,endTime:r.endTime,currentSystemTime:r.currentSystemTime};(0,P.bdxdAddLog)(this,{compTargetId:"dxdjx_promotion_log",userExtra:{from:"spuOneApp",couponsStr:s.join(","),promotionsStr:d.join(","),beltInfoVo:u}})}}})})),window.define("342",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.productDetailBehavior=void 0;var T=e(4),x=E(e(3)),P=e(92),D=e(51),_=e(59),k=e(93),A=E(e(126)),j=e(81),O=(E(e(49)),e(58)),L=E(e(343));function E(e){return e&&e.__esModule?e:{default:e}}var N=(r().globalData.siteData||{}).appId,R=45,M=46,B=47,F=r().globalData.siteData.ocpcInfo&&(r().globalData.siteData.ocpcInfo.fid||r().globalData.siteData.ocpcInfo.bd_vid);a.productDetailBehavior=Behavior({data:{productPriceMsg:{originPrice:"",salePrice:""},spuId:"",isCommentListsExpHit:!1,hasGetSuccessGoodsData:!1,labels:[],hasCar:!1,productType:D.PRODUCTTYPE.ORDINARY,spuStatus:{restStock:1},saleInfo:{},shopId:"",ucId:"",isLogin:null,shopDetail:{},useFuncs:{collect:!0,shop:!0},spuInfo:{},productData:{},hasGetGoodsData:!1,showTopBar:!0,isBlockCar:!1,carAmount:0,groupbookPromotion:null,countDownMap:{},recommendGroups:[],groupFriend:null,scene:D.ATTR_LAYER_MAP.BUY_ATTR,specLayerIsOpen:!1,currentGroupIndex:0,currentGroupId:"",specSelectStatus:{},selectSpecData:null,bannerAtmosphere:{},isSkuSelect:!1,isBjhColumn:!1,finalPrice:-1,isBrandShop:!1,isGroupbooking:D.beltTypeMap.groupbooking},lifetimes:{attached:function(){console.warn("立即购买、优惠券、规格弹窗逻辑在评价列表有复用，修改逻辑，请check是否有影响!!!")}},methods:{getServiceText:function(e){if(0===e.length)return"";e=e.slice(0,3);var t,o=[],a=[];return e.map((function(e){a.push(e.id),o.push(e.value)})),t=o.join(" · "),this.logicData.protectIds=a.join(","),t},getShopDetail:function(){var e=this,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=D.API.queryBriefShopDetail,i={appId:N,shopId:this.data.shopId,scene:2};return(0,P.request)({url:a,data:i}).then((function(a){var i=a.data||{};(0,T.bdxdAddLog)(e,{compTargetId:"ssv_615",userExtra:{shopServiceLevel:i.shopDsr&&i.shopDsr.shopServiceLevel}});var n=!!~(i.shopLabels||[]).findIndex((function(e){return 21==+e.id}));return n&&(0,T.bdxdAddLog)(e,{compTargetId:"ssv_646"}),e.setData({shopDetail:i,isBrandShop:n}),(0,T.isInProductPage)()&&t((function(){e.logicData.hasLogin&&e.trackAdd()}),1e3),i.showEvaluateInfo&&o&&e.getCommnetList&&e.getCommnetList(),a})).catch((function(t){t&&t.status===D.RESPONSE_STATUS.DOWN_GRADE&&e.setData({"useFuncs.shop":!1})}))},setSpikePromotion:function(e){var t=this,o=!!e,a=this.data.spikeInfoVO||{},i=a.spikeLimitNum,n=void 0===i?0:i,r=a.userUsedNum,s=n-(void 0===r?0:r),d=this.data.spuStatus;this.setData({spuStatus:Object.assign({},d,{restStock:o&&s||!+d.restStockNoSpike?d.restStock:d.restStockNoSpike})},(function(){t.getCartCountBefore()}))},getCartCountBefore:function(){var e=this.data,t=e.hasCar,o=e.isBlockCar;t&&!o&&this.getCartCount()},getCartCount:function(){var e=this,t=D.API.getCartCount;(0,P.request)({url:t}).then((function(t){var o=t&&t.data||{};e.setData({carAmount:+o.totalNum})}))},setGroupbookPromotion:function(e){var t=e.detail;t&&(!t.groupLimitNum||t.groupLimitNum-t.userUsedNum>0)&&Number(this.data.spuStatus.totalRestStock)&&D.spuStateMap.up===this.data.spuStatus.state&&this.getSpuGroup(),this.setData({groupbookPromotion:t})},getSpuGroup:function(){var e=this,t=D.API.getSpuGroup,o=(0,T.parsePageQuery)().groupId,a=void 0===o?"":o,i={spuId:this.data.spuId,appId:N,shopId:this.data.shopId,groupId:a};(0,P.request)({url:t,data:i}).then((function(t){var o=t&&t.data||{},a=o.recommendGroups||[],i=o.inviteGroup||null;a.forEach((function(t){e.addCountDown(t.groupId,t.countDownTime)})),i&&e.addCountDown(i.groupId,i.countDownTime),e.setData({recommendGroups:a,groupFriend:i}),Object.keys(e.data.countDownMap).length&&e.initCountDown&&e.initCountDown()}))},addCountDown:function(e,t){var o=Object.assign({},this.data.countDownMap);o[e]=t,this.setData({countDownMap:o})},toggleSpecLayer:function(e){var t=this,o=Boolean(e.isOpen||e.detail&&e.detail.isOpen||e.currentTarget&&e.currentTarget.dataset.isOpen),a=e.scene||e.detail&&e.detail.scene||e.currentTarget&&e.currentTarget.dataset.scene||D.ATTR_LAYER_MAP.BUY_ATTR,i=e.detail&&e.detail.isResetGroup||!1,n={specLayerIsOpen:o,scene:a},r=this.data,s=r.spuId,d=void 0===s?"":s,u=r.shopId,c=void 0===u?"":u,p=r.spuInfo;r.isSkuSelect&&(n.isSkuSelect=!1),o&&(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_289":"ssv_334",userExtra:{serviceTextShow:p&&p.serviceText?1:0,spu_id:this.properties.spuId}}),e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.isSpu&&(0,T.bdxdAddLog)(this,{compTargetId:"ssv_295",actionId:"site_bar_click",userExtra:{spuId:d,shopId:c,comp_material_id:d}}),i&&(n.currentGroupId="",n.currentGroupIndex=0),this.changeNavBarColor(o),o?(0,k.delayFunc)((function(){t.setData(n)})):this.setData(n)},changeCouponLayer:function(e){this.changeNavBarColor(e.detail)},getSpecSelectStatus:function(){var e=this;n.getStorage({key:"specSelectStatus",success:function(t){var o=t&&t.data;o&&(e.setData({selectSpecData:JSON.parse(o)}),n.removeStorage({key:"specSelectStatus"}))}})},onClickAttrChange:function(e){var t=this.data.productData.packages,o=this.data.productData.skuList||[];t&&t.length&&t.forEach((function(e){e.skuList&&e.skuList.length&&o.push.apply(o,function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(e.skuList))}));var a=(o.find((function(t){return e.info&&e.info.skuId===t.skuId}))||{}).Discount||[];this.setData({discountArr:a}),this.updateSelectedData(e)},updateSelectedData:function(e){var t=e.detail;this.setData({specSelectStatus:t||{}})},onClickNumChange:function(e){this.updateSelectedData(e)},onClickConfirmBtnChange:function(e){var t=this;n.canIUse("onError")&&n.onError((function(e){(0,T.addErrorLog)(e,{compTargetId:"order-confirm-err",name:"商品详情-立即购买-jsError"},[D.logTypeMap.error])}));var o=e.useScene,a=this.data.spuStatus,i=a&&1===a.state&&a.restStock>=1;return this.updateSelectedData(e),!!i&&((this.data.specSelectStatus||{}).isSelectAll?o===D.ATTR_LAYER_MAP.BUY_CAR_ATTR?this.orderConfirmHandler(e):void(0,T.isExistBduss)().then((function(){t.orderConfirmHandler(e)})):void 0)},autoTakeCoupon:function(e){var t=e.couponInfo,o=e.antiCheatVo,a=e.scene,i=e.skus,n=void 0===i?[]:i;return new Promise((function(e,i){var s=r().globalData.pageData[t.shopId],d="",u="";(0,T.parsePageQuery)().directCouponId||(0,T.parsePageQuery)().directTaskId?(d=(0,T.parsePageQuery)().directCouponId||"",u=(0,T.parsePageQuery)().directTaskId||""):s&&(s.directCouponId||s.directTaskId)&&(d=s.directCouponId||"",u=s.directTaskId||"");var c={skus:n,scene:a};o&&(c.antiCheatVo=o),(d||u)&&(c.directCouponInfo={directCouponId:d,directTaskId:u}),(0,P.request)({url:D.API.couponAutoTake,data:c}).then((function(t){e(t)})).catch((function(e){i(e),(0,T.addErrorLog)(e,{url:D.API.couponAutoTake,param:c,errType:"api_req_error",compTargetId:"api-take-coupon-err",name:"商品详情-自动领券"},[D.logTypeMap.apiError])}))}))},groupOrderCheck:function(){var e=this;return this.logicData.isOrderCheckLoaded?(this.logicData.isOrderCheckLoaded=!1,new Promise((function(o){var a=e.data,i=a.specSelectStatus,n=void 0===i?{}:i,r=a.groupbookPromotion,s=void 0===r?{}:r,d=a.currentGroupId,u={promotionId:s.promotionId,groupType:D.groupTypeMap.launch};d&&(u.groupId=d,u.groupType=D.groupTypeMap.partake),(0,P.request)({url:D.API.caculateCheck,data:{skus:[Object.assign({spuId:e.properties.spuId,shopId:e.data.shopId},n.info)],groupPromotionInfo:u}}).then((function(){e.logicData.isOrderCheckLoaded=!0,o({groupPromotionInfo:Object.assign({},u)})})).catch((function(o){e.logicData.isOrderCheckLoaded=!0;var a=~[3508,3509,3510,3514].indexOf(o&&o.status);(0,T.normalToast)({title:o.statusInfo||"活动校验失败",success:function(){a&&t((function(){(0,T.refreshCurPage)({isOpenSpec:"0"})}),D.duration)}})}))}))):Promise.reject(new Error)},autoTakeAndJump:function(e){var t=this,o=this.data.specSelectStatus,a=this.data,i=a.discountArr,n=a.shopId,r={batchId:i.map((function(e){return e.batchId})).join(","),shopId:Number(n)},s=this.data.coupons,d=(void 0===s?[]:s).length;A.default.hgzAs(D.antifraudConfig.userGrowth).then((function(a){if(!t.logicData.isAutoTakeCoupon){t.logicData.isAutoTakeCoupon=!0;var i="";t.autoTakeCoupon({couponInfo:d?r:{},antiCheatVo:a,scene:d?13:10,skus:[Object.assign({spuId:t.properties.spuId,shopId:t.data.shopId},o.info)]}).then((function(e){var t=((e.data||{}).promptWord||{}).promptContext||"领取成功";i=d?t:"已为您成功领取优惠券"})).catch((function(e){e&&e.statusCode===D.RESPONSE_STATUS.LIMIT&&(i=e.statusInfo)})).finally((function(){t.setData({specLayerIsOpen:!1}),!T.isInProductPage&&t.changeNavBarColor(!1),"function"==typeof e&&e(i)}))}}))},orderConfirmHandler:function(e){var t=this;try{var o=e.useScene,a=this.data.specSelectStatus;if(o===D.ATTR_LAYER_MAP.BUY_CAR_ATTR){(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_164":"ssv_329",actionId:"site_bar_click",userExtra:{spu_id:this.properties.spuId}});var i=Object.assign({url:(0,T.parsePageQuery)().url},r().globalData.siteData.ocpcInfo);(r().globalData.siteData.bdVidShopId!==this.data.shopId||(0,L.default)())&&(i.bdVid="",i.fid="");var s=(0,T.objToUrl)(i),d="baiduboxapp://swan/"+r().globalData.siteData.appKey+"/wjz/bdxd/product-detail/product-detail?"+s,u=D.API.addCart,c=Object.assign({},a.info,{spuId:this.properties.spuId,shopId:this.data.shopId,amount:a.info.count,extData:JSON.stringify({cpsInfo:r().globalData.siteData.channelInfo,ocpcInfo:{pageUrl:d,pageUrlParams:s,bdVid:i.bdVid}})});if(this.logicData.isAddingCart)return;return this.logicData.isAddingCart=!0,void(0,P.request)({url:u,data:c}).then((function(e){t.logicData.isAddingCart=!1,(e&&e.data||"")&&(n.showToast({icon:"none",title:"添加成功！在购物车等您~"}),t.setData({specLayerIsOpen:!1}),x.default.trigger("onBallFall"),t.getCartCount(),(0,T.bdxdAddLog)(t,{compTargetId:"ssv_296",actionId:"site_bar_click",userExtra:Object.assign({spu_id:t.properties.spuId,comp_material_id:t.properties.spuId},a.info)}))})).catch((function(e){t.logicData.isAddingCart=!1,n.showToast({title:e.statusInfo,icon:"none"})}))}var p=[Object.assign({},a.info,{spuId:this.properties.spuId,cpsInfo:r().globalData.siteData.channelInfo})],l=this.data.coupons,g=(void 0===l?[]:l).length;if(o===D.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY)return this.groupOrderCheck().then((function(e){t.setData({specLayerIsOpen:!1}),!(0,T.isInProductPage)()&&t.changeNavBarColor(!1);var o=e.groupPromotionInfo||{};g?t.autoTakeAndJump((function(e){(0,O.jumpToInnerSwan)({path:D.PAGES.ORDER_SUBMIT,params:{skus:JSON.stringify(p),url:(0,T.parsePageQuery)().url,groupType:o.groupType,groupId:o.groupId||"",shopId:t.data.shopId},fail:function(){t.logicData.isAutoTakeCoupon=!1,(0,T.normalToast)({title:e,duration:3e3})},success:function(){(0,T.normalToast)({title:e,duration:3e3})}})})):(0,O.jumpToInnerSwan)({path:D.PAGES.ORDER_SUBMIT,params:{skus:JSON.stringify(p),url:(0,T.parsePageQuery)().url,groupType:o.groupType,groupId:o.groupId||"",shopId:t.data.shopId}})})),void(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_165":"ssv_331",actionId:"site_bar_click"});if(g)return(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_166":"ssv_332",actionId:"site_bar_click"}),this.autoTakeAndJump((function(e){(0,j.generalJump)({url:D.PAGES.ORDER_SUBMIT,params:{skus:JSON.stringify(p),url:(0,T.parsePageQuery)().url,shopId:t.data.shopId},fail:function(){t.logicData.isAutoTakeCoupon=!1,(0,T.normalToast)({title:e,duration:3e3})},success:function(){(0,T.normalToast)({title:e,duration:3e3})}})}));(0,T.bdxdAddLog)(this,{compTargetId:(0,T.isInProductPage)()?"ssv_163":"ssv_327",actionId:"site_bar_click",userExtra:Object.assign({spu_id:this.properties.spuId,comp_material_id:this.properties.spuId},a.info)}),this.setData({specLayerIsOpen:!1}),!T.isInProductPage&&this.changeNavBarColor(!1),(0,j.generalJump)({url:D.PAGES.ORDER_SUBMIT,params:{skus:JSON.stringify(p),url:(0,T.parsePageQuery)().url,shopId:this.data.shopId}})}catch(e){(0,T.addErrorLog)(e,{compTargetId:"order-confirm-err",name:"商品详情-立即购买"},[D.logTypeMap.error])}},setPriceInfo:function(e){var t=e.detail,o=t.beltType,a=void 0===o?0:o,i=t.salePrice,n=t.groupPrice,r=t.coupons,s=void 0===r?[]:r,d=t.predictPrice,u=t.buttonPredictPrice,c=t.platformRedPacket,p=void 0===c?{}:c,l=t.promotionList,g=void 0===l?[]:l,h=t.bestShopCoupon,m=void 0===h?{}:h,f=t.skuPriceList,v=void 0===f?[]:f,b=t.showSeckill,w=void 0!==b&&b,y=this.data.productData||{},C=!1,S=y.packages,I=y.skuList,x=void 0===I?[]:I;S&&S.length?(S.forEach((function(e){(e.skuList||[]).forEach((function(e){v.forEach((function(t){t.skuId===e.skuId&&(e.predictPrice=t.predictPrice,e.predictText=t.predictText,e.groupPredictPrice=t.groupPredictPrice,e.groupPredictText=t.groupPredictText,e.Discount=t.couponVos||[],e.Discount.length&&(C=!0),e.salePrice=t.salePrice,e.beltType=a,a===D.beltTypeMap.seckilling&&(e.price=t.salePrice,e.showSeckill=w))}))}))})),y.packages=S):(x.forEach((function(e){v.forEach((function(t){t.skuId===e.skuId&&(e.predictPrice=t.predictPrice,e.predictText=t.predictText,e.groupPredictPrice=t.groupPredictPrice,e.groupPredictText=t.groupPredictText,e.Discount=t.couponVos||[],e.Discount.length&&(C=!0),e.salePrice=t.salePrice,e.beltType=a,a===D.beltTypeMap.seckilling&&(e.price=t.salePrice,e.showSeckill=w))}))})),y.skuList=x);var P=!0,_=!0;Object.keys(m).length&&(P=!1,_=!1),"wjz/bdxd/product-detail/product-detail"!==(0,T.getCurrentPage)().route||this.data.secondShow||this.getRecommendData(e.detail);var k={productData:y,beltType:a,salePrice:i,groupPrice:n,coupons:s,predictPrice:d,buttonPredictPrice:u,platformRedPacket:p,promotionList:g,bestShopCoupon:m,noTopCoupon:P,bottomCouponClose:_,hasSkuDiscount:C},A=!this.data.secondShow&&!!(0,T.parsePageQuery)().specLayerIsOpen;(0,T.parsePageQuery)().specLayerIsOpen&&(k.specLayerIsOpen=A),this.setData(k)},setShopCartHide:function(){return{isBlockCar:!1,hasCar:!1}},recommendDataReq:function(e){return(0,P.request)({url:_.API.getShopRecommend,data:e})},getRecommendData:function(e){var t=this,o=e&&e.coupons||[],a=o.length?o.map((function(e){return{batchId:e.batchId,couponBizType:e.couponBizType}})):[],i=this.data,n=i.spuId,r=i.shopId,s=i.saleInfo,d=void 0===s?{}:s,u={spuId:n,shopId:r,price:d.price,originPrice:d.originPrice,sales:d.saleCount,couponInfo:a},c=Object.assign({},u,{channelId:R}),p=Object.assign({},u,{channelId:M}),l=Object.assign({},u,{channelId:B});this.recommendDataReq(c).then((function(e){var o=e.data.spuRecommendVoList||[];t.setData({shopRecommendData:o})})),Promise.all([this.recommendDataReq(p),this.recommendDataReq(l)]).then((function(e){var o={sameData:e[0].data.spuRecommendVoList||[],newProData:e[1].data.spuRecommendVoList||[]},a=!F&&(o.sameData.length>6||o.newProData.length>6);t.setData({showRecommend:a,otherRecommend:o})}))},isSingleSku:function(e){var t=e.skuList,o=void 0===t?[]:t,a=e.packages,i=void 0===a?[]:a;return 1===o.length||1===i.length&&1===i[0].skuList.length},getSkusInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skuList,o=void 0===t?[]:t,a=e.packages,i=void 0===a?[]:a,n=[];if(o&&o.length){var r=!0,s=!1,d=void 0;try{for(var u,c=o[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var p=u.value;n.push({skuId:p.skuId,num:"1",price:p.longPrice})}}catch(e){s=!0,d=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw d}}}if(i&&i.length){var l=!0,g=!1,h=void 0;try{for(var m,f=i[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var v=m.value,b=!0,w=!1,y=void 0;try{for(var C,S=v.skuList[Symbol.iterator]();!(b=(C=S.next()).done);b=!0){var I=C.value;n.push({skuId:I.skuId,num:"1",price:I.longPrice})}}catch(e){w=!0,y=e}finally{try{!b&&S.return&&S.return()}finally{if(w)throw y}}}}catch(e){g=!0,h=e}finally{try{!l&&f.return&&f.return()}finally{if(g)throw h}}}return n}}})})),window.define("343",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4);o.default=function(){var e=n().globalData.siteData,t=(0,I.parsePageQuery)()||{},o="",a="";try{o=JSON.parse(JSON.parse(t.skus)[0].cpsInfo.zhiboParams).zhiboExt.room_id,a=JSON.parse(t.skus)[0].cpsInfo.contentId}catch(e){console.log(e)}return(e.contentIdBdVid||a||"")!==(e.roomIdBdVid||o||"")}})),window.define("357",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x=e(92),P=e(58);Component({options:{addGlobalClass:!0},properties:{goOnText:{type:String,value:"继续购物"},backText:{type:String,value:"返回活动"}},data:{visible:!1,doneMessage:"",completeMsg:""},logicData:{schema:""},lifetimes:{attached:function(){this.getTask()}},methods:{close:function(){this.setData({visible:!1})},goBack:function(){var e=this.logicData.schema||"",t=(0,I.parseSwanUrl)(e),o=t.appKey,a=t.path,i=t.options;(0,P.jumpToOuterSwan)({appKey:o,path:a,params:i})},getTask:function(){var e=this,t=T.API.getTaskInfo,o=n().globalData.siteData.taskToken,a=(0,I.parsePageQuery)().orderId;o&&a&&(0,x.request)({url:t,data:{token:o,orderId:a}}).then((function(t){if(t&&t.status===T.RESPONSE_STATUS.SUCCESS_200&&t.data&&t.data.schema){var o=(t||{}).data,a=o.schema,i=o.doneMessage,n=o.completeMsg;e.setData({visible:!0,doneMessage:i,completeMsg:n}),e.logicData.schema=a}})).catch((function(t){t&&+t.status===T.RESPONSE_STATUS.NOT_LOGIN&&e.dispatch("onReqLoginFail")}))}}})})),window.define("365",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=e(4),P=e(3),D=(I=P)&&I.__esModule?I:{default:I},_=e(51),k=e(340),A=e(366),j=e(58);var O=(n().globalData.siteData||{}).appId,L="https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Faddressborder.png",E="https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FnoProduct.png",N="mip-doujin-product-list",R="getProductListEvent",M="shopIndexReachBottom",B="allProductReachBottom",F="searchProductReachBottom",U={"shop-index":{api:_.API.shopIndexList,handler:M,noProductTip:{img:L,value:"该店铺还没有商品哦~"},subSceneValue:"ssv_113"},"all-product":{api:_.API.allProductList,handler:B,noProductTip:{img:L,value:"该店铺还没有商品哦~"},subSceneValue:"ssv_114"},"search-product":{api:_.API.searchProductList,handler:F,noProductTip:{img:E,value:"该店铺还没有商品哦~"},subSceneValue:"ssv_115"},"search-product-dxdjx":{api:_.API.searchProductListDxdjx,handler:F,noProductTip:{img:E,value:"更换搜索词再试试~"}},"product-group":{api:_.API.searchProductListDxdjx,handler:"searchProductReachBottom",noProductTip:{img:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FnoProduct.png",value:"暂无商品"},subSceneValue:"ssv_117"}};Component({options:{addGlobalClass:!0},properties:{parent:{type:String},componentData:{type:Object,value:{styleType:2,isGetList:!0,title:"",showMoreBtn:!0,showCartBtn:!1,rootStyle:{}},observer:function(e){var t=this;try{this.data.productList.length>0&&this.setData({productList:this.data.productList.map((function(e){return Object.assign({},e,{showCartBtn:t.properties.componentData.showCartBtn})}))})}catch(e){}this.handlePropertiesStyle(e.rootStyle)}}},data:{style:{},productList:[],next:0,noProduct:!1,isFirst:!0,noProductTip:{img:L,value:"该店铺还没有商品哦~"},needBottomGap:!1,isHideAllProductBtn:!1,reachBottomName:""},logicData:{currentPath:"",isLoading:!1,keyWords:"",couponId:"",activityId:"",size:10,duSid:"",sortType:"",generalParams:{id:N,name:N,type:N,title:"商品列表"},isFisrtReq:!0,route:""},lifetimes:{created:function(){D.default.clearEvents([R,M,B,F])},attached:function(){var e=getCurrentPages().pop().route||"";this.logicData.route=e,this.logicData.currentPath=e.split("/").pop(),this.setData({noProductTip:U[this.logicData.currentPath]&&U[this.logicData.currentPath].noProductTip,reachBottomName:U[this.logicData.currentPath].handler}),this.initBottomGap(),this.properties.componentData.isGetList&&this.getProductList(),D.default.addHandler(R,this.handleGetProductList.bind(this));var t=U[this.logicData.currentPath];t&&t.handler&&D.default.addHandler(t.handler,this.onReachBottom.bind(this)),this.handlePropertiesStyle(this.properties.componentData.rootStyle)},detached:function(){D.default.clearEvents([R,M,B,F],{outerRoute:this.logicData.route})}},messages:{clickend:function(e){var t=e&&e.value||{},o=this.properties.parent,a="search-product-dxdjx"===o||"product-group"===o?t.webappUrl:t.pageOnlineUrl,i=(0,x.parseSwanUrl)(a).options,n={spuId:t.spuId};if("search-product-dxdjx"===o){var r=this.logicData,s=r.duSid,d=r.keyWords;n=Object.assign({},n,{duSid:s,keyWords:d},_.CHANNEL_INFO.searchProduct)}else"product-group"===o&&(n=Object.assign({},n,{spuId:t.spuId}));var u=U[this.logicData.currentPath]&&U[this.logicData.currentPath].subSceneValue||"";(0,j.jumpToInnerSwan)({path:_.PAGES.PRODUCT_DETAIL,params:Object.assign({},i,n,{subSceneValue:u},_.CHANNEL_INFO.collectionList),log:{ctx:this,userExtra:{index:t.index}}})}},methods:{initBottomGap:function(){var e=this.properties.parent;!(void 0===e?"":e)&&(0,x.isDxdjx)()&&this.setData({needBottomGap:!0})},handlePropertiesStyle:function(e){if("object"===(void 0===e?"undefined":T(e))){var t=(0,x.tranPxToRpx)(e);this.setData({style:t})}},handleGetProductList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.logicData[t]=e[t];this.setData({next:0,isFirst:!0,productList:[]}),this.getProductList()},onReachBottom:function(){var e=this.data.noProduct;this.logicData.isLoading||e||(this.setData({isFirst:!1}),this.getProductList())},getProductList:function(){var e=this,t=this.data,o=t.next,a=t.isFirst,r=this.logicData,s=r.sortType,d=r.keyWords,u=r.size,c=r.duSid,p=r.couponId,l=r.activityId;if(-1!==Number(o)&&!this.logicData.isLoading){this.logicData.isLoading=!0;var g=U[this.logicData.currentPath];if(g){var h={shopId:(0,x.getShopId)(),appId:O,size:u,start:o,sortType:s,keyWords:d,couponId:p,activityId:l,duSid:c};a&&"shop-index"!==this.logicData.currentPath&&i.showLoading({title:"加载中"}),("product-group"===this.logicData.currentPath&&this.logicData.isFisrtReq?n().globalData.pageReqCache[k.GET_PRODUCT_LIST]||(0,A.productListReq)():(0,A.productListReq)({urlParams:g.api,dataParams:h})).then((function(t){var o=t.data,i=o.list,r=void 0===i?[]:i,s=o.next,d=o.duSid;if(r.length){var c=r.map((function(e){return e.spuId}));(0,x.bdxdAddLog)(e,{compTargetId:"product_card_show",userExtra:{spu_ids:c,comp_material_id:c,page:e.data.next,size:u}})}if(e.setData({productList:r.map((function(t){return{spuId:t.spuId,name:t.name,price:t.price,goodsPictureUrl:t.goodsPictureUrl,pageOnlineUrl:t.pageOnlineUrl,webappUrl:t.webappUrl,sales:t.sales,saleShow:t.saleShow,sellingPoints:t.sellingPoints,spikeInfoVO:t.spikeInfoVO,qualityTag:t.qualityTag||0,showCartBtn:e.properties.componentData.showCartBtn}})),next:s,noProduct:!1}),e.logicData.duSid=d,a&&r.length<=4){var p=n().globalData.siteData.isOriginShopStyle&&"-1"===t.data.next;e.setData({noProduct:0===r.length,isHideAllProductBtn:p})}})).catch((function(t){a&&((0,x.addErrorLog)(t,{compTargetId:"bdxd-log-req-shop-index",errType:"api_productList_err",iscommon:!1},[_.logTypeMap.error,_.logTypeMap.apiError]),e.setData({next:-1})),i.showToast({title:t.statusInfo,icon:"none",mask:!0})})).finally((function(){n().globalData.pageReqCache[k.GET_PRODUCT_LIST]=null,i.hideLoading(),e.logicData.isLoading=!1,e.logicData.isFisrtReq&&(e.logicData.isFisrtReq=!1)}))}}},onGoToAllProduct:function(){var e=(0,x.isDxdjx)()?_.PAGES.ALL_PRODUCT:_.PAGES.BDXD_ALL_PRODUCT,t=(0,x.isDxdjx)()?{shopId:(0,x.getShopId)()}:{},o="navigateTo";if(!(0,x.isDxdjx)()){var a=n().globalData.tabBar.list;o=(0,x.isTabBarUrl)(e,a.map((function(e){return"/"+e.pagePath})))?"switchTab":"navigateTo"}(0,j.jumpToInnerSwan)({path:e,type:o,params:t})}}})})),window.define("366",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.productListReq=void 0;var I=e(92),T=e(4),x=e(51);o.productListReq=function(e){var t=(0,T.parsePageQuery)(),o=t.couponId,a=t.activityId,i=e||{},r=i.urlParams,s=i.dataParams,d=(n().globalData.siteData||{}).appId,u=r||x.API.searchProductListDxdjx,c=s||{shopId:(0,T.getShopId)(),appId:d,start:0,size:10,sortType:"",keyWords:"",couponId:o,activityId:a,duSid:""};return(0,I.request)({url:u,data:c}).then((function(e){return Object.assign({},e)})).catch((function(e){return e}))}})),window.define("368",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I};Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{tabData:[],activeIndex:"1",fixed:!1}}},data:{currentIndex:"",sortType:"",rootStyle:{}},logicData:{generalParams:{id:"mip-doujin-product-tab",name:"mip-doujin-product-tab",type:"mip-doujin-product-tab",title:"商品详情tab切换"}},attached:function(){var e=this,t=this.properties.componentData,o=t.activeIndex,a=t.tabData;this.setData({currentIndex:o||a[0].id}),x.default.addHandler("getNavHeight",(function(t){return e.handleStyle(t)}))},detached:function(){x.default.clearEvents(["getNavHeight"])},methods:{handleStyle:function(e){if(this.properties.componentData.fixed){var t={position:"fixed",top:e,left:0,right:0,"z-index":3};this.setData({rootStyle:t})}},handleClick:function(e){var t=e.target.dataset.item,o=t.id,a=t.value,i=this.data.sortType;2===Math.abs(a)&&Math.abs(a)===Math.abs(i)&&(a=-i),this.setData({currentIndex:o,sortType:a}),x.default.trigger("getProductListEvent",{sortType:a})}}})})),window.define("372",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(51),_=e(58);Component({options:{addGlobalClass:!0},properties:{parent:{type:String},componentData:{type:Object,value:{keyWords:"",isShowBtn:!0,isShowHistory:!0,maxlength:30}}},data:{value:"",isFocus:!0,showDel:!1,rootStyle:{},fixed:!1,showSearch:!0},logicData:{currentPath:"",generalParams:{id:"mip-doujin-search-product",name:"mip-doujin-search-product",type:"mip-doujin-search-product",title:"搜索商品"}},created:function(){x.default.clearEvents(["changeKeyWords","changeFocus","searchFixed","showSearch"])},attached:function(){var e=this,t=getCurrentPages().pop().route;this.logicData.currentPath=t.split("/").pop();var o=this.properties.componentData.keyWords;this.setData({value:o}),x.default.addHandler("changeFocus",(function(){e.setData({isFocus:!0})})),x.default.addHandler("changeKeyWords",(function(t){e.setData({value:t}),i.nextTick((function(){e.handleSearch()}))})),t===D.SHOP_PAGE.substr(1)&&(x.default.addHandler("searchFixed",(function(t){var o=t.statusBarHeight,a=void 0===o?20:o,i=t.navigationBarHeight,r=(void 0===i?44:i)+"px",s=a+"px",d=(n().globalData.siteData.systemInfo||{}).screenWidth||414,u=170/414,c={};(0,P.isDxdjx)()||(u=270/414,c={left:"30.77rpx",transform:"none"});var p=d*u+"px";e.setData({fixed:!0,rootStyle:Object.assign({},e.data.rootStyle,{top:s,width:p,height:r},c)})})),x.default.addHandler("showSearch",(function(t){if(e.data.fixed){var o=t.showSearch;e.setData("showSearch",o)}})),x.default.trigger("hasSearch"))},detached:function(){x.default.clearEvents(["changeKeyWords","changeFocus","searchFixed","showSearch"])},methods:{handleSearch:function(){var e=this.data.value;if(e&&e.trim()){var t=i.getStorageSync("search"),o=t?t.split(","):[];(o=o.filter((function(t){return t!==e}))).push(e),i.setStorageSync("search",o.join(",")),n().globalData.siteData.keyWord=e,x.default.trigger("getProductListEvent",{keyWords:e.trim()}),x.default.trigger("isShowSearchResult",!0),x.default.trigger("getNavHeight",94),i.nextTick((function(){x.default.trigger("getStore")}))}else i.showToast({title:"请输入搜索词",icon:"none"})},handleDel:function(){this.setData({value:""}),x.default.trigger("changeFocus")},handleFocus:function(){"shop-index"===this.logicData.currentPath?(0,_.jumpToInnerSwan)({path:(0,P.isDxdjx)()?D.PAGES.SHOP_RELATED_SEARCH_PRODUCT:D.PAGES.SEARCH_PRODUCT,params:{keyWords:this.data.value,shopId:(0,P.getShopId)()}}):"search-product"!==this.logicData.currentPath&&"search-product-dxdjx"!==this.properties.parent||x.default.trigger("isShowSearchResult",!1)}},observers:{"componentData.keyWords":function(e){this.setData({value:e})},value:function(e){this.setData({showDel:!!e.trim()})}}})})),window.define("378",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(379),T=e(380),x=e(381),P=e(382),D=e(383),_=e(384);t.exports=function(e){var t={};switch(e){case"billion-subsidy":t=x;break;case"live-list":t=P;break;case"special-seckill":t=D;break;case"all-product-dxdjx":t=T;break;case"search-product":t=I;break;case"dynamic-marketing-page-92442405":t=_;break;default:t={}}return t}})),window.define("379",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";t.exports={appid:5,bstatstoken:"",extData:{pageStyle:{mLayout:{gutter:0,columns:1,width:"100%"}}},gfhid:"",pageType:0,pageid:0,productName:"bdxd",siteName:"百度小店",siteType:2,siteid:0,subAppId:1,templateId:711539,title:"搜索商品",url:"",pageModuleIds:[0],widgets:[{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",properties:{"is-adaptive":!0,backgroundColor:"",backgroundImg:"",mSizeHeight:50},child:[1,2]},{groupName:"",bizType:"",widgetId:"655",groupId:"",icon:"",name:"gt-dxdjx-h5-navigation",widgetUrl:"",doc:{},title:"全部商品nav组件",widgetMoldName:"gt-dxdjx-h5-navigation",widgetMoldId:"21670",type:"gt-dxdjx-h5-navigation",properties:{title:"搜索商品","m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}},{groupName:"",bizType:"",widgetId:"672",groupId:"",icon:"",name:"mip-doujin-search-container",widgetUrl:"",doc:{},title:"search容器",widgetMoldId:"21698",widgetMoldName:"mip-doujin-search-container-default",type:"mip-doujin-search-container",properties:{"m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}}]}})),window.define("380",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";t.exports={appid:5,bstatstoken:"",extData:{pageStyle:{mLayout:{gutter:0,columns:1,width:"100%"}}},gfhid:"",pageType:0,pageid:0,productName:"bdxd",siteName:"百度小店",siteType:2,siteid:0,subAppId:1,templateId:711538,title:"全部商品",url:"",pageModuleIds:[0],widgets:[{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",properties:{"is-adaptive":!0,backgroundColor:"",backgroundImg:"",mSizeHeight:50},child:[1,2,3,4]},{groupName:"",bizType:"",widgetId:"655",groupId:"",icon:"",name:"gt-dxdjx-h5-navigation",widgetUrl:"",doc:{},title:"全部商品nav组件",widgetMoldName:"gt-dxdjx-h5-navigation",widgetMoldId:"21670",type:"gt-dxdjx-h5-navigation",properties:{title:"全部商品","m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}},{groupName:"",bizType:"",widgetId:"671",groupId:"",icon:"",name:"mip-doujin-product-tab",widgetUrl:"",doc:{},widgetMoldName:"mip-doujin-product-tab-default",widgetMoldId:"21695",title:"全部商品tab组件",type:"mip-doujin-product-tab",properties:{"tab-data":[{label:"综合",id:"1",value:""},{label:"销量",id:"2",value:1},{label:"价格",id:"3",value:-2},{label:"上新",id:"4",value:3}],"active-index":"1",fixed:!0,"m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}},{groupName:"",bizType:"",widgetId:"657",groupId:"",icon:"",name:"mip-doujin-product-list",widgetUrl:"",doc:{},widgetMoldId:"21677",widgetMoldName:"mip-doujin-product-list-default",title:"全部商品商品列表组件",type:"mip-doujin-product-list",properties:{"style-type":2,"is-get-list":!0,"root-style":{"padding-top":38},"m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}},{groupName:"",bizType:"",widgetId:"488",groupId:"",icon:"",name:"mip-doujin-bottom-bar",widgetUrl:"",doc:{},widgetMoldId:"564",widgetMoldName:"mip-doujin-bottom-bar-default",title:"底部bar组件",type:"mip-doujin-bottom-bar",properties:{"m-coordinates":"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:100},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},depWidgets:{}}]}})),window.define("381",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=new Array(12).fill(0).map((function(e,t){return"ssv_"+(t+44)}));t.exports={appId:5,bstatstoken:"",extData:{backgroundColor:"#FF5245",pageStyle:{mLayout:{gutter:0,columns:1,width:"100%",theme:{"--groot-ui-min-height":"101vh"}}}},gfhid:"",pageType:2,pageid:10003,productName:"bdxd",siteName:"百度小店",siteType:2,siteid:0,subAppId:15,templateId:74,title:"尖货补贴",url:"",pageModuleIds:[0,3,5],widgets:[{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",properties:{isAdaptive:!1,backgroundColor:"",backgroundImg:"",mSizeHeight:112125/414},child:[1,2]},{groupName:"",bizType:"",widgetId:250,groupId:"",icon:"",name:"gt-dxdjx-h5-image",widgetUrl:"",doc:{},title:"直播组件",type:"gt-dxdjx-h5-image",properties:{mCoordinates:"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:112500/414},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0},imgUrl:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/subsidyTopHeadImg.png?t=1632807893000"},widgetInfoId:2838168,depWidgets:{}},{groupName:"",bizType:"",widgetId:250,groupId:"",icon:"",name:"gt-dxdjx-h5-top-goods-card",widgetUrl:"",doc:{},title:"直播组件",type:"gt-dxdjx-h5-top-goods-card",properties:{mCoordinates:"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:72e3/414},mPosY:{changeable:!0,value:56250/414},mPosX:{changeable:!0,value:0},ch:1e4,sch:"n450",customStyle:{top:"color: #2D2E35;",productName:"color: #FFF;",btn:"background-image: url(https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/topProductCardBtn.png);",btnPrice:"color: #FFF;",btnText:"color: #8F2E00;",productImg:"box-shadow: 0 3px 10px 0 rgba(157, 7, 7, .3);"},topTagTheme:2},widgetInfoId:2838168,depWidgets:{}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",properties:{isAdaptive:!1,backgroundColor:"",backgroundImg:"",mSizeHeight:0},child:[4]},{groupName:"",bizType:"",widgetId:250,groupId:"",icon:"",name:"gt-dxdjx-h5-navigation",widgetUrl:"",doc:{},title:"导航组件",type:"gt-dxdjx-h5-navigation",properties:{mCoordinates:"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:0},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0},isNative:!1,type:"dynamic",showHome:!0,showBack:!0,opacity:0,backgroundColor:"#FD4C3D",frontColor:"#fff",backgroundImage:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/subsidyTitle.png",backgroundOrigin:"content-box",backgroundPosition:"center center",backgroundSize:"160rpx 40rpx"},widgetInfoId:2838168,depWidgets:{}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",properties:{isAdaptive:!0,backgroundColor:"",backgroundImg:"",mSizeHeight:50},child:[6,7,8]},{groupName:"",bizType:"",widgetId:250,groupId:"",icon:"",name:"mip-dxdjx-marketing-feed",widgetUrl:"",doc:{},depMips:{},title:"营销feed组件",type:"mip-dxdjx-marketing-feed",properties:{mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:0},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0},__type:"feed",pageType:2,pageSize:20,theme:"double11",isCustom:!0,column:1,loadingBarColor:"#FB9970",alignMode:!0,cardHeightMap:{product:67,live:47},path:"search/activity/v1.0/partMeet/getProductList",tabConfig:{tabStyleConfig:{tabWrapBgColor:"",isSticky:1,tabYSpace:0,tabHeight:40,tabSelectedColor:"#FFF",tabWrapColor:"rgba(255, 255, 255, .7)",tabSelectedBarColor:"#FFF",tabStickyBgColor:"#FD4C3D",tabStickySelectedColor:"#FFF",tabStickySelectedBarColor:"#FFFFFF",tabStickyColor:"rgba(255, 255, 255, .7)",tabSelectedBarBottom:0,tabYPaddingTop:0,tabYPaddingBottom:8},tabSource:{url:"search/activity/v1.0/configuration/get",params:{pageType:2}},tabSSV:I,tabChSch:{70:{ch:1e4,sch:"n460"},71:{ch:1e4,sch:"n470"},72:{ch:1e4,sch:"n480"},73:{ch:1e4,sch:"n490"},74:{ch:1e4,sch:"n500"},75:{ch:1e4,sch:"n510"},76:{ch:1e4,sch:"n520"},77:{ch:1e4,sch:"n530"},78:{ch:1e4,sch:"n540"},79:{ch:1e4,sch:"n550"},80:{ch:1e4,sch:"n551"},81:{ch:1e4,sch:"n552"}}},requestConfig:{serviceConfig:{path:"search/activity/v1.0/partMeet/getProductList"},value:2},productCardConfig:{showTag:!0,showUnderlinePrice:!0,showSales:!0,showLineClamp:"",specialTagConfig:{specialTagText:"",specialTagColor:"",specialTagFontColor:"#fff"},atHandPriceTag:"补贴价",descLineNum:1}},widgetInfoId:2838168},{widgetId:250,groupId:"",icon:"",name:"mip-dxdjx-marketing-floatball",widgetUrl:"",doc:{},title:"悬浮球组件",type:"mip-dxdjx-marketing-floatball",properties:{mCoordinates:"leftTop",mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:0},mPosY:{changeable:!0,value:18},mPosX:{changeable:!0,value:0},pageType:21,pageId:10003,isMarketingComp:!0,moveAreaCustom:"active-page",moveBallCustom:"mall-first-ball",closeBtnCustom:"mall-first-close",imageStyle:{width:"144.8rpx",height:"144.8rpx","border-radius":"10.86rpx",overflow:"hidden",display:"block"},requestConfig:{serviceConfig:{path:"search/general/v1.0/picture/get"},value:21}},widgetInfoId:2838168,depWidgets:{}},{groupName:"",bizType:"",widgetId:1072,groupId:"",icon:"",name:"gt-dxdjx-h5-marketing-anchor",widgetUrl:"",doc:{},depMips:{},title:"营销定位组件",type:"gt-dxdjx-h5-marketing-anchor",properties:{mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:0},mPosY:{changeable:!0,value:0},mPosX:{changeable:!0,value:0}},widgetInfoId:2838168,depWidgets:{}}]}})),window.define("382",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";t.exports={pageGroupType:0,pageInfo:{auditVersion:0,llp:1,adaptType:0,xcxAppKey:"",showType:2,siteTplType:1},siteName:"通用活动平台线上站点",pageid:116996795,title:"百度双11热销好物榜",templateId:2533,bdstatstoken:"",widgets:[{thumbnail:"",groupName:"布局组件",widgetMoldName:"module",widgetId:186,groupId:5,name:"mip-sjh-module",title:"内容块组件",type:"mip-sjh-module",widgetInfoId:"4282507569",widgetMoldId:141,properties:{backgroundColor:"","is-adaptive":!1,backgroundImg:"",mSizeHeight:64},child:[1]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/844282836_1726284201.jpg",widgetId:848,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Navigation5.js",title:"",type:"gt-dxdjx-h5-navigation",widgetMoldId:1152,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"module",name:"gt-dxdjx-h5-navigation",doc:{},widgetInfoId:"4282507568",properties:{backgroundColor:"rgba(29, 18, 14, 1)",mPosY:{changeable:!0,value:0},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},mSizeHeight:{changeable:!1,value:64},mPosX:{changeable:!0,value:0},frontColor:"white",fixed:{leftChangeable:!1,top:0,left:0,topChangeable:!1,pagePadding:0,width:"100%",type:"top"},scrollDistance:72,title:"热销好物榜",type:"dynamic","m-coordinates":"leftTop"}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"4282874583",properties:{backgroundColor:"",backgroundImg:"",mSizeHeight:137},child:[3]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"module",name:"gt-dxdjx-h5-image",doc:{},widgetInfoId:"4282874586",properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/239279523_1135091461_1295669321.png",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:0},dxdjxEventIndex:"54315825","__biz-type__":[],mSizeWidth:{changeable:!0,value:374.5},mSizeHeight:{changeable:!0,value:136},mPosX:{changeable:!0,value:1},dxdjxSSV:["ssv_93"],"m-coordinates":"leftTop"}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"4282874585",properties:{backgroundColor:"","is-adaptive":!0,backgroundImg:"",mSizeHeight:558},child:[5]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/1509538278_-826027130_-1197821179.jpg",bubbleText:"",widgetId:850,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5ShopCardFeedSingle5.js",title:"",type:"gt-dxdjx-h5-shop-card-feed-single",widgetMoldId:1155,depWidgets:{},mLayout:{isBlock:!0,fixed:!1},widgetMoldName:"module",name:"gt-dxdjx-h5-shop-card-feed-single",doc:{},bubbleImage:"",widgetInfoId:"4282874584",properties:{showLineClamp:1,productCardConfig:{showUnderlinePrice:!0,showTagOrRecommend:3,btnConfig:{btnBgColor:"#FD503E",btnText:"立即购买",btnTextColor:"#FFFFFF",btnBgImg:""},showRestStock:!1,showRecommendNum:!0},requestConfig:[{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"482"}},name:"热销好物榜-推荐",label:"热销好物榜",_schemaUIVersion:1,value:"482"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"485"}},name:"热销好物榜-酒水",label:"美食热销榜",_schemaUIVersion:1,value:"485"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"486"}},name:"热销好物榜-家清",label:"家清热销榜",_schemaUIVersion:1,value:"486"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"484"}},name:"热销好物榜-美妆",label:"美妆热销榜",_schemaUIVersion:1,value:"484"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"487"}},name:"热销好物榜-服饰",label:"服饰热销榜",_schemaUIVersion:1,value:"487"}],productAtmosphereConfig:{},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},spikeCardConfig:{showUnderlinePrice:!0,showTagOrRecommend:1,btnConfig:{btnBgColor:"#FD503E",btnText:"立即购买",btnTextColor:"#FFFFFF",btnBgImg:""},showRestStock:!1,showSubsidy:!0},dxdjxSSV:["ssv_339","ssv_340","ssv_341","ssv_342","ssv_343","ssv_344","ssv_363","ssv_362","ssv_361","ssv_345","ssv_360","ssv_359","ssv_358","ssv_357","ssv_356"],"m-coordinates":"leftTop",tabConfig:{tabStyleConfig:{tabSelectedBarColor:"rgba(255, 230, 197, 1)",tabSelectedColor:"rgba(255, 230, 197, 1)",tabStickySelectedColor:"rgba(255, 230, 197, 1)",tabStickyColor:"rgba(185, 144, 117, 1)",tabWrapBgColor:"rgba(29, 18, 14, 1)",tabStickyBgColor:"rgba(29, 18, 14, 1)",tabStickySelectedBarColor:"rgba(255, 230, 197, 1)",tabWrapColor:"rgba(185, 144, 117, 1)"}},loadingBarColor:"rgba(255, 230, 197, 1)",mPosY:{changeable:!1,value:0},dxdjxEventIndex:"92492408",liveCardConfig:{},mSizeHeight:{changeable:!1,value:558},mPosX:{changeable:!1,value:0},__type:"feed",backgroundConfig:{head:{backgroundColor:"",backgroundImage:""},contentPaddding:0,bottom:{backgroundColor:"",backgroundImage:""},content:{backgroundColor:"",backgroundImage:""},cardSpace:8},cardBorderRadius:12}}],userid:34292267,productName:"GOODS",url:"https://aisite.wejianzhan.com/site/wjz5darx/3f670c8d-693a-4f1e-901f-1a44fff7f2f9",pageModuleIds:[0,2,4],pageType:1,extData:{isEverDynProductDetail:!1,backgroundColor:"rgba(29, 18, 14, 1)",pageStyle:{mLayout:{paddingBottom:0,theme:{"--groot-ui-min-height":"100.1vh"},paddingTop:0}},dxdjxStatusBarColor:"black",consultStyle:{},dynNum:0,isEverDynQuestion:!1,isEverDynMaterial:!1,isDyn:!1,isEverDyn:!1,dxdjxShareInfo:{imageUrl:"https://jmy-pic.baidu.com/0/pic/-1678142497_592621818_-1100904395.png",title:"热销好物榜",content:"百度热销好物榜，超多好物等你来~"},dynInfo:"",isEverDynProduct:!1},appid:5,siteConfig:{},siteid:57193965,subAppId:255,siteType:3,vpucid:"n1fzrHczPWT",gfhid:""}})),window.define("383",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";t.exports={pageGroupType:0,pageInfo:{auditVersion:0,llp:1,adaptType:0,xcxAppKey:"",showType:2,siteTplType:1},siteName:"通用活动平台线上站点",pageid:92442405,title:"双11-九块九活动页",templateId:2533,bdstatstoken:"",widgets:[{thumbnail:"",groupName:"布局组件",widgetMoldName:"module",widgetId:186,groupId:5,name:"mip-sjh-module",title:"内容块组件",type:"mip-sjh-module",widgetInfoId:"3424713258",widgetMoldId:141,properties:{backgroundColor:"","is-adaptive":!1,backgroundImg:"",mSizeHeight:64},child:[1]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/844282836_1726284201.jpg",widgetId:848,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Navigation5.js",title:"",type:"gt-dxdjx-h5-navigation",widgetMoldId:1152,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"gt-dxdjx-h5-navigation-default",name:"gt-dxdjx-h5-navigation",doc:{},widgetInfoId:"3424713259",properties:{backgroundColor:"rgba(189, 48, 51, 1)",mPosY:{changeable:!0,value:0},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},mSizeHeight:{changeable:!1,value:64},mPosX:{changeable:!0,value:0},frontColor:"white",fixed:{leftChangeable:!1,top:0,left:0,topChangeable:!1,pagePadding:0,width:"100%",type:"top"},title:"包邮9.9元起",type:"dynamic","m-coordinates":"leftTop"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"3478450820",properties:{backgroundColor:"",backgroundImg:"",mSizeHeight:217.390625},child:[3]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"gt-dxdjx-h5-image-default",name:"gt-dxdjx-h5-image",doc:{},widgetInfoId:"3478450819",properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/-964334174_2000296920_1684915221.png",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:0},dxdjxEventIndex:"13339053","__biz-type__":[],mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:217.390625},mPosX:{changeable:!0,value:0},dxdjxSSV:["ssv_93"],"m-coordinates":"leftTop"}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"3475591849",properties:{backgroundColor:"rgba(189, 48, 51, 1)",backgroundImg:"",mSizeHeight:44.375},child:[5]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"gt-dxdjx-h5-image-default",name:"gt-dxdjx-h5-image",doc:{},widgetInfoId:"3475591850",properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/-1425826267_784659372_1290982781.png",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:0},dxdjxEventIndex:"6518143","__biz-type__":[],mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:44.375},mPosX:{changeable:!0,value:0},dxdjxSSV:["ssv_93"],"m-coordinates":"leftTop"}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"3424713264",properties:{backgroundColor:"rgba(189, 48, 51, 1)","is-adaptive":!0,backgroundImg:"",mSizeHeight:408.984375},child:[7]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-1231890292_-1231174010.jpg",widgetId:852,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5ShopCardFeedTriple5.js",title:"",type:"gt-dxdjx-h5-shop-card-feed-triple",widgetMoldId:1158,depWidgets:{},mLayout:{isBlock:!0,fixed:!1},widgetMoldName:"gt-dxdjx-h5-shop-card-feed-triple",name:"gt-dxdjx-h5-shop-card-feed-triple",doc:{},widgetInfoId:"3424713265",properties:{showLineClamp:1,productCardConfig:{showUnderlinePrice:!1,showSales:!1,showTag:!1},requestConfig:[{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"347"}},name:"双11九块九1托3-爆卖",label:"",_schemaUIVersion:1,value:"347"}],productAtmosphereConfig:{},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},spikeCardConfig:{showUnderlinePrice:!1,showSales:!1,showTag:!1,showRestStock:!1,showSubsidy:!1},"m-coordinates":"leftTop",tabConfig:{tabStyleConfig:{tabSelectedBarColor:"#FF0000",tabSelectedColor:"#000000",tabStickySelectedColor:"#000000",tabStickyColor:"#FFF0D8",tabWrapBgColor:"#FFF0D8",tabStickyBgColor:"#C31D0F",tabStickySelectedBarColor:"#FF0000",tabWrapColor:"#FB9970"}},loadingBarColor:"",mPosY:{changeable:!1,value:0},dxdjxEventIndex:"17571647",liveCardConfig:{},mSizeHeight:{changeable:!1,value:408.984375},mPosX:{changeable:!1,value:0},__type:"card",backgroundConfig:{head:{backgroundColor:"",backgroundImage:""},contentPaddding:0,bottom:{backgroundColor:"",backgroundImage:""},content:{backgroundColor:"",backgroundImage:""},cardSpace:6},cardBorderRadius:6,listShowNum:6,pricePosition:"left"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"3424713274",properties:{backgroundColor:"rgba(189, 48, 51, 1)","is-adaptive":!0,backgroundImg:"",mSizeHeight:617.015625},child:[9]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/1119682608_732096788_1724629923.jpg",widgetId:851,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5ShopCardFeedDouble5.js",title:"",type:"gt-dxdjx-h5-shop-card-feed-double",widgetMoldId:1157,depWidgets:{},mLayout:{isBlock:!0,fixed:!1},widgetMoldName:"gt-dxdjx-h5-shop-card-feed-double",name:"gt-dxdjx-h5-shop-card-feed-double",doc:{},widgetInfoId:"3424713275",properties:{productCardConfig:{showUnderlinePrice:!1,showSales:!1,showRestStock:!0,specialTagConfig:{specialTagText:"年货价",specialTagColor:"rgba(189, 48, 51, 1)"}},showLineClamp:2,requestConfig:[{serviceConfig:{path:"/search/activity/v1.0/bmc/productList/get",method:"POST",name:"FEED",params:{activityId:"8112044470",topic:"超值爆款"}},name:"日常-9.9元封顶 0-9.9元商品",label:"9.9封顶",_schemaUIVersion:1,value:"8112044470"},{serviceConfig:{path:"/search/activity/v1.0/bmc/productList/get",method:"POST",name:"FEED",params:{activityId:"8105548991",topic:"超值爆款"}},name:"日常-14.9元封顶 10-14.9商品",label:"14.9封顶",_schemaUIVersion:1,value:"8105548991"},{serviceConfig:{path:"/search/activity/v1.0/bmc/productList/get",method:"POST",name:"FEED",params:{activityId:"8108678615",topic:"超值爆款"}},name:"日常-19.9元封顶 14.9-19.9",label:"19.9封顶",_schemaUIVersion:1,value:"8108678615"},{serviceConfig:{path:"/search/activity/v1.0/bmc/productList/get",method:"POST",name:"FEED",params:{activityId:"8108678617",topic:"超值爆款"}},name:"日常-24.9元封顶 19.9-24.9",label:"24.9封顶",_schemaUIVersion:1,value:"8108678617"},{serviceConfig:{path:"/search/activity/v1.0/bmc/productList/get",method:"POST",name:"FEED",params:{activityId:"8233887449",topic:"超值爆款"}},name:"日常-29.9元封顶 24.9-29.9",label:"29.9封顶",_schemaUIVersion:1,value:"8233887449"}],productAtmosphereConfig:{backgroundImg:""},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},spikeCardConfig:{showUnderlinePrice:!1,recommendTagConfig:{recommendTagBgImg:"",recommendTagColor:"#FFFFFF"},showRestStock:!1,specialTagConfig:{specialTagText:"年货价",specialTagColor:"rgba(189, 48, 51, 1)"},showSubsidy:!1},"m-coordinates":"leftTop",tabConfig:{tabStyleConfig:{tabSelectedBarColor:"rgba(255, 255, 255, 1)",tabSelectedColor:"rgba(255, 255, 255, 1)",tabStickySelectedColor:"rgba(255, 255, 255, 1)",tabStickyColor:"rgba(255, 255, 255, 1)",tabWrapBgColor:"rgba(189, 48, 51, 1)",tabStickyBgColor:"rgba(189, 48, 51, 1)",tabStickySelectedBarColor:"rgba(255, 255, 255, 1)",tabWrapColor:"rgba(255, 255, 255, 1)"}},loadingBarColor:"rgba(255, 255, 255, 1)",mPosY:{changeable:!1,value:0},dxdjxEventIndex:"41571089",liveCardConfig:{},mSizeHeight:{changeable:!1,value:617.015625},mPosX:{changeable:!1,value:0},__type:"feed",backgroundConfig:{head:{backgroundColor:"",backgroundImage:""},contentPadding:0,bottom:{backgroundColor:"",backgroundImage:""},content:{backgroundColor:"",backgroundImage:""},cardSpace:8},cardBorderRadius:9,pricePosition:"left"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:"3424713276",properties:{backgroundColor:"",backgroundImg:"",mSizeHeight:50},child:[11]},{thumbnail:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/progressImg.png",widgetId:899,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5OrchardBall5.js",title:"",type:"gt-dxdjx-h5-orchard-ball",widgetMoldId:1230,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"gt-dxdjx-h5-orchard-ball-default",name:"gt-dxdjx-h5-orchard-ball",doc:{},isUseTheme:!1,widgetInfoId:"3424713277",properties:{mPosY:{changeable:!1,value:0},"__biz-type__":[],mSizeWidth:{changeable:!1,value:50},mSizeHeight:{changeable:!1,value:50},mPosX:{changeable:!1,value:0},fixed:{bottomChangeable:!1,rightChangeable:!1,bottom:80,pagePadding:0,width:"100%",right:12,type:"right"},"m-coordinates":"leftTop"},child:[]}],userid:34292267,productName:"GOODS",url:"https://aisite.wejianzhan.com/site/wjz5darx/ba35f8aa-61f9-40b1-84ad-734166c28ef5",pageModuleIds:[0,2,4,6,8,10],pageType:1,extData:{isEverDynProductDetail:!1,backgroundColor:"rgba(189, 48, 51, 1)",pageStyle:{mLayout:{paddingBottom:0,theme:{"--groot-ui-min-height":"100.1vh"},paddingTop:0}},dxdjxStatusBarColor:"black",consultStyle:{},dynNum:0,isEverDynQuestion:!1,isEverDynMaterial:!1,isDyn:!1,isEverDyn:!1,dxdjxShareInfo:{imageUrl:"",title:"新年好货 9.9包邮",content:"新年有好货  上百度买年货  年货更优惠"},dynInfo:"",isEverDynProduct:!1},appid:5,siteConfig:{},siteid:57193965,subAppId:255,siteType:3,vpucid:"n1fzrHczPWT",gfhid:""}})),window.define("384",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";t.exports={pageGroupType:0,pageInfo:{auditVersion:0,llp:1,adaptType:0,xcxAppKey:"",showType:2,siteTplType:1},siteName:"通用活动平台线上站点",pageid:92442405,title:"双11-九块九活动页",templateId:2533,bdstatstoken:"",widgets:[{thumbnail:"",groupName:"布局组件",widgetMoldName:"module",widgetId:186,groupId:5,name:"mip-sjh-module",title:"内容块组件",type:"mip-sjh-module",widgetInfoId:3263461732,widgetMoldId:141,properties:{backgroundColor:"","is-adaptive":!1,backgroundImg:"",mSizeHeight:64},child:[1]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/844282836_1726284201.jpg",widgetId:848,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Navigation5.js",title:"",type:"gt-dxdjx-h5-navigation",widgetMoldId:1152,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"GtDxdjxH5Navigation-default",name:"GtDxdjxH5Navigation",doc:{},widgetInfoId:3263461733,properties:{backgroundColor:"rgba(255, 111, 92, 1)",mPosY:{changeable:!0,value:0},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},mSizeHeight:{changeable:!1,value:64},mPosX:{changeable:!0,value:0},frontColor:"white",fixed:{leftChangeable:!1,top:0,left:0,topChangeable:!1,pagePadding:0,width:"100%",type:"top"},title:"包邮9.9元起",type:"dynamic","m-coordinates":"leftTop"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461734,properties:{backgroundColor:"",backgroundImg:"",mSizeHeight:200.46875},child:[3]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"GtDxdjxH5Image-default",name:"GtDxdjxH5Image",doc:{},widgetInfoId:3263461735,properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/-1907691466_-18867443_-270763393.jpg",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:0},"__biz-type__":[],mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:200.46875},mPosX:{changeable:!0,value:0},"m-coordinates":"leftTop"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461728,properties:{backgroundColor:"rgb(255, 111, 92)",backgroundImg:"",mSizeHeight:44.383331298828125},child:[5]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"GtDxdjxH5Image-default",name:"GtDxdjxH5Image",doc:{},widgetInfoId:3263461729,properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/1664987115_1514865715_-1783437566.png",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:.0041656494140625},"__biz-type__":[],mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:44.375},mPosX:{changeable:!0,value:0},"m-coordinates":"leftTop"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461730,properties:{backgroundColor:"rgb(255, 109, 89)","is-adaptive":!0,backgroundImg:"",mSizeHeight:406.984375},child:[7]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-1231890292_-1231174010.jpg",widgetId:852,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5ShopCardFeedTriple5.js",title:"",type:"gt-dxdjx-h5-shop-card-feed-triple",widgetMoldId:1158,depWidgets:{},mLayout:{isBlock:!0,fixed:!1},widgetMoldName:"GtDxdjxH5CardTriple",name:"GtDxdjxH5ShopCardFeedTriple",doc:{},widgetInfoId:3263461731,properties:{showLineClamp:1,productCardConfig:{showUnderlinePrice:!1,showSales:!0,showTag:!1},requestConfig:[{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"347"}},name:"双11九块九1托3-爆卖",label:"",_schemaUIVersion:1,value:"347"}],productAtmosphereConfig:{},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},spikeCardConfig:{showUnderlinePrice:!1,showSales:!0,showTag:!1,showRestStock:!1,showSubsidy:!1},"m-coordinates":"leftTop",tabConfig:{tabStyleConfig:{tabSelectedBarColor:"#FF0000",tabSelectedColor:"#000000",tabStickySelectedColor:"#000000",tabStickyColor:"#FFF0D8",tabWrapBgColor:"#FFF0D8",tabStickyBgColor:"#C31D0F",tabStickySelectedBarColor:"#FF0000",tabWrapColor:"#FB9970"}},loadingBarColor:"",mPosY:{changeable:!1,value:0},liveCardConfig:{},mSizeHeight:{changeable:!1,value:406.984375},mPosX:{changeable:!1,value:0},__type:"card",backgroundConfig:{head:{backgroundColor:"",backgroundImage:""},contentPaddding:0,bottom:{backgroundColor:"",backgroundImage:""},content:{backgroundColor:"",backgroundImage:""},cardSpace:6},cardBorderRadius:6,listShowNum:6,pricePosition:"left"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461736,properties:{backgroundColor:"rgb(255, 109, 89)",backgroundImg:"",mSizeHeight:44.383331298828125},child:[9]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-864761382_-1324515641.jpg",widgetId:843,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Image5.js",title:"",type:"gt-dxdjx-h5-image",widgetMoldId:1147,depWidgets:{},mLayout:{},widgetMoldName:"GtDxdjxH5Image-default",name:"GtDxdjxH5Image",doc:{},widgetInfoId:3263461724,properties:{imgUrl:"https://jmy-pic.baidu.com/0/pic/-422821092_1820236124_1544868590.png",imgLink:{linkUrl:"",linkType:""},mPosY:{changeable:!0,value:0},"__biz-type__":[],mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:44.383331298828125},mPosX:{changeable:!0,value:0},"m-coordinates":"leftTop"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461725,properties:{backgroundColor:"rgb(255, 109, 89)","is-adaptive":!0,backgroundImg:"",mSizeHeight:615.015625},child:[11]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/1119682608_732096788_1724629923.jpg",widgetId:851,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5ShopCardFeedDouble5.js",title:"",type:"gt-dxdjx-h5-shop-card-feed-double",widgetMoldId:1157,depWidgets:{},mLayout:{isBlock:!0,fixed:!1},widgetMoldName:"GtDxdjxH5FeedDouble",name:"GtDxdjxH5ShopCardFeedDouble",doc:{},widgetInfoId:3263461726,properties:{productCardConfig:{showUnderlinePrice:!0,showSales:!0,showRestStock:!0,specialTagConfig:{specialTagText:"抄底价",specialTagColor:"rgba(255, 109, 89, 1)"}},showLineClamp:2,requestConfig:[{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"385"}},name:"新9块9-tab1",label:"9.9元封顶",_schemaUIVersion:1,value:"385"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"386"}},name:"新9块9-tab2",label:"14.9封顶",_schemaUIVersion:1,value:"386"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"387"}},name:"新9块9-tab3",label:"19.9封顶",_schemaUIVersion:1,value:"387"},{serviceConfig:{path:"/search/activity/v1.0/productList/get",method:"POST",name:"上传商品来源",params:{pageType:"388"}},name:"新9块9-tab4",label:"24.9封顶",_schemaUIVersion:1,value:"388"}],productAtmosphereConfig:{backgroundImg:""},"__biz-type__":[],mSizeWidth:{changeable:!1,value:375},spikeCardConfig:{showUnderlinePrice:!0,recommendTagConfig:{recommendTagBgImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/specialSpikeTag.png",recommendTagColor:"#FFFFFF"},showRestStock:!1,specialTagConfig:{specialTagText:"抄底价",specialTagColor:"rgba(255, 109, 89, 1)"},showSubsidy:!1},"m-coordinates":"leftTop",tabConfig:{tabStyleConfig:{tabSelectedBarColor:"rgba(255, 255, 255, 1)",tabSelectedColor:"rgba(255, 255, 255, 1)",tabStickySelectedColor:"rgba(255, 255, 255, 1)",tabStickyColor:"rgba(255, 255, 255, 1)",tabWrapBgColor:"rgba(255, 109, 89, 1)",tabStickyBgColor:"rgba(255, 109, 89, 1)",tabStickySelectedBarColor:"rgba(255, 255, 255, 1)",tabWrapColor:"rgba(255, 255, 255, 1)"}},loadingBarColor:"rgba(255, 255, 255, 1)",mPosY:{changeable:!1,value:0},liveCardConfig:{},mSizeHeight:{changeable:!1,value:615.015625},mPosX:{changeable:!1,value:0},__type:"feed",backgroundConfig:{head:{backgroundColor:"",backgroundImage:""},contentPadding:0,bottom:{backgroundColor:"",backgroundImage:""},content:{backgroundColor:"",backgroundImage:""},cardSpace:8},cardBorderRadius:9,pricePosition:"left"},child:[]},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461727,properties:{backgroundColor:"",backgroundImg:"",mSizeHeight:50},child:[13]},{thumbnail:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/progressImg.png",widgetId:899,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5OrchardBall5.js",title:"",type:"gt-dxdjx-h5-orchard-ball",widgetMoldId:1230,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"GtDxdjxH5OrchardBall-default",name:"GtDxdjxH5OrchardBall",doc:{},isUseTheme:!1,widgetInfoId:3263461721,properties:{mPosY:{changeable:!1,value:0},"__biz-type__":[],mSizeWidth:{changeable:!1,value:50},mSizeHeight:{changeable:!1,value:50},mPosX:{changeable:!1,value:0},fixed:{bottomChangeable:!1,rightChangeable:!1,bottom:80,pagePadding:0,width:"100%",right:12,type:"right"},"m-coordinates":"leftTop"}},{thumbnail:"",widgetId:186,groupId:5,title:"内容块组件",type:"mip-sjh-module",widgetMoldId:141,groupName:"布局组件",widgetMoldName:"module",name:"mip-sjh-module",doc:"",widgetInfoId:3263461722,properties:{backgroundColor:"","is-adaptive":!0,backgroundImg:"",mSizeHeight:58.03125},child:[15]},{thumbnail:"https://jmy-pic.baidu.com/0/pic/-207500258_638707878.png",widgetId:890,icon:"",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/GtDxdjxH5Tabbar5.js",title:"",type:"gt-dxdjx-h5-tabbar",widgetMoldId:1220,depWidgets:{},mLayout:{isBlock:!0,fixed:!0},widgetMoldName:"GtDxdjxH5Tabbar-default",name:"GtDxdjxH5Tabbar",doc:{},widgetInfoId:3263461723,properties:{backgroundColor:"rgba(255, 255, 255, 1)",unSelectedTextColor:"#525252",mPosY:{changeable:!0,value:0},selectedTextColor:"#1f1f1f","__biz-type__":[],mSizeWidth:{changeable:!1,value:375},mSizeHeight:{changeable:!1,value:58.03125},mPosX:{changeable:!0,value:0},tabbarItems:[{btnLink:{linkUrl:"baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf/wjz/dxdjx/billion-subsidy/billion-subsidy",linkType:"swan"},selectedImgUrl:"https://jmy-pic.baidu.com/0/pic/1752449249_-949977527_-1412299783.png",unSelectedImgUrl:"https://jmy-pic.baidu.com/0/pic/-1488226210_-1497023172_-574779694.png",content:"尖货补贴"},{btnLink:{linkUrl:"baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf/wjz/dxdjx/mall-index/mall-index",linkType:"swan"},selectedImgUrl:"https://jmy-pic.baidu.com/0/pic/-519013725_1817747814_-1726330694.png",unSelectedImgUrl:"https://jmy-pic.baidu.com/0/pic/-1432249976_-1636961068_1696465314.png",content:"商城好物"},{btnLink:{linkUrl:"",linkType:""},selectedImgUrl:"https://jmy-pic.baidu.com/0/pic/729178085_-1643650689_2003114380.png",unSelectedImgUrl:"",content:"9块9专区"}],fixed:{leftChangeable:!1,left:0,bottom:0,topChangeable:!1,pagePadding:0,width:"100%",type:"bottom"},"m-coordinates":"leftTop"}}],userid:34292267,productName:"GOODS",url:"https://aisite.wejianzhan.com/site/wjz5darx/ba35f8aa-61f9-40b1-84ad-734166c28ef5",pageModuleIds:[0,2,4,6,8,10,12,14],pageType:1,extData:{isEverDynProductDetail:!1,backgroundColor:"#f5f5f5",pageStyle:{mLayout:{paddingBottom:0,theme:{"--groot-ui-min-height":"101vh"},paddingTop:0}},dxdjxStatusBarColor:"black",consultStyle:{},dynNum:0,isEverDynQuestion:!1,isEverDynMaterial:!1,isDyn:!1,isEverDyn:!1,dxdjxShareInfo:{imageUrl:"https://jmy-pic.baidu.com/0/pic/1188908638_1712064115_307403642.png",title:"百度11.11 包邮9.9元起~",content:"智选好物 裸价来袭 戳我来抄底"},dynInfo:"",isEverDynProduct:!1},appid:5,siteConfig:{},siteid:57193965,subAppId:255,siteType:3,vpucid:"n1fzrHczPWT",gfhid:""}})),window.define("386",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=_(e(5)),T=_(e(387)),x=e(239),P=_(e(389)),D=_(e(390));function _(e){return e&&e.__esModule?e:{default:e}}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var A="dynamic",j="staticDynamic",O="dynamicStatic",L=Object.assign({actionId:"site_req_recv"},{type:"standardPageGeneratorV2",id:"standardPageGeneratorV2",name:"standardPageGeneratorV2",title:"standardPageGeneratorV2"}),E="created",N="attached",R="start_get_page_config",M="end_get_page_config",B="start_set_render_data",F="end_set_render_data";o.default=function(e,t,o){return{data:{widgets:[],currentPage:{},currentError:null,wrapperStyle:{}},properties:{pageData:{value:{},type:Object}},lifetimes:{created:function(){this.perfLogTime={},this.setPerLogData(E)},attached:function(){var e=this;this.setPerLogData(N);var t=n().globalData.eventManager;t&&t.addHandler("standardpagegeneratoraction-"+(0,x.getCurrentPage)().uri,(function(t){var o=t.type;"refresh"===o&&e.init({type:o})})),this.init()}},pageLifetimes:{hide:function(){n().globalData.siteData.launchTimestamp=0}},methods:{initPathInfo:function(){this.currentPage=(0,x.getCurrentPage)();var e=!0,o=!1,a=void 0;try{for(var i,n=Object.values(t)[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value,s=r.path,d=r.isStatic,u=void 0!==d&&d,c=r.isCompileStaticPage,p=void 0!==c&&c,l=r.isGetPageConfigOnInit;s===this.currentPage.uri&&(this.isStaticPage=u,this.isCompileStaticPage=p,this.isGetPageConfigOnInit=l)}}catch(e){o=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(o)throw a}}},init:function(e){var t=this;this.initPathInfo(),this.data.currentError?this.setData({widgets:[],currentPage:{},currentError:null},(function(){t.initPageConfig(e)})):this.initPageConfig(e)},initPageConfig:function(t){var o=this;e().then((function(e){e&&"{}"!==JSON.stringify(e)&&o.parsePageConfig(e,!o.isStaticPage)})),this.isStaticPage||this.getPageConfig(t)},getPageConfig:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.type;this.setPerLogData(R),(this.isGetPageConfigOnInit&&this.currentPage.getRemotePageConfig&&"refresh"!==o?this.currentPage.getRemotePageConfig:(0,D.default)()).then((function(t){e.setPerLogData(M);var o=(t.data?t.data:{}).pageConfig;e.parsePageConfig(JSON.parse(o))})).catch((function(t){e.widgets&&e.widgets.length||e.setData({currentError:t||"error"})}))},modifyPageConfigByDeveloper:function(e){return o&&"function"==typeof o.gotPageConfig&&o.gotPageConfig(e),e},setPerLogData:function(e){try{var t=(n().globalData.pageData||{}).initTimestamp,o=void 0===t?0:t,a=(n().globalData.siteData||{}).launchTimestamp,i=void 0===a?0:a,r={};o&&o>0&&(r[e]=(new Date).getTime()-o),i&&+i>0&&(r["launch_"+e]=(new Date).getTime()-i),this.perfLogTime=Object.assign({},this.perfLogTime,r)}catch(e){console.log(e)}},sendPerfLog:function(){I.default.logActions.addUserDefinedLog(Object.assign({},L,{compTargetId:"m-vision-standard-page-generator-perf",userExtra:Object.assign({},this.perfLogTime)}))},addLog:function(){this.setPerLogData(F),this.sendPerfLog()},parsePageConfig:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.dealWithPageReqCookie(),e=this.modifyPageConfigByDeveloper(e);var a=e=(0,P.default)(e),i=a.widgets,n=a.wrapperStyle;i.forEach((function(e,o){var a=e.properties.__dynamic__;if(a&&"{}"!==JSON.stringify(a)){var i=a.path,n=a.experimentData,r=a.ext,s=a.dataMode,d=void 0===s?j:s,u=e.properties;d!==A&&d!==O||(e.properties={});var c={experimentData:n,ext:r};(0,T.default)(i,c).then((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setDynamicData(e,a.data,o,d,u)}))}})),this.setPerLogData(B),this.triggerEvent("pageConfigGot",Object.assign({},e,{staticInDynamic:o})),this.isStaticPage&&this.isCompileStaticPage?this.addLog():this.setPageData(e,i,n)},setPageData:function(e,t,o){var a=this,i=e.pageModuleIds,r=n().globalData.siteData.frameworkConfig||{},s=r.widgetPropsBlackList,d=r.propertiesBlackList;t=t.map((function(e){var t=JSON.parse(JSON.stringify(e));return s&&s.length&&(t=(0,x.omit)(t,s)),d&&d.length&&(t.properties=(0,x.omit)(t.properties,d)),t})),this.setData({pageModuleIds:i,widgets:t,wrapperStyle:o},(function(){a.addLog()}))},setDynamicData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],a=arguments[3],i=arguments[4],n=a===A?t:t||i;this.setData(k({},"widgets["+o+"].properties",Object.assign({},this.data.widgets[o].properties,n)))},onCurrTabChanged:function(e){var t=k({},"widgets["+e.parentId+"].properties.navProps.activeIndex",e.currId),o=this.data.widgets[e.parentId].properties.navProps.renderedIds;!o.indexOf(e.currId)>-1&&(o.push(e.currId),t=Object.assign({},t,k({},"widgets["+e.parentId+"].properties.navProps.navList["+e.currId+"].rendered",!0))),this.setData(t)},dealWithPageReqCookie:function(){var e=n().globalData.siteData.siteReqCookieMap,t=(void 0===e?{}:e)[decodeURIComponent("cip-benz/xcx/getPageConfig")]||"";Object.assign(n().globalData.pageData,{pageReqCookie:t})},onClickWidget:function(e){var t=e.detail||{},o={X:Math.floor(t.x),Y:Math.floor(t.y)};i.setStorageSync("siteopen-sdk-click-data",JSON.stringify(o));var a=e.currentTarget.dataset||{},n=a.id,r=a.name,s=a.type,d=a.title;I.default.addCompLog({id:n,name:r,type:s,title:d})},onChange:function(e){this.triggerEvent("changePageData",e)}}}}})),window.define("387",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(388);o.default=function(e,t){var o=n().globalData,a=o.siteData,r=o.pageData,s=Object.assign({siteData:a,pageData:r},t);return new Promise((function(t,o){try{i.getCommonSysInfo({complete:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.cuid&&(s.cuId=o.cuid),o.baidu_id&&(s.baiduId=o.baidu_id),i.getBDUSS({complete:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.bduss&&(s.bduss=o.bduss),t((0,I.post)(e,s))}})}})}catch(o){t((0,I.post)(e,s))}}))}})),window.define("388",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.iPost=o.post=void 0;var I=P(e(34)),T=P(e(82)),x=e(54);function P(e){return e&&e.__esModule?e:{default:e}}var D=function(e,t){var o,a,i,r=t&&t["Set-Cookie"],s=n().globalData.siteData.siteReqCookieMap,d=void 0===s?{}:s;r&&Object.assign(n().globalData.siteData,{siteReqCookieMap:Object.assign({},d,(o={},a=decodeURIComponent(e),i=r,a in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,o))})},_=function(e,t,o,a,r){var s=r.baiduId,d=(0,I.default)(),u=s?"BAIDUID="+s+";":"",c=e.indexOf("?")>-1?"&":"?",p=n().globalData.requestConfig.apiOrigin+"/"+e+c+"reqid="+d,l=n().globalData.requestConfig.apiUrlHook;l&&(p=l(p)),i.request({url:p,data:"local"===T.default.currentEnv?{params:JSON.stringify(t)}:t,header:{"content-type":"local"===T.default.currentEnv?"application/x-www-form-urlencoded":"application/json",Cookie:u+"benz_exp_userid="+(n().globalData.siteData.jmyAbTestUserId||"")+";"},method:"POST",success:function(t){if(+t.data.status===x.SUCCESS_CODE){var i=e.split("?")[0]||e;D(i,t.header),o(t.data)}else a(t.data)},fail:function(e){a(e)}})};o.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(o,a){var r=i.getStorageSync(x.BAIDU_SYS_INFO);if(r){var s=JSON.parse(r).baidu_id||"";_(e,t,o,a,{baiduId:s})}else n().globalData.siteData.bdSysInfoPromise.then((function(i){var n=i.baidu_id||"";_(e,t,o,a,{baiduId:n})}))}))},o.iPost=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(o,a){var r=(0,I.default)();i.request({url:n().globalData.requestConfig.apiOrigin+"/"+e+"?reqid="+r,data:"local"===T.default.currentEnv?{params:JSON.stringify(t)}:t,header:{"content-type":"local"===T.default.currentEnv?"application/x-www-form-urlencoded":"application/json",Cookie:"benz_exp_userid="+(n().globalData.siteData.jmyAbTestUserId||"")+";"},method:"POST",success:function(t){+t.data.status===x.SUCCESS_CODE?(D(e,t.header),o(t.data)):a(t.data)},fail:function(e){a(e)}})}))}})),window.define("389",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I="relative",T="absolute",x="static",P="fixed",D=function(e){new RegExp("^[0-9]*$").test(e)&&(e=parseInt(e,10));var t="number"==typeof e?e:null;return(""+e).indexOf("px")>-1&&(t=+e.split("px")[0]),t?(2*+t).toString()+"rpx":e},_=function(e){var t={};return Object.keys(e).forEach((function(o){var a=(o+"").replace(/-\D/g,(function(e){return e.charAt(1).toUpperCase()}));t[a]=e[o]})),t},k=function(e){return"string"==typeof e?e:e+"px"},A=function(e){var t={},o=e.type,a=e.widgetInfoId,i=e.properties;return t.__id__=a||"",t.__name__=o+(i.__type?"_"+i.__type:""),t},j=function(e){var t=(e||{}).pageStyle;return Object.assign({},t&&t.mLayout||{})},O=function(e,t){var o=(e||{}).pageStyle,a=(t||{}).pageStyle;return Object.assign({},a&&a.theme||{},o&&o.mLayout&&o.mLayout.theme||{})},L=function(e){var t=e.module,o=void 0===t?{}:t,a=e.widgets,i=void 0===a?[]:a,n=o.properties||{},r=n.mSizeHeight,s=void 0===r?200:r,d=n.backgroundColor,u=n.isAdaptive,c=n.backgroundImg,p=s,l={position:I,width:D(375),height:u?"auto":D(p),overflow:u?"auto":"hidden"};return d&&(l["background-color"]=d),c&&(l["background-repeat"]="no-repeat",l["background-size"]=l.width+" "+l.height,l["background-image"]="url("+c+")"),l=Object.assign({},l,function(e){var t=e.module,o=void 0===t?{}:t,a=e.widgets,i=void 0===a?[]:a,n={};if(o.child&&o.child.length&&1===o.child.length){var r=i[o.child[0]],s=r.mLayout,d=r.properties;if(s&&s.fixed){var u=(d=_(d)).fixed||{},c=u.top,p=u.left,l=u.right,g=u.bottom;n.position=P,n["z-index"]=100,n.overflow="visible",d.mSizeWidth&&d.mSizeWidth.value&&(n.width=D(d.mSizeWidth.value)),d.mSizeHeight&&d.mSizeHeight.value&&(n.height=D(d.mSizeHeight.value)),(c||0===c)&&(n.top=D(c)),(p||0===p)&&(n.left=D(p)),(l||0===l)&&(n.right=D(l)),(g||0===g)&&(n.bottom=D(g))}}return n}({module:o,widgets:i})),l=Object.assign({},l,function(e){var t=e.module,o=void 0===t?{}:t,a=(e.widgets,{});return o.properties&&o.properties.isAdaptive&&(a.height="auto",a.overflow="visible"),a}({module:o,widgets:i}))},E=function(e){var t=e.module,o=void 0===t?{}:t,a=e.widgets,i=void 0===a?[]:a,n=o.properties.isAdaptive;return o.child.forEach((function(e){var t=i[e];t.properties=_(t.properties);var o=t.properties.mPosX.value,a=t.properties.mPosY.value,r=t.properties.mSizeWidth.value,s=t.properties.mSizeHeight.value,d={};n?d.position=x:(d.position=T,d.left=D(o),d.top=D(a),(r||0===r)&&(d.width=D(r)),(s||0===s)&&(d.height=D(s))),t.__style__=d,i[e]=Object.assign({},t,A(t))})),i},N=function(e){return e.map((function(e){var t;return(e=Object.assign({},e,A(e))).properties=_(e.properties),e.properties.hasOwnProperty("navProps")&&(t=e.properties.navProps,0===Object.keys(t).length)&&(e.properties.navProps=null),e.properties.navProps&&(e.properties.navProps.renderedIds=[e.properties.navProps.activeIndex],Object.keys(e.properties.navProps.navList).forEach((function(t){e.properties.navProps.navList[t].rendered=+t==+e.properties.navProps.activeIndex}))),e}))},R=function(e){e.widgets=N(e.widgets);var t=e.pageModuleIds,o=e.widgets,a=e.extData,i=void 0===a?{}:a,n=e.siteConfig,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={},a=j(e),i=O(e,t)["--groot-ui-min-height"];return i&&(o["min-height"]=D(i)),a.paddingTop&&(o["padding-top"]=k(a.paddingTop)),a.paddingBottom&&(o["padding-bottom"]=k(a.paddingBottom)),e.backgroundColor&&(o["background-color"]=""+e.backgroundColor),o}(i,void 0===n?{}:n);return{widgets:o=function(e,t){return e.forEach((function(e){var o=t[e];o.properties.navProps?(o.__style__={height:"auto",overflow:"visible"},o.child.forEach((function(e){var o=t[e];o.__style__=L({module:o,widgets:t}),t=E({module:o,widgets:t})}))):(o.__style__=L({module:o,widgets:t}),t=E({module:o,widgets:t}))})),t}(t,o),wrapperStyle:r}};t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,R(e),{pageInfo:Object.assign({},e.pageInfo||{},{showType:2})})}})),window.define("390",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(239),x=e(391),P=(I=x)&&I.__esModule?I:{default:I};o.default=function(){return new Promise((function(e,t){(0,P.default)({htmlPath:(0,T.getCurrentPage)().options.url||(0,T.getExtCurrentPageInfo)().htmlUrl,pageId:(0,T.getCurrentPage)().options.pageId||(0,T.getExtCurrentPageInfo)().pageId||0}).then((function(t){e(t)})).catch((function(e){t(e)}))}))}})),window.define("391",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(388),x=e(392),P=(I=x)&&I.__esModule?I:{default:I};o.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(0,P.default)(),a=o?"cip-benz/xcx/getPageConfig?eids="+o:"cip-benz/xcx/getPageConfig";return t?(0,T.post)(a,e):(0,T.iPost)(a,e)}})),window.define("392",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){var e="";try{var t=getCurrentPages();e=t[t.length-1].options.eids}catch(e){}return e}})),window.define("394",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(58);Component({options:{addGlobalClass:!0},properties:{defaultActiveTab:{type:Number,default:0}},data:{isShowBottomBar:!1,tabList:I.dxdjxBottomBar,activeTab:0},attached:function(){this.initBottomBar()},methods:{clickTab:function(e){var t=e.currentTarget.dataset.index,o=this.properties.tabList[t].pagePath,a=getCurrentPages()[getCurrentPages().length-1].options;t!==this.data.activeTab&&(o===I.PAGES.SHOP_HOME?(0,T.jumpToInnerSwan)({type:T.innerJumpType.navigateBack}):(0,T.jumpToInnerSwan)({path:o,params:a}))},initBottomBar:function(){var e=this;try{var t=n().globalData.siteData.appKey===I.dxdjxAppkey;if(t){var o="/"+getCurrentPages()[getCurrentPages().length-1].route;I.dxdjxBottomBar.some((function(a,i){if(a.pagePath===o)return e.setData({isShowBottomBar:t,activeTab:i}),!0}))}}catch(e){console.log(e)}}}})})),window.define("402",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&e.indicatprs&&this.formatData(e)}}},data:{score:0,fullStars:[],halfStars:[],emptyStars:[],customStyle:{color:"#858585"}},methods:{formatData:function(e){var t=e.indicatprs,o=void 0===t?"0":t,a=e.style,i=void 0===a?{color:"#858585"}:a;try{var n,r=String(o).split("."),s=I(r,2),d=s[0],u=void 0===d?"0":d,c=s[1],p=void 0===c?"0":c,l=Number(u)>5?5:Number(u),g=0;p>"0"&&p<"8"&&l<5&&(g=1),p>="8"&&l<5&&l++,n=5-l-g,this.setData({score:Number(o).toFixed(1),fullStars:new Array(l).fill(""),halfStars:new Array(g).fill(""),emptyStars:new Array(n).fill("")})}catch(e){console.log(e)}this.setData({customStyle:i})},handleClick:function(){(0,T.bdxdAddLog)(this,{compTargetId:"ssv_663"})}}})})),window.define("404",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(58),x=e(51),P=e(4),D=e(48);Component({properties:{maxShowNum:{type:Number,value:3},recommendData:{type:Array,value:[],observer:function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(e)).map((function(e){var t=(e.realPrice||"").split("."),o=I(t,2),a=o[0],i=void 0===a?"":a,n=o[1],r=void 0===n?"":n;return e.pricePre=i,e.priceFix=r,e}));this.setData({swiperData:this.handelSwiperData(t)})}},ssv:{type:String,value:""}},data:{isShow:!1,spuInfos:[],swiperData:[],swiperCurrent:0,swiperStyle:{}},lifetimes:{attached:function(){this.setSwiperStyle(),this.addProductLogShow()}},methods:{addProductLogShow:function(){(0,P.bdxdAddLog)(this,{compTargetId:this.data.ssv,logType:D.bdtjLogType.elemShow})},handelSwiperData:function(e){for(var t=this.properties.maxShowNum,o=e.slice(0,3*t),a=o.length,i=t,n=[],r=0;r<a;r+=i){var s=o.slice(r,r+i);s.length===i&&n.push(s)}return n},setSwiperStyle:function(){var e=this.properties.maxShowNum/3,t={height:189*1.81*e+42*(e-1)+"rpx"};this.setData({swiperStyle:t})},swiperChangeCustom:function(e){this.setData({swiperCurrent:e.detail.current})},jumpToDetail:function(e){var t=e.currentTarget.dataset.item.spuId;(0,T.jumpToInnerSwan)({path:x.PAGES.PRODUCT_DETAIL,params:{spuId:t,subSceneValue:this.data.ssv},log:{ctx:this}})}}})})),window.define("406",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(59),x=e(51),P=e(58);Component({options:{addGlobalClass:!0},properties:{isShow:{type:Boolean,value:!1},qualityScoreExperienceInfo:{type:Object,value:{}},shopLogo:{type:String,value:""},shopName:{type:String,value:"",observer:function(e){var t=this,o=this.properties.shopPageShow&&e.length>10?e.substring(0,10)+"...":e;this.setData({shopNameShow:o}),i.nextTick((function(){var e=i.createSelectorQuery().in(t);e.select(".shop-name-ruler").boundingClientRect(),e.exec((function(e){if(e&&e[0]){var o=e[0].width;switch(+(t.properties.shopServiceLevel>2)+t.properties.qualityTag){case 1:o>430&&t.setData({tagOverflow:!0});break;case 2:o>378&&t.setData({tagOverflow:!0})}}}))}))}},shopIntro:{type:String,value:"",observer:function(e){var t=this.properties.shopPageShow&&e.length>14?e.substring(0,14)+"...":e;this.setData({shopIntroShow:t})}},shopIndicatprs:{type:String,value:""},shopAuthType:{type:Number,value:0},shopPageShow:{type:Boolean,value:!1},shopInfoIconShow:{type:Boolean,value:!1},authIcon:{type:String,value:"http://bj.bcebos.com/fcmall/0/pic/1efb38d0fd50b562f3071b7bb1848988.png"},bgColor:{type:String,value:""},customStyle:{type:Object,value:{}},qualityTag:{type:Number,value:0},brandPosition:{type:Number,value:1},styleType:{type:Number,value:1},shopRecommend:{type:Array,value:[],observer:function(e){var t=e;this.setData({shopRecommendData:t})}},consult:{type:String,value:""},ucId:{type:String,value:""},showConsult:{type:Boolean,value:!1},shopId:{type:Number,value:0,observer:function(){this.initConsultVisit()}},spuId:{type:String,value:"",observer:function(){this.initConsultVisit()}},shopServiceLevel:{type:Number,value:0},name:{type:String,value:""},isHalfScreen:{type:Boolean,value:!1},notUseSDK:{type:Boolean,value:!1},isBrandProduct:{type:Boolean,value:!1}},data:{shopNameShow:"",shopIntroShow:"",shopRecommendData:[],visitParamExt:{},shopSsv:"ssv_534",tagOverflow:!1},methods:{shopLogoClick:function(e){this.triggerEvent("clickend","SHOP_LOGO")},jumpToShopIndex:function(){!this.properties.isHalfScreen&&this.triggerEvent("clickend","SHOP_INDEX")},jumpToShopInfo:function(){this.triggerEvent("clickend","SHOP_INFO")},initConsultVisit:function(){this.setData({visitParamExt:{init_cards:[{service:10,value:{clientType:"smart-app",spuId:this.properties.spuId,appId:n().globalData.siteData.appId,shopId:this.properties.shopId,url:(0,I.getCurUrl)()}}],init_msg:{msg:"商品："+this.properties.name+" 商品详情页咨询按钮-中部",type:3}}})},onConsultClick:function(e){var t=this;if((0,I.bdxdAddLog)(this,{compTargetId:"ssv_539",actionId:"site_bar_click",userExtra:{spu_id:this.properties.spuId,comp_material_id:this.properties.spuId,target:this.properties.consult}}),this.properties.notUseSDK){var o=T.JD_KEFU_INFO.find((function(e){return+e.shopId==+t.properties.shopId}));(0,P.jumpToInnerSwan)({path:x.PAGES.COMMUNICATE_WEB_VIEW,params:{url:o.kefuUrlInSpu+"?productId="+this.properties.spuId+"&shopId="+this.properties.shopId+"&shopName="+o.shopName+"&userid="+this.properties.ucId+"&productLineAppid=5"}})}},shopLevelTagClick:function(){i.showModal({content:"系统根据店铺的商品销量、发货效率、服务质量等因素对店铺进行综合打分，取分值较高的店铺划分为银牌、金牌、钻石级进行展示。",confirmText:"确定",showCancel:!1})}}})})),window.define("412",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(51),x={properties:{orderId:{type:String,value:""},batchId:{type:String,value:""},skuId:{type:String,value:""},spuId:{type:String,value:""},groupId:{type:String,value:""},goodsName:{type:String,value:""},goodsImg:{type:String,value:""},salePrice:{type:String,value:"",observer:function(e){var t=e.split("."),o=I(t,2);this.data.salePriceBefore=o[0];var a=o[1];this.data.salePriceAfter=void 0===a?"":a,this.setData({salePriceBefore:this.data.salePriceBefore,salePriceAfter:this.data.salePriceAfter})}},count:{type:String,value:""},spec:{type:Array,value:""},specText:{type:String,value:""},refundText:{type:String,value:""},refundStatus:{type:Number,value:0},showTip:{type:Boolean,value:!1},tip:{type:String,value:""},pageType:{type:String,value:""},totalPaymentAmount:{type:String,value:""},showCount:{type:Boolean,value:!0},goodsLabels:{type:Object,value:{}},styleType:{type:Number,value:T.ORDER_GOODS_CARD_TYPE.normal},hasRelatedOrder:{type:Boolean,value:!1},isNft:{type:Boolean,value:!1},isSingle:{type:Boolean,value:!1},isBrandProduct:{type:Boolean,value:!1},isExempt:{type:Number,value:0},predictDeliveryDay:{type:Number,value:0},exemptAreaMark:{type:Number,value:0},exemptReason:{type:String,value:"物流影响"},deliveryDelayTip:{type:String,value:""},from:{type:String,value:""}},data:{salePriceBefore:"0",salePriceAfter:"",cardTypeMap:T.ORDER_GOODS_CARD_TYPE,deliveryText:""},logicData:{generalParams:{id:"mip-bdxd-order-goods-card",name:"mip-bdxd-order-goods-card",type:"mip-bdxd-order-goods-card",title:"商品卡"}},lifetimes:{attached:function(){var e=this.properties,t=e.isExempt,o=e.predictDeliveryDay,a=e.exemptAreaMark,i=e.exemptReason,n=e.deliveryDelayTip,r="";t&&(r="受"+T.EXEMP_AREA_MARK_MAP[a]+i+"，下单后预计"+o+"天内发货"),n&&(r=n),this.setData({deliveryText:r})}},methods:{onGoodsCardClick:function(){this.data;this.dispatch("ongoodscardclick",{orderId:this.data.orderId,skuId:this.data.skuId,spuId:this.data.spuId,batchId:this.data.batchId,hasRelatedOrder:this.data.hasRelatedOrder})}}};Component(x)})),window.define("441",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81);Component({options:{addGlobalClass:!0},externalClasses:["guarantee-container-class"],properties:{compData:{type:Array,value:[],observer:function(e){e&&this.formatData(e)}},gapBgColor:{type:String,default:""},gapHeight:{type:Number,default:0}},data:{guaranteeList:[],isShowOrderEnsureTitle:!1},methods:{openGuaranteePage:function(e){var t=e.currentTarget.dataset,o=t.url,a=t.easyBrowseParams;if(o){var n=a?JSON.parse(a):{};(0,I.jumpToH5PageByEasyBrowseFirst)({url:o,easyBrowseParams:n})}else i.showModal({content:"保障时效已过期，无法申请保障",showCancel:!1,confirmText:"我知道了"})},formatData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returnExpressFee,o=e.securityService,a=[this.formatSecurityService(o),this.formatReturnExpressFee(t)].filter((function(e){return e}));this.setData({guaranteeList:a})},formatReturnExpressFee:function(e){if(e)return{title:"退货补运费（退换货可获补贴）",status:e.statusText,statusStyle:{color:"#FD503E"},url:e.url,easyBrowseParams:JSON.stringify({barcolor:"fd503e",layoutfullscreen:1})}},formatSecurityService:function(e){if(e){this.setData({isShowOrderEnsureTitle:!0});var t=e.url,o=e.statusText,a=e.spuLabelList;return{title:(void 0===a?[]:a).map((function(e){return e.value})).join(" · "),status:o,statusStyle:{color:"#1F1F1F"},url:t}}}}})})),window.define("450",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SmallFourBehLinkTo=void 0;var I=e(51),T=e(58);o.SmallFourBehLinkTo=Behavior({properties:{__id__:{type:String},__name__:{type:String},__title__:{type:String},__type__:{type:String},subOrderId:{type:Number,value:0}},data:{orderInfo:{}},methods:{oncomplaintdetailclick:function(e){var t=e.complaintId,o=e.refundId,a=e.orderId,i=e.subOrderId;(0,T.jumpToInnerSwan)({path:I.PAGES.COMPLAINT_DETAIL,params:{complaintId:t,refundId:o,orderId:a,subOrderId:i}})},onrefundbuttonclick:function(e){var t=e.refundType,o=e.subOrderId,a=e.orderId,i=e.isAgainApply,n=void 0!==i&&i,r=e.refundId,s=void 0===r?"":r,d=e.shopId,u=this.data.orderInfo;a=a||u.orderId,(0,T.jumpToInnerSwan)({path:I.PAGES.APPLY_REFUND,params:{orderId:a,refundType:t,subOrderId:o,isAgainApply:n,shopId:d,refundId:s}})},onrefunddetailclick:function(e){var t=e.refundId,o=void 0===t?"":t,a=e.subOrderId,i=e.refundType,n=this.data.orderInfo;(0,T.jumpToInnerSwan)({path:I.PAGES.REFUND_DETAIL,params:{orderId:n.orderId,refundId:o,subOrderId:a,refundType:i}})}}})})),window.define("461",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SmallFourBeh=void 0;var I,T=e(51),x=e(3),P=(I=x)&&I.__esModule?I:{default:I},D=e(58);var _="拼团成功后可申请售后，若拼团失败，则支付金额将原路返回",k="知道了",A="#3388ff";o.SmallFourBeh=Behavior({properties:{refundStatus:{type:Number,value:0},allowRefund:{type:Boolean,value:!1},orderType:{type:Number,value:0},orderStatus:{type:Number,value:0},subOrderId:{type:Number,value:0},refundId:{type:Number,value:0},complaintStatus:{type:Number,value:0},complaintId:{type:String,value:""},orderId:{type:String,value:""},deliverTag:{type:Number,value:0},shopId:{type:String,value:""}},data:{confirmColor:"#3388ff",showSelectModal:!1,complaintInfo:{}},logicData:{generalParams:{id:"mip-bdxd-refund",name:"mip-bdxd-refund",type:"mip-bdxd-refund",title:"退款退货"}},methods:{notAllowRefundProcess:function(){var e=this.properties,t=e.complaintStatus,o=e.orderId,a=e.subOrderId,n=e.refundStatus,r=e.refundId,s=e.complaintId,d=Object.values(T.complaintStatusMap).includes(t);if(t&&d)P.default.trigger("oncomplaintdetailclick",{complaintId:s,refundId:r,orderId:o,subOrderId:a});else if([T.refundAllStatusMap.CHANGE_GOODS_CLOSE,T.refundAllStatusMap.CHANGE_GOODS_SUCCESS,T.refundAllStatusMap.CHANGING_GOODS].includes(n)&&n)P.default.trigger("onrefunddetailclick",{refundId:r,subOrderId:a,refundType:T.refundType.CHANGE_GOODS});else{var u=[T.refundAllStatusMap.REFUND_SUCCESS,T.refundAllStatusMap.REFUND_CLOSE,T.refundAllStatusMap.REFUNDDING].includes(n);n&&u?P.default.trigger("onrefunddetailclick",{refundId:r,subOrderId:a}):i.showModal({title:"提示",content:"您购买的商品已过维权保障期，没有可发起的纠纷类型",confirmColor:this.data.confirmColor,showCancel:!1})}},existRefundProcess:function(e){var t=this.properties,o=t.complaintStatus,a=t.orderId,i=t.subOrderId,n=t.complaintId,r=t.refundId,s=t.refundStatus,d=t.orderStatus,u=t.orderType,c=this.data.complaintInfo,p=this.properties.shopId||this.data.complaintInfo.shopId;if(d=c&&c.orderStatus||d,s=c&&c.refundStatus||s,u=c&&c.orderType||u,i=c&&c.subOrderId||i,a=c&&c.orderId||a,o)P.default.trigger("oncomplaintdetailclick",{complaintId:n,refundId:r,orderId:a,subOrderId:i});else{var l=[T.refundAllStatusMap.REFUND_CLOSE,T.refundAllStatusMap.REFUND_CANCEL,T.refundAllStatusMap.CHANGE_GOODS_CLOSE].includes(s);if(e||l)if(d===T.orderStatusMap.UNSEND||d===T.orderStatusMap.PART_SEND&&!this.properties.deliverTag)P.default.trigger("onrefundbuttonclick",{refundType:T.refundType.REFUND,subOrderId:i,shopId:p});else{var g=[T.orderStatusMap.SEND,T.orderStatusMap.DEAL_SUCCESS,T.orderStatusMap.PART_SEND].includes(d),h=e&&[T.refundAllStatusMap.CLOSE,T.refundAllStatusMap.CANCEL,T.refundAllStatusMap.CHANGE_GOODS_CANCEL_GOODS,T.refundAllStatusMap.CHANGE_GOODS_NO_REFUND_GOODS].includes(s);(g||h)&&(u===T.goodsTypeMap.normal?(0,D.jumpToInnerSwan)({path:T.PAGES.CHOOSE_REFUNDTYPE,params:{orderId:a,subOrderId:i,shopId:p}}):u===T.goodsTypeMap.virtualCard&&P.default.trigger("onrefundbuttonclick",{refundType:T.refundType.REFUND,subOrderId:i,shopId:p}))}else{var m=[T.refundAllStatusMap.CHANGING_GOODS,T.refundAllStatusMap.CHANGE_GOODS_SUCCESS,T.refundAllStatusMap.CHANGE_GOODS_APPLY,T.refundAllStatusMap.CHANGE_GOODS_AGREE,T.refundAllStatusMap.CHANGE_GOODS_BUYER_RECEIVE_GOODS,T.refundAllStatusMap.CHANGE_GOODS_RECEIVED,T.refundAllStatusMap.CHANGE_GOODS_REJECT,T.refundAllStatusMap.CHANGE_GOODS_TIMEOVER_AGREE,T.refundAllStatusMap.CHANGE_GOODS_CANCEL_GOODS,T.refundAllStatusMap.CHANGE_GOODS_REJECT_RECEIVE_GOODS,T.refundAllStatusMap.CHANGE_GOODS_NO_REFUND_GOODS,T.refundAllStatusMap.CHANGE_GOODS_REFUND_GOODS].includes(s)?T.refundType.CHANGE_GOODS:"";P.default.trigger("onrefunddetailclick",{refundId:r,subOrderId:i,refundType:m})}}},notRefundProcess:function(){var e=this.properties,t=e.subOrderId,o=e.orderStatus,a=e.orderType,i=e.orderId;o===T.orderStatusMap.UNSEND||o===T.orderStatusMap.PART_SEND&&!this.properties.deliverTag?P.default.trigger("onrefundbuttonclick",{refundType:T.refundType.REFUND,subOrderId:t,shopId:this.properties.shopId}):[T.orderStatusMap.SEND,T.orderStatusMap.DEAL_SUCCESS,T.orderStatusMap.PART_SEND].includes(o)&&(a===T.goodsTypeMap.normal?(0,D.jumpToInnerSwan)({path:T.PAGES.CHOOSE_REFUNDTYPE,params:{orderId:i,subOrderId:t,shopId:this.properties.shopId}}):a===T.goodsTypeMap.virtualCard&&P.default.trigger("onrefundbuttonclick",{refundType:T.refundType.REFUND,subOrderId:t,shopId:this.properties.shopId}))},handleButtonClick:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.properties,o=t.refundStatus,a=t.allowRefund,n=t.orderGroupStatus,r=t.openRefund,s=this.data.complaintInfo;o=s&&s.refundStatus||o,a=s&&s.allowRefund||a,n&&n===T.groupStatusMap.GROUP_PROCESSING?i.showModal({title:"",content:_,confirmColor:A,showCancel:!1,confirmText:k}):a||r?o?this.existRefundProcess(e):this.notRefundProcess():this.notAllowRefundProcess()}}})})),window.define("467",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4);Component({options:{addGlobalClass:!0},externalClasses:["wrapper-class"],properties:{name:{type:String,value:""},id:{type:String,value:""},value:{type:String,value:""},type:{type:String,value:"text"},password:{type:Boolean,value:!1},placeholder:{type:String,value:"请输入"},placeholderClass:{type:String,value:""},placeholderStyle:{type:String,value:""},disabled:{type:Boolean,value:!1},maxlength:{type:Number,value:140},cursorSpacing:{type:Number,value:0},focus:{type:Boolean,value:!1},confirmType:{type:String,value:"确定"},confirmHold:{type:Boolean,value:!1},cursor:{type:Number,value:-1},selectionStart:{type:Number,value:-1},selectionEnd:{type:Number,value:-1},adjustPosition:{type:Boolean,value:!0},clearable:{type:Boolean,value:!1},debounceTime:{type:Number,value:200}},data:{isShowClear:!1},methods:{inputHandle:function(e){var t=this;(0,I.debounce)((function(){t.triggerEvent("change",e.detail)}),this.properties.debounceTime).bind(this)()},focusHandle:function(e){this.setData("isShowClear",!0),this.triggerEvent("focus",e.detail)},blurHandle:function(e){this.setData("isShowClear",!1),this.triggerEvent("blur",e.detail)},confirmHandle:function(e){this.triggerEvent("confirm",e.detail)},clearHandle:function(){this.setData("value",""),this.triggerEvent("change",Object.assign({},this.properties))}}})})),window.define("487",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(58),x=e(51),P=e(59);Component({options:{addGlobalClass:!0},properties:{spuId:{type:String},skuId:{type:String},shopConsultUrl:{type:String,value:""},shopPhoneNumber:{type:Boolean,value:!1},shopCustormerService:{type:String,value:""},orderId:{type:String,observer:function(){this.initConsultVisit()}},batchId:{type:String,observer:function(){this.initConsultVisit()}},shopId:{tyep:Number,observer:function(){this.initConsultVisit()}},ucId:{type:String,value:""},isNft:{type:Boolean,value:!1},notUseSDK:{type:Boolean,value:!1}},data:{visitParamExt:{}},logicData:{generalParams:{id:"mip-bdxd-order-store-button",name:"mip-bdxd-order-store-button",type:"mip-bdxd-order-store-button",title:"订单状态按钮"}},methods:{handleConsult:function(){var e=this;if(this.properties.notUseSDK){(0,I.bdxdAddLog)(this,{compTargetId:"ssv_722",userExtra:{orderId:this.properties.orderId}});var t=P.JD_KEFU_INFO.find((function(t){return+t.shopId==+e.properties.shopId}));(0,T.jumpToInnerSwan)({path:x.PAGES.COMMUNICATE_WEB_VIEW,params:{url:t.kefuUrlInOrderDetail+"?orderId="+this.properties.orderId+"&shopId="+this.properties.shopId+"&shopName="+t.shopName+"&userid="+this.properties.ucId+"&productLineAppid=5"}})}},initConsultVisit:function(){var e=getCurrentPages(),t=e[e.length-1].uri,o="",a=this.properties.orderId||this.properties.batchId;t.indexOf("order-detail")>-1?o="订单："+a+" 订单详情页咨询按钮":t.indexOf("refund-detail")>-1?o="售后："+a+" 售后详情页咨询按钮":t.indexOf("delivery")>-1&&(o="物流："+a+" 物流详情页咨询按钮"),this.setData({visitParamExt:{init_cards:[{service:10,value:{clientType:"smart-app",orderId:this.properties.orderId,batchId:this.properties.batchId,shopId:this.properties.shopId,url:(0,I.getCurUrl)(),appId:n().globalData.siteData.appId}}],init_msg:{msg:o,type:3}}})},handleService:function(){var e=this.properties.orderId||this.properties.batchId;(0,I.bdxdAddLog)(this,{compTargetId:"ssv_720",userExtra:{orderId:e}});var t="https://ufosdk.baidu.com/ufosdk/imConfig/kzW64y1caVbEMXtCiyhXKw%3D%3D/238617?"+("orderId="+e+"&sdkvn=3.0.0");(0,T.jumpToInnerSwan)({path:x.PAGES.COMMUNICATE_WEB_VIEW,params:{url:t}})},handleCallPhone:function(){var e=this.data.shopPhoneNumber,t=this.properties.orderId||this.properties.batchId;(0,I.bdxdAddLog)(this,{compTargetId:"ssv_721",userExtra:{orderId:t}}),i.makePhoneCall({phoneNumber:e,fail:function(){i.showToast({title:"拨打失败"})}})}}})})),window.define("509",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=e(91),P=e(94),D=e(119),_=e(4),k=e(510),A=e(58),j=e(95),O={data:{nowDate:new Date,writeDate:{end:new Date("2021.12.16 18:00:00")},activityDate:{start:new Date("2021.12.10 00:00:00"),end:new Date("2022.1.29 18:00:00")},secondWriteDate:{start:new Date("2021.12.22 00:00:00"),end:new Date("2021.12.31 18:00:00")}}};Component({options:{addGlobalClass:!0},properties:{},behaviors:[(0,D.loginBehavior)()],messages:{onLogin:function(e){(0,_.bdxdAddLog)(this,{compTargetId:"ssv_336"}),this.data.$isLogin||this.setData({loginFlag:!0}),this.loginHandle(e)}},data:{isExpired:!1,isRequsting:!1,loginFlag:!1,hasSafeArea:!1},attached:function(){var e=this;r().globalData.siteData.systemInfoPromise.then((function(t){var o=t.screenHeight,a=t.safeArea;e.setData({hasSafeArea:o!==a.bottom})}))},pageLifetimes:{show:function(){var e=this;(0,x.getHomeLetterActivityTime)().then((function(t){var o=t.data,a=o.nowDate,i=o.writeDate,n=void 0===i?{}:i,s=o.activityDate,d=void 0===s?{}:s,u=o.secondWriteDate,c=void 0===u?{}:u;a&&n&&n.end&&d&&d.end&&c&&c.start&&c.end?(e.setData({isExpired:a>d.end}),a>=c.start?r().globalData.siteData.writeDateEnd=c.end:r().globalData.siteData.writeDateEnd=n.end,r().globalData.siteData.activityDateEnd=d.end):e.handleTimeLocally()})).catch((function(){e.handleTimeLocally()})).finally((function(){n.loadSubPackage({root:"wjz/dxdjx/home-letter"})}))}},observers:{"$isLogin, loginFlag":function(e,t){e&&t&&(this.setData({loginFlag:!1}),this.handleGoNext())}},methods:{$loginSuccessCb:function(){this.handleGoNext()},$loginFailCb:function(){(0,_.normalToast)({title:"登录失败, 请重试"})},handleTimeLocally:function(){this.setData({isExpired:new Date>new Date("2022.1.29 18:00:00")}),new Date>=new Date("2021.12.22 00:00:00")?r().globalData.siteData.writeDateEnd=new Date("2021.12.31 18:00:00"):r().globalData.siteData.writeDateEnd=new Date("2021.12.16 18:00:00"),r().globalData.siteData.activityDateEnd=new Date("2022.1.29 18:00:00")},handleGoNext:function(){var e=this;this.data.isRequsting||(this.setData({isRequsting:!0}),Promise.all([this.handleTimeReq(),this.handleAuthReq(!0)]).then((function(t){var o=T(t,2),a=o[0],i=void 0===a?{}:a,s=o[1],d=void 0===s?{}:s,u=i&&i.data,c=u.nowDate,p=u.writeDate,l=void 0===p?{}:p,g=u.activityDate,h=void 0===g?{}:g,m=u.secondWriteDate,f=void 0===m?{}:m;try{if(c>h.end)e.setData({isExpired:!0,isRequsting:!1});else if(c<h.start){var v=(0,j.formateDate)(h.start,"YYYY年MM月DD日 hh:mm:ss");(0,_.normalToast)({title:"活动将在"+v+"开始，记得来参与哦~"}),e.setData({isRequsting:!1})}else if(d&&d.type&&"err"===d.type){var b=d.err;b.status===P.HOME_LETTER_ERR_CODE.NOT_LOGIN&&e.dispatch("onReqLoginFail"),(0,_.normalToast)({title:P.HOME_LETTER_RESPONSE_STATUS_MAP[b.status]||b.statusInfo}),e.setData({isRequsting:!1})}else{var w=null;(0,x.getHomeLetterGiftSelected)({activityId:P.ACTIVITY_ID}).then((function(e){w=e&&e.data&&e.data[0]&&e.data[0].status||P.HOME_LETTER_STATUS.default})).catch((function(){var e=n.getStorageSync("notFirstVisit");w=e?P.HOME_LETTER_STATUS.selected:P.HOME_LETTER_STATUS.default})).finally((function(){e.setData({isRequsting:!1}),r().globalData.siteData.homeLetterSent=w===P.HOME_LETTER_STATUS.send;var t="";if(c>l.end&&c<f.start&&w!==P.HOME_LETTER_STATUS.send){var o=(0,j.formateDate)(f.start,"YYYY年MM月DD日hh:mm:ss");(0,_.normalToast)({title:"补单活动将在"+o+"开始，记得来参与哦"})}else c>f.end&&w!==P.HOME_LETTER_STATUS.send?(0,_.normalToast)({title:"活动已结束，感谢对本次活动的关注~"}):(t=w===P.HOME_LETTER_STATUS.send||w===P.HOME_LETTER_STATUS.selected?P.HOME_PAGE_PATH:P.PICK_GIFT_PATH,(0,A.jumpToInnerSwan)({path:t}))}))}}catch(e){console.log(e)}})))},handleTimeReq:function(){return(0,x.getHomeLetterActivityTime)().catch((function(){return O}))},handleRepeatReq:function(e,o){var a=this,i=1e3*(0,k.getRandomArbitrary)(1,3),n=t((function(){e.call(a,o,!1),clearTimeout(n)}),i)},handleAuthReq:function(e){var t=this;function o(e,a){(0,x.getHomeLetterAuth)().then((function(t){e(t)})).catch((function(i){i&&i.status===P.HOME_LETTER_ERR_CODE.LIMIT&&a?t.handleRepeatReq(o,e):e({type:"err",err:i})}))}return new Promise((function(t){return o(t,e)}))},jumpRulePage:function(){(0,A.jumpToInnerSwan)({path:P.WEB_VIEW_PATH,params:{url:P.RULE_PAGE}})}}})})),window.define("510",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.getRandomArbitrary=function(e,t){return Math.random()*(t-e)+e}})),window.define("512",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=e(341),D=e(342),_=e(4),k=e(51),A=e(340),j=e(93),O=e(92),L=e(513),E=(T=L)&&T.__esModule?T:{default:T};var N=(r().globalData.siteData||{}).appId;Component({options:{addGlobalClass:!0},properties:{},behaviors:[D.productDetailBehavior],data:{videoUrl:"",headImageUrl:"",showLiveProductCard:!0,livePlayBackPriceReady:!1,couponMoveOut:!1,spuId:"",shopId:"",salePrice:"",salePriceFormat:{},specLayerIsOpen:!1,nPriceBuyType:k.N_PRICE_BUY_TYPE.NORMAL,discountArr:[],attrLayerMap:k.ATTR_LAYER_MAP,productData:{}},logicData:{isAddingCart:!1,isOrderCheckLoaded:!0,isAutoTakeCoupon:!1,protectIds:"",lastNavBarColorFlag:!0,hasLogin:!1},attached:function(){var e=(0,_.parsePageQuery)(),t=e.spuId,o=e.videoUrl;this.setData({spuId:t,videoUrl:o}),this.getProductDetail()},pageLifetimes:{show:function(){var e=this;this.setData({couponMoveOut:!1},(function(){t((function(){e.setData({showLiveProductCard:!0})}),400)}))}},methods:{backToLastPage:function(){n.exit()},closeLiveProductCard:function(){var e=this;this.setData({couponMoveOut:!0},(function(){t((function(){e.setData({showLiveProductCard:!1})}),400)}))},getProductDetail:function(){var e=this;(r().globalData.pageReqCache[A.GET_PRODUCT_DETAIL]||(0,P.getProductDetail)()).then((function(t){var o=t.data||{};o.goodsLabels&&o.goodsLabels.some((function(e){return[18,19].includes(e.id)}))||(0,_.judgeShopStatus)({status:o.programStatus,normalProcess:function(){var t=o.goodsType,a=o.supportPayType,i=o.isNft,n=o.goodsLabels,r=void 0===n?[]:n,s=o.images,d=void 0===s?[]:s,u=(o.minPriceSkuId,o.originPrice),c=o.price,p=o.productActivityType,l=o.state,g=o.restStock,h=o.restStockNoSpike,m=o.name,f=o.shopId,v=o.saleCount,b=o.useFuncs,w=o.goodsPictureUrl,y=o.skuList,C=o.packages,S=o.specifications,I=o.virtualCodeStartTime,T=o.virtualCodeEndTime,x=2!==Number(a)&&t!==k.goodsTypeMap.virtualCard&&t!==k.goodsTypeMap.recharge&&!o.isNft;(0,E.default)(o.shopId),e.setData({shopId:f,isNft:Boolean(i),headImageUrl:d.length&&d[0]||"",hasCar:x,productType:p,spuStatus:{state:l,restStock:g,totalRestStock:g,restStockNoSpike:h},saleInfo:{name:m,originPrice:u,price:c,saleCount:v},supportPayType:a},(function(){e.getSpuPrice();var a=o.bjhInfo&&o.bjhInfo.dxdClassMode?{isBjhColumn:!0}:{};e.setData(Object.assign({useFuncs:Object.assign({},b,(0,j.getUseFuncs)(j.downgradeFeature.productDetail)),spuInfo:{singlePrice:(c||"").split("-")[0],serviceText:e.getServiceText(r)},productData:{price:c,goodsType:t,goodsPictureUrl:w,skuList:y,packages:C,specifications:S,virtualCodeStartTime:I,virtualCodeEndTime:T,isSingleSku:e.isSingleSku(o)}},a))}))}})})).finally((function(){e.setData({hasGetGoodsData:!0})}))},getSpuPrice:function(){var e=this;(0,O.request)({url:k.API.getMarketingInfo,data:{sourceScene:2,promotionTypes:[k.promotionTypeMap.orderDown,k.promotionTypeMap.productDown,k.promotionTypeMap.limitSeckill,k.promotionTypeMap.fullPromotion,k.promotionTypeMap.groupPromotion],shopId:this.data.shopId,appId:N,spuId:this.data.spuId,supportPayType:this.data.supportPayType}}).then((function(t){var o=t.data||{},a=o.salePrice,i=void 0===a?"":a,n=o.rawSalePrice,r=void 0===n?"":n,s=(0,_.formatPrice)(String(i)||""),d=x(s,2),u=d[0],c=d[1];e.setData({salePrice:i,salePriceFormat:{salePriceInteger:u,salePriceFloat:c,isSalePriceRange:r.includes("-")},livePlayBackPriceReady:!0})}))},changeNavBarColor:function(){},goToBuy:function(){this.setData({specLayerIsOpen:!0})}}})})),window.define("513",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4);o.default=function(e){var t=(0,I.parsePageQuery)()||{},o=n().globalData.siteData;try{var a=t._cecom_ext;try{a&&0!==Object.keys(JSON.parse(a)).length||(a=JSON.parse(t.skus)[0].cpsInfo.zhiboParams||{})}catch(e){a=t._cecom_ext}var i=a&&JSON.parse(a);if(!(t.fid||t.bd_vid||i&&i.ext&&i.ext.bd_vid||i&&i.zhiboExt&&i.zhiboExt.bd_vid))return;var r=t.room_id||i&&i.ext&&i.ext.room_id||i&&i.zhiboExt&&i.zhiboExt.room_id,s=t.contentId||o.channelInfo&&o.channelInfo.contentId;r&&(o.contentIdBdVid=s,o.roomIdBdVid=r),o.bdVidShopId=e}catch(e){console.log(e)}}})),window.define("515",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(85),T=e(4),x=e(48),P=e(57),D=e(86),_=[D.widgetsSSVMap.tabbar1,D.widgetsSSVMap.tabbar2,D.widgetsSSVMap.tabbar3,D.widgetsSSVMap.tabbar4,D.widgetsSSVMap.tabbar5];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:function(){}},__id__:{type:Number,value:0}},data:{containerBackground:{"background-color":"#ffffff"}},observers:{"componentData.backgroundColor":function(e){this.setData({containerBackground:{"background-color":e}})}},attached:function(){var e=this,t=this.properties.componentData.tabbarItems;(void 0===t?[]:t).forEach((function(t,o){(0,T.bdxdAddLog)(e,{compTargetId:(0,P.getMarketingPageSSV)(Object.assign({dxdjxSSV:_},e.properties.componentData),o),logType:x.bdtjLogType.elemShow})}))},methods:{linkTo:function(e){var t=e.currentTarget.dataset.value,o=e.currentTarget.dataset.index,a=t.isSelected,i=t.btnLink,n=void 0===i?{}:i;if(!a){var r=n.linkType,s=n.linkUrl;r&&s&&(0,I.switchJump)({linkType:r,linkUrl:s,widgetName:"tabbar"+(o+1),ssv:(0,P.getMarketingPageSSV)(Object.assign({dxdjxSSV:_},this.properties.componentData),o)})}}}})})),window.define("517",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(352),x=e(59),P=e(57),D=e(48),_=e(86);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}},__id__:{type:Number,value:0}},lifetimes:{attached:function(){T.taskSupplier.execute({command:"guide",aid:[x.taskId.orchard]}),n().globalData.isFromOrchard&&(0,I.bdxdAddLog)(this,{compTargetId:(0,P.getMarketingPageSSV)(Object.assign({dxdjxSSV:[_.widgetsSSVMap.orchardball]},this.properties.componentData)),logType:D.bdtjLogType.elemShow})}}})})),window.define("519",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(520),x=(I=T)&&I.__esModule?I:{default:I},P=e(86);var D=["showLineClamp","pricePosition","productAtmosphereConfig"];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},attached:function(){},methods:{handlecomponentData:function(){var e=Object.assign({},x.default),t=Object.assign(e,this.properties.componentData);this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(P.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("520",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:2,path:"",tabConfig:{tabStyleConfig:{tabWrapBgColor:"",isSticky:1,tabYSpace:6,tabHeight:43,tabSelectedColor:"",tabWrapColor:"",tabSelectedBarColor:"",tabStickyBgColor:"",tabStickySelectedColor:"",tabStickySelectedBarColor:"",tabStickyColor:""},tabSource:{url:"",params:{}}},requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showTag:!0,showUnderlinePrice:!0,showSales:!0,showLineClamp:"",specialTagConfig:{specialTagText:"",specialTagColor:"",specialTagFontColor:"#fff"}},spikeCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showLineClamp:"",specialTagConfig:{specialTagText:"",specialTagColor:"",specialTagFontColor:"#fff"},recommendTagConfig:{recommendTagBgImg:"",recommendTagColor:""}},liveCardConfig:{}}})),window.define("522",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var x={HEAD:"head",BOTTOM:"bottom",CONTENT:"content"},P=(T(I={},x.HEAD,"21.72rpx 21.72rpx 0 0"),T(I,x.BOTTOM,"0 0 21.72rpx 21.72rpx"),T(I,x.CONTENT,0),I);Component({properties:{moduleConfig:{type:Object,value:{},observer:function(e){e&&this.setModuleWrapper(e)}}},data:{partStyle:{}},methods:{getModuleWrapperExist:function(e){var t=this.properties.moduleConfig||{};return t[e]&&(t[e].backgroundImage||t[e].backgroundColor)},setModuleWrapper:function(e){var t=this,o=e.contentPadding,a=void 0===o?0:o,i={};Object.values(x).forEach((function(o){i[o]=t.getPartBackgroundStyle(o,e[o]||{})}));var n=this.getModuleWrapperExist(x.BOTTOM),r=this.getModuleWrapperExist(x.CONTENT);!n&&r&&(i[x.CONTENT]["border-radius"]=P[x.BOTTOM]);var s={padding:"0 "+1.81*a+"rpx"};this.setData({partStyle:i,contentPaddingStyle:s})},getPartBackgroundStyle:function(e,t){return t.backgroundImage?e===x.HEAD?{}:{"background-image":"url("+t.backgroundImage+")"}:e===x.HEAD?{"background-color":t.backgroundColor||"","border-radius":P[e],height:124/3*1.81+"rpx"}:{"background-color":t.backgroundColor||"","border-radius":P[e]}}}})})),window.define("524",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=M(e(34)),P=e(4),D=e(81),_=e(59),k=e(170),A=M(e(3)),j=e(58),O=e(51),L=e(93),E=e(208),N=e(86),R=e(57);function M(e){return e&&e.__esModule?e:{default:e}}function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var F="live",U={sellPoints:"sellingPoints",productName:"name",originPrice:"price",posterNormal:"goodsPictureUrl"},G={1:"single",2:"double",3:"triple"},H=(B(T={},N.widgetTypeMap.GOODS_CARD,[N.widgetsSSVMap.cardsingle,N.widgetsSSVMap.carddouble,N.widgetsSSVMap.cardtriple]),B(T,N.widgetTypeMap.FEED,[N.widgetsSSVMap.feedsingle,N.widgetsSSVMap.feeddouble,N.widgetsSSVMap.feedtriple]),T);Component({options:{addGlobalClass:!0},externalClasses:["tab-item-class","tab-container-class"],properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handleComponentData()}},isPullRefresh:{type:Boolean,value:!1,observer:function(e){e&&this.setData({next:1,isFirst:!0})}},isNextRefresh:{type:Number,value:0,observer:function(){this.onReachBottom()}},stickyTop:{type:String,value:""},__id__:{type:Number,value:0}},data:{next:1,productList:[],tabList:[],currentTab:"",isFirst:!0,hasGetData:!1,tabBgColor:"",navHeight:64,isLoading:!0,getGoodsList:!1,tabSelectedBarStyle:{},tabSelectedStyle:{},tabWrapStyle:{},positionStyle:{},tabInitFlag:!1,canScrollX:!1,isFail:!1,feedMinHeight:{},scrollIntoView:"",widgetTypeMap:N.widgetTypeMap,currentTabConfig:{},cardSSV:""},logicData:{pageSize:N.pageSizeDefaultMap.FEED,scrollTop:0,scrollOffsetY:0,isTabSticky:!1,feedScrollTop:0,lastNext:1,isArrayConfig:!1,widgetType:N.widgetTypeMap.FEED,column:2,isFirstFeedRequest:!0,uid:(0,x.default)()},lifetimes:{attached:function(){}},messages:{clickend:function(e){var t=this,o=e.value,a=o.spuId,i=o.index,n=void 0===i?0:i,s=this.getChannalInfo();(0,L.delayFunc)((function(){(0,j.jumpToInnerSwan)({path:O.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:a,taskToken:r().globalData.siteData.taskToken},s,{subSceneValue:t.data.cardSSV}),log:{ctx:t,userExtra:{event_index:n}}})}))},onLiveCardClick:function(e){var t=e.value,o=t.liveInfo,a=void 0===o?{}:o,i=t.index,n=(t.col,a.jumpLink),r=void 0===n?"":n,s=a.liveType,d=void 0===s?2:s,u=(0,D.parseLiveUrl)(r).params,c=void 0===u?{}:u;if(r){var p=""+this.logicData.widgetType+G[this.logicData.column],l=N.widgetsLiveInfoMap[p];l.ext.roomId=c.roomId||"",l.ext.widgetInfoId=this.properties.__id__,(0,D.goToLive)(r,l,d,{},{ctx:this,compTargetId:this.data.cardSSV,userExtra:{event_index:i,room_id:c.roomId,room_type:a.roomType}})}},onLoadFail:function(){this.data.isFail&&this.setData({isFail:!1}),this.getProductList()}},methods:{setCardSSV:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.logicData,o=t.widgetType,a=t.column;this.setData({cardSSV:(0,R.getMarketingPageSSV)(Object.assign({dxdjxSSV:H[o][a-1]},this.properties.componentData),e)})},handleComponentData:function(){var e=this.properties.componentData,t=e.__type,o=void 0===t?N.widgetTypeMap.GOODS_CARD:t,a=e.column,i=void 0===a?2:a;this.logicData.widgetType=o,this.logicData.pageSize=this.properties.componentData.pageSize||N.pageSizeDefaultMap[o],this.logicData.column=i,o===N.widgetTypeMap.GOODS_CARD?this.handleGoodsCard():this.handleFeed(),this.setCardSSV()},getChannalInfo:function(){var e=this.properties.componentData,t=e.__type,o=e.column;return t===N.widgetTypeMap.GOODS_CARD?N.widgetsChannalInfoMap["card"+G[o]]:N.widgetsChannalInfoMap["feed"+G[o]]},handleGoodsCard:function(){var e=this,t=this.properties.componentData.requestConfig,o="",a=0;Array.isArray(t)&&t.length>0?(o=t[0].serviceConfig&&t[0].serviceConfig.path||"",a=t[0].value||0):(o=t&&t.serviceConfig&&t.serviceConfig.path||"",a=t.value||0),o&&(0,E.downgradeInterface)({url:o,pageType:a}).then((function(t){var o=e.productKeyTrans(t.data.activityProductVos||[]);e.setData({productList:e.setLimitProductShow(o)},(function(){e.setData({hasGetData:!0,getGoodsList:!0}),(0,P.removeSkeleton)()}))}))},handleFeed:function(){var e=this;this.initTabConfig(),A.default.addHandler("getNavHeight",(function(t){var o=(e.properties.componentData.tabConfig&&e.properties.componentData.tabConfig.tabStyleConfig||{}).tabHeight,a=void 0===o?43:o;e.setData({navHeight:+t.replace("px",""),feedMinHeight:{"min-height":"calc(100vh - "+t+" - "+1.81*a+"rpx)"}},(function(){var t=(e.properties.componentData.tabConfig||{}).tabStyleConfig;e.initTabStyle(t)}))})),A.default.addHandler("onPageScroll",(function(t){e.logicData.scrollTop=t.scrollTop,e.data.tabList.length&&e.changeStickyStyle(t)}))},changeStickyStyle:function(e){var t=this,o=this.properties.componentData.tabConfig&&this.properties.componentData.tabConfig.tabStyleConfig||{},a=o.tabStickyBgColor,i=void 0===a?"":a,n=o.tabStickySelectedColor,r=void 0===n?"":n,s=o.tabStickySelectedBarColor,d=void 0===s?"":s,u=o.tabStickyColor,c=void 0===u?"":u;"sticky"===this.data.positionStyle.position&&(0,k.getFeedNodeRect)(".scroll-wrap",this).then((function(e){var o=e.top<=t.data.navHeight;if(o!==t.logicData.isTabSticky&&(i||r||d||c)){var a=Object.assign({},t.data.positionStyle),n=Object.assign({},t.data.tabSelectedStyle),s=Object.assign({},t.data.tabSelectedBarStyle),u=Object.assign({},t.data.tabWrapStyle),p=t.properties.componentData.tabConfig&&t.properties.componentData.tabConfig.tabStyleConfig&&t.properties.componentData.tabConfig.tabStyleConfig||"",l=p.tabWrapBgColor,g=void 0===l?"":l,h=p.tabSelectedColor,m=void 0===h?"":h,f=p.tabSelectedBarColor,v=void 0===f?"":f,b=p.tabWrapColor,w=void 0===b?"":b;c&&(u.color=o?c:w),i&&(a["background-color"]=o?i:g),r&&(n.color=o?r:m),d&&(s["background-color"]=o?d:v),t.setData({positionStyle:a,tabSelectedStyle:n,tabSelectedBarStyle:s,tabWrapStyle:u}),t.logicData.isTabSticky=o}}))},initTabConfig:function(){var e=this.properties.componentData,t=e.tabConfig,o=void 0===t?{}:t,a=e.requestConfig,i=o.tabStyleConfig,n=void 0===i?{}:i;if(Array.isArray(a)){this.logicData.isArrayConfig=!0;var r=a.map((function(e){var t=e.serviceConfig||{},o=t.path,a=void 0===o?"":o,i=t.params,n=void 0===i?{}:i,r=t.method,s=void 0===r?"POST":r;return{tabName:e.label,tabId:e.value,tabProductReqConfig:{path:a,params:n,method:s}}}));!this.data.hasGetData&&this.initTabListByMultiTab(r),this.initTabStyle(n)}else{if(this.data.hasGetData)return;this.getProductList()}},initTabStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setData({tabSelectedStyle:{color:e.tabSelectedColor||"","font-weight":700,"background-color":e.tabSelectedBgColor||""},tabSelectedBarStyle:{"background-color":e.tabSelectedBarColor||"",bottom:1.81*e.tabSelectedBarBottom+"rpx"||!1},tabWrapStyle:{height:1.81*(e.tabHeight||43)+"rpx"||!1,"background-image":e.tabWrapBgImage||"","font-size":1.81*(+e.tabFontSize||16)+"rpx",color:e.tabWrapColor||""},positionStyle:{top:this.properties.stickyTop?this.properties.stickyTop+"px":this.data.navHeight-1+"px","background-color":e.tabWrapBgColor||"",position:"sticky","margin-top":1.81*e.tabYSpace+"rpx"||!1,"margin-bottom":1.81*e.tabYSpace+"rpx"||!1,"padding-top":1.81*e.tabYPaddingTop+"rpx"||!1,"padding-bottom":1.81*e.tabYPaddingBottom+"rpx"||!1}})},initTabListByMultiTab:function(e){var t=this;if(e.length>0){var o=e[0]&&e[0].tabId||"",a=e[0]||{};this.setData({canScrollX:e.length>4,currentTab:o,currentTabConfig:a,tabList:e},(function(){t.getProductList()}))}},handleFeedScrollTop:function(e){this.logicData.feedScrollTop=this.logicData.scrollTop+e-this.data.navHeight+3},clickTab:function(e){var t=e.target.dataset,o=t.type,a=t.index;this.setCardSSV(a),this.handleChangeTab(o,a)},handleChangeTab:function(e,t){var o=this,a=this.properties.componentData.isSticky,i=void 0===a||a,n=this.properties.componentData.tabConfig&&this.properties.componentData.tabConfig.tabStyleConfig||{},r=n.tabHeight,s=void 0===r?43:r,d=n.tabYSpace,u=void 0===d?0:d,c=n.tabYPaddingTop,p=void 0===c?0:c,l=n.tabYPaddingBottom,g=void 0===l?0:l;(0,k.getFeedNodeRect)(".feed",this).then((function(a){(0,k.getFeedNodeRect)(".scroll-wrap",o).then((function(n){!o.logicData.feedScrollTop&&o.handleFeedScrollTop(a.top);var r=n.top<=o.data.navHeight?"calc(100vh - "+1.81*(u+p+g)+"rpx - "+(o.data.navHeight-2)+"px - "+1.81*s+"rpx)":"calc(100vh - "+a.top+"px)";if(e!==o.data.currentTab){o.logicData.lastNext=1;var d={};o.logicData.isArrayConfig&&(d=o.data.tabList.find((function(t){return t.tabId===e}))),o.setData({currentTab:e,currentTabConfig:d||{},next:1,isFirst:!0,feedMinHeight:{"min-height":r},productList:[],scrollIntoView:"tab_"+o.data.tabList[t&&t-1].tabId},(function(){o.logicData.scrollOffsetY=i&&a.top<0?o.logicData.scrollTop+a.top-o.data.navHeight:0,o.getProductList()}))}}))}))},onReachBottom:function(){var e=this,t=this.logicData.uid,o=(0,P.parsePageQuery)().cancelDebounce,a=function(t){if(t===e.logicData.uid){var o=e.properties.componentData.__type;(void 0===o?N.widgetTypeMap.GOODS_CARD:o)!==N.widgetTypeMap.GOODS_CARD&&(e.setData({isFirst:!1,isFail:!1}),e.logicData.lastNext!==e.data.next&&e.getProductList())}};void 0!==o&&o?a(t):(0,P.debounce)((function(e){a(e)}),50).bind(this)(t)},getProductList:function(){var e=this,t=this.data,o=t.next,a=t.currentTab,i=this.properties.componentData.requestConfig,n=void 0===i?{}:i;if(!(-1===Number(o)||this.data.isLoading&&1!==Number(o))){this.setData("isLoading",!0);var r={start:o,size:this.logicData.pageSize},s="",d="POST",u=0;if(this.logicData.isArrayConfig){var c=this.data.currentTabConfig,p=c.tabId,l=void 0===p?0:p,g=c.tabProductReqConfig,h=void 0===g?{}:g,m=h.path,f=void 0===m?"":m,v=h.params,b=void 0===v?{}:v,w=h.method;s=f,d=void 0===w?"POST":w,r=Object.assign(r,b),l&&!r.pageType&&(r.pageType=l),u=l}else u=n.value,s=n&&n.serviceConfig&&n.serviceConfig.path||"",a&&(r.tab=a),u&&(r.pageType=u);var y="";this.logicData.isFirstFeedRequest?(this.logicData.isFirstFeedRequest=!1,y=(0,E.downgradeInterface)({url:s,pageType:u})):y=(0,E.activityInterFace)({url:s,data:r,method:d},u),y.then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)})).finally((function(){e.finallyCallBack()}))}},productKeyTrans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){if(e.cardType===F)return e;var t=Object.assign({},e);return Object.keys(U).forEach((function(o){"originPrice"===o&&t.price||e[o]&&(t[U[o]]=e[o])})),t}))},setLimitProductShow:function(e){var t=this.properties.componentData,o=t.listShowNum,a=void 0===o?"":o,i=t.column,n=void 0===i?2:i,r=t.__type,s=void 0===r?N.widgetTypeMap.FEED:r;if(a&&3===n&&s===N.widgetTypeMap.GOODS_CARD){var d=e.length;return a=d<a?d-d%n:a,e.slice(0,a)}return e},successCallback:function(e){var o=this,a=e.data||{},i=[],n=this.data.currentTab,r=a.tab,s=void 0===r?"":r,d=function(){var e;i=o.productKeyTrans(a.activityProductVos||[]),e=o.data.isFirst&&0===i.length?-1:+a.next,o.logicData.lastNext=o.data.next,o.setData(Object.assign({productList:o.setLimitProductShow(i)},o.data.isFail?{isFail:!1}:{}),(function(){t((function(){o.setData({next:e})}),200)})),o.logicData.scrollOffsetY&&(o.logicData.scrollOffsetY=0)};s&&n?String(s)===String(n)&&d():d()},failCallBack:function(e){this.setData({isFail:!0,isLoading:!1}),(0,P.addErrorLog)(e,{compTargetId:"marketing_"+this.logicData.widgetType+"_"+this.logicData.column+"_err",errType:"api_basicfeed_err"},[_.logTypeMap.error,_.logTypeMap.apiError])},finallyCallBack:function(){this.setData({isLoading:!1,hasGetData:!0})},swiperChange:function(e){var t=e.detail,o=t.currentTab,a=t.current;o!==this.data.currentTab&&this.handleChangeTab(o,a)}}})})),window.define("526",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(86),x=e(527),P=(I=x)&&I.__esModule?I:{default:I};var D=["productAtmosphereConfig","showLineClamp","pricePosition"];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},attached:function(){},methods:{handlecomponentData:function(){var e=Object.assign({},P.default),t=Object.assign(e,this.properties.componentData);this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(T.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("527",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:3,path:"",tabConfig:{tabStyleConfig:{tabWrapBgColor:"",isSticky:1,tabYSpace:6,tabHeight:43,tabSelectedColor:"",tabWrapColor:"",tabSelectedBarColor:"",tabStickyBgColor:"",tabStickySelectedColor:"",tabStickySelectedBarColor:"",tabStickyColor:""},tabSource:{url:"",params:{}}},requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showSales:!0,showUnderlinePrice:!0,showTag:!0},spikeCardConfig:{showSales:!0,showRestStock:!0,showUnderlinePrice:!0,showTag:!0,showSubsidy:!0},liveCardConfig:{}}})),window.define("529",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(85),T=e(61),x=e(57),P=e(86);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{imgUrl:"",imgLink:{linkUrl:"",linkType:""}}},__id__:{type:Number,value:0}},data:{imgStyle:{width:"100%",height:"100%"}},lifetimes:{ready:function(){this.obserberInstance=(0,T.observerElementShowLog)({context:this,selector:".marketing-image",logParams:{compTargetId:(0,x.getMarketingPageSSV)(Object.assign({dxdjxSSV:[P.widgetsSSVMap.image]},this.properties.componentData))}})},detached:function(){this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null}},methods:{linkTo:function(){var e=this.properties.componentData.imgLink,t=void 0===e?{}:e,o=t.linkType,a=t.linkUrl;o&&a&&(0,I.switchJump)({linkType:o,linkUrl:a,widgetName:"image",ssv:(0,x.getMarketingPageSSV)(Object.assign({dxdjxSSV:[P.widgetsSSVMap.image]},this.properties.componentData))})}}})})),window.define("531",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(532)),T=P(e(533)),x=P(e(386));function P(e){return e&&e.__esModule?e:{default:e}}Component((0,x.default)(I.default,T.default))})),window.define("532",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(378),x=(I=T)&&I.__esModule?I:{default:I};o.default=function(){var e=getCurrentPages().pop().route.split("/").pop(),t=(0,x.default)(e)||{};return new Promise((function(e,o){e(t)}))}})),window.define("533",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={"dynamic-marketing-page-92442405":{path:"wjz/dxdjx/dynamic-marketing-page-92442405/dynamic-marketing-page-92442405",type:"native-standard",renderVersion:2,isStatic:!0,pageAopPath:"../../../utils/dxdjx/pageAop/marketingPage.js",pageJson:{backgroundColor:"#f5f5f5",usingComponents:{"standard-page-generator":"/sPGV2_dynamic-marketing-page-92442405_dynamic-marketing-page-92442405/standardPageGenerator"}},isCompileStaticPage:!0,isFixedStaticTransform:!0}}})),window.define("535",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var x={TAKEN:0,READY:1,OVER:2,UNREADY:3,END:4,TAKEN_UNLIMIT:6},P=(T(I={},x.UNREADY,{btnText:["即将开抢"],couponContainer:"coupon-container-common",icon:"",rangeWrap:"",btnWrap:"btn-wrap-unready",funcName:""}),T(I,x.READY,{btnText:["立即领取"],couponContainer:"coupon-container-common",icon:"",rangeWrap:"",btnWrap:"btn-wrap-ready",funcName:"takeCoupon"}),T(I,x.TAKEN,{btnText:["立即使用"],couponContainer:"coupon-container-common",icon:"iconyilingqu coupon-status-taken",rangeWrap:"",btnWrap:"btn-wrap-taken",funcName:"useCoupon"}),T(I,x.OVER,{btnText:["你来晚了，优惠券已抢光","快去看看其他商品吧~"],couponContainer:"coupon-container-over",icon:"iconyiqiangguang coupon-status-over",rangeWrap:"coupon-amount-range-special",btnWrap:"btn-wrap-over",funcName:""}),T(I,x.END,{btnText:["你来晚了，优惠券已过期~"],couponContainer:"coupon-container-end",icon:"iconyiguoqi coupon-status-end",rangeWrap:"coupon-amount-range-special",btnWrap:"btn-wrap-end",funcName:""}),T(I,x.TAKEN_UNLIMIT,{btnText:["立即领取"],couponContainer:"coupon-container-common",icon:"iconyilingqu coupon-status-taken",rangeWrap:"",btnWrap:"btn-wrap-ready",funcName:"takeCoupon"}),I);Component({options:{addGlobalClass:!0},properties:{couponTitle:{type:String,value:"店铺券"},couponStatus:{type:Number,value:-1,observer:function(){this.setCouponBtnText()}},useStart:{type:Number,value:0},useEnd:{type:Number,value:0},fullPrice:{type:String,value:""},salePrice:{type:String,value:""},shopName:{type:String,value:""},rangeType:{type:Number,value:1}},data:{couponBtnText:"立即领取",rangeTypeMap:{1:"全场通用",2:"部分商品可用"},couponStyle:null,couponStatusMap:x},attached:function(){this.initCouponInfo()},methods:{initCouponInfo:function(){},setCouponBtnText:function(){var e=this.properties.couponStatus;this.setData({couponStyle:P[e]})},handleBtnClick:function(){var e=this.properties.couponStatus,t=P&&P[e]&&P[e].funcName;t&&this[t]()},takeCoupon:function(){this.dispatch("takeCoupon")},useCoupon:function(){this.dispatch("useCoupon")}}})})),window.define("537",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=A(e(126)),x=e(51),P=e(119),D=e(4),_=e(81),k=A(e(87));function A(e){return e&&e.__esModule?e:{default:e}}var j=1,O=3,L=5,E=6,N=1,R=2,M=1;Component({options:{addGlobalClass:!0},behaviors:[(0,P.loginBehavior)()],data:{couponInfo:null,noCouponStyle:{height:"calc(100vh - 44px)"},getCouponInfoFlag:!1},logicData:{timer:null},lifetimes:{detached:function(){this.logicData.timer&&clearTimeout(this.logicData.timer)}},messages:{takeCoupon:function(){var e=this;(0,D.bdxdAddLog)(this,{compTargetId:"ssv_273"});var t=this.data.couponInfo.batchId;T.default.hgzAs(x.antifraudConfig.userGrowth).then((function(o){e.takeCouponReq({antiCheatVo:o,batchId:t})})).catch((function(){e.takeCouponReq({batchId:t})}))},useCoupon:function(){(0,D.bdxdAddLog)(this,{compTargetId:"ssv_274",userExtra:{addressId:this.logicData.addressId}});var e=this.data.couponInfo,t=e.jumpType,o=e.jumpForward;t!==R?t===N&&(0,_.generalJump)({url:o}):(0,_.jumpToEasyBrowseH5)(o)}},methods:{$checkLoginSuccessCb:function(){this.getCouponInfo()},$checkLoginFailCb:function(){n.hideLoading()},$loginSuccessCb:function(e){this.getCouponInfo()},getCouponInfo:function(){var e=this;this.$request({url:x.API.getCouponInfo,data:{batchId:(0,D.parsePageQuery)().batchId,shopId:(0,D.getShopId)()}}).then((function(t){var o=t.data,a=o.couponStatus,i=o.takeStatus;a===O&&e.setCouponRefreshTimer(o),a===L&&e.initPageHeight(),a===j&&i===M&&(o.couponStatus=E),e.setData({couponInfo:o,getCouponInfoFlag:!0})})).catch((function(e){(0,D.normalToast)({title:e.statusInfo||"系统开小差了，请刷新页面重试"})}))},setCouponRefreshTimer:function(e){var o=this,a=e.takeStart,i=e.nowTime;if(i<=a){var n=Math.ceil(a-i);this.logicData.timer=t((function(){o.getCouponInfo(),clearTimeout(o.logicData.timer)}),n)}},initPageHeight:function(){var e=this;(0,k.default)().then((function(t){var o=t.navigationBarHeight,a=t.statusBarHeight;e.setData({noCouponStyle:{height:"calc(100vh - "+(o+a)+"px)"},getCouponInfoFlag:!0})}))},takeCouponReq:function(e){var t=this,o=e.antiCheatVo,a={batchId:e.batchId};o&&(a.antiCheatVo=o),this.$request({url:x.API.couponTake,data:a}).then((function(){(0,D.normalToast)({title:"领取成功"}),t.getCouponInfo()})).catch((function(e){throw(0,D.normalToast)({title:e.statusInfo}),new Error(e)}))}}})})),window.define("539",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(59),x=e(81),P=e(143);Component({properties:{componentData:{type:Array,value:[],observer:function(){this.setLottery()}}},data:{statusMap:{over:1,progressing:2},lotteryMap:{temp1:"https://mpics.bdstatic.com/qm/202205/pic_EQBvAX_1653319777.png",temp2:"https://mpics.bdstatic.com/qm/202205/pic_CIjIJ1_1653319790.png",temp3:"https://mpics.bdstatic.com/qm/202205/pic_g4O8uj_1653319801.png"},lotteryImg:"https://mpics.bdstatic.com/qm/202205/pic_EQBvAX_1653319777.png"},attached:function(){this.setLottery()},methods:{setLottery:function(){var e=this,t=this.properties.componentData,o=1;t.forEach((function(t,a){t.lotteryStatus===e.data.statusMap.progressing&&(o=a+1)})),this.setData({lotteryImg:this.data.lotteryMap["temp"+o]})},onJumpDetail:function(e){var t=e.currentTarget.dataset,o=t.url,a=t.index;(0,I.bdxdAddLog)(this,{compTargetId:"big_prize_click",userExtra:{event_index:a}}),o&&(0,x.generalJump)({url:o,params:T.CHANNEL_INFO.blindBigPrize})},jumpMainPage:function(){(0,x.generalJump)({url:P.HOMEPAGE})}}})})),window.define("541",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(119);Component({behaviors:[(0,I.loginBehavior)()],properties:{prizeNum:{type:Number,value:0}},messages:{onLogin:function(e){this.loginHandle(e)}},methods:{$loginSuccessCb:function(){this.triggerEvent("jumpPrizePage")}}})})),window.define("543",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(119);Component({behaviors:[(0,I.loginBehavior)()],options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}},isLogin:{type:Boolean,value:!1}},data:{},messages:{onLogin:function(e){this.loginHandle(e)}},methods:{$checkLoginSuccessCb:function(){},$checkLoginFailCb:function(){},$loginSuccessCb:function(e){this.triggerEvent("loginSuccessCb")},openBoxClick:function(){this.triggerEvent("openBoxClick")}}})})),window.define("545",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(143),x=e(142),P=e(4),D=e(81),_=e(59),k=e(126),A=(I=k)&&I.__esModule?I:{default:I},j=e(119);Component({behaviors:[(0,j.loginBehavior)()],options:{addGlobalClass:!0},data:{popupVisiable:!1,avatarInfo:{},title:"",content:"",status:1},lifetimes:{attached:function(){this.setContent(),this.getAvatarHandle()}},messages:{onLogin:function(e){this.loginHandle(e)}},methods:{setContent:function(){this.setData(Object.assign({},T.SHARE_TIP_INFO[this.data.status]))},getAvatarHandle:function(){var e=this,t=(0,P.parsePageQuery)(),o=t.content,a=void 0===o?"":o,i=t.isHelpShare;+(void 0===i?"":i)&&(0,x.getAvatarReq)({content:a}).then((function(t){if(t&&t.data&&Object.keys(t.data).length){(0,P.bdxdAddLog)(e,{compTargetId:"assist_btn_pv"});var o=t.data,a=o.avatar,i=o.name,n=o.login,r=void 0!==n&&n;r&&e.onAssistShare(),e.setData({avatarInfo:{avatar:a,name:i},popupVisiable:!r})}})).catch((function(e){(0,P.normalToast)({title:"系统错误，请返回分享页面重试"})}))},iconClose:function(){this.setData({popupVisiable:!1}),this.triggerEvent("assistPopupClose")},assistHandle:function(e){var t=this,o=(0,P.parsePageQuery)().content,a=void 0===o?"":o;(0,x.getAssistReq)(Object.assign({content:a},e?{antiCheatVo:e}:{})).then((function(e){(0,P.bdxdAddLog)(t,{compTargetId:"assist_success"});var o=e.status;t.setData(Object.assign({},T.SHARE_TIP_INFO[o],{status:o}),(function(){!t.data.popupVisiable&&t.setData({popupVisiable:!0})}))})).catch((function(e){t.assistFailTip(e)}))},assistFailTip:function(e){!this.data.popupVisiable&&this.setData({popupVisiable:!0});var t=e.status;9007!==t?9008!==t?1!==t&&T.SHARE_TIP_INFO[t]?this.setData(Object.assign({},T.SHARE_TIP_INFO[t],{status:t})):(0,P.normalToast)({title:"助力失败，请重试～"}):(0,P.normalToast)({title:"您的账号/设备存在风险，此次助力失败"}):(0,P.normalToast)({title:"活动太火爆了，请稍后再试~"})},$loginSuccessCb:function(){this.onAssistShare()},onAssistShare:function(){var e=this;(0,P.bdxdAddLog)(this,{compTargetId:"share_assist"}),A.default.hgzAs(_.antifraudConfig.blindBox).then((function(t){e.assistHandle(t)})).catch((function(){e.assistHandle()}))},onJumpClose:function(){this.iconClose()},onJumpMain:function(){(0,D.generalJump)({url:T.MAINPAGE}),this.iconClose()}}})})),window.define("547",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(156),T=e(4);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.shareTextHandle(e)}},isShareDownGrade:{type:Number,value:!1}},data:{shareNums:0},methods:{shareTextHandle:function(e){this.setData({shareNums:e.shareHelpNum||0})},openShare:function(){(0,T.bdxdAddLog)(this,{compTargetId:"share_btn_click"});var e=this.properties.isShareDownGrade;(0,I.blindBoxShare)({isShareDownGrade:e})}}})})),window.define("549",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(208),x=e(93);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},data:{oddList:[],evenList:[],oldMarqueeStyle:{width:"auto",animation:""},evenMarqueeStyle:{width:"auto",animation:""},marqueeConfig:{bgColor:"#951616",borderColor:"",fontColor:"#FFD594",isMarketingComp:!0,width:"",tbPadding:"28",avatarWidth:"75"},isKoiDown:!1,widthStyle:{}},lifetimes:{attached:function(){var e=this,t=this.data.marqueeConfig,o=this.properties.componentData;this.setData({marqueeConfig:Object.assign(t,o)}),t.isMarketingComp?(0,T.downgradeInterface)({url:o.path,pageType:o.pageType}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)})):(0,T.activityInterFace)({url:o.path,data:{pageType:o.pageType}}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)}))}},methods:{onRetry:function(){var e=this,t=this.properties.componentData;(0,T.activityInterFace)({url:t.path,data:{pageType:t.pageType}}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)}))},successCallback:function(e){var t=e.data||[],o=function(e,t){return{width:403*e.length+"rpx",animation:"transleft "+403*e.length/t+"s 0s both infinite linear"}},a=this.data.marqueeConfig,i=a.oneRow,n=(a.marqueeWidth,a.marqueeBg);if(i)this.setData({oddList:t,oldMarqueeStyle:o(t,160),widthStyle:Object.assign({},(0,I.tranPxToRpx)({"border-width":1,"border-radius":28}),{"border-style":"solid","border-color":"rgba(255,255,255, 0.30)"}),oneRowBgStyle:{"background-image":n}});else{var r=[],s=[];t.length>0&&(t.map((function(e,t){t%2==0?r.push(e):s.push(e)})),this.setData({oddList:r,evenList:s,oldMarqueeStyle:o(r,160),evenMarqueeStyle:o(s,170)}))}},failCallBack:function(e){var t=(0,x.getUseFuncs)(x.downgradeFeature.koi),o=t.search,a=t.koiNum,i=t.productList;!o&&!a&&!i&&this.setData({isKoiDown:!0})}}})})),window.define("551",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T,x,P,D,_=e(92),k=e(51),A=e(4),j=e(58),O=e(129),L=e(48),E=e(239);function N(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var R=k.OPERATE_TYPE_MAP.PAY,M=(N(I={},k.OPERATE_TYPE_MAP.PAY,{popupTitle:"该订单不支持单独支付",popupInfo:"提交的订单中含有平台优惠补贴，需要一起支付",submitButtonText:"支付订单",submitButtonSubText:"合计￥"}),N(I,k.OPERATE_TYPE_MAP.CANCEL,{popupTitle:"该订单不支持单独取消",popupInfo:"提交的订单中含有平台优惠补贴，需要一起取消",submitButtonText:"取消订单",submitButtonSubText:""}),I),B=(N(T={},k.OPERATE_TYPE_MAP.PAY,1),N(T,k.OPERATE_TYPE_MAP.CANCEL,2),T),F=(N(D={},k.PAGES.ORDER_DETAIL,(N(x={},k.OPERATE_TYPE_MAP.CANCEL,{view:"ssv_185",click:"ssv_186"}),N(x,k.OPERATE_TYPE_MAP.PAY,{view:"ssv_187",click:"ssv_188"}),x)),N(D,k.PAGES.ORDER_LIST,(N(P={},k.OPERATE_TYPE_MAP.CANCEL,{view:"ssv_189",click:"ssv_190"}),N(P,k.OPERATE_TYPE_MAP.PAY,{view:"ssv_191",click:"ssv_192"}),P)),D);Component({options:{addGlobalClass:!0},properties:{isPopupShow:{type:Boolean,value:!1,observer:function(e){e&&(this.getMergeOrderInfo(),(0,A.bdxdAddLog)(this,{compTargetId:F[this.logicData.path][this.properties.operateType].view||"",logType:L.bdtjLogType.elemShow})),this.setData({isVisible:e})}},orderId:{type:String,value:""},batchId:{type:String,value:""},operateType:{type:String,value:R,observer:function(e){this.setData({popupTextObj:M[e]})}}},data:{isVisible:!1,popupTextObj:M[R],relationOrderInfoList:[],totalPaymentAmount:""},logicData:{isPaying:!1,payOrderInfo:{},totalDiscountAmount:"",path:""},created:function(){this.logicData.path="/"+(0,E.getCurrentPage)().route},methods:{onClosePopup:function(){this.setData({isVisible:!1,relationOrderInfoList:[]}),this.triggerEvent("changeMergePopupStatus",{isShow:!1})},getMergeOrderInfo:function(){var e=this,t=this.properties,o=t.orderId,a=t.operateType,i={url:k.API.getMergeOrderInfo,data:{orderId:o,operateType:B[a]}};(0,_.request)(i).then((function(t){if(t&&t.data){var o=t.data,a=o.relationOrderInfoList,i=o.totalPaymentAmount,n=o.payOrderInfo,r=o.totalDiscountAmount;e.setData({relationOrderInfoList:a,totalPaymentAmount:i}),e.logicData.totalDiscountAmount=r,e.logicData.payOrderInfo=n}else(0,A.errToast)(t.statusInfo)}))},handleSubmitButtonClick:function(){var e=this.properties.operateType;(0,A.bdxdAddLog)(this,{compTargetId:F[this.logicData.path][e].click}),e!==k.OPERATE_TYPE_MAP.PAY?this.handleCancelOrder():this.handlePayOrder()},handlePayOrder:function(){var e=this,t=this.properties,o=t.orderId,a=t.batchId;(0,O.payOrder)({orderId:o,batchId:a,payOrderInfo:this.logicData.payOrderInfo,success:function(t){return e.toPayResPage(t)},fail:function(t,o){t&&t.errCode===k.CANCEL_PAY||e.toPayResPage(o)}})},handleCancelOrder:function(){var e=this,t=this.properties.batchId,o=void 0===t?"":t;(0,O.cancelOrder)({batchId:o,success:function(){e.triggerEvent("cancelOrder",{batchId:o}),e.onClosePopup()},fail:function(t){t&&8e3===t.status?e.dispatch("onReqLoginFail"):(0,A.errToast)(t.statusInfo)}})},toPayResPage:function(e){var t=e.payRes,o=this.data,a=o.orderId,i=o.totalPaymentAmount,n=o.relationOrderInfoList.map((function(e){return(e.skus||[]).map((function(e){return e.spuId}))}));if(a)return(0,j.jumpToInnerSwan)({path:k.PAGES.PAY_RESULT,params:{payResult:t,orderId:a,orderDiscountAmount:this.logicData.totalDiscountAmount,totalPaymentAmount:i,spuList:JSON.stringify(n.flat()),isMultiShop:!0}}),void this.onClosePopup();this.onClosePopup(),(0,j.jumpToInnerSwan)({path:k.PAGES.DXDJX_PERSONAL_CENTER,type:j.innerJumpType.switchTab})}}})})),window.define("553",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(59),x=e(81),P=e(239);Component({options:{addGlobalClass:!0},properties:{pageType:{type:Number,value:0}},data:{bannerImg:""},logicData:{jumpUrl:"",path:""},lifetimes:{attached:function(){this.getBannerData(),this.logicData.path=(0,P.getCurrentPage)().route.split("/").pop()}},methods:{getBannerData:function(){var e=this;(0,I.request)({url:T.API.generalImage,data:{pageType:this.properties.pageType},method:"GET"}).then((function(t){if(t&&t.data){var o=t.data,a=o.dayImage,i=void 0===a?"":a,n=o.bizJumpUrl,r=void 0===n?"":n;e.logicData.jumpUrl=r,e.setData({bannerImg:i})}}))},linkTo:function(){var e=this.logicData,t=e.path,o=void 0===t?"":t,a=e.jumpUrl,i=void 0===a?"":a,n=Object.assign({},T.CHANNEL_INFO.atmosphere[(0,P.toCamelStr)(o)]);(0,x.generalJump)({url:i,params:n})}}})})),window.define("555",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["loadStyleClass"],properties:{message:{type:String,default:""},status:{type:Number,default:0}},data:{prefix:"examinnations"},methods:{tryAgain:function(){this.dispatch("tryAgain",{})}}})})),window.define("557",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(51),x=e(4),P=e(81),D=e(129),_={"收货地址/电话填错":"canord_reason1_click","付款方式填错":"canord_reason2_click","规格/款式/数量填错":"canord_reason3_click","暂时不需要了":"canord_reason4_click","其他原因":"canord_reason5_click"};Component({options:{addGlobalClass:!0},properties:{isPopupShow:{type:Boolean,value:!1,observer:function(e){if(this.setData({isVisiable:e,cancelReasonArr:this.data.cancelReasonArr.map((function(e){return Object.assign({},e,{checked:!1})}))}),e){var t=this.properties.modifyAddressObj;if(t){var o=t.addrId,a=void 0===o?"":o,i=t.canModifyAddress,n=void 0!==i&&i;this.setData({cancelOrderAddrId:a,canModifyAddress:n})}else this.getOrderDetail()}}},cancelInfo:{type:String,value:"取消后无法恢复，优惠券将原路返回，有效期内使用"},changeAddressInfo:{type:String,value:"订单支持修改地址，建议修改"},activeIconClass:{type:String,value:"icon-bdxd iconxiaowenhao"},popupTitle:{type:String,value:"取消订单"},cancelButtonText:{type:String,value:"我再想想"},confirmButtonText:{type:String,value:"确认取消"},changeAddressButtonText:{type:String,value:"修改地址"},orderId:{type:String,value:""},batchId:{type:String,value:""},disableModifyAddress:{type:Boolean,value:!1},isABAddressNA:{type:Boolean,value:!1},modifyAddressObj:{type:Object,value:null},isHalfScreen:{type:Boolean,value:!1}},data:{isVisiable:!1,cancelReasonArr:[{value:"收货地址/电话填错",checked:!1},{value:"付款方式填错",checked:!1},{value:"规格/款式/数量填错",checked:!1},{value:"暂时不需要了",checked:!1},{value:"其他原因",checked:!1}],cancelReason:"",cancelOrderAddrId:"",canModifyAddress:!1},logicData:{},methods:{onClosePopup:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setData({isVisiable:!1}),e&&(0,x.bdxdAddLog)(this,{compTargetId:"ssv_207"}),this.dispatch("changePopupStatus",{isShow:!1})},onRadioChange:function(e){var t=this.data.cancelReasonArr.slice();t.forEach((function(t){t.checked=t.value===e.detail.value})),this.setData({cancelReasonArr:t})},onConfirmCancel:function(){var e=void 0;if(this.data.cancelReasonArr.forEach((function(t){t.checked&&(e=t.value)})),e){this.setData({isVisiable:!1,cancelReason:e});var t=this.properties.orderId,o=void 0===t?"":t;(0,x.bdxdAddLog)(this,{compTargetId:"ssv_206",userExtra:{cancel_reason:_[this.data.cancelReason]}}),this.dispatch("changePopupStatus",{isShow:!1}),this.handleCancelOrder(o)}else(0,x.normalToast)({title:"请先选择取消订单的原因哦"})},handleCancelOrder:function(e){var t=this;(0,D.cancelOrder)({orderId:e,cancelReason:this.data.cancelReason,success:function(){return t.triggerEvent("cancelOrder")},fail:function(e){e&&8e3===e.status?t.dispatch("onReqLoginFail"):(0,x.errToast)(e.statusInfo)}})},getOrderDetail:function(){var e=this,t=this.properties,o=t.orderId,a=void 0===o?"":o,i=t.batchId,n=void 0===i?"":i;(0,I.request)({url:T.API.queryOrderDetail,data:{scene:T.XCX_SCENE,orderId:a,batchId:n}}).then((function(t){var o=(t||{}).data,a=o.address,i=void 0===a?{}:a,n=o.canModifyAddress,r=o.outerOrderType;e.setData({canModifyAddress:n&&!r,cancelOrderAddrId:i.addrId||""})})).catch((function(e){if((0,x.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-popup",errType:"api_orderpopup_err"},[T.logTypeMap.error,T.logTypeMap.apiError]),(0,x.errToast)(e.statusInfo),T.orderDetailErrorStatus[e.status]){var t={errTitle:"订单详情",errText:e.statusInfo,errBtn:"",theme:"order-deleted"};(0,x.jumpErrorPageUrl)(t)}}))},changeAddress:function(){var e=this.properties,t=e.orderId,o=void 0===t?"":t,a=e.batchId,i=void 0===a?"":a;(0,x.bdxdAddLog)(this,{compTargetId:"ssv_205"}),(0,P.generalJump)({url:T.PAGES.MODIFY_ADDRESS,params:{addrId:this.data.cancelOrderAddrId,orderId:o,batchId:i}});this.onClosePopup(!1)},modifyAddressNA:function(e){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_205"}),this.dispatch("triggerModifyAddressNA",e.detail)}}})})),window.define("559",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=e(51),D=e(4),_=e(92),k=e(58),A=e(129),j=e(322),O={name:"inviteFriend",visible:!0,important:!0,text:"邀请好友"},L="确认收货失败",E={name:"jumpToNft",visible:!0,important:!1,text:"查看藏品"},N={options:{addGlobalClass:!0},externalClasses:["external-order-action-class"],properties:{image:{type:String,value:""},spuId:{type:String,value:""},orderId:{type:String,value:""},batchId:{type:String,value:""},groupId:{type:String,value:""},orderGroupStatus:{type:Number,value:0},payOrderInfo:{type:Object,value:null},orderRemainTime:{type:Number,value:0},orderStatus:{type:Number,value:1},personalOpts:{type:Array,value:[]},payType:{type:Number,value:0},orderType:{type:Number,value:0},canModifyAddress:{type:Boolean,value:!1},disableModifyAddress:{type:Boolean,value:!1},isABAddressNA:{type:Boolean,value:!1},addrId:{type:String,value:""},isSplitSend:{type:Number,value:0},shopId:{type:String,value:""},canDelete:{type:Boolean,value:!1},autoAction:{type:String,value:"",observer:function(e){if(""!==e){var t={currentTarget:{dataset:{name:e}}};this.dispatch("onAutoActionsTriggered"),this.onActionClick(t)}}},needCancelOrderPopup:{type:Boolean,value:!1},orderDiscountAmount:{type:String,value:""},skus:{type:Array,value:[]},isRedBgc:{type:Boolean,value:!1},hasAddress:{type:Boolean,value:!0},hasRelatedOrder:{type:Boolean,value:!1},repeatCallPayment:{type:Number,value:0,observer:function(e){e&&this.handlePayOrder("pay",this.properties.orderId)}},from:{type:String,value:""},isNft:{type:Boolean,value:!1},bjhInfo:{type:Object,value:null},autoConfirmExtend:{type:Object,value:{}},dateSubStr:{type:String,value:""}},data:{opts:[]},logicData:{isConfirmReceipting:!1,generalParams:{id:"mip-bdxd-order-action",name:"mip-bdxd-order-action",type:"mip-bdxd-order-action",title:"订单操作"},forwardReceiptSuccess:!1},observers:{"orderId,orderGroupStatus,orderStatus,personalOpts,canModifyAddress,dateSubStr,autoConfirmExtend":function(){this.getOrderAction()}},lifetimes:{attached:function(){this.getOrderAction()}},methods:{deepCopy:function(e){var t=e instanceof Array?[]:{},o=!0,a=!1,i=void 0;try{for(var n,r=Object.entries(e)[Symbol.iterator]();!(o=(n=r.next()).done);o=!0){var s=n.value,d=x(s,2),u=d[0],c=d[1];t[u]="object"===(void 0===c?"undefined":T(c))?this.deepCopy(c):c}}catch(e){a=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw i}}return t},getOrderAction:function(){var e=this,t=this.properties,o=t.groupId,a=t.orderGroupStatus,i=t.orderStatus,n=t.orderType,r=t.payType,s=t.canModifyAddress,d=t.canDelete,u=t.isNft,c=t.bjhInfo,p=t.autoConfirmExtend,l=t.dateSubStr,g=c&&c.dxdClassMode,h=c&&c.bindStatus,m=[];if(!g||n!==P.goodsTypeMap.virtualCard||i!==P.orderStatusMap.UNSEND&&i!==P.orderStatusMap.DEAL_SUCCESS)m=P.ORDER_ACTION[i][n][r]||[];else{var f=h&&h===P.COLUMNTYPE.OFFLINE?P.COLUMNTYPE.OFFLINE:g;m=P.ORDER_COLUMN_ACTION[i][n][r][f]||[]}var v=this.deepCopy(m),b=[P.orderStatusMap.DEAL_SUCCESS,P.orderStatusMap.UNSEND].includes(+i),w="/"+(0,D.getCurrentPage)().route===P.PAGES.ORDER_DETAIL,y=[P.orderStatusMap.UNPAYMENT,P.orderStatusMap.UNSEND].includes(+i);d&&w&&v.splice(0,0,{name:"deleteOrder",visible:!0,important:!1,text:"删除订单"});var C=v&&v.findIndex((function(e){return"modifyAddress"===e.name}));if(u){y&&C>-1&&v.splice(C,1);var S=v.find((function(e){return e.name===E.name}));b&&w&&!S&&v.push(E)}else o&&a===P.groupStatusMap.GROUP_PROCESSING&&v.push(O),y&&C>-1&&!s&&v.splice(C,1);if(!p.extendTimesByUser&&l&&v.forEach((function(t){"forwardReceipt"===t.name&&((0,D.bdxdAddLog)(e,{compTargetId:"ssv_652"}),t.visible=!0)})),Array.isArray(v)){var I=v.concat(this.data.personalOpts);this.setData({opts:I})}},onActionClick:function(e){var t=e.currentTarget.dataset.name,o=this.properties,a=o.orderId,i=o.batchId,n=o.addrId,s=o.groupId,d=o.image,u=o.isSplitSend,c=o.shopId,p=o.skus;switch(t){case"confirmReceipt":this.handleConfirmReceipt(t,a);break;case"cancelOrder":this.handleCancelOrder(t,a);break;case"modifyAddress":(0,k.jumpToInnerSwan)({path:P.PAGES.MODIFY_ADDRESS,params:{addrId:n,orderId:a,batchId:i},log:{ctx:this,compTargetId:"ssv_204"}});break;case"showLogistics":if(r().globalData.currOrderData={orderId:a},(0,D.bdxdAddLog)(this,{compTargetId:"ssv_723",userExtra:{order_id:a}}),this.dispatch("onactionsclick",{actionName:t,orderId:a}),u)return void(0,k.jumpToInnerSwan)({path:P.PAGES.LOGISTICS_DETAIL_MID,params:{orderId:a,shopId:c}});var l=(p||[]).map((function(e){return e.spuId}));(0,k.jumpToInnerSwan)({path:P.PAGES.LOGISTICS_DETAIL,params:{orderId:a,shopId:c,spuList:JSON.stringify(l)}});break;case"pay":this.handlePayOrder(t,a);break;case"postComment":r().globalData.currOrderData={orderId:a},(0,D.bdxdAddLog)(this,{compTargetId:"ssv_490",userExtra:{order_id:a}});var g=(0,D.parsePageQuery)().from||"",h=(0,D.parsePageQuery)().sceneValue||"",m="dxdjx-order-list"===g?"ssv_583":"ssv_584";(0,k.jumpToInnerSwan)({path:P.PAGES.COMMENT_COMMENT_POST,params:{orderId:a,pageUri:((getCurrentPages()||[])[1]||{}).uri||"",from:g,action:P.commentPostActionEntry.evaluate,subSceneValue:m,sceneValue:h}});break;case"previewComment":r().globalData.currOrderData={orderId:a},(0,D.bdxdAddLog)(this,{compTargetId:"ssv_394",userExtra:{order_id:a}}),(0,k.jumpToInnerSwan)({path:P.PAGES.ORDER_DETAIL,params:{orderId:a,from:"order-list-preview-comment"}});break;case"inviteFriend":r().globalData.currOrderData={orderId:a},this.dispatch("onactionsclick",{actionName:t,groupId:s,orderId:a,image:d});break;case"jumpClumn":this.handleJumpClumn();break;case"deleteOrder":this.handleDeleteOrder(t,a);break;case"jumpToNft":this.triggerEvent("jumpToNft");break;case"forwardReceipt":this.handleForwardReceipt()}},modifyAddressNA:function(e){this.dispatch("triggerModifyAddressNA",e.detail)},toPayResPage:function(e){var t=e.payRes,o=e.shopCarParams,a=void 0===o?null:o,i=this.properties,n=i.orderId,r=i.orderDiscountAmount,s=i.totalPaymentAmount,d=i.skus,u=i.isNft,c=(d||[]).map((function(e){return e.spuId})),p={payResult:t,orderId:n,orderDiscountAmount:r,totalPaymentAmount:s,spuList:JSON.stringify(c),isNft:u};null!==a&&(p=Object.assign(p,a)),n?(0,k.jumpToInnerSwan)({path:P.PAGES.PAY_RESULT,params:p}):(0,k.jumpToInnerSwan)({path:P.PAGES.DXDJX_PERSONAL_CENTER,type:k.innerJumpType.switchTab})},handleShopCarOrder:function(){var e=this,t=this.properties,o=t.orderId,a=t.batchId,i=t.hasRelatedOrder,n={url:P.API.getMergeOrderInfo,data:{orderId:o,operateType:1,tradeType:"smartH5"}};(0,_.request)(n).then((function(t){if(t&&t.data){var n=t.data,r=n.totalPaymentAmount,s=n.payOrderInfo,d=n.totalDiscountAmount,u=n.orderInfoList,c=(void 0===u?[]:u).map((function(e){return(e.skus||[]).map((function(e){return e.spuId}))})),p={};i&&(p={totalPaymentAmount:r,orderDiscountAmount:d}),p.spuList=JSON.stringify(c.flat());var l=!1;(0,A.payOrder)({orderId:o,batchId:a,payOrderInfo:s,success:function(t){l=!0,e.toPayResPage(Object.assign({},t,{shopCarParams:p}))},fail:function(t,o){t&&t.errCode===P.CANCEL_PAY||e.toPayResPage(Object.assign({},o,{shopCarParams:p}))},complete:function(){e.dispatch("onactionsclick",{actionName:"pay",orderId:o,batchId:a,isExecSuccessCb:l})}})}else(0,D.errToast)(t.statusInfo)}))},handlePayOrder:function(e,o){var a=this,i=this.properties,s=i.hasRelatedOrder,d=i.spuId,u=i.batchId,c=i.payOrderInfo,p=i.orderRemainTime,l=i.totalPaymentAmount,g=i.from,h=void 0===g?"":g,m=i.repeatCallPayment;if(r().globalData.currOrderData={orderId:o},n.canIUse("onError")&&n.onError((function(e){(0,D.addErrorLog)(e,{compTargetId:"order-pay-err"},[P.logTypeMap.error])})),(0,D.bdxdAddLog)(this,{compTargetId:"ssv_203",userExtra:{spu_id:d,orderId:o,comp_material_id:d}}),this.data.hasAddress)if(s)this.triggerEvent("showMergePopup",{orderId:o,batchId:u,operateType:P.OPERATE_TYPE_MAP.PAY});else if(0!==Number(l))if(null!==c){var f=function(){var t=!1,i=!1,n=!1;(0,A.payOrder)({orderId:o,batchId:u,payOrderInfo:c,success:function(e){t=!0,m>0?(n=!0,(0,D.bdxdAddLog)(a,{compTargetId:"ssv_387",userExtra:{from:h,orderId:o,batchId:u,comp_material_id:d}})):(0,D.bdxdAddLog)(a,{compTargetId:"ssv_391",userExtra:{from:h,orderId:o,batchId:u,comp_material_id:d}}),a.toPayResPage(e)},fail:function(e,t){e&&e.errCode===P.CANCEL_PAY?i=!0:a.toPayResPage(t)},complete:function(){a.dispatch("onactionsclick",{actionName:e,orderId:o,batchId:u,isExecSuccessCb:t,isCancelPay:i,isFromPay:!0,isAutoPay:n})}})};if("h5"===(0,D.parsePageQuery)().from&&m>0)c.orderRemainTime=p,f();else{var v=new Promise((function(e,t){(0,_.request)({url:P.API.queryOrderDetail,data:{scene:P.XCX_SCENE,orderId:o,batchId:u}}).then((function(t){var o=(t||{}).data.orderRemainTime;e(void 0===o?0:o)})).catch((function(e){t(e)}))})),b=new Promise((function(e){t((function(){e(0)}),1e3)}));Promise.race([v,b]).then((function(e){c.orderRemainTime=e,f()}))}}else this.handleShopCarOrder();else this.toPayResPage({payRes:P.PAY_RESULT.SUCCESS});else(0,D.normalToast)({title:"请填写收货地址"})},handleConfirmReceipt:function(e,t){var o=this,a=this.data.payType,i=a===P.PAYMENT.OFFLINE;(0,D.bdxdAddLog)(this,{compTargetId:"ssv_393",userExtra:{order_id:t}}),(0,A.confirmReceipt)({orderId:t,payType:a,success:function(){o.dispatch("onactionsclick",{actionName:e,orderId:t}),(0,D.bdxdAddLog)(o,{compTargetId:"ssv_392",userExtra:{order_id:t}})},fail:function(e){e&&8e3===e.status?o.dispatch("onReqLoginFail"):(0,D.errToast)(i?L:e.statusInfo)}})},handleJumpClumn:function(){var e=this.properties.bjhInfo;e&&e.bjhColumnId&&(e.source="duxd_ad_column",(0,j.jumpToColumn)(e))},handleDeleteOrder:function(e,t){var o=this;(0,A.deleteOrder)({orderId:t,success:function(){o.dispatch("onactionsclick",{actionName:e,orderId:t,batchId:o.properties.batchId})},fail:function(e){return o.handleLoginFail(e)}})},handleCancelOrder:function(e,t){var o=this,a=this.properties,i=a.hasRelatedOrder,n=a.needCancelOrderPopup,r=a.batchId;(0,D.bdxdAddLog)(this,{compTargetId:"ssv_302"}),i?this.triggerEvent("showMergePopup",{orderId:t,batchId:r,operateType:P.OPERATE_TYPE_MAP.CANCEL}):n?this.triggerEvent("saveCancelOrderInfo",{isShow:!0,orderId:t,batchId:r}):(0,A.cancelOrder)({orderId:t,success:function(){o.dispatch("onactionsclick",{actionName:e,orderId:t,batchId:r})},fail:function(e){return o.handleLoginFail(e)}})},handleLoginFail:function(e){e&&8e3===e.status?this.dispatch("onReqLoginFail"):(0,D.errToast)(e.statusInfo)},handleForwardReceipt:function(){var e=this;(0,D.bdxdAddLog)(this,{compTargetId:"ssv_653"}),this.logicData.forwardReceiptSuccess?n.showToast({title:"抱歉，您只能延长一次确认收货时间",icon:"none"}):n.showModal({title:"确认延长收货时间？",content:"每笔订单只能延迟一次哦",showCancel:!0,cancelText:"取消",confirmText:"确定",success:function(t){if(!t.cancel){(0,D.bdxdAddLog)(e,{compTargetId:"ssv_654"});var o=e.properties,a=o.orderId,i=o.batchId;return(0,_.request)({url:P.API.orderConfirmTimeExtend,data:{orderId:a,batchId:i}}).then((function(t){var o=t.status,a=t.data,i=void 0===a?{}:a,r=t.statusInfo||"";200===o&&(r="已成功延长收货时间"),n.showToast({title:r,icon:"none"});var s=i.autoConfirmTimeStr;s&&(e.dispatch("setDateSubStr",s),e.logicData.forwardReceiptSuccess=!0)})).catch((function(e){n.showToast({title:e.statusInfo||"系统开小差了",icon:"none"})}))}}})}}};Component(N)})),window.define("561",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(129),x=e(4),P={options:{addGlobalClass:!0},properties:{spuId:{type:String,value:""},shopImg:{type:String,value:""},shopName:{type:String,value:""},orderTime:{type:String,value:""},orderStatusText:{type:String,value:""},needJumpShop:{type:Boolean,value:!1},shopUrl:{type:String,value:""},canDelete:{type:Boolean,value:!1},orderId:{type:String,value:""},batchId:{type:String,value:""},shopServiceLevel:{type:Number,value:0,observer:function(e){e&&(0,x.bdxdAddLog)(this,{compTargetId:"ssv_615",userExtra:{shopServiceLevel:e}})}}},logicData:{generalParams:{id:"mip-bdxd-order-shop-card",name:"mip-bdxd-order-shop-card",type:"mip-bdxd-order-shop-card",title:"店铺卡"}},methods:{onShopCardClick:function(){this.properties.needJumpShop&&this.dispatch("onshopcardclick",{shopUrl:this.properties.shopUrl})},shopLevelTagClick:function(){i.showModal({content:"系统根据店铺的商品销量、发货效率、服务质量等因素对店铺进行综合打分，取分值较高的店铺划分为银牌、金牌、钻石级进行展示。",confirmText:"确定",showCancel:!1})},handleDeleteOrder:function(){var e=this,t=this.properties,o=t.orderId,a=void 0===o?"":o,i=t.batchId,n=void 0===i?"":i;(0,T.deleteOrder)({orderId:a,batchId:n,success:function(){e.dispatch("onactionsclick",{actionName:"deleteOrder",orderId:a,batchId:n})},fail:function(t){t&&8e3===t.status?e.dispatch("onReqLoginFail"):(0,I.errToast)(t.statusInfo)}})}}};Component(P)})),window.define("563",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(58),x=e(92),P=L(e(3)),D=e(4),_=e(564),k=e(81),A=L(e(87)),j=e(239),O=e(170);e(323);function L(e){return e&&e.__esModule?e:{default:e}}var E=10,N=11,R=2,M=3,B=7,F={options:{addGlobalClass:!0},properties:{orderCardStyle:{type:Number,value:1},needStickyNavigater:{type:Boolean,value:!1}},data:{viewHeight:"calc(100vh - 64px - "+(0,j.upx2dpx)(150)+"px)",gapBackgroundColor:"#f5f5f5",gapHeight:8,showLoading:!0,showFinal:!1,noOrders:!1,tab:[{text:"全部",name:"all",status:10,activity:!0},{text:"待支付",name:"noPaid",status:11},{text:"待发货",name:"noDelivery",status:2},{text:"待收货",name:"noTake",status:3},{text:"待评价",name:"noComment",status:7}],orderCount:{noPaid:0,noDelivery:0,noTake:0,noComment:0},orderList:[],groupStatusMap:I.groupStatusMap,initTabFlag:!1,stickyStyle:{},isPopupShow:!1,cancelOrderId:"",cancelBatchId:"",spuList:[],pageType:23,isMergePopupShow:!1,operateType:"",isNextRefresh:0,pullToRefresh:!1},logicData:{isGetComplete:!0,currentPage:1,currentStatus:10,canClickAction:!0,firstReq:!0,refreshObj:{}},messages:{ongoodscardclick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value||{},o=t.orderId,a=void 0===o?"":o,i=t.batchId,r=void 0===i?"":i,s=t.hasRelatedOrder,d=void 0!==s&&s;n().globalData.currOrderData={orderId:a,batchId:r,hasRelatedOrder:d},(0,T.jumpToInnerSwan)({path:I.PAGES.ORDER_DETAIL,params:Object.assign({orderId:a,batchId:r,from:(0,D.isDxdjx)()?"dxdjx-order-list":""},n().globalData.isNormalPathOrder?{isNormalPathOrder:1}:{})}),n().globalData.isNormalPathOrder=0},onshopcardclick:function(e){(0,k.generalJump)({url:e.value.shopUrl})},onactionsclick:function(e){var t=e.value,o=t.actionName,a=t.orderId,i=t.batchId,r=t.groupId,s=void 0===r?"":r,d=t.image;switch(o){case"confirmReceipt":this.confirmReceipt(a);break;case"cancelOrder":this.cancelOrder({orderId:a,batchId:i});break;case"deleteOrder":this.deleteOrder({orderId:a,batchId:i});break;case"showLogistics":this.showLogistics(a);break;case"pay":this.pay();break;case"inviteFriend":n().globalData.currOrderData={orderId:a},this.onInviteFriend({shareUrl:I.PAGES.GROUP_DETAIL,urlParams:{groupId:s,orderId:a},imageUrl:d})}},changePopupStatus:function(e){this.setData({isPopupShow:e.value.isShow})}},lifetimes:{attached:function(){var e=this;P.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh - "+t+" - "+(0,j.upx2dpx)(150)+"px)"})})),this.clearGlobalOrderData(),this.properties.needStickyNavigater&&this.initNav();var t=(0,D.parsePageQuery)().orderStatus||(0,D.curPathIsTabBar)()&&n().globalData.orderListOrderStatus||"";t?this.onTabClick({name:t}):(this.setData({initTabFlag:!0}),this.getOrderList()),P.default.addHandler("onTabItemTap",(function(){return e.refresh()})),(0,D.isDxdjx)()&&this.setData({isInDxdjx:!0})}},pageLifetimes:{show:function(){if((0,D.getCurrentPage)()&&(0,D.getCurrentPage)().uri&&(0,D.getCurrentPage)().uri.includes("order-list")){var e=n().globalData.isBackFromCommentPost;if(n().globalData.isBackFromCommentPost=!1,e)this.refresh();else{var t=n().globalData.currOrderData,o=t.orderId,a=void 0===o?"":o,i=t.batchId,r=void 0===i?"":i,s=t.from,d=void 0===s?"":s,u=t.hasRelatedOrder;if("personCenter"===d||"order-submit"===d||void 0!==u&&u)return this.refresh(),void this.clearGlobalOrderData();if(a||r){var c=a?"orderId":"batchId",p=a||r,l=this.data.orderList;(void 0===l?[]:l).findIndex((function(e){return e[c]===p}))>=0&&this.getOrderDetail({orderId:a,batchId:r}),this.clearGlobalOrderData()}}}}},methods:{refresh:function(){var e=this;this.logicData.currentPage=1;var t=(0,D.curPathIsTabBar)()&&n().globalData.orderListOrderStatus||"";t?this.onTabClick({name:t}):this.setData({initTabFlag:!0,orderList:[],noOrders:!1,showLoading:!0,showFinal:!1,pullToRefresh:!1},(function(){e.getOrderList()}))},clearGlobalOrderData:function(){"{}"!==JSON.stringify(n().globalData.currOrderData)&&(n().globalData.currOrderData={})},initNav:function(){var e=this;(0,A.default)().then((function(t){var o=t.navigationBarHeight,a=t.statusBarHeight;e.setData({stickyStyle:{top:o+a+"px","z-index":"100"}})}))},onReachBottom:function(){if(!this.data.showFinal&&!this.data.noOrders)return this.logicData.currentPage=++this.logicData.currentPage,void this.getOrderList();this.setData({isNextRefresh:++this.data.isNextRefresh})},confirmReceipt:function(e){n().globalData.isBackFromCommentPost=!0,(0,T.jumpToInnerSwan)({path:I.PAGES.COMMENT_COMMENT_POST,params:{orderId:e,pageUri:((getCurrentPages()||[])[1]||{}).uri||"",from:(0,D.isDxdjx)()?"dxdjx-order-list":"",action:I.commentPostActionEntry.confirm}})},triggerCancelOrder:function(){this.cancelOrder({orderId:this.data.cancelOrderId})},triggerCancelShopCardOrder:function(e){this.cancelOrder({batchId:e.detail.batchId})},triggerSaveCancelOrderInfo:function(e){var t=e.detail,o=t.isShow,a=t.orderId,i=t.batchId;this.setData({isPopupShow:o,cancelOrderId:a,cancelBatchId:i})},triggerShowMergePopup:function(e){var t=e.detail,o=t.orderId,a=t.batchId,i=t.operateType;this.setData({isMergePopupShow:!0,cancelOrderId:o,cancelBatchId:a,operateType:i})},changeMergePopupStatus:function(e){this.setData({isMergePopupShow:e.detail.isShow})},cancelOrder:function(e){for(var t=e.orderId,o=e.batchId,a=t?"orderId":"batchId",i=t||o,n=this.data.orderList,r=0,s=0;s<n.length;s++){var d=n[s];d[a]===i&&(r++,this.logicData.currentStatus===E?(d.orderStatus=5,d.orderStatusText="交易关闭",d.canDelete=!0):(n.splice(s,1),s--),this.setData({orderList:n,noOrders:!n.length}))}this.setData("orderCount.noPaid",this.data.orderCount.noPaid-r)},deleteOrder:function(e){var t=e.orderId,o=e.batchId,a=t?"orderId":"batchId",i=t||o,n=this.data.orderList||[],r=n.findIndex((function(e){return e[a]===i}));r>=0&&n.splice(r,1),this.setData({orderList:n,noOrders:!n.length}),this.getOrdersCount()},onInviteFriend:function(e){(0,D.shareFriend)(e),(0,D.bdxdAddLog)(this,{compTargetId:"ssv_272"})},showLogistics:function(e){},pay:function(){},getOrderList:function(){var e=this;if(this.logicData.isGetComplete){this.logicData.isGetComplete=!1;var t={url:I.API.orderList,data:{status:this.logicData.currentStatus,pageNum:this.logicData.currentPage,pageSize:10,shopId:(0,D.isDxdjx)()?"":(0,D.getShopId)()},downGradeOpts:{isMain:!0}};(0,x.request)(t).then((function(t){if(t&&t.data){var o=t.data,a=[];o.forEach((function(e){e.__customActionList__=e.orderStatus===I.orderStatusMap.DEAL_SUCCESS?I.ORDER_COMMENT_ACTION[e.evaluateStatus]:[],Array.isArray(e.skus)&&(e.skus.forEach((function(e){a.push(e.spuId)})),e.skus[0].productType!==I.goodsTypeMap.recharge||e.isNft||(e.orderStatusText=I.rechargeOrderStatusText[e.orderStatus]))})),1!==e.logicData.currentPage||o.length?1===e.logicData.currentPage&&o.length?e.setData({orderList:o,spuList:a,showLoading:o.length>=10,showFinal:o.length<10}):10===o.length?e.setData({orderList:e.data.orderList.concat(o),spuList:e.data.spuList.concat(a),showLoading:!0}):e.setData({showLoading:!1,showFinal:!0,orderList:e.data.orderList.concat(o),spuList:e.data.spuList.concat(a)}):e.setData({showLoading:!1,noOrders:!0})}else(0,D.errToast)(t.statusInfo)}),(function(t){t&&8e3==+t.status?e.dispatch("onReqLoginFail"):(0,D.errToast)(t.statusInfo)})).finally((function(){e.logicData.isGetComplete=!0;var t=getCurrentPages();e.getOrdersCount(),i.nextTick((function(){t[t.length-1].removeSkeleton&&t[t.length-1].removeSkeleton(),e.data.pullToRefresh||e.setData({pullToRefresh:!0}),(0,D.isDxdjx)()&&(i.loadSubPackage({root:"wjz/bdxd/comment"}),i.loadSubPackage({root:"wjz/bdxd/after-sale"}),i.loadSubPackage({root:"wjz/bdxd/communicate"}),i.loadSubPackage({root:"wjz/bdxd/activity"}))})),e.logicData.canClickAction=!0;var o=e.data.tab,a="";o.forEach((function(t){t.status===e.logicData.currentStatus&&(a=t.name)})),n().globalData.orderListOrderStatus=a;var r=e.logicData.refreshObj,s=void 0===r?{}:r;s.stopRefresh&&s.stopRefresh()}))}},getOrdersCount:function(){var e=this;(0,_.orderCount)().then((function(t){var o=t.data;e.setData("orderCount",{noPaid:o.waitPay||0,noDelivery:o.waitDeliver||0,noTake:o.waitConfirm||0,noComment:o.waitEvaluate||0})}))},onTabClick:function(e){var t=this;if(this.logicData.canClickAction){this.logicData.canClickAction=!1;var o=e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.name||e.name,a=this.data.tab,i=void 0;a.forEach((function(e){e.name===o?(e.activity=!0,i=e.status,!0):e.activity=!1})),this.logicData.currentPage=1,this.logicData.currentStatus=i,this.setData({initTabFlag:!0,tab:a,orderList:[],noOrders:!1,showLoading:!0,showFinal:!1,pullToRefresh:!1},(function(){t.getOrderList()})),this.goBackTop()}},onRefresh:function(){var e=this,t=this;(0,O.getFeedNodeRect)(".pull-down-refresh",t).then((function(o){if(!o)throw new Error("未找到节点 pull-down-refresh");e.logicData.refreshObj=t.selectComponent(o.id),e.logicData.currentPage=1,e.getOrderList()}))},goBackTop:function(){this.selectComponent("#feed-id")&&this.selectComponent("#feed-id").goBackTop()},getOrderDetail:function(e){var t=this,o=e.orderId,a=e.batchId;if(o||a){var i=o?"orderId":"batchId",n=o||a;(0,x.request)({url:I.API.queryOrderDetail,data:{scene:2,orderId:o,batchId:a}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.data||{};delete o.expressResultList,delete o.address,delete o.canModifyAddress,delete o.shop;var a=t.data.orderList,r=void 0===a?[]:a;if(r.length){var s=t.logicData.currentStatus,d=void 0===s?E:s;r.forEach((function(e,a){e[i]===n&&(d===E||d===N&&o.orderStatus===I.orderStatusMap.UNPAYMENT||d===R&&o.orderStatus===I.orderStatusMap.UNSEND||d===M&&o.orderStatus===I.orderStatusMap.SEND||d===B&&o.orderStatus===I.orderStatusMap.DEAL_SUCCESS&&o.evaluateStatus===I.orderCommentStatusMap.NOT_EXIST_COMMENT?(o.__customActionList__=o.orderStatus===I.orderStatusMap.DEAL_SUCCESS?I.ORDER_COMMENT_ACTION[o.evaluateStatus]:[],Array.isArray(e.skus)&&e.skus.length&&(e.skus[0].productType!==I.goodsTypeMap.recharge||e.isNft||(o.orderStatusText=I.rechargeOrderStatusText[o.orderStatus])),Object.assign(e,o)):r.splice(a,1),t.setData({orderList:r,noOrders:!r.length}),t.getOrdersCount())}))}})).catch((function(e){if(e&&50104===e.status){var o=t.data.orderList,a=void 0===o?[]:o,r=a.findIndex((function(e){return e[i]===n}));r>=0&&(a.splice(r,1),t.setData({orderList:a,noOrders:!a.length}),t.getOrdersCount())}}))}}}};Component(F)})),window.define("564",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.orderCount=void 0;var I=e(92),T=e(51),x=e(4);o.orderCount=function(){return new Promise((function(e,t){(0,I.request)({url:T.API.orderCount,data:{shopId:(0,x.isDxdjx)()?"":(0,x.getShopId)()}}).then((function(t){e(Object.assign({},t))})).catch((function(e){t(e)}))}))}})),window.define("566",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x=e(119),P=e(58);Component({options:{addGlobalClass:!0},behaviors:[(0,x.loginBehavior)()],data:{loginConfig:{image:"http://bj.bcebos.com/fcmall/0/pic/7f94aade0da9a39aba34c50abc1f440f.png",tip:"登录后查看个人订单哦~",buttonText:"去登录"}},attached:function(){},messages:{onReqLoginFail:function(){this.data.$isLogin&&this.$setLoginStatus(!1)}},pageLifetimes:{show:function(){(0,I.showTabBarRedDot)(T.PAGES.ORDER_LIST,!1)}},methods:{handleBackClick:function(){var e=(0,I.parsePageQuery)().from||"";if(e&&"personCenter"!==e)return(0,P.jumpToInnerSwan)({type:P.innerJumpType.navigateBack,fail:function(){i.exit()}});(0,P.jumpToInnerSwan)({path:T.PAGES.DXDJX_PERSONAL_CENTER,type:P.innerJumpType.switchTab})}}})})),window.define("568",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{text:{type:String,value:""}},data:{bgImageSrc:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Ftehuiempty.png"},methods:{}})})),window.define("570",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(61),x=e(62);Component({properties:{shopInfo:{type:Object,value:{productName:"",posterNormal:"",recommend:"",discountsPrice:"",price:"",webappUrl:"",spuId:""},observer:function(e){this.initPrice(e.discountsPrice)}},ssv:{type:String,value:""},index:{type:Number,value:0}},data:{price:"",priceFix:""},lifetimes:{ready:function(){var e=this.properties,t=e.shopInfo,o=e.index,a=e.ssv;a&&(this.intersectionObserver=(0,T.observerElementShowLog)({context:this,selector:".shop-card",logParams:{compTargetId:a,userExtra:Object.assign({},t,{event_index:o})},logSort:x.logSortMap.PRODUCT}))},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{initPrice:function(e){var t=(e||"").split("."),o=I(t,2),a=o[0],i=void 0===a?"":a,n=o[1],r=void 0===n?"":n;this.setData({price:i,priceFix:r})},click:function(){var e=this.properties.shopInfo.webappUrl;this.triggerEvent("shopClick",{xcxPath:e,spuId:this.properties.shopInfo.spuId})}}})})),window.define("572",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{start:{type:Number,value:0},end:{type:Number,value:0},tabStyle:{type:Object,value:{}}},methods:{click:function(e){this.triggerEvent("tabClick",e)}}})})),window.define("574",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I};Component({properties:{headBgInfo:{type:Object,value:{}},pageType:{type:String,value:""}},data:{imgHeight:"auto",ruleVisiable:!1,adrStyle:"",ruleStyle:{},headBgUrl:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/dailyShopHeadImg.png"},lifetimes:{attached:function(){var e=this,t=n().globalData.siteData.systemInfo.screenWidth,o=Math.round(t*(900/1242)),a={};x.default.addHandler("getNavHeight",(function(t){a.top=+t.replace("px","")+6+"px",e.setData({ruleStyle:a})})),this.setData({imgHeight:o,adrStyle:n().globalData.siteData.isAdr?"overflow: hidden;":""})},detached:function(){x.default.clearEvents(["getNavHeight"])}},methods:{open:function(){this.setData({ruleVisiable:!0})},close:function(){this.setData({ruleVisiable:!1})}}})})),window.define("576",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(577),x=e(3),P=(I=x)&&I.__esModule?I:{default:I},D=e(4),_=e(51),k=e(59),A=e(237),j=e(58);Component({data:{imgHeight:"auto",headBgInfo:{bgBottom:"",bg:""},currentSystemTime:0,endTime:0,todayShopList:[],tomorrowShopList:[],scrollTop:0,tabList:[{tabName:"今日特惠",tabId:"tab",ssv:"ssv_78"},{tabName:"明日预告",tabId:"tomorrow",ssv:"ssv_79"}],currentTab:"tab",navHeight:0,showTopTab:!1,tabStyle:{"margin-top":"-9px"},emptyTextMap:{today:"好货太抢手了，真的一件没留~",tomorrow:"疯狂选品上货中，敬请期待~"},showTodayEmpty:!1,showTomorrowEmpty:!1,hasGetInfo:!1,hasGetList:!1,scrollY:!0,emptyStyle:{},navPicTitle:"https://mall-static.cdn.bcebos.com/editor/dailyShopNavTitle.png"},logicData:{queryDom:[],domHeight:{},tabHeight:0},lifetimes:{attached:function(){var e=this;this.getDailyBenefit(!0);var t=-543/1242*(i.getSystemInfoSync().windowWidth||375);this.setData({tabStyle:{"margin-top":t+"px"}}),P.default.addHandler("getNavHeight",(function(t){var o=+t.replace("px",""),a={};e.data.showTomorrowEmpty&&(a.emptyStyle={height:"calc(100vh - "+(40+o)+"px)"}),e.setData(Object.assign({navHeight:o},a))}))},created:function(){this.resetDomInfo()},ready:function(){var e=this;this.getTabNodeRect().then((function(t){e.logicData.tabHeight=t.height}))}},methods:{resetDomInfo:function(){this.logicData.queryDom=[],this.logicData.domHeight={}},getDailyBenefit:function(e){var t=this;(n().globalData.pageReqCache[A.DAILY_BENEFIT]||(0,T.getDailyBenefit)()).then((function(e){if(e&&e.data){var o=e.data,a=o.todayShopList||[],i=o.tomorrowShopList||[],n={currentSystemTime:o.currentSystemTime,endTime:new Date(o.endTime.replace(/-/g,"/")).getTime(),headBgInfo:{bgBottom:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Fdailyshopbgbottom.png",bg:o.bgImage},hasGetInfo:!0},r={showTodayEmpty:a.length<4,showTomorrowEmpty:i.length<4,todayShopList:a,tomorrowShopList:i,hasGetList:!0};if(t.setData(n,(function(){t.setData(r)})),a.length>3||i.length>3){var s={todaySpuIdList:[],tomorrowSpuIdList:[]};s.todaySpuIdList=a.map((function(e){return e.spuId})),s.tomorrowSpuIdList=i.map((function(e){return e.spuId}))}}else(0,D.jumpErrorPageUrl)({errTitle:"每日特惠",errText:"活动还未开始，请稍后再来~"}),t.setData("hasGetInfo",!0)})).catch((function(e){t.setData("hasGetInfo",!0),i.showToast({title:e.statusInfo||"系统开小差了，请刷新页面重试",icon:"none"})})).finally((function(){n().globalData.pageReqCache[A.DAILY_BENEFIT]=null,e&&(0,D.removeSkeleton)({delayTime:150})}))},queryScrollDom:function(){var e=this,t=this;return new Promise((function(o,a){var n=i.createSelectorQuery().in(t);n.selectAll(".scroll-item").boundingClientRect(),n.exec((function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={},r=0;(i[0]||[]).forEach((function(t){if(r+=t.height,"bg"===t.id){var o=+e.data.tabStyle["margin-top"].replace("px","");r+=o}n[t.id]=r})),t.logicData.queryDom=i.length?i[0]:[],t.logicData.domHeight=n,i.length?o():a(new Error("没有找到相关dom"))}))}))},getTabNodeRect:function(){var e=this;return new Promise((function(t){i.createSelectorQuery().in(e).select(".daily-shop-tab").boundingClientRect((function(e){t(e)})).exec()}))},handleScroll:function(e){var t=this;P.default.trigger("onPageScroll",e.detail);var o=e.detail.scrollTop;if(!(o<0)){var a=this.logicData,i=a.queryDom,n=a.domHeight;i.length?this.scrollCallBack(o,i,n):this.queryScrollDom().then((function(){t.scrollCallBack(o,i,n)}))}},scrollCallBack:function(e,t,o){var a={},i=e+this.data.navHeight,n=this.logicData.tabHeight,r=o.bg||0,s=o.tab||0,d=o.today||0,u=o.tomorrow||0;a.showTopTab=i>=r&&0!==r,i+=n;for(var c=0;c<t.length;c++){var p=t[c].id;if("bg"===p&&i<=r){a.currentTab="tab";break}if("tab"===p&&i<=s){a.currentTab=p;break}if("today"===p&&i<=d){a.currentTab="tab";break}if("tomorrow"===p&&i<=u){a.currentTab=p;break}}this.setData(a)},tabClick:function(e){var t=this;this.logicData.queryDom.length?this.tabClickCallBack(e):this.queryScrollDom().then((function(){t.tabClickCallBack(e)}))},tabClickCallBack:function(e){var t=this;if(e&&e.currentTarget&&e.currentTarget.dataset){var o=e.currentTarget.dataset.tabId,a=this.logicData,i=a.domHeight,n=a.tabHeight,r=this.data.navHeight,s="tomorrow"===o?n-2:-1,d="tomorrow"===o?"today":"bg",u=Math.ceil(i[d]-r-s||0);this.setData({scrollY:!1},(function(){t.setData({scrollTop:u,scrollY:!0})}))}},shopClick:function(e){var t=e.spuId;(0,j.jumpToInnerSwan)({path:_.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:t},k.CHANNEL_INFO.dailyShop[this.data.currentTab]),log:{ctx:this,userExtra:{}}})}},messages:{imgLoaded:function(e){},onEnd:function(){this.resetDomInfo(),this.setData({scrollTop:0}),this.getDailyBenefit(!1)}}})})),window.define("577",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getDailyBenefit=void 0;var I=e(92),T=e(59);o.getDailyBenefit=function(){var e=T.API.getDailyBenefit;return(0,I.request)({url:e}).then((function(e){return Object.assign({},e)})).catch((function(e){return Promise.reject(e)}))}})),window.define("579",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{currentError:{type:Object,value:{}}}})})),window.define("581",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=x(e(5)),T=x(e(582));function x(e){return e&&e.__esModule?e:{default:e}}var P="mip-sjh-module",D="mip-sjh-module",_="mip-sjh-module",k="内容块组件",A="one";Component({properties:{__id__:{type:String,value:""},__name__:{type:String,value:""},__type__:{type:String,value:""},__title__:{type:String,value:""},className:{type:String,value:""},currId:{type:[String,Number],value:"",observer:function(e){this.setData({tabList:this.getTabList()})}},navIds:{type:Array,value:[]},parentId:{type:Number,value:-1},navProps:{type:Object,value:{}}},data:{tabStyle:{},tabList:{}},attached:function(){this.setData({tabStyle:this.getTabStyle(),tabList:this.getTabList()})},methods:{addTabLog:function(e){var t=I.default.logActions,o=I.default.configOfLogAction,a=this.properties,i=a.__id__,n=a.__type__,r=a.__name__,s=a.__title__,d={actionId:o.actionIdForDeveloper.SITE_COMP_CLICK,id:i||P,type:n||_,name:r||D,title:s||k};t.addUserDefinedLog(Object.assign({},d,{compTargetId:d.type+"-tab-"+e}))},onTabTap:function(e){var t=e.currentTarget.dataset.key;this.addTabLog(t),this.triggerEvent("currChange",{currId:t,parentId:this.properties.parentId})},getTabStyle:function(){var e=this.properties.navProps.navStyle||{},t=e.height,o=e.lineHeight,a=e.backgroundColor,i=e.paddingTop,n=e.paddingBottom,r=e.paddingLeft,s=e.paddingRight,d=e.borderBottomWidth,u=void 0===d?0:d,c=e.borderBottomStyle,p=e.borderBottomColor;return{"background-color":a,"padding-top":(0,T.default)(i),"padding-bottom":(0,T.default)(n),"padding-left":(0,T.default)(r),"padding-right":(0,T.default)(s),height:(0,T.default)(t),"line-height":(0,T.default)(o),"border-bottom-width":(0,T.default)(u),"border-bottom-style":c,"border-bottom-color":p}},getTabList:function(){var e=this,t=this.properties,o=t.navProps,a=t.currId,i={},n=o.navList||{};return Object.keys(n).forEach((function(t){var o=+t==+a;i[t]=Object.assign({},n[t],{tabItemStyle:Object.assign({},e.getTabItemNormalStyle(),o?e.getActiveStyle():{}),tabItemInnerStyle:Object.assign({},e.tabItemInnerStyle()),underLineStyle:o?e.getUnderLineStyle():{}})})),i},tabItemInnerStyle:function(){var e=this.properties.navProps,t=e.navStyle,o=e.theme,a=t||{},i=a.height,n=a.lineHeight;return A===o?{height:(0,T.default)(i),"line-height":(0,T.default)(n)}:{}},getTabItemNormalStyle:function(){var e=this.properties.navProps.normalStyle||{},t=e.fontSize,o=e.backgroundColor,a=e.color,i=e.borderRadius;return{"background-color":o,color:a,"font-size":(0,T.default)(t),"border-radius":(0,T.default)(i)}},getActiveStyle:function(){var e=this.properties.navProps.activeStyle||{},t=e.backgroundColor,o=e.color,a=e.borderRadius,i=e.fontSize,n=e.fontWeight;return{"background-color":t,color:o,"border-radius":(0,T.default)(a),"font-size":(0,T.default)(i),"font-weight":n}},getUnderLineStyle:function(){var e=this.properties.navProps.activeStyle||{},t=e.borderBottomWidth,o=e.borderBottomStyle,a=e.borderBottomColor;return{"border-bottom-width":(0,T.default)(t),"border-bottom-style":o,"border-bottom-color":a}}}})})),window.define("582",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=o.transPXToRPX=function(e){var t=e;return"auto"===t||"inherit"===t||"string"==typeof t&&t.indexOf("%")>-1?t:("string"==typeof t&&t.indexOf("px")>-1&&(t=+t.split("px")[0]),(2*+t).toString()+"rpx")};o.default=I})),window.define("584",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(81),x=e(4),P=e(59),D=e(51),_=e(208),k=e(86),A=e(58),j=e(61),O=e(57),L={preheart:1,inProgress:2,playback:3};Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}},__id__:{type:Number,value:0}},data:{autoplay:!1,streamUrl:"",objectFit:"cover",orientation:"vertical",controls:!1,muted:!0,posterImg:"",liveType:0,viewers:0,showVideo:!1,liveTypeMap:L,roomType:0,containerStyle:{height:"100vw"}},logicData:{liveUrl:"",streamUrl:""},lifetimes:{attached:function(){this.initAutoPlay(),this.initMarketingLive()},detached:function(){this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null}},pageLifetimes:{hide:function(){this.setData({showVideo:!1})},show:function(){this.initAutoPlay(),this.logicData.streamUrl&&this.setData({showVideo:!0,streamUrl:this.logicData.streamUrl+"?t="+Date.now()})}},methods:{initObserver:function(){var e=(0,T.parseLiveUrl)(this.logicData.liveUrl).params,t=void 0===e?{}:e;this.obserberInstance=(0,j.observerElementShowLog)({context:this,selector:".gt-dxdjx-h5-marketing-live-container",logParams:{compTargetId:(0,O.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.fulltoplive]},this.properties.componentData)),userExtra:{room_id:t.roomId||"",room_type:this.data.roomType}}})},initAutoPlay:function(){var e=this;n.getNetworkType({success:function(t){"wifi"===t.networkType&&e.setData("autoplay",!0)}})},initMarketingLive:function(e){var o=this,a=this.properties.componentData,i=void 0===a?{}:a,n=Array.isArray(i.requestConfig||{})?i.requestConfig[0]||{}:i.requestConfig||{};(0,_.downgradeInterface)({url:n.serviceConfig&&n.serviceConfig.path,pageType:n&&n.value||i.pageType||0}).then((function(e){var a=e.data;t((function(){o.setData({showVideo:!0})}),3e3),o.handleData(a)}))},handleClick:function(){var e=this.logicData.liveUrl;if(e)if((0,x.isH5)(e))(0,A.jumpToInnerSwan)({path:D.PAGES.COMMUNICATE_WEB_VIEW,params:{url:e}});else if((0,x.isBdH5)(e)){var t=e.split("easybrowse/open?url=").pop()||"";(0,T.jumpToEasyBrowseH5)(t)}else if((0,x.isSwan)(e))(0,T.generalJump)({url:e});else{var o=k.widgetsLiveInfoMap.fulltoplive,a=(0,T.parseLiveUrl)(e).params,i=void 0===a?{}:a;o.ext.roomId=i.roomId,o.ext.widgetInfoId=this.properties.__id__,(0,T.goToLive)(e,o,2,{},{ctx:this,compTargetId:(0,O.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.fulltoplive]},this.properties.componentData)),userExtra:{room_id:i.roomId,room_type:this.data.roomType}})}},handleData:function(e){var t=this,o=e.liveUrl,a=e.liveType,i=e.liveImage,n=e.streamUrl,r=e.viewers,s=void 0===r?0:r,d=e.roomType,u=void 0===d?1:d;this.logicData.liveUrl=o;var c={liveType:a,posterImg:i,streamUrl:n,viewers:s,roomType:u};a===L.preheart&&(c.containerStyle={height:273.666*P.rpx+"rpx"}),this.setData(c,(function(){t.initObserver()})),this.logicData.streamUrl=n}}})})),window.define("586",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(59),x=e(51),P=e(58),D=e(208),_=e(61),k=e(62);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},lifetimes:{attached:function(){this.getGoodsInfo()},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},data:{goodsInfo:null},messages:{jumpDetail:function(){var e=this.data.goodsInfo.spuId,t=this.properties.componentData.sch,o=void 0===t?"":t;(0,P.jumpToInnerSwan)({path:x.PAGES.PRODUCT_DETAIL,params:{spuId:e,sch:o},log:{ctx:this,userExtra:{event_index:0}}})}},methods:{getGoodsInfo:function(){var e=this;(0,D.downgradeInterface)({url:T.API.getGoodsInfo}).then((function(t){if(t&&t.data){var o=t.data;e.setData({goodsInfo:o},(function(){e.intersectionObserver=(0,_.observerElementShowLog)({context:e,selector:".product-card-observer",logParams:{compTargetId:"ssv_43",userExtra:{spuId:o.spuId,comp_material_id:o.spuId}},logSort:k.logSortMap.PRODUCT})}))}else(0,I.jumpErrorPageUrl)({})})).finally((function(){(0,I.removeSkeleton)({delayTime:150})}))}}})})),window.define("588",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=A(e(3)),T=e(85),x=e(4),P=A(e(163)),D=e(48),_=e(57),k=e(86);function A(e){return e&&e.__esModule?e:{default:e}}Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{suspendImg:"",suspendLink:{linkUrl:"",linkType:""}}},__id__:{type:Number,value:0}},data:{isShowBall:!1,ballStyle:{bottom:"175.11rpx"}},logicData:{appearHeight:300},lifetimes:{attached:function(){var e=this,t=this.properties.componentData,o=t.suspendTime,a=void 0===o?{}:o,i=t.suspendImg,n=a.startTime,r=void 0===n?"":n,s=a.endTime,d=void 0===s?"":s,u=Date.now(),c=new Date(r.replace(/-/g,"/")).getTime(),p=new Date(d.replace(/-/g,"/")).getTime();(!r&&!d&&i||u>c&&u<p&&i)&&(this.logicData.appearHeight=(0,P.default)().visibleHeight,I.default.addHandler("onPageScroll",(function(t){return e.changeStatus(t.scrollTop)})),this.setData({isShowBall:!0}),(0,x.bdxdAddLog)(this,{compTargetId:(0,_.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.suspendball]},this.properties.componentData)),logType:D.bdtjLogType.elemShow}))}},methods:{onClickClose:function(){this.setData({isShowBall:!1}),this.triggerEvent("onSuspendBallClose")},linkTo:function(){var e=this.properties.componentData.suspendLink,t=void 0===e?{}:e,o=t.linkType,a=t.linkUrl;o&&a&&((0,T.switchJump)({linkType:o,linkUrl:a,widgetName:"suspendball",ssv:(0,_.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.suspendball]},this.properties.componentData))}),(0,x.bdxdAddLog)(this,{compTargetId:(0,_.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.suspendball]},this.properties.componentData))}))},changeStatus:function(e){var t=this.data.ballStyle;e>this.logicData.appearHeight?t.bottom=175.11+100.6+"rpx":t.bottom="175.11rpx",this.setData({ballStyle:t})}}})})),window.define("590",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(582),x=(I=T)&&I.__esModule?I:{default:I};Component({properties:{componentData:{type:Object,value:{textContent:"默认文本",textColor:"#000",textFontSize:16},observer:function(e){var t={color:e.textColor,"font-size":(0,x.default)(e.textFontSize)};this.setData({textContent:e.textContent,textStyle:t})}}},data:{textContent:"",textStyle:""}})})),window.define("592",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(593),x=(I=T)&&I.__esModule?I:{default:I};Component({properties:{componentData:{type:Object,value:{richTextContent:""}},__id__:{type:Number,value:0}},data:{newDataText:""},observers:{"componentData.richTextContent":function(e){var t=this.getDecodeHtml(e),o=this.deleteU(t),a=(0,x.default)(o);this.getTextWidth(a)}},methods:{getTextWidth:function(e){if(e&&e.includes("<img")){var t=e.split("<").map((function(e){if(e.length)return"<"+e})).map((function(e){return e&&e.includes("img")&&!e.includes("width=")&&!e.includes("height=")?e.replace(">",' width="100%" >'):e})).join("");this.setData({newDataText:t})}else this.setData({newDataText:e})},deleteU:function(e){return e.replace(/<u[^>]*>/gi,'<span style="text-decoration:underline">').replace(/<\/u>/gi,"</span>").replace(/<(p|\/p).*?>/gi,(function(e){var t=/<p/gi,o=/<\/p/gi;return t.test(e)?e.replace(t,"<div"):o.test(e)?e.replace(o,"</div"):e}))},getDecodeHtml:function(e){var t={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return e.replace(/&(lt|gt|amp|quot|apos);/gi,(function(e,o){return t[o]||o}))}}})})),window.define("593",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return e.replace(/(\d+(\.\d+)?)rem/gi,(function(e,t){return 16*t*100/375+"vw"}))}})),window.define("595",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x,P,D,_,k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=e(208),j=e(58),O=B(e(3)),L=e(51),E=e(93),N=e(86),R=B(e(596)),M=e(57);function B(e){return e&&e.__esModule?e:{default:e}}function F(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var U=-1,G=0,H=1,q=2,z=-1,V=0,Y=1,W=375,J=70,X=(F(T={},z,"ready"),F(T,V,"take"),F(T,Y,"over"),T),K={1:(x={},F(x,z,{btnBgType:1,btnBgColor:"#FFC8C5",btnTextColor:"#FD503E"}),F(x,V,{btnBgType:1,btnBgColor:"#FD503E",btnTextColor:"#fff"}),F(x,Y,{btnBgType:1,btnBgColor:"#FFC8C5",btnTextColor:"#FFFFFF"}),x)};Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(){this.handleComponentData()}},__id__:{type:Number,value:0}},data:{productList:[],currentTabIndex:0,scrollLeft:0,tabTextMap:(P={},F(P,U,"即将开抢"),F(P,G,"抢购中"),F(P,H,"已开抢"),F(P,q,"已抢光"),P),buttonTextMap:(D={},F(D,z,"即将开抢"),F(D,V,"立即抢购"),F(D,Y,"已抢光"),D),buttonStatusMap:(_={},F(_,Y,"soldout"),F(_,z,"sellingsoon"),F(_,V,"selling"),_),btnThemeStyleMap:K,btnConifgKeyMap:X,scrollViewInited:!1,timesSelectedStyle:{},timesStyle:{},textSelectedStyle:{},textStyle:{},_componentData:{},canScrollX:!1,productCardSSV:""},logicData:{currentTime:-1,nextCurrentTime:-1,timer:null,productListData:[],jumpDelay:0,isTimeoutEnd:!0},messages:{clickend:function(e){var t=this,o=this.data,a=o.currentTabIndex,i=o.productList,n=e.value.index,r=i[a].productList;if(r[n].productStatus===V){var s=r[n].spuId;(0,E.delayFunc)((function(){(0,j.jumpToInnerSwan)({path:L.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:s},N.widgetsChannalInfoMap.seckill,{subSceneValue:(0,M.getMarketingPageSSV)(Object.assign({dxdjxSSV:[N.widgetsSSVMap.seckill]},t.properties.componentData))}),log:{ctx:t,userExtra:{event_index:a}}})}))}}},lifetimes:{attached:function(){var e=this;O.default.addHandler("onPageShowAgain",(function(){e.getSeckillList()})),this.getScrollLen();var t=this.properties.componentData,o=void 0===t?{}:t,a=Array.isArray(o.requestConfig||{})?o.requestConfig[0]||{}:o.requestConfig||{},i=a.serviceConfig||{};this.setData({productCardSSV:(0,M.getMarketingPageSSV)(Object.assign({dxdjxSSV:[N.widgetsSSVMap.seckill]},this.properties.componentData))}),(0,A.downgradeInterface)({url:i.path||"",pageType:a.value}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)}))}},methods:{handleComponentData:function(){var e=this,t=Object.assign({},R.default),o=Object.assign(t,this.properties.componentData),a=o.spikeCardConfig.showTagOrRecommend;o.spikeCardConfig.showTag=a&&a===N.feedShopCardConfig.recommendOrTag.TAG,o.spikeCardConfig.showRecommend=a&&a===N.feedShopCardConfig.recommendOrTag.RECOMMEND,this.setData({_componentData:o},(function(){e.initTabConfig()}))},initTabConfig:function(){var e=this.data._componentData||{},t=e.tabConfig,o=void 0===t?{}:t,a=e.contentConfig,i=void 0===a?{}:a,n=o.times,r=void 0===n?{}:n,s=o.text,d=void 0===s?{}:s,u=o.tabWrapBgImg,c=void 0===u?"":u,p=o.tabWrapBgColor,l=void 0===p?"":p,g=i.contentWrapBgImg,h=void 0===g?"":g,m=i.contentWrapBgColor,f=void 0===m?"":m,v=this.setTabStyle(r),b=k(v,2),w=b[0],y=b[1],C=this.setTabStyle(d),S=k(C,2),I=S[0],T=S[1];this.setData({timesSelectedStyle:w,timesStyle:y,textSelectedStyle:I,textStyle:T,contentWrapStyle:h?{"background-image":"url("+h+"), linear-gradient(0deg,\n                        "+f+" 0, "+f+" 100%)","border-radius":"0"}:{"background-color":f},tabWrapStyle:c?{"background-image":"url("+c+")","border-radius":"0"}:{"background-color":l}})},setTabStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={color:e.tabSelectedColor||""};e.tabSelectedBgImg?(t["background-image"]="url("+(e.tabSelectedBgImg||"")+")",t["border-radius"]="0"):t["background-color"]=e.tabSelectedBgColor||"";var o={color:e.tabColor||""};return e.tabBgImg?(o["background-image"]="url("+(e.tabBgImg||"")+")",o["border-radius"]="0"):o["background-color"]=e.tabBgColor||"",[t,o]},getSeckillList:function(){var e=this,t=this.properties.componentData,o=void 0===t?{}:t,a=(Array.isArray(o.requestConfig||{})?o.requestConfig[0]||{}:o.requestConfig||{}).serviceConfig||{};(0,A.activityInterFace)({url:a.path||"",data:a.params||{},method:a.method||"GET"}).then((function(t){e.successCallback(t)})).catch((function(t){e.failCallBack(t)}))},successCallback:function(e){var t=e.data||{};this.logicData.productListData=t.secKillInfoList||[],this.setData({canScrollX:this.logicData.productListData.length>5}),this.update(t.currentTime)},failCallBack:function(e){},adjustPosToCenter:function(){var e=this;if(this.data.productList&&!(this.data.productList.length<=5)){var t=this.data.currentTabIndex;this.setData({scrollLeft:t<=2?0:this.getScrollLen()*(t-2)}),!this.data.scrollViewInited&&n.nextTick((function(){e.setData({scrollViewInited:!0})}))}},getScrollLen:function(){var e=n.getSystemInfoSync().screenWidth;return J*e/W},update:function(e){var o=this;clearTimeout(this.logicData.timer),this.logicData.timer=null,this.logicData.currentTime=e,this.logicData.nextCurrentTime=-1;var a=this.logicData.productListData,i=a.length,n=0,r=a.map((function(r,s){var d={tabStatus:U,productStatus:z};if(e<r.effectiveTime){if(d.tabStatus=U,r.productList.forEach((function(e){e.productStatus=z})),-1===o.logicData.nextCurrentTime){o.logicData.nextCurrentTime=r.effectiveTime;var u=t((function(){o.logicData.isTimeoutEnd=!0,o.update(o.logicData.nextCurrentTime)}),r.effectiveTime-e);o.logicData.timer=u}}else s===i-1||e<a[s+1].effectiveTime?(d.tabStatus=G,r.productList.forEach((function(e){var t=e.productStatus===z?V:e.productStatus;e.productStatus=t})),n=s):d.tabStatus=r.productStatus===Y?q:H;return Object.assign(r,d)}));this.setData({productList:r}),this.logicData.isTimeoutEnd&&this.changeTabStatus(n),this.logicData.isTimeoutEnd=!1,this.logicData.productListData=r},changeTab:function(e){var t=e.currentTarget.dataset.index;this.changeTabStatus(t)},changeTabStatus:function(e){this.setData({currentTabIndex:e}),this.data.canScrollX&&this.adjustPosToCenter()}}})})),window.define("596",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={theme:1,tabConfig:{times:{tabSelectedBgColor:"",tabBgColor:"",tabSelectedColor:"#e10000",tabSelectedBgImg:"",tabColor:"",tabBgImg:""},text:{tabSelectedBgColor:"",tabBgColor:"",tabSelectedColor:"#ffeb99",tabSelectedBgImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/marketing/seckillBtnRushBuying.png",tabColor:"",tabBgImg:""},tabWrapBgImg:"",tabWrapBgColor:"yellow"},contentConfig:{contentWrapBgImg:"",contentWrapBgColor:"red"},spikeCardConfig:{showTagOrRecommend:2,showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,btnConfig:{ready:{btnBgImg:"",btnBgColor:"#FFC8C5",btnTextColor:"#FD503E"},take:{btnBgImg:"",btnBgColor:"#FD503E",btnTextColor:"#FFFFFF"},over:{btnBgImg:"",btnBgColor:"#FFC8C5",btnTextColor:"#FFFFFF"}}}}})),window.define("598",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(208),x=e(59),P=e(119),D=e(3),_=(I=D)&&I.__esModule?I:{default:I},k=e(86),A=e(57);var j="cover",O="swiper";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{arrangement:j,couponTakenIconColor:"#FFFFFF",couponStyleConfig:{normal:{messageColor:"",backgroundImg:""},over:{messageColor:"",backgroundImg:""}},requestConfig:{serviceConfig:{path:"",params:{couponList:[]}},value:0},__id__:{type:Number,value:0}},observer:function(){this.setCouponConfig()}}},data:{couponInfoList:[],enableScroll:!1,couponSSV:""},attached:function(){this.setSSV(),this.loginEventRigister(),this.getCouponList()},detached:function(){_.default.clearEvents([k.GLOBAL_LOGIN_EVENT_KEY])},behaviors:[(0,P.loginBehavior)()],methods:{setSSV:function(){this.setData({couponSSV:(0,A.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.coupontriple]},this.properties.componentData))})},loginEventRigister:function(){var e=this;_.default.addHandler(k.GLOBAL_LOGIN_EVENT_KEY,(function(){e.refreshCouponList()}))},setCouponConfig:function(){var e=this.properties.componentData.arrangement,t=void 0===e?j:e;this.setData({enableScroll:t===O})},getCouponList:function(){var e=this,t=this.properties.componentData,o=void 0===t?{}:t,a=Array.isArray(o.requestConfig||{})?o.requestConfig[0]||{}:o.requestConfig||{};(0,T.downgradeInterface)({url:x.API.getCouponList,pageType:a.value||0}).then((function(t){e.setData({couponInfoList:t&&t.data||[]})}))},refreshCouponList:function(){var e=this;!this.data.$isLogin&&this.$setLoginStatus(!0);var t=this.properties.componentData||{},o=Array.isArray(t.requestConfig||{})?t.requestConfig[0]||{}:t.requestConfig||{},a=t.couponList||o.serviceConfig&&o.serviceConfig.params&&o.serviceConfig.params.couponList||[];(0,T.activityInterFace)({method:"GET",url:x.API.getCouponList,data:{params:a.map((function(e){return e.value})).join(",")}}).then((function(t){e.setData({couponInfoList:t.data||[]})}))}},messages:{refreshCouponInfo:function(){this.refreshCouponList()},changeCouponStatus:function(e){var t=e.value.batchId,o=this.data.couponInfoList.map((function(e){return e.batchId===t?Object.assign({},e,{taken:!0}):e}));this.setData({couponInfoList:o})}}})})),window.define("600",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(208),x=e(59),P=e(119),D=e(3),_=(I=D)&&I.__esModule?I:{default:I},k=e(86),A=e(57);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{couponTakenIconColor:"#FFFFFF",couponStyleConfig:{normal:{messageColor:"",backgroundImg:""},over:{messageColor:"",backgroundImg:""}},requestConfig:{serviceConfig:{path:"",params:{couponList:[]}},value:""},__id__:{type:Number,value:0}}}},data:{couponInfoList:[],couponSSV:""},attached:function(){this.setSSV(),this.loginEventRigister(),this.getCouponList()},detached:function(){_.default.clearEvents([k.GLOBAL_LOGIN_EVENT_KEY])},behaviors:[(0,P.loginBehavior)()],methods:{setSSV:function(){this.setData({couponSSV:(0,A.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.coupondouble]},this.properties.componentData))})},loginEventRigister:function(){var e=this;_.default.addHandler(k.GLOBAL_LOGIN_EVENT_KEY,(function(){e.refreshCouponList()}))},getCouponList:function(){var e=this,t=this.properties.componentData,o=void 0===t?{}:t,a=Array.isArray(o.requestConfig||{})?o.requestConfig[0]||{}:o.requestConfig||{};(0,T.downgradeInterface)({url:x.API.getCouponList,pageType:a.value||0}).then((function(t){e.setData({couponInfoList:t&&t.data||[]})}))},refreshCouponList:function(){var e=this;!this.data.$isLogin&&this.$setLoginStatus(!0);var t=this.properties.componentData||{},o=Array.isArray(t.requestConfig||{})?t.requestConfig[0]||{}:t.requestConfig||{},a=t.couponList||o.serviceConfig&&o.serviceConfig.params&&o.serviceConfig.params.couponList||[];(0,T.activityInterFace)({method:"GET",url:x.API.getCouponList,data:{params:a.map((function(e){return e.value})).join(",")}}).then((function(t){e.setData({couponInfoList:t.data||[]})}))}},messages:{refreshCouponInfo:function(){this.refreshCouponList()},changeCouponStatus:function(e){var t=e.value.batchId,o=this.data.couponInfoList.map((function(e){return e.batchId===t?Object.assign({},e,{taken:!0}):e}));this.setData({couponInfoList:o})}}})})),window.define("602",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T,x,P,D,_,k=e(61),A=e(59),j=e(51),O=H(e(126)),L=e(92),E=e(208),N=e(4),R=e(81),M=e(86),B=e(95),F=H(e(603)),U=H(e(3)),G=e(62);function H(e){return e&&e.__esModule?e:{default:e}}function q(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var z={REDAY:1,TAKE:2,USE:3,OVER:4,END:5},V=(q(I={},z.REDAY,"即将开抢"),q(I,z.TAKE,"立即领取"),q(I,z.USE,"去使用"),q(I,z.OVER,"已抢光"),q(I,z.END,"已结束"),I),Y=(q(T={},z.REDAY,""),q(T,z.TAKE,""),q(T,z.USE,"iconcoupontaken coupon-status-tag-3"),q(T,z.OVER,"iconcouponover coupon-status-tag-4"),q(T,z.END,""),T),W=1,J=3,X=1,K=2,Q="normal",$="over",Z=1,ee=2,te=(q(D={},Z,(q(x={},Q,{couponColor:"#FFF1E7",buttonColor:"#FF6600",textColor:"#FF6600"}),q(x,$,"#858585"),x)),q(D,ee,(q(P={},Q,{couponColor:"#FFF1F0",buttonColor:"#FD503E",textColor:"#FD503E"}),q(P,$,"#858585"),P)),D),oe=(q(_={},-1,"全场通用"),q(_,2,"部分商品可用"),q(_,3,"指定店铺可用"),_);Component({options:{addGlobalClass:!0},properties:{couponInfo:{type:Object,value:{},observer:function(){this.getCouponInfo()}},couponConfig:{type:Object,value:{},observer:function(){this.setCouponConfig()}},isLogin:{type:Boolean,value:!1},column:{type:Number,value:0},__id__:{type:Number,value:0},ssv:{type:String,value:""}},data:{couponStatusMap:z,couponStatus:z.REDAY,buttonTextMap:V,couponRule:"",couponRemark:"",couponStatusTagMap:Y,couponDownPrice:"",couponTakenIconStyle:{},couponWrapStyleConfig:{},borderStyleConfig:{},couponTagStyleConfig:{},couponBtnStyleConfig:{},couponUseRange:"",couponType:Z},lifetimes:{ready:function(){var e=this.properties.ssv,t=void 0===e?"":e;t&&(this.obserberInstance=(0,k.observerElementShowLog)({context:this,selector:".marketing-coupon",logParams:{compTargetId:t,userExtra:{batch_id:this.properties.couponInfo.batchId||"",comp_material_id:this.properties.couponInfo.batchId||""}},logSort:G.logSortMap.COUPON}))},detached:function(){this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null},attached:function(){this.getCouponInfo()}},methods:{setOneColBtnStyle:function(e,t){var o,a,i,n={},r=t.normalButtonBgColor,s=t.readyButtonBgImg,d=t.takeButtonBgImg,u=t.useButtonBgImg,c=s?"background-image":"background-color",p=d?"background-image":"background-color",l=u?"background-image":"background-color";n[z.REDAY]=(q(o={},c,s?"url("+s+")":""+(0,F.default)(r,"0.3")),q(o,"color",e),q(o,"font-size",s&&0),o),n[z.TAKE]=(q(a={},p,d?"url("+d+")":r),q(a,"font-size",d&&0),a),n[z.USE]=(q(i={},l,u?"url("+u+")":"#FFFFFF"),q(i,"color",e),q(i,"border","1px solid "+e),q(i,"font-size",u&&0),i),this.setData({couponBtnStyleConfig:n})},setCouponConfig:function(){var e=this,t=this.properties.couponConfig,o=t.couponTakenIconColor,a=void 0===o?"":o,i=t.couponStyleConfig,n=void 0===i?{}:i,r=this.properties.couponInfo,s=(void 0===r?{}:r).bizType||Z,d={},u={},c={},p=te[s][Q],l=p.buttonColor,g=p.textColor,h="",m="",f=Object.assign({},n[Q]),v=f.readyButtonBgImg,b=void 0===v?"":v,w=f.takeButtonBgImg,y=void 0===w?"":w,C=f.useButtonBgImg,S=void 0===C?"":C;f&&(h=f.buttonBgColor||l,m=f.messageColor||g);var I=1===this.properties.column,T={normalButtonBgColor:h,readyButtonBgImg:b,takeButtonBgImg:y,useButtonBgImg:S},x=z.REDAY,P=z.TAKE,D=z.USE;I&&this.setOneColBtnStyle(m,T),Object.values(z).forEach((function(t){var o=t<=3?Q:$;m=n[o].messageColor||te[s][o].textColor;var i=n[o].backgroundImg,r=te[s][o].couponColor;if(d[t]={color:m},c[t]=t===z.USE?{color:a||m}:{color:m},i)d[t]["background-image"]="url("+i+")",d[t]["background-position"]="0 0",u[t]={};else{if(~[x,P,D].indexOf(t))switch(e.properties.column){case 1:d[t]["background-image"]="radial-gradient(circle at 515.85rpx 9.05rpx , transparent 0%, transparent 9.05rpx, "+r+" 9.05rpx, "+r+" 100%)";break;case 2:d[t]["background-image"]="radial-gradient(circle at 280.55rpx 9.05rpx , transparent 0%, transparent 6.335rpx, "+r+" 6.335rpx, "+r+" 100%)";break;case 3:d[t]["background-image"]="radial-gradient(circle at 159.28rpx 9.05rpx , transparent 0%, transparent 6.335rpx, "+r+" 6.335rpx, "+r+" 100%)"}u[t]={"border-left":"1px dashed "+(0,F.default)(m,"0.3")}}})),this.setData({couponTakenIconStyle:{color:a},borderStyleConfig:u,couponWrapStyleConfig:d,couponTagStyleConfig:c})},getCouponInfo:function(){var e=this.properties.couponInfo,t=void 0===e?{}:e;if(t){var o=t.rangeType||0,a=parseFloat(t.downPrice+""),i=parseFloat(t.fullPrice+""),n=a===i;this.setData({couponRule:n?"无门槛使用":"满"+i+"元可使用",couponRemark:(0,B.timeStampTransDate)(t.takeStart)+"-"+(0,B.timeStampTransDate)(t.takeEnd),couponDownPrice:a+"",couponUseRange:""+(oe[o]||""),couponType:t.bizType||Z})}this.setCouponStatus()},takeCoupon:function(){var e=this;O.default.hgzAs(A.antifraudConfig.userGrowth).then((function(t){e.takeCouponReq({antiCheatVo:t})})).catch((function(t){e.takeCouponReq({})}))},takeCouponReq:function(e){var t=this,o=e.antiCheatVo,a=A.API.spuCouponTake,i={batchId:this.data.couponInfo.batchId};o&&(i.antiCheatVo=o),(0,E.activityInterFace)({url:a,data:i}).then((function(e){(0,N.normalToast)({title:"优惠券领取成功"}),t.dispatch("changeCouponStatus",{batchId:t.properties.couponInfo.batchId})})).catch((function(e){(0,N.addErrorLog)(e,{compTargetId:"dxdjx-marketing-coupon-take",widgetInfoId:t.properties.__id__,errType:"api_takecoupon_err"},[A.logTypeMap.apiError]),(0,N.normalToast)({title:e.statusInfo})}))},useCoupon:function(){var e=this.properties.couponInfo,t=e.goodsJumpUrl,o=e.jumpType;o!==K?o===X&&((0,N.parseSwanUrl)(t).path===(0,N.getCurrentPage)().route?(0,N.normalToast)({title:"请在当前页面中查看对应商品"}):(0,R.generalJump)({url:t,params:Object.assign({},M.widgetsChannalInfoMap.coupon,{widgetInfoId:this.properties.__id__})})):(0,R.jumpToEasyBrowseH5)(t)},handleClick:function(){switch((0,N.bdxdAddLog)(this,{compTargetId:this.properties.ssv,userExtra:{batch_id:this.properties.couponInfo.batchId||"",comp_material_id:this.properties.couponInfo.batchId||""}}),this.data.couponStatus){case z.REDAY:break;case z.TAKE:this.takeCoupon();break;case z.USE:this.useCoupon()}},setCouponStatus:function(){var e=this.properties.couponInfo,t=e.canTake,o=e.taken,a=e.takeStage,i=0;i=a===W?z.REDAY:a===J?z.OVER:t?o?z.USE:z.TAKE:o?z.USE:z.OVER,this.setData({couponStatus:i})}},messages:{onLogin:function(e){i.canIUse("button.open-type.login")?e&&e.value&&e.value.errMsg===j.LOGIN_SUCCESS_TEXT&&(0,N.isExistBduss)().then((function(){U.default.trigger(M.GLOBAL_LOGIN_EVENT_KEY)})):(0,L.goToLogin)((function(){U.default.trigger(M.GLOBAL_LOGIN_EVENT_KEY)}))}}})})),window.define("603",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(604),x=(I=T)&&I.__esModule?I:{default:I};var P=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*(?:\.\d+)?))?\)$/;o.default=function(e,t){if(P.test(e)){var o=e.split(",");return o[o.length-1]=t+")",o.join(",")}return(0,x.default)(e,t)}})),window.define("604",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=/^#[0-9a-fA-F]{3}|[0-9a-fA-F]{6}$/,T=/^#[0-9a-fA-F]{3}$/;o.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(I.test(e)){var o=T.test(e),a=e;if(o){var i=e.slice(1,4);a=Array.from(i).map((function(e){return e+e})).join("")}else a=e.slice(1,7);for(var n=[],r=0;r<3;r++)n.push(parseInt("0x"+a.slice(2*r,2*r+2),16));return"rgba("+n[0]+", "+n[1]+", "+n[2]+","+t+")"}return e}})),window.define("606",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(208),x=e(59),P=e(119),D=e(3),_=(I=D)&&I.__esModule?I:{default:I},k=e(86),A=e(57);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{couponTakenIconColor:"#FFFFFF",couponStyleConfig:{normal:{messageColor:"",backgroundImg:"",buttonBgImg:"",buttonBgColor:""},over:{messageColor:"",backgroundImg:""}},requestConfig:{serviceConfig:{path:"",params:{couponList:[]}},value:""},__id__:{type:Number,value:0}}}},data:{couponInfoList:[],couponSSV:""},attached:function(){this.setSSV(),this.loginEventRigister(),this.getCouponList()},detached:function(){_.default.clearEvents([k.GLOBAL_LOGIN_EVENT_KEY])},behaviors:[(0,P.loginBehavior)()],methods:{setSSV:function(){this.setData({couponSSV:(0,A.getMarketingPageSSV)(Object.assign({dxdjxSSV:[k.widgetsSSVMap.coupon]},this.properties.componentData))})},loginEventRigister:function(){var e=this;_.default.addHandler(k.GLOBAL_LOGIN_EVENT_KEY,(function(){e.refreshCouponList()}))},getCouponList:function(){var e=this,t=this.properties.componentData,o=void 0===t?{}:t,a=Array.isArray(o.requestConfig||{})?o.requestConfig[0]||{}:o.requestConfig||{};(0,T.downgradeInterface)({url:x.API.getCouponList,pageType:a.value||o.pageType||0}).then((function(t){e.setData({couponInfoList:(t&&t.data||[]).filter((function(e){return 3!==e.takeStage}))})}))},refreshCouponList:function(){var e=this;!this.data.$isLogin&&this.$setLoginStatus(!0);var t=this.properties.componentData||{},o=Array.isArray(t.requestConfig||{})?t.requestConfig[0]||{}:t.requestConfig||{},a=t.couponList||o.serviceConfig&&o.serviceConfig.params&&o.serviceConfig.params.couponList||[];(0,T.activityInterFace)({method:"GET",url:x.API.getCouponList,data:{params:a.map((function(e){return e.value})).join(",")}}).then((function(t){e.setData({couponInfoList:t.data||[]})}))}},messages:{refreshCouponInfo:function(){this.refreshCouponList()},changeCouponStatus:function(e){var t=e.value.batchId,o=this.data.couponInfoList.map((function(e){return e.batchId===t?Object.assign({},e,{taken:!0}):e}));this.setData({couponInfoList:o})}}})})),window.define("608",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(86),x=e(609),P=(I=x)&&I.__esModule?I:{default:I};var D=["showLineClamp","productAtmosphereConfig"];Component({properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},methods:{handlecomponentData:function(){var e=Object.assign({},P.default),t=Object.assign(e,this.properties.componentData);Object.values(T.productTypeMap).forEach((function(e){if(T.cardTypeConfigMap[e]){var o=t[T.cardTypeConfigMap[e]].showTagOrRecommend;t[T.cardTypeConfigMap[e]].showTag=o&&(o===T.feedShopCardConfig.recommendOrTag.TAG||o===T.feedShopCardConfig.recommendOrTag.ALL),t[T.cardTypeConfigMap[e]].showRecommend=o&&(o===T.feedShopCardConfig.recommendOrTag.RECOMMEND||o===T.feedShopCardConfig.recommendOrTag.ALL)}})),this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(T.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("609",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:1,path:"",tabConfig:{tabStyleConfig:{tabWrapBgColor:"",isSticky:1,tabYSpace:6,tabHeight:43,tabSelectedColor:"",tabWrapColor:"",tabSelectedBarColor:"",tabStickyBgColor:"",tabStickySelectedColor:"",tabStickySelectedBarColor:"",tabStickyColor:""},tabSource:{url:"",params:{}}},requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},spikeCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},liveCardConfig:{}}})),window.define("611",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(86),x=e(612),P=(I=x)&&I.__esModule?I:{default:I};var D=["productAtmosphereConfig","showLineClamp","pricePosition"];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},methods:{handlecomponentData:function(){var e=Object.assign({},P.default),t=Object.assign(e,this.properties.componentData);this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(T.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("612",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:3,path:"",requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showSales:!0,showUnderlinePrice:!0,showTag:!0},spikeCardConfig:{showSales:!0,showRestStock:!0,showUnderlinePrice:!0,showTag:!0,showSubsidy:!0},liveCardConfig:{}}})),window.define("614",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(615),x=(I=T)&&I.__esModule?I:{default:I},P=e(86);var D=["showLineClamp","pricePosition","productAtmosphereConfig"];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},methods:{handlecomponentData:function(){var e=Object.assign({},x.default),t=Object.assign(e,this.properties.componentData);this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(P.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("615",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:2,path:"",requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showTag:!0,showUnderlinePrice:!0,showSales:!0,showLineClamp:"",specialTagConfig:{specialTagText:"",specialTagColor:"",specialTagFontColor:"#fff"}},spikeCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showLineClamp:"",specialTagConfig:{specialTagText:"",specialTagColor:"",specialTagFontColor:"#fff"},recommendTagConfig:{recommendTagBgImg:"",recommendTagColor:""}},liveCardConfig:{}}})),window.define("617",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(86),x=e(618),P=(I=x)&&I.__esModule?I:{default:I};var D=["showLineClamp","productAtmosphereConfig"];Component({properties:{componentData:{type:Object,value:{},observer:function(e){e&&this.handlecomponentData()}},__id__:{type:Number,value:0}},data:{_componentData:{}},methods:{handlecomponentData:function(){var e=Object.assign({},P.default),t=Object.assign(e,this.properties.componentData);Object.values(T.productTypeMap).forEach((function(e){if(T.cardTypeConfigMap[e]){var o=t[T.cardTypeConfigMap[e]].showTagOrRecommend;t[T.cardTypeConfigMap[e]].showTag=o&&(o===T.feedShopCardConfig.recommendOrTag.TAG||o===T.feedShopCardConfig.recommendOrTag.ALL),t[T.cardTypeConfigMap[e]].showRecommend=o&&(o===T.feedShopCardConfig.recommendOrTag.RECOMMEND||o===T.feedShopCardConfig.recommendOrTag.ALL)}})),this.setCardBaseConfig(t),this.setData({_componentData:t})},setCardBaseConfig:function(e){D.forEach((function(t){Object.values(T.productCardTypeMap).forEach((function(o){e[o]&&(e[o][t]=e[t])}))}))}}})})),window.define("618",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={__type:"card",pageType:3,column:1,path:"",requestConfig:{url:"",params:{}},loadingBarColor:"",productCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},spikeCardConfig:{showRestStock:!0,showUnderlinePrice:!0,showSubsidy:!0,showTagOrRecommend:1,btnConfig:{btnBgImg:"",btnBgColor:"",btnTextColor:"",btnText:""}},liveCardConfig:{}}})),window.define("620",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(4),x=e(59),P=e(51),D=e(58),_=e(208),k=2,A=3;Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},lifetimes:{attached:function(){this.getGoodsInfo()}},data:{goodsInfo:null,currentPriceBreakW:!1,underlinePriceBreakW:!1,currentPriceInteger:"",currentPriceFloat:"",underlinePriceInteger:"",underlinePriceFloat:""},methods:{formatPrice:function(e){var t=+e>=1e4;t&&(e=(parseInt(e,10)/1e4).toFixed(2)+"");var o=((/-/.test(e)?""+e.split("-")[0]:e)||"").split("."),a=I(o,2),i=a[0],n=void 0===i?"":i,r=a[1],s=void 0===r?"":r;return t&&(s=s.replace(/0+$/g,"")),[n,s]},jumpToErrorPage:function(){var e={theme:"activity-1",errBackUrl:"/"+(0,T.getCurrentPage)().route};(0,T.jumpErrorPageUrl)(e)},getGoodsInfo:function(){var e=this;(0,_.downgradeInterface)({url:x.API.getGoodsInfo}).then((function(t){if(t&&t.data){var o=t.data,a=o.reportedPrice||o.originPrice,i=o.salePrice;o.activityStatus===k&&(a=o.onHandPrice||o.reportedPrice||o.originPrice),o.activityStatus===A&&(a=o.onHandPrice||o.salePrice||o.originPrice);var n=+a>=1e4,r=+i>=1e4,s=e.formatPrice(a),d=I(s,2),u=d[0],c=d[1],p=e.formatPrice(i),l=I(p,2),g=l[0],h=l[1];e.setData({currentPriceBreakW:n,underlinePriceBreakW:r,currentPriceInteger:u,currentPriceFloat:c,underlinePriceInteger:g,underlinePriceFloat:h,goodsInfo:o})}(0,T.removeSkeleton)({delayTime:150})})).catch((function(){}))},jumpDetail:function(){var e=this.data.goodsInfo.spuId,t=this.properties.componentData.sch,o=void 0===t?"":t;(0,D.jumpToInnerSwan)({path:P.PAGES.PRODUCT_DETAIL,params:{spuId:e,sch:o},log:{ctx:this,userExtra:{event_index:0}}})}}})})),window.define("622",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(208),T=e(4),x=e(59);Component({data:{showTipsBanner:!1},attached:function(){this.getCouponBindStatus()},methods:{getCouponBindStatus:function(){var e=this,t=(0,T.parsePageQuery)().takeId;(void 0===t?"":t)&&(0,I.downgradeInterface)({url:x.API.getCouponBind}).then((function(t){if(t&&t.data){var o=t.data.bind;o&&e.setData({showTipsBanner:o})}}))}}})})),window.define("624",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(85),P=e(582),D=(I=P)&&I.__esModule?I:{default:I},_=e(61),k=e(57),A=e(86);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{btnBg:"#f00",btnImg:"",text:"默认按钮文本",textColor:"#fff",fontSize:16,btnLink:{linkUrl:"",linkType:""},borderRadius:0},observer:function(e){var t={color:e.textColor,"background-image":e.btnImg&&"url("+e.btnImg+")","background-color":e.btnBg,"font-size":(0,D.default)(e.fontSize),"border-radius":(0,D.default)(e.borderRadius)};this.setData({btnText:e.text,btnStyle:t})}},__id__:{type:Number,value:0}},data:{btnText:"默认按钮文本",btnStyle:{}},lifetimes:{ready:function(){this.obserberInstance=(0,_.observerElementShowLog)({context:this,selector:".marketing-button",logParams:{compTargetId:(0,k.getMarketingPageSSV)(Object.assign({dxdjxSSV:[A.widgetsSSVMap.button]},this.properties.componentData))}})},detached:function(){this.obserberInstance&&this.obserberInstance.disconnect(),this.obserberInstance=null}},methods:{linkTo:function(){var e=this.properties.componentData,t=e.clickLogId,o=void 0===t?"":t,a=e.btnLink,i=void 0===a?{}:a,n=i.linkType,r=i.linkUrl;o&&(0,T.bdxdAddLog)(this,{compTargetId:o}),n&&r&&(0,x.switchJump)({linkType:n,linkUrl:r,widgetName:"button",ssv:(0,k.getMarketingPageSSV)(Object.assign({dxdjxSSV:[A.widgetsSSVMap.button]},this.properties.componentData))})}}})})),window.define("626",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(4),x=e(58),P=e(61);function D(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var _=[[2,2],[2,3],[3,3]];Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{imageNum:1,title:"",linkType:1,contentList:[]}}},data:{floorClsArray:[],floorStyleArray:[]},lifetimes:{attached:function(){this.initFloor()},ready:function(){var e=this,t=this.properties.componentData,o=t.linkType;t.contentList.forEach((function(t,a){var i={event_index:a};1===o?i.spuId=t.materialId:i.batchId=t.materialId,e["obserberInstance_"+a]=(0,P.observerElementShowLog)({context:e,selector:".floor-item",logParams:{compTargetId:"ssv_337",userExtra:i}})}))},detached:function(){var e=this;this.properties.componentData.contentList.forEach((function(t,o){e["obserberInstance_"+o]&&e["obserberInstance_"+o].disconnect(),e["obserberInstance_"+o]=null}))}},methods:{initFloor:function(){var e=this.properties.componentData,t=e.imageNum,o=e.contentList,a=t>3?_[t-4].reduce((function(e,t){return[].concat(D(e),D(new Array(t).fill("floor-item-"+t)))}),[]):new Array(t).fill(""),i=o.map((function(e){return{"background-image":"url("+e.url+")","background-size":"cover"}}));this.setData({floorClsArray:a,floorStyleArray:i})},jumpToLink:function(e){var t=e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.index,o=this.properties.componentData.contentList&&this.properties.componentData.contentList[t]||{};1===this.properties.componentData.linkType?(0,x.jumpToInnerSwan)({path:I.PAGES.PRODUCT_DETAIL,params:{spuId:o.materialId,subSceneValue:"ssv_337"},log:{ctx:this,userExtra:{event_index:t}}}):(0,x.jumpToInnerSwan)({path:I.PAGES.COUPON_MIDDLE,params:{batchId:o.materialId,subSceneValue:"ssv_337",shopId:(0,T.getShopId)()},log:{ctx:this,userExtra:{event_index:t}}})}}})})),window.define("628",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({})})),window.define("630",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=e(92),P=e(4),D=e(51),_=e(3),k=(I=_)&&I.__esModule?I:{default:I},A=e(70),j=e(58),O=e(61),L=e(62);var E=n().globalData.siteData.appId||"";Component({properties:{componentData:{type:Object,value:{styleType:2,videoSrc:"",videoPoster:"",videoTime:"",url:"",xcxPath:"",title:"",spuId:"",containerStyle:{},videoStyle:{}}}},data:{price:"",priceFix:"",formatTime:"",videoContentStyle:{"background-image":"none"},showTime:!1,showShadow:!0},logicData:{showTopBar:!0,playType:"pause",generalParams:{id:"mip-doujin-product-video",name:"mip-doujin-product-video",type:"mip-doujin-product-video",title:"商品详情视频"}},lifetimes:{attached:function(){var e=this;this.initVideo(),this.formatVideoTime();var t=this.properties.componentData,o=t.styleType,a=t.spuId;if(1===o&&a){var i=D.API.newQueryProductInfo;(0,x.request)({url:i,data:{appId:E,spuIdList:[a]}}).then((function(t){var o=(t.data||[])[0].price,a=((o=/-/.test(o)?""+o.split("-")[0]:o)||"").split("."),i=T(a,2),n=i[0],r=void 0===n?"":n,s=i[1],d=void 0===s?"":s;e.setData({price:r,priceFix:d},(function(){e.initObserver()}))})).catch((function(e){console.error(e)}))}},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{initObserver:function(){this.intersectionObserver=(0,O.observerElementShowLog)({context:this,selector:".mip-doujin-product-video-container",logParams:{compTargetId:"ssv_119",userExtra:{spuId:this.properties.componentData.spuId||"",comp_material_id:this.properties.componentData.spuId||""}},logSort:L.logSortMap.PRODUCT})},validTime:function(e){return e>=0&&e<10?"0"+e:e},formatVideoTime:function(){var e=this.properties.componentData.videoTime;if(e&&e>0){var t=this.validTime(Math.floor(e/3600)),o=this.validTime(Math.floor(e%3600/60)),a=this.validTime(Math.floor(e%3600%60));+t?this.setData({formatTime:[t,o,a].join(":"),showTime:!0}):this.setData({formatTime:[o,a].join(":"),showTime:!0})}else this.setData({showTime:!1})},playVideo:function(){"pause"===this.logicData.playType&&this.videoContext&&this.videoContext.play(),this.data.showTime&&this.setData({showTime:!1}),this.data.showShadow&&this.setData({showShadow:!1})},initVideo:function(){var e=this.properties.componentData,t=e.videoStyle,o=e.styleType;this.videoContext=i.createVideoContext("product-video"),1===o&&this.setData({videoContentStyle:Object.assign({},this.data.videoContentStyle,{"border-bottom-left-radius":0,"border-bottom-right-radius":0},t)})},handleVideoPlayChange:function(e){this.logicData.playType=e.type,this.triggerEvent("changeplay",e.type)},handleFullScreenChange:function(e){if(-1!==n().globalData.siteData.systemInfo.system.toLowerCase().indexOf("ios")){var t=!0;"horizontal"===e.detail.direction&&(t=!1),this.logicData.showTopBar=t,k.default.trigger("productVideoDirectionChange",t),this.triggerEvent("changedirection",e.detail.direction)}},jumpToProdectDetail:function(){var e=this.properties.componentData,t=e.spuId,o=e.xcxPath;if(o){var a=(0,P.parseSwanUrl)(o).options;(0,j.jumpToInnerSwan)({path:D.PAGES.PRODUCT_DETAIL,params:Object.assign({},a,{spuId:t,subSceneValue:A.subSceneValueMap.shopVideo}),log:{ctx:this,userExtra:{event_index:0}}})}}}})})),window.define("632",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=k(e(3)),T=e(92),x=e(51),P=e(58),D=e(4),_=k(e(513));function k(e){return e&&e.__esModule?e:{default:e}}var A=n().globalData.siteData.appId||"";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{styleType:0,shopPageShow:!1,bgColor:"#f8f8f8"}}},data:{shopInfoIconShow:!1,shopName:"",shopLogo:"",shopIntro:"",shopIndicatprs:"",shopAuthType:0,qualityScoreExperienceInfo:{},shopServiceLevel:0,authIcon:"http://bj.bcebos.com/fcmall/0/pic/1efb38d0fd50b562f3071b7bb1848988.png",qualityTag:0,showPlaceholder:!0},logicData:{generalParams:{id:"mip-doujin-shop-card",name:"mip-doujin-shop-card",type:"mip-doujin-shop-card",title:"店铺卡片"}},lifetimes:{created:function(){I.default.clearEvents(["hasNotice"])},attached:function(){var e=this,t=(0,D.getShopId)();(0,_.default)(t),(0,D.getCurrentPage)().route===x.SHOP_PAGE.substr(1)&&I.default.addHandler("hasNotice",(function(){3===e.properties.componentData.styleType&&e.setData("showPlaceholder",!1)})),i.showFavoriteGuide({content:x.GUIDE_TEXT});var o=x.API.queryBriefShopDetail;(0,T.request)({url:o,data:{shopId:(0,D.getShopId)(),appId:A}}).then((function(o){if((0,D.judgeShopStatus)({status:o.data.programStatus,normalProcess:function(){(0,D.bdxdAddLog)(e,{compTargetId:"ssv_615",userExtra:{shopServiceLevel:o.data.shopDsr&&o.data.shopDsr.shopServiceLevel||0}});var t=o.data.shopDsr&&o.data.shopDsr.qualityScoreExperienceInfo||{};Object.keys(t).forEach((function(e){"0.0"===t[e]&&(t[e]="-")})),e.setData({shopName:o.data.name||"",shopLogo:o.data.logo||"",shopIntro:o.data.description||"",shopAuthType:o.data.shopAuthType||"",authIcon:o.data.approveIcon||"",shopInfoIconShow:2!==e.properties.componentData.styleType,shopIndicatprs:o.data.shopDsr&&o.data.shopDsr.qualityScore||"",qualityScoreExperienceInfo:t,qualityTag:o.data.qualityTag||0,shopServiceLevel:o.data.shopDsr&&o.data.shopDsr.shopServiceLevel||0}),I.default.trigger("getShopDetail",o.data&&o.data)}}),o&&o.data){i.setPageInfo({title:o.data.name,keywords:o.data.name,description:o.data.description,image:o.data.logo});var a=(0,D.parsePageQuery)(),r=a.directCouponId,s=void 0===r?"":r,d=a.directTaskId,u=void 0===d?"":d;(s||u)&&(n().globalData.pageData[t]={directCouponId:s,directTaskId:u})}})).finally((function(){var e=getCurrentPages();i.nextTick((function(){e[e.length-1].removeSkeleton&&e[e.length-1].removeSkeleton(),(0,D.isDxdjx)()&&i.loadSubPackage({root:"wjz/bdxd/shop-related"})}),200)}))},detached:function(){I.default.clearEvents(["hasNotice"])}},methods:{jumpToShopIndex:function(){(0,P.jumpToInnerSwan)({path:x.PAGES.SHOP_HOME,type:"switchTab",params:{shopId:(0,D.getShopId)()}})},jumpToShopInfo:function(){(0,P.jumpToInnerSwan)({path:x.PAGES.SHOP_RELATED_SHOP_INFO,params:{shopId:(0,D.getShopId)()}})},shopLevelTagClick:function(){i.showModal({content:"系统根据店铺的商品销量、发货效率、服务质量等因素对店铺进行综合打分，取分值较高的店铺划分为银牌、金牌、钻石级进行展示。",confirmText:"确定",showCancel:!1})}},messages:{imgLoaded:function(e){}}})})),window.define("634",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(61),T=e(62);Component({properties:{diamondList:{type:Array,value:[]},titleStyle:{type:String,value:""},diamondStyle:{type:Number,value:1},isTwo:{type:String,value:""},index:{type:Number,value:0}},data:{imageStyle:"width:100%;height:100%;vertical-align:bottom;"},logicData:{observerInstances:[]},lifetimes:{ready:function(){var e=this;this.properties.diamondList.forEach((function(t,o){e.installObserver(".diamond-item-"+o,t,o)}))},detached:function(){var e=this;this.logicData.observerInstances.forEach((function(t){e.unstallObserver(t)}))}},methods:{unstallObserver:function(e){e&&e.disconnect()},installObserver:function(e,t,o){this.logicData.observerInstances.push((0,I.observerElementShowLog)({context:this,selector:e,logParams:{compTargetId:"ssv_122",userExtra:Object.assign({},t,{event_index:(this.properties.diamondList||[]).length*Number(this.properties.isTwo)+o})},logSort:T.logSortMap.PRODUCT}))},handleClick:function(e){this.dispatch("onItemClick",e)}}})})),window.define("636",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(70),x=e(58);Component({properties:{componentData:{type:Object,value:{diamondStyle:1,diamondList:[],titleColor:"",extra:{},customClass:"",customStyle:{}}}},data:{titleStyle:{},diamondDataOne:[],diamondDataTwo:[]},logicData:{canJump:!0,generalParams:{id:"mip-doujin-diamond",name:"mip-doujin-diamond",type:"mip-doujin-diamond",title:"店铺导航"}},lifetimes:{created:function(){this.init()}},pageLifetimes:{show:function(){this.logicData.canJump=!0}},messages:{onItemClick:function(e){this.handleClick(e.value)}},methods:{init:function(){var e=this.properties.componentData,t=e.titleColor,o=e.diamondStyle,a=e.diamondList,i=a.length,n=1===o,r=2===o;this.setData({titleStyle:{color:t},diamondDataOne:n?a:a.slice(0,4),diamondDataTwo:r?a.slice(4,i):[]})},handleClick:function(e){if(this.logicData.canJump){this.logicData.canJump=!1;try{var t=e.currentTarget.dataset,o=t.xcxPath,a=t.index,i=(0,I.parseSwanUrl)(o),n=i.path,r=i.options;(0,x.jumpToInnerSwan)({path:n,params:Object.assign({},r,{subSceneValue:T.subSceneValueMap.shopDiamond}),log:{ctx:this,userExtra:{event_index:a}}})}catch(e){console.error(e)}}}}})})),window.define("638",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(61),T=e(62);Component({properties:{img:{type:String,value:""},styleType:{type:Number},index:{type:Number,value:0}},methods:{},lifetimes:{ready:function(){var e=this.properties.index;this.intersectionObserver=(0,I.observerElementShowLog)({context:this,selector:".wrapper-img",logParams:{compTargetId:"ssv_120",userExtra:{event_index:e}},logSort:T.logSortMap.PRODUCT})},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}}})})),window.define("640",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{name:{type:String,value:""},buttonCont:{type:String,value:""},index:{type:Number},bgColor:{type:String,value:""}}})})),window.define("642",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=e(51),x=e(4),P=e(92),D=e(70),_=e(58),k=(n().globalData.siteData||{}).appId;Component({properties:{componentData:{type:Object,value:{}},buttonCont:{type:String,value:"立即购买"}},data:{price:"",priceFix:"",threeStyle:{},priceTag:"",bgNewColor:""},logicData:{generalParams:{id:"mip-doujin-shop-window",name:"mip-doujin-shop-window",type:"mip-doujin-shop-window",title:"店铺橱窗"}},lifetimes:{created:function(){this.initBackground(),this.initInfo()}},pageLifetimes:{show:function(){this.logicData.canJump=!0}},methods:{initInfo:function(){var e=this.properties.componentData,t=e.styleType,o=e.list;1===t&&this.getProductInfo({appId:k,spuIdList:[o[0].spuId]})},initBackground:function(){var e=this.properties.componentData,t=e.bgNewColor,o=void 0===t?"#FDE6E4":t,a=e.bgImg;2===e.styleType&&(o="#FFFFFF"),this.setData({threeStyle:{"background-color":""+o,"background-image":"url("+a+")"},bgNewColor:o})},getProductInfo:function(e){var t=this,o=T.API.newQueryProductInfo;(0,P.request)({url:o,data:e}).then((function(e){var o=(e.data||[])[0].price,a=((o=/-/.test(o)?""+o.split("-")[0]:o)||"").split("."),i=I(a,2),n=i[0],r=void 0===n?"":n,s=i[1],d=void 0===s?"":s;t.setData({price:r,priceFix:d,priceTag:"￥"})})).catch((function(e){console.error(e)}))},buyClick:function(e){try{var t=e.currentTarget.dataset,o=t.xcxPath,a=t.index,i=(0,x.parseSwanUrl)(o),n=i.path,r=i.options;(0,_.jumpToInnerSwan)({path:n,params:Object.assign({},r,{subSceneValue:D.subSceneValueMap.shopWindow}),log:{ctx:this,userExtra:{event_index:a}}})}catch(e){console.error(e)}}}})})),window.define("644",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I};Component({options:{addGlobalClass:!0},properties:{interval:{type:Number,value:8e3}},data:{list:[],styleType:0,showPlaceholder:!0},created:function(){x.default.clearEvents(["searchFixed","getShopDetail"])},attached:function(){var e=this;x.default.addHandler("getShopDetail",(function(t){return e.getNoticeList(t)})),x.default.addHandler("searchFixed",(function(){e.setData("styleType",1)}))},detached:function(){x.default.clearEvents(["searchFixed","getShopDetail"])},methods:{getNoticeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.notice,o=void 0===t?[]:t,a=o.length>0;a&&x.default.trigger("hasNotice"),this.setData({list:o,showPlaceholder:a})}}})})),window.define("646",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{value:{type:Object,value:{},observer:function(e){if(e){var t=e.spikeInfoVO&&e.spikeInfoVO.spikePrice||"";this.setData({labels:(e.sellingPoints||[]).map((function(e){return{value:e.name}})).slice(0,1),spikePrice:~t.indexOf("-")?t.split("-")[0]:t})}}}},data:{labels:[],spikePrice:""},methods:{jumpToDetail:function(){this.dispatch("clickend",{spuId:this.properties.value.spuId,pageOnlineUrl:this.properties.value.pageOnlineUrl})}}})})),window.define("648",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(3),P=(I=x)&&I.__esModule?I:{default:I},D=e(51),_=e(340),k=e(649),A=e(70),j=e(58);Component({options:{addGlobalClass:!0},data:{productList:[],next:0,noProduct:!1,isFirst:!0,needBottomGap:!1,reachBottomName:"shopIndexReachBottom"},logicData:{isLoading:!1,generalParams:{id:"mip-bdxd-shop-list-container",name:"mip-bdxd-shop-list-container",type:"mip-bdxd-shop-list-container",title:"店铺列表容器"}},lifetimes:{created:function(){P.default.clearEvents([this.data.reachBottomName])},attached:function(){this.getRecommendList(),this.initBottomGap()},detached:function(){P.default.clearEvents([this.data.reachBottomName])}},messages:{clickend:function(e){var t=this.data.productList.findIndex((function(t){return t.spuId===e.value.spuId})),o=(0,T.parseSwanUrl)(e.value.pageOnlineUrl).options;(0,j.jumpToInnerSwan)({path:D.PAGES.PRODUCT_DETAIL,params:Object.assign({},o,{spuId:e.value.spuId,subSceneValue:A.subSceneValueMap.shopIndexList}),log:{ctx:this,userExtra:{event_index:t}}})},imgLoaded:function(e){}},methods:{initBottomGap:function(){(0,T.isDxdjx)()&&this.setData({needBottomGap:!0})},onReachBottom:function(){this.logicData.isLoading||this.data.noProduct||(this.setData({isFirst:!1}),this.getRecommendList())},getRecommendList:function(){var e=this;-1!==Number(this.data.next)&&(this.logicData.isLoading||(this.logicData.isLoading=!0,(0,k.preGetRecommendList)(this.data.next).then((function(t){e.setData({productList:t.data.list,next:t.data.next}),e.data.isFirst&&0===t.data.list.length&&e.setData({noProduct:!0})}),(function(t){e.data.isFirst&&(0,T.addErrorLog)(t,{compTargetId:"bdxd-log-req-shop-index",errType:"api_recommendlist_err",iscommon:!0},[D.logTypeMap.apiError]),i.showToast({title:t.statusInfo,icon:"none",mask:!0})})).finally((function(t){n().globalData.pageReqCache[_.GET_INDEX_LIST]=null;var o=getCurrentPages();i.nextTick((function(){o[o.length-1].removeSkeleton&&o[o.length-1].removeSkeleton(),(0,T.isDxdjx)()&&i.loadSubPackage({root:"wjz/bdxd/shop-related"})})),e.logicData.isLoading=!1}))))}}})})),window.define("649",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.preGetRecommendList=void 0;var I=e(92),T=e(51),x=e(4);o.preGetRecommendList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n().globalData.siteData||{},o=t.appId,a=T.API.allProductList,i={appId:o,shopId:(0,x.getShopId)(),start:e,size:6,sortType:3};return(0,I.request)({url:a,data:i}).then((function(e){return Object.assign({},e)}))}})),window.define("651",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{list:{type:Array,value:[]},interval:{type:Number,value:8e3}}})})),window.define("653",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(51),x=e(4),P=e(58),D=n().globalData.siteData.appId||"",_=n().globalData.currentAppBuildTime||"";Component({data:{shopName:"",shopLogo:"",shopIntro:"",indicatprs:"",shopAuthType:0,announcementList:[],authIcon:"",appBuildTime:_,customStyle:{logo:"width:48px;height:48px;",auth:"font-size: 17px;",info:"margin: auto 10px;",intro:"color: #525252; font-size: 25.35rpx"},qualityTag:0},logicData:{imgKeyMap:{},canJump:!0,generalParams:{id:"mip-doujin-carousel",name:"mip-doujin-carousel",type:"mip-doujin-carousel",title:"小店轮播"}},lifetimes:{attached:function(){this.getShopBrief()}},methods:{getShopBrief:function(){var e=this;i.showFavoriteGuide({content:T.GUIDE_TEXT}),(0,I.request)({url:T.API.queryBriefShopDetail,data:{shopId:(0,x.getShopId)(),appId:D}}).then((function(t){(0,x.judgeShopStatus)({status:t.data.programStatus,normalProcess:function(){e.setData({shopName:t.data.name||"",shopLogo:t.data.logo||"",shopIntro:t.data.description||"",indicatprs:t.data.shopDsr&&t.data.shopDsr.qualityScore||"",shopAuthType:t.data.shopAuthType||"",announcementList:t.data.notice||[],authIcon:t.data.approveIcon||"",qualityScoreExperienceInfo:t.data.shopDsr&&t.data.shopDsr.qualityScoreExperienceInfo,qualityTag:t.data.qualityTag||0})}})}))},onComponentClick:function(e){"SHOP_INFO"===e.detail&&(0,P.jumpToInnerSwan)({path:T.PAGES.SHOP_RELATED_SHOP_INFO,params:{shopId:(0,x.getShopId)()}})}}})})),window.define("655",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51);Component({data:{btnGroupData:[],btnGroupContainerClass:""},properties:{componentData:{type:Object,value:{isLogin:!0,isTakeSuccess:!1,isCouponShareable:!1,isFromShareScene:!1,shareTakeCoupon:!1,isShowErrorMsg:!1},observer:function(e){this.initBtnGroupData()}}},lifetimes:{attached:function(){this.initBtnGroupData()}},methods:{initBtnGroupData:function(){var e=this.properties.componentData,t=e.isLogin,o=e.isCouponShareable,a=e.isFromShareScene,i=e.isShowErrorMsg,n=e.shareTakeCoupon,r=a?this.initShareCouponBtnGroupData():this.initTakeCouponBtnGroupData(),s=void 0;s=!t&&n?"button-group-container-type1":o&&!i?"button-group-container-type3":"button-group-container-type2",this.setData({btnGroupData:r,btnGroupContainerClass:s})},initTakeCouponBtnGroupData:function(){var e=this.properties.componentData,t=e.isTakeSuccess,o=e.isCouponShareable,a=e.isFromShareScene;return e.isLogin?t?o?[{label:"立即使用",emitEvent:"onUseCoupon"},{label:"分享膨胀",emitEvent:"onShare",type:"share"}]:[{label:"立即使用",emitEvent:"onUseCoupon"}]:[{label:"好的",emitEvent:"onClose"}]:a?[{label:"助力好友",emitEvent:"onLogin",type:"login"}]:[{label:"登录并领取",emitEvent:"onLogin",type:"login"}]},initShareCouponBtnGroupData:function(){var e=this.properties.componentData,t=e.isTakeSuccess,o=e.isLogin,a=e.shareTakeCoupon;return o?a?t?[{label:"立即使用",emitEvent:"onUseCoupon"}]:[{label:"好的",emitEvent:"onClose"}]:[{label:"助力好友",emitEvent:"onTakeCoupon"}]:[{label:"助力好友",emitEvent:"onLogin",type:"login"}]},handleBtnTap:function(e){var t=e&&e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.emitEvent;this.dispatch(t,e)},handleFormSubmit:function(e){var t=e&&e.detail&&e.detail.formId;this.dispatch("onShare",{formId:t})}},messages:{onLogin:function(e){e&&e.value&&e.value.errMsg===I.LOGIN_SUCCESS_TEXT&&this.dispatch("onLogin",e)}}})})),window.define("657",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{shareNum:1,isCouponShareable:!1,couponCardList:[]}}},data:{rangeTypes:{"-1":"平台通用",1:"全场通用",2:"指定商品可用",3:"指定店铺可用"}}})})),window.define("659",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81),T=e(92),x=e(93),P=e(51),D=O(e(126)),_=e(4),k=e(119),A=e(98),j=O(e(82));function O(e){return e&&e.__esModule?e:{default:e}}var L="offline"===j.default.currentEnv?"https://activity.baidu.com/mbox/preview/4a81a19c64/matrixShareSimple":"https://activity.baidu.com/mbox/4a81a19c64/matrixShareSimple",E={success:200,fail:3526,unlogin:8e3},N={nickName:"你的好友",avatar:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/couponModalDefaultUserAvatar.png"},R={title:"点击助力领优惠",content:"正品补贴领福利，点击助力享多倍优惠，更多好物等你买！",imageUrl:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/couponModalShareImg.jpg"};Component({behaviors:[(0,k.loginBehavior)()],options:{addGlobalClass:!0},properties:{batchId:{type:String,observer:function(e){e&&2===this.properties.type&&this.takeCoupon()}},scene:{type:Number,value:0,observer:function(e){var t="9"===e;this.setData({isFromShareScene:t,shareTakeCoupon:!t})}},extInfo:{type:Object,value:{},observer:function(e){var t=e.nickName,o=e.avatar;this.setData({userInfo:Object.assign({},N,{nickName:t,avatar:o})})}},type:{type:Number,value:1,observer:function(e){2===e&&this.setData({isUserLogin:!0})}},compData:{type:Object,value:{downgrade:!1,isFromSearch:!1}}},data:{visiable:!1,couponInfo:{},isShowErrorMsg:!1,isTakeSuccess:!1,shareNum:1,relatedCouponInfos:{},shopInfo:{},shareUser:{},userInfo:{},shareUserInfo:"",isFromShareScene:!1,didShowInflateCouponModal:!1,shareTakeCoupon:!0,isUserLogin:!1},logicData:{firstReq:!0,jumpForward:null,logCouponInfo:{}},methods:{catchPoptap:function(){},handleClose:function(e){this.setData({visiable:!1}),this.dispatch("onClose")},handleJumpToBenefitsCenter:function(){(0,I.generalJump)({url:"/wjz/dxdjx/benefits-center/benefits-center?activeTab=myCoupon"})},$loginSuccessCb:function(e){2!==this.properties.type&&(this.setData({isUserLogin:!0}),this.takeCoupon())},checkLoginCb:function(e){2!==this.properties.type&&(this.data.isFromShareScene?this.setData({isShowErrorMsg:!0,visiable:!0,isUserLogin:e}):(this.setData({isUserLogin:e}),this.takeCoupon()))},$checkLoginSuccessCb:function(){this.checkLoginCb(!0)},$checkLoginFailCb:function(){this.checkLoginCb(!1)},takeCoupon:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,o,a,n,r,s,d,u,c,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.properties,o=t.scene,a=t.batchId,n=t.type,r=t.extInfo,s=(r=void 0===r?{}:r).formId,d=r.shareUserInfo,2===n&&i.showLoading({title:"加载中..."}),u={scene:o,batchId:a},this.data.isFromShareScene&&Object.assign(u,{extInfo:JSON.stringify({formId:s,shareUserInfo:d})}),e.next=8,D.default.hgzAs(P.antifraudConfig.userGrowth);case 8:c=e.sent,u.antiCheatVo=c,(0,T.request)({url:P.API.couponTake,data:u}).then((function(e){e&&e.data&&p.handleTakeCouponReqResponse(e)})).catch((function(e){e&&e.data&&p.handleTakeCouponReqResponse(e)})).finally((function(){p.logicData.firstReq&&(p.logicData.firstReq=!1),p.logicData.takeCouponByBtnPending=!1,i.hideLoading()}));case 11:case"end":return e.stop()}}),e,this)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,o){return function a(i,n){try{var r=t[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}(),handleTakeCouponReqResponse:function(e){var t=e.status,o=e.data,a=void 0===o?{}:o,i=e._downgradeHeader,n=void 0===i?{}:i;if(Object.values(E).includes(t)){var r=t===E.fail||t===E.unlogin&&this.data.isFromShareScene,s=t===E.success,d=a.couponInfo,u=void 0===d?{}:d,c=a.promptWord,p=void 0===c?{}:c,l=void 0;try{l=JSON.parse(a.extInfo)}catch(e){l={}}var g=l,h=g.shop,m=void 0===h?{}:h,f=g.shareUserInfo,v=g.shareUser,b=void 0===v?{}:v,w=u.tag,y=u.isShared,C=void 0===y?0:y,S=u.shareNum,I=u.jumpForward,T=u.relatedCouponInfos,x=(void 0===T?[]:T)[0]||{},P=x.batchId,D=x.fullPrice,k=x.salePrice,A=6===w&&1===C,j=this.setCouponCardListData(u,A);this.setData({visiable:!0,shopInfo:m,shareUserInfo:f,shareUser:b,isShowErrorMsg:r,isTakeSuccess:s,prompt:p,couponInfo:{couponCardList:j,isCouponShareable:A,shareNum:S},relatedCouponInfos:{batchId:P,fullPrice:D,salePrice:k}}),this.logicData.jumpForward=I,this.logicData.logCouponInfo={tag:w,isShared:C,batch_id:u.batchId,comp_material_id:u.batchId};var O=void 0;try{O=JSON.parse(n.Comp)}catch(e){O=[]}finally{this.logicData.headerComp=O}this.data.isFromShareScene&&this.setData({shareTakeCoupon:!0}),this.dispatch("onTakeSuccess",Object.assign({},e.data,{isTakeSuccess:s}))}else(0,_.normalToast)({title:"活动太火爆了，待会儿再来看看吧"})},setCouponCardListData:function(e,t){var o=e.useStart,a=e.useEnd,i=e.fullPrice,n=e.salePrice,r=e.expandFullPrice,s=e.expandSalePrice,d=e.rangeType,u=e.takeStatus,c=[];return c.push({useStart:o,useEnd:a,fullPrice:i,salePrice:n,rangeType:d,takeStatus:u}),t&&c.push({useStart:o,useEnd:a,fullPrice:r,salePrice:s,rangeType:d}),c}},messages:{onLogin:function(e){this.childLoginHandle(e.value)},onClose:function(){this.handleClose()},onTakeCoupon:function(){this.logicData.takeCouponByBtnPending||((0,_.bdxdAddLog)(this,{compTargetId:"ssv_293"}),this.logicData.takeCouponByBtnPending=!0,this.takeCoupon())},onUseCoupon:function(e){var t=this.logicData,o=t.jumpForward,a=void 0===o?"":o,i=(t.logCouponInfo,this.properties.compData);(i=void 0===i?{}:i).isFromSearch?this.handleClose():(0,I.generalJump)({url:a,params:{subSceneValue:"ssv_84",sch:"n830"}})},onShare:function(e){var t=this.logicData.logCouponInfo,o=void 0===t?{}:t;(0,_.bdxdAddLog)(this,{compTargetId:"ssv_294",userExtra:Object.assign({},o)});var a=e.value&&e.value.formId,i=this.data,n=i.shopInfo.pageUrl,r=void 0===n?"":n,s=i.shareUser,d=s.avatar,u=s.nickName,c=i.shareUserInfo,p=this.properties,l=p.batchId,g=(p.compData,Object.assign({},R)),h=null,m={avatar:d,batchId:l,formId:a,nickName:u,shareSceneValue:"9",shareUserInfo:c},f=r+"&"+(0,_.objToQueryString)(m);if((0,x.getUseFuncs)(x.downgradeFeature.expandCoupon,this.logicData.headerComp).share){var v=L+"?appName=baiduboxapp&scheme="+encodeURIComponent(f);g.shareUrl=v}else h={activityId:863,klUrl:f.replace("baiduboxapp://swan/","")};(0,A.generalShare)({klParams:h,shareParams:g})}}})})),window.define("661",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(51),x="5",P="23",D="42",_="7",k="9";Component({options:{addGlobalClass:!0},properties:{batchId:{type:String,observer:function(e){this.setData({batchId:e})}},scene:{type:Number,value:0,observer:function(e){this.setData({scene:e})}},type:{type:Number,value:1}},data:{showInnerModal:!1,scene:"",batchId:"",extInfo:{}},lifetimes:{attached:function(){if(1===this.properties.type)this.checkCurrentPage();else{var e=this.properties,t=e.scene,o=e.batchId;this.setData({showInnerModal:!0,scene:t,batchId:o})}}},methods:{checkIsFromHotCards:function(e){var t=e.sceneValue,o=e.batchId;return t===P&&o},checkIsFromLuckyFish:function(e){var t=e.sceneValue,o=e.batchId;return t===D&&o},checkIsFromCouponShare:function(e){var t=e.sceneValue,o=e.batchId;return e.shareSceneValue===k&&o&&t!==T.ON_SHARE_APP_SCENE_VALUE},checkShopIndexTakeCouponRights:function(){var e=this;return new Promise((function(t){var o=(0,I.parsePageQuery)(),a=o.sceneValue,i=o.batchId,n=o.shareSceneValue;if(e.checkIsFromLuckyFish({sceneValue:a,batchId:i}))t({scene:_,batchId:i,isFromSearch:!0});else if(e.checkIsFromCouponShare({sceneValue:a,batchId:i,shareSceneValue:n})){var r=o.avatar,s=o.nickName,d=o.formId,u=o.shareUserInfo;t({scene:n,batchId:i,extInfo:{avatar:r,nickName:s,formId:d,shareUserInfo:decodeURIComponent(decodeURIComponent(u))}})}}))},checkPageDetailTakeCouponRights:function(){var e=this;return new Promise((function(t){var o=(0,I.parsePageQuery)(),a=o.sceneValue,i=o.batchId;e.checkIsFromHotCards({sceneValue:a,batchId:i})?t({batchId:i,scene:x,isFromSearch:!0}):e.checkIsFromLuckyFish({sceneValue:a,batchId:i})&&t({batchId:i,scene:_,isFromSearch:!0})}))},checkProductGroupTakeCouponRights:function(){var e=this;return new Promise((function(t){var o=(0,I.parsePageQuery)(),a=o.sceneValue,i=o.batchId;e.checkIsFromLuckyFish({sceneValue:a,batchId:i})&&t({batchId:i,scene:_,isFromSearch:!0})}))},checkCurrentPage:function(){if(n().globalData.siteData.appKey===T.dxdjxAppkey){var e=void 0;switch((getCurrentPages()[0]||{}).route){case"wjz/bdxd/shop-index/shop-index":e=this.checkShopIndexTakeCouponRights;break;case"wjz/bdxd/product-detail/product-detail":e=this.checkPageDetailTakeCouponRights;break;case"wjz/dxdjx/product-group/product-group":e=this.checkProductGroupTakeCouponRights}"function"==typeof e&&this.checkPageHasTakeCouponRights(e)}},checkPageHasTakeCouponRights:function(e){var t=this;e.call(this).then((function(e){var o=e.scene,a=e.batchId,i=e.extInfo,n=void 0===i?{}:i,r=e.isFromSearch;t.setData({scene:o,batchId:a,extInfo:n,isFromSearch:r,showInnerModal:!0})}))}},messages:{onTakeSuccess:function(e){this.dispatch("onTakeSuccess",e.value)},onClose:function(){this.dispatch("onClose")}}})})),window.define("663",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=j(e(3)),T=e(51),x=e(4),P=e(80),D=j(e(664)),_=j(e(52)),k=e(58),A=j(e(87));function j(e){return e&&e.__esModule?e:{default:e}}var O={0:44,1:96,2:96,3:44,4:44},L={0:0,1:16/9,2:16/9,3:1.5,4:1.5},E={1:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FheadBg1.png",2:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FheadBg1.png",3:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FheadBg2.png",4:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FheadBg2.png"};Component({externalClasses:["navStyleClass","titleStyleClass"],options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{showHome:!1,styleType:0,bgImg:"",title:"店铺",showBack:!1,backStyle:{},homeStyle:{},placeholderStyle:{},navStyle:{},dynamicNavStyle:{},dynamicNavOffsetY:0,isBlockBackBtn:!1,customHome:!1,showHomeForce:!1,isBlockHomeBtn:!1,homeText:"逛逛"}},mixinsNavStyle:{type:Object,value:{},observer:function(e){this.setData("navStyle",Object.assign({},this.data.navStyle,e))}}},observers:{"componentData.navStyle":function(e){e&&void 0!==e.opacity&&(this.setButtonOpacity(e.opacity),this.setData("navStyle",Object.assign({},this.data.navStyle,e)))}},data:{placeholderStyle:{height:"64"+T.unit},placeholderInnerStyle:{position:"relative",height:"64"+T.unit},placeholderMaskStyle:{},navStyle:{"padding-top":"20"+T.unit,height:"44"+T.unit,"padding-bottom":0,color:"#1f1f1f"},backStyleCal:{},homeStyleCal:{},showBackCal:!0,isHidden:!0,navButtonStyle:{},showTopBar:!0,isShowHomeBtn:!1,iconShadow:!1,hasSearch:!1,title:""},logicData:{statusBarHeight:"20"+T.unit,navigationBarHeight:"44"+T.unit,systemInfo:{},scrollTop:0,scrollHidden:{1:16,2:42,3:9,4:9},generalParams:{id:"mip-doujin-top-head",name:"mip-doujin-top-head",type:"mip-doujin-top-head",title:"页面头部"},isReachDynamicNav:!1,navBackColroChange:!1,noticeHight:0,route:""},lifetimes:{created:function(){I.default.clearEvents(["onPageScroll","hasSearch","hasNotice","pageScroll","productVideoDirectionChange","getShopDetail"])},attached:function(){var e=this;(0,A.default)().then((function(t){e.logicData.systemInfo=t,e.initNav()})),I.default.addHandler("productVideoDirectionChange",(function(t){e.setData({showTopBar:t})}));var t=this.properties.componentData.dynamicNavOffsetY;t&&I.default.addHandler("onPageScroll",(function(o){var a=o.scrollTop>=t;a!==e.logicData.isReachDynamicNav&&(e.logicData.isReachDynamicNav=a,e.setData({navStyle:Object.assign({},e.data.navStyle,a?e.properties.componentData.dynamicNavStyle:e.properties.componentData.navStyle)}))})),this.properties.componentData.styleType&&(I.default.addHandler("onPageScroll",(function(t){e.listenScroll(t.scrollTop)})),I.default.addHandler("getShopDetail",(function(t){return e.setShopTitle(t)})));var o=(0,x.getCurrentPage)().route;this.logicData.route=o||"",o===T.SHOP_PAGE.substr(1)&&(I.default.addHandler("hasSearch",(function(){3===e.properties.componentData.styleType&&e.setData("hasSearch",!0)})),I.default.addHandler("hasNotice",(function(){3===e.properties.componentData.styleType&&(e.logicData.noticeHight=40,e.initNav())})))},detached:function(){I.default.clearEvents(["onPageScroll","hasSearch","hasNotice","pageScroll","productVideoDirectionChange","getShopDetail"],{outerRoute:this.logicData.route})}},methods:{listenScroll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.properties.componentData.styleType,o=e>this.logicData.scrollHidden[t];this.logicData.scrollTop=e;var a=o?e/80:0;this.setData({"navStyle.opacity":a}),this.setButtonOpacity(a)},initNav:function(){var e=this,t=!0,o=!0,a=(0,P.getCustomNavConfig)();try{var r=getCurrentPages()[getCurrentPages().length-1].route,s={};s=(0,x.isDxdjx)()?n().globalData.tabBar:(0,_.default)().xcxTabBar;var d=this.properties.componentData,u=d.isBlockBackBtn,c=d.showHomeForce,p=d.homeLinkToChannelPage,l=d.isBlockHomeBtn,g=void 0!==l&&l;if(u)t=!1;else t=s.list.every((function(e){return e.pagePath!==r}));if(g)o=!1;else{if(!0===c)o=!0;else o=s.list.every((function(e){return e.pagePath!==r}));o&&p&&(o="baiduboxapp"===this.logicData.systemInfo.host)}a.useConfig&&(t=a.showBackIcon||!1,o=a.showHomeIcon||!1)}catch(e){console.log(e)}var h={},m={};"IOS"===(0,x.getDeviceType)()&&(h={"margin-left":"1.81rpx"},m={"margin-left":"-1.81rpx"});var f=Object.assign({},m,this.data.backStyleCal,this.properties.componentData.backStyle),v=Object.assign({},h,this.data.homeStyleCal,this.properties.componentData.homeStyle),b=this.properties.componentData.styleType,w=this.logicData.systemInfo.statusBarHeight,y=this.logicData.systemInfo.navigationBarHeight;if(b){var C=n().globalData.siteData.systemInfo.screenWidth,S=void 0===C?414:C,D=w+O[b]-44+y+T.unit,k=S/L[b]+T.unit;this.logicData.statusBarHeight=w+T.unit,this.setData({backStyleCal:f,homeStyleCal:v,showBackCal:t,isShowHomeBtn:o,isHidden:!1,placeholderStyle:Object.assign({},this.properties.componentData.placeholderStyle,{height:D}),placeholderInnerStyle:4===b?Object.assign({},this.data.placeholderInnerStyle,{height:k,"background-image":"url("+(this.properties.componentData.bgImg||E[b])+")","background-repeat":"no-repeat","background-size":"100% 100%"}):Object.assign({},this.data.placeholderInnerStyle,{height:k,"background-color":"rgba(0, 0, 0, .65)","background-image":"url("+(this.properties.componentData.bgImg||E[b])+")","background-repeat":"no-repeat","background-size":"100% 100%","background-blend-mode":"overlay"}),navStyle:{"padding-top":w+T.unit,height:y+T.unit,opacity:0,"border-bottom":"0.5px solid #e0e0e0"},navButtonStyle:{"padding-top":w+T.unit,height:y+T.unit},iconShadow:!0}),this.changeNavBarColor(!0)}else this.logicData.statusBarHeight=w+T.unit,this.logicData.navigationBarHeight=y+T.unit,this.setData({backStyleCal:f,homeStyleCal:v,showBackCal:t,isShowHomeBtn:o,isHidden:!1,placeholderStyle:Object.assign({},this.properties.componentData.placeholderStyle,{height:w+y+T.unit}),navStyle:Object.assign({},this.data.navStyle,this.properties.componentData.navStyle,this.data.mixinsNavStyle,{"padding-top":w+T.unit,height:y+T.unit}),navButtonStyle:{"padding-top":w+T.unit,height:y+T.unit}});i.nextTick((function(){(0,x.getCurrentPage)().route===T.SHOP_PAGE.substr(1)&&3===e.properties.componentData.styleType&&I.default.trigger("searchFixed",{statusBarHeight:w,navigationBarHeight:y}),I.default.trigger("getNavHeight",w+y+T.unit),I.default.trigger("getContentHeight",e.logicData.systemInfo.windowHeight-(w+y))}),0)},handleBackClick:function(){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_193"}),(0,k.jumpToInnerSwan)({type:k.innerJumpType.navigateBack,fail:function(){(0,x.parsePageQuery)().dxdjxCustomBack?(0,x.jumpHome)():i.exit()}})},handleHomeClick:function(){if(this.properties.componentData.homeLinkToChannelPage)return(0,x.bdxdAddLog)(this,{compTargetId:"top-nav-home-click-channel",userExtra:{}}),(0,D.default)();(0,x.bdxdAddLog)(this,{compTargetId:"ssv_195"}),this.properties.componentData.customHome?this.triggerEvent("homeclick"):(0,P.handleCustomBtnClick)(this,this.handleBackClick)},handleSearchClick:function(){(0,k.jumpToInnerSwan)({path:(0,x.isDxdjx)()?T.PAGES.SHOP_RELATED_SEARCH_PRODUCT:T.PAGES.SEARCH_PRODUCT,params:{keyWords:"",shopId:(0,x.getShopId)()}})},setButtonOpacity:function(e){var t=e>1?1:e,o=void 0,a=!1;t<=.5?(o=2*(.5-t),a=!0,this.logicData.navBackColroChange||(I.default.trigger("showSearch",{showSearch:!0}),this.changeNavBarColor(!0))):(o=2*(t-.5),a=!1,this.logicData.navBackColroChange&&(I.default.trigger("showSearch",{showSearch:!1}),this.changeNavBarColor(!1))),this.setData({navButtonStyle:Object.assign({},this.data.navButtonStyle,{opacity:o}),iconShadow:a})},changeNavBarColor:function(e){this.logicData.navBackColroChange=e,i.setNavigationBarColor({frontColor:e?"#ffffff":"#000000",backgroundColor:e?"#000000":"#ffffff"})},setShopTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,o=void 0===t?"":t;this.setData("title",o)}}})})),window.define("664",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(58);o.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,o=void 0===t?"":t,a=e.tabindex,i=void 0===a?0:a,n=e.isJump,r=void 0!==n&&n,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="163",a={id:t,name:"购物",canDelete:"1",rnInfo:{bundleId:"box.rnplugin.feedhn",moduleName:"FeedHN"}},n={0:{parameters:{item:"home",upgrade:0,params:{channel:t,refresh:"1",tab_info:a}}},1:{module:"feed",action:"tabopt",authority:"v15",parameters:{params:Object.assign({upgrade:1,tab_id:t,action:o},"insert"===o&&i?{tabindex:i}:{},{tabinfo:a})}}};return(0,I.openBdboxWebview)(n[e])};if(o){if("insert"===o&&!i)throw new Error("tabindex params must exist");s(1).then((function(e){r&&s()})).catch((function(e){console.log("openBdboxWebview fail",e)}))}else s()}})),window.define("666",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=D(e(667)),T=D(e(668)),x=D(e(386)),P=D(e(669));function D(e){return e&&e.__esModule?e:{default:e}}Component((0,x.default)(I.default,T.default,P.default))})),window.define("667",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=D(e(668)),T=D(e(378)),x=e(59),P=e(4);function D(e){return e&&e.__esModule?e:{default:e}}o.default=function(){var e=(0,P.getCurrentPage)(),t=e.route,o=void 0===t?"":t,a=e.options,n=void 0===a?{}:a,r=o.split("/").pop(),s=n.pageId?"-"+n.pageId:"",d=I.default&&I.default[r]&&I.default[r].isStatic;-1===x.notLoadingPage.indexOf(r)&&i.showLoading({title:"加载中"});var u=d&&(0,T.default)(r+s)||{};return new Promise((function(e,t){e(u)}))}})),window.define("668",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={"dynamic-marketing-page":{path:"wjz/dxdjx/dynamic-marketing-page/dynamic-marketing-page",type:"native-standard",renderVersion:2,pageAopPath:"../../../utils/dxdjx/pageAop/marketingPage.js",isGetPageConfigOnInit:!0,pageJson:{backgroundColor:"#f5f5f5",usingComponents:{"standard-page-generator":"/standardPageGeneratorV2/standardPageGenerator"}}},"normal-tpl-page":{path:"wjz/dxdjx/normal-tpl-page/normal-tpl-page",type:"native-standard",renderVersion:2,pageAopPath:"../../../utils/dxdjx/pageAop/marketingPage.js",isGetPageConfigOnInit:!0,pageJson:{backgroundColor:"#f5f5f5",usingComponents:{"standard-page-generator":"/standardPageGeneratorV2/standardPageGenerator"}}},"dynamic-marketing-page-92442405-ab":{path:"wjz/dxdjx/dynamic-marketing-page-92442405-ab/dynamic-marketing-page-92442405-ab",type:"native-custom"},"mall-index":{path:"wjz/dxdjx/mall-index/mall-index",type:"native-custom"},"find-goods":{path:"wjz/dxdjx/find-goods/find-goods",type:"native-custom"},"live-list":{path:"wjz/dxdjx/live-list/live-list",type:"native-custom"},"benefits-center":{path:"wjz/dxdjx/benefits-center/benefits-center",type:"native-custom"},"red-packet-coupons":{path:"wjz/dxdjx/red-packet-coupon/red-packet-coupon",type:"native-custom"},"search-product-dxdjx":{path:"wjz/dxdjx/search-product-dxdjx/search-product-dxdjx",type:"native-custom"},"personal-center":{path:"wjz/dxdjx/personal-center/personal-center",type:"native-custom"},"collection-list":{path:"wjz/dxdjx/collection-list/collection-list",type:"native-custom"},"track-list":{path:"wjz/dxdjx/track-list/track-list",type:"native-custom"},"about-xiaodian":{path:"wjz/dxdjx/about-xiaodian/about-xiaodian",type:"native-custom"},"product-group":{path:"wjz/dxdjx/product-group/product-group",type:"native-custom"},"daily-shop":{path:"wjz/dxdjx/daily-shop/daily-shop",type:"native-custom"},"shop-cart":{path:"wjz/bdxd/shop-cart/shop-cart",type:"native-custom"},"shop-cart-detail":{path:"wjz/bdxd/shop-cart-detail/shop-cart-detail",type:"native-custom"},"product-detail":{path:"wjz/bdxd/product-detail/product-detail",type:"native-custom"},"order-submit":{path:"wjz/bdxd/order-submit/order-submit",type:"native-custom"},"order-detail":{path:"wjz/bdxd/order-detail/order-detail",type:"native-custom"},"shop-index":{path:"wjz/bdxd/shop-index/shop-index",type:"native-standard",renderVersion:2,pageAopPath:"../../../utils/bdxd/pageAop/shopIndexAop.js",isGetPageConfigOnInit:!0,pageJson:{backgroundColor:"#f8f8f8",usingComponents:{"standard-page-generator":"/standardPageGeneratorV2/standardPageGenerator"}}},"order-list":{path:"wjz/dxdjx/order-list/order-list",type:"native-custom"},"coupon-middle":{path:"wjz/bdxd/coupon-middle/coupon-middle",type:"native-custom"},"blind-box":{path:"wjz/dxdjx/blind-box/blind-box",type:"native-custom"},"home-letter-intro":{path:"wjz/dxdjx/home-letter-intro/home-letter-intro",type:"native-custom"},"live-playback":{path:"wjz/dxdjx/live-playback/live-playback",type:"native-custom"}}})),window.define("669",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(63),x=e(670),P=(I=x)&&I.__esModule?I:{default:I},D=e(672),_=e(671);o.default={gotPageConfig:function(e){var t=getCurrentPages()[getCurrentPages().length-1].route.split("/").pop();if(/shop-index/.test(t)){var o=e.extData.widgetList.indexOf("mip-doujin-product-list"),a=e.pageModuleIds.length,i=e.widgets[o+a];i&&7e3===i.bizType[0]?n().globalData.siteData.isOriginShopStyle=!0:n().globalData.siteData.isOriginShopStyle=!1,void 0!==i&&(0,P.default)(_.widgetNameMap.PRODUCTLIST,e,!1,!0)}return-1===_.needTransPage.indexOf(t)?e:(e.widgets.forEach((function(e){e.name=(0,T.transCamelToDash)(e.name)})),(0,P.default)(_.widgetNameMap.ANCHOR,e,!1),(0,D.omitPageConfig)(e))}}})),window.define("670",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(671),T=function(e,t){return t.some((function(t){return t.name===e}))};o.default=function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(Array.isArray(t)&&1===n)t.forEach((function(t){e(t,o,a,n+1)}));else{var r=Array.isArray(t)?t:[t];if(a||(r=r.filter((function(e){return!T(e,o.widgets)}))),r.length){var s,d=o.widgets.length;o.pageModuleIds.push(d);var u=[],c=[];r.forEach((function(e,t){u.push(d+t+1),c.push(I.widgetConfigMap[e])})),(s=o.widgets).push.apply(s,[(0,I.moduleWidgetsConfig)(u,i)].concat(c))}}}})),window.define("671",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(o,"__esModule",{value:!0});o.needTransPage=["marketing-page","dynamic-marketing-page","special-seckill","billion-subsidy","normal-tpl-page","dynamic-marketing-page-92442405-ab"],o.moduleWidgetsConfig=function(e,t){return{thumbnail:"",groupName:"布局组件",widgetMoldName:"module",widgetId:186,groupId:5,name:"mip-sjh-module",title:"内容块组件",type:"mip-sjh-module",widgetMoldId:2,properties:{backgroundColor:"","is-adaptive":t||!1,backgroundImg:"",mSizeHeight:0},child:e}};var x=o.widgetNameMap={ANCHOR:"gt-dxdjx-h5-marketing-anchor",PRODUCTLIST:"mip-doujin-product-list"};o.widgetConfigMap=(T(I={},x.ANCHOR,{bizType:"",widgetId:1072,groupId:"",icon:"",title:"",type:"gt-dxdjx-h5-marketing-anchor",widgetMoldId:22301,depWidgets:{},groupName:"",widgetMoldName:"GtDxdjxH5MarketingAnchor-default",name:"gt-dxdjx-h5-marketing-anchor",doc:{},properties:{mPosY:{changeable:!0,value:0},mSizeWidth:{changeable:!0,value:375},mSizeHeight:{changeable:!0,value:0},mPosX:{changeable:!0,value:0},isFromEditor:!0}}),T(I,x.PRODUCTLIST,{thumbnail:"",bizType:[7e3],widgetMoldGroupId:65,widgetId:486,icon:"mip-doujin-product-list",widgetUrl:"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/mip-doujin-product-list5.js",title:"商品列表组件",type:"mip-doujin-product-list",widgetMoldId:562,mLayout:{isBlock:!0,fixed:!1},depWidgets:{"mip-doujin-reach-bottom":"https://duzhanread.cdn.bcebos.com/jianzhan_widget/online_loki/mip-doujin-reach-bottom5.js"},widgetMoldName:"mip-doujin-product-list-default",name:"mip-doujin-product-list",doc:{},properties:{"preview-map":{list:[{hasVideo:!0,saleShow:1,webPageUrl:"swan://21213-232-123",originPrice:200,goodsPictureUrl:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Fdefault.png",h5PageUrl:"https://sjh.baidu.com/site/icop.baidu.com/e1126057-46d5-4a9d-aa9f-471cef048af8",sales:20,labels:[{id:1,value:"包邮"}],price:123,name:"这里显示商品标题，最多显示2行",totalStock:1e3,spuId:"1004875730016348257",sellingPoints:[{image:"",name:"促销信息"}],rest_stock:1,ucId:487573},{hasVideo:!0,saleShow:1,webPageUrl:"swan://21213-232-123",originPrice:200,goodsPictureUrl:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Fdefault.png",h5PageUrl:"https://sjh.baidu.com/site/icop.baidu.com/e1126057-46d5-4a9d-aa9f-471cef048af8",sales:10,labels:[{id:1,value:"包邮"}],price:123,name:"这里显示商品标题，最多显示2行",totalStock:1e3,spuId:"1004875730016348257",sellingPoints:[{image:"",name:"促销信息"}],rest_stock:1,ucId:487573}]},"__biz-type__":[7e3],mSizeWidth:{changeable:!0,value:375},"show-more-btn":!0,title:"","m-coordinates":"leftTop","root-style":{"background-color":"#f8f8f8"},"style-type":2,mPosY:{changeable:!0,value:0},mSizeHeight:{changeable:!0,value:100},mPosX:{changeable:!0,value:0},"is-get-list":!0,"is-review":!1},widgetInfoId:2405795455}),I)})),window.define("672",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.omitPageConfig=function(e){var t=Object.assign({},e);return t.widgets=e.widgets.map((function(e){var t={name:e.name,properties:e.properties};return e.child&&(t.child=e.child),t})),t}})),window.define("674",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=e(51),P=e(58),D=e(59),_=e(92),k=e(81),A=e(64),j=e(4);function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var L={1:(T={},O(T,-1,"平台通用"),O(T,2,"指定商品"),O(T,3,"指定店铺"),T),2:{1:"全场通用",2:"指定商品"}};Component({options:{addGlobalClass:!0},properties:{isPopshow:{type:Boolean,value:!1,observer:function(e){e&&this.getCouponData()}}},data:{coupons:[],rangeTag:L},logicData:{isFlagClick:!0},methods:{onClickClose:function(){this.setData({isPopshow:!1})},getCouponData:function(){var e=this,t=(0,j.parsePageQuery)(),o=t.orderId,a=t.batchId;(0,_.request)({url:D.API.getShopCoupon,data:{orderId:o,batchId:a}}).then((function(t){var o=t.data,a=void 0===o?[]:o;a&&a.length>0&&(e.logHandle("ssv_507"),e.setData({coupons:a}))}))},buttonClick:function(){var e=[],t=this.data.coupons;t&&t.map((function(t){e.push(t.batchId)})),this.logicData.isFlagClick&&e.length>0&&this.getBatchTake(e)},getBatchTake:function(e){var o=this;this.logicData.isFlagClick=!1;this.logHandle("ssv_506"),(0,A.setChannelInfo)({subSceneValue:"ssv_506"}),(0,_.request)({url:D.API.getShopBatchTake,data:{batchIds:e}}).then((function(e){var a=e.data,i=void 0===a?{}:a,n=i.jumpForward,r=void 0===n?"":n,s=i.jumpType,d=i.spuId,u=void 0===d?"":d;o.onClickClose(),(0,j.normalToast)({title:"领取成功"}),t((function(){1===s&&r&&(0,k.generalJump)({url:r,params:{subSceneValue:"ssv_506"}}),2===s&&u&&(0,P.jumpToInnerSwan)({path:x.PAGES.PRODUCT_DETAIL,params:{spuId:u,subSceneValue:"ssv_506"}})}),1e3)})).catch((function(){(0,j.normalToast)({title:"来晚了，优惠券已领完"}),o.onClickClose()}))},logHandle:function(e){(0,j.bdxdAddLog)(this,{compTargetId:e})}}})})),window.define("676",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=(e(4),e(58)),x={COLLECTED:"iconyifahuo",ERROR:"iconyichang",SIGNED:"iconyiqianshou",CITYDELIVERY:"iconpaisongzhong",ONTHEWAY:"iconyunshuzhong",ADDRESS:"icondizhixinxi"},P=["COLLECTED","ONTHEWAY","CITYDELIVERY","SIGNED"];Component({options:{addGlobalClass:!0},properties:{addressInfo:{type:Object,value:{},observer:function(e){var t=e.userName,o=e.telNumber,a=e.provinceName,i=e.cityName,n=e.countyName,r=e.detailInfo,s=e.townName;this.setData({content:[a,i,n,r,s].join(""),title:{userName:t,telNumber:o}})}},expressInfo:{type:Object,value:{},observer:function(e){var t=e.expressStatus,o=void 0===t?"":t,a=e.statusText,i=void 0===a?"":a,n=e.context,r=void 0===n?[]:n;this.setData({iconTag:x[P[o-1]]||"iconyichang",content:r[0]&&r[0].context||"未加载出地址",expressTitle:i||"未加载出状态"})}},showArrow:{type:Boolean,value:!1},disableModifyAddress:{type:Boolean,value:!1},isABAddressNA:{type:Boolean,value:!1},isVirtual:{type:Boolean,value:!1},orderId:{type:String,value:""},shopId:{type:String,value:""},isSplitSend:{type:Boolean,value:!1},isAddressCard:{type:Boolean,value:!1},isRecharge:{type:Boolean,value:!1},orderStatus:{type:Number,value:-1,observer:function(e){var t="";e===I.orderStatusMap.UNPAYMENT&&(t="请填写收货地址"),e===I.orderStatusMap.DEAL_CLOSE&&(t="未填写收货地址"),this.setData({emptyAddressText:t})}},hasAddress:{type:Boolean,value:!0},isNft:{type:Boolean,value:!1}},data:{iconTag:x.ADDRESS,title:{},expressTitle:"",content:"",emptyAddressText:""},attached:function(){},methods:{jumpLogisticsDetail:function(){var e=this.properties,t=e.isSplitSend,o=e.orderId,a=e.shopId;e.hasAddress||this.data.orderStatus!==I.orderStatusMap.UNPAYMENT?o&&(t?(0,T.jumpToInnerSwan)({path:I.PAGES.LOGISTICS_DETAIL_MID,params:{orderId:o,shopId:a}}):(0,T.jumpToInnerSwan)({path:I.PAGES.LOGISTICS_DETAIL,params:{orderId:o,shopId:a}})):this.dispatch("triggerAddAddress")},modifyAddress:function(){this.dispatch("triggerModifyAddress")},modifyAddressNA:function(e){this.dispatch("triggerModifyAddressNA",e.detail)}}})})),window.define("678",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51);Component({options:{addGlobalClass:!0},properties:{orderGroupMsg:{type:Object,value:{},observer:function(){this.setTransformStyle()}},groupStatusText:{type:String,value:""}},data:{groupStatusMap:I.groupStatusMap,transformStyle:""},attached:function(){},methods:{setTransformStyle:function(){var e="transform:translateX(-"+5*((this.properties.orderGroupMsg&&this.properties.orderGroupMsg.headPortraits&&this.properties.orderGroupMsg.headPortraits.length||0)-1)*I.rpx+"rpx);";this.setData({transformStyle:e})},onGroupDetailClick:function(){this.triggerEvent("handleGroupDetailClick")}}})})),window.define("680",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4);Component({options:{addGlobalClass:!0},properties:{userInfo:{type:Object,value:{userName:{value:"",error:""},telNumber:{value:"",error:""}}},isInfoPreview:{type:Boolean,value:!1}},methods:{onIpt:function(e){var t=e.dataType||e.currentTarget.dataset.type||"",o=(0,I.trimAll)(e.value||e.detail.value);this.triggerEvent("useriptchange",{iptType:t,iptValue:o})}}})})),window.define("682",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{cardDetailInfo:{type:Object,value:{},observer:function(e){this.handleBlankCardNum(e.cardNum)}}},data:{cardNum:""},methods:{handleBlankCardNum:function(e){this.setData({cardNum:e.match(/.{4}/g).join(" ")})},copyCardNum:function(e){var t=e.currentTarget.dataset.cardNum;i.setClipboardData({data:t,success:function(){i.showToast({title:"券码复制成功",icon:"none"})},fail:function(){i.showToast({title:"券码复制失败",icon:"none"})}})}}})})),window.define("684",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{cardInfo:{type:Object,value:{toUseCount:0,totalCount:0,cardCountInfos:[],cardDetailInfos:[]}},showNum:{type:Number,value:3},showMore:{type:Boolean,value:!0}},methods:{showMoreClick:function(){this.setData({showMore:!this.data.showMore})}}})})),window.define("686",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{addressInfo:{type:Object,value:null},showArrow:{type:Boolean,value:!0},hasEditAddress:{type:Boolean,value:!0}},methods:{onClick:function(e){this.properties.showArrow&&this.triggerEvent("addressselect")}}})})),window.define("688",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=["orderId","createDate","message","payText","payDate","sendDate","receivedDate"];Component({options:{addGlobalClass:!0},properties:{orderInfo:{type:Object,value:{orderId:"",createDate:"",message:"",payText:"",payDate:"",sendDate:"",receivedDate:""},observer:function(e){if(e){var t=0,o=!0,a={},i={};T.forEach((function(n){e[n]&&((t+=1)<5?a[n]=e[n]:(i[n]=e[n],o=!1))})),this.setData({isStretch:o,orderInfoMain:a,orderInfoBackup:i})}}}},data:{isStretch:!0,orderInfoMain:{},orderInfoBackup:{}},methods:{copyBtn:function(){var e=(this.properties.orderInfo||{}).orderId;(0,I.bdxdAddLog)(this,{compTargetId:"mip-bdxd-order-info-copy-order",userExtra:{orderId:e}}),i.setClipboardData({data:e,success:function(e){i.showToast({title:"复制成功",icon:"none"})}})},stretchCard:function(){var e=Object.assign({},this.data.orderInfoMain,this.data.orderInfoBackup);this.setData({orderInfoMain:e,isStretch:!0})}}})})),window.define("692",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(4),x={content:"若您使用优惠券、红包等对商品价格进行抵扣，抵扣后价格预估为0元，为提升交易真实性，您需支付调整款0.01元。",showCancel:!1,confirmText:"知道了"};Component({options:{addGlobalClass:!0},properties:{paymentAmount:{type:Number,value:0},promotionAmount:{type:Number,value:0},couponPrice:{type:Number,value:0},platformCouponPrice:{type:Number,value:0},freightCostAmount:{type:Number,value:0,observer:function(e){this.setData({isFreeShip:0===Number(e)})}},totalPaymentAmount:{type:Number,value:0},payType:{type:Number,value:null,observer:function(e){this.setData({payText:Number(e)===I.PAYMENT.ONLINE?"实付款":"货到支付金额"})}},hasGetOrderDetail:{type:Boolean,value:!1},orderType:{type:Number,value:0},platformPromotionAmount:{type:Number,value:0},platRedPacketAmount:{type:Number,value:0},isRecharge:{type:Boolean,value:!1},isNft:{type:Boolean,value:!1},adjustPrice:{type:Number,value:0}},data:{isFreeShip:!1,payText:"",goodsTypeMap:I.goodsTypeMap},methods:{handleAdjustPriceClick:function(){var e=this;i.showModal(Object.assign({},x,{success:function(){(0,T.bdxdAddLog)(e,{compTargetId:"ssv_661"})}}))}}})})),window.define("694",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x=e(51),P=e(4),D=e(3),_=(T=D)&&T.__esModule?T:{default:T},k=e(461),A=e(119);Component({options:{addGlobalClass:!0},behaviors:[(0,A.loginBehavior)(),k.SmallFourBeh],properties:{subOrderId:{type:Number,value:0},orderId:{type:Number,value:0},refundId:{type:Number,value:0},orderStatus:{type:Number,value:0},refundStatus:{type:Number,value:0},refundText:{type:String,value:""},allowRefund:{type:Boolean,value:!1},isZeroOrder:{type:Boolean,value:!1},cardInfo:{type:Object,value:{totalCount:0,cardCountInfos:[],cardDetailInfos:[]}},orderType:{type:Number,value:0},payType:{type:Number,value:0},refundType:{type:Number,value:0},complaintStatus:{type:Number,value:0},complaintId:{type:String,value:""},orderGroupStatus:{type:Number,value:0},deliverTag:{type:Number,value:0},shopId:{type:String,value:""},shopStatus:{type:Number,value:1},openRefund:{type:Boolean,value:!1},isRecharge:{type:Boolean,value:!1},isOuterOrder:{type:Boolean,value:!1},isNft:{type:Boolean,value:!1},isBjhColumn:{type:Number,value:0}},data:{buttonText:"",isAllowRefundStatus:!1,showSelectModal:!1,actions:["仅退款","退款退货"],PAYMENT:x.PAYMENT,goodsTypeMap:x.goodsTypeMap,cardStatusMap:x.cardStatusMap},methods:{handleBtnClick:function(){var e=this;this.data.isRecharge?(0,P.normalToast)({title:"充值类商品请联系卖家进行售后"}):((0,P.bdxdAddLog)(this,{compTargetId:"ssv_719",userExtra:{orderId:this.data.orderId,buttonText:this.data.buttonText}}),this.data.isOuterOrder&&this.data.isAllowRefundStatus?this.$request({url:x.API.refundCheck,data:{subOrderId:this.data.subOrderId,orderId:this.data.orderId}}).then((function(t){var o=t.data,a=o.canApply,i=o.cannotApplyTip,r=void 0===i?"":i;a?(0,P.judgeShopStatus)({status:e.properties.shopStatus,normalProcess:function(){e.handleButtonClick()}}):n.showModal({title:"提示",content:r,showCancel:!1,confirmText:"确定"})})).catch((function(e){})):(0,P.judgeShopStatus)({status:this.properties.shopStatus,normalProcess:function(){e.handleButtonClick()}}))},handleButtonText:function(){var e=this.properties,t=e.refundText,o=void 0===t?"":t,a=e.orderStatus,i=[x.refundBtnTextMap.HANDLE_CLOSE,x.refundBtnTextMap.CHANGE_GOODS_CLOSE].includes(o)?x.refundBtnTextMap.APPLY_REFUND:o,n=[x.orderStatusMap.UNSEND,x.orderStatusMap.SEND,x.orderStatusMap.DEAL_SUCCESS,x.orderStatusMap.PART_SEND].includes(a);!i&&n&&(i="申请售后"),this.setData({buttonText:i,isAllowRefundStatus:i===x.refundBtnTextMap.APPLY_REFUND})},handleClickAction:function(e){var o=this,a=e.detail.actionIndex?x.refundType.REFUND_GOODS:x.refundType.REFUND;this.handleCancel(),t((function(){_.default.trigger("onrefundbuttonclick",{refundType:a,subOrderId:o.properties.subOrderId,shopId:o.properties.shopId})}),200)},handleCancel:function(){this.setData({showSelectModal:!1})}},observers:{"refundStatus,refundText,complaintStatus,orderStatus":function(){this.handleButtonText()}}})})),window.define("696",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(58),T=e(51),x=e(4);Component({options:{addGlobalClass:!0},properties:{orderId:{type:String,value:""},skuLength:{type:Number,value:0,observer:function(e){+e>1&&this.setData({title:"点亮评分进行评价，同一订单商品可合并评价"})}}},data:{title:"点亮评分并写下服务体验，帮助商家做得更好"},methods:{rateClick:function(e){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_637"});var t=e.detail;this.jumpToCommentPage(t)},boardClick:function(){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_636"}),this.jumpToCommentPage()},jumpToCommentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,x.parsePageQuery)().from||"",o=(0,x.parsePageQuery)().sceneValue||"",a="ssv_584";(0,I.jumpToInnerSwan)({path:T.PAGES.COMMENT_COMMENT_POST,params:{orderId:this.properties.orderId,from:t,action:T.commentPostActionEntry.evaluate,subSceneValue:a,code:e,sceneValue:o}})}}})})),window.define("698",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51);Component({options:{addGlobalClass:!0},properties:{orderStateInfo:{type:Object,value:{},observer:function(e){this.handleStatusImage(e)}},cardInfo:{type:Object,value:{toUseCount:0,totalCount:0,cardCountInfos:[],cardDetailInfos:[]}},orderType:{type:Number,value:0},mainTitleStyle:{type:Object,value:{}},subTitleStyle:{type:Object,value:{}},isRecharge:{type:Boolean,value:!1},isFixed:{type:Boolean,value:!1},isNft:{type:Boolean,value:!1}},data:{orderStatusImage:"",orderStatusMap:I.orderStatusMap,goodsTypeMap:I.goodsTypeMap,automaticClass:"",showSubTitle:!1,subTitleText:""},methods:{handleStatusImage:function(e){var t=e.orderStatus,o=e.orderGroupStatus,a=!!o&&o===I.groupStatusMap.GROUP_PROCESSING;this.setData({orderStatusImage:a?I.GROUP_PROCESS_IMG:I.orderStatusImage[t],automaticClass:"AT-order-detail-order-status-"+(a?7:t)})},handleSubTitle:function(){var e=this.data,t=e.orderStateInfo,o=e.isRecharge,a=e.isFixed;switch(t.orderStatus){case I.orderStatusMap.UNPAYMENT:t.dateSubStr?this.setData({showSubTitle:!0,subTitleText:"剩"+t.dateSubStr+"自动关闭"}):this.setData({showSubTitle:!1});break;case I.orderStatusMap.UNSEND:o&&!a?this.setData({showSubTitle:!0,subTitleText:"话费充值预计24小时内到账，如有疑问请联系卖家"}):this.setData({showSubTitle:!1});break;case I.orderStatusMap.SEND:o&&!a?this.setData({showSubTitle:!0,subTitleText:"话费充值预计24小时内到账，如有疑问请联系卖家"}):!o&&t.dateSubStr?this.setData({showSubTitle:!0,subTitleText:"还剩"+t.dateSubStr+"自动确认收货"}):this.setData({showSubTitle:!1});break;case I.orderStatusMap.DEAL_SUCCESS:t.dateSubStr?this.setData({showSubTitle:!0,subTitleText:""+t.dateSubStr}):this.setData({showSubTitle:!1});break;case I.orderStatusMap.DEAL_CLOSE:this.setData({showSubTitle:!1});break;default:this.setData({showSubTitle:!1})}}},observers:{"orderStateInfo,isRecharge,isFixed":function(){this.handleSubTitle()}}})})),window.define("700",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=B(e(3)),x=e(450),P=e(461),D=e(119),_=e(352),k=e(58),A=e(4),j=e(81),O=e(51),L=B(e(87)),E=e(59),N=B(e(126)),R=e(65),M=(e(323),e(88));function B(e){return e&&e.__esModule?e:{default:e}}function F(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var U=(r().globalData.siteData||{}).appId,G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["address","systemDate","orderStatus","orderStatusText"],o={};for(var a in e)e.hasOwnProperty(a)&&!t.includes(a)&&(o[a]=e[a]);return o},H={},q=8,z=11,V="bdnetdisk"===r().globalData.siteData.host;Component({options:{addGlobalClass:!0},behaviors:[(0,D.loginBehavior)(),P.SmallFourBeh,x.SmallFourBehLinkTo],data:{outerOrderType:0,gapBgColor:O.GAP_CONFIG.bgColor,gapHeight:O.GAP_CONFIG.height,orderStateInfo:{},orderInfo:{},skuInfo:{},addressInfo:{},showOrderButton:!1,isZeroOrder:!1,hasGetOrderDetail:!1,orderRemainTime:0,goodsTypeMap:O.goodsTypeMap,isShowOrderDetail:!1,commentList:[],evaluateRejectStatus:O.orderCommentAuditStatusMap.REJECTED,evaluatePendingStatus:O.orderCommentAuditStatusMap.PEDDING,customActionList:[],skuList:[],spuList:[],isShare:!1,groupOrderInfo:{},paySuccessed:!1,shopId:"",isShowDelBtn:!1,viewHeight:"calc(100vh - 64px)",scrollTopVal:null,guaranteeData:{},autoAction:{name:"",isUsed:!1},orderDiscountAmount:0,totalPaymentAmount:0,mainTitleStyle:{position:"fixed"},subTitleStyle:{position:"fixed"},statusBarHeight:20,navigationBarHeight:44,expressInfo:{},orderCardInfo:{},canModifyAddress:!1,showCancelPopup:!1,isFixedStyle:!1,scrollToId:"",isRecharge:!1,pageType:24,hasAddress:!0,isLightningOrAuction:!1,hasRelatedOrder:!1,isMergePopupShow:!1,operateType:"",repeatCallPayment:0,from:"",disableModifyAddress:!1,isABAddressNA:!V,userDeny:!1,isNft:!1,bjhInfo:null,hasPayPanelShowed:!1,isPopshow:!1,isShowOrderTask:!1,canPostComments:!1,securityService:{},returnExpressFee:{},guaranteeBar:{}},logicData:{isFirstPaint:!0,orderId:"",batchId:"",from:"",generalParams:{id:"mip-bdxd-order-detail-page",name:"mip-bdxd-order-detail-page",type:"mip-bdxd-order-detail-page",title:"订单详情页"},scrollState:!0,isSingleTitle:!0,isUnPay:!0,isFromPay:!1},lifetimes:{created:function(){var e=(0,A.parsePageQuery)(),t=e.orderId,o=e.batchId,a=e.from,i=void 0===a?"":a;this.logicData.orderId=t,this.logicData.batchId=o,this.logicData.from=i,this.setData({from:i})},attached:function(){var e=this;this.hasAttachGetData=!0,this.setData({isShare:!!(0,A.parsePageQuery)().isShare}),T.default.addHandler("oncomplaintdetailclick",(function(t){return e.oncomplaintdetailclick(t)})),T.default.addHandler("onrefundbuttonclick",(function(t){return e.onrefundbuttonclick(t)})),T.default.addHandler("onrefunddetailclick",(function(t){return e.onrefunddetailclick(t)})),T.default.addHandler("oncommentDelClick",(function(t){return e.oncommentDelClick(t)})),T.default.addHandler("ontriggerdelbtnclick",(function(t){return e.onTriggerDelBtnClick(t)})),T.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh)"})})),this.initNav(),(0,A.isDxdjx)()&&this.setData({isInDxdjx:!0})}},pageLifetimes:{show:function(){r().globalData.isBackFromCommentPost=!1}},messages:{onReqLoginFail:function(){this.$setLoginStatus(!1)},onshopcardclick:function(e){(0,j.generalJump)({url:e.value.shopUrl})},ongoodscardclick:function(e){this.handleGoodscardclick(e)},onactionsclick:function(e){var t=e.value,o=t.orderId,a=void 0===o?"":o,i=t.actionName,n=t.isExecSuccessCb,r=t.isCancelPay,s=t.isFromPay,d=void 0!==s&&s,u=t.isAutoPay,c=void 0!==u&&u;switch(i){case"confirmReceipt":(0,k.jumpToInnerSwan)({path:O.PAGES.COMMENT_COMMENT_POST,params:{orderId:a,pageUri:((getCurrentPages()||[])[1]||{}).uri||"",from:(0,A.parsePageQuery)().from||"",action:O.commentPostActionEntry.confirm}});break;case"cancelOrder":case"pay":this.logicData.isFromPay=d,this.getOrderDetail({actionName:i,isExecSuccessCb:n,isCancelPay:r,isAutoPay:c});break;case"deleteOrder":(0,k.jumpToInnerSwan)({type:k.innerJumpType.navigateBack});break;case"showLogistics":break;case"inviteFriend":this.handleInviteFriend()}},setDateSubStr:function(e){this.setData({"orderStateInfo.dateSubStr":e.value})},onAutoActionsTriggered:function(){this.setData({"autoAction.name":""})},changePopupStatus:function(){this.setData({showCancelPopup:!1})},triggerModifyAddress:function(){(0,A.bdxdAddLog)(this,{compTargetId:"ssv_259"}),(0,k.jumpToInnerSwan)({path:O.PAGES.MODIFY_ADDRESS,params:{addrId:this.data.addressInfo.addrId,orderId:this.data.orderInfo.orderId,batchId:this.data.orderInfo.batchId}})},triggerModifyAddressNA:function(e){var t=this;(0,A.bdxdAddLog)(this,{compTargetId:"ssv_259"});var o=e.value||{};if(!this.isSubmit&&"{}"!==JSON.stringify(o)&&("user deny"===o.errMsg&&(this.setData({userDeny:!0}),(0,k.jumpToInnerSwan)({path:O.PAGES.MODIFY_ADDRESS,params:{addrId:this.data.addressInfo.addrId,orderId:this.data.orderInfo.orderId,batchId:this.data.orderInfo.batchId}})),"chooseAddress:ok"===o.errMsg)){var a=(0,R.pick)(o,["telNumber","userName","provinceName","cityName","countyName","townName","detailInfo","provinceCode","cityCode","countyCode","townCode"]);this.setData({disableModifyAddress:!0,showCancelPopup:!1});var i={orderId:this.data.orderInfo.orderId,provinceId:a.provinceCode,provinceName:a.provinceName,cityId:a.cityCode,cityName:a.cityName,districtId:a.countyCode,districtName:a.countyName,detailAddr:a.detailInfo,name:a.userName,mobile:a.telNumber,townId:a.townCode,townName:a.townName};N.default.hgzAs(O.antifraudConfig.userGrowth).then((function(e){t.modifyAddrReq(Object.assign({},i,{antiCheatVo:e}))})).catch((function(){t.modifyAddrReq(i)}))}},triggerAddAddress:function(){n.navigateTo({url:O.PAGES.ADDRESS_EDIT+"?from=orderDetail&orderId="+this.data.orderInfo.orderId})}},observers:{userDeny:function(e){this.setData({isABAddressNA:!e})}},methods:{$loginSuccessCb:function(){this.getOrderDetail()},$checkLoginSuccessCb:function(){this.getOrderDetail()},$onShowCheckLoginSuccessCb:function(){var e=this.logicData.isFromPay;!this.hasAttachGetData&&this.getOrderDetail({notShowPayPanel:e})},modifyAddrReq:function(e){var t=this;this.isSubmit=!0;var o=O.API.modifyAddress;this.$request({url:o,data:e}).then((function(){(0,A.normalToast)({title:"修改成功"}),t.getOrderDetail({notShowPayPanel:!0})})).catch((function(e){t.setData({disableModifyAddress:!1}),(0,A.normalToast)({title:e.statusInfo})})).finally((function(){t.isSubmit=!1}))},handleGoodscardclick:function(e){var t=this.data.isLightningOrAuction,o=e.value.skuId;if(!t){var a=(0,A.parseSwanUrl)(H[o]&&H[o].pageUrl).options,i=O.CHANNEL_INFO.orderProduct.sch;(0,k.jumpToInnerSwan)({path:O.PAGES.PRODUCT_DETAIL,params:Object.assign({},a,{spuId:e.value.spuId,sch:i}),log:{ctx:this,userExtra:{event_index:0}}})}},handleDetailClick:function(e){T.default.trigger("ontriggerdelbtnclick",!1)},handleInviteFriend:function(){var e=O.PAGES.GROUP_DETAIL,t=this.logicData.orderId||"",o={groupId:this.data.groupOrderInfo&&this.data.groupOrderInfo.groupOrderDetail&&this.data.groupOrderInfo.groupOrderDetail.groupId||"",orderId:t},a=this.data.skuInfo&&this.data.skuInfo.image||"";(0,A.shareFriend)({shareUrl:e,urlParams:o,imageUrl:a}),(0,A.bdxdAddLog)(this,{compTargetId:"ssv_257"})},handleBackClick:function(){if((0,M.isHalfScreenOpen)()){var e=this.data.skuList[0],t={skuId:e.skuId,spuId:e.spuId};this.handleGoodscardclick({value:t})}else if((0,A.isDxdjx)()){if("dxdjx-order-list"===this.logicData.from||"order-list-preview-comment"===this.logicData.from)return(0,k.jumpToInnerSwan)({type:k.innerJumpType.navigateBack});var o=O.PAGES.ORDER_LIST,a=o+"?orderStatus=all";return(0,A.isTabBarUrl)(o)&&(r().globalData.orderListOrderStatus="all"),void(0,j.generalJump)({url:a})}(0,j.generalJump)({url:O.PAGES.PERSONL_CENTER})},handleGroupDetailClick:function(){var e=this.logicData.orderId||"",t=this.data.groupOrderInfo&&this.data.groupOrderInfo.groupOrderDetail&&this.data.groupOrderInfo.groupOrderDetail.groupId||"";(0,k.jumpToInnerSwan)({path:O.PAGES.GROUP_DETAIL,params:{orderId:e,groupId:t}})},getCommentDetail:function(){var e=this;this.$request({url:O.API.getCommentDetailNew,data:{orderId:this.logicData.orderId,appId:U},downGradeOpts:{isFromSDK:!0}}).then((function(o){if(o&&200===o.status&&o.data){var a=e.logicData.from,i=void 0===a?"":a;e.logicData.isFirstPaint=("comment"===i||"order-list-preview-comment"===i)&&e.logicData.isFirstPaint,e.setData({commentList:o.data},(function(){e.logicData.isFirstPaint&&t((function(){e.setData({scrollToId:"comment-card"})}),1e3)}))}}))},getOrderDetail:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.actionName,i=void 0===a?"":a,s=(o.isExecSuccessCb,o.isCancelPay),d=void 0!==s&&s,u=o.isAutoPay,c=void 0!==u&&u,p=o.notShowPayPanel,l=void 0!==p&&p,g=this.logicData,h=g.orderId,m=g.batchId;h||m?this.$request({url:O.API.queryOrderDetail,data:{scene:O.XCX_SCENE,orderId:h,batchId:m},downGradeOpts:{isMain:!0}}).then((function(o){var a=o||{},n=a.data,s=a.errors,d=n.productUrlVo,u=void 0===d?{}:d,p=n.orderGroupState,l=void 0===p?0:p,g=n.groupOrderDetail,h=void 0===g?{}:g,f=n.orderGroupStatusMsg,v=void 0===f?"":f,b=n.orderDiscountAmount,w=n.totalPaymentAmount,y=n.orderStatus,C=void 0===y?1:y,S=n.canModifyAddress,I=n.outerOrderType,T=n.isNft,x=void 0===T?0:T,P=n.orderStatusText,D=n.returnExpressFee,j=n.securityService,L=n.guaranteeBar,E=n.orderId,N=void 0===E?"":E,R=n.createDate,M=void 0===R?"":R,B=n.message,U=void 0===B?"":B,V=n.payText,Y=void 0===V?"":V,W=n.payTime,J=void 0===W?"":W,X=n.consignTime,K=void 0===X?"":X,Q=n.confirmTime,$=void 0===Q?"":Q,Z=n.skus,ee=n.address,te=void 0===ee?{}:ee,oe=n.expressResultList,ae=n.nftIds,ie=void 0===ae?{}:ae,ne=n.payType,re=void 0===ne?0:ne,se=n.hasRelatedOrder,de=n.canDelete,ue=n.evaluateStatus,ce=n.orderRemainTime,pe=void 0===ce?0:ce,le=n.orderType,ge=void 0===le?0:le,he=n.shop,me=n.autoConfirmExtend,fe=void 0===me?{}:me,ve=n.adjustPrice,be=void 0===ve?0:ve;if(s&&s.length&&8004===s[0].code){var we=u.webAppUrl,ye=u.spuId,Ce=(0,A.parseSwanUrl)(we).options;(0,k.jumpToInnerSwan)({path:O.PAGES.PRODUCT_DETAIL,type:k.innerJumpType.redirectTo,params:Object.assign({},Ce,{spuId:ye,subSceneValue:"ssv_338"}),log:{ctx:e,userExtra:{event_index:0}}})}else{var Se={orderGroupState:l};+l&&(Se.groupOrderDetail=h,Se.orderGroupStatusMsg=v),e.setData({groupOrderInfo:Se,orderDiscountAmount:b,totalPaymentAmount:w});var Ie=(Z||[]).map((function(e){return e.spec=(e.specifications||[]).map((function(e){return e.value})),e.goodsLabel=(e.goodsLabels||[]).find((function(e){return e.id===q||e.id===z})),e.isBrandProduct=!!~(e.spuDefineLables||[]).findIndex((function(e){return 21==+e.id})),H[e.skuId]=e,e})),Te=(Ie||[]).map((function(e){return e.spuId}));e.logicData.isUnPay=Number(C)===O.orderStatusMap.UNPAYMENT;var xe=(oe||[]).pop()||{},Pe=l&&l===O.groupStatusMap.GROUP_PROCESSING,De=n.bjhInfo,_e=De&&De.dxdClassMode,ke=De&&De.bindStatus,Ae=[];if(!_e||ge!==O.goodsTypeMap.virtualCard||C!==O.orderStatusMap.UNSEND&&C!==O.orderStatusMap.DEAL_SUCCESS)Ae=O.ORDER_ACTION[C][ge][re]||[];else{var je=ke&&ke===O.COLUMNTYPE.OFFLINE?O.COLUMNTYPE.OFFLINE:_e;Ae=O.ORDER_COLUMN_ACTION[C][ge][re][je]||[]}x&&(e.logicData.nftIds=ie);var Oe=Ae&&Ae.findIndex((function(e){return"modifyAddress"===e.name}));+C===O.orderStatusMap.UNSEND&&Oe>-1&&!S&&(Ae=[].concat(F(Ae.slice(0,Oe)),F(Ae.slice(Oe+1))));var Le="h5"===e.logicData.from;e.setData(Object.assign({outerOrderType:I,orderRemainTime:pe,shopServiceLevel:he.shopDsr&&he.shopDsr.shopServiceLevel||0,isNft:Boolean(x)},(0,A.parsePageQuery)().isNormalPathOrder||Le?{}:{isPopshow:!0},{hasAddress:te&&""!==te.telno,hasRelatedOrder:se,addressInfo:{addrId:te.addrId||"",userName:te.name||"",telNumber:te.telno||"",provinceName:te.province||"",cityName:te.city||"",countyName:te.area||"",townName:te.town||"",detailInfo:te.address||""},expressInfo:{expressStatus:xe.expressStatus||"",statusText:xe.expressStatusText||"",context:xe.logisticsDetailDtoList||""},orderStateInfo:{orderStatus:C,orderStatusText:Z[0]&&11===Z[0].productType&&!x?O.rechargeOrderStatusText[C]:l===O.groupStatusMap.GROUP_PROCESSING?"待成团":P,dateSubStr:C===O.orderStatusMap.DEAL_SUCCESS?"写评价分享你的购物心情吧":n.dateSubStr,orderGroupState:l},showOrderButton:Ae&&Ae.length&&Ae.length>0||de||Pe||Boolean(x),isZeroOrder:0===Number(w),hasGetOrderDetail:!0,canPostComments:C===O.orderStatusMap.DEAL_SUCCESS&&ue===O.orderCommentStatusMap.NOT_EXIST_COMMENT,customActionList:C===O.orderStatusMap.DEAL_SUCCESS&&ue===O.orderCommentStatusMap.NOT_EXIST_COMMENT?O.ORDER_COMMENT_ACTION[O.orderCommentStatusMap.NOT_EXIST_COMMENT]:[],skuInfo:Ie[0]||{},orderInfo:G(n),skuList:Ie,spuList:Te,paySuccessed:[O.orderStatusMap.UNSEND,O.orderStatusMap.SEND,O.orderStatusMap.DEAL_SUCCESS].includes(C),guaranteeData:{returnExpressFee:D,securityService:j},returnExpressFee:D,securityService:j,guaranteeBar:L,orderCardInfo:{orderId:N,createDate:M,message:U,payText:Y,payDate:J,sendDate:K,receivedDate:$},autoConfirmExtend:fe,canModifyAddress:S&&!I,isRecharge:Z[0]&&Z[0].productType&&11===Z[0].productType&&!x,isLightningOrAuction:Z[0]&&Z[0].productType&&(3===Z[0].productType||4===Z[0].productType)},De?{bjhInfo:De}:{},{adjustPrice:be/100}),(function(){"appOrderCenter"!==e.logicData.from||e.data.autoAction.isUsed||t((function(){e.setData({autoAction:{name:(0,A.parsePageQuery)().action||"",isUsed:!0}})}),300);var o=getCurrentPages()||[],a=o.length>=2&&"/"+o[o.length-2].route===O.PAGES.PRODUCT_DETAIL;r().globalData.taskIdMapOrderId===N&&r().globalData.taskId&&e.data.paySuccessed&&t((function(){e.setData({isShowOrderTask:!0},(function(){_.taskSupplier.execute({command:"action",aid:[r().globalData.taskId]}),(0,A.bdxdAddLog)(e,{compTargetId:"ssv_618",userExtra:{taskId:r().globalData.taskId,type:"order detail page after execute settimeout 800"}}),r().globalData.taskIdMapOrderId=""}))}),800),a&&e.data.paySuccessed&&(i?"pay"===i&&(0,A.bdxdAddLog)(e,{compTargetId:c?"ssv_387":"ssv_391",userExtra:{orderId:N,batchId:m,comp_material_id:e.data.skuInfo.spuId}}):(0,A.bdxdAddLog)(e,{compTargetId:"ssv_388",userExtra:{orderId:N,batchId:m,comp_material_id:e.data.skuInfo.spuId}}))}));var Ee=e.data.orderInfo.dateSubStr;e.logicData.isSingleTitle=(n.orderStatus!==O.orderStatusMap.UNSEND||n.orderStatus!==O.orderStatusMap.DEAL_CLOSE)&&Ee||n.orderStatus===O.orderStatusMap.DEAL_SUCCESS,e.logicData.isSingleTitle?(e.setTitleStyle("mainTitleStyle",e.data.statusBarHeight),e.setTitleStyle("subTitleStyle",e.data.statusBarHeight+20)):e.setTitleStyle("mainTitleStyle",e.data.statusBarHeight+15)}})).catch((function(e){if(e&&"订单不存在"!==e.message&&(0,A.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-detail",errType:"api_orderdetail_err"},[O.logTypeMap.error,O.logTypeMap.apiError]),n.showToast({title:e.statusInfo||"请求订单详情失败",icon:"none"}),e.status in O.orderDetailErrorStatus){var t={errTitle:"订单详情",errText:e.statusInfo,errBtn:"",theme:"order-deleted"};(0,A.jumpErrorPageUrl)(t)}})).finally((function(){e.hasAttachGetData=!1,e.logicData.orderId&&e.getCommentDetail(),e.setData({isShowOrderDetail:!0}),n.nextTick((function(){e.setData({disableModifyAddress:!1}),(0,A.removeSkeleton)({delayTime:350,callback:function(){var t=getCurrentPages()||[],o=e.logicData,a=o.isUnPay,i=o.from,n=void 0===i?"":i,r=t.length>=2&&"/"+t[t.length-2].route===O.PAGES.PRODUCT_DETAIL;!a||d||!r&&!("h5"===n)||l||e.data.hasPayPanelShowed||e.setData({hasPayPanelShowed:!0,repeatCallPayment:Math.random()})}}),(0,A.isDxdjx)()&&(n.loadSubPackage({root:"wjz/bdxd/comment"}),n.loadSubPackage({root:"wjz/bdxd/after-sale"}),n.loadSubPackage({root:"wjz/bdxd/communicate"}),n.loadSubPackage({root:"wjz/bdxd/activity"}))}))})):(0,A.normalToast)({title:"订单不存在"})},oncommentDelClick:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.shopId,i=o.orderId,n=o.evaluateId;this.$request({url:O.API.deleteCommentNewSdk,data:{shopId:a,orderId:i,evaluateId:n,appId:U},downGradeOpts:{isFromSDK:!0}}).then((function(o){o&&200===o.status&&o.data?((0,A.normalToast)({title:"评价删除成功"}),t((function(){e.getCommentDetail()}),2200)):(0,A.normalToast)({title:"评价删除失败"})})).catch((function(){(0,A.normalToast)({title:"评价删除失败"})}))},onTriggerDelBtnClick:function(e){var t=e.isShowDelBtn,o=e.id;this.data.commentList.forEach((function(e){e.isShowDelBtn=e.evaluateId===o&&t})),this.setData({commentList:this.data.commentList})},setTitleStyle:function(e,t){var o,a,i;this.setData((i={position:"fixed",top:t+"px"},(a=e)in(o={})?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,o))},handleScrollTop:function(e){var t=e.scrollTop,o=this.logicData.isSingleTitle?t>this.data.navigationBarHeight:t>this.data.navigationBarHeight-15;this.logicData.scrollState!==o&&(this.logicData.scrollState=o,this.setData({isFixedStyle:o}))},initNav:function(){var e=this;(0,L.default)().then((function(t){var o=t.navigationBarHeight,a=t.statusBarHeight;a="half"===(0,M.getDisplayModeCur)()?8:a,e.setData({navigationBarHeight:o,statusBarHeight:a,isHalfScreen:(0,M.isHalfScreenOpen)()})})),(0,M.changeDisplayMode)((function(t){var o=t.newValue.displayMode,a=(0,M.getStatusBarHeight)(o);e.setData({statusBarHeight:a}),e.logicData.isSingleTitle?(e.setTitleStyle("mainTitleStyle",a),e.setTitleStyle("subTitleStyle",a+20)):e.setTitleStyle("mainTitleStyle",a+15)}))},scrollToBottom:function(){T.default.trigger("orderDetailLikeReachBottom")},cancelOrder:function(){this.setData({showCancelPopup:!0})},triggerShowMergePopup:function(e){var t=e.detail.operateType,o=void 0===t?"":t;this.setData({isMergePopupShow:!0,operateType:o})},changeMergePopupStatus:function(e){this.setData({isMergePopupShow:e.detail.isShow})},confirmCancelOrder:function(){this.getOrderDetail()},jumpToNft:function(){var e=this.logicData.nftIds,t=e.assetId,o=void 0===t?"":t,a=e.shardId,i=void 0===a?"":a;if(!o||!i)return(0,A.normalToast)({title:"正在为您登记上链信息，请稍候再试～"}),void this.getOrderDetail();(0,k.jumpToOuterSwan)({appKey:E.nftXcxConfig.appKey,path:E.nftXcxConfig.path,params:{asset_id:o,shard_id:i,time:Date.now()}})},scrollToTop:function(){var e=this;this.setData({scrollTopVal:{scrollTop:1}}),t((function(){e.setData({scrollTopVal:null})}),300)}}})})),window.define("702",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I={title:"百度数字藏品购买及使用规则",info:"在您选购本数字藏品前，请您仔细阅读此文，同意本文所告知内容后再进行购买",content:["特别提醒","1.请您仔细阅读商品详情页中有关发行方、发售方以及数字藏品相关权益的内容。本规则为数字藏品购买及使用的一般性规则，如具体数字藏品详情页的描述与本规则不一致的，请您以商品详情页的描述为准。","2.数字藏品的发行数量有限，先到先得，购完为止。鉴于数字藏品非实物性以及区块链特有属性，数字藏品一经购买成功将不支持退换。","3.您需要完成百度钱包实名认证后才能成功购买或兑换数字藏品。为了便于您进行购买和使用，您同意数字藏品的发行方及平台的运营方有权通过百度获取您的百度用户ID编号、昵称、头像、证件号、证件类型、是否实名认证、账户身份核验的验证结果信息以及通过授权页面向您展示的其他必要信息类型。","4.在您购买或兑换数字藏品之前，请您务必仔细阅读使用规则和服务说明等内容，您一旦点击“立即购买”，即视同您已经同意本页面的全部规则和内容。","","购买及使用规则","1.数字藏品的发行方及发售方详见商品标题及商品详情页标注的“发行主体”以及“发售方”。","2.数字藏品由发售方提供，您点击购买后应付款项实际向发售方支付，就数字藏品的售卖及使用相关问题均由发售方负责。","3.您成功购买或兑换数字藏品即意味着数字藏品的发行方或版权权利人（“版权人”）授予您获得了一项针对数字藏品的中国大陆地区内有效的、非排他的、可撤销的、不可分许可和再许可的有限普通许可（“授权许可”），您可以为个人欣赏、学习、娱乐、交流、社交等非营利目的（“许可目的”）在以下授权场景（统称“授权场景”）中复制、公开展示、展览、表演、播放、发布、汇集或以其他非营利的方式使用数字藏品。","4.您理解并同意，除上述第3条约定的授权场景外，您购买数字藏品后并不取得原始作品的任何知识产权或其他合法权益的所有权或许可。该等权利或权益仍属于发行方或权利人所有。除另行取得发行方或权利人同意外，您不得超越上述第3条的授权许可范围或授权场景外使用数字藏品，不得将数字藏品用于任何商业、营利目的。","5.基于区块链技术的加密及不可篡改特性，当您购买数字藏品后，您的购买者信息将记录在数字藏品的元数据中，作为您持有该数字藏品的权利凭证。","6.百度禁止任何利用数字藏品进行售卖、炒作、场外交易、欺诈或以任何其他非法方式进行使用。百度有权随时根据中华人民共和国有关法律、法规的变化、互联网的发展以及公司经营状况和经营策略的调整等情况调整交易及使用规则。您认可并同意，为了保障交易安全、有序、合法以及履行我们反洗钱的义务，我们有权对您的区块链地址进行安全查询。","7.如您存在违反法律法规或本规则等情形，我们有权对您采取必要的限制措施，包括但不限于限制数字藏品的访问、使用、停止提供服务、回收数字藏品，并要求您赔偿百度因此遭受的全部损失。","8.您理解并同意，鉴于网络服务的特殊性，我们对本服务的持续提供可能受到多种因素的影响，如出现技术升级、服务体系升级、或因经营策略调整或配合国家重大技术、法规政策等变化。我们可能随时终止、中断提供服务或变更所提供服务的形式、规格或其他方面，而您不会因此追究我们的责任。"],buttonText:"确认"};Component({options:{addGlobalClass:!0},properties:{isPopupShow:{type:Boolean,value:!1,observer:function(e){this.setData({isShow:e})}},popupTitle:{type:String,value:I.title},popupInfo:{type:String,value:I.info},popupContent:{type:String,value:I.content},popupButtonText:{type:String,value:I.buttonText}},data:{isShow:!1},methods:{onClosePopup:function(){var e=this;this.setData({isShow:!1},(function(){e.triggerEvent("changeNftPopupState",{isShow:e.data.isShow})}))}}})})),window.define("704",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(58);Component({options:{addGlobalClass:!0},properties:{isVerifyPassName:{type:Boolean,value:!1},returnParams:{type:String,value:""}},data:{isAgreeStatement:!1,isShowProtocolPopup:!1},methods:{jumpToCertification:function(){var e=getCurrentPages(),t=e[e.length-1].privateProperties.accessUri||"%20";t=t+"&from=pass&returnParams="+encodeURIComponent(this.properties.returnParams);var o="https://wappass.baidu.com/wp/v3/ucenter/realnameverify?tpl=bcyx&adapter=3&client=bdSpecialPhoenix&okU=/"+encodeURIComponent(t);(0,T.jumpToInnerSwan)({path:I.PAGES.COMMUNICATE_WEB_VIEW,params:{url:o}})},changeAgreeState:function(){var e=this;this.setData({isAgreeStatement:!this.data.isAgreeStatement},(function(){e.triggerEvent("changeNftAgreeState",{isAgreeStatement:e.data.isAgreeStatement})}))},changeNftPopupState:function(e){if(e&&"changeNftPopupState"===e.type){var t=e.detail.isShow,o=void 0!==t&&t;this.setData({isShowProtocolPopup:o})}else this.setData({isShowProtocolPopup:!0})}}})})),window.define("706",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59);Component({options:{addGlobalClass:!0},properties:{redPackets:{type:Object,value:{availablePlatformRedPackets:[],unablePlatformRedPackets:[],usePlatformRedPacket:!0,platformRedPacketDiscountAmount:""},observer:function(){this.onRedPacketChange()}}},data:{showCoupons:!1,couponText:"有可用红包",isCouponNumber:!1,tabs:[{name:"ableRedPacket",label:"可用红包"},{name:"unableRedPacket",label:"不可用红包"}],activeName:"ableRedPacket",closeWrapStyle:I.CLOSE_WRAP_STYLE,closeStyle:I.POPUP_CLOSE_STYLE,emptyCouponsImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/emptyCoupon.png",showTips:!1,ableRedPacket:[],unableRedPacket:[],redPacketImg:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/smallRedPacket.png",scrollTop:0,toTop:"",couponTypeMap:I.COUPON_FUNC_TYPE_MAP,showRedPacketBar:!1,showRedPacketPop:!1,curUseRedPacket:!1},logicData:{useRedPacket:!1,lastUseRedPacket:!1,unableRedPacketIds:"",availableRedPacketIds:""},methods:{onCouponPopupClick:function(){this.setData({showRedPacketPop:!0})},onClosePopup:function(){var e=this.logicData.lastUseRedPacket;this.logicData.useRedPacket=e,this.setData({showRedPacketPop:!1,activeName:"ableRedPacket",curUseRedPacket:e}),this.goToScrollTop()},onRadioChange:function(e){if(e&&e.currentTarget&&e.currentTarget.dataset){var t=e.currentTarget.dataset.value;this.logicData.useRedPacket!==t&&(this.logicData.useRedPacket=t,this.setData("curUseRedPacket",t))}},onChangeCoupon:function(e){this.setData({showRedPacketPop:!1,activeName:"ableRedPacket"}),this.triggerEvent("success",{usePlatformRedPacket:this.logicData.useRedPacket}),this.logicData.lastUseRedPacket=this.logicData.useRedPacket,this.goToScrollTop()},onRedPacketChange:function(){var e=this.properties.redPackets,t=e.availablePlatformRedPackets,o=void 0===t?[]:t,a=e.unablePlatformRedPackets,i=void 0===a?[]:a,n=e.usePlatformRedPacket,r=void 0===n||n,s=e.platformRedPacketDiscountAmount,d=void 0===s?"":s,u=!1;(o.length||i.length)&&(u=!0);var c="有可用红包";o.length?r&&(c=""+d):c="暂无可用红包",this.logicData.useRedPacket=r,this.logicData.lastUseRedPacket=r,this.setData({showRedPacketPop:!1,showRedPacketBar:u,curUseRedPacket:r,couponText:c,tabs:[{name:"ableRedPacket",label:"可用红包("+o.length+")"},{name:"unableRedPacket",label:"不可用红包("+i.length+")"}],showTips:o.length>0,ableRedPacket:this.formatRedPacets(o),unableRedPacket:this.formatRedPacets(i),isCouponNumber:/\d/.test(c)}),this.logicData.availableRedPacketIds=this.getRedPacketTakeIds(o),this.logicData.unableRedPacketIds=this.getRedPacketTakeIds(i)},getRedPacketTakeIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.couponTakeId})).join(",")},formatRedPacets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.unAvailableReason,o=void 0===t?"":t,a={};return o&&(a.platformCouponDesc=o),Object.assign({},e,a)}))},onTabChange:function(e){var t=e.currentTarget.dataset.name;this.data.activeName!==t&&this.setData({activeName:t}),this.goToScrollTop()},goToScrollTop:function(){this.setData({toTop:""+ +new Date})}}})})),window.define("708",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59);Component({options:{addGlobalClass:!0},properties:{title:{type:String,value:""},amount:{type:Number,value:0},info:{type:String,value:""},activityList:{type:Array,value:[]}},data:{showLayer:!1,closeWrapStyle:I.CLOSE_WRAP_STYLE,closeStyle:I.POPUP_CLOSE_STYLE},methods:{onClosePopup:function(){this.setData({showLayer:!1})},onActivityPopupClick:function(){this.data.activityList.length&&this.setData({showLayer:!0})}}})})),window.define("710",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{option:{type:Array,value:[]},defaultCode:{type:Number,value:0,observer:function(e){this.setData({current:e})}}},data:{current:0},methods:{onClick:function(e){var t=e.currentTarget.dataset.code;t!==this.data.current&&(this.setData({current:t}),this.triggerEvent("onchange",{current:t}))}}})})),window.define("712",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(713),T=e(4),x=e(51),P=e(92);Component({options:{addGlobalClass:!0},properties:{openOverseas:{type:Number,value:0,observer:function(e){this.openInputHandle(e)}},isIdentify:{type:Number,value:0},identyName:{type:String,value:""},identyId:{type:String,value:""}},data:{identityName:"",identityId:"",canSubmit:!1,hasNameDelete:!1,hasIdDelete:!1},methods:{openInputHandle:function(e){var t=this.properties,o=t.isIdentify,a=t.identyName,i=t.identyId;this.setData({identityName:o?a:"",identityId:o?(0,I.idDotHandle)(i):""})},nameInputHandle:function(e){var t=e.detail.value;t&&(this.setData({identityName:t}),this.submitStatus(this.data.identityId,t))},submitStatus:function(e,t){this.setData({canSubmit:(0,I.getUserReg)((0,T.trimAll)(e))&&!!(0,T.trimAll)(t)})},userInputHandle:function(e){var t=e.detail.value;t&&(this.setData({identityId:(0,I.identityFormat)((0,T.trimAll)(t))}),this.submitStatus(t,this.data.identityName))},blurHandle:function(e){this.delControl(e,!1)},focusHandle:function(e){this.delControl(e,!0)},delControl:function(e,t){var o=+e.currentTarget.dataset.type?{hasIdDelete:t}:{hasNameDelete:t};this.setData(o)},vertifyDelete:function(e){var t=+e.currentTarget.dataset.type?{identityId:""}:{identityName:""};this.setData(Object.assign({},t,{canSubmit:!1}))},certifySubmit:function(){var e=this,t=this.data,o=t.identityName,a=t.identityId;o?(0,T.trimAll)(a)&&(0,I.getUserReg)((0,T.trimAll)(a))?(0,P.request)({url:x.API.getVerify,data:{userName:(0,T.trimAll)(o),userIdentity:(0,T.trimAll)(a)}}).then((function(t){var o=t.data||{},a=o.userIdentity,i=o.userName;o.resultCode?(e.setData({canSubmit:!1}),e.triggerEvent("certifySubmit",{userName:i,userIdentity:a}),(0,T.normalToast)({title:"实名信息校验通过"})):(0,T.normalToast)({title:"姓名与身份证信息不匹配，请重新填写"})})).catch((function(t){t&&+t.status===x.RESPONSE_STATUS.NOT_LOGIN&&e.dispatch("onReqLoginFail"),(0,T.normalToast)({title:t.statusInfo||"认证校验失败"})})):(0,T.normalToast)({title:"请输入正确的身份证号"}):(0,T.normalToast)({title:"请输入姓名"})}}})})),window.define("713",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.getUserReg=function(e){return/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e)};var I=o.identityFormat=function(e){if(e){var t=e.length;if(t<=3)return e;var o=function(t,o){return e.substring(t,o)},a=function(e){return o(e,t)},i=o(0,3);if(t<=6)return i+" "+a(3);var n=o(3,6);if(t<=10)return i+" "+n+" "+a(6);var r=o(6,10);return t<=14?i+" "+n+" "+r+" "+a(10):i+" "+n+" "+r+" "+o(10,14)+" "+a(14)}};o.idDotHandle=function(e){var t=e.replace(/\s+/g,""),o=t.length;return I(t.substr(0,3)+"***********"+t.substr(o-4,o))}})),window.define("715",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59),T=e(4),x={};Component({options:{addGlobalClass:!0},properties:{couponsList:{type:Array,value:[],observer:function(){this.onCouponsChange()}},couponDiscountAmount:{type:Number,value:0}},data:{showCoupons:!1,isCouponNumber:!1,couponText:"不使用优惠券",hasSelectCoupons:!1,noAgainChecked:!0,closeWrapStyle:I.CLOSE_WRAP_STYLE,closeStyle:I.POPUP_CLOSE_STYLE,tabs:[{name:"ableCoupons",label:"可用优惠券",class:"AT-take-coupon-able-coupon"},{name:"unableCoupons",label:"不可用优惠券",class:"AT-take-coupon-unable-coupon"}],activeName:"ableCoupons",couponTypeMap:I.COUPON_FUNC_TYPE_MAP,emptyCouponsImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/emptyCoupon.png",couponsListData:[],couponAblesLength:0,couponUnablesLength:0},methods:{addLog:function(e){(0,T.bdxdAddLog)(this,{compTargetId:e})},onCouponPopupClick:function(){this.setData({showCoupons:!0}),this.addLog("ssv_270"),this.dispatch("onPopupShow",{showCoupons:!0})},onCouponsChange:function(){var e=this,t=this.properties.couponsList,o="不使用优惠券",a=!1,i=0,n=0;t.forEach((function(t,o){var r=x;t.shopCoupons.some((function(e){e.selected&&(r=e,a=!0)})),t.shopCoupons=e.addSelectToCoupons(t.shopCoupons,r,o),t.shopUnableCoupons.forEach((function(e){e.platformCouponDesc="所结算商品不符合使用条件"})),t.shopCoupons.length&&(i+=t.shopCoupons.length),t.shopUnableCoupons.length&&(n+=t.shopUnableCoupons.length)})),a&&(o=""+this.properties.couponDiscountAmount),this.setData({couponsListData:t,couponText:o,isCouponNumber:/\d/.test(o),tabs:[{name:"ableCoupons",label:"可用优惠券("+i+")",class:"AT-take-coupon-able-coupon"},{name:"unableCoupons",label:"不可用优惠券("+n+")",class:"AT-take-coupon-unable-coupon"}],hasSelectCoupons:a,couponAblesLength:i,couponUnablesLength:n})},onChangeCoupon:function(e){var t=this.data.couponsListData,o=[];t.forEach((function(e){e.shopCoupons.forEach((function(e){e.currentSelect&&o.push(e)}))})),this.setData({noAgainChecked:!1,showCoupons:!1,activeName:"ableCoupons"}),this.triggerEvent("success",{useCoupon:!!o.length,chooseCouponsMulti:o}),this.addLog("ssv_269"),this.dispatch("onPopupShow",{showCoupons:!1})},onClosePopup:function(){this.setData({showCoupons:!1,couponsListData:this.properties.couponsList,activeName:"ableCoupons"}),this.dispatch("onPopupShow",{showCoupons:!1})},onTabChange:function(e){var t=e.currentTarget.dataset.name;this.data.activeName!==t&&this.setData({activeName:t}),"unableCoupons"===t&&this.addLog("ssv_268")},addSelectToCoupons:function(e,t,o){return e.map((function(e){return e.currentSelect=e.couponTakeId===t.couponTakeId,o>=0&&(e.couponIndex=o),e}))}},messages:{onCouponClick:function(e){var t=e.value.couponInfo,o=this.data.couponsListData;o[t.couponIndex].shopCoupons.forEach((function(e){t.couponTakeId===e.couponTakeId?e.currentSelect=!e.currentSelect:e.currentSelect=!1})),this.setData({couponsListData:o})}}})})),window.define("717",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(59),x=e(4),P={},D=1,_=2;Component({options:{addGlobalClass:!0},properties:{coupons:{type:Object,value:{shopCoupons:[],unableCoupons:[],platformCoupons:[],forceShowBar:!1},observer:function(){this.onCouponsChange()}},couponDiscountAmount:{type:String,value:"0"},cellName:{type:String,value:"店铺优惠"}},data:{showCoupons:!1,couponText:"不使用优惠券",isCouponNumber:!1,couponTextStyle:{},noAgainChecked:!0,hasSelectCoupons:!1,hasSelectPlatformCoupons:!1,chooseCoupons:{},choosePlatformCoupons:{},tabs:[{name:"ableCoupons",label:"可用优惠券",class:"AT-take-coupon-able-coupon"},{name:"unableCoupons",label:"不可用优惠券",class:"AT-take-coupon-unable-coupon"}],activeName:"ableCoupons",closeWrapStyle:T.CLOSE_WRAP_STYLE,closeStyle:T.POPUP_CLOSE_STYLE,showTips:!1,shopCoupons:[],unableCoupons:[],platformCoupons:[],emptyCouponsImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/emptyCoupon.png",scrollTop:0,toTop:"",couponTypeMap:T.COUPON_FUNC_TYPE_MAP,showCouponsBar:!1,dialogStyle:D},logicData:{lastChooseCoupons:{},useCoupon:!1,lastUseCoupon:!1,lastChoosePlatformCoupons:{},usePlatformCoupon:!1,lastUsePlatformCoupon:!1,generalParams:{id:"mip-bdxd-take-coupon",name:"mip-bdxd-take-coupon",type:"mip-bdxd-take-coupon",title:"领券"}},methods:{addLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"site_comp_click";(0,x.bdxdAddLog)(this,{compTargetId:e,actionId:t,userExtra:{spu_id:this.data.spuId,comp_material_id:this.data.spuId}})},onCouponPopupClick:function(){this.setData({showCoupons:!0}),this.addLog("ssv_270"),this.dispatch("onPopupShow",{showCoupons:!0})},onClosePopup:function(){var e=this.logicData,t=e.lastUseCoupon,o=e.lastUsePlatformCoupon,a=e.lastChooseCoupons,i=e.lastChoosePlatformCoupons;this.logicData.useCoupon=t,this.logicData.usePlatformCoupon=o,this.setData({showCoupons:!1,chooseCoupons:a,choosePlatformCoupons:i,shopCoupons:this.addSelectToCoupons(this.data.shopCoupons,a),platformCoupons:this.addSelectToCoupons(this.data.platformCoupons,i),activeName:"ableCoupons"}),this.dispatch("onPopupShow",{showCoupons:!1}),this.goToScrollTop()},onRadioChange:function(e){e.currentTarget.dataset.ban||(this.logicData.useCoupon=!!+e.currentTarget.dataset.coupon.couponTakeId,this.setData({chooseCoupons:e.currentTarget.dataset.coupon}))},onChangeCoupon:function(e){this.setData({noAgainChecked:!1,showCoupons:!1,activeName:"ableCoupons"}),this.triggerEvent("success",{useCoupon:this.logicData.useCoupon,chooseCoupons:this.data.chooseCoupons,usePlatformCoupon:this.logicData.usePlatformCoupon,choosePlatformCoupons:this.data.choosePlatformCoupons}),this.addLog("ssv_269"),this.dispatch("onPopupShow",{showCoupons:!1}),this.goToScrollTop()},onCouponsChange:function(){var e=this.properties.coupons&&this.properties.coupons.shopCoupons||[],t=this.properties.coupons&&this.properties.coupons.unableCoupons||[],o=this.properties.coupons&&this.properties.coupons.platformCoupons||[],a=this.properties.coupons&&this.properties.coupons.forceShowBar||!1;t.forEach((function(e){e.platformCouponDesc="所结算商品不符合使用条件"}));var i=!1;(a||e.length||t.length||o.length)&&(i=!0);var n=e.length+o.length>1||t.length>1?D:_,r="不使用优惠券",s=!1,d=!1,u=this.logicData.useCoupon,c=P,p=P,l=u,g=this.logicData.usePlatformCoupon,h=P,m=P,f=g;e.length||o.length||(r="暂无可用优惠券"),e.some((function(e){if(e.selected)return c=e,p=e,s=!0,u=!0,l=!0,!0;u=!1})),o.some((function(e){if(e.selected)return h=e,m=e,d=!0,g=!0,f=!0,!0;g=!1})),(d||s)&&(r=""+this.properties.couponDiscountAmount),this.logicData=Object.assign({},this.logicData,{lastChooseCoupons:p,useCoupon:u,lastUseCoupon:l,lastChoosePlatformCoupons:m,usePlatformCoupon:g,lastUsePlatformCoupon:f}),this.setData({dialogStyle:n,showCoupons:!1,showCouponsBar:i,couponText:r,chooseCoupons:c,choosePlatformCoupons:h,hasSelectCoupons:s,hasSelectPlatformCoupons:d,tabs:[{name:"ableCoupons",label:"可用优惠券("+(e.length+o.length)+")",class:"AT-take-coupon-able-coupon"},{name:"unableCoupons",label:"不可用优惠券("+t.length+")",class:"AT-take-coupon-unable-coupon"}],showTips:e.length>0&&o.length>0,shopCoupons:this.addSelectToCoupons(e,c),platformCoupons:this.addSelectToCoupons(o,h),unableCoupons:t,isCouponNumber:/\d/.test(r),couponTextStyle:/\d+/g.test(r)?{color:"#FF3333","font-weight":"bold"}:{}}),this.dispatch("onPopupShow",{showCoupons:!1})},addSelectToCoupons:function(e,t){return e.map((function(e){return e.currentSelect=e.couponTakeId===t.couponTakeId,e}))},onTabChange:function(e){var t=e.currentTarget.dataset.name;this.data.activeName!==t&&this.setData({activeName:t}),"unableCoupons"===t&&this.addLog("ssv_268"),this.goToScrollTop()},goToScrollTop:function(){this.setData({toTop:""+ +new Date})}},messages:{onCouponClick:function(e){var t=e.value.couponInfo;if(t.bizType===I.COUPON_BIZ_TYPE.PLATFORM){var o={};this.data.choosePlatformCoupons.couponTakeId===t.couponTakeId?this.logicData.usePlatformCoupon=!1:(o=t,this.logicData.usePlatformCoupon=!0),this.setData({choosePlatformCoupons:o,platformCoupons:this.addSelectToCoupons(this.data.platformCoupons,o)})}else{var a={};this.data.chooseCoupons.couponTakeId===t.couponTakeId?this.logicData.useCoupon=!1:(a=t,this.logicData.useCoupon=!0),this.setData({chooseCoupons:a,shopCoupons:this.addSelectToCoupons(this.data.shopCoupons,a)})}}}})})),window.define("719",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(170),T=e(51);Component({options:{addGlobalClass:!0},properties:{payText:{type:String,value:"在线支付"},payAmount:{type:Number,value:0},payUnit:{type:String,value:"￥"},submitText:{type:String,value:"提交订单"},disabled:{type:Boolean,value:!0},errTipShow:{type:Boolean,value:!1},submitBarTipInfo:{type:Object,value:{tipText:"",show:!1,type:T.ORDER_SUBMIT_BAT_TIP_MAP.delivery}},skuCount:{type:Number,value:0},totalDiscountAmount:{type:String,value:""},isFreeCost:{type:Boolean,value:!1}},externalClasses:["container-class","btn-class","amount-class"],data:{tipTypeMap:T.ORDER_SUBMIT_BAT_TIP_MAP,templateId:"BD0004",subscribeId:"dxdjxPayReminder"},attached:function(){var e=this;(0,I.getFeedNodeRect)(".mip-bdxd-order-submit-bottom-area",this).then((function(t){e.properties.submitBarTipInfo.show?(0,I.getFeedNodeRect)(".mip-bdxd-order-submit-bar-tip",e).then((function(o){e.triggerEvent("getSubmitBarDomInfo",{rect:Object.assign({},t,{height:t.height-o.height})})})):e.triggerEvent("getSubmitBarDomInfo",{rect:t})}))},formSubmitHandle:function(e){if(!this.properties.disabled){n().globalData.currOrderData={from:"order-submit"};var t=e.detail;this.triggerEvent("submitorder",t)}},handleTipClick:function(){var e=this.properties.submitBarTipInfo;this.triggerEvent("handleTipClick",{submitBarTipInfo:e})}})})),window.define("721",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4);Component({options:{addGlobalClass:!0},properties:{addressInfo:{type:Object,value:null},goodsInvalid:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},isShowAffix:!1,isABAddressNA:{type:Boolean,value:!1},productType:{type:Number,value:0},isRecharge:{type:Boolean,value:!1}},attached:function(){var e=this;x.default.addHandler("getNavHeight",(function(t){e.setData("navHeight",t)})),this.triggerEvent("telnumberchange",this.data.addressInfo&&this.data.addressInfo.telNumber||"")},detached:function(){x.default.clearEvents(["getNavHeight"])},methods:{onClick:function(){(0,P.bdxdAddLog)(this,{compTargetId:"ssv_513",userExtra:{productType:this.data.productType}}),this.data.disabled||this.triggerEvent("addressselect")},onAffixClick:function(){(0,P.bdxdAddLog)(this,{compTargetId:"ssv_513",userExtra:{productType:this.data.productType}}),this.triggerEvent("addressselect")},onChooseAddress:function(e){(0,P.bdxdAddLog)(this,{compTargetId:"ssv_513",userExtra:{productType:this.data.productType}}),this.triggerEvent("addressSelectNA",e.detail)},onChooseAddressEmpty:function(e){(0,P.bdxdAddLog)(this,{compTargetId:"ssv_514",userExtra:{productType:this.data.productType}}),this.triggerEvent("addressAddNA",e.detail)},getName:function(e){this.triggerEvent("getName",e.detail)},getTelephone:function(e){this.triggerEvent("getTelephone",e.detail)},getArea:function(e){this.triggerEvent("getArea",e.detail)},getAddress:function(e){this.triggerEvent("getAddress",e.detail)},onInput:function(e){this.triggerEvent("telnumberchange",e.detail.value)}}})})),window.define("723",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I="onchange",T="ontipclick";Component({options:{addGlobalClass:!0},properties:{checked:{type:Boolean,value:!1},text:{type:String,value:""},textPosition:{type:String,value:"before"},selectIcon:{type:String,value:"iconchecksuccess"},unSelectIcon:{type:String,value:"iconweixuan"},selectIconStyle:{type:Object,value:{color:"#EB1729"}},unSelectIconStyle:{type:Object,value:{}},needTip:{type:Boolean,value:!1}},externalClasses:["container-class","text-class"],methods:{checkChange:function(){this.triggerEvent(I)},tipClickHandle:function(){this.triggerEvent(T)}}})})),window.define("725",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(82),x=(I=T)&&I.__esModule?I:{default:I},P=e(51),D=e(58);var _="https://m.baidu.com/usrprofile?action=agreement&page=copy",k="https://m.baidu.com/usrprofile?action=agreement&page=index",A="https://mall-static.cdn.bcebos.com/dxdjx/h5/html/dxdPrivacyAgreement.html";x.default[x.default.currentEnv].reqOrigin;Component({properties:{isShow:{type:Boolean,value:!1},canscrollY:{type:Boolean,value:!0},stateTitle:"",stateType:1},data:{btnText:"确认"},methods:{onClickClose:function(){this.triggerEvent("closeStatement")},toKnowledge:function(){(0,D.jumpToInnerSwan)({path:P.PAGES.COMMUNICATE_WEB_VIEW,params:{url:_}})},toDisclaimer:function(){(0,D.jumpToInnerSwan)({path:P.PAGES.COMMUNICATE_WEB_VIEW,params:{url:k}})},toPrivacy:function(){(0,D.jumpToInnerSwan)({path:P.PAGES.COMMUNICATE_WEB_VIEW,params:{url:A}})}}})})),window.define("727",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T,x,P=e(51),D=e(284),_=e(93),k=e(100),A=e(58),j=e(129),O=e(4),L=e(81),E=e(728),N=z(e(126)),R=(z(e(82)),e(119)),M=e(56),B=e(170),F=z(e(3)),U=e(65),G=(e(323),e(729)),H=z(e(343)),q=z(e(513));function z(e){return e&&e.__esModule?e:{default:e}}function V(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var W,J,X="未提交的订单将不会为您保留库存，请尽快提交~",K={title:"确认要放弃付款吗?",content:X,confirmText:"再想想",cancelText:"暂时放弃",isShowing:!1},Q=(Y(T={},P.PAYMENT.ONLINE,"百度为您的资金安全保驾护航"),Y(T,P.PAYMENT.OFFLINE,"不支持平台活动和平台券"),T),$=(0,O.getAppId)()||"",Z="收件人不能为空",ee="联系方式不能为空",te="请输入正确格式的手机号",oe=1,ae={title:"提示",confirmColor:"#3388ff",showCancel:!1},ie={title:"关于“度小店品鉴官”",content:"“度小店品鉴官”是度小店官方百家号，每日推荐爆款好物，特惠活动资讯，更有海量福利定期放送。您若取消勾选，不影响正常下单。",showCancel:!1,confirmText:"我知道了"},ne={content:"若您使用优惠券、红包等对商品价格进行抵扣，抵扣后价格预估为0元，为提升交易真实性，您需支付调整款0.01元。",showCancel:!1,confirmText:"知道了"},re=(Y(x={},P.PAYMENT.ONLINE,"AT-order-submit-pay-online"),Y(x,P.PAYMENT.OFFLINE,"AT-order-submit-pay-offline"),x),se=2,de=1,ue="bdnetdisk"===r().globalData.siteData.host;Component({options:{addGlobalClass:!0},behaviors:[(0,R.loginBehavior)()],data:{isDataBack:!1,address:null,payTypeList:[],payType:0,subscribeChecked:!0,followAuthorChecked:!0,isShowFollowAuthor:!1,goods:[],notBuyGoods:[],isMultiShop:!1,cardTypeMap:P.ORDER_GOODS_CARD_TYPE,totalAmount:0,totalPaymentAmount:0,totalDiscountAmount:0,posting:!1,freightText:"",isFreightNumber:!1,reductAmount:0,coupons:{shopCoupons:[],unableCoupons:[],platformCoupons:[]},confirmComplate:!1,userCardInfo:{userName:{value:""},telNumber:{value:""}},redPackets:{availablePlatformRedPackets:[],unablePlatformRedPackets:[],usePlatformRedPacket:!0,platformRedPacketDiscountAmount:""},showRedPacket:!1,orderType:0,goodsTypeMap:P.goodsTypeMap,submitBarTipInfo:{tipText:"",show:!1,type:P.ORDER_SUBMIT_BAT_TIP_MAP.delivery},canBuy:!0,goodsTip:"",pageFrom:"",platformPromotionAmount:0,platformCouponDiscountAmount:0,addressId:"",showCoupons:!1,skuCount:0,isShowAffix:!1,freightTextStyle:{},isOverseas:0,stateTitle:"免责声明",stateType:"1",showStatement:!1,isIdentify:0,openOverseas:0,identyName:"",identyId:"",hasNPriceCoupon:!1,tips:"",navigationConfig:{title:"确认订单",customBack:!0,customHome:!0,showHome:!1,backgroundImage:"linear-gradient(180deg, #FFFFFF 0%, #F5F5F5 100%)"},navConfigChange:!0,payPanelStyle:P.PAY_PANEL_STYLE,dealId:"",appKey:"",inlinePaySign:"",isOnlinePayment:!1,paymentAmountForPanel:"0",productType:0,isRecharge:!1,isLightning:!1,isPostPayment:!1,isInBaiduLite:!0,isInIOS:!0,isNft:!1,isVerifyPassName:!1,isDisabledInputNumber:!1,certReturnParams:"{}",isInBDNetDisk:ue,isABAddressNA:!ue,userDeny:!1,goodsInvalid:!1,orderData:{skuCount:1,buyerMessage:""},isBjhColumn:!1,freightCostAmount:0,activityPtomotionList:[],couponsMulti:[],totalShopCouponDiscountAmount:0,adjustPrice:0},logicData:{ucId:"",userPayAmount:0,orderId:"",batchId:"",skus:[],message:"",shopCartMessage:{},freightCostAmount:0,canBuy:!0,disabledReason:"",chooseCoupons:{},useCoupon:!1,choosePlatformCoupons:{},usePlatformCoupon:!1,promotionInfo:[],url:"",paymentAmount:0,canUsePlatform:!0,realTotalPaymentAmount:0,spuIds:"",lastOrderInfo:null,groupPromotionInfo:null,couponDiscountAmount:"0",verifyName:"",verifyId:"",hasNPriceCoupon:!1,canUsePlatformSeckill:!0,formName:"",formTel:"",formArea:{},formAddress:"",shopId:"",spuList:[],isShopCart:!1,notBuySkuIdGoods:[],notBuySkuIds:[],shopCartCoupon:{},localGoods:[],lastAddressId:"",promptWordsVos:[],scrollTop:0,navHeight:64,payPanelDomInfo:{},submitBarDomInfo:{},hasPayPanelTip:!1,hasDeliveryTip:!1,usePlatformRedPacket:!0,canUsePlatformRedPacket:!0,lastIsUserSelectCoupon:!1,lastIsSelectRedPacket:!1,discount:0,platformDiscountAmount:0,platformCouponDiscountAmount:0,isEmptyAddress:!0,isAgreeNftStatement:!1,chooseCouponsMulti:[],isUserSelectCouponMulti:!1},lifetimes:{created:function(){var e=this,t=n.createSelectorQuery().in(this).select(".address-container");this.getAddrNodeRect=(0,O.getNodeRect)(t),this.debounceMsgEmitter=O.debounce.call(this,(function(t,o){var a=e.data.orderData,i=void 0===a?{}:a;i.buyerMessage=t,e.setData({orderData:i,certReturnParams:JSON.stringify({orderData:i})}),o?e.logicData.shopCartMessage[o]=t:e.logicData.message=t}),200),r().globalData.siteData.channelInfo.authorId&&this.setData({isShowFollowAuthor:!0})},attached:function(){var e=this;this.readQuerySkus(),F.default.addHandler("getNavHeight",(function(t){var o=+t.replace("px","");e.logicData.navHeight=o}));var t=(0,O.throttle)((function(t){e.listenScroll(t)}),15).bind(this);F.default.addHandler("onPageScroll",(function(e){t(e.scrollTop)}));var o=n.getSystemInfoSync(),a=o.host,i=o.system;this.setData({isInBaiduLite:"bdlite"===a,isInIOS:!!~i.indexOf("iOS")})}},pageLifetimes:{show:function(){var e=this,t=this.data,o=t.isNft,a=t.confirmComplate,i=t.orderType,n=t.isRecharge;if(!t.goodsInvalid){var s="success"===r().globalData.dxdjxWebViewMessage;this.setData({isVerifyPassName:s}),o&&!s&&this.getUserNameVerify(),this.logicData.lastOrderInfo?this.jumpOrderDetail():!a||i===P.goodsTypeMap.virtualCard||n||o||this.data.isABAddressNA||(0,O.isExistBduss)().then((function(){e.queryAddressInfo()})).catch((function(e){(0,O.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-address"},[P.logTypeMap.error])}))}}},observers:{userDeny:function(e){this.setData({isABAddressNA:!e})}},methods:{getTips:function(){var e=this,t=this.logicData,o=t.shopId,a=t.spuIds;this.$request({url:P.API.getTips,data:{content:JSON.stringify({shopId:o,spuId:a}),scenes:[3,4]}}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.data||{3:"",4:X};e.setData({tips:o[3]}),K.content=o[4]}))},$checkLoginSuccessCb:function(){this.orderConfirm()},$loginSuccessCb:function(){this.orderConfirm()},getOrderCpsInfo:function(){var e=this,t=P.API.getRetailOcpc,o={shopId:this.logicData.shopId};if(!this.data.isLightning)return this.$request({url:t,data:o}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.data||{};Object.keys(o).length&&(e.retailCps=o)}));try{var a=JSON.parse(decodeURIComponent((0,O.parsePageQuery)().skus))[0].cpsInfo,i=(0,O.parsePageQuery)(),n=i.cpsType,r=void 0===n?"":n,s=i.authorId,d=void 0===s?"":s,u=i.position,c=void 0===u?"":u,p=i.contentType,l=void 0===p?"":p,g=i.contentId,h=void 0===g?"":g,m=i.sch,f=void 0===m?"":m,v=i.ch,b=void 0===v?"":v,w={cpsType:r||a.cpsType,authorId:d||a.authorId,position:c||a.position,contentType:l||a.contentType,contentId:h||a.contentId,sch:f||a.sch,ch:b||a.ch};return this.retailCps=w,w}catch(a){this.$request({url:t,data:o}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.data||{};Object.keys(o).length&&(e.retailCps=o)}))}},getUserNameVerify:function(){var e=this;this.data.isNft&&!this.data.isVerifyPassName&&this.$request({url:P.API.getVerify,data:{type:se}}).then((function(t){t&&t.data&&Number(t.data.resultCode)===de&&e.setData({isVerifyPassName:!0})}))},linkToUserAgreement:function(){(0,A.jumpToInnerSwan)({path:P.PAGES.COMMUNICATE_WEB_VIEW,params:{url:"https://mall-static.cdn.bcebos.com/dxdjx/h5/html/xcxUserAgreement.html"}})},openDisclaimer:function(e){var t=e.target.dataset,o=t.type,a={showStatement:!0,stateTitle:t.title,stateType:o};"3"===o&&(a=Object.assign({},a,{openOverseas:++oe})),this.setData(a),n.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#3388FF"})},closeStatement:function(){this.setData({showStatement:!1})},queryAddressInfo:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=P.API.queryAddressDetail,i=null;return t&&(i={addrId:r().globalData.siteData.addrId}),this.$request({url:a,data:i}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.data||{};if(!e.data.isABAddressNA||o||!a.realPhone){var i={addrId:a.addrId,telNumber:a.realPhone,userName:a.name,provinceName:a.provinceName,cityName:a.cityName,countyName:a.districtName,townName:a.townName,detailInfo:a.detailAddr,provinceCode:a.provinceId,cityCode:a.cityId,countyCode:a.districtId,townCode:a.townId},r="{}"!==JSON.stringify(e.logicData.formArea);e.setData({address:r?e.getAddressObj({type:2}):i});var s=!1;r||i.addrId===e.logicData.lastAddressId||(s=!0,e.logicData.lastAddressId=i.addrId),n.nextTick((function(){e.orderCalculate({isAddressChange:s})}),0)}})).catch((function(e){(0,O.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-address"},[P.logTypeMap.apiError]),e.statusCode!==P.RESPONSE_STATUS.LIMIT&&(0,O.normalToast)({title:e.statusInfo})}))},addressSelect:function(){this.data.address&&this.data.address.userName?(0,A.jumpToInnerSwan)({path:P.PAGES.ADDRESS_LIST,params:{from:"orderSubmit"}}):(0,A.jumpToInnerSwan)({path:P.PAGES.ADDRESS_EDIT,params:{from:"orderSubmit"}})},addressAddNA:function(e){var t=e.detail||{};"user deny"===t.errMsg?((0,O.bdxdAddLog)(this,{compTargetId:"ssv_515",userExtra:{productType:this.data.productType}}),this.setData({userDeny:!0})):this.authorizedNAAddressSelect(t)},addressSelectNA:function(e){var t=e.detail||{};"user deny"===t.errMsg?((0,O.bdxdAddLog)(this,{compTargetId:"ssv_515",userExtra:{productType:this.data.productType}}),this.setData({userDeny:!0}),this.addressSelect()):this.authorizedNAAddressSelect(t)},authorizedNAAddressSelect:function(e){var t=this;if("{}"!==JSON.stringify(e)){var o=(0,O.isEmptyObject)(this.data.address)||!this.data.address.telNumber;if("fail"!==e.errMsg&&"获取地址失败"!==e.errMsg&&"close failed"!==e.errMsg||((0,O.bdxdAddLog)(this,{compTargetId:"ssv_543",userExtra:{productType:this.data.productType}}),(0,O.isExistBduss)().then((function(){t.queryAddressInfo(!1,o)})).catch((function(e){(0,O.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-address"},[P.logTypeMap.error])}))),"chooseAddress:ok"===e.errMsg){this.logicData.isEmptyAddress&&(0,O.bdxdAddLog)(this,{compTargetId:"ssv_542",userExtra:{productType:this.data.productType}}),this.logicData.isEmptyAddress=!1;var a=["telNumber","userName","provinceName","cityName","countyName","townName","detailInfo","provinceCode","cityCode","countyCode","townCode"],i=(0,U.pick)(e,a),r=!a.every((function(e){return i[e]===t.data.address[e]}));this.setData({address:i}),n.nextTick((function(){t.orderCalculate({isAddressChange:r})}),0)}}},getName:function(e){this.logicData.formName=e.detail.name},getTelephone:function(e){this.logicData.formTel=e.detail.telephone},getArea:function(e){var t=e.detail.area;this.logicData.formArea=t,this.setData({address:this.getAddressObj({type:2})}),this.orderCalculate({isAddressChange:!0})},getAddress:function(e){this.logicData.formAddress=e.detail.detailAddress},telnumberUpdate:function(e){this.setData(Y({},"address.telNumber",e.detail))},changeNftAgreeState:function(e){this.logicData.isAgreeNftStatement=e.detail&&e.detail.isAgreeStatement},submitHandler:function(e){var t=this.logicData,o=t.spuIds,a=t.shopId,i=t.lastOrderInfo;if(n.canIUse("onError")&&n.onError((function(e){(0,O.addErrorLog)(e,{compTargetId:"order-submit-err"},[P.logTypeMap.error])})),this.verifySubmitInfo()){if(i)return this.requestPayment(i);(0,O.bdxdAddLog)(this,{compTargetId:"ssv_137",actionId:"site_bar_click",userExtra:{type:"confirm_purchase",spuIds:o,shopId:a,comp_material_id:o,productType:this.data.productType}}),this.setData("posting",!0),n.showLoading({title:"订单提交中，请耐心等待",mask:!0}),this.createOrderHandle(e)}},getAddressObj:function(e){var t=e.addrId,o=e.type,a=this.logicData,i=a.formName,n=a.formTel,s=a.formArea,d=a.formAddress,u=s.province,c=s.city,p=s.town,l={addrId:t||r().globalData.siteData.addrId||"",userName:i,provinceName:u&&u.name,cityName:c.name,countyName:p&&p.name,townName:"",detailInfo:d,provinceCode:u&&u.value,cityCode:c&&c.value,countyCode:p&&p.value,townCode:""};return 1===o?Object.assign({},l,{telNumber:n}):2===o?Object.assign({},l):void 0},verifySubmitInfo:function(){var e=this.data,t=e.posting,o=e.isNft,a=e.isRecharge,i=e.address,r=e.orderType,s=e.isVerifyPassName,d=this.logicData,u=d.isAgreeNftStatement,c=d.disabledReason;if(t)return!1;if(o){if(!u)return(0,O.normalToast)({title:"请先同意数字藏品购买协议"}),n.pageScrollTo({scrollTop:0}),!1;if(!s)return(0,O.normalToast)({title:"数字藏品需实名认证后才能购买"}),!1}if(a){var p=i&&i.telNumber;if(!p)return(0,O.normalToast)({title:"请填写11位手机号"}),!1;if(!/^1[3456789]\d{9}$/.test(p))return(0,O.normalToast)({title:"手机号格式错误，请重新填写"}),!1}if(c)return this.orderCalculate(),(0,O.normalToast)({title:c}),!1;if((r===P.goodsTypeMap.virtualCard||o)&&this.checkVirtualForm())return!1;if(r!==P.goodsTypeMap.virtualCard&&!o&&!this.checkAddress())return!1;var l=this.getOverseaParam(),g=l.isOverseas,h=l.verifyName,m=l.verifyId;return!!(!g||h&&m)||((0,O.normalToast)({title:"购买海外商品请先进行实名认证"}),!1)},createOrderHandle:function(e){var t=this,o=e&&e.detail&&e.detail.formId,a=function(){clearTimeout(t.addrTime),N.default.hgzAs(P.antifraudConfig.userGrowth).then((function(e){t.orderSubmit({formId:o,antiCheat:e})})).catch((function(){t.orderSubmit({formId:o})}))};(0,_.delayFunc)((function(){var e=t.data,o=e.orderType,i=e.isNft,n=e.isABAddressNA,r=e.address;o===P.goodsTypeMap.virtualCard||i||r&&r.telNumber||n?a():t.addAddress().then((function(e){t.logicData.isEmptyAddress&&(0,O.bdxdAddLog)(t,{compTargetId:"ssv_505",userExtra:{productType:t.data.productType}}),t.logicData.isEmptyAddress=!1,t.setData({address:t.getAddressObj({addrId:e,type:1})}),a()})).catch((function(e){e&&500===e.status?a():(t.setData("posting",!1),(0,O.normalToast)({title:e.statusInfo}))}))}))},getUseCoupons:function(e,t){var o=this,a=e.some((function(e){if(e.selected)return o.logicData.useCoupon=!0,o.logicData.chooseCoupons=e,!0})),i=(t||[]).some((function(e){if(e.selected)return o.logicData.usePlatformCoupon=!0,o.logicData.choosePlatformCoupons=e,!0}));a||(this.logicData.useCoupon=!1,this.logicData.chooseCoupons={}),i||(this.logicData.usePlatformCoupon=!1,this.logicData.choosePlatformCoupons={})},getMPriceNPromotion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){var t=e.promotionType,o=e.limitCondition,a=e.discountPrice,i=e.totalSkuCount,n=e.skuList,r=e.sellAmount,s=e.promotionAmount,d=(0,D.getPromotionTitle)({promotionType:t,limitCondition:o,discountPrice:a});if(d)return{activityTitle:d,totalSkuCount:i,skuList:n,sellAmount:r,promotionAmount:s}})).filter((function(e){return e}))||[];return t},getPtomotionBest:function(e){var t="";return e.length&&(t=e.sort((function(e,t){return e.promotionAmount-t.promotionAmount}))[0].activityTitle,e.length>1&&(t+="等")),t},getCouponsMulti:function(e){return e.map((function(e){if((e.shopCoupons||[]).length||(e.shopUnableCoupons||[]).length)return{shopName:e.shop.name,shopCoupons:e.shopCoupons,shopUnableCoupons:e.shopUnableCoupons}})).filter((function(e){return e}))},getCouponsMultiAble:function(e){var t=[];return e.map((function(e){e.shopCoupons.map((function(e){e.selected&&t.push(e)}))})),t},getShopRedPacketList:function(e){return e.map((function(e){return{activityTitle:e.shopName,totalSkuCount:e.totalSkuCount,skuList:e.skuList,sellAmount:e.shopSellAmount,promotionAmount:e.shopSplitAmount}}))||[]},getCanBySkus:function(){var e=this.logicData.notBuySkuIds||[];return this.logicData.skus.filter((function(t){return!e.includes(t.skuId)}))},formatShopCartGoods:function(e){var t=this;this.logicData.notBuySkuIdGoods=[];var o=e.map((function(e){var o=e.skus.filter((function(e){return e.showTip}))||[];t.logicData.notBuySkuIdGoods=t.logicData.notBuySkuIdGoods.concat(o);var a=e.skus.filter((function(e){return!e.showTip})),i=t.getSkuCount([{skus:a}]);return Object.assign({},e,{skus:a,skuCount:i})})).filter((function(e){return e.skus.length>0})),a=o.map((function(e){return e.shop&&e.shop.shopId}));return Object.keys(this.logicData.shopCartCoupon).forEach((function(e){a.includes(e)||delete t.logicData.shopCartCoupon[e]})),o},getShopCartUseCoupon:function(e){var t=void 0;return e.some((function(e){if(e.selected)return t=e,!0})),t},goodsMaxBuyNumChange:function(e){var t=this.data.goods&&this.data.goods[0]&&this.data.goods[0].skus||[],o=e&&e[0]&&e[0].skus||[];t.forEach((function(e){var t=o.find((function(t){return t.skuId===e.skuId}));e.max=Math.min(e.max,t.restStock||t.count)})),this.setData({goods:this.data.goods})},goodsAdaptor:function(e,t){var o=this,a=e||{},i=a.shop||{},n=a.skus||[],r=t.groupPromotionInfo,s=(t.notBuySkuIds,t.unBuySkus),d=t.orderType,u=this.matchFreightText(+a.shopFreightCostAmount);return i.shopId&&(this.logicData.shopCartCoupon[i.shopId]=this.getShopCartUseCoupon(a.shopCoupons||[])),{shop:{shopImg:i.logo,shopName:i.name,shopId:i.shopId,url:i.url,shopServiceLevel:i.shopDsr&&i.shopDsr.shopServiceLevel},shopFreightCostAmount:a.shopFreightCostAmount||"",shopTotalPrice:a.shopTotalPrice||"",shopPromotionAmount:a.shopPromotionAmount||"",shopTotalPaymentAmount:a.shopTotalPaymentAmount||"",coupons:{shopCoupons:a.shopCoupons||[],unableCoupons:a.shopUnableCoupons||[],platformCoupons:[]},shopCouponDiscountAmount:a.shopCouponDiscountAmount||"",shopReturnExpressFee:a.shopReturnExpressFee,freightText:u,isFreightNumber:/\d/.test(u),adjustPrice:+e.adjustPrice/100,skus:n.map((function(e,t){var a=d===P.goodsTypeMap.virtualCard?20:99,i=e.restStock||a,n=a,u=a,c="",p="",l=s.find((function(t){return+t.skuId==+e.skuId}));e.spikeInfoVO&&((n=Math.min(e.spikeInfoVO.spikeRestStock,e.spikeInfoVO.spikeLimitNum-e.spikeInfoVO.userUsedNum)||a)<e.buyCount&&(o.logicData.skus[t].count=n,o.logicData.needCalculate=!0,(0,O.normalToast)({title:"已为您调整至最大可购买数量"}),o.setData({skuCount:n})),c=e.spikeInfoVO.spikePrice),r&&e.groupSkuInfo&&(u=r.groupLimitNum-r.userUsedNum||a,p=e.groupSkuInfo.promotionPrice);var g=Math.min(n,u,i,a),h=(r&&g===u?"拼团限购"+r.groupLimitNum+"件":"")||"宝贝已不能购买更多了";return Object.assign({},e,{skuId:e.skuId,spuId:e.spuId,goodsName:e.name,goodsImg:e.image,salePrice:p||c||e.salePrice,spec:(e.specifications||[]).map((function(e){return e.name+"："+e.value})),tigs:(e.goodsLabels||[]).map((function(e){return e.value})),labels:(e.goodsLabels||[]).filter((function(e){return 8===e.id||11===e.id||999999===e.id})),count:e.buyCount,restStock:i,showTip:!!l,errTip:(l||{}).tipsWords||"",max:g,maxDiabledText:h,isBrandProduct:!!~(e.spuDefineLabels||[]).findIndex((function(e){return 21==+e.id}))})}))}},orderConfirm:function(e){var t=this;(0,E.orderConfirm)(e).then((function(e){var o=e.data||{},a=o.coupons,i=void 0===a?[]:a,n=o.unavailablePlatformCoupons,s=o.availablePlatformCoupons,d=o.preposePayParamVo,u=void 0===d?{}:d,c=o.orderType,p=o.freightCostAmount,l=o.confirmGroupInfoVo,g=o.goods,h=void 0===g?[]:g,m=o.promotionVos,f=o.paymentAmount,v=o.timestamp,b=o.promptWordsVos,w=o.canBuyFlag,y=o.platformDiscountAmount,C=o.platformCouponDiscountAmount,S=o.discount,I=o.notBuySkuIds,T=o.unBuySkus,x=void 0===T?[]:T,D=o.isNft,_=o.payType,k=o.promotionAmount,A=o.totalPrice,j=o.totalPaymentAmount,L=o.paymentAmountCoin,E=o.sellAmount,N=o.platformPromotionAmount,R=o.isOverseas,M=o.couponDiscountAmount,B=o.totalDiscountAmount,F=o.availablePlatformRedPackets,U=o.unablePlatformRedPackets,G=o.platformRedPacketDiscountAmount,H=o.isPostPayment,q=o.platformPromotionList,z=void 0===q?[]:q,V=o.shopRedPacketList,Y=void 0===V?[]:V,W=o.totalShopCouponDiscountAmount,J=void 0===W?0:W,X=h[0].skus[0]&&h[0].skus[0].productType&&h[0].skus[0].productType;!!~(h[0].skus&&h[0].skus[0]&&h[0].skus[0].spuDefineLabels||[]).findIndex((function(e){return 21==+e.id}))&&(0,O.bdxdAddLog)(t,{compTargetId:"ssv_645"}),t.logicData.shopId=h[0].shop&&h[0].shop.shopId||"",t.logicData.ucId=h[0].shop&&h[0].shop.ucId||"",t.logicData.shopId||(0,O.addErrorLog)(null,{compTargetId:"order-confirm-shopId-null",goods:h,queryObj:(0,O.parsePageQuery)()},[P.logTypeMap.error]);var K=t.data.isMultiShop?[]:i,Q=t.data.isMultiShop?n:o.unableCoupons,$=s,Z=o.address||{},ee={addrId:Z.addrId,telNumber:Z.realPhone,userName:Z.name,provinceName:Z.provinceName,cityName:Z.cityName,countyName:Z.districtName,townName:Z.townName,detailInfo:Z.detailAddr,provinceCode:Z.provinceId,cityCode:Z.cityId,countyCode:Z.districtId,townCode:Z.townId};t.logicData.lastAddressId=Z.addrId||"",t.logicData.spuList=t.logicData.skus.map((function(e){return e.spuId})),ee.addrId?r().globalData.siteData.addrId=ee.addrId:ee.provinceName&&(r().globalData.siteData.addressSelected=ee);var te={userName:{value:Z.name},telNumber:{value:Z.realPhone}},oe=u.appKey,ae=void 0===oe?"":oe,ie=u.dealId,ne=void 0===ie?"":ie,re=t.matchFreightText(+p),se=t.checkGroupVaild(l);t.logicData.groupPromotionInfo=l,t.logicData.skus=function(e,t){var o={};return(e||[]).forEach((function(e){e.skus.forEach((function(e){o[e.skuId]={scene:e.scene,shipmentType:e.shipmentType,skuId:e.skuId,spuId:e.spuId,salePrice:e.salePrice,count:e.buyCount,shopId:e.shopId,isOverseas:e.isOverseas||0,hasReturnExpressFee:e.hasReturnExpressFee||!1}}))})),t.map((function(e){return Object.assign({},e,o[e.skuId])}))}(h,t.logicData.skus),t.logicData.promotionInfo=m,t.logicData.disabledReason="",t.logicData.freightCostAmount=p,t.logicData.paymentAmount=f,t.logicData.timestamp=v,t.logicData.promptWordsVos=b,t.logicData.unBuySkus=x,t.logicData.canBuy=0===w,t.logicData.platformDiscountAmount=y,t.logicData.platformCouponDiscountAmount=C,t.logicData.discount=S,t.logicData.notBuySkuIds=I,t.logicData.localGoods=h,t.setOrderErrTip(x),t.getUseCoupons(K,$);var de=t.getMPriceNPromotion(z),ue=t.getPtomotionBest(de),ce=t.getShopRedPacketList(Y),pe=h.map((function(e){return t.goodsAdaptor(e,{orderType:c,notBuySkuIds:I,unBuySkus:x,groupPromotionInfo:se?l:null})})),le=t.getCouponsMulti(h),ge={},he=t.getSkuCount(h);t.logicData.isShopCart&&(pe=t.formatShopCartGoods(pe)||[],t.logicData.shopId=pe[0]&&pe[0].shop&&pe[0].shop.shopId||"",t.data.isMultiShop||(ge.returnExpressFee=pe[0]&&pe[0].shopReturnExpressFee||null),he=t.getSkuCount(pe));var me=o.goods&&o.goods.length&&o.goods[0].skus.length&&o.goods[0].skus[0]&&o.goods[0].skus[0].bjhInfo,fe=me&&me.dxdClassMode?{isBjhColumn:!0}:{},ve=h[0]&&h[0].adjustPrice&&+h[0].adjustPrice/100;t.setData(Object.assign({},ge,{isDataBack:!0,productType:X,isNft:Boolean(D),goods:pe,notBuyGoods:t.logicData.notBuySkuIdGoods,address:ee,payTypeList:t.getPayTypeList(h),payType:_,userCardInfo:te,orderType:c,appKey:ae,dealId:ne,reductAmount:k,totalAmount:A,totalPaymentAmount:j,paymentAmountForPanel:L+"",freightText:re,isFreightNumber:/\d/.test(re),freightTextStyle:t.getFreightTextStyle(re),sellAmount:E,coupons:{shopCoupons:K,unableCoupons:Q,platformCoupons:$},canBuy:t.logicData.canBuy,platformPromotionAmount:N,skuCount:he,confirmComplate:!0,isOverseas:R||0,couponDiscountAmount:M,platformCouponDiscountAmount:C,totalDiscountAmount:B,redPackets:{availablePlatformRedPackets:F,unablePlatformRedPackets:U,usePlatformRedPacket:t.logicData.usePlatformRedPacket,platformRedPacketDiscountAmount:G},showRedPacket:(F||[]).length>0||(U||[]).length>0,isRecharge:X===P.goodsTypeMap.recharge&&!D,isLightning:X===P.goodsTypeMap.lightning,isPostPayment:!!H,freightCostAmount:+p},fe,{activityPtomotionList:de,activityPtomotionBest:ue,activityShopRedPacketList:ce,couponsMulti:le,totalShopCouponDiscountAmount:J,adjustPrice:ve}),(function(){D&&t.handleNftReturnParams(),t.logicData.needCalculate&&t.orderCalculate(),t.getUserNameVerify(),t.getOrderCpsInfo(),1===t.logicData.skus.length&&t.getTips(),t.logicData.isEmptyAddress=(0,O.isEmptyObject)(Z),(0,O.bdxdAddLog)(t,{compTargetId:(0,O.isEmptyObject)(Z)?"ssv_495":"ssv_496",userExtra:{productType:X}}),(0,O.bdxdAddLog)(t,{compTargetId:Number(B)>0?"ssv_494":"ssv_493"}),t.sendPromotionLog({coupons:i,promotionVos:m,availablePlatformRedPackets:F,availablePlatformCoupons:s}),(0,O.sdkSetPageData)({ucId:t.logicData.ucId,wid:r().globalData.siteData.wid,extData:{bizInfo:{spuId:t.logicData.spuList&&t.logicData.spuList[0],shopId:t.logicData.shopId}}}),(0,O.bdxdAddLog)(t,{actionId:"site_comp_show",compTargetId:"page_req_success"})}))})).catch((function(e){if(e&&e.status===P.RESPONSE_STATUS.NOT_LOGIN)t.$setLoginStatus(!1);else{if(e&&(e.status===P.RESPONSE_STATUS.GOODS_INVALID||e.status===P.RESPONSE_STATUS.SKU_DELETED||e.status===P.RESPONSE_STATUS.NO_STOCK)){var o=e.data||{},a=o.address||{},i={addrId:a.addrId,telNumber:a.realPhone,userName:a.name,provinceName:a.provinceName,cityName:a.cityName,countyName:a.districtName,townName:a.townName,detailInfo:a.detailAddr,provinceCode:a.provinceId,cityCode:a.cityId,countyCode:a.districtId,townCode:a.townId};t.logicData.lastAddressId=a.addrId||"",i.addrId?r().globalData.siteData.addrId=i.addrId:i.provinceName&&(r().globalData.siteData.addrId="",r().globalData.siteData.addressSelected=i);var n={userName:{value:a.name},telNumber:{value:a.realPhone}},s=o.goods[0].shop||{},d=o.goods[0].skus[0]||{};return t.setData({address:i,userCardInfo:n,skuCount:0,totalPaymentAmount:"-",totalAmount:"-",isDisabledInputNumber:!0,goods:[{shop:{shopImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/xiongzhangLogoTransparent.png",shopName:s.name},skus:[{spuId:d.spuId,goodsName:d.name,goodsImg:d.image,spec:(d.specifications||[]).map((function(e){return e.name+"："+e.value})),salePrice:"-"}]}],confirmComplate:!0,orderType:o.orderType,canBuy:!1,goodsInvalid:!0}),void(t.logicData.canBuy=!1)}(0,O.addErrorLog)(e,{compTargetId:"bdxd-log-req-order-confirm"},[P.logTypeMap.error,P.logTypeMap.apiError]),t.setData("confirmComplate",!0);var u=P.errorTips[P.API.orderConfirm][e&&e.status]||e.statusInfo||P.errorTips[P.API.orderConfirm][500];(0,O.jumpErrorPageUrl)({errText:u,errTitle:"订单确认"}),t.logicData.disabledReason=u}})).finally((function(){var e=getCurrentPages();n.nextTick((function(){e[e.length-1].removeSkeleton&&e[e.length-1].removeSkeleton(),(0,O.isDxdjx)()&&n.loadSubPackage({root:"wjz/bdxd/submit-related"})}))}))},sendPromotionLog:function(e){var t=e.coupons,o=void 0===t?[]:t,a=e.promotionVos,i=void 0===a?[]:a,n=e.availablePlatformRedPackets,r=void 0===n?[]:n,s=e.availablePlatformCoupons,d=void 0===s?[]:s,u=o.map((function(e){return[e.bizType,e.couponType,e.rangeType].join("-")})),c=i.map((function(e){return[e.promotionBizType,e.promotionType,e.scopeType].join("-")})),p=r.map((function(e){return[e.bizType,e.couponType,e.rangeType].join("-")})),l=d.map((function(e){return[e.bizType,e.couponType,e.rangeType].join("-")}));(0,O.bdxdAddLog)(this,{compTargetId:"dxdjx_promotion_log",userExtra:{from:"subOneApp",couponsStr:u.join(","),promotionsStr:c.join(","),redPacketsStr:p.join(","),paltformCouponsStr:l.join(",")}})},checkGroupVaild:function(e){return!!e&&!(e.groupLimitNum&&!(e.groupLimitNum-e.userUsedNum))},handleNftReturnParams:function(){var e=(0,O.parsePageQuery)(),t=e.from,o=e.returnParams,a=void 0===o?"{}":o;if("pass"===t){var i=JSON.parse(a).orderData,n=void 0===i?{}:i;this.setData(n),this.setData({orderData:n,certReturnParams:a}),this.logicData=Object.assign({},this.logicData,n,{needCalculate:!0})}},getSkuCount:function(e){var t=0;return e.forEach((function(e){e.skus.forEach((function(e){t+=e.count}))})),t},getPayTypeList:function(e){var t=e[0]||{},o=(t.skus&&t.skus[0]||{}).supportPays||[];~o.findIndex((function(e){return e.code===P.PAYMENT.ONLINE}))&&this.setData({isOnlinePayment:!0}),"shopCart"===this.data.pageFrom&&(o=o.filter((function(e){return e.code===P.PAYMENT.ONLINE})));var a=o.length;return o.map((function(e){return Object.assign({},e,{desc:Q[e.code]||"",text:a>1?e.text:"支付方式",content:e.text,automaticClass:re[e.code]})}))},handleBottomTipClick:function(e){if(e&&e.submitBarTipInfo&&e.submitBarTipInfo.type===P.ORDER_SUBMIT_BAT_TIP_MAP.payPanel){var t=this.logicData,o=t.payPanelDomInfo,a=t.navHeight;n.pageScrollTo({scrollTop:o.top-a})}},getSubmitBarDomInfo:function(e){this.logicData.submitBarDomInfo=e.rect},isPayPaneInView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.logicData,o=t.payPanelDomInfo,a=t.navHeight,i=t.submitBarDomInfo,n=o.top,r=void 0===n?0:n,s=o.bottom,d=void 0===s?0:s,u=i.height,c=void 0===u?55:u,p=i.bottom;(r||d)&&(e+a>=d||e+p-c<=r?this.data.submitBarTipInfo.show||this.setData({submitBarTipInfo:{tipText:P.PAY_PANEL_TIP,show:!0,type:P.ORDER_SUBMIT_BAT_TIP_MAP.payPanel}}):this.data.submitBarTipInfo.show&&this.setData({submitBarTipInfo:{tipText:P.PAY_PANEL_TIP,show:!1,type:P.ORDER_SUBMIT_BAT_TIP_MAP.payPanel}}))},getPayPanelDomInfo:function(){var e=this;(0,B.getFeedNodeRect)(".payment_panel_wrapper",this).then((function(t){e.logicData.payPanelDomInfo=Object.assign({},t,{top:(t&&t.top||0)+e.logicData.scrollTop,bottom:(t&&t.bottom||0)+e.logicData.scrollTop}),e.isPayPaneInView(e.logicData.scrollTop)}))},conputeBottomBarTip:function(){var e=this.logicData,t=e.unBuySkus,o=void 0===t?[]:t,a=e.canBuy;o.length&&!a||(this.getPayPanelDomInfo(),this.logicData.hasPayPanelTip=!0)},setOrderErrTip:function(e){if(this.logicData.canBuy&&!this.logicData.hasPayPanelTip&&this.setData({submitBarTipInfo:{tipText:"",show:!1,type:P.ORDER_SUBMIT_BAT_TIP_MAP.delivery}}),!e.length)return this.logicData.hasDeliveryTip=!1,void this.conputeBottomBarTip();if(this.logicData.isShopCart);else{var t=e&&e[0]&&e[0].tipsWords||"";this.setData({submitBarTipInfo:{tipText:t,show:!0,type:P.ORDER_SUBMIT_BAT_TIP_MAP.delivery}})}},getLocalGoods:function(e){var t=this.logicData.localGoods,o=t.map((function(e){return e.shop&&e.shop.shopId||""})),a=e.map((function(e){return e.shop&&e.shop.shopId||""}));return o.map((function(o,i){var n=t[i]||{},r=n.skus||[],s=r.map((function(e){return e.skuId})),d=a.indexOf(o),u=-1!==d&&e[d]||{},c=u&&u.skus||[],p=c.map((function(e){return e.skuId})),l=n.shop,g=s.map((function(e,t){var o=r[t]||{},a=p.indexOf(e),i=-1!==a&&c[a]||{};return Object.assign({},o,i)}));return Object.assign({},n,u,{skus:g,shop:l,shopReturnExpressFee:u.shopReturnExpressFee||null})}))},orderCalculate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r().globalData.siteData.channelInfo,a=t.isUserSelectCoupon,i=t.isUserSelectRedPacket,n=t.isAddressChange,s=this.logicData,d=s.skus,u=s.useCoupon,c=s.usePlatformCoupon,p=s.usePlatformRedPacket,l=(s.shopCartCoupon,s.choosePlatformCoupons),g=s.chooseCoupons,h=s.isShopCart,m=s.groupPromotionInfo,f=s.canUsePlatform,v=s.canUsePlatformSeckill,b=s.canUsePlatformRedPacket,w=s.chooseCouponsMulti,y=s.isUserSelectCouponMulti,C=this.data,S=C.payType,I=C.isMultiShop,T=C.address,x=C.redPackets,D=C.orderType,_=C.couponsMulti,k=C.isABAddressNA;void 0===a&&void 0===i&&(this.logicData.lastIsUserSelectCoupon=!1,this.logicData.lastIsSelectRedPacket=!1);var A=P.API.orderCalculate,j={skus:d,useCoupon:!a||(u||c),couponTakeList:[],payType:S,usePlatformRedPacket:!i||p,redPacketTakeList:[]};if(I){var L,E=this.getCouponsMultiAble(_),N=y?w:E;(L=j.couponTakeList).push.apply(L,V(N)),c&&j.couponTakeList.push(l),j.couponTakeList.length&&(j.useCoupon=!0)}else a&&u&&j.couponTakeList.push(g),a&&c&&j.couponTakeList.push(l);return h&&n&&(j.couponTakeList=[],j.useCoupon=!0),i&&p&&(j.redPacketTakeList=x.availablePlatformRedPackets),(T.userName||T.provinceName)&&(j.address=T,k&&(r().globalData.siteData.addrId=""),r().globalData.siteData.addressSelected=T),m&&(j.groupPromotionInfo=m),f||(j.unUsePlatform=1),v||(j.unRecommendPromotionTypeSet=[5]),b||(j.disablePlatformRedPacket=!0,j.usePlatformRedPacket=!1,j.redPacketTakeList=[]),o&&o.zhiboParams&&"{}"!==o.zhiboParams&&j.skus.length&&(j.skus[0].cpsInfo.zhiboParams=o.zhiboParams),this.$request({url:A,data:j,needHideLoading:!1}).then((function(t){var o=t.data||{},a=o.coupons,i=o.availablePlatformCoupons,n=o.unavailablePlatformCoupons,r=o.promotionVos,s=o.freightCostAmount,d=o.paymentAmount,u=o.timestamp,c=o.canBuyFlag,p=o.promptWordsVos,l=o.platformCouponDiscountAmount,g=o.platformDiscountAmount,f=o.discount,v=o.unBuySkus,b=void 0===v?[]:v,w=o.notBuySkuIds,y=o.goods,C=void 0===y?[]:y,S=o.isOverseas,T=o.sellAmount,x=o.promotionAmount,P=o.totalPrice,_=o.totalPaymentAmount,k=o.totalDiscountAmount,A=o.paymentAmountCoin,O=o.platformPromotionAmount,L=o.couponDiscountAmount,E=o.availablePlatformRedPackets,N=o.unablePlatformRedPackets,R=o.platformRedPacketDiscountAmount,M=o.platformPromotionList,B=o.shopRedPacketList,F=void 0===B?[]:B,U=o.totalShopCouponDiscountAmount,G=void 0===U?0:U,H=I?[]:a,q=i,z=I?n:o.unableCoupons,V=e.matchFreightText(+s),Y=C[0].skus[0]&&C[0].skus[0].shipmentType;e.logicData.skus.forEach((function(e){e.shipmentType=Y})),e.logicData.promotionInfo=r||[],e.logicData.disabledReason="",e.logicData.freightCostAmount=s,e.logicData.paymentAmount=d,e.logicData.timestamp=u,e.logicData.promptWordsVos=p,e.logicData.unBuySkus=b,e.logicData.canBuy=0===c,e.logicData.platformCouponDiscountAmount=l,e.logicData.platformDiscountAmount=g,e.logicData.discount=f,e.logicData.notBuySkuIds=w;var W=e.checkGroupVaild(m);e.getUseCoupons(H,q);var J=e.getMPriceNPromotion(M),X=e.getPtomotionBest(J),K=e.getShopRedPacketList(F),Q={},$=e.getCouponsMulti(C);if(h){var Z=C&&e.getLocalGoods(C)||[],ee=Z&&Z.map((function(t){return e.goodsAdaptor(t,{orderType:D,unBuySkus:b,notBuySkuIds:w,groupPromotionInfo:W?m:null})}));ee=e.formatShopCartGoods(ee),Q.goods=ee,Q.notBuyGoods=e.logicData.notBuySkuIdGoods,Q.isOverseas=S||0,I||(Q.returnExpressFee=ee[0]&&ee[0].shopReturnExpressFee||null)}else e.goodsMaxBuyNumChange(C);var te=e.getSkuCount(C),oe=C[0]&&C[0].adjustPrice&&+C[0].adjustPrice/100;e.setData(Object.assign({},Q,{reductAmount:x,totalAmount:P,totalPaymentAmount:_,totalDiscountAmount:k,paymentAmountForPanel:A+"",freightText:V,isFreightNumber:/\d/.test(V),freightTextStyle:e.getFreightTextStyle(V),sellAmount:T,freightCostAmount:+s,coupons:{shopCoupons:H,unableCoupons:z,platformCoupons:q},canBuy:e.logicData.canBuy,platformPromotionAmount:O,couponDiscountAmount:L,platformCouponDiscountAmount:l,redPackets:{availablePlatformRedPackets:E,unablePlatformRedPackets:N,usePlatformRedPacket:j.usePlatformRedPacket,platformRedPacketDiscountAmount:R},showRedPacket:(E||[]).length>0||(N||[]).length>0,activityPtomotionList:J,activityPtomotionBest:X,couponsMulti:$,totalShopCouponDiscountAmount:G,activityShopRedPacketList:K,skuCount:te,adjustPrice:oe}),(function(){e.setOrderErrTip(b)}))})).catch((function(t){(0,O.addErrorLog)(t,{compTargetId:"bdxd-log-req-order-calculate"},[P.logTypeMap.apiError]);var o=P.errorTips[P.API.orderCalculate][t&&t.status]||t.statusInfo||P.errorTips[P.API.orderCalculate][500];e.logicData.disabledReason=o,t.statusCode!==P.RESPONSE_STATUS.LIMIT&&(0,O.normalToast)({title:o})}))},matchFreightText:function(e){return e>0?e:e<0?"请填写收货地址":"包邮"},getFreightTextStyle:function(e){return/\d+/g.test(e)?{"font-weight":"bold"}:{}},onShopCartChangeCoupon:function(e){if(e&&e.target&&e.target.dataset){var t=e.target.dataset.shop,o=void 0===t?{}:t;o.shopId&&(this.logicData.shopCartCoupon[o.shopId]=e.chooseCoupons)}this.logicData.lastIsUserSelectCoupon=!0,this.orderCalculate({isUserSelectCoupon:!0,isUserSelectRedPacket:this.logicData.lastIsSelectRedPacket})},onChangeCoupon:function(e){this.logicData=Object.assign({},this.logicData,{chooseCoupons:e.chooseCoupons,useCoupon:e.useCoupon,choosePlatformCoupons:e.choosePlatformCoupons,usePlatformCoupon:e.usePlatformCoupon,lastIsUserSelectCoupon:!0}),this.orderCalculate({isUserSelectCoupon:!0,isUserSelectRedPacket:this.logicData.lastIsSelectRedPacket})},onChangeCouponMulti:function(e){this.logicData=Object.assign({},this.logicData,{chooseCouponsMulti:e.chooseCouponsMulti,useCoupon:e.useCoupon,lastIsUserSelectCoupon:!0,isUserSelectCouponMulti:!0}),this.orderCalculate({isUserSelectCoupon:!0,isUserSelectRedPacket:this.logicData.lastIsSelectRedPacket})},onChangeRedPacket:function(e){this.logicData=Object.assign({},this.logicData,{usePlatformRedPacket:e.usePlatformRedPacket,lastIsSelectRedPacket:!0}),this.orderCalculate({isUserSelectRedPacket:!0,isUserSelectCoupon:this.logicData.lastIsUserSelectCoupon})},formatShopSpuInfos:function(e){var t=this,o={},a=this.getOcpcInfo(),i=r().globalData.siteData.channelInfo;return e.forEach((function(n){n.ocpcInfo||(n.ocpcInfo=a),n.shopId||(0,O.addErrorLog)(null,{compTargetId:"format-shopid-skus",shopId:n.shopId,skus:e},[P.logTypeMap.error]);var s=r().globalData.siteData.wid;if(n.ocpcInfo=Object.assign({},n.ocpcInfo,t.getAbTestParams(),{wid:s}),t.logicData.isShopCart){if(n.cpsInfo||(n.cpsInfo=i),t.retailCps&&n.shopId===t.logicData.shopId){var d=t.retailCps||{},u=d.cpsType,c=void 0===u?"":u,p=d.authorId,l=void 0===p?"":p,g=d.position,h=void 0===g?"":g,m=d.contentType,f=void 0===m?"":m,v=d.contentId,b=void 0===v?"":v,w=d.sch,y=void 0===w?"":w,C=d.ch,S=void 0===C?"":C;n.cpsInfo=Object.assign({},n.cpsInfo,{cpsType:c,authorId:l,position:h,contentType:f,contentId:b,sch:y,ch:S})}var I=i.sceneValue,T=void 0===I?"0":I,x=i.subSceneValue,D=void 0===x?"":x;n.cpsInfo=Object.assign({},n.cpsInfo,{sceneValue:T,subSceneValue:D})}else{var _=n.cpsInfo;if(n.cpsInfo=i,t.retailCps){var k=t.retailCps||{},A=k.cpsType,j=void 0===A?"":A,L=k.authorId,E=void 0===L?"":L,N=k.position,R=void 0===N?"":N,M=k.contentType,B=void 0===M?"":M,F=k.contentId,U=void 0===F?"":F,G=k.sch,H=void 0===G?"":G,q=k.ch,z=void 0===q?"":q;n.cpsInfo=Object.assign({},n.cpsInfo,{cpsType:j,authorId:E,position:R,contentType:B,contentId:U,sch:H,ch:z})}_.zhiboParams&&"{}"!==_.zhiboParams&&(n.cpsInfo.zhiboParams=_.zhiboParams)}o[n.shopId]||(o[n.shopId]=[]),o[n.shopId]=o[n.shopId].concat(n)})),Object.keys(o).map((function(e){return{shopId:e,skus:o[e],shopMessage:(0,O.utf16toEntities)(t.logicData.shopCartMessage[e]||"")}}))},getOcpcInfo:function(){var e=r().globalData.siteData.ocpcInfo,t=r().globalData.siteData.bdVidShopId;e.url=this.logicData.url,(t!==this.logicData.shopId||(0,H.default)())&&(e.bdVid="",e.fid="");var o=(0,O.objToUrl)(e);return{pageUrl:"baiduboxapp://swan/"+r().globalData.siteData.appKey+"/wjz/bdxd/order-submit/order-submit?"+o,pageUrlParams:o,bdVid:e.bdVid}},getPlatPromotionIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.promotionBizType===P.promotionBizTypeMap.platform})).map((function(e){return e.promotionId})).join(",")},getPlatcouponTakeIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.bizType===P.COUPON_BIZ_TYPE.PLATFORM})).map((function(e){return e.couponTakeId})).join(",")},getRedPacketTakeIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.couponTakeId})).join(",")},orderSubmit:function(e){var o=this,a=e.formId,i=e.antiCheat,n=P.API.orderCreate,s=this.logicData,d=s.usePlatformCoupon,u=s.choosePlatformCoupons,c=s.useCoupon,p=s.chooseCoupons,l=s.skus,g=s.freightCostAmount,h=s.promotionInfo,m=s.usePlatformRedPacket,f=s.isShopCart,v=s.paymentAmount,b=s.platformDiscountAmount,w=s.platformCouponDiscountAmount,y=s.discount,C=s.groupPromotionInfo,S=s.chooseCouponsMulti,I=s.isUserSelectCouponMulti,T=this.data,x=T.isMultiShop,D=T.address,_=T.userCardInfo,j=T.totalAmount,L=T.couponDiscountAmount,E=T.totalPaymentAmount,N=T.platformPromotionAmount,R=T.reductAmount,M=T.sellAmount,B=T.payType,F=T.redPackets,U=T.pageFrom,G=T.orderType,H=T.isNft,q=T.couponsMulti,z=T.isRecharge,Y=l;(x||f&&l.length>1)&&(Y=this.getCanBySkus());var W=this.formatShopSpuInfos(Y),J=(0,O.utf16toEntities)(this.logicData.message);x&&W&&1===W.length&&(J=W[0].shopMessage);var X={address:G===P.goodsTypeMap.virtualCard||H?{addrId:D.addrId,userName:_.userName&&_.userName.value,telNumber:_.telNumber&&_.telNumber.value}:D,totalAmount:j,couponDiscountAmount:L,paymentAmount:v,totalPaymentAmount:E,platformPromotionAmount:N,platformDiscountAmount:b,platformCouponDiscountAmount:w,promotionAmount:R,discount:y,sellAmount:M,shopSpuInfos:W,payType:B,message:J,smsNotice:1,freightCostAmount:g,formId:a,couponTakeList:[],redPacketTakeList:[],redPacketAmount:F&&F.platformRedPacketDiscountAmount,promotionInfo:h,submitType:"shopCart"===U?1:2,deviceType:(0,O.getDeviceType)(),nativeAppId:r().globalData.siteData.host||"baiduboxapp",orderType:G,ocpcInfo:this.getAbTestParams()};try{z&&!X.address.userName&&(X.address.userName="百度用户")}catch(e){}if(i&&(X.antiCheat=i),C&&(X.groupPromotionInfo={groupType:C.groupType,groupId:C.groupId}),x){var K,Q=this.getCouponsMultiAble(q),$=I?S:Q;(K=X.couponTakeList).push.apply(K,V($)),d&&u&&+u.couponTakeId&&X.couponTakeList.push(u)}else d&&u&&+u.couponTakeId&&X.couponTakeList.push(u),c&&p&&+p.couponTakeId&&X.couponTakeList.push(p);m&&(X.redPacketTakeList=F.availablePlatformRedPackets);var Z=this.getOverseaParam(),ee=Z.isOverseas,te=Z.verifyName,oe=Z.verifyId;ee&&te&&oe&&(X.userVerifyInfo={userName:te,userIdentity:oe});var ie=r().globalData.siteData.ocpcInfo||{};(ie.bdVid||ie.shareCuid)&&(X.extData=JSON.stringify({bd_vid:ie.bdVid,shareCuid:ie.shareCuid}));var ne=this.getPlatPromotionIds(X.promotionInfo),re=this.getPlatcouponTakeIds(X.couponTakeList),se=this.getRedPacketTakeIds(X.redPacketTakeList);return(ne||re||se)&&(X.extInfo=(0,k.AESencrypt)(JSON.stringify({cuid:(r().globalData.siteData.bdSysInfo||{}).cuid,type:P.antifraudScene.createOrder,timestamp:this.logicData.timestamp,skuIds:Y.map((function(e){return e.skuId})).join(","),couponTakeIds:re,promotionIds:ne,redPacketTakeIds:se}))),this.$request({url:n,data:X}).then((function(e){var t=r().globalData.siteData;t.contentIdBdVid="",t.roomIdBdVid="";var a=W.map((function(e){return e.shopId})),i=t.bdVidShopId;if(-1!==a.indexOf(i)&&(t.ocpcInfo.bdVid=""),o.setData("posting",!1),e&&e.data)if(o.logicData.orderId=e.data.orderId,o.logicData.batchId=e.data.batchId,o.logicData.realTotalPaymentAmount=e.data.paymentAmount,r().globalData.taskId&&(r().globalData.taskIdMapOrderId=e.data.orderId),(0,O.bdxdAddLog)(o,{compTargetId:"bdxd-log-req-order-submit-success",userExtra:{}}),e.data.payType===P.PAYMENT.ONLINE){var n=e.data&&(0,O.filterNullProperty)(e.data.payOrderInfo)||{};o.logicData.lastOrderInfo=n,0===Number(o.logicData.realTotalPaymentAmount)?o.toPayResPage({payRes:P.PAY_RESULT.SUCCESS,payType:P.PAYMENT.ONLINE}):o.requestPayment(n,e.data.payType)}else o.toPayResPage({payRes:P.PAY_RESULT.SUCCESS,payType:P.PAYMENT.OFFLINE})})).catch((function(e){o.setData("posting",!1);var a=e&&e.status;return(0,O.addErrorLog)(e,{compTargetId:"api-order-submit-err",url:n,param:X,errType:"api_req_error"},[P.logTypeMap.error,P.logTypeMap.apiError,P.logTypeMap.common]),80011===a&&"shopCart"===o.data.pageFrom?(0,O.showModal)(Object.assign({},ae,{content:"商品数量有变，请重新确认"}),(function(){(0,A.jumpToInnerSwan)({type:A.innerJumpType.navigateBack})})):~[3503,3504,3505,3506,3507].indexOf(a)?(0,O.showModal)(Object.assign({},ae,{content:e.statusInfo}),(function(){o.orderConfirm()})):~[3508,3509,3510].indexOf(a)?((0,O.normalToast)({title:e.statusInfo}),void t((function(){(0,A.jumpToInnerSwan)({type:A.innerJumpType.navigateBack})}),1500)):~[9208,3515].indexOf(a)?(0,O.showModal)(Object.assign({},ae,{content:e.statusInfo}),(function(){(0,A.jumpToInnerSwan)({type:A.innerJumpType.navigateBack})})):~[3520,3521,3523].indexOf(a)?(0,O.showModal)({content:e.statusInfo,showCancel:!1},(function(e){if(e.confirm){if(o.logicData.promotionInfo.forEach((function(e){e.promotionType!==P.promotionTypeMap.fullPromotion&&e.promotionType!==P.promotionTypeMap.multiplePromotion||e.promotionBizType!==P.promotionBizTypeMap.platform||(o.logicData.canUsePlatform=!1),e.promotionType===P.promotionTypeMap.limitSeckill&&e.promotionBizType===P.promotionBizTypeMap.platform&&(o.logicData.canUsePlatformSeckill=!1)})),(o.data.redPackets.availablePlatformRedPackets.length>0||o.data.redPackets.unablePlatformRedPackets.length>0)&&(o.logicData.canUsePlatformRedPacket=!1),!o.logicData.canUsePlatformSeckill)return o.orderConfirm({unRecommendPromotionTypeSet:[5]});o.orderCalculate()}})):3514===a&&o.logicData.groupPromotionInfo?(0,O.normalToast)({title:"拼团商品限购"+o.logicData.groupPromotionInfo.groupLimitNum+"件"}):(e.statusCode!==P.RESPONSE_STATUS.LIMIT&&(0,O.normalToast)({title:e.statusInfo||P.errorTips[P.API.orderCreate][500]}),void o.orderCalculate())}))},onCountChange:function(e){var t,o=this,a=e.currentTarget&&e.currentTarget.dataset||{},i=a.skuid,r=a.goodind,s=a.skuind,d=this.logicData.skus.findIndex((function(e){return e.skuId===i})),u=e.val,c=this.logicData.skus[d].count;this.logicData.skus[d].count=u;var p=c>u?this.data.skuCount-1:this.data.skuCount+1,l=(Y(t={},"goods["+r+"].skus["+s+"].count",u),Y(t,"skuCount",p),t);if(this.setData(l),this.data.isNft){var g=this.data.orderData,h=g.userCardInfo,m=void 0===h?{}:h,f=g.buyerMessage,v=void 0===f?"":f;l.userCardInfo=m,l.buyerMessage=v,l.skus=this.logicData.skus,this.setData({orderData:l,certReturnParams:JSON.stringify({orderData:l})})}n.nextTick((function(){o.orderCalculate()}),0)},goHome:function(){this.showModalHandle("home")},goBack:function(){this.showModalHandle("back")},showModalHandle:function(e){var t=this;(0,O.bdxdAddLog)(this,{compTargetId:"ssv_395"}),(0,O.showModal)(K,(function(o){"home"===e&&o.cancel&&(0,O.jumpHome)(),"back"===e&&(o.cancel?(0,A.jumpToInnerSwan)({type:A.innerJumpType.navigateBack}):(0,O.bdxdAddLog)(t,{compTargetId:"ssv_266"}))}))},messageChangeValue:function(e){var t="";if(e&&e.target&&e.target.dataset&&e.target.dataset.shop){var o=e.target.dataset.shop;t=(void 0===o?{}:o).shopId}this.debounceMsgEmitter(e&&e.detail&&e.detail.value,t)},listenScroll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.logicData.scrollTop=e;var t=this.getAddrNodeRect(),o=JSON.parse(JSON.stringify(this.data.navigationConfig));if(t&&t.height){var a=e>t.height;a!==this.data.isShowAffix&&(this.setData("isShowAffix",a),a&&this.data.address&&this.data.address.telNumber&&(o.borderBottom="none",this.setData({navigationConfig:o})))}this.data.navConfigChange&&e>0?(o.backgroundImage="linear-gradient(180deg, #fff 0%, #fff 100%)",o.borderBottom="1.81rpx solid #e0e0e0",this.setData({navigationConfig:o,navConfigChange:!1})):0===e&&(o.backgroundImage="linear-gradient(180deg, #FFFFFF 0%, #F5F5F5 100%)",o.borderBottom="none",this.setData({navigationConfig:o,navConfigChange:!0})),this.logicData.hasPayPanelTip&&!this.logicData.hasDeliveryTip&&this.isPayPaneInView(e)},readQuerySkus:(W=regeneratorRuntime.mark((function e(){var t,o,a,i,s,d,u,c,p,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.getExpIdFn)(P.SUB_APPID.orderSubmit);case 2:t=e.sent,o=t.data&&t.data.samplingId||"",r().globalData.siteData.wid=o,a=(0,O.parsePageQuery)(),i=a.from,s="true"===a.hasNPriceCoupon,this.setData({hasNPriceCoupon:s}),this.logicData.url=a.url,"shopCart"===i?(d=JSON.parse(n.getStorageSync("selectedShopCart")),this.logicData.skus=d.skus||[],u=!1,this.logicData.skus.length>0&&(c=this.logicData.skus[0]&&this.logicData.skus[0].shopId||"",u=this.logicData.skus.some((function(e){return c!==e.shopId}))),this.logicData.isShopCart=!0,this.setData({pageFrom:i,isMultiShop:u}),n.removeStorage("selectedShopCart")):(r().globalData.siteData.bdVidShopId||(0,q.default)(a.shopId),(p=a.skus)&&0===p.indexOf("%255B")&&(p=decodeURIComponent(p)),this.logicData.skus=JSON.parse(decodeURIComponent(p)).map((function(e){return Object.assign({shopId:l.logicData.shopId},e,{appId:$})}))),this.logicData.spuIds=this.logicData.skus.map((function(e){return e.spuId})).join(",");case 12:case"end":return e.stop()}}),e,this)})),J=function(){var e=W.apply(this,arguments);return new Promise((function(t,o){return function a(i,n){try{var r=e[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))},function(){return J.apply(this,arguments)}),getAbTestParams:function(){return{expIdList:(0,M.getExpIdList)().join(",")||"",dxdPvId:(0,M.getDxdPvId)()}},jumpOrderDetail:function(){var e=P.PAGES.ORDER_DETAIL,t={},o=this.logicData,a=o.isShopCart,i=o.orderId,n=o.batchId;a?(e=P.PAGES.ORDER_LIST,t.orderStatus="all",r().globalData.orderListOrderStatus="all",r().globalData.isNormalPathOrder=1):(t.orderId=i,t.batchId=n,t.isNormalPathOrder=1);var s=(0,O.isTabBarUrl)(e)?A.innerJumpType.switchTab:A.innerJumpType.redirectTo;(0,A.jumpToInnerSwan)({path:e,type:s,params:t})},requestPayment:function(e,t){var o=this,a=this.logicData,i=a.orderId,n=a.batchId,s=a.userPayAmount,d=void 0===s?"":s,u=a.shopId,c=this.data.inlinePaySign,p=void 0===c?"":c;p&&(e.inlinePaySign=p,e.userPayAmount=d),(0,j.payOrder)({orderId:i,batchId:n,payOrderInfo:e,success:function(e){var a=r().globalData.siteData;a.contentIdBdVid="",a.roomIdBdVid="",a.bdVidShopId===u&&(a.ocpcInfo.bdVid=""),(0,O.bdxdAddLog)(o,{compTargetId:"ssv_388",userExtra:{orderId:i,batchId:n,comp_material_id:o.logicData.spuIds}}),o.toPayResPage(Object.assign({},e,{payType:t}))},fail:function(e,a){e&&e.errCode===P.CANCEL_PAY?o.jumpOrderDetail():o.toPayResPage(Object.assign({},a,{payType:t}))}})},toPayResPage:function(e){var t=e.payRes,o=e.payType,a=this.data,i=a.totalDiscountAmount,n=a.totalPaymentAmount,r=a.isNft,s=a.isMultiShop,d=this.logicData,u=d.orderId,c=void 0===u?"":u,p=d.spuList,l=void 0===p?[]:p,g=d.isShopCart;c||g?(0,A.jumpToInnerSwan)({path:P.PAGES.PAY_RESULT,type:A.innerJumpType.redirectTo,params:{payResult:t,orderId:c,payType:o,orderDiscountAmount:i,totalPaymentAmount:n,spuList:JSON.stringify(l),isMultiShop:s,isNft:r}}):(0,A.jumpToInnerSwan)({path:P.PAGES.DXDJX_PERSONAL_CENTER,type:A.innerJumpType.switchTab})},switchPaytype:function(e){var t=this;this.setData({payType:e.detail.current},(function(){t.orderCalculate()}))},handleUserInputChange:function(e){var t=Object.assign({},this.data.userCardInfo);if(t[e.iptType].value=e.iptValue,t[e.iptType].error="",this.data.isNft){var o=this.data,a=o.orderData,i=void 0===a?{}:a,n=o.goods;i.skuCount&&0===i.skuCount&&(i.skuCount=this.getSkuCount(n)),i.userCardInfo=t||{},this.setData({orderData:i,certReturnParams:JSON.stringify({orderData:i})})}this.setData({userCardInfo:t})},checkAddress:function(){if(!this.data.address||!this.data.address.telNumber){var e=this.logicData,t=e.formName,o=e.formTel,a=e.formArea,i=e.formAddress,n=a.province,s=a.city,d=a.town;if(!t)return(0,O.normalToast)({title:P.formCheckTips.name});if(!o)return(0,O.normalToast)({title:P.formCheckTips.tel});if(!r().globalData.siteData.addrId&&!/^1[3456789]\d{9}$/.test(o))return(0,O.normalToast)({title:P.formCheckTips.telFormat});if(!(n&&n.name&&s&&s.name&&d&&d.name))return(0,O.normalToast)({title:P.formCheckTips.area});if(!i)return(0,O.normalToast)({title:P.formCheckTips.detail})}return!0},addAddress:function(){var e=this,o=this.logicData,a=o.formName,i=o.formTel,n=o.formArea,s=o.formAddress,d=n.province,u=n.city,c=n.town;return new Promise((function(o,n){e.$request({url:P.API.addAddress,data:(0,O.regionalCorrespond)({addrId:r().globalData.siteData.addrId,name:a,mobile:i,detailAddr:s,isDefault:e.data.isDefault?1:0,provinceId:d&&d.value,cityId:u&&u.value,districtId:c&&c.value,townId:"",provinceName:d&&d.name,cityName:u&&u.name,districtName:c&&c.name,townName:""},{city:u,town:c})}).then((function(e){r().globalData.siteData.addrId=e.data.addrId,o(e.data.addrId)})).catch((function(e){n(e)})),e.addrTime=t((function(){o("")}),500)}))},checkVirtualForm:function(){var e=[],t=Object.assign({},this.data.userCardInfo);return t.userName.value||(e.push(Z),t.userName.error=Z),t.telNumber.value?/^1[3456789]\d{9}$/.test(t.telNumber.value)||(e.push(te),t.telNumber.error=te):(e.push(ee),t.telNumber.error=ee),e.length&&(0,O.normalToast)({title:e[0]})&&this.setData({userCardInfo:t}),e.length},getOverseaParam:function(){var e=this.data.isOverseas,t=this.logicData;return{isOverseas:e,verifyName:t.verifyName,verifyId:t.verifyId}},certifySubmit:function(e){var t=e.userName,o=e.userIdentity;this.logicData.verifyName=t,this.logicData.verifyId=o,this.setData({isIdentify:1,identyName:t,identyId:o,showStatement:!1})},subscribeChange:function(){(0,O.bdxdAddLog)(this,{compTargetId:"ssv_463",userExtra:{isChecked:this.data.subscribeChecked}}),this.setData("subscribeChecked",!this.data.subscribeChecked)},followAuthorChange:function(){(0,O.bdxdAddLog)(this,{compTargetId:"ssv_462",userExtra:{isChecked:this.data.followAuthorChecked}}),this.setData("followAuthorChecked",!this.data.followAuthorChecked)},tipClickHandle:function(){var e=this;n.showModal(Object.assign({},ie,{success:function(){(0,O.bdxdAddLog)(e,{compTargetId:"ssv_265"})}}))},handleExpressFeeIconClick:function(e){(0,O.bdxdAddLog)(this,{compTargetId:"ssv_263"});var t=this.data,o=t.returnExpressFee;t.isMultiShop&&e&&e.target&&e.target.dataset&&e.target.dataset.returnExpressFee&&(o=e.target.dataset.returnExpressFee),o&&o.url&&(0,L.jumpToH5PageByEasyBrowseFirst)({url:o.url})},handleAdjustPriceClick:function(){var e=this;n.showModal(Object.assign({},ne,{success:function(){(0,O.bdxdAddLog)(e,{compTargetId:"ssv_660"})}}))},getPaymentError:function(){this.setData({inlinePaySign:""})},getPaymentInfo:function(e){var o=this;t((function(){o.conputeBottomBarTip()}),200);var a=e.detail||{};this.setData({inlinePaySign:a.inlinePaySign||""}),this.logicData.userPayAmount=a.userPayAmount||"0"}},messages:{imgLoaded:function(e){},ongoodscardclick:function(e){var t=this.data.isLightning,o=r().globalData.siteData.channelInfo.sceneValue;t||"465"!==(void 0===o?"0":o)||(0,A.jumpToInnerSwan)({path:P.PAGES.PRODUCT_DETAIL,params:{spuId:e.value.spuId},log:{ctx:this,userExtra:{event_index:0}}})},onPopupShow:function(e){e&&e.value&&this.setData({showCoupons:e.value.showCoupons})},onReqLoginFail:function(){this.$setLoginStatus(!1)},guaranteeDate:function(e){var t=JSON.parse(e.value).promises.find((function(e){return 19==+e.iconid}));this.setData({returnExpressFee:t})}}})})),window.define("728",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.orderConfirm=void 0;var I=e(92),T=e(51),x=e(4);o.orderConfirm=function(e){var t=n().globalData.siteData||{},o=t.appId,a=t.addressSelected,r=(0,x.getShopId)(),s=(0,x.parsePageQuery)(),d={};if(d.orderId=s.orderId||"",a&&a.provinceName&&(d.address=a),"shopCart"===(0,x.parsePageQuery)().from){var u=JSON.parse(i.getStorageSync("selectedShopCart"));d.skus=u.skus||[],d.submitType=1,i.removeStorage("selectedShopCart")}else{var c=n().globalData.siteData.channelInfo;d.skus=JSON.parse(decodeURIComponent((0,x.parsePageQuery)().skus)).map((function(e){return Object.assign({shopId:r},e,{appId:o})})),d.submitType=2;try{d.sceneValue=d.skus[0].cpsInfo.sceneValue,c&&c.zhiboParams&&"{}"!==c.zhiboParams&&(d.skus[0].cpsInfo.zhiboParams=c.zhiboParams)}catch(e){d.sceneValue="0",console.log(e)}}if(s.groupType){var p={groupType:Number(s.groupType)};s.groupId&&(p.groupId=Number(s.groupId)),d.groupPromotionInfo=p}return e&&(d=Object.assign({},d,e)),(0,I.request)({url:T.API.orderConfirm,data:d,downGradeOpts:{isMain:!0,spuId:(d.skus||[]).map((function(e){return e.spuId}))[0]||"",shopId:r}}).then((function(e){return Object.assign({},e)}))}})),window.define("729",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getExpIdFn=void 0;var T=e(92),x=e(59),P=e(4);a.getExpIdFn=function(e){var o=(0,P.parsePageQuery)()&&(0,P.parsePageQuery)().spuId||"",a=r().globalData.siteData.wid||"",i=r().globalData.requestConfig.apiOrigin+x.API.getExpId,n=(0,P.getCurrentPage)(),s={url:"baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf/"+(n.privateProperties&&n.privateProperties.accessUri),userId:"",pageId:o,channelPage:"litchic#5#"+e};return new Promise((function(e){(0,T.request)({url:i,completeUrl:!0,data:s,downGradeOpts:{wid:a,isGetExpId:!0}}).then((function(t){e(t)})).catch((function(t){(0,P.addErrorLog)(t,{compTargetId:"getExpId-err",errType:"api_getExpId_err"},[x.logTypeMap.apiError]),e(t)})),t((function(){e({status:"timeOut"})}),3e3)}))}})),window.define("731",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(119);Component({options:{addGlobalClass:!0},behaviors:[(0,I.loginBehavior)()],properties:{imgUrl:{type:String,value:""},nikename:{type:String,value:""},specsInfo:{type:String,value:""},isSingleSku:{type:Boolean,value:!1}},data:{},methods:{buyRightNow:function(){this.triggerEvent("onHandleBuy")},$loginSuccessCb:function(e){var t=e.value.extra;"buyRightNow"===(void 0===t?{}:t).target&&this.buyRightNow()}},messages:{onLogin:function(e){this.loginHandle(e)}}})})),window.define("733",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(51),P=e(92),D=e(3),_=(I=D)&&I.__esModule?I:{default:I},k=e(170);var A={sale:1,uv:2};Component({options:{addGlobalClass:!0},properties:{shopId:{type:String,value:"",observer:function(){this.getMarquee()}},spuId:{type:String,value:""},spuStatus:{type:Object,value:null},isSingleSku:{type:Boolean,value:!1}},data:{marqueeRollAreaStyle:{height:"130px",width:"95%"},marqueeList:[],titleType:1,titleTypeMap:A,personCount:0,gapConfig:x.GAP_CONFIG},logicData:{isFirstRender:!0,isHadShow:!1,screenHeight:0},attached:function(){var e=this;this.getMarquee(),n().globalData.siteData.systemInfoPromise.then((function(t){t&&t.screenHeight&&(e.logicData.screenHeight=t.screenHeight)}))},methods:{getMarquee:function(){var e=this;if(this.properties.shopId){var t=x.API.getMarqueeListUrl,o={spuId:this.properties.spuId,shopId:this.properties.shopId};(0,P.request)({url:t,data:o}).then((function(t){var o=t.data,a=void 0===o?{}:o,i=a.marqueeList,n=a.title,r=void 0===n?"":n;if(i.length&&(e.logicData.isFirstRender&&(e.addPageScrollListener(),e.logicData.isFirstRender=!1),e.setData({marqueeList:i})),"爆品热销中"!==r){var s=r.match(/[0-9]+/g);e.setData({titleType:A.uv,personCount:s&&s[0]})}}))}},onHandleBuy:function(){this.properties.spuStatus&&1===this.properties.spuStatus.state&&this.properties.spuStatus.restStock>=1&&(this.properties.isSingleSku?this.triggerEvent("orderConfirmHandler"):this.triggerEvent("togglespeclayer",{isOpen:!0,scene:x.ATTR_LAYER_MAP.BUY_ATTR}),(0,T.bdxdAddLog)(this,{compTargetId:"ssv_508",userExtra:{spu_id:this.properties.spuId,comp_material_id:this.properties.spuId}}))},addPageScrollListener:function(){var e=this;_.default.addHandler("onPageScroll",(function(t){e.listenScroll(t.scrollTop)}))},listenScroll:function(){var e=this;(0,k.getFeedNodeRect)(".cta-title",this).then((function(e){return(e||{}).top||0})).then((function(t){var o=t-e.logicData.screenHeight+100;e.logicData.screenHeight>0&&o<0&&!e.logicData.isHadShow&&(e.logicData.isHadShow=!0)}))}}})})),window.define("735",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(59),x=e(92),P=e(81),D=e(48),_={1:"直播中",2:"直播讲解",3:"直播中",4:"直播讲解"};Component({options:{addGlobalClass:!0},properties:{top:{type:Number,value:116,observer:function(e){this.setData({ballStyle:{top:14+e+"px"}})}},spuId:{type:String,value:"",observer:function(e){e&&this.getLiveBallData()}},xiaodian:{type:String,value:""}},data:{ballStyle:{},ballLabel:_[1],isShowLiveBall:!1,liveScheme:""},logicData:{roomId:"",liveStatus:1},attached:function(){n().globalData.siteData.host===T.BAIDU_APP_HOST&&this.setData({isShowLiveBall:!0})},methods:{getLiveBallData:function(){var e=this;(0,x.request)({url:T.API.getLiveBall,data:{spuId:this.properties.spuId,appSource:T.BAIDU_APP_HOST},method:"GET"}).then((function(t){if(t&&t.data){var o=t.data,a=o.live_scheme,i=void 0===a?"":a,n=o.room_id,r=void 0===n?"":n,s=o.live_status,d=void 0===s?1:s;e.logicData.roomId=r,e.logicData.liveStatus=d,e.setData({ballLabel:_[d],liveScheme:i}),(0,I.bdxdAddLog)(e,{compTargetId:"ssv_175",userExtra:{live_status:d},logType:D.bdtjLogType.elemShow})}}))},handleLiveBallClick:function(){var e=this.logicData,t=e.roomId,o=e.liveStatus,a=this.data.liveScheme;if(a&&t){var i={xiaodian:this.properties.xiaodian},n={roomId:t},r={compTargetId:"ssv_175",userExtra:{live_status:o,room_id:t}};(0,P.goToLive)(a,n,2,i,r)}}}})})),window.define("737",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{rankName:{type:String,value:""},ranking:{type:Number,value:-1},spuId:{type:Number,value:-1},isShowRanking:{type:Boolean,value:!1}},data:{},methods:{jumpToRankingList:function(){this.dispatch("jumpToRankingList")}}})})),window.define("739",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51);Component({options:{addGlobalClass:!0},externalClasses:["anchor-active-style","acnhor-item-style","anchor-style","anchor-active-bottom"],properties:{activeAnchor:{type:Number,value:0,observer:function(e){this.getBottomBarPos(e)}},anchorList:{type:Array,value:[]},beginDistance:{type:Number,value:0},scrollDistance:{type:Number,value:0,observer:function(e){this.setAnchorOpacity(e)}},fixed:{type:Boolean,value:!0},endDistance:{type:Number,value:0},bottomBarWidth:{type:Number,value:18,observer:function(){this.initAnchor()}},windowWidth:{type:Number,value:380,observer:function(){this.initAnchor()}}},data:{curOpacity:0,activePos:0,moveDistance:0,rootStyle:{},beginPos:0},attached:function(){this.initAnchor()},methods:{getBottomBarPos:function(e){var t=this.data,o=t.beginPos+e*t.moveDistance*I.rpx-0;this.setData({activePos:o})},onAnchorClick:function(e){if(!(this.properties.scrollDistance<=0)){var t=e.currentTarget.dataset.index-0;this.triggerEvent("onAnchorChange",{activeAnchor:t})}},setAnchorOpacity:function(){var e=this.properties.activeAnchor;this.getBottomBarPos(e)},initAnchor:function(){var e=this.properties,t=e.bottomBarWidth,o=(e.windowWidth/this.properties.anchorList.length).toFixed(2),a=((o-t)/2*I.rpx).toFixed(2);this.setData({activePos:a-0,moveDistance:o-0,beginPos:a-0})}}})})),window.define("741",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(4),x=e(58),P=e(59),D=e(81);Component({options:{addGlobalClass:!0},properties:{dataList:{type:Object,value:[]},showPopupLayer:{type:Boolean,value:!1},popupType:{type:String,value:""},popupTitle:{type:String,value:""},shopId:{type:Number,value:0}},data:{closeWrapStyleService:{height:"101.36rpx","line-height":"101.36rpx"},closeWrapStyle:P.CLOSE_WRAP_STYLE,closeStyle:P.POPUP_CLOSE_STYLE,closeStyleService:{color:"#fff","font-weight":"bold"},serviceIconMap:I.SERVICE_ICON_MAP},methods:{onClosePopup:function(){this.dispatch("onShowPopupLayerChange",{showPopupLayer:!1})},serviceJump:function(e){var t=e.currentTarget.dataset,o=t.id,a=t.url;(0,T.bdxdAddLog)(this,{compTargetId:"ssv_290",userExtra:{itemId:o}}),10!==o?a&&(0,D.jumpToH5PageByEasyBrowseFirst)({url:a}):(0,x.jumpToInnerSwan)({path:I.PAGES.SHOP_RELATED_CERTIFICATION,params:{shopId:this.properties.shopId}})}}})})),window.define("743",(function(e,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I,T,x){"use strict";var P=e(92),D=e(4),_=e(51);function k(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Component({properties:{marqueeIsShow:{type:Boolean,value:!1},direction:{type:Number,value:-1},duration:{type:Number,value:3e3},marqueeStyle:{type:Number,value:1},limitLen:{type:Number,value:1},shopId:{type:String,value:""},navHeight:{type:Number,value:64,observer:function(e){this.setData({rootStyle:{top:10+e+"px"}})}}},data:{boxTop:"-37px",currentIndex:0,currentStyle:1,nextStyle:0,list:[],rootStyle:{}},observers:{"marqueeIsShow,shopId":function(){this.getMarqueeList()}},lifetimes:{detached:function(){cancelAnimationFrame(this.timer),this.timer=null,clearInterval(this.intervalId)}},methods:{getMarqueeList:function(){var e=this,t=(0,D.parsePageQuery)().spuId;if(this.properties.marqueeIsShow&&t&&this.properties.shopId){var o={spuId:t,shopId:this.properties.shopId},a=_.API.getMarqueeListUrl;(0,P.request)({url:a,data:o}).then((function(t){var o=t.data,a=void 0===o?{}:o,i=a&&a.marqueeList||[];i.length&&e.handleList(i)}))}},handleList:function(e){var t=e[e.length-1],o=e.slice(0,2);e=[t].concat(k(e),k(o)),this.setData({list:e}),this.renderAnnimate()},requestAnimationFrameFn:function(e){return a?a(e):t((function(){e()}),1e3/60)},cancelAnimationFrameFn:function(e){return cancelAnimationFrame?cancelAnimationFrame(e):clearTimeout(e)},renderAnnimate:function(){var e=this,t=0,a=this.properties.direction,i=37*a/36,n=this.data.list.length-2,r=this.data.currentIndex,s=this.data.currentStyle,d=this.data.nextStyle,u=this.data.boxTop;this.intervalId&&clearInterval(this.intervalId),this.intervalId=o((function o(){e.timer=e.requestAnimationFrameFn(o),0===(t=++t%37)?(d=0,e.setData({currentStyle:s,boxTop:u,nextStyle:d,currentIndex:r})):t<36?(u=(r*a*37+i*t).toFixed(4)-37+"px",s=1-t/36*1,d=1*t/36,e.setData({currentStyle:s,boxTop:u,nextStyle:d,currentIndex:r})):36===t&&(s=1-t/36*1,d=t/36*1,e.setData({currentStyle:s,boxTop:u,nextStyle:d,currentIndex:r}),r=++r%n,u=(r*a*37).toFixed(4)-37+"px",0===r&&(s=1,d=0,e.setData({currentStyle:s,boxTop:u,nextStyle:d,currentIndex:r})),e.timer&&(e.cancelAnimationFrameFn(e.timer),e.timer=null))}),this.properties.duration)}},messages:{imgLoaded:function(){}}})})),window.define("745",(function(e,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I,T){"use strict";e(51);var x=e(4);function P(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var D="mip-bdxd-recommend-group-move-wrapper",_="mip-bdxd-recommend-group-move-wrapper-none";Component({options:{addGlobalClass:!0},properties:{__id__:{type:String},__name__:{type:String},__title__:{type:String},__type__:{type:String},groupRecommend:{type:Array,value:[],observer:function(){this.initGroupList()}},groupFriend:{type:Object,value:{}},direction:{type:Number,value:-1},countDownMap:{type:Object,value:{}}},data:{groupMoveList:[],boxTop:0,moveStyle:"mip-bdxd-recommend-group-move-wrapper",count:0},logicData:{moveDistance:236.5,intervalTimer:null},attached:function(){this.initGroupList()},detached:function(){clearInterval(this.logicData.intervalTimer)},methods:{handleTimeOver:function(){r.showToast({title:"该团已不存在，请重新选择",icon:"none"}),t((function(){(0,x.refreshCurPage)()}),1e3)},groupMove:function(){var e=this;this.logicData.intervalTimer=o((function(){var o=e.data.boxTop,a=e.data.count;e.setData({boxTop:o-e.logicData.moveDistance,count:++a},(function(){var o=e.data.groupMoveList.length/2-1;a===o&&t((function(){e.setData({boxTop:0,count:0,moveStyle:_},(function(){e.setData({moveStyle:D})}))}),600)}))}),5e3)},initGroupList:function(){if(this.properties.groupRecommend.length&&!this.logicData.intervalTimer){var e=this.properties.groupRecommend.slice(0,2),t=[].concat(P(this.properties.groupRecommend),P(e));this.setData("groupMoveList",t),this.groupMove()}}}})})),window.define("747",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(748),T=e(749),x=55;Component({properties:{livingUrl:{type:String},liveComponentInfo:{type:Object},generalParam:{type:Object}},data:{prefixCls:"live-streaming-video",liveStyle:{},screenHeight:0,screenWidth:0,startTime:0,LIVE_CONFIG:{text:"直播中",icon:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-small-living.gif"},showLiveStreaming:!0,liveCloseIcon:"https://wutong.cdn.bcebos.com/sjh-live%2Flive-close.png"},lifetimes:{attached:function(){this.getScreenInfo(),n().globalData.siteData.isIpx&&(this.setData("isPx",!0),x=90),this.ctx=i.createLivePlayerContext("myLive")}},getScreenInfo:function(){var e=i.getSystemInfoSync(),t=e.windowWidth,o=e.windowHeight;this.setData({screenWidth:t,screenHeight:o})},handleAdsorb:function(e,t,o){var a={},i=this.data.screenWidth/2-44.5;return e>=i&&(a.left="3vw"),e<i&&(a.right="3vw"),t<=x?a.bottom=x+"px":o<120?a.top="20vw":a.bottom=t+"px",a},methods:{handleTouchstart:function(){var e=(new Date).getTime();this.setData({startTime:e})},handleTouchMove:function(e){var t=e.touches[0],o=t.clientX,a=t.clientY,i=this.data.screenWidth-o-44.5,n=this.data.screenHeight-a-79;return this.setData({liveStyle:{bottom:n+"px",right:i+"px"}}),!0},handleTouchEnd:function(e){var t=this.data,o=t.startTime,a=t.liveStyle,i=t.screenWidth,n=t.screenHeight,r=(new Date).getTime(),s=e.changedTouches[0],d=s.clientX,u=s.clientY,c=i-d-44.5,p=n-u-79,l=this.handleAdsorb(c,p,u);r-o<300&&(l.bottom=a.bottom,l.top=a.top),this.setData({liveStyle:l})},handleLiveClick:function(){var e=this.properties.generalParam,t=this.properties.liveComponentInfo,o=t.liveState,a=t.replayUrl,n=t.roomId;o!==I.LIVE_STATE.END?o===I.LIVE_STATE.LIVING&&(this.closeLive(),(0,T.goToLive)(n,e,"video")):i.navigateTo({url:"/wjz/bdxd/communicate/common-web-view/common-web-view?url="+encodeURIComponent(a)})},closeLive:function(){this.ctx.stop(),this.setData({showLiveStreaming:!1})}}})})),window.define("748",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I;function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(o,"__esModule",{value:!0});var x=o.SECOND=1e3,P=(o.THIRTY_SECOND=30*x,o.FIVE_MINUTES=60*x*5,o.LIVE_STATE={NO:0,LIVING:1,END:2,SOON:3,BUFFER:4,LATE:5,BACKING:"backing"});o.LIVE_STATE_MAPS={0:"no",1:"living",2:"end",3:"soon",backing:"backing"},o.LIVE_STATE_CONFIG=(T(I={},P.NO,{text:"开播还有",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-count-down.gif"}),T(I,P.LIVING,{text:"直播中",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-living.gif",btnText:"去围观"}),T(I,P.END,{text:"直播讲解",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-play-back.gif"}),T(I,P.SOON,{text:"主播赶来中",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-shop.png"}),T(I,P.BACKING,{text:"回放生成中",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-backing.gif"}),T(I,P.BUFFER,{text:"回放生成中",imgUrl:"https://fe-resource.cdn.bcebos.com/mip%2Fstore%2Fmip-sjh-store-live-backing.gif"}),I)})),window.define("749",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.goToLive=void 0;var I,T=e(5),x=(I=T)&&I.__esModule?I:{default:I};o.goToLive=function(e,t,o){!function(e,t){var o=x.default.configOfLogAction.actionIdForDeveloper;x.default.logActions.addUserDefinedLog(Object.assign({},e,{actionId:o.SITE_COMP_CLICK,compTargetId:"sjh-live-store-jump-"+t+"-smart"}))}(t,o),i.openBdboxWebview({module:"live",action:"enterRoom",parameters:{params:{roomId:e,source:{livesource:"jimuyu"}}},fail:function(e){console.log("openBdboxWebview fail",e)}})}})),window.define("751",(function(e,t,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";Component({properties:{startTime:{type:[String,Number]}},data:{prefixCls:"store-live-count-down",hours:"00",mins:"00",seconds:"00"},lifetimes:{attached:function(){var e=this;this.diffTime()>0&&(this.setTime(),this.countDownTimer=o((function(){e.setTime()}),1e3))},detached:function(){clearInterval(this.countDownTimer)},methods:{setTime:function(){var e=this.diffTime();if(e<=0)clearInterval(this.countDownTimer);else{var t=Math.floor(e/36e5),o=e%36e5,a=Math.floor(o/6e4),i=Math.floor(o%6e4/1e3);this.setData({hours:t<10?"0"+t:t.toString(),mins:a<10?"0"+a:a.toString(),seconds:i<10?"0"+i:i.toString()})}},diffTime:function(){var e=(new Date).getTime(),t=+this.properties.startTime-e;return t}}}})})),window.define("753",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{imgUrl:{type:String}},data:{prefixCls:"store-live-emojis",bubbingGif:"https://fe-resource.bd.bcebos.com/mip%2Fmip-video%2Flive_zan_zuizhong.gif"}})})),window.define("755",(function(e,t,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(756),x=e(749),P=e(748);Component({properties:{__id__:{type:String},__type__:{type:String},__name__:{type:String},__title__:{type:String},spuId:{type:[String,Number],value:"",observer:function(e){var t=this;e&&(this.getRoomInfo(),this.timeDiffTimer=o((function(){t.setDiffTime()}),P.SECOND))}}},data:{generalParam:{},showComponent:!1,liveComponentInfo:{liveStatus:P.LIVE_STATE.NO,liveId:"",roomId:"",streamerId:"",startTime:"",replayUrl:"",playUrl:"",diffTime:""},prefixCls:"mip-sjh-store-live",showPendant:!0,pendantClass:"",currentLiveConfig:P.LIVE_STATE_CONFIG[P.LIVE_STATE.NO],showBtn:!1,showCountDown:!1,showMinVideo:!1,isFirstGoLive:!0,userId:r().globalData.siteData.ucId},lifetimes:{attached:function(){this.setData({generalParam:{id:this.properties.__id__,type:this.properties.__type__,name:this.properties.__name__,title:this.properties.__title__}}),this.changeLiveState()},detached:function(){clearInterval(this.roomInfoTimer),clearInterval(this.replayInfoTimer),clearInterval(this.timeDiffTimer)}},methods:{setDiffTime:function(){var e=this,t=(new Date).getTime();this.data.liveComponentInfo.startTime-t<P.FIVE_MINUTES&&(clearInterval(this.timeDiffTimer),this.getRoomInfo(),this.roomInfoTimer=o((function(){e.getRoomInfo()}),P.THIRTY_SECOND))},getRoomInfo:function(){var e=this,t=this.data,a=t.liveComponentInfo,i=t.generalParam,r=t.showComponent,s={bindId:+this.properties.spuId,source:1};(0,T.post)("/hummer/live/queryLive",s,{},i).then((function(t){var i=t&&t.data,s=i.liveStatus,d=i.hlsUrl,u=i.roomId,c=i.replayVideoUrl,p=i.alaId;if(0===t.status&&p&&(u||c)){a=Object.assign({},a,i),s===P.LIVE_STATE.LIVING&&(a=Object.assign({},a,{playUrl:d}));var l="android"===n.getSystemInfoSync().platform;s!==P.LIVE_STATE.BUFFER&&s!==P.LIVE_STATE.END||!l?s!==P.LIVE_STATE.LATE&&(r=!0):r=!1,e.setData({showComponent:r,liveComponentInfo:a}),e.changeLiveState(),s===P.LIVE_STATE.END&&(clearInterval(e.roomInfoTimer),e.getPlaybackInfo(),e.replayInfoTimer=o((function(){e.getPlaybackInfo()}),P.FIVE_MINUTES))}else e.triggerEvent("triggerNoShopLiveData")})).catch((function(e){throw e}))},getPlaybackInfo:function(){var e=this,t=this.data,o=t.liveComponentInfo,a=t.generalParam,i={bindId:+this.properties.spuId,source:1};(0,T.post)("/hummer/live/queryLive",i,{},a).then((function(t){if(0===t.status){var a=(t&&t.data).replayVideoUrl;a?(o=Object.assign({},o,{liveStatus:P.LIVE_STATE.END,replayUrl:a}),clearInterval(e.replayInfoTimer)):o=Object.assign({},o,{liveStatus:P.LIVE_STATE.BACKING}),e.setData({liveComponentInfo:o,showPendant:"android"!==n.getSystemInfoSync().platform}),e.changeLiveState()}})).catch((function(e){throw e}))},openLiveRoom:function(){var e=this.data.generalParam,t=this.data.liveComponentInfo,o=t.liveStatus,a=t.replayUrl,i=t.roomId;o!==P.LIVE_STATE.END?o===P.LIVE_STATE.LIVING&&(this.setData({showMinVideo:!1,isFirstGoLive:!1}),(0,x.goToLive)(i,e,"icon")):n.navigateTo({url:"/wjz/bdxd/communicate/common-web-view/common-web-view?url="+encodeURIComponent(a)})},changeLiveState:function(){var e=this.data,t=e.prefixCls,o=e.isFirstGoLive,a=this.data.liveComponentInfo,i=a.liveStatus,n=a.startTime,r=[t+"-pendant",t+"-pendant-"+P.LIVE_STATE_MAPS[i]],s=P.LIVE_STATE_CONFIG[i],d=i===P.LIVE_STATE.LIVING,u=i===P.LIVE_STATE.NO&&n>0,c=i===P.LIVE_STATE.LIVING&&o;this.setData({pendantClass:r,currentLiveConfig:s,showBtn:d,showCountDown:u,showMinVideo:c})}}})})),window.define("756",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.post=void 0;var I,T=e(5),x=(I=T)&&I.__esModule?I:{default:I};function P(e,t,o,a,i){x.default.logActions.addReqLog({isFirstScreen:i,time:new Date-a,path:e,type:t.type,id:t.id,name:t.name,title:t.title,compTargetId:o})}o.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4],s=arguments[5],d=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return new Promise((function(u,c){var p=new Date,l=n().globalData.requestConfig.apiOrigin;i.request({url:""+l+e,method:o.method||"POST",data:t,header:{"content-type":o.contentType||"application/json"},success:function(t){0==+t.data.status?(P(e,a,r,p,d),u(t.data)):(P(e,a,s,p,d),c(t.data))},fail:function(t){P(e,a,s,p,d),c(t)}})}))}})),window.define("758",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4);Component({properties:{otherRecommend:{type:Object,value:{},observer:function(e){this.handelRecommend(e)}},spuId:{type:String,value:""}},data:{tabs:[],maxShowNum:6,isFirstClick:!0},methods:{handelRecommend:function(e){var t=this.data.maxShowNum,o=e.sameData,a=void 0===o?[]:o,i=e.newProData,n=void 0===i?[]:i,r=[];if(a.length>=t&&r.push({name:"sameRecommend",label:"相似推荐",active:!0,content:a,ssv:"ssv_533"}),n.length>=t){var s=a.length<t,d=s?"ssv_532":"";r.push({name:"newRecommend",label:"新品推荐",active:s,content:n,ssv:d})}this.setData({tabs:r})},onTabClick:function(e){var t=this.data.tabs,o=e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.name||e.name,a=e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.ssv||e.ssv;t.forEach((function(e){e.active=e.name===o}));var i=this.data.isFirstClick;i&&!a&&((0,I.bdxdAddLog)(this,{compTargetId:"ssv_532"}),i=!1),this.setData({tabs:t,isFirstClick:i})}}})})),window.define("760",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(4),x=e(58);Component({options:{addGlobalClass:!0},data:{},properties:{praiseRate:{type:String,value:""},showRate:{type:Number,value:0},commnetTotal:{type:Number,value:0},commentList:{type:Array,value:[]},spuId:{type:String,value:""},shopId:{type:String,value:""},nLimit:{type:Number,value:5}},methods:{handleImgClick:function(e){(0,T.bdxdAddLog)(this,{compTargetId:"ssv_281",userExtra:{}})},handleCardClick:function(e){var t=Boolean(e.currentTarget.dataset.isBar);(0,T.bdxdAddLog)(this,{compTargetId:"ssv_282",userExtra:{is_bar:t}}),(0,x.jumpToInnerSwan)({path:I.PAGES.COMMENT_LIST_PAGE,params:{shopId:this.properties.shopId,spuId:this.properties.spuId}})}}})})),window.define("762",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(4),x=e(61);Component({options:{addGlobalClass:!0},properties:{spuStatus:{type:Object,value:{}},afterSales:{type:Array,value:[]},attributes:{type:Array,value:[]},isOverseas:{type:Number,value:0},description:{type:Array,value:[]},spuId:{type:String},warning:{type:String,value:""},isNft:{type:Boolean,value:!1},bottomCouponClose:{type:Boolean,value:!0}},data:{curConsult:-1},logicData:{generalParams:{id:"mip-bdxd-product-detail-consult",name:"mip-bdxd-product-detail-consult",type:"mip-bdxd-product-detail-consult",title:"商详咨询"}},ready:function(){var e=this;this.intersectionObserver=(0,x.observerElementShown)({context:this,selector:".no-content",callback:function(){(0,T.bdxdAddLog)(e,{compTargetId:"p_d_bottom_show"})}})},detached:function(){this.intersectionObserver=null},methods:{handleImgClick:function(e){var t=e.currentTarget.dataset.index,o=e.currentTarget.dataset.key,a=this.properties.description[o];n.previewImage({current:a&&a.list[t],urls:[].concat(a&&a.list[t])})},handleConsultClick:function(e){var o=e.currentTarget.dataset.index;o===this.data.curConsult-1?this.setData({curConsult:-1}):this.setData({curConsult:o+1}),t((function(){n.pageScrollTo({scrollTop:e.currentTarget.offsetTop})}),100)}}})})),window.define("764",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(51),x=e(4),P=e(48);Component({options:{addGlobalClass:!0},properties:{bestShopCoupon:{type:Object,value:{},observer:function(e){var o=this;e&&e.batchId&&e.remainingTime&&e.remainingTime>0?(this.setData({showCouponBarArea:!0}),this.addCouponShowLog(),t((function(){o.closeCouponCard("ssv_611")}),5e3)):(this.setData({showCouponBarArea:!1}),this.dispatch("hideTopCoupon",!0))}},isSingleSku:{type:Boolean,value:!1},navHeight:{type:Number,value:64,observer:function(e){this.setData({rootStyle:{top:10+e+"px"}})}}},data:{couponMoveOut:!1,showCouponBarArea:!1,rootStyle:{}},methods:{addCouponShowLog:function(){(0,x.bdxdAddLog)(this,{compTargetId:"ssv_610",logType:P.bdtjLogType.elemShow})},useBestCoupon:function(){this.closeCouponCard(),(0,x.bdxdAddLog)(this,{compTargetId:"ssv_605"}),this.properties.isSingleSku?this.triggerEvent("orderConfirmHandler"):this.triggerEvent("togglespeclayer",{isOpen:!0,scene:T.ATTR_LAYER_MAP.BUY_ATTR})},closeCouponCard:function(e){var o=this,a="ssv_609";"string"==typeof e&&(a=e),this.setData({couponMoveOut:!0}),t((function(){o.data.showCouponBarArea&&(o.setData({showCouponBarArea:!1}),(0,x.bdxdAddLog)(o,{compTargetId:a}),o.dispatch("hideTopCoupon",!1))}),230)},oneItemTouchMove:function(){this.closeCouponCard("ssv_608")}}})})),window.define("766",(function(e,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I,T){"use strict";var x=z(e(3)),P=e(92),D=e(51),_=z(e(767)),k=e(93),A=e(58),j=e(88),O=e(4),L=z(e(768)),E=e(81),N=e(342),R=e(340),M=e(341),B=e(729),F=e(352),U=e(769),G=e(59),H=z(e(513)),q=e(323);function z(e){return e&&e.__esModule?e:{default:e}}function V(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var Y,W,J=s().globalData.currentAppBuildTime||"",X=(s().globalData.siteData||{}).appId,K={0:"ssv_453",1:"ssv_452",2:"ssv_451"};Component({behaviors:[N.productDetailBehavior],options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},data:{afterSaleTextStatic:_.default,firstGoodsTitle:"",showRate:0,praiseRate:"",showComment:!1,commentTotal:0,commentList:[],videoSrc:"",videoPoster:"",defaultSelectText:"请选择商品规格",couponPopupVisible:!1,appBuildTime:J,oCarouselInfo:null,spikeInfo:null,groupActivityState:D.groupActivityState,groupStage:0,isGroupLayerShow:!1,recommendDeadline:3e5,screenWidth:0,isOverseas:0,collectStatus:0,showCarouselPlace:!0,showFisrtImage:!0,firstImg:"",showPopupLayer:!1,popupLayerInfo:{},anchorList:["商品","详情"],anchorIdList:["product","detail"],activeAnchor:0,scrollDistance:0,anchorTopList:[],isShowActivityLogo:!1,rootStyle:{},couponBottomTip:"",redPacketInfo:null,ballImg:"",ballIsShow:!1,anchorOpacity:0,anchorHiddenStyle:"",skeletonVisiable:!0,finalSkuPriceList:[],anchorHeight:38,storeRankingDetail:{},isShowRanking:!1,isFromOrchard:!1,nPriceBuyType:D.N_PRICE_BUY_TYPE.NORMAL,discountArr:[],attrLayerMap:D.ATTR_LAYER_MAP,showPage:!0,gapConfig:D.GAP_CONFIG,showTopBar:!0,xiaodian:"ssv_175",isShowLiveBall:!1,warning:"",bjhInfo:null,isNft:!1,shopRecommendData:[],showRecommend:!1,otherRecommend:{},isJDProduct:!1,cuid:"",isShowLikeList:!0,hitMayYouLike:!1,meaninglessFlag:"1",isBrandProduct:!1,isDelivery:!1,skuInfo:[]},logicData:{changeData:{},countDownTimer:-1,isOrderCheckLoaded:!0,shouldScrollAnchor:-1,currentPageHeight:0,generalParams:{id:"mip-bdxd-product-page",name:"mip-bdxd-product-page",type:"mip-bdxd-product-page",title:"商品详情页组件"},isAddingCart:!1,isAutoTakeCoupon:!1,hasFirstImg:!1,mediaLoaded:!1,hasLogin:!1,navHeight:64,lastNavBarColorFlag:!0,isPrefetch:!1,isPrefetchImg:!1,protectIds:"",productDetailData:{},isFirstShow:!0},lifetimes:{created:function(){x.default.clearEvents(["getNavHeight"]),this.getSpecSelectStatus(),this.changeNavBarColor(!0),this.performancefLogExtra=(0,O.performanceLogTime)({},"created")},attached:function(){var e=this;(0,P.checkLoginStatus)().then((function(){e.logicData.hasLogin=!0,e.setData("isLogin",!0)})).catch((function(){e.setData("isLogin",!1)}));var t=(0,O.parsePageQuery)(),o=t.spuId;(0,O.getNetworkType)().then((function(t){t&&"wifi"===t&&e.setData({oCarouselInfo:Object.assign({},e.data.oCarouselInfo,{muted:!0,videoAutoplay:!0})})}));var a={},i=!!s().globalData.pageReqPrefetchData["GET_PRODUCT_DETAIL_"+o],n=!!s().globalData.pageReqPrefetchData["GET_PRODUCT_DETAIL_PREIMAGE_"+o],r=s().globalData.pageReqPrefetchData&&s().globalData.pageReqPrefetchData["GET_PRODUCT_DETAIL_"+o]||"{}",d=JSON.parse(r),u=(d.data&&d.data.images||[])[0]||"";(t.firstImg||u)&&(a.firstImg=(0,L.default)(t.firstImg||u),a.showFisrtImage=!0,this.logicData.hasFirstImg=!0,a.firstGoodsTitle=t.firstGoodsTitle||""),this.getProductDetail(),this.setData(Object.assign({spuId:o},a,{screenWidth:(s().globalData.siteData.systemInfo||{}).screenWidth||414,isHalfScreen:(0,j.isHalfScreenOpen)()})),(0,O.isDxdjx)()&&this.getStoreRanking(),this.logicData.isPrefetch=i,this.logicData.isPrefetchImg=n,x.default.addHandler("getNavHeight",(function(t){return e.handleStyle(t)}))},ready:function(){var e=this;Page.after({url:"wjz/bdxd/product-detail/product-detail",methods:{onPageScroll:function(t){e.listenScroll(t.args.e.scrollTop)}}})},detached:function(){x.default.clearEvents(["getNavHeight"])}},pageLifetimes:{show:function(){var e=this.data,t=e.hasGetGoodsData,o=e.hasCar,a=e.isBlockCar,i=e.isNft,n=e.isHalfScreen,r=this.logicData,s=r.isAutoTakeCoupon,d=r.isFirstShow;if(t&&o&&!a&&!i&&this.getCartCount(),t&&this.getCollectStatus(),s&&(this.logicData.isAutoTakeCoupon=!1),!d){if(n){var u=(0,j.getDisplayModeCur)(),c=(0,j.navigationBarHeight)()||44,p=(0,j.getStatusBarHeight)(u)+c;this.handleStyle(p+"px"),this.changeMode()}this.getProductDetail(),this.setData({secondShow:!0})}this.handleTask()},hide:function(){var e={secondShow:!1};(0,O.parsePageQuery)().specLayerIsOpen&&(e.specLayerIsOpen=!1),this.setData(e)}},methods:{handleTask:function(){var e=this,t=s().globalData,o=t.isFromOrchard,a=t.browsedSpuList,i=void 0===a?[]:a;o&&-1===i.indexOf(this.data.spuId)&&this.setData({isFromOrchard:o},(function(){F.taskSupplier.execute({command:"action",aid:[G.taskId.orchard]}),i.push(e.data.spuId)}))},handleStyle:function(e){var t={position:"fixed",top:e,left:0,right:0};this.logicData.navHeight=+e.replace("px",""),this.setData({rootStyle:t,navHeight:this.logicData.navHeight})},toggleGroupLayer:function(e){var o=this,a=e.groupId||e.detail.groupId||e.currentTarget.dataset.groupId||"",i=Boolean(e.isFriend)||!1,n=Boolean(e.isOpen||e.detail.isOpen||e.currentTarget.dataset.isOpen);if(n&&a)this.findCurrentGroup({groupId:a,isFriend:i});else if(a){var r=D.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY;t((function(){o.toggleSpecLayer({isOpen:!0,scene:r})}),D.modalDuration)}this.setData({isGroupLayerShow:n}),this.changeNavBarColor(n)},findCurrentGroup:function(e){var t=this,o=e.groupId;e.isFriend?this.setData({currentGroupId:o,currentGroupIndex:-1}):this.data.recommendGroups.some((function(e,a){if(e.groupId===o)return t.setData({currentGroupId:o,currentGroupIndex:a}),!0}))},getAnchorTop:function(){var e=this,t=r.createSelectorQuery().in(this);this.data.anchorIdList.forEach((function(e){t.select("#"+e).boundingClientRect()})),t.exec((function(t){var o=e.data.anchorHeight,a=[0],i=0;t.forEach((function(t){i+=t.height,a.push(i-o-e.logicData.navHeight)})),e.setData({anchorTopList:a},(function(){~e.logicData.shouldScrollAnchor&&e.onRefreshTop({activeAnchor:e.logicData.shouldScrollAnchor})}))}))},onRefreshTop:function(e){var t=e.activeAnchor;!(this.data.anchorTopList[t]<=this.logicData.currentPageHeight)&&r.pageScrollTo({scrollTop:this.data.anchorTopList[t]})},onAnchorChange:function(e){var t=e.detail&&e.detail.activeAnchor;this.logicData.shouldScrollAnchor=t,r.pageScrollTo({scrollTop:this.data.anchorTopList[t]}),(0,O.bdxdAddLog)(this,{compTargetId:K[t],userExtra:{spu_id:this.data.spuId||"",comp_material_id:this.data.spuId||""}})},listenScroll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=this.logicData.shouldScrollAnchor;~o&&t===this.data.anchorTopList[o]&&(this.logicData.shouldScrollAnchor=-1);var a=this.data.anchorTopList;this.logicData.currentPageHeight=t;var i=a.length?this.data.anchorList.length-1:0;a.some((function(e,o){if(t<e-10)return i=o-1,!0}));var n=void 0;new Promise((function(t){r.createSelectorQuery().in(e).select(".bdxd-product-detail-consult").boundingClientRect((function(e){n=(e||{}).top||0,t(n)})).exec()})).then((function(o){var a=t>=0?t:0,n=a/120<.5;n!==e.logicData.lastNavBarColorFlag&&e.changeNavBarColor(n),e.setData({scrollDistance:a,activeAnchor:i})}))},changeDirection:function(e){if(-1!==(s().globalData.siteData.systemInfo.system||"").toLowerCase().indexOf("ios")){var t=!0;"horizontal"===e.detail&&(t=!1),this.setData({showTopBar:t})}},getCommnetList:function(){var e=this,t=this.data.spuId;if(t){var o=D.API.getCommnetListNew,a={appId:X,evaluateType:1,shopId:this.data.shopId,spuId:t,pageSize:2,pageNum:1,meaninglessFlag:this.data.meaninglessFlag};(0,P.request)({url:o,data:a,downGradeOpts:{isFromSDK:!0}}).then((function(t){var o=t&&t.data||{},a=o.evaluates.map((function(e){return e.evaluatePics=e.evaluatePics&&e.evaluatePics.slice(0,4)||[],e})),i=!!o.total;e.setData({showComment:i,commentTotal:o.total,praiseRate:o.praiseRate,showRate:o.showRate,commentList:a},(function(){var t=e.data.anchorIdList,a=e.data.anchorList;o.total&&(t.splice(1,0,"comment"),a.splice(1,0,"评价")),e.setData({anchorIdList:[].concat(V(new Set(t))),anchorList:[].concat(V(new Set(a)))})})),e.data.commentList.length<2&&o.meaninglessCount&&(e.setData({meaninglessFlag:"2"}),e.getCommnetList())}))}},changeNavBarColor:function(e){this.data.scrollDistance/120<.5&&(e=!0),r.setNavigationBarColor({frontColor:e?"#ffffff":"#000000",backgroundColor:e?"#3388FF":"#ffffff",animation:{duration:500,timingFunc:"linear"}}),this.logicData.lastNavBarColorFlag=e},jumpToShopIndex:function(e){"SHOP_INDEX"===e.detail&&((0,O.bdxdAddLog)(this,{compTargetId:"ssv_283",userExtra:{spu_id:this.data.spuId,comp_material_id:this.data.spuId}}),(0,E.generalJump)({url:this.data.shopDetail.pageUrl}))},handleHomeClick:function(){(0,A.jumpToInnerSwan)({path:D.PAGES.SHOP_HOME,type:A.innerJumpType.switchTab})},closeCouponPopup:function(){this.setData({couponPopupVisible:!1})},getDeliveryDayText:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n="";return n=e<=3?"预计"+24*Math.ceil(e<=0?1:e)+"小时内发货":t?"受"+D.EXEMP_AREA_MARK_MAP[o]+a+"，下单后预计"+e+"天内发货":"预计"+e+"天内发货",i&&(n=i),n},getDeliverStyle:function(e){var t=1;return e<=3&&(t=2),t},getProductDetail:(Y=regeneratorRuntime.mark((function e(){var o,a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.getExpIdFn)(D.SUB_APPID.productDetail);case 2:if(o=e.sent,a=o.data&&o.data.samplingId||"",s().globalData.siteData.wid=a,(0,O.isInProductPage)()){e.next=7;break}return e.abrupt("return");case 7:(0,M.getProductDetail)().then((function(e){var t=e.data||{};if(t.goodsLabels&&t.goodsLabels.some((function(e){return[18,19].includes(e.id)})))return i.setData({showPage:!1}),(0,O.showModal)({title:"提示",content:"当前商品仅可在直播间购买"},O.smartGoBack);i.logicData.productDetailData=t,(0,O.judgeShopStatus)({status:t.programStatus,normalProcess:function(){var e=(0,j.isHalfScreenOpen)(),o=s().globalData.siteData.channelInfo.sceneValue,n=e&&D.FEED_SCENE_VALUE.includes(+o)?[]:(t.video&&JSON.parse(t.video)||[]).map((function(e){return{type:"video",videoSrc:e.files&&e.files[0]&&e.files[0].url||"",videoPoster:e.thumbanial||""}})),d=(t.images||[]).map((function(e,t){return{type:"image",imageUrl:e,src:e,id:t}})),u={};i.logicData.hasFirstImg||n.length||!d.length||(u.firstImg=(0,L.default)(d[0].imageUrl));var c=(t.sellingPoints||[]).map((function(e){return{text:e.name}})),p=t.goodsType,l=t.supportPayType,g=2!=+l&&p!==D.goodsTypeMap.virtualCard&&p!==D.goodsTypeMap.recharge&&6!=+t.scene,h=t.freeShipping,m=t.isExempt||0,f=t.goodsLabels||[],v=t.attributes||[],b=n.concat(d),w=!!~(t.spuDefineLabels||[]).findIndex((function(e){return 21==+e.id}));w&&(0,O.bdxdAddLog)(i,{compTargetId:"ssv_647"}),i.setData(Object.assign({isBrandProduct:w,productPriceMsg:{originPrice:t.originPrice||"",salePrice:t.price||""},isNft:Boolean(t.isNft),isBlockCar:6==+t.scene,spikeIsOnReady:t.spikeIsOnReady,hasGetSuccessGoodsData:!0,labels:c,hasCar:g,productType:t.productActivityType,couponPopupVisible:t.productActivityType&&3!==t.productActivityType,spuStatus:{state:t.state,restStock:t.restStock,totalRestStock:t.restStock,restStockNoSpike:t.restStockNoSpike},saleInfo:{name:t.name,originPrice:t.originPrice,price:t.price,saleCount:t.saleCount},oCarouselInfo:Object.assign({},i.data.oCarouselInfo,{interval:t.interval&&+t.interval||4e3,productActivityVo:t.productActivityVo,carouselList:b,isPreview:!0,theme:1,autoPlay:!1,objectFit:"contain",direction:0}),spikeInfoVO:t.spikeInfoVO||{},supportPayType:l},u,{showCarouselPlace:!i.logicData.mediaLoaded&&(i.logicData.hasFirstImg||!n.length),showFisrtImage:!i.logicData.mediaLoaded&&(i.logicData.hasFirstImg||!n.length),isJDProduct:6==+t.scene}),(function(){if(i.performancefLogExtra=(0,O.performanceLogTime)(i.performancefLogExtra,"end_data"),i.setSpikePromotion(t.spikeInfoVO),i.setData({shopId:t.shopId}),(0,H.default)(t.shopId),i.getShopDetail(),i.getFloatBallItem(),(0,P.checkLoginStatus)().then((function(){i.logicData.hasLogin=!0,i.setData({isLogin:!0}),i.getCollectStatus()})).catch((function(){i.setData({isLogin:!1})})),i.data.hitMayYouLike){var e=i.data.anchorList;i.data.isShowLikeList&&e.push("推荐"),i.setData({anchorList:[].concat(V(new Set(e)))})}(0,q.hasHitExp)(q.EXP_LIST.isAddressExpHit1.expNumber,1,(0,O.parsePageQuery)().forceExpId)&&i.getAddressFreight(t);var o="[]";try{o=JSON.parse(t.description||"[]")}catch(e){}var a=t.bjhInfo&&t.bjhInfo.dxdClassMode?{isBjhColumn:!0,bjhInfo:t.bjhInfo}:{};i.setData(Object.assign({useFuncs:Object.assign({},i.data.useFuncs,(0,k.getUseFuncs)(k.downgradeFeature.productDetail)),ucId:t.ucId,isOverseas:t.isOverseas,warning:t.warning||"",skuInfo:i.getSkusInfo(t),spuInfo:{afterSalesText:1===t.isOverseas?D.overSeaNotify.concat(t.afterSalesText):t.afterSalesText,description:o,attributes:v,freeShipping:h,goodsLabels:f,deliveryShow:t.deliveryShow,predictDeliveryDay:i.getDeliveryDayText(t.predictDeliveryDay,m,t.exemptAreaMark,t.exemptReason,t.deliveryDelayTip),deliverStyle:i.getDeliverStyle(t.predictDeliveryDay),attributesText:i.getAttributeText(v),serviceText:i.getServiceText(f),singlePrice:(t.price||"").split("-")[0]},productData:{price:t.price,goodsType:p,goodsPictureUrl:t.goodsPictureUrl,skuList:t.skuList,packages:t.packages,specifications:t.specifications,virtualCodeStartTime:t.virtualCodeStartTime,virtualCodeEndTime:t.virtualCodeEndTime,isSingleSku:!1,scene:+t.scene}},a),(function(){i.data.spuInfo.serviceText&&(0,O.bdxdAddLog)(i,{compTargetId:"product-detail_protect_show",userExtra:{itemId:i.logicData.protectIds}})}))}));var y=(0,O.parsePageQuery)().isOpenSpec||0;if(Number(y)){var C=(0,O.parsePageQuery)().groupId;i.setData({currentGroupId:C,currentGroupIndex:-1}),i.toggleSpecLayer({isOpen:!0,scene:D.ATTR_LAYER_MAP.GROUP_BOOK_NORMAL_BUY})}var S={title:t.name,content:"我在度小店发现了不错的商品，分享给你哦~",imageUrl:t.goodsPictureUrl};s().globalData.siteData.shareInfo=S,r.setPageInfo({title:t.name,keywords:t.name,description:t.name,image:t.goodsPictureUrl}),(0,O.sendTongjiLog)({appId:X,ucId:t.ucId,wid:a,extData:{bizInfo:{spuId:i.data.spuId,shopId:t.shopId}}}),r.nextTick((function(){(0,O.bdxdAddLog)(i,{actionId:"site_comp_show",compTargetId:"page_req_success"})}))}})})).catch((function(e){if(e&&6106===e.status){var t={errTitle:"商品详情",errTip:"别着急，去店铺首页看看其他商品",errText:"商品已失效",errBtn:"店铺首页",errBackUrl:"/wjz/bdxd/shop-index/shop-index"};return(0,O.isDxdjx)()&&(t.errTip="别着急，去看看其他商品",t.errBtn="返回",t.errBackType=1,t.errBackUrl=""),void(0,O.jumpErrorPageUrl)(t)}e&&"商品不存在"!==e.message&&e.statusCode!==D.RESPONSE_STATUS.LIMIT&&(0,O.addErrorLog)(e,{compTargetId:"bdxd-log-req-product-detail",errType:"api_productdetail_err"},[D.logTypeMap.error,D.logTypeMap.apiError]),(0,O.jumpErrorPageUrl)({errTitle:"商品详情"})})).finally((function(){i.logicData.isFirstShow=!1,i.logicData.isPrefetch?i.getProductFinally():t((function(){i.getProductFinally()}),50),i.setData({hasGetGoodsData:!0,skeletonVisiable:!1})}));case 8:case"end":return e.stop()}}),e,this)})),W=function(){var e=Y.apply(this,arguments);return new Promise((function(t,o){return function a(i,n){try{var r=e[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))},function(){return W.apply(this,arguments)}),getProductFinally:function(){var e=(0,O.parsePageQuery)().spuId;(0,O.getCurrentPage)().removeSkeleton&&(0,O.getCurrentPage)().removeSkeleton(),(0,O.isDxdjx)()&&t((function(){r.loadSubPackage({root:"wjz/bdxd/comment"}),r.loadSubPackage({root:"wjz/bdxd/communicate"}),r.loadSubPackage({root:"wjz/dxdjx/activity"})}),1e3),s().globalData.pageReqCache[R.GET_PRODUCT_DETAIL]=null,s().globalData.pageReqPrefetchData["GET_PRODUCT_DETAIL_"+e]=null,s().globalData.pageReqPrefetchData["GET_PRODUCT_DETAIL_PREIMAGE_"+e]=!1},initCountDown:function(){var e=this;~this.logicData.countDownTimer&&clearInterval(this.logicData.countDownTimer),this.logicData.countDownTimer=o((function(){var t=Object.assign({},e.data.countDownMap);Object.keys(t).forEach((function(e){t[e]=t[e]-1e3>0?t[e]-1e3:0})),e.setData({countDownMap:t})}),1e3)},getAttributeText:function(e){if(0===e.length)return"";var t=[],o="";return e.map((function(e){t.push(e.name)})),o=t.slice(0,2).join(" "),t.length>2&&(o+="..."),o},handleAttributeClick:function(){var e=this.data.spuInfo;this.setData({popupLayerInfo:{dataList:e.attributes,popupType:"attribute",popupTitle:"商品参数"},showPopupLayer:!0}),this.changeNavBarColor(!0),(0,O.bdxdAddLog)(this,{compTargetId:"ssv_297",userExtra:{spu_id:this.data.spuId,comp_material_id:this.data.spuId}})},handleServiceClick:function(){var e=this.data.spuInfo;this.setData({popupLayerInfo:{dataList:e.goodsLabels,popupType:"service",popupTitle:"百度保障 平台先行赔付"},showPopupLayer:!0}),this.changeNavBarColor(!0),(0,O.bdxdAddLog)(this,{compTargetId:"ssv_298",userExtra:{itemId:this.logicData.protectIds}})},trackAdd:function(){var e=this,t=D.API.trackAdd,o={spuId:this.data.spuId};(0,P.request)({url:t,data:o}),this.logicData.hasLogin=!0,s().globalData.siteData.systemInfoPromise.then((function(t){var o="baiduboxapp"===t.host,a=t.version,i=(0,O.compareVersion)({version:a,lowVersionPart:"12.25".split(".")});if(o&&i){var n=e.logicData.productDetailData,r=n.spuId,s=n.name,d=n.goodsPictureUrl,u=n.price,c=n.state,p=n.goodsLabels,l=n.restStock,g=e.data.shopDetail,h={spuId:r,name:s,goodsPictureUrl:d,price:u,shopName:g.name,shopUrl:g.pageUrl,state:c,goodsLabels:p,restStock:l};(0,U.syncAddBdbox)(h)}})).catch((function(e){(0,O.addErrorLog)(e,{compTargetId:"bdxd-product-detail-trackadd"},[D.logTypeMap.apiError])}))},getCollectStatus:function(){var e=this,t=D.API.getCollectStatus,o=this.data.spuId,a=this.data.shopId;if(o&&a){var i={spuId:o,shopId:a};(0,P.request)({url:t,data:i}).then((function(t){var o=t&&t.data||"";o&&e.setData({collectStatus:o.collected})})).catch((function(t){t&&t.status===D.RESPONSE_STATUS.DOWN_GRADE&&e.setData("useFuncs.collect",!1)}))}},fristPlaceImgLoad:function(){var e=this;this.performancefLogExtra=Object.assign({},(0,O.performanceLogTime)(this.performancefLogExtra,"img_loaded"),{img_src:this.data.firstImg,isPrefetch:this.logicData.isPrefetch,isPrefetchImg:this.logicData.isPrefetchImg}),t((function(){(0,O.bdxdAddLog)(e,{compTargetId:"m-vision-log-image-load",userExtra:Object.assign({},e.performancefLogExtra)}),e.logicData.isPrefetch=!1,e.logicData.isPrefetchImg=!1}),1e3)},getFloatBallItem:function(){var e=this;(0,P.request)({url:D.API.generalImage,data:{pageType:15},method:"GET"}).then((function(t){if(t&&t.data){var o=t.data||{};e.logicData.jumpUrl=o.bizJumpUrl||"";var a=o.dayImage||"";e.setData({ballImg:a,ballIsShow:!0})}}))},onClickBallOpen:function(){(0,O.bdxdAddLog)(this,{compTargetId:"ssv_299"});var e=this.logicData.jumpUrl;(0,E.generalJump)({url:e})},onClickBallClose:function(){(0,O.bdxdAddLog)(this,{compTargetId:"ssv_300"}),this.setData({ballIsShow:!1})},getStoreRanking:function(){var e=this,t=D.API.getStoreRanking,o=this.data.spuId;if(o){var a={spuIds:[o]};(0,P.request)({url:t,data:a}).then((function(t){var o=t&&t.data||[];o.length>0?e.setData({storeRankingDetail:o[0],isShowRanking:!0}):e.setData({isShowRanking:!1})})).catch((function(t){t&&t.status===D.RESPONSE_STATUS.DOWN_GRADE&&e.setData("useFuncs.collect",!1)}))}},triggerNoShopLiveData:function(){this.setData({isShowLiveBall:!0})},setBottomCoupon:function(){this.setData({bottomCouponClose:!0})},changeMode:function(){var e=this;(0,j.changeDisplayMode)((function(t){var o=t.newValue.displayMode,a=(0,j.navigationBarHeight)()||44,i=(0,j.getStatusBarHeight)(o)+a;e.handleStyle(i+"px")}))},getAddressFreight:function(e){var t=this,o=s().globalData.siteData.addrId||"",a=o?{}:s().globalData.siteData.addressSelected||{},i=e.spuId,n=e.freightTemplateId,r=void 0===n?"":n,d=e.goodsType,u=void 0===d?0:d,c=[];e.packages&&e.packages[0]&&e.packages[0].skuList?c=e.packages[0].skuList:e.skuList&&(c=e.skuList);var p=c[0]||{},l=p.skuId,g=void 0===l?"":l,h=p.longPrice,m={spuId:i,skuId:g,longPrice:void 0===h?"":h,addrId:o,address:a,freightTemplateId:r,goodsType:u};return(0,P.request)({url:D.API.spuFreight,data:m}).then((function(e){var o=e.data,a=void 0===o?{}:o,i=!a.isDelivery,n=a.address,r={addrId:n.addrId,telNumber:n.realPhone,userName:n.name,provinceName:n.provinceName,provinceCode:n.provinceId,cityName:n.cityName,cityCode:n.cityId,countyName:n.districtName,countyCode:n.districtId,townName:n.townName,townCode:n.townId,detailInfo:n.detailAddr};s().globalData.siteData.addressSelected=r,s().globalData.siteData.addrId=n.addrId||"",t.setData({isDelivery:i,addressDelivery:n})})).catch((function(e){t.setData({isDelivery:!1,addressDelivery:{}})}))}},messages:{jumpToRankingList:function(){var e=this.data.storeRankingDetail||{};(0,O.bdxdAddLog)(this,{compTargetId:"ssv_301"}),(0,E.generalJump)({url:"/wjz/dxdjx/activity/rank-page/rank-page",params:{cate:e.tabConfig,rank:e.rankingIndex,spuId:e.spuId}})},groupLayerSwitch:function(e){this.toggleGroupLayer(e.value)},imgLoaded:function(e){var o=this;e.target&&e.target.dataset&&"product-detail"===e.target.dataset.pageType&&0===e.target.dataset.index?this.data.showCarouselPlace&&(this.setData({showCarouselPlace:!1}),this.logicData.mediaLoaded=!0,t((function(){o.setData({showFisrtImage:!1})}),100),this.data.oCarouselInfo&&1===(this.data.oCarouselInfo.carouselList||[]).length&&this.getAnchorTop()):(0,O.debounce)((function(){o.getAnchorTop()}),100).bind(this)()},responseDone:function(){this.getAnchorTop()},videoLoaded:function(e){var o=this,a=e.value.target;a&&a.dataset&&"product-detail"===a.dataset.pageType&&0===a.dataset.index&&this.data.showCarouselPlace&&(this.setData({showCarouselPlace:!1}),this.logicData.mediaLoaded=!0,t((function(){o.setData({showFisrtImage:!1})}),100))},collectChange:function(e){var t=e.value;this.setData({collectStatus:t})},onShowPopupLayerChange:function(e){e&&e.value&&this.setData({showPopupLayer:e.value.showPopupLayer}),this.changeNavBarColor(e.value.showPopupLayer)},showActivityLogo:function(e){this.setData({isShowActivityLogo:e.value.isShow})},productDetailLoginSuccess:function(e){this.logicData.hasLogin||(this.setData({isLogin:!0}),this.logicData.hasLogin=!0,e&&e.value&&e&&e.value&&"collect"===e.value.from||this.getCollectStatus(),this.trackAdd(),this.getCartCountBefore())},noLikeList:function(){var e=this.data.anchorList.filter((function(e){return"推荐"!==e}));this.setData({isShowLikeList:!1,anchorList:e})},hideTopCoupon:function(e){this.setData({noTopCoupon:e})}}})})),window.define("767",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=[{type:"title",content:"价格说明"},{type:"text",content:"价格说明：商品的实时标价：商品的实时标价为商品销售价，是您最终决定是否购买商品的依据。\n划线价：商品展示的划横线价格为商品参考价，该价格可能是品牌的专柜标价、商品的吊牌价或由品牌供应商所提供的正品零售价（如厂商指导价、建议零售价等）或商品在度小店上曾经展示过的销售价；因存在地区、时间的差异性和市场行情上的波动，品牌的专柜标价、商品的吊牌价等可能会与您购物时展示的不一致，该价格仅供您参考。\n折扣：如无特殊说明，折扣指销售商在商品划线价（如品牌的专柜标价、商品的吊牌价、厂商指导价、建议零售价）等某一价格基础之上计算出的优惠比例或优惠金额；如有疑问，建议您在购买前联系商家客服进行咨询。\n异常问题：活动商品的售价以商品详情页中显示的商品销售价为准，商品的具体售价以订单结算页显示的价格为准；如您发现活动商品的售价或促销信息存在异常，建议您在购买前联系商家客服进行咨询。"},{type:"title",content:"如何退换货？"},{type:"text",content:"商品收到7日之内，您可以选申请无忧退换货。\n选择您要退换货的商品，点击订单列表的该商品进入订单详情页，在订单详情页选择“退款”或“退货”，按照指定的流程进行操作即可。\n退款成功后，您的资金将原路返还，因不同银行处理时间不同，预计1-5个工作日内到账。"},{type:"title",content:"如何查询订单？"},{type:"text",content:"进入小程序后，点击底部的“个人中心”进入个人中心页面，在订单模块可以查看订单信息和订单状态。"},{type:"title",content:"如何查找小程序？"},{type:"text",content:"打开百度APP，您可以在搜索框中输入店铺名称，直接搜索小程序。如果您之前曾经访问过店铺，也可以在百度APP“我的>最近使用”中找到。"}]})),window.define("768",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=["gss0","bdstatic"],T={PNG:"png",JPG:"jpg",JPEG:"jpeg",WEBP:"webp"},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.lastIndexOf("."),o=e.substr(t+1).split("?").shift();return o},P=function(e){var t=x(e);return-1!==[T.PNG,T.JPG,T.JPEG].indexOf(t.toLowerCase())},D=function(e,t){var o=e.split("?"),a=o.shift(),i=a.indexOf("@")>-1?a+","+t:a+"@"+t;return i=o.length>0?i+"?"+o[0]:i,t?i:e},_=function(e){return-1!==[T.PNG].indexOf(e.toLowerCase())},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=x(e);return _(t)?"f_"+t.toLowerCase():""},A=function(e){return!!I.filter((function(t){return e&&e.indexOf(t)>-1})).length};o.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"q_70",o=t,a=e;return!A(a)&&o&&P(a)?(a=D(a,k(a)),D(a,o)):a}})),window.define("769",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.syncAddBdbox=void 0;var I=e(51),T=e(4),x=e(59),P=e(58);o.syncAddBdbox=function(e){var t=e.goodsLabels,o=(t=t.length<=3?t:t.slice(0,3)).map((function(e){return e.value})),a=I.dxdjxAppkey,i=(0,T.getCurrentPage)(),n="baiduboxapp://swan/"+a+"/"+(i&&i.__pageData__&&i.__pageData__.xcxPath||"").split("&").map((function(e){return e.includes("ch=")&&!e.includes("sch=")&&(e="ch="+x.CHANNEL_INFO.bdboxHistory.ch),e.includes("sch=")&&(e="sch="+x.CHANNEL_INFO.bdboxHistory.sch),e})).join("&"),r={authority:"",module:"history",action:"addHistory",parameters:{params:{uKey:"baiduapp_duxiaodian://"+e.spuId,tplId:"product",title:e.name,image:e.goodsPictureUrl,price:e.price,productId:e.spuId,shopName:e.shopName,shopUrl:e.shopUrl,cmd:n,statusTag:1===e.state&&"0"!==e.restStock?"0-有效":"3-已失效",saleTag:o}}};(0,P.openBdboxWebview)(r)}})),window.define("771",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(61);Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},lifetimes:{ready:function(){var e=this.properties.componentData,t=e.promotionVo,o=e.promotionSkuVos;t&&this.initLogInstance(t,o)},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{initLogInstance:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o={promotionId:e.promotionId,isLimit:!!e.limitTips,spuIds:[],skuIds:[],skuDetail:[],totalAmount:0};t.forEach((function(e){(e.cartSkuVos||[]).forEach((function(e){o.spuIds.push(e.spuId),o.skuIds.push(e.skuId),o.skuDetail.push({skuId:e.skuId,checkedStatus:e.checkedStatus,amount:e.amount}),1===e.checkedStatus&&(o.totalAmount=o.totalAmount+e.amount)}))})),this.intersectionObserver=(0,I.observerElementShowLog)({context:this,selector:".shop-cart-card-wrapper",logParams:{compTargetId:"ssv_621",userExtra:o}})}}})})),window.define("773",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81),T=e(4);Component({options:{addGlobalClass:!0},properties:{detailsInfo:{type:Array,value:[],observer:function(e){var t=[];e.forEach((function(e){var o=e.skus,a=0,i=[];(void 0===o?[]:o).forEach((function(e){a++,i.push(e.image)})),t.push(Object.assign({},e,{images:i.slice(0,4),allImages:i,imagesCount:a-4}))})),this.setData({renderData:t})}}},data:{renderData:[]},methods:{handleClick:function(e){var t=this,o=e.currentTarget.dataset.promotion;(0,T.bdxdAddLog)(this,{compTargetId:"ssv_657"}),(0,I.generalJump)({url:"/wjz/dxdjx/product-group/product-group",params:{activityId:o,from:"shopCart"},success:function(){t.triggerEvent("closeModal")}})}}})})),window.define("775",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{priceInfo:{type:Object,value:{},observer:function(e){this.initDiscounts(e)}},visiable:{type:Boolean,value:!1,observer:function(e){this.setData({isVisiable:e})}},wrapperStyle:{type:Object,value:{}}},data:{isVisiable:!1,priceTotal:0,discountTotal:0,actualPayment:0,discountsList:[]},methods:{initDiscounts:function(e){var t=e.totalPrice,o=e.promotionAmount,a=e.discount,i=e.totalDiscountAmount,n=e.paymentAmount,r=e.platformPromotionAmount,s=e.platformCouponDiscountAmount,d=e.perReducePromotionDetailVos,u=void 0===d?[]:d,c=e.multiShopReducePromotionDetailVos,p=[{key:"shopEnvelope",label:"店铺活动",value:o,details:void 0===c?[]:c,isUnfolded:!0},{key:"fullReduction",label:"店铺优惠券",value:a,details:[],isUnfolded:!1},{key:"platformCouponDiscountAmount",label:"平台优惠券",value:s,details:[],isUnfolded:!1},{key:"platformPromotionAmount",label:"平台活动",value:r,details:u,isUnfolded:!0}];this.setData({priceTotal:t,discountTotal:i,actualPayment:n,discountsList:p})},onClickDetail:function(e){var t=e.currentTarget.dataset.key,o=this.data.discountsList.map((function(e){return e.key===t&&e.details.length>0&&(e.isUnfolded=!e.isUnfolded),e}));this.setData({discountsList:o})},onClosePopup:function(){var e=this;this.setData({isVisiable:!1},(function(){e.triggerEvent("closePriceDetail",!1)}))}}})})),window.define("777",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["custom-class","custom-content-class","custom-action-class"],properties:{pid:{type:Number,value:0,observer:function(e){var t=this;e&&this.setData({animate:!0},(function(){t.setData({translateX:0})}))}},scrollWay:{type:String,value:"left",observer:function(e){var t=this;"left"===e&&this.data.translateX&&this.setData({animate:!0},(function(){t.setData({translateX:0})}))}},scrollWidth:{type:Number,value:60},scrollY:{type:Boolean,value:!1}},data:{translateX:0,animate:!1},methods:{handleTouchStart:function(e){1===e.touches.length&&(this.dispatch("touchMoveStart",Object.assign({pid:this.properties.pid},e)),this.touchStartX=e.touches[0].pageX,this.touchStartY=e.touches[0].pageY,this.startX=this.data.translateX,this.direction=null)},handleTouchMove:function(e){if(1===e.touches.length){this.touchMoveX=e.touches[0].pageX,this.touchMoveY=e.touches[0].pageY,this.moveX=this.touchMoveX-this.touchStartX;var t=this.touchMoveY-this.touchStartY;if(this.dispatch("touchMove",Object.assign({pid:this.properties.pid,moveX:this.moveX,moveY:t},e)),Math.abs(t)>Math.abs(this.moveX)||this.properties.scrollY)return void(this.direction="Y");if(this.direction="X",this.moveX>0||this.startX===-this.properties.scrollWidth&&this.moveX<0)return;Math.abs(this.moveX)>=this.properties.scrollWidth?(this.moveX=this.moveX<0?-this.properties.scrollWidth:this.properties.scrollWidth,this.setData({translateX:this.moveX})):this.setData({translateX:this.touchMoveX-this.touchStartX+this.startX})}},handleTouchEnd:function(e){var t=this;if(1===e.changedTouches.length){if("X"!==this.direction)return Math.abs(this.data.translateX)&&this.setData({translateX:0}),void this.dispatch("touchMoveEnd",Object.assign({pid:this.properties.pid,translateX:0},e));var o=0;o=this.moveX+this.startX>=0?0:this.moveX+this.startX<=-this.properties.scrollWidth?-this.properties.scrollWidth:0===this.startX&&Math.abs(this.moveX)<this.properties.scrollWidth/2||this.startX===-this.properties.scrollWidth&&Math.abs(this.moveX)>this.properties.scrollWidth/2?0:-this.properties.scrollWidth,this.setData({animate:!0},(function(){t.setData({translateX:o})})),this.dispatch("touchMoveEnd",Object.assign({pid:this.properties.pid,translateX:o},e))}},handleDeleteSpu:function(){this.dispatch("handleDeleteSpu",{pid:this.properties.pid})}}})})),window.define("779",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=N(e(3)),x=e(239),P=e(51),D=e(92),_=e(284),k=e(4),A=e(119),j=e(58),O=e(81),L=e(277),E=N(e(126));function N(e){return e&&e.__esModule?e:{default:e}}function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(n().globalData.siteData||{}).shopId;var M,B,F="left",U="right",G=(0,k.tranPxToRpx)({width:"99",height:"27",float:"right"}),H=1,q=2,z={ALL:0,LOWER_PRICE:1};Component({options:{addGlobalClass:!0},behaviors:[(0,A.loginBehavior)()],data:{promotionTypeMap:P.promotionTypeMap,loadingHeight:(0,x.upx2dpx)(157),isAdmin:!1,totalNum:null,validatedSkus:[],invalidatedSkus:[],viewHeight:"calc(100vh - 64px)",spuInfo:{},selectedCard:{},promotionTips:{},showCoupon:!1,invalidatedSkuNum:null,navigationBarHeight:"64px",emptyCartImg:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2Femptycart.png",priceInfo:{},isSelectAll:!1,selectCount:0,isTakeCouponBtn:!1,showPriceDetail:!1,specLayerIsOpen:!1,specSelectStatus:{},openSpecSpu:0,couponList:[],promotionList:[],hasDiscount:!1,hasShopDiscount:!1,inputNumberStyle:G,hasPlatformDiscountAmount:!1,isCarlistSpu:!0,loginStatus:0,atmosphere:{},barPromotionDiscountDetail:{},unAbleBarPromotion:"",estimatedPriceTips:{},isLoading:!0,barPromotionCount:0,activeTab:0,tabMap:z,brandTagUrl:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/brandduan3.png",shopTag:{none:0,brand:1,flagship:2},listRequesting:!1},logicData:{generalParams:{id:"mip-bdxd-shop-cart",name:"mip-bdxd-shop-cart",type:"mip-bdxd-shop-cart",title:"购物车"},submitCartList:[],cartListFlag:!0,MNpromotionInfo:{},isAutoTakeCoupon:!1,goodsPictureUrlMap:{}},pageLifetimes:{show:function(){var e=this;this.hasGetCratList&&n().globalData.siteData.bdSysInfoPromise.finally((function(){e.setData({isLoading:!0}),e.getCartList(e.getCatListCallBack)}))}},created:function(){this.isMoveSpu=0,this.isFirst=!0,this.cardMap={},this.hasGetCratList=!1},attached:function(){var e=this;T.default.addHandler("getNavHeight",(function(t){e.setData({navigationBarHeight:t,viewHeight:"calc(100vh - "+t+")"})})),n().globalData.siteData.bdSysInfoPromise.finally((function(){e.getCartList(e.getCatListCallBack,(function(){}),!0)}))},detached:function(){T.default.clearEvents(["getContentHeight","getNavHeight"])},observers:{spuInfo:function(e){var t=0,o=!1;Object.keys(e).map((function(a){e[a].isSelect&&(t+=Number(e[a].amount),e[a].isTakeCoupon&&(o=!0))})),this.setData({selectCount:t,isTakeCouponBtn:o})},isSelectAll:function(e){e||this.setData({priceInfo:Object.assign({},this.data.priceInfo,{totalPrice:"0.00",promotionAmount:"0.00",discount:"0.00",totalDiscountAmount:"0.00",paymentAmount:"0.00",platformPromotionAmount:"0.00",shopDiscountAmount:"0.00",platformCouponDiscountAmount:"0.00",platformDiscountAmount:"0.00",perReducePromotionDetailVos:{},multiShopReducePromotionDetailVos:{}})})},priceInfo:function(e){var t=parseFloat(e.shopDiscountAmount)>0,o=parseFloat(e.platformDiscountAmount)>0,a=parseFloat(e.discount)>0||t||o;this.setData({hasDiscount:a,hasShopDiscount:t,hasPlatformDiscountAmount:o})}},messages:{onPageClick:function(){this.resetScrollItem()},touchMoveStart:function(e){this.isCurMove=this.isMoveSpu===e.value.pid,this.isCurMove||this.resetScrollItem()},touchMoveEnd:function(e){var t=e.value,o=t.translateX,a=t.pid;this.setData(Object.assign({},this.changeSpuInfo(a,{scrollWay:o<0?U:F}))),this.isMoveSpu=o<0?a:0,(0,k.bdxdAddLog)(this,{compTargetId:"ssv_136",userExtra:{spu_id:this.data.spuInfo[a].spuId,comp_material_id:this.data.spuInfo[a].spuId}})},handleDeleteSpu:function(e){var t=this.data.spuInfo[e.value.pid],o=[{shopId:t.shopId,spuId:t.spuId,skuId:t.skuId}];this.deleteSpuRequset(o,!1,!1);var a=this.data.spuInfo[t.skuId].isValidate;(0,k.bdxdAddLog)(this,{compTargetId:a?"ssv_149":"ssv_153",userExtra:{spu_id:t.spuId,comp_material_id:t.spuId}})},onClosePopup:function(){this.setData({showCoupon:!1}),this.changeNavBarColor(this.data.showCoupon),this.getCalulateDetail()},onLogin:function(e){this.loginHandle(e)}},methods:{$loginSuccessCb:function(e){var t=e.value.extra,o=void 0===t?{}:t;switch(o.target){case"topLogin":this.getCartList(this.getCatListCallBack),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_620"});break;case"onTakeCoupon":this.onTakeCoupon(o.shopId);break;case"submitPriceConfirm":0===this.data.loginStatus?this.getCartList(this.getCatListCallBack):this.submitPriceConfirm();break;case"handleAutoTakeCoupon":0===this.data.loginStatus?this.getCartList(this.getCatListCallBack):this.handleAutoTakeCoupon()}},handleBackClick:function(){(0,j.jumpToInnerSwan)({type:j.innerJumpType.navigateBack,fail:function(){i.exit()}})},changeSpuInfo:function(e,t){var o=(0,k.deepCopy)(this.data.spuInfo);return{spuInfo:Object.assign({},o,R({},e,Object.assign({},o[e],t)))}},resetScrollItem:function(){this.isMoveSpu&&(this.setData(Object.assign({},this.changeSpuInfo(this.isMoveSpu,{scrollWay:F}))),this.isMoveSpu=0)},onRefresh:function(){var e=this;i.createSelectorQuery().in(e).select(".pull-down-refresh").fields({id:!0},(function(t){if(!t)throw new Error("未找到节点 pull-down-refresh");var o=e.selectComponent(t.id);e.getCartList(e.getCatListCallBack,e.getCartListFinalBack(o))})).exec()},getCalulateSkus:function(){var e=[];for(var t in this.data.spuInfo){var o=this.data.spuInfo[t],a=o.isSelect,i=o.amount,n=o.spuId,r=o.packageId,s=o.price,d=o.shopId,u=o.targetId,c=(void 0===u?"":u).split("_"),p=I(c,2),l=p[0],g=p[1];if(a){var h={count:i,salePrice:s,skuId:t,packageId:r,spuId:n,shopId:d};"promotion"===l&&(h.cartGroupPromotionId=g),e.push(h)}}return e},handlePromotionTips:function(e){var t=this,o={};e.map((function(e){try{if(e.promotion){var a=e.promotion,i=a.promotionId,n=a.promotionAmount,r=t.logicData.MNpromotionInfo[i].limitCondition,s=e.skus.reduce((function(e,t){return e+parseInt(t.buyCount,10)}),0);o[i]=s>r?{tips:"已选"+s+"件,优惠"+n+"元",btnTips:"去逛逛"}:s<r?{tips:"还差"+(r-s)+"件",btnTips:"去凑单"}:{tips:"已满"+r+"件",btnTips:"去逛逛"}}}catch(e){console.log(e)}})),this.setData({promotionTips:o})},handlePromotionDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};try{e.forEach((function(e){var o=e.skus;(void 0===o?[]:o).forEach((function(e){var o=e.estimatedTotalPrice,a=e.salePrice,i=e.priceText;+o<+a&&(t[e.skuId]={estimatedTotalPrice:o,priceText:i})}))}))}catch(e){}this.setData({estimatedPriceTips:t})},getCalulateDetail:function(){var e=this;this.setData({isLoading:!0});var t=P.API.caculateCartPrice,o=this.getCalulateSkus(),a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(this.promotionInfo));0===o.length&&(this.setData({promotionTips:{},barPromotionDiscountDetail:{},estimatedPriceTips:{},barPromotionCount:0,unAbleBarPromotion:""}),this.setData({isLoading:!1})),o.length&&(0,D.request)({url:t,data:{skus:o}}).then((function(t){var i=t.data,n=void 0===i?{}:i,r=e.getCalulateSkus(),s=JSON.stringify({promotionInfo:a})===JSON.stringify({promotionInfo:e.promotionInfo}),d=[];for(var u in o)for(var c in r)JSON.stringify(o[u])===JSON.stringify(r[c])&&d.push(o[u]);if(s&&d.length===o.length){var p=n.perReducePromotionDetailVos,l=void 0===p?[]:p,g=n.unAblePerReducePromotionDetailVos,h=void 0===g?[]:g,m=n.multiShopReducePromotionDetailVos,f=void 0===m?[]:m,v=n.unAbleMultiShopReducePromotionDetailVos,b=void 0===v?[]:v,w=n.barType,y=void 0===w?0:w,C=function(t){return t.map((function(t){var o=t.skus,a=void 0===o?[]:o;return Object.assign({},t,{skus:a.map((function(t){return Object.assign({},t,{image:e.logicData.goodsPictureUrlMap[t.skuId]})}))})}))};l=C(l),f=C(f);var S=[],I=[];switch(y){case H:S=l,I=h;break;case q:S=f,I=b;break;default:S=[],I=[]}var T=S.length?S[0]:{},x=S.length,P="";I.length&&(P=I.map((function(e){return"每满"+e.fullPrice+"减"+e.discountPrice})).join("、")+"活动优惠已达上限"),e.setData({priceInfo:{totalPrice:n.totalPrice,promotionAmount:n.promotionAmount,discount:n.discount,totalDiscountAmount:n.totalDiscountAmount,paymentAmount:n.paymentAmount,platformPromotionAmount:n.platformPromotionAmount,shopDiscountAmount:n.shopDiscountAmount,platformCouponDiscountAmount:n.platformCouponDiscountAmount,platformDiscountAmount:n.platformDiscountAmount,perReducePromotionDetailVos:l,multiShopReducePromotionDetailVos:f},barPromotionDiscountDetail:T,barPromotionCount:x,unAbleBarPromotion:P}),x?e.setData({viewHeight:"calc(100vh - "+e.data.navigationBarHeight+" - 40px)"}):e.setData({viewHeight:"calc(100vh - "+e.data.navigationBarHeight+")"}),e.handlePromotionTips(n.goods),e.handlePromotionDetail(n.goods)}})).catch((function(e){throw(0,k.normalToast)({title:e.statusInfo}),new Error(e)})).finally((function(){e.setData({isLoading:!1})}))},getCatListCallBack:function(){this.getCalulateDetail()},getCartListFinalBack:function(e){return function(){e.stopRefresh()}},changePromotionInfo:function(e){var t=[];this.spuCouponAndPromotions.map((function(o){o.promotionVos.map((function(a){e[o.skuId].isSelect&&(e[o.skuId].spikeInfoVO||5!==a.promotionType)&&t.push(Object.assign({},a,{shopId:o.shopId,spuId:o.spuId,skuId:o.skuId,packageId:o.packageId}))}))})),this.promotionInfo=[].concat(t)},formatData:function(e){var t=this,o={totalNum:e.totalNum,loginStatus:e.loginStatus,validatedSkus:e.validatedSkus||[],invalidatedSkus:e.invalidatedSkus||[],invalidatedSkuNum:e.invalidatedSkuNum,atmosphere:e.atmosphere||{}},a={},n={},r={};this.logicData.submitCartList=[],(e.validatedSkus||[]).map((function(e){var o="",i={};if(e.shopVo)i=e.shopVo,o="shop_"+e.shopVo.shopId;else if(e.promotionVo){var s=i=e.promotionVo,d=s.promotionId,u=function(e,t){var o={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a]);return o}(s,["promotionId"]);t.logicData.MNpromotionInfo[d]=u,o="promotion_"+e.promotionVo.promotionId}r[o]=[],a[o]=!!i.isAllCheck,e.promotionSkuVos.forEach((function(e){(e.cartSkuVos||[]).map((function(e){var a=t.getSpikeUserRestStock(e),s=t.getSpuCoupons(e);t.getSkuPics(e),r[o].push(e.skuId);var d=Object.assign({targetId:o,couponsTitle:s,isSelect:!!e.checkedStatus,isValidate:!0,scrollWay:F,isOpenSku:!1},e,{amount:Math.min(e.amount,+e.restStock,a||99),specSelectStatus:{count:Math.min(e.amount,+e.restStock),salePrice:e.price,skuId:e.skuId,packageId:e.packageId},isTakeCoupon:i.isTakeCoupon||!1,_maxLimitNum:a||e.numLimitMax,_maxDisabledText:t.getMaxDisabledText(e),_spikeLimitTips:t.getSpikeLimitTips(e.spikeInfoVO)});n[e.skuId]=d,t.logicData.submitCartList.push({skuId:e.skuId})}))}))})),(e.invalidatedSkus||[]).map((function(e){e.cartSkuVos.map((function(e){n[e.skuId]=Object.assign({isSelect:!1,isValidate:!1,scrollWay:F,isOpenSku:!1},e,{amount:Math.min(e.amount,+e.restStock),specSelectStatus:{count:Math.min(e.amount,+e.restStock),salePrice:e.price,skuId:e.skuId,packageId:e.packageId}}),t.logicData.submitCartList.push({skuId:e.skuId})}))}));var s=Object.values(a),d=s.length&&!s.includes(!1);if(o=Object.assign({},o,{spuInfo:n,selectedCard:a,isSelectAll:d}),!0!==this.data.$isLogin&&this.isFirst&&((0,k.bdxdAddLog)(this,{compTargetId:"ssv_619"}),o.viewHeight="calc(100vh - "+this.data.navigationBarHeight+" - 40px)"),this.cardMap=r,this.isFirst=!1,this.spuCouponAndPromotions=e.spuCouponAndPromotions||[],this.setData(o),this.changePromotionInfo(n),e.promotionLostTips){var u=i.getStorageSync("M_buy_N_promotion_goods_change_tips");e.promotionLostTips!==u&&(i.setStorageSync("M_buy_N_promotion_goods_change_tips",e.promotionLostTips),(0,k.normalToast)({title:e.promotionLostTips}))}},tabSwitch:function(e){if(!this.data.listRequesting){var t=e.currentTarget.dataset.type||"",o=+t!==this.data.activeTab;t?this.setData({activeTab:+t}):this.setData({activeTab:z.ALL}),o&&this.getCartList(this.getCatListCallBack)}},getCartList:function(e,t,o){var a=this;this.setData({listRequesting:!0});var n=P.API.getCartList;(0,D.request)({url:n,data:{type:this.data.activeTab}}).then((function(t){var o=t.data,i=void 0===o?{}:o;i&&a.formatData(i),e&&e.call(a)})).catch((function(e){throw(0,k.normalToast)({title:e&&e.statusInfo}),new Error(e)})).finally((function(){t&&t.call(a),o&&(0,k.removeSkeleton)({delayTime:10}),i.hideLoading(),a.hasGetCratList=!0,a.setData({listRequesting:!1})}))},onAdminStatusChange:function(){this.setData({isAdmin:!this.data.isAdmin}),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_133"})},onSelectedCard:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.currentTarget?e.currentTarget.dataset.targetId:e,i=this.data,n=i.spuInfo,r=i.selectedCard,s=function(e,o){return e.reduce((function(e,a){return Object.assign({},e,R({},a,Object.assign({},t.data.spuInfo[a],{isSelect:o})))}),{})},d=Object.assign({},r),u=Object.assign({},n);a.map((function(e){var a=r[e],i=t.cardMap[e]||[],n=o?t.data.isSelectAll:!a;d=Object.assign({},d,R({},e,n)),u=Object.assign({},u,s(i,n))}));var c=Object.values(d).includes(!1);this.changePromotionInfo(u),this.setData({spuInfo:u,selectedCard:d,isSelectAll:!c}),this.getCalulateDetail();var p=[];for(var l in u){var g=u[l],h=g.isSelect,m=g.spuId,f=g.shopId;p.push({spuId:m,skuId:l,shopId:f,checkedStatus:h?1:0})}if(this.handleSelectRequest({skus:p}),1===a.length){var v=a[0];(0,k.bdxdAddLog)(this,{compTargetId:r[v]?"ssv_142":"ssv_141"})}},onGotoShopPage:function(e){var t=e.currentTarget&&e.currentTarget.dataset.pageUrl,o=(0,k.parseSwanUrl)(t[0]||"").options,a=void 0===o?{}:o,i=a.shopId,n=a.pageId,r=a.url;i&&n&&r&&(0,j.jumpToInnerSwan)({path:P.PAGES.SHOP_HOME,params:{shopId:i,pageId:n,url:r}})},onGotoActivityPage:function(e){var t=e.currentTarget&&e.currentTarget.dataset.promotionId;(0,k.bdxdAddLog)(this,{compTargetId:"ssv_622",userExtra:{promotionId:t,type:"promotion_card"}}),(0,L.jumpToDuTab)({promotionId:t,pos:"cart"})},onTakeCoupon:function(e){var t=this,o=this.cardMap["shop_"+e]||[],a=[],i=[],n=new Set,r=new Set;o.map((function(e){var o=t.data.spuInfo[e],n=o.ableCoupons,r=void 0===n?[]:n,s=o.ablePromotionVos,d=void 0===s?[]:s;a=a.concat(r),i=i.concat(d)})),a=a.filter((function(e){var t=e.batchId;return!r.has(t)&&(r.add(t),!0)})),i=i.filter((function(e){var t=e.promotionId,o=e.promotionType;return!n.has(t)&&(n.add(t),P.ACTIVE_PROMOTION_TYPES.includes(o))})),this.logicData.cartListFlag&&this.getCartList(this.getCatListCallBack);(0,k.isExistBduss)().then((function(){!function(){if(!t.data.showCoupon){if(0===a.length&&0===i.length)return void t.setData({showCoupon:!1});t.setData({couponList:a.map((function(e){var t=1===e.takeStatus;return Object.assign({},e,{isHad:t})})),promotionList:i}),t.setData({showCoupon:!0})}t.changeNavBarColor(!t.data.showCoupon),(0,k.bdxdAddLog)(t,{compTargetId:"ssv_151"})}()}))},jumpToProductDetail:function(e){if(!this.isCurMove){this.isCurMove=!1;var t=e.currentTarget.dataset.skuId,o=e.currentTarget.dataset&&e.currentTarget.dataset.type,a=e.currentTarget.dataset&&e.currentTarget.dataset.promotionVo,n=this.data.spuInfo[t],r=n.amount,s=n.salePrice,d=n.spuId,u=n.packageId,c=n.productUrlVo&&n.productUrlVo.webAppUrl;if(c){i.setStorageSync("specSelectStatus",JSON.stringify({count:r,salePrice:s,skuId:t,packageId:u}));var p=(0,k.parseSwanUrl)(c).options;a&&a.promotionId&&(0,k.bdxdAddLog)(this,{compTargetId:"ssv_622",userExtra:{skuId:t,promotionId:a.promotionId,type:"promotion_sku"}}),(0,j.jumpToInnerSwan)({path:P.PAGES.PRODUCT_DETAIL,params:Object.assign({},p,{subSceneValue:+o?"ssv_150":"ssv_140"}),log:{ctx:this,userExtra:{spu_id:d,comp_material_id:d}}})}}},changeSpuNumber:function(e){if(this.data.isLoading)return!1;var t=e.currentTarget.dataset.skuId,o=this.data.spuInfo[t].amount<e.val;this.setData(Object.assign({},this.changeSpuInfo(t,{amount:e.val,specSelectStatus:Object.assign({},this.data.spuInfo[t].specSelectStatus,{count:e.val})}))),this.getCalulateDetail();var a=P.API.changeSpuCount,i=this.data.spuInfo[t],n=i.shopId,r=i.spuId,s={spuId:r,shopId:n,skuId:t,amount:e.val};(0,D.request)({url:a,data:s}).catch((function(e){throw(0,k.normalToast)({title:e.statusInfo}),new Error(e)})),(0,k.bdxdAddLog)(this,{compTargetId:o?"ssv_147":"ssv_148",userExtra:{spu_id:r,comp_material_id:r}})},handleSelectRequest:function(e){var t=P.API.selectCartSpu;(0,D.request)({url:t,data:e}).catch((function(e){throw(0,k.normalToast)({title:e.statusInfo}),new Error(e)}))},onSelectedSpu:function(e){if(this.data.isLoading)return!1;var t=e.currentTarget?e.currentTarget.dataset.skuId:e,o=this.data,a=o.spuInfo,i=o.selectedCard,n=a[t],r=n.targetId,s=n.shopId,d=n.spuId,u=n.isSelect,c=this.cardMap[r]||[],p=[],l=Object.assign({},a,R({},t,Object.assign({},a[t],{isSelect:!u})));for(var g in l)l[g].isSelect&&l[g].isValidate&&l[g].targetId===r&&p.push(g);var h=Object.assign({},i,R({},r,p.length===c.length)),m=Object.values(h).includes(!1);this.changePromotionInfo(l),this.setData({spuInfo:l,selectedCard:h,isSelectAll:!m}),this.getCalulateDetail();var f=[{spuId:d,skuId:t,shopId:s,checkedStatus:u?0:1}];this.handleSelectRequest({skus:f})},onChangeSku:function(e){var t=e.currentTarget.dataset.skuId,o=this.data.spuInfo[t].isOpenSku;this.setData(Object.assign({},this.changeSpuInfo(t,{isOpenSku:!o}),{specLayerIsOpen:!o,openSpecSpu:o?0:t,"specSelectStatus.info":o?{}:Object.assign({},this.data.spuInfo[t].specSelectStatus)})),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_145",userExtra:{spu_id:this.data.spuInfo[t].spuId,comp_material_id:this.data.spuInfo[t].spuId}})},onSelectedAll:function(){this.data.validatedSkus.length&&(this.setData({isSelectAll:!this.data.isSelectAll}),this.onSelectedCard(Object.keys(this.data.selectedCard),!0),(0,k.bdxdAddLog)(this,{compTargetId:this.data.isAdmin?"ssv_134":"ssv_139"}))},showPriceDetail:function(){this.setData({showPriceDetail:!this.data.showPriceDetail}),this.changeNavBarColor(this.data.showPriceDetail),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_138"})},handleLessStock:function(){this.getCartList(this.getCatListCallBack)},handleAutoTakeCoupon:(M=regeneratorRuntime.mark((function e(){var t,o,a,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.logicData.isAutoTakeCoupon&&!this.isSubmit){e.next=2;break}return e.abrupt("return");case 2:return this.logicData.isAutoTakeCoupon=!0,t=[],this.logicData.submitCartList.forEach((function(e){var o=e.skuId,a=n.data.spuInfo[o],i=a.isSelect,r=a.spuId,s=a.shopId,d=a.amount;i&&t.push({skuId:o,spuId:r,shopId:s,count:d})})),i.showLoading({title:"领取中..."}),e.next=8,E.default.hgzAs(P.antifraudConfig.userGrowth);case 8:o=e.sent,a={skus:t,antiCheatVo:o,scene:13},(0,D.request)({url:P.API.couponAutoTake,data:a}).catch((function(e){n.logicData.errToast="系统自动领券失败，请重试或手动领券",(0,k.addErrorLog)(e,{url:P.API.couponAutoTake,param:a,errType:"api_req_error",compTargetId:"api-take-coupon-err",name:"购物车-自动领券"},[P.logTypeMap.apiError])})).finally((function(){n.submitPriceConfirm()}));case 11:case"end":return e.stop()}}),e,this)})),B=function(){var e=M.apply(this,arguments);return new Promise((function(t,o){return function a(i,n){try{var r=e[i](n),s=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(s).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(s)}("next")}))},function(){return B.apply(this,arguments)}),submitPriceConfirm:function(){var e=this;if(!this.isSubmit){this.isSubmit=!0,this.logicData.isAutoTakeCoupon=!1;var t=P.API.caculateCheck,o=[],a=[];if(this.logicData.submitCartList.forEach((function(t){var i=t.skuId,n=e.data.spuInfo[i],r=n.isSelect,s=n.amount,d=n.spuId,u=n.packageId,c=n.price,p=n.shopId,l=n.extData;if(r){var g={count:s,salePrice:c,skuId:i,packageId:u,spuId:d,shopId:p};o.push(g),a.push(Object.assign({},g,JSON.parse(l||"{}")))}})),!o.length)return this.isSubmit=!1,void(0,k.normalToast)({title:"您还没有选择商品哦"});i.showLoading({title:"结算中"}),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_171"}),(0,D.request)({url:t,data:{skus:o,promotionInfo:this.promotionInfo}}).then((function(){e.isSubmit=!1,i.setStorageSync("selectedShopCart",JSON.stringify({promotionInfo:e.promotionInfo,skus:a})),(0,j.jumpToInnerSwan)({path:P.PAGES.ORDER_SUBMIT,params:{token:JSON.stringify([]),from:"shopCart"},success:function(){if(e.logicData.errToast){var t=e.logicData.errToast;e.logicData.errToast="",(0,k.normalToast)({title:t})}}})})).catch((function(t){if(e.isSubmit=!1,9208!==t.status){if(!~[3503,3504,3505,3506,3507].indexOf(t.status))throw"80011"===t.status.toString()?i.showModal({title:"库存告急",content:"您选购的商品库存不足，请您重新选择",showCancel:!1,confirmText:"好的",confirmColor:"#000",success:function(t){t.confirm&&e.handleLessStock()}}):(0,k.normalToast)({title:t.statusInfo}),new Error(t);i.showModal({title:"提示",content:t.statusInfo,confirmColor:"#3388ff",showCancel:!1,success:function(t){t.confirm&&e.getCartList(e.getCatListCallBack)}})}else i.showModal({title:"商品价格/活动发生变更",content:"请重新确认商品及活动信息",showCancel:!1,confirmText:"确定",confirmColor:"#000",success:function(t){t.confirm&&e.getCartList(e.getCatListCallBack)}})})).finally((function(){i.hideLoading()}))}},deleteSpuRequset:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=P.API.deleteCartSpu;(0,D.request)({url:i,data:{skus:e}}).then((function(){var e={};o&&(e.invalidatedSkus=[],e.invalidatedSkuNum=null),t.data.isAdmin&&a&&(e.isAdmin=!1),Object.keys(e).length&&t.setData(e),t.getCartList(t.getCatListCallBack),(0,k.normalToast)({title:"删除成功"})})).catch((function(e){throw(0,k.normalToast)({title:e.statusInfo}),new Error(e)}))},removeSpus:function(e){var t=this,o=e.currentTarget.dataset.type,a=[];this.data[o].length?(this.data[o].map((function(e){(e.promotionSkuVos||[e]).forEach((function(e){e.cartSkuVos.map((function(e){var i={shopId:e.shopId,spuId:e.spuId,skuId:e.skuId};("validatedSkus"===o&&t.data.spuInfo[e.skuId].isSelect||"invalidatedSkus"===o)&&a.push(i)}))}))})),(0,k.bdxdAddLog)(this,{compTargetId:"ssv_135"}),a.length?"validatedSkus"===o?i.showModal({content:"确定要删除这"+a.length+"个商品吗?",showCancel:!0,cancelText:"取消",confirmText:"确定",cancelColor:"#999",confirmColor:"#000",success:function(e){e.confirm&&t.deleteSpuRequset(a)}}):this.deleteSpuRequset(a,!0):"validatedSkus"===o&&(0,k.normalToast)({title:"您还没有选中商品哟～"})):(0,k.normalToast)({title:"购物车中暂无失效商品"})},toggleSpecLayer:function(e){var t=e.detail.isOpen;this.setData(Object.assign({specLayerIsOpen:t,openSpecSpu:0},this.changeSpuInfo(this.data.openSpecSpu,{isOpenSku:t}))),this.changeNavBarColor(this.data.openSpecSpu)},updateSelectedData:function(e){this.setData({specSelectStatus:e.detail||{}}),this.changeNavBarColor(!0)},onClickNumChange:function(e){this.updateSelectedData(e)},onClickConfirmBtnChange:function(e){var t=this;this.updateSelectedData(e);var o=this.data,a=o.specSelectStatus,i=o.openSpecSpu,r=o.spuInfo;if(!(1===r[i].state&&r[i].restStock>=1))return!1;if(a&&a.isSelectAll){var s=P.API.replaceCartSpu,d=r[i],u=n().globalData.siteData,c=u.ocpcInfo,p=void 0===c?{}:c,l=u.appKey,g=u.channelInfo;p.url=d.productUrlVo&&d.productUrlVo.webAppUrl&&(0,k.parseSwanUrl)(d.productUrlVo.webAppUrl).url||"";var h=(0,k.objToUrl)(p),m="baiduboxapp://swan/"+l+"/wjz/bdxd/product-detail/product-detail?"+h,f=h,v={oldSku:{shopId:d.shopId,spuId:d.spuId,skuId:d.skuId},newSku:{shopId:d.shopId,spuId:d.spuId,checkedStatus:d.isSelect?1:0,amount:a.info.count,packageId:a.info.packageId,skuId:a.info.skuId,extData:JSON.stringify({cpsInfo:g,ocpcInfo:{pageUrl:m,pageUrlParams:f,bdVid:p.bdVid}})}};(0,D.request)({url:s,data:v}).then((function(e){e.data;t.setData({specLayerIsOpen:!1}),t.getCartList(t.getCatListCallBack),(0,k.bdxdAddLog)(t,{compTargetId:"ssv_146",userExtra:{spu_id:d.spuId,comp_material_id:d.spuId}})})).catch((function(e){throw(0,k.normalToast)({title:e.statusInfo}),new Error(e)}))}else this.triggerEvent("togglespeclayer",{isOpen:!0})},onClickAttrChange:function(e){this.updateSelectedData(e)},onAtmosphereClick:function(){var e=this.data.atmosphere;(0,k.bdxdAddLog)(this,{compTargetId:"ssv_659",userExtra:{jumpLink:e.jumpLink}}),e&&e.jumpLink&&(0,O.generalJump)({url:e.jumpLink})},onPromotionTipsClick:function(e){try{var t=void 0,o=e.currentTarget.dataset.promotionDetail,a=o.totalDiscountPrice,i=o.distancePrice,n=o.fullPrice,r=o.promotionId,s=o.discountPrice,d=this.data.barPromotionCount;t=+a/+s==0?"more":+a/+s>0&&+i<.5*+n&&+i>0?d>1?"detail":"more":"detail";(0,k.bdxdAddLog)(this,{compTargetId:"ssv_658",userExtra:{promotionId:r,totalDiscountPrice:a}}),"more"===t?(0,O.generalJump)({url:"/wjz/dxdjx/product-group/product-group",params:{activityId:r,from:"shopCart"}}):this.showPriceDetail()}catch(e){this.showPriceDetail()}},getMaxDisabledText:function(e){return e.spikeInfoVO?"宝贝已不能购买更多了":99===e.numLimitMax?"最多购买99件":"已达库存上限"},getSpikeLimitTips:function(e){if(!e)return"";var t=+new Date(e.currentSystemTime.replace(/-/g,"/")),o=+new Date(e.endTime.replace(/-/g,"/"))-t,a=Math.floor(o/1e3/60/60/24),i=Math.floor(o/1e3/60/60%24),n=Math.floor(o/1e3/60%60);if(a<=0)return"限时秒杀 还剩"+this.filterNum(i)+":"+this.filterNum(n)+"结束";var r=new Date(e.endTime.replace(/-/g,"/")),s=r.getMonth()+1,d=r.getDate(),u=r.getHours();r.getMinutes();return"限时秒杀 "+this.filterNum(s)+"月"+this.filterNum(d)+"日 "+this.filterNum(u)+":"+this.filterNum(s)+"结束"},filterNum:function(e){return e<10?"0"+e:e},getSpikeUserRestStock:function(e){return e.spikeInfoVO?Math.min(e.spikeInfoVO.spikeLimitNum-e.spikeInfoVO.userUsedNum,e.spikeInfoVO.spikeRestStock):0},getSpuCoupons:function(e){var t=e.ableCoupons,o=void 0===t?[]:t,a=e.ablePromotionVos,i=void 0===a?[]:a,n=[],r=new Set;return i.forEach((function(e){var t=e.promotionType,o=e.discountPrice,a=e.limitCondition,i=e.cartSubTitle,s=void 0===i?"":i,d=(0,_.getPromotionTitle)({promotionType:t,discountPrice:o,limitCondition:a});r.has(s)||(d=s+d,r.add(s)),P.ACTIVE_PROMOTION_TYPES.includes(t)&&n.push(d)})),o.forEach((function(e){var t=e.couponType,o=e.isNoThreshold,a=e.salePrice,i=void 0===a?"":a,s=e.fullPrice,d=void 0===s?"":s,u=e.cartSubTitle,c=void 0===u?"":u,p="";p=15===t?Number(i)+"元购优惠券":1===o?"直减"+Number(i)+"元":"满"+Number(d)+"减"+Number(i),r.has(c)||(p=c+p,r.add(c)),n.push(p)})),n.slice(0,3)},getSkuPics:function(e){var t=e.skuId,o=e.goodsPictureUrl;this.logicData.goodsPictureUrlMap[t]=o},changeNavBarColor:function(e){i.setNavigationBarColor({frontColor:e?"#ffffff":"#000000",backgroundColor:e?"#3388FF":"#ffffff",animation:{duration:500,timingFunc:"linear"}})}}})})),window.define("781",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(58),x=e(81),P=e(342),D=e(341),_=L(e(3)),k=e(51),A=e(340),j=e(93),O=L(e(513));function L(e){return e&&e.__esModule?e:{default:e}}var E="/wjz/bdxd/shop-cart/shop-cart";Component({behaviors:[P.productDetailBehavior],properties:{__id__:{type:String},__name__:{type:String},__title__:{type:String},__type__:{type:String}},data:{couponId:"",activityId:"",tabData:[{label:"综合",id:"1",value:""},{label:"销量",id:"2",value:1},{label:"价格",id:"3",value:-2},{label:"上新",id:"4",value:3}],activeIndex:"1",rootStyle:{position:"fixed",top:94,left:0,right:0,"z-index":3},hasGetData:!1,showCartBar:!1,spuId:"",specLayerIsOpen:!1,discountArr:[],attrLayerMap:k.ATTR_LAYER_MAP,productData:{}},logicData:{isAddingCart:!1,isOrderCheckLoaded:!0,isAutoTakeCoupon:!1,protectIds:"",lastNavBarColorFlag:!0,hasLogin:!1},attached:function(){var e=(0,I.parsePageQuery)(),t=e.couponId,o=void 0===t?"":t,a=e.activityId,i=void 0===a?"":a,n=e.from;this.setData({couponId:o,activityId:i,hasGetData:!0,showCartBar:"shopCart"===n,pageReady:!0}),_.default.trigger("getProductListEvent",{couponId:this.data.couponId,activityId:this.data.activityId}),(0,I.removeSkeleton)()},messages:{addToCart:function(e){var t=e.value.spuId;this.getProductDetail(t)}},methods:{jumpToCart:function(){(0,I.bdxdAddLog)(this,{compTargetId:"ssv_655"}),getCurrentPages().length>1?(0,T.jumpToInnerSwan)({type:T.innerJumpType.navigateBack,fail:function(){(0,x.generalJump)({url:E})}}):(0,x.generalJump)({url:E})},getProductDetail:function(e){var t=this;(n().globalData.pageReqCache[A.GET_PRODUCT_DETAIL]||(0,D.getProductDetail)("",{spuId:e})).then((function(o){var a=o.data||{};a.goodsLabels&&a.goodsLabels.some((function(e){return[18,19].includes(e.id)}))||(0,I.judgeShopStatus)({status:a.programStatus,normalProcess:function(){var o=a.goodsType,i=a.supportPayType,n=a.isNft,r=a.goodsLabels,s=void 0===r?[]:r,d=a.images,u=void 0===d?[]:d,c=a.originPrice,p=a.price,l=a.productActivityType,g=a.state,h=a.restStock,m=a.restStockNoSpike,f=a.name,v=a.shopId,b=a.saleCount,w=a.useFuncs,y=a.goodsPictureUrl,C=a.skuList,S=a.packages,I=a.specifications,T=a.virtualCodeStartTime,x=a.virtualCodeEndTime,P=2!==Number(i)&&o!==k.goodsTypeMap.virtualCard&&o!==k.goodsTypeMap.recharge&&!a.isNft;(0,O.default)(a.shopId),t.setData({spuId:e,shopId:v,isNft:Boolean(n),headImageUrl:u.length&&u[0]||"",hasCar:P,productType:l,spuStatus:{state:g,restStock:h,totalRestStock:h,restStockNoSpike:m},saleInfo:{name:f,originPrice:c,price:p,saleCount:b},supportPayType:i},(function(){var e=a.bjhInfo&&a.bjhInfo.dxdClassMode?{isBjhColumn:!0}:{};t.setData(Object.assign({useFuncs:Object.assign({},w,(0,j.getUseFuncs)(j.downgradeFeature.productDetail)),spuInfo:{singlePrice:(p||"").split("-")[0],serviceText:t.getServiceText(s)},productData:{price:p,goodsType:o,goodsPictureUrl:y,skuList:C,packages:S,specifications:I,virtualCodeStartTime:T,virtualCodeEndTime:x,isSingleSku:t.isSingleSku(a)}},e))})),t.setData({hasGetGoodsData:!0}),t.goToBuy()}})})).catch((function(){(0,I.normalToast)({title:"抢购    太火爆了，请稍后再来"})}))},changeNavBarColor:function(){},goToBuy:function(){this.data.hasCar?this.setData({specLayerIsOpen:!0}):(0,I.normalToast)({title:"该商品暂不支持添加购物车~"}),(0,I.bdxdAddLog)(this,{compTargetId:"ssv_656"})}}})})),window.define("783",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59),T=e(81),x=e(92);Component({data:{protocolList:I.PERSONAL_CENTER_PAGE.protocolList,isSwitchChecked:!1},lifetimes:{attached:function(){this.getRecommendStatus()}},methods:{jumpProtocolPage:function(e){if(e.currentTarget&&e.currentTarget.dataset){var t=e.currentTarget.dataset.url;t&&(0,T.jumpToEasyBrowseH5)(t)}},switchChange:function(e){if(e&&e.detail&&void 0!==e.detail.checked){var t=e.detail.checked?1:0;this.recommendStatusModify(t)}},recommendStatusModify:function(e){var t=this;(0,x.request)({url:I.API.commendModify,data:{operatorType:e}}).then((function(){t.setData({isSwitchChecked:!!e})})).catch((function(){t.setData({isSwitchChecked:!0})}))},getRecommendStatus:function(){var e=this;(0,x.request)({url:I.API.getCommendConfig}).then((function(t){var o=(t&&t.data||{}).personalRecommend,a=void 0===o?1:o;e.setData({isSwitchChecked:!!a})}))}}})})),window.define("785",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],lifetimes:{created:function(){this.pageScrollY=0,this.pageScrollX=0,this.scrollY=!1}},methods:{handleTouchStart:function(e){1===e.touches.length&&(this.pageScrollY=e.touches[0].pageY,this.pageScrollX=e.touches[0].pageX)},handleTouchMove:function(e){if(1===e.touches.length){var t=e.touches[0].pageY-this.pageScrollY,o=e.touches[0].pageX-this.pageScrollX;180*Math.atan(Math.abs(t)/Math.abs(o))/Math.PI>30&&(this.scrollY=!0,this.dispatch("handleScrollYChange",{scrollY:!0}))}},handleTouchEnd:function(e){this.scrollY&&(this.scrollY=!1,this.dispatch("handleScrollYChange",{scrollY:!1}))}}})})),window.define("787",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{goodsItemData:{type:Object,value:{spuId:"",goodsPictureUrl:"",name:"",sellingPoints:[],price:"",productUrlVo:{webAppUrl:""},state:1,qualityTag:0}},pageType:{type:String,value:""},index:{type:Number,value:0}},methods:{jumpToProductDetail:function(){this.dispatch("jumpToProductDetail",{goodsItemData:this.properties.goodsItemData,index:this.properties.index})}}})})),window.define("789",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(58),P=e(119),D=e(59),_=e(790),k=(I=_)&&I.__esModule?I:{default:I},A=e(791),j=e(237),O=e(51);function L(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var N="left",R="right",M="商品收藏成功",B="取消收藏成功",F=(n().globalData.siteData||{}).appId,U=void 0===F?"":F;Component({options:{addGlobalClass:!0},behaviors:[(0,P.loginBehavior)(O.LOGIN_TYPE.NORMAL_LOGIN,!1,!0)],data:{emptyProductImg:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fdxdjx%2FemptyCollect.png",next:0,noProduct:!1,productList:[],isFirst:!0,spuInfo:{},pageType:"tract-list",scrollY:!1,hasGetData:!1},logicData:{generalParams:{id:"mip-dxdjx-track-list",name:"mip-dxdjx-track-list",type:"mip-dxdjx-track-list",title:"精选足迹"}},lifetimes:{created:function(){this.isLoading=!1,this.size=10,this.isMoveSpu=0,this.totalSize=0},attached:function(){var e=this;k.default.addHandler("trackListReachBottom",(function(){return e.onReachBottom()}))}},messages:{touchMoveStart:function(e){this.isCurMove=this.isMoveSpu===e.value.pid,this.isCurMove||this.resetScrollItem()},touchMoveEnd:function(e){var t=e.value,o=t.translateX,a=t.pid;this.setData({spuInfo:Object.assign({},this.data.spuInfo,E({},a,Object.assign({},this.data.spuInfo[a],{scrollWay:o<0?R:N})))}),this.isMoveSpu=o<0?a:0},jumpToProductDetail:function(e){if(!this.isCurMove){this.isCurMove=!1;var t=e.value||{},o=t.goodsItemData.spuId;(0,x.jumpToInnerSwan)({path:O.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:this.getSpuId(o)},D.CHANNEL_INFO.trackList,{subSceneValue:"ssv_68"}),log:{ctx:this,userExtra:{userExtra:{state:this.data.spuInfo[o].state,event_index:t.index}}}})}},imgLoaded:function(e){},handleScrollYChange:function(e){e&&e.value&&this.setData({scrollY:e.value.scrollY})}},methods:{$checkLoginSuccessCb:function(){this.getTrackList()},$loginSuccessCb:function(e){this.getTrackList()},goBack:function(){(0,x.jumpToInnerSwan)({type:x.innerJumpType.navigateBack})},handleGoShopping:function(){(0,T.jumpHome)()},onReachBottom:function(){var e=this.data,t=e.noProduct,o=e.isFirst;this.isLoading||t||(o&&this.setData({isFirst:!1}),this.getTrackList())},onPageClick:function(){this.data.noProduct||this.resetScrollItem()},resetScrollItem:function(){var e=this.data.spuInfo;this.isMoveSpu&&e[this.isMoveSpu]&&this.setData({spuInfo:Object.assign({},this.data.spuInfo,E({},this.isMoveSpu,Object.assign({},this.data.spuInfo[this.isMoveSpu],{scrollWay:N})))}),this.isMoveSpu=0},combineData:function(e,t){var o=[];if(e.length>0&&t.length>0){var a=e.pop(),i=t.shift();o=a.visitDate===i.visitDate?[Object.assign({},a,{dataList:[].concat(L(a.dataList),L(i.dataList))})]:[a,i]}return e.concat(o,t)},formatData:function(e){var t=this,o=this.data,a=o.productList,i=o.spuInfo,n=o.isFirst,r=e.result,s=e.next,d=e.totalSize,u=(r||[]).map((function(e){var o=(e.dataList||[]).map((function(o){var a=t.getMergeId(e.visitDate,o.spuId);return i[a]=Object.assign({},o,{scrollWay:N,visitDate:e.visitDate}),Object.assign({},o,{mergeId:a})}));return Object.assign({},e,{dataList:o})})),c=!1;n&&0===r.length&&(c=!0);var p=this.combineData(a,u);this.totalSize=d,this.setData({next:s,noProduct:c,spuInfo:i,productList:p,hasGetData:!0})},getTrackList:function(){var e=this,t=this.data,o=t.next,a=t.isFirst,i=this.isLoading,r=this.size;if(-1!==Number(o)&&!i){this.isLoading=!0;var s={start:o,size:r};(0,A.trackList)(s).then((function(t){e.formatData(t.data)})).catch((function(t){e.setData({noProduct:a}),t&&+t.status===O.RESPONSE_STATUS.NOT_LOGIN&&e.$setLoginStatus(!1)})).finally((function(){n().globalData.pageReqCache[j.GET_TRACK_LIST]=null,e.isLoading=!1,a&&(0,T.removeSkeleton)()}))}},handleDeleteSpu:function(e){var t=e.target.dataset.mergeId,o=this.data.spuInfo[t],a=o.visitDate,i={spuId:o.spuId,visitDate:a};this.deleteSpuRequset(i,t)},deleteSpuRequset:function(e,t){var o=this,a=D.API.trackRemove;this.$request({url:a,data:e}).then((function(a){a.data&&o.deleteSpuListItem(e,t)})).catch((function(e){throw i.showToast({title:e.statusInfo,icon:"none"}),new Error(e)}))},deleteSpuListItem:function(e,t){for(var o=this,a=e.spuId,i=e.visitDate,n=this.data,r=n.productList,s=n.spuInfo,d=n.next,u=(0,T.deepCopy)(s),c=(0,T.deepCopy)(r),p=-1,l=-1,g=0;g<c.length;g++){var h=c[g];if(h.visitDate===i){p=g;for(var m=0;m<h.dataList.length;m++){if(h.dataList[m].spuId===a){l=m;break}}}if(-1!==p)break}-1!==p&&-1!==l&&(delete u[t],c[p].dataList.splice(l,1),0===c[p].dataList.length&&c.splice(p,1),this.totalSize=this.totalSize-1,this.setData({productList:c,spuInfo:u,next:d>0?d-1:d,noProduct:0===c.length},(function(){var e=o.data.next,t=o.data.productList.length;-1!==e&&t<8&&o.onReachBottom()})))},handleTrackClearUp:function(){var e=this;i.showModal({content:"是否确认删除"+this.totalSize+"件商品",cancelText:"取消",confirmText:"确定",cancelColor:"#999",confirmColor:"#000",success:function(t){t.confirm&&e.clearAllTrackRequset()}})},clearAllTrackRequset:function(){var e=this,t=D.API.trackClearUp;this.$request({url:t}).then((function(){e.setData({productList:[],spuInfo:{},next:-1,noProduct:!0}),e.totalSize=0})).catch((function(e){throw i.showToast({title:e.statusInfo,icon:"none"}),new Error(e)}))},handlCollect:function(e){var t=e.target.dataset.mergeId,o=this.data.spuInfo[t],a=o.isCollection,i=o.shopId,n={spuId:this.getSpuId(t),appId:U,operateType:a?0:1,shopId:i};this.handlCollectRequset(n,t)},handlCollectRequset:function(e,t){var o=this,a=D.API.modifyCollection,n=e.operateType,r=0===n?B:M;this.$request({url:a,data:e}).then((function(){var e=o.data.spuInfo,a=Object.keys(e).filter((function(e){return o.getSpuId(e)===o.getSpuId(t)})),s={};a.map((function(t){s[t]=Object.assign({},e[t],{isCollection:1===n})})),o.setData({spuInfo:Object.assign({},e,s)}),i.showToast({title:r,icon:"none"})})).catch((function(e){throw i.showToast({title:e.statusInfo,icon:"none"}),new Error(e)}))},getMergeId:function(e,t){return e.split("-").join("")+t},getSpuId:function(e){return e.substr(8)}}})})),window.define("790",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4);o.default={addHandler:function(e,t){var o=n().globalData.eventBus,a=(0,I.getCurrentPage)(),i=a.pageTime||"",r=n().globalData.curPagePath||a.route||"";o.listen(r,e+"_"+i,(function(e){t(e)}))},trigger:function(e,t){var o=n().globalData.eventBus,a=(0,I.getCurrentPage)(),i=a.pageTime||"",r=n().globalData.curPagePath||a.route||"";o.trigger(r,e+"_"+i,t||"")},clearEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.length){var o=n().globalData.eventBus,a=(0,I.getCurrentPage)(),i=t.pageTime||a.pageTime||"",r=n().globalData.curPagePath||a.route||"";e.map((function(e){o.remove(r,e+"_"+i)}))}},clearCurPageEvents:function(e){var t=n().globalData.eventBus,o=(0,I.getCurrentPage)(),a=n().globalData.curPagePath||o.route||"";t.clearEvents(a,e||"")}}})),window.define("791",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.trackList=void 0;var I=e(92),T=e(59),x={start:0,size:10};o.trackList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=T.API.getTrackList;return new Promise((function(o,a){(0,I.request)({url:t,data:e}).then((function(e){o(Object.assign({},e))})).catch((function(e){a(e)}))}))}})),window.define("793",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(81),P=e(58),D=e(59),_=e(3),k=(I=_)&&I.__esModule?I:{default:I},A=e(794),j=e(237),O=e(51),L=e(119);function E(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var N=(n().globalData.siteData||{}).appId,R=void 0===N?"":N,M="left",B="right";Component({options:{addGlobalClass:!0},behaviors:[(0,L.loginBehavior)(O.LOGIN_TYPE.NORMAL_LOGIN,!1,!0)],data:{emptyProductImg:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fdxdjx%2FemptyCollect.png",next:0,noProduct:!1,productList:[],isFirst:!0,spuInfo:{},pageType:"collection-list",showLikeList:!0,scrollY:!1,hasGetData:!1,reachBottomName:"collectionListReachBottom"},logicData:{generalParams:{id:"mip-dxdjx-collection-list",name:"mip-dxdjx-collection-list",type:"mip-dxdjx-collection-list",title:"收藏列表"}},lifetimes:{created:function(){this.isLoading=!1,this.size=10,this.isMoveSpu=0,k.default.clearEvents([this.data.reachBottomName])},detached:function(){k.default.clearEvents([this.data.reachBottomName])}},messages:{touchMoveStart:function(e){this.isCurMove=this.isMoveSpu===e.value.pid,this.isCurMove||this.resetScrollItem()},touchMoveEnd:function(e){var t=e.value,o=t.translateX,a=t.pid;this.setData("spuInfo["+a+"].scrollWay",o<0?B:M),this.isMoveSpu=o<0?a:0},jumpToProductDetail:function(e){if(!this.isCurMove){this.isCurMove=!1;var t=e.value||{},o=t.goodsItemData.spuId;(0,P.jumpToInnerSwan)({path:O.PAGES.PRODUCT_DETAIL,params:{spuId:o,subSceneValue:"ssv_66"},log:{ctx:this,userExtra:{event_index:t.index}}})}},imgLoaded:function(e){},noLikeList:function(){this.setData({showLikeList:!1})},handleScrollYChange:function(e){e&&e.value&&this.setData({scrollY:e.value.scrollY})}},methods:{$checkLoginSuccessCb:function(){this.getCollectionList()},$checkLoginFailCb:function(){this.setData({next:-1}),(0,T.removeSkeleton)()},$loginSuccessCb:function(e){var t=this;this.setData({next:0},(function(){t.getCollectionList()}))},goBack:function(){(0,P.jumpToInnerSwan)({type:P.innerJumpType.navigateBack})},handleGoShopping:function(){(0,T.jumpHome)()},onReachBottom:function(){var e=this.data,t=e.noProduct,o=e.isFirst;this.isLoading||t||(o&&this.setData({isFirst:!1}),this.getCollectionList())},onPageClick:function(){this.data.noProduct||this.resetScrollItem()},resetScrollItem:function(){var e=this.data.spuInfo;this.isMoveSpu&&e[this.isMoveSpu]&&this.setData("spuInfo["+this.isMoveSpu+"].scrollWay",M),this.isMoveSpu=0},formatData:function(e){var t=this.data,o=t.productList,a=t.spuInfo,i=t.isFirst,n=e.collectInfoListVos,r=e.next;(n||[]).map((function(e){a[e.spuId]=Object.assign({},e,{scrollWay:M})}));var s=!1;i&&0===n.length&&(s=!0),this.setData({next:Number(r),noProduct:s,spuInfo:a,productList:[].concat(E(o),E(n)),hasGetData:!0})},getCollectionList:function(){var e=this,t=this.data,o=t.next,a=t.isFirst,i=this.isLoading,r=this.size;if(-1!==Number(o)&&!i){this.isLoading=!0;var s={appId:R,start:o,size:r};(0,A.collectionList)(s).then((function(t){e.formatData(t.data)})).catch((function(t){e.setData({noProduct:a,next:-1}),t&&+t.status===O.RESPONSE_STATUS.NOT_LOGIN&&e.$setLoginStatus(!1)})).finally((function(){n().globalData.pageReqCache[j.GET_COLLECTION_LIST]=null,e.isLoading=!1,a&&(0,T.removeSkeleton)()}))}},handleGoShop:function(e){var t=e.target.dataset.spuId,o=this.data.spuInfo[t],a=o.pageUrl;o.state;(0,x.generalJump)({url:a})},handleDeleteSpu:function(e){var t=e.target.dataset.spuId,o=this.data.spuInfo[t],a=o.shopId,i=(o.state,{spuId:t,appId:R,shopId:a,operateType:0});this.deleteSpuRequset(i)},deleteSpuRequset:function(e){var t=this,o=e.spuId,a=D.API.modifyCollection;this.$request({url:a,data:e}).then((function(e){e.data&&e.data.operateResult?t.deleteSpuListItem(o):(0,T.errToast)("操作失败，请稍候重试")})).catch((function(e){throw(0,T.errToast)(e.statusInfo),new Error(e)}))},deleteSpuListItem:function(e){for(var t=this,o=this.data,a=o.productList,i=o.spuInfo,n=o.next,r=(0,T.deepCopy)(i),s=(0,T.deepCopy)(a),d=-1,u=0;u<s.length;u++){if(s[u].spuId===e){d=u;break}}-1!==d&&(delete r[e],s.splice(d,1),this.setData({productList:s,spuInfo:r,next:n>0?n-1:n,noProduct:0===s.length},(function(){var e=t.data.next,o=t.data.productList.length;-1!==e&&o<8&&t.onReachBottom()})))}}})})),window.define("794",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.collectionList=void 0;var I=e(92),T=e(59),x={start:0,size:10,appId:(n().globalData.siteData||{}).appId};o.collectionList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=T.API.getCollectionList;return(0,I.request)({url:t,againRequest:!0,feCheckLogin:!0,data:e}).then((function(e){return Object.assign({},e)})).catch((function(e){return e}))}})),window.define("796",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(92),T=e(59),x=e(81);Component({options:{addGlobalClass:!0},properties:{pageType:{type:Number,value:0}},data:{tabList:[],tabStyle:{}},logicData:{tabJumpUrl:""},lifetimes:{attached:function(){this.getTabData()}},methods:{linkTo:function(e){var t=e.currentTarget.dataset,o=t.index,a=void 0===o?0:o,i=t.url,n=void 0===i?"":i,r=Object.assign({},T.CHANNEL_INFO.atmosphere.personalCenter[a]),s=n||this.logicData.tabJumpUrl;(0,x.generalJump)({url:s,params:r})},getTabData:function(){var e=this;(0,I.request)({url:T.API.generalImage,data:{pageType:this.properties.pageType},method:"GET"}).then((function(t){if(t&&t.data){var o=t.data,a=o.dayImage,i=void 0===a?"":a,n=o.list,r=void 0===n?[]:n,s=o.bizJumpUrl;4===r.length&&(e.logicData.tabJumpUrl=s,e.setData({tabStyle:{"background-image":"url("+i+")"},tabList:r}))}}))}}})})),window.define("798",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(3);(I=T)&&I.__esModule;var x={options:{addGlobalClass:!0},properties:{styleType:{type:Number,value:1},isLogin:{type:Boolean,value:!0}},data:{},messages:{onLogin:function(e){this.triggerEvent("childLoginHandle",e.value)}},methods:{onAddressClick:function(){this.dispatch("onAddressClick")}}};Component(x)})),window.define("800",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(59),x=e(4),P=e(92),D=e(81),_=e(119),k=e(51),A=e(3),j=(I=A)&&I.__esModule?I:{default:I},O=e(564),L=e(801);var E=["unPayOrder","unSendOrder","unTakeOrder","unComment","allOrder"],N=["collection","redCoupon","footmark","aboutXiaodian"],R={myAddress:"ssv_172",collection:"ssv_173",redCoupon:"ssv_176",footmark:"ssv_177",aboutXiaodian:"ssv_178",unPayOrder:"ssv_179",unSendOrder:"ssv_180",unTakeOrder:"ssv_181",unComment:"ssv_182",allOrder:"ssv_183",benefits:"ssv_184"},M={options:{addGlobalClass:!0},behaviors:[(0,_.loginBehavior)(k.LOGIN_TYPE.NORMAL_LOGIN,!0,!0)],data:{orderCount:{unPayOrder:0,unSendOrder:0,unTakeOrder:0,unComment:0},emptyProductImg:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fdxdjx%2FemptyCollect.png",gapBackgroundColor:T.GAP_CONFIG.bgColor,gapHeight:T.GAP_CONFIG.height,controlList:[],showLikeList:!0,centerTabList:[],redPackage:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2FpersonalRedPackage.png",showInfo:!1,reachBottomName:"personCenterReachBottom",viewHeight:"calc(100vh - 64px)",personalRecommendHeart:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2FpersonalRecommend.png",scrollTopVal:null,pageType:25},logicData:{firstEnter:!0,generalParams:{id:"mip-dxdjx-personal-center",name:"mip-dxdjx-personal-center",type:"mip-dxdjx-personal-center",title:"个人中心"},scrollIndex:1},lifetimes:{created:function(){},attached:function(){var e=this;this.initTabList("controlList",E),this.initTabList("centerTabList",N),i.loadSubPackage({root:"wjz/bdxd/after-sale"}),j.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh - "+t+")"})})),this.getOrderInfo()}},messages:{imgLoaded:function(e){},noLikeList:function(){this.setData({showLikeList:!1})},perLog:function(e){"remove_skeleton"===e.value.msg&&this.setData("showInfo",!0)},onAddressClick:function(){var e={currentTarget:{dataset:{name:T.PERSONAL_CENTER_PAGE.myAddress.name}}};this.onControlClick(e)}},methods:{handleGoShopping:function(){(0,x.jumpHome)()},scrollToTop:function(){this.setData({scrollTopVal:{scrollTop:1,scrollIndex:this.logicData.scrollIndex++}})},onControlClick:function(e){if(e&&e.currentTarget&&e.currentTarget.dataset){var t=e.currentTarget.dataset.name,o=T.PERSONAL_CENTER_PAGE[t].path;if((0,x.bdxdAddLog)(this,{compTargetId:R[t]}),!o)return;var a=o+(o.indexOf("?")>=0?"&":"?")+"from=personCenter",i=(0,x.parseSwanUrl)("baiduboxapp://swan/"+k.dxdjxAppkey+a),r=i.options,s=i.path;(0,x.isTabBarUrl)(s)&&r.orderStatus&&(n().globalData.orderListOrderStatus=r.orderStatus,n().globalData.currOrderData={from:"personCenter"}),(0,D.generalJump)({url:a})}},initTabList:function(e,t){var o=t.map((function(e){return T.PERSONAL_CENTER_PAGE[e]}));this.setData(e,o)},scrolltolower:function(){j.default.trigger([this.data.reachBottomName])},getOrderInfo:function(){var e=this;(0,P.checkLoginStatus)().then((function(){e.getOrdersCount(),(0,x.isTabBarUrl)(k.PAGES.ORDER_LIST)&&e.getOrderStatusChange()}))},getOrderStatusChange:function(){(0,L.orderStatusChange)().then((function(e){e.data.orderStatusChangeFlag&&(0,x.showTabBarRedDot)(k.PAGES.ORDER_LIST,!0)}))},getOrdersCount:function(){var e=this;(0,O.orderCount)().then((function(t){var o=t.data;e.setData("orderCount",{unPayOrder:o.waitPay||0,unSendOrder:o.waitDeliver||0,unTakeOrder:o.waitConfirm||0,unComment:o.waitEvaluate||0})}))},$onShowCheckLoginSuccessCb:function(){this.getOrdersCount()},$loginSuccessCb:function(){this.getOrdersCount(),this.getOrderStatusChange()}}};Component(M)})),window.define("801",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.orderStatusChange=void 0;var I=e(92),T=e(51);o.orderStatusChange=function(){return new Promise((function(e,t){(0,I.request)({url:T.API.orderStatusChange}).then((function(t){e(Object.assign({},t))})).catch((function(e){t(e)}))}))}})),window.define("803",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(82),x=(I=T)&&I.__esModule?I:{default:I},P=e(4);Component({data:{showHistory:!0,searchBoxConf:{},recommendConf:{show:!0,mode:"text",title:"大家都在搜"}},properties:{appKey:{type:String,value:"eRSS2NhafvwzibGY2oFcNN98DFSPfujf"+("online"!==x.default.currentEnv?"_trial":"")}},attached:function(){var e=(0,P.parsePageQuery)().keyWords,t={};t=e?{searchQuery:e,autoFocus:!1}:{autoFocus:!0},t=Object.assign({},t,{border:!0}),this.setData({searchBoxConf:t}),(0,P.removeSkeleton)()}})})),window.define("805",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I={0:{0:"立即领取",1:"立即领取"},1:{0:"分享膨胀",1:"立即使用"}},T={1:{name:"立即使用",value:""},2:{name:"已使用",value:"iconcoupon-used"},3:{name:"已失效",value:"iconcoupon-invalid"}};Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],properties:{couponInfo:{type:Object,value:{}},couponClassify:{type:Number,value:1},styleType:{type:Number,value:1},showTime:{type:Boolean,value:!0},isLogin:{type:Boolean,value:!0}},observers:{"couponInfo,styleType,couponClassify":function(e,t,o){if(1===t){var a=e.status,i=e.expandStatus,n=void 0===i?0:i;this.setData({btnText:I[a][n],status:a})}else if(2===t){var r=e.expandStatus,s=void 0===r?0:r,d=e.extInfo,u=void 0===d?"{}":d,c=e.rangeType,p=e.isShared,l=void 0===p?1:p,g=(JSON.parse(u).shop||{}).name,h=void 0===g?"":g;this.setData({couponIcon:T[o].value,btnText:0===s&&1===l?"分享膨胀":"立即使用",limitText:1===c?"限"+h+"可用":"限"+h+"部分商品可用"})}}},data:{btnText:"立即领取",couponIcon:"",status:0,limitText:""},logicData:{formId:""},methods:{onButtonSubmit:function(e){var t=e.detail.formId;this.logicData.formId=t,this.onCouponClick()},onCouponClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.properties,o=t.couponInfo,a=t.couponClassify,i=this.logicData.formId;this.dispatch("onCouponClick",Object.assign({couponClassify:a,couponInfo:o,formId:i},e)),this.logicData.formId=""},onJumpButtonClick:function(){this.onCouponClick({type:"jump"})}}})})),window.define("807",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["custom-class","custom-item-class"],properties:{activeAnchor:{type:String,value:""},anchorMap:{type:Object,value:{},observer:function(e){this.setData({anchorList:Object.values(e),showAnchor:Object.values(e).some((function(e){return e.isShow}))})}},wrapperStyle:{type:Object,value:{}},needPlaceholder:{type:Boolean,value:!1}},data:{showAnchor:!1,anchorList:[]},methods:{onAnchorClick:function(e){var t=e.currentTarget.dataset.anchor;this.dispatch("onAnchorClick",{anchor:t})}}})})),window.define("809",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(4),x=e(81),P=e(3),D=(I=P)&&I.__esModule?I:{default:I},_=e(59),k=e(51),A=e(119),j=e(810),O=e(93);function L(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E={myCoupon:{1:1,2:2,3:3,4:5},myRedPacket:{1:1,2:2,3:3}},N={limitCoupon:1,expandCoupon:2,shopCoupon:3},R={unUsed:1,used:2,expired:3},M=function(e){return e.reduce((function(e,t){return Object.assign({},e,L({},t.id,Object.assign({},t,{isShow:!1})))}),{})},B=1,F=2;Component({options:{addGlobalClass:!0},behaviors:[(0,A.loginBehavior)(k.LOGIN_TYPE.NORMAL_LOGIN,!1,!0)],data:{activeName:"",tabs:_.tabs,activeAnchor:1,takeCouponAnchor:M(_.anchorMap.takeCoupon),myCouponAnchor:M(_.anchorMap.myCoupon),myRedPacketAnchor:M(_.anchorMap.myRedPacket),myCouponList:(0,T.deepCopy)({1:[],2:[],3:[],4:[]}),myRedPacketList:(0,T.deepCopy)({1:[],2:[],3:[]}),scrollTop:0,scrollIntoView:1,viewHeight:"calc(100vh - 151px)",hasTakeCoupon:!0,hasMyCoupon:!0,hasMyRedPacket:!0,hasGetCoupon:{myCoupon:{1:!1,2:!1,3:!1,4:!1},myRedPacket:{1:!1,2:!1,3:!1}},hasGetData:!1,couponShareDownGrade:{takeCoupon:!1,myCoupon:!1},configFuncTypeMap:_.COUPON_FUNC_TYPE_MAP},logicData:{generalParams:{id:"mip-dxdjx-benefits-center",name:"mip-dxdjx-benefits-center",type:"mip-dxdjx-benefits-center",title:"福利中心"}},lifetimes:{created:function(){this.resetDomInfo(),this.clickAnchor=null,this.ckickTab=null,this.isFirst=!0},attached:function(){var e=this;D.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh - "+t+" - 44px)"})}));var t=(0,T.parsePageQuery)();this.setData("activeName",t.activeTab||"myRedPacket")}},observers:{hasGetCoupon:function(e){var t=Object.values(e.myRedPacket).includes(!1),o=Object.values(e.myCoupon).includes(!1);t||this.setLastCallBack("myRedPacket",!1),o||this.setLastCallBack("myCoupon",!0)}},messages:{onAnchorClick:function(e){var t=e.value.anchor.id;this.clickAnchor=t,this.setData({activeAnchor:t,scrollIntoView:t})},onCouponClick:function(e){var t=e.value,o=t.couponClassify,a=t.couponInfo,i=this.data.activeName;if(1===o)if(6===a.tag){var n=e.value,r=n.formId;if("jump"===n.type)this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType});else switch(a.expandStatus){case 0:0===a.isShared?this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType}):((0,j.couponShare)({formId:r,couponInfo:a,isShareDownGrade:this.data.couponShareDownGrade[i]}),(0,T.bdxdAddLog)(this,{compTargetId:"ssv_294",userExtra:{couponInfo:JSON.stringify(a),name:"分享膨胀",tab:"myCoupon"}}));break;case 1:this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType})}}else this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType})}},methods:{$checkLoginSuccessCb:function(){this.getCoupon()},$checkLoginFailCb:function(){(0,T.removeSkeleton)()},$loginSuccessCb:function(e){this.isFirst=!1,this.getCoupon()},resetDomInfo:function(){this.queryDom={takeCoupon:[],myCoupon:[],myRedPacket:[]},this.domHeight={takeCoupon:{},myCoupon:{},myRedPacket:{}}},jumpDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jumpDetailLink,o=void 0===t?"":t,a=e.jumpType,i=void 0===a?1:a;if(o){if(i===F)return void(0,x.jumpToEasyBrowseH5)(o);i===B&&(0,x.generalJump)({url:o,params:{subSceneValue:"ssv_85",sch:"n710"}})}},handleSwiperScroll:function(){},queryScrollDom:function(){var e=this;return new Promise((function(t,o){var a=i.createSelectorQuery().in(e);a.selectAll(".scroll-item-slot").boundingClientRect(),a.exec((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i={};(a[0]||[]).forEach((function(e){i[e.id]=e.height})),e.queryDom[e.data.activeName]=a.length?a[0]:[],e.domHeight[e.data.activeName]=i,a.length?t():o(new Error("没有找到相关dom"))}))}))},onTabChange:function(e){var t=e.currentTarget.dataset.name,o="myCoupon"===t?1:4;this.data.activeName!==t&&(this.clickTab=t,this.setData({activeName:t,activeAnchor:this[t+"ActiveAnchor"]||1,scrollIntoView:o}),"myRedPacket"!==t?this.getCouponList(_.API.getMyCouponList,{queryType:1,next:0,couponBizType:-1},"myCoupon",{againRequest:!0,feCheckLogin:!0}):this.getCouponList(_.API.getRedPacketList,{queryType:1,next:0},"myRedPacket",{againRequest:!0,feCheckLogin:!0}))},handleScroll:function(e){var t=this;if(this.clickTab||this.clickAnchor)return this.clickTab=null,void(this.clickAnchor=null);var o=this.data.activeName,a=0;if(Object.values(this.data[o+"Anchor"]).map((function(e){return e.isShow&&a++})),a>1){var i=e.detail.scrollTop,n=this.queryDom,r=this.domHeight;n[o].length?this.scrollCallBack(i,n[o],r[o]):this.queryScrollDom().then((function(){t.scrollCallBack(i,n[o],r[o])}))}},scrollCallBack:function(e,t,o){for(var a={scrollTop:e},i=e+20,n="myRedPacket"===this.data.activeName?5:1,r=o[n]||0,s=o[n+1]||0,d=o[n+2]||0,u=o[n+2]||0,c=0;c<t.length;c++){var p=+t[c].id;if(p===n&&i<=r){a.activeAnchor=p;break}if(p===n+1&&i<=r+s){a.activeAnchor=p;break}if(p===n+2&&i<=r+s+d){a.activeAnchor=p;break}if(p===n+3&&i<=r+s+d+u){a.activeAnchor=p;break}}this.setData(a)},getCouponList:function(e,t){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"myRedPacket",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=t.type||t.queryType,r=t.type?"type":"queryType",s="type"===r&&n===N.expandCoupon||"queryType"===r&&n===R.unUsed;return this.$request(Object.assign({url:e,data:Object.assign({},t,L({},r,E[a][n]))},i,{downGradeOpts:{isMain:s}})).then((function(e){var t;if(s){var i=(0,O.getUseFuncs)(O.downgradeFeature.expandCoupon);o.setData("couponShareDownGrade."+a,!i[a])}var r=void 0;r="myRedPacket"===a?e.data&&e.data.redPackets||[]:e.data&&e.data.coupons||[];var d=(0,T.deepCopy)(o.data[a+"Anchor"]);d["myCoupon"===a?n:Number(n+4)].isShow=!!r.length,o.setData((L(t={},a+"List."+n,r),L(t,a+"Anchor",d),L(t,"hasGetData",!0),t)),"myRedPacket"!==a&&o.queryDom[a].length&&o.resetDomInfo()})).catch((function(e){throw new Error(e)})).finally((function(){o.setData("hasGetCoupon."+a+"."+n,!0),o.isFirst&&(0,T.removeSkeleton)(),o.isFirst=!1}))},setLastCallBack:function(e,t){var o=(0,T.deepCopy)(this.data[e+"Anchor"]),a=Object.values(o).find((function(e){return e.isShow})),i=t?"hasMyCoupon":"hasMyRedPacket";this[e+"ActiveAnchor"]=a?a.id:this.data.activeAnchor;var n=L({},i,Object.values(this.data[t?"myCouponList":"myRedPacketList"]).some((function(e){return e.length})));n.activeAnchor=this[e+"ActiveAnchor"],this.setData(n)},getCouponAll:function(e,t,o){var a=this,i=[1,2,3,4];"myRedPacket"===o&&(i=[1,2,3]);var n={},r=o;n.next=0,n.couponBizType=-1,i.map((function(o){return a.getCouponList(e,Object.assign(L({},t,o),n),r)}))},getCoupon:function(){var e=_.API.getMyCouponList;this.getCouponAll(e,"queryType","myCoupon");var t=_.API.getRedPacketList;this.getCouponAll(t,"queryType","myRedPacket")}}})})),window.define("810",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.couponShare=void 0;var I,T=e(98),x=e(4),P=e(82),D=(I=P)&&I.__esModule?I:{default:I};var _={title:"点击助力领优惠",content:"正品补贴领福利，点击助力享多倍优惠，更多好物等你买！",imageUrl:"https://mall-static.cdn.bcebos.com/doujin/C/image/dxdjx/couponModalShareImg.jpg"},k="offline"===D.default.currentEnv?"https://activity.baidu.com/mbox/preview/4a81a19c64/matrixShareSimple":"https://activity.baidu.com/mbox/4a81a19c64/matrixShareSimple";o.couponShare=function(e){var t=e.formId,o=e.couponInfo,a=e.isShareDownGrade,i=o.extInfo,n=void 0===i?"{}":i,r=JSON.parse(n),s=r.shop.pageUrl,d=void 0===s?"":s,u=r.shareUser,c=u.avatar,p=u.nickName,l=r.shareUserInfo,g=o.batchId,h=Object.assign({},_),m=null,f={avatar:c,batchId:g,formId:t,nickName:p,shareSceneValue:"9",shareUserInfo:encodeURIComponent(l)},v=d+"&"+(0,x.objToQueryString)(f);if(a)m={activityId:863,klUrl:v.replace("baiduboxapp://swan/","")};else{var b=k+"?appName=baiduboxapp&scheme="+encodeURIComponent(v);h.shareUrl=b}(0,T.generalShare)({klParams:m,shareParams:h})}})),window.define("812",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],properties:{couponClassify:{type:Number},couponInfo:{type:Object,value:{},observer:function(e){var t=e.goodsList,o=void 0===t?[]:t;this.setData({goodsList:o.slice(0,3)})}}},data:{goodsList:[]},methods:{onCouponClick:function(e){var t=this.properties,o=t.couponClassify,a=t.couponInfo;this.dispatch("onCouponClick",{couponClassify:o,couponInfo:a})}}})})),window.define("814",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I={0:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FbenefitsCoupon.png",1:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FbenefitsCoupontake.png",2:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FbenefitsCoupongray.png"};Component({options:{addGlobalClass:!0},externalClasses:["custom-class"],properties:{couponClassify:{type:Number},couponInfo:{type:Object,value:{},observer:function(e){var t=+e.progress,o={wrapperStyle:{"background-image":"url("+I[e&&e.status||""]+")"}};o.progressStyle=t<11&&t>0?{width:"11%"}:{width:t+"%"},this.setData(o)}}},data:{wrapperStyle:{},progressStyle:{width:0}},methods:{onCouponClick:function(e){var t=this.properties,o=t.couponClassify,a=t.couponInfo;this.dispatch("onCouponClick",{couponClassify:o,couponInfo:a})}}})})),window.define("816",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{}}},data:{ruleVisiable:!1,scrollTop:0},methods:{open:function(){this.setData({ruleVisiable:!0})},close:function(){this.setData({ruleVisiable:!1,scrollTop:0})}}})})),window.define("818",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59),T=e(51),x=e(4),P=e(81),D=e(92),_=e(119),k=e(810),A=e(58),j=e(93),O=1,L=2;Component({options:{addGlobalClass:!0},behaviors:[(0,_.loginBehavior)()],properties:{styleType:{type:Number,value:1},downGrade:{type:Boolean},couponList:{type:Array,value:[],observer:function(e){if(2===this.properties.styleType){var t=this.getArray(e,6);this.setData("takeCouponList",t)}}}},data:{curIndex:0,takeCouponList:[],batchId:""},logicData:{downgradeMap:{}},attached:function(){1===this.properties.styleType&&this.getCouponList()},messages:{onTakeSuccess:function(e){var t=e.value,o=t.couponInfo,a=t.isTakeSuccess,i=void 0!==a&&a,n=o.batchId;i&&this.takeCoupon(n)},onClose:function(){this.setData("batchId","")},onCouponClick:function(e){var t=e.value,o=t.couponInfo,a=t.formId,i=o.status,n=o.expandStatus,r=o.jumpDetailLink,s=o.jumpType,d=o.index,u=void 0===d?0:d,c=o.batchId;if(0===i)this.setData("batchId",c);else if(1===i)switch(n){case 0:(0,k.couponShare)({formId:a,couponInfo:o,isShareDownGrade:void 0!==this.properties.downGrade?this.properties.downGrade:!this.logicData.downgradeMap.mainActive}),(0,x.bdxdAddLog)(this,{compTargetId:"ssv_294",userExtra:{couponInfo:JSON.stringify(o),batch_id:c,comp_material_id:c,event_index:u,tab:"takeCoupon"}});break;case 1:this.jumpDetail({jumpDetailLink:r,jumpType:s})}},onLogin:function(e){this.loginHandle(e)}},methods:{takeCoupon:function(e){var t=this.properties.styleType,o=this.data.takeCouponList;if(1===t){var a=o.findIndex((function(t){return t.batchId===e}));a>=0&&this.setData("takeCouponList["+a+"].status",1)}if(2===t)for(var i=0;i<o.length;i++){var n=o[i].findIndex((function(t){return t.batchId===e}));if(n>=0)return void this.setData("takeCouponList["+i+"]["+n+"].status",1)}},$loginSuccessCb:function(e){this.getCouponList()},jumpDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jumpDetailLink,o=void 0===t?"":t,a=e.jumpType,i=void 0===a?1:a;if(o){if(i===L)return void(0,P.jumpToEasyBrowseH5)(o);i===O&&(0,P.generalJump)({url:o,params:{subSceneValue:"ssv_84",sch:"n830"}})}},handleChangeIndex:function(e){var t=e.detail.current;this.setData({curIndex:t})},getArray:function(e,t){for(var o=0,a=[];o<e.length;)a.push(e.slice(o,o+=t));return a},getCouponList:function(){var e=this,t=I.API.getTakeCouponList;return(0,D.request)({url:t,data:Object.assign({},{type:4}),downGradeOpts:{pageId:n().globalData.pageData.pageId,pageType:n().globalData.pageData.pageType}}).then((function(t){var o=t._downgradeHeader.Comp,a=void 0===o?"[]":o,i=JSON.parse(a);e.logicData.downgradeMap=(0,j.getUseFuncs)(j.downgradeFeature.expandCoupon,i);var n=t.data||[];n=2==+e.properties.styleType?e.getArray(n,6):n.slice(0,10),e.setData("takeCouponList",n)})).catch((function(e){throw new Error(e)})).finally((function(){}))},handleViewMore:function(){(0,A.jumpToInnerSwan)({path:T.PAGES.BENEFITS_CENTER})}}})})),window.define("820",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(81),x=O(e(3)),P=O(e(126)),D=e(59),_=e(51),k=e(119),A=e(810),j=e(93);function O(e){return e&&e.__esModule?e:{default:e}}function L(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E,N={1:[],2:[],3:[]},R={takeCoupon:{1:1,2:4,3:2},myCoupon:{1:1,2:2,3:3}},M={limitCoupon:1,expandCoupon:2,shopCoupon:3},B={unUsed:1,used:2,expired:3},F=1,U=2;Component({options:{addGlobalClass:!0},behaviors:[(0,k.loginBehavior)(_.LOGIN_TYPE.NORMAL_LOGIN,!1,!0)],data:{activeName:"",activeAnchor:1,takeCouponAnchor:(E=D.anchorMap.takeCoupon,E.reduce((function(e,t){return Object.assign({},e,L({},t.id,Object.assign({},t,{isShow:!1})))}),{})),takeCouponList:(0,I.deepCopy)(N),myCouponList:(0,I.deepCopy)(N),scrollTop:0,scrollIntoView:1,viewHeight:"calc(100vh - 151px)",hasTakeCoupon:!0,hasMyCoupon:!0,hasGetCoupon:{takeCoupon:{1:!1,2:!1,3:!1},myCoupon:{1:!1,2:!1,3:!1}},hasGetData:!1,couponShareDownGrade:{takeCoupon:!1,myCoupon:!1},configFuncTypeMap:D.COUPON_FUNC_TYPE_MAP},logicData:{generalParams:{id:"mip-dxdjx-benefits-center",name:"mip-dxdjx-benefits-center",type:"mip-dxdjx-benefits-center",title:"福利中心"}},lifetimes:{created:function(){this.resetDomInfo(),this.clickAnchor=null,this.ckickTab=null,this.isFirst=!0},attached:function(){var e=this;x.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh - "+t+" - 44px)"})}));var t=(0,I.parsePageQuery)();this.setData("activeName",t.activeTab||"takeCoupon")}},observers:{hasGetCoupon:function(e){var t=Object.values(e.takeCoupon).includes(!1),o=Object.values(e.myCoupon).includes(!1);t||this.setLastCallBack("takeCoupon",!1),o||this.setLastCallBack("myCoupon",!0)}},messages:{onCouponClick:function(e){var t=e.value,o=t.couponClassify,a=t.couponInfo,i=this.data.activeName;if("takeCoupon"===i)[1,3].includes(o)&&this.onTakeCouponClick(o,a);else if(1===o)if(6===a.tag){var n=e.value,r=n.formId;if("jump"===n.type)this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType});else switch(a.expandStatus){case 0:0===a.isShared?this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType}):((0,A.couponShare)({formId:r,couponInfo:a,isShareDownGrade:this.data.couponShareDownGrade[i]}),(0,I.bdxdAddLog)(this,{compTargetId:"ssv_294",userExtra:{couponInfo:JSON.stringify(a),name:"分享膨胀",tab:"myCoupon"}}));break;case 1:this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType})}}else this.jumpDetail({jumpDetailLink:a.jumpForward,jumpType:a.jumpType})}},methods:{$checkLoginSuccessCb:function(){this.getCoupon()},$checkLoginFailCb:function(){(0,I.removeSkeleton)()},$loginSuccessCb:function(e){this.isFirst=!1,this.getCoupon()},resetDomInfo:function(){this.queryDom={takeCoupon:[],myCoupon:[]},this.domHeight={takeCoupon:{},myCoupon:{}}},jumpDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jumpDetailLink,o=void 0===t?"":t,a=e.jumpType,i=void 0===a?1:a;if(o){if(i===U)return void(0,T.jumpToEasyBrowseH5)(o);i===F&&(0,T.generalJump)({url:o,params:{subSceneValue:"ssv_84",sch:"n830"}})}},handleSwiperScroll:function(){},onTakeCouponClick:function(e,t){var o=t.status,a=t.batchId,i=t.jumpDetailLink,n=t.jumpType;switch(o){case 0:this.takeCouponRequest(e,a);break;case 1:this.jumpDetail({jumpDetailLink:i,jumpType:n})}},takeCouponRequest:function(e,t){var o=this;P.default.hgzAs(D.antifraudConfig.userGrowth).then((function(a){o.takeCouponReq({antiCheatVo:a,type:e,batchId:t})})).catch((function(){o.takeCouponReq({type:e,batchId:t})}))},takeCouponReq:function(e){var t=this,o=e.type,a=e.batchId,n=e.antiCheatVo,r=D.API.spuCouponTake,s={batchId:a};n&&(s.antiCheatVo=n),this.$request({url:r,data:s}).then((function(){i.showToast({title:"领取成功",icon:"none"});var e=t.data.takeCouponList[o].findIndex((function(e){return e.batchId===a}));e>=0&&t.setData("takeCouponList["+o+"]["+e+"].status",1),1===o&&t.getCouponList(D.API.getTakeCouponList,{type:1})})).catch((function(e){throw i.showToast({title:e.statusInfo,icon:"none"}),(0,I.addErrorLog)(e,{url:r,param:s,errType:"api_req_error",compTargetId:"api-take-coupon-err",name:"福利中心"},[D.logTypeMap.apiError]),new Error(e)}))},onControlClick:function(){(0,I.bdxdAddLog)(this,{compTargetId:"ssv_241"});(0,T.generalJump)({url:"/wjz/dxdjx/red-packet-coupon/red-packet-coupon?activeTab=myCoupon"})},getCouponList:function(e,t){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"takeCoupon",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=t.type||t.queryType,r=t.type?"type":"queryType",s="type"===r&&n===M.expandCoupon||"queryType"===r&&n===B.unUsed;return this.$request(Object.assign({url:e,data:Object.assign({},t,L({},r,R[a][n]))},i,{downGradeOpts:{isMain:s}})).then((function(e){var t;if(s){var i=(0,j.getUseFuncs)(j.downgradeFeature.expandCoupon);o.setData("couponShareDownGrade."+a,!i[a])}var r=("takeCoupon"===a?e.data:e.data&&e.data.coupons)||[],d=(0,I.deepCopy)(o.data[a+"Anchor"]);d[n].isShow=!!r.length,o.setData((L(t={},a+"List."+n,r),L(t,a+"Anchor",d),L(t,"hasGetData",!0),t)),"takeCoupon"!==a&&o.queryDom[a].length&&o.resetDomInfo()})).catch((function(e){throw new Error(e)})).finally((function(){o.setData("hasGetCoupon."+a+"."+n,!0),o.isFirst&&(0,I.removeSkeleton)(),o.isFirst=!1}))},setLastCallBack:function(e,t){var o=(0,I.deepCopy)(this.data[e+"Anchor"]),a=Object.values(o).find((function(e){return e.isShow})),i=t?"hasMyCoupon":"hasTakeCoupon";this[e+"ActiveAnchor"]=a?a.id:this.data.activeAnchor;var n=L({},i,Object.values(this.data[t?"myCouponList":"takeCouponList"]).some((function(e){return e.length})));"takeCoupon"===e&&(n.activeAnchor=this[e+"ActiveAnchor"]),this.setData(n)},getCouponAll:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type",a=[1,2,3],i={},n="queryType"===o;n&&(i.next=0,i.couponBizType=-1);var r=n?"myCoupon":"takeCoupon";a.map((function(a){return t.getCouponList(e,Object.assign(L({},o,a),i),r)}))},getCoupon:function(){var e=D.API.getTakeCouponList;this.getCouponAll(e)}}})})),window.define("822",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T,x=e(59),P=e(126),D=(T=P)&&T.__esModule?T:{default:T},_=e(92),k=e(4),A=e(58),j=e(81);function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var L=1,E=2,N=3,R=4,M=(O(I={},L,"即将开抢"),O(I,E,"立即领取"),O(I,N,"立即使用"),O(I,R,"今日已抢完"),I),B=1,F=1,U=2;Component({properties:{couponInfo:{type:Object,value:null,observer:function(){this.setCouponStatus()}}},data:{couponStatus:L,buttonTextMap:M},methods:{takeCoupon:function(){var e=this;(0,_.checkLoginStatus)().then((function(){D.default.hgzAs(x.antifraudConfig.userGrowth).then((function(t){e.takeCouponReq({antiCheatVo:t})})).catch((function(t){e.takeCouponReq({})}))})).catch((function(){(0,_.goToLogin)((function(){e.triggerEvent("refreshPage")}))}))},takeCouponReq:function(e){var t=this,o=e.antiCheatVo,a=x.API.spuCouponTake,i={batchId:this.properties.couponInfo.batchId};o&&(i.antiCheatVo=o),(0,_.request)({url:a,data:i}).then((function(e){(0,k.normalToast)({title:"优惠券领取成功"}),t.triggerEvent("refreshPage")})).catch((function(e){(0,k.addErrorLog)(e,{compTargetId:"dxdjx-find-goods-coupon-take",errType:"api_find_coupontake_err"},[x.logTypeMap.apiError]),(0,k.normalToast)({title:e.statusInfo})}))},useCoupon:function(){var e=this.properties.couponInfo,t=e.goodsJumpUrl,o=e.jumpType;if(o!==U){if(o===F)if((0,k.parseSwanUrl)(t).path===(0,k.getCurrentPage)().route)(0,k.normalToast)({title:"请在当前页面中查看对应商品"});else{var a=(0,k.parseSwanUrl)(t),i=a.path,n=a.options;(0,A.jumpToInnerSwan)({path:i,params:n})}}else(0,j.jumpToEasyBrowseH5)(t)},handleClick:function(){switch(this.data.couponStatus){case L:break;case E:this.takeCoupon();break;case N:this.useCoupon()}},setCouponStatus:function(){var e=this.properties.couponInfo,t=e.canTake,o=e.taken,a=0;a=e.takeStage===B?L:t?o?N:E:o?N:R,this.setData({couponStatus:a})}}})})),window.define("824",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(51),T=e(59),x=e(58),P=e(61),D=e(62);Component({options:{addGlobalClass:!0},properties:{product:{type:Object||Number,value:null,observer:function(e){e&&this.handleSellPoint()}},inActivity:{type:Boolean,value:!1},index:{type:Number,value:0}},data:{sellPoints:[]},lifetimes:{ready:function(){this.properties.product&&(this.intersectionObserver=(0,P.observerElementShowLog)({context:this,selector:".hot-buy-card-container",logParams:{compTargetId:"ssv_80",userExtra:Object.assign({},this.properties.product,{event_index:this.properties.index})},logSort:D.logSortMap.PRODUCT}))},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{handleClick:function(){var e=this.properties.product&&this.properties.product.spuId||"";(0,x.jumpToInnerSwan)({path:I.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:e},T.CHANNEL_INFO.findGoodsProductRec),log:{ctx:this,userExtra:{event_index:this.properties.index}}})},handleSellPoint:function(){var e=this.properties.product.sellPoints;e&&!e.length?e=[{name:"好物推荐"}]:e.length>2&&(e=e.slice(0,2)),this.setData({sellPoints:e})}}})})),window.define("826",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";function I(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Component({properties:{productList:{type:Object,value:{},observer:function(){this.initProductList()}},col:{type:Number,value:3},inActivity:{type:Boolean,value:!1}},data:{formatList:[]},methods:{initProductList:function(){var e=this.properties.productList,t=e.productInfoVos,o=e.showNum,a=[].concat(I(t)),i=o-a.length;if(i){var n=new Array(i).fill(0);a=[].concat(I(t),I(n))}this.setData({formatList:a})}},attached:function(){}})})),window.define("828",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(4),T=e(81),x=e(59),P=e(61);Component({properties:{shopInfo:{type:Object,value:{},observer:function(e){var t="",o="";if(e.description){var a=e.description.length>15?"...”":"”";t="“"+e.description.slice(0,15)+a}if(e.name){var i=e.name.length;o=(o="商城"===e.name.substr(-2)?e.name.substr(0,i-2):e.name).length>8?e.name.substr(0,8):o}this.setData({description:t,name:o})}}},data:{description:"",name:""},lifetimes:{ready:function(){this.intersectionObserver=(0,P.observerElementShowLog)({context:this,selector:".shop-card",logParams:{compTargetId:"ssv_226",userExtra:Object.assign({},this.properties.shopInfo)}})},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null}},methods:{goProductDetail:function(){(0,I.bdxdAddLog)(this,{compTargetId:"ssv_226"});var e=this.properties.shopInfo.shopUrl;(0,T.generalJump)({url:e,params:x.CHANNEL_INFO.findGoodsShopRec})}}})})),window.define("830",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{shopPart:{type:Object,value:{},observer:function(e){var t=e.shopInfoVos;this.setData({shopInfo:t})}}},data:{shopInfo:{},shopDec:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fxcx%2FbrandDec.png"}})})),window.define("832",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{headInfo:{type:Object,value:{},observer:function(e){e.height&&e.width&&this.setData({ration:e.height/e.width})}},pageType:{type:String,value:""},inActivity:{type:Boolean,value:!1}},data:{adrStyle:"",ration:.6594202898550725},attached:function(){this.setData({adrStyle:n().globalData.siteData.isAdr?"overflow: hidden;":""})},methods:{open:function(){this.setData({ruleVisiable:!0})},close:function(){this.setData({ruleVisiable:!1})}}})})),window.define("834",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(92),x=e(4),P=e(59),D=e(51),_=e(3),k=(I=_)&&I.__esModule?I:{default:I},A=e(58);var j=(n().globalData.siteData||{}).appId,O=void 0===j?"":j;Component({options:{addGlobalClass:!0},properties:{tabList:{type:Array,value:[]}},data:{next:0,productList:[],currentTab:"findGoods",isFirst:!0,navHeight:"64px",isLoading:!1,scrollTop:0},logicData:{pageSize:10,duSid:""},lifetimes:{attached:function(){var e=this;this.getProductList(),k.default.addHandler("onPageScroll",(function(t){e.data.scrollTop=t.scrollTop})),k.default.addHandler("getNavHeight",(function(t){e.setData("navHeight",t)})),k.default.addHandler("onReachBottom",(function(){return e.onReachBottom()}))}},messages:{clickend:function(e){var t=this,o=e.value||{},a=o.spuId,i=o.index,n=this.properties.tabList.findIndex((function(e){return t.data.currentTab===e.tabConfig}));(0,A.jumpToInnerSwan)({path:D.PAGES.PRODUCT_DETAIL,params:Object.assign({spuId:a},P.CHANNEL_INFO["findGoodsProductList"+n]),log:{ctx:this,userExtra:{event_index:i}}})}},methods:{getFeedNodeRect:function(){var e=this;return new Promise((function(t){i.createSelectorQuery().in(e).select(".feed").boundingClientRect((function(e){t(e)})).exec()}))},handleChangeTab:function(e){var t=this;this.getFeedNodeRect().then((function(o){var a=(e.target.dataset||{}).type,i=o.top<0?t.data.scrollTop+o.top-+t.data.navHeight.replace("px",""):0;a!==t.data.currentTab&&t.setData({currentTab:a,next:0,isFirst:!0},(function(){t.getProductList({offsetY:i})})),(0,x.bdxdAddLog)(t,{compTargetId:"ssv_223",userExtra:{event_index:t.properties.tabList.findIndex((function(e){return a===e.tabConfig}))+1}})}))},onReachBottom:function(){this.data.isFirst&&this.setData({isFirst:!1}),this.getProductList()},getProductList:function(e){var t=this,o=this.data,a=o.next,n=o.currentTab;if(-1!==Number(a)&&!this.data.isLoading){this.setData("isLoading",!0);var r=P.API.findGoods,s={appId:O,typeId:1,start:a,size:this.logicData.pageSize,tab:n};this.logicData.duSid&&"findGoods"===n&&(s.duSid=this.logicData.duSid),(0,T.request)({url:r,data:s}).then((function(o){if(t.data.currentTab===n){var a=o.data||{},r=(a.goods||[]).map((function(e){return Object.assign({},e,{webappUrl:e.productUrlVo.webAppUrl})}));t.logicData.duSid=a.duSid,t.setData({productList:r,next:+a.next}),e&&e.offsetY&&i.pageScrollTo({scrollTop:e.offsetY,duration:0})}})).catch((function(e){i.showToast({title:e.statusInfo,icon:"none"}),(0,x.addErrorLog)(e,{compTargetId:"dxdjx-find-goods-feed-err",errType:"api_find_feedlist_err"},[P.logTypeMap.apiError])})).finally((function(){t.setData("isLoading",!1)}))}}}})})),window.define("836",(function(e,t,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=e(837),x=e(237),P=e(4),D=e(59),_=new Array(3).fill(0).map((function(e,t){return"ssv_"+(t+81)}));Component({data:{pageConfig:null,headBgSrc:""},logicData:{activityTimer:null},lifetimes:{created:function(){},attached:function(){this.getPageConfig()},detached:function(){clearInterval(this.activityTimer)}},methods:{runActivityTimer:function(e){var t=this;this.activityTimer=o((function(){(e-=1e3)<0&&(t.getPageConfig({mode:"refresh"}),clearInterval(t.activityTimer))}),1e3)},getPageConfig:function(e){var t=this;(r().globalData.pageReqCache[x.GET_HOME_PAGE_CONFIG]||(0,T.getHomePageConfig)()).then((function(e){var o=e.data||{},a=o.couponPartVo;o.navPartVo;if(a){var i=a.takeStart-a.nowTime,n=a.takeEnd-a.nowTime;i>0&&t.runActivityTimer(i),i<0&&n>0&&t.runActivityTimer(n)}(e.data.productPartVo&&e.data.productPartVo.productModelConfigs||[]).forEach((function(e,t){e.ssv=_[t]||""})),t.setData({pageConfig:e.data})})).catch((function(e){(0,P.addErrorLog)(e,{compTargetId:"dxdjx-find-goods-config-err",errType:"api_find_pageConfig_err"},[D.logTypeMap.apiError])})).finally((function(){r().globalData.pageReqCache[x.GET_HOME_PAGE_CONFIG]=null,(0,P.removeSkeleton)({delayTime:150})}))}},messages:{imgLoaded:function(e){}}})})),window.define("837",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getHomePageConfig=void 0;var I=e(92),T=e(59);o.getHomePageConfig=function(){var e=T.API.getHomePageConfig;return(0,I.request)({url:e,downGradeOpts:{isMain:!0}}).then((function(e){return Object.assign({},e)}))}})),window.define("839",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(840)),T=P(e(841)),x=P(e(386));function P(e){return e&&e.__esModule?e:{default:e}}Component((0,x.default)(I.default,T.default))})),window.define("840",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(378),x=(I=T)&&I.__esModule?I:{default:I};o.default=function(){var e=getCurrentPages().pop().route.split("/").pop(),t=(0,x.default)(e)||{};return new Promise((function(e,o){e(t)}))}})),window.define("841",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={"special-seckill":{path:"wjz/dxdjx/special-seckill/special-seckill",type:"native-standard",renderVersion:2,isStatic:!0,pageAopPath:"../../../utils/dxdjx/pageAop/marketingPage.js",pageJson:{backgroundColor:"#FFE1CF",usingComponents:{"standard-page-generator":"/sPGV2_special-seckill_special-seckill/standardPageGenerator"}},isCompileStaticPage:!0,isFixedStaticTransform:!0}}})),window.define("843",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(844)),T=P(e(845)),x=P(e(386));function P(e){return e&&e.__esModule?e:{default:e}}Component((0,x.default)(I.default,T.default))})),window.define("844",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(378),x=(I=T)&&I.__esModule?I:{default:I};o.default=function(){var e=getCurrentPages().pop().route.split("/").pop(),t=(0,x.default)(e)||{};return new Promise((function(e,o){e(t)}))}})),window.define("845",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={"billion-subsidy":{path:"wjz/dxdjx/billion-subsidy/billion-subsidy",type:"native-standard",renderVersion:2,isStatic:!0,pageAopPath:"../../../utils/dxdjx/pageAop/marketingPage.js",pageJson:{backgroundColor:"#FF5245",usingComponents:{"standard-page-generator":"/sPGV2_billion-subsidy_billion-subsidy/standardPageGenerator"}},isCompileStaticPage:!0,isFixedStaticTransform:!0}}})),window.define("847",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59),T=e(51),x=e(58),P=e(4),D=e(81),_=e(239),k=R(e(3)),A=R(e(664)),j=e(848),O=e(849),L=e(237),E=e(801),N=e(92);function R(e){return e&&e.__esModule?e:{default:e}}var M=new Array(9).fill(0).map((function(e,t){return"ssv_"+(t+56)}));Component({data:{liveList:[],next:0,isFirst:!0,noProduct:!1,carouselList:[],carouselStyle:{padding:"28.96rpx 18.12rpx 0",background:"none","z-index":"auto"},contentStyle:{"border-radius":"21.72rpx"},emptyProductImg:"https://mall-static.cdn.bcebos.com/doujin%2FC%2Fimage%2Fdxdjx%2FemptyCollect.png",loadingHeight:(0,_.upx2dpx)(157),viewHeight:"calc(100vh - 64px)",isPullRefresh:!1,hasGetBanner:!1,hasGetList:!1,hasLite:!1,carouselSSVList:M},logicData:{source:""},lifetimes:{created:function(){this.setData({hasLite:(0,P.isLiteApp)()})},attached:function(){var e=this;k.default.addHandler("getNavHeight",(function(t){e.setData({viewHeight:"calc(100vh - "+t+")"})})),this.getLiveBannerList(!0),this.getLiveList(),this.setPageSourceFrom()}},messages:{onLiveCardClick:function(e){var t=e.value,o=t.liveInfo,a=void 0===o?{}:o,i=t.index,n=(t.col,a.jumpLink),r=void 0===n?"":n,s=a.liveType,d=void 0===s?2:s,u=(0,D.parseLiveUrl)(r).params,c=void 0===u?{}:u;if(r){var p={source:this.logicData.source,xiaodian:"new_daren_banner"};(0,D.goToLive)(r,I.JUMP_SOURCE_INFO.liveList_talent,d,p,{context:this,compTargetId:"ssv_174",userExtra:{room_id:c.roomId,room_type:a.roomType||1,event_index:i}})}}},methods:{onRefresh:function(){var e=this;i.createSelectorQuery().in(e).select(".pull-down-refresh").fields({id:!0},(function(t){if(!t)throw new Error("未找到节点 pull-down-refresh");var o=e.selectComponent(t.id);e.setData({liveList:[],next:0,isPullRefresh:!0}),e.getLiveBannerList(!1),e.getLiveList(o)})).exec()},scrollToLower:function(){this.isLoading||this.data.noProduct||(this.data.isFirst&&this.setData({isFirst:!1}),this.getLiveList())},getLiveList:function(e){var t=this,o=this.data.isFirst;if(-1!==this.data.next&&!this.isLoading){this.isLoading=!0;var a={start:this.data.next,size:10,duSid:this.duSid};(n().globalData.pageReqCache[L.GET_LIVE_LIST]||(0,O.liveList)(a)).then((function(e){var a=e.data,i=void 0===a?{}:a,n=i.list,r=void 0===n?[]:n,s=i.next,d=i.duSid,u={liveList:r,next:+s};!o&&!t.data.isPullRefresh||r.length?u.noProduct=!1:u.noProduct=!0,t.setData(u),t.duSid=d,t.data.isFirst&&(0,P.removeSkeleton)({delayTime:150})}),(function(e){(0,P.normalToast)({title:e.statusInfo})})).finally((function(){e&&e.stopRefresh();var a={};t.data.isPullRefresh&&(a.isPullRefresh=!1),t.data.hasGetList||(a.hasGetList=!0),Object.keys(a).length&&t.setData(a),t.isLoading=!1,n().globalData.pageReqCache[L.GET_LIVE_LIST]=null,(o||e)&&(0,P.isTabBarUrl)(T.PAGES.ORDER_LIST)&&(0,N.checkLoginStatus)().then((function(){t.getOrderStatusChange()}))}))}},getOrderStatusChange:function(){(0,E.orderStatusChange)().then((function(e){e.data.orderStatusChangeFlag&&(0,P.showTabBarRedDot)(T.PAGES.ORDER_LIST,!0)}))},getLiveBannerList:function(e){var t=this;(n().globalData.pageReqCache[L.GET_LIVE_BANNER_LIST]||(0,j.liveBannerList)()).then((function(e){var o=(e.data||[]||[]).map((function(e){return Object.assign({type:"image",imageUrl:e.picUrl},t.formatLink(e.cmd,e.cmdType))}));t.setData({carouselList:o}),t.data.isFirst&&(0,P.removeSkeleton)({delayTime:150})}),(function(e){(0,P.normalToast)({title:e.statusInfo})})).finally((function(){n().globalData.pageReqCache[L.GET_LIVE_BANNER_LIST]=null,!t.data.hasGetBanner&&t.setData({hasGetBanner:!0})}))},handleGoShopping:function(){(0,P.isLiteApp)()?(0,P.jumpHome)():(0,A.default)()},handleCarouselItemClick:function(e){var t=e.e,o=e.xcxPath,a=e.url,i=e.livePath;if(o)(0,D.generalJump)({url:o,params:{subSceneValue:M[t.curIndex]},log:{ctx:this,compTargetId:M[t.curIndex]}});else if(a)(0,x.jumpToInnerSwan)({path:T.PAGES.COMMUNICATE_WEB_VIEW,params:{url:a},log:{ctx:this,compTargetId:M[t.curIndex]}});else if(i){var n={source:this.logicData.source};(0,D.goToLive)(i,I.JUMP_SOURCE_INFO.liveBanner,2,n,{ctx:this,compTargetId:M[t.curIndex]})}},formatLink:function(e,t){var o={xcxPath:"",url:"",livePath:""};return e&&(2===t?o.livePath=e:(0,P.isSwan)(e)?o.xcxPath=e:(0,P.isBdH5)(e)?o.url=e.split("easybrowse/open?url=").pop()||"":(0,P.isH5)(e)&&(o.url=encodeURIComponent(e))),o},setPageSourceFrom:function(){var e=(0,P.parsePageQuery)(),t=e.source,o=e.sceneValue;I.LIVE_LIST_VALID_SOURCE.includes(t)&&o!==T.ON_SHARE_APP_SCENE_VALUE&&(this.logicData.source=t)}}})})),window.define("848",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.liveBannerList=void 0;var I=e(92),T=e(59);o.liveBannerList=function(){var e=T.API.getLiveShowBanner;return(0,I.request)({url:e}).then((function(e){return Object.assign({},e)}))}})),window.define("849",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.liveList=void 0;var I=e(92),T=e(59),x={start:0,size:10};o.liveList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=T.API.getliveList;return(0,I.request)({url:t,data:e,downGradeOpts:{isMain:!0}}).then((function(e){return Object.assign({},e)}))}})),window.define("851",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(81),x=e(4),P=e(59),D=e(51),_=e(58),k=e(87),A=(I=k)&&I.__esModule?I:{default:I};var j={headImgHeight:119.565,liveHeight:221,beltHeight:36.232,headImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/wanda_airHeadImg.png",beltImg:"https://mall-static.cdn.bcebos.com/doujin/C/image/wanda_liveAtmosphere.png"};Component({options:{addGlobalClass:!0},externalClasses:["video-custom-style"],properties:{componentData:{type:Object,value:{}},usePropsData:{type:Boolean,value:!0}},observers:{"componentData.liveData":function(e){this.properties.componentData.usePropsData&&e&&this.handleData(e)},"componentData.videoStyle":function(e){this.setData({liveStyle:Object.assign({},this.data.liveStyle,e)})}},data:{autoplay:!1,streamUrl:"",objectFit:"cover",orientation:"vertical",controls:!1,muted:!0,posterImg:"",liveType:0,viewers:0,liveTypeMap:{preheart:1,inProgress:2,playback:3},compConfig:{},statusBarHeight:20,navigationBarHeight:44,liveStyle:{width:"100%",height:"100%"},officialTag:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/officialLiveTag_bigCard.png",roomType:1},logicData:{liveUrl:""},lifetimes:{attached:function(){this.setData({compConfig:Object.assign(j,this.properties.componentData)});var e=this.data.compConfig.headImg;this.initAutoPlay(),this.properties.usePropsData?this.handleData(this.properties.componentData):this.setData({posterImg:e})}},methods:{initAutoPlay:function(){var e=this;i.getNetworkType({success:function(t){"wifi"===t.networkType&&e.setData("autoplay",!0)}})},handleClick:function(){var e=this.logicData.liveUrl;if((0,x.isSwan)(e))(0,T.generalJump)({url:e,params:{subSceneValue:"ssv_196"},log:{userExtra:{live_type:this.data.liveType}}});else if((0,x.bdxdAddLog)(this,{compTargetId:"ssv_196",userExtra:{type:this.data.liveType}}),(0,x.isH5)(e))(0,_.jumpToInnerSwan)({path:D.PAGES.COMMUNICATE_WEB_VIEW,params:{url:e}});else if((0,x.isBdH5)(e)){var t=e.split("easybrowse/open?url=").pop()||"";(0,T.jumpToEasyBrowseH5)(t)}else(0,T.goToLive)(e,P.JUMP_SOURCE_INFO.starLive)},handleData:function(e){var t=this;if(e.liveType){(0,A.default)().then((function(e){var o=e.navigationBarHeight,a=e.statusBarHeight;t.setData({statusBarHeight:a,navigationBarHeight:o})})),this.logicData.liveUrl=e.liveUrl;var o={liveType:e.liveType,posterImg:e.liveImage,streamUrl:e.streamUrl,viewers:e.viewers||0,roomType:e.roomType||1};this.setData(o)}else{var a=this.data.compConfig.headImg;this.setData({posterImg:a})}}}})})),window.define("853",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(854),x=e(51),P=e(126),D=(I=P)&&I.__esModule?I:{default:I},_=e(4),k=e(119),A=e(58);Component({options:{addGlobalClass:!0},behaviors:[(0,k.loginBehavior)()],properties:{isPopshow:{type:Boolean,value:!1,observer:function(e){e&&this.getCouponData()}}},data:{totalPreference:"",showButton:0,couponInfoVos:null},logicData:{newPersonCouponJumpUrl:""},messages:{onLogin:function(e){this.loginHandle(e)}},methods:{$loginSuccessCb:function(){this.buttonClick()},onClickClose:function(){this.setData({isPopshow:!1})},getCouponData:function(){var e=this;(0,T.couponListReq)().then((function(t){var o=t.data,a=void 0===o?null:o;if(a&&Object.keys(a).length){var i=a.totalPreference,n=a.showButton,r=a.couponInfoVos,s=void 0===r?null:r,d=a.newPersonCouponJumpUrl,u=void 0===d?"":d;u&&(e.logicData.newPersonCouponJumpUrl=u),e.setData({totalPreference:i,showButton:n,couponInfoVos:s})}}))},buttonClick:function(){if(this.data.showButton){var e=this.logicData.newPersonCouponJumpUrl;if(e){this.onClickClose();var t=(0,_.parseSwanUrl)(e),o=t.path,a=t.options;(0,A.jumpToInnerSwan)({path:o,params:a,log:{ctx:this,compTargetId:"newuser_use_click"}})}}else{var i=[],n=this.data.couponInfoVos;n&&n.map((function(e){!e.takeStatus&&i.push(e.batchId)})),i.length>0&&this.getBatchTake(i)}},getBatchTake:function(e){var t=this,o={200:"领取成功",FAILTEXT:"领取失败",3402:"活动已结束或优惠券已过期"};D.default.hgzAs(x.antifraudConfig.userGrowth).then((function(a){(0,T.batchTakeReq)({batchIds:e,antiCheatVo:a}).then((function(e){var a=e&&+e.status;if(200===a){var i=e.data.couponBatchIds||[],n=t.data.couponInfoVos;return t.setData({couponInfoVos:n&&n.map((function(e){return Object.assign({},e,{takeStatus:i.indexOf(e.batchId)>-1?1:0})})),showButton:1}),void(0,_.normalToast)({title:o[a]})}return 3521===a||3522===a?((0,_.normalToast)({title:o.FAILTEXT}),void t.onClickClose()):3402===a?((0,_.normalToast)({title:o[a]}),void t.onClickClose()):3401===a?(t.triggerEvent("oldUserTake"),(0,_.normalToast)({title:e.statusInfo}),void t.onClickClose()):((0,_.normalToast)({title:e.statusInfo||o.FAILTEXT}),void t.onClickClose())})).catch((function(e){(0,_.normalToast)({title:e.statusInfo||o.FAILTEXT})}))}))}}})})),window.define("854",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.batchTakeReq=o.couponListReq=o.mallIndexReq=void 0;var I=e(92),T=e(59);o.mallIndexReq=function(e){var t=T.API.getFixAreList,o=e||{duSid:""};return(0,I.request)({url:t,data:o,downGradeOpts:{isMain:!0}}).then((function(e){return e})).catch((function(e){return e}))},o.couponListReq=function(){var e=T.API.getNewCoupon;return(0,I.request)({url:e}).then((function(e){return e})).catch((function(e){return e}))},o.batchTakeReq=function(e){var t=T.API.batchTakeCoupon;return(0,I.request)({url:t,data:e}).then((function(e){return e})).catch((function(e){return e}))}})),window.define("856",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81);Component({properties:{componentData:{type:Object,value:{},observer:function(e){if(e){var t=e.imgRatioW,o=e.imgRatioH;t&&o&&this.setData({ratio:o/t*100+"%"})}}}},data:{ratio:"20%"},methods:{handleImgClick:function(){var e=this.properties.componentData.cmd;(0,I.generalJump)({url:e,params:{subSceneValue:"ssv_199"}})}}})})),window.define("858",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Component({properties:{componentData:{type:Object,value:{subTitle:"",images:[],cmd:""},observer:function(e){if(e){var t=e.images,o=void 0===t?[]:t;this.setData({goodsImages:o.slice(0,2)})}}}},data:{goodsImages:[]},methods:{handleCardTap:function(){this.triggerEvent("onCardTaped",{payload:this.properties.componentData})}}})})),window.define("860",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I={live:{statusLabel:"直播中",watchLabel:"人观看"},preview:{statusLabel:"预告",watchLabel:"人观看"},review:{statusLabel:"回放",watchLabel:"人看过"}};Component({options:{addGlobalClass:!0},properties:{componentData:{type:Object,value:{contentTitle:"",image:"",liveStatus:"",onlineUsers:0},observer:function(e){var t=e.onlineUsers,o=void 0===t?0:t,a=e.liveStatus,i=I[a];if(i){var n=i.watchLabel,r=parseInt(o/1e4,10),s=parseInt(o%1e4/1e3,10);r?this.setData({onlineUsers:s?r+"."+s+"万"+n:r+"万"+n,statusLabel:i.statusLabel,statusIcon:i.statusIcon}):this.setData({onlineUsers:""+o+n,statusLabel:i.statusLabel,statusIcon:i.statusIcon})}}}},data:{onlineUsers:"",statusLabel:"",statusIcon:""},methods:{handleCardTap:function(){this.triggerEvent("onCardTaped",{payload:this.properties.componentData})}}})})),window.define("862",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81),T=e(51);Component({properties:{componentData:{type:Object,value:{isShow:!1,liveCardVo:{},productCardVo:{}},observer:function(e){if(e){var t=e.liveCardVo,o=void 0===t?{}:t,a=e.productCardVo,i=void 0===a?{}:a;this.setData({liveCardVo:o,productCardVo:i,liveCardVoStyle:this.setBlockStyle(o),productCardVoStyle:this.setBlockStyle(i)})}}}},data:{liveCardVo:{},productCardVo:{},liveCardVoStyle:{},productCardVoStyle:{}},methods:{handleLiveCardTap:function(){var e=this.data.liveCardVo.cmd;e&&(0,I.generalJump)({url:e})},handleGoodProductTap:function(){var e=this.data.productCardVo.cmd;e&&(0,I.generalJump)({url:e,params:T.CHANNEL_INFO.findGoods})},setBlockStyle:function(e){var t=e.bg,o=e.color,a=(o=void 0===o?{}:o).from,i=o.to;return t?{"background-image":"url("+t+")"}:a&&i?{"background-image":"linear-gradient(180deg, "+a+" 0%, "+i+" 100%)"}:{}}}})})),window.define("864",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(59),T=e(4),x=e(81);Component({properties:{componentData:{type:Object,value:{isShow:!1,navList:[]}}},observers:{"componentData.navList":function(e){if(e&&e.length){var t=I.SUPER_NAV_INFO[e.length]||{};this.setData({newNavList:this.handleNavList(e,t),superNavInfo:t})}}},data:{newNavList:[],superNavInfo:{},len:(0,T.tranPxToRpx)({width:37,height:37})},methods:{handleNavList:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.showCol,a=t.colNum,i=[],n=0;n<o;n++)i.push(e.slice(n*a,(n+1)*a));return i},onNavClick:function(e){var t=e.currentTarget&&e.currentTarget.dataset||{},o=t.url,a=t.index;(0,x.generalJump)({url:o,params:{subSceneValue:"ssv_198"},log:{userExtra:{event_index:a}}})}}})})),window.define("866",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=e(81);Component({properties:{componentData:{type:Object,value:{}}},methods:{handleTap:function(e){var t=e.currentTarget.dataset&&e.currentTarget.dataset.cmd;(0,I.generalJump)({url:t,params:{subSceneValue:"ssv_197"}})}}})})),window.define("877",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=A(e(878)),T=A(e(869)),x=e(872),P=e(208),D=A(e(382)),_=A(e(3)),k=A(e(668));function A(e){return e&&e.__esModule?e:{default:e}}var j={data:{isLite:!1,pageData:D.default},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(e){"bdlite"===n().globalData.siteData.host&&(k.default["live-list"].isStatic||(k.default["live-list"].isStatic=!0),n().globalData.pageData=D.default,(0,P.initDowngrade)(D.default),this.removeSkeleton(),this.setData({isLite:!0}))},onUnload:function(){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){this.data.isLite&&_.default.trigger("onReachBottom")},onPageScroll:function(e){this.data.isLite&&_.default.trigger("onPageScroll",e)},onTabItemTap:function(){}};(0,x.watch)(I.default,j),(0,x.watch)(T.default,j),Page(j)})),window.define("878",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4),T=e(848),x=e(849),P=e(237);o.default={onInit:{before:function(){n().globalData.pageReqCache[P.GET_LIVE_BANNER_LIST]=(0,T.liveBannerList)(),n().globalData.pageReqCache[P.GET_LIVE_LIST]=(0,x.liveList)()}},onShareAppMessage:{around:function(){return{path:(0,I.getShareParams)((0,I.getCurrentPage)().route)}}},onShow:{before:function(){i.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#3388FF"})}},onHide:{before:function(){i.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})}},onTabItemTap:{before:function(){(0,I.bdxdAddLog)(this,{compTargetId:"app_tab_click"})}}}})),window.define("881",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(882)),T=e(872),x=P(e(884));function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,D),(0,T.watch)(x.default,D),Page(D)})),window.define("882",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=P(e(5)),T=P(e(883)),x=e(239);function P(e){return e&&e.__esModule?e:{default:e}}var D=I.default.configOfLogAction.actionIdForDeveloper||{};o.default={onInit:{before:function(e){n().globalData.pageData.initTimestamp=(new Date).getTime(),this.isInitPage=!0,I.default.initPageData()},after:function(){}},onLoad:{before:function(){var e=this.__pageData__||{},t=e.pageId,o=e.htmlUrl;t||(t=(0,x.getExtCurrentPageInfo)().pageId||(0,x.getCurrentPage)().options.pageId),o||(o=(0,x.getExtCurrentPageInfo)().htmlUrl||(0,x.getCurrentPage)().options.url),this.__pageData__={pageId:t,htmlUrl:o,xcxPath:(0,x.getCurrentPage)().privateProperties.accessUri},Object.assign(n().globalData.pageData,this.__pageData__)}},onShow:{before:function(){Object.assign(n().globalData.pageData,this.__pageData__),!this.isInitPage&&I.default.initPageData(),(0,T.default)(),I.default.addHeartBeatLog(),!this.__pageData__||this.__pageData__&&void 0===this.__pageData__.siteid||I.default.logActions.addUserDefinedLog({actionId:D.SITE_PAGE_SHOW,userExtra:{xcxTiming:"onShow"}})}},pageConfigGot:{before:function(e){var t=(0,x.normalizePageData)(e,this.__pageData__);Object.assign(this.__pageData__,t),Object.assign(n().globalData.pageData,this.__pageData__),e.staticInDynamic||((0,T.default)(),I.default.logActions.addUserDefinedLog({actionId:I.default.configOfLogAction.actionIdForDeveloper.SITE_PAGE_SHOW,userExtra:{xcxTiming:"pageConfigGot"}}))}},pageError:{before:function(e){}},onPageScroll:{before:function(e){5!==n().globalData.siteData.appId&&I.default.addPageScrollLog(e)}},onHide:{before:function(){I.default.addPageQuitLog(),this.isInitPage=!1}},onUnload:{before:function(){I.default.addPageQuitLog()}}}})),window.define("883",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(871),x=e(5),P=(I=x)&&I.__esModule?I:{default:I};o.default=function(){var e=n().globalData.siteData||{},t=e.sPvId,o=e.zjopen,a=e.searchEndParams,i=e.scene;P.default.initSiteData({appId:(0,T.getAppId)(),ucId:(0,T.getUcId)(),siteId:(0,T.getSiteId)(),sPvId:t,productName:(0,T.getProductName)(),zjopen:o,searchEndParams:a,scene:i}),P.default.setPageData({subAppId:(0,T.getSubAppId)(),pageId:(0,T.getPageId)(),tplId:(0,T.getTplId)(),pageType:(0,T.getPageType)(),pageName:(0,T.getPageName)(),pageInfo:(0,T.getPageInfo)(),htmlUrl:(0,T.getUrl)(),expIdList:(0,T.getExpIdList)(),extData:(0,T.getExtData)()})}})),window.define("884",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.initPage=M;var I=L(e(3)),T=e(64),x=e(4),P=e(885),D=L(e(886)),_=e(208),k=L(e(381)),A=L(e(383)),j=e(86),O=e(57);function L(e){return e&&e.__esModule?e:{default:e}}var E=!0,N={};function R(e){var t=(0,x.getCurrentPage)().options.pageId,o=N[void 0===t?0:t];if(o){var a="black"===o.dxdjxStatusBarColor;"show"===e?(0,D.default)(a):(0,D.default)(!a)}else(0,D.default)(!0)}function M(){var e=(0,x.getCurrentPage)(),t=e.uri,o=void 0===t?"":t;e.options.pageId;/\/billion-subsidy/g.test(o)&&(n().globalData.pageData.pageid=k.default.pageid,(0,_.initDowngrade)(k.default)),/\/special-seckill/g.test(o)&&(n().globalData.pageData.pageid=A.default.pageid,(0,_.initDowngrade)(A.default))}o.default={onInit:{before:function(){this.setData({pageData:{}}),(0,P.onInitBefore)(this)},after:function(){var e=this;E=!0,this.getRemotePageConfig?this.getRemotePageConfig.then((function(t){if(t&&0===t.status){var o=JSON.parse(t.data.pageConfig);(0,O.setPageName)(o);var a=o.extData&&o.extData.dxdjxStatusBarColor,i=(0,x.getCurrentPage)().options.pageId;a&&(N[void 0===i?0:i]={dxdjxStatusBarColor:a},R("show")),(0,_.initDowngrade)(o),n().globalData.pageData.title=o.title,(0,P.onShowBefore)(e)}else(0,x.jumpToHomePage)()})).catch((function(t){(0,x.bdxdAddLog)(e,{compTargetId:"dxdjx_dynamic_marketing_init_err",userExtra:{errMsg:t.message||JSON.stringify(t)}}),(0,x.jumpToHomePage)()})).finally((function(){e.removeSkeleton()})):((0,P.onShowBefore)(this),M())}},onShow:{before:function(){var e=this;E||(this.getRemotePageConfig?this.getRemotePageConfig.then((function(){(0,P.onShowBefore)(e)})):(0,P.onShowBefore)(this),I.default.trigger("onPageShowAgain")),E=!1,R("show")}},onHide:{before:function(){(0,P.onHideBefore)(this)},after:function(){R("hide")}},onUnload:{before:function(){(0,P.onUnloadBefore)(this),n().globalData.pageReqCache={}}},onLoad:{before:function(e){(0,P.onLoadBefore)(this),I.default.clearEvents([j.GLOBAL_LOGIN_EVENT_KEY]),(0,T.setChannelInfo)(e);var t=i.getUpdateManager();t.onUpdateReady((function(e){t.applyUpdate()}))}},onShareAppMessage:{around:function(){var e=n().globalData.pageData.extData,t=(0,x.getShareParams)((0,x.getCurrentPage)().route);if(e&&e.dxdjxShareInfo){var o=e.dxdjxShareInfo,a=o.path,i=void 0===a?"":a,r=o.shareUrl,s=void 0===r?"":r,d=Object.assign({},e.dxdjxShareInfo,{path:i?(0,x.getShareParams)(i):t});return s&&(d.shareUrl=s+"?appName=baiduboxapp&scheme=baiduboxapp://swan/eRSS2NhafvwzibGY2oFcNN98DFSPfujf/"+encodeURIComponent(t)),d}}},onPageScroll:{before:function(e){I.default.trigger("onPageScroll",e)}},onReachBottom:{before:function(){I.default.trigger("onReachBottom")}},onTabItemTap:{before:function(){(0,x.bdxdAddLog)(this,{compTargetId:"app_tab_click"})}}}})),window.define("885",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.onUnloadBefore=o.onHideBefore=o.onShowBefore=o.onLoadBefore=o.onInitBefore=void 0;var I=e(4),T=e(48),x=e(61);o.onInitBefore=function(){n().globalData.curPagePath=(0,I.getCurPath)()},o.onLoadBefore=function(){n().globalData.curPagePath=(0,I.getCurPath)()},o.onShowBefore=function(e){n().globalData.curPagePath=(0,I.getCurPath)(),n().globalData.pageData.showTime=(new Date).getTime(),(0,I.bdxdAddLog)({},Object.assign({compTargetId:T.bdtjLogType.pageShow,logType:T.bdtjLogType.pageShow},e))},o.onHideBefore=function(e){(0,x.pageUnloadObserverLog)(e),(0,I.bdxdAddLog)({},{compTargetId:T.bdtjLogType.pageQuit,logType:T.bdtjLogType.pageQuit,userExtra:{stayed_millsecond:(new Date).getTime()-n().globalData.pageData.showTime,curPage:e.route}})},o.onUnloadBefore=function(e){(0,x.pageUnloadObserverLog)(e),(0,I.bdxdAddLog)({},{compTargetId:T.bdtjLogType.pageQuit,logType:T.bdtjLogType.pageQuit,userExtra:{stayed_millsecond:(new Date).getTime()-n().globalData.pageData.showTime,curPage:e.route}}),n().globalData.curPagePath=""}})),window.define("886",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){if(e)return i.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#3388FF"});i.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})}})),window.define("888",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(882)),T=e(872),x=P(e(884));function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,D),(0,T.watch)(x.default,D),Page(D)})),window.define("890",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=D(e(882)),T=e(872),x=D(e(884)),P=D(e(390));function D(e){return e&&e.__esModule?e:{default:e}}var _={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){this.getRemotePageConfig=(0,P.default)()},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,_),(0,T.watch)(x.default,_),Page(_)})),window.define("892",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=D(e(882)),T=e(872),x=D(e(884)),P=D(e(390));function D(e){return e&&e.__esModule?e:{default:e}}var _={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){this.getRemotePageConfig=(0,P.default)()},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,_),(0,T.watch)(x.default,_),Page(_)})),window.define("894",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(895)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onPageScroll:function(e){},onReachBottom:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("895",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(837),_=e(237);function k(){x.default.clearEvents(["onReachBottom","onPageScroll","getNavHeight"])}o.default={onReachBottom:{before:function(){x.default.trigger("onReachBottom")}},onPageScroll:{before:function(e){x.default.trigger("onPageScroll",e)}},onInit:{before:function(){k(),n().globalData.pageReqCache[_.GET_HOME_PAGE_CONFIG]=(0,D.getHomePageConfig)()}},onUnload:{before:function(){k()}},onShareAppMessage:{around:function(){return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route)}}},onShow:{before:function(){i.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#3388FF"}),(0,P.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"find_goods_page_show"})}},onHide:{after:function(){i.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})}}}})),window.define("898",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(899)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onPageScroll:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("899",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(92),T=e(4);o.default={onInit:{before:function(){n().globalData.loginStatus=(0,I.checkLoginStatus)()}},onShareAppMessage:{around:function(){return{path:(0,T.getShareParams)((0,T.getCurrentPage)().route)}}},onShow:{before:function(){(0,T.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"welfare_rob_show"})}}}})),window.define("902",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(903)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(e){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onUnload:function(){},onPageScroll:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("903",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(92),T=e(4);o.default={onInit:{before:function(){n().globalData.loginStatus=(0,I.checkLoginStatus)()}},onShareAppMessage:{around:function(){return{path:(0,T.getShareParams)((0,T.getCurrentPage)().route)}}},onShow:{before:function(){(0,T.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"my_red_packet_coupon"})}}}})),window.define("906",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(907)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("907",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4);o.default={onReachBottom:{before:function(){x.default.trigger("searchProductReachBottom")}},onShareAppMessage:{around:function(){var e=n().globalData.siteData.keyWords||"";return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route,{keyWords:e})}}}}})),window.define("910",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(911)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){},onTabItemTap:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("911",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(237),_=e(238);function k(){x.default.clearEvents(["getNavHeight"])}o.default={onReachBottom:{before:function(){x.default.trigger("personCenterReachBottom")}},onInit:{before:function(){k(),n().globalData.pageReqCache[D.GET_RECOMMEND_LIST]=(0,_.recommendListReq)(null,{downGradeOpts:{isMain:!0}})}},onShareAppMessage:{around:function(){return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route)}}},onUnload:{before:function(){k()}},onShow:{before:function(){i.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#3388FF"}),(0,P.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"person_center_show"})}},onHide:{before:function(){i.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})}},onTabItemTap:{before:function(){(0,P.bdxdAddLog)(this,{compTargetId:"app_tab_click"})}}}})),window.define("914",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(915)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("915",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(92);o.default={onInit:{before:function(){n().globalData.loginStatus=(0,D.checkLoginStatus)()}},onReachBottom:{before:function(){x.default.trigger("collectionListReachBottom"),x.default.trigger("collectionListLikeReachBottom")}},onShareAppMessage:{around:function(){return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route)}}}}})),window.define("918",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(919)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("919",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(790),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(92);o.default={onInit:{before:function(){n().globalData.loginStatus=(0,D.checkLoginStatus)()}},onReachBottom:{before:function(){x.default.trigger("trackListReachBottom")}},onUnload:{before:function(){x.default.clearCurPageEvents()}},onShareAppMessage:{around:function(){return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route)}}}}})),window.define("922",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(923)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onLoad:function(){},onShow:function(){},onPageScroll:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onUnload:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("923",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4);o.default={onInit:{},onShow:{before:function(){(0,I.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"about_xiaodian_show"})}}}})),window.define("926",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(927)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onReachBottom:function(){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("927",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4),D=e(340),_=e(366);o.default={onReachBottom:{before:function(){x.default.trigger("searchProductReachBottom")}},onInit:{before:function(){n().globalData.pageReqCache[D.GET_PRODUCT_LIST]=(0,_.productListReq)()}},onShareAppMessage:{around:function(){return{path:(0,P.getShareParams)((0,P.getCurrentPage)().route)}}}}})),window.define("930",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(931)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("931",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I};o.default={onReachBottom:{before:function(){x.default.trigger("onReachBottom")}},onPageScroll:{before:function(e){x.default.trigger("onPageScroll",e)}},onInit:{before:function(){x.default.clearEvents(["onReachBottom","onPageScroll","getNavHeight"])}}}})),window.define("934",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(931)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("941",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(942)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("942",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(92),x=e(4),P=e(3),D=(I=P)&&I.__esModule?I:{default:I},_=e(51),k=e(64);var A="",j="",O="";o.default={onInit:{before:function(){D.default.clearEvents(["getNavHeight","onPageScroll"]),n().globalData.pageData.initTimestamp=(new Date).getTime(),n().globalData.loginStatus=(0,T.checkLoginStatus)();var e=(0,x.getCurPath)();(0,x.sdkSetPageData)({subAppId:_.SUB_APPID_MAP[e]})}},onPageScroll:{before:function(e){D.default.trigger("onPageScroll",e)}},onLoad:{before:function(e){n().globalData.tradePop.trackLog||(n().globalData.tradePop=requireDynamicLib("tradePop")),n().globalData.tradePop.init({appOptions:{query:e},version:"0.0.1"}),n().globalData.tradePop.trackLog({appOptions:e});try{var t=e.skus||"[]";0===t.indexOf("%5B")&&(t=decodeURIComponent("skus"));var o=(t=JSON.parse(t))[0]&&t[0].cpsInfo;A=t[0]&&t[0].spuId,j=t[0]&&t[0].skuId,O=e.shopId,o&&(0,k.setChannelInfo)(o);var a=e._cecom_ext;a&&(0,k.setChannelInfo)({_cecom_ext:a})}catch(e){(0,x.addErrorLog)(e,{compTargetId:"order_sb_skus_err"},[_.logTypeMap.error])}}},onHide:{before:function(e){"{}"!==JSON.stringify(n().globalData.tradePop)&&"function"==typeof n().globalData.tradePop.clear&&n().globalData.tradePop.clear()}},onShow:{before:function(){((0,x.getRouteStack)()||[]).length||(0,k.setChannelInfo)({subSceneValue:"ssv_0",marketingType:""}),(0,x.isDxdjx)()&&(0,x.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"order_submit_page_show",userExtra:{spuId:A,skuId:j,shopId:O,comp_material_id:A}})}}}})),window.define("948",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=D(e(882)),T=e(872),x=D(e(949)),P=D(e(390));function D(e){return e&&e.__esModule?e:{default:e}}var _={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){this.getRemotePageConfig=(0,P.default)()},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,_),(0,T.watch)(x.default,_),Page(_)})),window.define("949",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(64),D=e(4),_=e(885);o.default={onInit:{before:function(){(0,_.onInitBefore)(this),n().globalData.pageData.initTimestamp=(new Date).getTime()}},onLoad:{before:function(e){(0,_.onLoadBefore)(this),(0,D.isDxdjx)()&&(0,P.setChannelInfo)(e);var t=i.getUpdateManager();t.onUpdateReady((function(e){!(0,D.isDxdjx)()&&t.applyUpdate()}))}},onReachBottom:{before:function(){x.default.trigger("shopIndexReachBottom")}},onPageScroll:{before:function(e){x.default.trigger("onPageScroll",e)}},onShow:{before:function(){(0,_.onShowBefore)(this)}},onHide:{before:function(){(0,_.onHideBefore)(this)}},onUnload:{before:function(){(0,_.onUnloadBefore)(this)}},onShareAppMessage:{around:function(){return{path:(0,D.getShareParams)((0,D.getCurrentPage)().route)}}}}})),window.define("951",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(869)),T=P(e(952)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(){},onPageScroll:function(e){},onHide:function(){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){}};(0,x.watch)(T.default,D),(0,x.watch)(I.default,D),Page(D)})),window.define("952",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(4),T=e(59),x=e(577),P=e(237);o.default={onInit:{before:function(){n().globalData.pageReqCache[P.DAILY_BENEFIT]=(0,x.getDailyBenefit)()}},onShareAppMessage:{around:function(){var e=(0,I.getShareParams)((0,I.getCurrentPage)().route);return Object.assign({path:e},T.DAILY_SHOP_SHARE_INFO)}},onShow:{before:function(){(0,I.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"daily_special_show"})}}}})),window.define("955",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(956)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(e){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0,n().globalData.isNormalPathOrder=0},onShareAppMessage:function(e){},onTabItemTap:function(){},onReachBottom:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("956",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I,T=e(3),x=(I=T)&&I.__esModule?I:{default:I},P=e(4);o.default={onReachBottom:{before:function(){x.default.trigger("orderListReachBottom")}},onTabItemTap:{before:function(){(0,P.bdxdAddLog)(this,{compTargetId:"app_tab_click"}),x.default.trigger("onTabItemTap")}}}})),window.define("959",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(956)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(e){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0,n().globalData.isNormalPathOrder=0},onShareAppMessage:function(e){},onTabItemTap:function(){},onReachBottom:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("962",(function(e,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S,I){"use strict";var T=L(e(3)),x=L(e(869)),P=e(872),D=e(156),_=e(4),k=e(143),A=e(81),j=e(142),O=e(93);function L(e){return e&&e.__esModule?e:{default:e}}var E={data:{windowWidth:375,navHeight:64,statusBarHeight:20,headTitleBg:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/image/boxTopTitle.png",headImage:"https://mpics.bdstatic.com/qm/202205/pic_ZYmO0Y_1653904785.png",prizeNum:0,shareData:{},isBoxVideo:!1,boxImg:"https://mpics.bdstatic.com/qm/202205/pic_OSd8ha_1653313161.png",boxPath:"",boxBtn:{text:"点击赢大奖",chance:3,disabled:!1},prizePopupVisiable:!1,isShareDownGrade:!1,bigPrizes:[],isUseDownGrade:!1,isLogin:!1},logicData:{isBoxFlag:!1,isOnShowReq:!1,keyCode:""},onUnload:function(){},onPrefetch:function(){n.prefetchResources({video:[{url:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/video/afx-blindbox.mp4"}]})},onInit:function(){var e=this;this.boxFileHandle(),T.default.clearEvents(["onReachBottom","onPageScroll","getNavHeight","getStatusBarHeight"]),T.default.addHandler("getNavHeight",(function(t){var o=+t.replace("px","");e.setData({navHeight:o})})),T.default.addHandler("getStatusBarHeight",(function(t){var o=+t.replace("px","");e.setData({statusBarHeight:o})})),r().globalData.siteData.systemInfoPromise.then((function(t){e.setData({windowWidth:t.windowWidth})})),r().globalData.siteData.bdussPromise.then((function(t){e.prizeNumHandle(),e.shareListHandle(),e.getChance(!0)}))},onShow:function(){(0,_.bdxdAddLog)(this,{actionId:"site_page_show",compTargetId:"blind_box_page_show"}),this.boxAnimation&&this.boxAnimation.play(),this.logicData.isOnShowReq&&this.refreshHandle()},onLoad:function(){var e=this;this.boxAnimation=n.createAnimationVideo("boxAnimation"),this.boxAnimation.play(),this.startDownGradeBox(),(0,D.getB64EnDecode)().then((function(t){t&&(e.logicData.keyCode=t)}))},onPageScroll:function(e){T.default.trigger("onPageScroll",e)},onReachBottom:function(){T.default.trigger("onReachBottom")},onShareAppMessage:function(){var e=this.logicData.keyCode;return e&&this.data.isShareDownGrade?(0,D.boxDefaultCommandShare)(e):(0,D.boxDefaultPageShare)()},boxFileHandle:function(){var e=this;this.fileSystemManager=n.getFileSystemManager();var t=n.env.USER_DATA_PATH+"/bigBox-afx-618.mp4",o=function(t){e.setData({boxPath:t},(function(){e.setData({isBoxVideo:!0})}))};this.fileSystemManager.getFileInfo({filePath:t,success:function(){o(t)},fail:function(){n.downloadFile({url:"https://mall-static.cdn.bcebos.com/dxdjx/xcx/video/afx-blindbox.mp4",success:function(a){try{var i=e.fileSystemManager.saveFileSync(a.tempFilePath,t);o(i)}catch(e){console.log("saveFileSync fail",e)}}})}})},prizeNumHandle:function(){var e=this;(0,j.getPrizeReq)({queryCountFlag:1}).then((function(t){t&&t.data&&t.data.prizeCount&&e.setData({prizeNum:t.data.prizeCount})}))},jumpMainPage:function(){(0,A.generalJump)({url:k.MAINPAGE})},jumpRulePage:function(){(0,A.generalJump)({url:k.RULEPAGE})},jumpbackPage:function(){(0,A.jumpToEasyBrowseH5)(k.BACKPAGE)},jumpPrizePage:function(){(0,A.generalJump)({url:k.PRIZEPAGE})},refreshHandle:function(e){this.prizeNumHandle(),this.shareListHandle(!!e),this.getChance()},shareListHandle:function(e){var t=this;(0,j.getShareListReq)().then((function(o){o&&o.data&&Object.keys(o.data).length&&t.setData({shareData:o.data},(function(){e&&(0,_.normalToast)({title:"刷新成功"})}))}))},startDownGradeBox:function(){var e=this;t((function(){e.logicData.isBoxFlag||e.setData({isBoxVideo:!1})}),3e3)},boxStarted:function(){this.logicData.isBoxFlag=!0},loginSuccessCb:function(){this.refreshHandle()},getChance:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,j.getChanceReq)().then((function(t){var o=t._downgradeHeader,a=(void 0===o?{}:o).Comp,i=void 0===a?"[]":a,n=JSON.parse(i);if(n.length>0&&e.setData({isShareDownGrade:!(0,O.getUseFuncs)(O.downgradeFeature.blindBox,n).chance}),t&&t.data){e.getBigPrize();var r=t.data||{},s=r.blindBoxChance,d=void 0===s?0:s,u=r.isLogin,c=void 0!==u&&u,p={text:"点击赢大奖",chance:d,disabled:!d};e.setData({boxBtn:p,isUseDownGrade:!0,isLogin:c})}})).catch((function(){})).finally((function(){o&&t((function(){(0,_.removeSkeleton)()}),50),o&&(e.logicData.isOnShowReq=!0),n.nextTick((function(){n.loadSubPackage({root:"wjz/dxdjx/activity"})}))}))},openBoxClick:function(e){var t=e.currentTarget.dataset.type;this.data.boxBtn.disabled?(0,_.normalToast)({title:"抽奖次数已用完"}):((0,_.bdxdAddLog)(this,{compTargetId:"blind_box_open",userExtra:{type:t}}),this.setData({prizePopupVisiable:!0}),this.boxAnimation.pause())},closePrize:function(){this.setData({prizePopupVisiable:!1}),this.boxAnimation.play(),this.refreshHandle()},assistPopupClose:function(){this.refreshHandle()},getBigPrize:function(){var e=this;(0,j.getBigPrizeReq)().then((function(t){var o=t.data||[];e.setData({bigPrizes:o})}))}};(0,P.watch)(x.default,E),Page(E)})),window.define("965",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=P(e(966)),T=P(e(869)),x=e(872);function P(e){return e&&e.__esModule?e:{default:e}}var D={data:{},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onInit:function(){},onUnload:function(){},onLoad:function(e){},onShow:function(e){},onHide:function(e){n().globalData.siteData.launchTimestamp=0},onShareAppMessage:function(e){},onPageScroll:function(e){}};(0,x.watch)(I.default,D),(0,x.watch)(T.default,D),Page(D)})),window.define("966",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var I=e(92);o.default={onInit:{before:function(){n().globalData.loginStatus=(0,I.checkLoginStatus)()}}}})),window.define("969",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I=O(e(882)),T=e(872),x=O(e(884)),P=O(e(869)),D=O(e(533)),_=O(e(384)),k=e(208),A=e(57),j=e(4);function O(e){return e&&e.__esModule?e:{default:e}}var L={data:{pageData:{}},pageConfigGot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.setNavigationBarTitle({title:e.title||""})},onChangePageData:function(e){},onInit:function(e){D.default["dynamic-marketing-page-92442405"].path="wjz/dxdjx/dynamic-marketing-page-92442405-ab/dynamic-marketing-page-92442405-ab",D.default["dynamic-marketing-page-92442405"].isStatic=!0,n().globalData.pageData.pageid=_.default.pageid,(0,A.setPageName)(_.default),(0,k.initDowngrade)(_.default),(0,j.removeSkeleton)({delayTime:150})},onLoad:function(e){},onReady:function(e){},onShow:function(e){},onHide:function(e){},onUnload:function(e){},onPullDownRefresh:function(e){},onReachBottom:function(e){},onShareAppMessage:function(e){},onPageScroll:function(e){},onResize:function(e){},onTabItemTap:function(){}};(0,T.watch)(I.default,L),(0,T.watch)(P.default,L),(0,T.watch)(x.default,L),Page(L)})),window.define("972",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(869),x=(I=T)&&I.__esModule?I:{default:I},P=e(97);var D={data:{},onShow:function(){},onPageScroll:function(e){},onHide:function(){},onShareAppMessage:function(){return(0,P.letterAppShare)()},onInit:function(e){},onLoad:function(e){},onunLoad:function(e){}};(0,e(872).watch)(x.default,D),Page(D)})),window.define("975",(function(e,t,o,a,i,n,r,s,d,u,c,p,l,g,h,m,f,v,b,w,y,C,S){"use strict";var I,T=e(869),x=(I=T)&&I.__esModule?I:{default:I},P=e(97);var D={data:{},onShow:function(){},onPageScroll:function(e){},onHide:function(){},onShareAppMessage:function(){return(0,P.letterAppShare)()},onInit:function(e){},onLoad:function(e){},onunLoad:function(e){}};(0,e(872).watch)(x.default,D),Page(D)})),window.__swanRoute="components/login/login",window.usingComponents=["components/optimize-image/optimize-image","components/login-button/login-button"],window.usingPluginComponents=[],require("123"),window.__swanRoute="components/address-layer/address-layer",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("131"),window.__swanRoute="components/form-item/form-item",window.usingComponents=[],window.usingPluginComponents=[],require("133"),window.__swanRoute="widgets/mip-bdxd-address-common/mip-bdxd-address-common",window.usingComponents=["components/form-item/form-item","components/address-layer/address-layer"],window.usingPluginComponents=[],require("135"),window.__swanRoute="components/lottie-image/lottie-image",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("137"),window.__swanRoute="widgets/mip-dxdjx-marketing-lottie/mip-dxdjx-marketing-lottie",window.usingComponents=["components/lottie-image/lottie-image"],window.usingPluginComponents=[],require("139"),window.__swanRoute="components/coupon-card/coupon-nine/index",window.usingComponents=[],window.usingPluginComponents=[],require("153"),window.__swanRoute="widgets/gt-dxdjx-h5-box-popup/prize-popup/prize-popup",window.usingComponents=["components/popup/popup","components/coupon-card/coupon-nine/index","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("155"),window.__swanRoute="widgets/gt-dxdjx-h5-three-card/three-card/three-card",window.usingComponents=["components/optimize-image/optimize-image","components/number-font/number-font"],window.usingPluginComponents=[],require("165"),window.__swanRoute="widgets/gt-dxdjx-h5-three-card/gt-dxdjx-h5-three-card",window.usingComponents=["widgets/gt-dxdjx-h5-three-card/three-card/three-card"],window.usingPluginComponents=[],require("167"),window.__swanRoute="widgets/mip-dxdjx-marketing-feed/swiper-feed/swiper-feed",window.usingComponents=[],window.usingPluginComponents=[],require("169"),window.__swanRoute="components/product-card-double-eleven/product-card-double-eleven",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("172"),window.__swanRoute="widgets/mip-dxdjx-custom-cards/advert-card/advert-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("174"),window.__swanRoute="widgets/mip-dxdjx-custom-cards/mip-dxdjx-custom-cards",window.usingComponents=["components/product-list/product-list","components/product-card/product-card","widgets/mip-dxdjx-live-list/components/live-card/live-card","components/optimize-image/optimize-image","widgets/mip-dxdjx-custom-cards/advert-card/advert-card","components/product-card-double-eleven/product-card-double-eleven"],window.usingPluginComponents=[],require("176"),window.__swanRoute="components/live-card-triple/live-card-triple",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("178"),window.__swanRoute="components/product-card-one/product-card-one",window.usingComponents=[],window.usingPluginComponents=[],require("183"),window.__swanRoute="components/number-font/number-font",window.usingComponents=[],window.usingPluginComponents=[],require("185"),window.__swanRoute="components/product-card-normal-single/product-card-normal-single",window.usingComponents=["components/optimize-image/optimize-image","components/number-font/number-font"],window.usingPluginComponents=[],require("187"),window.__swanRoute="components/product-card-triple-seckill/product-card-triple-seckill",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("189"),window.__swanRoute="components/product-card-double-seckill/product-card-double-seckill",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("191"),window.__swanRoute="components/product-card-single-seckill/product-card-single-seckill",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("193"),window.__swanRoute="components/product-card-triple/product-card-triple",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("195"),window.__swanRoute="components/product-card-double/product-card-double",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("197"),window.__swanRoute="components/product-card-single/product-card-single",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("199"),window.__swanRoute="widgets/mip-dxdjx-marketing-goods-card/mip-dxdjx-marketing-goods-card",window.usingComponents=["components/product-list/product-list","components/product-card/product-card","components/product-card-single/product-card-single","components/product-card-double/product-card-double","components/product-card-triple/product-card-triple","components/product-card-single-seckill/product-card-single-seckill","components/product-card-double-seckill/product-card-double-seckill","components/product-card-triple-seckill/product-card-triple-seckill","components/product-card-normal-single/product-card-normal-single","components/product-card-one/product-card-one","widgets/mip-dxdjx-live-list/components/live-card/live-card","components/live-card-triple/live-card-triple","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("205"),window.__swanRoute="widgets/mip-dxdjx-marketing-feed/mip-dxdjx-marketing-feed",window.usingComponents=["components/optimize-image/optimize-image","widgets/mip-dxdjx-basic-feed/mip-dxdjx-basic-feed","widgets/mip-dxdjx-marketing-goods-card/mip-dxdjx-marketing-goods-card","widgets/mip-dxdjx-custom-cards/mip-dxdjx-custom-cards","widgets/mip-dxdjx-marketing-feed/swiper-feed/swiper-feed","widgets/gt-dxdjx-h5-three-card/gt-dxdjx-h5-three-card"],window.usingPluginComponents=[],require("207"),window.__swanRoute="widgets/mip-dxdjx-marketing-floatball/mip-dxdjx-marketing-floatball",window.usingComponents=["components/float-ball/float-ball"],window.usingPluginComponents=[],require("225"),window.__swanRoute="components/count-up/count-up",window.usingComponents=[],window.usingPluginComponents=[],require("227"),window.__swanRoute="widgets/gt-dxdjx-h5-rank-top-card/gt-dxdjx-h5-rank-top-card",window.usingComponents=["components/optimize-image/optimize-image","components/count-up/count-up","components/number-font/number-font"],window.usingPluginComponents=[],require("229"),window.__swanRoute="widgets/mip-dxdjx-mall-diamond/diamond-card/diamond-card",window.usingComponents=["components/optimize-image/optimize-image","components/format-price/format-price"],window.usingPluginComponents=[],require("246"),window.__swanRoute="widgets/mip-dxdjx-mall-diamond/mip-dxdjx-mall-diamond",window.usingComponents=["widgets/mip-dxdjx-mall-diamond/diamond-card/diamond-card"],window.usingPluginComponents=[],require("248"),window.__swanRoute="widgets/mip-dxdjx-mall-user/mip-dxdjx-mall-user",window.usingComponents=["components/optimize-image/optimize-image","components/format-price/format-price"],window.usingPluginComponents=[],require("250"),window.__swanRoute="widgets/mip-bdxd-join-group-pop-up/mip-bdxd-join-group-pop-up",window.usingComponents=["components/avatar-list/avatar-list","components/popup/popup","components/count-down/count-down"],window.usingPluginComponents=[],require("256"),window.__swanRoute="widgets/gt-dxdjx-h5-coupon-count-down-bar/gt-dxdjx-h5-coupon-count-down-bar",window.usingComponents=["components/count-down/count-down"],window.usingPluginComponents=[],require("276"),window.__swanRoute="widgets/mip-bdxd-activity-card/mip-bdxd-activity-card",window.usingComponents=[],window.usingPluginComponents=[],require("279"),window.__swanRoute="components/coupon-card/coupon-ten/index",window.usingComponents=["components/format-price/format-price"],window.usingPluginComponents=[],require("281"),window.__swanRoute="components/coupon-card/coupon-three/index",window.usingComponents=["components/format-price/format-price"],window.usingPluginComponents=[],require("283"),window.__swanRoute="widgets/mip-bdxd-product-coupon/components/coupon-take",window.usingComponents=["components/popup/popup","components/coupon-card/coupon-three/index","components/coupon-card/coupon-ten/index","widgets/mip-bdxd-activity-card/mip-bdxd-activity-card"],window.usingPluginComponents=[],require("288"),window.__swanRoute="widgets/mip-bdxd-product-coupon/mip-bdxd-product-coupon",window.usingComponents=["widgets/mip-bdxd-product-coupon/components/coupon-take","components/login-button/login-button","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("290"),window.__swanRoute="components/input-number/input-number",window.usingComponents=[],window.usingPluginComponents=[],require("292"),window.__swanRoute="components/attributes-select/attributes-select",window.usingComponents=["components/input-number/input-number","components/optimize-image/optimize-image","components/login-button/login-button","components/format-price/format-price"],window.usingPluginComponents=[],require("294"),window.__swanRoute="widgets/mip-bdxd-product-spectifications-layer/mip-bdxd-product-spectifications-layer",window.usingComponents=["components/attributes-select/attributes-select","widgets/mip-bdxd-product-coupon/mip-bdxd-product-coupon","components/popup/popup","widgets/gt-dxdjx-h5-coupon-count-down-bar/gt-dxdjx-h5-coupon-count-down-bar","widgets/mip-dxdjx-guarantee-sdk/mip-dxdjx-guarantee-sdk"],window.usingPluginComponents=[],require("296"),window.__swanRoute="widgets/mip-bdxd-recommend-group-card/mip-bdxd-recommend-group-card",window.usingComponents=["components/avatar-list/avatar-list","components/count-down/count-down"],window.usingPluginComponents=[],require("298"),window.__swanRoute="components/count-down/count-down",window.usingComponents=[],window.usingPluginComponents=[],require("300"),window.__swanRoute="widgets/mip-dxdjx-address-bottom-bar/mip-dxdjx-address-bottom-bar",window.usingComponents=[],window.usingPluginComponents=[],require("314"),window.__swanRoute="widgets/mip-bdxd-product-bottom-bar/components/buy-btn",window.usingComponents=[],window.usingPluginComponents=[],require("316"),window.__swanRoute="widgets/mip-bdxd-product-bottom-bar/mip-bdxd-product-bottom-bar",window.usingComponents=["widgets/mip-bdxd-consult-sdk/mip-bdxd-consult-sdk","components/login-button/login-button","components/optimize-image/optimize-image","widgets/mip-bdxd-product-bottom-bar/components/buy-btn","widgets/gt-dxdjx-h5-coupon-count-down-bar/gt-dxdjx-h5-coupon-count-down-bar","widgets/mip-dxdjx-address-bottom-bar/mip-dxdjx-address-bottom-bar"],window.usingPluginComponents=[],require("321"),window.__swanRoute="widgets/mip-bdxd-sale-activity-bar/mip-bdxd-sale-activity-bar",window.usingComponents=["components/coupon-card/coupon-three/index"],window.usingPluginComponents=[],require("325"),window.__swanRoute="widgets/mip-bdxd-product-collection/mip-bdxd-product-collection",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("327"),window.__swanRoute="widgets/mip-bdxd-activity-groupbook/mip-bdxd-activity-groupbook",window.usingComponents=["components/count-down/count-down"],window.usingPluginComponents=[],require("329"),window.__swanRoute="widgets/mip-bdxd-activity-seckill/mip-bdxd-activity-seckill",window.usingComponents=["components/count-down/count-down","components/format-price/format-price"],window.usingPluginComponents=[],require("331"),window.__swanRoute="widgets/mip-bdxd-product-price-info/mip-bdxd-product-price-info",window.usingComponents=["widgets/mip-bdxd-product-coupon/mip-bdxd-product-coupon","widgets/mip-bdxd-activity-seckill/mip-bdxd-activity-seckill","widgets/mip-bdxd-activity-groupbook/mip-bdxd-activity-groupbook","widgets/mip-bdxd-product-collection/mip-bdxd-product-collection","widgets/mip-bdxd-sale-activity-bar/mip-bdxd-sale-activity-bar","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("333"),window.__swanRoute="widgets/mip-bdxd-task-card/mip-bdxd-task-card",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("357"),window.__swanRoute="widgets/mip-doujin-product-list/mip-doujin-product-list",window.usingComponents=["components/product-list/product-list","components/product-card/product-card","components/optimize-image/optimize-image","widgets/mip-dxdjx-basic-feed/mip-dxdjx-basic-feed"],window.usingPluginComponents=[],require("365"),window.__swanRoute="widgets/mip-doujin-product-tab/mip-doujin-product-tab",window.usingComponents=[],window.usingPluginComponents=[],require("368"),window.__swanRoute="widgets/mip-doujin-search-product/mip-doujin-search-product",window.usingComponents=[],window.usingPluginComponents=[],require("372"),window.__swanRoute="widgets/mip-doujin-bottom-bar/mip-doujin-bottom-bar",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("394"),window.__swanRoute="widgets/gt-dxdjx-h5-score-tag/gt-dxdjx-h5-score-tag",window.usingComponents=[],window.usingPluginComponents=[],require("402"),window.__swanRoute="widgets/mip-dxdjx-shop-good-product/mip-dxdjx-shop-good-product",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("404"),window.__swanRoute="widgets/mip-bdxd-shop-card/mip-bdxd-shop-card",window.usingComponents=["widgets/mip-bdxd-consult-sdk/mip-bdxd-consult-sdk","widgets/mip-dxdjx-shop-good-product/mip-dxdjx-shop-good-product","widgets/gt-dxdjx-h5-score-tag/gt-dxdjx-h5-score-tag","components/login-button/login-button"],window.usingPluginComponents=[],require("406"),window.__swanRoute="widgets/mip-bdxd-order-goods-card/mip-bdxd-order-goods-card",window.usingComponents=["components/optimize-image/optimize-image","components/format-price/format-price"],window.usingPluginComponents=[],require("412"),window.__swanRoute="widgets/mip-bdxd-bd-guarantee/mip-bdxd-bd-guarantee",window.usingComponents=["components/gap/gap"],window.usingPluginComponents=[],require("441"),window.__swanRoute="components/input/input",window.usingComponents=[],window.usingPluginComponents=[],require("467"),window.__swanRoute="widgets/mip-bdxd-order-store-button/mip-bdxd-order-store-button",window.usingComponents=["widgets/mip-bdxd-consult-sdk/mip-bdxd-consult-sdk"],window.usingPluginComponents=[],require("487"),window.__swanRoute="widgets/gt-dxdjx-home-letter-intro/gt-dxdjx-home-letter-intro",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/login-button/login-button","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("509"),window.__swanRoute="widgets/gt-dxdjx-live-playback-page/gt-dxdjx-live-playback-page",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-bdxd-product-spectifications-layer/mip-bdxd-product-spectifications-layer","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("512"),window.__swanRoute="widgets/gt-dxdjx-h5-tabbar/gt-dxdjx-h5-tabbar",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("515"),window.__swanRoute="widgets/gt-dxdjx-h5-orchard-ball/gt-dxdjx-h5-orchard-ball",window.usingComponents=["node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("517"),window.__swanRoute="widgets/gt-dxdjx-h5-shop-card-feed-double/gt-dxdjx-h5-shop-card-feed-double",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("519"),window.__swanRoute="widgets/gt-dxdjx-h5-marketing-module-wrapper/gt-dxdjx-h5-marketing-module-wrapper",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("522"),window.__swanRoute="widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed",window.usingComponents=["components/optimize-image/optimize-image","widgets/mip-dxdjx-basic-feed/mip-dxdjx-basic-feed","widgets/mip-dxdjx-marketing-goods-card/mip-dxdjx-marketing-goods-card","widgets/mip-dxdjx-marketing-feed/swiper-feed/swiper-feed","widgets/gt-dxdjx-h5-marketing-module-wrapper/gt-dxdjx-h5-marketing-module-wrapper"],window.usingPluginComponents=[],require("524"),window.__swanRoute="widgets/gt-dxdjx-h5-shop-card-feed-triple/gt-dxdjx-h5-shop-card-feed-triple",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("526"),window.__swanRoute="widgets/gt-dxdjx-h5-image/gt-dxdjx-h5-image",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("529"),window.__swanRoute="sPGV2_dynamic-marketing-page-92442405_dynamic-marketing-page-92442405/standardPageGenerator",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/gt-dxdjx-h5-image/gt-dxdjx-h5-image","widgets/gt-dxdjx-h5-shop-card-feed-triple/gt-dxdjx-h5-shop-card-feed-triple","widgets/gt-dxdjx-h5-shop-card-feed-double/gt-dxdjx-h5-shop-card-feed-double","widgets/gt-dxdjx-h5-orchard-ball/gt-dxdjx-h5-orchard-ball","widgets/gt-dxdjx-h5-tabbar/gt-dxdjx-h5-tabbar"],window.usingPluginComponents=[],require("531"),window.__swanRoute="components/coupon-card/coupon-five/index",window.usingComponents=[],window.usingPluginComponents=[],require("535"),window.__swanRoute="widgets/gt-bdxd-h5-coupon-middle-page/gt-bdxd-h5-coupon-middle-page",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/coupon-card/coupon-five/index","components/login/login","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("537"),window.__swanRoute="widgets/gt-dxdjx-h5-box-show-prizes/gt-dxdjx-h5-box-show-prizes",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("539"),window.__swanRoute="widgets/gt-dxdjx-h5-box-popup/prize-button/prize-button",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("541"),window.__swanRoute="widgets/gt-dxdjx-h5-box-popup/open-box-button/open-box-button",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("543"),window.__swanRoute="widgets/gt-dxdjx-h5-box-popup/share-popup/share-popup",window.usingComponents=["components/popup/popup","components/optimize-image/optimize-image","components/login-button/login-button"],window.usingPluginComponents=[],require("545"),window.__swanRoute="widgets/gt-dxdjx-h5-box-share/gt-dxdjx-h5-box-share",window.usingComponents=[],window.usingPluginComponents=[],require("547"),window.__swanRoute="widgets/gt-dxdjx-h5-koi-marquee/gt-dxdjx-h5-koi-marquee",window.usingComponents=[],window.usingPluginComponents=[],require("549"),window.__swanRoute="widgets/gt-dxdjx-h5-merge-order-popup/gt-dxdjx-h5-merge-order-popup",window.usingComponents=["components/popup/popup","components/format-price/format-price","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("551"),window.__swanRoute="widgets/gt-dxdjx-h5-atmosphere-banner/gt-dxdjx-h5-atmosphere-banner",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("553"),window.__swanRoute="components/drop-down/drop-down",window.usingComponents=[],window.usingPluginComponents=[],require("555"),window.__swanRoute="widgets/mip-dxdjx-cancel-order-popup/mip-dxdjx-cancel-order-popup",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("557"),window.__swanRoute="widgets/mip-bdxd-order-action/mip-bdxd-order-action",window.usingComponents=[],window.usingPluginComponents=[],require("559"),window.__swanRoute="widgets/mip-bdxd-order-shop-card/mip-bdxd-order-shop-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("561"),window.__swanRoute="widgets/mip-bdxd-order-list/mip-bdxd-order-list",window.usingComponents=["components/feed/feed","widgets/mip-bdxd-order-shop-card/mip-bdxd-order-shop-card","widgets/mip-bdxd-order-goods-card/mip-bdxd-order-goods-card","widgets/mip-bdxd-order-action/mip-bdxd-order-action","widgets/mip-dxdjx-like-list/mip-dxdjx-like-list","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor","widgets/mip-dxdjx-cancel-order-popup/mip-dxdjx-cancel-order-popup","components/format-price/format-price","components/gap/gap","components/optimize-image/optimize-image","components/drop-down/drop-down","components/login/login","widgets/gt-dxdjx-h5-atmosphere-banner/gt-dxdjx-h5-atmosphere-banner","widgets/gt-dxdjx-h5-merge-order-popup/gt-dxdjx-h5-merge-order-popup"],window.usingPluginComponents=[],require("563"),window.__swanRoute="widgets/mip-dxdjx-order-list-page/mip-dxdjx-order-list-page",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-bdxd-order-list/mip-bdxd-order-list","components/login/login"],window.usingPluginComponents=[],require("566"),window.__swanRoute="widgets/mip-dxdjx-daily-shop/components/empty/empty",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("568"),window.__swanRoute="widgets/mip-dxdjx-daily-shop/components/shop-card/shop-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("570"),window.__swanRoute="widgets/mip-dxdjx-daily-shop/components/daily-tabs/daily-tabs",window.usingComponents=["components/count-down/count-down"],window.usingPluginComponents=[],require("572"),window.__swanRoute="widgets/mip-dxdjx-daily-shop/components/head-image/head-image",window.usingComponents=["components/popup/popup","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("574"),window.__swanRoute="widgets/mip-dxdjx-daily-shop/mip-dxdjx-daily-shop",window.usingComponents=["widgets/mip-dxdjx-daily-shop/components/head-image/head-image","widgets/mip-dxdjx-daily-shop/components/daily-tabs/daily-tabs","widgets/mip-dxdjx-daily-shop/components/shop-card/shop-card","widgets/mip-dxdjx-daily-shop/components/empty/empty","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("576"),window.__swanRoute="standardPageGeneratorV2/pageError/pageError",window.usingComponents=[],window.usingPluginComponents=[],require("579"),window.__swanRoute="components/wjz-tab/wjz-tab",window.usingComponents=[],window.usingPluginComponents=[],require("581"),window.__swanRoute="widgets/gt-dxdjx-h5-marketing-live/gt-dxdjx-h5-marketing-live",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("584"),window.__swanRoute="widgets/gt-dxdjx-h5-top-goods-card/gt-dxdjx-h5-top-goods-card",window.usingComponents=["widgets/gt-dxdjx-h5-rank-top-card/gt-dxdjx-h5-rank-top-card"],window.usingPluginComponents=[],require("586"),window.__swanRoute="widgets/gt-dxdjx-h5-suspend-ball/gt-dxdjx-h5-suspend-ball",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("588"),window.__swanRoute="widgets/gt-dxdjx-h5-text/gt-dxdjx-h5-text",window.usingComponents=[],window.usingPluginComponents=[],require("590"),window.__swanRoute="widgets/gt-dxdjx-h5-rich-text/gt-dxdjx-h5-rich-text",window.usingComponents=[],window.usingPluginComponents=[],require("592"),window.__swanRoute="widgets/gt-dxdjx-h5-marketing-seckill/gt-dxdjx-h5-marketing-seckill",window.usingComponents=["components/optimize-image/optimize-image","components/product-card-single-seckill/product-card-single-seckill"],window.usingPluginComponents=[],require("595"),window.__swanRoute="widgets/gt-dxdjx-h5-coupon-triple/gt-dxdjx-h5-coupon-triple",window.usingComponents=["widgets/mip-dxdjx-marketing-coupon/mip-dxdjx-marketing-coupon"],window.usingPluginComponents=[],require("598"),window.__swanRoute="widgets/gt-dxdjx-h5-coupon-double/gt-dxdjx-h5-coupon-double",window.usingComponents=["widgets/mip-dxdjx-marketing-coupon/mip-dxdjx-marketing-coupon"],window.usingPluginComponents=[],require("600"),window.__swanRoute="widgets/mip-dxdjx-marketing-coupon/mip-dxdjx-marketing-coupon",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("602"),window.__swanRoute="widgets/gt-dxdjx-h5-coupon/gt-dxdjx-h5-coupon",window.usingComponents=["widgets/mip-dxdjx-marketing-coupon/mip-dxdjx-marketing-coupon"],window.usingPluginComponents=[],require("606"),window.__swanRoute="widgets/gt-dxdjx-h5-shop-card-feed-single/gt-dxdjx-h5-shop-card-feed-single",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("608"),window.__swanRoute="widgets/gt-dxdjx-h5-product-list-triple/gt-dxdjx-h5-product-list-triple",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("611"),window.__swanRoute="widgets/gt-dxdjx-h5-product-list-double/gt-dxdjx-h5-product-list-double",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("614"),window.__swanRoute="widgets/gt-dxdjx-h5-product-list-single/gt-dxdjx-h5-product-list-single",window.usingComponents=["widgets/gt-dxdjx-h5-basic-feed/gt-dxdjx-h5-basic-feed"],window.usingPluginComponents=[],require("617"),window.__swanRoute="widgets/gt-dxdjx-h5-goods-card/gt-dxdjx-h5-goods-card",window.usingComponents=[];window.usingPluginComponents=[],require("620"),window.__swanRoute="widgets/gt-dxdjx-h5-bd-cost-effective/gt-dxdjx-h5-bd-cost-effective",window.usingComponents=[],window.usingPluginComponents=[],require("622"),window.__swanRoute="widgets/gt-dxdjx-h5-button/gt-dxdjx-h5-button",window.usingComponents=[],window.usingPluginComponents=[],require("624"),window.__swanRoute="widgets/gt-doujin-h5-image-floor/gt-doujin-h5-image-floor",window.usingComponents=[],window.usingPluginComponents=[],require("626"),window.__swanRoute="widgets/mip-sjh-empty-comp/mip-sjh-empty-comp",window.usingComponents=[],window.usingPluginComponents=[],require("628"),window.__swanRoute="widgets/mip-doujin-product-video/mip-doujin-product-video",window.usingComponents=["components/gap/gap"],window.usingPluginComponents=[],require("630"),window.__swanRoute="widgets/mip-doujin-shop-card/mip-doujin-shop-card",window.usingComponents=["components/optimize-image/optimize-image","widgets/gt-dxdjx-h5-score-tag/gt-dxdjx-h5-score-tag"],window.usingPluginComponents=[],require("632"),window.__swanRoute="widgets/mip-doujin-diamond/components/item-content/index",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("634"),window.__swanRoute="widgets/mip-doujin-diamond/mip-doujin-diamond",window.usingComponents=["widgets/mip-doujin-diamond/components/item-content/index"],window.usingPluginComponents=[],require("636"),window.__swanRoute="widgets/mip-doujin-shop-window/components/img-content/index",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("638"),window.__swanRoute="widgets/mip-doujin-shop-window/components/title-content/index",window.usingComponents=[],window.usingPluginComponents=[],require("640"),window.__swanRoute="widgets/mip-doujin-shop-window/mip-doujin-shop-window",window.usingComponents=["widgets/mip-doujin-shop-window/components/title-content/index","widgets/mip-doujin-shop-window/components/img-content/index"],window.usingPluginComponents=[],require("642"),window.__swanRoute="widgets/mip-doujin-notice/mip-doujin-notice",window.usingComponents=[],window.usingPluginComponents=[],require("644"),window.__swanRoute="widgets/mip-bdxd-product-card/mip-bdxd-product-card",window.usingComponents=[],window.usingPluginComponents=[],require("646"),window.__swanRoute="widgets/mip-bdxd-shop-list-container/mip-bdxd-shop-list-container",window.usingComponents=["components/product-list/product-list","widgets/mip-bdxd-product-card/mip-bdxd-product-card","components/optimize-image/optimize-image","widgets/mip-dxdjx-basic-feed/mip-dxdjx-basic-feed"],window.usingPluginComponents=[],require("648"),window.__swanRoute="widgets/mip-bdxd-shop-announcement/mip-bdxd-shop-announcement",window.usingComponents=[],window.usingPluginComponents=[],require("651"),window.__swanRoute="widgets/mip-bdxd-shop-index-info-container/mip-bdxd-shop-index-info-container",window.usingComponents=["widgets/mip-bdxd-shop-card/mip-bdxd-shop-card","widgets/mip-bdxd-shop-announcement/mip-bdxd-shop-announcement","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation"],window.usingPluginComponents=[],require("653"),window.__swanRoute="widgets/mip-dxdjx-inflate-coupon-modal/components/button-group/button-group",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("655"),window.__swanRoute="widgets/mip-dxdjx-inflate-coupon-modal/components/coupon-card/coupon-card",window.usingComponents=[],window.usingPluginComponents=[],require("657"),window.__swanRoute="widgets/mip-dxdjx-inflate-coupon-modal/components/inflate-coupon-modal/inflate-coupon-modal",window.usingComponents=["widgets/mip-dxdjx-inflate-coupon-modal/components/coupon-card/coupon-card","widgets/mip-dxdjx-inflate-coupon-modal/components/button-group/button-group","components/popup/popup","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("659"),window.__swanRoute="widgets/mip-dxdjx-inflate-coupon-modal/mip-dxdjx-inflate-coupon-modal",window.usingComponents=["widgets/mip-dxdjx-inflate-coupon-modal/components/inflate-coupon-modal/inflate-coupon-modal"],window.usingPluginComponents=[],require("661"),window.__swanRoute="widgets/mip-doujin-top-head/mip-doujin-top-head",window.usingComponents=["widgets/mip-dxdjx-inflate-coupon-modal/mip-dxdjx-inflate-coupon-modal"],window.usingPluginComponents=[],require("663"),window.__swanRoute="standardPageGeneratorV2/standardPageGenerator",window.usingComponents=["widgets/mip-doujin-top-head/mip-doujin-top-head","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-bdxd-shop-index-info-container/mip-bdxd-shop-index-info-container","widgets/mip-bdxd-shop-list-container/mip-bdxd-shop-list-container","widgets/mip-doujin-notice/mip-doujin-notice","widgets/mip-doujin-shop-window/mip-doujin-shop-window","widgets/mip-doujin-diamond/mip-doujin-diamond","widgets/mip-doujin-shop-card/mip-doujin-shop-card","widgets/mip-doujin-product-video/mip-doujin-product-video","widgets/mip-sjh-empty-comp/mip-sjh-empty-comp","widgets/mip-doujin-carousel/mip-doujin-carousel","widgets/gt-doujin-h5-image-floor/gt-doujin-h5-image-floor","widgets/mip-doujin-product-list/mip-doujin-product-list","widgets/mip-doujin-bottom-bar/mip-doujin-bottom-bar","widgets/mip-doujin-search-product/mip-doujin-search-product","widgets/mip-dxdjx-marketing-feed/mip-dxdjx-marketing-feed","widgets/gt-dxdjx-h5-image/gt-dxdjx-h5-image","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor","widgets/mip-dxdjx-marketing-floatball/mip-dxdjx-marketing-floatball","widgets/gt-dxdjx-h5-button/gt-dxdjx-h5-button","widgets/gt-dxdjx-h5-bd-cost-effective/gt-dxdjx-h5-bd-cost-effective","widgets/gt-dxdjx-h5-goods-card/gt-dxdjx-h5-goods-card","widgets/gt-dxdjx-h5-product-list-single/gt-dxdjx-h5-product-list-single","widgets/gt-dxdjx-h5-product-list-double/gt-dxdjx-h5-product-list-double","widgets/gt-dxdjx-h5-product-list-triple/gt-dxdjx-h5-product-list-triple","widgets/gt-dxdjx-h5-shop-card-feed-double/gt-dxdjx-h5-shop-card-feed-double","widgets/gt-dxdjx-h5-shop-card-feed-single/gt-dxdjx-h5-shop-card-feed-single","widgets/gt-dxdjx-h5-shop-card-feed-triple/gt-dxdjx-h5-shop-card-feed-triple","widgets/gt-dxdjx-h5-coupon/gt-dxdjx-h5-coupon","widgets/gt-dxdjx-h5-coupon-double/gt-dxdjx-h5-coupon-double","widgets/gt-dxdjx-h5-coupon-triple/gt-dxdjx-h5-coupon-triple","widgets/gt-dxdjx-h5-marketing-seckill/gt-dxdjx-h5-marketing-seckill","widgets/gt-dxdjx-h5-rich-text/gt-dxdjx-h5-rich-text","widgets/gt-dxdjx-h5-text/gt-dxdjx-h5-text","widgets/gt-dxdjx-h5-suspend-ball/gt-dxdjx-h5-suspend-ball","widgets/gt-dxdjx-h5-orchard-ball/gt-dxdjx-h5-orchard-ball","widgets/gt-dxdjx-h5-top-goods-card/gt-dxdjx-h5-top-goods-card","widgets/gt-dxdjx-h5-tabbar/gt-dxdjx-h5-tabbar","widgets/gt-dxdjx-h5-marketing-live/gt-dxdjx-h5-marketing-live","components/wjz-tab/wjz-tab","standardPageGeneratorV2/pageError/pageError"],window.usingPluginComponents=[],require("666"),window.__swanRoute="widgets/mip-dxdjx-order-ticket-popup/mip-dxdjx-order-ticket-popup",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("674"),window.__swanRoute="widgets/gt-dxdjx-order-logistics-card/gt-dxdjx-order-logistics-card",window.usingComponents=[],window.usingPluginComponents=[],require("676"),window.__swanRoute="widgets/mip-bdxd-order-group-state/mip-bdxd-order-group-state",window.usingComponents=["components/avatar-list/avatar-list"],window.usingPluginComponents=[],require("678"),window.__swanRoute="widgets/mip-bdxd-card-user-info/mip-bdxd-card-user-info",window.usingComponents=["components/input/input"],window.usingPluginComponents=[],require("680"),window.__swanRoute="widgets/mip-bdxd-order-card-item/mip-bdxd-order-card-item",window.usingComponents=[],window.usingPluginComponents=[],require("682"),window.__swanRoute="widgets/mip-bdxd-order-card-list/mip-bdxd-order-card-list",window.usingComponents=["widgets/mip-bdxd-order-card-item/mip-bdxd-order-card-item"],window.usingPluginComponents=[],require("684"),window.__swanRoute="widgets/mip-bdxd-address-select/mip-bdxd-address-select",window.usingComponents=[],window.usingPluginComponents=[],require("686"),window.__swanRoute="widgets/mip-bdxd-order-info/mip-bdxd-order-info",window.usingComponents=[],window.usingPluginComponents=[],require("688"),window.__swanRoute="widgets/mip-bdxd-order-price-info/mip-bdxd-order-price-info",window.usingComponents=["components/cell/cell","components/format-price/format-price"],window.usingPluginComponents=[],require("692"),window.__swanRoute="widgets/mip-bdxd-order-after-sale-button/mip-bdxd-order-after-sale-button",window.usingComponents=[],window.usingPluginComponents=[],require("694"),window.__swanRoute="widgets/mip-dxdjx-quick-comment-entry/mip-dxdjx-quick-comment-entry",window.usingComponents=["components/rate/rate"],window.usingPluginComponents=[],require("696"),window.__swanRoute="widgets/mip-bdxd-order-state/mip-bdxd-order-state",window.usingComponents=[],window.usingPluginComponents=[],require("698"),window.__swanRoute="widgets/mip-bdxd-order-detail-page/mip-bdxd-order-detail-page",window.usingComponents=["widgets/mip-bdxd-order-state/mip-bdxd-order-state","widgets/mip-dxdjx-quick-comment-entry/mip-dxdjx-quick-comment-entry","widgets/mip-bdxd-order-after-sale-button/mip-bdxd-order-after-sale-button","widgets/mip-bdxd-order-price-info/mip-bdxd-order-price-info","widgets/mip-bdxd-order-info/mip-bdxd-order-info","widgets/mip-bdxd-order-goods-card/mip-bdxd-order-goods-card","widgets/mip-bdxd-order-shop-card/mip-bdxd-order-shop-card","widgets/mip-bdxd-address-select/mip-bdxd-address-select","widgets/mip-bdxd-order-store-button/mip-bdxd-order-store-button","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-bdxd-order-action/mip-bdxd-order-action","components/gap/gap","widgets/mip-bdxd-order-card-list/mip-bdxd-order-card-list","widgets/mip-bdxd-card-user-info/mip-bdxd-card-user-info","components/comment-card/comment-card","widgets/mip-bdxd-order-group-state/mip-bdxd-order-group-state","widgets/mip-bdxd-task-card/mip-bdxd-task-card","components/login/login","components/feed/feed","widgets/mip-bdxd-bd-guarantee/mip-bdxd-bd-guarantee","widgets/gt-dxdjx-order-logistics-card/gt-dxdjx-order-logistics-card","widgets/mip-dxdjx-like-list/mip-dxdjx-like-list","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor","widgets/mip-dxdjx-cancel-order-popup/mip-dxdjx-cancel-order-popup","components/format-price/format-price","widgets/gt-dxdjx-h5-atmosphere-banner/gt-dxdjx-h5-atmosphere-banner","widgets/gt-dxdjx-h5-merge-order-popup/gt-dxdjx-h5-merge-order-popup","widgets/mip-dxdjx-order-ticket-popup/mip-dxdjx-order-ticket-popup","widgets/mip-dxdjx-guarantee-sdk/mip-dxdjx-guarantee-sdk","node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("700"),window.__swanRoute="widgets/gt-dxdjx-h5-protocol-popup/gt-dxdjx-h5-protocol-popup",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("702"),window.__swanRoute="widgets/gt-dxdjx-h5-certification/gt-dxdjx-h5-certification",window.usingComponents=["components/cell/cell","widgets/gt-dxdjx-h5-protocol-popup/gt-dxdjx-h5-protocol-popup"],window.usingPluginComponents=[],require("704"),window.__swanRoute="widgets/gt-dxdjx-h5-red-packet/gt-dxdjx-h5-red-packet",window.usingComponents=["components/format-price/format-price","components/cell/cell","components/popup/popup","components/coupon-card/coupon-three/index","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("706"),window.__swanRoute="widgets/mip-dxdjx-activity-layer/mip-dxdjx-activity-layer",window.usingComponents=["components/format-price/format-price","components/cell/cell","components/popup/popup","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("708"),window.__swanRoute="widgets/mip-bdxd-switch-paytype/mip-bdxd-switch-paytype",window.usingComponents=[],window.usingPluginComponents=[],require("710"),window.__swanRoute="widgets/mip-bdxd-order-overseas/mip-bdxd-order-overseas",window.usingComponents=["components/form-item/form-item"],window.usingPluginComponents=[],require("712"),window.__swanRoute="widgets/mip-bdxd-take-coupon-multi/mip-bdxd-take-coupon-multi",window.usingComponents=["components/format-price/format-price","components/cell/cell","components/popup/popup","components/coupon-card/coupon-three/index","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("715"),window.__swanRoute="widgets/mip-bdxd-take-coupon/mip-bdxd-take-coupon",window.usingComponents=["components/format-price/format-price","components/cell/cell","components/popup/popup","components/coupon-card/coupon-three/index","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("717"),window.__swanRoute="widgets/mip-bdxd-order-submit-bar/mip-bdxd-order-submit-bar",window.usingComponents=["components/format-price/format-price"],window.usingPluginComponents=[],require("719"),window.__swanRoute="widgets/mip-bdxd-contact-card/mip-bdxd-contact-card",window.usingComponents=["widgets/mip-bdxd-address-common/mip-bdxd-address-common"],window.usingPluginComponents=[],require("721"),window.__swanRoute="components/custom-check/custom-check",window.usingComponents=[],window.usingPluginComponents=[],require("723"),window.__swanRoute="widgets/mip-bdxd-disclaimer/mip-bdxd-disclaimer",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("725"),window.__swanRoute="widgets/mip-bdxd-page-order-submit/mip-bdxd-page-order-submit",window.usingComponents=["components/format-price/format-price","components/cell/cell","components/gap/gap","widgets/mip-bdxd-disclaimer/mip-bdxd-disclaimer","components/custom-check/custom-check","components/input-number/input-number","widgets/mip-bdxd-contact-card/mip-bdxd-contact-card","components/form-item/form-item","widgets/mip-bdxd-order-shop-card/mip-bdxd-order-shop-card","widgets/mip-bdxd-order-goods-card/mip-bdxd-order-goods-card","widgets/mip-bdxd-order-submit-bar/mip-bdxd-order-submit-bar","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-bdxd-take-coupon/mip-bdxd-take-coupon","widgets/mip-bdxd-take-coupon-multi/mip-bdxd-take-coupon-multi","widgets/mip-bdxd-card-user-info/mip-bdxd-card-user-info","widgets/mip-bdxd-order-overseas/mip-bdxd-order-overseas","widgets/mip-bdxd-switch-paytype/mip-bdxd-switch-paytype","components/input/input","components/login/login","widgets/mip-dxdjx-activity-layer/mip-dxdjx-activity-layer","widgets/gt-dxdjx-h5-red-packet/gt-dxdjx-h5-red-packet","widgets/gt-dxdjx-h5-certification/gt-dxdjx-h5-certification","widgets/mip-dxdjx-guarantee-sdk/mip-dxdjx-guarantee-sdk"],window.usingPluginComponents=[],require("727"),window.__swanRoute="widgets/gt-dxdjx-h5-cta/components/cta-item/cta-item",window.usingComponents=["components/optimize-image/optimize-image","components/login-button/login-button"],window.usingPluginComponents=[],require("731"),window.__swanRoute="widgets/gt-dxdjx-h5-cta/gt-dxdjx-h5-cta",window.usingComponents=["widgets/gt-dxdjx-h5-cta/components/cta-item/cta-item","components/gap/gap"],window.usingPluginComponents=[],require("733"),window.__swanRoute="widgets/gt-dxdjx-h5-live-ball/gt-dxdjx-h5-live-ball",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("735"),window.__swanRoute="widgets/mip-bdxd-spu-rank/mip-bdxd-spu-rank",window.usingComponents=[],window.usingPluginComponents=[],require("737"),window.__swanRoute="components/anchor-navigator/anchor-navigator",window.usingComponents=[],window.usingPluginComponents=[],require("739"),window.__swanRoute="widgets/mip-bdxd-product-attribute-layer/mip-bdxd-product-attribute-layer",window.usingComponents=["components/cell/cell","components/popup/popup"],window.usingPluginComponents=[],require("741"),window.__swanRoute="widgets/mip-bdxd-marquee-container/mip-bdxd-marquee-container",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("743"),window.__swanRoute="widgets/mip-bdxd-recommend-group/mip-bdxd-recommend-group",window.usingComponents=["widgets/mip-bdxd-recommend-group-card/mip-bdxd-recommend-group-card"],window.usingPluginComponents=[],require("745"),window.__swanRoute="widgets/mip-sjh-live/components/live-streaming/live-streaming",window.usingComponents=[],window.usingPluginComponents=[],require("747"),window.__swanRoute="widgets/mip-sjh-live/components/count-down/count-down",window.usingComponents=[],window.usingPluginComponents=[],require("751"),window.__swanRoute="widgets/mip-sjh-live/components/dynamic-picture/dynamic-picture",window.usingComponents=[],window.usingPluginComponents=[],require("753"),window.__swanRoute="widgets/mip-sjh-live/mip-sjh-live",window.usingComponents=["widgets/mip-sjh-live/components/dynamic-picture/dynamic-picture","widgets/mip-sjh-live/components/count-down/count-down","widgets/mip-sjh-live/components/live-streaming/live-streaming"],window.usingPluginComponents=[],require("755"),window.__swanRoute="widgets/mip-dxdjx-product-recommend/mip-dxdjx-product-recommend",window.usingComponents=["widgets/mip-dxdjx-shop-good-product/mip-dxdjx-shop-good-product"],window.usingPluginComponents=[],require("758"),window.__swanRoute="widgets/mip-bdxd-product-comment/mip-bdxd-product-comment",window.usingComponents=["components/comment-card/comment-card"],window.usingPluginComponents=[],require("760"),window.__swanRoute="widgets/mip-bdxd-product-detail-consult/mip-bdxd-product-detail-consult",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("762"),window.__swanRoute="widgets/mip-dxdjx-product-coupon-top/mip-dxdjx-product-coupon-top",window.usingComponents=[],window.usingPluginComponents=[],require("764"),window.__swanRoute="widgets/mip-bdxd-product-page/mip-bdxd-product-page",window.usingComponents=["widgets/mip-dxdjx-product-coupon-top/mip-dxdjx-product-coupon-top","widgets/mip-doujin-carousel/mip-doujin-carousel","widgets/mip-bdxd-product-price-info/mip-bdxd-product-price-info","widgets/mip-bdxd-product-spectifications-layer/mip-bdxd-product-spectifications-layer","widgets/mip-bdxd-product-detail-consult/mip-bdxd-product-detail-consult","widgets/mip-bdxd-product-bottom-bar/mip-bdxd-product-bottom-bar","widgets/mip-bdxd-shop-card/mip-bdxd-shop-card","components/gap/gap","widgets/mip-bdxd-product-comment/mip-bdxd-product-comment","widgets/mip-dxdjx-product-recommend/mip-dxdjx-product-recommend","widgets/mip-dxdjx-like-list/mip-dxdjx-like-list","components/optimize-image/optimize-image","widgets/mip-sjh-live/mip-sjh-live","widgets/mip-bdxd-recommend-group/mip-bdxd-recommend-group","widgets/mip-bdxd-join-group-pop-up/mip-bdxd-join-group-pop-up","widgets/mip-bdxd-marquee-container/mip-bdxd-marquee-container","widgets/mip-bdxd-product-attribute-layer/mip-bdxd-product-attribute-layer","components/anchor-navigator/anchor-navigator","components/float-ball/float-ball","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-dxdjx-inflate-coupon-modal/mip-dxdjx-inflate-coupon-modal","widgets/mip-bdxd-spu-rank/mip-bdxd-spu-rank","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor","widgets/gt-dxdjx-h5-live-ball/gt-dxdjx-h5-live-ball","widgets/gt-dxdjx-h5-cta/gt-dxdjx-h5-cta","widgets/mip-dxdjx-guarantee-sdk/mip-dxdjx-guarantee-sdk","node_modules/@baidu/ug-task-supplier/dist/swan/ui/src/index"],window.usingPluginComponents=[],require("766"),window.__swanRoute="widgets/mip-bdxd-shop-cart/components/log-wrapper/index",window.usingComponents=[],window.usingPluginComponents=[],require("771"),window.__swanRoute="widgets/mip-bdxd-shop-cart/components/activity-detail/index",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("773"),window.__swanRoute="widgets/mip-bdxd-shop-cart/components/price-detail-coupon/index",window.usingComponents=["components/popup/popup","components/format-price/format-price","widgets/mip-bdxd-shop-cart/components/activity-detail/index"],window.usingPluginComponents=[],require("775"),window.__swanRoute="components/scroll-card/index",window.usingComponents=[],window.usingPluginComponents=[],require("777"),window.__swanRoute="widgets/mip-bdxd-shop-cart/mip-bdxd-shop-cart",window.usingComponents=["components/feed/feed","components/input-number/input-number","components/optimize-image/optimize-image","components/scroll-card/index","widgets/mip-bdxd-shop-cart/components/price-detail-coupon/index","widgets/mip-bdxd-product-coupon/components/coupon-take","widgets/mip-bdxd-product-spectifications-layer/mip-bdxd-product-spectifications-layer","components/login-button/login-button","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/format-price/format-price","widgets/mip-bdxd-shop-cart/components/log-wrapper/index"],window.usingPluginComponents=[],require("779"),window.__swanRoute="widgets/mip-dxdjx-product-group/mip-dxdjx-product-group",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-doujin-product-tab/mip-doujin-product-tab","widgets/mip-doujin-product-list/mip-doujin-product-list","widgets/mip-bdxd-product-spectifications-layer/mip-bdxd-product-spectifications-layer","widgets/mip-dxdjx-inflate-coupon-modal/mip-dxdjx-inflate-coupon-modal"],window.usingPluginComponents=[],require("781"),window.__swanRoute="widgets/gt-dxdjx-h5-about-xiaodian/gt-dxdjx-h5-about-xiaodian",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation"],window.usingPluginComponents=[],require("783"),window.__swanRoute="components/scroll-container/scroll-container",window.usingComponents=[],window.usingPluginComponents=[],require("785"),window.__swanRoute="widgets/mip-bdxd-collection-list-item/mip-bdxd-collection-list-item",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("787"),window.__swanRoute="widgets/mip-dxdjx-track-list/mip-dxdjx-track-list",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/optimize-image/optimize-image","components/scroll-card/index","widgets/mip-bdxd-collection-list-item/mip-bdxd-collection-list-item","components/scroll-container/scroll-container","components/login/login"],window.usingPluginComponents=[],require("789"),window.__swanRoute="widgets/mip-dxdjx-collection-list/mip-dxdjx-collection-list",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/optimize-image/optimize-image","components/scroll-card/index","widgets/mip-bdxd-collection-list-item/mip-bdxd-collection-list-item","widgets/mip-dxdjx-like-list/mip-dxdjx-like-list","components/scroll-container/scroll-container","components/login/login","widgets/mip-dxdjx-basic-feed/mip-dxdjx-basic-feed"],window.usingPluginComponents=[],require("793"),window.__swanRoute="widgets/gt-dxdjx-h5-atmosphere-tab/gt-dxdjx-h5-atmosphere-tab",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("796"),window.__swanRoute="widgets/mip-bdxd-user-login/mip-bdxd-user-login",window.usingComponents=["components/optimize-image/optimize-image","components/login-button/login-button"],window.usingPluginComponents=[],require("798"),window.__swanRoute="widgets/mip-dxdjx-personal-center/mip-dxdjx-personal-center",window.usingComponents=["widgets/mip-bdxd-user-login/mip-bdxd-user-login","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-dxdjx-like-list/mip-dxdjx-like-list","components/gap/gap","components/optimize-image/optimize-image","components/feed/feed","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor","widgets/gt-dxdjx-h5-atmosphere-tab/gt-dxdjx-h5-atmosphere-tab"],window.usingPluginComponents=[],require("800"),window.__swanRoute="widgets/mip-dxdjx-search-container/mip-dxdjx-search-container",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","dynamicLib://swan-eshop/search-page"],window.usingPluginComponents=[],require("803"),window.__swanRoute="components/coupon-card/coupon-six/index",window.usingComponents=["components/login-button/login-button"],window.usingPluginComponents=[],require("805"),window.__swanRoute="widgets/gt-dxdjx-h5-red-packet-coupon/components/anchor/index",window.usingComponents=[],window.usingPluginComponents=[],require("807"),window.__swanRoute="widgets/gt-dxdjx-h5-red-packet-coupon/gt-dxdjx-h5-red-packet-coupon",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/gt-dxdjx-h5-red-packet-coupon/components/anchor/index","components/coupon-card/coupon-three/index","components/coupon-card/coupon-six/index","components/login/login"],window.usingPluginComponents=[],require("809"),window.__swanRoute="components/coupon-card/coupon-two/index",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("812"),window.__swanRoute="components/coupon-card/coupon-one/index",window.usingComponents=[],window.usingPluginComponents=[],require("814"),window.__swanRoute="widgets/gt-dxdjx-h5-expand-coupon/components/rule-pop/rule-pop",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("816"),window.__swanRoute="widgets/gt-dxdjx-h5-expand-coupon/gt-dxdjx-h5-expand-coupon",window.usingComponents=["components/coupon-card/coupon-six/index","widgets/gt-dxdjx-h5-expand-coupon/components/rule-pop/rule-pop","widgets/mip-dxdjx-inflate-coupon-modal/mip-dxdjx-inflate-coupon-modal"],window.usingPluginComponents=[],require("818"),window.__swanRoute="widgets/mip-dxdjx-benefits-center/mip-dxdjx-benefits-center",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/gt-dxdjx-h5-expand-coupon/gt-dxdjx-h5-expand-coupon","components/coupon-card/coupon-one/index","components/coupon-card/coupon-two/index","components/login/login"],window.usingPluginComponents=[],require("820"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/coupon/coupon",window.usingComponents=[],window.usingPluginComponents=[],require("822"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/hot-buy-card/hot-buy-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("824"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/hot-buy/hot-buy",window.usingComponents=["widgets/mip-dxdjx-find-goods/components/hot-buy-card/hot-buy-card"],window.usingPluginComponents=[],require("826"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/shop-card/shop-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("828"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/big-name/big-name",window.usingComponents=["widgets/mip-dxdjx-find-goods/components/shop-card/shop-card"],window.usingPluginComponents=[],require("830"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/head-image/head-image",window.usingComponents=["components/popup/popup","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("832"),window.__swanRoute="widgets/mip-dxdjx-find-goods/components/feed/feed",window.usingComponents=["components/product-list/product-list","components/product-card/product-card","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("834"),window.__swanRoute="widgets/mip-dxdjx-find-goods/mip-dxdjx-find-goods",window.usingComponents=["widgets/mip-dxdjx-find-goods/components/feed/feed","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-dxdjx-find-goods/components/head-image/head-image","widgets/mip-dxdjx-find-goods/components/big-name/big-name","widgets/mip-dxdjx-find-goods/components/hot-buy/hot-buy","widgets/mip-dxdjx-find-goods/components/coupon/coupon"],window.usingPluginComponents=[],require("836"),window.__swanRoute="sPGV2_special-seckill_special-seckill/standardPageGenerator",window.usingComponents=["widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/gt-dxdjx-h5-image/gt-dxdjx-h5-image","widgets/gt-dxdjx-h5-shop-card-feed-triple/gt-dxdjx-h5-shop-card-feed-triple","widgets/gt-dxdjx-h5-shop-card-feed-double/gt-dxdjx-h5-shop-card-feed-double","widgets/gt-dxdjx-h5-orchard-ball/gt-dxdjx-h5-orchard-ball"],window.usingPluginComponents=[],require("839"),window.__swanRoute="sPGV2_billion-subsidy_billion-subsidy/standardPageGenerator",window.usingComponents=["widgets/gt-dxdjx-h5-image/gt-dxdjx-h5-image","widgets/gt-dxdjx-h5-top-goods-card/gt-dxdjx-h5-top-goods-card","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-dxdjx-marketing-feed/mip-dxdjx-marketing-feed","widgets/mip-dxdjx-marketing-floatball/mip-dxdjx-marketing-floatball","widgets/gt-dxdjx-h5-marketing-anchor/gt-dxdjx-h5-marketing-anchor"],window.usingPluginComponents=[],require("843"),window.__swanRoute="widgets/mip-dxdjx-live-list/mip-dxdjx-live-list",window.usingComponents=["components/feed/feed","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","components/optimize-image/optimize-image","components/product-list/product-list","widgets/mip-dxdjx-live-list/components/live-card/live-card","widgets/mip-doujin-carousel/mip-doujin-carousel"],window.usingPluginComponents=[],require("847"),window.__swanRoute="widgets/mip-dxdjx-marketing-live/mip-dxdjx-marketing-live",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("851"),window.__swanRoute="widgets/mip-dxdjx-mall-popup/mip-dxdjx-mall-popup",window.usingComponents=["components/popup/popup","components/login-button/login-button"],window.usingPluginComponents=[],require("853"),window.__swanRoute="widgets/mip-dxdjx-mall-activity-banner/mip-dxdjx-mall-activity-banner",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("856"),window.__swanRoute="widgets/mip-dxdjx-mall-beancurd/components/good-product-card/good-product-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("858"),window.__swanRoute="widgets/mip-dxdjx-mall-beancurd/components/talent-live-card/talent-live-card",window.usingComponents=["components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("860"),window.__swanRoute="widgets/mip-dxdjx-mall-beancurd/mip-dxdjx-mall-beancurd",window.usingComponents=["widgets/mip-dxdjx-mall-beancurd/components/talent-live-card/talent-live-card","widgets/mip-dxdjx-mall-beancurd/components/good-product-card/good-product-card","components/optimize-image/optimize-image"],window.usingPluginComponents=[],require("862"),window.__swanRoute="widgets/mip-dxdjx-supernav/mip-dxdjx-supernav",window.usingComponents=["components/lottie-image/lottie-image"],window.usingPluginComponents=[],require("864"),window.__swanRoute="widgets/mip-dxdjx-mall-daily/mip-dxdjx-mall-daily",window.usingComponents=["components/optimize-image/optimize-image","components/format-price/format-price"],window.usingPluginComponents=[],require("866"),window.__swanRoute="wjz/dxdjx/live-list/live-list",window.usingComponents=["widgets/mip-dxdjx-live-list/mip-dxdjx-live-list","standardPageGeneratorV2/standardPageGenerator"],window.usingPluginComponents=[],require("877"),window.__swanRoute="wjz/dxdjx/billion-subsidy/billion-subsidy",window.usingComponents=["sPGV2_billion-subsidy_billion-subsidy/standardPageGenerator"],window.usingPluginComponents=[],require("881"),window.__swanRoute="wjz/dxdjx/special-seckill/special-seckill",window.usingComponents=["sPGV2_special-seckill_special-seckill/standardPageGenerator"],window.usingPluginComponents=[],require("888"),window.__swanRoute="wjz/dxdjx/dynamic-marketing-page/dynamic-marketing-page",window.usingComponents=["standardPageGeneratorV2/standardPageGenerator"],window.usingPluginComponents=[],require("890"),window.__swanRoute="wjz/dxdjx/normal-tpl-page/normal-tpl-page",window.usingComponents=["standardPageGeneratorV2/standardPageGenerator"],window.usingPluginComponents=[],require("892"),window.__swanRoute="wjz/dxdjx/find-goods/find-goods",window.usingComponents=["widgets/mip-dxdjx-find-goods/mip-dxdjx-find-goods"],window.usingPluginComponents=[],require("894"),window.__swanRoute="wjz/dxdjx/benefits-center/benefits-center",window.usingComponents=["widgets/mip-dxdjx-benefits-center/mip-dxdjx-benefits-center"],window.usingPluginComponents=[],require("898"),window.__swanRoute="wjz/dxdjx/red-packet-coupon/red-packet-coupon",window.usingComponents=["widgets/gt-dxdjx-h5-red-packet-coupon/gt-dxdjx-h5-red-packet-coupon"],window.usingPluginComponents=[],require("902"),window.__swanRoute="wjz/dxdjx/search-product-dxdjx/search-product-dxdjx",window.usingComponents=["widgets/mip-dxdjx-search-container/mip-dxdjx-search-container"],window.usingPluginComponents=[],require("906"),window.__swanRoute="wjz/dxdjx/personal-center/personal-center",window.usingComponents=["widgets/mip-dxdjx-personal-center/mip-dxdjx-personal-center"],window.usingPluginComponents=[],require("910"),window.__swanRoute="wjz/dxdjx/collection-list/collection-list",window.usingComponents=["widgets/mip-dxdjx-collection-list/mip-dxdjx-collection-list"],window.usingPluginComponents=[],require("914"),window.__swanRoute="wjz/dxdjx/track-list/track-list",window.usingComponents=["widgets/mip-dxdjx-track-list/mip-dxdjx-track-list"],window.usingPluginComponents=[],require("918"),window.__swanRoute="wjz/dxdjx/about-xiaodian/about-xiaodian",window.usingComponents=["widgets/gt-dxdjx-h5-about-xiaodian/gt-dxdjx-h5-about-xiaodian"],window.usingPluginComponents=[],require("922"),window.__swanRoute="wjz/dxdjx/product-group/product-group",window.usingComponents=["widgets/mip-dxdjx-product-group/mip-dxdjx-product-group"],window.usingPluginComponents=[],require("926"),window.__swanRoute="wjz/bdxd/shop-cart/shop-cart",window.usingComponents=["widgets/mip-bdxd-shop-cart/mip-bdxd-shop-cart"],window.usingPluginComponents=[],require("930"),window.__swanRoute="wjz/bdxd/shop-cart-detail/shop-cart-detail",window.usingComponents=["widgets/mip-bdxd-shop-cart/mip-bdxd-shop-cart"],window.usingPluginComponents=[],require("934"),window.__swanRoute="wjz/bdxd/order-submit/order-submit",window.usingComponents=["widgets/mip-bdxd-page-order-submit/mip-bdxd-page-order-submit"],window.usingPluginComponents=[],require("941"),window.__swanRoute="wjz/bdxd/shop-index/shop-index",window.usingComponents=["standardPageGeneratorV2/standardPageGenerator"],window.usingPluginComponents=[],require("948"),window.__swanRoute="wjz/dxdjx/daily-shop/daily-shop",window.usingComponents=["widgets/mip-dxdjx-daily-shop/mip-dxdjx-daily-shop"],window.usingPluginComponents=[],require("951"),window.__swanRoute="wjz/dxdjx/order-list/order-list",window.usingComponents=["widgets/mip-dxdjx-order-list-page/mip-dxdjx-order-list-page"],window.usingPluginComponents=[],require("955"),window.__swanRoute="wjz/dxdjx/order-list-detail/order-list-detail",window.usingComponents=["widgets/mip-dxdjx-order-list-page/mip-dxdjx-order-list-page"],window.usingPluginComponents=[],require("959"),window.__swanRoute="wjz/dxdjx/blind-box/blind-box",window.usingComponents=["components/optimize-image/optimize-image","widgets/gt-dxdjx-h5-navigation/gt-dxdjx-h5-navigation","widgets/mip-dxdjx-marketing-lottie/mip-dxdjx-marketing-lottie","widgets/gt-dxdjx-h5-koi-marquee/gt-dxdjx-h5-koi-marquee","widgets/gt-dxdjx-h5-box-share/gt-dxdjx-h5-box-share","widgets/gt-dxdjx-h5-box-popup/share-popup/share-popup","widgets/gt-dxdjx-h5-box-popup/prize-popup/prize-popup","widgets/gt-dxdjx-h5-box-popup/open-box-button/open-box-button","widgets/gt-dxdjx-h5-box-popup/prize-button/prize-button","widgets/gt-dxdjx-h5-box-show-prizes/gt-dxdjx-h5-box-show-prizes"],window.usingPluginComponents=[],require("962"),window.__swanRoute="wjz/bdxd/coupon-middle/coupon-middle",window.usingComponents=["widgets/gt-bdxd-h5-coupon-middle-page/gt-bdxd-h5-coupon-middle-page"],window.usingPluginComponents=[],require("965"),window.__swanRoute="wjz/dxdjx/dynamic-marketing-page-92442405-ab/dynamic-marketing-page-92442405-ab",window.usingComponents=["sPGV2_dynamic-marketing-page-92442405_dynamic-marketing-page-92442405/standardPageGenerator"],window.usingPluginComponents=[],require("969"),window.__swanRoute="wjz/dxdjx/live-playback/live-playback",window.usingComponents=["widgets/gt-dxdjx-live-playback-page/gt-dxdjx-live-playback-page"],window.usingPluginComponents=[],require("972"),window.__swanRoute="wjz/dxdjx/home-letter-intro/home-letter-intro",window.usingComponents=["widgets/gt-dxdjx-home-letter-intro/gt-dxdjx-home-letter-intro"],window.usingPluginComponents=[],require("975")}(__hacked);