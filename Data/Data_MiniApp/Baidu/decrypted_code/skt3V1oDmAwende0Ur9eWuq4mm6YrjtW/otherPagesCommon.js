var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;window.define("19",(function(e,t,i,n,a,o,r,s,l,c,d,h,g,u,m,v,p,b,f,C,w,k,y){"use strict";Component({properties:{dialogText:{type:Object},confirmBtnClassName:{type:String,value:"theme-btn-primary"},cancelBtnClassName:{type:String,value:"theme-btn-primary_active"},buttonReverse:{type:Boolean,value:!1}},data:{showOptionAdialog:!1,delta:1},methods:{hideOptionDialog:function(){this.setData({showOptionAdialog:!1}),this.triggerEvent("cancel","tapMask")},showOptionDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setData({showOptionAdialog:!0,delta:e})},confirm:function(){this.setData({showOptionAdialog:!1}),this.triggerEvent("confirm",this.data.delta)},cancel:function(){this.setData({showOptionAdialog:!1}),this.triggerEvent("cancel","tapBtn")},emptyEventCallback:function(){}}})})),window.define("211",(function(e,t,i,n,a,o,r,s,l,c,d,h,g,u,m,v,p,b,f,C,w,k,y){"use strict";Component({properties:{bannerImage:{type:String,value:""},size:{type:String,value:"xxs"}},data:{visible:!1},methods:{show:function(){this.setData({visible:!0})},hidden:function(){this.setData({visible:!1})},closePopupBanner:function(){this.setData({visible:!1}),this.triggerEvent("close",{})},bannerHandle:function(){this.triggerEvent("click",{})}}})})),window.define("227",(function(e,t,i,n,a,o,r,s,l,c,d,h,g,u,m,v,p,b,f,C,w,k,y){"use strict";var _=e(39).localStorageKey,T=e(213),S=e(14),D=e(13).member,B=e(118),U=B.miniProgramInfo,I=B.memberUrl,M=e(32).titleList,A=e(12).actualHost,O=o();Page({data:{loginUrl:"/pages/common/login/login",hasBindmember:!1,showLogin:!0,bindMobile:"",navigationData:JSON.parse(JSON.stringify(T.navigationList)),onloaded:!1,miniProgram:Object.assign({},U,{path:"/pages/user/historyOrder/historyOrder?index=0"}),couponCount:"",navHeight:0,serviceList:[{title:"地址薄",imageUrl:"./img/address.png"},{title:"发票申请",imageUrl:"./img/bill.png"},{title:"运费时效",imageUrl:"./img/freight.png"},{title:"网点范围",imageUrl:"./img/net.png"},{title:"服务范围",imageUrl:"./img/service.png"},{title:"在线客服",imageUrl:"./img/customer.png"},{title:"客服电话",imageUrl:"./img/customer-phone.png"},{title:"投诉记录",imageUrl:"./img/record.png"}]},onLoad:function(){this.globalData=O.globalData,this.setData({navHeight:O.getSystemInfo().statusBarHeight+46}),this.changeTab()},onShow:function(){a.setPageInfo({title:M.my}),this.preventClick=!1,this.init()},init:function(){var e=this;this.setData({hasBindmember:O.globalData.hasBindmember,bindMobile:O.globalData.bindMobile,showLogin:!O.globalData.hasBindmember,encryptedFlag:!1}),O.globalData.hasBindmember?(this.getCouponCount().then((function(t){t&&e.setData({couponCount:t})})),T.getOrderAndIntegralInfo().then((function(t){e.setData({navigationData:t}),e.setData({"navigationData[2].value":e.data.couponCount||0})}))):this.changeTab()},changeTab:function(){var e=this;if(!O.globalData.hasBindmember){var t=[],i=12;this.data.navigationData.map((function(n,a){n.openType="navigate",n.value=0,n.toUrl=e.data.loginUrl+"?backChannel="+i++,t.push(n)})),this.setData({navigationData:t})}},goMemberUrl:function(e){var t=e.currentTarget.dataset.type;if(!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:"/pages/common/login/login?backChannel="+t});var i=encodeURIComponent(I[t]+"&suuid="+encodeURIComponent(O.globalData.sessionId||""));a.navigateTo({url:"/pages/common/web-view/web-view?href="+i})},goService:function(e){switch(e.currentTarget.dataset.type){case 0:this.viewAddressBook();break;case 1:this.toInvoiceWebview();break;case 2:this.toAgeing();break;case 3:this.toDotQuery();break;case 4:this.toServer();break;case 5:this.toCustomService();break;case 6:this.toServicePhone();break;case 7:this.toComplaintRecord()}},getEncryptedData:function(){return S.api({url:D.encryptMemberInfo,data:{data:""}})},toLogin:function(){this.data.showLogin&&a.navigateTo({url:this.data.loginUrl})},pageNavigator:function(e){var t=e.currentTarget.dataset.info.queryType;t&&(O.globalData.queryType=t)},toInvoiceWebview:function(){if(!this.preventClick){if(this.preventClick=!0,a.reportAnalytics("click_request_invoice"),!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=6"}),void(this.preventClick=!1);T.toApplicationInvoice(this.globalData,"my")}},toDotQuery:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=8"}),void(this.preventClick=!1);T.toDotQuery({})}},toServer:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=8"}),void(this.preventClick=!1);var e=encodeURIComponent("https://www.sf-express.com/mobile/cn/sc/dynamic_function/range/range.html?nohead=true&notitle=true");a.navigateTo({url:"/pages/common/web-view/web-view?href="+e})}},toReceivingStandard:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=8"}),void(this.preventClick=!1);var e=encodeURIComponent("https://www.sf-express.com/mobile/cn/sc/dynamic_functions/accept?noHead=true&noShip=true");a.navigateTo({url:"/pages/common/web-view/web-view?href="+e})}},toAgeing:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=7"}),void(this.preventClick=!1);var e=A.toAgeingUrlName+"?noHead=true&noShip=true";a.navigateTo({url:"/pages/common/web-view/web-view?href="+encodeURIComponent(e)})}},toCustomService:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=9"}),void(this.preventClick=!1);T.toOnlineService("my")}},viewCoupon:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=5"}),void(this.preventClick=!1);a.reportAnalytics("click_my_coupon"),a.navigateTo({url:"/pages/my/member/coupon/home/home"})}},toShopOrders:function(){var e=this;if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember)return a.showModal({title:"购物订单",content:"登录后可查看购物订单，前往登录？",cancelText:"暂不登录",cancelColor:"#999",confirmText:"立即登录",confirmColor:"#CC3244",success:function(t){t.confirm?a.navigateTo({url:e.data.loginUrl}):e.preventClick=!1}});a.navigateTo({url:"/pages/my/program-set/program-set"})}},viewAddressBook:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=4"}),void(this.preventClick=!1);a.navigateTo({url:"/pages/order/address/address-book/address-book"})}},logOut:function(){var e=this;a.showModal({title:"提示",content:"确定退出登录？",cancelText:"取消",cancelColor:"#999",confirmText:"退出登录",confirmColor:"#CC3244",success:function(t){t.confirm&&T.logout({data:{mobile:e.data.bindMobile},success:function(){a.showToast({title:"解绑成功",icon:"none"}),e.setData({hasBindmember:!1,showLogin:!0,couponCount:""});O.setBindInfo({hasBindmember:!1,bindMobile:""}),a.removeStorageSync(_.local_defaultSendAddr),a.removeStorageSync(_.local_send_address),a.removeStorageSync(_.local_self_send_address),a.removeStorageSync(_.local_receive_address),a.removeStorageSync(_.local_batch_receive_address),a.removeStorageSync(_.local_cold_send_address),a.removeStorageSync(_.local_cold_receive_address),a.removeStorageSync("STG_TOKEN"),e.changeTab()},fail:function(e){a.showToast({title:e,icon:"none"})}})}})},getCouponCount:function(){return new Promise((function(e){S.api({url:D.couponCount,method:"GET"}).then((function(t){var i=t.data;return i.success&&i.obj?e(i.obj.onlineCount):e(!1)})).catch((function(){return e(!1)}))}))},toDDJMiniProgram:function(){var e=this;this.getEncryptedData().then((function(t){var i=t.data;if(e.preventClick=!1,i.success){var n=e.data.miniProgram;a.navigateToSmartProgram({appId:n.appId,extraData:{encryptedData:i.obj},envVersion:n.version,path:n.path})}})).catch((function(){e.preventClick=!1,console.log("加密数据失败")}))},toServicePhone:function(){this.preventClick||(this.preventClick=!0,a.navigateTo({url:"/pages/my/member/custom-service/custom-service"}))},toComplaintRecord:function(){if(!this.preventClick){if(this.preventClick=!0,!this.data.hasBindmember||!this.data.bindMobile)return a.navigateTo({url:this.data.loginUrl+"?backChannel=10"}),void(this.preventClick=!1);this.preventClick=!1;var e=encodeURIComponent(A.cxHostName+"/we/cx3.0/custom?source=bdapp");a.navigateTo({url:"/pages/common/web-view/web-view?href="+e})}}})})),window.__swanRoute="components/option-dialog/option-dialog",window.usingComponents=[],window.usingPluginComponents=[],require("19"),window.__swanRoute="components/popup-banner/popup-banner",window.usingComponents=[],window.usingPluginComponents=[],require("211"),window.__swanRoute="pages/tabBar/my/my",window.usingComponents=[],window.usingPluginComponents=[],require("227")}(__hacked);