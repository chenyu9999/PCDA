var _sjsSupporter={compiler:!1};function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.define("pages/tripshoot/home/home.swan",(function(require,modulesExports){var componentUsingComponentMap={},componentUsingComponentMapInPlugin={},componentGenerics={};function processTemplateModule(filterTemplateArrs,filterModule){eval(filterModule);var modules={},templateFiltersObj={};return filterTemplateArrs&&filterTemplateArrs.forEach((function(element){var filterName=element.filterName,func=element.func,module=element.module;modules[module]=eval(module),templateFiltersObj[filterName]=function(){var e;return(e=modules[module])[func].apply(e,arguments)}})),templateFiltersObj}var createTemplateComponent=function(e){var t=Object.create(null),i=Object.create(null),a=JSON.parse("[]"),s={};a.length&&(s=processTemplateModule(a,""));var l=san.defineComponent({components:i,template:'<swan-template data-origin-name="waterfall"><view class="wf-container"><view class="wf-item wf-item-2 " id="waterfallLeftList"><template s-for="item, index in waterfallLeftList" s-key="left{{index}}"><view class="wf-item-inner wf-item-left swan-spider-tap" data-id="{{item.articleId}}" data-type="waterfall" data-index="左{{index}}" data-title="{{item.title}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToDetail\', \'\', \'bind\')"><view class="itemimg {{item.isVideo ? \'isvideo\': \'\'}}"><view class="itemimg-wapper"><image lazy-load="true" class="img" src="{{item.image.url}}" style="width:{{item.image.picWidth}}rpx;height: {{item.image.picHeight}}rpx" mode="aspectFill"></image></view><template s-if="item.poiName"><view class="poiTag">{{item.poiName}}</view></template></view><view class="infotext"><view class="infotitle">{{item.title}}</view><view class="linewrap"><view class="usertext"><view class="userhead"><template s-if="item.author.identityType"><view class="hasvip"></view></template><image class="img " src="{{item.author.avatUrl}}"></image><text class="username">{{item.author.nickName}}</text></view></view><view class="praisecount swan-spider-tap" data-ispraise="{{item.isLike}}" data-articleid="{{item.articleId}}" data-type="relatedArticle" data-position="{{item.itemIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'toPraise\', \'\', \'catch\')"><template s-if="item.isLike"><template s-if="item.showAnimation"><view class="do-comment-animation"></view></template><template s-else><image class="img" src="https://pages.c-ctrip.com/you/livestream/lvpai_detail_commentprised.png"></image></template></template><template s-else><image class="img" src="https://pages.c-ctrip.com/you/livestream/lvpai_detail_commentprise.png"></image></template><text class="text">{{ item.praiseCountStr}}</text></view></view></view></view></template></view><view class="wf-item wf-item-2 " id="waterfallRightList"><template s-for="item, index in waterfallRightList" s-key="right{{index}}"><view class="wf-item-inner wf-item-right swan-spider-tap" data-id="{{item.articleId}}" data-type="waterfall" data-index="右{{index}}" data-title="{{item.title}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToDetail\', \'\', \'bind\')"><view class="itemimg {{item.isVideo ? \'isvideo\': \'\'}}"><view class="itemimg-wapper"><image lazy-load="true" class="img" src="{{item.image.url}}" style="width:{{item.image.picWidth}}rpx;height: {{item.image.picHeight}}rpx" mode="aspectFill"></image></view><template s-if="item.poiName"><view class="poiTag">{{item.poiName}}</view></template></view><view class="infotext"><view class="infotitle">{{item.title}}</view><view class="linewrap"><view class="usertext"><view class="userhead"><template s-if="item.author.identityType"><view class="hasvip"></view></template><image class="img " src="{{item.author.avatUrl}}"></image><text class="username">{{item.author.nickName}}</text></view></view><view class="praisecount swan-spider-tap" data-ispraise="{{item.isLike}}" data-articleid="{{item.articleId}}" data-type="relatedArticle" data-position="{{item.itemIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'toPraise\', \'\', \'catch\')"><template s-if="item.isLike"><template s-if="item.showAnimation"><view class="do-comment-animation"></view></template><template s-else><image class="img" src="https://pages.c-ctrip.com/you/livestream/lvpai_detail_commentprised.png"></image></template></template><template s-else><image class="img" src="https://pages.c-ctrip.com/you/livestream/lvpai_detail_commentprise.png"></image></template><text class="text">{{item.praiseCountStr}}</text></view></view></view></view></template></view></view></swan-template>',filters:_objectSpread({},s),_smartJs:smartJsMap,inited:function(){var e=this,t=function(t){for(var i in t)e.data.set(i,t[i])};t(this.data.get("data")),this.watch("data",t)},eventHappen:function(){var e;(e=this.owner).eventHappen.apply(e,arguments)}});t["template-911b1ca4"]=l;var m=JSON.parse("[]"),r={};m.length&&(r=processTemplateModule(m,""));var n=san.defineComponent({components:i,template:'<swan-template data-origin-name="feedList"><template s-for="feedItem, feedIndex in feedList"><template s-if="feedItem.type == 4 && feedItem.articleSummaryList.length >0"><view class="sin-follow" data-id="{{feedItem.feedId}}" data-index="{{feedIndex}}"><view class="user-info"><view class="user-img {{feedItem.isVip ? \'hasvip\':\'\'}}"><image src="{{feedItem.feedUser.headImageUrl}}" alt="" mode="aspectFill" /></view><view class="user-text"><view class="username"><text >{{feedItem.feedUser.nickName}}</text>发布了笔记</view><text class="user-publishtime">{{feedItem.feedTime}}</text></view></view><view class="user-bgwrap swan-spider-tap" data-id="{{feedItem.articleSummaryList[0].articleId}}" data-index="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToFollowCard\', \'\', \'bind\')"><view class="imgbox {{feedItem.articleSummaryList[0].hasVideo ? \'hasvideo\': \'\'}}"><image src="{{feedItem.articleSummaryList[0].images[0].dynamicUrl}}" alt="" mode="aspectFill" /><template s-if="!feedItem.articleSummaryList[0].hasVideo"><text class="pic-count">{{feedItem.articleSummaryList[0].imageCounts}}图</text></template></view><template s-if="feedItem.poiList && feedItem.poiList.length"><view class="poi-wrap"><template s-for="poiItem, poiIndex in feedItem.poiList"><view class="text {{poiItem.poiClass}} {{ feedItem.poiList.length == 1 ? \'singlepoi\':\'\'}}"><text >{{poiItem.poiName}}</text></view></template></view></template><view class="text-detail js_followArticle"><text class="title">{{feedItem.articleSummaryList[0].articleTitle}}</text></view><view class="info-line"><view class="praisecount {{feedItem.articleSummaryList[0].isLike ? \'ispraised\' : \'\'}} {{feedItem.articleSummaryList[0].showAnimation ? \'do-praise-followtab\' :\'\'}} swan-spider-tap" data-type="followArticle" data-ispraise="{{feedItem.articleSummaryList[0].isLike}}" data-articleid="{{feedItem.articleSummaryList[0].articleId}}" data-position="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'toPraise\', \'\', \'catch\')">{{feedItem.articleSummaryList[0].likeCount ? feedItem.articleSummaryList[0].likeCountStr : \'点赞\'}}</view><view class="commentcount js_goCommentList">{{feedItem.articleSummaryList[0].commentCount ? feedItem.articleSummaryList[0].commentCountStr : \'评论\'}}</view><view class="collectcount {{feedItem.articleSummaryList[0].isCollected ? \'iscollected\' : \'\'}} swan-spider-tap" data-type="followArticle" data-iscollect="{{feedItem.articleSummaryList[0].isCollected}}" data-articleid="{{feedItem.articleSummaryList[0].articleId}}" data-position="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'doCollect\', \'\', \'catch\')">{{feedItem.articleSummaryList[0].collectCount ? feedItem.articleSummaryList[0].collectCountStr : \'收藏\'}}</view></view></view></view></template><template s-if="feedItem.type == 1 && feedItem.articleSummaryList.length >0"><view class="sin-follow" data-id="{{feedItem.feedId}}" data-index="{{feedIndex}}"><view class="user-info"><view class="user-img {{feedItem.isVip ? \'hasvip\':\'\'}}"><image src="{{feedItem.feedUser.headImageUrl}}" alt="" mode="aspectFill" /></view><view class="user-text"><view class="username"><text >{{feedItem.feedUser.nickName}}</text><template s-if="feedItem.articleSummaryList.length < 2">点赞了<text >{{feedItem.articleSummaryList[0].author.nickName}}</text>的笔记\n                        \t</template><template s-else>点赞<text >了{{feedItem.articleSummaryList.length}}</text>条笔记\n                        \t</template></view><text class="user-publishtime">{{feedItem.feedTime}}</text></view></view><template s-if="feedItem.articleSummaryList && feedItem.articleSummaryList.length < 2"><view class="user-bgwrap swan-spider-tap" data-id="{{feedItem.articleSummaryList[0].articleId}}" data-index="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToFollowCard\', \'\', \'bind\')"><view class="article-praisebox"><view class="upraise-img {{feedItem.articleSummaryList[0].hasVideo ? \'hasvideo\':\'\'}}"><image src="{{feedItem.articleSummaryList[0].images[0].dynamicUrl}}" mode="aspectFill"></image></view><view class="upraise-info"><view class="upraise-text">{{feedItem.articleSummaryList[0].articleTitle}}</view><view class="poi-wrap"><view class="text {{feedItem.poiList[0].poiClass}} singlepoi "><text >{{feedItem.poiList[0].poiName}}</text></view></view></view></view></view></template><template s-else><view class="user-bgwrap"><scroll-view scroll-x class="swan-spider-tap" scroll-left="{= scrollLeft =}" scroll-with-animation="true" on-bindscroll="eventHappen(\'scroll\', $event, \'waterTabscroll\', \'\', \'bind\')"><view class="article-praisebox"><template s-for="articleItem, articleIndex in feedItem.articleSummaryList" s-key="{{articleIndex}}"><view class="praise-swiper swan-spider-tap" data-id="{{feedItem.articleSummaryList[articleIndex].articleId}}" data-index="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToFollowCard\', \'\', \'bind\')"><view class="upraise-img {{articleItem.hasVideo ? \'hasvideo\' :\'\'}}"><image src="{{articleItem.images[0].dynamicUrl }}" mode="aspectFill" alt=""></image></view><view class="usertext"><view class="userhead {{articleItem.author.identityType ? \'hasvip\':\'\'}}"><image src="{{articleItem.author.coverImage ? articleItem.author.coverImage.dynamicUrl:\'\'}}" mode="aspectFill"></image></view><view class="username">{{ articleItem.author.nickName}}</view></view></view></template></view></scroll-view></view></template></view></template><template s-if="feedItem.type == 3 && feedItem.articleSummaryList.length >0"><view class="sin-follow" data-id="{{feedItem.feedId}}" data-index="{{feedIndex}}"><view class="user-info"><view class="user-img {{feedItem.isVip ? \'hasvip\' :\'\'}}"><image src="{{feedItem.feedUser.headImageUrl}}" alt="" mode="aspectFill"></image></view><view class="user-text"><view class="username"><text >{{feedItem.feedUser.nickName}}></text>评论了<text >{{ feedItem.articleSummaryList[0].author.nickName}}</text>的笔记</view><view class="user-publishtime">{{feedItem.feedTime}}</view></view></view><view class="user-comment swan-spider-tap" on-bindtap="eventHappen(\'tap\', $event, \'jumpToFollowCard\', \'\', \'bind\')">{{feedItem.commentList[0].content}}</view><view class="user-bgwrap swan-spider-tap" data-id="{{feedItem.articleSummaryList[0].articleId}}" data-index="{{feedIndex}}" on-bindtap="eventHappen(\'tap\', $event, \'jumpToFollowCard\', \'\', \'bind\')"><view class="article-praisebox"><view class="upraise-img {{feedItem.articleSummaryList[0].hasVideo ? \'hasvideo\': \'\'}}"><image src="{{feedItem.articleSummaryList[0].images[0].dynamicUrl}}" alt="" mode="aspectFill"></image></view><view class="upraise-info"><view class="upraise-text">{{feedItem.articleSummaryList[0].articleTitle }}</view><view class="poi-wrap"><view class="text {{feedItem.poiList[0].poiClass}} singlepoi "><text >{{feedItem.poiList[0].poiName}}</text></view></view></view></view></view></view></template><template s-if="feedItem.type == 2 && feedItem.userList.length >0"><view class="sin-follow" data-id="{{feedItem.feedId}}" data-index="{{feedIndex}}"><view class="user-info"><view class="user-img {{feedItem.isVip ? \'hasvip\' :\'\'}}"><image src="{{feedItem.feedUser.headImageUrl}}" alt="" mode="aspectFill"></image></view><view class="user-text"><template s-if="feedItem.userList && feedItem.userList.length == 1"><view class="username"><text >{{feedItem.feedUser.nickName}}></text>关注了<text >{{feedItem.userList[0].nickName}}</text></view></template><template s-if="feedItem.userList && feedItem.userList.length == 2"><view class="username"><text >{{feedItem.feedUser.nickName}}></text>关注了<text >{{feedItem.userList[0].nickName}}</text>、<text >{{feedItem.userList[1].nickName}}</text>等{{feedItem.userList.length}}位用户</view></template><template s-if="feedItem.userList && feedItem.userList.length >2"><view class="username"><text >{{feedItem.feedUser.nickName}}></text>关注了<text >{{feedItem.userList[0].nickName}}</text>、<text >{{feedItem.userList[1].nickName}}</text>、<text >{{feedItem.userList[1].nickName}}</text>等{{feedItem.userList.length}}位用户</view></template><view class="user-publishtime">{{feedItem.feedTime}}</view></view></view><template s-if="feedItem.userList.length < 2"><view class="user-bgwrap"><view class="user-praisebox user-normal"><view class="user-praise-img {{feedItem.userList[0].identityType ? \'hasvip\' : \'\'}}"><image src="{{feedItem.userList[0].headImageUrl }}" alt=""></image></view><view class="textbox"><view class="title"><view class="user-name">{{feedItem.userList[0].nickName}}</view><template s-if="feedItem.userList[0].extInfo.identityTypeName &&  feedItem.userList[0].extInfo.identityTypeName !== undefined"><text class="tips">{{ feedItem.userList[0].extInfo.identityTypeName}}</text></template></view><view class="linebox"><view class="pai-count">{{feedItem.userList[0].articleCountStr}}篇笔记</view><view class="follow">{{feedItem.userList[0].followCountStr}}粉丝</view></view></view></view></view></template><template s-else><view class="user-bgwrap"><scroll-view scroll-x class="swan-spider-tap" scroll-left="{= scrollLeft =}" scroll-with-animation="true" on-bindscroll="eventHappen(\'scroll\', $event, \'waterTabscroll\', \'\', \'bind\')"><view class="user-praisebox"><template s-for="userItem, userIndex in feedItem.userList" s-key="{{userIndex}}"><template s-if="userIndex<10"><view class="user-swiper"><view class="user-praise-img {{userItem.identityType ? \'hasvip\':\'\'}}"><image src="{{userItem.headImageUrl}}" alt=""></image></view><view class="username">{{userItem.nickName}}</view></view></template></template></view></scroll-view></view></template></view></template></template></swan-template>',filters:_objectSpread({},r),_smartJs:smartJsMap,inited:function(){var e=this,t=function(t){for(var i in t)e.data.set(i,t[i])};t(this.data.get("data")),this.watch("data",t)},eventHappen:function(){var e;(e=this.owner).eventHappen.apply(e,arguments)}});return t["template-40829d5f"]=n,Object.assign(i,e,t),t},filterCustomArr=[],sjsExportsMap={},smartJsMap={},modules={},filtersObj={};modulesExports.exports={componentUsingComponentMap:componentUsingComponentMap,componentUsingComponentMapInPlugin:componentUsingComponentMapInPlugin,componentGenerics:componentGenerics,template:'<view class="tripshoot-home"><view class="home-header"><view class="header-left"></view><view class="header-title swan-spider-tap" on-bindtap="eventHappen(\'tap\', $event, \'changeCity\', \'\', \'bind\')"><text >社区·{{districtName}}</text></view><view class="header-avat swan-spider-tap" on-bindtap="eventHappen(\'tap\', $event, \'headerToLogin\', \'\', \'bind\')"><image src="{{userInfo.headPhoto}}" mode="aspectFill"></image></view></view><view class="home-bg"><image src="https://pages.c-ctrip.com/you/livestream/lvpai_home_bg_waterfall.jpg" mode="aspectFill"></image></view><scroll-view scroll-x class="scroll-view swan-spider-tap" scroll-left="{= scrollLeft =}" scroll-with-animation="true" on-bindscroll="eventHappen(\'scroll\', $event, \'waterTabscroll\', \'\', \'bind\')"><view class="home-watertab"><template s-for="item, index in waterTabs" s-key="{{index}}"><view class="watertab-item {{ currentWaterTab == index ? \'active\' : \'\'}} swan-spider-tap" id="waterTab{{index}}" data-current="{{index}}" data-code="{{item.code}}" data-type="{{item.type}}" data-name="{{item.name}}" on-bindtap="eventHappen(\'tap\', $event, \'waterTabChange\', \'\', \'bind\')"><text >{{item.name}}</text></view></template></view></scroll-view><scroll-view scroll-y class="home-content swan-spider-tap" style=\'height:{{waterfallListHeight}}px;\' scroll-with-animation="true" lower-threshold="50" on-bindscrolltolower="eventHappen(\'scrolltolower\', $event, \'getListMore\', \'\', \'bind\')" on-bindscroll="eventHappen(\'scroll\', $event, \'waterfallscroll\', \'\', \'bind\')"><view class="waterfall-content {{isFeedTab ? \'bgWhite\' : \'\' }}"><template s-if="isFeedTab && feedList && feedList.length"><template-40829d5f data="{{{feedList}}}" data-origin-name="feedList"></template-40829d5f></template><template s-else><template-911b1ca4 data="{{{waterfallLeftList,waterfallRightList}}}" data-origin-name="waterfall"></template-911b1ca4></template></view><template s-if="loadingState == 1"><view class="loading"><text >加载中</text></view></template><template s-if="loadingState == 2"><view class="bottom-notice"><view class="p"><view class="em"><text >已经到底了哟</text></view></view></view></template><template s-if="errState == 1 || errState == 2"><template s-if="errState == 1 && isFeedTab"><view class="error-msg"><view class="followtext">最近无好友动态哦</view></view></template><template s-else><view class="error-msg"><template s-if="examineText.img"><image src="{{examineText.img}}" mode="aspectFill" /></template><template s-if="examineText.emptydiv"><view class="err-emptydiv"></view></template><view class="text">{{examineText.text}}</view><template s-if="examineText.btn"><view class="err-btn swan-spider-tap" on-bindtap="eventHappen(\'tap\', $event, \'refreshList\', \'\', \'bind\')">刷新重试</view></template></view></template></template></scroll-view></view>',isComponent:!1,componentPath:"pages/tripshoot/home/home.swan",customComponentCss:[],createTemplateComponent:createTemplateComponent,filters:Object.assign({},filtersObj),initialFilters:filterCustomArr,pageModules:modules,extProperties:{_smartJs:smartJsMap}}}));