window.renderPage=function(e){function n(e){return new Promise((function(n,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=function(){n()},o.onerror=t,document.head.appendChild(o)}))}var t=window.require(e),o=window.componentFactory,s=o.getAllComponents(),r=t.componentUsingComponentMap,m=t.isComponent,c=t.template;m&&(c="<custom-component></custom-component>",(r={})[t.componentPath]=["custom-component"]);var a=t.initialFilters,p=t.pageModules,i=!!Object.keys(r).length;Promise.resolve().then((function(){if(!i)return{customComponents:{},pageTemplateComponents:t.createTemplateComponent(s)};var e=window.pageInfo.appPath,m=Object.create(null),c=Object.create(null),a=0,p={},u=function(e){var n=Object.create(null);return Object.keys(e).forEach((function(t){var r=e[t],m=window.require(t);if(p[t]||(p[t]=m.size||0),Object.keys(m.componentUsingComponentMap).length){if(!c[t]){c[t]={};var i=u(m.componentUsingComponentMap);Object.assign(c[t],i)}}else c[t]={};var l=m.createTemplateComponent(Object.assign(s,c[t]));r.forEach((function(e){var r="swan-"+e,p="components/"+e+"/"+e+a++;!function(e,n){var t=document.querySelectorAll("style");if(!Array.from(t).map((function(e){return e.getAttribute("_from")})).includes(e)&&""!==n.trim()){var o=document.createElement("style");o.setAttribute("_from",e),o.innerHTML=n,document.head.appendChild(o)}}(p,o.translateAllCustomImportCss(m.customComponentCss,e)),o.componentDefine(p,Object.assign({},o.getProtos("super-custom-component"),{template:"<"+r+">"+m.template+"</"+r+">",componentPath:m.componentPath,componentName:e,componentUniqueName:p,customComponentCss:""}),{classProperties:{components:Object.assign(c[t],s,l),filters:Object.assign({},m.filters)}}),n[e]=o.getComponents(p)}))})),n};return Promise.all([n(e+"/allImportedCssContent.js"),n(e+"/allCusomComponents.swan.js")]).then((function(){var e=u(r),n=0,o=Object.keys(p).reduce((function(e,t){return e+=parseInt(p[t],10),n+=1,e}),0);return Object.assign(m,s,e),{pageTemplateComponents:t.createTemplateComponent(m),customComponents:e,customComponentsSizeInfo:{allCustomComponentsSize:o,allCustomComponentsNum:n}}}))})).then((function(e){window.pageRender(c,e.pageTemplateComponents,e.customComponents,a,p,"newTemplate",e.customComponentsSizeInfo)})).catch((function(e){throw window.errorMsg.execError=e,e}))};